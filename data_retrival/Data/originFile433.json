{"items":[{"tags":["java","maven","thymeleaf"],"comments":[{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1684173652,"post_id":76256715,"comment_id":134475555,"body_markdown":"keep empty body `&lt;body&gt;&lt;/body&gt;` and check if there is any issue.","body":"keep empty body <code>&lt;body&gt;&lt;&#47;body&gt;</code> and check if there is any issue."},{"owner":{"account_id":28607158,"reputation":11,"user_id":21902876,"display_name":"kledek"},"score":0,"creation_date":1684174308,"post_id":76256715,"comment_id":134475678,"body_markdown":"@ChetanAhirrao didn&#39;t work. still got the same error","body":"@ChetanAhirrao didn&#39;t work. still got the same error"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684175430,"creation_date":1684175430,"answer_id":76257021,"question_id":76256715,"body_markdown":"I would use the newest versions of the frameworks:\r\n\r\n- jakarta.servlet-api 6.0.0 (instead of outdated javax.servlet-api from 2018)\r\n- thymeleaf 3.1.1.RELEASE\r\n- ogn 3.3.4","title":"problem running webpage with thymeleaf without springboot","body":"<p>I would use the newest versions of the frameworks:</p>\n<ul>\n<li>jakarta.servlet-api 6.0.0 (instead of outdated javax.servlet-api from 2018)</li>\n<li>thymeleaf 3.1.1.RELEASE</li>\n<li>ogn 3.3.4</li>\n</ul>\n"}],"owner":{"account_id":28607158,"reputation":11,"user_id":21902876,"display_name":"kledek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684175430,"creation_date":1684172928,"question_id":76256715,"body_markdown":"I am building a webshop for a class assignment using maven. Currently I am trying to create a &quot;genreOverview&quot; page that displays books based on the genre picked by the user using thymeleaf WITHOUT SPRING. But when i start the server and try to run the page, i get the error:\r\n\r\n\r\n```\r\n[/WebShop23Maven_war_exploded] threw exception [Servlet execution threw an exception] with root cause\r\n\tjava.lang.NoClassDefFoundError: Could not initialize class org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator\r\n\t\tat org.thymeleaf.standard.StandardDialect.getVariableExpressionEvaluator(StandardDialect.java:179)\r\n\t\tat org.thymeleaf.standard.StandardDialect.getExecutionAttributes(StandardDialect.java:393)\r\n\t\tat org.thymeleaf.DialectSetConfiguration.build(DialectSetConfiguration.java:263)\r\n\t\tat org.thymeleaf.EngineConfiguration.&lt;init&gt;(EngineConfiguration.java:123)\r\n\t\tat org.thymeleaf.TemplateEngine.initialize(TemplateEngine.java:336)\r\n\t\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1079)\r\n\t\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1067)\r\n\t\tat org.chaotec.servlets.GenreOverview.doGet(GenreOverview.java:34)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.tomee.catalina.OpenEJBValve.invoke(OpenEJBValve.java:45)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.tomee.catalina.OpenEJBSecurityListener$RequestCapturer.invoke(OpenEJBSecurityListener.java:97)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nthis is the thymeleafConfig:\r\n\r\n\r\n```\r\npackage org.chaotec.thymeleaf;\r\n\r\nimport org.thymeleaf.TemplateEngine;\r\n\r\nimport javax.servlet.ServletContext;\r\nimport javax.servlet.ServletContextEvent;\r\nimport javax.servlet.ServletContextListener;\r\nimport javax.servlet.annotation.WebListener;\r\nimport org.thymeleaf.templatemode.TemplateMode;\r\nimport org.thymeleaf.templateresolver.ITemplateResolver;\r\nimport org.thymeleaf.templateresolver.ServletContextTemplateResolver;\r\n\r\nimport java.util.logging.Logger;\r\n\r\n@WebListener\r\npublic class ThymeleafConfig implements ServletContextListener {\r\n    private static final Logger log = Logger.getLogger(ThymeleafConfig.class.getName());\r\n    private static TemplateEngine engine;\r\n\r\n    @Override\r\n    public void contextInitialized(ServletContextEvent sce) {\r\n        /* This method is called when the servlet context is initialized(when the Web application is deployed). */\r\n        log.info(&quot;Anwendung gestartet.&quot;);\r\n        log.info(sce.getServletContext().getServerInfo());\r\n        engine = templateEngine(sce.getServletContext());\r\n    }\r\n\r\n\r\n    @Override\r\n    public void contextDestroyed(ServletContextEvent sce) {\r\n        /* This method is called when the servlet Context is undeployed or Application Server shuts down. */\r\n    }\r\n    public static TemplateEngine getTemplateEngine() {\r\n        return engine;\r\n    }\r\n\r\n    \r\n    private TemplateEngine templateEngine(ServletContext servletContext) {\r\n        TemplateEngine engine = new TemplateEngine();\r\n        engine.setTemplateResolver(templateResolver(servletContext));\r\n        return engine;\r\n    }\r\n    \r\n    private ITemplateResolver templateResolver(ServletContext servletContext) {\r\n        ServletContextTemplateResolver resolver = new ServletContextTemplateResolver(servletContext);\r\n        resolver.setPrefix(&quot;/WEB-INF/templates/&quot;);\r\n        resolver.setTemplateMode(TemplateMode.HTML);\r\n        return resolver;\r\n    }\r\n}\r\n\r\n```\r\nthis is my servlet (the code is not what the genreOverview should be, but an example that i use when i first learned about thymeleaf):\r\n\r\n\r\n```\r\npackage org.chaotec.servlets;\r\n\r\nimport org.chaotec.backend.Book;\r\nimport org.chaotec.database.Database;\r\nimport org.chaotec.thymeleaf.ThymeleafConfig;\r\nimport org.thymeleaf.TemplateEngine;\r\nimport org.thymeleaf.context.WebContext;\r\n\r\n\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@WebServlet(name = &quot;GenreOverview&quot;, value = &quot;/genreOverview&quot;)\r\npublic class GenreOverview extends HttpServlet {\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n        TemplateEngine engine = ThymeleafConfig.getTemplateEngine();\r\n        WebContext context = new WebContext(request, response, request.getServletContext());\r\n        response.setCharacterEncoding(&quot;UTF-8&quot;);\r\n\r\n\r\n        context.setVariable(&quot;recipient&quot;, &quot;World&quot;);\r\n        List&lt;String&gt; staedte = new ArrayList&lt;&gt;();\r\n        staedte.add(&quot;Emden&quot;); staedte.add(&quot;Leer&quot;); staedte.add(&quot;Aurich&quot;);\r\n        context.setVariable(&quot;staedte&quot;, staedte);\r\n        context.setVariable(&quot;modul&quot;,\r\n                request.getServletContext().getInitParameter(&quot;modul&quot;));\r\n        engine.process(&quot;genreOverview.html&quot;, context, response.getWriter());\r\n    }\r\n}\r\n```\r\n\r\nand this is the genreOverview.html (also not the actual genreOverview page, just the example):\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Title&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;h1&gt;Hello &lt;span th:text=&quot;${recipient}&quot;&gt;Peter&lt;/span&gt;!!!&lt;/h1&gt;\r\n    &lt;h2&gt;Modul &lt;span th:text=&quot;${modul}&quot;&gt;Java&lt;/span&gt;&lt;/h2&gt;\r\n    &lt;ul&gt;\r\n        &lt;li th:each=&quot;stadt : ${staedte}&quot; th:text=&quot;${stadt}&quot;&gt;Berlin&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nthis is my pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.chaotec&lt;/groupId&gt;\r\n    &lt;artifactId&gt;WebShop23Maven&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\r\n            &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\r\n            &lt;version&gt;12.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.15.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.opencsv/opencsv --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ognl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ognl&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.26&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nthe original error i got was actually &quot;java.lang.NoClassDefFoundError: ognl/PropertyAccessor&quot; but then i added the ognl dependancy i am currently stuck with this error. I&#39;ve tried rerunning a clean build to even making a 1-to-1 copy of a new project but still nothing works. I only want to solve this error so i can see what my output looks like and start working on the actual page display","title":"problem running webpage with thymeleaf without springboot","body":"<p>I am building a webshop for a class assignment using maven. Currently I am trying to create a &quot;genreOverview&quot; page that displays books based on the genre picked by the user using thymeleaf WITHOUT SPRING. But when i start the server and try to run the page, i get the error:</p>\n<pre><code>[/WebShop23Maven_war_exploded] threw exception [Servlet execution threw an exception] with root cause\n    java.lang.NoClassDefFoundError: Could not initialize class org.thymeleaf.standard.expression.OGNLVariableExpressionEvaluator\n        at org.thymeleaf.standard.StandardDialect.getVariableExpressionEvaluator(StandardDialect.java:179)\n        at org.thymeleaf.standard.StandardDialect.getExecutionAttributes(StandardDialect.java:393)\n        at org.thymeleaf.DialectSetConfiguration.build(DialectSetConfiguration.java:263)\n        at org.thymeleaf.EngineConfiguration.&lt;init&gt;(EngineConfiguration.java:123)\n        at org.thymeleaf.TemplateEngine.initialize(TemplateEngine.java:336)\n        at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1079)\n        at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1067)\n        at org.chaotec.servlets.GenreOverview.doGet(GenreOverview.java:34)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.tomee.catalina.OpenEJBValve.invoke(OpenEJBValve.java:45)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.tomee.catalina.OpenEJBSecurityListener$RequestCapturer.invoke(OpenEJBSecurityListener.java:97)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>this is the thymeleafConfig:</p>\n<pre><code>package org.chaotec.thymeleaf;\n\nimport org.thymeleaf.TemplateEngine;\n\nimport javax.servlet.ServletContext;\nimport javax.servlet.ServletContextEvent;\nimport javax.servlet.ServletContextListener;\nimport javax.servlet.annotation.WebListener;\nimport org.thymeleaf.templatemode.TemplateMode;\nimport org.thymeleaf.templateresolver.ITemplateResolver;\nimport org.thymeleaf.templateresolver.ServletContextTemplateResolver;\n\nimport java.util.logging.Logger;\n\n@WebListener\npublic class ThymeleafConfig implements ServletContextListener {\n    private static final Logger log = Logger.getLogger(ThymeleafConfig.class.getName());\n    private static TemplateEngine engine;\n\n    @Override\n    public void contextInitialized(ServletContextEvent sce) {\n        /* This method is called when the servlet context is initialized(when the Web application is deployed). */\n        log.info(&quot;Anwendung gestartet.&quot;);\n        log.info(sce.getServletContext().getServerInfo());\n        engine = templateEngine(sce.getServletContext());\n    }\n\n\n    @Override\n    public void contextDestroyed(ServletContextEvent sce) {\n        /* This method is called when the servlet Context is undeployed or Application Server shuts down. */\n    }\n    public static TemplateEngine getTemplateEngine() {\n        return engine;\n    }\n\n    \n    private TemplateEngine templateEngine(ServletContext servletContext) {\n        TemplateEngine engine = new TemplateEngine();\n        engine.setTemplateResolver(templateResolver(servletContext));\n        return engine;\n    }\n    \n    private ITemplateResolver templateResolver(ServletContext servletContext) {\n        ServletContextTemplateResolver resolver = new ServletContextTemplateResolver(servletContext);\n        resolver.setPrefix(&quot;/WEB-INF/templates/&quot;);\n        resolver.setTemplateMode(TemplateMode.HTML);\n        return resolver;\n    }\n}\n\n</code></pre>\n<p>this is my servlet (the code is not what the genreOverview should be, but an example that i use when i first learned about thymeleaf):</p>\n<pre><code>package org.chaotec.servlets;\n\nimport org.chaotec.backend.Book;\nimport org.chaotec.database.Database;\nimport org.chaotec.thymeleaf.ThymeleafConfig;\nimport org.thymeleaf.TemplateEngine;\nimport org.thymeleaf.context.WebContext;\n\n\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@WebServlet(name = &quot;GenreOverview&quot;, value = &quot;/genreOverview&quot;)\npublic class GenreOverview extends HttpServlet {\n\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\n        TemplateEngine engine = ThymeleafConfig.getTemplateEngine();\n        WebContext context = new WebContext(request, response, request.getServletContext());\n        response.setCharacterEncoding(&quot;UTF-8&quot;);\n\n\n        context.setVariable(&quot;recipient&quot;, &quot;World&quot;);\n        List&lt;String&gt; staedte = new ArrayList&lt;&gt;();\n        staedte.add(&quot;Emden&quot;); staedte.add(&quot;Leer&quot;); staedte.add(&quot;Aurich&quot;);\n        context.setVariable(&quot;staedte&quot;, staedte);\n        context.setVariable(&quot;modul&quot;,\n                request.getServletContext().getInitParameter(&quot;modul&quot;));\n        engine.process(&quot;genreOverview.html&quot;, context, response.getWriter());\n    }\n}\n</code></pre>\n<p>and this is the genreOverview.html (also not the actual genreOverview page, just the example):</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Hello &lt;span th:text=&quot;${recipient}&quot;&gt;Peter&lt;/span&gt;!!!&lt;/h1&gt;\n    &lt;h2&gt;Modul &lt;span th:text=&quot;${modul}&quot;&gt;Java&lt;/span&gt;&lt;/h2&gt;\n    &lt;ul&gt;\n        &lt;li th:each=&quot;stadt : ${staedte}&quot; th:text=&quot;${stadt}&quot;&gt;Berlin&lt;/li&gt;\n    &lt;/ul&gt;\n\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>this is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.chaotec&lt;/groupId&gt;\n    &lt;artifactId&gt;WebShop23Maven&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\n            &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\n            &lt;version&gt;12.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\n            &lt;version&gt;3.0.15.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.opencsv/opencsv --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n            &lt;version&gt;5.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;ognl&lt;/groupId&gt;\n            &lt;artifactId&gt;ognl&lt;/artifactId&gt;\n            &lt;version&gt;3.1.26&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n    &lt;/dependencies&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>the original error i got was actually &quot;java.lang.NoClassDefFoundError: ognl/PropertyAccessor&quot; but then i added the ognl dependancy i am currently stuck with this error. I've tried rerunning a clean build to even making a 1-to-1 copy of a new project but still nothing works. I only want to solve this error so i can see what my output looks like and start working on the actual page display</p>\n"},{"tags":["java","json","spring","postgresql","jdb"],"comments":[{"owner":{"account_id":2064333,"reputation":113,"user_id":1840185,"display_name":"Viktor Reinok"},"score":0,"creation_date":1684175260,"post_id":76256832,"comment_id":134475863,"body_markdown":"Could you elaborate on why exactly you need a string representation of students?","body":"Could you elaborate on why exactly you need a string representation of students?"},{"owner":{"account_id":28607229,"reputation":1,"user_id":21902930,"display_name":"Obai Mohammad"},"score":0,"creation_date":1684269477,"post_id":76256832,"comment_id":134493129,"body_markdown":"The idea is to send it back to the front end. What do you suggest","body":"The idea is to send it back to the front end. What do you suggest"}],"answers":[{"tags":[],"owner":{"account_id":2064333,"reputation":113,"user_id":1840185,"display_name":"Viktor Reinok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684175229,"creation_date":1684175229,"answer_id":76257000,"question_id":76256832,"body_markdown":" 1. I would try to create Entity aka. DBO for student instead of Returning JSONObject. \r\n 2. Use ObjectMapper that returns a string JSON representation.\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();   String studentsJSON\r\n    = objectMapper.writeValueAsString(students);\r\n\r\n","title":"spring native query call a function that returns a json","body":"<ol>\n<li><p>I would try to create Entity aka. DBO for student instead of Returning JSONObject.</p>\n</li>\n<li><p>Use ObjectMapper that returns a string JSON representation.</p>\n<p>ObjectMapper objectMapper = new ObjectMapper();   String studentsJSON\n= objectMapper.writeValueAsString(students);</p>\n</li>\n</ol>\n"}],"owner":{"account_id":28607229,"reputation":1,"user_id":21902930,"display_name":"Obai Mohammad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684175229,"creation_date":1684173733,"question_id":76256832,"body_markdown":"I am new to java and I am trying to call a function that returns a json object, However the java method returns a String. \r\n\r\nIs there a way  in postrgres to convert Json to VARCHAR, or in java to vonvert JSONObject to a json String\r\n```\r\n@Repository\r\npublic interface CourseRepository extends JpaRepository&lt;Course, Long&gt; {\r\n    @Query(value = &quot;select* from get_enrolled_courses(:id);&quot;, nativeQuery = true)\r\n    JSONObject getStudents(@Param(&quot;id&quot;) int courseId);\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n`    \r\n@Service\r\npublic class CourseServices {\r\npublic JSONObject getEnrolledStudentsLight(int id){\r\n\r\n        return repository.getStudents(id);\r\n    }`\r\n}\r\n```\r\n\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v2/courses&quot;)\r\npublic class CourseController {\r\n    @GetMapping (&quot;/{courseId}/students/light&quot;)\r\n    public String getEnrolledStudentsLight (@PathVariable int courseId ){\r\n        return service.getEnrolledStudentsLight(courseId).toJSONString();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI tried toJSONString() but the out put is key:value String and I only want the values as string just like the out put from the database\r\n\r\n\r\n```\r\ncreate or replace  FUNCTION get_enrolled_courses (student_id int)\r\n    RETURNS  varchar\r\n    LANGUAGE plpgsql\r\nAs $$\r\nDECLARE s_id INTEGER;\r\nbegin\r\n    select student_id into s_id;\r\n    return (select COALESCE(array_to_json(array_agg(row_to_json(t)) ),&#39;[]&#39;::json)\r\n            from (\r\n                     select c.id,c.title,c.credits,c.updated_at,c.created_at\r\n                     from course_student cs join courses c on c.id = cs.course_id\r\n                     where cs.student_id = s_id\r\n                 ) t);\r\nend;\r\n$$;\r\n\r\n```\r\n\r\nthe output of the DB is : [\r\n  {\r\n    &quot;id&quot;: 14,\r\n    &quot;title&quot;: &quot;Intoduction to computer scince&quot;,\r\n    &quot;credits&quot;: 9,\r\n    &quot;updated_at&quot;: &quot;2023-05-05T20:56:58.160225&quot;,\r\n    &quot;created_at&quot;: &quot;2023-05-05T20:56:58.160225&quot;\r\n  },\r\n  {\r\n    &quot;id&quot;: 18,\r\n    &quot;title&quot;: &quot;Data Base 2&quot;,\r\n    &quot;credits&quot;: 12,\r\n    &quot;updated_at&quot;: &quot;2023-05-05T20:57:20.064462&quot;,\r\n    &quot;created_at&quot;: &quot;2023-05-05T20:57:20.064462&quot;\r\n  },\r\n  {\r\n    &quot;id&quot;: 19,\r\n    &quot;title&quot;: &quot;Signal and Systems&quot;,\r\n    &quot;credits&quot;: 9,\r\n    &quot;updated_at&quot;: &quot;2023-05-05T20:57:20.066494&quot;,\r\n    &quot;created_at&quot;: &quot;2023-05-05T20:57:20.066494&quot;\r\n  }\r\n]\r\n\r\nany suggestions?\r\n","title":"spring native query call a function that returns a json","body":"<p>I am new to java and I am trying to call a function that returns a json object, However the java method returns a String.</p>\n<p>Is there a way  in postrgres to convert Json to VARCHAR, or in java to vonvert JSONObject to a json String</p>\n<pre><code>@Repository\npublic interface CourseRepository extends JpaRepository&lt;Course, Long&gt; {\n    @Query(value = &quot;select* from get_enrolled_courses(:id);&quot;, nativeQuery = true)\n    JSONObject getStudents(@Param(&quot;id&quot;) int courseId);\n\n\n}\n</code></pre>\n<pre><code>`    \n@Service\npublic class CourseServices {\npublic JSONObject getEnrolledStudentsLight(int id){\n\n        return repository.getStudents(id);\n    }`\n}\n</code></pre>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v2/courses&quot;)\npublic class CourseController {\n    @GetMapping (&quot;/{courseId}/students/light&quot;)\n    public String getEnrolledStudentsLight (@PathVariable int courseId ){\n        return service.getEnrolledStudentsLight(courseId).toJSONString();\n    }\n\n}\n\n</code></pre>\n<p>I tried toJSONString() but the out put is key:value String and I only want the values as string just like the out put from the database</p>\n<pre><code>create or replace  FUNCTION get_enrolled_courses (student_id int)\n    RETURNS  varchar\n    LANGUAGE plpgsql\nAs $$\nDECLARE s_id INTEGER;\nbegin\n    select student_id into s_id;\n    return (select COALESCE(array_to_json(array_agg(row_to_json(t)) ),'[]'::json)\n            from (\n                     select c.id,c.title,c.credits,c.updated_at,c.created_at\n                     from course_student cs join courses c on c.id = cs.course_id\n                     where cs.student_id = s_id\n                 ) t);\nend;\n$$;\n\n</code></pre>\n<p>the output of the DB is : [\n{\n&quot;id&quot;: 14,\n&quot;title&quot;: &quot;Intoduction to computer scince&quot;,\n&quot;credits&quot;: 9,\n&quot;updated_at&quot;: &quot;2023-05-05T20:56:58.160225&quot;,\n&quot;created_at&quot;: &quot;2023-05-05T20:56:58.160225&quot;\n},\n{\n&quot;id&quot;: 18,\n&quot;title&quot;: &quot;Data Base 2&quot;,\n&quot;credits&quot;: 12,\n&quot;updated_at&quot;: &quot;2023-05-05T20:57:20.064462&quot;,\n&quot;created_at&quot;: &quot;2023-05-05T20:57:20.064462&quot;\n},\n{\n&quot;id&quot;: 19,\n&quot;title&quot;: &quot;Signal and Systems&quot;,\n&quot;credits&quot;: 9,\n&quot;updated_at&quot;: &quot;2023-05-05T20:57:20.066494&quot;,\n&quot;created_at&quot;: &quot;2023-05-05T20:57:20.066494&quot;\n}\n]</p>\n<p>any suggestions?</p>\n"},{"tags":["java","flutter","kotlin","dart"],"owner":{"account_id":18400866,"reputation":1,"user_id":13403975,"display_name":"Muhammad Ismail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684173521,"creation_date":1684173521,"question_id":76256800,"body_markdown":"When I add any dependancy in my flutter project and it resolve dependancy completely no error \r\nbut when I run the app it give this error \r\nLaunching lib\\main.dart on Android SDK built for x86 in debug mode...\r\nRunning Gradle task &#39;assembleDebug&#39;...\r\n[Fatal Error] kotlin-stdlib-jdk7-1.5.30.pom:2:1: Content is not allowed in prolog.\r\n[Fatal Error] kotlin-stdlib-jdk7-1.5.30.pom:2:1: Content is not allowed in prolog.\r\n[Fatal Error] kotlin-stdlib-jdk7-1.5.30.pom:2:1: Content is not allowed in prolog.\r\n[Fatal Error] kotlin-stdlib-jdk7-1.5.30.pom:2:1: Content is not allowed in prolog.\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:shared_preferences_android:generateDebugRFile&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:shared_preferences_android:debugCompileClasspath&#39;.\r\n   &gt; Could not resolve org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.5.30.\r\n     Required by:\r\n         project :shared_preferences_android &gt; org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.5.30\r\n      &gt; Could not resolve org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.5.30.\r\n         &gt; Could not parse POM https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-stdlib-jdk7/1.5.30/kotlin-stdlib-jdk7-1.5.30.pom\r\n            &gt; Content is not allowed in prolog.\r\n      &gt; Could not resolve org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.5.30.\r\n         &gt; Could not parse POM https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-stdlib-jdk7/1.5.30/kotlin-stdlib-jdk7-1.5.30.pom\r\n            &gt; Content is not allowed in prolog.\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 1m\r\nException: Gradle task assembleDebug failed with exit code 1\r\n\r\n\r\nPlease help me to resolve such an error ","title":"Flutter &quot;[Fatal Error] kotlin-stdlib-jdk7-1.5.30.pom:2:1: Content is not allowed in prolog.&quot; Error","body":"<p>When I add any dependancy in my flutter project and it resolve dependancy completely no error\nbut when I run the app it give this error\nLaunching lib\\main.dart on Android SDK built for x86 in debug mode...\nRunning Gradle task 'assembleDebug'...\n[Fatal Error] kotlin-stdlib-jdk7-1.5.30.pom:2:1: Content is not allowed in prolog.\n[Fatal Error] kotlin-stdlib-jdk7-1.5.30.pom:2:1: Content is not allowed in prolog.\n[Fatal Error] kotlin-stdlib-jdk7-1.5.30.pom:2:1: Content is not allowed in prolog.\n[Fatal Error] kotlin-stdlib-jdk7-1.5.30.pom:2:1: Content is not allowed in prolog.</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':shared_preferences_android:generateDebugRFile'.</li>\n</ul>\n<blockquote>\n<p>Could not resolve all files for configuration ':shared_preferences_android:debugCompileClasspath'.\nCould not resolve org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.5.30.\nRequired by:\nproject :shared_preferences_android &gt; org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.5.30\n&gt; Could not resolve org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.5.30.\n&gt; Could not parse POM <a href=\"https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-stdlib-jdk7/1.5.30/kotlin-stdlib-jdk7-1.5.30.pom\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-stdlib-jdk7/1.5.30/kotlin-stdlib-jdk7-1.5.30.pom</a>\n&gt; Content is not allowed in prolog.\n&gt; Could not resolve org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.5.30.\n&gt; Could not parse POM <a href=\"https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-stdlib-jdk7/1.5.30/kotlin-stdlib-jdk7-1.5.30.pom\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/org/jetbrains/kotlin/kotlin-stdlib-jdk7/1.5.30/kotlin-stdlib-jdk7-1.5.30.pom</a>\n&gt; Content is not allowed in prolog.</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>BUILD FAILED in 1m\nException: Gradle task assembleDebug failed with exit code 1</p>\n<p>Please help me to resolve such an error</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":1439380,"reputation":15777,"user_id":1750757,"accept_rate":83,"display_name":"VP."},"score":1,"creation_date":1438077818,"post_id":31672897,"comment_id":51288679,"body_markdown":"Why is not it working? Where is the problem? Maybe some debugger use? Or error status of some function call ? What have you tried in order to fix the problem?","body":"Why is not it working? Where is the problem? Maybe some debugger use? Or error status of some function call ? What have you tried in order to fix the problem?"},{"owner":{"account_id":6696382,"reputation":41,"user_id":5164273,"display_name":"Vinod Kumar"},"score":1,"creation_date":1438077942,"post_id":31672897,"comment_id":51288755,"body_markdown":"Actually when I click a button, pdf should be downloaded automatically, In previous browser versions it works properly. My browser was updated and the pdf is opening instead of downloading","body":"Actually when I click a button, pdf should be downloaded automatically, In previous browser versions it works properly. My browser was updated and the pdf is opening instead of downloading"}],"answers":[{"tags":[],"owner":{"account_id":6305239,"reputation":389,"user_id":4898493,"accept_rate":75,"display_name":"fahad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438084302,"creation_date":1438083991,"answer_id":31675388,"question_id":31672897,"body_markdown":"Are you using Adobe Acrobat/Adobe Reader to display the PDFs? If so, it is probably Abode&#39;s behavior you need to modify.\r\n\r\nHere are the steps I had to take:\r\n\r\n 1. Open Adobe Reader\r\n 2. Edit menu, Preferences\r\n 3. Selcet Internet from the Categories list\r\n 4. Uncheck Display PDF in browser\r\n 5. Press OK\r\n\r\nyou can also disable the Adobe plugin in Chrome, which will force Chrome to download the PDF.\r\n\r\nIt&#39;s under chrome://plugins.\r\n\r\nbut as you said its latest chrome browser then check is chrome PDF view visible in plugin if Yes disable it too. \r\n\r\n - Disable &quot;Chrome PDF Viewer&quot; or unmark always allowed to run check box try both \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/RcHeo.png","title":"How to download a pdf file in chrome using selenium webdriver","body":"<p>Are you using Adobe Acrobat/Adobe Reader to display the PDFs? If so, it is probably Abode's behavior you need to modify.</p>\n\n<p>Here are the steps I had to take:</p>\n\n<ol>\n<li>Open Adobe Reader</li>\n<li>Edit menu, Preferences</li>\n<li>Selcet Internet from the Categories list</li>\n<li>Uncheck Display PDF in browser</li>\n<li>Press OK</li>\n</ol>\n\n<p>you can also disable the Adobe plugin in Chrome, which will force Chrome to download the PDF.</p>\n\n<p>It's under chrome://plugins.</p>\n\n<p>but as you said its latest chrome browser then check is chrome PDF view visible in plugin if Yes disable it too. </p>\n\n<ul>\n<li>Disable \"Chrome PDF Viewer\" or unmark always allowed to run check box try both </li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/RcHeo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RcHeo.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4446214,"reputation":2261,"user_id":3619412,"display_name":"Manu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438086865,"creation_date":1438086865,"answer_id":31676486,"question_id":31672897,"body_markdown":"You would need to add below statement to your chrome profile:\r\n\r\n    chromePrefs.put(&quot;pdfjs.disabled&quot;, true);\r\n\r\nIt seems that newer versions of browsers are coming with built-in ability of displaying PDF files inside browser. Refer [this][1] for more information, though it is for firefox profile but still a good read.\r\n\r\nHope that solves your issue, else you may need to downgrade your chrome to make it work. Let me know if you have any queries.\r\n\r\n  [1]: http://yizeng.me/2014/05/23/download-pdf-files-automatically-in-firefox-using-selenium-webdriver/","title":"How to download a pdf file in chrome using selenium webdriver","body":"<p>You would need to add below statement to your chrome profile:</p>\n\n<pre><code>chromePrefs.put(\"pdfjs.disabled\", true);\n</code></pre>\n\n<p>It seems that newer versions of browsers are coming with built-in ability of displaying PDF files inside browser. Refer <a href=\"http://yizeng.me/2014/05/23/download-pdf-files-automatically-in-firefox-using-selenium-webdriver/\" rel=\"nofollow\">this</a> for more information, though it is for firefox profile but still a good read.</p>\n\n<p>Hope that solves your issue, else you may need to downgrade your chrome to make it work. Let me know if you have any queries.</p>\n"},{"tags":[],"owner":{"account_id":472176,"reputation":1686,"user_id":880498,"display_name":"rogercampos"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1494940091,"creation_date":1494940091,"answer_id":44002391,"question_id":31672897,"body_markdown":"Since chrome 57 the automatic pdf preview no longer works as a plugin, there&#39;s now a setting you can change to make this work. You can actually inspect the name of the pref by inspecting the chrome&#39;s own preference dialog, under &quot;Content Settings&quot; the flag that says &quot;Open PDF files in the default PDF viewer application.&quot;\r\n[![automatic pdf open pref][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QeoFb.png\r\n\r\nYou can set that to false to avoid automatic pdf preview, like this (ruby example):\r\n\r\n    caps = Selenium::WebDriver::Remote::Capabilities.chrome(\r\n            &quot;chromeOptions&quot; =&gt; {           \r\n                &#39;args&#39; =&gt; [&#39;disable-gpu&#39;, &quot;--window-size=1920,1080&quot;],\r\n                prefs: {\r\n                    &quot;download.prompt_for_download&quot;: false,\r\n                    &quot;download.directory_upgrade&quot;: true,\r\n                    &quot;plugins.always_open_pdf_externally&quot;: true,\r\n                    &quot;download.default_directory&quot;: DownloadHelpers::PATH.to_s\r\n                }\r\n            }\r\n        )\r\n    Capybara::Selenium::Driver.new(\r\n            app,\r\n            browser: :chrome,\r\n            desired_capabilities: caps\r\n        )","title":"How to download a pdf file in chrome using selenium webdriver","body":"<p>Since chrome 57 the automatic pdf preview no longer works as a plugin, there's now a setting you can change to make this work. You can actually inspect the name of the pref by inspecting the chrome's own preference dialog, under \"Content Settings\" the flag that says \"Open PDF files in the default PDF viewer application.\"\n<a href=\"https://i.stack.imgur.com/QeoFb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/QeoFb.png\" alt=\"automatic pdf open pref\"></a></p>\n\n<p>You can set that to false to avoid automatic pdf preview, like this (ruby example):</p>\n\n<pre><code>caps = Selenium::WebDriver::Remote::Capabilities.chrome(\n        \"chromeOptions\" =&gt; {           \n            'args' =&gt; ['disable-gpu', \"--window-size=1920,1080\"],\n            prefs: {\n                \"download.prompt_for_download\": false,\n                \"download.directory_upgrade\": true,\n                \"plugins.always_open_pdf_externally\": true,\n                \"download.default_directory\": DownloadHelpers::PATH.to_s\n            }\n        }\n    )\nCapybara::Selenium::Driver.new(\n        app,\n        browser: :chrome,\n        desired_capabilities: caps\n    )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8694495,"reputation":115,"user_id":6506387,"display_name":"Arash Vahabpour"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1503354304,"creation_date":1503352815,"answer_id":45806123,"question_id":31672897,"body_markdown":"You might load this page and change the setting using selenium navigations:\r\n\r\n    chrome://settings/content/pdfDocuments\r\n\r\n","title":"How to download a pdf file in chrome using selenium webdriver","body":"<p>You might load this page and change the setting using selenium navigations:</p>\n\n<pre><code>chrome://settings/content/pdfDocuments\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1557350,"reputation":141,"user_id":1448034,"display_name":"windchaser"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1572298539,"creation_date":1572298539,"answer_id":58598697,"question_id":31672897,"body_markdown":"Here are the C# options for anyone working with .NET\r\n\r\n\tvar tsTimeout = new TimeSpan(0, 5, 0);\r\n\r\n\tChromeOptions chromeOptions = new ChromeOptions(); \r\n\tchromeOptions.AddUserProfilePreference(&quot;download.default_directory&quot;, _downloadFolder); \r\n\tchromeOptions.AddUserProfilePreference(&quot;download.prompt_for_download&quot;, false); \r\n\tchromeOptions.AddUserProfilePreference(&quot;download.directory_upgrade&quot;, true); \r\n\tchromeOptions.AddUserProfilePreference(&quot;plugins.plugins_disabled&quot;, &quot;Chrome PDF Viewer&quot;); \r\n\tchromeOptions.AddUserProfilePreference(&quot;plugins.always_open_pdf_externally&quot;, true);\r\n\r\n\t_driver = new ChromeDriver(CWebCrawler.WebCrawlerRootFolder, chromeOptions, tsTimeout);","title":"How to download a pdf file in chrome using selenium webdriver","body":"<p>Here are the C# options for anyone working with .NET</p>\n\n<pre><code>var tsTimeout = new TimeSpan(0, 5, 0);\n\nChromeOptions chromeOptions = new ChromeOptions(); \nchromeOptions.AddUserProfilePreference(\"download.default_directory\", _downloadFolder); \nchromeOptions.AddUserProfilePreference(\"download.prompt_for_download\", false); \nchromeOptions.AddUserProfilePreference(\"download.directory_upgrade\", true); \nchromeOptions.AddUserProfilePreference(\"plugins.plugins_disabled\", \"Chrome PDF Viewer\"); \nchromeOptions.AddUserProfilePreference(\"plugins.always_open_pdf_externally\", true);\n\n_driver = new ChromeDriver(CWebCrawler.WebCrawlerRootFolder, chromeOptions, tsTimeout);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15560211,"reputation":1411,"user_id":11225521,"display_name":"Bibin Gangadharan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684173419,"creation_date":1660836046,"answer_id":73405607,"question_id":31672897,"body_markdown":"The following python code worked for me in Chrome to download pdf by disabling the pdf viewer:\r\n\r\n    options = webdriver.ChromeOptions()\r\n    prefs = {&quot;download.default_directory&quot;: chromeDownloadPath,\r\n             &quot;download.prompt_for_download&quot;: False,\r\n             &quot;download.extensions_to_open&quot;: &quot;applications/pdf&quot;,\r\n             &quot;plugins.plugins_disabled&quot;: &quot;Chrome PDF Viewer&quot;,\r\n             &quot;plugins.always_open_pdf_externally&quot;: True}\r\n    options.add_experimental_option(&quot;prefs&quot;, prefs)    \r\n    driver = webdriver.Chrome(&#39;chromedriver&#39;, options=options)","title":"How to download a pdf file in chrome using selenium webdriver","body":"<p>The following python code worked for me in Chrome to download pdf by disabling the pdf viewer:</p>\n<pre><code>options = webdriver.ChromeOptions()\nprefs = {&quot;download.default_directory&quot;: chromeDownloadPath,\n         &quot;download.prompt_for_download&quot;: False,\n         &quot;download.extensions_to_open&quot;: &quot;applications/pdf&quot;,\n         &quot;plugins.plugins_disabled&quot;: &quot;Chrome PDF Viewer&quot;,\n         &quot;plugins.always_open_pdf_externally&quot;: True}\noptions.add_experimental_option(&quot;prefs&quot;, prefs)    \ndriver = webdriver.Chrome('chromedriver', options=options)\n</code></pre>\n"}],"owner":{"account_id":6696382,"reputation":41,"user_id":5164273,"display_name":"Vinod Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39497,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":6,"score":4,"last_activity_date":1684173419,"creation_date":1438077196,"question_id":31672897,"body_markdown":"I want to download pdf in chrome using selenium. \r\n\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, System.getProperty(&quot;user.dir&quot;)  \r\n\t\t\t\t   + System.getProperty(&quot;file.separator&quot;)\r\n\t\t\t\t   + &quot;BrowserDrivers&quot;\r\n\t\t\t\t   + System.getProperty(&quot;file.separator&quot;)\r\n\t\t\t\t   + &quot;chromedriver.exe&quot;);\r\n\r\n\tString downloadFilepath = &quot;C:\\\\Users\\\\Vinod\\\\Downloads&quot;;\r\n\r\n\tHashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;String, Object&gt;();\r\n\tchromePrefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\n\tchromePrefs.put(&quot;download.default_directory&quot;, downloadFilepath);\r\n\r\n\t//Save Chrome Opions\r\n\tChromeOptions options = new ChromeOptions();\r\n\tHashMap&lt;String, Object&gt; chromeOptionsMap = new HashMap&lt;String, Object&gt;();\r\n\toptions.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\r\n\toptions.addArguments(&quot;--test-type&quot;);\r\n\r\n\r\n\tDesiredCapabilities cap = DesiredCapabilities.chrome();\r\n\tcap.setCapability(ChromeOptions.CAPABILITY, chromeOptionsMap);\r\n\tcap.setCapability(CapabilityType.ACCEPT_SSL_CERTS, true);\r\n\tcap.setCapability(ChromeOptions.CAPABILITY, options);\r\n\r\n\r\n\tdriver = new ChromeDriver(cap);\r\n\tdriver.get(url);\r\n\r\nI tried above code but its not working\r\n","title":"How to download a pdf file in chrome using selenium webdriver","body":"<p>I want to download pdf in chrome using selenium. </p>\n\n<pre><code>System.setProperty(\"webdriver.chrome.driver\", System.getProperty(\"user.dir\")  \n               + System.getProperty(\"file.separator\")\n               + \"BrowserDrivers\"\n               + System.getProperty(\"file.separator\")\n               + \"chromedriver.exe\");\n\nString downloadFilepath = \"C:\\\\Users\\\\Vinod\\\\Downloads\";\n\nHashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;String, Object&gt;();\nchromePrefs.put(\"profile.default_content_settings.popups\", 0);\nchromePrefs.put(\"download.default_directory\", downloadFilepath);\n\n//Save Chrome Opions\nChromeOptions options = new ChromeOptions();\nHashMap&lt;String, Object&gt; chromeOptionsMap = new HashMap&lt;String, Object&gt;();\noptions.setExperimentalOption(\"prefs\", chromePrefs);\noptions.addArguments(\"--test-type\");\n\n\nDesiredCapabilities cap = DesiredCapabilities.chrome();\ncap.setCapability(ChromeOptions.CAPABILITY, chromeOptionsMap);\ncap.setCapability(CapabilityType.ACCEPT_SSL_CERTS, true);\ncap.setCapability(ChromeOptions.CAPABILITY, options);\n\n\ndriver = new ChromeDriver(cap);\ndriver.get(url);\n</code></pre>\n\n<p>I tried above code but its not working</p>\n"},{"tags":["java","kafka-consumer-api","reactor-kafka"],"answers":[{"tags":[],"owner":{"account_id":28607123,"reputation":21,"user_id":21902847,"display_name":"Aashish Goyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684173102,"creation_date":1684173102,"answer_id":76256744,"question_id":73272348,"body_markdown":"you can try - `r.receiverOffset().commit();`","title":"Kafka consumer Not committing offset using reactor-kafka","body":"<p>you can try - <code>r.receiverOffset().commit();</code></p>\n"}],"owner":{"account_id":6816720,"reputation":473,"user_id":5245143,"accept_rate":25,"display_name":"Vijay Manohar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1684173102,"creation_date":1659924796,"question_id":73272348,"body_markdown":"I am newbie to Kafka and my kafka consumer is not commiting offset after specified number of messages are consumed.I am trying to do manual commit after consuming every 5 messages using reactor-kafka project.I am verifying my offset commit using lenses consumers UI.\r\n\r\nThe following are my configurations:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.projectreactor.kafka&lt;/groupId&gt;\r\n        &lt;artifactId&gt;reactor-kafka&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n \r\n\r\n \r\n\r\n       @EventListener(ApplicationReadyEvent.class)\r\n            public void consumerListener() {\r\n                Properties props = new Properties();\r\n        \r\n                props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,bootstrapServersUrl);\r\n                props.put(ConsumerConfig.GROUP_ID_CONFIG,&quot;consumer-group-1&quot;);\r\n                props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG,false);\r\n                props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG,&quot;latest&quot;);\r\n                props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,StringDeserializer.class.getName());\r\n                props.put(ApplicationConstants.SECURITY_PROTOCOL,&quot;SSL&quot;);\r\n                props.put(SslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG,&quot;/etc/security/truststore.jks&quot;);\r\n                props.put(SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG,&quot;Password&quot;);\r\n                props.put(SslConfigs.SSL_KEYSTORE_TYPE_CONFIG,&quot;SSL&quot;);\r\n                props.put(SslConfigs.SSL_KEYSTORE_LOCATION_CONFIG,&quot;/etc/security/keystore.jks&quot;);\r\n                props.put(SslConfigs.SSL_KEYSTORE_PASSWORD_CONFIG,&quot;Password&quot;);\r\n                props.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG,300000);\r\n                props.put(ConsumerConfig.REQUEST_TIMEOUT_MS_CONFIG,300000);\r\n                props.put(ConsumerConfig.HEARTBEAT_INTERVAL_MS_CONFIG,15000);\r\n                props.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG,30000);\r\n                props.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG,100);\r\n                props.put(ConsumerConfig.PARTITION_ASSIGNMENT_STRATEGY_CONFIG,&quot;org.apache.kafka.clients.consumer.CooperativeStickyAssignor&quot;);\r\n            \r\n\r\n     ReceiverOptions&lt;String,String&gt; receiverOptions = ReceiverOptions&lt;String,String&gt;.create(props)                                                             \r\n                                   .subscription(Collections.singleton(&quot;kafkaprodTopic&quot;))                                                                          \r\n                                   .commitBatchSize(5);\r\n\r\n        Flux&lt;ReceiverRecord&lt;String,String&gt;&gt; prodFlux = KafkaReceiver.create(receiverOptions)\r\n                                                           .receive();\r\n\r\n\r\n                                           prodFlux.subscribe(r -&gt;{\r\n                                                //do business logic\r\n                                                r.receiverOffset().acknowledge();\r\n                                           });\r\n    }\r\n\r\nMy consumer is able to consume messages succesfully and I am not seeing any Kafka exceptions as well , only problem is commit offset is not getting updated.","title":"Kafka consumer Not committing offset using reactor-kafka","body":"<p>I am newbie to Kafka and my kafka consumer is not commiting offset after specified number of messages are consumed.I am trying to do manual commit after consuming every 5 messages using reactor-kafka project.I am verifying my offset commit using lenses consumers UI.</p>\n<p>The following are my configurations:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.projectreactor.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;reactor-kafka&lt;/artifactId&gt;\n    &lt;version&gt;1.3.11&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n\n\n\n   @EventListener(ApplicationReadyEvent.class)\n        public void consumerListener() {\n            Properties props = new Properties();\n    \n            props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,bootstrapServersUrl);\n            props.put(ConsumerConfig.GROUP_ID_CONFIG,&quot;consumer-group-1&quot;);\n            props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG,false);\n            props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG,&quot;latest&quot;);\n            props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\nprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,StringDeserializer.class.getName());\n            props.put(ApplicationConstants.SECURITY_PROTOCOL,&quot;SSL&quot;);\n            props.put(SslConfigs.SSL_TRUSTSTORE_LOCATION_CONFIG,&quot;/etc/security/truststore.jks&quot;);\n            props.put(SslConfigs.SSL_TRUSTSTORE_PASSWORD_CONFIG,&quot;Password&quot;);\n            props.put(SslConfigs.SSL_KEYSTORE_TYPE_CONFIG,&quot;SSL&quot;);\n            props.put(SslConfigs.SSL_KEYSTORE_LOCATION_CONFIG,&quot;/etc/security/keystore.jks&quot;);\n            props.put(SslConfigs.SSL_KEYSTORE_PASSWORD_CONFIG,&quot;Password&quot;);\n            props.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG,300000);\n            props.put(ConsumerConfig.REQUEST_TIMEOUT_MS_CONFIG,300000);\n            props.put(ConsumerConfig.HEARTBEAT_INTERVAL_MS_CONFIG,15000);\n            props.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG,30000);\n            props.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG,100);\n            props.put(ConsumerConfig.PARTITION_ASSIGNMENT_STRATEGY_CONFIG,&quot;org.apache.kafka.clients.consumer.CooperativeStickyAssignor&quot;);\n        \n\n ReceiverOptions&lt;String,String&gt; receiverOptions = ReceiverOptions&lt;String,String&gt;.create(props)                                                             \n                               .subscription(Collections.singleton(&quot;kafkaprodTopic&quot;))                                                                          \n                               .commitBatchSize(5);\n\n    Flux&lt;ReceiverRecord&lt;String,String&gt;&gt; prodFlux = KafkaReceiver.create(receiverOptions)\n                                                       .receive();\n\n\n                                       prodFlux.subscribe(r -&gt;{\n                                            //do business logic\n                                            r.receiverOffset().acknowledge();\n                                       });\n}\n</code></pre>\n<p>My consumer is able to consume messages succesfully and I am not seeing any Kafka exceptions as well , only problem is commit offset is not getting updated.</p>\n"},{"tags":["java","spring-boot","jpa","intellij-idea"],"comments":[{"owner":{"account_id":20960875,"reputation":136,"user_id":15400334,"display_name":"Superchamp"},"score":1,"creation_date":1625729173,"post_id":68296786,"comment_id":120705243,"body_markdown":"Look at the section &quot;Getting Started&quot; in the tutorial - it says add the following dependencies - Web, JPA, H2. If you performed this step, you will see them in the POM file of your project. If you have already added them, then in IntelliJ, right click on project -&gt; select &quot;Maven&quot; -&gt; &quot;Reload Project&quot;","body":"Look at the section &quot;Getting Started&quot; in the tutorial - it says add the following dependencies - Web, JPA, H2. If you performed this step, you will see them in the POM file of your project. If you have already added them, then in IntelliJ, right click on project -&gt; select &quot;Maven&quot; -&gt; &quot;Reload Project&quot;"},{"owner":{"account_id":22260524,"reputation":119,"user_id":16492009,"display_name":"Ziv"},"score":0,"creation_date":1683817263,"post_id":68296786,"comment_id":134427571,"body_markdown":"If you already check the dependencies. You can [clear IntelliJ cache](https://www.jetbrains.com/help/idea/invalidate-caches.html).","body":"If you already check the dependencies. You can <a href=\"https://www.jetbrains.com/help/idea/invalidate-caches.html\" rel=\"nofollow noreferrer\">clear IntelliJ cache</a>."},{"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"score":1,"creation_date":1683837345,"post_id":68296786,"comment_id":134431974,"body_markdown":"Which version of spring-boot are you using? Are you taking into account the jakarta namespace change?","body":"Which version of spring-boot are you using? Are you taking into account the jakarta namespace change?"}],"answers":[{"tags":[],"owner":{"account_id":6193930,"reputation":2587,"user_id":4825845,"display_name":"Juan Moreno"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683751241,"creation_date":1683751241,"answer_id":76222406,"question_id":68296786,"body_markdown":"That dependency comes from the [`spring-boot-starter-data-jpa`][1].\r\n\r\nPlease review the suggested dependencies in the tutorial (jpa, web, h2).\r\n\r\nIf you&#39;re using [Gradle][2] you should have:\r\n```groovy\r\ndependencies {\r\n  implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n  implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n  runtimeOnly &#39;com.h2database:h2&#39;\r\n  testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n```\r\n\r\nOr [Maven][3]:\r\n```xml\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n```\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/tree/main/spring-boot-project/spring-boot-starters/spring-boot-starter-data-jpa\r\n  [2]: https://start.spring.io/#!type=gradle-project&amp;language=java&amp;platformVersion=3.0.6&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=data-jpa,web,h2\r\n  [3]: https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.0.6&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=data-jpa,web,h2","title":"Java add javax.persistence in IntelliJ","body":"<p>That dependency comes from the <a href=\"https://github.com/spring-projects/spring-boot/tree/main/spring-boot-project/spring-boot-starters/spring-boot-starter-data-jpa\" rel=\"nofollow noreferrer\"><code>spring-boot-starter-data-jpa</code></a>.</p>\n<p>Please review the suggested dependencies in the tutorial (jpa, web, h2).</p>\n<p>If you're using <a href=\"https://start.spring.io/#!type=gradle-project&amp;language=java&amp;platformVersion=3.0.6&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=data-jpa,web,h2\" rel=\"nofollow noreferrer\">Gradle</a> you should have:</p>\n<pre><code>dependencies {\n  implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n  implementation 'org.springframework.boot:spring-boot-starter-web'\n  runtimeOnly 'com.h2database:h2'\n  testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n<p>Or <a href=\"https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.0.6&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=data-jpa,web,h2\" rel=\"nofollow noreferrer\">Maven</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1787,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76222406,"answer_count":1,"score":2,"last_activity_date":1684172887,"creation_date":1625726762,"question_id":68296786,"body_markdown":"I am trying to create a basic Java Spring program. Where do I get javax.persistence? It cannot resolve persistence, and cannot Find JAR on Web after attempting. Currently using IntelliJ .\r\n\r\nhttps://spring.io/guides/tutorials/rest/\r\n\r\n    package payroll;\r\n    \r\n    import java.util.Objects;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n    \r\n    @Entity\r\n    class Employee {\r\n    \r\n      private @Id @GeneratedValue Long id;\r\n      private String name;\r\n      private String role;\r\n    \r\n\r\n[![enter image description here][1]][1]\r\n      \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7dYKt.png","title":"Java add javax.persistence in IntelliJ","body":"<p>I am trying to create a basic Java Spring program. Where do I get javax.persistence? It cannot resolve persistence, and cannot Find JAR on Web after attempting. Currently using IntelliJ .</p>\n<p><a href=\"https://spring.io/guides/tutorials/rest/\" rel=\"nofollow noreferrer\">https://spring.io/guides/tutorials/rest/</a></p>\n<pre><code>package payroll;\n\nimport java.util.Objects;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\n\n@Entity\nclass Employee {\n\n  private @Id @GeneratedValue Long id;\n  private String name;\n  private String role;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7dYKt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7dYKt.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","apache-kafka","apache-camel","quarkus","kafka-producer-api"],"comments":[{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":0,"creation_date":1684218140,"post_id":76256687,"comment_id":134481128,"body_markdown":"The code is a bit confusing. First, the log complains about a `person-in` channel not consumed by anyone. Then, the log is confusing in the sense it seems that the channel `person-out` is consumed somewhere, but I can&#39;t see where. Can you provide the full code, or clean up the question?  The best might be a github repo.","body":"The code is a bit confusing. First, the log complains about a <code>person-in</code> channel not consumed by anyone. Then, the log is confusing in the sense it seems that the channel <code>person-out</code> is consumed somewhere, but I can&#39;t see where. Can you provide the full code, or clean up the question?  The best might be a github repo."}],"owner":{"account_id":27891309,"reputation":1,"user_id":21297630,"display_name":"William Santos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684172738,"creation_date":1684172738,"question_id":76256687,"body_markdown":"I&#39;m completely new to Kafka and i have some troubles using the KafkaProducer. Even though I&#39;m using the same logic of a previous more simple project it seems as the class with emitter is going null and so it doesn&#39;t send any message though the message I need sent is correct.\r\n\r\nHow can I solve this?\r\n\r\n\r\n---\r\n\r\nMy project:\r\n\r\n---\r\n\r\nPersonEntity:\r\n```\r\npackage org.acme.Entities;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\nimport io.quarkus.hibernate.orm.panache.PanacheEntityBase;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Embeddable;\r\nimport jakarta.persistence.Embedded;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\nimport jakarta.xml.bind.annotation.XmlTransient;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n\r\n@Entity\r\n@ToString\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@Table(name = &quot;KafkaWorkerService&quot;)\r\npublic class PersonEntity extends PanacheEntityBase {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;)\r\n\t@ToString.Exclude\r\n\t@JsonIgnore\r\n\t@XmlTransient\r\n\tprivate Long id;\r\n\r\n\t@Getter\r\n\t@Setter\r\n\t@Embedded\r\n\tprivate Name name;\r\n\r\n\t@Getter\r\n\t@Setter\r\n\t@Column(name = &quot;age&quot;)\r\n\tprivate Integer age;\r\n\r\n\t@Getter\r\n\t@Setter\r\n\t@Column(name = &quot;email&quot;)\r\n\tprivate String email;\r\n\r\n\t@Embeddable\r\n\tpublic static class Name {\r\n\r\n\t\t@Getter\r\n\t\t@Setter\r\n\t\t@XmlTransient\r\n\t\tprivate String first;\r\n\r\n\t\t@Getter\r\n\t\t@Setter\r\n\t\t@XmlTransient\r\n\t\tprivate String last;\r\n\t}\r\n}\r\n```\r\nMyRouteBuilder:\r\n\r\n```\r\npackage org.acme.Routes;\r\n\r\nimport org.acme.Processors.JsonProcessor;\r\nimport org.apache.camel.builder.RouteBuilder;\r\n\r\npublic class MyRouteBuilder extends RouteBuilder {\r\n\r\n    private final String inputDirectory = &quot;C:\\\\Users\\\\william.santos\\\\Desktop\\\\IntegrationTest\\\\Input\\\\&quot;;\r\n    private final String outputDirectory = &quot;C:\\\\Users\\\\william.santos\\\\Desktop\\\\IntegrationTest\\\\Output\\\\&quot;;\r\n    \r\n    boolean isJson = true;\r\n    \r\n\r\n    @Override\r\n    public void configure() throws Exception {\r\n    \t\r\n\r\n        from(&quot;file:&quot; + inputDirectory + &quot;?maxMessagesPerPoll=1&quot;)\r\n            .choice()\r\n                .when(header(&quot;CamelFileName&quot;).endsWith(&quot;.json&quot;))\r\n                    .process(new JsonProcessor())\r\n                .otherwise()**/\r\n                    .log(&quot;Unsupported file type&quot;)\r\n            .end()\r\n\t\t\t\t.to(&quot;file:&quot; + outputDirectory);\r\n\t}\r\n}\r\n```\r\n\r\n\r\nJsonProcessor:\r\n\r\n\r\n```\r\npackage org.acme.Processors;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.acme.Entities.PersonEntity;\r\nimport org.acme.Resources.PersonResource;\r\nimport org.apache.camel.Exchange;\r\nimport org.apache.camel.Processor;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport jakarta.enterprise.context.ApplicationScoped;\r\nimport jakarta.inject.Inject;\r\nimport jakarta.inject.Named;\r\n\r\n@ApplicationScoped\r\n@Named(&quot;jsonProcessor&quot;)\r\npublic class JsonProcessor implements Processor {\r\n\r\n\t@Inject\r\n\t@Named(&quot;personResource&quot;)\r\n\tPersonResource personResource;\r\n\r\n\t@Override\r\n\tpublic void process(Exchange exchange) throws Exception {\r\n\r\n\t\t// Extract JSON data from the exchange\r\n\t\tString json = exchange.getIn().getBody(String.class);\r\n\r\n\t\t// Deserialize the JSON data into a PersonEntity array\r\n\t\tObjectMapper objectMapper = new ObjectMapper();\r\n\t\tobjectMapper.addMixIn(PersonEntity.class, IgnoreIdMixin.class);\r\n\t\tPersonEntity[] personEntities = objectMapper.readValue(json, PersonEntity[].class);\r\n\r\n\t\t// List to hold all entities\r\n\t\tList&lt;PersonEntity&gt; allEntities = new ArrayList&lt;&gt;();\r\n\r\n\t\t// Extract the fields you need from the PersonEntity objects and add them to a\r\n\t\t// list\r\n\t\tfor (PersonEntity personEntity : personEntities) {\r\n\t\t\tallEntities.add(personEntity);\r\n\t\t}\r\n\r\n\t\t// Send each entity to Kafka one at a time\r\n\t\tfor (PersonEntity personEntity : allEntities) {\r\n\t\t\t// Extract the fields from the current PersonEntity\r\n\t\t\tString name = personEntity.getName().getFirst() + &quot; &quot; + personEntity.getName().getLast();\r\n\t\t\tString age = personEntity.getAge().toString();\r\n\t\t\tString email = personEntity.getEmail();\r\n\r\n\t\t\t// Create a message for the current person\r\n\t\t\tString[] fields = { name, age, email };\r\n\r\n\t\t\tString message = String.join(&quot;, &quot;, fields);\r\n\r\n\t\t\tSystem.out.println(&quot;Message to send: &quot; + message);\r\n\r\n\t\t\t// Send the message to Kafka\r\n\t\t\t// Send the message to Kafka\r\n\t\t\tif (personResource != null) {\r\n\t\t\t\tpersonResource.sendPerson(message);\r\n\t\t\t} else {\r\n\t\t\t\t// Handle the case when personResource is null\r\n\t\t\t\tSystem.out.println(&quot;personResource is null. Cannot send the message to Kafka.&quot;);\r\n\t\t\t}\r\n\t\t\t// Wait for the acknowledgement or confirmation of the previous message\r\n\t\t\twaitForPreviousMessageToBeSent();\r\n\t\t}\r\n\t}\r\n\r\n\t// Mixin class to ignore the &quot;id&quot; field during deserialization\r\n\tprivate static abstract class IgnoreIdMixin {\r\n\t\t@JsonIgnore\r\n\t\tprivate Long id;\r\n\t}\r\n\r\n\tprivate void waitForPreviousMessageToBeSent() throws InterruptedException {\r\n\t\t// You can implement your own mechanism here to wait for the previous message to\r\n\t\t// be sent.\r\n\t\t// This can be done using synchronization, a queue, or any other suitable\r\n\t\t// approach.\r\n\t\t// For demonstration purposes, let&#39;s add a sleep of 1 second as a simple way to\r\n\t\t// simulate the wait.\r\n\t\tThread.sleep(1000);\r\n\t}\r\n}\r\n```\r\nPersonResource:\r\n```\r\npackage org.acme.Resources;\r\n\r\nimport org.acme.Processors.JsonProcessor;\r\nimport org.eclipse.microprofile.reactive.messaging.Channel;\r\nimport org.eclipse.microprofile.reactive.messaging.Emitter;\r\n\r\nimport jakarta.enterprise.context.ApplicationScoped;\r\nimport jakarta.inject.Inject;\r\nimport jakarta.inject.Named;\r\nimport jakarta.ws.rs.POST;\r\nimport jakarta.ws.rs.Path;\r\nimport jakarta.ws.rs.core.Response;\r\nimport jakarta.ws.rs.core.Response.ResponseBuilder;\r\n\r\n@ApplicationScoped\r\n@Named(&quot;personResource&quot;)\r\n@Path(&quot;/person&quot;)\r\npublic class PersonResource {\r\n\r\n\t@Inject\r\n\t@Named(&quot;jsonProcessor&quot;)\r\n\tJsonProcessor jsonProcessor;\r\n\r\n\t/**\r\n\t * @Inject @Named(&quot;xmlProcessor&quot;) XmlProcessor xmlProcessor;\r\n\t **/\r\n\r\n\t@Inject\r\n\t@Channel(&quot;person-out&quot;)\r\n\tEmitter&lt;String&gt; kafkaEmitter;\r\n\r\n\t@POST\r\n\t@Path(&quot;/send-person&quot;)\r\n\tpublic Response sendPerson(String message) {\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tkafkaEmitter.send(message);\r\n\t\t\tSystem.out.println(&quot;Message sent: &quot; + message);\r\n\r\n\t\t\tResponseBuilder builder = Response.status(Response.Status.OK);\r\n\t\t\treturn builder.build();\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(&quot;An error occurred: &quot; + e.getMessage())\r\n\t\t\t\t\t.build();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\ngetting the following:\r\n\r\n```\r\n[[1;34mINFO[m] Scanning for projects...\r\n[[1;34mINFO[m] \r\n[[1;34mINFO[m] [1m---------------------&lt; [0;36morg.acme:code-with-quarkus[0;1m &gt;---------------------[m\r\n[[1;34mINFO[m] [1mBuilding code-with-quarkus 1.0.0-SNAPSHOT[m\r\n[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m\r\n[[1;34mINFO[m] \r\n[[1;34mINFO[m] [1m--- [0;32mquarkus-maven-plugin:3.0.2.Final:dev[m [1m(default-cli)[m @ [36mcode-with-quarkus[0;1m ---[m\r\n[[1;34mINFO[m] Invoking org.apache.maven.plugins:maven-resources-plugin:2.6:resources @ code-with-quarkus\r\n[[1;34mINFO[m] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[[1;34mINFO[m] Copying 3 resources\r\n[[1;34mINFO[m] Invoking io.quarkus.platform:quarkus-maven-plugin:3.0.2.Final:generate-code @ code-with-quarkus\r\n[[1;34mINFO[m] Invoking org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile @ code-with-quarkus\r\n[[1;34mINFO[m] Nothing to compile - all classes are up to date\r\n[[1;34mINFO[m] Invoking org.apache.maven.plugins:maven-resources-plugin:2.6:testResources @ code-with-quarkus\r\n[[1;34mINFO[m] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[[1;34mINFO[m] skip non existing resourceDirectory C:\\Users\\william.santos\\Desktop\\Quarkus\\Quarkus-Integration-Exercise\\src\\test\\resources\r\n[[1;34mINFO[m] Invoking io.quarkus.platform:quarkus-maven-plugin:3.0.2.Final:generate-code-tests @ code-with-quarkus\r\n[[1;34mINFO[m] Invoking org.apache.maven.plugins:maven-compiler-plugin:3.10.1:testCompile @ code-with-quarkus\r\n[[1;34mINFO[m] Nothing to compile - all classes are up to date\r\nListening for transport dt_socket at address: 5005\r\nPress [h] for more options&gt;\r\nTests paused\r\nPress [r] to resume testing, [h] for more options&gt;\r\nPress [r] to resume testing, [o] Toggle test output, [h] for more options&gt;\r\n__  ____  __  _____   ___  __ ____  ______ \r\n --/ __ \\/ / / / _ | / _ \\/ //_/ / / / __/ \r\n -/ /_/ / /_/ / __ |/ , _/ ,&lt; / /_/ /\\ \\   \r\n--\\___\\_\\____/_/ |_/_/|_/_/|_|\\____/___/   \r\n2023-05-15 13:19:58,889 INFO  [org.apa.cam.qua.cor.CamelBootstrapRecorder] (Quarkus Main Thread) Bootstrap runtime: org.apache.camel.quarkus.main.CamelMainRuntime\r\n2023-05-15 13:19:58,895 INFO  [org.apa.cam.mai.MainSupport] (Quarkus Main Thread) Apache Camel (Main) 4.0.0-M2 is starting\r\n2023-05-15 13:19:59,067 INFO  [org.apa.cam.imp.eng.AbstractCamelContext] (Quarkus Main Thread) Apache Camel 4.0.0-M2 (camel-1) is starting\r\n2023-05-15 13:19:59,085 INFO  [org.apa.cam.imp.eng.AbstractCamelContext] (Quarkus Main Thread) Routes startup (started:1)\r\n2023-05-15 13:19:59,086 INFO  [org.apa.cam.imp.eng.AbstractCamelContext] (Quarkus Main Thread)     Started route1 (file://C:%5CUsers%5Cwilliam.santos%5CDesktop%5CIntegrationTest%5CInput%5C)\r\n2023-05-15 13:19:59,086 INFO  [org.apa.cam.imp.eng.AbstractCamelContext] (Quarkus Main Thread) Apache Camel 4.0.0-M2 (camel-1) started in 109ms (build:0ms init:91ms start:18ms)\r\n2023-05-15 13:19:59,162 INFO  [io.sma.rea.mes.kafka] (Quarkus Main Thread) SRMSG18229: Configured topics for channel &#39;person-in&#39;: [first_kafka_topic]\r\n2023-05-15 13:19:59,177 INFO  [io.sma.rea.mes.kafka] (Quarkus Main Thread) SRMSG18214: Key deserializer omitted, using String as default\r\n2023-05-15 13:19:59,293 INFO  [org.apa.kaf.com.sec.aut.AbstractLogin] (smallrye-kafka-consumer-thread-0) Successfully logged in.\r\n2023-05-15 13:19:59,411 INFO  [io.sma.rea.mes.kafka] (smallrye-kafka-producer-thread-0) SRMSG18258: Kafka producer kafka-producer-person-out, connected to Kafka brokers &#39;192.168.1.95:9092&#39;, is configured to write records to &#39;first_kafka_topic&#39;\r\n2023-05-15 13:19:59,422 WARN  [io.sma.rea.mes.provider] (Quarkus Main Thread) SRMSG00208: The connector &#39;IncomingConnector{channel:&#39;person-in&#39;, attribute:&#39;mp.messaging.incoming.person-in&#39;}&#39; has no downstreams\r\n2023-05-15 13:19:59,423 WARN  [io.sma.rea.mes.provider] (Quarkus Main Thread) SRMSG00207: Some components are not connected to either downstream consumers or upstream producers:\r\n\t- IncomingConnector{channel:&#39;person-in&#39;, attribute:&#39;mp.messaging.incoming.person-in&#39;} has no downstream\r\n\r\n2023-05-15 13:19:59,586 INFO  [io.quarkus] (Quarkus Main Thread) code-with-quarkus 1.0.0-SNAPSHOT on JVM (powered by Quarkus 3.0.2.Final) started in 6.080s. Listening on: http://localhost:8080\r\n2023-05-15 13:19:59,587 INFO  [io.quarkus] (Quarkus Main Thread) Profile dev activated. Live Coding activated.\r\n2023-05-15 13:19:59,587 INFO  [io.quarkus] (Quarkus Main Thread) Installed features: [agroal, camel-core, camel-file, camel-sql, cdi, hibernate-orm, hibernate-orm-panache, jdbc-postgresql, kafka-client, narayana-jta, resteasy-reactive, smallrye-context-propagation, smallrye-reactive-messaging, smallrye-reactive-messaging-kafka, vertx]\r\nMessage to send: John Doe, 25, johndoe0125@gmail.com\r\npersonResource is null. Cannot send the message to Kafka.\r\nMessage to send: Paul Johnson, 29, Paul229Johnson@gmail.com\r\npersonResource is null. Cannot send the message to Kafka.\r\n2023-05-15 13:20:06,673 INFO  [route1] (Camel (camel-1) thread #1 - file://C:%5CUsers%5Cwilliam.santos%5CDesktop%5CIntegrationTest%5CInput%5C) Unsupported file type\r\n\r\n```\r\n\r\nHow can I solve this?","title":"Why is my kafkaproducer not sending the apropriate message? &quot;personResource is null. Cannot send the message to Kafka&quot;","body":"<p>I'm completely new to Kafka and i have some troubles using the KafkaProducer. Even though I'm using the same logic of a previous more simple project it seems as the class with emitter is going null and so it doesn't send any message though the message I need sent is correct.</p>\n<p>How can I solve this?</p>\n<hr />\n<p>My project:</p>\n<hr />\n<p>PersonEntity:</p>\n<pre><code>package org.acme.Entities;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\nimport io.quarkus.hibernate.orm.panache.PanacheEntityBase;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Embeddable;\nimport jakarta.persistence.Embedded;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\nimport jakarta.xml.bind.annotation.XmlTransient;\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@Entity\n@ToString\n@JsonIgnoreProperties(ignoreUnknown = true)\n@Table(name = &quot;KafkaWorkerService&quot;)\npublic class PersonEntity extends PanacheEntityBase {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    @ToString.Exclude\n    @JsonIgnore\n    @XmlTransient\n    private Long id;\n\n    @Getter\n    @Setter\n    @Embedded\n    private Name name;\n\n    @Getter\n    @Setter\n    @Column(name = &quot;age&quot;)\n    private Integer age;\n\n    @Getter\n    @Setter\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @Embeddable\n    public static class Name {\n\n        @Getter\n        @Setter\n        @XmlTransient\n        private String first;\n\n        @Getter\n        @Setter\n        @XmlTransient\n        private String last;\n    }\n}\n</code></pre>\n<p>MyRouteBuilder:</p>\n<pre><code>package org.acme.Routes;\n\nimport org.acme.Processors.JsonProcessor;\nimport org.apache.camel.builder.RouteBuilder;\n\npublic class MyRouteBuilder extends RouteBuilder {\n\n    private final String inputDirectory = &quot;C:\\\\Users\\\\william.santos\\\\Desktop\\\\IntegrationTest\\\\Input\\\\&quot;;\n    private final String outputDirectory = &quot;C:\\\\Users\\\\william.santos\\\\Desktop\\\\IntegrationTest\\\\Output\\\\&quot;;\n    \n    boolean isJson = true;\n    \n\n    @Override\n    public void configure() throws Exception {\n        \n\n        from(&quot;file:&quot; + inputDirectory + &quot;?maxMessagesPerPoll=1&quot;)\n            .choice()\n                .when(header(&quot;CamelFileName&quot;).endsWith(&quot;.json&quot;))\n                    .process(new JsonProcessor())\n                .otherwise()**/\n                    .log(&quot;Unsupported file type&quot;)\n            .end()\n                .to(&quot;file:&quot; + outputDirectory);\n    }\n}\n</code></pre>\n<p>JsonProcessor:</p>\n<pre><code>package org.acme.Processors;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.acme.Entities.PersonEntity;\nimport org.acme.Resources.PersonResource;\nimport org.apache.camel.Exchange;\nimport org.apache.camel.Processor;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport jakarta.enterprise.context.ApplicationScoped;\nimport jakarta.inject.Inject;\nimport jakarta.inject.Named;\n\n@ApplicationScoped\n@Named(&quot;jsonProcessor&quot;)\npublic class JsonProcessor implements Processor {\n\n    @Inject\n    @Named(&quot;personResource&quot;)\n    PersonResource personResource;\n\n    @Override\n    public void process(Exchange exchange) throws Exception {\n\n        // Extract JSON data from the exchange\n        String json = exchange.getIn().getBody(String.class);\n\n        // Deserialize the JSON data into a PersonEntity array\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.addMixIn(PersonEntity.class, IgnoreIdMixin.class);\n        PersonEntity[] personEntities = objectMapper.readValue(json, PersonEntity[].class);\n\n        // List to hold all entities\n        List&lt;PersonEntity&gt; allEntities = new ArrayList&lt;&gt;();\n\n        // Extract the fields you need from the PersonEntity objects and add them to a\n        // list\n        for (PersonEntity personEntity : personEntities) {\n            allEntities.add(personEntity);\n        }\n\n        // Send each entity to Kafka one at a time\n        for (PersonEntity personEntity : allEntities) {\n            // Extract the fields from the current PersonEntity\n            String name = personEntity.getName().getFirst() + &quot; &quot; + personEntity.getName().getLast();\n            String age = personEntity.getAge().toString();\n            String email = personEntity.getEmail();\n\n            // Create a message for the current person\n            String[] fields = { name, age, email };\n\n            String message = String.join(&quot;, &quot;, fields);\n\n            System.out.println(&quot;Message to send: &quot; + message);\n\n            // Send the message to Kafka\n            // Send the message to Kafka\n            if (personResource != null) {\n                personResource.sendPerson(message);\n            } else {\n                // Handle the case when personResource is null\n                System.out.println(&quot;personResource is null. Cannot send the message to Kafka.&quot;);\n            }\n            // Wait for the acknowledgement or confirmation of the previous message\n            waitForPreviousMessageToBeSent();\n        }\n    }\n\n    // Mixin class to ignore the &quot;id&quot; field during deserialization\n    private static abstract class IgnoreIdMixin {\n        @JsonIgnore\n        private Long id;\n    }\n\n    private void waitForPreviousMessageToBeSent() throws InterruptedException {\n        // You can implement your own mechanism here to wait for the previous message to\n        // be sent.\n        // This can be done using synchronization, a queue, or any other suitable\n        // approach.\n        // For demonstration purposes, let's add a sleep of 1 second as a simple way to\n        // simulate the wait.\n        Thread.sleep(1000);\n    }\n}\n</code></pre>\n<p>PersonResource:</p>\n<pre><code>package org.acme.Resources;\n\nimport org.acme.Processors.JsonProcessor;\nimport org.eclipse.microprofile.reactive.messaging.Channel;\nimport org.eclipse.microprofile.reactive.messaging.Emitter;\n\nimport jakarta.enterprise.context.ApplicationScoped;\nimport jakarta.inject.Inject;\nimport jakarta.inject.Named;\nimport jakarta.ws.rs.POST;\nimport jakarta.ws.rs.Path;\nimport jakarta.ws.rs.core.Response;\nimport jakarta.ws.rs.core.Response.ResponseBuilder;\n\n@ApplicationScoped\n@Named(&quot;personResource&quot;)\n@Path(&quot;/person&quot;)\npublic class PersonResource {\n\n    @Inject\n    @Named(&quot;jsonProcessor&quot;)\n    JsonProcessor jsonProcessor;\n\n    /**\n     * @Inject @Named(&quot;xmlProcessor&quot;) XmlProcessor xmlProcessor;\n     **/\n\n    @Inject\n    @Channel(&quot;person-out&quot;)\n    Emitter&lt;String&gt; kafkaEmitter;\n\n    @POST\n    @Path(&quot;/send-person&quot;)\n    public Response sendPerson(String message) {\n        try {\n            \n            kafkaEmitter.send(message);\n            System.out.println(&quot;Message sent: &quot; + message);\n\n            ResponseBuilder builder = Response.status(Response.Status.OK);\n            return builder.build();\n        } catch (Exception e) {\n            return Response.status(Response.Status.INTERNAL_SERVER_ERROR).entity(&quot;An error occurred: &quot; + e.getMessage())\n                    .build();\n        }\n    }\n\n}\n</code></pre>\n<p>getting the following:</p>\n<pre><code>[[1;34mINFO[m] Scanning for projects...\n[[1;34mINFO[m] \n[[1;34mINFO[m] [1m---------------------&lt; [0;36morg.acme:code-with-quarkus[0;1m &gt;---------------------[m\n[[1;34mINFO[m] [1mBuilding code-with-quarkus 1.0.0-SNAPSHOT[m\n[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m\n[[1;34mINFO[m] \n[[1;34mINFO[m] [1m--- [0;32mquarkus-maven-plugin:3.0.2.Final:dev[m [1m(default-cli)[m @ [36mcode-with-quarkus[0;1m ---[m\n[[1;34mINFO[m] Invoking org.apache.maven.plugins:maven-resources-plugin:2.6:resources @ code-with-quarkus\n[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.\n[[1;34mINFO[m] Copying 3 resources\n[[1;34mINFO[m] Invoking io.quarkus.platform:quarkus-maven-plugin:3.0.2.Final:generate-code @ code-with-quarkus\n[[1;34mINFO[m] Invoking org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile @ code-with-quarkus\n[[1;34mINFO[m] Nothing to compile - all classes are up to date\n[[1;34mINFO[m] Invoking org.apache.maven.plugins:maven-resources-plugin:2.6:testResources @ code-with-quarkus\n[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.\n[[1;34mINFO[m] skip non existing resourceDirectory C:\\Users\\william.santos\\Desktop\\Quarkus\\Quarkus-Integration-Exercise\\src\\test\\resources\n[[1;34mINFO[m] Invoking io.quarkus.platform:quarkus-maven-plugin:3.0.2.Final:generate-code-tests @ code-with-quarkus\n[[1;34mINFO[m] Invoking org.apache.maven.plugins:maven-compiler-plugin:3.10.1:testCompile @ code-with-quarkus\n[[1;34mINFO[m] Nothing to compile - all classes are up to date\nListening for transport dt_socket at address: 5005\nPress [h] for more options&gt;\nTests paused\nPress [r] to resume testing, [h] for more options&gt;\nPress [r] to resume testing, [o] Toggle test output, [h] for more options&gt;\n__  ____  __  _____   ___  __ ____  ______ \n --/ __ \\/ / / / _ | / _ \\/ //_/ / / / __/ \n -/ /_/ / /_/ / __ |/ , _/ ,&lt; / /_/ /\\ \\   \n--\\___\\_\\____/_/ |_/_/|_/_/|_|\\____/___/   \n2023-05-15 13:19:58,889 INFO  [org.apa.cam.qua.cor.CamelBootstrapRecorder] (Quarkus Main Thread) Bootstrap runtime: org.apache.camel.quarkus.main.CamelMainRuntime\n2023-05-15 13:19:58,895 INFO  [org.apa.cam.mai.MainSupport] (Quarkus Main Thread) Apache Camel (Main) 4.0.0-M2 is starting\n2023-05-15 13:19:59,067 INFO  [org.apa.cam.imp.eng.AbstractCamelContext] (Quarkus Main Thread) Apache Camel 4.0.0-M2 (camel-1) is starting\n2023-05-15 13:19:59,085 INFO  [org.apa.cam.imp.eng.AbstractCamelContext] (Quarkus Main Thread) Routes startup (started:1)\n2023-05-15 13:19:59,086 INFO  [org.apa.cam.imp.eng.AbstractCamelContext] (Quarkus Main Thread)     Started route1 (file://C:%5CUsers%5Cwilliam.santos%5CDesktop%5CIntegrationTest%5CInput%5C)\n2023-05-15 13:19:59,086 INFO  [org.apa.cam.imp.eng.AbstractCamelContext] (Quarkus Main Thread) Apache Camel 4.0.0-M2 (camel-1) started in 109ms (build:0ms init:91ms start:18ms)\n2023-05-15 13:19:59,162 INFO  [io.sma.rea.mes.kafka] (Quarkus Main Thread) SRMSG18229: Configured topics for channel 'person-in': [first_kafka_topic]\n2023-05-15 13:19:59,177 INFO  [io.sma.rea.mes.kafka] (Quarkus Main Thread) SRMSG18214: Key deserializer omitted, using String as default\n2023-05-15 13:19:59,293 INFO  [org.apa.kaf.com.sec.aut.AbstractLogin] (smallrye-kafka-consumer-thread-0) Successfully logged in.\n2023-05-15 13:19:59,411 INFO  [io.sma.rea.mes.kafka] (smallrye-kafka-producer-thread-0) SRMSG18258: Kafka producer kafka-producer-person-out, connected to Kafka brokers '192.168.1.95:9092', is configured to write records to 'first_kafka_topic'\n2023-05-15 13:19:59,422 WARN  [io.sma.rea.mes.provider] (Quarkus Main Thread) SRMSG00208: The connector 'IncomingConnector{channel:'person-in', attribute:'mp.messaging.incoming.person-in'}' has no downstreams\n2023-05-15 13:19:59,423 WARN  [io.sma.rea.mes.provider] (Quarkus Main Thread) SRMSG00207: Some components are not connected to either downstream consumers or upstream producers:\n    - IncomingConnector{channel:'person-in', attribute:'mp.messaging.incoming.person-in'} has no downstream\n\n2023-05-15 13:19:59,586 INFO  [io.quarkus] (Quarkus Main Thread) code-with-quarkus 1.0.0-SNAPSHOT on JVM (powered by Quarkus 3.0.2.Final) started in 6.080s. Listening on: http://localhost:8080\n2023-05-15 13:19:59,587 INFO  [io.quarkus] (Quarkus Main Thread) Profile dev activated. Live Coding activated.\n2023-05-15 13:19:59,587 INFO  [io.quarkus] (Quarkus Main Thread) Installed features: [agroal, camel-core, camel-file, camel-sql, cdi, hibernate-orm, hibernate-orm-panache, jdbc-postgresql, kafka-client, narayana-jta, resteasy-reactive, smallrye-context-propagation, smallrye-reactive-messaging, smallrye-reactive-messaging-kafka, vertx]\nMessage to send: John Doe, 25, johndoe0125@gmail.com\npersonResource is null. Cannot send the message to Kafka.\nMessage to send: Paul Johnson, 29, Paul229Johnson@gmail.com\npersonResource is null. Cannot send the message to Kafka.\n2023-05-15 13:20:06,673 INFO  [route1] (Camel (camel-1) thread #1 - file://C:%5CUsers%5Cwilliam.santos%5CDesktop%5CIntegrationTest%5CInput%5C) Unsupported file type\n\n</code></pre>\n<p>How can I solve this?</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1684169108,"post_id":76256222,"comment_id":134474572,"body_markdown":"Please add the compilation error to the question.","body":"Please add the compilation error to the question."},{"owner":{"account_id":7275154,"reputation":1283,"user_id":5546850,"accept_rate":66,"display_name":"James"},"score":0,"creation_date":1684169432,"post_id":76256222,"comment_id":134474646,"body_markdown":"@user16320675 it was just an oversight ;)","body":"@user16320675 it was just an oversight ;)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1684169527,"post_id":76256222,"comment_id":134474677,"body_markdown":"`Set` is not sorted and so does not have a `sort()` method (neither `sorted()` as commented out)","body":"<code>Set</code> is not sorted and so does not have a <code>sort()</code> method (neither <code>sorted()</code> as commented out)"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1684169873,"post_id":76256222,"comment_id":134474750,"body_markdown":"You need to convert the set to a list, before you can sort it.","body":"You need to convert the set to a list, before you can sort it."},{"owner":{"account_id":7275154,"reputation":1283,"user_id":5546850,"accept_rate":66,"display_name":"James"},"score":0,"creation_date":1684171594,"post_id":76256222,"comment_id":134475112,"body_markdown":"@Mr.Polywhirl thanks the sorting is working . could you explain please why sorted not working with Set ?","body":"@Mr.Polywhirl thanks the sorting is working . could you explain please why sorted not working with Set ?"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1684172434,"post_id":76256222,"comment_id":134475262,"body_markdown":"@James I added a response below.","body":"@James I added a response below."}],"answers":[{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684172419,"creation_date":1684172102,"answer_id":76256614,"question_id":76256222,"body_markdown":"By its definition, a [set][set] is _an abstract data type that can store unique values, without any particular order_. They are always unordered, because they are designed for fast-access. This is why they are not sortable.\r\n\r\nIf your courses come back as a `Set` from the database, you will need to convert them to a `List` to sort them.\r\n\r\n```java\r\nprivate static class UserMapper {\r\n    public UserDTO mapUserDTO(User user) {\r\n        if (user == null) {\r\n            return null;\r\n        }\r\n        UserDTO dto = new UserDTO();\r\n        dto.setName(user.getName());\r\n        // Sort when mapping...\r\n        dto.setCourseList(user.getCourses().stream()\r\n                .sorted(Comparator.comparing(Course::getName))\r\n                .collect(Collectors.toList()));\r\n        return dto;\r\n    }\r\n}\r\n```\r\n\r\n## Full example\r\n\r\nI mocked out all the repository and mapper stuff below.\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport java.util.*;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class UserService {\r\n    private static final Map&lt;Long, User&gt; userLookup;\r\n\r\n    static {\r\n        // Add a default user as ID=1\r\n        User user = new User();\r\n        user.setId(1L);\r\n        user.setName(&quot;John Doe&quot;);\r\n        Set&lt;Course&gt; courseSet = new HashSet&lt;&gt;();\r\n        courseSet.add(new Course(&quot;CMSC100&quot;, &quot;Bits and Bytes of Computer and Information Sciences&quot;));\r\n        courseSet.add(new Course(&quot;CMSC106&quot;, &quot;Introduction to C Programming&quot;));\r\n        courseSet.add(new Course(&quot;CMSC133&quot;, &quot;Object Oriented Programming I Beyond Fundamentals&quot;));\r\n        courseSet.add(new Course(&quot;CMSC250&quot;, &quot;Discrete Structures&quot;));\r\n        user.setCourses(courseSet);\r\n        userLookup = Collections.singletonMap(1L, user);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        UserService userService = new UserService();\r\n        try {\r\n            UserDTO dto = userService.getUserById(1L);\r\n            System.out.println(dto);\r\n        } catch (UserNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private UserRepository userRepository = new UserRepositoryImpl();\r\n    private UserMapper userMapper = new UserMapper();\r\n\r\n    public UserDTO getUserById(Long id) throws UserNotFoundException {\r\n        return userRepository.findById(id).map(user -&gt; {\r\n            UserDTO userDTO = userMapper.mapUserDTO(user);\r\n            return userDTO;\r\n        }).orElseThrow(() -&gt; new UserNotFoundException(String.format(&quot;User with id %s not found&quot;, id)));\r\n    }\r\n\r\n    private static class UserMapper {\r\n        public UserDTO mapUserDTO(User user) {\r\n            if (user == null) {\r\n                return null;\r\n            }\r\n            UserDTO dto = new UserDTO();\r\n            dto.setName(user.getName());\r\n            // Sort when mapping...\r\n            dto.setCourseList(user.getCourses().stream()\r\n                    .sorted(Comparator.comparing(Course::getName))\r\n                    .collect(Collectors.toList()));\r\n            return dto;\r\n        }\r\n    }\r\n\r\n    private static class UserRepositoryImpl implements UserRepository {\r\n        @Override\r\n        public Optional&lt;User&gt; findById(Long id) {\r\n            return Optional.ofNullable(userLookup.get(id));\r\n        }\r\n    }\r\n\r\n    private static class UserDTO {\r\n        private String name;\r\n        private List&lt;Course&gt; courseList;\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public List&lt;Course&gt; getCourseList() {\r\n            return courseList;\r\n        }\r\n\r\n        public void setCourseList(List&lt;Course&gt; courseList) {\r\n            this.courseList = courseList;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;[User={name=%s,courseList=%s}]&quot;, name, courseList);\r\n        }\r\n    }\r\n\r\n    private static class Course {\r\n        private String id;\r\n        private String name;\r\n\r\n        public Course(String id, String name) {\r\n            this.id = id;\r\n            this.name = name;\r\n        }\r\n\r\n        public String getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(String id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;[Course={id=%s,name=%s}]&quot;, id, name);\r\n        }\r\n    }\r\n\r\n    private static class User {\r\n        private long id;\r\n        private String name;\r\n        private Set&lt;Course&gt; courses;\r\n\r\n        public long getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(long id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public Set&lt;Course&gt; getCourses() {\r\n            return courses;\r\n        }\r\n\r\n        public void setCourses(Set&lt;Course&gt; courses) {\r\n            this.courses = courses;\r\n        }\r\n    }\r\n\r\n    private static interface UserRepository extends Repository&lt;User, Long&gt; {\r\n        // See: UserRepositoryImpl\r\n    }\r\n\r\n    private static class UserNotFoundException extends Exception {\r\n        public UserNotFoundException(String message) {\r\n            super(message);\r\n        }\r\n    }\r\n\r\n    private static interface Repository&lt;ENTITY, ID_TYPE&gt; {\r\n        Optional&lt;ENTITY&gt; findById(ID_TYPE id);\r\n    }\r\n}\r\n```\r\n\r\n## Output\r\n\r\n&gt; [User={name=John Doe,courseList=[[Course={id=CMSC100,name=Bits and Bytes of Computer and Information Sciences}], [Course={id=CMSC250,name=Discrete Structures}], [Course={id=CMSC106,name=Introduction to C Programming}], [Course={id=CMSC133,name=Object Oriented Programming I Beyond Fundamentals}]]}]\r\n\r\n  [set]: https://en.wikipedia.org/wiki/Set_(abstract_data_type)","title":"Java lambda SortId inside map operator","body":"<p>By its definition, a <a href=\"https://en.wikipedia.org/wiki/Set_(abstract_data_type)\" rel=\"nofollow noreferrer\">set</a> is <em>an abstract data type that can store unique values, without any particular order</em>. They are always unordered, because they are designed for fast-access. This is why they are not sortable.</p>\n<p>If your courses come back as a <code>Set</code> from the database, you will need to convert them to a <code>List</code> to sort them.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static class UserMapper {\n    public UserDTO mapUserDTO(User user) {\n        if (user == null) {\n            return null;\n        }\n        UserDTO dto = new UserDTO();\n        dto.setName(user.getName());\n        // Sort when mapping...\n        dto.setCourseList(user.getCourses().stream()\n                .sorted(Comparator.comparing(Course::getName))\n                .collect(Collectors.toList()));\n        return dto;\n    }\n}\n</code></pre>\n<h2>Full example</h2>\n<p>I mocked out all the repository and mapper stuff below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport java.util.*;\nimport java.util.stream.Collectors;\n\npublic class UserService {\n    private static final Map&lt;Long, User&gt; userLookup;\n\n    static {\n        // Add a default user as ID=1\n        User user = new User();\n        user.setId(1L);\n        user.setName(&quot;John Doe&quot;);\n        Set&lt;Course&gt; courseSet = new HashSet&lt;&gt;();\n        courseSet.add(new Course(&quot;CMSC100&quot;, &quot;Bits and Bytes of Computer and Information Sciences&quot;));\n        courseSet.add(new Course(&quot;CMSC106&quot;, &quot;Introduction to C Programming&quot;));\n        courseSet.add(new Course(&quot;CMSC133&quot;, &quot;Object Oriented Programming I Beyond Fundamentals&quot;));\n        courseSet.add(new Course(&quot;CMSC250&quot;, &quot;Discrete Structures&quot;));\n        user.setCourses(courseSet);\n        userLookup = Collections.singletonMap(1L, user);\n    }\n\n    public static void main(String[] args) {\n        UserService userService = new UserService();\n        try {\n            UserDTO dto = userService.getUserById(1L);\n            System.out.println(dto);\n        } catch (UserNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private UserRepository userRepository = new UserRepositoryImpl();\n    private UserMapper userMapper = new UserMapper();\n\n    public UserDTO getUserById(Long id) throws UserNotFoundException {\n        return userRepository.findById(id).map(user -&gt; {\n            UserDTO userDTO = userMapper.mapUserDTO(user);\n            return userDTO;\n        }).orElseThrow(() -&gt; new UserNotFoundException(String.format(&quot;User with id %s not found&quot;, id)));\n    }\n\n    private static class UserMapper {\n        public UserDTO mapUserDTO(User user) {\n            if (user == null) {\n                return null;\n            }\n            UserDTO dto = new UserDTO();\n            dto.setName(user.getName());\n            // Sort when mapping...\n            dto.setCourseList(user.getCourses().stream()\n                    .sorted(Comparator.comparing(Course::getName))\n                    .collect(Collectors.toList()));\n            return dto;\n        }\n    }\n\n    private static class UserRepositoryImpl implements UserRepository {\n        @Override\n        public Optional&lt;User&gt; findById(Long id) {\n            return Optional.ofNullable(userLookup.get(id));\n        }\n    }\n\n    private static class UserDTO {\n        private String name;\n        private List&lt;Course&gt; courseList;\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public List&lt;Course&gt; getCourseList() {\n            return courseList;\n        }\n\n        public void setCourseList(List&lt;Course&gt; courseList) {\n            this.courseList = courseList;\n        }\n\n        @Override\n        public String toString() {\n            return String.format(&quot;[User={name=%s,courseList=%s}]&quot;, name, courseList);\n        }\n    }\n\n    private static class Course {\n        private String id;\n        private String name;\n\n        public Course(String id, String name) {\n            this.id = id;\n            this.name = name;\n        }\n\n        public String getId() {\n            return id;\n        }\n\n        public void setId(String id) {\n            this.id = id;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        @Override\n        public String toString() {\n            return String.format(&quot;[Course={id=%s,name=%s}]&quot;, id, name);\n        }\n    }\n\n    private static class User {\n        private long id;\n        private String name;\n        private Set&lt;Course&gt; courses;\n\n        public long getId() {\n            return id;\n        }\n\n        public void setId(long id) {\n            this.id = id;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public Set&lt;Course&gt; getCourses() {\n            return courses;\n        }\n\n        public void setCourses(Set&lt;Course&gt; courses) {\n            this.courses = courses;\n        }\n    }\n\n    private static interface UserRepository extends Repository&lt;User, Long&gt; {\n        // See: UserRepositoryImpl\n    }\n\n    private static class UserNotFoundException extends Exception {\n        public UserNotFoundException(String message) {\n            super(message);\n        }\n    }\n\n    private static interface Repository&lt;ENTITY, ID_TYPE&gt; {\n        Optional&lt;ENTITY&gt; findById(ID_TYPE id);\n    }\n}\n</code></pre>\n<h2>Output</h2>\n<blockquote>\n<p>[User={name=John Doe,courseList=[[Course={id=CMSC100,name=Bits and Bytes of Computer and Information Sciences}], [Course={id=CMSC250,name=Discrete Structures}], [Course={id=CMSC106,name=Introduction to C Programming}], [Course={id=CMSC133,name=Object Oriented Programming I Beyond Fundamentals}]]}]</p>\n</blockquote>\n"}],"owner":{"account_id":7275154,"reputation":1283,"user_id":5546850,"accept_rate":66,"display_name":"James"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76256614,"answer_count":1,"score":0,"last_activity_date":1684172419,"creation_date":1684168895,"question_id":76256222,"body_markdown":"I have the following method, and I want to sort the list of courses of my user object, but I&#39;m getting a compilation error: \r\n\r\n```java\r\npublic UserDTO getUserById(Long id) {\r\n  return userRepository.findById(id).map(user -&gt; {\r\n    UserDTO userDTO = userMapper.mapUserDTO(user);\r\n\r\n    // This line is not working. I want to sort the list of courses.\r\n    //userDTO.getListOfcourses().sorted(Comparator.comparingInt(CourseDTO::getSortingNumber));\r\n\r\n    return userDTO;\r\n  }).orElseThrow(() -&gt; new UserNotFound(String.format(&quot;User with id %s not found&quot;, id)));\r\n}\r\n```\r\n\r\nThis is the compilation error:\r\n\r\n&gt; The method `sort(Comparator.comparingInt(CourseDTO::getSortingNumber))` is undefined for the type `Set&lt;CourseDTO&gt;`","title":"Java lambda SortId inside map operator","body":"<p>I have the following method, and I want to sort the list of courses of my user object, but I'm getting a compilation error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public UserDTO getUserById(Long id) {\n  return userRepository.findById(id).map(user -&gt; {\n    UserDTO userDTO = userMapper.mapUserDTO(user);\n\n    // This line is not working. I want to sort the list of courses.\n    //userDTO.getListOfcourses().sorted(Comparator.comparingInt(CourseDTO::getSortingNumber));\n\n    return userDTO;\n  }).orElseThrow(() -&gt; new UserNotFound(String.format(&quot;User with id %s not found&quot;, id)));\n}\n</code></pre>\n<p>This is the compilation error:</p>\n<blockquote>\n<p>The method <code>sort(Comparator.comparingInt(CourseDTO::getSortingNumber))</code> is undefined for the type <code>Set&lt;CourseDTO&gt;</code></p>\n</blockquote>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3378015,"reputation":991,"user_id":2835764,"accept_rate":75,"display_name":"Sujal Mandal"},"score":0,"creation_date":1511504482,"post_id":42393211,"comment_id":81889162,"body_markdown":"you don&#39;t really need tomcat dependency, spring starter web &amp; thymeleaf should do it.","body":"you don&#39;t really need tomcat dependency, spring starter web &amp; thymeleaf should do it."},{"owner":{"account_id":3404868,"reputation":3924,"user_id":2856202,"accept_rate":50,"display_name":"daparic"},"score":0,"creation_date":1604587361,"post_id":42393211,"comment_id":114396720,"body_markdown":"`thymeloaf` is not needed. Just put `index.html` in `src/main/resources/static/` folder and static html is done!","body":"<code>thymeloaf</code> is not needed. Just put <code>index.html</code> in <code>src&#47;main&#47;resources&#47;static&#47;</code> folder and static html is done!"}],"answers":[{"tags":[],"owner":{"account_id":4779947,"reputation":3849,"user_id":3862022,"display_name":"csenga"},"down_vote_count":4,"up_vote_count":98,"is_accepted":true,"score":94,"last_activity_date":1655022911,"creation_date":1487771390,"answer_id":42393332,"question_id":42393211,"body_markdown":"Static files should be served from resources, not from a controller.\r\n&gt; Spring Boot will automatically add static web resources located within\r\n&gt; any of the following directories:\r\n&gt; \r\n&gt;     /META-INF/resources/  \r\n&gt;     /resources/  \r\n&gt;     /static/  \r\n&gt;     /public/\r\n\r\nrefs:  \r\nhttps://spring.io/blog/2013/12/19/serving-static-web-content-with-spring-boot  \r\nhttps://spring.io/guides/gs/serving-web-content/","title":"How can I serve static html from spring boot?","body":"<p>Static files should be served from resources, not from a controller.</p>\n<blockquote>\n<p>Spring Boot will automatically add static web resources located within\nany of the following directories:</p>\n<pre><code>/META-INF/resources/  \n/resources/  \n/static/  \n/public/\n</code></pre>\n</blockquote>\n<p>refs:<br />\n<a href=\"https://spring.io/blog/2013/12/19/serving-static-web-content-with-spring-boot\" rel=\"noreferrer\">https://spring.io/blog/2013/12/19/serving-static-web-content-with-spring-boot</a><br />\n<a href=\"https://spring.io/guides/gs/serving-web-content/\" rel=\"noreferrer\">https://spring.io/guides/gs/serving-web-content/</a></p>\n"},{"tags":[],"owner":{"account_id":1895890,"reputation":4097,"user_id":1712880,"accept_rate":27,"display_name":"Hamid Mohayeji"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1632475766,"creation_date":1519031388,"answer_id":48862637,"question_id":42393211,"body_markdown":"In Spring boot, `/META-INF/resources/`, `/resources/`, `static/` and `public/` directories are available to serve static contents.\r\n\r\nSo you can create a `static/` or `public/` directory under `resources/` directory and put your static contents there. And they will be accessible by: `http://localhost:8080/your-file.ext`. (assuming the `server.port` is 8080)\r\n\r\nYou can customize these directories using `spring.resources.static-locations` in the `application.properties`.\r\n\r\nFor example:\r\n\r\n    spring.resources.static-locations=classpath:/custom/\r\n\r\nNow you can use `custom/` folder under `resources/` to serve static files.\r\n\r\nThis is also possible using Java config in Spring Boot 2:\r\n\r\n    @Configuration\r\n    public class StaticConfig implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            registry.addResourceHandler(&quot;/static/**&quot;).addResourceLocations(&quot;classpath:/custom/&quot;);\r\n        }\r\n    }\r\n\r\nThis confugration maps contents of `custom` directory to the `http://localhost:8080/static/**` url.","title":"How can I serve static html from spring boot?","body":"<p>In Spring boot, <code>/META-INF/resources/</code>, <code>/resources/</code>, <code>static/</code> and <code>public/</code> directories are available to serve static contents.</p>\n<p>So you can create a <code>static/</code> or <code>public/</code> directory under <code>resources/</code> directory and put your static contents there. And they will be accessible by: <code>http://localhost:8080/your-file.ext</code>. (assuming the <code>server.port</code> is 8080)</p>\n<p>You can customize these directories using <code>spring.resources.static-locations</code> in the <code>application.properties</code>.</p>\n<p>For example:</p>\n<pre><code>spring.resources.static-locations=classpath:/custom/\n</code></pre>\n<p>Now you can use <code>custom/</code> folder under <code>resources/</code> to serve static files.</p>\n<p>This is also possible using Java config in Spring Boot 2:</p>\n<pre><code>@Configuration\npublic class StaticConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/static/**&quot;).addResourceLocations(&quot;classpath:/custom/&quot;);\n    }\n}\n</code></pre>\n<p>This confugration maps contents of <code>custom</code> directory to the <code>http://localhost:8080/static/**</code> url.</p>\n"},{"tags":[],"owner":{"account_id":907774,"reputation":9217,"user_id":942317,"accept_rate":87,"display_name":"STEEL"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1521469377,"creation_date":1521469377,"answer_id":49365261,"question_id":42393211,"body_markdown":"You can quickly serve static content in JAVA Spring-boot App via `thymeleaf` (ref: [source][1])\r\n\r\nI assume you have already added Spring Boot plugin `apply plugin: &#39;org.springframework.boot&#39;` and the necessary `buildscript`\r\n\r\nThen go ahead and ADD **thymeleaf** to your `build.gradle` ==&gt; \r\n\r\n\r\n    dependencies {\r\n        compile(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n        compile(&quot;org.springframework.boot:spring-boot-starter-thymeleaf&quot;)\r\n        testCompile(&#39;org.springframework.boot:spring-boot-starter-test&#39;)\r\n    }\r\n\r\n\r\nLets assume you have added **home.html** at `src/main/resources`\r\nTo serve this file, you will need to create a controller.\r\n  \r\n\r\n    package com.ajinkya.th.controller;\r\n    \r\n      import org.springframework.stereotype.Controller;\r\n      import org.springframework.web.bind.annotation.RequestMapping;\r\n    \r\n      @Controller\r\n      public class HomePageController {\r\n    \r\n          @RequestMapping(&quot;/&quot;)\r\n          public String homePage() {\r\n            return &quot;home&quot;;\r\n          }\r\n    \r\n      }\r\n\r\n\r\nThats it ! Now restart your gradle server. `./gradlew bootRun`\r\n\r\n  [1]: https://github.com/spring-guides/gs-serving-web-content","title":"How can I serve static html from spring boot?","body":"<p>You can quickly serve static content in JAVA Spring-boot App via <code>thymeleaf</code> (ref: <a href=\"https://github.com/spring-guides/gs-serving-web-content\" rel=\"nofollow noreferrer\">source</a>)</p>\n\n<p>I assume you have already added Spring Boot plugin <code>apply plugin: 'org.springframework.boot'</code> and the necessary <code>buildscript</code></p>\n\n<p>Then go ahead and ADD <strong>thymeleaf</strong> to your <code>build.gradle</code> ==> </p>\n\n<pre><code>dependencies {\n    compile('org.springframework.boot:spring-boot-starter-web')\n    compile(\"org.springframework.boot:spring-boot-starter-thymeleaf\")\n    testCompile('org.springframework.boot:spring-boot-starter-test')\n}\n</code></pre>\n\n<p>Lets assume you have added <strong>home.html</strong> at <code>src/main/resources</code>\nTo serve this file, you will need to create a controller.</p>\n\n<pre><code>package com.ajinkya.th.controller;\n\n  import org.springframework.stereotype.Controller;\n  import org.springframework.web.bind.annotation.RequestMapping;\n\n  @Controller\n  public class HomePageController {\n\n      @RequestMapping(\"/\")\n      public String homePage() {\n        return \"home\";\n      }\n\n  }\n</code></pre>\n\n<p>Thats it ! Now restart your gradle server. <code>./gradlew bootRun</code></p>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1542722201,"creation_date":1542722201,"answer_id":53394600,"question_id":42393211,"body_markdown":"I am using `:: Spring Boot :: (v2.0.4.`[*`RELEASE`*](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Release-Notes)`) with Spring Framework 5`\r\n  \r\n&gt; Spring Boot 2.0 requires Java 8 as a minimum version. Many existing APIs have been updated to take advantage of Java 8 features such as: default methods on interfaces, functional callbacks, and new APIs such as javax.time.\r\n\r\n###### **Static Content**\r\n\r\nBy default, Spring Boot serves static content from a directory called &lt;kbd&gt;/static&lt;/kbd&gt; (or &lt;kbd&gt;/public&lt;/kbd&gt; or &lt;kbd&gt;/resources&lt;/kbd&gt; or &lt;kbd&gt;/META-INF/&lt;/kbd&gt;resources) in the classpath or from the root of the ServletContext. It uses the ResourceHttpRequestHandler from Spring MVC so that you can modify that behavior by adding your own `WebMvcConfigurer` and overriding the `addResourceHandlers` method.\r\n\r\nBy default, resources are mapped on `/**` and located on `/static` directory.\r\nBut you can customize the static loactions programmatically inside our web context configuration class.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\t@Configuration @EnableWebMvc\r\n\tpublic class Static_ResourceHandler implements WebMvcConfigurer {\r\n\r\n\t\t@Override\r\n\t\tpublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n\t\t\t// When overriding default behavior, you need to add default(/) as well as added static paths(/webapp).\r\n\t\t\t\r\n\t\t\t// src/main/resources/static/...\r\n\t\t\tregistry\r\n\t\t\t\t//.addResourceHandler(&quot;/**&quot;) // &#171; /css/myStatic.css\r\n\t\t\t\t.addResourceHandler(&quot;/static/**&quot;) // &#171; /static/css/myStatic.css\r\n\t\t\t\t.addResourceLocations(&quot;classpath:/static/&quot;) // Default Static Loaction\r\n\t\t\t\t.setCachePeriod( 3600 )\r\n\t\t\t\t.resourceChain(true) // 4.1\r\n\t\t\t\t.addResolver(new GzipResourceResolver()) // 4.1\r\n\t\t\t\t.addResolver(new PathResourceResolver()); //4.1\r\n\t\t\t\r\n\t\t\t// src/main/resources/templates/static/...\r\n\t\t\tregistry\r\n\t\t\t\t.addResourceHandler(&quot;/templates/**&quot;) // &#171; /templates/style.css\r\n\t\t\t\t.addResourceLocations(&quot;classpath:/templates/static/&quot;);\r\n\t\t\t\r\n\t\t\t// Do not use the src/main/webapp/... directory if your application is packaged as a jar.\r\n\t\t\tregistry\r\n\t\t\t\t.addResourceHandler(&quot;/webapp/**&quot;) // &#171; /webapp/css/style.css\r\n\t\t\t\t.addResourceLocations(&quot;/&quot;);\r\n\t\t\t\r\n\t\t\t// File located on disk\r\n\t\t\tregistry\r\n\t\t\t\t.addResourceHandler(&quot;/system/files/**&quot;)\r\n\t\t\t\t.addResourceLocations(&quot;file:///D:/&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\r\n\thttp://localhost:8080/handlerPath/resource-path+name\r\n\t\t\t\t\t\t/static\t\t\t/css/myStatic.css\r\n\t\t\t\t\t\t/webapp\t\t\t/css/style.css\r\n\t\t\t\t\t\t/templates\t\t/style.css\r\n\r\n\r\n*In Spring every request will go through the DispatcherServlet. To avoid Static file request through DispatcherServlet(Front contoller) we configure MVC [Static content](https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-spring-mvc-static-content).*\r\n\r\nAs `@STEEL` said static resources should not go through Controller. `Thymleaf` is a ViewResolver which takes the view name form controller and adds `prefix` and `suffix` to View Layer.\r\n","title":"How can I serve static html from spring boot?","body":"<p>I am using <code>:: Spring Boot :: (v2.0.4.</code><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Release-Notes\" rel=\"noreferrer\"><em><code>RELEASE</code></em></a><code>) with Spring Framework 5</code></p>\n\n<blockquote>\n  <p>Spring Boot 2.0 requires Java 8 as a minimum version. Many existing APIs have been updated to take advantage of Java 8 features such as: default methods on interfaces, functional callbacks, and new APIs such as javax.time.</p>\n</blockquote>\n\n<strong>Static Content</strong>\n\n<p>By default, Spring Boot serves static content from a directory called <kbd>/static</kbd> (or <kbd>/public</kbd> or <kbd>/resources</kbd> or <kbd>/META-INF/</kbd>resources) in the classpath or from the root of the ServletContext. It uses the ResourceHttpRequestHandler from Spring MVC so that you can modify that behavior by adding your own <code>WebMvcConfigurer</code> and overriding the <code>addResourceHandlers</code> method.</p>\n\n<p>By default, resources are mapped on <code>/**</code> and located on <code>/static</code> directory.\nBut you can customize the static loactions programmatically inside our web context configuration class.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration @EnableWebMvc\npublic class Static_ResourceHandler implements WebMvcConfigurer {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        // When overriding default behavior, you need to add default(/) as well as added static paths(/webapp).\n\n        // src/main/resources/static/...\n        registry\n            //.addResourceHandler(\"/**\") // « /css/myStatic.css\n            .addResourceHandler(\"/static/**\") // « /static/css/myStatic.css\n            .addResourceLocations(\"classpath:/static/\") // Default Static Loaction\n            .setCachePeriod( 3600 )\n            .resourceChain(true) // 4.1\n            .addResolver(new GzipResourceResolver()) // 4.1\n            .addResolver(new PathResourceResolver()); //4.1\n\n        // src/main/resources/templates/static/...\n        registry\n            .addResourceHandler(\"/templates/**\") // « /templates/style.css\n            .addResourceLocations(\"classpath:/templates/static/\");\n\n        // Do not use the src/main/webapp/... directory if your application is packaged as a jar.\n        registry\n            .addResourceHandler(\"/webapp/**\") // « /webapp/css/style.css\n            .addResourceLocations(\"/\");\n\n        // File located on disk\n        registry\n            .addResourceHandler(\"/system/files/**\")\n            .addResourceLocations(\"file:///D:/\");\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>http://localhost:8080/handlerPath/resource-path+name\n                    /static         /css/myStatic.css\n                    /webapp         /css/style.css\n                    /templates      /style.css\n</code></pre>\n\n<p><em>In Spring every request will go through the DispatcherServlet. To avoid Static file request through DispatcherServlet(Front contoller) we configure MVC <a href=\"https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-spring-mvc-static-content\" rel=\"noreferrer\">Static content</a>.</em></p>\n\n<p>As <code>@STEEL</code> said static resources should not go through Controller. <code>Thymleaf</code> is a ViewResolver which takes the view name form controller and adds <code>prefix</code> and <code>suffix</code> to View Layer.</p>\n"},{"tags":[],"owner":{"account_id":1241163,"reputation":1555,"user_id":1203728,"accept_rate":80,"display_name":"SaWo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1564648258,"creation_date":1564648258,"answer_id":57304878,"question_id":42393211,"body_markdown":"As it is written before, some folders (/META-INF/resources/, /resources/, /static/, /public/) serve static content by default, conroller misconfiguration can break this behaviour.\r\n\r\nIt is a common pitfall that people define the base url of a controller in the `@RestController` annotation, instead of the `@RequestMapping` annotation on the top of the controllers.\r\n\r\nThis is wrong:\r\n\r\n    @RestController(&quot;/api/base&quot;)\r\n    public class MyController {\r\n        \r\n        @PostMapping\r\n        public String myPostMethod( ...) {\r\n\r\nThe above example will prevent you from opening the index.html. The Spring expects a POST method at the root, because the `myPostMethod` is mapped to the &quot;/&quot; path.\r\n\r\nYou have to use this instead:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/base&quot;)\r\n    public class MyController {\r\n        \r\n        @PostMapping\r\n        public String myPostMethod( ...) {","title":"How can I serve static html from spring boot?","body":"<p>As it is written before, some folders (/META-INF/resources/, /resources/, /static/, /public/) serve static content by default, conroller misconfiguration can break this behaviour.</p>\n\n<p>It is a common pitfall that people define the base url of a controller in the <code>@RestController</code> annotation, instead of the <code>@RequestMapping</code> annotation on the top of the controllers.</p>\n\n<p>This is wrong:</p>\n\n<pre><code>@RestController(\"/api/base\")\npublic class MyController {\n\n    @PostMapping\n    public String myPostMethod( ...) {\n</code></pre>\n\n<p>The above example will prevent you from opening the index.html. The Spring expects a POST method at the root, because the <code>myPostMethod</code> is mapped to the \"/\" path.</p>\n\n<p>You have to use this instead:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api/base\")\npublic class MyController {\n\n    @PostMapping\n    public String myPostMethod( ...) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3339986,"reputation":521,"user_id":2806467,"display_name":"Kike Lebowski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1601540272,"creation_date":1601540272,"answer_id":64151498,"question_id":42393211,"body_markdown":"I had to add thymeleaf dependency to pom.xml. Without this dependency Spring boot didn&#39;t find static resources.\r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"How can I serve static html from spring boot?","body":"<p>I had to add thymeleaf dependency to pom.xml. Without this dependency Spring boot didn't find static resources.</p>\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15441060,"reputation":71,"user_id":11139624,"display_name":"constantem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684172259,"creation_date":1684172259,"answer_id":76256629,"question_id":42393211,"body_markdown":"There are three kinds of url in Spring Boot:\r\n\r\n 1. relative to web application root: eg. `&quot;/abc&quot;`\r\n 2. relative to classpath: eg.  `&quot;classpath:/abc&quot;`\r\n 3. relative to file system: eg. `&quot;file:/abc&quot;`\r\n\r\nReturn to the subject, in Spring Boot, static resources in the following 4 url can be accessed via \r\n`&quot;http://localhost:8080/${context root}/${your static resources}&quot;`.\r\n\r\n    classpath:/META-INF/resources\r\n    classpath:/resources\r\n    classpath:/static\r\n    classpath:/public","title":"How can I serve static html from spring boot?","body":"<p>There are three kinds of url in Spring Boot:</p>\n<ol>\n<li>relative to web application root: eg. <code>&quot;/abc&quot;</code></li>\n<li>relative to classpath: eg.  <code>&quot;classpath:/abc&quot;</code></li>\n<li>relative to file system: eg. <code>&quot;file:/abc&quot;</code></li>\n</ol>\n<p>Return to the subject, in Spring Boot, static resources in the following 4 url can be accessed via\n<code>&quot;http://localhost:8080/${context root}/${your static resources}&quot;</code>.</p>\n<pre><code>classpath:/META-INF/resources\nclasspath:/resources\nclasspath:/static\nclasspath:/public\n</code></pre>\n"}],"owner":{"account_id":3579638,"reputation":1004,"user_id":2988146,"accept_rate":100,"display_name":"osmingo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202606,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":42393332,"answer_count":7,"score":73,"last_activity_date":1684172259,"creation_date":1487771064,"question_id":42393211,"body_markdown":"I ran the spring-boot-sample-web-static project from [here][1], made this alteration to the pom\r\n\r\n&lt;!-- language. xml --&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\nAnd added this class to serve a duplicate page index2.html from the same `static` folder location:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    \r\n    @Controller\r\n    public class Rester {\r\n    \r\n        @RequestMapping(value = &quot;/rand&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        @ResponseBody\r\n        private RandomObj jsonEndpoint() {\r\n            return new RandomObj();\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/tw&quot;)\r\n        public String somePg() {\r\n            return &quot;index2&quot;;\r\n        }\r\n    }\r\nThe json url works fine, but when I try to access localhost:8080/tw I get a blank page, and this error in the console:\r\n\r\n    2017-02-22 15:37:22.076 ERROR 21494 --- [nio-8080-exec-9] o.s.boot.web.support.ErrorPageFilter     : Cannot forward to error page for request [/tw] as the response has already been committed. As a result, the response may have the wrong status code. If your application is running on WebSphere Application Server you may be able to resolve this problem by setting com.ibm.ws.webcontainer.invokeFlushAfterService to false\r\n\r\nAm I doing something wrong?\r\n  [1]: https://github.com/spring-projects/spring-boot/tree/1.5.x","title":"How can I serve static html from spring boot?","body":"<p>I ran the spring-boot-sample-web-static project from <a href=\"https://github.com/spring-projects/spring-boot/tree/1.5.x\" rel=\"noreferrer\">here</a>, made this alteration to the pom</p>\n\n\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And added this class to serve a duplicate page index2.html from the same <code>static</code> folder location:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.http.MediaType;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\n@Controller\npublic class Rester {\n\n    @RequestMapping(value = \"/rand\", produces = MediaType.APPLICATION_JSON_VALUE)\n    @ResponseBody\n    private RandomObj jsonEndpoint() {\n        return new RandomObj();\n    }\n\n    @RequestMapping(value = \"/tw\")\n    public String somePg() {\n        return \"index2\";\n    }\n}\n</code></pre>\n\n<p>The json url works fine, but when I try to access localhost:8080/tw I get a blank page, and this error in the console:</p>\n\n<pre><code>2017-02-22 15:37:22.076 ERROR 21494 --- [nio-8080-exec-9] o.s.boot.web.support.ErrorPageFilter     : Cannot forward to error page for request [/tw] as the response has already been committed. As a result, the response may have the wrong status code. If your application is running on WebSphere Application Server you may be able to resolve this problem by setting com.ibm.ws.webcontainer.invokeFlushAfterService to false\n</code></pre>\n\n<p>Am I doing something wrong?</p>\n"},{"tags":["java","crystal-reports","business-objects","business-objects-sdk"],"answers":[{"tags":[],"owner":{"account_id":2098586,"reputation":37,"user_id":1866812,"accept_rate":100,"display_name":"Elliot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1490888155,"creation_date":1490888155,"answer_id":43122319,"question_id":42843592,"body_markdown":"Hi Found my own answer.\r\n\r\nFor people facing the same issue : we have a firewall between the two machines.\r\n\r\nWhen we open a connection between our app and BO, the port is dynamically chosen on the app side.\r\n\r\nFor now, we disabled the firewall and are looking into a way to set a static port to use on the app side.\r\n\r\n","title":"Business Objects JAVA SDK ISessionMgr.logon hangs","body":"<p>Hi Found my own answer.</p>\n\n<p>For people facing the same issue : we have a firewall between the two machines.</p>\n\n<p>When we open a connection between our app and BO, the port is dynamically chosen on the app side.</p>\n\n<p>For now, we disabled the firewall and are looking into a way to set a static port to use on the app side.</p>\n"}],"owner":{"account_id":2098586,"reputation":37,"user_id":1866812,"accept_rate":100,"display_name":"Elliot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1408,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43122319,"answer_count":1,"score":0,"last_activity_date":1684171487,"creation_date":1489693872,"question_id":42843592,"body_markdown":"We recently upgraded our Business Object XI environment for a new Business Objects 4.1 but we are now experiencing some issues with it\r\n\r\nWe have an Java web application hosted on a Weblogic server  that use the BO SDK to schedule Crystal Report on another server (Windows VM + tomcat server &amp; BO 4.1)\r\n\r\nHere’s the code used for the schedule : \r\n    \r\n      /**\r\n       * Schedule a report inside CrystalReport\r\n       */\r\n      public void executeReport(ReportContext reportContext) throws Exception { \r\n      logger.info(&quot;Class CrystalReportHelper, Executing report request for report &#39;&quot; + reportContext.getReportName() + &quot;&#39;&quot;);\r\n\r\n      IEnterpriseSession enterpriseSession = null;\r\n      try {\r\n         String password = getPassword(reportContext);\r\n         logger.info(&quot;Class CrystalReportHelper, Retrievieving password &quot;);\r\n         if (password != null) {\r\n            if (logger.isDebugEnabled()) {\r\n               logger.debug(&quot;Class CrystalReportHelper, Password obtained &#39;&quot; + password + &quot;&#39;&quot;);\r\n            }\r\n            else {\r\n               logger.info(&quot;Class CrystalReportHelper, Password obtained &quot;);\r\n            }\r\n         }\r\n         else {\r\n            logger.error(&quot;Class CrystalReportHelper, Invalid password for BO Logon&quot;);\r\n            throw new Exception(&quot;Invalid password for BO Logon - password is null&quot;);\r\n         }\r\n\r\n         String username = getUserName(reportContext);\r\n         logger.info(&quot;Class CrystalReportHelper, Retrievieving username &quot;);\r\n         if (username != null) {\r\n            logger.info(&quot;Class CrystalReportHelper, User name obtained &#39;&quot; + username + &quot;&#39;&quot;);\r\n         }\r\n         else {\r\n            logger.error(&quot;Class CrystalReportHelper, Invalid username for BO Logon&quot;);\r\n            throw new Exception(&quot;Invalid username for BO Logon - username is null&quot;);\r\n         }\r\n\r\n         String cmsName = getCentralManagementServerName();\r\n         logger.info(&quot;Class CrystalReportHelper, Retrievieving Central Management Server Name &quot;);\r\n         if (cmsName != null) {\r\n            logger.info(&quot;Class CrystalReportHelper,Central Management Server Name obtained = &quot; + cmsName);\r\n         }\r\n         else {\r\n            logger.error(&quot;Class CrystalReportHelper, Invalid Central Management Server Name for BO Logon.&quot;);\r\n            throw new Exception(&quot;Invalid Central Management Server Name for BO Logon - Central Management Server Name is null&quot;);\r\n         }\r\n\r\n         enterpriseSession = getSession(username, password, cmsName);\r\n         if (logger.isDebugEnabled()) {\r\n            logger.debug(&quot;Class CrystalReportHelper, Retrieving BusinessObjectEnterprise Session with username&#39;&quot; + username + &quot;&#39; password &#39;&quot; + password + &quot;&#39; cmsName &#39;&quot; + cmsName + &quot;&#39; &quot;);\r\n         }\r\n         else {\r\n            logger.info(&quot;Class CrystalReportHelper, Retrieving BusinessObjectEnterprise Session with username&#39;&quot; + username + &quot;&#39; password &#39;&quot; + &quot;XXXX&quot; + &quot;&#39; cmsName &#39;&quot; + cmsName + &quot;&#39; &quot;);\r\n         }\r\n         if (enterpriseSession == null) {\r\n            logger.error(&quot;Class CrystalReportHelper, Coud not retrieve BusinessObjectEnterprise Session with username&#39;&quot; + username + &quot;&#39; password &#39;&quot; + password + &quot;&#39; cmsName &#39;&quot; + cmsName + &quot;&#39; &quot;);\r\n            throw new Exception(&quot;Could not retreive BO Session with username : &quot; + username + &quot; and CMS : &quot; + cmsName);\r\n         }\r\n         if (logger.isDebugEnabled()) {\r\n            logger.debug(&quot;Class CrystalReportHelper, BusinessObjectEnterprise Session retrieve with username&#39;&quot; + username + &quot;&#39; password &#39;&quot; + password + &quot;&#39; cmsName &#39;&quot; + cmsName + &quot;&#39; &quot;);\r\n         }\r\n         else {\r\n            logger.info(&quot;Class CrystalReportHelper, BusinessObjectEnterprise Session retrieve with username&#39;&quot; + username + &quot;&#39; password &#39;&quot; + &quot;XXXX&quot; + &quot;&#39; cmsName &#39;&quot; + cmsName + &quot;&#39; &quot;);\r\n         }\r\n\r\n         IInfoStore infoStore = (IInfoStore) enterpriseSession.getService(cmsName, BO_INFO_STORE);\r\n         logger.info(&quot;Class CrystalReportHelper, Retrieving BO service with cmsName&#39;&quot; + cmsName + &quot;&#39; BO_INFO_STORE &#39;&quot; + BO_INFO_STORE + &quot;&#39;&quot;);\r\n         if (infoStore == null) {\r\n            logger.error(&quot;Class CrystalReportHelper, Coud not obtain BO service with cmsName&#39;&quot; + cmsName + &quot;&#39; BO_INFO_STORE &#39;&quot; + BO_INFO_STORE + &quot;&#39;&quot;);\r\n            throw new Exception(&quot;Could not obtain BO service : &quot; + BO_INFO_STORE);\r\n         }\r\n\r\n         // Queries the CMS for the report.\r\n         logger.info(&quot;Class CrystalReportHelper, BO service retrieved with cmsName&#39;&quot; + cmsName + &quot;&#39; BO_INFO_STORE &#39;&quot; + BO_INFO_STORE + &quot;&#39;&quot;);\r\n\r\n         String queryReport = REPORT_QUERY.replaceFirst(REPLACE_REPORT_NAME, getReportName(reportContext));\r\n\r\n         logger.info(&quot;Class CrystalReportHelper, Executing query report &#39;&quot; + queryReport + &quot;&#39;.&quot;);\r\n         IInfoObjects reports = infoStore.query(queryReport);\r\n         if (reports.size() == 0) {\r\n            logger.error(&quot;Class CrystalReportHelper, Report &#39;&quot; + queryReport + &quot;&#39; not found..&quot;);\r\n            throw new Exception(&quot;Report &quot; + getReportName(reportContext) + &quot; not found in BusinessObject&quot;);\r\n         }\r\n         IReport report = (IReport) reports.get(0);\r\n\r\n         // Set report format.\r\n         IReportFormatOptions reportFormat = report.getReportFormatOptions();\r\n\r\n         int formatType = IReportFormatOptions.CeReportFormat.CRYSTAL_REPORT;\r\n         reportFormat.setFormat(formatType);\r\n\r\n         String destinationInbox = getDestinationInbox(reportContext);\r\n         IDestinationPlugin destinationPlugin = getDestinationPlugin(infoStore, destinationInbox);\r\n\r\n         // Create an interface to the scheduling options for the report.\r\n         ISchedulingInfo scheduleInfo = report.getSchedulingInfo();\r\n         scheduleInfo.setType(CeScheduleType.ONCE);\r\n         scheduleInfo.setRightNow(true);\r\n\r\n         IDestination destination = scheduleInfo.getDestination();\r\n         destination.setFromPlugin(destinationPlugin);\r\n\r\n         // copy the report parameters\r\n         this.setParameters(reportContext, report);\r\n\r\n         logger.info(&quot;Class CrystalReportHelper, Scheduling report &#39;&quot; + getReportName(reportContext) + &quot;&#39;. &quot;);\r\n         infoStore.schedule(reports);\r\n         logger.info(&quot;Class CrystalReportHelper, Report &#39;&quot; + getReportName(reportContext) + &quot;&#39; has been scheduled. &quot;);\r\n\r\n         if (reportContext.isEmailRequired() &amp; isEmailEnabled()) {\r\n            sendEmail(reportContext);\r\n         }\r\n      }\r\n      catch (SDKRuntimeException SDKre) {\r\n         logger.error(&quot;Class CrystalReportHelper, Could not execute report request for report &#39;&quot; + reportContext.getReportName() + &quot;&#39; caught SDKRuntimeException:  &quot; + SDKre.getMessage(), SDKre);\r\n         throw new Exception(SDKre);\r\n      }\r\n      catch (SDKException SDKe) {\r\n         logger.error(&quot;Class CrystalReportHelper, Could not execute report request for report &#39;&quot; + reportContext.getReportName() + &quot;&#39; caught SDKException:  &quot; + SDKe.getMessage(), SDKe);\r\n         throw new Exception(SDKe);\r\n      }\r\n      finally {\r\n         if (null != enterpriseSession) {\r\n            enterpriseSession.logoff();\r\n         }\r\n      }\r\n\r\nHere’s some data info :\r\n\r\n1. `Reportcontext` contains things like user/password for BO, report name and report prompt parameter to use\r\n2. `BO_INFO_STORE = “InfoStore”;`\r\n3. `REPORT_QUERY = &quot;Select * From CI_INFOOBJECTS WHERE SI_NAME=&#39;&quot; + REPLACE_REPORT_NAME + &quot;&#39; AND SI_INSTANCE = &#39;false&#39;&quot;;`\r\n\r\nHere&#39;s the method `getSession` used to connect to BO :\r\n\r\n        /**\r\n         * return BusinessObjectEnterprise session\r\n         *\r\n         * @param username\r\n         * @param password\r\n         * @return IEnterpriseSession\r\n         * @throws SDKException\r\n         */\r\n         public IEnterpriseSession getSession(String username, String password,      String cmsName) throws SDKException {\r\n         logger.debug(&quot;Class CrystalReportHelper, Retrieving    BusinessObjectEnterprise Session  username&#39;&quot; + username + &quot;&#39; password &#39;&quot; +   password + &quot;&#39; cmsName &#39;&quot; + cmsName + &quot;&#39; &quot;);\r\n\r\n      IEnterpriseSession enterpriseSession = null;\r\n      ISessionMgr sessionMgr = CrystalEnterprise.getSessionMgr();\r\n\r\n      boolean isAuthenticateEnterprise = getReportProperties().getAuthenticationTypeEnterprise();\r\n      logger.debug(&quot;Class CrystalReportHelper, isAuthenticateEnterprise  &#39;&quot; + isAuthenticateEnterprise + &quot;&#39; &quot;);\r\n      if (isAuthenticateEnterprise) {\r\n         enterpriseSession = sessionMgr.logon(username, password, cmsName, CeProgID.SEC_ENTERPRISE);\r\n      }\r\n      else {\r\n         enterpriseSession = sessionMgr.logon(username, password, cmsName, CeProgID.SEC_LDAP);\r\n      }\r\n\r\n      logger.debug(&quot;Class CrystalReportHelper, BusinessObjectEnterprise Session  obtained for username&#39;&quot; + username + &quot;&#39; password &#39;&quot; + password + &quot;&#39; cmsName &#39;&quot; + cmsName + &quot;&#39; &quot;);\r\n      return enterpriseSession;\r\n    }\r\n\r\nThe problem we’re experiencing is sometimes the process will hang on this line for about 45min : \r\n\r\n    enterpriseSession = sessionMgr.logon(username, password, cmsName, CeProgID.SEC_ENTERPRISE);\r\n\r\nHere’s a stacktrace from Weblogic when this occurs : \r\n\r\n&gt; ```\r\n&gt; &quot;[ACTIVE] ExecuteThread: &#39;7&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;&quot; waiting for lock java.lang.Object@3d24ae2c WAITING\r\n&gt;    java.lang.Object.wait(Native Method)\r\n&gt;    java.lang.Object.wait(Object.java:485)\r\n&gt;        com.crystaldecisions.thirdparty.com.ooc.OB.Downcall.waitUntilCompleted(Downcall.java:831)\r\n&gt;        com.crystaldecisions.thirdparty.com.ooc.OB.GIOPClientWorkerThreaded.receive(GIOPClientWorkerThreaded.java:327)\r\n&gt;        com.crystaldecisions.thirdparty.com.ooc.OB.GIOPClientWorkerThreaded.sendReceive(GIOPClientWorkerThreaded.java:353)\r\n&gt;    com.crystaldecisions.thirdparty.com.ooc.OB.Downcall.request(Downcall.java:336)\r\n&gt;    com.crystaldecisions.thirdparty.com.ooc.OB.DowncallStub.invoke(DowncallStub.java:583)\r\n&gt;    com.crystaldecisions.thirdparty.com.ooc.CORBA.Delegate.invoke(Delegate.java:579)\r\n&gt;        com.crystaldecisions.thirdparty.org.omg.CORBA.portable.ObjectImpl._invoke(ObjectImpl.java:125)\r\n&gt;        com.crystaldecisions.enterprise.ocaframework.idl.ImplServ._OSCAFactoryStub.newService(_OSCAFactoryStub.java:78)\r\n&gt;    com.crystaldecisions.enterprise.ocaframework.i.a(Unknown Source)\r\n&gt;    com.crystaldecisions.enterprise.ocaframework.i.a(Unknown Source)\r\n&gt;    com.crystaldecisions.enterprise.ocaframework.i.buildClusterInfo(Unknown Source)\r\n&gt;    com.crystaldecisions.enterprise.ocaframework.aa.int(Unknown Source)\r\n&gt;    com.crystaldecisions.enterprise.ocaframework.ServiceMgr.int(Unknown Source)\r\n&gt;    com.crystaldecisions.enterprise.ocaframework.p.a(Unknown Source)\r\n&gt;    com.crystaldecisions.enterprise.ocaframework.ServiceMgr.getManagedService(Unknown Source)\r\n&gt;    com.crystaldecisions.sdk.occa.security.internal.f.if(Unknown Source)\r\n&gt;    com.crystaldecisions.sdk.occa.security.internal.f.&lt;init&gt;(Unknown Source)\r\n&gt;        com.crystaldecisions.sdk.occa.security.internal.SecurityFactory.makeSecuritySession(Unknown Source)\r\n&gt;    com.crystaldecisions.sdk.occa.security.internal.t.a(Unknown Source)\r\n&gt;    com.crystaldecisions.sdk.occa.security.internal.t.userLogon(Unknown Source)\r\n&gt;    com.crystaldecisions.sdk.occa.security.internal.l.userLogon(Unknown Source)\r\n&gt;    com.crystaldecisions.sdk.framework.internal.b.logon(Unknown Source)\r\n&gt;        com.tranme.guide.commonservices.report.CrystalReportHelper.getSession(CrystalReportHelper.java:156)\r\n&gt;        com.tranme.guide.commonservices.report.CrystalReportHelper.getReportInfoObjectsByReportName(CrystalReportHelper.java:503)\r\n&gt;        com.tranme.guide.notificationmgt.manager.reports.util.ReportManagementTools.getReportInstanceStatuses(ReportManagementTools.java:81)\r\n&gt;        com.tranme.guide.notificationmgt.manager.reports.util.ReportManagementTools.getGenerationStatusResults(ReportManagementTools.java:51)\r\n&gt;        com.tranme.guide.notificationmgt.manager.BaseNotificationManager.updateReportGenerationStatus(BaseNotificationManager.java:244)\r\n&gt;        com.tranme.guide.notificationmgt.business.ejb.impl.NotificationManagementFacadeBeanImpl.updateReportGenerationStatus(NotificationManagementFacadeBeanImpl.java:123)\r\n&gt;         com.tranme.guide.notificationmgt.business.ejb.impl.NotificationManagementFacadeBeanImpl_z3lp9c_EOImpl.updateReportGenerationStatus(NotificationManagementFacadeBeanImpl_z3lp9c_EOImpl.java:140)\r\n&gt;        com.tranme.guide.notificationmgt.business.ejb.impl.NotificationManagementFacadeBeanImpl_z3lp9c_EOImpl_WLSkel.invoke(Unknown Source)\r\n&gt;    weblogic.rmi.internal.BasicServerRef.invoke(BasicServerRef.java:589)\r\n&gt;    weblogic.rmi.cluster.ClusterableServerRef.invoke(ClusterableServerRef.java:230)\r\n&gt;    weblogic.rmi.internal.BasicServerRef$1.run(BasicServerRef.java:477)\r\n&gt;    weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:363)\r\n&gt;    weblogic.security.service.SecurityManager.runAs(SecurityManager.java:147)\r\n&gt;    weblogic.rmi.internal.BasicServerRef.handleRequest(BasicServerRef.java:473)\r\n&gt;    weblogic.rmi.internal.wls.WLSExecuteRequest.run(WLSExecuteRequest.java:118)\r\n&gt;    weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)\r\n&gt;    weblogic.work.ExecuteThread.run(ExecuteThread.java:173)\r\n&gt; &quot;Business Objects - Sessions Clean up&quot; TIMED_WAITING\r\n&gt;    java.lang.Thread.sleep(Native Method)\r\n&gt;    com.crystaldecisions.enterprise.ocaframework.n.run(Unknown Source)\r\n&gt;    java.lang.Thread.run(Thread.java:619)\r\n&gt; &quot;OracleTimeoutPollingThread&quot; TIMED_WAITING\r\n&gt;    java.lang.Thread.sleep(Native Method)\r\n&gt;    oracle.jdbc.driver.OracleTimeoutPollingThread.run(OracleTimeoutPollingThread.java:150)\r\n&gt; ```\r\n\r\nThis never happened before on our BO XI environment.\r\n","title":"Business Objects JAVA SDK ISessionMgr.logon hangs","body":"<p>We recently upgraded our Business Object XI environment for a new Business Objects 4.1 but we are now experiencing some issues with it</p>\n<p>We have an Java web application hosted on a Weblogic server  that use the BO SDK to schedule Crystal Report on another server (Windows VM + tomcat server &amp; BO 4.1)</p>\n<p>Here’s the code used for the schedule :</p>\n<pre><code>  /**\n   * Schedule a report inside CrystalReport\n   */\n  public void executeReport(ReportContext reportContext) throws Exception { \n  logger.info(&quot;Class CrystalReportHelper, Executing report request for report '&quot; + reportContext.getReportName() + &quot;'&quot;);\n\n  IEnterpriseSession enterpriseSession = null;\n  try {\n     String password = getPassword(reportContext);\n     logger.info(&quot;Class CrystalReportHelper, Retrievieving password &quot;);\n     if (password != null) {\n        if (logger.isDebugEnabled()) {\n           logger.debug(&quot;Class CrystalReportHelper, Password obtained '&quot; + password + &quot;'&quot;);\n        }\n        else {\n           logger.info(&quot;Class CrystalReportHelper, Password obtained &quot;);\n        }\n     }\n     else {\n        logger.error(&quot;Class CrystalReportHelper, Invalid password for BO Logon&quot;);\n        throw new Exception(&quot;Invalid password for BO Logon - password is null&quot;);\n     }\n\n     String username = getUserName(reportContext);\n     logger.info(&quot;Class CrystalReportHelper, Retrievieving username &quot;);\n     if (username != null) {\n        logger.info(&quot;Class CrystalReportHelper, User name obtained '&quot; + username + &quot;'&quot;);\n     }\n     else {\n        logger.error(&quot;Class CrystalReportHelper, Invalid username for BO Logon&quot;);\n        throw new Exception(&quot;Invalid username for BO Logon - username is null&quot;);\n     }\n\n     String cmsName = getCentralManagementServerName();\n     logger.info(&quot;Class CrystalReportHelper, Retrievieving Central Management Server Name &quot;);\n     if (cmsName != null) {\n        logger.info(&quot;Class CrystalReportHelper,Central Management Server Name obtained = &quot; + cmsName);\n     }\n     else {\n        logger.error(&quot;Class CrystalReportHelper, Invalid Central Management Server Name for BO Logon.&quot;);\n        throw new Exception(&quot;Invalid Central Management Server Name for BO Logon - Central Management Server Name is null&quot;);\n     }\n\n     enterpriseSession = getSession(username, password, cmsName);\n     if (logger.isDebugEnabled()) {\n        logger.debug(&quot;Class CrystalReportHelper, Retrieving BusinessObjectEnterprise Session with username'&quot; + username + &quot;' password '&quot; + password + &quot;' cmsName '&quot; + cmsName + &quot;' &quot;);\n     }\n     else {\n        logger.info(&quot;Class CrystalReportHelper, Retrieving BusinessObjectEnterprise Session with username'&quot; + username + &quot;' password '&quot; + &quot;XXXX&quot; + &quot;' cmsName '&quot; + cmsName + &quot;' &quot;);\n     }\n     if (enterpriseSession == null) {\n        logger.error(&quot;Class CrystalReportHelper, Coud not retrieve BusinessObjectEnterprise Session with username'&quot; + username + &quot;' password '&quot; + password + &quot;' cmsName '&quot; + cmsName + &quot;' &quot;);\n        throw new Exception(&quot;Could not retreive BO Session with username : &quot; + username + &quot; and CMS : &quot; + cmsName);\n     }\n     if (logger.isDebugEnabled()) {\n        logger.debug(&quot;Class CrystalReportHelper, BusinessObjectEnterprise Session retrieve with username'&quot; + username + &quot;' password '&quot; + password + &quot;' cmsName '&quot; + cmsName + &quot;' &quot;);\n     }\n     else {\n        logger.info(&quot;Class CrystalReportHelper, BusinessObjectEnterprise Session retrieve with username'&quot; + username + &quot;' password '&quot; + &quot;XXXX&quot; + &quot;' cmsName '&quot; + cmsName + &quot;' &quot;);\n     }\n\n     IInfoStore infoStore = (IInfoStore) enterpriseSession.getService(cmsName, BO_INFO_STORE);\n     logger.info(&quot;Class CrystalReportHelper, Retrieving BO service with cmsName'&quot; + cmsName + &quot;' BO_INFO_STORE '&quot; + BO_INFO_STORE + &quot;'&quot;);\n     if (infoStore == null) {\n        logger.error(&quot;Class CrystalReportHelper, Coud not obtain BO service with cmsName'&quot; + cmsName + &quot;' BO_INFO_STORE '&quot; + BO_INFO_STORE + &quot;'&quot;);\n        throw new Exception(&quot;Could not obtain BO service : &quot; + BO_INFO_STORE);\n     }\n\n     // Queries the CMS for the report.\n     logger.info(&quot;Class CrystalReportHelper, BO service retrieved with cmsName'&quot; + cmsName + &quot;' BO_INFO_STORE '&quot; + BO_INFO_STORE + &quot;'&quot;);\n\n     String queryReport = REPORT_QUERY.replaceFirst(REPLACE_REPORT_NAME, getReportName(reportContext));\n\n     logger.info(&quot;Class CrystalReportHelper, Executing query report '&quot; + queryReport + &quot;'.&quot;);\n     IInfoObjects reports = infoStore.query(queryReport);\n     if (reports.size() == 0) {\n        logger.error(&quot;Class CrystalReportHelper, Report '&quot; + queryReport + &quot;' not found..&quot;);\n        throw new Exception(&quot;Report &quot; + getReportName(reportContext) + &quot; not found in BusinessObject&quot;);\n     }\n     IReport report = (IReport) reports.get(0);\n\n     // Set report format.\n     IReportFormatOptions reportFormat = report.getReportFormatOptions();\n\n     int formatType = IReportFormatOptions.CeReportFormat.CRYSTAL_REPORT;\n     reportFormat.setFormat(formatType);\n\n     String destinationInbox = getDestinationInbox(reportContext);\n     IDestinationPlugin destinationPlugin = getDestinationPlugin(infoStore, destinationInbox);\n\n     // Create an interface to the scheduling options for the report.\n     ISchedulingInfo scheduleInfo = report.getSchedulingInfo();\n     scheduleInfo.setType(CeScheduleType.ONCE);\n     scheduleInfo.setRightNow(true);\n\n     IDestination destination = scheduleInfo.getDestination();\n     destination.setFromPlugin(destinationPlugin);\n\n     // copy the report parameters\n     this.setParameters(reportContext, report);\n\n     logger.info(&quot;Class CrystalReportHelper, Scheduling report '&quot; + getReportName(reportContext) + &quot;'. &quot;);\n     infoStore.schedule(reports);\n     logger.info(&quot;Class CrystalReportHelper, Report '&quot; + getReportName(reportContext) + &quot;' has been scheduled. &quot;);\n\n     if (reportContext.isEmailRequired() &amp; isEmailEnabled()) {\n        sendEmail(reportContext);\n     }\n  }\n  catch (SDKRuntimeException SDKre) {\n     logger.error(&quot;Class CrystalReportHelper, Could not execute report request for report '&quot; + reportContext.getReportName() + &quot;' caught SDKRuntimeException:  &quot; + SDKre.getMessage(), SDKre);\n     throw new Exception(SDKre);\n  }\n  catch (SDKException SDKe) {\n     logger.error(&quot;Class CrystalReportHelper, Could not execute report request for report '&quot; + reportContext.getReportName() + &quot;' caught SDKException:  &quot; + SDKe.getMessage(), SDKe);\n     throw new Exception(SDKe);\n  }\n  finally {\n     if (null != enterpriseSession) {\n        enterpriseSession.logoff();\n     }\n  }\n</code></pre>\n<p>Here’s some data info :</p>\n<ol>\n<li><code>Reportcontext</code> contains things like user/password for BO, report name and report prompt parameter to use</li>\n<li><code>BO_INFO_STORE = “InfoStore”;</code></li>\n<li><code>REPORT_QUERY = &quot;Select * From CI_INFOOBJECTS WHERE SI_NAME='&quot; + REPLACE_REPORT_NAME + &quot;' AND SI_INSTANCE = 'false'&quot;;</code></li>\n</ol>\n<p>Here's the method <code>getSession</code> used to connect to BO :</p>\n<pre><code>    /**\n     * return BusinessObjectEnterprise session\n     *\n     * @param username\n     * @param password\n     * @return IEnterpriseSession\n     * @throws SDKException\n     */\n     public IEnterpriseSession getSession(String username, String password,      String cmsName) throws SDKException {\n     logger.debug(&quot;Class CrystalReportHelper, Retrieving    BusinessObjectEnterprise Session  username'&quot; + username + &quot;' password '&quot; +   password + &quot;' cmsName '&quot; + cmsName + &quot;' &quot;);\n\n  IEnterpriseSession enterpriseSession = null;\n  ISessionMgr sessionMgr = CrystalEnterprise.getSessionMgr();\n\n  boolean isAuthenticateEnterprise = getReportProperties().getAuthenticationTypeEnterprise();\n  logger.debug(&quot;Class CrystalReportHelper, isAuthenticateEnterprise  '&quot; + isAuthenticateEnterprise + &quot;' &quot;);\n  if (isAuthenticateEnterprise) {\n     enterpriseSession = sessionMgr.logon(username, password, cmsName, CeProgID.SEC_ENTERPRISE);\n  }\n  else {\n     enterpriseSession = sessionMgr.logon(username, password, cmsName, CeProgID.SEC_LDAP);\n  }\n\n  logger.debug(&quot;Class CrystalReportHelper, BusinessObjectEnterprise Session  obtained for username'&quot; + username + &quot;' password '&quot; + password + &quot;' cmsName '&quot; + cmsName + &quot;' &quot;);\n  return enterpriseSession;\n}\n</code></pre>\n<p>The problem we’re experiencing is sometimes the process will hang on this line for about 45min :</p>\n<pre><code>enterpriseSession = sessionMgr.logon(username, password, cmsName, CeProgID.SEC_ENTERPRISE);\n</code></pre>\n<p>Here’s a stacktrace from Weblogic when this occurs :</p>\n<blockquote>\n<pre><code>&quot;[ACTIVE] ExecuteThread: '7' for queue: 'weblogic.kernel.Default (self-tuning)'&quot; waiting for lock java.lang.Object@3d24ae2c WAITING\n   java.lang.Object.wait(Native Method)\n   java.lang.Object.wait(Object.java:485)\n       com.crystaldecisions.thirdparty.com.ooc.OB.Downcall.waitUntilCompleted(Downcall.java:831)\n       com.crystaldecisions.thirdparty.com.ooc.OB.GIOPClientWorkerThreaded.receive(GIOPClientWorkerThreaded.java:327)\n       com.crystaldecisions.thirdparty.com.ooc.OB.GIOPClientWorkerThreaded.sendReceive(GIOPClientWorkerThreaded.java:353)\n   com.crystaldecisions.thirdparty.com.ooc.OB.Downcall.request(Downcall.java:336)\n   com.crystaldecisions.thirdparty.com.ooc.OB.DowncallStub.invoke(DowncallStub.java:583)\n   com.crystaldecisions.thirdparty.com.ooc.CORBA.Delegate.invoke(Delegate.java:579)\n       com.crystaldecisions.thirdparty.org.omg.CORBA.portable.ObjectImpl._invoke(ObjectImpl.java:125)\n       com.crystaldecisions.enterprise.ocaframework.idl.ImplServ._OSCAFactoryStub.newService(_OSCAFactoryStub.java:78)\n   com.crystaldecisions.enterprise.ocaframework.i.a(Unknown Source)\n   com.crystaldecisions.enterprise.ocaframework.i.a(Unknown Source)\n   com.crystaldecisions.enterprise.ocaframework.i.buildClusterInfo(Unknown Source)\n   com.crystaldecisions.enterprise.ocaframework.aa.int(Unknown Source)\n   com.crystaldecisions.enterprise.ocaframework.ServiceMgr.int(Unknown Source)\n   com.crystaldecisions.enterprise.ocaframework.p.a(Unknown Source)\n   com.crystaldecisions.enterprise.ocaframework.ServiceMgr.getManagedService(Unknown Source)\n   com.crystaldecisions.sdk.occa.security.internal.f.if(Unknown Source)\n   com.crystaldecisions.sdk.occa.security.internal.f.&lt;init&gt;(Unknown Source)\n       com.crystaldecisions.sdk.occa.security.internal.SecurityFactory.makeSecuritySession(Unknown Source)\n   com.crystaldecisions.sdk.occa.security.internal.t.a(Unknown Source)\n   com.crystaldecisions.sdk.occa.security.internal.t.userLogon(Unknown Source)\n   com.crystaldecisions.sdk.occa.security.internal.l.userLogon(Unknown Source)\n   com.crystaldecisions.sdk.framework.internal.b.logon(Unknown Source)\n       com.tranme.guide.commonservices.report.CrystalReportHelper.getSession(CrystalReportHelper.java:156)\n       com.tranme.guide.commonservices.report.CrystalReportHelper.getReportInfoObjectsByReportName(CrystalReportHelper.java:503)\n       com.tranme.guide.notificationmgt.manager.reports.util.ReportManagementTools.getReportInstanceStatuses(ReportManagementTools.java:81)\n       com.tranme.guide.notificationmgt.manager.reports.util.ReportManagementTools.getGenerationStatusResults(ReportManagementTools.java:51)\n       com.tranme.guide.notificationmgt.manager.BaseNotificationManager.updateReportGenerationStatus(BaseNotificationManager.java:244)\n       com.tranme.guide.notificationmgt.business.ejb.impl.NotificationManagementFacadeBeanImpl.updateReportGenerationStatus(NotificationManagementFacadeBeanImpl.java:123)\n        com.tranme.guide.notificationmgt.business.ejb.impl.NotificationManagementFacadeBeanImpl_z3lp9c_EOImpl.updateReportGenerationStatus(NotificationManagementFacadeBeanImpl_z3lp9c_EOImpl.java:140)\n       com.tranme.guide.notificationmgt.business.ejb.impl.NotificationManagementFacadeBeanImpl_z3lp9c_EOImpl_WLSkel.invoke(Unknown Source)\n   weblogic.rmi.internal.BasicServerRef.invoke(BasicServerRef.java:589)\n   weblogic.rmi.cluster.ClusterableServerRef.invoke(ClusterableServerRef.java:230)\n   weblogic.rmi.internal.BasicServerRef$1.run(BasicServerRef.java:477)\n   weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:363)\n   weblogic.security.service.SecurityManager.runAs(SecurityManager.java:147)\n   weblogic.rmi.internal.BasicServerRef.handleRequest(BasicServerRef.java:473)\n   weblogic.rmi.internal.wls.WLSExecuteRequest.run(WLSExecuteRequest.java:118)\n   weblogic.work.ExecuteThread.execute(ExecuteThread.java:201)\n   weblogic.work.ExecuteThread.run(ExecuteThread.java:173)\n&quot;Business Objects - Sessions Clean up&quot; TIMED_WAITING\n   java.lang.Thread.sleep(Native Method)\n   com.crystaldecisions.enterprise.ocaframework.n.run(Unknown Source)\n   java.lang.Thread.run(Thread.java:619)\n&quot;OracleTimeoutPollingThread&quot; TIMED_WAITING\n   java.lang.Thread.sleep(Native Method)\n   oracle.jdbc.driver.OracleTimeoutPollingThread.run(OracleTimeoutPollingThread.java:150)\n</code></pre>\n</blockquote>\n<p>This never happened before on our BO XI environment.</p>\n"},{"tags":["java","docker","intellij-idea","spring-security","h2"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1682797519,"post_id":76123402,"comment_id":134272854,"body_markdown":"*However, my project has an h2 database that opens its console at the start of the project in the browser.* How do you open a browser in your Docker container? What kind of docker container do you use? Anyway, Spring Boot doesn&#39;t open a browser by default. You have to do it by yourself (manual or coding).","body":"<i>However, my project has an h2 database that opens its console at the start of the project in the browser.</i> How do you open a browser in your Docker container? What kind of docker container do you use? Anyway, Spring Boot doesn&#39;t open a browser by default. You have to do it by yourself (manual or coding)."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1682797672,"post_id":76123402,"comment_id":134272875,"body_markdown":"*Browser detection failed, and java property\n&#39;h2.browser&#39; and environment variable BROWSER are not set to a browser executable.* This error is clear, your app cannot open a browser. So you have to change your code, to not open any browser.","body":"<i>Browser detection failed, and java property &#39;h2.browser&#39; and environment variable BROWSER are not set to a browser executable.</i> This error is clear, your app cannot open a browser. So you have to change your code, to not open any browser."},{"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Сергей"},"score":0,"creation_date":1683043930,"post_id":76123402,"comment_id":134304745,"body_markdown":"How do you open a browser in your Docker container?\nThe H2 database tries to open it.\n_\nWhat kind of docker container do you use?\nI am creating a Docker Container from this image.\n\nFROM openjdk:11\nMAINTAINER Sergey Zavyalov\nCOPY out/artifacts/KameleoonTestTask_jar/KameleoonTestTask.jar /app/KameleoonTestTask.jar\nWORKDIR /app\nEXPOSE 3000\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/KameleoonTestTask.jar&quot;]","body":"How do you open a browser in your Docker container? The H2 database tries to open it. _ What kind of docker container do you use? I am creating a Docker Container from this image.  FROM openjdk:11 MAINTAINER Sergey Zavyalov COPY out/artifacts/KameleoonTestTask_jar/KameleoonTestTask.jar /app/KameleoonTestTask.jar WORKDIR /app EXPOSE 3000 ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/KameleoonTestTask.jar&quot;]"},{"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Сергей"},"score":0,"creation_date":1683044359,"post_id":76123402,"comment_id":134304858,"body_markdown":"What kind of docker container do you use?\npart2\n_\nThen I create an image\ndocker build -t sergzv/kameleoon:v0.0.1 .\n_\nThen I create a container\ndocker run --rm --name testtask sergzv/kameleoon:v0.0.1","body":"What kind of docker container do you use? part2 _ Then I create an image docker build -t sergzv/kameleoon:v0.0.1 . _ Then I create a container docker run --rm --name testtask sergzv/kameleoon:v0.0.1"},{"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Сергей"},"score":0,"creation_date":1683044601,"post_id":76123402,"comment_id":134304911,"body_markdown":"What kind of docker container do you use? Anyway, Spring Boot doesn&#39;t open a browser by default. You have to do it by yourself.\nYes, I read about it. And this is the strangest thing. Therefore, I am now trying to create a new project and see if there will be this error in it. I repeat, with a simple launch of the project, there is no console. It only occurs when I create artifacts and run it in the terminal via the java -jar command out/artifacts/KameleoonTestTask_jar/KameleoonTestTask.jar . Is it possible that this is the case?","body":"What kind of docker container do you use? Anyway, Spring Boot doesn&#39;t open a browser by default. You have to do it by yourself. Yes, I read about it. And this is the strangest thing. Therefore, I am now trying to create a new project and see if there will be this error in it. I repeat, with a simple launch of the project, there is no console. It only occurs when I create artifacts and run it in the terminal via the java -jar command out/artifacts/KameleoonTestTask_jar/KameleoonTestTask.jar . Is it possible that this is the case?"},{"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Сергей"},"score":0,"creation_date":1683044736,"post_id":76123402,"comment_id":134304941,"body_markdown":"This error is clear, your app cannot open a browser. So you have to change your code, to not open any browser. \nYes, this is the way I decided to go. Actually, that was my question. How to disable the console, which should already be disabled by default so that it does not launch the browser when the application starts. In addition, I read that the console is needed only for tests and in ready-made applications it should be disabled.","body":"This error is clear, your app cannot open a browser. So you have to change your code, to not open any browser.  Yes, this is the way I decided to go. Actually, that was my question. How to disable the console, which should already be disabled by default so that it does not launch the browser when the application starts. In addition, I read that the console is needed only for tests and in ready-made applications it should be disabled."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1683052287,"post_id":76123402,"comment_id":134306544,"body_markdown":"The only way I know how to get the web console to pop up is if I explicitly start the H2 DB server - for example, using `java -cp h2-2.1.214.jar org.h2.tools.Server -baseDir .` (and there are other equivalent ways, also). When I do that, I see a `Web Console server running at ...` message. On the other hand, if I only have a web app running with a JDBC connection, I never see the console (including when running on the command line).","body":"The only way I know how to get the web console to pop up is if I explicitly start the H2 DB server - for example, using <code>java -cp h2-2.1.214.jar org.h2.tools.Server -baseDir .</code> (and there are other equivalent ways, also). When I do that, I see a <code>Web Console server running at ...</code> message. On the other hand, if I only have a web app running with a JDBC connection, I never see the console (including when running on the command line)."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1683052327,"post_id":76123402,"comment_id":134306552,"body_markdown":"You are using an in-memory H2 instance - so is it safe to assume you do not have any code in your Spring Boot app doing anything like this: `Server server = Server.createTcpServer(args).start();`? Or any other place where there is an explicit command to start the H2 in server mode?","body":"You are using an in-memory H2 instance - so is it safe to assume you do not have any code in your Spring Boot app doing anything like this: <code>Server server = Server.createTcpServer(args).start();</code>? Or any other place where there is an explicit command to start the H2 in server mode?"},{"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Сергей"},"score":0,"creation_date":1683140325,"post_id":76123402,"comment_id":134322379,"body_markdown":"Everything is right. I don&#39;t explicitly call the h2 database start anywhere. Except in application.properties (the settings of which I described in the main question), when connecting dependencies in pom.xml I don&#39;t call it anywhere. I don&#39;t know if it&#39;s possible to give a link to the full project here and whether anyone will dig into it, but just in case here https://github.com/SERGZV/KameleoonTestTask .","body":"Everything is right. I don&#39;t explicitly call the h2 database start anywhere. Except in application.properties (the settings of which I described in the main question), when connecting dependencies in pom.xml I don&#39;t call it anywhere. I don&#39;t know if it&#39;s possible to give a link to the full project here and whether anyone will dig into it, but just in case here <a href=\"https://github.com/SERGZV/KameleoonTestTask\" rel=\"nofollow noreferrer\">github.com/SERGZV/KameleoonTestTask</a> ."}],"answers":[{"tags":[],"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Сергей"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684171316,"creation_date":1684171316,"answer_id":76256511,"question_id":76123402,"body_markdown":"The problem has been solved. What have I done for this:\r\n1. I installed the latest 30-day trial version of Idea Ultimate\r\n2. In pom.xml I removed all the plugins that were there and added this one:\r\n\r\n    &lt;plugin\\&gt;                                                                   \t\t\t\t\t\t\t\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \t\t\t\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\t\r\n    &lt;/plugin\\&gt;\t\r\n\r\n3. This time I did not build the JAR artifact using Idea (File &gt; Project Structure &gt; + JAR from modules with dependencies).\r\nNow I produced it with Maven (Go to &quot;Toolbar&quot; from the right with the name Maven &gt; &quot;name of your project&quot; &gt; Lifecycle &gt; package)\r\n4. Now the artifact is in the target folder and when I run it using &quot;java -jar...&quot; the login window to the h2database console no longer opens in the browser\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n5. Of course, in order for Docker container to use a new artifact, I changed the path in the Makefile and re-created the image and the container based on the new JAR file.\r\n\r\nNow, during the launch of the Docker file or the jar artifact itself, the H2 console window does not pop up in the browser.","title":"How do I turn off the h2 console in a java project in the IntelliJ Idea development environment?","body":"<p>The problem has been solved. What have I done for this:</p>\n<ol>\n<li><p>I installed the latest 30-day trial version of Idea Ultimate</p>\n</li>\n<li><p>In pom.xml I removed all the plugins that were there and added this one:</p>\n<p>&lt;plugin&gt;<br />\norg.springframework.boot<br />\nspring-boot-maven-plugin<br />\n&lt;/plugin&gt;</p>\n</li>\n<li><p>This time I did not build the JAR artifact using Idea (File &gt; Project Structure &gt; + JAR from modules with dependencies).\nNow I produced it with Maven (Go to &quot;Toolbar&quot; from the right with the name Maven &gt; &quot;name of your project&quot; &gt; Lifecycle &gt; package)</p>\n</li>\n<li><p>Now the artifact is in the target folder and when I run it using &quot;java -jar...&quot; the login window to the h2database console no longer opens in the browser</p>\n</li>\n<li><p>Of course, in order for Docker container to use a new artifact, I changed the path in the Makefile and re-created the image and the container based on the new JAR file.</p>\n</li>\n</ol>\n<p>Now, during the launch of the Docker file or the jar artifact itself, the H2 console window does not pop up in the browser.</p>\n"}],"owner":{"account_id":19719481,"reputation":111,"user_id":15397886,"display_name":"Сергей"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1684171316,"creation_date":1682618527,"question_id":76123402,"body_markdown":"I want to put my program in a Docker container. However, my project has an h2 database that opens its console at the start of the project in the browser. As a result, an error appears when starting the container: \r\n**Failed to start a browser to open the URL http://172.17.0.2:8082?key=9cfa612432aa32f89b955f102b129e4b8123dcec3f9841e74c6bd5e319f3a3a5: Browser detection failed, and java property      \r\n    &#39;h2.browser&#39; and environment variable BROWSER are not set to a browser executable.**\r\n\r\nAs a result, it was decided to go the easy way and disable the h2 console, since I still don&#39;t use it yet. Following the advice of chat-gpt-3, I tried to disable it using the **application.properties** file :\r\n\r\n    spring.datasource.url=jdbc:h2:mem:default\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    spring.datasource.DriverClassName=org.h2.Driver\r\n    spring.h2.console.enabled=false\r\n    spring.h2.console.path=/myh2console\r\n\r\nI created a jar artifact and launched it using the command: **java -jar out/artifacts/KameleoonTestTask_jar/KameleoonTestTask.jar**\r\n\r\nBut it did not bring the desired result. As soon as I launch the artifact, a new tab opens in the browser with the h2 database window and prompts me to enter a name and password, and the h2 database console icon appears at the bottom of the tray.\r\n\r\nThen following his other advice I tried disabling the console by denying the console access to the browser using SpringSecurity:\r\n\r\n    package project.config;\r\n    \r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.Enable Web Security;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter\r\n    {\r\n        @Override\r\n        protected void configure(Http Security http) throws Exception\r\n        {\r\n            http.authorizerequest()\r\n            .antMatchers(&quot;/h2-console/*&quot;).denyAll()\r\n            .and().headers().frameOptions().disable();\r\n        }\r\n    }\r\n\r\nThe console keeps popping up.\r\n\r\nIt is also worth noting that the console does not appear during the normal launch of the application in Idea. It appears only when I run the artifact with the above command. I run the artifact manually to check how the program will behave inside the docker container.\r\n\r\nIf anyone knows how to disable this console, please help.","title":"How do I turn off the h2 console in a java project in the IntelliJ Idea development environment?","body":"<p>I want to put my program in a Docker container. However, my project has an h2 database that opens its console at the start of the project in the browser. As a result, an error appears when starting the container:\n<strong>Failed to start a browser to open the URL <a href=\"http://172.17.0.2:8082?key=9cfa612432aa32f89b955f102b129e4b8123dcec3f9841e74c6bd5e319f3a3a5\" rel=\"nofollow noreferrer\">http://172.17.0.2:8082?key=9cfa612432aa32f89b955f102b129e4b8123dcec3f9841e74c6bd5e319f3a3a5</a>: Browser detection failed, and java property<br />\n'h2.browser' and environment variable BROWSER are not set to a browser executable.</strong></p>\n<p>As a result, it was decided to go the easy way and disable the h2 console, since I still don't use it yet. Following the advice of chat-gpt-3, I tried to disable it using the <strong>application.properties</strong> file :</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:default\nspring.datasource.username=sa\nspring.datasource.password=\nspring.datasource.DriverClassName=org.h2.Driver\nspring.h2.console.enabled=false\nspring.h2.console.path=/myh2console\n</code></pre>\n<p>I created a jar artifact and launched it using the command: <strong>java -jar out/artifacts/KameleoonTestTask_jar/KameleoonTestTask.jar</strong></p>\n<p>But it did not bring the desired result. As soon as I launch the artifact, a new tab opens in the browser with the h2 database window and prompts me to enter a name and password, and the h2 database console icon appears at the bottom of the tray.</p>\n<p>Then following his other advice I tried disabling the console by denying the console access to the browser using SpringSecurity:</p>\n<pre><code>package project.config;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.Enable Web Security;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter\n{\n    @Override\n    protected void configure(Http Security http) throws Exception\n    {\n        http.authorizerequest()\n        .antMatchers(&quot;/h2-console/*&quot;).denyAll()\n        .and().headers().frameOptions().disable();\n    }\n}\n</code></pre>\n<p>The console keeps popping up.</p>\n<p>It is also worth noting that the console does not appear during the normal launch of the application in Idea. It appears only when I run the artifact with the above command. I run the artifact manually to check how the program will behave inside the docker container.</p>\n<p>If anyone knows how to disable this console, please help.</p>\n"},{"tags":["java","android","mobile"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1684172057,"post_id":76256489,"comment_id":134475195,"body_markdown":"Don&#39;t use a different MediaPlayer.  MediaPlayer is expensive, you shouldn&#39;t have more than one of them per Activity.","body":"Don&#39;t use a different MediaPlayer.  MediaPlayer is expensive, you shouldn&#39;t have more than one of them per Activity."},{"owner":{"account_id":28607004,"reputation":1,"user_id":21902750,"display_name":"Whoami"},"score":0,"creation_date":1684174858,"post_id":76256489,"comment_id":134475781,"body_markdown":"I didn&#39;t use more than one. when I choose another item in RecView AudioPlayer class work again.","body":"I didn&#39;t use more than one. when I choose another item in RecView AudioPlayer class work again."}],"owner":{"account_id":28607004,"reputation":1,"user_id":21902750,"display_name":"Whoami"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684171043,"creation_date":1684171043,"question_id":76256489,"body_markdown":"I developed a music player using Java in Android Studio. However, when I press the back button on the player and then click on another song in the Recycler View, two music sounds overlap. Please do not suggest using methods like OnDestroy because I want the current song to keep playing when the screen is turned off or when the user goes back, and I only want it to stop when another song is played. The main reason for the problem is that when playing any song, starting another song uses a different MediaPlayer element. How can I solve this?\r\n\r\nThis is my AudioPlayer code:\r\n\r\n    package com.example.musicplayer;\r\n    \r\n    import android.content.Intent; import android.media.MediaMetadataRetriever; import android.media.MediaPlayer; import android.os.Bundle; import android.os.Handler; import android.view.View; import android.widget.ImageView; import android.widget.SeekBar; import android.widget.TextView; import android.widget.Toast;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import com.bumptech.glide.Glide; import com.connunity.rhythmia.R.drawable;\r\n    \r\n    import java.io.IOException; import java.util.ArrayList; import java.util.Random; import java.util.concurrent.TimeUnit;\r\n    \r\n    public class AudioPlayer extends AppCompatActivity { Boolean shuffle = false; Boolean repeat = false; MediaPlayer mediaPlayer = new MediaPlayer(); TextView title, artist, album, currentTime, actualTime; ImageView previous, play, next, closeAct, shuffleBtn, repeatBtn; ImageView songIcon; ArrayList&lt;AudioModel&gt; songArray; AudioModel currentSong; SeekBar seekBar; Intent listening;\r\n    public static String convertTime(String duration) {\r\n        long millis = Long.parseLong(duration);\r\n        return String.format(&quot;%02d:%02d&quot;,\r\n                TimeUnit.MILLISECONDS.toMinutes(millis) % TimeUnit.HOURS.toMinutes(1),\r\n                TimeUnit.MILLISECONDS.toSeconds(millis) % TimeUnit.MINUTES.toSeconds(1));\r\n    \r\n    }\r\n    \r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.audioplayer);\r\n        shuffleBtn = findViewById(R.id.shuffleButton);\r\n        repeatBtn = findViewById(R.id.repeatButton);\r\n        listening = new Intent(AudioPlayer.this, MainActivity.class);\r\n        mediaPlayer = new MediaPlayer();\r\n        title = findViewById(R.id.playerSongName);\r\n        artist = findViewById(R.id.playerArtistName);\r\n        album = findViewById(R.id.playerAlbumName);\r\n        currentTime = findViewById(R.id.currentTime);\r\n        actualTime = findViewById(R.id.songActualTime);\r\n        next = findViewById(R.id.playernext);\r\n        previous = findViewById(R.id.playerprevious);\r\n        play = findViewById(R.id.playAndPauseButton);\r\n        closeAct = findViewById(R.id.playerCloseActButton);\r\n        seekBar = findViewById(R.id.playerSeekBar);\r\n        songArray = (ArrayList&lt;AudioModel&gt;) getIntent().getSerializableExtra(&quot;List&quot;);\r\n        title.setSelected(true);\r\n        setCurrentSong();\r\n        AudioPlayer.this.runOnUiThread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                if (mediaPlayer != null) {\r\n                    seekBar.setProgress(mediaPlayer.getCurrentPosition());\r\n                    listening.putExtra(&quot;seekBar&quot;, seekBar.getProgress());\r\n                    currentTime.setText(convertTime(mediaPlayer.getCurrentPosition() + &quot;&quot;));\r\n                    if (mediaPlayer.isPlaying()) {\r\n                        play.setImageResource(drawable.pausebutton);\r\n                    } else {\r\n                        play.setImageResource(drawable.playingbutton);\r\n                    }\r\n                }\r\n                new Handler().postDelayed(this, 100);\r\n            }\r\n        });\r\n        seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n            @Override\r\n            public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\r\n                if (mediaPlayer != null &amp;&amp; fromUser) {\r\n                    mediaPlayer.seekTo(progress);\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void onStartTrackingTouch(SeekBar seekBar) {\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public void onStopTrackingTouch(SeekBar seekBar) {\r\n    \r\n            }\r\n        });\r\n        shuffleBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Toast.makeText(AudioPlayer.this, &quot;Shuffle clicked&quot;, Toast.LENGTH_SHORT).show();\r\n                if (shuffle) {\r\n                    shuffleBtn.setImageResource(drawable.shuffle_off);\r\n                    shuffle = false;\r\n                }else{\r\n                    shuffleBtn.setImageResource(drawable.shuffle_on);\r\n                    shuffle = true;\r\n                    repeat = false;\r\n                    repeatBtn.setImageResource(drawable.repeat_off);\r\n                }\r\n            }\r\n    \r\n        });\r\n    repeatBtn.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            if(repeat){\r\n                repeat = false;\r\n                repeatBtn.setImageResource(drawable.repeat_off);\r\n            }\r\n            else {repeat = true;\r\n                shuffle = false;\r\n                shuffleBtn.setImageResource(drawable.shuffle_off);\r\n            repeatBtn.setImageResource(drawable.repeat_on);}\r\n        }\r\n    });\r\n    }\r\n    \r\n    \r\n    public void setCurrentSong() {\r\n        this.currentSong = songArray.get(TMediaPlayer.currentIndex);\r\n        title.setText(currentSong.getTitle());\r\n        artist.setText(currentSong.getArtist());\r\n        album.setText(currentSong.getAlbum());\r\n        currentTime.setText(convertTime(currentSong.getDuration()));\r\n        byte[] image = getSongIcon(currentSong.getPath());\r\n        try {\r\n            Glide.with(this).asBitmap().load(image).into(songIcon);\r\n        } catch (Exception e) {\r\n            Toast.makeText(this, &quot;Olmadı&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        play.setOnClickListener(v -&gt; playAndPauseMusic());\r\n        next.setOnClickListener(v -&gt; nextMusic());\r\n        previous.setOnClickListener(v -&gt; previousMusic());\r\n        next.setOnLongClickListener(v -&gt; forward5());\r\n        previous.setOnLongClickListener(v -&gt; backTo5());\r\n        listening.putExtra(&quot;name&quot;, currentSong.getTitle());\r\n        listening.putExtra(&quot;artist&quot;, currentSong.getArtist());\r\n        playMusic();\r\n    \r\n    }\r\n    \r\n    void playMusic() {\r\n        if (mediaPlayer != null) {\r\n        }\r\n        try {\r\n            mediaPlayer.setDataSource(currentSong.getPath());\r\n            mediaPlayer.prepare();\r\n            mediaPlayer.start();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        seekBar.setProgress(0);\r\n        seekBar.setMax(mediaPlayer.getDuration());\r\n        mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n            @Override\r\n            public void onCompletion(MediaPlayer mp) {\r\n                mediaPlayer.stop();\r\n                nextMusic();\r\n            }\r\n        });\r\n    }\r\n    \r\n    void nextMusic() {\r\n        if (TMediaPlayer.currentIndex == songArray.size() - 1) {\r\n            TMediaPlayer.currentIndex = 0;\r\n            return;\r\n        }\r\n        if (shuffle){playRandom();\r\n        mediaPlayer.reset();\r\n        setCurrentSong();}\r\n        if (repeat){\r\n            TMediaPlayer.currentIndex-=1;\r\n        }\r\n        TMediaPlayer.currentIndex += 1;\r\n        mediaPlayer.reset();\r\n        setCurrentSong();\r\n    }\r\n    \r\n    void previousMusic() {\r\n        if (TMediaPlayer.currentIndex == 0) {\r\n            TMediaPlayer.currentIndex = songArray.size();\r\n            return;\r\n        }\r\n        TMediaPlayer.currentIndex -= 1;\r\n        mediaPlayer.reset();\r\n        setCurrentSong();\r\n    }\r\n    \r\n    boolean forward5() {\r\n        if (mediaPlayer != null &amp;&amp; mediaPlayer.isPlaying()) {\r\n            int currentPosition = mediaPlayer.getCurrentPosition();\r\n            int duration = mediaPlayer.getDuration();\r\n            int forwardTime = 5000;\r\n            if (currentPosition + forwardTime &lt;= duration) {\r\n                mediaPlayer.seekTo(currentPosition + forwardTime);\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    \r\n    boolean backTo5() {\r\n        if (mediaPlayer != null &amp;&amp; mediaPlayer.isPlaying()) {\r\n            int currentPosition = mediaPlayer.getCurrentPosition();\r\n            int backwardTime = 5000;\r\n            if (currentPosition - backwardTime &gt;= 0) {\r\n                mediaPlayer.seekTo(currentPosition - backwardTime);\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    \r\n    void playAndPauseMusic() {\r\n        if (mediaPlayer.isPlaying()) {\r\n            mediaPlayer.pause();\r\n        } else mediaPlayer.start();\r\n    }\r\n    \r\n    private byte[] getSongIcon(String uri) {\r\n        MediaMetadataRetriever retriever = new MediaMetadataRetriever();\r\n        retriever.setDataSource(uri);\r\n        byte[] icon = retriever.getEmbeddedPicture();\r\n        try {\r\n            retriever.release();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        return icon;\r\n    }\r\n    \r\n    void playRandom() {\r\n        Random r = new Random();\r\n        TMediaPlayer.currentIndex = r.nextInt(songArray.size());\r\n    }\r\n\r\n}\\`","title":"Overlapping song sounds on my music player","body":"<p>I developed a music player using Java in Android Studio. However, when I press the back button on the player and then click on another song in the Recycler View, two music sounds overlap. Please do not suggest using methods like OnDestroy because I want the current song to keep playing when the screen is turned off or when the user goes back, and I only want it to stop when another song is played. The main reason for the problem is that when playing any song, starting another song uses a different MediaPlayer element. How can I solve this?</p>\n<p>This is my AudioPlayer code:</p>\n<pre><code>package com.example.musicplayer;\n\nimport android.content.Intent; import android.media.MediaMetadataRetriever; import android.media.MediaPlayer; import android.os.Bundle; import android.os.Handler; import android.view.View; import android.widget.ImageView; import android.widget.SeekBar; import android.widget.TextView; import android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.bumptech.glide.Glide; import com.connunity.rhythmia.R.drawable;\n\nimport java.io.IOException; import java.util.ArrayList; import java.util.Random; import java.util.concurrent.TimeUnit;\n\npublic class AudioPlayer extends AppCompatActivity { Boolean shuffle = false; Boolean repeat = false; MediaPlayer mediaPlayer = new MediaPlayer(); TextView title, artist, album, currentTime, actualTime; ImageView previous, play, next, closeAct, shuffleBtn, repeatBtn; ImageView songIcon; ArrayList&lt;AudioModel&gt; songArray; AudioModel currentSong; SeekBar seekBar; Intent listening;\npublic static String convertTime(String duration) {\n    long millis = Long.parseLong(duration);\n    return String.format(&quot;%02d:%02d&quot;,\n            TimeUnit.MILLISECONDS.toMinutes(millis) % TimeUnit.HOURS.toMinutes(1),\n            TimeUnit.MILLISECONDS.toSeconds(millis) % TimeUnit.MINUTES.toSeconds(1));\n\n}\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.audioplayer);\n    shuffleBtn = findViewById(R.id.shuffleButton);\n    repeatBtn = findViewById(R.id.repeatButton);\n    listening = new Intent(AudioPlayer.this, MainActivity.class);\n    mediaPlayer = new MediaPlayer();\n    title = findViewById(R.id.playerSongName);\n    artist = findViewById(R.id.playerArtistName);\n    album = findViewById(R.id.playerAlbumName);\n    currentTime = findViewById(R.id.currentTime);\n    actualTime = findViewById(R.id.songActualTime);\n    next = findViewById(R.id.playernext);\n    previous = findViewById(R.id.playerprevious);\n    play = findViewById(R.id.playAndPauseButton);\n    closeAct = findViewById(R.id.playerCloseActButton);\n    seekBar = findViewById(R.id.playerSeekBar);\n    songArray = (ArrayList&lt;AudioModel&gt;) getIntent().getSerializableExtra(&quot;List&quot;);\n    title.setSelected(true);\n    setCurrentSong();\n    AudioPlayer.this.runOnUiThread(new Runnable() {\n        @Override\n        public void run() {\n            if (mediaPlayer != null) {\n                seekBar.setProgress(mediaPlayer.getCurrentPosition());\n                listening.putExtra(&quot;seekBar&quot;, seekBar.getProgress());\n                currentTime.setText(convertTime(mediaPlayer.getCurrentPosition() + &quot;&quot;));\n                if (mediaPlayer.isPlaying()) {\n                    play.setImageResource(drawable.pausebutton);\n                } else {\n                    play.setImageResource(drawable.playingbutton);\n                }\n            }\n            new Handler().postDelayed(this, 100);\n        }\n    });\n    seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n        @Override\n        public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\n            if (mediaPlayer != null &amp;&amp; fromUser) {\n                mediaPlayer.seekTo(progress);\n            }\n        }\n\n        @Override\n        public void onStartTrackingTouch(SeekBar seekBar) {\n\n        }\n\n        @Override\n        public void onStopTrackingTouch(SeekBar seekBar) {\n\n        }\n    });\n    shuffleBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Toast.makeText(AudioPlayer.this, &quot;Shuffle clicked&quot;, Toast.LENGTH_SHORT).show();\n            if (shuffle) {\n                shuffleBtn.setImageResource(drawable.shuffle_off);\n                shuffle = false;\n            }else{\n                shuffleBtn.setImageResource(drawable.shuffle_on);\n                shuffle = true;\n                repeat = false;\n                repeatBtn.setImageResource(drawable.repeat_off);\n            }\n        }\n\n    });\nrepeatBtn.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        if(repeat){\n            repeat = false;\n            repeatBtn.setImageResource(drawable.repeat_off);\n        }\n        else {repeat = true;\n            shuffle = false;\n            shuffleBtn.setImageResource(drawable.shuffle_off);\n        repeatBtn.setImageResource(drawable.repeat_on);}\n    }\n});\n}\n\n\npublic void setCurrentSong() {\n    this.currentSong = songArray.get(TMediaPlayer.currentIndex);\n    title.setText(currentSong.getTitle());\n    artist.setText(currentSong.getArtist());\n    album.setText(currentSong.getAlbum());\n    currentTime.setText(convertTime(currentSong.getDuration()));\n    byte[] image = getSongIcon(currentSong.getPath());\n    try {\n        Glide.with(this).asBitmap().load(image).into(songIcon);\n    } catch (Exception e) {\n        Toast.makeText(this, &quot;Olmadı&quot;, Toast.LENGTH_SHORT).show();\n    }\n    play.setOnClickListener(v -&gt; playAndPauseMusic());\n    next.setOnClickListener(v -&gt; nextMusic());\n    previous.setOnClickListener(v -&gt; previousMusic());\n    next.setOnLongClickListener(v -&gt; forward5());\n    previous.setOnLongClickListener(v -&gt; backTo5());\n    listening.putExtra(&quot;name&quot;, currentSong.getTitle());\n    listening.putExtra(&quot;artist&quot;, currentSong.getArtist());\n    playMusic();\n\n}\n\nvoid playMusic() {\n    if (mediaPlayer != null) {\n    }\n    try {\n        mediaPlayer.setDataSource(currentSong.getPath());\n        mediaPlayer.prepare();\n        mediaPlayer.start();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    seekBar.setProgress(0);\n    seekBar.setMax(mediaPlayer.getDuration());\n    mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n        @Override\n        public void onCompletion(MediaPlayer mp) {\n            mediaPlayer.stop();\n            nextMusic();\n        }\n    });\n}\n\nvoid nextMusic() {\n    if (TMediaPlayer.currentIndex == songArray.size() - 1) {\n        TMediaPlayer.currentIndex = 0;\n        return;\n    }\n    if (shuffle){playRandom();\n    mediaPlayer.reset();\n    setCurrentSong();}\n    if (repeat){\n        TMediaPlayer.currentIndex-=1;\n    }\n    TMediaPlayer.currentIndex += 1;\n    mediaPlayer.reset();\n    setCurrentSong();\n}\n\nvoid previousMusic() {\n    if (TMediaPlayer.currentIndex == 0) {\n        TMediaPlayer.currentIndex = songArray.size();\n        return;\n    }\n    TMediaPlayer.currentIndex -= 1;\n    mediaPlayer.reset();\n    setCurrentSong();\n}\n\nboolean forward5() {\n    if (mediaPlayer != null &amp;&amp; mediaPlayer.isPlaying()) {\n        int currentPosition = mediaPlayer.getCurrentPosition();\n        int duration = mediaPlayer.getDuration();\n        int forwardTime = 5000;\n        if (currentPosition + forwardTime &lt;= duration) {\n            mediaPlayer.seekTo(currentPosition + forwardTime);\n        }\n    }\n    return true;\n}\n\nboolean backTo5() {\n    if (mediaPlayer != null &amp;&amp; mediaPlayer.isPlaying()) {\n        int currentPosition = mediaPlayer.getCurrentPosition();\n        int backwardTime = 5000;\n        if (currentPosition - backwardTime &gt;= 0) {\n            mediaPlayer.seekTo(currentPosition - backwardTime);\n        }\n    }\n    return true;\n}\n\nvoid playAndPauseMusic() {\n    if (mediaPlayer.isPlaying()) {\n        mediaPlayer.pause();\n    } else mediaPlayer.start();\n}\n\nprivate byte[] getSongIcon(String uri) {\n    MediaMetadataRetriever retriever = new MediaMetadataRetriever();\n    retriever.setDataSource(uri);\n    byte[] icon = retriever.getEmbeddedPicture();\n    try {\n        retriever.release();\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n    return icon;\n}\n\nvoid playRandom() {\n    Random r = new Random();\n    TMediaPlayer.currentIndex = r.nextInt(songArray.size());\n}\n</code></pre>\n<p>}`</p>\n"},{"tags":["java","spring-boot","pagination"],"owner":{"account_id":5084578,"reputation":399,"user_id":4079729,"display_name":"Altaf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684170925,"creation_date":1684170925,"question_id":76256472,"body_markdown":"I’m trying to implement pagination in an existing codebase. I wrote this ExperimentService class:\r\n\r\n`ExperimentService.java`\r\n``` \r\n@Service\r\npublic class ExperimentService {\r\n\r\n    @Autowired\r\n    private ExperimentRepository experimentRepository;\r\n\r\n    public Page&lt;Experiment&gt; fetchExperiments(Integer pageNo, Integer pageSize) {\r\n\r\n        Pageable pageable = PageRequest.of(pageNo, pageSize);\r\n        return experimentRepository.findAll(pageable);\r\n    }\r\n\r\n    public Page&lt;Experiment&gt; fetchExperimentsByKeyword(String keyword, Pageable pageable) {\r\n        return experimentRepository.findByKeywordPage(keyword, pageable);\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe existing code I am trying to modify looks like this:\r\n\r\n`Controller`\r\n```\r\n@GetMapping({ &quot;/list&quot;, &quot;/&quot;, &quot;/search&quot;})\r\npublic ModelAndView getAllExperiments(Authentication authentication,HttpSession session,@RequestParam(defaultValue =&quot;0&quot;) int page,String keyword)\r\n\t{\r\n\t\tModelAndView mav = new ModelAndView(&quot;experiment&quot;);\r\n\t\tString loggedInUser = authentication.getName();\r\n\t\t//String loggedInUser = &quot;kaufmafi&quot;;\r\n\t\tSystem.out.println(&quot;loggedInUser------&quot;+loggedInUser);\r\n\t\tsession.setAttribute(&quot;user&quot;, loggedInUser);\r\n\t\ttry{\r\n          int isCsmg = eRepo.isCsmg(loggedInUser);\r\n\t\t  session.setAttribute(&quot;isCsmg&quot;, isCsmg);\t\r\n\t\tif(isCsmg==1){\r\n\t\t\tif(keyword!=null){\r\n\t\t\tkeyword =keyword.trim().toUpperCase();\r\n\t\t\tSystem.out.println(&quot;keyword------&quot;+keyword);\r\n\t\t\tList&lt;Experiment&gt; proList1=eRepo.findByKeyword(keyword);\r\n\t\t\tmav.addObject(&quot;experiments&quot;, proList1);\r\n\t\t\tSystem.out.println(&quot;code name------&quot;+proList1.size()+&quot;name----------&quot;+proList1.get(1).getCodeName());\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t//Page&lt;Experiment&gt; experiment = eRepo.findAll(PageRequest.of(page,10));\r\n\t\t\tmav.addObject(&quot;experiments&quot;, eRepo.findAll());\r\n\t\t\t}\r\n\r\n\t\t}else{\r\n\t\t\tif(keyword!=null){\r\n\t\t\tkeyword =keyword.trim().toUpperCase();\r\n\t\t\tSystem.out.println(&quot;keyword------&quot;+keyword);\r\n\t\t\tmav.addObject(&quot;experiments&quot;, eRepo.getExperimentsByKeyword(loggedInUser,keyword));\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\tmav.addObject(&quot;experiments&quot;, eRepo.getAllByuserId(loggedInUser));\r\n\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\tcatch(Exception e){\r\n\r\n\t\t}\r\n\t\treturn mav;\r\n}\r\n```\r\n\r\nI&#39;ve modified the code as follows:\r\n```\r\n@GetMapping({ &quot;/list&quot;, &quot;/&quot;, &quot;/search&quot;, &quot;/list/{pageNo}&quot; })\r\n    public ModelAndView getAllExperiments(Authentication authentication, HttpSession session,\r\n            @PathVariable(&quot;pageNo&quot;) Integer pageNo, String keyword) {\r\n        // should use @PathVariable instead of @RequestParam\r\n\r\n        ModelAndView mav = new ModelAndView(&quot;experiment&quot;);\r\n        String loggedInUser = authentication.getName();\r\n\r\n        System.out.println(&quot;loggedInUser------&quot; + loggedInUser);\r\n        session.setAttribute(&quot;user&quot;, loggedInUser);\r\n\r\n        try {\r\n            // initialize pageNo\r\n            if (pageNo == null) {\r\n                pageNo = 0;\r\n            }\r\n            int isCsmg = eRepo.isCsmg(loggedInUser);\r\n            session.setAttribute(&quot;isCsmg&quot;, isCsmg);\r\n            if (isCsmg == 1) {\r\n                mav.addObject(&quot;experiments&quot;, experimentService.fetchExperiments(pageNo, 10));\r\n                if (keyword != null) {\r\n                    keyword = keyword.trim().toUpperCase();\r\n                    System.out.println(&quot;\\n\\nkeyword------&quot; + keyword + &quot;\\n\\n&quot;);\r\n\r\n                    //pass pageable to method\r\n                    Pageable pageable = PageRequest.of(pageNo, 20);\r\n                    Page&lt;Experiment&gt; page = experimentService.fetchExperimentsByKeyword(keyword, pageable);\r\n                    List&lt;Experiment&gt; proList1 = page.getContent();\r\n\r\n                    mav.addObject(&quot;experiments&quot;, proList1);\r\n\r\n                } else if (keyword.equalsIgnoreCase(&quot;&quot;)) {\r\n                    mav.addObject(&quot;experiments&quot;, experimentService.fetchExperiments(pageNo, 10));\r\n                }\r\n\r\n                else {\r\n                    mav.addObject(&quot;experiments&quot;, experimentService.fetchExperiments(pageNo, 10));\r\n                }\r\n\r\n            } else {\r\n                if (keyword != null) {\r\n                    keyword = keyword.trim().toUpperCase();\r\n                    System.out.println(&quot;keyword------&quot; + keyword);\r\n                    mav.addObject(&quot;experiments&quot;, eRepo.getExperimentsByKeyword(loggedInUser, keyword));\r\n                } else\r\n                    mav.addObject(&quot;experiments&quot;, eRepo.getAllByuserId(loggedInUser));\r\n            }\r\n\r\n        } catch (Exception e) {\r\n\r\n        }\r\n        return mav;\r\n  \r\n}\r\n```\r\n\r\nI’ve looked at this documentation https://docs.spring.io/spring-framework/reference/6.1-SNAPSHOT/web/webmvc/mvc-controller/ann-requestmapping.html\r\nto understand how to correctly setup multiple endpoints, which documentation doesn’t truly address; however, the paths are not working correctly. The issues I am facing are when the application is initially launched and logged into I receive the following error:\r\n\r\n&gt;Required URI template variable &#39;pageNo&#39; for method parameter type Integer is not present\r\norg.springframework.web.bind.MissingPathVariableException: Required URI template variable &#39;pageNo&#39; for method parameter type Integer is not present\r\n\r\nbut I am initializing the `pageNo` with a value of zero (1st page) in the `try catch` block.\r\n2nd issue is the search criteria does not work when I introduce the new endpoint, what am I doing wrong?\r\n","title":"Pagination is not working with multiple endpoints in GetMapping","body":"<p>I’m trying to implement pagination in an existing codebase. I wrote this ExperimentService class:</p>\n<p><code>ExperimentService.java</code></p>\n<pre><code>@Service\npublic class ExperimentService {\n\n    @Autowired\n    private ExperimentRepository experimentRepository;\n\n    public Page&lt;Experiment&gt; fetchExperiments(Integer pageNo, Integer pageSize) {\n\n        Pageable pageable = PageRequest.of(pageNo, pageSize);\n        return experimentRepository.findAll(pageable);\n    }\n\n    public Page&lt;Experiment&gt; fetchExperimentsByKeyword(String keyword, Pageable pageable) {\n        return experimentRepository.findByKeywordPage(keyword, pageable);\n    }\n}\n\n</code></pre>\n<p>The existing code I am trying to modify looks like this:</p>\n<p><code>Controller</code></p>\n<pre><code>@GetMapping({ &quot;/list&quot;, &quot;/&quot;, &quot;/search&quot;})\npublic ModelAndView getAllExperiments(Authentication authentication,HttpSession session,@RequestParam(defaultValue =&quot;0&quot;) int page,String keyword)\n    {\n        ModelAndView mav = new ModelAndView(&quot;experiment&quot;);\n        String loggedInUser = authentication.getName();\n        //String loggedInUser = &quot;kaufmafi&quot;;\n        System.out.println(&quot;loggedInUser------&quot;+loggedInUser);\n        session.setAttribute(&quot;user&quot;, loggedInUser);\n        try{\n          int isCsmg = eRepo.isCsmg(loggedInUser);\n          session.setAttribute(&quot;isCsmg&quot;, isCsmg);   \n        if(isCsmg==1){\n            if(keyword!=null){\n            keyword =keyword.trim().toUpperCase();\n            System.out.println(&quot;keyword------&quot;+keyword);\n            List&lt;Experiment&gt; proList1=eRepo.findByKeyword(keyword);\n            mav.addObject(&quot;experiments&quot;, proList1);\n            System.out.println(&quot;code name------&quot;+proList1.size()+&quot;name----------&quot;+proList1.get(1).getCodeName());\n            }\n            else{\n            //Page&lt;Experiment&gt; experiment = eRepo.findAll(PageRequest.of(page,10));\n            mav.addObject(&quot;experiments&quot;, eRepo.findAll());\n            }\n\n        }else{\n            if(keyword!=null){\n            keyword =keyword.trim().toUpperCase();\n            System.out.println(&quot;keyword------&quot;+keyword);\n            mav.addObject(&quot;experiments&quot;, eRepo.getExperimentsByKeyword(loggedInUser,keyword));\n            }\n            else\n            mav.addObject(&quot;experiments&quot;, eRepo.getAllByuserId(loggedInUser));\n    \n        }\n        \n    }\n        catch(Exception e){\n\n        }\n        return mav;\n}\n</code></pre>\n<p>I've modified the code as follows:</p>\n<pre><code>@GetMapping({ &quot;/list&quot;, &quot;/&quot;, &quot;/search&quot;, &quot;/list/{pageNo}&quot; })\n    public ModelAndView getAllExperiments(Authentication authentication, HttpSession session,\n            @PathVariable(&quot;pageNo&quot;) Integer pageNo, String keyword) {\n        // should use @PathVariable instead of @RequestParam\n\n        ModelAndView mav = new ModelAndView(&quot;experiment&quot;);\n        String loggedInUser = authentication.getName();\n\n        System.out.println(&quot;loggedInUser------&quot; + loggedInUser);\n        session.setAttribute(&quot;user&quot;, loggedInUser);\n\n        try {\n            // initialize pageNo\n            if (pageNo == null) {\n                pageNo = 0;\n            }\n            int isCsmg = eRepo.isCsmg(loggedInUser);\n            session.setAttribute(&quot;isCsmg&quot;, isCsmg);\n            if (isCsmg == 1) {\n                mav.addObject(&quot;experiments&quot;, experimentService.fetchExperiments(pageNo, 10));\n                if (keyword != null) {\n                    keyword = keyword.trim().toUpperCase();\n                    System.out.println(&quot;\\n\\nkeyword------&quot; + keyword + &quot;\\n\\n&quot;);\n\n                    //pass pageable to method\n                    Pageable pageable = PageRequest.of(pageNo, 20);\n                    Page&lt;Experiment&gt; page = experimentService.fetchExperimentsByKeyword(keyword, pageable);\n                    List&lt;Experiment&gt; proList1 = page.getContent();\n\n                    mav.addObject(&quot;experiments&quot;, proList1);\n\n                } else if (keyword.equalsIgnoreCase(&quot;&quot;)) {\n                    mav.addObject(&quot;experiments&quot;, experimentService.fetchExperiments(pageNo, 10));\n                }\n\n                else {\n                    mav.addObject(&quot;experiments&quot;, experimentService.fetchExperiments(pageNo, 10));\n                }\n\n            } else {\n                if (keyword != null) {\n                    keyword = keyword.trim().toUpperCase();\n                    System.out.println(&quot;keyword------&quot; + keyword);\n                    mav.addObject(&quot;experiments&quot;, eRepo.getExperimentsByKeyword(loggedInUser, keyword));\n                } else\n                    mav.addObject(&quot;experiments&quot;, eRepo.getAllByuserId(loggedInUser));\n            }\n\n        } catch (Exception e) {\n\n        }\n        return mav;\n  \n}\n</code></pre>\n<p>I’ve looked at this documentation <a href=\"https://docs.spring.io/spring-framework/reference/6.1-SNAPSHOT/web/webmvc/mvc-controller/ann-requestmapping.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/reference/6.1-SNAPSHOT/web/webmvc/mvc-controller/ann-requestmapping.html</a>\nto understand how to correctly setup multiple endpoints, which documentation doesn’t truly address; however, the paths are not working correctly. The issues I am facing are when the application is initially launched and logged into I receive the following error:</p>\n<blockquote>\n<p>Required URI template variable 'pageNo' for method parameter type Integer is not present\norg.springframework.web.bind.MissingPathVariableException: Required URI template variable 'pageNo' for method parameter type Integer is not present</p>\n</blockquote>\n<p>but I am initializing the <code>pageNo</code> with a value of zero (1st page) in the <code>try catch</code> block.\n2nd issue is the search criteria does not work when I introduce the new endpoint, what am I doing wrong?</p>\n"},{"tags":["java","sql","mysql"],"comments":[{"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1684169982,"post_id":76256285,"comment_id":134474777,"body_markdown":"the column names as variable seems unnecessary","body":"the column names as variable seems unnecessary"},{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":1,"creation_date":1684170130,"post_id":76256285,"comment_id":134474804,"body_markdown":"OK, first you have made a bad database design desision that would be better fixed now rather than later. Create a Users table and in that create a flag to indictae the user is an User or Admin. Dont use 2 seperate tables","body":"OK, first you have made a bad database design desision that would be better fixed now rather than later. Create a Users table and in that create a flag to indictae the user is an User or Admin. Dont use 2 seperate tables"},{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":1,"creation_date":1684170266,"post_id":76256285,"comment_id":134474827,"body_markdown":"You also appear to be using **Plain Text Passwords**. Thats a major __NoNo__ I am sure there is a hashing function in Java, please use it for the safety of your users, and your sanity","body":"You also appear to be using <b>Plain Text Passwords</b>. Thats a major <b>NoNo</b> I am sure there is a hashing function in Java, please use it for the safety of your users, and your sanity"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1684170845,"post_id":76256285,"comment_id":134474945,"body_markdown":"When posting here, strip down your code and your problem description to a *minimum* needed to show the issue.","body":"When posting here, strip down your code and your problem description to a <i>minimum</i> needed to show the issue."}],"owner":{"account_id":28606710,"reputation":1,"user_id":21902510,"display_name":"Hmmmyep"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684170759,"creation_date":1684169402,"question_id":76256285,"body_markdown":"i am student who working on Railway management system in Java with mysql database integration,i almost finished my project, but there is one problem in the code that i&#39;m sitting on for a couple of days and can&#39;t solve it, i also tried different resources chatGPT , github , and so on. \r\n\r\nThis is my question - I create an account in my system, and when I try to book a ticket, I get the error \r\n\r\n&gt;Cannot add or update a child row: a foreign key constraint fails (`rms`.`booking`, CONSTRAINT `booking_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `user` (`user_id`))&quot;\r\n\r\nI want the information to be stored in the &quot;booking&quot; table when booking a ticket, so that it can then be displayed as bookingHistory.\r\n\r\nbelow are the tables I use:\r\n\r\n```sql\r\nCREATE TABLE user (\r\nuser_id INT AUTO_INCREMENT PRIMARY KEY,\r\nuser_login VARCHAR(25) UNIQUE NOT NULL,\r\nuser_password VARCHAR(40) NOT NULL\r\n);\r\n\r\nCREATE TABLE admin (\r\nadmin_id INT AUTO_INCREMENT PRIMARY KEY,\r\nadmin_login VARCHAR(25) UNIQUE NOT NULL,\r\nadmin_password VARCHAR(40) NOT NULL\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS journey (\r\n    journey_id INT PRIMARY KEY AUTO_INCREMENT,\r\n    source_station VARCHAR(100) NOT NULL,\r\n    destination_station VARCHAR(100) NOT NULL,\r\n    departure_time DATETIME NOT NULL,\r\n    arrival_time DATETIME NOT NULL,\r\n    price DECIMAL(10, 2) NOT NULL,\r\n    available_seats INT NOT NULL\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS booking (\r\n    booking_id INT PRIMARY KEY AUTO_INCREMENT,\r\n    user_id INT NOT NULL,\r\n    journey_id INT NOT NULL,\r\n    booking_time DATETIME NOT NULL,\r\n    FOREIGN KEY (user_id) REFERENCES user(user_id),\r\n    FOREIGN KEY (journey_id) REFERENCES journey(journey_id)\r\n);\r\n```\r\nBelow is the code I use:\r\n\r\n```java\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.*;\r\nimport java.util.Scanner;\r\nimport java.util.InputMismatchException;\r\n\r\n\r\npublic class RailwayMS {\r\n    private static final String DB_URL = &quot;jdbc:mysql://localhost:3306/RMS&quot;;\r\n    private static final String USER = &quot;ignat&quot;;\r\n    private static final String PASSWORD = &quot;gowent&quot;;\r\n    private static boolean isAdmin = false;\r\n    private static boolean isLoggedIn = false;\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            Connection conn = DriverManager.getConnection(DB_URL, USER, PASSWORD);\r\n\r\n            while (true) {\r\n                System.out.println(&quot;Welcome to the Ticket Booking System!&quot;);\r\n                System.out.println(&quot;Please choose an option:&quot;);\r\n                System.out.println(&quot;1. Login as Admin&quot;);\r\n                System.out.println(&quot;2. Login as User&quot;);\r\n                System.out.println(&quot;3. Register as User&quot;);\r\n                System.out.println(&quot;4. Register as Admin&quot;);\r\n                System.out.println(&quot;5. Exit&quot;);\r\n\r\n                Scanner scanner = new Scanner(System.in);\r\n                int choice = 0;\r\n\r\n                try {\r\n                    choice = scanner.nextInt();\r\n                } catch (InputMismatchException e) {\r\n                    System.out.println(&quot;Invalid input. Please enter a valid option.&quot;);\r\n                    scanner.nextLine(); // Очистка буфера сканера\r\n                    continue; // Возврат к началу цикла\r\n                }\r\n\r\n                switch (choice) {\r\n                    case 1:\r\n                        login(conn, true);\r\n                        break;\r\n                    case 2:\r\n                        login(conn, false);\r\n                        break;\r\n                    case 3:\r\n                        registerUser(conn);\r\n                        break;\r\n                    case 4:\r\n                        registerAdmin(conn);\r\n                        break;\r\n                    case 5:\r\n                        System.out.println(&quot;Goodbye!&quot;);\r\n                        System.exit(0);\r\n                        break;\r\n                    default:\r\n                        System.out.println(&quot;Invalid choice. Please try again.&quot;);\r\n                }\r\n            }\r\n        } catch (SQLException e) {\r\n            System.out.println(&quot;An error occurred: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n\r\n    private static void login(Connection conn, boolean isAdminLogin) throws SQLException {\r\n        System.out.println(&quot;Please enter your username:&quot;);\r\n        Scanner scanner = new Scanner(System.in);\r\n        String username = scanner.nextLine();\r\n\r\n        System.out.println(&quot;Please enter your password:&quot;);\r\n        String password = scanner.nextLine();\r\n\r\n        String tableName = isAdminLogin ? &quot;admin&quot; : &quot;user&quot;;\r\n        String idColumnName = isAdminLogin ? &quot;admin_id&quot; : &quot;user_id&quot;;\r\n        String loginColumnName = isAdminLogin ? &quot;admin_login&quot; : &quot;user_login&quot;;\r\n        String passwordColumnName = isAdminLogin ? &quot;admin_password&quot; : &quot;user_password&quot;;\r\n\r\n        PreparedStatement statement = conn.prepareStatement(&quot;SELECT * FROM &quot; + tableName + &quot; WHERE &quot; + loginColumnName + &quot; = ? AND &quot; + passwordColumnName + &quot; = ?&quot;);\r\n        statement.setString(1, username);\r\n        statement.setString(2, password);\r\n\r\n        ResultSet result = statement.executeQuery();\r\n        if (result.next()) {\r\n            isLoggedIn = true;\r\n            isAdmin = isAdminLogin;\r\n            System.out.println(&quot;Login successful!&quot;);\r\n            if (isAdmin) {\r\n                showAdminMenu(conn);\r\n            } else {\r\n                showUserMenu(conn);\r\n            }\r\n        } else {\r\n            System.out.println(&quot;Invalid username or password.&quot;);\r\n        }\r\n    }\r\n\r\n    private static void showUserMenu(Connection conn) throws SQLException {\r\n        while (true) {\r\n            System.out.println(&quot;Welcome to the Ticket Booking System!&quot;);\r\n            System.out.println(&quot;Please choose an option:&quot;);\r\n            System.out.println(&quot;1. Book a ticket&quot;);\r\n            System.out.println(&quot;2. View my booking history&quot;);\r\n            System.out.println(&quot;3. View existing journeys&quot;);\r\n            System.out.println(&quot;4. Logout&quot;);\r\n            System.out.println(&quot;5. Exit&quot;);\r\n\r\n            Scanner scanner = new Scanner(System.in);\r\n            int choice = scanner.nextInt();\r\n\r\n            switch (choice) {\r\n                case 1:\r\n                    bookTicket(conn);\r\n                    break;\r\n                case 2:\r\n                    viewBookingHistory(conn);\r\n                    break;\r\n                case 3:\r\n                    viewJourneys(conn);\r\n                    break;\r\n                case 4:\r\n                    logout();\r\n                    return;\r\n                case 5:\r\n                    exitProgram();\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Invalid choice. Please try again.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void showAdminMenu(Connection conn) throws SQLException {\r\n        while (true) {\r\n            System.out.println(&quot;Welcome to the Ticket Booking System!&quot;);\r\n            System.out.println(&quot;Please choose an option:&quot;);\r\n            System.out.println(&quot;1. Book a ticket&quot;);\r\n            System.out.println(&quot;2. View my booking history&quot;);\r\n            System.out.println(&quot;3. View booking history of a user using username&quot;);\r\n            System.out.println(&quot;4. Add a new journey&quot;);\r\n            System.out.println(&quot;5. View existing journeys&quot;);\r\n            System.out.println(&quot;6. Logout&quot;);\r\n            System.out.println(&quot;7. Exit&quot;);\r\n\r\n            Scanner scanner = new Scanner(System.in);\r\n            int choice = scanner.nextInt();\r\n\r\n            switch (choice) {\r\n                case 1:\r\n                    bookTicket(conn);\r\n                    break;\r\n                case 2:\r\n                    viewBookingHistory(conn);\r\n                    break;\r\n                case 3:\r\n                    viewUserBookingHistory(conn);\r\n                    break;\r\n                case 4:\r\n                    addJourney(conn);\r\n                    break;\r\n                case 5:\r\n                    viewJourneys(conn);\r\n                    break;\r\n                case 6:\r\n                    logout();\r\n                    return;\r\n                case 7:\r\n                    exitProgram();\r\n                    break;\r\n                default:\r\n                    System.out.println(&quot;Invalid choice. Please try again.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private static void registerAdmin(Connection conn) {\r\n        boolean registrationSuccessful = false;\r\n        while (!registrationSuccessful) {\r\n            try {\r\n                System.out.println(&quot;Please enter an admin username:&quot;);\r\n                Scanner scanner = new Scanner(System.in);\r\n                String username = scanner.nextLine();\r\n\r\n                System.out.println(&quot;Please enter an admin password:&quot;);\r\n                String password = scanner.nextLine();\r\n\r\n                String tableName = &quot;admin&quot;;\r\n                String loginColumnName = &quot;admin_login&quot;;\r\n                String passwordColumnName = &quot;admin_password&quot;;\r\n\r\n                PreparedStatement statement = conn.prepareStatement(&quot;INSERT INTO &quot; + tableName + &quot; (&quot; + loginColumnName + &quot;, &quot; + passwordColumnName + &quot;) VALUES (?, ?)&quot;);\r\n                statement.setString(1, username);\r\n                statement.setString(2, password);\r\n\r\n                int rowsInserted = statement.executeUpdate();\r\n                if (rowsInserted &gt; 0) {\r\n                    System.out.println(&quot;Admin registration successful!&quot;);\r\n                    registrationSuccessful = true;\r\n                } else {\r\n                    System.out.println(&quot;Admin registration failed. Please try again.&quot;);\r\n                }\r\n            } catch (SQLException e) {\r\n                if (e.getErrorCode() == 1062) {\r\n                    System.out.println(&quot;Admin username already exists. Please try a different username.&quot;);\r\n                } else {\r\n                    System.out.println(&quot;An error occurred during admin registration. Please try again.&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private static void registerUser(Connection conn) {\r\n        boolean registrationSuccessful = false;\r\n        while (!registrationSuccessful) {\r\n            try {\r\n                System.out.println(&quot;Please enter a username:&quot;);\r\n                Scanner scanner = new Scanner(System.in);\r\n                String username = scanner.nextLine();\r\n\r\n                System.out.println(&quot;Please enter a password:&quot;);\r\n                String password = scanner.nextLine();\r\n\r\n                String tableName = &quot;user&quot;;\r\n                String loginColumnName = &quot;user_login&quot;;\r\n                String passwordColumnName = &quot;user_password&quot;;\r\n\r\n                PreparedStatement statement = conn.prepareStatement(&quot;INSERT INTO &quot; + tableName + &quot; (&quot; + loginColumnName + &quot;, &quot; + passwordColumnName + &quot;) VALUES (?, ?)&quot;);\r\n                statement.setString(1, username);\r\n                statement.setString(2, password);\r\n\r\n                int rowsInserted = statement.executeUpdate();\r\n                if (rowsInserted &gt; 0) {\r\n                    System.out.println(&quot;User registration successful!&quot;);\r\n                    registrationSuccessful = true;\r\n                } else {\r\n                    System.out.println(&quot;User registration failed. Please try again.&quot;);\r\n                }\r\n            } catch (SQLException e) {\r\n                if (e.getErrorCode() == 1062) {\r\n                    System.out.println(&quot;Username already exists. Please try a different username.&quot;);\r\n                } else {\r\n                    System.out.println(&quot;An error occurred during user registration. Please try again.&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void bookTicket(Connection conn) throws SQLException {\r\n        System.out.println(&quot;Please enter the journey ID:&quot;);\r\n        Scanner scanner = new Scanner(System.in);\r\n        int journeyId = scanner.nextInt();\r\n\r\n        PreparedStatement journeyStatement = conn.prepareStatement(&quot;SELECT * FROM journey WHERE journey_id = ?&quot;);\r\n        journeyStatement.setInt(1, journeyId);\r\n        ResultSet journeyResult = journeyStatement.executeQuery();\r\n\r\n        if (journeyResult.next()) {\r\n            int availableSeats = journeyResult.getInt(&quot;available_seats&quot;);\r\n            if (availableSeats &gt; 0) {\r\n                System.out.println(&quot;Seats available. Booking ticket...&quot;);\r\n\r\n                PreparedStatement updateStatement = conn.prepareStatement(&quot;UPDATE journey SET available_seats = ? WHERE journey_id = ?&quot;);\r\n                updateStatement.setInt(1, availableSeats - 1);\r\n                updateStatement.setInt(2, journeyId);\r\n                updateStatement.executeUpdate();\r\n\r\n                System.out.println(&quot;Ticket booked successfully!&quot;);\r\n\r\n\r\n\r\n                try {\r\n                    PreparedStatement insertStatement = conn.prepareStatement(&quot;INSERT INTO booking (user_id, journey_id, booking_time) VALUES (?, ?, CURRENT_TIMESTAMP)&quot;);\r\n                    insertStatement.setInt(1, getUserId(conn));\r\n                    insertStatement.setInt(2, journeyId);\r\n                    insertStatement.executeUpdate();\r\n                } catch (SQLException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            } else {\r\n                System.out.println(&quot;No seats available for this journey.&quot;);\r\n            }\r\n        } else {\r\n            System.out.println(&quot;Journey not found.&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    private static void viewBookingHistory(Connection conn) throws SQLException {\r\n\r\n        int userId = getUserId(conn);\r\n\r\n        PreparedStatement statement = conn.prepareStatement(&quot;SELECT * FROM booking INNER JOIN journey ON booking.journey_id = journey.journey_id WHERE user_id = ?&quot;);\r\n        statement.setInt(1, userId);\r\n\r\n        ResultSet result = statement.executeQuery();\r\n        if (result.next()) {\r\n            System.out.println(&quot;Booking History:&quot;);\r\n            System.out.println(&quot;-------------------------------&quot;);\r\n            do {\r\n                int bookingId = result.getInt(&quot;booking_id&quot;);\r\n                String source = result.getString(&quot;source_station&quot;);\r\n                String destination = result.getString(&quot;destination_station&quot;);\r\n                String departureTime = result.getString(&quot;departure_time&quot;);\r\n                String arrivalTime = result.getString(&quot;arrival_time&quot;);\r\n                double price = result.getDouble(&quot;price&quot;);\r\n                String bookingDate = result.getString(&quot;booking_time&quot;);\r\n\r\n\r\n                System.out.println(&quot;Booking ID: &quot; + bookingId);\r\n                System.out.println(&quot;Journey: &quot; + source + &quot; to &quot; + destination);\r\n                System.out.println(&quot;Departure Time: &quot; + departureTime);\r\n                System.out.println(&quot;Arrival Time: &quot; + arrivalTime);\r\n                System.out.println(&quot;Price: &quot; + price);\r\n                System.out.println(&quot;Booking Date: &quot; + bookingDate);\r\n                System.out.println(&quot;-------------------------------&quot;);\r\n            } while (result.next());\r\n        } else {\r\n            System.out.println(&quot;No booking history found.&quot;);\r\n        }\r\n    }\r\n\r\n    private static void viewUserBookingHistory(Connection conn) throws SQLException {\r\n        // Fetch the booking history for a specific user\r\n\r\n        System.out.println(&quot;Enter the user ID:&quot;);\r\n        Scanner scanner = new Scanner(System.in);\r\n        int userId = scanner.nextInt();\r\n\r\n        // Fetch the booking history for the user\r\n        PreparedStatement statement = conn.prepareStatement(&quot;SELECT * FROM booking INNER JOIN journey ON booking.journey_id = journey.journey_id WHERE user_id = ?&quot;);\r\n        statement.setInt(1, userId);\r\n\r\n        ResultSet result = statement.executeQuery();\r\n        if (result.next()) {\r\n            System.out.println(&quot;Booking History for User ID &quot; + userId + &quot;:&quot;);\r\n            System.out.println(&quot;-------------------------------&quot;);\r\n            do {\r\n                int bookingId = result.getInt(&quot;booking_id&quot;);\r\n                String source = result.getString(&quot;source_station&quot;);\r\n                String destination = result.getString(&quot;destination_station&quot;);\r\n                String departureTime = result.getString(&quot;departure_time&quot;);\r\n                String arrivalTime = result.getString(&quot;arrival_time&quot;);\r\n                double price = result.getDouble(&quot;price&quot;);\r\n                String bookingDate = result.getString(&quot;booking_time&quot;);\r\n\r\n\r\n                System.out.println(&quot;Booking ID: &quot; + bookingId);\r\n                System.out.println(&quot;Journey: &quot; + source + &quot; to &quot; + destination);\r\n                System.out.println(&quot;Departure Time: &quot; + departureTime);\r\n                System.out.println(&quot;Arrival Time: &quot; + arrivalTime);\r\n                System.out.println(&quot;Price: &quot; + price);\r\n                System.out.println(&quot;Booking Date: &quot; + bookingDate);\r\n                System.out.println(&quot;-------------------------------&quot;);\r\n            } while (result.next());\r\n        } else {\r\n            System.out.println(&quot;No booking history found for User ID &quot; + userId + &quot;.&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    private static void addJourney(Connection conn) throws SQLException {\r\n        if (isAdmin) {\r\n            System.out.println(&quot;Please enter the journey details:&quot;);\r\n\r\n            Scanner scanner = new Scanner(System.in);\r\n\r\n            System.out.println(&quot;Source Station: &quot;);\r\n            String source = scanner.nextLine();\r\n\r\n            System.out.println(&quot;Destination Station: &quot;);\r\n            String destination = scanner.nextLine();\r\n\r\n            System.out.println(&quot;Departure Time (YYYY-MM-DD HH:MM:SS): &quot;);\r\n            String departureTime = scanner.nextLine();\r\n\r\n            System.out.println(&quot;Arrival Time (YYYY-MM-DD HH:MM:SS): &quot;);\r\n            String arrivalTime = scanner.nextLine();\r\n\r\n            System.out.println(&quot;Price: &quot;);\r\n            double price = scanner.nextDouble();\r\n\r\n            System.out.println(&quot;Available Seats: &quot;);\r\n            int availableSeats = scanner.nextInt();\r\n\r\n            // Insert the new journey into the database\r\n            PreparedStatement statement = conn.prepareStatement(&quot;INSERT INTO journey (source_station, destination_station, departure_time, arrival_time, price, available_seats) VALUES (?, ?, ?, ?, ?, ?)&quot;);\r\n            statement.setString(1, source);\r\n            statement.setString(2, destination);\r\n            statement.setString(3, departureTime);\r\n            statement.setString(4, arrivalTime);\r\n            statement.setDouble(5, price);\r\n            statement.setInt(6, availableSeats);\r\n\r\n            int rowsInserted = statement.executeUpdate();\r\n            if (rowsInserted &gt; 0) {\r\n                System.out.println(&quot;Journey added successfully!&quot;);\r\n            } else {\r\n                System.out.println(&quot;Failed to add journey. Please try again.&quot;);\r\n            }\r\n        } else {\r\n            System.out.println(&quot;Only admins can add journeys.&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    private static void viewJourneys(Connection conn) throws SQLException {\r\n        Statement statement = conn.createStatement();\r\n        ResultSet result = statement.executeQuery(&quot;SELECT * FROM journey&quot;);\r\n\r\n        if (result.next()) {\r\n            System.out.println(&quot;Existing Journeys:&quot;);\r\n            System.out.println(&quot;-------------------------------&quot;);\r\n            do {\r\n                int journeyId = result.getInt(&quot;journey_id&quot;);\r\n                String source = result.getString(&quot;source_station&quot;);\r\n                String destination = result.getString(&quot;destination_station&quot;);\r\n                String departureTime = result.getString(&quot;departure_time&quot;);\r\n                String arrivalTime = result.getString(&quot;arrival_time&quot;);\r\n                double price = result.getDouble(&quot;price&quot;);\r\n\r\n                System.out.println(&quot;Journey ID: &quot; + journeyId);\r\n                System.out.println(&quot;Source Station: &quot; + source);\r\n                System.out.println(&quot;Destination Station: &quot; + destination);\r\n                System.out.println(&quot;Departure Time: &quot; + departureTime);\r\n                System.out.println(&quot;Arrival Time: &quot; + arrivalTime);\r\n                System.out.println(&quot;Price: &quot; + price);\r\n                System.out.println(&quot;-------------------------------&quot;);\r\n            } while (result.next());\r\n        } else {\r\n            System.out.println(&quot;No existing journeys found.&quot;);\r\n        }\r\n    }\r\n\r\n    private static int getUserId(Connection conn) throws SQLException {\r\n        String tableName = isAdmin ? &quot;admin&quot; : &quot;user&quot;;\r\n        String idColumnName = isAdmin ? &quot;admin_id&quot; : &quot;user_id&quot;;\r\n        String loginColumnName = isAdmin ? &quot;admin_login&quot; : &quot;user_login&quot;;\r\n\r\n        PreparedStatement statement = conn.prepareStatement(&quot;SELECT &quot; + idColumnName + &quot; FROM &quot; + tableName + &quot; WHERE &quot; + loginColumnName + &quot; = ?&quot;);\r\n        statement.setString(1, getLoggedInUsername());\r\n\r\n        ResultSet result = statement.executeQuery();\r\n        if (result.next()) {\r\n            return result.getInt(idColumnName);\r\n        } else {\r\n            return -1;\r\n        }\r\n    }\r\n\r\n    private static int getUserIdByUsername(Connection conn, String username) throws SQLException {\r\n        String tableName = &quot;user&quot;;\r\n        String idColumnName = &quot;user_id&quot;;\r\n        String loginColumnName = &quot;user_login&quot;;\r\n\r\n        PreparedStatement statement = conn.prepareStatement(&quot;SELECT &quot; + idColumnName + &quot; FROM &quot; + tableName + &quot; WHERE &quot; + loginColumnName + &quot; = ?&quot;);\r\n        statement.setString(1, username);\r\n\r\n        ResultSet result = statement.executeQuery();\r\n        if (result.next()) {\r\n            return result.getInt(idColumnName);\r\n        } else {\r\n            return -1;\r\n        }\r\n    }\r\n\r\n    private static String getLoggedInUsername() {\r\n        return isLoggedIn ? &quot;loggedInUsername&quot; : &quot;&quot;;\r\n    }\r\n\r\n    private static void logout() {\r\n        isLoggedIn = false;\r\n        isAdmin = false;\r\n        System.out.println(&quot;Logged out successfully!&quot;);\r\n    }\r\n\r\n    private static void exitProgram() {\r\n        System.out.println(&quot;Goodbye!&quot;);\r\n        System.exit(0);\r\n    }\r\n}\r\n```\r\nThis is the first time I ask such questions on such sites, and I will immediately say that I will be extremely grateful for any answer.\r\n\r\n\r\nI read information about the error on different sites + searched for the solution code on github and asked chatGPT, but I did not receive the desired answer.\r\nI just want to understand what the problem is and what needs to be changed in mysql or in java code in order to finally finish this project =)))","title":"Java project with mysql database integration","body":"<p>i am student who working on Railway management system in Java with mysql database integration,i almost finished my project, but there is one problem in the code that i'm sitting on for a couple of days and can't solve it, i also tried different resources chatGPT , github , and so on.</p>\n<p>This is my question - I create an account in my system, and when I try to book a ticket, I get the error</p>\n<blockquote>\n<p>Cannot add or update a child row: a foreign key constraint fails (<code>rms</code>.<code>booking</code>, CONSTRAINT <code>booking_ibfk_1</code> FOREIGN KEY (<code>user_id</code>) REFERENCES <code>user</code> (<code>user_id</code>))&quot;</p>\n</blockquote>\n<p>I want the information to be stored in the &quot;booking&quot; table when booking a ticket, so that it can then be displayed as bookingHistory.</p>\n<p>below are the tables I use:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE user (\nuser_id INT AUTO_INCREMENT PRIMARY KEY,\nuser_login VARCHAR(25) UNIQUE NOT NULL,\nuser_password VARCHAR(40) NOT NULL\n);\n\nCREATE TABLE admin (\nadmin_id INT AUTO_INCREMENT PRIMARY KEY,\nadmin_login VARCHAR(25) UNIQUE NOT NULL,\nadmin_password VARCHAR(40) NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS journey (\n    journey_id INT PRIMARY KEY AUTO_INCREMENT,\n    source_station VARCHAR(100) NOT NULL,\n    destination_station VARCHAR(100) NOT NULL,\n    departure_time DATETIME NOT NULL,\n    arrival_time DATETIME NOT NULL,\n    price DECIMAL(10, 2) NOT NULL,\n    available_seats INT NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS booking (\n    booking_id INT PRIMARY KEY AUTO_INCREMENT,\n    user_id INT NOT NULL,\n    journey_id INT NOT NULL,\n    booking_time DATETIME NOT NULL,\n    FOREIGN KEY (user_id) REFERENCES user(user_id),\n    FOREIGN KEY (journey_id) REFERENCES journey(journey_id)\n);\n</code></pre>\n<p>Below is the code I use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.PreparedStatement;\nimport java.sql.*;\nimport java.util.Scanner;\nimport java.util.InputMismatchException;\n\n\npublic class RailwayMS {\n    private static final String DB_URL = &quot;jdbc:mysql://localhost:3306/RMS&quot;;\n    private static final String USER = &quot;ignat&quot;;\n    private static final String PASSWORD = &quot;gowent&quot;;\n    private static boolean isAdmin = false;\n    private static boolean isLoggedIn = false;\n\n    public static void main(String[] args) {\n        try {\n            Connection conn = DriverManager.getConnection(DB_URL, USER, PASSWORD);\n\n            while (true) {\n                System.out.println(&quot;Welcome to the Ticket Booking System!&quot;);\n                System.out.println(&quot;Please choose an option:&quot;);\n                System.out.println(&quot;1. Login as Admin&quot;);\n                System.out.println(&quot;2. Login as User&quot;);\n                System.out.println(&quot;3. Register as User&quot;);\n                System.out.println(&quot;4. Register as Admin&quot;);\n                System.out.println(&quot;5. Exit&quot;);\n\n                Scanner scanner = new Scanner(System.in);\n                int choice = 0;\n\n                try {\n                    choice = scanner.nextInt();\n                } catch (InputMismatchException e) {\n                    System.out.println(&quot;Invalid input. Please enter a valid option.&quot;);\n                    scanner.nextLine(); // Очистка буфера сканера\n                    continue; // Возврат к началу цикла\n                }\n\n                switch (choice) {\n                    case 1:\n                        login(conn, true);\n                        break;\n                    case 2:\n                        login(conn, false);\n                        break;\n                    case 3:\n                        registerUser(conn);\n                        break;\n                    case 4:\n                        registerAdmin(conn);\n                        break;\n                    case 5:\n                        System.out.println(&quot;Goodbye!&quot;);\n                        System.exit(0);\n                        break;\n                    default:\n                        System.out.println(&quot;Invalid choice. Please try again.&quot;);\n                }\n            }\n        } catch (SQLException e) {\n            System.out.println(&quot;An error occurred: &quot; + e.getMessage());\n        }\n    }\n\n\n    private static void login(Connection conn, boolean isAdminLogin) throws SQLException {\n        System.out.println(&quot;Please enter your username:&quot;);\n        Scanner scanner = new Scanner(System.in);\n        String username = scanner.nextLine();\n\n        System.out.println(&quot;Please enter your password:&quot;);\n        String password = scanner.nextLine();\n\n        String tableName = isAdminLogin ? &quot;admin&quot; : &quot;user&quot;;\n        String idColumnName = isAdminLogin ? &quot;admin_id&quot; : &quot;user_id&quot;;\n        String loginColumnName = isAdminLogin ? &quot;admin_login&quot; : &quot;user_login&quot;;\n        String passwordColumnName = isAdminLogin ? &quot;admin_password&quot; : &quot;user_password&quot;;\n\n        PreparedStatement statement = conn.prepareStatement(&quot;SELECT * FROM &quot; + tableName + &quot; WHERE &quot; + loginColumnName + &quot; = ? AND &quot; + passwordColumnName + &quot; = ?&quot;);\n        statement.setString(1, username);\n        statement.setString(2, password);\n\n        ResultSet result = statement.executeQuery();\n        if (result.next()) {\n            isLoggedIn = true;\n            isAdmin = isAdminLogin;\n            System.out.println(&quot;Login successful!&quot;);\n            if (isAdmin) {\n                showAdminMenu(conn);\n            } else {\n                showUserMenu(conn);\n            }\n        } else {\n            System.out.println(&quot;Invalid username or password.&quot;);\n        }\n    }\n\n    private static void showUserMenu(Connection conn) throws SQLException {\n        while (true) {\n            System.out.println(&quot;Welcome to the Ticket Booking System!&quot;);\n            System.out.println(&quot;Please choose an option:&quot;);\n            System.out.println(&quot;1. Book a ticket&quot;);\n            System.out.println(&quot;2. View my booking history&quot;);\n            System.out.println(&quot;3. View existing journeys&quot;);\n            System.out.println(&quot;4. Logout&quot;);\n            System.out.println(&quot;5. Exit&quot;);\n\n            Scanner scanner = new Scanner(System.in);\n            int choice = scanner.nextInt();\n\n            switch (choice) {\n                case 1:\n                    bookTicket(conn);\n                    break;\n                case 2:\n                    viewBookingHistory(conn);\n                    break;\n                case 3:\n                    viewJourneys(conn);\n                    break;\n                case 4:\n                    logout();\n                    return;\n                case 5:\n                    exitProgram();\n                    break;\n                default:\n                    System.out.println(&quot;Invalid choice. Please try again.&quot;);\n            }\n        }\n    }\n\n    private static void showAdminMenu(Connection conn) throws SQLException {\n        while (true) {\n            System.out.println(&quot;Welcome to the Ticket Booking System!&quot;);\n            System.out.println(&quot;Please choose an option:&quot;);\n            System.out.println(&quot;1. Book a ticket&quot;);\n            System.out.println(&quot;2. View my booking history&quot;);\n            System.out.println(&quot;3. View booking history of a user using username&quot;);\n            System.out.println(&quot;4. Add a new journey&quot;);\n            System.out.println(&quot;5. View existing journeys&quot;);\n            System.out.println(&quot;6. Logout&quot;);\n            System.out.println(&quot;7. Exit&quot;);\n\n            Scanner scanner = new Scanner(System.in);\n            int choice = scanner.nextInt();\n\n            switch (choice) {\n                case 1:\n                    bookTicket(conn);\n                    break;\n                case 2:\n                    viewBookingHistory(conn);\n                    break;\n                case 3:\n                    viewUserBookingHistory(conn);\n                    break;\n                case 4:\n                    addJourney(conn);\n                    break;\n                case 5:\n                    viewJourneys(conn);\n                    break;\n                case 6:\n                    logout();\n                    return;\n                case 7:\n                    exitProgram();\n                    break;\n                default:\n                    System.out.println(&quot;Invalid choice. Please try again.&quot;);\n            }\n        }\n    }\n\n\n    private static void registerAdmin(Connection conn) {\n        boolean registrationSuccessful = false;\n        while (!registrationSuccessful) {\n            try {\n                System.out.println(&quot;Please enter an admin username:&quot;);\n                Scanner scanner = new Scanner(System.in);\n                String username = scanner.nextLine();\n\n                System.out.println(&quot;Please enter an admin password:&quot;);\n                String password = scanner.nextLine();\n\n                String tableName = &quot;admin&quot;;\n                String loginColumnName = &quot;admin_login&quot;;\n                String passwordColumnName = &quot;admin_password&quot;;\n\n                PreparedStatement statement = conn.prepareStatement(&quot;INSERT INTO &quot; + tableName + &quot; (&quot; + loginColumnName + &quot;, &quot; + passwordColumnName + &quot;) VALUES (?, ?)&quot;);\n                statement.setString(1, username);\n                statement.setString(2, password);\n\n                int rowsInserted = statement.executeUpdate();\n                if (rowsInserted &gt; 0) {\n                    System.out.println(&quot;Admin registration successful!&quot;);\n                    registrationSuccessful = true;\n                } else {\n                    System.out.println(&quot;Admin registration failed. Please try again.&quot;);\n                }\n            } catch (SQLException e) {\n                if (e.getErrorCode() == 1062) {\n                    System.out.println(&quot;Admin username already exists. Please try a different username.&quot;);\n                } else {\n                    System.out.println(&quot;An error occurred during admin registration. Please try again.&quot;);\n                }\n            }\n        }\n    }\n\n\n    private static void registerUser(Connection conn) {\n        boolean registrationSuccessful = false;\n        while (!registrationSuccessful) {\n            try {\n                System.out.println(&quot;Please enter a username:&quot;);\n                Scanner scanner = new Scanner(System.in);\n                String username = scanner.nextLine();\n\n                System.out.println(&quot;Please enter a password:&quot;);\n                String password = scanner.nextLine();\n\n                String tableName = &quot;user&quot;;\n                String loginColumnName = &quot;user_login&quot;;\n                String passwordColumnName = &quot;user_password&quot;;\n\n                PreparedStatement statement = conn.prepareStatement(&quot;INSERT INTO &quot; + tableName + &quot; (&quot; + loginColumnName + &quot;, &quot; + passwordColumnName + &quot;) VALUES (?, ?)&quot;);\n                statement.setString(1, username);\n                statement.setString(2, password);\n\n                int rowsInserted = statement.executeUpdate();\n                if (rowsInserted &gt; 0) {\n                    System.out.println(&quot;User registration successful!&quot;);\n                    registrationSuccessful = true;\n                } else {\n                    System.out.println(&quot;User registration failed. Please try again.&quot;);\n                }\n            } catch (SQLException e) {\n                if (e.getErrorCode() == 1062) {\n                    System.out.println(&quot;Username already exists. Please try a different username.&quot;);\n                } else {\n                    System.out.println(&quot;An error occurred during user registration. Please try again.&quot;);\n                }\n            }\n        }\n    }\n\n    private static void bookTicket(Connection conn) throws SQLException {\n        System.out.println(&quot;Please enter the journey ID:&quot;);\n        Scanner scanner = new Scanner(System.in);\n        int journeyId = scanner.nextInt();\n\n        PreparedStatement journeyStatement = conn.prepareStatement(&quot;SELECT * FROM journey WHERE journey_id = ?&quot;);\n        journeyStatement.setInt(1, journeyId);\n        ResultSet journeyResult = journeyStatement.executeQuery();\n\n        if (journeyResult.next()) {\n            int availableSeats = journeyResult.getInt(&quot;available_seats&quot;);\n            if (availableSeats &gt; 0) {\n                System.out.println(&quot;Seats available. Booking ticket...&quot;);\n\n                PreparedStatement updateStatement = conn.prepareStatement(&quot;UPDATE journey SET available_seats = ? WHERE journey_id = ?&quot;);\n                updateStatement.setInt(1, availableSeats - 1);\n                updateStatement.setInt(2, journeyId);\n                updateStatement.executeUpdate();\n\n                System.out.println(&quot;Ticket booked successfully!&quot;);\n\n\n\n                try {\n                    PreparedStatement insertStatement = conn.prepareStatement(&quot;INSERT INTO booking (user_id, journey_id, booking_time) VALUES (?, ?, CURRENT_TIMESTAMP)&quot;);\n                    insertStatement.setInt(1, getUserId(conn));\n                    insertStatement.setInt(2, journeyId);\n                    insertStatement.executeUpdate();\n                } catch (SQLException e) {\n                    e.printStackTrace();\n                }\n            } else {\n                System.out.println(&quot;No seats available for this journey.&quot;);\n            }\n        } else {\n            System.out.println(&quot;Journey not found.&quot;);\n        }\n    }\n\n\n\n    private static void viewBookingHistory(Connection conn) throws SQLException {\n\n        int userId = getUserId(conn);\n\n        PreparedStatement statement = conn.prepareStatement(&quot;SELECT * FROM booking INNER JOIN journey ON booking.journey_id = journey.journey_id WHERE user_id = ?&quot;);\n        statement.setInt(1, userId);\n\n        ResultSet result = statement.executeQuery();\n        if (result.next()) {\n            System.out.println(&quot;Booking History:&quot;);\n            System.out.println(&quot;-------------------------------&quot;);\n            do {\n                int bookingId = result.getInt(&quot;booking_id&quot;);\n                String source = result.getString(&quot;source_station&quot;);\n                String destination = result.getString(&quot;destination_station&quot;);\n                String departureTime = result.getString(&quot;departure_time&quot;);\n                String arrivalTime = result.getString(&quot;arrival_time&quot;);\n                double price = result.getDouble(&quot;price&quot;);\n                String bookingDate = result.getString(&quot;booking_time&quot;);\n\n\n                System.out.println(&quot;Booking ID: &quot; + bookingId);\n                System.out.println(&quot;Journey: &quot; + source + &quot; to &quot; + destination);\n                System.out.println(&quot;Departure Time: &quot; + departureTime);\n                System.out.println(&quot;Arrival Time: &quot; + arrivalTime);\n                System.out.println(&quot;Price: &quot; + price);\n                System.out.println(&quot;Booking Date: &quot; + bookingDate);\n                System.out.println(&quot;-------------------------------&quot;);\n            } while (result.next());\n        } else {\n            System.out.println(&quot;No booking history found.&quot;);\n        }\n    }\n\n    private static void viewUserBookingHistory(Connection conn) throws SQLException {\n        // Fetch the booking history for a specific user\n\n        System.out.println(&quot;Enter the user ID:&quot;);\n        Scanner scanner = new Scanner(System.in);\n        int userId = scanner.nextInt();\n\n        // Fetch the booking history for the user\n        PreparedStatement statement = conn.prepareStatement(&quot;SELECT * FROM booking INNER JOIN journey ON booking.journey_id = journey.journey_id WHERE user_id = ?&quot;);\n        statement.setInt(1, userId);\n\n        ResultSet result = statement.executeQuery();\n        if (result.next()) {\n            System.out.println(&quot;Booking History for User ID &quot; + userId + &quot;:&quot;);\n            System.out.println(&quot;-------------------------------&quot;);\n            do {\n                int bookingId = result.getInt(&quot;booking_id&quot;);\n                String source = result.getString(&quot;source_station&quot;);\n                String destination = result.getString(&quot;destination_station&quot;);\n                String departureTime = result.getString(&quot;departure_time&quot;);\n                String arrivalTime = result.getString(&quot;arrival_time&quot;);\n                double price = result.getDouble(&quot;price&quot;);\n                String bookingDate = result.getString(&quot;booking_time&quot;);\n\n\n                System.out.println(&quot;Booking ID: &quot; + bookingId);\n                System.out.println(&quot;Journey: &quot; + source + &quot; to &quot; + destination);\n                System.out.println(&quot;Departure Time: &quot; + departureTime);\n                System.out.println(&quot;Arrival Time: &quot; + arrivalTime);\n                System.out.println(&quot;Price: &quot; + price);\n                System.out.println(&quot;Booking Date: &quot; + bookingDate);\n                System.out.println(&quot;-------------------------------&quot;);\n            } while (result.next());\n        } else {\n            System.out.println(&quot;No booking history found for User ID &quot; + userId + &quot;.&quot;);\n        }\n    }\n\n\n    private static void addJourney(Connection conn) throws SQLException {\n        if (isAdmin) {\n            System.out.println(&quot;Please enter the journey details:&quot;);\n\n            Scanner scanner = new Scanner(System.in);\n\n            System.out.println(&quot;Source Station: &quot;);\n            String source = scanner.nextLine();\n\n            System.out.println(&quot;Destination Station: &quot;);\n            String destination = scanner.nextLine();\n\n            System.out.println(&quot;Departure Time (YYYY-MM-DD HH:MM:SS): &quot;);\n            String departureTime = scanner.nextLine();\n\n            System.out.println(&quot;Arrival Time (YYYY-MM-DD HH:MM:SS): &quot;);\n            String arrivalTime = scanner.nextLine();\n\n            System.out.println(&quot;Price: &quot;);\n            double price = scanner.nextDouble();\n\n            System.out.println(&quot;Available Seats: &quot;);\n            int availableSeats = scanner.nextInt();\n\n            // Insert the new journey into the database\n            PreparedStatement statement = conn.prepareStatement(&quot;INSERT INTO journey (source_station, destination_station, departure_time, arrival_time, price, available_seats) VALUES (?, ?, ?, ?, ?, ?)&quot;);\n            statement.setString(1, source);\n            statement.setString(2, destination);\n            statement.setString(3, departureTime);\n            statement.setString(4, arrivalTime);\n            statement.setDouble(5, price);\n            statement.setInt(6, availableSeats);\n\n            int rowsInserted = statement.executeUpdate();\n            if (rowsInserted &gt; 0) {\n                System.out.println(&quot;Journey added successfully!&quot;);\n            } else {\n                System.out.println(&quot;Failed to add journey. Please try again.&quot;);\n            }\n        } else {\n            System.out.println(&quot;Only admins can add journeys.&quot;);\n        }\n    }\n\n\n\n    private static void viewJourneys(Connection conn) throws SQLException {\n        Statement statement = conn.createStatement();\n        ResultSet result = statement.executeQuery(&quot;SELECT * FROM journey&quot;);\n\n        if (result.next()) {\n            System.out.println(&quot;Existing Journeys:&quot;);\n            System.out.println(&quot;-------------------------------&quot;);\n            do {\n                int journeyId = result.getInt(&quot;journey_id&quot;);\n                String source = result.getString(&quot;source_station&quot;);\n                String destination = result.getString(&quot;destination_station&quot;);\n                String departureTime = result.getString(&quot;departure_time&quot;);\n                String arrivalTime = result.getString(&quot;arrival_time&quot;);\n                double price = result.getDouble(&quot;price&quot;);\n\n                System.out.println(&quot;Journey ID: &quot; + journeyId);\n                System.out.println(&quot;Source Station: &quot; + source);\n                System.out.println(&quot;Destination Station: &quot; + destination);\n                System.out.println(&quot;Departure Time: &quot; + departureTime);\n                System.out.println(&quot;Arrival Time: &quot; + arrivalTime);\n                System.out.println(&quot;Price: &quot; + price);\n                System.out.println(&quot;-------------------------------&quot;);\n            } while (result.next());\n        } else {\n            System.out.println(&quot;No existing journeys found.&quot;);\n        }\n    }\n\n    private static int getUserId(Connection conn) throws SQLException {\n        String tableName = isAdmin ? &quot;admin&quot; : &quot;user&quot;;\n        String idColumnName = isAdmin ? &quot;admin_id&quot; : &quot;user_id&quot;;\n        String loginColumnName = isAdmin ? &quot;admin_login&quot; : &quot;user_login&quot;;\n\n        PreparedStatement statement = conn.prepareStatement(&quot;SELECT &quot; + idColumnName + &quot; FROM &quot; + tableName + &quot; WHERE &quot; + loginColumnName + &quot; = ?&quot;);\n        statement.setString(1, getLoggedInUsername());\n\n        ResultSet result = statement.executeQuery();\n        if (result.next()) {\n            return result.getInt(idColumnName);\n        } else {\n            return -1;\n        }\n    }\n\n    private static int getUserIdByUsername(Connection conn, String username) throws SQLException {\n        String tableName = &quot;user&quot;;\n        String idColumnName = &quot;user_id&quot;;\n        String loginColumnName = &quot;user_login&quot;;\n\n        PreparedStatement statement = conn.prepareStatement(&quot;SELECT &quot; + idColumnName + &quot; FROM &quot; + tableName + &quot; WHERE &quot; + loginColumnName + &quot; = ?&quot;);\n        statement.setString(1, username);\n\n        ResultSet result = statement.executeQuery();\n        if (result.next()) {\n            return result.getInt(idColumnName);\n        } else {\n            return -1;\n        }\n    }\n\n    private static String getLoggedInUsername() {\n        return isLoggedIn ? &quot;loggedInUsername&quot; : &quot;&quot;;\n    }\n\n    private static void logout() {\n        isLoggedIn = false;\n        isAdmin = false;\n        System.out.println(&quot;Logged out successfully!&quot;);\n    }\n\n    private static void exitProgram() {\n        System.out.println(&quot;Goodbye!&quot;);\n        System.exit(0);\n    }\n}\n</code></pre>\n<p>This is the first time I ask such questions on such sites, and I will immediately say that I will be extremely grateful for any answer.</p>\n<p>I read information about the error on different sites + searched for the solution code on github and asked chatGPT, but I did not receive the desired answer.\nI just want to understand what the problem is and what needs to be changed in mysql or in java code in order to finally finish this project =)))</p>\n"},{"tags":["java","javascript","html"],"comments":[{"owner":{"account_id":3709827,"reputation":982,"user_id":3087450,"display_name":"joker"},"score":0,"creation_date":1395120533,"post_id":22471055,"comment_id":34181422,"body_markdown":"use `&lt;iframe src=&#39;path of file&#39;&gt;&lt;/iframe&gt;` to show a pdf file on browser.","body":"use <code>&lt;iframe src=&#39;path of file&#39;&gt;&lt;&#47;iframe&gt;</code> to show a pdf file on browser."},{"owner":{"account_id":3406333,"reputation":29,"user_id":2857294,"display_name":"user2857294"},"score":0,"creation_date":1395120937,"post_id":22471055,"comment_id":34181567,"body_markdown":"I done with that but problem is It was downloading with idm I need to prevent that one help me","body":"I done with that but problem is It was downloading with idm I need to prevent that one help me"}],"answers":[{"tags":[],"owner":{"account_id":2641437,"reputation":549,"user_id":2284979,"display_name":"Uchit Shrestha"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1395125897,"creation_date":1395125897,"answer_id":22472347,"question_id":22471055,"body_markdown":"One option is to render the PDF to JPEG or some other image format and only serve the rendered images to the user. Some of the PDF libraries allow you to render PDF&#39;s to other file formats.\r\n\r\nAnother option may be to send/redirect the PDF through to an online PDF viewing app in the same way Google does with attachments in GMail. That way the user sees a JPEG of the PDF and cannot download the PDF.","title":"How to prevent downloading PDF file when displaying on web pages?","body":"<p>One option is to render the PDF to JPEG or some other image format and only serve the rendered images to the user. Some of the PDF libraries allow you to render PDF's to other file formats.</p>\n\n<p>Another option may be to send/redirect the PDF through to an online PDF viewing app in the same way Google does with attachments in GMail. That way the user sees a JPEG of the PDF and cannot download the PDF.</p>\n"},{"tags":[],"owner":{"account_id":28607027,"reputation":1,"user_id":21902769,"display_name":"KMP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684170649,"creation_date":1684170594,"answer_id":76256421,"question_id":22471055,"body_markdown":"After weeks of searching, trying tons of plugins, viewers, embedders, etc., I finally came up with a solution.  It&#39;s a combination of a paid plugin and a free plugin.  The free plugin I&#39;m using is &quot;Prevent Files / Folders Access&quot; https://wordpress.org/plugins/prevent-file-access/ which protects the url of the PDF if somebody manages to get it by viewing page source.  And I purchased PDF Poster: https://wordpress.org/plugins/pdf-poster/  However, I&#39;m waiting for this plugin developer to answer my request for a bit of CSS to add to it to enable vertical scrolling and the hand tool both by default. I would have preferred a free solution, but this is the best I could come up with, and I needed to move ahead and get my hundreds of embeds done.  I hope this is helpful to someone else out there. ","title":"How to prevent downloading PDF file when displaying on web pages?","body":"<p>After weeks of searching, trying tons of plugins, viewers, embedders, etc., I finally came up with a solution.  It's a combination of a paid plugin and a free plugin.  The free plugin I'm using is &quot;Prevent Files / Folders Access&quot; <a href=\"https://wordpress.org/plugins/prevent-file-access/\" rel=\"nofollow noreferrer\">https://wordpress.org/plugins/prevent-file-access/</a> which protects the url of the PDF if somebody manages to get it by viewing page source.  And I purchased PDF Poster: <a href=\"https://wordpress.org/plugins/pdf-poster/\" rel=\"nofollow noreferrer\">https://wordpress.org/plugins/pdf-poster/</a>  However, I'm waiting for this plugin developer to answer my request for a bit of CSS to add to it to enable vertical scrolling and the hand tool both by default. I would have preferred a free solution, but this is the best I could come up with, and I needed to move ahead and get my hundreds of embeds done.  I hope this is helpful to someone else out there.</p>\n"}],"owner":{"account_id":3406333,"reputation":29,"user_id":2857294,"display_name":"user2857294"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1009,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":22472347,"answer_count":2,"score":0,"last_activity_date":1684170649,"creation_date":1395120401,"question_id":22471055,"body_markdown":"How to prevent downloading **PDF** file when displaying on web pages? \r\n\r\nI tried the *content disposition inline*  but it didn&#39;t work.\r\n\r\nHow can i do this ?\r\n","title":"How to prevent downloading PDF file when displaying on web pages?","body":"<p>How to prevent downloading <strong>PDF</strong> file when displaying on web pages? </p>\n\n<p>I tried the <em>content disposition inline</em>  but it didn't work.</p>\n\n<p>How can i do this ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1638861722,"post_id":70256229,"comment_id":124193669,"body_markdown":"You need to `get` the previous count, not just increment the current loop index. Or even better replace the whole lot with `map.merge(char, 1, Integer::sum)`. Or rewrite as a `Stream` using `groupingBy` and `Collectors.counting`.","body":"You need to <code>get</code> the previous count, not just increment the current loop index. Or even better replace the whole lot with <code>map.merge(char, 1, Integer::sum)</code>. Or rewrite as a <code>Stream</code> using <code>groupingBy</code> and <code>Collectors.counting</code>."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1638861839,"post_id":70256229,"comment_id":124193693,"body_markdown":"Since you&#39;re already retrieving the count as `value` it should be `map.put(String.valueOf(A.charAt(i)), value+1);`. However, also note that `map.get(A.charAt(i))` uses the _character_ to lookup the value which doesn&#39;t matrch because you&#39;re converting the characters to strings when putting them into the map. So either always use a string or change the map key to `Character`.","body":"Since you&#39;re already retrieving the count as <code>value</code> it should be <code>map.put(String.valueOf(A.charAt(i)), value+1);</code>. However, also note that <code>map.get(A.charAt(i))</code> uses the <i>character</i> to lookup the value which doesn&#39;t matrch because you&#39;re converting the characters to strings when putting them into the map. So either always use a string or change the map key to <code>Character</code>."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638861884,"creation_date":1638861884,"answer_id":70256282,"question_id":70256229,"body_markdown":"I would use the following logic:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public static void solve(String A) {\r\n        Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n        for (int i=0; i &lt; A.length(); i++) {\r\n            char letter = A.charAt(i);\r\n            int count = map.get(letter) != null ? map.get(letter) : 0;\r\n            map.put(letter, ++count);\r\n        }\r\n\r\n        System.out.println(map);  // prints {a=2, b=2, c=2, d=1}\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        solve(&quot;aabbccd&quot;);\r\n    }\r\n\r\nThe main changes I made were to switch to using a `Map&lt;Character, Integer&gt;`, since we want to keep track of character key counts, rather than strings.  In addition, I tightened the lookup logic to set the initial count at either zero, in case a new letter comes along, or the previous value in the map, in case the letter be already known.","title":"Trying to count occurence of each letter in String in Java","body":"<p>I would use the following logic:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void solve(String A) {\n    Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\n    for (int i=0; i &lt; A.length(); i++) {\n        char letter = A.charAt(i);\n        int count = map.get(letter) != null ? map.get(letter) : 0;\n        map.put(letter, ++count);\n    }\n\n    System.out.println(map);  // prints {a=2, b=2, c=2, d=1}\n}\n\npublic static void main(String[] args) {\n    solve(&quot;aabbccd&quot;);\n}\n</code></pre>\n<p>The main changes I made were to switch to using a <code>Map&lt;Character, Integer&gt;</code>, since we want to keep track of character key counts, rather than strings.  In addition, I tightened the lookup logic to set the initial count at either zero, in case a new letter comes along, or the previous value in the map, in case the letter be already known.</p>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638862155,"creation_date":1638862155,"answer_id":70256333,"question_id":70256229,"body_markdown":"Using `Map.merge()` you can rid of checking this yourself:\r\n\r\n    Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n    for( char c : A.toCharArray()) {\r\n\t  \tmap.merge(c, 1, Integer::sum);\t    \t\t    \t\r\n\t}\r\n\r\n`merge()` takes 3 parameters:\r\n- A key which is the character in your case\r\n- A value to put for the key, which is 1 in your case\r\n- A merge bi-function to combine the new and existing values if the entry already existed. `Integer::sum` refers to `Integer&#39;s` method `static int sum(int a, int b)` which basically is the same as your `value + 1`.","title":"Trying to count occurence of each letter in String in Java","body":"<p>Using <code>Map.merge()</code> you can rid of checking this yourself:</p>\n<pre><code>Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\nfor( char c : A.toCharArray()) {\n    map.merge(c, 1, Integer::sum);                      \n}\n</code></pre>\n<p><code>merge()</code> takes 3 parameters:</p>\n<ul>\n<li>A key which is the character in your case</li>\n<li>A value to put for the key, which is 1 in your case</li>\n<li>A merge bi-function to combine the new and existing values if the entry already existed. <code>Integer::sum</code> refers to <code>Integer's</code> method <code>static int sum(int a, int b)</code> which basically is the same as your <code>value + 1</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638862716,"creation_date":1638862313,"answer_id":70256359,"question_id":70256229,"body_markdown":"A more generic solution is to use `Map&lt;Character, Integer&gt;`:\r\n\r\n```java\r\npublic static void solve(String str) {\r\n    Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n    \r\n    for(int i = 0; i &lt; str.length(); i++) {\r\n        char ch = Character.toLowerCase(str.charAt(i));\r\n        map.merge(ch, 1, Integer::sum);\r\n    }\r\n    \r\n    System.out.println(map);\r\n}\r\n```\r\n\r\nIn case you have only English letter, then solution could be more memory effective:\r\n```java\r\npublic static void solve(String str) {\r\n    str = str.toLowerCase();\r\n    int[] letters = new int[26];\r\n\r\n    for (int i = 0; i &lt; str.length(); i++)\r\n        letters[str.charAt(i) - &#39;a&#39;]++;\r\n\r\n    for (int i = 0; i &lt; letters.length; i++)\r\n        if (letters[i] &gt; 0)\r\n            System.out.format(&quot;%c=%d\\n&quot;, &#39;a&#39; + i, letters[i]);\r\n}\r\n```","title":"Trying to count occurence of each letter in String in Java","body":"<p>A more generic solution is to use <code>Map&lt;Character, Integer&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void solve(String str) {\n    Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\n    \n    for(int i = 0; i &lt; str.length(); i++) {\n        char ch = Character.toLowerCase(str.charAt(i));\n        map.merge(ch, 1, Integer::sum);\n    }\n    \n    System.out.println(map);\n}\n</code></pre>\n<p>In case you have only English letter, then solution could be more memory effective:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void solve(String str) {\n    str = str.toLowerCase();\n    int[] letters = new int[26];\n\n    for (int i = 0; i &lt; str.length(); i++)\n        letters[str.charAt(i) - 'a']++;\n\n    for (int i = 0; i &lt; letters.length; i++)\n        if (letters[i] &gt; 0)\n            System.out.format(&quot;%c=%d\\n&quot;, 'a' + i, letters[i]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1500413,"reputation":320,"user_id":1405280,"accept_rate":80,"display_name":"Tanbir Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638863388,"creation_date":1638863388,"answer_id":70256557,"question_id":70256229,"body_markdown":"The problem seems to be in this line `map.put(String.valueOf(A.charAt(i)),i+1)` where it is resetting the count every time it found a recurrence of a character. You need to get the previous count of a character if it recurred. Try changing the line to `map.put(String.valueOf(A.charAt(i)),map.get(String.valueOf(A.charAt(i)))+1)`.  \r\n\r\nAlso you can use `Character` directly as the key in your `HashMap` object, which will make the code much simpler. Hope the following code will be helpful:\r\n\r\n    public static String solve(String A, int B) {\r\n        HashMap&lt;Character, Integer&gt; count = new HashMap&lt;&gt;();\r\n        for(Character ch: A.toCharArray()){\r\n            if(count.containsKey(ch) == false){\r\n                count.put(ch, 0);\r\n            }\r\n            count.put(ch, count.get(ch)+1);\r\n        }\r\n        \r\n        System.out.println(count);\r\n        String text = &quot;i feel good&quot;;\r\n        return text;\r\n    }\r\n\r\n    // A = &quot;aabbccd&quot;\r\n    // count = {a=2, b=2, c=2, d=1}\r\n\r\n\r\n","title":"Trying to count occurence of each letter in String in Java","body":"<p>The problem seems to be in this line <code>map.put(String.valueOf(A.charAt(i)),i+1)</code> where it is resetting the count every time it found a recurrence of a character. You need to get the previous count of a character if it recurred. Try changing the line to <code>map.put(String.valueOf(A.charAt(i)),map.get(String.valueOf(A.charAt(i)))+1)</code>.</p>\n<p>Also you can use <code>Character</code> directly as the key in your <code>HashMap</code> object, which will make the code much simpler. Hope the following code will be helpful:</p>\n<pre><code>public static String solve(String A, int B) {\n    HashMap&lt;Character, Integer&gt; count = new HashMap&lt;&gt;();\n    for(Character ch: A.toCharArray()){\n        if(count.containsKey(ch) == false){\n            count.put(ch, 0);\n        }\n        count.put(ch, count.get(ch)+1);\n    }\n    \n    System.out.println(count);\n    String text = &quot;i feel good&quot;;\n    return text;\n}\n\n// A = &quot;aabbccd&quot;\n// count = {a=2, b=2, c=2, d=1}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4202011,"reputation":187,"user_id":3952707,"accept_rate":100,"display_name":"ashish malgawa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638863493,"creation_date":1638863493,"answer_id":70256577,"question_id":70256229,"body_markdown":"The reason why it is not working is that you are putting a key of type String and you are trying to get using a character value.\r\nThe fastest way to solve the bug would be to change the get to \r\n\r\n&gt; map.get(String.valueOf(A.charAt(i)))\r\n\r\nAnother way to do a check if a key does not exist is to use the contains method. \r\n\r\n&gt; map.containsKey(String.valueOf(A.charAt(i)))","title":"Trying to count occurence of each letter in String in Java","body":"<p>The reason why it is not working is that you are putting a key of type String and you are trying to get using a character value.\nThe fastest way to solve the bug would be to change the get to</p>\n<blockquote>\n<p>map.get(String.valueOf(A.charAt(i)))</p>\n</blockquote>\n<p>Another way to do a check if a key does not exist is to use the contains method.</p>\n<blockquote>\n<p>map.containsKey(String.valueOf(A.charAt(i)))</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9439696,"reputation":51,"user_id":7020611,"display_name":"Behnam Nikbakht"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684170362,"creation_date":1684170362,"answer_id":76256388,"question_id":70256229,"body_markdown":"Try this using getOrDefault instead of checking if the map contains the key:\r\n\r\n        Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n        for(char c: A.toCharArray()){\r\n            map.put(c, map.getOrDefault(c, 0) + 1);\r\n        }","title":"Trying to count occurence of each letter in String in Java","body":"<p>Try this using getOrDefault instead of checking if the map contains the key:</p>\n<pre><code>    Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\n    for(char c: A.toCharArray()){\n        map.put(c, map.getOrDefault(c, 0) + 1);\n    }\n</code></pre>\n"}],"owner":{"account_id":21690681,"reputation":33,"user_id":16005336,"display_name":"Rasika Joshi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70256333,"answer_count":6,"score":0,"last_activity_date":1684170362,"creation_date":1638861538,"question_id":70256229,"body_markdown":"I am not able to get the correct occurrence of each letter present in the string. What is wrong with my code?\r\n\r\nCode:\r\n\r\n    public class consecutiveCharacters {\r\n        public static String solve(String A, int B) {\r\n            HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n            for (int i=0;i&lt;A.length();i++) {\r\n                Integer value = map.get(A.charAt(i));\r\n                if(value == null){\r\n                    map.put(String.valueOf(A.charAt(i)),1);\r\n                }\r\n                else {\r\n                    map.put(String.valueOf(A.charAt(i)),i+1);\r\n                }\r\n            }\r\n            System.out.println(map); \r\n            String text = &quot;i feel good&quot;;\r\n            return text;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            solve(&quot;aabbccd&quot;,2);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nThe output of the map should be: \r\n```\r\n{a=2, b=2, c=2, d=1}\r\n```\r\nYet the output that the above code is giving is:\r\n```\r\n{a=1, b=1, c=1, d=1}\r\n```","title":"Trying to count occurence of each letter in String in Java","body":"<p>I am not able to get the correct occurrence of each letter present in the string. What is wrong with my code?</p>\n<p>Code:</p>\n<pre><code>public class consecutiveCharacters {\n    public static String solve(String A, int B) {\n        HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n        for (int i=0;i&lt;A.length();i++) {\n            Integer value = map.get(A.charAt(i));\n            if(value == null){\n                map.put(String.valueOf(A.charAt(i)),1);\n            }\n            else {\n                map.put(String.valueOf(A.charAt(i)),i+1);\n            }\n        }\n        System.out.println(map); \n        String text = &quot;i feel good&quot;;\n        return text;\n    }\n\n    public static void main(String[] args) {\n        solve(&quot;aabbccd&quot;,2);\n    }\n}\n</code></pre>\n<p>The output of the map should be:</p>\n<pre><code>{a=2, b=2, c=2, d=1}\n</code></pre>\n<p>Yet the output that the above code is giving is:</p>\n<pre><code>{a=1, b=1, c=1, d=1}\n</code></pre>\n"},{"tags":["java","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"score":1,"creation_date":1684139773,"post_id":76235084,"comment_id":134467565,"body_markdown":"Based on your description, it should work.\nCan you share the Project? You can upload it using https://uploads.jetbrains.com and share the upload ID.\nAlso make sure you are running the latest version of IDE and try File | Invalidate caches... | Invalidate and Restart","body":"Based on your description, it should work. Can you share the Project? You can upload it using <a href=\"https://uploads.jetbrains.com\" rel=\"nofollow noreferrer\">uploads.jetbrains.com</a> and share the upload ID. Also make sure you are running the latest version of IDE and try File | Invalidate caches... | Invalidate and Restart"},{"owner":{"account_id":7514817,"reputation":81,"user_id":5708610,"display_name":"beld"},"score":0,"creation_date":1684170088,"post_id":76235084,"comment_id":134474795,"body_markdown":"Thanks for your comment. Trying to upload the file solved the issue. I&#39;ll add an answer accordingly","body":"Thanks for your comment. Trying to upload the file solved the issue. I&#39;ll add an answer accordingly"}],"answers":[{"tags":[],"owner":{"account_id":22145072,"reputation":78,"user_id":16394491,"display_name":"Drake"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683886911,"creation_date":1683886911,"answer_id":76235333,"question_id":76235084,"body_markdown":"Try &#39;Reload files from disk&#39;/&#39;Reload project&#39;/&#39;Invalidate caches&#39;. Sometimes Intellij shows errors like that without any reason","title":"Arrays.asList Cannot access class in same package","body":"<p>Try 'Reload files from disk'/'Reload project'/'Invalidate caches'. Sometimes Intellij shows errors like that without any reason</p>\n"},{"tags":[],"owner":{"account_id":7514817,"reputation":81,"user_id":5708610,"display_name":"beld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684170171,"creation_date":1684170171,"answer_id":76256376,"question_id":76235084,"body_markdown":"It turned out to be an issue with where I saved the project on the system. By mistake, I saved it in the folder `C:\\Users\\USERNAME\\IdeaProjects\\.idea` instead of `C:\\Users\\USERNAME\\IdeaProjects\\`\r\n\r\nAfter moving the project there are no more issues and automatically rebuilding works as well.","title":"Arrays.asList Cannot access class in same package","body":"<p>It turned out to be an issue with where I saved the project on the system. By mistake, I saved it in the folder <code>C:\\Users\\USERNAME\\IdeaProjects\\.idea</code> instead of <code>C:\\Users\\USERNAME\\IdeaProjects\\</code></p>\n<p>After moving the project there are no more issues and automatically rebuilding works as well.</p>\n"}],"owner":{"account_id":7514817,"reputation":81,"user_id":5708610,"display_name":"beld"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76256376,"answer_count":2,"score":0,"last_activity_date":1684170171,"creation_date":1683884902,"question_id":76235084,"body_markdown":"I&#39;m following a Spring Boot tutorial with 2 simple classes. This is the controller class:\r\n\r\n```java\r\npackage org.example.springbootquickstart.topic;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class TopicController {\r\n\r\n   @RequestMapping( &quot;/topics&quot; )\r\n   public List&lt;Topic&gt; getAllTopics() {\r\n      return Arrays.asList(\r\n            new Topic(&quot;123123123&quot;, &quot;Spring Framework&quot;, &quot;Spring Framework Description&quot;),\r\n            new Topic(&quot;java&quot;, &quot;Core Java&quot;, &quot;Core Java Description&quot;),\r\n            new Topic(&quot;javascript&quot;, &quot;JavaScript&quot;, &quot;JavaScript Description&quot;));\r\n   }\r\n}\r\n```\r\n\r\nThis is the Topic class:\r\n\r\n```java\r\npackage org.example.springbootquickstart.topic;\r\n\r\npublic class Topic {\r\n\r\n   private String id;\r\n   private String name;\r\n   private String description;\r\n\r\n   public Topic() {\r\n\r\n   }\r\n\r\n   public Topic( String id, String name, String description ) {\r\n      super();\r\n      this.id = id;\r\n      this.name = name;\r\n      this.description = description;\r\n   }\r\n\r\n// getters and setters ...\r\n\r\n}\r\n\r\n```\r\n\r\nThe main class is in the package `org.example.springbootquickstart`. Now, this code runs without any issues, I can see the JSON response when opening the route:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe issue is that IntelliJ shows the following error message and I can&#39;t figure out why this is the case:\r\n`Cannot access org.example.springbootquickstart.topic.Topic`\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/96vKu.png\r\n  [2]: https://i.stack.imgur.com/ilbZi.png","title":"Arrays.asList Cannot access class in same package","body":"<p>I'm following a Spring Boot tutorial with 2 simple classes. This is the controller class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example.springbootquickstart.topic;\n\nimport java.util.Arrays;\nimport java.util.List;\n\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class TopicController {\n\n   @RequestMapping( &quot;/topics&quot; )\n   public List&lt;Topic&gt; getAllTopics() {\n      return Arrays.asList(\n            new Topic(&quot;123123123&quot;, &quot;Spring Framework&quot;, &quot;Spring Framework Description&quot;),\n            new Topic(&quot;java&quot;, &quot;Core Java&quot;, &quot;Core Java Description&quot;),\n            new Topic(&quot;javascript&quot;, &quot;JavaScript&quot;, &quot;JavaScript Description&quot;));\n   }\n}\n</code></pre>\n<p>This is the Topic class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example.springbootquickstart.topic;\n\npublic class Topic {\n\n   private String id;\n   private String name;\n   private String description;\n\n   public Topic() {\n\n   }\n\n   public Topic( String id, String name, String description ) {\n      super();\n      this.id = id;\n      this.name = name;\n      this.description = description;\n   }\n\n// getters and setters ...\n\n}\n\n</code></pre>\n<p>The main class is in the package <code>org.example.springbootquickstart</code>. Now, this code runs without any issues, I can see the JSON response when opening the route:</p>\n<p><a href=\"https://i.stack.imgur.com/96vKu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/96vKu.png\" alt=\"enter image description here\" /></a></p>\n<p>The issue is that IntelliJ shows the following error message and I can't figure out why this is the case:\n<code>Cannot access org.example.springbootquickstart.topic.Topic</code></p>\n<p><a href=\"https://i.stack.imgur.com/ilbZi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ilbZi.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","ms-word","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1684151768,"post_id":76253583,"comment_id":134470170,"body_markdown":"Really a shape? The better approach would be a thick left [border line for each paragraph](https://support.microsoft.com/en-us/office/add-a-border-to-some-text-dc90dbd4-11ec-4859-91b7-a41a38e73cd3) or a thick left [page border](https://support.microsoft.com/en-us/office/add-a-border-to-a-page-82c2078a-af86-4f5a-ae2a-517164ba5801).","body":"Really a shape? The better approach would be a thick left <a href=\"https://support.microsoft.com/en-us/office/add-a-border-to-some-text-dc90dbd4-11ec-4859-91b7-a41a38e73cd3\" rel=\"nofollow noreferrer\">border line for each paragraph</a> or a thick left <a href=\"https://support.microsoft.com/en-us/office/add-a-border-to-a-page-82c2078a-af86-4f5a-ae2a-517164ba5801\" rel=\"nofollow noreferrer\">page border</a>."},{"owner":{"account_id":11317917,"reputation":51,"user_id":8299076,"display_name":"Bharath Naidu Yenumula"},"score":0,"creation_date":1684153112,"post_id":76253583,"comment_id":134470511,"body_markdown":"Hi Axel Richter. Thanks for your reply. I have checked both of your links that you have provided. The first link talks about how to set border line for each paragraph. I do not need borders for the paragraph for now. The second link talks about setting the border across the page. However i want a border only to the left side of the document as shown in the first image. Any help would be appreciated and thanks for commenting.","body":"Hi Axel Richter. Thanks for your reply. I have checked both of your links that you have provided. The first link talks about how to set border line for each paragraph. I do not need borders for the paragraph for now. The second link talks about setting the border across the page. However i want a border only to the left side of the document as shown in the first image. Any help would be appreciated and thanks for commenting."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1684153353,"post_id":76253583,"comment_id":134470577,"body_markdown":"For the borders setting left border only also is possible.","body":"For the borders setting left border only also is possible."},{"owner":{"account_id":11317917,"reputation":51,"user_id":8299076,"display_name":"Bharath Naidu Yenumula"},"score":0,"creation_date":1684154235,"post_id":76253583,"comment_id":134470799,"body_markdown":"Hi Axel Richter. Thanks again. I could now see that we can add left border to the first page of the document. Would you be kind enough to guide me how to draw left border to the first page of the word document? Any insights for you would be helpful. Thank you Axel.","body":"Hi Axel Richter. Thanks again. I could now see that we can add left border to the first page of the document. Would you be kind enough to guide me how to draw left border to the first page of the word document? Any insights for you would be helpful. Thank you Axel."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684167471,"creation_date":1684167471,"answer_id":76256053,"question_id":76253583,"body_markdown":"Using a shape for what you seem to want will be very impractical. A shape must be anchored to some element and will shift if this element shifts. Also a shape will either be before or behind the text. So either text will overlap the shape or the shape will overlap text.\r\n\r\nThe better approach is using a left page border as shown in [Add a border to a page](https://support.microsoft.com/en-us/office/add-a-border-to-a-page-82c2078a-af86-4f5a-ae2a-517164ba5801).\r\n\r\nUnfortunately Apache POI does not support this using the high level `XWPF` classes. But a `*.docx` is simply a ZIP archive and so one can simple unzip that file to have a look into it. So create a page border using Microsoft Word GUI. Then save as `*.docx`. Then open as ZIP archive and look into `/word/document.xml`. You will see something like:\r\n\r\n    ...\r\n    &lt;w:sectPr&gt;\r\n     &lt;w:pgSz w:w=&quot;12240&quot; w:h=&quot;15840&quot;/&gt;\r\n     &lt;w:pgMar w:left=&quot;1440&quot; w:right=&quot;1440&quot;/&gt;\r\n     ...\r\n     &lt;w:pgBorders w:display=&quot;firstPage&quot;&gt;\r\n      &lt;w:left w:val=&quot;single&quot; w:sz=&quot;48&quot; w:space=&quot;4&quot; w:color=&quot;FFB000&quot;/&gt;\r\n     &lt;/w:pgBorders&gt;\r\n     ...\r\n    &lt;/w:sectPr&gt;\r\n    ...\r\n\r\nThis are section properties having page settings and page border settings.\r\n\r\nNow you can create that using the low level `org.openxmlformats.schemas.wordprocessingml.x2006.main.*` classes. \r\n\r\nTo get some API documentation for this, download `poi-ooxml-full-5.*-sources.jar`, unzip this and do `javadoc` from the sources.\r\n\r\nMinimal complete example:\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.*;\r\n    \r\n    import java.math.BigInteger;\r\n    \r\n    public class CreateWordPageBorder {\r\n         \r\n     static void setDefaultPageSettings(XWPFDocument doc, int pageWidth, int pageHeight, int pageLeftMargin , int pageRightMargin) {\r\n      CTDocument1 document1 = doc.getDocument();\r\n      CTBody body = document1.getBody();\r\n      CTSectPr sectPr = body.getSectPr();\r\n      if (sectPr == null) sectPr = doc.getDocument().getBody().addNewSectPr();\r\n      if (sectPr.isSetPgSz()) sectPr.unsetPgSz();\r\n      CTPageSz pageSz = sectPr.addNewPgSz();\r\n      pageSz.setW(BigInteger.valueOf(pageWidth));\r\n      pageSz.setH(BigInteger.valueOf(pageHeight));\r\n      CTPageMar pageMar = sectPr.addNewPgMar();\r\n      pageMar.setLeft(BigInteger.valueOf(pageLeftMargin)); \r\n      pageMar.setRight(BigInteger.valueOf(pageRightMargin));\r\n     }\r\n    \r\n     static void setLeftPageBorderFirstPage(XWPFDocument doc, int size, String color) {\r\n      CTDocument1 document1 = doc.getDocument();\r\n      CTBody body = document1.getBody();\r\n      CTSectPr sectPr = body.getSectPr();\r\n      if (sectPr == null) return; // there must be section properties (page settings) already\r\n      if (sectPr.isSetPgBorders()) sectPr.unsetPgBorders();\r\n      CTPageBorders pageBorders = sectPr.addNewPgBorders();\r\n      pageBorders.setDisplay​(STPageBorderDisplay.FIRST_PAGE); //LibreOffice will not support this\r\n      CTPageBorder pageBorder = pageBorders.addNewLeft();\r\n      pageBorder.setVal​(STBorder.SINGLE);\r\n      pageBorder.setSz​(BigInteger.valueOf(size));\r\n      pageBorder.setSpace​(BigInteger.valueOf(4));\r\n      pageBorder.setColor​(color);\r\n     }\r\n     \r\n     public static void main(String[] args) throws Exception {\r\n         \r\n      int TWIPS_PER_INCH = 1440;\r\n      \r\n      try (\r\n       XWPFDocument doc = new XWPFDocument();\r\n       FileOutputStream out = new FileOutputStream(&quot;./CreateWordPageBorder.docx&quot;);\r\n       ) {\r\n           \r\n       int pageWidth = (int)Math.round(8.5 * TWIPS_PER_INCH); // page size letter\r\n       int pageHeight = (int)Math.round(11 * TWIPS_PER_INCH); // page size letter\r\n       int pageLeftMargin = (int)Math.round(1 * TWIPS_PER_INCH);\r\n       int pageRightMargin = (int)Math.round(1 * TWIPS_PER_INCH);\r\n    \r\n       setDefaultPageSettings(doc, pageWidth, pageHeight, pageLeftMargin, pageRightMargin);\r\n       \r\n       setLeftPageBorderFirstPage(doc, 48, &quot;FFB000&quot;);\r\n       \r\n       // the body content\r\n       XWPFParagraph paragraph = doc.createParagraph();\r\n       XWPFRun run = paragraph.createRun();  \r\n       run.setText(&quot;The Body... lorem ipsum...&quot;);\r\n       \r\n       paragraph = doc.createParagraph();\r\n       run = paragraph.createRun();  \r\n       run.addBreak(BreakType.PAGE);\r\n    \r\n       paragraph = doc.createParagraph();\r\n      \r\n       doc.write(out);\r\n       \r\n      }\r\n     }\r\n    }\r\n\r\n\r\n\r\n","title":"Add a shape to word document by overlapping with present paragraphs","body":"<p>Using a shape for what you seem to want will be very impractical. A shape must be anchored to some element and will shift if this element shifts. Also a shape will either be before or behind the text. So either text will overlap the shape or the shape will overlap text.</p>\n<p>The better approach is using a left page border as shown in <a href=\"https://support.microsoft.com/en-us/office/add-a-border-to-a-page-82c2078a-af86-4f5a-ae2a-517164ba5801\" rel=\"nofollow noreferrer\">Add a border to a page</a>.</p>\n<p>Unfortunately Apache POI does not support this using the high level <code>XWPF</code> classes. But a <code>*.docx</code> is simply a ZIP archive and so one can simple unzip that file to have a look into it. So create a page border using Microsoft Word GUI. Then save as <code>*.docx</code>. Then open as ZIP archive and look into <code>/word/document.xml</code>. You will see something like:</p>\n<pre><code>...\n&lt;w:sectPr&gt;\n &lt;w:pgSz w:w=&quot;12240&quot; w:h=&quot;15840&quot;/&gt;\n &lt;w:pgMar w:left=&quot;1440&quot; w:right=&quot;1440&quot;/&gt;\n ...\n &lt;w:pgBorders w:display=&quot;firstPage&quot;&gt;\n  &lt;w:left w:val=&quot;single&quot; w:sz=&quot;48&quot; w:space=&quot;4&quot; w:color=&quot;FFB000&quot;/&gt;\n &lt;/w:pgBorders&gt;\n ...\n&lt;/w:sectPr&gt;\n...\n</code></pre>\n<p>This are section properties having page settings and page border settings.</p>\n<p>Now you can create that using the low level <code>org.openxmlformats.schemas.wordprocessingml.x2006.main.*</code> classes.</p>\n<p>To get some API documentation for this, download <code>poi-ooxml-full-5.*-sources.jar</code>, unzip this and do <code>javadoc</code> from the sources.</p>\n<p>Minimal complete example:</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.xwpf.usermodel.*;\n\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.*;\n\nimport java.math.BigInteger;\n\npublic class CreateWordPageBorder {\n     \n static void setDefaultPageSettings(XWPFDocument doc, int pageWidth, int pageHeight, int pageLeftMargin , int pageRightMargin) {\n  CTDocument1 document1 = doc.getDocument();\n  CTBody body = document1.getBody();\n  CTSectPr sectPr = body.getSectPr();\n  if (sectPr == null) sectPr = doc.getDocument().getBody().addNewSectPr();\n  if (sectPr.isSetPgSz()) sectPr.unsetPgSz();\n  CTPageSz pageSz = sectPr.addNewPgSz();\n  pageSz.setW(BigInteger.valueOf(pageWidth));\n  pageSz.setH(BigInteger.valueOf(pageHeight));\n  CTPageMar pageMar = sectPr.addNewPgMar();\n  pageMar.setLeft(BigInteger.valueOf(pageLeftMargin)); \n  pageMar.setRight(BigInteger.valueOf(pageRightMargin));\n }\n\n static void setLeftPageBorderFirstPage(XWPFDocument doc, int size, String color) {\n  CTDocument1 document1 = doc.getDocument();\n  CTBody body = document1.getBody();\n  CTSectPr sectPr = body.getSectPr();\n  if (sectPr == null) return; // there must be section properties (page settings) already\n  if (sectPr.isSetPgBorders()) sectPr.unsetPgBorders();\n  CTPageBorders pageBorders = sectPr.addNewPgBorders();\n  pageBorders.setDisplay​(STPageBorderDisplay.FIRST_PAGE); //LibreOffice will not support this\n  CTPageBorder pageBorder = pageBorders.addNewLeft();\n  pageBorder.setVal​(STBorder.SINGLE);\n  pageBorder.setSz​(BigInteger.valueOf(size));\n  pageBorder.setSpace​(BigInteger.valueOf(4));\n  pageBorder.setColor​(color);\n }\n \n public static void main(String[] args) throws Exception {\n     \n  int TWIPS_PER_INCH = 1440;\n  \n  try (\n   XWPFDocument doc = new XWPFDocument();\n   FileOutputStream out = new FileOutputStream(&quot;./CreateWordPageBorder.docx&quot;);\n   ) {\n       \n   int pageWidth = (int)Math.round(8.5 * TWIPS_PER_INCH); // page size letter\n   int pageHeight = (int)Math.round(11 * TWIPS_PER_INCH); // page size letter\n   int pageLeftMargin = (int)Math.round(1 * TWIPS_PER_INCH);\n   int pageRightMargin = (int)Math.round(1 * TWIPS_PER_INCH);\n\n   setDefaultPageSettings(doc, pageWidth, pageHeight, pageLeftMargin, pageRightMargin);\n   \n   setLeftPageBorderFirstPage(doc, 48, &quot;FFB000&quot;);\n   \n   // the body content\n   XWPFParagraph paragraph = doc.createParagraph();\n   XWPFRun run = paragraph.createRun();  \n   run.setText(&quot;The Body... lorem ipsum...&quot;);\n   \n   paragraph = doc.createParagraph();\n   run = paragraph.createRun();  \n   run.addBreak(BreakType.PAGE);\n\n   paragraph = doc.createParagraph();\n  \n   doc.write(out);\n   \n  }\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684169958,"creation_date":1684169586,"answer_id":76256304,"question_id":76253583,"body_markdown":"Using shapes in Apache POI `XWPF` is not really supported. And there are many compatibility problems using shapes in Microsoft Word. The most compatible approach will be using VML-shapes. This is what Microsoft Word had used up to Word 2007.\r\n\r\nTo solve what you seems to want, I would take the VML-shape outside the document body into the first page header. So the shape is outside the document body and so protected from changes within the document body.\r\n\r\nMinimal complete example:\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    import org.apache.poi.wp.usermodel.HeaderFooterType;\r\n    \r\n    public class CreateWordHeaderFirstPageWithShape {\r\n        \r\n     private static void createRectShape(XWPFParagraph paragraph, String fillcolor, String style) throws Exception {\r\n      XWPFRun run = paragraph.createRun(); \r\n      com.microsoft.schemas.vml.CTGroup ctGroup = com.microsoft.schemas.vml.CTGroup.Factory.newInstance();\r\n      com.microsoft.schemas.vml.CTRect ctRect = ctGroup.addNewRect();\r\n      ctRect.setStyle(style);\r\n      ctRect.setFillcolor(fillcolor);\r\n         \r\n      org.w3c.dom.Node ctGroupNode = ctGroup.getDomNode(); \r\n      org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPicture ctPicture = \r\n       org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPicture.Factory.parse(ctGroupNode);\r\n      org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR cTR = run.getCTR();\r\n      cTR.addNewPict();\r\n      cTR.setPictArray(0, ctPicture);  \r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      try (\r\n       XWPFDocument doc = new XWPFDocument();\r\n       FileOutputStream out = new FileOutputStream(&quot;./CreateWordHeaderFirstPageWithShape.docx&quot;);\r\n       ) {\r\n           \r\n       // create header\r\n       XWPFHeader header = doc.createHeader(HeaderFooterType.FIRST);\r\n       XWPFParagraph paragraph = header.createParagraph();\r\n       createRectShape(paragraph, \r\n        &quot;#FFB000&quot;, \r\n        &quot;position:absolute;left:-10pt;top:30pt;width:10pt;height:700pt&quot;);\r\n    \r\n       // the body content\r\n       paragraph = doc.createParagraph();\r\n       XWPFRun run = paragraph.createRun();  \r\n       run.setText(&quot;The Body... lorem ipsum...&quot;);\r\n       \r\n       paragraph = doc.createParagraph();\r\n       run = paragraph.createRun();  \r\n       run.addBreak(BreakType.PAGE);\r\n    \r\n       paragraph = doc.createParagraph();\r\n      \r\n       doc.write(out);\r\n       \r\n      }\r\n     }\r\n    }\r\n\r\nTo get some API documentation for this, download `poi-ooxml-full-5.*-sources.jar` and unzip this.  It contains `/com/microsoft/schemas/vml`. Then do `javadoc` from the sources in `-subpackages com`.\r\n","title":"Add a shape to word document by overlapping with present paragraphs","body":"<p>Using shapes in Apache POI <code>XWPF</code> is not really supported. And there are many compatibility problems using shapes in Microsoft Word. The most compatible approach will be using VML-shapes. This is what Microsoft Word had used up to Word 2007.</p>\n<p>To solve what you seems to want, I would take the VML-shape outside the document body into the first page header. So the shape is outside the document body and so protected from changes within the document body.</p>\n<p>Minimal complete example:</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.xwpf.usermodel.*;\nimport org.apache.poi.wp.usermodel.HeaderFooterType;\n\npublic class CreateWordHeaderFirstPageWithShape {\n    \n private static void createRectShape(XWPFParagraph paragraph, String fillcolor, String style) throws Exception {\n  XWPFRun run = paragraph.createRun(); \n  com.microsoft.schemas.vml.CTGroup ctGroup = com.microsoft.schemas.vml.CTGroup.Factory.newInstance();\n  com.microsoft.schemas.vml.CTRect ctRect = ctGroup.addNewRect();\n  ctRect.setStyle(style);\n  ctRect.setFillcolor(fillcolor);\n     \n  org.w3c.dom.Node ctGroupNode = ctGroup.getDomNode(); \n  org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPicture ctPicture = \n   org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPicture.Factory.parse(ctGroupNode);\n  org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR cTR = run.getCTR();\n  cTR.addNewPict();\n  cTR.setPictArray(0, ctPicture);  \n }\n\n public static void main(String[] args) throws Exception {\n\n  try (\n   XWPFDocument doc = new XWPFDocument();\n   FileOutputStream out = new FileOutputStream(&quot;./CreateWordHeaderFirstPageWithShape.docx&quot;);\n   ) {\n       \n   // create header\n   XWPFHeader header = doc.createHeader(HeaderFooterType.FIRST);\n   XWPFParagraph paragraph = header.createParagraph();\n   createRectShape(paragraph, \n    &quot;#FFB000&quot;, \n    &quot;position:absolute;left:-10pt;top:30pt;width:10pt;height:700pt&quot;);\n\n   // the body content\n   paragraph = doc.createParagraph();\n   XWPFRun run = paragraph.createRun();  \n   run.setText(&quot;The Body... lorem ipsum...&quot;);\n   \n   paragraph = doc.createParagraph();\n   run = paragraph.createRun();  \n   run.addBreak(BreakType.PAGE);\n\n   paragraph = doc.createParagraph();\n  \n   doc.write(out);\n   \n  }\n }\n}\n</code></pre>\n<p>To get some API documentation for this, download <code>poi-ooxml-full-5.*-sources.jar</code> and unzip this.  It contains <code>/com/microsoft/schemas/vml</code>. Then do <code>javadoc</code> from the sources in <code>-subpackages com</code>.</p>\n"}],"owner":{"account_id":11317917,"reputation":51,"user_id":8299076,"display_name":"Bharath Naidu Yenumula"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76256304,"answer_count":2,"score":0,"last_activity_date":1684169958,"creation_date":1684149962,"question_id":76253583,"body_markdown":"I am trying to build a document using apache POI. The starting page of the document should have a rectangular shape(vertical) to the left of the document[![output should be like this][1]][1]\r\n\r\n\r\nBefore asking for help let me tell you what all I tried. I have tried to create a paragraph and add this shape to it(I have taken the screenshot of the shape and tried to add it to the paragraph). But there are multiple paragraphs in the page, so the image is overlapping the remaining paragraphs and giving me the shape for the paragraph[![Overlapped shape][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X9Krl.png\r\n  [2]: https://i.stack.imgur.com/gzmvf.png\r\nI want the similar shape to be on the left side of the document from start of the page to the end of the page. I am new to web application development and any help would be appreciated.","title":"Add a shape to word document by overlapping with present paragraphs","body":"<p>I am trying to build a document using apache POI. The starting page of the document should have a rectangular shape(vertical) to the left of the document<a href=\"https://i.stack.imgur.com/X9Krl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X9Krl.png\" alt=\"output should be like this\" /></a></p>\n<p>Before asking for help let me tell you what all I tried. I have tried to create a paragraph and add this shape to it(I have taken the screenshot of the shape and tried to add it to the paragraph). But there are multiple paragraphs in the page, so the image is overlapping the remaining paragraphs and giving me the shape for the paragraph<a href=\"https://i.stack.imgur.com/gzmvf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gzmvf.png\" alt=\"Overlapped shape\" /></a></p>\n<p>I want the similar shape to be on the left side of the document from start of the page to the end of the page. I am new to web application development and any help would be appreciated.</p>\n"},{"tags":["java","for-loop","linked-list","out-of-memory"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1684169790,"post_id":76256265,"comment_id":134474730,"body_markdown":"Removed JavaFX tag as it not relevant.","body":"Removed JavaFX tag as it not relevant."},{"owner":{"account_id":28606761,"reputation":5,"user_id":21902556,"display_name":"KimetsuVentex"},"score":0,"creation_date":1684169839,"post_id":76256265,"comment_id":134474740,"body_markdown":"thanks a lot!\nadding a break is indeed the answer, i feels so stupid overlooking this.","body":"thanks a lot! adding a break is indeed the answer, i feels so stupid overlooking this."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1684169904,"post_id":76256265,"comment_id":134474756,"body_markdown":"Actually, adding a `break` is not a particularly good solution. See answer.","body":"Actually, adding a <code>break</code> is not a particularly good solution. See answer."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684169748,"creation_date":1684169748,"answer_id":76256324,"question_id":76256265,"body_markdown":"The problem arises because you don&#39;t terminate the loop when there are no more spaces in the string.\r\n\r\nWhen this happens, as your code acknowledges with the `if (emptySpace != -1)` clause, `emptySpace` will be `-1`. The loop modification clause `x = emptySpace + 1` then sets `x` to `0`, and the process starts from the beginning of the string. Consequently, you just add elements to the list indefinitely.\r\n\r\nThis is a good example of trying to reinvent potentially tricky algorithms that are already implemented by the API. You should always use API methods where possible. [`String.split()`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String)) already implements splitting a string into parts at a delimiter:\r\n\r\n    public void stringtoInteger(String strInput) {\r\n        for (String str : strInput.split(&quot; &quot;)) {\r\n            inputList.add(Integer.parseInt(str.trim())); // Convert the substring to an integer and add it to the LinkedList.\r\n        }\r\n    }","title":"Java / JavaFX - java.lang.OutOfMemoryError in a short and relatively simple programm","body":"<p>The problem arises because you don't terminate the loop when there are no more spaces in the string.</p>\n<p>When this happens, as your code acknowledges with the <code>if (emptySpace != -1)</code> clause, <code>emptySpace</code> will be <code>-1</code>. The loop modification clause <code>x = emptySpace + 1</code> then sets <code>x</code> to <code>0</code>, and the process starts from the beginning of the string. Consequently, you just add elements to the list indefinitely.</p>\n<p>This is a good example of trying to reinvent potentially tricky algorithms that are already implemented by the API. You should always use API methods where possible. <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\"><code>String.split()</code></a> already implements splitting a string into parts at a delimiter:</p>\n<pre><code>public void stringtoInteger(String strInput) {\n    for (String str : strInput.split(&quot; &quot;)) {\n        inputList.add(Integer.parseInt(str.trim())); // Convert the substring to an integer and add it to the LinkedList.\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28606761,"reputation":5,"user_id":21902556,"display_name":"KimetsuVentex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76256324,"answer_count":1,"score":0,"last_activity_date":1684169776,"creation_date":1684169290,"question_id":76256265,"body_markdown":"I am currently working on a JavaFX application and am trying to implement a function that converts a string of any length, which contains numbers separated by empty spaces, into integers. I am pretty sure the function I wrote should work, although for some reason, I am getting &quot;java.lang.OutOfMemoryError&quot; errors.\r\n\r\nI am using Java and JavaFX version 17!\r\n\r\n\r\nMy Function:\r\n```\r\n// Create an empty LinkedList to store the converted integers.\r\nLinkedList&lt;Integer&gt; inputList = new LinkedList&lt;&gt;();\r\n\r\n\r\npublic void StringtoInteger(String strInput) {\r\n    int emptySpace = 0; // This variable keeps track of the index of the empty space.\r\n    int endString = strInput.length(); // The size of the input string.\r\n    String str; // Temporary string variable to hold substrings.\r\n\r\n    // Iterate over the input string to extract substrings.\r\n    for(int x=0; x&lt;endString; x = emptySpace + 1) {\r\n        emptySpace = strInput.indexOf(&quot; &quot;, x); // Find the index of the next empty space.\r\n\r\n        if (emptySpace != -1) {\r\n            str = strInput.substring(x, emptySpace); // Extract the substring from the start to the empty space.\r\n        } else {\r\n            str = strInput.substring(x); // If no empty space is found, extract the remaining substring.\r\n        }\r\n\r\n        inputList.add(Integer.parseInt(str.trim())); // Convert the substring to an integer and add it to the LinkedList.\r\n    }\r\n}\r\n```\r\n\r\nMy Main is as follows:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    String testHeap = &quot;5 6 1 7 12 21 58&quot;;\r\n    StringtoInteger(testHeap);\r\n    System.out.println(inputList);\r\n}\r\n```\r\n\r\nThe full Error message is as follows\r\n\r\n```\r\nERROR!\r\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n\tat java.base/java.util.Arrays.copyOfRange(Arrays.java:4030)\r\nat java.base/java.lang.StringLatin1.newString(StringLatin1.java:715)\r\n\tat java.base/java.lang.String.substring(String.java:1879)\r\n\tat ExampleClass.stringToInteger(ExampleClass.java:15)\r\n\tat ExampleClass.main(ExampleClass.java:26)\r\n```\r\n\r\n\r\nI tried reallocating the memory my program uses, but it just keeps crashing or showing me the error.\r\nIf I run the program in IntelliJ, it crashes. If I run the function explicitly in a separate Java environment, it shows the error message.\r\n\r\nThanks for any help beforehand.","title":"Java / JavaFX - java.lang.OutOfMemoryError in a short and relatively simple programm","body":"<p>I am currently working on a JavaFX application and am trying to implement a function that converts a string of any length, which contains numbers separated by empty spaces, into integers. I am pretty sure the function I wrote should work, although for some reason, I am getting &quot;java.lang.OutOfMemoryError&quot; errors.</p>\n<p>I am using Java and JavaFX version 17!</p>\n<p>My Function:</p>\n<pre><code>// Create an empty LinkedList to store the converted integers.\nLinkedList&lt;Integer&gt; inputList = new LinkedList&lt;&gt;();\n\n\npublic void StringtoInteger(String strInput) {\n    int emptySpace = 0; // This variable keeps track of the index of the empty space.\n    int endString = strInput.length(); // The size of the input string.\n    String str; // Temporary string variable to hold substrings.\n\n    // Iterate over the input string to extract substrings.\n    for(int x=0; x&lt;endString; x = emptySpace + 1) {\n        emptySpace = strInput.indexOf(&quot; &quot;, x); // Find the index of the next empty space.\n\n        if (emptySpace != -1) {\n            str = strInput.substring(x, emptySpace); // Extract the substring from the start to the empty space.\n        } else {\n            str = strInput.substring(x); // If no empty space is found, extract the remaining substring.\n        }\n\n        inputList.add(Integer.parseInt(str.trim())); // Convert the substring to an integer and add it to the LinkedList.\n    }\n}\n</code></pre>\n<p>My Main is as follows:</p>\n<pre><code>public static void main(String[] args) {\n    String testHeap = &quot;5 6 1 7 12 21 58&quot;;\n    StringtoInteger(testHeap);\n    System.out.println(inputList);\n}\n</code></pre>\n<p>The full Error message is as follows</p>\n<pre><code>ERROR!\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\n    at java.base/java.util.Arrays.copyOfRange(Arrays.java:4030)\nat java.base/java.lang.StringLatin1.newString(StringLatin1.java:715)\n    at java.base/java.lang.String.substring(String.java:1879)\n    at ExampleClass.stringToInteger(ExampleClass.java:15)\n    at ExampleClass.main(ExampleClass.java:26)\n</code></pre>\n<p>I tried reallocating the memory my program uses, but it just keeps crashing or showing me the error.\nIf I run the program in IntelliJ, it crashes. If I run the function explicitly in a separate Java environment, it shows the error message.</p>\n<p>Thanks for any help beforehand.</p>\n"},{"tags":["java","spring","jwt","jhipster","feign"],"comments":[{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1598597824,"post_id":63624910,"comment_id":112516280,"body_markdown":"Your title talks about FeignClient but you show only code from server. Why did you modify the code of the receiver endpoint, the default security configuration from JHipster  should require a JWT, no change needed; Only the caller should be changed. How do you retrieve the token in caller, with `SecurityUtils.getCurrentUserJWT()` ? Did you test your endpoint with swagger  or curl?","body":"Your title talks about FeignClient but you show only code from server. Why did you modify the code of the receiver endpoint, the default security configuration from JHipster  should require a JWT, no change needed; Only the caller should be changed. How do you retrieve the token in caller, with <code>SecurityUtils.getCurrentUserJWT()</code> ? Did you test your endpoint with swagger  or curl?"}],"answers":[{"tags":[],"owner":{"account_id":18191790,"reputation":1488,"user_id":13237531,"display_name":"Vladimir Stanciu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684168923,"creation_date":1598597119,"answer_id":63628796,"question_id":63624910,"body_markdown":"Should work like this `@RequestHeader(value = &quot;Authorization&quot;) String authorization`, but make sure you pass the right value, must be something like `Bearer token`.","title":"add Authorization token using Feign client","body":"<p>Should work like this <code>@RequestHeader(value = &quot;Authorization&quot;) String authorization</code>, but make sure you pass the right value, must be something like <code>Bearer token</code>.</p>\n"},{"tags":[],"owner":{"account_id":12982621,"reputation":443,"user_id":9384494,"display_name":"Tushar Jajodia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598598708,"creation_date":1598598708,"answer_id":63629107,"question_id":63624910,"body_markdown":"Your this code is absolutely correct.    \r\n \r\n\r\n        @GetMapping(&quot;/api/users/find&quot;)\r\n        Optional&lt;UserDTO&gt; findUserByEmail(\r\n        @RequestHeaders(&quot;Authorization&quot;) String token, @RequestParam(&quot;email&quot;) String email);\r\n\r\nJust when you are calling this particular method add &quot;Bearer &quot; in front of the value of the token\r\n\r\n    token = &quot;Bearer &quot; + token;\r\n    findUserByEmail(token,email);\r\n\r\n\r\n","title":"add Authorization token using Feign client","body":"<p>Your this code is absolutely correct.</p>\n<pre><code>    @GetMapping(&quot;/api/users/find&quot;)\n    Optional&lt;UserDTO&gt; findUserByEmail(\n    @RequestHeaders(&quot;Authorization&quot;) String token, @RequestParam(&quot;email&quot;) String email);\n</code></pre>\n<p>Just when you are calling this particular method add &quot;Bearer &quot; in front of the value of the token</p>\n<pre><code>token = &quot;Bearer &quot; + token;\nfindUserByEmail(token,email);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":938323,"reputation":348,"user_id":7393841,"display_name":"Deepu George Jacob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676838222,"creation_date":1676838222,"answer_id":75503200,"question_id":63624910,"body_markdown":"Create Header like this and pass to your feign client\r\n\r\n```\r\nprivate HttpHeaders getHeaders(final HttpServletRequest httpServletRequest) {\r\n        final HttpHeaders headers = new HttpHeaders();\r\n        headers.add(&quot;authorization&quot;, httpServletRequest.getHeader(&quot;authorization&quot;));\r\n        return headers;\r\n```\r\n\r\n[Example 1](https://github.com/DeepuGeorgeJacob1/school-management/blob/main/docs/FeignClientJDBCUserSecurityS1.md)\r\n\r\nOr very simple add intercepter\r\n\r\n```\r\n@Component\r\npublic class AuthFeignInterceptor implements RequestInterceptor {\r\n\r\n    @Override\r\n    public void apply(RequestTemplate template) {\r\n        final RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes();\r\n        if (requestAttributes != null) {\r\n            final HttpServletRequest httpServletRequest = ((ServletRequestAttributes) requestAttributes).getRequest();\r\n            template.header(HttpHeaders.AUTHORIZATION, httpServletRequest.getHeader(HttpHeaders.AUTHORIZATION));\r\n        }\r\n    }\r\n}\r\n``` \r\n\r\n[Example 2](https://github.com/DeepuGeorgeJacob1/school-management/blob/main/docs/FeignClientJDBCUserSecurityS2.md)","title":"add Authorization token using Feign client","body":"<p>Create Header like this and pass to your feign client</p>\n<pre><code>private HttpHeaders getHeaders(final HttpServletRequest httpServletRequest) {\n        final HttpHeaders headers = new HttpHeaders();\n        headers.add(&quot;authorization&quot;, httpServletRequest.getHeader(&quot;authorization&quot;));\n        return headers;\n</code></pre>\n<p><a href=\"https://github.com/DeepuGeorgeJacob1/school-management/blob/main/docs/FeignClientJDBCUserSecurityS1.md\" rel=\"nofollow noreferrer\">Example 1</a></p>\n<p>Or very simple add intercepter</p>\n<pre><code>@Component\npublic class AuthFeignInterceptor implements RequestInterceptor {\n\n    @Override\n    public void apply(RequestTemplate template) {\n        final RequestAttributes requestAttributes = RequestContextHolder.getRequestAttributes();\n        if (requestAttributes != null) {\n            final HttpServletRequest httpServletRequest = ((ServletRequestAttributes) requestAttributes).getRequest();\n            template.header(HttpHeaders.AUTHORIZATION, httpServletRequest.getHeader(HttpHeaders.AUTHORIZATION));\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://github.com/DeepuGeorgeJacob1/school-management/blob/main/docs/FeignClientJDBCUserSecurityS2.md\" rel=\"nofollow noreferrer\">Example 2</a></p>\n"}],"owner":{"account_id":12711139,"reputation":373,"user_id":11697033,"display_name":"whatspoppin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1703,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63628796,"answer_count":3,"score":2,"last_activity_date":1684168923,"creation_date":1598566972,"question_id":63624910,"body_markdown":"I have two service connected to a registry, one of them need to query some data from the other, the token need to be passed to the endpoint.\r\n\r\nI Have tried the following but it didn&#39;t work, the endpoint act as if no token is provided.\r\n\r\n```\r\n    @GetMapping(&quot;/api/users/find&quot;)\r\n    @Headers(&quot;Authorization: Bearer {token}&quot;)\r\n    Optional&lt;UserDTO&gt; findUserByEmail(\r\n        @Param(&quot;token&quot;) String token, @RequestParam(&quot;email&quot;) String email);\r\n```\r\n\r\n```\r\n    @GetMapping(&quot;/api/users/find&quot;)\r\n    Optional&lt;UserDTO&gt; findUserByEmail(\r\n        @RequestHeaders(&quot;Authorization&quot;) String token, @RequestParam(&quot;email&quot;) String email);\r\n```\r\n```\r\n    @GetMapping(&quot;/api/users/find&quot;)\r\n    Optional&lt;UserDTO&gt; findUserByEmail(\r\n        @HeaderMap Map&lt;String, Object&gt; headers , @RequestParam(&quot;email&quot;) String email);\r\n```","title":"add Authorization token using Feign client","body":"<p>I have two service connected to a registry, one of them need to query some data from the other, the token need to be passed to the endpoint.</p>\n<p>I Have tried the following but it didn't work, the endpoint act as if no token is provided.</p>\n<pre><code>    @GetMapping(&quot;/api/users/find&quot;)\n    @Headers(&quot;Authorization: Bearer {token}&quot;)\n    Optional&lt;UserDTO&gt; findUserByEmail(\n        @Param(&quot;token&quot;) String token, @RequestParam(&quot;email&quot;) String email);\n</code></pre>\n<pre><code>    @GetMapping(&quot;/api/users/find&quot;)\n    Optional&lt;UserDTO&gt; findUserByEmail(\n        @RequestHeaders(&quot;Authorization&quot;) String token, @RequestParam(&quot;email&quot;) String email);\n</code></pre>\n<pre><code>    @GetMapping(&quot;/api/users/find&quot;)\n    Optional&lt;UserDTO&gt; findUserByEmail(\n        @HeaderMap Map&lt;String, Object&gt; headers , @RequestParam(&quot;email&quot;) String email);\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":11740419,"reputation":32,"user_id":8592937,"display_name":"Ivan Stefner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684168845,"creation_date":1684168845,"answer_id":76256216,"question_id":76256176,"body_markdown":"you selected only the name in your query\r\n\r\n    @Query(value = &quot;select product.name from product WHERE product.id NOT IN( select product_id FROM orders WHERE from_date = :fromDate and to_date = :toDate)&quot;, nativeQuery = true )\r\n\r\ninsetead you should use\r\n\r\n    @Query(value = &quot;select product from product WHERE product.id NOT IN( select product_id FROM orders WHERE from_date = :fromDate and to_date = :toDate)&quot;, nativeQuery = true )","title":"org.postgresql.util.PSQLException: The column name id was not found in this ResultSet","body":"<p>you selected only the name in your query</p>\n<pre><code>@Query(value = &quot;select product.name from product WHERE product.id NOT IN( select product_id FROM orders WHERE from_date = :fromDate and to_date = :toDate)&quot;, nativeQuery = true )\n</code></pre>\n<p>insetead you should use</p>\n<pre><code>@Query(value = &quot;select product from product WHERE product.id NOT IN( select product_id FROM orders WHERE from_date = :fromDate and to_date = :toDate)&quot;, nativeQuery = true )\n</code></pre>\n"}],"owner":{"account_id":28606755,"reputation":1,"user_id":21902550,"display_name":"DanutSRL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684168845,"creation_date":1684168495,"question_id":76256176,"body_markdown":"Entity Product Class\r\n\r\n```\r\n@Entity(name = &quot;product&quot;)\r\n@Table(name = &quot;product&quot;)\r\npublic class Product {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Integer id;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;name&quot;)\r\n    private EProduct name;\r\n\r\n    private int priceUnit;\r\n\r\n    private int priceWeekend;\r\n\r\n   @OneToMany(mappedBy=&quot;product&quot;)\r\n   @JsonIgnore\r\n    private Set&lt;Orders&gt; orders = new HashSet&lt;&gt;();\r\n```\r\n\r\nEntity Orders Class\r\n\r\n```\r\nEntity(name = &quot;orders&quot;)\r\n@Table(name = &quot;orders&quot;)\r\npublic class Orders {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Integer id;\r\n\r\n\r\n//    @ManyToOne\r\n//    @JoinColumn(name = &quot;user_id&quot;,nullable = true)\r\n//    private User user;\r\n\r\n\r\n@ManyToOne\r\n@JoinColumn(name = &quot;product_id&quot;, nullable = true)\r\n@OnDelete(action = OnDeleteAction.CASCADE)\r\n    @ToString.Exclude\r\n    private Product product;\r\n\r\n\r\n\r\n\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    private LocalDate fromDate;\r\n\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    private LocalDate toDate;\r\n\r\n    private int totalPrice;\r\n\r\n    private boolean isPaid  = false;\r\n```\r\n\r\nProduct Repository\r\n\r\n```\r\n@Repository\r\npublic interface ProductRepository extends JpaRepository&lt;Product,Integer&gt; {\r\n\r\n  \r\n   @Query(value = &quot;select product.name from product WHERE product.id NOT IN( select product_id FROM orders WHERE from_date = :fromDate and to_date = :toDate)&quot;, nativeQuery = true )\r\n    List&lt;Product&gt; findProductsById(@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;) @Param(&quot;fromDate&quot;) LocalDate fromDate, @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;) @Param(&quot;toDate&quot;) LocalDate toDate);\r\n\r\n```\r\n\r\nError Message\r\norg.postgresql.util.PSQLException: The column name id was not found in this ResultSet.\r\n\tat org.postgresql.jdbc.PgResultSet.findColumn(PgResultSet.java:2775) ~[postgresql-42.2.24.jar:42.2.24]\r\n\tat org.postgresql.jdbc.PgResultSet.getInt(PgResultSet.java:2653) ~[postgresql-42.2.24.jar:42.2.24]\r\n\tat com.zaxxer.hikari.pool.HikariProxyResultSet.getInt(HikariProxyResultSet.java) ~[HikariCP-4.0.3.jar:na]\r\n\tat \r\n\r\nI dont know what to do","title":"org.postgresql.util.PSQLException: The column name id was not found in this ResultSet","body":"<p>Entity Product Class</p>\n<pre><code>@Entity(name = &quot;product&quot;)\n@Table(name = &quot;product&quot;)\npublic class Product {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;name&quot;)\n    private EProduct name;\n\n    private int priceUnit;\n\n    private int priceWeekend;\n\n   @OneToMany(mappedBy=&quot;product&quot;)\n   @JsonIgnore\n    private Set&lt;Orders&gt; orders = new HashSet&lt;&gt;();\n</code></pre>\n<p>Entity Orders Class</p>\n<pre><code>Entity(name = &quot;orders&quot;)\n@Table(name = &quot;orders&quot;)\npublic class Orders {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n\n//    @ManyToOne\n//    @JoinColumn(name = &quot;user_id&quot;,nullable = true)\n//    private User user;\n\n\n@ManyToOne\n@JoinColumn(name = &quot;product_id&quot;, nullable = true)\n@OnDelete(action = OnDeleteAction.CASCADE)\n    @ToString.Exclude\n    private Product product;\n\n\n\n\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private LocalDate fromDate;\n\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private LocalDate toDate;\n\n    private int totalPrice;\n\n    private boolean isPaid  = false;\n</code></pre>\n<p>Product Repository</p>\n<pre><code>@Repository\npublic interface ProductRepository extends JpaRepository&lt;Product,Integer&gt; {\n\n  \n   @Query(value = &quot;select product.name from product WHERE product.id NOT IN( select product_id FROM orders WHERE from_date = :fromDate and to_date = :toDate)&quot;, nativeQuery = true )\n    List&lt;Product&gt; findProductsById(@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;) @Param(&quot;fromDate&quot;) LocalDate fromDate, @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;) @Param(&quot;toDate&quot;) LocalDate toDate);\n\n</code></pre>\n<p>Error Message\norg.postgresql.util.PSQLException: The column name id was not found in this ResultSet.\nat org.postgresql.jdbc.PgResultSet.findColumn(PgResultSet.java:2775) ~[postgresql-42.2.24.jar:42.2.24]\nat org.postgresql.jdbc.PgResultSet.getInt(PgResultSet.java:2653) ~[postgresql-42.2.24.jar:42.2.24]\nat com.zaxxer.hikari.pool.HikariProxyResultSet.getInt(HikariProxyResultSet.java) ~[HikariCP-4.0.3.jar:na]\nat</p>\n<p>I dont know what to do</p>\n"},{"tags":["java","multithreading","concurrency","java.util.concurrent"],"comments":[{"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"score":3,"creation_date":1402925475,"post_id":24241335,"comment_id":37447604,"body_markdown":"That is a SchedeuledExecutorService which will be `waiting` probably most of the time.  You should look else where.  The waiting in here does not consume CPU so would not cause further performance problems.","body":"That is a SchedeuledExecutorService which will be <code>waiting</code> probably most of the time.  You should look else where.  The waiting in here does not consume CPU so would not cause further performance problems."},{"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"score":0,"creation_date":1402926092,"post_id":24241335,"comment_id":37447979,"body_markdown":"If I were a betting man, I would look at your memory usage and GC occurrence.","body":"If I were a betting man, I would look at your memory usage and GC occurrence."},{"owner":{"account_id":31546,"reputation":1641,"user_id":86723,"accept_rate":87,"display_name":"Konrad Pawlus"},"score":0,"creation_date":1403002954,"post_id":24241335,"comment_id":37480111,"body_markdown":"Ok, thanks. I enabled GC logging, will see what I can find there.","body":"Ok, thanks. I enabled GC logging, will see what I can find there."},{"owner":{"account_id":4429568,"reputation":480,"user_id":3607022,"accept_rate":62,"display_name":"user3607022"},"score":1,"creation_date":1429728699,"post_id":24241335,"comment_id":47740725,"body_markdown":"@JohnVint If you were a betting man, what would you suspect in the memory usage and GC occurance? I have a similar problem","body":"@JohnVint If you were a betting man, what would you suspect in the memory usage and GC occurance? I have a similar problem"},{"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"score":4,"creation_date":1429728885,"post_id":24241335,"comment_id":47740831,"body_markdown":"@user3607022 `GC Overhead limit reached`.  That is a clear indication your app has memory issues.  If you see that, that means the old generation is pretty much filled and can&#39;t be GC&#39;d any further.","body":"@user3607022 <code>GC Overhead limit reached</code>.  That is a clear indication your app has memory issues.  If you see that, that means the old generation is pretty much filled and can&#39;t be GC&#39;d any further."},{"owner":{"account_id":4429568,"reputation":480,"user_id":3607022,"accept_rate":62,"display_name":"user3607022"},"score":0,"creation_date":1429729020,"post_id":24241335,"comment_id":47740917,"body_markdown":"Ok, thanks for the insight. Would that possibly cause the application to hang without throwing anything?","body":"Ok, thanks for the insight. Would that possibly cause the application to hang without throwing anything?"},{"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"score":0,"creation_date":1429729133,"post_id":24241335,"comment_id":47740984,"body_markdown":"If it&#39;s nearly unresponsive you should see that particular error in the logs.  If the thread dump doesn&#39;t show anything obvious you can look at the CPU usage.  If the memory is reasonable and the CPU is low then it is probably something else.","body":"If it&#39;s nearly unresponsive you should see that particular error in the logs.  If the thread dump doesn&#39;t show anything obvious you can look at the CPU usage.  If the memory is reasonable and the CPU is low then it is probably something else."}],"answers":[{"tags":[],"owner":{"account_id":482697,"reputation":6106,"user_id":897272,"accept_rate":90,"display_name":"dsollen"},"down_vote_count":0,"up_vote_count":232,"is_accepted":true,"score":232,"last_activity_date":1440712425,"creation_date":1412696304,"answer_id":26239873,"question_id":24241335,"body_markdown":"unsafe.park is pretty much the same as thread.wait, except that it&#39;s using architecture specific code (thus the reason it&#39;s &#39;unsafe&#39;). unsafe is not made available publicly, but is used within java internal libraries where architecture specific code would offer significant optimization benefits. It&#39;s used a lot for thread pooling.\r\n\r\nSo, to answer your question, all the thread is doing is waiting for something, it&#39;s not really using any CPU. Considering that your original stack trace shows that you&#39;re using a lock I would assume a deadlock is going on in your case.\r\n\r\nYes I know you have almost certainly already solved this issue by now. However, you&#39;re one of the top results if someone googles sun.misc.unsafe.park. I figure answering the question may help others trying to understand what this method that seems to be using all their CPU is.","title":"WAITING at sun.misc.Unsafe.park(Native Method)","body":"<p>unsafe.park is pretty much the same as thread.wait, except that it's using architecture specific code (thus the reason it's 'unsafe'). unsafe is not made available publicly, but is used within java internal libraries where architecture specific code would offer significant optimization benefits. It's used a lot for thread pooling.</p>\n\n<p>So, to answer your question, all the thread is doing is waiting for something, it's not really using any CPU. Considering that your original stack trace shows that you're using a lock I would assume a deadlock is going on in your case.</p>\n\n<p>Yes I know you have almost certainly already solved this issue by now. However, you're one of the top results if someone googles sun.misc.unsafe.park. I figure answering the question may help others trying to understand what this method that seems to be using all their CPU is.</p>\n"},{"tags":[],"owner":{"account_id":8541824,"reputation":357,"user_id":6442528,"display_name":"Yoga Gowda"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1684168671,"creation_date":1465419921,"answer_id":37712919,"question_id":24241335,"body_markdown":"From the stack trace it&#39;s clear that the `ThreadPoolExecutor &gt; Worker` thread started. It&#39;s waiting for the task to be available on the `BlockingQueue` (`DelayedWorkQueue`) and to pick the task and execute. So, this thread will be in `WAIT` status until it gets a `SIGNAL` from the publisher thread.","title":"WAITING at sun.misc.Unsafe.park(Native Method)","body":"<p>From the stack trace it's clear that the <code>ThreadPoolExecutor &gt; Worker</code> thread started. It's waiting for the task to be available on the <code>BlockingQueue</code> (<code>DelayedWorkQueue</code>) and to pick the task and execute. So, this thread will be in <code>WAIT</code> status until it gets a <code>SIGNAL</code> from the publisher thread.</p>\n"},{"tags":[],"owner":{"account_id":2047499,"reputation":1845,"user_id":1827276,"accept_rate":56,"display_name":"boly38"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648655153,"creation_date":1506949891,"answer_id":46526172,"question_id":24241335,"body_markdown":"I had a similar issue, and following previous answers (thanks!), I was able to search and find how to handle correctly the ThreadPoolExecutor terminaison.\r\n\r\nIn my case, that just fix my progressive increase of similar blocked threads:\r\n\r\n- I&#39;ve used `ExecutorService::awaitTermination(x, TimeUnit)` and `ExecutorService::shutdownNow()` (if necessary) in my finally clause.\r\n- For information, I&#39;ve used the following commands to detect thread count &amp; list locked threads:\r\n\r\n```bash\r\nps -u javaAppuser -L|wc -l\r\n   \r\njcmd \\`ps -C java -o pid=\\` Thread.print &gt;&gt; threadPrintDayA.log\r\n    \r\njcmd \\`ps -C java -o pid=\\` Thread.print &gt;&gt; threadPrintDayAPlusOne.log\r\n    \r\ncat threadPrint*.log |grep &quot;pool-&quot;|wc -l\r\n```\r\n\r\n","title":"WAITING at sun.misc.Unsafe.park(Native Method)","body":"<p>I had a similar issue, and following previous answers (thanks!), I was able to search and find how to handle correctly the ThreadPoolExecutor terminaison.</p>\n<p>In my case, that just fix my progressive increase of similar blocked threads:</p>\n<ul>\n<li>I've used <code>ExecutorService::awaitTermination(x, TimeUnit)</code> and <code>ExecutorService::shutdownNow()</code> (if necessary) in my finally clause.</li>\n<li>For information, I've used the following commands to detect thread count &amp; list locked threads:</li>\n</ul>\n<pre class=\"lang-sh prettyprint-override\"><code>ps -u javaAppuser -L|wc -l\n   \njcmd \\`ps -C java -o pid=\\` Thread.print &gt;&gt; threadPrintDayA.log\n    \njcmd \\`ps -C java -o pid=\\` Thread.print &gt;&gt; threadPrintDayAPlusOne.log\n    \ncat threadPrint*.log |grep &quot;pool-&quot;|wc -l\n</code></pre>\n"}],"owner":{"account_id":31546,"reputation":1641,"user_id":86723,"accept_rate":87,"display_name":"Konrad Pawlus"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160628,"favorite_count":0,"down_vote_count":0,"up_vote_count":105,"accepted_answer_id":26239873,"answer_count":3,"score":105,"last_activity_date":1684168671,"creation_date":1402913659,"question_id":24241335,"body_markdown":"One of my applications hangs under some period of running under load, does anyone know what could cause such output in jstack:\r\n\r\n    &quot;scheduler-5&quot; prio=10 tid=0x00007f49481d0000 nid=0x2061 waiting on condition [0x00007f494e8d0000]\r\n       java.lang.Thread.State: WAITING (parking)\r\n            at sun.misc.Unsafe.park(Native Method)\r\n            - parking to wait for  &lt;0x00000006ee117310&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n            at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\r\n            at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\r\n            at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1085)\r\n            at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:807)\r\n            at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1043)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1103)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\r\n            at java.lang.Thread.run(Thread.java:722)\r\n\r\nI am seeing this a lot in jstack output when it hangs.\r\n\r\nI heavily using Spring @Async &amp; maps, synchronized maps &amp; ehcache.\r\n\r\nWhat is interesting this only happens on one of app instances. Two others are running perfectly fine.\r\nWhat else I could investigate to get more details in such case?\r\n\r\nI found this post https://stackoverflow.com/questions/23992787/parking-to-wait-for-0xd8cf0070-a-java-util-concurrent-locks-abstractqueueds but it is not very useful in my case.","title":"WAITING at sun.misc.Unsafe.park(Native Method)","body":"<p>One of my applications hangs under some period of running under load, does anyone know what could cause such output in jstack:</p>\n\n<pre><code>\"scheduler-5\" prio=10 tid=0x00007f49481d0000 nid=0x2061 waiting on condition [0x00007f494e8d0000]\n   java.lang.Thread.State: WAITING (parking)\n        at sun.misc.Unsafe.park(Native Method)\n        - parking to wait for  &lt;0x00000006ee117310&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n        at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1085)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:807)\n        at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1043)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1103)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n        at java.lang.Thread.run(Thread.java:722)\n</code></pre>\n\n<p>I am seeing this a lot in jstack output when it hangs.</p>\n\n<p>I heavily using Spring @Async &amp; maps, synchronized maps &amp; ehcache.</p>\n\n<p>What is interesting this only happens on one of app instances. Two others are running perfectly fine.\nWhat else I could investigate to get more details in such case?</p>\n\n<p>I found this post <a href=\"https://stackoverflow.com/questions/23992787/parking-to-wait-for-0xd8cf0070-a-java-util-concurrent-locks-abstractqueueds\">https://stackoverflow.com/questions/23992787/parking-to-wait-for-0xd8cf0070-a-java-util-concurrent-locks-abstractqueueds</a> but it is not very useful in my case.</p>\n"},{"tags":["java","email","log4j","log4j2","java-11"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1631596800,"creation_date":1631596800,"answer_id":69172192,"question_id":69165740,"body_markdown":"As you are probably aware, the transfer of Java EE from Oracle to the Eclipse Foundation required a change from the `javax.*` namespace (in Java EE 8/Jakarta EE 8) to the `jakarta.*` namespace (Jakarta EE 9).\r\n\r\nSince many years may pass until all libraries switch to Jakarta EE 9 and considering the fact that the switch must be done **simultaneously** for all Jakarta EE 9 technologies, Jakarta EE 8 implementations will probably get updates for a very long time.\r\n\r\nSince Log4j is one of those libraries that did not migrate yet, use the [`jakarta.mail`](https://mvnrepository.com/artifact/com.sun.mail/jakarta.mail) artifact, version 1.6.x from the `com.sun.mail` group. As you can see it still gets updates (latest version today: 1.6.7).","title":"Log4j2 SMTP Appender on Java 11: javax.mail or jakarta.mail?","body":"<p>As you are probably aware, the transfer of Java EE from Oracle to the Eclipse Foundation required a change from the <code>javax.*</code> namespace (in Java EE 8/Jakarta EE 8) to the <code>jakarta.*</code> namespace (Jakarta EE 9).</p>\n<p>Since many years may pass until all libraries switch to Jakarta EE 9 and considering the fact that the switch must be done <strong>simultaneously</strong> for all Jakarta EE 9 technologies, Jakarta EE 8 implementations will probably get updates for a very long time.</p>\n<p>Since Log4j is one of those libraries that did not migrate yet, use the <a href=\"https://mvnrepository.com/artifact/com.sun.mail/jakarta.mail\" rel=\"nofollow noreferrer\"><code>jakarta.mail</code></a> artifact, version 1.6.x from the <code>com.sun.mail</code> group. As you can see it still gets updates (latest version today: 1.6.7).</p>\n"},{"tags":[],"owner":{"account_id":10526054,"reputation":1943,"user_id":7757040,"display_name":"Gary Mendonca"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684168012,"creation_date":1684168012,"answer_id":76256119,"question_id":69165740,"body_markdown":"Since log4j2 2.18.0, an additional dependency log4j-jakarta-smtp can be included in pom along with log4j-core and log4j-api to make log4j2 use latest version of jakarta.mail instead of javax.mail\r\n\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-jakarta-smtp --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-jakarta-smtp&lt;/artifactId&gt;\r\n    &lt;version&gt;2.19.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Log4j2 SMTP Appender on Java 11: javax.mail or jakarta.mail?","body":"<p>Since log4j2 2.18.0, an additional dependency log4j-jakarta-smtp can be included in pom along with log4j-core and log4j-api to make log4j2 use latest version of jakarta.mail instead of javax.mail</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-jakarta-smtp --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n&lt;artifactId&gt;log4j-jakarta-smtp&lt;/artifactId&gt;\n&lt;version&gt;2.19.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":321061,"reputation":827,"user_id":2751039,"accept_rate":86,"display_name":"Matt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1290,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69172192,"answer_count":2,"score":1,"last_activity_date":1684168012,"creation_date":1631548496,"question_id":69165740,"body_markdown":"I&#39;m using Java 11 (Corretto 11), log4j 2.12.1, and jakarta.mail 2.0.1. My log4j configuration is using the SMTP appender, but I&#39;m not receiving any emails. I do see the log statements in the file (when using the File or Console appenders). And also when using the exact same log4j config with Java 8, log4j 2.12.1, and javax.mail 1.6.2, I did receive emails. I can&#39;t use both javax.mail and jakarta.mail since there are overlapping classes (such as `com.sun.mail.util.MimeUtil`). It *does* work with javax.mail 1.6.2.\r\n\r\nWhat is the recommendation for Java 11 + log4j2 + SMTP Appender? Am I stuck with using the older javax.mail 1.6.2 that&#39;s no longer maintained if I want to use log4j?\r\n\r\nThis may be a quirk in Eclipse, but when I look at the source of `org.apache.logging.log4j.core.net.MimeMessageBuilder` from log4j 2.12.1, the imports show `javax.mail.*`, but the javadoc for the `MimeMessage` class shows `jakarta.mail.internet.MimeMessage`. \r\n\r\n[![log4j2 source code showing use of both javax.mail and jakarta.mail packages.][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9ArlT.png","title":"Log4j2 SMTP Appender on Java 11: javax.mail or jakarta.mail?","body":"<p>I'm using Java 11 (Corretto 11), log4j 2.12.1, and jakarta.mail 2.0.1. My log4j configuration is using the SMTP appender, but I'm not receiving any emails. I do see the log statements in the file (when using the File or Console appenders). And also when using the exact same log4j config with Java 8, log4j 2.12.1, and javax.mail 1.6.2, I did receive emails. I can't use both javax.mail and jakarta.mail since there are overlapping classes (such as <code>com.sun.mail.util.MimeUtil</code>). It <em>does</em> work with javax.mail 1.6.2.</p>\n<p>What is the recommendation for Java 11 + log4j2 + SMTP Appender? Am I stuck with using the older javax.mail 1.6.2 that's no longer maintained if I want to use log4j?</p>\n<p>This may be a quirk in Eclipse, but when I look at the source of <code>org.apache.logging.log4j.core.net.MimeMessageBuilder</code> from log4j 2.12.1, the imports show <code>javax.mail.*</code>, but the javadoc for the <code>MimeMessage</code> class shows <code>jakarta.mail.internet.MimeMessage</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/9ArlT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9ArlT.png\" alt=\"log4j2 source code showing use of both javax.mail and jakarta.mail packages.\" /></a></p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684167892,"post_id":76256071,"comment_id":134474293,"body_markdown":"Do you refer to the code snippet? What parsing are you doing exactly?","body":"Do you refer to the code snippet? What parsing are you doing exactly?"},{"owner":{"account_id":4602502,"reputation":886,"user_id":3865607,"accept_rate":73,"display_name":"Bad Coder"},"score":0,"creation_date":1684167959,"post_id":76256071,"comment_id":134474308,"body_markdown":"@aled i am writing these statement manually `statement.setInt(1, row.getQuantity());` , is better way to do it","body":"@aled i am writing these statement manually <code>statement.setInt(1, row.getQuantity());</code> , is better way to do it"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1684168247,"post_id":76256071,"comment_id":134474379,"body_markdown":"you would  have to write some mapping class that takes your input parameters, converts to a specific type if needed, then call the setXXX methods.  Not really less work.  There is no automatic way.  How would PDBC know what parameters to use?","body":"you would  have to write some mapping class that takes your input parameters, converts to a specific type if needed, then call the setXXX methods.  Not really less work.  There is no automatic way.  How would PDBC know what parameters to use?"},{"owner":{"account_id":4602502,"reputation":886,"user_id":3865607,"accept_rate":73,"display_name":"Bad Coder"},"score":0,"creation_date":1684169074,"post_id":76256071,"comment_id":134474563,"body_markdown":"if i have 10000 columns and do this insert ? So i have to manually to it ?","body":"if i have 10000 columns and do this insert ? So i have to manually to it ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684169324,"post_id":76256071,"comment_id":134474628,"body_markdown":"Ehrm, it appears you are using JPA and try very hard to work around that, why? Not to mention the errors you have in your code to start with. Instead of all that cruft just do `entityManager.persist(row)`. Replace `executeBatch` and `clearBatch` with `entityManager.flush()` and `entityManager.clear()`.","body":"Ehrm, it appears you are using JPA and try very hard to work around that, why? Not to mention the errors you have in your code to start with. Instead of all that cruft just do <code>entityManager.persist(row)</code>. Replace <code>executeBatch</code> and <code>clearBatch</code> with <code>entityManager.flush()</code> and <code>entityManager.clear()</code>."},{"owner":{"account_id":4602502,"reputation":886,"user_id":3865607,"accept_rate":73,"display_name":"Bad Coder"},"score":0,"creation_date":1684178662,"post_id":76256071,"comment_id":134476545,"body_markdown":"@M.Deinum i can&#39;t use `@Trancational` in my method directly it&#39;s call via protected method","body":"@M.Deinum i can&#39;t use <code>@Trancational</code> in my method directly it&#39;s call via protected method"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684214798,"post_id":76256071,"comment_id":134480664,"body_markdown":"Where did I mention `@Transactional`? You can wrap the method call in a `TransactionTemplate` if needed. But still I don&#39;t get where that transaction suddenly comes from I now where mentioned it, nor does your code show one (and there will be one somewhere on your toplevel method).","body":"Where did I mention <code>@Transactional</code>? You can wrap the method call in a <code>TransactionTemplate</code> if needed. But still I don&#39;t get where that transaction suddenly comes from I now where mentioned it, nor does your code show one (and there will be one somewhere on your toplevel method)."},{"owner":{"account_id":4602502,"reputation":886,"user_id":3865607,"accept_rate":73,"display_name":"Bad Coder"},"score":0,"creation_date":1684431932,"post_id":76256071,"comment_id":134520256,"body_markdown":"@M.Deinum Thanks for suggesting `TransactionTemplate` i am able to do via `entitymanager.presist`.","body":"@M.Deinum Thanks for suggesting <code>TransactionTemplate</code> i am able to do via <code>entitymanager.presist</code>."}],"owner":{"account_id":4602502,"reputation":886,"user_id":3865607,"accept_rate":73,"display_name":"Bad Coder"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684168007,"creation_date":1684167647,"question_id":76256071,"body_markdown":"Here is my code to do the insert in my DB : \r\n\r\n      private void saveAllBatchDetail(List&lt;ReportingDetail&gt; reportingDetails) {\r\n    \r\n            EntityManagerFactoryInfo info = (EntityManagerFactoryInfo) entityManager.getEntityManagerFactory();\r\n            String sql = String.format(&quot;INSERT INTO %s (col,col2,col3) VALUES (?, ?, ?, ?,?.....)&quot;, ReportingDetail.class.getAnnotation(Table.class).name());\r\n    \r\n            try (Connection connection = info.getDataSource().getConnection();\r\n                 PreparedStatement statement = connection.prepareStatement(sql);\r\n            ) {\r\n                int counter = 0;\r\n                for (ReportingDetail row : reportingDetails) {\r\n                    statement.clearParameters();\r\n                    statement.setInt(1, row.getQuantity());\r\n                    statement.setDate(2, Date.valueOf(row.getDate()));\r\n                    statement.setFloat(3, row.getId());\r\n                   ..... so on ma be 50 more columns \r\n    \r\n                    statement.addBatch();\r\n                    if ((counter + 1) % 500 == 0 || (counter + 1) == reportingDeliveryDetails.size()) {\r\n                        statement.executeBatch();\r\n                        statement.clearBatch();\r\n                    }\r\n                    counter++;\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\nWhat&#39;s is the best way to insert so i don&#39;t have manually do the parsing, as i have write for each columns i,e  `statement.setInt(1, row.getQuantity())`?","title":"How to Optimise the Insert statement","body":"<p>Here is my code to do the insert in my DB :</p>\n<pre><code>  private void saveAllBatchDetail(List&lt;ReportingDetail&gt; reportingDetails) {\n\n        EntityManagerFactoryInfo info = (EntityManagerFactoryInfo) entityManager.getEntityManagerFactory();\n        String sql = String.format(&quot;INSERT INTO %s (col,col2,col3) VALUES (?, ?, ?, ?,?.....)&quot;, ReportingDetail.class.getAnnotation(Table.class).name());\n\n        try (Connection connection = info.getDataSource().getConnection();\n             PreparedStatement statement = connection.prepareStatement(sql);\n        ) {\n            int counter = 0;\n            for (ReportingDetail row : reportingDetails) {\n                statement.clearParameters();\n                statement.setInt(1, row.getQuantity());\n                statement.setDate(2, Date.valueOf(row.getDate()));\n                statement.setFloat(3, row.getId());\n               ..... so on ma be 50 more columns \n\n                statement.addBatch();\n                if ((counter + 1) % 500 == 0 || (counter + 1) == reportingDeliveryDetails.size()) {\n                    statement.executeBatch();\n                    statement.clearBatch();\n                }\n                counter++;\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>What's is the best way to insert so i don't have manually do the parsing, as i have write for each columns i,e  <code>statement.setInt(1, row.getQuantity())</code>?</p>\n"},{"tags":["java","json","xml"],"comments":[{"owner":{"account_id":7984646,"reputation":565,"user_id":6024604,"accept_rate":0,"display_name":"rohit prakash"},"score":0,"creation_date":1591521139,"post_id":62243203,"comment_id":110082019,"body_markdown":"duplicate https://stackoverflow.com/questions/19977979/converting-json-to-xml-in-java","body":"duplicate <a href=\"https://stackoverflow.com/questions/19977979/converting-json-to-xml-in-java\" title=\"converting json to xml in java\">stackoverflow.com/questions/19977979/&hellip;</a>"},{"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"score":0,"creation_date":1592192446,"post_id":62243203,"comment_id":110326435,"body_markdown":"Underscore-java library has a static method U.jsonToXml(json).","body":"Underscore-java library has a static method U.jsonToXml(json)."}],"answers":[{"tags":[],"owner":{"account_id":9141171,"reputation":21,"user_id":6798963,"display_name":"purshottam tiwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591522708,"creation_date":1591522708,"answer_id":62243488,"question_id":62243203,"body_markdown":"    ##Use json.jar for creating JSON to xml \r\n    Steps:\r\n    1 .Add below mentioned artifacts to pom\r\n      \r\n    \r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20200518&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n     \r\n    2.Use below code template for converting JOSN to xml       \r\n            JSONObject obj = new JSONObject(json_data);\r\n            String xml_data = XML.toString(obj);","title":"How to convert JSON to a specified XML format","body":"<pre><code>##Use json.jar for creating JSON to xml \nSteps:\n1 .Add below mentioned artifacts to pom\n\n\n&lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20200518&lt;/version&gt;\n &lt;/dependency&gt;\n\n2.Use below code template for converting JOSN to xml       \n        JSONObject obj = new JSONObject(json_data);\n        String xml_data = XML.toString(obj);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591538015,"creation_date":1591538015,"answer_id":62246368,"question_id":62243203,"body_markdown":"No standard library for JSON-to-XML or XML-to-JSON is ever going to give you exactly the format you want. Let the library create the XML it creates, and then transform it using an XSLT stylesheet. Alternatively do a custom conversion all the way from JSON to XML using XSLT 3.0.","title":"How to convert JSON to a specified XML format","body":"<p>No standard library for JSON-to-XML or XML-to-JSON is ever going to give you exactly the format you want. Let the library create the XML it creates, and then transform it using an XSLT stylesheet. Alternatively do a custom conversion all the way from JSON to XML using XSLT 3.0.</p>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684167882,"creation_date":1684167882,"answer_id":76256108,"question_id":62243203,"body_markdown":"This json\r\n\r\n```json\r\n{\r\n   &quot;a&quot;: {\r\n      &quot;-attribute1&quot;: &quot;&quot;,\r\n      &quot;-attribute2&quot;: &quot;&quot;,\r\n      &quot;-self-closing&quot;: &quot;true&quot;\r\n   },\r\n   &quot;#omit-xml-declaration&quot;: &quot;yes&quot;\r\n}\r\n```\r\n\r\nmay be converted to this xml\r\n```xml\r\n&lt;a attribute1=&quot;&quot; attribute2=&quot;&quot;/&gt;\r\n```\r\n\r\n[Underscore-java][1] library\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java","title":"How to convert JSON to a specified XML format","body":"<p>This json</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;a&quot;: {\n      &quot;-attribute1&quot;: &quot;&quot;,\n      &quot;-attribute2&quot;: &quot;&quot;,\n      &quot;-self-closing&quot;: &quot;true&quot;\n   },\n   &quot;#omit-xml-declaration&quot;: &quot;yes&quot;\n}\n</code></pre>\n<p>may be converted to this xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;a attribute1=&quot;&quot; attribute2=&quot;&quot;/&gt;\n</code></pre>\n<p><a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">Underscore-java</a> library</p>\n"}],"owner":{"account_id":16535807,"reputation":57,"user_id":11947882,"display_name":"Lucazade"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1684167882,"creation_date":1591520952,"question_id":62243203,"body_markdown":"I am new to JAVA and I faced the following problem.\r\n\r\nI have a JSON file and the target is to convert to XML. Conversion should be in the following format.\r\n\r\n```xml\r\n&lt;a attribute1 = &quot;&quot; attribute2 = &quot;&quot; /&gt;\r\n```\r\n\r\nbut the conversion happened as follows \r\n```xml\r\n&lt;a&gt;&lt;attribute1&gt;value&lt;/attribute1&gt;&lt;attribute2&gt;value&lt;attribute2&gt;&lt;/a&gt;\r\n```\r\nHow exactly can i convert maintaining the desired XML format? ","title":"How to convert JSON to a specified XML format","body":"<p>I am new to JAVA and I faced the following problem.</p>\n\n<p>I have a JSON file and the target is to convert to XML. Conversion should be in the following format.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;a attribute1 = \"\" attribute2 = \"\" /&gt;\n</code></pre>\n\n<p>but the conversion happened as follows </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;a&gt;&lt;attribute1&gt;value&lt;/attribute1&gt;&lt;attribute2&gt;value&lt;attribute2&gt;&lt;/a&gt;\n</code></pre>\n\n<p>How exactly can i convert maintaining the desired XML format? </p>\n"},{"tags":["java","oracle","exception","jdbc","record"],"comments":[{"owner":{"account_id":2456088,"reputation":5545,"user_id":2141278,"display_name":"Dmitriy"},"score":0,"creation_date":1416859336,"post_id":27113075,"comment_id":42729075,"body_markdown":"As I can understand, you want to find any indirect way (because direct way is not supported) to pass a record to procedure, yes?","body":"As I can understand, you want to find any indirect way (because direct way is not supported) to pass a record to procedure, yes?"},{"owner":{"account_id":2920668,"reputation":2280,"user_id":2503007,"accept_rate":96,"display_name":"Chiseled"},"score":0,"creation_date":1416860223,"post_id":27113075,"comment_id":42729499,"body_markdown":"yup that&#39;s the attempt","body":"yup that&#39;s the attempt"}],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176597,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1478983877,"creation_date":1416859454,"answer_id":27113204,"question_id":27113075,"body_markdown":"Yes, it&#39;s allowed to pass user-defined datatypes as IN parameters using JDBC.  But it can&#39;t be a `RECORD`.  It must be a schema level object, e.g.\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    CREATE TYPE EMP_REC AS OBJECT\r\n    (\r\n     id employees.employee_id%type,\r\n     name employees.last_name%type,\r\n     dept_name departments.department_name%type,\r\n     job_title jobs.job_title%type,\r\n     salary employees.salary%type,\r\n     manager_id employees.employee_id%type,\r\n     city locations.city%type,\r\n     phone employees.phone_number%type\r\n    );\r\n\r\nIn your PL/SQL, you could change references to your record to your new object type, or you could write a quick little translator function to translate the object type to the record type if you can&#39;t change the rest of the code.","title":"Calling PL/SQL procedure with user defined record as its IN parameter using JDBC","body":"<p>Yes, it's allowed to pass user-defined datatypes as IN parameters using JDBC.  But it can't be a <code>RECORD</code>.  It must be a schema level object, e.g.</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TYPE EMP_REC AS OBJECT\n(\n id employees.employee_id%type,\n name employees.last_name%type,\n dept_name departments.department_name%type,\n job_title jobs.job_title%type,\n salary employees.salary%type,\n manager_id employees.employee_id%type,\n city locations.city%type,\n phone employees.phone_number%type\n);\n</code></pre>\n\n<p>In your PL/SQL, you could change references to your record to your new object type, or you could write a quick little translator function to translate the object type to the record type if you can't change the rest of the code.</p>\n"},{"tags":[],"owner":{"account_id":3717492,"reputation":17702,"user_id":3093319,"accept_rate":95,"display_name":"Maheswaran Ravisankar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478983898,"creation_date":1416859485,"answer_id":27113216,"question_id":27113075,"body_markdown":"There&#39;s no way to pass records. Because it has to be SQL object to be referred, not a pure `PL/SQL` object.\r\n\r\nCreating an object would be like,\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n       -- User Defined Record\r\n       CREATE TYPE EMP_REC AS OBJECT\r\n       (\r\n        id  NUMBER,\r\n        name VARCHAR2(100),\r\n        dept_name ...,\r\n        job_title ..,\r\n        salary ..,\r\n        manager_id ..,\r\n        city ..,\r\n        phone ...\r\n       );\r\n\r\nAnd it is again a pain though. You cannot use `TYPE` attribute here. Because a TYPE cannot have a dependency that way. **Instead specify the exact datatype.**","title":"Calling PL/SQL procedure with user defined record as its IN parameter using JDBC","body":"<p>There's no way to pass records. Because it has to be SQL object to be referred, not a pure <code>PL/SQL</code> object.</p>\n\n<p>Creating an object would be like,</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>   -- User Defined Record\n   CREATE TYPE EMP_REC AS OBJECT\n   (\n    id  NUMBER,\n    name VARCHAR2(100),\n    dept_name ...,\n    job_title ..,\n    salary ..,\n    manager_id ..,\n    city ..,\n    phone ...\n   );\n</code></pre>\n\n<p>And it is again a pain though. You cannot use <code>TYPE</code> attribute here. Because a TYPE cannot have a dependency that way. <strong>Instead specify the exact datatype.</strong></p>\n"},{"tags":[],"owner":{"account_id":2456088,"reputation":5545,"user_id":2141278,"display_name":"Dmitriy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1416860529,"creation_date":1416860529,"answer_id":27113473,"question_id":27113075,"body_markdown":"If you can execute anonymous PL/SQL block (as I know, it is possible), you can execute following:\r\n\r\n    declare\r\n      rec EMP_REC;\r\n    begin\r\n      rec.id := :ID;\r\n      rec.name:= :NAME;\r\n      -- and so on, rest of fields of record...\r\n      ...\r\n      my_procedure(rec);\r\n    end;\r\n    /\r\n\r\nIn this case you don&#39;t need create new database objects or change existing. You just need to pass values of parameters to fill a record.","title":"Calling PL/SQL procedure with user defined record as its IN parameter using JDBC","body":"<p>If you can execute anonymous PL/SQL block (as I know, it is possible), you can execute following:</p>\n\n<pre><code>declare\n  rec EMP_REC;\nbegin\n  rec.id := :ID;\n  rec.name:= :NAME;\n  -- and so on, rest of fields of record...\n  ...\n  my_procedure(rec);\nend;\n/\n</code></pre>\n\n<p>In this case you don't need create new database objects or change existing. You just need to pass values of parameters to fill a record.</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478983772,"creation_date":1478983772,"answer_id":40567508,"question_id":27113075,"body_markdown":"I&#39;d like to complement [Dmitry&#39;s answer][1] which suggests you could use an anonymous PL/SQL block through JDBC and compose your `RECORD` types manually and explicitly. If you&#39;re looking for a solution for that single stored procedure, then writing that block manually will do. But if you&#39;re looking for a *general solution* that generates code for *all* procedures that have `IN`, `OUT`, or `IN OUT` `RECORD` parameters, you should probably write a code generator that generates stubs based on the following query\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    SELECT\r\n      x.TYPE_OWNER, x.TYPE_NAME, x.TYPE_SUBNAME, a.ARGUMENT_NAME ATTR_NAME,\r\n      a.SEQUENCE ATTR_NO, a.TYPE_OWNER ATTR_TYPE_OWNER,\r\n      nvl2(a.TYPE_SUBNAME, a.TYPE_NAME, NULL) package_name,\r\n      COALESCE(a.TYPE_SUBNAME, a.TYPE_NAME, a.DATA_TYPE) ATTR_TYPE_NAME,\r\n      a.DATA_LENGTH LENGTH, a.DATA_PRECISION PRECISION, a.DATA_SCALE SCALE\r\n    FROM SYS.ALL_ARGUMENTS a\r\n    JOIN (\r\n      SELECT\r\n        a.TYPE_OWNER, a.TYPE_NAME, a.TYPE_SUBNAME,\r\n        MIN(a.OWNER) KEEP (DENSE_RANK FIRST ORDER BY a.OWNER ASC, a.PACKAGE_NAME ASC, a.SUBPROGRAM_ID ASC, a.SEQUENCE ASC) OWNER,\r\n        MIN(a.PACKAGE_NAME) KEEP (DENSE_RANK FIRST ORDER BY a.OWNER ASC, a.PACKAGE_NAME ASC, a.SUBPROGRAM_ID ASC, a.SEQUENCE ASC) PACKAGE_NAME,\r\n        MIN(a.SUBPROGRAM_ID) KEEP (DENSE_RANK FIRST ORDER BY a.OWNER ASC, a.PACKAGE_NAME ASC, a.SUBPROGRAM_ID ASC, a.SEQUENCE ASC) SUBPROGRAM_ID,\r\n        MIN(a.SEQUENCE) KEEP (DENSE_RANK FIRST ORDER BY a.OWNER ASC, a.PACKAGE_NAME ASC, a.SUBPROGRAM_ID ASC, a.SEQUENCE ASC) SEQUENCE,\r\n        MIN(next_sibling) KEEP (DENSE_RANK FIRST ORDER BY a.OWNER ASC, a.PACKAGE_NAME ASC, a.SUBPROGRAM_ID ASC, a.SEQUENCE ASC) next_sibling,\r\n        MIN(a.DATA_LEVEL) KEEP (DENSE_RANK FIRST ORDER BY a.OWNER ASC, a.PACKAGE_NAME ASC, a.SUBPROGRAM_ID ASC, a.SEQUENCE ASC) DATA_LEVEL\r\n      FROM (\r\n        SELECT\r\n          lead(a.SEQUENCE, 1, a.SEQUENCE) OVER (\r\n            PARTITION BY a.OWNER, a.PACKAGE_NAME, a.SUBPROGRAM_ID, a.DATA_LEVEL\r\n            ORDER BY a.SEQUENCE ASC\r\n          ) next_sibling,\r\n          a.TYPE_OWNER, a.TYPE_NAME, a.TYPE_SUBNAME, a.OWNER, a.PACKAGE_NAME, \r\n          a.SUBPROGRAM_ID, a.SEQUENCE, a.DATA_LEVEL, a.DATA_TYPE\r\n        FROM SYS.ALL_ARGUMENTS a\r\n        WHERE a.OWNER IN (&#39;MY_SCHEMA&#39;)     -- Possibly replace schema here\r\n        ) a\r\n      WHERE (a.TYPE_OWNER IN (&#39;MY_SCHEMA&#39;) -- Possibly replace schema here\r\n      AND a.OWNER         IN (&#39;MY_SCHEMA&#39;) -- Possibly replace schema here\r\n      AND a.DATA_TYPE      = &#39;PL/SQL RECORD&#39;)\r\n      GROUP BY a.TYPE_OWNER, a.TYPE_NAME, a.TYPE_SUBNAME\r\n      ) x\r\n    ON ((a.OWNER, a.PACKAGE_NAME, a.SUBPROGRAM_ID) = ((x.OWNER, x.PACKAGE_NAME, x.SUBPROGRAM_ID))\r\n    AND a.SEQUENCE BETWEEN x.SEQUENCE AND next_sibling\r\n    AND a.DATA_LEVEL = (x.DATA_LEVEL + 1))\r\n    ORDER BY x.TYPE_OWNER ASC, x.TYPE_NAME ASC, x.TYPE_SUBNAME ASC, a.SEQUENCE ASC\r\n\r\nThis will provide you formal definitions of all the `RECORD` types in all the packages contained in the `MY_SCHEMA` schema, from which you can generate stubs that look like the one in Dmitry&#39;s answer:\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    declare\r\n      rec EMP_REC;\r\n    begin\r\n      rec.id := :ID;\r\n      rec.name:= :NAME;\r\n      -- and so on, rest of fields of record...\r\n      ...\r\n      my_procedure(rec);\r\n    end;\r\n    /\r\n\r\n[See more details about this technique in this blog post (from which the query was taken)][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/27113473/521799\r\n  [2]: https://blog.jooq.org/2016/11/08/use-jooq-to-read-write-oracle-plsql-record-types/","title":"Calling PL/SQL procedure with user defined record as its IN parameter using JDBC","body":"<p>I'd like to complement <a href=\"https://stackoverflow.com/a/27113473/521799\">Dmitry's answer</a> which suggests you could use an anonymous PL/SQL block through JDBC and compose your <code>RECORD</code> types manually and explicitly. If you're looking for a solution for that single stored procedure, then writing that block manually will do. But if you're looking for a <em>general solution</em> that generates code for <em>all</em> procedures that have <code>IN</code>, <code>OUT</code>, or <code>IN OUT</code> <code>RECORD</code> parameters, you should probably write a code generator that generates stubs based on the following query</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT\n  x.TYPE_OWNER, x.TYPE_NAME, x.TYPE_SUBNAME, a.ARGUMENT_NAME ATTR_NAME,\n  a.SEQUENCE ATTR_NO, a.TYPE_OWNER ATTR_TYPE_OWNER,\n  nvl2(a.TYPE_SUBNAME, a.TYPE_NAME, NULL) package_name,\n  COALESCE(a.TYPE_SUBNAME, a.TYPE_NAME, a.DATA_TYPE) ATTR_TYPE_NAME,\n  a.DATA_LENGTH LENGTH, a.DATA_PRECISION PRECISION, a.DATA_SCALE SCALE\nFROM SYS.ALL_ARGUMENTS a\nJOIN (\n  SELECT\n    a.TYPE_OWNER, a.TYPE_NAME, a.TYPE_SUBNAME,\n    MIN(a.OWNER) KEEP (DENSE_RANK FIRST ORDER BY a.OWNER ASC, a.PACKAGE_NAME ASC, a.SUBPROGRAM_ID ASC, a.SEQUENCE ASC) OWNER,\n    MIN(a.PACKAGE_NAME) KEEP (DENSE_RANK FIRST ORDER BY a.OWNER ASC, a.PACKAGE_NAME ASC, a.SUBPROGRAM_ID ASC, a.SEQUENCE ASC) PACKAGE_NAME,\n    MIN(a.SUBPROGRAM_ID) KEEP (DENSE_RANK FIRST ORDER BY a.OWNER ASC, a.PACKAGE_NAME ASC, a.SUBPROGRAM_ID ASC, a.SEQUENCE ASC) SUBPROGRAM_ID,\n    MIN(a.SEQUENCE) KEEP (DENSE_RANK FIRST ORDER BY a.OWNER ASC, a.PACKAGE_NAME ASC, a.SUBPROGRAM_ID ASC, a.SEQUENCE ASC) SEQUENCE,\n    MIN(next_sibling) KEEP (DENSE_RANK FIRST ORDER BY a.OWNER ASC, a.PACKAGE_NAME ASC, a.SUBPROGRAM_ID ASC, a.SEQUENCE ASC) next_sibling,\n    MIN(a.DATA_LEVEL) KEEP (DENSE_RANK FIRST ORDER BY a.OWNER ASC, a.PACKAGE_NAME ASC, a.SUBPROGRAM_ID ASC, a.SEQUENCE ASC) DATA_LEVEL\n  FROM (\n    SELECT\n      lead(a.SEQUENCE, 1, a.SEQUENCE) OVER (\n        PARTITION BY a.OWNER, a.PACKAGE_NAME, a.SUBPROGRAM_ID, a.DATA_LEVEL\n        ORDER BY a.SEQUENCE ASC\n      ) next_sibling,\n      a.TYPE_OWNER, a.TYPE_NAME, a.TYPE_SUBNAME, a.OWNER, a.PACKAGE_NAME, \n      a.SUBPROGRAM_ID, a.SEQUENCE, a.DATA_LEVEL, a.DATA_TYPE\n    FROM SYS.ALL_ARGUMENTS a\n    WHERE a.OWNER IN ('MY_SCHEMA')     -- Possibly replace schema here\n    ) a\n  WHERE (a.TYPE_OWNER IN ('MY_SCHEMA') -- Possibly replace schema here\n  AND a.OWNER         IN ('MY_SCHEMA') -- Possibly replace schema here\n  AND a.DATA_TYPE      = 'PL/SQL RECORD')\n  GROUP BY a.TYPE_OWNER, a.TYPE_NAME, a.TYPE_SUBNAME\n  ) x\nON ((a.OWNER, a.PACKAGE_NAME, a.SUBPROGRAM_ID) = ((x.OWNER, x.PACKAGE_NAME, x.SUBPROGRAM_ID))\nAND a.SEQUENCE BETWEEN x.SEQUENCE AND next_sibling\nAND a.DATA_LEVEL = (x.DATA_LEVEL + 1))\nORDER BY x.TYPE_OWNER ASC, x.TYPE_NAME ASC, x.TYPE_SUBNAME ASC, a.SEQUENCE ASC\n</code></pre>\n\n<p>This will provide you formal definitions of all the <code>RECORD</code> types in all the packages contained in the <code>MY_SCHEMA</code> schema, from which you can generate stubs that look like the one in Dmitry's answer:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>declare\n  rec EMP_REC;\nbegin\n  rec.id := :ID;\n  rec.name:= :NAME;\n  -- and so on, rest of fields of record...\n  ...\n  my_procedure(rec);\nend;\n/\n</code></pre>\n\n<p><a href=\"https://blog.jooq.org/2016/11/08/use-jooq-to-read-write-oracle-plsql-record-types/\" rel=\"nofollow noreferrer\">See more details about this technique in this blog post (from which the query was taken)</a>.</p>\n"},{"tags":[],"owner":{"account_id":28606093,"reputation":1,"user_id":21902007,"display_name":"Dan Sievewright"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684166129,"creation_date":1684166129,"answer_id":76255886,"question_id":27113075,"body_markdown":"I know the original poster mentioned they use ojdbc6 but I wanted to provide a more up-to-date solution if you use a more recent ojdbc driver (I can confirm my solution works in ojdbc8).  If the record is defined in the package, then you can create a class that implements OracleData that matches the record type.  https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/Oracle-object-types.html#GUID-5905674A-A045-40B1-96DE-726761517D50\r\n\r\nIn the toJDBCObject method, just use createStruct\r\n\r\n    public class EmpRec implements OracleData {\r\n    \r\n        //getters/setters for all the fields\r\n\r\n        @Override\r\n        public Object toJDBCObject(Connection arg0) throws SQLException {\r\n\r\n            return arg0.createStruct(&quot;PKG_NAME.EMP_REC&quot;, new Object[] {employeeId, lastName, departmentName, ...etc...});\r\n        }\r\n    }\r\n\r\n","title":"Calling PL/SQL procedure with user defined record as its IN parameter using JDBC","body":"<p>I know the original poster mentioned they use ojdbc6 but I wanted to provide a more up-to-date solution if you use a more recent ojdbc driver (I can confirm my solution works in ojdbc8).  If the record is defined in the package, then you can create a class that implements OracleData that matches the record type.  <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/Oracle-object-types.html#GUID-5905674A-A045-40B1-96DE-726761517D50\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/Oracle-object-types.html#GUID-5905674A-A045-40B1-96DE-726761517D50</a></p>\n<p>In the toJDBCObject method, just use createStruct</p>\n<pre><code>public class EmpRec implements OracleData {\n\n    //getters/setters for all the fields\n\n    @Override\n    public Object toJDBCObject(Connection arg0) throws SQLException {\n\n        return arg0.createStruct(&quot;PKG_NAME.EMP_REC&quot;, new Object[] {employeeId, lastName, departmentName, ...etc...});\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2920668,"reputation":2280,"user_id":2503007,"accept_rate":96,"display_name":"Chiseled"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10110,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":27113204,"answer_count":5,"score":3,"last_activity_date":1684166129,"creation_date":1416858951,"question_id":27113075,"body_markdown":"I am trying to call the following PL/SQL procedure that takes a user defined record type as an `IN` parameter.\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n       -- User Defined Record\r\n       TYPE EMP_REC IS RECORD\r\n       (\r\n        id employees.employee_id%type,\r\n        name employees.last_name%type,\r\n        dept_name departments.department_name%type,\r\n        job_title jobs.job_title%type,\r\n        salary employees.salary%type,\r\n        manager_id employees.employee_id%type,\r\n        city locations.city%type,\r\n        phone employees.phone_number%type\r\n       );\r\n\r\nHere is the definition of the user defined record:\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n      -- PURPOSE: Prints all employee information from the employee record \r\n      -- Example Of: PROCEDURE that takes in a parameter of RECORD type \r\n      PROCEDURE print_employee_all_details(empl1 emp_rec , emp_rec_string OUT VARCHAR2)\r\n\r\nI was looking at the [Oracle JDBC Documentation][1] that indicated JDBC does not support composite types like RECORDS:\r\n\r\n![enter image description here][2]\r\n\r\nSearching the internet took me to [this link][3] \r\n\r\nHere is the code that I tried to pass a user defined record to a PL/SQL procedure:\r\n\r\n```java\r\npublic String printEmployeeAllDetails() {\r\n    Connection conn = null;\r\n    CallableStatement callStmt = null;\r\n    String empDetails = null;\r\n\r\n    try {\r\n        // Register the Jdbc Driver\r\n        // Class.forName(JDBC_DRIVER_ORACLE);\r\n\r\n        // Create a Database Connection\r\n        conn = DriverManager.getConnection(DB_URL, DB_USER, DB_PWD);\r\n\r\n        // Create a query string\r\n        String callProc = &quot;{call HR.EMP_PKG.print_employee_all_details( ? , ?) }&quot;;\r\n\r\n        // Create a Callable Statement\r\n        callStmt = conn.prepareCall(callProc);\r\n\r\n\r\n        // Create descriptor for the Oracle Record type &quot;EMP_REC&quot; required\r\n        StructDescriptor recDescriptor = StructDescriptor.createDescriptor(&quot;EMP_REC&quot;, conn);\r\n\r\n        // Stage values for each field in the Oracle record\tin an array\r\n        Object[] javaEmpRec = new Object[8];\r\n\r\n\r\n        // Populate those values in the Array\r\n        javaEmpRec[0] = 100;\r\n        javaEmpRec[1] = &quot;Joe Matthew&quot;;\r\n        javaEmpRec[2] = &quot;IT&quot;;\r\n        javaEmpRec[3] = &quot;Senior Consultant&quot;;\r\n        javaEmpRec[4] = 20000;\r\n        javaEmpRec[5] = 101;\r\n        javaEmpRec[6] = &quot;lombard&quot;;\r\n        javaEmpRec[7] = &quot;222333444&quot;;\r\n\r\n        // Cast the java array into the oracle record type\r\n        STRUCT oracleEmpRec = new STRUCT(recDescriptor, conn, javaEmpRec);\r\n\r\n\r\n        // Bind Values to the IN parameter\r\n        callStmt.setObject(1, oracleEmpRec);\r\n\r\n        // Register OUT parameter\r\n        callStmt.registerOutParameter(2, java.sql.Types.VARCHAR);\r\n\r\n        // Execute the Callable Statement\r\n        callStmt.execute();\r\n\r\n        // Retrieve the value from the OUT parameter\r\n        empDetails = callStmt.getString(2);\r\n        System.out.println(&quot;Emp Details: &quot; + empDetails);\r\n\r\n    } catch (SQLException se) {\r\n        System.out.println(&quot;Exception occured in the database&quot;);\r\n        System.out.println(&quot;Exception message: &quot; + se.getMessage());\r\n        System.out.println(&quot;Database error code: &quot; + se.getErrorCode());\r\n        se.printStackTrace();\r\n    } finally {\r\n        // Clean up\r\n        if (callStmt != null) {\r\n            try {\r\n                callStmt.close();\r\n            } catch (SQLException se2) {\r\n                se2.printStackTrace();\r\n            }\r\n        }\r\n\r\n        if (conn != null) {\r\n            try {\r\n                conn.close();\r\n            } catch (SQLException se2) {\r\n                se2.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    return empDetails;\r\n}\r\n```\r\n\r\nOn running this code I get the following exception:\r\n\r\n    Exception occured in the database\r\n    Exception message: invalid name pattern: HR.EMP_REC\r\n    java.sql.SQLException: invalid name pattern: HR.EMP_REC\r\n    \tat oracle.jdbc.oracore.OracleTypeADT.initMetadata(OracleTypeADT.java:554)\r\n    \tat oracle.jdbc.oracore.OracleTypeADT.init(OracleTypeADT.java:471)\r\n    \tat oracle.sql.StructDescriptor.initPickler(StructDescriptor.java:324)\r\n    \tat oracle.sql.StructDescriptor.&lt;init&gt;(StructDescriptor.java:254)\r\n    \tat oracle.sql.StructDescriptor.createDescriptor(StructDescriptor.java:135)\r\n    \tat oracle.sql.StructDescriptor.createDescriptor(StructDescriptor.java:103)\r\n    Database error code: 17074\r\n    \tat oracle.sql.StructDescriptor.createDescriptor(StructDescriptor.java:72)\r\n    \tat com.rolta.HrManager.printEmployeeAllDetails(HrManager.java:1214)\r\n    \tat com.rolta.HrManager.main(HrManager.java:1334)\r\n    \r\nI am using the `ojdbc6.jar` the very first jar under heading `JDBC Thin for All Platforms` for  `Oracle Database 11g Release 2 (11.2.0.4) JDBC Drivers`[on this page][4].\r\n\r\n**I want to know if passing user defined records (as IN parameter) to a PL/SQL procedure is allowed ?  Has anybody tried doing the above ?**\r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/E11882_01/java.112/e16548/oraint.htm#JJDBC28180\r\n  [2]: http://i.stack.imgur.com/2VGbx.jpg\r\n  [3]: http://betteratoracle.com/posts/31-passing-record-types-between-oracle-and-java\r\n  [4]: http://www.oracle.com/technetwork/apps-tech/jdbc-112010-090769.html","title":"Calling PL/SQL procedure with user defined record as its IN parameter using JDBC","body":"<p>I am trying to call the following PL/SQL procedure that takes a user defined record type as an <code>IN</code> parameter.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>   -- User Defined Record\n   TYPE EMP_REC IS RECORD\n   (\n    id employees.employee_id%type,\n    name employees.last_name%type,\n    dept_name departments.department_name%type,\n    job_title jobs.job_title%type,\n    salary employees.salary%type,\n    manager_id employees.employee_id%type,\n    city locations.city%type,\n    phone employees.phone_number%type\n   );\n</code></pre>\n<p>Here is the definition of the user defined record:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>  -- PURPOSE: Prints all employee information from the employee record \n  -- Example Of: PROCEDURE that takes in a parameter of RECORD type \n  PROCEDURE print_employee_all_details(empl1 emp_rec , emp_rec_string OUT VARCHAR2)\n</code></pre>\n<p>I was looking at the <a href=\"http://docs.oracle.com/cd/E11882_01/java.112/e16548/oraint.htm#JJDBC28180\" rel=\"nofollow noreferrer\">Oracle JDBC Documentation</a> that indicated JDBC does not support composite types like RECORDS:</p>\n<p><img src=\"https://i.stack.imgur.com/2VGbx.jpg\" alt=\"enter image description here\" /></p>\n<p>Searching the internet took me to <a href=\"http://betteratoracle.com/posts/31-passing-record-types-between-oracle-and-java\" rel=\"nofollow noreferrer\">this link</a></p>\n<p>Here is the code that I tried to pass a user defined record to a PL/SQL procedure:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String printEmployeeAllDetails() {\n    Connection conn = null;\n    CallableStatement callStmt = null;\n    String empDetails = null;\n\n    try {\n        // Register the Jdbc Driver\n        // Class.forName(JDBC_DRIVER_ORACLE);\n\n        // Create a Database Connection\n        conn = DriverManager.getConnection(DB_URL, DB_USER, DB_PWD);\n\n        // Create a query string\n        String callProc = &quot;{call HR.EMP_PKG.print_employee_all_details( ? , ?) }&quot;;\n\n        // Create a Callable Statement\n        callStmt = conn.prepareCall(callProc);\n\n\n        // Create descriptor for the Oracle Record type &quot;EMP_REC&quot; required\n        StructDescriptor recDescriptor = StructDescriptor.createDescriptor(&quot;EMP_REC&quot;, conn);\n\n        // Stage values for each field in the Oracle record in an array\n        Object[] javaEmpRec = new Object[8];\n\n\n        // Populate those values in the Array\n        javaEmpRec[0] = 100;\n        javaEmpRec[1] = &quot;Joe Matthew&quot;;\n        javaEmpRec[2] = &quot;IT&quot;;\n        javaEmpRec[3] = &quot;Senior Consultant&quot;;\n        javaEmpRec[4] = 20000;\n        javaEmpRec[5] = 101;\n        javaEmpRec[6] = &quot;lombard&quot;;\n        javaEmpRec[7] = &quot;222333444&quot;;\n\n        // Cast the java array into the oracle record type\n        STRUCT oracleEmpRec = new STRUCT(recDescriptor, conn, javaEmpRec);\n\n\n        // Bind Values to the IN parameter\n        callStmt.setObject(1, oracleEmpRec);\n\n        // Register OUT parameter\n        callStmt.registerOutParameter(2, java.sql.Types.VARCHAR);\n\n        // Execute the Callable Statement\n        callStmt.execute();\n\n        // Retrieve the value from the OUT parameter\n        empDetails = callStmt.getString(2);\n        System.out.println(&quot;Emp Details: &quot; + empDetails);\n\n    } catch (SQLException se) {\n        System.out.println(&quot;Exception occured in the database&quot;);\n        System.out.println(&quot;Exception message: &quot; + se.getMessage());\n        System.out.println(&quot;Database error code: &quot; + se.getErrorCode());\n        se.printStackTrace();\n    } finally {\n        // Clean up\n        if (callStmt != null) {\n            try {\n                callStmt.close();\n            } catch (SQLException se2) {\n                se2.printStackTrace();\n            }\n        }\n\n        if (conn != null) {\n            try {\n                conn.close();\n            } catch (SQLException se2) {\n                se2.printStackTrace();\n            }\n        }\n    }\n\n    return empDetails;\n}\n</code></pre>\n<p>On running this code I get the following exception:</p>\n<pre><code>Exception occured in the database\nException message: invalid name pattern: HR.EMP_REC\njava.sql.SQLException: invalid name pattern: HR.EMP_REC\n    at oracle.jdbc.oracore.OracleTypeADT.initMetadata(OracleTypeADT.java:554)\n    at oracle.jdbc.oracore.OracleTypeADT.init(OracleTypeADT.java:471)\n    at oracle.sql.StructDescriptor.initPickler(StructDescriptor.java:324)\n    at oracle.sql.StructDescriptor.&lt;init&gt;(StructDescriptor.java:254)\n    at oracle.sql.StructDescriptor.createDescriptor(StructDescriptor.java:135)\n    at oracle.sql.StructDescriptor.createDescriptor(StructDescriptor.java:103)\nDatabase error code: 17074\n    at oracle.sql.StructDescriptor.createDescriptor(StructDescriptor.java:72)\n    at com.rolta.HrManager.printEmployeeAllDetails(HrManager.java:1214)\n    at com.rolta.HrManager.main(HrManager.java:1334)\n</code></pre>\n<p>I am using the <code>ojdbc6.jar</code> the very first jar under heading <code>JDBC Thin for All Platforms</code> for  <code>Oracle Database 11g Release 2 (11.2.0.4) JDBC Drivers</code><a href=\"http://www.oracle.com/technetwork/apps-tech/jdbc-112010-090769.html\" rel=\"nofollow noreferrer\">on this page</a>.</p>\n<p><strong>I want to know if passing user defined records (as IN parameter) to a PL/SQL procedure is allowed ?  Has anybody tried doing the above ?</strong></p>\n"},{"tags":["java","generics","inner-classes"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":3,"creation_date":1523473864,"post_id":49782750,"comment_id":86580822,"body_markdown":"Remove `&lt;A,B&gt;` from the `TaggedUnion` class. Since the nested class isn&#39;t static, the `&lt;A,B&gt;` type parameters of `TaggedUnionBuilder` applies to `TaggedUnion` too,","body":"Remove <code>&lt;A,B&gt;</code> from the <code>TaggedUnion</code> class. Since the nested class isn&#39;t static, the <code>&lt;A,B&gt;</code> type parameters of <code>TaggedUnionBuilder</code> applies to <code>TaggedUnion</code> too,"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":2,"creation_date":1523473879,"post_id":49782750,"comment_id":86580830,"body_markdown":"You don&#39;t need to declare type parameters in `TaggedUnion`. Just use `A` and `B`, what&#39;s the problem?","body":"You don&#39;t need to declare type parameters in <code>TaggedUnion</code>. Just use <code>A</code> and <code>B</code>, what&#39;s the problem?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1523473900,"post_id":49782750,"comment_id":86580838,"body_markdown":"If you deploy the Builder pattern, you normally write the builder as inner class of the class, not the other way around. Aside from that, the inner class is generic, when the enclosing class is generic. You can already use the generic parameters of the outer class.","body":"If you deploy the Builder pattern, you normally write the builder as inner class of the class, not the other way around. Aside from that, the inner class is generic, when the enclosing class is generic. You can already use the generic parameters of the outer class."},{"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"score":0,"creation_date":1523473981,"post_id":49782750,"comment_id":86580888,"body_markdown":"@Andreas then you cannot return `TaggedUnion` as generic from TaggedUnionBuilder&#39;s `left` &amp; `right` methods. You get the error &gt;java: type TaggedUnionBuilder.TaggedUnion does not take parameters","body":"@Andreas then you cannot return <code>TaggedUnion</code> as generic from TaggedUnionBuilder&#39;s <code>left</code> &amp; <code>right</code> methods. You get the error &gt;java: type TaggedUnionBuilder.TaggedUnion does not take parameters"},{"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"score":0,"creation_date":1523474019,"post_id":49782750,"comment_id":86580907,"body_markdown":"@lexicore because then consumers of the union won&#39;t know the possible types","body":"@lexicore because then consumers of the union won&#39;t know the possible types"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1523474023,"post_id":49782750,"comment_id":86580911,"body_markdown":"@ArtB The parameters go on  `TaggedUnionBuilder`, not on `TaggedUnion`","body":"@ArtB The parameters go on  <code>TaggedUnionBuilder</code>, not on <code>TaggedUnion</code>"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1523474023,"post_id":49782750,"comment_id":86580912,"body_markdown":"@ArtB Well, you&#39;ll have to remove `&lt;A, B&gt;` and `&lt;&gt;` there as well.","body":"@ArtB Well, you&#39;ll have to remove <code>&lt;A, B&gt;</code> and <code>&lt;&gt;</code> there as well."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1523474057,"post_id":49782750,"comment_id":86580922,"body_markdown":"@ArtB When you remove type parameter from `TaggedUnion`, remove them everywhere, including on the `left` method: `TaggedUnion left( A aA ){ return new TaggedUnion( true, aA  ); }`","body":"@ArtB When you remove type parameter from <code>TaggedUnion</code>, remove them everywhere, including on the <code>left</code> method: <code>TaggedUnion left( A aA ){ return new TaggedUnion( true, aA  ); }</code>"},{"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"score":0,"creation_date":1523474112,"post_id":49782750,"comment_id":86580937,"body_markdown":"@lexicore Yeah, sure, that makes it compile, but useless. The goal is to have a TaggedUnion with generic types.","body":"@lexicore Yeah, sure, that makes it compile, but useless. The goal is to have a TaggedUnion with generic types."},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":0,"creation_date":1523474113,"post_id":49782750,"comment_id":86580939,"body_markdown":"With the solution proposed above, the returned type will be a `TaggedUnionBuilder&lt;A,B&gt;.TaggedUnion`, the generic is still ok with this","body":"With the solution proposed above, the returned type will be a <code>TaggedUnionBuilder&lt;A,B&gt;.TaggedUnion</code>, the generic is still ok with this"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1523474160,"post_id":49782750,"comment_id":86580960,"body_markdown":"@ArtB well the whole class seems pretty useless because if you can cast one type into another, they stand in some kind of inheritance relationship...","body":"@ArtB well the whole class seems pretty useless because if you can cast one type into another, they stand in some kind of inheritance relationship..."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1523474163,"post_id":49782750,"comment_id":86580961,"body_markdown":"Because `TaggedUnion` is non-static, the full name, as seen by caller, is `TaggedUnionBuilder&lt;Foo,Bar&gt;.TaggedUnion`. Perhaps you wanted `TaggedUnion` to be static with it&#39;s own `A` and `B`?","body":"Because <code>TaggedUnion</code> is non-static, the full name, as seen by caller, is <code>TaggedUnionBuilder&lt;Foo,Bar&gt;.TaggedUnion</code>. Perhaps you wanted <code>TaggedUnion</code> to be static with it&#39;s own <code>A</code> and <code>B</code>?"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":2,"creation_date":1523474168,"post_id":49782750,"comment_id":86580962,"body_markdown":"@ArtB `TaggedUnion` *is* generic. `left()` and `right()` return `TaggedUnionBuilder&lt;A, B&gt;.TaggedUnion`.","body":"@ArtB <code>TaggedUnion</code> <i>is</i> generic. <code>left()</code> and <code>right()</code> return <code>TaggedUnionBuilder&lt;A, B&gt;.TaggedUnion</code>."},{"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"score":0,"creation_date":1523474290,"post_id":49782750,"comment_id":86581034,"body_markdown":"@lexicore Yeah, I didn&#39;t think about referencing it with the parent name, I just wanted to have `TaggedUnion&lt;A,B&gt;` because otherwise it&#39;s verbose, but yes, it works for the question as stated... just not ergonmic :-/","body":"@lexicore Yeah, I didn&#39;t think about referencing it with the parent name, I just wanted to have <code>TaggedUnion&lt;A,B&gt;</code> because otherwise it&#39;s verbose, but yes, it works for the question as stated... just not ergonmic :-/"},{"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"score":0,"creation_date":1523474696,"post_id":49782750,"comment_id":86581248,"body_markdown":"@lexicore Used your comment to create a new answer. If you want to copy and paste it to claim it as your own I&#39;ll accept it.","body":"@lexicore Used your comment to create a new answer. If you want to copy and paste it to claim it as your own I&#39;ll accept it."},{"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"score":0,"creation_date":1523474822,"post_id":49782750,"comment_id":86581328,"body_markdown":"@Turing85 They are not expected to be related, you know which method is safe to call by checking the `isLeft()` method before calling `left()`","body":"@Turing85 They are not expected to be related, you know which method is safe to call by checking the <code>isLeft()</code> method before calling <code>left()</code>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1523475908,"post_id":49782750,"comment_id":86581906,"body_markdown":"@ArtB from [the documentation of `Class#cast(Object o)`](https://docs.oracle.com/javase/9/docs/api/java/lang/Class.html#cast-java.lang.Object-): &quot;*Throws: ClassCastException - if the object is not null and is not assignable to the type T.*&quot; In other words: if `A` and `B` are not related, you will get an `ClassCastException`.","body":"@ArtB from <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Class.html#cast-java.lang.Object-\" rel=\"nofollow noreferrer\">the documentation of <code>Class#cast(Object o)</code></a>: &quot;<i>Throws: ClassCastException - if the object is not null and is not assignable to the type T.</i>&quot; In other words: if <code>A</code> and <code>B</code> are not related, you will get an <code>ClassCastException</code>."},{"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"score":0,"creation_date":1523476118,"post_id":49782750,"comment_id":86582028,"body_markdown":"@Turing85 yes, if you call `left()` without ensuring that `isLeft()` is `true` you will get a `ClassCastException`. That is why that code is there to catch that instead of silently failing because of erasure. If you didn&#39;t care about that you wouldn&#39;t need to pass in the `Class` objects at all.","body":"@Turing85 yes, if you call <code>left()</code> without ensuring that <code>isLeft()</code> is <code>true</code> you will get a <code>ClassCastException</code>. That is why that code is there to catch that instead of silently failing because of erasure. If you didn&#39;t care about that you wouldn&#39;t need to pass in the <code>Class</code> objects at all."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1523476292,"post_id":49782750,"comment_id":86582126,"body_markdown":"How come you have some variable and you don&#39;t know whether it is a `String` or a `Date`?","body":"How come you have some variable and you don&#39;t know whether it is a <code>String</code> or a <code>Date</code>?"},{"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"score":0,"creation_date":1523477300,"post_id":49782750,"comment_id":86582686,"body_markdown":"@Turing85 A contrived example. A list of appointments with the date as a free text field. Some of them can be parsed into a real date &quot;2018-04-11&quot;, and some that can&#39;t &quot;after Jon&#39;s birthday&quot;. In that case we can parse it into a date, we can do additional logic, but otherwise we still need to track the data even if we cannot action it.","body":"@Turing85 A contrived example. A list of appointments with the date as a free text field. Some of them can be parsed into a real date &quot;2018-04-11&quot;, and some that can&#39;t &quot;after Jon&#39;s birthday&quot;. In that case we can parse it into a date, we can do additional logic, but otherwise we still need to track the data even if we cannot action it."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1523477799,"post_id":49782750,"comment_id":86582933,"body_markdown":"Wouldn&#39;t it be cleaner to have separate `Appointment` implementations for those cases? This way, you can define the &quot;additional logic&quot; behaviour in the right context.","body":"Wouldn&#39;t it be cleaner to have separate <code>Appointment</code> implementations for those cases? This way, you can define the &quot;additional logic&quot; behaviour in the right context."},{"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"score":0,"creation_date":1523478083,"post_id":49782750,"comment_id":86583089,"body_markdown":"@Turing85 if you would like model it as part of your domain then yes, but if you need it as a one off in a small method this is nicer. Same argument goes for Guava&#39;s Pair and Triple classes.","body":"@Turing85 if you would like model it as part of your domain then yes, but if you need it as a one off in a small method this is nicer. Same argument goes for Guava&#39;s Pair and Triple classes."}],"answers":[{"tags":[],"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523547021,"creation_date":1523473665,"answer_id":49782751,"question_id":49782750,"body_markdown":"One work around it to make the inner class `TaggedUnion` a `static class` and pass in an instance of `TaggedUnionBuilder` explicitly. This would resolve the issue.\r\n\r\n\r\n    public class TaggedUnionBuilder&lt;L,R&gt;{\r\n        private final Class&lt;L&gt; leftClass;\r\n        private final Class&lt;R&gt; rightClass;\r\n    \r\n        public TaggedUnionBuilder( Class&lt; L &gt; leftClass, Class&lt; R &gt; rightClass ) {\r\n            this.leftClass  = leftClass;\r\n            this.rightClass = rightClass;\r\n        }\r\n    \r\n        public TaggedUnion&lt;L,R&gt; left( L aLeft ){\r\n            return new TaggedUnion&lt;&gt;( this, true, aLeft  );\r\n        }\r\n    \r\n        public TaggedUnion&lt;L,R&gt; right( R aRight ){\r\n            return new TaggedUnion&lt;&gt;( this, false, aRight  );\r\n        }\r\n    \r\n    \r\n        public static class TaggedUnion&lt;L,R&gt;{\r\n            private final boolean isLeftClass;\r\n            private final Object value;\r\n            private final TaggedUnionBuilder&lt;L,R&gt; parent;\r\n    \r\n    \r\n            private TaggedUnion( TaggedUnionBuilder&lt;L,R&gt; aParent, boolean isLeftClass, Object aValue ) {\r\n                this.parent = aParent;\r\n                this.isLeftClass = isLeftClass;\r\n                this.value = aValue;\r\n            }\r\n    \r\n            public L left(){\r\n                return parent.leftClass.cast( value );\r\n            }\r\n    \r\n            public R right(){\r\n                return parent.rightClass.cast( value );\r\n            }\r\n    \r\n            public boolean isLeft(){\r\n                return isLeftClass;\r\n            }\r\n    \r\n            public boolean isRight(){\r\n                return !isLeftClass;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nbut effectively makes `TaggedUnion` a separate class (would just need to make accessors for the classes on `TaggedUnionBuilder`).\r\n","title":"Is there any way to declare that an inner class has the same generic type as the outer?","body":"<p>One work around it to make the inner class <code>TaggedUnion</code> a <code>static class</code> and pass in an instance of <code>TaggedUnionBuilder</code> explicitly. This would resolve the issue.</p>\n\n<pre><code>public class TaggedUnionBuilder&lt;L,R&gt;{\n    private final Class&lt;L&gt; leftClass;\n    private final Class&lt;R&gt; rightClass;\n\n    public TaggedUnionBuilder( Class&lt; L &gt; leftClass, Class&lt; R &gt; rightClass ) {\n        this.leftClass  = leftClass;\n        this.rightClass = rightClass;\n    }\n\n    public TaggedUnion&lt;L,R&gt; left( L aLeft ){\n        return new TaggedUnion&lt;&gt;( this, true, aLeft  );\n    }\n\n    public TaggedUnion&lt;L,R&gt; right( R aRight ){\n        return new TaggedUnion&lt;&gt;( this, false, aRight  );\n    }\n\n\n    public static class TaggedUnion&lt;L,R&gt;{\n        private final boolean isLeftClass;\n        private final Object value;\n        private final TaggedUnionBuilder&lt;L,R&gt; parent;\n\n\n        private TaggedUnion( TaggedUnionBuilder&lt;L,R&gt; aParent, boolean isLeftClass, Object aValue ) {\n            this.parent = aParent;\n            this.isLeftClass = isLeftClass;\n            this.value = aValue;\n        }\n\n        public L left(){\n            return parent.leftClass.cast( value );\n        }\n\n        public R right(){\n            return parent.rightClass.cast( value );\n        }\n\n        public boolean isLeft(){\n            return isLeftClass;\n        }\n\n        public boolean isRight(){\n            return !isLeftClass;\n        }\n    }\n\n}\n</code></pre>\n\n<p>but effectively makes <code>TaggedUnion</code> a separate class (would just need to make accessors for the classes on <code>TaggedUnionBuilder</code>).</p>\n"},{"tags":[],"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523474653,"creation_date":1523474653,"answer_id":49783015,"question_id":49782750,"body_markdown":"The real answer to the question as stated (given by @lexicore in the comments) is to qualify the returned type using the parent name like such:\r\n\r\n    public class TaggedUnionBuilder&lt;A,B&gt;{\r\n        private final Class&lt;A&gt; classA;\r\n        private final Class&lt;B&gt; classB;\r\n\r\n        public TaggedUnionBuilder( Class&lt; A &gt; classA, Class&lt; B &gt; classB ) {\r\n            this.classA = classA;\r\n            this.classB = classB;\r\n        }\r\n\r\n        public TaggedUnionBuilder&lt;A,B&gt;.TaggedUnion left( A aA ){\r\n            return new TaggedUnion( true, aA  );\r\n        }\r\n\r\n        public TaggedUnionBuilder&lt;A,B&gt;.TaggedUnion right( B aB ){\r\n            return new TaggedUnion( false, aB  );\r\n        }\r\n\r\n\r\n        public class TaggedUnion{\r\n            private final boolean isClassA;\r\n            private final Object value;\r\n\r\n            private TaggedUnion( boolean isClassA, Object aValue ) {\r\n                this.isClassA = isClassA;\r\n                this.value = aValue;\r\n            }\r\n\r\n            A left(){\r\n                return classA.cast( value );\r\n            }\r\n\r\n            B right(){\r\n                return classB.cast( value );\r\n            }\r\n\r\n            boolean isA(){\r\n                return isClassA;\r\n            }\r\n\r\n            boolean isB(){\r\n                return !isClassA;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nBut this means you cannot refer to `TaggedUnion` genericly _without_ including the containing class in the type (ie always `TaggedUnionBuilder&lt;A,B&gt;.TaggedUnion` instead of `TaggedUnion`) which is brutal ergonomically but answers the question as stated.","title":"Is there any way to declare that an inner class has the same generic type as the outer?","body":"<p>The real answer to the question as stated (given by @lexicore in the comments) is to qualify the returned type using the parent name like such:</p>\n\n<pre><code>public class TaggedUnionBuilder&lt;A,B&gt;{\n    private final Class&lt;A&gt; classA;\n    private final Class&lt;B&gt; classB;\n\n    public TaggedUnionBuilder( Class&lt; A &gt; classA, Class&lt; B &gt; classB ) {\n        this.classA = classA;\n        this.classB = classB;\n    }\n\n    public TaggedUnionBuilder&lt;A,B&gt;.TaggedUnion left( A aA ){\n        return new TaggedUnion( true, aA  );\n    }\n\n    public TaggedUnionBuilder&lt;A,B&gt;.TaggedUnion right( B aB ){\n        return new TaggedUnion( false, aB  );\n    }\n\n\n    public class TaggedUnion{\n        private final boolean isClassA;\n        private final Object value;\n\n        private TaggedUnion( boolean isClassA, Object aValue ) {\n            this.isClassA = isClassA;\n            this.value = aValue;\n        }\n\n        A left(){\n            return classA.cast( value );\n        }\n\n        B right(){\n            return classB.cast( value );\n        }\n\n        boolean isA(){\n            return isClassA;\n        }\n\n        boolean isB(){\n            return !isClassA;\n        }\n    }\n\n}\n</code></pre>\n\n<p>But this means you cannot refer to <code>TaggedUnion</code> genericly <em>without</em> including the containing class in the type (ie always <code>TaggedUnionBuilder&lt;A,B&gt;.TaggedUnion</code> instead of <code>TaggedUnion</code>) which is brutal ergonomically but answers the question as stated.</p>\n"},{"tags":[],"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684166018,"creation_date":1523474686,"answer_id":49783023,"question_id":49782750,"body_markdown":"Since you have an inner class, the generic type are &quot;propagated&quot; into the inner class too.\r\n\r\n    public class Outer&lt;A&gt; {\r\n    \r\n        Inner in;\r\n    \r\n        Outer( A a ) {\r\n            in = new Inner( a );\r\n        }\r\n    \r\n        Inner get() {\r\n            return in;\r\n        }\r\n    \r\n        class Inner {\r\n            A value;\r\n    \r\n             Inner( A value ) {\r\n                this.value = value;\r\n            }\r\n        }\r\n    \r\n        public static void main( String[] args ) {\r\n            String s = new Outer&lt;&gt;( &quot;test&quot; ).get().value;\r\n            //And to declare an variable Inner\r\n            Outer&lt;String&gt;.Inner i = new Outer&lt;&gt;( &quot;test&quot; ).get();\r\n        }\r\n    }\r\n\r\n\r\nDeclaring an `Outer&lt;String&gt;` will then give a `Outer&lt;String&gt;.Inner`, the `value` will be a `String`.\r\n\r\nIf you declare an `Inner`, you need to use the full class name to specify the generic type, a bit more verbose but a correct solution.","title":"Is there any way to declare that an inner class has the same generic type as the outer?","body":"<p>Since you have an inner class, the generic type are &quot;propagated&quot; into the inner class too.</p>\n<pre><code>public class Outer&lt;A&gt; {\n\n    Inner in;\n\n    Outer( A a ) {\n        in = new Inner( a );\n    }\n\n    Inner get() {\n        return in;\n    }\n\n    class Inner {\n        A value;\n\n         Inner( A value ) {\n            this.value = value;\n        }\n    }\n\n    public static void main( String[] args ) {\n        String s = new Outer&lt;&gt;( &quot;test&quot; ).get().value;\n        //And to declare an variable Inner\n        Outer&lt;String&gt;.Inner i = new Outer&lt;&gt;( &quot;test&quot; ).get();\n    }\n}\n</code></pre>\n<p>Declaring an <code>Outer&lt;String&gt;</code> will then give a <code>Outer&lt;String&gt;.Inner</code>, the <code>value</code> will be a <code>String</code>.</p>\n<p>If you declare an <code>Inner</code>, you need to use the full class name to specify the generic type, a bit more verbose but a correct solution.</p>\n"},{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523476384,"creation_date":1523475687,"answer_id":49783251,"question_id":49782750,"body_markdown":"**Preface**\r\n\r\nLet me start by doubting the usefulness of a class like the one you showed. If one is able to cast one type into another, either at least one type is an interface or both types stand in an inheritance relationship. From my point of view, you can do all this with [`Class#isAssignableForm(Object obj)`][1], [`Class#isInstance(Object obj)`][2] and [`Class#cast(Object obj)`][3].\r\n\r\nWhen deploying the [Builder Pattern][4], one normally writes the builder as inner static class of the actual type. This facilitates readability (the important class is the POJO, not the builder). Furthermore, an inner (non-static) class always has an implicit reference to the instance of the surrounding class it was created from.\r\n\r\n---\r\n**Is there any way to reuse the generic parameters of an outer clas by an inner class?**\r\n\r\nYes there is. Let&#39;s look at some simplified version of your code.\r\n\r\n    public class TaggedUnionBuilder&lt;A, B&gt; {\r\n        // ...\r\n        public class TaggedUnion {\r\n            // ...\r\n        }\r\n    }\r\n\r\nAs we know, we instantiate inner classes by first instantiating an instance of the outer class and THEN calling `new &lt;InnerClass&gt;()` on this instance like so:\r\n\r\n    TaggedUnionBuilder&lt;String, Object&gt; builder = new TaggedUnionBuilder&lt;String, Object&gt;();\r\n    TaggedUnionBuilder&lt;String, Object&gt;.TaggedUnion union = builder.new TaggedUnion();\r\n\r\nWriting this, one sees that the complete type of `union` is indeed `TaggedUnionBuilder&lt;String, Object&gt;.TaggedUnion`.\r\n\r\n---\r\n**What does this mean for the implementation?**\r\n\r\nWe can use generic parameters `A` and `B` already in `TaggedUnion`. Thus, we can refactor the code to:\r\n\r\n\r\n    public class TaggedUnionBuilder&lt;A, B&gt; {\r\n        private final Class&lt;A&gt; classA;\r\n        private final Class&lt;B&gt; classB;\r\n    \r\n        public TaggedUnionBuilder(Class&lt;A&gt; classA, Class&lt;B&gt; classB) {\r\n            this.classA = classA;\r\n            this.classB = classB;\r\n        }\r\n    \r\n        TaggedUnion left(A a) {\r\n            return new TaggedUnion(true, a);\r\n        }\r\n    \r\n        TaggedUnion right(B b) {\r\n            return new TaggedUnion(false, b);\r\n        }\r\n    \r\n        public class TaggedUnion {\r\n            private final boolean isClassA;\r\n            private final Object  value;\r\n    \r\n            private TaggedUnion(boolean isClassA, Object value) {\r\n                this.isClassA = isClassA;\r\n                this.value = value;\r\n            }\r\n    \r\n            A left() {\r\n                return classA.cast(value);\r\n            }\r\n    \r\n            B right() {\r\n                return classB.cast(value);\r\n            }\r\n    \r\n            boolean isA() {\r\n                return isClassA;\r\n            }\r\n    \r\n            boolean isB() {\r\n                return !isClassA;\r\n            }\r\n        }\r\n    }\r\n\r\n[1]: https://docs.oracle.com/javase/9/docs/api/java/lang/Class.html#isAssignableFrom-java.lang.Class-\r\n\r\n[2]: https://docs.oracle.com/javase/9/docs/api/java/lang/Class.html#isInstance-java.lang.Object-\r\n\r\n[3]: https://docs.oracle.com/javase/9/docs/api/java/lang/Class.html#cast-java.lang.Object-\r\n\r\n[4]: https://en.wikipedia.org/wiki/Builder_pattern\r\n","title":"Is there any way to declare that an inner class has the same generic type as the outer?","body":"<p><strong>Preface</strong></p>\n\n<p>Let me start by doubting the usefulness of a class like the one you showed. If one is able to cast one type into another, either at least one type is an interface or both types stand in an inheritance relationship. From my point of view, you can do all this with <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Class.html#isAssignableFrom-java.lang.Class-\" rel=\"nofollow noreferrer\"><code>Class#isAssignableForm(Object obj)</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Class.html#isInstance-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>Class#isInstance(Object obj)</code></a> and <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/Class.html#cast-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>Class#cast(Object obj)</code></a>.</p>\n\n<p>When deploying the <a href=\"https://en.wikipedia.org/wiki/Builder_pattern\" rel=\"nofollow noreferrer\">Builder Pattern</a>, one normally writes the builder as inner static class of the actual type. This facilitates readability (the important class is the POJO, not the builder). Furthermore, an inner (non-static) class always has an implicit reference to the instance of the surrounding class it was created from.</p>\n\n<hr>\n\n<p><strong>Is there any way to reuse the generic parameters of an outer clas by an inner class?</strong></p>\n\n<p>Yes there is. Let's look at some simplified version of your code.</p>\n\n<pre><code>public class TaggedUnionBuilder&lt;A, B&gt; {\n    // ...\n    public class TaggedUnion {\n        // ...\n    }\n}\n</code></pre>\n\n<p>As we know, we instantiate inner classes by first instantiating an instance of the outer class and THEN calling <code>new &lt;InnerClass&gt;()</code> on this instance like so:</p>\n\n<pre><code>TaggedUnionBuilder&lt;String, Object&gt; builder = new TaggedUnionBuilder&lt;String, Object&gt;();\nTaggedUnionBuilder&lt;String, Object&gt;.TaggedUnion union = builder.new TaggedUnion();\n</code></pre>\n\n<p>Writing this, one sees that the complete type of <code>union</code> is indeed <code>TaggedUnionBuilder&lt;String, Object&gt;.TaggedUnion</code>.</p>\n\n<hr>\n\n<p><strong>What does this mean for the implementation?</strong></p>\n\n<p>We can use generic parameters <code>A</code> and <code>B</code> already in <code>TaggedUnion</code>. Thus, we can refactor the code to:</p>\n\n<pre><code>public class TaggedUnionBuilder&lt;A, B&gt; {\n    private final Class&lt;A&gt; classA;\n    private final Class&lt;B&gt; classB;\n\n    public TaggedUnionBuilder(Class&lt;A&gt; classA, Class&lt;B&gt; classB) {\n        this.classA = classA;\n        this.classB = classB;\n    }\n\n    TaggedUnion left(A a) {\n        return new TaggedUnion(true, a);\n    }\n\n    TaggedUnion right(B b) {\n        return new TaggedUnion(false, b);\n    }\n\n    public class TaggedUnion {\n        private final boolean isClassA;\n        private final Object  value;\n\n        private TaggedUnion(boolean isClassA, Object value) {\n            this.isClassA = isClassA;\n            this.value = value;\n        }\n\n        A left() {\n            return classA.cast(value);\n        }\n\n        B right() {\n            return classB.cast(value);\n        }\n\n        boolean isA() {\n            return isClassA;\n        }\n\n        boolean isB() {\n            return !isClassA;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":92937,"reputation":18601,"user_id":254477,"accept_rate":87,"display_name":"Sled"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":976,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49783023,"answer_count":4,"score":0,"last_activity_date":1684166018,"creation_date":1523473665,"question_id":49782750,"body_markdown":"Is there any way to reuse the generic parameters of an outer class by an inner class?\n\n---\n\nI have the following class \n\n    public class TaggedUnionBuilder&lt;L,R&gt;{\n        private final Class&lt;L&gt; leftClass;\n        private final Class&lt;R&gt; rightClass;\n    \n        public TaggedUnionBuilder( Class&lt; L &gt; leftClass, Class&lt; R &gt; rightClass ) {\n            this.leftClass = leftClass;\n            this.rightClass = rightClass;\n        }\n    \n        TaggedUnion&lt;L,R&gt; left( L aLeft ){\n            return new TaggedUnion&lt;&gt;( true, aLeft  );\n        }\n    \n        TaggedUnion&lt;L,R&gt; right( R aRight ){\n            return new TaggedUnion&lt;&gt;( false, aRight  );\n        }\n    \n    \n        public class TaggedUnion&lt;L,R&gt;{\n            private final boolean isLeftClass;\n            private final Object value;\n    \n    \n            private TaggedUnion( boolean isLeftClass, Object value ) {\n                this.isLeftClass = isLeftClass;\n                this.value = value;\n            }\n    \n            L left(){\n                //vvv compiler error vvv\n                return leftClass.cast( value );\n                //^^^ compiler error ^^^\n            }\n    \n            R right(){\n                //vvv compiler error vvv\n                return rightClass.cast( value );\n                //^^^ compiler error ^^^\n            }\n    \n            boolean isLeft(){\n                return isLeftClass;\n            }\n    \n            boolean isRight(){\n                return !isLeftClass;\n            }\n        }\n    \n    }\n\nHowever, I have a get the errors: \n\n&gt; java: incompatible types: L cannot be converted to L\n&gt;\n&gt; java: incompatible types: R cannot be converted to R\n\nin the `left()` and `right()` methods. \n\nIt seems like the declaration of `L` and `R` in `TaggedUnion` are shadowing the declaration in `TaggedUnionBuilder`. If I remove the generic parameter declaration for `TaggedUnion` I cannot return it as a generic type.\n\nIf I remove the generic parameters off of `TaggedUnion` I get the errors\n\n&gt; java: type TaggedUnionBuilder.TaggedUnion does not take parameters ","title":"Is there any way to declare that an inner class has the same generic type as the outer?","body":"<p>Is there any way to reuse the generic parameters of an outer class by an inner class?</p>\n<hr />\n<p>I have the following class</p>\n<pre><code>public class TaggedUnionBuilder&lt;L,R&gt;{\n    private final Class&lt;L&gt; leftClass;\n    private final Class&lt;R&gt; rightClass;\n\n    public TaggedUnionBuilder( Class&lt; L &gt; leftClass, Class&lt; R &gt; rightClass ) {\n        this.leftClass = leftClass;\n        this.rightClass = rightClass;\n    }\n\n    TaggedUnion&lt;L,R&gt; left( L aLeft ){\n        return new TaggedUnion&lt;&gt;( true, aLeft  );\n    }\n\n    TaggedUnion&lt;L,R&gt; right( R aRight ){\n        return new TaggedUnion&lt;&gt;( false, aRight  );\n    }\n\n\n    public class TaggedUnion&lt;L,R&gt;{\n        private final boolean isLeftClass;\n        private final Object value;\n\n\n        private TaggedUnion( boolean isLeftClass, Object value ) {\n            this.isLeftClass = isLeftClass;\n            this.value = value;\n        }\n\n        L left(){\n            //vvv compiler error vvv\n            return leftClass.cast( value );\n            //^^^ compiler error ^^^\n        }\n\n        R right(){\n            //vvv compiler error vvv\n            return rightClass.cast( value );\n            //^^^ compiler error ^^^\n        }\n\n        boolean isLeft(){\n            return isLeftClass;\n        }\n\n        boolean isRight(){\n            return !isLeftClass;\n        }\n    }\n\n}\n</code></pre>\n<p>However, I have a get the errors:</p>\n<blockquote>\n<p>java: incompatible types: L cannot be converted to L</p>\n<p>java: incompatible types: R cannot be converted to R</p>\n</blockquote>\n<p>in the <code>left()</code> and <code>right()</code> methods.</p>\n<p>It seems like the declaration of <code>L</code> and <code>R</code> in <code>TaggedUnion</code> are shadowing the declaration in <code>TaggedUnionBuilder</code>. If I remove the generic parameter declaration for <code>TaggedUnion</code> I cannot return it as a generic type.</p>\n<p>If I remove the generic parameters off of <code>TaggedUnion</code> I get the errors</p>\n<blockquote>\n<p>java: type TaggedUnionBuilder.TaggedUnion does not take parameters</p>\n</blockquote>\n"},{"tags":["java","json","jackson","quarkus"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1683870340,"post_id":76228719,"comment_id":134435560,"body_markdown":"I&#39;m not completely sure about that, but empty ctor should call `this(Highlight.class)` to made serializer works","body":"I&#39;m not completely sure about that, but empty ctor should call <code>this(Highlight.class)</code> to made serializer works"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1683874430,"post_id":76228719,"comment_id":134436138,"body_markdown":"I tried this same thing on some example code and it worked just fine. See https://github.com/geoand/quarkus/tree/so-76228719","body":"I tried this same thing on some example code and it worked just fine. See <a href=\"https://github.com/geoand/quarkus/tree/so-76228719\" rel=\"nofollow noreferrer\">github.com/geoand/quarkus/tree/so-76228719</a>"},{"owner":{"account_id":945173,"reputation":962,"user_id":1167759,"display_name":"Niklas Heidloff"},"score":0,"creation_date":1684131999,"post_id":76228719,"comment_id":134466079,"body_markdown":"Thanks @geoand and Luca. I&#39;ve tried more variations but cannot get it to work in my setup. Simple samples work, but there might be a conflict with other serializers in my code (see below). How can I debug which serializers are registered and in which order? Thanks!","body":"Thanks @geoand and Luca. I&#39;ve tried more variations but cannot get it to work in my setup. Simple samples work, but there might be a conflict with other serializers in my code (see below). How can I debug which serializers are registered and in which order? Thanks!"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1684133882,"post_id":76228719,"comment_id":134466369,"body_markdown":"Not sure honestly. Whenever I have had such issues, I had to debug Jackson code.","body":"Not sure honestly. Whenever I have had such issues, I had to debug Jackson code."},{"owner":{"account_id":945173,"reputation":962,"user_id":1167759,"display_name":"Niklas Heidloff"},"score":0,"creation_date":1684156246,"post_id":76228719,"comment_id":134471258,"body_markdown":"@geoand I&#39;ve simplified the code. The issue is related to the REST Client. The same serialization code in a REST endpoint, but not when invoking another REST API. https://github.com/nheidloff/quarkus-stackoverflow-76228719 Could you please help? Or should I submit a Quarkus issue?","body":"@geoand I&#39;ve simplified the code. The issue is related to the REST Client. The same serialization code in a REST endpoint, but not when invoking another REST API. <a href=\"https://github.com/nheidloff/quarkus-stackoverflow-76228719\" rel=\"nofollow noreferrer\">github.com/nheidloff/quarkus-stackoverflow-76228719</a> Could you please help? Or should I submit a Quarkus issue?"}],"answers":[{"tags":[],"owner":{"account_id":1335627,"reputation":1470,"user_id":1278463,"display_name":"Borislav Gizdov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683936816,"creation_date":1683936816,"answer_id":76240555,"question_id":76228719,"body_markdown":"I created a sample app using your code and it&#39;s functioning properly. https://github.com/bgizdov/quarkus-reactive-jackson-serializer\r\n\r\nOne modification to make is adding &quot;jsonGenerator.writeStartObject();&quot; before writing fields in the serialize method.\r\n\r\n```\r\n  @Override\r\n  public void serialize(Highlight value, JsonGenerator jsonGenerator, SerializerProvider provider)\r\n      throws IOException {\r\n    System.out.println(&quot;serialize&quot;);\r\n    jsonGenerator.writeStartObject();\r\n    jsonGenerator.writeStringField(&quot;foo_bar&quot;, &quot;fooobar&quot;);\r\n    jsonGenerator.writeStringField(&quot;niklas&quot;, &quot;niklas&quot;);\r\n  }\r\n```\r\n\r\nThe endpoint http://localhost:8080/hello/highlight returns:\r\n\r\n```\r\n{\r\n    &quot;foo_bar&quot;:&quot;fooobar&quot;,\r\n    &quot;niklas&quot;:&quot;niklas&quot;\r\n}\r\n```\r\n\r\nIf your project is not working, consider the following:\r\n- Check if you have another Jackson object mapper customizer.\r\n- Make sure the object mapper is not deregistered.\r\n- Check logs if the bean is not removed from the project as unused, to prevent this try adding &quot;@Unremovable&quot;.\r\n\r\n\r\nHere is my log:\r\n```\r\ncustomize\r\nconstuctor\r\nconstuctor\r\n__  ____  __  _____   ___  __ ____  ______ \r\n --/ __ \\/ / / / _ | / _ \\/ //_/ / / / __/ \r\n -/ /_/ / /_/ / __ |/ , _/ ,&lt; / /_/ /\\ \\   \r\n--\\___\\_\\____/_/ |_/_/|_/_/|_|\\____/___/   \r\n2023-05-13 03:07:15,961 INFO  [io.quarkus] (Quarkus Main Thread) code-with-quarkus 1.0.0-SNAPSHOT on JVM (powered by Quarkus 2.16.7.Final) started in 1.340s. Listening on: http://localhost:8080\r\n2023-05-13 03:07:15,965 INFO  [io.quarkus] (Quarkus Main Thread) Profile dev activated. Live Coding activated.\r\n2023-05-13 03:07:15,965 INFO  [io.quarkus] (Quarkus Main Thread) Installed features: [cdi, resteasy-reactive, resteasy-reactive-jackson, smallrye-context-propagation, vertx]\r\nserialize\r\n```","title":"Jackson Serializer not invoked in Quarkus","body":"<p>I created a sample app using your code and it's functioning properly. <a href=\"https://github.com/bgizdov/quarkus-reactive-jackson-serializer\" rel=\"nofollow noreferrer\">https://github.com/bgizdov/quarkus-reactive-jackson-serializer</a></p>\n<p>One modification to make is adding &quot;jsonGenerator.writeStartObject();&quot; before writing fields in the serialize method.</p>\n<pre><code>  @Override\n  public void serialize(Highlight value, JsonGenerator jsonGenerator, SerializerProvider provider)\n      throws IOException {\n    System.out.println(&quot;serialize&quot;);\n    jsonGenerator.writeStartObject();\n    jsonGenerator.writeStringField(&quot;foo_bar&quot;, &quot;fooobar&quot;);\n    jsonGenerator.writeStringField(&quot;niklas&quot;, &quot;niklas&quot;);\n  }\n</code></pre>\n<p>The endpoint http://localhost:8080/hello/highlight returns:</p>\n<pre><code>{\n    &quot;foo_bar&quot;:&quot;fooobar&quot;,\n    &quot;niklas&quot;:&quot;niklas&quot;\n}\n</code></pre>\n<p>If your project is not working, consider the following:</p>\n<ul>\n<li>Check if you have another Jackson object mapper customizer.</li>\n<li>Make sure the object mapper is not deregistered.</li>\n<li>Check logs if the bean is not removed from the project as unused, to prevent this try adding &quot;@Unremovable&quot;.</li>\n</ul>\n<p>Here is my log:</p>\n<pre><code>customize\nconstuctor\nconstuctor\n__  ____  __  _____   ___  __ ____  ______ \n --/ __ \\/ / / / _ | / _ \\/ //_/ / / / __/ \n -/ /_/ / /_/ / __ |/ , _/ ,&lt; / /_/ /\\ \\   \n--\\___\\_\\____/_/ |_/_/|_/_/|_|\\____/___/   \n2023-05-13 03:07:15,961 INFO  [io.quarkus] (Quarkus Main Thread) code-with-quarkus 1.0.0-SNAPSHOT on JVM (powered by Quarkus 2.16.7.Final) started in 1.340s. Listening on: http://localhost:8080\n2023-05-13 03:07:15,965 INFO  [io.quarkus] (Quarkus Main Thread) Profile dev activated. Live Coding activated.\n2023-05-13 03:07:15,965 INFO  [io.quarkus] (Quarkus Main Thread) Installed features: [cdi, resteasy-reactive, resteasy-reactive-jackson, smallrye-context-propagation, vertx]\nserialize\n</code></pre>\n"},{"tags":[],"owner":{"account_id":945173,"reputation":962,"user_id":1167759,"display_name":"Niklas Heidloff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684165735,"creation_date":1684165735,"answer_id":76255826,"question_id":76228719,"body_markdown":"Au, this is embarrassing. I simply forgot to create the object. Can&#39;t make this up.\r\n\r\n```\r\noutput.highlight = new Highlight(); \r\n```","title":"Jackson Serializer not invoked in Quarkus","body":"<p>Au, this is embarrassing. I simply forgot to create the object. Can't make this up.</p>\n<pre><code>output.highlight = new Highlight(); \n</code></pre>\n"}],"owner":{"account_id":945173,"reputation":962,"user_id":1167759,"display_name":"Niklas Heidloff"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684165735,"creation_date":1683815104,"question_id":76228719,"body_markdown":"I use the MicroProfile REST Client in Quarkus and have declared quarkus-rest-client-reactive-jackson as dependency. For the invocation I need run my own code to serialize my data into JSON. I&#39;ve built a custom serializer extending StdSerializer and registered it via ObjectMapperCustomizer.\r\n\r\nI&#39;ve followed the instructions in this documentation:\r\n- https://quarkus.io/guides/rest-json\r\n- https://github.com/quarkusio/quarkus/issues/15018\r\n\r\nBut my code is never invoked. The code in my ObjectMapperCustomizer in run and the constructors of my serializer are run, but the serialize methhod is never invoked.\r\n\r\n```\r\npublic class HighlightSerializer extends StdSerializer&lt;Highlight&gt; { \r\n    public HighlightSerializer() {\r\n        this(null);\r\n        System.out.println(&quot;constuctor&quot;);\r\n    }\r\n  \r\n    public HighlightSerializer(Class&lt;Highlight&gt; t) {\r\n        super(t);\r\n        System.out.println(&quot;constuctor&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void serialize(Highlight value, JsonGenerator jsonGenerator, SerializerProvider provider) throws IOException, JsonProcessingException {\r\n        System.out.println(&quot;serialize&quot;);\r\n        jsonGenerator.writeStringField(&quot;niklas&quot;, &quot;niklas&quot;);        \r\n    }\r\n```\r\n\r\n```\r\n@Singleton\r\npublic class RegisterCustomModuleCustomizer implements ObjectMapperCustomizer {\r\n    @Override\r\n    public int priority() {\r\n        return MINIMUM_PRIORITY; \r\n    }\r\n\r\n    public void customize(ObjectMapper mapper) {\r\n        System.out.println(&quot;customize&quot;);\r\n        SimpleModule module = new SimpleModule();\r\n        module.addSerializer(Highlight.class, new HighlightSerializer());\r\n        mapper.registerModule(module);\r\n    }\r\n}\r\n```\r\n\r\nHere are pointers to my code:\r\n - Desired JSON that needs to be created with a variable field name: https://github.com/nheidloff/question-answering/blob/299c9131310d5cbfd8fe3620a07738f973852c64/service/src/main/java/com/ibm/question_answering/elasticsearch/AskElasticService.java#L129\r\n - Serializer that is not invoked: https://github.com/nheidloff/question-answering/blob/299c9131310d5cbfd8fe3620a07738f973852c64/service/src/main/java/com/ibm/question_answering/elasticsearch/HighlightSerializer.java#L21\r\n- Attempt to register the serializer: https://github.com/nheidloff/question-answering/blob/299c9131310d5cbfd8fe3620a07738f973852c64/service/src/main/java/com/ibm/question_answering/elasticsearch/RegisterCustomModuleCustomizer.java#L18\r\n\r\n\r\nDoes anyone know how to fix this?\r\nThanks\r\n\r\n**Update May 15th:** \r\n\r\nI&#39;ve simplified the code. The issue is related to the REST Client. The same serialization code works in a REST endpoint, but not when invoking another REST API. So the issue is not related to using different serializers together and not a basic issue in my code.\r\n\r\nhttps://github.com/nheidloff/quarkus-stackoverflow-76228719\r\n\r\nAny ideas how to fix this?","title":"Jackson Serializer not invoked in Quarkus","body":"<p>I use the MicroProfile REST Client in Quarkus and have declared quarkus-rest-client-reactive-jackson as dependency. For the invocation I need run my own code to serialize my data into JSON. I've built a custom serializer extending StdSerializer and registered it via ObjectMapperCustomizer.</p>\n<p>I've followed the instructions in this documentation:</p>\n<ul>\n<li><a href=\"https://quarkus.io/guides/rest-json\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/rest-json</a></li>\n<li><a href=\"https://github.com/quarkusio/quarkus/issues/15018\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/issues/15018</a></li>\n</ul>\n<p>But my code is never invoked. The code in my ObjectMapperCustomizer in run and the constructors of my serializer are run, but the serialize methhod is never invoked.</p>\n<pre><code>public class HighlightSerializer extends StdSerializer&lt;Highlight&gt; { \n    public HighlightSerializer() {\n        this(null);\n        System.out.println(&quot;constuctor&quot;);\n    }\n  \n    public HighlightSerializer(Class&lt;Highlight&gt; t) {\n        super(t);\n        System.out.println(&quot;constuctor&quot;);\n    }\n\n    @Override\n    public void serialize(Highlight value, JsonGenerator jsonGenerator, SerializerProvider provider) throws IOException, JsonProcessingException {\n        System.out.println(&quot;serialize&quot;);\n        jsonGenerator.writeStringField(&quot;niklas&quot;, &quot;niklas&quot;);        \n    }\n</code></pre>\n<pre><code>@Singleton\npublic class RegisterCustomModuleCustomizer implements ObjectMapperCustomizer {\n    @Override\n    public int priority() {\n        return MINIMUM_PRIORITY; \n    }\n\n    public void customize(ObjectMapper mapper) {\n        System.out.println(&quot;customize&quot;);\n        SimpleModule module = new SimpleModule();\n        module.addSerializer(Highlight.class, new HighlightSerializer());\n        mapper.registerModule(module);\n    }\n}\n</code></pre>\n<p>Here are pointers to my code:</p>\n<ul>\n<li>Desired JSON that needs to be created with a variable field name: <a href=\"https://github.com/nheidloff/question-answering/blob/299c9131310d5cbfd8fe3620a07738f973852c64/service/src/main/java/com/ibm/question_answering/elasticsearch/AskElasticService.java#L129\" rel=\"nofollow noreferrer\">https://github.com/nheidloff/question-answering/blob/299c9131310d5cbfd8fe3620a07738f973852c64/service/src/main/java/com/ibm/question_answering/elasticsearch/AskElasticService.java#L129</a></li>\n<li>Serializer that is not invoked: <a href=\"https://github.com/nheidloff/question-answering/blob/299c9131310d5cbfd8fe3620a07738f973852c64/service/src/main/java/com/ibm/question_answering/elasticsearch/HighlightSerializer.java#L21\" rel=\"nofollow noreferrer\">https://github.com/nheidloff/question-answering/blob/299c9131310d5cbfd8fe3620a07738f973852c64/service/src/main/java/com/ibm/question_answering/elasticsearch/HighlightSerializer.java#L21</a></li>\n<li>Attempt to register the serializer: <a href=\"https://github.com/nheidloff/question-answering/blob/299c9131310d5cbfd8fe3620a07738f973852c64/service/src/main/java/com/ibm/question_answering/elasticsearch/RegisterCustomModuleCustomizer.java#L18\" rel=\"nofollow noreferrer\">https://github.com/nheidloff/question-answering/blob/299c9131310d5cbfd8fe3620a07738f973852c64/service/src/main/java/com/ibm/question_answering/elasticsearch/RegisterCustomModuleCustomizer.java#L18</a></li>\n</ul>\n<p>Does anyone know how to fix this?\nThanks</p>\n<p><strong>Update May 15th:</strong></p>\n<p>I've simplified the code. The issue is related to the REST Client. The same serialization code works in a REST endpoint, but not when invoking another REST API. So the issue is not related to using different serializers together and not a basic issue in my code.</p>\n<p><a href=\"https://github.com/nheidloff/quarkus-stackoverflow-76228719\" rel=\"nofollow noreferrer\">https://github.com/nheidloff/quarkus-stackoverflow-76228719</a></p>\n<p>Any ideas how to fix this?</p>\n"},{"tags":["java","r","cytoscape"],"answers":[{"tags":[],"owner":{"account_id":6157002,"reputation":1322,"user_id":4799667,"display_name":"Scooter Morris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597331657,"creation_date":1595517844,"answer_id":63057711,"question_id":63016846,"body_markdown":"As stated in the error message, you need to restart Cytoscape when that dialog pops up.  Until you do, Cytoscape won&#39;t be listening on port 1234.  Once you restart and that dialog no longer pops up, things should be fine.","title":"Cytoscape 3.8.0 launches with errors and R package RCy3 not working with it","body":"<p>As stated in the error message, you need to restart Cytoscape when that dialog pops up.  Until you do, Cytoscape won't be listening on port 1234.  Once you restart and that dialog no longer pops up, things should be fine.</p>\n"},{"tags":[],"owner":{"account_id":19817212,"reputation":1,"user_id":17265734,"display_name":"Jorge Vasquez Arriaga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684165610,"creation_date":1683820537,"answer_id":76229518,"question_id":63016846,"body_markdown":"Open Cytoscape App, restart R, load `library(RCy3); library(phytools); library(ape); ` and add\r\n`options(&quot;cyRestApi&quot;=&quot;http://localhost:1234&quot;)`\r\nand check that everything is right with\r\n`cytoscapePing ()` the output should be *You are connected to Cytoscape!*\r\n","title":"Cytoscape 3.8.0 launches with errors and R package RCy3 not working with it","body":"<p>Open Cytoscape App, restart R, load <code>library(RCy3); library(phytools); library(ape); </code> and add\n<code>options(&quot;cyRestApi&quot;=&quot;http://localhost:1234&quot;)</code>\nand check that everything is right with\n<code>cytoscapePing ()</code> the output should be <em>You are connected to Cytoscape!</em></p>\n"}],"owner":{"account_id":8721230,"reputation":718,"user_id":6524326,"display_name":"Wasim Aftab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":752,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684165610,"creation_date":1595341934,"question_id":63016846,"body_markdown":"when I launch Cytoscape 3.8.0, i see following error message [![Cytoscape 3.8.0 error][1]][1]\r\n\r\nThen I looked into the task history and I see many errors as shown below,\r\n\r\n    &#160;couldn&#39;t find resource &#39;groupSettings.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;layout.grid.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;layout.hierarchical.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;layout.circular.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;layout.stacked-node-layout.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;layout.attribute-circle.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;layout.degree-circle.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;layout.attributes-layout.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;layout.kamada-kawai.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;layout.fruchterman-rheingold.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;layout.cose.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;layout.isom.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;layout.force-directed.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;stringApp.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;enrichmentmap.props&#39; in jar.\r\n    &#160;couldn&#39;t find resource &#39;layout.genemania-force-directed.props&#39; in jar.\r\n\r\n\r\nWhen I run `RCy3::cytoscapePing()` in R console, I see the following error\r\n\r\n    Error in curl::curl_fetch_memory(url, handle = handle) : \r\n      Failed to connect to localhost port 1234: Connection refused\r\n\r\nHowever, Cytoscape 3.7.x launches smoothly and `RCy3::cytoscapePing()` produces `[1] &quot;You are connected to Cytoscape!&quot;`. RCy3 version is 2.4.6.\r\nTo me, it looks like a java error as Cytoscape 3.8.0 uses java11  and Cytoscape 3.7.x uses java 1.8. How to fix this error? \r\n\r\n`whereis -b java` produces \r\n`java: /usr/bin/java /etc/java /usr/share/java /opt/jdk1.8.0_73/bin/java /usr/lib/jvm/java-8-oracle/bin/java /usr/lib/jvm/java-8-oracle/jre/bin/java /usr/lib/jvm/jdk-11.0.8/bin/java\r\n`. java11 is clearly on the path.\r\n\r\n`update-alternatives --config java` shows that the java11 is selected as default java.\r\n\r\n      Selection        Path                                     Priority   Status\r\n      -------------------------------------------------------------------------------\r\n         0            /usr/lib/jvm/java-8-oracle/jre/bin/java    1081      auto mode\r\n         1            /usr/lib/jvm/java-8-oracle/jre/bin/java    1081      manual mode\r\n       * 2            /usr/lib/jvm/jdk-11.0.8/bin/java           1         manual mode\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9yBv3.png\r\n","title":"Cytoscape 3.8.0 launches with errors and R package RCy3 not working with it","body":"<p>when I launch Cytoscape 3.8.0, i see following error message <a href=\"https://i.stack.imgur.com/9yBv3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9yBv3.png\" alt=\"Cytoscape 3.8.0 error\" /></a></p>\n<p>Then I looked into the task history and I see many errors as shown below,</p>\n<pre><code> couldn't find resource 'groupSettings.props' in jar.\n couldn't find resource 'layout.grid.props' in jar.\n couldn't find resource 'layout.hierarchical.props' in jar.\n couldn't find resource 'layout.circular.props' in jar.\n couldn't find resource 'layout.stacked-node-layout.props' in jar.\n couldn't find resource 'layout.attribute-circle.props' in jar.\n couldn't find resource 'layout.degree-circle.props' in jar.\n couldn't find resource 'layout.attributes-layout.props' in jar.\n couldn't find resource 'layout.kamada-kawai.props' in jar.\n couldn't find resource 'layout.fruchterman-rheingold.props' in jar.\n couldn't find resource 'layout.cose.props' in jar.\n couldn't find resource 'layout.isom.props' in jar.\n couldn't find resource 'layout.force-directed.props' in jar.\n couldn't find resource 'stringApp.props' in jar.\n couldn't find resource 'enrichmentmap.props' in jar.\n couldn't find resource 'layout.genemania-force-directed.props' in jar.\n</code></pre>\n<p>When I run <code>RCy3::cytoscapePing()</code> in R console, I see the following error</p>\n<pre><code>Error in curl::curl_fetch_memory(url, handle = handle) : \n  Failed to connect to localhost port 1234: Connection refused\n</code></pre>\n<p>However, Cytoscape 3.7.x launches smoothly and <code>RCy3::cytoscapePing()</code> produces <code>[1] &quot;You are connected to Cytoscape!&quot;</code>. RCy3 version is 2.4.6.\nTo me, it looks like a java error as Cytoscape 3.8.0 uses java11  and Cytoscape 3.7.x uses java 1.8. How to fix this error?</p>\n<p><code>whereis -b java</code> produces\n<code>java: /usr/bin/java /etc/java /usr/share/java /opt/jdk1.8.0_73/bin/java /usr/lib/jvm/java-8-oracle/bin/java /usr/lib/jvm/java-8-oracle/jre/bin/java /usr/lib/jvm/jdk-11.0.8/bin/java </code>. java11 is clearly on the path.</p>\n<p><code>update-alternatives --config java</code> shows that the java11 is selected as default java.</p>\n<pre><code>  Selection        Path                                     Priority   Status\n  -------------------------------------------------------------------------------\n     0            /usr/lib/jvm/java-8-oracle/jre/bin/java    1081      auto mode\n     1            /usr/lib/jvm/java-8-oracle/jre/bin/java    1081      manual mode\n   * 2            /usr/lib/jvm/jdk-11.0.8/bin/java           1         manual mode\n</code></pre>\n"},{"tags":["java","pentaho","embedding","pentaho-data-integration","pentaho-report-designer"],"owner":{"account_id":23049721,"reputation":11,"user_id":17166748,"display_name":"Shadow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684165580,"creation_date":1684165580,"question_id":76255801,"body_markdown":"I am trying to learn more about the functionality of pentaho reporting in general. I was looking for a way to implement custom classes for the available interfaces in pentaho. As of now, it would really help me if I can know how do I implement and make pentaho use my own LocalizationContext clas avalable in pentaho.library.formula. It uses DefaultLocalizationContext by default. \r\n\r\nI have tried adding an editableconfig in ClassicEngineBoot. and adding the class in libformula.properties","title":"Is there a way to make embedded pentaho reporting engine to use a custom Implementation of Localization Context?","body":"<p>I am trying to learn more about the functionality of pentaho reporting in general. I was looking for a way to implement custom classes for the available interfaces in pentaho. As of now, it would really help me if I can know how do I implement and make pentaho use my own LocalizationContext clas avalable in pentaho.library.formula. It uses DefaultLocalizationContext by default.</p>\n<p>I have tried adding an editableconfig in ClassicEngineBoot. and adding the class in libformula.properties</p>\n"},{"tags":["java","android","android-studio","kotlin","mobile"],"answers":[{"tags":[],"owner":{"account_id":3807206,"reputation":12673,"user_id":3159267,"display_name":"Rajan Kali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684165284,"creation_date":1684165284,"answer_id":76255758,"question_id":76254832,"body_markdown":"The reason your data is not loaded is because you are setting different instance of `adapter` to `recyclerview` and submitting list to different instance!\r\n```\r\nprivate fun loadingSimilarData(){\r\n    //remove reassigning adapter here\r\n    lifecycleScope.launch {\r\n        viewModel.movieSimilarList.collect{pagingData-&gt;\r\n            similarMovieAdapter.submitData(pagingData)\r\n        }\r\n    }\r\n\r\n}\r\nprivate fun similarMovieRv(){\r\n//remove val here and assign instance to class variable\r\n    similarMovieAdapter = SimilarMovieAdapter()\r\n    binding.similarMovieRv.apply {\r\n        layoutManager = LinearLayoutManager(requireContext(),LinearLayoutManager.HORIZONTAL,false)\r\n        adapter = similarMovieAdapter\r\n        setHasFixedSize(true)\r\n\r\n    }\r\n}\r\n```","title":"I can&#39;t show my data in the Recyclerview inside the fragment?","body":"<p>The reason your data is not loaded is because you are setting different instance of <code>adapter</code> to <code>recyclerview</code> and submitting list to different instance!</p>\n<pre><code>private fun loadingSimilarData(){\n    //remove reassigning adapter here\n    lifecycleScope.launch {\n        viewModel.movieSimilarList.collect{pagingData-&gt;\n            similarMovieAdapter.submitData(pagingData)\n        }\n    }\n\n}\nprivate fun similarMovieRv(){\n//remove val here and assign instance to class variable\n    similarMovieAdapter = SimilarMovieAdapter()\n    binding.similarMovieRv.apply {\n        layoutManager = LinearLayoutManager(requireContext(),LinearLayoutManager.HORIZONTAL,false)\n        adapter = similarMovieAdapter\n        setHasFixedSize(true)\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22479618,"reputation":5,"user_id":16678868,"display_name":"Berkay Sazak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76255758,"answer_count":1,"score":0,"last_activity_date":1684165284,"creation_date":1684158850,"question_id":76254832,"body_markdown":"Firstly It&#39;s my repo: https://github.com/Berkayszk/FiWoApp\r\n\r\nIn my application, I pull my data from Api and show it in Recyclerview with PagingData. I have created a similar section in the Details fragment and I am thinking of pulling my data by calling similar with the help of the Api in this part, but I see that my data is not loaded, no matter how hard I try, I cannot understand why this does not happen. I am trying to pull my data from a list in ViewModel to an adapter, but the data is not loaded.\r\n\r\nIt&#39;s my similarMovieAdapter\r\n\r\n    class SimilarMovieAdapter : PagingDataAdapter&lt;Result,SimilarMovieAdapter.SimilarMovieViewHolder&gt;(diffCallBack) {\r\n    class SimilarMovieViewHolder(val binding : PopularTvRowBinding): ViewHolder(binding.root)\r\n\r\n    companion object{\r\n        val diffCallBack = object : DiffUtil.ItemCallback&lt;com.example.fiwoapp.model.similarmovie.Result&gt;(){\r\n            override fun areItemsTheSame(oldItem: Result, newItem: Result): Boolean {\r\n                return oldItem.id==newItem.id\r\n            }\r\n\r\n            override fun areContentsTheSame(oldItem: Result, newItem: Result): Boolean {\r\n                return oldItem==newItem\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: SimilarMovieViewHolder, position: Int) {\r\n        val currentItem = getItem(position)\r\n        holder.binding.apply {\r\n            val imageLinkBackground = &quot;${Constants.IMAGE_BASE_UR}${currentItem!!.poster_path}&quot;\r\n            imageViewPoster.load(imageLinkBackground){\r\n                crossfade(1000)\r\n                crossfade(true)\r\n            }\r\n            movieName.text = currentItem.title\r\n\r\n        }\r\n    }\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): SimilarMovieViewHolder {\r\n        return SimilarMovieViewHolder(PopularTvRowBinding.inflate(LayoutInflater.from(parent.context),parent,false))\r\n    }\r\n\r\nThis is my DetailsFragment, RecyclerView is in DetailsFragment. Here I get my data from viewmodel, but when I open my application, no data is visible.\r\n\r\n\r\n\r\n     @AndroidEntryPoint\r\n    class MovieDetailsFragment : Fragment() {\r\n\r\n    private var _binding : FragmentMovieDetailsBinding?=null\r\n    private val binding get() = _binding!!\r\n    private var movieId = 0\r\n    private val viewModel: MovieViewModel by viewModels()\r\n    private val args : MovieDetailsFragmentArgs by navArgs()\r\n    private lateinit var similarMovieAdapter : SimilarMovieAdapter\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View {\r\n        // Inflate the layout for this fragment\r\n        _binding = FragmentMovieDetailsBinding.inflate(layoutInflater,container,false)\r\n        return binding.root\r\n\r\n\r\n    }\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        movieId = args.movieId\r\n        if (movieId&gt;0){\r\n            viewModel.loadDetailsMovie(movieId)\r\n        }\r\n    }\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n\r\n        similarMovieRv()\r\n        loadingSimilarData()\r\n        showData()\r\n\r\n\r\n    }\r\n\r\n    private fun loadingSimilarData(){\r\n        similarMovieAdapter = SimilarMovieAdapter()\r\n        lifecycleScope.launch {\r\n            viewModel.movieSimilarList.collect{pagingData-&gt;\r\n                similarMovieAdapter.submitData(pagingData)\r\n            }\r\n        }\r\n\r\n    }\r\n    private fun showDataSimilar(){\r\n\r\n    }\r\n\r\n    private fun showData(){\r\n        binding.apply {\r\n            viewModel.detailsMovie.observe(viewLifecycleOwner) {\r\n                val moviePosterUrlOrg = Constants.IMAGE_BASE_OR + it.backdrop_path\r\n                val moviePosterUrl = Constants.IMAGE_BASE_UR+it.poster_path\r\n                val studioPicture = Constants.IMAGE_BASE_UR+it.production_companies.get(0).logo_path\r\n                imageDetailOriginal.load(moviePosterUrlOrg){\r\n                    crossfade(true)\r\n                    crossfade(1000)\r\n                    scale(Scale.FILL)\r\n                }\r\n                imageViewPoster.load(moviePosterUrl){\r\n                    crossfade(1000)\r\n                    crossfade(true)\r\n                    scale(Scale.FILL)\r\n                }\r\n                studioImageView.load(studioPicture){\r\n                    crossfade(true)\r\n                    crossfade(1000)\r\n                    scale(Scale.FILL)\r\n                }\r\n                tagLineText.text = it.tagline\r\n                movieName.text = it.title\r\n                releaseDate.text = it.release_date\r\n                releaseDateInfo.text = &quot;${&quot;Revenue: &quot;+ it.revenue.toString()}&quot;\r\n                studioName.text = it.production_companies.get(0).name\r\n                subjectText.text = it.overview\r\n                runTimeText.text = &quot;${it.runtime.toString() +  &quot;min&quot;}&quot;\r\n                genreText.text = it.genres.get(0).name\r\n                countryText.text = it.production_countries.get(0).name\r\n                voteText.text = it.vote_average.toString()\r\n                voteTextAll.text = it.vote_count.toString()\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    private fun similarMovieRv(){\r\n        val similarMovieAdapter = SimilarMovieAdapter()\r\n        binding.similarMovieRv.apply {\r\n            layoutManager = LinearLayoutManager(requireContext(),LinearLayoutManager.HORIZONTAL,false)\r\n            adapter = similarMovieAdapter\r\n            setHasFixedSize(true)\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    override fun onDestroy() {\r\n        super.onDestroy()\r\n        _binding=null\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n","title":"I can&#39;t show my data in the Recyclerview inside the fragment?","body":"<p>Firstly It's my repo: <a href=\"https://github.com/Berkayszk/FiWoApp\" rel=\"nofollow noreferrer\">https://github.com/Berkayszk/FiWoApp</a></p>\n<p>In my application, I pull my data from Api and show it in Recyclerview with PagingData. I have created a similar section in the Details fragment and I am thinking of pulling my data by calling similar with the help of the Api in this part, but I see that my data is not loaded, no matter how hard I try, I cannot understand why this does not happen. I am trying to pull my data from a list in ViewModel to an adapter, but the data is not loaded.</p>\n<p>It's my similarMovieAdapter</p>\n<pre><code>class SimilarMovieAdapter : PagingDataAdapter&lt;Result,SimilarMovieAdapter.SimilarMovieViewHolder&gt;(diffCallBack) {\nclass SimilarMovieViewHolder(val binding : PopularTvRowBinding): ViewHolder(binding.root)\n\ncompanion object{\n    val diffCallBack = object : DiffUtil.ItemCallback&lt;com.example.fiwoapp.model.similarmovie.Result&gt;(){\n        override fun areItemsTheSame(oldItem: Result, newItem: Result): Boolean {\n            return oldItem.id==newItem.id\n        }\n\n        override fun areContentsTheSame(oldItem: Result, newItem: Result): Boolean {\n            return oldItem==newItem\n        }\n\n    }\n}\n\noverride fun onBindViewHolder(holder: SimilarMovieViewHolder, position: Int) {\n    val currentItem = getItem(position)\n    holder.binding.apply {\n        val imageLinkBackground = &quot;${Constants.IMAGE_BASE_UR}${currentItem!!.poster_path}&quot;\n        imageViewPoster.load(imageLinkBackground){\n            crossfade(1000)\n            crossfade(true)\n        }\n        movieName.text = currentItem.title\n\n    }\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): SimilarMovieViewHolder {\n    return SimilarMovieViewHolder(PopularTvRowBinding.inflate(LayoutInflater.from(parent.context),parent,false))\n}\n</code></pre>\n<p>This is my DetailsFragment, RecyclerView is in DetailsFragment. Here I get my data from viewmodel, but when I open my application, no data is visible.</p>\n<pre><code> @AndroidEntryPoint\nclass MovieDetailsFragment : Fragment() {\n\nprivate var _binding : FragmentMovieDetailsBinding?=null\nprivate val binding get() = _binding!!\nprivate var movieId = 0\nprivate val viewModel: MovieViewModel by viewModels()\nprivate val args : MovieDetailsFragmentArgs by navArgs()\nprivate lateinit var similarMovieAdapter : SimilarMovieAdapter\n\noverride fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View {\n    // Inflate the layout for this fragment\n    _binding = FragmentMovieDetailsBinding.inflate(layoutInflater,container,false)\n    return binding.root\n\n\n}\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    movieId = args.movieId\n    if (movieId&gt;0){\n        viewModel.loadDetailsMovie(movieId)\n    }\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n\n    similarMovieRv()\n    loadingSimilarData()\n    showData()\n\n\n}\n\nprivate fun loadingSimilarData(){\n    similarMovieAdapter = SimilarMovieAdapter()\n    lifecycleScope.launch {\n        viewModel.movieSimilarList.collect{pagingData-&gt;\n            similarMovieAdapter.submitData(pagingData)\n        }\n    }\n\n}\nprivate fun showDataSimilar(){\n\n}\n\nprivate fun showData(){\n    binding.apply {\n        viewModel.detailsMovie.observe(viewLifecycleOwner) {\n            val moviePosterUrlOrg = Constants.IMAGE_BASE_OR + it.backdrop_path\n            val moviePosterUrl = Constants.IMAGE_BASE_UR+it.poster_path\n            val studioPicture = Constants.IMAGE_BASE_UR+it.production_companies.get(0).logo_path\n            imageDetailOriginal.load(moviePosterUrlOrg){\n                crossfade(true)\n                crossfade(1000)\n                scale(Scale.FILL)\n            }\n            imageViewPoster.load(moviePosterUrl){\n                crossfade(1000)\n                crossfade(true)\n                scale(Scale.FILL)\n            }\n            studioImageView.load(studioPicture){\n                crossfade(true)\n                crossfade(1000)\n                scale(Scale.FILL)\n            }\n            tagLineText.text = it.tagline\n            movieName.text = it.title\n            releaseDate.text = it.release_date\n            releaseDateInfo.text = &quot;${&quot;Revenue: &quot;+ it.revenue.toString()}&quot;\n            studioName.text = it.production_companies.get(0).name\n            subjectText.text = it.overview\n            runTimeText.text = &quot;${it.runtime.toString() +  &quot;min&quot;}&quot;\n            genreText.text = it.genres.get(0).name\n            countryText.text = it.production_countries.get(0).name\n            voteText.text = it.vote_average.toString()\n            voteTextAll.text = it.vote_count.toString()\n\n        }\n\n    }\n}\n\nprivate fun similarMovieRv(){\n    val similarMovieAdapter = SimilarMovieAdapter()\n    binding.similarMovieRv.apply {\n        layoutManager = LinearLayoutManager(requireContext(),LinearLayoutManager.HORIZONTAL,false)\n        adapter = similarMovieAdapter\n        setHasFixedSize(true)\n\n    }\n\n\n}\n\n\n\noverride fun onDestroy() {\n    super.onDestroy()\n    _binding=null\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","html","itext","pdf-generation","itext7"],"owner":{"account_id":27735742,"reputation":11,"user_id":21173377,"display_name":"Tomas Sexenian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684164918,"creation_date":1684164918,"question_id":76255709,"body_markdown":"I&#39;m using itext7-core version 7.2.5 along with html2pdf version 4.0.5 to implement the following functionality on my Java web application that is intended for PDF generation: The user inputs a string holding HTML code and specifies a rectangular area of the page where the HTML must be rendered.\r\n\r\nI&#39;m using the *HtmlConverter.convertToElements(htmlString)* method to create a variable of type List\\&lt;IElement\\&gt; that holds the list of all the elements that must be rendered into the canvas.\r\n\r\n```\r\nfor (IElement element : elements){\r\n\tfloat padding = 5f;\r\n\tif (blockElement instanceof Paragraph){\r\n\t\tParagraph p = (Paragraph) blockElement;\r\n\r\n\t\t// calculate the height of the Paragraph\r\n\t\tfloat marginTop = (p.getMarginTop() != null) ? p.getMarginTop().getValue() : 0;\r\n\t\tfloat marginBottom = (p.getMarginBottom() != null) ? p.getMarginBottom().getValue() : 0;\r\n\t\tfloat paddingTop = (p.getPaddingTop() != null) ? p.getPaddingTop().getValue() : 0;\r\n\t\tfloat paddingBottom = (p.getPaddingBottom() != null) ? p.getPaddingBottom().getValue() : 0;\r\n\t\tfloat height = marginTop + marginBottom + paddingTop + paddingBottom;\r\n\r\n\t\t// check if the currentYPosition has enough space for the new Paragraph\r\n\t\tif ((currentYPosition.getCurrentYPosition() - height) &lt; htmlRectangle.getBottom()) {\r\n\t\t\t// add new page and reset the currentYPosition\r\n\t\t\tcanvas = new Canvas(new PdfCanvas(pdfDocument.addNewPage()), htmlRectangle);\r\n\t\t\tcurrentYPosition.setCurrentYPosition(htmlRectangle.getTop());\r\n\t\t}\r\n\r\n\t\tcanvas.showTextAligned(p, htmlRectangle.getLeft(), currentYPosition.getCurrentYPosition() - p.getMarginTop().getValue(), txtAlignment);\r\n\t\tcurrentYPosition.setCurrentYPosition(currentYPosition.getCurrentYPosition() - (height + padding));\r\n\t} else if (blockElement instanceof Div) {\r\n\t\tDiv div = (Div) blockElement;\r\n\t\t...\r\n\t} else if (blockElement instance of whatever){\r\n\t\t...\r\n\t} ...\r\n}\r\n```\r\n\r\nThat works but has two major restrictions\r\n\r\n- The styling of most of the elements is not preserved very well. For example \\&lt;h1\\&gt;Sample Heading\\&lt;/h1\\&gt; is not rendered as a big blod text but is instead rendered as a small, almost plain, text.\r\n\r\n- This approach involves a very long *else - if* chain to check for all possible HTML tags that the blockElement could be representing.\r\n\r\nI understand that my use case is very restricted as I cannot use *HtmlConverter.convertToPdf* because that creates a new document, while what I want is to add a small piece of HTML to an existing document. And I also can&#39;t just use the Document.add((IBlockElement)element) method because I want the element to be added to a specific location on the canvas.\r\n\r\nWith that said, is there a better way to do this?","title":"How to use iText7 to parse HTML into a list of elements than can be added to a PDF document while preserving styles?","body":"<p>I'm using itext7-core version 7.2.5 along with html2pdf version 4.0.5 to implement the following functionality on my Java web application that is intended for PDF generation: The user inputs a string holding HTML code and specifies a rectangular area of the page where the HTML must be rendered.</p>\n<p>I'm using the <em>HtmlConverter.convertToElements(htmlString)</em> method to create a variable of type List&lt;IElement&gt; that holds the list of all the elements that must be rendered into the canvas.</p>\n<pre><code>for (IElement element : elements){\n    float padding = 5f;\n    if (blockElement instanceof Paragraph){\n        Paragraph p = (Paragraph) blockElement;\n\n        // calculate the height of the Paragraph\n        float marginTop = (p.getMarginTop() != null) ? p.getMarginTop().getValue() : 0;\n        float marginBottom = (p.getMarginBottom() != null) ? p.getMarginBottom().getValue() : 0;\n        float paddingTop = (p.getPaddingTop() != null) ? p.getPaddingTop().getValue() : 0;\n        float paddingBottom = (p.getPaddingBottom() != null) ? p.getPaddingBottom().getValue() : 0;\n        float height = marginTop + marginBottom + paddingTop + paddingBottom;\n\n        // check if the currentYPosition has enough space for the new Paragraph\n        if ((currentYPosition.getCurrentYPosition() - height) &lt; htmlRectangle.getBottom()) {\n            // add new page and reset the currentYPosition\n            canvas = new Canvas(new PdfCanvas(pdfDocument.addNewPage()), htmlRectangle);\n            currentYPosition.setCurrentYPosition(htmlRectangle.getTop());\n        }\n\n        canvas.showTextAligned(p, htmlRectangle.getLeft(), currentYPosition.getCurrentYPosition() - p.getMarginTop().getValue(), txtAlignment);\n        currentYPosition.setCurrentYPosition(currentYPosition.getCurrentYPosition() - (height + padding));\n    } else if (blockElement instanceof Div) {\n        Div div = (Div) blockElement;\n        ...\n    } else if (blockElement instance of whatever){\n        ...\n    } ...\n}\n</code></pre>\n<p>That works but has two major restrictions</p>\n<ul>\n<li><p>The styling of most of the elements is not preserved very well. For example &lt;h1&gt;Sample Heading&lt;/h1&gt; is not rendered as a big blod text but is instead rendered as a small, almost plain, text.</p>\n</li>\n<li><p>This approach involves a very long <em>else - if</em> chain to check for all possible HTML tags that the blockElement could be representing.</p>\n</li>\n</ul>\n<p>I understand that my use case is very restricted as I cannot use <em>HtmlConverter.convertToPdf</em> because that creates a new document, while what I want is to add a small piece of HTML to an existing document. And I also can't just use the Document.add((IBlockElement)element) method because I want the element to be added to a specific location on the canvas.</p>\n<p>With that said, is there a better way to do this?</p>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":5,"creation_date":1282946230,"post_id":1240077,"comment_id":3765069,"body_markdown":"Enumeration was replaced by Iterator in Java 1.2 in 1998 and is retained for legacy support.  The real question is why you want to use it.  Possibly because you use a library which forces you to do so?","body":"Enumeration was replaced by Iterator in Java 1.2 in 1998 and is retained for legacy support.  The real question is why you want to use it.  Possibly because you use a library which forces you to do so?"},{"owner":{"account_id":6636,"reputation":224522,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"score":2,"creation_date":1283113181,"post_id":1240077,"comment_id":3774968,"body_markdown":"@Peter - yes, an external library is the answer.","body":"@Peter - yes, an external library is the answer."}],"answers":[{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":1,"up_vote_count":67,"is_accepted":true,"score":66,"last_activity_date":1684163999,"creation_date":1249576576,"answer_id":1240084,"question_id":1240077,"body_markdown":"Because [`Enumeration&lt;T&gt;`][1] doesn&#39;t extend [`Iterable&lt;T&gt;`][2]. Here is an [example of making Iterable Enumerations][3] using the adapter pattern.\r\n\r\nAs to why that&#39;s an interesting question. This isn&#39;t exactly your question but it sheds some light on it. From the [Java Collections API Design FAQ][4]:\r\n\r\n&gt; **Why doesn&#39;t Iterator extend Enumeration?**\r\n&gt; \r\n&gt; We view the method names for\r\n&gt; Enumeration as unfortunate. They&#39;re\r\n&gt; very long, and very frequently used.\r\n&gt; Given that we were adding a method and\r\n&gt; creating a whole new framework, we\r\n&gt; felt that it would be foolish not to\r\n&gt; take advantage of the opportunity to\r\n&gt; improve the names. Of course we could\r\n&gt; support the new and old names in\r\n&gt; Iterator, but it doesn&#39;t seem\r\n&gt; worthwhile.\r\n\r\nThat basically suggests to me that Sun wants to distance themselves from Enumeration, which is very early Java with quite a verbose syntax.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Enumeration.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/lang/Iterable.html\r\n  [3]: http://www.javaspecialists.eu/archive/Issue107.html\r\n  [4]: http://docs.oracle.com/javase/7/docs/technotes/guides/collections/designfaq.html","title":"Why can&#39;t I use foreach on Java Enumeration?","body":"<p>Because <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Enumeration.html\" rel=\"nofollow noreferrer\"><code>Enumeration&lt;T&gt;</code></a> doesn't extend <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Iterable.html\" rel=\"nofollow noreferrer\"><code>Iterable&lt;T&gt;</code></a>. Here is an <a href=\"http://www.javaspecialists.eu/archive/Issue107.html\" rel=\"nofollow noreferrer\">example of making Iterable Enumerations</a> using the adapter pattern.</p>\n<p>As to why that's an interesting question. This isn't exactly your question but it sheds some light on it. From the <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/collections/designfaq.html\" rel=\"nofollow noreferrer\">Java Collections API Design FAQ</a>:</p>\n<blockquote>\n<p><strong>Why doesn't Iterator extend Enumeration?</strong></p>\n<p>We view the method names for\nEnumeration as unfortunate. They're\nvery long, and very frequently used.\nGiven that we were adding a method and\ncreating a whole new framework, we\nfelt that it would be foolish not to\ntake advantage of the opportunity to\nimprove the names. Of course we could\nsupport the new and old names in\nIterator, but it doesn't seem\nworthwhile.</p>\n</blockquote>\n<p>That basically suggests to me that Sun wants to distance themselves from Enumeration, which is very early Java with quite a verbose syntax.</p>\n"},{"tags":[],"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1249587476,"creation_date":1249576743,"answer_id":1240100,"question_id":1240077,"body_markdown":"The new-style-for-loop (&quot;foreach&quot;) works on arrays, and things that implement the `Iterable` interface.\r\n\r\nIt&#39;s also more analogous to `Iterator` than to `Iterable`, so it wouldn&#39;t make sense for `Enumeration` to work with foreach unless `Iterator` did too (and it doesn&#39;t). \r\n`Enumeration` is also discouraged in favor of `Iterator`.","title":"Why can&#39;t I use foreach on Java Enumeration?","body":"<p>The new-style-for-loop (\"foreach\") works on arrays, and things that implement the <code>Iterable</code> interface.</p>\n\n<p>It's also more analogous to <code>Iterator</code> than to <code>Iterable</code>, so it wouldn't make sense for <code>Enumeration</code> to work with foreach unless <code>Iterator</code> did too (and it doesn't). \n<code>Enumeration</code> is also discouraged in favor of <code>Iterator</code>.</p>\n"},{"tags":[],"owner":{"account_id":12009,"reputation":4327,"user_id":23428,"accept_rate":83,"display_name":"Stroboskop"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1249576745,"creation_date":1249576745,"answer_id":1240101,"question_id":1240077,"body_markdown":"Because an Enumeration (and most classes derived from this interface) does not implement Iterable.\r\n\r\nYou can try to write your own wrapper class.","title":"Why can&#39;t I use foreach on Java Enumeration?","body":"<p>Because an Enumeration (and most classes derived from this interface) does not implement Iterable.</p>\n\n<p>You can try to write your own wrapper class.</p>\n"},{"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1684135879,"creation_date":1375237908,"answer_id":17960641,"question_id":1240077,"body_markdown":"I have solved this problem with two very simple classes, one for `Enumeration` and one for `Iterator`.  The enumeration wrapper is as follows:\r\n\r\n    static class IterableEnumeration&lt;T&gt;\r\n    extends Object\r\n    implements Iterable&lt;T&gt;, Iterator&lt;T&gt;\r\n    {\r\n    private final Enumeration&lt;T&gt;        enumeration;\r\n    private boolean                     used=false;\r\n\r\n    IterableEnumeration(final Enumeration&lt;T&gt; enm) {\r\n        enumeration=enm;\r\n        }\r\n\r\n    public Iterator&lt;T&gt; iterator() {\r\n        if(used) { throw new IllegalStateException(&quot;Cannot use iterator from asIterable wrapper more than once&quot;); }\r\n        used=true;\r\n        return this;\r\n        }\r\n\r\n    public boolean hasNext() { return enumeration.hasMoreElements(); }\r\n    public T       next()    { return enumeration.nextElement();     }\r\n    public void    remove()  { throw new UnsupportedOperationException(&quot;Cannot remove elements from AsIterator wrapper around Enumeration&quot;); }\r\n    }\r\n\r\nWhich can be used either with a static utility method (which is my preference):\r\n\r\n    /**\r\n     * Convert an `Enumeration&lt;T&gt;` to an `Iterable&lt;T&gt;` for a once-off use in an enhanced for loop.\r\n     */\r\n    static public &lt;T&gt; Iterable&lt;T&gt; asIterable(final Enumeration&lt;T&gt; enm) {\r\n        return new IterableEnumeration&lt;T&gt;(enm);\r\n        }\r\n\r\n    ...\r\n  \r\n    for(String val: Util.asIterable(enm)) {\r\n        ...\r\n        }\r\n\r\nor by instantiating the class:\r\n\r\n    for(String val: new IterableEnumeration&lt;String&gt;(enm)) {\r\n        ...\r\n        }\r\n","title":"Why can&#39;t I use foreach on Java Enumeration?","body":"<p>I have solved this problem with two very simple classes, one for <code>Enumeration</code> and one for <code>Iterator</code>.  The enumeration wrapper is as follows:</p>\n<pre><code>static class IterableEnumeration&lt;T&gt;\nextends Object\nimplements Iterable&lt;T&gt;, Iterator&lt;T&gt;\n{\nprivate final Enumeration&lt;T&gt;        enumeration;\nprivate boolean                     used=false;\n\nIterableEnumeration(final Enumeration&lt;T&gt; enm) {\n    enumeration=enm;\n    }\n\npublic Iterator&lt;T&gt; iterator() {\n    if(used) { throw new IllegalStateException(&quot;Cannot use iterator from asIterable wrapper more than once&quot;); }\n    used=true;\n    return this;\n    }\n\npublic boolean hasNext() { return enumeration.hasMoreElements(); }\npublic T       next()    { return enumeration.nextElement();     }\npublic void    remove()  { throw new UnsupportedOperationException(&quot;Cannot remove elements from AsIterator wrapper around Enumeration&quot;); }\n}\n</code></pre>\n<p>Which can be used either with a static utility method (which is my preference):</p>\n<pre><code>/**\n * Convert an `Enumeration&lt;T&gt;` to an `Iterable&lt;T&gt;` for a once-off use in an enhanced for loop.\n */\nstatic public &lt;T&gt; Iterable&lt;T&gt; asIterable(final Enumeration&lt;T&gt; enm) {\n    return new IterableEnumeration&lt;T&gt;(enm);\n    }\n\n...\n\nfor(String val: Util.asIterable(enm)) {\n    ...\n    }\n</code></pre>\n<p>or by instantiating the class:</p>\n<pre><code>for(String val: new IterableEnumeration&lt;String&gt;(enm)) {\n    ...\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1693831,"reputation":501,"user_id":1555669,"display_name":"user1555669"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1684163810,"creation_date":1393774432,"answer_id":22129586,"question_id":1240077,"body_markdown":"Using the `Collections` utility class, `Enumeration` can be made iterable like:\r\n\r\n```lang-java\r\nEnumeration headerValues=request.getHeaders(&quot;mycustomheader&quot;);\r\nList headerValuesList=Collections.list(headerValues);\r\n\r\nfor(Object headerValueObj:headerValuesList){\r\n ... do whatever you want to do with headerValueObj\r\n}\r\n```\r\n\r\nThis uses the [`Collections.list`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#list(java.util.Enumeration)) method, which copies the `Enumeration` data into a new `ArrayList`.\r\n\r\n&gt; Returns an array list containing the elements returned by the specified enumeration in the order they are returned by the enumeration. This method provides interoperability between legacy APIs that return enumerations and new APIs that require collections.","title":"Why can&#39;t I use foreach on Java Enumeration?","body":"<p>Using the <code>Collections</code> utility class, <code>Enumeration</code> can be made iterable like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Enumeration headerValues=request.getHeaders(&quot;mycustomheader&quot;);\nList headerValuesList=Collections.list(headerValues);\n\nfor(Object headerValueObj:headerValuesList){\n ... do whatever you want to do with headerValueObj\n}\n</code></pre>\n<p>This uses the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#list(java.util.Enumeration)\" rel=\"nofollow noreferrer\"><code>Collections.list</code></a> method, which copies the <code>Enumeration</code> data into a new <code>ArrayList</code>.</p>\n<blockquote>\n<p>Returns an array list containing the elements returned by the specified enumeration in the order they are returned by the enumeration. This method provides interoperability between legacy APIs that return enumerations and new APIs that require collections.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1478299879,"creation_date":1402575726,"answer_id":24184310,"question_id":1240077,"body_markdown":"`Enumeration` doesn&#39;t implement `Iterable` and as such can&#39;t be used directly in a foreach loop. However using [Apache Commons Collections][1] it&#39;s possible to iterate over an enumeration with:\r\n\r\n    for (Object o : new IteratorIterable(new EnumerationIterator(e))) {\r\n        ...\r\n    }\r\n\r\nYou could also use a shorter syntax with `Collections.list()` but this is less efficient (two iterations over the elements and more memory usage) :\r\n\r\n    for (Object o : Collections.list(e))) {\r\n        ...\r\n    }\r\n\r\n\r\n\r\n  [1]: http://commons.apache.org/collections","title":"Why can&#39;t I use foreach on Java Enumeration?","body":"<p><code>Enumeration</code> doesn't implement <code>Iterable</code> and as such can't be used directly in a foreach loop. However using <a href=\"http://commons.apache.org/collections\" rel=\"nofollow noreferrer\">Apache Commons Collections</a> it's possible to iterate over an enumeration with:</p>\n\n<pre><code>for (Object o : new IteratorIterable(new EnumerationIterator(e))) {\n    ...\n}\n</code></pre>\n\n<p>You could also use a shorter syntax with <code>Collections.list()</code> but this is less efficient (two iterations over the elements and more memory usage) :</p>\n\n<pre><code>for (Object o : Collections.list(e))) {\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1558707698,"creation_date":1558707698,"answer_id":56294570,"question_id":1240077,"body_markdown":"With java 8 and beyond this is possible:\r\n\r\n    import java.util.Collections;\r\n    import java.util.Enumeration;\r\n\r\n    Enumeration e = ...;\r\n    Collections.list(e).forEach(o -&gt; {\r\n        ... // use item &quot;o&quot;\r\n    });","title":"Why can&#39;t I use foreach on Java Enumeration?","body":"<p>With java 8 and beyond this is possible:</p>\n\n<pre><code>import java.util.Collections;\nimport java.util.Enumeration;\n\nEnumeration e = ...;\nCollections.list(e).forEach(o -&gt; {\n    ... // use item \"o\"\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683650867,"creation_date":1683650867,"answer_id":76211700,"question_id":1240077,"body_markdown":"The [`Enumeration`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Enumeration.html) legacy class is analogous to the modern [`Iterator`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Iterator.html) class.  Both represent a current iteration over data.\r\n\r\nThe enhanced for loop was designed to work with [`Iterable`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Iterable.html) and arrays, but notably _not_ with `Iterator`.  `Iterable` provides an [`iterator`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Iterable.html#iterator()) method, which returns an `Iterator` over its data.\r\n\r\nWhile it isn&#39;t possible to use the enhanced for loop with `Enumeration` or its modern `Iterator` equivalent, the [`forEachRemaining`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Iterator.html#forEachRemaining(java.util.function.Consumer)) method in `Iterator` (added in Java 8) provides similar functionality.  Combining with [`Enumeration.asIterator`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Enumeration.html#asIterator()) (added in Java 9) allows iterating over an enumeration in a similar manner as the enhanced for loop:\r\n\r\n```lang-java\r\nEnumeration&lt;Object&gt; e = ...\r\ne.asIterator().forEachRemaining(o -&gt; {\r\n  // ...\r\n});\r\n```","title":"Why can&#39;t I use foreach on Java Enumeration?","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Enumeration.html\" rel=\"nofollow noreferrer\"><code>Enumeration</code></a> legacy class is analogous to the modern <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Iterator.html\" rel=\"nofollow noreferrer\"><code>Iterator</code></a> class.  Both represent a current iteration over data.</p>\n<p>The enhanced for loop was designed to work with <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Iterable.html\" rel=\"nofollow noreferrer\"><code>Iterable</code></a> and arrays, but notably <em>not</em> with <code>Iterator</code>.  <code>Iterable</code> provides an <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Iterable.html#iterator()\" rel=\"nofollow noreferrer\"><code>iterator</code></a> method, which returns an <code>Iterator</code> over its data.</p>\n<p>While it isn't possible to use the enhanced for loop with <code>Enumeration</code> or its modern <code>Iterator</code> equivalent, the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Iterator.html#forEachRemaining(java.util.function.Consumer)\" rel=\"nofollow noreferrer\"><code>forEachRemaining</code></a> method in <code>Iterator</code> (added in Java 8) provides similar functionality.  Combining with <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Enumeration.html#asIterator()\" rel=\"nofollow noreferrer\"><code>Enumeration.asIterator</code></a> (added in Java 9) allows iterating over an enumeration in a similar manner as the enhanced for loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Enumeration&lt;Object&gt; e = ...\ne.asIterator().forEachRemaining(o -&gt; {\n  // ...\n});\n</code></pre>\n"}],"owner":{"account_id":6636,"reputation":224522,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72898,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":1240084,"answer_count":8,"score":79,"last_activity_date":1684163999,"creation_date":1249576482,"question_id":1240077,"body_markdown":"Why can&#39;t I do:\r\n\r\n    Enumeration e = ...\r\n    for (Object o : e)\r\n      ...","title":"Why can&#39;t I use foreach on Java Enumeration?","body":"<p>Why can't I do:</p>\n\n<pre><code>Enumeration e = ...\nfor (Object o : e)\n  ...\n</code></pre>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":81168,"reputation":234336,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"score":1,"creation_date":1684163866,"post_id":76255299,"comment_id":134473208,"body_markdown":"This has nothing to do with Vue or or the front-end. Your Java process is out of memory.","body":"This has nothing to do with Vue or or the front-end. Your Java process is out of memory."},{"owner":{"account_id":27430794,"reputation":23,"user_id":20927545,"display_name":"Mass Mak"},"score":0,"creation_date":1684165036,"post_id":76255299,"comment_id":134473566,"body_markdown":"yes this message is for the backend. but in the frontend too i have problems in case the backend has no problem the frontend stops when it tries to display a lot of data and the web page flatlines completely.","body":"yes this message is for the backend. but in the frontend too i have problems in case the backend has no problem the frontend stops when it tries to display a lot of data and the web page flatlines completely."}],"answers":[{"tags":[],"owner":{"account_id":1434440,"reputation":5177,"user_id":1356141,"accept_rate":75,"display_name":"Marc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684163709,"creation_date":1684163709,"answer_id":76255521,"question_id":76255299,"body_markdown":"A virtual list scroll lib might help with this, you will have to find something suitable for your needs. Here is a link to the general concept (this one demos using react but you are looking for a similar thing):\r\n\r\nhttps://blog.logrocket.com/virtual-scrolling-core-principles-and-basic-implementation-in-react/\r\n\r\n---\r\n\r\nIf the amount of data is simply too much to load in the first place, I would introduce pagination and use the page position to read a and return a limited range of the original source.\r\n\r\nPerhaps parse the entire file and hold it in memory as a set of records you can page. Try reading up on large data iteration patterns like this:\r\n\r\nhttps://www.baeldung.com/spring-data-jpa-iterate-large-result-sets","title":"how can I display the data contained in a JSON file in my web page using : (vuejs) (springboot)","body":"<p>A virtual list scroll lib might help with this, you will have to find something suitable for your needs. Here is a link to the general concept (this one demos using react but you are looking for a similar thing):</p>\n<p><a href=\"https://blog.logrocket.com/virtual-scrolling-core-principles-and-basic-implementation-in-react/\" rel=\"nofollow noreferrer\">https://blog.logrocket.com/virtual-scrolling-core-principles-and-basic-implementation-in-react/</a></p>\n<hr />\n<p>If the amount of data is simply too much to load in the first place, I would introduce pagination and use the page position to read a and return a limited range of the original source.</p>\n<p>Perhaps parse the entire file and hold it in memory as a set of records you can page. Try reading up on large data iteration patterns like this:</p>\n<p><a href=\"https://www.baeldung.com/spring-data-jpa-iterate-large-result-sets\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-iterate-large-result-sets</a></p>\n"}],"owner":{"account_id":27430794,"reputation":23,"user_id":20927545,"display_name":"Mass Mak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684163852,"creation_date":1684162300,"question_id":76255299,"body_markdown":"I&#39;m trying to display data from a JSON file on a web page. I&#39;m using a Spring Boot backend to send the streaming data to vue Js which displays it in an array.\r\n\r\n**My Spring Boot code :** \r\n\r\n    @RequestMapping(value = &quot;/getData&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n    public ResponseEntity&lt;StreamingResponseBody&gt; getData() throws IOException {\r\n        Path filePath = Paths.get(&quot;My_Data.json&quot;);\r\n        InputStream inputStream = Files.newInputStream(filePath);\r\n        StreamingResponseBody responseBody = outputStream -&gt; {\r\n            byte[] buffer = new byte[1024];\r\n            int bytesRead;\r\n            while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n                outputStream.write(buffer, 0, bytesRead);\r\n            }\r\n            inputStream.close();\r\n        };\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.TEXT_EVENT_STREAM);\r\n        return new ResponseEntity&lt;&gt;(responseBody, headers, HttpStatus.OK);\r\n    }\r\n\r\n**My vuejs code :** \r\n\r\n       AffichageData() {\r\n      axios\r\n        .get(&#39;http://localhost:8080/apii/getData&#39;)\r\n        .then((response) =&gt; {\r\n          this.items = response.data\r\n          console.log(&#39;la reponse est&#39;, response)\r\n        })\r\n        .catch((error) =&gt; {\r\n          console.log(error)\r\n        })\r\n    },\r\n\r\nTo display my data  : \r\n\r\n    &lt;table class=&quot;content-table&quot;&gt;\r\n      &lt;thead&gt;\r\n        &lt;tr&gt;\r\n          &lt;th&gt;Data1&lt;/th&gt;\r\n          &lt;th&gt;Data2&lt;/th&gt;\r\n          &lt;th&gt;Data3&lt;/th&gt;\r\n          &lt;th&gt;Data4&lt;/th&gt;\r\n          &lt;th&gt;Data5&lt;/th&gt;\r\n          &lt;th&gt;Data6&lt;/th&gt;\r\n          &lt;th&gt;More&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n      &lt;/thead&gt;\r\n      &lt;tbody v-for=&quot;item in items&quot; :key=&quot;item.id&quot;&gt;\r\n        &lt;tr&gt;\r\n          &lt;td&gt;{{ item.Data1 }}&lt;/td&gt;\r\n          &lt;td&gt;{{ item.Data2 }}&lt;/td&gt;\r\n          &lt;td&gt;{{ item.Data3 }}&lt;/td&gt;\r\n          &lt;td&gt;{{ item.Data4 }}&lt;/td&gt;\r\n          &lt;td&gt;{{ item.Data5 }}&lt;/td&gt;\r\n          &lt;td&gt;{{ item.Data6 }}&lt;/td&gt;\r\n          &lt;td&gt;\r\n            &lt;button id=&quot;MoreInfo&quot; v-on:click=&quot;afficher(item)&quot;&gt;&lt;a href=&quot;/Detail&quot;&gt;...&lt;/a&gt;&lt;/button&gt;\r\n          &lt;/td&gt;\r\n        &lt;/tr&gt;\r\n      &lt;/tbody&gt;\r\n    &lt;/table&gt;\r\n\r\nIt works but for files that are not very big. I have files that are bigger than 210 MB and for these files the display freezes.\r\n\r\n&gt; org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.OutOfMemoryError: Java heap space\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087) ~[spring-webmvc-5.3.27.jar:5.3.27]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]\r\n.......\r\n&gt; \r\n&gt; Caused by: java.lang.OutOfMemoryError: Java heap space\r\n\tat java.util.Arrays.copyOf(Arrays.java:3537) ~[?:?]\r\n\tat java.lang.AbstractStringBuilder.ensureCapacityInternal(AbstractStringBuilder.java:228) ~[?:?]\r\n\tat java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:740) ~[?:?]\r\n......\r\n\r\nIf anyone has a solution of how I can display and solve this problem? and how I can display the data on multiple pages instead of all displaying on one ?\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"how can I display the data contained in a JSON file in my web page using : (vuejs) (springboot)","body":"<p>I'm trying to display data from a JSON file on a web page. I'm using a Spring Boot backend to send the streaming data to vue Js which displays it in an array.</p>\n<p><strong>My Spring Boot code :</strong></p>\n<pre><code>@RequestMapping(value = &quot;/getData&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\npublic ResponseEntity&lt;StreamingResponseBody&gt; getData() throws IOException {\n    Path filePath = Paths.get(&quot;My_Data.json&quot;);\n    InputStream inputStream = Files.newInputStream(filePath);\n    StreamingResponseBody responseBody = outputStream -&gt; {\n        byte[] buffer = new byte[1024];\n        int bytesRead;\n        while ((bytesRead = inputStream.read(buffer)) != -1) {\n            outputStream.write(buffer, 0, bytesRead);\n        }\n        inputStream.close();\n    };\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.TEXT_EVENT_STREAM);\n    return new ResponseEntity&lt;&gt;(responseBody, headers, HttpStatus.OK);\n}\n</code></pre>\n<p><strong>My vuejs code :</strong></p>\n<pre><code>   AffichageData() {\n  axios\n    .get('http://localhost:8080/apii/getData')\n    .then((response) =&gt; {\n      this.items = response.data\n      console.log('la reponse est', response)\n    })\n    .catch((error) =&gt; {\n      console.log(error)\n    })\n},\n</code></pre>\n<p>To display my data  :</p>\n<pre><code>&lt;table class=&quot;content-table&quot;&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th&gt;Data1&lt;/th&gt;\n      &lt;th&gt;Data2&lt;/th&gt;\n      &lt;th&gt;Data3&lt;/th&gt;\n      &lt;th&gt;Data4&lt;/th&gt;\n      &lt;th&gt;Data5&lt;/th&gt;\n      &lt;th&gt;Data6&lt;/th&gt;\n      &lt;th&gt;More&lt;/th&gt;\n    &lt;/tr&gt;\n  &lt;/thead&gt;\n  &lt;tbody v-for=&quot;item in items&quot; :key=&quot;item.id&quot;&gt;\n    &lt;tr&gt;\n      &lt;td&gt;{{ item.Data1 }}&lt;/td&gt;\n      &lt;td&gt;{{ item.Data2 }}&lt;/td&gt;\n      &lt;td&gt;{{ item.Data3 }}&lt;/td&gt;\n      &lt;td&gt;{{ item.Data4 }}&lt;/td&gt;\n      &lt;td&gt;{{ item.Data5 }}&lt;/td&gt;\n      &lt;td&gt;{{ item.Data6 }}&lt;/td&gt;\n      &lt;td&gt;\n        &lt;button id=&quot;MoreInfo&quot; v-on:click=&quot;afficher(item)&quot;&gt;&lt;a href=&quot;/Detail&quot;&gt;...&lt;/a&gt;&lt;/button&gt;\n      &lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n<p>It works but for files that are not very big. I have files that are bigger than 210 MB and for these files the display freezes.</p>\n<blockquote>\n<p>org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.OutOfMemoryError: Java heap space\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1087) ~[spring-webmvc-5.3.27.jar:5.3.27]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.27.jar:5.3.27]\n.......</p>\n<p>Caused by: java.lang.OutOfMemoryError: Java heap space\nat java.util.Arrays.copyOf(Arrays.java:3537) ~[?:?]\nat java.lang.AbstractStringBuilder.ensureCapacityInternal(AbstractStringBuilder.java:228) ~[?:?]\nat java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:740) ~[?:?]\n......</p>\n</blockquote>\n<p>If anyone has a solution of how I can display and solve this problem? and how I can display the data on multiple pages instead of all displaying on one ?</p>\n"},{"tags":["java","spring-boot","docker","maven"],"owner":{"account_id":18608482,"reputation":88,"user_id":13561545,"display_name":"Vikingslord"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684163489,"creation_date":1684163489,"question_id":76255484,"body_markdown":"I was trying to add Docker Image Configuration to my pom.xml file but i am getting **Cannot resolve symbol &#39;app.image.tag&#39;** error while trying to add the `${app.image.tag}` to the `&lt;image&gt;&lt;/image&gt;` tag. \r\n\r\nHere is the code:\r\n\r\n```\r\n&lt;executions&gt;\r\n   &lt;execution&gt;\r\n     &lt;id&gt;push-custom-tag&lt;/id&gt;\r\n     &lt;configuration&gt;\r\n       &lt;to&gt;\r\n         &lt;image&gt;docker.io/vikinglsord98/${app.image.name}:${app.image.tag}&lt;/image&gt;\r\n       &lt;/to&gt;\r\n     &lt;/configuration&gt;\r\n     &lt;goals&gt;\r\n       &lt;goal&gt;build&lt;/goal&gt;\r\n     &lt;/goals&gt;\r\n &lt;/execution&gt;\r\n```\r\n\r\n\r\nI have tried searching online but couldn&#39;t find anything relating to this error for Spring Boot. ","title":"Cannot resolve symbol &#39;app.image.tag&#39; error for spring boot maven project","body":"<p>I was trying to add Docker Image Configuration to my pom.xml file but i am getting <strong>Cannot resolve symbol 'app.image.tag'</strong> error while trying to add the <code>${app.image.tag}</code> to the <code>&lt;image&gt;&lt;/image&gt;</code> tag.</p>\n<p>Here is the code:</p>\n<pre><code>&lt;executions&gt;\n   &lt;execution&gt;\n     &lt;id&gt;push-custom-tag&lt;/id&gt;\n     &lt;configuration&gt;\n       &lt;to&gt;\n         &lt;image&gt;docker.io/vikinglsord98/${app.image.name}:${app.image.tag}&lt;/image&gt;\n       &lt;/to&gt;\n     &lt;/configuration&gt;\n     &lt;goals&gt;\n       &lt;goal&gt;build&lt;/goal&gt;\n     &lt;/goals&gt;\n &lt;/execution&gt;\n</code></pre>\n<p>I have tried searching online but couldn't find anything relating to this error for Spring Boot.</p>\n"},{"tags":["java","android","kotlin","webp"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1684154917,"post_id":76254207,"comment_id":134470958,"body_markdown":"https://developers.google.com/speed/webp/docs/riff_container explains the format.","body":"<a href=\"https://developers.google.com/speed/webp/docs/riff_container\" rel=\"nofollow noreferrer\">developers.google.com/speed/webp/docs/riff_container</a> explains the format."}],"answers":[{"tags":[],"owner":{"account_id":28605355,"reputation":16,"user_id":21901410,"display_name":"t2techno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684163389,"creation_date":1684155241,"answer_id":76254288,"question_id":76254207,"body_markdown":"Based on the [official documentation](https://developers.google.com/speed/webp/docs/riff_container#extended_file_format), it looks like it can be found right after the Reserved section of the header.","title":"The width and height of a webp image are stored in which byte","body":"<p>Based on the <a href=\"https://developers.google.com/speed/webp/docs/riff_container#extended_file_format\" rel=\"nofollow noreferrer\">official documentation</a>, it looks like it can be found right after the Reserved section of the header.</p>\n"}],"owner":{"account_id":26048913,"reputation":1,"user_id":19752508,"display_name":"ke le"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76254288,"answer_count":1,"score":-1,"last_activity_date":1684163389,"creation_date":1684154687,"question_id":76254207,"body_markdown":"I want to get the width and height of the webp image in the gradle plugin, so I want to translate the bytes into width and height by finding the byte position where the width and height are located\r\n\r\nnothing,I can&#39;t find the file format for webp","title":"The width and height of a webp image are stored in which byte","body":"<p>I want to get the width and height of the webp image in the gradle plugin, so I want to translate the bytes into width and height by finding the byte position where the width and height are located</p>\n<p>nothing,I can't find the file format for webp</p>\n"},{"tags":["java","jackson","micronaut","micronaut-data","micronaut-serde"],"comments":[{"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"score":1,"creation_date":1683991556,"post_id":76243021,"comment_id":134452841,"body_markdown":"You need to add more details. Please show your Controller and the Java type (class) you want to serialize with Micronaut Serde.","body":"You need to add more details. Please show your Controller and the Java type (class) you want to serialize with Micronaut Serde."},{"owner":{"account_id":26071740,"reputation":35,"user_id":19771288,"display_name":"user19771288"},"score":0,"creation_date":1684146830,"post_id":76243021,"comment_id":134469131,"body_markdown":"I&#39;ve added all relevant classes to the original question.","body":"I&#39;ve added all relevant classes to the original question."}],"answers":[{"tags":[],"owner":{"account_id":1200295,"reputation":603,"user_id":1171094,"display_name":"Denis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684163353,"creation_date":1684163353,"answer_id":76255464,"question_id":76243021,"body_markdown":"You can use a custom serializer:\r\n```java\r\n@Prototype\r\nfinal class DefaultPageSerializer implements Serializer&lt;DefaultPage&lt;Object&gt;&gt; {\r\n\r\n    @Override\r\n    public void serialize(Encoder encoder, EncoderContext context, Argument&lt;? extends DefaultPage&lt;Object&gt;&gt; type, DefaultPage&lt;Object&gt; page) throws IOException {\r\n        Encoder e = encoder.encodeObject(type);\r\n\r\n        e.encodeKey(&quot;content&quot;);\r\n        Argument&lt;List&lt;Object&gt;&gt; contentType = Argument.listOf((Argument&lt;Object&gt;) type.getFirstTypeVariable().orElse(Argument.OBJECT_ARGUMENT));\r\n        context.findSerializer(contentType)\r\n            .createSpecific(context, contentType)\r\n            .serialize(e, context, contentType, page.getContent());\r\n\r\n        e.encodeKey(&quot;pageable&quot;);\r\n        Argument&lt;Pageable&gt; pageable = Argument.of(Pageable.class);\r\n        context.findSerializer(pageable)\r\n            .createSpecific(context, pageable)\r\n            .serialize(e, context, pageable, page.getPageable());\r\n\r\n        e.encodeKey(&quot;totalSize&quot;);\r\n        e.encodeLong(page.getTotalSize());\r\n\r\n        e.finishStructure();\r\n    }\r\n}\r\n```\r\nThis should be fixed in Micronaut 4.","title":"Micronaut&#39;s Page used as a controller method return type is serialized without Page properties","body":"<p>You can use a custom serializer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Prototype\nfinal class DefaultPageSerializer implements Serializer&lt;DefaultPage&lt;Object&gt;&gt; {\n\n    @Override\n    public void serialize(Encoder encoder, EncoderContext context, Argument&lt;? extends DefaultPage&lt;Object&gt;&gt; type, DefaultPage&lt;Object&gt; page) throws IOException {\n        Encoder e = encoder.encodeObject(type);\n\n        e.encodeKey(&quot;content&quot;);\n        Argument&lt;List&lt;Object&gt;&gt; contentType = Argument.listOf((Argument&lt;Object&gt;) type.getFirstTypeVariable().orElse(Argument.OBJECT_ARGUMENT));\n        context.findSerializer(contentType)\n            .createSpecific(context, contentType)\n            .serialize(e, context, contentType, page.getContent());\n\n        e.encodeKey(&quot;pageable&quot;);\n        Argument&lt;Pageable&gt; pageable = Argument.of(Pageable.class);\n        context.findSerializer(pageable)\n            .createSpecific(context, pageable)\n            .serialize(e, context, pageable, page.getPageable());\n\n        e.encodeKey(&quot;totalSize&quot;);\n        e.encodeLong(page.getTotalSize());\n\n        e.finishStructure();\n    }\n}\n</code></pre>\n<p>This should be fixed in Micronaut 4.</p>\n"}],"owner":{"account_id":26071740,"reputation":35,"user_id":19771288,"display_name":"user19771288"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76255464,"answer_count":1,"score":1,"last_activity_date":1684163353,"creation_date":1683985211,"question_id":76243021,"body_markdown":"I&#39;m trying to implement a simple paged API using Micronaut 3.7.9, with micronaut-serde-jackson and I&#39;ve encountered an issue with how my response is serialized, as Page properties are not included. My controller method return type is io.micronaut.data.model.Page.\r\n\r\n\r\nInstead of getting a response looking like this (example response generated with micronaut-openapi&#39;s swagger):\r\n\r\n```\r\n{\r\n  &quot;content&quot;: [\r\n  {\r\n    &quot;id&quot;: 0,\r\n    &quot;name&quot;: &quot;Group1&quot;\r\n  }\r\n  ],\r\n  &quot;pageable&quot;: {\r\n    &quot;orderBy&quot;: [\r\n      {\r\n        &quot;ignoreCase&quot;: true,\r\n        &quot;direction&quot;: &quot;ASC&quot;,\r\n        &quot;property&quot;: &quot;string&quot;,\r\n        &quot;ascending&quot;: true\r\n      }\r\n    ],\r\n    &quot;number&quot;: 0,\r\n    &quot;size&quot;: 0,\r\n    &quot;sort&quot;: {\r\n      &quot;orderBy&quot;: [\r\n        {\r\n          &quot;ignoreCase&quot;: true,\r\n          &quot;direction&quot;: &quot;ASC&quot;,\r\n          &quot;property&quot;: &quot;string&quot;,\r\n          &quot;ascending&quot;: true\r\n        }\r\n      ]\r\n    },\r\n    &quot;sorted&quot;: true\r\n  },\r\n  &quot;pageNumber&quot;: 0,\r\n  &quot;offset&quot;: 0,\r\n  &quot;size&quot;: 0,\r\n  &quot;empty&quot;: true,\r\n  &quot;numberOfElements&quot;: 0,\r\n  &quot;totalSize&quot;: 0,\r\n  &quot;totalPages&quot;: 0\r\n}\r\n```\r\n\r\nI&#39;m getting just the plain array of the items from pageable&#39;s content array:\r\n\r\n\r\n```\r\n[\r\n  {\r\n    &quot;id&quot;: 0,\r\n    &quot;name&quot;: &quot;Group1&quot;\r\n  }\r\n]\r\n```\r\n\r\nI&#39;ve traced this issue back to the io.micronaut.serde.support.DefaultSerdeRegistry&#39;s findSerializer method which returns a io.micronaut.serde.support.serializers.IterableSerializer for a Page instance (which is understandable as Page effectively implements Iterable). \r\n\r\nI&#39;m wondering if there is a way to configure Serde to serialize Pageable with its instance fields (size, totalPages etc.), other than creating a custom Page which does not inherit from Iterable or registering own Serializer instance especially for io.micronaut.data.model.Page?\r\n\r\n[EDIT]\r\nRelevant classes:\r\n\r\n**Page:**\r\n\r\nhttps://github.com/micronaut-projects/micronaut-data/blob/master/data-model/src/main/java/io/micronaut/data/model/Page.java\r\n\r\n\r\n**Repository:**\r\n\r\n    package org.example.repository;\r\n    \r\n    import io.micronaut.data.annotation.Repository;\r\n    import io.micronaut.data.repository.PageableRepository;\r\n    import org.example.model.Group;\r\n    \r\n    @Repository\r\n    public interface GroupRepository extends PageableRepository&lt;Group, Long&gt; {\r\n    }\r\n\r\n**Service:**\r\n\r\n    package org.example.service;\r\n    \r\n    import io.micronaut.data.model.Page;\r\n    import io.micronaut.data.model.Pageable;\r\n    import jakarta.inject.Singleton;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.example.dto.GroupDto;\r\n    import org.example.repository.GroupRepository;\r\n    \r\n    @Singleton\r\n    @RequiredArgsConstructor\r\n    public class GroupService {\r\n        private final GroupRepository groupRepository;\r\n    \r\n        public Page&lt;GroupDto&gt; findAllGroups(Pageable pageable) {\r\n            return groupRepository.findAll(pageable).map(GroupDto::from);\r\n        }\r\n    }\r\n\r\n**Controller:**\r\n\r\n    package org.example.controller;\r\n    \r\n    import io.micronaut.data.model.Page;\r\n    import io.micronaut.data.model.Pageable;\r\n    import io.micronaut.http.annotation.Controller;\r\n    import io.micronaut.http.annotation.Get;\r\n    import io.swagger.v3.oas.annotations.Parameter;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.example.dto.GroupDto;\r\n    import org.example.service.GroupService;\r\n    \r\n    @Controller(&quot;/groups&quot;)\r\n    @RequiredArgsConstructor\r\n    public class GroupController {\r\n        private final GroupService groupService;\r\n    \r\n        @Get\r\n        public Page&lt;GroupDto&gt; findAllGroups(@Parameter(hidden = true) Pageable pageable) {\r\n            return groupService.findAllGroups(pageable);\r\n        }\r\n    }\r\n\r\n**DTO**\r\n\r\n    package org.example.dto;\r\n    \r\n    import io.micronaut.serde.annotation.Serdeable;\r\n    import org.example.model.Group;\r\n    \r\n    @Serdeable\r\n    public record GroupDto(Long id, String name, int version) {\r\n        public static GroupDto from(Group group) {\r\n            return new GroupDto(group.getId(), group.getName(), group.getVersion());\r\n        }\r\n    }\r\n\r\n**Entity:**\r\n\r\n    package org.example.model;\r\n    \r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;_group&quot;)\r\n    @NoArgsConstructor @Getter @Setter\r\n    public class Group {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n        private Long id;\r\n        private String name;\r\n        @Version\r\n        private int version;\r\n    }\r\n\r\n\r\n","title":"Micronaut&#39;s Page used as a controller method return type is serialized without Page properties","body":"<p>I'm trying to implement a simple paged API using Micronaut 3.7.9, with micronaut-serde-jackson and I've encountered an issue with how my response is serialized, as Page properties are not included. My controller method return type is io.micronaut.data.model.Page.</p>\n<p>Instead of getting a response looking like this (example response generated with micronaut-openapi's swagger):</p>\n<pre><code>{\n  &quot;content&quot;: [\n  {\n    &quot;id&quot;: 0,\n    &quot;name&quot;: &quot;Group1&quot;\n  }\n  ],\n  &quot;pageable&quot;: {\n    &quot;orderBy&quot;: [\n      {\n        &quot;ignoreCase&quot;: true,\n        &quot;direction&quot;: &quot;ASC&quot;,\n        &quot;property&quot;: &quot;string&quot;,\n        &quot;ascending&quot;: true\n      }\n    ],\n    &quot;number&quot;: 0,\n    &quot;size&quot;: 0,\n    &quot;sort&quot;: {\n      &quot;orderBy&quot;: [\n        {\n          &quot;ignoreCase&quot;: true,\n          &quot;direction&quot;: &quot;ASC&quot;,\n          &quot;property&quot;: &quot;string&quot;,\n          &quot;ascending&quot;: true\n        }\n      ]\n    },\n    &quot;sorted&quot;: true\n  },\n  &quot;pageNumber&quot;: 0,\n  &quot;offset&quot;: 0,\n  &quot;size&quot;: 0,\n  &quot;empty&quot;: true,\n  &quot;numberOfElements&quot;: 0,\n  &quot;totalSize&quot;: 0,\n  &quot;totalPages&quot;: 0\n}\n</code></pre>\n<p>I'm getting just the plain array of the items from pageable's content array:</p>\n<pre><code>[\n  {\n    &quot;id&quot;: 0,\n    &quot;name&quot;: &quot;Group1&quot;\n  }\n]\n</code></pre>\n<p>I've traced this issue back to the io.micronaut.serde.support.DefaultSerdeRegistry's findSerializer method which returns a io.micronaut.serde.support.serializers.IterableSerializer for a Page instance (which is understandable as Page effectively implements Iterable).</p>\n<p>I'm wondering if there is a way to configure Serde to serialize Pageable with its instance fields (size, totalPages etc.), other than creating a custom Page which does not inherit from Iterable or registering own Serializer instance especially for io.micronaut.data.model.Page?</p>\n<p>[EDIT]\nRelevant classes:</p>\n<p><strong>Page:</strong></p>\n<p><a href=\"https://github.com/micronaut-projects/micronaut-data/blob/master/data-model/src/main/java/io/micronaut/data/model/Page.java\" rel=\"nofollow noreferrer\">https://github.com/micronaut-projects/micronaut-data/blob/master/data-model/src/main/java/io/micronaut/data/model/Page.java</a></p>\n<p><strong>Repository:</strong></p>\n<pre><code>package org.example.repository;\n\nimport io.micronaut.data.annotation.Repository;\nimport io.micronaut.data.repository.PageableRepository;\nimport org.example.model.Group;\n\n@Repository\npublic interface GroupRepository extends PageableRepository&lt;Group, Long&gt; {\n}\n</code></pre>\n<p><strong>Service:</strong></p>\n<pre><code>package org.example.service;\n\nimport io.micronaut.data.model.Page;\nimport io.micronaut.data.model.Pageable;\nimport jakarta.inject.Singleton;\nimport lombok.RequiredArgsConstructor;\nimport org.example.dto.GroupDto;\nimport org.example.repository.GroupRepository;\n\n@Singleton\n@RequiredArgsConstructor\npublic class GroupService {\n    private final GroupRepository groupRepository;\n\n    public Page&lt;GroupDto&gt; findAllGroups(Pageable pageable) {\n        return groupRepository.findAll(pageable).map(GroupDto::from);\n    }\n}\n</code></pre>\n<p><strong>Controller:</strong></p>\n<pre><code>package org.example.controller;\n\nimport io.micronaut.data.model.Page;\nimport io.micronaut.data.model.Pageable;\nimport io.micronaut.http.annotation.Controller;\nimport io.micronaut.http.annotation.Get;\nimport io.swagger.v3.oas.annotations.Parameter;\nimport lombok.RequiredArgsConstructor;\nimport org.example.dto.GroupDto;\nimport org.example.service.GroupService;\n\n@Controller(&quot;/groups&quot;)\n@RequiredArgsConstructor\npublic class GroupController {\n    private final GroupService groupService;\n\n    @Get\n    public Page&lt;GroupDto&gt; findAllGroups(@Parameter(hidden = true) Pageable pageable) {\n        return groupService.findAllGroups(pageable);\n    }\n}\n</code></pre>\n<p><strong>DTO</strong></p>\n<pre><code>package org.example.dto;\n\nimport io.micronaut.serde.annotation.Serdeable;\nimport org.example.model.Group;\n\n@Serdeable\npublic record GroupDto(Long id, String name, int version) {\n    public static GroupDto from(Group group) {\n        return new GroupDto(group.getId(), group.getName(), group.getVersion());\n    }\n}\n</code></pre>\n<p><strong>Entity:</strong></p>\n<pre><code>package org.example.model;\n\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.*;\n\n@Entity\n@Table(name = &quot;_group&quot;)\n@NoArgsConstructor @Getter @Setter\npublic class Group {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Long id;\n    private String name;\n    @Version\n    private int version;\n}\n</code></pre>\n"},{"tags":["java","garbage-collection","finalizer"],"comments":[{"owner":{"account_id":1336108,"reputation":8046,"user_id":1278839,"accept_rate":69,"display_name":"CodeChimp"},"score":3,"creation_date":1389012574,"post_id":20950086,"comment_id":31465702,"body_markdown":"Not that I know of, not without byte-code manipulation.  I would suggest trying to refactor your application to remove the finalizers if you believe they are the issue.","body":"Not that I know of, not without byte-code manipulation.  I would suggest trying to refactor your application to remove the finalizers if you believe they are the issue."},{"owner":{"account_id":1000314,"reputation":12261,"user_id":1015327,"display_name":"JimmyB"},"score":0,"creation_date":1389013108,"post_id":20950086,"comment_id":31466024,"body_markdown":"Do you think the application will work without the code in the finalizers running at some point? IIrc, finalizers *will* be run for every object collected during normal operation of the VM; exception: abrupt shutdown of the VM.","body":"Do you think the application will work without the code in the finalizers running at some point? IIrc, finalizers <i>will</i> be run for every object collected during normal operation of the VM; exception: abrupt shutdown of the VM."},{"owner":{"account_id":2314453,"reputation":4203,"user_id":2031799,"display_name":"Mikhail"},"score":0,"creation_date":1389014204,"post_id":20950086,"comment_id":31466654,"body_markdown":"@HannoBinder Finalizers also make escape analysis impossible. So if application is heavy loaded they might be the cause.","body":"@HannoBinder Finalizers also make escape analysis impossible. So if application is heavy loaded they might be the cause."},{"owner":{"account_id":2577836,"reputation":119494,"user_id":2235132,"display_name":"devnull"},"score":0,"creation_date":1389015822,"post_id":20950086,"comment_id":31467529,"body_markdown":"`Very slow GC` isn&#39;t likely due to exceptions -- it&#39;s likely due to lack of heap space.","body":"<code>Very slow GC</code> isn&#39;t likely due to exceptions -- it&#39;s likely due to lack of heap space."},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":0,"creation_date":1389021389,"post_id":20950086,"comment_id":31470838,"body_markdown":"I&#39;ve added some further notes - would appreciate all suggestions offered.","body":"I&#39;ve added some further notes - would appreciate all suggestions offered."},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":0,"creation_date":1389021888,"post_id":20950086,"comment_id":31471116,"body_markdown":"@HannoBinder - Yes I am - mostly because Java makes no promises about when, or even if finalizers are run so the code *should* survive that.","body":"@HannoBinder - Yes I am - mostly because Java makes no promises about when, or even if finalizers are run so the code <i>should</i> survive that."},{"owner":{"account_id":1000314,"reputation":12261,"user_id":1015327,"display_name":"JimmyB"},"score":1,"creation_date":1389033542,"post_id":20950086,"comment_id":31478186,"body_markdown":"Certainly the application logic will not suffer if finalizers are not run. - I&#39;m rather thinking about resource de-allocations which, if never performed, may break the application through resource depletion. After all, that finalizer code was written for *some* reason. If it can be omitted completely, the assumption that lead to its implementation was erroneous; but if it does something useful, probably just at the &quot;wrong&quot; place, turning finalizer code off *will* break something.","body":"Certainly the application logic will not suffer if finalizers are not run. - I&#39;m rather thinking about resource de-allocations which, if never performed, may break the application through resource depletion. After all, that finalizer code was written for <i>some</i> reason. If it can be omitted completely, the assumption that lead to its implementation was erroneous; but if it does something useful, probably just at the &quot;wrong&quot; place, turning finalizer code off <i>will</i> break something."},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":0,"creation_date":1389053650,"post_id":20950086,"comment_id":31488263,"body_markdown":"@HannoBinder - You are too generous - I would say *if you are relying on finalizers to clean up your mess you are an .....* expletive deleted.","body":"@HannoBinder - You are too generous - I would say <i>if you are relying on finalizers to clean up your mess you are an .....</i> expletive deleted."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1389065416,"creation_date":1389020073,"answer_id":20952631,"question_id":20950086,"body_markdown":"&gt; Is there any way to persuade the JVM to completely skip all finalization processes?\r\n\r\nIn a word No.\r\n\r\nBut unless a large proportion of your objects have `finalize` methods and/or the `finalize` methods are particularly expensive, I think that they are unlikely to make GC &quot;very slow&quot;.  I expect the problem is something else.\r\n\r\nI suggest that you turn on GC logging to try and get a better picture of what is actually happening.\r\n\r\nBut I also agree, that refactoring the code to get rid of the `finalize()` methods would probably be a good thing in the long run.  (There are very few situations where using `finalize` is genuinely the best solution.)\r\n\r\n\r\n---------\r\n\r\n*UPDATE* - your new evidence is pretty convincing, though not a proof!.  \r\n\r\n&gt; I do not have the power to demand a refactor.\r\n\r\nThen, I suggest you place the evidence at the feet of the people who do :-).\r\n\r\nAlternatively, you could add an exception handler to the suspect `finalize` methods to see if they *are* throwing exceptions.  (And if they are, then change them to avoid the exceptions being thrown ...)\r\n\r\nBut the bottom line is that if finalization is the real cause of your performance problems then the best (and probably the only) way to cure them is to change the code.","title":"Can we switch off finalizers?","body":"<blockquote>\n  <p>Is there any way to persuade the JVM to completely skip all finalization processes?</p>\n</blockquote>\n\n<p>In a word No.</p>\n\n<p>But unless a large proportion of your objects have <code>finalize</code> methods and/or the <code>finalize</code> methods are particularly expensive, I think that they are unlikely to make GC \"very slow\".  I expect the problem is something else.</p>\n\n<p>I suggest that you turn on GC logging to try and get a better picture of what is actually happening.</p>\n\n<p>But I also agree, that refactoring the code to get rid of the <code>finalize()</code> methods would probably be a good thing in the long run.  (There are very few situations where using <code>finalize</code> is genuinely the best solution.)</p>\n\n<hr>\n\n<p><em>UPDATE</em> - your new evidence is pretty convincing, though not a proof!.  </p>\n\n<blockquote>\n  <p>I do not have the power to demand a refactor.</p>\n</blockquote>\n\n<p>Then, I suggest you place the evidence at the feet of the people who do :-).</p>\n\n<p>Alternatively, you could add an exception handler to the suspect <code>finalize</code> methods to see if they <em>are</em> throwing exceptions.  (And if they are, then change them to avoid the exceptions being thrown ...)</p>\n\n<p>But the bottom line is that if finalization is the real cause of your performance problems then the best (and probably the only) way to cure them is to change the code.</p>\n"},{"tags":[],"owner":{"account_id":250725,"reputation":9776,"user_id":527617,"accept_rate":69,"display_name":"UVM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389065777,"creation_date":1389065777,"answer_id":20963467,"question_id":20950086,"body_markdown":"You cannot switch off `finalizer` in java, but all you can do is write code that will facilitate GC :-).","title":"Can we switch off finalizers?","body":"<p>You cannot switch off <code>finalizer</code> in java, but all you can do is write code that will facilitate GC :-).</p>\n"},{"tags":[],"owner":{"account_id":1966542,"reputation":4462,"user_id":1766655,"accept_rate":100,"display_name":"Mishax"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498577669,"creation_date":1498566911,"answer_id":44780454,"question_id":20950086,"body_markdown":"It **is** possible to suppress finalization on certain objects. It does **not** require bytecode manipulation as one commenter noted. \r\n\r\nThe procedure is described [here][1] and source code is provided. The class `java.lang.ref.Finalizer` is responsible for maintaining a list of objects that have not yet been finalized. To suppress finalization of your objects of interest, it suffices to use reflection APIs to acquire a lock on the field `lock`, iterate over the linked list `unfinalized` that the Finalizer class maintains, and remove your object from this list.\r\n\r\nI&#39;ve tried this method to safely instantiate custom-serialized objects while bypassing constructor invocation, and avoiding problems when the finalizer would be invoked with normal GC. Before applying this method my JVM would break with hard faults in the finalizer thread; since applying this method the faults do not occur.\r\n\r\n\r\n\r\n  [1]: http://lukequinane.blogspot.de/2009/03/java-suppress-finalizer.html","title":"Can we switch off finalizers?","body":"<p>It <strong>is</strong> possible to suppress finalization on certain objects. It does <strong>not</strong> require bytecode manipulation as one commenter noted. </p>\n\n<p>The procedure is described <a href=\"http://lukequinane.blogspot.de/2009/03/java-suppress-finalizer.html\" rel=\"nofollow noreferrer\">here</a> and source code is provided. The class <code>java.lang.ref.Finalizer</code> is responsible for maintaining a list of objects that have not yet been finalized. To suppress finalization of your objects of interest, it suffices to use reflection APIs to acquire a lock on the field <code>lock</code>, iterate over the linked list <code>unfinalized</code> that the Finalizer class maintains, and remove your object from this list.</p>\n\n<p>I've tried this method to safely instantiate custom-serialized objects while bypassing constructor invocation, and avoiding problems when the finalizer would be invoked with normal GC. Before applying this method my JVM would break with hard faults in the finalizer thread; since applying this method the faults do not occur.</p>\n"},{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684162678,"creation_date":1684162325,"answer_id":76255302,"question_id":20950086,"body_markdown":"Java 18 (released in 2022) deprecated finalization for removal with [JEP 421](https://openjdk.org/jeps/421) and [added an option for disabling it](https://openjdk.org/jeps/421#Command-line-option-to-disable-finalization).\r\n\r\nYou can now start your application with `--finalization=disabled` and it won&#39;t run finalizers.\r\n\r\n```bash\r\njava --finalization=disabled -jar your-app.jar\r\n```\r\n\r\nThe JEP also mentions a JFR event called `jdk.FinalizerStatistics` which gives you more information about finalization:\r\n```bash\r\n# start Java with the JFR event jdk.FinalizerStatistics enabled\r\njava -XX:StartFlightRecording:filename=recording.jfr -jar your-app.jar\r\n# print events\r\njfr print --events FinalizerStatistics recording.jfr\r\n```","title":"Can we switch off finalizers?","body":"<p>Java 18 (released in 2022) deprecated finalization for removal with <a href=\"https://openjdk.org/jeps/421\" rel=\"nofollow noreferrer\">JEP 421</a> and <a href=\"https://openjdk.org/jeps/421#Command-line-option-to-disable-finalization\" rel=\"nofollow noreferrer\">added an option for disabling it</a>.</p>\n<p>You can now start your application with <code>--finalization=disabled</code> and it won't run finalizers.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java --finalization=disabled -jar your-app.jar\n</code></pre>\n<p>The JEP also mentions a JFR event called <code>jdk.FinalizerStatistics</code> which gives you more information about finalization:</p>\n<pre class=\"lang-bash prettyprint-override\"><code># start Java with the JFR event jdk.FinalizerStatistics enabled\njava -XX:StartFlightRecording:filename=recording.jfr -jar your-app.jar\n# print events\njfr print --events FinalizerStatistics recording.jfr\n</code></pre>\n"}],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":915,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":20952631,"answer_count":4,"score":16,"last_activity_date":1684162678,"creation_date":1389011474,"question_id":20950086,"body_markdown":"As there is little guarantee about when and even if finalizers run and finalizers are almost considered a smell nowadays - is there any way to persuade the JVM to completely skip all finalization processes?\r\n\r\nI ask because we have a mammoth application which, when moved to a newer JVM (not sure which at this stage) is brought to its knees by what looks very much like the known problems with finalisers (exceptions being thrown and therefore very slow GC).\r\n\r\n**Added**\r\n\r\nThere is some discussion on https://stackoverflow.com/q/7644556/823393 where it is suggested that the primary problem arises when exceptions are thrown within finalizers because that slows down the finalization process dramatically.\r\n\r\nMy issue shows as a dramatic slow-down when memory becomes low and analysis of heap dumps show a large number of `Finalizer` objects (over 10,000,000) - suggesting to me that the slowdown could be their fault because they are delaying the GC. Obviously I may be wrong.\r\n\r\nI do not have the power to demand a refactor.\r\n","title":"Can we switch off finalizers?","body":"<p>As there is little guarantee about when and even if finalizers run and finalizers are almost considered a smell nowadays - is there any way to persuade the JVM to completely skip all finalization processes?</p>\n\n<p>I ask because we have a mammoth application which, when moved to a newer JVM (not sure which at this stage) is brought to its knees by what looks very much like the known problems with finalisers (exceptions being thrown and therefore very slow GC).</p>\n\n<p><strong>Added</strong></p>\n\n<p>There is some discussion on <a href=\"https://stackoverflow.com/q/7644556/823393\">Troubleshooting a java memory leak: finalization?</a> where it is suggested that the primary problem arises when exceptions are thrown within finalizers because that slows down the finalization process dramatically.</p>\n\n<p>My issue shows as a dramatic slow-down when memory becomes low and analysis of heap dumps show a large number of <code>Finalizer</code> objects (over 10,000,000) - suggesting to me that the slowdown could be their fault because they are delaying the GC. Obviously I may be wrong.</p>\n\n<p>I do not have the power to demand a refactor.</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"score":0,"creation_date":1508156178,"post_id":46769744,"comment_id":80485475,"body_markdown":"What do you mean with &quot;depending on the transferred parameter&quot;? Can you please provide some more information.","body":"What do you mean with &quot;depending on the transferred parameter&quot;? Can you please provide some more information."},{"owner":{"account_id":7024326,"reputation":315,"user_id":5415416,"accept_rate":88,"display_name":"Denis Bolshakov"},"score":0,"creation_date":1508156954,"post_id":46769744,"comment_id":80486006,"body_markdown":"@StefanBirkner For example: if jenkins get parameter FirstTest then start testsuite FirstTest. If jenkins get parameter testOther then start testsuite testOther and so on","body":"@StefanBirkner For example: if jenkins get parameter FirstTest then start testsuite FirstTest. If jenkins get parameter testOther then start testsuite testOther and so on"},{"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"score":0,"creation_date":1508157129,"post_id":46769744,"comment_id":80486109,"body_markdown":"Are you using a build tool like Ant, Gradle or Maven?","body":"Are you using a build tool like Ant, Gradle or Maven?"},{"owner":{"account_id":7024326,"reputation":315,"user_id":5415416,"accept_rate":88,"display_name":"Denis Bolshakov"},"score":0,"creation_date":1508157263,"post_id":46769744,"comment_id":80486199,"body_markdown":"@StefanBirkner I use Maven.","body":"@StefanBirkner I use Maven."},{"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"score":0,"creation_date":1508162548,"post_id":46769744,"comment_id":80489962,"body_markdown":"Please have a look at Atul&#39;s answer.","body":"Please have a look at Atul&#39;s answer."}],"answers":[{"tags":[],"owner":{"account_id":339454,"reputation":2681,"user_id":668951,"accept_rate":88,"display_name":"Atul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508158009,"creation_date":1508158009,"answer_id":46770704,"question_id":46769744,"body_markdown":"I believe you can do something like that using [junit test categories][1]. For example, for running integration tests, you can configure a separate annotation for the tests. \r\n\r\nMaven [supports][2] test categories.\r\n\r\nDoes it solve your problem or is the jenkins input parameter critical? If it is a jenkins parameter, I believe it is some environment/build configuration and you can customize your build (maven tests to be run) as per the the environment or build job.\r\n\r\n\r\n  [1]: http://junit.org/junit4/javadoc/4.12/org/junit/experimental/categories/Categories.html\r\n  [2]: http://maven.apache.org/surefire/maven-surefire-plugin/examples/junit.html","title":"How launch of certain TestSuite using the parameter in jUnit?","body":"<p>I believe you can do something like that using <a href=\"http://junit.org/junit4/javadoc/4.12/org/junit/experimental/categories/Categories.html\" rel=\"nofollow noreferrer\">junit test categories</a>. For example, for running integration tests, you can configure a separate annotation for the tests. </p>\n\n<p>Maven <a href=\"http://maven.apache.org/surefire/maven-surefire-plugin/examples/junit.html\" rel=\"nofollow noreferrer\">supports</a> test categories.</p>\n\n<p>Does it solve your problem or is the jenkins input parameter critical? If it is a jenkins parameter, I believe it is some environment/build configuration and you can customize your build (maven tests to be run) as per the the environment or build job.</p>\n"}],"owner":{"account_id":7024326,"reputation":315,"user_id":5415416,"accept_rate":88,"display_name":"Denis Bolshakov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684161984,"creation_date":1508154926,"question_id":46769744,"body_markdown":"I have test classes which uses other test classes. It is necessary to run these classes depending on the transferred parameter in Jenkins. (For example: if jenkins get parameter testOne then start testsuite testOne. If jenkins get parameter testOther then start testsuite testOther and so on)\r\n\r\nHow can I implement this in jUnit?\r\n\r\nThis is an example of one of the test suites:\r\n\r\n    @RunWith(Categories.class)\r\n    @Suite.SuiteClasses({UserLogin.class,\r\n            ExampleTests.class\r\n            }\r\n    )\r\n    public class FirstTest {","title":"How launch of certain TestSuite using the parameter in jUnit?","body":"<p>I have test classes which uses other test classes. It is necessary to run these classes depending on the transferred parameter in Jenkins. (For example: if jenkins get parameter testOne then start testsuite testOne. If jenkins get parameter testOther then start testsuite testOther and so on)</p>\n<p>How can I implement this in jUnit?</p>\n<p>This is an example of one of the test suites:</p>\n<pre><code>@RunWith(Categories.class)\n@Suite.SuiteClasses({UserLogin.class,\n        ExampleTests.class\n        }\n)\npublic class FirstTest {\n</code></pre>\n"},{"tags":["java","html","css","model-view-controller"],"comments":[{"owner":{"account_id":26408874,"reputation":215,"user_id":20058203,"display_name":"AJ Zack"},"score":0,"creation_date":1684155927,"post_id":76254367,"comment_id":134471186,"body_markdown":"you gave a screenshot of the link that works but no screenshot for the link that doesn&#39;t work.","body":"you gave a screenshot of the link that works but no screenshot for the link that doesn&#39;t work."},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":2,"creation_date":1684156423,"post_id":76254367,"comment_id":134471303,"body_markdown":"In your browser&#39;s debugging tools, on the network tab, when the page makes a request for the CSS file, what is the URL of that request?  Does it match what you expect?  What is the server&#39;s response?","body":"In your browser&#39;s debugging tools, on the network tab, when the page makes a request for the CSS file, what is the URL of that request?  Does it match what you expect?  What is the server&#39;s response?"},{"owner":{"account_id":29476,"reputation":31520,"user_id":79677,"accept_rate":68,"display_name":"Chris Barr"},"score":0,"creation_date":1684156647,"post_id":76254367,"comment_id":134471347,"body_markdown":"Please include actual code and not screenshots of code.  Also please actually include your code that does not work so people can help you with it.","body":"Please include actual code and not screenshots of code.  Also please actually include your code that does not work so people can help you with it."},{"owner":{"account_id":10162,"reputation":922321,"user_id":19068,"display_name":"Quentin"},"score":0,"creation_date":1684156794,"post_id":76254367,"comment_id":134471382,"body_markdown":"Things that you need to know to solve your problem. (1) The URL of the HTML document that your server is generating from your template. (2) The absolute URL that the relative URL in your `&lt;link&gt;` resolves to. (3) How the HTTP server you are using generates static URLs for static files. (4) Where on your file system you should put static files for *3* to work.","body":"Things that you need to know to solve your problem. (1) The URL of the HTML document that your server is generating from your template. (2) The absolute URL that the relative URL in your <code>&lt;link&gt;</code> resolves to. (3) How the HTTP server you are using generates static URLs for static files. (4) Where on your file system you should put static files for <i>3</i> to work."},{"owner":{"account_id":21821517,"reputation":13,"user_id":16253011,"display_name":"trying  to be developer"},"score":0,"creation_date":1684157511,"post_id":76254367,"comment_id":134471564,"body_markdown":"it is first time i am publishing the question here, i am sorry for non-informativeness","body":"it is first time i am publishing the question here, i am sorry for non-informativeness"},{"owner":{"account_id":1449141,"reputation":38289,"user_id":1447509,"accept_rate":89,"display_name":"cssyphus"},"score":0,"creation_date":1684157683,"post_id":76254367,"comment_id":134471601,"body_markdown":"Not at all - that is why WE are here - to answer questions of every level. Remember that we once were where you are now, so we are happy to lend a helping hand. Ask away! But do NOT become discouraged if some people are rude. Sometimes even people with very high rep scores are unkind. Just keep asking!","body":"Not at all - that is why WE are here - to answer questions of every level. Remember that we once were where you are now, so we are happy to lend a helping hand. Ask away! But do NOT become discouraged if some people are rude. Sometimes even people with very high rep scores are unkind. Just keep asking!"},{"owner":{"account_id":21821517,"reputation":13,"user_id":16253011,"display_name":"trying  to be developer"},"score":0,"creation_date":1684157966,"post_id":76254367,"comment_id":134471664,"body_markdown":"i posted the screenshot of the code that does not work, i highlighted the link to css url and there is no response from browser","body":"i posted the screenshot of the code that does not work, i highlighted the link to css url and there is no response from browser"}],"answers":[{"tags":[],"owner":{"account_id":1449141,"reputation":38289,"user_id":1447509,"accept_rate":89,"display_name":"cssyphus"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1684157863,"creation_date":1684156179,"answer_id":76254415,"question_id":76254367,"body_markdown":"The webserver will look for your CSS file starting from the location of your index file. ***Important: See Quentin&#39;s note under your question for important information when you are using templates and frameworks. This sentence only applies to traditional HTML construction - but it also applies once your project has been generated and uploaded to the web server.***\r\n\r\nAccording to that code, the file `style.css` should be in the same folder as the index file, and spelled exactly as specified. Capitalization matters: Style.css is not style.css.\r\n\r\nDid you move the style.css file into a subfolder? Is the capitalization different?\r\n","title":"the link to css file does not work, a have check everything, still does not work, anybody answer me, what is wrong?","body":"<p>The webserver will look for your CSS file starting from the location of your index file. <em><strong>Important: See Quentin's note under your question for important information when you are using templates and frameworks. This sentence only applies to traditional HTML construction - but it also applies once your project has been generated and uploaded to the web server.</strong></em></p>\n<p>According to that code, the file <code>style.css</code> should be in the same folder as the index file, and spelled exactly as specified. Capitalization matters: Style.css is not style.css.</p>\n<p>Did you move the style.css file into a subfolder? Is the capitalization different?</p>\n"}],"owner":{"account_id":21821517,"reputation":13,"user_id":16253011,"display_name":"trying  to be developer"},"comment_count":7,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1684156520,"accepted_answer_id":76254415,"answer_count":1,"score":-3,"last_activity_date":1684161972,"creation_date":1684155815,"question_id":76254367,"body_markdown":"html file cannot see css file\r\n\r\nin my previous project the same link to css file worked[enter image description here](https://i.stac## \r\n\r\n 1. \r\n\r\n\r\n----------\r\n## **[![Heading][1]][1]** ##\r\n\r\n ##k.imgur.com/u6L9P.png)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/thcs8.png","title":"the link to css file does not work, a have check everything, still does not work, anybody answer me, what is wrong?","body":"<p>html file cannot see css file</p>\n<p>in my previous project the same link to css file worked[enter image description here](<a href=\"https://i.stac##\" rel=\"nofollow noreferrer\">https://i.stac##</a></p>\n<p>1.</p>\n<hr />\n<h2><strong><a href=\"https://i.stack.imgur.com/thcs8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/thcs8.png\" alt=\"Heading\" /></a></strong></h2>\n<p>##k.imgur.com/u6L9P.png)</p>\n"},{"tags":["java","jpa","desktop-application"],"owner":{"account_id":27647727,"reputation":31,"user_id":21103267,"display_name":"Deema Shaath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":0,"score":1,"last_activity_date":1684161763,"creation_date":1684066129,"question_id":76247405,"body_markdown":"I&#39;m new to JPA in Java. I followed a tutorial (I can&#39;t share it to public) step by step and the code runs successfully. But, when I run my code it shows:\r\n\r\n&gt; WARNING: jakarta.persistence.spi::No valid providers found.\r\n\r\n I asked many experts in the field but no one found a solution.\r\n\r\nI tried all solutions like adding the hibernate-core.jar and many other solutions for this error mentioned in Stack Overflow.\r\nI&#39;m not using maven, like the tutorial I followed did! Here is my persistence.xml file the same as the tutorial:\r\n```xnl\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n    &lt;persistence-unit name=&quot;Prog3Assi3PU&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n        &lt;class&gt;Ch5Apps.Department&lt;/class&gt;\r\n        &lt;class&gt;Ch5Apps.Employee&lt;/class&gt;\r\n        &lt;class&gt;Ch5Apps.EmployeeProjects&lt;/class&gt;\r\n        &lt;class&gt;Ch5Apps.Project&lt;/class&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3308/companyjpa?serverTimezone=UTC&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\nI&#39;m sure that port number of the localhost is correct, and the persistence.xml is in the right path. I tried using *javax.persistence* and the same error appears.\r\nPlease note: I&#39;m using NetBeans 17, JDK 20 and tried JDK 17 but the problem still appears.","title":"ERROR: jakarta.persistence.PersistenceException: No Persistence provider for EntityManager named","body":"<p>I'm new to JPA in Java. I followed a tutorial (I can't share it to public) step by step and the code runs successfully. But, when I run my code it shows:</p>\n<blockquote>\n<p>WARNING: jakarta.persistence.spi::No valid providers found.</p>\n</blockquote>\n<p>I asked many experts in the field but no one found a solution.</p>\n<p>I tried all solutions like adding the hibernate-core.jar and many other solutions for this error mentioned in Stack Overflow.\nI'm not using maven, like the tutorial I followed did! Here is my persistence.xml file the same as the tutorial:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\n    &lt;persistence-unit name=&quot;Prog3Assi3PU&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n        &lt;class&gt;Ch5Apps.Department&lt;/class&gt;\n        &lt;class&gt;Ch5Apps.Employee&lt;/class&gt;\n        &lt;class&gt;Ch5Apps.EmployeeProjects&lt;/class&gt;\n        &lt;class&gt;Ch5Apps.Project&lt;/class&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3308/companyjpa?serverTimezone=UTC&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;root&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>I'm sure that port number of the localhost is correct, and the persistence.xml is in the right path. I tried using <em>javax.persistence</em> and the same error appears.\nPlease note: I'm using NetBeans 17, JDK 20 and tried JDK 17 but the problem still appears.</p>\n"},{"tags":["java","android","digital-persona-sdk"],"answers":[{"tags":[],"owner":{"account_id":28594600,"reputation":16,"user_id":21893068,"display_name":"Jaco foran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684075514,"creation_date":1684060744,"answer_id":76247014,"question_id":76243048,"body_markdown":"contact with \r\n```\r\n ReaderCollection rc = UareUGlobal.GetReaderCollection();\r\n        rc.GetReaders();\r\n```\r\nhttp://digital.persona.sdk.android.brainwaveappstudio.com/","title":"How to connect digital persona fingerprint device with an android","body":"<p>contact with</p>\n<pre><code> ReaderCollection rc = UareUGlobal.GetReaderCollection();\n        rc.GetReaders();\n</code></pre>\n<p><a href=\"http://digital.persona.sdk.android.brainwaveappstudio.com/\" rel=\"nofollow noreferrer\">http://digital.persona.sdk.android.brainwaveappstudio.com/</a></p>\n"}],"owner":{"account_id":27197905,"reputation":3,"user_id":20730531,"display_name":"Adal Ponal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76247014,"answer_count":1,"score":0,"last_activity_date":1684161720,"creation_date":1683985543,"question_id":76243048,"body_markdown":"I want to connect digital persona fingerprint device with an Android. This means I need the app source code for Android.\r\n\r\nLike this app:\r\nhttps://play.google.com/store/apps/details?id=com.digitalpersona.digitalpersona\r\n\r\n```java\r\nimport com.digitalpersona.uareu.*; \r\n\r\nprivate void start_scanning() {\r\n    try {\r\n        // Pick first available reader\r\n        ReaderCollection rc = UareUGlobal.GetReaderCollection();\r\n        rc.GetReaders();\r\n        r = rc.get(0);\r\n        if (r==null)\r\n            return;\r\n\r\n        // Open Reader\r\n        r.Open(Reader.Priority.COOPERATIVE);\r\n        System.out.println(r.GetStatus().status); // Outputs READY\r\n\r\n        // The following call just hangs and never returns...\r\n        Reader.CaptureResult\r\n                cr = r.Capture(Fid.Format.ISO_19794_4_2005, Reader.ImageProcessing.IMG_PROC_DEFAULT, 500, -1);\r\n        System.out.println(cr.quality.name()); // Just to test\r\n\r\n    } catch (UareUException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```","title":"How to connect digital persona fingerprint device with an android","body":"<p>I want to connect digital persona fingerprint device with an Android. This means I need the app source code for Android.</p>\n<p>Like this app:\n<a href=\"https://play.google.com/store/apps/details?id=com.digitalpersona.digitalpersona\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.digitalpersona.digitalpersona</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.digitalpersona.uareu.*; \n\nprivate void start_scanning() {\n    try {\n        // Pick first available reader\n        ReaderCollection rc = UareUGlobal.GetReaderCollection();\n        rc.GetReaders();\n        r = rc.get(0);\n        if (r==null)\n            return;\n\n        // Open Reader\n        r.Open(Reader.Priority.COOPERATIVE);\n        System.out.println(r.GetStatus().status); // Outputs READY\n\n        // The following call just hangs and never returns...\n        Reader.CaptureResult\n                cr = r.Capture(Fid.Format.ISO_19794_4_2005, Reader.ImageProcessing.IMG_PROC_DEFAULT, 500, -1);\n        System.out.println(cr.quality.name()); // Just to test\n\n    } catch (UareUException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","oracle","jdbc","plsql"],"comments":[{"owner":{"account_id":15582151,"reputation":1890,"user_id":11241615,"display_name":"xavier"},"score":0,"creation_date":1561404726,"post_id":56742820,"comment_id":100044664,"body_markdown":"Please explain what you tried to do to solve this problem. Don&#39;t just copy-paste your code and expect someone is going to do debug it all...","body":"Please explain what you tried to do to solve this problem. Don&#39;t just copy-paste your code and expect someone is going to do debug it all..."},{"owner":{"account_id":16196567,"reputation":11,"user_id":11694082,"display_name":"jdbcuser"},"score":0,"creation_date":1561405346,"post_id":56742820,"comment_id":100044883,"body_markdown":"I tried to follow Oracle documentation here - https://docs.oracle.com/database/121/JJDBC/oraint.htm#JJDBC28180. Its mentioned - Oracle JDBC drivers support PL/SQL Associative Arrays of VARCHAR and NUMBER types. Does it mean it won&#39;t support associate arrays of complex types as shown in my code ?","body":"I tried to follow Oracle documentation here - <a href=\"https://docs.oracle.com/database/121/JJDBC/oraint.htm#JJDBC28180\" rel=\"nofollow noreferrer\">docs.oracle.com/database/121/JJDBC/oraint.htm#JJDBC28180</a>. Its mentioned - Oracle JDBC drivers support PL/SQL Associative Arrays of VARCHAR and NUMBER types. Does it mean it won&#39;t support associate arrays of complex types as shown in my code ?"},{"owner":{"account_id":74118,"reputation":49342,"user_id":213136,"accept_rate":100,"display_name":"Bob Jarvis - Слава Україні"},"score":0,"creation_date":1561414854,"post_id":56742820,"comment_id":100047993,"body_markdown":"That&#39;s certainly the way I read it. I suggest that instead of trying to pass back a complex type, you should form something like a comma-separated values string from your data and return that, or something else similar. Best of luck.","body":"That&#39;s certainly the way I read it. I suggest that instead of trying to pass back a complex type, you should form something like a comma-separated values string from your data and return that, or something else similar. Best of luck."},{"owner":{"account_id":1061472,"reputation":11336,"user_id":1062992,"accept_rate":94,"display_name":"egerardus"},"score":0,"creation_date":1561415630,"post_id":56742820,"comment_id":100048180,"body_markdown":"Fixed the code formatting and added a question to the ...question.","body":"Fixed the code formatting and added a question to the ...question."},{"owner":{"account_id":16044618,"reputation":1278,"user_id":11580129,"display_name":"Tad Harrison"},"score":0,"creation_date":1561551309,"post_id":56742820,"comment_id":100100564,"body_markdown":"You are correct--you are limited to simple arrays like `String[]` and `BigDecimal[]`. Would you be able to do what you need with simple arrays alone?","body":"You are correct--you are limited to simple arrays like <code>String[]</code> and <code>BigDecimal[]</code>. Would you be able to do what you need with simple arrays alone?"}],"answers":[{"tags":[],"owner":{"account_id":28606093,"reputation":1,"user_id":21902007,"display_name":"Dan Sievewright"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684161526,"creation_date":1684161526,"answer_id":76255187,"question_id":56742820,"body_markdown":"This can be done if you use SQLData and OracleData per the docs, https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/Oracle-object-types.html#GUID-5905674A-A045-40B1-96DE-726761517D50.\r\n\r\nYou can start with a SQLData object representing the row type, then create the OracleData object for the array and Oracle will take care of the rest.\r\n\r\n\r\nexample EmpRow:\r\n\r\n    class EmpRow implements SQLData {\r\n        private String employeeNumber;\r\n        private String employeeName;\r\n        private String employeeDept;\r\n        \r\n        // add getters/setters/construtor\r\n\r\n        @Override\r\n        public String getSQLTypeName() throws SQLException {\r\n\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public void readSQL(SQLInput stream, String typeName) throws SQLException {\r\n\r\n            employeeNumber = stream.readString();\r\n            employeeName = stream.readString();\r\n            employeeDept = stream.readString();\r\n\r\n        }\r\n\r\n        @Override\r\n        public void writeSQL(SQLOutput stream) throws SQLException {\r\n\r\n            stream.writeString(employeeNumber);\r\n            stream.writeString(employeeName);\r\n            stream.writeString(employeeDept);\r\n        }\r\n    }\r\n\r\nexample call:\r\n\r\n    // values is the associative array.  The keys will need to be numbered 1, 2, ... consecutively.  \r\n    public void runProcedure(Map&lt;Integer, EmpRow&gt; values) {\r\n        \r\n        Connection conn = //get connection\r\n        conn.prepareCall(&quot;begin PKG_SP_EMPLOYEE.MAIN (?,?); end;&quot;);\r\n        conn.setObject(1, new OracleData() {\r\n            \r\n            @Override\r\n            public Object toJDBCObject(Connection arg0) throws SQLException {\r\n                \r\n                // TODO Auto-generated method stub\r\n                return ((OracleConnection) arg0).createOracleArray(&quot;PKG_SP_EMPLOYEE.tbl_employees_in&quot;, values);\r\n            }\r\n        }); \r\n\r\n        conn.registerOutParameter(2, Types.VARCHAR); \r\n        conn.execute ();\r\n        \r\n        // rest of procedure\r\n    }\r\n\r\nPersonally, I have a separate PlsqlArray class that implements OracleData with a constructor that passes in the type name and the values. I haven&#39;t tested with your particular example so let me know if anything is amiss.","title":"How do I call a PL/SQL procedure with associative arrays?","body":"<p>This can be done if you use SQLData and OracleData per the docs, <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/Oracle-object-types.html#GUID-5905674A-A045-40B1-96DE-726761517D50\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/Oracle-object-types.html#GUID-5905674A-A045-40B1-96DE-726761517D50</a>.</p>\n<p>You can start with a SQLData object representing the row type, then create the OracleData object for the array and Oracle will take care of the rest.</p>\n<p>example EmpRow:</p>\n<pre><code>class EmpRow implements SQLData {\n    private String employeeNumber;\n    private String employeeName;\n    private String employeeDept;\n    \n    // add getters/setters/construtor\n\n    @Override\n    public String getSQLTypeName() throws SQLException {\n\n        return null;\n    }\n\n    @Override\n    public void readSQL(SQLInput stream, String typeName) throws SQLException {\n\n        employeeNumber = stream.readString();\n        employeeName = stream.readString();\n        employeeDept = stream.readString();\n\n    }\n\n    @Override\n    public void writeSQL(SQLOutput stream) throws SQLException {\n\n        stream.writeString(employeeNumber);\n        stream.writeString(employeeName);\n        stream.writeString(employeeDept);\n    }\n}\n</code></pre>\n<p>example call:</p>\n<pre><code>// values is the associative array.  The keys will need to be numbered 1, 2, ... consecutively.  \npublic void runProcedure(Map&lt;Integer, EmpRow&gt; values) {\n    \n    Connection conn = //get connection\n    conn.prepareCall(&quot;begin PKG_SP_EMPLOYEE.MAIN (?,?); end;&quot;);\n    conn.setObject(1, new OracleData() {\n        \n        @Override\n        public Object toJDBCObject(Connection arg0) throws SQLException {\n            \n            // TODO Auto-generated method stub\n            return ((OracleConnection) arg0).createOracleArray(&quot;PKG_SP_EMPLOYEE.tbl_employees_in&quot;, values);\n        }\n    }); \n\n    conn.registerOutParameter(2, Types.VARCHAR); \n    conn.execute ();\n    \n    // rest of procedure\n}\n</code></pre>\n<p>Personally, I have a separate PlsqlArray class that implements OracleData with a constructor that passes in the type name and the values. I haven't tested with your particular example so let me know if anything is amiss.</p>\n"}],"owner":{"account_id":16196567,"reputation":11,"user_id":11694082,"display_name":"jdbcuser"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":750,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684161526,"creation_date":1561404600,"question_id":56742820,"body_markdown":"I am calling a PL/SQL procedure with an associative array as per the [documentation here](https://docs.oracle.com/database/121/JJDBC/oraint.htm#JJDBC28180). \r\n\r\nHowever I am getting an exception `array bind type must match PL/SQL table row type` though I believe that is what I am passing.\r\n\r\nSpecifically, I have a table, PL/SQL package and JDBC code as follows:\r\n\r\n--------------------------------------------------------\r\nTable EMPLOYEE\r\n--------------------------------------------------------\r\n\r\n    CREATE TABLE EMPLOYEE \r\n    (\t\r\n    &quot;EMPLOYEE_NUMBER&quot; VARCHAR2(20 BYTE), \r\n    &quot;EMPLOYEE_NAME&quot; VARCHAR2(80 BYTE), \r\n    &quot;EMPLOYEE_DEPT&quot; VARCHAR2(40 BYTE)\r\n    );\r\n\r\n--------------------------------------------------------\r\nPackage PKG_SP_EMPLOYEE\r\n--------------------------------------------------------\r\n\r\n    create or replace PACKAGE PKG_SP_EMPLOYEE\r\n    AS\r\n    TYPE tbl_employees_in\r\n    IS\r\n    TABLE OF EMPLOYEE%ROWTYPE INDEX BY PLS_INTEGER;\r\n       \r\n    PROCEDURE main(\r\n        p_employee IN PKG_SP_EMPLOYEE.tbl_employees_in,\r\n        x_status OUT VARCHAR \r\n    );\r\n    END PKG_SP_EMPLOYEE;\r\n\r\n--------------------------------------------------------\r\nPackage Body PKG_SP_EMPLOYEE\r\n--------------------------------------------------------\r\n\r\n    create or replace PACKAGE BODY PKG_SP_EMPLOYEE\r\n    AS\r\n    \r\n    PROCEDURE main(\r\n        p_employee IN PKG_SP_EMPLOYEE.tbl_employees_in,\r\n        x_status OUT VARCHAR\r\n        )\r\n    IS\r\n    BEGIN \r\n    FOR i in 1..p_employee.count\r\n    \r\n        loop\r\n        INSERT INTO &quot;EMPLOYEE&quot;\r\n               (\r\n               EMPLOYEE_NUMBER, \r\n               EMPLOYEE_NAME, \r\n               EMPLOYEE_DEPT\r\n               )\r\n        VALUES (\r\n               p_employee(i).EMPLOYEE_NUMBER,\r\n               p_employee(i).EMPLOYEE_NAME,\r\n               p_employee(i).EMPLOYEE_DEPT\r\n               );\r\n                                      \r\n        end loop;\r\n      \r\n        dbms_output.put_line(&#39;Success&#39;);\r\n        x_status  := &#39;Success&#39;;\r\n    \r\n    EXCEPTION\r\n        WHEN OTHERS THEN\r\n            dbms_output.put_line(&#39;Failure&#39;);\r\n            x_status  := &#39;Failure&#39;;           \r\n    \r\n    END main;\r\n    END PKG_SP_EMPLOYEE;\r\n\r\n\r\n--------------------------------------------------------\r\nJDBC Code\r\n--------------------------------------------------------\r\n\r\n    Connection con= null;\r\n    OracleCallableStatement cstmt = null;\r\n            \r\n    try {\r\n    \t\t\t\r\n      \tClass.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n       \tcon=DriverManager.getConnection(&quot;jdbc:oracle:thin:@test.com:1521:TESTAD&quot;,\r\n                        &quot;user&quot;,&quot;password&quot;);\r\n    \r\n        cstmt = (OracleCallableStatement)con.prepareCall (\r\n                    &quot;begin PKG_SP_EMPLOYEE.MAIN (?,?); end;&quot;); \r\n    \t\t\t\r\n        String[] values = { &quot;1&quot;, &quot;John Doe&quot;, &quot;HR&quot; };\r\n    \t\t\t\r\n        cstmt.setPlsqlIndexTable (1, values, values.length, values.length, OracleTypes.VARCHAR, 3);\r\n    \t\t\t\r\n    \tcstmt.registerOutParameter(2, java.sql.Types.VARCHAR); \r\n    \t\t\t\r\n    \tcstmt.execute ();\r\n    \r\n    //...\r\n\r\n--------------------------------------------------------\r\nJava Exception\r\n--------------------------------------------------------\r\n\r\n    java.sql.SQLException: ORA-06550: line 1, column 7:\r\n    PLS-00306: wrong number or types of arguments in call to &#39;MAIN&#39;\r\n    ORA-06550: line 1, column 43:\r\n    **PLS-00418: array bind type must match PL/SQL table row type**\r\n    ORA-06550: line 1, column 7:\r\n    PL/SQL: Statement ignored\r\n\r\n\r\nAfter reviewing the [Oracle documentation here](https://docs.oracle.com/database/121/JJDBC/oraint.htm#JJDBC28180) I see that Oracle JDBC drivers support PL/SQL Associative Arrays of VARCHAR and NUMBER types. Does this mean it won&#39;t support associate arrays of complex types as shown in my code?\r\n\r\n","title":"How do I call a PL/SQL procedure with associative arrays?","body":"<p>I am calling a PL/SQL procedure with an associative array as per the <a href=\"https://docs.oracle.com/database/121/JJDBC/oraint.htm#JJDBC28180\" rel=\"nofollow noreferrer\">documentation here</a>. </p>\n\n<p>However I am getting an exception <code>array bind type must match PL/SQL table row type</code> though I believe that is what I am passing.</p>\n\n<p>Specifically, I have a table, PL/SQL package and JDBC code as follows:</p>\n\n<hr>\n\n<h2>Table EMPLOYEE</h2>\n\n<pre><code>CREATE TABLE EMPLOYEE \n(   \n\"EMPLOYEE_NUMBER\" VARCHAR2(20 BYTE), \n\"EMPLOYEE_NAME\" VARCHAR2(80 BYTE), \n\"EMPLOYEE_DEPT\" VARCHAR2(40 BYTE)\n);\n</code></pre>\n\n<hr>\n\n<h2>Package PKG_SP_EMPLOYEE</h2>\n\n<pre><code>create or replace PACKAGE PKG_SP_EMPLOYEE\nAS\nTYPE tbl_employees_in\nIS\nTABLE OF EMPLOYEE%ROWTYPE INDEX BY PLS_INTEGER;\n\nPROCEDURE main(\n    p_employee IN PKG_SP_EMPLOYEE.tbl_employees_in,\n    x_status OUT VARCHAR \n);\nEND PKG_SP_EMPLOYEE;\n</code></pre>\n\n<hr>\n\n<h2>Package Body PKG_SP_EMPLOYEE</h2>\n\n<pre><code>create or replace PACKAGE BODY PKG_SP_EMPLOYEE\nAS\n\nPROCEDURE main(\n    p_employee IN PKG_SP_EMPLOYEE.tbl_employees_in,\n    x_status OUT VARCHAR\n    )\nIS\nBEGIN \nFOR i in 1..p_employee.count\n\n    loop\n    INSERT INTO \"EMPLOYEE\"\n           (\n           EMPLOYEE_NUMBER, \n           EMPLOYEE_NAME, \n           EMPLOYEE_DEPT\n           )\n    VALUES (\n           p_employee(i).EMPLOYEE_NUMBER,\n           p_employee(i).EMPLOYEE_NAME,\n           p_employee(i).EMPLOYEE_DEPT\n           );\n\n    end loop;\n\n    dbms_output.put_line('Success');\n    x_status  := 'Success';\n\nEXCEPTION\n    WHEN OTHERS THEN\n        dbms_output.put_line('Failure');\n        x_status  := 'Failure';           \n\nEND main;\nEND PKG_SP_EMPLOYEE;\n</code></pre>\n\n<hr>\n\n<h2>JDBC Code</h2>\n\n<pre><code>Connection con= null;\nOracleCallableStatement cstmt = null;\n\ntry {\n\n    Class.forName(\"oracle.jdbc.driver.OracleDriver\");\n    con=DriverManager.getConnection(\"jdbc:oracle:thin:@test.com:1521:TESTAD\",\n                    \"user\",\"password\");\n\n    cstmt = (OracleCallableStatement)con.prepareCall (\n                \"begin PKG_SP_EMPLOYEE.MAIN (?,?); end;\"); \n\n    String[] values = { \"1\", \"John Doe\", \"HR\" };\n\n    cstmt.setPlsqlIndexTable (1, values, values.length, values.length, OracleTypes.VARCHAR, 3);\n\n    cstmt.registerOutParameter(2, java.sql.Types.VARCHAR); \n\n    cstmt.execute ();\n\n//...\n</code></pre>\n\n<hr>\n\n<h2>Java Exception</h2>\n\n<pre><code>java.sql.SQLException: ORA-06550: line 1, column 7:\nPLS-00306: wrong number or types of arguments in call to 'MAIN'\nORA-06550: line 1, column 43:\n**PLS-00418: array bind type must match PL/SQL table row type**\nORA-06550: line 1, column 7:\nPL/SQL: Statement ignored\n</code></pre>\n\n<p>After reviewing the <a href=\"https://docs.oracle.com/database/121/JJDBC/oraint.htm#JJDBC28180\" rel=\"nofollow noreferrer\">Oracle documentation here</a> I see that Oracle JDBC drivers support PL/SQL Associative Arrays of VARCHAR and NUMBER types. Does this mean it won't support associate arrays of complex types as shown in my code?</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1514878944,"post_id":48056863,"comment_id":83086691,"body_markdown":"Do you have a good reason to need this? If so, what is it?","body":"Do you have a good reason to need this? If so, what is it?"},{"owner":{"account_id":10998031,"reputation":23,"user_id":8079474,"display_name":"Yue S"},"score":0,"creation_date":1514880155,"post_id":48056863,"comment_id":83087129,"body_markdown":"Simply I don&#39;t want the classes to be read in any way when they are distributed and deployed to our client&#39;s server. I&#39;ve already had a tool to encrypt the classes and decrypt them when loaded in jvm. I want them not be dumped.","body":"Simply I don&#39;t want the classes to be read in any way when they are distributed and deployed to our client&#39;s server. I&#39;ve already had a tool to encrypt the classes and decrypt them when loaded in jvm. I want them not be dumped."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1514881882,"post_id":48056863,"comment_id":83087703,"body_markdown":"That&#39;s just not possible to do reliably. Tell your clients that you&#39;ll sue them if they dump the classes, that&#39;s a lot more effective and a lot cheaper.","body":"That&#39;s just not possible to do reliably. Tell your clients that you&#39;ll sue them if they dump the classes, that&#39;s a lot more effective and a lot cheaper."},{"owner":{"account_id":10998031,"reputation":23,"user_id":8079474,"display_name":"Yue S"},"score":0,"creation_date":1514883963,"post_id":48056863,"comment_id":83088459,"body_markdown":"Thanks, will do it","body":"Thanks, will do it"}],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1514920694,"creation_date":1514920694,"answer_id":48066590,"question_id":48056863,"body_markdown":"In general, this is not possible.\r\n\r\nServiceability Agent (sa-jdi) does not require cooperation from the target process. It just stops target JVM using [ptrace](http://man7.org/linux/man-pages/man2/ptrace.2.html) syscall, and reads the memory of the process without JVM even knowing about that.\r\n\r\nHowever, you can make debugging harder by overwriting the variables used by Serviceability Agent. Particularly, if you reset `gHotSpotVMStructs` global variable, SA will not be able to reconstruct internal VM structures, so that tools based on SA will stop working.\r\n\r\nIn order to do this, compile the following `novmstructs.c` program:\r\n\r\n    extern void *gHotSpotVMStructs;\r\n\r\n    int Agent_OnLoad(void *vm, char *options, void *reserved) {\r\n        gHotSpotVMStructs = 0;\r\n        return 0;\r\n    }\r\n\r\nHow to compile:\r\n\r\n    gcc -fPIC -nostdlib -shared -olibnostructs.so -O2 nostructs.c\r\n\r\nThen run your Java application with the produced library attached as the agent:\r\n\r\n    java -agentpath:/path/to/libnostructs.so ...\r\n\r\nThe next time someone tries to invoke ClassDump or other SA-based utility, the exception will occur:\r\n\r\n    Attaching to process ID 574, please wait...\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at sun.tools.jstack.JStack.runJStackTool(JStack.java:140)\r\n            at sun.tools.jstack.JStack.main(JStack.java:106)\r\n    Caused by: java.lang.RuntimeException: gHotSpotVMStructs was not initialized properly in the remote process; can not continue\r\n            at sun.jvm.hotspot.HotSpotTypeDataBase.readVMStructs(HotSpotTypeDataBase.java:418)\r\n            at sun.jvm.hotspot.HotSpotTypeDataBase.&lt;init&gt;(HotSpotTypeDataBase.java:91)\r\n            at sun.jvm.hotspot.HotSpotAgent.setupVM(HotSpotAgent.java:395)\r\n            at sun.jvm.hotspot.HotSpotAgent.go(HotSpotAgent.java:305)\r\n            at sun.jvm.hotspot.HotSpotAgent.attach(HotSpotAgent.java:140)\r\n            at sun.jvm.hotspot.tools.Tool.start(Tool.java:185)\r\n            at sun.jvm.hotspot.tools.Tool.execute(Tool.java:118)\r\n            at sun.jvm.hotspot.tools.JStack.main(JStack.java:92)\r\n            ... 6 more\r\n","title":"Disable ClassDump to a running JVM process by using sa-jli","body":"<p>In general, this is not possible.</p>\n\n<p>Serviceability Agent (sa-jdi) does not require cooperation from the target process. It just stops target JVM using <a href=\"http://man7.org/linux/man-pages/man2/ptrace.2.html\" rel=\"noreferrer\">ptrace</a> syscall, and reads the memory of the process without JVM even knowing about that.</p>\n\n<p>However, you can make debugging harder by overwriting the variables used by Serviceability Agent. Particularly, if you reset <code>gHotSpotVMStructs</code> global variable, SA will not be able to reconstruct internal VM structures, so that tools based on SA will stop working.</p>\n\n<p>In order to do this, compile the following <code>novmstructs.c</code> program:</p>\n\n<pre><code>extern void *gHotSpotVMStructs;\n\nint Agent_OnLoad(void *vm, char *options, void *reserved) {\n    gHotSpotVMStructs = 0;\n    return 0;\n}\n</code></pre>\n\n<p>How to compile:</p>\n\n<pre><code>gcc -fPIC -nostdlib -shared -olibnostructs.so -O2 nostructs.c\n</code></pre>\n\n<p>Then run your Java application with the produced library attached as the agent:</p>\n\n<pre><code>java -agentpath:/path/to/libnostructs.so ...\n</code></pre>\n\n<p>The next time someone tries to invoke ClassDump or other SA-based utility, the exception will occur:</p>\n\n<pre><code>Attaching to process ID 574, please wait...\nException in thread \"main\" java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at sun.tools.jstack.JStack.runJStackTool(JStack.java:140)\n        at sun.tools.jstack.JStack.main(JStack.java:106)\nCaused by: java.lang.RuntimeException: gHotSpotVMStructs was not initialized properly in the remote process; can not continue\n        at sun.jvm.hotspot.HotSpotTypeDataBase.readVMStructs(HotSpotTypeDataBase.java:418)\n        at sun.jvm.hotspot.HotSpotTypeDataBase.&lt;init&gt;(HotSpotTypeDataBase.java:91)\n        at sun.jvm.hotspot.HotSpotAgent.setupVM(HotSpotAgent.java:395)\n        at sun.jvm.hotspot.HotSpotAgent.go(HotSpotAgent.java:305)\n        at sun.jvm.hotspot.HotSpotAgent.attach(HotSpotAgent.java:140)\n        at sun.jvm.hotspot.tools.Tool.start(Tool.java:185)\n        at sun.jvm.hotspot.tools.Tool.execute(Tool.java:118)\n        at sun.jvm.hotspot.tools.JStack.main(JStack.java:92)\n        ... 6 more\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28546152,"reputation":79,"user_id":21851535,"display_name":"uglibubla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684161518,"creation_date":1684161518,"answer_id":76255184,"question_id":48056863,"body_markdown":"Old question but here we go\r\n\r\n```java\r\nField jvmField = ManagementFactory.getRuntimeMXBean().getClass().getDeclaredField(&quot;jvm&quot;);\r\njvmField.setAccessible(true);\r\nVMManagement jvmInstance = (VMManagement) jvmField.get(ManagementFactory.getRuntimeMXBean());\r\nList&lt;String&gt; jvmArguments = jvmInstance.getVmArguments();\r\n```\r\n`jvmArguments` will have all the the arguments the jvm was started with, you can check these before loading in the actual classes and if there is a flag used you don&#39;t want abort loading.\r\n\r\nBut keep in mind that this is just one of the many ways classes can be dumped from a jvm, you can attach an agent, hook ClassLoader#defineClass and many other things as long as you are in the jvm there is no way to be 100% &quot;dump proof&quot;.","title":"Disable ClassDump to a running JVM process by using sa-jli","body":"<p>Old question but here we go</p>\n<pre class=\"lang-java prettyprint-override\"><code>Field jvmField = ManagementFactory.getRuntimeMXBean().getClass().getDeclaredField(&quot;jvm&quot;);\njvmField.setAccessible(true);\nVMManagement jvmInstance = (VMManagement) jvmField.get(ManagementFactory.getRuntimeMXBean());\nList&lt;String&gt; jvmArguments = jvmInstance.getVmArguments();\n</code></pre>\n<p><code>jvmArguments</code> will have all the the arguments the jvm was started with, you can check these before loading in the actual classes and if there is a flag used you don't want abort loading.</p>\n<p>But keep in mind that this is just one of the many ways classes can be dumped from a jvm, you can attach an agent, hook ClassLoader#defineClass and many other things as long as you are in the jvm there is no way to be 100% &quot;dump proof&quot;.</p>\n"}],"owner":{"account_id":10998031,"reputation":23,"user_id":8079474,"display_name":"Yue S"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":853,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48066590,"answer_count":2,"score":2,"last_activity_date":1684161518,"creation_date":1514876717,"question_id":48056863,"body_markdown":"I&#39;m trying to protect my classes in a running JVM by setting -XX:+DisableAttachMechanism. \r\n\r\nHowever, I found that the process prevents tools like jconsole to attach, but still I can use following command the dump all the loaded classes in that JVM:\r\n\r\n    java -Dsun.jvm.hotspot.tools.jcore.PackageNameFilter.pkgList=com.xxxx -classpath &quot;.:./bin:$JAVA_HOME/lib/sa-jdi.jar&quot; sun.jvm.hotspot.tools.jcore.ClassDump 1234\r\n\r\nIs there any way to stop this behavior by setting some options in the running JVM? Or anything to work around?\r\n\r\nThanks.","title":"Disable ClassDump to a running JVM process by using sa-jli","body":"<p>I'm trying to protect my classes in a running JVM by setting -XX:+DisableAttachMechanism. </p>\n\n<p>However, I found that the process prevents tools like jconsole to attach, but still I can use following command the dump all the loaded classes in that JVM:</p>\n\n<pre><code>java -Dsun.jvm.hotspot.tools.jcore.PackageNameFilter.pkgList=com.xxxx -classpath \".:./bin:$JAVA_HOME/lib/sa-jdi.jar\" sun.jvm.hotspot.tools.jcore.ClassDump 1234\n</code></pre>\n\n<p>Is there any way to stop this behavior by setting some options in the running JVM? Or anything to work around?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","string","unit-testing","testing","bytearrayinputstream"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":2,"creation_date":1683920094,"post_id":76239380,"comment_id":134445984,"body_markdown":"try do design your system for testability: Don&#39;t instanciate a new `Scanner` everywhere you need it, but pass it into your functions as parameter. So for the tests you can either use a mocked scanner or prepare a Scanner with an `InputStream` that represents your test input. But you will have either to reset that InputStream or create a new one per test.","body":"try do design your system for testability: Don&#39;t instanciate a new <code>Scanner</code> everywhere you need it, but pass it into your functions as parameter. So for the tests you can either use a mocked scanner or prepare a Scanner with an <code>InputStream</code> that represents your test input. But you will have either to reset that InputStream or create a new one per test."},{"owner":{"account_id":16391519,"reputation":332,"user_id":11840155,"display_name":"Aoof"},"score":0,"creation_date":1683921427,"post_id":76239380,"comment_id":134446200,"body_markdown":"cyberbrain I tried to pass it through and was faced with the same issue but let me try it out again and see if it worked then update the thread appropriately.","body":"cyberbrain I tried to pass it through and was faced with the same issue but let me try it out again and see if it worked then update the thread appropriately."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683922807,"post_id":76239380,"comment_id":134446462,"body_markdown":"What thread do you mean?","body":"What thread do you mean?"}],"answers":[{"tags":[],"owner":{"account_id":16391519,"reputation":332,"user_id":11840155,"display_name":"Aoof"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684161387,"creation_date":1683939064,"answer_id":76240640,"question_id":76239380,"body_markdown":"&gt; try do design your system for testability: Don&#39;t instanciate a new `Scanner` everywhere you need it, but pass it into your functions as parameter. So for the tests you can either use a mocked scanner or prepare a Scanner with an InputStream that represents your test input. But you will have either to reset that InputStream or create a new one per test. – \r\ncyberbrain\r\n\r\nThis is based on cyberbrain’s suggestion, passing the scanner as a parameter to every function that may require a scanner was the solution, now it is optimized for testability and we can use string input unit tests without any issues\r\n\r\n```java\r\nimport java.io.ByteArrayInputStream;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String data = &quot;1\\nThis is the first input\\nThis is the second input&quot;;\r\n\r\n        ByteArrayInputStream is = new ByteArrayInputStream(data.getBytes());\r\n        System.setIn(is);\r\n        \r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(scanner.nextLine());\r\n\r\n        func(scanner);\r\n\r\n        scanner.close();\r\n    }\r\n\r\n    private static void func(Scanner scanner) {\r\n        System.out.println(&quot;First input: &quot; + scanner.nextLine());\r\n        System.out.println(&quot;Second input: &quot; + scanner.nextLine());\r\n    }\r\n}\r\n```","title":"How to take predefined user input for unit tests in Java?","body":"<blockquote>\n<p>try do design your system for testability: Don't instanciate a new <code>Scanner</code> everywhere you need it, but pass it into your functions as parameter. So for the tests you can either use a mocked scanner or prepare a Scanner with an InputStream that represents your test input. But you will have either to reset that InputStream or create a new one per test. –\ncyberbrain</p>\n</blockquote>\n<p>This is based on cyberbrain’s suggestion, passing the scanner as a parameter to every function that may require a scanner was the solution, now it is optimized for testability and we can use string input unit tests without any issues</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.ByteArrayInputStream;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        String data = &quot;1\\nThis is the first input\\nThis is the second input&quot;;\n\n        ByteArrayInputStream is = new ByteArrayInputStream(data.getBytes());\n        System.setIn(is);\n        \n        Scanner scanner = new Scanner(System.in);\n        System.out.println(scanner.nextLine());\n\n        func(scanner);\n\n        scanner.close();\n    }\n\n    private static void func(Scanner scanner) {\n        System.out.println(&quot;First input: &quot; + scanner.nextLine());\n        System.out.println(&quot;Second input: &quot; + scanner.nextLine());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16391519,"reputation":332,"user_id":11840155,"display_name":"Aoof"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76240640,"answer_count":1,"score":0,"last_activity_date":1684161387,"creation_date":1683919616,"question_id":76239380,"body_markdown":"I am trying to use the same input from the unit test throughout the entire program, but the program has different scanner instances across its functions and classes and the input stream withdrawn from the string only works at the very first scanner but not the rest.\r\n\r\n```java\r\nimport java.io.ByteArrayInputStream;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String data = &quot;1\\nThis is the first input\\nThis is the second input&quot;;\r\n\r\n        ByteArrayInputStream is = new ByteArrayInputStream(data.getBytes());\r\n        System.setIn(is);\r\n        \r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(scanner.nextLine());\r\n        scanner.close();\r\n\r\n        func();\r\n    }\r\n\r\n    private static void func() {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;First input: &quot; + scanner.nextLine());\r\n        System.out.println(&quot;Second input: &quot; + scanner.nextLine());\r\n\r\n        scanner.close();\r\n    }\r\n}\r\n```\r\n\r\nThis is a representation of the issue I am facing, my real version has more complex foundation, but the end result is the same.\r\n\r\n```\r\n1\r\nException in thread &quot;main&quot; java.util.NoSuchElementException: No line found\r\n        at java.base/java.util.Scanner.nextLine(Scanner.java:1651)\r\n        at Main.func(Main.java:21)\r\n        at Main.main(Main.java:15)\r\n```","title":"How to take predefined user input for unit tests in Java?","body":"<p>I am trying to use the same input from the unit test throughout the entire program, but the program has different scanner instances across its functions and classes and the input stream withdrawn from the string only works at the very first scanner but not the rest.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.ByteArrayInputStream;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        String data = &quot;1\\nThis is the first input\\nThis is the second input&quot;;\n\n        ByteArrayInputStream is = new ByteArrayInputStream(data.getBytes());\n        System.setIn(is);\n        \n        Scanner scanner = new Scanner(System.in);\n        System.out.println(scanner.nextLine());\n        scanner.close();\n\n        func();\n    }\n\n    private static void func() {\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.println(&quot;First input: &quot; + scanner.nextLine());\n        System.out.println(&quot;Second input: &quot; + scanner.nextLine());\n\n        scanner.close();\n    }\n}\n</code></pre>\n<p>This is a representation of the issue I am facing, my real version has more complex foundation, but the end result is the same.</p>\n<pre><code>1\nException in thread &quot;main&quot; java.util.NoSuchElementException: No line found\n        at java.base/java.util.Scanner.nextLine(Scanner.java:1651)\n        at Main.func(Main.java:21)\n        at Main.main(Main.java:15)\n</code></pre>\n"},{"tags":["java","soap","wsdl","maven-jaxb2-plugin"],"comments":[{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":0,"creation_date":1683266052,"post_id":76178871,"comment_id":134343257,"body_markdown":"To see what the serialization problem is you should also give the code of `com.example.camel.client.stub.Generic`","body":"To see what the serialization problem is you should also give the code of <code>com.example.camel.client.stub.Generic</code>"},{"owner":{"account_id":2246079,"reputation":7967,"user_id":1979380,"accept_rate":89,"display_name":"jarvo69"},"score":0,"creation_date":1683346346,"post_id":76178871,"comment_id":134356695,"body_markdown":"added it. THat is basically generated automatically from plugin defined in pom file.","body":"added it. THat is basically generated automatically from plugin defined in pom file."}],"owner":{"account_id":2246079,"reputation":7967,"user_id":1979380,"accept_rate":89,"display_name":"jarvo69"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":608,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684161235,"creation_date":1683261307,"question_id":76178871,"body_markdown":"\r\n**NOT A DUPLICATE BECAUSE** I have tried many solutions from the stackoverflow like adding the `@XmlRootElement(name=&quot;Generic&quot;)` \r\nAnd also tried wrapping the request and response objects in `javax.xml.bind.JAXBElement` but nothing has worked for me so far. The marshalling/unmarshalling keeps failing and its been 2 days since am debugging and struggling with this issue.\r\n\r\nThe wsdl file is large so just posting here the important stuff from WSDL file.\r\n\r\nsoap.wsdl\r\n\r\n    &lt;types&gt;\r\n            &lt;xs:schema xmlns:tns=&quot;http://www.oracle.com/UCM&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; elementFormDefault=&quot;qualified&quot; targetNamespace=&quot;http://www.oracle.com/UCM&quot; version=&quot;1.0&quot;&gt;\r\n                &lt;xs:element name=&quot;Field&quot;&gt;\r\n                    &lt;xs:complexType&gt;\r\n                        &lt;xs:simpleContent&gt;\r\n                            &lt;xs:extension base=&quot;xs:string&quot;&gt;\r\n                                &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:anySimpleType&quot;/&gt;\r\n                            &lt;/xs:extension&gt;\r\n                        &lt;/xs:simpleContent&gt;\r\n                    &lt;/xs:complexType&gt;\r\n                &lt;/xs:element&gt;\r\n                &lt;xs:element name=&quot;GenericRequest&quot; type=&quot;tns:Generic&quot;/&gt;\r\n                &lt;xs:element name=&quot;GenericResponse&quot; type=&quot;tns:Generic&quot;/&gt;\r\n                &lt;xs:complexType name=&quot;Generic&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element name=&quot;Service&quot; type=&quot;tns:Service&quot;/&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                    &lt;xs:attribute name=&quot;webKey&quot; type=&quot;xs:anySimpleType&quot;/&gt;\r\n                &lt;/xs:complexType&gt;\r\n                &lt;xs:complexType name=&quot;Service&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element minOccurs=&quot;0&quot; name=&quot;User&quot; type=&quot;tns:Container&quot;/&gt;\r\n                        &lt;xs:element minOccurs=&quot;0&quot; name=&quot;Document&quot;&gt;\r\n                            &lt;xs:complexType&gt;\r\n                                &lt;xs:complexContent&gt;\r\n                                    &lt;xs:extension base=&quot;tns:Container&quot;&gt;\r\n                                        &lt;xs:sequence&gt;\r\n                                            &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;File&quot; type=&quot;tns:File&quot;/&gt;\r\n                                        &lt;/xs:sequence&gt;\r\n                                        &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;skip&quot;/&gt;\r\n                                    &lt;/xs:extension&gt;\r\n                                &lt;/xs:complexContent&gt;\r\n                            &lt;/xs:complexType&gt;\r\n                        &lt;/xs:element&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                    &lt;xs:attribute name=&quot;IdcService&quot; type=&quot;xs:anySimpleType&quot;/&gt;\r\n                &lt;/xs:complexType&gt;\r\n                &lt;xs:complexType name=&quot;Container&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; ref=&quot;tns:Field&quot;/&gt;\r\n                        &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;ResultSet&quot; type=&quot;tns:ResultSet&quot;/&gt;\r\n                        &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;OptionList&quot; type=&quot;tns:OptionList&quot;/&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                    &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;skip&quot;/&gt;\r\n                &lt;/xs:complexType&gt;\r\n                &lt;xs:complexType name=&quot;ResultSet&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;Row&quot; type=&quot;tns:Row&quot;/&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                    &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:anySimpleType&quot;/&gt;\r\n                &lt;/xs:complexType&gt;\r\n                &lt;xs:complexType name=&quot;Row&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element maxOccurs=&quot;unbounded&quot; ref=&quot;tns:Field&quot;/&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                    &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;skip&quot;/&gt;\r\n                &lt;/xs:complexType&gt;\r\n                &lt;xs:complexType name=&quot;OptionList&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element maxOccurs=&quot;unbounded&quot; name=&quot;Option&quot; type=&quot;xs:string&quot;/&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                    &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:anySimpleType&quot;/&gt;\r\n                &lt;/xs:complexType&gt;\r\n                &lt;xs:complexType name=&quot;File&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element xmlns:ns1=&quot;http://www.w3.org/2005/05/xmlmime&quot; name=&quot;Contents&quot; ns1:expectedContentTypes=&quot;application/octet-stream&quot; type=&quot;xs:base64Binary&quot;/&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                    &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:anySimpleType&quot;/&gt;\r\n                    &lt;xs:attribute name=&quot;href&quot; type=&quot;xs:anySimpleType&quot;/&gt;\r\n                &lt;/xs:complexType&gt;\r\n            &lt;/xs:schema&gt;\r\n        &lt;/types&gt;\r\n        &lt;message name=&quot;GenericSoapOperationInput&quot;&gt;\r\n            &lt;part name=&quot;GenericRequest&quot; element=&quot;ns0:GenericRequest&quot;/&gt;\r\n        &lt;/message&gt;\r\n        &lt;message name=&quot;GenericSoapOperationOutput&quot;&gt;\r\n            &lt;part name=&quot;GenericResponse&quot; element=&quot;ns0:GenericResponse&quot;/&gt;\r\n        &lt;/message&gt;\r\n        &lt;portType name=&quot;GenericSoapPortType&quot;&gt;\r\n            &lt;operation name=&quot;GenericSoapOperation&quot;&gt;\r\n                &lt;input xmlns:ns1=&quot;http://www.w3.org/2006/05/addressing/wsdl&quot; message=&quot;tns:GenericSoapOperationInput&quot; ns1:Action=&quot;urn:GenericSoap/GenericSoapOperation&quot;/&gt;\r\n                &lt;output xmlns:ns1=&quot;http://www.w3.org/2006/05/addressing/wsdl&quot; message=&quot;tns:GenericSoapOperationOutput&quot; ns1:Action=&quot;urn:GenericSoap/GenericSoapPortType/GenericSoapOperationResponse&quot;/&gt;\r\n            &lt;/operation&gt;\r\n        &lt;/portType&gt;\r\n        &lt;binding name=&quot;GenericSoapPortTypeSoapHttp&quot; type=&quot;tns:GenericSoapPortType&quot;&gt;\r\n            &lt;soap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\r\n            &lt;wsp:PolicyReference xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; URI=&quot;#wss11_saml_or_username_token_with_message_protection_service_policy&quot; wsdl:required=&quot;false&quot;/&gt;\r\n            &lt;wsp:PolicyReference xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; URI=&quot;#wsmtom_policy&quot; wsdl:required=&quot;false&quot;/&gt;\r\n            &lt;operation name=&quot;GenericSoapOperation&quot;&gt;\r\n                &lt;soap:operation soapAction=&quot;urn:GenericSoap/GenericSoapOperation&quot;/&gt;\r\n                &lt;input&gt;\r\n                    &lt;soap:body use=&quot;literal&quot; parts=&quot;GenericRequest&quot;/&gt;\r\n                    &lt;wsp:PolicyReference xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; URI=&quot;#GenericSoapPort_Input_Policy&quot; wsdl:required=&quot;false&quot;/&gt;\r\n                &lt;/input&gt;\r\n                &lt;output&gt;\r\n                    &lt;soap:body use=&quot;literal&quot; parts=&quot;GenericResponse&quot;/&gt;\r\n                    &lt;wsp:PolicyReference xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; URI=&quot;#GenericSoapPort_Output_Policy&quot; wsdl:required=&quot;false&quot;/&gt;\r\n                &lt;/output&gt;\r\n            &lt;/operation&gt;\r\n        &lt;/binding&gt;\r\n        &lt;service name=&quot;GenericSoapService&quot;&gt;\r\n            &lt;port name=&quot;GenericSoapPort&quot; binding=&quot;tns:GenericSoapPortTypeSoapHttp&quot;&gt;\r\n                &lt;soap:address location=&quot;https://myenvtest.oraclecloud.com:443/idcws/GenericSoapPort&quot;/&gt;\r\n                &lt;wsa:EndpointReference xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;\r\n                    &lt;wsa:Address xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;https://myenvtest.oraclecloud.com:443/idcws/GenericSoapPort&lt;/wsa:Address&gt;\r\n                    \r\n                &lt;/wsa:EndpointReference&gt;\r\n            &lt;/port&gt;\r\n        &lt;/service&gt;\r\n\r\n\r\n**Java config class for WSDL:**\r\n\r\n    @EnableWs\r\n    @Configuration\r\n    public class WebServiceConfig extends WsConfigurerAdapter {\r\n    \r\n    \r\n        @Bean\r\n        public Jaxb2Marshaller jaxb2Marshaller() {\r\n            Jaxb2Marshaller jaxb2Marshaller = new Jaxb2Marshaller();\r\n            jaxb2Marshaller.setContextPath(&quot;com.example.camel.client.stub&quot;);\r\n            jaxb2Marshaller.setMarshallerProperties(new HashMap&lt;&gt;() {{\r\n                put(javax.xml.bind.Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n            }});\r\n            return jaxb2Marshaller;\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        public Marshaller marshaller() {\r\n            return jaxb2Marshaller().createMarshaller();\r\n        }\r\n    \r\n        @Bean\r\n        public Unmarshaller unmarshaller() {\r\n           return jaxb2Marshaller().createUnmarshaller();\r\n        }\r\n    \r\n        @Bean\r\n        public SoapClient soapClient(Jaxb2Marshaller marshaller) {\r\n            SoapClient client = new SoapClient();\r\n            client.setDefaultUri(&quot;https://myenvtest.oraclecloud.com:443/idcws/GenericSoapPort&quot;);\r\n            client.setMarshaller(marshaller);\r\n            client.setUnmarshaller(marshaller);\r\n            return client;\r\n        }\r\n\r\nBelow is the **SoapClient** class that will call the SOAP service\r\n\r\n**SoapClient.java**\r\n\r\n    public javax.xml.bind.JAXBElement&lt;Generic&gt; getGenericResponse() throws JAXBException {\r\n            Generic request = new ObjectFactory().createGeneric();\r\n            Service service = new ObjectFactory().createService();\r\n            Service.Document document = new ObjectFactory().createServiceDocument();\r\n            Field field = new ObjectFactory().createField();\r\n            Container container = new ObjectFactory().createContainer();\r\n            container.getField().add(field);\r\n            service.setUser(container);\r\n            field.setName(&quot;dID&quot;);\r\n            field.setValue(&quot;2088250&quot;);\r\n            document.getField().add(field);\r\n            service.setIdcService(&quot;GET_FILE&quot;);\r\n            service.setDocument(document);\r\n            request.setService(service);\r\n            request.setWebKey(&quot;cs&quot;);\r\n    \r\n    \r\n    \r\n           /* jakarta.xml.bind.Marshaller marshaller = jaxb2Marshaller.createMarshaller();\r\n            marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\r\n            marshaller.marshal(new JAXBElement&lt;Generic&gt;(new QName(&quot;http://www.oracle.com/UCM&quot;,&quot;GenericRequest&quot;), Generic.class, request),\r\n                    System.out);\r\n    \r\n            String t = marshallXml(request);*/\r\n    \r\n            javax.xml.bind.JAXBElement&lt;Generic&gt; res = ( javax.xml.bind.JAXBElement&lt;Generic&gt;)\r\n            getWebServiceTemplate().marshalSendAndReceive(&quot;https://myenvtest.oraclecloud.com/idcws/GenericSoapPort&quot;, request, new SoapActionCallback(&quot;https://myenvtest.oraclecloud.com/idcws/Generic&quot;));\r\n            \r\n    return null;\r\n        }\r\n\r\nThe error I keep getting is:\r\n\r\n\r\n    com.sun.istack.SAXException2: unable to marshal type &quot;com.example.camel.client.stub.Generic&quot; as an element because it is missing an @XmlRootElement annotation\r\n\r\n\r\n**Generic.java**\r\n\r\n    //\r\n    // This file was generated by the JavaTM Architecture for XML Binding(JAXB) Reference Implementation, v2.3.0 \r\n    // See &lt;a href=&quot;https://javaee.github.io/jaxb-v2/&quot;&gt;https://javaee.github.io/jaxb-v2/&lt;/a&gt; \r\n    // Any modifications to this file will be lost upon recompilation of the source schema. \r\n    // Generated on: 2023.05.06 at 09:42:41 AM IST \r\n    //\r\n    \r\n    \r\n    package com.example.camel.client.stub;\r\n    \r\n    import javax.xml.bind.annotation.XmlAccessType;\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlAttribute;\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlSchemaType;\r\n    import javax.xml.bind.annotation.XmlType;\r\n    \r\n    \r\n    /**\r\n     * &lt;p&gt;Java class for Generic complex type.\r\n     * \r\n     * &lt;p&gt;The following schema fragment specifies the expected content contained within this class.\r\n     * \r\n     * &lt;pre&gt;\r\n     * &amp;lt;complexType name=&quot;Generic&quot;&amp;gt;\r\n     *   &amp;lt;complexContent&amp;gt;\r\n     *     &amp;lt;restriction base=&quot;{http://www.w3.org/2001/XMLSchema}anyType&quot;&amp;gt;\r\n     *       &amp;lt;sequence&amp;gt;\r\n     *         &amp;lt;element name=&quot;Service&quot; type=&quot;{http://www.oracle.com/UCM}Service&quot;/&amp;gt;\r\n     *       &amp;lt;/sequence&amp;gt;\r\n     *       &amp;lt;attribute name=&quot;webKey&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}anySimpleType&quot; /&amp;gt;\r\n     *     &amp;lt;/restriction&amp;gt;\r\n     *   &amp;lt;/complexContent&amp;gt;\r\n     * &amp;lt;/complexType&amp;gt;\r\n     * &lt;/pre&gt;\r\n     * \r\n     * \r\n     */\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;Generic&quot;, propOrder = {\r\n        &quot;service&quot;\r\n    })\r\n    public class Generic {\r\n    \r\n        @XmlElement(name = &quot;Service&quot;, required = true)\r\n        protected Service service;\r\n        @XmlAttribute(name = &quot;webKey&quot;)\r\n        @XmlSchemaType(name = &quot;anySimpleType&quot;)\r\n        protected String webKey;\r\n    \r\n        /**\r\n         * Gets the value of the service property.\r\n         * \r\n         * @return\r\n         *     possible object is\r\n         *     {@link Service }\r\n         *     \r\n         */\r\n        public Service getService() {\r\n            return service;\r\n        }\r\n    \r\n        /**\r\n         * Sets the value of the service property.\r\n         * \r\n         * @param value\r\n         *     allowed object is\r\n         *     {@link Service }\r\n         *     \r\n         */\r\n        public void setService(Service value) {\r\n            this.service = value;\r\n        }\r\n    \r\n        /**\r\n         * Gets the value of the webKey property.\r\n         * \r\n         * @return\r\n         *     possible object is\r\n         *     {@link String }\r\n         *     \r\n         */\r\n        public String getWebKey() {\r\n            return webKey;\r\n        }\r\n    \r\n        /**\r\n         * Sets the value of the webKey property.\r\n         * \r\n         * @param value\r\n         *     allowed object is\r\n         *     {@link String }\r\n         *     \r\n         */\r\n        public void setWebKey(String value) {\r\n            this.webKey = value;\r\n        }\r\n    \r\n    }\r\n\r\nNote: **Using Java 18**\r\n","title":"unable to marshal type &lt;CLASSNAME&gt; as an element because it is missing an @XmlRootElement annotation","body":"<p><strong>NOT A DUPLICATE BECAUSE</strong> I have tried many solutions from the stackoverflow like adding the <code>@XmlRootElement(name=&quot;Generic&quot;)</code>\nAnd also tried wrapping the request and response objects in <code>javax.xml.bind.JAXBElement</code> but nothing has worked for me so far. The marshalling/unmarshalling keeps failing and its been 2 days since am debugging and struggling with this issue.</p>\n<p>The wsdl file is large so just posting here the important stuff from WSDL file.</p>\n<p>soap.wsdl</p>\n<pre><code>&lt;types&gt;\n        &lt;xs:schema xmlns:tns=&quot;http://www.oracle.com/UCM&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; elementFormDefault=&quot;qualified&quot; targetNamespace=&quot;http://www.oracle.com/UCM&quot; version=&quot;1.0&quot;&gt;\n            &lt;xs:element name=&quot;Field&quot;&gt;\n                &lt;xs:complexType&gt;\n                    &lt;xs:simpleContent&gt;\n                        &lt;xs:extension base=&quot;xs:string&quot;&gt;\n                            &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:anySimpleType&quot;/&gt;\n                        &lt;/xs:extension&gt;\n                    &lt;/xs:simpleContent&gt;\n                &lt;/xs:complexType&gt;\n            &lt;/xs:element&gt;\n            &lt;xs:element name=&quot;GenericRequest&quot; type=&quot;tns:Generic&quot;/&gt;\n            &lt;xs:element name=&quot;GenericResponse&quot; type=&quot;tns:Generic&quot;/&gt;\n            &lt;xs:complexType name=&quot;Generic&quot;&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=&quot;Service&quot; type=&quot;tns:Service&quot;/&gt;\n                &lt;/xs:sequence&gt;\n                &lt;xs:attribute name=&quot;webKey&quot; type=&quot;xs:anySimpleType&quot;/&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=&quot;Service&quot;&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element minOccurs=&quot;0&quot; name=&quot;User&quot; type=&quot;tns:Container&quot;/&gt;\n                    &lt;xs:element minOccurs=&quot;0&quot; name=&quot;Document&quot;&gt;\n                        &lt;xs:complexType&gt;\n                            &lt;xs:complexContent&gt;\n                                &lt;xs:extension base=&quot;tns:Container&quot;&gt;\n                                    &lt;xs:sequence&gt;\n                                        &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;File&quot; type=&quot;tns:File&quot;/&gt;\n                                    &lt;/xs:sequence&gt;\n                                    &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;skip&quot;/&gt;\n                                &lt;/xs:extension&gt;\n                            &lt;/xs:complexContent&gt;\n                        &lt;/xs:complexType&gt;\n                    &lt;/xs:element&gt;\n                &lt;/xs:sequence&gt;\n                &lt;xs:attribute name=&quot;IdcService&quot; type=&quot;xs:anySimpleType&quot;/&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=&quot;Container&quot;&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; ref=&quot;tns:Field&quot;/&gt;\n                    &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;ResultSet&quot; type=&quot;tns:ResultSet&quot;/&gt;\n                    &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;OptionList&quot; type=&quot;tns:OptionList&quot;/&gt;\n                &lt;/xs:sequence&gt;\n                &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;skip&quot;/&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=&quot;ResultSet&quot;&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;Row&quot; type=&quot;tns:Row&quot;/&gt;\n                &lt;/xs:sequence&gt;\n                &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:anySimpleType&quot;/&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=&quot;Row&quot;&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element maxOccurs=&quot;unbounded&quot; ref=&quot;tns:Field&quot;/&gt;\n                &lt;/xs:sequence&gt;\n                &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;skip&quot;/&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=&quot;OptionList&quot;&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element maxOccurs=&quot;unbounded&quot; name=&quot;Option&quot; type=&quot;xs:string&quot;/&gt;\n                &lt;/xs:sequence&gt;\n                &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:anySimpleType&quot;/&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=&quot;File&quot;&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element xmlns:ns1=&quot;http://www.w3.org/2005/05/xmlmime&quot; name=&quot;Contents&quot; ns1:expectedContentTypes=&quot;application/octet-stream&quot; type=&quot;xs:base64Binary&quot;/&gt;\n                &lt;/xs:sequence&gt;\n                &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:anySimpleType&quot;/&gt;\n                &lt;xs:attribute name=&quot;href&quot; type=&quot;xs:anySimpleType&quot;/&gt;\n            &lt;/xs:complexType&gt;\n        &lt;/xs:schema&gt;\n    &lt;/types&gt;\n    &lt;message name=&quot;GenericSoapOperationInput&quot;&gt;\n        &lt;part name=&quot;GenericRequest&quot; element=&quot;ns0:GenericRequest&quot;/&gt;\n    &lt;/message&gt;\n    &lt;message name=&quot;GenericSoapOperationOutput&quot;&gt;\n        &lt;part name=&quot;GenericResponse&quot; element=&quot;ns0:GenericResponse&quot;/&gt;\n    &lt;/message&gt;\n    &lt;portType name=&quot;GenericSoapPortType&quot;&gt;\n        &lt;operation name=&quot;GenericSoapOperation&quot;&gt;\n            &lt;input xmlns:ns1=&quot;http://www.w3.org/2006/05/addressing/wsdl&quot; message=&quot;tns:GenericSoapOperationInput&quot; ns1:Action=&quot;urn:GenericSoap/GenericSoapOperation&quot;/&gt;\n            &lt;output xmlns:ns1=&quot;http://www.w3.org/2006/05/addressing/wsdl&quot; message=&quot;tns:GenericSoapOperationOutput&quot; ns1:Action=&quot;urn:GenericSoap/GenericSoapPortType/GenericSoapOperationResponse&quot;/&gt;\n        &lt;/operation&gt;\n    &lt;/portType&gt;\n    &lt;binding name=&quot;GenericSoapPortTypeSoapHttp&quot; type=&quot;tns:GenericSoapPortType&quot;&gt;\n        &lt;soap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\n        &lt;wsp:PolicyReference xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; URI=&quot;#wss11_saml_or_username_token_with_message_protection_service_policy&quot; wsdl:required=&quot;false&quot;/&gt;\n        &lt;wsp:PolicyReference xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; URI=&quot;#wsmtom_policy&quot; wsdl:required=&quot;false&quot;/&gt;\n        &lt;operation name=&quot;GenericSoapOperation&quot;&gt;\n            &lt;soap:operation soapAction=&quot;urn:GenericSoap/GenericSoapOperation&quot;/&gt;\n            &lt;input&gt;\n                &lt;soap:body use=&quot;literal&quot; parts=&quot;GenericRequest&quot;/&gt;\n                &lt;wsp:PolicyReference xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; URI=&quot;#GenericSoapPort_Input_Policy&quot; wsdl:required=&quot;false&quot;/&gt;\n            &lt;/input&gt;\n            &lt;output&gt;\n                &lt;soap:body use=&quot;literal&quot; parts=&quot;GenericResponse&quot;/&gt;\n                &lt;wsp:PolicyReference xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; URI=&quot;#GenericSoapPort_Output_Policy&quot; wsdl:required=&quot;false&quot;/&gt;\n            &lt;/output&gt;\n        &lt;/operation&gt;\n    &lt;/binding&gt;\n    &lt;service name=&quot;GenericSoapService&quot;&gt;\n        &lt;port name=&quot;GenericSoapPort&quot; binding=&quot;tns:GenericSoapPortTypeSoapHttp&quot;&gt;\n            &lt;soap:address location=&quot;https://myenvtest.oraclecloud.com:443/idcws/GenericSoapPort&quot;/&gt;\n            &lt;wsa:EndpointReference xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;\n                &lt;wsa:Address xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;https://myenvtest.oraclecloud.com:443/idcws/GenericSoapPort&lt;/wsa:Address&gt;\n                \n            &lt;/wsa:EndpointReference&gt;\n        &lt;/port&gt;\n    &lt;/service&gt;\n</code></pre>\n<p><strong>Java config class for WSDL:</strong></p>\n<pre><code>@EnableWs\n@Configuration\npublic class WebServiceConfig extends WsConfigurerAdapter {\n\n\n    @Bean\n    public Jaxb2Marshaller jaxb2Marshaller() {\n        Jaxb2Marshaller jaxb2Marshaller = new Jaxb2Marshaller();\n        jaxb2Marshaller.setContextPath(&quot;com.example.camel.client.stub&quot;);\n        jaxb2Marshaller.setMarshallerProperties(new HashMap&lt;&gt;() {{\n            put(javax.xml.bind.Marshaller.JAXB_FORMATTED_OUTPUT, true);\n        }});\n        return jaxb2Marshaller;\n    }\n\n\n    @Bean\n    public Marshaller marshaller() {\n        return jaxb2Marshaller().createMarshaller();\n    }\n\n    @Bean\n    public Unmarshaller unmarshaller() {\n       return jaxb2Marshaller().createUnmarshaller();\n    }\n\n    @Bean\n    public SoapClient soapClient(Jaxb2Marshaller marshaller) {\n        SoapClient client = new SoapClient();\n        client.setDefaultUri(&quot;https://myenvtest.oraclecloud.com:443/idcws/GenericSoapPort&quot;);\n        client.setMarshaller(marshaller);\n        client.setUnmarshaller(marshaller);\n        return client;\n    }\n</code></pre>\n<p>Below is the <strong>SoapClient</strong> class that will call the SOAP service</p>\n<p><strong>SoapClient.java</strong></p>\n<pre><code>public javax.xml.bind.JAXBElement&lt;Generic&gt; getGenericResponse() throws JAXBException {\n        Generic request = new ObjectFactory().createGeneric();\n        Service service = new ObjectFactory().createService();\n        Service.Document document = new ObjectFactory().createServiceDocument();\n        Field field = new ObjectFactory().createField();\n        Container container = new ObjectFactory().createContainer();\n        container.getField().add(field);\n        service.setUser(container);\n        field.setName(&quot;dID&quot;);\n        field.setValue(&quot;2088250&quot;);\n        document.getField().add(field);\n        service.setIdcService(&quot;GET_FILE&quot;);\n        service.setDocument(document);\n        request.setService(service);\n        request.setWebKey(&quot;cs&quot;);\n\n\n\n       /* jakarta.xml.bind.Marshaller marshaller = jaxb2Marshaller.createMarshaller();\n        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\n        marshaller.marshal(new JAXBElement&lt;Generic&gt;(new QName(&quot;http://www.oracle.com/UCM&quot;,&quot;GenericRequest&quot;), Generic.class, request),\n                System.out);\n\n        String t = marshallXml(request);*/\n\n        javax.xml.bind.JAXBElement&lt;Generic&gt; res = ( javax.xml.bind.JAXBElement&lt;Generic&gt;)\n        getWebServiceTemplate().marshalSendAndReceive(&quot;https://myenvtest.oraclecloud.com/idcws/GenericSoapPort&quot;, request, new SoapActionCallback(&quot;https://myenvtest.oraclecloud.com/idcws/Generic&quot;));\n        \nreturn null;\n    }\n</code></pre>\n<p>The error I keep getting is:</p>\n<pre><code>com.sun.istack.SAXException2: unable to marshal type &quot;com.example.camel.client.stub.Generic&quot; as an element because it is missing an @XmlRootElement annotation\n</code></pre>\n<p><strong>Generic.java</strong></p>\n<pre><code>//\n// This file was generated by the JavaTM Architecture for XML Binding(JAXB) Reference Implementation, v2.3.0 \n// See &lt;a href=&quot;https://javaee.github.io/jaxb-v2/&quot;&gt;https://javaee.github.io/jaxb-v2/&lt;/a&gt; \n// Any modifications to this file will be lost upon recompilation of the source schema. \n// Generated on: 2023.05.06 at 09:42:41 AM IST \n//\n\n\npackage com.example.camel.client.stub;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlAttribute;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlSchemaType;\nimport javax.xml.bind.annotation.XmlType;\n\n\n/**\n * &lt;p&gt;Java class for Generic complex type.\n * \n * &lt;p&gt;The following schema fragment specifies the expected content contained within this class.\n * \n * &lt;pre&gt;\n * &amp;lt;complexType name=&quot;Generic&quot;&amp;gt;\n *   &amp;lt;complexContent&amp;gt;\n *     &amp;lt;restriction base=&quot;{http://www.w3.org/2001/XMLSchema}anyType&quot;&amp;gt;\n *       &amp;lt;sequence&amp;gt;\n *         &amp;lt;element name=&quot;Service&quot; type=&quot;{http://www.oracle.com/UCM}Service&quot;/&amp;gt;\n *       &amp;lt;/sequence&amp;gt;\n *       &amp;lt;attribute name=&quot;webKey&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}anySimpleType&quot; /&amp;gt;\n *     &amp;lt;/restriction&amp;gt;\n *   &amp;lt;/complexContent&amp;gt;\n * &amp;lt;/complexType&amp;gt;\n * &lt;/pre&gt;\n * \n * \n */\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;Generic&quot;, propOrder = {\n    &quot;service&quot;\n})\npublic class Generic {\n\n    @XmlElement(name = &quot;Service&quot;, required = true)\n    protected Service service;\n    @XmlAttribute(name = &quot;webKey&quot;)\n    @XmlSchemaType(name = &quot;anySimpleType&quot;)\n    protected String webKey;\n\n    /**\n     * Gets the value of the service property.\n     * \n     * @return\n     *     possible object is\n     *     {@link Service }\n     *     \n     */\n    public Service getService() {\n        return service;\n    }\n\n    /**\n     * Sets the value of the service property.\n     * \n     * @param value\n     *     allowed object is\n     *     {@link Service }\n     *     \n     */\n    public void setService(Service value) {\n        this.service = value;\n    }\n\n    /**\n     * Gets the value of the webKey property.\n     * \n     * @return\n     *     possible object is\n     *     {@link String }\n     *     \n     */\n    public String getWebKey() {\n        return webKey;\n    }\n\n    /**\n     * Sets the value of the webKey property.\n     * \n     * @param value\n     *     allowed object is\n     *     {@link String }\n     *     \n     */\n    public void setWebKey(String value) {\n        this.webKey = value;\n    }\n\n}\n</code></pre>\n<p>Note: <strong>Using Java 18</strong></p>\n"},{"tags":["javascript","java","reactjs","spring-boot","webpack"],"answers":[{"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683876171,"creation_date":1683876171,"answer_id":76234010,"question_id":76197718,"body_markdown":"Your router is configured to handle all URLs and return an HTML page:\r\n\r\n```java\r\nreturn RouterFunctions.route(\r\n\tGET(&quot;/*&quot;),\r\n\trequest -&gt; ServerResponse.ok().contentType(MediaType.TEXT_HTML).bodyValue(html)\r\n);\r\n```\r\n\r\nIf your page contains a `&lt;script src=&quot;...&quot;&gt;` tag, the browser will fetch the URL to get the script.\r\nThe server will return an HTML page with the `text/html` content-type, which triggers the error message\r\nbecause the browser expects `text/javascript` instead.\r\n","title":"Issue with SSR with React and Spring boot java","body":"<p>Your router is configured to handle all URLs and return an HTML page:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return RouterFunctions.route(\n    GET(&quot;/*&quot;),\n    request -&gt; ServerResponse.ok().contentType(MediaType.TEXT_HTML).bodyValue(html)\n);\n</code></pre>\n<p>If your page contains a <code>&lt;script src=&quot;...&quot;&gt;</code> tag, the browser will fetch the URL to get the script.\nThe server will return an HTML page with the <code>text/html</code> content-type, which triggers the error message\nbecause the browser expects <code>text/javascript</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684161173,"creation_date":1683927957,"answer_id":76240110,"question_id":76197718,"body_markdown":"You may try using Spring&#39;s [script views](https://docs.spring.io/spring-framework/reference/web/webmvc-view/mvc-script.html) for this purpose: if you think about that, in the end you need some type of engine for dealing with SSR. For React, the documentation suggest the use of Nashorn.\r\n\r\nThe documentation suggest a possible [configuration](https://docs.spring.io/spring-framework/reference/web/webmvc-view/mvc-script.html#mvc-view-script-integrate) for different scripting libraries:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebMvc\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n\t@Override\r\n\tpublic void configureViewResolvers(ViewResolverRegistry registry) {\r\n\t\tregistry.scriptTemplate();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ScriptTemplateConfigurer configurer() {\r\n\t\tScriptTemplateConfigurer configurer = new ScriptTemplateConfigurer();\r\n\t\tconfigurer.setEngineName(&quot;nashorn&quot;);\r\n\t\tconfigurer.setScripts(&quot;mustache.js&quot;);\r\n\t\tconfigurer.setRenderObject(&quot;Mustache&quot;);\r\n\t\tconfigurer.setRenderFunction(&quot;render&quot;);\r\n\t\treturn configurer;\r\n\t}\r\n}\r\n```\r\n\r\nIn the specific use case of React we can find different, more complete examples, for instance in [this Github repository](https://github.com/onready/spring-react-ssr/blob/master/src/main/java/com/onready/springreactssr/config/WebConfig.java):\r\n\r\n```java\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.ViewResolverRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\nimport org.springframework.web.servlet.view.script.ScriptTemplateConfigurer;\r\n\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n  @Override\r\n  public void configureViewResolvers(ViewResolverRegistry viewResolverRegistry) {\r\n    viewResolverRegistry.scriptTemplate().prefix(&quot;/templates/&quot;).suffix(&quot;.html&quot;);\r\n  }\r\n\r\n  @Bean\r\n  public ScriptTemplateConfigurer scriptTemplateConfigurer() {\r\n    ScriptTemplateConfigurer scriptTemplateConfigurer = new ScriptTemplateConfigurer(&quot;nashorn&quot;);\r\n    scriptTemplateConfigurer.setScripts(&quot;/js/polyfill.js&quot;, &quot;/js/built/bundle-server.js&quot;);\r\n    scriptTemplateConfigurer.setRenderFunction(&quot;render&quot;);\r\n    scriptTemplateConfigurer.setSharedEngine(false);\r\n    return scriptTemplateConfigurer;\r\n  }\r\n\r\n}\r\n```\r\n\r\nOr [this other one](https://github.com/davehancock/react-ssr-sample-java-nashorn/blob/master/src/main/java/com/djh/SSRConfiguration.java), dated, but I think still useful as well:\r\n\r\n```java\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.ViewResolver;\r\nimport org.springframework.web.servlet.view.script.ScriptTemplateConfigurer;\r\nimport org.springframework.web.servlet.view.script.ScriptTemplateViewResolver;\r\n\r\n/**\r\n * @author David Hancock\r\n */\r\n@Configuration\r\npublic class SSRConfiguration {\r\n\r\n    @Bean\r\n    public ViewResolver reactViewResolver() {\r\n        return new ScriptTemplateViewResolver(&quot;/public/&quot;, &quot;.html&quot;);\r\n    }\r\n\r\n    @Bean\r\n    public ScriptTemplateConfigurer reactConfigurer() {\r\n        ScriptTemplateConfigurer configurer = new ScriptTemplateConfigurer();\r\n        configurer.setEngineName(&quot;nashorn&quot;);\r\n        configurer.setScripts(\r\n                &quot;public/nashorn-polyfill.js&quot;,\r\n                &quot;public/server.js&quot;\r\n        );\r\n        configurer.setRenderFunction(&quot;render&quot;);\r\n        configurer.setSharedEngine(false);\r\n        return configurer;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAs you can see they look quite similar in the implementation: basically, you need to indicate the scripts that should be loaded by the script engine, one of course the `bundle` generated by `webpack`, and at least one more (see [this](https://github.com/onready/spring-react-ssr/blob/master/src/main/resources/js/polyfill.js) or [this other example](https://github.com/davehancock/react-ssr-sample-java-nashorn/blob/master/public/nashorn-polyfill.js)), a polyfill for supporting `window`, etc.\r\n\r\nI came across [another good example](https://github.com/terwer/spring-vue-ssr/blob/master/src/main/java/com/terwergreen/vue/VueRenderer.java): it is for Vue, not for React, but even in that case it provides a good example of using the Nashorn engine for SSR.\r\n\r\nAs a follow-up of the comment provided by @walen, probably a much better solution than using Spring Boot and some type of script engine implemented in Java - nowadays deprecated - for serving the React content, is architecting your application in a different way, deploying independently your backend and your frontend. Then, use `NodeJS` actually run your React application, and optionally nginx, Apache, or other type of reverse proxy to serve everything, it is the normal way to proceed. You can use Docker (Kubernetes, etc) or some type of equivalent container infrastructure to deploy the solution as a whole. From a microservices point of view this different architecture is preferable.","title":"Issue with SSR with React and Spring boot java","body":"<p>You may try using Spring's <a href=\"https://docs.spring.io/spring-framework/reference/web/webmvc-view/mvc-script.html\" rel=\"nofollow noreferrer\">script views</a> for this purpose: if you think about that, in the end you need some type of engine for dealing with SSR. For React, the documentation suggest the use of Nashorn.</p>\n<p>The documentation suggest a possible <a href=\"https://docs.spring.io/spring-framework/reference/web/webmvc-view/mvc-script.html#mvc-view-script-integrate\" rel=\"nofollow noreferrer\">configuration</a> for different scripting libraries:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void configureViewResolvers(ViewResolverRegistry registry) {\n        registry.scriptTemplate();\n    }\n\n    @Bean\n    public ScriptTemplateConfigurer configurer() {\n        ScriptTemplateConfigurer configurer = new ScriptTemplateConfigurer();\n        configurer.setEngineName(&quot;nashorn&quot;);\n        configurer.setScripts(&quot;mustache.js&quot;);\n        configurer.setRenderObject(&quot;Mustache&quot;);\n        configurer.setRenderFunction(&quot;render&quot;);\n        return configurer;\n    }\n}\n</code></pre>\n<p>In the specific use case of React we can find different, more complete examples, for instance in <a href=\"https://github.com/onready/spring-react-ssr/blob/master/src/main/java/com/onready/springreactssr/config/WebConfig.java\" rel=\"nofollow noreferrer\">this Github repository</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.ViewResolverRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport org.springframework.web.servlet.view.script.ScriptTemplateConfigurer;\n\n@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n  @Override\n  public void configureViewResolvers(ViewResolverRegistry viewResolverRegistry) {\n    viewResolverRegistry.scriptTemplate().prefix(&quot;/templates/&quot;).suffix(&quot;.html&quot;);\n  }\n\n  @Bean\n  public ScriptTemplateConfigurer scriptTemplateConfigurer() {\n    ScriptTemplateConfigurer scriptTemplateConfigurer = new ScriptTemplateConfigurer(&quot;nashorn&quot;);\n    scriptTemplateConfigurer.setScripts(&quot;/js/polyfill.js&quot;, &quot;/js/built/bundle-server.js&quot;);\n    scriptTemplateConfigurer.setRenderFunction(&quot;render&quot;);\n    scriptTemplateConfigurer.setSharedEngine(false);\n    return scriptTemplateConfigurer;\n  }\n\n}\n</code></pre>\n<p>Or <a href=\"https://github.com/davehancock/react-ssr-sample-java-nashorn/blob/master/src/main/java/com/djh/SSRConfiguration.java\" rel=\"nofollow noreferrer\">this other one</a>, dated, but I think still useful as well:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.ViewResolver;\nimport org.springframework.web.servlet.view.script.ScriptTemplateConfigurer;\nimport org.springframework.web.servlet.view.script.ScriptTemplateViewResolver;\n\n/**\n * @author David Hancock\n */\n@Configuration\npublic class SSRConfiguration {\n\n    @Bean\n    public ViewResolver reactViewResolver() {\n        return new ScriptTemplateViewResolver(&quot;/public/&quot;, &quot;.html&quot;);\n    }\n\n    @Bean\n    public ScriptTemplateConfigurer reactConfigurer() {\n        ScriptTemplateConfigurer configurer = new ScriptTemplateConfigurer();\n        configurer.setEngineName(&quot;nashorn&quot;);\n        configurer.setScripts(\n                &quot;public/nashorn-polyfill.js&quot;,\n                &quot;public/server.js&quot;\n        );\n        configurer.setRenderFunction(&quot;render&quot;);\n        configurer.setSharedEngine(false);\n        return configurer;\n    }\n\n}\n</code></pre>\n<p>As you can see they look quite similar in the implementation: basically, you need to indicate the scripts that should be loaded by the script engine, one of course the <code>bundle</code> generated by <code>webpack</code>, and at least one more (see <a href=\"https://github.com/onready/spring-react-ssr/blob/master/src/main/resources/js/polyfill.js\" rel=\"nofollow noreferrer\">this</a> or <a href=\"https://github.com/davehancock/react-ssr-sample-java-nashorn/blob/master/public/nashorn-polyfill.js\" rel=\"nofollow noreferrer\">this other example</a>), a polyfill for supporting <code>window</code>, etc.</p>\n<p>I came across <a href=\"https://github.com/terwer/spring-vue-ssr/blob/master/src/main/java/com/terwergreen/vue/VueRenderer.java\" rel=\"nofollow noreferrer\">another good example</a>: it is for Vue, not for React, but even in that case it provides a good example of using the Nashorn engine for SSR.</p>\n<p>As a follow-up of the comment provided by @walen, probably a much better solution than using Spring Boot and some type of script engine implemented in Java - nowadays deprecated - for serving the React content, is architecting your application in a different way, deploying independently your backend and your frontend. Then, use <code>NodeJS</code> actually run your React application, and optionally nginx, Apache, or other type of reverse proxy to serve everything, it is the normal way to proceed. You can use Docker (Kubernetes, etc) or some type of equivalent container infrastructure to deploy the solution as a whole. From a microservices point of view this different architecture is preferable.</p>\n"}],"owner":{"account_id":10170052,"reputation":45263,"user_id":7510657,"accept_rate":56,"display_name":"Ashh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76240110,"answer_count":2,"score":1,"last_activity_date":1684161173,"creation_date":1683523482,"question_id":76197718,"body_markdown":"We have a web application in which the backend is spring boot and front end is react. We are trying to integrate these applications in such a way that we can make use of spring boot jar file to run them both on the same port.\r\n\r\nFollowing piece of java code is being used for integration.\r\n    \r\n```\r\n@Bean\r\n    public RouterFunction&lt;ServerResponse&gt; htmlRouter(@Value(&quot;classpath:/static/index.html&quot;) Resource html) {\r\n        return RouterFunctions.route(\r\n                GET(&quot;/*&quot;),\r\n                request -&gt; ServerResponse.ok().contentType(MediaType.TEXT_HTML).bodyValue(html)\r\n        );\r\n    }\r\n```\r\n\r\nThis is working fine when we create frontend build using react-scripts build. We want to make use of webpack build as there will be multiple such applications and they will be integrated using micro front-end which will work only when webpack is in place.\r\nWhen trying do so the jar file is getting built. When we run this jar file and hit the url we get following error- \r\n\r\n    refused to execute script from &#39;http://localhost:8765/abc/xyz&#39; because its MIME type (&#39;text/html&#39;) is not executable, and strict MIME type checking is enabled.\r\n\r\nPart of webpack config\r\n```\r\noutput: {\r\n        path: path.join(__dirname, &#39;build&#39;),\r\n        publicPath: &#39;/&#39;,\r\n        filename: &#39;bundle.js&#39;,\r\n    }\r\n```\r\n\r\nFollowing is the folder structure of the project\r\n\r\n[![enter image description here](https://i.stack.imgur.com/eMfip.png)](https://i.stack.imgur.com/eMfip.png)\r\n","title":"Issue with SSR with React and Spring boot java","body":"<p>We have a web application in which the backend is spring boot and front end is react. We are trying to integrate these applications in such a way that we can make use of spring boot jar file to run them both on the same port.</p>\n<p>Following piece of java code is being used for integration.</p>\n<pre><code>@Bean\n    public RouterFunction&lt;ServerResponse&gt; htmlRouter(@Value(&quot;classpath:/static/index.html&quot;) Resource html) {\n        return RouterFunctions.route(\n                GET(&quot;/*&quot;),\n                request -&gt; ServerResponse.ok().contentType(MediaType.TEXT_HTML).bodyValue(html)\n        );\n    }\n</code></pre>\n<p>This is working fine when we create frontend build using react-scripts build. We want to make use of webpack build as there will be multiple such applications and they will be integrated using micro front-end which will work only when webpack is in place.\nWhen trying do so the jar file is getting built. When we run this jar file and hit the url we get following error-</p>\n<pre><code>refused to execute script from 'http://localhost:8765/abc/xyz' because its MIME type ('text/html') is not executable, and strict MIME type checking is enabled.\n</code></pre>\n<p>Part of webpack config</p>\n<pre><code>output: {\n        path: path.join(__dirname, 'build'),\n        publicPath: '/',\n        filename: 'bundle.js',\n    }\n</code></pre>\n<p>Following is the folder structure of the project</p>\n<p><a href=\"https://i.stack.imgur.com/eMfip.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eMfip.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","authentication","callback","background-process"],"answers":[{"tags":[],"owner":{"account_id":5771601,"reputation":742,"user_id":4554899,"display_name":"Vinay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684010762,"creation_date":1684010762,"answer_id":76244805,"question_id":76243893,"body_markdown":"define your custom schema on intent filter \r\n\r\n        &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n        &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n        &lt;data android:scheme=&quot;your_custom_scheme&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n\r\ndefine a callback url \r\n\r\n    String callbackUrl = &quot;your_custom_scheme://callback&quot;;\r\n\r\npass this to your intent as below\r\n\r\n    intent.putExtra(&quot;android.intent.extra.REFERRER&quot;, Uri.parse(callbackUrl));\r\n\r\nWhen the user performs the desired action in the external browser and triggers the callback, the browser should attempt to open the callback URL. This should bring your app back to the foreground.\r\nIn your activity, override the onNewIntent method to handle the callback when your app is already running\r\n\r\n        @Override\r\n    protected void onNewIntent(Intent intent) {\r\n        super.onNewIntent(intent);\r\n        Uri data = intent.getData();\r\n        if (data != null &amp;&amp; data.getScheme().equals(&quot;your_custom_scheme&quot;)) {\r\n            // Handle the callback here\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to receive callback with app in background","body":"<p>define your custom schema on intent filter</p>\n<pre><code>    &lt;intent-filter&gt;\n    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n    &lt;data android:scheme=&quot;your_custom_scheme&quot; /&gt;\n&lt;/intent-filter&gt;\n</code></pre>\n<p>define a callback url</p>\n<pre><code>String callbackUrl = &quot;your_custom_scheme://callback&quot;;\n</code></pre>\n<p>pass this to your intent as below</p>\n<pre><code>intent.putExtra(&quot;android.intent.extra.REFERRER&quot;, Uri.parse(callbackUrl));\n</code></pre>\n<p>When the user performs the desired action in the external browser and triggers the callback, the browser should attempt to open the callback URL. This should bring your app back to the foreground.\nIn your activity, override the onNewIntent method to handle the callback when your app is already running</p>\n<pre><code>    @Override\nprotected void onNewIntent(Intent intent) {\n    super.onNewIntent(intent);\n    Uri data = intent.getData();\n    if (data != null &amp;&amp; data.getScheme().equals(&quot;your_custom_scheme&quot;)) {\n        // Handle the callback here\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22465491,"reputation":39,"user_id":21788758,"display_name":"kumarvhat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76244805,"answer_count":1,"score":0,"last_activity_date":1684161166,"creation_date":1683996455,"question_id":76243893,"body_markdown":"I would like to be able to receive a callback when my app is in the background and then switch back to the application without any manual steps from the user when the callback is received. An activity opens an external browser for the user to perform some action. Then the phone should receive a callback; which it does, but not until the user manually switches back to the application from the webview (an undesired step). Until then, the page seems to get hung up. My questions are...\r\n\r\n1) Do I need to create a websocket? or Notification Handler?\r\n2) If so, how would I go about that for this case?\r\n3) Do I need to switch this to an activityforResult and when the result (any result) happens to then switch back to the application?\r\n4) if so, how would I do that?\r\n\r\n\r\nHere is what I have in terms of code:\r\nOpen the web page where &#39;exe&#39; is the webpage as a string\r\n\r\n```\r\nLog.i(&quot;inititating commands for&quot;, exe);\r\n                Intent i = new Intent(Intent.ACTION_VIEW, Uri.parse(exe));\r\n                i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                i.setPackage(&quot;com.android.chrome&quot;);\r\n                try {\r\n                    context.startActivity(i);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n```\r\n\r\nmainfest.xml intent filters (i&#39;m not certain this is neccessary, nor am I sure it changed anything for me)\r\n\r\n```\r\n&lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n                           &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n                           &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n                           &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n                           &lt;data android:host=&quot;127.0.0.1:54321/&quot; android:scheme=&quot;http&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI&#39;m experiencing quasi-success.  The flow completes, but with extra steps from the user.  I would like to remove those manual steps, and make the flow seamless from the user&#39;s perspective.\r\n\r\n","title":"How to receive callback with app in background","body":"<p>I would like to be able to receive a callback when my app is in the background and then switch back to the application without any manual steps from the user when the callback is received. An activity opens an external browser for the user to perform some action. Then the phone should receive a callback; which it does, but not until the user manually switches back to the application from the webview (an undesired step). Until then, the page seems to get hung up. My questions are...</p>\n<ol>\n<li>Do I need to create a websocket? or Notification Handler?</li>\n<li>If so, how would I go about that for this case?</li>\n<li>Do I need to switch this to an activityforResult and when the result (any result) happens to then switch back to the application?</li>\n<li>if so, how would I do that?</li>\n</ol>\n<p>Here is what I have in terms of code:\nOpen the web page where 'exe' is the webpage as a string</p>\n<pre><code>Log.i(&quot;inititating commands for&quot;, exe);\n                Intent i = new Intent(Intent.ACTION_VIEW, Uri.parse(exe));\n                i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                i.setPackage(&quot;com.android.chrome&quot;);\n                try {\n                    context.startActivity(i);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n\n</code></pre>\n<p>mainfest.xml intent filters (i'm not certain this is neccessary, nor am I sure it changed anything for me)</p>\n<pre><code>&lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n                           &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n                           &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n                           &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n                           &lt;data android:host=&quot;127.0.0.1:54321/&quot; android:scheme=&quot;http&quot;/&gt;\n            &lt;/intent-filter&gt;\n</code></pre>\n<p>I'm experiencing quasi-success.  The flow completes, but with extra steps from the user.  I would like to remove those manual steps, and make the flow seamless from the user's perspective.</p>\n"},{"tags":["java","android","exoplayer","exoplayer2.x"],"answers":[{"tags":[],"owner":{"account_id":133209,"reputation":24579,"user_id":334402,"accept_rate":50,"display_name":"Mick"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684160534,"creation_date":1620143127,"answer_id":67387978,"question_id":67358205,"body_markdown":"**Update 2023**\r\n\r\nThe YouTube player SDK has been deprecated as pointed out by  \r\nhannunehg in the comments. The new advice is to use their iFrame player and the documentation is here: https://developers.google.com/youtube/iframe_api_reference\r\n\r\n**Original answer**\r\n\r\nYouTube prefer you to use their own player and provide an SDK and API for this:\r\n\r\n - https://developers.google.com/youtube/android/player\r\n\r\nIf you do build a solution which will extract the streams and play them in your custom player, and there are plenty of examples on SO for this, you will be at the mercy of something changing that may break you implementation without warning - look at the comments histories in some of the examples.\r\n\r\nYou also run the risk of the Android App review algorithms having a check for this and your app suddenly not complying with the the guidelines and being rejected - being accepted in the past is not really a guarantee that it will be again in the future.\r\n\r\nThe ExoPlayer track selector expects that your source manifest will have multiple tracks and its job is then to choose between them. In your case you don&#39;t have this so would either need to build some sort of proxy to create a new manifest combining the individual URL&#39;s you get by querying each resolution as you show above, or modify the player to request a completely new manifest with the single resolution you want.","title":"ExoPlayer multiple DASH URLs of different resolutions as tracks","body":"<p><strong>Update 2023</strong></p>\n<p>The YouTube player SDK has been deprecated as pointed out by<br />\nhannunehg in the comments. The new advice is to use their iFrame player and the documentation is here: <a href=\"https://developers.google.com/youtube/iframe_api_reference\" rel=\"nofollow noreferrer\">https://developers.google.com/youtube/iframe_api_reference</a></p>\n<p><strong>Original answer</strong></p>\n<p>YouTube prefer you to use their own player and provide an SDK and API for this:</p>\n<ul>\n<li><a href=\"https://developers.google.com/youtube/android/player\" rel=\"nofollow noreferrer\">https://developers.google.com/youtube/android/player</a></li>\n</ul>\n<p>If you do build a solution which will extract the streams and play them in your custom player, and there are plenty of examples on SO for this, you will be at the mercy of something changing that may break you implementation without warning - look at the comments histories in some of the examples.</p>\n<p>You also run the risk of the Android App review algorithms having a check for this and your app suddenly not complying with the the guidelines and being rejected - being accepted in the past is not really a guarantee that it will be again in the future.</p>\n<p>The ExoPlayer track selector expects that your source manifest will have multiple tracks and its job is then to choose between them. In your case you don't have this so would either need to build some sort of proxy to create a new manifest combining the individual URL's you get by querying each resolution as you show above, or modify the player to request a completely new manifest with the single resolution you want.</p>\n"}],"owner":{"account_id":5254759,"reputation":111,"user_id":11084616,"display_name":"Mihir Kandoi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684160534,"creation_date":1619969967,"question_id":67358205,"body_markdown":"I am working with an app that is supposed to play YouTube videos using ExoPlayer2. To fetch the DASH URL of the video I am using [this][1] library. The problem with this approach is that the library returns different URLs based on what resolution (itag) you want. For example, if you want the 720p variant of a video you will do something like:\r\n\r\n```\r\nString youtubeLink = &quot;http://youtube.com/watch?v=xxxx&quot;;\r\n\r\nnew YouTubeExtractor(this) {\r\n    @Override\r\n    public void onExtractionComplete(SparseArray&lt;YtFile&gt; ytFiles, VideoMeta vMeta) {\r\n        if (ytFiles != null) {\r\n            int itag = 22;    //22 == 720p\r\n\t    String downloadUrl = ytFiles.get(itag).getUrl();\r\n        }\r\n    }\r\n}.extract(youtubeLink, true, true);\r\n```\r\n\r\nI can make this URL as a MediaSource and set it using `setMediaSource` and it works but with only a single resolution (720p in this case). I want to do something like the photo attached to the answer to [this][2] question. \r\n\r\nI tried reading the docs, I tried Google-Fu but all went in vain. Any ideas on how can I create different tracks with different resolutions for the same video? I tried putting `MediaItem`s and setting them to the player but it instead creates a playlist rather than tracks. Any help?\r\n\r\nSorry for the lack of code, the previous developer has made a complete mess in organizing the code and I do not know what is where. If I can just get a rough code that would be insanely helpful.\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://github.com/HaarigerHarald/android-youtubeExtractor\r\n  [2]: https://stackoverflow.com/questions/44061924/is-it-possible-to-change-resolution-of-exoplayer-manually/44068596#44068596","title":"ExoPlayer multiple DASH URLs of different resolutions as tracks","body":"<p>I am working with an app that is supposed to play YouTube videos using ExoPlayer2. To fetch the DASH URL of the video I am using <a href=\"https://github.com/HaarigerHarald/android-youtubeExtractor\" rel=\"nofollow noreferrer\">this</a> library. The problem with this approach is that the library returns different URLs based on what resolution (itag) you want. For example, if you want the 720p variant of a video you will do something like:</p>\n<pre><code>String youtubeLink = &quot;http://youtube.com/watch?v=xxxx&quot;;\n\nnew YouTubeExtractor(this) {\n    @Override\n    public void onExtractionComplete(SparseArray&lt;YtFile&gt; ytFiles, VideoMeta vMeta) {\n        if (ytFiles != null) {\n            int itag = 22;    //22 == 720p\n        String downloadUrl = ytFiles.get(itag).getUrl();\n        }\n    }\n}.extract(youtubeLink, true, true);\n</code></pre>\n<p>I can make this URL as a MediaSource and set it using <code>setMediaSource</code> and it works but with only a single resolution (720p in this case). I want to do something like the photo attached to the answer to <a href=\"https://stackoverflow.com/questions/44061924/is-it-possible-to-change-resolution-of-exoplayer-manually/44068596#44068596\">this</a> question.</p>\n<p>I tried reading the docs, I tried Google-Fu but all went in vain. Any ideas on how can I create different tracks with different resolutions for the same video? I tried putting <code>MediaItem</code>s and setting them to the player but it instead creates a playlist rather than tracks. Any help?</p>\n<p>Sorry for the lack of code, the previous developer has made a complete mess in organizing the code and I do not know what is where. If I can just get a rough code that would be insanely helpful.</p>\n<p>Thanks</p>\n"},{"tags":["java","jwt"],"answers":[{"tags":[],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684160453,"creation_date":1429127812,"answer_id":29659690,"question_id":29659536,"body_markdown":"I implemented the code to use &quot;nimbus-jose-jwt&quot; library, please find the code below\r\n\r\n```java\r\nJWTClaimsSet jwtClaims = new JWTClaimsSet();\r\njwtClaims.setIssuer(ISSUER);\r\njwtClaims.setSubject(SUBJECT);\r\n\r\nList&lt;String&gt; aud = new ArrayList&lt;String&gt;();\r\naud.add(&quot;https://app-one.com&quot;);\r\naud.add(&quot;https://app-two.com&quot;);\r\n\r\njwtClaims.setAudience(aud);\r\n// Set expiration in 10 minutes\r\njwtClaims.setExpirationTime(new Date(new Date().getTime() + 1000*60*10));\r\njwtClaims.setNotBeforeTime(new Date());\r\njwtClaims.setIssueTime(new Date());\r\njwtClaims.setJWTID(UUID.randomUUID().toString());\r\n\r\nSystem.out.println(&quot;=========== JWT CLAMINS =============&quot;);\r\nSystem.out.println(jwtClaims.toJSONObject());\r\n\r\n\r\n// Request JWT encrypted with RSA-OAEP and 128-bit AES/GCM\r\nJWEHeader header = new JWEHeader(JWEAlgorithm.RSA_OAEP, EncryptionMethod.A128GCM);\r\n\r\n// Create the encrypted JWT object\r\nEncryptedJWT jwt = new EncryptedJWT(header, jwtClaims);\r\n\r\n\r\n// Create an encrypter with the specified public RSA key\r\nRSAEncrypter encrypter = new RSAEncrypter(publicKey);\r\njwt.encrypt(encrypter);\r\n\r\nString jwtString = jwt.serialize();\r\n\r\nSystem.out.println(jwtString);\r\n\r\n\r\n// Parse back\r\njwt = EncryptedJWT.parse(jwtString);\r\n\r\n// Create a decrypter with the specified private RSA key\r\nRSADecrypter decrypter = new RSADecrypter(privateKey);\r\n\r\n// Decrypt\r\njwt.decrypt(decrypter);\r\n\r\n// Retrieve JWT claims\r\nSystem.out.println(jwt.getJWTClaimsSet().getIssuer());;\r\nSystem.out.println(jwt.getJWTClaimsSet().getSubject());\r\nSystem.out.println(jwt.getJWTClaimsSet().getAudience().size());\r\nSystem.out.println(jwt.getJWTClaimsSet().getExpirationTime());\r\nSystem.out.println(jwt.getJWTClaimsSet().getNotBeforeTime());\r\nSystem.out.println(jwt.getJWTClaimsSet().getIssueTime());\r\nSystem.out.println(jwt.getJWTClaimsSet().getJWTID());\r\n```\r\n\r\nThis code has also use the public and private keys to create JWT token, also you will need those keys to extract claims and validate it.\r\n    \r\nOnce you run this code, you should be able to see following jwtClaims:\r\n\r\n```json       \r\n{\r\n    &quot;exp&quot;: 1429126207,\r\n    &quot;sub&quot;: &quot;alice&quot;,\r\n    &quot;nbf&quot;: 1429125607,\r\n    &quot;aud&quot;: [\r\n          &quot;https://app-one.com&quot;,\r\n          &quot;https://app-two.com&quot;\r\n    ],\r\n    &quot;iss&quot;: &quot;A FaceBook Cooperation&quot;,    \r\n    &quot;jti&quot;: &quot;5c94d2db-e818-4746-b2f2-a4cd084d5a44&quot;,\r\n    &quot;iat&quot;: 1429125607\r\n}\r\n```","title":"Create JWT (Json Web Token) with RSA encryption using Java library","body":"<p>I implemented the code to use &quot;nimbus-jose-jwt&quot; library, please find the code below</p>\n<pre class=\"lang-java prettyprint-override\"><code>JWTClaimsSet jwtClaims = new JWTClaimsSet();\njwtClaims.setIssuer(ISSUER);\njwtClaims.setSubject(SUBJECT);\n\nList&lt;String&gt; aud = new ArrayList&lt;String&gt;();\naud.add(&quot;https://app-one.com&quot;);\naud.add(&quot;https://app-two.com&quot;);\n\njwtClaims.setAudience(aud);\n// Set expiration in 10 minutes\njwtClaims.setExpirationTime(new Date(new Date().getTime() + 1000*60*10));\njwtClaims.setNotBeforeTime(new Date());\njwtClaims.setIssueTime(new Date());\njwtClaims.setJWTID(UUID.randomUUID().toString());\n\nSystem.out.println(&quot;=========== JWT CLAMINS =============&quot;);\nSystem.out.println(jwtClaims.toJSONObject());\n\n\n// Request JWT encrypted with RSA-OAEP and 128-bit AES/GCM\nJWEHeader header = new JWEHeader(JWEAlgorithm.RSA_OAEP, EncryptionMethod.A128GCM);\n\n// Create the encrypted JWT object\nEncryptedJWT jwt = new EncryptedJWT(header, jwtClaims);\n\n\n// Create an encrypter with the specified public RSA key\nRSAEncrypter encrypter = new RSAEncrypter(publicKey);\njwt.encrypt(encrypter);\n\nString jwtString = jwt.serialize();\n\nSystem.out.println(jwtString);\n\n\n// Parse back\njwt = EncryptedJWT.parse(jwtString);\n\n// Create a decrypter with the specified private RSA key\nRSADecrypter decrypter = new RSADecrypter(privateKey);\n\n// Decrypt\njwt.decrypt(decrypter);\n\n// Retrieve JWT claims\nSystem.out.println(jwt.getJWTClaimsSet().getIssuer());;\nSystem.out.println(jwt.getJWTClaimsSet().getSubject());\nSystem.out.println(jwt.getJWTClaimsSet().getAudience().size());\nSystem.out.println(jwt.getJWTClaimsSet().getExpirationTime());\nSystem.out.println(jwt.getJWTClaimsSet().getNotBeforeTime());\nSystem.out.println(jwt.getJWTClaimsSet().getIssueTime());\nSystem.out.println(jwt.getJWTClaimsSet().getJWTID());\n</code></pre>\n<p>This code has also use the public and private keys to create JWT token, also you will need those keys to extract claims and validate it.</p>\n<p>Once you run this code, you should be able to see following jwtClaims:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;exp&quot;: 1429126207,\n    &quot;sub&quot;: &quot;alice&quot;,\n    &quot;nbf&quot;: 1429125607,\n    &quot;aud&quot;: [\n          &quot;https://app-one.com&quot;,\n          &quot;https://app-two.com&quot;\n    ],\n    &quot;iss&quot;: &quot;A FaceBook Cooperation&quot;,    \n    &quot;jti&quot;: &quot;5c94d2db-e818-4746-b2f2-a4cd084d5a44&quot;,\n    &quot;iat&quot;: 1429125607\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4821194"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1471519539,"creation_date":1471116149,"answer_id":38936203,"question_id":29659536,"body_markdown":"If you&#39;re using the latest version of 4.23 of &#39;Nimbus Jose JWT&#39; then there is some minor changes in the API.\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.23&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI&#39;ve shown the code below for reference:\r\n    \r\n    public class JwtJoseExample {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tKeyPairGenerator keyPairGenerator;\r\n    \t\ttry {\r\n    \t\t\tkeyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n    \r\n    \t\t\tkeyPairGenerator.initialize(1024);\r\n    \r\n    \t\t\t// generate the key pair\r\n    \t\t\tKeyPair keyPair = keyPairGenerator.genKeyPair();\r\n    \r\n    \t\t\t// create KeyFactory and RSA Keys Specs\r\n    \t\t\tKeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    \t\t\tRSAPublicKeySpec publicKeySpec = keyFactory.getKeySpec(keyPair.getPublic(), RSAPublicKeySpec.class);\r\n    \t\t\tRSAPrivateKeySpec privateKeySpec = keyFactory.getKeySpec(keyPair.getPrivate(), RSAPrivateKeySpec.class);\r\n    \r\n    \t\t\t// generate (and retrieve) RSA Keys from the KeyFactory using Keys Specs\r\n    \t\t\tRSAPublicKey publicRsaKey = (RSAPublicKey) keyFactory.generatePublic(publicKeySpec);\r\n    \t\t\tRSAPrivateKey privateRsaKey  = (RSAPrivateKey) keyFactory.generatePrivate(privateKeySpec);\r\n    \r\n    \t\t\tJWTClaimsSet.Builder claimsSet = new JWTClaimsSet.Builder();\r\n    \t\t\tclaimsSet.issuer(&quot;https://my-auth-server.com&quot;);\r\n    \t\t\tclaimsSet.subject(&quot;John Kerr&quot;);\r\n    \t\t\tclaimsSet.audience(getAudience());\r\n    \t\t\tclaimsSet.expirationTime(new Date(new Date().getTime() + 1000*60*10));\r\n    \t\t\tclaimsSet.notBeforeTime(new Date());\r\n    \t\t\tclaimsSet.jwtID(UUID.randomUUID().toString());\r\n    \r\n    \t\t\tSystem.out.println(&quot;--------------------------&quot;);\r\n    \t\t\tSystem.out.println(&quot;Claim Set : \\n&quot;+claimsSet.build());\r\n    \r\n    \t\t\t// create the JWT header and specify:\r\n    \t\t\t//  RSA-OAEP as the encryption algorithm\r\n    \t\t\t//  128-bit AES/GCM as the encryption method\r\n    \t\t\tJWEHeader header = new JWEHeader(JWEAlgorithm.RSA_OAEP, EncryptionMethod.A128GCM);\r\n    \r\n    \t\t\t// create the EncryptedJWT object\r\n    \t\t\tEncryptedJWT jwt = new EncryptedJWT(header, claimsSet.build());\r\n    \r\n    \t\t\t// create an RSA encrypter with the specified public RSA key\r\n    \t\t\tRSAEncrypter encrypter = new RSAEncrypter(publicRsaKey);\r\n    \r\n    \t\t\t// do the actual encryption\r\n    \t\t\tjwt.encrypt(encrypter);\r\n    \r\n    \t\t\t// serialize to JWT compact form\r\n    \t\t\tString jwtString = jwt.serialize();\r\n    \t\t\tSystem.out.println(&quot;\\nJwt Compact Form : &quot;+jwtString);\r\n    \r\n    \t\t\t// in order to read back the data from the token using your private RSA key:\r\n    \t\t\t// parse the JWT text string using EncryptedJWT object\r\n    \t\t\tjwt = EncryptedJWT.parse(jwtString);\r\n    \r\n    \t\t\t// create a decrypter with the specified private RSA key\r\n    \t\t\tRSADecrypter decrypter = new RSADecrypter(privateRsaKey);\r\n    \r\n    \t\t\t// do the decryption\r\n    \t\t\tjwt.decrypt(decrypter);\r\n    \r\n    \t\t\t// print out the claims\r\n    \r\n    \t\t\tSystem.out.println(&quot;===========================================================&quot;);\r\n    \t\t\tSystem.out.println(&quot;Issuer: [ &quot; + jwt.getJWTClaimsSet().getIssuer() + &quot;]&quot;);\r\n    \t\t\tSystem.out.println(&quot;Subject: [&quot; + jwt.getJWTClaimsSet().getSubject()+ &quot;]&quot;);\r\n    \t\t\tSystem.out.println(&quot;Audience size: [&quot; + jwt.getJWTClaimsSet().getAudience().size()+ &quot;]&quot;);\r\n    \t\t\tSystem.out.println(&quot;Expiration Time: [&quot; + jwt.getJWTClaimsSet().getExpirationTime()+ &quot;]&quot;);\r\n    \t\t\tSystem.out.println(&quot;Not Before Time: [&quot; + jwt.getJWTClaimsSet().getNotBeforeTime()+ &quot;]&quot;);\r\n    \t\t\tSystem.out.println(&quot;Issue At: [&quot; + jwt.getJWTClaimsSet().getIssueTime()+ &quot;]&quot;);\r\n    \t\t\tSystem.out.println(&quot;JWT ID: [&quot; + jwt.getJWTClaimsSet().getJWTID()+ &quot;]&quot;);\r\n    \t\t\tSystem.out.println(&quot;===========================================================&quot;);\r\n    \r\n    \t\t} catch (NoSuchAlgorithmException | InvalidKeySpecException | JOSEException | ParseException e) {\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static List&lt;String&gt; getAudience(){\r\n    \t\tList&lt;String&gt; audience = new ArrayList&lt;&gt;();\r\n    \t\taudience.add(&quot;https://my-web-app.com&quot;);\r\n    \t\taudience.add(&quot;https://your-web-app.com&quot;);\r\n    \t\treturn audience;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n   The output is:\r\n--------------------------\r\nClaim Set : \r\n\r\n    {&quot;sub&quot;:&quot;John Kerr&quot;,&quot;aud&quot;:[&quot;https:\\/\\/my-web-app.com&quot;,&quot;https:\\/\\/your-web-app.com&quot;],&quot;nbf&quot;:1471116052,&quot;iss&quot;:&quot;https:\\/\\/my-auth-server.com&quot;,&quot;exp&quot;:1471116652,&quot;jti&quot;:&quot;8769fc6d-b69f-45e3-b1a5-52695c23675e&quot;}\r\n\r\nJwt Compact Form : \r\n\r\n    eyJlbmMiOiJBMTI4R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.f2ZZyMaJi03RqunyWsLvIr7tNX1KvTRUcpN9qsBHvbXIouZCyepQMsbI1v88GHuLIV3f6SviCDyICp7kZCj_9q-yIi_dIuroADWQ-P_UnqNPRXQ1yEwbmrLUK80lBtKyc3Z6g_3Db_HLtD6QPEq-zUAh3wJ7uSPxhql2oc9otGc.Xbyrf4iWM0shNp4S.TCKoJGAEQ4rpJJk2qZP11awxTEWTg-r5VpppGgZNhiHCBhnGnyR2sb86O7ISc3j-i4OYp7Xl2vThzztD1ojy_IKPYQkg_iACuo6yjzdopQQT143vjYuFLfFhQFfjfCoO6iibTqK7vmqfF0bUWD6Nj-4MwjlW6dFV7mNQEN50dkiMrFMZkmiVKZRa50jOK1NcoWYiKSrCOQduJYibJfF6jSQARX9MsX5tib-3BXSsKtPLNrQ6mFfvDzzruBuO4gKWLE3PQPUfIQ.gXt5KcpxEbfYLP854GvcQw\r\n    ===========================================================\r\n    Issuer: [ https://my-auth-server.com]\r\n    Subject: [John Kerr]\r\n    Audience size: [2]\r\n    Expiration Time: [Sun Aug 14 01:00:52 IST 2016]\r\n    Not Before Time: [Sun Aug 14 00:50:52 IST 2016]\r\n    Issue At: [null]\r\n    JWT ID: [8769fc6d-b69f-45e3-b1a5-52695c23675e]\r\n    ===========================================================\r\n\r\n","title":"Create JWT (Json Web Token) with RSA encryption using Java library","body":"<p>If you're using the latest version of 4.23 of 'Nimbus Jose JWT' then there is some minor changes in the API.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\n    &lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\n    &lt;version&gt;4.23&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I've shown the code below for reference:</p>\n\n<pre><code>public class JwtJoseExample {\n    public static void main(String[] args) {\n        KeyPairGenerator keyPairGenerator;\n        try {\n            keyPairGenerator = KeyPairGenerator.getInstance(\"RSA\");\n\n            keyPairGenerator.initialize(1024);\n\n            // generate the key pair\n            KeyPair keyPair = keyPairGenerator.genKeyPair();\n\n            // create KeyFactory and RSA Keys Specs\n            KeyFactory keyFactory = KeyFactory.getInstance(\"RSA\");\n            RSAPublicKeySpec publicKeySpec = keyFactory.getKeySpec(keyPair.getPublic(), RSAPublicKeySpec.class);\n            RSAPrivateKeySpec privateKeySpec = keyFactory.getKeySpec(keyPair.getPrivate(), RSAPrivateKeySpec.class);\n\n            // generate (and retrieve) RSA Keys from the KeyFactory using Keys Specs\n            RSAPublicKey publicRsaKey = (RSAPublicKey) keyFactory.generatePublic(publicKeySpec);\n            RSAPrivateKey privateRsaKey  = (RSAPrivateKey) keyFactory.generatePrivate(privateKeySpec);\n\n            JWTClaimsSet.Builder claimsSet = new JWTClaimsSet.Builder();\n            claimsSet.issuer(\"https://my-auth-server.com\");\n            claimsSet.subject(\"John Kerr\");\n            claimsSet.audience(getAudience());\n            claimsSet.expirationTime(new Date(new Date().getTime() + 1000*60*10));\n            claimsSet.notBeforeTime(new Date());\n            claimsSet.jwtID(UUID.randomUUID().toString());\n\n            System.out.println(\"--------------------------\");\n            System.out.println(\"Claim Set : \\n\"+claimsSet.build());\n\n            // create the JWT header and specify:\n            //  RSA-OAEP as the encryption algorithm\n            //  128-bit AES/GCM as the encryption method\n            JWEHeader header = new JWEHeader(JWEAlgorithm.RSA_OAEP, EncryptionMethod.A128GCM);\n\n            // create the EncryptedJWT object\n            EncryptedJWT jwt = new EncryptedJWT(header, claimsSet.build());\n\n            // create an RSA encrypter with the specified public RSA key\n            RSAEncrypter encrypter = new RSAEncrypter(publicRsaKey);\n\n            // do the actual encryption\n            jwt.encrypt(encrypter);\n\n            // serialize to JWT compact form\n            String jwtString = jwt.serialize();\n            System.out.println(\"\\nJwt Compact Form : \"+jwtString);\n\n            // in order to read back the data from the token using your private RSA key:\n            // parse the JWT text string using EncryptedJWT object\n            jwt = EncryptedJWT.parse(jwtString);\n\n            // create a decrypter with the specified private RSA key\n            RSADecrypter decrypter = new RSADecrypter(privateRsaKey);\n\n            // do the decryption\n            jwt.decrypt(decrypter);\n\n            // print out the claims\n\n            System.out.println(\"===========================================================\");\n            System.out.println(\"Issuer: [ \" + jwt.getJWTClaimsSet().getIssuer() + \"]\");\n            System.out.println(\"Subject: [\" + jwt.getJWTClaimsSet().getSubject()+ \"]\");\n            System.out.println(\"Audience size: [\" + jwt.getJWTClaimsSet().getAudience().size()+ \"]\");\n            System.out.println(\"Expiration Time: [\" + jwt.getJWTClaimsSet().getExpirationTime()+ \"]\");\n            System.out.println(\"Not Before Time: [\" + jwt.getJWTClaimsSet().getNotBeforeTime()+ \"]\");\n            System.out.println(\"Issue At: [\" + jwt.getJWTClaimsSet().getIssueTime()+ \"]\");\n            System.out.println(\"JWT ID: [\" + jwt.getJWTClaimsSet().getJWTID()+ \"]\");\n            System.out.println(\"===========================================================\");\n\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException | JOSEException | ParseException e) {\n            System.out.println(e.getMessage());\n        }\n    }\n\n    private static List&lt;String&gt; getAudience(){\n        List&lt;String&gt; audience = new ArrayList&lt;&gt;();\n        audience.add(\"https://my-web-app.com\");\n        audience.add(\"https://your-web-app.com\");\n        return audience;\n    }\n}\n</code></pre>\n\n<h2>   The output is:</h2>\n\n<p>Claim Set : </p>\n\n<pre><code>{\"sub\":\"John Kerr\",\"aud\":[\"https:\\/\\/my-web-app.com\",\"https:\\/\\/your-web-app.com\"],\"nbf\":1471116052,\"iss\":\"https:\\/\\/my-auth-server.com\",\"exp\":1471116652,\"jti\":\"8769fc6d-b69f-45e3-b1a5-52695c23675e\"}\n</code></pre>\n\n<p>Jwt Compact Form : </p>\n\n<pre><code>eyJlbmMiOiJBMTI4R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.f2ZZyMaJi03RqunyWsLvIr7tNX1KvTRUcpN9qsBHvbXIouZCyepQMsbI1v88GHuLIV3f6SviCDyICp7kZCj_9q-yIi_dIuroADWQ-P_UnqNPRXQ1yEwbmrLUK80lBtKyc3Z6g_3Db_HLtD6QPEq-zUAh3wJ7uSPxhql2oc9otGc.Xbyrf4iWM0shNp4S.TCKoJGAEQ4rpJJk2qZP11awxTEWTg-r5VpppGgZNhiHCBhnGnyR2sb86O7ISc3j-i4OYp7Xl2vThzztD1ojy_IKPYQkg_iACuo6yjzdopQQT143vjYuFLfFhQFfjfCoO6iibTqK7vmqfF0bUWD6Nj-4MwjlW6dFV7mNQEN50dkiMrFMZkmiVKZRa50jOK1NcoWYiKSrCOQduJYibJfF6jSQARX9MsX5tib-3BXSsKtPLNrQ6mFfvDzzruBuO4gKWLE3PQPUfIQ.gXt5KcpxEbfYLP854GvcQw\n===========================================================\nIssuer: [ https://my-auth-server.com]\nSubject: [John Kerr]\nAudience size: [2]\nExpiration Time: [Sun Aug 14 01:00:52 IST 2016]\nNot Before Time: [Sun Aug 14 00:50:52 IST 2016]\nIssue At: [null]\nJWT ID: [8769fc6d-b69f-45e3-b1a5-52695c23675e]\n===========================================================\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12125902,"reputation":29,"user_id":8854768,"display_name":"VAIBHAV SHEERSH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526899963,"creation_date":1526899963,"answer_id":50447276,"question_id":29659536,"body_markdown":"    //This is a complete encryption and decryption module using \r\n    //Algorithm: JWEAlgorithm.RSA_OAEP_256\r\n    //Encryption Method: A128CBC_HS256\r\n    \r\n    public static String  encrypt(String text) throws Exception {\r\n        // Set the plain text\r\n        Payload payload = new Payload(text);\r\n        // Create the header\r\n        JWEHeader header = new JWEHeader(JWEAlgorithm.RSA_OAEP_256, EncryptionMethod.A128CBC_HS256);\r\n        // Create the JWE object and encrypt it\r\n        JWEObject jweObject = new JWEObject(header, payload);\r\n        jweObject.encrypt(new RSAEncrypter(getPublicKey()));\r\n        // Serialise to compact JOSE form...\r\n        String jweString = jweObject.serialize();\r\n        LOG.info(&quot;Generated Encrypted Key : {}&quot;, jweString);\r\n        return jweString;\r\n    }\r\n    \r\n    public static String decrypt(String text) throws Exception {\r\n        // Parse into JWE object...\r\n        JWEObject jweObject = JWEObject.parse(text);\r\n        jweObject.decrypt(new RSADecrypter(getPrivateKey()));\r\n        // Get the plain text\r\n        Payload payload = jweObject.getPayload();\r\n        System.out.println(payload.toString());\r\n        return payload.toString();\r\n    }\r\n    \r\n    private static RSAPublicKey getPublicKey() throws Exception {\r\n        String filename = &quot;/home/vaibhav/Setups/cert/pub.der&quot;;\r\n        File f = new File(filename);\r\n        FileInputStream fis = new FileInputStream(f);\r\n        DataInputStream dis = new DataInputStream(fis);\r\n        byte[] keyBytes = new byte[(int)f.length()];\r\n        dis.readFully(keyBytes);\r\n        dis.close();\r\n    \r\n        X509EncodedKeySpec spec = new X509EncodedKeySpec(keyBytes);\r\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        return (RSAPublicKey) kf.generatePublic(spec);\r\n    }\r\n    \r\n    private static RSAPrivateKey getPrivateKey() throws Exception {\r\n        String filename = &quot;/home/vaibhav/Setups/cert/private.pkcs8&quot;;\r\n        File f = new File(filename);\r\n        FileInputStream fis = new FileInputStream(f);\r\n        DataInputStream dis = new DataInputStream(fis);\r\n        byte[] keyBytes = new byte[(int)f.length()];\r\n        dis.readFully(keyBytes);\r\n        dis.close();\r\n    \r\n        PKCS8EncodedKeySpec spec1 = new PKCS8EncodedKeySpec(keyBytes);\r\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        return (RSAPrivateKey) kf.generatePrivate(spec1);\r\n    }","title":"Create JWT (Json Web Token) with RSA encryption using Java library","body":"<pre><code>//This is a complete encryption and decryption module using \n//Algorithm: JWEAlgorithm.RSA_OAEP_256\n//Encryption Method: A128CBC_HS256\n\npublic static String  encrypt(String text) throws Exception {\n    // Set the plain text\n    Payload payload = new Payload(text);\n    // Create the header\n    JWEHeader header = new JWEHeader(JWEAlgorithm.RSA_OAEP_256, EncryptionMethod.A128CBC_HS256);\n    // Create the JWE object and encrypt it\n    JWEObject jweObject = new JWEObject(header, payload);\n    jweObject.encrypt(new RSAEncrypter(getPublicKey()));\n    // Serialise to compact JOSE form...\n    String jweString = jweObject.serialize();\n    LOG.info(\"Generated Encrypted Key : {}\", jweString);\n    return jweString;\n}\n\npublic static String decrypt(String text) throws Exception {\n    // Parse into JWE object...\n    JWEObject jweObject = JWEObject.parse(text);\n    jweObject.decrypt(new RSADecrypter(getPrivateKey()));\n    // Get the plain text\n    Payload payload = jweObject.getPayload();\n    System.out.println(payload.toString());\n    return payload.toString();\n}\n\nprivate static RSAPublicKey getPublicKey() throws Exception {\n    String filename = \"/home/vaibhav/Setups/cert/pub.der\";\n    File f = new File(filename);\n    FileInputStream fis = new FileInputStream(f);\n    DataInputStream dis = new DataInputStream(fis);\n    byte[] keyBytes = new byte[(int)f.length()];\n    dis.readFully(keyBytes);\n    dis.close();\n\n    X509EncodedKeySpec spec = new X509EncodedKeySpec(keyBytes);\n    KeyFactory kf = KeyFactory.getInstance(\"RSA\");\n    return (RSAPublicKey) kf.generatePublic(spec);\n}\n\nprivate static RSAPrivateKey getPrivateKey() throws Exception {\n    String filename = \"/home/vaibhav/Setups/cert/private.pkcs8\";\n    File f = new File(filename);\n    FileInputStream fis = new FileInputStream(f);\n    DataInputStream dis = new DataInputStream(fis);\n    byte[] keyBytes = new byte[(int)f.length()];\n    dis.readFully(keyBytes);\n    dis.close();\n\n    PKCS8EncodedKeySpec spec1 = new PKCS8EncodedKeySpec(keyBytes);\n    KeyFactory kf = KeyFactory.getInstance(\"RSA\");\n    return (RSAPrivateKey) kf.generatePrivate(spec1);\n}\n</code></pre>\n"}],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15958,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":38936203,"answer_count":3,"score":3,"last_activity_date":1684160453,"creation_date":1429127401,"question_id":29659536,"body_markdown":"I am looking to develop a JWT app with RSA encryption using &quot;Nimbus JOSE+JWT&quot; library. I am seeking sample code.\r\n\r\nI would like to use the following Maven dependency:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNote: Please always use the latest version from Maven Central repository.\r\n\r\n","title":"Create JWT (Json Web Token) with RSA encryption using Java library","body":"<p>I am looking to develop a JWT app with RSA encryption using &quot;Nimbus JOSE+JWT&quot; library. I am seeking sample code.</p>\n<p>I would like to use the following Maven dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\n    &lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\n    &lt;version&gt;3.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Note: Please always use the latest version from Maven Central repository.</p>\n"},{"tags":["java","open-telemetry"],"comments":[{"owner":{"account_id":73144,"reputation":318,"user_id":210800,"display_name":"Tyler B"},"score":0,"creation_date":1683836089,"post_id":76230135,"comment_id":134431733,"body_markdown":"The MDC instrumentation currently only goes the other way as demonstrated in this document: https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/logger-mdc-instrumentation.md.  Certainly sounds like an interesting idea.  Consider [adding an issue](https://github.com/open-telemetry/opentelemetry-java-instrumentation/issues/new/choose) or [write an extension](https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/examples/extension/README.md).","body":"The MDC instrumentation currently only goes the other way as demonstrated in this document: <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/logger-mdc-instrumentation.md\" rel=\"nofollow noreferrer\">github.com/open-telemetry/opentelemetry-java-instrumentation&zwnj;&#8203;/&hellip;</a>.  Certainly sounds like an interesting idea.  Consider <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/issues/new/choose\" rel=\"nofollow noreferrer\">adding an issue</a> or <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/examples/extension/README.md\" rel=\"nofollow noreferrer\">write an extension</a>."},{"owner":{"account_id":8110945,"reputation":69,"user_id":16004993,"display_name":"James Courtney"},"score":0,"creation_date":1683915352,"post_id":76230135,"comment_id":134445204,"body_markdown":"Thanks @TylerB - any thoughts on the fallback approach (2) above?  If we can do that cleanly we can try and generalize it as an extension.","body":"Thanks @TylerB - any thoughts on the fallback approach (2) above?  If we can do that cleanly we can try and generalize it as an extension."}],"answers":[{"tags":[],"owner":{"account_id":73144,"reputation":318,"user_id":210800,"display_name":"Tyler B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684160111,"creation_date":1684160111,"answer_id":76255007,"question_id":76230135,"body_markdown":"Since MDC is statically accessible, I believe you can implement a `SpanProcessor` that adds the desired attributes to `span` in the `onStart` method.","title":"Can OpenTelemetry (Java) be configured or otherwise convinced to tag spans with MDC values?","body":"<p>Since MDC is statically accessible, I believe you can implement a <code>SpanProcessor</code> that adds the desired attributes to <code>span</code> in the <code>onStart</code> method.</p>\n"}],"owner":{"account_id":8110945,"reputation":69,"user_id":16004993,"display_name":"James Courtney"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684160111,"creation_date":1683825589,"question_id":76230135,"body_markdown":"Requests to our application are associated with a customer ID.  This metadata value is available during the scope of the request via MDC (slf4j) and used for logging and a handful of other telemetry/observability/meta sorts of activities.  It would be useful for us to have that value as a tag on all OTEL spans.\r\n\r\n1) Is there a way to configure OTEL to automatically tag spans with values from MDC context.  Ideally I&#39;d be able to configure OTEL with a set of key pairs providing the name of the tag I&#39;d like to add to the Span and the MDC key who&#39;s associated value should be set as the value of the tag.\r\n\r\n2) If the configuration-based approach articulated isn&#39;t possible, is there the ability to place a small amount of code at the start of a request (i.e. in a filter on a servlet container or similar) which would copy desired MDC values to OTEL context such that all spans created in the request thereafter would implicitly be created with / inherit those tags.\r\n\r\nIf there&#39;s another way to achieve tagging all spans for a request more or less implicitly I&#39;m all ears. \r\n\r\nThanks in advance for any help / guidance you can provide.","title":"Can OpenTelemetry (Java) be configured or otherwise convinced to tag spans with MDC values?","body":"<p>Requests to our application are associated with a customer ID.  This metadata value is available during the scope of the request via MDC (slf4j) and used for logging and a handful of other telemetry/observability/meta sorts of activities.  It would be useful for us to have that value as a tag on all OTEL spans.</p>\n<ol>\n<li><p>Is there a way to configure OTEL to automatically tag spans with values from MDC context.  Ideally I'd be able to configure OTEL with a set of key pairs providing the name of the tag I'd like to add to the Span and the MDC key who's associated value should be set as the value of the tag.</p>\n</li>\n<li><p>If the configuration-based approach articulated isn't possible, is there the ability to place a small amount of code at the start of a request (i.e. in a filter on a servlet container or similar) which would copy desired MDC values to OTEL context such that all spans created in the request thereafter would implicitly be created with / inherit those tags.</p>\n</li>\n</ol>\n<p>If there's another way to achieve tagging all spans for a request more or less implicitly I'm all ears.</p>\n<p>Thanks in advance for any help / guidance you can provide.</p>\n"},{"tags":["java","html","keycloak"],"comments":[{"owner":{"account_id":1973116,"reputation":9881,"user_id":1771556,"display_name":"Vadim Ashikhman"},"score":0,"creation_date":1566997893,"post_id":57692616,"comment_id":101830581,"body_markdown":"Did you create custom email theme and override `password-reset.ftl`?","body":"Did you create custom email theme and override <code>password-reset.ftl</code>?"},{"owner":{"account_id":13871758,"reputation":129,"user_id":10014655,"display_name":"javamat"},"score":0,"creation_date":1567089113,"post_id":57692616,"comment_id":101867122,"body_markdown":"Yes I did. I tried adding an image to theme/email/resources/img and reference to it by calling ${url.resourcePath}/img/myImage.jpg in img tag but still doesn&#39;t work","body":"Yes I did. I tried adding an image to theme/email/resources/img and reference to it by calling ${url.resourcePath}/img/myImage.jpg in img tag but still doesn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":2909206,"reputation":5133,"user_id":2493852,"display_name":"Ariel Carrera"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1568240971,"creation_date":1567002050,"answer_id":57694584,"question_id":57692616,"body_markdown":"You need to create a custom theme.\r\nCheck Keycloak&#39;s docs chapter 3: [docs][1]\r\n\r\nThere are five types of themes/pages:\r\n\r\n - Account - Account management   \r\n - Admin - Admin console\r\n - **Email - Emails**\r\n - Login - Login forms    \r\n - Welcome - Welcome page\r\n\r\nYou can start with a checkout of this sample repository [kc themes sample][2], edit templates and deploy it in your keycloak.\r\n\r\nLike the link says... to deploy it:\r\n\r\n&gt; **Copy**\r\n&gt; \r\n&gt; Simplest way to deploy the themes is to copy\r\n&gt; src/main/resources/theme/* to themes/.\r\n&gt; \r\n&gt; **Module**\r\n&gt;\r\n&gt; Alternatively you can deploy as modules. This can be done by\r\n&gt; first running:\r\n&gt; \r\n&gt; `mvn clean install $KEYCLOAK_HOME/bin/jboss-cli.sh --command=&quot;module add --name=org.keycloak.example.themes --resources=target/keycloak-example-themes.jar&quot;`\r\n&gt; \r\n&gt; Then open `standalone/configuration/standalone.xml`\r\n&gt; and register the theme module by adding:\r\n&gt; \r\n&gt;     &lt;theme&gt;\r\n&gt;         ...\r\n&gt;         &lt;modules&gt;\r\n&gt;             &lt;module&gt;org.keycloak.example.themes&lt;/module&gt;\r\n&gt;         &lt;/modules&gt;\r\n&gt;     &lt;/theme&gt;\r\n\r\nYou can copy other themes or extend it copying from [base templates][3] to your custom themes project.\r\n\r\nEmail base templates: [email templates][4]\r\n\r\nTake care to select same Keycloak version before checkout project and sources.\r\n\r\n**Steps to Add a logo to email template inside an existing custom theme**\r\n\r\n 1. Locate your template file: /html/password-reset.ftl (e.g. [base sample file][5])\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n        &lt;html&gt;\r\n        &lt;body&gt;\r\n        ${kcSanitize(msg(&quot;passwordResetBodyHtml&quot;,link, linkExpiration, realmName, linkExpirationFormatter(linkExpiration)))?no_esc}\r\n        &lt;/body&gt;\r\n        &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n 2. Replace with your code. E.g. with a base64 image or a linked reference to your image file (https://static.myserver.com/image.png, etc ...)\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n        &lt;html&gt;\r\n        &lt;body&gt;\r\n            &lt;div&gt;\r\n                &lt;img src=&quot;data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAAUA\r\n        AAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO\r\n            9TXL0Y4OHwAAAABJRU5ErkJggg==&quot; alt=&quot;Red Logo&quot;&gt;\r\n            &lt;/div&gt;\r\n            &lt;div&gt;\r\n            ${kcSanitize(msg(&quot;passwordResetBodyHtml&quot;,link, linkExpiration, realmName, linkExpirationFormatter(linkExpiration)))?no_esc}\r\n            &lt;/div&gt;\r\n        &lt;/body&gt;\r\n        &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n 3. Update your plain-text template too (if you need because not all client support html). You cannot add the image here but if a text message [file text/password-reset.ftl]\r\n\r\n\r\n 4. Package and deploy your theme in Keycloak\r\n \r\n 5. Select your email template in Realm Configuration tab\r\n\r\n\r\nAs you can see in class [DefaultEmailSenderProvider.java][6] Keycloak will try to send a HTML email and if you don&#39;t define it uses text-plain (file: text/password-reset.ftl\r\n\r\n## Update:\r\n\r\nThere are currently some limitations imposed by some email clients.\r\nI advise you to read the following note about it ([read me][7]).\r\n\r\nAs it says, many web clients do not display emails that contain more than one image in base64 embedded (or none of them).\r\n\r\nTherefore a good strategy with Keycloak emails is to use a reference to an image that is served from a static content server (if you do not have one of them, keycloak is over a wildfly that could also be configured as a static server).\r\n\r\nSo, the best solution you can implement is to add your image as follows:\r\nEg.\r\n\r\n    &lt;img src = &quot;https://static.myserver.com/static/logo.png&quot; alt = &quot;img&quot; /&gt;\r\n\r\n\r\n  [1]: https://www.keycloak.org/docs/latest/server_development/index.html#_themes\r\n  [2]: https://github.com/keycloak/keycloak/tree/master/examples/themes\r\n  [3]: https://github.com/keycloak/keycloak/tree/master/themes/src/main/resources/theme/base\r\n  [4]: https://github.com/keycloak/keycloak/tree/master/themes/src/main/resources/theme/base/email/html\r\n  [5]: https://github.com/keycloak/keycloak/blob/master/themes/src/main/resources/theme/base/email/html/password-reset.ftl\r\n  [6]: https://github.com/keycloak/keycloak/blob/3e4fbb5ecee52a842b5adfbd9a1108817140c1f7/services/src/main/java/org/keycloak/email/DefaultEmailSenderProvider.java#L113\r\n  [7]: https://blog.mailtrap.io/embedding-images-in-html-email-have-the-rules-changed/","title":"Keycloak add company logo to the reset password email","body":"<p>You need to create a custom theme.\nCheck Keycloak's docs chapter 3: <a href=\"https://www.keycloak.org/docs/latest/server_development/index.html#_themes\" rel=\"nofollow noreferrer\">docs</a></p>\n\n<p>There are five types of themes/pages:</p>\n\n<ul>\n<li>Account - Account management   </li>\n<li>Admin - Admin console</li>\n<li><strong>Email - Emails</strong></li>\n<li>Login - Login forms    </li>\n<li>Welcome - Welcome page</li>\n</ul>\n\n<p>You can start with a checkout of this sample repository <a href=\"https://github.com/keycloak/keycloak/tree/master/examples/themes\" rel=\"nofollow noreferrer\">kc themes sample</a>, edit templates and deploy it in your keycloak.</p>\n\n<p>Like the link says... to deploy it:</p>\n\n<blockquote>\n  <p><strong>Copy</strong></p>\n  \n  <p>Simplest way to deploy the themes is to copy\n  src/main/resources/theme/* to themes/.</p>\n  \n  <p><strong>Module</strong></p>\n  \n  <p>Alternatively you can deploy as modules. This can be done by\n  first running:</p>\n  \n  <p><code>mvn clean install $KEYCLOAK_HOME/bin/jboss-cli.sh --command=\"module add --name=org.keycloak.example.themes --resources=target/keycloak-example-themes.jar\"</code></p>\n  \n  <p>Then open <code>standalone/configuration/standalone.xml</code>\n  and register the theme module by adding:</p>\n\n<pre><code>&lt;theme&gt;\n    ...\n    &lt;modules&gt;\n        &lt;module&gt;org.keycloak.example.themes&lt;/module&gt;\n    &lt;/modules&gt;\n&lt;/theme&gt;\n</code></pre>\n</blockquote>\n\n<p>You can copy other themes or extend it copying from <a href=\"https://github.com/keycloak/keycloak/tree/master/themes/src/main/resources/theme/base\" rel=\"nofollow noreferrer\">base templates</a> to your custom themes project.</p>\n\n<p>Email base templates: <a href=\"https://github.com/keycloak/keycloak/tree/master/themes/src/main/resources/theme/base/email/html\" rel=\"nofollow noreferrer\">email templates</a></p>\n\n<p>Take care to select same Keycloak version before checkout project and sources.</p>\n\n<p><strong>Steps to Add a logo to email template inside an existing custom theme</strong></p>\n\n<ol>\n<li>Locate your template file: /html/password-reset.ftl (e.g. <a href=\"https://github.com/keycloak/keycloak/blob/master/themes/src/main/resources/theme/base/email/html/password-reset.ftl\" rel=\"nofollow noreferrer\">base sample file</a>)</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;html&gt;\r\n    &lt;body&gt;\r\n    ${kcSanitize(msg(\"passwordResetBodyHtml\",link, linkExpiration, realmName, linkExpirationFormatter(linkExpiration)))?no_esc}\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ol start=\"2\">\n<li>Replace with your code. E.g. with a base64 image or a linked reference to your image file (<a href=\"https://static.myserver.com/image.png\" rel=\"nofollow noreferrer\">https://static.myserver.com/image.png</a>, etc ...)</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;html&gt;\r\n    &lt;body&gt;\r\n        &lt;div&gt;\r\n            &lt;img src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAAUA\r\n    AAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO\r\n        9TXL0Y4OHwAAAABJRU5ErkJggg==\" alt=\"Red Logo\"&gt;\r\n        &lt;/div&gt;\r\n        &lt;div&gt;\r\n        ${kcSanitize(msg(\"passwordResetBodyHtml\",link, linkExpiration, realmName, linkExpirationFormatter(linkExpiration)))?no_esc}\r\n        &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ol start=\"3\">\n<li><p>Update your plain-text template too (if you need because not all client support html). You cannot add the image here but if a text message [file text/password-reset.ftl]</p></li>\n<li><p>Package and deploy your theme in Keycloak</p></li>\n<li><p>Select your email template in Realm Configuration tab</p></li>\n</ol>\n\n<p>As you can see in class <a href=\"https://github.com/keycloak/keycloak/blob/3e4fbb5ecee52a842b5adfbd9a1108817140c1f7/services/src/main/java/org/keycloak/email/DefaultEmailSenderProvider.java#L113\" rel=\"nofollow noreferrer\">DefaultEmailSenderProvider.java</a> Keycloak will try to send a HTML email and if you don't define it uses text-plain (file: text/password-reset.ftl</p>\n\n<h2>Update:</h2>\n\n<p>There are currently some limitations imposed by some email clients.\nI advise you to read the following note about it (<a href=\"https://blog.mailtrap.io/embedding-images-in-html-email-have-the-rules-changed/\" rel=\"nofollow noreferrer\">read me</a>).</p>\n\n<p>As it says, many web clients do not display emails that contain more than one image in base64 embedded (or none of them).</p>\n\n<p>Therefore a good strategy with Keycloak emails is to use a reference to an image that is served from a static content server (if you do not have one of them, keycloak is over a wildfly that could also be configured as a static server).</p>\n\n<p>So, the best solution you can implement is to add your image as follows:\nEg.</p>\n\n<pre><code>&lt;img src = \"https://static.myserver.com/static/logo.png\" alt = \"img\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4341359,"reputation":36,"user_id":3544513,"display_name":"woocash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587543246,"creation_date":1587506773,"answer_id":61354069,"question_id":57692616,"body_markdown":"[`DefaultEmailSenderProvider`][1] class allows only for text and html content as `multipart/alternative`. This is not enough to have working well (in most mail clients) embedded image like logo or so. \r\n\r\nThe html part should be wrapped together with image(s) by the `multipart/related` section. Therefore, some custom `EmailSenderProvider` seems to be needed. It should expose another param for inline imagies which one could be embeded in html section. The result should be a structure similar to this below.\r\n\r\n    - alternative\r\n    -- text\r\n    -- related\r\n    --- html\r\n    --- inline image \r\n    --- inline image\r\n\r\nAs I have spent some time on research which haven&#39;t brought any result yet I plan to make a request to keycloak contributors. \r\n\r\n[Here][2] is a good explenation of how it works with link to interesting Apache project. \r\n\r\n\r\n  [1]: https://github.com/keycloak/keycloak/blob/master/services/src/main/java/org/keycloak/email/DefaultEmailSenderProvider.java\r\n  [2]: https://stackoverflow.com/a/23853079/3544513","title":"Keycloak add company logo to the reset password email","body":"<p><a href=\"https://github.com/keycloak/keycloak/blob/master/services/src/main/java/org/keycloak/email/DefaultEmailSenderProvider.java\" rel=\"nofollow noreferrer\"><code>DefaultEmailSenderProvider</code></a> class allows only for text and html content as <code>multipart/alternative</code>. This is not enough to have working well (in most mail clients) embedded image like logo or so. </p>\n\n<p>The html part should be wrapped together with image(s) by the <code>multipart/related</code> section. Therefore, some custom <code>EmailSenderProvider</code> seems to be needed. It should expose another param for inline imagies which one could be embeded in html section. The result should be a structure similar to this below.</p>\n\n<pre><code>- alternative\n-- text\n-- related\n--- html\n--- inline image \n--- inline image\n</code></pre>\n\n<p>As I have spent some time on research which haven't brought any result yet I plan to make a request to keycloak contributors. </p>\n\n<p><a href=\"https://stackoverflow.com/a/23853079/3544513\">Here</a> is a good explenation of how it works with link to interesting Apache project. </p>\n"},{"tags":[],"owner":{"account_id":12646061,"reputation":1376,"user_id":9191773,"display_name":"josias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663748365,"creation_date":1659007920,"answer_id":73152168,"question_id":57692616,"body_markdown":"As @Ariel Carrera already mentioned, inline data uri src for images are not well-supported by clients such as gmail.\r\n\r\nBut instead of uploading your images somewhere externally to use it in the template, you can include an image that comes directly from your template, like so:\r\n\r\n```html\r\n&lt;img src=&quot;${url.resourcesUrl}/img/MyCompany_Logo.png&quot; title=&quot;MyCompany&quot; alt=&quot;MyCompany Logo&quot;&gt;\r\n```\r\n\r\nFor the above code to work, you need to have a file in the following directory of your theme:\r\n\r\n`mytheme/email/resources/img/MyCompany_Logo.png`\r\n\r\n&gt; Note: SVGs also have less support by email clients. I would recommend a PNG and not an SVG for your email template\r\n\r\n**Note:**\r\n\r\nI have implemented this on v18.x.x keycloak, not v18.x.x-**legacy**.\r\n\r\nWith the legacy versions I don&#39;t know if the same result is possible, because there are differences in the `url.resourcesUrl` path that is returned","title":"Keycloak add company logo to the reset password email","body":"<p>As @Ariel Carrera already mentioned, inline data uri src for images are not well-supported by clients such as gmail.</p>\n<p>But instead of uploading your images somewhere externally to use it in the template, you can include an image that comes directly from your template, like so:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;img src=&quot;${url.resourcesUrl}/img/MyCompany_Logo.png&quot; title=&quot;MyCompany&quot; alt=&quot;MyCompany Logo&quot;&gt;\n</code></pre>\n<p>For the above code to work, you need to have a file in the following directory of your theme:</p>\n<p><code>mytheme/email/resources/img/MyCompany_Logo.png</code></p>\n<blockquote>\n<p>Note: SVGs also have less support by email clients. I would recommend a PNG and not an SVG for your email template</p>\n</blockquote>\n<p><strong>Note:</strong></p>\n<p>I have implemented this on v18.x.x keycloak, not v18.x.x-<strong>legacy</strong>.</p>\n<p>With the legacy versions I don't know if the same result is possible, because there are differences in the <code>url.resourcesUrl</code> path that is returned</p>\n"},{"tags":[],"owner":{"account_id":9336247,"reputation":1,"user_id":6930339,"display_name":"Kulla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669972816,"creation_date":1669641737,"answer_id":74601237,"question_id":57692616,"body_markdown":"A simple way to get the logo url correct in keycloak&#39;s reset password email is to use the `link` variable together with freemarker&#39;s built-in `keep_before`,  effectively removing `path` section from reset password link and then adding `url.resourcesPath` variable plus the path to your logo saved in email theme: \r\n\r\n```html\r\n&lt;img src=&quot;${link?keep_before(&quot;/auth/realms/&quot;)}${url.resourcesPath}/images/logo.png&quot; /&gt;\r\n```\r\n\r\n\r\n\r\n","title":"Keycloak add company logo to the reset password email","body":"<p>A simple way to get the logo url correct in keycloak's reset password email is to use the <code>link</code> variable together with freemarker's built-in <code>keep_before</code>,  effectively removing <code>path</code> section from reset password link and then adding <code>url.resourcesPath</code> variable plus the path to your logo saved in email theme:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;img src=&quot;${link?keep_before(&quot;/auth/realms/&quot;)}${url.resourcesPath}/images/logo.png&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3159209,"reputation":636,"user_id":2670847,"display_name":"GLinBoy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683121516,"creation_date":1683121516,"answer_id":76164610,"question_id":57692616,"body_markdown":"Here is my solution for the Keycloak 21.x, hope to help somebody to save more time.\r\n\r\n **1.** First step is adding our logo to our theme:\r\n\r\n    themes/{THEME_NAME}/email/resources/images/logo.png\r\n\r\n **2.** Then we need to access our hostname in the Keycloak. I am using Keycloak on the K8s environment so it is easy for me. I can use **KC_HOSTNAME_URL** and move forward. Afterward, we need to access this variable in our theme. So we need to define a variable in our **theme.properties** (create this file if it doesn&#39;t exist). I can split this step into two steps:  \r\n  **2.1.** Create the theme.properties in the email directory (if doesn&#39;t exist)  \r\n\r\n    /themes/{THEME_NAME}/email/theme.properties  \r\n  **2.2.** Add a variable to set env. variable to it\r\n\r\n    hostnameUrl=${env.KC_HOSTNAME_URL} \r\n\r\n **3.** Now, you can use this variable in the src of your logo image:\r\n\r\n    src=&quot;${properties.hostnameUrl!}${url.resourcesPath}/images/logo.png&quot;\r\n\r\n\r\nPS: Don&#39;t forget to set ***KC_HOSTNAME_URL*** (or any env. variable you defined for this purpose) while running your Keycloak.\r\n","title":"Keycloak add company logo to the reset password email","body":"<p>Here is my solution for the Keycloak 21.x, hope to help somebody to save more time.</p>\n<p><strong>1.</strong> First step is adding our logo to our theme:</p>\n<pre><code>themes/{THEME_NAME}/email/resources/images/logo.png\n</code></pre>\n<p><strong>2.</strong> Then we need to access our hostname in the Keycloak. I am using Keycloak on the K8s environment so it is easy for me. I can use <strong>KC_HOSTNAME_URL</strong> and move forward. Afterward, we need to access this variable in our theme. So we need to define a variable in our <strong>theme.properties</strong> (create this file if it doesn't exist). I can split this step into two steps:<br />\n<strong>2.1.</strong> Create the theme.properties in the email directory (if doesn't exist)</p>\n<pre><code>/themes/{THEME_NAME}/email/theme.properties  \n</code></pre>\n<p><strong>2.2.</strong> Add a variable to set env. variable to it</p>\n<pre><code>hostnameUrl=${env.KC_HOSTNAME_URL} \n</code></pre>\n<p><strong>3.</strong> Now, you can use this variable in the src of your logo image:</p>\n<pre><code>src=&quot;${properties.hostnameUrl!}${url.resourcesPath}/images/logo.png&quot;\n</code></pre>\n<p>PS: Don't forget to set <em><strong>KC_HOSTNAME_URL</strong></em> (or any env. variable you defined for this purpose) while running your Keycloak.</p>\n"},{"tags":[],"owner":{"account_id":5576691,"reputation":1878,"user_id":4419882,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684160098,"creation_date":1684159786,"answer_id":76254968,"question_id":57692616,"body_markdown":"I was dealing with a similar problem on Keycloak version `19.0.3` when I was trying to access an image from the `resources/img` directory of my custom email theme.\r\n\r\nInside `template.ftl`:\r\n```\r\n...\r\n&lt;img src=&quot;${url.resourcesUrl}/img/logo.png&quot;&gt;\r\n...\r\n```\r\ncaused a NPE because `url` was &quot;null or missing&quot; when trying to send a test email or when triggering an email after to a certain Keycloak event.\r\n\r\nI&#39;m unsure why this is the case because I was simply following the [docs][1] for version `19.0.3.` which describe to use `${url.resourcesPath}`.\r\n\r\nThe only thing that resolved my issue was to upgrade Keycloak to version `20.0.0.` (I tested it with `21.1.1.` as well).\r\n\r\nHope this helps someone out as well.\r\n\r\n\r\n  [1]: https://www.keycloak.org/docs/19.0.3/server_development/index.html#adding-an-image-to-a-theme","title":"Keycloak add company logo to the reset password email","body":"<p>I was dealing with a similar problem on Keycloak version <code>19.0.3</code> when I was trying to access an image from the <code>resources/img</code> directory of my custom email theme.</p>\n<p>Inside <code>template.ftl</code>:</p>\n<pre><code>...\n&lt;img src=&quot;${url.resourcesUrl}/img/logo.png&quot;&gt;\n...\n</code></pre>\n<p>caused a NPE because <code>url</code> was &quot;null or missing&quot; when trying to send a test email or when triggering an email after to a certain Keycloak event.</p>\n<p>I'm unsure why this is the case because I was simply following the <a href=\"https://www.keycloak.org/docs/19.0.3/server_development/index.html#adding-an-image-to-a-theme\" rel=\"nofollow noreferrer\">docs</a> for version <code>19.0.3.</code> which describe to use <code>${url.resourcesPath}</code>.</p>\n<p>The only thing that resolved my issue was to upgrade Keycloak to version <code>20.0.0.</code> (I tested it with <code>21.1.1.</code> as well).</p>\n<p>Hope this helps someone out as well.</p>\n"}],"owner":{"account_id":13871758,"reputation":129,"user_id":10014655,"display_name":"javamat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15434,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":6,"score":5,"last_activity_date":1684160098,"creation_date":1566995904,"question_id":57692616,"body_markdown":"I&#39;m trying to display the company logo in the reset password email. \r\nI&#39;ve already checked keycloak docs and found out it&#39;s not supported by them. I also tried encoding an image into base64 but Gmail doesn&#39;t support that. How can i do that?","title":"Keycloak add company logo to the reset password email","body":"<p>I'm trying to display the company logo in the reset password email. \nI've already checked keycloak docs and found out it's not supported by them. I also tried encoding an image into base64 but Gmail doesn't support that. How can i do that?</p>\n"},{"tags":["java","spring-boot","rest","model-view-controller"],"comments":[{"owner":{"account_id":3595426,"reputation":1163,"user_id":3000316,"accept_rate":33,"display_name":"Monkey Supersonic"},"score":0,"creation_date":1518772619,"post_id":48823378,"comment_id":84650234,"body_markdown":"Have you tried changing the method parameter to `Map&lt;String,Map&lt;String,String&gt;&gt;`?","body":"Have you tried changing the method parameter to <code>Map&lt;String,Map&lt;String,String&gt;&gt;</code>?"},{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":0,"creation_date":1518772858,"post_id":48823378,"comment_id":84650360,"body_markdown":"Not helping @MonkeySupersonic","body":"Not helping @MonkeySupersonic"}],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1518772849,"creation_date":1518772849,"answer_id":48823525,"question_id":48823378,"body_markdown":"This is documented in the [Spring MVC guide][1]:\r\n\r\n&gt; When an `@RequestParam` annotation is declared as `Map&lt;String, String&gt;` or `MultiValueMap&lt;String, String&gt;` argument, the map is populated with all request parameters.\r\n\r\nThis means that the response you currently get is the expected result. The `Map` contains a list of all parameters, and in your case, you only have a single parameter called `param`.\r\n\r\nIf you need a custom parameter mapping, you&#39;ll have to implement it by yourself. Since you&#39;re not using JSON either, you probably have to manually parse the parameter.\r\n\r\nHowever, if your goal is to have a dynamic map of parameters, you can still use the `Map&lt;String, String&gt;`, but you&#39;ll have to change your request into:\r\n\r\n    http://localhost:8080/test?a=abc&amp;b=bcd\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-ann-requestparam","title":"How to send map(key-value pair) as request parameter in a GET call","body":"<p>This is documented in the <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-ann-requestparam\" rel=\"noreferrer\">Spring MVC guide</a>:</p>\n\n<blockquote>\n  <p>When an <code>@RequestParam</code> annotation is declared as <code>Map&lt;String, String&gt;</code> or <code>MultiValueMap&lt;String, String&gt;</code> argument, the map is populated with all request parameters.</p>\n</blockquote>\n\n<p>This means that the response you currently get is the expected result. The <code>Map</code> contains a list of all parameters, and in your case, you only have a single parameter called <code>param</code>.</p>\n\n<p>If you need a custom parameter mapping, you'll have to implement it by yourself. Since you're not using JSON either, you probably have to manually parse the parameter.</p>\n\n<p>However, if your goal is to have a dynamic map of parameters, you can still use the <code>Map&lt;String, String&gt;</code>, but you'll have to change your request into:</p>\n\n<pre><code>http://localhost:8080/test?a=abc&amp;b=bcd\n</code></pre>\n"}],"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30152,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":48823525,"answer_count":1,"score":7,"last_activity_date":1684159966,"creation_date":1518772314,"question_id":48823378,"body_markdown":"Is it possible to send map as parameter in a GET call.? i searched and i could find for list and set collection. But did not find anything for map collection.\r\n\r\nI tried the following,\r\nMy controller method looks like this.\r\n\r\n    @GetMapping(&quot;/test&quot;)\r\n    \tpublic ResponseEntity&lt;?&gt; mapTest(@RequestParam Map&lt;String,String&gt; params) {\r\n    \t\t\r\n    \t\tLOG.info(&quot;inside test with map  &quot;+  params );\r\n    \t\t\t\t\r\n    \t\treturn new ResponseEntity&lt;String&gt;(&quot;MAP&quot;, HttpStatus.OK);\r\n    \t}\r\n\r\nAnd i sent the following request from postman\r\n\r\n    http://localhost:8080/test?params={a:abc,b:bcd}\r\n\r\nEverything works without errors and exceptions. But the map which i received looks like `key=params , value={a:abc,b:bcd}`\r\n\r\nI expected the received map to be like `key1=&quot;a&quot; value1=abc ,key2=&quot;b&quot; value2=&quot;bcd&quot;`","title":"How to send map(key-value pair) as request parameter in a GET call","body":"<p>Is it possible to send map as parameter in a GET call.? i searched and i could find for list and set collection. But did not find anything for map collection.</p>\n\n<p>I tried the following,\nMy controller method looks like this.</p>\n\n<pre><code>@GetMapping(\"/test\")\n    public ResponseEntity&lt;?&gt; mapTest(@RequestParam Map&lt;String,String&gt; params) {\n\n        LOG.info(\"inside test with map  \"+  params );\n\n        return new ResponseEntity&lt;String&gt;(\"MAP\", HttpStatus.OK);\n    }\n</code></pre>\n\n<p>And i sent the following request from postman</p>\n\n<pre><code>http://localhost:8080/test?params={a:abc,b:bcd}\n</code></pre>\n\n<p>Everything works without errors and exceptions. But the map which i received looks like <code>key=params , value={a:abc,b:bcd}</code></p>\n\n<p>I expected the received map to be like <code>key1=\"a\" value1=abc ,key2=\"b\" value2=\"bcd\"</code></p>\n"},{"tags":["java","spring","redis"],"owner":{"account_id":17974901,"reputation":542,"user_id":13062745,"display_name":"zxcisnoias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684159769,"creation_date":1684159769,"question_id":76254961,"body_markdown":"This is how I declare and inject:\r\n```\r\n    private final RedisTemplate redisTemplate;\r\n    @Autowired\r\n    public SomeController(RedisTemplate redisTemplate) {\r\n        this.redisTemplate = redisTemplate;\r\n    }\r\n```\r\n\r\nThis is how I use it:\r\n```\r\nredisTemplate.opsForValue().set(key, dtoList, 60, TimeUnit.MINUTES);\r\n\r\n```\r\nWhere key is of type String, and dtoList is of type List&lt;SomeClass&gt;; &lt;br&gt;\r\nbut the ide complains that ```Unchecked call to &#39;set(K, V, long, TimeUnit)&#39; as a member of raw type &#39;org.springframework.data.redis.core.ValueOperations&#39; ``` when I set the value. &lt;br&gt;&lt;br&gt;\r\n\r\nif instead, ```private final RedisTemplate&lt;String, List&lt;?&gt;&gt; redisTemplate;``` were used, the warning is gone,; But I don&#39;t want to specifically enforce the type because I might be setting values of different types later.\r\n","title":"Raw use of parameterized class &#39;RedisTemplate&#39; warning","body":"<p>This is how I declare and inject:</p>\n<pre><code>    private final RedisTemplate redisTemplate;\n    @Autowired\n    public SomeController(RedisTemplate redisTemplate) {\n        this.redisTemplate = redisTemplate;\n    }\n</code></pre>\n<p>This is how I use it:</p>\n<pre><code>redisTemplate.opsForValue().set(key, dtoList, 60, TimeUnit.MINUTES);\n\n</code></pre>\n<p>Where key is of type String, and dtoList is of type List; <br>\nbut the ide complains that <code>Unchecked call to 'set(K, V, long, TimeUnit)' as a member of raw type 'org.springframework.data.redis.core.ValueOperations' </code> when I set the value. <br><br></p>\n<p>if instead, <code>private final RedisTemplate&lt;String, List&lt;?&gt;&gt; redisTemplate;</code> were used, the warning is gone,; But I don't want to specifically enforce the type because I might be setting values of different types later.</p>\n"},{"tags":["java","mysql","sql-server","hibernate"],"comments":[{"owner":{"account_id":20264817,"reputation":56067,"user_id":14868997,"display_name":"Charlieface"},"score":0,"creation_date":1684156722,"post_id":76254475,"comment_id":134471364,"body_markdown":"`and user_id = :userId` is not correct syntax, you need `and user_id = @userId`","body":"<code>and user_id = :userId</code> is not correct syntax, you need <code>and user_id = @userId</code>"},{"owner":{"account_id":20798008,"reputation":181,"user_id":15274669,"display_name":"majixin"},"score":0,"creation_date":1684156839,"post_id":76254475,"comment_id":134471399,"body_markdown":"This question appears to be a duplicate of: https://stackoverflow.com/questions/8991866/org-hibernate-mappingexception-no-dialect-mapping-for-jdbc-type-9","body":"This question appears to be a duplicate of: <a href=\"https://stackoverflow.com/questions/8991866/org-hibernate-mappingexception-no-dialect-mapping-for-jdbc-type-9\" title=\"org hibernate mappingexception no dialect mapping for jdbc type 9\">stackoverflow.com/questions/8991866/&hellip;</a>"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1684157380,"post_id":76254475,"comment_id":134471532,"body_markdown":"you probably set wrong hibernate settings, you have to use correct dialects for different dbs","body":"you probably set wrong hibernate settings, you have to use correct dialects for different dbs"},{"owner":{"account_id":1089097,"reputation":359,"user_id":1084147,"display_name":"purush"},"score":0,"creation_date":1684157675,"post_id":76254475,"comment_id":134471599,"body_markdown":"@siggemannen \nHere I am using the dialect for SQL Server,\nhibernate.connection.driver_class=com.microsoft.sqlserver.jdbc.SQLServerDriver\nhibernate.dialect=org.hibernate.dialect.SQLServerDialect\n\nFor MySql I am using,\nhibernate.connection.driver_class=com.mysql.jdbc.Driver\nhibernate.dialect=org.hibernate.dialect.MySQLDialect","body":"@siggemannen  Here I am using the dialect for SQL Server, hibernate.connection.driver_class=com.microsoft.sqlserver.jd&zwnj;&#8203;bc.SQLServerDriver hibernate.dialect=org.hibernate.dialect.SQLServerDialect  For MySql I am using, hibernate.connection.driver_class=com.mysql.jdbc.Driver hibernate.dialect=org.hibernate.dialect.MySQLDialect"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1684157845,"post_id":76254475,"comment_id":134471635,"body_markdown":"@purush, add this info to the question instead!","body":"@purush, add this info to the question instead!"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1684160759,"post_id":76254475,"comment_id":134472390,"body_markdown":"i have a feeling you&#39;re doing something wrong, because if ppl had problems using hibernate with NVARCHARs, i&#39;m pretty sure it would be fixed quite quickly. Perhaps your settings aren&#39;t correct.","body":"i have a feeling you&#39;re doing something wrong, because if ppl had problems using hibernate with NVARCHARs, i&#39;m pretty sure it would be fixed quite quickly. Perhaps your settings aren&#39;t correct."}],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684159518,"creation_date":1684159518,"answer_id":76254922,"question_id":76254475,"body_markdown":"Look, you have not given anywhere near enough information to help: \r\n\r\n- Where is the code which calls this query? \r\n- Where are the mapped entities? \r\n\r\n_However_, note that `-9` is the JDBC type code for the SQL type `NVARCHAR`, as defined by `java.sql.Types`.\r\n\r\nNow, SQL Server handles &quot;nationalized&quot; (i.e. Unicode) strings _very differently_ to MySQL. So it&#39;s completely unsurprising when things related to `NVARCHAR` columns behave a bit differently between the two databases.\r\n\r\nThings which affect this in Hibernate include:\r\n\r\n1. the `@Nationalized` annotation, and\r\n2. the setting `hibernate.use_nationalized_character_data`.\r\n\r\nBeyond that there&#39;s not much I can tell you because you have not told us very much.","title":"Query in SQL Server giving error while running the same query with MySql working fine","body":"<p>Look, you have not given anywhere near enough information to help:</p>\n<ul>\n<li>Where is the code which calls this query?</li>\n<li>Where are the mapped entities?</li>\n</ul>\n<p><em>However</em>, note that <code>-9</code> is the JDBC type code for the SQL type <code>NVARCHAR</code>, as defined by <code>java.sql.Types</code>.</p>\n<p>Now, SQL Server handles &quot;nationalized&quot; (i.e. Unicode) strings <em>very differently</em> to MySQL. So it's completely unsurprising when things related to <code>NVARCHAR</code> columns behave a bit differently between the two databases.</p>\n<p>Things which affect this in Hibernate include:</p>\n<ol>\n<li>the <code>@Nationalized</code> annotation, and</li>\n<li>the setting <code>hibernate.use_nationalized_character_data</code>.</li>\n</ol>\n<p>Beyond that there's not much I can tell you because you have not told us very much.</p>\n"}],"owner":{"account_id":1089097,"reputation":359,"user_id":1084147,"display_name":"purush"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684159518,"creation_date":1684156570,"question_id":76254475,"body_markdown":"I have the following query,  and executing through hibernate.\r\n\r\n```\r\nString userIdQueryString = &quot;select distinct user_id from l_catalog_user_object_access  where REPORT_HEADER_ID in (&quot;\r\n\t\t\t\t\t\t+ &quot; select REPORT_HEADER_ID from l_report_header_data &quot;\r\n\t\t\t\t\t\t+ &quot; where report_types_id in (select REPORT_TYPES_ID from l_report_types where display_value like &#39;%Report&#39;) )&quot;\r\n\t\t\t\t\t\t+ &quot; and user_id = :userId&quot;;\t\r\n```\r\n\r\nWhen I have connected to SQL Server, getting below error,\r\n\r\n```\r\norg.hibernate.MappingException: No Dialect mapping for JDBC type: -9\r\n```\r\n\r\nWhen I have connected to MySql, it working fine without any error.\r\n\r\n```\r\nHere I am using the dialect for SQL Server,\r\nhibernate.connection.driver_class=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\nhibernate.dialect=org.hibernate.dialect.SQLServerDialect\r\n\r\nFor MySql I am using,\r\nhibernate.connection.driver_class=com.mysql.jdbc.Driver\r\nhibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n```\r\n\r\nAny help/suggestions.","title":"Query in SQL Server giving error while running the same query with MySql working fine","body":"<p>I have the following query,  and executing through hibernate.</p>\n<pre><code>String userIdQueryString = &quot;select distinct user_id from l_catalog_user_object_access  where REPORT_HEADER_ID in (&quot;\n                        + &quot; select REPORT_HEADER_ID from l_report_header_data &quot;\n                        + &quot; where report_types_id in (select REPORT_TYPES_ID from l_report_types where display_value like '%Report') )&quot;\n                        + &quot; and user_id = :userId&quot;; \n</code></pre>\n<p>When I have connected to SQL Server, getting below error,</p>\n<pre><code>org.hibernate.MappingException: No Dialect mapping for JDBC type: -9\n</code></pre>\n<p>When I have connected to MySql, it working fine without any error.</p>\n<pre><code>Here I am using the dialect for SQL Server,\nhibernate.connection.driver_class=com.microsoft.sqlserver.jdbc.SQLServerDriver\nhibernate.dialect=org.hibernate.dialect.SQLServerDialect\n\nFor MySql I am using,\nhibernate.connection.driver_class=com.mysql.jdbc.Driver\nhibernate.dialect=org.hibernate.dialect.MySQLDialect\n</code></pre>\n<p>Any help/suggestions.</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":8181388,"reputation":2251,"user_id":6158454,"display_name":"Patrick Mcvay"},"score":0,"creation_date":1683565675,"post_id":76199917,"comment_id":134382745,"body_markdown":"Do you have any control over the format that is returned from the API?","body":"Do you have any control over the format that is returned from the API?"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1683586500,"post_id":76199917,"comment_id":134386590,"body_markdown":"Try looking at [Parse a nested JSON using gson](https://stackoverflow.com/q/8233542/16653700).","body":"Try looking at <a href=\"https://stackoverflow.com/q/8233542/16653700\">Parse a nested JSON using gson</a>."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1684076108,"post_id":76199917,"comment_id":134460525,"body_markdown":"Does this answer your question? [Jsonpath with Jackson or Gson](https://stackoverflow.com/questions/34111276/jsonpath-with-jackson-or-gson)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/34111276/jsonpath-with-jackson-or-gson\">Jsonpath with Jackson or Gson</a>"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1684076250,"post_id":76199917,"comment_id":134460538,"body_markdown":"If you want to use your approach of having model classes, you can probably change the type of `results` to `Map&lt;String, List&lt;ZipcodeResult&gt;&gt;`, where the map keys are the ZIP codes, such as `&quot;94016&quot;`","body":"If you want to use your approach of having model classes, you can probably change the type of <code>results</code> to <code>Map&lt;String, List&lt;ZipcodeResult&gt;&gt;</code>, where the map keys are the ZIP codes, such as <code>&quot;94016&quot;</code>"}],"owner":{"account_id":11865637,"reputation":33,"user_id":8683235,"display_name":"Wes Graham"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684158978,"creation_date":1683543696,"question_id":76199917,"body_markdown":"I have some JSON text from an API that will always come in this format.\r\n```json\r\n{\r\n    &quot;query&quot;: {\r\n        &quot;codes&quot;: [\r\n            &quot;94016&quot;\r\n        ],\r\n        &quot;country&quot;: &quot;US&quot;\r\n    },\r\n    &quot;results&quot;: {\r\n        &quot;94016&quot;: [\r\n            {\r\n                &quot;postal_code&quot;: &quot;94016&quot;,\r\n                &quot;country_code&quot;: &quot;US&quot;,\r\n                &quot;latitude&quot;: &quot;37.70580000&quot;,\r\n                &quot;longitude&quot;: &quot;-122.46190000&quot;,\r\n                &quot;city&quot;: &quot;Daly City&quot;,\r\n                &quot;state&quot;: &quot;California&quot;,\r\n                &quot;city_en&quot;: &quot;Daly City&quot;,\r\n                &quot;state_en&quot;: &quot;California&quot;,\r\n                &quot;state_code&quot;: &quot;CA&quot;,\r\n                &quot;province&quot;: &quot;San Mateo&quot;,\r\n                &quot;province_code&quot;: &quot;081&quot;\r\n            }\r\n        ]\r\n    }\r\n}\r\n```\r\nThe above code block shows the output for using 94016 as a zip code. I&#39;m only concerned with the city key and the value associated with it. For this example, the only text I want to return is &quot;Daly City&quot; without the quotes.\r\n\r\nI created 2 classes for using Gson later in my project with the following code:\r\n\r\n```java\r\npublic class ZipcodeResponse {\r\n    ZipcodeResult[] results;\r\n}\r\n    \r\n```\r\n\r\n```java\r\npublic class ZipcodeResult {\r\n    String[] ???;\r\n}\r\n```\r\nMy first problem is that I&#39;m not sure what to call my string array (presumably I would name it whatever zip code is searched), since the zipcode will be different each time and the value for it is stored in another class while the program executes. If there&#39;s a way I can skip over this value and only get the city, then that would be awesome.","title":"Is there a way to access nested values stored in JSON using Gson?","body":"<p>I have some JSON text from an API that will always come in this format.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;query&quot;: {\n        &quot;codes&quot;: [\n            &quot;94016&quot;\n        ],\n        &quot;country&quot;: &quot;US&quot;\n    },\n    &quot;results&quot;: {\n        &quot;94016&quot;: [\n            {\n                &quot;postal_code&quot;: &quot;94016&quot;,\n                &quot;country_code&quot;: &quot;US&quot;,\n                &quot;latitude&quot;: &quot;37.70580000&quot;,\n                &quot;longitude&quot;: &quot;-122.46190000&quot;,\n                &quot;city&quot;: &quot;Daly City&quot;,\n                &quot;state&quot;: &quot;California&quot;,\n                &quot;city_en&quot;: &quot;Daly City&quot;,\n                &quot;state_en&quot;: &quot;California&quot;,\n                &quot;state_code&quot;: &quot;CA&quot;,\n                &quot;province&quot;: &quot;San Mateo&quot;,\n                &quot;province_code&quot;: &quot;081&quot;\n            }\n        ]\n    }\n}\n</code></pre>\n<p>The above code block shows the output for using 94016 as a zip code. I'm only concerned with the city key and the value associated with it. For this example, the only text I want to return is &quot;Daly City&quot; without the quotes.</p>\n<p>I created 2 classes for using Gson later in my project with the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ZipcodeResponse {\n    ZipcodeResult[] results;\n}\n    \n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class ZipcodeResult {\n    String[] ???;\n}\n</code></pre>\n<p>My first problem is that I'm not sure what to call my string array (presumably I would name it whatever zip code is searched), since the zipcode will be different each time and the value for it is stored in another class while the program executes. If there's a way I can skip over this value and only get the city, then that would be awesome.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":6634565,"reputation":617,"user_id":5122077,"accept_rate":56,"display_name":"JavaLearner1"},"score":0,"creation_date":1684159439,"post_id":76254830,"comment_id":134472053,"body_markdown":"can you try with @Qualifier annotation along with Autowired, \n     Qualifier(TypeB.class)\n     List&lt;IValue&lt;TypeB&gt;&gt; values;","body":"can you try with @Qualifier annotation along with Autowired,       Qualifier(TypeB.class)      List&lt;IValue&lt;TypeB&gt;&gt; values;"},{"owner":{"account_id":23417359,"reputation":25,"user_id":17478118,"display_name":"JavaStudent"},"score":0,"creation_date":1684159731,"post_id":76254830,"comment_id":134472135,"body_markdown":"In truth my actual problem has multiple generic types, I&#39;m not sure how to qualify that.","body":"In truth my actual problem has multiple generic types, I&#39;m not sure how to qualify that."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1684163691,"post_id":76254830,"comment_id":134473159,"body_markdown":"A guess, but how about `List&lt;? extends IValue&lt;TypeB&gt;&gt;`?","body":"A guess, but how about <code>List&lt;? extends IValue&lt;TypeB&gt;&gt;</code>?"}],"owner":{"account_id":23417359,"reputation":25,"user_id":17478118,"display_name":"JavaStudent"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684158839,"creation_date":1684158839,"question_id":76254830,"body_markdown":"Suppose I have an interface\r\n\r\n```\r\npublic interface IType {}\r\npublic class TypeA implements IType {}\r\npublic class TypeB implements IType {}\r\n```\r\n\r\nAnd another interface of which the above interface is a generic type\r\n\r\n```\r\npublic interface IValue&lt;T extends IType&gt; {}\r\n\r\n@Component public class ValueA&lt;T extends IType&gt; implements IValue&lt;T&gt; {}\r\n@Component public class ValueB&lt;T extends IType&gt; implements IValue&lt;T&gt; {}\r\n```\r\n\r\nAnd finally a class which uses these\r\n\r\n```\r\n@Component\r\npublic class DoThings\r\n{\r\n    @Autowired\r\n    List&lt;IValue&lt;TypeB&gt;&gt; values;\r\n}\r\n```\r\n\r\nSpring throws a `NoSuchBeanDefinitionException` and doesn&#39;t seem to be finding the beans. What have I missed?","title":"Autowiring a list of Java generic classes","body":"<p>Suppose I have an interface</p>\n<pre><code>public interface IType {}\npublic class TypeA implements IType {}\npublic class TypeB implements IType {}\n</code></pre>\n<p>And another interface of which the above interface is a generic type</p>\n<pre><code>public interface IValue&lt;T extends IType&gt; {}\n\n@Component public class ValueA&lt;T extends IType&gt; implements IValue&lt;T&gt; {}\n@Component public class ValueB&lt;T extends IType&gt; implements IValue&lt;T&gt; {}\n</code></pre>\n<p>And finally a class which uses these</p>\n<pre><code>@Component\npublic class DoThings\n{\n    @Autowired\n    List&lt;IValue&lt;TypeB&gt;&gt; values;\n}\n</code></pre>\n<p>Spring throws a <code>NoSuchBeanDefinitionException</code> and doesn't seem to be finding the beans. What have I missed?</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-data-jpa"],"owner":{"account_id":28604849,"reputation":1,"user_id":21901006,"display_name":"Aone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684158809,"creation_date":1684158809,"question_id":76254826,"body_markdown":"I have a task. Create a web application similar to a REST employee directory stored in an embedded database. Each employee record should include information of his department and his manager. Manager&#39;s manager should be usually null.If parameter named full_chain exists and is set to true then full manager chain should be written (include employee`s manager, manager of manager, manager of manager of manager and so on up to the organization head).\r\n\r\nEmployee class\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;EMPLOYEE&quot;)\r\npublic class Employee {\r\n    @Id\r\n    @Column(name = &quot;ID&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @Embedded\r\n    @AttributeOverrides({\r\n            @AttributeOverride( name = &quot;firstName&quot;, column = @Column(name = &quot;FIRSTNAME&quot;)),\r\n            @AttributeOverride( name = &quot;lastName&quot;, column = @Column(name = &quot;LASTNAME&quot;)),\r\n            @AttributeOverride( name = &quot;middleName&quot;, column = @Column(name = &quot;MIDDLENAME&quot;))\r\n    })\r\n    private FullName fullName;\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name=&quot;POSITION&quot;)\r\n    private Position position;\r\n    @Column(name=&quot;HIREDATE&quot;)\r\n    private LocalDate hired;\r\n    @Column(name=&quot;SALARY&quot;)\r\n    private BigDecimal salary;\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;manager&quot;)\r\n    private Employee manager;\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;department&quot;)\r\n    private Department department;\r\n```\r\nSQL schema\r\n\r\n```\r\nCREATE TABLE DEPARTMENT\r\n(\r\n    ID       INTEGER PRIMARY KEY,\r\n    NAME     VARCHAR(14),\r\n    LOCATION VARCHAR(13)\r\n);\r\nCREATE TABLE EMPLOYEE\r\n(\r\n    ID         INTEGER PRIMARY KEY,\r\n    FIRSTNAME  VARCHAR(10),\r\n    LASTNAME   VARCHAR(10),\r\n    MIDDLENAME VARCHAR(10),\r\n    POSITION   VARCHAR(9),\r\n    MANAGER    INTEGER,\r\n    HIREDATE   DATE,\r\n    SALARY     DOUBLE,\r\n    DEPARTMENT INTEGER,\r\n    CONSTRAINT FK_DEPTNO FOREIGN KEY (DEPARTMENT) REFERENCES DEPARTMENT (ID),\r\n    CONSTRAINT FK_EMPNO FOREIGN KEY (MANAGER) REFERENCES EMPLOYEE (ID)\r\n);\r\nCOMMIT;\r\n```\r\nImplemented via PagingAndSortingRepository. Now Employees are displayed with full_chain parameters. How do I set up the class config so that the Employee&#39;s manager does not have a manager.\r\nOutput example\r\n\r\n```\r\n{\r\n  &quot;id&quot;: 7698,\r\n  &quot;fullName&quot;: {\r\n    &quot;firstName&quot;: &quot;JOHN&quot;,\r\n    &quot;lastName&quot;: &quot;BLAKE&quot;,\r\n    &quot;middleName&quot;: &quot;MARIA&quot;\r\n  },\r\n  &quot;position&quot;: &quot;MANAGER&quot;,\r\n  &quot;hired&quot;: &quot;1981-05-01&quot;,\r\n  &quot;salary&quot;: 2850.00000,\r\n  &quot;manager&quot;: {\r\n    &quot;id&quot;: 7839,\r\n    &quot;fullName&quot;: {\r\n      &quot;firstName&quot;: &quot;JOHN&quot;,\r\n      &quot;lastName&quot;: &quot;KING&quot;,\r\n      &quot;middleName&quot;: &quot;MARIA&quot;\r\n    },\r\n    &quot;position&quot;: &quot;PRESIDENT&quot;,\r\n    &quot;hired&quot;: &quot;1981-11-17&quot;,\r\n    &quot;salary&quot;: 5000.00000,\r\n    &quot;manager&quot;: null,\r\n    &quot;department&quot;: null\r\n  },\r\n  &quot;department&quot;: {\r\n    &quot;id&quot;: 30,\r\n    &quot;fullName&quot;: &quot;SALES&quot;,\r\n    &quot;position&quot;: &quot;CHICAGO&quot;\r\n  }\r\n}\r\n```\r\n","title":"Spring Data JPA. How to stop a recursive query?","body":"<p>I have a task. Create a web application similar to a REST employee directory stored in an embedded database. Each employee record should include information of his department and his manager. Manager's manager should be usually null.If parameter named full_chain exists and is set to true then full manager chain should be written (include employee`s manager, manager of manager, manager of manager of manager and so on up to the organization head).</p>\n<p>Employee class</p>\n<pre><code>@Entity\n@Table(name = &quot;EMPLOYEE&quot;)\npublic class Employee {\n    @Id\n    @Column(name = &quot;ID&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Embedded\n    @AttributeOverrides({\n            @AttributeOverride( name = &quot;firstName&quot;, column = @Column(name = &quot;FIRSTNAME&quot;)),\n            @AttributeOverride( name = &quot;lastName&quot;, column = @Column(name = &quot;LASTNAME&quot;)),\n            @AttributeOverride( name = &quot;middleName&quot;, column = @Column(name = &quot;MIDDLENAME&quot;))\n    })\n    private FullName fullName;\n    @Enumerated(EnumType.STRING)\n    @Column(name=&quot;POSITION&quot;)\n    private Position position;\n    @Column(name=&quot;HIREDATE&quot;)\n    private LocalDate hired;\n    @Column(name=&quot;SALARY&quot;)\n    private BigDecimal salary;\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;manager&quot;)\n    private Employee manager;\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;department&quot;)\n    private Department department;\n</code></pre>\n<p>SQL schema</p>\n<pre><code>CREATE TABLE DEPARTMENT\n(\n    ID       INTEGER PRIMARY KEY,\n    NAME     VARCHAR(14),\n    LOCATION VARCHAR(13)\n);\nCREATE TABLE EMPLOYEE\n(\n    ID         INTEGER PRIMARY KEY,\n    FIRSTNAME  VARCHAR(10),\n    LASTNAME   VARCHAR(10),\n    MIDDLENAME VARCHAR(10),\n    POSITION   VARCHAR(9),\n    MANAGER    INTEGER,\n    HIREDATE   DATE,\n    SALARY     DOUBLE,\n    DEPARTMENT INTEGER,\n    CONSTRAINT FK_DEPTNO FOREIGN KEY (DEPARTMENT) REFERENCES DEPARTMENT (ID),\n    CONSTRAINT FK_EMPNO FOREIGN KEY (MANAGER) REFERENCES EMPLOYEE (ID)\n);\nCOMMIT;\n</code></pre>\n<p>Implemented via PagingAndSortingRepository. Now Employees are displayed with full_chain parameters. How do I set up the class config so that the Employee's manager does not have a manager.\nOutput example</p>\n<pre><code>{\n  &quot;id&quot;: 7698,\n  &quot;fullName&quot;: {\n    &quot;firstName&quot;: &quot;JOHN&quot;,\n    &quot;lastName&quot;: &quot;BLAKE&quot;,\n    &quot;middleName&quot;: &quot;MARIA&quot;\n  },\n  &quot;position&quot;: &quot;MANAGER&quot;,\n  &quot;hired&quot;: &quot;1981-05-01&quot;,\n  &quot;salary&quot;: 2850.00000,\n  &quot;manager&quot;: {\n    &quot;id&quot;: 7839,\n    &quot;fullName&quot;: {\n      &quot;firstName&quot;: &quot;JOHN&quot;,\n      &quot;lastName&quot;: &quot;KING&quot;,\n      &quot;middleName&quot;: &quot;MARIA&quot;\n    },\n    &quot;position&quot;: &quot;PRESIDENT&quot;,\n    &quot;hired&quot;: &quot;1981-11-17&quot;,\n    &quot;salary&quot;: 5000.00000,\n    &quot;manager&quot;: null,\n    &quot;department&quot;: null\n  },\n  &quot;department&quot;: {\n    &quot;id&quot;: 30,\n    &quot;fullName&quot;: &quot;SALES&quot;,\n    &quot;position&quot;: &quot;CHICAGO&quot;\n  }\n}\n</code></pre>\n"},{"tags":["java","kotlin","exception","ktor","ktor-client"],"comments":[{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1684164955,"post_id":76254805,"comment_id":134473538,"body_markdown":"What problem are you facing if you just don&#39;t do anything?","body":"What problem are you facing if you just don&#39;t do anything?"},{"owner":{"account_id":19118793,"reputation":5178,"user_id":13963150,"display_name":"Aleksei Tirman"},"score":0,"creation_date":1684398702,"post_id":76254805,"comment_id":134513113,"body_markdown":"I think the solution with wrapping into the `RuntimeException` is fine as long as you can access an original exception.","body":"I think the solution with wrapping into the <code>RuntimeException</code> is fine as long as you can access an original exception."}],"owner":{"account_id":9702664,"reputation":705,"user_id":7197120,"display_name":"chriptus13"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684158637,"creation_date":1684158637,"question_id":76254805,"body_markdown":"I&#39;m currently developing/using a library which uses Ktor HTTP client to expose common functions for calling other services. \r\n\r\nThe thing is I&#39;m calling this library from Java and I know Ktor calls (eg.: `httpClient.post(...)`) may throw some exceptions that are checked in Java. \r\n\r\nThe easy approach is to annotate all my functions with [`@Throws`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-throws/) and specify which checked exceptions the function may throw (where [Kotlin does not care about checked exceptions](https://kotlinlang.org/docs/exceptions.html#checked-exceptions)).\r\n\r\nInstead of this I wanted to understand if it would make sense to use a response exception handler ([ref](https://api.ktor.io/ktor-client/ktor-client-core/io.ktor.client.plugins/-http-call-validator/-config/index.html#1007054276%2FFunctions%2F-1897681819)) and wrap all checked exceptions into `RuntimeException`s.\r\n\r\nSomething like the following:\r\n\r\n```kotlin\r\nval httpClient = HttpClient {\r\n    install(HttpCallValidator) {\r\n        handleResponseExceptionWithRequest { ex, _ -&gt;\r\n            if(ex !is RuntimeException) throw RuntimeException(ex)\r\n        }\r\n    }\r\n}\r\n```","title":"Calling Ktor client from java - checked exceptions","body":"<p>I'm currently developing/using a library which uses Ktor HTTP client to expose common functions for calling other services.</p>\n<p>The thing is I'm calling this library from Java and I know Ktor calls (eg.: <code>httpClient.post(...)</code>) may throw some exceptions that are checked in Java.</p>\n<p>The easy approach is to annotate all my functions with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-throws/\" rel=\"nofollow noreferrer\"><code>@Throws</code></a> and specify which checked exceptions the function may throw (where <a href=\"https://kotlinlang.org/docs/exceptions.html#checked-exceptions\" rel=\"nofollow noreferrer\">Kotlin does not care about checked exceptions</a>).</p>\n<p>Instead of this I wanted to understand if it would make sense to use a response exception handler (<a href=\"https://api.ktor.io/ktor-client/ktor-client-core/io.ktor.client.plugins/-http-call-validator/-config/index.html#1007054276%2FFunctions%2F-1897681819\" rel=\"nofollow noreferrer\">ref</a>) and wrap all checked exceptions into <code>RuntimeException</code>s.</p>\n<p>Something like the following:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val httpClient = HttpClient {\n    install(HttpCallValidator) {\n        handleResponseExceptionWithRequest { ex, _ -&gt;\n            if(ex !is RuntimeException) throw RuntimeException(ex)\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684158522,"creation_date":1684157734,"answer_id":76254650,"question_id":76253700,"body_markdown":"The correct query would be:\r\n\r\n\r\n```hql\r\nSELECT m\r\nFROM Member m\r\nWHERE m.disabledOn IS NULL\r\n  AND ROLE_CONSUMER member of m.roles\r\n```\r\n\r\nBut due to a bug in the query translator this does not work in the current release.\r\n\r\nThe workaround solution is:\r\n\r\n```hql\r\nSELECT m\r\nFROM Member m\r\nWHERE m.disabledOn IS NULL\r\n  AND &#39;ROLE_CONSUMER&#39; member of m.roles\r\n```\r\n\r\n### UPDATE\r\n\r\nIssue is here: &lt;https://hibernate.atlassian.net/browse/HHH-16604&gt;\r\n\r\nI already have a partial fix here: https://github.com/hibernate/hibernate-orm/pull/6573","title":"Set&lt;Enum&gt; attribute in JPQL query returns exception at runtime","body":"<p>The correct query would be:</p>\n<pre><code>SELECT m\nFROM Member m\nWHERE m.disabledOn IS NULL\n  AND ROLE_CONSUMER member of m.roles\n</code></pre>\n<p>But due to a bug in the query translator this does not work in the current release.</p>\n<p>The workaround solution is:</p>\n<pre><code>SELECT m\nFROM Member m\nWHERE m.disabledOn IS NULL\n  AND 'ROLE_CONSUMER' member of m.roles\n</code></pre>\n<h3>UPDATE</h3>\n<p>Issue is here: <a href=\"https://hibernate.atlassian.net/browse/HHH-16604\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-16604</a></p>\n<p>I already have a partial fix here: <a href=\"https://github.com/hibernate/hibernate-orm/pull/6573\" rel=\"nofollow noreferrer\">https://github.com/hibernate/hibernate-orm/pull/6573</a></p>\n"}],"owner":{"account_id":81885,"reputation":487,"user_id":230638,"accept_rate":82,"display_name":"Jasper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76254650,"answer_count":1,"score":0,"last_activity_date":1684158522,"creation_date":1684150915,"question_id":76253700,"body_markdown":"I migrated an application from Spring Boot 2 to Spring Boot 3. It worked before, but now I have a problem.\r\nGiven an entity with this attribute:\r\n\r\n```\r\n    @JsonIgnore\r\n    @ElementCollection(fetch = EAGER)\r\n    @CollectionTable(name = &quot;MEMBER_ROLES&quot;, joinColumns = @JoinColumn(name = &quot;MEMBER_ID&quot;))\r\n    @Column(name = &quot;AUTHORITY&quot;)\r\n    @Enumerated(STRING)\r\n    private Set&lt;MemberRoleType&gt; roles;\r\n```\r\n\r\nWhen this query is executed:\r\n\r\n```\r\n    @Query(&quot;&quot;&quot;\r\n        SELECT m\r\n        FROM Member m\r\n        WHERE m.disabledOn IS NULL\r\n            AND m.roles = eu.company.backend.model.domain.enumeration.MemberRoleType.ROLE_CONSUMER \r\n        &quot;&quot;&quot;)\r\n    Set&lt;Member&gt; findActiveMembers();\r\n```\r\n\r\nThen this exception occurs, that google doesn&#39;t know about:\r\n\r\n```\r\n2023-05-15 13:31:59,109 ERROR [http-nio-8888-exec-1] [] o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl cannot be cast to class org.hibernate.metamodel.mapping.BasicValuedMapping (org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl and org.hibernate.metamodel.mapping.BasicValuedMapping are in unnamed module of loader &#39;app&#39;)] with root cause\r\njava.lang.ClassCastException: class org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl cannot be cast to class org.hibernate.metamodel.mapping.BasicValuedMapping (org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl and org.hibernate.metamodel.mapping.BasicValuedMapping are in unnamed module of loader &#39;app&#39;)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitEnumLiteral(BaseSqmToSqlAstConverter.java:6290)\r\n\tat org.hibernate.query.sqm.tree.expression.SqmEnumLiteral.accept(SqmEnumLiteral.java:150)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitComparisonPredicate(BaseSqmToSqlAstConverter.java:6557)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitComparisonPredicate(BaseSqmToSqlAstConverter.java:416)\r\n\tat org.hibernate.query.sqm.tree.predicate.SqmComparisonPredicate.accept(SqmComparisonPredicate.java:104)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitJunctionPredicate(BaseSqmToSqlAstConverter.java:6364)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitJunctionPredicate(BaseSqmToSqlAstConverter.java:416)\r\n\tat org.hibernate.query.sqm.tree.predicate.SqmJunctionPredicate.accept(SqmJunctionPredicate.java:74)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitWhereClause(BaseSqmToSqlAstConverter.java:2276)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQuerySpec(BaseSqmToSqlAstConverter.java:1823)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQuerySpec(BaseSqmToSqlAstConverter.java:416)\r\n\tat org.hibernate.query.sqm.tree.select.SqmQuerySpec.accept(SqmQuerySpec.java:122)\r\n\tat org.hibernate.query.sqm.spi.BaseSemanticQueryWalker.visitQueryPart(BaseSemanticQueryWalker.java:213)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQueryPart(BaseSqmToSqlAstConverter.java:1679)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectStatement(BaseSqmToSqlAstConverter.java:1477)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectStatement(BaseSqmToSqlAstConverter.java:416)\r\n\tat org.hibernate.query.sqm.tree.select.SqmSelectStatement.accept(SqmSelectStatement.java:213)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.translate(BaseSqmToSqlAstConverter.java:711)\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.buildCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:380)\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:300)\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:276)\r\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:571)\r\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:363)\r\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.list(QuerySqmImpl.java:1073)\r\n\tat org.hibernate.query.Query.getResultList(Query.java:94)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:127)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:148)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:136)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:390)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:134)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy202.findActiveMembers(Unknown Source)\r\n\tat eu.company.backend.service.LoyaltyService.recalculateLoyaltyPointsAndTiers(LoyaltyService.java:97)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\r\n```\r\n\r\nI already tried variations like this, but didn&#39;t help.\r\n\r\n```\r\neu.company.backend.model.domain.enumeration.MemberRoleType.ROLE_CONSUMER MEMBER OF m.roles\r\n```\r\n\r\nWhat can be wrong?","title":"Set&lt;Enum&gt; attribute in JPQL query returns exception at runtime","body":"<p>I migrated an application from Spring Boot 2 to Spring Boot 3. It worked before, but now I have a problem.\nGiven an entity with this attribute:</p>\n<pre><code>    @JsonIgnore\n    @ElementCollection(fetch = EAGER)\n    @CollectionTable(name = &quot;MEMBER_ROLES&quot;, joinColumns = @JoinColumn(name = &quot;MEMBER_ID&quot;))\n    @Column(name = &quot;AUTHORITY&quot;)\n    @Enumerated(STRING)\n    private Set&lt;MemberRoleType&gt; roles;\n</code></pre>\n<p>When this query is executed:</p>\n<pre><code>    @Query(&quot;&quot;&quot;\n        SELECT m\n        FROM Member m\n        WHERE m.disabledOn IS NULL\n            AND m.roles = eu.company.backend.model.domain.enumeration.MemberRoleType.ROLE_CONSUMER \n        &quot;&quot;&quot;)\n    Set&lt;Member&gt; findActiveMembers();\n</code></pre>\n<p>Then this exception occurs, that google doesn't know about:</p>\n<pre><code>2023-05-15 13:31:59,109 ERROR [http-nio-8888-exec-1] [] o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl cannot be cast to class org.hibernate.metamodel.mapping.BasicValuedMapping (org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl and org.hibernate.metamodel.mapping.BasicValuedMapping are in unnamed module of loader 'app')] with root cause\njava.lang.ClassCastException: class org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl cannot be cast to class org.hibernate.metamodel.mapping.BasicValuedMapping (org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl and org.hibernate.metamodel.mapping.BasicValuedMapping are in unnamed module of loader 'app')\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitEnumLiteral(BaseSqmToSqlAstConverter.java:6290)\n    at org.hibernate.query.sqm.tree.expression.SqmEnumLiteral.accept(SqmEnumLiteral.java:150)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitComparisonPredicate(BaseSqmToSqlAstConverter.java:6557)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitComparisonPredicate(BaseSqmToSqlAstConverter.java:416)\n    at org.hibernate.query.sqm.tree.predicate.SqmComparisonPredicate.accept(SqmComparisonPredicate.java:104)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitJunctionPredicate(BaseSqmToSqlAstConverter.java:6364)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitJunctionPredicate(BaseSqmToSqlAstConverter.java:416)\n    at org.hibernate.query.sqm.tree.predicate.SqmJunctionPredicate.accept(SqmJunctionPredicate.java:74)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitWhereClause(BaseSqmToSqlAstConverter.java:2276)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQuerySpec(BaseSqmToSqlAstConverter.java:1823)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQuerySpec(BaseSqmToSqlAstConverter.java:416)\n    at org.hibernate.query.sqm.tree.select.SqmQuerySpec.accept(SqmQuerySpec.java:122)\n    at org.hibernate.query.sqm.spi.BaseSemanticQueryWalker.visitQueryPart(BaseSemanticQueryWalker.java:213)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQueryPart(BaseSqmToSqlAstConverter.java:1679)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectStatement(BaseSqmToSqlAstConverter.java:1477)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectStatement(BaseSqmToSqlAstConverter.java:416)\n    at org.hibernate.query.sqm.tree.select.SqmSelectStatement.accept(SqmSelectStatement.java:213)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.translate(BaseSqmToSqlAstConverter.java:711)\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.buildCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:380)\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:300)\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:276)\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:571)\n    at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:363)\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.list(QuerySqmImpl.java:1073)\n    at org.hibernate.query.Query.getResultList(Query.java:94)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:127)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:148)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:136)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:390)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:134)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\n    at jdk.proxy3/jdk.proxy3.$Proxy202.findActiveMembers(Unknown Source)\n    at eu.company.backend.service.LoyaltyService.recalculateLoyaltyPointsAndTiers(LoyaltyService.java:97)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n\n</code></pre>\n<p>I already tried variations like this, but didn't help.</p>\n<pre><code>eu.company.backend.model.domain.enumeration.MemberRoleType.ROLE_CONSUMER MEMBER OF m.roles\n</code></pre>\n<p>What can be wrong?</p>\n"},{"tags":["java","maven","selenium-webdriver","github-actions","allure"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1684152362,"post_id":76253565,"comment_id":134470311,"body_markdown":"Just a suggestion but from my experience, usually it requires that you create the folder allure-results and chmod it as well in a step prior to writting to it.\n\nAt least this is how it is done when using our self-hosted runners, but it is worth a try.","body":"Just a suggestion but from my experience, usually it requires that you create the folder allure-results and chmod it as well in a step prior to writting to it.  At least this is how it is done when using our self-hosted runners, but it is worth a try."},{"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"score":0,"creation_date":1684152897,"post_id":76253565,"comment_id":134470450,"body_markdown":"@JCompetence - Can you please share some reference how to do that? As I am not much good on yml and linux commands.","body":"@JCompetence - Can you please share some reference how to do that? As I am not much good on yml and linux commands."}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684157964,"creation_date":1684157964,"answer_id":76254695,"question_id":76253565,"body_markdown":"Try to add the step:\r\n\r\n **- name: Update allure-results folder permissions**\r\n\r\nas shown below.\r\n\r\n\r\n\r\njobs:\r\n  build:\r\n\r\n    runs-on: ubuntu-latest\r\n\r\n    steps:\r\n    - uses: actions/checkout@v3\r\n    - name: Set up JDK 11\r\n      uses: actions/setup-java@v3\r\n      with:\r\n        java-version: &#39;11&#39;\r\n        distribution: &#39;temurin&#39;\r\n        cache: maven\r\n    - name: Install Google Chrome #Using shell script to install Google Chrome\r\n      run:   |\r\n              chmod +x ./scripts/InstallChrome.sh\r\n                          ./scripts/InstallChrome.sh\r\n                          \r\n    - name: Build with Maven\r\n      run: mvn test -P placeOrder_stage -Denv=stage\r\n\r\n\r\n\r\n\r\n\r\n    - name: Update allure-results folder permissions\r\n      run: |\r\n             mkdir -p allure-results/Reports/\r\n             chmod 777 -R allure-results/Reports/\r\n                \r\n\r\n\r\n\r\n\r\n\r\n    - name: Test marketplace action\r\n      uses: simple-elf/allure-report-action@master\r\n      if: always()\r\n      id: allure-report\r\n      with:\r\n        allure_results: allure-results/Reports/*\r\n        gh_pages: gh-pages\r\n        allure_report: allure-report\r\n        allure_history: allure-history\r\n\r\n\r\n    - name: Deploy report to Github Pages\r\n      if: always()\r\n      uses: peaceiris/actions-gh-pages@v2\r\n      env:\r\n        PERSONAL_TOKEN: ${{ secrets.GITHUB_TOKEN }}\r\n        PUBLISH_BRANCH: gh-pages\r\n        PUBLISH_DIR: allure-history","title":"Github Actions - Getting Could not Write Error on Allure Report","body":"<p>Try to add the step:</p>\n<p><strong>- name: Update allure-results folder permissions</strong></p>\n<p>as shown below.</p>\n<p>jobs:\nbuild:</p>\n<pre><code>runs-on: ubuntu-latest\n\nsteps:\n- uses: actions/checkout@v3\n- name: Set up JDK 11\n  uses: actions/setup-java@v3\n  with:\n    java-version: '11'\n    distribution: 'temurin'\n    cache: maven\n- name: Install Google Chrome #Using shell script to install Google Chrome\n  run:   |\n          chmod +x ./scripts/InstallChrome.sh\n                      ./scripts/InstallChrome.sh\n                      \n- name: Build with Maven\n  run: mvn test -P placeOrder_stage -Denv=stage\n\n\n\n\n\n- name: Update allure-results folder permissions\n  run: |\n         mkdir -p allure-results/Reports/\n         chmod 777 -R allure-results/Reports/\n            \n\n\n\n\n\n- name: Test marketplace action\n  uses: simple-elf/allure-report-action@master\n  if: always()\n  id: allure-report\n  with:\n    allure_results: allure-results/Reports/*\n    gh_pages: gh-pages\n    allure_report: allure-report\n    allure_history: allure-history\n\n\n- name: Deploy report to Github Pages\n  if: always()\n  uses: peaceiris/actions-gh-pages@v2\n  env:\n    PERSONAL_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n    PUBLISH_BRANCH: gh-pages\n    PUBLISH_DIR: allure-history\n</code></pre>\n"}],"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684157964,"creation_date":1684149808,"question_id":76253565,"body_markdown":"I am having project where it is using following : \r\n\r\n1. Java - 11\r\n2. Maven\r\n3. TestNG\r\n4. Selenium Webdriver\r\n5. Allure Report\r\n\r\nEverything works fine on local machine but when I run on Github actions , I am getting error and allure report is not being generated.\r\n\r\nError is : \r\n\r\n     io.qameta.allure.AllureResultsWriteException: Could not write Allure test result container\r\n    Error:  \tat io.qameta.allure.FileSystemResultsWriter.write(FileSystemResultsWriter.java:68)\r\n    Error:  \tat io.qameta.allure.AllureLifecycle.writeTestContainer(AllureLifecycle.java:170)\r\n    Error:  \tat io.qameta.allure.testng.AllureTestNg.onFinish(AllureTestNg.java:195)\r\n    Error:  \tat org.testng.SuiteRunner.invokeListeners(SuiteRunner.java:269)\r\n    Error:  \tat org.testng.SuiteRunner.run(SuiteRunner.java:332)\r\n    Error:  \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n    Error:  \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n    Error:  \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\r\n    Error:  \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\r\n    Error:  \tat org.testng.TestNG.runSuites(TestNG.java:1099)\r\n    Error:  \tat org.testng.TestNG.run(TestNG.java:1067)\r\n    Error:  \tat org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:295)\r\n    Error:  \tat org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:84)\r\n    Error:  \tat org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:90)\r\n    Error:  \tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)\r\n    Error:  \tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)\r\n    Error:  \tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)\r\n    Error:  Caused by: java.io.FileNotFoundException: allure-results/94d424ca-48b8-454e-b49d-d398a77c5cab-container.json (Permission denied)\r\n    Error:  \tat java.base/java.io.FileOutputStream.open0(Native Method)\r\n    Error:  \tat java.base/java.io.FileOutputStream.open(FileOutputStream.java:298)\r\n    Error:  \tat java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:237)\r\n    Error:  \tat java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:187)\r\n    Error:  \tat com.fasterxml.jackson.core.TokenStreamFactory._fileOutputStream(TokenStreamFactory.java:278)\r\n    Error:  \tat com.fasterxml.jackson.core.JsonFactory.createGenerator(JsonFactory.java:1369)\r\n    Error:  \tat com.fasterxml.jackson.databind.ObjectMapper.createGenerator(ObjectMapper.java:1230)\r\n    Error:  \tat com.fasterxml.jackson.databind.ObjectMapper.writeValue(ObjectMapper.java:3811)\r\n    Error:  \tat io.qameta.allure.FileSystemResultsWriter.write(FileSystemResultsWriter.java:66)\r\n    Error:  \t... 16 more \r\n\r\n\r\nBelow is my Github YML file : \r\n\r\n    # This workflow will build a Java project with Maven, and cache/restore any dependencies to improve the workflow execution time\r\n    # For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-java-with-maven\r\n    \r\n    # This workflow uses actions that are not certified by GitHub.\r\n    # They are provided by a third-party and are governed by\r\n    # separate terms of service, privacy policy, and support\r\n    # documentation.\r\n    \r\n    name: Stage - Automation\r\n    \r\n    on:\r\n      push:\r\n        branches: [ &quot;main&quot; ]\r\n      pull_request:\r\n        branches: [ &quot;main&quot; ]\r\n    \r\n    jobs:\r\n      build:\r\n    \r\n        runs-on: ubuntu-latest\r\n    \r\n        steps:\r\n        - uses: actions/checkout@v3\r\n        - name: Set up JDK 11\r\n          uses: actions/setup-java@v3\r\n          with:\r\n            java-version: &#39;11&#39;\r\n            distribution: &#39;temurin&#39;\r\n            cache: maven\r\n        - name: Install Google Chrome #Using shell script to install Google Chrome\r\n          run:   |\r\n                  chmod +x ./scripts/InstallChrome.sh\r\n                              ./scripts/InstallChrome.sh\r\n                              \r\n        - name: Build with Maven\r\n          run: mvn test -P placeOrder_stage -Denv=stage\r\n    \r\n    \r\n        - name: Test marketplace action\r\n          uses: simple-elf/allure-report-action@master\r\n          if: always()\r\n          id: allure-report\r\n          with:\r\n            allure_results: allure-results/Reports/*\r\n            gh_pages: gh-pages\r\n            allure_report: allure-report\r\n            allure_history: allure-history\r\n    \r\n    \r\n        - name: Deploy report to Github Pages\r\n          if: always()\r\n          uses: peaceiris/actions-gh-pages@v2\r\n          env:\r\n            PERSONAL_TOKEN: ${{ secrets.GITHUB_TOKEN }}\r\n            PUBLISH_BRANCH: gh-pages\r\n            PUBLISH_DIR: allure-history\r\n\r\n\r\n","title":"Github Actions - Getting Could not Write Error on Allure Report","body":"<p>I am having project where it is using following :</p>\n<ol>\n<li>Java - 11</li>\n<li>Maven</li>\n<li>TestNG</li>\n<li>Selenium Webdriver</li>\n<li>Allure Report</li>\n</ol>\n<p>Everything works fine on local machine but when I run on Github actions , I am getting error and allure report is not being generated.</p>\n<p>Error is :</p>\n<pre><code> io.qameta.allure.AllureResultsWriteException: Could not write Allure test result container\nError:      at io.qameta.allure.FileSystemResultsWriter.write(FileSystemResultsWriter.java:68)\nError:      at io.qameta.allure.AllureLifecycle.writeTestContainer(AllureLifecycle.java:170)\nError:      at io.qameta.allure.testng.AllureTestNg.onFinish(AllureTestNg.java:195)\nError:      at org.testng.SuiteRunner.invokeListeners(SuiteRunner.java:269)\nError:      at org.testng.SuiteRunner.run(SuiteRunner.java:332)\nError:      at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\nError:      at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\nError:      at org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\nError:      at org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\nError:      at org.testng.TestNG.runSuites(TestNG.java:1099)\nError:      at org.testng.TestNG.run(TestNG.java:1067)\nError:      at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:295)\nError:      at org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:84)\nError:      at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:90)\nError:      at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)\nError:      at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)\nError:      at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)\nError:  Caused by: java.io.FileNotFoundException: allure-results/94d424ca-48b8-454e-b49d-d398a77c5cab-container.json (Permission denied)\nError:      at java.base/java.io.FileOutputStream.open0(Native Method)\nError:      at java.base/java.io.FileOutputStream.open(FileOutputStream.java:298)\nError:      at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:237)\nError:      at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:187)\nError:      at com.fasterxml.jackson.core.TokenStreamFactory._fileOutputStream(TokenStreamFactory.java:278)\nError:      at com.fasterxml.jackson.core.JsonFactory.createGenerator(JsonFactory.java:1369)\nError:      at com.fasterxml.jackson.databind.ObjectMapper.createGenerator(ObjectMapper.java:1230)\nError:      at com.fasterxml.jackson.databind.ObjectMapper.writeValue(ObjectMapper.java:3811)\nError:      at io.qameta.allure.FileSystemResultsWriter.write(FileSystemResultsWriter.java:66)\nError:      ... 16 more \n</code></pre>\n<p>Below is my Github YML file :</p>\n<pre><code># This workflow will build a Java project with Maven, and cache/restore any dependencies to improve the workflow execution time\n# For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-java-with-maven\n\n# This workflow uses actions that are not certified by GitHub.\n# They are provided by a third-party and are governed by\n# separate terms of service, privacy policy, and support\n# documentation.\n\nname: Stage - Automation\n\non:\n  push:\n    branches: [ &quot;main&quot; ]\n  pull_request:\n    branches: [ &quot;main&quot; ]\n\njobs:\n  build:\n\n    runs-on: ubuntu-latest\n\n    steps:\n    - uses: actions/checkout@v3\n    - name: Set up JDK 11\n      uses: actions/setup-java@v3\n      with:\n        java-version: '11'\n        distribution: 'temurin'\n        cache: maven\n    - name: Install Google Chrome #Using shell script to install Google Chrome\n      run:   |\n              chmod +x ./scripts/InstallChrome.sh\n                          ./scripts/InstallChrome.sh\n                          \n    - name: Build with Maven\n      run: mvn test -P placeOrder_stage -Denv=stage\n\n\n    - name: Test marketplace action\n      uses: simple-elf/allure-report-action@master\n      if: always()\n      id: allure-report\n      with:\n        allure_results: allure-results/Reports/*\n        gh_pages: gh-pages\n        allure_report: allure-report\n        allure_history: allure-history\n\n\n    - name: Deploy report to Github Pages\n      if: always()\n      uses: peaceiris/actions-gh-pages@v2\n      env:\n        PERSONAL_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n        PUBLISH_BRANCH: gh-pages\n        PUBLISH_DIR: allure-history\n</code></pre>\n"},{"tags":["java","java-8","java-9"],"comments":[{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":2,"creation_date":1684149514,"post_id":76253470,"comment_id":134469623,"body_markdown":"You could &quot;steal&quot; it from a newer JDK, it&#39;s a couple lines of code: https://github.com/openjdk/jdk/blob/ad348a8cec50561d3e295b6289772530f541c6b1/src/java.base/share/classes/java/util/Enumeration.java#L119 - I think that may have happened in this answer once: https://stackoverflow.com/a/23276455/7916438","body":"You could &quot;steal&quot; it from a newer JDK, it&#39;s a couple lines of code: <a href=\"https://github.com/openjdk/jdk/blob/ad348a8cec50561d3e295b6289772530f541c6b1/src/java.base/share/classes/java/util/Enumeration.java#L119\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/&hellip;</a> - I think that may have happened in this answer once: <a href=\"https://stackoverflow.com/a/23276455/7916438\">stackoverflow.com/a/23276455/7916438</a>"}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1684156309,"creation_date":1684150040,"answer_id":76253589,"question_id":76253470,"body_markdown":"To begin with, look up &quot;jdk source code&quot; in your favourite search engine to find the source of `asIterator`, so that you can copy it. You&#39;ll find it here:\r\n\r\nhttps://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Enumeration.java\r\n\r\nThere you&#39;ll find `Enumeration.asIterator()`, which is an interface default method. You can define it locally as a method that takes an Enumeration argument:\r\n\r\n    private static &lt;E&gt; Iterator&lt;E&gt; asIterator(Enumeration&lt;E&gt; enumeration) {\r\n        return new Iterator&lt;&gt;() {\r\n            @Override public boolean hasNext() {\r\n                return enumeration.hasMoreElements();\r\n            }\r\n            @Override public E next() {\r\n                return enumeration.nextElement();\r\n            }\r\n        };\r\n    }\r\n\r\nand then use it like this:\r\n\r\n        Iterator&lt;URL&gt; iterator = asIterator(cl.getResources(packageDir));\r\n\r\nHowever, @tevemadar commented with a link to an [answer to a related question][1] that might suit you better \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/23261803/iterate-an-enumeration-in-java-8/23276455#23276455","title":"Java9 &#39;asIterator&#39; equivalent implementation in Java8","body":"<p>To begin with, look up &quot;jdk source code&quot; in your favourite search engine to find the source of <code>asIterator</code>, so that you can copy it. You'll find it here:</p>\n<p><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Enumeration.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Enumeration.java</a></p>\n<p>There you'll find <code>Enumeration.asIterator()</code>, which is an interface default method. You can define it locally as a method that takes an Enumeration argument:</p>\n<pre><code>private static &lt;E&gt; Iterator&lt;E&gt; asIterator(Enumeration&lt;E&gt; enumeration) {\n    return new Iterator&lt;&gt;() {\n        @Override public boolean hasNext() {\n            return enumeration.hasMoreElements();\n        }\n        @Override public E next() {\n            return enumeration.nextElement();\n        }\n    };\n}\n</code></pre>\n<p>and then use it like this:</p>\n<pre><code>    Iterator&lt;URL&gt; iterator = asIterator(cl.getResources(packageDir));\n</code></pre>\n<p>However, @tevemadar commented with a link to an <a href=\"https://stackoverflow.com/questions/23261803/iterate-an-enumeration-in-java-8/23276455#23276455\">answer to a related question</a> that might suit you better</p>\n"}],"owner":{"account_id":1835033,"reputation":5468,"user_id":1665592,"accept_rate":77,"display_name":"Swapnil Kotwal"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684232460,"accepted_answer_id":76253589,"answer_count":1,"score":0,"last_activity_date":1684157822,"creation_date":1684149026,"question_id":76253470,"body_markdown":"Below piece of code is using `asIterator()` method from Java 9 can someone please help me to convert below code compatible with Java 8?\r\n\r\n``` \r\nprivate static Function&lt;ClassLoader, Stream&lt;URL&gt;&gt; asURLs(String packageDir) {\r\n    return cl -&gt; {\r\n      try {\r\n        Iterator&lt;URL&gt; iterator = cl.getResources(packageDir).asIterator();\r\n        return StreamSupport.stream(\r\n            Spliterators.spliteratorUnknownSize(iterator, Spliterator.ORDERED), false);\r\n      } catch (IOException e) {\r\n        throw new UnhandledIOException(e);\r\n      }\r\n    };\r\n```\r\n  ","title":"Java9 &#39;asIterator&#39; equivalent implementation in Java8","body":"<p>Below piece of code is using <code>asIterator()</code> method from Java 9 can someone please help me to convert below code compatible with Java 8?</p>\n<pre><code>private static Function&lt;ClassLoader, Stream&lt;URL&gt;&gt; asURLs(String packageDir) {\n    return cl -&gt; {\n      try {\n        Iterator&lt;URL&gt; iterator = cl.getResources(packageDir).asIterator();\n        return StreamSupport.stream(\n            Spliterators.spliteratorUnknownSize(iterator, Spliterator.ORDERED), false);\n      } catch (IOException e) {\n        throw new UnhandledIOException(e);\n      }\n    };\n</code></pre>\n"},{"tags":["java","android","json","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1684141685,"post_id":76252478,"comment_id":134467948,"body_markdown":"To understand better, you need a class with fields that can be mapped in the above database schmea?","body":"To understand better, you need a class with fields that can be mapped in the above database schmea?"}],"owner":{"account_id":26106749,"reputation":1,"user_id":19801339,"display_name":"Petar Barac"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684157434,"creation_date":1684141561,"question_id":76252478,"body_markdown":"I want to organize data in Firebase like this, also I want that task_id_1 is type UID. How do I need to organize Java classes in order to do that?\r\n\r\n```json\r\n{\r\n  &quot;users&quot;: {\r\n    &quot;uid_1&quot;: {\r\n      &quot;tasks&quot;: {\r\n        &quot;task_id_1&quot;: {\r\n          &quot;name&quot;: &quot;Ime prvog taska&quot;,\r\n          &quot;date&quot;: &quot;2023-05-15&quot;\r\n        },\r\n        &quot;task_id_2&quot;: {\r\n          &quot;name&quot;: &quot;Ime drugog taska&quot;,\r\n          &quot;date&quot;: &quot;2023-05-16&quot;\r\n        }\r\n      }\r\n    },\r\n    &quot;uid_2&quot;: {\r\n      &quot;tasks&quot;: {\r\n        &quot;task_id_3&quot;: {\r\n          &quot;name&quot;: &quot;Ime trećeg taska&quot;,\r\n          &quot;date&quot;: &quot;2023-05-17&quot;\r\n        },\r\n        &quot;task_id_4&quot;: {\r\n          &quot;name&quot;: &quot;Ime cetvrtog taska&quot;,\r\n          &quot;date&quot;: &quot;2023-05-18&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI know I can add tasks like this:\r\n\r\n```java\r\npublic class User {\r\n    private String uid;\r\n    private List&lt;Task&gt; tasks;\r\n}\r\n```\r\n\r\nBut in that way I will get members of array list instead of uid as a parent for Task class.","title":"How do I need organize Java classes in order to save data to Firebase that has uid as parent of its children","body":"<p>I want to organize data in Firebase like this, also I want that task_id_1 is type UID. How do I need to organize Java classes in order to do that?</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;users&quot;: {\n    &quot;uid_1&quot;: {\n      &quot;tasks&quot;: {\n        &quot;task_id_1&quot;: {\n          &quot;name&quot;: &quot;Ime prvog taska&quot;,\n          &quot;date&quot;: &quot;2023-05-15&quot;\n        },\n        &quot;task_id_2&quot;: {\n          &quot;name&quot;: &quot;Ime drugog taska&quot;,\n          &quot;date&quot;: &quot;2023-05-16&quot;\n        }\n      }\n    },\n    &quot;uid_2&quot;: {\n      &quot;tasks&quot;: {\n        &quot;task_id_3&quot;: {\n          &quot;name&quot;: &quot;Ime trećeg taska&quot;,\n          &quot;date&quot;: &quot;2023-05-17&quot;\n        },\n        &quot;task_id_4&quot;: {\n          &quot;name&quot;: &quot;Ime cetvrtog taska&quot;,\n          &quot;date&quot;: &quot;2023-05-18&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>I know I can add tasks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class User {\n    private String uid;\n    private List&lt;Task&gt; tasks;\n}\n</code></pre>\n<p>But in that way I will get members of array list instead of uid as a parent for Task class.</p>\n"},{"tags":["java","logging","log4j"],"answers":[{"tags":[],"owner":{"account_id":5934812,"reputation":132,"user_id":4668201,"display_name":"L&#233;o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684157164,"creation_date":1684157164,"answer_id":76254567,"question_id":76254397,"body_markdown":"As far as I know, this option does not exist. But you can extend the RollingFileAppender class to fit your needs","title":"Slf4j rolling file appender","body":"<p>As far as I know, this option does not exist. But you can extend the RollingFileAppender class to fit your needs</p>\n"}],"owner":{"account_id":25281172,"reputation":1,"user_id":19109041,"display_name":"Kenneth Michael Haahr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684157164,"creation_date":1684155988,"question_id":76254397,"body_markdown":"Hi i have an elder version of log4j that i cant seem to get to roll the log files correctly.\r\n\r\nthe log files are rolled as this... xxx.log --&gt; xxx.log.5 --&gt; xxx.log.4\r\n\r\ni want them to roll in the opposite direction so that when xxx.log reaches 200kb it rolls to xxx.log.1 and so forth till it reaches xxx.log.5\r\nafter that it should not roll further but delete the oldest file. \r\n\r\n\r\ni am using a logger.properties file\r\n\r\n    log4j.appender.fil=org.apache.log4j.RollingFileAppender\r\n    log4j.appender.fil.threshold=INFO\r\n    log4j.appender.fil.File=Logs/xxx.log\r\n    log4j.appender.fil.MaxFileSize=200kB\r\n    log4j.appender.fil.MaxBackupIndex=5\r\n\r\n\r\n\r\n\r\n\r\nhere i thought the solution would have been to add the folowing line to make it roll as i wanted \r\n    log4j.appender.fil.fileNamePattern=Logs/xxx.log.%i\r\n\r\n\r\nthanks in advance to anyone who might try and help me.","title":"Slf4j rolling file appender","body":"<p>Hi i have an elder version of log4j that i cant seem to get to roll the log files correctly.</p>\n<p>the log files are rolled as this... xxx.log --&gt; xxx.log.5 --&gt; xxx.log.4</p>\n<p>i want them to roll in the opposite direction so that when xxx.log reaches 200kb it rolls to xxx.log.1 and so forth till it reaches xxx.log.5\nafter that it should not roll further but delete the oldest file.</p>\n<p>i am using a logger.properties file</p>\n<pre><code>log4j.appender.fil=org.apache.log4j.RollingFileAppender\nlog4j.appender.fil.threshold=INFO\nlog4j.appender.fil.File=Logs/xxx.log\nlog4j.appender.fil.MaxFileSize=200kB\nlog4j.appender.fil.MaxBackupIndex=5\n</code></pre>\n<p>here i thought the solution would have been to add the folowing line to make it roll as i wanted\nlog4j.appender.fil.fileNamePattern=Logs/xxx.log.%i</p>\n<p>thanks in advance to anyone who might try and help me.</p>\n"},{"tags":["java","cucumber","cucumber-jvm"],"comments":[{"owner":{"account_id":16918250,"reputation":85,"user_id":12235678,"display_name":"Niks"},"score":0,"creation_date":1649678130,"post_id":18856458,"comment_id":126929128,"body_markdown":"Did you find a better solution for this?\ni am facing same issue.\nWhen i run TestRunner\n\n my feature file first scenario start with &quot;@before&quot; hook method with tag &quot;@Start&quot;and it start browser \nand last scenario in feature file with &quot;@teardown&quot; tag closes it with &quot;@after&quot; hook method \nNote; To make it work i had to use \nStatic Webdriver driver;\n\nThe problem is , It restrict me to run multiple feature file execution using same Test Runner.\nWhile Using testrunner for 2 featurefile.\nStatic Webdriver does not open browser session for 2nd feature file.","body":"Did you find a better solution for this? i am facing same issue. When i run TestRunner   my feature file first scenario start with &quot;@before&quot; hook method with tag &quot;@Start&quot;and it start browser  and last scenario in feature file with &quot;@teardown&quot; tag closes it with &quot;@after&quot; hook method  Note; To make it work i had to use  Static Webdriver driver;  The problem is , It restrict me to run multiple feature file execution using same Test Runner. While Using testrunner for 2 featurefile. Static Webdriver does not open browser session for 2nd feature file."}],"answers":[{"tags":[],"owner":{"account_id":1742696,"reputation":3996,"user_id":1593654,"accept_rate":94,"display_name":"Wouter"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1379442465,"creation_date":1379442465,"answer_id":18857234,"question_id":18856458,"body_markdown":"It is if you are using junit to run your tests. We use the annotations to create a unit test class and a separate steps class. The standard @Before stuff goes in the steps class, but the @BeforeClass annotation can be used in the main unit test class:\r\n\r\n    @RunWith(Cucumber.class)\r\n    @Cucumber.Options(format = {&quot;json&quot;, &quot;&lt;the report file&quot;},\r\n        features = {&quot;&lt;the feature file&gt;&quot;},\r\n        strict = false,\r\n        glue = {&quot;&lt;package with steps classes&quot;})\r\n    public class SomeTestIT {\r\n        @BeforeClass\r\n        public static void setUp(){\r\n           ...\r\n        }\r\n\r\n        @AfterClass\r\n        public static void tearDown(){\r\n           ...\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Execute Cucumber step before/after a specific feature","body":"<p>It is if you are using junit to run your tests. We use the annotations to create a unit test class and a separate steps class. The standard @Before stuff goes in the steps class, but the @BeforeClass annotation can be used in the main unit test class:</p>\n\n<pre><code>@RunWith(Cucumber.class)\n@Cucumber.Options(format = {\"json\", \"&lt;the report file\"},\n    features = {\"&lt;the feature file&gt;\"},\n    strict = false,\n    glue = {\"&lt;package with steps classes\"})\npublic class SomeTestIT {\n    @BeforeClass\n    public static void setUp(){\n       ...\n    }\n\n    @AfterClass\n    public static void tearDown(){\n       ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":125813,"reputation":23095,"user_id":321862,"accept_rate":84,"display_name":"Oh Chin Boon"},"down_vote_count":4,"up_vote_count":24,"is_accepted":true,"score":20,"last_activity_date":1387261495,"creation_date":1387261495,"answer_id":20627384,"question_id":18856458,"body_markdown":"Do you use cucumber-jvm? I found an article that fits your requirement. \r\n\r\nhttp://zsoltfabok.com/blog/2012/09/cucumber-jvm-hooks/\r\n\r\nBasically, do not use JUnit @BeforeClass and @AfterClass for this, as they are unaware of Cucumber Hook Tags. You would want Init and Teardown methods to run for certain scenarios only right?","title":"Execute Cucumber step before/after a specific feature","body":"<p>Do you use cucumber-jvm? I found an article that fits your requirement. </p>\n\n<p><a href=\"http://zsoltfabok.com/blog/2012/09/cucumber-jvm-hooks/\">http://zsoltfabok.com/blog/2012/09/cucumber-jvm-hooks/</a></p>\n\n<p>Basically, do not use JUnit @BeforeClass and @AfterClass for this, as they are unaware of Cucumber Hook Tags. You would want Init and Teardown methods to run for certain scenarios only right?</p>\n"},{"tags":[],"owner":{"account_id":338617,"reputation":5261,"user_id":667586,"accept_rate":47,"display_name":"Abhishek Bedi"},"down_vote_count":6,"up_vote_count":11,"is_accepted":false,"score":5,"last_activity_date":1490159698,"creation_date":1449561953,"answer_id":34150850,"question_id":18856458,"body_markdown":"**Try this :** \r\n\r\n\r\n**In feature file :** \r\n\r\n    @tagToIdentifyThatBeginAfterShouldRunForThisFeatureOnly\r\n    Feature : My new feature ....\r\n\r\n**In Stepdefinitions.java** : \r\n\r\n    @Before(&quot;@tagToIdentifyThatBeginAfterShouldRunForThisFeatureOnly&quot;)\r\n    public void testStart() throws Throwable {\r\n    }\r\n    \r\n    @After(&quot;@tagToIdentifyThatBeginAfterShouldRunForThisFeatureOnly&quot;)\r\n    public void testStart() throws Throwable {\r\n    }\r\n\r\n","title":"Execute Cucumber step before/after a specific feature","body":"<p><strong>Try this :</strong> </p>\n\n<p><strong>In feature file :</strong> </p>\n\n<pre><code>@tagToIdentifyThatBeginAfterShouldRunForThisFeatureOnly\nFeature : My new feature ....\n</code></pre>\n\n<p><strong>In Stepdefinitions.java</strong> : </p>\n\n<pre><code>@Before(\"@tagToIdentifyThatBeginAfterShouldRunForThisFeatureOnly\")\npublic void testStart() throws Throwable {\n}\n\n@After(\"@tagToIdentifyThatBeginAfterShouldRunForThisFeatureOnly\")\npublic void testStart() throws Throwable {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6079744,"reputation":425,"user_id":4745890,"display_name":"Utpal Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627248938,"creation_date":1627203046,"answer_id":68516990,"question_id":18856458,"body_markdown":"Well I had the same requirement as yours. As per cucumber-jvm documentantion - \r\n[Cucumber-JVM does not support running a hook only once.][1]\r\n\r\n\r\n  [1]: https://cucumber.io/docs/cucumber/api/#hooks\r\n\r\nSo I followed null-check approach for a specific variable which is outcome of @Before in cucumber step hook. Something like below.\r\n\r\n    private String token;\r\n    public String getToken(){\r\n         if (token == null) {\r\n            token = CucumberClass.executeMethod();\r\n          }\r\n    return token;\r\n    }\r\n\r\nIn above example let&#39;s suppose getToken() method gives you some token required before any scenario could run and you want token only once. This approach will execute your method only the first time i.e when it is null before any scenario starts executing. It significantly reduces the execution time also.\r\n\r\n","title":"Execute Cucumber step before/after a specific feature","body":"<p>Well I had the same requirement as yours. As per cucumber-jvm documentantion -\n<a href=\"https://cucumber.io/docs/cucumber/api/#hooks\" rel=\"nofollow noreferrer\">Cucumber-JVM does not support running a hook only once.</a></p>\n<p>So I followed null-check approach for a specific variable which is outcome of @Before in cucumber step hook. Something like below.</p>\n<pre><code>private String token;\npublic String getToken(){\n     if (token == null) {\n        token = CucumberClass.executeMethod();\n      }\nreturn token;\n}\n</code></pre>\n<p>In above example let's suppose getToken() method gives you some token required before any scenario could run and you want token only once. This approach will execute your method only the first time i.e when it is null before any scenario starts executing. It significantly reduces the execution time also.</p>\n"},{"tags":[],"owner":{"account_id":14112670,"reputation":121,"user_id":10195116,"display_name":"Jitendra Pisal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684156950,"creation_date":1684156950,"answer_id":76254533,"question_id":18856458,"body_markdown":"Here is little programming hack.\r\nrefer following code \r\n\r\n    public class DemoSteps {\r\n\r\n    static boolean runOnlyOnce = true;\r\n\r\n    @Before(&quot;@home&quot;)\r\n    public static void setRunOnlyOnce() {\r\n        if (runOnlyOnce) {\r\n            System.out.println(&quot;Execute here&quot;);\r\n        }\r\n        runOnlyOnce = false;\r\n    }\r\n}\r\n\r\n    \r\n    @home\r\n    Business Need: home page\r\n\r\n    Scenario: test 1\r\n     Given test 1\r\n\r\n    Scenario: test 2\r\n     Given test 2\r\n\r\n\r\nIn above example, if condition in setRunOnlyOnce() method will run only once","title":"Execute Cucumber step before/after a specific feature","body":"<p>Here is little programming hack.\nrefer following code</p>\n<pre><code>public class DemoSteps {\n\nstatic boolean runOnlyOnce = true;\n\n@Before(&quot;@home&quot;)\npublic static void setRunOnlyOnce() {\n    if (runOnlyOnce) {\n        System.out.println(&quot;Execute here&quot;);\n    }\n    runOnlyOnce = false;\n}\n</code></pre>\n<p>}</p>\n<pre><code>@home\nBusiness Need: home page\n\nScenario: test 1\n Given test 1\n\nScenario: test 2\n Given test 2\n</code></pre>\n<p>In above example, if condition in setRunOnlyOnce() method will run only once</p>\n"}],"owner":{"account_id":159096,"reputation":2116,"user_id":378171,"accept_rate":72,"display_name":"Dave Novelli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125297,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":20627384,"answer_count":5,"score":38,"last_activity_date":1684156950,"creation_date":1379439798,"question_id":18856458,"body_markdown":"I want to specify certain setup and tear down steps for each specific feature file. I&#39;ve seen hooks that allows code to execute before every scenario, and hooks to execute code before each feature, but I want to specify code to run once before and after all scenarios run for one specific feature. \r\n\r\nIs this possible?","title":"Execute Cucumber step before/after a specific feature","body":"<p>I want to specify certain setup and tear down steps for each specific feature file. I've seen hooks that allows code to execute before every scenario, and hooks to execute code before each feature, but I want to specify code to run once before and after all scenarios run for one specific feature. </p>\n\n<p>Is this possible?</p>\n"},{"tags":["java","spring-boot","constructor"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1684155249,"post_id":76254266,"comment_id":134471033,"body_markdown":"What does it matter? Also, if you want to know, just put a breakpoint (or god forbid, a log statement) inside the constructor.","body":"What does it matter? Also, if you want to know, just put a breakpoint (or god forbid, a log statement) inside the constructor."}],"answers":[{"tags":[],"owner":{"account_id":27816216,"reputation":286,"user_id":21237557,"display_name":"Ruslan Zinovyev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684156572,"creation_date":1684156572,"answer_id":76254476,"question_id":76254266,"body_markdown":"In Spring, if class is annotated with @Service, @RestController or any other stereotype annotation, it becomes a Spring bean, which means it&#39;s managed by the Spring IOC (Inversion of Control) container. It includes lifecycle management, so the initiation of these beans is handled by Spring.\r\n\r\nConstructor for such bean is executed when the bean is created by Spring IoC container. It usually happens at the startup of your application, because by default beans in Spring are singleton scoped, which means that one instance will be created for entire application.\r\n\r\nIn your case, the MessageController class is annotated with @RestController, making it a Spring Bean. The constructor for MessageController will be executed when the bean is created during application startup.\r\n\r\nThe RabbitMQProducer producer parameter in the constructor indicates that the MessageController bean depends on the RabbitMQProducer bean. Spring will automatically manage this dependency for you. This is a part of Spring&#39;s DI (dependency injection) feature. When the MessageController bean is created, the Spring container will also create an instance of RabbitMQProducer (if one doesn&#39;t already exist) and pass it to the MessageController constructor. This is how it works in general. ","title":"when the constructor will be executed in spring boot","body":"<p>In Spring, if class is annotated with @Service, @RestController or any other stereotype annotation, it becomes a Spring bean, which means it's managed by the Spring IOC (Inversion of Control) container. It includes lifecycle management, so the initiation of these beans is handled by Spring.</p>\n<p>Constructor for such bean is executed when the bean is created by Spring IoC container. It usually happens at the startup of your application, because by default beans in Spring are singleton scoped, which means that one instance will be created for entire application.</p>\n<p>In your case, the MessageController class is annotated with @RestController, making it a Spring Bean. The constructor for MessageController will be executed when the bean is created during application startup.</p>\n<p>The RabbitMQProducer producer parameter in the constructor indicates that the MessageController bean depends on the RabbitMQProducer bean. Spring will automatically manage this dependency for you. This is a part of Spring's DI (dependency injection) feature. When the MessageController bean is created, the Spring container will also create an instance of RabbitMQProducer (if one doesn't already exist) and pass it to the MessageController constructor. This is how it works in general.</p>\n"}],"owner":{"account_id":28602642,"reputation":1,"user_id":21899232,"display_name":"Aravind A"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684156802,"creation_date":1684155125,"question_id":76254266,"body_markdown":"if a class is annotated `@Service`, `@RestController` or `@Configuration` if there is a constructor with or with our parameter.\r\n\r\nI just want to know when the constructor will be executed.\r\n\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v1&quot;)\r\npublic class MessageController {\r\n\t\r\nprivate RabbitMQProducer producer;\r\n\r\npublic MessageController(RabbitMQProducer producer) {\r\n\tsuper();\r\n\tthis.producer = producer;\r\n}\r\n\r\n@GetMapping(&quot;/publish&quot;)\r\npublic ResponseEntity&lt;String&gt; sendMessage(@RequestParam(&quot;message&quot;) String message)\r\n{\r\n\tproducer.sendMessage(message);\r\n\treturn ResponseEntity.ok(&quot;message sent to the rabbitmq&quot;);\r\n}\r\n\t\r\n\t\r\n}\r\n```\r\n","title":"when the constructor will be executed in spring boot","body":"<p>if a class is annotated <code>@Service</code>, <code>@RestController</code> or <code>@Configuration</code> if there is a constructor with or with our parameter.</p>\n<p>I just want to know when the constructor will be executed.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1&quot;)\npublic class MessageController {\n    \nprivate RabbitMQProducer producer;\n\npublic MessageController(RabbitMQProducer producer) {\n    super();\n    this.producer = producer;\n}\n\n@GetMapping(&quot;/publish&quot;)\npublic ResponseEntity&lt;String&gt; sendMessage(@RequestParam(&quot;message&quot;) String message)\n{\n    producer.sendMessage(message);\n    return ResponseEntity.ok(&quot;message sent to the rabbitmq&quot;);\n}\n    \n    \n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684156755,"creation_date":1684156755,"answer_id":76254505,"question_id":76254284,"body_markdown":"To put it simple: root context is global for all servlets and servlet context is for a particular servlet. The servlet settings can be different for each servlet.","title":"what is the difference between rootConfigClasses in spring and servlet context?","body":"<p>To put it simple: root context is global for all servlets and servlet context is for a particular servlet. The servlet settings can be different for each servlet.</p>\n"}],"owner":{"account_id":28586547,"reputation":1,"user_id":21886643,"display_name":"coder_Kamalesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684156755,"creation_date":1684155217,"question_id":76254284,"body_markdown":"I read that Root config class provide application specific configuration such as service class configuration,etc., My doubt is that why we need root config classes. And how servlet context is related to root config classes. \r\n\r\n\r\n\r\n```\r\npackage configuration;\r\n\r\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\r\n\r\npublic class FrontController extends AbstractAnnotationConfigDispatcherServletInitializer{\r\n\t\t\r\n\r\n\t@Override\r\n\tprotected Class&lt;?&gt;[] getRootConfigClasses() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn new Class[] {DaoConfig.class};\r\n\t}\r\n\r\n\t@Override\r\n\tprotected Class&lt;?&gt;[] getServletConfigClasses() {\r\n\t\treturn new Class[] {MvcConfig.class};\r\n\t}\r\n\r\n\t@Override\r\n\tprotected String[] getServletMappings() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn new String[] {&quot;/&quot;};\r\n\t}\r\n\t\r\n\t\r\n\t\r\n}\r\n```\r\n","title":"what is the difference between rootConfigClasses in spring and servlet context?","body":"<p>I read that Root config class provide application specific configuration such as service class configuration,etc., My doubt is that why we need root config classes. And how servlet context is related to root config classes.</p>\n<pre><code>package configuration;\n\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\n\npublic class FrontController extends AbstractAnnotationConfigDispatcherServletInitializer{\n        \n\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        // TODO Auto-generated method stub\n        return new Class[] {DaoConfig.class};\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        return new Class[] {MvcConfig.class};\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        // TODO Auto-generated method stub\n        return new String[] {&quot;/&quot;};\n    }\n    \n    \n    \n}\n</code></pre>\n"},{"tags":["java","spring","google-cloud-platform","netty","pubs"],"answers":[{"tags":[],"owner":{"account_id":2233383,"reputation":427,"user_id":1970670,"display_name":"Piotr Cierpich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676540660,"creation_date":1676539629,"answer_id":75470187,"question_id":75469888,"body_markdown":"Error log gives you a good explanation of what&#39;s the issue: somewhere in your code (might be spring code called by your application too, perhaps WebClient&#39;s with Netty?) there is ByteBuf used and it requires call to ByteBuf.release() to release memory it allocated. The way to resolve that is described in **Troubleshooting buffer leaks** section: https://netty.io/wiki/reference-counted-objects.html#troubleshooting-buffer-leaks \r\nI recommend reading the docs above, but in short: use this VM parameter while running your application:\r\n\r\n    -Dio.netty.leakDetection.level=paranoid\r\n(advanced should work as well, but you need to wait bit more for the error) and if the error pops up check the stacktrace to find out where is the code that caused that. Note that in your code might be well hidden in the stack trace between Flux operators and neetty calls, so look carefully. In my case it looked like this:\r\n\r\n    16-02-2023 10:38:59.268 reactor-http-nio-3 trace: [ERROR]  ResourceLeakDetector  - LEAK: ByteBuf.release() was not called before it&#39;s garbage-collected. See https://netty.io/wiki/reference-counted-objects.html for more information.\r\n    Recent access records:\r\n    #1:\r\n            io.netty.handler.codec.http.DefaultHttpContent.release(DefaultHttpContent.java:92)\r\n            io.netty.util.ReferenceCountUtil.release(ReferenceCountUtil.java:88)\r\n            reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:340)\r\n            reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:358)\r\n    ...\r\n    #2:\r\n            io.netty.buffer.AdvancedLeakAwareByteBuf.nioBuffer(AdvancedLeakAwareByteBuf.java:712)\r\n            org.springframework.core.io.buffer.NettyDataBuffer.asByteBuffer(NettyDataBuffer.java:273)\r\n            // there it is: com....CallerClass.lambda$responseFromWebClientExchange$12(CallerClass.java:150)\r\n            reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:107)\r\n            reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:385)\r\n            reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:114)\r\n    ...\r\n\r\n Sample code that releases ByteBuffer and fixes the issue:\r\n\r\n    // called from webclient.exchange().flatMap(this::responseFromWebClientExchange)\r\n    private Mono&lt;byte[]&gt; responseFromWebClientExchange(ClientResponse response) { \r\n\treturn response\r\n\t\t\t.body(BodyExtractors.toDataBuffers())\r\n\t\t\t.map(dataBuffer -&gt; {\r\n\t\t\t\tByteBuffer byteBuffer = dataBuffer.asByteBuffer();\r\n\t\t\t\tbyte[] byteArray = new byte[byteBuffer.remaining()];\r\n\t\t\t\tbyteBuffer.get(byteArray); // do something with the response bytes, not important for this example\r\n\t\t\t\tDataBufferUtils.release(dataBuffer); // RELEASE the buffer, without this call memory will leak\r\n\t\t\t\treturn byteArray;\r\n\t\t\t})\r\n\t\t\t.reduce(Bytes::concat);\r\n    }\r\n    // called from \r\n    webClient\r\n\t  .get()\r\n\t  .uri(uri)\r\n\t  .exchange()\r\n\t  .flatMap(this::responseFromWebClientExchange)\r\n\r\nnote that it is the DataBufferUtils.release that calls the ByteBuf.release(), if it wasn&#39;t there, the code would generate this exception from time to time, by default 1% of ByteByfs are checked against leakages, if the io.netty.leakDetection.level is changed the checks will be more frequent. You just seem to be missing a call to DataBufferUtils.release (or just ByteBuf.release).","title":"SUBJECT: LEAK: ByteBuf.release() was not called before it&#39;s garbage-collected","body":"<p>Error log gives you a good explanation of what's the issue: somewhere in your code (might be spring code called by your application too, perhaps WebClient's with Netty?) there is ByteBuf used and it requires call to ByteBuf.release() to release memory it allocated. The way to resolve that is described in <strong>Troubleshooting buffer leaks</strong> section: <a href=\"https://netty.io/wiki/reference-counted-objects.html#troubleshooting-buffer-leaks\" rel=\"nofollow noreferrer\">https://netty.io/wiki/reference-counted-objects.html#troubleshooting-buffer-leaks</a>\nI recommend reading the docs above, but in short: use this VM parameter while running your application:</p>\n<pre><code>-Dio.netty.leakDetection.level=paranoid\n</code></pre>\n<p>(advanced should work as well, but you need to wait bit more for the error) and if the error pops up check the stacktrace to find out where is the code that caused that. Note that in your code might be well hidden in the stack trace between Flux operators and neetty calls, so look carefully. In my case it looked like this:</p>\n<pre><code>16-02-2023 10:38:59.268 reactor-http-nio-3 trace: [ERROR]  ResourceLeakDetector  - LEAK: ByteBuf.release() was not called before it's garbage-collected. See https://netty.io/wiki/reference-counted-objects.html for more information.\nRecent access records:\n#1:\n        io.netty.handler.codec.http.DefaultHttpContent.release(DefaultHttpContent.java:92)\n        io.netty.util.ReferenceCountUtil.release(ReferenceCountUtil.java:88)\n        reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:340)\n        reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:358)\n...\n#2:\n        io.netty.buffer.AdvancedLeakAwareByteBuf.nioBuffer(AdvancedLeakAwareByteBuf.java:712)\n        org.springframework.core.io.buffer.NettyDataBuffer.asByteBuffer(NettyDataBuffer.java:273)\n        // there it is: com....CallerClass.lambda$responseFromWebClientExchange$12(CallerClass.java:150)\n        reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:107)\n        reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:385)\n        reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:114)\n...\n</code></pre>\n<p>Sample code that releases ByteBuffer and fixes the issue:</p>\n<pre><code>// called from webclient.exchange().flatMap(this::responseFromWebClientExchange)\nprivate Mono&lt;byte[]&gt; responseFromWebClientExchange(ClientResponse response) { \nreturn response\n        .body(BodyExtractors.toDataBuffers())\n        .map(dataBuffer -&gt; {\n            ByteBuffer byteBuffer = dataBuffer.asByteBuffer();\n            byte[] byteArray = new byte[byteBuffer.remaining()];\n            byteBuffer.get(byteArray); // do something with the response bytes, not important for this example\n            DataBufferUtils.release(dataBuffer); // RELEASE the buffer, without this call memory will leak\n            return byteArray;\n        })\n        .reduce(Bytes::concat);\n}\n// called from \nwebClient\n  .get()\n  .uri(uri)\n  .exchange()\n  .flatMap(this::responseFromWebClientExchange)\n</code></pre>\n<p>note that it is the DataBufferUtils.release that calls the ByteBuf.release(), if it wasn't there, the code would generate this exception from time to time, by default 1% of ByteByfs are checked against leakages, if the io.netty.leakDetection.level is changed the checks will be more frequent. You just seem to be missing a call to DataBufferUtils.release (or just ByteBuf.release).</p>\n"}],"owner":{"account_id":19328780,"reputation":11,"user_id":14130839,"display_name":"artsgard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2613,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684156740,"creation_date":1676538106,"question_id":75469888,"body_markdown":"We are running a simple GCP Pubsub publisher that makes use of the Java Spring library (pubSubTemplate):\r\n\r\npubSubTemplate.publish(topic, message);\r\n\r\nWhen sending lots of messages (about a million with a small payload of 6 primitive fields) The following Error messages appears:\r\n\r\nERROR [bsub-publisher4] i.g.n.s.i.n.util.ResourceLeakDetector&#160; &#160; : LEAK: ByteBuf.release() was not called before it&#39;s garbage-collected. See https://netty.io/wiki/reference-counted-objects.html for more information.\r\n\r\n(BTW the message-payload is present at our DB and to avoid loading all in memory we paginate and send them out in batches of 1000. The complete process takes a little more than a minute, amazing!)\r\n\r\nSeveral Spring-boot starters:\r\n- org.springframework.boot:spring-boot-starter-actuator\r\n- com.google.cloud:spring-cloud-gcp-starter-pubsub\r\n- com.google.cloud:spring-cloud-gcp-starter-logging\r\n- com.google.cloud:spring-cloud-gcp-starter-metrics\r\n\r\npull in, and use, the library io.grpc.netty.shaded.io.netty (and grpc.netty) and that is where the problem lays!\r\n\r\nOur micro-service, that has the pubsub-publisher part, does not make use of the Java Reactor (mono/flux) async streams. We make use of a Tomcat (spring-boot web-starter) for our rest-services, and at our developed code there is no Netty server present!\r\n\r\nShould we consider this error as a BUG? It is caused by The Java Garbage-collector and the Netty object-count going out of sink somehow, right?\r\n\r\nThe question is: how to solve this problem, we need some help here?\r\n\r\nI did not find any solution browsing the net!\r\n\r\nI did use this property\r\n\r\nspring.netty.leak-detection=paranoid\r\n\r\nwhich gave me the next error\r\n```\r\n    Recent access records: \r\nCreated at:\r\n\tio.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator.newDirectBuffer(PooledByteBufAllocator.java:403)\r\n\tio.grpc.netty.shaded.io.netty.buffer.AbstractByteBufAllocator.directBuffer(AbstractByteBufAllocator.java:188)\r\n\tio.grpc.netty.shaded.io.netty.buffer.AbstractByteBufAllocator.directBuffer(AbstractByteBufAllocator.java:179)\r\n\tio.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.allocate(SslHandler.java:2246)\r\n\tio.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1337)\r\n\tio.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)\r\n\tio.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)\r\n\tio.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)\r\n\tio.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)\r\n\tio.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)\r\n\tio.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tio.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tio.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tio.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tio.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tio.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tio.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tio.grpc.netty.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n\tio.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\r\n\tio.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\r\n\tio.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\r\n\tio.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\r\n\tio.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)\r\n\tio.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tio.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tjava.base/java.lang.Thread.run(Thread.java:829)\r\n2023-02-08 16:54:10.495  INFO [sub-subscriber1] o.s.i.h.s.MessagingMethodInvokerHelper   : Overriding default instance of MessageHandlerMethodFactory with provided one.\r\n```","title":"SUBJECT: LEAK: ByteBuf.release() was not called before it&#39;s garbage-collected","body":"<p>We are running a simple GCP Pubsub publisher that makes use of the Java Spring library (pubSubTemplate):</p>\n<p>pubSubTemplate.publish(topic, message);</p>\n<p>When sending lots of messages (about a million with a small payload of 6 primitive fields) The following Error messages appears:</p>\n<p>ERROR [bsub-publisher4] i.g.n.s.i.n.util.ResourceLeakDetector    : LEAK: ByteBuf.release() was not called before it's garbage-collected. See <a href=\"https://netty.io/wiki/reference-counted-objects.html\" rel=\"nofollow noreferrer\">https://netty.io/wiki/reference-counted-objects.html</a> for more information.</p>\n<p>(BTW the message-payload is present at our DB and to avoid loading all in memory we paginate and send them out in batches of 1000. The complete process takes a little more than a minute, amazing!)</p>\n<p>Several Spring-boot starters:</p>\n<ul>\n<li>org.springframework.boot:spring-boot-starter-actuator</li>\n<li>com.google.cloud:spring-cloud-gcp-starter-pubsub</li>\n<li>com.google.cloud:spring-cloud-gcp-starter-logging</li>\n<li>com.google.cloud:spring-cloud-gcp-starter-metrics</li>\n</ul>\n<p>pull in, and use, the library io.grpc.netty.shaded.io.netty (and grpc.netty) and that is where the problem lays!</p>\n<p>Our micro-service, that has the pubsub-publisher part, does not make use of the Java Reactor (mono/flux) async streams. We make use of a Tomcat (spring-boot web-starter) for our rest-services, and at our developed code there is no Netty server present!</p>\n<p>Should we consider this error as a BUG? It is caused by The Java Garbage-collector and the Netty object-count going out of sink somehow, right?</p>\n<p>The question is: how to solve this problem, we need some help here?</p>\n<p>I did not find any solution browsing the net!</p>\n<p>I did use this property</p>\n<p>spring.netty.leak-detection=paranoid</p>\n<p>which gave me the next error</p>\n<pre><code>    Recent access records: \nCreated at:\n    io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator.newDirectBuffer(PooledByteBufAllocator.java:403)\n    io.grpc.netty.shaded.io.netty.buffer.AbstractByteBufAllocator.directBuffer(AbstractByteBufAllocator.java:188)\n    io.grpc.netty.shaded.io.netty.buffer.AbstractByteBufAllocator.directBuffer(AbstractByteBufAllocator.java:179)\n    io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.allocate(SslHandler.java:2246)\n    io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1337)\n    io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)\n    io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)\n    io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)\n    io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)\n    io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)\n    io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\n    io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\n    io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\n    io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\n    io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)\n    io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    java.base/java.lang.Thread.run(Thread.java:829)\n2023-02-08 16:54:10.495  INFO [sub-subscriber1] o.s.i.h.s.MessagingMethodInvokerHelper   : Overriding default instance of MessageHandlerMethodFactory with provided one.\n</code></pre>\n"},{"tags":["java","jpa","plsql","oracle11g","eclipselink"],"comments":[{"owner":{"account_id":74118,"reputation":49342,"user_id":213136,"accept_rate":100,"display_name":"Bob Jarvis - Слава Україні"},"score":1,"creation_date":1409772000,"post_id":25649326,"comment_id":40083363,"body_markdown":"possible duplicate of [Calling an oracle function from JPA](http://stackoverflow.com/questions/5688152/calling-an-oracle-function-from-jpa)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5688152/calling-an-oracle-function-from-jpa\">Calling an oracle function from JPA</a>"},{"owner":{"account_id":295230,"reputation":14501,"user_id":599528,"accept_rate":95,"display_name":"Jacob"},"score":1,"creation_date":1409814119,"post_id":25649326,"comment_id":40096447,"body_markdown":"Try [this](http://stackoverflow.com/a/14722588/599528)","body":"Try <a href=\"http://stackoverflow.com/a/14722588/599528\">this</a>"}],"answers":[{"tags":[],"owner":{"account_id":12109712,"reputation":387,"user_id":8847101,"display_name":"ukchaudhary"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1509691564,"creation_date":1509689494,"answer_id":47089511,"question_id":25649326,"body_markdown":"**Sample Oracle Function:**\r\n\r\n    CREATE OR REPLACE FUNCTION f_get_random_number\r\n      RETURN NUMBER\r\n    AS\r\n    BEGIN\r\n      RETURN TRUNC(dbms_random.value(1,100));\r\n    END;\r\n**Solution 1: using SQL Query**\r\n\r\n    BigDecimal val = (BigDecimal)entityManager\r\n\t\t\t\t\t\t.createNativeQuery(&quot;SELECT f_get_random_number FROM DUAL&quot;)\r\n\t\t\t\t\t\t.getSingleResult();\r\n\r\n**Solution 2: using JDBC API**\r\n\r\n    Session session = entityManager.unwrap( Session.class );\t\t \r\n\t\tInteger out = session.doReturningWork( \r\n\t\t    connection -&gt; {\r\n\t\t    try (CallableStatement function = connection.prepareCall(&quot;{ ? = call f_get_random_number }&quot; )) {\r\n\t\t    \tfunction.registerOutParameter( 1, Types.INTEGER );\r\n\t\t    \tfunction.execute();\r\n\t\t        return function.getInt(1);\r\n\t\t    } \r\n\t\t} );","title":"Calling Oracle function with StoredProcedureQuery?","body":"<p><strong>Sample Oracle Function:</strong></p>\n\n<pre><code>CREATE OR REPLACE FUNCTION f_get_random_number\n  RETURN NUMBER\nAS\nBEGIN\n  RETURN TRUNC(dbms_random.value(1,100));\nEND;\n</code></pre>\n\n<p><strong>Solution 1: using SQL Query</strong></p>\n\n<pre><code>BigDecimal val = (BigDecimal)entityManager\n                    .createNativeQuery(\"SELECT f_get_random_number FROM DUAL\")\n                    .getSingleResult();\n</code></pre>\n\n<p><strong>Solution 2: using JDBC API</strong></p>\n\n<pre><code>Session session = entityManager.unwrap( Session.class );         \n    Integer out = session.doReturningWork( \n        connection -&gt; {\n        try (CallableStatement function = connection.prepareCall(\"{ ? = call f_get_random_number }\" )) {\n            function.registerOutParameter( 1, Types.INTEGER );\n            function.execute();\n            return function.getInt(1);\n        } \n    } );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684156533,"creation_date":1684156533,"answer_id":76254468,"question_id":25649326,"body_markdown":"*As an addition to ukchaudhary&#39;s answer:*\r\n\r\n&gt; So I assume its not possible to call an Oracle function using\r\n&gt; StoredProcedureQuery?\r\n\r\nYes, exactly. Oracle has both *stored procedures* and *functions*. \r\n`StoredProcedureQuery` can be used to call stored procedures, but it cannot call stored functions, at least not on Oracle (hence the name).\r\n\r\nTo call a function, JPA offers the `FUNCTION` keyword in JPA. This allows invoking a function from inside a JPQL query. For example, a function &quot;hasGoodCredit&quot; is called like this:\r\n\r\n    SELECT c FROM Customer c\r\n    WHERE FUNCTION(‘hasGoodCredit’, c.balance, c.creditLimit)\r\n\r\nSee JPA specification, [Invocation of Predefined and User-defined Database Functions][1].\r\n\r\nHowever, `FUNCTION` only works inside a regular JPQL statement (SELECT, UPDATE, DELETE etc.), so it cannot be used for Oracle functions which perform data manipulation (DML), as these can only be invoked separately.\r\n\r\nTherefore, such functions cannot be invoked via JPA. You will have to use JDBC or a native query.\r\n\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/persistence/3.0/jakarta-persistence-spec-3.0.html#a5311","title":"Calling Oracle function with StoredProcedureQuery?","body":"<p><em>As an addition to ukchaudhary's answer:</em></p>\n<blockquote>\n<p>So I assume its not possible to call an Oracle function using\nStoredProcedureQuery?</p>\n</blockquote>\n<p>Yes, exactly. Oracle has both <em>stored procedures</em> and <em>functions</em>.\n<code>StoredProcedureQuery</code> can be used to call stored procedures, but it cannot call stored functions, at least not on Oracle (hence the name).</p>\n<p>To call a function, JPA offers the <code>FUNCTION</code> keyword in JPA. This allows invoking a function from inside a JPQL query. For example, a function &quot;hasGoodCredit&quot; is called like this:</p>\n<pre><code>SELECT c FROM Customer c\nWHERE FUNCTION(‘hasGoodCredit’, c.balance, c.creditLimit)\n</code></pre>\n<p>See JPA specification, <a href=\"https://jakarta.ee/specifications/persistence/3.0/jakarta-persistence-spec-3.0.html#a5311\" rel=\"nofollow noreferrer\">Invocation of Predefined and User-defined Database Functions</a>.</p>\n<p>However, <code>FUNCTION</code> only works inside a regular JPQL statement (SELECT, UPDATE, DELETE etc.), so it cannot be used for Oracle functions which perform data manipulation (DML), as these can only be invoked separately.</p>\n<p>Therefore, such functions cannot be invoked via JPA. You will have to use JDBC or a native query.</p>\n"}],"owner":{"account_id":222360,"reputation":7605,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2221,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76254468,"answer_count":2,"score":1,"last_activity_date":1684156533,"creation_date":1409761665,"question_id":25649326,"body_markdown":"I&#39;m trying to call an Oracle PL/SQL function using [javax.persistence.StoredProcedureQuery][1] and I get the error `PLS-00221: &#39;function_name&#39; is not a procedure or is undefined`\r\n\r\nSo I assume its not possible to call an Oracle function using [StoredProcedureQuery][1]?\r\n\r\nI don&#39;t see JPA offering an interface to call functions(as opposed to stored procedures). So how do I accomplish it?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/persistence/StoredProcedureQuery.html","title":"Calling Oracle function with StoredProcedureQuery?","body":"<p>I'm trying to call an Oracle PL/SQL function using <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/StoredProcedureQuery.html\" rel=\"nofollow noreferrer\">javax.persistence.StoredProcedureQuery</a> and I get the error <code>PLS-00221: 'function_name' is not a procedure or is undefined</code></p>\n\n<p>So I assume its not possible to call an Oracle function using <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/StoredProcedureQuery.html\" rel=\"nofollow noreferrer\">StoredProcedureQuery</a>?</p>\n\n<p>I don't see JPA offering an interface to call functions(as opposed to stored procedures). So how do I accomplish it?</p>\n"},{"tags":["java","reflections"],"answers":[{"tags":[],"owner":{"account_id":16585113,"reputation":109,"user_id":11984746,"display_name":"bigbang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684156427,"creation_date":1684156427,"answer_id":76254454,"question_id":76254325,"body_markdown":"For anybody who is looking for a not so elegant fix, this is how I have currently excluded the test directory:\r\n\r\n```\r\nfinal Set&lt;Class&lt;? extends BaseClass&gt;&gt; subTypes =\r\n        new Reflections(new ConfigurationBuilder().forPackages(myPackage).filterInputsBy(new FilterBuilder().exclude(&quot;test&quot;)))\r\n            .getSubTypesOf(BaseClass.class);\r\n```","title":"getSubTypesOf returning anonymous types defined in tests","body":"<p>For anybody who is looking for a not so elegant fix, this is how I have currently excluded the test directory:</p>\n<pre><code>final Set&lt;Class&lt;? extends BaseClass&gt;&gt; subTypes =\n        new Reflections(new ConfigurationBuilder().forPackages(myPackage).filterInputsBy(new FilterBuilder().exclude(&quot;test&quot;)))\n            .getSubTypesOf(BaseClass.class);\n</code></pre>\n"}],"owner":{"account_id":16585113,"reputation":109,"user_id":11984746,"display_name":"bigbang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1684156427,"creation_date":1684155471,"question_id":76254325,"body_markdown":"The problem I am facing is the same as described in this github issue: [getSubTypesOf returning anonymous types defined in tests](https://github.com/ronmamo/reflections/issues/188)\r\n\r\nThe thread seems to have ended with only a couple of responses and nothing seems to be of help on the web. Can anybody help with an elegant fix for this? Thanks in advance.\r\n\r\nI have tried searching over SO, Github issues and other tutorials to read more about Reflections library and see if there&#39;s an option to exclude the test directory while scanning but couldn&#39;t find something.","title":"getSubTypesOf returning anonymous types defined in tests","body":"<p>The problem I am facing is the same as described in this github issue: <a href=\"https://github.com/ronmamo/reflections/issues/188\" rel=\"nofollow noreferrer\">getSubTypesOf returning anonymous types defined in tests</a></p>\n<p>The thread seems to have ended with only a couple of responses and nothing seems to be of help on the web. Can anybody help with an elegant fix for this? Thanks in advance.</p>\n<p>I have tried searching over SO, Github issues and other tutorials to read more about Reflections library and see if there's an option to exclude the test directory while scanning but couldn't find something.</p>\n"},{"tags":["java","mongodb","spring-boot","mongodb-query","spring-mongodb"],"owner":{"account_id":28216154,"reputation":1,"user_id":21567637,"display_name":"App"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684155455,"creation_date":1684155400,"question_id":76254318,"body_markdown":"I am trying to implement partial search. For that I have added regex also. But it&#39;s not working.If whole word is matching then only it&#39;s returning the matching contents.              \r\n\r\n\r\n```\r\npublic &lt;T&gt; Page&lt;T&gt; partialSearch(Class&lt;T&gt; t, SearchRequest request) {\r\nString partialSerchKey = &quot;.*&quot;+request.getSearchKey()+&quot;.*&quot;;\r\nTextCriteria criteria = TextCriteria.forDefaultLanguage().matchingAny(partialSerchKey);\r\nCriteria searchCriteria = buildCriteria(request.getSessionProfile().getCompanies().get(0), request.getFilterModel());\r\nQuery textQuery = Query.query(searchCriteria).addCriteria(criteria);\r\nSort sort = getSortModel(request.getSortModel());\r\nlog.debug(&quot;SORT : {}&quot;,sort);\r\nint pageSize = request.getEndRow() - request.getStartRow();\r\nint pageIndex = (request.getEndRow() / pageSize)-1;\r\n\r\nlog.debug(&quot;Page Index : {}, Page Size : {}&quot;, pageIndex, pageSize);\r\nPageable paging = (sort == null)? PageRequest.of(pageIndex, pageSize) : PageRequest.of(pageIndex, pageSize, sort);\r\nPage&lt;T&gt; irPage = PageableExecutionUtils.getPage(zportDBTemplate.find(textQuery.with(paging), t),\r\npaging,\r\n() -&gt; 0);\r\nreturn irPage;\r\n}\r\n\r\n```\r\n","title":"Partial Search using spring boot and MongoDB as a database","body":"<p>I am trying to implement partial search. For that I have added regex also. But it's not working.If whole word is matching then only it's returning the matching contents.</p>\n<pre><code>public &lt;T&gt; Page&lt;T&gt; partialSearch(Class&lt;T&gt; t, SearchRequest request) {\nString partialSerchKey = &quot;.*&quot;+request.getSearchKey()+&quot;.*&quot;;\nTextCriteria criteria = TextCriteria.forDefaultLanguage().matchingAny(partialSerchKey);\nCriteria searchCriteria = buildCriteria(request.getSessionProfile().getCompanies().get(0), request.getFilterModel());\nQuery textQuery = Query.query(searchCriteria).addCriteria(criteria);\nSort sort = getSortModel(request.getSortModel());\nlog.debug(&quot;SORT : {}&quot;,sort);\nint pageSize = request.getEndRow() - request.getStartRow();\nint pageIndex = (request.getEndRow() / pageSize)-1;\n\nlog.debug(&quot;Page Index : {}, Page Size : {}&quot;, pageIndex, pageSize);\nPageable paging = (sort == null)? PageRequest.of(pageIndex, pageSize) : PageRequest.of(pageIndex, pageSize, sort);\nPage&lt;T&gt; irPage = PageableExecutionUtils.getPage(zportDBTemplate.find(textQuery.with(paging), t),\npaging,\n() -&gt; 0);\nreturn irPage;\n}\n\n</code></pre>\n"},{"tags":["java","spring-mvc","environment-variables","ubuntu-22.04"],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684152878,"creation_date":1684152203,"answer_id":76253881,"question_id":76251394,"body_markdown":"Don&#39;t. You are really overcomplicating things. Leave the application context as is, don&#39;t change. Name the environment variables `SPRING_DATASOURCE_URL` (all uppercase) and Spring Boot will automatically use those instead of the values from the `application.properties`. \r\n\r\n```bash\r\nexport SPRING_DATASOURCE_URL=jdbc:mysql://localhost:3306/abc?useSSL=false \r\nexport SPRING_DATASOURCE_USERNAME=root \r\nexport SPRING_DATASOURCE_PASSWORD=root\r\n```\r\n\r\nSpring Boot will automatically use these, instead of the ones from `application.properties`. ","title":"Set values in environment for spring boot application in Ubuntu 22.04","body":"<p>Don't. You are really overcomplicating things. Leave the application context as is, don't change. Name the environment variables <code>SPRING_DATASOURCE_URL</code> (all uppercase) and Spring Boot will automatically use those instead of the values from the <code>application.properties</code>.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>export SPRING_DATASOURCE_URL=jdbc:mysql://localhost:3306/abc?useSSL=false \nexport SPRING_DATASOURCE_USERNAME=root \nexport SPRING_DATASOURCE_PASSWORD=root\n</code></pre>\n<p>Spring Boot will automatically use these, instead of the ones from <code>application.properties</code>.</p>\n"},{"tags":[],"owner":{"account_id":5851147,"reputation":34,"user_id":4609791,"display_name":"Vish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684155392,"creation_date":1684155392,"answer_id":76254316,"question_id":76251394,"body_markdown":"You can refer below website&#39;s detailed explanation:\\\r\n[Baledung - env variables](https://www.baeldung.com/spring-boot-properties-env-variables)\\\r\n[JavaRevisited -  env variables](https://javarevisited.blogspot.com/2022/04/how-to-use-environment-variables-in.html#axzz81mTBzn6P)\r\n\r\nOther things to consider are:\r\n 1. After executing your .bashrc, did you verify the exported variables are registered successfully and available to the application.\r\n 2. Which profile like dev,uat or these directly set in the &quot;application.properties&quot;?","title":"Set values in environment for spring boot application in Ubuntu 22.04","body":"<p>You can refer below website's detailed explanation:<br />\n<a href=\"https://www.baeldung.com/spring-boot-properties-env-variables\" rel=\"nofollow noreferrer\">Baledung - env variables</a><br />\n<a href=\"https://javarevisited.blogspot.com/2022/04/how-to-use-environment-variables-in.html#axzz81mTBzn6P\" rel=\"nofollow noreferrer\">JavaRevisited -  env variables</a></p>\n<p>Other things to consider are:</p>\n<ol>\n<li>After executing your .bashrc, did you verify the exported variables are registered successfully and available to the application.</li>\n<li>Which profile like dev,uat or these directly set in the &quot;application.properties&quot;?</li>\n</ol>\n"}],"owner":{"account_id":28603017,"reputation":3,"user_id":21899527,"display_name":"G Shares"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76253881,"answer_count":2,"score":0,"last_activity_date":1684155392,"creation_date":1684132171,"question_id":76251394,"body_markdown":"I am trying to set below values in enviornment (Ubuntu 22.04)\r\n\r\n\r\n```\r\nspring.datasource.url = jdbc:mysql://localhost:3306/abc?useSSL=false\r\nspring.datasource.username = root\r\nspring.datasource.password = root\r\n```\r\n\r\nI have set values in enviornment as\r\n\r\n```\r\nexport spring_datasource_url_prefix=mysql \r\nexport spring_datasource_host=localhost \r\nexport spring_datasource_port=3306 \r\nexport spring_datasource_database=abc \r\nexport spring_datasource_username=root \r\nexport spring_datasource_password=root\r\n```\r\n\r\nAnd in my Spring Boot `application.properties` file I have used it as\r\n\r\n```\r\nspring.datasource.url=jdbc:${spring_datasource_url_prefix}://${spring_datasource_host}:${spring_datasource_port}/${spring_datasource_database}\r\nspring.datasource.username=${spring_datasource_username}\r\nspring.datasource.password=${spring_datasource_password}\r\n```\r\n\r\nBut I am unable to fetch values using this. Am I missing anything or doing it wrong? I have tried setting enviornment through nano `.bashrc` and as mentioned above.\r\n\r\nI am getting error as \r\n```\r\nError creating bean with name &#39;inMemoryDatabaseShutdownExecutor&#39; defined in class path resource [org/springframework/boot/devtools/autoconfigure/DevToolsDataSourceAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;inMemoryDatabaseShutdownExecutor&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.IllegalArgumentException: URL must start with &#39;jdbc&#39;\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:797) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:538) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n```\r\n\r\n\r\nI have also tried it as below\r\n\r\n```\r\nspring.datasource.url=jdbc:${spring_datasource_url_prefix}://${spring_datasource_host}:${spring_datasource_port}/${spring_datasource_database}\r\nspring.datasource.username=${spring_datasource_username}\r\nspring.datasource.password=${spring_datasource_password}\r\n\r\n```\r\n\r\nI am getting error as below\r\n\r\n```\r\nException encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;inMemoryDatabaseShutdownExecutor&#39; defined in class path resource [org/springframework/boot/devtools/autoconfigure/DevToolsDataSourceAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;inMemoryDatabaseShutdownExecutor&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n[2m2023-05-15 17:30:06.909[0;39m [32m INFO[0;39m [35m2208925[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Stopping service [Tomcat]\r\n[2m2023-05-15 17:30:06.929[0;39m [32m INFO[0;39m [35m2208925[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mConditionEvaluationReportLoggingListener[0;39m [2m:[0;39m \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n[2m2023-05-15 17:30:06.931[0;39m [31mERROR[0;39m [35m2208925[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.d.LoggingFailureAnalysisReporter  [0;39m [2m:[0;39m \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nFailed to configure a DataSource: no embedded datasource could be configured.\r\n\r\nReason: Failed to determine a suitable driver class\r\n\r\n```","title":"Set values in environment for spring boot application in Ubuntu 22.04","body":"<p>I am trying to set below values in enviornment (Ubuntu 22.04)</p>\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/abc?useSSL=false\nspring.datasource.username = root\nspring.datasource.password = root\n</code></pre>\n<p>I have set values in enviornment as</p>\n<pre><code>export spring_datasource_url_prefix=mysql \nexport spring_datasource_host=localhost \nexport spring_datasource_port=3306 \nexport spring_datasource_database=abc \nexport spring_datasource_username=root \nexport spring_datasource_password=root\n</code></pre>\n<p>And in my Spring Boot <code>application.properties</code> file I have used it as</p>\n<pre><code>spring.datasource.url=jdbc:${spring_datasource_url_prefix}://${spring_datasource_host}:${spring_datasource_port}/${spring_datasource_database}\nspring.datasource.username=${spring_datasource_username}\nspring.datasource.password=${spring_datasource_password}\n</code></pre>\n<p>But I am unable to fetch values using this. Am I missing anything or doing it wrong? I have tried setting enviornment through nano <code>.bashrc</code> and as mentioned above.</p>\n<p>I am getting error as</p>\n<pre><code>Error creating bean with name 'inMemoryDatabaseShutdownExecutor' defined in class path resource [org/springframework/boot/devtools/autoconfigure/DevToolsDataSourceAutoConfiguration.class]: Unsatisfied dependency expressed through method 'inMemoryDatabaseShutdownExecutor' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalArgumentException: URL must start with 'jdbc'\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:797) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:538) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n</code></pre>\n<p>I have also tried it as below</p>\n<pre><code>spring.datasource.url=jdbc:${spring_datasource_url_prefix}://${spring_datasource_host}:${spring_datasource_port}/${spring_datasource_database}\nspring.datasource.username=${spring_datasource_username}\nspring.datasource.password=${spring_datasource_password}\n\n</code></pre>\n<p>I am getting error as below</p>\n<pre><code>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'inMemoryDatabaseShutdownExecutor' defined in class path resource [org/springframework/boot/devtools/autoconfigure/DevToolsDataSourceAutoConfiguration.class]: Unsatisfied dependency expressed through method 'inMemoryDatabaseShutdownExecutor' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n[2m2023-05-15 17:30:06.909[0;39m [32m INFO[0;39m [35m2208925[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Stopping service [Tomcat]\n[2m2023-05-15 17:30:06.929[0;39m [32m INFO[0;39m [35m2208925[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mConditionEvaluationReportLoggingListener[0;39m [2m:[0;39m \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n[2m2023-05-15 17:30:06.931[0;39m [31mERROR[0;39m [35m2208925[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.d.LoggingFailureAnalysisReporter  [0;39m [2m:[0;39m \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n</code></pre>\n"},{"tags":["java","maven","maven-shade-plugin","launch4j"],"owner":{"account_id":28555738,"reputation":11,"user_id":21859971,"display_name":"derYak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684155345,"creation_date":1684147754,"question_id":76253323,"body_markdown":"first: Please be gentle, I&#39;m very new to this.\r\n\r\nI have a java application which is a client connecting to a wildfly instance. Running this from IDE works. Now i want to wrap the client to an .EXE using akathist-launch4j-maven-plugin and the maven-shade-plugin. I&#39;m using those instead of jpackage since i dont want an installer, but a plain exe to run the programm. The wrapping works and runs until it tries to call java.util.AbstractMap().\r\n\r\nError message:\r\n`Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected java.util.AbstractMap() accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @7e32c033`\r\n\r\n\r\nFrom https://stackoverflow.com/a/41265267/21859971 i gathered it would work if i passed &quot;--add-opens java.base/java.lang=ALL-UNNAMED&quot; to the jvm.\r\n\r\nThe exclusion filters were added because before it would run into problems with the signed jars inside the shaded one.\r\n\r\nThe questions now are:\r\na) Is that the right way to go about it?\r\n\r\nb) If so, how do I modify the pom to include this argument?\r\n\r\nPom plugins excerpt:\r\n```\r\n   &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.4.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n\t\t    &lt;filters&gt;\r\n\t\t        &lt;filter&gt;\r\n\t\t            &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n\t\t            &lt;excludes&gt;\r\n\t\t                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n\t\t                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n\t\t                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n\t\t            &lt;/excludes&gt;\r\n\t\t        &lt;/filter&gt;\r\n\t\t    &lt;/filters&gt;\t\t\t\t\r\n            &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n            &lt;shadedClassifierName&gt;shaded&lt;/shadedClassifierName&gt;\r\n            &lt;transformers&gt;\r\n                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                    &lt;mainClass&gt;de/cni/client/gui/pages/main/StartApplication&lt;/mainClass&gt;                        \r\n                &lt;/transformer&gt;\r\n            &lt;/transformers&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;                                \r\n\t&lt;plugin&gt;\r\n\t    &lt;groupId&gt;com.akathist.maven.plugins.launch4j&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;launch4j-maven-plugin&lt;/artifactId&gt;\r\n\t    &lt;version&gt;2.4.1&lt;/version&gt;\r\n\t    &lt;executions&gt;\r\n\t        &lt;execution&gt;\r\n\t            &lt;id&gt;l4j-clui&lt;/id&gt;\r\n\t            &lt;phase&gt;package&lt;/phase&gt;\r\n\t            &lt;goals&gt;\r\n\t                &lt;goal&gt;launch4j&lt;/goal&gt;\r\n\t            &lt;/goals&gt;\r\n\t            &lt;configuration&gt;\r\n\t                &lt;headerType&gt;console&lt;/headerType&gt;\r\n\t                &lt;jar&gt;${project.build.directory}/${project.artifactId}-${project.version}-shaded.jar&lt;/jar&gt;\r\n\t                &lt;outfile&gt;${project.build.directory}/app-client.exe&lt;/outfile&gt;\r\n\t                &lt;classPath&gt;\r\n\t                    &lt;mainClass&gt;[..]/client/gui/pages/main/StartApplication&lt;/mainClass&gt;\r\n\t                    &lt;preCp&gt;anything&lt;/preCp&gt;\r\n\t                &lt;/classPath&gt;\t\t                        \r\n\t\t\t\t  &lt;jre&gt;\r\n\t\t\t\t    &lt;path&gt;${java.home}/bin&lt;/path&gt;\r\n\t\t\t\t    &lt;minVersion&gt;17.0.2&lt;/minVersion&gt;\r\n\t\t\t\t    &lt;maxVersion&gt;&lt;/maxVersion&gt;\r\n\t\t\t\t    &lt;requiresJdk&gt;true&lt;/requiresJdk&gt;\r\n\t\t\t\t    &lt;requires64Bit&gt;true&lt;/requires64Bit&gt;\t    \r\n\t\t\t\t  &lt;/jre&gt;\r\n\t            &lt;/configuration&gt;\r\n\t        &lt;/execution&gt;\r\n\t    &lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n```\r\n**Edit**:\r\nAs is tradition, an hour after posting this i tried something i did before and now it worked.\r\nI added:\r\n```\r\n\t\t\t\t    &lt;opts&gt;\r\n\t\t\t\t\t\t&lt;opt&gt;--add-opens java.base/java.util=ALL-UNNAMED&lt;/opt&gt;\r\n\t\t\t\t\t\t&lt;opt&gt;--add-opens java.base/java.util.concurrent=ALL-UNNAMED&lt;/opt&gt;\r\n\t\t\t\t\t&lt;/opts&gt;\r\n``` \r\nto the &lt;configuration&gt;&lt;jre&gt; of the launch4j plugin and now it is running.\r\n\r\nI&#39;m not going to put this as an answer since I&#39;m reasonably sure there is a better (correct) way to solve this.","title":"Maven Launch4j Plugin InaccessibleObject // add JVM argument to POM","body":"<p>first: Please be gentle, I'm very new to this.</p>\n<p>I have a java application which is a client connecting to a wildfly instance. Running this from IDE works. Now i want to wrap the client to an .EXE using akathist-launch4j-maven-plugin and the maven-shade-plugin. I'm using those instead of jpackage since i dont want an installer, but a plain exe to run the programm. The wrapping works and runs until it tries to call java.util.AbstractMap().</p>\n<p>Error message:\n<code>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected java.util.AbstractMap() accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @7e32c033</code></p>\n<p>From <a href=\"https://stackoverflow.com/a/41265267/21859971\">https://stackoverflow.com/a/41265267/21859971</a> i gathered it would work if i passed &quot;--add-opens java.base/java.lang=ALL-UNNAMED&quot; to the jvm.</p>\n<p>The exclusion filters were added because before it would run into problems with the signed jars inside the shaded one.</p>\n<p>The questions now are:\na) Is that the right way to go about it?</p>\n<p>b) If so, how do I modify the pom to include this argument?</p>\n<p>Pom plugins excerpt:</p>\n<pre><code>   &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.4.1&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;shade&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n            &lt;filters&gt;\n                &lt;filter&gt;\n                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/filter&gt;\n            &lt;/filters&gt;              \n            &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n            &lt;shadedClassifierName&gt;shaded&lt;/shadedClassifierName&gt;\n            &lt;transformers&gt;\n                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                    &lt;mainClass&gt;de/cni/client/gui/pages/main/StartApplication&lt;/mainClass&gt;                        \n                &lt;/transformer&gt;\n            &lt;/transformers&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;                                \n    &lt;plugin&gt;\n        &lt;groupId&gt;com.akathist.maven.plugins.launch4j&lt;/groupId&gt;\n        &lt;artifactId&gt;launch4j-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.4.1&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;l4j-clui&lt;/id&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;launch4j&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;headerType&gt;console&lt;/headerType&gt;\n                    &lt;jar&gt;${project.build.directory}/${project.artifactId}-${project.version}-shaded.jar&lt;/jar&gt;\n                    &lt;outfile&gt;${project.build.directory}/app-client.exe&lt;/outfile&gt;\n                    &lt;classPath&gt;\n                        &lt;mainClass&gt;[..]/client/gui/pages/main/StartApplication&lt;/mainClass&gt;\n                        &lt;preCp&gt;anything&lt;/preCp&gt;\n                    &lt;/classPath&gt;                                \n                  &lt;jre&gt;\n                    &lt;path&gt;${java.home}/bin&lt;/path&gt;\n                    &lt;minVersion&gt;17.0.2&lt;/minVersion&gt;\n                    &lt;maxVersion&gt;&lt;/maxVersion&gt;\n                    &lt;requiresJdk&gt;true&lt;/requiresJdk&gt;\n                    &lt;requires64Bit&gt;true&lt;/requires64Bit&gt;     \n                  &lt;/jre&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p><strong>Edit</strong>:\nAs is tradition, an hour after posting this i tried something i did before and now it worked.\nI added:</p>\n<pre><code>                    &lt;opts&gt;\n                        &lt;opt&gt;--add-opens java.base/java.util=ALL-UNNAMED&lt;/opt&gt;\n                        &lt;opt&gt;--add-opens java.base/java.util.concurrent=ALL-UNNAMED&lt;/opt&gt;\n                    &lt;/opts&gt;\n</code></pre>\n<p>to the  of the launch4j plugin and now it is running.</p>\n<p>I'm not going to put this as an answer since I'm reasonably sure there is a better (correct) way to solve this.</p>\n"},{"tags":["java","android","flutter","gradle"],"answers":[{"tags":[],"owner":{"account_id":22951175,"reputation":131,"user_id":17082429,"display_name":"Taimoor Ghafar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684153515,"creation_date":1684153515,"answer_id":76254050,"question_id":76253966,"body_markdown":"In &#39;android/gradle/wrapper/gradle-wrapper.properties&#39;\r\nChange distributionUrl\r\n\r\n&gt; \tdistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-all.zip\r\n\r\nIn &#39;android/build.gradle&#39;,\r\nChange &#39;com.android.tools.build:gradle:****&#39; to\r\n\r\n&gt;  &#39;com.android.tools.build:gradle:7.2.1&#39;\r\n\r\n","title":"Gradle build failed with unsupported class file major version 64 in Flutter project","body":"<p>In 'android/gradle/wrapper/gradle-wrapper.properties'\nChange distributionUrl</p>\n<blockquote>\n<p>distributionUrl=https://services.gradle.org/distributions/gradle-7.6-all.zip</p>\n</blockquote>\n<p>In 'android/build.gradle',\nChange 'com.android.tools.build:gradle:****' to</p>\n<blockquote>\n<p>'com.android.tools.build:gradle:7.2.1'</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16372615,"reputation":1003,"user_id":19303836,"display_name":"IonicFireBaseApp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684155136,"creation_date":1684155136,"answer_id":76254270,"question_id":76253966,"body_markdown":"Try to update your gradle version to higher one.","title":"Gradle build failed with unsupported class file major version 64 in Flutter project","body":"<p>Try to update your gradle version to higher one.</p>\n"}],"owner":{"account_id":22403261,"reputation":720,"user_id":16613306,"display_name":"mishalhaneef"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":858,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684155136,"creation_date":1684152895,"question_id":76253966,"body_markdown":"I encountered an issue while building my Flutter project with Gradle. The build failed with the following error message:\r\n\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not open settings generic class cache for settings file &#39;/Users/mishalhaneef/Documents/flutter/Zartek/blind_crushes/android/settings.gradle&#39; (/Users/mishalhaneef/.gradle/caches/7.4.1/scripts/a7jtzc7d8e1ht64fuhmylehgj).\r\n&gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 64\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 1m 8s\r\n┌─ Flutter Fix ────────────────────────────────────────────────────────────────────────────────────┐\r\n│ [!] Your project&#39;s Gradle version is incompatible with the Java version that Flutter is using    │\r\n│ for Gradle.                                                                                      │\r\n│                                                                                                  │\r\n│ To fix this issue, first, check the Java version used by Flutter by running `flutter doctor      │\r\n│ --verbose`.                                                                                      │\r\n│                                                                                                  │\r\n│ Then, update the Gradle version specified in                                                     │\r\n│ /Users/mishalhaneef/Documents/flutter/Zartek/blind_crushes/android/gradle/wrapper/gradle-wrapper │\r\n│ .properties to be compatible with that Java version. See the link below for more information on  │\r\n│ compatible Java/Gradle versions:                                                                 │\r\n│ https://docs.gradle.org/current/userguide/compatibility.html#java                                │\r\n2\r\n│                                                                                                  │\r\n└──────────────────────────────────────────────────────────────────────────────────────────────────┘\r\n```\r\n\r\nI&#39;m using Flutter for my project, and it seems that there is a compatibility issue between the Gradle version used and the required Java version.\r\n\r\nI have already checked the Java version used by Flutter by running flutter doctor --verbose and noted the version displayed. I also updated the Gradle version in ```gradle-wrapper.properties``` to be compatible with the Java version.\r\n\r\nDespite these steps, the error persists. I tried running the build with ```--stacktrace``` for a more detailed trace, as well as using ```--info``` and ```--debug```options for additional log output, but it didn&#39;t provide further insights.\r\n\r\n","title":"Gradle build failed with unsupported class file major version 64 in Flutter project","body":"<p>I encountered an issue while building my Flutter project with Gradle. The build failed with the following error message:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not open settings generic class cache for settings file '/Users/mishalhaneef/Documents/flutter/Zartek/blind_crushes/android/settings.gradle' (/Users/mishalhaneef/.gradle/caches/7.4.1/scripts/a7jtzc7d8e1ht64fuhmylehgj).\n&gt; BUG! exception in phase 'semantic analysis' in source unit '_BuildScript_' Unsupported class file major version 64\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1m 8s\n┌─ Flutter Fix ────────────────────────────────────────────────────────────────────────────────────┐\n│ [!] Your project's Gradle version is incompatible with the Java version that Flutter is using    │\n│ for Gradle.                                                                                      │\n│                                                                                                  │\n│ To fix this issue, first, check the Java version used by Flutter by running `flutter doctor      │\n│ --verbose`.                                                                                      │\n│                                                                                                  │\n│ Then, update the Gradle version specified in                                                     │\n│ /Users/mishalhaneef/Documents/flutter/Zartek/blind_crushes/android/gradle/wrapper/gradle-wrapper │\n│ .properties to be compatible with that Java version. See the link below for more information on  │\n│ compatible Java/Gradle versions:                                                                 │\n│ https://docs.gradle.org/current/userguide/compatibility.html#java                                │\n2\n│                                                                                                  │\n└──────────────────────────────────────────────────────────────────────────────────────────────────┘\n</code></pre>\n<p>I'm using Flutter for my project, and it seems that there is a compatibility issue between the Gradle version used and the required Java version.</p>\n<p>I have already checked the Java version used by Flutter by running flutter doctor --verbose and noted the version displayed. I also updated the Gradle version in <code>gradle-wrapper.properties</code> to be compatible with the Java version.</p>\n<p>Despite these steps, the error persists. I tried running the build with <code>--stacktrace</code> for a more detailed trace, as well as using <code>--info</code> and <code>--debug</code>options for additional log output, but it didn't provide further insights.</p>\n"},{"tags":["java","spring","postgresql","hibernate","kotlin"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684151607,"post_id":76253673,"comment_id":134470130,"body_markdown":"Because your test is managing the transaction, if you are using `@SpringBootTest` that has `@Transactional` so your test method is the transactional boundary and thus there already is a transaction (which is what the error message is telling you).","body":"Because your test is managing the transaction, if you are using <code>@SpringBootTest</code> that has <code>@Transactional</code> so your test method is the transactional boundary and thus there already is a transaction (which is what the error message is telling you)."},{"owner":{"account_id":8056656,"reputation":587,"user_id":6073577,"accept_rate":100,"display_name":"Johnczek"},"score":0,"creation_date":1684154949,"post_id":76253673,"comment_id":134470965,"body_markdown":"@M.Deinum yea, I get transactional management philosophy, but why is it failing even if I add required new strategy? In that case, whole new transaction just for my case should be created. Plus how can I, therefore, use Isolation level serializable for some method?","body":"@M.Deinum yea, I get transactional management philosophy, but why is it failing even if I add required new strategy? In that case, whole new transaction just for my case should be created. Plus how can I, therefore, use Isolation level serializable for some method?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684155407,"post_id":76253673,"comment_id":134471068,"body_markdown":"Make your test non-transactional. Although you can start a new transaction you cannot modify the isolation level, simply because that is (despite the place you can configure it) configured on the actual connection to the database. Once set you cannot change that inflight.","body":"Make your test non-transactional. Although you can start a new transaction you cannot modify the isolation level, simply because that is (despite the place you can configure it) configured on the actual connection to the database. Once set you cannot change that inflight."},{"owner":{"account_id":8056656,"reputation":587,"user_id":6073577,"accept_rate":100,"display_name":"Johnczek"},"score":0,"creation_date":1684156335,"post_id":76253673,"comment_id":134471279,"body_markdown":"@M.Deinum How Well I need to test it as it is- controller test that just testsbehaviour of that endpoint (that has internally only that one, isolated, transaction inside.  I&#180;ve now tried to call that endpoint manually (where the only transaction is that isolated one on the service method- no other calls from controller are not present) and I am getting the same error.","body":"@M.Deinum How Well I need to test it as it is- controller test that just testsbehaviour of that endpoint (that has internally only that one, isolated, transaction inside.  I&#180;ve now tried to call that endpoint manually (where the only transaction is that isolated one on the service method- no other calls from controller are not present) and I am getting the same error."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684156701,"post_id":76253673,"comment_id":134471358,"body_markdown":"I yield. There is too little information in your question to answer this. No test, no actual full stacktrace, or configuration.","body":"I yield. There is too little information in your question to answer this. No test, no actual full stacktrace, or configuration."}],"owner":{"account_id":8056656,"reputation":587,"user_id":6073577,"accept_rate":100,"display_name":"Johnczek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684154993,"creation_date":1684150760,"question_id":76253673,"body_markdown":"I&#180;ve been finding a solution for my issue of not working Spring Boot `@Serializable` and `@Transactional` on SO and I&#180;ve found [this solution][1] \r\n\r\nEverything works fine after removing `@Synchronized` and adding `@Transactional` with `SERIALIZABLE` isolation level on top of my method which causes problem in race condition. \r\n\r\nBut when I try to run `@SpringBootTest` I am getting error \r\n\r\n&gt; Could not open JPA EntityManager for transaction; nested exception is org.postgresql.util.PSQLException: Cannot change transaction isolation level in the middle of a transaction.\r\n\r\nI&#180;ve tried to add a `REQUIRES_NEW` propagation to force create a brand new transaction, but that did not work either.\r\n\r\nThe test is basically only calling a controller method using `MockMvc`. Controller method just calls service method (on top of that method is that Transactional method) and the method simply reads data and if the data are present, update of this data is performed, otherwise the new entity is created.\r\n\r\nAnd in the end I&#180;d like to add that I am using `PostgreSQL` database\r\n\r\n**Does anyone have a clue why this happens and how to possibly fix this issue?**\r\n\r\n  [1]: https://stackoverflow.com/a/41768214/6073577","title":"Spring Boot Test - Cannot change transaction isolation level in the middle of a transaction on SERIALIZABLE Isolation level","body":"<p>I´ve been finding a solution for my issue of not working Spring Boot <code>@Serializable</code> and <code>@Transactional</code> on SO and I´ve found <a href=\"https://stackoverflow.com/a/41768214/6073577\">this solution</a></p>\n<p>Everything works fine after removing <code>@Synchronized</code> and adding <code>@Transactional</code> with <code>SERIALIZABLE</code> isolation level on top of my method which causes problem in race condition.</p>\n<p>But when I try to run <code>@SpringBootTest</code> I am getting error</p>\n<blockquote>\n<p>Could not open JPA EntityManager for transaction; nested exception is org.postgresql.util.PSQLException: Cannot change transaction isolation level in the middle of a transaction.</p>\n</blockquote>\n<p>I´ve tried to add a <code>REQUIRES_NEW</code> propagation to force create a brand new transaction, but that did not work either.</p>\n<p>The test is basically only calling a controller method using <code>MockMvc</code>. Controller method just calls service method (on top of that method is that Transactional method) and the method simply reads data and if the data are present, update of this data is performed, otherwise the new entity is created.</p>\n<p>And in the end I´d like to add that I am using <code>PostgreSQL</code> database</p>\n<p><strong>Does anyone have a clue why this happens and how to possibly fix this issue?</strong></p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"score":0,"creation_date":1444807201,"post_id":33118789,"comment_id":54051255,"body_markdown":"Is your problem just to handle problems of int parsing or you want to solve *any* jackson parsing problems?","body":"Is your problem just to handle problems of int parsing or you want to solve <i>any</i> jackson parsing problems?"},{"owner":{"account_id":6080875,"reputation":385,"user_id":4746692,"accept_rate":75,"display_name":"wittyameta"},"score":0,"creation_date":1444807345,"post_id":33118789,"comment_id":54051343,"body_markdown":"@AlexR I want to handle any mapping problem, including parsing and missing fields (i.e., if the json string had a key &#39;field3&#39; which doesn&#39;t map to any field in the Java object)","body":"@AlexR I want to handle any mapping problem, including parsing and missing fields (i.e., if the json string had a key &#39;field3&#39; which doesn&#39;t map to any field in the Java object)"}],"answers":[{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444808208,"creation_date":1444808208,"answer_id":33119343,"question_id":33118789,"body_markdown":"Well, IMHO the problem does not have one simple solution.\r\nHowever particular solutions can be found. \r\n\r\nIf you want to ignore missing fields just use annotation \r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n\r\nSupporting unparsable data is more complicated. Please take a look on correct answer from this discussion [enter link description here][1]. \r\n\r\nIt however will not help if your JSON is syntactically wrong, for example if coma or colon are missing. \r\n\r\n  [1]: https://stackoverflow.com/questions/9080904/jackson-deserialization-error-handling","title":"Aggregate all the errors while mapping json to java object using Jackson","body":"<p>Well, IMHO the problem does not have one simple solution.\nHowever particular solutions can be found. </p>\n\n<p>If you want to ignore missing fields just use annotation </p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n</code></pre>\n\n<p>Supporting unparsable data is more complicated. Please take a look on correct answer from this discussion <a href=\"https://stackoverflow.com/questions/9080904/jackson-deserialization-error-handling\">enter link description here</a>. </p>\n\n<p>It however will not help if your JSON is syntactically wrong, for example if coma or colon are missing. </p>\n"}],"owner":{"account_id":6080875,"reputation":385,"user_id":4746692,"accept_rate":75,"display_name":"wittyameta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2019,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1684154934,"creation_date":1444806490,"question_id":33118789,"body_markdown":"I&#39;m trying to map a JSON string to a Java Object using Jackson ObjectMapper. If there is a mapping error, Jackson throws an exception when it first encounters the error. Is there a way to ask the ObjectMapper to map all the field while collecting the errors, and return all possible errors together?\r\n\r\nThe Java class\r\n\r\n    public class Test {\r\n        public int field1;\r\n        public int field2;\r\n        public Test() {}\r\n    }\r\n\r\nMapper Code snippet\r\n\r\n    String json = &quot;{\\&quot;field1\\&quot;:field, \\&quot;field2\\&quot;:anotherField}&quot;;\r\n    Test test = new ObjectMapper().readValue(json, Test.class);\r\nThe above code fails when it tries to parse &#39;field&#39; to int, and doesn&#39;t check for remaining fields. However, the in the code, neither field1 nor field2 can be parsed. Is there a way to get all the potential errors at once, so I don&#39;t have to fix 1 error at a time?","title":"Aggregate all the errors while mapping json to java object using Jackson","body":"<p>I'm trying to map a JSON string to a Java Object using Jackson ObjectMapper. If there is a mapping error, Jackson throws an exception when it first encounters the error. Is there a way to ask the ObjectMapper to map all the field while collecting the errors, and return all possible errors together?</p>\n\n<p>The Java class</p>\n\n<pre><code>public class Test {\n    public int field1;\n    public int field2;\n    public Test() {}\n}\n</code></pre>\n\n<p>Mapper Code snippet</p>\n\n<pre><code>String json = \"{\\\"field1\\\":field, \\\"field2\\\":anotherField}\";\nTest test = new ObjectMapper().readValue(json, Test.class);\n</code></pre>\n\n<p>The above code fails when it tries to parse 'field' to int, and doesn't check for remaining fields. However, the in the code, neither field1 nor field2 can be parsed. Is there a way to get all the potential errors at once, so I don't have to fix 1 error at a time?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":2,"creation_date":1683733052,"post_id":76220222,"comment_id":134412851,"body_markdown":"There’s a `String` constructor that takes a `char[]` and `StringBuffer.toString` yields a string. But you could’ve found these out easily from Javadocs, so, I’m not sure if there’s another question that you meant to ask. If you’re using 3pp libraries that accept passwords as strings, there’s nothing you can do except use another library.","body":"There’s a <code>String</code> constructor that takes a <code>char[]</code> and <code>StringBuffer.toString</code> yields a string. But you could’ve found these out easily from Javadocs, so, I’m not sure if there’s another question that you meant to ask. If you’re using 3pp libraries that accept passwords as strings, there’s nothing you can do except use another library."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1683733232,"post_id":76220222,"comment_id":134412901,"body_markdown":"@AbhijitSarkar The question wasn&#39;t how to convert, the question was how to convert w/o ending up in the same place.","body":"@AbhijitSarkar The question wasn&#39;t how to convert, the question was how to convert w/o ending up in the same place."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1683733310,"post_id":76220222,"comment_id":134412929,"body_markdown":"What is this “same place”? Is the question “how to convert to string without converting to string?”","body":"What is this “same place”? Is the question “how to convert to string without converting to string?”"},{"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"score":3,"creation_date":1683733442,"post_id":76220222,"comment_id":134412955,"body_markdown":"@AbhijitSarkar the question was how to avoid a password stored as String being possibly gc&#39;d and showing up in a heap dump, which is a valid concern. to my knowledge tho, i don&#39;t think this is possible","body":"@AbhijitSarkar the question was how to avoid a password stored as String being possibly gc&#39;d and showing up in a heap dump, which is a valid concern. to my knowledge tho, i don&#39;t think this is possible"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1683733571,"post_id":76220222,"comment_id":134412994,"body_markdown":"@AbhijitSarkar It&#39;s unlikely you don&#39;t understand the question/concern. The last sentence of your comment is the correct answer and all that was necessary.","body":"@AbhijitSarkar It&#39;s unlikely you don&#39;t understand the question/concern. The last sentence of your comment is the correct answer and all that was necessary."},{"owner":{"display_name":"user15314575"},"score":1,"creation_date":1683733719,"post_id":76220222,"comment_id":134413043,"body_markdown":"The problem isn&#39;t the String object, it&#39;s the fact that there is a &#39;secret&#39; or password in there!","body":"The problem isn&#39;t the String object, it&#39;s the fact that there is a &#39;secret&#39; or password in there!"},{"owner":{"account_id":9365930,"reputation":470,"user_id":6950847,"display_name":"zeg"},"score":0,"creation_date":1683733779,"post_id":76220222,"comment_id":134413066,"body_markdown":"read the password from os.environment instead of placing it hardcoded into your application if possible. and do not store it in a string, but read it from os.env like needed. also you might want other libraries","body":"read the password from os.environment instead of placing it hardcoded into your application if possible. and do not store it in a string, but read it from os.env like needed. also you might want other libraries"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1683734981,"post_id":76220222,"comment_id":134413361,"body_markdown":"You could use reflection, e.g. `field = String.class.getDeclaredField(&quot;value&quot;); field.setAccessible(true);` and then fill it with 0s, but to do that you have to relax the JVM security mechanisms to an extend that will make it more risky than if you just stored the password in the String.","body":"You could use reflection, e.g. <code>field = String.class.getDeclaredField(&quot;value&quot;); field.setAccessible(true);</code> and then fill it with 0s, but to do that you have to relax the JVM security mechanisms to an extend that will make it more risky than if you just stored the password in the String."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1683735175,"post_id":76220222,"comment_id":134413400,"body_markdown":"Only interned strings are in the string pool, and only string literals or strings explicitly interned with `String#intern()` are interned, so is this really a problem to focus on?","body":"Only interned strings are in the string pool, and only string literals or strings explicitly interned with <code>String#intern()</code> are interned, so is this really a problem to focus on?"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1683736686,"creation_date":1683735728,"answer_id":76220662,"question_id":76220222,"body_markdown":"You can&#39;t avoid creating a `String` if you need to call an API that requires a `String`. As long as you avoid string literals or explicitly interned strings, strings don&#39;t end up in the string pool.\r\n\r\nThis is also an impossible problem to solve. For example, if this is a password for a database connection pool, the password needs to be available for the lifetime of the program to be able to create new connections. And even if you could provide the password in some clearable way like a `char[]`, `CharBuffer`, `StringBuilder`, etc., there is no guarantee that the API you&#39;re calling doesn&#39;t transform it to a string, or makes a copy, etc., etc.\r\n\r\nEven using a `char[]` does not guarantee that you&#39;re able to correctly purge it from memory: Java garbage collectors can and will move objects around, so it is entirely possible that your password is still in memory at a previous location, even if you explicitly zeroed that `char[]`. \r\n\r\nIf a threat actor has sufficient access to your system to inspect memory, make heapdumps, etc., you have bigger problems, and worrying about using a `String` vs `char[]` is just a waste of time, because that threat actor will have other means of finding your password, like finding configuration sources, modifying your program to record the password on a next run, etc.\r\n\r\nTo be clear, being able to quickly clear certain sensitive information can reduce the window of attack, but unless you&#39;re working in high-security environments, it is unlikely to be the right thing to focus on given all the caveats.","title":"How to avoid using String for passwords or secrets with 3rd party libraries that require a String?","body":"<p>You can't avoid creating a <code>String</code> if you need to call an API that requires a <code>String</code>. As long as you avoid string literals or explicitly interned strings, strings don't end up in the string pool.</p>\n<p>This is also an impossible problem to solve. For example, if this is a password for a database connection pool, the password needs to be available for the lifetime of the program to be able to create new connections. And even if you could provide the password in some clearable way like a <code>char[]</code>, <code>CharBuffer</code>, <code>StringBuilder</code>, etc., there is no guarantee that the API you're calling doesn't transform it to a string, or makes a copy, etc., etc.</p>\n<p>Even using a <code>char[]</code> does not guarantee that you're able to correctly purge it from memory: Java garbage collectors can and will move objects around, so it is entirely possible that your password is still in memory at a previous location, even if you explicitly zeroed that <code>char[]</code>.</p>\n<p>If a threat actor has sufficient access to your system to inspect memory, make heapdumps, etc., you have bigger problems, and worrying about using a <code>String</code> vs <code>char[]</code> is just a waste of time, because that threat actor will have other means of finding your password, like finding configuration sources, modifying your program to record the password on a next run, etc.</p>\n<p>To be clear, being able to quickly clear certain sensitive information can reduce the window of attack, but unless you're working in high-security environments, it is unlikely to be the right thing to focus on given all the caveats.</p>\n"}],"owner":{"account_id":13259,"reputation":67754,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76220662,"answer_count":1,"score":3,"last_activity_date":1684154252,"creation_date":1683732492,"question_id":76220222,"body_markdown":"I&#39;m working on a Java service that had a security bug logged against it, concerning a secret stored in a Java String object. \r\n\r\nThe concern is that once a password is stored in a `String`, it stays in the string pool until it&#39;s garbage collected, and could show up in a dump as clear text. \r\n\r\nI understand that Java&#39;s `String` class is immutable, and it is preferred that secrets or passwords be stored in a mutable class, so it can be removed from memory as soon as possible after use.\r\n\r\nReferences\r\n- [Why is char[] preferred over String for passwords?](https://stackoverflow.com/q/8881291/26510)\r\n- [Java equivalent of SecureString](https://stackoverflow.com/questions/51242150/java-equivalent-of-securestring)\r\n- [In Java, is there still a point in using char[] instead of String to store passwords?](https://stackoverflow.com/q/73968791/26510)\r\n- [Answer by StephenC to similar question](https://stackoverflow.com/a/12008117/26510)\r\n\r\n\r\nHowever, I find this impractical when working with 3rd party libraries, as many of them want the password or secret passed in the request as a String object, which no matter how safe I am, in my code, ultimately converts the `char[]` array into a `String`, which takes us back to the original problem, doesn&#39;t it?\r\n\r\n**So, is there anyway to convert a `char[]`, or `StringBuffer` to a `String`, without getting back to the original problem?**\r\n\r\nEDIT: As pointed out by the comments in this question and other similar questions, many believe this is not a real concern, as there&#39;s no easy way to avoid the issue if you don&#39;t own ALL the code in your application (ie don&#39;t pass secrets to any 3rd party libraries). So given this, maybe the question becomes \r\n\r\n**How can I refute the bug? is there a good solid reference from Oracle/Owasp or whoever that says &quot;unsolvable problem&quot; ?**\r\n","title":"How to avoid using String for passwords or secrets with 3rd party libraries that require a String?","body":"<p>I'm working on a Java service that had a security bug logged against it, concerning a secret stored in a Java String object.</p>\n<p>The concern is that once a password is stored in a <code>String</code>, it stays in the string pool until it's garbage collected, and could show up in a dump as clear text.</p>\n<p>I understand that Java's <code>String</code> class is immutable, and it is preferred that secrets or passwords be stored in a mutable class, so it can be removed from memory as soon as possible after use.</p>\n<p>References</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/8881291/26510\">Why is char[] preferred over String for passwords?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/51242150/java-equivalent-of-securestring\">Java equivalent of SecureString</a></li>\n<li><a href=\"https://stackoverflow.com/q/73968791/26510\">In Java, is there still a point in using char[] instead of String to store passwords?</a></li>\n<li><a href=\"https://stackoverflow.com/a/12008117/26510\">Answer by StephenC to similar question</a></li>\n</ul>\n<p>However, I find this impractical when working with 3rd party libraries, as many of them want the password or secret passed in the request as a String object, which no matter how safe I am, in my code, ultimately converts the <code>char[]</code> array into a <code>String</code>, which takes us back to the original problem, doesn't it?</p>\n<p><strong>So, is there anyway to convert a <code>char[]</code>, or <code>StringBuffer</code> to a <code>String</code>, without getting back to the original problem?</strong></p>\n<p>EDIT: As pointed out by the comments in this question and other similar questions, many believe this is not a real concern, as there's no easy way to avoid the issue if you don't own ALL the code in your application (ie don't pass secrets to any 3rd party libraries). So given this, maybe the question becomes</p>\n<p><strong>How can I refute the bug? is there a good solid reference from Oracle/Owasp or whoever that says &quot;unsolvable problem&quot; ?</strong></p>\n"},{"tags":["java","spring","spring-data"],"comments":[{"owner":{"account_id":70039,"reputation":410,"user_id":203498,"display_name":"Lukas Bradley"},"score":0,"creation_date":1513019709,"post_id":47759559,"comment_id":82480817,"body_markdown":"Try removing the &quot;from dual&quot; and remove the nativeQuery part.  It should work as a vanilla JPA query.","body":"Try removing the &quot;from dual&quot; and remove the nativeQuery part.  It should work as a vanilla JPA query."},{"owner":{"account_id":7858487,"reputation":800,"user_id":5939566,"accept_rate":80,"display_name":"tkralik"},"score":0,"creation_date":1513020595,"post_id":47759559,"comment_id":82481274,"body_markdown":"That did not work unfortunatelly. Now I am getting this exception as the query is incomplete. `Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected end of subtree [select &#39;SampleEnumeration&#39;]`","body":"That did not work unfortunatelly. Now I am getting this exception as the query is incomplete. <code>Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected end of subtree [select &#39;SampleEnumeration&#39;]</code>"},{"owner":{"account_id":70039,"reputation":410,"user_id":203498,"display_name":"Lukas Bradley"},"score":0,"creation_date":1513021588,"post_id":47759559,"comment_id":82481778,"body_markdown":"I would have 100% swore I did this same thing on a personal project, but I can&#39;t find it right now.  I&#39;ll search more later tonight.  In the meantime, I&#39;d just leave the &quot;from dual&quot; and native on for now.","body":"I would have 100% swore I did this same thing on a personal project, but I can&#39;t find it right now.  I&#39;ll search more later tonight.  In the meantime, I&#39;d just leave the &quot;from dual&quot; and native on for now."}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513061158,"creation_date":1513061158,"answer_id":47766735,"question_id":47759559,"body_markdown":"You can get the type arguments if they are bound to a type from the interface, using this answer: https://stackoverflow.com/a/1901275/66686\r\n\r\n    Class&lt;T&gt; persistentClass = (Class&lt;T&gt;)\r\n       ((ParameterizedType)yourRepo.getClass().getGenericSuperclass())\r\n          .getActualTypeArguments()[0];\r\n\r\n","title":"Spring Data - get entity name/type from Repository","body":"<p>You can get the type arguments if they are bound to a type from the interface, using this answer: <a href=\"https://stackoverflow.com/a/1901275/66686\">https://stackoverflow.com/a/1901275/66686</a></p>\n\n<pre><code>Class&lt;T&gt; persistentClass = (Class&lt;T&gt;)\n   ((ParameterizedType)yourRepo.getClass().getGenericSuperclass())\n      .getActualTypeArguments()[0];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7858487,"reputation":800,"user_id":5939566,"accept_rate":80,"display_name":"tkralik"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1513084519,"creation_date":1513084519,"answer_id":47773604,"question_id":47759559,"body_markdown":"@jens-schauder &#39;s answer did not work in my case but it showed me the right direction.\r\n\r\nSpring injected me the implementation of my interface extending the spring `Repository` interface. Therefore I had to get all interfaces, filter out spring internal ones, so I ended up with the one I defined. This one however was not generic yet so I had to get **its** super interface that had the generic type.\r\n\r\nI don&#39;t really care about performance as this method is called only during Spring container initialization.\r\n\r\nFortunatelly polymorphism works quite well in this case. So I only had to implement default method on the super interface. Like this\r\n\r\n    @NoRepositoryBean\r\n    public interface EnumerationRepository&lt;T extends IDatabaseEnumeration&gt; extends Repository&lt;T, String&gt; {\r\n    \r\n    \t// ...\r\n    \t\r\n    \tdefault Class&lt;T&gt; getEntityClass() {\r\n    \t\tType[] interfaces = getClass().getInterfaces();\r\n    \t\t\r\n    \t\tfor (Type t : interfaces) {\r\n    \t\t\tif (t instanceof Class&lt;?&gt;) {\r\n    \t\t\t\tClass&lt;?&gt; clazz = (Class&lt;?&gt;) t;\r\n    \t\t\t\t\r\n    \t\t\t\tif (clazz.getPackage().getName().startsWith(ApplicationConst.BASE_PACKAGE)) {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t// Repositories should implement only ONE interface from application packages\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tType genericInterface = clazz.getGenericInterfaces()[0];\r\n    \t\t\t\t\t\r\n    \t\t\t\t\treturn (Class&lt;T&gt;) ((ParameterizedType) genericInterface).getActualTypeArguments()[0];\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nI hope this might be useful to other users facing similar issues.","title":"Spring Data - get entity name/type from Repository","body":"<p>@jens-schauder 's answer did not work in my case but it showed me the right direction.</p>\n\n<p>Spring injected me the implementation of my interface extending the spring <code>Repository</code> interface. Therefore I had to get all interfaces, filter out spring internal ones, so I ended up with the one I defined. This one however was not generic yet so I had to get <strong>its</strong> super interface that had the generic type.</p>\n\n<p>I don't really care about performance as this method is called only during Spring container initialization.</p>\n\n<p>Fortunatelly polymorphism works quite well in this case. So I only had to implement default method on the super interface. Like this</p>\n\n<pre><code>@NoRepositoryBean\npublic interface EnumerationRepository&lt;T extends IDatabaseEnumeration&gt; extends Repository&lt;T, String&gt; {\n\n    // ...\n\n    default Class&lt;T&gt; getEntityClass() {\n        Type[] interfaces = getClass().getInterfaces();\n\n        for (Type t : interfaces) {\n            if (t instanceof Class&lt;?&gt;) {\n                Class&lt;?&gt; clazz = (Class&lt;?&gt;) t;\n\n                if (clazz.getPackage().getName().startsWith(ApplicationConst.BASE_PACKAGE)) {\n\n                    // Repositories should implement only ONE interface from application packages\n\n                    Type genericInterface = clazz.getGenericInterfaces()[0];\n\n                    return (Class&lt;T&gt;) ((ParameterizedType) genericInterface).getActualTypeArguments()[0];\n                }\n            }\n        }\n\n        return null;\n    }\n\n}\n</code></pre>\n\n<p>I hope this might be useful to other users facing similar issues.</p>\n"},{"tags":[],"owner":{"account_id":953817,"reputation":493,"user_id":979478,"display_name":"Pawel Zieminski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607678969,"creation_date":1607678969,"answer_id":65248762,"question_id":47759559,"body_markdown":"Try this\r\n\r\n\r\n    import com.fasterxml.classmate.ResolvedType;\r\n    import com.fasterxml.classmate.TypeResolver;\r\n    import org.springframework.aop.support.AopUtils;\r\n    import org.springframework.data.repository.Repository;\r\n    import org.springframework.util.Assert;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class Repospector {\r\n        private static final TypeResolver RESOLVER = new TypeResolver();\r\n    \r\n        public Class&lt;?&gt; getEntityClass(Repository&lt;?, ?&gt; repository) {\r\n            Class&lt;?&gt; targetClass = AopUtils.getTargetClass(repository);\r\n            List&lt;ResolvedType&gt; types = RESOLVER.resolve(targetClass).typeParametersFor(Repository.class);\r\n            Assert.state(types.size() == 2, &quot;Call the whambulance!&quot;);\r\n            return types.get(0).getErasedType();\r\n        }\r\n    }","title":"Spring Data - get entity name/type from Repository","body":"<p>Try this</p>\n<pre><code>import com.fasterxml.classmate.ResolvedType;\nimport com.fasterxml.classmate.TypeResolver;\nimport org.springframework.aop.support.AopUtils;\nimport org.springframework.data.repository.Repository;\nimport org.springframework.util.Assert;\n\nimport java.util.List;\n\npublic class Repospector {\n    private static final TypeResolver RESOLVER = new TypeResolver();\n\n    public Class&lt;?&gt; getEntityClass(Repository&lt;?, ?&gt; repository) {\n        Class&lt;?&gt; targetClass = AopUtils.getTargetClass(repository);\n        List&lt;ResolvedType&gt; types = RESOLVER.resolve(targetClass).typeParametersFor(Repository.class);\n        Assert.state(types.size() == 2, &quot;Call the whambulance!&quot;);\n        return types.get(0).getErasedType();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11806551,"reputation":1,"user_id":8638887,"display_name":"ChenKeYu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632742532,"creation_date":1632742532,"answer_id":69345890,"question_id":47759559,"body_markdown":"I fix this problem by use typetools https://github.com/jhalterman/typetools\r\n\r\nthis is my code:\r\n\r\n    Class&lt;?&gt;[] classes = TypeResolver.resolveRawArguments(JpaRepository.class, jpaRepositoryInstance.getClass());\r\n    Class&lt;?&gt; entityClz = classes[0];\r\n\r\n","title":"Spring Data - get entity name/type from Repository","body":"<p>I fix this problem by use typetools <a href=\"https://github.com/jhalterman/typetools\" rel=\"nofollow noreferrer\">https://github.com/jhalterman/typetools</a></p>\n<p>this is my code:</p>\n<pre><code>Class&lt;?&gt;[] classes = TypeResolver.resolveRawArguments(JpaRepository.class, jpaRepositoryInstance.getClass());\nClass&lt;?&gt; entityClz = classes[0];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9653946,"reputation":76,"user_id":7164184,"display_name":"Thiago Sperandio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684154192,"creation_date":1683822150,"answer_id":76229720,"question_id":47759559,"body_markdown":"I&#39;ll duplicate [my answer here because it&#39;s the same as another similar question](https://stackoverflow.com/questions/14266089/how-to-retrieve-spring-data-repository-instance-for-given-domain-class/76229273#76229273):\r\n\r\n---\r\n\r\nIt&#39;s my opinion based on my recent experience to make reflection in some classes or interfaces in Spring Boot.\r\n\r\nAs [@ekcrisp said in his answer in similar question](https://stackoverflow.com/a/71701611/7164184):\r\n&gt; You can use Spring&#39;s GenericTypeResolver to get the Entity class from your Repository.\r\n\r\nMy experience: unfortunately the common ways of reflection don&#39;t work to get the `&lt;T&gt;` entity class in a  Spring Boot&#39;s repository. I tried in a lot of maneers. But this **`GenericTypeResolver`** actually could get the generics `&lt;T&gt;` type from `JpaRepository&lt;T, ID&gt;`.\r\n\r\nIn other words, the function below can provide all generic types of a class as an array. Then you can choose one of them:\r\n\r\n    public Class&lt;?&gt;[] getGenericType( Class&lt;?&gt; classInstance, Class&lt;?&gt; classToGetGenerics ) {\r\n        return GenericTypeResolver.resolveTypeArguments( classInstance, classToGetGenerics );\r\n    }\r\n\r\nThis answer is about this stack and its versions:\r\n\r\nJDK 11, Spring Boot 2.7.11 with Spring MVC, Spring Data JPA, and others libs. Posted in 2023-05-11.\r\n\r\n---\r\n\r\nIf you want to add a solution in your &quot;ObjectUtil&quot; local solution, maybe these methods can be useful to get generic types, in any position, like get `&lt;T&gt;` or `&lt;ID&gt;` in `JpaRepository&lt;T, ID&gt;`:\r\n\r\n    @UtilityClass\r\n    public class ObjectUtil {\r\n        // ...\r\n    \r\n    \t/**\r\n    \t *\r\n    \t * @param classInstance\r\n    \t * @param classToGetGenerics\r\n    \t *\r\n    \t * @return the generic classes of the given param, based on class to get generics param.\r\n    \t *\r\n    \t * @see GenericTypeResolver#resolveTypeArguments\r\n    \t */\r\n    \tpublic static Class&lt;?&gt;[] getGenericType( Class&lt;?&gt; classInstance, Class&lt;?&gt; classToGetGenerics ) {\r\n    \t\treturn GenericTypeResolver.resolveTypeArguments( classInstance, classToGetGenerics );\r\n    \t}\r\n    \r\n    \t/**\r\n    \t *\r\n    \t * @param classInstance\r\n    \t * @param classToGetGenerics\r\n    \t * @param genericPosition\r\n    \t *\r\n    \t * @return the generic class of the given param, based on class to get generics and generic position params.\r\n    \t *\r\n    \t * @see ObjectUtil#getGenericType\r\n    \t * @see GenericTypeResolver#resolveTypeArguments\r\n    \t */\r\n    \tpublic static Class&lt;?&gt; getGenericType( Class&lt;?&gt; classInstance, Class&lt;?&gt; classToGetGenerics, int genericPosition ) {\r\n    \t\tClass&lt;?&gt;[] typeArguments = getGenericType( classInstance, classToGetGenerics );\r\n    \t\tif( typeArguments != null &amp;&amp; typeArguments.length &gt;= genericPosition ) {\r\n    \t\t\treturn typeArguments[genericPosition];\r\n    \t\t}\r\n    \t\tthrow new IllegalArgumentException( &quot;Could not determine generic type for interface &quot; + classInstance.getName() );\r\n    \t}\r\n        \r\n        // ... \r\n    }\r\n\r\nSo we can use like the example below (I created a QueryUtil to handle specifically persistence stuff):\r\n\r\n    @UtilityClass\r\n    public class QueryUtil {\r\n    \r\n    \t// ...\r\n    \r\n    \t/**\r\n    \t *\r\n    \t * @param repositoryClass\r\n    \t *\r\n    \t * @return the @Entity class of the given repository param.\r\n    \t *\r\n    \t * @see ObjectUtil#getGenericType(Class, Class, int)\r\n    \t * @see ObjectUtil#getGenericType(Class, Class)\r\n    \t */\r\n    \tpublic static Class&lt;?&gt; getRepositoryEntityType( Class&lt;?&gt; repositoryClass ) {\r\n    \t\treturn ObjectUtil.getGenericType( repositoryClass, Repository.class, 0 );\r\n    \t}\r\n    \r\n    }\r\n\r\n---\r\n\r\nI hope this is still useful. Here it was used in a customized audit logic, made by aspects, so that the Entity is audited. \r\n","title":"Spring Data - get entity name/type from Repository","body":"<p>I'll duplicate <a href=\"https://stackoverflow.com/questions/14266089/how-to-retrieve-spring-data-repository-instance-for-given-domain-class/76229273#76229273\">my answer here because it's the same as another similar question</a>:</p>\n<hr />\n<p>It's my opinion based on my recent experience to make reflection in some classes or interfaces in Spring Boot.</p>\n<p>As <a href=\"https://stackoverflow.com/a/71701611/7164184\">@ekcrisp said in his answer in similar question</a>:</p>\n<blockquote>\n<p>You can use Spring's GenericTypeResolver to get the Entity class from your Repository.</p>\n</blockquote>\n<p>My experience: unfortunately the common ways of reflection don't work to get the <code>&lt;T&gt;</code> entity class in a  Spring Boot's repository. I tried in a lot of maneers. But this <strong><code>GenericTypeResolver</code></strong> actually could get the generics <code>&lt;T&gt;</code> type from <code>JpaRepository&lt;T, ID&gt;</code>.</p>\n<p>In other words, the function below can provide all generic types of a class as an array. Then you can choose one of them:</p>\n<pre><code>public Class&lt;?&gt;[] getGenericType( Class&lt;?&gt; classInstance, Class&lt;?&gt; classToGetGenerics ) {\n    return GenericTypeResolver.resolveTypeArguments( classInstance, classToGetGenerics );\n}\n</code></pre>\n<p>This answer is about this stack and its versions:</p>\n<p>JDK 11, Spring Boot 2.7.11 with Spring MVC, Spring Data JPA, and others libs. Posted in 2023-05-11.</p>\n<hr />\n<p>If you want to add a solution in your &quot;ObjectUtil&quot; local solution, maybe these methods can be useful to get generic types, in any position, like get <code>&lt;T&gt;</code> or <code>&lt;ID&gt;</code> in <code>JpaRepository&lt;T, ID&gt;</code>:</p>\n<pre><code>@UtilityClass\npublic class ObjectUtil {\n    // ...\n\n    /**\n     *\n     * @param classInstance\n     * @param classToGetGenerics\n     *\n     * @return the generic classes of the given param, based on class to get generics param.\n     *\n     * @see GenericTypeResolver#resolveTypeArguments\n     */\n    public static Class&lt;?&gt;[] getGenericType( Class&lt;?&gt; classInstance, Class&lt;?&gt; classToGetGenerics ) {\n        return GenericTypeResolver.resolveTypeArguments( classInstance, classToGetGenerics );\n    }\n\n    /**\n     *\n     * @param classInstance\n     * @param classToGetGenerics\n     * @param genericPosition\n     *\n     * @return the generic class of the given param, based on class to get generics and generic position params.\n     *\n     * @see ObjectUtil#getGenericType\n     * @see GenericTypeResolver#resolveTypeArguments\n     */\n    public static Class&lt;?&gt; getGenericType( Class&lt;?&gt; classInstance, Class&lt;?&gt; classToGetGenerics, int genericPosition ) {\n        Class&lt;?&gt;[] typeArguments = getGenericType( classInstance, classToGetGenerics );\n        if( typeArguments != null &amp;&amp; typeArguments.length &gt;= genericPosition ) {\n            return typeArguments[genericPosition];\n        }\n        throw new IllegalArgumentException( &quot;Could not determine generic type for interface &quot; + classInstance.getName() );\n    }\n    \n    // ... \n}\n</code></pre>\n<p>So we can use like the example below (I created a QueryUtil to handle specifically persistence stuff):</p>\n<pre><code>@UtilityClass\npublic class QueryUtil {\n\n    // ...\n\n    /**\n     *\n     * @param repositoryClass\n     *\n     * @return the @Entity class of the given repository param.\n     *\n     * @see ObjectUtil#getGenericType(Class, Class, int)\n     * @see ObjectUtil#getGenericType(Class, Class)\n     */\n    public static Class&lt;?&gt; getRepositoryEntityType( Class&lt;?&gt; repositoryClass ) {\n        return ObjectUtil.getGenericType( repositoryClass, Repository.class, 0 );\n    }\n\n}\n</code></pre>\n<hr />\n<p>I hope this is still useful. Here it was used in a customized audit logic, made by aspects, so that the Entity is audited.</p>\n"}],"owner":{"account_id":7858487,"reputation":800,"user_id":5939566,"accept_rate":80,"display_name":"tkralik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9434,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":47773604,"answer_count":5,"score":4,"last_activity_date":1684154192,"creation_date":1513018588,"question_id":47759559,"body_markdown":"I am looking for a way to get an entity type or class name from an instance implementing Spring Data JPA `Repository` interface.\r\n\r\nI have got a number of interfaces extending a base interface that extends `Repository` interface and that defines some base queries.\r\n\r\n    @NoRepositoryBean\r\n    public interface EnumerationRepository&lt;T extends IDatabaseEnumeration&gt; extends Repository&lt;T, String&gt; {\r\n    \t// ...\r\n    }\r\n\r\n    public interface SampleEnumerationRepository extends EnumerationRepository&lt;SampleEnumeration&gt; {\r\n    \r\n    }\r\n\r\nSpring allows me to inject implementations of all these interfaces as a collection into a bean\r\n\r\n    @Autowired\r\n    private Collection&lt;EnumerationRepository&lt;? extends IDatabaseEnumeration&gt;&gt; repositories;\r\n\r\nI wanted to put all of these implementations into a `Map` for an easy access inside a generic method. I wanted to use the entity type or name as the key but I am not sure where to get it. Is there any way to get one of these attributes? Preferably the class type.\r\n\r\nI was able to achieve the desired behaviour with a query like this. But I would like to avoid this solution if possible as it creates a dependency on the underlying DB.\r\n\r\n    @Query(value = &quot;select &#39;#{#entityName}&#39; from dual&quot;, nativeQuery = true)\r\n    public String getEntityName();","title":"Spring Data - get entity name/type from Repository","body":"<p>I am looking for a way to get an entity type or class name from an instance implementing Spring Data JPA <code>Repository</code> interface.</p>\n\n<p>I have got a number of interfaces extending a base interface that extends <code>Repository</code> interface and that defines some base queries.</p>\n\n<pre><code>@NoRepositoryBean\npublic interface EnumerationRepository&lt;T extends IDatabaseEnumeration&gt; extends Repository&lt;T, String&gt; {\n    // ...\n}\n\npublic interface SampleEnumerationRepository extends EnumerationRepository&lt;SampleEnumeration&gt; {\n\n}\n</code></pre>\n\n<p>Spring allows me to inject implementations of all these interfaces as a collection into a bean</p>\n\n<pre><code>@Autowired\nprivate Collection&lt;EnumerationRepository&lt;? extends IDatabaseEnumeration&gt;&gt; repositories;\n</code></pre>\n\n<p>I wanted to put all of these implementations into a <code>Map</code> for an easy access inside a generic method. I wanted to use the entity type or name as the key but I am not sure where to get it. Is there any way to get one of these attributes? Preferably the class type.</p>\n\n<p>I was able to achieve the desired behaviour with a query like this. But I would like to avoid this solution if possible as it creates a dependency on the underlying DB.</p>\n\n<pre><code>@Query(value = \"select '#{#entityName}' from dual\", nativeQuery = true)\npublic String getEntityName();\n</code></pre>\n"},{"tags":["java","json","extjs","struts2"],"comments":[{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1595580231,"post_id":63069879,"comment_id":111530273,"body_markdown":"Additionally, could anyone also explain me the data flow / control flow from extjs to struts2. I would be very thankful.","body":"Additionally, could anyone also explain me the data flow / control flow from extjs to struts2. I would be very thankful."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1595703067,"post_id":63069879,"comment_id":111568676,"body_markdown":"The framework has support for json via plugin. You may be missing [some](https://stackoverflow.com/a/47964971/573032) point in the configuration.","body":"The framework has support for json via plugin. You may be missing <a href=\"https://stackoverflow.com/a/47964971/573032\">some</a> point in the configuration."},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1595745058,"post_id":63069879,"comment_id":111576136,"body_markdown":"Hey Roman! Thanks for the reply. However, I already have the json plugin jar in my environment.","body":"Hey Roman! Thanks for the reply. However, I already have the json plugin jar in my environment."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1596000222,"post_id":63069879,"comment_id":111664311,"body_markdown":"The plugin is only one piece of cake. The linked answer explains how to serialize fields when json object is created.","body":"The plugin is only one piece of cake. The linked answer explains how to serialize fields when json object is created."}],"answers":[{"tags":[],"owner":{"account_id":14114179,"reputation":4636,"user_id":10196301,"display_name":"Arthur Rubens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595601172,"creation_date":1595601172,"answer_id":63075749,"question_id":63069879,"body_markdown":"[![enter image description here][1]][1]\r\nYou have forgotten the rootProperty in the store`s proxy and in your json. I have changed your code a little bit in the fiddle, it works with dummy jsons.\r\n\r\n[FIDDLE][2]\r\n\r\n**About the code**\r\nIt is better to split the code to models, stores and different views. The files must be as small as possible. (What can be class must be class). For example the popup window better to define in separate class (as it is done in fiddle sample). Even the toolbars of grid and popup window must be defined in separate classes.. \r\nYour grid columns has the same properties, it is better to move them in the &#39;defaults&#39; config property of the grid ( I have moved the labelWith: 150 there)..\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jNlHJ.png\r\n  [2]: https://fiddle.sencha.com/#view/editor&amp;fiddle/37od","title":"Cannot return json data back to extjs","body":"<p><a href=\"https://i.stack.imgur.com/jNlHJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jNlHJ.png\" alt=\"enter image description here\" /></a>\nYou have forgotten the rootProperty in the store`s proxy and in your json. I have changed your code a little bit in the fiddle, it works with dummy jsons.</p>\n<p><a href=\"https://fiddle.sencha.com/#view/editor&amp;fiddle/37od\" rel=\"nofollow noreferrer\">FIDDLE</a></p>\n<p><strong>About the code</strong>\nIt is better to split the code to models, stores and different views. The files must be as small as possible. (What can be class must be class). For example the popup window better to define in separate class (as it is done in fiddle sample). Even the toolbars of grid and popup window must be defined in separate classes..\nYour grid columns has the same properties, it is better to move them in the 'defaults' config property of the grid ( I have moved the labelWith: 150 there)..</p>\n"},{"tags":[],"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1595802462,"creation_date":1595802462,"answer_id":63106401,"question_id":63069879,"body_markdown":"I was able to get the solution. After days of lookup, I found problem in my struts.xml file.\r\nThe corrected file is attached in the question itself. Thanks for all the help! &#128522;","title":"Cannot return json data back to extjs","body":"<p>I was able to get the solution. After days of lookup, I found problem in my struts.xml file.\nThe corrected file is attached in the question itself. Thanks for all the help! 😊</p>\n"}],"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1595872942,"accepted_answer_id":63106401,"answer_count":2,"score":0,"last_activity_date":1684154170,"creation_date":1595579562,"question_id":63069879,"body_markdown":"I am completely new to Extjs and struts2 and was trying a new project of my own. However, while passing the json data from struts action class, I am continuosly getting this error:\r\n**Ext.JSON.decode(): You&#39;re trying to decode an invalid JSON String**\r\nI am using:\r\nJDK 1.8&lt;br&gt;\r\nApache Tomcat 8.5.55 &lt;br&gt;\r\nExtjs 6.0.2&lt;br&gt;\r\nIDE Eclipse&lt;br&gt;\r\nMy struts.xml file is:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE struts PUBLIC\r\n   &quot;-//Apache Software Foundation//DTD Struts Configuration 2.5//EN&quot;\r\n   &quot;http://struts.apache.org/dtds/struts-2.5.dtd&quot;&gt;\r\n\r\n&lt;struts&gt;\r\n\t&lt;package name=&quot;default&quot; extends=&quot;json-default&quot;&gt;\r\n\t\t&lt;action \r\n\t\t\tname = &quot;generateCustomerJson&quot; \r\n\t\t\tclass = &quot;com.proj.Action.CustomerDataJsonCreator&quot;\r\n\t\t\tmethod = &quot;&quot;&gt;\r\n\t\t\t&lt;result name = &quot;Success&quot;&gt;/index.jsp\r\n\t\t\t&lt;/result&gt;\r\n\t\t&lt;/action&gt;\r\n\t&lt;/package&gt;\r\n&lt;/struts&gt;\r\n```\r\nMy action class is:\r\n```\r\npackage com.proj.Action;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\n\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.JsonElement;\r\nimport com.google.gson.JsonObject;\r\nimport com.google.gson.JsonParser;\r\nimport com.proj.DAO.DBConnector;\r\nimport com.proj.SqlQueryGenerator;\r\n\r\npublic class CustomerDataJsonCreator {\r\n\t\r\n\tprivate Connection conn = null;\r\n\tprivate PreparedStatement preparedStatement = null;\r\n    private ResultSet resultSet = null;\r\n    private HashMap&lt;String,Object&gt; record= null;\r\n    private ArrayList&lt;Object&gt; arrayList = new ArrayList&lt;Object&gt;();\r\n    private String data = null;\r\n    private JsonElement element = null;\r\n    private JsonObject object = new JsonObject();\r\n\r\n\r\n\t//connection to DB\r\n\tpublic CustomerDataJsonCreator() {\r\n\t\tconn = DBConnector.conDB();\r\n\t}\r\n\r\n\r\n\tpublic String execute() {\r\n\t\t\t\r\n\t\t\tsetPreparedStatement(SqlQueryGenerator.generator(&quot;Select&quot;));\r\n\t\t\tpreparedStatement = getPreparedStatement();\r\n\t\t\t\r\n\t\t\tsetResultSet(preparedStatement);\r\n\t\t\tresultSet = getResultSet();\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\twhile (resultSet.next()) {\r\n\t\t\t\t record = new HashMap&lt;&gt;();\r\n\t\t\t\t record.put(&quot;pk_id&quot;,resultSet.getInt(1));\r\n\t\t\t\t record.put(&quot;acct_doc_header_id&quot;, resultSet.getInt(2));\r\n\t\t         record.put(&quot;company_id&quot;, resultSet.getInt(3));\r\n\t\t         record.put(&quot;document_number&quot;, resultSet.getInt(4));\r\n\t\t         record.put(&quot;document_number_norm&quot;, resultSet.getInt(5));\r\n\t\t         record.put(&quot;business_code&quot;, resultSet.getString(6));\r\n\t\t         record.put(&quot;create_year&quot;, resultSet.getString(7));\r\n\t\t         record.put(&quot;document_line_number&quot;, resultSet.getInt(8));\r\n\t\t         record.put(&quot;doctype&quot;, resultSet.getString(9));\r\n\t\t         record.put(&quot;customer_number&quot;, resultSet.getInt(10));\r\n\t\t         record.put(&quot;customer_number_norm&quot;, resultSet.getInt(11));\r\n\t\t         record.put(&quot;fk_customer_map_id&quot;, resultSet.getInt(12));\r\n\t\t         record.put(&quot;customer_name&quot;, resultSet.getString(13));\r\n\t\t         record.put(&quot;division&quot;, resultSet.getString(14));\r\n\t\t         record.put(&quot;document_create_date&quot;, resultSet.getDate(15));\r\n\t\t         record.put(&quot;document_create_date_norm&quot;, resultSet.getDate(16));\r\n\t\t         record.put(&quot;posting_date&quot;, resultSet.getDate(17));\r\n\t\t         record.put(&quot;posting_date_norm&quot;, resultSet.getDate(18));\r\n\t\t         record.put(&quot;posting_id&quot;, resultSet.getString(19));\r\n\t\t         record.put(&quot;due_date&quot;, resultSet.getDate(20));\r\n\t\t         record.put(&quot;due_date_norm&quot;, resultSet.getDate(21));\r\n\t\t         record.put(&quot;order_date&quot;, resultSet.getDate(22));\r\n\t\t         record.put(&quot;order_date_norm&quot;, resultSet.getDate(23));\r\n\t\t         record.put(&quot;invoice_id&quot;, resultSet.getInt(24));\r\n\t\t         record.put(&quot;invoice_id_norm&quot;, resultSet.getInt(25));\r\n\t\t         record.put(&quot;baseline_create_date&quot;, resultSet.getDate(26));\r\n\t\t         record.put(&quot;invoice_date_norm&quot;, resultSet.getDate(27));\r\n\t\t         record.put(&quot;total_open_amount&quot;, resultSet.getFloat(28));\r\n\t\t         record.put(&quot;total_open_amount_norm&quot;, resultSet.getFloat(29));\r\n\t\t         record.put(&quot;cust_payment_terms&quot;, resultSet.getInt(30));\r\n\t\t         record.put(&quot;business_area&quot;, resultSet.getString(31));\r\n\t\t         record.put(&quot;ship_date&quot;, resultSet.getDate(32));\r\n\t\t         record.put(&quot;ship_to&quot;, resultSet.getString(33));\r\n\t\t         record.put(&quot;clearing_date&quot;, resultSet.getDate(34));\r\n\t\t         record.put(&quot;clearing_date_norm&quot;, resultSet.getDate(35));\r\n\t\t         record.put(&quot;reason_code&quot;, resultSet.getString(36));\r\n\t\t         record.put(&quot;isOpen&quot;, resultSet.getInt(37));\r\n\t\t         record.put(&quot;discount_due_date_norm&quot;, resultSet.getDate(38));\r\n\t\t         record.put(&quot;debit_credit_indicator&quot;, resultSet.getString(39));\r\n\t\t         record.put(&quot;payment_method&quot;, resultSet.getString(40));\r\n\t\t         record.put(&quot;document_creation_date&quot;, resultSet.getDate(41));\r\n\t\t         record.put(&quot;invoice_amount_doc_currency&quot;, resultSet.getFloat(42));\r\n\t\t         record.put(&quot;document_id&quot;, resultSet.getInt(43));\r\n\t\t         record.put(&quot;actual_open_amount&quot;, resultSet.getFloat(44));\r\n\t\t         record.put(&quot;paid_amount&quot;, resultSet.getFloat(45));\r\n\t\t         record.put(&quot;dayspast_due&quot;, resultSet.getInt(46));\r\n\t\t         record.put(&quot;invoice_age&quot;, resultSet.getInt(47));\r\n\t\t         record.put(&quot;disputed_amount&quot;, resultSet.getFloat(48));\r\n\t\t         \r\n\t\t         setArrayList(record);\r\n\t\t\t}\r\n\t\t} catch\t(Exception e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tgetArrayList();\r\n\t\t\r\n\t\tsetJsonData(getArrayList()); \r\n\t\tgetJsonData();\r\n        System.out.println(getJsonData());\r\n         \r\n\t\treturn \t&quot;Success&quot;;\r\n\t}\r\n\t\r\n\tpublic void setJsonData(ArrayList&lt;Object&gt; arrayList) {\r\n\t\tGson gson = new Gson();\r\n\t\tthis.element = new JsonParser().parse(gson.toJson(arrayList));\r\n\t\tobject.add(&quot;customerDetail&quot;, this.element);\r\n\t\tthis.data = object.toString();\r\n\t}\r\n\t\r\n\tpublic String getJsonData() {\r\n\t\treturn this.data;\r\n\t}\r\n\t\r\n\tpublic void setPreparedStatement(String value) {\r\n\t\t\ttry {\r\n\t\t\t\tthis.preparedStatement = conn.prepareStatement(value);\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t}\r\n\t\r\n\tpublic PreparedStatement getPreparedStatement() {\r\n\t\treturn this.preparedStatement;\r\n\t}\r\n\t\r\n\tpublic void setResultSet(PreparedStatement preparedStatement){\r\n\t\ttry {\r\n\t\t\tthis.resultSet = preparedStatement.executeQuery();\r\n\t\t} catch (SQLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic ResultSet getResultSet() {\r\n\t\treturn this.resultSet;\r\n\t}\r\n\t\r\n\tpublic void setArrayList(HashMap&lt;String,Object&gt; record) {\r\n\t\tarrayList.add(record);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic ArrayList&lt;Object&gt; getArrayList(){\r\n\t\treturn this.arrayList;\r\n\t}\r\n\r\n}\r\n\r\n```\r\nMy Extjs code is:\r\n```\r\nvar gridContainer = function() {\r\nExt.define(&#39;User&#39;, {\r\n   extend: &#39;Ext.data.Model&#39;,\r\n   fields: [\r\n      &#39;pkId&#39;,\r\n           &#39;acctDocHeaderId&#39;,\r\n  &#39;companyId&#39;,\r\n  &#39;documentNumber&#39;,\r\n  &#39;documentNumberNorm&#39;,\r\n  &#39;businessCode&#39;,\r\n  &#39;createYear&#39;,\r\n  &#39;documentLineNumber&#39;,\r\n  &#39;docType&#39;,\r\n  &#39;customerNumber&#39;,      \r\n  &#39;customerNumberNorm&#39;,      \r\n  &#39;fkCustomerMapId&#39;,\r\n  &#39;customerName&#39;,\r\n  &#39;division&#39;,\r\n  &#39;documentCreateDate&#39;,\r\n  &#39;documentCreateDateNorm&#39;,\r\n  &#39;postingDate&#39;,\r\n  &#39;postingDateNorm&#39;,\r\n  &#39;postingID&#39;,\r\n  &#39;dueDate&#39;,\r\n  &#39;dueDateNorm&#39;,\r\n  &#39;orderDate&#39;,\r\n  &#39;orderDateNorm&#39;,\r\n  &#39;invoiceID&#39;,\r\n  &#39;invoiceIDNorm&#39;,\r\n  &#39;baseLineCreateDate&#39;,\r\n  &#39;invoiceDateNorm&#39;,\r\n  &#39;totalOpenAmount&#39;,\r\n  &#39;totalOpenAmountNorm&#39;,\r\n  &#39;custPaymentTerms&#39;,\r\n  &#39;businessArea&#39;,\r\n  &#39;shipDate&#39;,\r\n  &#39;shipTo&#39;,\r\n  &#39;clearingDate&#39;,\r\n  &#39;clearingDateNorm&#39;,\r\n  &#39;reasonCode&#39;,\r\n  &#39;isOpen&#39;,\r\n  &#39;discountDueDateNorm&#39;,\r\n  &#39;debitCreditIndicator&#39;,\r\n  &#39;paymentMethod&#39;,\r\n  &#39;documentCreationDate&#39;,\r\n  &#39;invoiceAmountDocCurrency&#39;,\r\n  &#39;documentID&#39;,\r\n  &#39;actualOpenAmount&#39;,\r\n  &#39;paidAmount&#39;,\r\n  &#39;daysPastDue&#39;,\r\n  &#39;invoiceAge&#39;,\r\n  &#39;disputedAmount&#39;,\r\n  ]\r\n});\r\n\r\n//number of items in a page\r\nvar itemsPerPage = 5\r\n\r\n//user store\r\nvar userStore = Ext.create(&#39;Ext.data.Store&#39;, {\r\n   model: &#39;User&#39;,\r\n   pageSize: itemsPerPage,\r\n   storeId: &#39;userStore&#39;,\r\n   proxy: {\r\n    type: &#39;ajax&#39;,\r\n\turl: &#39;generateCustomerJson&#39;,\r\n   // url: &#39;http://localhost:8080/1705188/customerDataJsonCreator?value=&#39;.concat(),\r\n    reader: {\r\n\t    type: &#39;json&#39;,\r\n\t    totalProperty: &#39;total&#39;,\r\n        rootProperty: &#39;customerDetail&#39;,\r\n    }\r\n   },\r\n   autoLoad: true\r\n});\r\nconsole.log(userStore);\r\n\r\n//business store\r\nvar businessStore = Ext.create(&#39;Ext.data.Store&#39;, {\r\n     storeId: &#39;businessStore&#39;,\r\n     proxy: {\r\n    type: &#39;ajax&#39;,\r\n    url: &#39;http://localhost:8080/1705188/companyCodeJsonCreator&#39;,\r\n    reader: {\r\n    type: &#39;json&#39;,\r\n    totalProperty: &#39;total&#39;,\r\nrootProperty: &#39;customerCode&#39;\r\n    }\r\n   },\r\n   autoLoad: true\r\n  });\r\n\r\n//sending the data to the server\r\n// userStore.load({\r\n//params: {\r\n//start: 0,\r\n//limit: itemsPerPage,\r\n//}\r\n//});\r\n\r\n//grid\r\nExt.create(&#39;Ext.grid.Panel&#39;, {\r\nrenderTo: Ext.get(&#39;ext-js-grid&#39;),\r\n   store: userStore,\r\n   width: &#39;100%&#39;,\r\n   id: &#39;employee-list&#39;,\r\n   title: &#39;List of Employees&#39;,\r\n   selType: &#39;checkboxmodel&#39;,\r\n   autoLoad: true,\r\n   columns: [{\r\n       text: &#39;Company ID&#39;,\r\n       sortable: true,\r\n       dataIndex: &#39;pk_id&#39;,\r\n       flx: 3\r\n   }, {\r\n       text: &#39;Account Header ID&#39;,\r\n       dataIndex: &#39;acct_doc_header_id&#39;,\r\n       minWidth: 150\r\n   }, {\r\n    text: &#39;Document Number&#39;,\r\n    dataIndex: &#39;document_number&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Document Number Normalised&#39;,\r\n    dataIndex: &#39;document_number_norm&#39;,\r\n    minWidth: 250\r\n   }, {\r\n    text: &#39;Business Code&#39;,\r\n    dataIndex: &#39;business_code&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Create Year&#39;,\r\n    dataIndex: &#39;create_year&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Document Line number&#39;,\r\n    dataIndex: &#39;document_line_number&#39;,\r\n    minWidth: 300\r\n   }, {\r\n    text: &#39;Document Type&#39;,\r\n    dataIndex: &#39;doctype&#39;,\r\n    minWidth: 150\r\n   },{\r\n    text: &#39;Customer Number&#39;,\r\n    dataIndex: &#39;customer_number&#39;,\r\n    minWidth: 150\r\n   },{\r\n    text: &#39;Customer Number Normalised&#39;,\r\n    dataIndex: &#39;customer_number_norm&#39;,\r\n    minWidth: 350\r\n   }, {\r\n    text: &#39;Customer Map ID&#39;,\r\n    dataIndex: &#39;fk_customer_map_id&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Name Of Customer&#39;,\r\n    dataIndex: &#39;customer_name&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Division&#39;,\r\n    dataIndex: &#39;division&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Document Create Date&#39;,\r\n    dataIndex: &#39;document_create_date&#39;,\r\n    minWidth: 300\r\n   }, {\r\n    text: &#39;Document Create Date Normalised&#39;,\r\n    dataIndex: &#39;document_create_date_norm&#39;,\r\n    minWidth: 350\r\n   }, {\r\n    text: &#39;Posting date&#39;,\r\n    dataIndex: &#39;posting_date&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Posting Date Normalised&#39;,\r\n    dataIndex: &#39;posting_date_norm&#39;,\r\n    minWidth: 300\r\n   }, {\r\n    text: &#39;Posting ID&#39;,\r\n    dataIndex: &#39;posting_id&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Due In Date&#39;,\r\n    dataIndex: &#39;due_date&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Due In Date Normalised&#39;,\r\n    dataIndex: &#39;due_date_norm&#39;,\r\n    minWidth: 300\r\n   }, {\r\n    text: &#39;Order create Date&#39;,\r\n    dataIndex: &#39;order_date&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Order Create Date Normalised&#39;,\r\n    dataIndex: &#39;order_date_norm&#39;,\r\n    minWidth: 300\r\n   }, {\r\n    text: &#39;Baseline Date&#39;,\r\n    dataIndex: &#39;baseline_create_date&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Invoice Date&#39;,\r\n    dataIndex: &#39;invoice_date_norm&#39;,\r\n    minWidth: 150    \r\n   }, {\r\n    text: &#39;Invoice ID&#39;,\r\n    dataIndex: &#39;invoice_id&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Invoice ID Normalised&#39;,\r\n    dataIndex: &#39;invoice_id_norm&#39;,\r\n    minWidth: 250\r\n   }, {\r\n    text: &#39;Total Open Amount&#39;,\r\n    dataIndex: &#39;total_open_amount&#39;,\r\n    minWidth: 150\r\n   },{\r\n    text: &#39;Total Open Amount Normalised&#39;,\r\n    dataIndex: &#39;total_open_amount_norm&#39;,\r\n    minWidth: 350\r\n   }, {\r\n    text: &#39;Customer Payment Terms&#39;,\r\n    dataIndex: &#39;cust_payment_terms&#39;,\r\n    minWidth: 300\r\n   }, {\r\n    text: &#39;Area of Business&#39;,\r\n    dataIndex: &#39;bsiness_area&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Clear Date&#39;,\r\n    dataIndex: &#39;clearing_date&#39;,\r\n    minWidth: 150\r\n   },{\r\n    text: &#39;Clear Date Normalised&#39;,\r\n    dataIndex: &#39;clearing_date_norm&#39;,\r\n    minWidth: 350\r\n   }, {\r\n    text: &#39;Is Open Invoice&#39;,\r\n    dataIndex: &#39;isopen&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Shipping Date&#39;,\r\n    dataIndex: &#39;ship_date&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Shipping To&#39;,\r\n    dataIndex: &#39;ship_to&#39;,\r\n    minWidth: 150\r\n   },{\r\n    text: &#39;Reason Code&#39;,\r\n    dataIndex: &#39;reason_code&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Discount Due Date Normalised&#39;,\r\n    dataIndex: &#39;discount_due_date_norm&#39;,\r\n    minWidth: 300\r\n   }, {\r\n    text: &#39;Debit Credit Status&#39;,\r\n    dataIndex: &#39;debit_credit_indicator&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Payment Method&#39;,\r\n    dataIndex: &#39;payment_method&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Payment Amount&#39;,\r\n    dataIndex: &#39;paid_amount&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Days past Due date&#39;,\r\n    dataIndex: &#39;dayspast_due&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Doc Id&#39;,\r\n    dataIndex: &#39;document_id&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Document Create Date&#39;,\r\n    dataIndex: &#39;document_create_date&#39;,\r\n    minWidth: 350\r\n   }, {\r\n    text: &#39;Actual Amount Outstanding&#39;,\r\n    dataIndex: &#39;actual_open_amount&#39;,\r\n    minWidth: 350\r\n   }, {\r\n    text: &#39;Age of Invoice&#39;,\r\n    dataIndex: &#39;invoice_age&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Invoice Currency&#39;,\r\n    dataIndex: &#39;invoice_amount_doc_currency&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Dispute Amount&#39;,\r\n    dataIndex: &#39;disputed_amount&#39;,\r\n    minWidth: 150\r\n   },],\r\n   dockedItems: [{\r\n    xtype: &#39;pagingtoolbar&#39;,\r\n    store: &#39;userStore&#39;,\r\n    dock: &#39;bottom&#39;,\r\n    displayInfo: true\r\n   }],\r\n   buttons: [\r\n    {\r\n    text: &#39;Add&#39;,\r\n       handler: function () {\r\n           var userWindow = Ext.create(&#39;Ext.window.Window&#39;, {\r\n               title: &#39;Add Invoice Details&#39;,\r\n               height: 600,\r\n               width: 600,\r\n               layout: &#39;fit&#39;,\r\n               bodyPadding: &#39;8&#39;,\r\n               items: {\r\n                   xtype: &#39;form&#39;,\r\n                   border: false,\r\n                   defaultType: &#39;textfield&#39;,\r\n                   items: [{\r\n                       fieldLabel: &#39;Company Code&#39;,\r\n                       name: &#39;companyCode&#39;,\r\n                       id: &#39;companyCode&#39;,\r\n                       xtype: &#39;combobox&#39;,\r\n                       store: businessStore,\r\n                       displayField: &#39;business_code&#39;,\r\n                       queryMode: &#39;local&#39;,\r\n                       filterPickList :true,\r\n                       width: &#39;100%&#39;,\r\n                       labelWidth: 150,\r\n                       allowBlank: false\r\n                   }, , {\r\n                       fieldLabel: &#39;Document Number&#39;,\r\n                       name: &#39;documentNumber&#39;,\r\n                       id: &#39;documentNumber&#39;,\r\n                       width: &#39;100%&#39;,\r\n                       vtype: &#39;alphanum&#39;,\r\n                       labelWidth: 150,\r\n                       allowBlank: false\r\n                   }, {\r\n                       fieldLabel: &#39;Customer Name&#39;,\r\n                       name: &#39;customerName&#39;,\r\n                       id: &#39;customerName&#39;,\r\n                       width: &#39;100%&#39;,\r\n                       labelWidth: 150,\r\n                       vtype: &#39;alphanum&#39;,\r\n                       allowBlank: false\r\n                   }, {\r\n                       xtype: &#39;numberfield&#39;,\r\n                       fieldLabel: &#39;Invoice Id&#39;,\r\n                       name: &#39;invoiceId&#39;,\r\n                       id :&#39;invoiceId&#39;,\r\n                       width: &#39;100%&#39;,\r\n                       labelWidth: 150,\r\n                       allowBlank: false\r\n                   }, {\r\n                       fieldLabel: &#39;Open Amount&#39;,\r\n                       name: &#39;openAmount&#39;,\r\n                       id: &#39;openAmount&#39;,\r\n                       width: &#39;100%&#39;,\r\n                       labelWidth: 150,\r\n                       disabled: true,\r\n                       allowBlank: false\r\n                   }, {\r\n                       xtype: &#39;fieldcontainer&#39;,\r\n                       fieldLabel: &#39;Is Open Invoice&#39;,\r\n                       defaultType: &#39;radiofield&#39;,\r\n                       id: &#39;isOpen&#39;,\r\n                       layout: &#39;hbox&#39;,\r\n                       labelWidth: 150,\r\n                       allowBlank: false,\r\n                       items: [{\r\n                           boxLabel: &#39;Yes&#39;,\r\n                           name: &#39;isOpenInvoice&#39;,\r\n                           inputValue: &#39;y&#39;,\r\n                           id: &#39;yesRadioButton&#39;,\r\n                           flex: 1\r\n                       }, {\r\n                           boxLabel: &#39;No&#39;,\r\n                           name: &#39;isOpenInvoice&#39;,\r\n                           inputValue: &#39;n&#39;,\r\n                           id: &#39;noRadioButton&#39;,\r\n                           flex: 1\r\n                       }]\r\n                   },{\r\n                       xtype: &#39;fieldcontainer&#39;,\r\n                       fieldLabel: &#39;Payment Method&#39;,\r\n                       defaultType: &#39;checkboxfield&#39;,\r\n                       id: &#39;paymentMethod&#39;,\r\n                       layout: &#39;hbox&#39;,\r\n                       allowBlank: false,\r\n                       labelWidth: 150,\r\n                       items: [\r\n                           {\r\n                               boxLabel  : &#39;Check&#39;,\r\n                               name      : &#39;paymentMethod&#39;,\r\n                               inputValue: &#39;1&#39;,\r\n                               id        : &#39;checkCheckBox&#39;,\r\n                               checked   : true,\r\n                               flex: 1\r\n                           }, {\r\n                               boxLabel  : &#39;ACH&#39;,\r\n                               name      : &#39;paymentMethod&#39;,\r\n                               inputValue: &#39;2&#39;,\r\n                               id        : &#39;achCheckBox&#39;,\r\n                               flex: 1\r\n                           }, {\r\n                               boxLabel  : &#39;Online&#39;,\r\n                               name      : &#39;paymentMethod&#39;,\r\n                               inputValue: &#39;3&#39;,\r\n                               id        : &#39;onlineCheckBox&#39;\r\n                           }\r\n                       ]\r\n                   }, {\r\n                       fieldLabel: &#39;Payment Amount&#39;,\r\n                       name: &#39;paymentAmount&#39;,\r\n                       id: &#39;paymentAmount&#39;,\r\n                       width: &#39;100%&#39;,\r\n                       labelWidth: 150,\r\n                       disabled: true\r\n                   }, {\r\n                       fieldLabel: &#39;Division&#39;,\r\n                       name: &#39;division&#39;,\r\n                       id: &#39;division&#39;,\r\n                       width: &#39;100%&#39;,\r\n                       labelWidth: 150,\r\n                       emptyText: &#39;Enter Division Email Id&#39;,\r\n                       vtype: &#39;email&#39;\r\n                   }],\r\n                   dockedItems: [{\r\n                       xtype: &#39;toolbar&#39;,\r\n                       dock: &#39;bottom&#39;,\r\n                        layout: {\r\n                       type: &#39;hbox&#39;,\r\n                       align: &#39;center&#39;,\r\n                       pack: &#39;middle&#39;\r\n                   },\r\n                       items: [{\r\n                           xtype: &#39;button&#39;,\r\n                           text: &#39;Save&#39;,\r\n                           formBind: true,\r\n                           disabled: true,\r\n                           handler: function() {\r\n                               var form = this.up(&#39;form&#39;).getForm().getValues();\r\n                               console.log(form);\r\n                               Ext.Ajax.request({\r\n                                url: &#39;http://localhost:8080/1705188/addInvoice&#39;,\r\n                                method: &#39;GET&#39;,\r\n                                params: {\r\n                                company_id: Ext.getCmp(&#39;companyCode&#39;).getValue(),\r\n                                document_number: Ext.getCmp(&#39;documentNumber&#39;).getValue(),\r\n                                customer_name: Ext.getCmp(&#39;customerName&#39;).getValue(),\r\n                                invoice_id: Ext.getCmp(&#39;invoiceId&#39;).getValue,\r\n                                total_open_amount: Ext.getCmp(&#39;openAmount&#39;).getValue(),\r\n                                isOpen: Ext.getCmp(&#39;yesRadioButton&#39;).getValue(),\r\n                                payment_method: Ext.getCmp(&#39;checkCheckBox&#39;).getValue(),\r\n                                paid_amount: Ext.getCmp(&#39;paymentAmount&#39;).getValue(),\r\n                                division: Ext.getCmp(&#39;division&#39;).getValue()\r\n                               },\r\n                               success: function(){\r\n                                Ext.Msg.alert(&#39;Saved&#39;,&#39;Your data has been added&#39;);\r\n                                Ext.getCmp(&#39;employee-list&#39;).getView().refresh();\r\n                               },\r\n                               failure: function(){\r\n                                Ext.Msg.alert(&#39;Error&#39;,&#39;Your data could not be saved&#39;);\r\n                               }\r\n                               });\r\n                               userWindow.close();\r\n                           }\r\n                       }, {\r\n                           xtype: &#39;button&#39;,\r\n                           text: &#39;Cancel&#39;\r\n                       }],\r\n                       \r\n                   }]\r\n               }\r\n           });\r\n\r\n           userWindow.show();\r\n       }\r\n   }]\r\n});\r\n};\r\n\r\nExt.onReady(gridContainer);\r\n```\r\nMy console output in Eclipse is:\r\n```\r\n{&quot;customerDetail&quot;:[{&quot;total_open_amount_norm&quot;:0.0,&quot;pk_id&quot;:1,&quot;customer_number&quot;:228448,&quot;business_code&quot;:&quot;Faes6&quot;,&quot;posting_id&quot;:&quot;&quot;,&quot;document_id&quot;:544073954,&quot;customer_number_norm&quot;:228448,&quot;invoice_age&quot;:78,&quot;division&quot;:&quot;&quot;,&quot;reason_code&quot;:&quot;&quot;,&quot;acct_doc_header_id&quot;:544073954,&quot;dayspast_due&quot;:18,&quot;debit_credit_indicator&quot;:&quot;&quot;,&quot;invoice_id&quot;:48289611,&quot;document_line_number&quot;:-1,&quot;document_create_date&quot;:&quot;Apr 15, 2019&quot;,&quot;document_create_date_norm&quot;:&quot;Apr 15, 2019&quot;,&quot;payment_method&quot;:&quot;&quot;,&quot;clearing_date&quot;:&quot;Jul 2, 2019&quot;,&quot;document_number&quot;:48289611,&quot;company_id&quot;:60,&quot;total_open_amount&quot;:0.0,&quot;clearing_date_norm&quot;:&quot;Jul 2, 2019&quot;,&quot;fk_customer_map_id&quot;:-1,&quot;business_area&quot;:&quot;&quot;,&quot;document_number_norm&quot;:48289611,&quot;doctype&quot;:&quot;RI&quot;,&quot;cust_payment_terms&quot;:60,&quot;isOpen&quot;:0,&quot;invoice_id_norm&quot;:48289611,&quot;create_year&quot;:&quot;&quot;,&quot;actual_open_amount&quot;:8166.52,&quot;paid_amount&quot;:8166.52,&quot;disputed_amount&quot;:0.0,&quot;customer_name&quot;:&quot;Fatboy Industries&quot;,&quot;ship_to&quot;:&quot;&quot;,&quot;invoice_amount_doc_currency&quot;:8166.52},{&quot;total_open_amount_norm&quot;:0.0,&quot;pk_id&quot;:2,&quot;customer_number&quot;:228089,&quot;business_code&quot;:&quot;cvrp1&quot;,&quot;posting_id&quot;:&quot;&quot;,&quot;document_id&quot;:540062945,&quot;customer_number_norm&quot;:228089,&quot;invoice_age&quot;:56,&quot;division&quot;:&quot;&quot;,&quot;reason_code&quot;:&quot;&quot;,&quot;acct_doc_header_id&quot;:540062945,&quot;dayspast_due&quot;:-4,&quot;debit_credit_indicator&quot;:&quot;&quot;,&quot;invoice_id&quot;:40134128,&quot;document_line_number&quot;:-1,&quot;document_create_date&quot;:&quot;Aug 3, 2018&quot;,&quot;document_create_date_norm&quot;:&quot;Aug 3, 2018&quot;,&quot;payment_method&quot;:&quot;&quot;,&quot;clearing_date&quot;:&quot;Sep 28, 2018&quot;,&quot;document_number&quot;:40134128,&quot;company_id&quot;:60,&quot;total_open_amount&quot;:0.0,&quot;clearing_date_norm&quot;:&quot;Sep 28, 2018&quot;,&quot;fk_customer_map_id&quot;:-1,&quot;business_area&quot;:&quot;&quot;,&quot;document_number_norm&quot;:40134128,&quot;doctype&quot;:&quot;RI&quot;,&quot;cust_payment_terms&quot;:60,&quot;isOpen&quot;:0,&quot;invoice_id_norm&quot;:40134128,&quot;create_year&quot;:&quot;&quot;,&quot;actual_open_amount&quot;:5027.5,&quot;paid_amount&quot;:5027.5,&quot;disputed_amount&quot;:0.0,&quot;customer_name&quot;:&quot;cvMaker corp&quot;,&quot;ship_to&quot;:&quot;&quot;,&quot;invoice_amount_doc_currency&quot;:5027.5},{&quot;total_open_amount_norm&quot;:0.0,&quot;pk_id&quot;:3,&quot;customer_number&quot;:228098,&quot;business_code&quot;:&quot;skes8&quot;,&quot;posting_id&quot;:&quot;&quot;,&quot;document_id&quot;:537291313,&quot;customer_number_norm&quot;:228098,&quot;invoice_age&quot;:53,&quot;division&quot;:&quot;&quot;,&quot;reason_code&quot;:&quot;&quot;,&quot;acct_doc_header_id&quot;:537291313,&quot;dayspast_due&quot;:-7,&quot;debit_credit_indicator&quot;:&quot;&quot;,&quot;invoice_id&quot;:36548810,&quot;document_line_number&quot;:-1,&quot;document_create_date&quot;:&quot;Mar 13, 2018&quot;,&quot;document_create_date_norm&quot;:&quot;Mar 13, 2018&quot;,&quot;payment_method&quot;:&quot;&quot;,&quot;clearing_date&quot;:&quot;May 5, 2018&quot;,&quot;document_number&quot;:36548810,&quot;company_id&quot;:60,&quot;total_open_amount&quot;:0.0,&quot;clearing_date_norm&quot;:&quot;May 5, 2018&quot;,&quot;fk_customer_map_id&quot;:-1,&quot;business_area&quot;:&quot;&quot;,&quot;document_number_norm&quot;:36548810,&quot;doctype&quot;:&quot;RI&quot;,&quot;cust_payment_terms&quot;:60,&quot;isOpen&quot;:0,&quot;invoice_id_norm&quot;:36548810,&quot;create_year&quot;:&quot;&quot;,&quot;actual_open_amount&quot;:270.0,&quot;paid_amount&quot;:270.0,&quot;disputed_amount&quot;:0.0,&quot;customer_name&quot;:&quot;skynetpwc softwares&quot;,&quot;ship_to&quot;:&quot;&quot;,&quot;invoice_amount_doc_currency&quot;:270.0},{&quot;total_open_amount_norm&quot;:0.0,&quot;pk_id&quot;:4,&quot;customer_number&quot;:218997,&quot;business_code&quot;:&quot;nuus8&quot;,&quot;posting_id&quot;:&quot;&quot;,&quot;document_id&quot;:539694838,&quot;customer_number_norm&quot;:218997,&quot;invoice_age&quot;:63,&quot;division&quot;:&quot;&quot;,&quot;reason_code&quot;:&quot;&quot;,&quot;acct_doc_header_id&quot;:539694838,&quot;dayspast_due&quot;:3,&quot;debit_credit_indicator&quot;:&quot;&quot;,&quot;invoice_id&quot;:39579444,&quot;document_line_number&quot;:-1,&quot;document_create_date&quot;:&quot;Jul 11, 2018&quot;,&quot;document_create_date_norm&quot;:&quot;Jul 11, 2018&quot;,&quot;payment_method&quot;:&quot;&quot;,&quot;clearing_date&quot;:&quot;Sep 12, 2018&quot;,&quot;document_number&quot;:39579444,&quot;company_id&quot;:60,&quot;total_open_amount&quot;:0.0,&quot;clearing_date_norm&quot;:&quot;Sep 12, 2018&quot;,&quot;fk_customer_map_id&quot;:-1,&quot;business_area&quot;:&quot;&quot;,&quot;document_number_norm&quot;:39579444,&quot;doctype&quot;:&quot;RI&quot;,&quot;cust_payment_terms&quot;:60,&quot;isOpen&quot;:0,&quot;invoice_id_norm&quot;:39579444,&quot;create_year&quot;:&quot;&quot;,&quot;actual_open_amount&quot;:158.94,&quot;paid_amount&quot;:158.94,&quot;disputed_amount&quot;:0.0,&quot;customer_name&quot;:&quot;nucleus&quot;,&quot;ship_to&quot;:&quot;&quot;,&quot;invoice_amount_doc_currency&quot;:158.94},{&quot;total_open_amount_norm&quot;:0.0,&quot;pk_id&quot;:5,&quot;customer_number&quot;:226550,&quot;business_code&quot;:&quot;syps7&quot;,&quot;posting_id&quot;:&quot;&quot;,&quot;document_id&quot;:537094052,&quot;customer_number_norm&quot;:226550,&quot;invoice_age&quot;:62,&quot;division&quot;:&quot;&quot;,&quot;reason_code&quot;:&quot;&quot;,&quot;acct_doc_header_id&quot;:537094052,&quot;dayspast_due&quot;:2,&quot;debit_credit_indicator&quot;:&quot;&quot;,&quot;invoice_id&quot;:36266913,&quot;document_line_number&quot;:-1,&quot;document_create_date&quot;:&quot;Mar 1, 2018&quot;,&quot;document_create_date_norm&quot;:&quot;Mar 1, 2018&quot;,&quot;payment_method&quot;:&quot;&quot;,&quot;clearing_date&quot;:&quot;May 2, 2018&quot;,&quot;document_number&quot;:36266913,&quot;company_id&quot;:60,&quot;total_open_amount&quot;:0.0,&quot;clearing_date_norm&quot;:&quot;May 2, 2018&quot;,&quot;fk_customer_map_id&quot;:-1,&quot;business_area&quot;:&quot;&quot;,&quot;document_number_norm&quot;:36266913,&quot;doctype&quot;:&quot;RI&quot;,&quot;cust_payment_terms&quot;:60,&quot;isOpen&quot;:0,&quot;invoice_id_norm&quot;:36266913,&quot;create_year&quot;:&quot;&quot;,&quot;actual_open_amount&quot;:5962.81,&quot;paid_amount&quot;:5962.81,&quot;disputed_amount&quot;:0.0,&quot;customer_name&quot;:&quot;system ops&quot;,&quot;ship_to&quot;:&quot;&quot;,&quot;invoice_amount_doc_currency&quot;:5962.81}]}\r\n```\r\nAnd the error I am getting on the browser while running the server is:\r\n[Output of the project][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rVCPx.png\r\n\r\nAny help would be appreciated.&lt;br&gt;\r\n**Edit:**&lt;br&gt;\r\nI actually figured out the root of the error. My struts2 action class is not returning the json data and hence, extjs is not able to decode it. I am fairly new to struts2, so I dont know how to do that.\r\n&lt;br&gt;\r\n**Edit:**&lt;br&gt; My error was resolved. Thanks for the help.&lt;br&gt;Actually, problem was in my struts.xml file.&lt;br&gt;\r\n**Edited struts.xml** file is given below:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE struts PUBLIC\r\n   &quot;-//Apache Software Foundation//DTD Struts Configuration 2.5//EN&quot;\r\n   &quot;http://struts.apache.org/dtds/struts-2.5.dtd&quot;&gt;\r\n\r\n&lt;struts&gt;\r\n\t&lt;package name=&quot;default&quot; extends=&quot;json-default&quot;&gt;\r\n\t\t&lt;action \r\n\t\t\tname = &quot;generateCustomerJson&quot; \r\n\t\t\tclass = &quot;com.proj.Action.CustomerDataJsonCreator&quot;&gt;\r\n\t\t\t&lt;result name = &quot;Success&quot; type=&quot;json&quot;&gt;\r\n\t\t\t\t&lt;param name = &quot;root&quot;&gt;arrayList&lt;/param&gt;\r\n\t\t\t&lt;/result&gt;\r\n\t\t&lt;/action&gt;\r\n\t&lt;/package&gt;\r\n&lt;/struts&gt;\r\n\r\n```","title":"Cannot return json data back to extjs","body":"<p>I am completely new to Extjs and struts2 and was trying a new project of my own. However, while passing the json data from struts action class, I am continuosly getting this error:\n<strong>Ext.JSON.decode(): You're trying to decode an invalid JSON String</strong>\nI am using:\nJDK 1.8<br>\nApache Tomcat 8.5.55 <br>\nExtjs 6.0.2<br>\nIDE Eclipse<br>\nMy struts.xml file is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE struts PUBLIC\n   &quot;-//Apache Software Foundation//DTD Struts Configuration 2.5//EN&quot;\n   &quot;http://struts.apache.org/dtds/struts-2.5.dtd&quot;&gt;\n\n&lt;struts&gt;\n    &lt;package name=&quot;default&quot; extends=&quot;json-default&quot;&gt;\n        &lt;action \n            name = &quot;generateCustomerJson&quot; \n            class = &quot;com.proj.Action.CustomerDataJsonCreator&quot;\n            method = &quot;&quot;&gt;\n            &lt;result name = &quot;Success&quot;&gt;/index.jsp\n            &lt;/result&gt;\n        &lt;/action&gt;\n    &lt;/package&gt;\n&lt;/struts&gt;\n</code></pre>\n<p>My action class is:</p>\n<pre><code>package com.proj.Action;\n\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport java.util.HashMap;\n\nimport com.google.gson.Gson;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\nimport com.proj.DAO.DBConnector;\nimport com.proj.SqlQueryGenerator;\n\npublic class CustomerDataJsonCreator {\n    \n    private Connection conn = null;\n    private PreparedStatement preparedStatement = null;\n    private ResultSet resultSet = null;\n    private HashMap&lt;String,Object&gt; record= null;\n    private ArrayList&lt;Object&gt; arrayList = new ArrayList&lt;Object&gt;();\n    private String data = null;\n    private JsonElement element = null;\n    private JsonObject object = new JsonObject();\n\n\n    //connection to DB\n    public CustomerDataJsonCreator() {\n        conn = DBConnector.conDB();\n    }\n\n\n    public String execute() {\n            \n            setPreparedStatement(SqlQueryGenerator.generator(&quot;Select&quot;));\n            preparedStatement = getPreparedStatement();\n            \n            setResultSet(preparedStatement);\n            resultSet = getResultSet();\n        \n        try {\n            \n            while (resultSet.next()) {\n                 record = new HashMap&lt;&gt;();\n                 record.put(&quot;pk_id&quot;,resultSet.getInt(1));\n                 record.put(&quot;acct_doc_header_id&quot;, resultSet.getInt(2));\n                 record.put(&quot;company_id&quot;, resultSet.getInt(3));\n                 record.put(&quot;document_number&quot;, resultSet.getInt(4));\n                 record.put(&quot;document_number_norm&quot;, resultSet.getInt(5));\n                 record.put(&quot;business_code&quot;, resultSet.getString(6));\n                 record.put(&quot;create_year&quot;, resultSet.getString(7));\n                 record.put(&quot;document_line_number&quot;, resultSet.getInt(8));\n                 record.put(&quot;doctype&quot;, resultSet.getString(9));\n                 record.put(&quot;customer_number&quot;, resultSet.getInt(10));\n                 record.put(&quot;customer_number_norm&quot;, resultSet.getInt(11));\n                 record.put(&quot;fk_customer_map_id&quot;, resultSet.getInt(12));\n                 record.put(&quot;customer_name&quot;, resultSet.getString(13));\n                 record.put(&quot;division&quot;, resultSet.getString(14));\n                 record.put(&quot;document_create_date&quot;, resultSet.getDate(15));\n                 record.put(&quot;document_create_date_norm&quot;, resultSet.getDate(16));\n                 record.put(&quot;posting_date&quot;, resultSet.getDate(17));\n                 record.put(&quot;posting_date_norm&quot;, resultSet.getDate(18));\n                 record.put(&quot;posting_id&quot;, resultSet.getString(19));\n                 record.put(&quot;due_date&quot;, resultSet.getDate(20));\n                 record.put(&quot;due_date_norm&quot;, resultSet.getDate(21));\n                 record.put(&quot;order_date&quot;, resultSet.getDate(22));\n                 record.put(&quot;order_date_norm&quot;, resultSet.getDate(23));\n                 record.put(&quot;invoice_id&quot;, resultSet.getInt(24));\n                 record.put(&quot;invoice_id_norm&quot;, resultSet.getInt(25));\n                 record.put(&quot;baseline_create_date&quot;, resultSet.getDate(26));\n                 record.put(&quot;invoice_date_norm&quot;, resultSet.getDate(27));\n                 record.put(&quot;total_open_amount&quot;, resultSet.getFloat(28));\n                 record.put(&quot;total_open_amount_norm&quot;, resultSet.getFloat(29));\n                 record.put(&quot;cust_payment_terms&quot;, resultSet.getInt(30));\n                 record.put(&quot;business_area&quot;, resultSet.getString(31));\n                 record.put(&quot;ship_date&quot;, resultSet.getDate(32));\n                 record.put(&quot;ship_to&quot;, resultSet.getString(33));\n                 record.put(&quot;clearing_date&quot;, resultSet.getDate(34));\n                 record.put(&quot;clearing_date_norm&quot;, resultSet.getDate(35));\n                 record.put(&quot;reason_code&quot;, resultSet.getString(36));\n                 record.put(&quot;isOpen&quot;, resultSet.getInt(37));\n                 record.put(&quot;discount_due_date_norm&quot;, resultSet.getDate(38));\n                 record.put(&quot;debit_credit_indicator&quot;, resultSet.getString(39));\n                 record.put(&quot;payment_method&quot;, resultSet.getString(40));\n                 record.put(&quot;document_creation_date&quot;, resultSet.getDate(41));\n                 record.put(&quot;invoice_amount_doc_currency&quot;, resultSet.getFloat(42));\n                 record.put(&quot;document_id&quot;, resultSet.getInt(43));\n                 record.put(&quot;actual_open_amount&quot;, resultSet.getFloat(44));\n                 record.put(&quot;paid_amount&quot;, resultSet.getFloat(45));\n                 record.put(&quot;dayspast_due&quot;, resultSet.getInt(46));\n                 record.put(&quot;invoice_age&quot;, resultSet.getInt(47));\n                 record.put(&quot;disputed_amount&quot;, resultSet.getFloat(48));\n                 \n                 setArrayList(record);\n            }\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n        \n        \n        getArrayList();\n        \n        setJsonData(getArrayList()); \n        getJsonData();\n        System.out.println(getJsonData());\n         \n        return  &quot;Success&quot;;\n    }\n    \n    public void setJsonData(ArrayList&lt;Object&gt; arrayList) {\n        Gson gson = new Gson();\n        this.element = new JsonParser().parse(gson.toJson(arrayList));\n        object.add(&quot;customerDetail&quot;, this.element);\n        this.data = object.toString();\n    }\n    \n    public String getJsonData() {\n        return this.data;\n    }\n    \n    public void setPreparedStatement(String value) {\n            try {\n                this.preparedStatement = conn.prepareStatement(value);\n            } catch (SQLException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n    }\n    \n    public PreparedStatement getPreparedStatement() {\n        return this.preparedStatement;\n    }\n    \n    public void setResultSet(PreparedStatement preparedStatement){\n        try {\n            this.resultSet = preparedStatement.executeQuery();\n        } catch (SQLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n    \n    public ResultSet getResultSet() {\n        return this.resultSet;\n    }\n    \n    public void setArrayList(HashMap&lt;String,Object&gt; record) {\n        arrayList.add(record);\n        \n    }\n    \n    public ArrayList&lt;Object&gt; getArrayList(){\n        return this.arrayList;\n    }\n\n}\n\n</code></pre>\n<p>My Extjs code is:</p>\n<pre><code>var gridContainer = function() {\nExt.define('User', {\n   extend: 'Ext.data.Model',\n   fields: [\n      'pkId',\n           'acctDocHeaderId',\n  'companyId',\n  'documentNumber',\n  'documentNumberNorm',\n  'businessCode',\n  'createYear',\n  'documentLineNumber',\n  'docType',\n  'customerNumber',      \n  'customerNumberNorm',      \n  'fkCustomerMapId',\n  'customerName',\n  'division',\n  'documentCreateDate',\n  'documentCreateDateNorm',\n  'postingDate',\n  'postingDateNorm',\n  'postingID',\n  'dueDate',\n  'dueDateNorm',\n  'orderDate',\n  'orderDateNorm',\n  'invoiceID',\n  'invoiceIDNorm',\n  'baseLineCreateDate',\n  'invoiceDateNorm',\n  'totalOpenAmount',\n  'totalOpenAmountNorm',\n  'custPaymentTerms',\n  'businessArea',\n  'shipDate',\n  'shipTo',\n  'clearingDate',\n  'clearingDateNorm',\n  'reasonCode',\n  'isOpen',\n  'discountDueDateNorm',\n  'debitCreditIndicator',\n  'paymentMethod',\n  'documentCreationDate',\n  'invoiceAmountDocCurrency',\n  'documentID',\n  'actualOpenAmount',\n  'paidAmount',\n  'daysPastDue',\n  'invoiceAge',\n  'disputedAmount',\n  ]\n});\n\n//number of items in a page\nvar itemsPerPage = 5\n\n//user store\nvar userStore = Ext.create('Ext.data.Store', {\n   model: 'User',\n   pageSize: itemsPerPage,\n   storeId: 'userStore',\n   proxy: {\n    type: 'ajax',\n    url: 'generateCustomerJson',\n   // url: 'http://localhost:8080/1705188/customerDataJsonCreator?value='.concat(),\n    reader: {\n        type: 'json',\n        totalProperty: 'total',\n        rootProperty: 'customerDetail',\n    }\n   },\n   autoLoad: true\n});\nconsole.log(userStore);\n\n//business store\nvar businessStore = Ext.create('Ext.data.Store', {\n     storeId: 'businessStore',\n     proxy: {\n    type: 'ajax',\n    url: 'http://localhost:8080/1705188/companyCodeJsonCreator',\n    reader: {\n    type: 'json',\n    totalProperty: 'total',\nrootProperty: 'customerCode'\n    }\n   },\n   autoLoad: true\n  });\n\n//sending the data to the server\n// userStore.load({\n//params: {\n//start: 0,\n//limit: itemsPerPage,\n//}\n//});\n\n//grid\nExt.create('Ext.grid.Panel', {\nrenderTo: Ext.get('ext-js-grid'),\n   store: userStore,\n   width: '100%',\n   id: 'employee-list',\n   title: 'List of Employees',\n   selType: 'checkboxmodel',\n   autoLoad: true,\n   columns: [{\n       text: 'Company ID',\n       sortable: true,\n       dataIndex: 'pk_id',\n       flx: 3\n   }, {\n       text: 'Account Header ID',\n       dataIndex: 'acct_doc_header_id',\n       minWidth: 150\n   }, {\n    text: 'Document Number',\n    dataIndex: 'document_number',\n    minWidth: 150\n   }, {\n    text: 'Document Number Normalised',\n    dataIndex: 'document_number_norm',\n    minWidth: 250\n   }, {\n    text: 'Business Code',\n    dataIndex: 'business_code',\n    minWidth: 150\n   }, {\n    text: 'Create Year',\n    dataIndex: 'create_year',\n    minWidth: 150\n   }, {\n    text: 'Document Line number',\n    dataIndex: 'document_line_number',\n    minWidth: 300\n   }, {\n    text: 'Document Type',\n    dataIndex: 'doctype',\n    minWidth: 150\n   },{\n    text: 'Customer Number',\n    dataIndex: 'customer_number',\n    minWidth: 150\n   },{\n    text: 'Customer Number Normalised',\n    dataIndex: 'customer_number_norm',\n    minWidth: 350\n   }, {\n    text: 'Customer Map ID',\n    dataIndex: 'fk_customer_map_id',\n    minWidth: 150\n   }, {\n    text: 'Name Of Customer',\n    dataIndex: 'customer_name',\n    minWidth: 150\n   }, {\n    text: 'Division',\n    dataIndex: 'division',\n    minWidth: 150\n   }, {\n    text: 'Document Create Date',\n    dataIndex: 'document_create_date',\n    minWidth: 300\n   }, {\n    text: 'Document Create Date Normalised',\n    dataIndex: 'document_create_date_norm',\n    minWidth: 350\n   }, {\n    text: 'Posting date',\n    dataIndex: 'posting_date',\n    minWidth: 150\n   }, {\n    text: 'Posting Date Normalised',\n    dataIndex: 'posting_date_norm',\n    minWidth: 300\n   }, {\n    text: 'Posting ID',\n    dataIndex: 'posting_id',\n    minWidth: 150\n   }, {\n    text: 'Due In Date',\n    dataIndex: 'due_date',\n    minWidth: 150\n   }, {\n    text: 'Due In Date Normalised',\n    dataIndex: 'due_date_norm',\n    minWidth: 300\n   }, {\n    text: 'Order create Date',\n    dataIndex: 'order_date',\n    minWidth: 150\n   }, {\n    text: 'Order Create Date Normalised',\n    dataIndex: 'order_date_norm',\n    minWidth: 300\n   }, {\n    text: 'Baseline Date',\n    dataIndex: 'baseline_create_date',\n    minWidth: 150\n   }, {\n    text: 'Invoice Date',\n    dataIndex: 'invoice_date_norm',\n    minWidth: 150    \n   }, {\n    text: 'Invoice ID',\n    dataIndex: 'invoice_id',\n    minWidth: 150\n   }, {\n    text: 'Invoice ID Normalised',\n    dataIndex: 'invoice_id_norm',\n    minWidth: 250\n   }, {\n    text: 'Total Open Amount',\n    dataIndex: 'total_open_amount',\n    minWidth: 150\n   },{\n    text: 'Total Open Amount Normalised',\n    dataIndex: 'total_open_amount_norm',\n    minWidth: 350\n   }, {\n    text: 'Customer Payment Terms',\n    dataIndex: 'cust_payment_terms',\n    minWidth: 300\n   }, {\n    text: 'Area of Business',\n    dataIndex: 'bsiness_area',\n    minWidth: 150\n   }, {\n    text: 'Clear Date',\n    dataIndex: 'clearing_date',\n    minWidth: 150\n   },{\n    text: 'Clear Date Normalised',\n    dataIndex: 'clearing_date_norm',\n    minWidth: 350\n   }, {\n    text: 'Is Open Invoice',\n    dataIndex: 'isopen',\n    minWidth: 150\n   }, {\n    text: 'Shipping Date',\n    dataIndex: 'ship_date',\n    minWidth: 150\n   }, {\n    text: 'Shipping To',\n    dataIndex: 'ship_to',\n    minWidth: 150\n   },{\n    text: 'Reason Code',\n    dataIndex: 'reason_code',\n    minWidth: 150\n   }, {\n    text: 'Discount Due Date Normalised',\n    dataIndex: 'discount_due_date_norm',\n    minWidth: 300\n   }, {\n    text: 'Debit Credit Status',\n    dataIndex: 'debit_credit_indicator',\n    minWidth: 150\n   }, {\n    text: 'Payment Method',\n    dataIndex: 'payment_method',\n    minWidth: 150\n   }, {\n    text: 'Payment Amount',\n    dataIndex: 'paid_amount',\n    minWidth: 150\n   }, {\n    text: 'Days past Due date',\n    dataIndex: 'dayspast_due',\n    minWidth: 150\n   }, {\n    text: 'Doc Id',\n    dataIndex: 'document_id',\n    minWidth: 150\n   }, {\n    text: 'Document Create Date',\n    dataIndex: 'document_create_date',\n    minWidth: 350\n   }, {\n    text: 'Actual Amount Outstanding',\n    dataIndex: 'actual_open_amount',\n    minWidth: 350\n   }, {\n    text: 'Age of Invoice',\n    dataIndex: 'invoice_age',\n    minWidth: 150\n   }, {\n    text: 'Invoice Currency',\n    dataIndex: 'invoice_amount_doc_currency',\n    minWidth: 150\n   }, {\n    text: 'Dispute Amount',\n    dataIndex: 'disputed_amount',\n    minWidth: 150\n   },],\n   dockedItems: [{\n    xtype: 'pagingtoolbar',\n    store: 'userStore',\n    dock: 'bottom',\n    displayInfo: true\n   }],\n   buttons: [\n    {\n    text: 'Add',\n       handler: function () {\n           var userWindow = Ext.create('Ext.window.Window', {\n               title: 'Add Invoice Details',\n               height: 600,\n               width: 600,\n               layout: 'fit',\n               bodyPadding: '8',\n               items: {\n                   xtype: 'form',\n                   border: false,\n                   defaultType: 'textfield',\n                   items: [{\n                       fieldLabel: 'Company Code',\n                       name: 'companyCode',\n                       id: 'companyCode',\n                       xtype: 'combobox',\n                       store: businessStore,\n                       displayField: 'business_code',\n                       queryMode: 'local',\n                       filterPickList :true,\n                       width: '100%',\n                       labelWidth: 150,\n                       allowBlank: false\n                   }, , {\n                       fieldLabel: 'Document Number',\n                       name: 'documentNumber',\n                       id: 'documentNumber',\n                       width: '100%',\n                       vtype: 'alphanum',\n                       labelWidth: 150,\n                       allowBlank: false\n                   }, {\n                       fieldLabel: 'Customer Name',\n                       name: 'customerName',\n                       id: 'customerName',\n                       width: '100%',\n                       labelWidth: 150,\n                       vtype: 'alphanum',\n                       allowBlank: false\n                   }, {\n                       xtype: 'numberfield',\n                       fieldLabel: 'Invoice Id',\n                       name: 'invoiceId',\n                       id :'invoiceId',\n                       width: '100%',\n                       labelWidth: 150,\n                       allowBlank: false\n                   }, {\n                       fieldLabel: 'Open Amount',\n                       name: 'openAmount',\n                       id: 'openAmount',\n                       width: '100%',\n                       labelWidth: 150,\n                       disabled: true,\n                       allowBlank: false\n                   }, {\n                       xtype: 'fieldcontainer',\n                       fieldLabel: 'Is Open Invoice',\n                       defaultType: 'radiofield',\n                       id: 'isOpen',\n                       layout: 'hbox',\n                       labelWidth: 150,\n                       allowBlank: false,\n                       items: [{\n                           boxLabel: 'Yes',\n                           name: 'isOpenInvoice',\n                           inputValue: 'y',\n                           id: 'yesRadioButton',\n                           flex: 1\n                       }, {\n                           boxLabel: 'No',\n                           name: 'isOpenInvoice',\n                           inputValue: 'n',\n                           id: 'noRadioButton',\n                           flex: 1\n                       }]\n                   },{\n                       xtype: 'fieldcontainer',\n                       fieldLabel: 'Payment Method',\n                       defaultType: 'checkboxfield',\n                       id: 'paymentMethod',\n                       layout: 'hbox',\n                       allowBlank: false,\n                       labelWidth: 150,\n                       items: [\n                           {\n                               boxLabel  : 'Check',\n                               name      : 'paymentMethod',\n                               inputValue: '1',\n                               id        : 'checkCheckBox',\n                               checked   : true,\n                               flex: 1\n                           }, {\n                               boxLabel  : 'ACH',\n                               name      : 'paymentMethod',\n                               inputValue: '2',\n                               id        : 'achCheckBox',\n                               flex: 1\n                           }, {\n                               boxLabel  : 'Online',\n                               name      : 'paymentMethod',\n                               inputValue: '3',\n                               id        : 'onlineCheckBox'\n                           }\n                       ]\n                   }, {\n                       fieldLabel: 'Payment Amount',\n                       name: 'paymentAmount',\n                       id: 'paymentAmount',\n                       width: '100%',\n                       labelWidth: 150,\n                       disabled: true\n                   }, {\n                       fieldLabel: 'Division',\n                       name: 'division',\n                       id: 'division',\n                       width: '100%',\n                       labelWidth: 150,\n                       emptyText: 'Enter Division Email Id',\n                       vtype: 'email'\n                   }],\n                   dockedItems: [{\n                       xtype: 'toolbar',\n                       dock: 'bottom',\n                        layout: {\n                       type: 'hbox',\n                       align: 'center',\n                       pack: 'middle'\n                   },\n                       items: [{\n                           xtype: 'button',\n                           text: 'Save',\n                           formBind: true,\n                           disabled: true,\n                           handler: function() {\n                               var form = this.up('form').getForm().getValues();\n                               console.log(form);\n                               Ext.Ajax.request({\n                                url: 'http://localhost:8080/1705188/addInvoice',\n                                method: 'GET',\n                                params: {\n                                company_id: Ext.getCmp('companyCode').getValue(),\n                                document_number: Ext.getCmp('documentNumber').getValue(),\n                                customer_name: Ext.getCmp('customerName').getValue(),\n                                invoice_id: Ext.getCmp('invoiceId').getValue,\n                                total_open_amount: Ext.getCmp('openAmount').getValue(),\n                                isOpen: Ext.getCmp('yesRadioButton').getValue(),\n                                payment_method: Ext.getCmp('checkCheckBox').getValue(),\n                                paid_amount: Ext.getCmp('paymentAmount').getValue(),\n                                division: Ext.getCmp('division').getValue()\n                               },\n                               success: function(){\n                                Ext.Msg.alert('Saved','Your data has been added');\n                                Ext.getCmp('employee-list').getView().refresh();\n                               },\n                               failure: function(){\n                                Ext.Msg.alert('Error','Your data could not be saved');\n                               }\n                               });\n                               userWindow.close();\n                           }\n                       }, {\n                           xtype: 'button',\n                           text: 'Cancel'\n                       }],\n                       \n                   }]\n               }\n           });\n\n           userWindow.show();\n       }\n   }]\n});\n};\n\nExt.onReady(gridContainer);\n</code></pre>\n<p>My console output in Eclipse is:</p>\n<pre><code>{&quot;customerDetail&quot;:[{&quot;total_open_amount_norm&quot;:0.0,&quot;pk_id&quot;:1,&quot;customer_number&quot;:228448,&quot;business_code&quot;:&quot;Faes6&quot;,&quot;posting_id&quot;:&quot;&quot;,&quot;document_id&quot;:544073954,&quot;customer_number_norm&quot;:228448,&quot;invoice_age&quot;:78,&quot;division&quot;:&quot;&quot;,&quot;reason_code&quot;:&quot;&quot;,&quot;acct_doc_header_id&quot;:544073954,&quot;dayspast_due&quot;:18,&quot;debit_credit_indicator&quot;:&quot;&quot;,&quot;invoice_id&quot;:48289611,&quot;document_line_number&quot;:-1,&quot;document_create_date&quot;:&quot;Apr 15, 2019&quot;,&quot;document_create_date_norm&quot;:&quot;Apr 15, 2019&quot;,&quot;payment_method&quot;:&quot;&quot;,&quot;clearing_date&quot;:&quot;Jul 2, 2019&quot;,&quot;document_number&quot;:48289611,&quot;company_id&quot;:60,&quot;total_open_amount&quot;:0.0,&quot;clearing_date_norm&quot;:&quot;Jul 2, 2019&quot;,&quot;fk_customer_map_id&quot;:-1,&quot;business_area&quot;:&quot;&quot;,&quot;document_number_norm&quot;:48289611,&quot;doctype&quot;:&quot;RI&quot;,&quot;cust_payment_terms&quot;:60,&quot;isOpen&quot;:0,&quot;invoice_id_norm&quot;:48289611,&quot;create_year&quot;:&quot;&quot;,&quot;actual_open_amount&quot;:8166.52,&quot;paid_amount&quot;:8166.52,&quot;disputed_amount&quot;:0.0,&quot;customer_name&quot;:&quot;Fatboy Industries&quot;,&quot;ship_to&quot;:&quot;&quot;,&quot;invoice_amount_doc_currency&quot;:8166.52},{&quot;total_open_amount_norm&quot;:0.0,&quot;pk_id&quot;:2,&quot;customer_number&quot;:228089,&quot;business_code&quot;:&quot;cvrp1&quot;,&quot;posting_id&quot;:&quot;&quot;,&quot;document_id&quot;:540062945,&quot;customer_number_norm&quot;:228089,&quot;invoice_age&quot;:56,&quot;division&quot;:&quot;&quot;,&quot;reason_code&quot;:&quot;&quot;,&quot;acct_doc_header_id&quot;:540062945,&quot;dayspast_due&quot;:-4,&quot;debit_credit_indicator&quot;:&quot;&quot;,&quot;invoice_id&quot;:40134128,&quot;document_line_number&quot;:-1,&quot;document_create_date&quot;:&quot;Aug 3, 2018&quot;,&quot;document_create_date_norm&quot;:&quot;Aug 3, 2018&quot;,&quot;payment_method&quot;:&quot;&quot;,&quot;clearing_date&quot;:&quot;Sep 28, 2018&quot;,&quot;document_number&quot;:40134128,&quot;company_id&quot;:60,&quot;total_open_amount&quot;:0.0,&quot;clearing_date_norm&quot;:&quot;Sep 28, 2018&quot;,&quot;fk_customer_map_id&quot;:-1,&quot;business_area&quot;:&quot;&quot;,&quot;document_number_norm&quot;:40134128,&quot;doctype&quot;:&quot;RI&quot;,&quot;cust_payment_terms&quot;:60,&quot;isOpen&quot;:0,&quot;invoice_id_norm&quot;:40134128,&quot;create_year&quot;:&quot;&quot;,&quot;actual_open_amount&quot;:5027.5,&quot;paid_amount&quot;:5027.5,&quot;disputed_amount&quot;:0.0,&quot;customer_name&quot;:&quot;cvMaker corp&quot;,&quot;ship_to&quot;:&quot;&quot;,&quot;invoice_amount_doc_currency&quot;:5027.5},{&quot;total_open_amount_norm&quot;:0.0,&quot;pk_id&quot;:3,&quot;customer_number&quot;:228098,&quot;business_code&quot;:&quot;skes8&quot;,&quot;posting_id&quot;:&quot;&quot;,&quot;document_id&quot;:537291313,&quot;customer_number_norm&quot;:228098,&quot;invoice_age&quot;:53,&quot;division&quot;:&quot;&quot;,&quot;reason_code&quot;:&quot;&quot;,&quot;acct_doc_header_id&quot;:537291313,&quot;dayspast_due&quot;:-7,&quot;debit_credit_indicator&quot;:&quot;&quot;,&quot;invoice_id&quot;:36548810,&quot;document_line_number&quot;:-1,&quot;document_create_date&quot;:&quot;Mar 13, 2018&quot;,&quot;document_create_date_norm&quot;:&quot;Mar 13, 2018&quot;,&quot;payment_method&quot;:&quot;&quot;,&quot;clearing_date&quot;:&quot;May 5, 2018&quot;,&quot;document_number&quot;:36548810,&quot;company_id&quot;:60,&quot;total_open_amount&quot;:0.0,&quot;clearing_date_norm&quot;:&quot;May 5, 2018&quot;,&quot;fk_customer_map_id&quot;:-1,&quot;business_area&quot;:&quot;&quot;,&quot;document_number_norm&quot;:36548810,&quot;doctype&quot;:&quot;RI&quot;,&quot;cust_payment_terms&quot;:60,&quot;isOpen&quot;:0,&quot;invoice_id_norm&quot;:36548810,&quot;create_year&quot;:&quot;&quot;,&quot;actual_open_amount&quot;:270.0,&quot;paid_amount&quot;:270.0,&quot;disputed_amount&quot;:0.0,&quot;customer_name&quot;:&quot;skynetpwc softwares&quot;,&quot;ship_to&quot;:&quot;&quot;,&quot;invoice_amount_doc_currency&quot;:270.0},{&quot;total_open_amount_norm&quot;:0.0,&quot;pk_id&quot;:4,&quot;customer_number&quot;:218997,&quot;business_code&quot;:&quot;nuus8&quot;,&quot;posting_id&quot;:&quot;&quot;,&quot;document_id&quot;:539694838,&quot;customer_number_norm&quot;:218997,&quot;invoice_age&quot;:63,&quot;division&quot;:&quot;&quot;,&quot;reason_code&quot;:&quot;&quot;,&quot;acct_doc_header_id&quot;:539694838,&quot;dayspast_due&quot;:3,&quot;debit_credit_indicator&quot;:&quot;&quot;,&quot;invoice_id&quot;:39579444,&quot;document_line_number&quot;:-1,&quot;document_create_date&quot;:&quot;Jul 11, 2018&quot;,&quot;document_create_date_norm&quot;:&quot;Jul 11, 2018&quot;,&quot;payment_method&quot;:&quot;&quot;,&quot;clearing_date&quot;:&quot;Sep 12, 2018&quot;,&quot;document_number&quot;:39579444,&quot;company_id&quot;:60,&quot;total_open_amount&quot;:0.0,&quot;clearing_date_norm&quot;:&quot;Sep 12, 2018&quot;,&quot;fk_customer_map_id&quot;:-1,&quot;business_area&quot;:&quot;&quot;,&quot;document_number_norm&quot;:39579444,&quot;doctype&quot;:&quot;RI&quot;,&quot;cust_payment_terms&quot;:60,&quot;isOpen&quot;:0,&quot;invoice_id_norm&quot;:39579444,&quot;create_year&quot;:&quot;&quot;,&quot;actual_open_amount&quot;:158.94,&quot;paid_amount&quot;:158.94,&quot;disputed_amount&quot;:0.0,&quot;customer_name&quot;:&quot;nucleus&quot;,&quot;ship_to&quot;:&quot;&quot;,&quot;invoice_amount_doc_currency&quot;:158.94},{&quot;total_open_amount_norm&quot;:0.0,&quot;pk_id&quot;:5,&quot;customer_number&quot;:226550,&quot;business_code&quot;:&quot;syps7&quot;,&quot;posting_id&quot;:&quot;&quot;,&quot;document_id&quot;:537094052,&quot;customer_number_norm&quot;:226550,&quot;invoice_age&quot;:62,&quot;division&quot;:&quot;&quot;,&quot;reason_code&quot;:&quot;&quot;,&quot;acct_doc_header_id&quot;:537094052,&quot;dayspast_due&quot;:2,&quot;debit_credit_indicator&quot;:&quot;&quot;,&quot;invoice_id&quot;:36266913,&quot;document_line_number&quot;:-1,&quot;document_create_date&quot;:&quot;Mar 1, 2018&quot;,&quot;document_create_date_norm&quot;:&quot;Mar 1, 2018&quot;,&quot;payment_method&quot;:&quot;&quot;,&quot;clearing_date&quot;:&quot;May 2, 2018&quot;,&quot;document_number&quot;:36266913,&quot;company_id&quot;:60,&quot;total_open_amount&quot;:0.0,&quot;clearing_date_norm&quot;:&quot;May 2, 2018&quot;,&quot;fk_customer_map_id&quot;:-1,&quot;business_area&quot;:&quot;&quot;,&quot;document_number_norm&quot;:36266913,&quot;doctype&quot;:&quot;RI&quot;,&quot;cust_payment_terms&quot;:60,&quot;isOpen&quot;:0,&quot;invoice_id_norm&quot;:36266913,&quot;create_year&quot;:&quot;&quot;,&quot;actual_open_amount&quot;:5962.81,&quot;paid_amount&quot;:5962.81,&quot;disputed_amount&quot;:0.0,&quot;customer_name&quot;:&quot;system ops&quot;,&quot;ship_to&quot;:&quot;&quot;,&quot;invoice_amount_doc_currency&quot;:5962.81}]}\n</code></pre>\n<p>And the error I am getting on the browser while running the server is:\n<a href=\"https://i.stack.imgur.com/rVCPx.png\" rel=\"nofollow noreferrer\">Output of the project</a></p>\n<p>Any help would be appreciated.<br>\n<strong>Edit:</strong><br>\nI actually figured out the root of the error. My struts2 action class is not returning the json data and hence, extjs is not able to decode it. I am fairly new to struts2, so I dont know how to do that.\n<br>\n<strong>Edit:</strong><br> My error was resolved. Thanks for the help.<br>Actually, problem was in my struts.xml file.<br>\n<strong>Edited struts.xml</strong> file is given below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE struts PUBLIC\n   &quot;-//Apache Software Foundation//DTD Struts Configuration 2.5//EN&quot;\n   &quot;http://struts.apache.org/dtds/struts-2.5.dtd&quot;&gt;\n\n&lt;struts&gt;\n    &lt;package name=&quot;default&quot; extends=&quot;json-default&quot;&gt;\n        &lt;action \n            name = &quot;generateCustomerJson&quot; \n            class = &quot;com.proj.Action.CustomerDataJsonCreator&quot;&gt;\n            &lt;result name = &quot;Success&quot; type=&quot;json&quot;&gt;\n                &lt;param name = &quot;root&quot;&gt;arrayList&lt;/param&gt;\n            &lt;/result&gt;\n        &lt;/action&gt;\n    &lt;/package&gt;\n&lt;/struts&gt;\n\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":3,"creation_date":1684153735,"post_id":76253996,"comment_id":134470669,"body_markdown":"Are you saying that method [removeIf](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#removeIf(java.util.function.Predicate)) is not sufficient?","body":"Are you saying that method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#removeIf(java.util.function.Predicate)\" rel=\"nofollow noreferrer\">removeIf</a> is not sufficient?"},{"owner":{"account_id":15317666,"reputation":87,"user_id":11051112,"display_name":"amangupta"},"score":0,"creation_date":1684154075,"post_id":76253996,"comment_id":134470758,"body_markdown":"Considering some performance aspects removeIf might be inefficient ( Runtime POV ).","body":"Considering some performance aspects removeIf might be inefficient ( Runtime POV )."}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684153869,"creation_date":1684153869,"answer_id":76254101,"question_id":76253996,"body_markdown":"`Stream`s cannot not modify the underlying list in-place. If you need to modify the collection itself, either use the `removeIf` method like you already mentioned, or use an iterator:\r\n\r\n```\r\nIterator&lt;Product&gt; iterator = products.iterator()\r\nwhile (iterator.hasNext()) {\r\n  Product next = iterator.next()\r\n  if (/* filter using next value */) iterator.remove()\r\n}\r\n```","title":"Inplace filter and collect to List","body":"<p><code>Stream</code>s cannot not modify the underlying list in-place. If you need to modify the collection itself, either use the <code>removeIf</code> method like you already mentioned, or use an iterator:</p>\n<pre><code>Iterator&lt;Product&gt; iterator = products.iterator()\nwhile (iterator.hasNext()) {\n  Product next = iterator.next()\n  if (/* filter using next value */) iterator.remove()\n}\n</code></pre>\n"}],"owner":{"account_id":15317666,"reputation":87,"user_id":11051112,"display_name":"amangupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684153994,"creation_date":1684153172,"question_id":76253996,"body_markdown":"Required a snippet demonstrating how filtering and collecting can be done inplace on a list?\r\n\r\nFor example, I have:\r\n\r\n```\r\nfilteredProducts = Products.stream().filter(product -&gt; {\r\n  // filtering on some parameters\r\n}).collect(Collectors.toList());\r\n```\r\n\r\nI wanted to do something inplace filtering in the Products collection itself.\r\n\r\nSomething like (illegal): \r\n\r\n```\r\nProducts.stream().filter(product -&gt; {\r\n  // filtering on some parameters\r\n}).collect(\r\n  // collect to same list(collection)\r\n);\r\n```\r\n\r\nDo someone knows any legal way for doing inplace filtering on a collection? That will be helpful! Thanks a lot!\r\n\r\nPS: I already am using removeIf method, if that you were going to suggest!","title":"Inplace filter and collect to List","body":"<p>Required a snippet demonstrating how filtering and collecting can be done inplace on a list?</p>\n<p>For example, I have:</p>\n<pre><code>filteredProducts = Products.stream().filter(product -&gt; {\n  // filtering on some parameters\n}).collect(Collectors.toList());\n</code></pre>\n<p>I wanted to do something inplace filtering in the Products collection itself.</p>\n<p>Something like (illegal):</p>\n<pre><code>Products.stream().filter(product -&gt; {\n  // filtering on some parameters\n}).collect(\n  // collect to same list(collection)\n);\n</code></pre>\n<p>Do someone knows any legal way for doing inplace filtering on a collection? That will be helpful! Thanks a lot!</p>\n<p>PS: I already am using removeIf method, if that you were going to suggest!</p>\n"},{"tags":["java","oracle","mybatis","ibatis"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":2,"creation_date":1684154439,"post_id":76254025,"comment_id":134470844,"body_markdown":"what is a [mcve]?","body":"what is a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":26978029,"reputation":6997,"user_id":20542862,"display_name":"Paul W"},"score":0,"creation_date":1684155115,"post_id":76254025,"comment_id":134470998,"body_markdown":"Emmanuele, folks can&#39;t take the time to read through and digest this much code. Work on your issue until you get it down to the smallest amount of code possible and then if you still need help share that.","body":"Emmanuele, folks can&#39;t take the time to read through and digest this much code. Work on your issue until you get it down to the smallest amount of code possible and then if you still need help share that."},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1684160537,"post_id":76254025,"comment_id":134472336,"body_markdown":"@EmmanueleGuerriero This portable [project](https://github.com/harawata/mybatis-issues/tree/master/so-56834806) demonstrates what you are trying to achieve, I think. If not, please create a small project like that and share it on your GitHub repo so that we can reproduce the error on our end. And, like the experts say, try to minimize the number of objects/tables/columns/etc..","body":"@EmmanueleGuerriero This portable <a href=\"https://github.com/harawata/mybatis-issues/tree/master/so-56834806\" rel=\"nofollow noreferrer\">project</a> demonstrates what you are trying to achieve, I think. If not, please create a small project like that and share it on your GitHub repo so that we can reproduce the error on our end. And, like the experts say, try to minimize the number of objects/tables/columns/etc.."}],"owner":{"account_id":26965255,"reputation":13,"user_id":20532252,"display_name":"Emmanuele Guerriero"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684153369,"creation_date":1684153369,"question_id":76254025,"body_markdown":"i&#39;m trying to call a stored procedure with few parameter and one of them is a VARRAY of an OBJECT in Oracle DB. But i think the problem is with the parameters OUT. I&#39;m using MyBatis.\r\n\r\nThis is the procedure:\r\n```\r\nprocedure pr_log_admin(IN_nome_procedura in varchar2,\r\n                            IN_id_utente in number,\r\n                            IN_id_record in varchar2,\r\n                            IN_nome_tabella in varchar2,\r\n                            IN_altri_campi in V_ELENCO_CAMPI_MODIFICATI,\r\n                            err_text out varchar2,\r\n                            err_code out number)\r\n```\r\n\r\nThis the types:\r\n\r\n```\r\ncreate or replace TYPE          &quot;V_ELENCO_CAMPI_MODIFICATI&quot;                                          as varray(200) of ty_campi_modificati;\r\n```\r\n\r\n\r\n```\r\ncreate or replace TYPE          &quot;TY_CAMPI_MODIFICATI&quot;                                          AS OBJECT (\r\n\tnome_campo \t\tvarchar2(100),\r\n\tvalore_old\t\tvarchar2(100),\r\n\tvalore_new\t\tvarchar2(100)\r\n);\r\n\r\n```\r\n\r\n\r\nHere the mapper:\r\n\r\n```\r\n&lt;select id=&quot;log&quot; statementType=&quot;CALLABLE&quot;\r\n\t\tparameterType=&quot;com.ubiss.domain.logger.LoggedElement&quot;\r\n\t\tresultMap=&quot;loggedResult&quot;&gt;\r\n\t\t{call dynapp.pkg_log_admin.pr_log_admin(\r\n\t\t#{nomeProcedura, mode=IN, jdbcType=VARCHAR},\r\n\t\t#{idUser, mode=IN, jdbcType=NUMERIC},\r\n\t\t#{idRecord, mode=IN, jdbcType=VARCHAR},\r\n\t\t#{nomeTabella, mode=IN, jdbcType=VARCHAR},\r\n\t\t#{altriCampi, mode=IN, jdbcType=ARRAY},\r\n\t\t#{errText,jdbcType=VARCHAR, javaType=java.lang.String, mode=OUT},\r\n\t\t#{errCode,jdbcType=NUMERIC, javaType=java.lang.Long, mode=OUT}\r\n\t\t)}\r\n\t&lt;/select&gt;\r\n\r\n\t&lt;resultMap id=&quot;loggedResult&quot;\r\n\t\ttype=&quot;com.ubiss.domain.logger.LoggedElement&quot;&gt;\r\n\t\t&lt;id column=&quot;IN_nome_procedura&quot; property=&quot;nomeProcedura&quot; /&gt;\r\n\t\t&lt;id column=&quot;IN_id_utente&quot; property=&quot;idUtente&quot; /&gt;\r\n\t\t&lt;id column=&quot;IN_id_record&quot; property=&quot;idRecord&quot; /&gt;\r\n\t\t&lt;id column=&quot;IN_nome_tabella&quot; property=&quot;nomeTabella&quot; /&gt;\r\n\t\t&lt;id column=&quot;IN_altri_campi&quot; property=&quot;altriCampi&quot; typeHandler=&quot;com.ubiss.domain.logger.ElencoCampiTypeHandler&quot; /&gt;\r\n\t\t&lt;id column=&quot;err_text&quot; property=&quot;errText&quot; /&gt;\r\n\t\t&lt;id column=&quot;err_code&quot; property=&quot;errCode&quot; /&gt;\r\n\t&lt;/resultMap&gt;\r\n```\r\n\r\nHere Java classes:\r\n\r\n```\r\npublic interface LoggerDao {\r\n\t\r\n\tpublic LoggedElement log(LoggedElement elementLogged);\r\n}\r\n```\r\n\r\n\r\n```\r\npackage com.ubiss.domain.logger;\r\n\r\nimport com.ubiss.domain.BaseSpResult;\r\n\r\npublic class LoggedElement extends BaseSpResult{\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\tprivate String nomeProcedura;\r\n\tprivate Long idUser;\r\n\tprivate String idRecord;\r\n\tprivate String nomeTabella;\r\n\tprivate ElencoCampiModificati altriCampi;\r\n\t\r\n\tpublic LoggedElement() {}\r\n\t\r\n\tpublic LoggedElement(String nomeProcedura, Long idUser, String idRecord, String nomeTabella,\r\n\t\t\tElencoCampiModificati altriCampi) {\r\n\t\tsuper();\r\n\t\tthis.nomeProcedura = nomeProcedura;\r\n\t\tthis.idUser = idUser;\r\n\t\tthis.idRecord = idRecord;\r\n\t\tthis.nomeTabella = nomeTabella;\r\n\t\tthis.altriCampi = altriCampi;\r\n\t}\r\n\tpublic String getNomeProcedura() {\r\n\t\treturn nomeProcedura;\r\n\t}\r\n\tpublic void setNomeProcedura(String nomeProcedura) {\r\n\t\tthis.nomeProcedura = nomeProcedura;\r\n\t}\r\n\tpublic Long getIdUser() {\r\n\t\treturn idUser;\r\n\t}\r\n\tpublic void setIdUser(Long idUser) {\r\n\t\tthis.idUser = idUser;\r\n\t}\r\n\tpublic String getIdRecord() {\r\n\t\treturn idRecord;\r\n\t}\r\n\tpublic void setIdRecord(String idRecord) {\r\n\t\tthis.idRecord = idRecord;\r\n\t}\r\n\tpublic String getNomeTabella() {\r\n\t\treturn nomeTabella;\r\n\t}\r\n\tpublic void setNomeTabella(String nomeTabella) {\r\n\t\tthis.nomeTabella = nomeTabella;\r\n\t}\r\n\tpublic ElencoCampiModificati getAltriCampi() {\r\n\t\treturn altriCampi;\r\n\t}\r\n\tpublic void setAltriCampi(ElencoCampiModificati altriCampi) {\r\n\t\tthis.altriCampi = altriCampi;\r\n\t}\r\n\tpublic static long getSerialversionuid() {\r\n\t\treturn serialVersionUID;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage com.ubiss.domain;\r\n\r\nimport java.io.Serializable;\r\n\r\npublic class BaseSpResult implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tprotected Long errCode;\r\n\tprotected String errText;\r\n\r\n\tpublic Long getErrCode() {\r\n\t\treturn errCode;\r\n\t}\r\n\r\n\tpublic void setErrCode(Long errCode) {\r\n\t\tthis.errCode = errCode;\r\n\t}\r\n\r\n\tpublic String getErrText() {\r\n\t\treturn errText;\r\n\t}\r\n\r\n\tpublic void setErrText(String errText) {\r\n\t\tthis.errText = errText;\r\n\t}\r\n\r\n\tpublic boolean isOk() {\r\n\t\treturn (errCode == null) || (errCode == 0);\r\n\t}\r\n\r\n\t/**\r\n\t * Builds an error description using errCode: errText Deprecated: Use\r\n\t * {@link buildDescription()} instead\r\n\t * \r\n\t * @return\r\n\t */\r\n\t@Deprecated()\r\n\tpublic String buildErrorDescription() {\r\n\t\tString errMsg = &quot;&quot;;\r\n\t\tif (!isOk()) {\r\n\t\t\terrMsg = errCode.toString();\r\n\t\t\tif (!&quot;&quot;.equals(errText) &amp;&amp; errText != null) {\r\n\t\t\t\terrMsg = errMsg + &quot;: &quot; + errText;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn errMsg;\r\n\t}\r\n\r\n\t/**\r\n\t * Builds a return description message using errCode: errText. Note that errCode and errText will also carry success code and text. \r\n\t * @return\r\n\t */\r\n\tpublic String buildDescription() {\r\n\t\tString errMsg = &quot;&quot;;\r\n\t\tif (errCode != null) {\r\n\t\t\terrMsg = errCode.toString();\r\n\t\t\tif (!&quot;&quot;.equals(errText) &amp;&amp; errText != null) {\r\n\t\t\t\terrMsg = errMsg + &quot;: &quot; + errText;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn errMsg;\r\n\t}\r\n\r\n\tpublic void cleanReturnCode() {\r\n\t\terrCode = null;\r\n\t\terrText = null;\r\n\t}\r\n\r\n\tpublic void buildGenericError() {\r\n\t\terrCode = -1L;\r\n\t\terrText = &quot;Errore generico&quot;;\r\n\t}\r\n\r\n\tpublic String toStatusString() {\r\n\t\treturn &quot;{errCode: &quot; + errCode + &quot;, errText: &quot; + errText + &quot;}&quot;;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n```\r\npackage com.ubiss.domain.logger;\r\n\r\nimport java.sql.Array;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.Arrays;\r\nimport java.util.Map;\r\n\r\npublic class ElencoCampiModificati implements Array{\r\n\tprivate CampoModificato[] campiModificati;\r\n\t\r\n\tpublic ElencoCampiModificati() {}\r\n\r\n\tpublic ElencoCampiModificati(CampoModificato[] campiModificati) {\r\n\t\tthis.campiModificati = campiModificati;\r\n\t}\r\n\r\n\tpublic CampoModificato[] getCampiModificati() {\r\n\t\treturn campiModificati;\r\n\t}\r\n\r\n\tpublic void setCampiModificati(CampoModificato[] campiModificati) {\r\n\t\tthis.campiModificati = campiModificati;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getBaseTypeName() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getBaseType() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getArray() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t return campiModificati == null ? null : Arrays.copyOf(campiModificati, campiModificati.length);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getArray(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn this.getArray();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getArray(long index, int count) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn campiModificati == null ? null : Arrays.copyOfRange(campiModificati, (int)index, (int)index + count );\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getArray(long index, int count, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn this.getArray(index, count);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ResultSet getResultSet() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tthrow new UnsupportedOperationException();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ResultSet getResultSet(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tthrow new UnsupportedOperationException();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ResultSet getResultSet(long index, int count) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tthrow new UnsupportedOperationException();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ResultSet getResultSet(long index, int count, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tthrow new UnsupportedOperationException();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void free() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage com.ubiss.domain.logger;\r\n\r\nimport java.io.Serializable;\r\nimport java.sql.SQLData;\r\nimport java.sql.SQLException;\r\nimport java.sql.SQLInput;\r\nimport java.sql.SQLOutput;\r\n\r\npublic class CampoModificato implements SQLData, Serializable{\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate String nome_campo;\r\n\tprivate String valore_old;\r\n\tprivate String valore_new;\r\n\t\r\n\tpublic CampoModificato() {}\r\n\t\r\n\tpublic CampoModificato(String nome_campo, String valore_old, String valore_new) {\r\n\t\tthis.nome_campo = nome_campo;\r\n\t\tthis.valore_old = valore_old;\r\n\t\tthis.valore_new = valore_new;\r\n\t}\r\n\tpublic String getNomeCampo() {\r\n\t\treturn nome_campo;\r\n\t}\r\n\tpublic void setNomeCampo(String nome_campo) {\r\n\t\tthis.nome_campo = nome_campo;\r\n\t}\r\n\tpublic String getValoreOld() {\r\n\t\treturn valore_old;\r\n\t}\r\n\tpublic void setValoreOld(String valore_old) {\r\n\t\tthis.valore_old = valore_old;\r\n\t}\r\n\tpublic String getValoreNew() {\r\n\t\treturn valore_new;\r\n\t}\r\n\tpublic void setValoreNew(String valore_new) {\r\n\t\tthis.valore_new = valore_new;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getSQLTypeName() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn &quot;TY_CAMPI_MODIFICATI&quot;;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void readSQL(SQLInput stream, String typeName) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void writeSQL(SQLOutput stream) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage com.ubiss.domain.logger;\r\n\r\nimport java.sql.Array;\r\nimport java.sql.CallableStatement;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.Arrays;\r\n\r\nimport org.apache.ibatis.type.JdbcType;\r\nimport org.apache.ibatis.type.TypeHandler;\r\n\r\nimport oracle.jdbc.driver.OracleConnection;\r\n\r\npublic class ElencoCampiTypeHandler implements TypeHandler&lt;ElencoCampiModificati&gt;{\r\n\r\n\t@Override\r\n\tpublic void setParameter(PreparedStatement ps, int i, ElencoCampiModificati parameter, JdbcType jdbcType)\r\n\t\t\tthrows SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tObject[] values = Arrays.stream(parameter.getCampiModificati()).toArray();\r\n\t\tArray arr = ps.getConnection().unwrap(OracleConnection.class).createARRAY(&quot;V_ELENCO_CAMPI_MODIFICATI&quot;, values);\r\n\t\tps.setArray(i, arr);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ElencoCampiModificati getResult(ResultSet rs, String columnName) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ElencoCampiModificati getResult(ResultSet rs, int columnIndex) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ElencoCampiModificati getResult(CallableStatement cs, int columnIndex) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nThis is the call:\r\n```\r\nString procedura = &quot;director_man.PKG_ANAG_CLIENTI.pr_AnagCensisci ---&gt; parameters: &quot;;\r\n\t\tprocedura.concat(&quot;doTrigger=&quot; + res.getDoTrigger() + &quot; - &quot;);\r\n\t\tprocedura.concat(&quot;doMigra=&quot; + res.getDoMigra() + &quot; - &quot;);\r\n\t\tprocedura.concat(&quot;doInit=&quot; + res.getDoInit() + &quot; - &quot;);\r\n\t\tprocedura.concat(&quot;doPulisci=&quot; + res.getDoPulisci() + &quot; - &quot;);\r\n\t\tprocedura.concat(&quot;ndgCoi=&quot; + res.getNdgCoi());\r\n\t\tCampoModificato mod = new CampoModificato(&quot;&quot;,&quot;&quot;,&quot;&quot;);\r\n\t\tCampoModificato[] arr = new CampoModificato[] {mod};\r\n\t\tElencoCampiModificati elenco = new ElencoCampiModificati(arr);\r\n\t\tLoggedElement logElement = new LoggedElement(procedura, Long.valueOf(1), &quot;&quot;, &quot;&quot;, elenco);\r\n\t\tloggerDao.log(logElement);\r\n```\r\n\r\n\r\n\r\nThis is the error:\r\n\r\n```\r\nCaused by: Error : 6550, Position : 6, Sql = BEGIN dynapp.pkg_log_admin.pr_log_admin(\r\n\t\t:1 ,\r\n\t\t:2 ,\r\n\t\t:3 ,\r\n\t\t:4 ,\r\n\t\t:5 ,\r\n\t\t:6 ,\r\n\t\t:7 \r\n\t\t); END;, OriginalSql = {call dynapp.pkg_log_admin.pr_log_admin(\r\n\t\t?,\r\n\t\t?,\r\n\t\t?,\r\n\t\t?,\r\n\t\t?,\r\n\t\t?,\r\n\t\t?\r\n\t\t)}, Error Msg = ORA-06550: riga 1, colonna 7:\r\n```\r\n\r\n\r\n\r\nI tried to check the names of the parameters and their order to not differ between code and db side","title":"ORA-06550: row 1, column 7: PLS-00306: ORA-06550: wrong number or types of arguments","body":"<p>i'm trying to call a stored procedure with few parameter and one of them is a VARRAY of an OBJECT in Oracle DB. But i think the problem is with the parameters OUT. I'm using MyBatis.</p>\n<p>This is the procedure:</p>\n<pre><code>procedure pr_log_admin(IN_nome_procedura in varchar2,\n                            IN_id_utente in number,\n                            IN_id_record in varchar2,\n                            IN_nome_tabella in varchar2,\n                            IN_altri_campi in V_ELENCO_CAMPI_MODIFICATI,\n                            err_text out varchar2,\n                            err_code out number)\n</code></pre>\n<p>This the types:</p>\n<pre><code>create or replace TYPE          &quot;V_ELENCO_CAMPI_MODIFICATI&quot;                                          as varray(200) of ty_campi_modificati;\n</code></pre>\n<pre><code>create or replace TYPE          &quot;TY_CAMPI_MODIFICATI&quot;                                          AS OBJECT (\n    nome_campo      varchar2(100),\n    valore_old      varchar2(100),\n    valore_new      varchar2(100)\n);\n\n</code></pre>\n<p>Here the mapper:</p>\n<pre><code>&lt;select id=&quot;log&quot; statementType=&quot;CALLABLE&quot;\n        parameterType=&quot;com.ubiss.domain.logger.LoggedElement&quot;\n        resultMap=&quot;loggedResult&quot;&gt;\n        {call dynapp.pkg_log_admin.pr_log_admin(\n        #{nomeProcedura, mode=IN, jdbcType=VARCHAR},\n        #{idUser, mode=IN, jdbcType=NUMERIC},\n        #{idRecord, mode=IN, jdbcType=VARCHAR},\n        #{nomeTabella, mode=IN, jdbcType=VARCHAR},\n        #{altriCampi, mode=IN, jdbcType=ARRAY},\n        #{errText,jdbcType=VARCHAR, javaType=java.lang.String, mode=OUT},\n        #{errCode,jdbcType=NUMERIC, javaType=java.lang.Long, mode=OUT}\n        )}\n    &lt;/select&gt;\n\n    &lt;resultMap id=&quot;loggedResult&quot;\n        type=&quot;com.ubiss.domain.logger.LoggedElement&quot;&gt;\n        &lt;id column=&quot;IN_nome_procedura&quot; property=&quot;nomeProcedura&quot; /&gt;\n        &lt;id column=&quot;IN_id_utente&quot; property=&quot;idUtente&quot; /&gt;\n        &lt;id column=&quot;IN_id_record&quot; property=&quot;idRecord&quot; /&gt;\n        &lt;id column=&quot;IN_nome_tabella&quot; property=&quot;nomeTabella&quot; /&gt;\n        &lt;id column=&quot;IN_altri_campi&quot; property=&quot;altriCampi&quot; typeHandler=&quot;com.ubiss.domain.logger.ElencoCampiTypeHandler&quot; /&gt;\n        &lt;id column=&quot;err_text&quot; property=&quot;errText&quot; /&gt;\n        &lt;id column=&quot;err_code&quot; property=&quot;errCode&quot; /&gt;\n    &lt;/resultMap&gt;\n</code></pre>\n<p>Here Java classes:</p>\n<pre><code>public interface LoggerDao {\n    \n    public LoggedElement log(LoggedElement elementLogged);\n}\n</code></pre>\n<pre><code>package com.ubiss.domain.logger;\n\nimport com.ubiss.domain.BaseSpResult;\n\npublic class LoggedElement extends BaseSpResult{\n    private static final long serialVersionUID = 1L;\n    \n    private String nomeProcedura;\n    private Long idUser;\n    private String idRecord;\n    private String nomeTabella;\n    private ElencoCampiModificati altriCampi;\n    \n    public LoggedElement() {}\n    \n    public LoggedElement(String nomeProcedura, Long idUser, String idRecord, String nomeTabella,\n            ElencoCampiModificati altriCampi) {\n        super();\n        this.nomeProcedura = nomeProcedura;\n        this.idUser = idUser;\n        this.idRecord = idRecord;\n        this.nomeTabella = nomeTabella;\n        this.altriCampi = altriCampi;\n    }\n    public String getNomeProcedura() {\n        return nomeProcedura;\n    }\n    public void setNomeProcedura(String nomeProcedura) {\n        this.nomeProcedura = nomeProcedura;\n    }\n    public Long getIdUser() {\n        return idUser;\n    }\n    public void setIdUser(Long idUser) {\n        this.idUser = idUser;\n    }\n    public String getIdRecord() {\n        return idRecord;\n    }\n    public void setIdRecord(String idRecord) {\n        this.idRecord = idRecord;\n    }\n    public String getNomeTabella() {\n        return nomeTabella;\n    }\n    public void setNomeTabella(String nomeTabella) {\n        this.nomeTabella = nomeTabella;\n    }\n    public ElencoCampiModificati getAltriCampi() {\n        return altriCampi;\n    }\n    public void setAltriCampi(ElencoCampiModificati altriCampi) {\n        this.altriCampi = altriCampi;\n    }\n    public static long getSerialversionuid() {\n        return serialVersionUID;\n    }\n}\n\n</code></pre>\n<pre><code>package com.ubiss.domain;\n\nimport java.io.Serializable;\n\npublic class BaseSpResult implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    protected Long errCode;\n    protected String errText;\n\n    public Long getErrCode() {\n        return errCode;\n    }\n\n    public void setErrCode(Long errCode) {\n        this.errCode = errCode;\n    }\n\n    public String getErrText() {\n        return errText;\n    }\n\n    public void setErrText(String errText) {\n        this.errText = errText;\n    }\n\n    public boolean isOk() {\n        return (errCode == null) || (errCode == 0);\n    }\n\n    /**\n     * Builds an error description using errCode: errText Deprecated: Use\n     * {@link buildDescription()} instead\n     * \n     * @return\n     */\n    @Deprecated()\n    public String buildErrorDescription() {\n        String errMsg = &quot;&quot;;\n        if (!isOk()) {\n            errMsg = errCode.toString();\n            if (!&quot;&quot;.equals(errText) &amp;&amp; errText != null) {\n                errMsg = errMsg + &quot;: &quot; + errText;\n            }\n        }\n        return errMsg;\n    }\n\n    /**\n     * Builds a return description message using errCode: errText. Note that errCode and errText will also carry success code and text. \n     * @return\n     */\n    public String buildDescription() {\n        String errMsg = &quot;&quot;;\n        if (errCode != null) {\n            errMsg = errCode.toString();\n            if (!&quot;&quot;.equals(errText) &amp;&amp; errText != null) {\n                errMsg = errMsg + &quot;: &quot; + errText;\n            }\n        }\n        return errMsg;\n    }\n\n    public void cleanReturnCode() {\n        errCode = null;\n        errText = null;\n    }\n\n    public void buildGenericError() {\n        errCode = -1L;\n        errText = &quot;Errore generico&quot;;\n    }\n\n    public String toStatusString() {\n        return &quot;{errCode: &quot; + errCode + &quot;, errText: &quot; + errText + &quot;}&quot;;\n    }\n\n}\n\n</code></pre>\n<pre><code>package com.ubiss.domain.logger;\n\nimport java.sql.Array;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.Arrays;\nimport java.util.Map;\n\npublic class ElencoCampiModificati implements Array{\n    private CampoModificato[] campiModificati;\n    \n    public ElencoCampiModificati() {}\n\n    public ElencoCampiModificati(CampoModificato[] campiModificati) {\n        this.campiModificati = campiModificati;\n    }\n\n    public CampoModificato[] getCampiModificati() {\n        return campiModificati;\n    }\n\n    public void setCampiModificati(CampoModificato[] campiModificati) {\n        this.campiModificati = campiModificati;\n    }\n\n    @Override\n    public String getBaseTypeName() throws SQLException {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public int getBaseType() throws SQLException {\n        // TODO Auto-generated method stub\n        return 0;\n    }\n\n    @Override\n    public Object getArray() throws SQLException {\n        // TODO Auto-generated method stub\n         return campiModificati == null ? null : Arrays.copyOf(campiModificati, campiModificati.length);\n    }\n\n    @Override\n    public Object getArray(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        // TODO Auto-generated method stub\n        return this.getArray();\n    }\n\n    @Override\n    public Object getArray(long index, int count) throws SQLException {\n        // TODO Auto-generated method stub\n        return campiModificati == null ? null : Arrays.copyOfRange(campiModificati, (int)index, (int)index + count );\n    }\n\n    @Override\n    public Object getArray(long index, int count, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        // TODO Auto-generated method stub\n        return this.getArray(index, count);\n    }\n\n    @Override\n    public ResultSet getResultSet() throws SQLException {\n        // TODO Auto-generated method stub\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public ResultSet getResultSet(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        // TODO Auto-generated method stub\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public ResultSet getResultSet(long index, int count) throws SQLException {\n        // TODO Auto-generated method stub\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public ResultSet getResultSet(long index, int count, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        // TODO Auto-generated method stub\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public void free() throws SQLException {\n        // TODO Auto-generated method stub\n        \n    }\n    \n    \n}\n\n</code></pre>\n<pre><code>package com.ubiss.domain.logger;\n\nimport java.io.Serializable;\nimport java.sql.SQLData;\nimport java.sql.SQLException;\nimport java.sql.SQLInput;\nimport java.sql.SQLOutput;\n\npublic class CampoModificato implements SQLData, Serializable{\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n    private String nome_campo;\n    private String valore_old;\n    private String valore_new;\n    \n    public CampoModificato() {}\n    \n    public CampoModificato(String nome_campo, String valore_old, String valore_new) {\n        this.nome_campo = nome_campo;\n        this.valore_old = valore_old;\n        this.valore_new = valore_new;\n    }\n    public String getNomeCampo() {\n        return nome_campo;\n    }\n    public void setNomeCampo(String nome_campo) {\n        this.nome_campo = nome_campo;\n    }\n    public String getValoreOld() {\n        return valore_old;\n    }\n    public void setValoreOld(String valore_old) {\n        this.valore_old = valore_old;\n    }\n    public String getValoreNew() {\n        return valore_new;\n    }\n    public void setValoreNew(String valore_new) {\n        this.valore_new = valore_new;\n    }\n\n    @Override\n    public String getSQLTypeName() throws SQLException {\n        // TODO Auto-generated method stub\n        return &quot;TY_CAMPI_MODIFICATI&quot;;\n    }\n\n    @Override\n    public void readSQL(SQLInput stream, String typeName) throws SQLException {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void writeSQL(SQLOutput stream) throws SQLException {\n        // TODO Auto-generated method stub\n        \n    }\n    \n    \n}\n\n</code></pre>\n<pre><code>package com.ubiss.domain.logger;\n\nimport java.sql.Array;\nimport java.sql.CallableStatement;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.Arrays;\n\nimport org.apache.ibatis.type.JdbcType;\nimport org.apache.ibatis.type.TypeHandler;\n\nimport oracle.jdbc.driver.OracleConnection;\n\npublic class ElencoCampiTypeHandler implements TypeHandler&lt;ElencoCampiModificati&gt;{\n\n    @Override\n    public void setParameter(PreparedStatement ps, int i, ElencoCampiModificati parameter, JdbcType jdbcType)\n            throws SQLException {\n        // TODO Auto-generated method stub\n        \n        Object[] values = Arrays.stream(parameter.getCampiModificati()).toArray();\n        Array arr = ps.getConnection().unwrap(OracleConnection.class).createARRAY(&quot;V_ELENCO_CAMPI_MODIFICATI&quot;, values);\n        ps.setArray(i, arr);\n    }\n\n    @Override\n    public ElencoCampiModificati getResult(ResultSet rs, String columnName) throws SQLException {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public ElencoCampiModificati getResult(ResultSet rs, int columnIndex) throws SQLException {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public ElencoCampiModificati getResult(CallableStatement cs, int columnIndex) throws SQLException {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n}\n\n</code></pre>\n<p>This is the call:</p>\n<pre><code>String procedura = &quot;director_man.PKG_ANAG_CLIENTI.pr_AnagCensisci ---&gt; parameters: &quot;;\n        procedura.concat(&quot;doTrigger=&quot; + res.getDoTrigger() + &quot; - &quot;);\n        procedura.concat(&quot;doMigra=&quot; + res.getDoMigra() + &quot; - &quot;);\n        procedura.concat(&quot;doInit=&quot; + res.getDoInit() + &quot; - &quot;);\n        procedura.concat(&quot;doPulisci=&quot; + res.getDoPulisci() + &quot; - &quot;);\n        procedura.concat(&quot;ndgCoi=&quot; + res.getNdgCoi());\n        CampoModificato mod = new CampoModificato(&quot;&quot;,&quot;&quot;,&quot;&quot;);\n        CampoModificato[] arr = new CampoModificato[] {mod};\n        ElencoCampiModificati elenco = new ElencoCampiModificati(arr);\n        LoggedElement logElement = new LoggedElement(procedura, Long.valueOf(1), &quot;&quot;, &quot;&quot;, elenco);\n        loggerDao.log(logElement);\n</code></pre>\n<p>This is the error:</p>\n<pre><code>Caused by: Error : 6550, Position : 6, Sql = BEGIN dynapp.pkg_log_admin.pr_log_admin(\n        :1 ,\n        :2 ,\n        :3 ,\n        :4 ,\n        :5 ,\n        :6 ,\n        :7 \n        ); END;, OriginalSql = {call dynapp.pkg_log_admin.pr_log_admin(\n        ?,\n        ?,\n        ?,\n        ?,\n        ?,\n        ?,\n        ?\n        )}, Error Msg = ORA-06550: riga 1, colonna 7:\n</code></pre>\n<p>I tried to check the names of the parameters and their order to not differ between code and db side</p>\n"},{"tags":["java","eclipse","selenium-webdriver","jar"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1683970470,"post_id":76241996,"comment_id":134450528,"body_markdown":"Delete your `module-info.java` file (if needed you can recreate it later via right-click on project and _Configure_) or [in `module-info.java` add the required `requires ...;` statement](https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules).","body":"Delete your <code>module-info.java</code> file (if needed you can recreate it later via right-click on project and <i>Configure</i>) or <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules\" rel=\"nofollow noreferrer\">in <code>module-info.java</code> add the required <code>requires ...;</code> statement</a>."},{"owner":{"account_id":14823704,"reputation":11,"user_id":10705228,"display_name":"Akash"},"score":0,"creation_date":1690573919,"post_id":76241996,"comment_id":135377815,"body_markdown":"Thank  You  so much  for the solution","body":"Thank  You  so much  for the solution"}],"owner":{"account_id":14823704,"reputation":11,"user_id":10705228,"display_name":"Akash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690576639,"answer_count":0,"score":0,"last_activity_date":1684152234,"creation_date":1683970169,"question_id":76241996,"body_markdown":"I have tried to Selenium jar files using module path and class path but still the selenium function is not recognising\r\nPFA image\r\n\r\n[![pfa image][1]][1]\r\n\r\n\r\nI have followed the below step \r\n\r\nAdding Jar File in Module path \r\n\r\n1. Right click on project\r\n2. Select properties\r\n3. Under Java Build path Select modulepath and select add external jar\r\n4. Add all Jar file of Selenium\r\n5. Select Apply and close \r\n\r\nAdding Jar File in Module path \r\n\r\n1. Right click on project\r\n2. Select properties\r\n3. Under Java Build path Select classpath and select add external jar\r\n4. Add all Jar file of Selenium\r\n5. Select Apply and close \r\n\r\n\r\nAdding Jar File in Class path (User Library)\r\n\r\n1. Right click on project\r\n2. Select properties\r\n3. Under Java Build path Select classpath and select add Library\r\n4. Select user libraries, select new and add names\r\n5. From Add external Library add the library\r\n6. Select Apply and close and the finish it\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RcwAM.png","title":"Selenium package [org.openqa.selenium.chrome.ChromeDriver etc] is not accessible even after adding it","body":"<p>I have tried to Selenium jar files using module path and class path but still the selenium function is not recognising\nPFA image</p>\n<p><a href=\"https://i.stack.imgur.com/RcwAM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RcwAM.png\" alt=\"pfa image\" /></a></p>\n<p>I have followed the below step</p>\n<p>Adding Jar File in Module path</p>\n<ol>\n<li>Right click on project</li>\n<li>Select properties</li>\n<li>Under Java Build path Select modulepath and select add external jar</li>\n<li>Add all Jar file of Selenium</li>\n<li>Select Apply and close</li>\n</ol>\n<p>Adding Jar File in Module path</p>\n<ol>\n<li>Right click on project</li>\n<li>Select properties</li>\n<li>Under Java Build path Select classpath and select add external jar</li>\n<li>Add all Jar file of Selenium</li>\n<li>Select Apply and close</li>\n</ol>\n<p>Adding Jar File in Class path (User Library)</p>\n<ol>\n<li>Right click on project</li>\n<li>Select properties</li>\n<li>Under Java Build path Select classpath and select add Library</li>\n<li>Select user libraries, select new and add names</li>\n<li>From Add external Library add the library</li>\n<li>Select Apply and close and the finish it</li>\n</ol>\n"},{"tags":["java","maven","jpa","classpath"],"comments":[{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1481311692,"post_id":41065744,"comment_id":69342162,"body_markdown":"Do you want to copy classes like the title and body are saying, or the source files, like the example is showing?","body":"Do you want to copy classes like the title and body are saying, or the source files, like the example is showing?"},{"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"score":0,"creation_date":1481315556,"post_id":41065744,"comment_id":69343993,"body_markdown":"I wan&#39;t the compiler (including the aspectj weaving to be able to see the java files as if they were part of the same project.","body":"I wan&#39;t the compiler (including the aspectj weaving to be able to see the java files as if they were part of the same project."},{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1481315795,"post_id":41065744,"comment_id":69344104,"body_markdown":"I did not understand that. Can you edit with your exact use-case, what you have, and what you want? How and when is aspectj coming to the table?","body":"I did not understand that. Can you edit with your exact use-case, what you have, and what you want? How and when is aspectj coming to the table?"},{"owner":{"account_id":7602879,"reputation":1099,"user_id":5766794,"accept_rate":100,"display_name":"Jay"},"score":0,"creation_date":1481316215,"post_id":41065744,"comment_id":69344349,"body_markdown":"I think that you&#39;re developing a project with multiple modules and want to *merge* them when you are doing your build tasks... You can refer to [this](http://stackoverflow.com/questions/35355029/modularized-maven-spring-project-dilemma) post if you want to...","body":"I think that you&#39;re developing a project with multiple modules and want to <i>merge</i> them when you are doing your build tasks... You can refer to <a href=\"http://stackoverflow.com/questions/35355029/modularized-maven-spring-project-dilemma\">this</a> post if you want to..."},{"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"score":0,"creation_date":1481319714,"post_id":41065744,"comment_id":69345879,"body_markdown":"That is exactly what I want to do.","body":"That is exactly what I want to do."}],"answers":[{"tags":[],"owner":{"account_id":279921,"reputation":7224,"user_id":575350,"accept_rate":91,"display_name":"qwazer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481311733,"creation_date":1481306983,"answer_id":41066414,"question_id":41065744,"body_markdown":"Try \r\n[Unpacking specific artifacts][1]\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-dependency-plugin/examples/unpacking-artifacts.html\r\n\r\nSample config from docs:\r\n\r\n&gt;     &lt;project&gt;\r\n&gt;        [...]\r\n&gt;        &lt;build&gt;\r\n&gt;          &lt;plugins&gt;\r\n&gt;            &lt;plugin&gt;\r\n&gt;              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n&gt;              &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n&gt;              &lt;version&gt;2.10&lt;/version&gt;\r\n&gt;              &lt;executions&gt;\r\n&gt;                &lt;execution&gt;\r\n&gt;                  &lt;id&gt;unpack&lt;/id&gt;\r\n&gt;                  &lt;phase&gt;package&lt;/phase&gt;\r\n&gt;                  &lt;goals&gt;\r\n&gt;                    &lt;goal&gt;unpack&lt;/goal&gt;\r\n&gt;                  &lt;/goals&gt;\r\n&gt;                  &lt;configuration&gt;\r\n&gt;                    &lt;artifactItems&gt;\r\n&gt;                      &lt;artifactItem&gt;\r\n&gt;                        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n&gt;                        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n&gt;                        &lt;version&gt;3.8.1&lt;/version&gt;\r\n&gt;                        &lt;type&gt;jar&lt;/type&gt;\r\n&gt;                        &lt;overWrite&gt;false&lt;/overWrite&gt;\r\n&gt;                        &lt;outputDirectory&gt;${project.build.directory}/alternateLocation&lt;/outputDirectory&gt;\r\n&gt;                        &lt;destFileName&gt;optional-new-name.jar&lt;/destFileName&gt;\r\n&gt;                        &lt;includes&gt;**/*.class,**/*.xml&lt;/includes&gt;\r\n&gt;                        &lt;excludes&gt;**/*test.class&lt;/excludes&gt;\r\n&gt;                      &lt;/artifactItem&gt;\r\n&gt;                    &lt;/artifactItems&gt;\r\n&gt;                    &lt;includes&gt;**/*.java&lt;/includes&gt;\r\n&gt;                    &lt;excludes&gt;**/*.properties&lt;/excludes&gt;\r\n&gt;                    &lt;outputDirectory&gt;${project.build.directory}/wars&lt;/outputDirectory&gt;\r\n&gt;                    &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\r\n&gt;                    &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\r\n&gt;                  &lt;/configuration&gt;\r\n&gt;                &lt;/execution&gt;\r\n&gt;              &lt;/executions&gt;\r\n&gt;            &lt;/plugin&gt;\r\n&gt;          &lt;/plugins&gt;\r\n&gt;        &lt;/build&gt;\r\n&gt;        [...]\r\n&gt;      &lt;/project&gt;","title":"How to make maven copy all classes from another project?","body":"<p>Try \n<a href=\"http://maven.apache.org/plugins/maven-dependency-plugin/examples/unpacking-artifacts.html\" rel=\"nofollow noreferrer\">Unpacking specific artifacts</a></p>\n\n<p>Sample config from docs:</p>\n\n<blockquote>\n<pre><code>&lt;project&gt;\n   [...]\n   &lt;build&gt;\n     &lt;plugins&gt;\n       &lt;plugin&gt;\n         &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n         &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n         &lt;version&gt;2.10&lt;/version&gt;\n         &lt;executions&gt;\n           &lt;execution&gt;\n             &lt;id&gt;unpack&lt;/id&gt;\n             &lt;phase&gt;package&lt;/phase&gt;\n             &lt;goals&gt;\n               &lt;goal&gt;unpack&lt;/goal&gt;\n             &lt;/goals&gt;\n             &lt;configuration&gt;\n               &lt;artifactItems&gt;\n                 &lt;artifactItem&gt;\n                   &lt;groupId&gt;junit&lt;/groupId&gt;\n                   &lt;artifactId&gt;junit&lt;/artifactId&gt;\n                   &lt;version&gt;3.8.1&lt;/version&gt;\n                   &lt;type&gt;jar&lt;/type&gt;\n                   &lt;overWrite&gt;false&lt;/overWrite&gt;\n                   &lt;outputDirectory&gt;${project.build.directory}/alternateLocation&lt;/outputDirectory&gt;\n                   &lt;destFileName&gt;optional-new-name.jar&lt;/destFileName&gt;\n                   &lt;includes&gt;**/*.class,**/*.xml&lt;/includes&gt;\n                   &lt;excludes&gt;**/*test.class&lt;/excludes&gt;\n                 &lt;/artifactItem&gt;\n               &lt;/artifactItems&gt;\n               &lt;includes&gt;**/*.java&lt;/includes&gt;\n               &lt;excludes&gt;**/*.properties&lt;/excludes&gt;\n               &lt;outputDirectory&gt;${project.build.directory}/wars&lt;/outputDirectory&gt;\n               &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n               &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\n             &lt;/configuration&gt;\n           &lt;/execution&gt;\n         &lt;/executions&gt;\n       &lt;/plugin&gt;\n     &lt;/plugins&gt;\n   &lt;/build&gt;\n   [...]\n &lt;/project&gt;\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6489384,"reputation":11,"user_id":5023923,"display_name":"Albert Farre"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684152115,"creation_date":1684152066,"answer_id":76253859,"question_id":41065744,"body_markdown":"You can try to use **[copysource-maven-plugin](https://github.com/bytemechanics/copysource-maven-plugin)**:\r\n\r\n    (...)\r\n    &lt;build&gt;\r\n       &lt;plugins&gt;\r\n          (...)\r\n          &lt;plugin&gt;\r\n             &lt;groupId&gt;org.bytemechanics.maven&lt;/groupId&gt;\r\n             &lt;artifactId&gt;copysource-maven-plugin&lt;/artifactId&gt;\r\n             &lt;version&gt;X.X.X&lt;/version&gt;\r\n             &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                   &lt;goals&gt;\r\n                      &lt;goal&gt;copy-classes&lt;/goal&gt;\r\n                   &lt;/goals&gt;\r\n                   &lt;configuration&gt;\r\n                      &lt;copies&gt;\r\n                         &lt;copy&gt;\r\n                            &lt;artifact&gt;[source-groupId]:[source-artifactId]:[source-version]&lt;/artifact&gt;\r\n                            &lt;classes&gt;\r\n                               &lt;class&gt;[cannonical-name-of-origin-source. Example:org.bytemechanics.commons.functional.LambdaUnchecker]&lt;/class&gt;\r\n                               (...)\r\n                            &lt;/classes&gt;\r\n                            &lt;fromPackage&gt;[package-segment-to-replace. Example: org.bytemechanics.commons]&lt;/fromPackage&gt;\r\n                            &lt;toPackage&gt;[package-segment-to-replace. Example: org.bytemechanics.standalone.ignite.internal.commons]&lt;/toPackage&gt;\r\n                         &lt;/copy&gt;\r\n                      &lt;/copies&gt;\r\n                   &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n             &lt;/executions&gt;\r\n          &lt;/plugin&gt;\t\t\r\n          (...)\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\t\r\n    (...)\r\n\r\n","title":"How to make maven copy all classes from another project?","body":"<p>You can try to use <strong><a href=\"https://github.com/bytemechanics/copysource-maven-plugin\" rel=\"nofollow noreferrer\">copysource-maven-plugin</a></strong>:</p>\n<pre><code>(...)\n&lt;build&gt;\n   &lt;plugins&gt;\n      (...)\n      &lt;plugin&gt;\n         &lt;groupId&gt;org.bytemechanics.maven&lt;/groupId&gt;\n         &lt;artifactId&gt;copysource-maven-plugin&lt;/artifactId&gt;\n         &lt;version&gt;X.X.X&lt;/version&gt;\n         &lt;executions&gt;\n            &lt;execution&gt;\n               &lt;goals&gt;\n                  &lt;goal&gt;copy-classes&lt;/goal&gt;\n               &lt;/goals&gt;\n               &lt;configuration&gt;\n                  &lt;copies&gt;\n                     &lt;copy&gt;\n                        &lt;artifact&gt;[source-groupId]:[source-artifactId]:[source-version]&lt;/artifact&gt;\n                        &lt;classes&gt;\n                           &lt;class&gt;[cannonical-name-of-origin-source. Example:org.bytemechanics.commons.functional.LambdaUnchecker]&lt;/class&gt;\n                           (...)\n                        &lt;/classes&gt;\n                        &lt;fromPackage&gt;[package-segment-to-replace. Example: org.bytemechanics.commons]&lt;/fromPackage&gt;\n                        &lt;toPackage&gt;[package-segment-to-replace. Example: org.bytemechanics.standalone.ignite.internal.commons]&lt;/toPackage&gt;\n                     &lt;/copy&gt;\n                  &lt;/copies&gt;\n               &lt;/configuration&gt;\n            &lt;/execution&gt;\n         &lt;/executions&gt;\n      &lt;/plugin&gt;     \n      (...)\n    &lt;/plugins&gt;\n&lt;/build&gt;    \n(...)\n</code></pre>\n"}],"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1906,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684152115,"creation_date":1481304283,"question_id":41065744,"body_markdown":"I have a number of Entity classes in a shared project.\n\nIn order to get JPA working properly, I need these class files in the classes folder and not inside the jar.\n\nHow would I go about doing this in maven?\nIs there a specific maven plugin I can use?\n\n## Source:\n\n    project1/src/main/java/org/something/SomeClass.java\n    \n    project2/src/main/java/org/somethingElse/SomeEntity.java\n\nTarget:\n\n    project1/target/classes/org/something/SomeClass.java\n    project1/target/classes/org/somethingElse/SomeEntity.java\n\nAlternative approaches are also OK.\n\n## Update:\nUse Case:\n\nI have multiple projects.  \nOne project is the core library for all things shared.  \nThis includes a bunch of entity classes that have PersistanceUnit Entity Managers injected.\n\nThe issue arises when i try to use these entity classes because the entity manager is no longer injected. Additionally when I manually specify the entity manager, it doesn&#39;t recognize any of the entity classes in the shared jar.","title":"How to make maven copy all classes from another project?","body":"<p>I have a number of Entity classes in a shared project.</p>\n<p>In order to get JPA working properly, I need these class files in the classes folder and not inside the jar.</p>\n<p>How would I go about doing this in maven?\nIs there a specific maven plugin I can use?</p>\n<h2>Source:</h2>\n<pre><code>project1/src/main/java/org/something/SomeClass.java\n\nproject2/src/main/java/org/somethingElse/SomeEntity.java\n</code></pre>\n<p>Target:</p>\n<pre><code>project1/target/classes/org/something/SomeClass.java\nproject1/target/classes/org/somethingElse/SomeEntity.java\n</code></pre>\n<p>Alternative approaches are also OK.</p>\n<h2>Update:</h2>\n<p>Use Case:</p>\n<p>I have multiple projects.<br />\nOne project is the core library for all things shared.<br />\nThis includes a bunch of entity classes that have PersistanceUnit Entity Managers injected.</p>\n<p>The issue arises when i try to use these entity classes because the entity manager is no longer injected. Additionally when I manually specify the entity manager, it doesn't recognize any of the entity classes in the shared jar.</p>\n"},{"tags":["java","date","time","timestamp"],"answers":[{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":3,"up_vote_count":188,"is_accepted":true,"score":185,"last_activity_date":1260894910,"creation_date":1260892737,"answer_id":1908419,"question_id":1908387,"body_markdown":"The *recommended* way to do date/time manipulation is to use a [`Calendar`][1] object:\r\n\r\n    Calendar cal = Calendar.getInstance(); // locale-specific\r\n    cal.setTime(dateObject);\r\n    cal.set(Calendar.HOUR_OF_DAY, 0);\r\n    cal.set(Calendar.MINUTE, 0);\r\n    cal.set(Calendar.SECOND, 0);\r\n    cal.set(Calendar.MILLISECOND, 0);\r\n    long time = cal.getTimeInMillis();\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Calendar.html","title":"Java Date cut off time information","body":"<p>The <em>recommended</em> way to do date/time manipulation is to use a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a> object:</p>\n\n<pre><code>Calendar cal = Calendar.getInstance(); // locale-specific\ncal.setTime(dateObject);\ncal.set(Calendar.HOUR_OF_DAY, 0);\ncal.set(Calendar.MINUTE, 0);\ncal.set(Calendar.SECOND, 0);\ncal.set(Calendar.MILLISECOND, 0);\nlong time = cal.getTimeInMillis();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1260892767,"creation_date":1260892767,"answer_id":1908422,"question_id":1908387,"body_markdown":"Use the [Calendar][1] class&#39;s `set()` method to set the `HOUR_OF_DAY, MINUTE, SECOND` and `MILLISECOND` fields to zero.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Calendar.html","title":"Java Date cut off time information","body":"<p>Use the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\">Calendar</a> class's <code>set()</code> method to set the <code>HOUR_OF_DAY, MINUTE, SECOND</code> and <code>MILLISECOND</code> fields to zero.</p>\n"},{"tags":[],"owner":{"account_id":42065,"reputation":53627,"user_id":122428,"display_name":"jitter"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1260892873,"creation_date":1260892873,"answer_id":1908438,"question_id":1908387,"body_markdown":"    Date date = new Date();\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.setTime(date);\r\n    cal.set(Calendar.HOUR_OF_DAY, 0);\r\n    cal.set(Calendar.MINUTE, 0);\r\n    cal.set(Calendar.SECOND, 0);\r\n    cal.set(Calendar.MILLISECOND, 0);\r\n    date = cal.getTime();","title":"Java Date cut off time information","body":"<pre><code>Date date = new Date();\nCalendar cal = Calendar.getInstance();\ncal.setTime(date);\ncal.set(Calendar.HOUR_OF_DAY, 0);\ncal.set(Calendar.MINUTE, 0);\ncal.set(Calendar.SECOND, 0);\ncal.set(Calendar.MILLISECOND, 0);\ndate = cal.getTime();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":3,"up_vote_count":44,"is_accepted":false,"score":41,"last_activity_date":1260895278,"creation_date":1260894606,"answer_id":1908647,"question_id":1908387,"body_markdown":"Have you looked at [Joda][1] ? It&#39;s a *much* easier and more intuitive way to work with dates and times. For instance you can convert trivially between (say) [LocalDateTime][2] and [LocalDate][3] objects.\r\n\r\ne.g. (to illustrate the API)\r\n\r\n    LocalDate date = new LocalDateTime(milliseconds).toLocalDate()\r\n\r\nAdditionally it solves some thread-safety issues with date/time formatters and is to be strongly recommended for working with any date/time issues in Java.\r\n\r\n  [1]: http://joda-time.sourceforge.net/\r\n  [2]: http://joda-time.sourceforge.net/apidocs/org/joda/time/LocalDateTime.html\r\n  [3]: http://joda-time.sourceforge.net/apidocs/org/joda/time/LocalDate.html","title":"Java Date cut off time information","body":"<p>Have you looked at <a href=\"http://joda-time.sourceforge.net/\" rel=\"noreferrer\">Joda</a> ? It's a <em>much</em> easier and more intuitive way to work with dates and times. For instance you can convert trivially between (say) <a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/LocalDateTime.html\" rel=\"noreferrer\">LocalDateTime</a> and <a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/LocalDate.html\" rel=\"noreferrer\">LocalDate</a> objects.</p>\n\n<p>e.g. (to illustrate the API)</p>\n\n<pre><code>LocalDate date = new LocalDateTime(milliseconds).toLocalDate()\n</code></pre>\n\n<p>Additionally it solves some thread-safety issues with date/time formatters and is to be strongly recommended for working with any date/time issues in Java.</p>\n"},{"tags":[],"owner":{"account_id":4675,"reputation":7713,"user_id":7144,"accept_rate":71,"display_name":"A_M"},"down_vote_count":3,"up_vote_count":171,"is_accepted":false,"score":168,"last_activity_date":1391202013,"creation_date":1260897137,"answer_id":1908955,"question_id":1908387,"body_markdown":"Have you looked at the [DateUtils][1] truncate method in Apache Commons Lang?\r\n\r\n\r\n    Date truncatedDate = DateUtils.truncate(new Date(), Calendar.DATE);\r\n\r\nwill remove the time element.\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/time/DateUtils.html","title":"Java Date cut off time information","body":"<p>Have you looked at the <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/time/DateUtils.html\" rel=\"noreferrer\">DateUtils</a> truncate method in Apache Commons Lang?</p>\n\n<pre><code>Date truncatedDate = DateUtils.truncate(new Date(), Calendar.DATE);\n</code></pre>\n\n<p>will remove the time element.</p>\n"},{"tags":[],"owner":{"account_id":114256,"reputation":2333,"user_id":300538,"display_name":"Sunil Manheri"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1335437566,"creation_date":1335437566,"answer_id":10331946,"question_id":1908387,"body_markdown":"From java.util.Date JavaDocs:\r\n\r\n&gt; The class Date represents a specific instant in time, with millisecond precision\r\n\r\nand from the java.sql.Date JavaDocs:\r\n\r\n&gt;To conform with the definition of SQL DATE, the millisecond values wrapped by a java.sql.Date instance must be &#39;normalized&#39; by setting the hours, minutes, seconds, and milliseconds to zero in the particular time zone with which the instance is associated.\r\n\r\nSo, the best approach is to use java.sql.Date if you are not in need of the time part\r\n\r\n    java.util.Date utilDate = new java.util.Date();\r\n    java.sql.Date sqlDate = new java.sql.Date(System.currentTimeMillis());\r\n    \r\nand the output is:\r\n\r\n    java.util.Date : Thu Apr 26 16:22:53 PST 2012\r\n    java.sql.Date  : 2012-04-26","title":"Java Date cut off time information","body":"<p>From java.util.Date JavaDocs:</p>\n\n<blockquote>\n  <p>The class Date represents a specific instant in time, with millisecond precision</p>\n</blockquote>\n\n<p>and from the java.sql.Date JavaDocs:</p>\n\n<blockquote>\n  <p>To conform with the definition of SQL DATE, the millisecond values wrapped by a java.sql.Date instance must be 'normalized' by setting the hours, minutes, seconds, and milliseconds to zero in the particular time zone with which the instance is associated.</p>\n</blockquote>\n\n<p>So, the best approach is to use java.sql.Date if you are not in need of the time part</p>\n\n<pre><code>java.util.Date utilDate = new java.util.Date();\njava.sql.Date sqlDate = new java.sql.Date(System.currentTimeMillis());\n</code></pre>\n\n<p>and the output is:</p>\n\n<pre><code>java.util.Date : Thu Apr 26 16:22:53 PST 2012\njava.sql.Date  : 2012-04-26\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1714980,"reputation":61,"user_id":1572272,"display_name":"Byron Marambio Troncoso"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1343932260,"creation_date":1343932260,"answer_id":11783634,"question_id":1908387,"body_markdown":"Use DateUtils from Apache, with truncate, like this:\r\n\r\n    DateUtils.truncate(Calendar.getInstance().getTime(), Calendar.DATE);\r\n","title":"Java Date cut off time information","body":"<p>Use DateUtils from Apache, with truncate, like this:</p>\n\n<pre><code>DateUtils.truncate(Calendar.getInstance().getTime(), Calendar.DATE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2748311,"reputation":469,"user_id":2368223,"display_name":"Gan Quan"},"down_vote_count":4,"up_vote_count":10,"is_accepted":false,"score":6,"last_activity_date":1421446678,"creation_date":1368143630,"answer_id":16473059,"question_id":1908387,"body_markdown":"For timestamps:\r\n\r\n    timestamp -= timestamp % (24 * 60 * 60 * 1000)","title":"Java Date cut off time information","body":"<p>For timestamps:</p>\n\n<pre><code>timestamp -= timestamp % (24 * 60 * 60 * 1000)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1278271,"reputation":361,"user_id":1233021,"display_name":"m190"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1567159600,"creation_date":1370983699,"answer_id":17053543,"question_id":1908387,"body_markdown":"Just `clear()` redundant fields.\r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.setTime(date);\r\n    calendar.set(Calendar.HOUR_OF_DAY, 0);\r\n    calendar.clear(Calendar.MINUTE);\r\n    calendar.clear(Calendar.SECOND);\r\n    calendar.clear(Calendar.MILLISECOND);\r\n    Date truncatedDate = calendar.getTime();\r\n\r\nFrom Java 8 a better option is to use `truncatedTo` method of `LocalDateTime`, e.g.:\r\n\r\n```\r\nLocalDateTime.now().truncatedTo(ChronoUnit.DAYS)\r\n```","title":"Java Date cut off time information","body":"<p>Just <code>clear()</code> redundant fields.</p>\n\n<pre><code>Calendar calendar = Calendar.getInstance();\ncalendar.setTime(date);\ncalendar.set(Calendar.HOUR_OF_DAY, 0);\ncalendar.clear(Calendar.MINUTE);\ncalendar.clear(Calendar.SECOND);\ncalendar.clear(Calendar.MILLISECOND);\nDate truncatedDate = calendar.getTime();\n</code></pre>\n\n<p>From Java 8 a better option is to use <code>truncatedTo</code> method of <code>LocalDateTime</code>, e.g.:</p>\n\n<pre><code>LocalDateTime.now().truncatedTo(ChronoUnit.DAYS)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1674355,"reputation":4984,"user_id":1540197,"accept_rate":60,"display_name":"h7r"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1443275734,"creation_date":1370984485,"answer_id":17053747,"question_id":1908387,"body_markdown":"With Joda you can easily get the expected date.\r\n\r\nAs of version 2.7 (maybe since some previous version greater than 2.2), as a commenter notes, `toDateMidnight` has been deprecated in favor or the aptly named `withTimeAtStartOfDay()`, making the convenient\r\n\r\n    DateTime.now().withTimeAtStartOfDay()\r\n\r\npossible.\r\n\r\nBenefit added of a way nicer API.\r\n\r\nWith older versions, you can do\r\n\r\n    new DateTime(new Date()).toDateMidnight().toDate()","title":"Java Date cut off time information","body":"<p>With Joda you can easily get the expected date.</p>\n\n<p>As of version 2.7 (maybe since some previous version greater than 2.2), as a commenter notes, <code>toDateMidnight</code> has been deprecated in favor or the aptly named <code>withTimeAtStartOfDay()</code>, making the convenient</p>\n\n<pre><code>DateTime.now().withTimeAtStartOfDay()\n</code></pre>\n\n<p>possible.</p>\n\n<p>Benefit added of a way nicer API.</p>\n\n<p>With older versions, you can do</p>\n\n<pre><code>new DateTime(new Date()).toDateMidnight().toDate()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1561405,"reputation":3143,"user_id":1451197,"display_name":"Dave"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380030180,"creation_date":1379607089,"answer_id":18899843,"question_id":1908387,"body_markdown":"It really annoyed me that the new &quot;improved&quot; calendar constructor doesn&#39;t take an int for milliseconds like the &quot;awful&quot; old Date one.\r\nI then got really cross and wrote this:\r\n\r\n    long stuffYou = startTime.getTimeInMillis() % 1000;\r\n    startTime.setTimeInMillis(startTime.getTimeInMillis() - stuffYou);\r\n\r\nI didn&#39;t use the word &quot;stuff&quot; at the time, but\r\nthen I discovered the happiness of this:\r\n\r\n    startTime.set(Calendar.MILLISECOND, 0);\r\n\r\nBut I&#39;m still quite cross about it.\r\n","title":"Java Date cut off time information","body":"<p>It really annoyed me that the new \"improved\" calendar constructor doesn't take an int for milliseconds like the \"awful\" old Date one.\nI then got really cross and wrote this:</p>\n\n<pre><code>long stuffYou = startTime.getTimeInMillis() % 1000;\nstartTime.setTimeInMillis(startTime.getTimeInMillis() - stuffYou);\n</code></pre>\n\n<p>I didn't use the word \"stuff\" at the time, but\nthen I discovered the happiness of this:</p>\n\n<pre><code>startTime.set(Calendar.MILLISECOND, 0);\n</code></pre>\n\n<p>But I'm still quite cross about it.</p>\n"},{"tags":[],"owner":{"account_id":3403188,"reputation":103,"user_id":2854920,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403268780,"creation_date":1403268780,"answer_id":24327753,"question_id":1908387,"body_markdown":"Might be a late response but here is a way to do it in one line without using any libraries:\r\n\r\n    new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(YOUR_TIMESTAMP))","title":"Java Date cut off time information","body":"<p>Might be a late response but here is a way to do it in one line without using any libraries:</p>\n\n<pre><code>new SimpleDateFormat(\"yyyy-MM-dd\").parse(new SimpleDateFormat(\"yyyy-MM-dd\").format(YOUR_TIMESTAMP))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522196910,"creation_date":1403286240,"answer_id":24332866,"question_id":1908387,"body_markdown":"The question is contradictory. It asks for a date without a time of day yet displays an example with a time of `00:00:00`.\r\n\r\n\r\n\r\n## Joda-Time\r\n\r\n**UPDATE:** The [Joda-Time](http://www.joda.org/joda-time/) project is now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), with the team advising migration to the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes. See [my other Answer](https://stackoverflow.com/a/38065059/642706) for java.time solution.\r\n\r\nIf instead you want the time-of-day set to the first moment of the day, use a [`DateTime`][8] object on the Joda-Time library and call its [`withTimeAtStartOfDay`][9] method. Be aware that the first moment may not be the time `00:00:00` because of Daylight Saving Time or perhaps other anomalies.\r\n\r\n\r\n  [8]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\r\n  [9]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html#withTimeAtStartOfDay()","title":"Java Date cut off time information","body":"<p>The question is contradictory. It asks for a date without a time of day yet displays an example with a time of <code>00:00:00</code>.</p>\n\n<h2>Joda-Time</h2>\n\n<p><strong>UPDATE:</strong> The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> project is now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, with the team advising migration to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes. See <a href=\"https://stackoverflow.com/a/38065059/642706\">my other Answer</a> for java.time solution.</p>\n\n<p>If instead you want the time-of-day set to the first moment of the day, use a <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\" rel=\"nofollow noreferrer\"><code>DateTime</code></a> object on the Joda-Time library and call its <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html#withTimeAtStartOfDay()\" rel=\"nofollow noreferrer\"><code>withTimeAtStartOfDay</code></a> method. Be aware that the first moment may not be the time <code>00:00:00</code> because of Daylight Saving Time or perhaps other anomalies.</p>\n"},{"tags":[],"owner":{"account_id":3320855,"reputation":402,"user_id":2792078,"display_name":"lamusique"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1404793491,"creation_date":1404793000,"answer_id":24623614,"question_id":1908387,"body_markdown":"With [Joda-Time][1] since version 2.0 you can use `LocalDate.toDate()`.\r\n\r\nSimply\r\n&lt;!-- language: java --&gt;\r\n\r\n    // someDatetime is whatever java.util.Date you have.\r\n    Date someDay = new LocalDate(someDatetime).toDate();\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/","title":"Java Date cut off time information","body":"<p>With <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow\">Joda-Time</a> since version 2.0 you can use <code>LocalDate.toDate()</code>.</p>\n\n<p>Simply\n</p>\n\n<pre><code>// someDatetime is whatever java.util.Date you have.\nDate someDay = new LocalDate(someDatetime).toDate();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1820944,"reputation":192,"user_id":1655029,"display_name":"Sergio Kosik"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1411985224,"creation_date":1411985224,"answer_id":26097351,"question_id":1908387,"body_markdown":"I did the truncation with new java8 API. I faced up with one strange thing but in general it&#39;s truncate...\r\n\r\n    Instant instant = date.toInstant();\r\n    instant = instant.truncatedTo(ChronoUnit.DAYS);\r\n    date = Date.from(instant);","title":"Java Date cut off time information","body":"<p>I did the truncation with new java8 API. I faced up with one strange thing but in general it's truncate...</p>\n\n<pre><code>Instant instant = date.toInstant();\ninstant = instant.truncatedTo(ChronoUnit.DAYS);\ndate = Date.from(instant);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5886931,"reputation":503,"user_id":4634634,"display_name":"Adam Berry"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1564422925,"creation_date":1425516698,"answer_id":28868089,"question_id":1908387,"body_markdown":"Just a quick update in light of the [java.time][1] classes now built into Java 8 and later.\r\n\r\n[`LocalDateTime`][2] has a [`truncatedTo`][3] method that effectively addresses what you are talking about here:\r\n\r\n    LocalDateTime.now().truncatedTo(ChronoUnit.MINUTES)\r\n\r\nThis will express the current time down to minutes only:\r\n\r\n    2015-03-05T11:47\r\n\r\nYou may use a [`ChronoUnit`][4] (or a [`TemporalUnit`][5]) smaller than DAYS to execute the truncation (as the truncation is applied only to the time part of LocalDateTime, not to the date part).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#truncatedTo-java.time.temporal.TemporalUnit-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalUnit.html","title":"Java Date cut off time information","body":"<p>Just a quick update in light of the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes now built into Java 8 and later.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a> has a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#truncatedTo-java.time.temporal.TemporalUnit-\" rel=\"noreferrer\"><code>truncatedTo</code></a> method that effectively addresses what you are talking about here:</p>\n\n<pre><code>LocalDateTime.now().truncatedTo(ChronoUnit.MINUTES)\n</code></pre>\n\n<p>This will express the current time down to minutes only:</p>\n\n<pre><code>2015-03-05T11:47\n</code></pre>\n\n<p>You may use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html\" rel=\"noreferrer\"><code>ChronoUnit</code></a> (or a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalUnit.html\" rel=\"noreferrer\"><code>TemporalUnit</code></a>) smaller than DAYS to execute the truncation (as the truncation is applied only to the time part of LocalDateTime, not to the date part).</p>\n"},{"tags":[],"owner":{"account_id":8647706,"reputation":1,"user_id":6474446,"display_name":"Guest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466077267,"creation_date":1466076790,"answer_id":37857964,"question_id":1908387,"body_markdown":"For all the answers using Calendar, you should use it like this instead\r\n\r\n   \tpublic static Date truncateDate(Date date) {\r\n\t\tCalendar c = Calendar.getInstance();\r\n\t\tc.setTime(date);\r\n\t\tc.set(Calendar.HOUR_OF_DAY, c.getActualMinimum(Calendar.HOUR_OF_DAY));\r\n\t\tc.set(Calendar.MINUTE, c.getActualMinimum(Calendar.MINUTE));\r\n\t\tc.set(Calendar.SECOND, c.getActualMinimum(Calendar.SECOND));\r\n\t\tc.set(Calendar.MILLISECOND, c.getActualMinimum(Calendar.MILLISECOND));\r\n\t\treturn c.getTime();\r\n\t}\r\n\r\nBut I prefer this:\r\n\r\n\tpublic static Date truncateDate(Date date) {\r\n\t\treturn new java.sql.Date(date.getTime());\r\n\t}\r\n","title":"Java Date cut off time information","body":"<p>For all the answers using Calendar, you should use it like this instead</p>\n\n<pre><code>public static Date truncateDate(Date date) {\n    Calendar c = Calendar.getInstance();\n    c.setTime(date);\n    c.set(Calendar.HOUR_OF_DAY, c.getActualMinimum(Calendar.HOUR_OF_DAY));\n    c.set(Calendar.MINUTE, c.getActualMinimum(Calendar.MINUTE));\n    c.set(Calendar.SECOND, c.getActualMinimum(Calendar.SECOND));\n    c.set(Calendar.MILLISECOND, c.getActualMinimum(Calendar.MILLISECOND));\n    return c.getTime();\n}\n</code></pre>\n\n<p>But I prefer this:</p>\n\n<pre><code>public static Date truncateDate(Date date) {\n    return new java.sql.Date(date.getTime());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1522196664,"creation_date":1467072289,"answer_id":38065059,"question_id":1908387,"body_markdown":"# tl;dr\r\n\r\n    LocalDateTime.parse(                            // Lacking an offset or time zone, parse as a `LocalDateTime`. *Not* a specific moment in time.\r\n        &quot;2008-01-01 13:15:00&quot;.replace( &quot; &quot; , &quot;T&quot; )  // Alter input string to comply with ISO 8601 standard format.\r\n    )\r\n    .toLocalDate()                                  // Extract a date-only value.\r\n    .atStartOfDay(                                  // Do not assume the day starts at 00:00:00. Let class determine start-of-day.\r\n        ZoneId.of( &quot;Europe/Paris&quot; )                 // Determining a specific start-of-day requires a time zone.\r\n    )                                               // Result is a `ZonedDateTime` object. At this point we have a specific moment in time, a point on the timeline.\r\n    .toString()                                     // Generate a String in standard ISO 8601 format, wisely extended to append the name of the time zone in square brackets.\r\n\r\n&gt;2008-01-01T00:00+01:00[Europe/Paris]\r\n\r\nTo generate a String in your desired format, pass a [`DateTimeFormatter`][1]. \r\n\r\n    LocalDateTime.parse(                            // Lacking an offset or time zone, parse as a `LocalDateTime`. *Not* a specific moment in time.\r\n        &quot;2008-01-01 13:15:00&quot;.replace( &quot; &quot; , &quot;T&quot; )  // Alter input string to comply with ISO 8601 standard format.\r\n    )\r\n    .toLocalDate()                                  // Extract a date-only value.\r\n    .atStartOfDay(                                  // Do not assume the day starts at 00:00:00. Let class determine start-of-day.\r\n        ZoneId.of( &quot;Europe/Paris&quot; )                 // Determining a specific start-of-day requires a time zone.\r\n    )                                               // Result is a `ZonedDateTime` object. At this point we have a specific moment in time, a point on the timeline.\r\n    .format(                                        // Generate a String representing the object’s value.\r\n        DateTimeFormatter.ISO_LOCAL_DATE_TIME       // Built-in predefined formatter close to what you want. \r\n    )\r\n    .replace( &quot;T&quot; , &quot; &quot; )                           // Replace the standard’s use of a &#39;T&#39; in the middle with your desired SPACE character.\r\n\r\n&gt;2008-01-01 00:00:00\r\n    \r\n\r\n# Details\r\n\r\n\r\nOther Answers are correct, but use old date-time classes now outmoded by the java.time framework.\r\n\r\n# java.time\r\n\r\nThe java.time framework is built into Java 8 and later. Much of the java.time functionality is back-ported to Java 6 &amp; 7 ([ThreeTen-Backport][2]) and further adapted to Android ([ThreeTenABP][3]).\r\n\r\nFirst alter the input string to comply with the canonical version of ISO 8601 format. The standard [ISO 8601][4] formats are used by default in java.time classes for parsing/generating strings that represent date-time values. We need to replace that SPACE in the middle with a `T`.\r\n\r\n    String input = &quot;2008-01-01 13:15:00&quot;.replace( &quot; &quot; , &quot;T&quot; );  // → 2008-01-01T13:15:00\r\n\r\nNow we can parse it as a [`LocalDateTime`][5], where “Local” means no specific locality. The input lacks any [offset-from-UTC][6] or time zone info.\r\n\r\n    LocalDateTime ldt = LocalDateTime.parse( input );\r\n\r\n&gt;ldt.toString()… 2008-01-01T13:15:00\r\n\r\nIf you do not care about time-of-day nor time zone, then convert to a [`LocalDate`][7].\r\n\r\n    LocalDate ld = ldt.toLocalDate();\r\n\r\n&gt;ld.toString()… 2008-01-01\r\n\r\n# First Moment Of Day\r\n\r\nIf instead you want the time-of-day set to the first moment of the day, use a [`ZonedDateTime`][8] class, then convert to a `LocalDate` object to call its [`atStartOfDay`][9] method. Be aware that the first moment may not be the time `00:00:00` because of Daylight Saving Time or perhaps other anomalies.\r\n\r\nThe time zone is crucial because for any given moment the date varies around the world by zone. For example, a few moments after midnight in Paris is a new day for Parisians but is still “yesterday” in Montr&#233;al for the Canadians.\r\n\r\n    ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );\r\n    ZonedDateTime zdt = ldt.atZone( zoneId );\r\n    LocalDate ldFromZdt = zdt.toLocalDate();\r\n    ZonedDateTime zdtStartOfDay = ldFromZdt.atStartOfDay( zoneId );\r\n\r\n&gt; zdtStartOfDay.toString()… 2008-01-01T00:00:00-05:00[America/Montreal]\r\n\r\n# UTC\r\n\r\nTo see that moment through the lens of the [UTC][10] time zone, extract a [`Instant`][11] object. Both the `ZonedDateTime` and `Instant` will represent the same moment on the timeline but appear as two different [wall-clock times][12].\r\n\r\nAn `Instant` is the basic building-block class in java.time, always in UTC by definition. Use this class frequently, as you should generally be doing your business logic, data storage, and data exchange in UTC.\r\n\r\n    Instant instant = zdtStartOfDay.toInstant();\r\n\r\n&gt;instant.toString()… 2008-01-01T05:00:00Z\r\n\r\nWe see 5 AM rather than stroke-of-midnight. In standard format, the `Z` on the end is short for `Zulu` and means “UTC”.\r\n\r\n\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/9/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the java.time classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n    \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/time/format/DateTimeFormatter.html\r\n  [2]: http://www.threeten.org/threetenbp/\r\n  [3]: https://github.com/JakeWharton/ThreeTenABP\r\n  [4]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\r\n  [6]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [7]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [8]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\r\n  [9]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#atStartOfDay--\r\n  [10]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [11]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\r\n  [12]: https://en.wikipedia.org/wiki/Wall_clock_time","title":"Java Date cut off time information","body":"<h1>tl;dr</h1>\n\n<pre><code>LocalDateTime.parse(                            // Lacking an offset or time zone, parse as a `LocalDateTime`. *Not* a specific moment in time.\n    \"2008-01-01 13:15:00\".replace( \" \" , \"T\" )  // Alter input string to comply with ISO 8601 standard format.\n)\n.toLocalDate()                                  // Extract a date-only value.\n.atStartOfDay(                                  // Do not assume the day starts at 00:00:00. Let class determine start-of-day.\n    ZoneId.of( \"Europe/Paris\" )                 // Determining a specific start-of-day requires a time zone.\n)                                               // Result is a `ZonedDateTime` object. At this point we have a specific moment in time, a point on the timeline.\n.toString()                                     // Generate a String in standard ISO 8601 format, wisely extended to append the name of the time zone in square brackets.\n</code></pre>\n\n<blockquote>\n  <p>2008-01-01T00:00+01:00[Europe/Paris]</p>\n</blockquote>\n\n<p>To generate a String in your desired format, pass a <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>DateTimeFormatter</code></a>. </p>\n\n<pre><code>LocalDateTime.parse(                            // Lacking an offset or time zone, parse as a `LocalDateTime`. *Not* a specific moment in time.\n    \"2008-01-01 13:15:00\".replace( \" \" , \"T\" )  // Alter input string to comply with ISO 8601 standard format.\n)\n.toLocalDate()                                  // Extract a date-only value.\n.atStartOfDay(                                  // Do not assume the day starts at 00:00:00. Let class determine start-of-day.\n    ZoneId.of( \"Europe/Paris\" )                 // Determining a specific start-of-day requires a time zone.\n)                                               // Result is a `ZonedDateTime` object. At this point we have a specific moment in time, a point on the timeline.\n.format(                                        // Generate a String representing the object’s value.\n    DateTimeFormatter.ISO_LOCAL_DATE_TIME       // Built-in predefined formatter close to what you want. \n)\n.replace( \"T\" , \" \" )                           // Replace the standard’s use of a 'T' in the middle with your desired SPACE character.\n</code></pre>\n\n<blockquote>\n  <p>2008-01-01 00:00:00</p>\n</blockquote>\n\n<h1>Details</h1>\n\n<p>Other Answers are correct, but use old date-time classes now outmoded by the java.time framework.</p>\n\n<h1>java.time</h1>\n\n<p>The java.time framework is built into Java 8 and later. Much of the java.time functionality is back-ported to Java 6 &amp; 7 (<a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\">ThreeTen-Backport</a>) and further adapted to Android (<a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\">ThreeTenABP</a>).</p>\n\n<p>First alter the input string to comply with the canonical version of ISO 8601 format. The standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> formats are used by default in java.time classes for parsing/generating strings that represent date-time values. We need to replace that SPACE in the middle with a <code>T</code>.</p>\n\n<pre><code>String input = \"2008-01-01 13:15:00\".replace( \" \" , \"T\" );  // → 2008-01-01T13:15:00\n</code></pre>\n\n<p>Now we can parse it as a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a>, where “Local” means no specific locality. The input lacks any <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"noreferrer\">offset-from-UTC</a> or time zone info.</p>\n\n<pre><code>LocalDateTime ldt = LocalDateTime.parse( input );\n</code></pre>\n\n<blockquote>\n  <p>ldt.toString()… 2008-01-01T13:15:00</p>\n</blockquote>\n\n<p>If you do not care about time-of-day nor time zone, then convert to a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a>.</p>\n\n<pre><code>LocalDate ld = ldt.toLocalDate();\n</code></pre>\n\n<blockquote>\n  <p>ld.toString()… 2008-01-01</p>\n</blockquote>\n\n<h1>First Moment Of Day</h1>\n\n<p>If instead you want the time-of-day set to the first moment of the day, use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a> class, then convert to a <code>LocalDate</code> object to call its <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#atStartOfDay--\" rel=\"noreferrer\"><code>atStartOfDay</code></a> method. Be aware that the first moment may not be the time <code>00:00:00</code> because of Daylight Saving Time or perhaps other anomalies.</p>\n\n<p>The time zone is crucial because for any given moment the date varies around the world by zone. For example, a few moments after midnight in Paris is a new day for Parisians but is still “yesterday” in Montréal for the Canadians.</p>\n\n<pre><code>ZoneId zoneId = ZoneId.of( \"America/Montreal\" );\nZonedDateTime zdt = ldt.atZone( zoneId );\nLocalDate ldFromZdt = zdt.toLocalDate();\nZonedDateTime zdtStartOfDay = ldFromZdt.atStartOfDay( zoneId );\n</code></pre>\n\n<blockquote>\n  <p>zdtStartOfDay.toString()… 2008-01-01T00:00:00-05:00[America/Montreal]</p>\n</blockquote>\n\n<h1>UTC</h1>\n\n<p>To see that moment through the lens of the <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a> time zone, extract a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> object. Both the <code>ZonedDateTime</code> and <code>Instant</code> will represent the same moment on the timeline but appear as two different <a href=\"https://en.wikipedia.org/wiki/Wall_clock_time\" rel=\"noreferrer\">wall-clock times</a>.</p>\n\n<p>An <code>Instant</code> is the basic building-block class in java.time, always in UTC by definition. Use this class frequently, as you should generally be doing your business logic, data storage, and data exchange in UTC.</p>\n\n<pre><code>Instant instant = zdtStartOfDay.toInstant();\n</code></pre>\n\n<blockquote>\n  <p>instant.toString()… 2008-01-01T05:00:00Z</p>\n</blockquote>\n\n<p>We see 5 AM rather than stroke-of-midnight. In standard format, the <code>Z</code> on the end is short for <code>Zulu</code> and means “UTC”.</p>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the java.time classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":9585895,"reputation":11,"user_id":7118682,"display_name":"Gelbert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515031632,"creation_date":1514339206,"answer_id":47985406,"question_id":1908387,"body_markdown":" I fixed the issue like this(in Eastern eight zone(Beijing time)):\r\n  \r\n\r\n    private Date getTruncatedDate(Date d) {\r\n    \tif (d == null) {\r\n    \t\treturn null;\r\n    \t}\r\n    \tlong h = 60 * 60 * 1000L;\r\n    \tlong dateStamp = d.getTime() - (d.getTime() + 8 * h) % (24 * h);\r\n    \treturn new Date(dateStamp);\r\n    }\r\n\r\n-----------------------------\r\nFirst of all, you should be clear what is time stamp.\r\nTime stamp is the total milliseconds from Jan 01 00:00:00 1970 of GMT(same as UTC), or Thu Jan 01 08:00:00 CST 1970 to now. \r\n\r\n**Remember: Time stamp is independent of time zone.**\r\n\r\nSo you get same result with the following statement in differnt time zones:\r\n\r\n    System.out.println(new Date().getTime());\r\nAnd \r\n\r\n    System.out.println(new Date(0));\r\n\r\nprints diferent time info in different time zones:\r\nIf you set your pc time zone as UTC, you get \r\n\r\n    Thu Jan 01 00:00:00 UTC 1970\r\nBut if you set the time zone as (UTC +8:00) Beijing, Chongqing, HongKong, Urumq, you get:\r\n\r\n    Thu Jan 01 08:00:00 CST 1970\r\n\r\nJava gets the time stamp, then displays date and time info according on the time zone.\r\n\r\n\r\nFor the introduction of how Java displays date and time info in different time zones, how to trancate the time info is easy. You should get the  time stamp , and take the time zone into account when cut off the time info. Then you can create a new Date object with the cut time stamp(we can call it date stamp), java will compensate the time zone when displays date info.\r\n\r\nAs in  Eastern eight zone(Beijing time), the Beijing time is earlier 8 hours than   GMT, so you should subtract more 8 hours when you do the modulo operation. \r\nThat&#39;s to say, you should get the GMT time first, then Java will add 8 hours when display time based on your pc&#39;s time zone setting.\r\n\r\n\r\n--------------------------\r\nThe time zone issue  is obscure, and also puzzles me for a long time. Now I make it clear.\r\nHope helps.\r\n\r\n----------------------------------------------------------------------\r\n2018-01-04\r\nThe method below also works.\r\n\r\n    private Date getTruncatedDate2(Date d) {\r\n    \tCalendar cal = Calendar.getInstance(); // locale-specific\r\n    \tcal.setTime(d);\r\n    \tcal.set(Calendar.HOUR_OF_DAY, 0);\r\n    \tcal.set(Calendar.MINUTE, 0);\r\n    \tcal.set(Calendar.SECOND, 0);\r\n    \tcal.set(Calendar.MILLISECOND, 0);\r\n    \t\r\n\r\n    return cal.getTime();\r\n\r\n}","title":"Java Date cut off time information","body":"<p>I fixed the issue like this(in Eastern eight zone(Beijing time)):</p>\n\n<pre><code>private Date getTruncatedDate(Date d) {\n    if (d == null) {\n        return null;\n    }\n    long h = 60 * 60 * 1000L;\n    long dateStamp = d.getTime() - (d.getTime() + 8 * h) % (24 * h);\n    return new Date(dateStamp);\n}\n</code></pre>\n\n<hr>\n\n<p>First of all, you should be clear what is time stamp.\nTime stamp is the total milliseconds from Jan 01 00:00:00 1970 of GMT(same as UTC), or Thu Jan 01 08:00:00 CST 1970 to now. </p>\n\n<p><strong>Remember: Time stamp is independent of time zone.</strong></p>\n\n<p>So you get same result with the following statement in differnt time zones:</p>\n\n<pre><code>System.out.println(new Date().getTime());\n</code></pre>\n\n<p>And </p>\n\n<pre><code>System.out.println(new Date(0));\n</code></pre>\n\n<p>prints diferent time info in different time zones:\nIf you set your pc time zone as UTC, you get </p>\n\n<pre><code>Thu Jan 01 00:00:00 UTC 1970\n</code></pre>\n\n<p>But if you set the time zone as (UTC +8:00) Beijing, Chongqing, HongKong, Urumq, you get:</p>\n\n<pre><code>Thu Jan 01 08:00:00 CST 1970\n</code></pre>\n\n<p>Java gets the time stamp, then displays date and time info according on the time zone.</p>\n\n<p>For the introduction of how Java displays date and time info in different time zones, how to trancate the time info is easy. You should get the  time stamp , and take the time zone into account when cut off the time info. Then you can create a new Date object with the cut time stamp(we can call it date stamp), java will compensate the time zone when displays date info.</p>\n\n<p>As in  Eastern eight zone(Beijing time), the Beijing time is earlier 8 hours than   GMT, so you should subtract more 8 hours when you do the modulo operation. \nThat's to say, you should get the GMT time first, then Java will add 8 hours when display time based on your pc's time zone setting.</p>\n\n<hr>\n\n<p>The time zone issue  is obscure, and also puzzles me for a long time. Now I make it clear.\nHope helps.</p>\n\n<hr>\n\n<p>2018-01-04\nThe method below also works.</p>\n\n<pre><code>private Date getTruncatedDate2(Date d) {\n    Calendar cal = Calendar.getInstance(); // locale-specific\n    cal.setTime(d);\n    cal.set(Calendar.HOUR_OF_DAY, 0);\n    cal.set(Calendar.MINUTE, 0);\n    cal.set(Calendar.SECOND, 0);\n    cal.set(Calendar.MILLISECOND, 0);\n\n\nreturn cal.getTime();\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":1677099,"reputation":10905,"user_id":1542363,"accept_rate":92,"display_name":"Sam YC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1520935126,"creation_date":1520935126,"answer_id":49253153,"question_id":1908387,"body_markdown":"You can do this to avoid timezone issue:\r\n\r\n    public static Date truncDate(Date date) {\r\n    \tCalendar cal = Calendar.getInstance(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n    \tcal.setTime(date);\r\n    \tcal.set(Calendar.HOUR_OF_DAY, 0);\r\n    \tcal.set(Calendar.MINUTE, 0);\r\n    \tcal.set(Calendar.SECOND, 0);\r\n    \tcal.set(Calendar.MILLISECOND, 0);\r\n    \treturn cal.getTime();\r\n    }\r\n\r\nAlthough Java `Date` object is timestamp value, but during truncate, it will be converted to local timezone, so you will get surprising value if you expect value from UTC timezone.\r\n","title":"Java Date cut off time information","body":"<p>You can do this to avoid timezone issue:</p>\n\n<pre><code>public static Date truncDate(Date date) {\n    Calendar cal = Calendar.getInstance(TimeZone.getTimeZone(\"UTC\"));\n    cal.setTime(date);\n    cal.set(Calendar.HOUR_OF_DAY, 0);\n    cal.set(Calendar.MINUTE, 0);\n    cal.set(Calendar.SECOND, 0);\n    cal.set(Calendar.MILLISECOND, 0);\n    return cal.getTime();\n}\n</code></pre>\n\n<p>Although Java <code>Date</code> object is timestamp value, but during truncate, it will be converted to local timezone, so you will get surprising value if you expect value from UTC timezone.</p>\n"},{"tags":[],"owner":{"account_id":385199,"reputation":744,"user_id":742192,"display_name":"justCurious"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684151961,"creation_date":1683874332,"answer_id":76233797,"question_id":1908387,"body_markdown":"Solution:\r\ne.g: for truncating the timestamp to minutes, use:   \r\n\r\n \r\n\r\n    Timestamp timestamp=  Timestamp.from(Instant.now());\r\n    \r\n                  Timestamp.from(timestamp.toInstant().truncatedTo(ChronoUnit.MINUTES);","title":"Java Date cut off time information","body":"<p>Solution:\ne.g: for truncating the timestamp to minutes, use:</p>\n<pre><code>Timestamp timestamp=  Timestamp.from(Instant.now());\n\n              Timestamp.from(timestamp.toInstant().truncatedTo(ChronoUnit.MINUTES);\n</code></pre>\n"}],"owner":{"account_id":574749,"reputation":2015,"user_id":219553,"display_name":"Marco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257083,"favorite_count":0,"down_vote_count":0,"up_vote_count":137,"accepted_answer_id":1908419,"answer_count":21,"score":137,"last_activity_date":1684151961,"creation_date":1260892520,"question_id":1908387,"body_markdown":"I have a Java Date object containing date and time information. I want to write a method that cuts off the time information, truncates the hours-minutes-seconds, so I only have the date left.\r\n\r\nExample input:\r\n\r\n    2008-01-01 13:15:00\r\n\r\nExpected output:\r\n\r\n    2008-01-01 00:00:00\r\n\r\nDo you have a tip? I tried doing something like this:\r\n\r\n    (timestamp / (24 * 60 * 60 * 1000)) * (24 * 60 * 60 * 1000)\r\n\r\nbut I ran into problems with the timezone.","title":"Java Date cut off time information","body":"<p>I have a Java Date object containing date and time information. I want to write a method that cuts off the time information, truncates the hours-minutes-seconds, so I only have the date left.</p>\n\n<p>Example input:</p>\n\n<pre><code>2008-01-01 13:15:00\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>2008-01-01 00:00:00\n</code></pre>\n\n<p>Do you have a tip? I tried doing something like this:</p>\n\n<pre><code>(timestamp / (24 * 60 * 60 * 1000)) * (24 * 60 * 60 * 1000)\n</code></pre>\n\n<p>but I ran into problems with the timezone.</p>\n"},{"tags":["java","css","javafx","fxml","hbox"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1684151946,"creation_date":1684127725,"answer_id":76251035,"question_id":76250960,"body_markdown":"**Why your current approach fails**\r\n\r\nLook at the [CSS documentation][1].  \r\n\r\nFor [HBox](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/doc-files/cssref.html#hbox) \r\n\r\n&gt; Style class: empty by default\r\n\r\nFor [Label](https://stackoverflow.com/questions/76250960/cannot-style-hbox-or-vbox) \r\n\r\n&gt; Style class: label  \r\n\r\nSo there is no such style class as &quot;.hbox&quot; for a HBox unless you add one, which you have not done.\r\n\r\n**Background on CSS selectors and JavaFX**\r\n\r\nRead the section titled [&quot;CSS and the JavaFX Scene Graph&quot;](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/doc-files/cssref.html#introscenegraph):\r\n\r\n&gt; CSS selectors are used to match styles to scene‑graph nodes. The\r\n&gt; relationship of a Node to a CSS selector is as follows:\r\n&gt; \r\n&gt; * Node&#39;s getTypeSelector method returns a String which is analogous to a\r\n&gt; CSS Type Selector. By default, this method returns the simple name of\r\n&gt; the class. Note that the simple name of an inner class or of an\r\n&gt; anonymous class may not be usable as a type selector. In such a case,\r\n&gt; this method should be overridden to return a meaningful value. \r\n&gt; * Each\r\n&gt; node in the scene‑graph has a styleClass property. Note that a node\r\n&gt; may have more than one style‑class. A Node&#39;s styleClass is analogous\r\n&gt; to the class=&quot;...&quot; attribute that can appear on HTML elements. See\r\n&gt; Class Selectors. \r\n&gt; * Each node in the scene‑graph has an id variable, a\r\n&gt; string. This is analogous to the id=&quot;...&quot; attribute that can appear\r\n&gt; HTML elements. See ID Selectors.\r\n\r\n**Application examples**\r\n\r\nSo there are three ways you can fix this:\r\n\r\n1. Use a **type selector** in your CSS file:\r\n\r\n       HBox { &lt;css rules&gt; }\r\n\r\n2. Apply a **style class** in your CSS file:\r\n\r\n       .my-hbox-styleclass { &lt;css rules&gt; }\r\n\r\n   And in FXML write:\r\n\r\n       &lt;HBox styleClass=&quot;my-hbox-styleclass&quot;&gt;\r\n\r\n   OR in code write:\r\n\r\n       myHBox.getStyleClass().add(&quot;my-hbox-styleclass&quot;);\r\n\r\n3. Apply a **style id** in your CSS file:\r\n\r\n       #my-hbox-id { &lt;css rules&gt; }\r\n\r\n   And in FXML write:\r\n\r\n       &lt;HBox id=&quot;my-hbox-id&quot;&gt;\r\n\r\n   OR in code write:\r\n\r\n       myHBox.setId(&quot;my-hbox-id&quot;);\r\n\r\n**Selector scope differences**\r\n   \r\nThere are differences in the meaning for the standard application of each approach:\r\n\r\n 1. The **type selector** will apply to all HBox types in your UI.\r\n 2. The **class selector** will apply to anything which has the given style class applied.\r\n 3. The **id selector** is usually used for a single node in the UI, rather than a type or class of node.  It should be unique within an FXML document or scene graph tree, though this is not enforced.\r\n\r\n  [1]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/doc-files/cssref.html","title":"Cannot style hbox or vbox","body":"<p><strong>Why your current approach fails</strong></p>\n<p>Look at the <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/doc-files/cssref.html\" rel=\"nofollow noreferrer\">CSS documentation</a>.</p>\n<p>For <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/doc-files/cssref.html#hbox\" rel=\"nofollow noreferrer\">HBox</a></p>\n<blockquote>\n<p>Style class: empty by default</p>\n</blockquote>\n<p>For <a href=\"https://stackoverflow.com/questions/76250960/cannot-style-hbox-or-vbox\">Label</a></p>\n<blockquote>\n<p>Style class: label</p>\n</blockquote>\n<p>So there is no such style class as &quot;.hbox&quot; for a HBox unless you add one, which you have not done.</p>\n<p><strong>Background on CSS selectors and JavaFX</strong></p>\n<p>Read the section titled <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/doc-files/cssref.html#introscenegraph\" rel=\"nofollow noreferrer\">&quot;CSS and the JavaFX Scene Graph&quot;</a>:</p>\n<blockquote>\n<p>CSS selectors are used to match styles to scene‑graph nodes. The\nrelationship of a Node to a CSS selector is as follows:</p>\n<ul>\n<li>Node's getTypeSelector method returns a String which is analogous to a\nCSS Type Selector. By default, this method returns the simple name of\nthe class. Note that the simple name of an inner class or of an\nanonymous class may not be usable as a type selector. In such a case,\nthis method should be overridden to return a meaningful value.</li>\n<li>Each\nnode in the scene‑graph has a styleClass property. Note that a node\nmay have more than one style‑class. A Node's styleClass is analogous\nto the class=&quot;...&quot; attribute that can appear on HTML elements. See\nClass Selectors.</li>\n<li>Each node in the scene‑graph has an id variable, a\nstring. This is analogous to the id=&quot;...&quot; attribute that can appear\nHTML elements. See ID Selectors.</li>\n</ul>\n</blockquote>\n<p><strong>Application examples</strong></p>\n<p>So there are three ways you can fix this:</p>\n<ol>\n<li><p>Use a <strong>type selector</strong> in your CSS file:</p>\n<pre><code>HBox { &lt;css rules&gt; }\n</code></pre>\n</li>\n<li><p>Apply a <strong>style class</strong> in your CSS file:</p>\n<pre><code>.my-hbox-styleclass { &lt;css rules&gt; }\n</code></pre>\n<p>And in FXML write:</p>\n<pre><code>&lt;HBox styleClass=&quot;my-hbox-styleclass&quot;&gt;\n</code></pre>\n<p>OR in code write:</p>\n<pre><code>myHBox.getStyleClass().add(&quot;my-hbox-styleclass&quot;);\n</code></pre>\n</li>\n<li><p>Apply a <strong>style id</strong> in your CSS file:</p>\n<pre><code>#my-hbox-id { &lt;css rules&gt; }\n</code></pre>\n<p>And in FXML write:</p>\n<pre><code>&lt;HBox id=&quot;my-hbox-id&quot;&gt;\n</code></pre>\n<p>OR in code write:</p>\n<pre><code>myHBox.setId(&quot;my-hbox-id&quot;);\n</code></pre>\n</li>\n</ol>\n<p><strong>Selector scope differences</strong></p>\n<p>There are differences in the meaning for the standard application of each approach:</p>\n<ol>\n<li>The <strong>type selector</strong> will apply to all HBox types in your UI.</li>\n<li>The <strong>class selector</strong> will apply to anything which has the given style class applied.</li>\n<li>The <strong>id selector</strong> is usually used for a single node in the UI, rather than a type or class of node.  It should be unique within an FXML document or scene graph tree, though this is not enforced.</li>\n</ol>\n"}],"owner":{"account_id":28602575,"reputation":21,"user_id":21899187,"display_name":"DenisShanghai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1684151946,"creation_date":1684126560,"question_id":76250960,"body_markdown":"Quite frustrating as I follow guidelines and basic tutorial. I can apply CSS styles to differnt elements but not to vbox or hbox.\r\n\r\nI have the following simple Apps creating a simple scene using a FMXL and CSS:\r\n\r\n```\r\nimport java.net.URL;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\n\r\n\r\npublic class BingRen extends Application {\r\n\t@Override\r\n\tpublic void start(Stage primaryStage) {\r\n    \tParent root = null;\r\n    \tFXMLLoader loader = new FXMLLoader();\r\n    \tURL xmlUrl = getClass().getResource(&quot;/BingRen.fxml&quot;);\r\n    \tloader.setLocation(xmlUrl);\r\n\t\ttry {\r\n\t\t\troot = loader.load();\r\n\t\t\tScene scene = new Scene(root,400,400);\r\n\t\t\tscene.getStylesheets().add(getClass().getResource(&quot;BingRen.css&quot;).toExternalForm());\r\n\t\t\tprimaryStage.setScene(scene);\r\n\t\t\tprimaryStage.show();\r\n\t\t} catch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n```\r\n\r\nWith FXML, creating just a BordPane and 2 HBox containing one label each. Almost as simple as HellopApp :\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import java.lang.*?&gt;\r\n&lt;?import java.util.*?&gt;\r\n&lt;?import javafx.scene.*?&gt;\r\n&lt;?import javafx.scene.control.*?&gt;\r\n&lt;?import javafx.scene.layout.*?&gt;\r\n&lt;?import javafx.geometry.*?&gt;\r\n\r\n\r\n&lt;BorderPane fx:id=&quot;rootBorderPane&quot;\r\n\t\txmlns=&quot;http://javafx.com/javafx&quot;\r\n\t\txmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n\t\tfx:controller=&quot;MainControler&quot;&gt;\r\n\t&lt;top&gt;\r\n\t\t&lt;HBox&gt;\r\n\t\t\t&lt;Label text=&quot;BingRen app&quot; /&gt;\r\n\t\t&lt;/HBox&gt;\r\n\t&lt;/top&gt;\r\n\t&lt;bottom&gt;\r\n\t\t&lt;HBox&gt;\r\n\t\t\t&lt;Label text=&quot;Status bar&quot; /&gt;\r\n\t\t&lt;/HBox&gt;\r\n\t&lt;/bottom&gt;\r\n\t&lt;center&gt;\r\n\t&lt;/center&gt;\r\n&lt;/BorderPane&gt;\r\n```\r\n\r\nAnd CSS to set some basic properties:\r\n\r\n```\r\n.hbox {\r\n\t-fx-background-color: #00ff00;\r\n    -fx-border-color: #00ff00;\r\n    -fx-border-width: 2px;\r\n    -fx-padding: 10;\r\n    -fx-spacing: 8;\r\n}\r\n\r\n.label {\r\n    -fx-text-fill: #0000ff;\r\n}\r\n```\r\n\r\nLabel properly turn blue but not of the hbox style are applied\r\n\r\n---\r\n\r\nIn fact none of the suggestion worked.\r\n\r\nI tried :\r\n\r\n - Change .hbox to .Hbox in css file\r\n - Make a #allbox in css file and add fx-id=&quot;allbox&quot; and fxml file\r\n\r\nFor every change, I change the color for label to ensure the new version of css is read through.\r\n\r\nLabel always change color but I never get backgroung or paddings in the Hboxes","title":"Cannot style hbox or vbox","body":"<p>Quite frustrating as I follow guidelines and basic tutorial. I can apply CSS styles to differnt elements but not to vbox or hbox.</p>\n<p>I have the following simple Apps creating a simple scene using a FMXL and CSS:</p>\n<pre><code>import java.net.URL;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.stage.Stage;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\n\n\npublic class BingRen extends Application {\n    @Override\n    public void start(Stage primaryStage) {\n        Parent root = null;\n        FXMLLoader loader = new FXMLLoader();\n        URL xmlUrl = getClass().getResource(&quot;/BingRen.fxml&quot;);\n        loader.setLocation(xmlUrl);\n        try {\n            root = loader.load();\n            Scene scene = new Scene(root,400,400);\n            scene.getStylesheets().add(getClass().getResource(&quot;BingRen.css&quot;).toExternalForm());\n            primaryStage.setScene(scene);\n            primaryStage.show();\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>With FXML, creating just a BordPane and 2 HBox containing one label each. Almost as simple as HellopApp :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import java.lang.*?&gt;\n&lt;?import java.util.*?&gt;\n&lt;?import javafx.scene.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n&lt;?import javafx.geometry.*?&gt;\n\n\n&lt;BorderPane fx:id=&quot;rootBorderPane&quot;\n        xmlns=&quot;http://javafx.com/javafx&quot;\n        xmlns:fx=&quot;http://javafx.com/fxml&quot;\n        fx:controller=&quot;MainControler&quot;&gt;\n    &lt;top&gt;\n        &lt;HBox&gt;\n            &lt;Label text=&quot;BingRen app&quot; /&gt;\n        &lt;/HBox&gt;\n    &lt;/top&gt;\n    &lt;bottom&gt;\n        &lt;HBox&gt;\n            &lt;Label text=&quot;Status bar&quot; /&gt;\n        &lt;/HBox&gt;\n    &lt;/bottom&gt;\n    &lt;center&gt;\n    &lt;/center&gt;\n&lt;/BorderPane&gt;\n</code></pre>\n<p>And CSS to set some basic properties:</p>\n<pre><code>.hbox {\n    -fx-background-color: #00ff00;\n    -fx-border-color: #00ff00;\n    -fx-border-width: 2px;\n    -fx-padding: 10;\n    -fx-spacing: 8;\n}\n\n.label {\n    -fx-text-fill: #0000ff;\n}\n</code></pre>\n<p>Label properly turn blue but not of the hbox style are applied</p>\n<hr />\n<p>In fact none of the suggestion worked.</p>\n<p>I tried :</p>\n<ul>\n<li>Change .hbox to .Hbox in css file</li>\n<li>Make a #allbox in css file and add fx-id=&quot;allbox&quot; and fxml file</li>\n</ul>\n<p>For every change, I change the color for label to ensure the new version of css is read through.</p>\n<p>Label always change color but I never get backgroung or paddings in the Hboxes</p>\n"},{"tags":["java","sonarqube","sonarqube-scan","sonar-runner"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1684155625,"post_id":76253837,"comment_id":134471125,"body_markdown":"Sonar is for scanning Java source code. Java source code can&#39;t contain preprocessor conditions. Or put differently: if your source file contains preprocessor statements, then it isn&#39;t Java source code. Using preprocessors is exceedingly rare in the Java world, so you&#39;ll be hard-pressed to find many tools that support it (and most tools that handle Java source code won&#39;t consider it a bug if they don&#39;t support it).","body":"Sonar is for scanning Java source code. Java source code can&#39;t contain preprocessor conditions. Or put differently: if your source file contains preprocessor statements, then it isn&#39;t Java source code. Using preprocessors is exceedingly rare in the Java world, so you&#39;ll be hard-pressed to find many tools that support it (and most tools that handle Java source code won&#39;t consider it a bug if they don&#39;t support it)."},{"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"score":0,"creation_date":1689594880,"post_id":76253837,"comment_id":135230933,"body_markdown":"Thanks for Reply @JoachimSauer. My situation is that we have single code base which supports on-prem VM and Cloud and different libraries and method signatures as part of it.  The code has Pre-processors based IF/ELSE  like  #if profile=VM  else if profile=CLOUD.  i can&#39;t remove the pre-processors as the build fails because we have single code base/class for both the logics (VM and cloud).  Is there any solution ?  Does it mean sonar doesn&#39;t support pre-processors ?","body":"Thanks for Reply @JoachimSauer. My situation is that we have single code base which supports on-prem VM and Cloud and different libraries and method signatures as part of it.  The code has Pre-processors based IF/ELSE  like  #if profile=VM  else if profile=CLOUD.  i can&#39;t remove the pre-processors as the build fails because we have single code base/class for both the logics (VM and cloud).  Is there any solution ?  Does it mean sonar doesn&#39;t support pre-processors ?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1689596553,"post_id":76253837,"comment_id":135231328,"body_markdown":"Yeah, I&#39;m pretty sure Sonar doesn&#39;t support pre-processors. The usual way to solve your kind of problem in the Java world is to design some interfaces that have different implementations based on the target platform/capability. This would mean that your entire build could be &quot;real Java&quot; and has the added benefit that switching/picking the profile at runtime becomes possible (as opposed to having to recompile to target a different profile).","body":"Yeah, I&#39;m pretty sure Sonar doesn&#39;t support pre-processors. The usual way to solve your kind of problem in the Java world is to design some interfaces that have different implementations based on the target platform/capability. This would mean that your entire build could be &quot;real Java&quot; and has the added benefit that switching/picking the profile at runtime becomes possible (as opposed to having to recompile to target a different profile)."},{"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"score":1,"creation_date":1689838808,"post_id":76253837,"comment_id":135270803,"body_markdown":"For those who ran into same issue as me : - Fortunately , i had only 2 java files which has pre-processors in my entire project. So as a workaround , i just excluded those 2 files form scan using sonar.exlclusions=&#39;**/Test.java&#39;,&#39;**/Test2.java&#39; and the scan went fine. \nHowever , i admit that whatever way @JoachimSauer suggested is good approach in longer run.","body":"For those who ran into same issue as me : - Fortunately , i had only 2 java files which has pre-processors in my entire project. So as a workaround , i just excluded those 2 files form scan using sonar.exlclusions=&#39;**/Test.java&#39;,&#39;**/Test2.java&#39; and the scan went fine.  However , i admit that whatever way @JoachimSauer suggested is good approach in longer run."}],"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684151891,"creation_date":1684151891,"question_id":76253837,"body_markdown":"When running sonar on my java project  ,the sonar run fails because of a preprocessor usage in java code. Below is the exception\r\n\r\n  \r\n\r\n      ERROR: Error during SonarQube Scanner execution\r\n        java.lang.IllegalStateException: Can not execute Checkstyle\r\n        Caused by: com.puppycrawl.tools.checkstyle.api.CheckstyleException: Exception was thrown while processing SomeClass.java\r\n\r\nIt appears that in the java file , sonar failed to identify or ignore the pre-processor conditions \r\n\r\n    #if SOMEVAR!=&quot;abc&quot;\r\n    \r\n    #endif\r\n\r\nIs there any way to tell sonar to ignore or identify the preprocessors in java code.  I want sonar to continue with the scan.","title":"Tell Sonar to ignore or recoginze preprocessor in java","body":"<p>When running sonar on my java project  ,the sonar run fails because of a preprocessor usage in java code. Below is the exception</p>\n<pre><code>  ERROR: Error during SonarQube Scanner execution\n    java.lang.IllegalStateException: Can not execute Checkstyle\n    Caused by: com.puppycrawl.tools.checkstyle.api.CheckstyleException: Exception was thrown while processing SomeClass.java\n</code></pre>\n<p>It appears that in the java file , sonar failed to identify or ignore the pre-processor conditions</p>\n<pre><code>#if SOMEVAR!=&quot;abc&quot;\n\n#endif\n</code></pre>\n<p>Is there any way to tell sonar to ignore or identify the preprocessors in java code.  I want sonar to continue with the scan.</p>\n"},{"tags":["java","spring-boot","prometheus","jmx","spring-boot-actuator"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684152642,"post_id":76253833,"comment_id":134470382,"body_markdown":"For the application nothing changes. It all depends on the fact if you actually use JMX or not, that is the question that you need to answer yourself.","body":"For the application nothing changes. It all depends on the fact if you actually use JMX or not, that is the question that you need to answer yourself."},{"owner":{"account_id":4712117,"reputation":48,"user_id":3812323,"display_name":"kars89"},"score":0,"creation_date":1684231117,"post_id":76253833,"comment_id":134484044,"body_markdown":"@M.Deinum, I dont directly use the JMX, I wanted to know, if prometheus/actuator works  if I disable them.","body":"@M.Deinum, I dont directly use the JMX, I wanted to know, if prometheus/actuator works  if I disable them."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1684231160,"post_id":76253833,"comment_id":134484053,"body_markdown":"As stated that depends if there are other parts in your system (not necessarily your application) use JMX. Prometheus and the Actuator can work regardless of JMX. However this has been enabled for some reason, figure out that reason.","body":"As stated that depends if there are other parts in your system (not necessarily your application) use JMX. Prometheus and the Actuator can work regardless of JMX. However this has been enabled for some reason, figure out that reason."}],"owner":{"account_id":4712117,"reputation":48,"user_id":3812323,"display_name":"kars89"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684151844,"creation_date":1684151844,"question_id":76253833,"body_markdown":"I tried to browse and understand the JMX use case. But couldn&#39;t get much around it.\r\n\r\nIssue: we have the spring boot application which has the JMX ssl sniffing issue.  The JMX remote is enabled but without SSL.\r\n\r\n```\r\nJAVA_OPTS=&quot;$JAVA_OPTS -Dcom.sun.management.jmxremote\r\n    -Dcom.sun.management.jmxremote.ssl=false\r\n    -Dcom.sun.management.jmxremote.authenticate=false\r\n    -Dcom.sun.management.jmxremote.port=$JMX_PORT&quot;\r\n    \r\n```\r\n\r\nThere are 2 ways to resolve them.\r\n\r\n1. One is to enable SSL\r\n\r\n2. Remove the JMX\r\n\r\nLet&#39;s say I removed the JMX params in the Java Opts, what would be the effect of this on the spring boot 2.x application?\r\n\r\nThe spring boot actuator can still expose the metrics?\r\n\r\ntried to enable the SSL, but had ran into some issues.\r\n\r\nremoved the java opts, the sniffing issue is resolved.","title":"How JMX, actuator and prometheus connected?","body":"<p>I tried to browse and understand the JMX use case. But couldn't get much around it.</p>\n<p>Issue: we have the spring boot application which has the JMX ssl sniffing issue.  The JMX remote is enabled but without SSL.</p>\n<pre><code>JAVA_OPTS=&quot;$JAVA_OPTS -Dcom.sun.management.jmxremote\n    -Dcom.sun.management.jmxremote.ssl=false\n    -Dcom.sun.management.jmxremote.authenticate=false\n    -Dcom.sun.management.jmxremote.port=$JMX_PORT&quot;\n    \n</code></pre>\n<p>There are 2 ways to resolve them.</p>\n<ol>\n<li><p>One is to enable SSL</p>\n</li>\n<li><p>Remove the JMX</p>\n</li>\n</ol>\n<p>Let's say I removed the JMX params in the Java Opts, what would be the effect of this on the spring boot 2.x application?</p>\n<p>The spring boot actuator can still expose the metrics?</p>\n<p>tried to enable the SSL, but had ran into some issues.</p>\n<p>removed the java opts, the sniffing issue is resolved.</p>\n"},{"tags":["java","python"],"answers":[{"tags":[],"owner":{"account_id":2708733,"reputation":36521,"user_id":2337736,"display_name":"Peter DeGlopper"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1649693284,"creation_date":1385587765,"answer_id":20253427,"question_id":20253391,"body_markdown":"If I follow the described behavior, slice assignment is the Pythonic way to do this:\r\n\r\n    foo = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\r\n    bar = foo\r\n    baz = [10, 9, 8, 7, 6, 5, 4, 3, 2, 1]\r\n    foo[0:4] = baz[0:4]\r\n\r\n    &gt;&gt;&gt; foo\r\n    [10, 9, 8, 7, 4, 5, 6, 7, 8, 9]\r\n    &gt;&gt;&gt; bar\r\n    [10, 9, 8, 7, 4, 5, 6, 7, 8, 9]\r\n\r\nIf the source contains object references, that will assign references to the same objects into the destination - if you want to deep copy the source data I think you&#39;d have to do something like:\r\n\r\n    foo[0:4] = [copy.deepcopy(x) for x in baz[0:4]]\r\n","title":"Does Python have anything like Java&#39;s System.arraycopy?","body":"<p>If I follow the described behavior, slice assignment is the Pythonic way to do this:</p>\n<pre><code>foo = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\nbar = foo\nbaz = [10, 9, 8, 7, 6, 5, 4, 3, 2, 1]\nfoo[0:4] = baz[0:4]\n\n&gt;&gt;&gt; foo\n[10, 9, 8, 7, 4, 5, 6, 7, 8, 9]\n&gt;&gt;&gt; bar\n[10, 9, 8, 7, 4, 5, 6, 7, 8, 9]\n</code></pre>\n<p>If the source contains object references, that will assign references to the same objects into the destination - if you want to deep copy the source data I think you'd have to do something like:</p>\n<pre><code>foo[0:4] = [copy.deepcopy(x) for x in baz[0:4]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71043,"reputation":30960,"user_id":205521,"accept_rate":89,"display_name":"Thomas Ahle"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1385588391,"creation_date":1385587843,"answer_id":20253451,"question_id":20253391,"body_markdown":"**Update:** Peter DeGlopper&#39;s method is way better. Go for that one.\r\n\r\nSorry, this is the best you get:\r\n\r\n    def arrayCopy(src, srcPos, dest, destPos, length):\r\n        for i in range(length):\r\n            dest[i + destPos] = src[i + srcPos]","title":"Does Python have anything like Java&#39;s System.arraycopy?","body":"<p><strong>Update:</strong> Peter DeGlopper's method is way better. Go for that one.</p>\n\n<p>Sorry, this is the best you get:</p>\n\n<pre><code>def arrayCopy(src, srcPos, dest, destPos, length):\n    for i in range(length):\n        dest[i + destPos] = src[i + srcPos]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17206710,"reputation":1,"user_id":12457105,"display_name":"Louis Shi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599628703,"creation_date":1599628703,"answer_id":63805170,"question_id":20253391,"body_markdown":"    def array_copy(src: bytes, src_pos: int, dest: bytes, dest_pos: int, length: int) -&gt; bytes:\r\n    return dest[:dest_pos]+src[src_pos:length]+dest[dest_pos+length:]\r\n","title":"Does Python have anything like Java&#39;s System.arraycopy?","body":"<pre><code>def array_copy(src: bytes, src_pos: int, dest: bytes, dest_pos: int, length: int) -&gt; bytes:\nreturn dest[:dest_pos]+src[src_pos:length]+dest[dest_pos+length:]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8967536,"reputation":582,"user_id":6687477,"display_name":"6harat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684151323,"creation_date":1684151323,"answer_id":76253760,"question_id":20253391,"body_markdown":"If in case you are using a byte-like object (which support buffer protocol), in that case you can use `memoryview`\r\n\r\n```\r\nk = [3, 4, 1, 1, 9, 7, 6]\r\nbk = bytearray(k)\r\nmk = memoryview(bk)\r\nmk.obj\r\nmk[3:5] = b&quot;hu&quot;\r\nmk.obj\r\n```\r\n\r\nthis allows for faster mutations.  \r\nread more: https://docs.python.org/3/library/stdtypes.html#memoryview","title":"Does Python have anything like Java&#39;s System.arraycopy?","body":"<p>If in case you are using a byte-like object (which support buffer protocol), in that case you can use <code>memoryview</code></p>\n<pre><code>k = [3, 4, 1, 1, 9, 7, 6]\nbk = bytearray(k)\nmk = memoryview(bk)\nmk.obj\nmk[3:5] = b&quot;hu&quot;\nmk.obj\n</code></pre>\n<p>this allows for faster mutations.<br />\nread more: <a href=\"https://docs.python.org/3/library/stdtypes.html#memoryview\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/stdtypes.html#memoryview</a></p>\n"}],"owner":{"account_id":57869,"reputation":3260,"user_id":173355,"accept_rate":86,"display_name":"JeffHeaton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3458,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":20253427,"answer_count":4,"score":5,"last_activity_date":1684151323,"creation_date":1385587634,"question_id":20253391,"body_markdown":"Does Python have anything like Java&#39;s System.arraycopy? I don&#39;t want to just copy the reference (shallow copy) nor do I want to slice it (deep copy w/new ref).  I want to keep the target&#39;s reference (as I have multiple variables pointing to the same list) and copy the individual cells from the source to the target.  Exactly like Java&#39;s arraycopy.  So far the only way I can find to do this in Python is to write my own.  In Java it is more performant to use System.arraycopy than rolling your own, not sure if that is the case in Python.","title":"Does Python have anything like Java&#39;s System.arraycopy?","body":"<p>Does Python have anything like Java's System.arraycopy? I don't want to just copy the reference (shallow copy) nor do I want to slice it (deep copy w/new ref).  I want to keep the target's reference (as I have multiple variables pointing to the same list) and copy the individual cells from the source to the target.  Exactly like Java's arraycopy.  So far the only way I can find to do this in Python is to write my own.  In Java it is more performant to use System.arraycopy than rolling your own, not sure if that is the case in Python.</p>\n"},{"tags":["java","maven","wsdl","cxf","wsdl2java"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1348674522,"post_id":12605379,"comment_id":16991432,"body_markdown":"Don&#39;t define the packagename let cxf-codegen-plugin do the work.","body":"Don&#39;t define the packagename let cxf-codegen-plugin do the work."}],"answers":[{"tags":[],"owner":{"account_id":1170165,"reputation":23155,"user_id":1147529,"accept_rate":95,"display_name":"Paulius Matulionis"},"down_vote_count":0,"up_vote_count":61,"is_accepted":true,"score":61,"last_activity_date":1350039676,"creation_date":1348676871,"answer_id":12606266,"question_id":12605379,"body_markdown":"If you want to generate package depending on the namespace here is the solution:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;generate-sources&lt;/id&gt;\r\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;sourceRoot&gt;${basedir}/target/generated/src/main/java&lt;/sourceRoot&gt;\r\n                    &lt;wsdlOptions&gt;\r\n                        &lt;wsdlOption&gt;\r\n                            &lt;wsdl&gt;yourWsdl.wsld&lt;/wsdl&gt;\r\n                            &lt;extraargs&gt;\r\n                                &lt;extraarg&gt;-client&lt;/extraarg&gt;\r\n                                &lt;extraarg&gt;-verbose&lt;/extraarg&gt;\r\n                                &lt;extraarg&gt;-p&lt;/extraarg&gt;\r\n                                &lt;extraarg&gt;http://your.namespace/services/=your.package&lt;/extraarg&gt;\r\n                                &lt;extraarg&gt;-p&lt;/extraarg&gt;\r\n                                &lt;extraarg&gt;http://your.namespace2/services2/=your.package2&lt;/extraarg&gt;\r\n                            &lt;/extraargs&gt;\r\n                        &lt;/wsdlOption&gt;\r\n                    &lt;/wsdlOptions&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThis `&lt;extraarg&gt;http://your.namespace2/services2/=your.package2&lt;/extraarg&gt;` will map your namespace with the package you want.","title":"Custom package names cxf-codegen-plugin","body":"<p>If you want to generate package depending on the namespace here is the solution:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;generate-sources&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;configuration&gt;\n                &lt;sourceRoot&gt;${basedir}/target/generated/src/main/java&lt;/sourceRoot&gt;\n                &lt;wsdlOptions&gt;\n                    &lt;wsdlOption&gt;\n                        &lt;wsdl&gt;yourWsdl.wsld&lt;/wsdl&gt;\n                        &lt;extraargs&gt;\n                            &lt;extraarg&gt;-client&lt;/extraarg&gt;\n                            &lt;extraarg&gt;-verbose&lt;/extraarg&gt;\n                            &lt;extraarg&gt;-p&lt;/extraarg&gt;\n                            &lt;extraarg&gt;http://your.namespace/services/=your.package&lt;/extraarg&gt;\n                            &lt;extraarg&gt;-p&lt;/extraarg&gt;\n                            &lt;extraarg&gt;http://your.namespace2/services2/=your.package2&lt;/extraarg&gt;\n                        &lt;/extraargs&gt;\n                    &lt;/wsdlOption&gt;\n                &lt;/wsdlOptions&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;wsdl2java&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>This <code>&lt;extraarg&gt;http://your.namespace2/services2/=your.package2&lt;/extraarg&gt;</code> will map your namespace with the package you want.</p>\n"},{"tags":[],"owner":{"account_id":5650328,"reputation":1113,"user_id":4471199,"display_name":"RoBeaToZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684151187,"creation_date":1684151187,"answer_id":76253742,"question_id":12605379,"body_markdown":"You can use the `packagenames` configuration, too:\r\n\r\n```xml\r\n&lt;wsdlOption&gt;\r\n    &lt;wsdl&gt;yourWsdl.wsld&lt;/wsdl&gt;\r\n    &lt;extraargs&gt;\r\n        &lt;extraarg&gt;-client&lt;/extraarg&gt;\r\n        &lt;extraarg&gt;-verbose&lt;/extraarg&gt;\r\n    &lt;/extraargs&gt;\r\n    &lt;packagenames&gt;\r\n        &lt;packagename&gt;http://your.namespace/services/=your.package&lt;/packagename&gt;\r\n        &lt;packagename&gt;http://your.namespace2/services2/=your.package2&lt;/packagename&gt;\r\n    &lt;/packagenames&gt;\r\n&lt;/wsdlOption&gt;\r\n```\r\n\r\nI use the version `3.5.5` of `cxf-codegen-plugin`","title":"Custom package names cxf-codegen-plugin","body":"<p>You can use the <code>packagenames</code> configuration, too:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;wsdlOption&gt;\n    &lt;wsdl&gt;yourWsdl.wsld&lt;/wsdl&gt;\n    &lt;extraargs&gt;\n        &lt;extraarg&gt;-client&lt;/extraarg&gt;\n        &lt;extraarg&gt;-verbose&lt;/extraarg&gt;\n    &lt;/extraargs&gt;\n    &lt;packagenames&gt;\n        &lt;packagename&gt;http://your.namespace/services/=your.package&lt;/packagename&gt;\n        &lt;packagename&gt;http://your.namespace2/services2/=your.package2&lt;/packagename&gt;\n    &lt;/packagenames&gt;\n&lt;/wsdlOption&gt;\n</code></pre>\n<p>I use the version <code>3.5.5</code> of <code>cxf-codegen-plugin</code></p>\n"}],"owner":{"account_id":79645,"reputation":1302,"user_id":225683,"accept_rate":44,"display_name":"Gopal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31984,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":12606266,"answer_count":2,"score":23,"last_activity_date":1684151187,"creation_date":1348673784,"question_id":12605379,"body_markdown":"Imagine this scenario.\r\n\r\nI have a wsdl file with namespace a/b/c and it imports another wsdl whose namespace is m/n/o.\r\nUnfortunately, both of them have same ComplexTypes XYZ defined in them. Now, when I use  cxf-codegen-plugin to generate Java code and use custom package name &quot;com.qsrs.uvw&quot;, only one class is retained in the final code that is generated. Can someone help me out here?","title":"Custom package names cxf-codegen-plugin","body":"<p>Imagine this scenario.</p>\n\n<p>I have a wsdl file with namespace a/b/c and it imports another wsdl whose namespace is m/n/o.\nUnfortunately, both of them have same ComplexTypes XYZ defined in them. Now, when I use  cxf-codegen-plugin to generate Java code and use custom package name \"com.qsrs.uvw\", only one class is retained in the final code that is generated. Can someone help me out here?</p>\n"},{"tags":["java","spring-boot","logback","syslog"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1606633725,"post_id":65057439,"comment_id":115016085,"body_markdown":"You might be looking for http://logback.qos.ch/apidocs/ch/qos/logback/classic/spi/Configurator.html","body":"You might be looking for <a href=\"http://logback.qos.ch/apidocs/ch/qos/logback/classic/spi/Configurator.html\" rel=\"nofollow noreferrer\">logback.qos.ch/apidocs/ch/qos/logback/classic/spi/&hellip;</a>"},{"owner":{"account_id":12913491,"reputation":415,"user_id":9338509,"display_name":"lakshmiravali rimmalapudi"},"score":1,"creation_date":1606722664,"post_id":65057439,"comment_id":115036794,"body_markdown":"Thank you for the reply. If you have any sample code to use the above, that will be very helpful.","body":"Thank you for the reply. If you have any sample code to use the above, that will be very helpful."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1606774775,"post_id":65057439,"comment_id":115059298,"body_markdown":"I&#39;ve never used it. The only reason I know it exists is because [this documentation](http://logback.qos.ch/manual/configuration.html) mentions it, though I couldn&#39;t find good examples (but maybe I missed something). If you read the Javadoc of `Configurator`, `LoggerContext`, and `Logger` (and possibly some other interfaces/classes) you should be able to work out what to do. For example, you add an appender to a logger with `Logger#addAppender(Appender)`.","body":"I&#39;ve never used it. The only reason I know it exists is because <a href=\"http://logback.qos.ch/manual/configuration.html\" rel=\"nofollow noreferrer\">this documentation</a> mentions it, though I couldn&#39;t find good examples (but maybe I missed something). If you read the Javadoc of <code>Configurator</code>, <code>LoggerContext</code>, and <code>Logger</code> (and possibly some other interfaces/classes) you should be able to work out what to do. For example, you add an appender to a logger with <code>Logger#addAppender(Appender)</code>."}],"answers":[{"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684150297,"creation_date":1606948381,"answer_id":65117149,"question_id":65057439,"body_markdown":"Yes it is possible to configure logback programmatically, you need to extend ContextAwareBase and implement Configurator, like code below\r\n\r\n    public class MyLogbackConfigurer extends ContextAwareBase implements Configurator {\r\n        @Override\r\n        public void configure(LoggerContext lc) {\r\n            addInfo(&quot;Setting up default configuration.&quot;);\r\n    \r\n            ConsoleAppender&lt;ILoggingEvent&gt; ca = new ConsoleAppender&lt;ILoggingEvent&gt;();\r\n            ca.setContext(lc);\r\n            ca.setName(&quot;console&quot;);\r\n            LayoutWrappingEncoder&lt;ILoggingEvent&gt; encoder = new LayoutWrappingEncoder&lt;ILoggingEvent&gt;();\r\n            encoder.setContext(lc);\r\n    \r\n    \r\n            // same as\r\n            // PatternLayout layout = new PatternLayout();\r\n            // layout.setPattern(&quot;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&quot;);\r\n            TTLLLayout layout = new TTLLLayout();\r\n    \r\n            layout.setContext(lc);\r\n            layout.start();\r\n            encoder.setLayout(layout);\r\n    \r\n            ca.setEncoder(encoder);\r\n            ca.start();\r\n    \r\n            FileAppender f=new FileAppender();\r\n            f.setEncoder(encoder);\r\n            f.setLayout(layout);\r\n            f.setContext(lc);\r\n            f.setFile(&quot;log.log&quot;);\r\n            f.setAppend(true);\r\n            f.setName(&quot;logFile&quot;);\r\n            f.start();\r\n    \r\n            Logger rootLogger = lc.getLogger(Logger.ROOT_LOGGER_NAME);\r\n            rootLogger.addAppender(ca);\r\n            rootLogger.addAppender(f);\r\n    \r\n    \r\n            Logger springLogger = lc.getLogger(&quot;org.springframework&quot;);\r\n            springLogger.setLevel(Level.WARN);\r\n    \r\n        }\r\n    }\r\n\r\nand you will need to create a file under **src/main/resources/META-INF/services/ch.qos.logback.classic.spi.Configurator** which will have the class name of your configurer. Here is my [example][1] and for the [config][2].\r\n\r\nI did not use SyslogAppender before but you can change the example I gave and you can use **System.getProperty(&quot;proName&quot;)** or **System.getenv(&quot;envName&quot;)** \r\n\r\nBefore start implementing everything from scratch, have you tried to change xml like below ?\r\n\r\n     &lt;syslogHost&gt;${SYSLOG}&lt;/syslogHost&gt;\r\n\r\nAnd run the jar like this &quot;java -jar yourjarpath.jar -DSYSLOG=localhost:8080&quot; this way you will not need to write that configure class [detailed doc][3].\r\n\r\n\r\n  [1]: https://github.com/ozkanpakdil/spring-examples/blob/master/logback-code-config/src/main/resources/META-INF/services/ch.qos.logback.classic.spi.Configurator\r\n  [2]: https://github.com/ozkanpakdil/spring-examples/blob/master/logback-code-config/src/main/java/com/mascix/demo/MyLogbackConfigurer.java\r\n  [3]: http://logback.qos.ch/manual/configuration.html#variableSubstitution","title":"Is it possible to setup logback configuration programmatically?","body":"<p>Yes it is possible to configure logback programmatically, you need to extend ContextAwareBase and implement Configurator, like code below</p>\n<pre><code>public class MyLogbackConfigurer extends ContextAwareBase implements Configurator {\n    @Override\n    public void configure(LoggerContext lc) {\n        addInfo(&quot;Setting up default configuration.&quot;);\n\n        ConsoleAppender&lt;ILoggingEvent&gt; ca = new ConsoleAppender&lt;ILoggingEvent&gt;();\n        ca.setContext(lc);\n        ca.setName(&quot;console&quot;);\n        LayoutWrappingEncoder&lt;ILoggingEvent&gt; encoder = new LayoutWrappingEncoder&lt;ILoggingEvent&gt;();\n        encoder.setContext(lc);\n\n\n        // same as\n        // PatternLayout layout = new PatternLayout();\n        // layout.setPattern(&quot;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&quot;);\n        TTLLLayout layout = new TTLLLayout();\n\n        layout.setContext(lc);\n        layout.start();\n        encoder.setLayout(layout);\n\n        ca.setEncoder(encoder);\n        ca.start();\n\n        FileAppender f=new FileAppender();\n        f.setEncoder(encoder);\n        f.setLayout(layout);\n        f.setContext(lc);\n        f.setFile(&quot;log.log&quot;);\n        f.setAppend(true);\n        f.setName(&quot;logFile&quot;);\n        f.start();\n\n        Logger rootLogger = lc.getLogger(Logger.ROOT_LOGGER_NAME);\n        rootLogger.addAppender(ca);\n        rootLogger.addAppender(f);\n\n\n        Logger springLogger = lc.getLogger(&quot;org.springframework&quot;);\n        springLogger.setLevel(Level.WARN);\n\n    }\n}\n</code></pre>\n<p>and you will need to create a file under <strong>src/main/resources/META-INF/services/ch.qos.logback.classic.spi.Configurator</strong> which will have the class name of your configurer. Here is my <a href=\"https://github.com/ozkanpakdil/spring-examples/blob/master/logback-code-config/src/main/resources/META-INF/services/ch.qos.logback.classic.spi.Configurator\" rel=\"nofollow noreferrer\">example</a> and for the <a href=\"https://github.com/ozkanpakdil/spring-examples/blob/master/logback-code-config/src/main/java/com/mascix/demo/MyLogbackConfigurer.java\" rel=\"nofollow noreferrer\">config</a>.</p>\n<p>I did not use SyslogAppender before but you can change the example I gave and you can use <strong>System.getProperty(&quot;proName&quot;)</strong> or <strong>System.getenv(&quot;envName&quot;)</strong></p>\n<p>Before start implementing everything from scratch, have you tried to change xml like below ?</p>\n<pre><code> &lt;syslogHost&gt;${SYSLOG}&lt;/syslogHost&gt;\n</code></pre>\n<p>And run the jar like this &quot;java -jar yourjarpath.jar -DSYSLOG=localhost:8080&quot; this way you will not need to write that configure class <a href=\"http://logback.qos.ch/manual/configuration.html#variableSubstitution\" rel=\"nofollow noreferrer\">detailed doc</a>.</p>\n"}],"owner":{"account_id":12913491,"reputation":415,"user_id":9338509,"display_name":"lakshmiravali rimmalapudi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2542,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1684150297,"creation_date":1606629418,"question_id":65057439,"body_markdown":"I am new to logback, I want configure logback programmatically. Currently I am using static configuration like below:\r\n```\r\n&lt;configuration&gt;\r\n    &lt;appender name=&quot;KIWI&quot; class=&quot;ch.qos.logback.classic.net.SyslogAppender&quot;&gt;\r\n        &lt;syslogHost&gt;localhost:8080&lt;/syslogHost&gt;\r\n        &lt;facility&gt;LOCAL0&lt;/facility&gt;\r\n        &lt;suffixPattern&gt;%thread: %-5level %logger{36} - %msg%n&lt;/suffixPattern&gt;\r\n    &lt;/appender&gt;\r\n    \r\n    &lt;logger name=&quot;com.javacodegeeks.examples.logbacksyslogexample.message.kiwi&quot; level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;KIWI&quot; /&gt;\r\n    &lt;/logger&gt;\r\n&lt;/configuration&gt;\r\n```\r\nIs it possible to set the syslogHost dynamically?","title":"Is it possible to setup logback configuration programmatically?","body":"<p>I am new to logback, I want configure logback programmatically. Currently I am using static configuration like below:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;appender name=&quot;KIWI&quot; class=&quot;ch.qos.logback.classic.net.SyslogAppender&quot;&gt;\n        &lt;syslogHost&gt;localhost:8080&lt;/syslogHost&gt;\n        &lt;facility&gt;LOCAL0&lt;/facility&gt;\n        &lt;suffixPattern&gt;%thread: %-5level %logger{36} - %msg%n&lt;/suffixPattern&gt;\n    &lt;/appender&gt;\n    \n    &lt;logger name=&quot;com.javacodegeeks.examples.logbacksyslogexample.message.kiwi&quot; level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;KIWI&quot; /&gt;\n    &lt;/logger&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Is it possible to set the syslogHost dynamically?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":9829579,"reputation":927,"user_id":7281658,"display_name":"Sarel Foyerlicht"},"score":0,"creation_date":1684139190,"post_id":76252046,"comment_id":134467457,"body_markdown":"we need to see the controller(me.jake.skriptdnd.Controller)...","body":"we need to see the controller(me.jake.skriptdnd.Controller)..."},{"owner":{"account_id":28386551,"reputation":25,"user_id":21712941,"display_name":"Jake"},"score":0,"creation_date":1684143101,"post_id":76252046,"comment_id":134468281,"body_markdown":"It has been added","body":"It has been added"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1684151335,"post_id":76252046,"comment_id":134470043,"body_markdown":"Don&#39;t mix AWT and JavaFX unnecessarily. There is no need to use `MouseInfo` here; use the appropriate mouse event API from JavaFX. Don&#39;t use lookups to access elements defined in the FXML; use controller injection in the usual way.","body":"Don&#39;t mix AWT and JavaFX unnecessarily. There is no need to use <code>MouseInfo</code> here; use the appropriate mouse event API from JavaFX. Don&#39;t use lookups to access elements defined in the FXML; use controller injection in the usual way."},{"owner":{"account_id":28386551,"reputation":25,"user_id":21712941,"display_name":"Jake"},"score":0,"creation_date":1684152929,"post_id":76252046,"comment_id":134470464,"body_markdown":"Could you please elaborate on what you mean with Controller Injection? @James_D","body":"Could you please elaborate on what you mean with Controller Injection? @James_D"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1684157597,"post_id":76252046,"comment_id":134471578,"body_markdown":"Just the usual: define fields in the controller with field names matching the `fx:id` from the FXML, and annotate them `@FXML`. Then move all the initialization code that&#39;s currently in your `Application` class (which is not where it should be) using (fragile) lookups to the controller&#39;s `initialize` method. Any basic FXML tutorial should show you how to do this.","body":"Just the usual: define fields in the controller with field names matching the <code>fx:id</code> from the FXML, and annotate them <code>@FXML</code>. Then move all the initialization code that&#39;s currently in your <code>Application</code> class (which is not where it should be) using (fragile) lookups to the controller&#39;s <code>initialize</code> method. Any basic FXML tutorial should show you how to do this."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1684158144,"post_id":76252046,"comment_id":134471701,"body_markdown":"This is an `FXML` app, yet you got a lot going on in your `Main` class `SkriptDnD`.  The only thing it should be doing is maybe loading data and that data to your controller(s).","body":"This is an <code>FXML</code> app, yet you got a lot going on in your <code>Main</code> class <code>SkriptDnD</code>.  The only thing it should be doing is maybe loading data and that data to your controller(s)."}],"answers":[{"tags":[],"owner":{"account_id":9829579,"reputation":927,"user_id":7281658,"display_name":"Sarel Foyerlicht"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684150147,"creation_date":1684150147,"answer_id":76253608,"question_id":76252046,"body_markdown":"the issue is that you use Window to calculate the location.\r\nyou need to use always the same X,Y when calculating, for example if you want to do it based on the Scene\r\n\r\n    import javafx.geometry.Bounds;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.input.MouseEvent;\r\n    import javafx.scene.layout.Pane;\r\n    import javafx.scene.layout.Region;\r\n    import javafx.stage.Window;\r\n    \r\n    import java.awt.*;\r\n    import java.util.ArrayList;\r\n    \r\n    public class DragPane extends Pane {\r\n        public Point lastValid = new Point();\r\n        public Point current = new Point();\r\n        public ArrayList&lt;Region&gt; intersects = new ArrayList&lt;&gt;();\r\n        public Pane myPane;\r\n        public DragPane(boolean draggable,Pane myPane) {//get the pane to use for calculate location\r\n            this.myPane = myPane;\r\n            if (draggable) {\r\n                addEventFilter(\r\n                        MouseEvent.MOUSE_PRESSED,\r\n                        mouseEvent -&gt; {\r\n                            Bounds boundsInScene = this.localToScene(this.getBoundsInLocal());\r\n                            current.setLocation(boundsInScene.getMinX(), boundsInScene.getMinY());//use the same place always no where the click is on the shape\r\n                        }\r\n                );\r\n    \r\n                setOnMouseDragged(mouseEvent -&gt; {\r\n                    Bounds boundsInScene = myPane.localToScene(myPane.getBoundsInLocal());\r\n                    int windowX = (int) boundsInScene.getMinX();\r\n                    int windowY = (int) boundsInScene.getMinY();\r\n                    int windowWidth = (int) myPane.getWidth();\r\n                    int windowHeight = (int) myPane.getHeight();\r\n                    if(mouseEvent.getEventType() != MouseEvent.MOUSE_DRAGGED){\r\n                        return;\r\n                    }\r\n                    int mouseX = (int)mouseEvent.getSceneX() - (int) boundsInScene.getMinX();\r\n                    int mouseY = (int)mouseEvent.getSceneY() - (int) boundsInScene.getMinY();\r\n                    System.out.println(&quot;sx: &quot; + mouseEvent.getSceneX() + &quot; sy: &quot; + mouseEvent.getSceneY());\r\n                    System.out.println(&quot;x: &quot; + mouseX + &quot; y: &quot; + mouseY);\r\n                    System.out.println(&quot;cx: &quot; + current.x + &quot; cy: &quot; + current.y);\r\n                    int futureX =  mouseX;\r\n                    int futureY =  mouseY;\r\n                    if(futureX + getWidth()/2 &lt; windowX || futureX &gt; windowWidth){\r\n                        futureX = 0; //todo: take care of futureX &gt; windowWidth\r\n                    }\r\n                    if(futureY + getHeight()/2 &lt; windowY || futureY &gt; windowHeight){\r\n                        futureY = 0; //todo: take care of futureY &gt; windowHeight\r\n                    }\r\n                    Point futurePoint = new Point(futureX, futureY);\r\n                    translate(futurePoint);\r\n                    current.setLocation(futureX, futureY);\r\n                });\r\n            }\r\n        }\r\n    \r\n        public void translate(Point point) {\r\n            setTranslateX(point.x); //this is by Scene - 0 is in myPane.boundsInScene.getMinX()\r\n            setTranslateY(point.y); //this is by Scene - 0 is in myPane.boundsInScene.getMinY()\r\n        }\r\n    \r\n        public void addIntersects(Region region) {\r\n            intersects.add(region);\r\n        }\r\n    \r\n        public void clearIntersects() {\r\n            intersects.clear();\r\n        }\r\n    \r\n    }","title":"JavaFX Inaccurate Coordinates","body":"<p>the issue is that you use Window to calculate the location.\nyou need to use always the same X,Y when calculating, for example if you want to do it based on the Scene</p>\n<pre><code>import javafx.geometry.Bounds;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.Region;\nimport javafx.stage.Window;\n\nimport java.awt.*;\nimport java.util.ArrayList;\n\npublic class DragPane extends Pane {\n    public Point lastValid = new Point();\n    public Point current = new Point();\n    public ArrayList&lt;Region&gt; intersects = new ArrayList&lt;&gt;();\n    public Pane myPane;\n    public DragPane(boolean draggable,Pane myPane) {//get the pane to use for calculate location\n        this.myPane = myPane;\n        if (draggable) {\n            addEventFilter(\n                    MouseEvent.MOUSE_PRESSED,\n                    mouseEvent -&gt; {\n                        Bounds boundsInScene = this.localToScene(this.getBoundsInLocal());\n                        current.setLocation(boundsInScene.getMinX(), boundsInScene.getMinY());//use the same place always no where the click is on the shape\n                    }\n            );\n\n            setOnMouseDragged(mouseEvent -&gt; {\n                Bounds boundsInScene = myPane.localToScene(myPane.getBoundsInLocal());\n                int windowX = (int) boundsInScene.getMinX();\n                int windowY = (int) boundsInScene.getMinY();\n                int windowWidth = (int) myPane.getWidth();\n                int windowHeight = (int) myPane.getHeight();\n                if(mouseEvent.getEventType() != MouseEvent.MOUSE_DRAGGED){\n                    return;\n                }\n                int mouseX = (int)mouseEvent.getSceneX() - (int) boundsInScene.getMinX();\n                int mouseY = (int)mouseEvent.getSceneY() - (int) boundsInScene.getMinY();\n                System.out.println(&quot;sx: &quot; + mouseEvent.getSceneX() + &quot; sy: &quot; + mouseEvent.getSceneY());\n                System.out.println(&quot;x: &quot; + mouseX + &quot; y: &quot; + mouseY);\n                System.out.println(&quot;cx: &quot; + current.x + &quot; cy: &quot; + current.y);\n                int futureX =  mouseX;\n                int futureY =  mouseY;\n                if(futureX + getWidth()/2 &lt; windowX || futureX &gt; windowWidth){\n                    futureX = 0; //todo: take care of futureX &gt; windowWidth\n                }\n                if(futureY + getHeight()/2 &lt; windowY || futureY &gt; windowHeight){\n                    futureY = 0; //todo: take care of futureY &gt; windowHeight\n                }\n                Point futurePoint = new Point(futureX, futureY);\n                translate(futurePoint);\n                current.setLocation(futureX, futureY);\n            });\n        }\n    }\n\n    public void translate(Point point) {\n        setTranslateX(point.x); //this is by Scene - 0 is in myPane.boundsInScene.getMinX()\n        setTranslateY(point.y); //this is by Scene - 0 is in myPane.boundsInScene.getMinY()\n    }\n\n    public void addIntersects(Region region) {\n        intersects.add(region);\n    }\n\n    public void clearIntersects() {\n        intersects.clear();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":28386551,"reputation":25,"user_id":21712941,"display_name":"Jake"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76253608,"answer_count":1,"score":0,"last_activity_date":1684150147,"creation_date":1684138039,"question_id":76252046,"body_markdown":"The title is a bit broad but I don&#39;t know how to describe this issue in fewer words.\r\n\r\nI&#39;m making an application in JavaFX with Scene Builder, the point of this application is to have a list of elements to choose from (whichever element you choose doesn&#39;t change anything at the moment since I&#39;ve been trying to fix this major issue along a few others) and to add to the main area in the middle by pressing the insert button, those elements are draggable once added and this is what it looks like once you add one:\r\n[![enter image description here](https://i.stack.imgur.com/Z4SbR.png)](https://i.stack.imgur.com/Z4SbR.png)\r\n\r\nThe header at the top is not part of the main area where those elements will be moved around and so I&#39;ve made a system that is supposed to stop the draggable pane from intersecting with other Regions of choice.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/WKruO.png)](https://i.stack.imgur.com/WKruO.png)\r\nThe issue I&#39;m having is that this header&#39;s coordinates don&#39;t align with the shown rectangle, what I mean by that is that in the image above the draggable pane cannot go higher than that, it&#39;s stopped from doing that, but it can go and move freely within the area where the header actually is:\r\n[![enter image description here](https://i.stack.imgur.com/vUFW0.png)](https://i.stack.imgur.com/vUFW0.png)\r\n\r\n\r\n\r\n\r\n\r\nHere&#39;s the code I&#39;m using:\r\n\r\nMain Class: (This Application uses a Json api thing that I have stored in my project, remove anything that has to do with it such as the Gson Stuff for testing)\r\n```java\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.JsonArray;\r\nimport com.google.gson.JsonElement;\r\nimport com.google.gson.JsonObject;\r\nimport javafx.application.Application;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ComboBox;\r\nimport javafx.scene.input.MouseButton;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.stage.Stage;\r\nimport javafx.stage.Window;\r\n\r\nimport java.awt.*;\r\nimport java.io.IOException;\r\nimport java.io.Reader;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.ArrayList;\r\nimport java.util.TreeMap;\r\n\r\npublic class SkriptDnD extends Application {\r\n    public static TreeMap&lt;String, JsonObject&gt; skriptElements = new TreeMap&lt;&gt;();\r\n    public static TreeMap&lt;String, ArrayList&lt;String&gt;&gt; skriptTypeElementNames;\r\n\r\n    TreeMap&lt;String, Color&gt; skriptTypeColors;\r\n\r\n    {\r\n        try {\r\n            skriptTypeColors = new TreeMap&lt;&gt;() {{\r\n                put(&quot;Event&quot;, Color.rgb(146, 44, 255));\r\n                put(&quot;Expression&quot;, Color.rgb(123, 250, 36));\r\n                put(&quot;Effect&quot;, Color.rgb(36, 136, 250));\r\n                put(&quot;Condition&quot;, Color.rgb(255, 52, 52));\r\n                put(&quot;Type&quot;, Color.rgb(255, 184, 30));\r\n                put(&quot;Function&quot;, Color.rgb(168, 168, 168));\r\n                put(&quot;Section&quot;, Color.rgb(104, 204, 192));\r\n            }};\r\n            Gson gson = new Gson();\r\n            Reader reader = Files.newBufferedReader(Paths.get(&quot;src/main/resources/me/jake/skriptdnd/skript.json&quot;));\r\n            skriptTypeElementNames = new TreeMap&lt;&gt;();\r\n            JsonArray jsonArray = gson.fromJson(reader, JsonArray.class);\r\n            for (JsonElement element : jsonArray) {\r\n                JsonObject object = element.getAsJsonObject();\r\n                String name = object.get(&quot;title&quot;).getAsString();\r\n                skriptElements.put(name, object);\r\n                String doc = object.get(&quot;syntax_type&quot;).getAsString().toLowerCase();\r\n                if (!skriptTypeElementNames.containsKey(doc)) {\r\n                    skriptTypeElementNames.put(doc, new ArrayList&lt;&gt;());\r\n                }\r\n                skriptTypeElementNames.get(doc).add(name);\r\n            }\r\n            reader.close();\r\n        } catch (Exception exception) {\r\n            try {\r\n                throw exception;\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    @Override\r\n    public void start(Stage stage) throws IOException{\r\n        try {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;Main.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load());\r\n\r\n            String css = getClass().getResource(&quot;SkriptDnD.css&quot;).toExternalForm();\r\n            scene.getStylesheets().add(css);\r\n\r\n            stage.setTitle(&quot;SkriptDnD&quot;);\r\n            stage.setScene(scene);\r\n            stage.setMinHeight(550);\r\n            stage.setMinWidth(800);\r\n\r\n\r\n            StackPane header = (StackPane) scene.lookup(&quot;#header&quot;);\r\n            Pane sidebar = (Pane) scene.lookup(&quot;#sidebar&quot;);\r\n\r\n\r\n            ComboBox&lt;String&gt; typeComboBox = (ComboBox&lt;String&gt;) scene.lookup(&quot;#typeComboBox&quot;);\r\n            ObservableList&lt;String&gt; types = typeComboBox.getItems();\r\n            types.add(&quot;All&quot;);\r\n            types.addAll(skriptTypeColors.keySet());\r\n            typeComboBox.getSelectionModel().selectFirst();\r\n\r\n            ComboBox&lt;String&gt; elementComboBox = (ComboBox&lt;String&gt;) scene.lookup(&quot;#elementComboBox&quot;);\r\n            elementComboBox.getItems().addAll(skriptElements.keySet());\r\n            elementComboBox.getSelectionModel().selectFirst();\r\n\r\n            Pane canvasPane = (Pane) scene.lookup(&quot;#canvasPane&quot;);\r\n            canvasPane.setOnMousePressed(mouseEvent2 -&gt; {\r\n                Point location = MouseInfo.getPointerInfo().getLocation();\r\n                int mouseX = location.x;\r\n                int mouseY = location.y;\r\n                Window window = scene.getWindow();\r\n                int windowX = (int) window.getX();\r\n                int windowY = (int) window.getY();\r\n                System.out.print(&quot;\\n&quot;+new Point(mouseX-windowX,mouseY-windowY));\r\n            });\r\n            Button insertButton = (Button) scene.lookup(&quot;#insertButton&quot;);\r\n            insertButton.setOnMousePressed(mouseEvent -&gt; {\r\n                DragPane elementPane = new DragPane(true);\r\n                elementPane.setTranslateX(300);\r\n                elementPane.setTranslateY(300);\r\n                elementPane.setPrefWidth(100);\r\n                elementPane.setPrefHeight(100);\r\n                elementPane.addIntersects(header);\r\n                System.out.print(Utils.getRectangle(header));\r\n                //elementPane.addIntersects(sidebar);\r\n                Rectangle rectangle = new Rectangle(100,100,Color.rgb(100,100,100));\r\n                rectangle.setX(0);\r\n                rectangle.setY(0);\r\n                rectangle.setArcWidth(10);\r\n                rectangle.setArcHeight(10);\r\n                elementPane.setOnMousePressed(mouseEvent12 -&gt; {\r\n                    if (mouseEvent12.getButton() == MouseButton.MIDDLE) {\r\n                        canvasPane.getChildren().remove(elementPane);\r\n                    }\r\n                });\r\n                elementPane.getChildren().add(rectangle);\r\n                canvasPane.getChildren().add(elementPane);\r\n\r\n            });\r\n            stage.show();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\n\r\nDragPane Class:\r\n```java\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.layout.Region;\r\nimport javafx.stage.Window;\r\n\r\nimport java.awt.*;\r\nimport java.util.ArrayList;\r\n\r\npublic class DragPane extends Pane {\r\n    public Point lastValid = new Point();\r\n    public Point offset = new Point();\r\n    public ArrayList&lt;Region&gt; intersects = new ArrayList&lt;&gt;();\r\n\r\n    public DragPane(boolean draggable) {\r\n        if (draggable) {\r\n            addEventFilter(\r\n                    MouseEvent.MOUSE_PRESSED,\r\n                    mouseEvent -&gt; {\r\n                        Point location = MouseInfo.getPointerInfo().getLocation();\r\n                        offset.setLocation(location.x, location.y);\r\n                    }\r\n            );\r\n\r\n            setOnMouseDragged(mouseEvent -&gt; {\r\n                Node source = (Node) mouseEvent.getSource();\r\n                Scene scene = source.getScene();\r\n                Window window = scene.getWindow();\r\n                int windowX = (int) window.getX();\r\n                int windowY = (int) window.getY();\r\n                int windowWidth = (int) window.getWidth();\r\n                int windowHeight = (int) window.getHeight();\r\n                Rectangle windowRectangle = new Rectangle(windowX, windowY, windowWidth, windowHeight);\r\n                Point location = MouseInfo.getPointerInfo().getLocation();\r\n                int mouseX = location.x;\r\n                int mouseY = location.y;\r\n                Point futurePoint = new Point(mouseX - offset.x, mouseY - offset.y);\r\n                if (windowRectangle.contains(location)) {\r\n                    if (Utils.intersects(Utils.offset(this, futurePoint),intersects)) {\r\n                        translate(futurePoint);\r\n                        offset.setLocation(mouseX, mouseY);\r\n                        lastValid.setLocation(futurePoint);\r\n                    } else {\r\n                        Point lastValidXPoint = new Point(futurePoint);\r\n                        lastValidXPoint.x = lastValid.x;\r\n                        Point lastValidYPoint = new Point(futurePoint);\r\n                        lastValidYPoint.y = lastValid.y;\r\n                        if (Utils.intersects(Utils.offset(this, lastValidXPoint),intersects)) {\r\n                            translate(lastValidXPoint);\r\n                        } else if (Utils.intersects(Utils.offset(this, lastValidYPoint),intersects)) {\r\n                            translate(lastValidYPoint);\r\n                        }\r\n\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    public void translate(Point point) {\r\n        setTranslateX(getTranslateX() + point.x);\r\n        setTranslateY(getTranslateY() + point.y);\r\n    }\r\n\r\n    public void addIntersects(Region region) {\r\n        intersects.add(region);\r\n    }\r\n\r\n    public void clearIntersects() {\r\n        intersects.clear();\r\n    }\r\n\r\n}\r\n```\r\n\r\nUtils Class:\r\n```java\r\nimport javafx.scene.layout.Region;\r\n\r\nimport java.awt.*;\r\nimport java.util.ArrayList;\r\n\r\npublic class Utils {\r\n    public static Rectangle getRectangle(Region region) {\r\n        return new Rectangle((int) region.getLayoutX(), (int) region.getLayoutY(), (int) region.getWidth(), (int) region.getHeight());\r\n    }\r\n\r\n    public static Rectangle offset(Region region, Point offset) {\r\n        double x = region.getTranslateX()+offset.x;\r\n        double y = region.getTranslateY()+offset.y;\r\n        double w = region.getWidth();\r\n        double h = region.getHeight();\r\n        return new Rectangle((int) x, (int) y, (int) w, (int) h);\r\n    }\r\n\r\n    public static boolean intersects(Rectangle rectangle, ArrayList&lt;Region&gt; intersects) {\r\n        return intersects.stream().noneMatch((other) -&gt; Utils.getRectangle(other).intersects(rectangle));\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nController Class:\r\n```java\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.ComboBox;\r\n\r\nimport java.util.Collections;\r\nimport java.util.Objects;\r\n\r\npublic class Controller {\r\n\r\n    public void typeSelect(ActionEvent event) {\r\n        Node source = (Node) event.getSource();\r\n        Scene scene = source.getScene();\r\n        ComboBox&lt;String&gt; typeComboBox = (ComboBox&lt;String&gt;) scene.lookup(&quot;#typeComboBox&quot;);\r\n        ComboBox&lt;String&gt; elementComboBox = (ComboBox&lt;String&gt;) scene.lookup(&quot;#elementComboBox&quot;);\r\n        String selected = typeComboBox.getSelectionModel().getSelectedItem().toLowerCase();\r\n        ObservableList&lt;String&gt; list = FXCollections.observableArrayList();\r\n        if (Objects.equals(selected, &quot;all&quot;)) {\r\n            list.setAll(SkriptDnD.skriptElements.keySet().stream().toList());\r\n        } else {\r\n            list.setAll(SkriptDnD.skriptTypeElementNames.get(selected));\r\n        }\r\n        Collections.sort(list);\r\n        elementComboBox.getItems().setAll(list);\r\n        elementComboBox.getSelectionModel().selectFirst();\r\n    }\r\n\r\n    public void elementSelect(ActionEvent event) {\r\n\r\n    }\r\n}\r\n```\r\n\r\nFXML File:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.geometry.Point3D?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.ComboBox?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.ToggleButton?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.BorderPane?&gt;\r\n&lt;?import javafx.scene.layout.HBox?&gt;\r\n&lt;?import javafx.scene.layout.Pane?&gt;\r\n&lt;?import javafx.scene.layout.StackPane?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n&lt;?import org.kordamp.ikonli.javafx.FontIcon?&gt;\r\n\r\n&lt;AnchorPane fx:id=&quot;anchorPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;550.0&quot; minWidth=&quot;800.0&quot; prefHeight=&quot;550.0&quot; prefWidth=&quot;800.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;me.jake.skriptdnd.Controller&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;BorderPane prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n         &lt;top&gt;\r\n            &lt;StackPane fx:id=&quot;header&quot; alignment=&quot;CENTER_RIGHT&quot; prefHeight=&quot;59.0&quot; prefWidth=&quot;800.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n               &lt;children&gt;\r\n                  &lt;Pane prefHeight=&quot;59.0&quot; prefWidth=&quot;538.0&quot; style=&quot;-fx-background-color: #2c2b2b;&quot;&gt;\r\n                     &lt;rotationAxis&gt;\r\n                        &lt;Point3D /&gt;\r\n                     &lt;/rotationAxis&gt;&lt;/Pane&gt;\r\n                  &lt;Label fx:id=&quot;label1&quot; text=&quot;SkriptDnD&quot; textAlignment=&quot;CENTER&quot; textFill=&quot;WHITE&quot; wrapText=&quot;true&quot; StackPane.alignment=&quot;CENTER_LEFT&quot;&gt;\r\n                     &lt;font&gt;\r\n                        &lt;Font name=&quot;Arial Bold&quot; size=&quot;18.0&quot; /&gt;\r\n                     &lt;/font&gt;\r\n                     &lt;StackPane.margin&gt;\r\n                        &lt;Insets left=&quot;40.0&quot; /&gt;\r\n                     &lt;/StackPane.margin&gt;\r\n                  &lt;/Label&gt;\r\n                  &lt;HBox alignment=&quot;CENTER_RIGHT&quot; nodeOrientation=&quot;LEFT_TO_RIGHT&quot;&gt;\r\n                     &lt;children&gt;\r\n                        &lt;Button fx:id=&quot;insertButton&quot; mnemonicParsing=&quot;false&quot; text=&quot;Insert&quot; textOverrun=&quot;CLIP&quot;&gt;\r\n                           &lt;HBox.margin&gt;\r\n                              &lt;Insets right=&quot;20.0&quot; /&gt;\r\n                           &lt;/HBox.margin&gt;\r\n                           &lt;font&gt;\r\n                              &lt;Font name=&quot;Arial Bold&quot; size=&quot;12.0&quot; /&gt;\r\n                           &lt;/font&gt;\r\n                        &lt;/Button&gt;\r\n                        &lt;ComboBox fx:id=&quot;typeComboBox&quot; nodeOrientation=&quot;LEFT_TO_RIGHT&quot; onAction=&quot;#typeSelect&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;150.0&quot; promptText=&quot;Type&quot; visibleRowCount=&quot;7&quot; HBox.hgrow=&quot;ALWAYS&quot;&gt;\r\n                           &lt;opaqueInsets&gt;\r\n                              &lt;Insets /&gt;\r\n                           &lt;/opaqueInsets&gt;\r\n                           &lt;HBox.margin&gt;\r\n                              &lt;Insets right=&quot;20.0&quot; /&gt;\r\n                           &lt;/HBox.margin&gt;\r\n                        &lt;/ComboBox&gt;\r\n                        &lt;ComboBox fx:id=&quot;elementComboBox&quot; onAction=&quot;#elementSelect&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;150.0&quot; promptText=&quot;Element&quot; HBox.hgrow=&quot;ALWAYS&quot; /&gt;\r\n                     &lt;/children&gt;\r\n                     &lt;opaqueInsets&gt;\r\n                        &lt;Insets /&gt;\r\n                     &lt;/opaqueInsets&gt;\r\n                     &lt;padding&gt;\r\n                        &lt;Insets right=&quot;50.0&quot; /&gt;\r\n                     &lt;/padding&gt;\r\n                  &lt;/HBox&gt;\r\n               &lt;/children&gt;\r\n            &lt;/StackPane&gt;\r\n         &lt;/top&gt;\r\n         &lt;left&gt;\r\n            &lt;StackPane prefHeight=&quot;491.0&quot; prefWidth=&quot;40.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n               &lt;children&gt;\r\n                  &lt;Pane fx:id=&quot;sidebar&quot; prefHeight=&quot;491.0&quot; prefWidth=&quot;34.0&quot; style=&quot;-fx-background-color: #ebebeb; -fx-border-color: #cfcece; -fx-border-style: solid; -fx-border-width: 0 1px 0 0;&quot;&gt;\r\n                     &lt;children&gt;\r\n                        &lt;ToggleButton layoutX=&quot;-3.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;38.0&quot; prefWidth=&quot;2.0&quot; style=&quot;-fx-background-color: #ebebeb;&quot; /&gt;\r\n                        &lt;FontIcon iconLiteral=&quot;far-arrow-alt-circle-right&quot; iconSize=&quot;30&quot; layoutX=&quot;5.0&quot; layoutY=&quot;30.0&quot; /&gt;\r\n                     &lt;/children&gt;\r\n                  &lt;/Pane&gt;\r\n               &lt;/children&gt;\r\n            &lt;/StackPane&gt;\r\n         &lt;/left&gt;\r\n         &lt;center&gt;\r\n            &lt;Pane fx:id=&quot;canvasPane&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\r\n         &lt;/center&gt;\r\n      &lt;/BorderPane&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\nScene Builder Hierarchy + Preview:\r\n[![enter image description here](https://i.stack.imgur.com/41ZGV.png)](https://i.stack.imgur.com/41ZGV.png)","title":"JavaFX Inaccurate Coordinates","body":"<p>The title is a bit broad but I don't know how to describe this issue in fewer words.</p>\n<p>I'm making an application in JavaFX with Scene Builder, the point of this application is to have a list of elements to choose from (whichever element you choose doesn't change anything at the moment since I've been trying to fix this major issue along a few others) and to add to the main area in the middle by pressing the insert button, those elements are draggable once added and this is what it looks like once you add one:\n<a href=\"https://i.stack.imgur.com/Z4SbR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z4SbR.png\" alt=\"enter image description here\" /></a></p>\n<p>The header at the top is not part of the main area where those elements will be moved around and so I've made a system that is supposed to stop the draggable pane from intersecting with other Regions of choice.</p>\n<p><a href=\"https://i.stack.imgur.com/WKruO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WKruO.png\" alt=\"enter image description here\" /></a>\nThe issue I'm having is that this header's coordinates don't align with the shown rectangle, what I mean by that is that in the image above the draggable pane cannot go higher than that, it's stopped from doing that, but it can go and move freely within the area where the header actually is:\n<a href=\"https://i.stack.imgur.com/vUFW0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vUFW0.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's the code I'm using:</p>\n<p>Main Class: (This Application uses a Json api thing that I have stored in my project, remove anything that has to do with it such as the Gson Stuff for testing)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.gson.Gson;\nimport com.google.gson.JsonArray;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport javafx.application.Application;\nimport javafx.collections.ObservableList;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ComboBox;\nimport javafx.scene.input.MouseButton;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\nimport javafx.stage.Window;\n\nimport java.awt.*;\nimport java.io.IOException;\nimport java.io.Reader;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.ArrayList;\nimport java.util.TreeMap;\n\npublic class SkriptDnD extends Application {\n    public static TreeMap&lt;String, JsonObject&gt; skriptElements = new TreeMap&lt;&gt;();\n    public static TreeMap&lt;String, ArrayList&lt;String&gt;&gt; skriptTypeElementNames;\n\n    TreeMap&lt;String, Color&gt; skriptTypeColors;\n\n    {\n        try {\n            skriptTypeColors = new TreeMap&lt;&gt;() {{\n                put(&quot;Event&quot;, Color.rgb(146, 44, 255));\n                put(&quot;Expression&quot;, Color.rgb(123, 250, 36));\n                put(&quot;Effect&quot;, Color.rgb(36, 136, 250));\n                put(&quot;Condition&quot;, Color.rgb(255, 52, 52));\n                put(&quot;Type&quot;, Color.rgb(255, 184, 30));\n                put(&quot;Function&quot;, Color.rgb(168, 168, 168));\n                put(&quot;Section&quot;, Color.rgb(104, 204, 192));\n            }};\n            Gson gson = new Gson();\n            Reader reader = Files.newBufferedReader(Paths.get(&quot;src/main/resources/me/jake/skriptdnd/skript.json&quot;));\n            skriptTypeElementNames = new TreeMap&lt;&gt;();\n            JsonArray jsonArray = gson.fromJson(reader, JsonArray.class);\n            for (JsonElement element : jsonArray) {\n                JsonObject object = element.getAsJsonObject();\n                String name = object.get(&quot;title&quot;).getAsString();\n                skriptElements.put(name, object);\n                String doc = object.get(&quot;syntax_type&quot;).getAsString().toLowerCase();\n                if (!skriptTypeElementNames.containsKey(doc)) {\n                    skriptTypeElementNames.put(doc, new ArrayList&lt;&gt;());\n                }\n                skriptTypeElementNames.get(doc).add(name);\n            }\n            reader.close();\n        } catch (Exception exception) {\n            try {\n                throw exception;\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    @Override\n    public void start(Stage stage) throws IOException{\n        try {\n            FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;Main.fxml&quot;));\n            Scene scene = new Scene(fxmlLoader.load());\n\n            String css = getClass().getResource(&quot;SkriptDnD.css&quot;).toExternalForm();\n            scene.getStylesheets().add(css);\n\n            stage.setTitle(&quot;SkriptDnD&quot;);\n            stage.setScene(scene);\n            stage.setMinHeight(550);\n            stage.setMinWidth(800);\n\n\n            StackPane header = (StackPane) scene.lookup(&quot;#header&quot;);\n            Pane sidebar = (Pane) scene.lookup(&quot;#sidebar&quot;);\n\n\n            ComboBox&lt;String&gt; typeComboBox = (ComboBox&lt;String&gt;) scene.lookup(&quot;#typeComboBox&quot;);\n            ObservableList&lt;String&gt; types = typeComboBox.getItems();\n            types.add(&quot;All&quot;);\n            types.addAll(skriptTypeColors.keySet());\n            typeComboBox.getSelectionModel().selectFirst();\n\n            ComboBox&lt;String&gt; elementComboBox = (ComboBox&lt;String&gt;) scene.lookup(&quot;#elementComboBox&quot;);\n            elementComboBox.getItems().addAll(skriptElements.keySet());\n            elementComboBox.getSelectionModel().selectFirst();\n\n            Pane canvasPane = (Pane) scene.lookup(&quot;#canvasPane&quot;);\n            canvasPane.setOnMousePressed(mouseEvent2 -&gt; {\n                Point location = MouseInfo.getPointerInfo().getLocation();\n                int mouseX = location.x;\n                int mouseY = location.y;\n                Window window = scene.getWindow();\n                int windowX = (int) window.getX();\n                int windowY = (int) window.getY();\n                System.out.print(&quot;\\n&quot;+new Point(mouseX-windowX,mouseY-windowY));\n            });\n            Button insertButton = (Button) scene.lookup(&quot;#insertButton&quot;);\n            insertButton.setOnMousePressed(mouseEvent -&gt; {\n                DragPane elementPane = new DragPane(true);\n                elementPane.setTranslateX(300);\n                elementPane.setTranslateY(300);\n                elementPane.setPrefWidth(100);\n                elementPane.setPrefHeight(100);\n                elementPane.addIntersects(header);\n                System.out.print(Utils.getRectangle(header));\n                //elementPane.addIntersects(sidebar);\n                Rectangle rectangle = new Rectangle(100,100,Color.rgb(100,100,100));\n                rectangle.setX(0);\n                rectangle.setY(0);\n                rectangle.setArcWidth(10);\n                rectangle.setArcHeight(10);\n                elementPane.setOnMousePressed(mouseEvent12 -&gt; {\n                    if (mouseEvent12.getButton() == MouseButton.MIDDLE) {\n                        canvasPane.getChildren().remove(elementPane);\n                    }\n                });\n                elementPane.getChildren().add(rectangle);\n                canvasPane.getChildren().add(elementPane);\n\n            });\n            stage.show();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>DragPane Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.Region;\nimport javafx.stage.Window;\n\nimport java.awt.*;\nimport java.util.ArrayList;\n\npublic class DragPane extends Pane {\n    public Point lastValid = new Point();\n    public Point offset = new Point();\n    public ArrayList&lt;Region&gt; intersects = new ArrayList&lt;&gt;();\n\n    public DragPane(boolean draggable) {\n        if (draggable) {\n            addEventFilter(\n                    MouseEvent.MOUSE_PRESSED,\n                    mouseEvent -&gt; {\n                        Point location = MouseInfo.getPointerInfo().getLocation();\n                        offset.setLocation(location.x, location.y);\n                    }\n            );\n\n            setOnMouseDragged(mouseEvent -&gt; {\n                Node source = (Node) mouseEvent.getSource();\n                Scene scene = source.getScene();\n                Window window = scene.getWindow();\n                int windowX = (int) window.getX();\n                int windowY = (int) window.getY();\n                int windowWidth = (int) window.getWidth();\n                int windowHeight = (int) window.getHeight();\n                Rectangle windowRectangle = new Rectangle(windowX, windowY, windowWidth, windowHeight);\n                Point location = MouseInfo.getPointerInfo().getLocation();\n                int mouseX = location.x;\n                int mouseY = location.y;\n                Point futurePoint = new Point(mouseX - offset.x, mouseY - offset.y);\n                if (windowRectangle.contains(location)) {\n                    if (Utils.intersects(Utils.offset(this, futurePoint),intersects)) {\n                        translate(futurePoint);\n                        offset.setLocation(mouseX, mouseY);\n                        lastValid.setLocation(futurePoint);\n                    } else {\n                        Point lastValidXPoint = new Point(futurePoint);\n                        lastValidXPoint.x = lastValid.x;\n                        Point lastValidYPoint = new Point(futurePoint);\n                        lastValidYPoint.y = lastValid.y;\n                        if (Utils.intersects(Utils.offset(this, lastValidXPoint),intersects)) {\n                            translate(lastValidXPoint);\n                        } else if (Utils.intersects(Utils.offset(this, lastValidYPoint),intersects)) {\n                            translate(lastValidYPoint);\n                        }\n\n                    }\n                }\n            });\n        }\n    }\n\n    public void translate(Point point) {\n        setTranslateX(getTranslateX() + point.x);\n        setTranslateY(getTranslateY() + point.y);\n    }\n\n    public void addIntersects(Region region) {\n        intersects.add(region);\n    }\n\n    public void clearIntersects() {\n        intersects.clear();\n    }\n\n}\n</code></pre>\n<p>Utils Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.scene.layout.Region;\n\nimport java.awt.*;\nimport java.util.ArrayList;\n\npublic class Utils {\n    public static Rectangle getRectangle(Region region) {\n        return new Rectangle((int) region.getLayoutX(), (int) region.getLayoutY(), (int) region.getWidth(), (int) region.getHeight());\n    }\n\n    public static Rectangle offset(Region region, Point offset) {\n        double x = region.getTranslateX()+offset.x;\n        double y = region.getTranslateY()+offset.y;\n        double w = region.getWidth();\n        double h = region.getHeight();\n        return new Rectangle((int) x, (int) y, (int) w, (int) h);\n    }\n\n    public static boolean intersects(Rectangle rectangle, ArrayList&lt;Region&gt; intersects) {\n        return intersects.stream().noneMatch((other) -&gt; Utils.getRectangle(other).intersects(rectangle));\n    }\n\n}\n</code></pre>\n<p>Controller Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ComboBox;\n\nimport java.util.Collections;\nimport java.util.Objects;\n\npublic class Controller {\n\n    public void typeSelect(ActionEvent event) {\n        Node source = (Node) event.getSource();\n        Scene scene = source.getScene();\n        ComboBox&lt;String&gt; typeComboBox = (ComboBox&lt;String&gt;) scene.lookup(&quot;#typeComboBox&quot;);\n        ComboBox&lt;String&gt; elementComboBox = (ComboBox&lt;String&gt;) scene.lookup(&quot;#elementComboBox&quot;);\n        String selected = typeComboBox.getSelectionModel().getSelectedItem().toLowerCase();\n        ObservableList&lt;String&gt; list = FXCollections.observableArrayList();\n        if (Objects.equals(selected, &quot;all&quot;)) {\n            list.setAll(SkriptDnD.skriptElements.keySet().stream().toList());\n        } else {\n            list.setAll(SkriptDnD.skriptTypeElementNames.get(selected));\n        }\n        Collections.sort(list);\n        elementComboBox.getItems().setAll(list);\n        elementComboBox.getSelectionModel().selectFirst();\n    }\n\n    public void elementSelect(ActionEvent event) {\n\n    }\n}\n</code></pre>\n<p>FXML File:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.geometry.Point3D?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.ComboBox?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.ToggleButton?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.layout.Pane?&gt;\n&lt;?import javafx.scene.layout.StackPane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;?import org.kordamp.ikonli.javafx.FontIcon?&gt;\n\n&lt;AnchorPane fx:id=&quot;anchorPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;550.0&quot; minWidth=&quot;800.0&quot; prefHeight=&quot;550.0&quot; prefWidth=&quot;800.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;me.jake.skriptdnd.Controller&quot;&gt;\n   &lt;children&gt;\n      &lt;BorderPane prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n         &lt;top&gt;\n            &lt;StackPane fx:id=&quot;header&quot; alignment=&quot;CENTER_RIGHT&quot; prefHeight=&quot;59.0&quot; prefWidth=&quot;800.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n               &lt;children&gt;\n                  &lt;Pane prefHeight=&quot;59.0&quot; prefWidth=&quot;538.0&quot; style=&quot;-fx-background-color: #2c2b2b;&quot;&gt;\n                     &lt;rotationAxis&gt;\n                        &lt;Point3D /&gt;\n                     &lt;/rotationAxis&gt;&lt;/Pane&gt;\n                  &lt;Label fx:id=&quot;label1&quot; text=&quot;SkriptDnD&quot; textAlignment=&quot;CENTER&quot; textFill=&quot;WHITE&quot; wrapText=&quot;true&quot; StackPane.alignment=&quot;CENTER_LEFT&quot;&gt;\n                     &lt;font&gt;\n                        &lt;Font name=&quot;Arial Bold&quot; size=&quot;18.0&quot; /&gt;\n                     &lt;/font&gt;\n                     &lt;StackPane.margin&gt;\n                        &lt;Insets left=&quot;40.0&quot; /&gt;\n                     &lt;/StackPane.margin&gt;\n                  &lt;/Label&gt;\n                  &lt;HBox alignment=&quot;CENTER_RIGHT&quot; nodeOrientation=&quot;LEFT_TO_RIGHT&quot;&gt;\n                     &lt;children&gt;\n                        &lt;Button fx:id=&quot;insertButton&quot; mnemonicParsing=&quot;false&quot; text=&quot;Insert&quot; textOverrun=&quot;CLIP&quot;&gt;\n                           &lt;HBox.margin&gt;\n                              &lt;Insets right=&quot;20.0&quot; /&gt;\n                           &lt;/HBox.margin&gt;\n                           &lt;font&gt;\n                              &lt;Font name=&quot;Arial Bold&quot; size=&quot;12.0&quot; /&gt;\n                           &lt;/font&gt;\n                        &lt;/Button&gt;\n                        &lt;ComboBox fx:id=&quot;typeComboBox&quot; nodeOrientation=&quot;LEFT_TO_RIGHT&quot; onAction=&quot;#typeSelect&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;150.0&quot; promptText=&quot;Type&quot; visibleRowCount=&quot;7&quot; HBox.hgrow=&quot;ALWAYS&quot;&gt;\n                           &lt;opaqueInsets&gt;\n                              &lt;Insets /&gt;\n                           &lt;/opaqueInsets&gt;\n                           &lt;HBox.margin&gt;\n                              &lt;Insets right=&quot;20.0&quot; /&gt;\n                           &lt;/HBox.margin&gt;\n                        &lt;/ComboBox&gt;\n                        &lt;ComboBox fx:id=&quot;elementComboBox&quot; onAction=&quot;#elementSelect&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;150.0&quot; promptText=&quot;Element&quot; HBox.hgrow=&quot;ALWAYS&quot; /&gt;\n                     &lt;/children&gt;\n                     &lt;opaqueInsets&gt;\n                        &lt;Insets /&gt;\n                     &lt;/opaqueInsets&gt;\n                     &lt;padding&gt;\n                        &lt;Insets right=&quot;50.0&quot; /&gt;\n                     &lt;/padding&gt;\n                  &lt;/HBox&gt;\n               &lt;/children&gt;\n            &lt;/StackPane&gt;\n         &lt;/top&gt;\n         &lt;left&gt;\n            &lt;StackPane prefHeight=&quot;491.0&quot; prefWidth=&quot;40.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n               &lt;children&gt;\n                  &lt;Pane fx:id=&quot;sidebar&quot; prefHeight=&quot;491.0&quot; prefWidth=&quot;34.0&quot; style=&quot;-fx-background-color: #ebebeb; -fx-border-color: #cfcece; -fx-border-style: solid; -fx-border-width: 0 1px 0 0;&quot;&gt;\n                     &lt;children&gt;\n                        &lt;ToggleButton layoutX=&quot;-3.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;38.0&quot; prefWidth=&quot;2.0&quot; style=&quot;-fx-background-color: #ebebeb;&quot; /&gt;\n                        &lt;FontIcon iconLiteral=&quot;far-arrow-alt-circle-right&quot; iconSize=&quot;30&quot; layoutX=&quot;5.0&quot; layoutY=&quot;30.0&quot; /&gt;\n                     &lt;/children&gt;\n                  &lt;/Pane&gt;\n               &lt;/children&gt;\n            &lt;/StackPane&gt;\n         &lt;/left&gt;\n         &lt;center&gt;\n            &lt;Pane fx:id=&quot;canvasPane&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\n         &lt;/center&gt;\n      &lt;/BorderPane&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>Scene Builder Hierarchy + Preview:\n<a href=\"https://i.stack.imgur.com/41ZGV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/41ZGV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","hibernate","lazy-loading","jhipster"],"comments":[{"owner":{"account_id":113908,"reputation":3110,"user_id":299787,"display_name":"Redlab"},"score":0,"creation_date":1485430053,"post_id":41872327,"comment_id":70926509,"body_markdown":"Is it not due to `@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE) ` that allows a tiny window where cache and database will be out of sync ?","body":"Is it not due to <code>@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE) </code> that allows a tiny window where cache and database will be out of sync ?"},{"owner":{"account_id":2149491,"reputation":137,"user_id":1906311,"display_name":"filatvital"},"score":0,"creation_date":1485430519,"post_id":41872327,"comment_id":70926738,"body_markdown":"I deleted this lines (in parent and in child entities), but result the same","body":"I deleted this lines (in parent and in child entities), but result the same"},{"owner":{"account_id":322284,"reputation":16565,"user_id":641627,"display_name":"alexbt"},"score":0,"creation_date":1485432770,"post_id":41872327,"comment_id":70927941,"body_markdown":"As we can see from the stacktrace `msd.keeper.web.rest.passport.PassportResource.getPassport(PassportResource.java:239)` =&gt; `getPassport` is called after your delete. We just need the complete stacktrace to see where the call is coming from..","body":"As we can see from the stacktrace <code>msd.keeper.web.rest.passport.PassportResource.getPassport(Pa&zwnj;&#8203;ssportResource.java:&zwnj;&#8203;239)</code> =&gt; <code>getPassport</code> is called after your delete. We just need the complete stacktrace to see where the call is coming from.."},{"owner":{"account_id":2149491,"reputation":137,"user_id":1906311,"display_name":"filatvital"},"score":0,"creation_date":1485433790,"post_id":41872327,"comment_id":70928478,"body_markdown":"I added stacktrace. I found that after i turn off second level cache (hibernate.cache.use_second_level_cache: false) lazy initialization work without exception","body":"I added stacktrace. I found that after i turn off second level cache (hibernate.cache.use_second_level_cache: false) lazy initialization work without exception"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1485434956,"post_id":41872327,"comment_id":70929137,"body_markdown":"So the basic problem description then is that the delete action does not clear the entry from the cache.","body":"So the basic problem description then is that the delete action does not clear the entry from the cache."}],"answers":[{"tags":[],"owner":{"account_id":2149491,"reputation":137,"user_id":1906311,"display_name":"filatvital"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1485525833,"creation_date":1485525833,"answer_id":41895784,"question_id":41872327,"body_markdown":"I solved this problem this way:\r\n\r\nI remove parent collection cache in child controller functions\r\n\r\nExamples:\r\n\r\n    @DeleteMapping(&quot;/slaves/{id}&quot;)\r\n    @Transactional\r\n    @Timed\r\n    public ResponseEntity&lt;Void&gt; deleteSlave(@PathVariable Long id) {\r\n        log.debug(&quot;REST request to delete Slave : {}&quot;, id);\r\n        Slave slave = slaveRepository.getOne(id);\r\n        Cache c = cacheManager.getCache(&quot;test.domain.Master.slaves&quot;);\r\n        if (c != null) {\r\n            c.removeAll();\r\n        }\r\n        slaveRepository.delete(id);\r\n\r\n        return ResponseEntity.ok().headers(HeaderUtil.createEntityDeletionAlert(&quot;slave&quot;, id.toString())).build();\r\n    }\r\n\r\nor\r\n\r\n    @PostMapping(&quot;/slaves&quot;)\r\n    @Timed\r\n    public ResponseEntity&lt;Slave&gt; createSlave(@RequestBody Slave slave) throws URISyntaxException {\r\n        log.debug(&quot;REST request to save Slave : {}&quot;, slave);\r\n        if (slave.getId() != null) {\r\n            return ResponseEntity.badRequest().headers(HeaderUtil.createFailureAlert(&quot;slave&quot;, &quot;idexists&quot;, &quot;A new slave cannot already have an ID&quot;)).body(null);\r\n        }\r\n        Slave result = slaveRepository.save(slave);\r\n        Cache c = cacheManager.getCache(&quot;test.domain.Master.slaves&quot;);\r\n        if (c != null) {\r\n            c.removeAll();\r\n        }\r\n        return ResponseEntity.created(new URI(&quot;/api/slaves/&quot; + result.getId()))\r\n            .headers(HeaderUtil.createEntityCreationAlert(&quot;slave&quot;, result.getId().toString()))\r\n            .body(result);\r\n    }\r\n\r\nAnd method `Hibernate.initialize(master.getSlaves());` work without exception and with changes in child controller actions","title":"JHipster. Second level cache. EntityNotFoundException","body":"<p>I solved this problem this way:</p>\n\n<p>I remove parent collection cache in child controller functions</p>\n\n<p>Examples:</p>\n\n<pre><code>@DeleteMapping(\"/slaves/{id}\")\n@Transactional\n@Timed\npublic ResponseEntity&lt;Void&gt; deleteSlave(@PathVariable Long id) {\n    log.debug(\"REST request to delete Slave : {}\", id);\n    Slave slave = slaveRepository.getOne(id);\n    Cache c = cacheManager.getCache(\"test.domain.Master.slaves\");\n    if (c != null) {\n        c.removeAll();\n    }\n    slaveRepository.delete(id);\n\n    return ResponseEntity.ok().headers(HeaderUtil.createEntityDeletionAlert(\"slave\", id.toString())).build();\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>@PostMapping(\"/slaves\")\n@Timed\npublic ResponseEntity&lt;Slave&gt; createSlave(@RequestBody Slave slave) throws URISyntaxException {\n    log.debug(\"REST request to save Slave : {}\", slave);\n    if (slave.getId() != null) {\n        return ResponseEntity.badRequest().headers(HeaderUtil.createFailureAlert(\"slave\", \"idexists\", \"A new slave cannot already have an ID\")).body(null);\n    }\n    Slave result = slaveRepository.save(slave);\n    Cache c = cacheManager.getCache(\"test.domain.Master.slaves\");\n    if (c != null) {\n        c.removeAll();\n    }\n    return ResponseEntity.created(new URI(\"/api/slaves/\" + result.getId()))\n        .headers(HeaderUtil.createEntityCreationAlert(\"slave\", result.getId().toString()))\n        .body(result);\n}\n</code></pre>\n\n<p>And method <code>Hibernate.initialize(master.getSlaves());</code> work without exception and with changes in child controller actions</p>\n"},{"tags":[],"owner":{"account_id":28496116,"reputation":31,"user_id":21807988,"display_name":"Radu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684149920,"creation_date":1684149920,"answer_id":76253578,"question_id":41872327,"body_markdown":"I found that you can remove the cached invalid entry from the &lt;b&gt;@OneToMany&lt;/b&gt; list using &lt;b&gt;DefaultDeleteEventListener&lt;/b&gt;.\r\n\r\n```\r\n@Component\r\npublic class DeleteListener extends DefaultDeleteEventListener {\r\n\r\n    @Override\r\n    public void onDelete(DeleteEvent event) throws HibernateException {\r\n        super.onDelete(event);\r\n\r\n        Object entity = event.getObject();\r\n        if (entity instanceof PassportRow passportRow) {\r\n            Passport passport = passportRow.getPassport();\r\n            passport.getPassportRows().remove(passportRow);\r\n        }\r\n    }\r\n}\r\n```\r\nRegister the listener like this:\r\n\r\n```\r\n@Component\r\npublic class EntityEventListenerRegistry {\r\n\r\n    @PersistenceUnit\r\n    private EntityManagerFactory emf;\r\n\r\n    private final DefaultDeleteEventListener defaultDeleteEventListener;\r\n\r\n    public EntityEventListenerRegistry(DefaultDeleteEventListener defaultDeleteEventListener) {\r\n        this.defaultDeleteEventListener = defaultDeleteEventListener;\r\n    }\r\n\r\n    @PostConstruct\r\n    public void registerListeners() {\r\n        SessionFactoryImpl sessionFactory = emf.unwrap(SessionFactoryImpl.class);\r\n        EventListenerRegistry registry = sessionFactory.getServiceRegistry().getService(EventListenerRegistry.class);\r\n        registry.getEventListenerGroup(EventType.DELETE).appendListener(defaultDeleteEventListener);\r\n    }\r\n}\r\n```","title":"JHipster. Second level cache. EntityNotFoundException","body":"<p>I found that you can remove the cached invalid entry from the <b>@OneToMany</b> list using <b>DefaultDeleteEventListener</b>.</p>\n<pre><code>@Component\npublic class DeleteListener extends DefaultDeleteEventListener {\n\n    @Override\n    public void onDelete(DeleteEvent event) throws HibernateException {\n        super.onDelete(event);\n\n        Object entity = event.getObject();\n        if (entity instanceof PassportRow passportRow) {\n            Passport passport = passportRow.getPassport();\n            passport.getPassportRows().remove(passportRow);\n        }\n    }\n}\n</code></pre>\n<p>Register the listener like this:</p>\n<pre><code>@Component\npublic class EntityEventListenerRegistry {\n\n    @PersistenceUnit\n    private EntityManagerFactory emf;\n\n    private final DefaultDeleteEventListener defaultDeleteEventListener;\n\n    public EntityEventListenerRegistry(DefaultDeleteEventListener defaultDeleteEventListener) {\n        this.defaultDeleteEventListener = defaultDeleteEventListener;\n    }\n\n    @PostConstruct\n    public void registerListeners() {\n        SessionFactoryImpl sessionFactory = emf.unwrap(SessionFactoryImpl.class);\n        EventListenerRegistry registry = sessionFactory.getServiceRegistry().getService(EventListenerRegistry.class);\n        registry.getEventListenerGroup(EventType.DELETE).appendListener(defaultDeleteEventListener);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2149491,"reputation":137,"user_id":1906311,"display_name":"filatvital"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1143,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":41895784,"answer_count":2,"score":3,"last_activity_date":1684149920,"creation_date":1485429557,"question_id":41872327,"body_markdown":"I have javax.persistence.EntityNotFoundException when i delete child entity from child recource controller\r\n\r\n\r\nParent entity\r\n\r\n    @Entity\r\n    @Table(name = &quot;passport&quot;)\r\n    @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n    public class Passport implements Serializable {\r\n         //@NotFound(action = NotFoundAction.IGNORE)\r\n         @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;passport&quot;,orphanRemoval = true)\r\n         @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n         @JsonIgnoreProperties(value=&quot;passport&quot;, allowSetters=true)\r\n         private List&lt;PassportRow&gt; passportRows = new ArrayList&lt;&gt;();\r\n         ...\r\n    }\r\n\r\nChild entity\r\n\r\n    @Entity\r\n    @Table(name = &quot;passport_row&quot;)\r\n    @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n    public class PassportRow implements Serializable {\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;passport_id&quot;)\r\n        @JsonIgnoreProperties(value=&quot;passportRows&quot;, allowSetters=true)\r\n        @NotNull\r\n        private Passport passport = new Passport();\r\n        ...\r\n     }\r\n\r\n\r\nAfter deleting child entity in controller through repository\r\n\r\n    @DeleteMapping(&quot;/passport-rows/{id}&quot;)\r\n    @Transactional\r\n    @Timed\r\n    public ResponseEntity&lt;Void&gt; deletePassportRow(@PathVariable Long id) {\r\n        log.debug(&quot;REST request to delete PassportRow : {}&quot;, id);\r\n        passportRowRepository.delete(id);\r\n        return ResponseEntity.ok().headers(HeaderUtil.createEntityDeletionAlert(&quot;passportRow&quot;, id.toString())).build();\r\n    }\r\n\r\nAnd initialize lazy collection in GET controller\r\n\r\n    @Transactional\r\n    @GetMapping(&quot;/passports/{id}&quot;)\r\n    @Timed\r\n    public ResponseEntity&lt;Passport&gt; getPassport(@PathVariable Long id) {\r\n        log.debug(&quot;REST request to get Passport : {}&quot;, id);\r\n        Passport passport = passportRepository.findOne(id);\r\n\r\n        if (passport != null)\r\n            Hibernate.initialize(passport.getPassportRows());\r\n    ...\r\n\r\nI have javax.persistence.EntityNotFoundException\r\n\r\n    javax.persistence.EntityNotFoundException: Unable to find msd.keeper.domain.passport.PassportRow with id 1127\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$JpaEntityNotFoundDelegate.handleEntityNotFound(EntityManagerFactoryBuilderImpl.java:155)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:227)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:278)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:121)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:89)\r\n\tat org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1219)\r\n\tat org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1102)\r\n\tat org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:646)\r\n\tat org.hibernate.type.ManyToOneType.assemble(ManyToOneType.java:266)\r\n\tat org.hibernate.collection.internal.PersistentBag.initializeFromCache(PersistentBag.java:176)\r\n\tat org.hibernate.cache.spi.entry.CollectionCacheEntry.assemble(CollectionCacheEntry.java:58)\r\n\tat org.hibernate.event.internal.DefaultInitializeCollectionEventListener.initializeCollectionFromCache(DefaultInitializeCollectionEventListener.java:144)\r\n\tat org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:59)\r\n\tat org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:2151)\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection$4.doWork(AbstractPersistentCollection.java:565)\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:247)\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:561)\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:729)\r\n\tat org.hibernate.Hibernate.initialize(Hibernate.java:64)\r\n\tat msd.keeper.web.rest.passport.PassportResource.getPassport(PassportResource.java:239)\r\n\tat msd.keeper.web.rest.passport.PassportResource$$FastClassBySpringCGLIB$$7f42bf08.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:720)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)\r\n\tat msd.keeper.aop.logging.LoggingAspect.logAround(LoggingAspect.java:64)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:629)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:618)\r\n\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat com.ryantenney.metrics.spring.TimedMethodInterceptor.invoke(TimedMethodInterceptor.java:48)\r\n\tat com.ryantenney.metrics.spring.TimedMethodInterceptor.invoke(TimedMethodInterceptor.java:34)\r\n\tat com.ryantenney.metrics.spring.AbstractMetricMethodInterceptor.invoke(AbstractMetricMethodInterceptor.java:59)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655)\r\n\tat msd.keeper.web.rest.passport.PassportResource$$EnhancerBySpringCGLIB$$6a1ec50c.getPassport(&lt;generated&gt;)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n\tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n\tat com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:104)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:55)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:105)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:158)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:169)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:121)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n\tat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n\tat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n\tat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)\r\n\tat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n\tat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n\tat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n\tat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n\tat io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.servlet.handlers.SessionRestoringHandler.handleRequest(SessionRestoringHandler.java:119)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:285)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:264)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:175)\r\n\tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:207)\r\n\tat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:802)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\nWhen i turn off second level cache lazy loading work without exception \r\n\r\n    jpa:\r\n        properties:\r\n            hibernate.cache.use_second_level_cache: false\r\n\r\nI use Jhipster application on spring-boot-starter-parent 1.4.2.RELEASE. Hibernate version 5.2.4.Final\r\n\r\nHow i can correctly delete my child entity? ","title":"JHipster. Second level cache. EntityNotFoundException","body":"<p>I have javax.persistence.EntityNotFoundException when i delete child entity from child recource controller</p>\n\n<p>Parent entity</p>\n\n<pre><code>@Entity\n@Table(name = \"passport\")\n@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\npublic class Passport implements Serializable {\n     //@NotFound(action = NotFoundAction.IGNORE)\n     @OneToMany(fetch = FetchType.LAZY, mappedBy = \"passport\",orphanRemoval = true)\n     @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\n     @JsonIgnoreProperties(value=\"passport\", allowSetters=true)\n     private List&lt;PassportRow&gt; passportRows = new ArrayList&lt;&gt;();\n     ...\n}\n</code></pre>\n\n<p>Child entity</p>\n\n<pre><code>@Entity\n@Table(name = \"passport_row\")\n@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\npublic class PassportRow implements Serializable {\n\n    @ManyToOne\n    @JoinColumn(name = \"passport_id\")\n    @JsonIgnoreProperties(value=\"passportRows\", allowSetters=true)\n    @NotNull\n    private Passport passport = new Passport();\n    ...\n }\n</code></pre>\n\n<p>After deleting child entity in controller through repository</p>\n\n<pre><code>@DeleteMapping(\"/passport-rows/{id}\")\n@Transactional\n@Timed\npublic ResponseEntity&lt;Void&gt; deletePassportRow(@PathVariable Long id) {\n    log.debug(\"REST request to delete PassportRow : {}\", id);\n    passportRowRepository.delete(id);\n    return ResponseEntity.ok().headers(HeaderUtil.createEntityDeletionAlert(\"passportRow\", id.toString())).build();\n}\n</code></pre>\n\n<p>And initialize lazy collection in GET controller</p>\n\n<pre><code>@Transactional\n@GetMapping(\"/passports/{id}\")\n@Timed\npublic ResponseEntity&lt;Passport&gt; getPassport(@PathVariable Long id) {\n    log.debug(\"REST request to get Passport : {}\", id);\n    Passport passport = passportRepository.findOne(id);\n\n    if (passport != null)\n        Hibernate.initialize(passport.getPassportRows());\n...\n</code></pre>\n\n<p>I have javax.persistence.EntityNotFoundException</p>\n\n<pre><code>javax.persistence.EntityNotFoundException: Unable to find msd.keeper.domain.passport.PassportRow with id 1127\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$JpaEntityNotFoundDelegate.handleEntityNotFound(EntityManagerFactoryBuilderImpl.java:155)\nat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:227)\nat org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:278)\nat org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:121)\nat org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:89)\nat org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1219)\nat org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1102)\nat org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:646)\nat org.hibernate.type.ManyToOneType.assemble(ManyToOneType.java:266)\nat org.hibernate.collection.internal.PersistentBag.initializeFromCache(PersistentBag.java:176)\nat org.hibernate.cache.spi.entry.CollectionCacheEntry.assemble(CollectionCacheEntry.java:58)\nat org.hibernate.event.internal.DefaultInitializeCollectionEventListener.initializeCollectionFromCache(DefaultInitializeCollectionEventListener.java:144)\nat org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:59)\nat org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:2151)\nat org.hibernate.collection.internal.AbstractPersistentCollection$4.doWork(AbstractPersistentCollection.java:565)\nat org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:247)\nat org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:561)\nat org.hibernate.collection.internal.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:729)\nat org.hibernate.Hibernate.initialize(Hibernate.java:64)\nat msd.keeper.web.rest.passport.PassportResource.getPassport(PassportResource.java:239)\nat msd.keeper.web.rest.passport.PassportResource$$FastClassBySpringCGLIB$$7f42bf08.invoke(&lt;generated&gt;)\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:720)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\nat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)\nat msd.keeper.aop.logging.LoggingAspect.logAround(LoggingAspect.java:64)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:497)\nat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:629)\nat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:618)\nat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat com.ryantenney.metrics.spring.TimedMethodInterceptor.invoke(TimedMethodInterceptor.java:48)\nat com.ryantenney.metrics.spring.TimedMethodInterceptor.invoke(TimedMethodInterceptor.java:34)\nat com.ryantenney.metrics.spring.AbstractMetricMethodInterceptor.invoke(AbstractMetricMethodInterceptor.java:59)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655)\nat msd.keeper.web.rest.passport.PassportResource$$EnhancerBySpringCGLIB$$6a1ec50c.getPassport(&lt;generated&gt;)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:497)\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\nat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\nat com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:104)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:55)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:105)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:158)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:169)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:121)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:100)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\nat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\nat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\nat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)\nat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\nat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\nat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\nat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\nat io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.servlet.handlers.SessionRestoringHandler.handleRequest(SessionRestoringHandler.java:119)\nat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:285)\nat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:264)\nat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)\nat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:175)\nat io.undertow.server.Connectors.executeRootHandler(Connectors.java:207)\nat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:802)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>When i turn off second level cache lazy loading work without exception </p>\n\n<pre><code>jpa:\n    properties:\n        hibernate.cache.use_second_level_cache: false\n</code></pre>\n\n<p>I use Jhipster application on spring-boot-starter-parent 1.4.2.RELEASE. Hibernate version 5.2.4.Final</p>\n\n<p>How i can correctly delete my child entity? </p>\n"},{"tags":["java","stanford-nlp","deeplearning4j"],"answers":[{"tags":[],"owner":{"account_id":28604172,"reputation":1,"user_id":21900458,"display_name":"KratosZombie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684145863,"creation_date":1684145863,"answer_id":76253076,"question_id":76252917,"body_markdown":"Yes you can use Java for NPL, especially if you want to be faster than Python.\r\nThe best toolkit you can use is OpenNLP Apache, with this you can do a pipeline just like Spacy in Python.\r\n","title":"Java NLP - Insight from Text Data","body":"<p>Yes you can use Java for NPL, especially if you want to be faster than Python.\nThe best toolkit you can use is OpenNLP Apache, with this you can do a pipeline just like Spacy in Python.</p>\n"},{"tags":[],"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684149146,"creation_date":1684149146,"answer_id":76253481,"question_id":76252917,"body_markdown":"(DL4J maintainer here):\r\n\r\nDeeplearning4j would be useful if you want to directly use transformers and other models. If you are just looking for an out of the box toolkit with models I would suggest stanford nlp and other similar frameworks.","title":"Java NLP - Insight from Text Data","body":"<p>(DL4J maintainer here):</p>\n<p>Deeplearning4j would be useful if you want to directly use transformers and other models. If you are just looking for an out of the box toolkit with models I would suggest stanford nlp and other similar frameworks.</p>\n"},{"tags":[],"owner":{"account_id":14794402,"reputation":1,"user_id":10684385,"display_name":"Soheil Babadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684149863,"creation_date":1684149863,"answer_id":76253572,"question_id":76252917,"body_markdown":"I think the best choice is Apache openNLP\r\n\r\n[Here][1] is the complete project documentation and here is a [working example][2]\r\nYou can find hundreds of sample projects like this on [GitHub][3]\r\n\r\n\r\n  [1]: https://opennlp.apache.org/\r\n  [2]: https://www.baeldung.com/apache-open-nlp\r\n  [3]: https://github.com/mmm0469/apache-opennlp-examples","title":"Java NLP - Insight from Text Data","body":"<p>I think the best choice is Apache openNLP</p>\n<p><a href=\"https://opennlp.apache.org/\" rel=\"nofollow noreferrer\">Here</a> is the complete project documentation and here is a <a href=\"https://www.baeldung.com/apache-open-nlp\" rel=\"nofollow noreferrer\">working example</a>\nYou can find hundreds of sample projects like this on <a href=\"https://github.com/mmm0469/apache-opennlp-examples\" rel=\"nofollow noreferrer\">GitHub</a></p>\n"}],"owner":{"account_id":14428183,"reputation":137,"user_id":10422248,"display_name":"Sabari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1684149863,"creation_date":1684144732,"question_id":76252917,"body_markdown":"We would like to do a POC that uses Java based NLP libraries like Stanford Core NLP and/or Deeplearning4J to train/use models that can extract insight / meaning / summary and provide answers to user queries against a custom document repository / DB (NoSQL DB / CSV). Is there any good documentation/simple code examples that illustrates this capability of these Java NLP libraries? ","title":"Java NLP - Insight from Text Data","body":"<p>We would like to do a POC that uses Java based NLP libraries like Stanford Core NLP and/or Deeplearning4J to train/use models that can extract insight / meaning / summary and provide answers to user queries against a custom document repository / DB (NoSQL DB / CSV). Is there any good documentation/simple code examples that illustrates this capability of these Java NLP libraries?</p>\n"},{"tags":["java","jpa","eclipselink"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1684160526,"post_id":76253462,"comment_id":134472333,"body_markdown":"What happens if you search by ID? How are you sure that your entity is actually saved - did you check the database directly? Could it be the transaction isn&#39;t committed, or you are not in a transaction? Try turning on EclipseLink SQL logging and see what is generated for your findbyName query to see that it matches what you expect on the DB.","body":"What happens if you search by ID? How are you sure that your entity is actually saved - did you check the database directly? Could it be the transaction isn&#39;t committed, or you are not in a transaction? Try turning on EclipseLink SQL logging and see what is generated for your findbyName query to see that it matches what you expect on the DB."},{"owner":{"account_id":28557231,"reputation":13,"user_id":21861275,"display_name":"Michl"},"score":0,"creation_date":1686471957,"post_id":76253462,"comment_id":134800787,"body_markdown":"I had an error in my config nevermind","body":"I had an error in my config nevermind"}],"owner":{"account_id":28557231,"reputation":13,"user_id":21861275,"display_name":"Michl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684148973,"creation_date":1684148973,"question_id":76253462,"body_markdown":"I am using eclipselink as JPA and I have this Problem:\r\nThe entity i do save is not found right after saving when I try to load it with the entity manager\r\n\r\nI have following classes: \r\nUser.java\r\n```\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User implements DbObject {\r\n\r\n   @Transient\r\n   private static final long serialVersionUID = 1L;\r\n   @Id\r\n   @GeneratedValue(strategy = GenerationType.AUTO)\r\n   @Column(nullable = false, updatable = false)\r\n   private long id;\r\n   @Column(nullable = false)\r\n   private String password;\r\n   @ManyToMany\r\n   @JoinTable(name = &quot;users_roles&quot;, joinColumns = @JoinColumn(name = &quot;users_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;roles_id&quot;))\r\n   private Set&lt;Role&gt; roles;\r\n   @Column(name = &quot;username&quot;, nullable = false, unique = true, updatable = false)\r\n   private String username;\r\n\r\n   public User() {\r\n   }\r\n\r\n   public User(long id, String username, String password, Set&lt;Role&gt; roles) {\r\n      this.id = id;\r\n      this.username = username;\r\n      this.password = password;\r\n      this.roles = roles;\r\n   }\r\n\r\n   @Override\r\n   public Object clone() {\r\n      return id == 0 &amp;&amp; StringUtils.isNullOrEmpty(username) &amp;&amp; StringUtils.isNullOrEmpty(password) &amp;&amp; roles.isEmpty()\r\n            ? new User()\r\n            : new User(id, username, password, roles);\r\n   }\r\n\r\n   @Override\r\n   public boolean equals(Object o) {\r\n      if (o == this) {\r\n         return true;\r\n      }\r\n      if (o instanceof User) {\r\n         final User u = (User) o;\r\n         // only check name, since role names should be unique across an entire\r\n         // application:\r\n         return getUsername() != null ? getUsername().equals(u.getUsername()) : u.getUsername() == null;\r\n      }\r\n      return false;\r\n   }\r\n\r\n   @Override\r\n   public long getId() {\r\n      return id;\r\n   }\r\n\r\n   public String getPassword() {\r\n      return password;\r\n   }\r\n\r\n   public Set&lt;Role&gt; getRoles() {\r\n      return roles;\r\n   }\r\n\r\n   public String getUsername() {\r\n      return username;\r\n   }\r\n\r\n   @Override\r\n   public int hashCode() {\r\n      return getUsername() != null ? getUsername().hashCode() : 0;\r\n   }\r\n\r\n   @Override\r\n   public void setId(long id) {\r\n      this.id = id;\r\n   }\r\n\r\n   public void setPassword(String password) {\r\n      this.password = password;\r\n   }\r\n\r\n   public void setRoles(Set&lt;Role&gt; roles) {\r\n      this.roles = roles;\r\n   }\r\n\r\n   public void setUsername(String username) {\r\n      this.username = username;\r\n   }\r\n\r\n   @Override\r\n   public String toString() {\r\n      return getUsername();\r\n   }\r\n\r\n}\r\n\r\n```\r\n\r\nwith A Service which tries to load the Entity by column name\r\nUserService.java\r\n\r\n```\r\npublic class UserServiceImpl implements UserService {\r\n\r\n   private final UserRepository userRepository;\r\n\r\n   @Inject\r\n   public UserServiceImpl(final UserRepository userRepository) {\r\n      this.userRepository = userRepository;\r\n   }\r\n\r\n   @Override\r\n   public Optional&lt;User&gt; findByName(final String username) {\r\n      return userRepository.findByColumnValue(&quot;username&quot;, username).stream().findAny();\r\n   }\r\n\r\n   @Override\r\n   public AbstractJpaRepository&lt;User, Long&gt; getRepository() {\r\n      return userRepository;\r\n   }\r\n\r\n}\r\n```\r\n\r\nand a UserRepository extending this AbstractJpaRepository interface:\r\n\r\n```\r\npublic interface AbstractJpaRepository&lt;T, ID&gt; {\r\n\r\n   default void delete(ID id) {\r\n      final EntityManager entityManager = getEntityManager();\r\n      final T toBeRemoved = entityManager.getReference(getType(), id);\r\n      entityManager.remove(toBeRemoved);\r\n   }\r\n\r\n   default ObservableList&lt;T&gt; findAll() {\r\n      final EntityManager entityManager = getEntityManager();\r\n\r\n      final CriteriaQuery&lt;T&gt; criteriaQuery = entityManager.getCriteriaBuilder().createQuery(getType());\r\n      criteriaQuery.from(getType());\r\n\r\n      final ObservableList&lt;T&gt; list = FXCollections\r\n            .observableArrayList(entityManager.createQuery(criteriaQuery).getResultList());\r\n      return list;\r\n   }\r\n\r\n   default List&lt;T&gt; findByColumnValue(final String columnHeader, final String columnValue) {\r\n      final EntityManager entityManager = getEntityManager();\r\n      final CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n\r\n      final CriteriaQuery&lt;T&gt; criteriaQuery = criteriaBuilder.createQuery(getType());\r\n\r\n      final Root&lt;T&gt; from = criteriaQuery.from(getType());\r\n\r\n      criteriaQuery.select(from);\r\n      criteriaQuery.where(criteriaBuilder.equal(from.get(columnHeader), columnValue));\r\n\r\n      final TypedQuery&lt;T&gt; typed = entityManager.createQuery(criteriaQuery);\r\n      return typed.getResultStream().collect(Collectors.toList());\r\n   }\r\n\r\n   default Optional&lt;T&gt; findById(final ID id) {\r\n      final EntityManager entityManager = getEntityManager();\r\n      return Optional.ofNullable(entityManager.find(getType(), id));\r\n   }\r\n\r\n   EntityManager getEntityManager();\r\n\r\n   Class&lt;T&gt; getType();\r\n\r\n   default T save(final T t) {\r\n      final EntityManager entityManager = getEntityManager();\r\n      for (final DatabaseField dbf : entityManager.unwrap(Session.class).getDescriptor(User.class).getFields()) {\r\n         System.out.println(dbf.getName());\r\n      }\r\n      return entityManager.merge(t);\r\n   }\r\n\r\n}\r\n```\r\n\r\nAs you can see I iterate over the DatabaseFields of the entity and there the expected columnname is present. But when I try to load an User Entity by the Columnname username it does not find the expected entity, which I save just before. When I assign an entity to the return object of the save it seems like everything worked so I assume there is no Problem there. Does anyone know of eclipselink since the jakarta update if it has a bug? since I updated my poms versions in this project and I have a this new project which I set up just alike juts with an outdated eclipselink version, which has ciritical vulnaerabilities. You can clone the whole project at https://github.com/mitvitaminen/crowear_hp to have the whole source code which I expect to be too much for this post to actually be of help. Checkout the testdataserviceimpl where I create a user with username testUser1 and testUser1 as PW so you can try out to login but it throws an exception since the entity User with testUser1 as username is not found. \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI iterated like this when saving \r\n\r\n```\r\nfor (final DatabaseField dbf : entityManager.unwrap(Session.class).getDescriptor(User.class).getFields()) {\r\n         System.out.println(dbf.getName());\r\n      }\r\n```\r\nwhere the correct column name is displayed. But when I try to get the entity back from the db it just wont load and an empty optional is returned.\r\n\r\nAny help appreciated\r\n\r\nKind regards Chris","title":"JPA can not load Entity becuase it can not find an instance of it with columnname present in entity and saving works","body":"<p>I am using eclipselink as JPA and I have this Problem:\nThe entity i do save is not found right after saving when I try to load it with the entity manager</p>\n<p>I have following classes:\nUser.java</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User implements DbObject {\n\n   @Transient\n   private static final long serialVersionUID = 1L;\n   @Id\n   @GeneratedValue(strategy = GenerationType.AUTO)\n   @Column(nullable = false, updatable = false)\n   private long id;\n   @Column(nullable = false)\n   private String password;\n   @ManyToMany\n   @JoinTable(name = &quot;users_roles&quot;, joinColumns = @JoinColumn(name = &quot;users_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;roles_id&quot;))\n   private Set&lt;Role&gt; roles;\n   @Column(name = &quot;username&quot;, nullable = false, unique = true, updatable = false)\n   private String username;\n\n   public User() {\n   }\n\n   public User(long id, String username, String password, Set&lt;Role&gt; roles) {\n      this.id = id;\n      this.username = username;\n      this.password = password;\n      this.roles = roles;\n   }\n\n   @Override\n   public Object clone() {\n      return id == 0 &amp;&amp; StringUtils.isNullOrEmpty(username) &amp;&amp; StringUtils.isNullOrEmpty(password) &amp;&amp; roles.isEmpty()\n            ? new User()\n            : new User(id, username, password, roles);\n   }\n\n   @Override\n   public boolean equals(Object o) {\n      if (o == this) {\n         return true;\n      }\n      if (o instanceof User) {\n         final User u = (User) o;\n         // only check name, since role names should be unique across an entire\n         // application:\n         return getUsername() != null ? getUsername().equals(u.getUsername()) : u.getUsername() == null;\n      }\n      return false;\n   }\n\n   @Override\n   public long getId() {\n      return id;\n   }\n\n   public String getPassword() {\n      return password;\n   }\n\n   public Set&lt;Role&gt; getRoles() {\n      return roles;\n   }\n\n   public String getUsername() {\n      return username;\n   }\n\n   @Override\n   public int hashCode() {\n      return getUsername() != null ? getUsername().hashCode() : 0;\n   }\n\n   @Override\n   public void setId(long id) {\n      this.id = id;\n   }\n\n   public void setPassword(String password) {\n      this.password = password;\n   }\n\n   public void setRoles(Set&lt;Role&gt; roles) {\n      this.roles = roles;\n   }\n\n   public void setUsername(String username) {\n      this.username = username;\n   }\n\n   @Override\n   public String toString() {\n      return getUsername();\n   }\n\n}\n\n</code></pre>\n<p>with A Service which tries to load the Entity by column name\nUserService.java</p>\n<pre><code>public class UserServiceImpl implements UserService {\n\n   private final UserRepository userRepository;\n\n   @Inject\n   public UserServiceImpl(final UserRepository userRepository) {\n      this.userRepository = userRepository;\n   }\n\n   @Override\n   public Optional&lt;User&gt; findByName(final String username) {\n      return userRepository.findByColumnValue(&quot;username&quot;, username).stream().findAny();\n   }\n\n   @Override\n   public AbstractJpaRepository&lt;User, Long&gt; getRepository() {\n      return userRepository;\n   }\n\n}\n</code></pre>\n<p>and a UserRepository extending this AbstractJpaRepository interface:</p>\n<pre><code>public interface AbstractJpaRepository&lt;T, ID&gt; {\n\n   default void delete(ID id) {\n      final EntityManager entityManager = getEntityManager();\n      final T toBeRemoved = entityManager.getReference(getType(), id);\n      entityManager.remove(toBeRemoved);\n   }\n\n   default ObservableList&lt;T&gt; findAll() {\n      final EntityManager entityManager = getEntityManager();\n\n      final CriteriaQuery&lt;T&gt; criteriaQuery = entityManager.getCriteriaBuilder().createQuery(getType());\n      criteriaQuery.from(getType());\n\n      final ObservableList&lt;T&gt; list = FXCollections\n            .observableArrayList(entityManager.createQuery(criteriaQuery).getResultList());\n      return list;\n   }\n\n   default List&lt;T&gt; findByColumnValue(final String columnHeader, final String columnValue) {\n      final EntityManager entityManager = getEntityManager();\n      final CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n\n      final CriteriaQuery&lt;T&gt; criteriaQuery = criteriaBuilder.createQuery(getType());\n\n      final Root&lt;T&gt; from = criteriaQuery.from(getType());\n\n      criteriaQuery.select(from);\n      criteriaQuery.where(criteriaBuilder.equal(from.get(columnHeader), columnValue));\n\n      final TypedQuery&lt;T&gt; typed = entityManager.createQuery(criteriaQuery);\n      return typed.getResultStream().collect(Collectors.toList());\n   }\n\n   default Optional&lt;T&gt; findById(final ID id) {\n      final EntityManager entityManager = getEntityManager();\n      return Optional.ofNullable(entityManager.find(getType(), id));\n   }\n\n   EntityManager getEntityManager();\n\n   Class&lt;T&gt; getType();\n\n   default T save(final T t) {\n      final EntityManager entityManager = getEntityManager();\n      for (final DatabaseField dbf : entityManager.unwrap(Session.class).getDescriptor(User.class).getFields()) {\n         System.out.println(dbf.getName());\n      }\n      return entityManager.merge(t);\n   }\n\n}\n</code></pre>\n<p>As you can see I iterate over the DatabaseFields of the entity and there the expected columnname is present. But when I try to load an User Entity by the Columnname username it does not find the expected entity, which I save just before. When I assign an entity to the return object of the save it seems like everything worked so I assume there is no Problem there. Does anyone know of eclipselink since the jakarta update if it has a bug? since I updated my poms versions in this project and I have a this new project which I set up just alike juts with an outdated eclipselink version, which has ciritical vulnaerabilities. You can clone the whole project at <a href=\"https://github.com/mitvitaminen/crowear_hp\" rel=\"nofollow noreferrer\">https://github.com/mitvitaminen/crowear_hp</a> to have the whole source code which I expect to be too much for this post to actually be of help. Checkout the testdataserviceimpl where I create a user with username testUser1 and testUser1 as PW so you can try out to login but it throws an exception since the entity User with testUser1 as username is not found.</p>\n<p>I iterated like this when saving</p>\n<pre><code>for (final DatabaseField dbf : entityManager.unwrap(Session.class).getDescriptor(User.class).getFields()) {\n         System.out.println(dbf.getName());\n      }\n</code></pre>\n<p>where the correct column name is displayed. But when I try to get the entity back from the db it just wont load and an empty optional is returned.</p>\n<p>Any help appreciated</p>\n<p>Kind regards Chris</p>\n"},{"tags":["java","validation","java.util.scanner","numeric"],"comments":[{"owner":{"account_id":16732777,"reputation":91,"user_id":12094709,"display_name":"GreenChicken"},"score":0,"creation_date":1684148193,"post_id":76253318,"comment_id":134469373,"body_markdown":"because you always set the checkF to true no matter the input","body":"because you always set the checkF to true no matter the input"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":1,"creation_date":1684148511,"post_id":76253318,"comment_id":134469434,"body_markdown":"First thing, you have to do the numeric validation after the `nameF` is inputted, you are validating the occurrence before getting the `nameF`, but it is still `&quot;null&quot;`. The second thing is to check the difference between `&quot;null&quot;` (literal null) and `null` (keyword null). The third thing is to check what is regex and how to validate a String that contains a numeric value. Finally `if(true)` makes no sense, it will be always executed, do the validation inside the `while` loop, and set the value of `checkF` properly.","body":"First thing, you have to do the numeric validation after the <code>nameF</code> is inputted, you are validating the occurrence before getting the <code>nameF</code>, but it is still <code>&quot;null&quot;</code>. The second thing is to check the difference between <code>&quot;null&quot;</code> (literal null) and <code>null</code> (keyword null). The third thing is to check what is regex and how to validate a String that contains a numeric value. Finally <code>if(true)</code> makes no sense, it will be always executed, do the validation inside the <code>while</code> loop, and set the value of <code>checkF</code> properly."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684148556,"creation_date":1684148224,"answer_id":76253380,"question_id":76253318,"body_markdown":"Your current code is only checking for a `&quot;9&quot;`, because all other checks are over written.\r\n\r\nTo fix your code (without changing it much), you must do a logical `AND`, so in English it would read like *nameF doesn&#39;t contain &quot;0&quot; AND doesn&#39;t contain &quot;1&quot; AND ...*, like this:\r\n\r\n    boolean checkF=true;\r\n    checkF &amp;= nameF.contains(&quot;0&quot;);\r\n    checkF &amp;= nameF.contains(&quot;1&quot;);\r\n    // etc\r\n\r\nBut what about non-letter non-digits, like a comma? You&#39;ve not preventing that.\r\n\r\nThere&#39;s an easier way if you use regex:\r\n\r\n    String nameF = &quot;&quot;;\r\n    while (!nameF.matches(&quot;[a-zA-Z]+&quot;)) {\r\n        System.out.println(&quot;Please type in your first name: &quot;);\r\n        nameF = inputs.nextLine();\r\n    }\r\n\r\nThis keeps looping until `nameF` is comprised of one or more letter characters. Because `nameF` is initialized to a blank, it always executes the loop at least once.","title":"How to check if scanner input contains any digit(s) from 0-9?","body":"<p>Your current code is only checking for a <code>&quot;9&quot;</code>, because all other checks are over written.</p>\n<p>To fix your code (without changing it much), you must do a logical <code>AND</code>, so in English it would read like <em>nameF doesn't contain &quot;0&quot; AND doesn't contain &quot;1&quot; AND ...</em>, like this:</p>\n<pre><code>boolean checkF=true;\ncheckF &amp;= nameF.contains(&quot;0&quot;);\ncheckF &amp;= nameF.contains(&quot;1&quot;);\n// etc\n</code></pre>\n<p>But what about non-letter non-digits, like a comma? You've not preventing that.</p>\n<p>There's an easier way if you use regex:</p>\n<pre><code>String nameF = &quot;&quot;;\nwhile (!nameF.matches(&quot;[a-zA-Z]+&quot;)) {\n    System.out.println(&quot;Please type in your first name: &quot;);\n    nameF = inputs.nextLine();\n}\n</code></pre>\n<p>This keeps looping until <code>nameF</code> is comprised of one or more letter characters. Because <code>nameF</code> is initialized to a blank, it always executes the loop at least once.</p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684148299,"creation_date":1684148299,"answer_id":76253389,"question_id":76253318,"body_markdown":"First, you can&#39;t change the signature of `main` (it takes a `String[]`). Second, you could use a *regular expression* to determine if any part of the `String` is a digit. Assuming you intend to check `nameL` doesn&#39;t contain digits as well, I would suggest you use a `Pattern`. A pair of infinite loops and something like,\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// Initializing variables\r\n\t\t// Setting up scanner\r\n\t\tScanner inputs = new Scanner(System.in);\r\n\t\tString nameF = &quot;null&quot;;\r\n\t\tString nameL = &quot;null&quot;;\r\n\t\tString gender = &quot;null&quot;;\r\n\t\tint age = 0;\r\n\r\n\t\tPattern containsDigit = Pattern.compile(&quot;.*[0-9].*&quot;); // .*\\\\d.* also works\r\n\t\t// Initiating user input\r\n\t\twhile (true) {\r\n\t\t\tSystem.out.println(&quot;Please type in your first name.&quot;);\r\n\t\t\tnameF = inputs.nextLine();\r\n\t\t\tif (!containsDigit.matcher(nameF).matches()) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\twhile (true) {\r\n\t\t\tSystem.out.println(&quot;Please type in your last name.&quot;);\r\n\t\t\tnameL = inputs.nextLine();\r\n\t\t\tif (!containsDigit.matcher(nameL).matches()) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.printf(&quot;Hello %s %s%n&quot;, nameF, nameL);\r\n\t}\r\n","title":"How to check if scanner input contains any digit(s) from 0-9?","body":"<p>First, you can't change the signature of <code>main</code> (it takes a <code>String[]</code>). Second, you could use a <em>regular expression</em> to determine if any part of the <code>String</code> is a digit. Assuming you intend to check <code>nameL</code> doesn't contain digits as well, I would suggest you use a <code>Pattern</code>. A pair of infinite loops and something like,</p>\n<pre><code>public static void main(String[] args) {\n    // Initializing variables\n    // Setting up scanner\n    Scanner inputs = new Scanner(System.in);\n    String nameF = &quot;null&quot;;\n    String nameL = &quot;null&quot;;\n    String gender = &quot;null&quot;;\n    int age = 0;\n\n    Pattern containsDigit = Pattern.compile(&quot;.*[0-9].*&quot;); // .*\\\\d.* also works\n    // Initiating user input\n    while (true) {\n        System.out.println(&quot;Please type in your first name.&quot;);\n        nameF = inputs.nextLine();\n        if (!containsDigit.matcher(nameF).matches()) {\n            break;\n        }\n    }\n    while (true) {\n        System.out.println(&quot;Please type in your last name.&quot;);\n        nameL = inputs.nextLine();\n        if (!containsDigit.matcher(nameL).matches()) {\n            break;\n        }\n    }\n    System.out.printf(&quot;Hello %s %s%n&quot;, nameF, nameL);\n}\n</code></pre>\n"}],"owner":{"account_id":15197153,"reputation":1,"user_id":10966135,"display_name":"Abdullah El Emam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1684148831,"creation_date":1684147725,"question_id":76253318,"body_markdown":"Essentially, I am asking user to type in their name and I am attempting to check whether they typed in a digit amongst their name so that the program prints out &quot;Please type in your first name.&quot; once more. It is very hard to handle that issue (or is it exception? sorry I am new to this). Here is my code so far:\r\n\r\n---\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.InputMismatchException;\r\nimport java.util.Arrays;\r\nimport javax.swing.*;\r\nimport javax.swing.table.*;\r\n\r\npublic class scannerTrial {\r\n    public static void main() {\r\n        //Initializing variables\r\n        //Setting up scanner\r\n        Scanner inputs=new Scanner(System.in);\r\n        String nameF=&quot;null&quot;;\r\n        String nameL=&quot;null&quot;;\r\n        String gender=&quot;null&quot;;\r\n        int age=0;\r\n        \r\n        //Setting up digit checker\r\n        boolean checkF=true;\r\n        checkF=nameF.contains(&quot;0&quot;);\r\n        checkF=nameF.contains(&quot;1&quot;);\r\n        checkF=nameF.contains(&quot;2&quot;);\r\n        checkF=nameF.contains(&quot;3&quot;);\r\n        checkF=nameF.contains(&quot;4&quot;);\r\n        checkF=nameF.contains(&quot;5&quot;);\r\n        checkF=nameF.contains(&quot;6&quot;);\r\n        checkF=nameF.contains(&quot;7&quot;);\r\n        checkF=nameF.contains(&quot;8&quot;);\r\n        checkF=nameF.contains(&quot;9&quot;);\r\n        \r\n        //Initiating user input\r\n        while(!checkF) {\r\n            System.out.println(&quot;Please type in your name.&quot;);\r\n            nameF=inputs.nextLine();\r\n            if(true) {\r\n                checkF=true;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n---\r\n\r\nWhat I tried to do was make a boolean for whether the input contains any of the number and if it did find a number, it would return true. Then, I would go into a loop where if the boolean is true then it loops back until the user understands and it returns false, then it breaks out of the loop. For some reason though, when I run the program after compiling it, the program just gets out of the loop even after typing in something such as &quot;n0&quot;.","title":"How to check if scanner input contains any digit(s) from 0-9?","body":"<p>Essentially, I am asking user to type in their name and I am attempting to check whether they typed in a digit amongst their name so that the program prints out &quot;Please type in your first name.&quot; once more. It is very hard to handle that issue (or is it exception? sorry I am new to this). Here is my code so far:</p>\n<hr />\n<pre><code>import java.util.Scanner;\nimport java.util.InputMismatchException;\nimport java.util.Arrays;\nimport javax.swing.*;\nimport javax.swing.table.*;\n\npublic class scannerTrial {\n    public static void main() {\n        //Initializing variables\n        //Setting up scanner\n        Scanner inputs=new Scanner(System.in);\n        String nameF=&quot;null&quot;;\n        String nameL=&quot;null&quot;;\n        String gender=&quot;null&quot;;\n        int age=0;\n        \n        //Setting up digit checker\n        boolean checkF=true;\n        checkF=nameF.contains(&quot;0&quot;);\n        checkF=nameF.contains(&quot;1&quot;);\n        checkF=nameF.contains(&quot;2&quot;);\n        checkF=nameF.contains(&quot;3&quot;);\n        checkF=nameF.contains(&quot;4&quot;);\n        checkF=nameF.contains(&quot;5&quot;);\n        checkF=nameF.contains(&quot;6&quot;);\n        checkF=nameF.contains(&quot;7&quot;);\n        checkF=nameF.contains(&quot;8&quot;);\n        checkF=nameF.contains(&quot;9&quot;);\n        \n        //Initiating user input\n        while(!checkF) {\n            System.out.println(&quot;Please type in your name.&quot;);\n            nameF=inputs.nextLine();\n            if(true) {\n                checkF=true;\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n<hr />\n<p>What I tried to do was make a boolean for whether the input contains any of the number and if it did find a number, it would return true. Then, I would go into a loop where if the boolean is true then it loops back until the user understands and it returns false, then it breaks out of the loop. For some reason though, when I run the program after compiling it, the program just gets out of the loop even after typing in something such as &quot;n0&quot;.</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":22112469,"reputation":74,"user_id":16367144,"display_name":"SquidXTV"},"score":1,"creation_date":1684134672,"post_id":76251455,"comment_id":134466529,"body_markdown":"Note that you should not always go for the shortest solution. Your goal should be to make it as readable as possible.","body":"Note that you should not always go for the shortest solution. Your goal should be to make it as readable as possible."}],"answers":[{"tags":[],"owner":{"account_id":16208985,"reputation":918,"user_id":11703509,"display_name":"psybrg"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1684134188,"creation_date":1684134188,"answer_id":76251590,"question_id":76251455,"body_markdown":"Following JAVA code snippet should work fine :\r\n\r\n    String str = &quot;HELLO - DI&amp;RIC&quot;;\r\n    String noSpaceString = str.toLowerCase().replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\r\n    String alphabetsOnly = noSpaceString.replaceAll(&quot;[^a-zA-Z]+&quot;, &quot;-&quot;);\r\n    String alphabetsAndDigitsOnly = noSpaceString.replaceAll(&quot;[^a-zA-Z0-9]+&quot;, &quot;-&quot;);\r\n\r\nI have used extra variables for readability purposes. You can remove them to make it a one-line code, like following :\r\n\r\n    String str = &quot;HELLO - DI&amp;RIC&quot;;\r\n    String alphabetsAndDigitsOnly = str.toLowerCase().replaceAll(&quot;\\\\s&quot;, &quot;&quot;).replaceAll(&quot;[^a-zA-Z0-9]+&quot;, &quot;-&quot;);\r\n\r\n","title":"How to replace all special characters with hyphen and also remove all spaces?","body":"<p>Following JAVA code snippet should work fine :</p>\n<pre><code>String str = &quot;HELLO - DI&amp;RIC&quot;;\nString noSpaceString = str.toLowerCase().replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\nString alphabetsOnly = noSpaceString.replaceAll(&quot;[^a-zA-Z]+&quot;, &quot;-&quot;);\nString alphabetsAndDigitsOnly = noSpaceString.replaceAll(&quot;[^a-zA-Z0-9]+&quot;, &quot;-&quot;);\n</code></pre>\n<p>I have used extra variables for readability purposes. You can remove them to make it a one-line code, like following :</p>\n<pre><code>String str = &quot;HELLO - DI&amp;RIC&quot;;\nString alphabetsAndDigitsOnly = str.toLowerCase().replaceAll(&quot;\\\\s&quot;, &quot;&quot;).replaceAll(&quot;[^a-zA-Z0-9]+&quot;, &quot;-&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22112469,"reputation":74,"user_id":16367144,"display_name":"SquidXTV"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1684134568,"creation_date":1684134239,"answer_id":76251597,"question_id":76251455,"body_markdown":"You should look into the [replaceAll()][1] method.\r\nIt accepts a Regular Expression and replace string.\r\nI would probably first call [toLowerCase()][2] and then [replaceAll()][1] for whitespaces separated from the special characters. For the Regular Expression you probably want to use `\\s` and `\\W`, depends on your exact requirements.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#toLowerCase()","title":"How to replace all special characters with hyphen and also remove all spaces?","body":"<p>You should look into the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">replaceAll()</a> method.\nIt accepts a Regular Expression and replace string.\nI would probably first call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#toLowerCase()\" rel=\"nofollow noreferrer\">toLowerCase()</a> and then <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">replaceAll()</a> for whitespaces separated from the special characters. For the Regular Expression you probably want to use <code>\\s</code> and <code>\\W</code>, depends on your exact requirements.</p>\n"},{"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1684134674,"creation_date":1684134245,"answer_id":76251599,"question_id":76251455,"body_markdown":" a good fit for the requirements is Apache&#39;s [`StringUtils.replaceEach()`][1]\r\n\r\nit allows to specify multiple search strings and corresponding replacements, and eliminate the need to fiddle with obscure regex patterns. \r\nHowever, transformation to lowercase is probably easiest with the purpose made `String` method \r\n\r\n    String result = StringUtils.replaceEach(&quot;HELLO - DI&amp;RIC&quot;,\r\n        new String[]{&quot; &quot;, &quot;&amp;&quot;},\r\n        new String[]{&quot;&quot;,  &quot;-&quot;}\r\n    );\r\n    result = result.toLowerCase();\r\n\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#replaceEach-java.lang.String-java.lang.String:A-java.lang.String:A-\r\n","title":"How to replace all special characters with hyphen and also remove all spaces?","body":"<p>a good fit for the requirements is Apache's <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#replaceEach-java.lang.String-java.lang.String:A-java.lang.String:A-\" rel=\"nofollow noreferrer\"><code>StringUtils.replaceEach()</code></a></p>\n<p>it allows to specify multiple search strings and corresponding replacements, and eliminate the need to fiddle with obscure regex patterns.\nHowever, transformation to lowercase is probably easiest with the purpose made <code>String</code> method</p>\n<pre><code>String result = StringUtils.replaceEach(&quot;HELLO - DI&amp;RIC&quot;,\n    new String[]{&quot; &quot;, &quot;&amp;&quot;},\n    new String[]{&quot;&quot;,  &quot;-&quot;}\n);\nresult = result.toLowerCase();\n</code></pre>\n"}],"owner":{"account_id":6856568,"reputation":147,"user_id":5271958,"display_name":"Nimrod"},"comment_count":1,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":520,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1684148600,"answer_count":3,"score":-3,"last_activity_date":1684148596,"creation_date":1684132863,"question_id":76251455,"body_markdown":"I want to remove all special characters in a certain string and replace them with hyphen. All spaces need to be remove and also lowercase. is it possible to do it with 1 line?\r\n\r\nAn example: &quot;HELLO - DI&amp;RIC&quot; -&gt; should become: &quot;hello-di-ric&quot;","title":"How to replace all special characters with hyphen and also remove all spaces?","body":"<p>I want to remove all special characters in a certain string and replace them with hyphen. All spaces need to be remove and also lowercase. is it possible to do it with 1 line?</p>\n<p>An example: &quot;HELLO - DI&amp;RIC&quot; -&gt; should become: &quot;hello-di-ric&quot;</p>\n"},{"tags":["java","selenium-webdriver","katalon-studio"],"comments":[{"owner":{"account_id":4046845,"reputation":148,"user_id":3327823,"display_name":"Rakesh"},"score":0,"creation_date":1684146887,"post_id":76252692,"comment_id":134469145,"body_markdown":"Use WebUI.Sendkeys() to send the files.","body":"Use WebUI.Sendkeys() to send the files."}],"owner":{"account_id":28604097,"reputation":1,"user_id":21900399,"display_name":"Al Khawarismi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684148298,"creation_date":1684143047,"question_id":76252692,"body_markdown":"i want to automate upload multiple files (Katalon Studio), but there is no attribute &quot;multiple&quot; like this\r\n\r\n```\r\n&lt;input type=&quot;file&quot; multiple&gt;\r\n```\r\nbut instead like the img1 below.\r\n[img1](https://i.stack.imgur.com/yqyle.png)\r\n\r\nwhat i want to achieve is like\r\n[img2][1]\r\n\r\nI&#39;ve tried to make it like this, the steps produce passed but no files are uploaded\r\n\r\n```\r\ndef documentsPath = [&#39;E:\\\\\\\\FfzsHZJUcAEvXrs.jpeg&#39;, &#39;E:\\\\\\\\FeNebInVIAApKzh.jpg&#39;, &#39;E:\\\\\\\\FeNebZTVIAADXR5.jpg&#39;, &#39;E:\\\\\\\\FfzsWUPVQAAO-SL.jpeg&#39;]\r\n\r\nfor (path in documentsPath) {\r\n\tWebUI.uploadFile(findTestObject(&#39;homepage/pemasaranku/register supplier/ipt_dokumen_supplier&#39;), path, FailureHandling.STOP_ON_FAILURE)\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aGXZP.png","title":"How to automate upload multiple files (Katalon Studio) when there is no attribute &quot;multiple&quot; in tag input?","body":"<p>i want to automate upload multiple files (Katalon Studio), but there is no attribute &quot;multiple&quot; like this</p>\n<pre><code>&lt;input type=&quot;file&quot; multiple&gt;\n</code></pre>\n<p>but instead like the img1 below.\n<a href=\"https://i.stack.imgur.com/yqyle.png\" rel=\"nofollow noreferrer\">img1</a></p>\n<p>what i want to achieve is like\n<a href=\"https://i.stack.imgur.com/aGXZP.png\" rel=\"nofollow noreferrer\">img2</a></p>\n<p>I've tried to make it like this, the steps produce passed but no files are uploaded</p>\n<pre><code>def documentsPath = ['E:\\\\\\\\FfzsHZJUcAEvXrs.jpeg', 'E:\\\\\\\\FeNebInVIAApKzh.jpg', 'E:\\\\\\\\FeNebZTVIAADXR5.jpg', 'E:\\\\\\\\FfzsWUPVQAAO-SL.jpeg']\n\nfor (path in documentsPath) {\n    WebUI.uploadFile(findTestObject('homepage/pemasaranku/register supplier/ipt_dokumen_supplier'), path, FailureHandling.STOP_ON_FAILURE)\n}\n</code></pre>\n"},{"tags":["java","netbeans","jar"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1684155034,"post_id":76253158,"comment_id":134470980,"body_markdown":"A .jar file is *one file.*  The entries in that one file are not files, they’re part of the .jar file.  The correct way to read those fonts is with [getResourceAsStream](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Class.html#getResourceAsStream(java.lang.String)).  For example, `try (InputStream fontSource = login.class.getResourceAsStream(&quot;/8-BIT WONDER.TTF&quot;)) { bitWon = Font.createFont(Font.TRUETYPE_FONT, fontSource); }`","body":"A .jar file is <i>one file.</i>  The entries in that one file are not files, they’re part of the .jar file.  The correct way to read those fonts is with <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Class.html#getResourceAsStream(java.lang.String)\" rel=\"nofollow noreferrer\">getResourceAsStream</a>.  For example, <code>try (InputStream fontSource = login.class.getResourceAsStream(&quot;&#47;8-BIT WONDER.TTF&quot;)) { bitWon = Font.createFont(Font.TRUETYPE_FONT, fontSource); }</code>"},{"owner":{"account_id":468855,"reputation":5925,"user_id":875083,"display_name":"Joachim Rohde"},"score":0,"creation_date":1684155135,"post_id":76253158,"comment_id":134471005,"body_markdown":"Take a look at getResource() : https://stackoverflow.com/questions/2593154/get-a-resource-using-getresource","body":"Take a look at getResource() : <a href=\"https://stackoverflow.com/questions/2593154/get-a-resource-using-getresource\" title=\"get a resource using getresource\">stackoverflow.com/questions/2593154/&hellip;</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1684155603,"post_id":76253158,"comment_id":134471114,"body_markdown":"Also, **never** write an empty catch block.  In this case, it should contain `throw new RuntimeException(e);`.  (Do you really want your program to continue running if the proper fonts couldn’t be loaded?)","body":"Also, <b>never</b> write an empty catch block.  In this case, it should contain <code>throw new RuntimeException(e);</code>.  (Do you really want your program to continue running if the proper fonts couldn’t be loaded?)"},{"owner":{"account_id":14657616,"reputation":96,"user_id":10585748,"display_name":"Eugene Makarenko"},"score":0,"creation_date":1684306094,"post_id":76253158,"comment_id":134497067,"body_markdown":"Check if .jar file contains font files. If no - read them from system but use proper paths. You can place these files in same folder as .jar file is, then the path will be relative(./somefont.TTF), or use absolute paths. If your .jar file contains font files use getResource() as guys mentioned previously","body":"Check if .jar file contains font files. If no - read them from system but use proper paths. You can place these files in same folder as .jar file is, then the path will be relative(./somefont.TTF), or use absolute paths. If your .jar file contains font files use getResource() as guys mentioned previously"}],"owner":{"account_id":28604436,"reputation":1,"user_id":21900677,"display_name":"Velinity Ballestine"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684148224,"creation_date":1684146475,"question_id":76253158,"body_markdown":"When I run the jar file it turns into a default font, unlike when I run it in netbeans the code works perfectly fine.\r\n\r\nThis is my code:\r\n\r\n\r\n```\r\npublic class login extends javax.swing.JFrame {\r\n\r\n    /**\r\n     * Creates new form login\r\n     */\r\n    Font bitWon;\r\n    Font deMono;\r\n    Font deSans;\r\n    Font dotumChe;\r\n    \r\n    public login() {\r\n        initComponents();\r\n        \r\n        try {\r\n            bitWon = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/8-BIT WONDER.TTF&quot;)).deriveFont(36f);\r\n            GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n            ge.registerFont(Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/8-BIT WONDER.TTF&quot;)));\r\n            \r\n            jLabel2.setFont(bitWon);\r\n            \r\n            deMono = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/determinationmonoweb-webfont.ttf&quot;)).deriveFont(24f);\r\n            ge.registerFont(Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/determinationmonoweb-webfont.ttf&quot;)));\r\n            \r\n            jLabel3.setFont(deMono);\r\n            jLabel4.setFont(new Font(deMono.getName(), Font.PLAIN, 18));\r\n            jButton1.setFont(new Font(deMono.getName(), Font.PLAIN, 24));\r\n            \r\n            deSans = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/determinationsansweb-webfont.ttf&quot;)).deriveFont(14f);\r\n            ge.registerFont(Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/determinationsansweb-webfont.ttf&quot;)));\r\n            \r\n            jPasswordField1.setFont(deSans);\r\n            jTextField1.setFont(deSans);\r\n            \r\n            dotumChe = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/dotumche-pixel.ttf&quot;)).deriveFont(10f);\r\n            ge.registerFont(Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/dotumche-pixel.ttf&quot;)));\r\n            \r\n            jLabel7.setFont(dotumChe);\r\n        }\r\n        catch(IOException | FontFormatException e){\r\n            \r\n        }\r\n```\r\n\r\nThe fonts (ttf) is placed in the default package, with my main class.\r\n\r\nI tried using the inputstream but it only made it not work in netbeans and the jar file too. ","title":"Jar file doesn&#39;t read custom fonts but works fine when I run file in netbeans","body":"<p>When I run the jar file it turns into a default font, unlike when I run it in netbeans the code works perfectly fine.</p>\n<p>This is my code:</p>\n<pre><code>public class login extends javax.swing.JFrame {\n\n    /**\n     * Creates new form login\n     */\n    Font bitWon;\n    Font deMono;\n    Font deSans;\n    Font dotumChe;\n    \n    public login() {\n        initComponents();\n        \n        try {\n            bitWon = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/8-BIT WONDER.TTF&quot;)).deriveFont(36f);\n            GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\n            ge.registerFont(Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/8-BIT WONDER.TTF&quot;)));\n            \n            jLabel2.setFont(bitWon);\n            \n            deMono = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/determinationmonoweb-webfont.ttf&quot;)).deriveFont(24f);\n            ge.registerFont(Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/determinationmonoweb-webfont.ttf&quot;)));\n            \n            jLabel3.setFont(deMono);\n            jLabel4.setFont(new Font(deMono.getName(), Font.PLAIN, 18));\n            jButton1.setFont(new Font(deMono.getName(), Font.PLAIN, 24));\n            \n            deSans = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/determinationsansweb-webfont.ttf&quot;)).deriveFont(14f);\n            ge.registerFont(Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/determinationsansweb-webfont.ttf&quot;)));\n            \n            jPasswordField1.setFont(deSans);\n            jTextField1.setFont(deSans);\n            \n            dotumChe = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/dotumche-pixel.ttf&quot;)).deriveFont(10f);\n            ge.registerFont(Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/dotumche-pixel.ttf&quot;)));\n            \n            jLabel7.setFont(dotumChe);\n        }\n        catch(IOException | FontFormatException e){\n            \n        }\n</code></pre>\n<p>The fonts (ttf) is placed in the default package, with my main class.</p>\n<p>I tried using the inputstream but it only made it not work in netbeans and the jar file too.</p>\n"},{"tags":["java","spring-boot","jdbctemplate","rowmapper"],"answers":[{"tags":[],"owner":{"account_id":25909017,"reputation":554,"user_id":19633625,"display_name":"Louis"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1684064172,"creation_date":1684064172,"answer_id":76247264,"question_id":76247090,"body_markdown":"It looks like that you have the problem with your SQL query for fetching the courses. You are querying the mst_question table to get the list of courses, which will return all the courses even if there are no questions associated with them.\r\n\r\nYou need to change your SQL query to fetch only those courses that have at least one question associated with them. You can do this by using a subquery to count the number of questions associated with each course and filter out courses that have no questions.\r\n\r\n```sql\r\nSELECT c.course_id, c.course_name\r\nFROM mst_course c\r\nWHERE c.is_active = true\r\nAND EXISTS (\r\n  SELECT 1 FROM mst_question q WHERE q.is_active = true AND q.course_id = c.course_id\r\n)\r\n```\r\n\r\nI hope this query will help you!","title":"How to use jdbcTemplate and rowmapper, if my dto class contains list in it?","body":"<p>It looks like that you have the problem with your SQL query for fetching the courses. You are querying the mst_question table to get the list of courses, which will return all the courses even if there are no questions associated with them.</p>\n<p>You need to change your SQL query to fetch only those courses that have at least one question associated with them. You can do this by using a subquery to count the number of questions associated with each course and filter out courses that have no questions.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT c.course_id, c.course_name\nFROM mst_course c\nWHERE c.is_active = true\nAND EXISTS (\n  SELECT 1 FROM mst_question q WHERE q.is_active = true AND q.course_id = c.course_id\n)\n</code></pre>\n<p>I hope this query will help you!</p>\n"}],"owner":{"account_id":28073957,"reputation":1,"user_id":21446127,"display_name":"donthamsetty yashashwini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684147963,"creation_date":1684061680,"question_id":76247090,"body_markdown":"I want to use rowMapper or jdbctemplate for one-to-many relation. \r\nMy dto class contains List of questions in course dto.\r\n\r\n    public class CourseQuestionsDto {\r\n    \r\n        \t@NotNull(message=&quot;Course Id cannot be null.&quot;)\r\n        \tprivate Integer courseId;\r\n        \t\r\n        \t@NotBlank(message=&quot;Course name cannot be blank.&quot;)\r\n        \tprivate String courseName;\r\n        \t\r\n        \tprivate List&lt;QuestionDto&gt; questionsDto;\r\n        }\r\n\r\nAnd my question dto has few required fields, and also I have course dto class to get course details\r\n\r\n\r\nI want to display all the questions under course in the format of &quot;COURSEQUESTIONSDTO class&quot; using jdbcTemplate.\r\n\r\nI have tried something like this.\r\n\r\n    public List&lt;CourseQuestionsDto&gt; getActiveQuestion(){\r\n    \t\tString courseSql=&quot;select course_id,course_name from mst_question where is_active=true&quot;;\r\n    \t\tString questionSql=&quot;select * from mst_question where is_active=true and course_id=:courseId&quot;;\r\n    \t\tString optionSql=&quot;select * from mst_question_option where question_id=:questionId&quot;;\r\n    \t\treturn getQuestion(courseSql,questionSql,optionSql);\r\n    \t}\r\n\r\nand `getQuestion()` method.\r\n\r\n    public List&lt;CourseQuestionsDto&gt; getQuestion(String courseSql,String questionSql,String optionSql){\r\n    \t\t\r\n    \t\tList&lt;CourseDto&gt; courseList= namedJdbcTemplate.query(courseSql, new CourseRowMapper());\r\n    \t\tList&lt;CourseQuestionsDto&gt; courseQues =new ArrayList&lt;CourseQuestionsDto&gt;();\r\n    \t\tMap&lt;String,Object&gt; courseMap=new HashMap&lt;String, Object&gt;();\r\n    \t\t\r\n    \t\tfor(CourseDto course:courseList) {\r\n    \t\t\tCourseQuestionsDto setCourse=new CourseQuestionsDto();\r\n    \t\t\tcourseMap.put(&quot;courseId&quot;,course.getCourseId());\r\n    \t\t\tList&lt;QuestionDto&gt; questionList=namedJdbcTemplate.query(questionSql,courseMap, new QuestionRowMapper());\r\n    \t\t\tList&lt;QuestionDto&gt; questionListReturn = new ArrayList&lt;QuestionDto&gt;();\r\n    \t\t\t\r\n    \t\t\tfor(QuestionDto question:questionList) {\r\n    \t\t\t\tSqlParameterSource questionMap=new MapSqlParameterSource(&quot;questionId&quot;,question.getQuestionId());\r\n    \t\t\t\tList&lt;QuestionOptionsDto&gt; optionList=namedJdbcTemplate.query(optionSql,questionMap, new QuestionOptionRowMapper());\r\n    \t\t\t\t\r\n    \t\t\t\tquestion.setQuestionOptionsDto(optionList);\r\n    \t\t\t\tquestionListReturn.add(question);\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\tsetCourse.setCourseId(course.getCourseId());\r\n    \t\t\tsetCourse.setCourseName(course.getCourseName());\r\n    \t\t\tsetCourse.setQuestionsDto(questionListReturn);\r\n    \t\t\tcourseQues.add(setCourse);\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn courseQues;\r\n    \t}\r\n\r\nPlease help me with it, I have tried so many ways to do it but I couldn&#39;t.\r\nThe above code is working fine, but it displays the courses that are not present in questions table.\r\n\r\n\r\n\r\n\r\nI have tried above code. It displaying the courses that are not present in my question table.\r\nsomething like this.\r\n\r\n    &quot;response&quot;: [\r\n        {\r\n          &quot;courseId&quot;: 1,\r\n          &quot;courseName&quot;: &quot;Induction&quot;,\r\n          &quot;questionsDto&quot;: [\r\n            {\r\n              &quot;questionId&quot;: 2,\r\n              &quot;question&quot;: &quot;How are you&quot;\r\n              &quot;questionOptionsDto&quot;: [\r\n                {\r\n                  &quot;optionId&quot;: 1,\r\n                  &quot;optionName&quot;: &quot;string 1&quot;,\r\n                  &quot;isActive&quot;: true,\r\n                  &quot;isDeleted&quot;: false\r\n                }\r\n              ]\r\n    },\r\n    {\r\n          &quot;courseId&quot;: 2,\r\n          &quot;courseName&quot;: &quot;string&quot;,\r\n          &quot;questionsDto&quot;: []\r\n        }\r\n      ]\r\n\r\n","title":"How to use jdbcTemplate and rowmapper, if my dto class contains list in it?","body":"<p>I want to use rowMapper or jdbctemplate for one-to-many relation.\nMy dto class contains List of questions in course dto.</p>\n<pre><code>public class CourseQuestionsDto {\n\n        @NotNull(message=&quot;Course Id cannot be null.&quot;)\n        private Integer courseId;\n        \n        @NotBlank(message=&quot;Course name cannot be blank.&quot;)\n        private String courseName;\n        \n        private List&lt;QuestionDto&gt; questionsDto;\n    }\n</code></pre>\n<p>And my question dto has few required fields, and also I have course dto class to get course details</p>\n<p>I want to display all the questions under course in the format of &quot;COURSEQUESTIONSDTO class&quot; using jdbcTemplate.</p>\n<p>I have tried something like this.</p>\n<pre><code>public List&lt;CourseQuestionsDto&gt; getActiveQuestion(){\n        String courseSql=&quot;select course_id,course_name from mst_question where is_active=true&quot;;\n        String questionSql=&quot;select * from mst_question where is_active=true and course_id=:courseId&quot;;\n        String optionSql=&quot;select * from mst_question_option where question_id=:questionId&quot;;\n        return getQuestion(courseSql,questionSql,optionSql);\n    }\n</code></pre>\n<p>and <code>getQuestion()</code> method.</p>\n<pre><code>public List&lt;CourseQuestionsDto&gt; getQuestion(String courseSql,String questionSql,String optionSql){\n        \n        List&lt;CourseDto&gt; courseList= namedJdbcTemplate.query(courseSql, new CourseRowMapper());\n        List&lt;CourseQuestionsDto&gt; courseQues =new ArrayList&lt;CourseQuestionsDto&gt;();\n        Map&lt;String,Object&gt; courseMap=new HashMap&lt;String, Object&gt;();\n        \n        for(CourseDto course:courseList) {\n            CourseQuestionsDto setCourse=new CourseQuestionsDto();\n            courseMap.put(&quot;courseId&quot;,course.getCourseId());\n            List&lt;QuestionDto&gt; questionList=namedJdbcTemplate.query(questionSql,courseMap, new QuestionRowMapper());\n            List&lt;QuestionDto&gt; questionListReturn = new ArrayList&lt;QuestionDto&gt;();\n            \n            for(QuestionDto question:questionList) {\n                SqlParameterSource questionMap=new MapSqlParameterSource(&quot;questionId&quot;,question.getQuestionId());\n                List&lt;QuestionOptionsDto&gt; optionList=namedJdbcTemplate.query(optionSql,questionMap, new QuestionOptionRowMapper());\n                \n                question.setQuestionOptionsDto(optionList);\n                questionListReturn.add(question);\n                \n            }\n            setCourse.setCourseId(course.getCourseId());\n            setCourse.setCourseName(course.getCourseName());\n            setCourse.setQuestionsDto(questionListReturn);\n            courseQues.add(setCourse);\n        }\n        \n        return courseQues;\n    }\n</code></pre>\n<p>Please help me with it, I have tried so many ways to do it but I couldn't.\nThe above code is working fine, but it displays the courses that are not present in questions table.</p>\n<p>I have tried above code. It displaying the courses that are not present in my question table.\nsomething like this.</p>\n<pre><code>&quot;response&quot;: [\n    {\n      &quot;courseId&quot;: 1,\n      &quot;courseName&quot;: &quot;Induction&quot;,\n      &quot;questionsDto&quot;: [\n        {\n          &quot;questionId&quot;: 2,\n          &quot;question&quot;: &quot;How are you&quot;\n          &quot;questionOptionsDto&quot;: [\n            {\n              &quot;optionId&quot;: 1,\n              &quot;optionName&quot;: &quot;string 1&quot;,\n              &quot;isActive&quot;: true,\n              &quot;isDeleted&quot;: false\n            }\n          ]\n},\n{\n      &quot;courseId&quot;: 2,\n      &quot;courseName&quot;: &quot;string&quot;,\n      &quot;questionsDto&quot;: []\n    }\n  ]\n</code></pre>\n"},{"tags":["java","spring","database","dao","jdbctemplate"],"comments":[{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":0,"creation_date":1684076135,"post_id":76248090,"comment_id":134460528,"body_markdown":"What does your pom.xml and application.properties look like?","body":"What does your pom.xml and application.properties look like?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684131071,"post_id":76248090,"comment_id":134465921,"body_markdown":"Is this your actual code or some dumbed down version of your code not showing everything there is in play?","body":"Is this your actual code or some dumbed down version of your code not showing everything there is in play?"}],"answers":[{"tags":[],"owner":{"account_id":10753100,"reputation":364,"user_id":7911790,"display_name":"Navnath Adsul"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684082365,"creation_date":1684082365,"answer_id":76248602,"question_id":76248090,"body_markdown":"in your code, you have used the setter method, and it&#39;s used for setting extra properties to objects or customizing objects with specific logic.\r\n\r\n\r\nIf you don&#39;t want any extra customization then, use `@Autowired` annotation to initiate the property with declatrion. for e.g.\r\n\r\n    @Autowired\r\n    private JdbcTemplate jdbcTemplate;\r\n\r\n","title":"Java Spring, jdbcTemplate. jdbcTemplate is null and throws null pointer exception","body":"<p>in your code, you have used the setter method, and it's used for setting extra properties to objects or customizing objects with specific logic.</p>\n<p>If you don't want any extra customization then, use <code>@Autowired</code> annotation to initiate the property with declatrion. for e.g.</p>\n<pre><code>@Autowired\nprivate JdbcTemplate jdbcTemplate;\n</code></pre>\n"}],"owner":{"account_id":25775130,"reputation":11,"user_id":19522134,"display_name":"murakami w slancah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":875,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1684131082,"answer_count":1,"score":1,"last_activity_date":1684147933,"creation_date":1684075776,"question_id":76248090,"body_markdown":"jdbcTemplate is null and throws null pointer exception\r\n\r\nHi, maybe can someone explain why thist jdbc DAO method doesn&#39;t work and throws this exception?\r\n\r\nController\r\n```\r\n@Controller\r\npublic class MainPageController {\r\n    private final VehicleDAO vehicleDAO;\r\n    private final UserDAO userDAO;\r\n\r\n    @Autowired\r\n    public MainPageController(VehicleDAO vehicleDAO, UserDAO userDAO) {\r\n        this.vehicleDAO = vehicleDAO;\r\n        this.userDAO = userDAO;\r\n    }\r\n    @GetMapping(&quot;/main&quot;)\r\n    public String index(UserDAO user, Model model) {\r\n        model.addAttribute(&quot;vehicles&quot;, vehicleDAO.index());\r\n        model.addAttribute(&quot;user&quot;, userDAO.currentUser());\r\n        return &quot;main&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/new-vehicle&quot;)\r\n    public String newCar(@ModelAttribute(&quot;vehicle&quot;) Vehicle vehicle) {\r\n        return &quot;new-vehicle&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/new-vehicle&quot;)\r\n    public String addCar(@ModelAttribute(&quot;vehicle&quot;) Vehicle vehicle,\r\n                         VehicleDAO vehicleDAO) {\r\n        vehicleDAO.add(vehicle);\r\n        return &quot;redirect:/main&quot;;\r\n    }\r\n}\r\n```\r\n\r\nThe problem is in the &quot;add&quot; method.\r\n\r\n```\r\n@Component\r\npublic class VehicleDAO {\r\n    private final JdbcTemplate jdbcTemplate;\r\n\r\n    @Autowired\r\n    public VehicleDAO(JdbcTemplate jdbcTemplate) {\r\n        this.jdbcTemplate = jdbcTemplate;\r\n    }\r\n\r\n    public List&lt;Vehicle&gt; index() {\r\n        return jdbcTemplate.query(&quot;SELECT * FROM vehicles&quot;, new BeanPropertyRowMapper&lt;&gt;(Vehicle.class));\r\n    }\r\n\r\n    public void add(Vehicle vehicle) {\r\n        jdbcTemplate.update(&quot;INSERT INTO vehicles (car_brand, car_year, price_rent) VALUES(?, ?, ?)&quot;, vehicle.getCAR_BRAND(),\r\n                vehicle.getCAR_YEAR(), vehicle.getPRICE_RENT()); // here the problem\r\n    }\r\n```\r\n\r\nVehicle object\r\n\r\n```\r\npublic class Vehicle {\r\n    private int CAR_ID;\r\n    private String CAR_BRAND;\r\n    private int PRICE_RENT;\r\n    private int CAR_YEAR;\r\n\r\n    public Vehicle() {\r\n    }\r\n\r\n    public String getCAR_BRAND() {\r\n        return CAR_BRAND;\r\n    }\r\n\r\n    public void setCAR_BRAND(String CAR_BRAND) {\r\n        this.CAR_BRAND = CAR_BRAND;\r\n    }\r\n\r\n    public int getPRICE_RENT() {\r\n        return PRICE_RENT;\r\n    }\r\n\r\n    public void setPRICE_RENT(int PRICE_RENT) {\r\n        this.PRICE_RENT = PRICE_RENT;\r\n    }\r\n\r\n    public int getCAR_YEAR() {\r\n        return CAR_YEAR;\r\n    }\r\n\r\n    public void setCAR_YEAR(int CAR_YEAR) {\r\n        this.CAR_YEAR = CAR_YEAR;\r\n    }\r\n\r\n    public int getCAR_ID() {\r\n        return CAR_ID;\r\n    }\r\n\r\n    public void setCAR_ID(int CAR_ID) {\r\n        this.CAR_ID = CAR_ID;\r\n    }\r\n\r\n    public Vehicle(String CAR_BRAND, int PRICE_RENT, int CAR_YEAR, int CAR_ID) {\r\n        this.CAR_BRAND = CAR_BRAND;\r\n        this.PRICE_RENT = PRICE_RENT;\r\n        this.CAR_YEAR = CAR_YEAR;\r\n        this.CAR_ID = CAR_ID;\r\n    }\r\n}\r\n```\r\nPOM.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;pl.messages&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;web&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;web&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n```\r\n\r\nProperties\r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/CoolStoreDB\r\n    spring.datasource.username=user\r\n    spring.datasource.password=user\r\n\r\nConsole\r\n```\r\n2023-05-14T18:51:03.496+02:00  INFO 9688 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n2023-05-14T18:51:03.549+02:00  INFO 9688 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2023-05-14T18:51:03.563+02:00  INFO 9688 --- [  restartedMain] pl.messages.web.WebApplication           : Started WebApplication in 4.326 seconds (process running for 5.201)\r\n2023-05-14T18:51:18.616+02:00  INFO 9688 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-05-14T18:51:18.616+02:00  INFO 9688 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-05-14T18:51:18.618+02:00  INFO 9688 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms\r\n2023-05-14T18:51:18.707+02:00 ERROR 9688 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.jdbc.core.JdbcTemplate.update(String, Object[])&quot; because &quot;this.jdbcTemplate&quot; is null] with root cause\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.jdbc.core.JdbcTemplate.update(String, Object[])&quot; because &quot;this.jdbcTemplate&quot; is null\r\n\tat pl.messages.web.dao.VehicleDAO.add(VehicleDAO.java:22) ~[classes/:na]\r\n\tat pl.messages.web.controller.MainPageController.addCar(MainPageController.java:41) ~[classes/:na]\r\n```\r\n\r\nI have tried change my sql command and debugged everything. Values came to the method but however throws me null of jdbcTemplayte for some reason.\r\n","title":"Java Spring, jdbcTemplate. jdbcTemplate is null and throws null pointer exception","body":"<p>jdbcTemplate is null and throws null pointer exception</p>\n<p>Hi, maybe can someone explain why thist jdbc DAO method doesn't work and throws this exception?</p>\n<p>Controller</p>\n<pre><code>@Controller\npublic class MainPageController {\n    private final VehicleDAO vehicleDAO;\n    private final UserDAO userDAO;\n\n    @Autowired\n    public MainPageController(VehicleDAO vehicleDAO, UserDAO userDAO) {\n        this.vehicleDAO = vehicleDAO;\n        this.userDAO = userDAO;\n    }\n    @GetMapping(&quot;/main&quot;)\n    public String index(UserDAO user, Model model) {\n        model.addAttribute(&quot;vehicles&quot;, vehicleDAO.index());\n        model.addAttribute(&quot;user&quot;, userDAO.currentUser());\n        return &quot;main&quot;;\n    }\n\n    @GetMapping(&quot;/new-vehicle&quot;)\n    public String newCar(@ModelAttribute(&quot;vehicle&quot;) Vehicle vehicle) {\n        return &quot;new-vehicle&quot;;\n    }\n\n    @PostMapping(&quot;/new-vehicle&quot;)\n    public String addCar(@ModelAttribute(&quot;vehicle&quot;) Vehicle vehicle,\n                         VehicleDAO vehicleDAO) {\n        vehicleDAO.add(vehicle);\n        return &quot;redirect:/main&quot;;\n    }\n}\n</code></pre>\n<p>The problem is in the &quot;add&quot; method.</p>\n<pre><code>@Component\npublic class VehicleDAO {\n    private final JdbcTemplate jdbcTemplate;\n\n    @Autowired\n    public VehicleDAO(JdbcTemplate jdbcTemplate) {\n        this.jdbcTemplate = jdbcTemplate;\n    }\n\n    public List&lt;Vehicle&gt; index() {\n        return jdbcTemplate.query(&quot;SELECT * FROM vehicles&quot;, new BeanPropertyRowMapper&lt;&gt;(Vehicle.class));\n    }\n\n    public void add(Vehicle vehicle) {\n        jdbcTemplate.update(&quot;INSERT INTO vehicles (car_brand, car_year, price_rent) VALUES(?, ?, ?)&quot;, vehicle.getCAR_BRAND(),\n                vehicle.getCAR_YEAR(), vehicle.getPRICE_RENT()); // here the problem\n    }\n</code></pre>\n<p>Vehicle object</p>\n<pre><code>public class Vehicle {\n    private int CAR_ID;\n    private String CAR_BRAND;\n    private int PRICE_RENT;\n    private int CAR_YEAR;\n\n    public Vehicle() {\n    }\n\n    public String getCAR_BRAND() {\n        return CAR_BRAND;\n    }\n\n    public void setCAR_BRAND(String CAR_BRAND) {\n        this.CAR_BRAND = CAR_BRAND;\n    }\n\n    public int getPRICE_RENT() {\n        return PRICE_RENT;\n    }\n\n    public void setPRICE_RENT(int PRICE_RENT) {\n        this.PRICE_RENT = PRICE_RENT;\n    }\n\n    public int getCAR_YEAR() {\n        return CAR_YEAR;\n    }\n\n    public void setCAR_YEAR(int CAR_YEAR) {\n        this.CAR_YEAR = CAR_YEAR;\n    }\n\n    public int getCAR_ID() {\n        return CAR_ID;\n    }\n\n    public void setCAR_ID(int CAR_ID) {\n        this.CAR_ID = CAR_ID;\n    }\n\n    public Vehicle(String CAR_BRAND, int PRICE_RENT, int CAR_YEAR, int CAR_ID) {\n        this.CAR_BRAND = CAR_BRAND;\n        this.PRICE_RENT = PRICE_RENT;\n        this.CAR_YEAR = CAR_YEAR;\n        this.CAR_ID = CAR_ID;\n    }\n}\n</code></pre>\n<p>POM.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;pl.messages&lt;/groupId&gt;\n    &lt;artifactId&gt;web&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;web&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;8.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n</code></pre>\n<p>Properties</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/CoolStoreDB\nspring.datasource.username=user\nspring.datasource.password=user\n</code></pre>\n<p>Console</p>\n<pre><code>2023-05-14T18:51:03.496+02:00  INFO 9688 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2023-05-14T18:51:03.549+02:00  INFO 9688 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-05-14T18:51:03.563+02:00  INFO 9688 --- [  restartedMain] pl.messages.web.WebApplication           : Started WebApplication in 4.326 seconds (process running for 5.201)\n2023-05-14T18:51:18.616+02:00  INFO 9688 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-05-14T18:51:18.616+02:00  INFO 9688 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-05-14T18:51:18.618+02:00  INFO 9688 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms\n2023-05-14T18:51:18.707+02:00 ERROR 9688 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.jdbc.core.JdbcTemplate.update(String, Object[])&quot; because &quot;this.jdbcTemplate&quot; is null] with root cause\n\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.jdbc.core.JdbcTemplate.update(String, Object[])&quot; because &quot;this.jdbcTemplate&quot; is null\n    at pl.messages.web.dao.VehicleDAO.add(VehicleDAO.java:22) ~[classes/:na]\n    at pl.messages.web.controller.MainPageController.addCar(MainPageController.java:41) ~[classes/:na]\n</code></pre>\n<p>I have tried change my sql command and debugged everything. Values came to the method but however throws me null of jdbcTemplayte for some reason.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9559,"page":433,"page_size":100}
