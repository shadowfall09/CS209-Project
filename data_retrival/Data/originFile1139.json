{"items":[{"tags":["javascript","java","android","ios"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1658990366,"post_id":73148172,"comment_id":129189990,"body_markdown":"Related: [Retrieving list of all installed printers via JavaScript](https://stackoverflow.com/questions/25529877/retrieving-list-of-all-installed-printers-via-javascript). Please also edit your question to clarify if you want this code to run on a webpage, or if you are writing native apps for android, windows, mac, ios etc.","body":"Related: <a href=\"https://stackoverflow.com/questions/25529877/retrieving-list-of-all-installed-printers-via-javascript\">Retrieving list of all installed printers via JavaScript</a>. Please also edit your question to clarify if you want this code to run on a webpage, or if you are writing native apps for android, windows, mac, ios etc."},{"owner":{"account_id":6532198,"reputation":54701,"user_id":5053002,"display_name":"Jaromanda X"},"score":1,"creation_date":1658990669,"post_id":73148172,"comment_id":129190071,"body_markdown":"if you want to get a list of printers in browser environment, you can stop trying. You can&#39;t do that, for obvious reasons (security being the most obvious)","body":"if you want to get a list of printers in browser environment, you can stop trying. You can&#39;t do that, for obvious reasons (security being the most obvious)"}],"answers":[{"tags":[],"owner":{"account_id":24905995,"reputation":106,"user_id":18776053,"display_name":"Царь всея мира"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659469595,"creation_date":1659469595,"answer_id":73212983,"question_id":73148172,"body_markdown":"You will have to implement this for two OSes! Android -&gt; JAVA and IOS -&gt; (Obj-C/Swift MAC OS)","title":"Is there any way to get default printer in javascript/nativescript?","body":"<p>You will have to implement this for two OSes! Android -&gt; JAVA and IOS -&gt; (Obj-C/Swift MAC OS)</p>\n"}],"owner":{"account_id":25914192,"reputation":1,"user_id":19637821,"display_name":"Anmol Jain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659469595,"creation_date":1658989671,"question_id":73148172,"body_markdown":"I&#39;m new to app development and I&#39;m trying to get the default printer name from the device and send it to a 3rd party API. I&#39;ve found &#39;javax.print.PrintServiceLookup&#39; which can get the default printer but I need this in javascript/typescript. \r\n\r\nIs there anything available to use this library in my code? I&#39;m developing this app for both Android and ios","title":"Is there any way to get default printer in javascript/nativescript?","body":"<p>I'm new to app development and I'm trying to get the default printer name from the device and send it to a 3rd party API. I've found 'javax.print.PrintServiceLookup' which can get the default printer but I need this in javascript/typescript.</p>\n<p>Is there anything available to use this library in my code? I'm developing this app for both Android and ios</p>\n"},{"tags":["java","json","annotations","jackson"],"comments":[{"owner":{"account_id":363150,"reputation":18199,"user_id":706727,"accept_rate":89,"display_name":"Usman Ismail"},"score":0,"creation_date":1361996562,"post_id":14056716,"comment_id":21281324,"body_markdown":"There does not seem the way using this disable call but what does your custom annotation do? there may be another way to achieve the desired behavior.","body":"There does not seem the way using this disable call but what does your custom annotation do? there may be another way to achieve the desired behavior."},{"owner":{"account_id":255255,"reputation":7114,"user_id":535184,"accept_rate":54,"display_name":"yves amsellem"},"score":0,"creation_date":1362998996,"post_id":14056716,"comment_id":21659043,"body_markdown":"The annotation add a custom de/serializer that is not wanted for this mapper.","body":"The annotation add a custom de/serializer that is not wanted for this mapper."},{"owner":{"account_id":363150,"reputation":18199,"user_id":706727,"accept_rate":89,"display_name":"Usman Ismail"},"score":0,"creation_date":1363017694,"post_id":14056716,"comment_id":21670527,"body_markdown":"Would jackson views not suffice? If all you are doing in the custom de/serializer is filtering which fields are read or written then views can do the same thing. See here (http://www.techtraits.com/Programming/2011/08/12/implementing-jackson-views/)","body":"Would jackson views not suffice? If all you are doing in the custom de/serializer is filtering which fields are read or written then views can do the same thing. See here (<a href=\"http://www.techtraits.com/Programming/2011/08/12/implementing-jackson-views/\" rel=\"nofollow noreferrer\">techtraits.com/Programming/2011/08/12/&hellip;</a>)"},{"owner":{"account_id":255255,"reputation":7114,"user_id":535184,"accept_rate":54,"display_name":"yves amsellem"},"score":0,"creation_date":1363018190,"post_id":14056716,"comment_id":21670860,"body_markdown":"The de/serializer transforms the String into MongoDB ObjectId. This question is related to [this github post](https://github.com/FasterXML/jackson-databind/issues/168#issuecomment-13695863).","body":"The de/serializer transforms the String into MongoDB ObjectId. This question is related to <a href=\"https://github.com/FasterXML/jackson-databind/issues/168#issuecomment-13695863\" rel=\"nofollow noreferrer\">this github post</a>."},{"owner":{"account_id":363150,"reputation":18199,"user_id":706727,"accept_rate":89,"display_name":"Usman Ismail"},"score":0,"creation_date":1363018978,"post_id":14056716,"comment_id":21671369,"body_markdown":"Hmm this may be a longshot but, with jackson any getter setter method can be annotated with JsonProperty. So if you put a JsonIgnore on the string member variable and then put JsonProperty on a getMongoID() method. Then within the code of this method you can do the conversion to MongoID. Similarly do the reverse conversion in the setMongoID(MongoID id) method.","body":"Hmm this may be a longshot but, with jackson any getter setter method can be annotated with JsonProperty. So if you put a JsonIgnore on the string member variable and then put JsonProperty on a getMongoID() method. Then within the code of this method you can do the conversion to MongoID. Similarly do the reverse conversion in the setMongoID(MongoID id) method."},{"owner":{"account_id":255255,"reputation":7114,"user_id":535184,"accept_rate":54,"display_name":"yves amsellem"},"score":0,"creation_date":1363021100,"post_id":14056716,"comment_id":21672704,"body_markdown":"Are you suggesting to extract the de/serializer into the object methods? Because this means duplicating its code on every object that need this...","body":"Are you suggesting to extract the de/serializer into the object methods? Because this means duplicating its code on every object that need this..."},{"owner":{"account_id":363150,"reputation":18199,"user_id":706727,"accept_rate":89,"display_name":"Usman Ismail"},"score":0,"creation_date":1363024127,"post_id":14056716,"comment_id":21674578,"body_markdown":"I was suggesting that, you could use inheritance to move this getter into a parent class. That is if all the classes that need this logic are logically such that they can be in one hierarchy.","body":"I was suggesting that, you could use inheritance to move this getter into a parent class. That is if all the classes that need this logic are logically such that they can be in one hierarchy."}],"answers":[{"tags":[],"owner":{"account_id":1003671,"reputation":3021,"user_id":1017939,"accept_rate":56,"display_name":"755"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1376526404,"creation_date":1376526404,"answer_id":18244474,"question_id":14056716,"body_markdown":"This the best I&#39;ve come across. I think I saw it on the Jackson user group forums somewhere.\r\n\r\nEssentially it makes a custom annotation introspector, which returns null if it sees that it has a specific annotation (in this case JsonTypeInfo)\r\n\r\n    JacksonAnnotationIntrospector ignoreJsonTypeInfoIntrospector = new JacksonAnnotationIntrospector() {\r\n    \t\t\t@Override\r\n    \t\t\tprotected TypeResolverBuilder&lt;?&gt; _findTypeResolver(\r\n    \t\t\t\t\tMapperConfig&lt;?&gt; config, Annotated ann, JavaType baseType) {\r\n    \t\t\t\tif (!ann.hasAnnotation(JsonTypeInfo.class)) {\r\n    \t\t\t\t\treturn super._findTypeResolver(config, ann, baseType);\r\n    \t\t\t\t}\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\tmapper.setAnnotationIntrospector(ignoreJsonTypeInfoIntrospector);","title":"Disable Jackson mapper for a particular annotation","body":"<p>This the best I've come across. I think I saw it on the Jackson user group forums somewhere.</p>\n\n<p>Essentially it makes a custom annotation introspector, which returns null if it sees that it has a specific annotation (in this case JsonTypeInfo)</p>\n\n<pre><code>JacksonAnnotationIntrospector ignoreJsonTypeInfoIntrospector = new JacksonAnnotationIntrospector() {\n            @Override\n            protected TypeResolverBuilder&lt;?&gt; _findTypeResolver(\n                    MapperConfig&lt;?&gt; config, Annotated ann, JavaType baseType) {\n                if (!ann.hasAnnotation(JsonTypeInfo.class)) {\n                    return super._findTypeResolver(config, ann, baseType);\n                }\n                return null;\n            }\n        };\n\n        mapper.setAnnotationIntrospector(ignoreJsonTypeInfoIntrospector);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1742324,"reputation":966,"user_id":1593370,"accept_rate":40,"display_name":"hasan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392902151,"creation_date":1392902151,"answer_id":21908962,"question_id":14056716,"body_markdown":"I think it&#39;s a better idea to override `findPropertiesToIgnore` method like this:\r\n\r\n        JacksonAnnotationIntrospector ignoreJsonTypeInfoIntrospector = new JacksonAnnotationIntrospector() {\r\n            @Override\r\n            public String[] findPropertiesToIgnore(AnnotatedClass ac) {\r\n                ArrayList&lt;String&gt; ret = new ArrayList&lt;String&gt;();\r\n                for (Method m : ac.getRawType().getMethods()) {\r\n                    if(ReflectionUtils.isGetter(m)){\r\n                        if(m.getAnnotation(Transient.class) != null)\r\n                            ret.add(ReflectionUtils.getPropertyName(m));\r\n\r\n                    }\r\n                };\r\n                return ret.toArray(new String[]{});\r\n            }\r\n        };\r\n        objectMapper = new ObjectMapper();\r\n        objectMapper.setAnnotationIntrospector(ignoreJsonTypeInfoIntrospector);","title":"Disable Jackson mapper for a particular annotation","body":"<p>I think it's a better idea to override <code>findPropertiesToIgnore</code> method like this:</p>\n\n<pre><code>    JacksonAnnotationIntrospector ignoreJsonTypeInfoIntrospector = new JacksonAnnotationIntrospector() {\n        @Override\n        public String[] findPropertiesToIgnore(AnnotatedClass ac) {\n            ArrayList&lt;String&gt; ret = new ArrayList&lt;String&gt;();\n            for (Method m : ac.getRawType().getMethods()) {\n                if(ReflectionUtils.isGetter(m)){\n                    if(m.getAnnotation(Transient.class) != null)\n                        ret.add(ReflectionUtils.getPropertyName(m));\n\n                }\n            };\n            return ret.toArray(new String[]{});\n        }\n    };\n    objectMapper = new ObjectMapper();\n    objectMapper.setAnnotationIntrospector(ignoreJsonTypeInfoIntrospector);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5730547,"reputation":789,"user_id":4526235,"accept_rate":72,"display_name":"Oleg Kuts"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1525102768,"creation_date":1525102768,"answer_id":50103819,"question_id":14056716,"body_markdown":"This solution worked for me. Check [this][1] for more info\r\n\r\n     private static final JacksonAnnotationIntrospector IGNORE_ENUM_ALIAS_ANNOTATIONS = new JacksonAnnotationIntrospector() {\r\n\r\n        @Override\r\n        protected &lt;A extends Annotation&gt; A _findAnnotation(final Annotated annotated, final Class&lt;A&gt; annoClass) {\r\n            if (!annotated.hasAnnotation(JsonEnumAliasSerializer.class)) {\r\n                return super._findAnnotation(annotated, annoClass);\r\n            }\r\n            return null;\r\n        }\r\n    };\r\n\r\n\r\nAnd my custom annotation:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @JacksonAnnotationsInside\r\n    @JsonSerialize(using = JsonEnumSerializer.class)\r\n    public @interface JsonEnumAliasSerializer {\r\n    }\r\n\r\nAnd ObjectMapper:\r\n\r\n        final ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.setAnnotationIntrospector(IGNORE_ENUM_ALIAS_ANNOTATIONS);\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind/issues/133","title":"Disable Jackson mapper for a particular annotation","body":"<p>This solution worked for me. Check <a href=\"https://github.com/FasterXML/jackson-databind/issues/133\" rel=\"nofollow noreferrer\">this</a> for more info</p>\n\n<pre><code> private static final JacksonAnnotationIntrospector IGNORE_ENUM_ALIAS_ANNOTATIONS = new JacksonAnnotationIntrospector() {\n\n    @Override\n    protected &lt;A extends Annotation&gt; A _findAnnotation(final Annotated annotated, final Class&lt;A&gt; annoClass) {\n        if (!annotated.hasAnnotation(JsonEnumAliasSerializer.class)) {\n            return super._findAnnotation(annotated, annoClass);\n        }\n        return null;\n    }\n};\n</code></pre>\n\n<p>And my custom annotation:</p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@JacksonAnnotationsInside\n@JsonSerialize(using = JsonEnumSerializer.class)\npublic @interface JsonEnumAliasSerializer {\n}\n</code></pre>\n\n<p>And ObjectMapper:</p>\n\n<pre><code>    final ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.setAnnotationIntrospector(IGNORE_ENUM_ALIAS_ANNOTATIONS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3675121,"reputation":468,"user_id":3061390,"display_name":"Tom Grushka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659469077,"creation_date":1659468458,"answer_id":73212785,"question_id":14056716,"body_markdown":"Here is a simpler way (August 2022) to do it in Kotlin (you can translate to Java if you really want to):\r\n\r\n(I use this in a Ktor/KMongo project to prevent `Transient` attributes from being persisted because KMongo requires `@JsonIgnore`, which then also prevents my other mappers from serializing those properties!)\r\n\r\n```kotlin\r\n@Target(PROPERTY_GETTER)\r\nannotation class Transient\r\n\r\nprivate val TransientIntrospector: JacksonAnnotationIntrospector = object : JacksonAnnotationIntrospector() {\r\n    override fun hasIgnoreMarker(m: AnnotatedMember): Boolean =\r\n        m.allAnnotations.has(Transient::class.java) || super.hasIgnoreMarker(m)\r\n}\r\n\r\nprivate class IgnoreTransientModule : SimpleModule() {\r\n    override fun setupModule(context: SetupContext) {\r\n        super.setupModule(context)\r\n        context.appendAnnotationIntrospector(TransientIntrospector)\r\n    }\r\n}\r\n\r\n// Just register the module in your `ObjectMapper` instance:\r\nval ignoreTransientMapper = with(ObjectMapper()) {\r\n    registerModule(IgnoreTransientModule())\r\n}\r\n\r\n// And here is how to use it:\r\ndata class Customer(\r\n    val id: String? = null,\r\n    val firstName: String,\r\n    val lastName: String,\r\n) {\r\n    @get:Transient\r\n    val fullName: String\r\n        get() = &quot;$firstName $lastName&quot;\r\n}\r\n\r\n```\r\n\r\n","title":"Disable Jackson mapper for a particular annotation","body":"<p>Here is a simpler way (August 2022) to do it in Kotlin (you can translate to Java if you really want to):</p>\n<p>(I use this in a Ktor/KMongo project to prevent <code>Transient</code> attributes from being persisted because KMongo requires <code>@JsonIgnore</code>, which then also prevents my other mappers from serializing those properties!)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Target(PROPERTY_GETTER)\nannotation class Transient\n\nprivate val TransientIntrospector: JacksonAnnotationIntrospector = object : JacksonAnnotationIntrospector() {\n    override fun hasIgnoreMarker(m: AnnotatedMember): Boolean =\n        m.allAnnotations.has(Transient::class.java) || super.hasIgnoreMarker(m)\n}\n\nprivate class IgnoreTransientModule : SimpleModule() {\n    override fun setupModule(context: SetupContext) {\n        super.setupModule(context)\n        context.appendAnnotationIntrospector(TransientIntrospector)\n    }\n}\n\n// Just register the module in your `ObjectMapper` instance:\nval ignoreTransientMapper = with(ObjectMapper()) {\n    registerModule(IgnoreTransientModule())\n}\n\n// And here is how to use it:\ndata class Customer(\n    val id: String? = null,\n    val firstName: String,\n    val lastName: String,\n) {\n    @get:Transient\n    val fullName: String\n        get() = &quot;$firstName $lastName&quot;\n}\n\n</code></pre>\n"}],"owner":{"account_id":255255,"reputation":7114,"user_id":535184,"accept_rate":54,"display_name":"yves amsellem"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9699,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1659469077,"creation_date":1356620623,"question_id":14056716,"body_markdown":"With Jackson, it&#39;s easy to disable all annotations for a given `ObjectMapper`.\r\nIs there a way to only disable one given annotation?\r\n\r\n    // disable all\r\n    ObjectMapper mapper = new ObjectMapper()\r\n    mapper.disable(MapperFeature.USE_ANNOTATIONS);\r\n    \r\n    // disable one?\r\n    ObjectMapper mapper = new ObjectMapper()\r\n    mapper.disable(@JsonIgnore);\r\n\r\nUsing `@JacksonAnnotationsInside`, I&#39;ve defined a custom Jackson annotation and I only want it to be used in certain circumstances.","title":"Disable Jackson mapper for a particular annotation","body":"<p>With Jackson, it's easy to disable all annotations for a given <code>ObjectMapper</code>.\nIs there a way to only disable one given annotation?</p>\n\n<pre><code>// disable all\nObjectMapper mapper = new ObjectMapper()\nmapper.disable(MapperFeature.USE_ANNOTATIONS);\n\n// disable one?\nObjectMapper mapper = new ObjectMapper()\nmapper.disable(@JsonIgnore);\n</code></pre>\n\n<p>Using <code>@JacksonAnnotationsInside</code>, I've defined a custom Jackson annotation and I only want it to be used in certain circumstances.</p>\n"},{"tags":["java","json","jackson","lombok"],"comments":[{"owner":{"account_id":25863692,"reputation":138,"user_id":19595755,"display_name":"pholak"},"score":1,"creation_date":1659465178,"post_id":73211880,"comment_id":129299899,"body_markdown":"Do you have jackon-datatype-jsr310 dependency?\nhttps://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-jsr310\n\nIt looks like the problem is related with Jackson and LocalDateTime, not Lombok.","body":"Do you have jackon-datatype-jsr310 dependency? <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-jsr310\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.fasterxml.jackson.datatype/&hellip;</a>  It looks like the problem is related with Jackson and LocalDateTime, not Lombok."},{"owner":{"account_id":20701840,"reputation":871,"user_id":15200705,"display_name":"Luciana Oliveira"},"score":0,"creation_date":1659465648,"post_id":73211880,"comment_id":129300042,"body_markdown":"No, I don&#39;t have. I&#39;ll include and I&#39;ll write a feedback. You are rigth.","body":"No, I don&#39;t have. I&#39;ll include and I&#39;ll write a feedback. You are rigth."},{"owner":{"account_id":20701840,"reputation":871,"user_id":15200705,"display_name":"Luciana Oliveira"},"score":0,"creation_date":1659466440,"post_id":73211880,"comment_id":129300274,"body_markdown":"I added the dependency and the error persist. Do you have any idea?","body":"I added the dependency and the error persist. Do you have any idea?"}],"answers":[{"tags":[],"owner":{"account_id":25863692,"reputation":138,"user_id":19595755,"display_name":"pholak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659468371,"creation_date":1659466448,"answer_id":73212416,"question_id":73211880,"body_markdown":" 1. You are using a very old Jackson version. \r\n 2. To make Jackson work with Java 8 time, you need to add [jackson-datatype-jsr310](https://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-jsr310) dependency and register module in ObjectMapper:\r\n```\r\nobjectMapper.registerModule(new JavaTimeModule()); \r\n``` \r\n\r\nComplete working example with current Jackson version:\r\n``` \r\nPerson person = new Person(LocalDateTime.now());\r\nObjectMapper objectMapper = new ObjectMapper();\r\nobjectMapper.registerModule(new JavaTimeModule());\r\nString json = objectMapper.writeValueAsString(person);\r\nPerson personDeserialized = objectMapper.readValue(json, Person.class);\r\n```\r\n\r\nDependencies:\r\n``` \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt; \r\n``` \r\n\r\n\r\n \r\n","title":"ERROR: org.codehaus.jackson.map.JsonMappingException","body":"<ol>\n<li>You are using a very old Jackson version.</li>\n<li>To make Jackson work with Java 8 time, you need to add <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-jsr310\" rel=\"nofollow noreferrer\">jackson-datatype-jsr310</a> dependency and register module in ObjectMapper:</li>\n</ol>\n<pre><code>objectMapper.registerModule(new JavaTimeModule()); \n</code></pre>\n<p>Complete working example with current Jackson version:</p>\n<pre><code>Person person = new Person(LocalDateTime.now());\nObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.registerModule(new JavaTimeModule());\nString json = objectMapper.writeValueAsString(person);\nPerson personDeserialized = objectMapper.readValue(json, Person.class);\n</code></pre>\n<p>Dependencies:</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n            &lt;version&gt;2.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt; \n</code></pre>\n"}],"owner":{"account_id":20701840,"reputation":871,"user_id":15200705,"display_name":"Luciana Oliveira"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1027,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73212416,"answer_count":1,"score":0,"last_activity_date":1659468371,"creation_date":1659463615,"question_id":73211880,"body_markdown":"I&#39;m using lombok + Java to otimizate the application. The class has the tags `@Data` , `@EqualsAndHashCode(callSuper = false)`, `@NoArgsConstructor`, `@AllArgsConstructor` e `@Builder` before signature&#39;s class. When I run, It shows the error below:\r\n\r\n**ERROR:**\r\n&gt; org.apache.cxf.jaxrs.JAXRSRuntimeException:\r\n&gt; org.codehaus.jackson.map.JsonMappingException: No suitable constructor\r\n&gt; found for type [simple type, class java.time.LocalDateTime]: can not\r\n&gt; instantiate from JSON object (need to add/enable type information?) \r\n&gt; at [Source:\r\n&gt; org.apache.cxf.transport.http.AbstractHTTPDestination$1@25e15ce5;\r\n&gt; line: 1, column: 188] \tat\r\n&gt; org.apache.cxf.jaxrs.utils.JAXRSUtils.toJAXRSRuntimeException(JAXRSUtils.java:1906)\r\n&gt; \tat\r\n&gt; org.apache.cxf.jaxrs.interceptor.JAXRSInInterceptor.convertExceptionToResponseIfPossible(JAXRSInInterceptor.java:276)\r\n\r\n**CLASS:**\r\n\r\n    ...\r\n    \r\n    @Data\r\n    @EqualsAndHashCode(callSuper = false)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    public class Person {\r\n    \r\n         private LocalDateTime date;\r\n         ...\r\n    }\r\n\r\nI thougth this lombok&#39;s tags are enough. Does anyone have any idea?","title":"ERROR: org.codehaus.jackson.map.JsonMappingException","body":"<p>I'm using lombok + Java to otimizate the application. The class has the tags <code>@Data</code> , <code>@EqualsAndHashCode(callSuper = false)</code>, <code>@NoArgsConstructor</code>, <code>@AllArgsConstructor</code> e <code>@Builder</code> before signature's class. When I run, It shows the error below:</p>\n<p><strong>ERROR:</strong></p>\n<blockquote>\n<p>org.apache.cxf.jaxrs.JAXRSRuntimeException:\norg.codehaus.jackson.map.JsonMappingException: No suitable constructor\nfound for type [simple type, class java.time.LocalDateTime]: can not\ninstantiate from JSON object (need to add/enable type information?)\nat [Source:\norg.apache.cxf.transport.http.AbstractHTTPDestination$1@25e15ce5;\nline: 1, column: 188]     at\norg.apache.cxf.jaxrs.utils.JAXRSUtils.toJAXRSRuntimeException(JAXRSUtils.java:1906)\nat\norg.apache.cxf.jaxrs.interceptor.JAXRSInInterceptor.convertExceptionToResponseIfPossible(JAXRSInInterceptor.java:276)</p>\n</blockquote>\n<p><strong>CLASS:</strong></p>\n<pre><code>...\n\n@Data\n@EqualsAndHashCode(callSuper = false)\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Person {\n\n     private LocalDateTime date;\n     ...\n}\n</code></pre>\n<p>I thougth this lombok's tags are enough. Does anyone have any idea?</p>\n"},{"tags":["python","java","hmac"],"comments":[{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":0,"creation_date":1659467949,"post_id":73212670,"comment_id":129300699,"body_markdown":"Have you googled how to do an HMAC in Python? You&#39;ll need to find a Python library and read its documentation to see how to use it. It&#39;s unlikely to be a direct 1-to-1 translation.","body":"Have you googled how to do an HMAC in Python? You&#39;ll need to find a Python library and read its documentation to see how to use it. It&#39;s unlikely to be a direct 1-to-1 translation."}],"answers":[{"tags":[],"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659468137,"creation_date":1659468137,"answer_id":73212734,"question_id":73212670,"body_markdown":"It should be approximately this:\r\n```\r\nimport hmac\r\nimport hashlib\r\n\r\nkey = bytes(webhookSecret, &#39;UTF-8&#39;)\r\nmessage = bytes(webhookBody, &#39;UTF-8&#39;)  \r\ndigester = hmac.new(key, message, hashlib.sha1)\r\nsignature1 = digester.hexdigest()\r\n```","title":"How do you convert &quot;final String webhookSignature = new HmacUtils(HmacAlgorithms.HMAC_SHA_1, webhookSecret).hmacHex(webhookBody);&quot; from java to python","body":"<p>It should be approximately this:</p>\n<pre><code>import hmac\nimport hashlib\n\nkey = bytes(webhookSecret, 'UTF-8')\nmessage = bytes(webhookBody, 'UTF-8')  \ndigester = hmac.new(key, message, hashlib.sha1)\nsignature1 = digester.hexdigest()\n</code></pre>\n"}],"owner":{"account_id":19155218,"reputation":1,"user_id":13992182,"display_name":"Silverio Mirao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1659505277,"answer_count":1,"score":-1,"last_activity_date":1659468137,"creation_date":1659467774,"question_id":73212670,"body_markdown":"I&#39;m just not experienced enough in java to figure this out, but if anyone knows the equivalent of this code in python, that would be greatly appreciated:\r\n```\r\nfinal String webhookSignature = new HmacUtils(HmacAlgorithms.HMAC_SHA_1, webhookSecret).hmacHex(webhookBody);\r\n```\r\nHere is the original source: \r\n&lt;https://apidocs.rhombussystems.com/reference/simple-webhooks&gt;","title":"How do you convert &quot;final String webhookSignature = new HmacUtils(HmacAlgorithms.HMAC_SHA_1, webhookSecret).hmacHex(webhookBody);&quot; from java to python","body":"<p>I'm just not experienced enough in java to figure this out, but if anyone knows the equivalent of this code in python, that would be greatly appreciated:</p>\n<pre><code>final String webhookSignature = new HmacUtils(HmacAlgorithms.HMAC_SHA_1, webhookSecret).hmacHex(webhookBody);\n</code></pre>\n<p>Here is the original source:\n<a href=\"https://apidocs.rhombussystems.com/reference/simple-webhooks\" rel=\"nofollow noreferrer\">https://apidocs.rhombussystems.com/reference/simple-webhooks</a></p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1659470991,"post_id":73212710,"comment_id":129301691,"body_markdown":"This is the key difference between the old &quot;just-in-time&quot; model of checking a condition when back is pressed vs the &quot;ahead-of-time&quot; model where you need to set the `isEnabled` state on your callback when your `condition()` changes so that your callback is not enabled when `condition()` is false, automatically allowing the default behavior to happen. Where does your condition change?","body":"This is the key difference between the old &quot;just-in-time&quot; model of checking a condition when back is pressed vs the &quot;ahead-of-time&quot; model where you need to set the <code>isEnabled</code> state on your callback when your <code>condition()</code> changes so that your callback is not enabled when <code>condition()</code> is false, automatically allowing the default behavior to happen. Where does your condition change?"},{"owner":{"account_id":3123068,"reputation":4253,"user_id":2642478,"accept_rate":90,"display_name":"Alessandro Scarozza"},"score":0,"creation_date":1669832207,"post_id":73212710,"comment_id":131734871,"body_markdown":"in italy in that cases we use this expression: &quot;simple business complications office&quot;","body":"in italy in that cases we use this expression: &quot;simple business complications office&quot;"}],"owner":{"account_id":2824997,"reputation":3258,"user_id":2427819,"accept_rate":35,"display_name":"TootsieRockNRoll"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659467997,"creation_date":1659467997,"question_id":73212710,"body_markdown":"I have this custom back press: \r\n\r\n    override fun onBackPressed() {\r\n        if (condition()) {\r\n            doSomething()\r\n        } else {\r\n            super.onBackPressed()\r\n        }\r\n    }\r\n\r\nI can&#39;t seem to find a way to make it a OnBackPressedCallback, \r\n\r\n    private fun setupBackPress() {\r\n        onBackPressedDispatcher.addCallback(owner = this) {\r\n            if (condition()) {\r\n                doSomething()\r\n            } else {\r\n                onBackPressedDispatcher.onBackPressed() \r\n                // I don&#39;t know what to do in this case, \r\n                // this here would be an infinite loop \r\n                // but I need to just make it like super.onBackPressed()\r\n            }\r\n        }\r\n    }\r\n\r\nAny ideas? thanks","title":"Android custom onBackPressed to OnBackPressedCallback","body":"<p>I have this custom back press:</p>\n<pre><code>override fun onBackPressed() {\n    if (condition()) {\n        doSomething()\n    } else {\n        super.onBackPressed()\n    }\n}\n</code></pre>\n<p>I can't seem to find a way to make it a OnBackPressedCallback,</p>\n<pre><code>private fun setupBackPress() {\n    onBackPressedDispatcher.addCallback(owner = this) {\n        if (condition()) {\n            doSomething()\n        } else {\n            onBackPressedDispatcher.onBackPressed() \n            // I don't know what to do in this case, \n            // this here would be an infinite loop \n            // but I need to just make it like super.onBackPressed()\n        }\n    }\n}\n</code></pre>\n<p>Any ideas? thanks</p>\n"},{"tags":["java","spring-boot","rest","google-app-engine","google-cloud-platform"],"comments":[{"owner":{"account_id":443059,"reputation":297,"user_id":834055,"display_name":"billoreid"},"score":0,"creation_date":1659450197,"post_id":73192315,"comment_id":129294576,"body_markdown":"I&#39;m having the same issue. The version deployed June 30, 2022 runs without issues. The exact same code base deployed today gives 404 for all Spring Boot endpoints. Static files load fine. I&#39;m wondering if it has something to do with the Cloud SDK since that&#39;s the only thing that has changed. I&#39;m using: JDK-1.8, SB-2.3.11, Cloud SDK-395.0.0","body":"I&#39;m having the same issue. The version deployed June 30, 2022 runs without issues. The exact same code base deployed today gives 404 for all Spring Boot endpoints. Static files load fine. I&#39;m wondering if it has something to do with the Cloud SDK since that&#39;s the only thing that has changed. I&#39;m using: JDK-1.8, SB-2.3.11, Cloud SDK-395.0.0"}],"answers":[{"tags":[],"owner":{"account_id":4783644,"reputation":198,"user_id":3864749,"display_name":"karepu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659427990,"creation_date":1659427990,"answer_id":73204076,"question_id":73192315,"body_markdown":"Did you check the port. By default, 8080 is the default port. If you want to change the port. Follow below link\r\n\r\nhttps://cloud.google.com/appengine/docs/flexible/java/reference/app-yaml#network_settings","title":"Google Cloud Appengine returns &#39;404 Error&#39; when calling Spring Boot REST APIs","body":"<p>Did you check the port. By default, 8080 is the default port. If you want to change the port. Follow below link</p>\n<p><a href=\"https://cloud.google.com/appengine/docs/flexible/java/reference/app-yaml#network_settings\" rel=\"nofollow noreferrer\">https://cloud.google.com/appengine/docs/flexible/java/reference/app-yaml#network_settings</a></p>\n"},{"tags":[],"owner":{"account_id":443059,"reputation":297,"user_id":834055,"display_name":"billoreid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659467812,"creation_date":1659466028,"answer_id":73212348,"question_id":73192315,"body_markdown":"As suspected, this is a problem with the Cloud SDK v395.0.0. You can deploy your application using an older version by setting the cloudSdkVersion configuration parameter of the appengine maven plugin in your pom.xml file. More information can be found in the [AppEngine Maven Plugin reference][1] document.\r\n\r\nI tested this by deploying the Spring Boot helloWorld world sample app with various versions of the SDK and it broke once deployed with v395+ \r\n\r\n[This issue has been reported on Google&#39;s Issue Tracker][2]\r\n\r\n\r\n  [1]: https://github.com/GoogleCloudPlatform/app-maven-plugin/blob/master/USER_GUIDE.md\r\n  [2]: https://issuetracker.google.com/issues/240455023","title":"Google Cloud Appengine returns &#39;404 Error&#39; when calling Spring Boot REST APIs","body":"<p>As suspected, this is a problem with the Cloud SDK v395.0.0. You can deploy your application using an older version by setting the cloudSdkVersion configuration parameter of the appengine maven plugin in your pom.xml file. More information can be found in the <a href=\"https://github.com/GoogleCloudPlatform/app-maven-plugin/blob/master/USER_GUIDE.md\" rel=\"nofollow noreferrer\">AppEngine Maven Plugin reference</a> document.</p>\n<p>I tested this by deploying the Spring Boot helloWorld world sample app with various versions of the SDK and it broke once deployed with v395+</p>\n<p><a href=\"https://issuetracker.google.com/issues/240455023\" rel=\"nofollow noreferrer\">This issue has been reported on Google's Issue Tracker</a></p>\n"}],"owner":{"account_id":13096837,"reputation":191,"user_id":9462532,"display_name":"Amir Victor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73212348,"answer_count":2,"score":1,"last_activity_date":1659467812,"creation_date":1659349434,"question_id":73192315,"body_markdown":"I have deployed a spring boot application to Google cloud appengine service. When I run the application locally using ```mvn appengine:run``` everything works fine and I&#39;m able to send requests to REST APIs and get expected responses back. In fact when I deploy the application to appengine I can see the application logs which indicate that server is up and there aren&#39;t any exceptions or warnings during server initialization; But when I try to call any kind of endpoints, google send a HTML page containing below text:&lt;br/&gt;\r\n**Error: Not Found**\r\n\r\nI&#39;m using:&lt;br/&gt;\r\nJDK 1.8&lt;br/&gt;\r\nSpring Boot 2.4.5&lt;br/&gt;\r\nMaven&lt;br/&gt;\r\nCloud SDK version 395.0.0\r\n","title":"Google Cloud Appengine returns &#39;404 Error&#39; when calling Spring Boot REST APIs","body":"<p>I have deployed a spring boot application to Google cloud appengine service. When I run the application locally using <code>mvn appengine:run</code> everything works fine and I'm able to send requests to REST APIs and get expected responses back. In fact when I deploy the application to appengine I can see the application logs which indicate that server is up and there aren't any exceptions or warnings during server initialization; But when I try to call any kind of endpoints, google send a HTML page containing below text:<br/>\n<strong>Error: Not Found</strong></p>\n<p>I'm using:<br/>\nJDK 1.8<br/>\nSpring Boot 2.4.5<br/>\nMaven<br/>\nCloud SDK version 395.0.0</p>\n"},{"tags":["java","jpa","jpa-1.0"],"answers":[{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":2,"up_vote_count":295,"is_accepted":true,"score":293,"last_activity_date":1384849894,"creation_date":1262763991,"answer_id":2011546,"question_id":2011519,"body_markdown":"JPA&#39;s behaviour is correct (meaning *as per the specification*): objects aren&#39;t deleted simply because you&#39;ve removed them from a OneToMany collection. There are vendor-specific extensions that do that but native JPA doesn&#39;t cater for it.\r\n\r\nIn part this is because JPA doesn&#39;t actually know if it should delete something removed from the collection. In object modeling terms, this is the difference between *composition* and &quot;aggregation*.\r\n\r\nIn *composition*, the child entity has no existence without the parent. A classic example is between House and Room. Delete the House and the Rooms go too.\r\n\r\n*Aggregation* is a looser kind of association and is typified by Course and Student. Delete the Course and the Student still exists (probably in other Courses).\r\n\r\nSo you need to either use vendor-specific extensions to force this behaviour (if available) or explicitly delete the child AND remove it from the parent&#39;s collection.\r\n\r\nI&#39;m aware of:\r\n\r\n- [Hibernate][1]: cascade delete_orphan. See [10.11. Transitive persistence][2]; and\r\n- [EclipseLink][3]: calls this &quot;private ownership&quot;. See [How to Use the @PrivateOwned Annotation][4].\r\n\r\n\r\n  [1]: http://www.google.com.au/search?rlz=1C1GGLS_enAU353AU354&amp;sourceid=chrome&amp;ie=UTF-8&amp;q=hibernate\r\n  [2]: http://docs.jboss.org/hibernate/core/3.3/reference/en/html/objectstate.html#objectstate-transitive\r\n  [3]: http://www.eclipse.org/eclipselink/\r\n  [4]: http://www.eclipse.org/eclipselink/documentation/2.5/jpa/extensions/a_privateowned.htm","title":"JPA OneToMany not deleting child","body":"<p>JPA's behaviour is correct (meaning <em>as per the specification</em>): objects aren't deleted simply because you've removed them from a OneToMany collection. There are vendor-specific extensions that do that but native JPA doesn't cater for it.</p>\n\n<p>In part this is because JPA doesn't actually know if it should delete something removed from the collection. In object modeling terms, this is the difference between <em>composition</em> and \"aggregation*.</p>\n\n<p>In <em>composition</em>, the child entity has no existence without the parent. A classic example is between House and Room. Delete the House and the Rooms go too.</p>\n\n<p><em>Aggregation</em> is a looser kind of association and is typified by Course and Student. Delete the Course and the Student still exists (probably in other Courses).</p>\n\n<p>So you need to either use vendor-specific extensions to force this behaviour (if available) or explicitly delete the child AND remove it from the parent's collection.</p>\n\n<p>I'm aware of:</p>\n\n<ul>\n<li><a href=\"http://www.google.com.au/search?rlz=1C1GGLS_enAU353AU354&amp;sourceid=chrome&amp;ie=UTF-8&amp;q=hibernate\" rel=\"noreferrer\">Hibernate</a>: cascade delete_orphan. See <a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/objectstate.html#objectstate-transitive\" rel=\"noreferrer\">10.11. Transitive persistence</a>; and</li>\n<li><a href=\"http://www.eclipse.org/eclipselink/\" rel=\"noreferrer\">EclipseLink</a>: calls this \"private ownership\". See <a href=\"http://www.eclipse.org/eclipselink/documentation/2.5/jpa/extensions/a_privateowned.htm\" rel=\"noreferrer\">How to Use the @PrivateOwned Annotation</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":78418,"reputation":17437,"user_id":223196,"accept_rate":89,"display_name":"Chandra Patni"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1262764217,"creation_date":1262764217,"answer_id":2011559,"question_id":2011519,"body_markdown":"Here cascade, in the context of remove, means that the children are removed if you remove the parent. Not the association. If you are using Hibernate as your JPA provider, you can do it using [hibernate specific cascade][1].\r\n\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/stable/annotations/reference/en/html_single/#entity-hibspec-cascade","title":"JPA OneToMany not deleting child","body":"<p>Here cascade, in the context of remove, means that the children are removed if you remove the parent. Not the association. If you are using Hibernate as your JPA provider, you can do it using <a href=\"http://docs.jboss.org/hibernate/stable/annotations/reference/en/html_single/#entity-hibspec-cascade\" rel=\"nofollow noreferrer\">hibernate specific cascade</a>.</p>\n"},{"tags":[],"owner":{"account_id":44973,"reputation":7596,"user_id":132270,"accept_rate":85,"display_name":"bert"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1492591125,"creation_date":1262768581,"answer_id":2011836,"question_id":2011519,"body_markdown":"As explained, it is not possible to do what I want with JPA, so I employed the hibernate.cascade annotation, with this, the relevant code in the Parent class now looks like this:\r\n\r\n    @OneToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH}, mappedBy = &quot;parent&quot;)\r\n    @Cascade({org.hibernate.annotations.CascadeType.SAVE_UPDATE,\r\n                org.hibernate.annotations.CascadeType.DELETE,\r\n                org.hibernate.annotations.CascadeType.MERGE,\r\n                org.hibernate.annotations.CascadeType.PERSIST,\r\n                org.hibernate.annotations.CascadeType.DELETE_ORPHAN})\r\n    private Set&lt;Child&gt; childs = new HashSet&lt;Child&gt;();\r\n\r\nI could not simple use &#39;ALL&#39; as this would have deleted the parent as well. ","title":"JPA OneToMany not deleting child","body":"<p>As explained, it is not possible to do what I want with JPA, so I employed the hibernate.cascade annotation, with this, the relevant code in the Parent class now looks like this:</p>\n\n<pre><code>@OneToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REFRESH}, mappedBy = \"parent\")\n@Cascade({org.hibernate.annotations.CascadeType.SAVE_UPDATE,\n            org.hibernate.annotations.CascadeType.DELETE,\n            org.hibernate.annotations.CascadeType.MERGE,\n            org.hibernate.annotations.CascadeType.PERSIST,\n            org.hibernate.annotations.CascadeType.DELETE_ORPHAN})\nprivate Set&lt;Child&gt; childs = new HashSet&lt;Child&gt;();\n</code></pre>\n\n<p>I could not simple use 'ALL' as this would have deleted the parent as well. </p>\n"},{"tags":[],"owner":{"account_id":9949,"reputation":13854,"user_id":18591,"display_name":"Louis Jacomet"},"down_vote_count":0,"up_vote_count":88,"is_accepted":false,"score":88,"last_activity_date":1475440125,"creation_date":1262771394,"answer_id":2012048,"question_id":2011519,"body_markdown":"In addition to cletus&#39; answer, [JPA 2.0][1], final since december 2010, introduces an `orphanRemoval` attribute on `@OneToMany` annotations.\r\nFor more details see this [blog entry][2].\r\n\r\nNote that since the spec is relatively new, not all JPA 1 provider have a final JPA 2 implementation. For example, the [Hibernate 3.5.0-Beta-2 release][3] does not yet support this attribute.\r\n\r\n\r\n  [1]: http://jcp.org/en/jsr/detail?id=317\r\n  [2]: http://javablog.co.uk/2009/12/27/onetomany-fixes-in-jpa-2/\r\n  [3]: http://in.relation.to/12696.lace","title":"JPA OneToMany not deleting child","body":"<p>In addition to cletus' answer, <a href=\"http://jcp.org/en/jsr/detail?id=317\" rel=\"noreferrer\">JPA 2.0</a>, final since december 2010, introduces an <code>orphanRemoval</code> attribute on <code>@OneToMany</code> annotations.\nFor more details see this <a href=\"http://javablog.co.uk/2009/12/27/onetomany-fixes-in-jpa-2/\" rel=\"noreferrer\">blog entry</a>.</p>\n\n<p>Note that since the spec is relatively new, not all JPA 1 provider have a final JPA 2 implementation. For example, the <a href=\"http://in.relation.to/12696.lace\" rel=\"noreferrer\">Hibernate 3.5.0-Beta-2 release</a> does not yet support this attribute.</p>\n"},{"tags":[],"owner":{"account_id":1104656,"reputation":1228,"user_id":1096326,"display_name":"Maciel Escudero Bombonato"},"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1492591005,"creation_date":1365032370,"answer_id":15800130,"question_id":2011519,"body_markdown":"You can try this:\r\n\r\n&lt;code&gt;@OneToOne(orphanRemoval=true) or @OneToMany(orphanRemoval=true)&lt;/code&gt;.","title":"JPA OneToMany not deleting child","body":"<p>You can try this:</p>\n\n<p><code>@OneToOne(orphanRemoval=true) or @OneToMany(orphanRemoval=true)</code>.</p>\n"},{"tags":[],"owner":{"account_id":3406270,"reputation":49,"user_id":2857252,"display_name":"Amit Ghorpade"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1492591029,"creation_date":1450947951,"answer_id":34450093,"question_id":2011519,"body_markdown":"You can try this:\r\n\r\n    @OneToOne(cascade = CascadeType.REFRESH) \r\nor \r\n    \r\n    @OneToMany(cascade = CascadeType.REFRESH)","title":"JPA OneToMany not deleting child","body":"<p>You can try this:</p>\n\n<pre><code>@OneToOne(cascade = CascadeType.REFRESH) \n</code></pre>\n\n<p>or </p>\n\n<pre><code>@OneToMany(cascade = CascadeType.REFRESH)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1670487,"reputation":990,"user_id":1537029,"accept_rate":40,"display_name":"Kim"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1492591087,"creation_date":1469606291,"answer_id":38607101,"question_id":2011519,"body_markdown":"    @Entity \r\n    class Employee {\r\n         @OneToOne(orphanRemoval=true)\r\n         private Address address;\r\n    }\r\n\r\nSee [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18813341/what-is-the-difference-between-cascade-and-orphan-removal-from-db","title":"JPA OneToMany not deleting child","body":"<pre><code>@Entity \nclass Employee {\n     @OneToOne(orphanRemoval=true)\n     private Address address;\n}\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/questions/18813341/what-is-the-difference-between-cascade-and-orphan-removal-from-db\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659467663,"creation_date":1659467663,"answer_id":73212651,"question_id":2011519,"body_markdown":"I don&#39;t know why, but I had the same issue and my Entities were like below:\r\n\r\n    public class Parent {\r\n        @OneToMany(mappedBy = &quot;parent&quot;,\r\n                cascade = CascadeType.ALL)\r\n        private List&lt;Child&gt; childList= new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public class Child {\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;PARENT_ID&quot;, nullable = false)\r\n        private Parent parent;\r\n    }\r\n\r\nAnd I could finally delete a single child when I wrote my own `delete()` method:\r\n\r\n    @Modifying\r\n    @Query(&quot;delete from Child c where c.id = :id&quot;)\r\n    void deleteById(Long id);\r\n\r\n**please consider that using @Modifying is necessary**\r\n\r\nAnd I called it from Service layer:\r\n\r\n    childRepository.deleteById(childInstance.getId());\r\n\r\n\r\n","title":"JPA OneToMany not deleting child","body":"<p>I don't know why, but I had the same issue and my Entities were like below:</p>\n<pre><code>public class Parent {\n    @OneToMany(mappedBy = &quot;parent&quot;,\n            cascade = CascadeType.ALL)\n    private List&lt;Child&gt; childList= new ArrayList&lt;&gt;();\n}\n\npublic class Child {\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;PARENT_ID&quot;, nullable = false)\n    private Parent parent;\n}\n</code></pre>\n<p>And I could finally delete a single child when I wrote my own <code>delete()</code> method:</p>\n<pre><code>@Modifying\n@Query(&quot;delete from Child c where c.id = :id&quot;)\nvoid deleteById(Long id);\n</code></pre>\n<p><strong>please consider that using @Modifying is necessary</strong></p>\n<p>And I called it from Service layer:</p>\n<pre><code>childRepository.deleteById(childInstance.getId());\n</code></pre>\n"}],"owner":{"account_id":44973,"reputation":7596,"user_id":132270,"accept_rate":85,"display_name":"bert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193473,"favorite_count":0,"down_vote_count":1,"up_vote_count":189,"accepted_answer_id":2011546,"answer_count":8,"score":188,"last_activity_date":1659467663,"creation_date":1262763479,"question_id":2011519,"body_markdown":"I have a problem with a simple `@OneToMany` mapping between a parent and a child entity. All works well, only that child records are not deleted when I remove them from the collection.\r\n\r\nThe parent:\r\n\r\n    @Entity\r\n    public class Parent {\r\n        @Id\r\n        @Column(name = &quot;ID&quot;)\r\n        private Long id;\r\n    \r\n        @OneToMany(cascade = {CascadeType.ALL}, mappedBy = &quot;parent&quot;)\r\n        private Set&lt;Child&gt; childs = new HashSet&lt;Child&gt;();\r\n    \r\n     ...\r\n    }\r\n\r\nThe child:\r\n\r\n    @Entity\r\n    public class Child {\r\n        @Id\r\n        @Column(name = &quot;ID&quot;)\r\n        private Long id;\r\n    \r\n        @ManyToOne(cascade = CascadeType.ALL)\r\n        @JoinColumn(name=&quot;PARENTID&quot;, nullable = false)\r\n        private Parent parent;\r\n    \r\n      ...\r\n    }\r\n\r\nIf I now delete and child from the childs Set, it does not get deleted from the database. I tried nullifying the `child.parent` reference, but that did not work either.\r\n\r\nThe entities are used in a web application, the delete happens as part of an Ajax request. I don&#39;t have a list of deleted childs when the save button is pressed, so I can&#39;t delete them implicitly. \r\n\r\n","title":"JPA OneToMany not deleting child","body":"<p>I have a problem with a simple <code>@OneToMany</code> mapping between a parent and a child entity. All works well, only that child records are not deleted when I remove them from the collection.</p>\n\n<p>The parent:</p>\n\n<pre><code>@Entity\npublic class Parent {\n    @Id\n    @Column(name = \"ID\")\n    private Long id;\n\n    @OneToMany(cascade = {CascadeType.ALL}, mappedBy = \"parent\")\n    private Set&lt;Child&gt; childs = new HashSet&lt;Child&gt;();\n\n ...\n}\n</code></pre>\n\n<p>The child:</p>\n\n<pre><code>@Entity\npublic class Child {\n    @Id\n    @Column(name = \"ID\")\n    private Long id;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name=\"PARENTID\", nullable = false)\n    private Parent parent;\n\n  ...\n}\n</code></pre>\n\n<p>If I now delete and child from the childs Set, it does not get deleted from the database. I tried nullifying the <code>child.parent</code> reference, but that did not work either.</p>\n\n<p>The entities are used in a web application, the delete happens as part of an Ajax request. I don't have a list of deleted childs when the save button is pressed, so I can't delete them implicitly. </p>\n"},{"tags":["java","spring","spring-boot","quarkus","mapstruct"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1659501436,"post_id":73211755,"comment_id":129307027,"body_markdown":"You probably don’t want `LocalDateTime.now()` since anyone would be free to interpret the result in their own time zone, which would be wrong. `OffsetDateTime.now()` is fine since it includes offset. BTW, which is your desired format? And which purpose do you want it for (presentation to user, interchange with another system, persistence, …)?","body":"You probably don’t want <code>LocalDateTime.now()</code> since anyone would be free to interpret the result in their own time zone, which would be wrong. <code>OffsetDateTime.now()</code> is fine since it includes offset. BTW, which is your desired format? And which purpose do you want it for (presentation to user, interchange with another system, persistence, …)?"},{"owner":{"account_id":25836813,"reputation":343,"user_id":19573093,"display_name":"ner"},"score":0,"creation_date":1659527666,"post_id":73211755,"comment_id":129315220,"body_markdown":"Yes correct. I would like to use it to present to the user.","body":"Yes correct. I would like to use it to present to the user."},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1659544319,"post_id":73211755,"comment_id":129321149,"body_markdown":"It&#39;s not clear what your question is, partly due to the ambiguous phrasing, but mostly from lack of information. Is &quot;2022-05-20T11:22:10&quot; an example of the desired output, or the input you need to convert? Specify what information you have as input, and what format you require as output. For example, do you want to use the current time as input? Or do you have a string representing some stored date-time? Or some type of temporal object? What format do you want to display to the user? What time zone should be used for display?","body":"It&#39;s not clear what your question is, partly due to the ambiguous phrasing, but mostly from lack of information. Is &quot;2022-05-20T11:22:10&quot; an example of the desired output, or the input you need to convert? Specify what information you have as input, and what format you require as output. For example, do you want to use the current time as input? Or do you have a string representing some stored date-time? Or some type of temporal object? What format do you want to display to the user? What time zone should be used for display?"}],"answers":[{"tags":[],"owner":{"account_id":25960754,"reputation":11,"user_id":19677428,"display_name":"Alperen Aksu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659466837,"creation_date":1659466749,"answer_id":73212475,"question_id":73211755,"body_markdown":"You can use DateTimeFormatter method    \r\n\r\n        import java.time.format.DateTimeFormatter;\r\n        import java.time.LocalDateTime;\r\n        public class DateTimeFormatter {\r\n            public static void main(String[] args) {\r\n            DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd HH:mm:ss&quot;);\r\n            LocalDateTime now = LocalDateTime.now();\r\n            System.out.println(dtf.format(now));\r\n        }\r\n    }","title":"How to form date and time in Java","body":"<p>You can use DateTimeFormatter method</p>\n<pre><code>    import java.time.format.DateTimeFormatter;\n    import java.time.LocalDateTime;\n    public class DateTimeFormatter {\n        public static void main(String[] args) {\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd HH:mm:ss&quot;);\n        LocalDateTime now = LocalDateTime.now();\n        System.out.println(dtf.format(now));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25836813,"reputation":343,"user_id":19573093,"display_name":"ner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659466837,"creation_date":1659462972,"question_id":73211755,"body_markdown":"I&#39;m using LocalDateTime.now() and OffSetDateTime.now() to retrieve the date and time but it&#39;s not the desired format.\r\nDoes anyone know how to format this format? `&quot;2022-05-20T11:22:10&quot;`\r\n\r\nI&#39;m using MapStruct to do request and response conversions:\r\n\r\n    @Mapper\r\n    public interface ParesMapper {\r\n    \r\n        ParesMapper INSTANCE = Mappers.getMapper(ParesMapper.class);\r\n    \r\n        @Mapping(target = &quot;data&quot;, source = &quot;data&quot;)\r\n        DataParesResponse toResponse(DataPares domain);\r\n    \r\n        @Mapping(target = &quot;data&quot;, source = &quot;data&quot;)\r\n        List&lt;DataParesResponse&gt; toResponseList(List&lt;DataPares&gt; domain);\r\n    \r\n        DataPares toDomain(DataParesRequest dto);\r\n    \r\n        default OffsetDateTime map(LocalDateTime value) {\r\n            return OffsetDateTime.now();\r\n        }\r\n        default LocalDateTime map(OffsetDateTime value) {\r\n            return LocalDateTime.now();\r\n        }\r\n    }\r\n\r\nI look forward to helping you find a solution.","title":"How to form date and time in Java","body":"<p>I'm using LocalDateTime.now() and OffSetDateTime.now() to retrieve the date and time but it's not the desired format.\nDoes anyone know how to format this format? <code>&quot;2022-05-20T11:22:10&quot;</code></p>\n<p>I'm using MapStruct to do request and response conversions:</p>\n<pre><code>@Mapper\npublic interface ParesMapper {\n\n    ParesMapper INSTANCE = Mappers.getMapper(ParesMapper.class);\n\n    @Mapping(target = &quot;data&quot;, source = &quot;data&quot;)\n    DataParesResponse toResponse(DataPares domain);\n\n    @Mapping(target = &quot;data&quot;, source = &quot;data&quot;)\n    List&lt;DataParesResponse&gt; toResponseList(List&lt;DataPares&gt; domain);\n\n    DataPares toDomain(DataParesRequest dto);\n\n    default OffsetDateTime map(LocalDateTime value) {\n        return OffsetDateTime.now();\n    }\n    default LocalDateTime map(OffsetDateTime value) {\n        return LocalDateTime.now();\n    }\n}\n</code></pre>\n<p>I look forward to helping you find a solution.</p>\n"},{"tags":["java","android","audio","merge"],"comments":[{"owner":{"account_id":12514905,"reputation":2235,"user_id":9194639,"display_name":"new Q Open Wid"},"score":0,"creation_date":1659466133,"post_id":73212345,"comment_id":129300196,"body_markdown":"What have you tried? If so, what is the problem with your attempt?","body":"What have you tried? If so, what is the problem with your attempt?"},{"owner":{"account_id":25823093,"reputation":3,"user_id":19561836,"display_name":"Eldin Hukić"},"score":0,"creation_date":1659522096,"post_id":73212345,"comment_id":129313185,"body_markdown":"I have tried using Sequence Input Stream but with that I&#39;m limited to only 2 raw files, besides that I haven&#39;t tried anything else.","body":"I have tried using Sequence Input Stream but with that I&#39;m limited to only 2 raw files, besides that I haven&#39;t tried anything else."}],"owner":{"account_id":25823093,"reputation":3,"user_id":19561836,"display_name":"Eldin Hukić"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659466006,"creation_date":1659466006,"question_id":73212345,"body_markdown":"I want to merge multiple (2 or more, depends on the user) raw audio files into one and save that file locally. This is my code for saving a single raw audio to .mp3 locally with InputStream, but wasn&#39;t able to find a solution for using InputStream for multiple files. \r\n\r\n\r\n        String filePath = requireActivity().getFilesDir().getPath();\r\n        InputStream inputStream;\r\n        FileOutputStream fileOutputStream;\r\n        File file = new File (filePath, &quot;word.mp3&quot;);\r\n\r\n        try {\r\n            inputStream = getResources().openRawResource(R.raw.allah_f_ca);\r\n                    fileOutputStream = new FileOutputStream(file);\r\n\r\n            byte[] buffer = new byte[1024];\r\n            int length;\r\n            while ((length = inputStream.read(buffer)) &gt; 0) {\r\n                fileOutputStream.write(buffer, 0, length);\r\n            }\r\n            inputStream.close();\r\n            fileOutputStream.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } ","title":"Merging multiple raw audio files into new audio file in java (Android Studio)?","body":"<p>I want to merge multiple (2 or more, depends on the user) raw audio files into one and save that file locally. This is my code for saving a single raw audio to .mp3 locally with InputStream, but wasn't able to find a solution for using InputStream for multiple files.</p>\n<pre><code>    String filePath = requireActivity().getFilesDir().getPath();\n    InputStream inputStream;\n    FileOutputStream fileOutputStream;\n    File file = new File (filePath, &quot;word.mp3&quot;);\n\n    try {\n        inputStream = getResources().openRawResource(R.raw.allah_f_ca);\n                fileOutputStream = new FileOutputStream(file);\n\n        byte[] buffer = new byte[1024];\n        int length;\n        while ((length = inputStream.read(buffer)) &gt; 0) {\n            fileOutputStream.write(buffer, 0, length);\n        }\n        inputStream.close();\n        fileOutputStream.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    } \n</code></pre>\n"},{"tags":["java","linux","deeplearning4j"],"answers":[{"tags":[],"owner":{"account_id":3013065,"reputation":797,"user_id":2556041,"display_name":"Paul Dubs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659465947,"creation_date":1659465947,"answer_id":73212339,"question_id":73210980,"body_markdown":"&gt; Caused by: java.lang.UnsatisfiedLinkError: /home/h4/nore667e/.javacpp/cache/deepLearningSimpleOne-1.0-SNAPSHOT-jar-with-dependencies.jar/org/nd4j/linalg/cpu/nativecpu/bindings/linux-x86_64/libjnind4jcpu.so: /lib64/libm.so.6: version `GLIBC_2.27&#39; not found (required by /home/h4/nore667e/.javacpp/cache/deepLearningSimpleOne-1.0-SNAPSHOT-jar-with-dependencies.jar/org/nd4j/linalg/cpu/nativecpu/bindings/linux-x86_64/libnd4jcpu.so)\r\n\r\nYour stacktrace tells you exactly what the problem is.\r\n\r\nThis part in particular:\r\n&gt; /lib64/libm.so.6: version `GLIBC_2.27&#39; not found\r\n\r\nThat means that the operating system this is running on is too old (or rather its glibc version).\r\n\r\nThere is a binary that is still compatible with older releases. \r\n\r\nYou can get it by adding the following dependency (adapted to fit the style you&#39;ve posted here):\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.nd4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;${nd4j.backend}&lt;/artifactId&gt;\r\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\r\n            &lt;classifier&gt;linux-x86_64-compat&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nThis new classifier exists since version M1.1: https://deeplearning4j.konduit.ai/release-notes/1.0.0-m1.1\r\n\r\nBreaking default compatibility with old OS versions was necessary to enable the use of some speedups that are available on newer versions of glibc.","title":"no jnind4jcpu in java.library.path when using version M2 of DeepLearning4j","body":"<blockquote>\n<p>Caused by: java.lang.UnsatisfiedLinkError: /home/h4/nore667e/.javacpp/cache/deepLearningSimpleOne-1.0-SNAPSHOT-jar-with-dependencies.jar/org/nd4j/linalg/cpu/nativecpu/bindings/linux-x86_64/libjnind4jcpu.so: /lib64/libm.so.6: version `GLIBC_2.27' not found (required by /home/h4/nore667e/.javacpp/cache/deepLearningSimpleOne-1.0-SNAPSHOT-jar-with-dependencies.jar/org/nd4j/linalg/cpu/nativecpu/bindings/linux-x86_64/libnd4jcpu.so)</p>\n</blockquote>\n<p>Your stacktrace tells you exactly what the problem is.</p>\n<p>This part in particular:</p>\n<blockquote>\n<p>/lib64/libm.so.6: version `GLIBC_2.27' not found</p>\n</blockquote>\n<p>That means that the operating system this is running on is too old (or rather its glibc version).</p>\n<p>There is a binary that is still compatible with older releases.</p>\n<p>You can get it by adding the following dependency (adapted to fit the style you've posted here):</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.nd4j&lt;/groupId&gt;\n            &lt;artifactId&gt;${nd4j.backend}&lt;/artifactId&gt;\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\n            &lt;classifier&gt;linux-x86_64-compat&lt;/classifier&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>This new classifier exists since version M1.1: <a href=\"https://deeplearning4j.konduit.ai/release-notes/1.0.0-m1.1\" rel=\"nofollow noreferrer\">https://deeplearning4j.konduit.ai/release-notes/1.0.0-m1.1</a></p>\n<p>Breaking default compatibility with old OS versions was necessary to enable the use of some speedups that are available on newer versions of glibc.</p>\n"}],"owner":{"account_id":20262536,"reputation":1,"user_id":14860576,"display_name":"nour rekik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73212339,"answer_count":1,"score":0,"last_activity_date":1659465947,"creation_date":1659458532,"question_id":73210980,"body_markdown":"I am working with DeepLearning4j library. I am running everything on HPC and I generate a jar file to submit with spark-submit. I was using the version beta7 and I didn&#39;t have any problem. Recently, I wanted to upgrade the version to M2 but I got this error: \r\n\r\n``` Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n        at org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.&lt;init&gt;(NativeOpExecutioner.java:79)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n        at java.lang.Class.newInstance(Class.java:442)\r\n        at org.nd4j.linalg.factory.Nd4j.initWithBackend(Nd4j.java:5129)\r\n        at org.nd4j.linalg.factory.Nd4j.initContext(Nd4j.java:5044)\r\n        at org.nd4j.linalg.factory.Nd4j.&lt;clinit&gt;(Nd4j.java:269)\r\n        at org.datavec.image.loader.NativeImageLoader.transformImage(NativeImageLoader.java:631)\r\n        at org.datavec.image.loader.NativeImageLoader.asMatrix(NativeImageLoader.java:554)\r\n        at org.datavec.image.loader.NativeImageLoader.asMatrix(NativeImageLoader.java:280)\r\n        at org.datavec.image.loader.NativeImageLoader.asMatrix(NativeImageLoader.java:255)\r\n        at org.datavec.image.loader.NativeImageLoader.asMatrix(NativeImageLoader.java:249)\r\n        at org.datavec.image.recordreader.BaseImageRecordReader.next(BaseImageRecordReader.java:247)\r\n        at org.datavec.image.recordreader.BaseImageRecordReader.nextRecord(BaseImageRecordReader.java:511)\r\n        at org.deeplearning4j.datasets.datavec.RecordReaderDataSetIterator.initializeUnderlying(RecordReaderDataSetIterator.java:194)\r\n        at org.deeplearning4j.datasets.datavec.RecordReaderDataSetIterator.next(RecordReaderDataSetIterator.java:341)\r\n        at org.deeplearning4j.datasets.datavec.RecordReaderDataSetIterator.next(RecordReaderDataSetIterator.java:421)\r\n        at org.deeplearning4j.datasets.datavec.RecordReaderDataSetIterator.next(RecordReaderDataSetIterator.java:53)\r\n        at com.examples.DeepLearningOnSpark.imageNet_image.streaming.NetworkRetrainingMain.entryPoint(NetworkRetrainingMain.java:55)\r\n        at com.examples.DeepLearningOnSpark.imageNet_image.streaming.NetworkRetrainingMain.main(NetworkRetrainingMain.java:31)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\r\n        at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:928)\r\n        at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\r\n        at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\r\n        at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\r\n        at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1007)\r\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1016)\r\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\nCaused by: java.lang.RuntimeException: ND4J is probably missing dependencies. For more information, please refer to: https://deeplearning4j.konduit.ai/nd4j/backend\r\n        at org.nd4j.nativeblas.NativeOpsHolder.&lt;init&gt;(NativeOpsHolder.java:116)\r\n        at org.nd4j.nativeblas.NativeOpsHolder.&lt;clinit&gt;(NativeOpsHolder.java:37)\r\n        ... 34 more\r\nCaused by: java.lang.UnsatisfiedLinkError: no jnind4jcpu in java.library.path\r\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1867)\r\n        at java.lang.Runtime.loadLibrary0(Runtime.java:870)\r\n        at java.lang.System.loadLibrary(System.java:1122)\r\n        at org.bytedeco.javacpp.Loader.loadLibrary(Loader.java:1800)\r\n        at org.bytedeco.javacpp.Loader.load(Loader.java:1402)\r\n        at org.bytedeco.javacpp.Loader.load(Loader.java:1214)\r\n        at org.bytedeco.javacpp.Loader.load(Loader.java:1190)\r\n        at org.nd4j.linalg.cpu.nativecpu.bindings.Nd4jCpu.&lt;clinit&gt;(Nd4jCpu.java:14)\r\n        at java.lang.Class.forName0(Native Method)\r\n        at java.lang.Class.forName(Class.java:348)\r\n        at org.nd4j.common.config.ND4JClassLoading.loadClassByName(ND4JClassLoading.java:62)\r\n        at org.nd4j.common.config.ND4JClassLoading.loadClassByName(ND4JClassLoading.java:56)\r\n        at org.nd4j.nativeblas.NativeOpsHolder.&lt;init&gt;(NativeOpsHolder.java:88)\r\n        ... 35 more\r\nCaused by: java.lang.UnsatisfiedLinkError: /home/h4/nore667e/.javacpp/cache/deepLearningSimpleOne-1.0-SNAPSHOT-jar-with-dependencies.jar/org/nd4j/linalg/cpu/nativecpu/bindings/linux-x86_64/libjnind4jcpu.so: /lib64/libm.so.6: version `GLIBC_2.27&#39; not found (required by /home/h4/nore667e/.javacpp/cache/deepLearningSimpleOne-1.0-SNAPSHOT-jar-with-dependencies.jar/org/nd4j/linalg/cpu/nativecpu/bindings/linux-x86_64/libnd4jcpu.so)\r\n        at java.lang.ClassLoader$NativeLibrary.load(Native Method)\r\n        at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1941)\r\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1824)\r\n        at java.lang.Runtime.load0(Runtime.java:809)\r\n        at java.lang.System.load(System.java:1086)\r\n        at org.bytedeco.javacpp.Loader.loadLibrary(Loader.java:1747)\r\n        ... 44 more \r\n```\r\n\r\nHere is my pom.xml file:\r\n``` &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;deepLearningSimpleOne&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;dl4j-master.version&gt;1.0.0-M2&lt;/dl4j-master.version&gt;\r\n        &lt;!-- Change the nd4j.backend property to nd4j-cuda-X-platform to use CUDA GPUs --&gt;\r\n        &lt;!-- &lt;nd4j.backend&gt;nd4j-cuda-10.2-platform&lt;/nd4j.backend&gt; --&gt;\r\n        &lt;nd4j.backend&gt;nd4j-native&lt;/nd4j.backend&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;shadedClassifier&gt;bin&lt;/shadedClassifier&gt;\r\n        &lt;scala.binary.version&gt;2.12&lt;/scala.binary.version&gt;\r\n        &lt;maven-compiler-plugin.version&gt;3.8.1&lt;/maven-compiler-plugin.version&gt;\r\n        &lt;maven.minimum.version&gt;3.3.1&lt;/maven.minimum.version&gt;\r\n        &lt;exec-maven-plugin.version&gt;1.4.0&lt;/exec-maven-plugin.version&gt;\r\n        &lt;maven-shade-plugin.version&gt;2.4.3&lt;/maven-shade-plugin.version&gt;\r\n        &lt;jcommon.version&gt;1.0.23&lt;/jcommon.version&gt;\r\n        &lt;jfreechart.version&gt;1.0.13&lt;/jfreechart.version&gt;\r\n        &lt;logback.version&gt;1.1.7&lt;/logback.version&gt;\r\n        &lt;jcommander.version&gt;1.27&lt;/jcommander.version&gt;\r\n        &lt;azure.hadoop.version&gt;2.7.4&lt;/azure.hadoop.version&gt;\r\n        &lt;azure.storage.version&gt;2.0.0&lt;/azure.storage.version&gt;\r\n        &lt;spark.version&gt;2.4.8&lt;/spark.version&gt;\r\n        &lt;aws.sdk.version&gt;1.11.109&lt;/aws.sdk.version&gt;\r\n        &lt;jackson.version&gt;2.5.1&lt;/jackson.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${exec-maven-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;exec&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;executable&gt;java&lt;/executable&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-shade-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n                    &lt;shadedClassifierName&gt;${shadedClassifier}&lt;/shadedClassifierName&gt;\r\n                    &lt;createDependencyReducedPom&gt;true&lt;/createDependencyReducedPom&gt;\r\n                    &lt;filters&gt;\r\n                        &lt;filter&gt;\r\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;org/datanucleus/**&lt;/exclude&gt;\r\n                                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                        &lt;/filter&gt;\r\n                    &lt;/filters&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n                                    &lt;resource&gt;reference.conf&lt;/resource&gt;\r\n                                &lt;/transformer&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!--      Added to enable jar creation using mvn command--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;\r\n                        &lt;!-- bind to the packaging phase --&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    \r\n\r\n    &lt;dependencies&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;resources&lt;/artifactId&gt;\r\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-core_${scala.binary.version}&lt;/artifactId&gt;\r\n            &lt;version&gt;${spark.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.nd4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;${nd4j.backend}&lt;/artifactId&gt;\r\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.datavec&lt;/groupId&gt;\r\n            &lt;artifactId&gt;datavec-spark_${scala.binary.version}&lt;/artifactId&gt;\r\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dl4j-spark_${scala.binary.version}&lt;/artifactId&gt;\r\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dl4j-spark-parameterserver_${scala.binary.version}&lt;/artifactId&gt;\r\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.beust&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jcommander&lt;/artifactId&gt;\r\n            &lt;version&gt;${jcommander.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Used for patent classification example --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;deeplearning4j-nlp&lt;/artifactId&gt;\r\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;deeplearning4j-zoo&lt;/artifactId&gt;\r\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;deeplearning4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0-M2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n            &lt;version&gt;1.10.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nAnyone can help me please. Thank you!","title":"no jnind4jcpu in java.library.path when using version M2 of DeepLearning4j","body":"<p>I am working with DeepLearning4j library. I am running everything on HPC and I generate a jar file to submit with spark-submit. I was using the version beta7 and I didn't have any problem. Recently, I wanted to upgrade the version to M2 but I got this error:</p>\n<pre><code>        at org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner.&lt;init&gt;(NativeOpExecutioner.java:79)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n        at java.lang.Class.newInstance(Class.java:442)\n        at org.nd4j.linalg.factory.Nd4j.initWithBackend(Nd4j.java:5129)\n        at org.nd4j.linalg.factory.Nd4j.initContext(Nd4j.java:5044)\n        at org.nd4j.linalg.factory.Nd4j.&lt;clinit&gt;(Nd4j.java:269)\n        at org.datavec.image.loader.NativeImageLoader.transformImage(NativeImageLoader.java:631)\n        at org.datavec.image.loader.NativeImageLoader.asMatrix(NativeImageLoader.java:554)\n        at org.datavec.image.loader.NativeImageLoader.asMatrix(NativeImageLoader.java:280)\n        at org.datavec.image.loader.NativeImageLoader.asMatrix(NativeImageLoader.java:255)\n        at org.datavec.image.loader.NativeImageLoader.asMatrix(NativeImageLoader.java:249)\n        at org.datavec.image.recordreader.BaseImageRecordReader.next(BaseImageRecordReader.java:247)\n        at org.datavec.image.recordreader.BaseImageRecordReader.nextRecord(BaseImageRecordReader.java:511)\n        at org.deeplearning4j.datasets.datavec.RecordReaderDataSetIterator.initializeUnderlying(RecordReaderDataSetIterator.java:194)\n        at org.deeplearning4j.datasets.datavec.RecordReaderDataSetIterator.next(RecordReaderDataSetIterator.java:341)\n        at org.deeplearning4j.datasets.datavec.RecordReaderDataSetIterator.next(RecordReaderDataSetIterator.java:421)\n        at org.deeplearning4j.datasets.datavec.RecordReaderDataSetIterator.next(RecordReaderDataSetIterator.java:53)\n        at com.examples.DeepLearningOnSpark.imageNet_image.streaming.NetworkRetrainingMain.entryPoint(NetworkRetrainingMain.java:55)\n        at com.examples.DeepLearningOnSpark.imageNet_image.streaming.NetworkRetrainingMain.main(NetworkRetrainingMain.java:31)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\n        at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:928)\n        at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\n        at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\n        at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\n        at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1007)\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1016)\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\nCaused by: java.lang.RuntimeException: ND4J is probably missing dependencies. For more information, please refer to: https://deeplearning4j.konduit.ai/nd4j/backend\n        at org.nd4j.nativeblas.NativeOpsHolder.&lt;init&gt;(NativeOpsHolder.java:116)\n        at org.nd4j.nativeblas.NativeOpsHolder.&lt;clinit&gt;(NativeOpsHolder.java:37)\n        ... 34 more\nCaused by: java.lang.UnsatisfiedLinkError: no jnind4jcpu in java.library.path\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1867)\n        at java.lang.Runtime.loadLibrary0(Runtime.java:870)\n        at java.lang.System.loadLibrary(System.java:1122)\n        at org.bytedeco.javacpp.Loader.loadLibrary(Loader.java:1800)\n        at org.bytedeco.javacpp.Loader.load(Loader.java:1402)\n        at org.bytedeco.javacpp.Loader.load(Loader.java:1214)\n        at org.bytedeco.javacpp.Loader.load(Loader.java:1190)\n        at org.nd4j.linalg.cpu.nativecpu.bindings.Nd4jCpu.&lt;clinit&gt;(Nd4jCpu.java:14)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:348)\n        at org.nd4j.common.config.ND4JClassLoading.loadClassByName(ND4JClassLoading.java:62)\n        at org.nd4j.common.config.ND4JClassLoading.loadClassByName(ND4JClassLoading.java:56)\n        at org.nd4j.nativeblas.NativeOpsHolder.&lt;init&gt;(NativeOpsHolder.java:88)\n        ... 35 more\nCaused by: java.lang.UnsatisfiedLinkError: /home/h4/nore667e/.javacpp/cache/deepLearningSimpleOne-1.0-SNAPSHOT-jar-with-dependencies.jar/org/nd4j/linalg/cpu/nativecpu/bindings/linux-x86_64/libjnind4jcpu.so: /lib64/libm.so.6: version `GLIBC_2.27' not found (required by /home/h4/nore667e/.javacpp/cache/deepLearningSimpleOne-1.0-SNAPSHOT-jar-with-dependencies.jar/org/nd4j/linalg/cpu/nativecpu/bindings/linux-x86_64/libnd4jcpu.so)\n        at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n        at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1941)\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1824)\n        at java.lang.Runtime.load0(Runtime.java:809)\n        at java.lang.System.load(System.java:1086)\n        at org.bytedeco.javacpp.Loader.loadLibrary(Loader.java:1747)\n        ... 44 more \n</code></pre>\n<p>Here is my pom.xml file:</p>\n<pre><code>    &lt;artifactId&gt;deepLearningSimpleOne&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;dl4j-master.version&gt;1.0.0-M2&lt;/dl4j-master.version&gt;\n        &lt;!-- Change the nd4j.backend property to nd4j-cuda-X-platform to use CUDA GPUs --&gt;\n        &lt;!-- &lt;nd4j.backend&gt;nd4j-cuda-10.2-platform&lt;/nd4j.backend&gt; --&gt;\n        &lt;nd4j.backend&gt;nd4j-native&lt;/nd4j.backend&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;shadedClassifier&gt;bin&lt;/shadedClassifier&gt;\n        &lt;scala.binary.version&gt;2.12&lt;/scala.binary.version&gt;\n        &lt;maven-compiler-plugin.version&gt;3.8.1&lt;/maven-compiler-plugin.version&gt;\n        &lt;maven.minimum.version&gt;3.3.1&lt;/maven.minimum.version&gt;\n        &lt;exec-maven-plugin.version&gt;1.4.0&lt;/exec-maven-plugin.version&gt;\n        &lt;maven-shade-plugin.version&gt;2.4.3&lt;/maven-shade-plugin.version&gt;\n        &lt;jcommon.version&gt;1.0.23&lt;/jcommon.version&gt;\n        &lt;jfreechart.version&gt;1.0.13&lt;/jfreechart.version&gt;\n        &lt;logback.version&gt;1.1.7&lt;/logback.version&gt;\n        &lt;jcommander.version&gt;1.27&lt;/jcommander.version&gt;\n        &lt;azure.hadoop.version&gt;2.7.4&lt;/azure.hadoop.version&gt;\n        &lt;azure.storage.version&gt;2.0.0&lt;/azure.storage.version&gt;\n        &lt;spark.version&gt;2.4.8&lt;/spark.version&gt;\n        &lt;aws.sdk.version&gt;1.11.109&lt;/aws.sdk.version&gt;\n        &lt;jackson.version&gt;2.5.1&lt;/jackson.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${exec-maven-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;exec&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;java&lt;/executable&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-shade-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                    &lt;shadedClassifierName&gt;${shadedClassifier}&lt;/shadedClassifierName&gt;\n                    &lt;createDependencyReducedPom&gt;true&lt;/createDependencyReducedPom&gt;\n                    &lt;filters&gt;\n                        &lt;filter&gt;\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;org/datanucleus/**&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/filter&gt;\n                    &lt;/filters&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\n                                    &lt;resource&gt;reference.conf&lt;/resource&gt;\n                                &lt;/transformer&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;!--      Added to enable jar creation using mvn command--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;fully.qualified.MainClass&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;\n                        &lt;!-- bind to the packaging phase --&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    \n\n    &lt;dependencies&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\n            &lt;artifactId&gt;resources&lt;/artifactId&gt;\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${spark.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.nd4j&lt;/groupId&gt;\n            &lt;artifactId&gt;${nd4j.backend}&lt;/artifactId&gt;\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.datavec&lt;/groupId&gt;\n            &lt;artifactId&gt;datavec-spark_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\n            &lt;artifactId&gt;dl4j-spark_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\n            &lt;artifactId&gt;dl4j-spark-parameterserver_${scala.binary.version}&lt;/artifactId&gt;\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.beust&lt;/groupId&gt;\n            &lt;artifactId&gt;jcommander&lt;/artifactId&gt;\n            &lt;version&gt;${jcommander.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Used for patent classification example --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\n            &lt;artifactId&gt;deeplearning4j-nlp&lt;/artifactId&gt;\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\n            &lt;artifactId&gt;deeplearning4j-zoo&lt;/artifactId&gt;\n            &lt;version&gt;${dl4j-master.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\n            &lt;artifactId&gt;deeplearning4j-core&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0-M2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n            &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n            &lt;version&gt;1.10.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Anyone can help me please. Thank you!</p>\n"},{"tags":["java","class","jvm","opcode"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1327112654,"post_id":8949933,"comment_id":11204841,"body_markdown":"This isn&#39;t an answer, but to understand why the flag is used I think you also need to understand what the flag meant under the JVM version 1 spec - see http://java.sun.com/docs/books/jvms/first_edition/html/Instructions2.doc7.html#invokespecial","body":"This isn&#39;t an answer, but to understand why the flag is used I think you also need to understand what the flag meant under the JVM version 1 spec - see <a href=\"http://java.sun.com/docs/books/jvms/first_edition/html/Instructions2.doc7.html#invokespecial\" rel=\"nofollow noreferrer\">java.sun.com/docs/books/jvms/first_edition/html/&hellip;</a>"},{"owner":{"account_id":133139,"reputation":22924,"user_id":334274,"accept_rate":100,"display_name":"Jivings"},"score":0,"creation_date":1327140634,"post_id":8949933,"comment_id":11207805,"body_markdown":"Side by side, I can&#39;t see any difference.","body":"Side by side, I can&#39;t see any difference."}],"answers":[{"tags":[],"owner":{"account_id":85022,"reputation":13917,"user_id":237321,"accept_rate":75,"display_name":"x4u"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1659465832,"creation_date":1327118853,"answer_id":8950564,"question_id":8949933,"body_markdown":"ACC_SUPER was introduced to correct a problem with the invocation of super methods. The ACC_SUPER flag marks a class as compiled for the changed semantics of the opcode 183 instruction. It&#39;s purpose is similar to that of the class file version number as it allows the JVM to detect whether a class was compiled for the older or newer semantics of that instruction. Java 1.0.2 did not set and ignored ACC_SUPER while Java 1.1 and later always sets ACC_SUPER.\r\n\r\nBefore Java 1.1 the byte code instruction with opcode 183 that is now called `invokespecial` was called `invokenonvirtual` and had a partially different specification. It was used whenever instance methods had to be invoked without a virtual method lookup. This was the case for private methods, instance initializers (constructors) and to implement method invocations on `super`. But the latter case caused problems with evolving class libraries.\r\n\r\nA method reference in byte code (`CONSTANT_Methodref_info`) not only defines the name and the argument and return types of a method but also the class to which it belongs. Opcode 183 gets such a method reference parameter and was meant to directly invoke the referenced method from the specified class without further lookups. In the case of invocations on `super` it was the compilers responsibility to resolve the closest super class that implements this method and generate a reference to it into the byte code.\r\n\r\nSince Java 1.1 it was changed to essentially ignore the class referenced in `CONSTANT_Methodref_info` and to instead do the lookup for the closest super method with the given method name and signature in the JVM. This is usually done now when the class gets loaded or right before the instruction is executed or JIT compiled the first time.\r\n\r\nHere is an example why this change was neccessary. In Java 1.0.2 the AWT classes `Container` and `Component` were defined this way:\r\n\r\n    class Component\r\n    {\r\n        public void paint( Graphics g ) {}\r\n    }\r\n\r\n    class Container extends Component\r\n    {\r\n        // inherits paint from Component but doesn&#39;t override it\r\n    }\r\n\r\nIn Java 1.1 the class `Container` was changed to have its own implementation of `paint`:\r\n\r\n    class Container extends Component\r\n    {\r\n        public void paint( Graphics g ) {/*...*/}\r\n    }\r\n\r\nNow when you had a direct or indirect subclass of `Container` that made a call on `super.paint(g)` and compiled it for 1.0.2 it generated a `invokenonvirtual` instruction for `Component.paint` since this was the first parent that had this method. But if you used this compiled class on a JVM that also had `Container.paint` it would still have called `Component.paint` which is not what you would expect.\r\n\r\nOn the other hand, when you compiled the class for 1.1 and executed it on a 1.0.2 JVM it would throw a AbstractMethodError or more likely for VMs of that era simply crash. To avoid the crash you had to write `((Component)super).paint(g)` and compile it with a 1.1 compiler to get the desired behaviour in either VM. This would set ACC_SUPER but still generate the instruction to call `Component.paint`. A 1.0.2 VM would ignore ACC_SUPER and go straight to invoke `Component.paint` which is fine while a 1.1 VM would find ACC_SUPER set and thus do the lookup itself which would make it invoke `Container.paint` even though the byte code method reference was `Component.paint`.\r\n\r\nYou can find more about this in [this old post on the ikvm.net weblog][1].\r\n\r\n  [1]: https://web.archive.org/web/20210518044444/weblog.ikvm.net/PermaLink.aspx?guid=99fcff6c-8ab7-4358-9467-ddf71dd20acd","title":"What is the purpose of the ACC_SUPER access flag on Java Class files?","body":"<p>ACC_SUPER was introduced to correct a problem with the invocation of super methods. The ACC_SUPER flag marks a class as compiled for the changed semantics of the opcode 183 instruction. It's purpose is similar to that of the class file version number as it allows the JVM to detect whether a class was compiled for the older or newer semantics of that instruction. Java 1.0.2 did not set and ignored ACC_SUPER while Java 1.1 and later always sets ACC_SUPER.</p>\n<p>Before Java 1.1 the byte code instruction with opcode 183 that is now called <code>invokespecial</code> was called <code>invokenonvirtual</code> and had a partially different specification. It was used whenever instance methods had to be invoked without a virtual method lookup. This was the case for private methods, instance initializers (constructors) and to implement method invocations on <code>super</code>. But the latter case caused problems with evolving class libraries.</p>\n<p>A method reference in byte code (<code>CONSTANT_Methodref_info</code>) not only defines the name and the argument and return types of a method but also the class to which it belongs. Opcode 183 gets such a method reference parameter and was meant to directly invoke the referenced method from the specified class without further lookups. In the case of invocations on <code>super</code> it was the compilers responsibility to resolve the closest super class that implements this method and generate a reference to it into the byte code.</p>\n<p>Since Java 1.1 it was changed to essentially ignore the class referenced in <code>CONSTANT_Methodref_info</code> and to instead do the lookup for the closest super method with the given method name and signature in the JVM. This is usually done now when the class gets loaded or right before the instruction is executed or JIT compiled the first time.</p>\n<p>Here is an example why this change was neccessary. In Java 1.0.2 the AWT classes <code>Container</code> and <code>Component</code> were defined this way:</p>\n<pre><code>class Component\n{\n    public void paint( Graphics g ) {}\n}\n\nclass Container extends Component\n{\n    // inherits paint from Component but doesn't override it\n}\n</code></pre>\n<p>In Java 1.1 the class <code>Container</code> was changed to have its own implementation of <code>paint</code>:</p>\n<pre><code>class Container extends Component\n{\n    public void paint( Graphics g ) {/*...*/}\n}\n</code></pre>\n<p>Now when you had a direct or indirect subclass of <code>Container</code> that made a call on <code>super.paint(g)</code> and compiled it for 1.0.2 it generated a <code>invokenonvirtual</code> instruction for <code>Component.paint</code> since this was the first parent that had this method. But if you used this compiled class on a JVM that also had <code>Container.paint</code> it would still have called <code>Component.paint</code> which is not what you would expect.</p>\n<p>On the other hand, when you compiled the class for 1.1 and executed it on a 1.0.2 JVM it would throw a AbstractMethodError or more likely for VMs of that era simply crash. To avoid the crash you had to write <code>((Component)super).paint(g)</code> and compile it with a 1.1 compiler to get the desired behaviour in either VM. This would set ACC_SUPER but still generate the instruction to call <code>Component.paint</code>. A 1.0.2 VM would ignore ACC_SUPER and go straight to invoke <code>Component.paint</code> which is fine while a 1.1 VM would find ACC_SUPER set and thus do the lookup itself which would make it invoke <code>Container.paint</code> even though the byte code method reference was <code>Component.paint</code>.</p>\n<p>You can find more about this in <a href=\"https://web.archive.org/web/20210518044444/weblog.ikvm.net/PermaLink.aspx?guid=99fcff6c-8ab7-4358-9467-ddf71dd20acd\" rel=\"nofollow noreferrer\">this old post on the ikvm.net weblog</a>.</p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659393448,"creation_date":1659393448,"answer_id":73200244,"question_id":8949933,"body_markdown":"The `ACC_SUPER` flag has not done anything since Java 8.\r\n\r\nPer [JEP draft: Better-defined JVM class file validation](https://openjdk.org/jeps/8267650):\r\n\r\n&gt; The `ACC_SUPER` flag, which has no effect since Java 8, will no longer be specified.\r\n\r\nWhile I haven&#39;t found a single concise easily-linkable authoritative source, it seems that the functionality was removed prior to Java 8, in a Java 7 security update.","title":"What is the purpose of the ACC_SUPER access flag on Java Class files?","body":"<p>The <code>ACC_SUPER</code> flag has not done anything since Java 8.</p>\n<p>Per <a href=\"https://openjdk.org/jeps/8267650\" rel=\"nofollow noreferrer\">JEP draft: Better-defined JVM class file validation</a>:</p>\n<blockquote>\n<p>The <code>ACC_SUPER</code> flag, which has no effect since Java 8, will no longer be specified.</p>\n</blockquote>\n<p>While I haven't found a single concise easily-linkable authoritative source, it seems that the functionality was removed prior to Java 8, in a Java 7 security update.</p>\n"}],"owner":{"account_id":133139,"reputation":22924,"user_id":334274,"accept_rate":100,"display_name":"Jivings"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4890,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":8950564,"answer_count":2,"score":34,"last_activity_date":1659465832,"creation_date":1327108927,"question_id":8949933,"body_markdown":"The `invokespecial` JVM instruction is used for calling initialisation methods (`&lt;init&gt;`) when creating new objects. The description of the instruction suggests (but doesn&#39;t clarify) that the decision on whether to call the constructor of a superclass or a constructor of the current class depends on the state of the `ACC_SUPER` flag set within the `class` file.\n\nFrom the Sun JVM Specification:\n\n&gt; Next, the resolved method is selected for invocation unless all of the following conditions are true:\n&gt;\n&gt;- The ACC_SUPER flag (see Table 4.1, &quot;Class access and property modifiers&quot;) is set for the current class.\n\n-- [Source][1] (`invokespecial` opcode definition)\n\n&gt; The setting of the ACC_SUPER flag indicates which of two alternative semantics for its invokespecial instruction the Java virtual machine is to express; the ACC_SUPER flag exists for backward compatibility for code compiled by Sun&#39;s older compilers for the Java programming language. All new implementations of the Java virtual machine should implement the semantics for invokespecial documented in this specification. All new compilers to the instruction set of the Java virtual machine should set the ACC_SUPER flag. Sun&#39;s older compilers generated ClassFile flags with ACC_SUPER unset. Sun&#39;s older Java virtual machine implementations ignore the flag if it is set.\n\n-- [Source][2] (`ClassFile` format)\n\nThe definition states that the flag is for backward compatibility with old compilers. However it goes on to contradict with `Sun&#39;s older Java virtual machine implementations ignore the flag if it is set.` \n\nIs the flag still used with the `invokespecial` opcode? From what I can tell, it seems to hold no purpose and I can&#39;t find a resource to suggest it ever did.\n\nThanks.\n\n\n  [1]: http://java.sun.com/docs/books/jvms/second_edition/html/Instructions2.doc6.html#invokespecial\n  [2]: http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html","title":"What is the purpose of the ACC_SUPER access flag on Java Class files?","body":"<p>The <code>invokespecial</code> JVM instruction is used for calling initialisation methods (<code>&lt;init&gt;</code>) when creating new objects. The description of the instruction suggests (but doesn't clarify) that the decision on whether to call the constructor of a superclass or a constructor of the current class depends on the state of the <code>ACC_SUPER</code> flag set within the <code>class</code> file.</p>\n<p>From the Sun JVM Specification:</p>\n<blockquote>\n<p>Next, the resolved method is selected for invocation unless all of the following conditions are true:</p>\n<ul>\n<li>The ACC_SUPER flag (see Table 4.1, &quot;Class access and property modifiers&quot;) is set for the current class.</li>\n</ul>\n</blockquote>\n<p>-- <a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/Instructions2.doc6.html#invokespecial\" rel=\"noreferrer\">Source</a> (<code>invokespecial</code> opcode definition)</p>\n<blockquote>\n<p>The setting of the ACC_SUPER flag indicates which of two alternative semantics for its invokespecial instruction the Java virtual machine is to express; the ACC_SUPER flag exists for backward compatibility for code compiled by Sun's older compilers for the Java programming language. All new implementations of the Java virtual machine should implement the semantics for invokespecial documented in this specification. All new compilers to the instruction set of the Java virtual machine should set the ACC_SUPER flag. Sun's older compilers generated ClassFile flags with ACC_SUPER unset. Sun's older Java virtual machine implementations ignore the flag if it is set.</p>\n</blockquote>\n<p>-- <a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html\" rel=\"noreferrer\">Source</a> (<code>ClassFile</code> format)</p>\n<p>The definition states that the flag is for backward compatibility with old compilers. However it goes on to contradict with <code>Sun's older Java virtual machine implementations ignore the flag if it is set.</code></p>\n<p>Is the flag still used with the <code>invokespecial</code> opcode? From what I can tell, it seems to hold no purpose and I can't find a resource to suggest it ever did.</p>\n<p>Thanks.</p>\n"},{"tags":["java","opencv","image-processing","javacv","omr"],"comments":[{"owner":{"account_id":7007079,"reputation":12271,"user_id":5375403,"display_name":"Jiri Tousek"},"score":0,"creation_date":1445501266,"post_id":33276073,"comment_id":54352828,"body_markdown":"The error looks like the problem was not heap space limit reached, but rather not enough RAM - Java wanted to allocate more but the OS couldn&#39;t give it more.","body":"The error looks like the problem was not heap space limit reached, but rather not enough RAM - Java wanted to allocate more but the OS couldn&#39;t give it more."},{"owner":{"account_id":1621627,"reputation":57,"user_id":3374256,"accept_rate":92,"display_name":"afnan1992"},"score":0,"creation_date":1445501388,"post_id":33276073,"comment_id":54352897,"body_markdown":"when this error came the ram was at 80 percent of the total 4 gb. It does not seem like a ram issue. The application was occupying 340 mb in the task manager when the page counter was 200.","body":"when this error came the ram was at 80 percent of the total 4 gb. It does not seem like a ram issue. The application was occupying 340 mb in the task manager when the page counter was 200."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1445504565,"post_id":33276073,"comment_id":54354818,"body_markdown":"It&#39;s clearly a RAM issue, and as @JiriTousek said, not Java&#39;s heap, so increasing the heap size shouldn&#39;t even help.","body":"It&#39;s clearly a RAM issue, and as @JiriTousek said, not Java&#39;s heap, so increasing the heap size shouldn&#39;t even help."}],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1445511659,"creation_date":1445504951,"answer_id":33277322,"question_id":33276073,"body_markdown":"Your code looks weird. You&#39;re assigning `IplImage` objects to your variables, only to overwrite them instantly. You&#39;re also leaking at least one presumably native resource in the following case:\r\n\r\n    imgxc1 = cvCreateImage(cvGetSize(imgx), imgx.depth(), imgx.nChannels());\r\n    imgxc1 = imgx.clone();//error comes here\r\n\r\nThe original `imgxc1` object that was created with `cvCreateImage` has no longer references to it, but you didn&#39;t release the resources.\r\n\r\nIf how references work in Java is unclear to you, I&#39;d suggest you do some work on that before continuing with your work. You&#39;ll get rid of your redundant double assignment lines and the code will be clearer too.\r\n\r\nEdit: Since I&#39;ve already wasted time on this, let&#39;s go through `init()` line by line.\r\n\r\n    protected boolean init () throws UnableToLoadImage{\r\n        imgx = new IplImage();    // Create a new IplImage() even though we won&#39;t use it\r\n\r\n        imgxc1 = new IplImage();  // Same here. Just food for the garbage collector\r\n\r\n        imgxd1 = new IplImage();  // Third completely unnecessary object creation\r\n\r\n        imgx = cvLoadImage(path+DR+filename);  // Load an image, the previously created object in imgx is now GC food\r\n\r\n        if(imgx == null)throw new UnableToLoadImage(path+DR+filename);\r\n        //cvSaveImage(&quot;debug/&quot;+filename, imgx);\r\n\r\n        imgxc1 = cvCreateImage(cvGetSize(imgx), imgx.depth(), imgx.nChannels());  // Create an image with native resources, previous object is GC food\r\n\r\n        imgxc1 = imgx.clone();    // Third time assignment to imgxc1, previous object isn&#39;t GC food since it holds native resources\r\n        imgxd1 = cvCreateImage(cvGetSize(imgx), IPL_DEPTH_8U, 1);  // The first proper use of cvCreateImage\r\n        cvCvtColor(imgxc1, imgxd1, CV_BGR2GRAY);  // Presumably ok\r\n        return (imgx != null &amp;&amp; imgxc1 != null &amp;&amp; imgxd1 != null)?true:false;  // Doesn&#39;t need the ternary operator at all\r\n    }\r\n\r\nThe code shows a huge misunderstanding of Java, but if there hadn&#39;t been native resources involved, it would only result in some extra object creations which would then be handled by the garbage collector.","title":"JavaCV Insufficient memory, failed to allocate memory","body":"<p>Your code looks weird. You're assigning <code>IplImage</code> objects to your variables, only to overwrite them instantly. You're also leaking at least one presumably native resource in the following case:</p>\n\n<pre><code>imgxc1 = cvCreateImage(cvGetSize(imgx), imgx.depth(), imgx.nChannels());\nimgxc1 = imgx.clone();//error comes here\n</code></pre>\n\n<p>The original <code>imgxc1</code> object that was created with <code>cvCreateImage</code> has no longer references to it, but you didn't release the resources.</p>\n\n<p>If how references work in Java is unclear to you, I'd suggest you do some work on that before continuing with your work. You'll get rid of your redundant double assignment lines and the code will be clearer too.</p>\n\n<p>Edit: Since I've already wasted time on this, let's go through <code>init()</code> line by line.</p>\n\n<pre><code>protected boolean init () throws UnableToLoadImage{\n    imgx = new IplImage();    // Create a new IplImage() even though we won't use it\n\n    imgxc1 = new IplImage();  // Same here. Just food for the garbage collector\n\n    imgxd1 = new IplImage();  // Third completely unnecessary object creation\n\n    imgx = cvLoadImage(path+DR+filename);  // Load an image, the previously created object in imgx is now GC food\n\n    if(imgx == null)throw new UnableToLoadImage(path+DR+filename);\n    //cvSaveImage(\"debug/\"+filename, imgx);\n\n    imgxc1 = cvCreateImage(cvGetSize(imgx), imgx.depth(), imgx.nChannels());  // Create an image with native resources, previous object is GC food\n\n    imgxc1 = imgx.clone();    // Third time assignment to imgxc1, previous object isn't GC food since it holds native resources\n    imgxd1 = cvCreateImage(cvGetSize(imgx), IPL_DEPTH_8U, 1);  // The first proper use of cvCreateImage\n    cvCvtColor(imgxc1, imgxd1, CV_BGR2GRAY);  // Presumably ok\n    return (imgx != null &amp;&amp; imgxc1 != null &amp;&amp; imgxd1 != null)?true:false;  // Doesn't need the ternary operator at all\n}\n</code></pre>\n\n<p>The code shows a huge misunderstanding of Java, but if there hadn't been native resources involved, it would only result in some extra object creations which would then be handled by the garbage collector.</p>\n"}],"owner":{"account_id":1621627,"reputation":57,"user_id":3374256,"accept_rate":92,"display_name":"afnan1992"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":891,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":33277322,"answer_count":1,"score":0,"last_activity_date":1659465610,"creation_date":1445500949,"question_id":33276073,"body_markdown":"I am developing an OMR(Optical Mark Recognition) application using JavaCV,java interface for OpenCV.The application runs fine for 200 images but after that it fails to allocate memory for IplImage in my code.The allocation error comes when I try to clone imgx and assign it to imgxc1.Can you please suggest a programmatic fix for it? Increasing the heap size seems to be a temporary solution?\r\n\r\nHere is the initialization code(where the exception occurs):\r\n\r\n    protected boolean init () throws UnableToLoadImage{\r\n\t\timgx = new IplImage();\r\n\t\timgxc1 = new IplImage();\r\n\t\timgxd1 = new IplImage();\r\n\t\timgx = cvLoadImage(path+DR+filename);\r\n\t\tif(imgx == null)throw new UnableToLoadImage(path+DR+filename);\r\n\t\t//cvSaveImage(&quot;debug/&quot;+filename, imgx);\r\n\t\timgxc1 = cvCreateImage(cvGetSize(imgx), imgx.depth(), imgx.nChannels());\r\n\t\timgxc1 = imgx.clone();//error comes here\r\n\t\timgxd1 = cvCreateImage(cvGetSize(imgx), IPL_DEPTH_8U, 1);\r\n\t\tcvCvtColor(imgxc1, imgxd1, CV_BGR2GRAY);\r\n\t\treturn (imgx != null &amp;&amp; imgxc1 != null &amp;&amp; imgxd1 != null)?true:false;\r\n\t}\r\n\r\n Here is the cleaning up code:\r\n\r\n    public void release() {\r\n\t\tif(imgx != null){\r\n\r\n\t\t\timgx.release();\r\n\t\t\timgxc1.release();\r\n\t\t\timgxd1.release();\r\n\r\n\t\t\tcvReleaseImage(imgx);\r\n\t\t\tcvReleaseImage(imgxc1);\r\n\t\t\tcvReleaseImage(imgxd1);\r\n\t\t}\r\n\r\n\t}\r\nStack trace:\r\n\r\n    OpenCV Error: Insufficient memory (Failed to allocate 6454368 bytes) in cv::OutOfMemoryError, file ..\\..\\..\\..\\opencv\\modules\\core\\src\\alloc.cpp, line 52\r\n\r\n\tat org.bytedeco.javacpp.opencv_core.cvCloneImage(Native Method)\r\n\tat org.bytedeco.javacpp.helper.opencv_core$AbstractIplImage.clone(opencv_core.java:1005)\r\n\tat com.omr.app.OmrModel.init(OmrModel.java:200)\r\n\tat com.omr.app.OmrController$2.doInBackground(OmrController.java:328)\r\n\tat com.omr.app.OmrController$2.doInBackground(OmrController.java:1)\r\n\tat javax.swing.SwingWorker$1.call(Unknown Source)\r\n\tat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\r\n\tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n\tat javax.swing.SwingWorker.run(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat java.lang.Thread.run(Unknown Source)","title":"JavaCV Insufficient memory, failed to allocate memory","body":"<p>I am developing an OMR(Optical Mark Recognition) application using JavaCV,java interface for OpenCV.The application runs fine for 200 images but after that it fails to allocate memory for IplImage in my code.The allocation error comes when I try to clone imgx and assign it to imgxc1.Can you please suggest a programmatic fix for it? Increasing the heap size seems to be a temporary solution?</p>\n\n<p>Here is the initialization code(where the exception occurs):</p>\n\n<pre><code>protected boolean init () throws UnableToLoadImage{\n    imgx = new IplImage();\n    imgxc1 = new IplImage();\n    imgxd1 = new IplImage();\n    imgx = cvLoadImage(path+DR+filename);\n    if(imgx == null)throw new UnableToLoadImage(path+DR+filename);\n    //cvSaveImage(\"debug/\"+filename, imgx);\n    imgxc1 = cvCreateImage(cvGetSize(imgx), imgx.depth(), imgx.nChannels());\n    imgxc1 = imgx.clone();//error comes here\n    imgxd1 = cvCreateImage(cvGetSize(imgx), IPL_DEPTH_8U, 1);\n    cvCvtColor(imgxc1, imgxd1, CV_BGR2GRAY);\n    return (imgx != null &amp;&amp; imgxc1 != null &amp;&amp; imgxd1 != null)?true:false;\n}\n</code></pre>\n\n<p>Here is the cleaning up code:</p>\n\n<pre><code>public void release() {\n    if(imgx != null){\n\n        imgx.release();\n        imgxc1.release();\n        imgxd1.release();\n\n        cvReleaseImage(imgx);\n        cvReleaseImage(imgxc1);\n        cvReleaseImage(imgxd1);\n    }\n\n}\n</code></pre>\n\n<p>Stack trace:</p>\n\n<pre><code>OpenCV Error: Insufficient memory (Failed to allocate 6454368 bytes) in cv::OutOfMemoryError, file ..\\..\\..\\..\\opencv\\modules\\core\\src\\alloc.cpp, line 52\n\nat org.bytedeco.javacpp.opencv_core.cvCloneImage(Native Method)\nat org.bytedeco.javacpp.helper.opencv_core$AbstractIplImage.clone(opencv_core.java:1005)\nat com.omr.app.OmrModel.init(OmrModel.java:200)\nat com.omr.app.OmrController$2.doInBackground(OmrController.java:328)\nat com.omr.app.OmrController$2.doInBackground(OmrController.java:1)\nat javax.swing.SwingWorker$1.call(Unknown Source)\nat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\nat java.util.concurrent.FutureTask.run(Unknown Source)\nat javax.swing.SwingWorker.run(Unknown Source)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\nat java.lang.Thread.run(Unknown Source)\n</code></pre>\n"},{"tags":["java","jsp","servlets","jakarta-ee","attributes"],"comments":[{"owner":{"account_id":5830092,"reputation":498,"user_id":4594941,"display_name":"pirela"},"score":0,"creation_date":1659466107,"post_id":73211618,"comment_id":129300188,"body_markdown":"could you show a sample of your hasmap tasks ?    \nI&#39;m not sure of your tasks.values in the request. Maybe only tasks ?","body":"could you show a sample of your hasmap tasks ?     I&#39;m not sure of your tasks.values in the request. Maybe only tasks ?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1659485483,"post_id":73211618,"comment_id":129304833,"body_markdown":"When you iterate over the map, you get a sequence of `Map.Entry&lt;Integer, Task&gt;`, not a sequence of `Task`. See @BalusC&#39;s answer in the duplicate.","body":"When you iterate over the map, you get a sequence of <code>Map.Entry&lt;Integer, Task&gt;</code>, not a sequence of <code>Task</code>. See @BalusC&#39;s answer in the duplicate."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1659514715,"post_id":73211618,"comment_id":129310376,"body_markdown":"@user207421 The attribute is assigned as `tasks.values()` so the iteration is over Task not `Map.Entry`?","body":"@user207421 The attribute is assigned as <code>tasks.values()</code> so the iteration is over Task not <code>Map.Entry</code>?"}],"answers":[{"tags":[],"owner":{"account_id":13022813,"reputation":722,"user_id":9411636,"display_name":"Kaneda"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1659465608,"creation_date":1659465608,"answer_id":73212276,"question_id":73211618,"body_markdown":"Probably your problem could be with your web.xml header, try using this to make it evaluate EL correctly:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app version=&quot;2.5&quot; \r\n    xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\r\n\r\nAside this, I&#39;m not in touch with jsp by a long time, but I guess you can access those request attributes just calling them, without this requestScope, calling just ``tasks`` or getting them from the request ``request.getAttribute(&quot;tasks&quot;)``\r\n","title":"jsp doesn&#39;t see an attribute transferred from servlet","body":"<p>Probably your problem could be with your web.xml header, try using this to make it evaluate EL correctly:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app version=&quot;2.5&quot; \nxmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\n</code></pre>\n<p>Aside this, I'm not in touch with jsp by a long time, but I guess you can access those request attributes just calling them, without this requestScope, calling just <code>tasks</code> or getting them from the request <code>request.getAttribute(&quot;tasks&quot;)</code></p>\n"}],"owner":{"account_id":22747121,"reputation":23,"user_id":16907763,"display_name":"Matisiuk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1659485490,"accepted_answer_id":73212276,"answer_count":1,"score":1,"last_activity_date":1659465608,"creation_date":1659462135,"question_id":73211618,"body_markdown":"can&#39;t find the cause of my problem the second day. I set attribute to request and forward to a jsp file. But when i try to get it from requestScope, i find out that there is no such attribute.\r\nLook at my code:\r\n\r\nservlet:\r\n```\r\npackage api.servlets;\r\n\r\nimport api.model.Task;\r\n\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\nimport java.util.Map;\r\nimport java.util.concurrent.ConcurrentHashMap;\r\n\r\n@WebServlet(&quot;/&quot;)\r\npublic class GetStartPageServlet extends HttpServlet {\r\n    private Map&lt;Integer, Task&gt; tasks;\r\n\r\n    @Override\r\n    public void init() {\r\n        final Object tasks = getServletContext().getAttribute(&quot;tasks&quot;);\r\n\r\n        if (tasks instanceof ConcurrentHashMap){\r\n            this.tasks = (ConcurrentHashMap&lt;Integer, Task&gt;) tasks;\r\n        }else {\r\n            throw new IllegalStateException(&quot;Your repo does not initialize!&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        request.setAttribute(&quot;tasks&quot;, tasks.values());\r\n        getServletContext().getRequestDispatcher(&quot;/WEB-INF/view/start-page.jsp&quot;).forward(request, response);\r\n    }\r\n}\r\n```\r\n\r\njsp:\r\n```\r\n&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot;\r\n         pageEncoding=&quot;UTF-8&quot; %&gt;\r\n&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;Сервис задач&lt;/title&gt;\r\n    &lt;style&gt;\r\n        &lt;%@include file=&quot;/WEB-INF/css/style.css&quot; %&gt;\r\n    &lt;/style&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h2&gt;Все задачи&lt;/h2&gt;\r\n&lt;c:forEach var=&quot;task&quot; items=&quot;${requestScope.tasks}&quot;&gt;\r\n    &lt;ul&gt;\r\n        Название: &lt;c:out value=&quot;${task.title}&quot;/&gt; &lt;br&gt;\r\n        Описание: &lt;c:out value=&quot;${task.description}&quot;/&gt; &lt;br&gt;\r\n\r\n        &lt;form method=&quot;get&quot; action=&quot;&lt;c:url value=&#39;/update-task&#39;/&gt;&quot;&gt;\r\n            &lt;label&gt;\r\n                &lt;input type=&quot;number&quot; hidden name=&quot;id&quot; value=&quot;${task.id}&quot;&gt;\r\n            &lt;/label&gt;\r\n            &lt;input type=&quot;submit&quot; value=&quot;Редактировать&quot;&gt;\r\n        &lt;/form&gt;\r\n        &lt;form method=&quot;post&quot; action=&quot;&lt;c:url value=&#39;/delete-task&#39;/&gt;&quot;&gt;\r\n            &lt;label&gt;\r\n                &lt;input type=&quot;number&quot; hidden name=&quot;id&quot; value=&quot;${task.id}&quot;&gt;\r\n            &lt;/label&gt;\r\n            &lt;input type=&quot;submit&quot; value=&quot;Удалить&quot;&gt;\r\n        &lt;/form&gt;\r\n    &lt;/ul&gt;\r\n    &lt;hr/&gt;\r\n&lt;/c:forEach&gt;\r\n&lt;h2&gt;Создание новой задачи&lt;/h2&gt;\r\n&lt;form method=&quot;post&quot; action=&quot;&lt;c:url value=&#39;/add-task&#39;/&gt;&quot;&gt;\r\n    &lt;label&gt;Название &lt;input type=&quot;text&quot; name=&quot;title&quot;/&gt;&lt;/label&gt;&lt;br&gt;\r\n    &lt;label&gt;Описание &lt;input type=&quot;text&quot; name=&quot;description&quot;/&gt;&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=&quot;submit&quot; value=&quot;Ok&quot; name=&quot;Ok&quot;/&gt;\r\n&lt;/form&gt;\r\n&lt;h2&gt;Получить JSON задачи по id&lt;/h2&gt;\r\n&lt;form method=&quot;get&quot; action=&quot;&lt;c:url value=&#39;/get-task&#39;/&gt;&quot;&gt;\r\n    &lt;label&gt;ID задачи &lt;input type=&quot;number&quot; name=&quot;id&quot;&gt;&lt;/label&gt;&lt;br&gt;\r\n    &lt;input type=&quot;submit&quot; value=&quot;Получить данные задачи&quot; name=&quot;Ok&quot;&gt;&lt;br&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nrequestScope doesn&#39;t have field like tasks, and what i see in browser:\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yM41t.png","title":"jsp doesn&#39;t see an attribute transferred from servlet","body":"<p>can't find the cause of my problem the second day. I set attribute to request and forward to a jsp file. But when i try to get it from requestScope, i find out that there is no such attribute.\nLook at my code:</p>\n<p>servlet:</p>\n<pre><code>package api.servlets;\n\nimport api.model.Task;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.util.Map;\nimport java.util.concurrent.ConcurrentHashMap;\n\n@WebServlet(&quot;/&quot;)\npublic class GetStartPageServlet extends HttpServlet {\n    private Map&lt;Integer, Task&gt; tasks;\n\n    @Override\n    public void init() {\n        final Object tasks = getServletContext().getAttribute(&quot;tasks&quot;);\n\n        if (tasks instanceof ConcurrentHashMap){\n            this.tasks = (ConcurrentHashMap&lt;Integer, Task&gt;) tasks;\n        }else {\n            throw new IllegalStateException(&quot;Your repo does not initialize!&quot;);\n        }\n    }\n\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        request.setAttribute(&quot;tasks&quot;, tasks.values());\n        getServletContext().getRequestDispatcher(&quot;/WEB-INF/view/start-page.jsp&quot;).forward(request, response);\n    }\n}\n</code></pre>\n<p>jsp:</p>\n<pre><code>&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot;\n         pageEncoding=&quot;UTF-8&quot; %&gt;\n&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Сервис задач&lt;/title&gt;\n    &lt;style&gt;\n        &lt;%@include file=&quot;/WEB-INF/css/style.css&quot; %&gt;\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h2&gt;Все задачи&lt;/h2&gt;\n&lt;c:forEach var=&quot;task&quot; items=&quot;${requestScope.tasks}&quot;&gt;\n    &lt;ul&gt;\n        Название: &lt;c:out value=&quot;${task.title}&quot;/&gt; &lt;br&gt;\n        Описание: &lt;c:out value=&quot;${task.description}&quot;/&gt; &lt;br&gt;\n\n        &lt;form method=&quot;get&quot; action=&quot;&lt;c:url value='/update-task'/&gt;&quot;&gt;\n            &lt;label&gt;\n                &lt;input type=&quot;number&quot; hidden name=&quot;id&quot; value=&quot;${task.id}&quot;&gt;\n            &lt;/label&gt;\n            &lt;input type=&quot;submit&quot; value=&quot;Редактировать&quot;&gt;\n        &lt;/form&gt;\n        &lt;form method=&quot;post&quot; action=&quot;&lt;c:url value='/delete-task'/&gt;&quot;&gt;\n            &lt;label&gt;\n                &lt;input type=&quot;number&quot; hidden name=&quot;id&quot; value=&quot;${task.id}&quot;&gt;\n            &lt;/label&gt;\n            &lt;input type=&quot;submit&quot; value=&quot;Удалить&quot;&gt;\n        &lt;/form&gt;\n    &lt;/ul&gt;\n    &lt;hr/&gt;\n&lt;/c:forEach&gt;\n&lt;h2&gt;Создание новой задачи&lt;/h2&gt;\n&lt;form method=&quot;post&quot; action=&quot;&lt;c:url value='/add-task'/&gt;&quot;&gt;\n    &lt;label&gt;Название &lt;input type=&quot;text&quot; name=&quot;title&quot;/&gt;&lt;/label&gt;&lt;br&gt;\n    &lt;label&gt;Описание &lt;input type=&quot;text&quot; name=&quot;description&quot;/&gt;&lt;/label&gt;&lt;br&gt;\n    &lt;input type=&quot;submit&quot; value=&quot;Ok&quot; name=&quot;Ok&quot;/&gt;\n&lt;/form&gt;\n&lt;h2&gt;Получить JSON задачи по id&lt;/h2&gt;\n&lt;form method=&quot;get&quot; action=&quot;&lt;c:url value='/get-task'/&gt;&quot;&gt;\n    &lt;label&gt;ID задачи &lt;input type=&quot;number&quot; name=&quot;id&quot;&gt;&lt;/label&gt;&lt;br&gt;\n    &lt;input type=&quot;submit&quot; value=&quot;Получить данные задачи&quot; name=&quot;Ok&quot;&gt;&lt;br&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>requestScope doesn't have field like tasks, and what i see in browser:\n<a href=\"https://i.stack.imgur.com/yM41t.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1659449399,"post_id":73208849,"comment_id":129294246,"body_markdown":"The [Maven Shade Plugin](https://maven.apache.org/plugins/maven-shade-plugin/) can be used to create a &quot;fat JAR&quot; = a JAR file that contains all the dependencies of an application (so that you need only one JAR file).","body":"The <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">Maven Shade Plugin</a> can be used to create a &quot;fat JAR&quot; = a JAR file that contains all the dependencies of an application (so that you need only one JAR file)."},{"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"score":0,"creation_date":1659449647,"post_id":73208849,"comment_id":129294358,"body_markdown":"Will this allow me to achieve the objectives mentioned?","body":"Will this allow me to achieve the objectives mentioned?"},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1659450736,"post_id":73208849,"comment_id":129294816,"body_markdown":"It allows you to build a single JAR file that contains everything the application needs. It can also make it an [executable JAR](https://maven.apache.org/plugins/maven-shade-plugin/examples/executable-jar.html) for you. Writing the script is something you need to do youself (but that script will be only one or two lines) and putting everything in a zip file is also you need to do yourself (but that&#39;s a simple terminal command). (I didn&#39;t downvote).","body":"It allows you to build a single JAR file that contains everything the application needs. It can also make it an <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/examples/executable-jar.html\" rel=\"nofollow noreferrer\">executable JAR</a> for you. Writing the script is something you need to do youself (but that script will be only one or two lines) and putting everything in a zip file is also you need to do yourself (but that&#39;s a simple terminal command). (I didn&#39;t downvote)."},{"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"score":0,"creation_date":1659457609,"post_id":73208849,"comment_id":129297538,"body_markdown":"Yes, I have already written the script. Just need to include it in the zip with the app and dependencies.\nWait, the shade plugin does not have the ability to package all of this in a zip file? It&#39;d useful if it did as part of the build process.","body":"Yes, I have already written the script. Just need to include it in the zip with the app and dependencies. Wait, the shade plugin does not have the ability to package all of this in a zip file? It&#39;d useful if it did as part of the build process."},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1659463931,"post_id":73208849,"comment_id":129299575,"body_markdown":"The assembly plugin can create a zip. You could add your script in the resources of your project and copy those with the maven resources plugin to the output so it can be included in the assembly.","body":"The assembly plugin can create a zip. You could add your script in the resources of your project and copy those with the maven resources plugin to the output so it can be included in the assembly."},{"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"score":0,"creation_date":1659464534,"post_id":73208849,"comment_id":129299723,"body_markdown":"Yes, I&#39;m experimenting with that now. I can get it build a zip file with the script and jar inside, but the jar does not include any dependencies. I&#39;m also not sure if it&#39;s an executable jar. I can&#39;t figure out how to get it to build the jar with dependencies **and** pull in the script. If I try to use the &quot;jar-with-dependencies&quot; descriptor ref, it produces that, but I can&#39;t get that into the zip file.","body":"Yes, I&#39;m experimenting with that now. I can get it build a zip file with the script and jar inside, but the jar does not include any dependencies. I&#39;m also not sure if it&#39;s an executable jar. I can&#39;t figure out how to get it to build the jar with dependencies <b>and</b> pull in the script. If I try to use the &quot;jar-with-dependencies&quot; descriptor ref, it produces that, but I can&#39;t get that into the zip file."}],"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1659465520,"creation_date":1659448702,"question_id":73208849,"body_markdown":"I have written a Java application and am using Maven to manage building. (This is *not* a Spring Boot application.) I need to be able to do the following:\r\n\r\n - Include a script that will be the means for a user to execute the application.\r\n\r\n - Produce a zip file containing the script, application and its dependencies. I don&#39;t care whether everything is built into a single jar file, or whether the dependencies are all separate and contained in a &quot;lib&quot; directory that&#39;s also part of the distribution. Whatever makes the most sense.\r\n\r\n - Build an executable jar file. I am assuming this is the easiest way to run the application, but I could modify the script to run it the &quot;non executable jar&quot; way if needed.\r\n\r\nI have been experimenting with the basic Maven jar and dependency plugins, as well as with the Maven assembly plugin. I can&#39;t figure out how to achieve all of the bullet points mentioned above.\r\n\r\nI have been using Maven for quite some time, but it&#39;s been some years since I&#39;ve needed to put together an application this way.\r\n\r\nAny suggestions on how to achieve this are greatly appreciated.\r\n\r\n\r\n**UPDATE**:\r\n\r\nI&#39;ve been focusing mainly on the assembly plugin, which I have used successfully in the past (although I don&#39;t think for this specific use case).\r\n\r\npom.xml:\r\n\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t  &lt;parent&gt;\r\n\t\t&lt;groupId&gt;[hidden]&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;cold-storage-nospring&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t  &lt;/parent&gt;\r\n\r\n\t  &lt;artifactId&gt;archive&lt;/artifactId&gt;\r\n\r\n\t  &lt;properties&gt;\r\n\t\t&lt;maven-assembly-plugin.version&gt;3.4.2&lt;/maven-assembly-plugin.version&gt;\r\n\t  &lt;/properties&gt;\r\n\r\n\t  &lt;build&gt;\r\n\t\t&lt;finalName&gt;archive-gitlab-project&lt;/finalName&gt;\r\n\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t  &lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t  &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;${maven-assembly-plugin.version}&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t  &lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\r\n\t\t&lt;plugins&gt;\r\n\t\t  &lt;!-- Assembly plugin --&gt;\r\n\t\t  &lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t  &lt;descriptors&gt;\r\n\t\t\t\t&lt;descriptor&gt;src/assembly/assembly.xml&lt;/descriptor&gt;\r\n\t\t\t  &lt;/descriptors&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t\t\r\n\t\t\t&lt;executions&gt;\r\n\t\t\t  &lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;assemble&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t  &lt;goal&gt;single&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t  &lt;/execution&gt;\r\n\t\t\t&lt;/executions&gt;\r\n\t\t  &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t  &lt;/build&gt;\r\n\r\n\t&lt;/project&gt;\r\n\r\nassembly.xml:\r\n\r\n\t&lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.1.1&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.1.1 https://maven.apache.org/xsd/assembly-2.1.1.xsd&quot;&gt;\r\n\t  &lt;id&gt;make-assembly&lt;/id&gt;\r\n\r\n\t  &lt;formats&gt;\r\n\t\t&lt;format&gt;zip&lt;/format&gt;\r\n\t  &lt;/formats&gt;\r\n\r\n\t  &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n\r\n\t  &lt;files&gt;\r\n\t\t&lt;file&gt;\r\n\t\t  &lt;source&gt;target/archive-gitlab-project.jar&lt;/source&gt;\r\n\t\t  &lt;outputDirectory&gt;.&lt;/outputDirectory&gt;\r\n\t\t&lt;/file&gt;\r\n\r\n\t\t&lt;file&gt;\r\n\t\t  &lt;source&gt;src/main/resources/archive-project.sh&lt;/source&gt;\r\n\t\t  &lt;outputDirectory&gt;.&lt;/outputDirectory&gt;\r\n\t\t&lt;/file&gt;\r\n\t  &lt;/files&gt;\r\n\t&lt;/assembly&gt;\r\n","title":"Need to build Java application jar that includes script and dependencies using Maven","body":"<p>I have written a Java application and am using Maven to manage building. (This is <em>not</em> a Spring Boot application.) I need to be able to do the following:</p>\n<ul>\n<li><p>Include a script that will be the means for a user to execute the application.</p>\n</li>\n<li><p>Produce a zip file containing the script, application and its dependencies. I don't care whether everything is built into a single jar file, or whether the dependencies are all separate and contained in a &quot;lib&quot; directory that's also part of the distribution. Whatever makes the most sense.</p>\n</li>\n<li><p>Build an executable jar file. I am assuming this is the easiest way to run the application, but I could modify the script to run it the &quot;non executable jar&quot; way if needed.</p>\n</li>\n</ul>\n<p>I have been experimenting with the basic Maven jar and dependency plugins, as well as with the Maven assembly plugin. I can't figure out how to achieve all of the bullet points mentioned above.</p>\n<p>I have been using Maven for quite some time, but it's been some years since I've needed to put together an application this way.</p>\n<p>Any suggestions on how to achieve this are greatly appreciated.</p>\n<p><strong>UPDATE</strong>:</p>\n<p>I've been focusing mainly on the assembly plugin, which I have used successfully in the past (although I don't think for this specific use case).</p>\n<p>pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;[hidden]&lt;/groupId&gt;\n    &lt;artifactId&gt;cold-storage-nospring&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;artifactId&gt;archive&lt;/artifactId&gt;\n\n  &lt;properties&gt;\n    &lt;maven-assembly-plugin.version&gt;3.4.2&lt;/maven-assembly-plugin.version&gt;\n  &lt;/properties&gt;\n\n  &lt;build&gt;\n    &lt;finalName&gt;archive-gitlab-project&lt;/finalName&gt;\n\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${maven-assembly-plugin.version}&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n\n    &lt;plugins&gt;\n      &lt;!-- Assembly plugin --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        \n        &lt;configuration&gt;\n          &lt;descriptors&gt;\n            &lt;descriptor&gt;src/assembly/assembly.xml&lt;/descriptor&gt;\n          &lt;/descriptors&gt;\n        &lt;/configuration&gt;\n        \n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;assemble&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>assembly.xml:</p>\n<pre><code>&lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.1.1&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.1.1 https://maven.apache.org/xsd/assembly-2.1.1.xsd&quot;&gt;\n  &lt;id&gt;make-assembly&lt;/id&gt;\n\n  &lt;formats&gt;\n    &lt;format&gt;zip&lt;/format&gt;\n  &lt;/formats&gt;\n\n  &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n\n  &lt;files&gt;\n    &lt;file&gt;\n      &lt;source&gt;target/archive-gitlab-project.jar&lt;/source&gt;\n      &lt;outputDirectory&gt;.&lt;/outputDirectory&gt;\n    &lt;/file&gt;\n\n    &lt;file&gt;\n      &lt;source&gt;src/main/resources/archive-project.sh&lt;/source&gt;\n      &lt;outputDirectory&gt;.&lt;/outputDirectory&gt;\n    &lt;/file&gt;\n  &lt;/files&gt;\n&lt;/assembly&gt;\n</code></pre>\n"},{"tags":["java","omr"],"comments":[{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1281611652,"post_id":3466949,"comment_id":3616437,"body_markdown":"OMR = [Optical Mark Recognition](http://en.wikipedia.org/wiki/Optical_Mark_Recognition)? [Optical Music Recognition](http://en.wikipedia.org/wiki/Optical_music_recognition)?","body":"OMR = <a href=\"http://en.wikipedia.org/wiki/Optical_Mark_Recognition\" rel=\"nofollow noreferrer\">Optical Mark Recognition</a>? <a href=\"http://en.wikipedia.org/wiki/Optical_music_recognition\" rel=\"nofollow noreferrer\">Optical Music Recognition</a>?"},{"owner":{"account_id":78145,"reputation":5085,"user_id":1746300,"accept_rate":89,"display_name":"Aswan"},"score":0,"creation_date":1281614913,"post_id":3466949,"comment_id":3616927,"body_markdown":"optical mark recognition","body":"optical mark recognition"},{"owner":{"account_id":1011410,"reputation":16443,"user_id":1023911,"accept_rate":100,"display_name":"Werner Henze"},"score":0,"creation_date":1381146220,"post_id":3466949,"comment_id":28450582,"body_markdown":"So what is your question? What have you tried so far?","body":"So what is your question? What have you tried so far?"}],"answers":[{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1281616579,"creation_date":1281611773,"answer_id":3467021,"question_id":3466949,"body_markdown":"If you&#39;re looking at music recognition for printed music scores, [OpenOMR][1] might provide a solution.\r\n\r\nFor Optical Mark Recognition have a look at [Udai OMR][2], it is Java and sources are available.\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/openomr/\r\n  [2]: http://www.cse.iitd.ernet.in/~aseth/udai/OMRProj/README.html","title":"Data capture from ORM (Optical Mark Recognition) sheet in Java","body":"<p>If you're looking at music recognition for printed music scores, <a href=\"http://sourceforge.net/projects/openomr/\" rel=\"noreferrer\">OpenOMR</a> might provide a solution.</p>\n\n<p>For Optical Mark Recognition have a look at <a href=\"http://www.cse.iitd.ernet.in/~aseth/udai/OMRProj/README.html\" rel=\"noreferrer\">Udai OMR</a>, it is Java and sources are available.</p>\n"}],"owner":{"account_id":78145,"reputation":5085,"user_id":1746300,"accept_rate":89,"display_name":"Aswan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5538,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1381146456,"answer_count":1,"score":0,"last_activity_date":1659465308,"creation_date":1281611238,"question_id":3466949,"body_markdown":"i need to develop software for capture omr sheet data in java.pl.","title":"Data capture from ORM (Optical Mark Recognition) sheet in Java","body":"<p>i need to develop software for capture omr sheet data in java.pl.</p>\n"},{"tags":["java","image","image-processing","jasper-reports","omr"],"comments":[{"owner":{"account_id":32049,"reputation":3191,"user_id":88448,"accept_rate":65,"display_name":"ante.sabo"},"score":0,"creation_date":1293015514,"post_id":4507860,"comment_id":4935155,"body_markdown":".. and if I put image into subreport I am risking having two OMR images on one page, what is not appropriate. I need an image on page level..","body":".. and if I put image into subreport I am risking having two OMR images on one page, what is not appropriate. I need an image on page level.."}],"answers":[{"tags":[],"owner":{"account_id":32049,"reputation":3191,"user_id":88448,"accept_rate":65,"display_name":"ante.sabo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1293027182,"creation_date":1293027182,"answer_id":4510017,"question_id":4507860,"body_markdown":"solved with putting picture onto band called &#39;background&#39; of main report. Picture is being shown regularly on each page once. ","title":"creating OMR image for folding machine on each page with JasperReports","body":"<p>solved with putting picture onto band called 'background' of main report. Picture is being shown regularly on each page once. </p>\n"},{"tags":[],"owner":{"account_id":1522399,"reputation":26,"user_id":1421722,"display_name":"Mark Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349928010,"creation_date":1343403821,"answer_id":11691231,"question_id":4507860,"body_markdown":"There is a great application called Mail Markup that will put OMR marks on any document you like. It allows you to configure the OMR marks to your requirements so it is compatible with any folder inserter. You can find out more and download an evaluation [here][1]\r\n\r\n\r\n  [1]: http://www.mailmarkup.com","title":"creating OMR image for folding machine on each page with JasperReports","body":"<p>There is a great application called Mail Markup that will put OMR marks on any document you like. It allows you to configure the OMR marks to your requirements so it is compatible with any folder inserter. You can find out more and download an evaluation <a href=\"http://www.mailmarkup.com\" rel=\"nofollow\">here</a></p>\n"}],"owner":{"account_id":32049,"reputation":3191,"user_id":88448,"accept_rate":65,"display_name":"ante.sabo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1825,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":4510017,"answer_count":2,"score":0,"last_activity_date":1659465244,"creation_date":1293010763,"question_id":4507860,"body_markdown":"  Our invoicing system needs to print OMR (optical mark recognition) symbol on each page of our invoices so the folding machine knows what to put in the envelope, so that little PNG picture has to be put on each page. \r\n  Our invoice is consisted of main report with two subreports created in special `.jrxml` files. Picture is generated by calling web service with passing page number as a parameter in http request. So, we need to incorporate picture into subreport hoping that subreport will &#39;know&#39; actual page number when generating document. Error we are getting is: \r\n\r\n    Error filling print... Could not resolved style(s): pdf \r\n    net.sf.jasperreports.engine.JRRuntimeException: Could not resolved style(s): pdf      at \r\n    net.sf.jasperreports.engine.fill.JRFillObjectFactory.checkUnresolvedReferences(JRFillObjectFactory.java:1610)      at \r\n    net.sf.jasperreports.engine.fill.JRFillObjectFactory.setStyles(JRFillObjectFactory.java:1537)      at \r\n    net.sf.jasperreports.engine.fill.JRBaseFiller.loadStyles(JRBaseFiller.java:962)      at \r\n    net.sf.jasperreports.engine.fill.JRBaseFiller.fill(JRBaseFiller.java:835)      at \r\n    net.sf.jasperreports.engine.fill.JRBaseFiller.fill(JRBaseFiller.java:782)      at \r\n    net.sf.jasperreports.engine.fill.JRFillSubreport.fillSubreport(JRFillSubreport.java:532)      at \r\n    net.sf.jasperreports.engine.fill.JRSubreportRunnable.run(JRSubreportRunnable.java:63)      at\r\n     net.sf.jasperreports.engine.fill.JRThreadSubreportRunner.run(JRThreadSubreportRunner.java:209)      at\r\n     java.lang.Thread.run(Unknown Source)\r\n\r\n \r\n\r\n  We are using `JasperReports 3.0.0` - migration to newer version requires lot of changes, so that&#39;s for now out of option, in case we need to go to newer version.\r\n","title":"creating OMR image for folding machine on each page with JasperReports","body":"<p>Our invoicing system needs to print OMR (optical mark recognition) symbol on each page of our invoices so the folding machine knows what to put in the envelope, so that little PNG picture has to be put on each page. \n  Our invoice is consisted of main report with two subreports created in special <code>.jrxml</code> files. Picture is generated by calling web service with passing page number as a parameter in http request. So, we need to incorporate picture into subreport hoping that subreport will 'know' actual page number when generating document. Error we are getting is: </p>\n\n<pre><code>Error filling print... Could not resolved style(s): pdf \nnet.sf.jasperreports.engine.JRRuntimeException: Could not resolved style(s): pdf      at \nnet.sf.jasperreports.engine.fill.JRFillObjectFactory.checkUnresolvedReferences(JRFillObjectFactory.java:1610)      at \nnet.sf.jasperreports.engine.fill.JRFillObjectFactory.setStyles(JRFillObjectFactory.java:1537)      at \nnet.sf.jasperreports.engine.fill.JRBaseFiller.loadStyles(JRBaseFiller.java:962)      at \nnet.sf.jasperreports.engine.fill.JRBaseFiller.fill(JRBaseFiller.java:835)      at \nnet.sf.jasperreports.engine.fill.JRBaseFiller.fill(JRBaseFiller.java:782)      at \nnet.sf.jasperreports.engine.fill.JRFillSubreport.fillSubreport(JRFillSubreport.java:532)      at \nnet.sf.jasperreports.engine.fill.JRSubreportRunnable.run(JRSubreportRunnable.java:63)      at\n net.sf.jasperreports.engine.fill.JRThreadSubreportRunner.run(JRThreadSubreportRunner.java:209)      at\n java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>We are using <code>JasperReports 3.0.0</code> - migration to newer version requires lot of changes, so that's for now out of option, in case we need to go to newer version.</p>\n"},{"tags":["java","spring","spring-boot","sorting","jpa"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1659468247,"post_id":73212197,"comment_id":129300791,"body_markdown":"(No expert here, but ...) Regarding part 2:  `UserType` and `Hobby` suggest use of `Enum`.  A collection of `Enum` can be sorted according to the order in which the values were declared: [See Java Sorting based on Enum constants](https://stackoverflow.com/questions/8007108/java-sorting-based-on-enum-constants/8007155#8007155) .","body":"(No expert here, but ...) Regarding part 2:  <code>UserType</code> and <code>Hobby</code> suggest use of <code>Enum</code>.  A collection of <code>Enum</code> can be sorted according to the order in which the values were declared: <a href=\"https://stackoverflow.com/questions/8007108/java-sorting-based-on-enum-constants/8007155#8007155\">See Java Sorting based on Enum constants</a> ."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1659476520,"post_id":73212197,"comment_id":129303212,"body_markdown":"I haven&#39;t responded to part 1 because I&#39;m not sure what is being asked.  Could you, please, clarify? Maybe add example(s)?","body":"I haven&#39;t responded to part 1 because I&#39;m not sure what is being asked.  Could you, please, clarify? Maybe add example(s)?"}],"owner":{"account_id":1359473,"reputation":1054,"user_id":1297091,"accept_rate":40,"display_name":"codezoner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659465180,"creation_date":1659465180,"question_id":73212197,"body_markdown":"I&#39;m trying to sort a collection of objects with multiple dynamic set of rules.  \r\nExample :  \r\n Rule 1 -&gt; Sort by addedDate | Sort Order :  Asc  \r\nRule 2 -&gt; Sort by User Type | Sort Order : &#39;Gold&#39;, &#39;Silver&#39;, &#39;Bronze&#39; (not ASC or DESC)  \r\nRule 3 -&gt; Sort by Hobby | Sort Order : &#39;Music&#39;, &#39;Drama&#39;, &#39;Sport&#39; (not ASC or DESC)  \r\n\r\nI have 2 questions..\r\n\r\n 1. Since these rules can be dynamic (at one instance Rule 1, Rule 2 and another instance only Rule 3) how do I create dynamic comparators ?\r\n 2. Is there a way of sorting can be done using custom sort(not ASC or DESC) order like in Rule 2 and Rule 3 ?  \r\n\r\nSo far I tried sorting via the repository itself, but could not succeed since it only supports Asc and Desc sort order like below.  `repository.findAll(Sort.by(Sort.Direction.DESC, &quot;colName&quot;));`\r\n\r\nAlso I&#39;ve research Java Comparator, but still I could not pass a custom order like in Rule 2 and Rule 3.  \r\nAny expertise is much appreciated.","title":"Sorting a collection - Dynamic count of rules and Sort by set of values","body":"<p>I'm trying to sort a collection of objects with multiple dynamic set of rules.<br />\nExample :<br />\nRule 1 -&gt; Sort by addedDate | Sort Order :  Asc<br />\nRule 2 -&gt; Sort by User Type | Sort Order : 'Gold', 'Silver', 'Bronze' (not ASC or DESC)<br />\nRule 3 -&gt; Sort by Hobby | Sort Order : 'Music', 'Drama', 'Sport' (not ASC or DESC)</p>\n<p>I have 2 questions..</p>\n<ol>\n<li>Since these rules can be dynamic (at one instance Rule 1, Rule 2 and another instance only Rule 3) how do I create dynamic comparators ?</li>\n<li>Is there a way of sorting can be done using custom sort(not ASC or DESC) order like in Rule 2 and Rule 3 ?</li>\n</ol>\n<p>So far I tried sorting via the repository itself, but could not succeed since it only supports Asc and Desc sort order like below.  <code>repository.findAll(Sort.by(Sort.Direction.DESC, &quot;colName&quot;));</code></p>\n<p>Also I've research Java Comparator, but still I could not pass a custom order like in Rule 2 and Rule 3.<br />\nAny expertise is much appreciated.</p>\n"},{"tags":["java","omr"],"comments":[{"owner":{"account_id":4167652,"reputation":5072,"user_id":3416272,"accept_rate":84,"display_name":"Md Johirul Islam"},"score":0,"creation_date":1484250051,"post_id":41621021,"comment_id":70444499,"body_markdown":"You are getting [NullPointerException](http://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it) because for some reason the source of the image is bull. Check your code to find the possible place where you can loose the information related to image source. Or provide more code to see where the problem is happening","body":"You are getting <a href=\"http://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">NullPointerException</a> because for some reason the source of the image is bull. Check your code to find the possible place where you can loose the information related to image source. Or provide more code to see where the problem is happening"},{"owner":{"account_id":6364842,"reputation":647,"user_id":5058321,"accept_rate":56,"display_name":"Faiyaz Md Abdul"},"score":0,"creation_date":1484250619,"post_id":41621021,"comment_id":70444847,"body_markdown":"I have provided the source link","body":"I have provided the source link"}],"answers":[{"tags":[],"owner":{"account_id":6364842,"reputation":647,"user_id":5058321,"accept_rate":56,"display_name":"Faiyaz Md Abdul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1493795785,"creation_date":1493795785,"answer_id":43753549,"question_id":41621021,"body_markdown":"Path of template images was wrong .","title":"Optical Mark Reader (OMR ) - JAVA","body":"<p>Path of template images was wrong .</p>\n"}],"owner":{"account_id":6364842,"reputation":647,"user_id":5058321,"accept_rate":56,"display_name":"Faiyaz Md Abdul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2012,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":43753549,"answer_count":1,"score":-1,"last_activity_date":1659465123,"creation_date":1484248058,"question_id":41621021,"body_markdown":"Unable to start with a OMR reader application . Tried this [Udai OMr][1] , But I am getting NullPointerException . Any Suggestions ?\r\n\r\n    D:\\OmR\\ java -cp &quot;dist/OMRProj.jar;dist/lib/jiu.jar&quot; omrproj.ProcessTemplate [template-filename]\r\n    at omrproj.ImageUtil.readImage(ImageUtil.java:28)\r\n        at omrproj.ProcessForm.main(ProcessForm.java:27)\r\n\r\n \r\n\r\n\r\n  [1]: http://www.cse.iitd.ernet.in/~aseth/udai/OMRProj/README.html &quot;udai Omr&quot;","title":"Optical Mark Reader (OMR ) - JAVA","body":"<p>Unable to start with a OMR reader application . Tried this <a href=\"http://www.cse.iitd.ernet.in/~aseth/udai/OMRProj/README.html\" rel=\"nofollow noreferrer\" title=\"udai Omr\">Udai OMr</a> , But I am getting NullPointerException . Any Suggestions ?</p>\n\n<pre><code>D:\\OmR\\ java -cp \"dist/OMRProj.jar;dist/lib/jiu.jar\" omrproj.ProcessTemplate [template-filename]\nat omrproj.ImageUtil.readImage(ImageUtil.java:28)\n    at omrproj.ProcessForm.main(ProcessForm.java:27)\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659433146,"creation_date":1659433146,"answer_id":73205286,"question_id":73203183,"body_markdown":"I did not try out the following code (no guarantee) but rather tried to provide corrections to your logic.\r\n\r\nNice is the handling of repeated values like 2, 3, 5, 5, 5, 7, 11, 11, 13...\r\nHowever they provide extra counts, when for 16 several solutions (5, 11) are allowed (binomial, factorial). I did not think but assumed a solution (5, 11) counts as 1. Then duplicates in the array could have been removed and only unique values are remaining, simplifying the algorithm. In fact this is a requirement one should check. Below I count the same values at j and at k, which you neglected, only when at both ends they give the same value.\r\n\r\n    public static int pairsum(int arr[], int sum,int j){\r\n        int count=0;\r\n        int k = arr.length - 1;\r\n        while (j &lt; k) {\r\n            int nj = 1; // Same values at lower bound.\r\n            while (j &lt; k &amp;&amp; str[j + nj] == str[j]) {\r\n                ++nj;\r\n            }\r\n            int nk = 1; // Same values at upper bound.\r\n            while (j &lt; k &amp;&amp; str[k - nj] == str[k]) {\r\n                ++nk;\r\n            }\r\n            \r\n            if (arr[j] + arr[k] == sum) {\r\n                if (arr[j] == arr[k]) { // Or k - j + 1 == nj\r\n                    count++; // binom(k - j&#180;+ 1, 2)! For 1 - 4: 12, 13, 14; 23, 24; 34\r\n                    j = k; // Or break\r\n                } else {\r\n                    count++; // nj, nk\r\n                    j = k;\r\n                }\r\n            }\r\n            else if (arr[j] + arr[k] &gt; sum){\r\n                k -= nk;\r\n            }\r\n            else {\r\n                j += nj;\r\n                //k = arr.length - 1;//occurence of error\r\n            }           \r\n        }\r\n        return count;\r\n    }\r\n\r\n    /**\r\n     * @return the number of triplets summing up to num.\r\n     */\r\n    public static int tripletSum(int[] arr, int num) {\r\n        Arrays.sort(arr);\r\n        int count = 0;\r\n        for (int i = 0; i &lt; arr.length - 2; i++) {\r\n            int sum = num - arr[i];\r\n            count += pairsum(arr, sum, i+1);\r\n        }\r\n        return count;\r\n    }\r\n\r\nThe largest error was setting k back to the end.\r\n\r\nThe heuristic optimization, adding special cases, is not needed.\r\n\r\nThe naming could be more meaningful; as does spacing.\r\n\r\n------------------------------------------------\r\n***Improvements***\r\n\r\nIf you make an array of unique values, and their frequency in the original array,\r\nthat would make the logic easier, and potentially faster.\r\n\r\nFor a huge original array, making those 2 arrays can be improved slightly be reusing the original array, sorting it, counting the duplicates:\r\n\r\n    Arrays.sort(arr);\r\n    int previous = Integer.MAX_VALUE;\r\n    int duplicates = 0;\r\n    if (arr.length != 0 &amp;&amp; arr[0] == Integer.MAX_VALUE) { // Cannot happen.\r\n        duplicates = -1;\r\n    }\r\n    for (int value : arr) {\r\n        if (value == previous) {\r\n            duplicates++;\r\n        }\r\n    }\r\n    int n = arr.length - duplicates;\r\n    int[] occurrences = new int[n]; // Needed when counting non-unique combinations.\r\n    int[] uniqueValues = arr;\r\n    int previous = Integer.MAX_VALUE;\r\n    int i = 0;\r\n    for (int value : arr) {\r\n        if (value != previous) {\r\n            arr[i] = value; // Or uniqueValues[i] = value;\r\n            occurrences[i] = 1;\r\n            i++;\r\n        } else {\r\n            occurrences[i]++;\r\n        }\r\n    }\r\n    assert i == n;\r\n    \r\n    int k = n - 1;\r\n\r\nUsing [`Arrays.binarySearch`][1] would make a considerable difference.\r\n\r\n    int pos = Arrays.binarySearch(arr, ...);\r\n    if (pos &lt; 0) { // Not found\r\n        int insertPos = ~pos;\r\n        k = insertPos - 1;\r\n    } else { // Found\r\n        k = pos;\r\n    }\r\n\r\nIn `pairsum` you could try to find the next k for value `sum - arr[j]`.\r\nwhen not found decrement the k from the insert position.\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/Arrays.html#binarySearch(byte%5B%5D,int,int,byte)","title":"Is there another way to assign value for k","body":"<p>I did not try out the following code (no guarantee) but rather tried to provide corrections to your logic.</p>\n<p>Nice is the handling of repeated values like 2, 3, 5, 5, 5, 7, 11, 11, 13...\nHowever they provide extra counts, when for 16 several solutions (5, 11) are allowed (binomial, factorial). I did not think but assumed a solution (5, 11) counts as 1. Then duplicates in the array could have been removed and only unique values are remaining, simplifying the algorithm. In fact this is a requirement one should check. Below I count the same values at j and at k, which you neglected, only when at both ends they give the same value.</p>\n<pre><code>public static int pairsum(int arr[], int sum,int j){\n    int count=0;\n    int k = arr.length - 1;\n    while (j &lt; k) {\n        int nj = 1; // Same values at lower bound.\n        while (j &lt; k &amp;&amp; str[j + nj] == str[j]) {\n            ++nj;\n        }\n        int nk = 1; // Same values at upper bound.\n        while (j &lt; k &amp;&amp; str[k - nj] == str[k]) {\n            ++nk;\n        }\n        \n        if (arr[j] + arr[k] == sum) {\n            if (arr[j] == arr[k]) { // Or k - j + 1 == nj\n                count++; // binom(k - j´+ 1, 2)! For 1 - 4: 12, 13, 14; 23, 24; 34\n                j = k; // Or break\n            } else {\n                count++; // nj, nk\n                j = k;\n            }\n        }\n        else if (arr[j] + arr[k] &gt; sum){\n            k -= nk;\n        }\n        else {\n            j += nj;\n            //k = arr.length - 1;//occurence of error\n        }           \n    }\n    return count;\n}\n\n/**\n * @return the number of triplets summing up to num.\n */\npublic static int tripletSum(int[] arr, int num) {\n    Arrays.sort(arr);\n    int count = 0;\n    for (int i = 0; i &lt; arr.length - 2; i++) {\n        int sum = num - arr[i];\n        count += pairsum(arr, sum, i+1);\n    }\n    return count;\n}\n</code></pre>\n<p>The largest error was setting k back to the end.</p>\n<p>The heuristic optimization, adding special cases, is not needed.</p>\n<p>The naming could be more meaningful; as does spacing.</p>\n<hr />\n<p><em><strong>Improvements</strong></em></p>\n<p>If you make an array of unique values, and their frequency in the original array,\nthat would make the logic easier, and potentially faster.</p>\n<p>For a huge original array, making those 2 arrays can be improved slightly be reusing the original array, sorting it, counting the duplicates:</p>\n<pre><code>Arrays.sort(arr);\nint previous = Integer.MAX_VALUE;\nint duplicates = 0;\nif (arr.length != 0 &amp;&amp; arr[0] == Integer.MAX_VALUE) { // Cannot happen.\n    duplicates = -1;\n}\nfor (int value : arr) {\n    if (value == previous) {\n        duplicates++;\n    }\n}\nint n = arr.length - duplicates;\nint[] occurrences = new int[n]; // Needed when counting non-unique combinations.\nint[] uniqueValues = arr;\nint previous = Integer.MAX_VALUE;\nint i = 0;\nfor (int value : arr) {\n    if (value != previous) {\n        arr[i] = value; // Or uniqueValues[i] = value;\n        occurrences[i] = 1;\n        i++;\n    } else {\n        occurrences[i]++;\n    }\n}\nassert i == n;\n\nint k = n - 1;\n</code></pre>\n<p>Using <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Arrays.html#binarySearch(byte%5B%5D,int,int,byte)\" rel=\"nofollow noreferrer\"><code>Arrays.binarySearch</code></a> would make a considerable difference.</p>\n<pre><code>int pos = Arrays.binarySearch(arr, ...);\nif (pos &lt; 0) { // Not found\n    int insertPos = ~pos;\n    k = insertPos - 1;\n} else { // Found\n    k = pos;\n}\n</code></pre>\n<p>In <code>pairsum</code> you could try to find the next k for value <code>sum - arr[j]</code>.\nwhen not found decrement the k from the insert position.</p>\n"},{"tags":[],"owner":{"account_id":5830092,"reputation":498,"user_id":4594941,"display_name":"pirela"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659464634,"creation_date":1659463851,"answer_id":73211922,"question_id":73203183,"body_markdown":"i suggest another simplest algorithm running also with duplicates values and optional zero.   \r\nFirst, sort all data in ascending order.  \r\nthen loop on A B C , and stop asap: A+A+A or A+B+B or A+B+C less than sum.\r\n\r\n        import java.util.Arrays;\r\n    import java.util.Collections;\r\n\r\n    //------------------ RUN SOME TEST ---------------------\r\n    class QuickStart {\r\n        public static void main(String[] args) {\r\n            Integer[] myData = new Integer[] { 11, 40, 1, 20, 19, 100, 30, 2, 0, 33, 17, 17, 12 };\r\n            searchTriples(53, myData);\r\n            searchTriples(129, myData);\r\n            searchTriples(3, myData);\r\n        }\r\n\r\n        // ----------------- MAIN ALGO PREPARE ------------------\r\n        public static void searchTriples(int sum, Integer[] data) {\r\n            // first sort ascendant\r\n            Arrays.sort(data, Collections.reverseOrder());\r\n            // let see question\r\n            System.out.println(&quot;----------------------------&quot;);\r\n            System.out.println(String.format(&quot;searching for %d within:&quot;, sum));\r\n            for (int num : data) {\r\n                System.out.print(num + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n            // let name A,B,C the triple to be tested as A+B+C\r\n            // C can go up to last indice , others a bit less\r\n            int maxC = data.length - 1;\r\n            int maxB = maxC - 1;\r\n            int maxA = maxB - 1;\r\n            int posA, posB, posC;\r\n            Integer valA, valB, valC, valAB, valABC;\r\n            // ------------------- MAIN ALGO LOOPS ------------------------\r\n            // start with A as first data\r\n            posA = 0;\r\n            while (posA &lt;= maxA) {\r\n                valA = data[posA];\r\n                // as B,C are less than A can cut\r\n                if (valA + valA + valA &lt; sum)\r\n                    break;\r\n                // now add B\r\n                posB = posA + 1;\r\n                while (posB &lt;= maxB) {\r\n                    valB = data[posB];\r\n                    valAB = valA + valB;\r\n                    if (valAB + valB &lt; sum)\r\n                        break;\r\n                    // now add C\r\n                    posC = posB + 1;\r\n                    while (posC &lt;= maxC) {\r\n                        valC = data[posC];\r\n                        valABC = valAB + valC;\r\n                        if (valABC &lt; sum)\r\n                            break;\r\n                        if (valABC == sum) {\r\n                            System.out.println(String.format(&quot;found %d+%d+%d = %d  (at pos: %d %d %d)&quot;, valA, valB, valC,\r\n                                    sum, posA, posB, posC));\r\n                        }\r\n                        posC += 1;\r\n                    }\r\n                    posB += 1;\r\n                }\r\n                posA += 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    ----------------------------\r\n    searching for 53 within:\r\n    100 40 33 30 20 19 17 17 12 11 2 1 0 \r\n    found 40+12+1 = 53  (at pos: 1 8 11)\r\n    found 40+11+2 = 53  (at pos: 1 9 10)\r\n    found 33+20+0 = 53  (at pos: 2 4 12)\r\n    found 33+19+1 = 53  (at pos: 2 5 11)\r\n    found 30+12+11 = 53  (at pos: 3 8 9)\r\n    found 19+17+17 = 53  (at pos: 5 6 7)\r\n    ----------------------------   \r\n    searching for 129 within:   \r\n    100 40 33 30 20 19 17 17 12 11 2 1 0    \r\n    found 100+17+12 = 129  (at pos: 0 6 8)   \r\n    found 100+17+12 = 129  (at pos: 0 7 8)   \r\n    ----------------------------\r\n    searching for 3 within:\r\n    100 40 33 30 20 19 17 17 12 11 2 1 0 \r\n    found 2+1+0 = 3  (at pos: 10 11 12)\r\n\r\nCOMMENTS : \r\nwith a bit more work, i think this algo can be coded as recursive, allowing to any depth , double, triple, quads, etc. \r\nFor another day :) \r\n\r\nHTH\r\n","title":"Is there another way to assign value for k","body":"<p>i suggest another simplest algorithm running also with duplicates values and optional zero.<br />\nFirst, sort all data in ascending order.<br />\nthen loop on A B C , and stop asap: A+A+A or A+B+B or A+B+C less than sum.</p>\n<pre><code>    import java.util.Arrays;\nimport java.util.Collections;\n\n//------------------ RUN SOME TEST ---------------------\nclass QuickStart {\n    public static void main(String[] args) {\n        Integer[] myData = new Integer[] { 11, 40, 1, 20, 19, 100, 30, 2, 0, 33, 17, 17, 12 };\n        searchTriples(53, myData);\n        searchTriples(129, myData);\n        searchTriples(3, myData);\n    }\n\n    // ----------------- MAIN ALGO PREPARE ------------------\n    public static void searchTriples(int sum, Integer[] data) {\n        // first sort ascendant\n        Arrays.sort(data, Collections.reverseOrder());\n        // let see question\n        System.out.println(&quot;----------------------------&quot;);\n        System.out.println(String.format(&quot;searching for %d within:&quot;, sum));\n        for (int num : data) {\n            System.out.print(num + &quot; &quot;);\n        }\n        System.out.println();\n        // let name A,B,C the triple to be tested as A+B+C\n        // C can go up to last indice , others a bit less\n        int maxC = data.length - 1;\n        int maxB = maxC - 1;\n        int maxA = maxB - 1;\n        int posA, posB, posC;\n        Integer valA, valB, valC, valAB, valABC;\n        // ------------------- MAIN ALGO LOOPS ------------------------\n        // start with A as first data\n        posA = 0;\n        while (posA &lt;= maxA) {\n            valA = data[posA];\n            // as B,C are less than A can cut\n            if (valA + valA + valA &lt; sum)\n                break;\n            // now add B\n            posB = posA + 1;\n            while (posB &lt;= maxB) {\n                valB = data[posB];\n                valAB = valA + valB;\n                if (valAB + valB &lt; sum)\n                    break;\n                // now add C\n                posC = posB + 1;\n                while (posC &lt;= maxC) {\n                    valC = data[posC];\n                    valABC = valAB + valC;\n                    if (valABC &lt; sum)\n                        break;\n                    if (valABC == sum) {\n                        System.out.println(String.format(&quot;found %d+%d+%d = %d  (at pos: %d %d %d)&quot;, valA, valB, valC,\n                                sum, posA, posB, posC));\n                    }\n                    posC += 1;\n                }\n                posB += 1;\n            }\n            posA += 1;\n        }\n    }\n}\n\n----------------------------\nsearching for 53 within:\n100 40 33 30 20 19 17 17 12 11 2 1 0 \nfound 40+12+1 = 53  (at pos: 1 8 11)\nfound 40+11+2 = 53  (at pos: 1 9 10)\nfound 33+20+0 = 53  (at pos: 2 4 12)\nfound 33+19+1 = 53  (at pos: 2 5 11)\nfound 30+12+11 = 53  (at pos: 3 8 9)\nfound 19+17+17 = 53  (at pos: 5 6 7)\n----------------------------   \nsearching for 129 within:   \n100 40 33 30 20 19 17 17 12 11 2 1 0    \nfound 100+17+12 = 129  (at pos: 0 6 8)   \nfound 100+17+12 = 129  (at pos: 0 7 8)   \n----------------------------\nsearching for 3 within:\n100 40 33 30 20 19 17 17 12 11 2 1 0 \nfound 2+1+0 = 3  (at pos: 10 11 12)\n</code></pre>\n<p>COMMENTS :\nwith a bit more work, i think this algo can be coded as recursive, allowing to any depth , double, triple, quads, etc.\nFor another day :)</p>\n<p>HTH</p>\n"}],"owner":{"account_id":25954602,"reputation":13,"user_id":19672110,"display_name":"Anto Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73205286,"answer_count":2,"score":1,"last_activity_date":1659464634,"creation_date":1659423338,"question_id":73203183,"body_markdown":"The code given below is to find the no of triplets that produce a sum `num` the method here takes two pointer method and finds `pairsum` to match with the sum I am now able to get almost all the outputs as i can but there are still some cases which i was not able to find. The platform i worked on produced some test cases where the time limit exceeds this is due to the line in the else part which I&#39;ve marked removing that assignment `k = arr.length - 1` , changes the entire output cases to wrong what should i do \r\n```\r\nimport java.util.Arrays;\r\n\r\npublic class Solution {\t\r\n    \r\n\tpublic static int pairsum(int arr[], int sum,int j){\r\n        int count=0;\r\n        int k = arr.length - 1;\r\n            while(j&lt;k)\r\n            {\r\n                if(arr[j] + arr[k] == sum){\r\n                    if(arr[j] == arr[k]){\r\n                        int n = k - j + 1;\r\n                        count = count + (n * (n - 1)) / 2;\r\n                        break;\r\n                    }\r\n                    else{\r\n                    //System.out.println(arr[i] + &quot; &quot; + arr[j] + &quot; &quot; + arr[k]);\r\n                    count++;\r\n                    k--;\r\n                    }\r\n                }\r\n                else if(arr[j] + arr[k] &gt; sum){\r\n                    k--;\r\n                }\r\n                else{\r\n                    j++;\r\n                \tk = arr.length - 1;//occurence of error\r\n                }\r\n                \r\n            }\r\n        \r\n        return count;\r\n\r\n    }\r\n\tpublic static int tripletSum(int[] arr, int num) {\r\n\t\tif(arr.length == 0)\r\n            return 0;\r\n        boolean flag = true;\r\n        for(int i = 0; i &lt; arr.length; i++){\r\n            if(arr[i] != arr[0]){\r\n                flag = false;\r\n            \tbreak;\r\n            }\r\n        }\r\n        if(flag == true &amp;&amp; arr[0] * 3 == num){\r\n            return (arr.length * (arr.length - 1) * (arr.length - 2)) / 6;\r\n        }\r\n        Arrays.sort(arr);\r\n        \r\n        int count = 0;\r\n        for(int i = 0; i &lt; arr.length - 2; i++){\r\n            \r\n            int sum = num - arr[i];\r\n             count+=pairsum(arr,sum,i+1);\r\n        }\r\n        return count;\r\n            \r\n        \r\n    }\r\n}\r\n```","title":"Is there another way to assign value for k","body":"<p>The code given below is to find the no of triplets that produce a sum <code>num</code> the method here takes two pointer method and finds <code>pairsum</code> to match with the sum I am now able to get almost all the outputs as i can but there are still some cases which i was not able to find. The platform i worked on produced some test cases where the time limit exceeds this is due to the line in the else part which I've marked removing that assignment <code>k = arr.length - 1</code> , changes the entire output cases to wrong what should i do</p>\n<pre><code>import java.util.Arrays;\n\npublic class Solution { \n    \n    public static int pairsum(int arr[], int sum,int j){\n        int count=0;\n        int k = arr.length - 1;\n            while(j&lt;k)\n            {\n                if(arr[j] + arr[k] == sum){\n                    if(arr[j] == arr[k]){\n                        int n = k - j + 1;\n                        count = count + (n * (n - 1)) / 2;\n                        break;\n                    }\n                    else{\n                    //System.out.println(arr[i] + &quot; &quot; + arr[j] + &quot; &quot; + arr[k]);\n                    count++;\n                    k--;\n                    }\n                }\n                else if(arr[j] + arr[k] &gt; sum){\n                    k--;\n                }\n                else{\n                    j++;\n                    k = arr.length - 1;//occurence of error\n                }\n                \n            }\n        \n        return count;\n\n    }\n    public static int tripletSum(int[] arr, int num) {\n        if(arr.length == 0)\n            return 0;\n        boolean flag = true;\n        for(int i = 0; i &lt; arr.length; i++){\n            if(arr[i] != arr[0]){\n                flag = false;\n                break;\n            }\n        }\n        if(flag == true &amp;&amp; arr[0] * 3 == num){\n            return (arr.length * (arr.length - 1) * (arr.length - 2)) / 6;\n        }\n        Arrays.sort(arr);\n        \n        int count = 0;\n        for(int i = 0; i &lt; arr.length - 2; i++){\n            \n            int sum = num - arr[i];\n             count+=pairsum(arr,sum,i+1);\n        }\n        return count;\n            \n        \n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","metrics","micrometer","spring-micrometer"],"answers":[{"tags":[],"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659464401,"creation_date":1659464401,"answer_id":73212042,"question_id":73147771,"body_markdown":"`registry.gauge` is a shortcut for a few common use-case.\r\nIf you want to set the description, you can use the Gauge Builder, see the [docs](https://micrometer.io/docs/concepts#_gauge_fluent_builder).","title":"Creating Custom gauge metrics with description and base unit","body":"<p><code>registry.gauge</code> is a shortcut for a few common use-case.\nIf you want to set the description, you can use the Gauge Builder, see the <a href=\"https://micrometer.io/docs/concepts#_gauge_fluent_builder\" rel=\"nofollow noreferrer\">docs</a>.</p>\n"}],"owner":{"account_id":19303462,"reputation":203,"user_id":14110832,"display_name":"Ritesh Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":739,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659464401,"creation_date":1658986936,"question_id":73147771,"body_markdown":"I have created my own gauge metrics and exposed them. Below is the snapshot showing my code. Now I cannot set description and base unit of metrics using this way. \r\n\r\n            int rate = (int) ((finPoint - initPoint)/Constants.TIME_IN_MINS);\r\n            AtomicInteger n = meterRegistry.gauge(&quot;timeout.rate&quot;, atomicInteger);\r\n            n.set(rate);\r\n\r\nCan anyone please point out that there is any way to add a description of metrics using the above meterRegistry object?","title":"Creating Custom gauge metrics with description and base unit","body":"<p>I have created my own gauge metrics and exposed them. Below is the snapshot showing my code. Now I cannot set description and base unit of metrics using this way.</p>\n<pre><code>        int rate = (int) ((finPoint - initPoint)/Constants.TIME_IN_MINS);\n        AtomicInteger n = meterRegistry.gauge(&quot;timeout.rate&quot;, atomicInteger);\n        n.set(rate);\n</code></pre>\n<p>Can anyone please point out that there is any way to add a description of metrics using the above meterRegistry object?</p>\n"},{"tags":["java","android","android-studio-2.3"],"comments":[{"owner":{"account_id":9820989,"reputation":723,"user_id":7275708,"display_name":"Bill F"},"score":1,"creation_date":1496466405,"post_id":44340448,"comment_id":75684300,"body_markdown":"can we see your `build.gradle` and `settings.gradle`?","body":"can we see your <code>build.gradle</code> and <code>settings.gradle</code>?"}],"answers":[{"tags":[],"owner":{"account_id":10316995,"reputation":31,"user_id":7611024,"display_name":"paras08"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1496466172,"creation_date":1496466172,"answer_id":44340475,"question_id":44340448,"body_markdown":"Here are a couple of reasons that this could be happening:\r\n\r\na) The library jar file is not being included\r\n\r\nb) The wrong version of the jar file is being included\r\n\r\nc) (if you are using maven) Another jar file is pulling in a newer/different version of the jar file\r\n\r\nd) Your class path does not include the jar file.","title":"java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/gson/Gson;","body":"<p>Here are a couple of reasons that this could be happening:</p>\n\n<p>a) The library jar file is not being included</p>\n\n<p>b) The wrong version of the jar file is being included</p>\n\n<p>c) (if you are using maven) Another jar file is pulling in a newer/different version of the jar file</p>\n\n<p>d) Your class path does not include the jar file.</p>\n"}],"owner":{"account_id":5374325,"reputation":381,"user_id":4281791,"display_name":"gsanthosh91"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7610,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1659464324,"creation_date":1496465913,"question_id":44340448,"body_markdown":"When I&#39;m trying to run my application i get this error\r\n\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/gson/Gson;\r\n\r\nthis `com.google.gson.Gson` library file that I did added to my project through gradle and also added the libs/gson-2.8.1.jar file through Project Structure and can&#39;t understand when I have this problems.","title":"java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/gson/Gson;","body":"<p>When I'm trying to run my application i get this error</p>\n\n<pre><code>java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/gson/Gson;\n</code></pre>\n\n<p>this <code>com.google.gson.Gson</code> library file that I did added to my project through gradle and also added the libs/gson-2.8.1.jar file through Project Structure and can't understand when I have this problems.</p>\n"},{"tags":["java","android","spinner"],"comments":[{"owner":{"account_id":20052037,"reputation":279,"user_id":14700539,"display_name":"Arsh"},"score":0,"creation_date":1659464972,"post_id":73211968,"comment_id":129299846,"body_markdown":"[this](https://stackoverflow.com/a/29475471/14700539) will help you","body":"<a href=\"https://stackoverflow.com/a/29475471/14700539\">this</a> will help you"},{"owner":{"account_id":6305344,"reputation":2779,"user_id":4898562,"display_name":"i_A_mok"},"score":0,"creation_date":1659759975,"post_id":73211968,"comment_id":129376576,"body_markdown":"Try change `categoryarraylist.equals(1)` to `i == 1` and `categoryarraylist.equals(2)` to `i == 2`.","body":"Try change <code>categoryarraylist.equals(1)</code> to <code>i == 1</code> and <code>categoryarraylist.equals(2)</code> to <code>i == 2</code>."}],"owner":{"account_id":25902872,"reputation":1,"user_id":19628448,"display_name":"Muhammad Aamir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659464034,"creation_date":1659464034,"question_id":73211968,"body_markdown":"using 2 spinner first one contains the main category and second one contains the items related to the selected category.\r\nbut the second spinner values are not displayed.\r\n\r\n    package com.learning.double_spinner;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.Spinner;\r\n    import android.widget.TextView;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        Spinner categoryspn,unitspn;\r\n        EditText inputedt;\r\n        Button convertbtn;\r\n        TextView resulttxtv;\r\n    \r\n        ArrayList&lt;String&gt; categoryarraylist;\r\n        ArrayList&lt;String&gt; weightarraylist;\r\n        ArrayList&lt;String&gt; lengtharraylist;\r\n    \r\n        ArrayAdapter&lt;String&gt; categoryarrayadapter;\r\n        ArrayAdapter&lt;String&gt; unitarrayadapter;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            categoryspn= findViewById(R.id.categoryspn);\r\n            unitspn=findViewById(R.id.unitspn);\r\n            inputedt=findViewById(R.id.inputedt);\r\n            convertbtn=findViewById(R.id.convertbtn);\r\n            resulttxtv=findViewById(R.id.resulttxtv);\r\n    \r\n            categoryarraylist= new ArrayList&lt;&gt;();\r\n            categoryarraylist.add(&quot;Select Category&quot;);\r\n            categoryarraylist.add(&quot;Weight&quot;);\r\n            categoryarraylist.add(&quot;Length&quot;);\r\n    \r\n            categoryarrayadapter= new ArrayAdapter&lt;&gt;(getApplicationContext(),android.R.layout.simple_spinner_item,categoryarraylist);\r\n            categoryspn.setAdapter(categoryarrayadapter);\r\n    \r\n            weightarraylist=new ArrayList&lt;&gt;();\r\n            weightarraylist.add(&quot;Kilogram&quot;);\r\n            weightarraylist.add(&quot;Pound&quot;);\r\n    \r\n            lengtharraylist= new ArrayList&lt;&gt;();\r\n            lengtharraylist.add(&quot;kilometer&quot;);\r\n            lengtharraylist.add(&quot;mile&quot;);\r\n    \r\n            categoryspn.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n                @Override\r\n                public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n    \r\n                    if (categoryarraylist.equals(1))\r\n                    {\r\n                        unitarrayadapter= new ArrayAdapter&lt;&gt;(getApplicationContext(),android.R.layout.simple_spinner_item,weightarraylist);\r\n                    }\r\n                    if (categoryarraylist.equals(2))\r\n                    {\r\n                        unitarrayadapter=new ArrayAdapter&lt;&gt;(getApplicationContext(),android.R.layout.simple_spinner_item,lengtharraylist);\r\n                    }\r\n                    unitspn.setAdapter(unitarrayadapter);\r\n                }\r\n    \r\n    \r\n                @Override\r\n                public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n    \r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nusing 2 spinner first one contains the main category and second one contains the items related to the selected category.\r\nbut the second spinner values are not displayed.","title":"multiple spinner in which second spinner values should be related to the selected value in first spinner","body":"<p>using 2 spinner first one contains the main category and second one contains the items related to the selected category.\nbut the second spinner values are not displayed.</p>\n<pre><code>package com.learning.double_spinner;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Spinner;\nimport android.widget.TextView;\n\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity {\n\n    Spinner categoryspn,unitspn;\n    EditText inputedt;\n    Button convertbtn;\n    TextView resulttxtv;\n\n    ArrayList&lt;String&gt; categoryarraylist;\n    ArrayList&lt;String&gt; weightarraylist;\n    ArrayList&lt;String&gt; lengtharraylist;\n\n    ArrayAdapter&lt;String&gt; categoryarrayadapter;\n    ArrayAdapter&lt;String&gt; unitarrayadapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        categoryspn= findViewById(R.id.categoryspn);\n        unitspn=findViewById(R.id.unitspn);\n        inputedt=findViewById(R.id.inputedt);\n        convertbtn=findViewById(R.id.convertbtn);\n        resulttxtv=findViewById(R.id.resulttxtv);\n\n        categoryarraylist= new ArrayList&lt;&gt;();\n        categoryarraylist.add(&quot;Select Category&quot;);\n        categoryarraylist.add(&quot;Weight&quot;);\n        categoryarraylist.add(&quot;Length&quot;);\n\n        categoryarrayadapter= new ArrayAdapter&lt;&gt;(getApplicationContext(),android.R.layout.simple_spinner_item,categoryarraylist);\n        categoryspn.setAdapter(categoryarrayadapter);\n\n        weightarraylist=new ArrayList&lt;&gt;();\n        weightarraylist.add(&quot;Kilogram&quot;);\n        weightarraylist.add(&quot;Pound&quot;);\n\n        lengtharraylist= new ArrayList&lt;&gt;();\n        lengtharraylist.add(&quot;kilometer&quot;);\n        lengtharraylist.add(&quot;mile&quot;);\n\n        categoryspn.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n\n                if (categoryarraylist.equals(1))\n                {\n                    unitarrayadapter= new ArrayAdapter&lt;&gt;(getApplicationContext(),android.R.layout.simple_spinner_item,weightarraylist);\n                }\n                if (categoryarraylist.equals(2))\n                {\n                    unitarrayadapter=new ArrayAdapter&lt;&gt;(getApplicationContext(),android.R.layout.simple_spinner_item,lengtharraylist);\n                }\n                unitspn.setAdapter(unitarrayadapter);\n            }\n\n\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n            }\n        });\n    }\n}\n</code></pre>\n<p>using 2 spinner first one contains the main category and second one contains the items related to the selected category.\nbut the second spinner values are not displayed.</p>\n"},{"tags":["java","fonts","jcheckbox","jradiobutton","multipleselection"],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659463476,"creation_date":1659463476,"answer_id":73211852,"question_id":73211554,"body_markdown":"Example:\r\n```\r\nimport java.awt.Font;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.event.ItemEvent;\r\nimport javax.swing.*;\r\n\r\npublic class Test {\r\n\r\n    public void run() {\r\n        final JTextField textField = new JTextField(20);\r\n        \r\n        JCheckBox bold = new JCheckBox(&quot;Bold&quot;);\r\n        JCheckBox italic = new JCheckBox(&quot;Italic&quot;);\r\n        JPanel stylePanel = new JPanel();\r\n        stylePanel.add(bold);\r\n        stylePanel.add(italic);\r\n        \r\n        bold.addItemListener(e -&gt; changeStyle(textField, Font.BOLD, e.getStateChange()));\r\n        italic.addItemListener(e -&gt; changeStyle(textField, Font.ITALIC, e.getStateChange()));\r\n\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n        frame.add(textField, BorderLayout.NORTH);\r\n        frame.add(stylePanel, BorderLayout.SOUTH);\r\n        frame.setSize(800, 600);\r\n        frame.setVisible(true);\r\n    }\r\n    \r\n    private void changeStyle(JTextField textField, int style, int stateChange) {\r\n        if (stateChange == ItemEvent.DESELECTED) {\r\n            removeStyle(textField, style);\r\n        } else {\r\n            addStyle(textField, style);\r\n        }\r\n    }\r\n    \r\n    private void addStyle(JTextField textField, int style) {\r\n        Font current = textField.getFont();\r\n        int newStyle = current.getStyle() | style;        \r\n        textField.setFont(current.deriveFont(newStyle));\r\n    }\r\n    \r\n    private void removeStyle(JTextField textField, int style) {\r\n        Font current = textField.getFont();\r\n        int newStyle = current.getStyle() &amp; ~style;        \r\n        textField.setFont(current.deriveFont(newStyle));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; new Test().run());\r\n    }\r\n}\r\n```","title":"Is there a way to select multiple check boxes in java?","body":"<p>Example:</p>\n<pre><code>import java.awt.Font;\nimport java.awt.BorderLayout;\nimport java.awt.event.ItemEvent;\nimport javax.swing.*;\n\npublic class Test {\n\n    public void run() {\n        final JTextField textField = new JTextField(20);\n        \n        JCheckBox bold = new JCheckBox(&quot;Bold&quot;);\n        JCheckBox italic = new JCheckBox(&quot;Italic&quot;);\n        JPanel stylePanel = new JPanel();\n        stylePanel.add(bold);\n        stylePanel.add(italic);\n        \n        bold.addItemListener(e -&gt; changeStyle(textField, Font.BOLD, e.getStateChange()));\n        italic.addItemListener(e -&gt; changeStyle(textField, Font.ITALIC, e.getStateChange()));\n\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        frame.add(textField, BorderLayout.NORTH);\n        frame.add(stylePanel, BorderLayout.SOUTH);\n        frame.setSize(800, 600);\n        frame.setVisible(true);\n    }\n    \n    private void changeStyle(JTextField textField, int style, int stateChange) {\n        if (stateChange == ItemEvent.DESELECTED) {\n            removeStyle(textField, style);\n        } else {\n            addStyle(textField, style);\n        }\n    }\n    \n    private void addStyle(JTextField textField, int style) {\n        Font current = textField.getFont();\n        int newStyle = current.getStyle() | style;        \n        textField.setFont(current.deriveFont(newStyle));\n    }\n    \n    private void removeStyle(JTextField textField, int style) {\n        Font current = textField.getFont();\n        int newStyle = current.getStyle() &amp; ~style;        \n        textField.setFont(current.deriveFont(newStyle));\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; new Test().run());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25960099,"reputation":1,"user_id":19676866,"display_name":"Maryam Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659463476,"creation_date":1659461750,"question_id":73211554,"body_markdown":"I have been programming this small app that the user can select one of the a font colors, blue , red and black, so i used JradioButton for them. also the user can choose a style to the font whether bold or italic or both at the same time, so i used Jcheckbox. the problem is that i tried to let the user choose both italic and bold but nothing changed, is there a way to do that?   \r\n\r\n    private void jRadioBlackActionPerformed(java.awt.event.ActionEvent evt) {                                            \r\n            if (jRadioBlack.isSelected()) {\r\n                jTextField1.setForeground(Color.black);\r\n            }\r\n            if (jCheckBoxBold.isSelected() &amp;&amp; jCheckBoxItalic.isSelected()) {\r\n                jTextField1.setFont(new Font(&quot;Times New Roman&quot;, Font.BOLD + Font.ITALIC, 14));\r\n            }\r\n        }                                           \r\n    \r\n        private void jRadioRedActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n            if (jRadioRed.isSelected())\r\n                jTextField1.setForeground(Color.red);\r\n        }                                         \r\n    \r\n        private void jRadioBlueActionPerformed(java.awt.event.ActionEvent evt) {                                           \r\n            if (jRadioBlue.isSelected())\r\n                jTextField1.setForeground(Color.blue);\r\n        }                                          \r\n    \r\n        private void jCheckBoxBoldItemStateChanged(java.awt.event.ItemEvent evt) {                                               \r\n            if (jCheckBoxBold.isSelected()) {\r\n                jTextField1.setFont(new Font(&quot;Times New Roman&quot;, Font.BOLD, 14));\r\n            } else {\r\n                jTextField1.setFont(new Font(&quot;Times New Roman&quot;, Font.PLAIN, 14));\r\n            }\r\n        }                                              \r\n    \r\n        private void jCheckBoxItalicStateChanged(javax.swing.event.ChangeEvent evt) {                                             \r\n    \r\n        }                                            \r\n    \r\n        private void jCheckBoxItalicItemStateChanged(java.awt.event.ItemEvent evt) {                                                 \r\n            if (jCheckBoxItalic.isSelected()) {\r\n                jTextField1.setFont(new Font(&quot;Times New Roman&quot;, Font.ITALIC, 14));\r\n            } else {\r\n                jTextField1.setFont(new Font(&quot;Times New Roman&quot;, Font.PLAIN, 14));\r\n            }\r\n        }                                                \r\n\r\n","title":"Is there a way to select multiple check boxes in java?","body":"<p>I have been programming this small app that the user can select one of the a font colors, blue , red and black, so i used JradioButton for them. also the user can choose a style to the font whether bold or italic or both at the same time, so i used Jcheckbox. the problem is that i tried to let the user choose both italic and bold but nothing changed, is there a way to do that?</p>\n<pre><code>private void jRadioBlackActionPerformed(java.awt.event.ActionEvent evt) {                                            \n        if (jRadioBlack.isSelected()) {\n            jTextField1.setForeground(Color.black);\n        }\n        if (jCheckBoxBold.isSelected() &amp;&amp; jCheckBoxItalic.isSelected()) {\n            jTextField1.setFont(new Font(&quot;Times New Roman&quot;, Font.BOLD + Font.ITALIC, 14));\n        }\n    }                                           \n\n    private void jRadioRedActionPerformed(java.awt.event.ActionEvent evt) {                                          \n        if (jRadioRed.isSelected())\n            jTextField1.setForeground(Color.red);\n    }                                         \n\n    private void jRadioBlueActionPerformed(java.awt.event.ActionEvent evt) {                                           \n        if (jRadioBlue.isSelected())\n            jTextField1.setForeground(Color.blue);\n    }                                          \n\n    private void jCheckBoxBoldItemStateChanged(java.awt.event.ItemEvent evt) {                                               \n        if (jCheckBoxBold.isSelected()) {\n            jTextField1.setFont(new Font(&quot;Times New Roman&quot;, Font.BOLD, 14));\n        } else {\n            jTextField1.setFont(new Font(&quot;Times New Roman&quot;, Font.PLAIN, 14));\n        }\n    }                                              \n\n    private void jCheckBoxItalicStateChanged(javax.swing.event.ChangeEvent evt) {                                             \n\n    }                                            \n\n    private void jCheckBoxItalicItemStateChanged(java.awt.event.ItemEvent evt) {                                                 \n        if (jCheckBoxItalic.isSelected()) {\n            jTextField1.setFont(new Font(&quot;Times New Roman&quot;, Font.ITALIC, 14));\n        } else {\n            jTextField1.setFont(new Font(&quot;Times New Roman&quot;, Font.PLAIN, 14));\n        }\n    }                                                \n</code></pre>\n"},{"tags":["java","asynchronous"],"comments":[{"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":0,"creation_date":1516030953,"post_id":48266032,"comment_id":83515438,"body_markdown":"In C# or Node.js, yes, absolutely - those at least have that feature as part of the language. I truthfully don&#39;t remember if Java has this feature yet, though.","body":"In C# or Node.js, yes, absolutely - those at least have that feature as part of the language. I truthfully don&#39;t remember if Java has this feature yet, though."},{"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":2,"creation_date":1516031113,"post_id":48266032,"comment_id":83515533,"body_markdown":"Possible duplicate of [Asynchronous processing with a single thread](https://stackoverflow.com/questions/21263574/asynchronous-processing-with-a-single-thread)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/21263574/asynchronous-processing-with-a-single-thread\">Asynchronous processing with a single thread</a>"}],"answers":[{"tags":[],"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1659462984,"creation_date":1516031540,"answer_id":48266394,"question_id":48266032,"body_markdown":"Short answer: yes. This is actually a common feature of non-blocking I/O. Java has a non-blocking I/O library - you can see more details about it [here](http://tutorials.jenkov.com/java-nio/nio-vs-io.html). (I&#39;m truthfully not aware of all of the implementation details of the library, though, so I&#39;m not sure if there&#39;s a guarantee that it won&#39;t create extra threads). This is a notable feature of Node.js, for example, and the .NET Framework has this feature available as well.\r\n\r\nHere&#39;s an analogy to illustrate the difference between single-threaded asynchronous programming and multithreading: suppose that you go to a restaurant with a group of 10 people. When the waiter asks the first person to order, he&#39;s not ready yet. In &quot;ordinary&quot; single-threaded programming with blocking I/O, the waiter waits until he&#39;s ready before moving on to anyone else. In multithreading, you could bring in a second waiter to wait for him (or to take the other group members&#39; orders). You could also bring in several waiters who each take the order of, for example, 2 or 3 group members. In asynchronous/non-blocking I/O, you simply move on to the next person in the group and come back to the first guy when he&#39;s ready.\r\n\r\nObviously, I&#39;m glossing over a lot of the subtleties here, but hopefully that illustrates the difference to some degree. \r\n\r\nFor more information, see:\r\n\r\nhttps://stackoverflow.com/questions/598436/does-an-asynchronous-call-always-create-call-a-new-thread\r\n\r\nhttps://stackoverflow.com/questions/21263574/asynchronous-processing-with-a-single-thread\r\n\r\n[There is no thread](https://blog.stephencleary.com/2013/11/there-is-no-thread.html) (focuses on C#)","title":"Single-Thread asynchronous processing in Java","body":"<p>Short answer: yes. This is actually a common feature of non-blocking I/O. Java has a non-blocking I/O library - you can see more details about it <a href=\"http://tutorials.jenkov.com/java-nio/nio-vs-io.html\" rel=\"nofollow noreferrer\">here</a>. (I'm truthfully not aware of all of the implementation details of the library, though, so I'm not sure if there's a guarantee that it won't create extra threads). This is a notable feature of Node.js, for example, and the .NET Framework has this feature available as well.</p>\n<p>Here's an analogy to illustrate the difference between single-threaded asynchronous programming and multithreading: suppose that you go to a restaurant with a group of 10 people. When the waiter asks the first person to order, he's not ready yet. In &quot;ordinary&quot; single-threaded programming with blocking I/O, the waiter waits until he's ready before moving on to anyone else. In multithreading, you could bring in a second waiter to wait for him (or to take the other group members' orders). You could also bring in several waiters who each take the order of, for example, 2 or 3 group members. In asynchronous/non-blocking I/O, you simply move on to the next person in the group and come back to the first guy when he's ready.</p>\n<p>Obviously, I'm glossing over a lot of the subtleties here, but hopefully that illustrates the difference to some degree.</p>\n<p>For more information, see:</p>\n<p><a href=\"https://stackoverflow.com/questions/598436/does-an-asynchronous-call-always-create-call-a-new-thread\">Does an asynchronous call always create/call a new thread?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/21263574/asynchronous-processing-with-a-single-thread\">Asynchronous processing with a single thread</a></p>\n<p><a href=\"https://blog.stephencleary.com/2013/11/there-is-no-thread.html\" rel=\"nofollow noreferrer\">There is no thread</a> (focuses on C#)</p>\n"}],"owner":{"account_id":12258666,"reputation":245,"user_id":8947028,"accept_rate":7,"display_name":"elnino"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4936,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":48266394,"answer_count":1,"score":8,"last_activity_date":1659462984,"creation_date":1516030296,"question_id":48266032,"body_markdown":"I have a question about Java threading. Is possible run two tasks asynchronously when I use only Main Thread? I read this article: https://stackoverflow.com/questions/748175/asynchronous-vs-synchronous-execution-what-does-it-really-mean\r\nSecond answer says that is possible case where is only one thread (not main thread and one other) and tasks are executed asynchronously. I think that it is not possible in Java because exists only one flow of control.\r\nI think that in Java each task need own thread for execution tasks asynchronously.","title":"Single-Thread asynchronous processing in Java","body":"<p>I have a question about Java threading. Is possible run two tasks asynchronously when I use only Main Thread? I read this article: <a href=\"https://stackoverflow.com/questions/748175/asynchronous-vs-synchronous-execution-what-does-it-really-mean\">Asynchronous vs synchronous execution, what does it really mean?</a>\nSecond answer says that is possible case where is only one thread (not main thread and one other) and tasks are executed asynchronously. I think that it is not possible in Java because exists only one flow of control.\nI think that in Java each task need own thread for execution tasks asynchronously.</p>\n"},{"tags":["java","jquery","ajax","selenium"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1659384151,"post_id":73191839,"comment_id":129277505,"body_markdown":"It&#39;s just a name of a function... look for it to see what it does.  It sounds like it makes a prompt appear in the DOM.  You can test for the appearance of that element. (or the &quot;success&quot; version)","body":"It&#39;s just a name of a function... look for it to see what it does.  It sounds like it makes a prompt appear in the DOM.  You can test for the appearance of that element. (or the &quot;success&quot; version)"},{"owner":{"account_id":10169503,"reputation":37,"user_id":7510248,"display_name":"Petros Belachew"},"score":0,"creation_date":1659462635,"post_id":73191839,"comment_id":129299194,"body_markdown":"@pcalkins, The function prompts a message &quot;Message was sent&quot;.I want to check if the message was sent or not. But,I can&#39;t able to capture the status of the function. Can you help me, How could I do that?","body":"@pcalkins, The function prompts a message &quot;Message was sent&quot;.I want to check if the message was sent or not. But,I can&#39;t able to capture the status of the function. Can you help me, How could I do that?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1659463950,"post_id":73191839,"comment_id":129299580,"body_markdown":"Seems like you&#39;d need to check from the account the message was sent to.  You might want to manually check it.   If you want to check the response like the site does you&#39;d mock-up the call.","body":"Seems like you&#39;d need to check from the account the message was sent to.  You might want to manually check it.   If you want to check the response like the site does you&#39;d mock-up the call."},{"owner":{"account_id":10169503,"reputation":37,"user_id":7510248,"display_name":"Petros Belachew"},"score":0,"creation_date":1659508239,"post_id":73191839,"comment_id":129308320,"body_markdown":"Thanks, @pcalkins, for your response.\nCurrently, there are hundreds of mailboxes, and checking all emails manually takes a lot of time. Is there no mechanism for getting the texts from the DOM prompt?","body":"Thanks, @pcalkins, for your response. Currently, there are hundreds of mailboxes, and checking all emails manually takes a lot of time. Is there no mechanism for getting the texts from the DOM prompt?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1659548898,"post_id":73191839,"comment_id":129322764,"body_markdown":"yes, you&#39;d check the DOM for existence of the prompt... (or alert?  you need to inspect those prompts to see what to target)  Validating the prompt is not necessarily validating that the message has been sent, though.","body":"yes, you&#39;d check the DOM for existence of the prompt... (or alert?  you need to inspect those prompts to see what to target)  Validating the prompt is not necessarily validating that the message has been sent, though."},{"owner":{"account_id":10169503,"reputation":37,"user_id":7510248,"display_name":"Petros Belachew"},"score":0,"creation_date":1659549766,"post_id":73191839,"comment_id":129323075,"body_markdown":"I am not sure that validating the DOM doesn&#39;t mean that the message has been sent. But, here my target is to check the DOM prompt text content, in order to identify the status of each mailbox.I wonder if there will be a way for it. Thanks once again.","body":"I am not sure that validating the DOM doesn&#39;t mean that the message has been sent. But, here my target is to check the DOM prompt text content, in order to identify the status of each mailbox.I wonder if there will be a way for it. Thanks once again."}],"owner":{"account_id":10169503,"reputation":37,"user_id":7510248,"display_name":"Petros Belachew"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659462939,"creation_date":1659347147,"question_id":73191839,"body_markdown":"I want to get the error message that was developed in the ajax error() method. I have tried all wait mechanisms but, it only captures the status of the button: &quot;Sending&quot;.\r\n\r\n**Code snippet** \r\n\r\n    \r\n\t List&lt;WebElement&gt; Shops=driver.findElements(By.className(&quot;card&quot;)) ;\r\n\t\t \r\n\t\tSystem.out.print(&quot;Size  &quot; + Shops.size());\r\n\t\tdriver.manage().window().maximize();\r\n\t\t\r\n\t\tfor(int i=0; i&lt;Shops.size(); i++)\r\n\t\t{ \r\n\t\t\ttry { // Handle Exceptions\r\n\t\t\t\t\r\n\t     Shops.get(i).click(); //click on specific mailbox\r\n\t     \r\n\t\t WebElement Conn_setting= driver.findElement(By.linkText(&quot;Connection Settings&quot;));\r\n\t\t Conn_setting.click();     // click on connection Settings\r\n\t\t \r\n\t\t \r\n\t\t\r\n\t\t \r\n\t\t WebElement Send_Test=driver.findElement(By.xpath(&quot;//*[@id=\\&quot;send-test-trigger\\&quot;]&quot;));\r\n\t\t\r\n\t\t \r\n\t\tJavascriptExecutor j = (JavascriptExecutor) driver;\r\n\t\t \r\n\t     \r\n\t     \r\n\t\t WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(100));\r\n\t\t wait.until(ExpectedConditions.visibilityOf(Send_Test));\r\n\t\t j.executeScript(&quot;arguments[0].click();&quot;,Send_Test);\r\n\t\r\n\t\t\tString textAfter = Send_Test.getText().trim();\r\n\t\t\t\r\n......\r\nIs there anyone who has experience with get the error messages of Ajaxerror() method using selenium with java?\r\nThank you for your help\r\n\r\n[![page with send test button][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AkZoj.png","title":"How to get error messag error messages in ajaxerror() method using selenium java","body":"<p>I want to get the error message that was developed in the ajax error() method. I have tried all wait mechanisms but, it only captures the status of the button: &quot;Sending&quot;.</p>\n<p><strong>Code snippet</strong></p>\n<pre><code> List&lt;WebElement&gt; Shops=driver.findElements(By.className(&quot;card&quot;)) ;\n     \n    System.out.print(&quot;Size  &quot; + Shops.size());\n    driver.manage().window().maximize();\n    \n    for(int i=0; i&lt;Shops.size(); i++)\n    { \n        try { // Handle Exceptions\n            \n     Shops.get(i).click(); //click on specific mailbox\n     \n     WebElement Conn_setting= driver.findElement(By.linkText(&quot;Connection Settings&quot;));\n     Conn_setting.click();     // click on connection Settings\n     \n     \n    \n     \n     WebElement Send_Test=driver.findElement(By.xpath(&quot;//*[@id=\\&quot;send-test-trigger\\&quot;]&quot;));\n    \n     \n    JavascriptExecutor j = (JavascriptExecutor) driver;\n     \n     \n     \n     WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(100));\n     wait.until(ExpectedConditions.visibilityOf(Send_Test));\n     j.executeScript(&quot;arguments[0].click();&quot;,Send_Test);\n\n        String textAfter = Send_Test.getText().trim();\n        \n</code></pre>\n<p>......\nIs there anyone who has experience with get the error messages of Ajaxerror() method using selenium with java?\nThank you for your help</p>\n<p><a href=\"https://i.stack.imgur.com/AkZoj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AkZoj.png\" alt=\"page with send test button\" /></a></p>\n"},{"tags":["java","spring-boot","caching","spring-data","spring-data-redis"],"answers":[{"tags":[],"owner":{"account_id":3929426,"reputation":11,"user_id":3248650,"display_name":"sathish kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659254988,"creation_date":1659254988,"answer_id":73181595,"question_id":73098956,"body_markdown":"I assume you are using Spring boot for this tryout.\r\nSpring boot by default uses lettuce client.So all you have to provide is redis connection details in application.properties/yaml and create RedisTemplate Bean with RedisConnectionFactory instance.\r\n\r\nRedisConfig.java\r\n\r\n    @Configuration\r\n    public class RedisConfig {\r\n\r\n    @Bean\r\n        public RedisTemplate&lt;String, Object&gt; redisTemplate(RedisConnectionFactory factory){\r\n            RedisTemplate&lt;String,Object&gt; redisTemplate=new RedisTemplate&lt;&gt;();\r\n            redisTemplate.setKeySerializer(new StringRedisSerializer());\r\n            redisTemplate.setValueSerializer(new GenericToStringSerializer&lt;Object&gt;(Object.class));\r\n            redisTemplate.setConnectionFactory(factory);\r\n            return redisTemplate;\r\n        }\r\n      }\r\n\r\nApplication.properties:\r\n\r\n    spring.redis.database=0\r\n    spring.redis.host=localhost\r\n    spring.redis.port=6379\r\n    spring.redis.password=mypass\r\n\r\nMake sure the Redis server is running in aforementioned server/port and use redisTemplate bean in your service layer.\r\n\r\n","title":"Connection to Redis Cache using Spring Data Redis","body":"<p>I assume you are using Spring boot for this tryout.\nSpring boot by default uses lettuce client.So all you have to provide is redis connection details in application.properties/yaml and create RedisTemplate Bean with RedisConnectionFactory instance.</p>\n<p>RedisConfig.java</p>\n<pre><code>@Configuration\npublic class RedisConfig {\n\n@Bean\n    public RedisTemplate&lt;String, Object&gt; redisTemplate(RedisConnectionFactory factory){\n        RedisTemplate&lt;String,Object&gt; redisTemplate=new RedisTemplate&lt;&gt;();\n        redisTemplate.setKeySerializer(new StringRedisSerializer());\n        redisTemplate.setValueSerializer(new GenericToStringSerializer&lt;Object&gt;(Object.class));\n        redisTemplate.setConnectionFactory(factory);\n        return redisTemplate;\n    }\n  }\n</code></pre>\n<p>Application.properties:</p>\n<pre><code>spring.redis.database=0\nspring.redis.host=localhost\nspring.redis.port=6379\nspring.redis.password=mypass\n</code></pre>\n<p>Make sure the Redis server is running in aforementioned server/port and use redisTemplate bean in your service layer.</p>\n"},{"tags":[],"owner":{"account_id":12655515,"reputation":37,"user_id":9198175,"display_name":"Chaithra Rai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659462859,"creation_date":1659462859,"answer_id":73211739,"question_id":73098956,"body_markdown":"I could make a successful connection to redis using LettuceConnectionFactory by setting ssl to true and VerifyPeer to false.\r\n```\r\n@Bean\r\n    public LettuceConnectionFactory lettuceConnectionFactory() {\r\n        LettuceConnectionFactory lettuceConnectionFactory = new LettuceConnectionFactory();\r\n        lettuceConnectionFactory.setHostName(&quot;hostname&quot;);\r\n        lettuceConnectionFactory.setPort(port);\r\n        lettuceConnectionFactory.setPassword(&quot;yourpassword&quot;);\r\n        lettuceConnectionFactory.setUseSsl(true);\r\n        lettuceConnectionFactory.setVerifyPeer(false);\r\n        return lettuceConnectionFactory;\r\n    }\r\n\r\n```","title":"Connection to Redis Cache using Spring Data Redis","body":"<p>I could make a successful connection to redis using LettuceConnectionFactory by setting ssl to true and VerifyPeer to false.</p>\n<pre><code>@Bean\n    public LettuceConnectionFactory lettuceConnectionFactory() {\n        LettuceConnectionFactory lettuceConnectionFactory = new LettuceConnectionFactory();\n        lettuceConnectionFactory.setHostName(&quot;hostname&quot;);\n        lettuceConnectionFactory.setPort(port);\n        lettuceConnectionFactory.setPassword(&quot;yourpassword&quot;);\n        lettuceConnectionFactory.setUseSsl(true);\n        lettuceConnectionFactory.setVerifyPeer(false);\n        return lettuceConnectionFactory;\n    }\n\n</code></pre>\n"}],"owner":{"account_id":12655515,"reputation":37,"user_id":9198175,"display_name":"Chaithra Rai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73211739,"answer_count":2,"score":0,"last_activity_date":1659462859,"creation_date":1658670464,"question_id":73098956,"body_markdown":"I am trying to connect to Redis Cluster using Spring Data Redis. Below are is how I configured it. \r\n\r\n```\r\nimport org.springframework.data.redis.connection.RedisStandaloneConfiguration;\r\nimport org.springframework.data.redis.connection.jedis.JedisConnectionFactory;\r\nimport org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory;\r\nimport org.springframework.data.redis.core.RedisTemplate;\r\n\r\n@Configuration\r\npublic class RedisConfig {\r\n \r\n    @Bean\r\n    public JedisConnectionFactory jedisConnectionFactory(){\r\n        RedisStandaloneConfiguration config= new RedisStandaloneConfiguration(&quot;server&quot;,portno);\r\n        config.setPassword(&quot;password&quot;);\r\n        return new JedisConnectionFactory(config);\r\n    }\r\n\r\n    @Bean\r\n    public LettuceConnectionFactory lettuceConnectionFactory() {\r\n        RedisStandaloneConfiguration config= new RedisStandaloneConfiguration(&quot;server&quot;,portno);\r\n        config.setPassword(&quot;password&quot;);\r\n        return new LettuceConnectionFactory(config);\r\n    }\r\n\r\n    @Bean\r\n    public RedisTemplate&lt;String, Object&gt; redisTemplate(){\r\n        RedisTemplate&lt;String,Object&gt; redisTemplate=new RedisTemplate&lt;&gt;();\r\n        redisTemplate.setConnectionFactory(jedisConnectionFactory());\r\n        return redisTemplate;\r\n    }\r\n}\r\n\r\n```\r\nI have kept it pretty basic as per the documentation and avoided explicitly as Pool configs as such. I am trying to test if I did connect properly and start with redis operations using below Service class.\r\n```\r\n@Service\r\npublic class RedisListCache {\r\n    private RedisTemplate&lt;String, Object&gt; redisTemplate;\r\n    private ListOperations&lt;String, Object&gt; listOperations;\r\n\r\n    public  RedisListCache(RedisTemplate&lt;String, Object&gt; redisTemplate){\r\n        this.redisTemplate=redisTemplate;\r\n        listOperations=redisTemplate.opsForList();\r\n    }\r\n\r\n    @PostConstruct\r\n    public void setup(){\r\n        listOperations.leftPush(&quot;keytest&quot;,&quot;Redistesting&quot;);\r\n        System.out.println(listOperations.rightPop(&quot;keytest&quot;));\r\n    }\r\n}\r\n\r\n```\r\nNow I am unable to connect to redis. Posting partial logs below\r\n```\r\nCaused by: io.lettuce.core.RedisCommandTimeoutException: Connection initialization timed out. Command timed out after 1 minute(s)\r\n\tat io.lettuce.core.internal.ExceptionFactory.createTimeoutException(ExceptionFactory.java:71) ~[lettuce-core-6.1.9.RELEASE.jar:6.1.9.RELEASE]\r\n\tat io.lettuce.core.protocol.RedisHandshakeHandler.lambda$channelRegistered$0(RedisHandshakeHandler.java:62) ~[lettuce-core-6.1.9.RELEASE.jar:6.1.9.RELEASE]\r\n\tat io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\r\n\tat io.netty.util.concurrent.PromiseTask.run(PromiseTask.java:106) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\r\n\tat io.netty.util.concurrent.DefaultEventExecutor.run(DefaultEventExecutor.java:66) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\r\n```\r\n\r\nI am fairly new to in-memory data store and caching so please let me know on any inputs to get this working.","title":"Connection to Redis Cache using Spring Data Redis","body":"<p>I am trying to connect to Redis Cluster using Spring Data Redis. Below are is how I configured it.</p>\n<pre><code>import org.springframework.data.redis.connection.RedisStandaloneConfiguration;\nimport org.springframework.data.redis.connection.jedis.JedisConnectionFactory;\nimport org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory;\nimport org.springframework.data.redis.core.RedisTemplate;\n\n@Configuration\npublic class RedisConfig {\n \n    @Bean\n    public JedisConnectionFactory jedisConnectionFactory(){\n        RedisStandaloneConfiguration config= new RedisStandaloneConfiguration(&quot;server&quot;,portno);\n        config.setPassword(&quot;password&quot;);\n        return new JedisConnectionFactory(config);\n    }\n\n    @Bean\n    public LettuceConnectionFactory lettuceConnectionFactory() {\n        RedisStandaloneConfiguration config= new RedisStandaloneConfiguration(&quot;server&quot;,portno);\n        config.setPassword(&quot;password&quot;);\n        return new LettuceConnectionFactory(config);\n    }\n\n    @Bean\n    public RedisTemplate&lt;String, Object&gt; redisTemplate(){\n        RedisTemplate&lt;String,Object&gt; redisTemplate=new RedisTemplate&lt;&gt;();\n        redisTemplate.setConnectionFactory(jedisConnectionFactory());\n        return redisTemplate;\n    }\n}\n\n</code></pre>\n<p>I have kept it pretty basic as per the documentation and avoided explicitly as Pool configs as such. I am trying to test if I did connect properly and start with redis operations using below Service class.</p>\n<pre><code>@Service\npublic class RedisListCache {\n    private RedisTemplate&lt;String, Object&gt; redisTemplate;\n    private ListOperations&lt;String, Object&gt; listOperations;\n\n    public  RedisListCache(RedisTemplate&lt;String, Object&gt; redisTemplate){\n        this.redisTemplate=redisTemplate;\n        listOperations=redisTemplate.opsForList();\n    }\n\n    @PostConstruct\n    public void setup(){\n        listOperations.leftPush(&quot;keytest&quot;,&quot;Redistesting&quot;);\n        System.out.println(listOperations.rightPop(&quot;keytest&quot;));\n    }\n}\n\n</code></pre>\n<p>Now I am unable to connect to redis. Posting partial logs below</p>\n<pre><code>Caused by: io.lettuce.core.RedisCommandTimeoutException: Connection initialization timed out. Command timed out after 1 minute(s)\n    at io.lettuce.core.internal.ExceptionFactory.createTimeoutException(ExceptionFactory.java:71) ~[lettuce-core-6.1.9.RELEASE.jar:6.1.9.RELEASE]\n    at io.lettuce.core.protocol.RedisHandshakeHandler.lambda$channelRegistered$0(RedisHandshakeHandler.java:62) ~[lettuce-core-6.1.9.RELEASE.jar:6.1.9.RELEASE]\n    at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\n    at io.netty.util.concurrent.PromiseTask.run(PromiseTask.java:106) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\n    at io.netty.util.concurrent.DefaultEventExecutor.run(DefaultEventExecutor.java:66) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.70.Final.jar:4.1.70.Final]\n</code></pre>\n<p>I am fairly new to in-memory data store and caching so please let me know on any inputs to get this working.</p>\n"},{"tags":["c#","java","vb.net","programming-languages"],"answers":[{"tags":[],"owner":{"account_id":119129,"reputation":3846,"user_id":310626,"accept_rate":53,"display_name":"duduamar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1288872158,"creation_date":1288872158,"answer_id":4096421,"question_id":4096405,"body_markdown":"In JAVA - use the final keyword:\r\n\r\n    public final class FDetails\r\n\r\n\r\nIn C# - the sealed keyword:\r\n\r\n    sealed class FDetails","title":"how to prevent class &#39;a&#39; from being inherited by another class?","body":"<p>In JAVA - use the final keyword:</p>\n\n<pre><code>public final class FDetails\n</code></pre>\n\n<p>In C# - the sealed keyword:</p>\n\n<pre><code>sealed class FDetails\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1190,"reputation":492175,"user_id":1583,"accept_rate":100,"display_name":"Oded"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1288872178,"creation_date":1288872178,"answer_id":4096423,"question_id":4096405,"body_markdown":"In C# you use the `sealed` keyword in order to prevent a class from being inherited.\r\n\r\nIn VB.NET you use the `NotInheritable` keyword.\r\n\r\nIn Java you use the keyword `final`.","title":"how to prevent class &#39;a&#39; from being inherited by another class?","body":"<p>In C# you use the <code>sealed</code> keyword in order to prevent a class from being inherited.</p>\n\n<p>In VB.NET you use the <code>NotInheritable</code> keyword.</p>\n\n<p>In Java you use the keyword <code>final</code>.</p>\n"},{"tags":[],"owner":{"account_id":43462,"reputation":60851,"user_id":127059,"accept_rate":90,"display_name":"Femaref"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1288872205,"creation_date":1288872205,"answer_id":4096427,"question_id":4096405,"body_markdown":"    java: final  \r\n    vb: NotInheritable (NonOverrideable for properties)\r\n    c#: sealed","title":"how to prevent class &#39;a&#39; from being inherited by another class?","body":"<pre><code>java: final  \nvb: NotInheritable (NonOverrideable for properties)\nc#: sealed\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14626,"reputation":2286,"user_id":30297,"accept_rate":92,"display_name":"chillysapien"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1466604723,"creation_date":1288872297,"answer_id":4096441,"question_id":4096405,"body_markdown":"In Java use the final keyword:\r\n\r\n    public final class fdetails{\r\n    \r\n    }\r\n\r\nIn C# use the sealed keyword:\r\n\r\n    public sealed class fdetails{\r\n    \r\n    }\r\n\r\nIn VB.net use the NotInheritable keyword:\r\n\r\n    public notinheritable class fdetails\r\n    \r\n    end class","title":"how to prevent class &#39;a&#39; from being inherited by another class?","body":"<p>In Java use the final keyword:</p>\n\n<pre><code>public final class fdetails{\n\n}\n</code></pre>\n\n<p>In C# use the sealed keyword:</p>\n\n<pre><code>public sealed class fdetails{\n\n}\n</code></pre>\n\n<p>In VB.net use the NotInheritable keyword:</p>\n\n<pre><code>public notinheritable class fdetails\n\nend class\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3533289,"reputation":39,"user_id":2952223,"display_name":"Shubhranshu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659462555,"creation_date":1459583622,"answer_id":36370686,"question_id":4096405,"body_markdown":"In order to prevent a class in C# from being inherited, the keyword sealed is used. Thus a sealed class may not serve as a base class of any other class. It is also obvious that a sealed class cannot be an abstract class. Code below...\r\n\r\n    //C# Example\r\n    sealed class ClassA\r\n    {\r\n        public int x;\r\n        public int y;\r\n    }\r\n\r\n\r\nNo class can inherit from ClassA defined above. Instances of ClassA may be created and its members may then be accessed, but nothing like the code below is possible...\r\n\r\n    class DerivedClass : ClassA { } // Error\r\n\r\n\r\nSame in Java and VB.net:\r\n\r\n    java: final  \r\n    vb: NotInheritable (NonOverrideable for properties)","title":"how to prevent class &#39;a&#39; from being inherited by another class?","body":"<p>In order to prevent a class in C# from being inherited, the keyword sealed is used. Thus a sealed class may not serve as a base class of any other class. It is also obvious that a sealed class cannot be an abstract class. Code below...</p>\n<pre><code>//C# Example\nsealed class ClassA\n{\n    public int x;\n    public int y;\n}\n</code></pre>\n<p>No class can inherit from ClassA defined above. Instances of ClassA may be created and its members may then be accessed, but nothing like the code below is possible...</p>\n<pre><code>class DerivedClass : ClassA { } // Error\n</code></pre>\n<p>Same in Java and VB.net:</p>\n<pre><code>java: final  \nvb: NotInheritable (NonOverrideable for properties)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6888589,"reputation":141,"user_id":5292885,"display_name":"Krishna Prasad S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574165648,"creation_date":1574165648,"answer_id":58933884,"question_id":4096405,"body_markdown":"Alternatively to https://stackoverflow.com/a/4096427/5292885 answer, one can create the base class with private constructor to avoid inheritance (in C#, you get error like **the class is inaccessible due to its protection level** in case if you refer the base class)","title":"how to prevent class &#39;a&#39; from being inherited by another class?","body":"<p>Alternatively to <a href=\"https://stackoverflow.com/a/4096427/5292885\">https://stackoverflow.com/a/4096427/5292885</a> answer, one can create the base class with private constructor to avoid inheritance (in C#, you get error like <strong>the class is inaccessible due to its protection level</strong> in case if you refer the base class)</p>\n"},{"tags":[],"owner":{"display_name":"user15635726"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620825183,"creation_date":1620825183,"answer_id":67504392,"question_id":4096405,"body_markdown":"For C#, it&#39;s the &quot;sealed&quot; keyword.\r\n\r\nFor Java, it&#39;s the &quot;final&quot; keyword.\r\n","title":"how to prevent class &#39;a&#39; from being inherited by another class?","body":"<p>For C#, it's the &quot;sealed&quot; keyword.</p>\n<p>For Java, it's the &quot;final&quot; keyword.</p>\n"}],"owner":{"account_id":204161,"reputation":2097,"user_id":452202,"accept_rate":96,"display_name":"Vishnu Pradeep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43726,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":4096427,"answer_count":7,"score":15,"last_activity_date":1659462555,"creation_date":1288871995,"question_id":4096405,"body_markdown":"I have a class named `fdetails` and I do not want any other class to inherit from this class.\r\n\r\nCan I set it to not being inherited by another class. I would like to get this done in the following 3 languages:\r\n  \r\n - Java\r\n - VB.NET 3.5\r\n - C# 3.5","title":"how to prevent class &#39;a&#39; from being inherited by another class?","body":"<p>I have a class named <code>fdetails</code> and I do not want any other class to inherit from this class.</p>\n\n<p>Can I set it to not being inherited by another class. I would like to get this done in the following 3 languages:</p>\n\n<ul>\n<li>Java</li>\n<li>VB.NET 3.5</li>\n<li>C# 3.5</li>\n</ul>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2441365,"reputation":13988,"user_id":2129801,"display_name":"werner"},"score":1,"creation_date":1524249278,"post_id":49939398,"comment_id":86912175,"body_markdown":"Please post a minimal version of your pom.xml that demonstrates the problem.","body":"Please post a minimal version of your pom.xml that demonstrates the problem."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1524421984,"post_id":49939398,"comment_id":86954653,"body_markdown":"Are you running on JDK 9 / JDK 10? Which version of Maven are you using?","body":"Are you running on JDK 9 / JDK 10? Which version of Maven are you using?"},{"owner":{"account_id":13406304,"reputation":241,"user_id":9674246,"display_name":"szumi"},"score":0,"creation_date":1524555161,"post_id":49939398,"comment_id":87008013,"body_markdown":"I am using JDK 9.0.4. \n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;. xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;. xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;. \n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;. \n\n  &lt;groupId&gt;group&lt;/groupId&gt;. \n  &lt;artifactId&gt;project&lt;/artifactId&gt;. \n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;. \n  &lt;packaging&gt;jar&lt;/packaging&gt;. \n  &lt;name&gt;projectName&lt;/name&gt;. \n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;.","body":"I am using JDK 9.0.4.  &lt;project xmlns=&quot;<a href=\"http://maven.apache.org/POM/4.0.0\" rel=\"nofollow noreferrer\">maven.apache.org/POM/4.0.0</a>&quot;. xmlns:xsi=&quot;<a href=\"http://www.w3.org/2001/XMLSchema-instance\" rel=\"nofollow noreferrer\">w3.org/2001/XMLSchema-instance</a>&quot;. xsi:schemaLocation=&quot;<a href=\"http://maven.apache.org/POM/4.0.0\" rel=\"nofollow noreferrer\">maven.apache.org/POM/4.0.0</a> <a href=\"http://maven.apache.org/xsd/maven-4.0.0.xsd\" rel=\"nofollow noreferrer\">maven.apache.org/xsd/maven-4.0.0.xsd</a>&quot;&gt;.    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;.     &lt;groupId&gt;group&lt;/groupId&gt;.    &lt;artifactId&gt;project&lt;/artifactId&gt;.    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;.    &lt;packaging&gt;jar&lt;/packaging&gt;.    &lt;name&gt;projectName&lt;/name&gt;.    &lt;url&gt;<a href=\"http://maven.apache.org&lt;/url\" rel=\"nofollow noreferrer\">maven.apache.org&lt;/url</a>&gt;."}],"answers":[{"tags":[],"owner":{"account_id":4083966,"reputation":1293,"user_id":3353717,"display_name":"roj"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1547782997,"creation_date":1547782997,"answer_id":54247475,"question_id":49939398,"body_markdown":"I was also getting `Fatal error compiling: CompilerException: NullPointerException` when running a maven 3.3.9 compile under JDK 11.\r\nI switched to JDK 8 and no longer got the `NullPointerException`.","title":"Maven compiler plugin null pointer","body":"<p>I was also getting <code>Fatal error compiling: CompilerException: NullPointerException</code> when running a maven 3.3.9 compile under JDK 11.\nI switched to JDK 8 and no longer got the <code>NullPointerException</code>.</p>\n"},{"tags":[],"owner":{"account_id":1492534,"reputation":4433,"user_id":6999690,"display_name":"Ruslan L&#243;pez"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1566409689,"creation_date":1566409689,"answer_id":57596818,"question_id":49939398,"body_markdown":"It happens when maven compiler plugin can&#39;t find some required part of your source code.\r\n\r\nLet me tell you my case:\r\n\r\n 1. I created a spring boot application and wanted to test it\r\n 2. So I created another maven module to create an API for automated GUI tests\r\n 3. [tag:spring-boot-maven-plugin] overrides the way jars are created so the directories inside the .jar change so I had to tune the [tag:maven-jar-plugin] to generate the jar for me\r\n 4. I forgot to include a package (service) in this plugin so the same error you have appeared\r\n\r\nSo... I included the package and it worked\r\n\r\n         &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;mainClass&gt;inventarios.Inventarios&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;!--to be imported on other projects--&gt;\r\n                            &lt;classifier&gt;app-to-import&lt;/classifier&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;**/desktop/*&lt;/include&gt;\r\n                                &lt;include&gt;**/desktop/navigation/*&lt;/include&gt;\r\n                                &lt;include&gt;**/service/*&lt;/include&gt; &lt;!--the package I forgot--&gt;\r\n                                &lt;include&gt;**/util/*&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nAnother suggestion I found while searching for the [bug in JDK classes][1] was to add on the compiler plugin the configuration option `forceJavacCompilerUse`\r\n\r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n       &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;3.8.1&lt;/version&gt;\r\n       &lt;configuration&gt;\r\n          &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\r\n       &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8216202","title":"Maven compiler plugin null pointer","body":"<p>It happens when maven compiler plugin can't find some required part of your source code.</p>\n\n<p>Let me tell you my case:</p>\n\n<ol>\n<li>I created a spring boot application and wanted to test it</li>\n<li>So I created another maven module to create an API for automated GUI tests</li>\n<li><a href=\"/questions/tagged/spring-boot-maven-plugin\" class=\"post-tag\" title=\"show questions tagged &#39;spring-boot-maven-plugin&#39;\" rel=\"tag\">spring-boot-maven-plugin</a> overrides the way jars are created so the directories inside the .jar change so I had to tune the <a href=\"/questions/tagged/maven-jar-plugin\" class=\"post-tag\" title=\"show questions tagged &#39;maven-jar-plugin&#39;\" rel=\"tag\">maven-jar-plugin</a> to generate the jar for me</li>\n<li>I forgot to include a package (service) in this plugin so the same error you have appeared</li>\n</ol>\n\n<p>So... I included the package and it worked</p>\n\n<pre><code>     &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;mainClass&gt;inventarios.Inventarios&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;jar&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;!--to be imported on other projects--&gt;\n                        &lt;classifier&gt;app-to-import&lt;/classifier&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;**/desktop/*&lt;/include&gt;\n                            &lt;include&gt;**/desktop/navigation/*&lt;/include&gt;\n                            &lt;include&gt;**/service/*&lt;/include&gt; &lt;!--the package I forgot--&gt;\n                            &lt;include&gt;**/util/*&lt;/include&gt;\n                        &lt;/includes&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>Another suggestion I found while searching for the <a href=\"https://bugs.openjdk.java.net/browse/JDK-8216202\" rel=\"noreferrer\">bug in JDK classes</a> was to add on the compiler plugin the configuration option <code>forceJavacCompilerUse</code></p>\n\n<pre><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n   &lt;version&gt;3.8.1&lt;/version&gt;\n   &lt;configuration&gt;\n      &lt;forceJavacCompilerUse&gt;true&lt;/forceJavacCompilerUse&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":55444,"reputation":5230,"user_id":166062,"display_name":"Lari Hotari"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1642412230,"creation_date":1642412230,"answer_id":70739212,"question_id":49939398,"body_markdown":"There&#39;s an open issue in Maven Compiler Plugin, https://issues.apache.org/jira/browse/MCOMPILER-346 .\r\n\r\nThe underlying problem is usually caused by a compiler error that gets masked. To find out the compiler error, pass `-Dmaven.compiler.forceJavacCompilerUse=true` to the `mvn` command line.\r\nAfter fixing the compiler error, the problem goes away.\r\n\r\n","title":"Maven compiler plugin null pointer","body":"<p>There's an open issue in Maven Compiler Plugin, <a href=\"https://issues.apache.org/jira/browse/MCOMPILER-346\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/MCOMPILER-346</a> .</p>\n<p>The underlying problem is usually caused by a compiler error that gets masked. To find out the compiler error, pass <code>-Dmaven.compiler.forceJavacCompilerUse=true</code> to the <code>mvn</code> command line.\nAfter fixing the compiler error, the problem goes away.</p>\n"}],"owner":{"account_id":13406304,"reputation":241,"user_id":9674246,"display_name":"szumi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24211,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":3,"score":24,"last_activity_date":1659461213,"creation_date":1524219618,"question_id":49939398,"body_markdown":"I have a problem during run of my tests by terminal. I need to run mvn install, but I get:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.7.0:compile (default-compile) on project ProjectName: Fatal error compiling: CompilerException: NullPointerException -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.7.0:compile (default-compile) on project ProjectName: Fatal error compiling\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:290)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:194)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:564)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\r\n\r\nI tried to run it with different versions of compiler. When running tests by testNG in Eclipse everything works fine. The problem occurs when running through terminal. These are cucumber tests of mobile application. Runner uses Appium.\r\n","title":"Maven compiler plugin null pointer","body":"<p>I have a problem during run of my tests by terminal. I need to run mvn install, but I get:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.7.0:compile (default-compile) on project ProjectName: Fatal error compiling: CompilerException: NullPointerException -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.7.0:compile (default-compile) on project ProjectName: Fatal error compiling\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\nat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\nat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\nat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\nat org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\nat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:290)\nat org.apache.maven.cli.MavenCli.main (MavenCli.java:194)\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke (Method.java:564)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\nat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\n</code></pre>\n\n<p>I tried to run it with different versions of compiler. When running tests by testNG in Eclipse everything works fine. The problem occurs when running through terminal. These are cucumber tests of mobile application. Runner uses Appium.</p>\n"},{"tags":["java","spring-data"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1659427592,"post_id":73203866,"comment_id":129286117,"body_markdown":"How you are using pagerequest with jdbctemplate?","body":"How you are using pagerequest with jdbctemplate?"},{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1659427635,"post_id":73203866,"comment_id":129286128,"body_markdown":"hi @AshishPatil namedParameter, I see need to extract the pagerequest column string after I set it here,  PageRequest.of(0, 3, Sort.by(&quot;ProductName&quot;).descending());","body":"hi @AshishPatil namedParameter, I see need to extract the pagerequest column string after I set it here,  PageRequest.of(0, 3, Sort.by(&quot;ProductName&quot;).descending());"}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659460963,"creation_date":1659429002,"answer_id":73204303,"question_id":73203866,"body_markdown":"If I am understanding your question properly , you want to extract column &amp; order from PageRequest, then you can use something like below (getting Stream of Order, finding first element for extracting column and order details: \r\n\r\n\r\n\r\n    Pageable page = PageRequest.of(0, 3, Sort.by(&quot;ProductName&quot;).descending());\r\n    Sort.Order order = page.getSort().get().findFirst().orElse(null);\r\n    \r\n    if(order!=null) {\r\n       String property = (null != order.getProperty()) ? order.getProperty() : null;   // returns you column name or else null\r\n       String dir = order.getDirection().name();   //returns you Direction\r\n    }","title":"Java Data PageRequest ColumnName and SortOrder in Strings","body":"<p>If I am understanding your question properly , you want to extract column &amp; order from PageRequest, then you can use something like below (getting Stream of Order, finding first element for extracting column and order details:</p>\n<pre><code>Pageable page = PageRequest.of(0, 3, Sort.by(&quot;ProductName&quot;).descending());\nSort.Order order = page.getSort().get().findFirst().orElse(null);\n\nif(order!=null) {\n   String property = (null != order.getProperty()) ? order.getProperty() : null;   // returns you column name or else null\n   String dir = order.getDirection().name();   //returns you Direction\n}\n</code></pre>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73204303,"answer_count":1,"score":0,"last_activity_date":1659460963,"creation_date":1659426777,"question_id":73203866,"body_markdown":"How do I get Column Name and Order property strings in Java PageRequest ?\r\n\r\n    import org.springframework.data.domain.PageRequest;\r\n    PageRequest pageRequest; \r\n\r\nAfter I set it in constructor,\r\n\r\n    PageRequest.of(0, 3, Sort.by(&quot;ProductName&quot;).descending());\r\n\r\nWhat properties should I use in Java to get values from PageRequest object ? \r\n\r\n    getPageRequest().getSort() ??\r\n\r\nI will eventually put values in SQL with NamedParameter JDBC Template: \r\n\r\n  `select * from dbo.Product Order by @ColumnName @SortOrder` **Example**: \r\n`select * from dbo.Order by ProductName desc`\r\n\r\n\r\n","title":"Java Data PageRequest ColumnName and SortOrder in Strings","body":"<p>How do I get Column Name and Order property strings in Java PageRequest ?</p>\n<pre><code>import org.springframework.data.domain.PageRequest;\nPageRequest pageRequest; \n</code></pre>\n<p>After I set it in constructor,</p>\n<pre><code>PageRequest.of(0, 3, Sort.by(&quot;ProductName&quot;).descending());\n</code></pre>\n<p>What properties should I use in Java to get values from PageRequest object ?</p>\n<pre><code>getPageRequest().getSort() ??\n</code></pre>\n<p>I will eventually put values in SQL with NamedParameter JDBC Template:</p>\n<p><code>select * from dbo.Product Order by @ColumnName @SortOrder</code> <strong>Example</strong>:\n<code>select * from dbo.Order by ProductName desc</code></p>\n"},{"tags":["java","swing","jframe","awt","jbutton"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1599150305,"post_id":63727855,"comment_id":112691781,"body_markdown":"provide a method in your Buttoner class that allows that","body":"provide a method in your Buttoner class that allows that"},{"owner":{"account_id":19249119,"reputation":60,"user_id":14067550,"display_name":"Mr. Orange"},"score":0,"creation_date":1599155624,"post_id":63727855,"comment_id":112694091,"body_markdown":"Can you please give me sample?","body":"Can you please give me sample?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1599198134,"post_id":63727855,"comment_id":112704928,"body_markdown":"are you familiar with the concept of setters and getters, or any other method?","body":"are you familiar with the concept of setters and getters, or any other method?"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1599150597,"creation_date":1599150597,"answer_id":63727954,"question_id":63727855,"body_markdown":"Not related to your question but:\r\n\r\n    Buttoner panel = new Buttoner();\r\n    panel.setLayout(new GridLayout(3, 2));\r\n\r\nThe layout manager of the panel should be set BEFORE you add the buttons to the panel. \r\n\r\nThat logic belongs in the constructor of your Buttoner class.\r\n\r\n&gt; how can i get access to my buttons outside of their own class:\r\n\r\nNot sure why you would want to do that.\r\n\r\nThe JFrame is just a container to hold the child components. You should not have any application logic in the class that creates the frame.\r\n\r\n","title":"Maiking buttons visible in other classes","body":"<p>Not related to your question but:</p>\n<pre><code>Buttoner panel = new Buttoner();\npanel.setLayout(new GridLayout(3, 2));\n</code></pre>\n<p>The layout manager of the panel should be set BEFORE you add the buttons to the panel.</p>\n<p>That logic belongs in the constructor of your Buttoner class.</p>\n<blockquote>\n<p>how can i get access to my buttons outside of their own class:</p>\n</blockquote>\n<p>Not sure why you would want to do that.</p>\n<p>The JFrame is just a container to hold the child components. You should not have any application logic in the class that creates the frame.</p>\n"}],"owner":{"account_id":19249119,"reputation":60,"user_id":14067550,"display_name":"Mr. Orange"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":63727954,"answer_count":1,"score":-1,"last_activity_date":1659460414,"creation_date":1599150225,"question_id":63727855,"body_markdown":"I&#39;m writing simple d&amp;d dice manager for practice, and I&#39;m wondering how can i access my buttons outside of their own class:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.*;\r\n\r\n    class Buttoner extends JPanel{\r\n    public JButton d4, d6, d8, d12, d20, d100;\r\n    Buttoner(){\r\n        this.add(d4 = new JButton(&quot;d4&quot;));\r\n        this.add(d6 = new JButton(&quot;d6&quot;));\r\n        this.add(d8 = new JButton(&quot;d8&quot;));\r\n        this.add(d12 = new JButton(&quot;d12&quot;));\r\n        this.add(d20 = new JButton(&quot;d20&quot;));\r\n        this.add(d100 = new JButton(&quot;d100&quot;));\r\n    }\r\n    }\r\n\r\n    class Framer extends JFrame {\r\n    Framer(){\r\n        int DEFAULT_WIDTH = 200;\r\n        int DEFAULT_HEIGHT = 140;\r\n        this.setSize(DEFAULT_WIDTH, DEFAULT_HEIGHT);\r\n        this.setVisible(true);\r\n        this.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\r\n        this.setTitle(&quot;D&amp;Dice&quot;);\r\n        JButton display = new JButton(&quot;0&quot;);\r\n        display.setEnabled(false);\r\n        this.add(display, BorderLayout.NORTH);\r\n    }\r\n    }\r\n\r\n    public class DandDice extends Framer {\r\n    public static void main(String[] args)\r\n    {\r\n        Buttoner panel = new Buttoner();\r\n        panel.setLayout(new GridLayout(3, 2));\r\n        Framer ramka = new Framer();\r\n       ramka.add(panel, BorderLayout.SOUTH);\r\n    }\r\n   \r\n    }\r\nAnd I&#39;d like to get acess to for example d4 in DandDice class    ","title":"Maiking buttons visible in other classes","body":"<p>I'm writing simple d&amp;d dice manager for practice, and I'm wondering how can i access my buttons outside of their own class:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.*;\n\nclass Buttoner extends JPanel{\npublic JButton d4, d6, d8, d12, d20, d100;\nButtoner(){\n    this.add(d4 = new JButton(&quot;d4&quot;));\n    this.add(d6 = new JButton(&quot;d6&quot;));\n    this.add(d8 = new JButton(&quot;d8&quot;));\n    this.add(d12 = new JButton(&quot;d12&quot;));\n    this.add(d20 = new JButton(&quot;d20&quot;));\n    this.add(d100 = new JButton(&quot;d100&quot;));\n}\n}\n\nclass Framer extends JFrame {\nFramer(){\n    int DEFAULT_WIDTH = 200;\n    int DEFAULT_HEIGHT = 140;\n    this.setSize(DEFAULT_WIDTH, DEFAULT_HEIGHT);\n    this.setVisible(true);\n    this.setDefaultCloseOperation(DISPOSE_ON_CLOSE);\n    this.setTitle(&quot;D&amp;Dice&quot;);\n    JButton display = new JButton(&quot;0&quot;);\n    display.setEnabled(false);\n    this.add(display, BorderLayout.NORTH);\n}\n}\n\npublic class DandDice extends Framer {\npublic static void main(String[] args)\n{\n    Buttoner panel = new Buttoner();\n    panel.setLayout(new GridLayout(3, 2));\n    Framer ramka = new Framer();\n   ramka.add(panel, BorderLayout.SOUTH);\n}\n\n}\n</code></pre>\n<p>And I'd like to get acess to for example d4 in DandDice class</p>\n"},{"tags":["java","algorithm","sorting","quicksort"],"comments":[{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1659463302,"post_id":73211134,"comment_id":129299386,"body_markdown":"All the partition does is separate the elements into two groups: those that are smaller than the pivot, and those that are larger than the pivot. The pivot itself, and any elements equal to the pivot, can be in either group. So in your example, -9, -1, 3, and 2 are all smaller than the pivot, and 10 and 5 are greater than or equal to the pivot. The order of elements within a group doesn&#39;t matter. Index 3 points to the last element of of the left group.","body":"All the partition does is separate the elements into two groups: those that are smaller than the pivot, and those that are larger than the pivot. The pivot itself, and any elements equal to the pivot, can be in either group. So in your example, -9, -1, 3, and 2 are all smaller than the pivot, and 10 and 5 are greater than or equal to the pivot. The order of elements within a group doesn&#39;t matter. Index 3 points to the last element of of the left group."}],"owner":{"account_id":6506530,"reputation":1934,"user_id":5035236,"accept_rate":58,"display_name":"hawarden_"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659459586,"creation_date":1659459586,"question_id":73211134,"body_markdown":"I implemented the Hoare&#39;s partition scheme for quick sort as it is in the book *Introduction to Algorithms* :\r\n\r\n    public static void sortHoare(int[] arr) {\r\n        quickSortHoare(arr, 0, arr.length - 1);\r\n    }\r\n\r\n    public static void quickSortHoare(int[] arr, int left, int right) {\r\n        if (left &lt; right) {\r\n            int indexPartition = partitionHoare(arr, left, right);\r\n            quickSortHoare(arr, left, indexPartition);\r\n            quickSortHoare(arr, indexPartition + 1, right);\r\n        }\r\n    }\r\n\r\n    // should return a pivot integer, which divides the original array into one left and one right array\r\n    private static int partitionHoare(int[] arr, int left, int right) {\r\n        int pivot = arr[left];\r\n        int i = left - 1;\r\n        int j = right + 1;\r\n\r\n        while (true) {\r\n            while (arr[--j] &gt; pivot);\r\n            while (arr[++i] &lt; pivot);\r\n            if (i &gt;= j) {\r\n                return j;\r\n            }\r\n            swap(arr, i, j);\r\n        }\r\n    }\r\n\r\nSo it sorts my array correctly, but what I don&#39;t understand is that, it does actually not return the pivot that divides.\r\n\r\nFor example my array is : `[5, -1, 3, 10, 2, -9]`\r\n\r\nThe pivot is 5. The array becomes :`[-9, -1, 3, 2, 10, 5]` when it returns j. and it actually returns j = 3 (value =&gt; 2), but it&#39;s neither the pivot nor the element divides that two partitions (because 3 is greater than 2)...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WuVBj.png","title":"Quick sort : Why does classic Hoare partition scheme does not return right pivot?","body":"<p>I implemented the Hoare's partition scheme for quick sort as it is in the book <em>Introduction to Algorithms</em> :</p>\n<pre><code>public static void sortHoare(int[] arr) {\n    quickSortHoare(arr, 0, arr.length - 1);\n}\n\npublic static void quickSortHoare(int[] arr, int left, int right) {\n    if (left &lt; right) {\n        int indexPartition = partitionHoare(arr, left, right);\n        quickSortHoare(arr, left, indexPartition);\n        quickSortHoare(arr, indexPartition + 1, right);\n    }\n}\n\n// should return a pivot integer, which divides the original array into one left and one right array\nprivate static int partitionHoare(int[] arr, int left, int right) {\n    int pivot = arr[left];\n    int i = left - 1;\n    int j = right + 1;\n\n    while (true) {\n        while (arr[--j] &gt; pivot);\n        while (arr[++i] &lt; pivot);\n        if (i &gt;= j) {\n            return j;\n        }\n        swap(arr, i, j);\n    }\n}\n</code></pre>\n<p>So it sorts my array correctly, but what I don't understand is that, it does actually not return the pivot that divides.</p>\n<p>For example my array is : <code>[5, -1, 3, 10, 2, -9]</code></p>\n<p>The pivot is 5. The array becomes :<code>[-9, -1, 3, 2, 10, 5]</code> when it returns j. and it actually returns j = 3 (value =&gt; 2), but it's neither the pivot nor the element divides that two partitions (because 3 is greater than 2)...</p>\n<p><a href=\"https://i.stack.imgur.com/WuVBj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WuVBj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":10846480,"reputation":8784,"user_id":7975771,"accept_rate":12,"display_name":"varman"},"score":1,"creation_date":1634148086,"post_id":69560113,"comment_id":122950548,"body_markdown":"Can you show us how you try to save.. Better remove unwated fields, but need to know about the Repository and service and annotations","body":"Can you show us how you try to save.. Better remove unwated fields, but need to know about the Repository and service and annotations"},{"owner":{"account_id":17113942,"reputation":623,"user_id":12383992,"display_name":"dbrewster"},"score":0,"creation_date":1634149372,"post_id":69560113,"comment_id":122950926,"body_markdown":"It&#39;s very standard so I don&#39;t think it will help but done","body":"It&#39;s very standard so I don&#39;t think it will help but done"},{"owner":{"account_id":996011,"reputation":3477,"user_id":1011926,"accept_rate":78,"display_name":"Chris"},"score":0,"creation_date":1634156629,"post_id":69560113,"comment_id":122953368,"body_markdown":"it does look a bit odd. What happens if you remove all fields but the `id` from `GameEntity` and try to save that?","body":"it does look a bit odd. What happens if you remove all fields but the <code>id</code> from <code>GameEntity</code> and try to save that?"}],"answers":[{"tags":[],"owner":{"account_id":1543832,"reputation":86,"user_id":1437847,"display_name":"Oleksandr Chalyi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634164430,"creation_date":1634164430,"answer_id":69563104,"question_id":69560113,"body_markdown":"Make sure you don&#39;t have cyclic (loop) dependencies between your entities. (For instance entity Player has a reference to a Bet and a Bet to a Player).\r\n","title":"Saving an object to MongoDB causes StackOverflowError","body":"<p>Make sure you don't have cyclic (loop) dependencies between your entities. (For instance entity Player has a reference to a Bet and a Bet to a Player).</p>\n"}],"owner":{"account_id":17113942,"reputation":623,"user_id":12383992,"display_name":"dbrewster"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1723,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69563104,"answer_count":1,"score":3,"last_activity_date":1659459579,"creation_date":1634147384,"question_id":69560113,"body_markdown":"Error: \r\n\r\n&gt; 2021-10-13 12:25:27.092 ERROR 21016 --- [nio-8080-exec-3]\r\n&gt; o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for\r\n&gt; servlet [dispatcherServlet] in context with path [] threw exception\r\n&gt; [Handler dispatch failed; nested exception is\r\n&gt; java.lang.StackOverflowError] with root cause\r\n\r\n\r\nStack Trace (many repetitions of):\r\n```none\r\njava.lang.StackOverflowError: null\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.createCollection(MappingMongoConverter.java:731) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.writePropertyInternal(MappingMongoConverter.java:646) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.writeProperties(MappingMongoConverter.java:620) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.writeInternal(MappingMongoConverter.java:596) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\r\n```\r\n\r\nI am attempting a standard save and the exception I get is not informative. Here is the POJO that causes the crash upon `save()`:\r\n\r\n```java\r\npublic class GameEntity {\r\n     @Id\r\n     @Indexed(unique = true)\r\n     private long id;\r\n     private List&lt;Player&gt; players;\r\n     private List&lt;Card&gt; cards;\r\n     private List&lt;Card&gt; riverCards;\r\n     private boolean isBet;\r\n     private boolean isDealDone;\r\n     private BetManagerEntity betManagerEntity;\r\n\r\n     private int desiredNumberOfPlayers;\r\n     private int openSlots;\r\n     @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n     private Date createdAt;\r\n     @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n     private Date updatedAt;\r\n\r\n//getters and setters\r\n}\r\n```\r\n\r\nAnd here is the nested object:\r\n\r\n```:\r\npublic class BetManagerEntity {\r\n     private int bigBlind;\r\n     private int smallBlind;\r\n     private int turnNumber;\r\n     private int turnsLeftInRound;\r\n     private List&lt;Player&gt; activeBetters;\r\n     private int pot = 0;\r\n     private int betAmount;\r\n     private int bigBlindTurn = -1;\r\n     private List&lt;Bet&gt; bets;\r\n     private List&lt;String&gt; betMessages;\r\n     private Integer maxBet;\r\n\r\n//getters and setters\r\n```\r\n\r\nThe only thing I could think of was that maybe BetManagerEntity also needed an @Id of its own, so I tried adding that and got a slightly different error:\r\n\r\n&gt; OpenJDK 64-Bit Server VM warning: Potentially dangerous stack overflow\r\n&gt; in ReservedStackAccess annotated method\r\n&gt; java.util.concurrent.locks.ReentrantReadWriteLock$Sync.tryAcquireShared(I)I\r\n&gt; [1]  \r\n&gt; OpenJDK 64-Bit Server VM warning: Potentially dangerous stack overflow\r\n&gt; in ReservedStackAccess annotated method\r\n&gt; java.util.concurrent.locks.ReentrantReadWriteLock$Sync.tryReleaseShared(I)Z\r\n&gt; [1]  \r\n&gt; 2021-10-13 12:42:54.845 ERROR 29272 --- [nio-8080-exec-2]\r\n&gt; o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for\r\n&gt; servlet [dispatcherServlet] in context with path [] threw exception\r\n&gt; [Handler dispatch failed; nested exception is\r\n&gt; java.lang.StackOverflowError] with root cause\r\n\r\nand\r\n```none\r\njava.lang.StackOverflowError: null\r\n\tat java.base/java.util.concurrent.locks.ReentrantReadWriteLock$Sync.tryReleaseShared(ReentrantReadWriteLock.java:427) ~[na:na]\r\n\tat java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer.releaseShared(AbstractQueuedSynchronizer.java:1382) ~[na:na]\r\n\tat java.base/java.util.concurrent.locks.ReentrantReadWriteLock$ReadLock.unlock(ReentrantReadWriteLock.java:897) ~[na:na]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:239) ~[spring-data-commons-2.4.5.jar:2.4.5]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:201) ~[spring-data-commons-2.4.5.jar:2.4.5]\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:87) ~[spring-data-commons-2.4.5.jar:2.4.5]\r\n\tat org.springframework.data.mapping.context.MappingContext.getRequiredPersistentEntity(MappingContext.java:73) ~[spring-data-commons-2.4.5.jar:2.4.5]\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.writeInternal(MappingMongoConverter.java:568) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.writeCollectionInternal(MappingMongoConverter.java:821) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.createCollection(MappingMongoConverter.java:736) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.writePropertyInternal(MappingMongoConverter.java:646) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.writeProperties(MappingMongoConverter.java:620) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\r\n\tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.writeInternal(MappingMongoConverter.java:596) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\r\n```\r\n\r\nI then removed the @Id for BetManagerEntity so that it was back to how it originally was, but I still get the new stack trace when I attempt to save GameEntity\r\n\r\nMy repository is simple:\r\n```java\r\npackage com.brewster.poker.repository;\r\n\r\nimport com.brewster.poker.model.GameEntity;\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\npublic interface GameRepository extends MongoRepository&lt;GameEntity, Long&gt; {\r\n}\r\n```\r\n\r\n","title":"Saving an object to MongoDB causes StackOverflowError","body":"<p>Error:</p>\n<blockquote>\n<p>2021-10-13 12:25:27.092 ERROR 21016 --- [nio-8080-exec-3]\no.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for\nservlet [dispatcherServlet] in context with path [] threw exception\n[Handler dispatch failed; nested exception is\njava.lang.StackOverflowError] with root cause</p>\n</blockquote>\n<p>Stack Trace (many repetitions of):</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.StackOverflowError: null\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.createCollection(MappingMongoConverter.java:731) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.writePropertyInternal(MappingMongoConverter.java:646) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.writeProperties(MappingMongoConverter.java:620) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.writeInternal(MappingMongoConverter.java:596) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\n</code></pre>\n<p>I am attempting a standard save and the exception I get is not informative. Here is the POJO that causes the crash upon <code>save()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GameEntity {\n     @Id\n     @Indexed(unique = true)\n     private long id;\n     private List&lt;Player&gt; players;\n     private List&lt;Card&gt; cards;\n     private List&lt;Card&gt; riverCards;\n     private boolean isBet;\n     private boolean isDealDone;\n     private BetManagerEntity betManagerEntity;\n\n     private int desiredNumberOfPlayers;\n     private int openSlots;\n     @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n     private Date createdAt;\n     @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n     private Date updatedAt;\n\n//getters and setters\n}\n</code></pre>\n<p>And here is the nested object:</p>\n<pre><code>public class BetManagerEntity {\n     private int bigBlind;\n     private int smallBlind;\n     private int turnNumber;\n     private int turnsLeftInRound;\n     private List&lt;Player&gt; activeBetters;\n     private int pot = 0;\n     private int betAmount;\n     private int bigBlindTurn = -1;\n     private List&lt;Bet&gt; bets;\n     private List&lt;String&gt; betMessages;\n     private Integer maxBet;\n\n//getters and setters\n</code></pre>\n<p>The only thing I could think of was that maybe BetManagerEntity also needed an @Id of its own, so I tried adding that and got a slightly different error:</p>\n<blockquote>\n<p>OpenJDK 64-Bit Server VM warning: Potentially dangerous stack overflow\nin ReservedStackAccess annotated method\njava.util.concurrent.locks.ReentrantReadWriteLock$Sync.tryAcquireShared(I)I\n[1]<br />\nOpenJDK 64-Bit Server VM warning: Potentially dangerous stack overflow\nin ReservedStackAccess annotated method\njava.util.concurrent.locks.ReentrantReadWriteLock$Sync.tryReleaseShared(I)Z\n[1]<br />\n2021-10-13 12:42:54.845 ERROR 29272 --- [nio-8080-exec-2]\no.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for\nservlet [dispatcherServlet] in context with path [] threw exception\n[Handler dispatch failed; nested exception is\njava.lang.StackOverflowError] with root cause</p>\n</blockquote>\n<p>and</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.StackOverflowError: null\n    at java.base/java.util.concurrent.locks.ReentrantReadWriteLock$Sync.tryReleaseShared(ReentrantReadWriteLock.java:427) ~[na:na]\n    at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer.releaseShared(AbstractQueuedSynchronizer.java:1382) ~[na:na]\n    at java.base/java.util.concurrent.locks.ReentrantReadWriteLock$ReadLock.unlock(ReentrantReadWriteLock.java:897) ~[na:na]\n    at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:239) ~[spring-data-commons-2.4.5.jar:2.4.5]\n    at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:201) ~[spring-data-commons-2.4.5.jar:2.4.5]\n    at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentEntity(AbstractMappingContext.java:87) ~[spring-data-commons-2.4.5.jar:2.4.5]\n    at org.springframework.data.mapping.context.MappingContext.getRequiredPersistentEntity(MappingContext.java:73) ~[spring-data-commons-2.4.5.jar:2.4.5]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.writeInternal(MappingMongoConverter.java:568) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.writeCollectionInternal(MappingMongoConverter.java:821) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.createCollection(MappingMongoConverter.java:736) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.writePropertyInternal(MappingMongoConverter.java:646) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.writeProperties(MappingMongoConverter.java:620) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.writeInternal(MappingMongoConverter.java:596) ~[spring-data-mongodb-3.1.5.jar:3.1.5]\n</code></pre>\n<p>I then removed the @Id for BetManagerEntity so that it was back to how it originally was, but I still get the new stack trace when I attempt to save GameEntity</p>\n<p>My repository is simple:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.brewster.poker.repository;\n\nimport com.brewster.poker.model.GameEntity;\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\npublic interface GameRepository extends MongoRepository&lt;GameEntity, Long&gt; {\n}\n</code></pre>\n"},{"tags":["java","eclipse","multidimensional-array","junit"],"comments":[{"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"score":1,"creation_date":1659199685,"post_id":73140686,"comment_id":129239368,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). The code with Condition 4 and printing would suffice in the valid board method.\n\nAdditionally remember to keep your question focused, it should only ask one thing at a time. The JUnit should be a separate question with an attempt at using it and problem encountered.","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. The code with Condition 4 and printing would suffice in the valid board method.  Additionally remember to keep your question focused, it should only ask one thing at a time. The JUnit should be a separate question with an attempt at using it and problem encountered."}],"answers":[{"tags":[],"owner":{"account_id":22639015,"reputation":147,"user_id":16815462,"display_name":"Vlad Nitu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659459483,"creation_date":1658936545,"answer_id":73140908,"question_id":73140686,"body_markdown":"## Running JUnit tests &amp; debug in Eclipse\r\nIf you want to **include JUnit in your project** I recommend this tutorial as it will guide you step by step through how to run JUnit tests for your Java application: [Running JUnit Tests from a Java Application][1]\r\n\r\nTo find why the program does not work as expected you should try to run the Java program in **Debugging mode** (as you&#39;ve included the `eclipse` tag I assume you are using Eclipse as your main IDE, so this tutorial might help: [Beginner’s Guide to Quick Start Debugging][2]) \r\n\r\n\r\n  [1]: https://baeldung-cn.com/junit-tests-run-programmatically-from-java\r\n  [2]: https://www.eclipse.org/community/eclipse_newsletter/2017/june/article1.php\r\n\r\n## **Debugging process**\r\n- I&#39;ve placed a breakpoint on **line 60** (`for (int i = 0; i &lt; board.length;i++) {\r\n`) and then went through some iteratiosn of your loop.\r\n- The error is occuring due to the fact that you are not closing the curly brackets correctly (as you are running the following block\r\n ```java\r\n if (redCount - yellowCount &gt; 1){///If the difference between red and yellow discs is greater than one then the board is invalid\r\n                    System.out.println(&quot;Amount of discs isn&#39;t fair. There are too many red discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\r\n                    System.out.println(redCount);\r\n                    return false;\r\n\r\n                }\r\n                else if (yellowCount &gt; redCount) {///If there are more yellows than reds then the board is invalid since red is always meant to go first\r\n                    System.out.println(&quot;Amount of discs isn&#39;t fair. There are too many yellow discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\r\n                    return false;\r\n                }\r\n\r\n\r\n                    }\r\n                System.out.println(&quot;The number of red discs is &quot; + redCount + &quot;. And the number of yellow discs is &quot; + yellowCount );\r\n                return true;\r\n```\r\ninside the `for-loop of variable i`.)\r\n- **How to fix**: you should close the for-loop of &#39;i&#39; &#39;s curly bracket before starting to run the code block that I pasted above. After closing the curly brackets correctly, there should be an additional closing curly bracket on **line 83** that you will have to delete.\r\n\r\n## Code snippet after editing\r\n```java\r\npublic class Connect4 {\r\n    public static void main(String args[]) {\r\n        char[][] board = new char[][]{///2d array for board\r\n                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;Y&#39;, &#39;R&#39;, &#39;.&#39;, &#39;.&#39;},\r\n                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;Y&#39;, &#39;R&#39;, &#39;.&#39;, &#39;.&#39;},\r\n                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;Y&#39;, &#39;R&#39;, &#39;Y&#39;, &#39;.&#39;},\r\n                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;Y&#39;, &#39;R&#39;, &#39;R&#39;, &#39;.&#39;},\r\n                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;Y&#39;, &#39;R&#39;, &#39;Y&#39;, &#39;.&#39;},\r\n                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;Y&#39;, &#39;R&#39;, &#39;R&#39;, &#39;.&#39;},\r\n        };\r\n        System.out.println(&quot;\\n1.2/ Is this Board Valid?&quot;);\r\n        System.out.println(Q2_ValidBoard(board) + &quot; this (is/is not) a valid board.&quot;);\r\n        System.out.println();\r\n    }\r\n\r\n    public static boolean Q2_ValidBoard(char[][] board) {\r\n        int allowedRows = 6;///allowed row size for board\r\n        int allowedColumns = 7;///allowed size for columns\r\n        if ((board == null) || (board.length == 0)) { //checks if array is empty\r\n            System.out.println(&quot;Array is Empty&quot;);\r\n            return false;\r\n        }\r\n\r\n        // Verify Board Size and Each Square of the Board\r\n        // Condition 1 - Check if The Size Of Rows is 6 / If Height is 6\r\n        if (board.length != allowedRows) {\r\n            System.out.println(&quot;Number of Rows is Not &quot; + allowedRows);\r\n            return false;\r\n        }\r\n\r\n        for (int i = 0; i &lt; board.length; i++) { // For Each Row in Board..\r\n            if (board[i].length != allowedColumns) { // Check if Size of Column is 6 / If Width is 7\r\n                System.out.println(&quot;Number of Column&#39;s is Not &quot; + allowedColumns + &quot; on ROW &quot; + (i + 1));///Declares if the\r\n                return false;\r\n            }\r\n\r\n            // Condition 2 - Check whether Each Square has a Valid Value\r\n            for (int j = 0; j &lt; board[i].length; j++) { // For Each Column in Board..\r\n                if (((board[i][j] != &#39;R&#39;) &amp;&amp; (board[i][j] != &#39;Y&#39;) &amp;&amp; (board[i][j] != &#39;.&#39;))) {\r\n                    System.out.println(&quot;Invalid Board Square At &quot; + (i + 1) + &quot; x &quot; + (j + 1));\r\n                    return false; // If The Square isn&#39;t R, Y or . it&#39;s not Valid\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        // Condition 3 - Loop Backwards and Check if a Disc is Floating\r\n        for (int i = board.length - 1; i &gt;= 0; i--) {\r\n            for (int j = (board[i].length - 1); j &gt;= 0; j--) {\r\n                if ((board[i][j] == &#39;R&#39;) || (board[i][j] == &#39;Y&#39;)) {\r\n                    if (i != allowedRows - 1) { // Make sure to check it&#39;s not the deepest row level or it will call an error as it looks OutOfBounds of the List (-1)\r\n                        if (board[i + 1][j] == &#39;.&#39;) { // You want to increment to go deeper in the 2D array not decrease; you&#39;re already going backwards.\r\n                            System.out.println(&quot;Disc is Floating at &quot; + (i + 1) + &quot; x &quot; + (j + 1));\r\n                            return false;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        ///Condition 4 check if the amount of discs is fair\r\n        int redCount = 0;\r\n        int yellowCount = 0;\r\n        for (int i = 0; i &lt; board.length; i++) {\r\n            for (int j = 0; j &lt; board[i].length; j++) {\r\n                if (board[i][j] == &#39;R&#39;) {\r\n                    System.out.println(&quot;red disc found&quot;);\r\n                    redCount++;\r\n                } else if (board[i][j] == &#39;Y&#39;) {\r\n                    System.out.println(&quot;yellow disc found&quot;);\r\n                    yellowCount++;\r\n                }\r\n            }\r\n\r\n        }\r\n            if (redCount - yellowCount &gt; 1){///If the difference between red and yellow discs is greater than one then the board is invalid\r\n                System.out.println(&quot;Amount of discs isn&#39;t fair. There are too many red discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\r\n                System.out.println(redCount);\r\n                return false;\r\n\r\n            }\r\n            else if (yellowCount &gt; redCount) {///If there are more yellows than reds then the board is invalid since red is always meant to go first\r\n                System.out.println(&quot;Amount of discs isn&#39;t fair. There are too many yellow discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\r\n                return false;\r\n            }\r\n\r\n\r\n        System.out.println(&quot;The number of red discs is &quot; + redCount + &quot;. And the number of yellow discs is &quot; + yellowCount );\r\n        return true;\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n- After closing the brackets correctly and running the code below, you should see the following output: \r\n```\r\n1.2/ Is this Board Valid?\r\nyellow disc found\r\nred disc found\r\nyellow disc found\r\nred disc found\r\nyellow disc found\r\nred disc found\r\nyellow disc found\r\nyellow disc found\r\nred disc found\r\nred disc found\r\nyellow disc found\r\nred disc found\r\nyellow disc found\r\nyellow disc found\r\nred disc found\r\nred disc found\r\nThe number of red discs is 8. And the number of yellow discs is 8\r\ntrue this (is/is not) a valid board.\r\n```\r\n\r\nI hope this helps fixing your bug!","title":"How would I keep track of the amount of discs in a connect 4 board and JUnit test methods in java?","body":"<h2>Running JUnit tests &amp; debug in Eclipse</h2>\n<p>If you want to <strong>include JUnit in your project</strong> I recommend this tutorial as it will guide you step by step through how to run JUnit tests for your Java application: <a href=\"https://baeldung-cn.com/junit-tests-run-programmatically-from-java\" rel=\"nofollow noreferrer\">Running JUnit Tests from a Java Application</a></p>\n<p>To find why the program does not work as expected you should try to run the Java program in <strong>Debugging mode</strong> (as you've included the <code>eclipse</code> tag I assume you are using Eclipse as your main IDE, so this tutorial might help: <a href=\"https://www.eclipse.org/community/eclipse_newsletter/2017/june/article1.php\" rel=\"nofollow noreferrer\">Beginner’s Guide to Quick Start Debugging</a>)</p>\n<h2><strong>Debugging process</strong></h2>\n<ul>\n<li>I've placed a breakpoint on <strong>line 60</strong> (<code>for (int i = 0; i &lt; board.length;i++) { </code>) and then went through some iteratiosn of your loop.</li>\n<li>The error is occuring due to the fact that you are not closing the curly brackets correctly (as you are running the following block</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>if (redCount - yellowCount &gt; 1){///If the difference between red and yellow discs is greater than one then the board is invalid\n                   System.out.println(&quot;Amount of discs isn't fair. There are too many red discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\n                   System.out.println(redCount);\n                   return false;\n\n               }\n               else if (yellowCount &gt; redCount) {///If there are more yellows than reds then the board is invalid since red is always meant to go first\n                   System.out.println(&quot;Amount of discs isn't fair. There are too many yellow discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\n                   return false;\n               }\n\n\n                   }\n               System.out.println(&quot;The number of red discs is &quot; + redCount + &quot;. And the number of yellow discs is &quot; + yellowCount );\n               return true;\n</code></pre>\n<p>inside the <code>for-loop of variable i</code>.)</p>\n<ul>\n<li><strong>How to fix</strong>: you should close the for-loop of 'i' 's curly bracket before starting to run the code block that I pasted above. After closing the curly brackets correctly, there should be an additional closing curly bracket on <strong>line 83</strong> that you will have to delete.</li>\n</ul>\n<h2>Code snippet after editing</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public class Connect4 {\n    public static void main(String args[]) {\n        char[][] board = new char[][]{///2d array for board\n                {'.', '.', '.', 'Y', 'R', '.', '.'},\n                {'.', '.', '.', 'Y', 'R', '.', '.'},\n                {'.', '.', '.', 'Y', 'R', 'Y', '.'},\n                {'.', '.', '.', 'Y', 'R', 'R', '.'},\n                {'.', '.', '.', 'Y', 'R', 'Y', '.'},\n                {'.', '.', '.', 'Y', 'R', 'R', '.'},\n        };\n        System.out.println(&quot;\\n1.2/ Is this Board Valid?&quot;);\n        System.out.println(Q2_ValidBoard(board) + &quot; this (is/is not) a valid board.&quot;);\n        System.out.println();\n    }\n\n    public static boolean Q2_ValidBoard(char[][] board) {\n        int allowedRows = 6;///allowed row size for board\n        int allowedColumns = 7;///allowed size for columns\n        if ((board == null) || (board.length == 0)) { //checks if array is empty\n            System.out.println(&quot;Array is Empty&quot;);\n            return false;\n        }\n\n        // Verify Board Size and Each Square of the Board\n        // Condition 1 - Check if The Size Of Rows is 6 / If Height is 6\n        if (board.length != allowedRows) {\n            System.out.println(&quot;Number of Rows is Not &quot; + allowedRows);\n            return false;\n        }\n\n        for (int i = 0; i &lt; board.length; i++) { // For Each Row in Board..\n            if (board[i].length != allowedColumns) { // Check if Size of Column is 6 / If Width is 7\n                System.out.println(&quot;Number of Column's is Not &quot; + allowedColumns + &quot; on ROW &quot; + (i + 1));///Declares if the\n                return false;\n            }\n\n            // Condition 2 - Check whether Each Square has a Valid Value\n            for (int j = 0; j &lt; board[i].length; j++) { // For Each Column in Board..\n                if (((board[i][j] != 'R') &amp;&amp; (board[i][j] != 'Y') &amp;&amp; (board[i][j] != '.'))) {\n                    System.out.println(&quot;Invalid Board Square At &quot; + (i + 1) + &quot; x &quot; + (j + 1));\n                    return false; // If The Square isn't R, Y or . it's not Valid\n                }\n            }\n\n        }\n\n        // Condition 3 - Loop Backwards and Check if a Disc is Floating\n        for (int i = board.length - 1; i &gt;= 0; i--) {\n            for (int j = (board[i].length - 1); j &gt;= 0; j--) {\n                if ((board[i][j] == 'R') || (board[i][j] == 'Y')) {\n                    if (i != allowedRows - 1) { // Make sure to check it's not the deepest row level or it will call an error as it looks OutOfBounds of the List (-1)\n                        if (board[i + 1][j] == '.') { // You want to increment to go deeper in the 2D array not decrease; you're already going backwards.\n                            System.out.println(&quot;Disc is Floating at &quot; + (i + 1) + &quot; x &quot; + (j + 1));\n                            return false;\n                        }\n                    }\n                }\n            }\n        }\n        ///Condition 4 check if the amount of discs is fair\n        int redCount = 0;\n        int yellowCount = 0;\n        for (int i = 0; i &lt; board.length; i++) {\n            for (int j = 0; j &lt; board[i].length; j++) {\n                if (board[i][j] == 'R') {\n                    System.out.println(&quot;red disc found&quot;);\n                    redCount++;\n                } else if (board[i][j] == 'Y') {\n                    System.out.println(&quot;yellow disc found&quot;);\n                    yellowCount++;\n                }\n            }\n\n        }\n            if (redCount - yellowCount &gt; 1){///If the difference between red and yellow discs is greater than one then the board is invalid\n                System.out.println(&quot;Amount of discs isn't fair. There are too many red discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\n                System.out.println(redCount);\n                return false;\n\n            }\n            else if (yellowCount &gt; redCount) {///If there are more yellows than reds then the board is invalid since red is always meant to go first\n                System.out.println(&quot;Amount of discs isn't fair. There are too many yellow discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\n                return false;\n            }\n\n\n        System.out.println(&quot;The number of red discs is &quot; + redCount + &quot;. And the number of yellow discs is &quot; + yellowCount );\n        return true;\n\n\n    }\n}\n</code></pre>\n<ul>\n<li>After closing the brackets correctly and running the code below, you should see the following output:</li>\n</ul>\n<pre><code>1.2/ Is this Board Valid?\nyellow disc found\nred disc found\nyellow disc found\nred disc found\nyellow disc found\nred disc found\nyellow disc found\nyellow disc found\nred disc found\nred disc found\nyellow disc found\nred disc found\nyellow disc found\nyellow disc found\nred disc found\nred disc found\nThe number of red discs is 8. And the number of yellow discs is 8\ntrue this (is/is not) a valid board.\n</code></pre>\n<p>I hope this helps fixing your bug!</p>\n"}],"owner":{"account_id":17979170,"reputation":11,"user_id":13065961,"display_name":"MrFrieza96"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659459483,"creation_date":1658935546,"question_id":73140686,"body_markdown":"I&#39;ve been working on a connect 4 program in java and and I have been doing some checks of the validity of board but I have encountered a few problems when developing my code. For reference here&#39;s the code with comments\r\n```\r\npublic class Connect4 {\r\n\t public static void main(String args[]) {\r\n\t        char[][] board = new char[][]{///2d array for board\r\n\t                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;Y&#39;, &#39;R&#39;, &#39;.&#39;,&#39;.&#39;},\r\n\t                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;Y&#39;, &#39;R&#39;, &#39;.&#39;,&#39;.&#39;},\r\n\t                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;Y&#39;, &#39;R&#39;, &#39;Y&#39;,&#39;.&#39;},\r\n\t                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;Y&#39;, &#39;R&#39;, &#39;R&#39;,&#39;.&#39;},\r\n\t                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;Y&#39;, &#39;R&#39;, &#39;Y&#39;,&#39;.&#39;},\r\n\t                {&#39;.&#39;, &#39;.&#39;, &#39;.&#39;, &#39;Y&#39;, &#39;R&#39;, &#39;R&#39;,&#39;.&#39;},             \r\n\t            };\r\n\t        System.out.println(&quot;\\n1.2/ Is this Board Valid?&quot;);\r\n\t        System.out.println(Q2_ValidBoard(board) + &quot; this (is/is not) a valid board.&quot;);\r\n\t        System.out.println();\r\n\t }\r\n\r\n\t        public static boolean Q2_ValidBoard(char[][] board) {\r\n\t            int allowedRows = 6;///allowed row size for board\r\n\t            int allowedColumns = 7;///allowed size for columns\r\n\t            if ((board == null) || (board.length == 0)) { //checks if array is empty\r\n\t                System.out.println(&quot;Array is Empty&quot;);\r\n\t                return false;\r\n\t            }\r\n\r\n\t            // Verify Board Size and Each Square of the Board\r\n\t            // Condition 1 - Check if The Size Of Rows is 6 / If Height is 6\r\n\t            if(board.length != allowedRows) {System.out.println(&quot;Number of Rows is Not &quot; + allowedRows); return false;}\r\n\r\n\t            for (int i = 0; i &lt; board.length; i++) { // For Each Row in Board..\r\n\t                if (board[i].length != allowedColumns) { // Check if Size of Column is 6 / If Width is 7\r\n\t                    System.out.println(&quot;Number of Column&#39;s is Not &quot; + allowedColumns + &quot; on ROW &quot; + (i + 1));///Declares if the \r\n\t                    return false;\r\n\t                }\r\n\r\n\t                // Condition 2 - Check whether Each Square has a Valid Value\r\n\t                for (int j = 0; j &lt; board[i].length; j++) { // For Each Column in Board..\r\n\t                    if(((board[i ][j] != &#39;R&#39;)&amp;&amp;(board[i][j] != &#39;Y&#39;)&amp;&amp;(board[i][j] != &#39;.&#39;))) {\r\n\t                        System.out.println(&quot;Invalid Board Square At &quot; + (i + 1) + &quot; x &quot; + (j + 1));\r\n\t                        return false; // If The Square isn&#39;t R, Y or . it&#39;s not Valid\r\n\t                    }\r\n\t                }\r\n\r\n\t            }\r\n\r\n\t            // Condition 3 - Loop Backwards and Check if a Disc is Floating\r\n\t            for (int i = board.length - 1; i &gt;= 0; i--) {\r\n\t                for (int j = (board[i].length - 1); j &gt;= 0; j--) {\r\n\t                    if ((board[i][j] == &#39;R&#39;) || (board[i][j] == &#39;Y&#39;)) {\r\n\t                        if (i != allowedRows - 1) { // Make sure to check it&#39;s not the deepest row level or it will call an error as it looks OutOfBounds of the List (-1)\r\n\t                            if(board[i + 1][j] == &#39;.&#39;) { // You want to increment to go deeper in the 2D array not decrease; you&#39;re already going backwards.\r\n\t                                System.out.println(&quot;Disc is Floating at &quot; + (i + 1) + &quot; x &quot; + (j + 1));\r\n\t                                return false;\r\n\t                            }\r\n\t                        }\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t            ///Condition 4 check if the amount of discs is fair\r\n\t            int redCount = 0;\r\n\t            int yellowCount = 0;\r\n\t            for (int i = 0; i &lt; board.length;i++) {\r\n\t                for (int j = 0 ;j &lt; board[i].length; j++) {\r\n\t                    if (board[i][j] == &#39;R&#39;){\r\n\t                        System.out.println(&quot;red disc found&quot;);\r\n\t                        redCount++;\r\n\t                    }else if (board[i][j] == &#39;Y&#39;) {\r\n\t                    System.out.println(&quot;yellow disc found&quot;);\r\n\t                    yellowCount++;\r\n\t                }\r\n\t             }\r\n\r\n\t            if (redCount - yellowCount &gt; 1){///If the difference between red and yellow discs is greater than one then the board is invalid\r\n\t                System.out.println(&quot;Amount of discs isn&#39;t fair. There are too many red discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\r\n\t                System.out.println(redCount);\r\n\t                return false;\r\n\r\n\t            }\r\n\t            else if (yellowCount &gt; redCount) {///If there are more yellows than reds then the board is invalid since red is always meant to go first\r\n\t                System.out.println(&quot;Amount of discs isn&#39;t fair. There are too many yellow discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\r\n\t                return false;\r\n\t            }\r\n\r\n\r\n\t                }\r\n\t            System.out.println(&quot;The number of red discs is &quot; + redCount + &quot;. And the number of yellow discs is &quot; + yellowCount );\r\n\t            return true;\r\n   \r\n\t\r\n\t        }\r\n}\r\n\t \r\n\r\n```\r\nThe board I inputted should be valid since the amount of reds and yellows are equivalent. The conditions for the correct proportion of discs are listed within the code comments.\r\n\r\nWhen I input the board I am told that the board is invalid and false is returned\r\n```\r\n1.2/ Is this Board Valid?\r\nyellow disc found\r\nred disc found\r\nyellow disc found\r\nred disc found\r\nyellow disc found\r\nred disc found\r\nyellow disc found\r\nAmount of discs isn&#39;t fair. There are too many yellow discs and thus the board is invalid. There are 3 reds and 4 yellows.\r\nfalse this (is/is not) a valid board.\r\n```\r\nAs you can see the board has more than 3 yellows and 4 reds (8 red discs and 8 yellow discs) but there is something in the code which is stopping the counting of discs within the nested loop which counts the number of reds and yellows. \r\n```\r\n///Condition 4 check if the amount of discs is fair\r\n\t            int redCount = 0;\r\n\t            int yellowCount = 0;\r\n\t            for (int i = 0; i &lt; board.length;i++) {\r\n\t                for (int j = 0 ;j &lt; board[i].length; j++) {\r\n\t                    if (board[i][j] == &#39;R&#39;){\r\n\t                        System.out.println(&quot;red disc found&quot;);\r\n\t                        redCount++;\r\n\t                    }else if (board[i][j] == &#39;Y&#39;) {\r\n\t                    System.out.println(&quot;yellow disc found&quot;);\r\n\t                    yellowCount++;\r\n\t                }\r\n\t             }\r\n\r\n\t            if (redCount - yellowCount &gt; 1){///If the difference between red and yellow discs is greater than one then the board is invalid\r\n\t                System.out.println(&quot;Amount of discs isn\\&#39;t fair. There are too many red discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\r\n\t                System.out.println(redCount);\r\n\t                return false;\r\n\r\n\t            }\r\n\t            else if (yellowCount &gt; redCount) {///If there are more yellows than reds then the board is invalid since red is always meant to go first\r\n\t                System.out.println(&quot;Amount of discs isn&#39;t fair. There are too many yellow discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\r\n\t                return false;\r\n\t            }\r\n```\r\nHow would I fix this problem and how can I use JUnitTesting to test my code? I&#39;ve been unable to work out how to use JUnitesting so should help.\r\n\r\n\r\n\r\n","title":"How would I keep track of the amount of discs in a connect 4 board and JUnit test methods in java?","body":"<p>I've been working on a connect 4 program in java and and I have been doing some checks of the validity of board but I have encountered a few problems when developing my code. For reference here's the code with comments</p>\n<pre><code>public class Connect4 {\n     public static void main(String args[]) {\n            char[][] board = new char[][]{///2d array for board\n                    {'.', '.', '.', 'Y', 'R', '.','.'},\n                    {'.', '.', '.', 'Y', 'R', '.','.'},\n                    {'.', '.', '.', 'Y', 'R', 'Y','.'},\n                    {'.', '.', '.', 'Y', 'R', 'R','.'},\n                    {'.', '.', '.', 'Y', 'R', 'Y','.'},\n                    {'.', '.', '.', 'Y', 'R', 'R','.'},             \n                };\n            System.out.println(&quot;\\n1.2/ Is this Board Valid?&quot;);\n            System.out.println(Q2_ValidBoard(board) + &quot; this (is/is not) a valid board.&quot;);\n            System.out.println();\n     }\n\n            public static boolean Q2_ValidBoard(char[][] board) {\n                int allowedRows = 6;///allowed row size for board\n                int allowedColumns = 7;///allowed size for columns\n                if ((board == null) || (board.length == 0)) { //checks if array is empty\n                    System.out.println(&quot;Array is Empty&quot;);\n                    return false;\n                }\n\n                // Verify Board Size and Each Square of the Board\n                // Condition 1 - Check if The Size Of Rows is 6 / If Height is 6\n                if(board.length != allowedRows) {System.out.println(&quot;Number of Rows is Not &quot; + allowedRows); return false;}\n\n                for (int i = 0; i &lt; board.length; i++) { // For Each Row in Board..\n                    if (board[i].length != allowedColumns) { // Check if Size of Column is 6 / If Width is 7\n                        System.out.println(&quot;Number of Column's is Not &quot; + allowedColumns + &quot; on ROW &quot; + (i + 1));///Declares if the \n                        return false;\n                    }\n\n                    // Condition 2 - Check whether Each Square has a Valid Value\n                    for (int j = 0; j &lt; board[i].length; j++) { // For Each Column in Board..\n                        if(((board[i ][j] != 'R')&amp;&amp;(board[i][j] != 'Y')&amp;&amp;(board[i][j] != '.'))) {\n                            System.out.println(&quot;Invalid Board Square At &quot; + (i + 1) + &quot; x &quot; + (j + 1));\n                            return false; // If The Square isn't R, Y or . it's not Valid\n                        }\n                    }\n\n                }\n\n                // Condition 3 - Loop Backwards and Check if a Disc is Floating\n                for (int i = board.length - 1; i &gt;= 0; i--) {\n                    for (int j = (board[i].length - 1); j &gt;= 0; j--) {\n                        if ((board[i][j] == 'R') || (board[i][j] == 'Y')) {\n                            if (i != allowedRows - 1) { // Make sure to check it's not the deepest row level or it will call an error as it looks OutOfBounds of the List (-1)\n                                if(board[i + 1][j] == '.') { // You want to increment to go deeper in the 2D array not decrease; you're already going backwards.\n                                    System.out.println(&quot;Disc is Floating at &quot; + (i + 1) + &quot; x &quot; + (j + 1));\n                                    return false;\n                                }\n                            }\n                        }\n                    }\n                }\n                ///Condition 4 check if the amount of discs is fair\n                int redCount = 0;\n                int yellowCount = 0;\n                for (int i = 0; i &lt; board.length;i++) {\n                    for (int j = 0 ;j &lt; board[i].length; j++) {\n                        if (board[i][j] == 'R'){\n                            System.out.println(&quot;red disc found&quot;);\n                            redCount++;\n                        }else if (board[i][j] == 'Y') {\n                        System.out.println(&quot;yellow disc found&quot;);\n                        yellowCount++;\n                    }\n                 }\n\n                if (redCount - yellowCount &gt; 1){///If the difference between red and yellow discs is greater than one then the board is invalid\n                    System.out.println(&quot;Amount of discs isn't fair. There are too many red discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\n                    System.out.println(redCount);\n                    return false;\n\n                }\n                else if (yellowCount &gt; redCount) {///If there are more yellows than reds then the board is invalid since red is always meant to go first\n                    System.out.println(&quot;Amount of discs isn't fair. There are too many yellow discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\n                    return false;\n                }\n\n\n                    }\n                System.out.println(&quot;The number of red discs is &quot; + redCount + &quot;. And the number of yellow discs is &quot; + yellowCount );\n                return true;\n   \n    \n            }\n}\n     \n\n</code></pre>\n<p>The board I inputted should be valid since the amount of reds and yellows are equivalent. The conditions for the correct proportion of discs are listed within the code comments.</p>\n<p>When I input the board I am told that the board is invalid and false is returned</p>\n<pre><code>1.2/ Is this Board Valid?\nyellow disc found\nred disc found\nyellow disc found\nred disc found\nyellow disc found\nred disc found\nyellow disc found\nAmount of discs isn't fair. There are too many yellow discs and thus the board is invalid. There are 3 reds and 4 yellows.\nfalse this (is/is not) a valid board.\n</code></pre>\n<p>As you can see the board has more than 3 yellows and 4 reds (8 red discs and 8 yellow discs) but there is something in the code which is stopping the counting of discs within the nested loop which counts the number of reds and yellows.</p>\n<pre><code>///Condition 4 check if the amount of discs is fair\n                int redCount = 0;\n                int yellowCount = 0;\n                for (int i = 0; i &lt; board.length;i++) {\n                    for (int j = 0 ;j &lt; board[i].length; j++) {\n                        if (board[i][j] == 'R'){\n                            System.out.println(&quot;red disc found&quot;);\n                            redCount++;\n                        }else if (board[i][j] == 'Y') {\n                        System.out.println(&quot;yellow disc found&quot;);\n                        yellowCount++;\n                    }\n                 }\n\n                if (redCount - yellowCount &gt; 1){///If the difference between red and yellow discs is greater than one then the board is invalid\n                    System.out.println(&quot;Amount of discs isn\\'t fair. There are too many red discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\n                    System.out.println(redCount);\n                    return false;\n\n                }\n                else if (yellowCount &gt; redCount) {///If there are more yellows than reds then the board is invalid since red is always meant to go first\n                    System.out.println(&quot;Amount of discs isn't fair. There are too many yellow discs and thus the board is invalid. There are &quot; + redCount + &quot; reds and &quot; + yellowCount + &quot; yellows.&quot;);\n                    return false;\n                }\n</code></pre>\n<p>How would I fix this problem and how can I use JUnitTesting to test my code? I've been unable to work out how to use JUnitesting so should help.</p>\n"},{"tags":["java","spring-boot","caching"],"comments":[{"owner":{"account_id":3175510,"reputation":2055,"user_id":2683501,"accept_rate":82,"display_name":"pL4Gu33"},"score":0,"creation_date":1659026062,"post_id":73155965,"comment_id":129203138,"body_markdown":"This is really hard to say. Is current cache in a normal `@Service` class? Did you try to create a new empty test service and test it in your normal application... than you see if its a general problem or maybe only from this specific position.","body":"This is really hard to say. Is current cache in a normal <code>@Service</code> class? Did you try to create a new empty test service and test it in your normal application... than you see if its a general problem or maybe only from this specific position."},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1659026129,"post_id":73155965,"comment_id":129203167,"body_markdown":"Just a workaround if the url and the response dosen&#39;t change can&#39;t you use `@PostConstruct` to get the secret?","body":"Just a workaround if the url and the response dosen&#39;t change can&#39;t you use <code>@PostConstruct</code> to get the secret?"},{"owner":{"account_id":5105567,"reputation":1321,"user_id":4093727,"display_name":"Michael M"},"score":1,"creation_date":1659049558,"post_id":73155965,"comment_id":129209642,"body_markdown":"pL4Gu33: Yes, it is a normal @Service class, auto-wired as such (org.springframework.stereotype.Service).  If by &quot;current cache&quot; you are indicating the one that is working, the service that IS caching correctly is my test service, empty except for a handful of classes to test caching.\n\nBut that is a good thought.  I can try wiring up another method somewhere else in my normal/real service, and see if it exhibits the same failure to cache issue.","body":"pL4Gu33: Yes, it is a normal @Service class, auto-wired as such (org.springframework.stereotype.Service).  If by &quot;current cache&quot; you are indicating the one that is working, the service that IS caching correctly is my test service, empty except for a handful of classes to test caching.  But that is a good thought.  I can try wiring up another method somewhere else in my normal/real service, and see if it exhibits the same failure to cache issue."},{"owner":{"account_id":5105567,"reputation":1321,"user_id":4093727,"display_name":"Michael M"},"score":0,"creation_date":1659453541,"post_id":73155965,"comment_id":129296050,"body_markdown":"Pp88:  Thanks for the idea.  I was really stumped on this issue, so every idea is worth consideration.  I haven&#39;t used the @ PostConstruct annotation for a long time, but it seemed like it was a bad idea to use in Spring projects, where classes are auto-wired in during startup using Spring&#39;s IoC (Inversion of Control).  The reason to use @ PostConstruct is to defer certain events until after objects have been instantiated.  So it makes sense that it might be a valid work-around for me.  I tried it, but didn&#39;t reach any success, unfortunately.","body":"Pp88:  Thanks for the idea.  I was really stumped on this issue, so every idea is worth consideration.  I haven&#39;t used the @ PostConstruct annotation for a long time, but it seemed like it was a bad idea to use in Spring projects, where classes are auto-wired in during startup using Spring&#39;s IoC (Inversion of Control).  The reason to use @ PostConstruct is to defer certain events until after objects have been instantiated.  So it makes sense that it might be a valid work-around for me.  I tried it, but didn&#39;t reach any success, unfortunately."},{"owner":{"account_id":5105567,"reputation":1321,"user_id":4093727,"display_name":"Michael M"},"score":0,"creation_date":1659453547,"post_id":73155965,"comment_id":129296054,"body_markdown":"FYI - an opinionated article in which the author describes why @PostConstruct isn&#39;t ideal for some applications: https://levelup.gitconnected.com/stop-using-postconstruct-in-your-java-applications-2a66fb202cb8","body":"FYI - an opinionated article in which the author describes why @PostConstruct isn&#39;t ideal for some applications: <a href=\"https://levelup.gitconnected.com/stop-using-postconstruct-in-your-java-applications-2a66fb202cb8\" rel=\"nofollow noreferrer\">levelup.gitconnected.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5105567,"reputation":1321,"user_id":4093727,"display_name":"Michael M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659459460,"creation_date":1659459460,"answer_id":73211116,"question_id":73155965,"body_markdown":"After a lot of debugging and analysis, I identified and fixed the caching issue that was preventing my service method from being cached.  \r\n\r\nI had tried everything I could possibly think of, and I had also scoured multiple tutorial sites as well as here on Stack Overflow.  Caching through the Spring Framework *should not* be this challenging.  I knew I was missing something fundamental.\r\n\r\nOne very helpful suggestion I received was to alter the logging level.  Although increasing the logging verbosity didn&#39;t explicitly identify the *actual* problem, it illuminated additional information.  By enabling TRACE mode on Spring&#39;s caching package, I immediately saw that my caching layer *was* configured and working by the logs that were output.\r\n\r\n**CAUSE:  I hadn&#39;t yet added the service class I had annotated as `@Cacheable` to my constructor injector.  It&#39;s a pattern that I generally follow, but I missed it here.**  \r\n\r\nWhen I had written my initial AWS Utility class to retrieve secrets (among other things), I directly instantiated the service class within the controller methods that called my AWS new service.  Although I marked my utility class as a service (`@Service`), I never moved it into Spring&#39;s service constructor within each controller method.\r\n\r\n*EXAMPLE: This is where I should have instantiated my service for Spring to inject it properly so that Spring&#39;s caching could be properly applied:*\r\n\r\n    public DataFetcher(D365AccessService d365AccessService, AssignmentService assignmentService, AwsSecretsManager awsSecretsManager) {\r\n       this.d365Service = d365Service;\r\n       this.assignmentService = assignmentService;\r\n       this.awsSecretsManager = awsSecretsManager;\r\n    }\r\n\r\nThus, caching was not occurring through Spring because the service I was trying to cache wasn&#39;t connected up properly like my other services.  Through the IoC container (Inversion of Control) that Spring uses when auto-wiring classes, Spring&#39;s caching layer was proxying a *different* object instance (probably the autowired one I should have been using) and so the explicitly instantiated object never picked up.\r\n\r\n**RESOLUTION**:  Once I added it properly to be an additional service in the constructor, and let Spring wire things up correctly, caching immediately began working as expected.  Just an oversight on my part, but annoying to chase down.  Learned my lesson.  : - )\r\n\r\nNOTE:  The beauty of frameworks like Spring, is that even though they are often opinionated frameworks, they encourage us to do things right...  resulting in a far more efficient, robust, and elegant solution at the end of the day.","title":"SpringBoot Caching isn&#39;t caching data, although it seems to auto-wire the @Cacheable method successfully","body":"<p>After a lot of debugging and analysis, I identified and fixed the caching issue that was preventing my service method from being cached.</p>\n<p>I had tried everything I could possibly think of, and I had also scoured multiple tutorial sites as well as here on Stack Overflow.  Caching through the Spring Framework <em>should not</em> be this challenging.  I knew I was missing something fundamental.</p>\n<p>One very helpful suggestion I received was to alter the logging level.  Although increasing the logging verbosity didn't explicitly identify the <em>actual</em> problem, it illuminated additional information.  By enabling TRACE mode on Spring's caching package, I immediately saw that my caching layer <em>was</em> configured and working by the logs that were output.</p>\n<p><strong>CAUSE:  I hadn't yet added the service class I had annotated as <code>@Cacheable</code> to my constructor injector.  It's a pattern that I generally follow, but I missed it here.</strong></p>\n<p>When I had written my initial AWS Utility class to retrieve secrets (among other things), I directly instantiated the service class within the controller methods that called my AWS new service.  Although I marked my utility class as a service (<code>@Service</code>), I never moved it into Spring's service constructor within each controller method.</p>\n<p><em>EXAMPLE: This is where I should have instantiated my service for Spring to inject it properly so that Spring's caching could be properly applied:</em></p>\n<pre><code>public DataFetcher(D365AccessService d365AccessService, AssignmentService assignmentService, AwsSecretsManager awsSecretsManager) {\n   this.d365Service = d365Service;\n   this.assignmentService = assignmentService;\n   this.awsSecretsManager = awsSecretsManager;\n}\n</code></pre>\n<p>Thus, caching was not occurring through Spring because the service I was trying to cache wasn't connected up properly like my other services.  Through the IoC container (Inversion of Control) that Spring uses when auto-wiring classes, Spring's caching layer was proxying a <em>different</em> object instance (probably the autowired one I should have been using) and so the explicitly instantiated object never picked up.</p>\n<p><strong>RESOLUTION</strong>:  Once I added it properly to be an additional service in the constructor, and let Spring wire things up correctly, caching immediately began working as expected.  Just an oversight on my part, but annoying to chase down.  Learned my lesson.  : - )</p>\n<p>NOTE:  The beauty of frameworks like Spring, is that even though they are often opinionated frameworks, they encourage us to do things right...  resulting in a far more efficient, robust, and elegant solution at the end of the day.</p>\n"}],"owner":{"account_id":5105567,"reputation":1321,"user_id":4093727,"display_name":"Michael M"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":755,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659459460,"creation_date":1659024708,"question_id":73155965,"body_markdown":"I have a SpringBoot application to which I have been adding caching functionality. I started with REDIS as my caching provider, but the underlying caching failed to work as expected. I have therefore simplified to the default SpringBoot-provided caching, still without success.  Something is blocking caching from functioning.\r\n\r\nNOTE: I did successfully enable caching in a *separate* test application (also SpringBoot) that I built in just a few hours without any issues.  So whatever is blocking caching in my actual service application is not intuitive to me.\r\n\r\nMy initial method that I am trying to cache passes in a String representation of a URI to get back a secret from AWS.  The response is a String also.  This should be trivial for caching.\r\n\r\n*I have scoured a number of similar posts on StackOverflow, and ran through tutorials on caching using Spring&#39;s functionality, but I&#39;ve clearly missed something...*\r\n\r\n**What I&#39;ve tried**:\r\n* The URI being passed in is not dynamic, and does not change.  I have confirmed that the response is also the same.  Yet Spring is not caching it.\r\n* I have confirmed that the import statements I am using are Spring&#39;s, and should be correct.\r\n* The method I have marked as `@Cacheable` is located in a separate class\r\n* I have marked my application with the `@EnableCaching` annotation.\r\n* Created a separate Configuration class for caching, to override time to live and other functionality, but even disabling that class entirely, and moving the `@EnableCaching` annotation to my main method where my SprinBootApplication executes, does not work.\r\n\r\nFor example, here is my application&#39;s starting point:\r\n\r\n    @SpringBootApplication\r\n    @EnableCaching\r\n    @EnableAsync\r\n    public class MdhApplication {\r\n\r\n       public static void main(String[] args) {\r\n\t\t  SpringApplication.run(MdhApplication.class, args);\r\n\t   }\r\n    }\r\n\r\nI also enabled TRACE-level logging for Spring&#39;s cache package [`org.springframework.cache`], which allows me to see the following:\r\n\r\n    Adding cacheable method &#39;getSecret&#39; with attribute:\r\n       [Builder[String org.mdh.service.AwsSecretsManager.getSecret(String)] \r\n        caches=[graphSecret] | key=&#39;&#39; | keyGenerator=&#39;&#39; \r\n           | cacheManager=&#39;&#39; | cacheResolver=&#39;&#39; | condition=&#39;&#39; | unless=&#39;&#39; | sync=&#39;false&#39;]\r\n\r\nSo I know that Spring is at least auto-wiring up the correct method during startup.  Debugging my application, it is clear that Spring added the annotated method as cacheable, and showed the expected cache as having been created.\r\n\r\nThen, when testing my **test app** (where SpringBoot&#39;s caching ***does*** work), I additionally saw every trip through the service logged to my console.\r\n* As expected, the first call with a given ID couldn&#39;t be found, and it created a cache entry.\r\n* That key was found in the cache for every subsequent call using that ID, and Spring used it.\r\n\r\nHere is the additional SpringBoot Caching that I see logged in my test app, but not the actual service application I am adding caching to:\r\n\r\n    TRACE 28148 --- [nio-8080-exec-1] o.s.cache.interceptor.CacheInterceptor   : Computed cache key &#39;4&#39; for operation Builder\r\n    TRACE 28148 --- [nio-8080-exec-1] o.s.cache.interceptor.CacheInterceptor   : No cache entry for key &#39;4&#39; in cache(s) [student]\r\n    TRACE 28148 --- [nio-8080-exec-2] o.s.cache.interceptor.CacheInterceptor   : Cache entry for key &#39;4&#39; found in cache &#39;student&#39;\r\n\r\n**PROBLEM**:  Yet with my actual service, I do not see ***any*** of the additional outputs that I saw in my test app.\r\n* There are no lines logged that the cache is checked each time my method is called.\r\n* There isn&#39;t any indication that it has found the cache, nor that it is even trying to find the cache entry.\r\n* The only details about the cache is during application startup, when the Configuration class is auto-wired, and the `@Cacheable` method is loaded.\r\n\r\n\r\n**QUESTION**:  What will prevent Spring from using the cache that I have established for a method that has been marked **`@Cacheable`**?\r\n\r\nThe most obvious cause that I can think of would be calling a method marked as `@Cacheable` from another method within the same bean/class, thus preventing Spring&#39;s AOP functionality from being able to proxy the method.  But I have placed this method in a separate service class, so I don&#39;t *think* that should be a problem.\r\n\r\n**QUESTION**:  Are there any other scenarios in which I may have inadvertently defeated Spring&#39;s AOP / Proxy mechanism?\r\n\r\n*Either the issue is obscure, or it is something fundamental that I have missed.  If you have an idea of what could be causing this, please share.  :-)*","title":"SpringBoot Caching isn&#39;t caching data, although it seems to auto-wire the @Cacheable method successfully","body":"<p>I have a SpringBoot application to which I have been adding caching functionality. I started with REDIS as my caching provider, but the underlying caching failed to work as expected. I have therefore simplified to the default SpringBoot-provided caching, still without success.  Something is blocking caching from functioning.</p>\n<p>NOTE: I did successfully enable caching in a <em>separate</em> test application (also SpringBoot) that I built in just a few hours without any issues.  So whatever is blocking caching in my actual service application is not intuitive to me.</p>\n<p>My initial method that I am trying to cache passes in a String representation of a URI to get back a secret from AWS.  The response is a String also.  This should be trivial for caching.</p>\n<p><em>I have scoured a number of similar posts on StackOverflow, and ran through tutorials on caching using Spring's functionality, but I've clearly missed something...</em></p>\n<p><strong>What I've tried</strong>:</p>\n<ul>\n<li>The URI being passed in is not dynamic, and does not change.  I have confirmed that the response is also the same.  Yet Spring is not caching it.</li>\n<li>I have confirmed that the import statements I am using are Spring's, and should be correct.</li>\n<li>The method I have marked as <code>@Cacheable</code> is located in a separate class</li>\n<li>I have marked my application with the <code>@EnableCaching</code> annotation.</li>\n<li>Created a separate Configuration class for caching, to override time to live and other functionality, but even disabling that class entirely, and moving the <code>@EnableCaching</code> annotation to my main method where my SprinBootApplication executes, does not work.</li>\n</ul>\n<p>For example, here is my application's starting point:</p>\n<pre><code>@SpringBootApplication\n@EnableCaching\n@EnableAsync\npublic class MdhApplication {\n\n   public static void main(String[] args) {\n      SpringApplication.run(MdhApplication.class, args);\n   }\n}\n</code></pre>\n<p>I also enabled TRACE-level logging for Spring's cache package [<code>org.springframework.cache</code>], which allows me to see the following:</p>\n<pre><code>Adding cacheable method 'getSecret' with attribute:\n   [Builder[String org.mdh.service.AwsSecretsManager.getSecret(String)] \n    caches=[graphSecret] | key='' | keyGenerator='' \n       | cacheManager='' | cacheResolver='' | condition='' | unless='' | sync='false']\n</code></pre>\n<p>So I know that Spring is at least auto-wiring up the correct method during startup.  Debugging my application, it is clear that Spring added the annotated method as cacheable, and showed the expected cache as having been created.</p>\n<p>Then, when testing my <strong>test app</strong> (where SpringBoot's caching <em><strong>does</strong></em> work), I additionally saw every trip through the service logged to my console.</p>\n<ul>\n<li>As expected, the first call with a given ID couldn't be found, and it created a cache entry.</li>\n<li>That key was found in the cache for every subsequent call using that ID, and Spring used it.</li>\n</ul>\n<p>Here is the additional SpringBoot Caching that I see logged in my test app, but not the actual service application I am adding caching to:</p>\n<pre><code>TRACE 28148 --- [nio-8080-exec-1] o.s.cache.interceptor.CacheInterceptor   : Computed cache key '4' for operation Builder\nTRACE 28148 --- [nio-8080-exec-1] o.s.cache.interceptor.CacheInterceptor   : No cache entry for key '4' in cache(s) [student]\nTRACE 28148 --- [nio-8080-exec-2] o.s.cache.interceptor.CacheInterceptor   : Cache entry for key '4' found in cache 'student'\n</code></pre>\n<p><strong>PROBLEM</strong>:  Yet with my actual service, I do not see <em><strong>any</strong></em> of the additional outputs that I saw in my test app.</p>\n<ul>\n<li>There are no lines logged that the cache is checked each time my method is called.</li>\n<li>There isn't any indication that it has found the cache, nor that it is even trying to find the cache entry.</li>\n<li>The only details about the cache is during application startup, when the Configuration class is auto-wired, and the <code>@Cacheable</code> method is loaded.</li>\n</ul>\n<p><strong>QUESTION</strong>:  What will prevent Spring from using the cache that I have established for a method that has been marked <strong><code>@Cacheable</code></strong>?</p>\n<p>The most obvious cause that I can think of would be calling a method marked as <code>@Cacheable</code> from another method within the same bean/class, thus preventing Spring's AOP functionality from being able to proxy the method.  But I have placed this method in a separate service class, so I don't <em>think</em> that should be a problem.</p>\n<p><strong>QUESTION</strong>:  Are there any other scenarios in which I may have inadvertently defeated Spring's AOP / Proxy mechanism?</p>\n<p><em>Either the issue is obscure, or it is something fundamental that I have missed.  If you have an idea of what could be causing this, please share.  :-)</em></p>\n"},{"tags":["java","mysql","database","spring","hibernate"],"comments":[{"owner":{"account_id":71085,"reputation":105190,"user_id":205608,"accept_rate":69,"display_name":"O. Jones"},"score":0,"creation_date":1394453465,"post_id":22299689,"comment_id":33881289,"body_markdown":"Presumably you mean &quot;split into multiple servers&quot; when you say &quot;split into separate databases.&quot;","body":"Presumably you mean &quot;split into multiple servers&quot; when you say &quot;split into separate databases.&quot;"},{"owner":{"account_id":2836156,"reputation":1616,"user_id":2436738,"accept_rate":0,"display_name":"gauravmuk"},"score":0,"creation_date":1394454201,"post_id":22299689,"comment_id":33881725,"body_markdown":"i mean, i have a database named &#39;test&#39; which i want to split into 2 different databases, &#39;test1&#39; and test2&#39; The databases &#39;test1&#39; and &#39;test2&#39; will most probably be on the same server.","body":"i mean, i have a database named &#39;test&#39; which i want to split into 2 different databases, &#39;test1&#39; and test2&#39; The databases &#39;test1&#39; and &#39;test2&#39; will most probably be on the same server."}],"answers":[{"tags":[],"owner":{"account_id":3578033,"reputation":128,"user_id":2986830,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394456454,"creation_date":1394454367,"answer_id":22300087,"question_id":22299689,"body_markdown":"It sounds like you did not thought about the partition of your database.\r\nYou should read something about database normalization first: [database normalization][1]\r\n\r\nTo split the database i would export the sql code from the database, then i would make 2 new files were i copy the tables that i want to have in the specific databases. After that i would import the 2 files in the specific databases.\r\n\r\n\r\n&lt;em&gt;i think this might help u help me: lets say i want to print reports for a user. the user is persisted in &#39;user&#39; table and there is a score table which has the user score for every user_id. Now, my plan is to put the user table in one database, and score table in another database, making them two data sources. How can i handle such a scenario?&lt;/em&gt;\r\n\r\nFirst to put the tables in different databases make no sence for me and i did not know if there is a ability to make select queries with to different databases mixed.\r\n\r\nexample: SELECT score, name FROM user, score WHERE score &gt; 100 AND(score.user_id = user.user_id);\r\n\r\nI dont no if this fit with two databases i think not.\r\n\r\n\r\n\r\n  [1]: http://www.studytonight.com/dbms/database-normalization.php","title":"Splitting MySQL Database into separate databases","body":"<p>It sounds like you did not thought about the partition of your database.\nYou should read something about database normalization first: <a href=\"http://www.studytonight.com/dbms/database-normalization.php\" rel=\"nofollow\">database normalization</a></p>\n\n<p>To split the database i would export the sql code from the database, then i would make 2 new files were i copy the tables that i want to have in the specific databases. After that i would import the 2 files in the specific databases.</p>\n\n<p><em>i think this might help u help me: lets say i want to print reports for a user. the user is persisted in 'user' table and there is a score table which has the user score for every user_id. Now, my plan is to put the user table in one database, and score table in another database, making them two data sources. How can i handle such a scenario?</em></p>\n\n<p>First to put the tables in different databases make no sence for me and i did not know if there is a ability to make select queries with to different databases mixed.</p>\n\n<p>example: SELECT score, name FROM user, score WHERE score > 100 AND(score.user_id = user.user_id);</p>\n\n<p>I dont no if this fit with two databases i think not.</p>\n"},{"tags":[],"owner":{"account_id":71085,"reputation":105190,"user_id":205608,"accept_rate":69,"display_name":"O. Jones"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659458815,"creation_date":1394455669,"answer_id":22300533,"question_id":22299689,"body_markdown":"Multiple databases on the same server? That approach will probably not improve performance on its own.  RAM, fast disks, optimization, partitioning, and correct indexing will have a far greater payback.\r\n\r\nIf you have multiple databases on one server you can connect to them with a single connection, and simply use the database names with the table names in your SQL.  Transactions work fine within a single connection.\r\n\r\nTransactions across multiple connections and multiple servers are harder. There&#39;s a feature in MySQL called `XA` transactions to help handle this. But it has plenty of overhead, and is therefore most useful for high-value transactions as in banking.\r\n\r\nIn the jargon of the trade, adding servers is called &quot;scale-out.&quot;  The alternative is &quot;scale-up,&quot; in which you add more RAM, faster direct-access storage, optimization, and other stuff to a single server to get it to do more.\r\n\r\nThere are several approaches you can take to the scale-out problem. The classic one is to use MySQL to set up a single primary server with multiple load-balanced replica servers.. That&#39;s probably the path that&#39;s most often taken, so you can do it without reinventing a lot of wheels. In this solution you do all your writing to a single instance. Queries that look up data can use multiple read-only load-balanced instances.\r\n\r\nhttp://dev.mysql.com/doc/refman/5.5/en/replication-solutions-scaleout.html\r\n\r\nThis is a very popular approach where you have a mix of long-running reporting queries and short-running interactive queries. The reporting can be run on dedicated slave servers.\r\n\r\nAnother approach is multiple-primary-server replication using MySQL Cluster. https://dev.mysql.com/doc/refman/5.5/en/mysql-cluster-replication-multi-master.html\r\n\r\nAnother approach, if you have money to spend, is to go with a supported MySQL Cluster.  Oracle, MariaDB, and Percona have such products on offer. \r\n\r\nScale-out is a big job no matter how you approach it. There&#39;s some documented experience from other people who have done it.  For example, https://www.facebook.com/note.php?note_id=23844338919\r\n","title":"Splitting MySQL Database into separate databases","body":"<p>Multiple databases on the same server? That approach will probably not improve performance on its own.  RAM, fast disks, optimization, partitioning, and correct indexing will have a far greater payback.</p>\n<p>If you have multiple databases on one server you can connect to them with a single connection, and simply use the database names with the table names in your SQL.  Transactions work fine within a single connection.</p>\n<p>Transactions across multiple connections and multiple servers are harder. There's a feature in MySQL called <code>XA</code> transactions to help handle this. But it has plenty of overhead, and is therefore most useful for high-value transactions as in banking.</p>\n<p>In the jargon of the trade, adding servers is called &quot;scale-out.&quot;  The alternative is &quot;scale-up,&quot; in which you add more RAM, faster direct-access storage, optimization, and other stuff to a single server to get it to do more.</p>\n<p>There are several approaches you can take to the scale-out problem. The classic one is to use MySQL to set up a single primary server with multiple load-balanced replica servers.. That's probably the path that's most often taken, so you can do it without reinventing a lot of wheels. In this solution you do all your writing to a single instance. Queries that look up data can use multiple read-only load-balanced instances.</p>\n<p><a href=\"http://dev.mysql.com/doc/refman/5.5/en/replication-solutions-scaleout.html\" rel=\"nofollow noreferrer\">http://dev.mysql.com/doc/refman/5.5/en/replication-solutions-scaleout.html</a></p>\n<p>This is a very popular approach where you have a mix of long-running reporting queries and short-running interactive queries. The reporting can be run on dedicated slave servers.</p>\n<p>Another approach is multiple-primary-server replication using MySQL Cluster. <a href=\"https://dev.mysql.com/doc/refman/5.5/en/mysql-cluster-replication-multi-master.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/5.5/en/mysql-cluster-replication-multi-master.html</a></p>\n<p>Another approach, if you have money to spend, is to go with a supported MySQL Cluster.  Oracle, MariaDB, and Percona have such products on offer.</p>\n<p>Scale-out is a big job no matter how you approach it. There's some documented experience from other people who have done it.  For example, <a href=\"https://www.facebook.com/note.php?note_id=23844338919\" rel=\"nofollow noreferrer\">https://www.facebook.com/note.php?note_id=23844338919</a></p>\n"}],"owner":{"account_id":2836156,"reputation":1616,"user_id":2436738,"accept_rate":0,"display_name":"gauravmuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4685,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1659458815,"creation_date":1394453328,"question_id":22299689,"body_markdown":"I have a requirement that the MySQL database being used in my application is scaling very aggressively. I am in no state currently to migrate to a NoSQL Database.\r\n\r\nI have figured out the following areas where I can try splitting the current database into multiple databases:\r\n\r\n1. There are some tables which have static content, i.e. it changes barely.\r\n2. There are user tables which store the user data upon interaction which changes drastically.\r\n\r\nNow, if i split the database into two different databases, how will I handle the transaction? How will I write the Data Access Layer, will i have connections to both the databases? The application currently uses Spring &amp; Hibernate for Back End. There are calls which join the user tables and the content tables in the current schema.\r\n\r\nThe architecture follows the current structure:\r\nController -&gt; Service -&gt; DAO Layer.\r\n\r\nSo, if i am willing to refactor the DAO layer which communicates with the database, what approach should i follow? I know only about Hibernate ORM but i would be willing to letting it go if there is something better than Hibernate.\r\n","title":"Splitting MySQL Database into separate databases","body":"<p>I have a requirement that the MySQL database being used in my application is scaling very aggressively. I am in no state currently to migrate to a NoSQL Database.</p>\n\n<p>I have figured out the following areas where I can try splitting the current database into multiple databases:</p>\n\n<ol>\n<li>There are some tables which have static content, i.e. it changes barely.</li>\n<li>There are user tables which store the user data upon interaction which changes drastically.</li>\n</ol>\n\n<p>Now, if i split the database into two different databases, how will I handle the transaction? How will I write the Data Access Layer, will i have connections to both the databases? The application currently uses Spring &amp; Hibernate for Back End. There are calls which join the user tables and the content tables in the current schema.</p>\n\n<p>The architecture follows the current structure:\nController -> Service -> DAO Layer.</p>\n\n<p>So, if i am willing to refactor the DAO layer which communicates with the database, what approach should i follow? I know only about Hibernate ORM but i would be willing to letting it go if there is something better than Hibernate.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1659458787,"post_id":73210927,"comment_id":129297969,"body_markdown":"Put the initial prompt outside the loop?","body":"Put the initial prompt outside the loop?"},{"owner":{"account_id":25959538,"reputation":11,"user_id":19676380,"display_name":"akh"},"score":0,"creation_date":1659459111,"post_id":73210927,"comment_id":129298082,"body_markdown":"Oh right, then I can just prompt it again in each condition. Thanks very much","body":"Oh right, then I can just prompt it again in each condition. Thanks very much"},{"owner":{"account_id":16728691,"reputation":454,"user_id":15046415,"display_name":"Ziv Sion"},"score":0,"creation_date":1659459222,"post_id":73210927,"comment_id":129298116,"body_markdown":"Make it be a string input, check if you can parse it to int, if you get an error with ```try/catch```, print the error message and try again","body":"Make it be a string input, check if you can parse it to int, if you get an error with <code>try&#47;catch</code>, print the error message and try again"}],"owner":{"account_id":25959538,"reputation":11,"user_id":19676380,"display_name":"akh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659458814,"creation_date":1659458287,"question_id":73210927,"body_markdown":"\r\n    public static void promptGuessRound(Scanner console) {\r\n        Random rand = new Random();\r\n        int num = rand.nextInt(1000) + 1;\r\n        int input = 0;\r\n        System.out.println(&quot;The number is between 1 and 1000&quot;);\r\n        do{\r\n            try {\r\n                System.out.print(&quot;Guess the number: &quot;);\r\n                input = console.nextInt();\r\n                if (input &gt; num) {\r\n                    System.out.println(&quot;The number is lower&quot;);\r\n                } else if (input &lt; num) {\r\n                    System.out.println(&quot;The number is higher&quot;);\r\n                } else if (input &gt; 1000 || input &lt; 1) {\r\n                    System.out.print(&quot;That won&#39;t work, try again &gt; &quot;);\r\n                    console.nextInt();\r\n                }\r\n            } catch (InputMismatchException e) {\r\n                System.out.print(&quot;That won&#39;t work, try again &gt; &quot;);\r\n            }\r\n            console.nextLine();\r\n        } while (input != num);\r\n\r\n    }\r\n\r\nThis is just a sample of my code which is essentially a guessing game, but looking at the `promptGuessRound()` method, how can I provide the user with a different prompt when they enter an invalid input (either a number out of range or an input mismatch).\r\n\r\nThis is because whenever the loop restarts, it adds the original prompt after providing them with the invalid prompt. So how can I solve this problem?\r\n\r\nAdditionally, if solving the problem does not allow the Scanner to read the value that was typed in after that prompt, how can I make it do that?\r\n\r\nSample Output during one iteration in case it&#39;s not clear enough:\r\n\r\n    /*\r\n    The number is between 1 and 1000\r\n    Guess the number: p\r\n    That won&#39;t work, try again &gt; Guess the number: \r\n    */","title":"How do I provide a different prompt in Java using Scanner?","body":"<pre><code>public static void promptGuessRound(Scanner console) {\n    Random rand = new Random();\n    int num = rand.nextInt(1000) + 1;\n    int input = 0;\n    System.out.println(&quot;The number is between 1 and 1000&quot;);\n    do{\n        try {\n            System.out.print(&quot;Guess the number: &quot;);\n            input = console.nextInt();\n            if (input &gt; num) {\n                System.out.println(&quot;The number is lower&quot;);\n            } else if (input &lt; num) {\n                System.out.println(&quot;The number is higher&quot;);\n            } else if (input &gt; 1000 || input &lt; 1) {\n                System.out.print(&quot;That won't work, try again &gt; &quot;);\n                console.nextInt();\n            }\n        } catch (InputMismatchException e) {\n            System.out.print(&quot;That won't work, try again &gt; &quot;);\n        }\n        console.nextLine();\n    } while (input != num);\n\n}\n</code></pre>\n<p>This is just a sample of my code which is essentially a guessing game, but looking at the <code>promptGuessRound()</code> method, how can I provide the user with a different prompt when they enter an invalid input (either a number out of range or an input mismatch).</p>\n<p>This is because whenever the loop restarts, it adds the original prompt after providing them with the invalid prompt. So how can I solve this problem?</p>\n<p>Additionally, if solving the problem does not allow the Scanner to read the value that was typed in after that prompt, how can I make it do that?</p>\n<p>Sample Output during one iteration in case it's not clear enough:</p>\n<pre><code>/*\nThe number is between 1 and 1000\nGuess the number: p\nThat won't work, try again &gt; Guess the number: \n*/\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa","soft-delete"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659093985,"creation_date":1659093985,"answer_id":73165975,"question_id":73128829,"body_markdown":"Try adding `@Where(clause = &quot;deleted=false&quot;)` also to the collections.","title":"Hibernate soft delete queries return deleted grandchildren","body":"<p>Try adding <code>@Where(clause = &quot;deleted=false&quot;)</code> also to the collections.</p>\n"},{"tags":[],"owner":{"account_id":11349884,"reputation":11,"user_id":8321265,"display_name":"MDaigle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659458739,"creation_date":1659458739,"answer_id":73211008,"question_id":73128829,"body_markdown":"@Christian Beikov, \r\n\r\nit looks like you&#39;re correct.  The `@Where(clause = &quot;deleted=false&quot;)` works on an @OneToMany relationship, but not on an @ManyToOne.  \r\n\r\n ","title":"Hibernate soft delete queries return deleted grandchildren","body":"<p>@Christian Beikov,</p>\n<p>it looks like you're correct.  The <code>@Where(clause = &quot;deleted=false&quot;)</code> works on an @OneToMany relationship, but not on an @ManyToOne.</p>\n"}],"owner":{"account_id":11349884,"reputation":11,"user_id":8321265,"display_name":"MDaigle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":713,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659458739,"creation_date":1658863892,"question_id":73128829,"body_markdown":"In many cases in my application, I want to return a tree of data using @OneToMany and @ManyToOne relationships.  I am implementing soft delete using @SQLDelete\r\n@Where annotations.  I cannot figure out how to keep the tree from returning soft deleted grandchild objects.  \r\n\r\nFor example, my parent entity ...\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;gson_test_parent&quot;)\r\n@SQLDelete(sql = &quot;UPDATE gson_test_parent SET deleted = true, deleted_at = now() WHERE id=?&quot;)\r\n@Where(clause = &quot;deleted=false&quot;)\r\npublic class GsonTestParent extends SoftDeletableEntity {\r\n\r\n    public static final String STATUS_NEW = &quot;new&quot;;\r\n    public static final String STATUS_ACTIVE = &quot;active&quot;;\r\n    public static final String STATUS_DISABLED = &quot;disabled&quot;;\r\n\r\n    @Expose\r\n    private String name;\r\n\r\n    @Expose\r\n    @OneToMany(fetch = FetchType.EAGER, mappedBy=&quot;gsonTestParentId&quot;)\r\n    private List&lt;GsonTestParentToGsonTestChild&gt; gsonTestParentToGsonTestChild = new ArrayList&lt;&gt;();\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public List&lt;GsonTestParentToGsonTestChild&gt; getGsonTestParentToGsonTestChild() {\r\n        return gsonTestParentToGsonTestChild;\r\n    }\r\n}\r\n```\r\n\r\n... my join entity ...\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;gson_test_parent_to_gson_test_child&quot;)\r\n@SQLDelete(sql = &quot;UPDATE gson_test_parent_to_gson_test_child SET deleted = true, deleted_at = now() WHERE id=?&quot;)\r\n@Where(clause = &quot;deleted=false&quot;)\r\npublic class GsonTestParentToGsonTestChild extends SoftDeletableEntity {\r\n    public static final String STATUS_ACTIVE = &quot;active&quot;;\r\n    public static final String STATUS_DISABLED = &quot;disabled&quot;;\r\n\r\n    @Expose\r\n    private Long gsonTestParentId;\r\n\r\n    @Expose\r\n    @Transient\r\n    @GsonExcludeBackReference\r\n    private GsonTestParent gsonTestParent;\r\n\r\n    @Expose\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @Where(clause = &quot;deleted=false&quot;)\r\n    private GsonTestChild gsonTestChild;\r\n\r\n    public Long getGsonTestParentId() {\r\n        return gsonTestParentId;\r\n    }\r\n\r\n    public GsonTestParent getGsonTestParent() {\r\n        return gsonTestParent;\r\n    }\r\n\r\n    public void setGsonTestParent(GsonTestParent gsonTestParent) {\r\n        this.gsonTestParent = gsonTestParent;\r\n    }\r\n\r\n    public GsonTestChild getGsonTestChild() {\r\n        return gsonTestChild;\r\n    }\r\n}\r\n```\r\n\r\n... and the child entity ...\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;gson_test_child&quot;)\r\n@SQLDelete(sql = &quot;UPDATE gson_test_child SET deleted = true, deleted_at = now() WHERE id=?&quot;)\r\n@Where(clause = &quot;deleted=false&quot;)\r\npublic class GsonTestChild extends SoftDeletableEntity {\r\n\r\n    public static final String STATUS_NEW = &quot;new&quot;;\r\n    public static final String STATUS_ACTIVE = &quot;active&quot;;\r\n    public static final String STATUS_DISABLED = &quot;disabled&quot;;\r\n\r\n    @Expose\r\n    private String name;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\n\r\nFYI, these all extend SoftDeletableEntity, which looks like ...\r\n```\r\n@MappedSuperclass\r\npublic class SoftDeletableEntity extends BaseEntity {\r\n\r\n    public SoftDeletableEntity() {\r\n        super();\r\n    }\r\n\r\n    @Expose\r\n    protected Timestamp deletedAt;\r\n\r\n    protected Boolean deleted = Boolean.FALSE;\r\n\r\n    public Timestamp getDeletedAt() {\r\n        return deletedAt;\r\n    }\r\n\r\n    public void setDeletedAt(Timestamp deletedAt) {\r\n        this.deletedAt = deletedAt;\r\n    }\r\n\r\n    public Boolean getDeleted() {\r\n        return deleted;\r\n    }\r\n\r\n    public void setDeleted(Boolean deleted) {\r\n        this.deleted = deleted;\r\n    }\r\n}\r\n```\r\n\r\nWhen I do a find on the parent entity ...\r\n```\r\n@GetMapping(path=&quot;/{id}&quot;)\r\npublic ResponseEntity&lt;String&gt; get(@PathVariable Long id) throws BaseException {\r\n    Map&lt;String, Object&gt; responseMap = new HashMap&lt;&gt;();\r\n\r\n    GsonTestParent gsonTestParent = gsonTestParentService.find(id);\r\n    responseMap.put(&quot;action&quot;, &quot;Get&quot;);\r\n    responseMap.put(&quot;message&quot;, &quot;Entity retrieved&quot;);\r\n    responseMap.put(&quot;entityType&quot;, &quot;GsonTestParent&quot;);\r\n    responseMap.put(&quot;entity&quot;, gsonTestParent);\r\n\r\n    return responseService.success(responseMap);\r\n}\r\n```\r\n\r\n I get the child entity (grandchild) even though it is marked as deleted in the database ...\r\n\r\n```\r\n{\r\n  &quot;payload&quot;: {\r\n    &quot;entityType&quot;: &quot;GsonTestParent&quot;,\r\n    &quot;action&quot;: &quot;Get&quot;,\r\n    &quot;message&quot;: &quot;Entity retrieved&quot;,\r\n    &quot;entity&quot;: {\r\n      &quot;name&quot;: &quot;test_parent_1&quot;,\r\n      &quot;gsonTestParentToGsonTestChild&quot;: [\r\n        {\r\n          &quot;gsonTestParentId&quot;: 1,\r\n          &quot;gsonTestChild&quot;: {\r\n            &quot;name&quot;: &quot;test_child_1&quot;,\r\n            &quot;deletedAt&quot;: &quot;2022-07-26T04:31:30.000&quot;,\r\n            &quot;id&quot;: 1,\r\n            &quot;createdAt&quot;: &quot;2022-07-22T07:24:15.000&quot;,\r\n            &quot;updatedAt&quot;: &quot;2022-07-22T07:24:15.000&quot;,\r\n            &quot;status&quot;: &quot;active&quot;\r\n          },\r\n          &quot;deletedAt&quot;: null,\r\n          &quot;id&quot;: 1,\r\n          &quot;createdAt&quot;: &quot;2022-07-22T07:57:46.000&quot;,\r\n          &quot;updatedAt&quot;: &quot;2022-07-22T07:57:46.000&quot;,\r\n          &quot;status&quot;: &quot;active&quot;\r\n        }\r\n      ],\r\n      &quot;deletedAt&quot;: null,\r\n      &quot;id&quot;: 1,\r\n      &quot;createdAt&quot;: &quot;2022-07-22T07:23:15.000&quot;,\r\n      &quot;updatedAt&quot;: &quot;2022-07-22T07:23:15.000&quot;,\r\n      &quot;status&quot;: &quot;active&quot;\r\n    }\r\n  },\r\n  &quot;status&quot;: &quot;success&quot;\r\n}\r\n```\r\n\r\nThe gson_test_child record in the DB\r\n```\r\nmysql&gt; select * from gson_test_child where id = 1;\r\n+----+---------------------+---------------------+---------------------+---------+--------+--------------+\r\n| id | created_at          | updated_at          | deleted_at          | deleted | status | name         |\r\n+----+---------------------+---------------------+---------------------+---------+--------+--------------+\r\n|  1 | 2022-07-22 14:24:15 | 2022-07-22 14:24:15 | 2022-07-26 11:31:30 |       1 | active | test_child_1 |\r\n+----+---------------------+---------------------+---------------------+---------+--------+--------------+\r\n```\r\n\r\nA few comments:\r\n\r\n - I am referencing the join table explicitly, as opposed to using the @JoinTable functionality because many of the &quot;join&quot; tables in my app have other meaningful fields I want to expose.\r\n - I thought the @Where annotation on the GsonTestParentToGsonTestChild.gsonTestChild field would eliminate soft deleted children, but apparently not (or I&#39;m doing something wrong).\r\n - I know I can create explicit JOIN FETCH native queries in the repositories that will filter the deleted grandchildren, but that kind of subverts the reasons for using annotations.\r\n \r\nPlease let me know if I can provide further information.  \r\nMike","title":"Hibernate soft delete queries return deleted grandchildren","body":"<p>In many cases in my application, I want to return a tree of data using @OneToMany and @ManyToOne relationships.  I am implementing soft delete using @SQLDelete\n@Where annotations.  I cannot figure out how to keep the tree from returning soft deleted grandchild objects.</p>\n<p>For example, my parent entity ...</p>\n<pre><code>@Entity\n@Table(name = &quot;gson_test_parent&quot;)\n@SQLDelete(sql = &quot;UPDATE gson_test_parent SET deleted = true, deleted_at = now() WHERE id=?&quot;)\n@Where(clause = &quot;deleted=false&quot;)\npublic class GsonTestParent extends SoftDeletableEntity {\n\n    public static final String STATUS_NEW = &quot;new&quot;;\n    public static final String STATUS_ACTIVE = &quot;active&quot;;\n    public static final String STATUS_DISABLED = &quot;disabled&quot;;\n\n    @Expose\n    private String name;\n\n    @Expose\n    @OneToMany(fetch = FetchType.EAGER, mappedBy=&quot;gsonTestParentId&quot;)\n    private List&lt;GsonTestParentToGsonTestChild&gt; gsonTestParentToGsonTestChild = new ArrayList&lt;&gt;();\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public List&lt;GsonTestParentToGsonTestChild&gt; getGsonTestParentToGsonTestChild() {\n        return gsonTestParentToGsonTestChild;\n    }\n}\n</code></pre>\n<p>... my join entity ...</p>\n<pre><code>@Entity\n@Table(name = &quot;gson_test_parent_to_gson_test_child&quot;)\n@SQLDelete(sql = &quot;UPDATE gson_test_parent_to_gson_test_child SET deleted = true, deleted_at = now() WHERE id=?&quot;)\n@Where(clause = &quot;deleted=false&quot;)\npublic class GsonTestParentToGsonTestChild extends SoftDeletableEntity {\n    public static final String STATUS_ACTIVE = &quot;active&quot;;\n    public static final String STATUS_DISABLED = &quot;disabled&quot;;\n\n    @Expose\n    private Long gsonTestParentId;\n\n    @Expose\n    @Transient\n    @GsonExcludeBackReference\n    private GsonTestParent gsonTestParent;\n\n    @Expose\n    @ManyToOne(fetch = FetchType.EAGER)\n    @Where(clause = &quot;deleted=false&quot;)\n    private GsonTestChild gsonTestChild;\n\n    public Long getGsonTestParentId() {\n        return gsonTestParentId;\n    }\n\n    public GsonTestParent getGsonTestParent() {\n        return gsonTestParent;\n    }\n\n    public void setGsonTestParent(GsonTestParent gsonTestParent) {\n        this.gsonTestParent = gsonTestParent;\n    }\n\n    public GsonTestChild getGsonTestChild() {\n        return gsonTestChild;\n    }\n}\n</code></pre>\n<p>... and the child entity ...</p>\n<pre><code>@Entity\n@Table(name = &quot;gson_test_child&quot;)\n@SQLDelete(sql = &quot;UPDATE gson_test_child SET deleted = true, deleted_at = now() WHERE id=?&quot;)\n@Where(clause = &quot;deleted=false&quot;)\npublic class GsonTestChild extends SoftDeletableEntity {\n\n    public static final String STATUS_NEW = &quot;new&quot;;\n    public static final String STATUS_ACTIVE = &quot;active&quot;;\n    public static final String STATUS_DISABLED = &quot;disabled&quot;;\n\n    @Expose\n    private String name;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>FYI, these all extend SoftDeletableEntity, which looks like ...</p>\n<pre><code>@MappedSuperclass\npublic class SoftDeletableEntity extends BaseEntity {\n\n    public SoftDeletableEntity() {\n        super();\n    }\n\n    @Expose\n    protected Timestamp deletedAt;\n\n    protected Boolean deleted = Boolean.FALSE;\n\n    public Timestamp getDeletedAt() {\n        return deletedAt;\n    }\n\n    public void setDeletedAt(Timestamp deletedAt) {\n        this.deletedAt = deletedAt;\n    }\n\n    public Boolean getDeleted() {\n        return deleted;\n    }\n\n    public void setDeleted(Boolean deleted) {\n        this.deleted = deleted;\n    }\n}\n</code></pre>\n<p>When I do a find on the parent entity ...</p>\n<pre><code>@GetMapping(path=&quot;/{id}&quot;)\npublic ResponseEntity&lt;String&gt; get(@PathVariable Long id) throws BaseException {\n    Map&lt;String, Object&gt; responseMap = new HashMap&lt;&gt;();\n\n    GsonTestParent gsonTestParent = gsonTestParentService.find(id);\n    responseMap.put(&quot;action&quot;, &quot;Get&quot;);\n    responseMap.put(&quot;message&quot;, &quot;Entity retrieved&quot;);\n    responseMap.put(&quot;entityType&quot;, &quot;GsonTestParent&quot;);\n    responseMap.put(&quot;entity&quot;, gsonTestParent);\n\n    return responseService.success(responseMap);\n}\n</code></pre>\n<p>I get the child entity (grandchild) even though it is marked as deleted in the database ...</p>\n<pre><code>{\n  &quot;payload&quot;: {\n    &quot;entityType&quot;: &quot;GsonTestParent&quot;,\n    &quot;action&quot;: &quot;Get&quot;,\n    &quot;message&quot;: &quot;Entity retrieved&quot;,\n    &quot;entity&quot;: {\n      &quot;name&quot;: &quot;test_parent_1&quot;,\n      &quot;gsonTestParentToGsonTestChild&quot;: [\n        {\n          &quot;gsonTestParentId&quot;: 1,\n          &quot;gsonTestChild&quot;: {\n            &quot;name&quot;: &quot;test_child_1&quot;,\n            &quot;deletedAt&quot;: &quot;2022-07-26T04:31:30.000&quot;,\n            &quot;id&quot;: 1,\n            &quot;createdAt&quot;: &quot;2022-07-22T07:24:15.000&quot;,\n            &quot;updatedAt&quot;: &quot;2022-07-22T07:24:15.000&quot;,\n            &quot;status&quot;: &quot;active&quot;\n          },\n          &quot;deletedAt&quot;: null,\n          &quot;id&quot;: 1,\n          &quot;createdAt&quot;: &quot;2022-07-22T07:57:46.000&quot;,\n          &quot;updatedAt&quot;: &quot;2022-07-22T07:57:46.000&quot;,\n          &quot;status&quot;: &quot;active&quot;\n        }\n      ],\n      &quot;deletedAt&quot;: null,\n      &quot;id&quot;: 1,\n      &quot;createdAt&quot;: &quot;2022-07-22T07:23:15.000&quot;,\n      &quot;updatedAt&quot;: &quot;2022-07-22T07:23:15.000&quot;,\n      &quot;status&quot;: &quot;active&quot;\n    }\n  },\n  &quot;status&quot;: &quot;success&quot;\n}\n</code></pre>\n<p>The gson_test_child record in the DB</p>\n<pre><code>mysql&gt; select * from gson_test_child where id = 1;\n+----+---------------------+---------------------+---------------------+---------+--------+--------------+\n| id | created_at          | updated_at          | deleted_at          | deleted | status | name         |\n+----+---------------------+---------------------+---------------------+---------+--------+--------------+\n|  1 | 2022-07-22 14:24:15 | 2022-07-22 14:24:15 | 2022-07-26 11:31:30 |       1 | active | test_child_1 |\n+----+---------------------+---------------------+---------------------+---------+--------+--------------+\n</code></pre>\n<p>A few comments:</p>\n<ul>\n<li>I am referencing the join table explicitly, as opposed to using the @JoinTable functionality because many of the &quot;join&quot; tables in my app have other meaningful fields I want to expose.</li>\n<li>I thought the @Where annotation on the GsonTestParentToGsonTestChild.gsonTestChild field would eliminate soft deleted children, but apparently not (or I'm doing something wrong).</li>\n<li>I know I can create explicit JOIN FETCH native queries in the repositories that will filter the deleted grandchildren, but that kind of subverts the reasons for using annotations.</li>\n</ul>\n<p>Please let me know if I can provide further information.<br />\nMike</p>\n"},{"tags":["java","selenium","exception"],"comments":[{"owner":{"account_id":11191449,"reputation":195,"user_id":13622520,"display_name":"rick"},"score":0,"creation_date":1659155610,"post_id":73168077,"comment_id":129231471,"body_markdown":"Not an expert but this exception is available in python selenium 4. So should be available in java too","body":"Not an expert but this exception is available in python selenium 4. So should be available in java too"},{"owner":{"account_id":17948426,"reputation":65,"user_id":13042127,"display_name":"rlw182"},"score":0,"creation_date":1659297877,"post_id":73168077,"comment_id":129256043,"body_markdown":"Hmm, I wonder why it&#39;s not resolving. I&#39;m wondering if I&#39;m missing a dependency or something?","body":"Hmm, I wonder why it&#39;s not resolving. I&#39;m wondering if I&#39;m missing a dependency or something?"}],"answers":[{"tags":[],"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1659458529,"creation_date":1659458150,"answer_id":73210900,"question_id":73168077,"body_markdown":"Since release 4.1.3, the method ```ElementNotVisibleException()``` has been removed from ***selenium/java/src/org/openqa/selenium***\r\n\r\nSee [v4.1.2][1], where the classes ```ElementNotVisibleException``` &amp; ```ElementNotSelectableException``` exist.  \r\n\r\nSee [v4.1.3][2], where the aforementioned classes have been removed.  \r\n\r\nThis is due to the following:  \r\n&gt;Selenium 4 is more strict regarding W3C WebDriver, and W3C WebDriver has nothing to say about visibility at this point. If an element is not visible, the driver in W3C mode should return a ElementNotInteractableException\r\n\r\nSo methods using the ```ElementNotVisibleException.java``` class will have to be updated to use ```ElementNotInteractableException.java```\r\n\r\nConfirmation here: [[&#128027; Bug]: ElementNotVisibleException class is not found in selenium 4.1.3. Getting compilation issues saying ElementNotVisibleException not found\r\n#10538][3]\r\n\r\n**Example:**  \r\n```java\r\nimport org.openqa.selenium.ElementNotVisibleException;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.support.ui.Select;\r\n\r\npublic void selectUpload(String uploadType) throws Exception {\r\n\r\n\tWebElement dropdown = driver.findElement(By.xpath(&quot;//select[contains(@name,&#39;uploadFileResultsInput&#39;)]&quot;));\r\n\r\n\tint timeout = 0;\r\n\tException finalException = null;\r\n\twhile (timeout &lt; 5000) {\r\n\t\ttry {\r\n\t\t\tnew Select(dropdown).selectByVisibleText(uploadType);\r\n\t\t\treturn;\r\n\t\t} catch (ElementNotVisibleException e) {\r\n\t\t\tfinalException = e;\r\n\t\t}\r\n\t\tThread.sleep(500);\r\n\t\ttimeout += 500;\r\n\t}\r\n\tthrow finalException;\r\n}\r\n```\r\n\r\nto\r\n\r\n```java\r\nimport org.openqa.selenium.ElementNotInteractableException;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.support.ui.Select;\r\n\r\npublic void selectUpload(String uploadType) throws Exception {\r\n\r\n\tWebElement dropdown = driver.findElement(By.xpath(&quot;//select[contains(@name,&#39;uploadFileResultsInput&#39;)]&quot;));\r\n\r\n\tint timeout = 0;\r\n\tException finalException = null;\r\n\twhile (timeout &lt; 5000) {\r\n\t\ttry {\r\n\t\t\tnew Select(dropdown).selectByVisibleText(uploadType);\r\n\t\t\treturn;\r\n\t\t} catch (ElementNotInteractableException e) {\r\n\t\t\tfinalException = e;\r\n\t\t}\r\n\t\tThread.sleep(500);\r\n\t\ttimeout += 500;\r\n\t}\r\n\tthrow finalException;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/SeleniumHQ/selenium/tree/selenium-4.1.2-java/java/src/org/openqa/selenium\r\n  [2]: https://github.com/SeleniumHQ/selenium/tree/selenium-4.1.3-java/java/src/org/openqa/selenium\r\n  [3]: https://github.com/SeleniumHQ/selenium/issues/10538","title":"ElementNotVisibleException not available in Selenium 4","body":"<p>Since release 4.1.3, the method <code>ElementNotVisibleException()</code> has been removed from <em><strong>selenium/java/src/org/openqa/selenium</strong></em></p>\n<p>See <a href=\"https://github.com/SeleniumHQ/selenium/tree/selenium-4.1.2-java/java/src/org/openqa/selenium\" rel=\"nofollow noreferrer\">v4.1.2</a>, where the classes <code>ElementNotVisibleException</code> &amp; <code>ElementNotSelectableException</code> exist.</p>\n<p>See <a href=\"https://github.com/SeleniumHQ/selenium/tree/selenium-4.1.3-java/java/src/org/openqa/selenium\" rel=\"nofollow noreferrer\">v4.1.3</a>, where the aforementioned classes have been removed.</p>\n<p>This is due to the following:</p>\n<blockquote>\n<p>Selenium 4 is more strict regarding W3C WebDriver, and W3C WebDriver has nothing to say about visibility at this point. If an element is not visible, the driver in W3C mode should return a ElementNotInteractableException</p>\n</blockquote>\n<p>So methods using the <code>ElementNotVisibleException.java</code> class will have to be updated to use <code>ElementNotInteractableException.java</code></p>\n<p>Confirmation here: <a href=\"https://github.com/SeleniumHQ/selenium/issues/10538\" rel=\"nofollow noreferrer\">[🐛 Bug]: ElementNotVisibleException class is not found in selenium 4.1.3. Getting compilation issues saying ElementNotVisibleException not found\n#10538</a></p>\n<p><strong>Example:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.openqa.selenium.ElementNotVisibleException;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.ui.Select;\n\npublic void selectUpload(String uploadType) throws Exception {\n\n    WebElement dropdown = driver.findElement(By.xpath(&quot;//select[contains(@name,'uploadFileResultsInput')]&quot;));\n\n    int timeout = 0;\n    Exception finalException = null;\n    while (timeout &lt; 5000) {\n        try {\n            new Select(dropdown).selectByVisibleText(uploadType);\n            return;\n        } catch (ElementNotVisibleException e) {\n            finalException = e;\n        }\n        Thread.sleep(500);\n        timeout += 500;\n    }\n    throw finalException;\n}\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.openqa.selenium.ElementNotInteractableException;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.ui.Select;\n\npublic void selectUpload(String uploadType) throws Exception {\n\n    WebElement dropdown = driver.findElement(By.xpath(&quot;//select[contains(@name,'uploadFileResultsInput')]&quot;));\n\n    int timeout = 0;\n    Exception finalException = null;\n    while (timeout &lt; 5000) {\n        try {\n            new Select(dropdown).selectByVisibleText(uploadType);\n            return;\n        } catch (ElementNotInteractableException e) {\n            finalException = e;\n        }\n        Thread.sleep(500);\n        timeout += 500;\n    }\n    throw finalException;\n}\n</code></pre>\n"}],"owner":{"account_id":17948426,"reputation":65,"user_id":13042127,"display_name":"rlw182"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2794,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73210900,"answer_count":1,"score":1,"last_activity_date":1659458529,"creation_date":1659110622,"question_id":73168077,"body_markdown":"I have some methods that are used to wait for an element to display, and in the try/catch for these methods, the catch is: \r\n```\r\nthrow new ElementNotVisibleException()\r\n```\r\nI&#39;m upgrading from Selenium 2.53 to Selenium 4, and ElementNotVisibleException() seems to not be available in Selenium 4. What should I replace it with? Is ElementNotInteractableException a suitable replacement?","title":"ElementNotVisibleException not available in Selenium 4","body":"<p>I have some methods that are used to wait for an element to display, and in the try/catch for these methods, the catch is:</p>\n<pre><code>throw new ElementNotVisibleException()\n</code></pre>\n<p>I'm upgrading from Selenium 2.53 to Selenium 4, and ElementNotVisibleException() seems to not be available in Selenium 4. What should I replace it with? Is ElementNotInteractableException a suitable replacement?</p>\n"},{"tags":["java","spring-data-r2dbc","r2dbc"],"answers":[{"tags":[],"owner":{"account_id":11719268,"reputation":1687,"user_id":8578684,"display_name":"snap"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659458225,"creation_date":1659458225,"answer_id":73210913,"question_id":73210329,"body_markdown":"&gt; How can I insert the entity name in a query when using R2DBC?\r\n\r\nShort answer, you don&#39;t.\r\n\r\nR2DBC don&#39;t have the concept of entities in the same sense as JPA does.\r\nYou write native queries when you write queries for R2DBC.\r\n\r\nSo, it&#39;s not JPQL and therefore the query language don&#39;t have any concept of an entity representation from your code.\r\n\r\nHowever the repository still supports an auto mapping from your database resulting column information per row to a list of (data) objects. That&#39;s the reason why it works when you replace your entity name with the table name.","title":"Get the Entity name in a generic R2dbcRepository","body":"<blockquote>\n<p>How can I insert the entity name in a query when using R2DBC?</p>\n</blockquote>\n<p>Short answer, you don't.</p>\n<p>R2DBC don't have the concept of entities in the same sense as JPA does.\nYou write native queries when you write queries for R2DBC.</p>\n<p>So, it's not JPQL and therefore the query language don't have any concept of an entity representation from your code.</p>\n<p>However the repository still supports an auto mapping from your database resulting column information per row to a list of (data) objects. That's the reason why it works when you replace your entity name with the table name.</p>\n"}],"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73210913,"answer_count":1,"score":0,"last_activity_date":1659458225,"creation_date":1659455196,"question_id":73210329,"body_markdown":"I would like to generate a query with my `R2dbcRepository`. In `Spring Data JPA` the documentation says to use `#{#entityName}` to get an `Entity` if a repository is generic, however I can&#39;t find the equivalent in `R2DBC`.\r\n\r\nI&#39;m using a H2 in memory database: `r2dbc:h2:mem:///~/db/testdb`\r\n\r\n\r\n**R2dbcRepository**\r\n```\r\npublic interface UUIDRepository&lt;Model, IdType&gt; extends R2dbcRepository&lt;Model, IdType&gt; {\r\n\r\n    Mono&lt;Model&gt; findByIdAndUserUUID(Long id, UUID uuid);\r\n\r\n    @Query(&quot;SELECT * FROM #{#entityName} WHERE model.id = :id AND (model.user_uuid = :uuid OR model.user_uuid IS NULL)&quot;)\r\n    Mono&lt;Model&gt; findByIdAndUserUUIDOrUserUUIDIsNull(@Param(&quot;id&quot;) Long id, @Param(&quot;uuid&quot;) UUID uuid);\r\n}\r\n```\r\n\r\n**Exception**\r\n```\r\nCaused by: io.r2dbc.spi.R2dbcBadGrammarException: [42000] [42000] Syntax error in SQL statement &quot;FROM [*]#{#entityName} model WHERE model.id = $1 AND (model.user_uuid = $2 OR model.user_uuid IS NULL)&quot;; SQL statement:\r\n```\r\n\r\nI know the syntax for the rest of the query is correct as if I replace `#{#entityName}` with a table name it works fine. \r\n\r\nHow can I insert the entity name in a query when using `R2DBC`? ","title":"Get the Entity name in a generic R2dbcRepository","body":"<p>I would like to generate a query with my <code>R2dbcRepository</code>. In <code>Spring Data JPA</code> the documentation says to use <code>#{#entityName}</code> to get an <code>Entity</code> if a repository is generic, however I can't find the equivalent in <code>R2DBC</code>.</p>\n<p>I'm using a H2 in memory database: <code>r2dbc:h2:mem:///~/db/testdb</code></p>\n<p><strong>R2dbcRepository</strong></p>\n<pre><code>public interface UUIDRepository&lt;Model, IdType&gt; extends R2dbcRepository&lt;Model, IdType&gt; {\n\n    Mono&lt;Model&gt; findByIdAndUserUUID(Long id, UUID uuid);\n\n    @Query(&quot;SELECT * FROM #{#entityName} WHERE model.id = :id AND (model.user_uuid = :uuid OR model.user_uuid IS NULL)&quot;)\n    Mono&lt;Model&gt; findByIdAndUserUUIDOrUserUUIDIsNull(@Param(&quot;id&quot;) Long id, @Param(&quot;uuid&quot;) UUID uuid);\n}\n</code></pre>\n<p><strong>Exception</strong></p>\n<pre><code>Caused by: io.r2dbc.spi.R2dbcBadGrammarException: [42000] [42000] Syntax error in SQL statement &quot;FROM [*]#{#entityName} model WHERE model.id = $1 AND (model.user_uuid = $2 OR model.user_uuid IS NULL)&quot;; SQL statement:\n</code></pre>\n<p>I know the syntax for the rest of the query is correct as if I replace <code>#{#entityName}</code> with a table name it works fine.</p>\n<p>How can I insert the entity name in a query when using <code>R2DBC</code>?</p>\n"},{"tags":["java","workflow","aem"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1642114511,"post_id":70606688,"comment_id":124992895,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":25959490,"reputation":1,"user_id":19676335,"display_name":"riv3rmak3r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659457631,"creation_date":1659457631,"answer_id":73210797,"question_id":70606688,"body_markdown":"Check the error.log file. If an error/exception occurred, AEM workflows would be run repeatedly. As a best practise, once the execution is finished, terminate the workflow in finally block.","title":"Workflow triggered on replication event listener looping itself in AEM","body":"<p>Check the error.log file. If an error/exception occurred, AEM workflows would be run repeatedly. As a best practise, once the execution is finished, terminate the workflow in finally block.</p>\n"}],"owner":{"account_id":10835939,"reputation":1,"user_id":7968933,"display_name":"Mrinalini Alakananda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659457631,"creation_date":1641469907,"question_id":70606688,"body_markdown":"I have a workflow in AEM 6.5 that is triggered from java code on replication event listener, but the issue is my workflow has a process step which activates page after review from participant step. This activation again calls my workflow since its a replication event. How to prevent this? Is there a better approach or any workaround?","title":"Workflow triggered on replication event listener looping itself in AEM","body":"<p>I have a workflow in AEM 6.5 that is triggered from java code on replication event listener, but the issue is my workflow has a process step which activates page after review from participant step. This activation again calls my workflow since its a replication event. How to prevent this? Is there a better approach or any workaround?</p>\n"},{"tags":["java","linux","fedora","install4j","jdownloader"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1659425842,"post_id":73203598,"comment_id":129285556,"body_markdown":"_&quot;Could not initialize class java.awt.Toolkit&quot;_ indicates you&#39;re running in a headless/non-graphic environment, while this installer - judging by the stacktrace - tries to launch a GUI.","body":"<i>&quot;Could not initialize class java.awt.Toolkit&quot;</i> indicates you&#39;re running in a headless/non-graphic environment, while this installer - judging by the stacktrace - tries to launch a GUI."},{"owner":{"account_id":4517331,"reputation":183,"user_id":3671760,"display_name":"Shift and Shiftine"},"score":0,"creation_date":1659426070,"post_id":73203598,"comment_id":129285624,"body_markdown":"Are you currently using the headless version of JRE/JDK (e.g. `java-11-openjdk-headless` instead of `java-11-openjdk`) before? AWT itself is a Java GUI component which cannot always be run in headless mode.","body":"Are you currently using the headless version of JRE/JDK (e.g. <code>java-11-openjdk-headless</code> instead of <code>java-11-openjdk</code>) before? AWT itself is a Java GUI component which cannot always be run in headless mode."},{"owner":{"account_id":22186576,"reputation":21,"user_id":16429393,"display_name":"Ace"},"score":0,"creation_date":1659430180,"post_id":73203598,"comment_id":129287036,"body_markdown":"I dont think so\nusing `java -version` it gives this output\n`openjdk version &quot;17.0.4&quot; 2022-07-19\nOpenJDK Runtime Environment (Red_Hat-17.0.4.0.8-1.fc36) (build 17.0.4+8)\nOpenJDK 64-Bit Server VM (Red_Hat-17.0.4.0.8-1.fc36) (build 17.0.4+8, mixed mode, sharing)`\nor if it is can you share the correct command to get normal JDK version","body":"I dont think so using <code>java -version</code> it gives this output <code>openjdk version &quot;17.0.4&quot; 2022-07-19 OpenJDK Runtime Environment (Red_Hat-17.0.4.0.8-1.fc36) (build 17.0.4+8) OpenJDK 64-Bit Server VM (Red_Hat-17.0.4.0.8-1.fc36) (build 17.0.4+8, mixed mode, sharing)</code> or if it is can you share the correct command to get normal JDK version"},{"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"score":0,"creation_date":1659437699,"post_id":73203598,"comment_id":129289695,"body_markdown":"A headless JRE is also able to use java.awt.Color, it just cannot display any windows. In this case, the stacktrace shows that it&#39;s not a headless JRE, because Color:277 will not be executed in headless mode. It looks like the JRE is somehow broken.","body":"A headless JRE is also able to use java.awt.Color, it just cannot display any windows. In this case, the stacktrace shows that it&#39;s not a headless JRE, because Color:277 will not be executed in headless mode. It looks like the JRE is somehow broken."},{"owner":{"account_id":22186576,"reputation":21,"user_id":16429393,"display_name":"Ace"},"score":1,"creation_date":1659456292,"post_id":73203598,"comment_id":129297045,"body_markdown":"So as Ingo said, it was my JRE being broken. I removed my old version and installed OpenJDK 18 and it worked now. So thanks @IngoKegel and everyone.","body":"So as Ingo said, it was my JRE being broken. I removed my old version and installed OpenJDK 18 and it worked now. So thanks @IngoKegel and everyone."}],"owner":{"account_id":22186576,"reputation":21,"user_id":16429393,"display_name":"Ace"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":950,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1659456558,"creation_date":1659425491,"question_id":73203598,"body_markdown":"Running the executable file (.sh) from terminal gives this output \r\n```none\r\n[akash@fedora Downloads]$ ./JDownloader2Setup_unix_nojre.sh\r\nStarting Installer ...\r\njava.lang.NoClassDefFoundError: Could not initialize class java.awt.Toolkit\r\n\tat java.desktop/java.awt.Color.&lt;clinit&gt;(Color.java:277)\r\n\tat com.install4j.runtime.installer.frontend.GUIHelper.&lt;clinit&gt;(GUIHelper.java:46)\r\n\tat com.install4j.runtime.installer.helper.InstallerUtil.reportException(InstallerUtil.java:1327)\r\n\tat com.install4j.runtime.installer.Installer.main(Installer.java:48)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat com.exe4j.runtime.LauncherEngine.launch(LauncherEngine.java:84)\r\n\tat com.install4j.runtime.launcher.UnixLauncher.start(UnixLauncher.java:69)\r\n\tat install4j.Installer378667612.main(Unknown Source)\r\n```\r\n\r\nI don&#39;t know if there is any other output I have to send since I am still pretty new to Linux.\r\n\r\n-------------------------------------------------------------------\r\nIf anyone else got same error. Just remove your JRE/JDK and install it again.\r\n\r\nNote- It might remove some other apps like libreoffice and stuff, so save files and make backups.","title":"I have been trying to install Jdownloader2 on fedora linux but keep getting NoClassDefFoundError","body":"<p>Running the executable file (.sh) from terminal gives this output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[akash@fedora Downloads]$ ./JDownloader2Setup_unix_nojre.sh\nStarting Installer ...\njava.lang.NoClassDefFoundError: Could not initialize class java.awt.Toolkit\n    at java.desktop/java.awt.Color.&lt;clinit&gt;(Color.java:277)\n    at com.install4j.runtime.installer.frontend.GUIHelper.&lt;clinit&gt;(GUIHelper.java:46)\n    at com.install4j.runtime.installer.helper.InstallerUtil.reportException(InstallerUtil.java:1327)\n    at com.install4j.runtime.installer.Installer.main(Installer.java:48)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at com.exe4j.runtime.LauncherEngine.launch(LauncherEngine.java:84)\n    at com.install4j.runtime.launcher.UnixLauncher.start(UnixLauncher.java:69)\n    at install4j.Installer378667612.main(Unknown Source)\n</code></pre>\n<p>I don't know if there is any other output I have to send since I am still pretty new to Linux.</p>\n<hr />\n<p>If anyone else got same error. Just remove your JRE/JDK and install it again.</p>\n<p>Note- It might remove some other apps like libreoffice and stuff, so save files and make backups.</p>\n"},{"tags":["java","recursion"],"answers":[{"tags":[],"owner":{"account_id":12074213,"reputation":164,"user_id":8828382,"display_name":"Zhiyuan-Amos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1555738438,"creation_date":1555737323,"answer_id":55770475,"question_id":55770345,"body_markdown":"```java\r\nstatic int[] addr(int a[],int i,int n)\r\n{\r\n    if (i==0)\r\n        addr(a,i+1,n); // buggy\r\n    if (i==n-1)\r\n    {\r\n        a[i] = a[i]+a[i-1];\r\n        return a;\r\n    }\r\n\r\n    // code executed after if (i==0) block returns\r\n    a[i] = a[i] + a[i-1];\r\n    addr(a,i+1,n);\r\n    return a;\r\n}\r\n```\r\n\r\nAs there is no `return a;` inside the `if (i==0)` block, the subsequent code block will be executed. Since the value of i is 0, `a[i-1]` is equivalent to `a[-1]`, which results in an `ArrayOutOfBoundsException` being thrown.\r\n\r\nYou can resolve this by: \r\n\r\n1. Adding a `return a;` inside the `if (i==0)` block.\r\n\r\n2. Having the main function to call this recursive function with i = 1. That way, you can remove the `if (i==0)` block.\r\n\r\n---\r\n\r\nSince Java arrays are [pass-by-reference](https://stackoverflow.com/a/12757860/8828382), you actually don&#39;t need to return the array.\r\n\r\n```java\r\nclass kr1\r\n{\r\n    public static void main(String[] args) {\r\n        int a[]= {5,1,3,9,5};\r\n        addr (a,0,a.length);\r\n        for (int i:a)\r\n            System.out.print (i +&quot; &quot;);\r\n    }\r\n\r\n    static void addr(int a[],int i,int n)\r\n    {\r\n        if (i==0)\r\n            addr(a,i+1,n);\r\n            return;\r\n        if (i==n-1)\r\n        {\r\n            a[i] = a[i]+a[i-1];\r\n            return;\r\n        }\r\n        a[i] = a[i] + a[i-1];\r\n        addr(a,i+1,n);\r\n    }\r\n   }\r\n```\r\n\r\nThat would make the code more readable.","title":"How to fix the execution of this recursion code?","body":"<pre class=\"lang-java prettyprint-override\"><code>static int[] addr(int a[],int i,int n)\n{\n    if (i==0)\n        addr(a,i+1,n); // buggy\n    if (i==n-1)\n    {\n        a[i] = a[i]+a[i-1];\n        return a;\n    }\n\n    // code executed after if (i==0) block returns\n    a[i] = a[i] + a[i-1];\n    addr(a,i+1,n);\n    return a;\n}\n</code></pre>\n\n<p>As there is no <code>return a;</code> inside the <code>if (i==0)</code> block, the subsequent code block will be executed. Since the value of i is 0, <code>a[i-1]</code> is equivalent to <code>a[-1]</code>, which results in an <code>ArrayOutOfBoundsException</code> being thrown.</p>\n\n<p>You can resolve this by: </p>\n\n<ol>\n<li><p>Adding a <code>return a;</code> inside the <code>if (i==0)</code> block.</p></li>\n<li><p>Having the main function to call this recursive function with i = 1. That way, you can remove the <code>if (i==0)</code> block.</p></li>\n</ol>\n\n<hr>\n\n<p>Since Java arrays are <a href=\"https://stackoverflow.com/a/12757860/8828382\">pass-by-reference</a>, you actually don't need to return the array.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class kr1\n{\n    public static void main(String[] args) {\n        int a[]= {5,1,3,9,5};\n        addr (a,0,a.length);\n        for (int i:a)\n            System.out.print (i +\" \");\n    }\n\n    static void addr(int a[],int i,int n)\n    {\n        if (i==0)\n            addr(a,i+1,n);\n            return;\n        if (i==n-1)\n        {\n            a[i] = a[i]+a[i-1];\n            return;\n        }\n        a[i] = a[i] + a[i-1];\n        addr(a,i+1,n);\n    }\n   }\n</code></pre>\n\n<p>That would make the code more readable.</p>\n"},{"tags":[],"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659455983,"creation_date":1555737520,"answer_id":55770491,"question_id":55770345,"body_markdown":"The problem is the first conditional,\r\n\r\n    if (i==0)\r\n        addr(a,i+1,n);\r\n\r\nHere, `addr` is called recursively, but after the call returns, execution continues on down to the end of the function and the line `a[i] = a[i] + a[i-1];` throws an AIOOBE at `a[-1]`. The fix is:\r\n\r\n    if (i==0)\r\n        return addr(a,i+1,n);\r\n\r\nwhich prevents the rest of the function from executing.\r\n\r\nHaving said that, I&#39;d like to suggest the following simplification:\r\n\r\n```java\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        var res = addr(new int[] {5, 1, 3, 9, 5}, 1);\r\n        System.out.println(java.util.Arrays.toString(res));\r\n    }\r\n\r\n    static int[] addr(int a[], int i) {\r\n        if (i &lt; a.length) {\r\n            a[i] += a[i-1];\r\n            return addr(a, i + 1);\r\n        }\r\n\r\n        return a;\r\n    }\r\n}\r\n```\r\n\r\nSince this is an in-place algorithm, I suggest making it void:\r\n\r\n```java\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        var a = new int[] {5, 1, 3, 9, 5};\r\n        addr(a, 1);\r\n        System.out.println(java.util.Arrays.toString(a));\r\n    }\r\n\r\n    static void addr(int a[], int i) {\r\n        if (i &lt; a.length) {\r\n            a[i] += a[i-1];\r\n            addr(a, i + 1);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWriting a wrapper that handles the easy-to-mess-up 1 index for the initial call is wise.\r\n\r\nTaking a step back, the problem is actually a poor fit for recursion in languages that don&#39;t provide tail call optimization because the call stack grows linearly in proportion to the input. That means you&#39;ll overflow the stack for medium-sized arrays of a few thousand elements. The best approach is to use a loop.","title":"How to fix the execution of this recursion code?","body":"<p>The problem is the first conditional,</p>\n<pre><code>if (i==0)\n    addr(a,i+1,n);\n</code></pre>\n<p>Here, <code>addr</code> is called recursively, but after the call returns, execution continues on down to the end of the function and the line <code>a[i] = a[i] + a[i-1];</code> throws an AIOOBE at <code>a[-1]</code>. The fix is:</p>\n<pre><code>if (i==0)\n    return addr(a,i+1,n);\n</code></pre>\n<p>which prevents the rest of the function from executing.</p>\n<p>Having said that, I'd like to suggest the following simplification:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Main {\n    public static void main(String[] args) {\n        var res = addr(new int[] {5, 1, 3, 9, 5}, 1);\n        System.out.println(java.util.Arrays.toString(res));\n    }\n\n    static int[] addr(int a[], int i) {\n        if (i &lt; a.length) {\n            a[i] += a[i-1];\n            return addr(a, i + 1);\n        }\n\n        return a;\n    }\n}\n</code></pre>\n<p>Since this is an in-place algorithm, I suggest making it void:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Main {\n    public static void main(String[] args) {\n        var a = new int[] {5, 1, 3, 9, 5};\n        addr(a, 1);\n        System.out.println(java.util.Arrays.toString(a));\n    }\n\n    static void addr(int a[], int i) {\n        if (i &lt; a.length) {\n            a[i] += a[i-1];\n            addr(a, i + 1);\n        }\n    }\n}\n</code></pre>\n<p>Writing a wrapper that handles the easy-to-mess-up 1 index for the initial call is wise.</p>\n<p>Taking a step back, the problem is actually a poor fit for recursion in languages that don't provide tail call optimization because the call stack grows linearly in proportion to the input. That means you'll overflow the stack for medium-sized arrays of a few thousand elements. The best approach is to use a loop.</p>\n"},{"tags":[],"owner":{"account_id":4885235,"reputation":1691,"user_id":3937903,"accept_rate":86,"display_name":"oziomajnr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555737527,"creation_date":1555737527,"answer_id":55770492,"question_id":55770345,"body_markdown":"    static int[] addr(int a[],int i,int n)\r\n    {\r\n        if (i==0)\r\n            return addr(a,i+1,n);\r\n        if (i==n-1)\r\n        {\r\n            a[i] = a[i]+a[i-1];\r\n            return a ; //this return statement is not executing\r\n        }\r\n        //this below part is executing even if i has reached to n-1\r\n        a[i] = a[i] + a[i-1];\r\n       return addr(a,i+1,n);\r\n    }\r\n\r\nIn recursion when recalling the function, you should return the value of the function call, you didn&#39;t do that. So I just added a return to the recalling functions and it worked. Also, check your algorithm, it fails when the length if the array is one, you could add a simple check to ensure that when the array size is 1 or zero the array is returned back and no manipulation is done to the array. Cheers.","title":"How to fix the execution of this recursion code?","body":"<pre><code>static int[] addr(int a[],int i,int n)\n{\n    if (i==0)\n        return addr(a,i+1,n);\n    if (i==n-1)\n    {\n        a[i] = a[i]+a[i-1];\n        return a ; //this return statement is not executing\n    }\n    //this below part is executing even if i has reached to n-1\n    a[i] = a[i] + a[i-1];\n   return addr(a,i+1,n);\n}\n</code></pre>\n\n<p>In recursion when recalling the function, you should return the value of the function call, you didn't do that. So I just added a return to the recalling functions and it worked. Also, check your algorithm, it fails when the length if the array is one, you could add a simple check to ensure that when the array size is 1 or zero the array is returned back and no manipulation is done to the array. Cheers.</p>\n"},{"tags":[],"owner":{"account_id":3033520,"reputation":166,"user_id":2572080,"display_name":"Pythoscorpion"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555738068,"creation_date":1555738068,"answer_id":55770546,"question_id":55770345,"body_markdown":"just change this part of your code\r\n\r\n \r\n\r\n    if (i==0)\r\n        addr(a,i+1,n);\r\nto this one\r\n \r\n\r\n    if (i==0){\r\n         addr(a,i+1,n);\r\n         return a;\r\n    }\r\n\r\n","title":"How to fix the execution of this recursion code?","body":"<p>just change this part of your code</p>\n\n<pre><code>if (i==0)\n    addr(a,i+1,n);\n</code></pre>\n\n<p>to this one</p>\n\n<pre><code>if (i==0){\n     addr(a,i+1,n);\n     return a;\n}\n</code></pre>\n"}],"owner":{"account_id":13655889,"reputation":53,"user_id":9852403,"display_name":"vrnvav97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1659455983,"creation_date":1555735663,"question_id":55770345,"body_markdown":"In this basic array problem, I need to add the sum or the value of the previous index of the array to the current index value using recursion.\r\n\r\nFor example, `{5,3,1,2}` becomes `{5,8,9,11}`.\r\n\r\nSince the 0th index is the first index so it remains as it is.\r\n\r\nI think my code is correct but instruction pointer is not flowing according to my dry run and the return statement (for the base condition) is not executing. Since I have my code in Java, after adding try-catch I&#39;m getting output as expected. But adding try-catch is not the solution.\r\n\r\n    class kr1\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint a[]= {5,1,3,9,5};\r\n    \t\ta=addr (a,0,a.length);\r\n    \t\tfor (int i:a)\r\n    \t\t\tSystem.out.print (i +&quot; &quot;);\r\n    \t}\r\n    \r\n    \tstatic int[] addr(int a[],int i,int n)\r\n    \t{\r\n    \t\tif (i==0)\r\n    \t\t\taddr(a,i+1,n);\r\n    \t\tif (i==n-1)\r\n    \t\t{\r\n    \t\t\ta[i] = a[i]+a[i-1];\r\n    \t\t\treturn a ; //this return statement is not executing\r\n    \t\t}\r\n                 //this below part is executing even if i has reached to n-1\r\n    \t\ta[i] = a[i] + a[i-1];\r\n    \t\taddr(a,i+1,n);\r\n    \t\treturn a;\r\n    \t}\r\n       }\r\n","title":"How to fix the execution of this recursion code?","body":"<p>In this basic array problem, I need to add the sum or the value of the previous index of the array to the current index value using recursion.</p>\n\n<p>For example, <code>{5,3,1,2}</code> becomes <code>{5,8,9,11}</code>.</p>\n\n<p>Since the 0th index is the first index so it remains as it is.</p>\n\n<p>I think my code is correct but instruction pointer is not flowing according to my dry run and the return statement (for the base condition) is not executing. Since I have my code in Java, after adding try-catch I'm getting output as expected. But adding try-catch is not the solution.</p>\n\n<pre><code>class kr1\n{\n    public static void main(String[] args) {\n        int a[]= {5,1,3,9,5};\n        a=addr (a,0,a.length);\n        for (int i:a)\n            System.out.print (i +\" \");\n    }\n\n    static int[] addr(int a[],int i,int n)\n    {\n        if (i==0)\n            addr(a,i+1,n);\n        if (i==n-1)\n        {\n            a[i] = a[i]+a[i-1];\n            return a ; //this return statement is not executing\n        }\n             //this below part is executing even if i has reached to n-1\n        a[i] = a[i] + a[i-1];\n        addr(a,i+1,n);\n        return a;\n    }\n   }\n</code></pre>\n"},{"tags":["java","angular","spring-boot","rest","get-mapping"],"comments":[{"owner":{"account_id":5868390,"reputation":19929,"user_id":4621513,"accept_rate":77,"display_name":"mkrieger1"},"score":0,"creation_date":1659455310,"post_id":73210313,"comment_id":129296711,"body_markdown":"How do you know that the spaces are removed?","body":"How do you know that the spaces are removed?"},{"owner":{"account_id":20973295,"reputation":39,"user_id":15409956,"display_name":"student"},"score":0,"creation_date":1659455379,"post_id":73210313,"comment_id":129296739,"body_markdown":"I can see while debugging and also I am getting some null values in my data because of that.","body":"I can see while debugging and also I am getting some null values in my data because of that."}],"answers":[{"tags":[],"owner":{"account_id":11222708,"reputation":589,"user_id":8233361,"display_name":"Claudio Weiler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659455638,"creation_date":1659455638,"answer_id":73210424,"question_id":73210313,"body_markdown":"You need to encode your `value` content.\r\n\r\nThis can be accomplished with encodeURIComponent:\r\n- https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent\r\n\r\nThis will encode spaces, and other special characters, with an escape sequence.","title":"I don&#39;t want to remove trailing spaces while passing an array as request param in API endpoint. How should I do that?","body":"<p>You need to encode your <code>value</code> content.</p>\n<p>This can be accomplished with encodeURIComponent:</p>\n<ul>\n<li><a href=\"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent</a></li>\n</ul>\n<p>This will encode spaces, and other special characters, with an escape sequence.</p>\n"}],"owner":{"account_id":20973295,"reputation":39,"user_id":15409956,"display_name":"student"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73210424,"answer_count":1,"score":-1,"last_activity_date":1659455638,"creation_date":1659455139,"question_id":73210313,"body_markdown":"I am creating an array of strings in angular and am sending that array to an API endpoint as a request parameter. Below is the code for that. \r\n\r\nHowever, when the list is passed in java API endpoint the trailing spaces are removed and I do NOT want to remove that. for example, if the list is [&#39;hello   &#39;, &#39;world               &#39;] then I want to pass it as is to API. Instead of that in this below code, it is getting passed as [&#39;hello&#39;,&#39;world&#39;]   \r\n\r\nCan anyone help me with that?\r\n\r\nAngular :\r\n```\r\n    const lst: any=[];\r\n      for(let i=0;i&lt;data.length;i++){\r\n        lst.push(data[i][0]);\r\n      }\r\n xlst=await this.getdatafromAPI(lst);\r\n\r\ngetdatafromAPI(value:[])\r\n  {\r\n    const header = this.servicename.getHeader();\r\n    this.servicename.addForwardUrlInHeader(header, this.URL+ &#39;?param=&#39; + value );\r\n    return fetch(\r\n      this.URL,\r\n      header\r\n    ).then(response =&gt;\r\n    {\r\n      if (response.status === 200)\r\n      {\r\n        return response.json();\r\n      } else\r\n      {\r\n        console.log(&#39;Unable To Get lst&#39;);\r\n      }\r\n    });\r\n  }\r\n```\r\nAPI endpoint\r\n```\r\n\t@GetMapping(value=&quot;/api/xyz&quot;)\r\n\tpublic ResponseEntity&lt;List&lt;abc&gt;&gt; getDatafromDb(@RequestParam List&lt;String&gt; lst){\r\n\r\n\t\tList&lt;abc&gt; newarrlst=new ArrayList&lt;&gt;();\r\n\t\ttry\r\n\t\t{\r\n\t\t\tfor(int i=0;i&lt;lst.size();i++){\r\n\t\t\t\tabc obj=new abc();\r\n\t\t\t\tString propvalue=lst.get(i);\r\n\t\t\t\tobj.setproperty1(propvalue);\r\n\t\t\t\tobj.setproperty1(map.get(propvalue)); // I already have a map from where I am getting values\r\n\t\t\t\tnewarrlst.add(obj);\r\n\t\t\t}\r\n```","title":"I don&#39;t want to remove trailing spaces while passing an array as request param in API endpoint. How should I do that?","body":"<p>I am creating an array of strings in angular and am sending that array to an API endpoint as a request parameter. Below is the code for that.</p>\n<p>However, when the list is passed in java API endpoint the trailing spaces are removed and I do NOT want to remove that. for example, if the list is ['hello   ', 'world               '] then I want to pass it as is to API. Instead of that in this below code, it is getting passed as ['hello','world']</p>\n<p>Can anyone help me with that?</p>\n<p>Angular :</p>\n<pre><code>    const lst: any=[];\n      for(let i=0;i&lt;data.length;i++){\n        lst.push(data[i][0]);\n      }\n xlst=await this.getdatafromAPI(lst);\n\ngetdatafromAPI(value:[])\n  {\n    const header = this.servicename.getHeader();\n    this.servicename.addForwardUrlInHeader(header, this.URL+ '?param=' + value );\n    return fetch(\n      this.URL,\n      header\n    ).then(response =&gt;\n    {\n      if (response.status === 200)\n      {\n        return response.json();\n      } else\n      {\n        console.log('Unable To Get lst');\n      }\n    });\n  }\n</code></pre>\n<p>API endpoint</p>\n<pre><code>    @GetMapping(value=&quot;/api/xyz&quot;)\n    public ResponseEntity&lt;List&lt;abc&gt;&gt; getDatafromDb(@RequestParam List&lt;String&gt; lst){\n\n        List&lt;abc&gt; newarrlst=new ArrayList&lt;&gt;();\n        try\n        {\n            for(int i=0;i&lt;lst.size();i++){\n                abc obj=new abc();\n                String propvalue=lst.get(i);\n                obj.setproperty1(propvalue);\n                obj.setproperty1(map.get(propvalue)); // I already have a map from where I am getting values\n                newarrlst.add(obj);\n            }\n</code></pre>\n"},{"tags":["java","json","spring","spring-mvc","jackson"],"comments":[{"owner":{"account_id":3675763,"reputation":1288,"user_id":3061903,"accept_rate":55,"display_name":"Vishal Maral"},"score":0,"creation_date":1538293027,"post_id":19444855,"comment_id":92086883,"body_markdown":"you also get a slightly different error if you have not set `Content type=application/json`","body":"you also get a slightly different error if you have not set <code>Content type=application&#47;json</code>"},{"owner":{"account_id":5827564,"reputation":87,"user_id":4593331,"display_name":"Pratik Chaudhari"},"score":0,"creation_date":1611728730,"post_id":19444855,"comment_id":116540912,"body_markdown":"There can be an issue with Jackson Deserializer. Refer [Link](https://stackoverflow.com/questions/50563593/content-type-application-jsoncharset-utf-8-not-supported-in-spring-rest-app/65913777#65913777)","body":"There can be an issue with Jackson Deserializer. Refer <a href=\"https://stackoverflow.com/questions/50563593/content-type-application-jsoncharset-utf-8-not-supported-in-spring-rest-app/65913777#65913777\">Link</a>"},{"owner":{"account_id":5827564,"reputation":87,"user_id":4593331,"display_name":"Pratik Chaudhari"},"score":0,"creation_date":1611728877,"post_id":19444855,"comment_id":116540947,"body_markdown":"There can be issue due to having multiple getters of field. Refer [Link](https://stackoverflow.com/a/65913777/4593331)","body":"There can be issue due to having multiple getters of field. Refer <a href=\"https://stackoverflow.com/a/65913777/4593331\">Link</a>"}],"answers":[{"tags":[],"owner":{"account_id":1800275,"reputation":2596,"user_id":1638798,"display_name":"Thibaut"},"down_vote_count":0,"up_vote_count":86,"is_accepted":false,"score":86,"last_activity_date":1471349686,"creation_date":1382084521,"answer_id":19444874,"question_id":19444855,"body_markdown":"I found solution.\nIt&#39;s was because I had 2 setter with same name but different type.\n\nMy class had *id* property int that I replaced with Integer when &#224; Hibernitify my object.\n\nBut apparently, I forgot to remove setters and I had :\n\n    /**\n     * @param id\n     *            the id to set\n     */\n    public void setId(int id) {\n        this.id = id;\n    }\n    \n    /**\n     * @param id\n     *            the id to set\n     */\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\nWhen I removed this setter, rest resquest work very well.\n\nIntead to throw unmarshalling error or reflect class error. Exception HttpMediaTypeNotSupportedException seams really strange here.\n\nI hope this stackoverflow could be help someone else.\n\n### SIDE NOTE\nYou can check your **Spring server** console for the following error message:\n\n&gt;  Failed to evaluate Jackson deserialization for type [simple type,\n&gt; class your.package.ClassName]:\n&gt; com.fasterxml.jackson.databind.JsonMappingException: Conflicting\n&gt; setter definitions for property &quot;propertyname&quot;\n\nThen you can be sure you are dealing with the issue mentioned above.","title":"Spring Rest POST Json RequestBody Content type not supported","body":"<p>I found solution.\nIt's was because I had 2 setter with same name but different type.</p>\n<p>My class had <em>id</em> property int that I replaced with Integer when à Hibernitify my object.</p>\n<p>But apparently, I forgot to remove setters and I had :</p>\n<pre><code>/**\n * @param id\n *            the id to set\n */\npublic void setId(int id) {\n    this.id = id;\n}\n\n/**\n * @param id\n *            the id to set\n */\npublic void setId(Integer id) {\n    this.id = id;\n}\n</code></pre>\n<p>When I removed this setter, rest resquest work very well.</p>\n<p>Intead to throw unmarshalling error or reflect class error. Exception HttpMediaTypeNotSupportedException seams really strange here.</p>\n<p>I hope this stackoverflow could be help someone else.</p>\n<h3>SIDE NOTE</h3>\n<p>You can check your <strong>Spring server</strong> console for the following error message:</p>\n<blockquote>\n<p>Failed to evaluate Jackson deserialization for type [simple type,\nclass your.package.ClassName]:\ncom.fasterxml.jackson.databind.JsonMappingException: Conflicting\nsetter definitions for property &quot;propertyname&quot;</p>\n</blockquote>\n<p>Then you can be sure you are dealing with the issue mentioned above.</p>\n"},{"tags":[],"owner":{"account_id":3695897,"reputation":441,"user_id":3077252,"accept_rate":0,"display_name":"Reza Shahbazi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1411546433,"creation_date":1411546433,"answer_id":26011838,"question_id":19444855,"body_markdown":"Really! after spending 4 hours and insane debugging I found this very strange code at com.fasterxml.jackson.databind.deser.DeserializerCache\r\n\r\n    if (deser == null) {\r\n        try {\r\n            deser = _createAndCacheValueDeserializer(ctxt, factory, type);\r\n        } catch (Exception e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\nYa, the problem was double setter.","title":"Spring Rest POST Json RequestBody Content type not supported","body":"<p>Really! after spending 4 hours and insane debugging I found this very strange code at com.fasterxml.jackson.databind.deser.DeserializerCache</p>\n\n<pre><code>if (deser == null) {\n    try {\n        deser = _createAndCacheValueDeserializer(ctxt, factory, type);\n    } catch (Exception e) {\n        return false;\n    }\n}\n</code></pre>\n\n<p>Ya, the problem was double setter.</p>\n"},{"tags":[],"owner":{"account_id":3909836,"reputation":1046,"user_id":3235513,"accept_rate":83,"display_name":"alvgarvilla"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1450793181,"creation_date":1450793181,"answer_id":34417678,"question_id":19444855,"body_markdown":"Be aware also if you have declared getters and setters for attributes of the parameter which are not sent in the POST (event if they are not declared in the constructor), for example:\r\n\r\n   \t@RestController\r\n\tpublic class TestController {\r\n\t\r\n\t    @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.POST)\r\n\t    public String test(@RequestBody BeanTest beanTest) {\r\n\t        return &quot;Hello &quot; + beanTest.getName();\r\n\t    }\r\n\t\r\n\t\r\n\t\tpublic static class BeanTest {\r\n\t\t\t\r\n\t\t\tprivate Long id;\r\n\t\t\tprivate String name;\r\n\t\t\t\r\n\t\t\tpublic BeanTest() {\r\n\t\t\t}\r\n\t\t\r\n\t\t\tpublic BeanTest(Long id) {\r\n\t\t\t\tthis.id = id;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tpublic Long getId() {\r\n\t\t\t\treturn id;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tpublic void setId(Long id) {\r\n\t\t\t\tthis.id = id;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tpublic String getName() {\r\n\t\t\t\treturn name;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tpublic void setName(String name) {\r\n\t\t\t\tthis.name = name;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nA post request with the next structure: {&quot;id&quot;:&quot;1&quot;} would not work, you must delete name get and set.","title":"Spring Rest POST Json RequestBody Content type not supported","body":"<p>Be aware also if you have declared getters and setters for attributes of the parameter which are not sent in the POST (event if they are not declared in the constructor), for example:</p>\n\n<pre><code>@RestController\npublic class TestController {\n\n    @RequestMapping(value = \"/test\", method = RequestMethod.POST)\n    public String test(@RequestBody BeanTest beanTest) {\n        return \"Hello \" + beanTest.getName();\n    }\n\n\n    public static class BeanTest {\n\n        private Long id;\n        private String name;\n\n        public BeanTest() {\n        }\n\n        public BeanTest(Long id) {\n            this.id = id;\n        }\n\n        public Long getId() {\n            return id;\n        }\n\n        public void setId(Long id) {\n            this.id = id;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n    }\n}\n</code></pre>\n\n<p>A post request with the next structure: {\"id\":\"1\"} would not work, you must delete name get and set.</p>\n"},{"tags":[],"owner":{"account_id":7693030,"reputation":186,"user_id":5828613,"display_name":"Kartheek Mannepalli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1460065672,"creation_date":1460065672,"answer_id":36487825,"question_id":19444855,"body_markdown":"I had the same issue when I had two setters one with Enum and one String. I had to use @JsonSetter annotation which tells Jackson what setter method to use during serialization. This solved my issue.","title":"Spring Rest POST Json RequestBody Content type not supported","body":"<p>I had the same issue when I had two setters one with Enum and one String. I had to use @JsonSetter annotation which tells Jackson what setter method to use during serialization. This solved my issue.</p>\n"},{"tags":[],"owner":{"account_id":3010724,"reputation":1929,"user_id":2554328,"accept_rate":71,"display_name":"Serge Tah&#233;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466079010,"creation_date":1466079010,"answer_id":37858827,"question_id":19444855,"body_markdown":"I met the same problem which i solved by deserializing myself the posted value :\r\n\r\n    @RequestMapping(value = &quot;/arduinos/commands/{idArduino}&quot;, method = RequestMethod.POST, produces = MediaType.APPLICATION_JSON_VALUE, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n    @ResponseBody\r\n    public String sendCommandesJson(@PathVariable(&quot;idArduino&quot;) String idArduino, HttpServletRequest request) throws IOException {\r\n        // getting the posted value\r\n        String body = CharStreams.toString(request.getReader());\r\n        List&lt;ArduinoCommand&gt; commandes = new ObjectMapper().readValue(body, new TypeReference&lt;List&lt;ArduinoCommand&gt;&gt;() {\r\n        });\r\n\r\nwith theses gradle dependencies :\r\n\r\n      compile(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n      compile(&#39;com.google.guava:guava:16.0.1&#39;)\r\n\r\n\r\n","title":"Spring Rest POST Json RequestBody Content type not supported","body":"<p>I met the same problem which i solved by deserializing myself the posted value :</p>\n\n<pre><code>@RequestMapping(value = \"/arduinos/commands/{idArduino}\", method = RequestMethod.POST, produces = MediaType.APPLICATION_JSON_VALUE, consumes = MediaType.APPLICATION_JSON_VALUE)\n@ResponseBody\npublic String sendCommandesJson(@PathVariable(\"idArduino\") String idArduino, HttpServletRequest request) throws IOException {\n    // getting the posted value\n    String body = CharStreams.toString(request.getReader());\n    List&lt;ArduinoCommand&gt; commandes = new ObjectMapper().readValue(body, new TypeReference&lt;List&lt;ArduinoCommand&gt;&gt;() {\n    });\n</code></pre>\n\n<p>with theses gradle dependencies :</p>\n\n<pre><code>  compile('org.springframework.boot:spring-boot-starter-web')\n  compile('com.google.guava:guava:16.0.1')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1111912,"reputation":171,"user_id":1102230,"display_name":"osoitza"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466510814,"creation_date":1466510814,"answer_id":37943984,"question_id":19444855,"body_markdown":"In my case I had two Constructors in the bean and I had the same error. I have just deleted one of them  and now the issue is fixed!","title":"Spring Rest POST Json RequestBody Content type not supported","body":"<p>In my case I had two Constructors in the bean and I had the same error. I have just deleted one of them  and now the issue is fixed!</p>\n"},{"tags":[],"owner":{"account_id":477917,"reputation":4706,"user_id":889688,"display_name":"user_CC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1477000899,"creation_date":1477000533,"answer_id":40165187,"question_id":19444855,"body_markdown":"So I had a similar issue where I had a bean with some overloaded constructor. This bean also had Optional properties.\r\n\r\nTo resolve that I just removed the overloaded constructors and it worked.\r\n\r\nexample:\r\n\r\n    public class Bean{\r\n\r\n    Optional&lt;String&gt; string;\r\n    Optional&lt;AnotherClass&gt; object;\r\n    \r\n    public Bean(Optional&lt;String&gt; str, Optional&lt;AnotherClass&gt; obj){\r\n    string = str;\r\n    object = obj;\r\n    }\r\n    \r\n    ///The problem was below constructor\r\n    \r\n    public Bean(Optional&lt;String&gt; str){\r\n    string = str;\r\n    object = Optional.empty();\r\n    }\r\n    \r\n    \r\n    \r\n    }\r\n    \r\n    }","title":"Spring Rest POST Json RequestBody Content type not supported","body":"<p>So I had a similar issue where I had a bean with some overloaded constructor. This bean also had Optional properties.</p>\n\n<p>To resolve that I just removed the overloaded constructors and it worked.</p>\n\n<p>example:</p>\n\n<pre><code>public class Bean{\n\nOptional&lt;String&gt; string;\nOptional&lt;AnotherClass&gt; object;\n\npublic Bean(Optional&lt;String&gt; str, Optional&lt;AnotherClass&gt; obj){\nstring = str;\nobject = obj;\n}\n\n///The problem was below constructor\n\npublic Bean(Optional&lt;String&gt; str){\nstring = str;\nobject = Optional.empty();\n}\n\n\n\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2011953,"reputation":455,"user_id":1800181,"accept_rate":56,"display_name":"Mader Levap"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1531836463,"creation_date":1495189343,"answer_id":44067538,"question_id":19444855,"body_markdown":"If you use lombok, you can get that error if you screw up naming of @JsonDeserialize, for example:\r\n\r\n    @Value\r\n    @Builder(toBuilder = true)\r\n    @JsonDeserialize(builder = SomeClass.SomeOtherClassBuilder.class)\r\n    public class SomeClass {\r\n        ...\r\n        public static class SomeOtherClassBuilder {\r\n            ...\r\n        }\r\n    }\r\n\r\nIt should be:\r\n\r\n    @Value\r\n    @Builder(toBuilder = true)\r\n    @JsonDeserialize(builder = SomeClass.SomeClassBuilder.class)\r\n    public class SomeClass {\r\n        ...\r\n        public static class SomeClassBuilder {\r\n            ...\r\n        }\r\n    }\r\n\r\nIt is very easy to do that when you do refactoring of class name and forget about Builder... and then you have many hours of joy while you search for reason of error, while having as help only extremely unhelpful exception message.","title":"Spring Rest POST Json RequestBody Content type not supported","body":"<p>If you use lombok, you can get that error if you screw up naming of @JsonDeserialize, for example:</p>\n\n<pre><code>@Value\n@Builder(toBuilder = true)\n@JsonDeserialize(builder = SomeClass.SomeOtherClassBuilder.class)\npublic class SomeClass {\n    ...\n    public static class SomeOtherClassBuilder {\n        ...\n    }\n}\n</code></pre>\n\n<p>It should be:</p>\n\n<pre><code>@Value\n@Builder(toBuilder = true)\n@JsonDeserialize(builder = SomeClass.SomeClassBuilder.class)\npublic class SomeClass {\n    ...\n    public static class SomeClassBuilder {\n        ...\n    }\n}\n</code></pre>\n\n<p>It is very easy to do that when you do refactoring of class name and forget about Builder... and then you have many hours of joy while you search for reason of error, while having as help only extremely unhelpful exception message.</p>\n"},{"tags":[],"owner":{"account_id":4038953,"reputation":991,"user_id":3322358,"display_name":"Aborn Jiang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519735512,"creation_date":1519735512,"answer_id":49009052,"question_id":19444855,"body_markdown":"try to add jackson dependency\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.3&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;","title":"Spring Rest POST Json RequestBody Content type not supported","body":"<p>try to add jackson dependency</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;version&gt;2.9.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n        &lt;version&gt;2.9.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.9.3&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":422488,"reputation":942,"user_id":801300,"accept_rate":40,"display_name":"Dapper Dan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523370771,"creation_date":1523370771,"answer_id":49756331,"question_id":19444855,"body_markdown":"\r\nIt looks an old thread, but in case someone  still struggles, I have solved as Thibaut said it, \r\n\r\nAvoid having two setter POJO class, I had two-setters for a specific property ,  The first one was in the regular setter and another one in under constructor after I removed the one in the constructor it worked.\r\n ","title":"Spring Rest POST Json RequestBody Content type not supported","body":"<p>It looks an old thread, but in case someone  still struggles, I have solved as Thibaut said it, </p>\n\n<p>Avoid having two setter POJO class, I had two-setters for a specific property ,  The first one was in the regular setter and another one in under constructor after I removed the one in the constructor it worked.</p>\n"},{"tags":[],"owner":{"account_id":14602209,"reputation":11,"user_id":10546206,"display_name":"Kiran Kumar A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542016046,"creation_date":1542015286,"answer_id":53259312,"question_id":19444855,"body_markdown":"specify @JsonProperty in entity class constructor like this.\r\n    \r\n    ......\r\n    ......\r\n    ......\r\n    \r\n     @JsonCreator\r\n     public Location(@JsonProperty(&quot;sl_no&quot;) Long sl_no, \r\n              @JsonProperty(&quot;location&quot;)String location,\r\n              @JsonProperty(&quot;location_type&quot;) String \r\n              location_type,@JsonProperty(&quot;store_sl_no&quot;)Long store_sl_no) {\r\n      this.sl_no = sl_no;\r\n      this.location = location;\r\n      this.location_type = location_type;\r\n      this.store_sl_no = store_sl_no;\r\n     } \r\n    .......\r\n    .......\r\n    .......","title":"Spring Rest POST Json RequestBody Content type not supported","body":"<p>specify @JsonProperty in entity class constructor like this.</p>\n\n<pre><code>......\n......\n......\n\n @JsonCreator\n public Location(@JsonProperty(\"sl_no\") Long sl_no, \n          @JsonProperty(\"location\")String location,\n          @JsonProperty(\"location_type\") String \n          location_type,@JsonProperty(\"store_sl_no\")Long store_sl_no) {\n  this.sl_no = sl_no;\n  this.location = location;\n  this.location_type = location_type;\n  this.store_sl_no = store_sl_no;\n } \n.......\n.......\n.......\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542639874,"creation_date":1542639874,"answer_id":53377404,"question_id":19444855,"body_markdown":"I had the same issue. Root cause was using custom deserializer without default constructor.","title":"Spring Rest POST Json RequestBody Content type not supported","body":"<p>I had the same issue. Root cause was using custom deserializer without default constructor.</p>\n"},{"tags":[],"owner":{"account_id":10132103,"reputation":666,"user_id":7485073,"display_name":"Pramuditha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571650136,"creation_date":1571650136,"answer_id":58483438,"question_id":19444855,"body_markdown":"I had the same issue when I used this as a foreign key.\r\n\r\n    @JsonBackReference\r\n    @ManyToOne(cascade = {CascadeType.PERSIST, CascadeType.DETACH},fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n\r\nThen I removed `@JsonBackReference` annotation. After that above issue was fixed. ","title":"Spring Rest POST Json RequestBody Content type not supported","body":"<p>I had the same issue when I used this as a foreign key.</p>\n\n<pre><code>@JsonBackReference\n@ManyToOne(cascade = {CascadeType.PERSIST, CascadeType.DETACH},fetch = FetchType.EAGER)\n@JoinColumn(name = \"user_id\")\nprivate User user;\n</code></pre>\n\n<p>Then I removed <code>@JsonBackReference</code> annotation. After that above issue was fixed. </p>\n"},{"tags":[],"owner":{"account_id":3688652,"reputation":89,"user_id":3071832,"display_name":"Qutory"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572961394,"creation_date":1572961394,"answer_id":58712617,"question_id":19444855,"body_markdown":"I had this problem when using java 9+ modules. I had to `open` the module in order for the `com.fasterxml.jackson.databind` to access the objects with reflection. Alternatively you could only open the package where the models are located if you have one.","title":"Spring Rest POST Json RequestBody Content type not supported","body":"<p>I had this problem when using java 9+ modules. I had to <code>open</code> the module in order for the <code>com.fasterxml.jackson.databind</code> to access the objects with reflection. Alternatively you could only open the package where the models are located if you have one.</p>\n"},{"tags":[],"owner":{"account_id":5827564,"reputation":87,"user_id":4593331,"display_name":"Pratik Chaudhari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611742302,"creation_date":1611729933,"answer_id":65914104,"question_id":19444855,"body_markdown":"For the case where there are 2 getters for the same property, the deserializer fails Refer [Link][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/65913777/4593331","title":"Spring Rest POST Json RequestBody Content type not supported","body":"<p>For the case where there are 2 getters for the same property, the deserializer fails Refer <a href=\"https://stackoverflow.com/a/65913777/4593331\">Link</a></p>\n"},{"tags":[],"owner":{"account_id":19114960,"reputation":508,"user_id":14438633,"display_name":"Gilad Dahan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629899519,"creation_date":1629899519,"answer_id":68924208,"question_id":19444855,"body_markdown":"In my case my function in the controller was annotated like this:\r\n\r\n```\r\n @PatchMapping(path = &quot;/{machineGroupName}&quot;, consumes = &quot;application/json-patch+json&quot;)\r\n```\r\n\r\nOnce I removed the &quot;Consumes&quot; parameter it worked.","title":"Spring Rest POST Json RequestBody Content type not supported","body":"<p>In my case my function in the controller was annotated like this:</p>\n<pre><code> @PatchMapping(path = &quot;/{machineGroupName}&quot;, consumes = &quot;application/json-patch+json&quot;)\n</code></pre>\n<p>Once I removed the &quot;Consumes&quot; parameter it worked.</p>\n"},{"tags":[],"owner":{"account_id":4018615,"reputation":2239,"user_id":3309799,"accept_rate":33,"display_name":"Chris Neve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659455538,"creation_date":1659455538,"answer_id":73210398,"question_id":19444855,"body_markdown":"Just adding request header \r\n\r\n&gt; Content-Type: application/json\r\n\r\n worked for me.","title":"Spring Rest POST Json RequestBody Content type not supported","body":"<p>Just adding request header</p>\n<blockquote>\n<p>Content-Type: application/json</p>\n</blockquote>\n<p>worked for me.</p>\n"}],"owner":{"account_id":1800275,"reputation":2596,"user_id":1638798,"display_name":"Thibaut"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150419,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"answer_count":17,"score":70,"last_activity_date":1659455538,"creation_date":1382084462,"question_id":19444855,"body_markdown":"When I try to post new object with post method. RequestBody could not recognize contentType. Spring is already configured and POST could work with others objects, but not this specific one.\r\n\r\n\r\n    org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;application/json;charset=UTF-8&#39; not supported\r\n\r\nIf I try the same request just changing requestbody object. It works.\r\n\r\n","title":"Spring Rest POST Json RequestBody Content type not supported","body":"<p>When I try to post new object with post method. RequestBody could not recognize contentType. Spring is already configured and POST could work with others objects, but not this specific one.</p>\n\n<pre><code>org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'application/json;charset=UTF-8' not supported\n</code></pre>\n\n<p>If I try the same request just changing requestbody object. It works.</p>\n"},{"tags":["java","spring-cloud","netflix-feign","spring-cloud-feign","feign"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1540580714,"post_id":53014224,"comment_id":92933371,"body_markdown":"Have the team providing the rest api you&#39;re trying to use fix their json.","body":"Have the team providing the rest api you&#39;re trying to use fix their json."}],"answers":[{"tags":[],"owner":{"account_id":9900639,"reputation":3505,"user_id":7330758,"display_name":"ibexit"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1596502241,"creation_date":1540580520,"answer_id":53014869,"question_id":53014224,"body_markdown":"I see three options:\r\n\r\n1. Customize your client with [custom configuration][1] and provide your own Decoder which will handle the crazy response ;) Extend [ResponseEntityDecoder][2] and add your special response treatment.\r\n\r\n2. Change the method signature to return feign.Response and handle it by yourself:\r\n\r\n&gt;     @FeignClient(name = &quot;employeeclient&quot;, url = &quot;https://internel.omnesys.org&quot;)\r\n&gt;     public interface EmployeeServiceClient {\r\n&gt;       @RequestMapping(method = RequestMethod.GET, value = &quot;/v1/employees&quot;)\r\n&gt;       feign.Response getEmployeeDetails();\r\n&gt;     }\r\n\r\n3. Similar to the second option: Change your method signature to return String. After cleaning the resulting String you&#39;ll be able to map the json to your classes by jackson etc.\r\n\r\nPlease note: for 2. and 3., there will be no error handling at all and you should take care of this\r\n\r\n\r\nAlso consider adding a adapter if not choosing the first option to hide the parsing and exception handling and ensuring the current method signature.\r\n\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-netflix/multi/multi_spring-cloud-feign.html#spring-cloud-feign-overriding-defaults\r\n  [2]: https://github.com/spring-cloud/spring-cloud-openfeign/blob/master/spring-cloud-openfeign-core/src/main/java/org/springframework/cloud/openfeign/support/ResponseEntityDecoder.java\r\n","title":"Feign Client not able to convert the response json to Java Object because of invalid character in the beginning","body":"<p>I see three options:</p>\n<ol>\n<li><p>Customize your client with <a href=\"https://cloud.spring.io/spring-cloud-netflix/multi/multi_spring-cloud-feign.html#spring-cloud-feign-overriding-defaults\" rel=\"nofollow noreferrer\">custom configuration</a> and provide your own Decoder which will handle the crazy response ;) Extend <a href=\"https://github.com/spring-cloud/spring-cloud-openfeign/blob/master/spring-cloud-openfeign-core/src/main/java/org/springframework/cloud/openfeign/support/ResponseEntityDecoder.java\" rel=\"nofollow noreferrer\">ResponseEntityDecoder</a> and add your special response treatment.</p>\n</li>\n<li><p>Change the method signature to return feign.Response and handle it by yourself:</p>\n</li>\n</ol>\n<blockquote>\n<pre><code>@FeignClient(name = &quot;employeeclient&quot;, url = &quot;https://internel.omnesys.org&quot;)\npublic interface EmployeeServiceClient {\n  @RequestMapping(method = RequestMethod.GET, value = &quot;/v1/employees&quot;)\n  feign.Response getEmployeeDetails();\n}\n</code></pre>\n</blockquote>\n<ol start=\"3\">\n<li>Similar to the second option: Change your method signature to return String. After cleaning the resulting String you'll be able to map the json to your classes by jackson etc.</li>\n</ol>\n<p>Please note: for 2. and 3., there will be no error handling at all and you should take care of this</p>\n<p>Also consider adding a adapter if not choosing the first option to hide the parsing and exception handling and ensuring the current method signature.</p>\n"},{"tags":[],"owner":{"account_id":493879,"reputation":93,"user_id":4949979,"display_name":"iem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659455022,"creation_date":1659455022,"answer_id":73210289,"question_id":53014224,"body_markdown":"This method saved me from tears, I added it to the config class of the Feignclient :\r\n\r\n@Bean\r\npublic Encoder feignEncoder(){\r\n\r\nHttpMessageConverter jacksonConverter = new MappingJackson2HttpMessageConverter(customObjectMapper());\r\n\r\nObjectFactory&lt;HttpMessageConverters&gt; objectFactory = () -&gt; new HttpMessageConverters(jacksonConverter);\r\n       \r\nreturn new SpringEncoder(objectFactory);\r\n}\r\n[![enter image description here][1]][1]\r\n  \r\nhope it will help u to.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZemN9.png","title":"Feign Client not able to convert the response json to Java Object because of invalid character in the beginning","body":"<p>This method saved me from tears, I added it to the config class of the Feignclient :</p>\n<p>@Bean\npublic Encoder feignEncoder(){</p>\n<p>HttpMessageConverter jacksonConverter = new MappingJackson2HttpMessageConverter(customObjectMapper());</p>\n<p>ObjectFactory objectFactory = () -&gt; new HttpMessageConverters(jacksonConverter);</p>\n<p>return new SpringEncoder(objectFactory);\n}\n<a href=\"https://i.stack.imgur.com/ZemN9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZemN9.png\" alt=\"enter image description here\" /></a></p>\n<p>hope it will help u to.</p>\n"}],"owner":{"account_id":3938317,"reputation":4776,"user_id":3253853,"accept_rate":66,"display_name":"Alex Man"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20087,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53014869,"answer_count":2,"score":1,"last_activity_date":1659455022,"creation_date":1540577629,"question_id":53014224,"body_markdown":"I have created a Feign client EmployeeServiceClient.java like as shown below\r\n\r\n**EmployeeServiceClient.java**\r\n\r\n    @FeignClient(name = &quot;employeeclient&quot;, url = &quot;https://internel.omnesys.org&quot;)\r\n    public interface EmployeeServiceClient {\r\n        @RequestMapping(method = RequestMethod.GET, value = &quot;/v1/employees&quot;)\r\n        List&lt;EmployeeDetails&gt; getEmployeeDetails();\r\n    }\r\n\r\n**EmployeeDetails.java**\r\n\r\n    public class EmployeeDetails {\r\n      private Employee employee;\r\n      private String empId;\r\n      // getters and setters\r\n    }\r\n\r\n**Employee.java**\r\n\r\n    public class Employee {\r\n      private String name;\r\n      private String firstName;\r\n      private String lastName;\r\n      private String city;\r\n      // getters and setters\r\n    }\r\n\r\nThe service \r\nhttps://internel.omnesys.org/v1/employees (this is a intranet REST service managed by a different team) gives me a response life as shown below\r\n\r\n    )}]&#39;,\r\n    [{&quot;employee&quot;:{&quot;name&quot;:&quot;Emp1&quot;,&quot;firstName&quot;:&quot;firstName1&quot;,&quot;lastName&quot;:&quot;lastName1&quot;,&quot;city&quot;:&quot;city1&quot;},&quot;empId&quot;:&quot;empId123&quot;},{&quot;employee&quot;:{&quot;name&quot;:&quot;Emp2&quot;,&quot;firstName&quot;:&quot;firstName2&quot;,&quot;lastName&quot;:&quot;lastName2&quot;,&quot;city&quot;:&quot;city2&quot;},&quot;empId&quot;:&quot;empId456&quot;}]\r\n\r\nI am getting feign exception because the service response contains an additional `)}]&#39;,` in the starting\r\n\r\nI have asked the service team to remove those invalid characters but they said it is not possible to remove it since it was been placed purposely for some other requirement and have asked me to handle it from our end.\r\n\r\nCan anyone please help me on this","title":"Feign Client not able to convert the response json to Java Object because of invalid character in the beginning","body":"<p>I have created a Feign client EmployeeServiceClient.java like as shown below</p>\n\n<p><strong>EmployeeServiceClient.java</strong></p>\n\n<pre><code>@FeignClient(name = \"employeeclient\", url = \"https://internel.omnesys.org\")\npublic interface EmployeeServiceClient {\n    @RequestMapping(method = RequestMethod.GET, value = \"/v1/employees\")\n    List&lt;EmployeeDetails&gt; getEmployeeDetails();\n}\n</code></pre>\n\n<p><strong>EmployeeDetails.java</strong></p>\n\n<pre><code>public class EmployeeDetails {\n  private Employee employee;\n  private String empId;\n  // getters and setters\n}\n</code></pre>\n\n<p><strong>Employee.java</strong></p>\n\n<pre><code>public class Employee {\n  private String name;\n  private String firstName;\n  private String lastName;\n  private String city;\n  // getters and setters\n}\n</code></pre>\n\n<p>The service \n<a href=\"https://internel.omnesys.org/v1/employees\" rel=\"nofollow noreferrer\">https://internel.omnesys.org/v1/employees</a> (this is a intranet REST service managed by a different team) gives me a response life as shown below</p>\n\n<pre><code>)}]',\n[{\"employee\":{\"name\":\"Emp1\",\"firstName\":\"firstName1\",\"lastName\":\"lastName1\",\"city\":\"city1\"},\"empId\":\"empId123\"},{\"employee\":{\"name\":\"Emp2\",\"firstName\":\"firstName2\",\"lastName\":\"lastName2\",\"city\":\"city2\"},\"empId\":\"empId456\"}]\n</code></pre>\n\n<p>I am getting feign exception because the service response contains an additional <code>)}]',</code> in the starting</p>\n\n<p>I have asked the service team to remove those invalid characters but they said it is not possible to remove it since it was been placed purposely for some other requirement and have asked me to handle it from our end.</p>\n\n<p>Can anyone please help me on this</p>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1659443339,"post_id":73207461,"comment_id":129291673,"body_markdown":"Sounds like you&#39;re using degrees for the angle -- Math.cos uses radians.","body":"Sounds like you&#39;re using degrees for the angle -- Math.cos uses radians."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1659443847,"post_id":73207461,"comment_id":129291899,"body_markdown":"What comment above says. Also check that you don&#39;t accidentally convert `double` to `int` when you&#39;re multiplying by `2` in the `getSideA`.","body":"What comment above says. Also check that you don&#39;t accidentally convert <code>double</code> to <code>int</code> when you&#39;re multiplying by <code>2</code> in the <code>getSideA</code>."},{"owner":{"account_id":21597955,"reputation":3,"user_id":17673209,"display_name":"Eddie756"},"score":0,"creation_date":1659444693,"post_id":73207461,"comment_id":129292209,"body_markdown":"what should i use then or how should i write it","body":"what should i use then or how should i write it"},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1659448730,"post_id":73207461,"comment_id":129293957,"body_markdown":"[How to convert degrees to radians](https://www.wikihow.com/Convert-Degrees-to-Radians) - it&#39;s simple: multiply by `Math.PI / 180.0`.","body":"<a href=\"https://www.wikihow.com/Convert-Degrees-to-Radians\" rel=\"nofollow noreferrer\">How to convert degrees to radians</a> - it&#39;s simple: multiply by <code>Math.PI &#47; 180.0</code>."}],"owner":{"account_id":21597955,"reputation":3,"user_id":17673209,"display_name":"Eddie756"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659454954,"answer_count":0,"score":0,"last_activity_date":1659455013,"creation_date":1659442874,"question_id":73207461,"body_markdown":"i am working on a program in java that allows the user to calculate all angles and sides depending on the user choice. For the angle its working fine but to get the side its giving wrong answers.\r\n\r\nThis is codefor side A only :\r\n\r\n    public class CosCalc {\r\n    //to get length of side a given angle A and sides a and c\r\n    public static double getSideA(double A, double b, double c) {\r\n   \r\n        return (double) Math.sqrt((Math.pow(b, 2) + Math.pow(c, 2)) - 2 * b * c * Math.cos(A));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n     double A,B,C,a,b,c;\r\n           int option1, option2,option3; //option4, option5, option6;\r\n                option1 = scan.nextInt();\r\n           \r\n                    if (option1 == 1){\r\n                        System.out.println(&quot;Please enter 1 to calculate a for side a\\nOr enter 2  side b\\nOr 3 for side c&quot;);\r\n                            option2 = scan.nextInt();\r\n                        if(option2 == 1){\r\n    System.out.println(&quot;Enter size of Angle A: &quot;);\r\n                        A = scan.nextDouble();\r\n                        System.out.println(&quot;Enter length of side b:&quot;);\r\n                        b = scan.nextDouble();\r\n                        System.out.println(&quot;Enter length of side c:&quot;);\r\n                        c = scan.nextDouble();\r\n                          //CosCalc side = new CosCalc(); \r\n                            double result1 = getSideA(A,b,c);\r\n                            System.out.println(&quot;Therefore the lenght of side a is: &quot;+result1);\r\n    }\r\n    }\r\n    }\r\n\r\n\r\nThe expected out if for example the user enters:\r\n48 for Angle A\r\n17 for side b\r\nand 20 for side c\r\nresult for side a should be 15.3 or something around there.\r\n\r\nistead its giving me 29 which is wrong. need help","title":"Cosine Rules for triangle in java","body":"<p>i am working on a program in java that allows the user to calculate all angles and sides depending on the user choice. For the angle its working fine but to get the side its giving wrong answers.</p>\n<p>This is codefor side A only :</p>\n<pre><code>public class CosCalc {\n//to get length of side a given angle A and sides a and c\npublic static double getSideA(double A, double b, double c) {\n\n    return (double) Math.sqrt((Math.pow(b, 2) + Math.pow(c, 2)) - 2 * b * c * Math.cos(A));\n}\n\npublic static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n double A,B,C,a,b,c;\n       int option1, option2,option3; //option4, option5, option6;\n            option1 = scan.nextInt();\n       \n                if (option1 == 1){\n                    System.out.println(&quot;Please enter 1 to calculate a for side a\\nOr enter 2  side b\\nOr 3 for side c&quot;);\n                        option2 = scan.nextInt();\n                    if(option2 == 1){\nSystem.out.println(&quot;Enter size of Angle A: &quot;);\n                    A = scan.nextDouble();\n                    System.out.println(&quot;Enter length of side b:&quot;);\n                    b = scan.nextDouble();\n                    System.out.println(&quot;Enter length of side c:&quot;);\n                    c = scan.nextDouble();\n                      //CosCalc side = new CosCalc(); \n                        double result1 = getSideA(A,b,c);\n                        System.out.println(&quot;Therefore the lenght of side a is: &quot;+result1);\n}\n}\n}\n</code></pre>\n<p>The expected out if for example the user enters:\n48 for Angle A\n17 for side b\nand 20 for side c\nresult for side a should be 15.3 or something around there.</p>\n<p>istead its giving me 29 which is wrong. need help</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1659382198,"post_id":73198574,"comment_id":129276927,"body_markdown":"Can you add the code that is throwing the exception in your question?","body":"Can you add the code that is throwing the exception in your question?"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659454843,"creation_date":1659454843,"answer_id":73210246,"question_id":73198574,"body_markdown":"My guess is, you have two `District` or `Address` objects that have the same value for `id`, but are different objects i.e. `obj1 != obj2`.\r\n\r\nThis is illegal in JPA. The usual solution to this is, to load objects which you refer to from other objects.\r\n\r\nFor example, do something like this:\r\n\r\n```java\r\nPerson p = ...\r\np.getPermanentAddress().setDistrict(\r\n  entityManager.find(District.class, p.getPermanentAddress().getDistrict().getId())\r\n);\r\n\r\np.getPresentAddress().setDistrict(\r\n  entityManager.find(District.class, p.getPresentAddress().getDistrict().getId())\r\n);\r\n\r\nrepository.save(p);\r\n```","title":"JPA Hibernate : A different object with the same identifier value was already associated with the session","body":"<p>My guess is, you have two <code>District</code> or <code>Address</code> objects that have the same value for <code>id</code>, but are different objects i.e. <code>obj1 != obj2</code>.</p>\n<p>This is illegal in JPA. The usual solution to this is, to load objects which you refer to from other objects.</p>\n<p>For example, do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Person p = ...\np.getPermanentAddress().setDistrict(\n  entityManager.find(District.class, p.getPermanentAddress().getDistrict().getId())\n);\n\np.getPresentAddress().setDistrict(\n  entityManager.find(District.class, p.getPresentAddress().getDistrict().getId())\n);\n\nrepository.save(p);\n</code></pre>\n"}],"owner":{"account_id":18765303,"reputation":1,"user_id":13683330,"display_name":"Md-Mehedi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659454843,"creation_date":1659381499,"question_id":73198574,"body_markdown":"I am using two address for a person i.e. present and permanent address.\r\nEach address has an District.\r\nI am showing a district list in a dropdown at the frontend so that user can select a district among them.\r\nSo this case must be occur that one has present and permanent address same. So one can select two same district for both address.\r\n\r\nNow come to the point. If one set same district for both address, JPA Hibernate show an error following as at the same time two same district are being updated.\r\n\r\n    nested exception is javax.persistence.EntityExistsException: A different object with the same identifier value was already associated with the session\r\n\r\nPerson.java\r\n\r\n    @Table(name = &quot;person&quot;)\r\n    public class Person implements Serializable {\r\n        @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER, optional = true)\r\n        @JoinColumn(name = &quot;permanent_adrs_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        private Address permanentAddress;\r\n    \r\n        @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER, optional = true)\r\n        @JoinColumn(name = &quot;present_adrs_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        private Address presentAddress;\r\n    }\r\n\r\nAddress.java\r\n\r\n    @Table(name = &quot;address&quot;)\r\n    public class Address implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n        private String village;\r\n        @ManyToOne(fetch = FetchType.EAGER, optional = true)\r\n        @JoinColumn(name = &quot;district_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        private District district;\r\n    }\r\nDistrict.java\r\n\r\n    @Table(name = &quot;district&quot;)\r\n    public class District implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n        private String name;\r\n    }","title":"JPA Hibernate : A different object with the same identifier value was already associated with the session","body":"<p>I am using two address for a person i.e. present and permanent address.\nEach address has an District.\nI am showing a district list in a dropdown at the frontend so that user can select a district among them.\nSo this case must be occur that one has present and permanent address same. So one can select two same district for both address.</p>\n<p>Now come to the point. If one set same district for both address, JPA Hibernate show an error following as at the same time two same district are being updated.</p>\n<pre><code>nested exception is javax.persistence.EntityExistsException: A different object with the same identifier value was already associated with the session\n</code></pre>\n<p>Person.java</p>\n<pre><code>@Table(name = &quot;person&quot;)\npublic class Person implements Serializable {\n    @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER, optional = true)\n    @JoinColumn(name = &quot;permanent_adrs_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Address permanentAddress;\n\n    @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER, optional = true)\n    @JoinColumn(name = &quot;present_adrs_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Address presentAddress;\n}\n</code></pre>\n<p>Address.java</p>\n<pre><code>@Table(name = &quot;address&quot;)\npublic class Address implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    private String village;\n    @ManyToOne(fetch = FetchType.EAGER, optional = true)\n    @JoinColumn(name = &quot;district_id&quot;, referencedColumnName = &quot;id&quot;)\n    private District district;\n}\n</code></pre>\n<p>District.java</p>\n<pre><code>@Table(name = &quot;district&quot;)\npublic class District implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    private String name;\n}\n</code></pre>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1659433724,"post_id":73205397,"comment_id":129288277,"body_markdown":"That pattern is used to convert that `String` to a `ZonedDateTime`. The pattern has to match that input. `&quot;HH:mm&quot;` does not match `&quot;2022-08-16T06:25:00.000&quot;`.","body":"That pattern is used to convert that <code>String</code> to a <code>ZonedDateTime</code>. The pattern has to match that input. <code>&quot;HH:mm&quot;</code> does not match <code>&quot;2022-08-16T06:25:00.000&quot;</code>."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1659433731,"post_id":73205397,"comment_id":129288280,"body_markdown":"Which zone are you trying to parse? I can&#39;t see one… Oh, and the `DateTimeFormatter` applied in a `parse` method should match the pattern of the `String` to be parsed, not the desired output! You will need define another `DateTimeFormatter`.","body":"Which zone are you trying to parse? I can&#39;t see one… Oh, and the <code>DateTimeFormatter</code> applied in a <code>parse</code> method should match the pattern of the <code>String</code> to be parsed, not the desired output! You will need define another <code>DateTimeFormatter</code>."},{"owner":{"account_id":3446101,"reputation":11355,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":1,"creation_date":1659433962,"post_id":73205397,"comment_id":129288371,"body_markdown":"`parse()` is meant to read a string and convert it to a more fancy format, in your case `ZonedDateTime`. The pattern is to tell the parser how to interpret the input string.","body":"<code>parse()</code> is meant to read a string and convert it to a more fancy format, in your case <code>ZonedDateTime</code>. The pattern is to tell the parser how to interpret the input string."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1659434006,"post_id":73205397,"comment_id":129288388,"body_markdown":"instead of  `ZonedDateTime`, I would try `LocalDateTime` since it does not require a time zone - it should also be able to parse the given format without needing a `DateTimeFormatter` (format is ISO-8601, which is the default one) - see the [documentation](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/LocalDateTime.html#parse(java.lang.CharSequence)) || then you can format it using a `DateTimeFormatter` created with `&quot;HH:mm&quot;` or even `&quot;H:mm&quot;` (for `6:25`)","body":"instead of  <code>ZonedDateTime</code>, I would try <code>LocalDateTime</code> since it does not require a time zone - it should also be able to parse the given format without needing a <code>DateTimeFormatter</code> (format is ISO-8601, which is the default one) - see the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/LocalDateTime.html#parse(java.lang.CharSequence)\" rel=\"nofollow noreferrer\">documentation</a> || then you can format it using a <code>DateTimeFormatter</code> created with <code>&quot;HH:mm&quot;</code> or even <code>&quot;H:mm&quot;</code> (for <code>6:25</code>)"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1659434687,"post_id":73205397,"comment_id":129288615,"body_markdown":"You are using the standard ISO format with that ugly `T`. A `LocalDateTime` will by default use that format for parsing. A `ZonedDateTime` would still need a time zone.","body":"You are using the standard ISO format with that ugly <code>T</code>. A <code>LocalDateTime</code> will by default use that format for parsing. A <code>ZonedDateTime</code> would still need a time zone."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":2,"creation_date":1659436977,"post_id":73205397,"comment_id":129289444,"body_markdown":"6:25 is not  formatted as HH:mm, it does not have a leading zero…","body":"6:25 is not  formatted as HH:mm, it does not have a leading zero…"}],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659434210,"creation_date":1659434210,"answer_id":73205539,"question_id":73205397,"body_markdown":"```\r\nString dateTimeStr = &quot;2022-08-16T06:25:00.000&quot;;\r\nLocalDateTime dateTime = LocalDateTime.parse(dateTimeStr);\r\nDateTimeFormatter fmt = DateTimeFormatter.ofPattern(&quot;HH:mm&quot;);\r\nString time = dateTime.format(fmt);\r\nSystem.out.println(time);\r\n```\r\nor, if you want to use the time as an instance of LocalTime, you can get it by `dateTime.toLocalTime()`","title":"How to convert 2022-08-16T06:25:00.000 to HH:mm","body":"<pre><code>String dateTimeStr = &quot;2022-08-16T06:25:00.000&quot;;\nLocalDateTime dateTime = LocalDateTime.parse(dateTimeStr);\nDateTimeFormatter fmt = DateTimeFormatter.ofPattern(&quot;HH:mm&quot;);\nString time = dateTime.format(fmt);\nSystem.out.println(time);\n</code></pre>\n<p>or, if you want to use the time as an instance of LocalTime, you can get it by <code>dateTime.toLocalTime()</code></p>\n"},{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659435256,"creation_date":1659434365,"answer_id":73205565,"question_id":73205397,"body_markdown":"You don&#39;t need to define any `DateTimeFormatter` in this situation.\r\n\r\n 1. use a `LocalDateTime` because the input `String` does not hold any information about the zone\r\n 2. don&#39;t use a `DateTimeFormatter` for parsing that only parses hour of day and minutes of hour, the `String` to be parsed just contains more information\r\n\r\nHere&#39;s an example without any `DateTimeFormatter` explicitly defined (but it will use default ones for parsing, at least):\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\t// example input\r\n\tString fromApi = &quot;2022-08-16T06:25:00.000&quot;;\r\n\t// parse it to a LocalDateTime because there&#39;s no zone in the String\r\n\tLocalDateTime localDateTime = LocalDateTime.parse(fromApi);\r\n\t// extract the time-of-day part\r\n\tLocalTime localTime = localDateTime.toLocalTime();\r\n\t// and print its toString() implicitly\r\n\tSystem.out.println(localTime);\r\n}\r\n```\r\n\r\nOutput: `06:25`\r\n\r\nThe above code will produce output of the pattern `HH:mm`, which will have leading zeros at hours of day to always have a two-digit representation.\r\n\r\nIf you insist on single-digit hours of day, you will have to prepare a `DateTimeFormatter`, like in this alternative example:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\t// example input\r\n\tString fromApi = &quot;2022-08-16T06:25:00.000&quot;;\r\n\t// parse it to a LocalDateTime because there&#39;s no zone in the String\r\n\tLocalDateTime localDateTime = LocalDateTime.parse(fromApi);\r\n\t// extract the time-of-day part\r\n\tLocalTime localTime = localDateTime.toLocalTime();\r\n\t// prepare a DateTimeFormatter that formats single-digit hours of day\r\n\tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;H:mm&quot;);\r\n\t// print the LocalTime formatted by that DateTimeFormatter\r\n\tSystem.out.println(localTime.format(dtf));\r\n}\r\n```\r\n\r\nOutput this time: `6:25`","title":"How to convert 2022-08-16T06:25:00.000 to HH:mm","body":"<p>You don't need to define any <code>DateTimeFormatter</code> in this situation.</p>\n<ol>\n<li>use a <code>LocalDateTime</code> because the input <code>String</code> does not hold any information about the zone</li>\n<li>don't use a <code>DateTimeFormatter</code> for parsing that only parses hour of day and minutes of hour, the <code>String</code> to be parsed just contains more information</li>\n</ol>\n<p>Here's an example without any <code>DateTimeFormatter</code> explicitly defined (but it will use default ones for parsing, at least):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    // example input\n    String fromApi = &quot;2022-08-16T06:25:00.000&quot;;\n    // parse it to a LocalDateTime because there's no zone in the String\n    LocalDateTime localDateTime = LocalDateTime.parse(fromApi);\n    // extract the time-of-day part\n    LocalTime localTime = localDateTime.toLocalTime();\n    // and print its toString() implicitly\n    System.out.println(localTime);\n}\n</code></pre>\n<p>Output: <code>06:25</code></p>\n<p>The above code will produce output of the pattern <code>HH:mm</code>, which will have leading zeros at hours of day to always have a two-digit representation.</p>\n<p>If you insist on single-digit hours of day, you will have to prepare a <code>DateTimeFormatter</code>, like in this alternative example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    // example input\n    String fromApi = &quot;2022-08-16T06:25:00.000&quot;;\n    // parse it to a LocalDateTime because there's no zone in the String\n    LocalDateTime localDateTime = LocalDateTime.parse(fromApi);\n    // extract the time-of-day part\n    LocalTime localTime = localDateTime.toLocalTime();\n    // prepare a DateTimeFormatter that formats single-digit hours of day\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;H:mm&quot;);\n    // print the LocalTime formatted by that DateTimeFormatter\n    System.out.println(localTime.format(dtf));\n}\n</code></pre>\n<p>Output this time: <code>6:25</code></p>\n"},{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1659434559,"creation_date":1659434559,"answer_id":73205629,"question_id":73205397,"body_markdown":"How about different approach\r\n\r\n    String dateTimeStr = &quot;2022-08-16T06:25:00.000&quot;;\r\n    Matcher m=Pattern.of(&quot;T(\\\\d{2}:\\\\d{2}):&quot;).matcher(dateTimeStr);\r\n    m.find();\r\n    System.out.println(m.group(1);; //should print 06:25","title":"How to convert 2022-08-16T06:25:00.000 to HH:mm","body":"<p>How about different approach</p>\n<pre><code>String dateTimeStr = &quot;2022-08-16T06:25:00.000&quot;;\nMatcher m=Pattern.of(&quot;T(\\\\d{2}:\\\\d{2}):&quot;).matcher(dateTimeStr);\nm.find();\nSystem.out.println(m.group(1);; //should print 06:25\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659436143,"creation_date":1659436143,"answer_id":73205988,"question_id":73205397,"body_markdown":"The other answers use Java. Since you&#39;ve added a [kotlin] tag, here is a Kotlin-based answer for the sake of completeness. In order to make it different to the Java answers, I&#39;m using kotlinx.datetime, which is still at the experimental stage at version 0.4.0.\r\n\r\n```\r\nimport kotlinx.datetime.LocalDateTime\r\n\r\nfun main() {\r\n    println(LocalDateTime.parse(&quot;2022-08-16T06:25:00.000&quot;).time)  // prints &quot;06:25&quot;\r\n\r\n    // If you want &quot;6:25&quot; you can format it yourself:\r\n    println(with(LocalDateTime.parse(&quot;2022-08-16T06:25:00.000&quot;)) {\r\n        &quot;$hour:$minute&quot;\r\n    })\r\n}\r\n```","title":"How to convert 2022-08-16T06:25:00.000 to HH:mm","body":"<p>The other answers use Java. Since you've added a [kotlin] tag, here is a Kotlin-based answer for the sake of completeness. In order to make it different to the Java answers, I'm using kotlinx.datetime, which is still at the experimental stage at version 0.4.0.</p>\n<pre><code>import kotlinx.datetime.LocalDateTime\n\nfun main() {\n    println(LocalDateTime.parse(&quot;2022-08-16T06:25:00.000&quot;).time)  // prints &quot;06:25&quot;\n\n    // If you want &quot;6:25&quot; you can format it yourself:\n    println(with(LocalDateTime.parse(&quot;2022-08-16T06:25:00.000&quot;)) {\n        &quot;$hour:$minute&quot;\n    })\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659454534,"creation_date":1659446467,"answer_id":73208334,"question_id":73205397,"body_markdown":"And yet another &quot;alternative&quot; answer. It relies on the fact that in an ISO-compliant date-time format, the time starts in the 11th position.\r\n\r\n    private static final int ISO_TIME_POS = 11;\r\n    ....\r\n    String dateTimeStr = &quot;2022-08-16T06:25:00.000&quot;;\r\n    String timeStr = dateTimeStr.substring(ISO_TIME_POS, ISO_TIME_POS + 5);\r\n    System.out.println(timeStr);  // prints &quot;06:25&quot;","title":"How to convert 2022-08-16T06:25:00.000 to HH:mm","body":"<p>And yet another &quot;alternative&quot; answer. It relies on the fact that in an ISO-compliant date-time format, the time starts in the 11th position.</p>\n<pre><code>private static final int ISO_TIME_POS = 11;\n....\nString dateTimeStr = &quot;2022-08-16T06:25:00.000&quot;;\nString timeStr = dateTimeStr.substring(ISO_TIME_POS, ISO_TIME_POS + 5);\nSystem.out.println(timeStr);  // prints &quot;06:25&quot;\n</code></pre>\n"}],"owner":{"account_id":23692677,"reputation":41,"user_id":17716839,"display_name":"Arknes"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":5,"score":-3,"last_activity_date":1659454534,"creation_date":1659433628,"question_id":73205397,"body_markdown":"I&#39;m trying to convert date from API `&quot;2022-08-16T06:25:00.000&quot;` to HH:mm (6:25) but getting `DateTimeParseException`.  \r\nMy code: `ZonedDateTime.parse(it.time[0], DateTimeFormatter.ofPattern(&quot;HH:mm&quot;))`\r\n\r\n```json\r\n&quot;time&quot;: [\r\n    &quot;2022-08-16T06:25:00.000&quot;,\r\n    &quot;2022-08-16T07:40:00.000&quot;\r\n],\r\n```","title":"How to convert 2022-08-16T06:25:00.000 to HH:mm","body":"<p>I'm trying to convert date from API <code>&quot;2022-08-16T06:25:00.000&quot;</code> to HH:mm (6:25) but getting <code>DateTimeParseException</code>.<br />\nMy code: <code>ZonedDateTime.parse(it.time[0], DateTimeFormatter.ofPattern(&quot;HH:mm&quot;))</code></p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;time&quot;: [\n    &quot;2022-08-16T06:25:00.000&quot;,\n    &quot;2022-08-16T07:40:00.000&quot;\n],\n</code></pre>\n"},{"tags":["java","reactjs","spring-boot","maven","azure-pipelines"],"comments":[{"owner":{"account_id":8334489,"reputation":5467,"user_id":6261890,"display_name":"Bowman Zhu-MSFT"},"score":0,"creation_date":1661500126,"post_id":73204424,"comment_id":129791523,"body_markdown":"Hi giovandrea, any update on this issue, have your check user3067684&#39;s answer? does it answer your question?","body":"Hi giovandrea, any update on this issue, have your check user3067684&#39;s answer? does it answer your question?"}],"answers":[{"tags":[],"owner":{"account_id":3683258,"reputation":956,"user_id":3067684,"accept_rate":40,"display_name":"user3067684"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659454516,"creation_date":1659454516,"answer_id":73210173,"question_id":73204424,"body_markdown":"If i understand you correctly, you are looking to add environment variables, depending on which environment/site, when you build your project with Azure Pipelines.\r\n\r\nIf so.\r\n\r\nI make use of the Azure Devops Pipeline Libraries, one global and one for each site. Then pass in the names of the libraries like so\r\n\r\n    variables:\r\n          - group: ${{parameters.globalLibraryName}}\r\n          - group: ${{parameters.specificSiteLibrary}}\r\n\r\nThe second overwrites the first.\r\n\r\nHave a look at\r\n[Azure Pipeline Variable Groups][1]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/devops/pipelines/library/variable-groups?view=azure-devops&amp;tabs=yaml","title":"Setting up some specific variables in an Azure Pipeline","body":"<p>If i understand you correctly, you are looking to add environment variables, depending on which environment/site, when you build your project with Azure Pipelines.</p>\n<p>If so.</p>\n<p>I make use of the Azure Devops Pipeline Libraries, one global and one for each site. Then pass in the names of the libraries like so</p>\n<pre><code>variables:\n      - group: ${{parameters.globalLibraryName}}\n      - group: ${{parameters.specificSiteLibrary}}\n</code></pre>\n<p>The second overwrites the first.</p>\n<p>Have a look at\n<a href=\"https://learn.microsoft.com/en-us/azure/devops/pipelines/library/variable-groups?view=azure-devops&amp;tabs=yaml\" rel=\"nofollow noreferrer\">Azure Pipeline Variable Groups</a></p>\n"}],"owner":{"account_id":6357991,"reputation":197,"user_id":4934548,"accept_rate":0,"display_name":"giovandrea"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659454516,"creation_date":1659429482,"question_id":73204424,"body_markdown":"I am struggling to understand how I can pass some variables in an Azure pipeline.\r\n\r\nI have a React + Java project built using Maven.\r\n\r\n\r\nIn my POM file I have this to build the React side:\r\n\r\n                 &lt;plugin&gt;\r\n    \t\t\t    &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n    \t\t\t    &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t    &lt;version&gt;1.6&lt;/version&gt;\r\n    \t\t\t    &lt;configuration&gt;\r\n    \t\t\t      \t&lt;nodeVersion&gt;v16.13.2&lt;/nodeVersion&gt;\r\n    \t\t\t      \t&lt;npmVersion&gt;8.1.2&lt;/npmVersion&gt;\t\t        \r\n    \t\t\t\t\t&lt;workingDirectory&gt;ui&lt;/workingDirectory&gt;\r\n    \t\t\t\t\t&lt;installDirectory&gt;target&lt;/installDirectory&gt;\t\t\t\t\r\n    \t\t\t    &lt;/configuration&gt;\r\n    \t\t\t    &lt;executions&gt;\r\n    \t\t\t        &lt;execution&gt;\r\n    \t\t\t            &lt;id&gt;install node and npm&lt;/id&gt;\r\n    \t\t\t            &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n    \t\t\t            &lt;goals&gt;\r\n    \t\t\t                &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\r\n    \t\t\t            &lt;/goals&gt;\r\n    \t\t\t        &lt;/execution&gt;\r\n    \t\t\t        &lt;execution&gt;\r\n    \t\t\t            &lt;id&gt;npm install&lt;/id&gt;\r\n    \t\t\t            &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n    \t\t\t            &lt;goals&gt;\r\n    \t\t\t                &lt;goal&gt;npm&lt;/goal&gt;\r\n    \t\t\t            &lt;/goals&gt;\r\n    \t\t\t        &lt;/execution&gt;\r\n    \t\t\t        &lt;execution&gt;\r\n    \t\t\t            &lt;id&gt;npm run build&lt;/id&gt;\r\n    \t\t\t            &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n    \t\t\t            &lt;goals&gt;\r\n    \t\t\t                &lt;goal&gt;npm&lt;/goal&gt;\r\n    \t\t\t            &lt;/goals&gt;\r\n    \t\t\t            &lt;configuration&gt;\r\n    \t\t\t                &lt;arguments&gt;run build&lt;/arguments&gt;\r\n    \t\t\t            &lt;/configuration&gt;\r\n    \t\t\t        &lt;/execution&gt;\r\n    \t\t\t    &lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n\r\nI have 2 additional files, an application.yml containing some profiling and some DB resources, i.e.:\r\n\r\n    system:\r\n      name: &quot;MyApp&quot;\r\n    spring:\r\n      config:\r\n        activate:\r\n          on-profile: profile1\r\n      datasource:\r\n        url: URL;\r\n\r\nand an .env file with some variables:\r\n\r\n\r\n       var1=URI\r\n       var2=ANOTHERURI\r\n\r\nNow, when I build locally I do something like:\r\n\r\n    mvnw.cmd package spring-boot:run -Dspring-boot.run.profiles=profile1\r\n\r\nSo basically I am passing a profile and spring will get my application-profile1.yml file with the DB details + my .env file with those 2 variables.\r\n\r\nIn my Azure pipeline I have:\r\n\r\n    - task: Maven@3\r\n      displayName: Build Dock\r\n      inputs:\r\n        mavenPomFile: &#39;pom.xml&#39;\r\n        goals: &#39;spring-boot:build-image&#39;\r\n        publishJUnitResults: false\r\n        jdkVersionOption: $(jdkVersion)\r\n\r\nwhich is building a Docker image to publish on Azure.\r\n\r\nI am trying to find a way to have different sets of my variables, say:\r\n\r\n - Set1 for site1\r\n - Set2 for site2\r\n - Set3 for site3\r\n - etc\r\n\r\nthat doesn&#39;t rely on me creating an application-profile for each site and different .env.* file.\r\nI would like to set all of it directly on my pipeline, something like:\r\n\r\n    DBsource = source\r\n    var1 = URL\r\n    var2 = ANOTHER URL\r\n\r\n     - task: Maven@3\r\n          displayName: Build Dock\r\n          inputs:\r\n            mavenPomFile: &#39;pom.xml&#39;\r\n            goals: &#39;spring-boot:build-image -useMyVariablesSomehow&#39;\r\n            publishJUnitResults: false\r\n            jdkVersionOption: $(jdkVersion)\r\n\r\nor\r\n\r\n    get var from a file that I create for each site\r\n\r\n     - task: Maven@3\r\n          displayName: Build Dock\r\n          inputs:\r\n            mavenPomFile: &#39;pom.xml&#39;\r\n            goals: &#39;spring-boot:build-image -useMyFileSomehow&#39;\r\n            publishJUnitResults: false\r\n            jdkVersionOption: $(jdkVersion)\r\n\r\nIs it something that I can do?\r\n\r\nThanks\r\n\r\n\r\n\r\n\r\n","title":"Setting up some specific variables in an Azure Pipeline","body":"<p>I am struggling to understand how I can pass some variables in an Azure pipeline.</p>\n<p>I have a React + Java project built using Maven.</p>\n<p>In my POM file I have this to build the React side:</p>\n<pre><code>             &lt;plugin&gt;\n                &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.6&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;nodeVersion&gt;v16.13.2&lt;/nodeVersion&gt;\n                    &lt;npmVersion&gt;8.1.2&lt;/npmVersion&gt;              \n                    &lt;workingDirectory&gt;ui&lt;/workingDirectory&gt;\n                    &lt;installDirectory&gt;target&lt;/installDirectory&gt;             \n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;install node and npm&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;npm install&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;npm run build&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;run build&lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>I have 2 additional files, an application.yml containing some profiling and some DB resources, i.e.:</p>\n<pre><code>system:\n  name: &quot;MyApp&quot;\nspring:\n  config:\n    activate:\n      on-profile: profile1\n  datasource:\n    url: URL;\n</code></pre>\n<p>and an .env file with some variables:</p>\n<pre><code>   var1=URI\n   var2=ANOTHERURI\n</code></pre>\n<p>Now, when I build locally I do something like:</p>\n<pre><code>mvnw.cmd package spring-boot:run -Dspring-boot.run.profiles=profile1\n</code></pre>\n<p>So basically I am passing a profile and spring will get my application-profile1.yml file with the DB details + my .env file with those 2 variables.</p>\n<p>In my Azure pipeline I have:</p>\n<pre><code>- task: Maven@3\n  displayName: Build Dock\n  inputs:\n    mavenPomFile: 'pom.xml'\n    goals: 'spring-boot:build-image'\n    publishJUnitResults: false\n    jdkVersionOption: $(jdkVersion)\n</code></pre>\n<p>which is building a Docker image to publish on Azure.</p>\n<p>I am trying to find a way to have different sets of my variables, say:</p>\n<ul>\n<li>Set1 for site1</li>\n<li>Set2 for site2</li>\n<li>Set3 for site3</li>\n<li>etc</li>\n</ul>\n<p>that doesn't rely on me creating an application-profile for each site and different .env.* file.\nI would like to set all of it directly on my pipeline, something like:</p>\n<pre><code>DBsource = source\nvar1 = URL\nvar2 = ANOTHER URL\n\n - task: Maven@3\n      displayName: Build Dock\n      inputs:\n        mavenPomFile: 'pom.xml'\n        goals: 'spring-boot:build-image -useMyVariablesSomehow'\n        publishJUnitResults: false\n        jdkVersionOption: $(jdkVersion)\n</code></pre>\n<p>or</p>\n<pre><code>get var from a file that I create for each site\n\n - task: Maven@3\n      displayName: Build Dock\n      inputs:\n        mavenPomFile: 'pom.xml'\n        goals: 'spring-boot:build-image -useMyFileSomehow'\n        publishJUnitResults: false\n        jdkVersionOption: $(jdkVersion)\n</code></pre>\n<p>Is it something that I can do?</p>\n<p>Thanks</p>\n"},{"tags":["java","hsm","safenet"],"answers":[{"tags":[],"owner":{"account_id":5691890,"reputation":51,"user_id":8106572,"display_name":"Sam Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659454502,"creation_date":1659454502,"answer_id":73210167,"question_id":70391619,"body_markdown":"Without a specific PKCS #11 return code (CKR_XXX) it won&#39;t be possible to tell what failed and why. The log messages you pasted does not display any PKCS #11 error.","title":"Unable to use Private Key from HSM to decrypt message","body":"<p>Without a specific PKCS #11 return code (CKR_XXX) it won't be possible to tell what failed and why. The log messages you pasted does not display any PKCS #11 error.</p>\n"}],"owner":{"account_id":14474920,"reputation":1,"user_id":10455802,"display_name":"swapnill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":784,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659454502,"creation_date":1639736310,"question_id":70391619,"body_markdown":"I am trying to decrypt a message that has been encrypted with our public key, using Private Key stored on Luna HSM as under:\r\n\r\n1) Connecting To HSM:\r\n\r\n        private void connectToHSM() throws Exception {\r\n    \ttry {\r\n    \t\tks = KeyStore.getInstance(&quot;Luna&quot;);\r\n    \t\tlogger.debug(&quot;Logging in to Luna HSM...&quot;);\r\n    \t\tlogger.debug(&quot;KS Pw Before toCharArray:&quot; + keyStorePassword);\r\n    \t\tlogger.debug(&quot;KS Pw:&quot; + keyStorePassword.toCharArray());\r\n    \t\tks.load(is1, keyStorePassword.toCharArray());\r\n    \t} catch (KeyStoreException e) {\r\n    \t\tlogger.debug(&quot;HSM KeyStoreException while loading keystore:&quot;+e.getMessage());\r\n    \t\tthrow new Exception(&quot;Unable to create keystore object&quot;);\r\n    \t} catch (NoSuchAlgorithmException e) {\r\n    \t\tlogger.debug(&quot;HSM NoSuchAlgorithmException while loading keystore:&quot;+e.getMessage());\r\n    \t\tthrow new Exception(&quot;Unexpected NoSuchAlgorithmException while loading keystore&quot;);\r\n    \t} catch (CertificateException e) {\r\n    \t\tlogger.debug(&quot;HSM CertificateException while loading keystore:&quot;+e.getMessage());\r\n    \t\tthrow new Exception(&quot;Unexpected CertificateException while loading keystore&quot;);\r\n    \t} catch (IOException e) {\r\n    \t\tlogger.debug(&quot;HSM IOException while loading keystore:&quot;+e.getMessage());\r\n    \t\tthrow new Exception(&quot;Unexpected IOException while loading keystore.&quot;);\r\n    \t}}\r\n    \r\n\t\r\n\r\n\r\n2) The decrypt Function\r\n\r\n        public byte[] decrypt(byte[] data) throws Exception {\r\n    \tbyte[] plainData      = null;\r\n    \tbyte[] secretKey      = null;\r\n    \tPrivateKey privateKey = null;\r\n    \r\n    \tif(data == null || data.length == 0)\r\n    \t\tthrow new Exception(&quot;byte array data can not be null or blank array.&quot;);\r\n    \r\n    \tByteArraySpliter arrSpliter = new ByteArraySpliter(data);\r\n    \tif (!slotManager.getReconnectRequired()) {\r\n    \t\tif(Security.getProvider(&quot;LunaProvider&quot;)==null){\r\n    \t\t\tSecurity.insertProviderAt(new com.safenetinc.luna.provider.LunaProvider(), 3);\r\n    \t\t}\r\n    \t\ttry{\r\n    \t\tconnectToHSM();\r\n    \t\t}catch (Exception e) {\r\n    \t\t\tlogger.error(&quot;HSM ERROR&quot;);\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\r\n    \t\tthreadsOnTheFlyCounter.incrementAndGet();\r\n    \r\n    \t\t//Access private key from Luna Keystore\r\n    \t\ttry{\r\n    \t\t\tlogger.debug(&quot;Alias is : &quot; + alias);\r\n    \t\t\tprivateKey    = (PrivateKey)ks.getKey(alias+&quot;-private&quot;, keyStorePassword.toCharArray());\r\n    \t\t\tif(null == privateKey)\r\n    \t\t\tlogger.debug(&quot;KEY not derived from store&quot;);\r\n    \r\n    \t\t\t//Decrypt AES symmetric key using Private Key retrieved from Luan Keystore\r\n    \t\t\tsecretKey = decryptSecretKeyData(arrSpliter.getEncryptedSecretKey(), arrSpliter.getIv(), privateKey);\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlogger.error(&quot;Error in DECRYPTION of SYMMETRIC KEY: &quot;+e.getMessage());\r\n    \t\t\te.printStackTrace();\r\n    \t\t\tthrow new Exception(&quot;Error in  DECRYPTION of SYMMETRIC KEY: &quot;+e.getMessage());\r\n    \r\n    \t\t} finally {\r\n    \t\t// FOR RECONNECT\r\n    \t\t\tthreadsOnTheFlyCounter.decrementAndGet();\r\n    \t\t}\r\n    \t\r\n    \t\t//Decrypt response data using AES symmetric key\r\n    \t\tplainData = decryptData(arrSpliter.getEncryptedData(), arrSpliter.getIv(), secretKey);\r\n    \r\n    \t\tboolean result = validateHash(plainData);\r\n    \t\tif(!result) \r\n    \t\tthrow new Exception( &quot;Integrity Validation Failed : &quot; +\r\n    \t\t\t&quot;The original data at client side and the decrypted data at server side is not identical&quot;);\r\n    \t}\r\n    \r\n    \treturn trimHMAC(plainData);}\r\n   \r\n\r\n3) ERROR received while using the above blocks:\r\n\r\n    ```2021-12-17 15:00:38,055 - DEBUG [connectToHSM:157] - Logging in to Luna HSM...\r\n    2021-12-17 15:00:38,055 - DEBUG [connectToHSM:158] - KS Pw Before toCharArray:12345\r\n    2021-12-17 15:00:38,055 - DEBUG [connectToHSM:159] - KS Pw:[C@22297228\r\n    2021-12-17 15:00:38,072 - DEBUG [decrypt:202] - Alias is : label1\r\n    2021-12-17 15:00:38,078 - DEBUG [decrypt:205] - KEY not derived from store\r\n    2021-12-17 15:00:38,078 - DEBUG [decryptSecretKeyData:327] - decryptSecretKeyData function called using LunaParameterSpecOAEP\r\n    2021-12-17 15:00:38,078 - ERROR [decrypt:210] - Error in DECRYPTION of SYMMETRIC KEY: Failed to decrypt AES secret key using RSA.```\r\n\r\n\r\nThe private key was imported in the HSM using the CMU function. The original alias of the private key was &quot;swapnil&quot;. While I try to use this alias, I got the same error as above. Then I tried modifying the label of the handle on which the private key was unwrapped and changed it to label1, but still the issue persists. \r\n\r\nCan anyone please help me with this. I can provide more inputs if required.","title":"Unable to use Private Key from HSM to decrypt message","body":"<p>I am trying to decrypt a message that has been encrypted with our public key, using Private Key stored on Luna HSM as under:</p>\n<ol>\n<li><p>Connecting To HSM:</p>\n<pre><code> private void connectToHSM() throws Exception {\n try {\n     ks = KeyStore.getInstance(&quot;Luna&quot;);\n     logger.debug(&quot;Logging in to Luna HSM...&quot;);\n     logger.debug(&quot;KS Pw Before toCharArray:&quot; + keyStorePassword);\n     logger.debug(&quot;KS Pw:&quot; + keyStorePassword.toCharArray());\n     ks.load(is1, keyStorePassword.toCharArray());\n } catch (KeyStoreException e) {\n     logger.debug(&quot;HSM KeyStoreException while loading keystore:&quot;+e.getMessage());\n     throw new Exception(&quot;Unable to create keystore object&quot;);\n } catch (NoSuchAlgorithmException e) {\n     logger.debug(&quot;HSM NoSuchAlgorithmException while loading keystore:&quot;+e.getMessage());\n     throw new Exception(&quot;Unexpected NoSuchAlgorithmException while loading keystore&quot;);\n } catch (CertificateException e) {\n     logger.debug(&quot;HSM CertificateException while loading keystore:&quot;+e.getMessage());\n     throw new Exception(&quot;Unexpected CertificateException while loading keystore&quot;);\n } catch (IOException e) {\n     logger.debug(&quot;HSM IOException while loading keystore:&quot;+e.getMessage());\n     throw new Exception(&quot;Unexpected IOException while loading keystore.&quot;);\n }}\n</code></pre>\n</li>\n<li><p>The decrypt Function</p>\n<pre><code> public byte[] decrypt(byte[] data) throws Exception {\n byte[] plainData      = null;\n byte[] secretKey      = null;\n PrivateKey privateKey = null;\n\n if(data == null || data.length == 0)\n     throw new Exception(&quot;byte array data can not be null or blank array.&quot;);\n\n ByteArraySpliter arrSpliter = new ByteArraySpliter(data);\n if (!slotManager.getReconnectRequired()) {\n     if(Security.getProvider(&quot;LunaProvider&quot;)==null){\n         Security.insertProviderAt(new com.safenetinc.luna.provider.LunaProvider(), 3);\n     }\n     try{\n     connectToHSM();\n     }catch (Exception e) {\n         logger.error(&quot;HSM ERROR&quot;);\n         e.printStackTrace();\n     }\n\n     threadsOnTheFlyCounter.incrementAndGet();\n\n     //Access private key from Luna Keystore\n     try{\n         logger.debug(&quot;Alias is : &quot; + alias);\n         privateKey    = (PrivateKey)ks.getKey(alias+&quot;-private&quot;, keyStorePassword.toCharArray());\n         if(null == privateKey)\n         logger.debug(&quot;KEY not derived from store&quot;);\n\n         //Decrypt AES symmetric key using Private Key retrieved from Luan Keystore\n         secretKey = decryptSecretKeyData(arrSpliter.getEncryptedSecretKey(), arrSpliter.getIv(), privateKey);\n\n     } catch (Exception e) {\n         logger.error(&quot;Error in DECRYPTION of SYMMETRIC KEY: &quot;+e.getMessage());\n         e.printStackTrace();\n         throw new Exception(&quot;Error in  DECRYPTION of SYMMETRIC KEY: &quot;+e.getMessage());\n\n     } finally {\n     // FOR RECONNECT\n         threadsOnTheFlyCounter.decrementAndGet();\n     }\n\n     //Decrypt response data using AES symmetric key\n     plainData = decryptData(arrSpliter.getEncryptedData(), arrSpliter.getIv(), secretKey);\n\n     boolean result = validateHash(plainData);\n     if(!result) \n     throw new Exception( &quot;Integrity Validation Failed : &quot; +\n         &quot;The original data at client side and the decrypted data at server side is not identical&quot;);\n }\n\n return trimHMAC(plainData);}\n</code></pre>\n</li>\n<li><p>ERROR received while using the above blocks:</p>\n<pre><code>2021-12-17 15:00:38,055 - DEBUG [connectToHSM:158] - KS Pw Before toCharArray:12345\n2021-12-17 15:00:38,055 - DEBUG [connectToHSM:159] - KS Pw:[C@22297228\n2021-12-17 15:00:38,072 - DEBUG [decrypt:202] - Alias is : label1\n2021-12-17 15:00:38,078 - DEBUG [decrypt:205] - KEY not derived from store\n2021-12-17 15:00:38,078 - DEBUG [decryptSecretKeyData:327] - decryptSecretKeyData function called using LunaParameterSpecOAEP\n2021-12-17 15:00:38,078 - ERROR [decrypt:210] - Error in DECRYPTION of SYMMETRIC KEY: Failed to decrypt AES secret key using RSA.```\n\n\n</code></pre>\n</li>\n</ol>\n<p>The private key was imported in the HSM using the CMU function. The original alias of the private key was &quot;swapnil&quot;. While I try to use this alias, I got the same error as above. Then I tried modifying the label of the handle on which the private key was unwrapped and changed it to label1, but still the issue persists.</p>\n<p>Can anyone please help me with this. I can provide more inputs if required.</p>\n"},{"tags":["java","soap","ws-security","nonce"],"comments":[{"owner":{"account_id":1883209,"reputation":20919,"user_id":1702943,"accept_rate":86,"display_name":"Rao"},"score":0,"creation_date":1423849475,"post_id":28501207,"comment_id":45330242,"body_markdown":"I believe that you would be able to send without Nonce, Created elements. Alternatively you could have a xml template file along with place holder the values to be replace before submitting the request. And you may just pass the xml string after replacing the required element values and submit the request this way you may reduce code.","body":"I believe that you would be able to send without Nonce, Created elements. Alternatively you could have a xml template file along with place holder the values to be replace before submitting the request. And you may just pass the xml string after replacing the required element values and submit the request this way you may reduce code."},{"owner":{"account_id":434950,"reputation":2041,"user_id":821260,"accept_rate":67,"display_name":"ErikL"},"score":0,"creation_date":1424089470,"post_id":28501207,"comment_id":45396138,"body_markdown":"well, when I leave out the nonce, the server gives me back this error:  com.sun.xml.wss.impl.SecurityTokenException: Element passed\n                was not a SOAPElement or is not a proper UsernameToken; nested exception is\n                com.sun.xml.wss.XWSSecurityException: com.sun.xml.wss.impl.SecurityTokenException:\n                Element passed was not a SOAPElement or is not a proper UsernameToken\n\nSo I guess I can&#39;t do without it.","body":"well, when I leave out the nonce, the server gives me back this error:  com.sun.xml.wss.impl.SecurityTokenException: Element passed                 was not a SOAPElement or is not a proper UsernameToken; nested exception is                 com.sun.xml.wss.XWSSecurityException: com.sun.xml.wss.impl.SecurityTokenException:                 Element passed was not a SOAPElement or is not a proper UsernameToken  So I guess I can&#39;t do without it."}],"answers":[{"tags":[],"owner":{"account_id":4551456,"reputation":6431,"user_id":3696510,"accept_rate":86,"display_name":"muttonUp"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1427069814,"creation_date":1427069814,"answer_id":29201513,"question_id":28501207,"body_markdown":"The [Oasis reference][1] for the UsernameToken helped me fill in some of the blanks. Pages 7,8,9 are most appropriate in this case. In particular these sections\r\n\r\n&gt; /wsse:UsernameToken/wsse:Nonce  \r\n\r\n&gt; This optional element specifies a cryptographically random nonce. Each message\r\n&gt; including a &lt;wsse:Nonce&gt; element MUST use a new nonce value in order for web\r\n&gt; service producers to detect replay attacks. \r\n\r\nand\r\n\r\n&gt; /wsse:UsernameToken/wsse:Nonce/@EncodingType\r\n\r\n&gt; This optional attribute URI specifies the encoding type of the nonce (see the definition of\r\n&gt; &amp;lt;wsse:BinarySecurityToken&amp;gt; for valid values). If this attribute isn&#39;t specified then\r\n&gt; the default of Base64 encoding is used. \r\n\r\nIn regards to generating the &#39;cryptographically random&#39; nonce, can suggest you use [this answer][2] and then create an encoded string from it. Base64 encoding in your case, as that is the encodingType you are using in your XML request above.\r\n\r\n\r\n  [1]: https://www.oasis-open.org/committees/download.php/16782/wss-v1.1-spec-os-UsernameTokenProfile.pdf\r\n  [2]: https://stackoverflow.com/a/41156/3696510","title":"Calling a soap webservice from java with nonce in security headers","body":"<p>The <a href=\"https://www.oasis-open.org/committees/download.php/16782/wss-v1.1-spec-os-UsernameTokenProfile.pdf\" rel=\"nofollow noreferrer\">Oasis reference</a> for the UsernameToken helped me fill in some of the blanks. Pages 7,8,9 are most appropriate in this case. In particular these sections</p>\n\n<blockquote>\n  <p>/wsse:UsernameToken/wsse:Nonce  </p>\n  \n  <p>This optional element specifies a cryptographically random nonce. Each message\n  including a  element MUST use a new nonce value in order for web\n  service producers to detect replay attacks. </p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>/wsse:UsernameToken/wsse:Nonce/@EncodingType</p>\n  \n  <p>This optional attribute URI specifies the encoding type of the nonce (see the definition of\n  &lt;wsse:BinarySecurityToken&gt; for valid values). If this attribute isn't specified then\n  the default of Base64 encoding is used. </p>\n</blockquote>\n\n<p>In regards to generating the 'cryptographically random' nonce, can suggest you use <a href=\"https://stackoverflow.com/a/41156/3696510\">this answer</a> and then create an encoded string from it. Base64 encoding in your case, as that is the encodingType you are using in your XML request above.</p>\n"},{"tags":[],"owner":{"account_id":10241233,"reputation":129,"user_id":7558585,"display_name":"Nikita Zamalyutdinov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659454324,"creation_date":1659454324,"answer_id":73210133,"question_id":28501207,"body_markdown":"For **Spring WS** users: check **securityPolicy.xml** contains line\r\n\r\n    &lt;xwss:RequireUsernameToken passwordDigestRequired=&quot;false&quot; nonceRequired=&quot;true&quot; /&gt;\r\n\r\nIt fixes exception *Receiver Requirement for nonce has not been met* for SoapUi.\r\nIn case there is no &quot;nonce&quot; in request, set \r\n\r\n    nonceRequired=&quot;false&quot;\r\n\r\n","title":"Calling a soap webservice from java with nonce in security headers","body":"<p>For <strong>Spring WS</strong> users: check <strong>securityPolicy.xml</strong> contains line</p>\n<pre><code>&lt;xwss:RequireUsernameToken passwordDigestRequired=&quot;false&quot; nonceRequired=&quot;true&quot; /&gt;\n</code></pre>\n<p>It fixes exception <em>Receiver Requirement for nonce has not been met</em> for SoapUi.\nIn case there is no &quot;nonce&quot; in request, set</p>\n<pre><code>nonceRequired=&quot;false&quot;\n</code></pre>\n"}],"owner":{"account_id":434950,"reputation":2041,"user_id":821260,"accept_rate":67,"display_name":"ErikL"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14693,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":29201513,"answer_count":2,"score":6,"last_activity_date":1659454324,"creation_date":1423835648,"question_id":28501207,"body_markdown":"I am trying to call a webservice from java. This is basically not that difficult, except that the webservice expects some security in the form of a username and password and a nonce.\r\nWhen I try to call the webservice from SoapUi, I see that the raw message looks like this:\r\n\r\n    &lt;soapenv:Envelope xmlns:sch=&quot;http://somedomain.com/pe/ws/schema&quot;\r\n        xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n        &lt;soapenv:Header&gt;\r\n            &lt;wsse:Security soapenv:mustUnderstand=&quot;1&quot;\r\n                xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;\r\n                xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\r\n                &lt;wsse:UsernameToken wsu:Id=&quot;UsernameToken-E70691ACBDEFEC750814238295617871&quot;&gt;\r\n                    &lt;wsse:Username&gt;usr&lt;/wsse:Username&gt;\r\n                    &lt;wsse:Password\r\n                        Type=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&quot;\r\n                        &gt;pw&lt;/wsse:Password&gt;\r\n                    &lt;wsse:Nonce\r\n                        EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;\r\n                        &gt;4smQZF5KMSktEXrQc0v5yw==&lt;/wsse:Nonce&gt;\r\n                    &lt;wsu:Created&gt;2015-02-13T12:12:41.784Z&lt;/wsu:Created&gt;\r\n                &lt;/wsse:UsernameToken&gt;\r\n            &lt;/wsse:Security&gt;\r\n        &lt;/soapenv:Header&gt;\r\n        &lt;soapenv:Body&gt;\r\n            &lt;sch:EventSubmitRequest&gt;\r\n                &lt;sch:Event&gt;\r\n                    &lt;sch:EventId&gt;392&lt;/sch:EventId&gt;\r\n                    &lt;sch:Recoverable&gt;false&lt;/sch:Recoverable&gt;\r\n                &lt;/sch:Event&gt;\r\n            &lt;/sch:EventSubmitRequest&gt;\r\n        &lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\nThe obvious elements in the message are the Username, Password and Created, but what puzzles me is the nonce. In the example this field has the value 4smQZF5KMSktEXrQc0v5yw==, but this value difference upon each request (which makes sense, since according to wikipedia, a nonce is an arbitrary number used only once). When searching around, I can&#39;t find any usable examples of how to generate the nonce in java (Although I did find some php examples here on stack overflow, but I can&#39;t easily verify weather they work) . While I don&#39;t mind construction this nonce myself, I&#39;m wondering if this is really necessary, I kind of would expect this to be standard functionality in java.\r\n\r\nBelow is the code I&#39;m using:\r\n\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    import javax.xml.namespace.QName;\r\n    import javax.xml.soap.*;\r\n    import javax.xml.transform.*;\r\n    import javax.xml.transform.stream.*;\r\n    \r\n    public class soaptest {\r\n    \r\n        public static void main(String args[]) {\r\n            try {\r\n                // Create SOAP Connection\r\n                SOAPConnectionFactory soapConnectionFactory = SOAPConnectionFactory.newInstance();\r\n                SOAPConnection soapConnection = soapConnectionFactory.createConnection();\r\n    \r\n                // Send SOAP Message to SOAP Server\r\n                String url = &quot;http://142.10.10.52:8080/pe/ws/pe/&quot;;\r\n                SOAPMessage soapResponse = soapConnection.call(createSOAPRequest(), url);\r\n    \r\n                // Process the SOAP Response\r\n                printSOAPResponse(soapResponse);\r\n    \r\n                soapConnection.close();\r\n            } catch (Exception e) {\r\n                System.err.println(&quot;Error occurred while sending SOAP Request to Server&quot;);\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        private static SOAPMessage createSOAPRequest() throws Exception {\r\n            MessageFactory messageFactory = MessageFactory.newInstance();\r\n            SOAPMessage soapMessage = messageFactory.createMessage();\r\n            SOAPPart soapPart = soapMessage.getSOAPPart();\r\n    \r\n            SOAPEnvelope envelope = soapPart.getEnvelope();\r\n            SOAPHeader header = soapMessage.getSOAPHeader();\r\n    \r\n            SOAPElement security = header.addChildElement(&quot;Security&quot;, &quot;wsse&quot;, &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;);\r\n    \r\n            SOAPElement usernameToken = security.addChildElement(&quot;UsernameToken&quot;, &quot;wsse&quot;);\r\n            usernameToken.addAttribute(new QName(&quot;xmlns:wsu&quot;), &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;);\r\n    \r\n            SOAPElement username = usernameToken.addChildElement(&quot;Username&quot;, &quot;wsse&quot;);\r\n            username.addTextNode(&quot;usr&quot;);\r\n    \r\n            SOAPElement password = usernameToken.addChildElement(&quot;Password&quot;, &quot;wsse&quot;);\r\n            password.setAttribute(&quot;Type&quot;, &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&quot;);\r\n            password.addTextNode(&quot;pw&quot;);\r\n    \r\n            SOAPElement nonce = usernameToken.addChildElement(&quot;Nonce&quot;, &quot;wsse&quot;);\r\n            nonce.setAttribute(&quot;EncodingType&quot;, &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;);\r\n            nonce.addTextNode(&quot;???&quot;);\r\n            \r\n            SOAPElement created = usernameToken.addChildElement(&quot;Created&quot;, &quot;wsse&quot;);\r\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;);\r\n            Calendar c1 = Calendar.getInstance();\r\n            created.addTextNode(sdf.format(c1.getTime()));\r\n            \r\n            String serverURI = &quot;http://somedomain.com/pe/ws/schema&quot;;\r\n    \r\n            envelope.addNamespaceDeclaration(&quot;sch&quot;, serverURI);\r\n    \r\n            // SOAP Body\r\n            SOAPBody soapBody = envelope.getBody();\r\n            SOAPElement soapBodyElem = soapBody.addChildElement(&quot;EventSubmitRequest&quot;, &quot;sch&quot;);\r\n            SOAPElement soapBodyElem1 = soapBody.addChildElement(&quot;Event&quot;, &quot;sch&quot;);\r\n            soapBodyElem.addChildElement(soapBodyElem1);\r\n            \r\n            SOAPElement soapBodyElem2 = soapBodyElem1.addChildElement(&quot;EventId&quot;, &quot;sch&quot;);\r\n            soapBodyElem2.addTextNode(&quot;392&quot;);\r\n            SOAPElement soapBodyElem3 = soapBodyElem1.addChildElement(&quot;Recoverable&quot;, &quot;sch&quot;);\r\n            soapBodyElem3.addTextNode(&quot;false&quot;);\r\n    \r\n            MimeHeaders headers = soapMessage.getMimeHeaders();\r\n            headers.addHeader(&quot;SOAPAction&quot;, serverURI  + &quot;EventSubmitRequest&quot;);\r\n    \r\n            soapMessage.saveChanges();\r\n    \r\n            /* Print the request message */\r\n            System.out.print(&quot;Request SOAP Message = &quot;);\r\n            soapMessage.writeTo(System.out);\r\n            System.out.println();\r\n    \r\n            return soapMessage;\r\n        }\r\n    \r\n        /**\r\n         * Method used to print the SOAP Response\r\n         */\r\n        private static void printSOAPResponse(SOAPMessage soapResponse) throws Exception {\r\n            TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n            Transformer transformer = transformerFactory.newTransformer();\r\n            Source sourceContent = soapResponse.getSOAPPart().getContent();\r\n            System.out.print(&quot;\\nResponse SOAP Message = &quot;);\r\n            StreamResult result = new StreamResult(System.out);\r\n            transformer.transform(sourceContent, result);\r\n        }\r\n    \r\n    }\r\n","title":"Calling a soap webservice from java with nonce in security headers","body":"<p>I am trying to call a webservice from java. This is basically not that difficult, except that the webservice expects some security in the form of a username and password and a nonce.\nWhen I try to call the webservice from SoapUi, I see that the raw message looks like this:</p>\n\n<pre><code>&lt;soapenv:Envelope xmlns:sch=\"http://somedomain.com/pe/ws/schema\"\n    xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n    &lt;soapenv:Header&gt;\n        &lt;wsse:Security soapenv:mustUnderstand=\"1\"\n            xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"\n            xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"&gt;\n            &lt;wsse:UsernameToken wsu:Id=\"UsernameToken-E70691ACBDEFEC750814238295617871\"&gt;\n                &lt;wsse:Username&gt;usr&lt;/wsse:Username&gt;\n                &lt;wsse:Password\n                    Type=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText\"\n                    &gt;pw&lt;/wsse:Password&gt;\n                &lt;wsse:Nonce\n                    EncodingType=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary\"\n                    &gt;4smQZF5KMSktEXrQc0v5yw==&lt;/wsse:Nonce&gt;\n                &lt;wsu:Created&gt;2015-02-13T12:12:41.784Z&lt;/wsu:Created&gt;\n            &lt;/wsse:UsernameToken&gt;\n        &lt;/wsse:Security&gt;\n    &lt;/soapenv:Header&gt;\n    &lt;soapenv:Body&gt;\n        &lt;sch:EventSubmitRequest&gt;\n            &lt;sch:Event&gt;\n                &lt;sch:EventId&gt;392&lt;/sch:EventId&gt;\n                &lt;sch:Recoverable&gt;false&lt;/sch:Recoverable&gt;\n            &lt;/sch:Event&gt;\n        &lt;/sch:EventSubmitRequest&gt;\n    &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n\n<p>The obvious elements in the message are the Username, Password and Created, but what puzzles me is the nonce. In the example this field has the value 4smQZF5KMSktEXrQc0v5yw==, but this value difference upon each request (which makes sense, since according to wikipedia, a nonce is an arbitrary number used only once). When searching around, I can't find any usable examples of how to generate the nonce in java (Although I did find some php examples here on stack overflow, but I can't easily verify weather they work) . While I don't mind construction this nonce myself, I'm wondering if this is really necessary, I kind of would expect this to be standard functionality in java.</p>\n\n<p>Below is the code I'm using:</p>\n\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport javax.xml.namespace.QName;\nimport javax.xml.soap.*;\nimport javax.xml.transform.*;\nimport javax.xml.transform.stream.*;\n\npublic class soaptest {\n\n    public static void main(String args[]) {\n        try {\n            // Create SOAP Connection\n            SOAPConnectionFactory soapConnectionFactory = SOAPConnectionFactory.newInstance();\n            SOAPConnection soapConnection = soapConnectionFactory.createConnection();\n\n            // Send SOAP Message to SOAP Server\n            String url = \"http://142.10.10.52:8080/pe/ws/pe/\";\n            SOAPMessage soapResponse = soapConnection.call(createSOAPRequest(), url);\n\n            // Process the SOAP Response\n            printSOAPResponse(soapResponse);\n\n            soapConnection.close();\n        } catch (Exception e) {\n            System.err.println(\"Error occurred while sending SOAP Request to Server\");\n            e.printStackTrace();\n        }\n    }\n\n    private static SOAPMessage createSOAPRequest() throws Exception {\n        MessageFactory messageFactory = MessageFactory.newInstance();\n        SOAPMessage soapMessage = messageFactory.createMessage();\n        SOAPPart soapPart = soapMessage.getSOAPPart();\n\n        SOAPEnvelope envelope = soapPart.getEnvelope();\n        SOAPHeader header = soapMessage.getSOAPHeader();\n\n        SOAPElement security = header.addChildElement(\"Security\", \"wsse\", \"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\");\n\n        SOAPElement usernameToken = security.addChildElement(\"UsernameToken\", \"wsse\");\n        usernameToken.addAttribute(new QName(\"xmlns:wsu\"), \"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\");\n\n        SOAPElement username = usernameToken.addChildElement(\"Username\", \"wsse\");\n        username.addTextNode(\"usr\");\n\n        SOAPElement password = usernameToken.addChildElement(\"Password\", \"wsse\");\n        password.setAttribute(\"Type\", \"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText\");\n        password.addTextNode(\"pw\");\n\n        SOAPElement nonce = usernameToken.addChildElement(\"Nonce\", \"wsse\");\n        nonce.setAttribute(\"EncodingType\", \"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary\");\n        nonce.addTextNode(\"???\");\n\n        SOAPElement created = usernameToken.addChildElement(\"Created\", \"wsse\");\n        SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss'Z'\");\n        Calendar c1 = Calendar.getInstance();\n        created.addTextNode(sdf.format(c1.getTime()));\n\n        String serverURI = \"http://somedomain.com/pe/ws/schema\";\n\n        envelope.addNamespaceDeclaration(\"sch\", serverURI);\n\n        // SOAP Body\n        SOAPBody soapBody = envelope.getBody();\n        SOAPElement soapBodyElem = soapBody.addChildElement(\"EventSubmitRequest\", \"sch\");\n        SOAPElement soapBodyElem1 = soapBody.addChildElement(\"Event\", \"sch\");\n        soapBodyElem.addChildElement(soapBodyElem1);\n\n        SOAPElement soapBodyElem2 = soapBodyElem1.addChildElement(\"EventId\", \"sch\");\n        soapBodyElem2.addTextNode(\"392\");\n        SOAPElement soapBodyElem3 = soapBodyElem1.addChildElement(\"Recoverable\", \"sch\");\n        soapBodyElem3.addTextNode(\"false\");\n\n        MimeHeaders headers = soapMessage.getMimeHeaders();\n        headers.addHeader(\"SOAPAction\", serverURI  + \"EventSubmitRequest\");\n\n        soapMessage.saveChanges();\n\n        /* Print the request message */\n        System.out.print(\"Request SOAP Message = \");\n        soapMessage.writeTo(System.out);\n        System.out.println();\n\n        return soapMessage;\n    }\n\n    /**\n     * Method used to print the SOAP Response\n     */\n    private static void printSOAPResponse(SOAPMessage soapResponse) throws Exception {\n        TransformerFactory transformerFactory = TransformerFactory.newInstance();\n        Transformer transformer = transformerFactory.newTransformer();\n        Source sourceContent = soapResponse.getSOAPPart().getContent();\n        System.out.print(\"\\nResponse SOAP Message = \");\n        StreamResult result = new StreamResult(System.out);\n        transformer.transform(sourceContent, result);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","kotlin","reflection","spring-aop"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1600860766,"post_id":64026990,"comment_id":113220141,"body_markdown":"Why would a `Class` **object** be a Spring proxy? Do you mean *can* the class instances be proxied by Spring? You&#39;d have to check whether they&#39;re annotated with `@Component` for example I guess. Or tie into the Spring internals to detect which classes it will scan.","body":"Why would a <code>Class</code> <b>object</b> be a Spring proxy? Do you mean <i>can</i> the class instances be proxied by Spring? You&#39;d have to check whether they&#39;re annotated with <code>@Component</code> for example I guess. Or tie into the Spring internals to detect which classes it will scan."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1600860940,"post_id":64026990,"comment_id":113220226,"body_markdown":"You mean like this? https://stackoverflow.com/questions/8121551/is-it-possible-to-unproxy-a-spring-bean","body":"You mean like this? <a href=\"https://stackoverflow.com/questions/8121551/is-it-possible-to-unproxy-a-spring-bean\" title=\"is it possible to unproxy a spring bean\">stackoverflow.com/questions/8121551/&hellip;</a>"},{"owner":{"account_id":3013537,"reputation":7735,"user_id":3322533,"accept_rate":65,"display_name":"User1291"},"score":0,"creation_date":1600861070,"post_id":64026990,"comment_id":113220285,"body_markdown":"@Kayaman Let me try again ... I want to figure out whether Spring WILL proxy the component WITHOUT creating the bean to check it, just using the class objects. The question you linked to requires an instantiated bean.","body":"@Kayaman Let me try again ... I want to figure out whether Spring WILL proxy the component WITHOUT creating the bean to check it, just using the class objects. The question you linked to requires an instantiated bean."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1600861238,"post_id":64026990,"comment_id":113220363,"body_markdown":"The `Class` will never be instanceof or assignable to anything &quot;useful&quot;. Only the beans coming out of it (or non-beans with e.g. `.newInstance()`) would respond to those. So you have access to basically the metadata only.","body":"The <code>Class</code> will never be instanceof or assignable to anything &quot;useful&quot;. Only the beans coming out of it (or non-beans with e.g. <code>.newInstance()</code>) would respond to those. So you have access to basically the metadata only."},{"owner":{"account_id":3013537,"reputation":7735,"user_id":3322533,"accept_rate":65,"display_name":"User1291"},"score":0,"creation_date":1600862107,"post_id":64026990,"comment_id":113220799,"body_markdown":"@Kayaman Are you quite sure about that? Because I thought a bit more about your comment and it sounds wrong to me. `Class::isAssignableFrom` checks, quote &quot;if the class or interface represented by this Class object is either the same as, or is a superclass or superinterface of, the class or interface represented by the specified Class parameter&quot;. So if AopUtils checks `object instanceof SpringProxy`, then its class should satisfy this check, no?","body":"@Kayaman Are you quite sure about that? Because I thought a bit more about your comment and it sounds wrong to me. <code>Class::isAssignableFrom</code> checks, quote &quot;if the class or interface represented by this Class object is either the same as, or is a superclass or superinterface of, the class or interface represented by the specified Class parameter&quot;. So if AopUtils checks <code>object instanceof SpringProxy</code>, then its class should satisfy this check, no?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1600862317,"post_id":64026990,"comment_id":113220902,"body_markdown":"Well that depends on if it has been proxied already or not. If it&#39;s the `Class&lt;?&gt;` from `Original.class` then it won&#39;t pass the check, if it&#39;s from `SpringCreatedProxy.class`, then it will. But since Spring creates the proxy at runtime, are you at the time where Spring has already created the proxy, and do you have **that** `Class` object? I love classloading.","body":"Well that depends on if it has been proxied already or not. If it&#39;s the <code>Class&lt;?&gt;</code> from <code>Original.class</code> then it won&#39;t pass the check, if it&#39;s from <code>SpringCreatedProxy.class</code>, then it will. But since Spring creates the proxy at runtime, are you at the time where Spring has already created the proxy, and do you have <b>that</b> <code>Class</code> object? I love classloading."},{"owner":{"account_id":3013537,"reputation":7735,"user_id":3322533,"accept_rate":65,"display_name":"User1291"},"score":0,"creation_date":1600862666,"post_id":64026990,"comment_id":113221084,"body_markdown":"@Kayaman As mentioned in the post, I&#39;m in a `BeanFactoryPostProcessor`. That&#39;s specifically BEFORE the beans have been created. And as I also mentioned, I cannot instantiate the beans yet. But the classes I&#39;m checking are from the `ConfigurableListableBeanFactory` and the relevant names contain `$$EnhancerBySpringCGLIB$$`, so yes, I&#39;d argue I have the right `Class` objects.","body":"@Kayaman As mentioned in the post, I&#39;m in a <code>BeanFactoryPostProcessor</code>. That&#39;s specifically BEFORE the beans have been created. And as I also mentioned, I cannot instantiate the beans yet. But the classes I&#39;m checking are from the <code>ConfigurableListableBeanFactory</code> and the relevant names contain <code>$$EnhancerBySpringCGLIB$$</code>, so yes, I&#39;d argue I have the right <code>Class</code> objects."},{"owner":{"account_id":3013537,"reputation":7735,"user_id":3322533,"accept_rate":65,"display_name":"User1291"},"score":0,"creation_date":1600865063,"post_id":64026990,"comment_id":113222399,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/221937/discussion-between-user1291-and-kayaman).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/221937/discussion-between-user1291-and-kayaman\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1600920920,"creation_date":1600912809,"answer_id":64038511,"question_id":64026990,"body_markdown":"Interesting question. &#128512;\r\n\r\nThe three classes highlighted in your screenshot are CGLIB proxies but **not** AOP proxies. Look at their class names: They are all Spring configuration classes. But that does not make them normal Spring proxies, especially not AOP proxies. For the difference between `@Component` and `@Configuration`, also with regard to proxying and self-invocation behaviour, please read [my answer here](https://stackoverflow.com/a/56919004/1082681).\r\n\r\nConsequently, a Spring `@Configuration` class also does not implement `SpringProxy` like normal Spring proxies.\r\n\r\nSo basically your solution works just fine, no need to worry, as far as I can see.\r\n\r\nP.S.: I am a Java guy, not a Kotlin person. So I re-implemented your code from the screenshot in Java, so I could debug into it and reproduce your situation. But even in Kotlin I would have had to re-type everything. Please next time publish the code as copyable text, not just as an image.\r\n\r\n---\r\n\r\n**Update:** If you check something like the content of\r\n\r\n```java\r\nbeanClasses.stream()\r\n  .filter(aClass -&gt; \r\n    aClass.getName().contains(CGLIB_CLASS_SEPARATOR) &amp;&amp; \r\n      aClass.getSuperclass().getAnnotation(Configuration.class) == null\r\n  )\r\n  .collect(Collectors.toList())\r\n```\r\n\r\nyou should see an empty collection, whereas\r\n\r\n```java\r\nbeanClasses.stream()\r\n  .filter(aClass -&gt; \r\n    aClass.getName().contains(CGLIB_CLASS_SEPARATOR) &amp;&amp; \r\n      aClass.getSuperclass().getAnnotation(Configuration.class) != null\r\n  )\r\n  .collect(Collectors.toList())\r\n```\r\n\r\nshould yield the same list of classes as simply\r\n\r\n```java\r\nbeanClasses.stream()\r\n  .filter(aClass -&gt; aClass.getName().contains(CGLIB_CLASS_SEPARATOR))\r\n  .collect(Collectors.toList())\r\n```\r\n\r\nI.e. all remaining CGLIB proxies in `beanClasses` should in fact be configurations, not normal Spring proxies.","title":"How do you figure out whether a CLASS is a spring proxy?","body":"<p>Interesting question. 😀</p>\n<p>The three classes highlighted in your screenshot are CGLIB proxies but <strong>not</strong> AOP proxies. Look at their class names: They are all Spring configuration classes. But that does not make them normal Spring proxies, especially not AOP proxies. For the difference between <code>@Component</code> and <code>@Configuration</code>, also with regard to proxying and self-invocation behaviour, please read <a href=\"https://stackoverflow.com/a/56919004/1082681\">my answer here</a>.</p>\n<p>Consequently, a Spring <code>@Configuration</code> class also does not implement <code>SpringProxy</code> like normal Spring proxies.</p>\n<p>So basically your solution works just fine, no need to worry, as far as I can see.</p>\n<p>P.S.: I am a Java guy, not a Kotlin person. So I re-implemented your code from the screenshot in Java, so I could debug into it and reproduce your situation. But even in Kotlin I would have had to re-type everything. Please next time publish the code as copyable text, not just as an image.</p>\n<hr />\n<p><strong>Update:</strong> If you check something like the content of</p>\n<pre class=\"lang-java prettyprint-override\"><code>beanClasses.stream()\n  .filter(aClass -&gt; \n    aClass.getName().contains(CGLIB_CLASS_SEPARATOR) &amp;&amp; \n      aClass.getSuperclass().getAnnotation(Configuration.class) == null\n  )\n  .collect(Collectors.toList())\n</code></pre>\n<p>you should see an empty collection, whereas</p>\n<pre class=\"lang-java prettyprint-override\"><code>beanClasses.stream()\n  .filter(aClass -&gt; \n    aClass.getName().contains(CGLIB_CLASS_SEPARATOR) &amp;&amp; \n      aClass.getSuperclass().getAnnotation(Configuration.class) != null\n  )\n  .collect(Collectors.toList())\n</code></pre>\n<p>should yield the same list of classes as simply</p>\n<pre class=\"lang-java prettyprint-override\"><code>beanClasses.stream()\n  .filter(aClass -&gt; aClass.getName().contains(CGLIB_CLASS_SEPARATOR))\n  .collect(Collectors.toList())\n</code></pre>\n<p>I.e. all remaining CGLIB proxies in <code>beanClasses</code> should in fact be configurations, not normal Spring proxies.</p>\n"},{"tags":[],"owner":{"account_id":1806041,"reputation":3307,"user_id":1643115,"accept_rate":100,"display_name":"Kirill Gamazkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659454131,"creation_date":1659454131,"answer_id":73210094,"question_id":64026990,"body_markdown":"&gt; In now want to check whether a bean class is proxied without instantiating the bean (i.e. just with its class) in a BeanFactoryPostProcessor.\r\n\r\nThis task seems impossible to me since there are 100500 ways to proxy bean at runtime (bean post processor, advice, etc). Technically you can use random to decide whether to proxy some bean. You can have two instances of a given class (e.g. with different qualifiers), one proxied, other not.","title":"How do you figure out whether a CLASS is a spring proxy?","body":"<blockquote>\n<p>In now want to check whether a bean class is proxied without instantiating the bean (i.e. just with its class) in a BeanFactoryPostProcessor.</p>\n</blockquote>\n<p>This task seems impossible to me since there are 100500 ways to proxy bean at runtime (bean post processor, advice, etc). Technically you can use random to decide whether to proxy some bean. You can have two instances of a given class (e.g. with different qualifiers), one proxied, other not.</p>\n"}],"owner":{"account_id":3013537,"reputation":7735,"user_id":3322533,"accept_rate":65,"display_name":"User1291"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2070,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64038511,"answer_count":2,"score":2,"last_activity_date":1659454131,"creation_date":1600860590,"question_id":64026990,"body_markdown":"**In a nutshell**\r\n\r\nIn the `AopUtils`, we have \r\n\r\n```\r\n\t/**\r\n\t * Check whether the given object is a JDK dynamic proxy or a CGLIB proxy.\r\n\t * &lt;p&gt;This method additionally checks if the given object is an instance\r\n\t * of {@link SpringProxy}.\r\n\t * @param object the object to check\r\n\t * @see #isJdkDynamicProxy\r\n\t * @see #isCglibProxy\r\n\t */\r\n\tpublic static boolean isAopProxy(@Nullable Object object) {\r\n\t\treturn (object instanceof SpringProxy &amp;&amp; (Proxy.isProxyClass(object.getClass()) ||\r\n\t\t\t\tobject.getClass().getName().contains(ClassUtils.CGLIB_CLASS_SEPARATOR)));\r\n\t}\r\n```\r\n\r\nIn now want to check whether a bean class is proxied without instantiating the bean (i.e. just with its class) in a `BeanFactoryPostProcessor`.\r\n\r\nI thought I could just &quot;translate&quot; above method:\r\n\r\n```\r\n    private fun &lt;T&gt; isAopProxyClass(candidate: Class&lt;T&gt;): Boolean {\r\n        return SpringProxy::class.java.isAssignableFrom(candidate)\r\n            &amp;&amp; (\r\n            Proxy.isProxyClass(candidate)\r\n                || candidate.name.contains(CGLIB_CLASS_SEPARATOR)\r\n            )\r\n    }\r\n```\r\nBut this does not detect proxies because `SpringProxy::class.java.isAssignableFrom(candidate)` is `false` even for obviously proxied classes.\r\n\r\nHow do I make this work?\r\n\r\n**Full picture**\r\n\r\nI&#39;m in a `BeanFactoryPostProcessor` and I need the un-proxied bean classes to access certain annotated methods by reflection.\r\n\r\nAccess happens in a lambda function that will first use the `ApplicationContext` to retrieve the bean for the class. The bean must not be forcibly instantiated in this `BeanFactoryPostProcessor` (and in fact should throw an exception if it does because some beans are session-scoped).\r\n\r\n[![screenshot of misbehaving code][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1wVuM.png","title":"How do you figure out whether a CLASS is a spring proxy?","body":"<p><strong>In a nutshell</strong></p>\n<p>In the <code>AopUtils</code>, we have</p>\n<pre><code>    /**\n     * Check whether the given object is a JDK dynamic proxy or a CGLIB proxy.\n     * &lt;p&gt;This method additionally checks if the given object is an instance\n     * of {@link SpringProxy}.\n     * @param object the object to check\n     * @see #isJdkDynamicProxy\n     * @see #isCglibProxy\n     */\n    public static boolean isAopProxy(@Nullable Object object) {\n        return (object instanceof SpringProxy &amp;&amp; (Proxy.isProxyClass(object.getClass()) ||\n                object.getClass().getName().contains(ClassUtils.CGLIB_CLASS_SEPARATOR)));\n    }\n</code></pre>\n<p>In now want to check whether a bean class is proxied without instantiating the bean (i.e. just with its class) in a <code>BeanFactoryPostProcessor</code>.</p>\n<p>I thought I could just &quot;translate&quot; above method:</p>\n<pre><code>    private fun &lt;T&gt; isAopProxyClass(candidate: Class&lt;T&gt;): Boolean {\n        return SpringProxy::class.java.isAssignableFrom(candidate)\n            &amp;&amp; (\n            Proxy.isProxyClass(candidate)\n                || candidate.name.contains(CGLIB_CLASS_SEPARATOR)\n            )\n    }\n</code></pre>\n<p>But this does not detect proxies because <code>SpringProxy::class.java.isAssignableFrom(candidate)</code> is <code>false</code> even for obviously proxied classes.</p>\n<p>How do I make this work?</p>\n<p><strong>Full picture</strong></p>\n<p>I'm in a <code>BeanFactoryPostProcessor</code> and I need the un-proxied bean classes to access certain annotated methods by reflection.</p>\n<p>Access happens in a lambda function that will first use the <code>ApplicationContext</code> to retrieve the bean for the class. The bean must not be forcibly instantiated in this <code>BeanFactoryPostProcessor</code> (and in fact should throw an exception if it does because some beans are session-scoped).</p>\n<p><a href=\"https://i.stack.imgur.com/1wVuM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1wVuM.png\" alt=\"screenshot of misbehaving code\" /></a></p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1659429768,"post_id":73201350,"comment_id":129286874,"body_markdown":"_SocketError_: Some more error tracelog please.","body":"<i>SocketError</i>: Some more error tracelog please."},{"owner":{"account_id":20044142,"reputation":65,"user_id":14694240,"display_name":"Metahuman Flash"},"score":0,"creation_date":1659454045,"post_id":73201350,"comment_id":129296240,"body_markdown":"alright i fixed it","body":"alright i fixed it"}],"owner":{"account_id":20044142,"reputation":65,"user_id":14694240,"display_name":"Metahuman Flash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659454029,"creation_date":1659406864,"question_id":73201350,"body_markdown":"Selenium is giving me a ConnectionReset error after I quit the driver\r\n\r\nMy code looks something like this\r\n```java\r\nWebDriver driver = new ChromeDriver();\r\ntry {\r\n     // main code here\r\n     System.out.println(&quot;success&quot;);\r\n}\r\ncatch(Exception e) {\r\n     e.printStackTrace();\r\n}\r\nfinally {\r\n     System.out.println(&quot;quitting&quot;);\r\n     driver.quit();\r\n}\r\n```\r\n\r\nAnd produces this output\r\n```html\r\nChromeDriver was started successfully.\r\nAug 01, 2022 7:13:12 PM org.openqa.selenium.remote.ProtocolHandshake createSession\r\nINFO: Detected upstream dialect: W3C\r\nAug 01, 2022 7:13:21 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\nINFO: Found exact CDP implementation for version 103\r\nsuccess\r\nquitting\r\nAug 01, 2022 7:13:53 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\r\nWARNING: Connection reset\r\njava.net.SocketException: Connection reset\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426)\r\n\tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\r\n\tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:831)\r\n```\r\n\r\nIt says that it `Found exact CDP implementation for version 103` so why is it producing this error?","title":"Connection Reset Error after quitting Selenium ChromeDriver despite matching versions","body":"<p>Selenium is giving me a ConnectionReset error after I quit the driver</p>\n<p>My code looks something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebDriver driver = new ChromeDriver();\ntry {\n     // main code here\n     System.out.println(&quot;success&quot;);\n}\ncatch(Exception e) {\n     e.printStackTrace();\n}\nfinally {\n     System.out.println(&quot;quitting&quot;);\n     driver.quit();\n}\n</code></pre>\n<p>And produces this output</p>\n<pre class=\"lang-html prettyprint-override\"><code>ChromeDriver was started successfully.\nAug 01, 2022 7:13:12 PM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected upstream dialect: W3C\nAug 01, 2022 7:13:21 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nINFO: Found exact CDP implementation for version 103\nsuccess\nquitting\nAug 01, 2022 7:13:53 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\nWARNING: Connection reset\njava.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394)\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426)\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:831)\n</code></pre>\n<p>It says that it <code>Found exact CDP implementation for version 103</code> so why is it producing this error?</p>\n"},{"tags":["java","sql","hibernate","db2"],"comments":[{"owner":{"account_id":13188055,"reputation":3826,"user_id":9525344,"display_name":"Paul Vernon"},"score":0,"creation_date":1559860181,"post_id":56474996,"comment_id":99561759,"body_markdown":"Have you looked at the explain plan for the two queries. I&#39;m would be surprised if  Db2 is not removing the redundant `ORDER BY` in the first example.","body":"Have you looked at the explain plan for the two queries. I&#39;m would be surprised if  Db2 is not removing the redundant <code>ORDER BY</code> in the first example."},{"owner":{"account_id":2534969,"reputation":565,"user_id":3632455,"accept_rate":30,"display_name":"hariprasad"},"score":0,"creation_date":1560786314,"post_id":56474996,"comment_id":99840982,"body_markdown":"I added a sample explain plan. The second image demonstrates how the optimizer will include a filter that causes a performance drop.","body":"I added a sample explain plan. The second image demonstrates how the optimizer will include a filter that causes a performance drop."},{"owner":{"account_id":13188055,"reputation":3826,"user_id":9525344,"display_name":"Paul Vernon"},"score":0,"creation_date":1560846205,"post_id":56474996,"comment_id":99859587,"body_markdown":"Might be best raising a case with IBM Support, or trying a newer version of Db2 if you are not on a recent release. The optimizer will often remove redundant clauses, but not in every case, so if this is one that is not removed by the optimizer you might be stuck with needing to alter the SQL yourself","body":"Might be best raising a case with IBM Support, or trying a newer version of Db2 if you are not on a recent release. The optimizer will often remove redundant clauses, but not in every case, so if this is one that is not removed by the optimizer you might be stuck with needing to alter the SQL yourself"}],"owner":{"account_id":2534969,"reputation":565,"user_id":3632455,"accept_rate":30,"display_name":"hariprasad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659453883,"creation_date":1559814476,"question_id":56474996,"body_markdown":"I have table T_LOG, which has a few millions of row. Hibernate `3.6.10.Final` using Detached Criteria produces inefficient SQL query, which causes big performance impact.\r\n\r\nSimplified sample:\r\n\r\n        select temp.* from ( select row_number() over(order by a.dateTime asc) as rownumber, a.dateTime, a.*\r\n    from T_LOG a order by a.dateTime asc) as temp where rownumber &lt;= 75;\r\n\r\nThe problem is `order by a.dateTime asc` (2), which is redundant, because whole work is doing by first clause `row_number() over(order by a.dateTime asc)` (1).\r\nThis additional second `order by` clause causes about 1000 times worse result, than the same one without it&#39;s.\r\nFor example, the statement above needs more than 10 minutes on 25 millions rows, but this simplified statement:\r\n\r\n        select temp.* from ( select row_number() over(order by a.dateTime asc) as\r\n     rownumber, a.dateTime, a.* from T_LOG a) as temp where rownumber &lt;= 75;\r\nTakes only 0.1 second. The result set is the same. The column `dateTime` is indexed non-unique index.\r\n\r\nIn Java detached Criteria (simplified) looks like this:\r\n\r\n        \t\tDetachedCriteria crit = DetachedCriteria.forClass(Log.class);\r\n    ...\r\n    \t\t\tcrit.addOrder(org.hibernate.criterion.Order.asc(&quot;dateTime&quot;));\r\n    \r\n    // Used for pagination\t\t\r\n    List&lt;Log&gt; logs = logRepository.findByCriteria(crit, from, count);\r\n\r\nHow can I reduce the SQL statement in detached criteria to avoid performance impact?\r\n\r\nSample of good cost:\r\n\r\n[![Proper cost of SQL][1]][1]\r\n\r\nAnd bed cost:\r\n\r\n[![Very bad cost of SQL][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n1ach.png\r\n  [2]: https://i.stack.imgur.com/iTpgu.png","title":"Java Spring Hibernate SQL select with order by causes in DB2 big performance impact","body":"<p>I have table T_LOG, which has a few millions of row. Hibernate <code>3.6.10.Final</code> using Detached Criteria produces inefficient SQL query, which causes big performance impact.</p>\n<p>Simplified sample:</p>\n<pre><code>    select temp.* from ( select row_number() over(order by a.dateTime asc) as rownumber, a.dateTime, a.*\nfrom T_LOG a order by a.dateTime asc) as temp where rownumber &lt;= 75;\n</code></pre>\n<p>The problem is <code>order by a.dateTime asc</code> (2), which is redundant, because whole work is doing by first clause <code>row_number() over(order by a.dateTime asc)</code> (1).\nThis additional second <code>order by</code> clause causes about 1000 times worse result, than the same one without it's.\nFor example, the statement above needs more than 10 minutes on 25 millions rows, but this simplified statement:</p>\n<pre><code>    select temp.* from ( select row_number() over(order by a.dateTime asc) as\n rownumber, a.dateTime, a.* from T_LOG a) as temp where rownumber &lt;= 75;\n</code></pre>\n<p>Takes only 0.1 second. The result set is the same. The column <code>dateTime</code> is indexed non-unique index.</p>\n<p>In Java detached Criteria (simplified) looks like this:</p>\n<pre><code>            DetachedCriteria crit = DetachedCriteria.forClass(Log.class);\n...\n            crit.addOrder(org.hibernate.criterion.Order.asc(&quot;dateTime&quot;));\n\n// Used for pagination      \nList&lt;Log&gt; logs = logRepository.findByCriteria(crit, from, count);\n</code></pre>\n<p>How can I reduce the SQL statement in detached criteria to avoid performance impact?</p>\n<p>Sample of good cost:</p>\n<p><a href=\"https://i.stack.imgur.com/n1ach.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n1ach.png\" alt=\"Proper cost of SQL\" /></a></p>\n<p>And bed cost:</p>\n<p><a href=\"https://i.stack.imgur.com/iTpgu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iTpgu.png\" alt=\"Very bad cost of SQL\" /></a></p>\n"},{"tags":["java","spring-boot","docker","hazelcast","hazelcast-imap"],"answers":[{"tags":[],"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659453774,"creation_date":1659453774,"answer_id":73210002,"question_id":73209402,"body_markdown":"You have two choices\r\n\r\nRun more Docker images is best.\r\nSee [this guide](https://docs.hazelcast.com/hazelcast/5.1/getting-started/get-started-docker#step-6-scale-your-cluster) for a guide. Depending on your networking you may need `hazelcast.local.publicAddress` to make them find each other, as each will be separate Docker images.\r\n\r\n*Note* that a 2nd Docker image doesn&#39;t increase capacity if you have the default `backup-count=1`. You need at least a 3rd, but you can have hundreds.\r\n\r\nOr increase the heap size on the existing process, but this will hit a limit very quickly. Once Java heap size gets too big, GC will kill performance.\r\n\r\n45Mb of data seems very little to run out of memory. Is it an OOM you get ?","title":"Java Spring Hazelcast: Change Max Size of Map Cache","body":"<p>You have two choices</p>\n<p>Run more Docker images is best.\nSee <a href=\"https://docs.hazelcast.com/hazelcast/5.1/getting-started/get-started-docker#step-6-scale-your-cluster\" rel=\"nofollow noreferrer\">this guide</a> for a guide. Depending on your networking you may need <code>hazelcast.local.publicAddress</code> to make them find each other, as each will be separate Docker images.</p>\n<p><em>Note</em> that a 2nd Docker image doesn't increase capacity if you have the default <code>backup-count=1</code>. You need at least a 3rd, but you can have hundreds.</p>\n<p>Or increase the heap size on the existing process, but this will hit a limit very quickly. Once Java heap size gets too big, GC will kill performance.</p>\n<p>45Mb of data seems very little to run out of memory. Is it an OOM you get ?</p>\n"}],"owner":{"account_id":13023827,"reputation":11,"user_id":11620586,"display_name":"Marcos Federico Mandrille"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659453774,"creation_date":1659451006,"question_id":73209402,"body_markdown":"I having a problem trying to implement a Cache to check what urls in the list are new, this is my Service Class:\r\n\r\n    package com.zimperium.server.phishing.services;\r\n    \r\n    //all my imports\r\n    \r\n    @Slf4j\r\n    @Service\r\n    @ConditionalOnProperty(value=&quot;urlcache.enabled&quot;, matchIfMissing=true, havingValue=&quot;true&quot;)\r\n    public class UrlCacheClient {\r\n        private Cache&lt;String, Boolean&gt; cache;\r\n        private String cache_name = &quot;ReceivedUrls&quot;;\r\n    \r\n        //Constructor:\r\n        public UrlCacheClient() {\r\n            // Begin implementing Cache\r\n            CachingProvider mycachingProvider = Caching.getCachingProvider();\r\n            CacheManager mycacheManager = mycachingProvider.getCacheManager();\r\n    \r\n            //configure the cache\r\n            MutableConfiguration&lt;String, Boolean&gt; config = new MutableConfiguration&lt;String, Boolean&gt;()\r\n                .setExpiryPolicyFactory(AccessedExpiryPolicy.factoryOf(new Duration(TimeUnit.HOURS, 72)))\r\n                .setStatisticsEnabled(true)\r\n                .setManagementEnabled(true)\r\n                .setTypes(String.class, Boolean.class)\r\n            ;\r\n    \r\n            // Get or Create:\r\n            try {\r\n                Iterable&lt;String&gt; existings_caches = mycacheManager.getCacheNames();\r\n                log.info(&quot;Existing Caches: {}&quot;, existings_caches);\r\n                \r\n                if (Iterables.contains(existings_caches, cache_name)) {\r\n                    cache = mycacheManager.getCache(cache_name);\r\n                    log.info(&quot;Cache: {} Fetched (Already Existed).&quot;, cache_name);\r\n                } else {\r\n                    cache = mycacheManager.createCache(cache_name, config);\r\n                    log.info(&quot;Cache: {} Created!&quot;, cache_name);\r\n                }\r\n    \r\n            } catch(CacheException e) {\r\n                log.info(&quot;Cache not available. Error: {}&quot;, e);\r\n            }\r\n        };\r\n    \r\n        //Methods:\r\n        public Boolean isNewUrl(String url) {\r\n            Boolean isnew = true;\r\n            try {\r\n                // If url exists:\r\n                if (cache.containsKey(url)) {\r\n                    isnew = false; //if found in cache, not new xD\r\n                    this.datadog_client.Increment(&quot;CacheUrl.Hit&quot;);\r\n                } else {\r\n                    this.datadog_client.Increment(&quot;CacheUrl.Miss&quot;);\r\n                };\r\n                cache.put(url, true); //We store on Cache for next time\r\n    \r\n            } catch(Exception e) {\r\n                this.datadog_client.Increment(&quot;CacheUrl.Exception&quot;);\r\n                log.warn(&quot;Cache Failed to check {}, Error: {}&quot;, url, e.getMessage());\r\n            };\r\n            return isnew; // If something wrong appends... keep going\r\n        };\r\n    }\r\n\r\n**I launch Hazelcast Like this:**\r\n\r\ndocker run --name=hazelcast -p 5701:5701 --detach hazelcast/hazelcast:latest --build\r\n\r\n\r\nBUT I have discover that after apron 45mb of keys I start losing data no matter if it was in less than 72hrs, I made this test to probe it:\r\n\r\n    @Test\r\n    public void CheckMaxSize() throws Exception {\r\n        // Hash Generator\r\n        String ORIGINAL_HASH = generateRandomPassword(50);\r\n        this.urlcache.isNewUrl(ORIGINAL_HASH); // We put it on cache\r\n        \r\n        Integer counter = 0;\r\n        Boolean still_incache = true;\r\n        while (still_incache) {\r\n            still_incache = !(this.urlcache.isNewUrl(ORIGINAL_HASH)); //Negation: not (isnew)\r\n            // We add new Hash to increse:\r\n            this.urlcache.isNewUrl(generateRandomPassword(25)); //We dont care the value\r\n            // Some Feedback:\r\n            counter += 1;\r\n            if ((counter%250) == 0) {\r\n                log.info(&quot;We succed loading: {} items on Cache...&quot;, counter);\r\n            }\r\n    \r\n        }\r\n        log.warn(&quot;We losted our Controller Hash after putting: {} new ones in cache&quot;, counter);\r\n    }\r\n\r\nThe generateRandomPassword Function:\r\n\r\n    public static String generateRandomPassword(int len) {\r\n        String chars = &quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!@#$%&amp;&quot;;\r\n        Random rnd = new Random();\r\n        StringBuilder sb = new StringBuilder(len);\r\n        for (int i = 0; i &lt; len; i++)\r\n            sb.append(chars.charAt(rnd.nextInt(chars.length())));\r\n        return sb.toString();\r\n    }\r\n\r\nI have discover that after 16k keys the controller is lost, but when I Increase the size of the password size to 50... it only take 8k keys to lost controller...\r\nTest Log:\r\n\r\n    com.zimperium.server.phishing.services.UrlCacheClientTest &gt; CheckMaxSize STANDARD_OUT\r\n        2022-07-28 13:11:04.669  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 250 items on Cache...\r\n        2022-07-28 13:11:05.354  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 500 items on Cache...\r\n        2022-07-28 13:11:06.052  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 750 items on Cache...\r\n        2022-07-28 13:11:06.744  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 1000 items on Cache...\r\n        2022-07-28 13:11:07.391  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 1250 items on Cache...\r\n        2022-07-28 13:11:08.048  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 1500 items on Cache...\r\n        2022-07-28 13:11:08.667  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 1750 items on Cache...\r\n        2022-07-28 13:11:09.305  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 2000 items on Cache...\r\n        2022-07-28 13:11:09.960  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 2250 items on Cache...\r\n        2022-07-28 13:11:10.616  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 2500 items on Cache...\r\n        2022-07-28 13:11:11.275  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 2750 items on Cache...\r\n        2022-07-28 13:11:12.539  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 3000 items on Cache...\r\n        2022-07-28 13:11:14.879  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 3250 items on Cache...\r\n        2022-07-28 13:11:16.008  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 3500 items on Cache...\r\n        2022-07-28 13:11:16.865  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 3750 items on Cache...\r\n        2022-07-28 13:11:18.090  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 4000 items on Cache...\r\n        2022-07-28 13:11:18.833  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 4250 items on Cache...\r\n        2022-07-28 13:11:19.857  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 4500 items on Cache...\r\n        2022-07-28 13:11:20.693  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 4750 items on Cache...\r\n        2022-07-28 13:11:21.347  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 5000 items on Cache...\r\n        2022-07-28 13:11:21.996  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 5250 items on Cache...\r\n        2022-07-28 13:11:22.682  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 5500 items on Cache...\r\n        2022-07-28 13:11:23.426  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 5750 items on Cache...\r\n        2022-07-28 13:11:24.224  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 6000 items on Cache...\r\n        2022-07-28 13:11:25.079  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 6250 items on Cache...\r\n        2022-07-28 13:11:25.899  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 6500 items on Cache...\r\n        2022-07-28 13:11:26.493  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 6750 items on Cache...\r\n        2022-07-28 13:11:27.334  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 7000 items on Cache...\r\n        2022-07-28 13:11:28.320  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 7250 items on Cache...\r\n        2022-07-28 13:11:29.285  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 7500 items on Cache...\r\n        2022-07-28 13:11:30.310  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 7750 items on Cache...\r\n        2022-07-28 13:11:31.460  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 8000 items on Cache...\r\n        2022-07-28 13:11:32.317  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 8250 items on Cache...\r\n        2022-07-28 13:11:33.018  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 8500 items on Cache...\r\n        2022-07-28 13:11:33.675  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 8750 items on Cache...\r\n        2022-07-28 13:11:34.417  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 9000 items on Cache...\r\n        2022-07-28 13:11:35.062  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 9250 items on Cache...\r\n        2022-07-28 13:11:35.688  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 9500 items on Cache...\r\n        2022-07-28 13:11:36.294  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 9750 items on Cache...\r\n        2022-07-28 13:11:36.896  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 10000 items on Cache...\r\n        2022-07-28 13:11:37.485  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 10250 items on Cache...\r\n        2022-07-28 13:11:38.067  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 10500 items on Cache...\r\n        2022-07-28 13:11:38.728  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 10750 items on Cache...\r\n        2022-07-28 13:11:39.398  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 11000 items on Cache...\r\n        2022-07-28 13:11:40.076  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 11250 items on Cache...\r\n        2022-07-28 13:11:40.783  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 11500 items on Cache...\r\n        2022-07-28 13:11:41.457  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 11750 items on Cache...\r\n        2022-07-28 13:11:42.110  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 12000 items on Cache...\r\n        2022-07-28 13:11:42.789  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 12250 items on Cache...\r\n        2022-07-28 13:11:43.380  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 12500 items on Cache...\r\n        2022-07-28 13:11:44.053  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 12750 items on Cache...\r\n        2022-07-28 13:11:44.724  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 13000 items on Cache...\r\n        2022-07-28 13:11:45.327  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 13250 items on Cache...\r\n        2022-07-28 13:11:45.986  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 13500 items on Cache...\r\n        2022-07-28 13:11:46.661  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 13750 items on Cache...\r\n        2022-07-28 13:11:47.324  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 14000 items on Cache...\r\n        2022-07-28 13:11:47.979  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 14250 items on Cache...\r\n        2022-07-28 13:11:48.644  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 14500 items on Cache...\r\n        2022-07-28 13:11:49.221  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 14750 items on Cache...\r\n        2022-07-28 13:11:49.812  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 15000 items on Cache...\r\n        2022-07-28 13:11:50.446  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 15250 items on Cache...\r\n        2022-07-28 13:11:51.086  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 15500 items on Cache...\r\n        2022-07-28 13:11:51.722  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 15750 items on Cache...\r\n        2022-07-28 13:11:52.384  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 16000 items on Cache...\r\n        2022-07-28 13:11:53.081  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 16250 items on Cache...\r\n        2022-07-28 13:11:53.732  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 16500 items on Cache...\r\n        2022-07-28 13:11:54.441  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 16750 items on Cache...\r\n        2022-07-28 13:11:54.607  WARN 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We losted our Controller Hash after putting: 16812 new ones in cache\r\n\r\nHow can I increase the size of my cache? I need at least 50k keys in memory on Hazelcast map to work...\r\nThank you very much for you help in advance &lt;3","title":"Java Spring Hazelcast: Change Max Size of Map Cache","body":"<p>I having a problem trying to implement a Cache to check what urls in the list are new, this is my Service Class:</p>\n<pre><code>package com.zimperium.server.phishing.services;\n\n//all my imports\n\n@Slf4j\n@Service\n@ConditionalOnProperty(value=&quot;urlcache.enabled&quot;, matchIfMissing=true, havingValue=&quot;true&quot;)\npublic class UrlCacheClient {\n    private Cache&lt;String, Boolean&gt; cache;\n    private String cache_name = &quot;ReceivedUrls&quot;;\n\n    //Constructor:\n    public UrlCacheClient() {\n        // Begin implementing Cache\n        CachingProvider mycachingProvider = Caching.getCachingProvider();\n        CacheManager mycacheManager = mycachingProvider.getCacheManager();\n\n        //configure the cache\n        MutableConfiguration&lt;String, Boolean&gt; config = new MutableConfiguration&lt;String, Boolean&gt;()\n            .setExpiryPolicyFactory(AccessedExpiryPolicy.factoryOf(new Duration(TimeUnit.HOURS, 72)))\n            .setStatisticsEnabled(true)\n            .setManagementEnabled(true)\n            .setTypes(String.class, Boolean.class)\n        ;\n\n        // Get or Create:\n        try {\n            Iterable&lt;String&gt; existings_caches = mycacheManager.getCacheNames();\n            log.info(&quot;Existing Caches: {}&quot;, existings_caches);\n            \n            if (Iterables.contains(existings_caches, cache_name)) {\n                cache = mycacheManager.getCache(cache_name);\n                log.info(&quot;Cache: {} Fetched (Already Existed).&quot;, cache_name);\n            } else {\n                cache = mycacheManager.createCache(cache_name, config);\n                log.info(&quot;Cache: {} Created!&quot;, cache_name);\n            }\n\n        } catch(CacheException e) {\n            log.info(&quot;Cache not available. Error: {}&quot;, e);\n        }\n    };\n\n    //Methods:\n    public Boolean isNewUrl(String url) {\n        Boolean isnew = true;\n        try {\n            // If url exists:\n            if (cache.containsKey(url)) {\n                isnew = false; //if found in cache, not new xD\n                this.datadog_client.Increment(&quot;CacheUrl.Hit&quot;);\n            } else {\n                this.datadog_client.Increment(&quot;CacheUrl.Miss&quot;);\n            };\n            cache.put(url, true); //We store on Cache for next time\n\n        } catch(Exception e) {\n            this.datadog_client.Increment(&quot;CacheUrl.Exception&quot;);\n            log.warn(&quot;Cache Failed to check {}, Error: {}&quot;, url, e.getMessage());\n        };\n        return isnew; // If something wrong appends... keep going\n    };\n}\n</code></pre>\n<p><strong>I launch Hazelcast Like this:</strong></p>\n<p>docker run --name=hazelcast -p 5701:5701 --detach hazelcast/hazelcast:latest --build</p>\n<p>BUT I have discover that after apron 45mb of keys I start losing data no matter if it was in less than 72hrs, I made this test to probe it:</p>\n<pre><code>@Test\npublic void CheckMaxSize() throws Exception {\n    // Hash Generator\n    String ORIGINAL_HASH = generateRandomPassword(50);\n    this.urlcache.isNewUrl(ORIGINAL_HASH); // We put it on cache\n    \n    Integer counter = 0;\n    Boolean still_incache = true;\n    while (still_incache) {\n        still_incache = !(this.urlcache.isNewUrl(ORIGINAL_HASH)); //Negation: not (isnew)\n        // We add new Hash to increse:\n        this.urlcache.isNewUrl(generateRandomPassword(25)); //We dont care the value\n        // Some Feedback:\n        counter += 1;\n        if ((counter%250) == 0) {\n            log.info(&quot;We succed loading: {} items on Cache...&quot;, counter);\n        }\n\n    }\n    log.warn(&quot;We losted our Controller Hash after putting: {} new ones in cache&quot;, counter);\n}\n</code></pre>\n<p>The generateRandomPassword Function:</p>\n<pre><code>public static String generateRandomPassword(int len) {\n    String chars = &quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!@#$%&amp;&quot;;\n    Random rnd = new Random();\n    StringBuilder sb = new StringBuilder(len);\n    for (int i = 0; i &lt; len; i++)\n        sb.append(chars.charAt(rnd.nextInt(chars.length())));\n    return sb.toString();\n}\n</code></pre>\n<p>I have discover that after 16k keys the controller is lost, but when I Increase the size of the password size to 50... it only take 8k keys to lost controller...\nTest Log:</p>\n<pre><code>com.zimperium.server.phishing.services.UrlCacheClientTest &gt; CheckMaxSize STANDARD_OUT\n    2022-07-28 13:11:04.669  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 250 items on Cache...\n    2022-07-28 13:11:05.354  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 500 items on Cache...\n    2022-07-28 13:11:06.052  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 750 items on Cache...\n    2022-07-28 13:11:06.744  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 1000 items on Cache...\n    2022-07-28 13:11:07.391  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 1250 items on Cache...\n    2022-07-28 13:11:08.048  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 1500 items on Cache...\n    2022-07-28 13:11:08.667  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 1750 items on Cache...\n    2022-07-28 13:11:09.305  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 2000 items on Cache...\n    2022-07-28 13:11:09.960  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 2250 items on Cache...\n    2022-07-28 13:11:10.616  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 2500 items on Cache...\n    2022-07-28 13:11:11.275  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 2750 items on Cache...\n    2022-07-28 13:11:12.539  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 3000 items on Cache...\n    2022-07-28 13:11:14.879  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 3250 items on Cache...\n    2022-07-28 13:11:16.008  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 3500 items on Cache...\n    2022-07-28 13:11:16.865  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 3750 items on Cache...\n    2022-07-28 13:11:18.090  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 4000 items on Cache...\n    2022-07-28 13:11:18.833  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 4250 items on Cache...\n    2022-07-28 13:11:19.857  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 4500 items on Cache...\n    2022-07-28 13:11:20.693  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 4750 items on Cache...\n    2022-07-28 13:11:21.347  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 5000 items on Cache...\n    2022-07-28 13:11:21.996  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 5250 items on Cache...\n    2022-07-28 13:11:22.682  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 5500 items on Cache...\n    2022-07-28 13:11:23.426  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 5750 items on Cache...\n    2022-07-28 13:11:24.224  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 6000 items on Cache...\n    2022-07-28 13:11:25.079  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 6250 items on Cache...\n    2022-07-28 13:11:25.899  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 6500 items on Cache...\n    2022-07-28 13:11:26.493  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 6750 items on Cache...\n    2022-07-28 13:11:27.334  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 7000 items on Cache...\n    2022-07-28 13:11:28.320  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 7250 items on Cache...\n    2022-07-28 13:11:29.285  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 7500 items on Cache...\n    2022-07-28 13:11:30.310  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 7750 items on Cache...\n    2022-07-28 13:11:31.460  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 8000 items on Cache...\n    2022-07-28 13:11:32.317  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 8250 items on Cache...\n    2022-07-28 13:11:33.018  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 8500 items on Cache...\n    2022-07-28 13:11:33.675  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 8750 items on Cache...\n    2022-07-28 13:11:34.417  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 9000 items on Cache...\n    2022-07-28 13:11:35.062  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 9250 items on Cache...\n    2022-07-28 13:11:35.688  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 9500 items on Cache...\n    2022-07-28 13:11:36.294  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 9750 items on Cache...\n    2022-07-28 13:11:36.896  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 10000 items on Cache...\n    2022-07-28 13:11:37.485  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 10250 items on Cache...\n    2022-07-28 13:11:38.067  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 10500 items on Cache...\n    2022-07-28 13:11:38.728  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 10750 items on Cache...\n    2022-07-28 13:11:39.398  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 11000 items on Cache...\n    2022-07-28 13:11:40.076  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 11250 items on Cache...\n    2022-07-28 13:11:40.783  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 11500 items on Cache...\n    2022-07-28 13:11:41.457  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 11750 items on Cache...\n    2022-07-28 13:11:42.110  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 12000 items on Cache...\n    2022-07-28 13:11:42.789  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 12250 items on Cache...\n    2022-07-28 13:11:43.380  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 12500 items on Cache...\n    2022-07-28 13:11:44.053  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 12750 items on Cache...\n    2022-07-28 13:11:44.724  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 13000 items on Cache...\n    2022-07-28 13:11:45.327  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 13250 items on Cache...\n    2022-07-28 13:11:45.986  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 13500 items on Cache...\n    2022-07-28 13:11:46.661  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 13750 items on Cache...\n    2022-07-28 13:11:47.324  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 14000 items on Cache...\n    2022-07-28 13:11:47.979  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 14250 items on Cache...\n    2022-07-28 13:11:48.644  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 14500 items on Cache...\n    2022-07-28 13:11:49.221  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 14750 items on Cache...\n    2022-07-28 13:11:49.812  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 15000 items on Cache...\n    2022-07-28 13:11:50.446  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 15250 items on Cache...\n    2022-07-28 13:11:51.086  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 15500 items on Cache...\n    2022-07-28 13:11:51.722  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 15750 items on Cache...\n    2022-07-28 13:11:52.384  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 16000 items on Cache...\n    2022-07-28 13:11:53.081  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 16250 items on Cache...\n    2022-07-28 13:11:53.732  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 16500 items on Cache...\n    2022-07-28 13:11:54.441  INFO 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We succed loading: 16750 items on Cache...\n    2022-07-28 13:11:54.607  WARN 39907 --- [    Test worker] c.z.s.p.services.UrlCacheClientTest      : We losted our Controller Hash after putting: 16812 new ones in cache\n</code></pre>\n<p>How can I increase the size of my cache? I need at least 50k keys in memory on Hazelcast map to work...\nThank you very much for you help in advance &lt;3</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":24764408,"reputation":306,"user_id":18648400,"display_name":"Mirco0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659452901,"creation_date":1659311669,"answer_id":73187750,"question_id":73187670,"body_markdown":"I think I got your problem, in the `SayHello` you have to change `if(name != null)` to \r\n\r\n`if(!name.trim().equals(&quot;&quot;))` or `if(name.trim().length &gt; 0)`\r\n\r\nHope this helps","title":"Android Studio- Display one string if a button is pressed with no text in the textbox and another when text is inputted","body":"<p>I think I got your problem, in the <code>SayHello</code> you have to change <code>if(name != null)</code> to</p>\n<p><code>if(!name.trim().equals(&quot;&quot;))</code> or <code>if(name.trim().length &gt; 0)</code></p>\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":22941049,"reputation":81,"user_id":17073807,"display_name":"D3mon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659333862,"creation_date":1659333862,"answer_id":73189391,"question_id":73187670,"body_markdown":"Hey I&#39;ve tried your code and I guess I found the issue, please alter your condition as follows:\r\n\r\n     public void SayHello() {\r\n                    String name = nameText.getText().toString();\r\n                    if (!name.isEmpty()) {\r\n                        textGreeting.setText(&quot;Hi, &quot; + name);\r\n                    } else {\r\n                        textGreeting.setText(&quot;You must enter a name&quot;);\r\n                    }\r\n\r\nIt is preferred to use `.isEmpty()` method to check if the string is empty or not instead of using != null or == null, by altering your condition like I mentioned above your empty `EditText` check will work too. Check screenshots below for both cases:\r\n\r\n[![Case where user enters text in edit text][1]][1]\r\n[![Case where edit text is empty and user click button][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ap4s0.png\r\n  [2]: https://i.stack.imgur.com/se28L.png\r\n\r\ntry this and do let me know if it works !!","title":"Android Studio- Display one string if a button is pressed with no text in the textbox and another when text is inputted","body":"<p>Hey I've tried your code and I guess I found the issue, please alter your condition as follows:</p>\n<pre><code> public void SayHello() {\n                String name = nameText.getText().toString();\n                if (!name.isEmpty()) {\n                    textGreeting.setText(&quot;Hi, &quot; + name);\n                } else {\n                    textGreeting.setText(&quot;You must enter a name&quot;);\n                }\n</code></pre>\n<p>It is preferred to use <code>.isEmpty()</code> method to check if the string is empty or not instead of using != null or == null, by altering your condition like I mentioned above your empty <code>EditText</code> check will work too. Check screenshots below for both cases:</p>\n<p><a href=\"https://i.stack.imgur.com/Ap4s0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ap4s0.png\" alt=\"Case where user enters text in edit text\" /></a>\n<a href=\"https://i.stack.imgur.com/se28L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/se28L.png\" alt=\"Case where edit text is empty and user click button\" /></a></p>\n<p>try this and do let me know if it works !!</p>\n"}],"owner":{"account_id":23548178,"reputation":25,"user_id":17591292,"display_name":"Britteny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73189391,"answer_count":2,"score":0,"last_activity_date":1659452901,"creation_date":1659310559,"question_id":73187670,"body_markdown":"I am incredibly new to Android Studio and was hoping to get some assistance.\r\nFor some reason, this code is only displaying the (&quot;Hi, &quot; +name) portion. I am not sure what I am doing wrong or how to get the (&quot;You must enter a name&quot;) portion to show when there is no text that has been inputted. We are needing to incorporate a SayHello() function into this and I am not sure if I am doing it properly...\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cj0Yt.png\r\n\r\n```\r\npackage com.example.assignment5_2;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.text.Editable;\r\nimport android.text.TextWatcher;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    EditText nameText;\r\n    TextView textGreeting;\r\n    Button buttonSayHello;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        nameText = (EditText) findViewById(R.id.nameText);\r\n        textGreeting = (TextView) findViewById(R.id.textGreeting);\r\n        buttonSayHello = (Button) findViewById(R.id.buttonSayHello);\r\n\r\n        buttonSayHello.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                SayHello();\r\n            }\r\n\r\n            public void SayHello() {\r\n                String name = nameText.getText().toString();\r\n                if (name != null) {\r\n                    textGreeting.setText(&quot;Hi, &quot; + name);\r\n                } else {\r\n                    textGreeting.setText(&quot;You must enter a name&quot;);\r\n                    buttonSayHello.setEnabled(name.isEmpty());\r\n                }\r\n\r\n            }\r\n        });\r\n    }\r\n} \r\n```","title":"Android Studio- Display one string if a button is pressed with no text in the textbox and another when text is inputted","body":"<p>I am incredibly new to Android Studio and was hoping to get some assistance.\nFor some reason, this code is only displaying the (&quot;Hi, &quot; +name) portion. I am not sure what I am doing wrong or how to get the (&quot;You must enter a name&quot;) portion to show when there is no text that has been inputted. We are needing to incorporate a SayHello() function into this and I am not sure if I am doing it properly...\n<a href=\"https://i.stack.imgur.com/cj0Yt.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>package com.example.assignment5_2;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.text.Editable;\nimport android.text.TextWatcher;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n    EditText nameText;\n    TextView textGreeting;\n    Button buttonSayHello;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        nameText = (EditText) findViewById(R.id.nameText);\n        textGreeting = (TextView) findViewById(R.id.textGreeting);\n        buttonSayHello = (Button) findViewById(R.id.buttonSayHello);\n\n        buttonSayHello.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                SayHello();\n            }\n\n            public void SayHello() {\n                String name = nameText.getText().toString();\n                if (name != null) {\n                    textGreeting.setText(&quot;Hi, &quot; + name);\n                } else {\n                    textGreeting.setText(&quot;You must enter a name&quot;);\n                    buttonSayHello.setEnabled(name.isEmpty());\n                }\n\n            }\n        });\n    }\n} \n</code></pre>\n"},{"tags":["java","multithreading","asynchronous","java-loom","project-loom"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1597409437,"post_id":63370669,"comment_id":112130669,"body_markdown":"[The answer you got](https://stackoverflow.com/a/63371072/2711488), is short but nails it. Besides that, you have already linked to [a document that explains the concept in great detail](http://cr.openjdk.java.net/~rpressler/loom/loom/sol1_part1.html#why). I suggest reading it, esp.the part where it explains how virtual threads are run *atop* of another executor, like a thread pool and how the synchronous calls get replaced by the asynchronous counterpart. Which makes the second approach transform to the first under the hood.  So what additional information do you hope to gain from the bounty?","body":"<a href=\"https://stackoverflow.com/a/63371072/2711488\">The answer you got</a>, is short but nails it. Besides that, you have already linked to <a href=\"http://cr.openjdk.java.net/~rpressler/loom/loom/sol1_part1.html#why\" rel=\"nofollow noreferrer\">a document that explains the concept in great detail</a>. I suggest reading it, esp.the part where it explains how virtual threads are run <i>atop</i> of another executor, like a thread pool and how the synchronous calls get replaced by the asynchronous counterpart. Which makes the second approach transform to the first under the hood.  So what additional information do you hope to gain from the bounty?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1608166296,"post_id":63370669,"comment_id":115503013,"body_markdown":"FYI, presentations in late 2020 by Ron Pressler of Oracle on *Project Loom* technology: [here](https://youtu.be/23HjZBOIshY) and [here](https://youtu.be/zuc9JZz9Xbw).","body":"FYI, presentations in late 2020 by Ron Pressler of Oracle on <i>Project Loom</i> technology: <a href=\"https://youtu.be/23HjZBOIshY\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://youtu.be/zuc9JZz9Xbw\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1597214079,"creation_date":1597214079,"answer_id":63371072,"question_id":63370669,"body_markdown":"We don&#39;t get benefit over asynchronous API. What we potentially will get is performance similar to asynchronous, but with synchronous code.","title":"Project loom: what makes the performance better when using virtual threads?","body":"<p>We don't get benefit over asynchronous API. What we potentially will get is performance similar to asynchronous, but with synchronous code.</p>\n"},{"tags":[],"owner":{"account_id":5929489,"reputation":10131,"user_id":4664415,"display_name":"mevets"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1597752223,"creation_date":1597752223,"answer_id":63468217,"question_id":63370669,"body_markdown":"1. The http server has a dedicated pool of threads ....\r\nHow big of a pool? (Number of CPUs)*N + C? N&gt;1 one can fall back to anti-scaling, as lock contention extends latency; where as N=1 can under-utilize available bandwidth.  There is a good analysis [here][1].\r\n\r\n2. The http server just spawns...\r\nThat would be a very naive implementation of this concept. A more realistic one would strive for collecting from a dynamic pool which kept one real thread for every blocked system call + one for every real CPU.   At least that is what the folks behind Go came up with.\r\n\r\nThe crux is to keep the {handlers, callbacks, completions, virtual threads, goroutines : all *PEA*s in a pod} from fighting over internal resources; thus they do not lean on system based blocking mechanisms until absolutely necessary  This falls under the banner of *lock avoidance*, and might be accomplished with various queuing strategies (see libdispatch), etc..  Note that this leaves the *PEA*  divorced from the underlying system thread, because they are internally multiplexed between them.  This is your concern about divorcing the concepts.  In practice, you pass around your favourite languages abstraction of a context pointer.\r\n\r\nAs [1] indicates, there are tangible results that can be directly linked to this approach; and a few intangibles.  Locking is easy -- you just make one big lock around your transactions and you are good to go.  That doesn&#39;t scale; but fine-grained locking is hard.  Hard to get working, hard to choose the fineness of the grain.  When to use { locks, CVs, semaphores, barriers, ... } are obvious in textbook examples; a little less so in deeply nested logic.  Lock avoidance makes that, for the most part, go away, and be limited to contended leaf components like malloc().\r\n\r\nI maintain some skepticism, as the research typically shows a poorly scaled system, which is transformed into a lock avoidance model, then shown to be better.  I have yet to see one which unleashes some *experienced developers* to analyze the synchronization behavior of the system, transform it for scalability, then measure the result.  But, even if that were a win *experienced developers* are a rare(ish) and expensive commodity; the heart of scalability is really financial.\r\n\r\n\r\n  [1]: https://cacm.acm.org/magazines/2016/11/209138-scaling-synchronization-in-multicore-programs/fulltext\r\n  [2]: http://[1]","title":"Project loom: what makes the performance better when using virtual threads?","body":"<ol>\n<li><p>The http server has a dedicated pool of threads ....\nHow big of a pool? (Number of CPUs)*N + C? N&gt;1 one can fall back to anti-scaling, as lock contention extends latency; where as N=1 can under-utilize available bandwidth.  There is a good analysis <a href=\"https://cacm.acm.org/magazines/2016/11/209138-scaling-synchronization-in-multicore-programs/fulltext\" rel=\"nofollow noreferrer\">here</a>.</p>\n</li>\n<li><p>The http server just spawns...\nThat would be a very naive implementation of this concept. A more realistic one would strive for collecting from a dynamic pool which kept one real thread for every blocked system call + one for every real CPU.   At least that is what the folks behind Go came up with.</p>\n</li>\n</ol>\n<p>The crux is to keep the {handlers, callbacks, completions, virtual threads, goroutines : all <em>PEA</em>s in a pod} from fighting over internal resources; thus they do not lean on system based blocking mechanisms until absolutely necessary  This falls under the banner of <em>lock avoidance</em>, and might be accomplished with various queuing strategies (see libdispatch), etc..  Note that this leaves the <em>PEA</em>  divorced from the underlying system thread, because they are internally multiplexed between them.  This is your concern about divorcing the concepts.  In practice, you pass around your favourite languages abstraction of a context pointer.</p>\n<p>As <a href=\"https://cacm.acm.org/magazines/2016/11/209138-scaling-synchronization-in-multicore-programs/fulltext\" rel=\"nofollow noreferrer\">1</a> indicates, there are tangible results that can be directly linked to this approach; and a few intangibles.  Locking is easy -- you just make one big lock around your transactions and you are good to go.  That doesn't scale; but fine-grained locking is hard.  Hard to get working, hard to choose the fineness of the grain.  When to use { locks, CVs, semaphores, barriers, ... } are obvious in textbook examples; a little less so in deeply nested logic.  Lock avoidance makes that, for the most part, go away, and be limited to contended leaf components like malloc().</p>\n<p>I maintain some skepticism, as the research typically shows a poorly scaled system, which is transformed into a lock avoidance model, then shown to be better.  I have yet to see one which unleashes some <em>experienced developers</em> to analyze the synchronization behavior of the system, transform it for scalability, then measure the result.  But, even if that were a win <em>experienced developers</em> are a rare(ish) and expensive commodity; the heart of scalability is really financial.</p>\n"},{"tags":[],"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1607518035,"creation_date":1607518035,"answer_id":65217077,"question_id":63370669,"body_markdown":"The [answer][1] by @talex puts it crisply. Adding further to it.\r\n\r\nLoom is more about a native concurrency abstraction, which additionally helps one  write asynchronous code. Given its a VM level abstraction, rather than just code level (like what we have been doing till now with `CompletableFuture` etc), It lets one implement asynchronous behavior but with reduce boiler plate.\r\n\r\n\r\nWith Loom, *a more powerful abstraction is the savior*. We have seen this repeatedly on how abstraction with syntactic sugar, makes one effectively write programs. Whether it was FunctionalInterfaces in JDK8, for-comprehensions in Scala.\r\n\r\nWith loom, there isn&#39;t a need to chain multiple CompletableFuture&#39;s (to save on resources). But one can write the code synchronously. And with each blocking operation encountered (ReentrantLock, i/o, JDBC calls), the virtual-thread gets parked. And because these are light-weight threads, the context switch is way-cheaper, distinguishing itself from kernel-threads.\r\n\r\nWhen blocked, the actual carrier-thread (that was running the `run`-body of the virtual thread), gets engaged for executing some other virtual-thread&#39;s run. So effectively, the carrier-thread is not sitting idle but executing some other work. And comes back to continue the execution of the original virtual-thread whenever unparked. Just like how a thread-pool would work. But here, you have a single carrier-thread in a way executing the body of multiple virtual-threads, switching from one to another when blocked.\r\n\r\nWe get the same behavior (and hence performance) as manually written asynchronous code, but instead avoiding the boiler-plate to do the same thing. \r\n\r\n\r\n----------\r\n\r\n\r\nConsider the case of a web-framework, where there is a separate thread-pool to handle i/o and the other for execution of http requests. For simple HTTP requests, one might serve the request from the http-pool thread itself. But if there are any blocking (or) high CPU operations, we let this activity happen on a separate thread asynchronously.\r\n\r\nThis thread would collect the information from an incoming request, spawn a `CompletableFuture`, and chain it with a pipeline (read from database as one stage, followed by computation from it, followed by another stage to write back to database case, web service calls etc). Each one is a stage, and the resultant `CompletablFuture` is returned back to the web-framework.\r\n\r\nWhen the resultant future is complete, the web-framework uses the results to be relayed back to the client. This is how `Play-Framework` and others, have been dealing with it. Providing an isolation between the http thread handling pool, and the execution of each request. But if we dive deeper in this, **why is it that we do this?**\r\n\r\nOne core reason is to use the resources effectively. Particularly blocking calls. And hence we chain with `thenApply` etc so that no thread is blocked on any activity, and we do more with less number of threads.\r\n\r\nThis works great, but quite **verbose**. And debugging is indeed painful, and if one of the intermediary stages results with an exception, the control-flow goes hay-wire, resulting in further code to handle it.\r\n\r\nWith Loom, we write synchronous code, and let someone else decide what to do when blocked. Rather than sleep and do nothing.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/63371072/894565","title":"Project loom: what makes the performance better when using virtual threads?","body":"<p>The <a href=\"https://stackoverflow.com/a/63371072/894565\">answer</a> by @talex puts it crisply. Adding further to it.</p>\n<p>Loom is more about a native concurrency abstraction, which additionally helps one  write asynchronous code. Given its a VM level abstraction, rather than just code level (like what we have been doing till now with <code>CompletableFuture</code> etc), It lets one implement asynchronous behavior but with reduce boiler plate.</p>\n<p>With Loom, <em>a more powerful abstraction is the savior</em>. We have seen this repeatedly on how abstraction with syntactic sugar, makes one effectively write programs. Whether it was FunctionalInterfaces in JDK8, for-comprehensions in Scala.</p>\n<p>With loom, there isn't a need to chain multiple CompletableFuture's (to save on resources). But one can write the code synchronously. And with each blocking operation encountered (ReentrantLock, i/o, JDBC calls), the virtual-thread gets parked. And because these are light-weight threads, the context switch is way-cheaper, distinguishing itself from kernel-threads.</p>\n<p>When blocked, the actual carrier-thread (that was running the <code>run</code>-body of the virtual thread), gets engaged for executing some other virtual-thread's run. So effectively, the carrier-thread is not sitting idle but executing some other work. And comes back to continue the execution of the original virtual-thread whenever unparked. Just like how a thread-pool would work. But here, you have a single carrier-thread in a way executing the body of multiple virtual-threads, switching from one to another when blocked.</p>\n<p>We get the same behavior (and hence performance) as manually written asynchronous code, but instead avoiding the boiler-plate to do the same thing.</p>\n<hr />\n<p>Consider the case of a web-framework, where there is a separate thread-pool to handle i/o and the other for execution of http requests. For simple HTTP requests, one might serve the request from the http-pool thread itself. But if there are any blocking (or) high CPU operations, we let this activity happen on a separate thread asynchronously.</p>\n<p>This thread would collect the information from an incoming request, spawn a <code>CompletableFuture</code>, and chain it with a pipeline (read from database as one stage, followed by computation from it, followed by another stage to write back to database case, web service calls etc). Each one is a stage, and the resultant <code>CompletablFuture</code> is returned back to the web-framework.</p>\n<p>When the resultant future is complete, the web-framework uses the results to be relayed back to the client. This is how <code>Play-Framework</code> and others, have been dealing with it. Providing an isolation between the http thread handling pool, and the execution of each request. But if we dive deeper in this, <strong>why is it that we do this?</strong></p>\n<p>One core reason is to use the resources effectively. Particularly blocking calls. And hence we chain with <code>thenApply</code> etc so that no thread is blocked on any activity, and we do more with less number of threads.</p>\n<p>This works great, but quite <strong>verbose</strong>. And debugging is indeed painful, and if one of the intermediary stages results with an exception, the control-flow goes hay-wire, resulting in further code to handle it.</p>\n<p>With Loom, we write synchronous code, and let someone else decide what to do when blocked. Rather than sleep and do nothing.</p>\n"}],"owner":{"account_id":1159141,"reputation":12863,"user_id":1139023,"accept_rate":72,"display_name":"Ashwin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2991,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":65217077,"answer_count":3,"score":27,"last_activity_date":1659452684,"creation_date":1597212178,"question_id":63370669,"body_markdown":"To give some context here, I have been following Project Loom for some time now. I have read [The state of Loom][1]. I have done asynchronous programming. \r\n\r\nAsynchronous programming (provided by Java NIO) returns the thread to the thread pool when the task waits and it goes to great lengths to not block threads. And this gives a large performance gain, we can now handle many more request as they are not directly bound by the number of OS threads. But what we lose here, is the context. The same task is now NOT associated with just one thread. All the context is lost once we dissociate tasks from threads. Exception traces do not provide very useful information and debugging is difficult.\r\n\r\nIn comes Project Loom with *virtual threads* that become the single unit of concurrency. And now you can perform a single task on a single virtual thread.\r\n\r\nIt&#39;s all fine until now, but the article goes on to state, with Project Loom:\r\n\r\n&gt; A simple, synchronous web server will be able to handle many more requests without requiring more hardware.\r\n\r\nI don&#39;t understand how we get performance benefits with Project Loom over asynchronous APIs? The *asynchrounous API:s* make sure to not keep any thread idle. So, what does Project Loom do to make it more efficient and performant that asynchronous API:s?\r\n\r\n\r\n### EDIT\r\n\r\nLet me re-phrase the question. Let&#39;s say we have an http server that takes in requests and does some crud operations with a backing persistent database. Say, this http server handles a lot of requests - 100K RPM. Two ways of implementing this:\r\n\r\n1. The HTTP server has a dedicated pool of threads. When a request comes in, a thread carries the task up until it reaches the DB, wherein the task has to wait for the response from DB. At this point, the thread is returned to the thread pool and goes on to do the other tasks. When DB responds, it is again handled by some thread from the thread pool and it returns an HTTP response. \r\n2. The HTTP server just spawns virtual threads for every request. If there is an IO, the virtual thread just waits for the task to complete. And then returns the HTTP Response. Basically, there is no pooling business going on for the virtual threads.\r\n\r\n**Given that the hardware and the throughput remain the same, would any one solution fare better than the other in terms of response times or handling more throughput?**\r\n\r\nMy guess is that there would not be any difference w.r.t performance.\r\n\r\n  [1]: http://cr.openjdk.java.net/~rpressler/loom/loom/sol1_part1.html#why","title":"Project loom: what makes the performance better when using virtual threads?","body":"<p>To give some context here, I have been following Project Loom for some time now. I have read <a href=\"http://cr.openjdk.java.net/%7Erpressler/loom/loom/sol1_part1.html#why\" rel=\"nofollow noreferrer\">The state of Loom</a>. I have done asynchronous programming.</p>\n<p>Asynchronous programming (provided by Java NIO) returns the thread to the thread pool when the task waits and it goes to great lengths to not block threads. And this gives a large performance gain, we can now handle many more request as they are not directly bound by the number of OS threads. But what we lose here, is the context. The same task is now NOT associated with just one thread. All the context is lost once we dissociate tasks from threads. Exception traces do not provide very useful information and debugging is difficult.</p>\n<p>In comes Project Loom with <em>virtual threads</em> that become the single unit of concurrency. And now you can perform a single task on a single virtual thread.</p>\n<p>It's all fine until now, but the article goes on to state, with Project Loom:</p>\n<blockquote>\n<p>A simple, synchronous web server will be able to handle many more requests without requiring more hardware.</p>\n</blockquote>\n<p>I don't understand how we get performance benefits with Project Loom over asynchronous APIs? The <em>asynchrounous API:s</em> make sure to not keep any thread idle. So, what does Project Loom do to make it more efficient and performant that asynchronous API:s?</p>\n<h3>EDIT</h3>\n<p>Let me re-phrase the question. Let's say we have an http server that takes in requests and does some crud operations with a backing persistent database. Say, this http server handles a lot of requests - 100K RPM. Two ways of implementing this:</p>\n<ol>\n<li>The HTTP server has a dedicated pool of threads. When a request comes in, a thread carries the task up until it reaches the DB, wherein the task has to wait for the response from DB. At this point, the thread is returned to the thread pool and goes on to do the other tasks. When DB responds, it is again handled by some thread from the thread pool and it returns an HTTP response.</li>\n<li>The HTTP server just spawns virtual threads for every request. If there is an IO, the virtual thread just waits for the task to complete. And then returns the HTTP Response. Basically, there is no pooling business going on for the virtual threads.</li>\n</ol>\n<p><strong>Given that the hardware and the throughput remain the same, would any one solution fare better than the other in terms of response times or handling more throughput?</strong></p>\n<p>My guess is that there would not be any difference w.r.t performance.</p>\n"},{"tags":["java","spring","spring-mvc","spring-security","log4j"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1659457207,"post_id":73209706,"comment_id":129297386,"body_markdown":"because you need to read the section about filters in the spring security documentation. Where do you think your filter is plaaced when you are registering it manually? Read the spring boot/spring security official documentation how to actually registering a filter.","body":"because you need to read the section about filters in the spring security documentation. Where do you think your filter is plaaced when you are registering it manually? Read the spring boot/spring security official documentation how to actually registering a filter."},{"owner":{"account_id":7474965,"reputation":921,"user_id":5681666,"display_name":"M46"},"score":0,"creation_date":1659510585,"post_id":73209706,"comment_id":129309008,"body_markdown":"@Toerktumlare Please read what I have written! The problem is not to register a filter! The filter is the first in the filter chain so every request gets in here. The proble is the log4j setting which causes trouble.","body":"@Toerktumlare Please read what I have written! The problem is not to register a filter! The filter is the first in the filter chain so every request gets in here. The proble is the log4j setting which causes trouble."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1659515095,"post_id":73209706,"comment_id":129310517,"body_markdown":"read what i have written, you are trying to log info about who is authenticated, but if your filter is first in the chain no one has been authenticated yet since authentication and the population of the SecurityContext is done in a later filter.. That is my exact point, your filter is the first in the chain.","body":"read what i have written, you are trying to log info about who is authenticated, but if your filter is first in the chain no one has been authenticated yet since authentication and the population of the SecurityContext is done in a later filter.. That is my exact point, your filter is the first in the chain."},{"owner":{"account_id":7474965,"reputation":921,"user_id":5681666,"display_name":"M46"},"score":0,"creation_date":1659515388,"post_id":73209706,"comment_id":129310618,"body_markdown":"This is true, my filter is first but then it must be able to see POST requests coming in but it&#39;s not due to the log4j setting. And the logging is done after walking through the complete filter chain. As you can see I have added &quot;filterChain.doFilter(requestToUse, responseToUse);&quot; before the logging so authentication is completed at that point.","body":"This is true, my filter is first but then it must be able to see POST requests coming in but it&#39;s not due to the log4j setting. And the logging is done after walking through the complete filter chain. As you can see I have added &quot;filterChain.doFilter(requestToUse, responseToUse);&quot; before the logging so authentication is completed at that point."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1659520484,"post_id":73209706,"comment_id":129312540,"body_markdown":"The last filter in the spring security chain clears the context to prepare for the next request. As you are saying, you are logging AFTER the entire chain, so the context has been cleared at that point","body":"The last filter in the spring security chain clears the context to prepare for the next request. As you are saying, you are logging AFTER the entire chain, so the context has been cleared at that point"}],"owner":{"account_id":7474965,"reputation":921,"user_id":5681666,"display_name":"M46"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659452652,"creation_date":1659452347,"question_id":73209706,"body_markdown":"My goal is to log the incoming http requests to my Spring (5.0.7) MVC Web / Spring security (4.2.3) application. I want to save the requestdata in a database, containing IP, request method, headers, body and the URL. The critical requests are the login attempts so I need to fetch the POST request to the /login URL.\r\nTherefore I wrote a filter to get this done because an interceptor is applied after the filter chain.\r\n\r\nI looked at the solution at [this SO question][1] and I also tried [the variant with an interceptor][2].\r\n\r\n**WebAppInitializer**\r\n\r\n    public class WebApplicationInitializer extends\tAbstractAnnotationConfigDispatcherServletInitializer {\r\n\r\n    ...\r\n\r\n    \t@Override\r\n\t    public void onStartup(ServletContext servletContext) throws ServletException {\r\n\t      super.onStartup(servletContext);\r\n\t\t\r\n          ...\r\n\t      filterRegistration = servletContext.addFilter(&quot;logFilter&quot;, new APILoggingFilter() );\r\n\t      String[] mappings = new String[] {&quot;/login&quot;, &quot;/logout&quot;, &quot;/data&quot;};\r\n\t      filterRegistration.addMappingForUrlPatterns(null, false, mappings);\r\n\t    }\r\n\r\n    }\r\n\r\n**LoggingFilter**\r\n\r\n    public class APILoggingFilter extends OncePerRequestFilter {\r\n    \r\n      @Override\r\n\t  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n\t\t\tthrows ServletException, IOException {\r\n\t\t\r\n\t    boolean isFirstRequest = !isAsyncDispatch(request);\r\n\t    HttpServletRequest requestToUse = request;\r\n\t    HttpServletResponse responseToUse = response;\r\n\r\n\t    if (isFirstRequest &amp;&amp; !(request instanceof ContentCachingRequestWrapper)) {\r\n\t      requestToUse = new ContentCachingRequestWrapper(request);\r\n\t    }\r\n\r\n\t    if (isFirstRequest &amp;&amp; !(response instanceof ContentCachingResponseWrapper)) {\r\n\t      responseToUse = new ContentCachingResponseWrapper(response);\r\n\t    }\r\n\r\n\t    filterChain.doFilter(requestToUse, responseToUse);\r\n\r\n\t    String user = SecurityContextHolder.getContext().getAuthentication().getName();\r\n\t  \r\n        // This is were the logging to the database should take place\r\n\t    \r\n\t    if (!isAsyncStarted(request)) {\r\n\t      ContentCachingResponseWrapper responseWrapper = WebUtils.getNativeResponse(responseToUse, ContentCachingResponseWrapper.class);\r\n\t      responseWrapper.copyBodyToResponse();\r\n\t    }\r\n\r\n\t  }\r\n    \r\n\t\r\n\t  @Override\r\n      protected boolean shouldNotFilterAsyncDispatch() {\r\n\t    return false;\r\n\t  }\r\n\r\n    }\r\n\r\n\r\n**log4j.properties**\r\n\r\n    log4j.logger.org.springframework=INFO\r\n    log4j.logger.org.springframework.web.filter=DEBUG\r\n\r\nWith this code I am able to log all request to the database with almost all the data I wanted. I see GET requests and POST requests.\r\n\r\nThe problem or question is: why is it not possible to see the username? I tried to get the username via \r\n\r\n    request.getRemoteUser();\r\n\r\nand with\r\n\r\n    String user = SecurityContextHolder.getContext().getAuthentication().getName();\r\n\r\nIt is always null. And here is the curious thing. If I disable the second entry in my log4j.properties (log4j.logger.org.springframework.web.filter=DEBUG) then I always get the username with both options BUT I never fetch a POST request anymore only GET requests.\r\n\r\nHow do I achieve both goals? Fetch all requests AND get the username? \r\n\r\n  [1]: https://stackoverflow.com/questions/6631257/\r\n  [2]: https://stackoverflow.com/questions/54035778","title":"How to log a username in Spring MVC POST request","body":"<p>My goal is to log the incoming http requests to my Spring (5.0.7) MVC Web / Spring security (4.2.3) application. I want to save the requestdata in a database, containing IP, request method, headers, body and the URL. The critical requests are the login attempts so I need to fetch the POST request to the /login URL.\nTherefore I wrote a filter to get this done because an interceptor is applied after the filter chain.</p>\n<p>I looked at the solution at <a href=\"https://stackoverflow.com/questions/6631257/\">this SO question</a> and I also tried <a href=\"https://stackoverflow.com/questions/54035778\">the variant with an interceptor</a>.</p>\n<p><strong>WebAppInitializer</strong></p>\n<pre><code>public class WebApplicationInitializer extends  AbstractAnnotationConfigDispatcherServletInitializer {\n\n...\n\n    @Override\n    public void onStartup(ServletContext servletContext) throws ServletException {\n      super.onStartup(servletContext);\n    \n      ...\n      filterRegistration = servletContext.addFilter(&quot;logFilter&quot;, new APILoggingFilter() );\n      String[] mappings = new String[] {&quot;/login&quot;, &quot;/logout&quot;, &quot;/data&quot;};\n      filterRegistration.addMappingForUrlPatterns(null, false, mappings);\n    }\n\n}\n</code></pre>\n<p><strong>LoggingFilter</strong></p>\n<pre><code>public class APILoggingFilter extends OncePerRequestFilter {\n\n  @Override\n  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n        throws ServletException, IOException {\n    \n    boolean isFirstRequest = !isAsyncDispatch(request);\n    HttpServletRequest requestToUse = request;\n    HttpServletResponse responseToUse = response;\n\n    if (isFirstRequest &amp;&amp; !(request instanceof ContentCachingRequestWrapper)) {\n      requestToUse = new ContentCachingRequestWrapper(request);\n    }\n\n    if (isFirstRequest &amp;&amp; !(response instanceof ContentCachingResponseWrapper)) {\n      responseToUse = new ContentCachingResponseWrapper(response);\n    }\n\n    filterChain.doFilter(requestToUse, responseToUse);\n\n    String user = SecurityContextHolder.getContext().getAuthentication().getName();\n  \n    // This is were the logging to the database should take place\n    \n    if (!isAsyncStarted(request)) {\n      ContentCachingResponseWrapper responseWrapper = WebUtils.getNativeResponse(responseToUse, ContentCachingResponseWrapper.class);\n      responseWrapper.copyBodyToResponse();\n    }\n\n  }\n\n\n  @Override\n  protected boolean shouldNotFilterAsyncDispatch() {\n    return false;\n  }\n\n}\n</code></pre>\n<p><strong>log4j.properties</strong></p>\n<pre><code>log4j.logger.org.springframework=INFO\nlog4j.logger.org.springframework.web.filter=DEBUG\n</code></pre>\n<p>With this code I am able to log all request to the database with almost all the data I wanted. I see GET requests and POST requests.</p>\n<p>The problem or question is: why is it not possible to see the username? I tried to get the username via</p>\n<pre><code>request.getRemoteUser();\n</code></pre>\n<p>and with</p>\n<pre><code>String user = SecurityContextHolder.getContext().getAuthentication().getName();\n</code></pre>\n<p>It is always null. And here is the curious thing. If I disable the second entry in my log4j.properties (log4j.logger.org.springframework.web.filter=DEBUG) then I always get the username with both options BUT I never fetch a POST request anymore only GET requests.</p>\n<p>How do I achieve both goals? Fetch all requests AND get the username?</p>\n"},{"tags":["java","apache-kafka","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1659448120,"post_id":73207602,"comment_id":129293663,"body_markdown":"Partitioning at the binder level is intended for infrastructure that doesn&#39;t support partitioning natively; just don&#39;t use it and let Kafka do the partitioning itself.","body":"Partitioning at the binder level is intended for infrastructure that doesn&#39;t support partitioning natively; just don&#39;t use it and let Kafka do the partitioning itself."},{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":0,"creation_date":1659450491,"post_id":73207602,"comment_id":129294711,"body_markdown":"@GaryRussell Thanks for the reply.  I reread the [docs](https://cloud.spring.io/spring-cloud-stream-binder-kafka/spring-cloud-stream-binder-kafka.html#_partitioning_with_the_kafka_binder) and the info blurb in that section explicitly mentions this case. However, I suppose the previous developers working on my codebase weren&#39;t aware that the default Kafka producer partition strategy is different to this - I would assume others would be similarly confused (since it *is* similar). Perhaps this could be more explicit in the documentation? I&#39;m more interested in the reasoning - I assume simplicity.","body":"@GaryRussell Thanks for the reply.  I reread the <a href=\"https://cloud.spring.io/spring-cloud-stream-binder-kafka/spring-cloud-stream-binder-kafka.html#_partitioning_with_the_kafka_binder\" rel=\"nofollow noreferrer\">docs</a> and the info blurb in that section explicitly mentions this case. However, I suppose the previous developers working on my codebase weren&#39;t aware that the default Kafka producer partition strategy is different to this - I would assume others would be similarly confused (since it <i>is</i> similar). Perhaps this could be more explicit in the documentation? I&#39;m more interested in the reasoning - I assume simplicity."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659452604,"creation_date":1659452604,"answer_id":73209768,"question_id":73207602,"body_markdown":"As I said in my comment\r\n\r\n&gt;Partitioning at the binder level is intended for infrastructure that doesn&#39;t support partitioning natively; just don&#39;t use it and let Kafka do the partitioning itself.\r\n\r\nThat said, it&#39;s not entirely clear what you mean; the spring partitioner was written long ago and predates the sticky cache introduced by KIP 480. But, even that partitioner will change the partition if the number of partitions changes when the app is restarted - if there is a key, it is modded by the number of partitions; if there is no key, a random (sticky) partition is selected.\r\n\r\nRun this with 10, then 20, partitions and you will see that.\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class So73207602Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(So73207602Application.class, args).close();\r\n\t}\r\n\r\n\t@Bean\r\n\tApplicationRunner runner(KafkaTemplate&lt;String, String&gt; template, NewTopic topic, KafkaAdmin admin) {\r\n\t\treturn args -&gt; {\r\n\t\t\tSystem.out.println(template.send(&quot;topic1&quot;, &quot;foo&quot;, &quot;bar&quot;).get().getRecordMetadata());\r\n\t\t};\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic NewTopic topic() {\r\n\t\treturn TopicBuilder.name(&quot;topic1&quot;).partitions(10).replicas(1).build();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nWith a `null` key you will get a different (random) partition each time.","title":"Why does Spring Cloud Stream with Kafka binder hash keys differently than a standard Kafka Producer?","body":"<p>As I said in my comment</p>\n<blockquote>\n<p>Partitioning at the binder level is intended for infrastructure that doesn't support partitioning natively; just don't use it and let Kafka do the partitioning itself.</p>\n</blockquote>\n<p>That said, it's not entirely clear what you mean; the spring partitioner was written long ago and predates the sticky cache introduced by KIP 480. But, even that partitioner will change the partition if the number of partitions changes when the app is restarted - if there is a key, it is modded by the number of partitions; if there is no key, a random (sticky) partition is selected.</p>\n<p>Run this with 10, then 20, partitions and you will see that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class So73207602Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So73207602Application.class, args).close();\n    }\n\n    @Bean\n    ApplicationRunner runner(KafkaTemplate&lt;String, String&gt; template, NewTopic topic, KafkaAdmin admin) {\n        return args -&gt; {\n            System.out.println(template.send(&quot;topic1&quot;, &quot;foo&quot;, &quot;bar&quot;).get().getRecordMetadata());\n        };\n    }\n\n    @Bean\n    public NewTopic topic() {\n        return TopicBuilder.name(&quot;topic1&quot;).partitions(10).replicas(1).build();\n    }\n\n}\n</code></pre>\n<p>With a <code>null</code> key you will get a different (random) partition each time.</p>\n"}],"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73209768,"answer_count":1,"score":1,"last_activity_date":1659452604,"creation_date":1659443472,"question_id":73207602,"body_markdown":"I&#39;ve run into [a problem](https://stackoverflow.com/questions/73167913/odd-behaviour-on-repartitioning-existing-data-in-kafka?noredirect=1#comment129275277_73167913) where I need to repartition an existing topic (`source`) to a new topic (`target`) with a higher number of partitions (a multiple of the number of previous partitions). \r\n\r\nThe `source` topic was written to using Spring Cloud Stream using the Kafka Binder. The `target` topic is being written to using a KStreams application.\r\n\r\nThe records in the `source` topic were being partitioned based on a header, with `key=null`. I tried to explicitly extract this header and set a message key for records in the `target` topic, and noticed that records with the same partition key were landing in completely different partitions.\r\n\r\nAfter some investigation, I&#39;ve found the culprit to be the following:\r\n\r\n`org.springframework.cloud.stream.binder.PartitionHandler.DefaultPartitionSelector`\r\n```java\r\n\tprivate static class DefaultPartitionSelector implements PartitionSelectorStrategy {\r\n\r\n\t\t@Override\r\n\t\tpublic int selectPartition(Object key, int partitionCount) {\r\n\t\t\tint hashCode = key.hashCode();\r\n\t\t\tif (hashCode == Integer.MIN_VALUE) {\r\n\t\t\t\thashCode = 0;\r\n\t\t\t}\r\n\t\t\treturn Math.abs(hashCode);\r\n\t\t}\r\n\t}\r\n```\r\n\r\n`org.springframework.cloud.stream.binder.PartitionHandler`\r\n```java\r\n\tpublic int determinePartition(Message&lt;?&gt; message) {\r\n\t\t// ... non relevant code omitted\r\n\r\n\t\tpartition = this.partitionSelectorStrategy.selectPartition(key,\r\n\t\t\t\t\tthis.partitionCount);\r\n\t\t// protection in case a user selector returns a negative.\r\n\t\treturn Math.abs(partition % this.partitionCount);\r\n```\r\n\r\nWhile the default Kafka partitioning strategy does:\r\n\r\n`org.apache.kafka.clients.producer.internals.DefaultPartitioner`\r\n```java\r\n    public int partition(String topic, Object key, byte[] keyBytes, Object value, byte[] valueBytes, Cluster cluster,\r\n                         int numPartitions) {\r\n        if (keyBytes == null) {\r\n            return stickyPartitionCache.partition(topic, cluster);\r\n        }\r\n        // hash the keyBytes to choose a partition\r\n        return Utils.toPositive(Utils.murmur2(keyBytes)) % numPartitions;\r\n    }\r\n```\r\n\r\nIn essence, using something other than Spring Cloud Stream would never allow co-partitioning with a topic written to by a non Spring Cloud Stream App, unless a custom Partitioner is used (not too difficult to do). \r\n\r\nIt should be noted, however, that the above `DefaultPartitionSelector` is not located in the Kafka Binder module, but in the higher-level `spring-cloud-stream` module.\r\n\r\nWhat is the reasoning for this design choice? I imagine the default partitioner applies to all binders, not just Kafka, but why does the Kafka Binder not implement and its own Partitioner that allows out-of-the-box co-partitioning with non-Spring Cloud Stream apps by default?","title":"Why does Spring Cloud Stream with Kafka binder hash keys differently than a standard Kafka Producer?","body":"<p>I've run into <a href=\"https://stackoverflow.com/questions/73167913/odd-behaviour-on-repartitioning-existing-data-in-kafka?noredirect=1#comment129275277_73167913\">a problem</a> where I need to repartition an existing topic (<code>source</code>) to a new topic (<code>target</code>) with a higher number of partitions (a multiple of the number of previous partitions).</p>\n<p>The <code>source</code> topic was written to using Spring Cloud Stream using the Kafka Binder. The <code>target</code> topic is being written to using a KStreams application.</p>\n<p>The records in the <code>source</code> topic were being partitioned based on a header, with <code>key=null</code>. I tried to explicitly extract this header and set a message key for records in the <code>target</code> topic, and noticed that records with the same partition key were landing in completely different partitions.</p>\n<p>After some investigation, I've found the culprit to be the following:</p>\n<p><code>org.springframework.cloud.stream.binder.PartitionHandler.DefaultPartitionSelector</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static class DefaultPartitionSelector implements PartitionSelectorStrategy {\n\n        @Override\n        public int selectPartition(Object key, int partitionCount) {\n            int hashCode = key.hashCode();\n            if (hashCode == Integer.MIN_VALUE) {\n                hashCode = 0;\n            }\n            return Math.abs(hashCode);\n        }\n    }\n</code></pre>\n<p><code>org.springframework.cloud.stream.binder.PartitionHandler</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    public int determinePartition(Message&lt;?&gt; message) {\n        // ... non relevant code omitted\n\n        partition = this.partitionSelectorStrategy.selectPartition(key,\n                    this.partitionCount);\n        // protection in case a user selector returns a negative.\n        return Math.abs(partition % this.partitionCount);\n</code></pre>\n<p>While the default Kafka partitioning strategy does:</p>\n<p><code>org.apache.kafka.clients.producer.internals.DefaultPartitioner</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    public int partition(String topic, Object key, byte[] keyBytes, Object value, byte[] valueBytes, Cluster cluster,\n                         int numPartitions) {\n        if (keyBytes == null) {\n            return stickyPartitionCache.partition(topic, cluster);\n        }\n        // hash the keyBytes to choose a partition\n        return Utils.toPositive(Utils.murmur2(keyBytes)) % numPartitions;\n    }\n</code></pre>\n<p>In essence, using something other than Spring Cloud Stream would never allow co-partitioning with a topic written to by a non Spring Cloud Stream App, unless a custom Partitioner is used (not too difficult to do).</p>\n<p>It should be noted, however, that the above <code>DefaultPartitionSelector</code> is not located in the Kafka Binder module, but in the higher-level <code>spring-cloud-stream</code> module.</p>\n<p>What is the reasoning for this design choice? I imagine the default partitioner applies to all binders, not just Kafka, but why does the Kafka Binder not implement and its own Partitioner that allows out-of-the-box co-partitioning with non-Spring Cloud Stream apps by default?</p>\n"},{"tags":["java","swing","joptionpane"],"answers":[{"tags":[],"owner":{"account_id":21616679,"reputation":106,"user_id":15942375,"display_name":"Guy Lawrence-Downs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659452590,"creation_date":1659452590,"answer_id":73209765,"question_id":73209619,"body_markdown":"You can check if a JOptionPane button has been pressed by using things like YES_OPTION and NO_OPTION.\r\n\r\n    if(n == OptionPane.YES_OPTION){\r\n        //do this\r\n    }\r\nThis works the same for NO_OPTION and also OK_OPTION. Hopefully this helps :)","title":"Can JOptionPane options do something after being clicked?","body":"<p>You can check if a JOptionPane button has been pressed by using things like YES_OPTION and NO_OPTION.</p>\n<pre><code>if(n == OptionPane.YES_OPTION){\n    //do this\n}\n</code></pre>\n<p>This works the same for NO_OPTION and also OK_OPTION. Hopefully this helps :)</p>\n"}],"owner":{"account_id":24942217,"reputation":29,"user_id":18807942,"display_name":"madman12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":73209765,"answer_count":1,"score":-3,"last_activity_date":1659452590,"creation_date":1659451971,"question_id":73209619,"body_markdown":"I have a JOptionPane I&#39;ve been working with this morning as I&#39;m trying to learn Swing! I&#39;ve been looking at the reference pages by oracle, and the farthest I got was to make 2 buttons that when you click either of them, they close (so they do the same thing.) Is there a way I can check when a button is clicked and do something (like printing something?)\r\n\r\nMy code works, I just need help on what to do next.\r\n\r\n        import javax.swing.JOptionPane;\r\n    \r\n        public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            JOptionPane frame = new JOptionPane();\r\n          //Custom button text\r\n        \t\r\n            Object[] options = {&quot;Barack&quot;,\r\n                                &quot;Obama&quot;};\r\n            int n = JOptionPane.showOptionDialog(frame,\r\n                &quot;His name is..&quot;,\r\n                &quot;Obamas name is?&quot;,\r\n                JOptionPane.YES_NO_OPTION,\r\n                JOptionPane.QUESTION_MESSAGE,\r\n                null,     //do not use a custom Icon\r\n                options,  //the titles of buttons\r\n                options[0]); //default button title\r\n        }\r\n      }\r\n\r\nOutput when running:\r\n\r\n[![the frame][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3m8og.png\r\n","title":"Can JOptionPane options do something after being clicked?","body":"<p>I have a JOptionPane I've been working with this morning as I'm trying to learn Swing! I've been looking at the reference pages by oracle, and the farthest I got was to make 2 buttons that when you click either of them, they close (so they do the same thing.) Is there a way I can check when a button is clicked and do something (like printing something?)</p>\n<p>My code works, I just need help on what to do next.</p>\n<pre><code>    import javax.swing.JOptionPane;\n\n    public class Main {\n\n    public static void main(String[] args) {\n        JOptionPane frame = new JOptionPane();\n      //Custom button text\n        \n        Object[] options = {&quot;Barack&quot;,\n                            &quot;Obama&quot;};\n        int n = JOptionPane.showOptionDialog(frame,\n            &quot;His name is..&quot;,\n            &quot;Obamas name is?&quot;,\n            JOptionPane.YES_NO_OPTION,\n            JOptionPane.QUESTION_MESSAGE,\n            null,     //do not use a custom Icon\n            options,  //the titles of buttons\n            options[0]); //default button title\n    }\n  }\n</code></pre>\n<p>Output when running:</p>\n<p><a href=\"https://i.stack.imgur.com/3m8og.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3m8og.png\" alt=\"the frame\" /></a></p>\n"},{"tags":["java","drools"],"answers":[{"tags":[],"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659452434,"creation_date":1659417335,"answer_id":73202277,"question_id":73200358,"body_markdown":"**The answer to the question in the title:**\r\n\r\nEverything in the rule consequences (&quot;then&quot; clause, also called the &quot;right hand side&quot;) gets executed. So yes, you can have multiple consequences in the &#39;then&#39; clause and they will all fire.\r\n\r\n---\r\n\r\n**The answer to the question in the body:**\r\n\r\nHowever your &quot;route to &lt;queue\\&gt;&quot; action is defined, it&#39;s not correctly identifying the request generated immediately previous. Maybe you have asynchronous processing involved and you&#39;re hitting a race condition, I don&#39;t know -- you haven&#39;t shared how &quot;route to...&quot; is defined, and even your &quot;create ... request...&quot; action is vague.\r\n\r\nYour two-rule solution won&#39;t work because of the &#39;Not routed yet&#39; condition. Once the &#39;send to F&#39; rule is triggered, &#39;not routed yet&#39; is no longer accurate, so &#39;send to W&#39; is not valid to fire; the reverse is also true. You can solve this issue in your two-rule solution by changing the &#39;not routed yet&#39; condition to instead be defined something like &quot;Not routed yet or only previously routed to W/F&quot; (where &quot;W/F&quot; is the other route.) Could do it with 4 rules, this way as well, but that&#39;s getting complex.\r\n\r\nI&#39;d suggest fixing your actions to properly create and send the requests and have a single rule. ","title":"Jboss drools - Can I have multiple consequences in &quot;then&quot; condition and fire the rules?","body":"<p><strong>The answer to the question in the title:</strong></p>\n<p>Everything in the rule consequences (&quot;then&quot; clause, also called the &quot;right hand side&quot;) gets executed. So yes, you can have multiple consequences in the 'then' clause and they will all fire.</p>\n<hr />\n<p><strong>The answer to the question in the body:</strong></p>\n<p>However your &quot;route to &lt;queue&gt;&quot; action is defined, it's not correctly identifying the request generated immediately previous. Maybe you have asynchronous processing involved and you're hitting a race condition, I don't know -- you haven't shared how &quot;route to...&quot; is defined, and even your &quot;create ... request...&quot; action is vague.</p>\n<p>Your two-rule solution won't work because of the 'Not routed yet' condition. Once the 'send to F' rule is triggered, 'not routed yet' is no longer accurate, so 'send to W' is not valid to fire; the reverse is also true. You can solve this issue in your two-rule solution by changing the 'not routed yet' condition to instead be defined something like &quot;Not routed yet or only previously routed to W/F&quot; (where &quot;W/F&quot; is the other route.) Could do it with 4 rules, this way as well, but that's getting complex.</p>\n<p>I'd suggest fixing your actions to properly create and send the requests and have a single rule.</p>\n"}],"owner":{"account_id":11963552,"reputation":247,"user_id":8753957,"accept_rate":40,"display_name":"Santosh Ravi Teja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659452434,"creation_date":1659394683,"question_id":73200358,"body_markdown":"I&#39;m relatively very new to drools and have a requirement where I need to execute both consequences for my rule.\r\n\r\nCreating new requests W and F.\r\n\r\nConsequence in `.dsl` file\r\n\r\n    [consequence][]Create W Request for Cash=$out.setNewPayload(requestFactory.submitWReq($message));\r\n    [consequence][]Create F Request for Cash=$out.setNewPayload(requestFactory.submitFReq($message));\r\n\r\n`.dslr` file\r\nI have created a rule here which has both consequences in the same rule, but \r\n\r\n    rule &quot;Send an incoming request to WF&quot;\r\n    when\r\n        There is an incoming message\r\n        Not routed yet\r\n    then\r\n       Create W Request for Cash\r\n       Route to &quot;WQueue&quot;.\r\n       Create F Request for Cash\r\n       Route to &quot;RQueue&quot;.\r\n\r\nThis problem with having multiple consequence in the rule is that same &quot;request&quot; is being sent to both the routes (Queues). First the code flows through the `requestFactory.submitWReq` method and then `submitFReq($message)` method, so whatever modifications done in former method will get overridden by the later method and routed to the Queues. The reason also for having two consequence is because certain modifications are made to the request which are sent to W and F queues.\r\n\r\n**Now, if I write two rules:**\r\n\r\n    W rule:\r\n\r\n    rule &quot;Send an incoming request to W&quot;\r\n    when\r\n        There is an incoming message\r\n        Not routed yet\r\n    then\r\n       Create W Request for Cash\r\n       Route to &quot;WQueue&quot;.\r\n\r\n    F Rule:\r\n\r\n    rule &quot;Send an incoming request to F&quot;\r\n    when\r\n        There is an incoming message\r\n        Not routed yet\r\n    then\r\n       Create F Request for Cash\r\n       Route to &quot;RQueue&quot;.\r\n\r\n\r\nOnly one rule, either W or F is getting executed if two rules are present in the .dslr file. My requirement is to make sure that both the rules get executed. The `when` condition is same for both the rule, only the `then` varies.\r\n\r\nAny help is greatly appreciated.\r\n\r\n**Route rule**\r\n\r\n    [*][]Not routed yet=$out : Router(hasNotRoutes == true)\r\n    [consequence][]Route to {routeNames}\\.=modify($out) \\{addRoute({routeNames})\\};\r\n\r\n","title":"Jboss drools - Can I have multiple consequences in &quot;then&quot; condition and fire the rules?","body":"<p>I'm relatively very new to drools and have a requirement where I need to execute both consequences for my rule.</p>\n<p>Creating new requests W and F.</p>\n<p>Consequence in <code>.dsl</code> file</p>\n<pre><code>[consequence][]Create W Request for Cash=$out.setNewPayload(requestFactory.submitWReq($message));\n[consequence][]Create F Request for Cash=$out.setNewPayload(requestFactory.submitFReq($message));\n</code></pre>\n<p><code>.dslr</code> file\nI have created a rule here which has both consequences in the same rule, but</p>\n<pre><code>rule &quot;Send an incoming request to WF&quot;\nwhen\n    There is an incoming message\n    Not routed yet\nthen\n   Create W Request for Cash\n   Route to &quot;WQueue&quot;.\n   Create F Request for Cash\n   Route to &quot;RQueue&quot;.\n</code></pre>\n<p>This problem with having multiple consequence in the rule is that same &quot;request&quot; is being sent to both the routes (Queues). First the code flows through the <code>requestFactory.submitWReq</code> method and then <code>submitFReq($message)</code> method, so whatever modifications done in former method will get overridden by the later method and routed to the Queues. The reason also for having two consequence is because certain modifications are made to the request which are sent to W and F queues.</p>\n<p><strong>Now, if I write two rules:</strong></p>\n<pre><code>W rule:\n\nrule &quot;Send an incoming request to W&quot;\nwhen\n    There is an incoming message\n    Not routed yet\nthen\n   Create W Request for Cash\n   Route to &quot;WQueue&quot;.\n\nF Rule:\n\nrule &quot;Send an incoming request to F&quot;\nwhen\n    There is an incoming message\n    Not routed yet\nthen\n   Create F Request for Cash\n   Route to &quot;RQueue&quot;.\n</code></pre>\n<p>Only one rule, either W or F is getting executed if two rules are present in the .dslr file. My requirement is to make sure that both the rules get executed. The <code>when</code> condition is same for both the rule, only the <code>then</code> varies.</p>\n<p>Any help is greatly appreciated.</p>\n<p><strong>Route rule</strong></p>\n<pre><code>[*][]Not routed yet=$out : Router(hasNotRoutes == true)\n[consequence][]Route to {routeNames}\\.=modify($out) \\{addRoute({routeNames})\\};\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":25955759,"reputation":11,"user_id":19673156,"display_name":"TheAnalist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659451743,"creation_date":1659432368,"question_id":73205085,"body_markdown":"Good morning, I have returned to work as a programmer after years away and I have had a problem with a java webservices client with SOAP.\r\nThe webservices is based on sending requests that contain an id (NIF) + a name and the server returns &quot;identified&quot;, &quot;not identified&quot;.\r\nthis is webservices description an [AEAT][1]\r\n\r\nThis is my code:\r\n\r\n    package main;\r\n    \r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import java.nio.charset.Charset;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.rmi.RemoteException;\r\n    \r\n    import javax.xml.namespace.QName;\r\n    import javax.xml.rpc.ServiceException;\r\n    \r\n    import org.apache.axis.AxisFault;\r\n    \r\n    import es.gob.agenciatributaria.www2.static_files.common.internet.dep.aplicaciones.es.aeat.burt.jdit.ws.VNifV2Ent_xsd.VNifV2EntContribuyente;\r\n    import es.gob.agenciatributaria.www2.static_files.common.internet.dep.aplicaciones.es.aeat.burt.jdit.ws.VNifV2Sal_xsd.VNifV2SalContribuyente;\r\n    import es.gob.agenciatributaria.www2.static_files.common.internet.dep.aplicaciones.es.aeat.burt.jdit.ws.VNifV2_wsdl.VNifV2;\r\n    import es.gob.agenciatributaria.www2.static_files.common.internet.dep.aplicaciones.es.aeat.burt.jdit.ws.VNifV2_wsdl.VNifV2ServiceLocator;\r\n    import es.gob.agenciatributaria.www2.static_files.common.internet.dep.aplicaciones.es.aeat.burt.jdit.ws.VNifV2_wsdl.VNifV2SoapBindingStub;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) throws RemoteException, ServiceException {\r\n    \t\tSystem.out.println(&quot;Comprobar DNI&quot;);\r\n    \t\t\r\n    \t\tCharset.forName(&quot;UTF-8&quot;).newEncoder();\r\n    \t\t String nif = &quot;0000000C&quot;;\r\n    \t\t String nombre =&quot;Carlos Carlos Carlos&quot;;\r\n    \t\t byte[] bytes = nif.getBytes(StandardCharsets.UTF_8);\r\n    \t\t String nif8 = new String(bytes,StandardCharsets.UTF_8);\r\n    \t\t bytes = nombre.getBytes(StandardCharsets.UTF_8);\r\n    \t\t String nombre8 = new String(bytes,StandardCharsets.UTF_8);\r\n    \t\tString url1 =&quot;https://www1.agenciatributaria.gob.es/wlpl/BURT-JDIT/ws/VNifV2SOAP&quot;;\r\n    \t\tString url2=&quot;https://www10.agenciatributaria.gob.es/wlpl/BURT-JDIT/ws/VNifV2SOAP&quot;;\r\n    \t\tURL destino = null;\r\n    \t\ttry {\r\n    \t\t\t destino = new URL(url2);\r\n    \t\t} catch (MalformedURLException e1) {\r\n    \t\t\te1.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t\t//(&quot;000000C&quot;,&quot;CARLOS CARLOS CARLOS&quot;)\r\n    \t\tVNifV2EntContribuyente VnEnCo[] = new VNifV2EntContribuyente[5];\r\n    \t\tVNifV2EntContribuyente VnEnCo1 = new\tVNifV2EntContribuyente(nif8,nombre8); \r\n    \t\tVnEnCo[0] = VnEnCo1;\r\n    \t\tVNifV2SalContribuyente  VnSalCo[] = new VNifV2SalContribuyente[5];\r\n    \t\t//Revisar constructores de services\r\n    \t\tVNifV2ServiceLocator services= null;\r\n    \t\t//\tservices =  new VNifV2ServiceLocator(&quot;http://www2.agenciatributaria.gob.es/static_files/common/internet/dep/aplicaciones/es/aeat/burt/jd\\r\\nit/ws/VNifV2.wsdl&quot;,new QName(&quot;http://www2.agenciatributaria.gob.es/static_files/common/internet/dep/aplicaciones/es/aeat/burt/jd\\\\r\\\\nit/ws/VNifV2.wsdl&quot;,&quot;Entrada&quot;));\r\n    \t\tservices =  new VNifV2ServiceLocator();\r\n    \t\tVNifV2SoapBindingStub VNIFSoapBindings;\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(&quot;Servcies es: &quot;+services);\r\n    \t\t\tSystem.out.println(&quot;Destino es: &quot;+destino);\r\n    \t\t\t\r\n    \t\t\t//VNIFSoapBindings = new VNifV2SoapBindingStub(destino,services);\r\n    \t\t\tVNIFSoapBindings = new VNifV2SoapBindingStub(destino,services);\r\n    \t\t\tVnSalCo = VNIFSoapBindings.VNifV2(VnEnCo);\r\n    \t\t\t//System.out.println(VnSalCo[1].getResultado());\r\n    \t\t} catch (AxisFault e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThe error:\r\n\r\n    AxisFault\r\n     faultCode: {http://schemas.xmlsoap.org/soap/envelope/}Server.userException\r\n     faultSubcode: \r\n     faultString: org.xml.sax.SAXException: Processing instructions are not allowed within SOAP messages\r\n     faultActor: \r\n     faultNode: \r\n     faultDetail: \r\n    \t{http://xml.apache.org/axis/}stackTrace:org.xml.sax.SAXException: Processing instructions are not allowed within SOAP messages\r\n    \tat org.apache.axis.encoding.DeserializationContext.startDTD(DeserializationContext.java:1161)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.doctypeDecl(AbstractSAXParser.java:342)\r\n    \tat com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.doctypeDecl(XMLDTDValidator.java:724)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.scanDoctypeDecl(XMLDocumentScannerImpl.java:666)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:924)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:602)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:112)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:505)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:842)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:771)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)\r\n    \tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:643)\r\n    \tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:327)\r\n    \tat org.apache.axis.encoding.DeserializationContext.parse(DeserializationContext.java:227)\r\n    \tat org.apache.axis.SOAPPart.getAsSOAPEnvelope(SOAPPart.java:696)\r\n    \tat org.apache.axis.Message.getSOAPEnvelope(Message.java:435)\r\n    \tat org.apache.axis.handlers.soap.MustUnderstandChecker.invoke(MustUnderstandChecker.java:62)\r\n    \tat org.apache.axis.client.AxisClient.invoke(AxisClient.java:206)\r\n    \tat org.apache.axis.client.Call.invokeEngine(Call.java:2784)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:2767)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:2443)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:2366)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:1812)\r\n    \tat es.gob.agenciatributaria.www2.static_files.common.internet.dep.aplicaciones.es.aeat.burt.jdit.ws.VNifV2_wsdl.VNifV2SoapBindingStub.VNifV2(VNifV2SoapBindingStub.java:185)\r\n    \tat main.Main.main(Main.java:60)\r\n    \r\n    \t{http://xml.apache.org/axis/}hostname:DESKTOP-HBCCQUL\r\n    \r\n    org.xml.sax.SAXException: Processing instructions are not allowed within SOAP messages\r\n    \tat org.apache.axis.AxisFault.makeFault(AxisFault.java:101)\r\n    \tat org.apache.axis.SOAPPart.getAsSOAPEnvelope(SOAPPart.java:701)\r\n    \tat org.apache.axis.Message.getSOAPEnvelope(Message.java:435)\r\n    \tat org.apache.axis.handlers.soap.MustUnderstandChecker.invoke(MustUnderstandChecker.java:62)\r\n    \tat org.apache.axis.client.AxisClient.invoke(AxisClient.java:206)\r\n    \tat org.apache.axis.client.Call.invokeEngine(Call.java:2784)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:2767)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:2443)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:2366)\r\n    \tat org.apache.axis.client.Call.invoke(Call.java:1812)\r\n    \tat es.gob.agenciatributaria.www2.static_files.common.internet.dep.aplicaciones.es.aeat.burt.jdit.ws.VNifV2_wsdl.VNifV2SoapBindingStub.VNifV2(VNifV2SoapBindingStub.java:185)\r\n    \tat main.Main.main(Main.java:60)\r\n    Caused by: org.xml.sax.SAXException: Processing instructions are not allowed within SOAP messages\r\n    \tat org.apache.axis.encoding.DeserializationContext.startDTD(DeserializationContext.java:1161)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.doctypeDecl(AbstractSAXParser.java:342)\r\n    \tat com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.doctypeDecl(XMLDTDValidator.java:724)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.scanDoctypeDecl(XMLDocumentScannerImpl.java:666)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:924)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:602)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:112)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:505)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:842)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:771)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)\r\n    \tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:643)\r\n    \tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:327)\r\n    \tat org.apache.axis.encoding.DeserializationContext.parse(DeserializationContext.java:227)\r\n    \tat org.apache.axis.SOAPPart.getAsSOAPEnvelope(SOAPPart.java:696)\r\n    \t... 10 more\r\n\r\n\r\n  [1]: https://www.agenciatributaria.es/static_files/AEAT/Contenidos_Comunes/La_Agencia_Tributaria/Modelos_y_formularios/Declaraciones/Modelos_01_al_99/030_036_037/WS_Masivo/Manual_Tecnico_WS_Masivo_Calidad_Datos_Identificativos.pdf","title":"Problem with a java webservices client with SOAP","body":"<p>Good morning, I have returned to work as a programmer after years away and I have had a problem with a java webservices client with SOAP.\nThe webservices is based on sending requests that contain an id (NIF) + a name and the server returns &quot;identified&quot;, &quot;not identified&quot;.\nthis is webservices description an <a href=\"https://www.agenciatributaria.es/static_files/AEAT/Contenidos_Comunes/La_Agencia_Tributaria/Modelos_y_formularios/Declaraciones/Modelos_01_al_99/030_036_037/WS_Masivo/Manual_Tecnico_WS_Masivo_Calidad_Datos_Identificativos.pdf\" rel=\"nofollow noreferrer\">AEAT</a></p>\n<p>This is my code:</p>\n<pre><code>package main;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\nimport java.rmi.RemoteException;\n\nimport javax.xml.namespace.QName;\nimport javax.xml.rpc.ServiceException;\n\nimport org.apache.axis.AxisFault;\n\nimport es.gob.agenciatributaria.www2.static_files.common.internet.dep.aplicaciones.es.aeat.burt.jdit.ws.VNifV2Ent_xsd.VNifV2EntContribuyente;\nimport es.gob.agenciatributaria.www2.static_files.common.internet.dep.aplicaciones.es.aeat.burt.jdit.ws.VNifV2Sal_xsd.VNifV2SalContribuyente;\nimport es.gob.agenciatributaria.www2.static_files.common.internet.dep.aplicaciones.es.aeat.burt.jdit.ws.VNifV2_wsdl.VNifV2;\nimport es.gob.agenciatributaria.www2.static_files.common.internet.dep.aplicaciones.es.aeat.burt.jdit.ws.VNifV2_wsdl.VNifV2ServiceLocator;\nimport es.gob.agenciatributaria.www2.static_files.common.internet.dep.aplicaciones.es.aeat.burt.jdit.ws.VNifV2_wsdl.VNifV2SoapBindingStub;\n\npublic class Main {\n\n    public static void main(String[] args) throws RemoteException, ServiceException {\n        System.out.println(&quot;Comprobar DNI&quot;);\n        \n        Charset.forName(&quot;UTF-8&quot;).newEncoder();\n         String nif = &quot;0000000C&quot;;\n         String nombre =&quot;Carlos Carlos Carlos&quot;;\n         byte[] bytes = nif.getBytes(StandardCharsets.UTF_8);\n         String nif8 = new String(bytes,StandardCharsets.UTF_8);\n         bytes = nombre.getBytes(StandardCharsets.UTF_8);\n         String nombre8 = new String(bytes,StandardCharsets.UTF_8);\n        String url1 =&quot;https://www1.agenciatributaria.gob.es/wlpl/BURT-JDIT/ws/VNifV2SOAP&quot;;\n        String url2=&quot;https://www10.agenciatributaria.gob.es/wlpl/BURT-JDIT/ws/VNifV2SOAP&quot;;\n        URL destino = null;\n        try {\n             destino = new URL(url2);\n        } catch (MalformedURLException e1) {\n            e1.printStackTrace();\n        }\n        \n        //(&quot;000000C&quot;,&quot;CARLOS CARLOS CARLOS&quot;)\n        VNifV2EntContribuyente VnEnCo[] = new VNifV2EntContribuyente[5];\n        VNifV2EntContribuyente VnEnCo1 = new    VNifV2EntContribuyente(nif8,nombre8); \n        VnEnCo[0] = VnEnCo1;\n        VNifV2SalContribuyente  VnSalCo[] = new VNifV2SalContribuyente[5];\n        //Revisar constructores de services\n        VNifV2ServiceLocator services= null;\n        //  services =  new VNifV2ServiceLocator(&quot;http://www2.agenciatributaria.gob.es/static_files/common/internet/dep/aplicaciones/es/aeat/burt/jd\\r\\nit/ws/VNifV2.wsdl&quot;,new QName(&quot;http://www2.agenciatributaria.gob.es/static_files/common/internet/dep/aplicaciones/es/aeat/burt/jd\\\\r\\\\nit/ws/VNifV2.wsdl&quot;,&quot;Entrada&quot;));\n        services =  new VNifV2ServiceLocator();\n        VNifV2SoapBindingStub VNIFSoapBindings;\n        \n        try {\n            System.out.println(&quot;Servcies es: &quot;+services);\n            System.out.println(&quot;Destino es: &quot;+destino);\n            \n            //VNIFSoapBindings = new VNifV2SoapBindingStub(destino,services);\n            VNIFSoapBindings = new VNifV2SoapBindingStub(destino,services);\n            VnSalCo = VNIFSoapBindings.VNifV2(VnEnCo);\n            //System.out.println(VnSalCo[1].getResultado());\n        } catch (AxisFault e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The error:</p>\n<pre><code>AxisFault\n faultCode: {http://schemas.xmlsoap.org/soap/envelope/}Server.userException\n faultSubcode: \n faultString: org.xml.sax.SAXException: Processing instructions are not allowed within SOAP messages\n faultActor: \n faultNode: \n faultDetail: \n    {http://xml.apache.org/axis/}stackTrace:org.xml.sax.SAXException: Processing instructions are not allowed within SOAP messages\n    at org.apache.axis.encoding.DeserializationContext.startDTD(DeserializationContext.java:1161)\n    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.doctypeDecl(AbstractSAXParser.java:342)\n    at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.doctypeDecl(XMLDTDValidator.java:724)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.scanDoctypeDecl(XMLDocumentScannerImpl.java:666)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:924)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:602)\n    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:112)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:505)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:842)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:771)\n    at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\n    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)\n    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:643)\n    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:327)\n    at org.apache.axis.encoding.DeserializationContext.parse(DeserializationContext.java:227)\n    at org.apache.axis.SOAPPart.getAsSOAPEnvelope(SOAPPart.java:696)\n    at org.apache.axis.Message.getSOAPEnvelope(Message.java:435)\n    at org.apache.axis.handlers.soap.MustUnderstandChecker.invoke(MustUnderstandChecker.java:62)\n    at org.apache.axis.client.AxisClient.invoke(AxisClient.java:206)\n    at org.apache.axis.client.Call.invokeEngine(Call.java:2784)\n    at org.apache.axis.client.Call.invoke(Call.java:2767)\n    at org.apache.axis.client.Call.invoke(Call.java:2443)\n    at org.apache.axis.client.Call.invoke(Call.java:2366)\n    at org.apache.axis.client.Call.invoke(Call.java:1812)\n    at es.gob.agenciatributaria.www2.static_files.common.internet.dep.aplicaciones.es.aeat.burt.jdit.ws.VNifV2_wsdl.VNifV2SoapBindingStub.VNifV2(VNifV2SoapBindingStub.java:185)\n    at main.Main.main(Main.java:60)\n\n    {http://xml.apache.org/axis/}hostname:DESKTOP-HBCCQUL\n\norg.xml.sax.SAXException: Processing instructions are not allowed within SOAP messages\n    at org.apache.axis.AxisFault.makeFault(AxisFault.java:101)\n    at org.apache.axis.SOAPPart.getAsSOAPEnvelope(SOAPPart.java:701)\n    at org.apache.axis.Message.getSOAPEnvelope(Message.java:435)\n    at org.apache.axis.handlers.soap.MustUnderstandChecker.invoke(MustUnderstandChecker.java:62)\n    at org.apache.axis.client.AxisClient.invoke(AxisClient.java:206)\n    at org.apache.axis.client.Call.invokeEngine(Call.java:2784)\n    at org.apache.axis.client.Call.invoke(Call.java:2767)\n    at org.apache.axis.client.Call.invoke(Call.java:2443)\n    at org.apache.axis.client.Call.invoke(Call.java:2366)\n    at org.apache.axis.client.Call.invoke(Call.java:1812)\n    at es.gob.agenciatributaria.www2.static_files.common.internet.dep.aplicaciones.es.aeat.burt.jdit.ws.VNifV2_wsdl.VNifV2SoapBindingStub.VNifV2(VNifV2SoapBindingStub.java:185)\n    at main.Main.main(Main.java:60)\nCaused by: org.xml.sax.SAXException: Processing instructions are not allowed within SOAP messages\n    at org.apache.axis.encoding.DeserializationContext.startDTD(DeserializationContext.java:1161)\n    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.doctypeDecl(AbstractSAXParser.java:342)\n    at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.doctypeDecl(XMLDTDValidator.java:724)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.scanDoctypeDecl(XMLDocumentScannerImpl.java:666)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:924)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:602)\n    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:112)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:505)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:842)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:771)\n    at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\n    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)\n    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:643)\n    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:327)\n    at org.apache.axis.encoding.DeserializationContext.parse(DeserializationContext.java:227)\n    at org.apache.axis.SOAPPart.getAsSOAPEnvelope(SOAPPart.java:696)\n    ... 10 more\n</code></pre>\n"},{"tags":["java","android","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"score":0,"creation_date":1580932075,"post_id":60082391,"comment_id":106264293,"body_markdown":"Can&#39;t you scan for all devices in range. \n\nGet their mac addresses in a list. \n\n\nThen compare this subset of mac addresses to your regex, to find matches after the fact? Or to minimise the list you need to rescan for?","body":"Can&#39;t you scan for all devices in range.   Get their mac addresses in a list.    Then compare this subset of mac addresses to your regex, to find matches after the fact? Or to minimise the list you need to rescan for?"},{"owner":{"account_id":16209077,"reputation":389,"user_id":11703579,"display_name":"gbossa"},"score":0,"creation_date":1580932785,"post_id":60082391,"comment_id":106264600,"body_markdown":"@Blundell, thanks for the reply. Those devices seems to only show on scan, when a filter is added.\nI have tried to add some specific MAC Addresses on the filter, and they showed up. But without the filter, it finds lots of devices, but do not find any of the ones I need.","body":"@Blundell, thanks for the reply. Those devices seems to only show on scan, when a filter is added. I have tried to add some specific MAC Addresses on the filter, and they showed up. But without the filter, it finds lots of devices, but do not find any of the ones I need."},{"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"score":0,"creation_date":1581017157,"post_id":60082391,"comment_id":106298996,"body_markdown":"A scan with no filter should return all devices in the proximity.","body":"A scan with no filter should return all devices in the proximity."}],"answers":[{"tags":[],"owner":{"account_id":16209077,"reputation":389,"user_id":11703579,"display_name":"gbossa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659451639,"creation_date":1581077105,"answer_id":60113167,"question_id":60082391,"body_markdown":"After a lot of struggle, I found a solution to my problem.\r\nIt does not answer the question per se, i.e. if it&#39;s possible to use a regex as a filter to scan for MAC Address.\r\nBut, I managed to properly scan for the devices I needed.\r\nThis is what I did:\r\n\r\nFirst of all, I made a filter by name. Yes, name, the device have no name. So I had to think... What if, I filter by name, to scan for devices whose `name == null`?\r\n\r\n    private List&lt;ScanFilter&gt; scanFilters() {\r\n\t\tList&lt;ScanFilter&gt; list = new ArrayList&lt;ScanFilter&gt;();\r\n\t\t\r\n\t\tScanFilter scanFilterName = new ScanFilter.Builder().setDeviceName(null).build();\r\n\t\t\r\n\t\tlist.add(scanFilterName);\r\n\t\t\r\n\t\treturn list;\r\n\t}\r\n\r\nWell, it worked! But, it returned me not only the devices I needed, but tons of other devices, alongside with them. It was a mess in my scan, so how to refine the filter to give me only those ones I needed?\r\nThe second filter (which wasn&#39;t on the `scanFilters()`method above, it was on the `scanResult`), was by MAC Address prefix (which is the same for my devices).\r\n\r\n    private Set&lt;String&gt; btDevice = new LinkedHashSet&lt;String&gt;();\r\n\r\n    private ScanCallback scanCallback = new ScanCallback() {\r\n\t\t@Override\r\n\t\tpublic void onScanResult(int callbackType, ScanResult result) {\r\n\r\n\t\t\tBluetoothDevice device = result.getDevice();\r\n\t\t\t\r\n\t\t\tScanRecord record = result.getScanRecord();\r\n\t\t\tbyte[] dataByteArray = record.getBytes();\r\n\r\n\t\t\tif (device.getAddress().startsWith(&quot;F8:36:9B&quot;)) {\r\n\t\t\t\tbtDevice.add(device.getAddress());\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\nAnd voil&#225;, I got a scan with only the devices I needed.\r\nI still want to know if the main question is possible, i.e. if we can use a regex on the `scanFilter()`, to filter a range of something (in this case, MAC Address). So, if someone have a solution to this, please feel free to answer.\r\nThanks!","title":"Android BLE. Is it possible to use a regex as a filter to scan for Mac Address?","body":"<p>After a lot of struggle, I found a solution to my problem.\nIt does not answer the question per se, i.e. if it's possible to use a regex as a filter to scan for MAC Address.\nBut, I managed to properly scan for the devices I needed.\nThis is what I did:</p>\n<p>First of all, I made a filter by name. Yes, name, the device have no name. So I had to think... What if, I filter by name, to scan for devices whose <code>name == null</code>?</p>\n<pre><code>private List&lt;ScanFilter&gt; scanFilters() {\n    List&lt;ScanFilter&gt; list = new ArrayList&lt;ScanFilter&gt;();\n    \n    ScanFilter scanFilterName = new ScanFilter.Builder().setDeviceName(null).build();\n    \n    list.add(scanFilterName);\n    \n    return list;\n}\n</code></pre>\n<p>Well, it worked! But, it returned me not only the devices I needed, but tons of other devices, alongside with them. It was a mess in my scan, so how to refine the filter to give me only those ones I needed?\nThe second filter (which wasn't on the <code>scanFilters()</code>method above, it was on the <code>scanResult</code>), was by MAC Address prefix (which is the same for my devices).</p>\n<pre><code>private Set&lt;String&gt; btDevice = new LinkedHashSet&lt;String&gt;();\n\nprivate ScanCallback scanCallback = new ScanCallback() {\n    @Override\n    public void onScanResult(int callbackType, ScanResult result) {\n\n        BluetoothDevice device = result.getDevice();\n        \n        ScanRecord record = result.getScanRecord();\n        byte[] dataByteArray = record.getBytes();\n\n        if (device.getAddress().startsWith(&quot;F8:36:9B&quot;)) {\n            btDevice.add(device.getAddress());\n        }\n    }\n};\n</code></pre>\n<p>And voilá, I got a scan with only the devices I needed.\nI still want to know if the main question is possible, i.e. if we can use a regex on the <code>scanFilter()</code>, to filter a range of something (in this case, MAC Address). So, if someone have a solution to this, please feel free to answer.\nThanks!</p>\n"},{"tags":[],"owner":{"account_id":281477,"reputation":686,"user_id":9085253,"display_name":"Martijn van Welie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1581362760,"creation_date":1581362760,"answer_id":60157078,"question_id":60082391,"body_markdown":"Not possible with filters. You must filter yourself...like you did already","title":"Android BLE. Is it possible to use a regex as a filter to scan for Mac Address?","body":"<p>Not possible with filters. You must filter yourself...like you did already</p>\n"}],"owner":{"account_id":16209077,"reputation":389,"user_id":11703579,"display_name":"gbossa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1564,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60113167,"answer_count":2,"score":2,"last_activity_date":1659451639,"creation_date":1580928904,"question_id":60082391,"body_markdown":"I have to build an App that scans for BLE devices, and return it&#39;s data.\r\nThe devices won&#39;t show on scan, unless I use a filter.\r\n\r\nUUID is not an option, and the device does not broadcast it&#39;s name (It shows N/A when scanned with `nrfConnect`.\r\n\r\nI am trying to scan it by MAC Address. BUT, I do not know the MAC Addresses, since it can be any device of it&#39;s kind, so the App won&#39;t previously know the MAC Address of the device.\r\n\r\nI already know that the device have a prefix on it&#39;s Address which is `F8:36:9B`. The thing is the suffix. How can I (and if it is possible to) make a regex to pass as a parameter to find all possible matches of the Device MAC Address?\r\n\r\nThe regex per se, I have, `([A-Fa-f0-9]{2}:){2}[A-Fa-f0-9]{2}`, which I got from [Android Bluetooth ScanFilter Partial String Matching][1].\r\n\r\nI just don&#39;t know how to implement it on the scanFilter.\r\n\r\n    ScanFilter filterMac = new ScanFilter.Builder().setDeviceAddress(/**THE_SUFIX_AND_REGEX*/).build();\r\n\r\nIs it possible? If it is, then how?\r\n\r\nEverything I tried, I get this error:\r\n\r\n&gt; Error: invalid device address\r\n\r\nI have tried generating all the possible matches using `for` loops and saving it to an `ArrayList`, and then adding it to the list of filters, but I get an `OutOfMemoryException`, since the result is over 16million possibilities.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/35322388/android-bluetooth-scanfilter-partial-string-matching","title":"Android BLE. Is it possible to use a regex as a filter to scan for Mac Address?","body":"<p>I have to build an App that scans for BLE devices, and return it's data.\nThe devices won't show on scan, unless I use a filter.</p>\n\n<p>UUID is not an option, and the device does not broadcast it's name (It shows N/A when scanned with <code>nrfConnect</code>.</p>\n\n<p>I am trying to scan it by MAC Address. BUT, I do not know the MAC Addresses, since it can be any device of it's kind, so the App won't previously know the MAC Address of the device.</p>\n\n<p>I already know that the device have a prefix on it's Address which is <code>F8:36:9B</code>. The thing is the suffix. How can I (and if it is possible to) make a regex to pass as a parameter to find all possible matches of the Device MAC Address?</p>\n\n<p>The regex per se, I have, <code>([A-Fa-f0-9]{2}:){2}[A-Fa-f0-9]{2}</code>, which I got from <a href=\"https://stackoverflow.com/questions/35322388/android-bluetooth-scanfilter-partial-string-matching\">Android Bluetooth ScanFilter Partial String Matching</a>.</p>\n\n<p>I just don't know how to implement it on the scanFilter.</p>\n\n<pre><code>ScanFilter filterMac = new ScanFilter.Builder().setDeviceAddress(/**THE_SUFIX_AND_REGEX*/).build();\n</code></pre>\n\n<p>Is it possible? If it is, then how?</p>\n\n<p>Everything I tried, I get this error:</p>\n\n<blockquote>\n  <p>Error: invalid device address</p>\n</blockquote>\n\n<p>I have tried generating all the possible matches using <code>for</code> loops and saving it to an <code>ArrayList</code>, and then adding it to the list of filters, but I get an <code>OutOfMemoryException</code>, since the result is over 16million possibilities.</p>\n"},{"tags":["java","postgresql","hibernate","kotlin"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1659450184,"post_id":73208981,"comment_id":129294569,"body_markdown":"Have you tried to use [google](https://www.google.com/search?q=failed+to+lazily+initialize+a+collection+of+role+no+session)?","body":"Have you tried to use <a href=\"https://www.google.com/search?q=failed+to+lazily+initialize+a+collection+of+role+no+session\" rel=\"nofollow noreferrer\">google</a>?"},{"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"score":0,"creation_date":1659452087,"post_id":73208981,"comment_id":129295414,"body_markdown":"Hi. I understood from your comment in my deleted answer that the issue is resolved. Maybe just delete the question in order to avoid people spending time on this? BR","body":"Hi. I understood from your comment in my deleted answer that the issue is resolved. Maybe just delete the question in order to avoid people spending time on this? BR"}],"owner":{"account_id":17446196,"reputation":147,"user_id":12647196,"display_name":"Fedya Savchuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659450858,"creation_date":1659449163,"question_id":73208981,"body_markdown":"I use this tables:\r\n\r\n    -- Creation employee table\r\n    CREATE TABLE IF NOT EXISTS employee\r\n    (\r\n        employee_id          SERIAL PRIMARY KEY\r\n    );\r\n    \r\n    -- Creation advance_report table\r\n    CREATE TABLE IF NOT EXISTS advance_report\r\n    (\r\n        advance_report_id    SERIAL PRIMARY KEY\r\n    );\r\n    \r\n    -- Creation guests table\r\n    CREATE TABLE IF NOT EXISTS guests\r\n    (\r\n        advance_report_id  INT REFERENCES advance_report (advance_report_id),\r\n        employeeId    INT REFERENCES employee (employee_id)\r\n    );\r\n\r\n\r\nAnd this models for mapping\r\n\r\n    @Entity\r\n    @Table(appliesTo = &quot;advance_report&quot;)\r\n    open class AdvanceReport(\r\n        \r\n        @Id\r\n        @Column(name = &quot;advance_report_id&quot;, nullable = false)\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        open var id: Long? = null,\r\n        \r\n        @OneToMany(cascade = [CascadeType.ALL])\r\n        @JoinTable(\r\n            name = &quot;guests&quot;,\r\n            joinColumns = [JoinColumn(name = &quot;advance_report_id&quot;)],\r\n            inverseJoinColumns = [JoinColumn(name = &quot;employee_id&quot;)]\r\n        )\r\n        val guests: Set&lt;Employee&gt;? = null,\r\n        \r\n    )\r\n    \r\n    @Entity\r\n    @Table(appliesTo = &quot;employee&quot;)\r\n    open class Employee(\r\n        \r\n        @Id\r\n        @Column(name = &quot;employee_id&quot;, nullable = false)\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        open var id: Long? = null,\r\n        \r\n    )\r\n\r\n\r\nBut when I try to map advance_report_id and employee_id using &#39;guests&#39; table, I get this error:\r\n\r\n&gt; Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: ru.vtb.test.pr.models.new.AdvanceReport.guests, could not initialize proxy - no Session; nested exception is com.fasterxml.jackson.databind.JsonMappingException: failed to lazily initialize a collection of role: ru.vtb.test.pr.models.new.AdvanceReport.guests, could not initialize proxy - no Session (through reference chain: ru.vtb.test.pr.models.new.AdvanceReport[&quot;guests&quot;])]","title":"OneToMany mapping using separate table, Hibernate","body":"<p>I use this tables:</p>\n<pre><code>-- Creation employee table\nCREATE TABLE IF NOT EXISTS employee\n(\n    employee_id          SERIAL PRIMARY KEY\n);\n\n-- Creation advance_report table\nCREATE TABLE IF NOT EXISTS advance_report\n(\n    advance_report_id    SERIAL PRIMARY KEY\n);\n\n-- Creation guests table\nCREATE TABLE IF NOT EXISTS guests\n(\n    advance_report_id  INT REFERENCES advance_report (advance_report_id),\n    employeeId    INT REFERENCES employee (employee_id)\n);\n</code></pre>\n<p>And this models for mapping</p>\n<pre><code>@Entity\n@Table(appliesTo = &quot;advance_report&quot;)\nopen class AdvanceReport(\n    \n    @Id\n    @Column(name = &quot;advance_report_id&quot;, nullable = false)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    open var id: Long? = null,\n    \n    @OneToMany(cascade = [CascadeType.ALL])\n    @JoinTable(\n        name = &quot;guests&quot;,\n        joinColumns = [JoinColumn(name = &quot;advance_report_id&quot;)],\n        inverseJoinColumns = [JoinColumn(name = &quot;employee_id&quot;)]\n    )\n    val guests: Set&lt;Employee&gt;? = null,\n    \n)\n\n@Entity\n@Table(appliesTo = &quot;employee&quot;)\nopen class Employee(\n    \n    @Id\n    @Column(name = &quot;employee_id&quot;, nullable = false)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    open var id: Long? = null,\n    \n)\n</code></pre>\n<p>But when I try to map advance_report_id and employee_id using 'guests' table, I get this error:</p>\n<blockquote>\n<p>Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: ru.vtb.test.pr.models.new.AdvanceReport.guests, could not initialize proxy - no Session; nested exception is com.fasterxml.jackson.databind.JsonMappingException: failed to lazily initialize a collection of role: ru.vtb.test.pr.models.new.AdvanceReport.guests, could not initialize proxy - no Session (through reference chain: ru.vtb.test.pr.models.new.AdvanceReport[&quot;guests&quot;])]</p>\n</blockquote>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":2,"creation_date":1659449450,"post_id":73208883,"comment_id":129294279,"body_markdown":"See https://stackoverflow.com/questions/2745265/is-listdog-a-subclass-of-listanimal-why-are-java-generics-not-implicitly-po","body":"See <a href=\"https://stackoverflow.com/questions/2745265/is-listdog-a-subclass-of-listanimal-why-are-java-generics-not-implicitly-po\" title=\"is listdog a subclass of listanimal why are java generics not implicitly po\">stackoverflow.com/questions/2745265/&hellip;</a>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1659449771,"post_id":73208883,"comment_id":129294407,"body_markdown":"Note that `Class` doesn&#39;t play very nicely with generics, because you can&#39;t get class literals for parameterized types. Assuming you&#39;re using `klass` to create instances of the type, it would be better to provide something like a `Supplier&lt;? extends T&gt;`.","body":"Note that <code>Class</code> doesn&#39;t play very nicely with generics, because you can&#39;t get class literals for parameterized types. Assuming you&#39;re using <code>klass</code> to create instances of the type, it would be better to provide something like a <code>Supplier&lt;? extends T&gt;</code>."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1659451024,"post_id":73208883,"comment_id":129294948,"body_markdown":"An other option is to change the signature to `public static &lt;T&gt; List&lt;? super T&gt; populate(ResultSet rs, Class&lt;? extends T&gt; klass)`. This may or may not require you to change some declaration inside `populate`, but otherwise it should work as you wish on the call site.","body":"An other option is to change the signature to <code>public static &lt;T&gt; List&lt;? super T&gt; populate(ResultSet rs, Class&lt;? extends T&gt; klass)</code>. This may or may not require you to change some declaration inside <code>populate</code>, but otherwise it should work as you wish on the call site."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659449405,"creation_date":1659449405,"answer_id":73209038,"question_id":73208883,"body_markdown":"1. \r\n\r\nBoth these are legal:\r\n\r\n    List&lt;? extends MyAbstractBaseClass&gt; result = Foo.populate(rs, MyConcreteClass.class);\r\n    List&lt;MyConcreteClass&gt; result = Foo.populate(rs, MyConcreteClass.class);\r\n\r\nHowever\r\n\r\n    // *** ERROR\r\n    List&lt;MyAbstractBaseClass&gt; result = Foo.populate(rs, MyConcreteClass.class);\r\n\r\nwould give assign a List&lt;MyConcreteClass&gt; to that list. If the original list would be referenced elsewhere, thinking only MyConcreteClass objects were in it, but result would allow other classes to be added.\r\n\r\n2.\r\n\r\nOf course there now is\r\n\r\n    var result = ...\r\n\r\nwhich is evidently confusing.","title":"Why does Java require an explicit type parameter here?","body":"<ol>\n<li></li>\n</ol>\n<p>Both these are legal:</p>\n<pre><code>List&lt;? extends MyAbstractBaseClass&gt; result = Foo.populate(rs, MyConcreteClass.class);\nList&lt;MyConcreteClass&gt; result = Foo.populate(rs, MyConcreteClass.class);\n</code></pre>\n<p>However</p>\n<pre><code>// *** ERROR\nList&lt;MyAbstractBaseClass&gt; result = Foo.populate(rs, MyConcreteClass.class);\n</code></pre>\n<p>would give assign a List to that list. If the original list would be referenced elsewhere, thinking only MyConcreteClass objects were in it, but result would allow other classes to be added.</p>\n<p>2.</p>\n<p>Of course there now is</p>\n<pre><code>var result = ...\n</code></pre>\n<p>which is evidently confusing.</p>\n"},{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659449882,"creation_date":1659449494,"answer_id":73209064,"question_id":73208883,"body_markdown":"`Foo.populate(rs, MyConcreteClass.class)` returns a `List&lt;MyConcreteClass&gt;`.\r\n\r\nHowever, a `List&lt;MyConcreteClass&gt;` is not assignable to a `List&lt;MyAbstractBaseClass&gt;` because genetics are [invariant](https://stackoverflow.com/questions/69346198/understanding-generic-invariance-covariance-and-contravariance) in Java (in contrast to arrays).\r\n\r\nIn your case, the problem is type inference. Java infers the type using parameters if possible and falls back to the left side of the assignment if no parameters can be used for inference.\r\n\r\nExplicitly specifying the type can overrule this behaviour.\r\n\r\nYou can also get around that by explicitly declaring the `Class` type:\r\n\r\n```java\r\nClass&lt;? extends MyAbstractBaseClass&gt; cl = MyConcreteClass.class; //perfectly legal because of the lower bound\r\nList&lt;MyAbstractBaseClass&gt; result = Foo.populate(rs, cl);\r\n```\r\n\r\nAnother possibility would be to use a safe cast like this:\r\n\r\n```java\r\nList&lt;MyAbstractBaseClass&gt; result = Foo.populate(rs, (Class&lt;? extends MyAbstractBaseClass&gt;) MyConcreteClass.class);\r\n```\r\n\r\nThis cast is always correct because `Class&lt;? extends MyConcreteClass&gt;` is by definition a `Class&lt;? extends MyAbstractBaseClass&gt;`.","title":"Why does Java require an explicit type parameter here?","body":"<p><code>Foo.populate(rs, MyConcreteClass.class)</code> returns a <code>List&lt;MyConcreteClass&gt;</code>.</p>\n<p>However, a <code>List&lt;MyConcreteClass&gt;</code> is not assignable to a <code>List&lt;MyAbstractBaseClass&gt;</code> because genetics are <a href=\"https://stackoverflow.com/questions/69346198/understanding-generic-invariance-covariance-and-contravariance\">invariant</a> in Java (in contrast to arrays).</p>\n<p>In your case, the problem is type inference. Java infers the type using parameters if possible and falls back to the left side of the assignment if no parameters can be used for inference.</p>\n<p>Explicitly specifying the type can overrule this behaviour.</p>\n<p>You can also get around that by explicitly declaring the <code>Class</code> type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class&lt;? extends MyAbstractBaseClass&gt; cl = MyConcreteClass.class; //perfectly legal because of the lower bound\nList&lt;MyAbstractBaseClass&gt; result = Foo.populate(rs, cl);\n</code></pre>\n<p>Another possibility would be to use a safe cast like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;MyAbstractBaseClass&gt; result = Foo.populate(rs, (Class&lt;? extends MyAbstractBaseClass&gt;) MyConcreteClass.class);\n</code></pre>\n<p>This cast is always correct because <code>Class&lt;? extends MyConcreteClass&gt;</code> is by definition a <code>Class&lt;? extends MyAbstractBaseClass&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659450675,"creation_date":1659450675,"answer_id":73209317,"question_id":73208883,"body_markdown":"Simplifying your example (the `ResultSet` isn&#39;t relevant):\r\n\r\n\tpublic static &lt;T&gt; List&lt;T&gt; populate(Class&lt;? extends T&gt; klass) {\r\n        return null;\r\n    }\r\n\r\nThe following [compiles fine on Ideone](https://ideone.com/evhgUu):\r\n\r\n\tList&lt;Object&gt; objList = populate(Object.class);\r\n\tList&lt;Object&gt; intList = populate(Integer.class);\r\n\r\nIdeone is using Java 12; I notice that you&#39;ve tagged the question Java 8.\r\n\r\nThe type inference in Java 8 has been improved in more recent versions of Java.\r\n\r\nIf you&#39;re stuck on Java 8, you&#39;ve just got to provide the type witness.","title":"Why does Java require an explicit type parameter here?","body":"<p>Simplifying your example (the <code>ResultSet</code> isn't relevant):</p>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; populate(Class&lt;? extends T&gt; klass) {\n    return null;\n}\n</code></pre>\n<p>The following <a href=\"https://ideone.com/evhgUu\" rel=\"nofollow noreferrer\">compiles fine on Ideone</a>:</p>\n<pre><code>List&lt;Object&gt; objList = populate(Object.class);\nList&lt;Object&gt; intList = populate(Integer.class);\n</code></pre>\n<p>Ideone is using Java 12; I notice that you've tagged the question Java 8.</p>\n<p>The type inference in Java 8 has been improved in more recent versions of Java.</p>\n<p>If you're stuck on Java 8, you've just got to provide the type witness.</p>\n"}],"owner":{"account_id":4994,"reputation":10728,"user_id":7816,"accept_rate":71,"display_name":"KaptajnKold"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73209064,"answer_count":3,"score":0,"last_activity_date":1659450771,"creation_date":1659448832,"question_id":73208883,"body_markdown":"I have the following static method:\r\n\r\n```java\r\nclass Foo {\r\n\tpublic static &lt;T&gt; List&lt;T&gt; populate(ResultSet rs, Class&lt;? extends T&gt; klass) {\r\n\t    // ...\r\n\t}\r\n\r\n\t// ...\r\n}\r\n```\r\n\r\nAnd I have\r\n \r\n```java\r\nclass MyConcreteClass extends MyAbstractBaseClass {\r\n\t// ...\r\n}\r\n```\r\n\r\nWhen I try to call the abstract method like this:\r\n\r\n```java\r\nList&lt;MyAbstractBaseClass&gt; result = Foo.populate(rs, MyConcreteClass.class)\r\n```\r\n\r\n… then I get the following compilation error:\r\n\r\n```\r\nCompilation failure\r\nList&lt;MyConcreteClass&gt; cannot be converted to List&lt;MyAbstractBaseClass&gt;\r\n```\r\n\r\nHowever, if I call it like this:\r\n\r\n```java\r\nList&lt;MyAbstractBaseClass&gt; result = Foo.&lt;MyAbstractBaseClass&gt;populate(rs, MyConcreteClass.class)\r\n```\r\n\r\n… then the compiler seems satisfied.\r\n\r\nMy question:\r\n1. Why does Java require an explicit type parameter in the above example?\r\n2. *Given that my result **must** be a `List&lt;MyAbstractBaseClass&gt;`*, is there any way I can specify the signature of my static method differently, such that I don’t have to provide the type parameter, when I call it?\r\n\r\n**Edit**: Specified that the result type is a given, and cannot be changed.","title":"Why does Java require an explicit type parameter here?","body":"<p>I have the following static method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Foo {\n    public static &lt;T&gt; List&lt;T&gt; populate(ResultSet rs, Class&lt;? extends T&gt; klass) {\n        // ...\n    }\n\n    // ...\n}\n</code></pre>\n<p>And I have</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyConcreteClass extends MyAbstractBaseClass {\n    // ...\n}\n</code></pre>\n<p>When I try to call the abstract method like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;MyAbstractBaseClass&gt; result = Foo.populate(rs, MyConcreteClass.class)\n</code></pre>\n<p>… then I get the following compilation error:</p>\n<pre><code>Compilation failure\nList&lt;MyConcreteClass&gt; cannot be converted to List&lt;MyAbstractBaseClass&gt;\n</code></pre>\n<p>However, if I call it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;MyAbstractBaseClass&gt; result = Foo.&lt;MyAbstractBaseClass&gt;populate(rs, MyConcreteClass.class)\n</code></pre>\n<p>… then the compiler seems satisfied.</p>\n<p>My question:</p>\n<ol>\n<li>Why does Java require an explicit type parameter in the above example?</li>\n<li><em>Given that my result <strong>must</strong> be a <code>List&lt;MyAbstractBaseClass&gt;</code></em>, is there any way I can specify the signature of my static method differently, such that I don’t have to provide the type parameter, when I call it?</li>\n</ol>\n<p><strong>Edit</strong>: Specified that the result type is a given, and cannot be changed.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1659557447,"post_id":73208382,"comment_id":129325513,"body_markdown":"I would point out, the positions of the numbers in the array are irrelevant. Knowing the count of each number, which can be found in a single pass, it is possible to find the max of the sum of counts of two adjacent numbers in a single pass through the counts. There is no need to create any subarrays.","body":"I would point out, the positions of the numbers in the array are irrelevant. Knowing the count of each number, which can be found in a single pass, it is possible to find the max of the sum of counts of two adjacent numbers in a single pass through the counts. There is no need to create any subarrays."},{"owner":{"account_id":15828861,"reputation":13,"user_id":17708778,"display_name":"Denis  Konev"},"score":0,"creation_date":1659699579,"post_id":73208382,"comment_id":129362175,"body_markdown":"It sounds like a much better version of the existing algo. Thank you for the tip.","body":"It sounds like a much better version of the existing algo. Thank you for the tip."}],"answers":[{"tags":[],"owner":{"display_name":"user6073886"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659450641,"creation_date":1659448530,"answer_id":73208817,"question_id":73208382,"body_markdown":"Edit: As pointed out in the comments it is sufficient to do one type of check and only check if the other elements are 1 larger than the first element in the check. Answer modified accordingly\r\n\r\n\r\nYour problem is that when you build your subarray, you allow numbers in it that are both 1 higher and 1 lower than the first element you start with.\r\nYou then later try to clean up your results by re-validating your generated arrays, but this will not fix the problem that you will not generate any all possible valid subarrays with your method.\r\n\r\nMy proposal to fix your code would be:\r\n\r\n1. Modify your `findValidSubarray` method so that only allows elements that are 1 higher in it. (The cases where lower numbers would be allowed in will be handled in other iteration when that lower number is the starting element for the iteration)\r\n\r\n2. remove the `arrayValidityCheck` as this one will no longer be needed as the above will directly only produce valid subarrays.  \r\n\r\nModified findValidSubarray method:\r\n\r\n\r\n    private static List&lt;Integer&gt; findValidSubarray(final List&lt;Integer&gt; array, final Integer integer) {\r\n        final List&lt;Integer&gt; subarray = new ArrayList&lt;Integer&gt;();\r\n        for (final int elem : array) {\r\n             if ((elem == integer) || (elem + 1 == integer)) {\r\n                 subarray.add(elem);\r\n             }\r\n        }\r\n        return subarray;\r\n    }\r\n\r\nCalling that method:\r\n\r\n    public static int pickingNumbers(final List&lt;Integer&gt; a) {\r\n\t\tint maxLength = 0;\r\n\t\tList&lt;Integer&gt; subarray = new ArrayList&lt;Integer&gt;();\r\n\r\n\t\tfor (int i = 0; i &lt; a.size(); i++) {\r\n\t\t\tsubarray = findValidSubarray(a, a.get(i));\r\n\t\t\tif ((subarray.size() &gt; maxLength)) {\r\n\t\t\t\tmaxLength = subarray.size();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn maxLength;\r\n\t}\r\n","title":"HackerRank - Picking Numbers","body":"<p>Edit: As pointed out in the comments it is sufficient to do one type of check and only check if the other elements are 1 larger than the first element in the check. Answer modified accordingly</p>\n<p>Your problem is that when you build your subarray, you allow numbers in it that are both 1 higher and 1 lower than the first element you start with.\nYou then later try to clean up your results by re-validating your generated arrays, but this will not fix the problem that you will not generate any all possible valid subarrays with your method.</p>\n<p>My proposal to fix your code would be:</p>\n<ol>\n<li><p>Modify your <code>findValidSubarray</code> method so that only allows elements that are 1 higher in it. (The cases where lower numbers would be allowed in will be handled in other iteration when that lower number is the starting element for the iteration)</p>\n</li>\n<li><p>remove the <code>arrayValidityCheck</code> as this one will no longer be needed as the above will directly only produce valid subarrays.</p>\n</li>\n</ol>\n<p>Modified findValidSubarray method:</p>\n<pre><code>private static List&lt;Integer&gt; findValidSubarray(final List&lt;Integer&gt; array, final Integer integer) {\n    final List&lt;Integer&gt; subarray = new ArrayList&lt;Integer&gt;();\n    for (final int elem : array) {\n         if ((elem == integer) || (elem + 1 == integer)) {\n             subarray.add(elem);\n         }\n    }\n    return subarray;\n}\n</code></pre>\n<p>Calling that method:</p>\n<pre><code>public static int pickingNumbers(final List&lt;Integer&gt; a) {\n    int maxLength = 0;\n    List&lt;Integer&gt; subarray = new ArrayList&lt;Integer&gt;();\n\n    for (int i = 0; i &lt; a.size(); i++) {\n        subarray = findValidSubarray(a, a.get(i));\n        if ((subarray.size() &gt; maxLength)) {\n            maxLength = subarray.size();\n        }\n    }\n    return maxLength;\n}\n</code></pre>\n"}],"owner":{"account_id":15828861,"reputation":13,"user_id":17708778,"display_name":"Denis  Konev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1438,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73208817,"answer_count":1,"score":1,"last_activity_date":1659450641,"creation_date":1659446683,"question_id":73208382,"body_markdown":"I&#39;m new to programming and it&#39;s my first ever question here.\r\n\r\nI&#39;ve been trying to solve this challenge https://www.hackerrank.com/challenges/picking-numbers/problem?isFullScreen=true for three consecutive days but still got 3/10 test cases failed.\r\n\r\nHere the algorithm I use:\r\n1. For each element in the main array create a subarray where all elements are equal or no more or less by 1\r\n2. Resulting number of subarrays (which equals to the number of elements in the first array) are checked for validity meaning that each element is equal or no more or less by 1\r\n3. Find the longest valid subarray and return it&#39;s size\r\n\r\nHere is the code for the solution:\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import java.util.stream.Stream;\r\n    \r\n    import static java.util.stream.Collectors.joining;\r\n    import static java.util.stream.Collectors.toList;\r\n    \r\n    class Result {\r\n    \r\n        /*\r\n         * Complete the &#39;pickingNumbers&#39; function below.\r\n         *\r\n         * The function is expected to return an INTEGER.\r\n         * The function accepts INTEGER_ARRAY a as parameter.\r\n         */\r\n    \r\n        public static int pickingNumbers(List&lt;Integer&gt; a) {\r\n            int maxLength = 0;\r\n            boolean isValidArray = false;\r\n            List&lt;Integer&gt; subarray = new ArrayList&lt;Integer&gt;();\r\n    \r\n            for (int i = 0; i &lt; a.size(); i++) {\r\n                subarray = findValidSubarray(a, a.get(i));\r\n                isValidArray = arrayValidityCheck(subarray);\r\n                if ((isValidArray) &amp;&amp; (subarray.size() &gt; maxLength)) {\r\n                    maxLength = subarray.size();\r\n                }\r\n            }\r\n            return maxLength;\r\n        }\r\n    \r\n        private static List&lt;Integer&gt; findValidSubarray(List&lt;Integer&gt; array, Integer integer) {\r\n            List&lt;Integer&gt; subarray = new ArrayList&lt;Integer&gt;();\r\n    \r\n            for (int elem : array) {\r\n                if ((elem == integer) || (elem + 1 == integer) || (elem == integer + 1)) {\r\n                    subarray.add(elem);\r\n                }\r\n            }\r\n            return subarray;\r\n        }\r\n    //check that all elements are equal or not more or less than 1 to each other\r\n        private static boolean arrayValidityCheck(List&lt;Integer&gt; subarray) {\r\n            boolean isValid = false;\r\n    \r\n            for (int i = 0; i &lt; subarray.size(); i++) {\r\n                for (int j = 0; j &lt; subarray.size(); j++) {\r\n                    if ((subarray.get(i) == subarray.get(j)) || (subarray.get(i) + 1 == subarray.get(j)) || (subarray.get(i) == subarray.get(j) + 1)) {\r\n                        isValid = true;\r\n                    } else {\r\n                        isValid = false;\r\n                        break;\r\n                    }\r\n                }\r\n                if (!isValid) {\r\n                    break;\r\n                }\r\n            }\r\n            return isValid;\r\n        }\r\n    }\r\n    \r\n    public class Solution {\r\n        public static void main(String[] args) throws IOException {\r\n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\r\n            String[] firstMultipleInput = bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;);\r\n            int n = Integer.parseInt(firstMultipleInput[0]);\r\n    \r\n            List&lt;Integer&gt; a = Stream.of(bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;))\r\n                    .map(Integer::parseInt)\r\n                    .collect(toList());\r\n            bufferedReader.close();\r\n    \r\n            int result = Result.pickingNumbers(a);\r\n            System.out.println(result);\r\n        }\r\n    }\r\n\r\nSample test case data which is failing:\r\n&gt; 100\r\n\r\nand\r\n\r\n&gt; 14 18 17 10 9 20 4 13 19 19 8 15 15 17 6 5 15 12 18 2 18 7 20 8 2 8 11\r\n&gt; 2 16 2 12 9 3 6 9 9 13 7 4 6 19 7 2 4 3 4 14 3 4 9 17 9 4 20 10 16 12\r\n&gt; 1 16 4 15 15 9 13 6 3 8 4 7 14 16 18 20 11 20 14 20 12 15 4 5 10 10 20\r\n&gt; 11 18 5 20 13 4 18 1 14 3 20 19 14 2 5 13\r\n\r\nValid answer:\r\n\r\n&gt; 15\r\n\r\nMy answer:\r\n\r\n&gt; 13\r\n\r\nI&#39;m out of ideas where the bug is here.\r\nCould you please help me?\r\n\r\nPS: I&#39;m aware that this algorithm is not optimal. Any optimization tips would be much appreciated. \r\n\r\n","title":"HackerRank - Picking Numbers","body":"<p>I'm new to programming and it's my first ever question here.</p>\n<p>I've been trying to solve this challenge <a href=\"https://www.hackerrank.com/challenges/picking-numbers/problem?isFullScreen=true\" rel=\"nofollow noreferrer\">https://www.hackerrank.com/challenges/picking-numbers/problem?isFullScreen=true</a> for three consecutive days but still got 3/10 test cases failed.</p>\n<p>Here the algorithm I use:</p>\n<ol>\n<li>For each element in the main array create a subarray where all elements are equal or no more or less by 1</li>\n<li>Resulting number of subarrays (which equals to the number of elements in the first array) are checked for validity meaning that each element is equal or no more or less by 1</li>\n<li>Find the longest valid subarray and return it's size</li>\n</ol>\n<p>Here is the code for the solution:</p>\n<pre><code>import java.io.*;\nimport java.util.*;\nimport java.util.stream.Stream;\n\nimport static java.util.stream.Collectors.joining;\nimport static java.util.stream.Collectors.toList;\n\nclass Result {\n\n    /*\n     * Complete the 'pickingNumbers' function below.\n     *\n     * The function is expected to return an INTEGER.\n     * The function accepts INTEGER_ARRAY a as parameter.\n     */\n\n    public static int pickingNumbers(List&lt;Integer&gt; a) {\n        int maxLength = 0;\n        boolean isValidArray = false;\n        List&lt;Integer&gt; subarray = new ArrayList&lt;Integer&gt;();\n\n        for (int i = 0; i &lt; a.size(); i++) {\n            subarray = findValidSubarray(a, a.get(i));\n            isValidArray = arrayValidityCheck(subarray);\n            if ((isValidArray) &amp;&amp; (subarray.size() &gt; maxLength)) {\n                maxLength = subarray.size();\n            }\n        }\n        return maxLength;\n    }\n\n    private static List&lt;Integer&gt; findValidSubarray(List&lt;Integer&gt; array, Integer integer) {\n        List&lt;Integer&gt; subarray = new ArrayList&lt;Integer&gt;();\n\n        for (int elem : array) {\n            if ((elem == integer) || (elem + 1 == integer) || (elem == integer + 1)) {\n                subarray.add(elem);\n            }\n        }\n        return subarray;\n    }\n//check that all elements are equal or not more or less than 1 to each other\n    private static boolean arrayValidityCheck(List&lt;Integer&gt; subarray) {\n        boolean isValid = false;\n\n        for (int i = 0; i &lt; subarray.size(); i++) {\n            for (int j = 0; j &lt; subarray.size(); j++) {\n                if ((subarray.get(i) == subarray.get(j)) || (subarray.get(i) + 1 == subarray.get(j)) || (subarray.get(i) == subarray.get(j) + 1)) {\n                    isValid = true;\n                } else {\n                    isValid = false;\n                    break;\n                }\n            }\n            if (!isValid) {\n                break;\n            }\n        }\n        return isValid;\n    }\n}\n\npublic class Solution {\n    public static void main(String[] args) throws IOException {\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\n        String[] firstMultipleInput = bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;);\n        int n = Integer.parseInt(firstMultipleInput[0]);\n\n        List&lt;Integer&gt; a = Stream.of(bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;))\n                .map(Integer::parseInt)\n                .collect(toList());\n        bufferedReader.close();\n\n        int result = Result.pickingNumbers(a);\n        System.out.println(result);\n    }\n}\n</code></pre>\n<p>Sample test case data which is failing:</p>\n<blockquote>\n<p>100</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>14 18 17 10 9 20 4 13 19 19 8 15 15 17 6 5 15 12 18 2 18 7 20 8 2 8 11\n2 16 2 12 9 3 6 9 9 13 7 4 6 19 7 2 4 3 4 14 3 4 9 17 9 4 20 10 16 12\n1 16 4 15 15 9 13 6 3 8 4 7 14 16 18 20 11 20 14 20 12 15 4 5 10 10 20\n11 18 5 20 13 4 18 1 14 3 20 19 14 2 5 13</p>\n</blockquote>\n<p>Valid answer:</p>\n<blockquote>\n<p>15</p>\n</blockquote>\n<p>My answer:</p>\n<blockquote>\n<p>13</p>\n</blockquote>\n<p>I'm out of ideas where the bug is here.\nCould you please help me?</p>\n<p>PS: I'm aware that this algorithm is not optimal. Any optimization tips would be much appreciated.</p>\n"},{"tags":["java","git","apache-camel"],"comments":[{"owner":{"account_id":345284,"reputation":668,"user_id":678094,"display_name":"Tushar"},"score":0,"creation_date":1659599156,"post_id":73209242,"comment_id":129333874,"body_markdown":"What is the issue or error?","body":"What is the issue or error?"},{"owner":{"account_id":25958440,"reputation":1,"user_id":19675456,"display_name":"PikiBgn"},"score":0,"creation_date":1659606089,"post_id":73209242,"comment_id":129336223,"body_markdown":"There is no error sent back. It compiles but nothing happens. That&#39;s the issue.","body":"There is no error sent back. It compiles but nothing happens. That&#39;s the issue."},{"owner":{"account_id":25958440,"reputation":1,"user_id":19675456,"display_name":"PikiBgn"},"score":0,"creation_date":1659699797,"post_id":73209242,"comment_id":129362253,"body_markdown":"@Tushar I forgot to call you up","body":"@Tushar I forgot to call you up"}],"owner":{"account_id":25958440,"reputation":1,"user_id":19675456,"display_name":"PikiBgn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659450331,"creation_date":1659450331,"question_id":73209242,"body_markdown":"I am quite new in Camel and I&#39;m facing an issue while sending a file to git repository nothing happens. I know it is a bit inconvenient but I really need this particular feature to be in my project. I&#39;ve read the documentation and came out with something like this. \r\n\r\n    private void FtGRoute(){\r\n    from(InputPath)\r\n            .routeId(&quot;ToGit&quot;)\r\n            .setHeader(GitConstants.GIT_FILE_NAME, constant(&quot;CamelToGit.xml&quot;))\r\n            .to(&quot;git://C:/Users/username/IdeaProjects/projectName?operation=add&quot;)\r\n            .setHeader(GitConstants.GIT_COMMIT_MESSAGE, constant(&quot;file to git commit&quot;))\r\n            .to(&quot;git://C:/Users/username/IdeaProjects/projectName?operation=commit&quot;)\r\n            .to(&quot;git://C:/Users/username/IdeaProjects/projectName?operation=push&amp;remotePath=https://github.com/name/CamelToGit.git&quot;);\r\n\r\nI&#39;ll be more than happy if somebody will help me with this.","title":"How to send files via apache camel directly to git remote repo?","body":"<p>I am quite new in Camel and I'm facing an issue while sending a file to git repository nothing happens. I know it is a bit inconvenient but I really need this particular feature to be in my project. I've read the documentation and came out with something like this.</p>\n<pre><code>private void FtGRoute(){\nfrom(InputPath)\n        .routeId(&quot;ToGit&quot;)\n        .setHeader(GitConstants.GIT_FILE_NAME, constant(&quot;CamelToGit.xml&quot;))\n        .to(&quot;git://C:/Users/username/IdeaProjects/projectName?operation=add&quot;)\n        .setHeader(GitConstants.GIT_COMMIT_MESSAGE, constant(&quot;file to git commit&quot;))\n        .to(&quot;git://C:/Users/username/IdeaProjects/projectName?operation=commit&quot;)\n        .to(&quot;git://C:/Users/username/IdeaProjects/projectName?operation=push&amp;remotePath=https://github.com/name/CamelToGit.git&quot;);\n</code></pre>\n<p>I'll be more than happy if somebody will help me with this.</p>\n"},{"tags":["java","variables","dynamic"],"comments":[{"owner":{"account_id":255509,"reputation":1665,"user_id":535610,"display_name":"Usman Saleem"},"score":0,"creation_date":1316478563,"post_id":7478833,"comment_id":9051332,"body_markdown":"The only possible way I could think is to use runtime byte code injection. As per best of my knowledge, we cannot create dynamic variables before compilation.","body":"The only possible way I could think is to use runtime byte code injection. As per best of my knowledge, we cannot create dynamic variables before compilation."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1316479181,"post_id":7478833,"comment_id":9051437,"body_markdown":"Let me guess, you&#39;re primarily a PHP programmer, aren&#39;t you? Am I close?","body":"Let me guess, you&#39;re primarily a PHP programmer, aren&#39;t you? Am I close?"},{"owner":{"account_id":61562,"reputation":14771,"user_id":183397,"accept_rate":100,"display_name":"clstrfsck"},"score":1,"creation_date":1316479213,"post_id":7478833,"comment_id":9051447,"body_markdown":"I think `java.lang.reflect.Proxy` is about as close as you can go.  Even then you can only implement things that were defined at compile time.","body":"I think <code>java.lang.reflect.Proxy</code> is about as close as you can go.  Even then you can only implement things that were defined at compile time."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1316479274,"post_id":7478833,"comment_id":9051453,"body_markdown":"Yes, but you wouldn&#39;t be able to use them outside of the code you created through that mechanism (barring a consistent interface).","body":"Yes, but you wouldn&#39;t be able to use them outside of the code you created through that mechanism (barring a consistent interface)."},{"owner":{"account_id":170019,"reputation":84110,"user_id":396458,"accept_rate":84,"display_name":"NullUserException"},"score":0,"creation_date":1316480959,"post_id":7478833,"comment_id":9051662,"body_markdown":"@HovercraftFullOfEels I never used that (creating new locals on the stack) in real code in PHP/Python/JS, but the fact is, it is there if I ever need it. The other feature, dynamically adding members to an instance, is much more useful though.","body":"@HovercraftFullOfEels I never used that (creating new locals on the stack) in real code in PHP/Python/JS, but the fact is, it is there if I ever need it. The other feature, dynamically adding members to an instance, is much more useful though."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1316481126,"post_id":7478833,"comment_id":9051682,"body_markdown":"@NullUser: I think that you&#39;re trying to have variable variable names, and if so, this is just not a concept that is part of Java. In Java variable names are not as important as they are in other languages and almost don&#39;t exist in the compiled code. If this is what you need, then justify it and probably look for another language.","body":"@NullUser: I think that you&#39;re trying to have variable variable names, and if so, this is just not a concept that is part of Java. In Java variable names are not as important as they are in other languages and almost don&#39;t exist in the compiled code. If this is what you need, then justify it and probably look for another language."},{"owner":{"account_id":23804,"reputation":28036,"user_id":59947,"accept_rate":92,"display_name":"Yevgeny Simkin"},"score":0,"creation_date":1316481990,"post_id":7478833,"comment_id":9051794,"body_markdown":"@Hovercraft, If you think of your instance as a Serialized object then it&#39;s very easy to craft a class that has a HashMap member which you can use just about exactly like a JSON object. If you don&#39;t need to create executable chunks of code at run time (which is where eval really shines) you can get 99% of what you&#39;re looking to do with a Hash.","body":"@Hovercraft, If you think of your instance as a Serialized object then it&#39;s very easy to craft a class that has a HashMap member which you can use just about exactly like a JSON object. If you don&#39;t need to create executable chunks of code at run time (which is where eval really shines) you can get 99% of what you&#39;re looking to do with a Hash."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1316482339,"post_id":7478833,"comment_id":9051828,"body_markdown":"@Dr.Dredel: Yes, I agree with your HashMap solution and have already up-voted it.","body":"@Dr.Dredel: Yes, I agree with your HashMap solution and have already up-voted it."}],"answers":[{"tags":[],"owner":{"account_id":912027,"reputation":246,"user_id":945642,"accept_rate":62,"display_name":"oorosco"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1316478568,"creation_date":1316478568,"answer_id":7478851,"question_id":7478833,"body_markdown":"Can you perhaps elaborate, not sure what you&#39;re doing different here. Of course you can create three different strings. However i believe the syntax in java is string xx = new string(&quot;DDFD&quot;);\r\n\r\nEdit:\r\n\r\nBy this i mean, what are you trying to change here. You can allocate memory dynamically therefore you can create &quot;variables&quot; dynamically. HOWEVER you cannot create a &quot;variable&quot; in the primitive fashion such as &quot;int x = 0;&quot; in run time, however you can add nodes to linked lists, resize arrays, etc during run time.","title":"Is it possible to create variables at runtime in Java?","body":"<p>Can you perhaps elaborate, not sure what you're doing different here. Of course you can create three different strings. However i believe the syntax in java is string xx = new string(\"DDFD\");</p>\n\n<p>Edit:</p>\n\n<p>By this i mean, what are you trying to change here. You can allocate memory dynamically therefore you can create \"variables\" dynamically. HOWEVER you cannot create a \"variable\" in the primitive fashion such as \"int x = 0;\" in run time, however you can add nodes to linked lists, resize arrays, etc during run time.</p>\n"},{"tags":[],"owner":{"account_id":371054,"reputation":24474,"user_id":719363,"accept_rate":75,"display_name":"Alex Gitelman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1316478794,"creation_date":1316478794,"answer_id":7478869,"question_id":7478833,"body_markdown":"The question is not why you want to do it but &#39;what are you going to do with it?&#39;. So suppose at runtime variable with the name `fruits2` magically appeared on the stack of your method. Now what? You had to know its name at compile time to take advantage of it. Reflection will not help you access local variables. \r\n\r\nAnyway, I would be interested if you described more detailed use case.","title":"Is it possible to create variables at runtime in Java?","body":"<p>The question is not why you want to do it but 'what are you going to do with it?'. So suppose at runtime variable with the name <code>fruits2</code> magically appeared on the stack of your method. Now what? You had to know its name at compile time to take advantage of it. Reflection will not help you access local variables. </p>\n\n<p>Anyway, I would be interested if you described more detailed use case.</p>\n"},{"tags":[],"owner":{"account_id":23804,"reputation":28036,"user_id":59947,"accept_rate":92,"display_name":"Yevgeny Simkin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610460624,"creation_date":1316478828,"answer_id":7478875,"question_id":7478833,"body_markdown":"The way you phrased your question, people won&#39;t understand what you&#39;re asking.  I believe (if I DO understand) the answer to your question (which should be phrased: &quot;is it possible to dynamically create variables at run time&quot;) is &quot;not as you&#39;ve presented it&quot;.\r\n\r\nYou&#39;re right, there&#39;s no analog to javascript&#39;s (very powerful, but slow and fraught with hazards &quot;eval&quot; function) in Java, and that is precisely what you would need to get this to do what you&#39;re hoping to do.\r\n\r\nThe closest that exists is a hashmap (which is actually pretty close) where you can designate the key at run time, and then set the value.  It&#39;s fairly versatile as you can have an &lt;Object&gt; map that will allow for whatever type you want stored in the field. \r\n","title":"Is it possible to create variables at runtime in Java?","body":"<p>The way you phrased your question, people won't understand what you're asking.  I believe (if I DO understand) the answer to your question (which should be phrased: &quot;is it possible to dynamically create variables at run time&quot;) is &quot;not as you've presented it&quot;.</p>\n<p>You're right, there's no analog to javascript's (very powerful, but slow and fraught with hazards &quot;eval&quot; function) in Java, and that is precisely what you would need to get this to do what you're hoping to do.</p>\n<p>The closest that exists is a hashmap (which is actually pretty close) where you can designate the key at run time, and then set the value.  It's fairly versatile as you can have an  map that will allow for whatever type you want stored in the field.</p>\n"},{"tags":[],"owner":{"account_id":118132,"reputation":2635,"user_id":308930,"display_name":"avh4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316480604,"creation_date":1316480604,"answer_id":7479030,"question_id":7478833,"body_markdown":"You&#39;re not going to be able to modify a class that&#39;s already been loaded into the JVM.  However, you could conceivably use ASM &lt; http://asm.ow2.org/ &gt; or BCEL &lt; http://commons.apache.org/bcel/&gt; to dynamically generate a new class that has the dynamically-defined fields.\r\n\r\nWay more trouble than it&#39;s worth.  Seriously, just use a HashMap!","title":"Is it possible to create variables at runtime in Java?","body":"<p>You're not going to be able to modify a class that's already been loaded into the JVM.  However, you could conceivably use ASM &lt; <a href=\"http://asm.ow2.org/\" rel=\"nofollow\">http://asm.ow2.org/</a> > or BCEL &lt; <a href=\"http://commons.apache.org/bcel/\" rel=\"nofollow\">http://commons.apache.org/bcel/</a>> to dynamically generate a new class that has the dynamically-defined fields.</p>\n\n<p>Way more trouble than it's worth.  Seriously, just use a HashMap!</p>\n"},{"tags":[],"owner":{"account_id":918133,"reputation":51,"user_id":950463,"display_name":"billybyte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316481491,"creation_date":1316481491,"answer_id":7479089,"question_id":7478833,"body_markdown":"Would Janino be useful for you?\r\n\r\nHere&#39;s some code.  I think it&#39;s close to what you want, but I&#39;m not sure.\r\n\r\n    package misc;\r\n\r\n    import java.lang.reflect.InvocationTargetException;\r\n\r\n    import org.codehaus.janino.CompileException;\r\n    import org.codehaus.janino.ScriptEvaluator;\r\n    import org.codehaus.janino.Parser.ParseException;\r\n    import org.codehaus.janino.Scanner.ScanException;\r\n\r\n    public class JaninoExample {\r\n\tpublic static void main(String[] args) {\r\n\t\tString in = &quot; {\\&quot;Pear\\&quot;, \\&quot;Banana\\&quot;, \\&quot;Apple\\&quot;};&quot;;\r\n\t\ttry {\r\n\t\t\tScriptEvaluator se = new ScriptEvaluator(&quot;return new String[]&quot;+in,String[].class);\r\n\t\t\ttry {\r\n\t\t\t\tString[] fruits = (String[])se.evaluate(new Object[]{});\r\n\t\t\t\tfor(String fruit:fruits){\r\n\t\t\t\t\tSystem.out.println(fruit);\r\n\t\t\t\t}\r\n\t\t\t} catch (InvocationTargetException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t} catch (CompileException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (ParseException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (ScanException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n}\r\n","title":"Is it possible to create variables at runtime in Java?","body":"<p>Would Janino be useful for you?</p>\n\n<p>Here's some code.  I think it's close to what you want, but I'm not sure.</p>\n\n<pre><code>package misc;\n\nimport java.lang.reflect.InvocationTargetException;\n\nimport org.codehaus.janino.CompileException;\nimport org.codehaus.janino.ScriptEvaluator;\nimport org.codehaus.janino.Parser.ParseException;\nimport org.codehaus.janino.Scanner.ScanException;\n\npublic class JaninoExample {\npublic static void main(String[] args) {\n    String in = \" {\\\"Pear\\\", \\\"Banana\\\", \\\"Apple\\\"};\";\n    try {\n        ScriptEvaluator se = new ScriptEvaluator(\"return new String[]\"+in,String[].class);\n        try {\n            String[] fruits = (String[])se.evaluate(new Object[]{});\n            for(String fruit:fruits){\n                System.out.println(fruit);\n            }\n        } catch (InvocationTargetException e) {\n            e.printStackTrace();\n        }\n    } catch (CompileException e) {\n        e.printStackTrace();\n    } catch (ParseException e) {\n        e.printStackTrace();\n    } catch (ScanException e) {\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1316483255,"creation_date":1316483255,"answer_id":7479202,"question_id":7478833,"body_markdown":"&gt; Is it possible to create variables at runtime in Java?\r\n\r\nThe simple answer is No.\r\n\r\nJava is a static language and does not support the injection of new variable declarations into an existing compiled program.  There are alternatives (in order of decreasing usefulness / increasing difficulty):\r\n\r\n - Represent your &quot;variables&quot; as name / value pairs in a `Map`.  Or come up with some other design that doesn&#39;t *require* real dynamic variables.\r\n - Use a scripting language that runs on the JVM and is callable from Java.\r\n - Use some kind of templating mechanism to generate new source code containing the declarations, and compile and load it dynamically.\r\n - Use a byte code manipulation library (e.g. BCEL) to create class files on the fly and then dynamically load them.\r\n\r\nThe first approach is the best.  Java is a static language, and works best if you don&#39;t fight it.  If this is a problem for you, maybe you are using the wrong language.\r\n\r\nThe last two are difficult / complicated and have significant performance costs.  They are almost certainly not going to help ...\r\n\r\n ","title":"Is it possible to create variables at runtime in Java?","body":"<blockquote>\n  <p>Is it possible to create variables at runtime in Java?</p>\n</blockquote>\n\n<p>The simple answer is No.</p>\n\n<p>Java is a static language and does not support the injection of new variable declarations into an existing compiled program.  There are alternatives (in order of decreasing usefulness / increasing difficulty):</p>\n\n<ul>\n<li>Represent your \"variables\" as name / value pairs in a <code>Map</code>.  Or come up with some other design that doesn't <em>require</em> real dynamic variables.</li>\n<li>Use a scripting language that runs on the JVM and is callable from Java.</li>\n<li>Use some kind of templating mechanism to generate new source code containing the declarations, and compile and load it dynamically.</li>\n<li>Use a byte code manipulation library (e.g. BCEL) to create class files on the fly and then dynamically load them.</li>\n</ul>\n\n<p>The first approach is the best.  Java is a static language, and works best if you don't fight it.  If this is a problem for you, maybe you are using the wrong language.</p>\n\n<p>The last two are difficult / complicated and have significant performance costs.  They are almost certainly not going to help ...</p>\n"},{"tags":[],"owner":{"account_id":4520718,"reputation":79,"user_id":3674055,"accept_rate":0,"display_name":"Elad Cohen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659450310,"creation_date":1659450310,"answer_id":73209238,"question_id":7478833,"body_markdown":"Yes, for example, see Lombok library and specifically @log4j annotation that injects the log variable to the class","title":"Is it possible to create variables at runtime in Java?","body":"<p>Yes, for example, see Lombok library and specifically @log4j annotation that injects the log variable to the class</p>\n"}],"owner":{"account_id":170019,"reputation":84110,"user_id":396458,"accept_rate":84,"display_name":"NullUserException"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20590,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":7479202,"answer_count":7,"score":8,"last_activity_date":1659450310,"creation_date":1316478374,"question_id":7478833,"body_markdown":"For example, say I wanted to &quot;extract&quot; `String[] fruits = {&quot;Pear&quot;, &quot;Banana&quot;, &quot;Apple&quot;};` into three separate variables, eg:\r\n   \r\n\r\n    for (int i=0; i != fruits.length; ++i) {\r\n        // of course there&#39;s no eval in Java\r\n        eval(&quot;String fruit + i = &quot; + fruits[i] + &quot;;&quot;); \r\n    }\r\n\r\n    // ie: code that creates something equivalent to the following declarations:\r\n    String fruit0 = &quot;Pear&quot;;\r\n    String fruit1 = &quot;Banana&quot;;\r\n    String fruit2 = &quot;Apple&quot;;\r\n\r\nHow could I do that, ignoring the *&quot;Why the heck would you want to do that?&quot;* question that you might be urged to ask me.\r\n\r\nSimilar questions have been asked many times before, but the real answer was never given, because what the OP really needed was to use a different approach. That&#39;s fine, but is this possible at all? \r\n\r\nI have looked at reflection and it doesn&#39;t seem like there are any methods that would allow me even to add extra fields to an instance, let alone dynamically create locals.","title":"Is it possible to create variables at runtime in Java?","body":"<p>For example, say I wanted to \"extract\" <code>String[] fruits = {\"Pear\", \"Banana\", \"Apple\"};</code> into three separate variables, eg:</p>\n\n<pre><code>for (int i=0; i != fruits.length; ++i) {\n    // of course there's no eval in Java\n    eval(\"String fruit + i = \" + fruits[i] + \";\"); \n}\n\n// ie: code that creates something equivalent to the following declarations:\nString fruit0 = \"Pear\";\nString fruit1 = \"Banana\";\nString fruit2 = \"Apple\";\n</code></pre>\n\n<p>How could I do that, ignoring the <em>\"Why the heck would you want to do that?\"</em> question that you might be urged to ask me.</p>\n\n<p>Similar questions have been asked many times before, but the real answer was never given, because what the OP really needed was to use a different approach. That's fine, but is this possible at all? </p>\n\n<p>I have looked at reflection and it doesn't seem like there are any methods that would allow me even to add extra fields to an instance, let alone dynamically create locals.</p>\n"},{"tags":["java","multithreading","return","keylistener","runnable"],"comments":[{"owner":{"account_id":2044914,"reputation":324,"user_id":1825224,"display_name":"jbowman"},"score":1,"creation_date":1415222395,"post_id":26767216,"comment_id":42115522,"body_markdown":"1. Classes don&#39;t return values. 2. Are you planning on calling `isXPressed()` for each key on the keyboard in your main thread? 3. Why not handle your key press in the method that was designed to do that? (`keyPressed`)? 4. What, exactly, is your question?","body":"1. Classes don&#39;t return values. 2. Are you planning on calling <code>isXPressed()</code> for each key on the keyboard in your main thread? 3. Why not handle your key press in the method that was designed to do that? (<code>keyPressed</code>)? 4. What, exactly, is your question?"},{"owner":{"account_id":5185880,"reputation":19,"user_id":4150294,"display_name":"Julian E."},"score":0,"creation_date":1415222500,"post_id":26767216,"comment_id":42115589,"body_markdown":"1. Fixed. 2. Only for 4 Keys. 3. Tell me how 4. How can i get my Listener to work.","body":"1. Fixed. 2. Only for 4 Keys. 3. Tell me how 4. How can i get my Listener to work."},{"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"score":1,"creation_date":1415222562,"post_id":26767216,"comment_id":42115631,"body_markdown":"5 the listener is called from the GUI&#39;s thread... if the processing in the listener is heavy, THEN you should launch it in a different thread so the GUI&#39;s thread does not get stuck.","body":"5 the listener is called from the GUI&#39;s thread... if the processing in the listener is heavy, THEN you should launch it in a different thread so the GUI&#39;s thread does not get stuck."},{"owner":{"account_id":5185880,"reputation":19,"user_id":4150294,"display_name":"Julian E."},"score":0,"creation_date":1415222725,"post_id":26767216,"comment_id":42115713,"body_markdown":"Could you please give me examples? As I said, I&#39;m pretty new to Java and can&#39;t understand exactly what you mean.","body":"Could you please give me examples? As I said, I&#39;m pretty new to Java and can&#39;t understand exactly what you mean."},{"owner":{"account_id":5185880,"reputation":19,"user_id":4150294,"display_name":"Julian E."},"score":0,"creation_date":1415222766,"post_id":26767216,"comment_id":42115737,"body_markdown":"@SJuan76 it&#39;s not heavy","body":"@SJuan76 it&#39;s not heavy"},{"owner":{"account_id":2044914,"reputation":324,"user_id":1825224,"display_name":"jbowman"},"score":0,"creation_date":1415223211,"post_id":26767216,"comment_id":42115937,"body_markdown":"@JulianE. What would you like to happen when an appropriate key is pressed? This is what you should do in `keyPressed()`. Is `keyPressed` not getting called? Can we see the rest of your code?","body":"@JulianE. What would you like to happen when an appropriate key is pressed? This is what you should do in <code>keyPressed()</code>. Is <code>keyPressed</code> not getting called? Can we see the rest of your code?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1415223368,"post_id":26767216,"comment_id":42116017,"body_markdown":"Your class implements Runnable, and it has a run() method that does nothing?  That&#39;s a pretty strong code smell.","body":"Your class implements Runnable, and it has a run() method that does nothing?  That&#39;s a pretty strong code smell."},{"owner":{"account_id":971196,"reputation":24175,"user_id":993742,"display_name":"isnot2bad"},"score":0,"creation_date":1415260131,"post_id":26767216,"comment_id":42127468,"body_markdown":"It seems you&#39;ve got a completely wrong idea of how concurrency works in java. You should better read some tutorials first, e.g. http://docs.oracle.com/javase/tutorial/essential/concurrency/","body":"It seems you&#39;ve got a completely wrong idea of how concurrency works in java. You should better read some tutorials first, e.g. <a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency</a>"}],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659450147,"creation_date":1415222778,"answer_id":26767443,"question_id":26767216,"body_markdown":"The Listener is not called by your program. Swing calls the Listener when an apropiate event happens. For example: say we write a `KeyListener` for a `TextField`. If the user starts typing in this `TextField`, Swing will call the corresponding methods in the listener. So, the Listener is called by Swing, not by your code and thus you cannot write it for an own thread. This principle is also known as [Hollywood principle (&quot;Don&#39;t call us, we call you!&quot;) (`wikipedia.org`)][hollywood]. [This link](http://docs.oracle.com/javase/tutorial/uiswing/events/) gives a good introduction to Events and Listener in Swing.\r\n\r\n**EDIT**\r\n\r\nAs mentioned by SJuan76, we are able to launch seperate threads FROM the listener to do stuff we want them to.\r\n\r\n[hollywood]: https://en.wiktionary.org/wiki/Hollywood_principle","title":"Having Listener in new Thread","body":"<p>The Listener is not called by your program. Swing calls the Listener when an apropiate event happens. For example: say we write a <code>KeyListener</code> for a <code>TextField</code>. If the user starts typing in this <code>TextField</code>, Swing will call the corresponding methods in the listener. So, the Listener is called by Swing, not by your code and thus you cannot write it for an own thread. This principle is also known as <a href=\"https://en.wiktionary.org/wiki/Hollywood_principle\" rel=\"nofollow noreferrer\">Hollywood principle (&quot;Don't call us, we call you!&quot;) (<code>wikipedia.org</code>)</a>. <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/events/\" rel=\"nofollow noreferrer\">This link</a> gives a good introduction to Events and Listener in Swing.</p>\n<p><strong>EDIT</strong></p>\n<p>As mentioned by SJuan76, we are able to launch seperate threads FROM the listener to do stuff we want them to.</p>\n"},{"tags":[],"owner":{"account_id":6302185,"reputation":1741,"user_id":4896472,"accept_rate":100,"display_name":"TheChubbyPanda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506963546,"creation_date":1506963546,"answer_id":46530170,"question_id":26767216,"body_markdown":"The Java Key Listener that you are using runs on it&#39;s own thread already. There is no need to try to put it in it&#39;s own thread.\r\n\r\nReading into the comments however, if you want to start a new thread when a key is pressed for example, you could. The following is how you might go about it:\r\n\r\n    Thread thread = new Thread(this, &quot;Keyboard Thread&quot;);\r\n\r\nHope this helped!","title":"Having Listener in new Thread","body":"<p>The Java Key Listener that you are using runs on it's own thread already. There is no need to try to put it in it's own thread.</p>\n\n<p>Reading into the comments however, if you want to start a new thread when a key is pressed for example, you could. The following is how you might go about it:</p>\n\n<pre><code>Thread thread = new Thread(this, \"Keyboard Thread\");\n</code></pre>\n\n<p>Hope this helped!</p>\n"}],"owner":{"account_id":5185880,"reputation":19,"user_id":4150294,"display_name":"Julian E."},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2607,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26767443,"answer_count":2,"score":1,"last_activity_date":1659450147,"creation_date":1415221916,"question_id":26767216,"body_markdown":"I&#39;m trying to place my `KeyListener` in a new `Thread` called `Keys` in my project because my main thread is already in a loop. So I want this method to return a `boolean` if the key is pressed or not. I&#39;m pretty new to Java so sorry if that is just a dumb mistake.\r\n\r\n**Thread:**\r\n\r\n    public class Keys implements KeyListener, Runnable {\r\n\r\n        private boolean w = false;\r\n        //private boolean ... same stuff\r\n\r\n        public void keyTyped(KeyEvent keyEvent) {\r\n            //nothing in here ;)\r\n        }\r\n        public void keyPressed(KeyEvent keyEvent) {\r\n            //set right boolean true = no problem\r\n        }\r\n        public void keyReleased(KeyEvent keyEvent) {\r\n            //set right boolean false = no problem\r\n        }\r\n\r\n        public void run() {\r\n            //nothing to do here\r\n        }\r\n\r\n        public boolean isWPressed(){\r\n            return w;\r\n        }\r\n        //public boolean is...() [more of them.]\r\n    }\r\n\r\nI would appreciate an example. That&#39;s the best way I learn. ","title":"Having Listener in new Thread","body":"<p>I'm trying to place my <code>KeyListener</code> in a new <code>Thread</code> called <code>Keys</code> in my project because my main thread is already in a loop. So I want this method to return a <code>boolean</code> if the key is pressed or not. I'm pretty new to Java so sorry if that is just a dumb mistake.</p>\n\n<p><strong>Thread:</strong></p>\n\n<pre><code>public class Keys implements KeyListener, Runnable {\n\n    private boolean w = false;\n    //private boolean ... same stuff\n\n    public void keyTyped(KeyEvent keyEvent) {\n        //nothing in here ;)\n    }\n    public void keyPressed(KeyEvent keyEvent) {\n        //set right boolean true = no problem\n    }\n    public void keyReleased(KeyEvent keyEvent) {\n        //set right boolean false = no problem\n    }\n\n    public void run() {\n        //nothing to do here\n    }\n\n    public boolean isWPressed(){\n        return w;\n    }\n    //public boolean is...() [more of them.]\n}\n</code></pre>\n\n<p>I would appreciate an example. That's the best way I learn. </p>\n"},{"tags":["java","rest","gmail-api"],"comments":[{"owner":{"account_id":8589938,"reputation":107,"user_id":6434836,"accept_rate":67,"display_name":"Hari"},"score":0,"creation_date":1667069208,"post_id":71932650,"comment_id":131085394,"body_markdown":"I have the same requirement. Could any one please help?\n@Adrian did you get the solution for this?","body":"I have the same requirement. Could any one please help? @Adrian did you get the solution for this?"}],"owner":{"account_id":15181149,"reputation":59,"user_id":10954388,"display_name":"Adrian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1659450115,"creation_date":1650413102,"question_id":71932650,"body_markdown":"I&#39;m trying to build custom notifications to users based on batch processes that execute in a scheduler. Success/Failure notifications etc.\r\n\r\nI&#39;ve taken a look at https://stackoverflow.com/questions/36214968/how-to-get-access-token-using-gmail-api and I&#39;ve been trying to get the REST call working.\r\n\r\nI initially had used a service account to get an access token and based on https://stackoverflow.com/questions/33233694/gmail-api-can-i-send-email-using-the-service-account I cannot use a service account to impersonate a user for sending emails. \r\n\r\nWe reached out to Google support and got a person on chat who was unhelpful and she said we should use 2FA, which wont work because we want it fully automated.\r\n\r\nThis is what I&#39;m trying to do in code:\r\n\r\n```\r\nstrBuild.append(&quot;code=&quot;).append(**code**)\r\n  .append(&quot;&amp;client_id=&quot;).append(client_id)\r\n  .append(&quot;&amp;client_secret=&quot;).append(client_secret)\r\n  .append(&quot;&amp;redirect_uri=&quot;).append(redirect_uri)\r\n  .append(&quot;&amp;grant_type=&quot;).append(grant_type);\r\n```\r\nWhere is the **code** coming from?\r\n\r\nAnother piece of code was retrieving an access token by sending a refresh token, now where is the refresh token coming from?\r\n\r\nAlso, Google&#39;s oAuth example uses opening a browser https://developers.google.com/gmail/api/quickstart/java\r\n\r\n```\r\nGoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n                HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n                .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\r\n                .setAccessType(&quot;offline&quot;)\r\n                .build();\r\n        LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\r\n        Credential credential = new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\r\n```\r\nWhich defeats the purpose of automation. I&#39;ve looked at other posts and there are no example of full automation without authorizing to get a code.\r\n\r\nIs this even possible without human intervention using REST for Gmail?\r\n\r\n\r\n","title":"Sending emails using Gmail API from Java (batch process) without human intervention","body":"<p>I'm trying to build custom notifications to users based on batch processes that execute in a scheduler. Success/Failure notifications etc.</p>\n<p>I've taken a look at <a href=\"https://stackoverflow.com/questions/36214968/how-to-get-access-token-using-gmail-api\">How to get access token using gmail api</a> and I've been trying to get the REST call working.</p>\n<p>I initially had used a service account to get an access token and based on <a href=\"https://stackoverflow.com/questions/33233694/gmail-api-can-i-send-email-using-the-service-account\">GMail API - Can I send email using the Service Account?</a> I cannot use a service account to impersonate a user for sending emails.</p>\n<p>We reached out to Google support and got a person on chat who was unhelpful and she said we should use 2FA, which wont work because we want it fully automated.</p>\n<p>This is what I'm trying to do in code:</p>\n<pre><code>strBuild.append(&quot;code=&quot;).append(**code**)\n  .append(&quot;&amp;client_id=&quot;).append(client_id)\n  .append(&quot;&amp;client_secret=&quot;).append(client_secret)\n  .append(&quot;&amp;redirect_uri=&quot;).append(redirect_uri)\n  .append(&quot;&amp;grant_type=&quot;).append(grant_type);\n</code></pre>\n<p>Where is the <strong>code</strong> coming from?</p>\n<p>Another piece of code was retrieving an access token by sending a refresh token, now where is the refresh token coming from?</p>\n<p>Also, Google's oAuth example uses opening a browser <a href=\"https://developers.google.com/gmail/api/quickstart/java\" rel=\"nofollow noreferrer\">https://developers.google.com/gmail/api/quickstart/java</a></p>\n<pre><code>GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n                HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n                .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\n                .setAccessType(&quot;offline&quot;)\n                .build();\n        LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\n        Credential credential = new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\n</code></pre>\n<p>Which defeats the purpose of automation. I've looked at other posts and there are no example of full automation without authorizing to get a code.</p>\n<p>Is this even possible without human intervention using REST for Gmail?</p>\n"},{"tags":["java","android","android-studio","bitmap","brother-print-sdk"],"answers":[{"tags":[],"owner":{"account_id":25891571,"reputation":1,"user_id":19618885,"display_name":"Harry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659449679,"creation_date":1659449679,"answer_id":73209114,"question_id":73112078,"body_markdown":"Solved it, I was using LabelInfo.QL700.W62RB.ordinal() for the LabelNameIndex when I should have been using LabelInfo.QL700.W62.ordinal().\r\n\r\nWorks perfectly now!","title":"Printing out a bitmap QR code image with Brother Label Printer SDK prints out a blank label","body":"<p>Solved it, I was using LabelInfo.QL700.W62RB.ordinal() for the LabelNameIndex when I should have been using LabelInfo.QL700.W62.ordinal().</p>\n<p>Works perfectly now!</p>\n"}],"owner":{"account_id":25891571,"reputation":1,"user_id":19618885,"display_name":"Harry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659449679,"creation_date":1658764379,"question_id":73112078,"body_markdown":"I need to be able to print out a bitmap QR Code using my Brother QL-720NW.\r\n\r\nAs of right now, I&#39;m able to generate a QR code bitmap and display it properly in an ImageView. On a button press, the user needs to be able to print that QR code bitmap from the Brother label printer.\r\n\r\nI am able to make a connection to the printer, but I can only print out blank labels that do not show the QR code. How can I fix this so that the bitmap appears on the printed label properly?\r\n\r\nMethod for printing bitmap:\r\n\r\n    void printImage(Bitmap bitmap) {\r\n        // Specify printer\r\n        final Printer printer = new Printer();\r\n        PrinterInfo settings = printer.getPrinterInfo();\r\n        settings.ipAddress = &quot;192.168.2.149&quot;;\r\n        settings.workPath = &quot;/storage/emulated/0/Download&quot;;\r\n\r\n        settings.printerModel = PrinterInfo.Model.QL_720NW;\r\n        settings.port = PrinterInfo.Port.NET;\r\n        settings.orientation = PrinterInfo.Orientation.LANDSCAPE;\r\n        //settings.paperSize = PrinterInfo.PaperSize.CUSTOM;\r\n        settings.align = PrinterInfo.Align.CENTER;\r\n        settings.valign = PrinterInfo.VAlign.MIDDLE;\r\n        settings.printMode = PrinterInfo.PrintMode.ORIGINAL;\r\n        settings.numberOfCopies = 1;\r\n        settings.labelNameIndex = LabelInfo.QL700.W62RB.ordinal();\r\n        settings.isAutoCut = true;\r\n        settings.isCutAtEnd = false;\r\n\r\n        printer.setPrinterInfo(settings);\r\n\r\n\r\n        // Connect, then print\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                if (printer.startCommunication()) {\r\n                    Log.e(&quot;Tag: &quot;, &quot;Connection made.&quot;);\r\n                    PrinterStatus result = printer.printImage(bitmap);\r\n                    Log.e(&quot;Tag: &quot;, &quot;Printing!&quot;);\r\n                    if (result.errorCode != PrinterInfo.ErrorCode.ERROR_NONE) {\r\n                        Log.d(&quot;TAG&quot;, &quot;ERROR - &quot; + result.errorCode);\r\n                    }\r\n                    printer.endCommunication();\r\n                }\r\n                else {\r\n                    Log.e(&quot;Tag: &quot;, &quot;Cannot make a connection.&quot;);\r\n                }\r\n            }\r\n        }).start();\r\n    }\r\n\r\nGenerating bitmap:\r\n\r\n    Bitmap encodeAsBitmap(String str) throws WriterException {\r\n\r\n        QRCodeWriter writer = new QRCodeWriter();\r\n        BitMatrix bitMatrix = writer.encode(str, BarcodeFormat.QR_CODE, 100, 100);\r\n\r\n        int w = bitMatrix.getWidth();\r\n        int h = bitMatrix.getHeight();\r\n        int[] pixels = new int[w * h];\r\n\r\n        for (int y = 0; y &lt; h; y++) {\r\n            for (int x = 0; x &lt; w; x++) {\r\n                pixels[y * w + x] = bitMatrix.get(x, y) ? Color.BLACK : Color.WHITE;\r\n            }\r\n        }\r\n\r\n        Bitmap bitmap = Bitmap.createBitmap(w, h, Bitmap.Config.ARGB_8888);\r\n        bitmap.setPixels(pixels, 0, w, 0, 0, w, h);\r\n        return bitmap;\r\n    }","title":"Printing out a bitmap QR code image with Brother Label Printer SDK prints out a blank label","body":"<p>I need to be able to print out a bitmap QR Code using my Brother QL-720NW.</p>\n<p>As of right now, I'm able to generate a QR code bitmap and display it properly in an ImageView. On a button press, the user needs to be able to print that QR code bitmap from the Brother label printer.</p>\n<p>I am able to make a connection to the printer, but I can only print out blank labels that do not show the QR code. How can I fix this so that the bitmap appears on the printed label properly?</p>\n<p>Method for printing bitmap:</p>\n<pre><code>void printImage(Bitmap bitmap) {\n    // Specify printer\n    final Printer printer = new Printer();\n    PrinterInfo settings = printer.getPrinterInfo();\n    settings.ipAddress = &quot;192.168.2.149&quot;;\n    settings.workPath = &quot;/storage/emulated/0/Download&quot;;\n\n    settings.printerModel = PrinterInfo.Model.QL_720NW;\n    settings.port = PrinterInfo.Port.NET;\n    settings.orientation = PrinterInfo.Orientation.LANDSCAPE;\n    //settings.paperSize = PrinterInfo.PaperSize.CUSTOM;\n    settings.align = PrinterInfo.Align.CENTER;\n    settings.valign = PrinterInfo.VAlign.MIDDLE;\n    settings.printMode = PrinterInfo.PrintMode.ORIGINAL;\n    settings.numberOfCopies = 1;\n    settings.labelNameIndex = LabelInfo.QL700.W62RB.ordinal();\n    settings.isAutoCut = true;\n    settings.isCutAtEnd = false;\n\n    printer.setPrinterInfo(settings);\n\n\n    // Connect, then print\n    new Thread(new Runnable() {\n        @Override\n        public void run() {\n            if (printer.startCommunication()) {\n                Log.e(&quot;Tag: &quot;, &quot;Connection made.&quot;);\n                PrinterStatus result = printer.printImage(bitmap);\n                Log.e(&quot;Tag: &quot;, &quot;Printing!&quot;);\n                if (result.errorCode != PrinterInfo.ErrorCode.ERROR_NONE) {\n                    Log.d(&quot;TAG&quot;, &quot;ERROR - &quot; + result.errorCode);\n                }\n                printer.endCommunication();\n            }\n            else {\n                Log.e(&quot;Tag: &quot;, &quot;Cannot make a connection.&quot;);\n            }\n        }\n    }).start();\n}\n</code></pre>\n<p>Generating bitmap:</p>\n<pre><code>Bitmap encodeAsBitmap(String str) throws WriterException {\n\n    QRCodeWriter writer = new QRCodeWriter();\n    BitMatrix bitMatrix = writer.encode(str, BarcodeFormat.QR_CODE, 100, 100);\n\n    int w = bitMatrix.getWidth();\n    int h = bitMatrix.getHeight();\n    int[] pixels = new int[w * h];\n\n    for (int y = 0; y &lt; h; y++) {\n        for (int x = 0; x &lt; w; x++) {\n            pixels[y * w + x] = bitMatrix.get(x, y) ? Color.BLACK : Color.WHITE;\n        }\n    }\n\n    Bitmap bitmap = Bitmap.createBitmap(w, h, Bitmap.Config.ARGB_8888);\n    bitmap.setPixels(pixels, 0, w, 0, 0, w, h);\n    return bitmap;\n}\n</code></pre>\n"},{"tags":["java","android","firebase-realtime-database","android-recyclerview"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1659361370,"post_id":73194164,"comment_id":129269826,"body_markdown":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect?"},{"owner":{"account_id":25948026,"reputation":1,"user_id":19666485,"display_name":"wahiba"},"score":0,"creation_date":1659361705,"post_id":73194164,"comment_id":129269960,"body_markdown":"for example when I click btnEnable at item of position 1 in my list  to change date it put the changes in the item of position 0","body":"for example when I click btnEnable at item of position 1 in my list  to change date it put the changes in the item of position 0"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1659363103,"post_id":73194164,"comment_id":129270500,"body_markdown":"Are you saying that your `position` variable is off by 1? If so, can you edit your question to show how that variable is initialized?","body":"Are you saying that your <code>position</code> variable is off by 1? If so, can you edit your question to show how that variable is initialized?"},{"owner":{"account_id":25948026,"reputation":1,"user_id":19666485,"display_name":"wahiba"},"score":0,"creation_date":1659364006,"post_id":73194164,"comment_id":129270842,"body_markdown":"protected void onBindViewHolder( ViewHolder holder, (&quot;RecyclerView&quot;) int `position`,  ModelUser model) {    // enable  button profile }","body":"protected void onBindViewHolder( ViewHolder holder, (&quot;RecyclerView&quot;) int <code>position</code>,  ModelUser model) {    // enable  button profile }"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1659420889,"post_id":73194164,"comment_id":129284051,"body_markdown":"Please edit your question and add the information Frank asked for. Thanks.","body":"Please edit your question and add the information Frank asked for. Thanks."}],"owner":{"account_id":25948026,"reputation":1,"user_id":19666485,"display_name":"wahiba"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659449584,"creation_date":1659359259,"question_id":73194164,"body_markdown":"I have recyclerlistView that retreives data from firebase and in each item there is a button that lets me choose and change a date with datePickerDialogue  but when I change date it put the changes in the previous item of recyclerlistview .\r\n\r\nFor example when I click btnEnable at item of position 1 in my list to change date it put the changes in the item of position 0\r\n\r\n    protected void onBindViewHolder( ViewHolder holder, (&quot;RecyclerView&quot;) int position,  ModelUser model) {\r\n\r\n        holder.tvEmail.setText(&quot;Email: &quot;+model.getEmail());\r\n        holder.tvName.setText(&quot;Name: &quot;+model.getName());\r\n        holder.tvUid.setText(&quot;Uid: &quot;+model.getUid());\r\n        holder.tvDate.setText(&quot;Date expiration : &quot;+model.getDateExpiration());\r\n        dialog= new Dialog(holder.tvName.getContext());\r\n\r\n\r\n\r\n        // enable profile\r\n        holder.btnEnable.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                firebaseAuth = FirebaseAuth.getInstance();\r\n                Calendar calendar = Calendar.getInstance();\r\n                final int year = calendar.get(calendar.YEAR);\r\n                final int month = calendar.get(calendar.MONTH);\r\n                final int day = calendar.get(calendar.DAY_OF_MONTH);\r\n\r\n                Toast.makeText(holder.tvDate.getContext(), &quot;position  &quot;+position, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n\r\n                DatePickerDialog datePickerDialog= new DatePickerDialog(\r\n                        v.getContext(), android.R.style.Theme_Holo_Light_Dialog_MinWidth,\r\n                        setListener,year,month,day);\r\n                 datePickerDialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n                 datePickerDialog.show();\r\n\r\n\r\n\r\n\r\n                setListener = new DatePickerDialog.OnDateSetListener() {\r\n                    @Override\r\n                    public void onDateSet(DatePicker view, int year, int month, int dayOfMonth) {\r\n                        month = month+1;\r\n                        String date = day+&quot;/&quot;+month+&quot;/&quot;+year ;\r\n                        // holder.tvDate.setText(&quot;date expiration : &quot;+date);\r\n\r\n                        Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();\r\n                        map.put(&quot;dateExpiration&quot;,date);\r\n\r\n                        FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;)\r\n                                .child(getRef(position).getKey()).updateChildren(map)\r\n                                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                                    @Override\r\n                                    public void onSuccess(Void unused) {\r\n                                        Toast.makeText(holder.tvDate.getContext(), &quot;date expiration has been updated&quot;+position, Toast.LENGTH_SHORT).show();\r\n\r\n                                    }\r\n                                }).addOnFailureListener(new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n                                Toast.makeText(holder.tvDate.getContext(), &quot;date expiration update failed&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                            }\r\n                        });\r\n                    }\r\n                };\r\n\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n    }","title":"when I update an item in my recuclerlistview it put the changes in the previous item of recyclerlistview","body":"<p>I have recyclerlistView that retreives data from firebase and in each item there is a button that lets me choose and change a date with datePickerDialogue  but when I change date it put the changes in the previous item of recyclerlistview .</p>\n<p>For example when I click btnEnable at item of position 1 in my list to change date it put the changes in the item of position 0</p>\n<pre><code>protected void onBindViewHolder( ViewHolder holder, (&quot;RecyclerView&quot;) int position,  ModelUser model) {\n\n    holder.tvEmail.setText(&quot;Email: &quot;+model.getEmail());\n    holder.tvName.setText(&quot;Name: &quot;+model.getName());\n    holder.tvUid.setText(&quot;Uid: &quot;+model.getUid());\n    holder.tvDate.setText(&quot;Date expiration : &quot;+model.getDateExpiration());\n    dialog= new Dialog(holder.tvName.getContext());\n\n\n\n    // enable profile\n    holder.btnEnable.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            firebaseAuth = FirebaseAuth.getInstance();\n            Calendar calendar = Calendar.getInstance();\n            final int year = calendar.get(calendar.YEAR);\n            final int month = calendar.get(calendar.MONTH);\n            final int day = calendar.get(calendar.DAY_OF_MONTH);\n\n            Toast.makeText(holder.tvDate.getContext(), &quot;position  &quot;+position, Toast.LENGTH_SHORT).show();\n\n\n\n            DatePickerDialog datePickerDialog= new DatePickerDialog(\n                    v.getContext(), android.R.style.Theme_Holo_Light_Dialog_MinWidth,\n                    setListener,year,month,day);\n             datePickerDialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n             datePickerDialog.show();\n\n\n\n\n            setListener = new DatePickerDialog.OnDateSetListener() {\n                @Override\n                public void onDateSet(DatePicker view, int year, int month, int dayOfMonth) {\n                    month = month+1;\n                    String date = day+&quot;/&quot;+month+&quot;/&quot;+year ;\n                    // holder.tvDate.setText(&quot;date expiration : &quot;+date);\n\n                    Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();\n                    map.put(&quot;dateExpiration&quot;,date);\n\n                    FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;)\n                            .child(getRef(position).getKey()).updateChildren(map)\n                            .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                                @Override\n                                public void onSuccess(Void unused) {\n                                    Toast.makeText(holder.tvDate.getContext(), &quot;date expiration has been updated&quot;+position, Toast.LENGTH_SHORT).show();\n\n                                }\n                            }).addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            Toast.makeText(holder.tvDate.getContext(), &quot;date expiration update failed&quot;, Toast.LENGTH_SHORT).show();\n\n                        }\n                    });\n                }\n            };\n\n\n        }\n    });\n\n\n\n}\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1659470258,"post_id":73209022,"comment_id":129301451,"body_markdown":"That log excerpt does not seem to contain this error.","body":"That log excerpt does not seem to contain this error."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1659510673,"post_id":73209022,"comment_id":129309042,"body_markdown":"Please be aware, that a project with a `module-info.java` file and dependencies cannot be exported to a runnable JAR because of limitations of Java. And there is a known issue in Eclipse which does not provide a proper error message in such a case.","body":"Please be aware, that a project with a <code>module-info.java</code> file and dependencies cannot be exported to a runnable JAR because of limitations of Java. And there is a known issue in Eclipse which does not provide a proper error message in such a case."},{"owner":{"account_id":24465027,"reputation":1,"user_id":19497008,"display_name":"Raphael Trosset"},"score":0,"creation_date":1659525613,"post_id":73209022,"comment_id":129314503,"body_markdown":"@howlger I have no module-info.java in my project...","body":"@howlger I have no module-info.java in my project..."},{"owner":{"account_id":24465027,"reputation":1,"user_id":19497008,"display_name":"Raphael Trosset"},"score":0,"creation_date":1659526090,"post_id":73209022,"comment_id":129314666,"body_markdown":"my bad... the problem is only with &#39;Runnable JAR file&#39; option...","body":"my bad... the problem is only with &#39;Runnable JAR file&#39; option..."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1659592697,"post_id":73209022,"comment_id":129331974,"body_markdown":"It is unclear what you mean by that. Please provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"It is unclear what you mean by that. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":24465027,"reputation":1,"user_id":19497008,"display_name":"Raphael Trosset"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659449358,"creation_date":1659449358,"question_id":73209022,"body_markdown":"i have a game made with LWJGL. When i run the game, it works fine but when i want export my game as runnable JAR file, Eclipse does nothing but when i reselect &quot;Runnable JAR file&quot;. it shows me this error :\r\n[eclipse error][1]\r\n\r\nHere is the Eclipse IDE log file : \r\n\r\n```\r\neclipse.buildId=4.22.0.I20211124-1800\r\njava.version=17.0.1\r\njava.vendor=Eclipse Adoptium\r\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=fr_FR\r\nFramework arguments:  -product org.eclipse.epp.package.java.product\r\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.java.product\r\n\r\norg.eclipse.equinox.app\r\nError\r\nTue Aug 02 15:47:06 CEST 2022\r\nProblems occurred when invoking code from plug-in: &quot;org.eclipse.equinox.app&quot;.\r\n\r\norg.eclipse.swt.SWTException: Widget is disposed\r\n\tat org.eclipse.swt.SWT.error(SWT.java:4907)\r\n\tat org.eclipse.swt.SWT.error(SWT.java:4822)\r\n\tat org.eclipse.swt.SWT.error(SWT.java:4793)\r\n\tat org.eclipse.swt.widgets.Widget.error(Widget.java:445)\r\n\tat org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:364)\r\n\tat org.eclipse.swt.widgets.Shell.close(Shell.java:547)\r\n\tat org.eclipse.ui.splash.AbstractSplashHandler.dispose(AbstractSplashHandler.java:65)\r\n\tat org.eclipse.ui.internal.Workbench$3$1.applicationRunning(Workbench.java:802)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle$1.run(EclipseAppHandle.java:279)\r\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.applicationRunning(EclipseAppHandle.java:267)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1091)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1045)\r\n\tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n\tat org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:644)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:551)\r\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:156)\r\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1467)\r\n\r\n\r\n```\r\n\r\n\r\nPlease help me!\r\n\r\n  [1]: https://i.stack.imgur.com/WNx8U.png","title":"Cannot export Java program to runnable JAR file in Eclipse IDE","body":"<p>i have a game made with LWJGL. When i run the game, it works fine but when i want export my game as runnable JAR file, Eclipse does nothing but when i reselect &quot;Runnable JAR file&quot;. it shows me this error :\n<a href=\"https://i.stack.imgur.com/WNx8U.png\" rel=\"nofollow noreferrer\">eclipse error</a></p>\n<p>Here is the Eclipse IDE log file :</p>\n<pre><code>eclipse.buildId=4.22.0.I20211124-1800\njava.version=17.0.1\njava.vendor=Eclipse Adoptium\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=fr_FR\nFramework arguments:  -product org.eclipse.epp.package.java.product\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.java.product\n\norg.eclipse.equinox.app\nError\nTue Aug 02 15:47:06 CEST 2022\nProblems occurred when invoking code from plug-in: &quot;org.eclipse.equinox.app&quot;.\n\norg.eclipse.swt.SWTException: Widget is disposed\n    at org.eclipse.swt.SWT.error(SWT.java:4907)\n    at org.eclipse.swt.SWT.error(SWT.java:4822)\n    at org.eclipse.swt.SWT.error(SWT.java:4793)\n    at org.eclipse.swt.widgets.Widget.error(Widget.java:445)\n    at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:364)\n    at org.eclipse.swt.widgets.Shell.close(Shell.java:547)\n    at org.eclipse.ui.splash.AbstractSplashHandler.dispose(AbstractSplashHandler.java:65)\n    at org.eclipse.ui.internal.Workbench$3$1.applicationRunning(Workbench.java:802)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle$1.run(EclipseAppHandle.java:279)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.applicationRunning(EclipseAppHandle.java:267)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1091)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1045)\n    at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\n    at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:644)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:551)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:156)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1467)\n\n\n</code></pre>\n<p>Please help me!</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":2,"creation_date":1659448126,"post_id":73208517,"comment_id":129293666,"body_markdown":"It wouldn&#39;t remove the @ManyToOne, but perhaps add `longname` to `Product` as `transient`, with it&#39;s getters/setters delegating to `mapping`.","body":"It wouldn&#39;t remove the @ManyToOne, but perhaps add <code>longname</code> to <code>Product</code> as <code>transient</code>, with it&#39;s getters/setters delegating to <code>mapping</code>."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1659448538,"post_id":73208517,"comment_id":129293868,"body_markdown":"There is the SecondaryTable annotation but this only works for OneToOne https://www.baeldung.com/jpa-mapping-single-entity-to-multiple-tables","body":"There is the SecondaryTable annotation but this only works for OneToOne <a href=\"https://www.baeldung.com/jpa-mapping-single-entity-to-multiple-tables\" rel=\"nofollow noreferrer\">baeldung.com/jpa-mapping-single-entity-to-multiple-tables</a>"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1659448783,"post_id":73208517,"comment_id":129293985,"body_markdown":"@AndrewS that&#39;s a great workaround!","body":"@AndrewS that&#39;s a great workaround!"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1659448795,"post_id":73208517,"comment_id":129293992,"body_markdown":"@SimonMartinelli unfortunately I have to string with many to one mapping.","body":"@SimonMartinelli unfortunately I have to string with many to one mapping."}],"answers":[{"tags":[],"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1659449319,"creation_date":1659448896,"answer_id":73208895,"question_id":73208517,"body_markdown":"You can use **@Formula** annotation with a query like this :\r\n\r\n    @Formula(&quot;(select pm.longname from product_mapping pm where pm.COL_NAME = value)&quot;)\r\n    private String longName;\r\n\r\n    //give the column name of type from product_mapping table\r\n\r\n**OR**\r\n\r\nYou can also use the below approach :\r\n\r\n     @ManyToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER)   \r\n     @JoinColumn(name = &quot;type&quot;, referencedColumnName = &quot;COL_NAME&quot;, insertable = false, updatable = false)\r\n     ProductMapping mapping; \r\n\r\n\r\nThe other entity use **@NaturalId** annotation on the field.\r\n\r\n    @Entity\r\n    public class ProductMapping {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;ID&quot;)\r\n        String type;\r\n        \r\n        @NaturalId\r\n        @Column(name = &quot;SOME_VALUE&quot;)\r\n        String longname;\r\n    }","title":"How to map only single column with hibernate?","body":"<p>You can use <strong>@Formula</strong> annotation with a query like this :</p>\n<pre><code>@Formula(&quot;(select pm.longname from product_mapping pm where pm.COL_NAME = value)&quot;)\nprivate String longName;\n\n//give the column name of type from product_mapping table\n</code></pre>\n<p><strong>OR</strong></p>\n<p>You can also use the below approach :</p>\n<pre><code> @ManyToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER)   \n @JoinColumn(name = &quot;type&quot;, referencedColumnName = &quot;COL_NAME&quot;, insertable = false, updatable = false)\n ProductMapping mapping; \n</code></pre>\n<p>The other entity use <strong>@NaturalId</strong> annotation on the field.</p>\n<pre><code>@Entity\npublic class ProductMapping {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ID&quot;)\n    String type;\n    \n    @NaturalId\n    @Column(name = &quot;SOME_VALUE&quot;)\n    String longname;\n}\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659449319,"creation_date":1659447196,"question_id":73208517,"body_markdown":"I want to join a single column from another table to one of my `@Entity` classes:\r\n\r\nCurrently it works as follows:\r\n\r\n    @Entity\r\n    public class Product {\r\n        @Id \r\n        private long id; //autogenerated\r\n    \r\n        String type; //used for mapping\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;type&quot;, insertable = false, updatable = false)\r\n        ProductMapping mapping;\r\n    }\r\n    \r\n    @Entity\r\n    public class ProductMapping {\r\n        @Id\r\n        String type;\r\n        \r\n        String longname;\r\n    }\r\n\r\nQuestion: how could I replace the `@ManyToOne` mapping to directly map to `String longname`?\r\n\r\n\r\n    //TODO: how to directly map to &#39;mapping.longname&#39;?\r\n    @JoinColumn(name = &quot;type&quot;, insertable = false, updatable = false)\r\n    String mapping.longname;","title":"How to map only single column with hibernate?","body":"<p>I want to join a single column from another table to one of my <code>@Entity</code> classes:</p>\n<p>Currently it works as follows:</p>\n<pre><code>@Entity\npublic class Product {\n    @Id \n    private long id; //autogenerated\n\n    String type; //used for mapping\n\n    @ManyToOne\n    @JoinColumn(name = &quot;type&quot;, insertable = false, updatable = false)\n    ProductMapping mapping;\n}\n\n@Entity\npublic class ProductMapping {\n    @Id\n    String type;\n    \n    String longname;\n}\n</code></pre>\n<p>Question: how could I replace the <code>@ManyToOne</code> mapping to directly map to <code>String longname</code>?</p>\n<pre><code>//TODO: how to directly map to 'mapping.longname'?\n@JoinColumn(name = &quot;type&quot;, insertable = false, updatable = false)\nString mapping.longname;\n</code></pre>\n"},{"tags":["java","arraylist","hashmap","switch-statement","console-application"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1659450471,"post_id":73208999,"comment_id":129294701,"body_markdown":"You can&#39;t associate the command with the room that it goes to, because that will change every time you move. Unless you&#39;re going to re-populate the map after every move.","body":"You can&#39;t associate the command with the room that it goes to, because that will change every time you move. Unless you&#39;re going to re-populate the map after every move."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659452681,"post_id":73208999,"comment_id":129295676,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":22315868,"reputation":1,"user_id":16539234,"display_name":"asparwhite"},"score":0,"creation_date":1659457221,"post_id":73208999,"comment_id":129297393,"body_markdown":"@DavidConrad Hey David, thanks for your quick response. Sorry, I can be a little dense sometimes, I&#39;m not sure I fully grasp the first half of your comment. Could you expand on your meaning please?","body":"@DavidConrad Hey David, thanks for your quick response. Sorry, I can be a little dense sometimes, I&#39;m not sure I fully grasp the first half of your comment. Could you expand on your meaning please?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1659459202,"post_id":73208999,"comment_id":129298107,"body_markdown":"Sure. In your second example, right before the `while` loop, you put rooms in the map associated with `n`, `s`, `e`, and `w`, but as soon as &quot;Ron&quot; moves, those will no longer be the correct destinations for his new location. But you keep using them every time around the loop.","body":"Sure. In your second example, right before the <code>while</code> loop, you put rooms in the map associated with <code>n</code>, <code>s</code>, <code>e</code>, and <code>w</code>, but as soon as &quot;Ron&quot; moves, those will no longer be the correct destinations for his new location. But you keep using them every time around the loop."},{"owner":{"account_id":22315868,"reputation":1,"user_id":16539234,"display_name":"asparwhite"},"score":0,"creation_date":1659736874,"post_id":73208999,"comment_id":129374010,"body_markdown":"@DavidConrad Oh gotcha. That makes a lot of sense. Thanks very much!","body":"@DavidConrad Oh gotcha. That makes a lot of sense. Thanks very much!"}],"owner":{"account_id":22315868,"reputation":1,"user_id":16539234,"display_name":"asparwhite"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659449236,"creation_date":1659449236,"question_id":73208999,"body_markdown":"I have looked at numerous posts here on and other sites on similar topics but haven&#39;t found answers for this specific issue.\r\n   I am messing around with a Java text game in the console, and am trying to create an efficient movement/command system. As the code in the GamePlay class shows I am trying to make a 2X2 map of Room objects, by creating four rooms and then passing adjacent rooms based on direction to corresponding setters in the Rooms class. As you can see from the first example of the GamePlay class, I am accepting console input for a direction(&quot;n&quot;,&quot;s&quot;,&quot;e&quot;,&quot;w&quot;)\r\n,using the switch to check the players current room, and then checking for an adjacent room based on the direction entered, before finally setting the player&#39;s location to the adjacent room if it exists.\r\n   This system works exactly how I want it to, but having so many switch cases with very similar functions seems excessive. What I was thinking may be a more compact solution is to store the common movement commands as keys in a hashmap with functions to check for adjacent rooms as the values(See GamePlayExample2). Though the method values in the hashmap are the same, the outcome is different than when using the switch case. When trying to set the player&#39;s location with the hashmap, it seems like a coin flip whether it will choose the right room, and eventually, it starts returning that there are no possible movements, despite there being valid moves. I also attempted to do this hashMap system, storing all of my rooms in an arrayList and using their index numbers as hashMap values, and -1 to indicate a non adjacent room. That attempt had the same outcome. I am not receiving any errors, this seems like a logic issue. Apologies for the long post, thanks ahead of time.\r\n\r\n```\r\npublic class Hero {\r\n\t\r\n\tprivate String name;\r\n\tprivate String description;\r\n\tprivate Rooms location;\r\n\t\r\n\tpublic Hero(String name, String description, Rooms location) {\r\n\t\tthis.name = name;\r\n\t\tthis.description = description;\r\n\t\tthis.location = location;\r\n\t}\r\n\r\n\tpublic String getDescription() {\r\n\t\treturn description;\r\n\t}\r\n\r\n\tpublic void setDescription(String description) {\r\n\t\tthis.description = description;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic Rooms getLocation() {\r\n\t\treturn location;\r\n\t}\r\n\r\n\tpublic void setLocation(Rooms location) {\r\n\t\tthis.location = location;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n```\r\npublic class Rooms {\r\n\t\r\n\tprivate String name;\r\n\tprivate String description;\r\n\tprivate Rooms north;\r\n\tprivate Rooms south;\r\n\tprivate Rooms east;\r\n\tprivate Rooms west;\r\n\t\r\n\tRooms(String name, String description) {\r\n\t\tthis.name = name;\r\n\t\tthis.description = description;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic String getDescription() {\r\n\t\treturn description;\r\n\t}\r\n\tpublic void setDescription(String description) {\r\n\t\tthis.description = description;\r\n\t}\r\n\tpublic Rooms getNorth() {\r\n\t\treturn north;\r\n\t}\r\n\r\n\tpublic void setNorth(Rooms north) {\r\n\t\tthis.north = north;\r\n\t}\r\n\r\n\tpublic Rooms getSouth() {\r\n\t\treturn south;\r\n\t}\r\n\r\n\tpublic void setSouth(Rooms south) {\r\n\t\tthis.south = south;\r\n\t}\r\n\r\n\tpublic Rooms getEast() {\r\n\t\treturn east;\r\n\t}\r\n\r\n\tpublic void setEast(Rooms east) {\r\n\t\tthis.east = east;\r\n\t}\r\n\r\n\tpublic Rooms getWest() {\r\n\t\treturn west;\r\n\t}\r\n\r\n\tpublic void setWest(Rooms west) {\r\n\t\tthis.west = west;\r\n\t}\r\n}\r\n```\r\n```\r\nimport java.util.HashMap;\r\nimport java.util.Scanner;\r\n\r\npublic class GamePlay {\r\n\t\r\n\tScanner input = new Scanner(System.in);\r\n\tRooms front = new Rooms(&quot;front&quot;, &quot;This is the front&quot;);\r\n\tRooms garden = new Rooms(&quot;Garden&quot;, &quot;This is the garden&quot;);\r\n\tRooms kitchen = new Rooms(&quot;kitchen&quot;, &quot;This is the kitchen&quot;);\r\n\tRooms diningRoom = new Rooms(&quot;Dining room&quot;, &quot;This is the dining room&quot;);\r\n\tHero Ron = new Hero(&quot;Ron&quot;, &quot;The hero!&quot;, front);\r\n\t\r\n\tpublic void Movement() {\r\n\t\t\r\n\t\tfront.setNorth(diningRoom);\r\n\t\tfront.setWest(garden);\r\n\t\t\r\n\t\tdiningRoom.setWest(kitchen);\r\n\t\tdiningRoom.setSouth(front);\r\n\t\t\r\n\t\tkitchen.setEast(diningRoom);\r\n\t\tkitchen.setSouth(garden);\r\n\t\t\r\n\t\tgarden.setEast(front);\r\n\t\tgarden.setNorth(kitchen);\r\n\t\t\r\n\t\twhile(true) {\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Your location: &quot; + Ron.getLocation().getName());\r\n\t\t\tSystem.out.println(&quot;Which way?: &quot;);\r\n\t\t\tString moveChoice = input.nextLine().toLowerCase();\r\n\t\t\t\r\n\t\t\tswitch(moveChoice) {\r\n\t\t\t\r\n\t\t\t\tcase &quot;n&quot;:\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(Ron.getLocation().getNorth() != null) {\r\n\t\t\t\t\t\tRon.setLocation(Ron.getLocation().getNorth());\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tSystem.out.println(&quot;You cant go that way!!&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\tcase &quot;s&quot;:\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(Ron.getLocation().getSouth() != null) {\r\n\t\t\t\t\t\tRon.setLocation(Ron.getLocation().getSouth());\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tSystem.out.println(&quot;You cant go that way!!&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\tcase &quot;e&quot;:\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(Ron.getLocation().getEast() != null) {\r\n\t\t\t\t\t\tRon.setLocation(Ron.getLocation().getEast());\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tSystem.out.println(&quot;You cant go that way!!&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\tcase &quot;w&quot;:\r\n\t\t\t\t\tif(Ron.getLocation().getWest() != null) {\r\n\t\t\t\t\t\tRon.setLocation(Ron.getLocation().getWest());\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tSystem.out.println(&quot;You cant go that way!!&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\t\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n```\r\nimport java.util.HashMap;\r\nimport java.util.Scanner;\r\n\r\npublic class GamePlayExample2 {\r\n\t\t\r\n\tScanner input = new Scanner(System.in);\r\n\tHashMap &lt;String, Rooms&gt; commands = new HashMap &lt;String, Rooms&gt; ();\r\n\tRooms front = new Rooms(&quot;front&quot;, &quot;This is the front&quot;);\r\n\tRooms garden = new Rooms(&quot;Garden&quot;, &quot;This is the garden&quot;);\r\n\tRooms kitchen = new Rooms(&quot;kitchen&quot;, &quot;This is the kitchen&quot;);\r\n\tRooms diningRoom = new Rooms(&quot;Dining room&quot;, &quot;This is the dining room&quot;);\r\n\tHero Ron = new Hero(&quot;Ron&quot;, &quot;The hero!&quot;, front);\r\n\t\t\r\n\tpublic void Movement() {\r\n\t\t\r\n\t\tfront.setNorth(diningRoom);\r\n\t\tfront.setWest(garden);\r\n\t\t\t\r\n\t\tdiningRoom.setWest(kitchen);\r\n\t\tdiningRoom.setSouth(front);\r\n\t\t\t\r\n\t\tkitchen.setEast(diningRoom);\r\n\t\tkitchen.setSouth(garden);\r\n\t\t\t\r\n\t\tgarden.setEast(front);\r\n\t\tgarden.setNorth(kitchen);\r\n\t\t\t\r\n\t\tcommands.put(&quot;n&quot;, Ron.getLocation().getNorth());\r\n\t\tcommands.put(&quot;s&quot;, Ron.getLocation().getSouth());\r\n\t\tcommands.put(&quot;e&quot;, Ron.getLocation().getEast());\r\n\t\tcommands.put(&quot;w&quot;, Ron.getLocation().getWest());\r\n\t\t\r\n\t\twhile(true) {\r\n\t\t\t\t\r\n\t\t\tSystem.out.println(&quot;Your location: &quot; + Ron.getLocation().getName());\r\n\t\t\tSystem.out.println(&quot;Which way?: &quot;);\r\n\t\t\tString moveChoice = input.nextLine().toLowerCase();\r\n\t\t\t\r\n\t\t\tif(commands.containsKey(moveChoice)) {\r\n\t\t\t\tif(commands.get(moveChoice) != null) {\r\n\t\t\t\t\tRon.setLocation(commands.get(moveChoice));\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tSystem.out.println(&quot;You can&#39;t go that way!&quot;);\r\n\t\t\t\t}\r\n\t\t\t}else {\r\n\t\t\t\tSystem.out.println(&quot;That command does not exist!&quot;);\r\n\t\t\t}\t\r\n\t\t}\t\r\n\t}\r\n}\r\n\r\n\r\n```","title":"Attempting to simplify user command system for java text game by replacing switch with hashmap","body":"<p>I have looked at numerous posts here on and other sites on similar topics but haven't found answers for this specific issue.\nI am messing around with a Java text game in the console, and am trying to create an efficient movement/command system. As the code in the GamePlay class shows I am trying to make a 2X2 map of Room objects, by creating four rooms and then passing adjacent rooms based on direction to corresponding setters in the Rooms class. As you can see from the first example of the GamePlay class, I am accepting console input for a direction(&quot;n&quot;,&quot;s&quot;,&quot;e&quot;,&quot;w&quot;)\n,using the switch to check the players current room, and then checking for an adjacent room based on the direction entered, before finally setting the player's location to the adjacent room if it exists.\nThis system works exactly how I want it to, but having so many switch cases with very similar functions seems excessive. What I was thinking may be a more compact solution is to store the common movement commands as keys in a hashmap with functions to check for adjacent rooms as the values(See GamePlayExample2). Though the method values in the hashmap are the same, the outcome is different than when using the switch case. When trying to set the player's location with the hashmap, it seems like a coin flip whether it will choose the right room, and eventually, it starts returning that there are no possible movements, despite there being valid moves. I also attempted to do this hashMap system, storing all of my rooms in an arrayList and using their index numbers as hashMap values, and -1 to indicate a non adjacent room. That attempt had the same outcome. I am not receiving any errors, this seems like a logic issue. Apologies for the long post, thanks ahead of time.</p>\n<pre><code>public class Hero {\n    \n    private String name;\n    private String description;\n    private Rooms location;\n    \n    public Hero(String name, String description, Rooms location) {\n        this.name = name;\n        this.description = description;\n        this.location = location;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Rooms getLocation() {\n        return location;\n    }\n\n    public void setLocation(Rooms location) {\n        this.location = location;\n    }\n}\n\n</code></pre>\n<pre><code>public class Rooms {\n    \n    private String name;\n    private String description;\n    private Rooms north;\n    private Rooms south;\n    private Rooms east;\n    private Rooms west;\n    \n    Rooms(String name, String description) {\n        this.name = name;\n        this.description = description;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getDescription() {\n        return description;\n    }\n    public void setDescription(String description) {\n        this.description = description;\n    }\n    public Rooms getNorth() {\n        return north;\n    }\n\n    public void setNorth(Rooms north) {\n        this.north = north;\n    }\n\n    public Rooms getSouth() {\n        return south;\n    }\n\n    public void setSouth(Rooms south) {\n        this.south = south;\n    }\n\n    public Rooms getEast() {\n        return east;\n    }\n\n    public void setEast(Rooms east) {\n        this.east = east;\n    }\n\n    public Rooms getWest() {\n        return west;\n    }\n\n    public void setWest(Rooms west) {\n        this.west = west;\n    }\n}\n</code></pre>\n<pre><code>import java.util.HashMap;\nimport java.util.Scanner;\n\npublic class GamePlay {\n    \n    Scanner input = new Scanner(System.in);\n    Rooms front = new Rooms(&quot;front&quot;, &quot;This is the front&quot;);\n    Rooms garden = new Rooms(&quot;Garden&quot;, &quot;This is the garden&quot;);\n    Rooms kitchen = new Rooms(&quot;kitchen&quot;, &quot;This is the kitchen&quot;);\n    Rooms diningRoom = new Rooms(&quot;Dining room&quot;, &quot;This is the dining room&quot;);\n    Hero Ron = new Hero(&quot;Ron&quot;, &quot;The hero!&quot;, front);\n    \n    public void Movement() {\n        \n        front.setNorth(diningRoom);\n        front.setWest(garden);\n        \n        diningRoom.setWest(kitchen);\n        diningRoom.setSouth(front);\n        \n        kitchen.setEast(diningRoom);\n        kitchen.setSouth(garden);\n        \n        garden.setEast(front);\n        garden.setNorth(kitchen);\n        \n        while(true) {\n            \n            System.out.println(&quot;Your location: &quot; + Ron.getLocation().getName());\n            System.out.println(&quot;Which way?: &quot;);\n            String moveChoice = input.nextLine().toLowerCase();\n            \n            switch(moveChoice) {\n            \n                case &quot;n&quot;:\n                    \n                    if(Ron.getLocation().getNorth() != null) {\n                        Ron.setLocation(Ron.getLocation().getNorth());\n                    }\n                    else {\n                        System.out.println(&quot;You cant go that way!!&quot;);\n                    }\n                    break;\n                    \n                case &quot;s&quot;:\n                    \n                    if(Ron.getLocation().getSouth() != null) {\n                        Ron.setLocation(Ron.getLocation().getSouth());\n                    }\n                    else {\n                        System.out.println(&quot;You cant go that way!!&quot;);\n                    }\n                    break;\n                    \n                case &quot;e&quot;:\n                    \n                    if(Ron.getLocation().getEast() != null) {\n                        Ron.setLocation(Ron.getLocation().getEast());\n                    }\n                    else {\n                        System.out.println(&quot;You cant go that way!!&quot;);\n                    }\n                    break;\n                    \n                case &quot;w&quot;:\n                    if(Ron.getLocation().getWest() != null) {\n                        Ron.setLocation(Ron.getLocation().getWest());\n                    }\n                    else {\n                        System.out.println(&quot;You cant go that way!!&quot;);\n                    }\n                    break;\n            }   \n        }\n    }\n}\n</code></pre>\n<pre><code>import java.util.HashMap;\nimport java.util.Scanner;\n\npublic class GamePlayExample2 {\n        \n    Scanner input = new Scanner(System.in);\n    HashMap &lt;String, Rooms&gt; commands = new HashMap &lt;String, Rooms&gt; ();\n    Rooms front = new Rooms(&quot;front&quot;, &quot;This is the front&quot;);\n    Rooms garden = new Rooms(&quot;Garden&quot;, &quot;This is the garden&quot;);\n    Rooms kitchen = new Rooms(&quot;kitchen&quot;, &quot;This is the kitchen&quot;);\n    Rooms diningRoom = new Rooms(&quot;Dining room&quot;, &quot;This is the dining room&quot;);\n    Hero Ron = new Hero(&quot;Ron&quot;, &quot;The hero!&quot;, front);\n        \n    public void Movement() {\n        \n        front.setNorth(diningRoom);\n        front.setWest(garden);\n            \n        diningRoom.setWest(kitchen);\n        diningRoom.setSouth(front);\n            \n        kitchen.setEast(diningRoom);\n        kitchen.setSouth(garden);\n            \n        garden.setEast(front);\n        garden.setNorth(kitchen);\n            \n        commands.put(&quot;n&quot;, Ron.getLocation().getNorth());\n        commands.put(&quot;s&quot;, Ron.getLocation().getSouth());\n        commands.put(&quot;e&quot;, Ron.getLocation().getEast());\n        commands.put(&quot;w&quot;, Ron.getLocation().getWest());\n        \n        while(true) {\n                \n            System.out.println(&quot;Your location: &quot; + Ron.getLocation().getName());\n            System.out.println(&quot;Which way?: &quot;);\n            String moveChoice = input.nextLine().toLowerCase();\n            \n            if(commands.containsKey(moveChoice)) {\n                if(commands.get(moveChoice) != null) {\n                    Ron.setLocation(commands.get(moveChoice));\n                }\n                else {\n                    System.out.println(&quot;You can't go that way!&quot;);\n                }\n            }else {\n                System.out.println(&quot;That command does not exist!&quot;);\n            }   \n        }   \n    }\n}\n\n\n</code></pre>\n"},{"tags":["java","hibernate","jpa","annotations"],"comments":[{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":0,"creation_date":1612692380,"post_id":66082750,"comment_id":116841146,"body_markdown":"What hibernate version do you use? Please show also your hibernate config.","body":"What hibernate version do you use? Please show also your hibernate config."},{"owner":{"account_id":13921740,"reputation":11,"user_id":10051960,"display_name":"S&#252;leyman Yalman"},"score":0,"creation_date":1612725894,"post_id":66082750,"comment_id":116850712,"body_markdown":"Hibernate version is 4.0.2","body":"Hibernate version is 4.0.2"}],"answers":[{"tags":[],"owner":{"account_id":13921740,"reputation":11,"user_id":10051960,"display_name":"S&#252;leyman Yalman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612726112,"creation_date":1612726112,"answer_id":66092182,"question_id":66082750,"body_markdown":"Hibernate config is below\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n      &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n      &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    \r\n    &lt;hibernate-configuration&gt;\r\n    \t&lt;session-factory&gt;\r\n    \t\t&lt;property name=&quot;hibernate.id.new_generator_mappings&quot; &gt;true&lt;/property&gt;\r\n            &lt;property name=&quot;connection.driver_class&quot;&gt;oracle.jdbc.OracleDriver&lt;/property&gt;\r\n            &lt;property name=&quot;connection.url&quot;&gt;jdbc:oracle:thin:@HP-BILGISAYAR:1521:ORCL&lt;/property&gt;\r\n            &lt;property name=&quot;connection.username&quot;&gt;hr&lt;/property&gt;\r\n            &lt;property name=&quot;connection.password&quot;&gt;hr&lt;/property&gt;\r\n    \r\n    \r\n            &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n    \r\n             &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.Oracle8iDialect&lt;/property&gt;\r\n    \r\n             &lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt; \r\n             &lt;property name=&quot;cache.use_second_level_cache&quot;&gt;true&lt;/property&gt;   \r\n             &lt;property name=&quot;cache.region.factory_class&quot;&gt;org.hibernate.cache.ehcache.EhCacheRegionFactory&lt;/property&gt; \r\n            \r\n            &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n    \r\n            &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;  \r\n    \r\n    \r\n    &lt;mapping class=&quot;tr.com.entity.Tasit&quot;/&gt; \r\n    \r\n    \t&lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;","title":"GenericGenerator with package-info.java","body":"<p>Hibernate config is below</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n  &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n  &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;hibernate.id.new_generator_mappings&quot; &gt;true&lt;/property&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;oracle.jdbc.OracleDriver&lt;/property&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:oracle:thin:@HP-BILGISAYAR:1521:ORCL&lt;/property&gt;\n        &lt;property name=&quot;connection.username&quot;&gt;hr&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;hr&lt;/property&gt;\n\n\n        &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\n\n         &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.Oracle8iDialect&lt;/property&gt;\n\n         &lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt; \n         &lt;property name=&quot;cache.use_second_level_cache&quot;&gt;true&lt;/property&gt;   \n         &lt;property name=&quot;cache.region.factory_class&quot;&gt;org.hibernate.cache.ehcache.EhCacheRegionFactory&lt;/property&gt; \n        \n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;  \n\n\n&lt;mapping class=&quot;tr.com.entity.Tasit&quot;/&gt; \n\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2108620,"reputation":430,"user_id":1874346,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659449169,"creation_date":1659449169,"answer_id":73208983,"question_id":66082750,"body_markdown":"You need to check your persistence.xml and make sure that you set \r\n\r\n    &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n\r\n\r\nThis will enable JPA to scan your package-info.java","title":"GenericGenerator with package-info.java","body":"<p>You need to check your persistence.xml and make sure that you set</p>\n<pre><code>&lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n</code></pre>\n<p>This will enable JPA to scan your package-info.java</p>\n"}],"owner":{"account_id":13921740,"reputation":11,"user_id":10051960,"display_name":"S&#252;leyman Yalman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659449169,"creation_date":1612651492,"question_id":66082750,"body_markdown":"I have an entity named as `Tasit` as shown below .\r\n\r\n``` java\r\npackage tr.com.entity;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\nimport tr.com.MyGenerator;\r\n    \r\n@Entity\r\npublic class Tasit {\r\n    \r\n  @Id\r\n  @GeneratedValue(generator = &quot;ID_GENERATOR&quot;)\r\n  private Long id;\r\n    \r\n  @Column(name = &quot;TASIT_ADI&quot;)\r\n  private String tasitAdi;\r\n    \r\n  public String getTasitAdi() {\r\n     return tasitAdi;\r\n  }\r\n    \r\n  public void setTasitAdi(String tasitAdi) {\r\n  \tthis.tasitAdi = tasitAdi;\r\n  }\r\n    \r\n  public Tasit(Long tasitId, String tasitAdi) {\r\n  \tsuper();\r\n  \tthis.id = tasitId;\r\n  \tthis.tasitAdi = tasitAdi;\r\n  }\r\n    \r\n  public Tasit(String tasitAdi) {\r\n  \tsuper();\r\n  \tthis.tasitAdi = tasitAdi;\r\n  }\r\n    \r\n  public Long getId() {\r\n  \treturn id;\r\n  }\r\n    \r\n  public Tasit() {\r\n  \tsuper();\r\n  }\r\n}\r\n```\r\n\r\nAs you see in `Tasit` entity there is `@GeneratedValue(generator = &quot;ID_GENERATOR&quot;)`.\r\n\r\nl add in `tr.com.entity` package `package-info.java` class.\r\nMy goal was to write one `Generator` and to use for all entities in `tr.com.entity` package\r\n\r\nMy `package-info.java` class is also below\r\n\r\n``` java\r\n@org.hibernate.annotations.GenericGenerator(\r\n   name = &quot;ID_GENERATOR&quot;,\r\n   strategy =  &quot;enhanced-sequence&quot;,\r\n   parameters = {\r\n      @org.hibernate.annotations.Parameter(\r\n    \t   name = &quot;sequence_name&quot;,\r\n    \t   value = &quot;JPWH_SEQUENCE&quot;\r\n      ),\r\n      @org.hibernate.annotations.Parameter(\r\n           name = &quot;initial_value&quot;,\r\n           value = &quot;1000&quot;\r\n      )\r\n\t}\r\n)\r\npackage tr.com.entity;\r\n```\r\n\r\nby doing this I try to insert any data in `TASIT` table.\r\nBut when I run the appropriate runner code to insert data to the `TASIT` table getting below exception.\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\nCaused by: org.hibernate.AnnotationException: Unknown Id.generator: ID_GENERATOR\r\n  \tat org.hibernate.cfg.BinderHelper.makeIdGenerator(BinderHelper.java:639)\r\n   \tat org.hibernate.cfg.AnnotationBinder.processId(AnnotationBinder.java:2287)\r\n   \tat org.hibernate.cfg.AnnotationBinder.processElementAnnotations(AnnotationBinder.java:2193)\r\n   \tat org.hibernate.cfg.AnnotationBinder.processIdPropertiesIfNotAlready(AnnotationBinder.java:895)\r\n   \tat org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:728)\r\n   \tat org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3625)\r\n   \tat org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3579)\r\n   \tat org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1381)\r\n   \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1786)\r\n   \tat tr.com.hibernate.test.TasitTest.&lt;clinit&gt;(TasitTest.java:47)\r\n```\r\n\r\nAny help will be appreciated.\r\n","title":"GenericGenerator with package-info.java","body":"<p>I have an entity named as <code>Tasit</code> as shown below .</p>\n<pre class=\"lang-java prettyprint-override\"><code>package tr.com.entity;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport tr.com.MyGenerator;\n    \n@Entity\npublic class Tasit {\n    \n  @Id\n  @GeneratedValue(generator = &quot;ID_GENERATOR&quot;)\n  private Long id;\n    \n  @Column(name = &quot;TASIT_ADI&quot;)\n  private String tasitAdi;\n    \n  public String getTasitAdi() {\n     return tasitAdi;\n  }\n    \n  public void setTasitAdi(String tasitAdi) {\n    this.tasitAdi = tasitAdi;\n  }\n    \n  public Tasit(Long tasitId, String tasitAdi) {\n    super();\n    this.id = tasitId;\n    this.tasitAdi = tasitAdi;\n  }\n    \n  public Tasit(String tasitAdi) {\n    super();\n    this.tasitAdi = tasitAdi;\n  }\n    \n  public Long getId() {\n    return id;\n  }\n    \n  public Tasit() {\n    super();\n  }\n}\n</code></pre>\n<p>As you see in <code>Tasit</code> entity there is <code>@GeneratedValue(generator = &quot;ID_GENERATOR&quot;)</code>.</p>\n<p>l add in <code>tr.com.entity</code> package <code>package-info.java</code> class.\nMy goal was to write one <code>Generator</code> and to use for all entities in <code>tr.com.entity</code> package</p>\n<p>My <code>package-info.java</code> class is also below</p>\n<pre class=\"lang-java prettyprint-override\"><code>@org.hibernate.annotations.GenericGenerator(\n   name = &quot;ID_GENERATOR&quot;,\n   strategy =  &quot;enhanced-sequence&quot;,\n   parameters = {\n      @org.hibernate.annotations.Parameter(\n           name = &quot;sequence_name&quot;,\n           value = &quot;JPWH_SEQUENCE&quot;\n      ),\n      @org.hibernate.annotations.Parameter(\n           name = &quot;initial_value&quot;,\n           value = &quot;1000&quot;\n      )\n    }\n)\npackage tr.com.entity;\n</code></pre>\n<p>by doing this I try to insert any data in <code>TASIT</code> table.\nBut when I run the appropriate runner code to insert data to the <code>TASIT</code> table getting below exception.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\nCaused by: org.hibernate.AnnotationException: Unknown Id.generator: ID_GENERATOR\n    at org.hibernate.cfg.BinderHelper.makeIdGenerator(BinderHelper.java:639)\n    at org.hibernate.cfg.AnnotationBinder.processId(AnnotationBinder.java:2287)\n    at org.hibernate.cfg.AnnotationBinder.processElementAnnotations(AnnotationBinder.java:2193)\n    at org.hibernate.cfg.AnnotationBinder.processIdPropertiesIfNotAlready(AnnotationBinder.java:895)\n    at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:728)\n    at org.hibernate.cfg.Configuration$MetadataSourceQueue.processAnnotatedClassesQueue(Configuration.java:3625)\n    at org.hibernate.cfg.Configuration$MetadataSourceQueue.processMetadata(Configuration.java:3579)\n    at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1381)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1786)\n    at tr.com.hibernate.test.TasitTest.&lt;clinit&gt;(TasitTest.java:47)\n</code></pre>\n<p>Any help will be appreciated.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1659359726,"post_id":73194234,"comment_id":129269188,"body_markdown":"It might be valuable to show *how* you’re attempting to do this. (And what “posting” means here.)","body":"It might be valuable to show <i>how</i> you’re attempting to do this. (And what “posting” means here.)"},{"owner":{"account_id":12797740,"reputation":73,"user_id":9260065,"display_name":"Iqbal"},"score":0,"creation_date":1659360174,"post_id":73194234,"comment_id":129269363,"body_markdown":"@DaveNewton: Thanks for pointing it out, that was a typo. Have rectified it now. In Run Configurations dialog in Eclipse there is Environment variables tab. I am trying to add new variable there. Hope it clarifies.","body":"@DaveNewton: Thanks for pointing it out, that was a typo. Have rectified it now. In Run Configurations dialog in Eclipse there is Environment variables tab. I am trying to add new variable there. Hope it clarifies."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1659361140,"post_id":73194234,"comment_id":129269742,"body_markdown":"What&#39;s the ultimate reason for caring if there&#39;s a newline in it? It&#39;s JSON.","body":"What&#39;s the ultimate reason for caring if there&#39;s a newline in it? It&#39;s JSON."}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659360798,"creation_date":1659360798,"answer_id":73194525,"question_id":73194234,"body_markdown":"The run/launch configuration dialog does not support entering a multi-line string for an environment variable.\r\n\r\nAs workaround you can encode line breaks as `${system_property:line.separator}`, e.g. for your example:\r\n\r\n    {&quot;name&quot;:&quot;apple&quot;,${system_property:line.separator}&quot;type&quot;:&quot;fruit&quot;}\r\n\r\nYou can do the replacing in an *Untitled Text File* via *Find and Replace* (&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;F&lt;/kbd&gt;) by replacing `\\R` with `\\${system_property:line.separator}` as *Regular Expression*.","title":"Unable to paste multi-line JSON string into environment variable in Eclipse run configurations","body":"<p>The run/launch configuration dialog does not support entering a multi-line string for an environment variable.</p>\n<p>As workaround you can encode line breaks as <code>${system_property:line.separator}</code>, e.g. for your example:</p>\n<pre><code>{&quot;name&quot;:&quot;apple&quot;,${system_property:line.separator}&quot;type&quot;:&quot;fruit&quot;}\n</code></pre>\n<p>You can do the replacing in an <em>Untitled Text File</em> via <em>Find and Replace</em> (<kbd>Ctrl</kbd>+<kbd>F</kbd>) by replacing <code>\\R</code> with <code>\\${system_property:line.separator}</code> as <em>Regular Expression</em>.</p>\n"},{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659449115,"creation_date":1659449115,"answer_id":73208971,"question_id":73194234,"body_markdown":"It doesn&#39;t discard anything. Press OK as if it hasn&#39;t, because when you try to edit the value later, it&#39;ll all be there.","title":"Unable to paste multi-line JSON string into environment variable in Eclipse run configurations","body":"<p>It doesn't discard anything. Press OK as if it hasn't, because when you try to edit the value later, it'll all be there.</p>\n"}],"owner":{"account_id":12797740,"reputation":73,"user_id":9260065,"display_name":"Iqbal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659449115,"creation_date":1659359569,"question_id":73194234,"body_markdown":"I am trying to set a multi-line JSON string in environment variable under Run Configurations in eclipse IDE. However, it takes just the first line and discards all. For example, let&#39;s say I have a below JSON:\r\n\r\n{&quot;name&quot;:&quot;apple&quot;,\\\r\n&quot;type&quot;:&quot;fruit&quot;}\r\n\r\nWhen I am attempting to post the JSON into the environment variable, its just taking the first line alone as depicted below:\r\n\r\n{&quot;name&quot;:&quot;apple&quot;,\r\n\r\nHowever, it works absolutely fine in IntelliJ IDE.","title":"Unable to paste multi-line JSON string into environment variable in Eclipse run configurations","body":"<p>I am trying to set a multi-line JSON string in environment variable under Run Configurations in eclipse IDE. However, it takes just the first line and discards all. For example, let's say I have a below JSON:</p>\n<p>{&quot;name&quot;:&quot;apple&quot;,<br />\n&quot;type&quot;:&quot;fruit&quot;}</p>\n<p>When I am attempting to post the JSON into the environment variable, its just taking the first line alone as depicted below:</p>\n<p>{&quot;name&quot;:&quot;apple&quot;,</p>\n<p>However, it works absolutely fine in IntelliJ IDE.</p>\n"},{"tags":["java","amazon-web-services","api","amazon-s3","localstack"],"comments":[{"owner":{"account_id":10243286,"reputation":635,"user_id":7559966,"display_name":"drfalcoew"},"score":0,"creation_date":1658940545,"post_id":73130973,"comment_id":129179100,"body_markdown":"I believe my presigner method call is trying to connect to the actual AWS and not my Local instance of it.  How do I point the call to localstack?","body":"I believe my presigner method call is trying to connect to the actual AWS and not my Local instance of it.  How do I point the call to localstack?"},{"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":1,"creation_date":1659142888,"post_id":73130973,"comment_id":129230277,"body_markdown":"Try `S3Presigner presigner = S3Presigner.builder().endpointOverride(new URI(&quot;http://localhost:4566&quot;)).build();` - does that work?","body":"Try <code>S3Presigner presigner = S3Presigner.builder().endpointOverride(new URI(&quot;http:&#47;&#47;localhost:4566&quot;)).build();</code> - does that work?"},{"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1659172403,"post_id":73130973,"comment_id":129233771,"body_markdown":"Do you get the same error? What’s the value of `$_LOCAL_S3_SERVICE_ENDPOINT`?","body":"Do you get the same error? What’s the value of <code>$_LOCAL_S3_SERVICE_ENDPOINT</code>?"}],"answers":[{"tags":[],"owner":{"account_id":3878647,"reputation":1476,"user_id":3211872,"display_name":"earandap"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659449074,"creation_date":1659449074,"answer_id":73208960,"question_id":73130973,"body_markdown":"You need to configure the S3Presigner to point to your LocalStack environment.\r\n\r\n    S3Presigner presigner = S3Presigner\r\n            .builder()\r\n            .endpointOverride(URI.create(&quot;http://127.0.0.1:8008&quot;))\r\n            .build()\r\n\r\nYou can read the endpoint from a config. \r\n\r\nTake into account that in your docker container config, you are exposing the 8080 port instead the default 4566.","title":"AWS S3 (using localstack - a local AWS version) GET Presigned URL issue","body":"<p>You need to configure the S3Presigner to point to your LocalStack environment.</p>\n<pre><code>S3Presigner presigner = S3Presigner\n        .builder()\n        .endpointOverride(URI.create(&quot;http://127.0.0.1:8008&quot;))\n        .build()\n</code></pre>\n<p>You can read the endpoint from a config.</p>\n<p>Take into account that in your docker container config, you are exposing the 8080 port instead the default 4566.</p>\n"}],"owner":{"account_id":10243286,"reputation":635,"user_id":7559966,"display_name":"drfalcoew"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659449074,"creation_date":1658880699,"question_id":73130973,"body_markdown":"LocalStack is working perfectly when I want to upload or download an image normally. However, when I try to integrate my download method with [Presigned URLs][1] (Urls with a specific expiration), I get the error:\r\n\r\n    &lt;Error&gt;\r\n    &lt;Code&gt;InvalidAccessKeyId&lt;/Code&gt;\r\n       &lt;Message&gt;\r\n          The AWS Access Key Id you provided does not exist in our records.\r\n       &lt;/Message&gt;\r\n    &lt;AWSAccessKeyId&gt;test&lt;/AWSAccessKeyId&gt;\r\n    &lt;/Error&gt;\r\n\r\n\r\nThis error occurs once I click on the generated URL from my PresignedURL method.\r\n\r\nHere is my PresignedURL Method:\r\n\r\n    protected URL generatePresignedURL(String objectKey) {\r\n\r\n        // object key example: &quot;Screen Shot 2022-07-04 at 11.29.59 PM (3).png&quot;\r\n\r\n        S3Presigner presigner = S3Presigner.create();\r\n\r\n        GetObjectRequest objectRequest = buildGetRequest(objectKey);\r\n        GetObjectPresignRequest presignedRequest = buildPresignedGetRequest(objectRequest);\r\n\r\n        PresignedGetObjectRequest presignedGetObjectRequest =\r\n                presigner.presignGetObject(presignedRequest);\r\n\r\n        System.out.println(&quot;Presigned URL: &quot; + presignedGetObjectRequest.url());\r\n\r\n\r\n        return presignedGetObjectRequest.url();\r\n    }\r\n\r\n\r\n    protected GetObjectRequest buildGetRequest(String objectKey) {\r\n        return GetObjectRequest.builder()\r\n                .bucket(bucketName)\r\n                .key(objectKey)\r\n                .build();\r\n    }\r\n\r\n\r\n    protected GetObjectPresignRequest buildPresignedGetRequest(GetObjectRequest objectRequest) {\r\n\r\n        // Create a GetObjectPresignRequest from a GetObjectRequest to specify the signature duration\r\n        return GetObjectPresignRequest.builder()\r\n                .signatureDuration(Duration.ofMinutes(5))\r\n                .getObjectRequest(objectRequest)\r\n                .build();\r\n    }\r\n\r\n\r\n\r\n\r\nHere&#39;s my S3 LocalStack config in my Docker Compose YML file: \r\n\r\n    \r\n\r\n  \r\n\r\n    s3-local:\r\n        container_name: &quot;s3-local&quot;\r\n        image: localstack/localstack\r\n        ports:\r\n          - &quot;127.0.0.1:8008:4566&quot;            # LocalStack Gateway\r\n        environment:\r\n          - SERVICES=s3\r\n          - AWS_ACCESS_KEY_ID=test\r\n          - AWS_SECRET_ACCESS_KEY=test\r\n          - START_WEB=0\r\n          - DEBUG=0\r\n\r\n  \r\n\r\nthen S3 bucket setup using this command:\r\n\r\n    aws s3 mb s3://$LOCAL_S3_BUCKET_NAME --endpoint-url=$LOCAL_S3_SERVICE_ENDPOINT\r\n\r\n\r\n\r\nDo I need any extra configuration to the S3Presigner object? Thank you.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-presign.html","title":"AWS S3 (using localstack - a local AWS version) GET Presigned URL issue","body":"<p>LocalStack is working perfectly when I want to upload or download an image normally. However, when I try to integrate my download method with <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-presign.html\" rel=\"nofollow noreferrer\">Presigned URLs</a> (Urls with a specific expiration), I get the error:</p>\n<pre><code>&lt;Error&gt;\n&lt;Code&gt;InvalidAccessKeyId&lt;/Code&gt;\n   &lt;Message&gt;\n      The AWS Access Key Id you provided does not exist in our records.\n   &lt;/Message&gt;\n&lt;AWSAccessKeyId&gt;test&lt;/AWSAccessKeyId&gt;\n&lt;/Error&gt;\n</code></pre>\n<p>This error occurs once I click on the generated URL from my PresignedURL method.</p>\n<p>Here is my PresignedURL Method:</p>\n<pre><code>protected URL generatePresignedURL(String objectKey) {\n\n    // object key example: &quot;Screen Shot 2022-07-04 at 11.29.59 PM (3).png&quot;\n\n    S3Presigner presigner = S3Presigner.create();\n\n    GetObjectRequest objectRequest = buildGetRequest(objectKey);\n    GetObjectPresignRequest presignedRequest = buildPresignedGetRequest(objectRequest);\n\n    PresignedGetObjectRequest presignedGetObjectRequest =\n            presigner.presignGetObject(presignedRequest);\n\n    System.out.println(&quot;Presigned URL: &quot; + presignedGetObjectRequest.url());\n\n\n    return presignedGetObjectRequest.url();\n}\n\n\nprotected GetObjectRequest buildGetRequest(String objectKey) {\n    return GetObjectRequest.builder()\n            .bucket(bucketName)\n            .key(objectKey)\n            .build();\n}\n\n\nprotected GetObjectPresignRequest buildPresignedGetRequest(GetObjectRequest objectRequest) {\n\n    // Create a GetObjectPresignRequest from a GetObjectRequest to specify the signature duration\n    return GetObjectPresignRequest.builder()\n            .signatureDuration(Duration.ofMinutes(5))\n            .getObjectRequest(objectRequest)\n            .build();\n}\n</code></pre>\n<p>Here's my S3 LocalStack config in my Docker Compose YML file:</p>\n<pre><code>s3-local:\n    container_name: &quot;s3-local&quot;\n    image: localstack/localstack\n    ports:\n      - &quot;127.0.0.1:8008:4566&quot;            # LocalStack Gateway\n    environment:\n      - SERVICES=s3\n      - AWS_ACCESS_KEY_ID=test\n      - AWS_SECRET_ACCESS_KEY=test\n      - START_WEB=0\n      - DEBUG=0\n</code></pre>\n<p>then S3 bucket setup using this command:</p>\n<pre><code>aws s3 mb s3://$LOCAL_S3_BUCKET_NAME --endpoint-url=$LOCAL_S3_SERVICE_ENDPOINT\n</code></pre>\n<p>Do I need any extra configuration to the S3Presigner object? Thank you.</p>\n"},{"tags":["c#","java"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1284446373,"creation_date":1284442290,"answer_id":3706320,"question_id":3706306,"body_markdown":"Well, java.util.Date/Calendar only have precision down to the millisecond:\r\n\r\n    Calendar calendar = Calendar.getInstance();    \r\n    calendar.set(Calendar.MILLISECOND, 0); // Clear the millis part. Silly API.\r\n    calendar.set(2010, 8, 14, 0, 0, 0); // Note that months are 0-based\r\n    Date date = calendar.getTime();\r\n    long millis = date.getTime(); // Millis since Unix epoch\r\n\r\nThat&#39;s the nearest effective equivalent. If you need to convert between a .NET ticks value and a `Date`/`Calendar` you basically need to perform scaling (ticks to millis) and offsetting (1st Jan 1AD to 1st Jan 1970).\r\n\r\nJava&#39;s built-in date and time APIs are fairly unpleasant. I&#39;d personally recommend that you use [Joda Time][1] instead. If you could say what you&#39;re really trying to do, we can help more.\r\n\r\nEDIT: Okay, here&#39;s some sample code:\r\n\r\n    import java.util.*;\r\n    \r\n    public class Test {\r\n        \r\n        private static final long TICKS_AT_EPOCH = 621355968000000000L;\r\n        private static final long TICKS_PER_MILLISECOND = 10000;\r\n        \r\n        public static void main(String[] args) {\r\n            long ticks = 634200192000000000L;\r\n            \r\n            Date date = new Date((ticks - TICKS_AT_EPOCH) / TICKS_PER_MILLISECOND);\r\n            System.out.println(date);\r\n            \r\n            TimeZone utc = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n            Calendar calendar = Calendar.getInstance(utc);\r\n            calendar.setTime(date);\r\n            System.out.println(calendar);\r\n        }\r\n    }\r\n\r\nNote that this constructs a Date/Calendar representing the *UTC* instant of 2019/9/14. The .NET representation is somewhat fuzzy - you can create two DateTime values which are the same except for their &quot;kind&quot; (but therefore represent different instants) and they&#39;ll claim to be equal. It&#39;s a bit of a mess :(\r\n\r\n  [1]: http://joda-time.sf.net","title":"C# DateTime.Ticks equivalent in Java","body":"<p>Well, java.util.Date/Calendar only have precision down to the millisecond:</p>\n\n<pre><code>Calendar calendar = Calendar.getInstance();    \ncalendar.set(Calendar.MILLISECOND, 0); // Clear the millis part. Silly API.\ncalendar.set(2010, 8, 14, 0, 0, 0); // Note that months are 0-based\nDate date = calendar.getTime();\nlong millis = date.getTime(); // Millis since Unix epoch\n</code></pre>\n\n<p>That's the nearest effective equivalent. If you need to convert between a .NET ticks value and a <code>Date</code>/<code>Calendar</code> you basically need to perform scaling (ticks to millis) and offsetting (1st Jan 1AD to 1st Jan 1970).</p>\n\n<p>Java's built-in date and time APIs are fairly unpleasant. I'd personally recommend that you use <a href=\"http://joda-time.sf.net\" rel=\"noreferrer\">Joda Time</a> instead. If you could say what you're really trying to do, we can help more.</p>\n\n<p>EDIT: Okay, here's some sample code:</p>\n\n<pre><code>import java.util.*;\n\npublic class Test {\n\n    private static final long TICKS_AT_EPOCH = 621355968000000000L;\n    private static final long TICKS_PER_MILLISECOND = 10000;\n\n    public static void main(String[] args) {\n        long ticks = 634200192000000000L;\n\n        Date date = new Date((ticks - TICKS_AT_EPOCH) / TICKS_PER_MILLISECOND);\n        System.out.println(date);\n\n        TimeZone utc = TimeZone.getTimeZone(\"UTC\");\n        Calendar calendar = Calendar.getInstance(utc);\n        calendar.setTime(date);\n        System.out.println(calendar);\n    }\n}\n</code></pre>\n\n<p>Note that this constructs a Date/Calendar representing the <em>UTC</em> instant of 2019/9/14. The .NET representation is somewhat fuzzy - you can create two DateTime values which are the same except for their \"kind\" (but therefore represent different instants) and they'll claim to be equal. It's a bit of a mess :(</p>\n"},{"tags":[],"owner":{"account_id":200056,"reputation":25083,"user_id":445715,"display_name":"Andrey Breslav"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1284444096,"creation_date":1284444096,"answer_id":3706446,"question_id":3706306,"body_markdown":"System.nanoTime() gives you nanoseconds in Java (since 1.6). You&#39;ll still need to shift/rescale, but no precision will be lost.","title":"C# DateTime.Ticks equivalent in Java","body":"<p>System.nanoTime() gives you nanoseconds in Java (since 1.6). You'll still need to shift/rescale, but no precision will be lost.</p>\n"},{"tags":[],"owner":{"account_id":6151036,"reputation":231,"user_id":4795446,"display_name":"Cristian Keller"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1458369640,"creation_date":1429171134,"answer_id":29668694,"question_id":3706306,"body_markdown":"In Java is:\r\n\r\n    long TICKS_AT_EPOCH = 621355968000000000L; \r\n    long tick = System.currentTimeMillis()*10000 + TICKS_AT_EPOCH;","title":"C# DateTime.Ticks equivalent in Java","body":"<p>In Java is:</p>\n\n<pre><code>long TICKS_AT_EPOCH = 621355968000000000L; \nlong tick = System.currentTimeMillis()*10000 + TICKS_AT_EPOCH;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":332402,"reputation":1273,"user_id":657692,"accept_rate":85,"display_name":"ReZa"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1472731638,"creation_date":1471944152,"answer_id":39097260,"question_id":3706306,"body_markdown":"To convert .Net Ticks to millis in java use this :\r\n\r\n    static final long TICKS_PER_MILLISECOND = 10000;\r\n    long ticks = 450000000000L; // sample tick value\r\n    long millis = (ticks  / TICKS_PER_MILLISECOND);","title":"C# DateTime.Ticks equivalent in Java","body":"<p>To convert .Net Ticks to millis in java use this :</p>\n\n<pre><code>static final long TICKS_PER_MILLISECOND = 10000;\nlong ticks = 450000000000L; // sample tick value\nlong millis = (ticks  / TICKS_PER_MILLISECOND);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2379212,"reputation":71,"user_id":2081650,"display_name":"Pablo V"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1495033539,"creation_date":1495033539,"answer_id":44028583,"question_id":3706306,"body_markdown":"Base on Jon Skeet I developed this class\r\n\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    \r\n    public class DateHelper {\r\n    \r\n        private static final long TICKS_AT_EPOCH = 621355968000000000L;\r\n        private static final long TICKS_PER_MILLISECOND = 10000;\r\n    \r\n        public static long getUTCTicks(Date date){\r\n    \r\n            Calendar calendar = Calendar.getInstance();\r\n            calendar.setTime(date);\r\n    \r\n            return (calendar.getTimeInMillis() * TICKS_PER_MILLISECOND) + TICKS_AT_EPOCH;\r\n    \r\n        }\r\n    \r\n        public static Date getDate(long UTCTicks){\r\n    \r\n            return new Date((UTCTicks - TICKS_AT_EPOCH) / TICKS_PER_MILLISECOND);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nIt works for me","title":"C# DateTime.Ticks equivalent in Java","body":"<p>Base on Jon Skeet I developed this class</p>\n\n<pre><code>import java.util.Calendar;\nimport java.util.Date;\n\npublic class DateHelper {\n\n    private static final long TICKS_AT_EPOCH = 621355968000000000L;\n    private static final long TICKS_PER_MILLISECOND = 10000;\n\n    public static long getUTCTicks(Date date){\n\n        Calendar calendar = Calendar.getInstance();\n        calendar.setTime(date);\n\n        return (calendar.getTimeInMillis() * TICKS_PER_MILLISECOND) + TICKS_AT_EPOCH;\n\n    }\n\n    public static Date getDate(long UTCTicks){\n\n        return new Date((UTCTicks - TICKS_AT_EPOCH) / TICKS_PER_MILLISECOND);\n\n    }\n\n}\n</code></pre>\n\n<p>It works for me</p>\n"},{"tags":[],"owner":{"account_id":260339,"reputation":2671,"user_id":543836,"display_name":"Dima"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1653688296,"creation_date":1556040706,"answer_id":55816584,"question_id":3706306,"body_markdown":"There are 10,000 ticks in a millisecond, and C# considers the beginning of time January 1, 0001 at midnight. Here&#39;s a one-liner which converts an Instant to ticks.\r\n    \r\n```java\r\npublic static long toTicks(Instant i)\r\n{\r\n   return Duration.between(Instant.parse(&quot;0001-01-01T00:00:00.00Z&quot;), i).toMillis() * 10000;\r\n}\r\n```","title":"C# DateTime.Ticks equivalent in Java","body":"<p>There are 10,000 ticks in a millisecond, and C# considers the beginning of time January 1, 0001 at midnight. Here's a one-liner which converts an Instant to ticks.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static long toTicks(Instant i)\n{\n   return Duration.between(Instant.parse(&quot;0001-01-01T00:00:00.00Z&quot;), i).toMillis() * 10000;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659449020,"creation_date":1659449020,"answer_id":73208943,"question_id":3706306,"body_markdown":"And for those of us showing up trying to get the current number of *ticks* as defined by the UUID specification:\r\n\r\n```\r\n/**\r\n\tReturns the current tick count.\r\n\tTicks are the number of 100 ns intervals since October 15, 1582\r\n\t@return\r\n*/\r\nprivate static long getUtcNowTicks() {\r\n\r\n\tfinal long UNIX_EPOCH_TICKS = 122192928000000000L; //Number of ticks from 10/16/1582 to 1/1/1970\r\n\tInstant i = Clock.systemUTC().instant(); //get the current time\r\n\tlong ticks = UNIX_EPOCH_TICKS; // number of ticks as of 1/1/1970\r\n\tticks += i.getEpochSecond()*10000000; //number of whole seconds (converted to ticks) since 1/1/1970\r\n\tticks += i.getNano() / 100; //number of ticks since the start of the second\r\n\r\n\treturn ticks;\r\n\r\n\t/*\r\n\tSome interesting tick values\r\n\r\n\tDate\t\t\tTicks\r\n\t==========\t==================\r\n\t10/15/1582\t                 0\tStart of UUID epoch; the date we switched to the Gregorian calendar)\r\n \t 1/01/1601    5748192000000000\tStart of Windows epoch (start of 1st Gregorian 400-year cycle)\r\n\t12/30/1899  100101312000000000\tStart of Lotus 123, Excel, VB, COM, Delphi epoch\r\n\t 1/01/1900  100103040000000000\tStart of SQL Server epoch\r\n\t 1/01/1970\t122192928000000000\tStart of UNIX epoch\r\n\t 1/01/2000\t131659776000000000\r\n\t 1/01/2010\t134815968000000000\r\n\t 1/01/2020\t137971296000000000\r\n\t 1/19/2038\t143714420469999999\tUNIX Y2k38 problem (January 19, 2038  3:14:07 am)\r\n\t*/\r\n}\r\n```\r\n\r\n","title":"C# DateTime.Ticks equivalent in Java","body":"<p>And for those of us showing up trying to get the current number of <em>ticks</em> as defined by the UUID specification:</p>\n<pre><code>/**\n    Returns the current tick count.\n    Ticks are the number of 100 ns intervals since October 15, 1582\n    @return\n*/\nprivate static long getUtcNowTicks() {\n\n    final long UNIX_EPOCH_TICKS = 122192928000000000L; //Number of ticks from 10/16/1582 to 1/1/1970\n    Instant i = Clock.systemUTC().instant(); //get the current time\n    long ticks = UNIX_EPOCH_TICKS; // number of ticks as of 1/1/1970\n    ticks += i.getEpochSecond()*10000000; //number of whole seconds (converted to ticks) since 1/1/1970\n    ticks += i.getNano() / 100; //number of ticks since the start of the second\n\n    return ticks;\n\n    /*\n    Some interesting tick values\n\n    Date            Ticks\n    ==========  ==================\n    10/15/1582                   0  Start of UUID epoch; the date we switched to the Gregorian calendar)\n     1/01/1601    5748192000000000  Start of Windows epoch (start of 1st Gregorian 400-year cycle)\n    12/30/1899  100101312000000000  Start of Lotus 123, Excel, VB, COM, Delphi epoch\n     1/01/1900  100103040000000000  Start of SQL Server epoch\n     1/01/1970  122192928000000000  Start of UNIX epoch\n     1/01/2000  131659776000000000\n     1/01/2010  134815968000000000\n     1/01/2020  137971296000000000\n     1/19/2038  143714420469999999  UNIX Y2k38 problem (January 19, 2038  3:14:07 am)\n    */\n}\n</code></pre>\n"}],"owner":{"display_name":"user243174"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41135,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":3706320,"answer_count":7,"score":28,"last_activity_date":1659449020,"creation_date":1284442098,"question_id":3706306,"body_markdown":"What is the Java equivalent of DateTime.Ticks in C#?\r\n\r\n    DateTime dt = new DateTime(2010, 9, 14, 0, 0, 0);\r\n    Console.WriteLine(&quot;Ticks: {0}&quot;, dt.Ticks);\r\n\r\nWhat will be the equivalent of above mentioned code in Java?","title":"C# DateTime.Ticks equivalent in Java","body":"<p>What is the Java equivalent of DateTime.Ticks in C#?</p>\n\n<pre><code>DateTime dt = new DateTime(2010, 9, 14, 0, 0, 0);\nConsole.WriteLine(\"Ticks: {0}\", dt.Ticks);\n</code></pre>\n\n<p>What will be the equivalent of above mentioned code in Java?</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1659450693,"post_id":73208920,"comment_id":129294793,"body_markdown":"How is `locator` defined as in `wait.until(ExpectedConditions.invisibilityOfElementLocated(locator));`","body":"How is <code>locator</code> defined as in <code>wait.until(ExpectedConditions.invisibilityOfElementLocated(l&zwnj;&#8203;ocator));</code>"},{"owner":{"account_id":14231177,"reputation":3,"user_id":10280371,"display_name":"kimor"},"score":0,"creation_date":1659541142,"post_id":73208920,"comment_id":129319961,"body_markdown":"By.xpath(&quot;xpath_locator&quot;)","body":"By.xpath(&quot;xpath_locator&quot;)"}],"owner":{"account_id":14231177,"reputation":3,"user_id":10280371,"display_name":"kimor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659448986,"creation_date":1659448948,"question_id":73208920,"body_markdown":"I am doing a simple test - waiting for an element to disappear from the page `wait.until(ExpectedConditions.invisibilityOfElementLocated(locator));`\r\nand sometimes I get this error, it is quite random, it can occur once in 5-10 runs, or 3 times in a row. \r\nThe full error message \r\n\r\n    java.lang.ClassCastException: class com.google.common.collect.Maps$TransformedEntriesMap cannot be cast to class org.openqa.selenium.WebElement (com.google.common.collect.Maps$TransformedEntriesMap and org.openqa.selenium.WebElement are in unnamed module of loader &#39;app&#39;)\r\n\r\n","title":"class com.google.common.collect.Maps$TransformedEntriesMap cannot be cast to class org.openqa.selenium.WebElement in invisibilityOfElementLocated","body":"<p>I am doing a simple test - waiting for an element to disappear from the page <code>wait.until(ExpectedConditions.invisibilityOfElementLocated(locator));</code>\nand sometimes I get this error, it is quite random, it can occur once in 5-10 runs, or 3 times in a row.\nThe full error message</p>\n<pre><code>java.lang.ClassCastException: class com.google.common.collect.Maps$TransformedEntriesMap cannot be cast to class org.openqa.selenium.WebElement (com.google.common.collect.Maps$TransformedEntriesMap and org.openqa.selenium.WebElement are in unnamed module of loader 'app')\n</code></pre>\n"},{"tags":["java","intellij-idea","profiling"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1659446512,"post_id":73207585,"comment_id":129293015,"body_markdown":"Is it possible to share full idea.log after restarting IDE and reproducing the issue?","body":"Is it possible to share full idea.log after restarting IDE and reproducing the issue?"},{"owner":{"account_id":3253983,"reputation":1481,"user_id":2743585,"display_name":"wi2ard"},"score":0,"creation_date":1659448180,"post_id":73207585,"comment_id":129293702,"body_markdown":"Is there any particular part you are interested in?","body":"Is there any particular part you are interested in?"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1659468816,"post_id":73207585,"comment_id":129300971,"body_markdown":"Yes, startup information with IDE configuration.","body":"Yes, startup information with IDE configuration."}],"owner":{"account_id":3253983,"reputation":1481,"user_id":2743585,"display_name":"wi2ard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659448958,"creation_date":1659443407,"question_id":73207585,"body_markdown":"I&#39;m running IntelliJ Idea 2022.1 (Ultimate Edition) on Ubuntu. When I want to start profiling (a java test) I am getting in the console this error\r\n&gt; [ERROR] Failed to initialize JfrSync class Exception in thread &quot;main&quot;\r\n&gt; java.lang.NoClassDefFoundError: jdk/jfr/FlightRecorderListener\r\n\r\nThen, after the execution ends, the Profiler tab says: &quot;Profiler error: there is no dump file&quot;.\r\nMy idea.log:\r\n```\r\n022-08-02 13:29:31,475 [    547]   INFO - #c.i.i.p.PluginManager - Using cached broken plugins file\r\n2022-08-02 13:29:31,661 [    733]   INFO - #c.i.i.StartupUtil - JNA library (64-bit) loaded in 60 ms\r\n2022-08-02 13:29:31,787 [    859]   INFO - #c.i.i.StartupUtil - IDE: IntelliJ IDEA (build #IU-221.5080.210, 12 Apr 2022 05:32)\r\n2022-08-02 13:29:31,788 [    860]   INFO - #c.i.i.StartupUtil - OS: Linux (5.4.0-122-generic, amd64)\r\n2022-08-02 13:29:31,856 [    928]   INFO - #c.i.i.StartupUtil - JRE: 11.0.14.1+1-b2043.25 (JetBrains s.r.o.)\r\n2022-08-02 13:29:31,858 [    930]   INFO - #c.i.i.StartupUtil - JVM: 11.0.14.1+1-b2043.25 (OpenJDK 64-Bit Server VM)\r\n.....................\r\n2022-08-02 15:57:30,756 [ 125069]   INFO - #c.i.c.ComponentStoreImpl - Saving Project(name=prj, containerState=COMPONENT_CREATED, componentStore=/mypath/prj)Encoding took 28 ms, RunManager took 63 ms\r\n2022-08-02 15:57:31,249 [ 125562]   INFO - #c.i.c.ComponentStoreImpl - Saving appExportableFileTemplateSettings took 31 ms, FileTypeManager took 40 ms, FindSettings took 46 ms, SettingsSyncPlugins took 13 ms, XDebuggerSettings took 11 ms\r\n2022-08-02 15:57:31,581 [ 125894]   INFO - #c.i.c.i.CompileDriver - COMPILATION STARTED (BUILD PROCESS)\r\n2022-08-02 15:57:31,860 [ 126173]   WARN - #c.i.o.a.i.ActionUpdater - 288 ms to grab EDT for #update (com.intellij.openapi.editor.impl.EditorMarkupModelImpl$1)\r\n2022-08-02 15:57:31,864 [ 126177]   WARN - #c.i.o.a.i.ActionUpdater - 288 ms to grab EDT for #update (com.intellij.openapi.editor.impl.EditorMarkupModelImpl$1)\r\n2022-08-02 15:57:32,825 [ 127138]   WARN - #c.i.o.a.i.ActionUpdater - 581 ms to grab EDT for CodeWithMeUsersAction#update (com.jetbrains.rd.platform.codeWithMe.toolbar.CodeWithMeUsersAction)\r\n2022-08-02 15:57:33,714 [ 128027]   INFO - #c.i.c.s.BuildManager - BUILDER_PROCESS [stdout]: Build process started. Classpath: /mypath/.local/share/JetBrains/Toolbox/apps/IDEA-U/ch-0/221.5080.210/plugins/java/lib/jps-launcher.jar:/pathToJvm/jdk1.8.0_331/lib/tools.jar\r\n2022-08-02 15:57:34,562 [ 128875]   INFO - #c.i.c.ComponentStoreImpl - Saving appFileTypeManager took 18 ms, XDebuggerSettings took 17 ms\r\n2022-08-02 15:57:34,588 [ 128901]   INFO - #o.j.k.i.s.r.KotlinCompilerReferenceIndexStorage - KCRI storage is closed (didn&#39;&#39;t exist)\r\n2022-08-02 15:57:34,592 [ 128905]   INFO - #c.i.c.b.CompilerReferenceServiceBase - backward reference index reader is closed (didn&#39;&#39;t exist)\r\n2022-08-02 15:57:34,811 [ 129124]   INFO - #c.i.c.ComponentStoreImpl - Saving Project(name=prj, containerState=COMPONENT_CREATED, componentStore=/mypath/prj)ProjectStartupSharedConfiguration took 11 ms, RunManager took 108 ms, VcsDirectoryMappings took 17 ms, VcsDirectoryRenames took 11 ms\r\n2022-08-02 15:57:34,814 [ 129127]   WARN - #c.i.o.a.i.ActionUpdater - 218 ms to grab EDT for RunConfigurationsComboBoxAction#update (com.intellij.execution.actions.RunConfigurationsComboBoxAction)\r\n2022-08-02 15:57:42,182 [ 136495]   INFO - #o.j.k.i.s.r.KotlinCompilerReferenceIndexService - initialized\r\n2022-08-02 15:57:42,185 [ 136498]   WARN - #o.j.k.i.s.r.KotlinCompilerReferenceIndexStorage - kotlin-data-container is not found\r\n2022-08-02 15:57:42,188 [ 136501]   INFO - #c.i.c.b.CompilerReferenceServiceBase - initialized\r\n2022-08-02 15:57:42,189 [ 136502]   INFO - #c.i.c.b.CompilerReferenceServiceBase - backward reference index reader doesn&#39;&#39;t exist\r\n2022-08-02 15:57:42,246 [ 136559]   INFO - #c.i.c.i.CompilerUtil - \tCOMPILATION FINISHED (BUILD PROCESS); Errors: 0; warnings: 0 took 10962 ms: 0 min 10sec\r\n2022-08-02 15:57:42,844 [ 137157]   INFO - #c.i.c.s.BuildManager - BUILDER_PROCESS [stdout]: Build process started. Classpath: /mypath/.local/share/JetBrains/Toolbox/apps/IDEA-U/ch-0/221.5080.210/plugins/java/lib/jps-launcher.jar:/pathToJvm/jdk1.8.0_331/lib/tools.jar\r\n2022-08-02 15:57:43,034 [ 137347]   INFO - #c.i.p.u.a.AsyncProfilerConfigurationExtensionBase - start profiler from run configuration, add VM parameters: -agentpath:/tmp/libasyncProfiler.so=start,jfr,event=cpu,interval=1ms,jfrsync=profile,file=/mypath/_profiler/MySpringITClass.jfr\r\n2022-08-02 15:59:11,413 [ 225726]   INFO - #c.i.p.u.a.AsyncProfilerProcess - notifyStateChangedAsync: com.intellij.profiler.api.Attached@b3ae692 -&gt; com.intellij.profiler.api.ReadingData@73077c5e\r\n2022-08-02 15:59:11,429 [ 225742]   INFO - #c.i.p.u.a.AsyncProfilerProcess - notifyStateChangedAsync: com.intellij.profiler.api.ReadingData@73077c5e -&gt; com.intellij.profiler.api.ProfilerError@47982261\r\n\r\n```","title":"Intellij Profiler doesn&#39;t start","body":"<p>I'm running IntelliJ Idea 2022.1 (Ultimate Edition) on Ubuntu. When I want to start profiling (a java test) I am getting in the console this error</p>\n<blockquote>\n<p>[ERROR] Failed to initialize JfrSync class Exception in thread &quot;main&quot;\njava.lang.NoClassDefFoundError: jdk/jfr/FlightRecorderListener</p>\n</blockquote>\n<p>Then, after the execution ends, the Profiler tab says: &quot;Profiler error: there is no dump file&quot;.\nMy idea.log:</p>\n<pre><code>022-08-02 13:29:31,475 [    547]   INFO - #c.i.i.p.PluginManager - Using cached broken plugins file\n2022-08-02 13:29:31,661 [    733]   INFO - #c.i.i.StartupUtil - JNA library (64-bit) loaded in 60 ms\n2022-08-02 13:29:31,787 [    859]   INFO - #c.i.i.StartupUtil - IDE: IntelliJ IDEA (build #IU-221.5080.210, 12 Apr 2022 05:32)\n2022-08-02 13:29:31,788 [    860]   INFO - #c.i.i.StartupUtil - OS: Linux (5.4.0-122-generic, amd64)\n2022-08-02 13:29:31,856 [    928]   INFO - #c.i.i.StartupUtil - JRE: 11.0.14.1+1-b2043.25 (JetBrains s.r.o.)\n2022-08-02 13:29:31,858 [    930]   INFO - #c.i.i.StartupUtil - JVM: 11.0.14.1+1-b2043.25 (OpenJDK 64-Bit Server VM)\n.....................\n2022-08-02 15:57:30,756 [ 125069]   INFO - #c.i.c.ComponentStoreImpl - Saving Project(name=prj, containerState=COMPONENT_CREATED, componentStore=/mypath/prj)Encoding took 28 ms, RunManager took 63 ms\n2022-08-02 15:57:31,249 [ 125562]   INFO - #c.i.c.ComponentStoreImpl - Saving appExportableFileTemplateSettings took 31 ms, FileTypeManager took 40 ms, FindSettings took 46 ms, SettingsSyncPlugins took 13 ms, XDebuggerSettings took 11 ms\n2022-08-02 15:57:31,581 [ 125894]   INFO - #c.i.c.i.CompileDriver - COMPILATION STARTED (BUILD PROCESS)\n2022-08-02 15:57:31,860 [ 126173]   WARN - #c.i.o.a.i.ActionUpdater - 288 ms to grab EDT for #update (com.intellij.openapi.editor.impl.EditorMarkupModelImpl$1)\n2022-08-02 15:57:31,864 [ 126177]   WARN - #c.i.o.a.i.ActionUpdater - 288 ms to grab EDT for #update (com.intellij.openapi.editor.impl.EditorMarkupModelImpl$1)\n2022-08-02 15:57:32,825 [ 127138]   WARN - #c.i.o.a.i.ActionUpdater - 581 ms to grab EDT for CodeWithMeUsersAction#update (com.jetbrains.rd.platform.codeWithMe.toolbar.CodeWithMeUsersAction)\n2022-08-02 15:57:33,714 [ 128027]   INFO - #c.i.c.s.BuildManager - BUILDER_PROCESS [stdout]: Build process started. Classpath: /mypath/.local/share/JetBrains/Toolbox/apps/IDEA-U/ch-0/221.5080.210/plugins/java/lib/jps-launcher.jar:/pathToJvm/jdk1.8.0_331/lib/tools.jar\n2022-08-02 15:57:34,562 [ 128875]   INFO - #c.i.c.ComponentStoreImpl - Saving appFileTypeManager took 18 ms, XDebuggerSettings took 17 ms\n2022-08-02 15:57:34,588 [ 128901]   INFO - #o.j.k.i.s.r.KotlinCompilerReferenceIndexStorage - KCRI storage is closed (didn''t exist)\n2022-08-02 15:57:34,592 [ 128905]   INFO - #c.i.c.b.CompilerReferenceServiceBase - backward reference index reader is closed (didn''t exist)\n2022-08-02 15:57:34,811 [ 129124]   INFO - #c.i.c.ComponentStoreImpl - Saving Project(name=prj, containerState=COMPONENT_CREATED, componentStore=/mypath/prj)ProjectStartupSharedConfiguration took 11 ms, RunManager took 108 ms, VcsDirectoryMappings took 17 ms, VcsDirectoryRenames took 11 ms\n2022-08-02 15:57:34,814 [ 129127]   WARN - #c.i.o.a.i.ActionUpdater - 218 ms to grab EDT for RunConfigurationsComboBoxAction#update (com.intellij.execution.actions.RunConfigurationsComboBoxAction)\n2022-08-02 15:57:42,182 [ 136495]   INFO - #o.j.k.i.s.r.KotlinCompilerReferenceIndexService - initialized\n2022-08-02 15:57:42,185 [ 136498]   WARN - #o.j.k.i.s.r.KotlinCompilerReferenceIndexStorage - kotlin-data-container is not found\n2022-08-02 15:57:42,188 [ 136501]   INFO - #c.i.c.b.CompilerReferenceServiceBase - initialized\n2022-08-02 15:57:42,189 [ 136502]   INFO - #c.i.c.b.CompilerReferenceServiceBase - backward reference index reader doesn''t exist\n2022-08-02 15:57:42,246 [ 136559]   INFO - #c.i.c.i.CompilerUtil -  COMPILATION FINISHED (BUILD PROCESS); Errors: 0; warnings: 0 took 10962 ms: 0 min 10sec\n2022-08-02 15:57:42,844 [ 137157]   INFO - #c.i.c.s.BuildManager - BUILDER_PROCESS [stdout]: Build process started. Classpath: /mypath/.local/share/JetBrains/Toolbox/apps/IDEA-U/ch-0/221.5080.210/plugins/java/lib/jps-launcher.jar:/pathToJvm/jdk1.8.0_331/lib/tools.jar\n2022-08-02 15:57:43,034 [ 137347]   INFO - #c.i.p.u.a.AsyncProfilerConfigurationExtensionBase - start profiler from run configuration, add VM parameters: -agentpath:/tmp/libasyncProfiler.so=start,jfr,event=cpu,interval=1ms,jfrsync=profile,file=/mypath/_profiler/MySpringITClass.jfr\n2022-08-02 15:59:11,413 [ 225726]   INFO - #c.i.p.u.a.AsyncProfilerProcess - notifyStateChangedAsync: com.intellij.profiler.api.Attached@b3ae692 -&gt; com.intellij.profiler.api.ReadingData@73077c5e\n2022-08-02 15:59:11,429 [ 225742]   INFO - #c.i.p.u.a.AsyncProfilerProcess - notifyStateChangedAsync: com.intellij.profiler.api.ReadingData@73077c5e -&gt; com.intellij.profiler.api.ProfilerError@47982261\n\n</code></pre>\n"},{"tags":["java","arrays","regex","string","hashmap"],"comments":[{"owner":{"account_id":7970439,"reputation":2783,"user_id":6015339,"display_name":"Glains"},"score":1,"creation_date":1548880808,"post_id":54449061,"comment_id":95707066,"body_markdown":"From your spec, _FAIL_ should be named  _Wrong answer_ in your array initializers. This is not the solution to your problem, but a problem that might occur when not using enums.","body":"From your spec, <i>FAIL</i> should be named  <i>Wrong answer</i> in your array initializers. This is not the solution to your problem, but a problem that might occur when not using enums."},{"owner":{"account_id":9367772,"reputation":65,"user_id":6952090,"display_name":"user6952090"},"score":0,"creation_date":1548881468,"post_id":54449061,"comment_id":95707401,"body_markdown":"Not entirely relevant to the core issue at hand but ok,","body":"Not entirely relevant to the core issue at hand but ok,"},{"owner":{"account_id":9367772,"reputation":65,"user_id":6952090,"display_name":"user6952090"},"score":0,"creation_date":1548957351,"post_id":54449061,"comment_id":95740978,"body_markdown":"Edited the code to illustrate that the tests can be named differently... could be test1, test2a, test2b or stacktest1, stacktest2 so regex string has to be flexible.","body":"Edited the code to illustrate that the tests can be named differently... could be test1, test2a, test2b or stacktest1, stacktest2 so regex string has to be flexible."}],"answers":[{"tags":[],"owner":{"account_id":7970439,"reputation":2783,"user_id":6015339,"display_name":"Glains"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1548967004,"creation_date":1548885708,"answer_id":54450235,"question_id":54449061,"body_markdown":"If i have understood you correctly, a test case can either consist of a single test or multiple tests, formly speaking of a test suite.\r\n\r\nLets introduce the following two classes:\r\n\r\n    private static class TestSuiteResult {\r\n        private String name;\r\n        private List&lt;TestResult&gt; results = new ArrayList&lt;&gt;();\r\n\r\n        public TestSuiteResult(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public List&lt;TestResult&gt; getResults() {\r\n            return results;\r\n        }\r\n    }\r\n\r\n    private static class TestResult {\r\n        private String name;\r\n        private String result;\r\n\r\n        public TestResult(String name, String result) {\r\n            this.name = name;\r\n            this.result = result;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public String getResult() {\r\n            return result;\r\n        }\r\n    }\r\n\r\nNext, lets try to parse the input `String[] tests` and `String[] results` to above classes.\r\nThe regular expression `test(\\d*)([a-z])?` matches any input that start with `test`, followed by any number of digits, optionally followed by a character from a-z. The capturing groups are used to extract the needed pieces. \r\n\r\n    String regex = &quot;(\\\\w*?)(\\\\d*)([a-z])?&quot;;\r\n    Pattern pattern = Pattern.compile(regex);\r\n\r\n    Map&lt;String, TestResult&gt; testResults = new HashMap&lt;&gt;();\r\n    Map&lt;String, TestSuiteResult&gt; testSuiteResults = new HashMap&lt;&gt;();\r\n\r\n    for (int i = 0; i &lt; tests.length; i++) {\r\n\r\n        String test = tests[i];\r\n        Matcher matcher = pattern.matcher(test);\r\n\r\n        // check for illegal test name\r\n        if (!matcher.matches()) {\r\n            continue;\r\n        }\r\n\r\n        String name = matcher.group(1);\r\n        String digitPart = matcher.group(2);\r\n        String character = matcher.group(3);\r\n\r\n        if (character != null) {\r\n            // multi test\r\n            String suiteName = name + digitPart;\r\n            TestSuiteResult suite = testSuiteResults.get(digitPart);\r\n            TestSuiteResult suite = testSuiteResults.get(suiteName);\r\n            if (suite == null) {\r\n                suite = new TestSuiteResult(suiteName);\r\n                testSuiteResults.put(suite.getName(), suite);\r\n            }\r\n            String result = results[i];\r\n            TestResult multi = new TestResult(character, result);\r\n            suite.getResults().add(multi);\r\n        } else {\r\n            // single test\r\n            String result = results[i];\r\n            TestResult single = new TestResult(test, result);\r\n            testResults.put(single.getName(), single);\r\n        }\r\n    }\r\n\r\nNextup, we can calculate the total amount of tests and from the total amount of valid tests. I have considered a test suite as a single test here, which is only valid if all of its contained tests are valid.\r\n\r\n    int totalAmountOfTests = testResults.size() + testSuiteResults.size();\r\n\r\n    int validTests = 0;\r\n    for (Map.Entry&lt;String, TestResult&gt; entry : testResults.entrySet()) {\r\n        if (entry.getValue().getResult().equals(&quot;OK&quot;)) {\r\n            validTests++;\r\n        }\r\n    }\r\n    for (Map.Entry&lt;String, TestSuiteResult&gt; entry : testSuiteResults.entrySet()) {\r\n        List&lt;TestResult&gt; suiteResults = entry.getValue().getResults();\r\n        boolean valid = true;\r\n        for (TestResult suiteResult : suiteResults) {\r\n            if (!suiteResult.getResult().equals(&quot;OK&quot;)) {\r\n                valid = false;\r\n            }\r\n        }\r\n        if (valid) {\r\n            validTests++;\r\n        }\r\n    }\r\n\r\nNow, finally we can calculate the average amount of tests that passed. When casting `average` to an `int` we round to the lower digit.\r\n\r\n    double average = (double) totalAmountOfTests / validTests;\r\n    int averageRounded = (int) average;\r\n    \r\nThe complete, working example is available [here](https://gist.github.com/glains/ae507332b0296c59ca8c74c858fb5386).","title":"Average test score from result array with varying group sizes","body":"<p>If i have understood you correctly, a test case can either consist of a single test or multiple tests, formly speaking of a test suite.</p>\n\n<p>Lets introduce the following two classes:</p>\n\n<pre><code>private static class TestSuiteResult {\n    private String name;\n    private List&lt;TestResult&gt; results = new ArrayList&lt;&gt;();\n\n    public TestSuiteResult(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public List&lt;TestResult&gt; getResults() {\n        return results;\n    }\n}\n\nprivate static class TestResult {\n    private String name;\n    private String result;\n\n    public TestResult(String name, String result) {\n        this.name = name;\n        this.result = result;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getResult() {\n        return result;\n    }\n}\n</code></pre>\n\n<p>Next, lets try to parse the input <code>String[] tests</code> and <code>String[] results</code> to above classes.\nThe regular expression <code>test(\\d*)([a-z])?</code> matches any input that start with <code>test</code>, followed by any number of digits, optionally followed by a character from a-z. The capturing groups are used to extract the needed pieces. </p>\n\n<pre><code>String regex = \"(\\\\w*?)(\\\\d*)([a-z])?\";\nPattern pattern = Pattern.compile(regex);\n\nMap&lt;String, TestResult&gt; testResults = new HashMap&lt;&gt;();\nMap&lt;String, TestSuiteResult&gt; testSuiteResults = new HashMap&lt;&gt;();\n\nfor (int i = 0; i &lt; tests.length; i++) {\n\n    String test = tests[i];\n    Matcher matcher = pattern.matcher(test);\n\n    // check for illegal test name\n    if (!matcher.matches()) {\n        continue;\n    }\n\n    String name = matcher.group(1);\n    String digitPart = matcher.group(2);\n    String character = matcher.group(3);\n\n    if (character != null) {\n        // multi test\n        String suiteName = name + digitPart;\n        TestSuiteResult suite = testSuiteResults.get(digitPart);\n        TestSuiteResult suite = testSuiteResults.get(suiteName);\n        if (suite == null) {\n            suite = new TestSuiteResult(suiteName);\n            testSuiteResults.put(suite.getName(), suite);\n        }\n        String result = results[i];\n        TestResult multi = new TestResult(character, result);\n        suite.getResults().add(multi);\n    } else {\n        // single test\n        String result = results[i];\n        TestResult single = new TestResult(test, result);\n        testResults.put(single.getName(), single);\n    }\n}\n</code></pre>\n\n<p>Nextup, we can calculate the total amount of tests and from the total amount of valid tests. I have considered a test suite as a single test here, which is only valid if all of its contained tests are valid.</p>\n\n<pre><code>int totalAmountOfTests = testResults.size() + testSuiteResults.size();\n\nint validTests = 0;\nfor (Map.Entry&lt;String, TestResult&gt; entry : testResults.entrySet()) {\n    if (entry.getValue().getResult().equals(\"OK\")) {\n        validTests++;\n    }\n}\nfor (Map.Entry&lt;String, TestSuiteResult&gt; entry : testSuiteResults.entrySet()) {\n    List&lt;TestResult&gt; suiteResults = entry.getValue().getResults();\n    boolean valid = true;\n    for (TestResult suiteResult : suiteResults) {\n        if (!suiteResult.getResult().equals(\"OK\")) {\n            valid = false;\n        }\n    }\n    if (valid) {\n        validTests++;\n    }\n}\n</code></pre>\n\n<p>Now, finally we can calculate the average amount of tests that passed. When casting <code>average</code> to an <code>int</code> we round to the lower digit.</p>\n\n<pre><code>double average = (double) totalAmountOfTests / validTests;\nint averageRounded = (int) average;\n</code></pre>\n\n<p>The complete, working example is available <a href=\"https://gist.github.com/glains/ae507332b0296c59ca8c74c858fb5386\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":938378,"reputation":9,"user_id":966905,"display_name":"spyr01d"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650489978,"creation_date":1650485759,"answer_id":71945695,"question_id":54449061,"body_markdown":"So, the important part is task ID. Let&#39;s group answers by task id:  \r\n**1=[Wrong answer, Runtime error, OK], 2=[OK], 3=[Time limit exceeded]**\r\n\r\nNext we can convert answers to boolean if it&#39;s OK or not:  \r\n**1=[false, false, true], 2=[true], 3=[false]**\r\n\r\nThen reduce them:  \r\n**1=false, 2=true, 3=false**\r\n\r\nAnd calculate the final result:  \r\n**1 * 100 / 3**\r\n\r\nKotlin code:\r\n\r\n    fun solution(T: Array&lt;String&gt;, R: Array&lt;String&gt;): Int {\r\n        return T.asSequence()\r\n            .map { Regex(&quot;\\\\w+(\\\\d+)&quot;).find(it) }\r\n            .filterNotNull()\r\n            .map { it.destructured.component1().toInt() }\r\n            .zip(R.asSequence().map { it == &quot;OK&quot; })\r\n            .groupingBy { it.first }\r\n            .fold(true) { acc, el -&gt; acc &amp;&amp; el.second }\r\n            .let { map -&gt; map.values.count { it } * 100 / map.size }\r\n    }\r\n\r\n","title":"Average test score from result array with varying group sizes","body":"<p>So, the important part is task ID. Let's group answers by task id:<br />\n<strong>1=[Wrong answer, Runtime error, OK], 2=[OK], 3=[Time limit exceeded]</strong></p>\n<p>Next we can convert answers to boolean if it's OK or not:<br />\n<strong>1=[false, false, true], 2=[true], 3=[false]</strong></p>\n<p>Then reduce them:<br />\n<strong>1=false, 2=true, 3=false</strong></p>\n<p>And calculate the final result:<br />\n<strong>1 * 100 / 3</strong></p>\n<p>Kotlin code:</p>\n<pre><code>fun solution(T: Array&lt;String&gt;, R: Array&lt;String&gt;): Int {\n    return T.asSequence()\n        .map { Regex(&quot;\\\\w+(\\\\d+)&quot;).find(it) }\n        .filterNotNull()\n        .map { it.destructured.component1().toInt() }\n        .zip(R.asSequence().map { it == &quot;OK&quot; })\n        .groupingBy { it.first }\n        .fold(true) { acc, el -&gt; acc &amp;&amp; el.second }\n        .let { map -&gt; map.values.count { it } * 100 / map.size }\n}\n</code></pre>\n"}],"owner":{"account_id":9367772,"reputation":65,"user_id":6952090,"display_name":"user6952090"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4888,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1659448926,"creation_date":1548880297,"question_id":54449061,"body_markdown":"I am working on a problem where I have to calculate the average from a bunch of test results with the following criteria.\r\n-his program was tested on several test case and each test case has the following results..&quot;OK&quot;, &quot;Wrong answer&quot;, &quot;TimeOut&quot;, &quot;Runtime error&quot;\r\n-test cases were organized into groups numbered by consecutive natural numbers\r\n-his program scored points for a group only when the result of every test case in the group was &quot;OK&quot;\r\nfor instance if test case names are test1, test2a, test2b, test2c, test3, test4. In this case test2a, test2b, test2c all form one group and must all score OK to receive a collective point.\r\n\r\nWrite a function\r\n\r\n     \r\n    class Solution{\r\n    public int solution (String[] test, String[] result){}\r\n    }\r\n    //example:\r\n    test[0] = &quot;test1a&quot;,  result[0] = &quot;Wrong answer&quot;\r\n    test[1] = &quot;test2&quot;,  result[1] = &quot;OK&quot;\r\n    test[2] = &quot;test1b&quot;,  result[2] = &quot;Runtime error&quot;\r\n    test[3] = &quot;test1c&quot;,  result[0] = &quot;OK&quot;\r\n    test[4] = &quot;test3&quot;,  result[4] = &quot;Time limit exceeded&quot; \r\n    //result above is 33.\r\n\r\nAssume integer is within range 1-300\r\n-arrays test and result have the same length\r\n-every test case appears just once\r\n-test case are ordered by consecutive natural integers from 1.\r\n-test cases in groups containing at least two tests are differentiated by a lowercase suffix in alphabetical order from a. \r\n-each string in results contains one of &quot;OK&quot;, &quot;Wrong answer&quot;, &quot;TimeOut&quot;, &quot;Runtime error&quot; \r\n\r\n\r\nRight now I wrote code to strip the test String array and get the integers for each test group. Then I created an Integer, Integer HashMap where I check the integers I gathered after using regex and check to ensure all test cases in a group are &quot;OK&quot; before assigning a 100 to them\r\n\r\n\r\n    import java.util.*;\r\n    import java.lang.*;\r\n    import java.io.*;\r\n    /* Name of the class has to be &quot;Main&quot; only if the class is public. */\r\n    class Codechef\r\n    {\r\n\tpublic static int solution(String[] test, String[] result)\r\n\t{\r\n\t\tHashMap&lt;Integer, Integer&gt; scoreMap =  new HashMap&lt;Integer, Integer&gt;();\r\n\t\t\r\n\t\tint[] stripped = new int[test.length];\r\n\t\t\r\n\t\t//stripped the String of numbers..\r\n\t\tfor(int i = 0; i &lt; test.length;i++)\r\n\t\t{\r\n\t\t   stripped[i] = Integer.parseInt(test[i].replaceAll(&quot;[^0-9]&quot;, &quot;&quot;));\r\n        }\r\n\t\t\r\n\t\t//working with just the numbers from the test groups array\r\n\t\tfor(int i = 0; i &lt; stripped.length; i++)\r\n\t\t{\r\n\t\t\tif(scoreMap.containsKey(stripped[i]))\r\n\t\t\t{\r\n\t\t\t\tif(result[i].equals(&quot;OK&quot;))\r\n\t\t\t\t\tscoreMap.put(stripped[i], 100);\r\n\t\t\t\t\r\n\t\t\t\telse\r\n\t\t\t\t\tscoreMap.put(stripped[i], 0);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif(result[i].equals(&quot;OK&quot;))\r\n\t\t\t\t\tscoreMap.put(stripped[i], 100);\r\n\t\t\t\t\t\r\n\t\t\t\telse\r\n\t\t\t\t\tscoreMap.put(stripped[i], 0);\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tint correctAnswers = 0;\r\n\t\tfor(int val: scoreMap.values())\r\n\t\t{\r\n\t\t\tif(val == 100)\r\n\t\t\t\tcorrectAnswers++;\r\n\t\t}\r\n\t\t\r\n\t\tdouble avg =  correctAnswers/scoreMap.size() * 100;\r\n\t\t\r\n\t\treturn (int)Math.floor(avg); \r\n\t\t\r\n\t\t//return Math.floor(correctAnswers/scoreMap.size() * 100);\r\n\t\t\r\n\t}\r\n\r\n    \r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\t// your code goes here\r\n\t\tString[] test1 = {&quot;test1&quot;, &quot;test2a&quot;, &quot;test2b&quot;, &quot;test4&quot;, &quot;test2c&quot;, &quot;test3&quot;, &quot;test5&quot;, &quot;test6&quot;, &quot;test7&quot;};\r\n\t\tString[] results1 = {&quot;OK&quot;, &quot;OK&quot;, &quot;Wrong answer&quot;, &quot;OK&quot;, &quot;Wrong answer&quot;, &quot;Wrong answer&quot;, &quot;OK&quot;, &quot;TimeOut&quot;,&quot;Runtime error&quot;}; \r\n\t\tint average1 =  solution(test1, results1);\r\n\t\t\r\n        String[] test2 = {&quot;stackoverflow1&quot;, &quot;stackoverflow2a&quot;, &quot;stackoverflow2b&quot;, &quot;stackoverflow4&quot;, &quot;stackoverflow2c&quot;, &quot;stackoverflow3&quot;, &quot;stackoverflow5&quot;, &quot;stackoverflow6&quot;, &quot;stackoverflow7&quot;};\r\n        String[] results2 = {&quot;Runtime error&quot;, &quot;OK&quot;, &quot;Wrong answer&quot;, &quot;OK&quot;, &quot;TimeOut&quot;, &quot;Wrong answer&quot;, &quot;OK&quot;, &quot;Timeout&quot;,&quot;TimeOut&quot;};\r\n    \t\t\r\n\t\tint average2 =  solution(test2, results2);\r\n\t\t\r\n\t\tString[] test3 = {&quot;test1&quot;, &quot;test2a&quot;, &quot;test2b&quot;, &quot;test4&quot;, &quot;test2c&quot;, &quot;test3&quot;, &quot;test5&quot;, &quot;test6&quot;, &quot;test7&quot;};\r\n\t\tString[] results3 = {&quot;OK&quot;, &quot;OK&quot;, &quot;TimeOut&quot;, &quot;OK&quot;, &quot;TimeOut&quot;, &quot;OK&quot;, &quot;TimeOut&quot;, &quot;Runtime error&quot;,&quot;OK&quot;}; \r\n\t\tint average3 =  solution(test3, results3);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Avg1 = &quot; + average1);\r\n\t\tSystem.out.println(&quot;Avg2 = &quot; + average2);\r\n\t\tSystem.out.println(&quot;Avg3 = &quot; + average3);\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","title":"Average test score from result array with varying group sizes","body":"<p>I am working on a problem where I have to calculate the average from a bunch of test results with the following criteria.\n-his program was tested on several test case and each test case has the following results..\"OK\", \"Wrong answer\", \"TimeOut\", \"Runtime error\"\n-test cases were organized into groups numbered by consecutive natural numbers\n-his program scored points for a group only when the result of every test case in the group was \"OK\"\nfor instance if test case names are test1, test2a, test2b, test2c, test3, test4. In this case test2a, test2b, test2c all form one group and must all score OK to receive a collective point.</p>\n\n<p>Write a function</p>\n\n<pre><code>class Solution{\npublic int solution (String[] test, String[] result){}\n}\n//example:\ntest[0] = \"test1a\",  result[0] = \"Wrong answer\"\ntest[1] = \"test2\",  result[1] = \"OK\"\ntest[2] = \"test1b\",  result[2] = \"Runtime error\"\ntest[3] = \"test1c\",  result[0] = \"OK\"\ntest[4] = \"test3\",  result[4] = \"Time limit exceeded\" \n//result above is 33.\n</code></pre>\n\n<p>Assume integer is within range 1-300\n-arrays test and result have the same length\n-every test case appears just once\n-test case are ordered by consecutive natural integers from 1.\n-test cases in groups containing at least two tests are differentiated by a lowercase suffix in alphabetical order from a. \n-each string in results contains one of \"OK\", \"Wrong answer\", \"TimeOut\", \"Runtime error\" </p>\n\n<p>Right now I wrote code to strip the test String array and get the integers for each test group. Then I created an Integer, Integer HashMap where I check the integers I gathered after using regex and check to ensure all test cases in a group are \"OK\" before assigning a 100 to them</p>\n\n<pre><code>import java.util.*;\nimport java.lang.*;\nimport java.io.*;\n/* Name of the class has to be \"Main\" only if the class is public. */\nclass Codechef\n{\npublic static int solution(String[] test, String[] result)\n{\n    HashMap&lt;Integer, Integer&gt; scoreMap =  new HashMap&lt;Integer, Integer&gt;();\n\n    int[] stripped = new int[test.length];\n\n    //stripped the String of numbers..\n    for(int i = 0; i &lt; test.length;i++)\n    {\n       stripped[i] = Integer.parseInt(test[i].replaceAll(\"[^0-9]\", \"\"));\n    }\n\n    //working with just the numbers from the test groups array\n    for(int i = 0; i &lt; stripped.length; i++)\n    {\n        if(scoreMap.containsKey(stripped[i]))\n        {\n            if(result[i].equals(\"OK\"))\n                scoreMap.put(stripped[i], 100);\n\n            else\n                scoreMap.put(stripped[i], 0);\n        }\n\n        else\n        {\n            if(result[i].equals(\"OK\"))\n                scoreMap.put(stripped[i], 100);\n\n            else\n                scoreMap.put(stripped[i], 0);\n        }\n\n    }\n\n    int correctAnswers = 0;\n    for(int val: scoreMap.values())\n    {\n        if(val == 100)\n            correctAnswers++;\n    }\n\n    double avg =  correctAnswers/scoreMap.size() * 100;\n\n    return (int)Math.floor(avg); \n\n    //return Math.floor(correctAnswers/scoreMap.size() * 100);\n\n}\n\n\npublic static void main (String[] args) throws java.lang.Exception\n{\n    // your code goes here\n    String[] test1 = {\"test1\", \"test2a\", \"test2b\", \"test4\", \"test2c\", \"test3\", \"test5\", \"test6\", \"test7\"};\n    String[] results1 = {\"OK\", \"OK\", \"Wrong answer\", \"OK\", \"Wrong answer\", \"Wrong answer\", \"OK\", \"TimeOut\",\"Runtime error\"}; \n    int average1 =  solution(test1, results1);\n\n    String[] test2 = {\"stackoverflow1\", \"stackoverflow2a\", \"stackoverflow2b\", \"stackoverflow4\", \"stackoverflow2c\", \"stackoverflow3\", \"stackoverflow5\", \"stackoverflow6\", \"stackoverflow7\"};\n    String[] results2 = {\"Runtime error\", \"OK\", \"Wrong answer\", \"OK\", \"TimeOut\", \"Wrong answer\", \"OK\", \"Timeout\",\"TimeOut\"};\n\n    int average2 =  solution(test2, results2);\n\n    String[] test3 = {\"test1\", \"test2a\", \"test2b\", \"test4\", \"test2c\", \"test3\", \"test5\", \"test6\", \"test7\"};\n    String[] results3 = {\"OK\", \"OK\", \"TimeOut\", \"OK\", \"TimeOut\", \"OK\", \"TimeOut\", \"Runtime error\",\"OK\"}; \n    int average3 =  solution(test3, results3);\n\n    System.out.println(\"Avg1 = \" + average1);\n    System.out.println(\"Avg2 = \" + average2);\n    System.out.println(\"Avg3 = \" + average3);\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","spring","spring-boot","threadpool","spring-retry"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659448723,"creation_date":1659448723,"answer_id":73208855,"question_id":73208528,"body_markdown":"When interrupted, a `BackOffInterruptedException` is thrown to the caller so you can catch that.\r\n\r\n`spring-retry` itself does not manage threads; that&#39;s up to you.\r\n\r\nIt is completely thread-based so, yes, you can end up with many suspended threads unless you manage the work with, for example, a `ThreadPoolTaskExecutor`.\r\n","title":"Spring retry - Thread interruption handling","body":"<p>When interrupted, a <code>BackOffInterruptedException</code> is thrown to the caller so you can catch that.</p>\n<p><code>spring-retry</code> itself does not manage threads; that's up to you.</p>\n<p>It is completely thread-based so, yes, you can end up with many suspended threads unless you manage the work with, for example, a <code>ThreadPoolTaskExecutor</code>.</p>\n"}],"owner":{"account_id":6783782,"reputation":99,"user_id":5223207,"accept_rate":0,"display_name":"Sekki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":771,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73208855,"answer_count":1,"score":0,"last_activity_date":1659448723,"creation_date":1659447241,"question_id":73208528,"body_markdown":"I am using spring-retry v1.3.1 with @Retryable annotation and I have a few questions on its behaviour. Let&#39;s say that in my spring boot application I have a retry configuration that makes my application wait 1 hour before retrying. \r\nIf my application is killed (for example by kubernetes) while it was waiting in order to do a retry is there a way to catch it and do some operations before shutting down (logging for example)?\r\nAlso I&#39;m not sure how spring-retry is using threads, if I end up with many retry attempts is there a risk that it blocks the application because of too many threads? Is there a way to give a dedicate thread pool to retryable?","title":"Spring retry - Thread interruption handling","body":"<p>I am using spring-retry v1.3.1 with @Retryable annotation and I have a few questions on its behaviour. Let's say that in my spring boot application I have a retry configuration that makes my application wait 1 hour before retrying.\nIf my application is killed (for example by kubernetes) while it was waiting in order to do a retry is there a way to catch it and do some operations before shutting down (logging for example)?\nAlso I'm not sure how spring-retry is using threads, if I end up with many retry attempts is there a risk that it blocks the application because of too many threads? Is there a way to give a dedicate thread pool to retryable?</p>\n"},{"tags":["java","ehcache","jcache"],"answers":[{"tags":[],"owner":{"account_id":9346423,"reputation":1452,"user_id":6937584,"display_name":"cdalxndr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620246997,"creation_date":1620246997,"answer_id":67408435,"question_id":67400757,"body_markdown":"Workaround using aspectj:\r\n\r\n    @Aspect\r\n    public class CacheListenerAspect {\r\n        public Set&lt;BiConsumer&lt;CacheEventType, Cache&lt;?, ?&gt;&gt;&gt; listeners = new HashSet&lt;&gt;();\r\n\r\n        public enum CacheEventType {\r\n             CLEAR, CLOSE\r\n        }\r\n    \r\n        public void listenCacheEvent( BiConsumer&lt;CacheEventType, Cache&lt;?, ?&gt;&gt; listener ) {\r\n            listeners.add( listener );\r\n        }\r\n    \r\n        @Around(&quot;execution(* javax.cache.Cache.*(..))&quot;)\r\n        public Object around( ProceedingJoinPoint joinPoint ) throws Throwable {\r\n            getEventType( joinPoint.getSignature() )\r\n                    .ifPresent( ev -&gt; listeners.forEach( \r\n                            l -&gt; l.accept( ev, (Cache&lt;?, ?&gt;) joinPoint.getThis() ) ) );\r\n            return joinPoint.proceed();\r\n        }\r\n    \r\n        public Optional&lt;CacheEventType&gt; getEventType( Signature signature ) {\r\n            CacheEventType res = null;\r\n            if (signature.getName().equalsIgnoreCase( &quot;clear&quot; ))\r\n                res = CacheEventType.CLEAR;\r\n            if (signature.getName().equalsIgnoreCase( &quot;close&quot; ))\r\n                res = CacheEventType.CLOSE;\r\n            return Optional.ofNullable( res );\r\n        }\r\n    }\r\n\r\nUsage:\r\n\r\n    Aspects.aspectOf( CacheListenerAspect.class ).listenCacheEvent( this::myMethod );","title":"How to listen ehcache clear event?","body":"<p>Workaround using aspectj:</p>\n<pre><code>@Aspect\npublic class CacheListenerAspect {\n    public Set&lt;BiConsumer&lt;CacheEventType, Cache&lt;?, ?&gt;&gt;&gt; listeners = new HashSet&lt;&gt;();\n\n    public enum CacheEventType {\n         CLEAR, CLOSE\n    }\n\n    public void listenCacheEvent( BiConsumer&lt;CacheEventType, Cache&lt;?, ?&gt;&gt; listener ) {\n        listeners.add( listener );\n    }\n\n    @Around(&quot;execution(* javax.cache.Cache.*(..))&quot;)\n    public Object around( ProceedingJoinPoint joinPoint ) throws Throwable {\n        getEventType( joinPoint.getSignature() )\n                .ifPresent( ev -&gt; listeners.forEach( \n                        l -&gt; l.accept( ev, (Cache&lt;?, ?&gt;) joinPoint.getThis() ) ) );\n        return joinPoint.proceed();\n    }\n\n    public Optional&lt;CacheEventType&gt; getEventType( Signature signature ) {\n        CacheEventType res = null;\n        if (signature.getName().equalsIgnoreCase( &quot;clear&quot; ))\n            res = CacheEventType.CLEAR;\n        if (signature.getName().equalsIgnoreCase( &quot;close&quot; ))\n            res = CacheEventType.CLOSE;\n        return Optional.ofNullable( res );\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>Aspects.aspectOf( CacheListenerAspect.class ).listenCacheEvent( this::myMethod );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3233938,"reputation":23,"user_id":2728553,"accept_rate":50,"display_name":"nnn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659448436,"creation_date":1659252911,"answer_id":73181423,"question_id":67400757,"body_markdown":"in ehcache version 2.x, this was done elementarily through a listener;\r\n\r\n    cache.getCacheEventNotificationService().registerListener(new CacheEventListener() {\r\n\r\n       @Override\r\n       public void notifyElementRemoved(Ehcache cache, Element element) throws CacheException {\r\n       }\r\n\r\n       @Override\r\n       public void notifyElementPut(Ehcache cache, Element element) throws CacheException {\r\n       }\r\n\r\n       @Override\r\n       public void notifyElementUpdated(Ehcache cache, Element element) throws CacheException {\r\n       }\r\n\r\n       @Override\r\n       public void notifyElementExpired(Ehcache cache, Element element) {\r\n       }\r\n\r\n       @Override\r\n       public void notifyElementEvicted(Ehcache cache, Element element) {\r\n       }\r\n\r\n       @Override\r\n       public void notifyRemoveAll(Ehcache cache) {\r\n       }\r\n\r\n       @Override\r\n       public void dispose() {\r\n       }\r\n\r\n       @Override\r\n       public Object clone() throws CloneNotSupportedException {\r\n           throw new CloneNotSupportedException();\r\n       }\r\n    });\r\n\r\nit turns out in the 3.h version, there are no more such events and have to fiddle with aspects and other redundant code?\r\n","title":"How to listen ehcache clear event?","body":"<p>in ehcache version 2.x, this was done elementarily through a listener;</p>\n<pre><code>cache.getCacheEventNotificationService().registerListener(new CacheEventListener() {\n\n   @Override\n   public void notifyElementRemoved(Ehcache cache, Element element) throws CacheException {\n   }\n\n   @Override\n   public void notifyElementPut(Ehcache cache, Element element) throws CacheException {\n   }\n\n   @Override\n   public void notifyElementUpdated(Ehcache cache, Element element) throws CacheException {\n   }\n\n   @Override\n   public void notifyElementExpired(Ehcache cache, Element element) {\n   }\n\n   @Override\n   public void notifyElementEvicted(Ehcache cache, Element element) {\n   }\n\n   @Override\n   public void notifyRemoveAll(Ehcache cache) {\n   }\n\n   @Override\n   public void dispose() {\n   }\n\n   @Override\n   public Object clone() throws CloneNotSupportedException {\n       throw new CloneNotSupportedException();\n   }\n});\n</code></pre>\n<p>it turns out in the 3.h version, there are no more such events and have to fiddle with aspects and other redundant code?</p>\n"}],"owner":{"account_id":9346423,"reputation":1452,"user_id":6937584,"display_name":"cdalxndr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":502,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659448436,"creation_date":1620215628,"question_id":67400757,"body_markdown":"I want to be notified when a whole cache region is cleared.\r\n\r\nHow can I register a listener for this type of event?\r\n\r\n[Cache event listeners][1] are used only for entry scope operation, but I want to listen for whole cache clear event.\r\n\r\n\r\n  [1]: https://www.ehcache.org/documentation/3.2/cache-event-listeners.html","title":"How to listen ehcache clear event?","body":"<p>I want to be notified when a whole cache region is cleared.</p>\n<p>How can I register a listener for this type of event?</p>\n<p><a href=\"https://www.ehcache.org/documentation/3.2/cache-event-listeners.html\" rel=\"nofollow noreferrer\">Cache event listeners</a> are used only for entry scope operation, but I want to listen for whole cache clear event.</p>\n"},{"tags":["java","spring","spring-boot","maven","dependencies"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1658936398,"post_id":73140559,"comment_id":129177489,"body_markdown":"`ClassNotFoundException` is a _runtime_ problem. You&#39;re not launching your program correctly.","body":"<code>ClassNotFoundException</code> is a <i>runtime</i> problem. You&#39;re not launching your program correctly."},{"owner":{"account_id":11108417,"reputation":11,"user_id":8154965,"display_name":"mehhto"},"score":0,"creation_date":1658939665,"post_id":73140559,"comment_id":129178791,"body_markdown":"@chrylis-cautiouslyoptimistic- Probably, that&#39;s why I&#39;m asking here. As the details of the ClassNotFoundException it says that it cannot find a class from external library dependency which is extended in my library. When I add this external dependency directly to Main app,  it runs and work normally. I just wanted, if it is possible, to not add dependency twice - in main app and my library","body":"@chrylis-cautiouslyoptimistic- Probably, that&#39;s why I&#39;m asking here. As the details of the ClassNotFoundException it says that it cannot find a class from external library dependency which is extended in my library. When I add this external dependency directly to Main app,  it runs and work normally. I just wanted, if it is possible, to not add dependency twice - in main app and my library"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1658943341,"post_id":73140559,"comment_id":129180121,"body_markdown":"_Transitive dependencies_ are normally included, but you didn&#39;t provide enough information for us to identify your problem.","body":"<i>Transitive dependencies</i> are normally included, but you didn&#39;t provide enough information for us to identify your problem."},{"owner":{"account_id":11108417,"reputation":11,"user_id":8154965,"display_name":"mehhto"},"score":0,"creation_date":1658947278,"post_id":73140559,"comment_id":129181398,"body_markdown":"@chrylis-cautiouslyoptimistic- Thank you for your answer. I&#39;ve edited my question and added more details. If it&#39;s missing any important data please let me know. Thank you in advance!","body":"@chrylis-cautiouslyoptimistic- Thank you for your answer. I&#39;ve edited my question and added more details. If it&#39;s missing any important data please let me know. Thank you in advance!"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1658947694,"post_id":73140559,"comment_id":129181510,"body_markdown":"_How_ do you run your application? What specific steps do you take to launch it?","body":"<i>How</i> do you run your application? What specific steps do you take to launch it?"},{"owner":{"account_id":11108417,"reputation":11,"user_id":8154965,"display_name":"mehhto"},"score":0,"creation_date":1658948850,"post_id":73140559,"comment_id":129181889,"body_markdown":"@chrylis-cautiouslyoptimistic- it&#39;s a Spring boot app and i&#39;m testing it locally using intellij. On prod mvn clean package and then java - jar app.jar","body":"@chrylis-cautiouslyoptimistic- it&#39;s a Spring boot app and i&#39;m testing it locally using intellij. On prod mvn clean package and then java - jar app.jar"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1658986388,"post_id":73140559,"comment_id":129189023,"body_markdown":"Did you include the `spring-boot-maven-plugin` in your `build` section?","body":"Did you include the <code>spring-boot-maven-plugin</code> in your <code>build</code> section?"},{"owner":{"account_id":11108417,"reputation":11,"user_id":8154965,"display_name":"mehhto"},"score":0,"creation_date":1658987360,"post_id":73140559,"comment_id":129189207,"body_markdown":"Yes, in main app yes.","body":"Yes, in main app yes."}],"answers":[{"tags":[],"owner":{"account_id":11108417,"reputation":11,"user_id":8154965,"display_name":"mehhto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659448312,"creation_date":1659448312,"answer_id":73208771,"question_id":73140559,"body_markdown":"The issue in my case was that I was using wrong maven command to compile my ```Library```:\r\n\r\n```mvn install:install-file [...]```\r\n\r\nWhen using above ```.pom``` file has no dependencies which where included in ```Library```. \r\n\r\nWhen changed to ```mvn install``` it started working well - ```.pom``` file started to look like it should and ```Main App``` recognized transient dependencies.","title":"Is it possible in main app to use dependancies from added dependancies?","body":"<p>The issue in my case was that I was using wrong maven command to compile my <code>Library</code>:</p>\n<p><code>mvn install:install-file [...]</code></p>\n<p>When using above <code>.pom</code> file has no dependencies which where included in <code>Library</code>.</p>\n<p>When changed to <code>mvn install</code> it started working well - <code>.pom</code> file started to look like it should and <code>Main App</code> recognized transient dependencies.</p>\n"}],"owner":{"account_id":11108417,"reputation":11,"user_id":8154965,"display_name":"mehhto"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73208771,"answer_count":1,"score":-1,"last_activity_date":1659448312,"creation_date":1658935052,"question_id":73140559,"body_markdown":"The problem I have is that I have a ```Library``` which I want to use in the ```Main App```. In the ```Library``` I have added external libraries, and the question is, is it possible to use directly code of this external libraries in ```Main App``` despite of that these libraries are not added directly to ```Main App``` but to my ```Library```? \r\n\r\nI&#39;ve added my ```Library``` to ```pom.xml``` in ```Main App``` and I can use the code that is written there, but I have problem using ```Library``` classes that extends external library classes, because Spring throws ```ClassNotFoundException```\r\n\r\nI&#39;ve tried ```@ComponentScan``` in ```Main App``` and as argument I passed the main package of ```Library``` (```com.project.common.starter```), but it helped only with Components of the ```Library```, but no external ones\r\n\r\n---***EDIT:***  \r\nmy ***Library*** pom.xml:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.project.starter&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;project-commons-starter&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;project-commons-starter&lt;/name&gt;\r\n\t&lt;description&gt;project-commons-starter&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.external.library&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;external-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\nmy ***Main App*** pom.xml:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.project&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;project-app&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;main-app-name&lt;/name&gt;\r\n\t&lt;description&gt;main-app-desc&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t...\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.project.starter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;project-commons-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t...\r\n&lt;/project&gt;\r\n```\r\nClass in ***Library*** that probably causes problem:\r\n```java\r\npackage com.project.starter.service;\r\n\r\nimport com.external.ExternalLibraryProcessor;\r\nimport org.slf4j.MDC;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class LibraryProcessor implements ExternalLibraryProcessor {\r\n\r\n    @Override\r\n    public void process() {\r\n       String context = MDC.get(ContextUtils.REQUEST_CONTEXT)      \r\n       doSmth...\r\n    }\r\n}\r\n```\r\nmy ***MainPortalApplication*** :\r\n```java\r\npackage com.project\r\n\r\n@SpringBootApplication\r\n@ComponentScan(basePackages = {&quot;com.project&quot;,&quot;com.project.starter&quot;})\r\npublic class MainApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MainApplication.class, args);\r\n       \r\n    }\r\n}\r\n```\r\nContextUtils.class:\r\n```java\r\npublic class ContextUtils {\r\n\r\n    private ContextUtils() {\r\n    }\r\n    public static final String REQUEST_CONTEXT = &quot;requestContext&quot;;\r\n}\r\n```\r\n\r\nWhen I run application I get:\r\n```\r\nException encountered during context initialization - cancelling refresh attempt:\r\norg.springframework.beans.factory.BeanDefinitionStoreException: \r\nFailed to read candidate component class: URL [jar:file:/home/***/.m2/repository/com/project/project-commons-starter/0.0.1/project-commons-starter-0.0.1.jar!/com/project/starter/commons/ContextUtils.class];\r\nnested exception is \r\norg.springframework.beans.factory.CannotLoadBeanClassException: Error loading class [com.project.starter.service.LibraryProcessor] for bean with name &#39;libraryProcessor&#39; defined in URL [jar:file:/home/***/.m2/repository/com/project/project-commons-starter/0.0.1/project-commons-starter-0.0.1.jar!/com/project/starter/service/LibraryProcessor.class]: problem with class file or dependent class; \r\nnested exception is java.lang.NoClassDefFoundError: com/external/library/ExternalLibraryProcessor\r\n```","title":"Is it possible in main app to use dependancies from added dependancies?","body":"<p>The problem I have is that I have a <code>Library</code> which I want to use in the <code>Main App</code>. In the <code>Library</code> I have added external libraries, and the question is, is it possible to use directly code of this external libraries in <code>Main App</code> despite of that these libraries are not added directly to <code>Main App</code> but to my <code>Library</code>?</p>\n<p>I've added my <code>Library</code> to <code>pom.xml</code> in <code>Main App</code> and I can use the code that is written there, but I have problem using <code>Library</code> classes that extends external library classes, because Spring throws <code>ClassNotFoundException</code></p>\n<p>I've tried <code>@ComponentScan</code> in <code>Main App</code> and as argument I passed the main package of <code>Library</code> (<code>com.project.common.starter</code>), but it helped only with Components of the <code>Library</code>, but no external ones</p>\n<p>---<em><strong>EDIT:</strong></em><br />\nmy <em><strong>Library</strong></em> pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.project.starter&lt;/groupId&gt;\n    &lt;artifactId&gt;project-commons-starter&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;project-commons-starter&lt;/name&gt;\n    &lt;description&gt;project-commons-starter&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.external.library&lt;/groupId&gt;\n            &lt;artifactId&gt;external-starter&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>my <em><strong>Main App</strong></em> pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.project&lt;/groupId&gt;\n    &lt;artifactId&gt;project-app&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;main-app-name&lt;/name&gt;\n    &lt;description&gt;main-app-desc&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        ...\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.project.starter&lt;/groupId&gt;\n            &lt;artifactId&gt;project-commons-starter&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    ...\n&lt;/project&gt;\n</code></pre>\n<p>Class in <em><strong>Library</strong></em> that probably causes problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.project.starter.service;\n\nimport com.external.ExternalLibraryProcessor;\nimport org.slf4j.MDC;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class LibraryProcessor implements ExternalLibraryProcessor {\n\n    @Override\n    public void process() {\n       String context = MDC.get(ContextUtils.REQUEST_CONTEXT)      \n       doSmth...\n    }\n}\n</code></pre>\n<p>my <em><strong>MainPortalApplication</strong></em> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.project\n\n@SpringBootApplication\n@ComponentScan(basePackages = {&quot;com.project&quot;,&quot;com.project.starter&quot;})\npublic class MainApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(MainApplication.class, args);\n       \n    }\n}\n</code></pre>\n<p>ContextUtils.class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ContextUtils {\n\n    private ContextUtils() {\n    }\n    public static final String REQUEST_CONTEXT = &quot;requestContext&quot;;\n}\n</code></pre>\n<p>When I run application I get:</p>\n<pre><code>Exception encountered during context initialization - cancelling refresh attempt:\norg.springframework.beans.factory.BeanDefinitionStoreException: \nFailed to read candidate component class: URL [jar:file:/home/***/.m2/repository/com/project/project-commons-starter/0.0.1/project-commons-starter-0.0.1.jar!/com/project/starter/commons/ContextUtils.class];\nnested exception is \norg.springframework.beans.factory.CannotLoadBeanClassException: Error loading class [com.project.starter.service.LibraryProcessor] for bean with name 'libraryProcessor' defined in URL [jar:file:/home/***/.m2/repository/com/project/project-commons-starter/0.0.1/project-commons-starter-0.0.1.jar!/com/project/starter/service/LibraryProcessor.class]: problem with class file or dependent class; \nnested exception is java.lang.NoClassDefFoundError: com/external/library/ExternalLibraryProcessor\n</code></pre>\n"},{"tags":["java","python","math","addition","subtraction"],"comments":[{"owner":{"account_id":7380656,"reputation":1500,"user_id":5617485,"display_name":"tsamridh86"},"score":0,"creation_date":1604402101,"post_id":64661746,"comment_id":114331005,"body_markdown":"you&#39;ll need to use `abs` and `%` ( modulo ) in python to achieve this. What have you tried so far?","body":"you&#39;ll need to use <code>abs</code> and <code>%</code> ( modulo ) in python to achieve this. What have you tried so far?"},{"owner":{"account_id":14130299,"reputation":1677,"user_id":10208481,"display_name":"Serial Lazer"},"score":0,"creation_date":1604402361,"post_id":64661746,"comment_id":114331090,"body_markdown":"Why is 20+31 = 1 ?? Shouldnt it be 19 ?","body":"Why is 20+31 = 1 ?? Shouldnt it be 19 ?"},{"owner":{"account_id":3681140,"reputation":16843,"user_id":3066077,"display_name":"DarrylG"},"score":0,"creation_date":1604402492,"post_id":64661746,"comment_id":114331151,"body_markdown":"This is simply (a + b ) % 50, or (a - b) % 50, where a, b are the numbers in the expressions, and the operations are &#39;+&#39; or &#39;-&#39;.","body":"This is simply (a + b ) % 50, or (a - b) % 50, where a, b are the numbers in the expressions, and the operations are &#39;+&#39; or &#39;-&#39;."},{"owner":{"account_id":14130299,"reputation":1677,"user_id":10208481,"display_name":"Serial Lazer"},"score":0,"creation_date":1604402639,"post_id":64661746,"comment_id":114331220,"body_markdown":"I think the question is a little more tricky because of `If it oversteps or understeps the boundary it will circle back to the other boundary.`\n\nI am still not sure how `20+31 = 1` in the above example :/","body":"I think the question is a little more tricky because of <code>If it oversteps or understeps the boundary it will circle back to the other boundary.</code>  I am still not sure how <code>20+31 = 1</code> in the above example :/"},{"owner":{"account_id":9263749,"reputation":20278,"user_id":6879826,"accept_rate":80,"display_name":"ad absurdum"},"score":0,"creation_date":1604403340,"post_id":64661746,"comment_id":114331503,"body_markdown":"If the min of the range is 10, and the max is 50, shouldn&#39;t 20 + 31 be 10? Shouldn&#39;t 40 + 20 = 50 + 1 + 9 = 19?","body":"If the min of the range is 10, and the max is 50, shouldn&#39;t 20 + 31 be 10? Shouldn&#39;t 40 + 20 = 50 + 1 + 9 = 19?"},{"owner":{"account_id":9263749,"reputation":20278,"user_id":6879826,"accept_rate":80,"display_name":"ad absurdum"},"score":0,"creation_date":1604403585,"post_id":64661746,"comment_id":114331587,"body_markdown":"@SerialLazer -- why 19? 20 + 31 = 20 + 30 + 1 = 50 + 1 = 10, since &quot;_If it oversteps or understeps the boundary it will circle back to the other boundary,_&quot; and the other boundary is 10.","body":"@SerialLazer -- why 19? 20 + 31 = 20 + 30 + 1 = 50 + 1 = 10, since &quot;<i>If it oversteps or understeps the boundary it will circle back to the other boundary,</i>&quot; and the other boundary is 10."},{"owner":{"account_id":14130299,"reputation":1677,"user_id":10208481,"display_name":"Serial Lazer"},"score":0,"creation_date":1604403734,"post_id":64661746,"comment_id":114331636,"body_markdown":"@exnihilo honestly the question is quite vague and ill-formed :)\nThere could be multiple definitions of circle back to the other boundary.\nMy assumption was how much ever it goes outside the boundary, it rebounds back :D","body":"@exnihilo honestly the question is quite vague and ill-formed :) There could be multiple definitions of circle back to the other boundary. My assumption was how much ever it goes outside the boundary, it rebounds back :D"},{"owner":{"account_id":9263749,"reputation":20278,"user_id":6879826,"accept_rate":80,"display_name":"ad absurdum"},"score":0,"creation_date":1604403816,"post_id":64661746,"comment_id":114331668,"body_markdown":"@SerialLazer -- that doesn&#39;t make a lot of sense, but neither does the question.","body":"@SerialLazer -- that doesn&#39;t make a lot of sense, but neither does the question."}],"answers":[{"tags":[],"owner":{"account_id":7380656,"reputation":1500,"user_id":5617485,"display_name":"tsamridh86"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604402599,"creation_date":1604402599,"answer_id":64661898,"question_id":64661746,"body_markdown":"Try this in python:\r\n\r\n    ans = abs(a + b) % 50 \r\n\r\nYou need to pass `a` and `b` as negative numbers, if you want to do a substraction. \r\n","title":"How to add or subtract within a certain range","body":"<p>Try this in python:</p>\n<pre><code>ans = abs(a + b) % 50 \n</code></pre>\n<p>You need to pass <code>a</code> and <code>b</code> as negative numbers, if you want to do a substraction.</p>\n"},{"tags":[],"owner":{"account_id":919856,"reputation":649,"user_id":951739,"accept_rate":75,"display_name":"knowingpark"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604403951,"creation_date":1604403951,"answer_id":64662228,"question_id":64661746,"body_markdown":"    # define the range\r\n    start = 0\r\n    end = 93\r\n    \r\n    #  this function accepts positive and negative numbers in x\r\n    def mover(current_place, x):\r\n        locate = current_place + x\r\n        locate = locate % (end-start) # if x &gt; the range\r\n        if locate &gt; end:\r\n            locate = locate - end\r\n        if locate &lt; start:\r\n            locate = locate + end\r\n        return locate\r\n    \r\n    \r\n    if __name__ == &quot;__main__&quot;:\r\n        current_place = 50\r\n        print(current_place) #50\r\n        current_place = mover(current_place, 10)\r\n        print(current_place) #60\r\n        current_place = mover(current_place, -20)\r\n        print(current_place) #40\r\n        current_place = mover(current_place, -50)\r\n        print(current_place) #83\r\n        current_place = mover(current_place, 220)\r\n        print(current_place) #24","title":"How to add or subtract within a certain range","body":"<pre><code># define the range\nstart = 0\nend = 93\n\n#  this function accepts positive and negative numbers in x\ndef mover(current_place, x):\n    locate = current_place + x\n    locate = locate % (end-start) # if x &gt; the range\n    if locate &gt; end:\n        locate = locate - end\n    if locate &lt; start:\n        locate = locate + end\n    return locate\n\n\nif __name__ == &quot;__main__&quot;:\n    current_place = 50\n    print(current_place) #50\n    current_place = mover(current_place, 10)\n    print(current_place) #60\n    current_place = mover(current_place, -20)\n    print(current_place) #40\n    current_place = mover(current_place, -50)\n    print(current_place) #83\n    current_place = mover(current_place, 220)\n    print(current_place) #24\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9967981,"reputation":125,"user_id":7375080,"accept_rate":50,"display_name":"karldegen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604404443,"creation_date":1604404443,"answer_id":64662357,"question_id":64661746,"body_markdown":"I&#39;m afraid we have to add more specific information to your question:\r\n - is the boundary inclusive or exclusive?\r\n - are we talking abount only interger numbers or floating numbers?\r\n\r\nIf you want to use your routine as library function for many purposes, it&#39;s maybe a good idea to define one end as inclusive and the other as exclusive.\r\n\r\nThe following (incomplete) Java program shows the direction of solution as well as the problem with boundaries: whenever the boundary is hit, it flips to other end of your value frame:\r\n\r\n    public class FramedAddSub {\r\n\r\n\tint min;\r\n\tint max;\r\n\tint value;\r\n\r\n\tpublic FramedAddSub(int min, int max, int value) {\r\n\t\tthis.min = min;\r\n\t\tthis.max = max;\r\n\t\tthis.value = value;\r\n\t}\r\n\r\n\tpublic FramedAddSub add(int toAdd) {\r\n\t\tfinal int diff = max - min;\r\n\r\n\t\tif (toAdd &gt;= 0) {\r\n\t\t\t// step 1: norm to zero\r\n\t\t\tvalue -= min;\r\n\r\n\t\t\t// step 2: rest of division\r\n\t\t\tvalue = (value + toAdd) % diff;\r\n\r\n\t\t\t// step 3: re-norm to old offset\r\n\t\t\tvalue += min;\r\n\t\t} else {\r\n\t\t\t// step 1: norm to zero from other end\r\n\t\t\tvalue -= max;\r\n\t\t\t\r\n\t\t\t// step 2:\r\n\t\t\tvalue = (value + toAdd) % diff;\r\n\t\t\t\r\n\t\t\t// step 3: re-norm back\r\n\t\t\tvalue += max;\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tFramedAddSub test = new FramedAddSub(20, 50, 20);\r\n\r\n\t\tSystem.out.println(&quot;start: &quot; + test.value);\r\n\t\ttest.add(10);\r\n\t\tSystem.out.println(&quot;+10: &quot; + test.value);\r\n\t\ttest.add(20);\r\n\t\tSystem.out.println(&quot;+20: &quot; + test.value);\r\n\t\ttest.add(1);\r\n\t\tSystem.out.println(&quot;+1: &quot; + test.value);\r\n\t\ttest.add(30);\r\n\t\tSystem.out.println(&quot;+30 should just turn around circle: &quot; + test.value);\r\n\t\ttest.add(-1);\r\n\t\tSystem.out.println(&quot;-1: &quot; + test.value);\r\n\t\ttest.add(-1);\r\n\t\tSystem.out.println(&quot;-1: &quot; + test.value);\r\n\t\ttest.add(-30);\r\n\t\tSystem.out.println(&quot;-30 should just turn around circle: &quot; + test.value);\r\n\r\n\t }\r\n    }\r\n\r\n\r\n","title":"How to add or subtract within a certain range","body":"<p>I'm afraid we have to add more specific information to your question:</p>\n<ul>\n<li>is the boundary inclusive or exclusive?</li>\n<li>are we talking abount only interger numbers or floating numbers?</li>\n</ul>\n<p>If you want to use your routine as library function for many purposes, it's maybe a good idea to define one end as inclusive and the other as exclusive.</p>\n<p>The following (incomplete) Java program shows the direction of solution as well as the problem with boundaries: whenever the boundary is hit, it flips to other end of your value frame:</p>\n<pre><code>public class FramedAddSub {\n\nint min;\nint max;\nint value;\n\npublic FramedAddSub(int min, int max, int value) {\n    this.min = min;\n    this.max = max;\n    this.value = value;\n}\n\npublic FramedAddSub add(int toAdd) {\n    final int diff = max - min;\n\n    if (toAdd &gt;= 0) {\n        // step 1: norm to zero\n        value -= min;\n\n        // step 2: rest of division\n        value = (value + toAdd) % diff;\n\n        // step 3: re-norm to old offset\n        value += min;\n    } else {\n        // step 1: norm to zero from other end\n        value -= max;\n        \n        // step 2:\n        value = (value + toAdd) % diff;\n        \n        // step 3: re-norm back\n        value += max;\n    }\n\n    return this;\n}\n\npublic static void main(String[] args) {\n    FramedAddSub test = new FramedAddSub(20, 50, 20);\n\n    System.out.println(&quot;start: &quot; + test.value);\n    test.add(10);\n    System.out.println(&quot;+10: &quot; + test.value);\n    test.add(20);\n    System.out.println(&quot;+20: &quot; + test.value);\n    test.add(1);\n    System.out.println(&quot;+1: &quot; + test.value);\n    test.add(30);\n    System.out.println(&quot;+30 should just turn around circle: &quot; + test.value);\n    test.add(-1);\n    System.out.println(&quot;-1: &quot; + test.value);\n    test.add(-1);\n    System.out.println(&quot;-1: &quot; + test.value);\n    test.add(-30);\n    System.out.println(&quot;-30 should just turn around circle: &quot; + test.value);\n\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24423204,"reputation":11,"user_id":18349093,"display_name":"Kertib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659448041,"creation_date":1659440450,"answer_id":73206928,"question_id":64661746,"body_markdown":"I had the same problem and I use this solution for integers.\r\n\r\n( ( (**X** &amp;#177; **Y**) - **MaximumValue**  ) % ( **MaximumValue** - **MinimumValue** ) ) + **MinimumValue** \r\n\r\n&lt;sub&gt;% : modulo/reminder operator&lt;/sub&gt;\r\n\r\n**Update:**\r\n\r\nThe expression above works perfectly on Excel, but according to &lt;a href=&quot;https://support.microsoft.com/en-us/office/mod-function-9b6cd169-b6ee-406a-a97b-edf2a9dc24f3&quot;&gt;Microsoft&lt;/a&gt; it calculates the modulo like this\r\n\r\nMOD(n, d) = n - d*INT(n/d)\r\n\r\nCombine this two we got\r\n\r\n((**X**+**Y**)-**Mx**)-(**Mx**-**Mn**)*Math.floor(((**X**+**Y**)-**Mx**)/(**Mx**-**Mn**))+**Mn**\r\n\r\n&lt;sub&gt;Mx: MaximumValue&lt;/sub&gt;&lt;br/&gt;\r\n&lt;sup&gt;Mn: MinimumValue&lt;/sup&gt;\r\n\r\n","title":"How to add or subtract within a certain range","body":"<p>I had the same problem and I use this solution for integers.</p>\n<p>( ( (<strong>X</strong> ± <strong>Y</strong>) - <strong>MaximumValue</strong>  ) % ( <strong>MaximumValue</strong> - <strong>MinimumValue</strong> ) ) + <strong>MinimumValue</strong></p>\n<p><sub>% : modulo/reminder operator</sub></p>\n<p><strong>Update:</strong></p>\n<p>The expression above works perfectly on Excel, but according to <a href=\"https://support.microsoft.com/en-us/office/mod-function-9b6cd169-b6ee-406a-a97b-edf2a9dc24f3\" rel=\"nofollow noreferrer\">Microsoft</a> it calculates the modulo like this</p>\n<p>MOD(n, d) = n - d*INT(n/d)</p>\n<p>Combine this two we got</p>\n<p>((<strong>X</strong>+<strong>Y</strong>)-<strong>Mx</strong>)-(<strong>Mx</strong>-<strong>Mn</strong>)*Math.floor(((<strong>X</strong>+<strong>Y</strong>)-<strong>Mx</strong>)/(<strong>Mx</strong>-<strong>Mn</strong>))+<strong>Mn</strong></p>\n<p><sub>Mx: MaximumValue</sub><br/>\n<sup>Mn: MinimumValue</sup></p>\n"}],"owner":{"account_id":11972067,"reputation":153,"user_id":11578007,"display_name":"ScottBot10"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":729,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":4,"score":-2,"last_activity_date":1659448041,"creation_date":1604402000,"question_id":64661746,"body_markdown":"I am trying to add numbers but keep it within a range. If it oversteps or understeps the boundary it will circle back to the other boundary.\r\n\r\nExamples:\r\n\r\nMin: 10\r\nMax: 50\r\n\r\n - 20 + 10 = 30\r\n - 20 + 30 = 50 (or 0 idrk)\r\n - 20 + 31 = 1\r\n - 40 + 20 = 10\r\n - 40 + 70 = 10\r\n - 40 - 10 = 30\r\n - 10 - 30 = 30\r\n - 10 - 20 = 40\r\n - 10 - 70 = 40\r\n\r\nI am looking for two functions, one to add, one to subtract. I don&#39;t really care which language but python or java is preferred. Thanks for any help!","title":"How to add or subtract within a certain range","body":"<p>I am trying to add numbers but keep it within a range. If it oversteps or understeps the boundary it will circle back to the other boundary.</p>\n<p>Examples:</p>\n<p>Min: 10\nMax: 50</p>\n<ul>\n<li>20 + 10 = 30</li>\n<li>20 + 30 = 50 (or 0 idrk)</li>\n<li>20 + 31 = 1</li>\n<li>40 + 20 = 10</li>\n<li>40 + 70 = 10</li>\n<li>40 - 10 = 30</li>\n<li>10 - 30 = 30</li>\n<li>10 - 20 = 40</li>\n<li>10 - 70 = 40</li>\n</ul>\n<p>I am looking for two functions, one to add, one to subtract. I don't really care which language but python or java is preferred. Thanks for any help!</p>\n"},{"tags":["java","arrays","list"],"comments":[{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":0,"creation_date":1659443538,"post_id":73207542,"comment_id":129291765,"body_markdown":"You want to *append* a string from the list to the end of the `data` array? Or you want to set `data[4]` to a string from the list? What have you tried? What is the problem with your attempt?","body":"You want to <i>append</i> a string from the list to the end of the <code>data</code> array? Or you want to set <code>data[4]</code> to a string from the list? What have you tried? What is the problem with your attempt?"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1659443723,"post_id":73207542,"comment_id":129291845,"body_markdown":"There is certainly at least &quot;a&quot; way to accomplish that. More important is the question: what have you tried yourself? We can&#39;t consicely answer this as it stands, as there are too many open possibilities, and any answer would have a lot of details to guess.","body":"There is certainly at least &quot;a&quot; way to accomplish that. More important is the question: what have you tried yourself? We can&#39;t consicely answer this as it stands, as there are too many open possibilities, and any answer would have a lot of details to guess."},{"owner":{"account_id":24666805,"reputation":29,"user_id":19384320,"display_name":"Costas Ginos"},"score":0,"creation_date":1659444099,"post_id":73207542,"comment_id":129291995,"body_markdown":"Hello sorry for not explaining that well. @Someprogrammerdude I want to accomplish the first thing you said. I have tried a lot of ways to do it, mostly with for loops but it seems that it doesn&#39;t work...","body":"Hello sorry for not explaining that well. @Someprogrammerdude I want to accomplish the first thing you said. I have tried a lot of ways to do it, mostly with for loops but it seems that it doesn&#39;t work..."},{"owner":{"account_id":196869,"reputation":402535,"user_id":440558,"accept_rate":75,"display_name":"Some programmer dude"},"score":0,"creation_date":1659444209,"post_id":73207542,"comment_id":129292041,"body_markdown":"Considering that you create an array of five elements, and populate only four of them, I would actually have expected the second thing: To just assign a string to `data[4]`.","body":"Considering that you create an array of five elements, and populate only four of them, I would actually have expected the second thing: To just assign a string to <code>data[4]</code>."},{"owner":{"account_id":24666805,"reputation":29,"user_id":19384320,"display_name":"Costas Ginos"},"score":0,"creation_date":1659444369,"post_id":73207542,"comment_id":129292103,"body_markdown":"@Someprogrammerdude ok if that is the most efficient way I don&#39;t mind..","body":"@Someprogrammerdude ok if that is the most efficient way I don&#39;t mind.."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1659448183,"post_id":73207542,"comment_id":129293704,"body_markdown":"@CostasGinos Have you considered writing a class rather than keeping a string array with elements which seem to be related properties?","body":"@CostasGinos Have you considered writing a class rather than keeping a string array with elements which seem to be related properties?"},{"owner":{"account_id":24666805,"reputation":29,"user_id":19384320,"display_name":"Costas Ginos"},"score":0,"creation_date":1659454787,"post_id":73207542,"comment_id":129296521,"body_markdown":"@MCEmperor mmmh, do you have any reference so I can understand the way to achieve that?","body":"@MCEmperor mmmh, do you have any reference so I can understand the way to achieve that?"}],"owner":{"account_id":24666805,"reputation":29,"user_id":19384320,"display_name":"Costas Ginos"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659447989,"creation_date":1659443233,"question_id":73207542,"body_markdown":"I have a String array and LinkedList of strings and I want to combine/map them.\r\nThe string list looks like this:\r\n\r\n```none\r\nString[] data = new String[5];\r\nOutput:\r\n[cern, https://home.cern/, zenodo, https://zenodo.org/]\r\n[openaire, https://www.openaire.eu/, zenodo, https://zenodo.org/]\r\n```\r\n\r\nThe linkedList has two values: &quot;Zenodo&quot; &amp; &quot;Covid19&quot;. What I want to do is to combine those two and get the result as shown down below:\r\n\r\n```none\r\n[cern, https://home.cern/, zenodo, https://zenodo.org/,Zenodo]\r\n[openaire, https://www.openaire.eu/, zenodo, https://zenodo.org/, Zenodo]\r\n[cern, https://home.cern/, zenodo, https://zenodo.org/,Covid19]\r\n[openaire, https://www.openaire.eu/, zenodo, https://zenodo.org/, Covid19]\r\n```\r\n\r\nIs there any way I can accomplish that?\r\n","title":"Combine an array and a linkedList","body":"<p>I have a String array and LinkedList of strings and I want to combine/map them.\nThe string list looks like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>String[] data = new String[5];\nOutput:\n[cern, https://home.cern/, zenodo, https://zenodo.org/]\n[openaire, https://www.openaire.eu/, zenodo, https://zenodo.org/]\n</code></pre>\n<p>The linkedList has two values: &quot;Zenodo&quot; &amp; &quot;Covid19&quot;. What I want to do is to combine those two and get the result as shown down below:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[cern, https://home.cern/, zenodo, https://zenodo.org/,Zenodo]\n[openaire, https://www.openaire.eu/, zenodo, https://zenodo.org/, Zenodo]\n[cern, https://home.cern/, zenodo, https://zenodo.org/,Covid19]\n[openaire, https://www.openaire.eu/, zenodo, https://zenodo.org/, Covid19]\n</code></pre>\n<p>Is there any way I can accomplish that?</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659447863,"creation_date":1659362425,"answer_id":73194890,"question_id":73194275,"body_markdown":"You can use a `DocumentId` annotation on the POJO instead, and then let Firestore automatically read it from the database. As the documentation of the [`DocumentId` annotation](https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentId) says:\r\n\r\n&gt; Annotation used to mark a POJO property to be automatically populated with the document&#39;s ID when the POJO is created from a Cloud Firestore document (for example, via `toObject(Class)`).\r\n\r\nSo something like:\r\n```\r\npublic class User {\r\n\r\n    String firstName, lastName, age, docId;\r\n\r\n    public User(){}\r\n\r\n    public User(String firstName, String lastName, String docId) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.docId = docId;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    @DocumentId\r\n    public String getDocId() {\r\n        return docId;\r\n    }\r\n\r\n    @DocumentId\r\n    public void setDocId(String docId) {\r\n        this.docId = docId;\r\n    }\r\n}\r\n```\r\n\r\nAlso see:\r\n\r\n* https://stackoverflow.com/questions/49865690/firestore-how-to-properly-store-the-document-id-in-the-model-class","title":"How to get the ID of a Firestore document into a RecyclerView - Java in Android Studio","body":"<p>You can use a <code>DocumentId</code> annotation on the POJO instead, and then let Firestore automatically read it from the database. As the documentation of the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentId\" rel=\"nofollow noreferrer\"><code>DocumentId</code> annotation</a> says:</p>\n<blockquote>\n<p>Annotation used to mark a POJO property to be automatically populated with the document's ID when the POJO is created from a Cloud Firestore document (for example, via <code>toObject(Class)</code>).</p>\n</blockquote>\n<p>So something like:</p>\n<pre><code>public class User {\n\n    String firstName, lastName, age, docId;\n\n    public User(){}\n\n    public User(String firstName, String lastName, String docId) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.docId = docId;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    @DocumentId\n    public String getDocId() {\n        return docId;\n    }\n\n    @DocumentId\n    public void setDocId(String docId) {\n        this.docId = docId;\n    }\n}\n</code></pre>\n<p>Also see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/49865690/firestore-how-to-properly-store-the-document-id-in-the-model-class\">Firestore - How to properly store the document ID in the model class?</a></li>\n</ul>\n"}],"owner":{"account_id":24678370,"reputation":21,"user_id":18572449,"display_name":"Andrea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659362431,"accepted_answer_id":73194890,"answer_count":1,"score":0,"last_activity_date":1659447863,"creation_date":1659359851,"question_id":73194275,"body_markdown":"I would like to create an application able to receive the id of a document on Firestore with all its fields and put them in a RecyclerView Adapter. For now, I can only get the fields, but I don&#39;t understand how to get the document ID. This is the code:\r\n\r\nClass TestPage:\r\n\r\n    public class TestPage extends AppCompatActivity {\r\n    \r\n        RecyclerView recyclerView;\r\n        ArrayList&lt;User&gt; userArrayList;\r\n        MyAdapter myAdapter;\r\n        FirebaseFirestore db;\r\n        ProgressDialog progressDialog;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_test_page);\r\n    \r\n            progressDialog = new ProgressDialog(this);\r\n            progressDialog.setCancelable(false);\r\n            progressDialog.setMessage(&quot;Fetching Data...&quot;);\r\n            progressDialog.show();\r\n    \r\n            recyclerView = findViewById(R.id.recyclerView);\r\n            recyclerView.setHasFixedSize(true);\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n    \r\n            db = FirebaseFirestore.getInstance();\r\n            userArrayList = new ArrayList&lt;User&gt;();\r\n            myAdapter = new MyAdapter(TestPage.this,userArrayList);\r\n    \r\n            recyclerView.setAdapter(myAdapter);\r\n    \r\n            EventChangeListener();\r\n    \r\n        }\r\n    \r\n        private void EventChangeListener() {\r\n    \r\n            db.collection(&quot;Attesa&quot;).orderBy(&quot;firstName&quot;, Query.Direction.ASCENDING)\r\n                    .addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\r\n                        @Override\r\n                        public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\r\n    \r\n                            if(error != null){\r\n                                if(progressDialog.isShowing())\r\n                                    progressDialog.dismiss();\r\n                                return;\r\n                            }\r\n    \r\n                            for(DocumentChange dc : value.getDocumentChanges()){\r\n                                if(dc.getType() == DocumentChange.Type.ADDED){\r\n                                    userArrayList.add(dc.getDocument().toObject(User.class));\r\n                                }\r\n                                myAdapter.notifyDataSetChanged();\r\n                                if(progressDialog.isShowing())\r\n                                    progressDialog.dismiss();\r\n                            }\r\n    \r\n                        }\r\n                    });\r\n        }\r\n\r\nClass User:\r\n\r\n     public class User {\r\n    \r\n        String firstName, lastName, age;\r\n    \r\n        public User(){}\r\n    \r\n        public User(String firstName, String lastName) {\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n        }\r\n    \r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n    \r\n        public void setFirstName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n    \r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n    \r\n        public void setLastName(String lastName) {\r\n            this.lastName = lastName;\r\n        }\r\n    \r\n    }\r\n\r\nClass MyAdapter:\r\n\r\n      public class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\r\n    \r\n        Context context;\r\n        ArrayList&lt;User&gt; userArrayList;\r\n    \r\n        public MyAdapter(Context context, ArrayList&lt;User&gt; userArrayList) {\r\n            this.context = context;\r\n            this.userArrayList = userArrayList;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public MyAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View v = LayoutInflater.from(context).inflate(R.layout.item,parent,false);\r\n            return new MyViewHolder((v));\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull MyAdapter.MyViewHolder holder, int position) {\r\n    \r\n            User user = userArrayList.get(position);\r\n    \r\n            holder.firstName.setText(user.firstName);\r\n            holder.lastName.setText(user.lastName);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return userArrayList.size();\r\n        }\r\n    \r\n        public static class MyViewHolder extends RecyclerView.ViewHolder{\r\n    \r\n            TextView firstName, lastName;\r\n    \r\n            public MyViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n                firstName = itemView.findViewById(R.id.tvFirstName);\r\n                lastName = itemView.findViewById(R.id.tvLastName);\r\n            }\r\n        }\r\n    }\r\n\r\n[This is the Firestore screen][1]\r\n    \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rB8oJ.png\r\n\r\nHow can I take the ID of the document in addition to firstName and lastName? so in this case the number?","title":"How to get the ID of a Firestore document into a RecyclerView - Java in Android Studio","body":"<p>I would like to create an application able to receive the id of a document on Firestore with all its fields and put them in a RecyclerView Adapter. For now, I can only get the fields, but I don't understand how to get the document ID. This is the code:</p>\n<p>Class TestPage:</p>\n<pre><code>public class TestPage extends AppCompatActivity {\n\n    RecyclerView recyclerView;\n    ArrayList&lt;User&gt; userArrayList;\n    MyAdapter myAdapter;\n    FirebaseFirestore db;\n    ProgressDialog progressDialog;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_test_page);\n\n        progressDialog = new ProgressDialog(this);\n        progressDialog.setCancelable(false);\n        progressDialog.setMessage(&quot;Fetching Data...&quot;);\n        progressDialog.show();\n\n        recyclerView = findViewById(R.id.recyclerView);\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        db = FirebaseFirestore.getInstance();\n        userArrayList = new ArrayList&lt;User&gt;();\n        myAdapter = new MyAdapter(TestPage.this,userArrayList);\n\n        recyclerView.setAdapter(myAdapter);\n\n        EventChangeListener();\n\n    }\n\n    private void EventChangeListener() {\n\n        db.collection(&quot;Attesa&quot;).orderBy(&quot;firstName&quot;, Query.Direction.ASCENDING)\n                .addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\n                    @Override\n                    public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\n\n                        if(error != null){\n                            if(progressDialog.isShowing())\n                                progressDialog.dismiss();\n                            return;\n                        }\n\n                        for(DocumentChange dc : value.getDocumentChanges()){\n                            if(dc.getType() == DocumentChange.Type.ADDED){\n                                userArrayList.add(dc.getDocument().toObject(User.class));\n                            }\n                            myAdapter.notifyDataSetChanged();\n                            if(progressDialog.isShowing())\n                                progressDialog.dismiss();\n                        }\n\n                    }\n                });\n    }\n</code></pre>\n<p>Class User:</p>\n<pre><code> public class User {\n\n    String firstName, lastName, age;\n\n    public User(){}\n\n    public User(String firstName, String lastName) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n}\n</code></pre>\n<p>Class MyAdapter:</p>\n<pre><code>  public class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\n\n    Context context;\n    ArrayList&lt;User&gt; userArrayList;\n\n    public MyAdapter(Context context, ArrayList&lt;User&gt; userArrayList) {\n        this.context = context;\n        this.userArrayList = userArrayList;\n    }\n\n    @NonNull\n    @Override\n    public MyAdapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(context).inflate(R.layout.item,parent,false);\n        return new MyViewHolder((v));\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyAdapter.MyViewHolder holder, int position) {\n\n        User user = userArrayList.get(position);\n\n        holder.firstName.setText(user.firstName);\n        holder.lastName.setText(user.lastName);\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return userArrayList.size();\n    }\n\n    public static class MyViewHolder extends RecyclerView.ViewHolder{\n\n        TextView firstName, lastName;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n            firstName = itemView.findViewById(R.id.tvFirstName);\n            lastName = itemView.findViewById(R.id.tvLastName);\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/rB8oJ.png\" rel=\"nofollow noreferrer\">This is the Firestore screen</a></p>\n<p>How can I take the ID of the document in addition to firstName and lastName? so in this case the number?</p>\n"},{"tags":["java","arrays","for-loop","user-input"],"comments":[{"owner":{"account_id":6692290,"reputation":1789,"user_id":5436259,"accept_rate":50,"display_name":"infinitezero"},"score":2,"creation_date":1659207104,"post_id":73178263,"comment_id":129241059,"body_markdown":"Declare the array before the loop and use `[i]` to access the ith element.","body":"Declare the array before the loop and use <code>[i]</code> to access the ith element."}],"answers":[{"tags":[],"owner":{"account_id":22491887,"reputation":33,"user_id":16689498,"display_name":"Titan Demon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659446750,"creation_date":1659207454,"answer_id":73178321,"question_id":73178263,"body_markdown":"Create a String array of number length outside the loop and initialize each index with name as input.  \r\nBy the way you only need to create one Scanner object for input(Not needed to create various objects for different input).  \r\n**Edit**  - There was no use of numbs array.\r\n\r\n    \r\n    Scanner sc=new Scanner(System.in);\r\n    System.out.println(&quot;How many names do you want to enter: &quot;);\r\n    int number = sc.nextInt();\r\n    String []nameArray=new String[number];\r\n    /*Since nextInt() does not read the newline character in your input  \r\n    created by hitting &quot;Enter&quot;*/.\r\n    sc.nextLine();  \r\n    for (int i = 0; i &lt; number; i++) {   \r\n        System.out.println(&quot;What is your name&quot;);  \r\n        nameArray[i]=sc.nextLine();\r\n    }\r\n    sc.close();  //To prevent memory leak","title":"How do you have the user set the variable?","body":"<p>Create a String array of number length outside the loop and initialize each index with name as input.<br />\nBy the way you only need to create one Scanner object for input(Not needed to create various objects for different input).<br />\n<strong>Edit</strong>  - There was no use of numbs array.</p>\n<pre><code>Scanner sc=new Scanner(System.in);\nSystem.out.println(&quot;How many names do you want to enter: &quot;);\nint number = sc.nextInt();\nString []nameArray=new String[number];\n/*Since nextInt() does not read the newline character in your input  \ncreated by hitting &quot;Enter&quot;*/.\nsc.nextLine();  \nfor (int i = 0; i &lt; number; i++) {   \n    System.out.println(&quot;What is your name&quot;);  \n    nameArray[i]=sc.nextLine();\n}\nsc.close();  //To prevent memory leak\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659208559,"creation_date":1659208559,"answer_id":73178436,"question_id":73178263,"body_markdown":"Just a small improvement over Titan&#39;s answer.\r\n\r\n```java\r\n  public static void main(String[] args) {\r\n    Scanner sc = new Scanner(System.in);\r\n    System.out.println(&quot;How many names do you want to enter: &quot;);\r\n    int numberOfTimes = sc.nextInt();\r\n    String[] names = new String[numberOfTimes];\r\n    sc.nextLine();\r\n    for (int i = 0; i &lt; numberOfTimes; i++) {\r\n      System.out.println(&quot;What is your name&quot;);\r\n      names[i] = sc.nextLine();\r\n    }\r\n    System.out.println(Arrays.toString(names));\r\n  }\r\n```","title":"How do you have the user set the variable?","body":"<p>Just a small improvement over Titan's answer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;How many names do you want to enter: &quot;);\n    int numberOfTimes = sc.nextInt();\n    String[] names = new String[numberOfTimes];\n    sc.nextLine();\n    for (int i = 0; i &lt; numberOfTimes; i++) {\n      System.out.println(&quot;What is your name&quot;);\n      names[i] = sc.nextLine();\n    }\n    System.out.println(Arrays.toString(names));\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659209518,"creation_date":1659209518,"answer_id":73178537,"question_id":73178263,"body_markdown":"### Starting point\r\n\r\nHere are several things happening in your posted code:\r\n\r\n* You have two different Scanners, each reading from System.in\r\n* After prompting for user input (`int number = Num.nextInt()`), you&#39;re using that number to create an array of size &quot;number&quot;\r\n* When you call [nextLine()](https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextLine()), you are assigning the result to a string array (`String []`).\r\n\r\n### Working solution\r\n\r\nHere&#39;s a variation which addresses those issues, with a few additions, too:\r\n\r\n* Use one [Scanner](https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html), and give it a general name (&quot;scanner&quot;, not &quot;Num&quot;) since a scanner has nothing to do with one specific data type. Any scanner can read strings, integers, booleans, bytes, etc. Look in Javadoc for the full set of supported data types.\r\n* Check if user input is valid before trying to create an array –&#160;if user enters &quot;-1&quot; that&#39;s a valid integer value, but not valid for allocating an array –&#160;`new int[-1]`) would throw a java.lang.NegativeArraySizeException at runtime.\r\n* Use &quot;next()&quot; instead of &quot;nextLine()&quot; –&#160;with the rest of your example, using &quot;nextLine()&quot; results in skipping one line without direct interaction from the user (so the first &quot;name&quot; is always an empty string)\r\n* Assign the result of &quot;next()&quot; to a String (not `String[]`), matching the return type from the method\r\n* Use &quot;System.out.print()&quot; instead of &quot;println()&quot;, a little tidier program output\r\n* Use lowercase names to follow Java naming conventions (&quot;scanner&quot;, not &quot;Scanner&quot;)\r\n\r\n```\r\nScanner scanner = new Scanner(System.in);\r\n\r\nSystem.out.print(&quot;How many names do you want to enter: &quot;);\r\nint times = scanner.nextInt();\r\n\r\nif (times &lt; 0) {\r\n    System.out.println(&quot;negative numbers not allowed&quot;);\r\n} else {\r\n    String[] names = new String[times];\r\n    for (int i = 0; i &lt; times; i++) {\r\n        System.out.print(&quot;What is your name: &quot;);\r\n        names[i] = scanner.next();\r\n    }\r\n    System.out.println(Arrays.toString(names));\r\n}\r\n\r\n```\r\nAnd here&#39;s a sample run:\r\n```\r\nHow many names do you want to enter: 3\r\nWhat is your name: one\r\nWhat is your name: two\r\nWhat is your name: three\r\n[one, two, three]\r\n```\r\n","title":"How do you have the user set the variable?","body":"<h3>Starting point</h3>\n<p>Here are several things happening in your posted code:</p>\n<ul>\n<li>You have two different Scanners, each reading from System.in</li>\n<li>After prompting for user input (<code>int number = Num.nextInt()</code>), you're using that number to create an array of size &quot;number&quot;</li>\n<li>When you call <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextLine()\" rel=\"nofollow noreferrer\">nextLine()</a>, you are assigning the result to a string array (<code>String []</code>).</li>\n</ul>\n<h3>Working solution</h3>\n<p>Here's a variation which addresses those issues, with a few additions, too:</p>\n<ul>\n<li>Use one <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\">Scanner</a>, and give it a general name (&quot;scanner&quot;, not &quot;Num&quot;) since a scanner has nothing to do with one specific data type. Any scanner can read strings, integers, booleans, bytes, etc. Look in Javadoc for the full set of supported data types.</li>\n<li>Check if user input is valid before trying to create an array – if user enters &quot;-1&quot; that's a valid integer value, but not valid for allocating an array – <code>new int[-1]</code>) would throw a java.lang.NegativeArraySizeException at runtime.</li>\n<li>Use &quot;next()&quot; instead of &quot;nextLine()&quot; – with the rest of your example, using &quot;nextLine()&quot; results in skipping one line without direct interaction from the user (so the first &quot;name&quot; is always an empty string)</li>\n<li>Assign the result of &quot;next()&quot; to a String (not <code>String[]</code>), matching the return type from the method</li>\n<li>Use &quot;System.out.print()&quot; instead of &quot;println()&quot;, a little tidier program output</li>\n<li>Use lowercase names to follow Java naming conventions (&quot;scanner&quot;, not &quot;Scanner&quot;)</li>\n</ul>\n<pre><code>Scanner scanner = new Scanner(System.in);\n\nSystem.out.print(&quot;How many names do you want to enter: &quot;);\nint times = scanner.nextInt();\n\nif (times &lt; 0) {\n    System.out.println(&quot;negative numbers not allowed&quot;);\n} else {\n    String[] names = new String[times];\n    for (int i = 0; i &lt; times; i++) {\n        System.out.print(&quot;What is your name: &quot;);\n        names[i] = scanner.next();\n    }\n    System.out.println(Arrays.toString(names));\n}\n\n</code></pre>\n<p>And here's a sample run:</p>\n<pre><code>How many names do you want to enter: 3\nWhat is your name: one\nWhat is your name: two\nWhat is your name: three\n[one, two, three]\n</code></pre>\n"}],"owner":{"account_id":23871100,"reputation":1,"user_id":17872790,"display_name":"2Devnull"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1659446750,"creation_date":1659206826,"question_id":73178263,"body_markdown":"   I am trying to have the user set the name for how many numbers they set. for example if they set 3 the program asks for name 3 times and then sets those names to a different varible inside an array. \r\n\r\n     public static void main(String[] args) {\r\n\t\tScanner Num = new Scanner(System.in);\r\n\t\tScanner Name = new Scanner(System.in);\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(&quot;How many names do you want to enter: &quot;);\r\n\t\tint number = Num.nextInt();\r\n\t\tint[] numbs = new int[number];\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; numbs.length; i++) {\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;What is your name&quot;);\r\n\t\t\t\r\n\t\t\tString [] nameArray = Name.nextLine();","title":"How do you have the user set the variable?","body":"<p>I am trying to have the user set the name for how many numbers they set. for example if they set 3 the program asks for name 3 times and then sets those names to a different varible inside an array.</p>\n<pre><code> public static void main(String[] args) {\n    Scanner Num = new Scanner(System.in);\n    Scanner Name = new Scanner(System.in);\n    \n    \n    System.out.println(&quot;How many names do you want to enter: &quot;);\n    int number = Num.nextInt();\n    int[] numbs = new int[number];\n    \n    for (int i = 0; i &lt; numbs.length; i++) {\n        \n        System.out.println(&quot;What is your name&quot;);\n        \n        String [] nameArray = Name.nextLine();\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-flink","avro"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1659457961,"post_id":73207748,"comment_id":129297679,"body_markdown":"Related https://stackoverflow.com/questions/72656077/integrating-flink-kafka-with-schema-registry","body":"Related <a href=\"https://stackoverflow.com/questions/72656077/integrating-flink-kafka-with-schema-registry\" title=\"integrating flink kafka with schema registry\">stackoverflow.com/questions/72656077/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7688955,"reputation":1260,"user_id":5825844,"display_name":"Chesnay Schepler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659446533,"creation_date":1659446533,"answer_id":73208352,"question_id":73207748,"body_markdown":"Use the AvroDeserializationSchema from flink-avro; there are static methods to create a schema from either an Avro schema to read generic records, or from class for specific records.","title":"Can Apache Flink deserialize KafkaSource Stream with Avro in Java?","body":"<p>Use the AvroDeserializationSchema from flink-avro; there are static methods to create a schema from either an Avro schema to read generic records, or from class for specific records.</p>\n"}],"owner":{"account_id":21046869,"reputation":41,"user_id":15468033,"display_name":"Only-A-User"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659446533,"creation_date":1659444185,"question_id":73207748,"body_markdown":"I want to deserialize a KafkaSource Stream with Avro in Flink.\r\n\r\nLooking into the Flink documentation I found the following code:\r\n\r\n```Java\r\nKafkaSource&lt;String&gt; source = KafkaSource.&lt;String&gt;builder()\r\n                .setBootstrapServers(BOOTSTRAP_SERVER)\r\n                .setTopics(TOPIC)\r\n                .setGroupId(CONSUMER_GROUP)\r\n                .setStartingOffsets(OffsetsInitializer.earliest())\r\n                .setDeserializer(new SimpleStringSchema())\r\n                .build();\r\n```\r\n\r\nI wondered if it was possible to change the `new SimpleStringSchema` into an Avro Deserializer and if yes how?","title":"Can Apache Flink deserialize KafkaSource Stream with Avro in Java?","body":"<p>I want to deserialize a KafkaSource Stream with Avro in Flink.</p>\n<p>Looking into the Flink documentation I found the following code:</p>\n<pre><code>KafkaSource&lt;String&gt; source = KafkaSource.&lt;String&gt;builder()\n                .setBootstrapServers(BOOTSTRAP_SERVER)\n                .setTopics(TOPIC)\n                .setGroupId(CONSUMER_GROUP)\n                .setStartingOffsets(OffsetsInitializer.earliest())\n                .setDeserializer(new SimpleStringSchema())\n                .build();\n</code></pre>\n<p>I wondered if it was possible to change the <code>new SimpleStringSchema</code> into an Avro Deserializer and if yes how?</p>\n"},{"tags":["java","android","flutter","gradle"],"answers":[{"tags":[],"owner":{"account_id":11447439,"reputation":1,"user_id":8390829,"display_name":"Roberval"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659446211,"creation_date":1659446187,"answer_id":73208260,"question_id":72907852,"body_markdown":"Delete .idea folder inside your project and reboot your Android Studio","title":"Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;. &gt; Could not find com.github.adrielcafe:ffmpeg-android-java:2a627f6ecd","body":"<p>Delete .idea folder inside your project and reboot your Android Studio</p>\n"}],"owner":{"account_id":25756642,"reputation":11,"user_id":19508197,"display_name":"Huixu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":918,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659446211,"creation_date":1657264011,"question_id":72907852,"body_markdown":"## Here is my console.\r\nI can&#39;t get `com.github.adrielcafe:ffmpeg-android-java:2a627f6ecd`.Is it my fault?\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:checkDebugAarMetadata&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n   &gt; Could not find com.github.adrielcafe:ffmpeg-android-java:2a627f6ecd.\r\n     Searched in the following locations:\r\n       - https://dl.google.com/dl/android/maven2/com/github/adrielcafe/ffmpeg-android-java/2a627f6ecd/ffmpeg-android-java-2a627f6ecd.pom\r\n       - https://jcenter.bintray.com/com/github/adrielcafe/ffmpeg-android-java/2a627f6ecd/ffmpeg-android-java-2a627f6ecd.pom\r\n       - http://download.flutter.io/com/github/adrielcafe/ffmpeg-android-java/2a627f6ecd/ffmpeg-android-java-2a627f6ecd.pom\r\n       - http://maven.aliyun.com/nexus/content/groups/public/com/github/adrielcafe/ffmpeg-android-java/2a627f6ecd/ffmpeg-android-java-2a627f6ecd.pom\r\n       - http://sczpkj.f3322.net:8082/artifactory/android/com/github/adrielcafe/ffmpeg-android-java/2a627f6ecd/ffmpeg-android-java-2a627f6ecd.pom\r\n       - https://storage.flutter-io.cn/download.flutter.io/com/github/adrielcafe/ffmpeg-android-java/2a627f6ecd/ffmpeg-android-java-2a627f6ecd.pom\r\n       - https://repo.maven.apache.org/maven2/com/github/adrielcafe/ffmpeg-android-java/2a627f6ecd/ffmpeg-android-java-2a627f6ecd.pom\r\n       - https://maven.aliyun.com/repository/google/com/github/adrielcafe/ffmpeg-android-java/2a627f6ecd/ffmpeg-android-java-2a627f6ecd.pom\r\n       - https://maven.aliyun.com/repository/public/com/github/adrielcafe/ffmpeg-android-java/2a627f6ecd/ffmpeg-android-java-2a627f6ecd.pom\r\n       - https://jitpack.io/com/github/adrielcafe/ffmpeg-android-java/2a627f6ecd/ffmpeg-android-java-2a627f6ecd.pom\r\n     Required by:\r\n         project :app &gt; project :flutter_plugin_record &gt; com.github.adrielcafe:AndroidAudioConverter:0.0.8\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n```\r\n\r\n## Here is my android\\build.gradle\r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        maven { url &quot;http://download.flutter.io&quot; }\r\n        maven {url &#39;http://maven.aliyun.com/nexus/content/groups/public/&#39;}\r\n    }\r\n\r\n    dependencies {\r\n        // classpath &#39;com.android.tools.build:gradle:3.5.0&#39;\r\n//         classpath &#39;com.android.tools.build:gradle:4.1.0&#39;\r\n        classpath &#39;com.android.tools.build:gradle:4.2.1&#39;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.20&quot;\r\n\r\n\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        maven { url &quot;http://download.flutter.io&quot; }\r\n        maven {url &#39;http://maven.aliyun.com/nexus/content/groups/public/&#39;}\r\n//        maven {\r\n//            url &#39;http://download.flutter.io&#39;\r\n//        }\r\n    }\r\n}\r\n\r\nrootProject.buildDir = &#39;../build&#39;\r\nsubprojects {\r\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\r\n}\r\nsubprojects {\r\n    project.evaluationDependsOn(&#39;:app&#39;)\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n\r\n```","title":"Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;. &gt; Could not find com.github.adrielcafe:ffmpeg-android-java:2a627f6ecd","body":"<h2>Here is my console.</h2>\n<p>I can't get <code>com.github.adrielcafe:ffmpeg-android-java:2a627f6ecd</code>.Is it my fault?</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:checkDebugAarMetadata'.\n&gt; Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\n   &gt; Could not find com.github.adrielcafe:ffmpeg-android-java:2a627f6ecd.\n     Searched in the following locations:\n       - https://dl.google.com/dl/android/maven2/com/github/adrielcafe/ffmpeg-android-java/2a627f6ecd/ffmpeg-android-java-2a627f6ecd.pom\n       - https://jcenter.bintray.com/com/github/adrielcafe/ffmpeg-android-java/2a627f6ecd/ffmpeg-android-java-2a627f6ecd.pom\n       - http://download.flutter.io/com/github/adrielcafe/ffmpeg-android-java/2a627f6ecd/ffmpeg-android-java-2a627f6ecd.pom\n       - http://maven.aliyun.com/nexus/content/groups/public/com/github/adrielcafe/ffmpeg-android-java/2a627f6ecd/ffmpeg-android-java-2a627f6ecd.pom\n       - http://sczpkj.f3322.net:8082/artifactory/android/com/github/adrielcafe/ffmpeg-android-java/2a627f6ecd/ffmpeg-android-java-2a627f6ecd.pom\n       - https://storage.flutter-io.cn/download.flutter.io/com/github/adrielcafe/ffmpeg-android-java/2a627f6ecd/ffmpeg-android-java-2a627f6ecd.pom\n       - https://repo.maven.apache.org/maven2/com/github/adrielcafe/ffmpeg-android-java/2a627f6ecd/ffmpeg-android-java-2a627f6ecd.pom\n       - https://maven.aliyun.com/repository/google/com/github/adrielcafe/ffmpeg-android-java/2a627f6ecd/ffmpeg-android-java-2a627f6ecd.pom\n       - https://maven.aliyun.com/repository/public/com/github/adrielcafe/ffmpeg-android-java/2a627f6ecd/ffmpeg-android-java-2a627f6ecd.pom\n       - https://jitpack.io/com/github/adrielcafe/ffmpeg-android-java/2a627f6ecd/ffmpeg-android-java-2a627f6ecd.pom\n     Required by:\n         project :app &gt; project :flutter_plugin_record &gt; com.github.adrielcafe:AndroidAudioConverter:0.0.8\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n</code></pre>\n<h2>Here is my android\\build.gradle</h2>\n<pre><code>buildscript {\n    repositories {\n        google()\n        jcenter()\n        maven { url &quot;http://download.flutter.io&quot; }\n        maven {url 'http://maven.aliyun.com/nexus/content/groups/public/'}\n    }\n\n    dependencies {\n        // classpath 'com.android.tools.build:gradle:3.5.0'\n//         classpath 'com.android.tools.build:gradle:4.1.0'\n        classpath 'com.android.tools.build:gradle:4.2.1'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.20&quot;\n\n\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        maven { url &quot;http://download.flutter.io&quot; }\n        maven {url 'http://maven.aliyun.com/nexus/content/groups/public/'}\n//        maven {\n//            url 'http://download.flutter.io'\n//        }\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\n</code></pre>\n"},{"tags":["javascript","java","react-native"],"comments":[{"owner":{"account_id":10179339,"reputation":1224,"user_id":7516783,"display_name":"kess"},"score":0,"creation_date":1659374303,"post_id":73197320,"comment_id":129274560,"body_markdown":"Does this answer your question? [How to run java method in react-native](https://stackoverflow.com/questions/52524061/how-to-run-java-method-in-react-native)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/52524061/how-to-run-java-method-in-react-native\">How to run java method in react-native</a>"},{"owner":{"account_id":4749863,"reputation":27187,"user_id":3840170,"display_name":"user3840170"},"score":0,"creation_date":1659374964,"post_id":73197320,"comment_id":129274746,"body_markdown":"https://docs.oracle.com/javase/tutorial/deployment/applet/invokingAppletMethodsFromJavaScript.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/deployment/applet/invokingAppletMethodsFromJavaScript.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/deployment/applet/&hellip;</a>"},{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":0,"creation_date":1659379916,"post_id":73197320,"comment_id":129276247,"body_markdown":"@user3840170, applets are deprecated since 2017","body":"@user3840170, applets are deprecated since 2017"},{"owner":{"account_id":4749863,"reputation":27187,"user_id":3840170,"display_name":"user3840170"},"score":0,"creation_date":1659381077,"post_id":73197320,"comment_id":129276639,"body_markdown":"@Sam So what? If that’s what the asker wants…","body":"@Sam So what? If that’s what the asker wants…"}],"answers":[{"tags":[],"owner":{"account_id":10179339,"reputation":1224,"user_id":7516783,"display_name":"kess"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1659437193,"creation_date":1659374528,"answer_id":73197410,"question_id":73197320,"body_markdown":"To call java code from javascript in your react-native app, you have to create a module\r\n\r\nI suggest reading the docs: https://reactnative.dev/docs/native-modules-android\r\n\r\nJava code - android/app/src/main/java/com/your-app-name/JavaModule.java\r\n```java\r\npackage com.your-app-name; // replace com.your-app-name with your app’s name\r\nimport com.facebook.react.bridge.NativeModule;\r\nimport com.facebook.react.bridge.ReactApplicationContext;\r\nimport com.facebook.react.bridge.ReactContext;\r\nimport com.facebook.react.bridge.ReactContextBaseJavaModule;\r\nimport com.facebook.react.bridge.ReactMethod;\r\nimport java.util.Map;\r\nimport java.util.HashMap;\r\n\r\npublic class JavaModule extends ReactContextBaseJavaModule {\r\n   JavaModule(ReactApplicationContext context) {\r\n       super(context);\r\n   }\r\n\r\n   @Override\r\n   public String getName() {\r\n       return &quot;JavaModule&quot;;\r\n   }\r\n\r\n   @ReactMethod\r\n   public void Javafunction(){\r\n       System.out.println(&quot;It Works!&quot;);\r\n   }\r\n}\r\n```\r\n\r\nRegister the Module - android/app/src/main/java/com/your-app-name/MyAppPackage.java\r\n```java\r\npackage com.your-app-name; // replace your-app-name with your app’s name\r\nimport com.facebook.react.ReactPackage;\r\nimport com.facebook.react.bridge.NativeModule;\r\nimport com.facebook.react.bridge.ReactApplicationContext;\r\nimport com.facebook.react.uimanager.ViewManager;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class MyAppPackage implements ReactPackage {\r\n\r\n   @Override\r\n   public List&lt;ViewManager&gt; createViewManagers(ReactApplicationContext reactContext) {\r\n       return Collections.emptyList();\r\n   }\r\n\r\n   @Override\r\n   public List&lt;NativeModule&gt; createNativeModules(\r\n           ReactApplicationContext reactContext) {\r\n       List&lt;NativeModule&gt; modules = new ArrayList&lt;&gt;();\r\n\r\n       modules.add(new JavaModule(reactContext));\r\n\r\n       return modules;\r\n   }\r\n\r\n}\r\n```\r\nTo register the package change the getPackages method in this file: android/app/src/main/java/com/your-app-name/MainApplication.java\r\n```java\r\n@Override\r\nprotected List&lt;ReactPackage&gt; getPackages() {\r\n    @SuppressWarnings(&quot;UnnecessaryLocalVariable&quot;)\r\n    List&lt;ReactPackage&gt; packages = new PackageList(this).getPackages();\r\n    // below MyAppPackage is added to the list of packages returned\r\n    packages.add(new MyAppPackage());\r\n    return packages;\r\n}\r\n```\r\n\r\nJavaScript code\r\n```js\r\nconst { JavaModule } = ReactNative.NativeModules;\r\nJavaModule.Javafunction();\r\n```","title":"How to call a Java method from Javascript","body":"<p>To call java code from javascript in your react-native app, you have to create a module</p>\n<p>I suggest reading the docs: <a href=\"https://reactnative.dev/docs/native-modules-android\" rel=\"nofollow noreferrer\">https://reactnative.dev/docs/native-modules-android</a></p>\n<p>Java code - android/app/src/main/java/com/your-app-name/JavaModule.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.your-app-name; // replace com.your-app-name with your app’s name\nimport com.facebook.react.bridge.NativeModule;\nimport com.facebook.react.bridge.ReactApplicationContext;\nimport com.facebook.react.bridge.ReactContext;\nimport com.facebook.react.bridge.ReactContextBaseJavaModule;\nimport com.facebook.react.bridge.ReactMethod;\nimport java.util.Map;\nimport java.util.HashMap;\n\npublic class JavaModule extends ReactContextBaseJavaModule {\n   JavaModule(ReactApplicationContext context) {\n       super(context);\n   }\n\n   @Override\n   public String getName() {\n       return &quot;JavaModule&quot;;\n   }\n\n   @ReactMethod\n   public void Javafunction(){\n       System.out.println(&quot;It Works!&quot;);\n   }\n}\n</code></pre>\n<p>Register the Module - android/app/src/main/java/com/your-app-name/MyAppPackage.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.your-app-name; // replace your-app-name with your app’s name\nimport com.facebook.react.ReactPackage;\nimport com.facebook.react.bridge.NativeModule;\nimport com.facebook.react.bridge.ReactApplicationContext;\nimport com.facebook.react.uimanager.ViewManager;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class MyAppPackage implements ReactPackage {\n\n   @Override\n   public List&lt;ViewManager&gt; createViewManagers(ReactApplicationContext reactContext) {\n       return Collections.emptyList();\n   }\n\n   @Override\n   public List&lt;NativeModule&gt; createNativeModules(\n           ReactApplicationContext reactContext) {\n       List&lt;NativeModule&gt; modules = new ArrayList&lt;&gt;();\n\n       modules.add(new JavaModule(reactContext));\n\n       return modules;\n   }\n\n}\n</code></pre>\n<p>To register the package change the getPackages method in this file: android/app/src/main/java/com/your-app-name/MainApplication.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected List&lt;ReactPackage&gt; getPackages() {\n    @SuppressWarnings(&quot;UnnecessaryLocalVariable&quot;)\n    List&lt;ReactPackage&gt; packages = new PackageList(this).getPackages();\n    // below MyAppPackage is added to the list of packages returned\n    packages.add(new MyAppPackage());\n    return packages;\n}\n</code></pre>\n<p>JavaScript code</p>\n<pre class=\"lang-js prettyprint-override\"><code>const { JavaModule } = ReactNative.NativeModules;\nJavaModule.Javafunction();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20391353,"reputation":672,"user_id":14959221,"display_name":"Kayes Fahim"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1659374596,"creation_date":1659374596,"answer_id":73197425,"question_id":73197320,"body_markdown":"You cannot do this But you can Calling Java code from a JavaScript adapter\r\n\r\nHere Is the Example and documentation : https://www.ibm.com/docs/en/mpf/8.0.0?topic=code-calling-java-from-javascript-adapter","title":"How to call a Java method from Javascript","body":"<p>You cannot do this But you can Calling Java code from a JavaScript adapter</p>\n<p>Here Is the Example and documentation : <a href=\"https://www.ibm.com/docs/en/mpf/8.0.0?topic=code-calling-java-from-javascript-adapter\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/mpf/8.0.0?topic=code-calling-java-from-javascript-adapter</a></p>\n"}],"owner":{"account_id":23864180,"reputation":194,"user_id":17866748,"display_name":"SurpriseMF"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":73197410,"answer_count":2,"score":-3,"last_activity_date":1659446190,"creation_date":1659374029,"question_id":73197320,"body_markdown":"How do you call a Java method/ function from Javascript?\r\n\r\nJava Function:\r\n\r\n    class Javafunction{\r\n\r\n       public static void main(String[] args){\r\n\r\n           System.out.println(&quot;It Works!&quot;);\r\n\r\n\r\n       }\r\n    }\r\n\r\n\r\nJavascript Function:\r\n\r\n      function CallJavafunction() {\r\n        \r\n        Javafunction()\r\n    \r\n      }\r\n\r\n\r\n","title":"How to call a Java method from Javascript","body":"<p>How do you call a Java method/ function from Javascript?</p>\n<p>Java Function:</p>\n<pre><code>class Javafunction{\n\n   public static void main(String[] args){\n\n       System.out.println(&quot;It Works!&quot;);\n\n\n   }\n}\n</code></pre>\n<p>Javascript Function:</p>\n<pre><code>  function CallJavafunction() {\n    \n    Javafunction()\n\n  }\n</code></pre>\n"},{"tags":["java","mysql","localhost"],"answers":[{"tags":[],"owner":{"account_id":17605540,"reputation":31,"user_id":12774650,"display_name":"Adwell Scott"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659445909,"creation_date":1580204444,"answer_id":59945868,"question_id":59945832,"body_markdown":" 1. localhost stop and close the localhost.\r\n 2. MySQL config file and the going on my.ini file.\r\n 3. before that # Here follows entries for some specific programs.\r\n\r\nThe MySQL server\r\n\r\n    [mysqld] skip-grant-tables port= 3306\r\n\r\nAnd then Restart Your server\r\n\r\n\r\nHappy Coding...!!","title":"How i can solver a Error in MariaDB Server","body":"<ol>\n<li>localhost stop and close the localhost.</li>\n<li>MySQL config file and the going on my.ini file.</li>\n<li>before that # Here follows entries for some specific programs.</li>\n</ol>\n<p>The MySQL server</p>\n<pre><code>[mysqld] skip-grant-tables port= 3306\n</code></pre>\n<p>And then Restart Your server</p>\n<p>Happy Coding...!!</p>\n"},{"tags":[],"owner":{"account_id":10879724,"reputation":181,"user_id":7999081,"display_name":"Ranvir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580206789,"creation_date":1580206789,"answer_id":59946539,"question_id":59945832,"body_markdown":"1. Please verify the user grants if not root user by **Show grants for &#39;user&#39;@&#39;host&#39;**.\r\n2. If you are connecting through root user then open my.cnf(Linux) or my.ini(windows) and add **skip-grant-tables** and restart the server.\r\n3. Connect to database(root password not required with skip-grant-tables): ``` use MySQL ```\r\n4. ``` GRANT ALL ON . to root@&#39;%&#39; IDENTIFIED BY &#39;pass&#39;; ```\r\n5. ``` FLUSH PRIVILEGES; ```\r\n6. Remove or comment the **skip-grant-tables** from my.cnf and restart the server.\r\n\r\nI hope this helps!","title":"How i can solver a Error in MariaDB Server","body":"<ol>\n<li>Please verify the user grants if not root user by <strong>Show grants for 'user'@'host'</strong>.</li>\n<li>If you are connecting through root user then open my.cnf(Linux) or my.ini(windows) and add <strong>skip-grant-tables</strong> and restart the server.</li>\n<li>Connect to database(root password not required with skip-grant-tables): <code>use MySQL</code></li>\n<li><code>GRANT ALL ON . to root@'%' IDENTIFIED BY 'pass';</code></li>\n<li><code>FLUSH PRIVILEGES;</code></li>\n<li>Remove or comment the <strong>skip-grant-tables</strong> from my.cnf and restart the server.</li>\n</ol>\n\n<p>I hope this helps!</p>\n"}],"owner":{"account_id":17605540,"reputation":31,"user_id":12774650,"display_name":"Adwell Scott"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659445909,"creation_date":1580204319,"question_id":59945832,"body_markdown":"Sqlstate 1130 Host Error::&#39;localhost&#39; is not allowed to Connect to this MariaDB server\r\n\r\nSolved an error then follow the Below Step\r\n\r\nStep 1:- localhost stop and close the localhost\r\nStep 2:- MySQL config file and the going on my.ini file\r\nstep 3:-  before that # Here follows entries for some specific programs \r\n\r\n# The MySQL server\r\n[mysqld]\r\nskip-grant-tables\r\nport= 3306\r\n\r\n\r\nand start the server","title":"How i can solver a Error in MariaDB Server","body":"<p>Sqlstate 1130 Host Error::'localhost' is not allowed to Connect to this MariaDB server</p>\n\n<p>Solved an error then follow the Below Step</p>\n\n<p>Step 1:- localhost stop and close the localhost\nStep 2:- MySQL config file and the going on my.ini file\nstep 3:-  before that # Here follows entries for some specific programs </p>\n\n<h1>The MySQL server</h1>\n\n<p>[mysqld]\nskip-grant-tables\nport= 3306</p>\n\n<p>and start the server</p>\n"},{"tags":["java","spring-boot","docker","testing","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659445876,"creation_date":1659445876,"answer_id":73208182,"question_id":73206289,"body_markdown":"Im unsure what you mean by set-up automatically without manual procedure?\r\n\r\nIn essence, the API for DynamoDB Local is exactly the same as DynamoDB Web API. To create a table you will need to call [`CreateTable`](https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_CreateTable.html) using the [SDK](https://aws.amazon.com/developer/tools/) of your choice.\r\n\r\nTypically when I want to create things locally, I use the AWS CLI. Here is how I would create a table locally, pay attention to the `--endpoint-url` this is the only differentiator between Local and Web DynamoDB:\r\n\r\n```\r\naws dynamodb create-table \\\r\n    --table-name MusicCollection \\\r\n    --attribute-definitions AttributeName=pk,AttributeType=S AttributeName=sk,AttributeType=S \\\r\n    --key-schema AttributeName=pk,KeyType=HASH AttributeName=sk,KeyType=RANGE \\\r\n    --provisioned-throughput ReadCapacityUnits=5,WriteCapacityUnits=5 \\\r\n    --tags Key=Owner,Value=blueTeam \\\r\n    --endpoint-url http://localhost:8000\r\n```\r\n\r\n\r\nDynamoDB Local removed its front-end shell in favor of [DynamoDB NoSQL Workbench](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/workbench.html) which you can use to create/edit tables and index and deploy locally.\r\n\r\nhttps://aws.amazon.com/about-aws/whats-new/2019/11/nosql-workbench-for-amazon-dynamodb-adds-support-for-dynamodb-local/","title":"Local Dynamodb: create tables, keys and indexes","body":"<p>Im unsure what you mean by set-up automatically without manual procedure?</p>\n<p>In essence, the API for DynamoDB Local is exactly the same as DynamoDB Web API. To create a table you will need to call <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_CreateTable.html\" rel=\"nofollow noreferrer\"><code>CreateTable</code></a> using the <a href=\"https://aws.amazon.com/developer/tools/\" rel=\"nofollow noreferrer\">SDK</a> of your choice.</p>\n<p>Typically when I want to create things locally, I use the AWS CLI. Here is how I would create a table locally, pay attention to the <code>--endpoint-url</code> this is the only differentiator between Local and Web DynamoDB:</p>\n<pre><code>aws dynamodb create-table \\\n    --table-name MusicCollection \\\n    --attribute-definitions AttributeName=pk,AttributeType=S AttributeName=sk,AttributeType=S \\\n    --key-schema AttributeName=pk,KeyType=HASH AttributeName=sk,KeyType=RANGE \\\n    --provisioned-throughput ReadCapacityUnits=5,WriteCapacityUnits=5 \\\n    --tags Key=Owner,Value=blueTeam \\\n    --endpoint-url http://localhost:8000\n</code></pre>\n<p>DynamoDB Local removed its front-end shell in favor of <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/workbench.html\" rel=\"nofollow noreferrer\">DynamoDB NoSQL Workbench</a> which you can use to create/edit tables and index and deploy locally.</p>\n<p><a href=\"https://aws.amazon.com/about-aws/whats-new/2019/11/nosql-workbench-for-amazon-dynamodb-adds-support-for-dynamodb-local/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/about-aws/whats-new/2019/11/nosql-workbench-for-amazon-dynamodb-adds-support-for-dynamodb-local/</a></p>\n"}],"owner":{"account_id":254664,"reputation":11551,"user_id":534218,"accept_rate":54,"display_name":"Safari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659445876,"creation_date":1659437544,"question_id":73206289,"body_markdown":"I would like to use a Java Spring Boot microservice with DynamodDB as database.\r\n\r\nIn order to run the unit/integration tests or for development profile I would like to use a local (dockerized) Dynamodb database.\r\n\r\nI found this DynamoDB docker image: \r\n\r\nhttps://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBLocal.DownloadingAndRunning.html#docker\r\n\r\nNow the question is: how can I create the tables/indexes etc into my DynamoDb local instance. \r\n\r\nI would like to set-up it automatically (without any manual procedure). Can you suggest an approach?\r\n","title":"Local Dynamodb: create tables, keys and indexes","body":"<p>I would like to use a Java Spring Boot microservice with DynamodDB as database.</p>\n<p>In order to run the unit/integration tests or for development profile I would like to use a local (dockerized) Dynamodb database.</p>\n<p>I found this DynamoDB docker image:</p>\n<p><a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBLocal.DownloadingAndRunning.html#docker\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBLocal.DownloadingAndRunning.html#docker</a></p>\n<p>Now the question is: how can I create the tables/indexes etc into my DynamoDb local instance.</p>\n<p>I would like to set-up it automatically (without any manual procedure). Can you suggest an approach?</p>\n"},{"tags":["java","selenium","jenkins","selenium-webdriver","testng"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1659461773,"post_id":73208165,"comment_id":129298953,"body_markdown":"You can&#39;t use the same temp directory for different sessions.  While you can set the cookies using Selenium, you have to set them from the same domain, which can be problematic depending on the site and how/when it begins a new session.  Since this site only allows one session I&#39;d expect some problems there.  Do you know the method the site uses to persist a session? (claims based?)","body":"You can&#39;t use the same temp directory for different sessions.  While you can set the cookies using Selenium, you have to set them from the same domain, which can be problematic depending on the site and how/when it begins a new session.  Since this site only allows one session I&#39;d expect some problems there.  Do you know the method the site uses to persist a session? (claims based?)"},{"owner":{"account_id":20283367,"reputation":121,"user_id":14876572,"display_name":"George Cosmin"},"score":0,"creation_date":1659510238,"post_id":73208165,"comment_id":129308912,"body_markdown":"Here is a problem, for auth, I have a different domain like: www.example-auth.com and for application I have a domain like: www.example.com. By default, if a user is not authenticated, he is redirected to the auth page. We know if a user is authenticated if have a valid cookie and some properties in local storage.\nIt is possible to use only one driver and run tests on parallel (different tabs simultaneously) on browser in which we made login?","body":"Here is a problem, for auth, I have a different domain like: www.example-auth.com and for application I have a domain like: www.example.com. By default, if a user is not authenticated, he is redirected to the auth page. We know if a user is authenticated if have a valid cookie and some properties in local storage. It is possible to use only one driver and run tests on parallel (different tabs simultaneously) on browser in which we made login?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1659548802,"post_id":73208165,"comment_id":129322734,"body_markdown":"that is not possible.  You need one driver/browser pair per thread.","body":"that is not possible.  You need one driver/browser pair per thread."},{"owner":{"account_id":20283367,"reputation":121,"user_id":14876572,"display_name":"George Cosmin"},"score":0,"creation_date":1659597742,"post_id":73208165,"comment_id":129333412,"body_markdown":"Ok, do you have any tips how to duplicate browser properties or what is the workaround for this problem? Thank you!","body":"Ok, do you have any tips how to duplicate browser properties or what is the workaround for this problem? Thank you!"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1659634261,"post_id":73208165,"comment_id":129347004,"body_markdown":"it&#39;ll depend on how the site persists the session.  It sounds like you should be using a separate account for each.","body":"it&#39;ll depend on how the site persists the session.  It sounds like you should be using a separate account for each."},{"owner":{"account_id":20283367,"reputation":121,"user_id":14876572,"display_name":"George Cosmin"},"score":0,"creation_date":1659682034,"post_id":73208165,"comment_id":129356520,"body_markdown":"How do you suggest to manage the separate accounts for each driver? For example we have 4 threads(created by selenium) and 30 tests, how can we get control of each thread to access the user we want so we don&#39;t open 2 drivers with same users ?","body":"How do you suggest to manage the separate accounts for each driver? For example we have 4 threads(created by selenium) and 30 tests, how can we get control of each thread to access the user we want so we don&#39;t open 2 drivers with same users ?"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1659718060,"post_id":73208165,"comment_id":129369139,"body_markdown":"you have to create the threads and use different username/passwords for each.  (If it&#39;s true that only one session can exist at a time....)","body":"you have to create the threads and use different username/passwords for each.  (If it&#39;s true that only one session can exist at a time....)"}],"owner":{"account_id":20283367,"reputation":121,"user_id":14876572,"display_name":"George Cosmin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659445816,"creation_date":1659445816,"question_id":73208165,"body_markdown":"I want to execute some UI tests in parallel. These tests are in three classes that are included in a runner xml, like below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N9H8a.png\r\n\r\nThis runner is used by Jenkins and I want to run the tests that are in the classes present in this xml in parallel.\r\n\r\nBefore starts all tests in parallel, I need to login into the app and copy all web driver properties (localstorage, sessionstorage and cookies) into the new web drivers, in this way I am able to stay logged in to run the tests into new browsers.\r\n\r\nMy application is single session and I can&#39;t login in multiple browsers instance because I&#39;ll be deconnected on the other session.\r\n\r\nIs possible to &quot;clone&quot; the driver used for authentication?\r\n\r\nI want to do this, because in a new tab, on instance I made authentication, I remaining authenticated, but if I open a new browser instance, I will be unauthenticated on it.\r\n\r\n","title":"How to copy all web driver properties and attach them to a new WebDriver","body":"<p>I want to execute some UI tests in parallel. These tests are in three classes that are included in a runner xml, like below:</p>\n<p><a href=\"https://i.stack.imgur.com/N9H8a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N9H8a.png\" alt=\"enter image description here\" /></a></p>\n<p>This runner is used by Jenkins and I want to run the tests that are in the classes present in this xml in parallel.</p>\n<p>Before starts all tests in parallel, I need to login into the app and copy all web driver properties (localstorage, sessionstorage and cookies) into the new web drivers, in this way I am able to stay logged in to run the tests into new browsers.</p>\n<p>My application is single session and I can't login in multiple browsers instance because I'll be deconnected on the other session.</p>\n<p>Is possible to &quot;clone&quot; the driver used for authentication?</p>\n<p>I want to do this, because in a new tab, on instance I made authentication, I remaining authenticated, but if I open a new browser instance, I will be unauthenticated on it.</p>\n"},{"tags":["java","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1659403483,"post_id":73201063,"comment_id":129281276,"body_markdown":"Somewhere there is a log file and it likely contains the real underlying error.  Focus on the persistence layer.","body":"Somewhere there is a log file and it likely contains the real underlying error.  Focus on the persistence layer."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1659404388,"post_id":73201063,"comment_id":129281422,"body_markdown":"Please post the actual exception as logged.","body":"Please post the actual exception as logged."},{"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"score":0,"creation_date":1659405106,"post_id":73201063,"comment_id":129281533,"body_markdown":"Dear @Jayden pak, Welcome to Stack Overflow! Could you please specify what database server you are using? In addition, could you please provide the exception details (message, stack trace, etc.)?","body":"Dear @Jayden pak, Welcome to Stack Overflow! Could you please specify what database server you are using? In addition, could you please provide the exception details (message, stack trace, etc.)?"}],"answers":[{"tags":[],"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659407014,"creation_date":1659404937,"answer_id":73201199,"question_id":73201063,"body_markdown":"# Analysis\r\nIt looks like some names used in the database context (a table name, a column name, etc.) collide with the reserved words of the database server that you currently use.\r\n\r\nHere is a related question: [java - org.hibernate.exception.SQLGrammarException: could not execute statement - Stack Overflow](https://stackoverflow.com/questions/20576236/org-hibernate-exception-sqlgrammarexception-could-not-execute-statement).\r\n\r\n# Solution\r\nPlease, check the documentation for the reserved words of the database server.\r\n\r\nPlease, change the names that collide with the reserved words of the database server.\r\n\r\n## Draft examples\r\n### Microsoft SQL server\r\n[Reserved Keywords (Transact-SQL) - SQL Server | Microsoft Docs](https://learn.microsoft.com/en-us/sql/t-sql/language-elements/reserved-keywords-transact-sql?view=sql-server-ver16):\r\n\r\n* `DESC`.\r\n* `TOP`.\r\n\r\nTherefore, it is required to rename the `Top` table and the `desc` column. For example:\r\n\r\n```java\r\n@Entity\r\n@Table(name=&quot;TopProduct&quot;)\r\npublic class Top {\r\n    // &lt;…&gt;\r\n\r\n    @Column(name=&quot;description&quot;)\r\n    private String desc;\r\n\r\n    // &lt;…&gt;\r\n}\r\n```\r\n\r\n### MySQL 8.0\r\n[MySQL :: MySQL 8.0 Reference Manual :: 9.3 Keywords and Reserved Words](https://dev.mysql.com/doc/refman/8.0/en/keywords.html):\r\n\r\n* `DESC`.\r\n\r\nTherefore, it is required to rename the `desc` column. For example:\r\n\r\n```java\r\n// &lt;…&gt;\r\npublic class Top {\r\n    // &lt;…&gt;\r\n\r\n    @Column(name=&quot;description&quot;)\r\n    private String desc;\r\n\r\n    // &lt;…&gt;\r\n}\r\n```","title":"HTTP status 500 error, Request processing failed; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement","body":"<h1>Analysis</h1>\n<p>It looks like some names used in the database context (a table name, a column name, etc.) collide with the reserved words of the database server that you currently use.</p>\n<p>Here is a related question: <a href=\"https://stackoverflow.com/questions/20576236/org-hibernate-exception-sqlgrammarexception-could-not-execute-statement\">java - org.hibernate.exception.SQLGrammarException: could not execute statement - Stack Overflow</a>.</p>\n<h1>Solution</h1>\n<p>Please, check the documentation for the reserved words of the database server.</p>\n<p>Please, change the names that collide with the reserved words of the database server.</p>\n<h2>Draft examples</h2>\n<h3>Microsoft SQL server</h3>\n<p><a href=\"https://learn.microsoft.com/en-us/sql/t-sql/language-elements/reserved-keywords-transact-sql?view=sql-server-ver16\" rel=\"nofollow noreferrer\">Reserved Keywords (Transact-SQL) - SQL Server | Microsoft Docs</a>:</p>\n<ul>\n<li><code>DESC</code>.</li>\n<li><code>TOP</code>.</li>\n</ul>\n<p>Therefore, it is required to rename the <code>Top</code> table and the <code>desc</code> column. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;TopProduct&quot;)\npublic class Top {\n    // &lt;…&gt;\n\n    @Column(name=&quot;description&quot;)\n    private String desc;\n\n    // &lt;…&gt;\n}\n</code></pre>\n<h3>MySQL 8.0</h3>\n<p><a href=\"https://dev.mysql.com/doc/refman/8.0/en/keywords.html\" rel=\"nofollow noreferrer\">MySQL :: MySQL 8.0 Reference Manual :: 9.3 Keywords and Reserved Words</a>:</p>\n<ul>\n<li><code>DESC</code>.</li>\n</ul>\n<p>Therefore, it is required to rename the <code>desc</code> column. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// &lt;…&gt;\npublic class Top {\n    // &lt;…&gt;\n\n    @Column(name=&quot;description&quot;)\n    private String desc;\n\n    // &lt;…&gt;\n}\n</code></pre>\n"}],"owner":{"account_id":25952727,"reputation":11,"user_id":19670515,"display_name":"Jayden pak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73201199,"answer_count":1,"score":0,"last_activity_date":1659445807,"creation_date":1659403148,"question_id":73201063,"body_markdown":"I keep getting SQLGrammarException error, I could not find any syntax error from my code. Here is my controller, entity, DAO and JSP file code. Maybe my form tag in addProduct.jsp is wrong, but I could not find the solution.\r\n\r\nHomeController.java\r\n\r\n    package com.soccershop.springdemo.controller;\r\n\r\n    import java.io.IOException;\r\n    import java.util.List;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.ModelAttribute;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n    import com.soccershop.springdemo.entity.Top;\r\n    import com.soccershop.springdemo.service.ProductService;\r\n\r\n    @Controller\r\n    public class HomeController {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate ProductService productService;\r\n    \t\r\n    \t@RequestMapping(&quot;/home&quot;)\r\n    \tpublic String home(Model model) {\r\n    \t\tList&lt;Top&gt; topProductList = productService.getTopProducts();\r\n    \t\tmodel.addAttribute(&quot;topProducts&quot;, topProductList);\r\n    \t\t\r\n    \t\treturn &quot;home&quot; ;\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(&quot;/productDetail/{id}&quot;)\r\n    \tpublic String productDetail(@PathVariable int id, Model model) throws IOException {\r\n    \t\tTop top = productService.getTopById(id);\r\n    \t\tmodel.addAttribute(top);\r\n    \t\treturn &quot;productDetail&quot;;\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(&quot;/admin&quot;)\r\n    \tpublic String adminPage() {\r\n    \t\treturn &quot;admin&quot;;\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(&quot;/admin/productInventory&quot;)\r\n    \tpublic String productInventory(Model model) {\r\n    \t\tList&lt;Top&gt; topProductList = productService.getTopProducts();\r\n    \t\tmodel.addAttribute(&quot;topProducts&quot;, topProductList);\r\n    \t\treturn &quot;productInventory&quot;;\r\n    \t}\r\n    \t\r\n    \t@GetMapping(&quot;/admin/addProduct&quot;)\r\n    \tpublic String addProduct(Model model) {\r\n    \t\tTop top= new Top();\r\n    \t\tmodel.addAttribute(&quot;newProduct&quot;, top);\r\n    \t\treturn &quot;addProduct&quot;;\r\n    \t}\r\n    \t\r\n    \t@PostMapping(&quot;/admin/saveTop&quot;)\r\n    \tpublic String saveTop(@ModelAttribute(&quot;newProduct&quot;) Top theTop) {\r\n    \t\tproductService.saveTop(theTop);\r\n    \t\t\r\n    \t\treturn &quot;redirect:/admin/productInventory&quot;;\r\n    \t}\r\n\r\n    }\r\n\r\nProductDAOImpl.java\r\n\r\n    package com.soccershop.springdemo.dao;\r\n\r\n    import java.io.IOException;\r\n    import java.util.List;\r\n\r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.query.Query;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n\r\n    import com.soccershop.springdemo.entity.Bottom;\r\n    import com.soccershop.springdemo.entity.Top;\r\n\r\n    @Repository\r\n    public class ProductDAOImpl implements ProductDAO {\r\n\r\n    \t// need to inject the session factory\r\n    \t@Autowired\r\n    \tprivate SessionFactory sessionFactory;\r\n    \t\t\t\r\n    \t@Override\r\n    \t@Transactional\r\n    \tpublic List&lt;Top&gt; getTopProducts() {\r\n    \t\t// get the current hibernate session\r\n    \t\tSession currentSession = sessionFactory.getCurrentSession();\r\n    \t\t\t\t\r\n    \t\t// create a query\r\n    \t\tQuery&lt;Top&gt; theQuery = \r\n    \t\t\t\tcurrentSession.createQuery(&quot;from Top&quot;, Top.class);\r\n    \t\t\r\n    \t\t// execute query and get result list\r\n    \t\tList&lt;Top&gt; topProducts = theQuery.getResultList();\r\n    \t\t\t\t\r\n    \t\t// return the results\t\t\r\n    \t\treturn topProducts;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \t@Transactional\r\n    \tpublic List&lt;Bottom&gt; getBottomProducts() {\r\n    \t\t// get the current hibernate session\r\n    \t\tSession currentSession = sessionFactory.getCurrentSession();\r\n    \t\t\t\t\r\n    \t\t// create a query\r\n    \t\tQuery&lt;Bottom&gt; theQuery = \r\n    \t\t\t\tcurrentSession.createQuery(&quot;from Bottom&quot;, Bottom.class);\r\n    \t\t\r\n    \t\t// execute query and get result list\r\n    \t\tList&lt;Bottom&gt; topProducts = theQuery.getResultList();\r\n    \t\t\t\t\r\n    \t\t// return the results\t\t\r\n    \t\treturn topProducts;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic Top getTopById(int topId) throws IOException {\r\n    \t\tfor(Top theTop : getTopProducts()) {\r\n    \t\t\tif(theTop.getId() == topId) {\r\n    \t\t\t\treturn theTop;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tthrow new IOException(&quot;No product found.&quot;);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void saveTop(Top theTop) {\r\n    \t\tSession currentSession = sessionFactory.getCurrentSession();\r\n    \t\t\r\n    \t\tcurrentSession.save(theTop);\r\n    \t}\r\n    }\r\n\r\nTop.java\r\n\r\n    package com.soccershop.springdemo.entity;\r\n\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n\r\n    @Entity\r\n    @Table(name=&quot;Top&quot;)\r\n    public class Top {\r\n\r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \t@Column(name=&quot;id&quot;)\r\n    \tprivate int id;\r\n    \t\r\n    \t@Column(name=&quot;category&quot;)\r\n    \tprivate String productCategory;\r\n    \t\r\n    \t@Column(name=&quot;product_name&quot;)\r\n    \tprivate String productName;\r\n    \t\r\n    \t@Column(name=&quot;price&quot;)\r\n    \tprivate int price;\r\n    \t\r\n    \t@Column(name=&quot;img&quot;)\r\n    \tprivate String img;\r\n    \t\r\n    \t@Column(name=&quot;desc&quot;)\r\n    \tprivate String desc;\r\n    \t \r\n    \t@Column(name=&quot;quantity&quot;)\r\n    \tprivate int quantity;\r\n\r\n    \tpublic Top() {\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic int getQuantity() {\r\n    \t\treturn quantity;\r\n    \t}\r\n\r\n    \tpublic void setQuantity(int quantity) {\r\n    \t\tthis.quantity = quantity;\r\n    \t}\r\n\r\n    \tpublic String getProductCategory() {\r\n    \t\treturn productCategory;\r\n    \t}\r\n\r\n    \tpublic void setProductCategory(String productCategory) {\r\n    \t\tthis.productCategory = productCategory;\r\n    \t}\r\n\r\n    \tpublic String getDesc() {\r\n    \t\treturn desc;\r\n    \t}\r\n\r\n    \tpublic void setDesc(String desc) {\r\n    \t\tthis.desc = desc;\r\n    \t}\r\n\r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n\r\n    \tpublic String getProductName() {\r\n    \t\treturn productName;\r\n    \t}\r\n\r\n    \tpublic int getPrice() {\r\n    \t\treturn price;\r\n    \t}\r\n\r\n    \tpublic String getImg() {\r\n    \t\treturn img;\r\n    \t}\r\n\r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n\r\n    \tpublic void setProductName(String productName) {\r\n    \t\tthis.productName = productName;\r\n    \t}\r\n\r\n    \tpublic void setPrice(int price) {\r\n    \t\tthis.price = price;\r\n    \t}\r\n\r\n    \tpublic void setImg(String img) {\r\n    \t\tthis.img = img;\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Top [id=&quot; + id + &quot;, productCategory=&quot; + productCategory + &quot;, productName=&quot; + productName + &quot;, price=&quot;\r\n    \t\t\t\t+ price + &quot;, img=&quot; + img + &quot;, desc=&quot; + desc + &quot;, quantity=&quot; + quantity + &quot;]&quot;;\r\n    \t}\t\r\n    }\r\n\r\naddProduct.jsp\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n\r\n    &lt;%@include file=&quot;/WEB-INF/view/template/header.jsp&quot;%&gt;\r\n\r\n    &lt;div class=&quot;container-fluid bg-secondary mb-5&quot;&gt;\r\n    \t&lt;div id=&quot;p-header&quot;\r\n    \t\tclass=&quot;d-flex flex-column align-items-center justify-content-center&quot;\r\n    \t\tstyle=&quot;min-height: 300px&quot;&gt;\r\n    \t\t&lt;h1 class=&quot;font-weight-semi-bold text-uppercase mb-3&quot;&gt;Add Product\r\n    \t\t\tPage&lt;/h1&gt;\r\n    \t\t&lt;div class=&quot;d-inline-flex&quot;&gt;\r\n    \t\t\t&lt;p class=&quot;m-0&quot;&gt;\r\n    \t\t\t\t&lt;a href=&quot;http://localhost:8080/Shop/product/home&quot;&gt;Home&lt;/a&gt;\r\n    \t\t\t&lt;/p&gt;\r\n    \t\t\t&lt;p class=&quot;m-0 px-2&quot;&gt;-&lt;/p&gt;\r\n    \t\t\t&lt;p class=&quot;m-0&quot;&gt;Add-Page&lt;/p&gt;\r\n    \t\t&lt;/div&gt;\r\n    \t&lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;section id=&quot;services&quot;&gt;\r\n    \t&lt;div class=&quot;container-fluid&quot;&gt;\r\n    \t\t&lt;div class=&quot;col-lg-8 col-lg-offset-2 text-center&quot;&gt;\r\n    \t\t\t&lt;p&gt;Please fill out the below information to add a product.&lt;/p&gt;\r\n    \t\t\t&lt;hr class=&quot;primary&quot;&gt;\r\n    \t\t&lt;/div&gt;\r\n    \t&lt;/div&gt;\r\n    \t&lt;div class=&quot;container col-md-6 col-md-offset-3&quot;&gt;\r\n    \t\t&lt;form:form action=&quot;saveTop&quot; modelAttribute=&quot;newProduct&quot; method=&quot;POST&quot; &gt;\r\n    \t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n    \t\t\t\t&lt;label for=&quot;category&quot;&gt;Category&lt;/label&gt;\r\n    \t\t\t\t&lt;label class=&quot;checkbox-inline&quot;&gt;\r\n    \t\t\t\t\t&lt;form:radiobutton path=&quot;productCategory&quot; id=&quot;category&quot; value=&quot;top&quot; /&gt;Top\r\n    \t\t\t\t&lt;/label&gt;\r\n    \t\t\t\t&lt;label class=&quot;checkbox-inline&quot;&gt;\r\n    \t\t\t\t\t&lt;form:radiobutton path=&quot;productCategory&quot; id=&quot;category&quot; value=&quot;bottom&quot; /&gt;Bottom\r\n    \t\t\t\t&lt;/label&gt;\r\n    \t\t\t\t&lt;label class=&quot;checkbox-inline&quot;&gt;\r\n    \t\t\t\t\t&lt;form:radiobutton path=&quot;productCategory&quot; id=&quot;category&quot; value=&quot;shoes&quot; /&gt;Shoes\r\n    \t\t\t\t&lt;/label&gt;\r\n    \t\t\t&lt;/div&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n    \t\t\t\t&lt;label for=&quot;name&quot;&gt;Product Name&lt;/label&gt;\r\n    \t\t\t\t&lt;form:input path=&quot;productName&quot; id=&quot;name&quot; Class=&quot;form-control&quot; /&gt;\r\n    \t\t\t&lt;/div&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n    \t\t\t\t&lt;label for=&quot;unitInStock&quot;&gt;Unit in Stock&lt;/label&gt;\r\n    \t\t\t\t&lt;form:textarea path=&quot;quantity&quot; id=&quot;unitInStock&quot; Class=&quot;form-control&quot; /&gt;\r\n    \t\t\t&lt;/div&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n    \t\t\t\t&lt;label for=&quot;price&quot;&gt;Price&lt;/label&gt;\r\n    \t\t\t\t&lt;form:textarea path=&quot;price&quot; id=&quot;price&quot; Class=&quot;form-control&quot; /&gt;\r\n    \t\t\t&lt;/div&gt;\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n    \t\t\t\t&lt;label for=&quot;img&quot;&gt;Image URL&lt;/label&gt;\r\n    \t\t\t\t&lt;form:textarea path=&quot;img&quot; id=&quot;img&quot; Class=&quot;form-control&quot; /&gt;\r\n    \t\t\t&lt;/div&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n    \t\t\t\t&lt;label for=&quot;description&quot;&gt;Description&lt;/label&gt;\r\n    \t\t\t\t&lt;form:textarea path=&quot;desc&quot; id=&quot;description&quot; Class=&quot;form-control&quot; /&gt;\r\n    \t\t\t&lt;/div&gt;&lt;br&gt;\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t&lt;div class=&quot;col-lg-8 col-lg-offset-2 text-center&quot;&gt;\r\n    \t\t\t\t&lt;input type=&quot;submit&quot; value=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;\r\n    \t\t\t\t&lt;a href= &quot;&lt;c:url value=&quot;/admin/productInventory&quot; /&gt;&quot; class=&quot;btn btn-primary&quot;&gt;Cancel&lt;/a&gt;\r\n    \t\t\t&lt;/div&gt;\r\n    \t\t\r\n    \t\t&lt;/form:form&gt;\r\n    \t\r\n    \t&lt;/div&gt;\r\n    &lt;/section&gt;\r\n\r\n    &lt;%@include file=&quot;/WEB-INF/view/template/footer.jsp&quot;%&gt;\r\n\r\n","title":"HTTP status 500 error, Request processing failed; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement","body":"<p>I keep getting SQLGrammarException error, I could not find any syntax error from my code. Here is my controller, entity, DAO and JSP file code. Maybe my form tag in addProduct.jsp is wrong, but I could not find the solution.</p>\n<p>HomeController.java</p>\n<pre><code>package com.soccershop.springdemo.controller;\n\nimport java.io.IOException;\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\nimport com.soccershop.springdemo.entity.Top;\nimport com.soccershop.springdemo.service.ProductService;\n\n@Controller\npublic class HomeController {\n    \n    @Autowired\n    private ProductService productService;\n    \n    @RequestMapping(&quot;/home&quot;)\n    public String home(Model model) {\n        List&lt;Top&gt; topProductList = productService.getTopProducts();\n        model.addAttribute(&quot;topProducts&quot;, topProductList);\n        \n        return &quot;home&quot; ;\n    }\n    \n    @RequestMapping(&quot;/productDetail/{id}&quot;)\n    public String productDetail(@PathVariable int id, Model model) throws IOException {\n        Top top = productService.getTopById(id);\n        model.addAttribute(top);\n        return &quot;productDetail&quot;;\n    }\n    \n    @RequestMapping(&quot;/admin&quot;)\n    public String adminPage() {\n        return &quot;admin&quot;;\n    }\n    \n    @RequestMapping(&quot;/admin/productInventory&quot;)\n    public String productInventory(Model model) {\n        List&lt;Top&gt; topProductList = productService.getTopProducts();\n        model.addAttribute(&quot;topProducts&quot;, topProductList);\n        return &quot;productInventory&quot;;\n    }\n    \n    @GetMapping(&quot;/admin/addProduct&quot;)\n    public String addProduct(Model model) {\n        Top top= new Top();\n        model.addAttribute(&quot;newProduct&quot;, top);\n        return &quot;addProduct&quot;;\n    }\n    \n    @PostMapping(&quot;/admin/saveTop&quot;)\n    public String saveTop(@ModelAttribute(&quot;newProduct&quot;) Top theTop) {\n        productService.saveTop(theTop);\n        \n        return &quot;redirect:/admin/productInventory&quot;;\n    }\n\n}\n</code></pre>\n<p>ProductDAOImpl.java</p>\n<pre><code>package com.soccershop.springdemo.dao;\n\nimport java.io.IOException;\nimport java.util.List;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.query.Query;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport com.soccershop.springdemo.entity.Bottom;\nimport com.soccershop.springdemo.entity.Top;\n\n@Repository\npublic class ProductDAOImpl implements ProductDAO {\n\n    // need to inject the session factory\n    @Autowired\n    private SessionFactory sessionFactory;\n            \n    @Override\n    @Transactional\n    public List&lt;Top&gt; getTopProducts() {\n        // get the current hibernate session\n        Session currentSession = sessionFactory.getCurrentSession();\n                \n        // create a query\n        Query&lt;Top&gt; theQuery = \n                currentSession.createQuery(&quot;from Top&quot;, Top.class);\n        \n        // execute query and get result list\n        List&lt;Top&gt; topProducts = theQuery.getResultList();\n                \n        // return the results       \n        return topProducts;\n    }\n    \n    @Override\n    @Transactional\n    public List&lt;Bottom&gt; getBottomProducts() {\n        // get the current hibernate session\n        Session currentSession = sessionFactory.getCurrentSession();\n                \n        // create a query\n        Query&lt;Bottom&gt; theQuery = \n                currentSession.createQuery(&quot;from Bottom&quot;, Bottom.class);\n        \n        // execute query and get result list\n        List&lt;Bottom&gt; topProducts = theQuery.getResultList();\n                \n        // return the results       \n        return topProducts;\n    }\n    \n    @Override\n    public Top getTopById(int topId) throws IOException {\n        for(Top theTop : getTopProducts()) {\n            if(theTop.getId() == topId) {\n                return theTop;\n            }\n        }\n        throw new IOException(&quot;No product found.&quot;);\n    }\n    \n    @Override\n    public void saveTop(Top theTop) {\n        Session currentSession = sessionFactory.getCurrentSession();\n        \n        currentSession.save(theTop);\n    }\n}\n</code></pre>\n<p>Top.java</p>\n<pre><code>package com.soccershop.springdemo.entity;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name=&quot;Top&quot;)\npublic class Top {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private int id;\n    \n    @Column(name=&quot;category&quot;)\n    private String productCategory;\n    \n    @Column(name=&quot;product_name&quot;)\n    private String productName;\n    \n    @Column(name=&quot;price&quot;)\n    private int price;\n    \n    @Column(name=&quot;img&quot;)\n    private String img;\n    \n    @Column(name=&quot;desc&quot;)\n    private String desc;\n     \n    @Column(name=&quot;quantity&quot;)\n    private int quantity;\n\n    public Top() {\n        \n    }\n    \n    public int getQuantity() {\n        return quantity;\n    }\n\n    public void setQuantity(int quantity) {\n        this.quantity = quantity;\n    }\n\n    public String getProductCategory() {\n        return productCategory;\n    }\n\n    public void setProductCategory(String productCategory) {\n        this.productCategory = productCategory;\n    }\n\n    public String getDesc() {\n        return desc;\n    }\n\n    public void setDesc(String desc) {\n        this.desc = desc;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public String getProductName() {\n        return productName;\n    }\n\n    public int getPrice() {\n        return price;\n    }\n\n    public String getImg() {\n        return img;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public void setProductName(String productName) {\n        this.productName = productName;\n    }\n\n    public void setPrice(int price) {\n        this.price = price;\n    }\n\n    public void setImg(String img) {\n        this.img = img;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Top [id=&quot; + id + &quot;, productCategory=&quot; + productCategory + &quot;, productName=&quot; + productName + &quot;, price=&quot;\n                + price + &quot;, img=&quot; + img + &quot;, desc=&quot; + desc + &quot;, quantity=&quot; + quantity + &quot;]&quot;;\n    }   \n}\n</code></pre>\n<p>addProduct.jsp</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot; %&gt;\n&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\n\n&lt;%@include file=&quot;/WEB-INF/view/template/header.jsp&quot;%&gt;\n\n&lt;div class=&quot;container-fluid bg-secondary mb-5&quot;&gt;\n    &lt;div id=&quot;p-header&quot;\n        class=&quot;d-flex flex-column align-items-center justify-content-center&quot;\n        style=&quot;min-height: 300px&quot;&gt;\n        &lt;h1 class=&quot;font-weight-semi-bold text-uppercase mb-3&quot;&gt;Add Product\n            Page&lt;/h1&gt;\n        &lt;div class=&quot;d-inline-flex&quot;&gt;\n            &lt;p class=&quot;m-0&quot;&gt;\n                &lt;a href=&quot;http://localhost:8080/Shop/product/home&quot;&gt;Home&lt;/a&gt;\n            &lt;/p&gt;\n            &lt;p class=&quot;m-0 px-2&quot;&gt;-&lt;/p&gt;\n            &lt;p class=&quot;m-0&quot;&gt;Add-Page&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;section id=&quot;services&quot;&gt;\n    &lt;div class=&quot;container-fluid&quot;&gt;\n        &lt;div class=&quot;col-lg-8 col-lg-offset-2 text-center&quot;&gt;\n            &lt;p&gt;Please fill out the below information to add a product.&lt;/p&gt;\n            &lt;hr class=&quot;primary&quot;&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;container col-md-6 col-md-offset-3&quot;&gt;\n        &lt;form:form action=&quot;saveTop&quot; modelAttribute=&quot;newProduct&quot; method=&quot;POST&quot; &gt;\n            &lt;div class=&quot;form-group&quot;&gt;\n                &lt;label for=&quot;category&quot;&gt;Category&lt;/label&gt;\n                &lt;label class=&quot;checkbox-inline&quot;&gt;\n                    &lt;form:radiobutton path=&quot;productCategory&quot; id=&quot;category&quot; value=&quot;top&quot; /&gt;Top\n                &lt;/label&gt;\n                &lt;label class=&quot;checkbox-inline&quot;&gt;\n                    &lt;form:radiobutton path=&quot;productCategory&quot; id=&quot;category&quot; value=&quot;bottom&quot; /&gt;Bottom\n                &lt;/label&gt;\n                &lt;label class=&quot;checkbox-inline&quot;&gt;\n                    &lt;form:radiobutton path=&quot;productCategory&quot; id=&quot;category&quot; value=&quot;shoes&quot; /&gt;Shoes\n                &lt;/label&gt;\n            &lt;/div&gt;\n            \n            &lt;div class=&quot;form-group&quot;&gt;\n                &lt;label for=&quot;name&quot;&gt;Product Name&lt;/label&gt;\n                &lt;form:input path=&quot;productName&quot; id=&quot;name&quot; Class=&quot;form-control&quot; /&gt;\n            &lt;/div&gt;\n            \n            &lt;div class=&quot;form-group&quot;&gt;\n                &lt;label for=&quot;unitInStock&quot;&gt;Unit in Stock&lt;/label&gt;\n                &lt;form:textarea path=&quot;quantity&quot; id=&quot;unitInStock&quot; Class=&quot;form-control&quot; /&gt;\n            &lt;/div&gt;\n            \n            &lt;div class=&quot;form-group&quot;&gt;\n                &lt;label for=&quot;price&quot;&gt;Price&lt;/label&gt;\n                &lt;form:textarea path=&quot;price&quot; id=&quot;price&quot; Class=&quot;form-control&quot; /&gt;\n            &lt;/div&gt;\n            \n            \n            &lt;div class=&quot;form-group&quot;&gt;\n                &lt;label for=&quot;img&quot;&gt;Image URL&lt;/label&gt;\n                &lt;form:textarea path=&quot;img&quot; id=&quot;img&quot; Class=&quot;form-control&quot; /&gt;\n            &lt;/div&gt;\n            \n            &lt;div class=&quot;form-group&quot;&gt;\n                &lt;label for=&quot;description&quot;&gt;Description&lt;/label&gt;\n                &lt;form:textarea path=&quot;desc&quot; id=&quot;description&quot; Class=&quot;form-control&quot; /&gt;\n            &lt;/div&gt;&lt;br&gt;\n            \n            \n            &lt;div class=&quot;col-lg-8 col-lg-offset-2 text-center&quot;&gt;\n                &lt;input type=&quot;submit&quot; value=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;\n                &lt;a href= &quot;&lt;c:url value=&quot;/admin/productInventory&quot; /&gt;&quot; class=&quot;btn btn-primary&quot;&gt;Cancel&lt;/a&gt;\n            &lt;/div&gt;\n        \n        &lt;/form:form&gt;\n    \n    &lt;/div&gt;\n&lt;/section&gt;\n\n&lt;%@include file=&quot;/WEB-INF/view/template/footer.jsp&quot;%&gt;\n</code></pre>\n"},{"tags":["java","spring-jdbc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1659444916,"post_id":73207855,"comment_id":129292310,"body_markdown":"Could you include the stacktrace you get and you probably want to return a `Map` and not the implementation `HashMap`.","body":"Could you include the stacktrace you get and you probably want to return a <code>Map</code> and not the implementation <code>HashMap</code>."},{"owner":{"account_id":60442,"reputation":3951,"user_id":180524,"accept_rate":59,"display_name":"Jason"},"score":0,"creation_date":1659445335,"post_id":73207855,"comment_id":129292489,"body_markdown":"Stacktrace added.","body":"Stacktrace added."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1659445501,"post_id":73207855,"comment_id":129292552,"body_markdown":"Have you tried adding `withNamedBinding`? As you are using names in the binding for the result. Make sure that the name used matches the name used in the function.","body":"Have you tried adding <code>withNamedBinding</code>? As you are using names in the binding for the result. Make sure that the name used matches the name used in the function."},{"owner":{"account_id":60442,"reputation":3951,"user_id":180524,"accept_rate":59,"display_name":"Jason"},"score":0,"creation_date":1659445854,"post_id":73207855,"comment_id":129292720,"body_markdown":"I just added that with an intentionally wrong parameter name just to try to get a different exception, same error. I honestly don&#39;t care if I get this by index or named parameter, I just need the result.","body":"I just added that with an intentionally wrong parameter name just to try to get a different exception, same error. I honestly don&#39;t care if I get this by index or named parameter, I just need the result."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1659446069,"post_id":73207855,"comment_id":129292804,"body_markdown":"As stated have you tried with `withnamedBinding` in your setup? Also make sure it matches the name (also in casing etc.) as used in your function.","body":"As stated have you tried with <code>withnamedBinding</code> in your setup? Also make sure it matches the name (also in casing etc.) as used in your function."},{"owner":{"account_id":60442,"reputation":3951,"user_id":180524,"accept_rate":59,"display_name":"Jason"},"score":0,"creation_date":1659447412,"post_id":73207855,"comment_id":129293374,"body_markdown":"I have added ```withNamedBinding()``` and confirmed that the package name and function name matches (casing, spelling, etc). Same error. I added ```.withoutProcedureColumnMetaDataAccess()``` which eliminated the error, but I can&#39;t exactly convert the results to a hashmap if I can&#39;t get the column name from the ```ResultSetMetaData```, so it definitely wasn&#39;t a solution.","body":"I have added <code>withNamedBinding()</code> and confirmed that the package name and function name matches (casing, spelling, etc). Same error. I added <code>.withoutProcedureColumnMetaDataAccess()</code> which eliminated the error, but I can&#39;t exactly convert the results to a hashmap if I can&#39;t get the column name from the <code>ResultSetMetaData</code>, so it definitely wasn&#39;t a solution."}],"owner":{"account_id":60442,"reputation":3951,"user_id":180524,"accept_rate":59,"display_name":"Jason"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659445311,"creation_date":1659444588,"question_id":73207855,"body_markdown":"I have an Oracle Stored Function that returns a ref cursors but takes no input parameters.\r\n\r\nCode is below:\r\n\r\n```java\r\n    @Override\r\n    public Map&lt;String, String&gt; getLoginProperties() {\r\n        \r\n        SimpleJdbcCall call = new SimpleJdbcCall(dataSource)\r\n                .withCatalogName(&quot;LOGIN_PKG&quot;)\r\n                .withFunctionName(&quot;get_login_properties&quot;)\r\n                .returningResultSet(&quot;props&quot;, new HashMapRowMapper());\r\n        Map&lt;String, String&gt; result = call.executeFunction(HashMap.class);\r\n        return result;\r\n    }\r\n```\r\n\r\n`HashMapRowMapper` is custom (currently barely implemented) code to return the results of the call as a `HashMap`, couldn&#39;t find an existing implementation to do it.\r\n\r\nThis code is throwing a `SQLException` due to missing IN or OUT parameter at index: 1. I&#39;ve tried passing an empty `SqlParameterSource` with no luck.\r\n\r\nProbably a simple issue, can anyone help?\r\n\r\nJason\r\n\r\nEDIT: The function returns an Oracle ref cursor. Exception below. Line &quot;68&quot; refers to the line that ```executeFunction``` is on.\r\n\r\n```java\r\norg.springframework.jdbc.UncategorizedSQLException: CallableStatementCallback; uncategorized SQLException for SQL [{? = call LOGIN_PKG.GET_LOGIN_PROPERTIES()}]; SQL state [99999]; error code [17041]; Missing IN or OUT parameter at index:: 1; nested exception is java.sql.SQLException: Missing IN or OUT parameter at index:: 1\r\n\tat org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1542)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1206)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.call(JdbcTemplate.java:1245)\r\n\tat org.springframework.jdbc.core.simple.AbstractJdbcCall.executeCallInternal(AbstractJdbcCall.java:412)\r\n\tat org.springframework.jdbc.core.simple.AbstractJdbcCall.doExecute(AbstractJdbcCall.java:395)\r\n\tat org.springframework.jdbc.core.simple.SimpleJdbcCall.execute(SimpleJdbcCall.java:193)\r\n\tat org.jason.app.repository.UserRepositoryImpl.getLoginProperties(UserRepositoryImpl.java:68)\r\n\tat org.jason.app.repository.UserRepositoryImpl$$FastClassBySpringCGLIB$$678318db.invoke(&lt;generated&gt;)\r\n\t(snip)\r\nCaused by: java.sql.SQLException: Missing IN or OUT parameter at index:: 1\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.processCompletedBindRow(OraclePreparedStatement.java:2018)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3736)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.execute(OraclePreparedStatement.java:3941)\r\n\tat oracle.jdbc.driver.OracleCallableStatement.execute(OracleCallableStatement.java:4279)\r\n\tat oracle.jdbc.driver.OraclePreparedStatementWrapper.execute(OraclePreparedStatementWrapper.java:1010)\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)\r\n\tat com.zaxxer.hikari.pool.HikariProxyCallableStatement.execute(HikariProxyCallableStatement.java)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.lambda$call$6(JdbcTemplate.java:1246)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1190)\r\n\t... 83 more\r\n```","title":"SimpleJdbcCall for Function Without Parameters","body":"<p>I have an Oracle Stored Function that returns a ref cursors but takes no input parameters.</p>\n<p>Code is below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public Map&lt;String, String&gt; getLoginProperties() {\n        \n        SimpleJdbcCall call = new SimpleJdbcCall(dataSource)\n                .withCatalogName(&quot;LOGIN_PKG&quot;)\n                .withFunctionName(&quot;get_login_properties&quot;)\n                .returningResultSet(&quot;props&quot;, new HashMapRowMapper());\n        Map&lt;String, String&gt; result = call.executeFunction(HashMap.class);\n        return result;\n    }\n</code></pre>\n<p><code>HashMapRowMapper</code> is custom (currently barely implemented) code to return the results of the call as a <code>HashMap</code>, couldn't find an existing implementation to do it.</p>\n<p>This code is throwing a <code>SQLException</code> due to missing IN or OUT parameter at index: 1. I've tried passing an empty <code>SqlParameterSource</code> with no luck.</p>\n<p>Probably a simple issue, can anyone help?</p>\n<p>Jason</p>\n<p>EDIT: The function returns an Oracle ref cursor. Exception below. Line &quot;68&quot; refers to the line that <code>executeFunction</code> is on.</p>\n<pre class=\"lang-java prettyprint-override\"><code>org.springframework.jdbc.UncategorizedSQLException: CallableStatementCallback; uncategorized SQLException for SQL [{? = call LOGIN_PKG.GET_LOGIN_PROPERTIES()}]; SQL state [99999]; error code [17041]; Missing IN or OUT parameter at index:: 1; nested exception is java.sql.SQLException: Missing IN or OUT parameter at index:: 1\n    at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1542)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1206)\n    at org.springframework.jdbc.core.JdbcTemplate.call(JdbcTemplate.java:1245)\n    at org.springframework.jdbc.core.simple.AbstractJdbcCall.executeCallInternal(AbstractJdbcCall.java:412)\n    at org.springframework.jdbc.core.simple.AbstractJdbcCall.doExecute(AbstractJdbcCall.java:395)\n    at org.springframework.jdbc.core.simple.SimpleJdbcCall.execute(SimpleJdbcCall.java:193)\n    at org.jason.app.repository.UserRepositoryImpl.getLoginProperties(UserRepositoryImpl.java:68)\n    at org.jason.app.repository.UserRepositoryImpl$$FastClassBySpringCGLIB$$678318db.invoke(&lt;generated&gt;)\n    (snip)\nCaused by: java.sql.SQLException: Missing IN or OUT parameter at index:: 1\n    at oracle.jdbc.driver.OraclePreparedStatement.processCompletedBindRow(OraclePreparedStatement.java:2018)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3736)\n    at oracle.jdbc.driver.OraclePreparedStatement.execute(OraclePreparedStatement.java:3941)\n    at oracle.jdbc.driver.OracleCallableStatement.execute(OracleCallableStatement.java:4279)\n    at oracle.jdbc.driver.OraclePreparedStatementWrapper.execute(OraclePreparedStatementWrapper.java:1010)\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)\n    at com.zaxxer.hikari.pool.HikariProxyCallableStatement.execute(HikariProxyCallableStatement.java)\n    at org.springframework.jdbc.core.JdbcTemplate.lambda$call$6(JdbcTemplate.java:1246)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1190)\n    ... 83 more\n</code></pre>\n"},{"tags":["java","super"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":1,"creation_date":1659444191,"post_id":73207731,"comment_id":129292033,"body_markdown":"https://www.javatpoint.com/super-keyword","body":"<a href=\"https://www.javatpoint.com/super-keyword\" rel=\"nofollow noreferrer\">javatpoint.com/super-keyword</a>"},{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1659444344,"post_id":73207731,"comment_id":129292088,"body_markdown":"There is only one total field that your `Savings` class inherits. I&#39;m not sure why you think there should be 2 `total` fields and what you expect their values to be when you clearly only define one field.","body":"There is only one total field that your <code>Savings</code> class inherits. I&#39;m not sure why you think there should be 2 <code>total</code> fields and what you expect their values to be when you clearly only define one field."},{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":2,"creation_date":1659444420,"post_id":73207731,"comment_id":129292123,"body_markdown":"`total` and `super.total` is the same field . Why are you expecting 2 different outputs?","body":"<code>total</code> and <code>super.total</code> is the same field . Why are you expecting 2 different outputs?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1659444455,"post_id":73207731,"comment_id":129292141,"body_markdown":"While `super` can be used to access the parent class&#39;s method implementations (or even parent interfaces through `MyInterface.super.someMethod()`), the fields that are inherited are a part of the object instance you are working with (always inherited), and static fields are never inherited. There isn&#39;t an ambiguity to resolve through `super.total` (which the answer below beat me to, drat!)","body":"While <code>super</code> can be used to access the parent class&#39;s method implementations (or even parent interfaces through <code>MyInterface.super.someMethod()</code>), the fields that are inherited are a part of the object instance you are working with (always inherited), and static fields are never inherited. There isn&#39;t an ambiguity to resolve through <code>super.total</code> (which the answer below beat me to, drat!)"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1659444679,"post_id":73207731,"comment_id":129292204,"body_markdown":"More to consider:  why did you make `Account.total` `protected`?  Try changing to `private`, and compile.  Does that help clarify what&#39;s going on?","body":"More to consider:  why did you make <code>Account.total</code> <code>protected</code>?  Try changing to <code>private</code>, and compile.  Does that help clarify what&#39;s going on?"}],"answers":[{"tags":[],"owner":{"account_id":7487496,"reputation":8511,"user_id":5690248,"accept_rate":100,"display_name":"The Dreams Wind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659445106,"creation_date":1659444469,"answer_id":73207819,"question_id":73207731,"body_markdown":"You didn&#39;t define any `total` property in your derived class (`Savings`), thus when accessing `total` you get the property defined only in the base class `Account` (there is no alternative in your implementation of `Savings`). If you need to introduce distinct properties used between base and derived classes with the same name, define a new property with the same name in the derived class, like this:\r\n\r\n    public class Savings extends Account {\r\n\r\n        int total;\r\n        ...\r\n\r\nWith this implementation you&#39;ll get two different variables `total` and `super.total` which store different values.","title":"Why is the super keyword in Java not referring to the super class?","body":"<p>You didn't define any <code>total</code> property in your derived class (<code>Savings</code>), thus when accessing <code>total</code> you get the property defined only in the base class <code>Account</code> (there is no alternative in your implementation of <code>Savings</code>). If you need to introduce distinct properties used between base and derived classes with the same name, define a new property with the same name in the derived class, like this:</p>\n<pre><code>public class Savings extends Account {\n\n    int total;\n    ...\n</code></pre>\n<p>With this implementation you'll get two different variables <code>total</code> and <code>super.total</code> which store different values.</p>\n"}],"owner":{"account_id":24165516,"reputation":1,"user_id":18128425,"display_name":"Joshua"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73207819,"answer_count":1,"score":-1,"last_activity_date":1659445106,"creation_date":1659444089,"question_id":73207731,"body_markdown":"The `super` keyword in a subclass (`Savings`) is not referring to the `Account` class. I am trying to reference the total instance of the `Account` class by using `super.total`, however it is giving me the total of the `Savings` class.\r\n\r\n`total` and `super.total` are the same. Furthermore, when I print out `super.getClass()` in the console, it gives me the subclass (`Savings`) instead of the super class (`Accounts`).\r\n\r\n**Savings.java**\r\n\r\n    public class Savings extends Account {\r\n        \r\n        \r\n        public Savings(int initial, User owner, double history, double monthInterest) {\r\n            super(initial, owner);\r\n            int total = getTotal();\r\n    \r\n    \r\n            deposit(history * 12 * monthInterest / 100 * (total + 55),\r\n                    &quot;monthly interest&quot;,\r\n                    &quot;Total interest accumulated in &quot; + Math.round(history * 12) + &quot; months&quot;);\r\n    \r\n        }\r\n        \r\n        public void transferS(int amount) {\r\n            System.out.println(total);\r\n            System.out.println(super.total);\r\n        } \r\n    \r\n**Account.java**\r\n\r\n    public class Account {\r\n        \r\n        private User owner;\r\n        protected int total;\r\n    \r\n        public Account(int initial, User owner) {\r\n        \r\n            this.total = initial;\r\n            this.owner = owner;\r\n        }\r\n        \r\n        public int getTotal() {\r\n            return total;\r\n        }\r\n\r\n","title":"Why is the super keyword in Java not referring to the super class?","body":"<p>The <code>super</code> keyword in a subclass (<code>Savings</code>) is not referring to the <code>Account</code> class. I am trying to reference the total instance of the <code>Account</code> class by using <code>super.total</code>, however it is giving me the total of the <code>Savings</code> class.</p>\n<p><code>total</code> and <code>super.total</code> are the same. Furthermore, when I print out <code>super.getClass()</code> in the console, it gives me the subclass (<code>Savings</code>) instead of the super class (<code>Accounts</code>).</p>\n<p><strong>Savings.java</strong></p>\n<pre><code>public class Savings extends Account {\n    \n    \n    public Savings(int initial, User owner, double history, double monthInterest) {\n        super(initial, owner);\n        int total = getTotal();\n\n\n        deposit(history * 12 * monthInterest / 100 * (total + 55),\n                &quot;monthly interest&quot;,\n                &quot;Total interest accumulated in &quot; + Math.round(history * 12) + &quot; months&quot;);\n\n    }\n    \n    public void transferS(int amount) {\n        System.out.println(total);\n        System.out.println(super.total);\n    } \n</code></pre>\n<p><strong>Account.java</strong></p>\n<pre><code>public class Account {\n    \n    private User owner;\n    protected int total;\n\n    public Account(int initial, User owner) {\n    \n        this.total = initial;\n        this.owner = owner;\n    }\n    \n    public int getTotal() {\n        return total;\n    }\n</code></pre>\n"},{"tags":["java","java.util.concurrent"],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659445085,"creation_date":1659445085,"answer_id":73207978,"question_id":73207633,"body_markdown":"There exists [`Collections.synchronizedList`][1], however you would still need to synchronize on the list when using an Iterator, so the third party lib is problematic.\r\n\r\n        new Thread(() -&gt; {\r\n            List&lt;Integer&gt; list = instance1.getList();\r\n            for(int i = 1;i&lt;=25;i++){\r\n                list.add(i);\r\n            }\r\n            synchronized (list) {\r\n                for(int i : list){\r\n                    System.out.println(i+ &quot; &quot;);\r\n                }\r\n            }\r\n            synchronized (list) {\r\n                thirdPartyLib(list);//Third party library which is internally iterating over list\r\n            }\r\n        }).start();\r\n\r\n        new Thread(() -&gt; {\r\n            List&lt;Integer&gt; list = instance1.getList();\r\n            for(int i = 26;i&lt;=50;i++){\r\n                instance1.list.add(i);\r\n            }\r\n            synchronized (list) {\r\n                for(int i : list){\r\n                    System.out.println(&quot;from2 &quot;+i);\r\n                }\r\n            }\r\n            synchronized (list) {\r\n                thirdPartyLib(list);//Third party library which is internally iterating over list\r\n            }\r\n        }).start();\r\n    }\r\n\r\n    public class Item {\r\n        private final List&lt;Integer&gt; list = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n    \r\n        public List&lt;Integer&gt; getList() {\r\n            return list;\r\n        }\r\n    }\r\n\r\nThis is quite unsatisfactory. \r\n\r\nYou could combine that `CopyOnWriteArrayList` and provide independent `IntStream`s for iterations, best with no List access, just an `add` method in `Item`.\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/Collections.html#synchronizedList(java.util.List)","title":"Java ConcurrentModificationException for writing to array list from multiple thread","body":"<p>There exists <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Collections.html#synchronizedList(java.util.List)\" rel=\"nofollow noreferrer\"><code>Collections.synchronizedList</code></a>, however you would still need to synchronize on the list when using an Iterator, so the third party lib is problematic.</p>\n<pre><code>    new Thread(() -&gt; {\n        List&lt;Integer&gt; list = instance1.getList();\n        for(int i = 1;i&lt;=25;i++){\n            list.add(i);\n        }\n        synchronized (list) {\n            for(int i : list){\n                System.out.println(i+ &quot; &quot;);\n            }\n        }\n        synchronized (list) {\n            thirdPartyLib(list);//Third party library which is internally iterating over list\n        }\n    }).start();\n\n    new Thread(() -&gt; {\n        List&lt;Integer&gt; list = instance1.getList();\n        for(int i = 26;i&lt;=50;i++){\n            instance1.list.add(i);\n        }\n        synchronized (list) {\n            for(int i : list){\n                System.out.println(&quot;from2 &quot;+i);\n            }\n        }\n        synchronized (list) {\n            thirdPartyLib(list);//Third party library which is internally iterating over list\n        }\n    }).start();\n}\n\npublic class Item {\n    private final List&lt;Integer&gt; list = Collections.synchronizedList(new ArrayList&lt;&gt;());\n\n    public List&lt;Integer&gt; getList() {\n        return list;\n    }\n}\n</code></pre>\n<p>This is quite unsatisfactory.</p>\n<p>You could combine that <code>CopyOnWriteArrayList</code> and provide independent <code>IntStream</code>s for iterations, best with no List access, just an <code>add</code> method in <code>Item</code>.</p>\n"}],"owner":{"account_id":18779513,"reputation":1070,"user_id":13694485,"display_name":"PRANAV SINGH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73207978,"answer_count":1,"score":1,"last_activity_date":1659445085,"creation_date":1659443597,"question_id":73207633,"body_markdown":"In java I have the following Item class\r\n\r\n\r\n    public class Item {\r\n        private final List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n        public synchronized List&lt;Integer&gt; getList() {\r\n            return list;\r\n        }\r\n    }\r\nand I&#39;m accessing list element of this class from multiple threads which is throwing concurrent exception error. \r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            Item instance1 = new Item();\r\n            Collections.addAll(instance1.getList(),-1,-2,-3,-4,-5,-6,-7,-8,-9,-10,-11,-12,-13,-14,-15);\r\n    \r\n            new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    for(int i = 1;i&lt;=25;i++){\r\n                        instance1.getList().add(i);\r\n                    }\r\n                    for(int i : instance1.getList()){\r\n                        System.out.println(i+ &quot; &quot;);\r\n                    }\r\n    \r\n                    thirdPartyLib(instance1.getList());//Third party library which is internally iterating over list\r\n                }\r\n            }).start();\r\n    \r\n            new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    for(int i = 26;i&lt;=50;i++){\r\n                        instance1.getList().add(i);\r\n                    }\r\n                    for(int i : instance1.getList()){\r\n                        System.out.println(&quot;from2 &quot;+i);\r\n                    }\r\n\r\n                   thirdPartyLib(instance1.getList());//Third party library which is internally iterating over list\r\n                }\r\n            }).start();\r\n        }\r\n    }\r\n\r\nIt is perfectly working with CopyOnWriteArrayList but in real scenario list is being edited many times from multiple places therefore CopyOnWriteArrayList is not the good choice for me. Also I can&#39;t use Iterator because this error is thrown by third party library which is working with list. is there any way by which I can solve this error? \r\n","title":"Java ConcurrentModificationException for writing to array list from multiple thread","body":"<p>In java I have the following Item class</p>\n<pre><code>public class Item {\n    private final List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n\n    public synchronized List&lt;Integer&gt; getList() {\n        return list;\n    }\n}\n</code></pre>\n<p>and I'm accessing list element of this class from multiple threads which is throwing concurrent exception error.</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        Item instance1 = new Item();\n        Collections.addAll(instance1.getList(),-1,-2,-3,-4,-5,-6,-7,-8,-9,-10,-11,-12,-13,-14,-15);\n\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                for(int i = 1;i&lt;=25;i++){\n                    instance1.getList().add(i);\n                }\n                for(int i : instance1.getList()){\n                    System.out.println(i+ &quot; &quot;);\n                }\n\n                thirdPartyLib(instance1.getList());//Third party library which is internally iterating over list\n            }\n        }).start();\n\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                for(int i = 26;i&lt;=50;i++){\n                    instance1.getList().add(i);\n                }\n                for(int i : instance1.getList()){\n                    System.out.println(&quot;from2 &quot;+i);\n                }\n\n               thirdPartyLib(instance1.getList());//Third party library which is internally iterating over list\n            }\n        }).start();\n    }\n}\n</code></pre>\n<p>It is perfectly working with CopyOnWriteArrayList but in real scenario list is being edited many times from multiple places therefore CopyOnWriteArrayList is not the good choice for me. Also I can't use Iterator because this error is thrown by third party library which is working with list. is there any way by which I can solve this error?</p>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":15988,"reputation":872878,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"score":1,"creation_date":1548346332,"post_id":54350902,"comment_id":95517204,"body_markdown":"You should use a JSON parser.","body":"You should use a JSON parser."},{"owner":{"account_id":4118423,"reputation":9783,"user_id":3379437,"accept_rate":72,"display_name":"Beloo"},"score":0,"creation_date":1548346660,"post_id":54350902,"comment_id":95517401,"body_markdown":"you may use regex if the escaped string follows some pattern","body":"you may use regex if the escaped string follows some pattern"},{"owner":{"account_id":417765,"reputation":3864,"user_id":793943,"accept_rate":78,"display_name":"Sush"},"score":0,"creation_date":1548346827,"post_id":54350902,"comment_id":95517519,"body_markdown":"what json database is it a .json file or database with .db extension .?","body":"what json database is it a .json file or database with .db extension .?"},{"owner":{"account_id":5436326,"reputation":167,"user_id":4325716,"accept_rate":43,"display_name":"Emotional_Goose"},"score":0,"creation_date":1548346866,"post_id":54350902,"comment_id":95517546,"body_markdown":"is the json coming from an array or just a string of json?","body":"is the json coming from an array or just a string of json?"},{"owner":{"account_id":15192440,"reputation":3,"user_id":10962808,"display_name":"DiggsMan"},"score":0,"creation_date":1548347039,"post_id":54350902,"comment_id":95517678,"body_markdown":"@SLaks I&#39;ve tried some online JSON parsers and editors, but none had the functionality to select every of a character in the formatted JSON.","body":"@SLaks I&#39;ve tried some online JSON parsers and editors, but none had the functionality to select every of a character in the formatted JSON."},{"owner":{"account_id":15192440,"reputation":3,"user_id":10962808,"display_name":"DiggsMan"},"score":0,"creation_date":1548347074,"post_id":54350902,"comment_id":95517697,"body_markdown":"@Beloo there is some patterns that could get about 70% of the brackets out, but that would leave me with the exceptions.","body":"@Beloo there is some patterns that could get about 70% of the brackets out, but that would leave me with the exceptions."},{"owner":{"account_id":15192440,"reputation":3,"user_id":10962808,"display_name":"DiggsMan"},"score":0,"creation_date":1548347089,"post_id":54350902,"comment_id":95517711,"body_markdown":"@Sush it is a .json file.","body":"@Sush it is a .json file."},{"owner":{"account_id":15192440,"reputation":3,"user_id":10962808,"display_name":"DiggsMan"},"score":0,"creation_date":1548347100,"post_id":54350902,"comment_id":95517720,"body_markdown":"@al_khalid an array.","body":"@al_khalid an array."}],"answers":[{"tags":[],"owner":{"account_id":7314864,"reputation":819,"user_id":5572869,"display_name":"aBnormaLz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548346689,"creation_date":1548346689,"answer_id":54351041,"question_id":54350902,"body_markdown":"If you are sure that the JSON file is formatted like your example, you can check whether the line contains anything else then whitespaces and { or }\r\n\r\nIf the line contains anything else, then replace the brackets\r\n\r\nIf not, then don&#39;t replace","title":"Is there a way to replace brackets in a string inside a .json file?","body":"<p>If you are sure that the JSON file is formatted like your example, you can check whether the line contains anything else then whitespaces and { or }</p>\n\n<p>If the line contains anything else, then replace the brackets</p>\n\n<p>If not, then don't replace</p>\n"},{"tags":[],"owner":{"account_id":12477770,"reputation":151,"user_id":9083599,"display_name":"lGSMl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1548349239,"creation_date":1548347300,"answer_id":54351255,"question_id":54350902,"body_markdown":"If you wanna use the find/replace functionality of text editors - using IDE like intelij - there is an option to replace stuff by regex. \r\nE.g. this `(?=\\S.)({|})` should cover your case with braces in string only, while not touching json syntax braces. If you have other unique cases - they should be included in regex. Example - https://regex101.com/r/wbIgKX/1\r\n\r\nThough, I would propose to create a proper json parser class specifically to deal with your stuff.\r\n","title":"Is there a way to replace brackets in a string inside a .json file?","body":"<p>If you wanna use the find/replace functionality of text editors - using IDE like intelij - there is an option to replace stuff by regex. \nE.g. this <code>(?=\\S.)({|})</code> should cover your case with braces in string only, while not touching json syntax braces. If you have other unique cases - they should be included in regex. Example - <a href=\"https://regex101.com/r/wbIgKX/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/wbIgKX/1</a></p>\n\n<p>Though, I would propose to create a proper json parser class specifically to deal with your stuff.</p>\n"},{"tags":[],"owner":{"account_id":5436326,"reputation":167,"user_id":4325716,"accept_rate":43,"display_name":"Emotional_Goose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548348115,"creation_date":1548348115,"answer_id":54351482,"question_id":54350902,"body_markdown":"Try this: \r\n\r\nconvert the json array into JObject and then  you can grab each individual element. then parse through that and replace the curly brackets.  \r\n\r\n    String example =  jObject.SelectToken(&quot;entries&quot;);\r\n    &quot;entries&quot;: [\r\n              &quot;If something something {28} + {41.6} something&quot;\r\n            ]\r\n\r\n\r\nhope this helps :)","title":"Is there a way to replace brackets in a string inside a .json file?","body":"<p>Try this: </p>\n\n<p>convert the json array into JObject and then  you can grab each individual element. then parse through that and replace the curly brackets.  </p>\n\n<pre><code>String example =  jObject.SelectToken(\"entries\");\n\"entries\": [\n          \"If something something {28} + {41.6} something\"\n        ]\n</code></pre>\n\n<p>hope this helps :)</p>\n"},{"tags":[],"owner":{"account_id":7765675,"reputation":91,"user_id":5876928,"display_name":"Chandra Shekhar Paatni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548349067,"creation_date":1548349067,"answer_id":54351804,"question_id":54350902,"body_markdown":"I have tried multiple way to resolve this issue but directly you cannot replace it. There is way to do it , First iterate the json and check whether the line contains curly brace or not. If contains then you can use str.replaceAll(&quot;[{}]&quot;, &quot; &quot;);. This will remove the all the curly braces and gives you the string without braces.\r\n","title":"Is there a way to replace brackets in a string inside a .json file?","body":"<p>I have tried multiple way to resolve this issue but directly you cannot replace it. There is way to do it , First iterate the json and check whether the line contains curly brace or not. If contains then you can use str.replaceAll(\"[{}]\", \" \");. This will remove the all the curly braces and gives you the string without braces.</p>\n"},{"tags":[],"owner":{"account_id":7531541,"reputation":197,"user_id":5719526,"accept_rate":50,"display_name":"Marcos Delgado"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659445014,"creation_date":1659445014,"answer_id":73207955,"question_id":54350902,"body_markdown":"The best way to achieve is:\r\n\r\n    final String finalString = listId.getList().stream().map(String::valueOf).collect(Collectors.joining(&quot;,&quot;)).toString();\r\n\r\nlistId is a JsonArray.","title":"Is there a way to replace brackets in a string inside a .json file?","body":"<p>The best way to achieve is:</p>\n<pre><code>final String finalString = listId.getList().stream().map(String::valueOf).collect(Collectors.joining(&quot;,&quot;)).toString();\n</code></pre>\n<p>listId is a JsonArray.</p>\n"}],"owner":{"account_id":15192440,"reputation":3,"user_id":10962808,"display_name":"DiggsMan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2467,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54351255,"answer_count":5,"score":0,"last_activity_date":1659445014,"creation_date":1548346268,"question_id":54350902,"body_markdown":"I am working on an app that has a huge .json database, a lot of the strings I need in the .json file have curly brackets (&quot;{&quot;, &quot;}&quot;) inside them, which I do not want, like this:\r\n\r\n    [\r\n          {\r\n            &quot;name&quot;: &quot;Whatever&quot;,\r\n            &quot;entries&quot;: [\r\n              &quot;If something something {28} + {41.6} something&quot;\r\n            ]\r\n          }\r\n    ]\r\n\r\nAnd I need to get the string as &quot;If something something 28 + 41.6 something&quot;.\r\n\r\n\r\nI remove them by fetching the string I need and using this method:\r\n\r\n\r\n\r\n    public String formatText(String text) {\r\n\r\n        String newtext = text.replaceAll(&quot;\\\\{&quot;, &quot;&quot;).replaceAll(&quot;\\\\}&quot;, &quot;&quot;);\r\n\r\n       return newtext;\r\n    }\r\n\r\n\r\nThat works but makes everything really slow.\r\nI had other characters in the file, like &quot;@&quot;, that I had no problem removing in a text editor by selecting all of them and replacing by the empty string. But if I use the same logic with the curly brackets it will also remove the json object brackets.\r\n\r\nAnyone can think of a way to edit this file and remove only the brackets inside the strings?\r\n\r\n\r\n\r\n(I&#39;ve thought of making a method that copies the strings, formats them and send them to a new .json, but that would be really innefective timewise, because there is a lot of different values inside every object.)\r\n\r\n","title":"Is there a way to replace brackets in a string inside a .json file?","body":"<p>I am working on an app that has a huge .json database, a lot of the strings I need in the .json file have curly brackets (\"{\", \"}\") inside them, which I do not want, like this:</p>\n\n<pre><code>[\n      {\n        \"name\": \"Whatever\",\n        \"entries\": [\n          \"If something something {28} + {41.6} something\"\n        ]\n      }\n]\n</code></pre>\n\n<p>And I need to get the string as \"If something something 28 + 41.6 something\".</p>\n\n<p>I remove them by fetching the string I need and using this method:</p>\n\n<pre><code>public String formatText(String text) {\n\n    String newtext = text.replaceAll(\"\\\\{\", \"\").replaceAll(\"\\\\}\", \"\");\n\n   return newtext;\n}\n</code></pre>\n\n<p>That works but makes everything really slow.\nI had other characters in the file, like \"@\", that I had no problem removing in a text editor by selecting all of them and replacing by the empty string. But if I use the same logic with the curly brackets it will also remove the json object brackets.</p>\n\n<p>Anyone can think of a way to edit this file and remove only the brackets inside the strings?</p>\n\n<p>(I've thought of making a method that copies the strings, formats them and send them to a new .json, but that would be really innefective timewise, because there is a lot of different values inside every object.)</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8853,"page":1139,"page_size":100}
