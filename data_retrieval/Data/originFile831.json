{"items":[{"tags":["java","spring-boot","spring-security","jwt","basic-authentication"],"comments":[{"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"score":1,"creation_date":1670316241,"post_id":74694980,"comment_id":131842157,"body_markdown":"Getting the `AuthenticationManager` from the `AuthenticationConfiguration` is not best practice. Instead you should get the `AuthenticationManager` in a custom DSL and pass it to the custom Filter, as described in this answer https://stackoverflow.com/questions/72509142/passing-authenticationmanager-to-custom-filter/72528280#72528280","body":"Getting the <code>AuthenticationManager</code> from the <code>AuthenticationConfiguration</code> is not best practice. Instead you should get the <code>AuthenticationManager</code> in a custom DSL and pass it to the custom Filter, as described in this answer <a href=\"https://stackoverflow.com/questions/72509142/passing-authenticationmanager-to-custom-filter/72528280#72528280\" title=\"passing authenticationmanager to custom filter\">stackoverflow.com/questions/72509142/&hellip;</a>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1670459205,"post_id":74694980,"comment_id":131883374,"body_markdown":"@EleftheriaStein-Kousathana I have a similar issue but I couldn&#39;t have any idea how to fix it. Can you help me? Here is the link : https://stackoverflow.com/questions/74633891/spring-boot-microservices-spring-security-servicetest-and-controllertest-for","body":"@EleftheriaStein-Kousathana I have a similar issue but I couldn&#39;t have any idea how to fix it. Can you help me? Here is the link : <a href=\"https://stackoverflow.com/questions/74633891/spring-boot-microservices-spring-security-servicetest-and-controllertest-for\" title=\"spring boot microservices spring security servicetest and controllertest for\">stackoverflow.com/questions/74633891/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":19733384,"reputation":117,"user_id":14448394,"display_name":"divad"},"score":0,"creation_date":1679699247,"post_id":74706573,"comment_id":133773769,"body_markdown":"Thanks alot. Gboza for the man wey sabi! (just hailed you in Nigerian pidgin) Although, why try to initialize lazily? and not throwing a more precise exception?","body":"Thanks alot. Gboza for the man wey sabi! (just hailed you in Nigerian pidgin) Although, why try to initialize lazily? and not throwing a more precise exception?"},{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1679700651,"post_id":74706573,"comment_id":133773911,"body_markdown":"Spring Security cannot create an instance of `AuthenticationManager` at the time the `AuthenticationConfiguration` is being processed since this process happens very early on the bean initialization stage, therefore there could be problems with the `AuthenticationManager` dependencies.","body":"Spring Security cannot create an instance of <code>AuthenticationManager</code> at the time the <code>AuthenticationConfiguration</code> is being processed since this process happens very early on the bean initialization stage, therefore there could be problems with the <code>AuthenticationManager</code> dependencies."},{"owner":{"account_id":19733384,"reputation":117,"user_id":14448394,"display_name":"divad"},"score":0,"creation_date":1679937090,"post_id":74706573,"comment_id":133806951,"body_markdown":"Okay. Thanks. Please, I am facing a similar spring security challenge and need your knowledge to fix it urgently. https://stackoverflow.com/questions/75858524/issue-with-two-jwt-authentication-filters-in-spring-boot-security","body":"Okay. Thanks. Please, I am facing a similar spring security challenge and need your knowledge to fix it urgently. <a href=\"https://stackoverflow.com/questions/75858524/issue-with-two-jwt-authentication-filters-in-spring-boot-security\" title=\"issue with two jwt authentication filters in spring boot security\">stackoverflow.com/questions/75858524/&hellip;</a>"},{"owner":{"account_id":5523566,"reputation":362,"user_id":5009530,"display_name":"SkySpiral7"},"score":0,"creation_date":1683558285,"post_id":74706573,"comment_id":134381091,"body_markdown":"Your fix doesn&#39;t involve `http.getSharedObject(AuthenticationManager.class)` so it seems Eleftheria&#39;s comment isn&#39;t relevant. This did fix my issue though.","body":"Your fix doesn&#39;t involve <code>http.getSharedObject(AuthenticationManager.class)</code> so it seems Eleftheria&#39;s comment isn&#39;t relevant. This did fix my issue though."}],"tags":[],"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1670346866,"creation_date":1670346866,"answer_id":74706573,"question_id":74694980,"body_markdown":"In addition to Eleftheria&#39;s comment:\r\n\r\nYou are asking Spring Security to provide you an `AuthenticationManager` bean by calling `authenticationConfiguration.getAuthenticationManager()`.\r\n\r\n1. The `AuthenticationConfiguration` calls the `AuthenticationManagerBuilder` to create the `AuthenticationManager`, and it only creates the `AuthenticationManager` if there is [**only one** `AuthenticationProvider`][1] or [**only one** `UserDetailsService`][2] configured. If it is not able to create it, then [a lazy initialization bean will be provided][3].\r\n\r\n2. When the application tries to use the `AuthenticationManager` for the first time, the lazy initialization bean will be triggered, invoking the method that creates the bean, which in your case is:\r\n```java\r\n@Bean\r\npublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n    return authenticationConfiguration.getAuthenticationManager();\r\n}\r\n```\r\n\r\n3. That method, in turn, invokes `AuthenticationConfiguration#getAuthenticationManager` which will return a lazy initialization bean again since the `AuthenticationManager` cannot be created because of &lt;1&gt;, and the cycle continues.\r\n\r\nSo, why Spring Security didn&#39;t initialize the `AuthenticationManager` in your case? Because you have 2 `AuthenticationProvider`s, and there is no way for Spring Security to know how you want to combine them, that&#39;s why Spring Security backs off and lets you deal with the creation of `AuthenticationManager`.\r\n\r\n**How do you fix it?**\r\n\r\nSince Spring Security cannot create the bean for you, you would have to create the `AuthenticationManager` bean yourself. Here is how to do that in your scenario:\r\n\r\n```java\r\n@Bean\r\npublic AuthenticationManager authenticationManager(List&lt;AuthenticationProvider&gt; myAuthenticationProviders) {\r\n    return new ProviderManager(myAuthenticationProviders);\r\n}\r\n```\r\n\r\nFor folks that want to use a `UserDetailsService`, you can create a `DaoAuthenticationProvider` and set the necessary fields.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/blob/main/config/src/main/java/org/springframework/security/config/annotation/authentication/configuration/InitializeAuthenticationProviderBeanManagerConfigurer.java\r\n  [2]: https://github.com/spring-projects/spring-security/blob/main/config/src/main/java/org/springframework/security/config/annotation/authentication/configuration/InitializeUserDetailsBeanManagerConfigurer.java\r\n  [3]: https://github.com/spring-projects/spring-security/blob/03438ffc0344eded3923548283a228f8eae5fbe4/config/src/main/java/org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.java#L123","title":"AuthenticationManager.authenticate() throws java.lang.StackOverflowError: null when just creating another class that implements AuthenticationProvider","body":"<p>In addition to Eleftheria's comment:</p>\n<p>You are asking Spring Security to provide you an <code>AuthenticationManager</code> bean by calling <code>authenticationConfiguration.getAuthenticationManager()</code>.</p>\n<ol>\n<li><p>The <code>AuthenticationConfiguration</code> calls the <code>AuthenticationManagerBuilder</code> to create the <code>AuthenticationManager</code>, and it only creates the <code>AuthenticationManager</code> if there is <a href=\"https://github.com/spring-projects/spring-security/blob/main/config/src/main/java/org/springframework/security/config/annotation/authentication/configuration/InitializeAuthenticationProviderBeanManagerConfigurer.java\" rel=\"noreferrer\"><strong>only one</strong> <code>AuthenticationProvider</code></a> or <a href=\"https://github.com/spring-projects/spring-security/blob/main/config/src/main/java/org/springframework/security/config/annotation/authentication/configuration/InitializeUserDetailsBeanManagerConfigurer.java\" rel=\"noreferrer\"><strong>only one</strong> <code>UserDetailsService</code></a> configured. If it is not able to create it, then <a href=\"https://github.com/spring-projects/spring-security/blob/03438ffc0344eded3923548283a228f8eae5fbe4/config/src/main/java/org/springframework/security/config/annotation/authentication/configuration/AuthenticationConfiguration.java#L123\" rel=\"noreferrer\">a lazy initialization bean will be provided</a>.</p>\n</li>\n<li><p>When the application tries to use the <code>AuthenticationManager</code> for the first time, the lazy initialization bean will be triggered, invoking the method that creates the bean, which in your case is:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n    return authenticationConfiguration.getAuthenticationManager();\n}\n</code></pre>\n<ol start=\"3\">\n<li>That method, in turn, invokes <code>AuthenticationConfiguration#getAuthenticationManager</code> which will return a lazy initialization bean again since the <code>AuthenticationManager</code> cannot be created because of &lt;1&gt;, and the cycle continues.</li>\n</ol>\n<p>So, why Spring Security didn't initialize the <code>AuthenticationManager</code> in your case? Because you have 2 <code>AuthenticationProvider</code>s, and there is no way for Spring Security to know how you want to combine them, that's why Spring Security backs off and lets you deal with the creation of <code>AuthenticationManager</code>.</p>\n<p><strong>How do you fix it?</strong></p>\n<p>Since Spring Security cannot create the bean for you, you would have to create the <code>AuthenticationManager</code> bean yourself. Here is how to do that in your scenario:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic AuthenticationManager authenticationManager(List&lt;AuthenticationProvider&gt; myAuthenticationProviders) {\n    return new ProviderManager(myAuthenticationProviders);\n}\n</code></pre>\n<p>For folks that want to use a <code>UserDetailsService</code>, you can create a <code>DaoAuthenticationProvider</code> and set the necessary fields.</p>\n"}],"owner":{"account_id":11730215,"reputation":23,"user_id":8585974,"display_name":"keroles magdy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2442,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74706573,"answer_count":1,"score":2,"last_activity_date":1670346866,"creation_date":1670278307,"question_id":74694980,"body_markdown":"In my project, I have two different authentication paths: the first one for normal user login and the second for employer login. So I begin by creating an authentication filter for the user using its AuthenticationProvider, and it works fine. For the second authentication, I create its authentication filter, and when I create another authentication provider for the employer, that is the problem. I get a **java.lang.StackOverflowError: null** when I try to authenticate the user&#39;s username and password using an instance of **AuthenticationManager** in **authenticationmanager.authenticate(userPassAuthToken)**.&#160;\r\n\r\nI didn&#39;t understand what happened when I created another authentication provider or why the authentication manager threw this exception. I think that the authentication manager is confused about which provider to use.\r\n\r\nAt first, I create the first authentication for a normal user with its filter and authentication provider as shown in the following code:\r\n\r\n1. User Filter class\r\n\r\n```\r\n@Component\r\npublic class UserPassAuthFilter extends OncePerRequestFilter {\r\n\r\n    @Autowired\r\n    @Lazy\r\n    private AuthenticationManager authManager;\r\n    @Autowired\r\n    private AuthPath authPath;\r\n    @Autowired\r\n    AuthFilterUtil authFilterUtil;\r\n    @Autowired\r\n    private UserMapper userMapper;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n\r\n        char[] username=request.getHeader(&quot;username&quot;).toCharArray();\r\n        char[] password=request.getHeader(&quot;password&quot;).toCharArray();\r\n\r\n        UserPassAuthToken authentication= new UserPassAuthToken(String.valueOf(username),String.valueOf(password));\r\n        UserPassAuthToken currentAuth =(UserPassAuthToken)authManager.authenticate(authentication);\r\n        if (!currentAuth.isAuthenticated()){\r\n            authFilterUtil.onFailureAuth(response,request,null);\r\n        }\r\n        else {\r\n            SecurityContextHolder.getContext().setAuthentication(currentAuth);\r\n            if(request.getServletPath().equals(authPath.getUserPasswordFilter_pathShouldDo().get(0))) {\r\n                UserDto responseBody = userMapper.mapUserToDto(currentAuth.getUsersDetails().getUsers());\r\n                responseBody.setToken(authFilterUtil.prepareTokenToAuthResponse(\r\n                        currentAuth.getAuthorities(),\r\n                        currentAuth.getName().toCharArray()\r\n                ));\r\n                authFilterUtil.onSuccessfulAuth(response, responseBody);\r\n            }\r\n            filterChain.doFilter(request,response);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\r\n\r\n        return !authPath.getUserPasswordFilter_pathShouldDo().contains(request.getServletPath());\r\n    }\r\n}\r\n\r\n```\r\n\r\n2. user Authentication token class\r\n\r\n\r\n```\r\npublic class UserPassAuthToken extends UsernamePasswordAuthenticationToken {\r\n    @Getter\r\n    @Setter\r\n    private UsersDetails usersDetails;\r\n\r\n    public UserPassAuthToken(Object principal, Object credentials) {\r\n        super(principal, credentials);\r\n    }\r\n\r\n    public UserPassAuthToken(Object principal, Object credentials, Collection&lt;? extends GrantedAuthority&gt; authorities) {\r\n        super(principal, credentials, authorities);\r\n    }\r\n}\r\n\r\n```\r\n\r\n3. user authentication provider class\r\n\r\n\r\n```\r\n@Component\r\npublic class UserPassAuthProvider implements AuthenticationProvider {\r\n\r\n    @Autowired\r\n    UserService userDetailsService;\r\n    @Autowired\r\n    PasswordEncoder passwordEncoder;\r\n\r\n    @Override\r\n    public UserPassAuthToken authenticate(Authentication authentication) throws AuthenticationException {\r\n        String username =authentication.getName();\r\n        String password=(String)authentication.getCredentials();\r\n\r\n        UserPassAuthToken userPassAuthToken;\r\n        UsersDetails   user=userDetailsService.loadUserByUsername(username);\r\n        if (user !=null &amp;&amp; password != null &amp;&amp; passwordEncoder.matches(password,user.getPassword())){\r\n            userPassAuthToken=new UserPassAuthToken(username,user.getPassword(),user.getAuthorities());\r\n            userPassAuthToken.setUsersDetails(user);\r\n        }else {\r\n            userPassAuthToken = new UserPassAuthToken(username, password);\r\n            userPassAuthToken.setAuthenticated(false);\r\n        }\r\n        userPassAuthToken = new UserPassAuthToken(username, password);\r\n        userPassAuthToken.setAuthenticated(false);\r\n        return userPassAuthToken;\r\n    }\r\n\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; authType) {\r\n        return UserPassAuthToken.class.equals(authType);\r\n    }\r\n}\r\n\r\n```\r\n4. employer authentication provider class\r\n\r\n\r\n```\r\n@Component\r\npublic class EmployerAuthProvider implements AuthenticationProvider {\r\n\r\n    @Autowired\r\n    EmployerService employerService;\r\n    @Autowired\r\n    PasswordEncoder passwordEncoder;\r\n\r\n    @Override\r\n    public EmployerPassAuthToken authenticate(Authentication authentication) throws AuthenticationException {\r\n        char[]username =authentication.getName().toCharArray();\r\n        char[] password=(char[]) authentication.getCredentials();\r\n        EmployerPassAuthToken employerPassAuthToken;\r\n        UsersDetails employer=employerService.loadUserByUsername(String.valueOf(username));\r\n        if (employer !=null &amp;&amp; password != null &amp;&amp; passwordEncoder.matches(String.valueOf(password),employer.getPassword())){\r\n            employerPassAuthToken=new EmployerPassAuthToken(username,employer.getPassword(),employer.getAuthorities());\r\n            employerPassAuthToken.setUsersDetails(employer);\r\n        }else {\r\n            employerPassAuthToken = new EmployerPassAuthToken(username, password);\r\n            employerPassAuthToken.setAuthenticated(false);\r\n        }\r\n        return employerPassAuthToken;\r\n    }\r\n\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; authType) {\r\n        return EmployerPassAuthToken.class.equals(authType);\r\n    }\r\n}\r\n\r\n```\r\n5. security configuration class\r\n\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n\r\npublic class SecConfig {\r\n\r\n    @Autowired\r\n    UserPassAuthProvider userPassAuthProvider;\r\n    @Autowired\r\n    UserPassAuthFilter userPassAuthFilter;\r\n    @Autowired\r\n    TokenAuthFilter tokenAuthFilter;\r\n    @Autowired\r\n    AuthPathPrivilege userPrivilege;\r\n    @Autowired\r\n    AuthPath authPath;\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(authPath.getAllNotAuthPath().iterator().next()).permitAll()\r\n                .antMatchers(authPath.getAllAuthPath().iterator().next()).authenticated()\r\n                .antMatchers(userPrivilege.getSuper_adminPrivilegePath().iterator().next()).hasAnyAuthority(&quot;SUPER_ADMIN&quot;)\r\n                .antMatchers(userPrivilege.getAdminPrivilegePath().iterator().next()).hasAnyAuthority(&quot;ADMIN&quot;)\r\n                .antMatchers(userPrivilege.getManagerPrivilegePath().iterator().next()).hasAnyAuthority(&quot;MANAGER&quot;)\r\n                .antMatchers(userPrivilege.getUserPrivilegePath().iterator().next()).hasAnyAuthority(&quot;USER&quot;)\r\n                .and().httpBasic()\r\n                .and().sessionManagement().sessionCreationPolicy(STATELESS)\r\n                .and().authenticationProvider(userPassAuthProvider)\r\n                .addFilterAt(userPassAuthFilter , BasicAuthenticationFilter.class)\r\n                .addFilterAfter(tokenAuthFilter , BasicAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**Note: **\r\n1. Also using Intellij idea debugging it stuck on the same line of code **authManager.authenticate(authentication)** in user filter class\r\n2. The application didn&#39;t enter user authentication provider after creating employer provider.","title":"AuthenticationManager.authenticate() throws java.lang.StackOverflowError: null when just creating another class that implements AuthenticationProvider","body":"<p>In my project, I have two different authentication paths: the first one for normal user login and the second for employer login. So I begin by creating an authentication filter for the user using its AuthenticationProvider, and it works fine. For the second authentication, I create its authentication filter, and when I create another authentication provider for the employer, that is the problem. I get a <strong>java.lang.StackOverflowError: null</strong> when I try to authenticate the user's username and password using an instance of <strong>AuthenticationManager</strong> in <strong>authenticationmanager.authenticate(userPassAuthToken)</strong>.Â </p>\n<p>I didn't understand what happened when I created another authentication provider or why the authentication manager threw this exception. I think that the authentication manager is confused about which provider to use.</p>\n<p>At first, I create the first authentication for a normal user with its filter and authentication provider as shown in the following code:</p>\n<ol>\n<li>User Filter class</li>\n</ol>\n<pre><code>@Component\npublic class UserPassAuthFilter extends OncePerRequestFilter {\n\n    @Autowired\n    @Lazy\n    private AuthenticationManager authManager;\n    @Autowired\n    private AuthPath authPath;\n    @Autowired\n    AuthFilterUtil authFilterUtil;\n    @Autowired\n    private UserMapper userMapper;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n\n        char[] username=request.getHeader(&quot;username&quot;).toCharArray();\n        char[] password=request.getHeader(&quot;password&quot;).toCharArray();\n\n        UserPassAuthToken authentication= new UserPassAuthToken(String.valueOf(username),String.valueOf(password));\n        UserPassAuthToken currentAuth =(UserPassAuthToken)authManager.authenticate(authentication);\n        if (!currentAuth.isAuthenticated()){\n            authFilterUtil.onFailureAuth(response,request,null);\n        }\n        else {\n            SecurityContextHolder.getContext().setAuthentication(currentAuth);\n            if(request.getServletPath().equals(authPath.getUserPasswordFilter_pathShouldDo().get(0))) {\n                UserDto responseBody = userMapper.mapUserToDto(currentAuth.getUsersDetails().getUsers());\n                responseBody.setToken(authFilterUtil.prepareTokenToAuthResponse(\n                        currentAuth.getAuthorities(),\n                        currentAuth.getName().toCharArray()\n                ));\n                authFilterUtil.onSuccessfulAuth(response, responseBody);\n            }\n            filterChain.doFilter(request,response);\n        }\n    }\n\n    @Override\n    protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\n\n        return !authPath.getUserPasswordFilter_pathShouldDo().contains(request.getServletPath());\n    }\n}\n\n</code></pre>\n<ol start=\"2\">\n<li>user Authentication token class</li>\n</ol>\n<pre><code>public class UserPassAuthToken extends UsernamePasswordAuthenticationToken {\n    @Getter\n    @Setter\n    private UsersDetails usersDetails;\n\n    public UserPassAuthToken(Object principal, Object credentials) {\n        super(principal, credentials);\n    }\n\n    public UserPassAuthToken(Object principal, Object credentials, Collection&lt;? extends GrantedAuthority&gt; authorities) {\n        super(principal, credentials, authorities);\n    }\n}\n\n</code></pre>\n<ol start=\"3\">\n<li>user authentication provider class</li>\n</ol>\n<pre><code>@Component\npublic class UserPassAuthProvider implements AuthenticationProvider {\n\n    @Autowired\n    UserService userDetailsService;\n    @Autowired\n    PasswordEncoder passwordEncoder;\n\n    @Override\n    public UserPassAuthToken authenticate(Authentication authentication) throws AuthenticationException {\n        String username =authentication.getName();\n        String password=(String)authentication.getCredentials();\n\n        UserPassAuthToken userPassAuthToken;\n        UsersDetails   user=userDetailsService.loadUserByUsername(username);\n        if (user !=null &amp;&amp; password != null &amp;&amp; passwordEncoder.matches(password,user.getPassword())){\n            userPassAuthToken=new UserPassAuthToken(username,user.getPassword(),user.getAuthorities());\n            userPassAuthToken.setUsersDetails(user);\n        }else {\n            userPassAuthToken = new UserPassAuthToken(username, password);\n            userPassAuthToken.setAuthenticated(false);\n        }\n        userPassAuthToken = new UserPassAuthToken(username, password);\n        userPassAuthToken.setAuthenticated(false);\n        return userPassAuthToken;\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authType) {\n        return UserPassAuthToken.class.equals(authType);\n    }\n}\n\n</code></pre>\n<ol start=\"4\">\n<li>employer authentication provider class</li>\n</ol>\n<pre><code>@Component\npublic class EmployerAuthProvider implements AuthenticationProvider {\n\n    @Autowired\n    EmployerService employerService;\n    @Autowired\n    PasswordEncoder passwordEncoder;\n\n    @Override\n    public EmployerPassAuthToken authenticate(Authentication authentication) throws AuthenticationException {\n        char[]username =authentication.getName().toCharArray();\n        char[] password=(char[]) authentication.getCredentials();\n        EmployerPassAuthToken employerPassAuthToken;\n        UsersDetails employer=employerService.loadUserByUsername(String.valueOf(username));\n        if (employer !=null &amp;&amp; password != null &amp;&amp; passwordEncoder.matches(String.valueOf(password),employer.getPassword())){\n            employerPassAuthToken=new EmployerPassAuthToken(username,employer.getPassword(),employer.getAuthorities());\n            employerPassAuthToken.setUsersDetails(employer);\n        }else {\n            employerPassAuthToken = new EmployerPassAuthToken(username, password);\n            employerPassAuthToken.setAuthenticated(false);\n        }\n        return employerPassAuthToken;\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authType) {\n        return EmployerPassAuthToken.class.equals(authType);\n    }\n}\n\n</code></pre>\n<ol start=\"5\">\n<li>security configuration class</li>\n</ol>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n\npublic class SecConfig {\n\n    @Autowired\n    UserPassAuthProvider userPassAuthProvider;\n    @Autowired\n    UserPassAuthFilter userPassAuthFilter;\n    @Autowired\n    TokenAuthFilter tokenAuthFilter;\n    @Autowired\n    AuthPathPrivilege userPrivilege;\n    @Autowired\n    AuthPath authPath;\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeRequests()\n                .antMatchers(authPath.getAllNotAuthPath().iterator().next()).permitAll()\n                .antMatchers(authPath.getAllAuthPath().iterator().next()).authenticated()\n                .antMatchers(userPrivilege.getSuper_adminPrivilegePath().iterator().next()).hasAnyAuthority(&quot;SUPER_ADMIN&quot;)\n                .antMatchers(userPrivilege.getAdminPrivilegePath().iterator().next()).hasAnyAuthority(&quot;ADMIN&quot;)\n                .antMatchers(userPrivilege.getManagerPrivilegePath().iterator().next()).hasAnyAuthority(&quot;MANAGER&quot;)\n                .antMatchers(userPrivilege.getUserPrivilegePath().iterator().next()).hasAnyAuthority(&quot;USER&quot;)\n                .and().httpBasic()\n                .and().sessionManagement().sessionCreationPolicy(STATELESS)\n                .and().authenticationProvider(userPassAuthProvider)\n                .addFilterAt(userPassAuthFilter , BasicAuthenticationFilter.class)\n                .addFilterAfter(tokenAuthFilter , BasicAuthenticationFilter.class);\n\n        return http.build();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n}\n\n</code></pre>\n<p>**Note: **</p>\n<ol>\n<li>Also using Intellij idea debugging it stuck on the same line of code <strong>authManager.authenticate(authentication)</strong> in user filter class</li>\n<li>The application didn't enter user authentication provider after creating employer provider.</li>\n</ol>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":10299803,"reputation":1540,"user_id":7598851,"display_name":"MartinBG"},"score":2,"creation_date":1669674914,"post_id":74607101,"comment_id":131692160,"body_markdown":"To get the result you&#39;re expecting, change `YonoWriter#WriteText` method body from `return s + &quot; 1 &quot;;` to `return &quot;1&quot; + s;` and remove spaces around `&quot; 2 &quot;` in `Yono2Writer#hello`","body":"To get the result you&#39;re expecting, change <code>YonoWriter#WriteText</code> method body from <code>return s + &quot; 1 &quot;;</code> to <code>return &quot;1&quot; + s;</code> and remove spaces around <code>&quot; 2 &quot;</code> in <code>Yono2Writer#hello</code>"}],"answers":[{"tags":[],"owner":{"account_id":10286378,"reputation":332,"user_id":7589535,"display_name":"oussema"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669677378,"creation_date":1669677378,"answer_id":74607496,"question_id":74607101,"body_markdown":"If you want to learn what more about dependency injection (DI) check [spring docs](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-introduction)\r\n\r\nThe summary of DI or IoC (inversion of control) is that the component defines the dependency and then the spring context injects a proper instance of the dependency, hence inversion of control. So instead of:\r\n```\r\n@RestController\r\npublic class Yono3Writer {\r\n    Yono2Writer text; // &lt;- 1. component defines the dependency\r\n    Yono3Writer(){\r\n        text = new Yono2Writer(); // &lt;- 2. component creates the dependency by itself as part of constructing the component\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public  String hello2(){\r\n        return this.text.hello(&quot;3&quot;);\r\n    }\r\n}\r\n```\r\n\r\nYou get this:\r\n\r\n```\r\n@RestController\r\npublic class Yono3Writer {\r\n    Yono2Writer text; // &lt;- 1. component defines the dependency\r\n\r\n    Yono3Writer(Yono2Writer yono2Writer){\r\n        this.text = yono2Writer; // &lt;- 2. a spring managed bean is injected using the constructor as part of constructing the component\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public  String hello2(){\r\n        return this.text.hello(&quot;3&quot;);\r\n    }\r\n}\r\n```\r\nprovided that you configured a bean of type `Yono2Writer`, one way to do that:\r\n```\r\n@Configuration\r\npublic class MyConfig {\r\n    @Bean\r\n    public Yono2Writer yono2Writer() {\r\n        return new Yono2Writer();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis is really helpful when you have a bunch of these dependencies for your component that are not all straight forward to implement unlike `new Yono2Writer()` \r\n","title":"how to make dependency injection in spring java","body":"<p>If you want to learn what more about dependency injection (DI) check <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-introduction\" rel=\"nofollow noreferrer\">spring docs</a></p>\n<p>The summary of DI or IoC (inversion of control) is that the component defines the dependency and then the spring context injects a proper instance of the dependency, hence inversion of control. So instead of:</p>\n<pre><code>@RestController\npublic class Yono3Writer {\n    Yono2Writer text; // &lt;- 1. component defines the dependency\n    Yono3Writer(){\n        text = new Yono2Writer(); // &lt;- 2. component creates the dependency by itself as part of constructing the component\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public  String hello2(){\n        return this.text.hello(&quot;3&quot;);\n    }\n}\n</code></pre>\n<p>You get this:</p>\n<pre><code>@RestController\npublic class Yono3Writer {\n    Yono2Writer text; // &lt;- 1. component defines the dependency\n\n    Yono3Writer(Yono2Writer yono2Writer){\n        this.text = yono2Writer; // &lt;- 2. a spring managed bean is injected using the constructor as part of constructing the component\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public  String hello2(){\n        return this.text.hello(&quot;3&quot;);\n    }\n}\n</code></pre>\n<p>provided that you configured a bean of type <code>Yono2Writer</code>, one way to do that:</p>\n<pre><code>@Configuration\npublic class MyConfig {\n    @Bean\n    public Yono2Writer yono2Writer() {\n        return new Yono2Writer();\n    }\n\n}\n</code></pre>\n<p>This is really helpful when you have a bunch of these dependencies for your component that are not all straight forward to implement unlike <code>new Yono2Writer()</code></p>\n"}],"owner":{"account_id":6382808,"reputation":189,"user_id":4951614,"display_name":"yokana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1669736728,"accepted_answer_id":74607496,"answer_count":1,"score":-1,"last_activity_date":1670346799,"creation_date":1669674252,"question_id":74607101,"body_markdown":"i have code bellow, i code without dependency injection,\r\ni still dont get point what is advantage using dependency injection\r\n\r\ninterface class\r\n```\r\n@Component\r\npublic interface TextWriter {\r\n    public String WriteText(String s);\r\n}\r\n``` \r\n\r\nclass one\r\n```\r\npublic class YonoWriter implements TextWriter{\r\n    @Override\r\n    public String WriteText(String s) {\r\n        return s + &quot; 1 &quot;;\r\n    }\r\n}\r\n```\r\n\r\nclass two\r\n```\r\npublic class Yono2Writer {\r\n    TextWriter text;\r\n    Yono2Writer(){\r\n        text = new YonoWriter();\r\n    }\r\n    public String hello(String s){\r\n        return this.text.WriteText(&quot; 2 &quot;) + s;\r\n    }\r\n}\r\n```\r\n\r\nfinal class\r\n```\r\n@RestController\r\npublic class Yono3Writer {\r\n    Yono2Writer text;\r\n    Yono3Writer(){\r\n        text = new Yono2Writer();\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public  String hello2(){\r\n        return this.text.hello(&quot;3&quot;);\r\n    }\r\n}\r\n```\r\n\r\nand the result is 2 1 3 and what is expected is 123 and how to implement dependency injection there ?","title":"how to make dependency injection in spring java","body":"<p>i have code bellow, i code without dependency injection,\ni still dont get point what is advantage using dependency injection</p>\n<p>interface class</p>\n<pre><code>@Component\npublic interface TextWriter {\n    public String WriteText(String s);\n}\n</code></pre>\n<p>class one</p>\n<pre><code>public class YonoWriter implements TextWriter{\n    @Override\n    public String WriteText(String s) {\n        return s + &quot; 1 &quot;;\n    }\n}\n</code></pre>\n<p>class two</p>\n<pre><code>public class Yono2Writer {\n    TextWriter text;\n    Yono2Writer(){\n        text = new YonoWriter();\n    }\n    public String hello(String s){\n        return this.text.WriteText(&quot; 2 &quot;) + s;\n    }\n}\n</code></pre>\n<p>final class</p>\n<pre><code>@RestController\npublic class Yono3Writer {\n    Yono2Writer text;\n    Yono3Writer(){\n        text = new Yono2Writer();\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public  String hello2(){\n        return this.text.hello(&quot;3&quot;);\n    }\n}\n</code></pre>\n<p>and the result is 2 1 3 and what is expected is 123 and how to implement dependency injection there ?</p>\n"},{"tags":["java","spring","docker","docker-compose","docker-networking"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1670325093,"post_id":74700087,"comment_id":131845260,"body_markdown":"Can you fix the application under test to not require a database to be running for its unit tests?  Then running the application in a sibling container (without DinD) maybe with `--net=none` might be enough.  If that&#39;s not an option, it might help to [edit] the question to include a [mcve]; it&#39;s not clear to me which pieces are running in which container environment.","body":"Can you fix the application under test to not require a database to be running for its unit tests?  Then running the application in a sibling container (without DinD) maybe with <code>--net=none</code> might be enough.  If that&#39;s not an option, it might help to <a href=\"https://stackoverflow.com/posts/74700087/edit\">edit</a> the question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>; it&#39;s not clear to me which pieces are running in which container environment."}],"answers":[{"tags":[],"owner":{"account_id":4875297,"reputation":252,"user_id":3930612,"display_name":"FedeG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670346735,"creation_date":1670346735,"answer_id":74706548,"question_id":74700087,"body_markdown":"Inside the container `localhost` is the same container.\r\nIf you have a docker-compose, you can use the service name to connect to another container.\r\n\r\nFor example, if you have service `db` and `app`, `app` can connect to `db:5432`","title":"Docker dind access to DB container","body":"<p>Inside the container <code>localhost</code> is the same container.\nIf you have a docker-compose, you can use the service name to connect to another container.</p>\n<p>For example, if you have service <code>db</code> and <code>app</code>, <code>app</code> can connect to <code>db:5432</code></p>\n"}],"owner":{"account_id":20735111,"reputation":3,"user_id":15573450,"display_name":"Bogdan Zaranik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670346735,"creation_date":1670318788,"question_id":74700087,"body_markdown":"I have got some issue. My task to implement the web system which will be able to compile java maven project, test under the hood and build a report whether all that stuff was done successfully. \r\n\r\nSo I need an isolated container to run JUnit tests inside my service to prevent illegal access from tested solution to my service host. In aim to make everrything secured. So what do I do: I have got docker-compose &quot;cluster&quot; with a database service and y web service. When my web service is requested (solution project is passed like zip achive of maven project folder) I create a new dind container with some util which connects to that DB service, downloads zip archive with solution, unzips it and performs `mvn clean compile`, `mvn test`, etc. It does not matter. It also puts some info to that DB about whether compilation was successful or not, also about testing. When I tested this with DB on `localhost:5432` (pg), it worked via  ```--netwok=host``` flag. Even DIND container cound access DB. But when I run everything in docker-compose and also DB is a docker-compose service, DIND container does not see DB host. Is it possible to access DB service from DIND container? May, it would be better solution?\r\n\r\nPS: just right now I really think to implement all this stuff via volumes, but this approach has several significant drawbacks. First one is that isolation decreases. Second one is that we also need to unzip solution project somewhere onto the web service. But where? As for me, it looks weird:) But it will work 99%. Are there any other more appropriate solutions? Thanx\r\n\r\nPPS: sorry for longread.","title":"Docker dind access to DB container","body":"<p>I have got some issue. My task to implement the web system which will be able to compile java maven project, test under the hood and build a report whether all that stuff was done successfully.</p>\n<p>So I need an isolated container to run JUnit tests inside my service to prevent illegal access from tested solution to my service host. In aim to make everrything secured. So what do I do: I have got docker-compose &quot;cluster&quot; with a database service and y web service. When my web service is requested (solution project is passed like zip achive of maven project folder) I create a new dind container with some util which connects to that DB service, downloads zip archive with solution, unzips it and performs <code>mvn clean compile</code>, <code>mvn test</code>, etc. It does not matter. It also puts some info to that DB about whether compilation was successful or not, also about testing. When I tested this with DB on <code>localhost:5432</code> (pg), it worked via  <code>--netwok=host</code> flag. Even DIND container cound access DB. But when I run everything in docker-compose and also DB is a docker-compose service, DIND container does not see DB host. Is it possible to access DB service from DIND container? May, it would be better solution?</p>\n<p>PS: just right now I really think to implement all this stuff via volumes, but this approach has several significant drawbacks. First one is that isolation decreases. Second one is that we also need to unzip solution project somewhere onto the web service. But where? As for me, it looks weird:) But it will work 99%. Are there any other more appropriate solutions? Thanx</p>\n<p>PPS: sorry for longread.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1669994964,"post_id":74658024,"comment_id":131776605,"body_markdown":"You haven&#39;t really explained what is going wrong. Why doesn&#39;t it seem to work?","body":"You haven&#39;t really explained what is going wrong. Why doesn&#39;t it seem to work?"},{"owner":{"account_id":21431007,"reputation":1,"user_id":15787422,"display_name":"platka000"},"score":0,"creation_date":1669995049,"post_id":74658024,"comment_id":131776638,"body_markdown":"Just added,  Thank you for reminding me.","body":"Just added,  Thank you for reminding me."},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1669995146,"post_id":74658024,"comment_id":131776662,"body_markdown":"Read [this article](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/) for tips on debugging your code.","body":"Read <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">this article</a> for tips on debugging your code."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1669995733,"post_id":74658024,"comment_id":131776862,"body_markdown":"DO NOT USE A SEPARATE THREAD. You should use a Swing Timer for your game loop. Also, JOGL (Java Open Graphics Library) is a much better technology/API to create games in.","body":"DO NOT USE A SEPARATE THREAD. You should use a Swing Timer for your game loop. Also, JOGL (Java Open Graphics Library) is a much better technology/API to create games in."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1670010582,"post_id":74658024,"comment_id":131781368,"body_markdown":"Do you successfully detect the collision? Your criteria look pretty suspect to me.","body":"Do you successfully detect the collision? Your criteria look pretty suspect to me."}],"answers":[{"tags":[],"owner":{"account_id":21431007,"reputation":1,"user_id":15787422,"display_name":"platka000"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670346720,"creation_date":1670346720,"answer_id":74706545,"question_id":74658024,"body_markdown":"I managed to fix it. \r\nI realized that my Playerx was in the middle of the paddle making everything offset 50.\r\n\r\n```\r\n float X = radius;\r\n    float Y = radius;\r\n```\r\nand\r\n```\r\n\r\n public void run() {\r\n                while (true) {\r\n                    counter++;\r\n                    width = getWidth();\r\n                    height = getHeight();\r\n\r\n                    X = X + dx ;\r\n                    Y = Y + dy;\r\n\r\n                    if (X - radius &lt; 0) {\r\n                        dx = -dx;\r\n                        X = radius;\r\n\r\n                    } else if (X + radius &gt; width) {\r\n                        dx = -dx;\r\n                        X = width - radius;\r\n\r\n                    }\r\n\r\n                    if (Y - radius &lt; 0) {\r\n                        dy = -dy;\r\n                        Y = radius;\r\n\r\n                    }else if (Y + radius &gt; height) {\r\n                        dy = -dy;\r\n                        Y = height - radius;\r\n\r\n                    }if(X &gt; Playerx-50 &amp;&amp; X  &lt; Playerx+50 &amp;&amp; Y+radius  &gt; paddleHeight &amp;&amp; Y &lt; 715){\r\n                        dy = -dy;\r\n                        Y = paddleHeight - radius;\r\n                      \r\n                    }\r\n```\r\n","title":"Ball Collision - Collide with paddle","body":"<p>I managed to fix it.\nI realized that my Playerx was in the middle of the paddle making everything offset 50.</p>\n<pre><code> float X = radius;\n    float Y = radius;\n</code></pre>\n<p>and</p>\n<pre><code>\n public void run() {\n                while (true) {\n                    counter++;\n                    width = getWidth();\n                    height = getHeight();\n\n                    X = X + dx ;\n                    Y = Y + dy;\n\n                    if (X - radius &lt; 0) {\n                        dx = -dx;\n                        X = radius;\n\n                    } else if (X + radius &gt; width) {\n                        dx = -dx;\n                        X = width - radius;\n\n                    }\n\n                    if (Y - radius &lt; 0) {\n                        dy = -dy;\n                        Y = radius;\n\n                    }else if (Y + radius &gt; height) {\n                        dy = -dy;\n                        Y = height - radius;\n\n                    }if(X &gt; Playerx-50 &amp;&amp; X  &lt; Playerx+50 &amp;&amp; Y+radius  &gt; paddleHeight &amp;&amp; Y &lt; 715){\n                        dy = -dy;\n                        Y = paddleHeight - radius;\n                      \n                    }\n</code></pre>\n"}],"owner":{"account_id":21431007,"reputation":1,"user_id":15787422,"display_name":"platka000"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74706545,"answer_count":1,"score":-2,"last_activity_date":1670346720,"creation_date":1669994756,"question_id":74658024,"body_markdown":"I&#39;m trying to make a ball switch it&#39;s Y-Direction when it collides with the restrictions of the paddle. It is most likely a simple answer. Help would be appreciated. Thank you.\r\n\r\nI labeled a couple of things to help.\r\n\r\n\r\n\r\n\r\n```\r\npublic class GamePanel extends JPanel implements MouseMotionListener {\r\nint Playerx;\r\n\r\n    int width;\r\n    int height;\r\n\r\n    // Ball Size\r\n    float radius = 20;\r\n    float diameter = radius * 2;\r\n\r\n    // Center of Call\r\n    float X = radius + 25;\r\n    float Y = radius + 10;\r\n\r\n    // Direction\r\n    float dx = 12;\r\n    float dy = 12;\r\n    GamePanel(){\r\n        setPreferredSize(new Dimension(1440, 900));\r\n        setFocusable(true);\r\n        setBackground(Color.BLACK);\r\n        addMouseMotionListener(this);\r\n\r\n        Thread thread = new Thread() {\r\n            public void run() {\r\n                while (true) {\r\n\r\n                    width = getWidth();\r\n                    height = getHeight();\r\n\r\n                    X = X + dx ;\r\n                    Y = Y + dy;\r\n\r\n                    if (X - radius &lt; 0) {\r\n                        dx = -dx;\r\n                        X = radius;\r\n                    } else if (X + radius &gt; width) {\r\n                        dx = -dx;\r\n                        X = width - radius;\r\n                    }\r\n\r\n                    if (Y - radius &lt; 0) {\r\n                        dy = -dy;\r\n                        Y = radius;\r\n                    }else if (Y + radius &gt; height) {\r\n                        dy = -dy;\r\n                        Y = height - radius;\r\n                    }\r\n                    if(X-radius&gt;=Playerx &amp;&amp; X-radius &lt;- Playerx + 100 &amp;&amp; Y+radius&gt;=800 &amp;&amp; Y+radius&lt;=810){\r\n                        dy = -dy;\r\n                        Y = height - radius;\r\n                    }//Statement Above is the issue area\r\n\r\n\r\n\r\n\r\n\r\n\r\n                    repaint();\r\n\r\n                    try {\r\n                        Thread.sleep(25);\r\n                    } catch (InterruptedException ex) {\r\n                    }\r\n\r\n                }\r\n            }\r\n        };\r\n        thread.start();\r\n    }\r\n    @Override\r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n\r\n        g.setColor(Color.WHITE);\r\n        if(Playerx&lt;=50 &amp;&amp; Playerx&gt;= 0){g.fillOval(10,800,100,10);}\r\n        if(Playerx&gt;50 &amp;&amp; Playerx&lt;1390){g.fillOval(Playerx-50,800,100,10);}\r\n        if(Playerx&gt;=1390 &amp;&amp; Playerx&lt;1440){g.fillOval(1340,800,100,10);}\r\n        g.setColor(Color.BLUE);\r\n        g.fillOval((int)(X-radius), (int)(Y-radius), (int)diameter, (int)diameter);\r\n\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void mouseDragged(MouseEvent e) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void mouseMoved(MouseEvent e) {\r\n        Playerx = e.getX();\r\n\r\n        repaint();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI&#39;ve tried setting different restrictions and different Y-Directions but it doesn&#39;t seem to work. The Ball goes straight through the paddle as if it&#39;s not there.\r\n","title":"Ball Collision - Collide with paddle","body":"<p>I'm trying to make a ball switch it's Y-Direction when it collides with the restrictions of the paddle. It is most likely a simple answer. Help would be appreciated. Thank you.</p>\n<p>I labeled a couple of things to help.</p>\n<pre><code>public class GamePanel extends JPanel implements MouseMotionListener {\nint Playerx;\n\n    int width;\n    int height;\n\n    // Ball Size\n    float radius = 20;\n    float diameter = radius * 2;\n\n    // Center of Call\n    float X = radius + 25;\n    float Y = radius + 10;\n\n    // Direction\n    float dx = 12;\n    float dy = 12;\n    GamePanel(){\n        setPreferredSize(new Dimension(1440, 900));\n        setFocusable(true);\n        setBackground(Color.BLACK);\n        addMouseMotionListener(this);\n\n        Thread thread = new Thread() {\n            public void run() {\n                while (true) {\n\n                    width = getWidth();\n                    height = getHeight();\n\n                    X = X + dx ;\n                    Y = Y + dy;\n\n                    if (X - radius &lt; 0) {\n                        dx = -dx;\n                        X = radius;\n                    } else if (X + radius &gt; width) {\n                        dx = -dx;\n                        X = width - radius;\n                    }\n\n                    if (Y - radius &lt; 0) {\n                        dy = -dy;\n                        Y = radius;\n                    }else if (Y + radius &gt; height) {\n                        dy = -dy;\n                        Y = height - radius;\n                    }\n                    if(X-radius&gt;=Playerx &amp;&amp; X-radius &lt;- Playerx + 100 &amp;&amp; Y+radius&gt;=800 &amp;&amp; Y+radius&lt;=810){\n                        dy = -dy;\n                        Y = height - radius;\n                    }//Statement Above is the issue area\n\n\n\n\n\n\n                    repaint();\n\n                    try {\n                        Thread.sleep(25);\n                    } catch (InterruptedException ex) {\n                    }\n\n                }\n            }\n        };\n        thread.start();\n    }\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        g.setColor(Color.WHITE);\n        if(Playerx&lt;=50 &amp;&amp; Playerx&gt;= 0){g.fillOval(10,800,100,10);}\n        if(Playerx&gt;50 &amp;&amp; Playerx&lt;1390){g.fillOval(Playerx-50,800,100,10);}\n        if(Playerx&gt;=1390 &amp;&amp; Playerx&lt;1440){g.fillOval(1340,800,100,10);}\n        g.setColor(Color.BLUE);\n        g.fillOval((int)(X-radius), (int)(Y-radius), (int)diameter, (int)diameter);\n\n\n\n    }\n\n    @Override\n    public void mouseDragged(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseMoved(MouseEvent e) {\n        Playerx = e.getX();\n\n        repaint();\n    }\n}\n</code></pre>\n<p>I've tried setting different restrictions and different Y-Directions but it doesn't seem to work. The Ball goes straight through the paddle as if it's not there.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":141767,"reputation":1752,"user_id":349044,"accept_rate":100,"display_name":"Lasse Samson"},"score":0,"creation_date":1411107439,"post_id":25927450,"comment_id":40587738,"body_markdown":"You can find further comments on the same type of question here: [link](http://stackoverflow.com/questions/2065937/how-to-supply-value-to-an-annotation-from-a-constant-java)","body":"You can find further comments on the same type of question here: <a href=\"http://stackoverflow.com/questions/2065937/how-to-supply-value-to-an-annotation-from-a-constant-java\">link</a>"}],"answers":[{"tags":[],"owner":{"account_id":1972020,"reputation":3099,"user_id":1770716,"accept_rate":50,"display_name":"BlackJoker"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1670346370,"creation_date":1411107269,"answer_id":25927487,"question_id":25927450,"body_markdown":"No,you can not use variable in Annotation,only constant is permitted.\r\n\r\nthe following will work,because here `USERNAME_XPATH` is a constant:\r\n\r\n    final static String USERNAME_XPATH=&quot;//input[@name=&#39;Username&#39;]&quot;;\r\n    @FindBy(how = How.XPATH, using=USERNAME_XPATH)","title":"I have a java annotation which takes a string constant as a argument , how can I Pass a string variable to the same?","body":"<p>No,you can not use variable in Annotation,only constant is permitted.</p>\n<p>the following will work,because here <code>USERNAME_XPATH</code> is a constant:</p>\n<pre><code>final static String USERNAME_XPATH=&quot;//input[@name='Username']&quot;;\n@FindBy(how = How.XPATH, using=USERNAME_XPATH)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5053227,"reputation":61,"user_id":4057155,"display_name":"Sudhanva Patil"},"score":0,"creation_date":1411111964,"post_id":25927666,"comment_id":40589734,"body_markdown":"Thanks a lot Plonus. its clear now.  any work around to overcome this limitation as in my case all the variables are stored in a xml file and I want to pass them to this annotation ?","body":"Thanks a lot Plonus. its clear now.  any work around to overcome this limitation as in my case all the variables are stored in a xml file and I want to pass them to this annotation ?"}],"tags":[],"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411108132,"creation_date":1411108132,"answer_id":25927666,"question_id":25927450,"body_markdown":"You cannot use a variable as an annotation value because the annotation is already evaluated at compile time.\r\n\r\nTherefore only compile time constants (`static final`) can be used as values in annotations.","title":"I have a java annotation which takes a string constant as a argument , how can I Pass a string variable to the same?","body":"<p>You cannot use a variable as an annotation value because the annotation is already evaluated at compile time.</p>\n\n<p>Therefore only compile time constants (<code>static final</code>) can be used as values in annotations.</p>\n"},{"tags":[],"owner":{"account_id":5048657,"reputation":301,"user_id":4053876,"display_name":"vargapeti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411108365,"creation_date":1411108365,"answer_id":25927711,"question_id":25927450,"body_markdown":"Annotations are designed for compile-time or deployment-time processing. At this point you do not have any runtime variables. Therefore it is not possible to use variables in association with annotations.","title":"I have a java annotation which takes a string constant as a argument , how can I Pass a string variable to the same?","body":"<p>Annotations are designed for compile-time or deployment-time processing. At this point you do not have any runtime variables. Therefore it is not possible to use variables in association with annotations.</p>\n"}],"owner":{"account_id":5053227,"reputation":61,"user_id":4057155,"display_name":"Sudhanva Patil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5757,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1670346370,"creation_date":1411107107,"question_id":25927450,"body_markdown":"For Eg  `@FindBy(how = How.XPATH, using=&quot;//input[@name=&#39;Username&#39;]&quot;)`  here I want to replace the value of the string constant  `&quot;//input[@name=&#39;Username&#39;]&quot;` with a string variable , even though I declare the variable as final I am unable to pass the variable as a parameter. I want to write like this\r\n\r\n    final   static String Username_xpath=&quot;//input[@name=&#39;Username&#39;]&quot;;\t\r\n    @FindBy(how = How.XPATH, using=Username_xpath)      ","title":"I have a java annotation which takes a string constant as a argument , how can I Pass a string variable to the same?","body":"<p>For Eg  <code>@FindBy(how = How.XPATH, using=\"//input[@name='Username']\")</code>  here I want to replace the value of the string constant  <code>\"//input[@name='Username']\"</code> with a string variable , even though I declare the variable as final I am unable to pass the variable as a parameter. I want to write like this</p>\n\n<pre><code>final   static String Username_xpath=\"//input[@name='Username']\";   \n@FindBy(how = How.XPATH, using=Username_xpath)      \n</code></pre>\n"},{"tags":["java","image","file","bufferedimage"],"answers":[{"comments":[{"owner":{"account_id":26949750,"reputation":39,"user_id":20519169,"display_name":"user20519169"},"score":0,"creation_date":1670322548,"post_id":74685458,"comment_id":131844405,"body_markdown":"thanks for the answer! I will update my orginial post with that solution aswell, in the case anyone is having the same problem.","body":"thanks for the answer! I will update my orginial post with that solution aswell, in the case anyone is having the same problem."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1670326349,"post_id":74685458,"comment_id":131845648,"body_markdown":"@user20519169 Actually, you shouldn&#39;t... As long as you have accepted and/or upvoted this answer, people will find it. You should not have solutions in the question.","body":"@user20519169 Actually, you shouldn&#39;t... As long as you have accepted and/or upvoted this answer, people will find it. You should not have solutions in the question."},{"owner":{"account_id":26949750,"reputation":39,"user_id":20519169,"display_name":"user20519169"},"score":1,"creation_date":1670346245,"post_id":74685458,"comment_id":131853352,"body_markdown":"well, true, so I again updated the question to avoid confusion","body":"well, true, so I again updated the question to avoid confusion"}],"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670269745,"creation_date":1670230058,"answer_id":74685458,"question_id":74665834,"body_markdown":"Most likely, your images are Exif images (&quot;Exif-in-JPEG&quot;) from a digital camera/phone. For such images, the pixel data is often stored in the &quot;natural&quot; orientation of the sensor, which is always the same (usually landscape). For portrait images, the orientation is only stored in the Exif metadata, and the ImageIO JPEG plugin doesn&#39;t take this orientation into account. \r\n\r\nSome cameras, like my Canon DSLR, has an option to do in-camera rotation to match the orientation, but this feature is typically disabled by default. This is obviously only a possible fix if you control the input images.\r\n\r\nTo fix this in the Java side, you hava some options. You already mentioned using Thumbnailator:\r\n\r\n\r\n```java\r\nBufferedImage srcImage = Thumbnails.of(new FileInputStream(imgFile))\r\n                                    .scale(1)\r\n                                    .asBufferedImage();\r\n```\r\n\r\nAnother option is to use `EXIFUtilities` from TwelveMonkeys (I&#39;m the author of that library):\r\n\r\n\r\n```java\r\nIIOImage image = EXIFUtilities.readWithOrientation(imgFile);\r\nBufferedImage srcImage = (BufferedImage) image.getRenderedImage();\r\n```\r\n\r\nOr, if you don&#39;t need the other metadata for anything:\r\n\r\n\r\n```java\r\nBufferedImage srcImage = (BufferedImage) EXIFUtilities.readWithOrientation(imgFile)\r\n                                                      .getRenderedImage();\r\n```\r\n\r\n","title":"Java Image BufferedImage loosing aspect ratio of upright image","body":"<p>Most likely, your images are Exif images (&quot;Exif-in-JPEG&quot;) from a digital camera/phone. For such images, the pixel data is often stored in the &quot;natural&quot; orientation of the sensor, which is always the same (usually landscape). For portrait images, the orientation is only stored in the Exif metadata, and the ImageIO JPEG plugin doesn't take this orientation into account.</p>\n<p>Some cameras, like my Canon DSLR, has an option to do in-camera rotation to match the orientation, but this feature is typically disabled by default. This is obviously only a possible fix if you control the input images.</p>\n<p>To fix this in the Java side, you hava some options. You already mentioned using Thumbnailator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedImage srcImage = Thumbnails.of(new FileInputStream(imgFile))\n                                    .scale(1)\n                                    .asBufferedImage();\n</code></pre>\n<p>Another option is to use <code>EXIFUtilities</code> from TwelveMonkeys (I'm the author of that library):</p>\n<pre class=\"lang-java prettyprint-override\"><code>IIOImage image = EXIFUtilities.readWithOrientation(imgFile);\nBufferedImage srcImage = (BufferedImage) image.getRenderedImage();\n</code></pre>\n<p>Or, if you don't need the other metadata for anything:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedImage srcImage = (BufferedImage) EXIFUtilities.readWithOrientation(imgFile)\n                                                      .getRenderedImage();\n</code></pre>\n"}],"owner":{"account_id":26949750,"reputation":39,"user_id":20519169,"display_name":"user20519169"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74685458,"answer_count":1,"score":0,"last_activity_date":1670346225,"creation_date":1670063188,"question_id":74665834,"body_markdown":"I am storing an Image in the filesystem like:\r\n\r\n```java\r\nFileImageOutputStream fos = new FileImageOutputStream(newFile);\r\nint len;\r\nwhile ((len = zis.read(buffer)) &gt; 0) {\r\n      fos.write(buffer, 0, len);\r\n}\r\nfos.close();\r\n```\r\n\r\nAnd all images are stored correctly in the filesystem. (Also with correct aspect ratio with width and height!)\r\n\r\nHowever, later, I am loading my image like:\r\n\r\n```java\r\nFile imgFile ...\r\nFileImageInputStream stream = new FileImageInputStream(imgFile);\r\nBufferedImage srcImage = ImageIO.read(stream);\r\n```\r\n\r\nAnd I want to get the width and height for my images like:\r\n\r\n```java\r\nint actualHeight = srcImage.getHeight();\r\nint actualWidth = srcImage.getWidth();\r\n```\r\n\r\nThis works totally fine for images in landscape format.\r\nHowever, for images in upfront format, the width and height is always swapped, so that the width is the height of the orginial image. So, e.g. I have an image that is 200x500 (width x height) and the two integers above are `actualHeight = 200` and `actualWidth = 500`.\r\n\r\nAm I missing something?\r\n\r\n\r\n\r\n","title":"Java Image BufferedImage loosing aspect ratio of upright image","body":"<p>I am storing an Image in the filesystem like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileImageOutputStream fos = new FileImageOutputStream(newFile);\nint len;\nwhile ((len = zis.read(buffer)) &gt; 0) {\n      fos.write(buffer, 0, len);\n}\nfos.close();\n</code></pre>\n<p>And all images are stored correctly in the filesystem. (Also with correct aspect ratio with width and height!)</p>\n<p>However, later, I am loading my image like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File imgFile ...\nFileImageInputStream stream = new FileImageInputStream(imgFile);\nBufferedImage srcImage = ImageIO.read(stream);\n</code></pre>\n<p>And I want to get the width and height for my images like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int actualHeight = srcImage.getHeight();\nint actualWidth = srcImage.getWidth();\n</code></pre>\n<p>This works totally fine for images in landscape format.\nHowever, for images in upfront format, the width and height is always swapped, so that the width is the height of the orginial image. So, e.g. I have an image that is 200x500 (width x height) and the two integers above are <code>actualHeight = 200</code> and <code>actualWidth = 500</code>.</p>\n<p>Am I missing something?</p>\n"},{"tags":["c#","java","regex","ssis"],"comments":[{"owner":{"account_id":471956,"reputation":26750,"user_id":880096,"accept_rate":100,"display_name":"FailedDev"},"score":0,"creation_date":1320108841,"post_id":7961316,"comment_id":9733283,"body_markdown":"What exactly should the output be?","body":"What exactly should the output be?"},{"owner":{"account_id":24591,"reputation":8795,"user_id":62653,"accept_rate":84,"display_name":"andy"},"score":0,"creation_date":1344470366,"post_id":7961316,"comment_id":15799719,"body_markdown":"I can&#39;t believe more people don&#39;t need this information! great question, thanks!","body":"I can&#39;t believe more people don&#39;t need this information! great question, thanks!"}],"answers":[{"comments":[{"owner":{"account_id":318556,"reputation":430,"user_id":635855,"display_name":"Ben M."},"score":0,"creation_date":1320157252,"post_id":7961546,"comment_id":9741926,"body_markdown":"Thanks, the ORing patterns worked fine.  This string pattern works best for C# : @&quot;([^\\s\\&quot;&quot;\\[\\]]+)|(\\[[^\\]\\[]+\\])|(\\&quot;&quot;[^\\&quot;&quot;]+\\&quot;&quot;)&quot;","body":"Thanks, the ORing patterns worked fine.  This string pattern works best for C# : @&quot;([^\\s\\&quot;&quot;&#91;&#93;]+)|(&#91;[^&#93;&#91;]+&#93;)|(\\&quot;&quot;[^\\&quot;&quot;&zwnj;&#8203;]+\\&quot;&quot;)&quot;"},{"owner":{"account_id":55706,"reputation":16284,"user_id":166893,"accept_rate":49,"display_name":"Lilith River"},"score":0,"creation_date":1320217753,"post_id":7961546,"comment_id":9754877,"body_markdown":"Thanks. It seems stack overflow removed my slashes.... I forgot to embed it in a code block. Updating now.","body":"Thanks. It seems stack overflow removed my slashes.... I forgot to embed it in a code block. Updating now."}],"tags":[],"owner":{"account_id":55706,"reputation":16284,"user_id":166893,"accept_rate":49,"display_name":"Lilith River"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1320217804,"creation_date":1320110171,"answer_id":7961546,"question_id":7961316,"body_markdown":"You can&#39;t do it using string.split, you need to iterate through all captures of the &#39;column&#39; group (if you&#39;re using C#)\r\n\r\n    This matches a non-quoted, non-bracketed field: [^\\s\\&quot;\\[\\]]+\r\n    This matches a bracketed field: \\[[^\\]\\[]+\\] \r\n    This matches a quoted field: \\&quot;[^\\&quot;]+\\&quot;\r\n\r\nIt&#39;s easiest to leave the quotes and brackets on during matching, then strip them off using Trim(&#39;[&#39;,&#39;\\&#39;,&#39;&quot;&#39;). \r\n\r\n\r\n\r\n    @&quot;^((?&lt;column&gt;[^\\s\\&quot;\\[\\]]+|\\[[^\\]\\[]+\\]|\\&quot;[^\\&quot;]+\\&quot;)\\s+)+$&quot;\r\n\r\n\r\n\r\n","title":"Regex to split columns of an Amazon S3 Bucket Log?","body":"<p>You can't do it using string.split, you need to iterate through all captures of the 'column' group (if you're using C#)</p>\n\n<pre><code>This matches a non-quoted, non-bracketed field: [^\\s\\\"\\[\\]]+\nThis matches a bracketed field: \\[[^\\]\\[]+\\] \nThis matches a quoted field: \\\"[^\\\"]+\\\"\n</code></pre>\n\n<p>It's easiest to leave the quotes and brackets on during matching, then strip them off using Trim('[','\\','\"'). </p>\n\n<pre><code>@\"^((?&lt;column&gt;[^\\s\\\"\\[\\]]+|\\[[^\\]\\[]+\\]|\\\"[^\\\"]+\\\")\\s+)+$\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3287954,"reputation":66,"user_id":2766901,"display_name":"Anthony Petty"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1384964818,"creation_date":1384964818,"answer_id":20101397,"question_id":7961316,"body_markdown":"Here is a dumb regex I wrote to parse s3 log files in node:\r\n\r\n    /^(.*?)\\s(.*?)\\s(\\[.*?\\])\\s(.*?)\\s(.*?)\\s(.*?)\\s(.*?)\\s(.*?)\\s(\\&quot;.*?\\&quot;)\\s(.*?)\\s(.*?)\\s(.*?)\\s(.*?)\\s(.*?)\\s(.*?)\\s(\\&quot;.*?\\&quot;)\\s(\\&quot;.*?\\&quot;)\\s(.*?)$/\r\n\r\nAs I said, this is &quot;dumb&quot; - it relies heavily on them not changing the log format, and each field not containing any weird characters.","title":"Regex to split columns of an Amazon S3 Bucket Log?","body":"<p>Here is a dumb regex I wrote to parse s3 log files in node:</p>\n\n<pre><code>/^(.*?)\\s(.*?)\\s(\\[.*?\\])\\s(.*?)\\s(.*?)\\s(.*?)\\s(.*?)\\s(.*?)\\s(\\\".*?\\\")\\s(.*?)\\s(.*?)\\s(.*?)\\s(.*?)\\s(.*?)\\s(.*?)\\s(\\\".*?\\\")\\s(\\\".*?\\\")\\s(.*?)$/\n</code></pre>\n\n<p>As I said, this is \"dumb\" - it relies heavily on them not changing the log format, and each field not containing any weird characters.</p>\n"},{"tags":[],"owner":{"account_id":6734420,"reputation":1094,"user_id":5189680,"accept_rate":29,"display_name":"Jon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438694015,"creation_date":1438694015,"answer_id":31810341,"question_id":7961316,"body_markdown":"This is a python solution that may help someone. It also removes the quotes and square brackets for you:\r\n\r\n&lt;!-- language: Python --&gt;\r\n\r\n    import re\r\n    log = &#39;79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be mybucket [06/Feb/2014:00:00:38 +0000] 192.0.2.3 79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be A1206F460EXAMPLE REST.GET.BUCKETPOLICY - &quot;GET /mybucket?policy HTTP/1.1&quot; 404 NoSuchBucketPolicy 297 - 38 - &quot;-&quot; &quot;S3Console/0.4&quot; -&#39;\r\n    \r\n    regex = &#39;(?:&quot;([^&quot;]+)&quot;)|(?:\\[([^\\]]+)\\])|([^ ]+)&#39;\r\n    \r\n    # Result is a list of triples, with only one having a value\r\n    # (due to the three group types: &#39;&quot;&quot;&#39; or &#39;[]&#39; or &#39;&#39;)\r\n    result = re.compile(regex).findall(log)\r\n    for a, b, c in result:\r\n        print(a or b or c)\r\n\r\nOutput:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be\r\n    mybucket\r\n    06/Feb/2014:00:00:38 +0000\r\n    192.0.2.3\r\n    79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be\r\n    A1206F460EXAMPLE\r\n    REST.GET.BUCKETPOLICY\r\n    -\r\n    GET /mybucket?policy HTTP/1.1\r\n    404\r\n    NoSuchBucketPolicy\r\n    297\r\n    -\r\n    38\r\n    -\r\n    -\r\n    S3Console/0.4\r\n    -\r\n    jon@jon-laptop:~/Downloads$ python regex.py\r\n    79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be\r\n    mybucket\r\n    06/Feb/2014:00:00:38 +0000\r\n    192.0.2.3\r\n    79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be\r\n    A1206F460EXAMPLE\r\n    REST.GET.BUCKETPOLICY\r\n    -\r\n    GET /mybucket?policy HTTP/1.1\r\n    404\r\n    NoSuchBucketPolicy\r\n    297\r\n    -\r\n    38\r\n    -\r\n    -\r\n    S3Console/0.4\r\n    -\r\n","title":"Regex to split columns of an Amazon S3 Bucket Log?","body":"<p>This is a python solution that may help someone. It also removes the quotes and square brackets for you:</p>\n\n<pre><code>import re\nlog = '79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be mybucket [06/Feb/2014:00:00:38 +0000] 192.0.2.3 79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be A1206F460EXAMPLE REST.GET.BUCKETPOLICY - \"GET /mybucket?policy HTTP/1.1\" 404 NoSuchBucketPolicy 297 - 38 - \"-\" \"S3Console/0.4\" -'\n\nregex = '(?:\"([^\"]+)\")|(?:\\[([^\\]]+)\\])|([^ ]+)'\n\n# Result is a list of triples, with only one having a value\n# (due to the three group types: '\"\"' or '[]' or '')\nresult = re.compile(regex).findall(log)\nfor a, b, c in result:\n    print(a or b or c)\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be\nmybucket\n06/Feb/2014:00:00:38 +0000\n192.0.2.3\n79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be\nA1206F460EXAMPLE\nREST.GET.BUCKETPOLICY\n-\nGET /mybucket?policy HTTP/1.1\n404\nNoSuchBucketPolicy\n297\n-\n38\n-\n-\nS3Console/0.4\n-\njon@jon-laptop:~/Downloads$ python regex.py\n79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be\nmybucket\n06/Feb/2014:00:00:38 +0000\n192.0.2.3\n79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be\nA1206F460EXAMPLE\nREST.GET.BUCKETPOLICY\n-\nGET /mybucket?policy HTTP/1.1\n404\nNoSuchBucketPolicy\n297\n-\n38\n-\n-\nS3Console/0.4\n-\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36367,"reputation":9748,"user_id":103696,"accept_rate":64,"display_name":"Chad Cache"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443616739,"creation_date":1443616739,"answer_id":32866344,"question_id":7961316,"body_markdown":"I agree with @andy! I can&#39;t believe more people aren&#39;t dealing with S3&#39;s access logs, considering how long they have been around.\r\n\r\n---\r\n\r\nThis is the regexp I used\r\n\r\n    /(?:([a-z0-9]+)|-) (?:([a-z0-9\\.-_]+)|-) (?:\\[([^\\]]+)\\]|-) (?:([0-9\\.]+)|-) (?:([a-z0-9]+)|-) (?:([a-z0-9.-_]+)|-) (?:([a-z\\.]+)|-) (?:([a-z0-9\\.-_\\/]+)|-) (?:&quot;-&quot;|&quot;([^&quot;]+)&quot;|-) (?:(\\d+)|-) (?:([a-z]+)|-) (?:(\\d+)|-) (?:(\\d+)|-) (?:(\\d+)|-) (?:(\\d+)|-) (?:&quot;-&quot;|&quot;([^&quot;]+)&quot;|-) (?:&quot;-&quot;|&quot;([^&quot;]+)&quot;|-) (?:([a-z0-9]+)|-)/i\r\n\r\nIf you are using node.js you can utilize my module to make this much easier to deal with, or port it to C#, the basic ideas are all there.\r\n\r\nhttps://github.com/icodeforlove/s3-access-log-parser","title":"Regex to split columns of an Amazon S3 Bucket Log?","body":"<p>I agree with @andy! I can't believe more people aren't dealing with S3's access logs, considering how long they have been around.</p>\n\n<hr>\n\n<p>This is the regexp I used</p>\n\n<pre><code>/(?:([a-z0-9]+)|-) (?:([a-z0-9\\.-_]+)|-) (?:\\[([^\\]]+)\\]|-) (?:([0-9\\.]+)|-) (?:([a-z0-9]+)|-) (?:([a-z0-9.-_]+)|-) (?:([a-z\\.]+)|-) (?:([a-z0-9\\.-_\\/]+)|-) (?:\"-\"|\"([^\"]+)\"|-) (?:(\\d+)|-) (?:([a-z]+)|-) (?:(\\d+)|-) (?:(\\d+)|-) (?:(\\d+)|-) (?:(\\d+)|-) (?:\"-\"|\"([^\"]+)\"|-) (?:\"-\"|\"([^\"]+)\"|-) (?:([a-z0-9]+)|-)/i\n</code></pre>\n\n<p>If you are using node.js you can utilize my module to make this much easier to deal with, or port it to C#, the basic ideas are all there.</p>\n\n<p><a href=\"https://github.com/icodeforlove/s3-access-log-parser\" rel=\"nofollow\">https://github.com/icodeforlove/s3-access-log-parser</a></p>\n"},{"tags":[],"owner":{"account_id":97675,"reputation":8609,"user_id":264822,"accept_rate":74,"display_name":"parsley72"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483123623,"creation_date":1483123623,"answer_id":41401164,"question_id":7961316,"body_markdown":"I tried using this in C# but found there were some incorrect characters in the answer above and you had to have the regex for the non-quoted, non-bracketed field at the end otherwise it matches everything (using http://regexstorm.net/tester):\r\n[![enter image description here][1]][1]\r\n\r\nThe full regex with the bracketed field first, the quoted field second and the non-quoted, non-bracketed field last:\r\n[![enter image description here][2]][2]\r\n\r\nA simple C# implementation:\r\n\r\n        MatchCollection matches = Regex.Matches(contents, @&quot;(\\[[^\\]\\[]+\\])|(&quot;&quot;[^&quot;&quot;]+&quot;&quot;)|([^\\s&quot;&quot;\\[\\]]+)&quot;);\r\n        for (int i = 0; i &lt; matches.Count; i++)\r\n        {\r\n            Console.WriteLine(i + &quot;: &quot; + matches[i].ToString().Trim(&#39;[&#39;, &#39;]&#39;, &#39;&quot;&#39;));\r\n        }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/w8ukP.png\r\n  [2]: https://i.stack.imgur.com/HZJqC.png","title":"Regex to split columns of an Amazon S3 Bucket Log?","body":"<p>I tried using this in C# but found there were some incorrect characters in the answer above and you had to have the regex for the non-quoted, non-bracketed field at the end otherwise it matches everything (using <a href=\"http://regexstorm.net/tester\" rel=\"nofollow noreferrer\">http://regexstorm.net/tester</a>):\n<a href=\"https://i.stack.imgur.com/w8ukP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w8ukP.png\" alt=\"enter image description here\"></a></p>\n\n<p>The full regex with the bracketed field first, the quoted field second and the non-quoted, non-bracketed field last:\n<a href=\"https://i.stack.imgur.com/HZJqC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HZJqC.png\" alt=\"enter image description here\"></a></p>\n\n<p>A simple C# implementation:</p>\n\n<pre><code>    MatchCollection matches = Regex.Matches(contents, @\"(\\[[^\\]\\[]+\\])|(\"\"[^\"\"]+\"\")|([^\\s\"\"\\[\\]]+)\");\n    for (int i = 0; i &lt; matches.Count; i++)\n    {\n        Console.WriteLine(i + \": \" + matches[i].ToString().Trim('[', ']', '\"'));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2176241,"reputation":450,"user_id":1926877,"display_name":"Khizar Iqbal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618655820,"creation_date":1618655820,"answer_id":67137197,"question_id":7961316,"body_markdown":"Here is the regex I copied from [AWS Knowledge Center](https://aws.amazon.com/premiumsupport/knowledge-center/analyze-logs-athena/) and modify it a bit to make it working in ASP.NET Core. \r\n\r\n```cSHARP\r\nnew Regex(&quot;([^ ]*) ([^ ]*) \\\\[(.*?)\\\\] ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) (\\&quot;[^\\&quot;]*\\&quot;|-) (-|[0-9]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) (\\&quot;[^\\&quot;]*\\&quot;|-) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*)&quot;);\r\n```\r\n\r\nIt is working fine for us. And if anyone wants to use c# class to store the access log, below is the code to parse each line of the log file and create `S3ServerAccessLog` object for it.\r\n```\r\nprivate List&lt;S3ServerAccessLog&gt; ParseLogs(string accessLogs)\r\n{\r\n    // split log file per new line since each log will be on a single line.\r\n    var splittedLogs = accessLogs.Split(&quot;\\r\\n&quot;, StringSplitOptions.RemoveEmptyEntries);\r\n    var parsedLogs = new List&lt;S3ServerAccessLog&gt;();\r\n\r\n    foreach (var logLine in splittedLogs)\r\n    {\r\n        var parsedLog = ACCESS_LOG_REGEX.Split(logLine).Where(s =&gt; s.Length &gt; 0).ToList();\r\n                \r\n        // construct \r\n        var logModel = new S3ServerAccessLog\r\n        {\r\n            BucketOwner = parsedLog[0],\r\n            BucketName = parsedLog[1],\r\n            RequestDateTime = DateTimeOffset.ParseExact(parsedLog[2], &quot;dd/MMM/yyyy:HH:mm:ss K&quot;, CultureInfo.InvariantCulture),\r\n            RemoteIP = parsedLog[3],\r\n            Requester = parsedLog[4],\r\n            RequestId = parsedLog[5],\r\n            Operation = parsedLog[6],\r\n            Key = parsedLog[7],\r\n            RequestUri = parsedLog[8].Replace(&quot;\\&quot;&quot;, &quot;&quot;),\r\n            HttpStatus = int.Parse(parsedLog[9]),\r\n            ErrorCode = parsedLog[10],\r\n            BytesSent = parsedLog[11],\r\n            ObjectSize = parsedLog[12],\r\n            TotalTime = parsedLog[13],\r\n            TurnAroundTime = parsedLog[14],\r\n            Referrer = parsedLog[15].Replace(&quot;\\&quot;&quot;, &quot;&quot;),\r\n            UserAgent = parsedLog[16].Replace(&quot;\\&quot;&quot;, &quot;&quot;),\r\n            VersionId = parsedLog[17],\r\n            HostId = parsedLog[18],\r\n            Sigv = parsedLog[19],\r\n            CipherSuite = parsedLog[20],\r\n            AuthType = parsedLog[21],\r\n            EndPoint = parsedLog[22],\r\n            TlsVersion = parsedLog[23]\r\n        };\r\n\r\n        parsedLogs.Add(logModel);\r\n    }\r\n\r\n    return parsedLogs;\r\n}\r\n```","title":"Regex to split columns of an Amazon S3 Bucket Log?","body":"<p>Here is the regex I copied from <a href=\"https://aws.amazon.com/premiumsupport/knowledge-center/analyze-logs-athena/\" rel=\"nofollow noreferrer\">AWS Knowledge Center</a> and modify it a bit to make it working in ASP.NET Core.</p>\n<pre><code>new Regex(&quot;([^ ]*) ([^ ]*) \\\\[(.*?)\\\\] ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) (\\&quot;[^\\&quot;]*\\&quot;|-) (-|[0-9]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) (\\&quot;[^\\&quot;]*\\&quot;|-) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*)&quot;);\n</code></pre>\n<p>It is working fine for us. And if anyone wants to use c# class to store the access log, below is the code to parse each line of the log file and create <code>S3ServerAccessLog</code> object for it.</p>\n<pre><code>private List&lt;S3ServerAccessLog&gt; ParseLogs(string accessLogs)\n{\n    // split log file per new line since each log will be on a single line.\n    var splittedLogs = accessLogs.Split(&quot;\\r\\n&quot;, StringSplitOptions.RemoveEmptyEntries);\n    var parsedLogs = new List&lt;S3ServerAccessLog&gt;();\n\n    foreach (var logLine in splittedLogs)\n    {\n        var parsedLog = ACCESS_LOG_REGEX.Split(logLine).Where(s =&gt; s.Length &gt; 0).ToList();\n                \n        // construct \n        var logModel = new S3ServerAccessLog\n        {\n            BucketOwner = parsedLog[0],\n            BucketName = parsedLog[1],\n            RequestDateTime = DateTimeOffset.ParseExact(parsedLog[2], &quot;dd/MMM/yyyy:HH:mm:ss K&quot;, CultureInfo.InvariantCulture),\n            RemoteIP = parsedLog[3],\n            Requester = parsedLog[4],\n            RequestId = parsedLog[5],\n            Operation = parsedLog[6],\n            Key = parsedLog[7],\n            RequestUri = parsedLog[8].Replace(&quot;\\&quot;&quot;, &quot;&quot;),\n            HttpStatus = int.Parse(parsedLog[9]),\n            ErrorCode = parsedLog[10],\n            BytesSent = parsedLog[11],\n            ObjectSize = parsedLog[12],\n            TotalTime = parsedLog[13],\n            TurnAroundTime = parsedLog[14],\n            Referrer = parsedLog[15].Replace(&quot;\\&quot;&quot;, &quot;&quot;),\n            UserAgent = parsedLog[16].Replace(&quot;\\&quot;&quot;, &quot;&quot;),\n            VersionId = parsedLog[17],\n            HostId = parsedLog[18],\n            Sigv = parsedLog[19],\n            CipherSuite = parsedLog[20],\n            AuthType = parsedLog[21],\n            EndPoint = parsedLog[22],\n            TlsVersion = parsedLog[23]\n        };\n\n        parsedLogs.Add(logModel);\n    }\n\n    return parsedLogs;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":432513,"reputation":355,"user_id":817324,"display_name":"Ashley Kleynhans"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670346115,"creation_date":1670344808,"answer_id":74706103,"question_id":7961316,"body_markdown":"I wasn&#39;t able to get any of the posted solutions to parse a log file entry that has a request URI containing double quotes, so this is what I ended up with in Python:\r\n\r\n```python\r\nimport json\r\nimport re\r\nfrom collections import namedtuple\r\n\r\nFILENAME = &#39;/tmp/2022-11/2022-11-01-20-21-34-AB64DC3459FF2F2B&#39;\r\n\r\n# define a named tuple to represent each log entry\r\nLogEntry = namedtuple(\r\n    &#39;LogEntry&#39;,\r\n    [\r\n        &#39;bucket_owner&#39;,\r\n        &#39;bucket&#39;,\r\n        &#39;timestamp&#39;,\r\n        &#39;remote_ip&#39;,\r\n        &#39;requester&#39;,\r\n        &#39;request_id&#39;,\r\n        &#39;operation&#39;,\r\n        &#39;s3_key&#39;,\r\n        &#39;request_uri&#39;,\r\n        &#39;http_version&#39;,\r\n        &#39;status_code&#39;,\r\n        &#39;error_code&#39;,\r\n        &#39;bytes_sent&#39;,\r\n        &#39;object_size&#39;,\r\n        &#39;total_time&#39;,\r\n        &#39;turn_around_time&#39;,\r\n        &#39;referrer&#39;,\r\n        &#39;user_agent&#39;,\r\n        &#39;version_id&#39;,\r\n        &#39;host_id&#39;,\r\n        &#39;sigv&#39;,\r\n        &#39;cipher_suite&#39;,\r\n        &#39;auth_type&#39;,\r\n        &#39;endpoint&#39;,\r\n        &#39;tls_version&#39;,\r\n        &#39;access_point_arn&#39;\r\n    ]\r\n)\r\n\r\n# compile the regular expression for parsing log entries\r\nLOG_ENTRY_PATTERN = re.compile(\r\n    r&#39;(\\S+) (\\S+) \\[(.+)\\] (\\S+) (\\S+) (\\S+) (\\S+) (\\S+) &quot;(.*) HTTP\\/(\\d\\.\\d)&quot; (\\S+) (\\S+) (\\S+) (\\S+) (\\S+) (\\S+) &quot;(\\S+)&quot; &quot;(.*)&quot; (\\S+) (\\S+) (\\S+) (\\S+) (\\S+) (\\S+) (\\S+) (\\S+)&#39;\r\n)\r\n\r\n# open the access log file\r\nwith open(FILENAME, &#39;r&#39;) as f:\r\n    # iterate over each line in the file\r\n    for line in f:\r\n        # ignore certain types of operations\r\n        if &#39;BATCH.DELETE.OBJECT&#39; not in line \\\r\n                and &#39;S3.TRANSITION_SIA.OBJECT&#39; not in line \\\r\n                and &#39;REST.COPY.OBJECT_GET&#39; not in line:\r\n            # parse the log entry using the regular expression\r\n            match = LOG_ENTRY_PATTERN.match(line)\r\n\r\n            if match:\r\n                # create a LogEntry named tuple from the parsed log entry\r\n                log_entry = LogEntry(*match.groups())\r\n                log_entry = dict(log_entry._asdict())\r\n\r\n                for key in log_entry:\r\n                    if log_entry[key] == &#39;-&#39;:\r\n                        log_entry[key] = None\r\n\r\n                print(json.dumps(log_entry, indent=4, default=str))\r\n```\r\n\r\nI personally find it cleaner working with a `namedtuple` which I then cast to a `dict` to easily insert into a MySQL database, than working with a list.","title":"Regex to split columns of an Amazon S3 Bucket Log?","body":"<p>I wasn't able to get any of the posted solutions to parse a log file entry that has a request URI containing double quotes, so this is what I ended up with in Python:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import json\nimport re\nfrom collections import namedtuple\n\nFILENAME = '/tmp/2022-11/2022-11-01-20-21-34-AB64DC3459FF2F2B'\n\n# define a named tuple to represent each log entry\nLogEntry = namedtuple(\n    'LogEntry',\n    [\n        'bucket_owner',\n        'bucket',\n        'timestamp',\n        'remote_ip',\n        'requester',\n        'request_id',\n        'operation',\n        's3_key',\n        'request_uri',\n        'http_version',\n        'status_code',\n        'error_code',\n        'bytes_sent',\n        'object_size',\n        'total_time',\n        'turn_around_time',\n        'referrer',\n        'user_agent',\n        'version_id',\n        'host_id',\n        'sigv',\n        'cipher_suite',\n        'auth_type',\n        'endpoint',\n        'tls_version',\n        'access_point_arn'\n    ]\n)\n\n# compile the regular expression for parsing log entries\nLOG_ENTRY_PATTERN = re.compile(\n    r'(\\S+) (\\S+) \\[(.+)\\] (\\S+) (\\S+) (\\S+) (\\S+) (\\S+) &quot;(.*) HTTP\\/(\\d\\.\\d)&quot; (\\S+) (\\S+) (\\S+) (\\S+) (\\S+) (\\S+) &quot;(\\S+)&quot; &quot;(.*)&quot; (\\S+) (\\S+) (\\S+) (\\S+) (\\S+) (\\S+) (\\S+) (\\S+)'\n)\n\n# open the access log file\nwith open(FILENAME, 'r') as f:\n    # iterate over each line in the file\n    for line in f:\n        # ignore certain types of operations\n        if 'BATCH.DELETE.OBJECT' not in line \\\n                and 'S3.TRANSITION_SIA.OBJECT' not in line \\\n                and 'REST.COPY.OBJECT_GET' not in line:\n            # parse the log entry using the regular expression\n            match = LOG_ENTRY_PATTERN.match(line)\n\n            if match:\n                # create a LogEntry named tuple from the parsed log entry\n                log_entry = LogEntry(*match.groups())\n                log_entry = dict(log_entry._asdict())\n\n                for key in log_entry:\n                    if log_entry[key] == '-':\n                        log_entry[key] = None\n\n                print(json.dumps(log_entry, indent=4, default=str))\n</code></pre>\n<p>I personally find it cleaner working with a <code>namedtuple</code> which I then cast to a <code>dict</code> to easily insert into a MySQL database, than working with a list.</p>\n"}],"owner":{"account_id":318556,"reputation":430,"user_id":635855,"display_name":"Ben M."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2505,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":7961546,"answer_count":7,"score":5,"last_activity_date":1670346115,"creation_date":1320107898,"question_id":7961316,"body_markdown":"I&#39;m setting up an ETL process for my company&#39;s S3 buckets so we can track our usage, and I&#39;ve run into some trouble breaking up the columns of the S3 log file because Amazon uses spaces, double quotes, and square brackets to delimit columns.\r\n\r\nI found this Regex: `[^\\\\s\\&quot;&#39;]+|\\&quot;([^\\&quot;]*)\\&quot;|&#39;([^&#39;]*)&#39;` on this SO post: https://stackoverflow.com/questions/366202/regex-for-splitting-a-string-using-space-when-not-surrounded-by-single-or-double and that&#39;s gotten me pretty close.  I just need help adjusting it to ignore single quotes and also ignore spaces between a &quot;[&quot; and a &quot;]&quot;\r\n\r\nHere&#39;s an example line from one of our files:\r\n\r\n    dd8d30dd085515d73b318a83f4946b26d49294a95030e4a7919de0ba6654c362 ourbucket.name.config [31/Oct/2011:17:00:04 +0000] 184.191.213.218 - 013259AC1A20DF37 REST.GET.OBJECT ourbucket.name.config.txt &quot;GET /ourbucket.name.config.txt HTTP/1.1&quot; 200 - 325 325 16 16 &quot;-&quot; &quot;Mozilla/5.0 (Windows; U; Windows NT 5.1; en-GB; rv:1.8.1.6) Gecko/20070725 Firefox/2.0.0.6&quot; -\r\n\r\nAnd here&#39;s the format definition: http://s3browser.com/amazon-s3-bucket-logging-server-access-logs.php\r\n\r\nAny help would be appreciated!\r\n\r\nEDIT: in response to FaileDev, the output should be any string contained between two square brackets, e.g. [foo bar], two quotes, e.g. &quot;foo bar&quot; or spaces, e.g. foo bar (where both foo and bar would match individually.  I&#39;ve broken each match in the example line I provided into it&#39;s own line in the following block:\r\n\r\n    dd8d30dd085515d73b318a83f4946b26d49294a95030e4a7919de0ba6654c362 \r\n    ourbucket.name.config \r\n    [31/Oct/2011:17:00:04 +0000] \r\n    184.191.213.218 \r\n    - \r\n    013259AC1A20DF37 \r\n    REST.GET.OBJECT \r\n    ourbucket.name.config.txt \r\n    &quot;GET /ourbucket.name.config.txt HTTP/1.1&quot; \r\n    200 \r\n    - \r\n    325 \r\n    325 \r\n    16 \r\n    16 \r\n    &quot;-&quot; \r\n    &quot;Mozilla/5.0 (Windows; U; Windows NT 5.1; en-GB; rv:1.8.1.6) Gecko/20070725 Firefox/2.0.0.6&quot; \r\n    -","title":"Regex to split columns of an Amazon S3 Bucket Log?","body":"<p>I'm setting up an ETL process for my company's S3 buckets so we can track our usage, and I've run into some trouble breaking up the columns of the S3 log file because Amazon uses spaces, double quotes, and square brackets to delimit columns.</p>\n\n<p>I found this Regex: <code>[^\\\\s\\\"']+|\\\"([^\\\"]*)\\\"|'([^']*)'</code> on this SO post: <a href=\"https://stackoverflow.com/questions/366202/regex-for-splitting-a-string-using-space-when-not-surrounded-by-single-or-double\">Regex for splitting a string using space when not surrounded by single or double quotes</a> and that's gotten me pretty close.  I just need help adjusting it to ignore single quotes and also ignore spaces between a \"[\" and a \"]\"</p>\n\n<p>Here's an example line from one of our files:</p>\n\n<pre><code>dd8d30dd085515d73b318a83f4946b26d49294a95030e4a7919de0ba6654c362 ourbucket.name.config [31/Oct/2011:17:00:04 +0000] 184.191.213.218 - 013259AC1A20DF37 REST.GET.OBJECT ourbucket.name.config.txt \"GET /ourbucket.name.config.txt HTTP/1.1\" 200 - 325 325 16 16 \"-\" \"Mozilla/5.0 (Windows; U; Windows NT 5.1; en-GB; rv:1.8.1.6) Gecko/20070725 Firefox/2.0.0.6\" -\n</code></pre>\n\n<p>And here's the format definition: <a href=\"http://s3browser.com/amazon-s3-bucket-logging-server-access-logs.php\" rel=\"nofollow noreferrer\">http://s3browser.com/amazon-s3-bucket-logging-server-access-logs.php</a></p>\n\n<p>Any help would be appreciated!</p>\n\n<p>EDIT: in response to FaileDev, the output should be any string contained between two square brackets, e.g. [foo bar], two quotes, e.g. \"foo bar\" or spaces, e.g. foo bar (where both foo and bar would match individually.  I've broken each match in the example line I provided into it's own line in the following block:</p>\n\n<pre><code>dd8d30dd085515d73b318a83f4946b26d49294a95030e4a7919de0ba6654c362 \nourbucket.name.config \n[31/Oct/2011:17:00:04 +0000] \n184.191.213.218 \n- \n013259AC1A20DF37 \nREST.GET.OBJECT \nourbucket.name.config.txt \n\"GET /ourbucket.name.config.txt HTTP/1.1\" \n200 \n- \n325 \n325 \n16 \n16 \n\"-\" \n\"Mozilla/5.0 (Windows; U; Windows NT 5.1; en-GB; rv:1.8.1.6) Gecko/20070725 Firefox/2.0.0.6\" \n-\n</code></pre>\n"},{"tags":["java","angular","spring","server-sent-events"],"comments":[{"owner":{"account_id":223215,"reputation":2072,"user_id":482270,"display_name":"akseli"},"score":0,"creation_date":1670258615,"post_id":74691558,"comment_id":131829509,"body_markdown":"Are you unsubscribing on component destroy?","body":"Are you unsubscribing on component destroy?"},{"owner":{"account_id":2830030,"reputation":95,"user_id":2431787,"display_name":"Giane"},"score":0,"creation_date":1670259803,"post_id":74691558,"comment_id":131829920,"body_markdown":"The problem also occurs when first creating the component without subsequently browsing.\nThe onDestroy would not be called at the point where I am","body":"The problem also occurs when first creating the component without subsequently browsing. The onDestroy would not be called at the point where I am"}],"answers":[{"tags":[],"owner":{"account_id":2830030,"reputation":95,"user_id":2431787,"display_name":"Giane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670345836,"creation_date":1670345836,"answer_id":74706337,"question_id":74691558,"body_markdown":"I found the solution; the problem was due to the backend part.\r\n\r\nSpecifically, to implement the SSE on the backend side, I used l-object Flux, but I created it in the following way.\r\n\r\n```\r\nFlux.fromIterable(messages)\r\n```\r\n\r\nThis makes that when the messages are finished, the socket will be closed; the solution was to modify the Flux as follows, \r\n\r\n```\r\nFlux.interval(Duration.ofSeconds(1))\r\n```\r\n\r\nIn this way, the socket always stays open.","title":"Server sent event on Angular makes multiple call","body":"<p>I found the solution; the problem was due to the backend part.</p>\n<p>Specifically, to implement the SSE on the backend side, I used l-object Flux, but I created it in the following way.</p>\n<pre><code>Flux.fromIterable(messages)\n</code></pre>\n<p>This makes that when the messages are finished, the socket will be closed; the solution was to modify the Flux as follows,</p>\n<pre><code>Flux.interval(Duration.ofSeconds(1))\n</code></pre>\n<p>In this way, the socket always stays open.</p>\n"}],"owner":{"account_id":2830030,"reputation":95,"user_id":2431787,"display_name":"Giane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74706337,"answer_count":1,"score":0,"last_activity_date":1670345836,"creation_date":1670258490,"question_id":74691558,"body_markdown":"I am developing a simple chat system with Angular and Spring Boot using Sent Event Servers.\r\n\r\nI have implemented the client, and it correctly receives events. But when I analysed the browser network console, I noticed a strange behaviour.\r\nI was expecting to find a single call to my endpoint, sse I found multiple calls.\r\n\r\nI will investigate in more detail and add an event on the onopen. I confirmed that multiple calls are being made.\r\n\r\nDoes anyone know if I am doing something wrong or is this normal Angular behaviour?\r\nBelow is the client code and screenshot of the network\r\n\r\n```\r\n  private getMessages(): Observable&lt;any&gt; {\r\n    return new Observable((observer: { next: (arg0: any) =&gt; void; }) =&gt; {\r\n      let ess = new EventSource(&quot;http://localhost:8080/api/messages&quot;);\r\n\r\n      ess.onopen = ev =&gt; {\r\n        console.log(&quot;Connection open&quot;)\r\n      }\r\n\r\n      ess.onmessage = ev =&gt; {\r\n        this.zone.run(() =&gt; {\r\n          observer.next(ev.data)\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.sub = this.getMessages().subscribe({\r\n      next: (data: any) =&gt; {\r\n        //console.log(data);\r\n        this.addMessage(data)\r\n      },\r\n      error: err =&gt; console.log(err)\r\n    });\r\n  }\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JftmC.png","title":"Server sent event on Angular makes multiple call","body":"<p>I am developing a simple chat system with Angular and Spring Boot using Sent Event Servers.</p>\n<p>I have implemented the client, and it correctly receives events. But when I analysed the browser network console, I noticed a strange behaviour.\nI was expecting to find a single call to my endpoint, sse I found multiple calls.</p>\n<p>I will investigate in more detail and add an event on the onopen. I confirmed that multiple calls are being made.</p>\n<p>Does anyone know if I am doing something wrong or is this normal Angular behaviour?\nBelow is the client code and screenshot of the network</p>\n<pre><code>  private getMessages(): Observable&lt;any&gt; {\n    return new Observable((observer: { next: (arg0: any) =&gt; void; }) =&gt; {\n      let ess = new EventSource(&quot;http://localhost:8080/api/messages&quot;);\n\n      ess.onopen = ev =&gt; {\n        console.log(&quot;Connection open&quot;)\n      }\n\n      ess.onmessage = ev =&gt; {\n        this.zone.run(() =&gt; {\n          observer.next(ev.data)\n        })\n      }\n    })\n  }\n\n  ngOnInit(): void {\n    this.sub = this.getMessages().subscribe({\n      next: (data: any) =&gt; {\n        //console.log(data);\n        this.addMessage(data)\n      },\n      error: err =&gt; console.log(err)\n    });\n  }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/JftmC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JftmC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","node.js","encryption","node-crypto"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1670346806,"post_id":74706293,"comment_id":131853537,"body_markdown":"The *crypto* module of NodeJS uses PKCS#7 padding by default. If a different padding should be applied, the padding can be disabled with [`setAutoPadding(false)`](https://nodejs.org/api/crypto.html#ciphersetautopaddingautopadding) and a custom padding/unpadding can be implemented (which is not very elaborate). ISO 10126 is described e.g. [here](https://en.wikipedia.org/wiki/Padding_(cryptography)#ISO_10126). Alternatively, another NodeJS library can be used, e.g. [*CryptoJS*](https://cryptojs.gitbook.io/docs/#block-modes-and-padding).","body":"The <i>crypto</i> module of NodeJS uses PKCS#7 padding by default. If a different padding should be applied, the padding can be disabled with <a href=\"https://nodejs.org/api/crypto.html#ciphersetautopaddingautopadding\" rel=\"nofollow noreferrer\"><code>setAutoPadding(false)</code></a> and a custom padding/unpadding can be implemented (which is not very elaborate). ISO 10126 is described e.g. <a href=\"https://en.wikipedia.org/wiki/Padding_(cryptography)#ISO_10126\" rel=\"nofollow noreferrer\">here</a>. Alternatively, another NodeJS library can be used, e.g. <a href=\"https://cryptojs.gitbook.io/docs/#block-modes-and-padding\" rel=\"nofollow noreferrer\"><i>CryptoJS</i></a>."}],"owner":{"account_id":13356224,"reputation":637,"user_id":9639645,"display_name":"Digvijay Rathore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670345606,"creation_date":1670345606,"question_id":74706293,"body_markdown":"While I was going through a piece of code in JAVA for encryption there is padding mechanism we can provide while creating cipher instance.\r\n\r\n&gt;             final Cipher cipher = Cipher.getInstance(&quot;AES/CBC/ISO10126Padding&quot;);\r\n\r\nHere we can specify the padding to be used.\r\n\r\nHow can i achieve the same in Node.js?\r\n\r\nUse Case: I am decrypting the data which i have encrypted via JAVA using this method.\r\n\r\nNote: In Java i can encrypt &amp; decrypt by creating the cipher instance the above provided way and getting success response.\r\nLet me know if any other info required.\r\n","title":"How can I use custom padding in Node js encryption and decryption?","body":"<p>While I was going through a piece of code in JAVA for encryption there is padding mechanism we can provide while creating cipher instance.</p>\n<blockquote>\n<pre><code>        final Cipher cipher = Cipher.getInstance(&quot;AES/CBC/ISO10126Padding&quot;);\n</code></pre>\n</blockquote>\n<p>Here we can specify the padding to be used.</p>\n<p>How can i achieve the same in Node.js?</p>\n<p>Use Case: I am decrypting the data which i have encrypted via JAVA using this method.</p>\n<p>Note: In Java i can encrypt &amp; decrypt by creating the cipher instance the above provided way and getting success response.\nLet me know if any other info required.</p>\n"},{"tags":["python","java","html","css","iphone"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670565863,"post_id":74705935,"comment_id":131908236,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74705935/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27167279,"reputation":11,"user_id":20704599,"display_name":"Sagar Duhan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670344098,"creation_date":1670344098,"answer_id":74705935,"question_id":74705891,"body_markdown":"The answer is NO.\r\nAs iPhone has its own security terms and protocols. You are not able to open an url or links without showing url symbol.","title":"How yo open a website from iphone shortcut without url bar showing","body":"<p>The answer is NO.\nAs iPhone has its own security terms and protocols. You are not able to open an url or links without showing url symbol.</p>\n"},{"tags":[],"owner":{"account_id":16204131,"reputation":145,"user_id":11699800,"display_name":"Luca F"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670344803,"creation_date":1670344803,"answer_id":74706101,"question_id":74705891,"body_markdown":"You can open a website from iPhone shortcut without URL bar showing by using the 3D Touch feature. To do this:\r\n\r\n1. Open the Safari browser on your iPhone.\r\n\r\n2. On the home page of Safari, find the website you want to open and press firmly on the icon for a few seconds until the 3D Touch menu appears.\r\n\r\n3. Tap on the âOpen in New Tabâ option from the 3D Touch menu. This will open the website in a new tab without the URL bar being visible.","title":"How yo open a website from iphone shortcut without url bar showing","body":"<p>You can open a website from iPhone shortcut without URL bar showing by using the 3D Touch feature. To do this:</p>\n<ol>\n<li><p>Open the Safari browser on your iPhone.</p>\n</li>\n<li><p>On the home page of Safari, find the website you want to open and press firmly on the icon for a few seconds until the 3D Touch menu appears.</p>\n</li>\n<li><p>Tap on the âOpen in New Tabâ option from the 3D Touch menu. This will open the website in a new tab without the URL bar being visible.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":27055101,"reputation":11,"user_id":20607929,"display_name":"Mohmmad Suhaib Wani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":451,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1670344803,"creation_date":1670343884,"question_id":74705891,"body_markdown":"I don&#39;t have much experience with HTML files, is it possible to edit the file in order to do this?\r\n\r\nI tried to find an option within the browser settings to hide the toolbar but it keeps re appearing when I open the app shortcut.","title":"How yo open a website from iphone shortcut without url bar showing","body":"<p>I don't have much experience with HTML files, is it possible to edit the file in order to do this?</p>\n<p>I tried to find an option within the browser settings to hide the toolbar but it keeps re appearing when I open the app shortcut.</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1670344486,"post_id":74705916,"comment_id":131852663,"body_markdown":"The Stream.map call in question expects a function that takes one parameter of type Entity and returns a value of type Long. Entity.getId does not take any parameters.","body":"The Stream.map call in question expects a function that takes one parameter of type Entity and returns a value of type Long. Entity.getId does not take any parameters."},{"owner":{"account_id":16863110,"reputation":31,"user_id":12193450,"display_name":"karolkoltundev"},"score":0,"creation_date":1670344824,"post_id":74705916,"comment_id":131852784,"body_markdown":"@ThomasBehr Entity.getId does not take any parameters, but it is a method in class Entity, which makes it a perfect candidate for a method reference.\n\nPlease check https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html -&gt; Kinds of Method References -&gt; Reference to an instance method of a particular object.\n\nIf this was not true, you would not be able to perform eg.: `Stream.of(&quot;abc&quot;).map(String::toUpperCase)`","body":"@ThomasBehr Entity.getId does not take any parameters, but it is a method in class Entity, which makes it a perfect candidate for a method reference.  Please check <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/&hellip;</a> -&gt; Kinds of Method References -&gt; Reference to an instance method of a particular object.  If this was not true, you would not be able to perform eg.: <code>Stream.of(&quot;abc&quot;).map(String::toUpperCase)</code>"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1670345035,"post_id":74705916,"comment_id":131852869,"body_markdown":"Clearly a javac bug. All those alternate JDKs you named don&#39;t also provide an alternate javac impl, they just use the same one, so they&#39;d trivially fail as well and there is no point filing bugs with them - the right place to file the bug is with javac itself.","body":"Clearly a javac bug. All those alternate JDKs you named don&#39;t also provide an alternate javac impl, they just use the same one, so they&#39;d trivially fail as well and there is no point filing bugs with them - the right place to file the bug is with javac itself."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1670435239,"post_id":74705916,"comment_id":131877755,"body_markdown":"A compilation error that goes away when using `-Xdiags:verbose`â¦ that rings a bell. See [JDK-8268312](https://bugs.openjdk.org/browse/JDK-8268312), supposed to be fixed in JDK&#160;20. There are also the duplicates [JDK-8295988](https://bugs.openjdk.org/browse/JDK-8295988) and [JDK-8282705](https://bugs.openjdk.org/browse/JDK-8282705)","body":"A compilation error that goes away when using <code>-Xdiags:verbose</code>â¦ that rings a bell. See <a href=\"https://bugs.openjdk.org/browse/JDK-8268312\" rel=\"nofollow noreferrer\">JDK-8268312</a>, supposed to be fixed in JDK 20. There are also the duplicates <a href=\"https://bugs.openjdk.org/browse/JDK-8295988\" rel=\"nofollow noreferrer\">JDK-8295988</a> and <a href=\"https://bugs.openjdk.org/browse/JDK-8282705\" rel=\"nofollow noreferrer\">JDK-8282705</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1670435631,"post_id":74705916,"comment_id":131877910,"body_markdown":"Found the reason why I remembered the issue: https://stackoverflow.com/q/73704260/2711488  Especially [this comment of mine](https://stackoverflow.com/questions/73704260/method-in-class-string-cannot-be-applied-to-given-types-when-replacing-lambda-wi#comment130170084_73715098) \n Decide yourself whether itâs a duplicateâ¦","body":"Found the reason why I remembered the issue: <a href=\"https://stackoverflow.com/q/73704260/2711488\">stackoverflow.com/q/73704260/2711488</a>  Especially <a href=\"https://stackoverflow.com/questions/73704260/method-in-class-string-cannot-be-applied-to-given-types-when-replacing-lambda-wi#comment130170084_73715098\">this comment of mine</a>   Decide yourself whether itâs a duplicateâ¦"}],"owner":{"account_id":16863110,"reputation":31,"user_id":12193450,"display_name":"karolkoltundev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1670344731,"creation_date":1670344007,"question_id":74705916,"body_markdown":"While coding, I spotted that replacing a lambda with a perfectly fine (IMO) method reference results in a compilation error using openJDK 17.\r\n\r\nInvestigation of the case led me to creating a minimal example of the code, that does not work in compilers that I found on my PC:\r\n```\r\nimport java.util.Optional;\r\nimport java.util.function.Function;\r\nimport java.util.stream.Stream;\r\n\r\nclass ExampleTest {\r\n    public static void main(String[] args) {\r\n        SessionContext sessionContext = new SessionContext();\r\n        Entity foo = new Entity(null, &quot;foo&quot;);\r\n\r\n        Optional&lt;Long&gt; id = sessionContext.get(session -&gt; {\r\n            return Stream.of(foo)\r\n                    .map(entity -&gt; insert(entity, session))\r\n                    .map(Entity::getId)\r\n                    .findAny();\r\n        });\r\n\r\n        System.out.println(id);\r\n    }\r\n\r\n\r\n    static Entity insert(Entity entity, Session session) {\r\n        return session.persist(entity);\r\n    }\r\n}\r\n\r\nclass Session {\r\n    Entity persist(Entity entity) {\r\n        entity.setId(42L);\r\n        return entity;\r\n    }\r\n}\r\n\r\nclass SessionContext {\r\n    Session session = new Session();\r\n\r\n    &lt;T&gt; T get(Function&lt;Session, T&gt; query) {\r\n        return query.apply(session);\r\n    }\r\n}\r\n\r\nclass Entity {\r\n    private Long id;\r\n    private String data;\r\n\r\n    Entity(Long id, String data) {\r\n        this.id = id;\r\n        this.data = data;\r\n    }\r\n\r\n    Long getId() {\r\n        return id;\r\n    }\r\n\r\n    void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n}\r\n```\r\n\r\nAs far as I checked, the code compiles on openJDK 8. It does not compile on the following JVMs:\r\n* openJDK 17;\r\n* zulu16;\r\n* zulu17;\r\n* oracle 18.\r\n\r\nError displayed by the compilers:\r\n\r\n```\r\nExampleTest.java:13: error: incompatible types: invalid method reference\r\n                    .map(Entity::getId)\r\n                         ^\r\n    method getId in class Entity cannot be applied to given types\r\n      required: no arguments\r\n      found:    Object\r\n      reason: actual and formal argument lists differ in length\r\nNote: Some messages have been simplified; recompile with -Xdiags:verbose to get full output\r\n```\r\n\r\nThere are other quirks too. If you follow the hint in the message above and use `-Xdiags:verbose`... The compilation will automagically pass!\r\n\r\nPlease note that:\r\n* The code example itself might not make much sense, it is just to illustrate the point in the most clear way.\r\n* There can be a lot of refactorings done to the example code, but as far as I checked, they ultimately lead to not getting the compilation error.\r\n\r\nHas anyone observed similar behavior? Does anyone recall if it is an official compilator error? Or maybe I am missing something in the code?\r\n\r\nI expected this code to compile on all JVM as it looks OK.","title":"Perfectly fine method reference does not compile on most JDKs","body":"<p>While coding, I spotted that replacing a lambda with a perfectly fine (IMO) method reference results in a compilation error using openJDK 17.</p>\n<p>Investigation of the case led me to creating a minimal example of the code, that does not work in compilers that I found on my PC:</p>\n<pre><code>import java.util.Optional;\nimport java.util.function.Function;\nimport java.util.stream.Stream;\n\nclass ExampleTest {\n    public static void main(String[] args) {\n        SessionContext sessionContext = new SessionContext();\n        Entity foo = new Entity(null, &quot;foo&quot;);\n\n        Optional&lt;Long&gt; id = sessionContext.get(session -&gt; {\n            return Stream.of(foo)\n                    .map(entity -&gt; insert(entity, session))\n                    .map(Entity::getId)\n                    .findAny();\n        });\n\n        System.out.println(id);\n    }\n\n\n    static Entity insert(Entity entity, Session session) {\n        return session.persist(entity);\n    }\n}\n\nclass Session {\n    Entity persist(Entity entity) {\n        entity.setId(42L);\n        return entity;\n    }\n}\n\nclass SessionContext {\n    Session session = new Session();\n\n    &lt;T&gt; T get(Function&lt;Session, T&gt; query) {\n        return query.apply(session);\n    }\n}\n\nclass Entity {\n    private Long id;\n    private String data;\n\n    Entity(Long id, String data) {\n        this.id = id;\n        this.data = data;\n    }\n\n    Long getId() {\n        return id;\n    }\n\n    void setId(Long id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p>As far as I checked, the code compiles on openJDK 8. It does not compile on the following JVMs:</p>\n<ul>\n<li>openJDK 17;</li>\n<li>zulu16;</li>\n<li>zulu17;</li>\n<li>oracle 18.</li>\n</ul>\n<p>Error displayed by the compilers:</p>\n<pre><code>ExampleTest.java:13: error: incompatible types: invalid method reference\n                    .map(Entity::getId)\n                         ^\n    method getId in class Entity cannot be applied to given types\n      required: no arguments\n      found:    Object\n      reason: actual and formal argument lists differ in length\nNote: Some messages have been simplified; recompile with -Xdiags:verbose to get full output\n</code></pre>\n<p>There are other quirks too. If you follow the hint in the message above and use <code>-Xdiags:verbose</code>... The compilation will automagically pass!</p>\n<p>Please note that:</p>\n<ul>\n<li>The code example itself might not make much sense, it is just to illustrate the point in the most clear way.</li>\n<li>There can be a lot of refactorings done to the example code, but as far as I checked, they ultimately lead to not getting the compilation error.</li>\n</ul>\n<p>Has anyone observed similar behavior? Does anyone recall if it is an official compilator error? Or maybe I am missing something in the code?</p>\n<p>I expected this code to compile on all JVM as it looks OK.</p>\n"},{"tags":["java","maven","cucumber","reporting","cucumber-java"],"answers":[{"comments":[{"owner":{"account_id":9068999,"reputation":41,"user_id":6752905,"display_name":"zulfikar ayub"},"score":0,"creation_date":1597616477,"post_id":63435073,"comment_id":112183789,"body_markdown":"yeah i tried , but still no luck , with same POM and runner file and did changes as you mentioned ,still no folder is generated in target folder @Motivated Mind","body":"yeah i tried , but still no luck , with same POM and runner file and did changes as you mentioned ,still no folder is generated in target folder @Motivated Mind"},{"owner":{"account_id":6390312,"reputation":108,"user_id":4956722,"display_name":"Motivated Mind"},"score":0,"creation_date":1597648588,"post_id":63435073,"comment_id":112190467,"body_markdown":"I use it this way and works perfectly for me\n```\n&lt;execution&gt;\n\t&lt;id&gt;report&lt;/id&gt;\n\t&lt;phase&gt;integration-test&lt;/phase&gt;\n\t&lt;goals&gt;\n\t  &lt;goal&gt;generate&lt;/goal&gt;\n\t&lt;/goals&gt;\n\t&lt;configuration&gt;\n\t  &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\n\t  &lt;jsonFiles&gt;\n\t\t&lt;jsonFile&gt;**/cucumber/*.json&lt;/jsonFile&gt;\n\t  &lt;/jsonFiles&gt;\n\t  &lt;mergeFeaturesWithRetest&gt;true&lt;/mergeFeaturesWithRetest&gt;\n\t  &lt;mergeFeaturesById&gt;true&lt;/mergeFeaturesById&gt;\n\t  &lt;checkBuildResult&gt;false&lt;/checkBuildResult&gt;\n\t  &lt;skipEmptyJSONFiles&gt;true&lt;/skipEmptyJSONFiles&gt;\n\t&lt;/configuration&gt;\n  &lt;/execution&gt;\n```\nYou see any error / message?","body":"I use it this way and works perfectly for me ``` &lt;execution&gt; \t&lt;id&gt;report&lt;/id&gt; \t&lt;phase&gt;integration-test&lt;/phase&gt; \t&lt;goals&gt; \t  &lt;goal&gt;generate&lt;/goal&gt; \t&lt;/goals&gt; \t&lt;configuration&gt; \t  &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&zwnj;&#8203;&gt; \t  &lt;jsonFiles&gt; \t\t&lt;jsonFile&gt;**/cucumber/*.json&lt;/jsonFile&gt; \t  &lt;/jsonFiles&gt; \t  &lt;mergeFeaturesWithRetest&gt;true&lt;/mergeFeaturesWithRetest&gt; \t  &lt;mergeFeaturesById&gt;true&lt;/mergeFeaturesById&gt; \t  &lt;checkBuildResult&gt;false&lt;/checkBuildResult&gt; \t  &lt;skipEmptyJSONFiles&gt;true&lt;/skipEmptyJSONFiles&gt; \t&lt;/configuration&gt;   &lt;/execution&gt; ``` You see any error / message?"},{"owner":{"account_id":9068999,"reputation":41,"user_id":6752905,"display_name":"zulfikar ayub"},"score":0,"creation_date":1597675856,"post_id":63435073,"comment_id":112203917,"body_markdown":"Below the updated POM as you mentioned but no report has been generated in target folder ```&lt;executions&gt;&lt;execution&gt;&lt;id&gt;report&lt;/id&gt;&lt;phase&gt;integration-test&lt;/phase&gt;&lt;goals&gt;&lt;goal&gt;generate&lt;/goal&gt;&lt;/goals&gt;&lt;configuration&gt;&lt;outputDirectory&gt;${project.build.directory}/newReports/&lt;/outputDirectory&gt;\n&lt;jsonFiles&gt;&lt;jsonFile&gt;**/cucumber/*.json&lt;/jsonFile&gt;&lt;/jsonFiles&gt;\n&lt;mergeFeaturesWithRetest&gt;true&lt;/mergeFeaturesWithRetest&gt;\n&lt;mergeFeaturesById&gt;true&lt;/mergeFeaturesById&gt;&lt;checkBuildResult&gt;false&lt;/checkBuildResult&gt;&lt;skipEmptyJSONFiles&gt;true&lt;/skipEmptyJSONFiles&gt;&lt;/configuration&gt;&lt;/execution&gt;&lt;/executions&gt;```","body":"Below the updated POM as you mentioned but no report has been generated in target folder <code>&lt;executions&gt;&lt;execution&gt;&lt;id&gt;report&lt;&#47;id&gt;&lt;phase&gt;integration-tes&zwnj;&#8203;t&lt;&#47;phase&gt;&lt;goals&gt;&lt;goa&zwnj;&#8203;l&gt;generate&lt;&#47;goal&gt;&lt;&#47;g&zwnj;&#8203;oals&gt;&lt;configuration&gt;&zwnj;&#8203;&lt;outputDirectory&gt;${p&zwnj;&#8203;roject.build.directo&zwnj;&#8203;ry}&#47;newReports&#47;&lt;&#47;out&zwnj;&#8203;putDirectory&gt; &lt;jsonFiles&gt;&lt;jsonFile&gt;**&#47;cucumber&#47;*.json&lt;&#47;jsonFile&gt;&lt;&#47;jsonFile&zwnj;&#8203;s&gt; &lt;mergeFeaturesWithRetest&gt;true&lt;&#47;mergeFeaturesWithRetest&gt; &lt;mergeFeaturesById&gt;true&lt;&#47;mergeFeaturesById&gt;&lt;checkBuildResult&zwnj;&#8203;&gt;false&lt;&#47;checkBuildRe&zwnj;&#8203;sult&gt;&lt;skipEmptyJSONF&zwnj;&#8203;iles&gt;true&lt;&#47;skipEmpty&zwnj;&#8203;JSONFiles&gt;&lt;&#47;configur&zwnj;&#8203;ation&gt;&lt;&#47;execution&gt;&lt;&#47;&zwnj;&#8203;executions&gt;</code>"},{"owner":{"account_id":9068999,"reputation":41,"user_id":6752905,"display_name":"zulfikar ayub"},"score":0,"creation_date":1597678634,"post_id":63435073,"comment_id":112205461,"body_markdown":"you check my repo fro more information and kindly let me know what changes i have to make it here\n\nhttps://github.com/zulfikarayub/CodeRio_Demo","body":"you check my repo fro more information and kindly let me know what changes i have to make it here  <a href=\"https://github.com/zulfikarayub/CodeRio_Demo\" rel=\"nofollow noreferrer\">github.com/zulfikarayub/CodeRio_Demo</a>"},{"owner":{"account_id":6390312,"reputation":108,"user_id":4956722,"display_name":"Motivated Mind"},"score":0,"creation_date":1597733499,"post_id":63435073,"comment_id":112222235,"body_markdown":"I have fixed the issue and raised PR. Have a look. The problem is that you had wrapped plugin under `&lt;pluginManagement&gt;&lt;/pluginManagement&gt;`. This is to good for a multimodule maven project unlike your case.","body":"I have fixed the issue and raised PR. Have a look. The problem is that you had wrapped plugin under <code>&lt;pluginManagement&gt;&lt;&#47;pluginManagement&gt;</code>. This is to good for a multimodule maven project unlike your case."},{"owner":{"account_id":9068999,"reputation":41,"user_id":6752905,"display_name":"zulfikar ayub"},"score":0,"creation_date":1597779688,"post_id":63435073,"comment_id":112244211,"body_markdown":"perfect thanks for the help , it working as expected , as of now i ma getting result through MVN clean verify , can i get same from test runner also is it possible","body":"perfect thanks for the help , it working as expected , as of now i ma getting result through MVN clean verify , can i get same from test runner also is it possible"}],"tags":[],"owner":{"account_id":6390312,"reputation":108,"user_id":4956722,"display_name":"Motivated Mind"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597733871,"creation_date":1597568968,"answer_id":63435073,"question_id":63406635,"body_markdown":"Change your build section in pom.xml to this\r\n\r\n```\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.18.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;report&lt;/id&gt;\r\n            &lt;phase&gt;integration-test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;${project.build.directory}/cucumber-reports&lt;/outputDirectory&gt;\r\n              &lt;jsonFiles&gt;\r\n                &lt;jsonFile&gt;**/*.json&lt;/jsonFile&gt;\r\n              &lt;/jsonFiles&gt;\r\n              &lt;mergeFeaturesWithRetest&gt;true&lt;/mergeFeaturesWithRetest&gt;\r\n              &lt;mergeFeaturesById&gt;true&lt;/mergeFeaturesById&gt;\r\n              &lt;checkBuildResult&gt;false&lt;/checkBuildResult&gt;\r\n              &lt;skipEmptyJSONFiles&gt;true&lt;/skipEmptyJSONFiles&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n```","title":"maven-cucumber-reporting plugin is not generating the report - in latest 5.3.0 version","body":"<p>Change your build section in pom.xml to this</p>\n<pre><code>  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.18.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\n        &lt;version&gt;5.3.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;report&lt;/id&gt;\n            &lt;phase&gt;integration-test&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;${project.build.directory}/cucumber-reports&lt;/outputDirectory&gt;\n              &lt;jsonFiles&gt;\n                &lt;jsonFile&gt;**/*.json&lt;/jsonFile&gt;\n              &lt;/jsonFiles&gt;\n              &lt;mergeFeaturesWithRetest&gt;true&lt;/mergeFeaturesWithRetest&gt;\n              &lt;mergeFeaturesById&gt;true&lt;/mergeFeaturesById&gt;\n              &lt;checkBuildResult&gt;false&lt;/checkBuildResult&gt;\n              &lt;skipEmptyJSONFiles&gt;true&lt;/skipEmptyJSONFiles&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n</code></pre>\n"}],"owner":{"account_id":9068999,"reputation":41,"user_id":6752905,"display_name":"zulfikar ayub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8315,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670344222,"creation_date":1597379998,"question_id":63406635,"body_markdown":"After copy pasting the code from github for maven cucumber reporting, the report is not generated in the target folder. I&#39;m not sure what went missing. I tried with running with Runner class and MVN console both result did not generate the report in the target folder\r\n\r\n\r\nPOM file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;MavenWeb&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Coderio_Demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n\t&lt;name&gt;Coderio_Demo&lt;/name&gt;\r\n\t&lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n\t&lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.13&lt;/version&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.141.59&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.4.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.4.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-picocontainer --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.4.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;de.monochromata.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reporting-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.56&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.4.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven \r\n\t\t\t\tdefaults (may be moved to parent pom) --&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;2.18.1&lt;/version&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;5.3.0&lt;/version&gt;\r\n\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;id&gt;execution&lt;/id&gt;\r\n\t\t\t\t\t\t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t&lt;projectName&gt;cucumber-jvm-example&lt;/projectName&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- optional, per documentation set this to &quot;true&quot; to bypass generation \r\n\t\t\t\t\t\t\t\t\tof Cucumber Reports entirely, defaults to false if not specified --&gt;\r\n\t\t\t\t\t\t\t\t&lt;skip&gt;false&lt;/skip&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- output directory for the generated report --&gt;\r\n\t\t\t\t\t\t\t\t&lt;outputDirectory&gt;target/customizereports/&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- optional, defaults to outputDirectory if not specified --&gt;\r\n\t\t\t\t\t\t\t\t&lt;inputDirectory&gt;target/cucumber-reports/cucumber.json&lt;/inputDirectory&gt;\r\n\t\t\t\t\t\t\t\t&lt;jsonFiles&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;!-- supports wildcard or name pattern --&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;param&gt;**/*.json&lt;/param&gt;\r\n\t\t\t\t\t\t\t\t&lt;/jsonFiles&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- optional, defaults to outputDirectory if not specified --&gt;\r\n\t\t\t\t\t\t\t\t&lt;classificationDirectory&gt;${project.build.directory}/classifications&lt;/classificationDirectory&gt;\r\n\t\t\t\t\t\t\t\t&lt;classificationFiles&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;!-- supports wildcard or name pattern --&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;param&gt;sample.properties&lt;/param&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;param&gt;other.properties&lt;/param&gt;\r\n\t\t\t\t\t\t\t\t&lt;/classificationFiles&gt;\r\n\t\t\t\t\t\t\t\t&lt;parallelTesting&gt;false&lt;/parallelTesting&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- optional, set true to group features by its Ids --&gt;\r\n\t\t\t\t\t\t\t\t&lt;mergeFeaturesById&gt;false&lt;/mergeFeaturesById&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- optional, set true to get a final report with latest results \r\n\t\t\t\t\t\t\t\t\tof the same test from different test runs --&gt;\r\n\t\t\t\t\t\t\t\t&lt;mergeFeaturesWithRetest&gt;false&lt;/mergeFeaturesWithRetest&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- optional, set true to fail build on test failures --&gt;\r\n\t\t\t\t\t\t\t\t&lt;checkBuildResult&gt;true&lt;/checkBuildResult&gt;\r\n\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\r\n\r\n\t\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nand this my runnerfile \r\n\r\n```\r\npackage testRunner;\r\n\r\nimport org.junit.runner.RunWith;\r\n\r\n//import cucumber.api.CucumberOptions;\r\nimport io.cucumber.junit.Cucumber;\r\nimport io.cucumber.junit.CucumberOptions;\r\n//import cucumber.api.junit.Cucumber;\r\n\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(features = &quot;src/test/java/Features/&quot;, plugin = { &quot;json:target/cucumber-reports/cucumber.json&quot;,\r\n\t\t&quot;pretty&quot;, &quot;html:target/html-report/cucumber-html-reports.html&quot;,\r\n\t\t&quot;junit:target/cucumber-reports/cucumber.xml&quot; }, glue = {\r\n\t\t\t\t&quot;StepDefination&quot; }, tags = &quot;@LogOut1wwww1&quot;, monochrome = true)\r\npublic class TestRunner {\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nI ran through `mvn clean verify`\r\n\r\ntest case got executed, but reports were not generated\r\n\r\n\r\n\r\n\r\n\r\n","title":"maven-cucumber-reporting plugin is not generating the report - in latest 5.3.0 version","body":"<p>After copy pasting the code from github for maven cucumber reporting, the report is not generated in the target folder. I'm not sure what went missing. I tried with running with Runner class and MVN console both result did not generate the report in the target folder</p>\n<p>POM file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;MavenWeb&lt;/groupId&gt;\n    &lt;artifactId&gt;Coderio_Demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;Coderio_Demo&lt;/name&gt;\n    &lt;!-- FIXME change it to the project's website --&gt;\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13&lt;/version&gt;\n\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;3.141.59&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;6.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;6.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-picocontainer --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-picocontainer&lt;/artifactId&gt;\n            &lt;version&gt;6.4.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.monochromata.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;reporting-plugin&lt;/artifactId&gt;\n            &lt;version&gt;4.0.56&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.cucumber/cucumber-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n            &lt;version&gt;6.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven \n                defaults (may be moved to parent pom) --&gt;\n            &lt;plugins&gt;\n                &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.18.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n\n                &lt;plugin&gt;\n                    &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\n                    &lt;version&gt;5.3.0&lt;/version&gt;\n\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;execution&lt;/id&gt;\n                            &lt;phase&gt;verify&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;generate&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;projectName&gt;cucumber-jvm-example&lt;/projectName&gt;\n                                &lt;!-- optional, per documentation set this to &quot;true&quot; to bypass generation \n                                    of Cucumber Reports entirely, defaults to false if not specified --&gt;\n                                &lt;skip&gt;false&lt;/skip&gt;\n                                &lt;!-- output directory for the generated report --&gt;\n                                &lt;outputDirectory&gt;target/customizereports/&lt;/outputDirectory&gt;\n                                &lt;!-- optional, defaults to outputDirectory if not specified --&gt;\n                                &lt;inputDirectory&gt;target/cucumber-reports/cucumber.json&lt;/inputDirectory&gt;\n                                &lt;jsonFiles&gt;\n                                    &lt;!-- supports wildcard or name pattern --&gt;\n                                    &lt;param&gt;**/*.json&lt;/param&gt;\n                                &lt;/jsonFiles&gt;\n                                &lt;!-- optional, defaults to outputDirectory if not specified --&gt;\n                                &lt;classificationDirectory&gt;${project.build.directory}/classifications&lt;/classificationDirectory&gt;\n                                &lt;classificationFiles&gt;\n                                    &lt;!-- supports wildcard or name pattern --&gt;\n                                    &lt;param&gt;sample.properties&lt;/param&gt;\n                                    &lt;param&gt;other.properties&lt;/param&gt;\n                                &lt;/classificationFiles&gt;\n                                &lt;parallelTesting&gt;false&lt;/parallelTesting&gt;\n                                &lt;!-- optional, set true to group features by its Ids --&gt;\n                                &lt;mergeFeaturesById&gt;false&lt;/mergeFeaturesById&gt;\n                                &lt;!-- optional, set true to get a final report with latest results \n                                    of the same test from different test runs --&gt;\n                                &lt;mergeFeaturesWithRetest&gt;false&lt;/mergeFeaturesWithRetest&gt;\n                                &lt;!-- optional, set true to fail build on test failures --&gt;\n                                &lt;checkBuildResult&gt;true&lt;/checkBuildResult&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n\n\n                &lt;/plugin&gt;\n\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>and this my runnerfile</p>\n<pre><code>package testRunner;\n\nimport org.junit.runner.RunWith;\n\n//import cucumber.api.CucumberOptions;\nimport io.cucumber.junit.Cucumber;\nimport io.cucumber.junit.CucumberOptions;\n//import cucumber.api.junit.Cucumber;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(features = &quot;src/test/java/Features/&quot;, plugin = { &quot;json:target/cucumber-reports/cucumber.json&quot;,\n        &quot;pretty&quot;, &quot;html:target/html-report/cucumber-html-reports.html&quot;,\n        &quot;junit:target/cucumber-reports/cucumber.xml&quot; }, glue = {\n                &quot;StepDefination&quot; }, tags = &quot;@LogOut1wwww1&quot;, monochrome = true)\npublic class TestRunner {\n\n\n}\n\n</code></pre>\n<p>I ran through <code>mvn clean verify</code></p>\n<p>test case got executed, but reports were not generated</p>\n"},{"tags":["java","spring-boot","junit5"],"comments":[{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":2,"creation_date":1670342116,"post_id":74705280,"comment_id":131851730,"body_markdown":"Your database for test, have a look at the end of the log.","body":"Your database for test, have a look at the end of the log."},{"owner":{"account_id":3303451,"reputation":515,"user_id":2778987,"accept_rate":25,"display_name":"user7"},"score":0,"creation_date":1680064821,"post_id":74705280,"comment_id":133831592,"body_markdown":"@Bernardo Alves Hi, I am facing a similar one ? Can you please share what worked for you ?","body":"@Bernardo Alves Hi, I am facing a similar one ? Can you please share what worked for you ?"}],"answers":[{"tags":[],"owner":{"account_id":10422284,"reputation":1207,"user_id":7684613,"display_name":"Carlos Nantes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670342262,"creation_date":1670342262,"answer_id":74705486,"question_id":74705280,"body_markdown":"Duplicate: https://stackoverflow.com/questions/28042426/spring-boot-error-creating-bean-with-name-datasource-defined-in-class-path-r\r\n\r\nSpring boot is trying to load an inject dependencies in this spring class when you run your tests: \r\n\r\norg/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class\r\n\r\nEither you provide all necessary configuration for this class in application-test.properties (or application-test.yml, if it&#39;s your case) or you disable this class from loading like mentioned in the link above.\r\n\r\n","title":"Spring Boot Test &quot;Failed to load ApplicationContext&quot;","body":"<p>Duplicate: <a href=\"https://stackoverflow.com/questions/28042426/spring-boot-error-creating-bean-with-name-datasource-defined-in-class-path-r\">Spring Boot - Error creating bean with name &#39;dataSource&#39; defined in class path resource</a></p>\n<p>Spring boot is trying to load an inject dependencies in this spring class when you run your tests:</p>\n<p>org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class</p>\n<p>Either you provide all necessary configuration for this class in application-test.properties (or application-test.yml, if it's your case) or you disable this class from loading like mentioned in the link above.</p>\n"},{"tags":[],"owner":{"account_id":27166642,"reputation":34,"user_id":20704061,"display_name":"Mavlyan Sadirov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670344153,"creation_date":1670344153,"answer_id":74705951,"question_id":74705280,"body_markdown":"You shouldn&#39;t to use request body annotation in service, we use it in controller.","title":"Spring Boot Test &quot;Failed to load ApplicationContext&quot;","body":"<p>You shouldn't to use request body annotation in service, we use it in controller.</p>\n"}],"owner":{"account_id":15650594,"reputation":43,"user_id":11292065,"display_name":"Bernardo Alves"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3992,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74705951,"answer_count":2,"score":2,"last_activity_date":1670344153,"creation_date":1670341346,"question_id":74705280,"body_markdown":"I am getting an error while testing my rest application but can&#39;t understand why.My error output:\r\n\r\n&gt; ava.lang.IllegalStateException: Failed to load ApplicationContext  at\r\n&gt; org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)\r\n&gt; at\r\n&gt; org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n&gt; at\r\n&gt; org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)\r\n&gt; at\r\n&gt; org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\r\n&gt; at\r\n&gt; org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)\r\n&gt; at\r\n&gt; org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\r\n&gt; at\r\n&gt; org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n&gt; at\r\n&gt; java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n&gt; at\r\n&gt; java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n&gt; at\r\n&gt; java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n&gt; at\r\n&gt; java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n&gt; at\r\n&gt; java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n&gt; at\r\n&gt; java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n&gt; at\r\n&gt; java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n&gt; at\r\n&gt; java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n&gt; at\r\n&gt; java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n&gt; at java.base/java.util.Optional.orElseGet(Optional.java:364)  at\r\n&gt; java.base/java.util.ArrayList.forEach(ArrayList.java:1511)  at\r\n&gt; java.base/java.util.ArrayList.forEach(ArrayList.java:1511) Caused by:\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39;\r\n&gt; defined in class path resource\r\n&gt; [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]:\r\n&gt; Unsatisfied dependency expressed through method\r\n&gt; &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;dataSource&#39;: Invocation of init method\r\n&gt; failed; nested exception is java.lang.IllegalStateException: Failed to\r\n&gt; replace DataSource with an embedded database for tests. If you want an\r\n&gt; embedded database please put a supported one on the classpath or tune\r\n&gt; the replace attribute of @AutoConfigureTestDatabase.\r\n\r\n\r\nWhile I try to do this test:\r\n\r\n    @DataJpaTest\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class SaveServiceTest {\r\n\r\n    @Autowired\r\n    private MedsRepo medsRepo;\r\n\r\n    @Test\r\n    void testSaveMeds() {\r\n        Meds meds = new Meds(50, &quot;test med&quot;, &quot;5,00$&quot;, &quot;Flu&quot;, 500, &quot;test date&quot;);\r\n        Meds savedMed = medsRepo.save(meds);\r\n        assertThat(savedMed).usingRecursiveComparison().ignoringFields(&quot;id&quot;).isEqualTo(&quot;meds&quot;);\r\n\r\n    }\r\n    }\r\n\r\nMy saveMeds() :\r\n\r\n    @Service\r\n    public class SaveService {\r\n\r\n    @Autowired\r\n    private MedsRepo medsRepo;\r\n\r\n    public String saveMeds(@RequestBody Meds meds) {\r\n\r\n        medsRepo.save(meds);\r\n\r\n        return &quot;Saved Successfully&quot;;\r\n\r\n     }\r\n     }\r\n\r\nMy repository:\r\n\r\n     public interface MedsRepo extends JpaRepository&lt;Meds,Long&gt; {\r\n    \r\n     }\r\n\r\nand Meds :\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    public class Meds {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY )\r\n    private long id;//no need for long instead of int\r\n\r\n    @Column\r\n    private String name;\r\n\r\n    @Column\r\n    private String price; //ask if not used in operations\r\n\r\n    @Column\r\n    private String category;\r\n\r\n    @Column\r\n    private int pillNumber; \r\n    \r\n    @Column\r\n    private String date;\r\n\r\n    }&#180;&#180;&#180;\r\n\r\nThe error stops the test in the line:\r\n\r\n  ```  void testSaveMeds() {&#180;&#180;&#180;\r\n\r\n \r\nI do not understand the problem. I call the SaveService in a controller:\r\n\r\n   ``` @RestController\r\n    public class Controller {\r\n\r\n    @Autowired\r\n    private MedsRepo medsRepo;\r\n\r\n    @Autowired\r\n    private SaveService saveService;\r\n\r\n    @Autowired\r\n    private UpdateService updateService;\r\n\r\n    @Autowired \r\n    DeleteService deleteService;\r\n        \r\n\r\n    @GetMapping(&quot;/medicines&quot;)\r\n    public List&lt;Meds&gt; getMedicine(){\r\n\r\n        return medsRepo.findAll();\r\n\r\n    }\r\n\r\n    @PostMapping(value = &quot;/save&quot;)\r\n    public String saveMeds(@RequestBody Meds meds){\r\n\r\n        return saveService.saveMeds(meds);\r\n    }\r\n\r\n    @PutMapping(value = &quot;/update/{id}&quot;)\r\n    public String updateMeds(@PathVariable long id, @RequestBody Meds meds){\r\n        \r\n\r\n        return updateService.updateMeds(id, meds);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/delete/{id}&quot;)\r\n    public String deleteMeds(@PathVariable long id){\r\n        \r\n        return deleteService.deleteMeds(id);\r\n    }\r\n    \r\n    }&#180;&#180;&#180;","title":"Spring Boot Test &quot;Failed to load ApplicationContext&quot;","body":"<p>I am getting an error while testing my rest application but can't understand why.My error output:</p>\n<blockquote>\n<p>ava.lang.IllegalStateException: Failed to load ApplicationContext  at\norg.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)\nat\norg.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\nat\norg.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)\nat\norg.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\nat\norg.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)\nat\norg.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\nat\norg.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\nat\njava.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\nat\njava.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\nat\njava.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\nat\njava.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\nat\njava.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\nat\njava.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\nat\njava.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\nat\njava.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\nat\njava.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\nat java.base/java.util.Optional.orElseGet(Optional.java:364)  at\njava.base/java.util.ArrayList.forEach(ArrayList.java:1511)  at\njava.base/java.util.ArrayList.forEach(ArrayList.java:1511) Caused by:\norg.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'dataSourceScriptDatabaseInitializer'\ndefined in class path resource\n[org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]:\nUnsatisfied dependency expressed through method\n'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is\norg.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'dataSource': Invocation of init method\nfailed; nested exception is java.lang.IllegalStateException: Failed to\nreplace DataSource with an embedded database for tests. If you want an\nembedded database please put a supported one on the classpath or tune\nthe replace attribute of @AutoConfigureTestDatabase.</p>\n</blockquote>\n<p>While I try to do this test:</p>\n<pre><code>@DataJpaTest\n@ActiveProfiles(&quot;test&quot;)\npublic class SaveServiceTest {\n\n@Autowired\nprivate MedsRepo medsRepo;\n\n@Test\nvoid testSaveMeds() {\n    Meds meds = new Meds(50, &quot;test med&quot;, &quot;5,00$&quot;, &quot;Flu&quot;, 500, &quot;test date&quot;);\n    Meds savedMed = medsRepo.save(meds);\n    assertThat(savedMed).usingRecursiveComparison().ignoringFields(&quot;id&quot;).isEqualTo(&quot;meds&quot;);\n\n}\n}\n</code></pre>\n<p>My saveMeds() :</p>\n<pre><code>@Service\npublic class SaveService {\n\n@Autowired\nprivate MedsRepo medsRepo;\n\npublic String saveMeds(@RequestBody Meds meds) {\n\n    medsRepo.save(meds);\n\n    return &quot;Saved Successfully&quot;;\n\n }\n }\n</code></pre>\n<p>My repository:</p>\n<pre><code> public interface MedsRepo extends JpaRepository&lt;Meds,Long&gt; {\n\n }\n</code></pre>\n<p>and Meds :</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class Meds {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY )\nprivate long id;//no need for long instead of int\n\n@Column\nprivate String name;\n\n@Column\nprivate String price; //ask if not used in operations\n\n@Column\nprivate String category;\n\n@Column\nprivate int pillNumber; \n\n@Column\nprivate String date;\n\n}Â´Â´Â´\n</code></pre>\n<p>The error stops the test in the line:</p>\n<pre><code>\n\nI do not understand the problem. I call the SaveService in a controller:\n\n ``` @RestController\n  public class Controller {\n\n  @Autowired\n  private MedsRepo medsRepo;\n\n  @Autowired\n  private SaveService saveService;\n\n  @Autowired\n  private UpdateService updateService;\n\n  @Autowired \n  DeleteService deleteService;\n      \n\n  @GetMapping(&quot;/medicines&quot;)\n  public List&lt;Meds&gt; getMedicine(){\n\n      return medsRepo.findAll();\n\n  }\n\n  @PostMapping(value = &quot;/save&quot;)\n  public String saveMeds(@RequestBody Meds meds){\n\n      return saveService.saveMeds(meds);\n  }\n\n  @PutMapping(value = &quot;/update/{id}&quot;)\n  public String updateMeds(@PathVariable long id, @RequestBody Meds meds){\n      \n\n      return updateService.updateMeds(id, meds);\n  }\n\n  @DeleteMapping(&quot;/delete/{id}&quot;)\n  public String deleteMeds(@PathVariable long id){\n      \n      return deleteService.deleteMeds(id);\n  }\n  \n  }Â´Â´Â´\n</code></pre>\n"},{"tags":["java","sql","spring-data-jpa","spring-data","jpql"],"answers":[{"tags":[],"owner":{"account_id":10270278,"reputation":19,"user_id":7578885,"display_name":"Skywalker"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632908760,"creation_date":1632908760,"answer_id":69374002,"question_id":69373529,"body_markdown":"You can do that like this:\r\n\r\n    @Modifying\r\n    @Query(&quot;update account m set m.amount =m.amount + ?2 where m.id=?1&quot;)\r\n    void updateAcco(Long id, Long someValue);\r\n\r\n","title":"Spring Data JPA &quot;ON DUPLICATE KEY UPDATE amount = account.amount + someValue&quot;","body":"<p>You can do that like this:</p>\n<pre><code>@Modifying\n@Query(&quot;update account m set m.amount =m.amount + ?2 where m.id=?1&quot;)\nvoid updateAcco(Long id, Long someValue);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670344153,"creation_date":1632909049,"answer_id":69374071,"question_id":69373529,"body_markdown":"Definitely not sure that will work but you can try two things : \r\n\r\n    @Repository\r\n    public interface AccountRepo extends JpaRepository&lt;Account, Long&gt; {\r\n      // First try\r\n      @Query(native = &quot;INSERT INTO account (id, amount) VALUES (:id, :someValue) ON DUPLICATE KEY UPDATE amount = account.amount + :someValue&quot;)\r\n      Long addAmount(@Param(&quot;id&quot;) Long id, @Param(&quot;someValue&quot;) Long amount);\r\n    \r\n      // Second try\r\n      default Account addAmount(Long id, Long amount) {\r\n        findById(id).map(a -&gt; {a.amount += amount; return a;}).ifPresentOrElse(a -&gt; save(a), () -&gt; {return save(new Account(amount));})\r\n      }\r\n    \r\n    }","title":"Spring Data JPA &quot;ON DUPLICATE KEY UPDATE amount = account.amount + someValue&quot;","body":"<p>Definitely not sure that will work but you can try two things :</p>\n<pre><code>@Repository\npublic interface AccountRepo extends JpaRepository&lt;Account, Long&gt; {\n  // First try\n  @Query(native = &quot;INSERT INTO account (id, amount) VALUES (:id, :someValue) ON DUPLICATE KEY UPDATE amount = account.amount + :someValue&quot;)\n  Long addAmount(@Param(&quot;id&quot;) Long id, @Param(&quot;someValue&quot;) Long amount);\n\n  // Second try\n  default Account addAmount(Long id, Long amount) {\n    findById(id).map(a -&gt; {a.amount += amount; return a;}).ifPresentOrElse(a -&gt; save(a), () -&gt; {return save(new Account(amount));})\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":22387209,"reputation":177,"user_id":16599849,"display_name":"Alfred Moon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5228,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1670344153,"creation_date":1632906716,"question_id":69373529,"body_markdown":"Let&#39;s say I have next entity\r\n\r\n    @Entity\r\n    @Table(name = &quot;account&quot;)\r\n    public class Account {\r\n\r\n    @Id\r\n    private long id;\r\n\r\n    private long amount;\r\n\r\n    }\r\nI want to add some value to existing one and update it in DB \r\nor if this account is not existing yet I want to create new one.\r\n\r\nBasic approach with Spring Data JPA is:\r\n\r\n     var account = dataJpaRepository.findById(id);\r\n     if (account==null) {account = new Account(id,someValue}\r\n     else {account.set(account.getAmount() + someValue);}\r\n     dataJpaRepository.save(account);\r\n\r\nIn this case two request to DB are done, but with native query I can do it just by sending one request like: \r\n\r\n    &quot;INSERT INTO account (id, amount) VALUES (:id, someValue) ON DUPLICATE KEY UPDATE \r\n    amount = account.amount + someValue&quot;\r\n\r\nIs that possible to do the same thing by the means of Spring Data JPA/JPQL and reduce amount of requests ?","title":"Spring Data JPA &quot;ON DUPLICATE KEY UPDATE amount = account.amount + someValue&quot;","body":"<p>Let's say I have next entity</p>\n<pre><code>@Entity\n@Table(name = &quot;account&quot;)\npublic class Account {\n\n@Id\nprivate long id;\n\nprivate long amount;\n\n}\n</code></pre>\n<p>I want to add some value to existing one and update it in DB\nor if this account is not existing yet I want to create new one.</p>\n<p>Basic approach with Spring Data JPA is:</p>\n<pre><code> var account = dataJpaRepository.findById(id);\n if (account==null) {account = new Account(id,someValue}\n else {account.set(account.getAmount() + someValue);}\n dataJpaRepository.save(account);\n</code></pre>\n<p>In this case two request to DB are done, but with native query I can do it just by sending one request like:</p>\n<pre><code>&quot;INSERT INTO account (id, amount) VALUES (:id, someValue) ON DUPLICATE KEY UPDATE \namount = account.amount + someValue&quot;\n</code></pre>\n<p>Is that possible to do the same thing by the means of Spring Data JPA/JPQL and reduce amount of requests ?</p>\n"},{"tags":["java","selenium","xpath","automation","selenium-chromedriver"],"answers":[{"comments":[{"owner":{"account_id":3177881,"reputation":1649,"user_id":2685304,"accept_rate":68,"display_name":"Nomesh DeSilva"},"score":0,"creation_date":1666855082,"post_id":74218007,"comment_id":131034974,"body_markdown":"Thanks @Prophet I was using Safari when publishing the question, when i checked in Chrome, labels shown are totally different of how they shows in Safari developer tools. not sure the reason though.","body":"Thanks @Prophet I was using Safari when publishing the question, when i checked in Chrome, labels shown are totally different of how they shows in Safari developer tools. not sure the reason though."},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":1,"creation_date":1666855256,"post_id":74218007,"comment_id":131035033,"body_markdown":"Maybe. That&#39;s why we always should use fixed attributes. Placeholder may change while `name` attribute should be more fixed and stable","body":"Maybe. That&#39;s why we always should use fixed attributes. Placeholder may change while <code>name</code> attribute should be more fixed and stable"},{"owner":{"account_id":3177881,"reputation":1649,"user_id":2685304,"accept_rate":68,"display_name":"Nomesh DeSilva"},"score":0,"creation_date":1666855516,"post_id":74218007,"comment_id":131035117,"body_markdown":"thanks @Prophet, I used your suggestion but I still get the below error even after a rebuilt:\n\n*** Element info: {Using=xpath, value=//input[@name=&#39;username&#39;]}","body":"thanks @Prophet, I used your suggestion but I still get the below error even after a rebuilt:  *** Element info: {Using=xpath, value=//input[@name=&#39;username&#39;]}"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1666855754,"post_id":74218007,"comment_id":131035225,"body_markdown":"Still NoSuchElementException?","body":"Still NoSuchElementException?"},{"owner":{"account_id":3177881,"reputation":1649,"user_id":2685304,"accept_rate":68,"display_name":"Nomesh DeSilva"},"score":0,"creation_date":1666858000,"post_id":74218007,"comment_id":131035968,"body_markdown":"yes it is. Any issue with time wait with element loading and locating?","body":"yes it is. Any issue with time wait with element loading and locating?"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1666858350,"post_id":74218007,"comment_id":131036110,"body_markdown":"Well, you didn&#39;t share ALL your Selenium code, so we can only guess. Maybe you are opening a new tab there but didn&#39;t switch to it?","body":"Well, you didn&#39;t share ALL your Selenium code, so we can only guess. Maybe you are opening a new tab there but didn&#39;t switch to it?"},{"owner":{"account_id":3177881,"reputation":1649,"user_id":2685304,"accept_rate":68,"display_name":"Nomesh DeSilva"},"score":0,"creation_date":1666861597,"post_id":74218007,"comment_id":131037266,"body_markdown":"so far, that is the only code I have written.","body":"so far, that is the only code I have written."}],"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666854298,"creation_date":1666854298,"answer_id":74218007,"question_id":74217909,"body_markdown":"When I open the link you shared I see somewhat different UI, the placeholder is different there, however I think the following locators should work for both cases:\r\n```java\r\nprivate static final By USER_NAME_TEXT_BOX = By.xpath(&quot;//input[@name=&#39;username&#39;]&quot;);\r\nprivate static final By PASSWORD_TEXT_BOX = By.xpath(&quot;//input[@name=&#39;password&#39;]&quot;);\r\nprivate static final By LOGIN_BUTTON = By.xpath(&quot;//button&quot;);\r\n```","title":"Xpath does not capture the element even with the WebDriverWait","body":"<p>When I open the link you shared I see somewhat different UI, the placeholder is different there, however I think the following locators should work for both cases:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final By USER_NAME_TEXT_BOX = By.xpath(&quot;//input[@name='username']&quot;);\nprivate static final By PASSWORD_TEXT_BOX = By.xpath(&quot;//input[@name='password']&quot;);\nprivate static final By LOGIN_BUTTON = By.xpath(&quot;//button&quot;);\n</code></pre>\n"}],"owner":{"account_id":3177881,"reputation":1649,"user_id":2685304,"accept_rate":68,"display_name":"Nomesh DeSilva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670344113,"creation_date":1666853825,"question_id":74217909,"body_markdown":"I am new to Selenium Testing and trying to locate the below input element using Xpath:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis is the username input element of the *https://opensource-demo.orangehrmlive.com/web/index.php/auth/login* website.\r\n\r\nMy code is:\r\n\r\n    private static final By USER_NAME_TEXT_BOX = By.xpath(&quot;//input[@placeholder=&#39;auth.username&#39;]&quot;);\r\n    private static final By PASSWORD_TEXT_BOX = By.xpath(&quot;//input[@placeholder=&#39;auth.password&#39;]&quot;);\r\n    private static final By LOGIN_BUTTON = By.xpath(&quot;//button[starts-with(@button, &#39;orangehrm-login-button&#39;)]&quot;);\r\n    \r\n    private  LoginPage setUserNameTextBox(String userName) {\r\n        PageActionsHelper.waitAndSendKeys(USER_NAME_TEXT_BOX,userName);\r\n        return this;\r\n    }\r\n\r\n\r\nand the PageActionsHelper.waitAndSendKeys() is as follows:\r\n\r\n   \r\n\r\n     public static void waitAndSendKeys(By by, String value) {\r\n            WebDriverWait wait = new WebDriverWait(getDriver(), 60);\r\n            WebElement element = wait.until(ExpectedConditions.presenceOfElementLocated(by));\r\n    \r\n            //trigger the reaload of the page\r\n            getDriver().findElement(by).sendKeys(value);\r\n            // wait the element &quot;Add Item&quot; to become stale\r\n            wait.until(ExpectedConditions.stalenessOf(element));\r\n            // click on &quot;Add Item&quot; once the page is reloaded\r\n            wait.until(ExpectedConditions.presenceOfElementLocated(by)).sendKeys(value);\r\n            //getDriver().findElement(by).sendKeys(value);\r\n        }\r\n\r\nI also checked below:\r\n\r\n  \r\n\r\n 1. Cannot find any **iframe** wrapped this element.  \r\n 2. When I execute\r\n     `$x(&quot;//input[@name=&#39;username&#39;]&quot;)` or\r\n    `$x(&quot;//input[@placeholder=&#39;auth.username&#39;]&quot;)` in the web console, it\r\n    locates correctly!   \r\n 3. WebDriverWait does the waiting but empty\r\n    browser is loaded and just timeout with the below exception:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cZ70E.png\r\n  [2]: https://i.stack.imgur.com/nNU8F.png\r\n\r\n\r\nI was using Safari browser and the screenshot was taken from it.\r\nWhen I use Chrome developer option, labels are totally different. (Bit strange)","title":"Xpath does not capture the element even with the WebDriverWait","body":"<p>I am new to Selenium Testing and trying to locate the below input element using Xpath:</p>\n<p><a href=\"https://i.stack.imgur.com/cZ70E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cZ70E.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the username input element of the <em><a href=\"https://opensource-demo.orangehrmlive.com/web/index.php/auth/login\" rel=\"nofollow noreferrer\">https://opensource-demo.orangehrmlive.com/web/index.php/auth/login</a></em> website.</p>\n<p>My code is:</p>\n<pre><code>private static final By USER_NAME_TEXT_BOX = By.xpath(&quot;//input[@placeholder='auth.username']&quot;);\nprivate static final By PASSWORD_TEXT_BOX = By.xpath(&quot;//input[@placeholder='auth.password']&quot;);\nprivate static final By LOGIN_BUTTON = By.xpath(&quot;//button[starts-with(@button, 'orangehrm-login-button')]&quot;);\n\nprivate  LoginPage setUserNameTextBox(String userName) {\n    PageActionsHelper.waitAndSendKeys(USER_NAME_TEXT_BOX,userName);\n    return this;\n}\n</code></pre>\n<p>and the PageActionsHelper.waitAndSendKeys() is as follows:</p>\n<pre><code> public static void waitAndSendKeys(By by, String value) {\n        WebDriverWait wait = new WebDriverWait(getDriver(), 60);\n        WebElement element = wait.until(ExpectedConditions.presenceOfElementLocated(by));\n\n        //trigger the reaload of the page\n        getDriver().findElement(by).sendKeys(value);\n        // wait the element &quot;Add Item&quot; to become stale\n        wait.until(ExpectedConditions.stalenessOf(element));\n        // click on &quot;Add Item&quot; once the page is reloaded\n        wait.until(ExpectedConditions.presenceOfElementLocated(by)).sendKeys(value);\n        //getDriver().findElement(by).sendKeys(value);\n    }\n</code></pre>\n<p>I also checked below:</p>\n<ol>\n<li>Cannot find any <strong>iframe</strong> wrapped this element.</li>\n<li>When I execute\n<code>$x(&quot;//input[@name='username']&quot;)</code> or\n<code>$x(&quot;//input[@placeholder='auth.username']&quot;)</code> in the web console, it\nlocates correctly!</li>\n<li>WebDriverWait does the waiting but empty\nbrowser is loaded and just timeout with the below exception:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/nNU8F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nNU8F.png\" alt=\"enter image description here\" /></a></p>\n<p>I was using Safari browser and the screenshot was taken from it.\nWhen I use Chrome developer option, labels are totally different. (Bit strange)</p>\n"},{"tags":["java","selenium","xpath","webdriver","webdriverwait"],"comments":[{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1670390640,"post_id":74705473,"comment_id":131863240,"body_markdown":"Can you at least post that specific page&#39;s full HTML source?","body":"Can you at least post that specific page&#39;s full HTML source?"}],"answers":[{"comments":[{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1670343754,"post_id":74705774,"comment_id":131852350,"body_markdown":"Hey pal, thanks for replying!.\nI&#39;m getting this error: &quot;Exception in thread &quot;main&quot; org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;button class=&quot;action-default&quot; data-action=&quot;grid-filter-expand&quot; data-bind=&quot;css: {_active: hasVisible() &amp;amp;&amp;amp; $collapsible.opened()}, disable: !hasVisible(), i18n: &#39;...&#39;, toggleCollapsible&quot;&gt;Filters&lt;/button&gt; is not clickable at point (522, 265). Other element would receive the click: &lt;div data-role=&quot;spinner&quot; data-component=&quot;company_listing.company_listing.company_columns&quot; class=&quot;admin__data-grid-loading-mask&quot;&gt;...&lt;/div&gt;&quot;","body":"Hey pal, thanks for replying!. I&#39;m getting this error: &quot;Exception in thread &quot;main&quot; org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;button class=&quot;action-default&quot; data-action=&quot;grid-filter-expand&quot; data-bind=&quot;css: {_active: hasVisible() &amp;amp;&amp;amp; $collapsible.opened()}, disable: !hasVisible(), i18n: &#39;...&#39;, toggleCollapsible&quot;&gt;Filters&lt;/button&gt; is not clickable at point (522, 265). Other element would receive the click: &lt;div data-role=&quot;spinner&quot; data-component=&quot;company_listing.company_listing.company_colu&zwnj;&#8203;mns&quot; class=&quot;admin__data-grid-loading-mask&quot;&gt;...&lt;/div&gt;&quot;"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1670343783,"post_id":74705774,"comment_id":131852359,"body_markdown":"I tried both options, no one really worked :/","body":"I tried both options, no one really worked :/"},{"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"score":0,"creation_date":1670343990,"post_id":74705774,"comment_id":131852455,"body_markdown":"Is it possible to share the url? code should have worked.","body":"Is it possible to share the url? code should have worked."},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1670344489,"post_id":74705774,"comment_id":131852664,"body_markdown":"Pal, the problem is in here. (By.xpath(&quot;//button[text()=&#39;Filters&#39;]&quot;) \nIs there any other way to define the xpath?","body":"Pal, the problem is in here. (By.xpath(&quot;//button[text()=&#39;Filters&#39;]&quot;)  Is there any other way to define the xpath?"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1670344530,"post_id":74705774,"comment_id":131852674,"body_markdown":"Could you please list all the different way to invoke that button by it&#39;s xpath or a different way?","body":"Could you please list all the different way to invoke that button by it&#39;s xpath or a different way?"}],"tags":[],"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670343411,"creation_date":1670343411,"answer_id":74705774,"question_id":74705473,"body_markdown":"Try with following xpath options\r\n\r\n    WebDriverWait wait6 = new WebDriverWait(driver,Duration.ofSeconds(10)); \r\n    WebElement elementProd44 = wait6.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()=&#39;Filters&#39;]&quot;)));\r\n    elementProd44.click();\r\n\r\n\r\nIf you get the same issue, then use the JavascriptExecutor to click\r\n\r\n    WebElement button = driver.findElement(By.xpath(&quot;//button[text()=&#39;Filters&#39;]&quot;));\r\n    JavascriptExecutor executor = (JavascriptExecutor)driver;\r\n    executor.executeScript(&quot;arguments[0].click();&quot;, button);","title":"element click intercepted error in Selenium / Java - collapsible button","body":"<p>Try with following xpath options</p>\n<pre><code>WebDriverWait wait6 = new WebDriverWait(driver,Duration.ofSeconds(10)); \nWebElement elementProd44 = wait6.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()='Filters']&quot;)));\nelementProd44.click();\n</code></pre>\n<p>If you get the same issue, then use the JavascriptExecutor to click</p>\n<pre><code>WebElement button = driver.findElement(By.xpath(&quot;//button[text()='Filters']&quot;));\nJavascriptExecutor executor = (JavascriptExecutor)driver;\nexecutor.executeScript(&quot;arguments[0].click();&quot;, button);\n</code></pre>\n"}],"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1670343936,"creation_date":1670342221,"question_id":74705473,"body_markdown":"I got this error message while trying to click on a specific collapsible button. \r\n\r\n&gt; element click intercepted: Element &lt;button class=&quot;action-default&quot;\r\n&gt; data-action=&quot;grid-filter-expand&quot; data-bind=&quot;css: {_active:\r\n&gt; hasVisible() &amp;amp;&amp;amp; $collapsible.opened()}, disable:\r\n&gt; !hasVisible(), toggleCollapsible, i18n: &#39;...&#39;&quot;&gt;Filters&lt;/button&gt; is not\r\n&gt; clickable at point (522, 265). Other element would receive the click:\r\n&gt; &lt;div data-role=&quot;spinner&quot;\r\n&gt; data-component=&quot;company_listing.company_listing.company_columns&quot;\r\n&gt; class=&quot;admin__data-grid-loading-mask&quot;&gt;...&lt;/div&gt;\r\n\r\nThis button has this:\r\n\r\n    &lt;button class=&quot;action-default _active&quot; data-action=&quot;grid-filter-expand&quot; data-bind=&quot;css: {_active: hasVisible() &amp;amp;&amp;amp; $collapsible.opened()}, disable: !hasVisible(), toggleCollapsible, i18n: &#39;Filters&#39;&quot;&gt;Filters&lt;/button&gt;\r\n\r\nIt&#39;s XPATH:\r\n\r\n    //*[@id=&quot;container&quot;]/div/div[2]/div[1]/div[3]/div/button\r\n\r\n\r\nI did this:\r\n\r\n    WebDriverWait wait6 = new WebDriverWait(driver,Duration.ofSeconds(10)); \r\n    WebElement elementProd44 = wait6.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@id=\\&quot;container\\&quot;]/div/div[2]/div[1]/div[3]/div/button&quot;)));\r\n    elementProd44.click();\r\n\r\n\r\nWhat am i doing wrong?\r\n\r\nNote: i cannot share the URL because it is hidden.\r\n\r\n","title":"element click intercepted error in Selenium / Java - collapsible button","body":"<p>I got this error message while trying to click on a specific collapsible button.</p>\n<blockquote>\n<p>element click intercepted: Element Filters is not\nclickable at point (522, 265). Other element would receive the click:</p>\n...\n</blockquote>\n<p>This button has this:</p>\n<pre><code>&lt;button class=&quot;action-default _active&quot; data-action=&quot;grid-filter-expand&quot; data-bind=&quot;css: {_active: hasVisible() &amp;amp;&amp;amp; $collapsible.opened()}, disable: !hasVisible(), toggleCollapsible, i18n: 'Filters'&quot;&gt;Filters&lt;/button&gt;\n</code></pre>\n<p>It's XPATH:</p>\n<pre><code>//*[@id=&quot;container&quot;]/div/div[2]/div[1]/div[3]/div/button\n</code></pre>\n<p>I did this:</p>\n<pre><code>WebDriverWait wait6 = new WebDriverWait(driver,Duration.ofSeconds(10)); \nWebElement elementProd44 = wait6.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@id=\\&quot;container\\&quot;]/div/div[2]/div[1]/div[3]/div/button&quot;)));\nelementProd44.click();\n</code></pre>\n<p>What am i doing wrong?</p>\n<p>Note: i cannot share the URL because it is hidden.</p>\n"},{"tags":["java","json","jsonpath","wiremock"],"answers":[{"tags":[],"owner":{"account_id":16106441,"reputation":6176,"user_id":11625850,"display_name":"agoff"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1630522262,"creation_date":1630521705,"answer_id":69019087,"question_id":69018871,"body_markdown":"Your assumption is incorrect. You can use operators inside of the JSONPath filters. You might be running into issues because the value being checked on `amnt` is a string. The following should work.\r\n\r\n```\r\n...\r\n{\r\n  &quot;matchesJsonPath&quot;: &quot;$[?(@.amnt &lt; 20000)]&quot;\r\n}\r\n...\r\n```\r\n\r\nThis of course, requires that the value being passed in the body is a number type and not a string itself.\r\n```\r\n{ \r\n  &quot;amnt&quot;: 20000 // correct format\r\n  &quot;amnt&quot;: &quot;20000&quot; // incorrect format\r\n}\r\n```\r\n\r\nIf your `amnt` value is a string, you may have to [write a custom matcher](http://wiremock.org/docs/extending-wiremock/#custom-request-matchers) that can parse the body and convert the string value into a number (or the java data type equivalent)","title":"Matching JSON request body based on JSON Path with logical operators in WireMock","body":"<p>Your assumption is incorrect. You can use operators inside of the JSONPath filters. You might be running into issues because the value being checked on <code>amnt</code> is a string. The following should work.</p>\n<pre><code>...\n{\n  &quot;matchesJsonPath&quot;: &quot;$[?(@.amnt &lt; 20000)]&quot;\n}\n...\n</code></pre>\n<p>This of course, requires that the value being passed in the body is a number type and not a string itself.</p>\n<pre><code>{ \n  &quot;amnt&quot;: 20000 // correct format\n  &quot;amnt&quot;: &quot;20000&quot; // incorrect format\n}\n</code></pre>\n<p>If your <code>amnt</code> value is a string, you may have to <a href=\"http://wiremock.org/docs/extending-wiremock/#custom-request-matchers\" rel=\"nofollow noreferrer\">write a custom matcher</a> that can parse the body and convert the string value into a number (or the java data type equivalent)</p>\n"}],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2055,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69019087,"answer_count":1,"score":1,"last_activity_date":1670343905,"creation_date":1630520598,"question_id":69018871,"body_markdown":"In WireMock I am trying to match the request based on the JSON body with path matchers as shown below. But it seems that the logical operators are not supported inside `matchesJsonPath` expression. \r\n\r\nIs this understanding correct? What could be a possible alternative solution?\r\n```\r\n...\r\n&quot;request&quot;: {\r\n        &quot;url&quot;: &quot;/mock/score&quot;,\r\n        &quot;method&quot;: &quot;PUT&quot;,\r\n        &quot;bodyPatterns&quot;: [\r\n          {\r\n            &quot;matchesJsonPath&quot;: &quot;$[?(@.code == &#39;123&#39;)]&quot;\r\n          },\r\n          {\r\n            &quot;matchesJsonPath&quot;: &quot;$[?(@.amnt &lt; &#39;200000&#39;)]&quot;\r\n          }\r\n        ]\r\n      }\r\n...\r\n```","title":"Matching JSON request body based on JSON Path with logical operators in WireMock","body":"<p>In WireMock I am trying to match the request based on the JSON body with path matchers as shown below. But it seems that the logical operators are not supported inside <code>matchesJsonPath</code> expression.</p>\n<p>Is this understanding correct? What could be a possible alternative solution?</p>\n<pre><code>...\n&quot;request&quot;: {\n        &quot;url&quot;: &quot;/mock/score&quot;,\n        &quot;method&quot;: &quot;PUT&quot;,\n        &quot;bodyPatterns&quot;: [\n          {\n            &quot;matchesJsonPath&quot;: &quot;$[?(@.code == '123')]&quot;\n          },\n          {\n            &quot;matchesJsonPath&quot;: &quot;$[?(@.amnt &lt; '200000')]&quot;\n          }\n        ]\n      }\n...\n</code></pre>\n"},{"tags":["java","eclipse","jakarta-ee","glassfish","java-ee-6"],"answers":[{"comments":[{"owner":{"account_id":13606200,"reputation":637,"user_id":9815277,"display_name":"devio"},"score":0,"creation_date":1691917694,"post_id":74705683,"comment_id":135553549,"body_markdown":"thanks i installed  Eclipse GlassFish Tools","body":"thanks i installed  Eclipse GlassFish Tools"}],"tags":[],"owner":{"account_id":18532949,"reputation":215,"user_id":13503258,"display_name":"DONGMO BERNARD GERAUD"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670343006,"creation_date":1670343006,"answer_id":74705683,"question_id":74701857,"body_markdown":"After some research, I was able to install GlassFish Tools on eclipse.\r\n\r\nAlthough eclipse has archived the GlassFish Tools dependencies, Oracle has maintained them and offers documentation for installing them.\r\n\r\nSeveral links are proposed but, I will just show you the ones that worked for me.\r\n1. Follow this link for the documentation\r\nhttps://download.oracle.com/otn_software/oepe/12.2.1.8/oxygen/repository/\r\n2. Copy this link to download the dependencies\r\nhttp://download.oracle.com/otn_software/oepe/12.2.1.8/oxygen/repository/dependencies/\r\n\r\nFollowing the link of the documentation (1)\r\n1. Open Eclipse and select the Install New Software menu item under the Help menu.\r\n2. Copy and paste this URL (2) http://download.oracle.com/otn_software/oepe/12.2.1.8/oxygen/repository/dependencies/ into the Work with text box, then press ENTER.\r\n3. Once the repository is loaded, the available features should show up in the table.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5BCQ7.png\r\n\r\n4. Select **Eclipse GlassFish Tools**, click on next button and follow the wizard to install them.\r\n\r\nThe installation is a bit slow but it works.","title":"Error installing GlassFish Tools on eclipse","body":"<p>After some research, I was able to install GlassFish Tools on eclipse.</p>\n<p>Although eclipse has archived the GlassFish Tools dependencies, Oracle has maintained them and offers documentation for installing them.</p>\n<p>Several links are proposed but, I will just show you the ones that worked for me.</p>\n<ol>\n<li>Follow this link for the documentation\n<a href=\"https://download.oracle.com/otn_software/oepe/12.2.1.8/oxygen/repository/\" rel=\"nofollow noreferrer\">https://download.oracle.com/otn_software/oepe/12.2.1.8/oxygen/repository/</a></li>\n<li>Copy this link to download the dependencies\n<a href=\"http://download.oracle.com/otn_software/oepe/12.2.1.8/oxygen/repository/dependencies/\" rel=\"nofollow noreferrer\">http://download.oracle.com/otn_software/oepe/12.2.1.8/oxygen/repository/dependencies/</a></li>\n</ol>\n<p>Following the link of the documentation (1)</p>\n<ol>\n<li>Open Eclipse and select the Install New Software menu item under the Help menu.</li>\n<li>Copy and paste this URL (2) <a href=\"http://download.oracle.com/otn_software/oepe/12.2.1.8/oxygen/repository/dependencies/\" rel=\"nofollow noreferrer\">http://download.oracle.com/otn_software/oepe/12.2.1.8/oxygen/repository/dependencies/</a> into the Work with text box, then press ENTER.</li>\n<li>Once the repository is loaded, the available features should show up in the table.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/5BCQ7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5BCQ7.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"4\">\n<li>Select <strong>Eclipse GlassFish Tools</strong>, click on next button and follow the wizard to install them.</li>\n</ol>\n<p>The installation is a bit slow but it works.</p>\n"}],"owner":{"account_id":18532949,"reputation":215,"user_id":13503258,"display_name":"DONGMO BERNARD GERAUD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":981,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670343006,"creation_date":1670326675,"question_id":74701857,"body_markdown":"The eclipse foundation has archived the **GlassFish Tools 1.0.0 and 1.01**.\r\nIt is no longer possible to install GlassFish Tools either through *Eclipse MarketPlace* or through *Install new Software* on the eclipse help menu. Both attempts lead to the error ```No repository found at https://download.eclipse.org/glassfish-tools/1.0.0/repository/.```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gI92A.png\r\n  [2]: https://i.stack.imgur.com/WsW6U.png\r\n\r\nThank you for all your suggestions.","title":"Error installing GlassFish Tools on eclipse","body":"<p>The eclipse foundation has archived the <strong>GlassFish Tools 1.0.0 and 1.01</strong>.\nIt is no longer possible to install GlassFish Tools either through <em>Eclipse MarketPlace</em> or through <em>Install new Software</em> on the eclipse help menu. Both attempts lead to the error <code>No repository found at https://download.eclipse.org/glassfish-tools/1.0.0/repository/.</code></p>\n<p><a href=\"https://i.stack.imgur.com/gI92A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gI92A.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/WsW6U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WsW6U.png\" alt=\"enter image description here\" /></a></p>\n<p>Thank you for all your suggestions.</p>\n"},{"tags":["java","android","xml","spinner"],"answers":[{"comments":[{"owner":{"account_id":1233989,"reputation":688,"user_id":1197993,"accept_rate":60,"display_name":"user112016322"},"score":0,"creation_date":1453735314,"post_id":34930245,"comment_id":57720229,"body_markdown":"Do you know how to change the size of the bitmap?  its too big and setting the layout width and height to certain values doesn&#39;t do anything.","body":"Do you know how to change the size of the bitmap?  its too big and setting the layout width and height to certain values doesn&#39;t do anything."},{"owner":{"account_id":330005,"reputation":132780,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":0,"creation_date":1453738817,"post_id":34930245,"comment_id":57722558,"body_markdown":"@user1197993 http://developer.android.com/training/displaying-bitmaps/load-bitmap.html. check the docs see if that helps.","body":"@user1197993 <a href=\"http://developer.android.com/training/displaying-bitmaps/load-bitmap.html\" rel=\"nofollow noreferrer\">developer.android.com/training/displaying-bitmaps/&hellip;</a>. check the docs see if that helps."}],"tags":[],"owner":{"account_id":330005,"reputation":132780,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1453397163,"creation_date":1453396856,"answer_id":34930245,"question_id":34929348,"body_markdown":"I checked your code with the help of uiautomator and the spinner dropdown arrow does not show up with the background set. \r\n\r\n\r\nYou could use a LayerList and have a bitmap with gravity right. Now the bitmap is part of the background set to spinner.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;\r\n    &lt;item&gt;\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;solid android:color=&quot;#ffffff&quot;/&gt;\r\n        &lt;stroke\r\n            android:width=&quot;2dp&quot;\r\n            android:color=&quot;#80000000&quot;/&gt;\r\n        &lt;padding\r\n            android:bottom=&quot;2dp&quot;\r\n            android:left=&quot;2dp&quot;\r\n            android:right=&quot;2dp&quot;\r\n            android:top=&quot;2dp&quot;/&gt;\r\n    \r\n    &lt;/shape&gt;\r\n    &lt;/item&gt;\r\n    \r\n        &lt;item&gt;\r\n            &lt;bitmap\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:gravity=&quot;right&quot;\r\n                android:src=&quot;@mipmap/ic_launcher&quot; /&gt;\r\n        &lt;/item&gt;\r\n    &lt;/layer-list&gt;\r\n\r\nResult :\r\n\r\nOf course there is no border around the bitmap. You can check this link https://stackoverflow.com/questions/11188398/how-to-change-the-spinner-background-design-and-color-for-android and see if it fits your requirement\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/6b8NH.png","title":"Android: Down arrow disappears after setting spinner background","body":"<p>I checked your code with the help of uiautomator and the spinner dropdown arrow does not show up with the background set. </p>\n\n<p>You could use a LayerList and have a bitmap with gravity right. Now the bitmap is part of the background set to spinner.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layer-list xmlns:android=\"http://schemas.android.com/apk/res/android\" &gt;\n&lt;item&gt;\n&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;solid android:color=\"#ffffff\"/&gt;\n    &lt;stroke\n        android:width=\"2dp\"\n        android:color=\"#80000000\"/&gt;\n    &lt;padding\n        android:bottom=\"2dp\"\n        android:left=\"2dp\"\n        android:right=\"2dp\"\n        android:top=\"2dp\"/&gt;\n\n&lt;/shape&gt;\n&lt;/item&gt;\n\n    &lt;item&gt;\n        &lt;bitmap\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:gravity=\"right\"\n            android:src=\"@mipmap/ic_launcher\" /&gt;\n    &lt;/item&gt;\n&lt;/layer-list&gt;\n</code></pre>\n\n<p>Result :</p>\n\n<p>Of course there is no border around the bitmap. You can check this link <a href=\"https://stackoverflow.com/questions/11188398/how-to-change-the-spinner-background-design-and-color-for-android\">How to change the spinner background design and color for android?</a> and see if it fits your requirement</p>\n\n<p><a href=\"https://i.stack.imgur.com/6b8NH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6b8NH.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4176078,"reputation":4693,"user_id":3422556,"accept_rate":25,"display_name":"Swaminathan V"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1453397647,"creation_date":1453397647,"answer_id":34930532,"question_id":34929348,"body_markdown":"Check the below XML code to achieve what you need. It is similar to what *Raghunandan* posted / answered, but with some minor tweaks. Hope this will help you,\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;selector xmlns:android = &quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \r\n      &lt;item&gt;\r\n        &lt;layer-list&gt;\r\n          &lt;item&gt;\r\n            &lt;shape android:thickness=&quot;2dp&quot;&gt;\r\n              &lt;gradient android:angle = &quot;90&quot; android:endColor = &quot;#ffffff&quot; android:startColor = &quot;#ffffff&quot; android:type = &quot;linear&quot;/&gt;\r\n    \r\n              &lt;stroke android:width = &quot;1dp&quot; android:color = &quot;#80000000&quot;/&gt;\r\n    \r\n              &lt;corners android:radius = &quot;5dp&quot;/&gt;\r\n    \r\n              &lt;padding android:bottom = &quot;3dp&quot; android:left = &quot;3dp&quot; android:right = &quot;3dp&quot; android:top = &quot;3dp&quot;/&gt;\r\n            &lt;/shape&gt;\r\n          &lt;/item&gt;\r\n    \r\n          &lt;item&gt;\r\n            &lt;rotate\r\n               android:fromDegrees = &quot;90&quot;\r\n               android:pivotX = &quot;85%&quot;\r\n               android:pivotY = &quot;50%&quot;\r\n               android:toDegrees = &quot;90&quot;&gt;\r\n              &lt;shape\r\n                 android:shape = &quot;line&quot;\r\n                 android:thickness=&quot;2dp&quot;\r\n                 android:top = &quot;1dp&quot;&gt;\r\n                &lt;stroke\r\n                   android:color=&quot;#80000000&quot;\r\n                   android:width = &quot;1dp&quot;/&gt;\r\n              &lt;/shape&gt;\r\n            &lt;/rotate&gt;\r\n          &lt;/item&gt;\r\n          &lt;item&gt;\r\n            &lt;bitmap\r\n    \r\n               android:gravity = &quot;center|right&quot; android:src = &quot;@drawable/abc_btn_check_to_on_mtrl_015&quot;/&gt;\r\n    \r\n          &lt;/item&gt;\r\n        &lt;/layer-list&gt;\r\n      &lt;/item&gt;\r\n    \r\n    &lt;/selector&gt;\r\n\r\nuse the required drawable in the placeholder images i added in the code. \r\n\r\nHope this will help you,\r\n\r\nGood Luck","title":"Android: Down arrow disappears after setting spinner background","body":"<p>Check the below XML code to achieve what you need. It is similar to what <em>Raghunandan</em> posted / answered, but with some minor tweaks. Hope this will help you,</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;selector xmlns:android = \"http://schemas.android.com/apk/res/android\"&gt;\n\n  &lt;item&gt;\n    &lt;layer-list&gt;\n      &lt;item&gt;\n        &lt;shape android:thickness=\"2dp\"&gt;\n          &lt;gradient android:angle = \"90\" android:endColor = \"#ffffff\" android:startColor = \"#ffffff\" android:type = \"linear\"/&gt;\n\n          &lt;stroke android:width = \"1dp\" android:color = \"#80000000\"/&gt;\n\n          &lt;corners android:radius = \"5dp\"/&gt;\n\n          &lt;padding android:bottom = \"3dp\" android:left = \"3dp\" android:right = \"3dp\" android:top = \"3dp\"/&gt;\n        &lt;/shape&gt;\n      &lt;/item&gt;\n\n      &lt;item&gt;\n        &lt;rotate\n           android:fromDegrees = \"90\"\n           android:pivotX = \"85%\"\n           android:pivotY = \"50%\"\n           android:toDegrees = \"90\"&gt;\n          &lt;shape\n             android:shape = \"line\"\n             android:thickness=\"2dp\"\n             android:top = \"1dp\"&gt;\n            &lt;stroke\n               android:color=\"#80000000\"\n               android:width = \"1dp\"/&gt;\n          &lt;/shape&gt;\n        &lt;/rotate&gt;\n      &lt;/item&gt;\n      &lt;item&gt;\n        &lt;bitmap\n\n           android:gravity = \"center|right\" android:src = \"@drawable/abc_btn_check_to_on_mtrl_015\"/&gt;\n\n      &lt;/item&gt;\n    &lt;/layer-list&gt;\n  &lt;/item&gt;\n\n&lt;/selector&gt;\n</code></pre>\n\n<p>use the required drawable in the placeholder images i added in the code. </p>\n\n<p>Hope this will help you,</p>\n\n<p>Good Luck</p>\n"},{"tags":[],"owner":{"account_id":13740331,"reputation":21,"user_id":9915617,"display_name":"mahamrauf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670342982,"creation_date":1670342982,"answer_id":74705669,"question_id":34929348,"body_markdown":" Add `Spinner` inside a `RelativeLayout`. \r\n In my case, the icon disapper because of parent layout&#39;s height and width. \r\n\r\n    &lt;RelativeLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;30dp&quot;\r\n            android:background=&quot;@drawable/startbg&quot;\r\n            android:layout_marginLeft=&quot;5dp&quot;\r\n            &gt;\r\n        &lt;Spinner\r\n            android:id=&quot;@+id/timerSpin&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:spinnerMode=&quot;dropdown&quot;\r\n            android:backgroundTint=&quot;@color/white&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:pointerIcon=&quot;arrow&quot;\r\n             /&gt;\r\n        &lt;/RelativeLayout&gt;","title":"Android: Down arrow disappears after setting spinner background","body":"<p>Add <code>Spinner</code> inside a <code>RelativeLayout</code>.\nIn my case, the icon disapper because of parent layout's height and width.</p>\n<pre><code>&lt;RelativeLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;30dp&quot;\n        android:background=&quot;@drawable/startbg&quot;\n        android:layout_marginLeft=&quot;5dp&quot;\n        &gt;\n    &lt;Spinner\n        android:id=&quot;@+id/timerSpin&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:spinnerMode=&quot;dropdown&quot;\n        android:backgroundTint=&quot;@color/white&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:pointerIcon=&quot;arrow&quot;\n         /&gt;\n    &lt;/RelativeLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":1233989,"reputation":688,"user_id":1197993,"accept_rate":60,"display_name":"user112016322"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2966,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":34930245,"answer_count":3,"score":4,"last_activity_date":1670342982,"creation_date":1453394365,"question_id":34929348,"body_markdown":"I have a rectangle box that I set the spinner background as but I would like to keep the down arrow that comes along with the spinner.  Here is my code for the rectangle:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;solid android:color=&quot;#ffffff&quot; /&gt;\r\n    &lt;stroke android:width=&quot;2dp&quot; android:color=&quot;#80000000&quot; /&gt;\r\n    &lt;padding android:left=&quot;2dp&quot; android:top=&quot;2dp&quot; android:right=&quot;2dp&quot; android:bottom=&quot;2dp&quot; /&gt;\r\n&lt;/shape&gt;\r\n\r\nSee the picture below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOn the left is what i currently have, on the right is what I&#39;m trying to achieve or at least have a down arrow in there somewhere.  Any ideas on how to create this background?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/lWRnn.png","title":"Android: Down arrow disappears after setting spinner background","body":"<p>I have a rectangle box that I set the spinner background as but I would like to keep the down arrow that comes along with the spinner.  Here is my code for the rectangle:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n&lt;solid android:color=\"#ffffff\" /&gt;\n&lt;stroke android:width=\"2dp\" android:color=\"#80000000\" /&gt;\n&lt;padding android:left=\"2dp\" android:top=\"2dp\" android:right=\"2dp\" android:bottom=\"2dp\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>See the picture below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/lWRnn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lWRnn.png\" alt=\"enter image description here\"></a></p>\n\n<p>On the left is what i currently have, on the right is what I'm trying to achieve or at least have a down arrow in there somewhere.  Any ideas on how to create this background?</p>\n"},{"tags":["java","switch-statement","calculator"],"comments":[{"owner":{"account_id":5241234,"reputation":55,"user_id":4188194,"accept_rate":29,"display_name":"Strategiger"},"score":0,"creation_date":1414550242,"post_id":26621905,"comment_id":41854220,"body_markdown":"There is a compile time error with the switch statements","body":"There is a compile time error with the switch statements"},{"owner":{"account_id":5097674,"reputation":828,"user_id":4088425,"display_name":"ipavl"},"score":0,"creation_date":1414550279,"post_id":26621905,"comment_id":41854231,"body_markdown":"You&#39;re missing a `}` at the end of your switch statement I think. But posting the full error verbatim is more useful.","body":"You&#39;re missing a <code>}</code> at the end of your switch statement I think. But posting the full error verbatim is more useful."},{"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"score":0,"creation_date":1414550321,"post_id":26621905,"comment_id":41854237,"body_markdown":"I called the plumber the other day and said &quot;my pipes don&#39;t work&quot;. Then I went to the mechanic and said &quot;my car doesn&#39;t work&quot;. They both asked for more information - funny that, I thought they were mind readers!","body":"I called the plumber the other day and said &quot;my pipes don&#39;t work&quot;. Then I went to the mechanic and said &quot;my car doesn&#39;t work&quot;. They both asked for more information - funny that, I thought they were mind readers!"},{"owner":{"account_id":5241234,"reputation":55,"user_id":4188194,"accept_rate":29,"display_name":"Strategiger"},"score":0,"creation_date":1414550435,"post_id":26621905,"comment_id":41854265,"body_markdown":"Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \n\tType mismatch: cannot convert from String to float\n\tThe operator - is undefined for the argument type(s) java.lang.String, java.lang.String\n\tThe operator * is undefined for the argument type(s) java.lang.String, java.lang.String\n\tThe operator / is undefined for the argument type(s) java.lang.String, java.lang.String\n\n\tat FracCalcApp.main(FracCalcApp.java:53)","body":"Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems:  \tType mismatch: cannot convert from String to float \tThe operator - is undefined for the argument type(s) java.lang.String, java.lang.String \tThe operator * is undefined for the argument type(s) java.lang.String, java.lang.String \tThe operator / is undefined for the argument type(s) java.lang.String, java.lang.String  \tat FracCalcApp.main(FracCalcApp.java:53)"},{"owner":{"account_id":2920668,"reputation":2280,"user_id":2503007,"accept_rate":96,"display_name":"Chiseled"},"score":0,"creation_date":1414550680,"post_id":26621905,"comment_id":41854323,"body_markdown":"added the exception to the the post for everyones benefit. Please verify","body":"added the exception to the the post for everyones benefit. Please verify"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1414551613,"post_id":26621905,"comment_id":41854520,"body_markdown":"Sooner or later you&#39;re going to have to deal with operator precedence and parentheses, at which time you will have to throw much of this away and use a proper expression parser. I would do that now so you don&#39;t waste too much time going down the wrong rabbit hole. Look up the Dijkstra Shunting-yard algorithmm, or recursive descent expression parsing. Don&#39;t try to roll your own, you&#39;ll fail.","body":"Sooner or later you&#39;re going to have to deal with operator precedence and parentheses, at which time you will have to throw much of this away and use a proper expression parser. I would do that now so you don&#39;t waste too much time going down the wrong rabbit hole. Look up the Dijkstra Shunting-yard algorithmm, or recursive descent expression parsing. Don&#39;t try to roll your own, you&#39;ll fail."}],"answers":[{"comments":[{"owner":{"account_id":5241234,"reputation":55,"user_id":4188194,"accept_rate":29,"display_name":"Strategiger"},"score":0,"creation_date":1414550956,"post_id":26621938,"comment_id":41854382,"body_markdown":"Thank you this was really helpful. Also I went through my code and lower case all variables.","body":"Thank you this was really helpful. Also I went through my code and lower case all variables."},{"owner":{"account_id":5241234,"reputation":55,"user_id":4188194,"accept_rate":29,"display_name":"Strategiger"},"score":0,"creation_date":1414551041,"post_id":26621938,"comment_id":41854396,"body_markdown":"Another error: Type an expression and press &lt;enter&gt;\n1_1/2 + 1_1/2\n1_1/2 + 1_1/2\n+\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;1_1/2&quot;\n\tat sun.misc.FloatingDecimal.readJavaFormatString(Unknown Source)\n\tat java.lang.Double.valueOf(Unknown Source)\n\tat FracCalcApp.main(FracCalcApp.java:53)","body":"Another error: Type an expression and press &lt;enter&gt; 1_1/2 + 1_1/2 1_1/2 + 1_1/2 + Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;1_1/2&quot; \tat sun.misc.FloatingDecimal.readJavaFormatString(Unknown Source) \tat java.lang.Double.valueOf(Unknown Source) \tat FracCalcApp.main(FracCalcApp.java:53)"},{"owner":{"account_id":5241234,"reputation":55,"user_id":4188194,"accept_rate":29,"display_name":"Strategiger"},"score":0,"creation_date":1414551313,"post_id":26621938,"comment_id":41854457,"body_markdown":"1.5 + 1.5 also gave me an error. Also I want to retain the fractions. I&#39;m trying to take two fractions and do operations with them. The user would input proper or improper fractions.","body":"1.5 + 1.5 also gave me an error. Also I want to retain the fractions. I&#39;m trying to take two fractions and do operations with them. The user would input proper or improper fractions."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1414551637,"post_id":26621938,"comment_id":41854524,"body_markdown":"Editing your question to include my code isn&#39;t really cool. I suggest you consider that you haven&#39;t implemented any of those operations and you will need to do so if you want support proper or improper fractions.","body":"Editing your question to include my code isn&#39;t really cool. I suggest you consider that you haven&#39;t implemented any of those operations and you will need to do so if you want support proper or improper fractions."}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1414550417,"creation_date":1414550417,"answer_id":26621938,"question_id":26621905,"body_markdown":"`Operand1` and `Operand2` are `String`(s). You  need to parse them before you can perform arithmetic. Something like,\r\n\r\n\tdouble answer;\r\n\tSystem.out.println(Operator);\r\n\tswitch (Operator) {\r\n\tcase &quot;+&quot;:\r\n\t\tanswer = Double.valueOf(Operand1) + Double.valueOf(Operand2);\r\n\t\tbreak;\r\n\tcase &quot;-&quot;:\r\n\t\tanswer = Double.valueOf(Operand1) - Double.valueOf(Operand2);\r\n\t\tbreak;\r\n\tcase &quot;*&quot;:\r\n\t\tanswer = Double.valueOf(Operand1) * Double.valueOf(Operand2);\r\n\t\tbreak;\r\n\tcase &quot;/&quot;:\r\n\t\tanswer = Double.valueOf(Operand1) / Double.valueOf(Operand2);\r\n\t\tbreak;\r\n\t}\r\n\t\t\r\nFinally, by convention, Java variables should start with a lower case letter; `operand1`, `operand2` and `operator`.","title":"Calculator using Switch in Java","body":"<p><code>Operand1</code> and <code>Operand2</code> are <code>String</code>(s). You  need to parse them before you can perform arithmetic. Something like,</p>\n\n<pre><code>double answer;\nSystem.out.println(Operator);\nswitch (Operator) {\ncase \"+\":\n    answer = Double.valueOf(Operand1) + Double.valueOf(Operand2);\n    break;\ncase \"-\":\n    answer = Double.valueOf(Operand1) - Double.valueOf(Operand2);\n    break;\ncase \"*\":\n    answer = Double.valueOf(Operand1) * Double.valueOf(Operand2);\n    break;\ncase \"/\":\n    answer = Double.valueOf(Operand1) / Double.valueOf(Operand2);\n    break;\n}\n</code></pre>\n\n<p>Finally, by convention, Java variables should start with a lower case letter; <code>operand1</code>, <code>operand2</code> and <code>operator</code>.</p>\n"},{"tags":[],"owner":{"account_id":25749724,"reputation":1,"user_id":19502461,"display_name":"Pradhumansinigh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670342773,"creation_date":1670342773,"answer_id":74705615,"question_id":26621905,"body_markdown":"\r\n\r\n\r\n\r\n\r\n        \r\n                                                                          \r\n        public static void main(String[] args){\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter first number&quot;);\r\n        float a = sc.nextFloat();\r\n\r\n        System.out.println(&quot;Enter second number&quot;);\r\n        float b = sc.nextFloat();\r\n\r\n        System.out.println(&quot;choose your operation&quot;);\r\n        char operator = sc.next().charAt(0);\r\n        float answer;\r\n        switch (operator){\r\n\r\n            case &#39;+&#39; :\r\n             answer = a +b;\r\n                System.out.println(&quot;Answer:&quot;+answer);\r\n                break;\r\n            case &#39;-&#39; :\r\n                answer = a-b;\r\n                System.out.println(&quot;Answer:&quot;+answer);\r\n                break;\r\n            case &#39;*&#39; :\r\n                answer = a*b;\r\n                System.out.println(&quot;Answer:&quot;+answer);\r\n                break;\r\n            default:\r\n                answer = a/b;\r\n                System.out.println(&quot;Answer:&quot;+answer);\r\n        }\r\n\r\n\r\n\r\n      }\r\n\r\n","title":"Calculator using Switch in Java","body":"<pre><code>    public static void main(String[] args){\n    Scanner sc = new Scanner(System.in);\n\n    System.out.println(&quot;Enter first number&quot;);\n    float a = sc.nextFloat();\n\n    System.out.println(&quot;Enter second number&quot;);\n    float b = sc.nextFloat();\n\n    System.out.println(&quot;choose your operation&quot;);\n    char operator = sc.next().charAt(0);\n    float answer;\n    switch (operator){\n\n        case '+' :\n         answer = a +b;\n            System.out.println(&quot;Answer:&quot;+answer);\n            break;\n        case '-' :\n            answer = a-b;\n            System.out.println(&quot;Answer:&quot;+answer);\n            break;\n        case '*' :\n            answer = a*b;\n            System.out.println(&quot;Answer:&quot;+answer);\n            break;\n        default:\n            answer = a/b;\n            System.out.println(&quot;Answer:&quot;+answer);\n    }\n\n\n\n  }\n</code></pre>\n"}],"owner":{"account_id":5241234,"reputation":55,"user_id":4188194,"accept_rate":29,"display_name":"Strategiger"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2253,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":26621938,"answer_count":2,"score":-1,"last_activity_date":1670342773,"creation_date":1414550099,"question_id":26621905,"body_markdown":"I&#39;m new to Java programming. I am trying to make a Fraction Calculator but when I try to run the program it gives me an error. The error is with the Switch statements but I don&#39;t know what happened.\r\n\r\n\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner console = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Welcome to My FracCalc&quot;);\r\n    \t\tboolean continueProcessing = true;\r\n    \t\twhile (continueProcessing) {\r\n    \t\t\tSystem.out.println(&quot;Type an expression and press &lt;enter&gt;&quot;);\r\n    \t\t\t\r\n    \t\t\tString Operand1 = console.next();\r\n    \t\t\tif (Operand1.equals(&quot;quit&quot;)) {\r\n    \t\t\t\tcontinueProcessing = false;\r\n    \t\t\t\tSystem.out.println(&quot;Good bye!&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\t} else {\r\n    \t\t\t\tOperand1 = parseFullNumber(Operand1);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tString Operator = console.next();\r\n    \t\t\tif (Operator.equals(&quot;quit&quot;)) {\r\n    \t\t\t\tcontinueProcessing = false;\r\n    \t\t\t\tSystem.out.println(&quot;Good bye!&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\t} else if (Operator.equals(&quot;+&quot;) || Operator.equals(&quot;-&quot;) || Operator.equals(&quot;/&quot;) || Operator.equals(&quot;*&quot;)) {\r\n    \t\t\t\r\n    \t\t\t} else {\r\n    \t\t\t\tthrow new ArithmeticException();\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tString Operand2 = console.next();\r\n    \t\t\tif (Operand2.equals(&quot;quit&quot;)) {\r\n    \t\t\t\tcontinueProcessing = false;\r\n    \t\t\t\tSystem.out.println(&quot;Good bye!&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\t} else {\r\n    \t\t\t\tOperand2 = parseFullNumber(Operand2);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tSystem.out.println( Operand1 + &quot; &quot; +  Operator + &quot; &quot; + Operand2); \r\n    \t\t\t//System.out.println(&quot;First Fraction is: &quot; + Operand1);\r\n    \t\t\t//System.out.println(&quot;Operator is: &quot; + Operator);\r\n    \t\t\t//System.out.println(&quot;Second Fraction is: &quot; + Operand2);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tfloat answer;\r\n    \t\t\tSystem.out.println(Operator);\r\n    \t\t\tswitch (Operator) {\r\n    \t\t\t\tcase &quot;+&quot;:\r\n    \t\t\t\t\tanswer = Operand1 + Operand2;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t\t\r\n    \t\t\t\tcase &quot;-&quot;:\r\n    \t\t\t\t\tanswer = Operand1 - Operand2;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t\t\r\n    \t\t\t\tcase &quot;*&quot;:\r\n    \t\t\t\t\tanswer = Operand1 * Operand2;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t\t\r\n    \t\t\t\tcase &quot;/&quot;:\r\n    \t\t\t\t\tanswer = Operand1 / Operand2;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\r\n    \t\t}\t\r\n    \t}\r\n    }\r\n    \r\n    \tpublic static String parseFullNumber(String input) {\r\n    \t\tint wholeNumber = 0;\r\n    \t\tint numerator = 0;\r\n    \t\tint denominator = 0;\r\n    \t\t;\r\n    \t\tint underscoreId = input.indexOf(&#39;_&#39;);\r\n    \t\tint slashId = input.indexOf(&#39;/&#39;);\r\n    \t\t\r\n    \t\t// Check for underscore &quot;_&quot; //\r\n    \t\tif (underscoreId &gt; -1) { \r\n    \t\t\twholeNumber = Integer.parseInt(input.substring(0, underscoreId));\r\n    \t\t\tnumerator = Integer.parseInt(input.substring(underscoreId + 1, slashId));\r\n    \t\t\tdenominator = Integer.parseInt(input.substring(slashId + 1, input.length()));\r\n    \t\t} else {\r\n    \t\t\tif (slashId &gt; -1) {\r\n    \t\t\t\t// no underscore but there is a slash // \r\n    \t\t\t\tnumerator = Integer.parseInt(input.substring(0, slashId));\r\n    \t\t\t\tdenominator = Integer.parseInt(input.substring(slashId + 1, input.length()));\r\n    \t\t\t} else {\r\n    \t\t\t\t// there is no underscore or slash // \r\n    \t\t\t\twholeNumber = Integer.parseInt(input);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn simplify(wholeNumber, numerator, denominator);\r\n    \t}\r\n    \t\r\n    \t//simplifying fractions //\r\n    \tpublic static String simplify(int wholeNumber, int numerator, int denominator) {\r\n    \t\t// absolute values //\r\n    \t\tint absNumerator = Math.abs(numerator);\r\n    \t\t\r\n    \t\t// factor if applicable //\r\n    \t\tif (absNumerator &gt; 1) {\r\n    \t\t\tint commonFactor = 1;\r\n    \t\t\tfor (int i = 2; i &lt; Math.min(absNumerator, denominator); i++) {\r\n    \t\t\t\tif (numerator % i == 0 &amp;&amp; denominator % i == 0) {\r\n    \t\t\t\t\tcommonFactor = i;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tnumerator /= commonFactor;\r\n    \t\t\tdenominator /= commonFactor;\r\n    \t\t}\r\n    \t\t\r\n    \t\t// reduce if applicable //\r\n    \t\tif (absNumerator &gt; denominator) {\r\n    \t\t\tint reduction = numerator / denominator;\r\n    \t\t\tif (wholeNumber &gt;= 0) {\r\n    \t\t\t\twholeNumber += reduction;\r\n    \t\t\t} else {\r\n    \t\t\t\twholeNumber -= reduction;\r\n    \t\t\t}\r\n    \t\t\tnumerator %= denominator;\r\n    \t\t}\r\n    \t\t\r\n    \t\t// prints //\r\n    \t\tif (wholeNumber != 0) {\r\n    \t\t\tif (numerator != 0) {\r\n    \t\t\t\treturn wholeNumber + &quot;_&quot; + numerator + &quot;/&quot; + denominator; \r\n    \t\t\t} else {\r\n    \t\t\t\treturn String.valueOf(wholeNumber);\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tif (numerator != 0) {\r\n    \t\t\t\treturn numerator + &quot;/&quot; + denominator;\r\n    \t\t\t} else {\r\n    \t\t\t\treturn String.valueOf(0);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nHere is the error i got:\r\n\r\n  \r\n\r\n    Exception in thread &quot;main&quot; java.lang.Error: \r\n         Unresolved compilation problems: \r\n              Type mismatch:\r\n                  cannot convert from String to float The operator - is undefined for the argument type(s) java.lang.String, java.lang.String\r\n                  The operator * is undefined for the argument type(s) java.lang.String, java.lang.String\r\n                  The operator / is undefined for the argument type(s) java.lang.String, java.lang.String \r\n                      at FracCalcApp.main(FracCalcApp.java:53)","title":"Calculator using Switch in Java","body":"<p>I'm new to Java programming. I am trying to make a Fraction Calculator but when I try to run the program it gives me an error. The error is with the Switch statements but I don't know what happened.</p>\n\n<pre><code>    public static void main(String[] args) {\n        Scanner console = new Scanner(System.in);\n        System.out.println(\"Welcome to My FracCalc\");\n        boolean continueProcessing = true;\n        while (continueProcessing) {\n            System.out.println(\"Type an expression and press &lt;enter&gt;\");\n\n            String Operand1 = console.next();\n            if (Operand1.equals(\"quit\")) {\n                continueProcessing = false;\n                System.out.println(\"Good bye!\");\n                break;\n            } else {\n                Operand1 = parseFullNumber(Operand1);\n            }\n\n            String Operator = console.next();\n            if (Operator.equals(\"quit\")) {\n                continueProcessing = false;\n                System.out.println(\"Good bye!\");\n                break;\n            } else if (Operator.equals(\"+\") || Operator.equals(\"-\") || Operator.equals(\"/\") || Operator.equals(\"*\")) {\n\n            } else {\n                throw new ArithmeticException();\n            }\n\n            String Operand2 = console.next();\n            if (Operand2.equals(\"quit\")) {\n                continueProcessing = false;\n                System.out.println(\"Good bye!\");\n                break;\n            } else {\n                Operand2 = parseFullNumber(Operand2);\n            }\n\n\n            System.out.println( Operand1 + \" \" +  Operator + \" \" + Operand2); \n            //System.out.println(\"First Fraction is: \" + Operand1);\n            //System.out.println(\"Operator is: \" + Operator);\n            //System.out.println(\"Second Fraction is: \" + Operand2);\n\n\n            float answer;\n            System.out.println(Operator);\n            switch (Operator) {\n                case \"+\":\n                    answer = Operand1 + Operand2;\n                    break;\n\n                case \"-\":\n                    answer = Operand1 - Operand2;\n                    break;\n\n                case \"*\":\n                    answer = Operand1 * Operand2;\n                    break;\n\n                case \"/\":\n                    answer = Operand1 / Operand2;\n                    break;\n\n        }   \n    }\n}\n\n    public static String parseFullNumber(String input) {\n        int wholeNumber = 0;\n        int numerator = 0;\n        int denominator = 0;\n        ;\n        int underscoreId = input.indexOf('_');\n        int slashId = input.indexOf('/');\n\n        // Check for underscore \"_\" //\n        if (underscoreId &gt; -1) { \n            wholeNumber = Integer.parseInt(input.substring(0, underscoreId));\n            numerator = Integer.parseInt(input.substring(underscoreId + 1, slashId));\n            denominator = Integer.parseInt(input.substring(slashId + 1, input.length()));\n        } else {\n            if (slashId &gt; -1) {\n                // no underscore but there is a slash // \n                numerator = Integer.parseInt(input.substring(0, slashId));\n                denominator = Integer.parseInt(input.substring(slashId + 1, input.length()));\n            } else {\n                // there is no underscore or slash // \n                wholeNumber = Integer.parseInt(input);\n            }\n        }\n\n        return simplify(wholeNumber, numerator, denominator);\n    }\n\n    //simplifying fractions //\n    public static String simplify(int wholeNumber, int numerator, int denominator) {\n        // absolute values //\n        int absNumerator = Math.abs(numerator);\n\n        // factor if applicable //\n        if (absNumerator &gt; 1) {\n            int commonFactor = 1;\n            for (int i = 2; i &lt; Math.min(absNumerator, denominator); i++) {\n                if (numerator % i == 0 &amp;&amp; denominator % i == 0) {\n                    commonFactor = i;\n                }\n            }\n            numerator /= commonFactor;\n            denominator /= commonFactor;\n        }\n\n        // reduce if applicable //\n        if (absNumerator &gt; denominator) {\n            int reduction = numerator / denominator;\n            if (wholeNumber &gt;= 0) {\n                wholeNumber += reduction;\n            } else {\n                wholeNumber -= reduction;\n            }\n            numerator %= denominator;\n        }\n\n        // prints //\n        if (wholeNumber != 0) {\n            if (numerator != 0) {\n                return wholeNumber + \"_\" + numerator + \"/\" + denominator; \n            } else {\n                return String.valueOf(wholeNumber);\n            }\n        } else {\n            if (numerator != 0) {\n                return numerator + \"/\" + denominator;\n            } else {\n                return String.valueOf(0);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Here is the error i got:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.Error: \n     Unresolved compilation problems: \n          Type mismatch:\n              cannot convert from String to float The operator - is undefined for the argument type(s) java.lang.String, java.lang.String\n              The operator * is undefined for the argument type(s) java.lang.String, java.lang.String\n              The operator / is undefined for the argument type(s) java.lang.String, java.lang.String \n                  at FracCalcApp.main(FracCalcApp.java:53)\n</code></pre>\n"},{"tags":["java","sql","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670341004,"post_id":74704874,"comment_id":131851340,"body_markdown":"What is wrong with just calling `save`? Why do you think you need a query for this?","body":"What is wrong with just calling <code>save</code>? Why do you think you need a query for this?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670341013,"post_id":74704874,"comment_id":131851346,"body_markdown":"Looking at your mapping I am wondering how your `MainEntity` knows how to connect to the `SubEntity`. AFAIK there should be a `@JoinColumn`","body":"Looking at your mapping I am wondering how your <code>MainEntity</code> knows how to connect to the <code>SubEntity</code>. AFAIK there should be a <code>@JoinColumn</code>"},{"owner":{"account_id":19028750,"reputation":33,"user_id":13891306,"display_name":"Gunnar Sigstad"},"score":0,"creation_date":1670341882,"post_id":74704874,"comment_id":131851642,"body_markdown":"@M.Deinum Then I have to get, and then save - which is two calls and not very efficient.\nIf there is not possible to call save on an existing entity I am not aware of?","body":"@M.Deinum Then I have to get, and then save - which is two calls and not very efficient. If there is not possible to call save on an existing entity I am not aware of?"},{"owner":{"account_id":19028750,"reputation":33,"user_id":13891306,"display_name":"Gunnar Sigstad"},"score":0,"creation_date":1670341973,"post_id":74704874,"comment_id":131851676,"body_markdown":"Yes, I did not include the `flyway` configuration which couples these tables together @XtremeBaumer\n\nThere is defined a SubEntityId in the MainEntity DB table because of this configuration","body":"Yes, I did not include the <code>flyway</code> configuration which couples these tables together @XtremeBaumer  There is defined a SubEntityId in the MainEntity DB table because of this configuration"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670342294,"post_id":74704874,"comment_id":131851799,"body_markdown":"You should make the example at least complete in as not missing crucial configuration parts. You could attempt to `merge()` the entity","body":"You should make the example at least complete in as not missing crucial configuration parts. You could attempt to <code>merge()</code> the entity"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1670350426,"post_id":74704874,"comment_id":131854790,"body_markdown":"You are attempting to bypass save by giving a JPQL query the entity and expecting it to abide by your mappings and figure out what to update. This isn&#39;t possible with JPA bulk update queries but is if you want to break out the non-JPA api. (Eclipselink has updateObject calls which do what you want, and I&#39;m sure Hibernate will have equivalent api). Otherwise, you have to form your update query and set each property individually in it, just as you might for an SQL update statement.","body":"You are attempting to bypass save by giving a JPQL query the entity and expecting it to abide by your mappings and figure out what to update. This isn&#39;t possible with JPA bulk update queries but is if you want to break out the non-JPA api. (Eclipselink has updateObject calls which do what you want, and I&#39;m sure Hibernate will have equivalent api). Otherwise, you have to form your update query and set each property individually in it, just as you might for an SQL update statement."},{"owner":{"account_id":19028750,"reputation":33,"user_id":13891306,"display_name":"Gunnar Sigstad"},"score":0,"creation_date":1670412325,"post_id":74704874,"comment_id":131869335,"body_markdown":"Aha, ok then it was probably more troublesome than I imagined - I think I will go for the approach of fetching - then saving instead. Thank you for your answers.","body":"Aha, ok then it was probably more troublesome than I imagined - I think I will go for the approach of fetching - then saving instead. Thank you for your answers."}],"owner":{"account_id":19028750,"reputation":33,"user_id":13891306,"display_name":"Gunnar Sigstad"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670342531,"creation_date":1670339752,"question_id":74704874,"body_markdown":"I have the following Entities:\r\n\r\n```lang-java\r\n@Entity\r\npublic class MainEntity {\r\n\r\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\r\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n    @Id\r\n    @Type(type=&quot;uuid-char&quot;)\r\n    @Column(columnDefinition = &quot;VARCHAR(255)&quot;, insertable = false, updatable = false, nullable = false)\r\n    private UUID id;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    private SubEntity sub;\r\n\r\n    private String element;\r\n}\r\n\r\n@Entity\r\npublic class SubEntity{\r\n\r\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\r\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n    @Id\r\n    @Type(type=&quot;uuid-char&quot;)\r\n    @Column(columnDefinition = &quot;VARCHAR(255)&quot;, insertable = false, updatable = false, nullable = false)\r\n    private UUID id;\r\n\r\n    private String element;\r\n}\r\n```\r\nThese are coupled together using a `flyway` configuration\r\n\r\nBear in mind that this is only an example, I have multiple more Entities which are connected to MainEntity via `@OneToOne` or `@OneToMany`, all using `@CascadeType.ALL`\r\n\r\nAnd I want to update an existing entity - using the MainEntity ID and a new MainEntity Object. For this I have a JpaRepository with a custom @Query\r\n\r\n```lang-java\r\n@Repository\r\npublic interface SalesOpportunityRepository extends JpaRepository&lt;MainEntity, UUID&gt; {\r\n\r\n    @Modifying\r\n    @Query(&quot;update MainEntity oldEntity set oldEntity = :updatedEntity where oldEntity.id = :id&quot;)\r\n    void updateEntity(@Param(&quot;id&quot;) UUID id, @Param(&quot;updatedEntity&quot;) MainEntity updatedEntity);\r\n}\r\n```\r\n\r\nBut running this, using either a h2 db locally, or a postgres db in test env. I get this error:\r\n\r\n`org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing:` \r\n\r\nI see many struggle with this, but everytime `CascadeType.All` is proposed, but as I already have it - this will not help.\r\n\r\nNot sure if the update sql for updating the entire entity might be the problem her","title":"JPA update entire entity with all relations","body":"<p>I have the following Entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class MainEntity {\n\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n    @Id\n    @Type(type=&quot;uuid-char&quot;)\n    @Column(columnDefinition = &quot;VARCHAR(255)&quot;, insertable = false, updatable = false, nullable = false)\n    private UUID id;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    private SubEntity sub;\n\n    private String element;\n}\n\n@Entity\npublic class SubEntity{\n\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n    @Id\n    @Type(type=&quot;uuid-char&quot;)\n    @Column(columnDefinition = &quot;VARCHAR(255)&quot;, insertable = false, updatable = false, nullable = false)\n    private UUID id;\n\n    private String element;\n}\n</code></pre>\n<p>These are coupled together using a <code>flyway</code> configuration</p>\n<p>Bear in mind that this is only an example, I have multiple more Entities which are connected to MainEntity via <code>@OneToOne</code> or <code>@OneToMany</code>, all using <code>@CascadeType.ALL</code></p>\n<p>And I want to update an existing entity - using the MainEntity ID and a new MainEntity Object. For this I have a JpaRepository with a custom @Query</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface SalesOpportunityRepository extends JpaRepository&lt;MainEntity, UUID&gt; {\n\n    @Modifying\n    @Query(&quot;update MainEntity oldEntity set oldEntity = :updatedEntity where oldEntity.id = :id&quot;)\n    void updateEntity(@Param(&quot;id&quot;) UUID id, @Param(&quot;updatedEntity&quot;) MainEntity updatedEntity);\n}\n</code></pre>\n<p>But running this, using either a h2 db locally, or a postgres db in test env. I get this error:</p>\n<p><code>org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing:</code></p>\n<p>I see many struggle with this, but everytime <code>CascadeType.All</code> is proposed, but as I already have it - this will not help.</p>\n<p>Not sure if the update sql for updating the entire entity might be the problem her</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":7428434,"reputation":1471,"user_id":5650224,"display_name":"m4gic"},"score":1,"creation_date":1587556164,"post_id":61206434,"comment_id":108555863,"body_markdown":"This sounds like an [XY problem](http://xyproblem.info/). What is your original problem that you have tried to solve in this way?","body":"This sounds like an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY problem</a>. What is your original problem that you have tried to solve in this way?"},{"owner":{"account_id":339595,"reputation":956,"user_id":669159,"display_name":"mommcilo"},"score":0,"creation_date":1587633950,"post_id":61206434,"comment_id":108589846,"body_markdown":"Why you need to handle /api with one two different Resolvers? If you already use Spring Security, have think about roles, and to solve problem using that approach?  For example http.authorizeRequests().antMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;).antMatchers(&quot;/api&quot;).hasRole(&quot;USER&quot;)\n            .anyRequest().authenticated()\n            .and()\n            .formLogin();  This is just one way. You can also set @RolesAllowed({&quot;USER&quot;,&quot;ADMIN&quot;}) for every Controller method and on that way control access right of different roles.","body":"Why you need to handle /api with one two different Resolvers? If you already use Spring Security, have think about roles, and to solve problem using that approach?  For example http.authorizeRequests().antMatchers(&quot;/admin&quot;).hasRole(&quot;ADMI&zwnj;&#8203;N&quot;).antMatchers(&quot;/ap&zwnj;&#8203;i&quot;).hasRole(&quot;USER&quot;)             .anyRequest().authenticated()             .and()             .formLogin();  This is just one way. You can also set @RolesAllowed({&quot;USER&quot;,&quot;ADMIN&quot;}) for every Controller method and on that way control access right of different roles."},{"owner":{"account_id":700209,"reputation":138,"user_id":589327,"accept_rate":75,"display_name":"Karamba"},"score":0,"creation_date":1587658079,"post_id":61206434,"comment_id":108604006,"body_markdown":"@m4gic: I think my main problem can be guessed from the first sentence, but maybe you are right and this is not clear enough: There are two types of clients which want to get data from my backend. For the first group (e.g. browsers which do the handling of cookies for me), if want to use cookies. And for the second group (e.g. an android app) I want to use an additional auth header and no cookies so I can turn of the CSRF protection via tokens.","body":"@m4gic: I think my main problem can be guessed from the first sentence, but maybe you are right and this is not clear enough: There are two types of clients which want to get data from my backend. For the first group (e.g. browsers which do the handling of cookies for me), if want to use cookies. And for the second group (e.g. an android app) I want to use an additional auth header and no cookies so I can turn of the CSRF protection via tokens."},{"owner":{"account_id":700209,"reputation":138,"user_id":589327,"accept_rate":75,"display_name":"Karamba"},"score":0,"creation_date":1587658177,"post_id":61206434,"comment_id":108604054,"body_markdown":"@mommcilo: See my clarification.","body":"@mommcilo: See my clarification."},{"owner":{"account_id":7428434,"reputation":1471,"user_id":5650224,"display_name":"m4gic"},"score":0,"creation_date":1587659778,"post_id":61206434,"comment_id":108605002,"body_markdown":"I  would use both approach: from the backend perspective, the key point is that your user has to authenticate his/herself in any way. So instead of trying to separate these kind of requests, you should enable them to authenticate themselves in any way, if they contains cookies, you should serve them, similarly, if they have an auth header, you should serve them too. E.g. in WebLogic, there is a similar mechanism, where the JAAS login modules were sufficient, that means that ANY of them authenticated the user, the request can be served, otherwise obviously not.","body":"I  would use both approach: from the backend perspective, the key point is that your user has to authenticate his/herself in any way. So instead of trying to separate these kind of requests, you should enable them to authenticate themselves in any way, if they contains cookies, you should serve them, similarly, if they have an auth header, you should serve them too. E.g. in WebLogic, there is a similar mechanism, where the JAAS login modules were sufficient, that means that ANY of them authenticated the user, the request can be served, otherwise obviously not."},{"owner":{"account_id":7428434,"reputation":1471,"user_id":5650224,"display_name":"m4gic"},"score":0,"creation_date":1587659932,"post_id":61206434,"comment_id":108605092,"body_markdown":"So what I would like to recommend is the usage of multiple authentication providers, which is not rare for this kind of use cases.","body":"So what I would like to recommend is the usage of multiple authentication providers, which is not rare for this kind of use cases."},{"owner":{"account_id":196814,"reputation":4961,"user_id":440472,"accept_rate":74,"display_name":"fast-reflexes"},"score":0,"creation_date":1594393156,"post_id":61206434,"comment_id":111119816,"body_markdown":"I think this solution was nice! I have been working on this the whole day and this is the first solution that works.. I have different authentications for different parts of the app and I want users to be able to be logged in to both of these at the same time without having to reauthenticate when switching realm (but also be able to be logged in to just one of them). Thanks!","body":"I think this solution was nice! I have been working on this the whole day and this is the first solution that works.. I have different authentications for different parts of the app and I want users to be able to be logged in to both of these at the same time without having to reauthenticate when switching realm (but also be able to be logged in to just one of them). Thanks!"}],"answers":[{"comments":[{"owner":{"account_id":700209,"reputation":138,"user_id":589327,"accept_rate":75,"display_name":"Karamba"},"score":0,"creation_date":1587658578,"post_id":61369811,"comment_id":108604264,"body_markdown":"I could add a check for the requested URL prefix than the according auth mechanism would be ensured. But thats also not nice. Is their no way to define this in the separated WebSecurityConfigurerAdapter? These are two separated filter chains so I would expect to easily provide different session resolvers.","body":"I could add a check for the requested URL prefix than the according auth mechanism would be ensured. But thats also not nice. Is their no way to define this in the separated WebSecurityConfigurerAdapter? These are two separated filter chains so I would expect to easily provide different session resolvers."}],"tags":[],"owner":{"account_id":6085452,"reputation":21,"user_id":4749678,"display_name":"Nikos Kotzalas"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587571819,"creation_date":1587571819,"answer_id":61369811,"question_id":61206434,"body_markdown":"As you mention above, based on the code of &quot;[SessionRepositoryFilter][1]&quot; class, it is clear that it supports only a single &quot;HttpSessionIdResolver&quot;. As a result, if you use only one &quot;SessionRepositoryFilter&quot;, your only option seems to be the one that you suggested. Although this would work, it does feel a bit hacky and also, if your requirement is indeed to use the &quot;HTTPSessionIdResolver&quot; for everything located under &quot;/api**&quot;, then it doesn&#39;t ensure that.\r\n\r\nSince &quot;SessionRepositoryFilter&quot; class is effectivelly a Filter, I suggest checking if you could create two Spring beans for the &quot;SessionRepositoryFilter&quot; class. One that will be used for all HTTP endpoints under the &quot;/api*&quot; pattern and another for all other paths. Then, you could use the &quot;HttpSessionIdResolver&quot; and &quot;CookieSessionIdResolver&quot; respectivelly. You can find an example for defining different filters based on URL patterns [here][2].\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-session/blob/master/spring-session-core/src/main/java/org/springframework/session/web/http/SessionRepositoryFilter.java\r\n  [2]: https://www.baeldung.com/spring-boot-add-filter","title":"Use multiple HttpSessionIdResolver with Spring","body":"<p>As you mention above, based on the code of \"<a href=\"https://github.com/spring-projects/spring-session/blob/master/spring-session-core/src/main/java/org/springframework/session/web/http/SessionRepositoryFilter.java\" rel=\"nofollow noreferrer\">SessionRepositoryFilter</a>\" class, it is clear that it supports only a single \"HttpSessionIdResolver\". As a result, if you use only one \"SessionRepositoryFilter\", your only option seems to be the one that you suggested. Although this would work, it does feel a bit hacky and also, if your requirement is indeed to use the \"HTTPSessionIdResolver\" for everything located under \"/api**\", then it doesn't ensure that.</p>\n\n<p>Since \"SessionRepositoryFilter\" class is effectivelly a Filter, I suggest checking if you could create two Spring beans for the \"SessionRepositoryFilter\" class. One that will be used for all HTTP endpoints under the \"/api*\" pattern and another for all other paths. Then, you could use the \"HttpSessionIdResolver\" and \"CookieSessionIdResolver\" respectivelly. You can find an example for defining different filters based on URL patterns <a href=\"https://www.baeldung.com/spring-boot-add-filter\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":700209,"reputation":138,"user_id":589327,"accept_rate":75,"display_name":"Karamba"},"score":0,"creation_date":1596187204,"post_id":62855512,"comment_id":111738020,"body_markdown":"Sorry for the later answer. That is the solution I was searching for. Works perfect, thank you!","body":"Sorry for the later answer. That is the solution I was searching for. Works perfect, thank you!"}],"tags":[],"owner":{"account_id":196814,"reputation":4961,"user_id":440472,"accept_rate":74,"display_name":"fast-reflexes"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1594508950,"creation_date":1594508950,"answer_id":62855512,"question_id":61206434,"body_markdown":"After attempting the solution provided in the question (which works fine, to be honest), I also attempted to do this by providing two different filters. However, when `@EnableSpringHttpSession` is added, a `SessionRepositoryFilter` is added automatically and adding two more of those in the servlet filter chain seems odd. Therefore, I thought they would have to go in the security filter chain instead, which is good because then we can use the URL matching made there as well (instead of having to implement that elsewhere as well).\r\n\r\nSince other security filters use the `HttpSession`, we have to manually place the `SessionRepositoryFilter` first in this chain. This is what I came up with (in Kotlin) which works well for me:\r\n\r\n\r\n    @EnableWebSecurity\r\n    class SecurityConfig() {\r\n\r\n        private val sessionStore = ConcurrentHashMap&lt;String, Session&gt;()\r\n        private val sessionRepo = MapSessionRepository(sessionStore)\r\n\r\n        @Configuration\r\n        @Order(1)\r\n        inner class XAuthConfig(): WebSecurityConfigurerAdapter() {\r\n\r\n            override fun configure(http: HttpSecurity) {\r\n                http\r\n                    .requestMatchers()\r\n                        .antMatchers(&quot;/api**&quot;)\r\n                        .and()\r\n                    .addFilterBefore(\r\n                        SessionRepositoryFilter(sessionRepo).apply{\r\n                            setHttpSessionIdResolver(\r\n                                HeaderHttpSessionIdResolver.xAuthToken();\r\n                            )\r\n                        }, WebAsyncManagerIntegrationFilter::class.java)\r\n            }\r\n        }\r\n\r\n        @Configuration\r\n        @Order(2)\r\n        inner class DefaultConfig(): WebSecurityConfigurerAdapter() {\r\n\r\n            override fun configure(http: HttpSecurity) {\r\n                http\r\n                    .addFilterBefore(\r\n                        SessionRepositoryFilter(sessionRepo).apply{\r\n                            setHttpSessionIdResolver(\r\n                                CookieHttpSessionIdResolver()\r\n                            )\r\n                        }, WebAsyncManagerIntegrationFilter::class.java)\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n**Note** that the annotation `@EnableSpringHttpSession` has been removed. Instead, we add the `SessionRepositoryFilter`s manually before the `WebAsyncManagerIntegrationFilter`s (the first filter in the security filter chain). The function of the `SessionRepositoryFilter` is to replace the existing `HttpSession` with Spring&#39;s `HttpSession` which it will do no matter if we place it manually or if it&#39;s put in place automatically by means of autoconfiguration. As long as no other filter before the security filter chain makes use of the session, this should work out. Otherwise, some filter rearrangement might still do the trick.","title":"Use multiple HttpSessionIdResolver with Spring","body":"<p>After attempting the solution provided in the question (which works fine, to be honest), I also attempted to do this by providing two different filters. However, when <code>@EnableSpringHttpSession</code> is added, a <code>SessionRepositoryFilter</code> is added automatically and adding two more of those in the servlet filter chain seems odd. Therefore, I thought they would have to go in the security filter chain instead, which is good because then we can use the URL matching made there as well (instead of having to implement that elsewhere as well).</p>\n<p>Since other security filters use the <code>HttpSession</code>, we have to manually place the <code>SessionRepositoryFilter</code> first in this chain. This is what I came up with (in Kotlin) which works well for me:</p>\n<pre><code>@EnableWebSecurity\nclass SecurityConfig() {\n\n    private val sessionStore = ConcurrentHashMap&lt;String, Session&gt;()\n    private val sessionRepo = MapSessionRepository(sessionStore)\n\n    @Configuration\n    @Order(1)\n    inner class XAuthConfig(): WebSecurityConfigurerAdapter() {\n\n        override fun configure(http: HttpSecurity) {\n            http\n                .requestMatchers()\n                    .antMatchers(&quot;/api**&quot;)\n                    .and()\n                .addFilterBefore(\n                    SessionRepositoryFilter(sessionRepo).apply{\n                        setHttpSessionIdResolver(\n                            HeaderHttpSessionIdResolver.xAuthToken();\n                        )\n                    }, WebAsyncManagerIntegrationFilter::class.java)\n        }\n    }\n\n    @Configuration\n    @Order(2)\n    inner class DefaultConfig(): WebSecurityConfigurerAdapter() {\n\n        override fun configure(http: HttpSecurity) {\n            http\n                .addFilterBefore(\n                    SessionRepositoryFilter(sessionRepo).apply{\n                        setHttpSessionIdResolver(\n                            CookieHttpSessionIdResolver()\n                        )\n                    }, WebAsyncManagerIntegrationFilter::class.java)\n            }\n        }\n    }\n\n}\n</code></pre>\n<p><strong>Note</strong> that the annotation <code>@EnableSpringHttpSession</code> has been removed. Instead, we add the <code>SessionRepositoryFilter</code>s manually before the <code>WebAsyncManagerIntegrationFilter</code>s (the first filter in the security filter chain). The function of the <code>SessionRepositoryFilter</code> is to replace the existing <code>HttpSession</code> with Spring's <code>HttpSession</code> which it will do no matter if we place it manually or if it's put in place automatically by means of autoconfiguration. As long as no other filter before the security filter chain makes use of the session, this should work out. Otherwise, some filter rearrangement might still do the trick.</p>\n"},{"tags":[],"owner":{"account_id":953960,"reputation":2945,"user_id":979590,"accept_rate":38,"display_name":"Gabriel Belingueres"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670342319,"creation_date":1670342319,"answer_id":74705499,"question_id":61206434,"body_markdown":"I made it to work by creating a subclass of RedisHttpSessionConfiguration. Then you will have available a filter called `springHeaderSessionRepositoryFilter` which you can use to configure another filter with a different `filter-mapping` in your web app.\r\n\r\n    public class MyCustomRedisHttpSessionConfiguration extends RedisHttpSessionConfiguration {\r\n    \r\n          @Bean\r\n          public &lt;S extends Session&gt; SessionRepositoryFilter&lt;? extends Session&gt; springHeaderSessionRepositoryFilter(SessionRepository&lt;S&gt; sessionRepository) {\r\n            SessionRepositoryFilter&lt;S&gt; sessionRepositoryFilter = new SessionRepositoryFilter&lt;&gt;(sessionRepository);\r\n            sessionRepositoryFilter.setHttpSessionIdResolver(HeaderHttpSessionIdResolver.xAuthToken());\r\n            return sessionRepositoryFilter;\r\n          }\r\n        \r\n    }\r\n\r\n","title":"Use multiple HttpSessionIdResolver with Spring","body":"<p>I made it to work by creating a subclass of RedisHttpSessionConfiguration. Then you will have available a filter called <code>springHeaderSessionRepositoryFilter</code> which you can use to configure another filter with a different <code>filter-mapping</code> in your web app.</p>\n<pre><code>public class MyCustomRedisHttpSessionConfiguration extends RedisHttpSessionConfiguration {\n\n      @Bean\n      public &lt;S extends Session&gt; SessionRepositoryFilter&lt;? extends Session&gt; springHeaderSessionRepositoryFilter(SessionRepository&lt;S&gt; sessionRepository) {\n        SessionRepositoryFilter&lt;S&gt; sessionRepositoryFilter = new SessionRepositoryFilter&lt;&gt;(sessionRepository);\n        sessionRepositoryFilter.setHttpSessionIdResolver(HeaderHttpSessionIdResolver.xAuthToken());\n        return sessionRepositoryFilter;\n      }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":700209,"reputation":138,"user_id":589327,"accept_rate":75,"display_name":"Karamba"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2964,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":62855512,"answer_count":3,"score":8,"last_activity_date":1670342319,"creation_date":1586863023,"question_id":61206434,"body_markdown":"I want to use the HTTPSessionIdResolver for everything located under &quot;/api**&quot; and for everything else the standard CookieResolver. \r\n\r\nHow is this possible, so that the two configurations use different resolvers? With my current approach everything uses X-AUTH.\r\n\r\nI tried to understand the implementation within Spring and I end up in the SessionRepositoryFilter, but of this filter only one instance is created, so der exists only one resolver.\r\n\r\n```\r\n    @EnableWebSecurity\r\n    public class TestConfig {\r\n\r\n    @EnableSpringHttpSession\r\n    @Configuration\r\n    @Order(1)\r\n    public static class Abc extends WebSecurityConfigurerAdapter {\r\n\r\n        @Bean\r\n        @Primary\r\n        public HeaderHttpSessionIdResolver xAuth() {\r\n            return HeaderHttpSessionIdResolver.xAuthToken();\r\n        }\r\n\r\n        @Bean\r\n        @Primary\r\n        public MapSessionRepository mapSessionRepository(){\r\n            return new MapSessionRepository(new HashMap&lt;&gt;());\r\n        }\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.antMatcher(&quot;/service/json/**&quot;)\r\n                .authorizeRequests()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .httpBasic()\r\n                .and()\r\n                .csrf()\r\n                .disable();\r\n        }\r\n\r\n    }\r\n\r\n    @EnableSpringHttpSession\r\n    @Configuration\r\n    @Order(2)\r\n    public static class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n        @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\r\n        @Bean\r\n        @Primary\r\n        public DataSource dataSource() {\r\n            return DataSourceBuilder\r\n                    .create()\r\n                    .build();\r\n        }\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.authorizeRequests()\r\n                .antMatchers(&quot;/css/**&quot;, &quot;/user/registration&quot;, &quot;/webfonts/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .formLogin()\r\n                .loginPage(&quot;/login&quot;)\r\n                .permitAll()\r\n                .and()\r\n                .logout()\r\n                .permitAll();\r\n        }\r\n\r\n        @Bean\r\n        public BCryptPasswordEncoder bcrypt() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n\r\n        @Bean\r\n        public JdbcUserDetailsManager userDetailsManager() {\r\n            JdbcUserDetailsManager manager = new UserDetailsManager(dataSource());\r\n            manager.setUsersByUsernameQuery(&quot;select username,password,enabled from users where username=?&quot;);\r\n            manager.setAuthoritiesByUsernameQuery(&quot;select username,authority from authorities where username = ?&quot;);\r\n            return manager;\r\n        }\r\n\r\n        @Autowired\r\n        public void initialize(AuthenticationManagerBuilder builder) throws Exception {\r\n            builder.userDetailsService(userDetailsManager()).passwordEncoder(bcrypt());\r\n        }\r\n     }\r\n  }\r\n```\r\nI could move the logic into one resolver which delegates the work to the existing resolvers, but this seems hacky?\r\n\r\n```\r\npublic class SmartHttpSessionIdResolver implements HttpSessionIdResolver {\r\n\r\n    private static final String HEADER_X_AUTH_TOKEN = &quot;X-Auth-Token&quot;;\r\n    private static final CookieHttpSessionIdResolver cookie = new CookieHttpSessionIdResolver();\r\n    private static final HeaderHttpSessionIdResolver xauth = HeaderHttpSessionIdResolver.xAuthToken();\r\n\r\n    @Override\r\n    public List&lt;String&gt; resolveSessionIds(HttpServletRequest request) {\r\n        if (isXAuth(request)) {\r\n            return xauth.resolveSessionIds(request);\r\n        }\r\n        return cookie.resolveSessionIds(request);\r\n    }\r\n\r\n    @Override\r\n    public void setSessionId(HttpServletRequest request, HttpServletResponse response, String sessionId) {\r\n        if (isXAuth(request)) {\r\n            xauth.setSessionId(request, response, sessionId);\r\n        } else {\r\n            cookie.setSessionId(request, response, sessionId);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void expireSession(HttpServletRequest request, HttpServletResponse response) {\r\n        if (isXAuth(request)) {\r\n            xauth.expireSession(request, response);\r\n        } else {\r\n            cookie.expireSession(request, response);\r\n        }\r\n    }\r\n\r\n    private boolean isXAuth(HttpServletRequest request) {\r\n        return request.getHeader(HEADER_X_AUTH_TOKEN) != null;\r\n    }\r\n}\r\n```","title":"Use multiple HttpSessionIdResolver with Spring","body":"<p>I want to use the HTTPSessionIdResolver for everything located under \"/api**\" and for everything else the standard CookieResolver. </p>\n\n<p>How is this possible, so that the two configurations use different resolvers? With my current approach everything uses X-AUTH.</p>\n\n<p>I tried to understand the implementation within Spring and I end up in the SessionRepositoryFilter, but of this filter only one instance is created, so der exists only one resolver.</p>\n\n<pre><code>    @EnableWebSecurity\n    public class TestConfig {\n\n    @EnableSpringHttpSession\n    @Configuration\n    @Order(1)\n    public static class Abc extends WebSecurityConfigurerAdapter {\n\n        @Bean\n        @Primary\n        public HeaderHttpSessionIdResolver xAuth() {\n            return HeaderHttpSessionIdResolver.xAuthToken();\n        }\n\n        @Bean\n        @Primary\n        public MapSessionRepository mapSessionRepository(){\n            return new MapSessionRepository(new HashMap&lt;&gt;());\n        }\n\n        @Override\n        protected void configure(HttpSecurity http) throws Exception {\n            http.antMatcher(\"/service/json/**\")\n                .authorizeRequests()\n                .anyRequest().authenticated()\n                .and()\n                .httpBasic()\n                .and()\n                .csrf()\n                .disable();\n        }\n\n    }\n\n    @EnableSpringHttpSession\n    @Configuration\n    @Order(2)\n    public static class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n        @ConfigurationProperties(prefix = \"spring.datasource\")\n        @Bean\n        @Primary\n        public DataSource dataSource() {\n            return DataSourceBuilder\n                    .create()\n                    .build();\n        }\n\n        @Override\n        protected void configure(HttpSecurity http) throws Exception {\n            http.authorizeRequests()\n                .antMatchers(\"/css/**\", \"/user/registration\", \"/webfonts/**\").permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .formLogin()\n                .loginPage(\"/login\")\n                .permitAll()\n                .and()\n                .logout()\n                .permitAll();\n        }\n\n        @Bean\n        public BCryptPasswordEncoder bcrypt() {\n            return new BCryptPasswordEncoder();\n        }\n\n        @Bean\n        public JdbcUserDetailsManager userDetailsManager() {\n            JdbcUserDetailsManager manager = new UserDetailsManager(dataSource());\n            manager.setUsersByUsernameQuery(\"select username,password,enabled from users where username=?\");\n            manager.setAuthoritiesByUsernameQuery(\"select username,authority from authorities where username = ?\");\n            return manager;\n        }\n\n        @Autowired\n        public void initialize(AuthenticationManagerBuilder builder) throws Exception {\n            builder.userDetailsService(userDetailsManager()).passwordEncoder(bcrypt());\n        }\n     }\n  }\n</code></pre>\n\n<p>I could move the logic into one resolver which delegates the work to the existing resolvers, but this seems hacky?</p>\n\n<pre><code>public class SmartHttpSessionIdResolver implements HttpSessionIdResolver {\n\n    private static final String HEADER_X_AUTH_TOKEN = \"X-Auth-Token\";\n    private static final CookieHttpSessionIdResolver cookie = new CookieHttpSessionIdResolver();\n    private static final HeaderHttpSessionIdResolver xauth = HeaderHttpSessionIdResolver.xAuthToken();\n\n    @Override\n    public List&lt;String&gt; resolveSessionIds(HttpServletRequest request) {\n        if (isXAuth(request)) {\n            return xauth.resolveSessionIds(request);\n        }\n        return cookie.resolveSessionIds(request);\n    }\n\n    @Override\n    public void setSessionId(HttpServletRequest request, HttpServletResponse response, String sessionId) {\n        if (isXAuth(request)) {\n            xauth.setSessionId(request, response, sessionId);\n        } else {\n            cookie.setSessionId(request, response, sessionId);\n        }\n    }\n\n    @Override\n    public void expireSession(HttpServletRequest request, HttpServletResponse response) {\n        if (isXAuth(request)) {\n            xauth.expireSession(request, response);\n        } else {\n            cookie.expireSession(request, response);\n        }\n    }\n\n    private boolean isXAuth(HttpServletRequest request) {\n        return request.getHeader(HEADER_X_AUTH_TOKEN) != null;\n    }\n}\n</code></pre>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":2366187,"reputation":60172,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1371832757,"post_id":17240200,"comment_id":24981366,"body_markdown":"You would have to join the `List` yourself and send it as a `String`. The JSON spec says arrays are csv.","body":"You would have to join the <code>List</code> yourself and send it as a <code>String</code>. The JSON spec says arrays are csv."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1371833458,"post_id":17240200,"comment_id":24981741,"body_markdown":"You&#39;ll probably need to `@JsonSerialize(contentUsing=someClass.class)` here","body":"You&#39;ll probably need to <code>@JsonSerialize(contentUsing=someClass.class)</code> here"},{"owner":{"account_id":83762,"reputation":1332,"user_id":234644,"accept_rate":73,"display_name":"3coins"},"score":0,"creation_date":1371834917,"post_id":17240200,"comment_id":24982468,"body_markdown":"Thanks. I am going to try @JsonSerialize annotation","body":"Thanks. I am going to try @JsonSerialize annotation"}],"answers":[{"tags":[],"owner":{"account_id":16257994,"reputation":26,"user_id":12228925,"display_name":"Roman Lymar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670341982,"creation_date":1670341982,"answer_id":74705412,"question_id":17240200,"body_markdown":"Try to use `String.join(&quot;;&quot;, list)`","title":"Jackson JSON Parser - Specifying delimiter to serialize List of String","body":"<p>Try to use <code>String.join(&quot;;&quot;, list)</code></p>\n"}],"owner":{"account_id":83762,"reputation":1332,"user_id":234644,"accept_rate":73,"display_name":"3coins"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1290,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670341982,"creation_date":1371832597,"question_id":17240200,"body_markdown":"By default, a list of string &lt;code&gt;List&amp;lt;String&amp;gt;&lt;/code&gt; will be serialized as &quot;a,b,c&quot;, I want to serialize the list as &quot;a;b;c&quot; with semicolon as the delimiter. This only has to be on one property in a class. How can I do this?","title":"Jackson JSON Parser - Specifying delimiter to serialize List of String","body":"<p>By default, a list of string <code>List&lt;String&gt;</code> will be serialized as \"a,b,c\", I want to serialize the list as \"a;b;c\" with semicolon as the delimiter. This only has to be on one property in a class. How can I do this?</p>\n"},{"tags":["java","multithreading","jaxp"],"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1332442104,"post_id":9828254,"comment_id":12522598,"body_markdown":"possible duplicate of [Is DocumentBuilder.parse() thread safe?](http://stackoverflow.com/questions/56737/is-documentbuilder-parse-thread-safe)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/56737/is-documentbuilder-parse-thread-safe\">Is DocumentBuilder.parse() thread safe?</a>"},{"owner":{"account_id":13566,"reputation":48845,"user_id":27358,"accept_rate":76,"display_name":"David Moles"},"score":6,"creation_date":1332459966,"post_id":9828254,"comment_id":12528250,"body_markdown":"Not a duplicate, the question is whether it&#39;s safe for multiple threads to *construct* DocumentBuilders using the same factory, not whether it&#39;s safe to try to parse multiple documents with the same builder.","body":"Not a duplicate, the question is whether it&#39;s safe for multiple threads to <i>construct</i> DocumentBuilders using the same factory, not whether it&#39;s safe to try to parse multiple documents with the same builder."},{"owner":{"account_id":1418089,"reputation":2926,"user_id":1343275,"accept_rate":57,"display_name":"mukund"},"score":0,"creation_date":1626855845,"post_id":9828254,"comment_id":121000698,"body_markdown":"@DavidMoles did you reach a conclusion? the Java 8 documentation says `Once an application has obtained a reference to a DocumentBuilderFactory it can use the factory to configure and obtain parser instances.`","body":"@DavidMoles did you reach a conclusion? the Java 8 documentation says <code>Once an application has obtained a reference to a DocumentBuilderFactory it can use the factory to configure and obtain parser instances.</code>"},{"owner":{"account_id":13566,"reputation":48845,"user_id":27358,"accept_rate":76,"display_name":"David Moles"},"score":0,"creation_date":1626915055,"post_id":9828254,"comment_id":121021470,"body_markdown":"@mukund I never did, but I poked around the source code a bit and I&#39;d say it&#39;s probably not safe. See the [answer](https://stackoverflow.com/a/68477952/27358) I just added.","body":"@mukund I never did, but I poked around the source code a bit and I&#39;d say it&#39;s probably not safe. See the <a href=\"https://stackoverflow.com/a/68477952/27358\">answer</a> I just added."}],"answers":[{"tags":[],"owner":{"account_id":1345781,"reputation":144,"user_id":1286570,"display_name":"Pavel Rozenblioum"},"comment_count":0,"down_vote_count":7,"up_vote_count":0,"is_accepted":false,"score":-7,"last_activity_date":1332440895,"creation_date":1332440895,"answer_id":9828316,"question_id":9828254,"body_markdown":"Since it would&#39;ve been in extremely poor taste to make it thread safe without telling my money is that it&#39;s still unsafe. You can test this yourself using breakpoints.","title":"Is DocumentBuilderFactory thread-safe in Java 5+?","body":"<p>Since it would've been in extremely poor taste to make it thread safe without telling my money is that it's still unsafe. You can test this yourself using breakpoints.</p>\n"},{"comments":[{"owner":{"account_id":191029,"reputation":163,"user_id":431345,"display_name":"Fl&#225;vio Etrusco"},"score":4,"creation_date":1582132235,"post_id":54028545,"comment_id":106674771,"body_markdown":"A method doesn&#39;t need to be &#39;synchronized&#39; to be thread-safe.","body":"A method doesn&#39;t need to be &#39;synchronized&#39; to be thread-safe."}],"tags":[],"owner":{"account_id":12501538,"reputation":838,"user_id":9099864,"display_name":"bdzzaid"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1546543356,"creation_date":1546543356,"answer_id":54028545,"question_id":9828254,"body_markdown":"According to the documentation of the singleton [DocumentBuilderFactory][1] the **newInstance** method is not **sychronized** and then, the DocumentBuilderFactory is still not a thread safe in Java 8... Neither in [Java 11][2]. Actually, the constructor didn&#39;t change since Java 1.4.\n\n\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/xml/parsers/DocumentBuilderFactory.html\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.xml/javax/xml/parsers/DocumentBuilderFactory.html ","title":"Is DocumentBuilderFactory thread-safe in Java 5+?","body":"<p>According to the documentation of the singleton <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/xml/parsers/DocumentBuilderFactory.html\" rel=\"nofollow noreferrer\">DocumentBuilderFactory</a> the <strong>newInstance</strong> method is not <strong>sychronized</strong> and then, the DocumentBuilderFactory is still not a thread safe in Java 8... Neither in <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.xml/javax/xml/parsers/DocumentBuilderFactory.html\" rel=\"nofollow noreferrer\">Java 11</a>. Actually, the constructor didn't change since Java 1.4.</p>\n"},{"tags":[],"owner":{"account_id":13566,"reputation":48845,"user_id":27358,"accept_rate":76,"display_name":"David Moles"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1626915020,"creation_date":1626915020,"answer_id":68477952,"question_id":9828254,"body_markdown":"I haven&#39;t actually looked at this in some time, but looking at the source for [`DocumentBuilderFactoryImpl`](https://github.com/openjdk/jdk11u/blob/master/src/java.xml/share/classes/com/sun/org/apache/xerces/internal/jaxp/DocumentBuilderFactoryImpl.java#L52-L79) and [`DocumentBuilderImpl`](https://github.com/openjdk/jdk11u/blob/master/src/java.xml/share/classes/com/sun/org/apache/xerces/internal/jaxp/DocumentBuilderImpl.java#L134-L239) it looks to me like it&#39;s probably a bad idea. The factory has a bunch of internal state, and the builder modifies that state during its construction -- see [the call to `setDocumentBuilderFactoryAttributes`](https://github.com/openjdk/jdk11u/blob/master/src/java.xml/share/classes/com/sun/org/apache/xerces/internal/jaxp/DocumentBuilderImpl.java#L235) in the `DocumentBuilderImpl` constructor.\r\n\r\nIf you knew you were never going to pass in those attributes, you might be able to get away with it, but to be safe I&#39;d want to wrap the whole thing in some other object that doesn&#39;t expose the dangerous bits, and I think it would be easier just to make sure you have a separate factory per thread.","title":"Is DocumentBuilderFactory thread-safe in Java 5+?","body":"<p>I haven't actually looked at this in some time, but looking at the source for <a href=\"https://github.com/openjdk/jdk11u/blob/master/src/java.xml/share/classes/com/sun/org/apache/xerces/internal/jaxp/DocumentBuilderFactoryImpl.java#L52-L79\" rel=\"nofollow noreferrer\"><code>DocumentBuilderFactoryImpl</code></a> and <a href=\"https://github.com/openjdk/jdk11u/blob/master/src/java.xml/share/classes/com/sun/org/apache/xerces/internal/jaxp/DocumentBuilderImpl.java#L134-L239\" rel=\"nofollow noreferrer\"><code>DocumentBuilderImpl</code></a> it looks to me like it's probably a bad idea. The factory has a bunch of internal state, and the builder modifies that state during its construction -- see <a href=\"https://github.com/openjdk/jdk11u/blob/master/src/java.xml/share/classes/com/sun/org/apache/xerces/internal/jaxp/DocumentBuilderImpl.java#L235\" rel=\"nofollow noreferrer\">the call to <code>setDocumentBuilderFactoryAttributes</code></a> in the <code>DocumentBuilderImpl</code> constructor.</p>\n<p>If you knew you were never going to pass in those attributes, you might be able to get away with it, but to be safe I'd want to wrap the whole thing in some other object that doesn't expose the dangerous bits, and I think it would be easier just to make sure you have a separate factory per thread.</p>\n"},{"tags":[],"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670341653,"creation_date":1670340571,"answer_id":74705090,"question_id":9828254,"body_markdown":"Looking into source code, the `DocumentBuilderFactory` is not thread-safe in a way that you could not manipulate it from multiple threads. However, if you create it once, configure with features/attributes/etc, you could pass it (with happens-before) into multiple threads and invoke `newDocumentBuilder` concurrenly.\r\n\r\nIt is a similar story as with e.g. simple collections like ArrayList. If you construct and populate it safely from a single thread, you could later _read_ it from multiple threads, but you are not allowed to _modify_ it without synchronisation.\r\n","title":"Is DocumentBuilderFactory thread-safe in Java 5+?","body":"<p>Looking into source code, the <code>DocumentBuilderFactory</code> is not thread-safe in a way that you could not manipulate it from multiple threads. However, if you create it once, configure with features/attributes/etc, you could pass it (with happens-before) into multiple threads and invoke <code>newDocumentBuilder</code> concurrenly.</p>\n<p>It is a similar story as with e.g. simple collections like ArrayList. If you construct and populate it safely from a single thread, you could later <em>read</em> it from multiple threads, but you are not allowed to <em>modify</em> it without synchronisation.</p>\n"}],"owner":{"account_id":13566,"reputation":48845,"user_id":27358,"accept_rate":76,"display_name":"David Moles"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11590,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":68477952,"answer_count":4,"score":19,"last_activity_date":1670341653,"creation_date":1332440636,"question_id":9828254,"body_markdown":"The [Java 1.4 doc](http://docs.oracle.com/javase/1.4.2/docs/api/javax/xml/parsers/DocumentBuilderFactory.html) for `javax.xml.parsers.DocumentBuilderFactory` states in no uncertain terms:\r\n\r\n&gt; An implementation of the DocumentBuilderFactory class is NOT guaranteed to be thread safe. It is up to the user application to make sure about the use of the DocumentBuilderFactory from more than one thread. Alternatively the application can have one instance of the DocumentBuilderFactory per thread. An application can use the same instance of the factory to obtain one or more instances of the DocumentBuilder provided the instance of the factory isn&#39;t being used in more than one thread at a time.\r\n\r\nThe [Java 5](http://docs.oracle.com/javase/1.5.0/docs/api/javax/xml/parsers/DocumentBuilderFactory.html) and [Java 6](http://docs.oracle.com/javase/6/docs/api/javax/xml/parsers/DocumentBuilderFactory.html) docs, however, say nothing of the kind. Is `DocumentBuilderFactory` thread-safe now, or did Sun just decide the warning was overkill and people should know better?","title":"Is DocumentBuilderFactory thread-safe in Java 5+?","body":"<p>The <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/javax/xml/parsers/DocumentBuilderFactory.html\" rel=\"noreferrer\">Java 1.4 doc</a> for <code>javax.xml.parsers.DocumentBuilderFactory</code> states in no uncertain terms:</p>\n\n<blockquote>\n  <p>An implementation of the DocumentBuilderFactory class is NOT guaranteed to be thread safe. It is up to the user application to make sure about the use of the DocumentBuilderFactory from more than one thread. Alternatively the application can have one instance of the DocumentBuilderFactory per thread. An application can use the same instance of the factory to obtain one or more instances of the DocumentBuilder provided the instance of the factory isn't being used in more than one thread at a time.</p>\n</blockquote>\n\n<p>The <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/javax/xml/parsers/DocumentBuilderFactory.html\" rel=\"noreferrer\">Java 5</a> and <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/xml/parsers/DocumentBuilderFactory.html\" rel=\"noreferrer\">Java 6</a> docs, however, say nothing of the kind. Is <code>DocumentBuilderFactory</code> thread-safe now, or did Sun just decide the warning was overkill and people should know better?</p>\n"},{"tags":["java","html","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1595411455,"post_id":63030841,"comment_id":111462564,"body_markdown":"Ideally you do this in the controller which should prepare the model (instead of putting this logic in the view). If you really want you should be able to do something like `${T(Math).max(8,12)}` as you can use SpEL in there. But as mentioned you probably should put this in the controller and only leave the rendering to the view.","body":"Ideally you do this in the controller which should prepare the model (instead of putting this logic in the view). If you really want you should be able to do something like <code>${T(Math).max(8,12)}</code> as you can use SpEL in there. But as mentioned you probably should put this in the controller and only leave the rendering to the view."}],"answers":[{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595410309,"creation_date":1595410309,"answer_id":63031125,"question_id":63030841,"body_markdown":"I don&#39;t think there is such a function in thymeleaf but you could easily implement conditionals for the same purpose\r\n\r\n     &lt;p th:text=&quot;8 &gt; 12 ? 8 : 12&quot;&gt;&lt;/p&gt;\r\n\r\nsame can be achieved with if/unless\r\n\r\n    &lt;p th:if = &quot;${foo} &gt; ${bar}&quot; th:text = ${foo}&gt;&lt;/p&gt;\r\n    &lt;p th:if = &quot;${foo} &gt; ${bar}&quot; th:text = ${bar}&gt;&lt;/p&gt;\r\n\r\nthere is even switch in thymeleaf baeldung.com/spring-thymeleaf-conditionals\r\n\r\nIf really neded you can create a class with all the necessary funcitonality in Java and pass that class as a variable to Thymeleaf in model.","title":"How to use math.max in thymeleaf to find maximum number?","body":"<p>I don't think there is such a function in thymeleaf but you could easily implement conditionals for the same purpose</p>\n<pre><code> &lt;p th:text=&quot;8 &gt; 12 ? 8 : 12&quot;&gt;&lt;/p&gt;\n</code></pre>\n<p>same can be achieved with if/unless</p>\n<pre><code>&lt;p th:if = &quot;${foo} &gt; ${bar}&quot; th:text = ${foo}&gt;&lt;/p&gt;\n&lt;p th:if = &quot;${foo} &gt; ${bar}&quot; th:text = ${bar}&gt;&lt;/p&gt;\n</code></pre>\n<p>there is even switch in thymeleaf baeldung.com/spring-thymeleaf-conditionals</p>\n<p>If really neded you can create a class with all the necessary funcitonality in Java and pass that class as a variable to Thymeleaf in model.</p>\n"},{"comments":[{"owner":{"account_id":5955558,"reputation":714,"user_id":4682359,"display_name":"Chris Ociepa"},"score":0,"creation_date":1670339939,"post_id":63039560,"comment_id":131850917,"body_markdown":"It was not working for me without the Math class package. This is working for me: `th:with=&quot;maxNumber=${T(java.lang.Math).max(8,12)}&quot;`","body":"It was not working for me without the Math class package. This is working for me: <code>th:with=&quot;maxNumber=${T(java.lang.Math).max(8,12)}&quot;</code>"},{"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"score":0,"creation_date":1670341519,"post_id":63039560,"comment_id":131851512,"body_markdown":"Yeah, I believe this was a change to how security works with Thymeleaf... I will update this answer.","body":"Yeah, I believe this was a change to how security works with Thymeleaf... I will update this answer."}],"tags":[],"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670341606,"creation_date":1595437481,"answer_id":63039560,"question_id":63030841,"body_markdown":"As commented, while there is no built in function in Thymeleaf, you can use the [special `T(...)` operator][1] to call static methods (allowing you to use Java&#39;s `Math.max(...)` in your Thymeleaf).\r\n\r\n    &lt;div th:with=&quot;maxNumber=${T(java.lang.Math).max(8,12)}&quot;&gt;\r\n      &lt;p th:text=${maxNumber}&gt;&lt;/p&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#expressions-types","title":"How to use math.max in thymeleaf to find maximum number?","body":"<p>As commented, while there is no built in function in Thymeleaf, you can use the <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#expressions-types\" rel=\"nofollow noreferrer\">special <code>T(...)</code> operator</a> to call static methods (allowing you to use Java's <code>Math.max(...)</code> in your Thymeleaf).</p>\n<pre><code>&lt;div th:with=&quot;maxNumber=${T(java.lang.Math).max(8,12)}&quot;&gt;\n  &lt;p th:text=${maxNumber}&gt;&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651780741,"creation_date":1651780741,"answer_id":72132974,"question_id":63030841,"body_markdown":"If you are using the Spring dependency for Thymeleaf (which I couldn&#39;t, so I couldn&#39;t directly test this), looks like the utility logic (max number in this case) could be encapsulated in a Spring Bean to be referenced in Thymeleaf:\r\n\r\nhttps://www.thymeleaf.org/doc/articles/springmvcaccessdata.html#spring-beans\r\n\r\n```\r\n&lt;div th:text=&quot;${@urlService.getApplicationUrl()}&quot;&gt;...&lt;/div&gt;\r\n```\r\n\r\n```\r\n@Configuration\r\npublic class MyConfiguration {\r\n  @Bean(name = &quot;urlService&quot;)\r\n  public UrlService urlService() {\r\n    return () -&gt; &quot;domain.com/myapp&quot;;\r\n  }\r\n}\r\n\r\npublic interface UrlService {\r\n  String getApplicationUrl();\r\n}\r\n```","title":"How to use math.max in thymeleaf to find maximum number?","body":"<p>If you are using the Spring dependency for Thymeleaf (which I couldn't, so I couldn't directly test this), looks like the utility logic (max number in this case) could be encapsulated in a Spring Bean to be referenced in Thymeleaf:</p>\n<p><a href=\"https://www.thymeleaf.org/doc/articles/springmvcaccessdata.html#spring-beans\" rel=\"nofollow noreferrer\">https://www.thymeleaf.org/doc/articles/springmvcaccessdata.html#spring-beans</a></p>\n<pre><code>&lt;div th:text=&quot;${@urlService.getApplicationUrl()}&quot;&gt;...&lt;/div&gt;\n</code></pre>\n<pre><code>@Configuration\npublic class MyConfiguration {\n  @Bean(name = &quot;urlService&quot;)\n  public UrlService urlService() {\n    return () -&gt; &quot;domain.com/myapp&quot;;\n  }\n}\n\npublic interface UrlService {\n  String getApplicationUrl();\n}\n</code></pre>\n"}],"owner":{"account_id":15260943,"reputation":323,"user_id":11010992,"display_name":"Insane DA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3244,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1670341606,"creation_date":1595409321,"question_id":63030841,"body_markdown":"While trying to use max function in thymeleaf I got OGNL expressionn everytime. I&#39;m not even sure if we can use functions like max/min in thymeleaf. Tried to look for it on the documentation, but couldn&#39;t find anything resourceful. This is the code where I want to use math.max :\r\n\r\n```\r\n  &lt;div th:with=&quot;maxNumber=${#max(8,12)}&quot;&gt;\r\n     &lt;p th:text=${maxNumber}&gt;&lt;/p&gt;\r\n  &lt;/div&gt;\r\n```\r\neven tried to use it in this way also : `   &lt;div th:with=&quot;maxNumber=${max(8,12)}&quot;&gt;` that gave the same error.","title":"How to use math.max in thymeleaf to find maximum number?","body":"<p>While trying to use max function in thymeleaf I got OGNL expressionn everytime. I'm not even sure if we can use functions like max/min in thymeleaf. Tried to look for it on the documentation, but couldn't find anything resourceful. This is the code where I want to use math.max :</p>\n<pre><code>  &lt;div th:with=&quot;maxNumber=${#max(8,12)}&quot;&gt;\n     &lt;p th:text=${maxNumber}&gt;&lt;/p&gt;\n  &lt;/div&gt;\n</code></pre>\n<p>even tried to use it in this way also : <code>   &lt;div th:with=&quot;maxNumber=${max(8,12)}&quot;&gt;</code> that gave the same error.</p>\n"},{"tags":["java","android","autofill"],"answers":[{"comments":[{"owner":{"account_id":4766709,"reputation":16,"user_id":3852656,"accept_rate":50,"display_name":"Mlungisi Ndlela"},"score":0,"creation_date":1631367123,"post_id":69140823,"comment_id":122205642,"body_markdown":"Thanks, but what I meant was to be able to identify the foreground App. Let me continue with the Facebook example as above. Let say a user had been using my extension to login to his/her Facebook account on the computer web browser, now the user had just got a new phone and had installed Facebook but has not yet logged in to it because the user don&#39;t want to type the information but want my Auto-fill service to fill it automatically. Now the question is how can I identify that the App that is open and has a login form is Facebook?","body":"Thanks, but what I meant was to be able to identify the foreground App. Let me continue with the Facebook example as above. Let say a user had been using my extension to login to his/her Facebook account on the computer web browser, now the user had just got a new phone and had installed Facebook but has not yet logged in to it because the user don&#39;t want to type the information but want my Auto-fill service to fill it automatically. Now the question is how can I identify that the App that is open and has a login form is Facebook?"}],"tags":[],"owner":{"account_id":18904088,"reputation":117,"user_id":13791565,"display_name":"Vaibhav"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670341471,"creation_date":1631344059,"answer_id":69140823,"question_id":69139331,"body_markdown":"You cannot detect an App launch in Android.\r\nHowever, you can get the list of currently open apps using [ActivityManager][1] class as shown below:\r\n\r\n```\r\nActivityManager activityManager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);\r\nList&lt;ActivityManager.RunningAppProcessInfo&gt; runningAppProcessesList = activityManager.getRunningAppProcesses();\r\n\r\n```\r\n\r\nThen check if the app you are looking for is on the list.\r\n```\r\nint size = runningAppProcessesList.size();\r\nfor (int i = 0; i &lt; size; i++) \r\n{\r\n    ActivityManager.RunningAppProcessInfo processInfo = runningAppProcessesList.get(i);\r\n \r\n    if(processInfo.processName.equals(APPNAME)) {\r\n       //user has this app\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://developer.android.com/reference/android/app/ActivityManager.html","title":"Is there a way to identify the Apps names?","body":"<p>You cannot detect an App launch in Android.\nHowever, you can get the list of currently open apps using <a href=\"https://developer.android.com/reference/android/app/ActivityManager.html\" rel=\"nofollow noreferrer\">ActivityManager</a> class as shown below:</p>\n<pre><code>ActivityManager activityManager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);\nList&lt;ActivityManager.RunningAppProcessInfo&gt; runningAppProcessesList = activityManager.getRunningAppProcesses();\n\n</code></pre>\n<p>Then check if the app you are looking for is on the list.</p>\n<pre><code>int size = runningAppProcessesList.size();\nfor (int i = 0; i &lt; size; i++) \n{\n    ActivityManager.RunningAppProcessInfo processInfo = runningAppProcessesList.get(i);\n \n    if(processInfo.processName.equals(APPNAME)) {\n       //user has this app\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18904088,"reputation":117,"user_id":13791565,"display_name":"Vaibhav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631368224,"creation_date":1631368224,"answer_id":69143612,"question_id":69139331,"body_markdown":"The above code snippet will work for the background apps.\r\nTo check if the app is running in the foreground, use the following code:   \r\n\r\n```\r\npublic static boolean isForeground(Context context, String myPackage){\r\n    ActivityManager manager = (ActivityManager) context.getSystemService(ACTIVITY_SERVICE);\r\n    List&lt; ActivityManager.RunningTaskInfo &gt; runningTaskInfo = manager.getRunningTasks(1); \r\n\r\n    ComponentName componentInfo = runningTaskInfo.get(0).topActivity;\r\n    if(componentInfo.getPackageName().equals(myPackage)) {\r\n        return true;\r\n    }       \r\n    return false;\r\n}\r\n```\r\nYou just need to know the package name of the desired app.\r\nAnd since you wanna know about the auto-filling of the form, you may use [Autofill Service in Android][1].\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/text/autofill-services","title":"Is there a way to identify the Apps names?","body":"<p>The above code snippet will work for the background apps.\nTo check if the app is running in the foreground, use the following code:</p>\n<pre><code>public static boolean isForeground(Context context, String myPackage){\n    ActivityManager manager = (ActivityManager) context.getSystemService(ACTIVITY_SERVICE);\n    List&lt; ActivityManager.RunningTaskInfo &gt; runningTaskInfo = manager.getRunningTasks(1); \n\n    ComponentName componentInfo = runningTaskInfo.get(0).topActivity;\n    if(componentInfo.getPackageName().equals(myPackage)) {\n        return true;\n    }       \n    return false;\n}\n</code></pre>\n<p>You just need to know the package name of the desired app.\nAnd since you wanna know about the auto-filling of the form, you may use <a href=\"https://developer.android.com/guide/topics/text/autofill-services\" rel=\"nofollow noreferrer\">Autofill Service in Android</a>.</p>\n"}],"owner":{"account_id":4766709,"reputation":16,"user_id":3852656,"accept_rate":50,"display_name":"Mlungisi Ndlela"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670341471,"creation_date":1631323552,"question_id":69139331,"body_markdown":"I&#39;m developing a service with Auto-filling on third-party Apps forms. Now I need to know if there&#39;s a way to identify the third-party App name.\r\n\r\nThe reason for this is that I have a working web extension which already has the form information to be filled so now I want to also fill with these data if the user opens the same company Apps like for example a user opens Facebook or Messanger and when it show form my service will check if this user has already stored any data for Facebook or when the data is from the App and if the user let me save it for later user on other devices and platforms.\r\n\r\nIs it possible? I saw as if the overly service or filling service just generalize and I&#39;m not sure if I can group by App names based on the App the data was taken from.","title":"Is there a way to identify the Apps names?","body":"<p>I'm developing a service with Auto-filling on third-party Apps forms. Now I need to know if there's a way to identify the third-party App name.</p>\n<p>The reason for this is that I have a working web extension which already has the form information to be filled so now I want to also fill with these data if the user opens the same company Apps like for example a user opens Facebook or Messanger and when it show form my service will check if this user has already stored any data for Facebook or when the data is from the App and if the user let me save it for later user on other devices and platforms.</p>\n<p>Is it possible? I saw as if the overly service or filling service just generalize and I'm not sure if I can group by App names based on the App the data was taken from.</p>\n"},{"tags":["java","xml","xslt"],"comments":[{"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"score":4,"creation_date":1449837396,"post_id":19889132,"comment_id":56191247,"body_markdown":"**This error is not particular to XSLT; it relates to XML parsing in general.**  Check not just your main XSLT file, but also any included/imported XSLT files (`../header.xsl`) as well as the XML input document being transformed, *[for each of the **three** possibilities I list in my answer below](http://stackoverflow.com/a/19898942/290085)*.","body":"<b>This error is not particular to XSLT; it relates to XML parsing in general.</b>  Check not just your main XSLT file, but also any included/imported XSLT files (<code>..&#47;header.xsl</code>) as well as the XML input document being transformed, <i><a href=\"http://stackoverflow.com/a/19898942/290085\">for each of the <b>three</b> possibilities I list in my answer below</a></i>."},{"owner":{"account_id":1771099,"reputation":2189,"user_id":1615830,"accept_rate":38,"display_name":"Dinidu Hewage"},"score":3,"creation_date":1620090967,"post_id":19889132,"comment_id":119092892,"body_markdown":"In my experience, there was a new empty line added to the beginning of the file accidentally. After removing that it worked fine. So I agree with the first comment.","body":"In my experience, there was a new empty line added to the beginning of the file accidentally. After removing that it worked fine. So I agree with the first comment."}],"answers":[{"comments":[{"owner":{"account_id":2029649,"reputation":955,"user_id":2062207,"accept_rate":64,"display_name":"user2062207"},"score":0,"creation_date":1415719668,"post_id":19898942,"comment_id":42295754,"body_markdown":"For a stray &lt;?xml, how would you actually go about iterating through the xml file to find it? Like would using something like sax or stax parsers work fine (tried doing it with stax but it doesn&#39;t recognise it)","body":"For a stray &lt;?xml, how would you actually go about iterating through the xml file to find it? Like would using something like sax or stax parsers work fine (tried doing it with stax but it doesn&#39;t recognise it)"},{"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"score":0,"creation_date":1415726456,"post_id":19898942,"comment_id":42299920,"body_markdown":"To eliminate a stray XML declaration, you have to treat the file as text, not XML, because an extra XML declaration prevents the XML from being [**well-formed**](http://stackoverflow.com/a/25830482/290085).  Use a text editor or open the file programmatically and operate on it as *text* to eliminate the stray **`&lt;?xml ?&gt;`** declaration *before* treating it as an XML file.","body":"To eliminate a stray XML declaration, you have to treat the file as text, not XML, because an extra XML declaration prevents the XML from being <a href=\"http://stackoverflow.com/a/25830482/290085\"><b>well-formed</b></a>.  Use a text editor or open the file programmatically and operate on it as <i>text</i> to eliminate the stray <b><code>&lt;?xml ?&gt;</code></b> declaration <i>before</i> treating it as an XML file."},{"owner":{"account_id":3122312,"reputation":4130,"user_id":2641848,"accept_rate":53,"display_name":"Faisal Naseer"},"score":0,"creation_date":1427989609,"post_id":19898942,"comment_id":47006276,"body_markdown":"Open manifest.xml press `ctrl+A` then `ctrl+I` . It will auto format your manifest.xml.","body":"Open manifest.xml press <code>ctrl+A</code> then <code>ctrl+I</code> . It will auto format your manifest.xml."},{"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"score":0,"creation_date":1427990736,"post_id":19898942,"comment_id":47007000,"body_markdown":"@FaisalNaseer: Which of the three listed possibilities does your comment address, and from what application are you suggesting that `ctrl+A` and `ctrl+I` be pressed?  The resolutions listed in this answer are independent of any particular application.","body":"@FaisalNaseer: Which of the three listed possibilities does your comment address, and from what application are you suggesting that <code>ctrl+A</code> and <code>ctrl+I</code> be pressed?  The resolutions listed in this answer are independent of any particular application."},{"owner":{"account_id":3122312,"reputation":4130,"user_id":2641848,"accept_rate":53,"display_name":"Faisal Naseer"},"score":0,"creation_date":1428056711,"post_id":19898942,"comment_id":47030257,"body_markdown":"@kjhughes sorry for not being specific its related to Eclipse IDE as it causes auto indenting to the statements so if any extra character usually an unconsidered space character causing particular problem will get fixed.","body":"@kjhughes sorry for not being specific its related to Eclipse IDE as it causes auto indenting to the statements so if any extra character usually an unconsidered space character causing particular problem will get fixed."},{"owner":{"account_id":4879069,"reputation":970,"user_id":3933351,"accept_rate":47,"display_name":"Goku__"},"score":0,"creation_date":1434046190,"post_id":19898942,"comment_id":49626179,"body_markdown":"I am having a peculiar problem with this error. I download a file automatically, save it and process it to store the contents in a database. As you mentioned, my xml file has a xml declaration at the middle of the file. But, the error does not always appear. If it fails first time and I re-run the code, it passes. Sometimes, it fails 2-3 times and passes when I run it for the next time. In production environment, it has never failed, even though I am downloading the same file and using the same code.","body":"I am having a peculiar problem with this error. I download a file automatically, save it and process it to store the contents in a database. As you mentioned, my xml file has a xml declaration at the middle of the file. But, the error does not always appear. If it fails first time and I re-run the code, it passes. Sometimes, it fails 2-3 times and passes when I run it for the next time. In production environment, it has never failed, even though I am downloading the same file and using the same code."},{"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"score":4,"creation_date":1434047356,"post_id":19898942,"comment_id":49626926,"body_markdown":"You have my sympathies as intermittent problems are notoriously difficult to debug.  However, I cannot help more from here other than to tell you that this error is **definitely deterministic**: It will ***always*** be an error for an XML declaration to appear more than once or anywhere other than the top of an XML file.  Good luck.","body":"You have my sympathies as intermittent problems are notoriously difficult to debug.  However, I cannot help more from here other than to tell you that this error is <b>definitely deterministic</b>: It will <b><i>always</i></b> be an error for an XML declaration to appear more than once or anywhere other than the top of an XML file.  Good luck."},{"owner":{"account_id":186434,"reputation":3258,"user_id":423816,"accept_rate":77,"display_name":"maggix"},"score":0,"creation_date":1460120414,"post_id":19898942,"comment_id":60607810,"body_markdown":"Thanks, in my case it was enough to remove a comment `&lt;!-- --&gt;` that had been put *before* the `&lt;?xml` tag","body":"Thanks, in my case it was enough to remove a comment <code>&lt;!-- --&gt;</code> that had been put <i>before</i> the <code>&lt;?xml</code> tag"},{"owner":{"account_id":295924,"reputation":1531,"user_id":600584,"display_name":"Robert Casey"},"score":3,"creation_date":1472228890,"post_id":19898942,"comment_id":65684032,"body_markdown":"If your XML message is stored as a String, you can try doing a trim() on the String before passing it to your SAX Parser.  For some reason I was getting XML responses that introduced extra white space at the start, which resulted in the above Xerces error when parsed.","body":"If your XML message is stored as a String, you can try doing a trim() on the String before passing it to your SAX Parser.  For some reason I was getting XML responses that introduced extra white space at the start, which resulted in the above Xerces error when parsed."},{"owner":{"account_id":4923650,"reputation":985,"user_id":3965524,"accept_rate":91,"display_name":"JavaTec"},"score":1,"creation_date":1516394075,"post_id":19898942,"comment_id":83684503,"body_markdown":"Its an old thread, but this might help someone:\nAfter manually copying an xml file from browser and copy pasting into local text file and saving as an xml, we got the same error(the file in question was a pom.xml and the error was received while doing a build on gradle). We found out that there was an empty line at the top of the xml file, even before the &lt;?xml&gt; tag, removed it and it worked !","body":"Its an old thread, but this might help someone: After manually copying an xml file from browser and copy pasting into local text file and saving as an xml, we got the same error(the file in question was a pom.xml and the error was received while doing a build on gradle). We found out that there was an empty line at the top of the xml file, even before the &lt;?xml&gt; tag, removed it and it worked !"},{"owner":{"account_id":13863034,"reputation":2160,"user_id":10008183,"display_name":"Doilio Matsinhe"},"score":0,"creation_date":1563824500,"post_id":19898942,"comment_id":100820574,"body_markdown":"I had the same Problem on Android Studio, I had duplicated `&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;` on my layout","body":"I had the same Problem on Android Studio, I had duplicated <code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</code> on my layout"},{"owner":{"account_id":2254500,"reputation":540,"user_id":1985974,"accept_rate":70,"display_name":"Janaka Priyadarshana"},"score":0,"creation_date":1670354124,"post_id":19898942,"comment_id":131855944,"body_markdown":"In my case it was an empty line before  &quot;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&quot;\n\nThanks a lot for saving me","body":"In my case it was an empty line before  &quot;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&quot;  Thanks a lot for saving me"}],"tags":[],"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"comment_count":12,"down_vote_count":4,"up_vote_count":538,"is_accepted":false,"score":534,"last_activity_date":1403317581,"creation_date":1384144804,"answer_id":19898942,"question_id":19889132,"body_markdown":"**Xerces-based tools will emit the following error**\r\n\r\n    The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed.\r\n\r\nwhen an [XML declaration][1] is encountered *anywhere other than at the top of an XML file.*\r\n\r\nThis is a valid diagnostic message; other XML parsers should issue a similar error message in this situation.\r\n\r\nTo correct the problem, check the following possibilities:\r\n----------------------------------------------------------\r\n\r\n 1. Some blank space or other ***visible* content exists before the `&lt;?xml ?&gt;`\r\n   declaration.**\r\n\r\n   **Resolution**: remove blank space or any other\r\n   visible content before the XML declaration.\r\n\r\n 2. Some ***invisible* content exists before the `&lt;?xml ?&gt;`\r\n    declaration.**     Most commonly this is a [Byte Order Mark\r\n    (BOM)][2].\r\n\r\n   **Resolution**:\r\n   Remove the BOM using techniques such as those suggested by the [W3C\r\n   page on the BOM in HTML.][3]\r\n\r\n 3. A **stray `&lt;?xml ?&gt;` declaration exists within the XML content.** \r\n    This    can happen when XML files are combined programmatically or\r\n    via    cut-and-paste.  There can only be one `&lt;?xml ?&gt;` declaration\r\n    in an    XML file, and it can only be at the top.\r\n\r\n   **Resolution**: Search for\r\n   `&lt;?xml` in a case-insensitive manner, and remove all but the top XML\r\n   declaration from the file.\r\n\r\n\r\n  [1]: http://www.w3.org/TR/REC-xml/#NT-XMLDecl\r\n  [2]: http://en.wikipedia.org/wiki/Byte_order_mark\r\n  [3]: http://www.w3.org/International/questions/qa-byte-order-mark#remove","title":"Error: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed","body":"<p><strong>Xerces-based tools will emit the following error</strong></p>\n\n<pre><code>The processing instruction target matching \"[xX][mM][lL]\" is not allowed.\n</code></pre>\n\n<p>when an <a href=\"http://www.w3.org/TR/REC-xml/#NT-XMLDecl\" rel=\"noreferrer\">XML declaration</a> is encountered <em>anywhere other than at the top of an XML file.</em></p>\n\n<p>This is a valid diagnostic message; other XML parsers should issue a similar error message in this situation.</p>\n\n<h2>To correct the problem, check the following possibilities:</h2>\n\n<ol>\n<li><p>Some blank space or other <strong><em>visible</em> content exists before the <code>&lt;?xml ?&gt;</code>\ndeclaration.</strong></p>\n\n<p><strong>Resolution</strong>: remove blank space or any other\nvisible content before the XML declaration.</p></li>\n<li><p>Some <strong><em>invisible</em> content exists before the <code>&lt;?xml ?&gt;</code>\ndeclaration.</strong>     Most commonly this is a <a href=\"http://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"noreferrer\">Byte Order Mark\n(BOM)</a>.</p>\n\n<p><strong>Resolution</strong>:\nRemove the BOM using techniques such as those suggested by the <a href=\"http://www.w3.org/International/questions/qa-byte-order-mark#remove\" rel=\"noreferrer\">W3C\npage on the BOM in HTML.</a></p></li>\n<li><p>A <strong>stray <code>&lt;?xml ?&gt;</code> declaration exists within the XML content.</strong> \nThis    can happen when XML files are combined programmatically or\nvia    cut-and-paste.  There can only be one <code>&lt;?xml ?&gt;</code> declaration\nin an    XML file, and it can only be at the top.</p>\n\n<p><strong>Resolution</strong>: Search for\n<code>&lt;?xml</code> in a case-insensitive manner, and remove all but the top XML\ndeclaration from the file.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1916933,"reputation":8906,"user_id":1729347,"display_name":"Peter Tadros"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1606951874,"creation_date":1487251470,"answer_id":42275262,"question_id":19889132,"body_markdown":"Another reason of the above error is corrupted jar file. I got the same error but for Junit when running unit tests. Removing jar and downloading it again fixed the issue.  ","title":"Error: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed","body":"<p>Another reason of the above error is corrupted jar file. I got the same error but for Junit when running unit tests. Removing jar and downloading it again fixed the issue.</p>\n"},{"comments":[{"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"score":3,"creation_date":1527805381,"post_id":50431441,"comment_id":88277440,"body_markdown":"Removal of comments or whitespace ***before*** the XML declaration could eliminate this error, but for the document shown in your image, there is no need to remove the comment or the blank line ***after*** the XML declaration.","body":"Removal of comments or whitespace <b><i>before</i></b> the XML declaration could eliminate this error, but for the document shown in your image, there is no need to remove the comment or the blank line <b><i>after</i></b> the XML declaration."}],"tags":[],"owner":{"account_id":2599209,"reputation":42717,"user_id":2252113,"accept_rate":57,"display_name":"Hitesh Sahu"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1526787589,"creation_date":1526787589,"answer_id":50431441,"question_id":19889132,"body_markdown":"There was auto generated Copyright message in `XML` and a blank line before `&lt;resources&gt;` tag, once I removed it my build was successful.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sXOM6.png","title":"Error: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed","body":"<p>There was auto generated Copyright message in <code>XML</code> and a blank line before <code>&lt;resources&gt;</code> tag, once I removed it my build was successful.</p>\n\n<p><a href=\"https://i.stack.imgur.com/sXOM6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sXOM6.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4639355,"reputation":241,"user_id":3759659,"accept_rate":33,"display_name":"pikimota"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1527002314,"creation_date":1527002314,"answer_id":50471211,"question_id":19889132,"body_markdown":"in my case was a wrong path in a config file: file was not found (path was wrong) and it came out with this exception:\r\n\r\n&gt;  Error configuring from input stream. Initial cause was The processing\r\n&gt; instruction target matching &quot;[xX][mM][lL]&quot; is not allowed.","title":"Error: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed","body":"<p>in my case was a wrong path in a config file: file was not found (path was wrong) and it came out with this exception:</p>\n\n<blockquote>\n  <p>Error configuring from input stream. Initial cause was The processing\n  instruction target matching \"[xX][mM][lL]\" is not allowed.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":456596,"reputation":2626,"user_id":855443,"accept_rate":33,"display_name":"user855443"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536061232,"creation_date":1536061232,"answer_id":52165504,"question_id":19889132,"body_markdown":"I had a similar issue with 50,000 rdf/xml files in 5,000 directories (the Project Gutenberg catalog file). I solved it with riot (in the jena distribution)\r\n\r\nthe directory is cache/epub/NN/nn.rdf (where NN is a number)\r\n\r\nin the directory above the directory where all the files are, i.e. in cache\r\n\r\n    riot epub/*/*.rdf --output=turtle &gt; allTurtle.ttl\r\n\r\nThis produces possibly many warnings but the result is in a format which can be loaded into jena (using the fuseki web interface).\r\n\r\nsurprisingly simple (at least in this case).\r\n","title":"Error: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed","body":"<p>I had a similar issue with 50,000 rdf/xml files in 5,000 directories (the Project Gutenberg catalog file). I solved it with riot (in the jena distribution)</p>\n\n<p>the directory is cache/epub/NN/nn.rdf (where NN is a number)</p>\n\n<p>in the directory above the directory where all the files are, i.e. in cache</p>\n\n<pre><code>riot epub/*/*.rdf --output=turtle &gt; allTurtle.ttl\n</code></pre>\n\n<p>This produces possibly many warnings but the result is in a format which can be loaded into jena (using the fuseki web interface).</p>\n\n<p>surprisingly simple (at least in this case).</p>\n"},{"tags":[],"owner":{"account_id":410896,"reputation":5002,"user_id":783004,"accept_rate":69,"display_name":"Beachhouse"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1560444954,"creation_date":1560444954,"answer_id":56585324,"question_id":19889132,"body_markdown":"For PHP, put this line of code before you start printing your XML:\r\n\r\n    while(ob_get_level()) ob_end_clean();","title":"Error: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed","body":"<p>For PHP, put this line of code before you start printing your XML:</p>\n\n<pre><code>while(ob_get_level()) ob_end_clean();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"score":0,"creation_date":1615303798,"post_id":66545096,"comment_id":117646255,"body_markdown":"Note further that &quot;added extra or fewer tags&quot; will not result in the subject error message unless those are ahead of the XML declaration.  Finally, your &quot;Either...&quot; statement is misleading in that it excludes other possible sources of the error (#2 and #3 described thoroughly [above](http://stackoverflow.com/a/19898942/290085)).","body":"Note further that &quot;added extra or fewer tags&quot; will not result in the subject error message unless those are ahead of the XML declaration.  Finally, your &quot;Either...&quot; statement is misleading in that it excludes other possible sources of the error (#2 and #3 described thoroughly <a href=\"http://stackoverflow.com/a/19898942/290085\">above</a>)."}],"tags":[],"owner":{"account_id":1702904,"reputation":16002,"user_id":1562548,"accept_rate":58,"display_name":"Chintan Khetiya"},"comment_count":1,"down_vote_count":1,"up_vote_count":23,"is_accepted":true,"score":22,"last_activity_date":1615285689,"creation_date":1615285689,"answer_id":66545096,"question_id":19889132,"body_markdown":"Debug your XML file. Either there is space or added extra or fewer tags.\r\n\r\nFor better understanding build the project through the command line. Windows: `gradlew build`\r\n\r\nIn my case, AndroidManifest.xml has a blank space at the very first line\r\n\r\n    &lt;Empty Row&gt; // This Creates the issue \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n","title":"Error: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed","body":"<p>Debug your XML file. Either there is space or added extra or fewer tags.</p>\n<p>For better understanding build the project through the command line. Windows: <code>gradlew build</code></p>\n<p>In my case, AndroidManifest.xml has a blank space at the very first line</p>\n<pre><code>&lt;Empty Row&gt; // This Creates the issue \n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1074771,"reputation":1324,"user_id":1073157,"accept_rate":50,"display_name":"Dan Rayson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626971908,"creation_date":1626971908,"answer_id":68488573,"question_id":19889132,"body_markdown":"It&#39;s worth checking your server&#39;s folders to see if there&#39;s a stray pom.xml hanging around.\r\n\r\nI found that I had the problem everyone else described with a malformed pom.xml, but in a folder that I didn&#39;t expect to be on the server.  An old build was sticking around unwelcome D:","title":"Error: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed","body":"<p>It's worth checking your server's folders to see if there's a stray pom.xml hanging around.</p>\n<p>I found that I had the problem everyone else described with a malformed pom.xml, but in a folder that I didn't expect to be on the server.  An old build was sticking around unwelcome D:</p>\n"},{"comments":[{"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"score":1,"creation_date":1635347542,"post_id":69740674,"comment_id":123274834,"body_markdown":"Note that tab is no different than blank/space in this context: Neither are permitted before the XML declaration.","body":"Note that tab is no different than blank/space in this context: Neither are permitted before the XML declaration."}],"tags":[],"owner":{"account_id":3773795,"reputation":935,"user_id":3135210,"accept_rate":50,"display_name":"buqing"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1635345460,"creation_date":1635345460,"answer_id":69740674,"question_id":19889132,"body_markdown":"For my case, the tab is the trouble maker. Replace the tab with blank should resolve the issue","title":"Error: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed","body":"<p>For my case, the tab is the trouble maker. Replace the tab with blank should resolve the issue</p>\n"},{"comments":[{"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"score":1,"creation_date":1673447524,"post_id":71249040,"comment_id":132501446,"body_markdown":"**Wrong**. ***Do not blindly remove an XML declaration to try to eliminate this error.*** Understand the [three simple possibilities leading to this error](https://stackoverflow.com/a/19898942/290085) and correct the actual issue by following the provided simple and specific resolution instead.","body":"<b>Wrong</b>. <b><i>Do not blindly remove an XML declaration to try to eliminate this error.</i></b> Understand the <a href=\"https://stackoverflow.com/a/19898942/290085\">three simple possibilities leading to this error</a> and correct the actual issue by following the provided simple and specific resolution instead."}],"tags":[],"owner":{"account_id":14178727,"reputation":176,"user_id":10243101,"display_name":"KaranKulshrestha"},"comment_count":1,"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1645691081,"creation_date":1645691081,"answer_id":71249040,"question_id":19889132,"body_markdown":"just remove this line: `&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;` because this kind of error only come because of this line or you might also check the format of your line according the mentioned line in this answer.","title":"Error: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed","body":"<p>just remove this line: <code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</code> because this kind of error only come because of this line or you might also check the format of your line according the mentioned line in this answer.</p>\n"}],"owner":{"account_id":429982,"reputation":7176,"user_id":813159,"accept_rate":74,"display_name":"Eslam Hamdy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341039,"favorite_count":0,"down_vote_count":0,"up_vote_count":274,"accepted_answer_id":66545096,"answer_count":10,"score":274,"last_activity_date":1670341297,"creation_date":1384082733,"question_id":19889132,"body_markdown":"This error,\r\n\r\n&gt; The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed\r\n\r\noccurs whenever I run an XSLT page that begins as follows:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;windows-1256&quot;?&gt; \r\n    &lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n      &lt;xsl:include href=&quot;../header.xsl&quot;/&gt;\r\n      &lt;xsl:template match=&quot;/&quot;&gt;\r\n        &lt;xsl:call-template name=&quot;pstyle&quot;/&gt;\r\n        &lt;xsl:call-template name=&quot;Validation&quot;/&gt;\r\n        &lt;xsl:variable name=&quot;strLang&quot;&gt;\r\n          &lt;xsl:value-of select=&quot;//lang&quot;/&gt;\r\n        &lt;/xsl:variable&gt;\r\n        &lt;!-- ////////////// Page Title ///////////// --&gt;\r\n        &lt;title&gt;\r\n    \t    &lt;xsl:value-of select=&quot;//ListStudentFinishedExam.Title&quot;/&gt;\r\n        &lt;/title&gt;\r\n\r\n**Note**: I removed any leading spaces before the first line, but the error still occurs!\r\n","title":"Error: The processing instruction target matching &quot;[xX][mM][lL]&quot; is not allowed","body":"<p>This error,</p>\n\n<blockquote>\n  <p>The processing instruction target matching \"[xX][mM][lL]\" is not allowed</p>\n</blockquote>\n\n<p>occurs whenever I run an XSLT page that begins as follows:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"windows-1256\"?&gt; \n&lt;xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"&gt;\n  &lt;xsl:include href=\"../header.xsl\"/&gt;\n  &lt;xsl:template match=\"/\"&gt;\n    &lt;xsl:call-template name=\"pstyle\"/&gt;\n    &lt;xsl:call-template name=\"Validation\"/&gt;\n    &lt;xsl:variable name=\"strLang\"&gt;\n      &lt;xsl:value-of select=\"//lang\"/&gt;\n    &lt;/xsl:variable&gt;\n    &lt;!-- ////////////// Page Title ///////////// --&gt;\n    &lt;title&gt;\n        &lt;xsl:value-of select=\"//ListStudentFinishedExam.Title\"/&gt;\n    &lt;/title&gt;\n</code></pre>\n\n<p><strong>Note</strong>: I removed any leading spaces before the first line, but the error still occurs!</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1601566383,"post_id":64158223,"comment_id":113453642,"body_markdown":"Maybe `grabFocus()` will work?","body":"Maybe <code>grabFocus()</code> will work?"},{"owner":{"account_id":16124098,"reputation":459,"user_id":11639320,"display_name":"recluse"},"score":0,"creation_date":1601570208,"post_id":64158223,"comment_id":113455536,"body_markdown":"@camickr thank you for advice but JFrame dosent have grabFocus method. I tried homePage.getRootPane().grabFocus() but still dosent work.","body":"@camickr thank you for advice but JFrame dosent have grabFocus method. I tried homePage.getRootPane().grabFocus() but still dosent work."}],"answers":[{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1601574346,"post_id":64160516,"comment_id":113457282,"body_markdown":"Is `RobotTool` a java class? I am unfamiliar with it.","body":"Is <code>RobotTool</code> a java class? I am unfamiliar with it."},{"owner":{"account_id":16124098,"reputation":459,"user_id":11639320,"display_name":"recluse"},"score":0,"creation_date":1601574953,"post_id":64160516,"comment_id":113457558,"body_markdown":"@Abra Sorry, it&#39;s my custom tool. I updated the code just now.","body":"@Abra Sorry, it&#39;s my custom tool. I updated the code just now."}],"tags":[],"owner":{"account_id":16124098,"reputation":459,"user_id":11639320,"display_name":"recluse"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1601574920,"creation_date":1601573750,"answer_id":64160516,"question_id":64158223,"body_markdown":"I tried an ugly solution using robot to simulate the user click to gain the focus. The cursor will disappear for a moment when the click method invoked. But it actually works (gain focus successfully)\r\n\r\nWhat I did is:\r\n\r\n1.\r\n\r\n    RobotTool.click((int)windowLocation.getX(), (int)windowLocation.getY());\r\n2.\r\n\r\n```\r\npublic class RobotTool {\r\n    private static Robot robot = Singleton.get(Robot.class);\r\n\r\n    public static void click(int x, int y){\r\n\r\n        Point mouseInitPosition = MouseInfo.getPointerInfo().getLocation();\r\n        int mask = InputEvent.BUTTON1_MASK;\r\n        robot.mouseMove(x, y);\r\n        try{\r\n            // wait 100ms to avoid the robot action out of order\r\n            Thread.sleep(100);\r\n        }\r\n        catch (InterruptedException e){\r\n            e.printStackTrace();\r\n        }\r\n        robot.mousePress(mask);\r\n        robot.mouseRelease(mask);\r\n        robot.mouseMove((int)mouseInitPosition.getX(), (int)mouseInitPosition.getY());\r\n    }\r\n}\r\n```","title":"Java Swing how to let the JFrame gain focus","body":"<p>I tried an ugly solution using robot to simulate the user click to gain the focus. The cursor will disappear for a moment when the click method invoked. But it actually works (gain focus successfully)</p>\n<p>What I did is:</p>\n<p>1.</p>\n<pre><code>RobotTool.click((int)windowLocation.getX(), (int)windowLocation.getY());\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre><code>public class RobotTool {\n    private static Robot robot = Singleton.get(Robot.class);\n\n    public static void click(int x, int y){\n\n        Point mouseInitPosition = MouseInfo.getPointerInfo().getLocation();\n        int mask = InputEvent.BUTTON1_MASK;\n        robot.mouseMove(x, y);\n        try{\n            // wait 100ms to avoid the robot action out of order\n            Thread.sleep(100);\n        }\n        catch (InterruptedException e){\n            e.printStackTrace();\n        }\n        robot.mousePress(mask);\n        robot.mouseRelease(mask);\n        robot.mouseMove((int)mouseInitPosition.getX(), (int)mouseInitPosition.getY());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16124098,"reputation":459,"user_id":11639320,"display_name":"recluse"},"score":0,"creation_date":1601996211,"post_id":64220284,"comment_id":113576269,"body_markdown":"Thank you for your advice. It does reach the result you said actually, but it&#39;s not what I want. I wish the JFrame could grab focus because another need is &#39;JFrame should auto hide when JFrame lost focus&#39;. If JFrame can not get focus when it shows up, I can not monitor it&#39;s focuslost event. I think the implementation is different on different platform. Could you please give me some further advice?","body":"Thank you for your advice. It does reach the result you said actually, but it&#39;s not what I want. I wish the JFrame could grab focus because another need is &#39;JFrame should auto hide when JFrame lost focus&#39;. If JFrame can not get focus when it shows up, I can not monitor it&#39;s focuslost event. I think the implementation is different on different platform. Could you please give me some further advice?"}],"tags":[],"owner":{"account_id":8803970,"reputation":6689,"user_id":6579265,"display_name":"George Z."},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1601969123,"creation_date":1601964996,"answer_id":64220284,"question_id":64158223,"body_markdown":"Usually when you want to gain focus in a parent container (such as `JPanel`, `JFrame`, etc) you request the focus by calling `requestFocusInWindow()` method into one of its children. \r\n\r\nI suggest you, to not asking for focus in the `JFrame`. Call `requestFocusInWindow()` in one of its components.\r\n\r\nNow in terms of UX, I would give the focus back to last component that was focused. In order to get the focused component of a `JFrame` we call `jframe.getFocusOwner()`. However, if the `JFrame` is in state `MINIMIZED` or is in background, since it does not have focus, `getFocusOwner` returns `null`.\r\n\r\nSo, in order to find the last component that was focused before calling your global key listener, you can register a global AWT listener for focus events as well:\r\n\r\n\tToolkit.getDefaultToolkit().addAWTEventListener(e -&gt; {\r\n\t\tif (e.getID() == FocusEvent.FOCUS_LOST) {\r\n\t\t\tif (e.getSource() instanceof Component) {\r\n\t\t\t\tlastFocusedComponent = (Component) e.getSource();\r\n\t\t\t}\r\n\t\t}\r\n\t}, FocusEvent.FOCUS_EVENT_MASK);\r\n\r\nListener will be fired every time the focus changes. So you get the actual last component with focus safely, eliminating the chance to be `null` since it is the one that fires the event.\r\n\r\nAll you have to do after it, is to call `requestFocusInWindow` to it:\r\n\r\n\tprovider.register(KeyStroke.getKeyStroke(KeyEvent.VK_NUMPAD0, 0), e -&gt; {\r\n\t\tframe.setVisible(!frame.isVisible());\r\n\t\tif (frame.isVisible())\r\n\t\t\tSwingUtilities.invokeLater(lastFocusedComponent::requestFocusInWindow);\r\n\t});\r\n\r\nA full example that works (you can confirm your self that the focus is restored):\r\n\r\n    public class FocusExample {\r\n    \tprivate static Component lastFocusedComponent;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(() -&gt; {\r\n    \r\n    \t\t\tJFrame frame = new JFrame();\r\n    \t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\t\tJTextField leftField = new JTextField(10);\r\n    \t\t\tJTextField rightField = new JTextField(10);\r\n    \r\n    \t\t\tframe.setLayout(new FlowLayout());\r\n    \t\t\tframe.add(leftField);\r\n    \t\t\tframe.add(rightField);\r\n    \r\n    \t\t\tToolkit.getDefaultToolkit().addAWTEventListener(e -&gt; {\r\n    \t\t\t\tif (e.getID() == FocusEvent.FOCUS_LOST) {\r\n    \t\t\t\t\tif (e.getSource() instanceof Component) {\r\n    \t\t\t\t\t\tlastFocusedComponent = (Component) e.getSource();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}, FocusEvent.FOCUS_EVENT_MASK);\r\n    \r\n    \t\t\tProvider provider = Provider.getCurrentProvider(true);\r\n    \r\n    \t\t\tprovider.register(KeyStroke.getKeyStroke(KeyEvent.VK_NUMPAD0, 0), e -&gt; {\r\n    \t\t\t\tframe.setVisible(!frame.isVisible());\r\n    \t\t\t\tif (frame.isVisible())\r\n    \t\t\t\t\tSwingUtilities.invokeLater(lastFocusedComponent::requestFocusInWindow);\r\n    \t\t\t});\r\n    \r\n    \t\t\tframe.pack();\r\n    \t\t\tframe.setLocationByPlatform(true);\r\n    \t\t\tframe.setVisible(true);\r\n    \t\t});\r\n    \r\n    \t}\r\n    }","title":"Java Swing how to let the JFrame gain focus","body":"<p>Usually when you want to gain focus in a parent container (such as <code>JPanel</code>, <code>JFrame</code>, etc) you request the focus by calling <code>requestFocusInWindow()</code> method into one of its children.</p>\n<p>I suggest you, to not asking for focus in the <code>JFrame</code>. Call <code>requestFocusInWindow()</code> in one of its components.</p>\n<p>Now in terms of UX, I would give the focus back to last component that was focused. In order to get the focused component of a <code>JFrame</code> we call <code>jframe.getFocusOwner()</code>. However, if the <code>JFrame</code> is in state <code>MINIMIZED</code> or is in background, since it does not have focus, <code>getFocusOwner</code> returns <code>null</code>.</p>\n<p>So, in order to find the last component that was focused before calling your global key listener, you can register a global AWT listener for focus events as well:</p>\n<pre><code>Toolkit.getDefaultToolkit().addAWTEventListener(e -&gt; {\n    if (e.getID() == FocusEvent.FOCUS_LOST) {\n        if (e.getSource() instanceof Component) {\n            lastFocusedComponent = (Component) e.getSource();\n        }\n    }\n}, FocusEvent.FOCUS_EVENT_MASK);\n</code></pre>\n<p>Listener will be fired every time the focus changes. So you get the actual last component with focus safely, eliminating the chance to be <code>null</code> since it is the one that fires the event.</p>\n<p>All you have to do after it, is to call <code>requestFocusInWindow</code> to it:</p>\n<pre><code>provider.register(KeyStroke.getKeyStroke(KeyEvent.VK_NUMPAD0, 0), e -&gt; {\n    frame.setVisible(!frame.isVisible());\n    if (frame.isVisible())\n        SwingUtilities.invokeLater(lastFocusedComponent::requestFocusInWindow);\n});\n</code></pre>\n<p>A full example that works (you can confirm your self that the focus is restored):</p>\n<pre><code>public class FocusExample {\n    private static Component lastFocusedComponent;\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n\n            JFrame frame = new JFrame();\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n            JTextField leftField = new JTextField(10);\n            JTextField rightField = new JTextField(10);\n\n            frame.setLayout(new FlowLayout());\n            frame.add(leftField);\n            frame.add(rightField);\n\n            Toolkit.getDefaultToolkit().addAWTEventListener(e -&gt; {\n                if (e.getID() == FocusEvent.FOCUS_LOST) {\n                    if (e.getSource() instanceof Component) {\n                        lastFocusedComponent = (Component) e.getSource();\n                    }\n                }\n            }, FocusEvent.FOCUS_EVENT_MASK);\n\n            Provider provider = Provider.getCurrentProvider(true);\n\n            provider.register(KeyStroke.getKeyStroke(KeyEvent.VK_NUMPAD0, 0), e -&gt; {\n                frame.setVisible(!frame.isVisible());\n                if (frame.isVisible())\n                    SwingUtilities.invokeLater(lastFocusedComponent::requestFocusInWindow);\n            });\n\n            frame.pack();\n            frame.setLocationByPlatform(true);\n            frame.setVisible(true);\n        });\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16124098,"reputation":459,"user_id":11639320,"display_name":"recluse"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1282,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1670341260,"creation_date":1601564984,"question_id":64158223,"body_markdown":"I&#39;m developing a java swing application. I wish to achieve such result: press shortcut to let the app window show up. press shortcut again or click otherwhere to let the app hide.\r\n\r\nI use jkeymaster to register to listen the event of global shortcut and it works well.\r\nBut when the user focus on some other window, like chrome, office... the focus window will be other application. Then if the user use the shortcut. My app windows will still show up but cannot gain focus. Could anyone help me to solve it. Here&#39;s my code snippet.\r\n\r\n        Provider provider = Provider.getCurrentProvider(true);\r\n        // bind shortcut\r\n        provider.register(KeyStroke.getKeyStroke(KeyEvent.VK_PLUS, Toolkit.getDefaultToolkit().getMenuShortcutKeyMask()), x -&gt; {\r\n            homePage.setVisible(!homePage.isVisible());\r\n            if(homePage.isVisible()){\r\n                // TODO: 2020/10/1 request focus here\r\n                homePage.requestFocusInWindow();\r\n                homePage.requestFocus();\r\n\r\n                KeyboardFocusManager focusManager = KeyboardFocusManager.getCurrentKeyboardFocusManager();\r\n                focusManager.clearGlobalFocusOwner();\r\n\r\n                log.info(&quot;hasFocusï¼ &quot; + homePage.hasFocus());\r\n                log.info(&quot;isActiveï¼ &quot; + homePage.isActive());\r\n            }\r\n        });\r\n\r\nWhat I have tried:\r\n1. requestFocus and requestFocusInWindow, doesn&#39;t work\r\n2. I read the source code of requestFocus. It says \r\n```\r\n     * This method cannot be used to set the focus owner to no Component at\r\n     * all. Use &lt;code&gt;KeyboardFocusManager.clearGlobalFocusOwner()&lt;/code&gt;\r\n     * instead.\r\n```\r\nSo I tried focusManager.clearGlobalFocusOwner() but it still doesn&#39;t work.","title":"Java Swing how to let the JFrame gain focus","body":"<p>I'm developing a java swing application. I wish to achieve such result: press shortcut to let the app window show up. press shortcut again or click otherwhere to let the app hide.</p>\n<p>I use jkeymaster to register to listen the event of global shortcut and it works well.\nBut when the user focus on some other window, like chrome, office... the focus window will be other application. Then if the user use the shortcut. My app windows will still show up but cannot gain focus. Could anyone help me to solve it. Here's my code snippet.</p>\n<pre><code>    Provider provider = Provider.getCurrentProvider(true);\n    // bind shortcut\n    provider.register(KeyStroke.getKeyStroke(KeyEvent.VK_PLUS, Toolkit.getDefaultToolkit().getMenuShortcutKeyMask()), x -&gt; {\n        homePage.setVisible(!homePage.isVisible());\n        if(homePage.isVisible()){\n            // TODO: 2020/10/1 request focus here\n            homePage.requestFocusInWindow();\n            homePage.requestFocus();\n\n            KeyboardFocusManager focusManager = KeyboardFocusManager.getCurrentKeyboardFocusManager();\n            focusManager.clearGlobalFocusOwner();\n\n            log.info(&quot;hasFocusï¼ &quot; + homePage.hasFocus());\n            log.info(&quot;isActiveï¼ &quot; + homePage.isActive());\n        }\n    });\n</code></pre>\n<p>What I have tried:</p>\n<ol>\n<li>requestFocus and requestFocusInWindow, doesn't work</li>\n<li>I read the source code of requestFocus. It says</li>\n</ol>\n<pre><code>     * This method cannot be used to set the focus owner to no Component at\n     * all. Use &lt;code&gt;KeyboardFocusManager.clearGlobalFocusOwner()&lt;/code&gt;\n     * instead.\n</code></pre>\n<p>So I tried focusManager.clearGlobalFocusOwner() but it still doesn't work.</p>\n"},{"tags":["java","jpa"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670341119,"creation_date":1670341119,"answer_id":74705222,"question_id":74705166,"body_markdown":"Make your custom repo generic:\r\n\r\n    public interface DataRepo&lt;T&gt; {\r\n    \r\n      List&lt;T&gt; findAllEmptyData();\r\n      List&lt;T&gt; findAllByCreatedAtBefore(String createdAt);\r\n    }\r\n\r\nAnd then use it for example with bTable:\r\n\r\n    public interface bTableRepo extends JpaRepository&lt;bTable, Integer&gt;, DataRepo&lt;bTable&gt; {","title":"convert or cast output of JpaRepository","body":"<p>Make your custom repo generic:</p>\n<pre><code>public interface DataRepo&lt;T&gt; {\n\n  List&lt;T&gt; findAllEmptyData();\n  List&lt;T&gt; findAllByCreatedAtBefore(String createdAt);\n}\n</code></pre>\n<p>And then use it for example with bTable:</p>\n<pre><code>public interface bTableRepo extends JpaRepository&lt;bTable, Integer&gt;, DataRepo&lt;bTable&gt; {\n</code></pre>\n"}],"owner":{"account_id":24983560,"reputation":410,"user_id":18845587,"display_name":"Tindona"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74705222,"answer_count":1,"score":2,"last_activity_date":1670341119,"creation_date":1670340872,"question_id":74705166,"body_markdown":"I have three interfaces that extend JpaRepository and a custom interface that has two functions. These two functions have their special output in each of three interfaces.\r\nI implement it with List&lt;Object&gt; in the custom interface, so I have to use same output in the three interfaces, but I need to convert them to their special type. \r\nHere is the custom interface:\r\n\r\n    public interface DataRepo {\r\n    \r\n      List&lt;Object&gt; findAllEmptyData();\r\n      List&lt;Object&gt; findAllByCreatedAtBefore(String createdAt);\r\n    }\r\n\r\nAnd here are the three interfaces:\r\n\r\n    public interface bTableRepo extends JpaRepository&lt;bTable, Integer&gt;, DataRepo {\r\n    \r\n      @Query(&quot;SELECT b FROM bTable b WHERE b.value is null AND b.data&quot;)\r\n      List&lt;Object&gt; findAllEmptyData();\r\n    \r\n      @Query(&quot;SELECT b FROM bTable b WHERE b.createdAt &lt; ?1&quot;)\r\n      List&lt;Object&gt; findAllByCreatedAtBefore(LocalDate createdAt); //I need to convert List&lt;Object&gt; to List&lt;bTable&gt;\r\n    }\r\n    \r\n    public interface cTableRepo extends JpaRepository&lt;cTable, Integer&gt;, DataRepo {\r\n    \r\n      @Query(&quot;SELECT c FROM cTable c WHERE c.value is null AND c.dData is null AND c.date is null&quot;)\r\n      List&lt;Object&gt; findAllEmptyData();\r\n    \r\n      @Query(&quot;SELECT c FROM cTable c WHERE c.createdAt &lt; ?1&quot;)\r\n      List&lt;Object&gt; findAllByCreatedAtBefore(LocalDate createdAt); //I need to convert List&lt;Object&gt; to List&lt;cTable&gt;\r\n    }\r\n    \r\n    public interface dTableRepo extends JpaRepository&lt;dTable, Integer&gt;, DataRepo {\r\n    \r\n      @Query(&quot;SELECT d FROM dTable d WHERE d.value is null AND d.date is null AND d.DateAndTime is null&quot;)\r\n      List&lt;Object&gt; findAllEmptyData();\r\n    \r\n      @Query(&quot;SELECT d FROM cTable d WHERE d.createdAt &lt; ?1&quot;)\r\n      List&lt;Object&gt; findAllByCreatedAtBefore(LocalDate createdAt); //I need to convert List&lt;Object&gt; to List&lt;dTable&gt;\r\n    }","title":"convert or cast output of JpaRepository","body":"<p>I have three interfaces that extend JpaRepository and a custom interface that has two functions. These two functions have their special output in each of three interfaces.\nI implement it with List in the custom interface, so I have to use same output in the three interfaces, but I need to convert them to their special type.\nHere is the custom interface:</p>\n<pre><code>public interface DataRepo {\n\n  List&lt;Object&gt; findAllEmptyData();\n  List&lt;Object&gt; findAllByCreatedAtBefore(String createdAt);\n}\n</code></pre>\n<p>And here are the three interfaces:</p>\n<pre><code>public interface bTableRepo extends JpaRepository&lt;bTable, Integer&gt;, DataRepo {\n\n  @Query(&quot;SELECT b FROM bTable b WHERE b.value is null AND b.data&quot;)\n  List&lt;Object&gt; findAllEmptyData();\n\n  @Query(&quot;SELECT b FROM bTable b WHERE b.createdAt &lt; ?1&quot;)\n  List&lt;Object&gt; findAllByCreatedAtBefore(LocalDate createdAt); //I need to convert List&lt;Object&gt; to List&lt;bTable&gt;\n}\n\npublic interface cTableRepo extends JpaRepository&lt;cTable, Integer&gt;, DataRepo {\n\n  @Query(&quot;SELECT c FROM cTable c WHERE c.value is null AND c.dData is null AND c.date is null&quot;)\n  List&lt;Object&gt; findAllEmptyData();\n\n  @Query(&quot;SELECT c FROM cTable c WHERE c.createdAt &lt; ?1&quot;)\n  List&lt;Object&gt; findAllByCreatedAtBefore(LocalDate createdAt); //I need to convert List&lt;Object&gt; to List&lt;cTable&gt;\n}\n\npublic interface dTableRepo extends JpaRepository&lt;dTable, Integer&gt;, DataRepo {\n\n  @Query(&quot;SELECT d FROM dTable d WHERE d.value is null AND d.date is null AND d.DateAndTime is null&quot;)\n  List&lt;Object&gt; findAllEmptyData();\n\n  @Query(&quot;SELECT d FROM cTable d WHERE d.createdAt &lt; ?1&quot;)\n  List&lt;Object&gt; findAllByCreatedAtBefore(LocalDate createdAt); //I need to convert List&lt;Object&gt; to List&lt;dTable&gt;\n}\n</code></pre>\n"},{"tags":["java","string","memory"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1670340725,"post_id":74705030,"comment_id":131851250,"body_markdown":"The internal size of the string isn&#39;t supposed to matter - you need it for a buffer, so you&#39;ll be copying the data to the buffer. You are not going to allocate a Java string in your buffer, as that is impossible. Also note that you should use `.getBytes(...)` with a specific encoding, not leave it to the system default.","body":"The internal size of the string isn&#39;t supposed to matter - you need it for a buffer, so you&#39;ll be copying the data to the buffer. You are not going to allocate a Java string in your buffer, as that is impossible. Also note that you should use <code>.getBytes(...)</code> with a specific encoding, not leave it to the system default."}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670343954,"post_id":74705185,"comment_id":131852438,"body_markdown":"What is &quot;the problem of UTF-16 chars&quot;? Having UTF-8 encoding is potentially more problematic as it has a varying length encoding. UTF-16 is fixed and not problematic at all","body":"What is &quot;the problem of UTF-16 chars&quot;? Having UTF-8 encoding is potentially more problematic as it has a varying length encoding. UTF-16 is fixed and not problematic at all"},{"owner":{"account_id":21032417,"reputation":95,"user_id":15456485,"display_name":"sahlaysta"},"score":0,"creation_date":1670345386,"post_id":74705185,"comment_id":131853025,"body_markdown":"I&#39;m just as confused as you are","body":"I&#39;m just as confused as you are"}],"tags":[],"owner":{"account_id":21032417,"reputation":95,"user_id":15456485,"display_name":"sahlaysta"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670340963,"creation_date":1670340963,"answer_id":74705185,"question_id":74705030,"body_markdown":"You may use .getBytes().length but to avoid the problem of UTF-16 chars then use getBytes(StandardCharsets.UTF_8).length","title":"How can I find the memory size of a string","body":"<p>You may use .getBytes().length but to avoid the problem of UTF-16 chars then use getBytes(StandardCharsets.UTF_8).length</p>\n"}],"owner":{"account_id":20063064,"reputation":1,"user_id":14709377,"display_name":"Andrei Stan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670340963,"creation_date":1670340359,"question_id":74705030,"body_markdown":"I need to check if the size of a string is less than 1MB for the Binder transaction buffer which has a limit of 1MB.\r\nAlso the string may be UTF-16 encoded.\r\n\r\n I found these 2 methods but I don&#39;t know if they are good. \r\n- [minimum memory usage of a Java String](https://www.javamex.com/tutorials/memory/string_memory_usage.shtml?fbclid=IwAR0F6eJKRrk2ZlPvqwogd6Ou9KAC4aBT-oKp7vN7dXDr6-tLT4G4gfj9F6Q) which uses the following: \r\n(bytes) = 8 * (int) ((((no chars)&#160;* 2) + 45) / 8)\r\n- or using .getBytes().length (but I don&#39;t know what happens if UTF-16 chars appear)\r\n","title":"How can I find the memory size of a string","body":"<p>I need to check if the size of a string is less than 1MB for the Binder transaction buffer which has a limit of 1MB.\nAlso the string may be UTF-16 encoded.</p>\n<p>I found these 2 methods but I don't know if they are good.</p>\n<ul>\n<li><a href=\"https://www.javamex.com/tutorials/memory/string_memory_usage.shtml?fbclid=IwAR0F6eJKRrk2ZlPvqwogd6Ou9KAC4aBT-oKp7vN7dXDr6-tLT4G4gfj9F6Q\" rel=\"nofollow noreferrer\">minimum memory usage of a Java String</a> which uses the following:\n(bytes) = 8 * (int) ((((no chars)Â * 2) + 45) / 8)</li>\n<li>or using .getBytes().length (but I don't know what happens if UTF-16 chars appear)</li>\n</ul>\n"},{"tags":["java","arrays","algorithm","bubble-sort"],"comments":[{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"Î¦XocÄ ì Ðepe&#250;pa ã"},"score":0,"creation_date":1467831863,"post_id":38231668,"comment_id":63885323,"body_markdown":"looks like a good point to read /learn java collections....","body":"looks like a good point to read /learn java collections...."},{"owner":{"account_id":4864493,"reputation":352,"user_id":3923199,"display_name":"CSK"},"score":0,"creation_date":1467832452,"post_id":38231668,"comment_id":63885646,"body_markdown":"using Set datatype instead of arraylist","body":"using Set datatype instead of arraylist"},{"owner":{"account_id":22848,"reputation":131598,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":0,"creation_date":1467897065,"post_id":38231668,"comment_id":63913803,"body_markdown":"Perhaps it doesn&#39;t work because your bubble sort is wrong. You&#39;re starting at `a.length-3` and going down, which means that the last two items in the array are never sorted.","body":"Perhaps it doesn&#39;t work because your bubble sort is wrong. You&#39;re starting at <code>a.length-3</code> and going down, which means that the last two items in the array are never sorted."}],"answers":[{"comments":[{"owner":{"account_id":1641422,"reputation":1769,"user_id":1513773,"accept_rate":93,"display_name":"A. Mashreghi"},"score":0,"creation_date":1467834973,"post_id":38232543,"comment_id":63887001,"body_markdown":"I ran this code just now. That&#39;s the only change I made. And for input (1, 1, 1, 2 , 1, 3) it works properly. Can you check again? The output should be 1 2 3, right?","body":"I ran this code just now. That&#39;s the only change I made. And for input (1, 1, 1, 2 , 1, 3) it works properly. Can you check again? The output should be 1 2 3, right?"},{"owner":{"account_id":1641422,"reputation":1769,"user_id":1513773,"accept_rate":93,"display_name":"A. Mashreghi"},"score":0,"creation_date":1467835442,"post_id":38232543,"comment_id":63887244,"body_markdown":"Remember you should remove i++ from the for loop","body":"Remember you should remove i++ from the for loop"},{"owner":{"account_id":5453228,"reputation":3,"user_id":4337437,"display_name":"rahul alvares"},"score":1,"creation_date":1467908510,"post_id":38232543,"comment_id":63922170,"body_markdown":"Mashregi thanks a lot you are a life saver. Solved like a boss thanks :)","body":"Mashregi thanks a lot you are a life saver. Solved like a boss thanks :)"}],"tags":[],"owner":{"account_id":1641422,"reputation":1769,"user_id":1513773,"accept_rate":93,"display_name":"A. Mashreghi"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1467834405,"creation_date":1467834405,"answer_id":38232543,"question_id":38231668,"body_markdown":"You only  need to change your delete for loop as follows:\r\n\r\n    for(int i=0;i&lt;a.length-count;){\r\n            if(a[i]==a[i+1]){\r\n                for(int j=i;j&lt;a.length-count;j++){\r\n                   a[j]=a[j+1];\r\n                }\r\n                count++;\r\n            }\r\n            else{\r\n                i++;\r\n            }\r\n     }\r\n\r\nBecause if you always do i++ (even when all the elements were shifted), then you miss some repetitions. Actually, when a shifting is done it is like i has been incremented. So, you only need to increment i when the if doesn&#39;t happen.","title":"how to delete repeated elements from a sorted array","body":"<p>You only  need to change your delete for loop as follows:</p>\n\n<pre><code>for(int i=0;i&lt;a.length-count;){\n        if(a[i]==a[i+1]){\n            for(int j=i;j&lt;a.length-count;j++){\n               a[j]=a[j+1];\n            }\n            count++;\n        }\n        else{\n            i++;\n        }\n }\n</code></pre>\n\n<p>Because if you always do i++ (even when all the elements were shifted), then you miss some repetitions. Actually, when a shifting is done it is like i has been incremented. So, you only need to increment i when the if doesn't happen.</p>\n"}],"owner":{"account_id":5453228,"reputation":3,"user_id":4337437,"display_name":"rahul alvares"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":38232543,"answer_count":1,"score":-2,"last_activity_date":1670340598,"creation_date":1467831160,"question_id":38231668,"body_markdown":"As you can see here this is a program which is to sort elements in ascending order and delete any repeated elements. The problem here is with the &#39;delete&#39; snippet. It works for an array of 5 elements where the values(1,3,3,5,5) are in any order because the &#39;sort&#39; snippet takes care of that. However if you take a sequence say(1,1,1,2,1,3) the deletion does not take place completely. Can someone please tell me where I&#39;m going wrong?\r\n\r\n    import java.util.*;\r\n\r\n    class Random \r\n    { \r\n\t \r\n\t static int count=2;\r\n\tpublic static void main(String[] args) \t\t\t\r\n\t{\r\n\t\t\r\n\t        Scanner sc=new Scanner(System.in);\r\n\t        System.out.println(&quot;How many elements are in your set?&quot;);// gets your elements\r\n\t        int input=sc.nextInt();\r\n\t       \r\n\t        int Subsets=No_of_subsets(input);\r\n\t        // to accept elements\r\n\t        int arr[]=new int[input+2];\r\n\t        accept(arr);\r\n\t        //to sort and delete repeated elements\r\n\r\n\t        sortanddelete(arr);\r\n\t        System.out.println(&quot;Array a=&quot;);\r\n\t        for(int i=0;i&lt;arr.length-count;i++)\r\n\t        {\r\n\t        \tSystem.out.println(arr[i]);\r\n\t        }\r\n\t  System.out.println(&quot;Count&quot;+count);\r\n\t}\r\n\tpublic static int No_of_subsets(int a )\r\n\t{\r\n\t\tdouble ab=Math.pow(2, a);\r\n\t\tint ans=(int)ab;\r\n\t\tSystem.out.println(&quot;Your superset will have &quot;+ans+&quot; subsets&quot;);\r\n\t\treturn (int)ans;\r\n\t}\r\n\t\r\n\tpublic static int[] accept(int a[])\r\n\t{\r\n\t\tScanner sc=new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter your array elements&quot;);\r\n\t\tfor(int i=0;i&lt;a.length-2;i++){\r\n\t\t\ta[i]=sc.nextInt();\r\n\t\t}\r\n\t\treturn a;\r\n\t}\r\n\t\r\n\tpublic static int[] sortanddelete(int a[])\r\n\t{\r\n\t\tint temp;\r\n\t\tfor(int i=a.length-3;i&gt;0;i--){\r\n\t\t\tfor(int j=0;j&lt;i;j++){\r\n\t\t\t\tif(a[j]&gt;a[j+1]){\r\n\t\t\t\t\ttemp=a[j];\r\n\t\t\t\t\ta[j]=a[j+1];\r\n\t\t\t\t\ta[j+1]=temp;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\r\n\t\t\r\n\t\tfor(int i=0;i&lt;a.length-count;i++){\r\n\t\t\tif(a[i]==a[i+1]){\r\n\t\t\t\tfor(int j=i;j&lt;a.length-count;j++){\r\n\t\t\t\ta[j]=a[j+1];\r\n\t\t\t}\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\t}\r\n\t\t\r\n\t\r\n\t\treturn a;\r\n\t}\r\n\r\n\t\r\n    }\r\n\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\r\n","title":"how to delete repeated elements from a sorted array","body":"<p>As you can see here this is a program which is to sort elements in ascending order and delete any repeated elements. The problem here is with the 'delete' snippet. It works for an array of 5 elements where the values(1,3,3,5,5) are in any order because the 'sort' snippet takes care of that. However if you take a sequence say(1,1,1,2,1,3) the deletion does not take place completely. Can someone please tell me where I'm going wrong?</p>\n<pre><code>import java.util.*;\n\nclass Random \n{ \n \n static int count=2;\npublic static void main(String[] args)          \n{\n    \n        Scanner sc=new Scanner(System.in);\n        System.out.println(&quot;How many elements are in your set?&quot;);// gets your elements\n        int input=sc.nextInt();\n       \n        int Subsets=No_of_subsets(input);\n        // to accept elements\n        int arr[]=new int[input+2];\n        accept(arr);\n        //to sort and delete repeated elements\n\n        sortanddelete(arr);\n        System.out.println(&quot;Array a=&quot;);\n        for(int i=0;i&lt;arr.length-count;i++)\n        {\n            System.out.println(arr[i]);\n        }\n  System.out.println(&quot;Count&quot;+count);\n}\npublic static int No_of_subsets(int a )\n{\n    double ab=Math.pow(2, a);\n    int ans=(int)ab;\n    System.out.println(&quot;Your superset will have &quot;+ans+&quot; subsets&quot;);\n    return (int)ans;\n}\n\npublic static int[] accept(int a[])\n{\n    Scanner sc=new Scanner(System.in);\n    System.out.println(&quot;Enter your array elements&quot;);\n    for(int i=0;i&lt;a.length-2;i++){\n        a[i]=sc.nextInt();\n    }\n    return a;\n}\n\npublic static int[] sortanddelete(int a[])\n{\n    int temp;\n    for(int i=a.length-3;i&gt;0;i--){\n        for(int j=0;j&lt;i;j++){\n            if(a[j]&gt;a[j+1]){\n                temp=a[j];\n                a[j]=a[j+1];\n                a[j+1]=temp;\n            }\n        }\n    }\n    \n\n    \n    for(int i=0;i&lt;a.length-count;i++){\n        if(a[i]==a[i+1]){\n            for(int j=i;j&lt;a.length-count;j++){\n            a[j]=a[j+1];\n        }\n        count++;\n    }\n    }\n    \n\n    return a;\n}\n\n\n}\n\n    \n    \n    \n    \n    \n</code></pre>\n"},{"tags":["java","unit-testing","powermock"],"answers":[{"tags":[],"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670340535,"creation_date":1670340535,"answer_id":74705082,"question_id":74704485,"body_markdown":"Found an answer. Leaving this for anybody who is having some issue.\r\n\r\nProblem was that I was adding interface class not actual implementation class. &lt;b&gt;Changing `@PrepareForTest(KeyVaultService.class)` to `@PrepareForTest(KeyVaultServiceImpl.class)`&lt;/b&gt; works.","title":"PowerMock not creating mock for new final object instance","body":"<p>Found an answer. Leaving this for anybody who is having some issue.</p>\n<p>Problem was that I was adding interface class not actual implementation class. <b>Changing <code>@PrepareForTest(KeyVaultService.class)</code> to <code>@PrepareForTest(KeyVaultServiceImpl.class)</code></b> works.</p>\n"}],"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670340535,"creation_date":1670338176,"question_id":74704485,"body_markdown":"I am writing an unit test for method that instantiates final class like this:\r\n```\r\n    public Mono&lt;String&gt; getSecret(String key) {\r\n        SecretClientBuilder secretClientBuilder = new SecretClientBuilder();\r\n        secretClientBuilder = secretClientBuilder.vaultUrl(keyVaultUrl);\r\n        secretClientBuilder = secretClientBuilder.credential(new DefaultAzureCredentialBuilder().build());\r\n        SecretClient secretClient = secretClientBuilder.buildClient();\r\n        KeyVaultSecret retrievedSecret = secretClient.getSecret(key);\r\n        return Mono.just(retrievedSecret.getValue());\r\n    }\r\n```\r\n`SecretClient` and `SecretClientBuilder` are imported from azure library. In order to test this, I am trying to use `PowerMockito`\r\n\r\nMy approach is to create mock object when `new SecretClientBuilder()` is called so when that mock object is calling methods such as `.vaultUrl()` or `.credential()`, I can make my test to return a mocked objects. Here is my starting code:\r\n```\r\n    @Before\r\n    public void before() {\r\n        keyVaultService = new KeyVaultServiceImpl(KEY_VAULT_URL);\r\n    }\r\n\r\n    @Test\r\n    public void test() throws Exception {\r\n        SecretClientBuilder secretClientBuilder = mock(SecretClientBuilder.class);\r\n        PowerMockito.whenNew(SecretClientBuilder.class).withNoArguments().thenReturn(secretClientBuilder);\r\n        PowerMockito.when(secretClientBuilder.vaultUrl(anyString())).thenReturn(secretClientBuilder);\r\n        keyVaultService.getSecret(CLIENT_ID_KEY);\r\n    }\r\n```\r\n\r\nHowever, test fails because when `SecretClientBuilder` is being instantiated, it does not return the mock object. Instead, it creates a new instance of `SecretClientBuilder` when `SecretClientBuilder secretClientBuilder = new SecretClientBuilder()`.\r\n\r\nHow can I instantiate `SecretClientBuilder` object using PowerMockito? &lt;b&gt;`SecretClientBuilder` is final class. &lt;/b&gt;\r\n\r\nEdit:\r\nThis is what I am using for class annotations:\r\n```\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest({KeyVaultService.class, SecretClientBuilder.class})\r\n```\r\nI tried only using either classes in `@PrepareForTest` and nothing works with same behavior.\r\n\r\n\r\nEdit2: I was testing with `TestService` to see if final was an issue. It was not. Here is my TestService:\r\n```\r\npublic class TestService {\r\n    \r\n    public String test() {\r\n        return &quot;actual&quot;;\r\n    }\r\n```\r\nand here is my KeyVaultService: \r\n```\r\n    public Mono&lt;String&gt; getSecret(String key) {\r\n        TestService testService = new TestService();\r\n        System.out.println(testService.test());\r\n        ...\r\n    }\r\n```\r\nand my test:\r\n```\r\n    @Test\r\n    public void test() throws Exception {\r\n        TestService mock = mock(TestService.class);\r\n        PowerMockito.whenNew(TestService .class).withAnyArguments().thenReturn(mock);\r\n        PowerMockito.when(mock.test()).thenReturn(&quot;mock&quot;);\r\n        keyVaultService.getSecret(CLIENT_ID_KEY);//should print &quot;mock&quot;\r\n    }\r\n```\r\nBut it prints &quot;actual&quot; meaning mocked object was never created when `new TestService();` was called. Is my understanding of PowerMockito and whenNew wrong somewhere?","title":"PowerMock not creating mock for new final object instance","body":"<p>I am writing an unit test for method that instantiates final class like this:</p>\n<pre><code>    public Mono&lt;String&gt; getSecret(String key) {\n        SecretClientBuilder secretClientBuilder = new SecretClientBuilder();\n        secretClientBuilder = secretClientBuilder.vaultUrl(keyVaultUrl);\n        secretClientBuilder = secretClientBuilder.credential(new DefaultAzureCredentialBuilder().build());\n        SecretClient secretClient = secretClientBuilder.buildClient();\n        KeyVaultSecret retrievedSecret = secretClient.getSecret(key);\n        return Mono.just(retrievedSecret.getValue());\n    }\n</code></pre>\n<p><code>SecretClient</code> and <code>SecretClientBuilder</code> are imported from azure library. In order to test this, I am trying to use <code>PowerMockito</code></p>\n<p>My approach is to create mock object when <code>new SecretClientBuilder()</code> is called so when that mock object is calling methods such as <code>.vaultUrl()</code> or <code>.credential()</code>, I can make my test to return a mocked objects. Here is my starting code:</p>\n<pre><code>    @Before\n    public void before() {\n        keyVaultService = new KeyVaultServiceImpl(KEY_VAULT_URL);\n    }\n\n    @Test\n    public void test() throws Exception {\n        SecretClientBuilder secretClientBuilder = mock(SecretClientBuilder.class);\n        PowerMockito.whenNew(SecretClientBuilder.class).withNoArguments().thenReturn(secretClientBuilder);\n        PowerMockito.when(secretClientBuilder.vaultUrl(anyString())).thenReturn(secretClientBuilder);\n        keyVaultService.getSecret(CLIENT_ID_KEY);\n    }\n</code></pre>\n<p>However, test fails because when <code>SecretClientBuilder</code> is being instantiated, it does not return the mock object. Instead, it creates a new instance of <code>SecretClientBuilder</code> when <code>SecretClientBuilder secretClientBuilder = new SecretClientBuilder()</code>.</p>\n<p>How can I instantiate <code>SecretClientBuilder</code> object using PowerMockito? <b><code>SecretClientBuilder</code> is final class. </b></p>\n<p>Edit:\nThis is what I am using for class annotations:</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({KeyVaultService.class, SecretClientBuilder.class})\n</code></pre>\n<p>I tried only using either classes in <code>@PrepareForTest</code> and nothing works with same behavior.</p>\n<p>Edit2: I was testing with <code>TestService</code> to see if final was an issue. It was not. Here is my TestService:</p>\n<pre><code>public class TestService {\n    \n    public String test() {\n        return &quot;actual&quot;;\n    }\n</code></pre>\n<p>and here is my KeyVaultService:</p>\n<pre><code>    public Mono&lt;String&gt; getSecret(String key) {\n        TestService testService = new TestService();\n        System.out.println(testService.test());\n        ...\n    }\n</code></pre>\n<p>and my test:</p>\n<pre><code>    @Test\n    public void test() throws Exception {\n        TestService mock = mock(TestService.class);\n        PowerMockito.whenNew(TestService .class).withAnyArguments().thenReturn(mock);\n        PowerMockito.when(mock.test()).thenReturn(&quot;mock&quot;);\n        keyVaultService.getSecret(CLIENT_ID_KEY);//should print &quot;mock&quot;\n    }\n</code></pre>\n<p>But it prints &quot;actual&quot; meaning mocked object was never created when <code>new TestService();</code> was called. Is my understanding of PowerMockito and whenNew wrong somewhere?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670340421,"creation_date":1670340421,"answer_id":74705047,"question_id":74704943,"body_markdown":"You can start a Service or BroadcastReceiver.  You can&#39;t start an Activity from the background anymore except under very specific circumstances.","title":"Can we start Our app when the phone starts on Android API 30?","body":"<p>You can start a Service or BroadcastReceiver.  You can't start an Activity from the background anymore except under very specific circumstances.</p>\n"}],"owner":{"account_id":27166727,"reputation":1,"user_id":20704139,"display_name":"Hamidreza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670340421,"creation_date":1670340059,"question_id":74704943,"body_markdown":"i wrote these in my manifest:\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n```\r\n\r\n```\r\n&lt;receiver android:name=&quot;.StartMyServiceAtBootReceiver&quot;&gt;\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n        &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n&lt;/receiver&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nand this is my java class:\r\n\r\n\r\n```\r\npublic class StartMyServiceAtBootReceiver extends BroadcastReceiver {\r\n    @Override\r\n    public void onReceive(final Context context, Intent intent) {\r\n        if (Intent.ACTION_BOOT_COMPLETED.equals(intent.getAction())){\r\n            Toast.makeText(context, &quot;Your Device Rebooted&quot;, Toast.LENGTH_SHORT).show();\r\n            Intent activityIntent = new Intent(context, MainActivity.class);\r\n            activityIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            context.startActivity(activityIntent);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI wrote these codes many time but still not working. I think it&#39;s not working because i&#39;am using API 30. Can you please help me:","title":"Can we start Our app when the phone starts on Android API 30?","body":"<p>i wrote these in my manifest:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n</code></pre>\n<pre><code>&lt;receiver android:name=&quot;.StartMyServiceAtBootReceiver&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n        &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n<p>and this is my java class:</p>\n<pre><code>public class StartMyServiceAtBootReceiver extends BroadcastReceiver {\n    @Override\n    public void onReceive(final Context context, Intent intent) {\n        if (Intent.ACTION_BOOT_COMPLETED.equals(intent.getAction())){\n            Toast.makeText(context, &quot;Your Device Rebooted&quot;, Toast.LENGTH_SHORT).show();\n            Intent activityIntent = new Intent(context, MainActivity.class);\n            activityIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n            context.startActivity(activityIntent);\n        }\n    }\n}\n</code></pre>\n<p>I wrote these codes many time but still not working. I think it's not working because i'am using API 30. Can you please help me:</p>\n"},{"tags":["java","hibernate","jpa","jackson","deserialization"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1670340650,"post_id":74705005,"comment_id":131851216,"body_markdown":"`seller varchar(100) NOT NULL`. What does your ticket look like before `daoticket.save(ticket);`? I assume that no seller is set","body":"<code>seller varchar(100) NOT NULL</code>. What does your ticket look like before <code>daoticket.save(ticket);</code>? I assume that no seller is set"},{"owner":{"account_id":15775414,"reputation":1,"user_id":11383299,"display_name":"B0naparte"},"score":0,"creation_date":1670341004,"post_id":74705005,"comment_id":131851341,"body_markdown":"All the data in the database is set by the SQL Script. Or what do you mean with no seller is set? Where? I don&#39;t really know how Java persistence works... So how could I set a seller? \n-&gt;&gt; I do not want to change the Database.\n\nMy POST contains: \n{\n    &quot;code&quot;: 14,\n    &quot;event&quot;: 132,\n    &quot;type&quot;: &quot;dance&quot;,\n    &quot;price&quot;: 17.5,\n    &quot;seller&quot;: &quot;pepe&quot;\n}","body":"All the data in the database is set by the SQL Script. Or what do you mean with no seller is set? Where? I don&#39;t really know how Java persistence works... So how could I set a seller?  -&gt;&gt; I do not want to change the Database.  My POST contains:  {     &quot;code&quot;: 14,     &quot;event&quot;: 132,     &quot;type&quot;: &quot;dance&quot;,     &quot;price&quot;: 17.5,     &quot;seller&quot;: &quot;pepe&quot; }"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1670341266,"post_id":74705005,"comment_id":131851425,"body_markdown":"You have the seller ID in the JSON, but not the seller object, which is what you need to persist it correctly. Fetch the user from DB using the ID, call `ticket.setUser(sellerFromDB);` and only then `daoticket.save(ticket);`","body":"You have the seller ID in the JSON, but not the seller object, which is what you need to persist it correctly. Fetch the user from DB using the ID, call <code>ticket.setUser(sellerFromDB);</code> and only then <code>daoticket.save(ticket);</code>"},{"owner":{"account_id":15775414,"reputation":1,"user_id":11383299,"display_name":"B0naparte"},"score":0,"creation_date":1670342270,"post_id":74705005,"comment_id":131851795,"body_markdown":"Ok sound logic, thanks. \nSo I would create a UserDAO Class to access the Database and fetch the User object or how would you do it?","body":"Ok sound logic, thanks.  So I would create a UserDAO Class to access the Database and fetch the User object or how would you do it?"},{"owner":{"account_id":15775414,"reputation":1,"user_id":11383299,"display_name":"B0naparte"},"score":0,"creation_date":1670347394,"post_id":74705005,"comment_id":131853805,"body_markdown":"I still don&#39;t understand how to access the ID (seller) in the JSON without loosing the other data. It should be possible without changing the Entitiy right? So if I set &quot;@Responsebody Ticket ticket, I cannot access the ID because it is null and to set  &quot;@Responsebody String json, and extract the String is not the way to do I guess...","body":"I still don&#39;t understand how to access the ID (seller) in the JSON without loosing the other data. It should be possible without changing the Entitiy right? So if I set &quot;@Responsebody Ticket ticket, I cannot access the ID because it is null and to set  &quot;@Responsebody String json, and extract the String is not the way to do I guess..."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1670352324,"post_id":74705005,"comment_id":131855407,"body_markdown":"Try serializing a java object that is &#39;correct&#39; in the database to JSON. You need to make sure that the process is completely reversible or JPA will give you problems, and the JSON you are using isn&#39;t correct. JSON-&gt;Java must not be working for you and your &#39;user&#39; property left as null. Try maybe sending an object: &quot;user&quot;:{&quot;alias&quot;:&quot;pepe&quot;} instead. Or make sure you send the seller &quot;pepe&quot; in the json some how so your parser can build it correctly.","body":"Try serializing a java object that is &#39;correct&#39; in the database to JSON. You need to make sure that the process is completely reversible or JPA will give you problems, and the JSON you are using isn&#39;t correct. JSON-&gt;Java must not be working for you and your &#39;user&#39; property left as null. Try maybe sending an object: &quot;user&quot;:{&quot;alias&quot;:&quot;pepe&quot;} instead. Or make sure you send the seller &quot;pepe&quot; in the json some how so your parser can build it correctly."}],"owner":{"account_id":15775414,"reputation":1,"user_id":11383299,"display_name":"B0naparte"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670340292,"creation_date":1670340292,"question_id":74705005,"body_markdown":"I want to add a new Ticket to my SQL Database.\r\nTicket has 2 PK: event and code;\r\n\r\nI created Entitys with Composite Keys and want to execute POST requests. I always get &quot;Column &#39;seller&#39; cannot be null&quot;. Anyone here knows how to work with **Java Persistence** and so on?\r\n\r\nI tried it with IdClass and Embeddable but I get errors for both. It&#39;s just the inserting of a new Object in the Database. GET Requests work fine...\r\nI tried different annotations but for now nothing worked. I probably don&#39;t really understand the concept of Java Persistence, but I also dont have to time to go trough it the whole way. So of it&#39;s obvious, please explain a little what it does... Thanks in advance!\r\n\r\n\r\n\r\n\r\n\r\nMy Entities:\r\n\r\n\r\n\r\nEvent.java\r\n```\r\n@Entity\r\n@Table(name=&quot;events&quot;)\r\n@NamedQuery(name=&quot;Event.findAll&quot;, query=&quot;SELECT e FROM Event e&quot;)\r\npublic class Event implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate long id;\r\n\r\n\tprivate String category;\r\n\r\n\tprivate String city;\r\n\r\n\t@Temporal(TemporalType.DATE)\r\n\tprivate Date date;\r\n\r\n\t@Column(name=&quot;image_path&quot;)\r\n\tprivate String imagePath;\r\n\r\n\tprivate String name;\r\n\r\n\tprivate String venue;\r\n\r\n\t//bi-directional one-to-many association to Ticket\r\n\t@OneToMany(mappedBy=&quot;eventBean&quot;)\r\n\t@JsonManagedReference(value=&quot;eventBean&quot;)\r\n\tprivate List&lt;Ticket&gt; tickets;\r\n\r\n\tpublic Event() {\r\n\t}\r\n```\r\n\r\n\r\nTicket.java\r\n```\r\n@Entity\r\n@Table(name=&quot;tickets&quot;)\r\n@IdClass(TicketPK.class)\r\n//@NamedQuery(name=&quot;Ticket.findAll&quot;, query=&quot;SELECT t FROM Ticket t&quot;)\r\npublic class Ticket implements Serializable{\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\tprivate long code;\r\n\t\r\n\t@Id\r\n\tprivate long event;\r\n\r\n\tprivate float price;\r\n\r\n\tprivate String type;\r\n\t\r\n\t//@Column(insertable=false, updatable=false)\r\n\t//private long event;\r\n\r\n\t//bi-directional many-to-one association to Event\r\n\t//One Event can have many tickets\r\n\t@ManyToOne(fetch = FetchType.EAGER)\r\n\t@JsonBackReference(value=&quot;eventBean&quot;)\r\n\t@JoinColumn(name=&quot;event&quot;,nullable = false,insertable=false,updatable=false)\r\n\tprivate Event eventBean;\r\n\r\n\t//bi-directional many-to-one association to User\r\n\t//One User can have many tickets\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JsonBackReference(value=&quot;seller&quot;)\r\n\t@JoinColumn(name=&quot;seller&quot;, referencedColumnName = &quot;alias&quot;)\r\n\tprivate User user;\r\n\r\n\tpublic Ticket() {\r\n\t}\r\n\t\r\n\tpublic Ticket(long event, float price, Event eventBean, User user) {\r\n\t\tthis.event = event;\r\n\t\tthis.price = price;\r\n\t\tthis.eventBean = eventBean;\r\n\t\tthis.user = user;\r\n\t}\r\n\r\n   //getters and setters\r\n\r\n```\r\n\r\n\r\n```\r\npublic class TicketPK implements Serializable {\r\n\t//default serial version id, required for serializable classes.\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t//@Basic\r\n\t//@GeneratedValue(strategy = GenerationType.AUTO)\r\n\t//@Column(name=&quot;code&quot;, nullable=false)\r\n\tprivate long code;\r\n\r\n\t//@Basic\r\n\t//@Column(name=&quot;event&quot;,insertable=false)\r\n\tprivate long event;\r\n\r\n\tpublic TicketPK() {\r\n\t}\r\n\t\r\n\tpublic TicketPK(long code, long event) {\r\n\t\tthis.code = code;\r\n\t\tthis.event = event;\r\n\t}\r\n\t\r\n//getters and setters\r\n\r\n\tpublic boolean equals(Object other) {\r\n\t\tif (this.equals(other)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (!(other instanceof TicketPK)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tTicketPK castOther = (TicketPK)other;\r\n\t\treturn \r\n\t\t\t(this.code == castOther.code)\r\n\t\t\t&amp;&amp; (this.event == castOther.event);\r\n\t}\r\n\r\n\tpublic int hashCode() {\r\n\t\tfinal int prime = 31;\r\n\t\tint hash = 17;\r\n\t\thash = hash * prime + ((int) (this.code ^ (this.code &gt;&gt;&gt; 32)));\r\n\t\thash = hash * prime + ((int) (this.event ^ (this.event &gt;&gt;&gt; 32)));\r\n\t\t\r\n\t\treturn hash;\r\n\t}\r\n\r\n\r\n}\r\n```\r\n\r\n\r\nUser.java\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;users&quot;)\r\n@NamedQuery(name=&quot;User.findAll&quot;, query=&quot;SELECT u FROM User u&quot;)\r\npublic class User implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate String alias;\r\n\r\n\tprivate String address;\r\n\r\n\t@Column(name=&quot;admin_status&quot;)\r\n\tprivate byte adminStatus;\r\n\r\n\tprivate String name;\r\n\r\n\tprivate String password;\r\n\r\n\t@Column(name=&quot;phone_number&quot;)\r\n\tprivate int phoneNumber;\r\n\r\n\t//bi-directional one-to-many association to Ticket\r\n\t//One User can have many Tickets\r\n\t@OneToMany(mappedBy=&quot;user&quot;)\r\n\t@JsonManagedReference(value=&quot;seller&quot;)\r\n\tprivate List&lt;Ticket&gt; tickets;\r\n\r\n\tpublic User() {\r\n\t}\r\n```\r\n\r\n\r\nDAO\r\n----------------------------\r\nTicketDAO\r\n\r\n```\r\npublic interface TicketDAO extends CrudRepository&lt;Ticket, TicketPK&gt;{\r\n\r\n\tpublic List&lt;Ticket&gt; findAll();\r\n}\r\n```\r\n\r\n\r\nController\r\n----------------------------\r\n\r\n```\r\n@Controller\r\n@CrossOrigin\r\npublic class MyController {\r\n\r\n\t@Autowired\r\n\tTicketDAO daoticket;\r\n\t\r\n\t/****************** OPERATIONS ON Tickets ************************************/\r\n\r\n\t\r\n\t\r\n\t@RequestMapping(value=&quot;/tickets&quot;, method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n\tpublic ResponseEntity&lt;Ticket&gt; createTicket(@RequestBody Ticket ticket) {\r\n\t\t\r\n\t\tResponseEntity&lt;Ticket&gt; response;\r\n\t\t\r\n\t\tTicket newTicket = daoticket.save(ticket);\r\n\t\tif (newTicket == null) {\r\n\t\t\tresponse = new ResponseEntity&lt;&gt;(HttpStatus.NOT_MODIFIED);\r\n\t\t} else {\r\n\t\t\tresponse = new ResponseEntity&lt;&gt;(newTicket, HttpStatus.CREATED);\r\n\t\t}\r\n\t\treturn response;\t\r\n\t}\r\n}\r\n```\r\n\r\n\r\nSQL Database\r\n----------------------------\r\n\r\n\r\n```\r\nCREATE DATABASE IF NOT EXISTS `BD89_03_ticketsell`;\r\nUSE `BD89_03_ticketsell`;\r\n\r\nDROP TABLE IF EXISTS `TICKETS`;\r\nDROP TABLE IF EXISTS `EVENTS`;\r\nDROP TABLE IF EXISTS `USERS`;\r\n\r\nCREATE TABLE `users` (\r\n\t`name` varchar(100),\r\n    `alias` varchar(100) NOT NULL UNIQUE,\r\n    `password` varchar(100) NOT NULL,\r\n    `address` varchar(100),\r\n    `phone_number` int(10),\r\n    `admin_status` boolean NOT NULL,\r\n    PRIMARY KEY(`alias`)\r\n);\r\n\r\nCREATE TABLE `events`(\r\n\t`id` bigint NOT NULL UNIQUE AUTO_INCREMENT,\r\n    `name` varchar(100) NOT NULL,\r\n    `category` varchar(100) NOT NULL,\r\n    `date` date NOT NULL,\r\n    `city`varchar(100) NOT NULL,\r\n    `venue` varchar(100) NOT NULL,\r\n    `image_path` varchar(300) NOT NULL,\r\n\tPRIMARY KEY(`id`)\r\n);\r\n\r\n\r\nCREATE TABLE `tickets`(\r\n\t`code` bigint NOT NULL,\r\n    `event` bigint NOT NULL,\r\n    `type` varchar(100),\r\n    `price` FLOAT(10,2) NOT NULL,\r\n    `seller` varchar(100) NOT NULL,\r\n\tPRIMARY KEY(`code`, `event`),\r\n    FOREIGN KEY(`seller`) REFERENCES `users`(`alias`),\r\n    FOREIGN KEY(`event`) REFERENCES `events`(`id`)\r\n);\r\n\r\nINSERT INTO events (`name`, `category`, `date`, `city`, `venue`, `image_path`)\r\nVALUES (&#39;Cut Cupy&#39;, &#39;indie dance&#39;, &#39;2024-01-22&#39;, &#39;Madrid&#39;, &#39;La Riviera&#39;, &#39;images/CUT-COPY2.png&#39;),\r\n(&#39;Dub Inc Tour 2022&#39;, &#39;reggae&#39;, &#39;2021-05-03&#39;, &#39;Madrid&#39;, &#39;Sala Sol&#39;, &#39;images/DUB-INC-TOUR.jpg&#39;),\r\n(&#39;Kodaline&#39;, &#39;folk&#39;, &#39;2022-03-15&#39;, &#39;Sevilla&#39;, &#39;Tablao el gitanillo&#39;, &#39;images/Kodaline.png&#39;);\r\n\r\nINSERT INTO users (`name`,`alias`,`password`,`address`,`phone_number`, `admin_status`)\r\nVALUES (&#39;pepe&#39;, &#39;pepe&#39;, &#39;password&#39;, &#39;17 Calle&#39;, &#39;628791051&#39;, TRUE),\r\n(&#39;pepe2&#39;, &#39;pepe2&#39;, &#39;password&#39;, &#39;0 Calle&#39;, &#39;628791052&#39;, FALSE),\r\n(&#39;elisa&#39;, &#39;elisacool&#39;, &#39;contrase&#241;a&#39;, &#39;3 Calle&#39;, &#39;628791053&#39;, FALSE);\r\n\r\nINSERT INTO tickets (`code`,`event`,`type`,`price`,`seller`)\r\nVALUES (&#39;1234&#39;, &#39;1&#39;, &#39;palco&#39;, &#39;17.5&#39;, &#39;pepe&#39;),\r\n(&#39;666666&#39;, &#39;3&#39;, &#39;silla&#39;, &#39;20&#39;, &#39;elisacool&#39;),\r\n(&#39;666666&#39;, &#39;1&#39;, &#39;anfiteatro&#39;, &#39;12&#39;, &#39;pepe2&#39;),\r\n(&#39;222222&#39;, &#39;2&#39;, &#39;palco 3&#39;, &#39;21.47&#39;, &#39;elisacool&#39;),\r\n(&#39;444666&#39;, &#39;3&#39;, &#39;plat&#243;&#39;, &#39;5&#39;, &#39;pepe&#39;),\r\n(&#39;111111&#39;, &#39;2&#39;, &#39;palco 2&#39;, &#39;40.99&#39;, &#39;elisacool&#39;);\r\n```\r\n\r\nConsole Error\r\n----------------------------\r\n\r\n```\r\n2022-12-06 15:52:46.186  WARN 9656 --- [io-10303-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000\r\n2022-12-06 15:52:46.186 ERROR 9656 --- [io-10303-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column &#39;seller&#39; cannot be null\r\n2022-12-06 15:52:46.186  INFO 9656 --- [io-10303-exec-2] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements\r\n2022-12-06 15:52:46.199 ERROR 9656 --- [io-10303-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\r\n\r\n\r\njava.sql.SQLIntegrityConstraintViolationException: Column &#39;seller&#39; cannot be null\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\n\t\r\n.\r\n.\r\n.\r\n```\r\n\r\n\r\n\r\n","title":"java.sql.SQLIntegrityConstraintViolationException: Column &#39;*&#39; cannot be null - Java Persistence - JPA - Hibernate","body":"<p>I want to add a new Ticket to my SQL Database.\nTicket has 2 PK: event and code;</p>\n<p>I created Entitys with Composite Keys and want to execute POST requests. I always get &quot;Column 'seller' cannot be null&quot;. Anyone here knows how to work with <strong>Java Persistence</strong> and so on?</p>\n<p>I tried it with IdClass and Embeddable but I get errors for both. It's just the inserting of a new Object in the Database. GET Requests work fine...\nI tried different annotations but for now nothing worked. I probably don't really understand the concept of Java Persistence, but I also dont have to time to go trough it the whole way. So of it's obvious, please explain a little what it does... Thanks in advance!</p>\n<p>My Entities:</p>\n<p>Event.java</p>\n<pre><code>@Entity\n@Table(name=&quot;events&quot;)\n@NamedQuery(name=&quot;Event.findAll&quot;, query=&quot;SELECT e FROM Event e&quot;)\npublic class Event implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private long id;\n\n    private String category;\n\n    private String city;\n\n    @Temporal(TemporalType.DATE)\n    private Date date;\n\n    @Column(name=&quot;image_path&quot;)\n    private String imagePath;\n\n    private String name;\n\n    private String venue;\n\n    //bi-directional one-to-many association to Ticket\n    @OneToMany(mappedBy=&quot;eventBean&quot;)\n    @JsonManagedReference(value=&quot;eventBean&quot;)\n    private List&lt;Ticket&gt; tickets;\n\n    public Event() {\n    }\n</code></pre>\n<p>Ticket.java</p>\n<pre><code>@Entity\n@Table(name=&quot;tickets&quot;)\n@IdClass(TicketPK.class)\n//@NamedQuery(name=&quot;Ticket.findAll&quot;, query=&quot;SELECT t FROM Ticket t&quot;)\npublic class Ticket implements Serializable{\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    private long code;\n    \n    @Id\n    private long event;\n\n    private float price;\n\n    private String type;\n    \n    //@Column(insertable=false, updatable=false)\n    //private long event;\n\n    //bi-directional many-to-one association to Event\n    //One Event can have many tickets\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JsonBackReference(value=&quot;eventBean&quot;)\n    @JoinColumn(name=&quot;event&quot;,nullable = false,insertable=false,updatable=false)\n    private Event eventBean;\n\n    //bi-directional many-to-one association to User\n    //One User can have many tickets\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JsonBackReference(value=&quot;seller&quot;)\n    @JoinColumn(name=&quot;seller&quot;, referencedColumnName = &quot;alias&quot;)\n    private User user;\n\n    public Ticket() {\n    }\n    \n    public Ticket(long event, float price, Event eventBean, User user) {\n        this.event = event;\n        this.price = price;\n        this.eventBean = eventBean;\n        this.user = user;\n    }\n\n   //getters and setters\n\n</code></pre>\n<pre><code>public class TicketPK implements Serializable {\n    //default serial version id, required for serializable classes.\n    private static final long serialVersionUID = 1L;\n\n    //@Basic\n    //@GeneratedValue(strategy = GenerationType.AUTO)\n    //@Column(name=&quot;code&quot;, nullable=false)\n    private long code;\n\n    //@Basic\n    //@Column(name=&quot;event&quot;,insertable=false)\n    private long event;\n\n    public TicketPK() {\n    }\n    \n    public TicketPK(long code, long event) {\n        this.code = code;\n        this.event = event;\n    }\n    \n//getters and setters\n\n    public boolean equals(Object other) {\n        if (this.equals(other)) {\n            return true;\n        }\n        if (!(other instanceof TicketPK)) {\n            return false;\n        }\n        TicketPK castOther = (TicketPK)other;\n        return \n            (this.code == castOther.code)\n            &amp;&amp; (this.event == castOther.event);\n    }\n\n    public int hashCode() {\n        final int prime = 31;\n        int hash = 17;\n        hash = hash * prime + ((int) (this.code ^ (this.code &gt;&gt;&gt; 32)));\n        hash = hash * prime + ((int) (this.event ^ (this.event &gt;&gt;&gt; 32)));\n        \n        return hash;\n    }\n\n\n}\n</code></pre>\n<p>User.java</p>\n<pre><code>@Entity\n@Table(name=&quot;users&quot;)\n@NamedQuery(name=&quot;User.findAll&quot;, query=&quot;SELECT u FROM User u&quot;)\npublic class User implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private String alias;\n\n    private String address;\n\n    @Column(name=&quot;admin_status&quot;)\n    private byte adminStatus;\n\n    private String name;\n\n    private String password;\n\n    @Column(name=&quot;phone_number&quot;)\n    private int phoneNumber;\n\n    //bi-directional one-to-many association to Ticket\n    //One User can have many Tickets\n    @OneToMany(mappedBy=&quot;user&quot;)\n    @JsonManagedReference(value=&quot;seller&quot;)\n    private List&lt;Ticket&gt; tickets;\n\n    public User() {\n    }\n</code></pre>\n<h2>DAO</h2>\n<p>TicketDAO</p>\n<pre><code>public interface TicketDAO extends CrudRepository&lt;Ticket, TicketPK&gt;{\n\n    public List&lt;Ticket&gt; findAll();\n}\n</code></pre>\n<h2>Controller</h2>\n<pre><code>@Controller\n@CrossOrigin\npublic class MyController {\n\n    @Autowired\n    TicketDAO daoticket;\n    \n    /****************** OPERATIONS ON Tickets ************************************/\n\n    \n    \n    @RequestMapping(value=&quot;/tickets&quot;, method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;Ticket&gt; createTicket(@RequestBody Ticket ticket) {\n        \n        ResponseEntity&lt;Ticket&gt; response;\n        \n        Ticket newTicket = daoticket.save(ticket);\n        if (newTicket == null) {\n            response = new ResponseEntity&lt;&gt;(HttpStatus.NOT_MODIFIED);\n        } else {\n            response = new ResponseEntity&lt;&gt;(newTicket, HttpStatus.CREATED);\n        }\n        return response;    \n    }\n}\n</code></pre>\n<h2>SQL Database</h2>\n<pre><code>CREATE DATABASE IF NOT EXISTS `BD89_03_ticketsell`;\nUSE `BD89_03_ticketsell`;\n\nDROP TABLE IF EXISTS `TICKETS`;\nDROP TABLE IF EXISTS `EVENTS`;\nDROP TABLE IF EXISTS `USERS`;\n\nCREATE TABLE `users` (\n    `name` varchar(100),\n    `alias` varchar(100) NOT NULL UNIQUE,\n    `password` varchar(100) NOT NULL,\n    `address` varchar(100),\n    `phone_number` int(10),\n    `admin_status` boolean NOT NULL,\n    PRIMARY KEY(`alias`)\n);\n\nCREATE TABLE `events`(\n    `id` bigint NOT NULL UNIQUE AUTO_INCREMENT,\n    `name` varchar(100) NOT NULL,\n    `category` varchar(100) NOT NULL,\n    `date` date NOT NULL,\n    `city`varchar(100) NOT NULL,\n    `venue` varchar(100) NOT NULL,\n    `image_path` varchar(300) NOT NULL,\n    PRIMARY KEY(`id`)\n);\n\n\nCREATE TABLE `tickets`(\n    `code` bigint NOT NULL,\n    `event` bigint NOT NULL,\n    `type` varchar(100),\n    `price` FLOAT(10,2) NOT NULL,\n    `seller` varchar(100) NOT NULL,\n    PRIMARY KEY(`code`, `event`),\n    FOREIGN KEY(`seller`) REFERENCES `users`(`alias`),\n    FOREIGN KEY(`event`) REFERENCES `events`(`id`)\n);\n\nINSERT INTO events (`name`, `category`, `date`, `city`, `venue`, `image_path`)\nVALUES ('Cut Cupy', 'indie dance', '2024-01-22', 'Madrid', 'La Riviera', 'images/CUT-COPY2.png'),\n('Dub Inc Tour 2022', 'reggae', '2021-05-03', 'Madrid', 'Sala Sol', 'images/DUB-INC-TOUR.jpg'),\n('Kodaline', 'folk', '2022-03-15', 'Sevilla', 'Tablao el gitanillo', 'images/Kodaline.png');\n\nINSERT INTO users (`name`,`alias`,`password`,`address`,`phone_number`, `admin_status`)\nVALUES ('pepe', 'pepe', 'password', '17 Calle', '628791051', TRUE),\n('pepe2', 'pepe2', 'password', '0 Calle', '628791052', FALSE),\n('elisa', 'elisacool', 'contraseÃ±a', '3 Calle', '628791053', FALSE);\n\nINSERT INTO tickets (`code`,`event`,`type`,`price`,`seller`)\nVALUES ('1234', '1', 'palco', '17.5', 'pepe'),\n('666666', '3', 'silla', '20', 'elisacool'),\n('666666', '1', 'anfiteatro', '12', 'pepe2'),\n('222222', '2', 'palco 3', '21.47', 'elisacool'),\n('444666', '3', 'platÃ³', '5', 'pepe'),\n('111111', '2', 'palco 2', '40.99', 'elisacool');\n</code></pre>\n<h2>Console Error</h2>\n<pre><code>2022-12-06 15:52:46.186  WARN 9656 --- [io-10303-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000\n2022-12-06 15:52:46.186 ERROR 9656 --- [io-10303-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'seller' cannot be null\n2022-12-06 15:52:46.186  INFO 9656 --- [io-10303-exec-2] o.h.e.j.b.internal.AbstractBatchImpl     : HHH000010: On release of batch it still contained JDBC statements\n2022-12-06 15:52:46.199 ERROR 9656 --- [io-10303-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\n\n\njava.sql.SQLIntegrityConstraintViolationException: Column 'seller' cannot be null\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117) ~[mysql-connector-j-8.0.31.jar:8.0.31]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.31.jar:8.0.31]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.31.jar:8.0.31]\n    \n.\n.\n.\n</code></pre>\n"},{"tags":["java","android","android-download-manager"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1670340117,"post_id":74704875,"comment_id":131850996,"body_markdown":"`think the request should stay in PENDING or AWAITING_CONNECTION but non of this happens.` Nice example of whishfull thinking ;-)","body":"<code>think the request should stay in PENDING or AWAITING_CONNECTION but non of this happens.</code> Nice example of whishfull thinking ;-)"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1670340308,"post_id":74704875,"comment_id":131851080,"body_markdown":"&quot;The broadcast I receive is DownloadManager.ACTION_DOWNLOAD_COMPLETE and I can&#39;t find any reason or documentation on why I receive this even the download failed&quot; -- &quot;complete&quot; does not imply success. It indicates that `DownloadManager` is no longer going to work with on this particular download. You can query to find out status details regarding the download.","body":"&quot;The broadcast I receive is DownloadManager.ACTION_DOWNLOAD_COMPLETE and I can&#39;t find any reason or documentation on why I receive this even the download failed&quot; -- &quot;complete&quot; does not imply success. It indicates that <code>DownloadManager</code> is no longer going to work with on this particular download. You can query to find out status details regarding the download."},{"owner":{"account_id":12234066,"reputation":566,"user_id":8929068,"display_name":"Top4o"},"score":0,"creation_date":1670348386,"post_id":74704875,"comment_id":131854152,"body_markdown":"You are right. The status is failure so I assume the service lost complete connection to the internet for some reason.","body":"You are right. The status is failure so I assume the service lost complete connection to the internet for some reason."}],"owner":{"account_id":12234066,"reputation":566,"user_id":8929068,"display_name":"Top4o"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670339753,"creation_date":1670339753,"question_id":74704875,"body_markdown":"I have an android OS project and I am using the DownloadManger to perform some updates. Everything works fine with the download but I have an issue with the switching between Wi-Fi and mobile network. \r\n\r\nThe case is:\r\nI am connected to Wi-Fi and start the download, 10 second later I cut the Wi-Fi so the phone switches instantly to mobile network. The problem is that the download stops and I have to restart it from the beginning.\r\n\r\nFrom the logs I can see that the DownloadManger terminates everything but I can see why:\r\n\r\n    2022-12-06 11:07:07.847 2519-3467 DownloadManager com.android.providers.downloads W [18] Stop requested with status HTTP_DATA_ERROR: Failed reading response: java.net.SocketException: Software caused connection abort\r\n    2022-12-06 11:07:07.851 2519-3467 DownloadManager com.android.providers.downloads D [18] Finished with status CANNOT_RESUME\r\n    2022-12-06 11:07:07.947 2519-2519 DownloadManager com.android.providers.downloads D onStopJob id=18, reason=cancel() called by app, callingUid=10049 uid=10049 jobId=18\r\n\r\nAlso, the reason the download cannot restart is that I receive a broadcast from the DownloadManager which states that the download finished but the status is failure so the code removes the temp file.\r\n\r\nThe broadcast I receive is DownloadManager.ACTION_DOWNLOAD_COMPLETE and I can&#39;t find any reason or documentation on why I receive this even the download failed.\r\n\r\nI think the request should stay in PENDING or AWAITING_CONNECTION but non of this happens.\r\n\r\nThe config of the request: \r\n\r\n     Request request = new Request(Uri.parse(updateInfo.getDownloadUrl()));\r\n        String userAgent = Utils.getUserAgentString(context);\r\n        if (userAgent != null) {\r\n            request.addRequestHeader(&quot;User-Agent&quot;, userAgent);\r\n        }\r\n        request.addRequestHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\r\n\r\n        request.setTitle(context.getString(R.string.app_name));\r\n        request.setDestinationUri(Uri.parse(fullFilePath));\r\n        request.setAllowedOverRoaming(true);\r\n        request.setAllowedOverMetered(true);\r\n        request.setVisibleInDownloadsUi(true);\r\n\r\n     // Start the download\r\n            final DownloadManager dm =\r\n                    (DownloadManager) context.getSystemService(Context.DOWNLOAD_SERVICE);\r\n    \r\n            Utils.cancelNotification(context);\r\n    \r\n            long downloadId = dm.enqueue(request);\r\n            updateInfo.setDownloadId(downloadId);\r\n\r\nAny suggestion will be quite helpful, thanks!","title":"DownloadManger sends ACTION_DOWNLOAD_COMPLETE broadcast on no Wi-Fi","body":"<p>I have an android OS project and I am using the DownloadManger to perform some updates. Everything works fine with the download but I have an issue with the switching between Wi-Fi and mobile network.</p>\n<p>The case is:\nI am connected to Wi-Fi and start the download, 10 second later I cut the Wi-Fi so the phone switches instantly to mobile network. The problem is that the download stops and I have to restart it from the beginning.</p>\n<p>From the logs I can see that the DownloadManger terminates everything but I can see why:</p>\n<pre><code>2022-12-06 11:07:07.847 2519-3467 DownloadManager com.android.providers.downloads W [18] Stop requested with status HTTP_DATA_ERROR: Failed reading response: java.net.SocketException: Software caused connection abort\n2022-12-06 11:07:07.851 2519-3467 DownloadManager com.android.providers.downloads D [18] Finished with status CANNOT_RESUME\n2022-12-06 11:07:07.947 2519-2519 DownloadManager com.android.providers.downloads D onStopJob id=18, reason=cancel() called by app, callingUid=10049 uid=10049 jobId=18\n</code></pre>\n<p>Also, the reason the download cannot restart is that I receive a broadcast from the DownloadManager which states that the download finished but the status is failure so the code removes the temp file.</p>\n<p>The broadcast I receive is DownloadManager.ACTION_DOWNLOAD_COMPLETE and I can't find any reason or documentation on why I receive this even the download failed.</p>\n<p>I think the request should stay in PENDING or AWAITING_CONNECTION but non of this happens.</p>\n<p>The config of the request:</p>\n<pre><code> Request request = new Request(Uri.parse(updateInfo.getDownloadUrl()));\n    String userAgent = Utils.getUserAgentString(context);\n    if (userAgent != null) {\n        request.addRequestHeader(&quot;User-Agent&quot;, userAgent);\n    }\n    request.addRequestHeader(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\n\n    request.setTitle(context.getString(R.string.app_name));\n    request.setDestinationUri(Uri.parse(fullFilePath));\n    request.setAllowedOverRoaming(true);\n    request.setAllowedOverMetered(true);\n    request.setVisibleInDownloadsUi(true);\n\n // Start the download\n        final DownloadManager dm =\n                (DownloadManager) context.getSystemService(Context.DOWNLOAD_SERVICE);\n\n        Utils.cancelNotification(context);\n\n        long downloadId = dm.enqueue(request);\n        updateInfo.setDownloadId(downloadId);\n</code></pre>\n<p>Any suggestion will be quite helpful, thanks!</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1662981984,"post_id":73688146,"comment_id":130124193,"body_markdown":"It is the community edition it doesn&#39;t have build in support for Spring, Spring Boot etc. you need the Ultimate edition for that.","body":"It is the community edition it doesn&#39;t have build in support for Spring, Spring Boot etc. you need the Ultimate edition for that."}],"answers":[{"tags":[],"owner":{"account_id":2635431,"reputation":1575,"user_id":2280259,"accept_rate":33,"display_name":"isank-a"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662982162,"creation_date":1662982162,"answer_id":73688579,"question_id":73688146,"body_markdown":"[Spring &amp; Spring Boot assistance](https://www.jetbrains.com/help/idea/spring-boot.html) comes with [IntelliJ IDEA Ultimate](https://www.jetbrains.com/lp/intellij-frameworks/) which can detect all your Beans (along with its usages and injections), Rest Controller Endpoints, Application Properties (along with the classes that use those properties), Spring relevant auto completions, etc. The said features are not available in [IntelliJ IDEA Community Edition](https://www.jetbrains.com/idea/) which is why you see those application properties as unused. Still, in reality, it is being used and your application should pick them up just fine (assuming you&#39;ve set up things correctly). \r\n\r\nThese missing features however should not stop you from developing Spring Boot (or any JVM frameworks for that matter) applications using IntelliJ IDEA Community Edition.","title":"Spring boot - unused properties in aplication.properties","body":"<p><a href=\"https://www.jetbrains.com/help/idea/spring-boot.html\" rel=\"nofollow noreferrer\">Spring &amp; Spring Boot assistance</a> comes with <a href=\"https://www.jetbrains.com/lp/intellij-frameworks/\" rel=\"nofollow noreferrer\">IntelliJ IDEA Ultimate</a> which can detect all your Beans (along with its usages and injections), Rest Controller Endpoints, Application Properties (along with the classes that use those properties), Spring relevant auto completions, etc. The said features are not available in <a href=\"https://www.jetbrains.com/idea/\" rel=\"nofollow noreferrer\">IntelliJ IDEA Community Edition</a> which is why you see those application properties as unused. Still, in reality, it is being used and your application should pick them up just fine (assuming you've set up things correctly).</p>\n<p>These missing features however should not stop you from developing Spring Boot (or any JVM frameworks for that matter) applications using IntelliJ IDEA Community Edition.</p>\n"},{"tags":[],"owner":{"account_id":25004742,"reputation":1,"user_id":18864805,"display_name":"Teo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670339457,"creation_date":1670339457,"answer_id":74704807,"question_id":73688146,"body_markdown":"As the application.properties was not in a source folder, with the name src/main/resource maybe that&#39;s it","title":"Spring boot - unused properties in aplication.properties","body":"<p>As the application.properties was not in a source folder, with the name src/main/resource maybe that's it</p>\n"}],"owner":{"account_id":25389876,"reputation":11,"user_id":19201057,"display_name":"thepirateparrot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":907,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73688579,"answer_count":2,"score":1,"last_activity_date":1670339457,"creation_date":1662980008,"question_id":73688146,"body_markdown":"Do you know why IntelliJ IDEA Community Edition 2022.02.1 does not see properties in aplication.properties? [enter image description here][1]\r\nDoes the compiler recognize and use them even though it cannot see them?\r\nIf you need more information about this problem ask me I will write back as soon as possible.\r\n\r\nThis is my pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;18&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cdmAa.png","title":"Spring boot - unused properties in aplication.properties","body":"<p>Do you know why IntelliJ IDEA Community Edition 2022.02.1 does not see properties in aplication.properties? <a href=\"https://i.stack.imgur.com/cdmAa.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nDoes the compiler recognize and use them even though it cannot see them?\nIf you need more information about this problem ask me I will write back as soon as possible.</p>\n<p>This is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;18&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["javascript","java","jquery","json","jsp"],"comments":[{"owner":{"account_id":3504927,"reputation":26711,"user_id":2930661,"accept_rate":56,"display_name":"Eddie"},"score":5,"creation_date":1520391579,"post_id":49143390,"comment_id":85292204,"body_markdown":"Is it me or the they are both the same?","body":"Is it me or the they are both the same?"},{"owner":{"account_id":10818366,"reputation":11,"user_id":7956592,"display_name":"Makan Krayon"},"score":0,"creation_date":1520392656,"post_id":49143390,"comment_id":85292391,"body_markdown":"its different, i want the fisrt is multiple json and be 1 json, and i want to split them","body":"its different, i want the fisrt is multiple json and be 1 json, and i want to split them"},{"owner":{"account_id":3504927,"reputation":26711,"user_id":2930661,"accept_rate":56,"display_name":"Eddie"},"score":0,"creation_date":1520393363,"post_id":49143390,"comment_id":85292586,"body_markdown":"They are the same. And btw, both data are not valid json structure.","body":"They are the same. And btw, both data are not valid json structure."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - éãã"},"score":0,"creation_date":1520395162,"post_id":49143390,"comment_id":85293003,"body_markdown":"Yup...the same...problem solved I guess. You had what you wanted all along.","body":"Yup...the same...problem solved I guess. You had what you wanted all along."},{"owner":{"account_id":10818366,"reputation":11,"user_id":7956592,"display_name":"Makan Krayon"},"score":0,"creation_date":1520404558,"post_id":49143390,"comment_id":85295948,"body_markdown":"I&#39;m sorry, this is edited json format","body":"I&#39;m sorry, this is edited json format"},{"owner":{"account_id":4944718,"reputation":26372,"user_id":4116300,"accept_rate":82,"display_name":"Roh&#236;t J&#237;ndal"},"score":0,"creation_date":1520417719,"post_id":49143390,"comment_id":85302918,"body_markdown":"@MakanKrayon I added answer to the post. I hope it will work as per your expectation.","body":"@MakanKrayon I added answer to the post. I hope it will work as per your expectation."}],"answers":[{"tags":[],"owner":{"account_id":12465895,"reputation":11,"user_id":9075862,"display_name":"jimezes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520407629,"creation_date":1520407629,"answer_id":49146343,"question_id":49143390,"body_markdown":"First of all this json format is not valid. You should use a json validator to check your string if not sure.(for example https://jsonlint.com/)\r\nA json object should be inside braces {}.\r\nEach propery:value pair should be comma separated.If you have an array inside your object, it should be inside brackets [].\r\nSo in your example, which is an array out of objects you should have an opening bracket in the beginning and a closing one in the end. Inside the braces all your objects should have a comma (,) after each closing brace (}).\r\n\r\nThen you can take these objects with a lot of ways.\r\nFor example you can check your json String char by char and keep track of the indexes of each opening and closing brace, and then take substrings with the proper indexes.\r\n\r\nHowever there are Json Parsers to help you do your job but your format should be valid in order for them to work. \r\n","title":"Split Multiple Json Javascript","body":"<p>First of all this json format is not valid. You should use a json validator to check your string if not sure.(for example <a href=\"https://jsonlint.com/\" rel=\"nofollow noreferrer\">https://jsonlint.com/</a>)\nA json object should be inside braces {}.\nEach propery:value pair should be comma separated.If you have an array inside your object, it should be inside brackets [].\nSo in your example, which is an array out of objects you should have an opening bracket in the beginning and a closing one in the end. Inside the braces all your objects should have a comma (,) after each closing brace (}).</p>\n\n<p>Then you can take these objects with a lot of ways.\nFor example you can check your json String char by char and keep track of the indexes of each opening and closing brace, and then take substrings with the proper indexes.</p>\n\n<p>However there are Json Parsers to help you do your job but your format should be valid in order for them to work. </p>\n"},{"tags":[],"owner":{"account_id":4944718,"reputation":26372,"user_id":4116300,"accept_rate":82,"display_name":"Roh&#236;t J&#237;ndal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520417684,"creation_date":1520417684,"answer_id":49149315,"question_id":49143390,"body_markdown":"**Few observations :**\r\n\r\n - `JSON` provided by you is not a valid `JSON`.\r\n - It should be an `array of objects` not a multiple arrays.\r\n\r\n**Solution as per the requirement :**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    var json = [{\r\n    \t&quot;AVGDUR&quot;: 1,\r\n    \t&quot;USERNAME&quot;: &quot;usera&quot;,\r\n    \t&quot;NAME&quot;: &quot;name2&quot;,\r\n    \t&quot;TOTALDOC&quot;: 1\r\n    }, {\r\n    \t&quot;AVGDUR&quot;: 12,\r\n    \t&quot;USERNAME&quot;: &quot;userb&quot;,\r\n    \t&quot;NAME&quot;: &quot;nameb&quot;,\r\n    \t&quot;TOTALDOC&quot;: 2\r\n    }, {\r\n    \t&quot;AVGDUR&quot;: 1.52,\r\n    \t&quot;USERNAME&quot;: &quot;userc&quot;,\r\n    \t&quot;NAME&quot;: &quot;namec&quot;,\r\n    \t&quot;TOTALDOC&quot;: 617\r\n    }, {\r\n    \t&quot;AVGDUR&quot;: 2.41,\r\n    \t&quot;USERNAME&quot;: &quot;userd&quot;,\r\n    \t&quot;NAME&quot;: &quot;named&quot;,\r\n    \t&quot;TOTALDOC&quot;: 167\r\n    }, {\r\n    \t&quot;AVGDUR&quot;: 1.65,\r\n    \t&quot;USERNAME&quot;: &quot;usere&quot;,\r\n    \t&quot;NAME&quot;: &quot;namee&quot;,\r\n    \t&quot;TOTALDOC&quot;: 20\r\n    }, {\r\n    \t&quot;AVGDUR&quot;: 10,\r\n    \t&quot;USERNAME&quot;: &quot;userf&quot;,\r\n    \t&quot;NAME&quot;: &quot;namef&quot;,\r\n    \t&quot;TOTALDOC&quot;: 1\r\n    }, {\r\n    \t&quot;AVGDUR&quot;: 0.46,\r\n    \t&quot;USERNAME&quot;: &quot;userg&quot;,\r\n    \t&quot;NAME&quot;: &quot;nameg&quot;,\r\n    \t&quot;TOTALDOC&quot;: 143\r\n    }];\r\n\r\n    for (var i in json) {\r\n      console.log(&quot;var &quot; + json[i].USERNAME + &quot; = &quot; , [json[i]]);\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Split Multiple Json Javascript","body":"<p><strong>Few observations :</strong></p>\n\n<ul>\n<li><code>JSON</code> provided by you is not a valid <code>JSON</code>.</li>\n<li>It should be an <code>array of objects</code> not a multiple arrays.</li>\n</ul>\n\n<p><strong>Solution as per the requirement :</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var json = [{\r\n\t\"AVGDUR\": 1,\r\n\t\"USERNAME\": \"usera\",\r\n\t\"NAME\": \"name2\",\r\n\t\"TOTALDOC\": 1\r\n}, {\r\n\t\"AVGDUR\": 12,\r\n\t\"USERNAME\": \"userb\",\r\n\t\"NAME\": \"nameb\",\r\n\t\"TOTALDOC\": 2\r\n}, {\r\n\t\"AVGDUR\": 1.52,\r\n\t\"USERNAME\": \"userc\",\r\n\t\"NAME\": \"namec\",\r\n\t\"TOTALDOC\": 617\r\n}, {\r\n\t\"AVGDUR\": 2.41,\r\n\t\"USERNAME\": \"userd\",\r\n\t\"NAME\": \"named\",\r\n\t\"TOTALDOC\": 167\r\n}, {\r\n\t\"AVGDUR\": 1.65,\r\n\t\"USERNAME\": \"usere\",\r\n\t\"NAME\": \"namee\",\r\n\t\"TOTALDOC\": 20\r\n}, {\r\n\t\"AVGDUR\": 10,\r\n\t\"USERNAME\": \"userf\",\r\n\t\"NAME\": \"namef\",\r\n\t\"TOTALDOC\": 1\r\n}, {\r\n\t\"AVGDUR\": 0.46,\r\n\t\"USERNAME\": \"userg\",\r\n\t\"NAME\": \"nameg\",\r\n\t\"TOTALDOC\": 143\r\n}];\r\n\r\nfor (var i in json) {\r\n  console.log(\"var \" + json[i].USERNAME + \" = \" , [json[i]]);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":4047199,"reputation":2878,"user_id":3328079,"accept_rate":100,"display_name":"Rycochet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670339371,"creation_date":1670339371,"answer_id":74704790,"question_id":49143390,"body_markdown":"So ignoring the people that don&#39;t understand the problem of streaming and getting chunks of JSON that are just consecutive, this is something I wrote for that exact problem (written in Typescript for a ReadableStream `pipeThrough(jsonDecoderStream())`, but the logic should be obvious-ish) -\r\n\r\n    /**\r\n     * For streaming JSON encoded data, use the generic to set the decoded type.\r\n     *\r\n     * NOTE: This can (currently) only handle &quot;string&quot;, {object} and [array] types!\r\n     */\r\n    export function jsonDecoderStream&lt;T extends object&gt;() {\r\n        // Cache everything so we don&#39;t parse through the same part of the string multiple times\r\n        let buffer = &quot;&quot;;\r\n        let index = 0;\r\n        let curlyCount = 0;\r\n        let squareCount = 0;\r\n        let inString = false;\r\n        let escapeCount = 0;\r\n\r\n        return new TransformStream&lt;Uint8Array, T&gt;({\r\n            transform(chunk, controller) {\r\n                buffer += chunk;\r\n\r\n                for (; index &lt; buffer.length; index++) {\r\n                    const char = buffer[index];\r\n\r\n                    if (inString) {\r\n                        switch (char) {\r\n                            case &quot;\\\\&quot;:\r\n                                escapeCount++;\r\n                                break;\r\n                            case &quot;\\&quot;&quot;:\r\n                                if (escapeCount % 2 === 1) {\r\n                                    inString = false;\r\n                                }\r\n                            // Deliberate fallthrough\r\n                            default:\r\n                                escapeCount = 0;\r\n                                break;\r\n                        }\r\n                    } else {\r\n                        switch (char) {\r\n                            case &quot;\\&quot;&quot;: inString = true; escapeCount = 0; break;\r\n                            case &quot;{&quot;: curlyCount++; break;\r\n                            case &quot;}&quot;: curlyCount--; break;\r\n                            case &quot;[&quot;: squareCount++; break;\r\n                            case &quot;]&quot;: squareCount--; break;\r\n                        }\r\n                    }\r\n                    if (!inString &amp;&amp; !curlyCount &amp;&amp; !squareCount) {\r\n                        const json = buffer.substring(0, index + 1);\r\n\r\n                        buffer = buffer.substring(index + 1);\r\n                        index = 0;\r\n                        try {\r\n                            controller.enqueue(JSON.parse(json));\r\n                        } catch {\r\n                            console.warn(&quot;Unable to parse json:&quot;, json);\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n        });\r\n    }","title":"Split Multiple Json Javascript","body":"<p>So ignoring the people that don't understand the problem of streaming and getting chunks of JSON that are just consecutive, this is something I wrote for that exact problem (written in Typescript for a ReadableStream <code>pipeThrough(jsonDecoderStream())</code>, but the logic should be obvious-ish) -</p>\n<pre><code>/**\n * For streaming JSON encoded data, use the generic to set the decoded type.\n *\n * NOTE: This can (currently) only handle &quot;string&quot;, {object} and [array] types!\n */\nexport function jsonDecoderStream&lt;T extends object&gt;() {\n    // Cache everything so we don't parse through the same part of the string multiple times\n    let buffer = &quot;&quot;;\n    let index = 0;\n    let curlyCount = 0;\n    let squareCount = 0;\n    let inString = false;\n    let escapeCount = 0;\n\n    return new TransformStream&lt;Uint8Array, T&gt;({\n        transform(chunk, controller) {\n            buffer += chunk;\n\n            for (; index &lt; buffer.length; index++) {\n                const char = buffer[index];\n\n                if (inString) {\n                    switch (char) {\n                        case &quot;\\\\&quot;:\n                            escapeCount++;\n                            break;\n                        case &quot;\\&quot;&quot;:\n                            if (escapeCount % 2 === 1) {\n                                inString = false;\n                            }\n                        // Deliberate fallthrough\n                        default:\n                            escapeCount = 0;\n                            break;\n                    }\n                } else {\n                    switch (char) {\n                        case &quot;\\&quot;&quot;: inString = true; escapeCount = 0; break;\n                        case &quot;{&quot;: curlyCount++; break;\n                        case &quot;}&quot;: curlyCount--; break;\n                        case &quot;[&quot;: squareCount++; break;\n                        case &quot;]&quot;: squareCount--; break;\n                    }\n                }\n                if (!inString &amp;&amp; !curlyCount &amp;&amp; !squareCount) {\n                    const json = buffer.substring(0, index + 1);\n\n                    buffer = buffer.substring(index + 1);\n                    index = 0;\n                    try {\n                        controller.enqueue(JSON.parse(json));\n                    } catch {\n                        console.warn(&quot;Unable to parse json:&quot;, json);\n                    }\n                }\n            }\n        },\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":10818366,"reputation":11,"user_id":7956592,"display_name":"Makan Krayon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1350,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1670339371,"creation_date":1520391475,"question_id":49143390,"body_markdown":"I have Json Like Below,\r\n\r\n    var json = [{&quot;AVGDUR&quot;:1,&quot;USERNAME&quot;:&quot;usera&quot;,&quot;NAME&quot;:&quot;name2&quot;,&quot;TOTALDOC&quot;:1}][{&quot;AVGDUR&quot;:12,&quot;USERNAME&quot;:&quot;userb&quot;,&quot;NAME&quot;:&quot;nameb&quot;,&quot;TOTALDOC&quot;:2}][{&quot;AVGDUR&quot;:1.52,&quot;USERNAME&quot;:&quot;userc&quot;,&quot;NAME&quot;:&quot;namec&quot;,&quot;TOTALDOC&quot;:617}][{&quot;AVGDUR&quot;:2.41,&quot;USERNAME&quot;:&quot;userd&quot;,&quot;NAME&quot;:&quot;named&quot;,&quot;TOTALDOC&quot;:167}][{&quot;AVGDUR&quot;:1.65,&quot;USERNAME&quot;:&quot;usere&quot;,&quot;NAME&quot;:&quot;namee&quot;,&quot;TOTALDOC&quot;:20}][{&quot;AVGDUR&quot;:10,&quot;USERNAME&quot;:&quot;userf&quot;,&quot;NAME&quot;:&quot;namef&quot;,&quot;TOTALDOC&quot;:1}][{&quot;AVGDUR&quot;:0.46,&quot;USERNAME&quot;:&quot;userg&quot;,&quot;NAME&quot;:&quot;nameg&quot;,&quot;TOTALDOC&quot;:143}]\r\n\r\nNow I want to split it into 7 JSON objects for each key, like below.\r\n\r\n&gt; var splitA\r\n&gt; =[{&quot;AVGDUR&quot;:1,&quot;USERNAME&quot;:&quot;usera&quot;,&quot;NAME&quot;:&quot;name2&quot;,&quot;TOTALDOC&quot;:1}]   \r\n&gt; var splitB =\r\n&gt; [{&quot;AVGDUR&quot;:12,&quot;USERNAME&quot;:&quot;userb&quot;,&quot;NAME&quot;:&quot;nameb&quot;,&quot;TOTALDOC&quot;:2}]   \r\n&gt; var splitC =\r\n&gt; [{&quot;AVGDUR&quot;:1.52,&quot;USERNAME&quot;:&quot;userc&quot;,&quot;NAME&quot;:&quot;namec&quot;,&quot;TOTALDOC&quot;:617}]  \r\n&gt; var splitD =\r\n&gt; [{&quot;AVGDUR&quot;:2.41,&quot;USERNAME&quot;:&quot;userd&quot;,&quot;NAME&quot;:&quot;named&quot;,&quot;TOTALDOC&quot;:167}]  \r\n&gt; var splitE =\r\n&gt; [{&quot;AVGDUR&quot;:1.65,&quot;USERNAME&quot;:&quot;usere&quot;,&quot;NAME&quot;:&quot;namee&quot;,&quot;TOTALDOC&quot;:20}]  \r\n&gt; var splitF =\r\n&gt; [{&quot;AVGDUR&quot;:10,&quot;USERNAME&quot;:&quot;userf&quot;,&quot;NAME&quot;:&quot;namef&quot;,&quot;TOTALDOC&quot;:1}]   \r\n&gt; var splitG = [{&quot;AVGDUR&quot;:0.46,&quot;USERNAME&quot;:&quot;userg&quot;,&quot;NAME&quot;:&quot;nameg&quot;,&quot;TOTALDOC&quot;:143}]\r\n\r\nHow can I do with javascript?","title":"Split Multiple Json Javascript","body":"<p>I have Json Like Below,</p>\n\n<pre><code>var json = [{\"AVGDUR\":1,\"USERNAME\":\"usera\",\"NAME\":\"name2\",\"TOTALDOC\":1}][{\"AVGDUR\":12,\"USERNAME\":\"userb\",\"NAME\":\"nameb\",\"TOTALDOC\":2}][{\"AVGDUR\":1.52,\"USERNAME\":\"userc\",\"NAME\":\"namec\",\"TOTALDOC\":617}][{\"AVGDUR\":2.41,\"USERNAME\":\"userd\",\"NAME\":\"named\",\"TOTALDOC\":167}][{\"AVGDUR\":1.65,\"USERNAME\":\"usere\",\"NAME\":\"namee\",\"TOTALDOC\":20}][{\"AVGDUR\":10,\"USERNAME\":\"userf\",\"NAME\":\"namef\",\"TOTALDOC\":1}][{\"AVGDUR\":0.46,\"USERNAME\":\"userg\",\"NAME\":\"nameg\",\"TOTALDOC\":143}]\n</code></pre>\n\n<p>Now I want to split it into 7 JSON objects for each key, like below.</p>\n\n<blockquote>\n  <p>var splitA\n  =[{\"AVGDUR\":1,\"USERNAME\":\"usera\",\"NAME\":\"name2\",\"TOTALDOC\":1}]<br>\n  var splitB =\n  [{\"AVGDUR\":12,\"USERNAME\":\"userb\",\"NAME\":\"nameb\",\"TOTALDOC\":2}]<br>\n  var splitC =\n  [{\"AVGDUR\":1.52,\"USERNAME\":\"userc\",\"NAME\":\"namec\",\"TOTALDOC\":617}]<br>\n  var splitD =\n  [{\"AVGDUR\":2.41,\"USERNAME\":\"userd\",\"NAME\":\"named\",\"TOTALDOC\":167}]<br>\n  var splitE =\n  [{\"AVGDUR\":1.65,\"USERNAME\":\"usere\",\"NAME\":\"namee\",\"TOTALDOC\":20}]<br>\n  var splitF =\n  [{\"AVGDUR\":10,\"USERNAME\":\"userf\",\"NAME\":\"namef\",\"TOTALDOC\":1}]<br>\n  var splitG = [{\"AVGDUR\":0.46,\"USERNAME\":\"userg\",\"NAME\":\"nameg\",\"TOTALDOC\":143}]</p>\n</blockquote>\n\n<p>How can I do with javascript?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1670334899,"post_id":74703566,"comment_id":131848884,"body_markdown":"Can you please post the whole stacktrace?","body":"Can you please post the whole stacktrace?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1670338135,"post_id":74703566,"comment_id":131850196,"body_markdown":"How did you create the tables?","body":"How did you create the tables?"},{"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"score":0,"creation_date":1670338336,"post_id":74703566,"comment_id":131850271,"body_markdown":"show the table creation query","body":"show the table creation query"}],"answers":[{"comments":[{"owner":{"account_id":21534179,"reputation":3,"user_id":15873107,"display_name":"Lamvegan"},"score":0,"creation_date":1670339311,"post_id":74704722,"comment_id":131850678,"body_markdown":"Oh yes I forgot! Thanks a lot!!","body":"Oh yes I forgot! Thanks a lot!!"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1670340717,"post_id":74704722,"comment_id":131851248,"body_markdown":"I&#39;m happy to help. I would appreciate if you accept my answer.","body":"I&#39;m happy to help. I would appreciate if you accept my answer."}],"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670339110,"creation_date":1670339110,"answer_id":74704722,"question_id":74703566,"body_markdown":"If your MySQL table must support IDENTITY primary key generation strategy you must create the primary key with auto_increment.\r\n\r\nExample:\r\n\r\n    CREATE TABLE animals (\r\n         id MEDIUMINT NOT NULL AUTO_INCREMENT,\r\n         name CHAR(30) NOT NULL,\r\n         PRIMARY KEY (id)\r\n    );\r\n\r\nIDENTITY means that the database will take care of the generation of the primary key.","title":"Field &#39;id&#39; doesn&#39;t have a default value because of generated value","body":"<p>If your MySQL table must support IDENTITY primary key generation strategy you must create the primary key with auto_increment.</p>\n<p>Example:</p>\n<pre><code>CREATE TABLE animals (\n     id MEDIUMINT NOT NULL AUTO_INCREMENT,\n     name CHAR(30) NOT NULL,\n     PRIMARY KEY (id)\n);\n</code></pre>\n<p>IDENTITY means that the database will take care of the generation of the primary key.</p>\n"}],"owner":{"account_id":21534179,"reputation":3,"user_id":15873107,"display_name":"Lamvegan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":805,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74704722,"answer_count":1,"score":0,"last_activity_date":1670339110,"creation_date":1670334281,"question_id":74703566,"body_markdown":"My entities \r\n\r\nFoodItem.java\r\n\r\n   \r\n\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    @Entity\r\n    @Setter\r\n    @Getter\r\n    @Table(name = &quot;food_items&quot;, schema = &quot;restaurant-service&quot;)\r\n    @FieldDefaults(level = AccessLevel.PRIVATE)\r\n    public class FoodItem {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        Long id;\r\n    \r\n        String name;\r\n    \r\n        BigDecimal price;\r\n    \r\n        Long restaurant_id;\r\n    \r\n    }\r\n\r\nRestaurant.java\r\n\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    @Entity\r\n    @Setter\r\n    @Getter\r\n    @Table(name = &quot;restaurant&quot;, schema = &quot;restaurant-service&quot;)\r\n    @FieldDefaults(level = AccessLevel.PRIVATE)\r\n    public class Restaurant {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        Long id;\r\n    \r\n        String name;\r\n    \r\n        String address;\r\n    \r\n        BigDecimal priceForDelivery;\r\n    \r\n        @OneToMany\r\n        @JoinColumn(name = &quot;restaurant_id&quot;)\r\n        List&lt;FoodItem&gt; menu;\r\n    }\r\n\r\nController \r\n   \r\n\r\n     @PostMapping(value = &quot;/restaurant/{restaurantId}/item&quot;)\r\n        public void createRestaurant(@PathVariable(value = &quot;restaurantId&quot;)Long restaurantId,\r\n                                     @RequestBody FoodItem foodItemRequest) {\r\n            repository.findById(id).map(restaurant -&gt; restaurant.getMenu().add(foodItemRequest));\r\n        FoodItem foodItem = FoodItem.builder()\r\n                .name(foodItemRequest.getName())\r\n                .price(foodItemRequest.getPrice())\r\n                .restaurant_id(id)\r\n                .build();\r\n        foodItemRepository.save(foodItem);\r\n        }\r\n\r\nI just need to save food item in controller without posting an ID, I need that id will be generated without me\r\n\r\nI tried to change strategy to the AUTO but it still didn&#39;t work\r\n\r\n\r\nField &#39;id&#39; doesn&#39;t have a default value\r\n2022-12-06 15:31:31.202 ERROR 39652 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement] with root cause\r\njava.sql.SQLException: Field &#39;id&#39; doesn&#39;t have a default value\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994) ~[mysql-connector-j-8.0.31.jar:8.0.31]\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy98.persist(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy98.persist(Unknown Source) ~[na:na]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666) ~[spring-data-jpa-2.7.5.jar:2.7.5]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.5.jar:2.7.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy101.save(Unknown Source) ~[na:na]\r\n\tat com.lidapopova.restarauntservice.service.RestaurantService.addFoodItem(RestaurantService.java:73) ~[classes/:na]\r\n\tat com.lidapopova.restarauntservice.controller.RestaurantController.createRestaurant(RestaurantController.java:57) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:696) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n","title":"Field &#39;id&#39; doesn&#39;t have a default value because of generated value","body":"<p>My entities</p>\n<p>FoodItem.java</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Entity\n@Setter\n@Getter\n@Table(name = &quot;food_items&quot;, schema = &quot;restaurant-service&quot;)\n@FieldDefaults(level = AccessLevel.PRIVATE)\npublic class FoodItem {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    Long id;\n\n    String name;\n\n    BigDecimal price;\n\n    Long restaurant_id;\n\n}\n</code></pre>\n<p>Restaurant.java</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Entity\n@Setter\n@Getter\n@Table(name = &quot;restaurant&quot;, schema = &quot;restaurant-service&quot;)\n@FieldDefaults(level = AccessLevel.PRIVATE)\npublic class Restaurant {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    Long id;\n\n    String name;\n\n    String address;\n\n    BigDecimal priceForDelivery;\n\n    @OneToMany\n    @JoinColumn(name = &quot;restaurant_id&quot;)\n    List&lt;FoodItem&gt; menu;\n}\n</code></pre>\n<p>Controller</p>\n<pre><code> @PostMapping(value = &quot;/restaurant/{restaurantId}/item&quot;)\n    public void createRestaurant(@PathVariable(value = &quot;restaurantId&quot;)Long restaurantId,\n                                 @RequestBody FoodItem foodItemRequest) {\n        repository.findById(id).map(restaurant -&gt; restaurant.getMenu().add(foodItemRequest));\n    FoodItem foodItem = FoodItem.builder()\n            .name(foodItemRequest.getName())\n            .price(foodItemRequest.getPrice())\n            .restaurant_id(id)\n            .build();\n    foodItemRepository.save(foodItem);\n    }\n</code></pre>\n<p>I just need to save food item in controller without posting an ID, I need that id will be generated without me</p>\n<p>I tried to change strategy to the AUTO but it still didn't work</p>\n<p>Field 'id' doesn't have a default value\n2022-12-06 15:31:31.202 ERROR 39652 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: could not execute statement; nested exception is org.hibernate.exception.GenericJDBCException: could not execute statement] with root cause\njava.sql.SQLException: Field 'id' doesn't have a default value\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-j-8.0.31.jar:8.0.31]\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.31.jar:8.0.31]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.31.jar:8.0.31]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061) ~[mysql-connector-j-8.0.31.jar:8.0.31]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009) ~[mysql-connector-j-8.0.31.jar:8.0.31]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320) ~[mysql-connector-j-8.0.31.jar:8.0.31]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994) ~[mysql-connector-j-8.0.31.jar:8.0.31]\nat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]\nat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\nat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\nat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.23.jar:5.3.23]\nat jdk.proxy2/jdk.proxy2.$Proxy98.persist(Unknown Source) ~[na:na]\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\nat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.23.jar:5.3.23]\nat jdk.proxy2/jdk.proxy2.$Proxy98.persist(Unknown Source) ~[na:na]\nat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666) ~[spring-data-jpa-2.7.5.jar:2.7.5]\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\nat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.5.jar:2.7.5]\nat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.5.jar:2.7.5]\nat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.5.jar:2.7.5]\nat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.5.jar:2.7.5]\nat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.5.jar:2.7.5]\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.5.jar:2.7.5]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\nat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.5.jar:2.7.5]\nat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.5.jar:2.7.5]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\nat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.5.jar:2.7.5]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\nat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\nat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.5.jar:2.7.5]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]\nat jdk.proxy2/jdk.proxy2.$Proxy101.save(Unknown Source) ~[na:na]\nat com.lidapopova.restarauntservice.service.RestaurantService.addFoodItem(RestaurantService.java:73) ~[classes/:na]\nat com.lidapopova.restarauntservice.controller.RestaurantController.createRestaurant(RestaurantController.java:57) ~[classes/:na]\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:696) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]</p>\n"},{"tags":["java","iso8583","jpos"],"answers":[{"comments":[{"owner":{"account_id":61653,"reputation":1298,"user_id":183639,"display_name":"apr"},"score":0,"creation_date":1670426435,"post_id":74704718,"comment_id":131874508,"body_markdown":"BTW, message length is handled by jPOS&#39; Channel, not the packager.","body":"BTW, message length is handled by jPOS&#39; Channel, not the packager."}],"tags":[],"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670339089,"creation_date":1670339089,"answer_id":74704718,"question_id":74704285,"body_markdown":"The packager does not take care of the length, so you have to cut those bytes before passing the data to the packager.\r\n\r\nSo the answer to the first question is you can&#39;t, you could but is not the responsibility of the packager to handle message length but of the channel.\r\n\r\nFor the second question you already said that the length of field 2 is 16.","title":"jpos ISO8583 message parsing","body":"<p>The packager does not take care of the length, so you have to cut those bytes before passing the data to the packager.</p>\n<p>So the answer to the first question is you can't, you could but is not the responsibility of the packager to handle message length but of the channel.</p>\n<p>For the second question you already said that the length of field 2 is 16.</p>\n"}],"owner":{"account_id":13982358,"reputation":55,"user_id":10098210,"display_name":"Mohamed Nazir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":584,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74704718,"answer_count":1,"score":0,"last_activity_date":1670339089,"creation_date":1670337314,"question_id":74704285,"body_markdown":"I am trying to parse an ISO message using jpos library,\r\n\r\nMy message will be like this ( not copied full message)\r\n&quot;012B11007E2466490C61A430163533313139383030343030303031363400100000000000010000000000010000000000010020221.....&quot;\r\n\r\nThe following is my code.\r\n\t\t\r\n\r\n    GenericPackager packager = new GenericPackager(&quot;src/main/resources/iso87ascii.xml&quot;);\r\n    \t\tISOMsg mes = new ISOMsg();\r\n    \t\tmes.setPackager(packager);\r\n    \t\tmes.unpack(inputMessage.getBytes(StandardCharsets.UTF_8));\r\n    \t\tmes.dump(System.out, &quot;&quot;);\r\n\t\t\r\nThe below is the part of my config file.\r\n\r\n    &lt;isofield\r\n            id=&quot;0&quot;\r\n            length=&quot;4&quot;\r\n            name=&quot;MESSAGE TYPE INDICATOR&quot;\r\n            class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\r\n    &lt;isofield\r\n            id=&quot;1&quot;\r\n            length=&quot;16&quot;\r\n            name=&quot;BIT MAP&quot;\r\n            class=&quot;org.jpos.iso.IFA_BITMAP&quot;/&gt;\r\n    &lt;isofield\r\n            id=&quot;2&quot;\r\n            length=&quot;19&quot;\r\n            name=&quot;PAN - PRIMARY ACCOUNT NUMBER&quot;\r\n            class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\r\n\t\t\t\r\n\r\nThe expected parsing  is something like below.\r\n\r\nLNG  - 012B\r\n\r\nIDTM - 1100\r\n  \r\nBITMP - 7E2466490C61A430  \r\n \r\nF-2   16 35333131393830303430303030313634   (Length + data)\r\n\r\nF-3   001000\r\n\r\nBut, the issue is , when I try to parse the message \r\nthe \r\nField-0 becomes &quot;012B&quot;\r\nand Field-2 is not parsed.\r\n\r\nIf I remove the &quot;012B&quot; from my input string, then\r\n\r\nField-0 becomes &quot;1100&quot; ( which is correct)\r\nField-2 becomes &quot;3533313139383030&quot;, but the expected value is &quot;35333131393830303430303030313634&quot;\r\n\r\nMy question is, on the parser,\r\nhow can I configure the message length (012B)?\r\nwhy is Field 2 truncated to 16 characters?","title":"jpos ISO8583 message parsing","body":"<p>I am trying to parse an ISO message using jpos library,</p>\n<p>My message will be like this ( not copied full message)\n&quot;012B11007E2466490C61A430163533313139383030343030303031363400100000000000010000000000010000000000010020221.....&quot;</p>\n<p>The following is my code.</p>\n<pre><code>GenericPackager packager = new GenericPackager(&quot;src/main/resources/iso87ascii.xml&quot;);\n        ISOMsg mes = new ISOMsg();\n        mes.setPackager(packager);\n        mes.unpack(inputMessage.getBytes(StandardCharsets.UTF_8));\n        mes.dump(System.out, &quot;&quot;);\n    \n</code></pre>\n<p>The below is the part of my config file.</p>\n<pre><code>&lt;isofield\n        id=&quot;0&quot;\n        length=&quot;4&quot;\n        name=&quot;MESSAGE TYPE INDICATOR&quot;\n        class=&quot;org.jpos.iso.IFA_NUMERIC&quot;/&gt;\n&lt;isofield\n        id=&quot;1&quot;\n        length=&quot;16&quot;\n        name=&quot;BIT MAP&quot;\n        class=&quot;org.jpos.iso.IFA_BITMAP&quot;/&gt;\n&lt;isofield\n        id=&quot;2&quot;\n        length=&quot;19&quot;\n        name=&quot;PAN - PRIMARY ACCOUNT NUMBER&quot;\n        class=&quot;org.jpos.iso.IFA_LLNUM&quot;/&gt;\n        \n</code></pre>\n<p>The expected parsing  is something like below.</p>\n<p>LNG  - 012B</p>\n<p>IDTM - 1100</p>\n<p>BITMP - 7E2466490C61A430</p>\n<p>F-2   16 35333131393830303430303030313634   (Length + data)</p>\n<p>F-3   001000</p>\n<p>But, the issue is , when I try to parse the message\nthe\nField-0 becomes &quot;012B&quot;\nand Field-2 is not parsed.</p>\n<p>If I remove the &quot;012B&quot; from my input string, then</p>\n<p>Field-0 becomes &quot;1100&quot; ( which is correct)\nField-2 becomes &quot;3533313139383030&quot;, but the expected value is &quot;35333131393830303430303030313634&quot;</p>\n<p>My question is, on the parser,\nhow can I configure the message length (012B)?\nwhy is Field 2 truncated to 16 characters?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670339065,"creation_date":1670339065,"answer_id":74704712,"question_id":74704672,"body_markdown":"    final String conPasswordTxt = conPassword.toString().toString();\r\n\r\nThis should be `final String conPasswordTxt = conPassword.getText().toString();`","title":"User registration and password validation confirmation in android","body":"<pre><code>final String conPasswordTxt = conPassword.toString().toString();\n</code></pre>\n<p>This should be <code>final String conPasswordTxt = conPassword.getText().toString();</code></p>\n"}],"owner":{"account_id":27166370,"reputation":3,"user_id":20703824,"display_name":"Nascent Suman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74704712,"answer_count":1,"score":0,"last_activity_date":1670339065,"creation_date":1670338889,"question_id":74704672,"body_markdown":"I have this activity in which I want to authorize the confirm password field.This is my code-:\r\n```\r\npackage com.example.loginregisterfirebase;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.firebase.FirebaseApp;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.lang.ref.Reference;\r\n\r\npublic class Register extends AppCompatActivity {\r\n    //create object of DatabaseReference class to access firebase&#39;s Realtime Database\r\n    DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReferenceFromUrl(&quot;https://loginregisterfirebase-9fe2f-default-rtdb.firebaseio.com/&quot;);\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_register);\r\n\r\n        final EditText fullname = findViewById(R.id.fullname);\r\n        final EditText email = findViewById(R.id.email);\r\n        final EditText phone = findViewById(R.id.phone);\r\n        final EditText password = findViewById(R.id.password);\r\n        final EditText conPassword = findViewById(R.id.conPassword);\r\n\r\n        final Button registerBtn = findViewById(R.id.registrationBtn);\r\n        final TextView loginNowBtn = findViewById(R.id.loginNowBtn);\r\n\r\n        registerBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                //get data from EditTexts into String variables\r\n                final String fullnameTxt = fullname.getText().toString();\r\n                final String emailTxt = email.getText().toString();\r\n                final String phoneTxt = phone.getText().toString();\r\n                final String passwordTxt = password.getText().toString();\r\n                final String conPasswordTxt = conPassword.toString().toString();\r\n\r\n                // check if user fill all the fields before sending data\r\n                if (fullnameTxt.isEmpty()||emailTxt.isEmpty()||phoneTxt.isEmpty()||passwordTxt.isEmpty()||conPasswordTxt.isEmpty()){\r\n                    Toast.makeText(Register.this, &quot;please fill the all the fields&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                //check if passwords are matching with each other\r\n                //if not matching with each other then show a toast message\r\n                else if (passwordTxt.equals(conPasswordTxt)){\r\n                    Toast.makeText(Register.this, &quot;Passwords do NOT match&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else{\r\n                    databaseReference.child(&quot;users&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                            \r\n                            //check if phone number is registered before\r\n                            if (snapshot.hasChild(phoneTxt)){\r\n                                Toast.makeText(Register.this, &quot;Phone number is already registered&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                            else {\r\n                                // storing or sending data to firebase Realtime Database.\r\n                                //we are using phone number as unique identity of every user\r\n                                //so all the other details of user comes under phone number\r\n                                databaseReference.child(&quot;users&quot;).child(phoneTxt).child(&quot;fullname&quot;).setValue(fullnameTxt);\r\n                                databaseReference.child(&quot;users&quot;).child(phoneTxt).child(&quot;email&quot;).setValue(emailTxt);\r\n                                databaseReference.child(&quot;users&quot;).child(phoneTxt).child(&quot;password&quot;).setValue(passwordTxt);\r\n\r\n                                //show success message than finish activity\r\n                                Toast.makeText(Register.this, &quot;User registered successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                                finish();\r\n                            }\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                        }\r\n                    });\r\n\r\n                }\r\n\r\n            }\r\n\r\n        });\r\n        loginNowBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                finish();\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\nif I eleminate this section the application is working properly.:-\r\n```\r\nelse if (passwordTxt.equals(conPasswordTxt)){\r\n    Toast.makeText(Register.this, &quot;Passwords do NOT match&quot;, Toast.LENGTH_SHORT).show();\r\n}\r\n```\r\n```\r\nbut I need this section anyhow...\r\nNow even after I have both of the EditText fields to be same it is still showing me the Toast that passwords do not match. Please help me out here. Thanks in advance.\r\n","title":"User registration and password validation confirmation in android","body":"<p>I have this activity in which I want to authorize the confirm password field.This is my code-:</p>\n<pre><code>package com.example.loginregisterfirebase;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.google.firebase.FirebaseApp;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.lang.ref.Reference;\n\npublic class Register extends AppCompatActivity {\n    //create object of DatabaseReference class to access firebase's Realtime Database\n    DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReferenceFromUrl(&quot;https://loginregisterfirebase-9fe2f-default-rtdb.firebaseio.com/&quot;);\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_register);\n\n        final EditText fullname = findViewById(R.id.fullname);\n        final EditText email = findViewById(R.id.email);\n        final EditText phone = findViewById(R.id.phone);\n        final EditText password = findViewById(R.id.password);\n        final EditText conPassword = findViewById(R.id.conPassword);\n\n        final Button registerBtn = findViewById(R.id.registrationBtn);\n        final TextView loginNowBtn = findViewById(R.id.loginNowBtn);\n\n        registerBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                //get data from EditTexts into String variables\n                final String fullnameTxt = fullname.getText().toString();\n                final String emailTxt = email.getText().toString();\n                final String phoneTxt = phone.getText().toString();\n                final String passwordTxt = password.getText().toString();\n                final String conPasswordTxt = conPassword.toString().toString();\n\n                // check if user fill all the fields before sending data\n                if (fullnameTxt.isEmpty()||emailTxt.isEmpty()||phoneTxt.isEmpty()||passwordTxt.isEmpty()||conPasswordTxt.isEmpty()){\n                    Toast.makeText(Register.this, &quot;please fill the all the fields&quot;, Toast.LENGTH_SHORT).show();\n                }\n                //check if passwords are matching with each other\n                //if not matching with each other then show a toast message\n                else if (passwordTxt.equals(conPasswordTxt)){\n                    Toast.makeText(Register.this, &quot;Passwords do NOT match&quot;, Toast.LENGTH_SHORT).show();\n                }\n                else{\n                    databaseReference.child(&quot;users&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\n                        @Override\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\n                            \n                            //check if phone number is registered before\n                            if (snapshot.hasChild(phoneTxt)){\n                                Toast.makeText(Register.this, &quot;Phone number is already registered&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                            else {\n                                // storing or sending data to firebase Realtime Database.\n                                //we are using phone number as unique identity of every user\n                                //so all the other details of user comes under phone number\n                                databaseReference.child(&quot;users&quot;).child(phoneTxt).child(&quot;fullname&quot;).setValue(fullnameTxt);\n                                databaseReference.child(&quot;users&quot;).child(phoneTxt).child(&quot;email&quot;).setValue(emailTxt);\n                                databaseReference.child(&quot;users&quot;).child(phoneTxt).child(&quot;password&quot;).setValue(passwordTxt);\n\n                                //show success message than finish activity\n                                Toast.makeText(Register.this, &quot;User registered successfully&quot;, Toast.LENGTH_SHORT).show();\n                                finish();\n                            }\n                        }\n\n                        @Override\n                        public void onCancelled(@NonNull DatabaseError error) {\n\n                        }\n                    });\n\n                }\n\n            }\n\n        });\n        loginNowBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                finish();\n            }\n        });\n    }\n\n}\n</code></pre>\n<pre><code>if I eleminate this section the application is working properly.:-\n</code></pre>\n<p>else if (passwordTxt.equals(conPasswordTxt)){\nToast.makeText(Register.this, &quot;Passwords do NOT match&quot;, Toast.LENGTH_SHORT).show();\n}</p>\n<pre><code></code></pre>\n<p>but I need this section anyhow...\nNow even after I have both of the EditText fields to be same it is still showing me the Toast that passwords do not match. Please help me out here. Thanks in advance.</p>\n"},{"tags":["java","android","spring"],"comments":[{"owner":{"account_id":17253839,"reputation":1872,"user_id":15298643,"display_name":"javdromero"},"score":0,"creation_date":1661529856,"post_id":73501194,"comment_id":129801785,"body_markdown":"https://github.com/darrachequesne/spring-data-jpa-datatables","body":"<a href=\"https://github.com/darrachequesne/spring-data-jpa-datatables\" rel=\"nofollow noreferrer\">github.com/darrachequesne/spring-data-jpa-datatables</a>"}],"answers":[{"tags":[],"owner":{"account_id":8892236,"reputation":476,"user_id":6638412,"display_name":"Gatiivs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670338582,"creation_date":1670338582,"answer_id":74704592,"question_id":73501194,"body_markdown":"What I ended up, using was infinite scroll https://scrollmagic.io/examples/advanced/infinite_scrolling.html\r\nthen I seperated my JSP list page strictly from the &quot;forEach&quot; part into an another JSP document that the first JSP would call using  something like \r\n\r\n    \t\r\n\t\t$.get(&quot;${endpointName}&quot;+&quot;?queryIteration=&quot;+ queryIteration+ extraVariables, function( data ) {\r\n\t\t\t$(&quot;#mycontent&quot;).append(data);\r\n\t\t\tif($(&quot;#queryCounter&quot;+(queryIteration)).val() === &#39;true&#39;){\r\n\t\t\t\t$(&quot;#loader&quot;).hide();\r\n\t\t\t}\r\n\r\nend then in the endpoint I would add \r\n\r\n    \tmodel.addAttribute(&quot;endpointName&quot;, &quot;listMaterialTests&quot;);\r\n\t\tmodel.addAttribute(&quot;queryIteration&quot;, queryIteration);\r\n\t\tif(queryIteration==null || queryIteration==0)\r\n\t\t\treturn &quot;materialTestList&quot;;\r\n\t\treturn &quot;materialTestListRows&quot;;\r\n\r\nI would modify the services to load 100 rows at a time depending on what the queryIteration value is\r\n","title":"Is there a recyclerView equivalent in web?","body":"<p>What I ended up, using was infinite scroll <a href=\"https://scrollmagic.io/examples/advanced/infinite_scrolling.html\" rel=\"nofollow noreferrer\">https://scrollmagic.io/examples/advanced/infinite_scrolling.html</a>\nthen I seperated my JSP list page strictly from the &quot;forEach&quot; part into an another JSP document that the first JSP would call using  something like</p>\n<pre><code>    $.get(&quot;${endpointName}&quot;+&quot;?queryIteration=&quot;+ queryIteration+ extraVariables, function( data ) {\n        $(&quot;#mycontent&quot;).append(data);\n        if($(&quot;#queryCounter&quot;+(queryIteration)).val() === 'true'){\n            $(&quot;#loader&quot;).hide();\n        }\n</code></pre>\n<p>end then in the endpoint I would add</p>\n<pre><code>    model.addAttribute(&quot;endpointName&quot;, &quot;listMaterialTests&quot;);\n    model.addAttribute(&quot;queryIteration&quot;, queryIteration);\n    if(queryIteration==null || queryIteration==0)\n        return &quot;materialTestList&quot;;\n    return &quot;materialTestListRows&quot;;\n</code></pre>\n<p>I would modify the services to load 100 rows at a time depending on what the queryIteration value is</p>\n"}],"owner":{"account_id":8892236,"reputation":476,"user_id":6638412,"display_name":"Gatiivs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670338582,"creation_date":1661517629,"question_id":73501194,"body_markdown":"I have a webpage that I made with spring framework in java. In some of the pages they can get a list of clickable rows, but if you select a range that is too large fe. 1000 rows, it freezes and the javascript needs some 20 seconds to put buttons and such on each row.\r\n\r\nI know that in android developement one would use recyclerView to load only a portion on the screen and would load more as you keep scrolling. Is there something similar I can use in my webpage to achieve a similar result?","title":"Is there a recyclerView equivalent in web?","body":"<p>I have a webpage that I made with spring framework in java. In some of the pages they can get a list of clickable rows, but if you select a range that is too large fe. 1000 rows, it freezes and the javascript needs some 20 seconds to put buttons and such on each row.</p>\n<p>I know that in android developement one would use recyclerView to load only a portion on the screen and would load more as you keep scrolling. Is there something similar I can use in my webpage to achieve a similar result?</p>\n"},{"tags":["java","datetime","java-8"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1528704017,"post_id":50786482,"comment_id":88591813,"body_markdown":"Why is it that you want an `XMLGregorianCalendar`? Asking because if itâs to get an XML string to use in XML, it seems to me you are only using the class for getting the same string back that you put in, a step that you may consider skipping.","body":"Why is it that you want an <code>XMLGregorianCalendar</code>? Asking because if itâs to get an XML string to use in XML, it seems to me you are only using the class for getting the same string back that you put in, a step that you may consider skipping."},{"owner":{"account_id":9613671,"reputation":493,"user_id":7137209,"display_name":"Taurai Nyamakura"},"score":2,"creation_date":1528705450,"post_id":50786482,"comment_id":88592569,"body_markdown":"Well, I have a class I am using to bind WSDL dateTime/date using &lt;jaxb:globalBindings&gt;. By default JAXB is generating javax.xml.datatype.XMLGregorianCalendar for any dateTime or date type field in the WSDL. My WSDL generated classes have date fields as XMLGregorianCalendar. I resorted to using jaxb global bindings because the WSDL I am consuming is inconsistent in terms of the dateTime values because sometimes it&#39;s returning a date without the time component and thus ending up receiving null date values from the client side.","body":"Well, I have a class I am using to bind WSDL dateTime/date using &lt;jaxb:globalBindings&gt;. By default JAXB is generating javax.xml.datatype.XMLGregorianCalendar for any dateTime or date type field in the WSDL. My WSDL generated classes have date fields as XMLGregorianCalendar. I resorted to using jaxb global bindings because the WSDL I am consuming is inconsistent in terms of the dateTime values because sometimes it&#39;s returning a date without the time component and thus ending up receiving null date values from the client side."}],"answers":[{"comments":[{"owner":{"account_id":11070925,"reputation":5608,"user_id":8129075,"display_name":"SrThompson"},"score":4,"creation_date":1528653601,"post_id":50786527,"comment_id":88579489,"body_markdown":"To clarify, the fact that you use a formatter to create the `LocalDateTime` instance doesn&#39;t mean that the instance will remember it, you&#39;re just indicating the shape of the string you&#39;ll give to `LocalDateTime::parse`; ergo, it doesn&#39;t affect `toString`","body":"To clarify, the fact that you use a formatter to create the <code>LocalDateTime</code> instance doesn&#39;t mean that the instance will remember it, you&#39;re just indicating the shape of the string you&#39;ll give to <code>LocalDateTime::parse</code>; ergo, it doesn&#39;t affect <code>toString</code>"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1528680041,"creation_date":1528653291,"answer_id":50786527,"question_id":50786482,"body_markdown":"\n\n# Feature, not a bug\n\nYou are seeing the documented behavior of the particular `DateTimeFormatter` used by the  [`LocalDateTime::toString`](https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#toString()) method.\n\nExcerpt, my emphasis:\n\n&gt;The output will be one of the following [ISO-8601][1] formats:\n&gt;\n&gt;uuuu-MM-dd&#39;T&#39;HH:mm\n&gt;\n&gt;uuuu-MM-dd&#39;T&#39;HH:mm:ss\n&gt;\n&gt;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSS\n&gt;\n&gt;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS\n&gt;\n&gt;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSSSS\n&gt;\n&gt;The **format used will be the shortest** that outputs the full value of the time where the **omitted parts are implied to be zero**.\n\nIf you want other behavior when generating a String to represent the value of you [`LocalDateTime`][2], use a different [`DateTimeFormatter`][3] and pass it to [`LocalDateTime::format`][4].\n\n    String output = myLocalDateTime.format( someOtherFormatter ) ;\n\n\nThe `LocalDateTime` has no âformatâ as it is *not* text. It is the job of the `DateTimeFormatter` to parse or generate [`String`][5] objects of a particular format. \n\n\n  [1]: https://en.wikipedia.org/wiki/ISO_8601\n  [2]: https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html\n  [3]: https://docs.oracle.com/javase/10/docs/api/java/time/format/DateTimeFormatter.html\n  [4]: https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#format(java.time.format.DateTimeFormatter)\n  [5]: https://docs.oracle.com/javase/10/docs/api/java/lang/String.html","title":"Java 8 LocalDateTime dropping 00 seconds value when parsing date string value with 00 seconds like &quot;2018-07-06 00:00:00&quot;","body":"<h1>Feature, not a bug</h1>\n<p>You are seeing the documented behavior of the particular <code>DateTimeFormatter</code> used by the  <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#toString()\" rel=\"noreferrer\"><code>LocalDateTime::toString</code></a> method.</p>\n<p>Excerpt, my emphasis:</p>\n<blockquote>\n<p>The output will be one of the following <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO-8601</a> formats:</p>\n<p>uuuu-MM-dd'T'HH:mm</p>\n<p>uuuu-MM-dd'T'HH:mm:ss</p>\n<p>uuuu-MM-dd'T'HH:mm:ss.SSS</p>\n<p>uuuu-MM-dd'T'HH:mm:ss.SSSSSS</p>\n<p>uuuu-MM-dd'T'HH:mm:ss.SSSSSSSSS</p>\n<p>The <strong>format used will be the shortest</strong> that outputs the full value of the time where the <strong>omitted parts are implied to be zero</strong>.</p>\n</blockquote>\n<p>If you want other behavior when generating a String to represent the value of you <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a>, use a different <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>DateTimeFormatter</code></a> and pass it to <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#format(java.time.format.DateTimeFormatter)\" rel=\"noreferrer\"><code>LocalDateTime::format</code></a>.</p>\n<pre><code>String output = myLocalDateTime.format( someOtherFormatter ) ;\n</code></pre>\n<p>The <code>LocalDateTime</code> has no âformatâ as it is <em>not</em> text. It is the job of the <code>DateTimeFormatter</code> to parse or generate <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/String.html\" rel=\"noreferrer\"><code>String</code></a> objects of a particular format.</p>\n"},{"tags":[],"owner":{"account_id":178797,"reputation":1794,"user_id":3402449,"display_name":"Ahmad Shahwan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1528653598,"creation_date":1528653598,"answer_id":50786574,"question_id":50786482,"body_markdown":"You need to format your date with the proper formatter instead of using default one by calling `toString()`.\r\n\r\n    final String lexicalDate = localDateTime.format(dateTimeFormatter);","title":"Java 8 LocalDateTime dropping 00 seconds value when parsing date string value with 00 seconds like &quot;2018-07-06 00:00:00&quot;","body":"<p>You need to format your date with the proper formatter instead of using default one by calling <code>toString()</code>.</p>\n\n<pre><code>final String lexicalDate = localDateTime.format(dateTimeFormatter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7510035,"reputation":431,"user_id":5705300,"display_name":"Fl&#225;vio Henrique"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1575052798,"creation_date":1575052798,"answer_id":59109665,"question_id":50786482,"body_markdown":"You can use this pattern bellow in order to achieve the desired format:\r\n\r\n``` java\r\nDateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssz&quot;);\r\n```","title":"Java 8 LocalDateTime dropping 00 seconds value when parsing date string value with 00 seconds like &quot;2018-07-06 00:00:00&quot;","body":"<p>You can use this pattern bellow in order to achieve the desired format:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter.ofPattern(\"yyyy-MM-dd'T'HH:mm:ssz\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1577267089,"post_id":59476436,"comment_id":105131594,"body_markdown":"Thanks for the explanation. I donât think that âDateTimeFormatter removes 00â is strictly correct, I am sure that the 0 seconds are still represented internally in the resulting `LocalDateTime` object. Rather it was `LocalDateTime.toString()` not printing them as explained in the answer by Basil Bourque.","body":"Thanks for the explanation. I donât think that âDateTimeFormatter removes 00â is strictly correct, I am sure that the 0 seconds are still represented internally in the resulting <code>LocalDateTime</code> object. Rather it was <code>LocalDateTime.toString()</code> not printing them as explained in the answer by Basil Bourque."}],"tags":[],"owner":{"account_id":13192355,"reputation":31,"user_id":9528309,"display_name":"Akash Ujjainkar"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1577261480,"creation_date":1577261480,"answer_id":59476436,"question_id":50786482,"body_markdown":"DateTimeFormatter removes 00 from date after parsing, you just have to reformat it again\r\n\r\nplease refer below code snippet: \r\n   \r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    String currentTime= &quot;2017-10-19 22:00:00&quot;;\r\n    LocalDateTime datetime = LocalDateTime.parse(currentTime,formatter);\r\n    //2017-10-19T22:00\r\n    String formattedDate=datetime.format(formatter);\r\n    //2017-10-19 22:00:00","title":"Java 8 LocalDateTime dropping 00 seconds value when parsing date string value with 00 seconds like &quot;2018-07-06 00:00:00&quot;","body":"<p>DateTimeFormatter removes 00 from date after parsing, you just have to reformat it again</p>\n\n<p>please refer below code snippet: </p>\n\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\");\nString currentTime= \"2017-10-19 22:00:00\";\nLocalDateTime datetime = LocalDateTime.parse(currentTime,formatter);\n//2017-10-19T22:00\nString formattedDate=datetime.format(formatter);\n//2017-10-19 22:00:00\n</code></pre>\n"}],"owner":{"account_id":9613671,"reputation":493,"user_id":7137209,"display_name":"Taurai Nyamakura"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19606,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":50786527,"answer_count":4,"score":26,"last_activity_date":1670338180,"creation_date":1528652946,"question_id":50786482,"body_markdown":"The code (Java 8) snippet below drops the **seconds part** of my **date time** when the seconds value is **zero** within the date parsed using ***LocalDateTime.parse***, like 2018-07-10 00:00:**00**:\r\n\r\n    final DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    final LocalDateTime localDateTime = LocalDateTime.parse(&quot;2018-07-06 00:00:00&quot;, dateTimeFormatter);\r\n    final String lexicalDate = localDateTime.toString();\r\n    System.out.println(&quot;Lexical Date : &quot;+ lexicalDate);\r\n    final XMLGregorianCalendar gregorianCalendar = DatatypeFactory.newInstance().newXMLGregorianCalendar(lexicalDate);\r\n    System.out.println(&quot;Gregorian Calendar : &quot;+ gregorianCalendar);\r\n\r\nThe Lexical Date is printed as :  \r\n  \r\n\r\n&gt; Lexical Date : 2018-07-10T00:00\r\n\r\ninstead of : \r\n\r\n&gt; Lexical Date : 2018-07-10T00:00:00\r\n\r\nNow this is affecting the date value of the gregorian calendar which **returns null** when the second is dropped. Other cases when the seconds value is greater than Zero, it works perfectly.\r\n\r\n    javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(lexicalDate)\r\n\r\nThe above code is returning null whenever the seconds value is dropped because of 00 seconds value within the parsed string.  \r\n\r\nCan someone assist with a better way that handles this issue using LocalDate time, otherwise it might be a bug/funny control in Java 8 LocalDateTime.\r\n\r\nPlease note I do not have control over this date value, it&#39;s coming from a third party platform.","title":"Java 8 LocalDateTime dropping 00 seconds value when parsing date string value with 00 seconds like &quot;2018-07-06 00:00:00&quot;","body":"<p>The code (Java 8) snippet below drops the <strong>seconds part</strong> of my <strong>date time</strong> when the seconds value is <strong>zero</strong> within the date parsed using <em><strong>LocalDateTime.parse</strong></em>, like 2018-07-10 00:00:<strong>00</strong>:</p>\n<pre><code>final DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\nfinal LocalDateTime localDateTime = LocalDateTime.parse(&quot;2018-07-06 00:00:00&quot;, dateTimeFormatter);\nfinal String lexicalDate = localDateTime.toString();\nSystem.out.println(&quot;Lexical Date : &quot;+ lexicalDate);\nfinal XMLGregorianCalendar gregorianCalendar = DatatypeFactory.newInstance().newXMLGregorianCalendar(lexicalDate);\nSystem.out.println(&quot;Gregorian Calendar : &quot;+ gregorianCalendar);\n</code></pre>\n<p>The Lexical Date is printed as :</p>\n<blockquote>\n<p>Lexical Date : 2018-07-10T00:00</p>\n</blockquote>\n<p>instead of :</p>\n<blockquote>\n<p>Lexical Date : 2018-07-10T00:00:00</p>\n</blockquote>\n<p>Now this is affecting the date value of the gregorian calendar which <strong>returns null</strong> when the second is dropped. Other cases when the seconds value is greater than Zero, it works perfectly.</p>\n<pre><code>javax.xml.datatype.DatatypeFactory.newInstance().newXMLGregorianCalendar(lexicalDate)\n</code></pre>\n<p>The above code is returning null whenever the seconds value is dropped because of 00 seconds value within the parsed string.</p>\n<p>Can someone assist with a better way that handles this issue using LocalDate time, otherwise it might be a bug/funny control in Java 8 LocalDateTime.</p>\n<p>Please note I do not have control over this date value, it's coming from a third party platform.</p>\n"},{"tags":["java","list","lombok","builder","singular"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1670337113,"post_id":74704181,"comment_id":131849730,"body_markdown":"&quot;Right&quot; is a matter of opinion. It technically works, but &#39;carViewList&#39; is an extremely bad parameter name to pass the annotation IMO. Just &#39;car&#39; would be better. If you call your field &#39;cars&#39;, which is also a better name, then &#39;car&#39; will be the default anyway.","body":"&quot;Right&quot; is a matter of opinion. It technically works, but &#39;carViewList&#39; is an extremely bad parameter name to pass the annotation IMO. Just &#39;car&#39; would be better. If you call your field &#39;cars&#39;, which is also a better name, then &#39;car&#39; will be the default anyway."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1670338148,"post_id":74704181,"comment_id":131850202,"body_markdown":"@Michael I disagree with the close vote. The intention behind how to use this is pretty clear from [the documentation](https://projectlombok.org/features/BuilderSingular)","body":"@Michael I disagree with the close vote. The intention behind how to use this is pretty clear from <a href=\"https://projectlombok.org/features/BuilderSingular\" rel=\"nofollow noreferrer\">the documentation</a>"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1670338646,"post_id":74704181,"comment_id":131850408,"body_markdown":"@Jorn How someone intends you to use something is not the same as the &quot;right&quot; way to use something. &quot;Should I use it differently?&quot; is clearly opinion based. The question was not &quot;am I using this in exactly the way the devs expected me to?&quot;","body":"@Jorn How someone intends you to use something is not the same as the &quot;right&quot; way to use something. &quot;Should I use it differently?&quot; is clearly opinion based. The question was not &quot;am I using this in exactly the way the devs expected me to?&quot;"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670337951,"creation_date":1670337951,"answer_id":74704438,"question_id":74704181,"body_markdown":"It&#39;s intended to be used like this:\r\n\r\n```\r\n@Data\r\n@Builder\r\npublic class CarViews {\r\n    @Singular\r\n    private List&lt;CarResponse&gt; cars;\r\n}\r\n```\r\n\r\nLombok will automatically recognize the plural, and add a `car` method to the builder that&#39;ll allow you to add single `CarResponse` objects.\r\n\r\nFor details, see [the documentation](https://projectlombok.org/features/BuilderSingular).","title":"how to use lombok singular different","body":"<p>It's intended to be used like this:</p>\n<pre><code>@Data\n@Builder\npublic class CarViews {\n    @Singular\n    private List&lt;CarResponse&gt; cars;\n}\n</code></pre>\n<p>Lombok will automatically recognize the plural, and add a <code>car</code> method to the builder that'll allow you to add single <code>CarResponse</code> objects.</p>\n<p>For details, see <a href=\"https://projectlombok.org/features/BuilderSingular\" rel=\"nofollow noreferrer\">the documentation</a>.</p>\n"}],"owner":{"account_id":19499690,"reputation":9,"user_id":14266103,"display_name":"ali"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1670400192,"accepted_answer_id":74704438,"answer_count":1,"score":0,"last_activity_date":1670337951,"creation_date":1670336861,"question_id":74704181,"body_markdown":"```\r\n@Data\r\n@Builder\r\npublic class CarViews {\r\n    @Singular(&quot;carViewList&quot;)\r\n    private List&lt;CarResponse&gt; carViewList;\r\n}\r\n```\r\n\r\n```\r\nprivate CarViews prepareCarList() {\r\n    CarResponse carResponse = CarResponse.builder().build();\r\n    return CarViews.builder().carViewList(carResponse).build();\r\n}\r\n```\r\n\r\nI am using singular like this, is that using right?\r\nShould I use it differently?\r\n\r\n\r\n\r\n\r\nIt does not return error, it works, but I wonder, is this using right?","title":"how to use lombok singular different","body":"<pre><code>@Data\n@Builder\npublic class CarViews {\n    @Singular(&quot;carViewList&quot;)\n    private List&lt;CarResponse&gt; carViewList;\n}\n</code></pre>\n<pre><code>private CarViews prepareCarList() {\n    CarResponse carResponse = CarResponse.builder().build();\n    return CarViews.builder().carViewList(carResponse).build();\n}\n</code></pre>\n<p>I am using singular like this, is that using right?\nShould I use it differently?</p>\n<p>It does not return error, it works, but I wonder, is this using right?</p>\n"},{"tags":["javascript","java","api","types","karate"],"comments":[{"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1670344406,"post_id":74704417,"comment_id":131852632,"body_markdown":"clearly your java classpath is not set, please refer linked answer. if still stuck, follow this process: https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue","body":"clearly your java classpath is not set, please refer linked answer. if still stuck, follow this process: <a href=\"https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue</a>"}],"owner":{"account_id":26762056,"reputation":21,"user_id":20359843,"display_name":"Molka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1670344445,"answer_count":0,"score":1,"last_activity_date":1670337872,"creation_date":1670337872,"question_id":74704417,"body_markdown":"Method fails :\r\n\r\njs failed: \\&gt;\\&gt;\\&gt;\\&gt; 01: WireMockHelper.get().reset() \\&lt;\\&lt;\\&lt;\\&lt; org.graalvm.polyglot.PolyglotException - logs.dependencies.utils.WireMockHelper.\\&lt;init\\&gt;(WireMockHelper.java:34) - logs.dependencies.utils.WireMockHelper.get(WireMockHelper.java:49) - \\&lt;js\\&gt;.:program(Unnamed:1)\r\n\r\ni tried this :\r\n\r\n```\r\n    * def WireMockHelper = Java.type(&#39;logs.dependencies.utils.WireMockHelper&#39;)\r\n    * def WireMockHelper_reset = WireMockHelper.get().reset()\r\n```","title":"unable to instanciate java methode with karate","body":"<p>Method fails :</p>\n<p>js failed: &gt;&gt;&gt;&gt; 01: WireMockHelper.get().reset() &lt;&lt;&lt;&lt; org.graalvm.polyglot.PolyglotException - logs.dependencies.utils.WireMockHelper.&lt;init&gt;(WireMockHelper.java:34) - logs.dependencies.utils.WireMockHelper.get(WireMockHelper.java:49) - &lt;js&gt;.:program(Unnamed:1)</p>\n<p>i tried this :</p>\n<pre><code>    * def WireMockHelper = Java.type('logs.dependencies.utils.WireMockHelper')\n    * def WireMockHelper_reset = WireMockHelper.get().reset()\n</code></pre>\n"},{"tags":["java","spring","java-8","oauth-2.0","coinbase-api"],"answers":[{"tags":[],"owner":{"account_id":1835763,"reputation":1908,"user_id":1666206,"accept_rate":67,"display_name":"tjholmes66"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1578090718,"creation_date":1578090718,"answer_id":59586138,"question_id":59364615,"body_markdown":"After much research and &quot;trial and error,&quot; I have found that Coinbase (standard) uses Oauth2, which means we can use this secure mechanism to make trades for others.   However, it costs more per trade, and you do not get the trade details you would from Coinbase Pro.  \r\n \r\nCoinbase Pro is a completely different animal technically than what any web-site will say.  Coinbase Pro does NOT use Oauth2 in any way, shape, or form.  It has no mechanism for allowing someone to trade on someone else&#39;s behalf.  It uses an API Key which allows you to create a passphrase, you have a Secret Key and a Public Key which you can use to create bots to trade for you and you alone.\r\n\r\nThis means any web-site, like CryptoHopper, force you to enter your API key secret information into their site which is monumentally a bad idea.  Because a user enters their keys into that system, then CryptoHopper can use those keys to make trades for you.  However, the security is a big concern.  I would hope that CryptoHopper would double-encrypt that data in case their data gets compromised.\r\n\r\nThis answers my question that Coinbase has a bunch of standard Oauth2 REST API&#39;s that make it secure for trading utilizing access and refresh tokens.\r\n\r\nCoinbase Pro has its own endpoint for REST:  https://api.pro.coinbase.com\r\nYou log into Coinbase Pro and you can create your API Keys there.\r\n\r\nCoinbase Pro SANDBOX has its own endpoint for REST:  \r\nhttps://api-public.sandbox.pro.coinbase.com\r\n\r\nAnd the web-site is:   https://public.sandbox.pro.coinbase.com\r\nOnce you log into this site, you can see there are dummy bank accounts, and you can create &quot;sandbox&quot; API keys so you can make trades against this dummy system.\r\n\r\nIt was my mistake that Coinbase Pro, sandbox or not, had anything to do with Oauth2.   \r\n\r\nHope this helps someone else.\r\n","title":"Coinbase Pro and Sandbox Login Endpoints","body":"<p>After much research and \"trial and error,\" I have found that Coinbase (standard) uses Oauth2, which means we can use this secure mechanism to make trades for others.   However, it costs more per trade, and you do not get the trade details you would from Coinbase Pro.  </p>\n\n<p>Coinbase Pro is a completely different animal technically than what any web-site will say.  Coinbase Pro does NOT use Oauth2 in any way, shape, or form.  It has no mechanism for allowing someone to trade on someone else's behalf.  It uses an API Key which allows you to create a passphrase, you have a Secret Key and a Public Key which you can use to create bots to trade for you and you alone.</p>\n\n<p>This means any web-site, like CryptoHopper, force you to enter your API key secret information into their site which is monumentally a bad idea.  Because a user enters their keys into that system, then CryptoHopper can use those keys to make trades for you.  However, the security is a big concern.  I would hope that CryptoHopper would double-encrypt that data in case their data gets compromised.</p>\n\n<p>This answers my question that Coinbase has a bunch of standard Oauth2 REST API's that make it secure for trading utilizing access and refresh tokens.</p>\n\n<p>Coinbase Pro has its own endpoint for REST:  <a href=\"https://api.pro.coinbase.com\" rel=\"nofollow noreferrer\">https://api.pro.coinbase.com</a>\nYou log into Coinbase Pro and you can create your API Keys there.</p>\n\n<p>Coinbase Pro SANDBOX has its own endpoint for REST:<br>\n<a href=\"https://api-public.sandbox.pro.coinbase.com\" rel=\"nofollow noreferrer\">https://api-public.sandbox.pro.coinbase.com</a></p>\n\n<p>And the web-site is:   <a href=\"https://public.sandbox.pro.coinbase.com\" rel=\"nofollow noreferrer\">https://public.sandbox.pro.coinbase.com</a>\nOnce you log into this site, you can see there are dummy bank accounts, and you can create \"sandbox\" API keys so you can make trades against this dummy system.</p>\n\n<p>It was my mistake that Coinbase Pro, sandbox or not, had anything to do with Oauth2.   </p>\n\n<p>Hope this helps someone else.</p>\n"}],"owner":{"account_id":1835763,"reputation":1908,"user_id":1666206,"accept_rate":67,"display_name":"tjholmes66"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1001,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59586138,"answer_count":1,"score":0,"last_activity_date":1670337809,"creation_date":1576532193,"question_id":59364615,"body_markdown":"I am using Spring 5 and Java 8 to create an application to use Coinbase Pro to make trades for myself and others.  I have a coinbase.properties file and it has the following properties:\r\n\r\n    authorize.url=https://www.coinbase.com/oauth/authorize\r\n    access.url=http://www.coinbase.com/oauth/token\r\n    token.url=https://api.coinbase.com/oauth/token\r\n    current.user.url=https://api.coinbase.com/v2/user\r\n\r\nI can call the authorize page for Coinbase, and the user allows Authorization.  After Authorization, it comes back to my callback page with a code and the state I originally sent.  I can use that code to generate an access_token and refresh_token.  I save that refresh_token in the database because I know the access_token is only good for 2 hours, and if I want to do something again, I can use the refresh_token to get a new access_token and new refresh_token ... all good.   \r\n\r\nSo, as you can see, I am using Oauth2 to authenticate to Coinbase.  I can use the user.url to get information about the user passing in the user id.   Of course, I also have to pass in the access_token:\r\n\r\n     header:  Authorization:  Bearer {access_token}\r\n\r\nSo, the first question is ... can I use this OAuth mechanism for Coinbase Pro and the Coinbase Pro Sandbox to make trades for myself and others???  When looking up Coinbase Pro, I saw only the REST API link:\r\n\r\n    https://api.pro.coinbase.com      (not interested in the FIX link)\r\n\r\nI am guessing I would have to change my properties to:\r\n\r\n    authorize.url=https://www.coinbase.com/oauth/authorize\r\n    access.url=http://www.coinbase.com/oauth/token\r\n    token.url=https://api.pro.coinbase.com/oauth/token\r\n    current.user.url=https://api.pro.coinbase.com/v2/user\r\n    order.url=https://api.pro.coinbase.com/orders\r\n\r\nThe Coinbase Pro REST API documentation for /orders talks about the API Key and signing the message.  But that looks like if I am only making trades for myself.  If I am making trades for others, then I am using Oauth2 which absolutely seems the way to go.\r\n\r\nI am testing out the functionality of the sell/trade orders, and I can use Sandbox for this. \r\nSandbox is a little different, there we have a base endpoint and REST api endpoint:\r\n\r\n    # https://public.sandbox.pro.coinbase.com/\r\n    # https://api-public.sandbox.pro.coinbase.com\r\n\r\nIn this case, if I am using Oauth2 for authentication, I would expect the following:\r\n\r\n    authorize.url=https://public.sandbox.pro.coinbase.com/oauth/authorize\r\n    access.url=https://public.sandbox.pro.coinbase.com/oauth/token\r\n    token.url=https://api-public.sandbox.pro.coinbase.com/oauth/token\r\n    current.user.url=https://api-public.sandbox.pro.coinbase.com/v2/user\r\n    order.url=https://api-public.sandbox.pro.coinbase.com/orders\r\n\r\nIn this way, I am using Oauth2 authentication with Coinbase Pro sandbox  That way I can use the access_token to make trades for myself and others.  I am looking at the documentation for Coinbase Pro, and when it comes to making orders.  I am presuming that I also need to add the header for &quot;Authentication&quot; Bearer {access_token}\r\n\r\nIf this is all correct, then I am well on my way.  I just wanted to have verification that I was on the right road, and if I am not, then any help would be very useful.   Of course, if I can&#39;t use Oauth2 authentication to make trades for myself and others with Coinbase Pro, then I&#39;d need to look into that.\r\n\r\nThanks!\r\n","title":"Coinbase Pro and Sandbox Login Endpoints","body":"<p>I am using Spring 5 and Java 8 to create an application to use Coinbase Pro to make trades for myself and others.  I have a coinbase.properties file and it has the following properties:</p>\n\n<pre><code>authorize.url=https://www.coinbase.com/oauth/authorize\naccess.url=http://www.coinbase.com/oauth/token\ntoken.url=https://api.coinbase.com/oauth/token\ncurrent.user.url=https://api.coinbase.com/v2/user\n</code></pre>\n\n<p>I can call the authorize page for Coinbase, and the user allows Authorization.  After Authorization, it comes back to my callback page with a code and the state I originally sent.  I can use that code to generate an access_token and refresh_token.  I save that refresh_token in the database because I know the access_token is only good for 2 hours, and if I want to do something again, I can use the refresh_token to get a new access_token and new refresh_token ... all good.   </p>\n\n<p>So, as you can see, I am using Oauth2 to authenticate to Coinbase.  I can use the user.url to get information about the user passing in the user id.   Of course, I also have to pass in the access_token:</p>\n\n<pre><code> header:  Authorization:  Bearer {access_token}\n</code></pre>\n\n<p>So, the first question is ... can I use this OAuth mechanism for Coinbase Pro and the Coinbase Pro Sandbox to make trades for myself and others???  When looking up Coinbase Pro, I saw only the REST API link:</p>\n\n<pre><code>https://api.pro.coinbase.com      (not interested in the FIX link)\n</code></pre>\n\n<p>I am guessing I would have to change my properties to:</p>\n\n<pre><code>authorize.url=https://www.coinbase.com/oauth/authorize\naccess.url=http://www.coinbase.com/oauth/token\ntoken.url=https://api.pro.coinbase.com/oauth/token\ncurrent.user.url=https://api.pro.coinbase.com/v2/user\norder.url=https://api.pro.coinbase.com/orders\n</code></pre>\n\n<p>The Coinbase Pro REST API documentation for /orders talks about the API Key and signing the message.  But that looks like if I am only making trades for myself.  If I am making trades for others, then I am using Oauth2 which absolutely seems the way to go.</p>\n\n<p>I am testing out the functionality of the sell/trade orders, and I can use Sandbox for this. \nSandbox is a little different, there we have a base endpoint and REST api endpoint:</p>\n\n<pre><code># https://public.sandbox.pro.coinbase.com/\n# https://api-public.sandbox.pro.coinbase.com\n</code></pre>\n\n<p>In this case, if I am using Oauth2 for authentication, I would expect the following:</p>\n\n<pre><code>authorize.url=https://public.sandbox.pro.coinbase.com/oauth/authorize\naccess.url=https://public.sandbox.pro.coinbase.com/oauth/token\ntoken.url=https://api-public.sandbox.pro.coinbase.com/oauth/token\ncurrent.user.url=https://api-public.sandbox.pro.coinbase.com/v2/user\norder.url=https://api-public.sandbox.pro.coinbase.com/orders\n</code></pre>\n\n<p>In this way, I am using Oauth2 authentication with Coinbase Pro sandbox  That way I can use the access_token to make trades for myself and others.  I am looking at the documentation for Coinbase Pro, and when it comes to making orders.  I am presuming that I also need to add the header for \"Authentication\" Bearer {access_token}</p>\n\n<p>If this is all correct, then I am well on my way.  I just wanted to have verification that I was on the right road, and if I am not, then any help would be very useful.   Of course, if I can't use Oauth2 authentication to make trades for myself and others with Coinbase Pro, then I'd need to look into that.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670338790,"post_id":74704292,"comment_id":131850465,"body_markdown":"You are mixing version of SPring boot 2.3.12, 2.5, 3.0.0 and wonder why things aren&#39;t working. Start by removing all the `version` tags from the `org.springframework.boot` dependencies, remove the version for the `spring-security-test` dependency and use `thymeleaf-extras-springsecurity6` instead of 5. Also remove the `springframework.version` property. Use a `java.version` in your `properties` block to set the java version and remove the compiler plugin.","body":"You are mixing version of SPring boot 2.3.12, 2.5, 3.0.0 and wonder why things aren&#39;t working. Start by removing all the <code>version</code> tags from the <code>org.springframework.boot</code> dependencies, remove the version for the <code>spring-security-test</code> dependency and use <code>thymeleaf-extras-springsecurity6</code> instead of 5. Also remove the <code>springframework.version</code> property. Use a <code>java.version</code> in your <code>properties</code> block to set the java version and remove the compiler plugin."},{"owner":{"account_id":24303869,"reputation":1,"user_id":18246936,"display_name":"animal"},"score":1,"creation_date":1670343490,"post_id":74704292,"comment_id":131852239,"body_markdown":"Thanks, you&#39;re right, I already fixed my pom. I had to add  &lt;optional&gt;true&lt;/optional&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt; in devtools","body":"Thanks, you&#39;re right, I already fixed my pom. I had to add  &lt;optional&gt;true&lt;/optional&gt;             &lt;scope&gt;runtime&lt;/scope&gt; in devtools"}],"owner":{"account_id":24303869,"reputation":1,"user_id":18246936,"display_name":"animal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":961,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670337772,"creation_date":1670337362,"question_id":74704292,"body_markdown":"**Error:**\r\n\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/boot/SpringApplicationAotProcessor\r\n    \tat org.springframework.boot.devtools.system.DevToolsEnablementDeducer.&lt;clinit&gt;(DevToolsEnablementDeducer.java:40)\r\n    \tat org.springframework.boot.devtools.restart.DefaultRestartInitializer.getInitialUrls(DefaultRestartInitializer.java:39)\r\n    \tat org.springframework.boot.devtools.restart.Restarter.&lt;init&gt;(Restarter.java:140)\r\n    \tat org.springframework.boot.devtools.restart.Restarter.initialize(Restarter.java:534)\r\n    \tat org.springframework.boot.devtools.restart.RestartApplicationListener.onApplicationStartingEvent(RestartApplicationListener.java:90)\r\n    \tat org.springframework.boot.devtools.restart.RestartApplicationListener.onApplicationEvent(RestartApplicationListener.java:50)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.starting(EventPublishingRunListener.java:74)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.starting(SpringApplicationRunListeners.java:47)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:304)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1247)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1236)\r\n    \tat com.inventoryweb.InventoryWebApplication.main(InventoryWebApplication.java:24)\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.boot.SpringApplicationAotProcessor\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \t... 16 more\r\n    \r\n    Process finished with exit code 1\r\n\r\nVery thankful for your time.\r\n\r\n\r\n\r\n**This is my pom.xml**\r\n\r\n```\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n    &lt;!-- Run specific spring boot profile through command line --&gt;\r\n    &lt;!-- ./mvnw spring-boot:run -Dspring-boot.run.profiles={profile_name} --&gt;\r\n\r\n    &lt;!-- Run integration tests --&gt;\r\n    &lt;!-- ./mvnw verify -P integration-test --&gt;\r\n\r\n    &lt;!-- Run unit tests --&gt;\r\n    &lt;!-- ./mvnw clean install -DskipITs --&gt;\r\n\r\n    &lt;!-- Build specific war profiles without running IT --&gt;\r\n    &lt;!-- ./mvnw clean install -P&lt;profile&gt; package -DskipTests --&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.inventoryweb&lt;/groupId&gt;\r\n    &lt;artifactId&gt;inventoryweb&lt;/artifactId&gt;\r\n    &lt;version&gt;SNAPSHOT.0.1&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;properties&gt;\r\n        &lt;!-- Test --&gt;\r\n        &lt;skip.integration.tests&gt;true&lt;/skip.integration.tests&gt;\r\n        &lt;skip.unit.tests&gt;false&lt;/skip.unit.tests&gt;\r\n        &lt;project.finalName&gt;${project.artifactId}-${env.name}-${project.version}&lt;/project.finalName&gt;\r\n        &lt;!-- Tomcat --&gt;\r\n        &lt;tomcat.version&gt;9.0.40&lt;/tomcat.version&gt;\r\n        &lt;!-- Spring Framework --&gt;\r\n        &lt;springframework.version&gt;5.3.9&lt;/springframework.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;${project.finalName}&lt;/finalName&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;build-info&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;addResources&gt;true&lt;/addResources&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;!-- Used for unit tests --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;skipTests&gt;${skip.unit.tests}&lt;/skipTests&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;**/IT*.java&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- Integration tests --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;!-- States that both integration-test and verify goals of the Failsafe\r\n                        Maven plugin are executed. --&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;integration-tests&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                            &lt;goal&gt;verify&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;!-- Skips integration tests if the value of skip.integration.tests\r\n                                property is true --&gt;\r\n                            &lt;skipTests&gt;${skip.integration.tests}&lt;/skipTests&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;**/*.java&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;add-integration-test-sources&lt;/id&gt;\r\n                        &lt;phase&gt;generate-test-sources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;add-test-source&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;sources&gt;\r\n                                &lt;source&gt;src/integration-test/java&lt;/source&gt;\r\n                            &lt;/sources&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;add-integration-test-resources&lt;/id&gt;\r\n                        &lt;phase&gt;generate-test-resources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;add-test-resource&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;resources&gt;\r\n                                &lt;resource&gt;\r\n                                    &lt;directory&gt;src/integration-test/resources&lt;/directory&gt;\r\n                                &lt;/resource&gt;\r\n                            &lt;/resources&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;!-- Provides commit hash --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;pl.project13.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;git-commit-id-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;4.9.10&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;get-the-git-infos&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;revision&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;initialize&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;generateGitPropertiesFile&gt;true&lt;/generateGitPropertiesFile&gt;\r\n                    &lt;generateGitPropertiesFilename&gt;${project.build.outputDirectory}/git.properties\r\n                    &lt;/generateGitPropertiesFilename&gt;\r\n                    &lt;verbose&gt;true&lt;/verbose&gt;\r\n                    &lt;includeOnlyProperties&gt;\r\n                        &lt;includeOnlyProperty&gt;^git.commit.id.abbrev$&lt;/includeOnlyProperty&gt;\r\n                        &lt;includeOnlyProperty&gt;^git.branch$&lt;/includeOnlyProperty&gt;\r\n                    &lt;/includeOnlyProperties&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;!-- Data base migration --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;9.8.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;!-- Inherit defaults from Spring Boot --&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.12.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- Add typical dependencies for a web application --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Allow custom validation messages for annotations --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.12.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Web server --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.12.RELEASE&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n&lt;!--        &amp;lt;!&amp;ndash; To compile JSP files &amp;ndash;&amp;gt;--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Provides configuration tools for lifecycle application events --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Useful dependency to restart and quick pick up configuration changes\r\n            (Server (Domain) and Client side - JSP) --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Provides proper dependencies for DB interaction --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- JDBC connection --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.30&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\r\n        &lt;!--Auto generate property setters and getters together with constructors--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.24&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Mail --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Templates este--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Runtime data base access for test --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Db migrations --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n            &lt;version&gt;9.8.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Test --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Conditional Logging --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n            &lt;artifactId&gt;janino&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- ASI-Graylog Server --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;de.siegmar&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-gelf&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Encrypt properties sensitive information --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Spring Security --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Allows testing security configuration --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Allows toString by reflection which is useful on logging --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Password validation rules --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.passay&lt;/groupId&gt;\r\n            &lt;artifactId&gt;passay&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Messages joiner (Consider implementing project utility instead of adding another library) --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;31.1-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Thymeleaf --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Thymeleaf security --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--        Allow to work whit json--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n            &lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.20131108.vaadin1&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;ittest&lt;/id&gt;\r\n            &lt;properties&gt;\r\n                &lt;build.profile.id&gt;ittest&lt;/build.profile.id&gt;\r\n                &lt;skip.integration.tests&gt;false&lt;/skip.integration.tests&gt;\r\n                &lt;skip.unit.tests&gt;true&lt;/skip.unit.tests&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;dev&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n            &lt;properties&gt;\r\n                &lt;spring.profiles.active&gt;dev&lt;/spring.profiles.active&gt;\r\n                &lt;env.name&gt;dev&lt;/env.name&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;qa&lt;/id&gt;\r\n            &lt;properties&gt;\r\n                &lt;spring.profiles.active&gt;qa&lt;/spring.profiles.active&gt;\r\n                &lt;env.name&gt;qa&lt;/env.name&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;prod&lt;/id&gt;\r\n            &lt;properties&gt;\r\n                &lt;spring.profiles.active&gt;prod&lt;/spring.profiles.active&gt;\r\n                &lt;env.name&gt;prod&lt;/env.name&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","title":"Exc after update dependencies pom.xm Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/boot/SpringApplicationAotProcessor","body":"<p><strong>Error:</strong></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/springframework/boot/SpringApplicationAotProcessor\n    at org.springframework.boot.devtools.system.DevToolsEnablementDeducer.&lt;clinit&gt;(DevToolsEnablementDeducer.java:40)\n    at org.springframework.boot.devtools.restart.DefaultRestartInitializer.getInitialUrls(DefaultRestartInitializer.java:39)\n    at org.springframework.boot.devtools.restart.Restarter.&lt;init&gt;(Restarter.java:140)\n    at org.springframework.boot.devtools.restart.Restarter.initialize(Restarter.java:534)\n    at org.springframework.boot.devtools.restart.RestartApplicationListener.onApplicationStartingEvent(RestartApplicationListener.java:90)\n    at org.springframework.boot.devtools.restart.RestartApplicationListener.onApplicationEvent(RestartApplicationListener.java:50)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\n    at org.springframework.boot.context.event.EventPublishingRunListener.starting(EventPublishingRunListener.java:74)\n    at org.springframework.boot.SpringApplicationRunListeners.starting(SpringApplicationRunListeners.java:47)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:304)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1247)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1236)\n    at com.inventoryweb.InventoryWebApplication.main(InventoryWebApplication.java:24)\nCaused by: java.lang.ClassNotFoundException: org.springframework.boot.SpringApplicationAotProcessor\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 16 more\n\nProcess finished with exit code 1\n</code></pre>\n<p>Very thankful for your time.</p>\n<p><strong>This is my pom.xml</strong></p>\n<pre><code>&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;!-- Run specific spring boot profile through command line --&gt;\n    &lt;!-- ./mvnw spring-boot:run -Dspring-boot.run.profiles={profile_name} --&gt;\n\n    &lt;!-- Run integration tests --&gt;\n    &lt;!-- ./mvnw verify -P integration-test --&gt;\n\n    &lt;!-- Run unit tests --&gt;\n    &lt;!-- ./mvnw clean install -DskipITs --&gt;\n\n    &lt;!-- Build specific war profiles without running IT --&gt;\n    &lt;!-- ./mvnw clean install -P&lt;profile&gt; package -DskipTests --&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.inventoryweb&lt;/groupId&gt;\n    &lt;artifactId&gt;inventoryweb&lt;/artifactId&gt;\n    &lt;version&gt;SNAPSHOT.0.1&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;!-- Test --&gt;\n        &lt;skip.integration.tests&gt;true&lt;/skip.integration.tests&gt;\n        &lt;skip.unit.tests&gt;false&lt;/skip.unit.tests&gt;\n        &lt;project.finalName&gt;${project.artifactId}-${env.name}-${project.version}&lt;/project.finalName&gt;\n        &lt;!-- Tomcat --&gt;\n        &lt;tomcat.version&gt;9.0.40&lt;/tomcat.version&gt;\n        &lt;!-- Spring Framework --&gt;\n        &lt;springframework.version&gt;5.3.9&lt;/springframework.version&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;${project.finalName}&lt;/finalName&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build-info&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;addResources&gt;true&lt;/addResources&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Used for unit tests --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;${skip.unit.tests}&lt;/skipTests&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;**/IT*.java&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!-- Integration tests --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M7&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;!-- States that both integration-test and verify goals of the Failsafe\n                        Maven plugin are executed. --&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;integration-tests&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;!-- Skips integration tests if the value of skip.integration.tests\n                                property is true --&gt;\n                            &lt;skipTests&gt;${skip.integration.tests}&lt;/skipTests&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;**/*.java&lt;/include&gt;\n                            &lt;/includes&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;add-integration-test-sources&lt;/id&gt;\n                        &lt;phase&gt;generate-test-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;add-test-source&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sources&gt;\n                                &lt;source&gt;src/integration-test/java&lt;/source&gt;\n                            &lt;/sources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;add-integration-test-resources&lt;/id&gt;\n                        &lt;phase&gt;generate-test-resources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;add-test-resource&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;resources&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;src/integration-test/resources&lt;/directory&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Provides commit hash --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;pl.project13.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;git-commit-id-plugin&lt;/artifactId&gt;\n                &lt;version&gt;4.9.10&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;get-the-git-infos&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;revision&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;initialize&lt;/phase&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;generateGitPropertiesFile&gt;true&lt;/generateGitPropertiesFile&gt;\n                    &lt;generateGitPropertiesFilename&gt;${project.build.outputDirectory}/git.properties\n                    &lt;/generateGitPropertiesFilename&gt;\n                    &lt;verbose&gt;true&lt;/verbose&gt;\n                    &lt;includeOnlyProperties&gt;\n                        &lt;includeOnlyProperty&gt;^git.commit.id.abbrev$&lt;/includeOnlyProperty&gt;\n                        &lt;includeOnlyProperty&gt;^git.branch$&lt;/includeOnlyProperty&gt;\n                    &lt;/includeOnlyProperties&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Data base migration --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n                &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;9.8.2&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;!-- Inherit defaults from Spring Boot --&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.12.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Add typical dependencies for a web application --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Allow custom validation messages for annotations --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n            &lt;version&gt;2.3.12.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Web server --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;version&gt;2.3.12.RELEASE&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n&lt;!--        &amp;lt;!&amp;ndash; To compile JSP files &amp;ndash;&amp;gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Provides configuration tools for lifecycle application events --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Useful dependency to restart and quick pick up configuration changes\n            (Server (Domain) and Client side - JSP) --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Provides proper dependencies for DB interaction --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- JDBC connection --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.30&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\n        &lt;!--Auto generate property setters and getters together with constructors--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.24&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Mail --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Templates este--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Runtime data base access for test --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Db migrations --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n            &lt;version&gt;9.8.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Test --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Conditional Logging --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n            &lt;artifactId&gt;janino&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- ASI-Graylog Server --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.siegmar&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-gelf&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Encrypt properties sensitive information --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\n            &lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring Security --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Allows testing security configuration --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;version&gt;5.7.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Allows toString by reflection which is useful on logging --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.11&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Password validation rules --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.passay&lt;/groupId&gt;\n            &lt;artifactId&gt;passay&lt;/artifactId&gt;\n            &lt;version&gt;1.6.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Messages joiner (Consider implementing project utility instead of adding another library) --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;31.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Thymeleaf --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Thymeleaf security --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--        Allow to work whit json--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n            &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n            &lt;version&gt;0.0.20131108.vaadin1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;ittest&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;build.profile.id&gt;ittest&lt;/build.profile.id&gt;\n                &lt;skip.integration.tests&gt;false&lt;/skip.integration.tests&gt;\n                &lt;skip.unit.tests&gt;true&lt;/skip.unit.tests&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;dev&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;spring.profiles.active&gt;dev&lt;/spring.profiles.active&gt;\n                &lt;env.name&gt;dev&lt;/env.name&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;qa&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;spring.profiles.active&gt;qa&lt;/spring.profiles.active&gt;\n                &lt;env.name&gt;qa&lt;/env.name&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;prod&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;spring.profiles.active&gt;prod&lt;/spring.profiles.active&gt;\n                &lt;env.name&gt;prod&lt;/env.name&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":3705593,"reputation":2582,"user_id":3084228,"accept_rate":49,"display_name":"Junaid S."},"score":0,"creation_date":1658485478,"post_id":73078671,"comment_id":129068572,"body_markdown":"Right. I changed `@Data` to `@Getter` and `@Setter`. Now it works fine. Thanks for pointing out the `lombok` limitation for JPA entities.","body":"Right. I changed <code>@Data</code> to <code>@Getter</code> and <code>@Setter</code>. Now it works fine. Thanks for pointing out the <code>lombok</code> limitation for JPA entities."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1658486093,"post_id":73078671,"comment_id":129068780,"body_markdown":"That is not a limitation of `lombok`, [it&#39;s configuration capabilities are extremely flexible](https://projectlombok.org/features/EqualsAndHashCode), take a look on `@EqualsAndHashCode` parameters: `of`, `callSuper`, `onlyExplicitlyIncluded`, the main problem here is to define those methods correctly for JPA entities, and there is no best answer how to do that properly.","body":"That is not a limitation of <code>lombok</code>, <a href=\"https://projectlombok.org/features/EqualsAndHashCode\" rel=\"nofollow noreferrer\">it&#39;s configuration capabilities are extremely flexible</a>, take a look on <code>@EqualsAndHashCode</code> parameters: <code>of</code>, <code>callSuper</code>, <code>onlyExplicitlyIncluded</code>, the main problem here is to define those methods correctly for JPA entities, and there is no best answer how to do that properly."},{"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"score":0,"creation_date":1658499821,"post_id":73078671,"comment_id":129073993,"body_markdown":"As [this article](https://thorben-janssen.com/lombok-hibernate-how-to-avoid-common-pitfalls/) from Thorben Janssen states that, it is generally good idea to avoid using `Lombok` annotation on `Entity class`. Rather, we can use IDE to generate getter/setter and define certain method by ourselves as we wish.","body":"As <a href=\"https://thorben-janssen.com/lombok-hibernate-how-to-avoid-common-pitfalls/\" rel=\"nofollow noreferrer\">this article</a> from Thorben Janssen states that, it is generally good idea to avoid using <code>Lombok</code> annotation on <code>Entity class</code>. Rather, we can use IDE to generate getter/setter and define certain method by ourselves as we wish."}],"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1658484848,"creation_date":1658484848,"answer_id":73078671,"question_id":73078524,"body_markdown":"`@Data` annotation generates `equals` and `hashCode` methods relying on entity fields. When you placing `order` into `Customer#orders`, `HashSet` tries to compute `hashCode` of `Order`, `Order` refers to `Customer` which in turn refers to `Customer#orders` - that is why you are getting `SO`, basically you just need to correctly define `equals` and `hashCode` methods and do not rely on `lombok` magic. \r\n\r\nhttps://stackoverflow.com/questions/72869264/using-primiry-key-id-while-overriding-equals-and-hashcode-methods/","title":"java.lang.StackOverflowError while saving JPA entities","body":"<p><code>@Data</code> annotation generates <code>equals</code> and <code>hashCode</code> methods relying on entity fields. When you placing <code>order</code> into <code>Customer#orders</code>, <code>HashSet</code> tries to compute <code>hashCode</code> of <code>Order</code>, <code>Order</code> refers to <code>Customer</code> which in turn refers to <code>Customer#orders</code> - that is why you are getting <code>SO</code>, basically you just need to correctly define <code>equals</code> and <code>hashCode</code> methods and do not rely on <code>lombok</code> magic.</p>\n<p><a href=\"https://stackoverflow.com/questions/72869264/using-primiry-key-id-while-overriding-equals-and-hashcode-methods/\">Using Primiry Key (id) while overriding equals() and hashCode() methods</a></p>\n"},{"comments":[{"owner":{"account_id":1575525,"reputation":587,"user_id":1462096,"accept_rate":16,"display_name":"b10n1k"},"score":0,"creation_date":1663656624,"post_id":73731040,"comment_id":130284903,"body_markdown":"please provide an example","body":"please provide an example"}],"tags":[],"owner":{"account_id":22100230,"reputation":31,"user_id":16356814,"display_name":"R_Shaad"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670336918,"creation_date":1663244432,"answer_id":73731040,"question_id":73078524,"body_markdown":"I found that the implicit `toString` feature of the `@Data` annotation was causing the StackOverFlow Error.\r\n\r\nRemove your `@Data` Annotation and explicitly define the methods you want to use instead, e.g. `getter` and `setter` methods\r\n","title":"java.lang.StackOverflowError while saving JPA entities","body":"<p>I found that the implicit <code>toString</code> feature of the <code>@Data</code> annotation was causing the StackOverFlow Error.</p>\n<p>Remove your <code>@Data</code> Annotation and explicitly define the methods you want to use instead, e.g. <code>getter</code> and <code>setter</code> methods</p>\n"}],"owner":{"account_id":3705593,"reputation":2582,"user_id":3084228,"accept_rate":49,"display_name":"Junaid S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3170,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73078671,"answer_count":2,"score":2,"last_activity_date":1670336918,"creation_date":1658484112,"question_id":73078524,"body_markdown":"I am using Spring JPA to save entities into a database. Below is code structure\r\n\r\n**Customer.java**\r\n\r\n    @Entity\r\n    @Table(name=&quot;customer&quot;)\r\n    @Data\r\n    public class Customer {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        private String name;\r\n    \r\n        @OneToMany(mappedBy = &quot;customer&quot;, cascade = CascadeType.ALL)\r\n        private Set&lt;Order&gt; orders = new HashSet&lt;&gt;();\r\n    \r\n        public void add(Order order) {\r\n            if(order != null) {\r\n                if(orders == null) {\r\n                    this.orders = new HashSet&lt;&gt;();\r\n                }\r\n                this.orders.add(order);\r\n                order.setCustomer(this);\r\n            }\r\n        }\r\n    }\r\n\r\n**Order.java**\r\n\r\n    @Entity\r\n    @Table(name=&quot;order&quot;)\r\n    @Data\r\n    public class Order {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        private String orderTrackingNumber;\r\n        private String status;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;customer_id&quot;)\r\n        private Customer customer;\r\n    }\r\n\r\nNow I am trying to save customer along with its orders in database like below\r\n\r\n**OrderService.java**\r\n\r\n    @Transactional\r\n    public PurchaseResponse placeOrder(Purchase purchase) {\r\n\r\n        Order order = purchase.getOrder();\r\n\r\n        String orderTrackingNumber = UUID.randomUUID().toString();\r\n        order.setOrderTrackingNumber(orderTrackingNumber);\r\n\r\n        Customer customer = purchase.getCustomer();\r\n        customer.add(order);\r\n\r\n        this.customerRepository.save(customer);\r\n\r\n        return new PurchaseResponse(orderTrackingNumber);\r\n    }\r\n\r\nWhen `this.customerRepository.save(customer);` statement executes then I get following exception\r\n\r\n    java.lang.StackOverflowError: null\r\n\tat com.ecomhunt.entities.Order.hashCode(Order.java:15) ~[classes/:na]\r\n\tat java.base/java.util.AbstractSet.hashCode(AbstractSet.java:124) ~[na:na]\r\n\tat com.ecomhunt.entities.Customer.hashCode(Customer.java:11) ~[classes/:na]\r\n\tat com.ecomhunt.entities.Order.hashCode(Order.java:15) ~[classes/:na]\r\n\tat java.base/java.util.AbstractSet.hashCode(AbstractSet.java:124) ~[na:na]\r\n\tat com.ecomhunt.entities.Customer.hashCode(Customer.java:11) ~[classes/:na]\r\n\tat com.ecomhunt.entities.Order.hashCode(Order.java:15) ~[classes/:na]\r\n\tat java.base/java.util.AbstractSet.hashCode(AbstractSet.java:124) ~[na:na]\r\n\tat com.ecomhunt.entities.Customer.hashCode(Customer.java:11) ~[classes/:na]\r\n    ......\r\n\r\nIf I comment `order.setCustomer(this);` line in Customer#add(order), then error disappears but in database the `customer_id` is not save in order table.\r\n\r\nI am not sure what I am doing wrong.","title":"java.lang.StackOverflowError while saving JPA entities","body":"<p>I am using Spring JPA to save entities into a database. Below is code structure</p>\n<p><strong>Customer.java</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;customer&quot;)\n@Data\npublic class Customer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String name;\n\n    @OneToMany(mappedBy = &quot;customer&quot;, cascade = CascadeType.ALL)\n    private Set&lt;Order&gt; orders = new HashSet&lt;&gt;();\n\n    public void add(Order order) {\n        if(order != null) {\n            if(orders == null) {\n                this.orders = new HashSet&lt;&gt;();\n            }\n            this.orders.add(order);\n            order.setCustomer(this);\n        }\n    }\n}\n</code></pre>\n<p><strong>Order.java</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;order&quot;)\n@Data\npublic class Order {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String orderTrackingNumber;\n    private String status;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;customer_id&quot;)\n    private Customer customer;\n}\n</code></pre>\n<p>Now I am trying to save customer along with its orders in database like below</p>\n<p><strong>OrderService.java</strong></p>\n<pre><code>@Transactional\npublic PurchaseResponse placeOrder(Purchase purchase) {\n\n    Order order = purchase.getOrder();\n\n    String orderTrackingNumber = UUID.randomUUID().toString();\n    order.setOrderTrackingNumber(orderTrackingNumber);\n\n    Customer customer = purchase.getCustomer();\n    customer.add(order);\n\n    this.customerRepository.save(customer);\n\n    return new PurchaseResponse(orderTrackingNumber);\n}\n</code></pre>\n<p>When <code>this.customerRepository.save(customer);</code> statement executes then I get following exception</p>\n<pre><code>java.lang.StackOverflowError: null\nat com.ecomhunt.entities.Order.hashCode(Order.java:15) ~[classes/:na]\nat java.base/java.util.AbstractSet.hashCode(AbstractSet.java:124) ~[na:na]\nat com.ecomhunt.entities.Customer.hashCode(Customer.java:11) ~[classes/:na]\nat com.ecomhunt.entities.Order.hashCode(Order.java:15) ~[classes/:na]\nat java.base/java.util.AbstractSet.hashCode(AbstractSet.java:124) ~[na:na]\nat com.ecomhunt.entities.Customer.hashCode(Customer.java:11) ~[classes/:na]\nat com.ecomhunt.entities.Order.hashCode(Order.java:15) ~[classes/:na]\nat java.base/java.util.AbstractSet.hashCode(AbstractSet.java:124) ~[na:na]\nat com.ecomhunt.entities.Customer.hashCode(Customer.java:11) ~[classes/:na]\n......\n</code></pre>\n<p>If I comment <code>order.setCustomer(this);</code> line in Customer#add(order), then error disappears but in database the <code>customer_id</code> is not save in order table.</p>\n<p>I am not sure what I am doing wrong.</p>\n"},{"tags":["java","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":17330298,"reputation":127,"user_id":12553583,"display_name":"Jack Boch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670336788,"creation_date":1670336788,"answer_id":74704159,"question_id":74701310,"body_markdown":"I think there is a better solution but it seems to work\r\n\r\n```java\r\npublic UserDto[] getAllUser(String username) {\r\n    return localApiClient.get().uri(baseUrl + username)\r\n\t\t\t.exchangeToMono(response -&gt; {\r\n\t\t\t\t\tif (response.statusCode().equals(HttpStatus.NOT_FOUND)) {\r\n\t\t\t\t\t\tresponse = ClientResponse.create(HttpStatus.NO_CONTENT).build();\r\n\t\t\t\t\t\treturn response.bodyToMono(UserDto[].class);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn response.bodyToMono(UserDto[].class);\r\n\t\t\t\t})\r\n            .block(REQUEST_TIMEOUT);\r\n}\r\n```","title":"How to catch Mono error generate one other?","body":"<p>I think there is a better solution but it seems to work</p>\n<pre class=\"lang-java prettyprint-override\"><code>public UserDto[] getAllUser(String username) {\n    return localApiClient.get().uri(baseUrl + username)\n            .exchangeToMono(response -&gt; {\n                    if (response.statusCode().equals(HttpStatus.NOT_FOUND)) {\n                        response = ClientResponse.create(HttpStatus.NO_CONTENT).build();\n                        return response.bodyToMono(UserDto[].class);\n                    }\n                    return response.bodyToMono(UserDto[].class);\n                })\n            .block(REQUEST_TIMEOUT);\n}\n</code></pre>\n"}],"owner":{"account_id":17330298,"reputation":127,"user_id":12553583,"display_name":"Jack Boch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670336788,"creation_date":1670324252,"question_id":74701310,"body_markdown":"I have a Java 11 Spring Boot application which consumes an external web service which returns 404 when there is no result and I would like it to return 204 in this case.\r\n\r\nSo, I want to catch 404 errors to raise a 204.\r\n\r\n```java\r\n// Before\r\npublic UserDto[] getAllUser(String username) {\r\n    return localApiClient.get().uri(baseUrl + username)\r\n        \t.retrieve()\r\n            .bodyToMono(UserDto[].class)\r\n        \t.block(REQUEST_TIMEOUT);\r\n}\r\n\r\n// what I want\r\npublic UserDto[] getAllUser(String username) {\r\n    return localApiClient.get().uri(baseUrl + username)\r\n            .exchangeToMono(response -&gt; {\r\n        \t\tif (response.statusCode().equals(HttpStatus.OK)) {\r\n        \t\t\treturn response.bodyToMono(UserDto[].class);\r\n        \t\t}\r\n        \t\tif (response.statusCode().equals(HttpStatus.NOT_FOUND)) {\r\n        \t\t\treturn response.createException().flatMap(Mono.error(HttpStatus.NO_CONTENT));\r\n        \t\t} else {\r\n        \t\t\treturn response.createException().flatMap(Mono::error);\r\n        \t\t}\r\n        \t.block(REQUEST_TIMEOUT);\r\n\r\n}\r\n```\r\n\r\n","title":"How to catch Mono error generate one other?","body":"<p>I have a Java 11 Spring Boot application which consumes an external web service which returns 404 when there is no result and I would like it to return 204 in this case.</p>\n<p>So, I want to catch 404 errors to raise a 204.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Before\npublic UserDto[] getAllUser(String username) {\n    return localApiClient.get().uri(baseUrl + username)\n            .retrieve()\n            .bodyToMono(UserDto[].class)\n            .block(REQUEST_TIMEOUT);\n}\n\n// what I want\npublic UserDto[] getAllUser(String username) {\n    return localApiClient.get().uri(baseUrl + username)\n            .exchangeToMono(response -&gt; {\n                if (response.statusCode().equals(HttpStatus.OK)) {\n                    return response.bodyToMono(UserDto[].class);\n                }\n                if (response.statusCode().equals(HttpStatus.NOT_FOUND)) {\n                    return response.createException().flatMap(Mono.error(HttpStatus.NO_CONTENT));\n                } else {\n                    return response.createException().flatMap(Mono::error);\n                }\n            .block(REQUEST_TIMEOUT);\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","h2","flyway"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1670339081,"post_id":74701366,"comment_id":131850589,"body_markdown":"You&#39;ve disabled running Flyway. Why do you expect the table to be there?","body":"You&#39;ve disabled running Flyway. Why do you expect the table to be there?"}],"answers":[{"tags":[],"owner":{"account_id":19711883,"reputation":90,"user_id":14432226,"display_name":"eskiltb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670335871,"creation_date":1670335871,"answer_id":74703962,"question_id":74701366,"body_markdown":"Flyway works by adding a flyway file into your resources folder. First (in resources) add a folder called db, inside db add a folder called migration. Then in migration add a file called V00X__initial.sql for instance. Replace X with number, like 1. Next is 2. \r\nThen write queries into the .sql files. Flyway will then run those queries when the application or tests start.\r\n\r\nFor tests, you would usually make a V001__make_tables.sql file, with a query that makes tables.\r\nThen a V002__insert_data.sql file to insert data, and then see in the tests if said data is added. \r\n\r\n","title":"Schema related problems with Flyway / Springboot and H2 in-memory database","body":"<p>Flyway works by adding a flyway file into your resources folder. First (in resources) add a folder called db, inside db add a folder called migration. Then in migration add a file called V00X__initial.sql for instance. Replace X with number, like 1. Next is 2.\nThen write queries into the .sql files. Flyway will then run those queries when the application or tests start.</p>\n<p>For tests, you would usually make a V001__make_tables.sql file, with a query that makes tables.\nThen a V002__insert_data.sql file to insert data, and then see in the tests if said data is added.</p>\n"}],"owner":{"account_id":18676335,"reputation":21,"user_id":13613933,"display_name":"Dang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74703962,"answer_count":1,"score":1,"last_activity_date":1670335871,"creation_date":1670324475,"question_id":74701366,"body_markdown":"`org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [INSERT INTO merchant_rating_detail (order_id, shop_id, user_id, rating, created_datetime, feedback_ids) VALUES(?, ?, ?, ?, ?, ?);]; nested exception is org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;merchant_rating_detail&quot; not found (this database is empty); SQL statement:\r\nINSERT INTO merchant_rating_detail (order_id, shop_id, user_id, rating, created_datetime, feedback_ids) VALUES(?, ?, ?, ?, ?, ?); [42104-214]\r\n`\r\n`\r\n```\r\n\r\n# Flyway\r\nspring.flyway.enabled= false\r\n\r\n# H2\r\nspring.datasource.url=jdbc:h2:mem:testdb;DATABASE_TO_UPPER=false;DB_CLOSE_ON_EXIT=FALSE\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=password\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nspring.jpa.defer-datasource-initialization=true\r\n\r\n```\r\n`\r\n\r\nI&#39;m trying to make an unit test pass but don&#39;t know don&#39;t know how to.\r\nHow do i implement Flyway the correct way.\r\n\r\nI&#39;ve tried adding ;DATABASE_TO_UPPER=false;DB_CLOSE_ON_EXIT=FALSE and spring.jpa.defer-datasource-initialization=true\r\nbut did not worked","title":"Schema related problems with Flyway / Springboot and H2 in-memory database","body":"<p><code>org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [INSERT INTO merchant_rating_detail (order_id, shop_id, user_id, rating, created_datetime, feedback_ids) VALUES(?, ?, ?, ?, ?, ?);]; nested exception is org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;merchant_rating_detail&quot; not found (this database is empty); SQL statement: INSERT INTO merchant_rating_detail (order_id, shop_id, user_id, rating, created_datetime, feedback_ids) VALUES(?, ?, ?, ?, ?, ?); [42104-214] </code>\n`</p>\n<pre><code>\n# Flyway\nspring.flyway.enabled= false\n\n# H2\nspring.datasource.url=jdbc:h2:mem:testdb;DATABASE_TO_UPPER=false;DB_CLOSE_ON_EXIT=FALSE\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.jpa.defer-datasource-initialization=true\n\n</code></pre>\n<p>`</p>\n<p>I'm trying to make an unit test pass but don't know don't know how to.\nHow do i implement Flyway the correct way.</p>\n<p>I've tried adding ;DATABASE_TO_UPPER=false;DB_CLOSE_ON_EXIT=FALSE and spring.jpa.defer-datasource-initialization=true\nbut did not worked</p>\n"},{"tags":["java","spring-boot","lambda","spring-el"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1670310374,"post_id":74698214,"comment_id":131840590,"body_markdown":"Is there any reason to turn configuration into puzzle? Just implement your own org.springframework.context.annotation.Condition.","body":"Is there any reason to turn configuration into puzzle? Just implement your own org.springframework.context.annotation.Condition."},{"owner":{"account_id":4792887,"reputation":1023,"user_id":4003272,"accept_rate":88,"display_name":"Mikhail Geyer"},"score":0,"creation_date":1670313125,"post_id":74698214,"comment_id":131841269,"body_markdown":"Using `Condition` is limited in practice by using  `profiles` only. And in my case, I cannot use `profiles` due to the project restriction. `Condition`  does not allow to access to the bean values.  As the beans are present but not yet initialized https://stackoverflow.com/questions/46481117/using-context-beans-within-a-condition-or-a-configurationcondition\nThat is why I came to `@ConditionalOnExpression`, which though looks ugly. And I just want to make it prettier.","body":"Using <code>Condition</code> is limited in practice by using  <code>profiles</code> only. And in my case, I cannot use <code>profiles</code> due to the project restriction. <code>Condition</code>  does not allow to access to the bean values.  As the beans are present but not yet initialized <a href=\"https://stackoverflow.com/questions/46481117/using-context-beans-within-a-condition-or-a-configurationcondition\" title=\"using context beans within a condition or a configurationcondition\">stackoverflow.com/questions/46481117/&hellip;</a> That is why I came to <code>@ConditionalOnExpression</code>, which though looks ugly. And I just want to make it prettier."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1670321554,"post_id":74698214,"comment_id":131844012,"body_markdown":"`@ConditionalOnExpression` (actually `OnExpressionCondition`) does not have any advantages over implementing `Condition`: it uses the same, partially constructed `context.getBeanFactory()`, if you observe desired behaviour in one case and do not observe the same in another case it is just a matter of time when everything will &quot;suddenly&quot; stop working as expected.","body":"<code>@ConditionalOnExpression</code> (actually <code>OnExpressionCondition</code>) does not have any advantages over implementing <code>Condition</code>: it uses the same, partially constructed <code>context.getBeanFactory()</code>, if you observe desired behaviour in one case and do not observe the same in another case it is just a matter of time when everything will &quot;suddenly&quot; stop working as expected."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1670335584,"post_id":74698214,"comment_id":131849141,"body_markdown":"SpEL means Spring Expression **Language** - it is **not** java and so there should be no expectation that it supports lambdas.","body":"SpEL means Spring Expression <b>Language</b> - it is <b>not</b> java and so there should be no expectation that it supports lambdas."}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670334465,"creation_date":1670334465,"answer_id":74703614,"question_id":74698214,"body_markdown":"There is no reason to over-complicate SpEL: just have that logic in some `static` method and use it via `T` operator: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-types. Or you can register it as a function in the `EvaluationContext`. See same doc.\r\n\r\nThe point is that SpEL is an interpreted language: the longer and and complex expression - the slower calculation.","title":"Is it possible to use lambda in SpEL inside @ConditionalOnExpression","body":"<p>There is no reason to over-complicate SpEL: just have that logic in some <code>static</code> method and use it via <code>T</code> operator: <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-types\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-types</a>. Or you can register it as a function in the <code>EvaluationContext</code>. See same doc.</p>\n<p>The point is that SpEL is an interpreted language: the longer and and complex expression - the slower calculation.</p>\n"}],"owner":{"account_id":4792887,"reputation":1023,"user_id":4003272,"accept_rate":88,"display_name":"Mikhail Geyer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74703614,"answer_count":1,"score":0,"last_activity_date":1670335850,"creation_date":1670308419,"question_id":74698214,"body_markdown":"Is it possible to use `lambda` for`@ConditionalOnExpression` in spring expression language (SpEL)?  \r\nI have created the following SpEL condition via [collection-selection][1] which works fine for me. But I am not satisfied how it looks like.\r\n\r\n    @ConditionalOnExpression(&quot;#{T(java.util.Arrays).asList(&#39;${app.sync.white-list}&#39;).?[#this.toLowerCase() == &#39;all&#39; or #this.toLowerCase() == &#39;phone&#39;].size() &gt; 0}&quot;)\r\n\r\nIn `Java` the logic for the condition is the following:\r\n\r\n    Arrays.stream(a).anyMatch(x -&gt; &quot;all&quot;.equalsIgnoreCase(x) || &quot;phone&quot;.equalsIgnoreCase(x))\r\n\r\nI wonder if it is possible to make that SpEL condition look nicer via using `anyMatch` and `lambda`? \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/4.3.12.RELEASE/spring-framework-reference/html/expressions.html#expressions-collection-selection","title":"Is it possible to use lambda in SpEL inside @ConditionalOnExpression","body":"<p>Is it possible to use <code>lambda</code> for<code>@ConditionalOnExpression</code> in spring expression language (SpEL)?<br />\nI have created the following SpEL condition via <a href=\"https://docs.spring.io/spring-framework/docs/4.3.12.RELEASE/spring-framework-reference/html/expressions.html#expressions-collection-selection\" rel=\"nofollow noreferrer\">collection-selection</a> which works fine for me. But I am not satisfied how it looks like.</p>\n<pre><code>@ConditionalOnExpression(&quot;#{T(java.util.Arrays).asList('${app.sync.white-list}').?[#this.toLowerCase() == 'all' or #this.toLowerCase() == 'phone'].size() &gt; 0}&quot;)\n</code></pre>\n<p>In <code>Java</code> the logic for the condition is the following:</p>\n<pre><code>Arrays.stream(a).anyMatch(x -&gt; &quot;all&quot;.equalsIgnoreCase(x) || &quot;phone&quot;.equalsIgnoreCase(x))\n</code></pre>\n<p>I wonder if it is possible to make that SpEL condition look nicer via using <code>anyMatch</code> and <code>lambda</code>?</p>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1670325681,"post_id":74701600,"comment_id":131845432,"body_markdown":"Log2 showing first is expected. This is an async action.","body":"Log2 showing first is expected. This is an async action."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1670325790,"post_id":74701600,"comment_id":131845463,"body_markdown":"`addOnCompleteListener` means &quot;add a thing to happen later&quot;. You can&#39;t return a variable *now* and require it to have the value it is updated to later.","body":"<code>addOnCompleteListener</code> means &quot;add a thing to happen later&quot;. You can&#39;t return a variable <i>now</i> and require it to have the value it is updated to later."},{"owner":{"account_id":20820985,"reputation":71,"user_id":15292624,"display_name":"Afeef"},"score":0,"creation_date":1670326623,"post_id":74701600,"comment_id":131845753,"body_markdown":"Thank you for your reply...so how to get counter value from &quot;addOnCompleteListener &quot; and return it?","body":"Thank you for your reply...so how to get counter value from &quot;addOnCompleteListener &quot; and return it?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1670328679,"post_id":74701600,"comment_id":131846492,"body_markdown":"There is no way you can do that. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953).","body":"There is no way you can do that. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953\" rel=\"nofollow noreferrer\">resource</a>."}],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1670325844,"post_id":74701623,"comment_id":131845482,"body_markdown":"This will not compile as there is no return within the method `commentsNO`. The return you added inside the complete listener does not return from commentsNO, and will likely not compile either, unless `addOnCompleteListener` is an `ToIntFunction&lt;..&gt;` or similar.","body":"This will not compile as there is no return within the method <code>commentsNO</code>. The return you added inside the complete listener does not return from commentsNO, and will likely not compile either, unless <code>addOnCompleteListener</code> is an <code>ToIntFunction&lt;..&gt;</code> or similar."}],"tags":[],"owner":{"account_id":7708573,"reputation":685,"user_id":5838755,"display_name":"Taron Qalashyan"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1670325653,"creation_date":1670325653,"answer_id":74701623,"question_id":74701600,"body_markdown":"    public int commentsNO(String tweetID) {\r\n      FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n      \r\n      // Initialize the counter variable to 0.\r\n      int counter = 0;\r\n    \r\n      // FireStore Comments reading\r\n      db.collection(&quot;Comments&quot;)\r\n        .whereEqualTo(&quot;TweetId&quot;, tweetID)\r\n        .get()\r\n        .addOnCompleteListener(task -&gt; {\r\n          if (task.isSuccessful()) {\r\n            for (QueryDocumentSnapshot document : task.getResult()) {\r\n              counter++;\r\n            }\r\n    \r\n            Log.d(&quot;Log&quot;, &quot;Counter Value inside Scope: &quot; + counter);\r\n    \r\n            // Return the value of counter after the query has completed.\r\n            return counter;\r\n          }\r\n        });\r\n    \r\n      // This line will not be executed because the method will return\r\n      // before the Firestore query has completed.\r\n      Log.d(&quot;Log&quot;, &quot;Counter Value outside Scope: &quot; + counter);\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"value returned is always null","body":"<pre><code>public int commentsNO(String tweetID) {\n  FirebaseFirestore db = FirebaseFirestore.getInstance();\n  \n  // Initialize the counter variable to 0.\n  int counter = 0;\n\n  // FireStore Comments reading\n  db.collection(&quot;Comments&quot;)\n    .whereEqualTo(&quot;TweetId&quot;, tweetID)\n    .get()\n    .addOnCompleteListener(task -&gt; {\n      if (task.isSuccessful()) {\n        for (QueryDocumentSnapshot document : task.getResult()) {\n          counter++;\n        }\n\n        Log.d(&quot;Log&quot;, &quot;Counter Value inside Scope: &quot; + counter);\n\n        // Return the value of counter after the query has completed.\n        return counter;\n      }\n    });\n\n  // This line will not be executed because the method will return\n  // before the Firestore query has completed.\n  Log.d(&quot;Log&quot;, &quot;Counter Value outside Scope: &quot; + counter);\n}\n</code></pre>\n"}],"owner":{"account_id":20820985,"reputation":71,"user_id":15292624,"display_name":"Afeef"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1670328691,"answer_count":1,"score":-3,"last_activity_date":1670335841,"creation_date":1670325517,"question_id":74701600,"body_markdown":"I have a very confusing and frustrating issue. The method used here always returns null or 0\r\n```\r\npublic int commentsNO(String tweeiID) {\r\n    db2 = FirebaseFirestore.getInstance();\r\n    //FireStore Comments reading\r\n    db2.collection(&quot;Comments&quot;).\r\n            whereEqualTo(&quot;TweetId&quot;, tweeiID)\r\n            .get()\r\n            .addOnCompleteListener(task -&gt; {\r\n     \r\n                if (task.isSuccessful()) {\r\n                    for (QueryDocumentSnapshot document : task.getResult()) {\r\n                        counter++;\r\n                    }\r\n                    Log.d(&quot;ÙLog1&quot;, &quot;Counter Value inside Scope: &quot; + counter);\r\n                }\r\n            });\r\n\r\n    Log.d(&quot;Log2&quot;, &quot;Counter Value outside Scope: &quot; + counter);\r\n    return counter;\r\n}\r\n```\r\n\r\n\r\n \r\nThe output is:\r\n\r\n```none\r\nD/Log: Log2 Counter Value outside Scope: 0\r\n\r\nD/ÙLog: Log1 Counter Value inside Scope: 1\r\n```\r\n\r\nThe counter value is set to 1 inside for loop scope , but when the loop is finished , the counter value seems to be set to 0!!\r\nIt looks like as if the execution starts from the end, since Log1 is supposed to show first.\r\n \r\n\r\n","title":"value returned is always null","body":"<p>I have a very confusing and frustrating issue. The method used here always returns null or 0</p>\n<pre><code>public int commentsNO(String tweeiID) {\n    db2 = FirebaseFirestore.getInstance();\n    //FireStore Comments reading\n    db2.collection(&quot;Comments&quot;).\n            whereEqualTo(&quot;TweetId&quot;, tweeiID)\n            .get()\n            .addOnCompleteListener(task -&gt; {\n     \n                if (task.isSuccessful()) {\n                    for (QueryDocumentSnapshot document : task.getResult()) {\n                        counter++;\n                    }\n                    Log.d(&quot;ÙLog1&quot;, &quot;Counter Value inside Scope: &quot; + counter);\n                }\n            });\n\n    Log.d(&quot;Log2&quot;, &quot;Counter Value outside Scope: &quot; + counter);\n    return counter;\n}\n</code></pre>\n<p>The output is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>D/Log: Log2 Counter Value outside Scope: 0\n\nD/ÙLog: Log1 Counter Value inside Scope: 1\n</code></pre>\n<p>The counter value is set to 1 inside for loop scope , but when the loop is finished , the counter value seems to be set to 0!!\nIt looks like as if the execution starts from the end, since Log1 is supposed to show first.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1670336096,"post_id":74703928,"comment_id":131849352,"body_markdown":"`&lt;configuration&gt;&lt;rerunFailingTestsCount&gt;2&lt;/rerunFailingTestsCount&gt;&lt;/configuration&gt;`","body":"<code>&lt;configuration&gt;&lt;rerunFailingTestsCount&gt;2&lt;&#47;rerunFailingTestsC&zwnj;&#8203;ount&gt;&lt;&#47;configuration&zwnj;&#8203;&gt;</code>"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1670336277,"post_id":74703928,"comment_id":131849427,"body_markdown":"`-fn` is a maven flag. Maven runs failsafe. By the time failsafe would apply that, it&#39;s too late. Are you sure that flag&#39;s even what you want? It means even code that fails to compile will &quot;succeed&quot;. If you only want to ignore failing tests, you shouldn&#39;t be using `-fn` anyway","body":"<code>-fn</code> is a maven flag. Maven runs failsafe. By the time failsafe would apply that, it&#39;s too late. Are you sure that flag&#39;s even what you want? It means even code that fails to compile will &quot;succeed&quot;. If you only want to ignore failing tests, you shouldn&#39;t be using <code>-fn</code> anyway"},{"owner":{"account_id":513524,"reputation":1537,"user_id":939399,"accept_rate":56,"display_name":"matandked"},"score":0,"creation_date":1670337408,"post_id":74703928,"comment_id":131849859,"body_markdown":"@Michael #Michael should I use your configuration instead of what I provided or add it to current argLine?","body":"@Michael #Michael should I use your configuration instead of what I provided or add it to current argLine?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1670337446,"post_id":74703928,"comment_id":131849880,"body_markdown":"Use it instead of yours","body":"Use it instead of yours"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1670366711,"post_id":74703928,"comment_id":131859574,"body_markdown":"If tests fail you should fix those tests. rerunning is an indicator that those test are simply lying .. apart from that I strongly recommend to upgrade your Maven version to most recent 3.8.6... (3.6.X is simply old!)","body":"If tests fail you should fix those tests. rerunning is an indicator that those test are simply lying .. apart from that I strongly recommend to upgrade your Maven version to most recent 3.8.6... (3.6.X is simply old!)"},{"owner":{"account_id":513524,"reputation":1537,"user_id":939399,"accept_rate":56,"display_name":"matandked"},"score":0,"creation_date":1670404057,"post_id":74703928,"comment_id":131866545,"body_markdown":"@khmarbaise But what if tested application sometimes returns 500, because of the timeouts? Yes, sure, I could add logic to the tests - repeat try in case of response 500, but I could also rerun the tests.","body":"@khmarbaise But what if tested application sometimes returns 500, because of the timeouts? Yes, sure, I could add logic to the tests - repeat try in case of response 500, but I could also rerun the tests."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1670407115,"post_id":74703928,"comment_id":131867560,"body_markdown":"You should figure out why it returns sometimes the 500 code...","body":"You should figure out why it returns sometimes the 500 code..."}],"owner":{"account_id":513524,"reputation":1537,"user_id":939399,"accept_rate":56,"display_name":"matandked"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670335717,"creation_date":1670335717,"question_id":74703928,"body_markdown":"I want to configure the tests to *not* stop execution even in case of error and try to re-run the test in case of any issue.\r\n\r\nI use maven 3.6 to run the tests by typing\r\n\r\n```\r\nmvn clean verify -fn -Dfailsafe.rerunFailingTestsCount=2\r\n```\r\n\r\nWhere `fn` is a shortcut for `--fail-never`\r\n\r\nHow can i do the same by creating a profile in the `pom.xml` file?\r\n\r\nAccording to https://maven.apache.org/surefire/maven-failsafe-plugin/integration-test-mojo.html\r\nI&#39;ve tried to use \r\n\r\n```\r\n&lt;configuration&gt;\r\n&lt;argLine&gt;\r\n-Dfailsafe.rerunFailingTestsCount=2\r\n&lt;/argLine&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nin profile part.\r\nHowever, I have an issue with `-fn` part - when I try to add it to argLine, it complains that it is not recognized.\r\n\r\n\r\n","title":"How to configure maven fail-never in pom file?","body":"<p>I want to configure the tests to <em>not</em> stop execution even in case of error and try to re-run the test in case of any issue.</p>\n<p>I use maven 3.6 to run the tests by typing</p>\n<pre><code>mvn clean verify -fn -Dfailsafe.rerunFailingTestsCount=2\n</code></pre>\n<p>Where <code>fn</code> is a shortcut for <code>--fail-never</code></p>\n<p>How can i do the same by creating a profile in the <code>pom.xml</code> file?</p>\n<p>According to <a href=\"https://maven.apache.org/surefire/maven-failsafe-plugin/integration-test-mojo.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-failsafe-plugin/integration-test-mojo.html</a>\nI've tried to use</p>\n<pre><code>&lt;configuration&gt;\n&lt;argLine&gt;\n-Dfailsafe.rerunFailingTestsCount=2\n&lt;/argLine&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>in profile part.\nHowever, I have an issue with <code>-fn</code> part - when I try to add it to argLine, it complains that it is not recognized.</p>\n"},{"tags":["java","arrays","list","csv"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1670266446,"post_id":74693048,"comment_id":131832014,"body_markdown":"What does this have to do with Python?","body":"What does this have to do with Python?"},{"owner":{"account_id":20780824,"reputation":29149,"user_id":15261315,"display_name":"Chris"},"score":0,"creation_date":1670266530,"post_id":74693048,"comment_id":131832046,"body_markdown":"It doesn&#39;t, which is why I removed that tag.","body":"It doesn&#39;t, which is why I removed that tag."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670269902,"post_id":74693048,"comment_id":131833032,"body_markdown":"*I  have created a class Object*  Not a good idea. That&#39;s the name of the Ur class. I would create a stream grouping operation giving you a map of groups","body":"<i>I  have created a class Object</i>  Not a good idea. That&#39;s the name of the Ur class. I would create a stream grouping operation giving you a map of groups"},{"owner":{"account_id":27156002,"reputation":25,"user_id":20694824,"display_name":"Lemonand09"},"score":0,"creation_date":1670274895,"post_id":74693048,"comment_id":131834377,"body_markdown":"@g00se what do you mean by a &#39;stream grouping operation&#39;","body":"@g00se what do you mean by a &#39;stream grouping operation&#39;"}],"answers":[{"tags":[],"owner":{"account_id":10358239,"reputation":46,"user_id":7639470,"display_name":"Akshay More"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670276899,"creation_date":1670276899,"answer_id":74694767,"question_id":74693048,"body_markdown":"You can create a Hashmap with key as name of the item and value as list of colors available. \r\n\r\nI hope below snippet will solve your problem. Good Luck!!\r\n\r\n        HashMap&lt;String,List&lt;String&gt;&gt; data = new HashMap&lt;&gt;();\r\n        String [] line;\r\n        reader.readNext();\r\n        while ((line = reader.readNext()) != null) {\r\n            String name = line[0];\r\n            String colour = line[1];\r\n            if(data.containsKey(name.toLowerCase())){\r\n                data.get(name.toLowerCase()).add(colour.toLowerCase());\r\n            }\r\n            else{\r\n                List&lt;String&gt; colorList = new ArrayList&lt;&gt;();\r\n                colorList.add(colour.toLowerCase());\r\n                data.put(name.toLowerCase(),colorList);\r\n            }\r\n        }","title":"How can I use Java to create a list of all the values from csv file that have the same row name","body":"<p>You can create a Hashmap with key as name of the item and value as list of colors available.</p>\n<p>I hope below snippet will solve your problem. Good Luck!!</p>\n<pre><code>    HashMap&lt;String,List&lt;String&gt;&gt; data = new HashMap&lt;&gt;();\n    String [] line;\n    reader.readNext();\n    while ((line = reader.readNext()) != null) {\n        String name = line[0];\n        String colour = line[1];\n        if(data.containsKey(name.toLowerCase())){\n            data.get(name.toLowerCase()).add(colour.toLowerCase());\n        }\n        else{\n            List&lt;String&gt; colorList = new ArrayList&lt;&gt;();\n            colorList.add(colour.toLowerCase());\n            data.put(name.toLowerCase(),colorList);\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27156002,"reputation":25,"user_id":20694824,"display_name":"Lemonand09"},"score":0,"creation_date":1670339594,"post_id":74703838,"comment_id":131850792,"body_markdown":"This is an interesting solution. It has a lot more lines of code than the solution provided by Akshay, would you say this is a better one?","body":"This is an interesting solution. It has a lot more lines of code than the solution provided by Akshay, would you say this is a better one?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670343632,"post_id":74703838,"comment_id":131852295,"body_markdown":"I would say it&#39;s certainly useful to know how to bind csv data to domain objects. You would do that often in a professional context.","body":"I would say it&#39;s certainly useful to know how to bind csv data to domain objects. You would do that often in a professional context."}],"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670335386,"creation_date":1670335386,"answer_id":74703838,"question_id":74693048,"body_markdown":"&gt;  @g00se what do you mean by a &#39;stream grouping operation&#39;\r\n\r\nI&#39;ll show you. Actually, in your case, since you&#39;re using a proper csv API, you can leverage that to create beans first, then do the grouping. Here&#39;s what I mean by stream grouping: we create a `Map&lt;String, HouseholdObject&gt;&gt;` (yes that&#39;s my name for your entities - pity it&#39;s got the word &#39;object&#39; in it, but never mind). That collects them into groups having the same name:\r\n\r\n    package com.technojeeves.opencsvbeans;\r\n    \r\n    import com.opencsv.bean.CsvToBeanBuilder;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import static java.util.stream.Collectors.*;\r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    \r\n    public class HouseholdParser {\r\n        public static void main(String[] args) {\r\n            try {\r\n                List&lt;HouseholdObject&gt; objects = new HouseholdParser().read(new File(args[0]));\r\n                Map&lt;String, List&lt;HouseholdObject&gt;&gt; objectsGroupedByName = \r\n                objects.stream()\r\n                    .skip(1)\r\n                    .collect(groupingBy(HouseholdObject::getName));\r\n                System.out.println(&quot;The following groups of household objects were found:&quot;);\r\n                objectsGroupedByName.entrySet()\r\n                    .stream()\r\n                    .forEach(e -&gt; {\r\n                        System.out.println(e.getKey());\r\n                        e.getValue()\r\n                            .stream()\r\n                            .forEach(v -&gt; System.out.printf(&quot;\\t%s%n&quot;, v.getColour()));\r\n                    });\r\n    \r\n    \r\n            } catch (Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public List&lt;HouseholdObject&gt; read(File file) {\r\n            try (FileReader reader = new FileReader(file)) {\r\n                return new CsvToBeanBuilder(reader).withType(HouseholdObject.class).build().parse();\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(&quot;Cannot read file: &quot; + file.getName() + e);\r\n            }\r\n        }\r\n    }\r\n\r\nHere&#39;s the bean I made for it:\r\n\r\n    package com.technojeeves.opencsvbeans;\r\n    \r\n    import com.opencsv.bean.CsvBindByPosition;\r\n    import com.opencsv.bean.CsvCustomBindByPosition;\r\n    import com.opencsv.bean.AbstractBeanField;\r\n    import com.opencsv.bean.CsvRecurse;\r\n    \r\n    public class HouseholdObject {\r\n        @CsvBindByPosition(position = 0)\r\n        private String name;\r\n        @CsvBindByPosition(position = 1)\r\n        private String colour;\r\n    \r\n        public HouseholdObject() {\r\n        }\r\n    \r\n        public HouseholdObject(String name, String colour) {\r\n            this.name = name;\r\n            this.colour = colour;\r\n        }\r\n    \r\n        public String getName() {\r\n            return this.name;\r\n        }\r\n    \r\n        public String getColour() {\r\n            return this.colour;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public void setColour(String colour) {\r\n            this.colour = colour;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;%s=%s,%s=%s&quot;, &quot;name&quot;, name, &quot;colour&quot;, colour);\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            HouseholdObject other = (HouseholdObject)o;\r\n            return name.equals(other.name) &amp;&amp; colour.equals(other.colour);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return name.hashCode() * colour.hashCode();\r\n        }\r\n    }\r\n\r\nAnd here&#39;s my output with your source CSV:\r\n\r\n    The following groups of household objects were found:\r\n    Table\r\n    \t Purple\r\n    \t Pink\r\n    Chair\r\n    \t Blue\r\n    \t Green\r\n    \t Yellow\r\n    Door\r\n    \t Yellow\r\n\r\n","title":"How can I use Java to create a list of all the values from csv file that have the same row name","body":"<blockquote>\n<p>@g00se what do you mean by a 'stream grouping operation'</p>\n</blockquote>\n<p>I'll show you. Actually, in your case, since you're using a proper csv API, you can leverage that to create beans first, then do the grouping. Here's what I mean by stream grouping: we create a <code>Map&lt;String, HouseholdObject&gt;&gt;</code> (yes that's my name for your entities - pity it's got the word 'object' in it, but never mind). That collects them into groups having the same name:</p>\n<pre><code>package com.technojeeves.opencsvbeans;\n\nimport com.opencsv.bean.CsvToBeanBuilder;\nimport java.util.List;\nimport java.util.Map;\nimport static java.util.stream.Collectors.*;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.IOException;\n\npublic class HouseholdParser {\n    public static void main(String[] args) {\n        try {\n            List&lt;HouseholdObject&gt; objects = new HouseholdParser().read(new File(args[0]));\n            Map&lt;String, List&lt;HouseholdObject&gt;&gt; objectsGroupedByName = \n            objects.stream()\n                .skip(1)\n                .collect(groupingBy(HouseholdObject::getName));\n            System.out.println(&quot;The following groups of household objects were found:&quot;);\n            objectsGroupedByName.entrySet()\n                .stream()\n                .forEach(e -&gt; {\n                    System.out.println(e.getKey());\n                    e.getValue()\n                        .stream()\n                        .forEach(v -&gt; System.out.printf(&quot;\\t%s%n&quot;, v.getColour()));\n                });\n\n\n        } catch (Throwable t) {\n            t.printStackTrace();\n        }\n    }\n\n    public List&lt;HouseholdObject&gt; read(File file) {\n        try (FileReader reader = new FileReader(file)) {\n            return new CsvToBeanBuilder(reader).withType(HouseholdObject.class).build().parse();\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;Cannot read file: &quot; + file.getName() + e);\n        }\n    }\n}\n</code></pre>\n<p>Here's the bean I made for it:</p>\n<pre><code>package com.technojeeves.opencsvbeans;\n\nimport com.opencsv.bean.CsvBindByPosition;\nimport com.opencsv.bean.CsvCustomBindByPosition;\nimport com.opencsv.bean.AbstractBeanField;\nimport com.opencsv.bean.CsvRecurse;\n\npublic class HouseholdObject {\n    @CsvBindByPosition(position = 0)\n    private String name;\n    @CsvBindByPosition(position = 1)\n    private String colour;\n\n    public HouseholdObject() {\n    }\n\n    public HouseholdObject(String name, String colour) {\n        this.name = name;\n        this.colour = colour;\n    }\n\n    public String getName() {\n        return this.name;\n    }\n\n    public String getColour() {\n        return this.colour;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setColour(String colour) {\n        this.colour = colour;\n    }\n\n    @Override\n    public String toString() {\n        return String.format(&quot;%s=%s,%s=%s&quot;, &quot;name&quot;, name, &quot;colour&quot;, colour);\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        HouseholdObject other = (HouseholdObject)o;\n        return name.equals(other.name) &amp;&amp; colour.equals(other.colour);\n    }\n\n    @Override\n    public int hashCode() {\n        return name.hashCode() * colour.hashCode();\n    }\n}\n</code></pre>\n<p>And here's my output with your source CSV:</p>\n<pre><code>The following groups of household objects were found:\nTable\n     Purple\n     Pink\nChair\n     Blue\n     Green\n     Yellow\nDoor\n     Yellow\n</code></pre>\n"}],"owner":{"account_id":27156002,"reputation":25,"user_id":20694824,"display_name":"Lemonand09"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74694767,"answer_count":2,"score":1,"last_activity_date":1670335386,"creation_date":1670266373,"question_id":74693048,"body_markdown":"[Excel file I&#39;m using](https://i.stack.imgur.com/hr35K.png)\r\n\r\nI want to parse a csv file and extract the name, like &#39;chair&#39; and then a list of each possible colour, so [&#39;Blue&#39;,&#39;Green&#39;,&#39;Yellow&#39;]. How can I do this?\r\n\r\nI have created a class Object, that has a &#39;String name&#39; and a &#39;List&lt;Strig&gt;colours&#39;. \r\n```\r\n CSVReader reader = new CSVReader(new FileReader(new File(url.toURI()).getAbsolutePath()));\r\n        Object&lt;API&gt; listings = new ArrayList&lt;Object&gt;();\r\n\r\n            String [] line;\r\n            List&lt;String&gt; colourList = new ArrayList&lt;&gt;();\r\n           reader.readNext();\r\n            while ((line = reader.readNext()) != null) {\r\n                String name = line[0];\r\n                String colour = line[1];\r\n                colourList.add(operation);\r\n                Object object = new Object(name,colourList);\r\n                listings.add(object);\r\n            }\r\n```\r\n","title":"How can I use Java to create a list of all the values from csv file that have the same row name","body":"<p><a href=\"https://i.stack.imgur.com/hr35K.png\" rel=\"nofollow noreferrer\">Excel file I'm using</a></p>\n<p>I want to parse a csv file and extract the name, like 'chair' and then a list of each possible colour, so ['Blue','Green','Yellow']. How can I do this?</p>\n<p>I have created a class Object, that has a 'String name' and a 'Listcolours'.</p>\n<pre><code> CSVReader reader = new CSVReader(new FileReader(new File(url.toURI()).getAbsolutePath()));\n        Object&lt;API&gt; listings = new ArrayList&lt;Object&gt;();\n\n            String [] line;\n            List&lt;String&gt; colourList = new ArrayList&lt;&gt;();\n           reader.readNext();\n            while ((line = reader.readNext()) != null) {\n                String name = line[0];\n                String colour = line[1];\n                colourList.add(operation);\n                Object object = new Object(name,colourList);\n                listings.add(object);\n            }\n</code></pre>\n"},{"tags":["java","selenium","google-chrome","selenium-webdriver"],"comments":[{"owner":{"account_id":13721490,"reputation":9809,"user_id":9901261,"display_name":"Arundeep Chohan"},"score":0,"creation_date":1599780333,"post_id":63838272,"comment_id":112888122,"body_markdown":"https://stackoverflow.com/questions/34515328/how-to-set-default-download-directory-in-selenium-chrome-capabilities has a similar answer.","body":"<a href=\"https://stackoverflow.com/questions/34515328/how-to-set-default-download-directory-in-selenium-chrome-capabilities\" title=\"how to set default download directory in selenium chrome capabilities\">stackoverflow.com/questions/34515328/&hellip;</a> has a similar answer."},{"owner":{"account_id":9349892,"reputation":190,"user_id":6939940,"accept_rate":77,"display_name":"Ihor Harmatii"},"score":0,"creation_date":1599786920,"post_id":63838272,"comment_id":112889202,"body_markdown":"@arundeep-chohan as you can see my code looks almost the same but it still saves files not in specified directory","body":"@arundeep-chohan as you can see my code looks almost the same but it still saves files not in specified directory"}],"answers":[{"tags":[],"owner":{"account_id":9349892,"reputation":190,"user_id":6939940,"accept_rate":77,"display_name":"Ihor Harmatii"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1599788532,"creation_date":1599788532,"answer_id":63839696,"question_id":63838272,"body_markdown":"I solved the problem, the issue was it is not recommended to use folders like: &quot;C:&quot; or &quot;Desktop&quot; or relative path, that&#39;s why it didn&#39;t work.","title":"Selenium downloads PDF into default folder (Downloads) but not in specified in chromePrefs","body":"<p>I solved the problem, the issue was it is not recommended to use folders like: &quot;C:&quot; or &quot;Desktop&quot; or relative path, that's why it didn't work.</p>\n"},{"tags":[],"owner":{"account_id":18042667,"reputation":1,"user_id":13114382,"display_name":"Tushar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670335168,"creation_date":1670335168,"answer_id":74703778,"question_id":63838272,"body_markdown":"**Try this, it should work :**\r\n\r\n    String desired_path = &quot;D:\\\\user\\\\report&quot;;\r\n    HashMap hm = new HashMap();\r\n    hm.put(&quot;download.default_directory&quot;,desired_path);\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.setExperimentalOption(&quot;prefs&quot;,hm);\r\n    WebDriver driver = new ChromeDriver(options);","title":"Selenium downloads PDF into default folder (Downloads) but not in specified in chromePrefs","body":"<p><strong>Try this, it should work :</strong></p>\n<pre><code>String desired_path = &quot;D:\\\\user\\\\report&quot;;\nHashMap hm = new HashMap();\nhm.put(&quot;download.default_directory&quot;,desired_path);\nChromeOptions options = new ChromeOptions();\noptions.setExperimentalOption(&quot;prefs&quot;,hm);\nWebDriver driver = new ChromeDriver(options);\n</code></pre>\n"}],"owner":{"account_id":9349892,"reputation":190,"user_id":6939940,"accept_rate":77,"display_name":"Ihor Harmatii"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":715,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63839696,"answer_count":2,"score":0,"last_activity_date":1670335168,"creation_date":1599775461,"question_id":63838272,"body_markdown":"Using Selenium Java in my automation framework and trying to download PDF from Chrome, below is my code:\r\n\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;resources/drivers/chromedriver.exe&quot;);\r\n\t\t\t\r\n\t\t\tChromeOptions options = new ChromeOptions();\r\n\t\t\t\r\n\t\t\tHashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;String, Object&gt;();\r\n\t        chromePrefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\n\t        chromePrefs.put(&quot;plugins.always_open_pdf_externally&quot;, true);\r\n\t        chromePrefs.put(&quot;download.default_directory&quot;, &quot;C:&quot;);\r\n\t        options.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\r\n\t        \r\n\t\t\tdriver = new ChromeDriver(options);\r\n\r\nI specified location &quot;C:&quot; (for just testing purpose) but the issue is that it downloads PDFs in Downloads folder.\r\n\r\nAlso is there a way to specify name of file that I&#39;m trying to download?","title":"Selenium downloads PDF into default folder (Downloads) but not in specified in chromePrefs","body":"<p>Using Selenium Java in my automation framework and trying to download PDF from Chrome, below is my code:</p>\n<pre><code>        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;resources/drivers/chromedriver.exe&quot;);\n        \n        ChromeOptions options = new ChromeOptions();\n        \n        HashMap&lt;String, Object&gt; chromePrefs = new HashMap&lt;String, Object&gt;();\n        chromePrefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\n        chromePrefs.put(&quot;plugins.always_open_pdf_externally&quot;, true);\n        chromePrefs.put(&quot;download.default_directory&quot;, &quot;C:&quot;);\n        options.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\n        \n        driver = new ChromeDriver(options);\n</code></pre>\n<p>I specified location &quot;C:&quot; (for just testing purpose) but the issue is that it downloads PDFs in Downloads folder.</p>\n<p>Also is there a way to specify name of file that I'm trying to download?</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":21116996,"reputation":70,"user_id":15523899,"display_name":"p0var"},"score":1,"creation_date":1670336114,"post_id":74703348,"comment_id":131849358,"body_markdown":"Thanks a lot, this is pretty elegant solution) To be honest, my first idea was about `Complain` as a join-table with complex custom logics in all `*ComplainableEntity*Service` components. Thank you very much for detailed explanation!","body":"Thanks a lot, this is pretty elegant solution) To be honest, my first idea was about <code>Complain</code> as a join-table with complex custom logics in all <code>*ComplainableEntity*Service</code> components. Thank you very much for detailed explanation!"}],"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670333403,"creation_date":1670333403,"answer_id":74703348,"question_id":74701861,"body_markdown":"How about this - it looks like what you have tried to a certain extent; the idea is that the `Complaint` is an abstract base entity, so that it can have relations to and from it, but the concrete implementations are questions, answers etc. To have a base table and separate ones per complaint type, use `@Inheritance(strategy = InheritanceType.JOINED)`. And use concrete complaint types that are different from the entities they link to, e.g. `QuestionComplaint` &amp;rarr; `Question`. So:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;complaints&quot;)\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\npublic abstract class Complaint {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n    private User user;\r\n\r\n    @Column\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    private Date created_on;\r\n}\r\n```\r\n\r\nThe user in turn relates to a set of `Complaint` objects, but is not a `Complaint` itself (doesn&#39;t make sense, does it?)\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @OneToMany(mappedBy = &quot;user_id&quot;, orphanRemoval = true, fetch = FetchType.LAZY)\r\n    @ToString.Exclude\r\n    private Set&lt;Complaint&gt; complaints;\r\n}\r\n```\r\n\r\nAnd the concrete `Complaint` instances:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;question_complaints&quot;)\r\n@PrimaryKeyJoinColumn(name = &quot;id&quot;)\r\npublic class QuestionComplaint extends Complaint {\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    private Question question\r\n}\r\n```\r\n\r\nThis entity represents the link from `Complaint` to `Question`. The `Question` entity, which represents a &quot;Question&quot;, no matter if it has complaints attached, may optionally have a relation back to the `QuestionComplaint`:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;questions&quot;)\r\npublic class Question {\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;question&quot;)\r\n    private List&lt;QuestionComplaint&gt; complaints;\r\n}\r\n```\r\n\r\nNow usages I expect would be:\r\n\r\n1. What are the complaints filed by a user? - `User.getComplaints()` will fetch a UNION ALL of the complaints from all known subtypes\r\n2. What are the complaints attachede to a question (answer, etc)? - `question.getComplaints()` knows to get records only from the table `question_complaints`\r\n3. What complaints has user x filed for question y? - `SELECT c FROM QuestionComplaint c WHERE c.user.id = :x AND c.question.id = :y`","title":"How to connect one entity with more than one entity in Spring JPA?","body":"<p>How about this - it looks like what you have tried to a certain extent; the idea is that the <code>Complaint</code> is an abstract base entity, so that it can have relations to and from it, but the concrete implementations are questions, answers etc. To have a base table and separate ones per complaint type, use <code>@Inheritance(strategy = InheritanceType.JOINED)</code>. And use concrete complaint types that are different from the entities they link to, e.g. <code>QuestionComplaint</code> â <code>Question</code>. So:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;complaints&quot;)\n@Inheritance(strategy = InheritanceType.JOINED)\npublic abstract class Complaint {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\n    private User user;\n\n    @Column\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date created_on;\n}\n</code></pre>\n<p>The user in turn relates to a set of <code>Complaint</code> objects, but is not a <code>Complaint</code> itself (doesn't make sense, does it?)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @OneToMany(mappedBy = &quot;user_id&quot;, orphanRemoval = true, fetch = FetchType.LAZY)\n    @ToString.Exclude\n    private Set&lt;Complaint&gt; complaints;\n}\n</code></pre>\n<p>And the concrete <code>Complaint</code> instances:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;question_complaints&quot;)\n@PrimaryKeyJoinColumn(name = &quot;id&quot;)\npublic class QuestionComplaint extends Complaint {\n    @ManyToOne(fetch = FetchType.LAZY)\n    private Question question\n}\n</code></pre>\n<p>This entity represents the link from <code>Complaint</code> to <code>Question</code>. The <code>Question</code> entity, which represents a &quot;Question&quot;, no matter if it has complaints attached, may optionally have a relation back to the <code>QuestionComplaint</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;questions&quot;)\npublic class Question {\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;question&quot;)\n    private List&lt;QuestionComplaint&gt; complaints;\n}\n</code></pre>\n<p>Now usages I expect would be:</p>\n<ol>\n<li>What are the complaints filed by a user? - <code>User.getComplaints()</code> will fetch a UNION ALL of the complaints from all known subtypes</li>\n<li>What are the complaints attachede to a question (answer, etc)? - <code>question.getComplaints()</code> knows to get records only from the table <code>question_complaints</code></li>\n<li>What complaints has user x filed for question y? - <code>SELECT c FROM QuestionComplaint c WHERE c.user.id = :x AND c.question.id = :y</code></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":21116996,"reputation":70,"user_id":15523899,"display_name":"p0var"},"score":0,"creation_date":1670336566,"post_id":74703648,"comment_id":131849540,"body_markdown":"Thanks for explanation about `Generic Types`  runtime determination, pretty useful information for further dev. About the database - that is some kind of university side-project with partly-given db structure, that&#39;s why me and my friends are trying to make it effective and clean. Anyway, thank you!","body":"Thanks for explanation about <code>Generic Types</code>  runtime determination, pretty useful information for further dev. About the database - that is some kind of university side-project with partly-given db structure, that&#39;s why me and my friends are trying to make it effective and clean. Anyway, thank you!"}],"tags":[],"owner":{"account_id":3720263,"reputation":1076,"user_id":3095500,"display_name":"utrucceh"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670334664,"creation_date":1670334664,"answer_id":74703648,"question_id":74701861,"body_markdown":"Fistly, in java `Generic Types` can&#39;t deteminable in `runtime`, so `JPA` can&#39;t determine to fetch from which `table`, so it will `throw Exception` which you send.\r\n\r\nSecodly your database design is wrong, `Complain` table will not connect to `Question` and `Answer`, `Question` and `Answer` need to connect `Complain`. Like:\r\n\r\n    Quesiton -|\r\n              v\r\n              ---&gt; Complain ---&gt; User\r\n              ^\r\n    Answer   -|\r\n\r\nOr you need to add to two fields to `Complain` table like `questionId` and `answerId`.\r\n\r\n\r\n    Q u e s i t o n    A n s w e r \r\n           ^               ^\r\n           |               |\r\n      (questionID)     (answerId)    \r\n           |               |\r\n           +-----------Complain ---&gt; User\r\n\r\nOne field two foreign table not good design specially for JPA.","title":"How to connect one entity with more than one entity in Spring JPA?","body":"<p>Fistly, in java <code>Generic Types</code> can't deteminable in <code>runtime</code>, so <code>JPA</code> can't determine to fetch from which <code>table</code>, so it will <code>throw Exception</code> which you send.</p>\n<p>Secodly your database design is wrong, <code>Complain</code> table will not connect to <code>Question</code> and <code>Answer</code>, <code>Question</code> and <code>Answer</code> need to connect <code>Complain</code>. Like:</p>\n<pre><code>Quesiton -|\n          v\n          ---&gt; Complain ---&gt; User\n          ^\nAnswer   -|\n</code></pre>\n<p>Or you need to add to two fields to <code>Complain</code> table like <code>questionId</code> and <code>answerId</code>.</p>\n<pre><code>Q u e s i t o n    A n s w e r \n       ^               ^\n       |               |\n  (questionID)     (answerId)    \n       |               |\n       +-----------Complain ---&gt; User\n</code></pre>\n<p>One field two foreign table not good design specially for JPA.</p>\n"}],"owner":{"account_id":21116996,"reputation":70,"user_id":15523899,"display_name":"p0var"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1095,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74703348,"answer_count":2,"score":0,"last_activity_date":1670334664,"creation_date":1670326709,"question_id":74701861,"body_markdown":"I have some problems in understanding how to connect one entity with others in one attribute. That is not typical OneToMany relationship, I&#39;m talking about situation when I need to implement complains functionality in my application: `User` can complain about several different entities (`Question`, `Answer`, `Comment` or another `User`), so the `Complain` entity will have schema relations like:\r\n[![schema](https://i.stack.imgur.com/pQNSV.png)](https://i.stack.imgur.com/pQNSV.png)\r\n\r\nwhere User connects as One to many to `user_id` and Many To One to `entity_id` (`1` to `*` and `*` to `1` in image).\r\n\r\nSo, I tried to use parameterized class `Complain` to implement this (`BaseComplain` is empty class):\r\n\r\n`Complain.java`\r\n```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@ToString\r\n@Entity\r\n@Table(name = &quot;complains&quot;)\r\npublic class Complain&lt;T extends BaseComplain&gt; {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n    private User user_id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;entity_id&quot;, nullable = false)\r\n    private T entity_id;\r\n\r\n    @Column\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    private Date created_on;\r\n\r\n}\r\n```\r\n\r\n`User.java`\r\n```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@ToString\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User extends BaseComplain {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @OneToMany(mappedBy = &quot;user_id&quot;, orphanRemoval = true, fetch = FetchType.LAZY)\r\n    @ToString.Exclude\r\n    private Set&lt;Complain&lt;BaseComplain&gt;&gt; author_complains;\r\n\r\n    @OneToMany(mappedBy = &quot;entity_id&quot;, orphanRemoval = true, fetch = FetchType.LAZY)\r\n    @ToString.Exclude\r\n    private Set&lt;Complain&lt;User&gt;&gt; complains;\r\n\r\n    &lt;...other stuff...&gt;\r\n}\r\n```\r\n\r\nAnd `Question.java` (all entities have the same realisation of relationship):\r\n```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@ToString\r\n@Entity\r\n@Table(name = &quot;questions&quot;)\r\npublic class Question extends BaseComplain {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @OneToMany(mappedBy = &quot;entity_id&quot;, orphanRemoval = true, fetch = FetchType.LAZY)\r\n    @ToString.Exclude\r\n    @JsonManagedReference\r\n    private Set&lt;Complain&lt;Question&gt;&gt; complains;\r\n    \r\n    &lt;...other stuff...&gt;\r\n}\r\n```\r\n\r\nBut it caused (formatted):\r\n```\r\norg.hibernate.AnnotationException: \r\nProperty com.*.*.Entities.Complain.entity_id has an unbound type and no explicit target entity.\r\nResolve this Generic usage issue or set an explicit target attribute (eg @OneToMany(target=)\r\nor use an explicit @Type...\r\n```\r\nI can add all stack trace, but there are only typical spring app exceptions (`Bean creation error`, `embedded Tomcat exception`).\r\n\r\n**So the question is - Is there any way to implement this logics using only, like, &quot;basic&quot; features of JPA?**\r\n\r\nProbably, I have some ideas of `@MappedSuperclass` usage, but still need your help.","title":"How to connect one entity with more than one entity in Spring JPA?","body":"<p>I have some problems in understanding how to connect one entity with others in one attribute. That is not typical OneToMany relationship, I'm talking about situation when I need to implement complains functionality in my application: <code>User</code> can complain about several different entities (<code>Question</code>, <code>Answer</code>, <code>Comment</code> or another <code>User</code>), so the <code>Complain</code> entity will have schema relations like:\n<a href=\"https://i.stack.imgur.com/pQNSV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pQNSV.png\" alt=\"schema\" /></a></p>\n<p>where User connects as One to many to <code>user_id</code> and Many To One to <code>entity_id</code> (<code>1</code> to <code>*</code> and <code>*</code> to <code>1</code> in image).</p>\n<p>So, I tried to use parameterized class <code>Complain</code> to implement this (<code>BaseComplain</code> is empty class):</p>\n<p><code>Complain.java</code></p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@ToString\n@Entity\n@Table(name = &quot;complains&quot;)\npublic class Complain&lt;T extends BaseComplain&gt; {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\n    private User user_id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;entity_id&quot;, nullable = false)\n    private T entity_id;\n\n    @Column\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date created_on;\n\n}\n</code></pre>\n<p><code>User.java</code></p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@ToString\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User extends BaseComplain {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @OneToMany(mappedBy = &quot;user_id&quot;, orphanRemoval = true, fetch = FetchType.LAZY)\n    @ToString.Exclude\n    private Set&lt;Complain&lt;BaseComplain&gt;&gt; author_complains;\n\n    @OneToMany(mappedBy = &quot;entity_id&quot;, orphanRemoval = true, fetch = FetchType.LAZY)\n    @ToString.Exclude\n    private Set&lt;Complain&lt;User&gt;&gt; complains;\n\n    &lt;...other stuff...&gt;\n}\n</code></pre>\n<p>And <code>Question.java</code> (all entities have the same realisation of relationship):</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@ToString\n@Entity\n@Table(name = &quot;questions&quot;)\npublic class Question extends BaseComplain {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @OneToMany(mappedBy = &quot;entity_id&quot;, orphanRemoval = true, fetch = FetchType.LAZY)\n    @ToString.Exclude\n    @JsonManagedReference\n    private Set&lt;Complain&lt;Question&gt;&gt; complains;\n    \n    &lt;...other stuff...&gt;\n}\n</code></pre>\n<p>But it caused (formatted):</p>\n<pre><code>org.hibernate.AnnotationException: \nProperty com.*.*.Entities.Complain.entity_id has an unbound type and no explicit target entity.\nResolve this Generic usage issue or set an explicit target attribute (eg @OneToMany(target=)\nor use an explicit @Type...\n</code></pre>\n<p>I can add all stack trace, but there are only typical spring app exceptions (<code>Bean creation error</code>, <code>embedded Tomcat exception</code>).</p>\n<p><strong>So the question is - Is there any way to implement this logics using only, like, &quot;basic&quot; features of JPA?</strong></p>\n<p>Probably, I have some ideas of <code>@MappedSuperclass</code> usage, but still need your help.</p>\n"},{"tags":["java","maven","apache-commons-csv"],"comments":[{"owner":{"account_id":5850578,"reputation":1170,"user_id":4609353,"display_name":"Oleg Ushakov"},"score":0,"creation_date":1670334364,"post_id":74703513,"comment_id":131848659,"body_markdown":"it is obvious that the problem is that your code does not have this library, try clean a cache and rebuild your project","body":"it is obvious that the problem is that your code does not have this library, try clean a cache and rebuild your project"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1670334438,"post_id":74703513,"comment_id":131848686,"body_markdown":"Please post the full exception stacktrace and provide a [mre].","body":"Please post the full exception stacktrace and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670334458,"answer_count":0,"score":0,"last_activity_date":1670334428,"creation_date":1670334089,"question_id":74703513,"body_markdown":"I am building an app with Spring Boot that reads a CSV file with Apache Commons CSV.\r\n\r\nWhen I try to run the app I receive the error:\r\n&gt; java.lang.NoClassDefFoundError: org/apache/commons/csv/CSVFormat\r\n\r\n... I have the next dependency in the pom.xml:\r\n\t\t\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.9.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"java.lang.NoClassDefFoundError: org/apache/commons/csv/CSVFormat","body":"<p>I am building an app with Spring Boot that reads a CSV file with Apache Commons CSV.</p>\n<p>When I try to run the app I receive the error:</p>\n<blockquote>\n<p>java.lang.NoClassDefFoundError: org/apache/commons/csv/CSVFormat</p>\n</blockquote>\n<p>... I have the next dependency in the pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\n    &lt;version&gt;1.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","redis"],"answers":[{"tags":[],"owner":{"account_id":8574924,"reputation":585,"user_id":6424383,"display_name":"gokhanbirincii"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670334012,"creation_date":1670334012,"answer_id":74703495,"question_id":71922017,"body_markdown":"Hello I know this is old question but you can simply refactor your redisTemplate\r\n\r\nI dont know what is the equivalent bean definition on spring but I&#39;m leaving for spring boot.\r\n\r\n    @Bean\r\n\tpublic RedisTemplate&lt;String, List&lt;UserAction&gt;&gt; redisTemplate() {\r\n\r\n\t\tfinal var redisTemplate = new RedisTemplate&lt;String, List&lt;UserAction&gt;&gt;();\r\n\t\tredisTemplate.setConnectionFactory(redisConnectionFactory());\r\n\r\n\t\tfinal var jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer&lt;&gt;(Object.class);\r\n\r\n\t\tfinal var objectMapper = new ObjectMapper();\r\n\t\tobjectMapper.setVisibility(PropertyAccessor.ALL,  JsonAutoDetect.Visibility.ANY);\r\n\t\tjackson2JsonRedisSerializer.setObjectMapper(objectMapper);\r\n\r\n\t\tredisTemplate.setKeySerializer(new StringRedisSerializer());\r\n\t\tredisTemplate.setValueSerializer(jackson2JsonRedisSerializer);\r\n\r\n\t\tredisTemplate.setHashKeySerializer(new StringRedisSerializer());\r\n\t\tredisTemplate.setHashValueSerializer(jackson2JsonRedisSerializer);\r\n\t\tredisTemplate.afterPropertiesSet();\r\n\t\treturn redisTemplate;\r\n\t}\r\n    \r\n\r\nThen you can autowire related bean like this.\r\n\r\n`RedisTemplate&lt;String, List&lt;UserAction&gt;&gt; redisTemplate` \r\n\r\nFor usage : \r\n\r\n`redisTemplate.opsForValue().get(&quot;key&quot;);` \r\n\r\nthis must be work.\r\n\r\n","title":"Spring Redis - get and deserialize list of objects stored as a single string in redis","body":"<p>Hello I know this is old question but you can simply refactor your redisTemplate</p>\n<p>I dont know what is the equivalent bean definition on spring but I'm leaving for spring boot.</p>\n<pre><code>@Bean\npublic RedisTemplate&lt;String, List&lt;UserAction&gt;&gt; redisTemplate() {\n\n    final var redisTemplate = new RedisTemplate&lt;String, List&lt;UserAction&gt;&gt;();\n    redisTemplate.setConnectionFactory(redisConnectionFactory());\n\n    final var jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer&lt;&gt;(Object.class);\n\n    final var objectMapper = new ObjectMapper();\n    objectMapper.setVisibility(PropertyAccessor.ALL,  JsonAutoDetect.Visibility.ANY);\n    jackson2JsonRedisSerializer.setObjectMapper(objectMapper);\n\n    redisTemplate.setKeySerializer(new StringRedisSerializer());\n    redisTemplate.setValueSerializer(jackson2JsonRedisSerializer);\n\n    redisTemplate.setHashKeySerializer(new StringRedisSerializer());\n    redisTemplate.setHashValueSerializer(jackson2JsonRedisSerializer);\n    redisTemplate.afterPropertiesSet();\n    return redisTemplate;\n}\n</code></pre>\n<p>Then you can autowire related bean like this.</p>\n<p><code>RedisTemplate&lt;String, List&lt;UserAction&gt;&gt; redisTemplate</code></p>\n<p>For usage :</p>\n<p><code>redisTemplate.opsForValue().get(&quot;key&quot;);</code></p>\n<p>this must be work.</p>\n"}],"owner":{"account_id":221150,"reputation":47,"user_id":7000476,"display_name":"kjoxiphucy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1751,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670334012,"creation_date":1650357645,"question_id":71922017,"body_markdown":"For example, I have a serialized value like below stored as string in Redis, which represents a list of UserAction objects:\r\n\r\n    [&quot;java.util.ArrayList&quot;,[{&quot;@class&quot;:&quot;com.domain.UserAction&quot;,&quot;id&quot;:1,&quot;name&quot;:&quot;Login&quot;},{&quot;@class&quot;:&quot;com.domain.UserAction&quot;,&quot;id&quot;:2,&quot;name&quot;:&quot;Logout&quot;}]]\r\n\r\nwhen I tried to access this via its key (e.g.`UserActionsCache`) via redisTemplate:\r\n\r\n    RedisTemplate&lt;String, UserAction&gt; redisTemplate;\r\n    redisTemplate.opsForValue().get(key);\r\n\r\nit throws an error like:\r\n\r\n    org.springframework.data.redis.serializer.SerializationException: Could not read JSON:\r\n    Could not resolve type id `com.domain.UserAction` as a subtype of `java.lang.Object`: no such class found\r\n\r\ni tried changing the `redisTemplate` to below, but it has the same issue:\r\n\r\n    RedisTemplate&lt;String, List&lt;UserAction&gt;&gt; redisTemplate;\r\n    RedisTemplate&lt;String, ArrayList&lt;UserAction&gt;&gt; redisTemplate;\r\n    RedisTemplate&lt;String, Object&gt; redisTemplate;\r\n\r\nHow do you properly access the value and deserialize it to a list of objects?\r\n\r\nP.S. This is part of my redisTemplate config:\r\n```\r\n&lt;bean id=&quot;redisTemplate&quot; class=&quot;org.springframework.data.redis.core.RedisTemplate&quot;\r\n          p:connection-factory-ref=&quot;jedisConnFactory&quot;\r\n          p:keySerializer-ref=&quot;stringRedisSerializer&quot;\r\n          p:valueSerializer-ref=&quot;genericJackson2JsonRedisSerializer&quot;\r\n          p:hashKeySerializer-ref=&quot;stringRedisSerializer&quot;\r\n          p:hashValueSerializer-ref=&quot;genericJackson2JsonRedisSerializer&quot;\r\n    /&gt;\r\n```","title":"Spring Redis - get and deserialize list of objects stored as a single string in redis","body":"<p>For example, I have a serialized value like below stored as string in Redis, which represents a list of UserAction objects:</p>\n<pre><code>[&quot;java.util.ArrayList&quot;,[{&quot;@class&quot;:&quot;com.domain.UserAction&quot;,&quot;id&quot;:1,&quot;name&quot;:&quot;Login&quot;},{&quot;@class&quot;:&quot;com.domain.UserAction&quot;,&quot;id&quot;:2,&quot;name&quot;:&quot;Logout&quot;}]]\n</code></pre>\n<p>when I tried to access this via its key (e.g.<code>UserActionsCache</code>) via redisTemplate:</p>\n<pre><code>RedisTemplate&lt;String, UserAction&gt; redisTemplate;\nredisTemplate.opsForValue().get(key);\n</code></pre>\n<p>it throws an error like:</p>\n<pre><code>org.springframework.data.redis.serializer.SerializationException: Could not read JSON:\nCould not resolve type id `com.domain.UserAction` as a subtype of `java.lang.Object`: no such class found\n</code></pre>\n<p>i tried changing the <code>redisTemplate</code> to below, but it has the same issue:</p>\n<pre><code>RedisTemplate&lt;String, List&lt;UserAction&gt;&gt; redisTemplate;\nRedisTemplate&lt;String, ArrayList&lt;UserAction&gt;&gt; redisTemplate;\nRedisTemplate&lt;String, Object&gt; redisTemplate;\n</code></pre>\n<p>How do you properly access the value and deserialize it to a list of objects?</p>\n<p>P.S. This is part of my redisTemplate config:</p>\n<pre><code>&lt;bean id=&quot;redisTemplate&quot; class=&quot;org.springframework.data.redis.core.RedisTemplate&quot;\n          p:connection-factory-ref=&quot;jedisConnFactory&quot;\n          p:keySerializer-ref=&quot;stringRedisSerializer&quot;\n          p:valueSerializer-ref=&quot;genericJackson2JsonRedisSerializer&quot;\n          p:hashKeySerializer-ref=&quot;stringRedisSerializer&quot;\n          p:hashValueSerializer-ref=&quot;genericJackson2JsonRedisSerializer&quot;\n    /&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","junit"],"comments":[{"owner":{"account_id":27163792,"reputation":1,"user_id":20701592,"display_name":"mango10"},"score":0,"creation_date":1670505447,"post_id":74701767,"comment_id":131893672,"body_markdown":"I haven&#39;t found a solution yet but if anyone finds my question this might be helpful https://stackoverflow.com/questions/62340841/unable-to-integration-testing-gradle-multi-module-spring-boot-application","body":"I haven&#39;t found a solution yet but if anyone finds my question this might be helpful <a href=\"https://stackoverflow.com/questions/62340841/unable-to-integration-testing-gradle-multi-module-spring-boot-application\" title=\"unable to integration testing gradle multi module spring boot application\">stackoverflow.com/questions/62340841/&hellip;</a>"},{"owner":{"account_id":27163792,"reputation":1,"user_id":20701592,"display_name":"mango10"},"score":0,"creation_date":1670589569,"post_id":74701767,"comment_id":131914569,"body_markdown":"I&#39;ve found another possible solutions but its probably not cleanest because theres more code to maintain, but this makes it possible to modularize your tests. But it doesnt&#39;t seem possible to set a contextconfiguration for the test in other modules ( In my example Project B)","body":"I&#39;ve found another possible solutions but its probably not cleanest because theres more code to maintain, but this makes it possible to modularize your tests. But it doesnt&#39;t seem possible to set a contextconfiguration for the test in other modules ( In my example Project B)"},{"owner":{"account_id":27163792,"reputation":1,"user_id":20701592,"display_name":"mango10"},"score":0,"creation_date":1670589624,"post_id":74701767,"comment_id":131914591,"body_markdown":"For now I&#39;m going to keep my tests in Project A, and If I build my Project without Project B Ill just ignore the test for the Beans in Project B via Profiles","body":"For now I&#39;m going to keep my tests in Project A, and If I build my Project without Project B Ill just ignore the test for the Beans in Project B via Profiles"}],"owner":{"account_id":27163792,"reputation":1,"user_id":20701592,"display_name":"mango10"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670333513,"creation_date":1670326272,"question_id":74701767,"body_markdown":"I canât seem to figure this out. Project A (which is the core Project where the @SpringBootApplication resides) has a dependency in its pom to project B. Project A imports the configuration of Project B to register the beans  of project B with the @Import Annotation. Project B contains the Configuration that gets imported by A and the Beans that are referenced in that Configuration, thats it. A lot of Unit Tests that I write just @Autowired a Bean that I wanna test and check the behaviour. So there exists an abstract class that every unit test inherits.\r\n\r\n\r\n```\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@ContextConfiguration(classes = { FooConfig.class, FooTestConfig.class})\r\npublic abstract TestContext {}\r\n```\r\n\r\n```\r\n@Configuration\r\n@Import(BarConfig.class)\r\npublic class FooConfig {\r\n\r\n}\r\n```\r\n\r\n```\r\n@Configuration\r\npublic class BarConfig {\r\n\r\n    public BarBean BarBean () {}\r\n}\r\n```\r\n\r\nNow I could just write the test to the Beans of Project B in Project A (that works!) But I want the tests for the Beans in Project B to reside in Project B and not A. When I add a dependency to Project A (&lt;type&gt;test-jar&lt;/type&gt;)in the pom.xml of B, I could in theory just inherit the abstract &quot;TestContext&quot; that would work but maven tells me: \r\n\r\n`Annotation processing is not supported for module cycles.`\r\n\r\nAnd rightfully so because Project A depends on B and vice versa. If I write the Unit Test to the Beans in Project B then it works but I want the test to the Beans to reside in Project B.\r\n\r\nThis is what I want:\r\n```\r\nProject A\r\nâââ _main/java/packageName\r\nâ   âââ FooConfig.java\r\nâââ test/java/packageName\r\nâ   âââ FooTestConfig.java\r\nâ   âââ TestContext.java\r\n\r\nProject B\r\nâââ main/java/packageName\r\nâ   âââ BarBean.java\r\nâ   âââ BarConfig.java\r\nâââ test/java/packageName\r\nâ   âââ BarBeanTest.java\r\n```\r\n\r\nThis is not what I want but this works:\r\n```\r\nProject A\r\nâââ _main/java/packageName\r\nâ   âââ FooConfig.java\r\nâââ test/java/packageName\r\nâ   âââ FooTestConfig.java\r\nâ   âââ TestContext.java\r\nâ   âââ BarBeanTest.java\r\n\r\nProject B\r\nâââ main/java/packageName\r\nâ   âââ BarConfig.java\r\nâ   âââ BarBean.java\r\nâââ test/java/packageName\r\nâ   \r\n```\r\n\r\nThe test would look sth like this, if there wasn&#39;t a circular dependency:\r\n\r\n```\r\npublic class BarBeanTest extends TestContext {\r\n\r\n   @Autowired\r\n   BarBean barBean;\r\n}\r\n```\r\nI know that one solution would be to create a third Project C to resolve the cyclic dependency but I haven&#39;t figured out yet how to provide the TestContext of Project A to other projects.","title":"spring reuse test context and avoiding circular dependencies","body":"<p>I canât seem to figure this out. Project A (which is the core Project where the @SpringBootApplication resides) has a dependency in its pom to project B. Project A imports the configuration of Project B to register the beans  of project B with the @Import Annotation. Project B contains the Configuration that gets imported by A and the Beans that are referenced in that Configuration, thats it. A lot of Unit Tests that I write just @Autowired a Bean that I wanna test and check the behaviour. So there exists an abstract class that every unit test inherits.</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = { FooConfig.class, FooTestConfig.class})\npublic abstract TestContext {}\n</code></pre>\n<pre><code>@Configuration\n@Import(BarConfig.class)\npublic class FooConfig {\n\n}\n</code></pre>\n<pre><code>@Configuration\npublic class BarConfig {\n\n    public BarBean BarBean () {}\n}\n</code></pre>\n<p>Now I could just write the test to the Beans of Project B in Project A (that works!) But I want the tests for the Beans in Project B to reside in Project B and not A. When I add a dependency to Project A (test-jar)in the pom.xml of B, I could in theory just inherit the abstract &quot;TestContext&quot; that would work but maven tells me:</p>\n<p><code>Annotation processing is not supported for module cycles.</code></p>\n<p>And rightfully so because Project A depends on B and vice versa. If I write the Unit Test to the Beans in Project B then it works but I want the test to the Beans to reside in Project B.</p>\n<p>This is what I want:</p>\n<pre><code>Project A\nâââ _main/java/packageName\nâ   âââ FooConfig.java\nâââ test/java/packageName\nâ   âââ FooTestConfig.java\nâ   âââ TestContext.java\n\nProject B\nâââ main/java/packageName\nâ   âââ BarBean.java\nâ   âââ BarConfig.java\nâââ test/java/packageName\nâ   âââ BarBeanTest.java\n</code></pre>\n<p>This is not what I want but this works:</p>\n<pre><code>Project A\nâââ _main/java/packageName\nâ   âââ FooConfig.java\nâââ test/java/packageName\nâ   âââ FooTestConfig.java\nâ   âââ TestContext.java\nâ   âââ BarBeanTest.java\n\nProject B\nâââ main/java/packageName\nâ   âââ BarConfig.java\nâ   âââ BarBean.java\nâââ test/java/packageName\nâ   \n</code></pre>\n<p>The test would look sth like this, if there wasn't a circular dependency:</p>\n<pre><code>public class BarBeanTest extends TestContext {\n\n   @Autowired\n   BarBean barBean;\n}\n</code></pre>\n<p>I know that one solution would be to create a third Project C to resolve the cyclic dependency but I haven't figured out yet how to provide the TestContext of Project A to other projects.</p>\n"},{"tags":["java","maven","github-actions"],"comments":[{"owner":{"account_id":20683611,"reputation":1187,"user_id":15186569,"display_name":"ThrowsError"},"score":1,"creation_date":1670332698,"post_id":74703159,"comment_id":131847998,"body_markdown":"You want to run your GitHub Action on which os?","body":"You want to run your GitHub Action on which os?"},{"owner":{"account_id":24111781,"reputation":251,"user_id":18082282,"display_name":"Rasbypy"},"score":0,"creation_date":1670332771,"post_id":74703159,"comment_id":131848039,"body_markdown":"Thank you for your help! I want to test it on macos, ubuntu and windows.","body":"Thank you for your help! I want to test it on macos, ubuntu and windows."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1670366768,"post_id":74703159,"comment_id":131859586,"body_markdown":"Why would you like to change the version inside the pom file... Can you explain in detail why you like to do that? And what the purpose of that is?","body":"Why would you like to change the version inside the pom file... Can you explain in detail why you like to do that? And what the purpose of that is?"}],"answers":[{"tags":[],"owner":{"account_id":9896773,"reputation":1755,"user_id":7328018,"display_name":"Andrii Bodnar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670333509,"creation_date":1670333165,"answer_id":74703290,"question_id":74703159,"body_markdown":"You can use the [Find and Replace](https://github.com/marketplace/actions/find-and-replace) GH Action to find and replace the version in your `pom.xml`:\r\n\r\n```yaml\r\nname: GitHub Action\r\n\r\non:\r\n  push:\r\n    branches: [ main ]\r\n\r\njobs:\r\n  build:\r\n    strategy:\r\n      matrix:\r\n        java: [ &#39;8&#39;, &#39;11&#39;, &#39;17&#39; ]\r\n        os: [ubuntu-latest, macos-latest, windows-latest]\r\n\r\n    runs-on: ${{ matrix.os }}\r\n\r\n    name: Java ${{ matrix.Java }} sample\r\n    steps:\r\n      - uses: actions/checkout@v3\r\n\r\n      - name: Setup java\r\n        uses: actions/setup-java@v3\r\n        with:\r\n          distribution: &#39;temurin&#39;\r\n          java-version: ${{ matrix.java }}\r\n\r\n      - name: Find and Replace\r\n        uses: jacobtomlinson/gha-find-replace@v2\r\n        with:\r\n          find: &quot;JAVAVERSION&quot;\r\n          replace: ${{ matrix.java }}\r\n          regex: false\r\n          include: &#39;pom.xml&#39;\r\n\r\n      # the rest of needed steps\r\n\r\n```\r\n\r\nThis WF will run a `matrix` with different versions of Java and replace the `JAVAVERSION` in the `pom.xml` file with the specific version.\r\n\r\nFor this example, I also used the [Setup Java](https://github.com/actions/setup-java) GH Action.","title":"GitHub Action : How to replace in string in file","body":"<p>You can use the <a href=\"https://github.com/marketplace/actions/find-and-replace\" rel=\"nofollow noreferrer\">Find and Replace</a> GH Action to find and replace the version in your <code>pom.xml</code>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: GitHub Action\n\non:\n  push:\n    branches: [ main ]\n\njobs:\n  build:\n    strategy:\n      matrix:\n        java: [ '8', '11', '17' ]\n        os: [ubuntu-latest, macos-latest, windows-latest]\n\n    runs-on: ${{ matrix.os }}\n\n    name: Java ${{ matrix.Java }} sample\n    steps:\n      - uses: actions/checkout@v3\n\n      - name: Setup java\n        uses: actions/setup-java@v3\n        with:\n          distribution: 'temurin'\n          java-version: ${{ matrix.java }}\n\n      - name: Find and Replace\n        uses: jacobtomlinson/gha-find-replace@v2\n        with:\n          find: &quot;JAVAVERSION&quot;\n          replace: ${{ matrix.java }}\n          regex: false\n          include: 'pom.xml'\n\n      # the rest of needed steps\n\n</code></pre>\n<p>This WF will run a <code>matrix</code> with different versions of Java and replace the <code>JAVAVERSION</code> in the <code>pom.xml</code> file with the specific version.</p>\n<p>For this example, I also used the <a href=\"https://github.com/actions/setup-java\" rel=\"nofollow noreferrer\">Setup Java</a> GH Action.</p>\n"},{"tags":[],"owner":{"account_id":20683611,"reputation":1187,"user_id":15186569,"display_name":"ThrowsError"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670333241,"creation_date":1670333241,"answer_id":74703306,"question_id":74703159,"body_markdown":"I found this GitHub Action: [MathieuSoysal/replace-string-in-file](https://github.com/marketplace/actions/simple-replace-string-in-file)\r\n\r\nMaybe it corresponds to your issue, it works on Macos-latest, Ubunut-latest and Windows-latest.\r\n\r\n## Example of usage for your issue\r\n\r\n```yaml\r\nname: Test your GitHub Actions\r\n\r\non: [push]\r\n\r\njobs:\r\n\r\n  test:\r\n    continue-on-error: true\r\n    strategy:\r\n      matrix:\r\n        java: [8, 11, 16, 17, 18, 19]\r\n        os: [ubuntu-latest, windows-latest, macos-latest]\r\n    runs-on: ${{ matrix.os }}\r\n\r\n    name: Test Java version: ${{ matrix.java }} - os: ${{ matrix.os }}\r\n    steps:\r\n      - uses: actions/checkout@v3\r\n\r\n      - name: Replace string in file\r\n        uses: MathieuSoysal/replace-string-in-file@v1.0.0\r\n        with:\r\n          file: pom.xml\r\n          old-string: JAVAVERSION\r\n          new-string: ${{ matrix.java }}\r\n```","title":"GitHub Action : How to replace in string in file","body":"<p>I found this GitHub Action: <a href=\"https://github.com/marketplace/actions/simple-replace-string-in-file\" rel=\"nofollow noreferrer\">MathieuSoysal/replace-string-in-file</a></p>\n<p>Maybe it corresponds to your issue, it works on Macos-latest, Ubunut-latest and Windows-latest.</p>\n<h2>Example of usage for your issue</h2>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: Test your GitHub Actions\n\non: [push]\n\njobs:\n\n  test:\n    continue-on-error: true\n    strategy:\n      matrix:\n        java: [8, 11, 16, 17, 18, 19]\n        os: [ubuntu-latest, windows-latest, macos-latest]\n    runs-on: ${{ matrix.os }}\n\n    name: Test Java version: ${{ matrix.java }} - os: ${{ matrix.os }}\n    steps:\n      - uses: actions/checkout@v3\n\n      - name: Replace string in file\n        uses: MathieuSoysal/replace-string-in-file@v1.0.0\n        with:\n          file: pom.xml\n          old-string: JAVAVERSION\n          new-string: ${{ matrix.java }}\n</code></pre>\n"}],"owner":{"account_id":24111781,"reputation":251,"user_id":18082282,"display_name":"Rasbypy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74703306,"answer_count":2,"score":0,"last_activity_date":1670333509,"creation_date":1670332579,"question_id":74703159,"body_markdown":"## Introduction\r\n\r\nI&#39;m currently working on a GitHub Action and I want to check if this work for many version of Java.\r\n\r\nFor this I want to update for each test the *pom.xml* file and change the java inside this.\r\n\r\n### pom.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;io.github.pseudo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;template&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\r\n    &lt;name&gt;template&lt;/name&gt;\r\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;java.version&gt;JAVAVERSION&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n## Question\r\n\r\nDoes someone know how we can replace string in file for each test ?\r\n","title":"GitHub Action : How to replace in string in file","body":"<h2>Introduction</h2>\n<p>I'm currently working on a GitHub Action and I want to check if this work for many version of Java.</p>\n<p>For this I want to update for each test the <em>pom.xml</em> file and change the java inside this.</p>\n<h3>pom.xml</h3>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;io.github.pseudo&lt;/groupId&gt;\n    &lt;artifactId&gt;template&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n\n    &lt;name&gt;template&lt;/name&gt;\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;JAVAVERSION&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<h2>Question</h2>\n<p>Does someone know how we can replace string in file for each test ?</p>\n"},{"tags":["java","excel","charts","ms-word","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1670334927,"post_id":74703330,"comment_id":131848893,"body_markdown":"[Apache POI 3.17 was released over 5 years ago](https://poi.apache.org/devel/history/changes-3x.html#3.17), what happens when you upgrade to something at least from this decade?","body":"<a href=\"https://poi.apache.org/devel/history/changes-3x.html#3.17\" rel=\"nofollow noreferrer\">Apache POI 3.17 was released over 5 years ago</a>, what happens when you upgrade to something at least from this decade?"},{"owner":{"account_id":6911888,"reputation":161,"user_id":5307407,"accept_rate":70,"display_name":"Nitin Rathod"},"score":0,"creation_date":1670336472,"post_id":74703330,"comment_id":131849505,"body_markdown":"@XtremeBaumer - I have update word document as well at the end","body":"@XtremeBaumer - I have update word document as well at the end"},{"owner":{"account_id":6911888,"reputation":161,"user_id":5307407,"accept_rate":70,"display_name":"Nitin Rathod"},"score":0,"creation_date":1670336496,"post_id":74703330,"comment_id":131849522,"body_markdown":"@Gagravarr - I can&#39;t I don&#39;t have any choice","body":"@Gagravarr - I can&#39;t I don&#39;t have any choice"}],"owner":{"account_id":6911888,"reputation":161,"user_id":5307407,"accept_rate":70,"display_name":"Nitin Rathod"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670333340,"creation_date":1670333340,"question_id":74703330,"body_markdown":"I want to update charts in word document using Apache POI-3.17 in Java.\r\nI am able to update underlying excel sheet related to chart using below code.\r\nBut when I open the word document charts are not getting reflected as per updated values\r\nWhen I click on chart and do &quot;Edit Data&quot; at that time chart is reflected.\r\nCode is as below \r\n\r\n\r\n\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n\r\n    import org.apache.commons.lang3.StringUtils;\r\n    import org.apache.poi.POIXMLDocumentPart;\r\n    import org.apache.poi.POIXMLDocumentPart.RelationPart; \r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    import org.apache.poi.xwpf.converter.pdf.PdfConverter;\r\n    import org.apache.poi.xwpf.converter.pdf.PdfOptions;\r\n    import org.apache.poi.xwpf.usermodel.XWPFDocument;\r\n    import org.apache.poi.xwpf.usermodel.XWPFParagraph;\r\n\r\n\r\n\r\n\r\n    public class SherlockApp {\r\n\r\n\t\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString fileName = &quot;D:\\\\Circular Economy Report Template.docx&quot;;\r\n\r\n\t\ttry (XWPFDocument doc = new XWPFDocument(Files.newInputStream(Paths.get(fileName)))) {\r\n\r\n\t\t\t// output the same as 8.1\r\n\t\t\tList&lt;XWPFParagraph&gt; list = doc.getParagraphs();\r\n\t\t\tfor (XWPFParagraph paragraph : list) {\r\n\t\t\t\t// System.out.println(paragraph.getText());\r\n\t\t\t}\r\n\r\n\t\t\tfor (POIXMLDocumentPart part : doc.getRelations()) {\r\n\t\t\t\tif (!StringUtils.equalsIgnoreCase(part.getPackagePart().getContentTypeDetails().getSubType(),\r\n\t\t\t\t\t\t&quot;vnd.openxmlformats-officedocument.drawingml.chart+xml&quot;)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tint i=1;\r\n\t\t\t\t\r\n\t\t\t\tfor(RelationPart p : part.getRelationParts()) { \r\n\t\t\t\t\tSystem.out.println(&quot;Test -&gt; &quot;+p.getDocumentPart());\r\n\t\t\t\t\t\r\n\t\t\t\t\tInputStream str = p.getDocumentPart().getPackagePart().getInputStream();\r\n\t\t\t\t\t\r\n\t\t\t\t\tXSSFWorkbook book = new XSSFWorkbook(str);\r\n\t\t\t\t\t\r\n\t\t\t\t\tXSSFSheet sheet = book.getSheetAt(0);\r\n\t\t\t\t\t\r\n\t\t\t\t\tIterator&lt;Row&gt; itr = sheet.iterator();\r\n\r\n\t\t\t\t\twhile (itr.hasNext()) {\r\n\t\t\t\t\t\tRow row = itr.next();\r\n\t\t\t\t\t\tIterator&lt;Cell&gt; cellIterator = row.cellIterator(); // iterating over each column\r\n\t\t\t\t\t\twhile (cellIterator.hasNext()) {\r\n\t\t\t\t\t\t\tCell cell = cellIterator.next();\r\n\t\t\t\t\t\t\tswitch (cell.getCellType()) {\r\n\t\t\t\t\t\t\tcase Cell.CELL_TYPE_STRING: // field that represents string cell type\r\n\t\t\t\t\t\t\t\tSystem.out.print(cell.getStringCellValue() + &quot;\\t\\t\\t&quot;);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase Cell.CELL_TYPE_NUMERIC: // field that represents number cell type\r\n\t\t\t\t\t\t\t\tSystem.out.print(cell.getNumericCellValue() + &quot;\\t\\t\\t&quot;);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tCell cell = null;\r\n\t\t\t\t\t\r\n\t\t\t\t\t//update the details\r\n\t\t\t\t\tcell = sheet.getRow(1).getCell(2);\r\n\t\t\t\t\tcell.setCellValue(0.1);\r\n\t\t\t\t\t\r\n\t\t\t\t\tcell = sheet.getRow(1).getCell(1);\r\n\t\t\t\t\tcell.setCellValue(0.9);\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println(&quot;Cell Value -&gt; &quot;+cell.getNumericCellValue());\r\n\t\t\t\t\t\r\n\t\t\t\t\tstr.close();\r\n\t\t\t\t\t\r\n\t\t\t\t\tOutputStream oStr = p.getDocumentPart().getPackagePart().getOutputStream();\r\n\t\t\t\t\tbook.write(oStr);\r\n\t\t\t\t\tbook.close();\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t//Update word document\r\n\t\t\t\t\ttry (FileOutputStream out = new FileOutputStream(fileName)) {\r\n\t\t\t\t\t\tdoc.write(out);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\r\n\r\n\t}\r\n    }\r\n","title":"Updated excel chart in word document not getting reflected - apache poi","body":"<p>I want to update charts in word document using Apache POI-3.17 in Java.\nI am able to update underlying excel sheet related to chart using below code.\nBut when I open the word document charts are not getting reflected as per updated values\nWhen I click on chart and do &quot;Edit Data&quot; at that time chart is reflected.\nCode is as below</p>\n<pre><code>import java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.Iterator;\nimport java.util.List;\n\nimport org.apache.commons.lang3.StringUtils;\nimport org.apache.poi.POIXMLDocumentPart;\nimport org.apache.poi.POIXMLDocumentPart.RelationPart; \nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.xwpf.converter.pdf.PdfConverter;\nimport org.apache.poi.xwpf.converter.pdf.PdfOptions;\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\nimport org.apache.poi.xwpf.usermodel.XWPFParagraph;\n\n\n\n\npublic class SherlockApp {\n\n\n\npublic static void main(String[] args) {\n\n    String fileName = &quot;D:\\\\Circular Economy Report Template.docx&quot;;\n\n    try (XWPFDocument doc = new XWPFDocument(Files.newInputStream(Paths.get(fileName)))) {\n\n        // output the same as 8.1\n        List&lt;XWPFParagraph&gt; list = doc.getParagraphs();\n        for (XWPFParagraph paragraph : list) {\n            // System.out.println(paragraph.getText());\n        }\n\n        for (POIXMLDocumentPart part : doc.getRelations()) {\n            if (!StringUtils.equalsIgnoreCase(part.getPackagePart().getContentTypeDetails().getSubType(),\n                    &quot;vnd.openxmlformats-officedocument.drawingml.chart+xml&quot;)) {\n                continue;\n            }\n            int i=1;\n            \n            for(RelationPart p : part.getRelationParts()) { \n                System.out.println(&quot;Test -&gt; &quot;+p.getDocumentPart());\n                \n                InputStream str = p.getDocumentPart().getPackagePart().getInputStream();\n                \n                XSSFWorkbook book = new XSSFWorkbook(str);\n                \n                XSSFSheet sheet = book.getSheetAt(0);\n                \n                Iterator&lt;Row&gt; itr = sheet.iterator();\n\n                while (itr.hasNext()) {\n                    Row row = itr.next();\n                    Iterator&lt;Cell&gt; cellIterator = row.cellIterator(); // iterating over each column\n                    while (cellIterator.hasNext()) {\n                        Cell cell = cellIterator.next();\n                        switch (cell.getCellType()) {\n                        case Cell.CELL_TYPE_STRING: // field that represents string cell type\n                            System.out.print(cell.getStringCellValue() + &quot;\\t\\t\\t&quot;);\n                            break;\n                        case Cell.CELL_TYPE_NUMERIC: // field that represents number cell type\n                            System.out.print(cell.getNumericCellValue() + &quot;\\t\\t\\t&quot;);\n                            break;\n                        default:\n                        }\n                    }\n                    System.out.println(&quot;&quot;);\n                }\n                \n                Cell cell = null;\n                \n                //update the details\n                cell = sheet.getRow(1).getCell(2);\n                cell.setCellValue(0.1);\n                \n                cell = sheet.getRow(1).getCell(1);\n                cell.setCellValue(0.9);\n                \n                System.out.println(&quot;Cell Value -&gt; &quot;+cell.getNumericCellValue());\n                \n                str.close();\n                \n                OutputStream oStr = p.getDocumentPart().getPackagePart().getOutputStream();\n                book.write(oStr);\n                book.close();\n                \n                \n                \n                //Update word document\n                try (FileOutputStream out = new FileOutputStream(fileName)) {\n                    doc.write(out);\n                }\n            }\n        }\n\n    } catch (Exception e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    \n    \n\n\n}\n}\n</code></pre>\n"},{"tags":["java","excel","spring-boot","apache-poi","xlsx"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1670334699,"post_id":74703324,"comment_id":131848789,"body_markdown":"Not possible as you want it. Apache poi needs a complete and valid excel file and not just parts of it","body":"Not possible as you want it. Apache poi needs a complete and valid excel file and not just parts of it"},{"owner":{"account_id":3231647,"reputation":943,"user_id":2726766,"display_name":"Ganesh"},"score":0,"creation_date":1670390114,"post_id":74703324,"comment_id":131863165,"body_markdown":"@XtremeBaumer - Thanks. Which file format can help me with the above scenario? any idea?","body":"@XtremeBaumer - Thanks. Which file format can help me with the above scenario? any idea?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670397531,"post_id":74703324,"comment_id":131864590,"body_markdown":"Not a file format. You probably need a custom logic to read the parts that you get. Though they are usually XML to any XML parser would help","body":"Not a file format. You probably need a custom logic to read the parts that you get. Though they are usually XML to any XML parser would help"}],"owner":{"account_id":3231647,"reputation":943,"user_id":2726766,"display_name":"Ganesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670333319,"creation_date":1670333319,"question_id":74703324,"body_markdown":"I would like to create a Apache POI excel workbook from the byte[] of partially read existing excel file. Please find the details as below\r\n\r\n1. Download big excel file in multiple small parts from API. returns byte[]\r\n2. Downloaded part-1 needs to convert to excel workbook and process the records\r\n3. above will continue till the end of file\r\n\r\nI am using Apache POI using Java but getting below exception \r\norg.apache.poi.openxml4j.exceptions.NotOfficeXmlFileException: No valid entries or contents found, this is not a valid OOXML (Office Open XML) file \r\n\r\n    byte[] downloadPart = downloadFile(rangeDetails);\r\n\r\n    InputStream targetStream = new ByteArrayInputStream(downloadPart);\r\n\r\n    Workbook workbook = new XSSFWorkbook(targetStream);\r\n\r\nCan someone please help me to create a new workbook for every sub part of big excel file.","title":"Create excel workbook from byte array of sub part of existing excel file","body":"<p>I would like to create a Apache POI excel workbook from the byte[] of partially read existing excel file. Please find the details as below</p>\n<ol>\n<li>Download big excel file in multiple small parts from API. returns byte[]</li>\n<li>Downloaded part-1 needs to convert to excel workbook and process the records</li>\n<li>above will continue till the end of file</li>\n</ol>\n<p>I am using Apache POI using Java but getting below exception\norg.apache.poi.openxml4j.exceptions.NotOfficeXmlFileException: No valid entries or contents found, this is not a valid OOXML (Office Open XML) file</p>\n<pre><code>byte[] downloadPart = downloadFile(rangeDetails);\n\nInputStream targetStream = new ByteArrayInputStream(downloadPart);\n\nWorkbook workbook = new XSSFWorkbook(targetStream);\n</code></pre>\n<p>Can someone please help me to create a new workbook for every sub part of big excel file.</p>\n"},{"tags":["javascript","java","android","typescript","web"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670552286,"post_id":74703310,"comment_id":131906321,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74703310/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24935692,"reputation":1,"user_id":18802308,"display_name":"MONCEF ESSALAH"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670333255,"creation_date":1670333255,"answer_id":74703310,"question_id":74699721,"body_markdown":"if your web page is in html, you can use in your application the Jsoup library which allows you to extract and parse data from your html web page","title":"Share programming logic between Android an Web","body":"<p>if your web page is in html, you can use in your application the Jsoup library which allows you to extract and parse data from your html web page</p>\n"}],"owner":{"account_id":16914364,"reputation":1806,"user_id":12232720,"display_name":"mathematics-and-caffeine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670333255,"creation_date":1670316974,"question_id":74699721,"body_markdown":"I have an Android app and I&#39;m making a web version currently.\r\n\r\nIn the app there are many utility files, let&#39;s say, for the sake of an example, a class that just formates a string in a certain way.\r\n\r\nIs there any way to program this just once for both platforms (android and web), and not have separate implementations for Android in Java/Kotlin, and one for Web in JS/TS?","title":"Share programming logic between Android an Web","body":"<p>I have an Android app and I'm making a web version currently.</p>\n<p>In the app there are many utility files, let's say, for the sake of an example, a class that just formates a string in a certain way.</p>\n<p>Is there any way to program this just once for both platforms (android and web), and not have separate implementations for Android in Java/Kotlin, and one for Web in JS/TS?</p>\n"},{"tags":["java","multithreading","spring-boot","rest","download"],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670332788,"creation_date":1670332788,"answer_id":74703206,"question_id":74702098,"body_markdown":"You can use the second approach. Which can prepare data in the background and once it&#39;s ready you can download it.\r\n\r\n 1. Send a request to prepare data. The server responds with a UUID.\r\n 2. Server starts preparing files in the background. The server has a Map that has the key with a new UUID and value as status ACTIVE.\r\n 3. Client saved UUID and checks the server after a certain interval by passing the UUID.\r\n 4. Once the server finishes the task it will update the Map for the given UUID value as status DONE.\r\n 5. As the status is DONE next request will provide the status DONE and UI and send another request to download the file.\r\n\r\nThe above approach will only work if you don&#39;t refresh the page. As page refresh will clear the UUID and you have to proceed again.\r\n\r\nTo achieve this after refresh/cross-logins then you need to use a database table instead of Map. Store the username along with other information and inform the user once it&#39;s ready.","title":"Spring boot app and what approach to use to download bulk data","body":"<p>You can use the second approach. Which can prepare data in the background and once it's ready you can download it.</p>\n<ol>\n<li>Send a request to prepare data. The server responds with a UUID.</li>\n<li>Server starts preparing files in the background. The server has a Map that has the key with a new UUID and value as status ACTIVE.</li>\n<li>Client saved UUID and checks the server after a certain interval by passing the UUID.</li>\n<li>Once the server finishes the task it will update the Map for the given UUID value as status DONE.</li>\n<li>As the status is DONE next request will provide the status DONE and UI and send another request to download the file.</li>\n</ol>\n<p>The above approach will only work if you don't refresh the page. As page refresh will clear the UUID and you have to proceed again.</p>\n<p>To achieve this after refresh/cross-logins then you need to use a database table instead of Map. Store the username along with other information and inform the user once it's ready.</p>\n"}],"owner":{"account_id":5338597,"reputation":1233,"user_id":4256625,"accept_rate":43,"display_name":"Luke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670332788,"creation_date":1670327752,"question_id":74702098,"body_markdown":"I have spring boot application with basic REST API.\r\nMy question is what shall we use to download some bulk data? What is preferable way how to download bulk data without memory leak? Let&#39;s suppose we have 10 million records.\r\n\r\nHere are some approaches but not sure:\r\n 1. download with PipedInputStream when data are written with PipedOutputStream in separated thread. Is it fine or it is not good choice?\r\n 2. download with ByteArrayOutputStream when data are written into temp file in separated thread and after finish it is ready to download. We can mark this operation with some flags for end user eg. DOWNLOAD_ACTIVE, DOWNLOAD_DONE. The user is just initiating download with result flag DOWNLOAD_ACTIVE and trying to ping server for response flag DOWNLOAD_DONE. When it is done then the user is going to send request to download data.\r\n\r\nSummary 2)\r\n```\r\n1. initiate request to download data - ACTIVE state\r\n2. ping server and server returns current state - ACTIVE or DONE\r\n3. if final state is DONE then user initiate final request to download data\r\n```\r\nThanks","title":"Spring boot app and what approach to use to download bulk data","body":"<p>I have spring boot application with basic REST API.\nMy question is what shall we use to download some bulk data? What is preferable way how to download bulk data without memory leak? Let's suppose we have 10 million records.</p>\n<p>Here are some approaches but not sure:</p>\n<ol>\n<li>download with PipedInputStream when data are written with PipedOutputStream in separated thread. Is it fine or it is not good choice?</li>\n<li>download with ByteArrayOutputStream when data are written into temp file in separated thread and after finish it is ready to download. We can mark this operation with some flags for end user eg. DOWNLOAD_ACTIVE, DOWNLOAD_DONE. The user is just initiating download with result flag DOWNLOAD_ACTIVE and trying to ping server for response flag DOWNLOAD_DONE. When it is done then the user is going to send request to download data.</li>\n</ol>\n<p>Summary 2)</p>\n<pre><code>1. initiate request to download data - ACTIVE state\n2. ping server and server returns current state - ACTIVE or DONE\n3. if final state is DONE then user initiate final request to download data\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["python","java","linux"],"owner":{"account_id":27165136,"reputation":11,"user_id":20702764,"display_name":"Datenji Sherpa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670332592,"creation_date":1670332413,"question_id":74703126,"body_markdown":"From many previous years, we have had massive Bitbucket repos that contained too large production files. We&#39;re trying to identify the names of the files that contain a certain pattern (regex pattern ).\r\n\r\n\r\n\r\nCloning the repo and using Linux grep is also a solution but it&#39;s too heavy work and not feasible at this moment.\r\nIf it is solved by directly providing the URL address of the repo and performing a pattern search within it and recording the name list of those files whose content matches the provided pattern (regex or any pattern) please let us know. ","title":"want to find the files name that containes specified pattern in my bitbucket repo","body":"<p>From many previous years, we have had massive Bitbucket repos that contained too large production files. We're trying to identify the names of the files that contain a certain pattern (regex pattern ).</p>\n<p>Cloning the repo and using Linux grep is also a solution but it's too heavy work and not feasible at this moment.\nIf it is solved by directly providing the URL address of the repo and performing a pattern search within it and recording the name list of those files whose content matches the provided pattern (regex or any pattern) please let us know.</p>\n"},{"tags":["java","web-services","soap","request","mtom"],"owner":{"account_id":18108269,"reputation":11,"user_id":13165478,"display_name":"Luki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670332389,"creation_date":1670332389,"question_id":74703114,"body_markdown":"I&#39;ve created a SOAP webserice that upload document (using MTOM), but on the server side the DataHandler object is empty (dataHandler.getInputStream is empty too). \r\n\r\n[my dataHandler object](https://i.stack.imgur.com/GtK2x.png)\r\n\r\nAnd this is the document in my request:\r\n\r\n```\r\n&lt;content&gt;&lt;inc:Include href=&quot;cid:BP_275627594_SP39274815_46048927_49441074-49441075_1666846379.pdf&quot; xmlns:inc=&quot;http://www.w3.org/2004/08/xop/include&quot;/&gt;&lt;/content&gt;\r\n```\r\n\r\n[My request properties](https://i.stack.imgur.com/qxPWu.png)\r\n\r\nI&#39;ve tried to solve it this way:\r\n\r\n\r\n```\r\n\t&lt;xs:element name=&quot;DocumentRequest&quot;&gt;\r\n\t\t&lt;xs:complexType&gt;\r\n\t\t\t&lt;xs:sequence&gt;\r\n\t\t\t\t&lt;xs:element name=&quot;ID&quot; type=&quot;xs:string&quot;/&gt;\r\n\t\t\t\t&lt;xs:element name=&quot;Level&quot; type=&quot;xs:string&quot;/&gt;\r\n\t\t\t\t&lt;xs:element name=&quot;content&quot; type=&quot;xs:base64Binary&quot; xmime:expectedContentTypes=&quot;*/*&quot;/&gt;\r\n\t\t\t&lt;/xs:sequence&gt;\r\n\t\t&lt;/xs:complexType&gt;\r\n\t&lt;/xs:element&gt;\r\n```\r\n\r\n\r\n```\r\n@XmlRootElement(name = &quot;DocumentRequest&quot;)\r\npublic class DocumentRequest\r\n    implements Serializable\r\n{\r\n\r\n    private final static long serialVersionUID = 1L;\r\n    @XmlElement(required = true)\r\n    protected String ID;\r\n    @XmlElement(required = true)\r\n    protected String Level;\r\n    @XmlElement(required = true)\r\n    @XmlMimeType(&quot;*/*&quot;)\r\n    protected DataHandler content;\r\n\r\n```\r\n\r\n\r\n```\r\n@MTOM(enabled = true)\r\n@PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;DocumentRequest&quot;)\r\n@ResponsePayload\r\npublic DocumentResponse document(@RequestPayload DocumentRequest request) throws Exception {\r\n\tSystem.out.println(request.getContent().getInputStream().available());\r\n\t\t\r\n\t\t\r\n\t\r\n```\r\n\r\nIn summary, why I can&#39;t reach the attached file from code?\r\n\r\nThank You!\r\n\r\n","title":"Attached document in SOAP request (MTOM), does not arrive at webservice","body":"<p>I've created a SOAP webserice that upload document (using MTOM), but on the server side the DataHandler object is empty (dataHandler.getInputStream is empty too).</p>\n<p><a href=\"https://i.stack.imgur.com/GtK2x.png\" rel=\"nofollow noreferrer\">my dataHandler object</a></p>\n<p>And this is the document in my request:</p>\n<pre><code>&lt;content&gt;&lt;inc:Include href=&quot;cid:BP_275627594_SP39274815_46048927_49441074-49441075_1666846379.pdf&quot; xmlns:inc=&quot;http://www.w3.org/2004/08/xop/include&quot;/&gt;&lt;/content&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/qxPWu.png\" rel=\"nofollow noreferrer\">My request properties</a></p>\n<p>I've tried to solve it this way:</p>\n<pre><code>    &lt;xs:element name=&quot;DocumentRequest&quot;&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=&quot;ID&quot; type=&quot;xs:string&quot;/&gt;\n                &lt;xs:element name=&quot;Level&quot; type=&quot;xs:string&quot;/&gt;\n                &lt;xs:element name=&quot;content&quot; type=&quot;xs:base64Binary&quot; xmime:expectedContentTypes=&quot;*/*&quot;/&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n</code></pre>\n<pre><code>@XmlRootElement(name = &quot;DocumentRequest&quot;)\npublic class DocumentRequest\n    implements Serializable\n{\n\n    private final static long serialVersionUID = 1L;\n    @XmlElement(required = true)\n    protected String ID;\n    @XmlElement(required = true)\n    protected String Level;\n    @XmlElement(required = true)\n    @XmlMimeType(&quot;*/*&quot;)\n    protected DataHandler content;\n\n</code></pre>\n<pre><code>@MTOM(enabled = true)\n@PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;DocumentRequest&quot;)\n@ResponsePayload\npublic DocumentResponse document(@RequestPayload DocumentRequest request) throws Exception {\n    System.out.println(request.getContent().getInputStream().available());\n        \n        \n    \n</code></pre>\n<p>In summary, why I can't reach the attached file from code?</p>\n<p>Thank You!</p>\n"},{"tags":["java","jts"],"comments":[{"owner":{"account_id":4144982,"reputation":938,"user_id":3399001,"accept_rate":62,"display_name":"slashms"},"score":0,"creation_date":1637438885,"post_id":70031893,"comment_id":123828294,"body_markdown":"Sorry for not being clear, that was not my intention in the question. I added an example in the question body.","body":"Sorry for not being clear, that was not my intention in the question. I added an example in the question body."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1637509472,"post_id":70031893,"comment_id":123839460,"body_markdown":"This sounds a bit like an XY problem. Why do you want to convert a org.locationtech.jts.geom.PrecisionModel to a com.vividsolutions.jts.geom.PrecisionModel Usually when you migrate to a newer library, you don&#39;t need to migrate all of the types, you just fix your code to use the new type.","body":"This sounds a bit like an XY problem. Why do you want to convert a org.locationtech.jts.geom.PrecisionModel to a com.vividsolutions.jts.geom.PrecisionModel Usually when you migrate to a newer library, you don&#39;t need to migrate all of the types, you just fix your code to use the new type."}],"answers":[{"tags":[],"owner":{"account_id":1469861,"reputation":376,"user_id":1381689,"display_name":"Filip Stachowiak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670332250,"creation_date":1670332250,"answer_id":74703077,"question_id":70031893,"body_markdown":"It&#39;s a bit brute force, but you can invoke the toString() method on the old object to get the string representation and use WKTReader from the new JTS to get the geometry from this string\r\n\r\n```java\r\nnew WKTReader(geometryFactory).read(aWktString)\r\n```","title":"Converters between com.vividsolutions.jts and org.locationtech.jts","body":"<p>It's a bit brute force, but you can invoke the toString() method on the old object to get the string representation and use WKTReader from the new JTS to get the geometry from this string</p>\n<pre class=\"lang-java prettyprint-override\"><code>new WKTReader(geometryFactory).read(aWktString)\n</code></pre>\n"}],"owner":{"account_id":4144982,"reputation":938,"user_id":3399001,"accept_rate":62,"display_name":"slashms"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670332250,"creation_date":1637310666,"question_id":70031893,"body_markdown":"jts have changed their package name from `com.vividsolutions.jts` to `org.locationtech.jts` according to their [migration README](https://github.com/locationtech/jts/blob/master/MIGRATION.md).\\\r\nI have a library that uses old version of jts and I want to support the new one as well. \r\n\r\nI want to be able to convert from old type to new type, but I don&#39;t see an easy way to do it. For some types, such as `Coordinate`, its easy to create a manual converter, but for others it is more complicated. Also, there are a lot of type so manually doing this is time consuming. \r\n\r\nIs there any automatic way or a library to perform such conversions? \r\n\r\nEdit:\r\nAdding a code example for a function I would like to have (true for all other types)\r\n\r\n```\r\n com.vividsolutions.jts.geom.PrecisionModel convertPrecisionModel(org.locationtech.jts.geom.PrecisionModel pm)\r\n```","title":"Converters between com.vividsolutions.jts and org.locationtech.jts","body":"<p>jts have changed their package name from <code>com.vividsolutions.jts</code> to <code>org.locationtech.jts</code> according to their <a href=\"https://github.com/locationtech/jts/blob/master/MIGRATION.md\" rel=\"nofollow noreferrer\">migration README</a>.<br />\nI have a library that uses old version of jts and I want to support the new one as well.</p>\n<p>I want to be able to convert from old type to new type, but I don't see an easy way to do it. For some types, such as <code>Coordinate</code>, its easy to create a manual converter, but for others it is more complicated. Also, there are a lot of type so manually doing this is time consuming.</p>\n<p>Is there any automatic way or a library to perform such conversions?</p>\n<p>Edit:\nAdding a code example for a function I would like to have (true for all other types)</p>\n<pre><code> com.vividsolutions.jts.geom.PrecisionModel convertPrecisionModel(org.locationtech.jts.geom.PrecisionModel pm)\n</code></pre>\n"},{"tags":["java","vaadin","vaadin-grid","vaadin23"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1670330513,"post_id":74701804,"comment_id":131847201,"body_markdown":"How is grid-row-removed defined?","body":"How is grid-row-removed defined?"},{"owner":{"account_id":14675114,"reputation":83,"user_id":10598474,"display_name":"Burak"},"score":0,"creation_date":1670330760,"post_id":74701804,"comment_id":131847306,"body_markdown":"@SimonMartinelli in imported .css file like this\n.grid-row-removed {\n    .background-color: blue;\n}","body":"@SimonMartinelli in imported .css file like this .grid-row-removed {     .background-color: blue; }"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1670330978,"post_id":74701804,"comment_id":131847389,"body_markdown":"Do you have --lumo-contrast configured?","body":"Do you have --lumo-contrast configured?"},{"owner":{"account_id":14675114,"reputation":83,"user_id":10598474,"display_name":"Burak"},"score":0,"creation_date":1670331028,"post_id":74701804,"comment_id":131847406,"body_markdown":"Where should I configure it?","body":"Where should I configure it?"}],"answers":[{"comments":[{"owner":{"account_id":113115,"reputation":2308,"user_id":298103,"accept_rate":91,"display_name":"Rolf"},"score":1,"creation_date":1670404461,"post_id":74703052,"comment_id":131866680,"body_markdown":"I&#39;d like to add that, in general, `LumoUtility` classes are intended for layouts and native HTML elements, not for Vaadin components or their parts (such as, in this case, Grid cells).","body":"I&#39;d like to add that, in general, <code>LumoUtility</code> classes are intended for layouts and native HTML elements, not for Vaadin components or their parts (such as, in this case, Grid cells)."},{"owner":{"account_id":14675114,"reputation":83,"user_id":10598474,"display_name":"Burak"},"score":0,"creation_date":1670419177,"post_id":74703052,"comment_id":131871816,"body_markdown":"Guys, how can I import LumoUtility into my .css file? My Intellij editor doesn&#39;t see --lumo-contrast.","body":"Guys, how can I import LumoUtility into my .css file? My Intellij editor doesn&#39;t see --lumo-contrast."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1670419251,"post_id":74703052,"comment_id":131871845,"body_markdown":"You can&#39;t lumo-contrast ist not from LumoUtility but a CSS3 variable from Lumo","body":"You can&#39;t lumo-contrast ist not from LumoUtility but a CSS3 variable from Lumo"},{"owner":{"account_id":14675114,"reputation":83,"user_id":10598474,"display_name":"Burak"},"score":0,"creation_date":1670419650,"post_id":74703052,"comment_id":131871963,"body_markdown":"@SimonMartinelli how do I make my .css file see --lumo-contrast then?","body":"@SimonMartinelli how do I make my .css file see --lumo-contrast then?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1670419855,"post_id":74703052,"comment_id":131872037,"body_markdown":"You mean the IDE or editor does not see this. And this is also not possible that the IDE sees it","body":"You mean the IDE or editor does not see this. And this is also not possible that the IDE sees it"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1670419979,"post_id":74703052,"comment_id":131872083,"body_markdown":"You&#39;ll find all the available variables here https://vaadin.com/docs/latest/styling/lumo/design-tokens","body":"You&#39;ll find all the available variables here <a href=\"https://vaadin.com/docs/latest/styling/lumo/design-tokens\" rel=\"nofollow noreferrer\">vaadin.com/docs/latest/styling/lumo/design-tokens</a>"}],"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1670332114,"creation_date":1670332114,"answer_id":74703052,"question_id":74701804,"body_markdown":"The problem is that the CSS must be in the scope of the grid. \r\n\r\nSo you must define the class in `/frontend/themes/&lt;your theme&gt;/components/vaadin-grid.css`\r\n\r\nThen you could do it like this:\r\n\r\n    .grid-row-removed {\r\n        background-color: var(--lumo-contrast);\r\n    }\r\n\r\n","title":"How to change row bg-color in Vaadin when condition is met?","body":"<p>The problem is that the CSS must be in the scope of the grid.</p>\n<p>So you must define the class in <code>/frontend/themes/&lt;your theme&gt;/components/vaadin-grid.css</code></p>\n<p>Then you could do it like this:</p>\n<pre><code>.grid-row-removed {\n    background-color: var(--lumo-contrast);\n}\n</code></pre>\n"}],"owner":{"account_id":14675114,"reputation":83,"user_id":10598474,"display_name":"Burak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74703052,"answer_count":1,"score":0,"last_activity_date":1670332114,"creation_date":1670326443,"question_id":74701804,"body_markdown":"I am using Vaadin v23 and I am trying to change bg-color of a row when certain condition is met, like below:\r\n\r\n   \r\n\r\n    grid.setClassNameGenerator(row -&gt; row.getRemoved() ? LumoUtility.Background.CONTRAST : &quot;&quot;);\r\n\r\nWhy doesn&#39;t it work? \r\n\r\nI tried to do it with custom .css file and it works, but I would prefer to use built-in CONTRAST style.\r\n\r\n    grid.setClassNameGenerator(row -&gt; row.getRemoved() ? &quot;grid-row-removed&quot; : &quot;&quot;;","title":"How to change row bg-color in Vaadin when condition is met?","body":"<p>I am using Vaadin v23 and I am trying to change bg-color of a row when certain condition is met, like below:</p>\n<pre><code>grid.setClassNameGenerator(row -&gt; row.getRemoved() ? LumoUtility.Background.CONTRAST : &quot;&quot;);\n</code></pre>\n<p>Why doesn't it work?</p>\n<p>I tried to do it with custom .css file and it works, but I would prefer to use built-in CONTRAST style.</p>\n<pre><code>grid.setClassNameGenerator(row -&gt; row.getRemoved() ? &quot;grid-row-removed&quot; : &quot;&quot;;\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1670331323,"post_id":74702250,"comment_id":131847522,"body_markdown":"From this question and little info I have no idea whatyou are trying to achieve. Why not just make the `@EventListener` method `@Async`. This feels like a very convoluted way to achieve this.","body":"From this question and little info I have no idea whatyou are trying to achieve. Why not just make the <code>@EventListener</code> method <code>@Async</code>. This feels like a very convoluted way to achieve this."},{"owner":{"account_id":1200383,"reputation":1680,"user_id":1171170,"accept_rate":69,"display_name":"JiKra"},"score":0,"creation_date":1670333577,"post_id":74702250,"comment_id":131848351,"body_markdown":"Well, there is suppose to be a client waiting for an event and some async process initialized somewhere else to do something and notify client after it has been finished.\nLike for example internet banking using website, when you set a new payment and than you must confirm it on your smartphone in application. Website IB waits for confirmation on smartphone.","body":"Well, there is suppose to be a client waiting for an event and some async process initialized somewhere else to do something and notify client after it has been finished. Like for example internet banking using website, when you set a new payment and than you must confirm it on your smartphone in application. Website IB waits for confirmation on smartphone."}],"answers":[{"comments":[{"owner":{"account_id":1200383,"reputation":1680,"user_id":1171170,"accept_rate":69,"display_name":"JiKra"},"score":1,"creation_date":1670333768,"post_id":74702937,"comment_id":131848431,"body_markdown":"This is nice and clean solution. Thank you.","body":"This is nice and clean solution. Thank you."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670333914,"post_id":74702937,"comment_id":131848490,"body_markdown":"thank you, but i am also confused by the &quot;async part&quot; (i just ref*ctored:) .. see: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/event/EventListener.html (-&gt; &quot;Asynchronous Listeners&quot;)","body":"thank you, but i am also confused by the &quot;async part&quot; (i just ref*ctored:) .. see: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/event/EventListener.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a> (-&gt; &quot;Asynchronous Listeners&quot;)"}],"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670331826,"creation_date":1670331515,"answer_id":74702937,"question_id":74702250,"body_markdown":"You are right, your singleton has state, which is &quot;not good&quot;.\r\n\r\n\r\nOne (possible) solution:\r\n1. make the/refactor &quot;statfeul part&quot; to a &quot;prototype&quot; (request, session) scope bean.\r\n2. make your &quot;singleton&quot; abstract!\r\n3. inject the &quot;stateful part&quot; via &quot;method injection&quot; (we cannot &quot;auto wire&quot; lower(shorter-living) scope beans to higher ones...)\r\n\r\nAs code (example):\r\n1. State holder:\r\n   ```\r\n   public class MyStateHolder {\r\n      // State:\r\n      private CompletableFuture&lt;My&gt; future;\r\n\r\n      @Async // ?\r\n      public CompletableFuture&lt;My&gt; getMy() {\r\n        future = new CompletableFuture&lt;&gt;();\r\n        return future;\r\n      }\r\n   }\r\n   ```\r\n2. Abstract, (no `@Service` ..yet, no state!):\r\n   ```\r\n   public abstract class AsyncHandler {\r\n     @EventListener\r\n     public void processEvent(MyEvent event) { \r\n        // !!\r\n        delegate().getMy().complete(event.my());\r\n     }\r\n    \r\n     // and now only (abstract!):\r\n     public abstract MyStateHolder delegate();\r\n   }\r\n   ```\r\n3. Wiring :\r\n   ```\r\n   @Configuration\r\n   class MyConfig {\r\n\r\n     @Bean\r\n     @Scope(&quot;prototype&quot;) // !\r\n     public MyStateHolder stateful() {\r\n       return new MyStateHolder();\r\n     }\r\n\r\n     @Bean // singleton/service:\r\n     public AsyncHandler asyncHandler() {\r\n       return new AsyncHandler() { // !\r\n         @Override // !\r\n         public MyStateHolder delegate() {\r\n           return stateful();// !;)\r\n         }\r\n       };\r\n     }\r\n   }\r\n   ```\r\n\r\nrefs: (most of) https://docs.spring.io/spring-framework/docs/current/reference/html/core.html\r\n  \r\nEspecially: \r\nhttps://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-scopes-sing-prot-interaction","title":"How not to use CompletableFuture as a shared state with EventListener in Spring","body":"<p>You are right, your singleton has state, which is &quot;not good&quot;.</p>\n<p>One (possible) solution:</p>\n<ol>\n<li>make the/refactor &quot;statfeul part&quot; to a &quot;prototype&quot; (request, session) scope bean.</li>\n<li>make your &quot;singleton&quot; abstract!</li>\n<li>inject the &quot;stateful part&quot; via &quot;method injection&quot; (we cannot &quot;auto wire&quot; lower(shorter-living) scope beans to higher ones...)</li>\n</ol>\n<p>As code (example):</p>\n<ol>\n<li>State holder:\n<pre><code>public class MyStateHolder {\n   // State:\n   private CompletableFuture&lt;My&gt; future;\n\n   @Async // ?\n   public CompletableFuture&lt;My&gt; getMy() {\n     future = new CompletableFuture&lt;&gt;();\n     return future;\n   }\n}\n</code></pre>\n</li>\n<li>Abstract, (no <code>@Service</code> ..yet, no state!):\n<pre><code>public abstract class AsyncHandler {\n  @EventListener\n  public void processEvent(MyEvent event) { \n     // !!\n     delegate().getMy().complete(event.my());\n  }\n\n  // and now only (abstract!):\n  public abstract MyStateHolder delegate();\n}\n</code></pre>\n</li>\n<li>Wiring :\n<pre><code>@Configuration\nclass MyConfig {\n\n  @Bean\n  @Scope(&quot;prototype&quot;) // !\n  public MyStateHolder stateful() {\n    return new MyStateHolder();\n  }\n\n  @Bean // singleton/service:\n  public AsyncHandler asyncHandler() {\n    return new AsyncHandler() { // !\n      @Override // !\n      public MyStateHolder delegate() {\n        return stateful();// !;)\n      }\n    };\n  }\n}\n</code></pre>\n</li>\n</ol>\n<p>refs: (most of) <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html</a></p>\n<p>Especially:\n<a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-scopes-sing-prot-interaction\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-scopes-sing-prot-interaction</a></p>\n"}],"owner":{"account_id":1200383,"reputation":1680,"user_id":1171170,"accept_rate":69,"display_name":"JiKra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74702937,"answer_count":1,"score":1,"last_activity_date":1670331826,"creation_date":1670328522,"question_id":74702250,"body_markdown":"I need to asynchronously react to the `@EventListener`, therefore I&#39;ve created something like this.\r\n\r\n    @Service\r\n    public class AsyncHandler {\r\n    \r\n        private CompletableFuture&lt;My&gt; future;\r\n    \r\n        @Async\r\n        public CompletableFuture&lt;My&gt; getMy() {\r\n            future = new CompletableFuture&lt;&gt;();\r\n            return future;\r\n        }\r\n    \r\n        @EventListener\r\n        public void processEvent(MyEvent event) {\r\n            future.complete(event.my());\r\n        }\r\n    }\r\n\r\nThe problem here is that `AsyncHandler` is now stateful. Which is wrong.\r\nAnd I don&#39;t want to use database, so is there any other way to make the bean stateless while using `@EventListener`?","title":"How not to use CompletableFuture as a shared state with EventListener in Spring","body":"<p>I need to asynchronously react to the <code>@EventListener</code>, therefore I've created something like this.</p>\n<pre><code>@Service\npublic class AsyncHandler {\n\n    private CompletableFuture&lt;My&gt; future;\n\n    @Async\n    public CompletableFuture&lt;My&gt; getMy() {\n        future = new CompletableFuture&lt;&gt;();\n        return future;\n    }\n\n    @EventListener\n    public void processEvent(MyEvent event) {\n        future.complete(event.my());\n    }\n}\n</code></pre>\n<p>The problem here is that <code>AsyncHandler</code> is now stateful. Which is wrong.\nAnd I don't want to use database, so is there any other way to make the bean stateless while using <code>@EventListener</code>?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-sts","aws-credentials"],"answers":[{"tags":[],"owner":{"account_id":90365,"reputation":222506,"user_id":248823,"accept_rate":100,"display_name":"Marcin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658900320,"creation_date":1658900320,"answer_id":73132726,"question_id":73132681,"body_markdown":"You have to use [Amazon STS](https://docs.aws.amazon.com/STS/latest/APIReference/welcome.html) for **temporary credentials**. You get those credentials, including token, using for example [AssumeRole](https://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRole.html).","title":"Error while generating AWS session token using java","body":"<p>You have to use <a href=\"https://docs.aws.amazon.com/STS/latest/APIReference/welcome.html\" rel=\"nofollow noreferrer\">Amazon STS</a> for <strong>temporary credentials</strong>. You get those credentials, including token, using for example <a href=\"https://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRole.html\" rel=\"nofollow noreferrer\">AssumeRole</a>.</p>\n"},{"tags":[],"owner":{"account_id":11303488,"reputation":1,"user_id":8288761,"display_name":"Venkateswara Rajulapati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670331114,"creation_date":1670331114,"answer_id":74702857,"question_id":73132681,"body_markdown":"This below code working for me:\r\n----------------------------------------\r\n\r\n\r\nAWSCredentials credentials = new BasicAWSCredentials(&quot;----ACESSKEY----&quot;,\r\n\t\t\t\t&quot;---SECRET ACCESS KEY&quot;);\r\n\r\n\t\tAWSCredentialsProvider credentialsProvider = new AWSStaticCredentialsProvider(credentials);\r\n\r\n\t\tAssumeRoleRequest assumeRequest = new AssumeRoleRequest()\r\n\t\t\t\t.withRoleArn(&quot;--------RoleArn----------&quot;)\r\n\t\t\t\t.withDurationSeconds(3600).withRoleSessionName(&quot;TEST&quot;);\r\n\r\n\t\tAWSSecurityTokenService securityTokenService = AWSSecurityTokenServiceClientBuilder.standard()\r\n\t\t\t\t.withRegion(Regions.US_EAST_1).withCredentials(credentialsProvider).build();\r\n\r\n\t\tAssumeRoleResult result = securityTokenService.assumeRole(assumeRequest);","title":"Error while generating AWS session token using java","body":"<h2>This below code working for me:</h2>\n<p>AWSCredentials credentials = new BasicAWSCredentials(&quot;----ACESSKEY----&quot;,\n&quot;---SECRET ACCESS KEY&quot;);</p>\n<pre><code>    AWSCredentialsProvider credentialsProvider = new AWSStaticCredentialsProvider(credentials);\n\n    AssumeRoleRequest assumeRequest = new AssumeRoleRequest()\n            .withRoleArn(&quot;--------RoleArn----------&quot;)\n            .withDurationSeconds(3600).withRoleSessionName(&quot;TEST&quot;);\n\n    AWSSecurityTokenService securityTokenService = AWSSecurityTokenServiceClientBuilder.standard()\n            .withRegion(Regions.US_EAST_1).withCredentials(credentialsProvider).build();\n\n    AssumeRoleResult result = securityTokenService.assumeRole(assumeRequest);\n</code></pre>\n"}],"owner":{"account_id":414915,"reputation":113,"user_id":789416,"accept_rate":67,"display_name":"John D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":675,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1670331114,"creation_date":1658899980,"question_id":73132681,"body_markdown":"I am trying to use session token using AWS sts_client \r\n\t\r\n    AWSSecurityTokenService sts_client =  AWSSecurityTokenServiceClientBuilder.standard()\r\n    \t\t\t\t\t\t\t\t\t\t\t .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(&quot;https://sts.ap-southeast-2.amazonaws.com&quot;, &quot;ap-southeast-2&quot;))\r\n    \t\t\t\t\t\t\t\t\t\t\t .withRegion(Regions.AP_SOUTHEAST_2).build();\r\n    \t\r\ngetting below error.\r\n\r\n    java.lang.IllegalStateException: Only one of Region or EndpointConfiguration may be set.\r\n    \tat com.amazonaws.client.builder.AwsClientBuilder.setRegion(AwsClientBuilder.java:450) ~[aws-java-sdk-core-1.12.234.jar:na]\r\n    \tat com.amazonaws.client.builder.AwsClientBuilder.configureMutableProperties(AwsClientBuilder.java:424) ~[aws-java-sdk-core-1.12.234.jar:na]\r\n    \tat com.amazonaws.client.builder.AwsSyncClientBuilder.build(AwsSyncClientBuilder.java:46) ~[aws-java-sdk-core-1.12.234.jar:na]\r\n    \tat ","title":"Error while generating AWS session token using java","body":"<p>I am trying to use session token using AWS sts_client</p>\n<pre><code>AWSSecurityTokenService sts_client =  AWSSecurityTokenServiceClientBuilder.standard()\n                                             .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(&quot;https://sts.ap-southeast-2.amazonaws.com&quot;, &quot;ap-southeast-2&quot;))\n                                             .withRegion(Regions.AP_SOUTHEAST_2).build();\n    \n</code></pre>\n<p>getting below error.</p>\n<pre><code>java.lang.IllegalStateException: Only one of Region or EndpointConfiguration may be set.\n    at com.amazonaws.client.builder.AwsClientBuilder.setRegion(AwsClientBuilder.java:450) ~[aws-java-sdk-core-1.12.234.jar:na]\n    at com.amazonaws.client.builder.AwsClientBuilder.configureMutableProperties(AwsClientBuilder.java:424) ~[aws-java-sdk-core-1.12.234.jar:na]\n    at com.amazonaws.client.builder.AwsSyncClientBuilder.build(AwsSyncClientBuilder.java:46) ~[aws-java-sdk-core-1.12.234.jar:na]\n    at \n</code></pre>\n"},{"tags":["java","csvreader"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1670328948,"post_id":74702061,"comment_id":131846585,"body_markdown":"I can&#39;t reproduce this problem. What is the file encoding? (it works fine with UTF-8) Also are you sure you are reading correct file? Maybe file you are *actually* reading really doesn&#39;t have values you expect.","body":"I can&#39;t reproduce this problem. What is the file encoding? (it works fine with UTF-8) Also are you sure you are reading correct file? Maybe file you are <i>actually</i> reading really doesn&#39;t have values you expect."}],"answers":[{"comments":[{"owner":{"account_id":26963853,"reputation":1,"user_id":20531087,"display_name":"Bartosz Boluk"},"score":0,"creation_date":1670334664,"post_id":74702851,"comment_id":131848771,"body_markdown":"Yes it is UTF-8. \n\n``Charset charset = Charset.forName(&quot;UTF-8&quot;);\n                File csvfile = new File(&quot;/sdcard/Download/&quot; + returnFileName(Integer.parseInt(year)));\n                CSVReader reader = new CSVReader(new FileReader(csvfile.getAbsolutePath(), charset));\n                List&lt;String[]&gt; nextLine = reader.readAll();\n`\nBut im recieving an error when i want to implement the Charset","body":"Yes it is UTF-8.   ``Charset charset = Charset.forName(&quot;UTF-8&quot;);                 File csvfile = new File(&quot;/sdcard/Download/&quot; + returnFileName(Integer.parseInt(year)));                 CSVReader reader = new CSVReader(new FileReader(csvfile.getAbsolutePath(), charset));                 List&lt;String[]&gt; nextLine = reader.readAll(); ` But im recieving an error when i want to implement the Charset"},{"owner":{"account_id":2844787,"reputation":5391,"user_id":2443502,"accept_rate":91,"display_name":"Marcin KÅopotek"},"score":0,"creation_date":1670335304,"post_id":74702851,"comment_id":131849034,"body_markdown":"What error do you have?","body":"What error do you have?"},{"owner":{"account_id":26963853,"reputation":1,"user_id":20531087,"display_name":"Bartosz Boluk"},"score":0,"creation_date":1670335456,"post_id":74702851,"comment_id":131849090,"body_markdown":"error: no suitable constructor found for FileReader(String,Charset)\n                CSVReader reader = new CSVReader(new FileReader(csvfile.getAbsolutePath(), charset));","body":"error: no suitable constructor found for FileReader(String,Charset)                 CSVReader reader = new CSVReader(new FileReader(csvfile.getAbsolutePath(), charset));"},{"owner":{"account_id":2844787,"reputation":5391,"user_id":2443502,"accept_rate":91,"display_name":"Marcin KÅopotek"},"score":0,"creation_date":1670338638,"post_id":74702851,"comment_id":131850404,"body_markdown":"The constructor `FileReader(File, Charset)` was introduced in JDK11. In case you are using an older JDK version then you can use `FileInputStream(InputStream, Charset)` instead.","body":"The constructor <code>FileReader(File, Charset)</code> was introduced in JDK11. In case you are using an older JDK version then you can use <code>FileInputStream(InputStream, Charset)</code> instead."},{"owner":{"account_id":26963853,"reputation":1,"user_id":20531087,"display_name":"Bartosz Boluk"},"score":0,"creation_date":1670340449,"post_id":74702851,"comment_id":131851128,"body_markdown":"Charset charset = Charset.forName(&quot;UTF-8&quot;);\n                File csvfile = new File(&quot;/sdcard/Download/&quot; + returnFileName(Integer.parseInt(year)));\n                CSVReader reader = new CSVReader(new FileReader(new FileInputStream(csvfile.getAbsolutePath(), charset)));\n\nGot the same error &quot;no suitable constructor found for FileInputStream(String,Charset)&quot;","body":"Charset charset = Charset.forName(&quot;UTF-8&quot;);                 File csvfile = new File(&quot;/sdcard/Download/&quot; + returnFileName(Integer.parseInt(year)));                 CSVReader reader = new CSVReader(new FileReader(new FileInputStream(csvfile.getAbsolutePath(), charset)));  Got the same error &quot;no suitable constructor found for FileInputStream(String,Charset)&quot;"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1670344437,"post_id":74702851,"comment_id":131852639,"body_markdown":"@BartoszBoluk You can use `InputStreamReader` to specify charset: `CSVReader reader = new CSVReader(new InputStreamReader(new FileInputStream(csvfile), StandardCharsets.UTF_8));`","body":"@BartoszBoluk You can use <code>InputStreamReader</code> to specify charset: <code>CSVReader reader = new CSVReader(new InputStreamReader(new FileInputStream(csvfile), StandardCharsets.UTF_8));</code>"},{"owner":{"account_id":26963853,"reputation":1,"user_id":20531087,"display_name":"Bartosz Boluk"},"score":0,"creation_date":1670352171,"post_id":74702851,"comment_id":131855347,"body_markdown":"@Pshemo still not loading the data with special letters. Maybe i check endcoding wrong. How can i do it for excel file?","body":"@Pshemo still not loading the data with special letters. Maybe i check endcoding wrong. How can i do it for excel file?"}],"tags":[],"owner":{"account_id":2844787,"reputation":5391,"user_id":2443502,"accept_rate":91,"display_name":"Marcin KÅopotek"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670331085,"creation_date":1670331085,"answer_id":74702851,"question_id":74702061,"body_markdown":"It&#39;s all about [character encoding][1] used to store the file contents. The file was probably written in a different encoding than the one you are using to read the file. If you know what encoding was used to write the file you should use the same encoding while reading the file. `FileReader` reader uses the [default platform encoding][2] if you do not provide one by means of a dedicated [`FileReader(File, Charset)`][3] constructor:\r\n\r\n[The documentation][3] is clear about it:\r\n&gt; Decoding from bytes to characters uses either a specified [charset][4] or the [default charset][5].\r\n\r\nUnfortunately, there&#39;s no reliable way to automatically detect the encoding of a text file. The only way is to try the most popular encodings used to write your language diacritical characters and see if the file read operation gives you the expected outcome. You can read more about possible encodings used for Polish alphabet [here][6].\r\n\r\n\r\n  [1]: https://www.wikiwand.com/en/Character_encoding\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/charset/Charset.html#defaultCharset()\r\n  [3]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/FileReader.html#%3Cinit%3E(java.io.File,java.nio.charset.Charset)\r\n  [4]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/nio/charset/Charset.html\r\n  [5]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/nio/charset/Charset.html#defaultCharset()\r\n  [6]: https://www.wikiwand.com/en/Polish_alphabet#Computer_encoding","title":"CSVReader doesnt read special letters","body":"<p>It's all about <a href=\"https://www.wikiwand.com/en/Character_encoding\" rel=\"nofollow noreferrer\">character encoding</a> used to store the file contents. The file was probably written in a different encoding than the one you are using to read the file. If you know what encoding was used to write the file you should use the same encoding while reading the file. <code>FileReader</code> reader uses the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/charset/Charset.html#defaultCharset()\" rel=\"nofollow noreferrer\">default platform encoding</a> if you do not provide one by means of a dedicated <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/FileReader.html#%3Cinit%3E(java.io.File,java.nio.charset.Charset)\" rel=\"nofollow noreferrer\"><code>FileReader(File, Charset)</code></a> constructor:</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/FileReader.html#%3Cinit%3E(java.io.File,java.nio.charset.Charset)\" rel=\"nofollow noreferrer\">The documentation</a> is clear about it:</p>\n<blockquote>\n<p>Decoding from bytes to characters uses either a specified <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/nio/charset/Charset.html\" rel=\"nofollow noreferrer\">charset</a> or the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/nio/charset/Charset.html#defaultCharset()\" rel=\"nofollow noreferrer\">default charset</a>.</p>\n</blockquote>\n<p>Unfortunately, there's no reliable way to automatically detect the encoding of a text file. The only way is to try the most popular encodings used to write your language diacritical characters and see if the file read operation gives you the expected outcome. You can read more about possible encodings used for Polish alphabet <a href=\"https://www.wikiwand.com/en/Polish_alphabet#Computer_encoding\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":26963853,"reputation":1,"user_id":20531087,"display_name":"Bartosz Boluk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670331085,"creation_date":1670327571,"question_id":74702061,"body_markdown":"I want to read data from CSV file.\r\n\r\n\r\n```\r\nFile csvfile = new File(&quot;/sdcard/Download/&quot; + returnFileName(Integer.parseInt(year)));\r\nCSVReader reader = new CSVReader(new FileReader(csvfile.getAbsolutePath()));\r\nList&lt;String[]&gt; nextLine = reader.readAll();\r\n```\r\n\r\nThis is my functon. It reads all data exepct data with special letters like GdaÅsk with (Å). It just gives empty string\r\n\r\nI expect to get all data even if it has special letters\r\n","title":"CSVReader doesnt read special letters","body":"<p>I want to read data from CSV file.</p>\n<pre><code>File csvfile = new File(&quot;/sdcard/Download/&quot; + returnFileName(Integer.parseInt(year)));\nCSVReader reader = new CSVReader(new FileReader(csvfile.getAbsolutePath()));\nList&lt;String[]&gt; nextLine = reader.readAll();\n</code></pre>\n<p>This is my functon. It reads all data exepct data with special letters like GdaÅsk with (Å). It just gives empty string</p>\n<p>I expect to get all data even if it has special letters</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1670233377,"post_id":74685356,"comment_id":131820268,"body_markdown":"Why do you need this with `@Query`? What prevents you from using the specifications? I don&#39;t really see the issue.","body":"Why do you need this with <code>@Query</code>? What prevents you from using the specifications? I don&#39;t really see the issue."},{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1670235928,"post_id":74685356,"comment_id":131821167,"body_markdown":"Use Hibernate ORM classes for SQL-based server, not need this hard-try. But, if you want the parameter directly use like this: https://www.baeldung.com/spring-data-jpa-query#1-jpql-2","body":"Use Hibernate ORM classes for SQL-based server, not need this hard-try. But, if you want the parameter directly use like this: <a href=\"https://www.baeldung.com/spring-data-jpa-query#1-jpql-2\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-jpa-query#1-jpql-2</a>"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670261915,"post_id":74685356,"comment_id":131830606,"body_markdown":"@Numichi Thanks for help. Actually I created a custom filter using Specifications before asking the question. But, although it works well in my Recipe entity, I cannot make it filter related entities e.g. Ingredient. I use Hibernate and actually I implemented all the necessary relationship between entities properly. When I retrieve a Recipe data, I can receive Ingredient data belonging to this Recipe, but I am not sure if I can filter data on Ingredient as well.","body":"@Numichi Thanks for help. Actually I created a custom filter using Specifications before asking the question. But, although it works well in my Recipe entity, I cannot make it filter related entities e.g. Ingredient. I use Hibernate and actually I implemented all the necessary relationship between entities properly. When I retrieve a Recipe data, I can receive Ingredient data belonging to this Recipe, but I am not sure if I can filter data on Ingredient as well."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670261943,"post_id":74685356,"comment_id":131830617,"body_markdown":"@Numichi Here is the approach that I followed, could  you just have a look at and inform me if it is possible to filter Recipes having an ingredient with name? https://blog.piinalpin.com/2022/04/searching-and-filtering-using-jpa-specification/","body":"@Numichi Here is the approach that I followed, could  you just have a look at and inform me if it is possible to filter Recipes having an ingredient with name? <a href=\"https://blog.piinalpin.com/2022/04/searching-and-filtering-using-jpa-specification/\" rel=\"nofollow noreferrer\">blog.piinalpin.com/2022/04/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670306774,"post_id":74685356,"comment_id":131839807,"body_markdown":"You only state you need to use a special filter with a query not why you think this is a must. From the partially additional information in your comments (I would suggest to rewrite your question instead with a full problem statement instead) there is nothing preventing you from using a `Specification` (which is basically a criteria query) to achieve what you want. From what I read is you want `Recipe` instances that contain an `Ingredient` with a `name` like `something`. Using the `Criteria` API (and thus `Specification`) this is very much doable.","body":"You only state you need to use a special filter with a query not why you think this is a must. From the partially additional information in your comments (I would suggest to rewrite your question instead with a full problem statement instead) there is nothing preventing you from using a <code>Specification</code> (which is basically a criteria query) to achieve what you want. From what I read is you want <code>Recipe</code> instances that contain an <code>Ingredient</code> with a <code>name</code> like <code>something</code>. Using the <code>Criteria</code> API (and thus <code>Specification</code>) this is very much doable."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670316173,"post_id":74685356,"comment_id":131842126,"body_markdown":"At this step, I am not sure if your answer can be applied to solve the problem. Because, in this case I am not sure how should I build my filter request. Can you have a look at **Filter by Name and Sort by Release Date ASC** section on [this](https://blog.piinalpin.com/2022/04/searching-and-filtering-using-jpa-specification/) article that I followed. And what do you think about the filter request? What should I use as `key` parameter in order to filter recipes by both `Recipe.title` and `Ingredient.name` ? Thanks.","body":"At this step, I am not sure if your answer can be applied to solve the problem. Because, in this case I am not sure how should I build my filter request. Can you have a look at <b>Filter by Name and Sort by Release Date ASC</b> section on <a href=\"https://blog.piinalpin.com/2022/04/searching-and-filtering-using-jpa-specification/\" rel=\"nofollow noreferrer\">this</a> article that I followed. And what do you think about the filter request? What should I use as <code>key</code> parameter in order to filter recipes by both <code>Recipe.title</code> and <code>Ingredient.name</code> ? Thanks."}],"answers":[{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670261427,"post_id":74689610,"comment_id":131830446,"body_markdown":"Thanks for reply. Actually I created a custom filter using Specifications before asking the question. **But**, although it works well in my `Recipe` entity, I cannot make it filter related entities e.g. `Ingredient`. I use Hibernate and actually I implemented all the necessary relationship between entities properly. When I retrieve a Recipe data, I can receive Ingredient data belonging to this Recipe, but I am not sure if I can filter data on Ingredient as well.","body":"Thanks for reply. Actually I created a custom filter using Specifications before asking the question. <b>But</b>, although it works well in my <code>Recipe</code> entity, I cannot make it filter related entities e.g. <code>Ingredient</code>. I use Hibernate and actually I implemented all the necessary relationship between entities properly. When I retrieve a Recipe data, I can receive Ingredient data belonging to this Recipe, but I am not sure if I can filter data on Ingredient as well."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670261429,"post_id":74689610,"comment_id":131830447,"body_markdown":"Here is the approach that I followed, could  you just have a look at and inform me if it is possible to filter Recipes having an ingredient with name? https://blog.piinalpin.com/2022/04/searching-and-filtering-using-jpa-specification/","body":"Here is the approach that I followed, could  you just have a look at and inform me if it is possible to filter Recipes having an ingredient with name? <a href=\"https://blog.piinalpin.com/2022/04/searching-and-filtering-using-jpa-specification/\" rel=\"nofollow noreferrer\">blog.piinalpin.com/2022/04/&hellip;</a>"}],"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670249879,"creation_date":1670249879,"answer_id":74689610,"question_id":74685356,"body_markdown":"`@Query` can only do static queries.\r\n\r\nIf you want something more dynamic you have to use another feature, for example [`Specifications`][1] or even fall back to [custom method implementations][2].\r\n\r\n\r\n  [1]: https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/\r\n  [2]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations","title":"Dynamic query with @Query in Spring Data JPA?","body":"<p><code>@Query</code> can only do static queries.</p>\n<p>If you want something more dynamic you have to use another feature, for example <a href=\"https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl/\" rel=\"nofollow noreferrer\"><code>Specifications</code></a> or even fall back to <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations\" rel=\"nofollow noreferrer\">custom method implementations</a>.</p>\n"},{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670261497,"post_id":74689976,"comment_id":131830469,"body_markdown":"Thanks for your help, but I tried similar approach and does not work. Nevertheless, voted up","body":"Thanks for your help, but I tried similar approach and does not work. Nevertheless, voted up"}],"tags":[],"owner":{"account_id":25658115,"reputation":79,"user_id":19424202,"display_name":"Daniellllll"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1670251471,"creation_date":1670251471,"answer_id":74689976,"question_id":74685356,"body_markdown":"You can try like this: \r\n\r\n    @Query(&quot;SELECT r FROM Recipe r WHERE r.title LIKE %?1%&quot;)\r\n    Page&lt;Recipe&gt; findByFields(String text);","title":"Dynamic query with @Query in Spring Data JPA?","body":"<p>You can try like this:</p>\n<pre><code>@Query(&quot;SELECT r FROM Recipe r WHERE r.title LIKE %?1%&quot;)\nPage&lt;Recipe&gt; findByFields(String text);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":197590,"reputation":83547,"user_id":441757,"accept_rate":100,"display_name":"sideshowbarker"},"score":1,"creation_date":1670404658,"post_id":74698090,"comment_id":131866758,"body_markdown":"Comments are not for extended discussion; this conversation has been [moved to chat](https://chat.stackoverflow.com/rooms/250211/discussion-on-answer-by-m-deinum-dynamic-query-with-query-in-spring-data-jpa).","body":"Comments are not for extended discussion; this conversation has been <a href=\"https://chat.stackoverflow.com/rooms/250211/discussion-on-answer-by-m-deinum-dynamic-query-with-query-in-spring-data-jpa\">moved to chat</a>."}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1670330902,"creation_date":1670307550,"answer_id":74698090,"question_id":74685356,"body_markdown":"There is nothing preventing you from using a `Specification` (which is basically the `Criteria` API but easier to use). You basically want the dynamic version of the following JPQL. \r\n\r\n```sql\r\nSELECT r FROM Recipe r \r\nJOIN r.recipeIngredients ri \r\nJOIN ri.ingredient i\r\nWHERE i.name LIKE :name\r\n```\r\n\r\nNow if you can write it in JPQL you can also use the `Criteria` API to write it (generally speaking). \r\n\r\n```\r\npublic static Specification&lt;Recipe&gt; findByIngredientName(String name) {\r\n  return (root, query, criteriaBuilder) -&gt; {\r\n     Join&lt;Recipe, RecipeIngredient&gt; ingredients = root.join(&quot;ingredients&quot;);\r\n     Join&lt; RecipeIngredient, Ingredient&gt; ingredient = ingredients.join(&quot;ingredient&quot;);      \r\n     return criteriaBuilder.like(ingredient.get(&quot;name&quot;), &quot;%&quot; + name + &quot;%&quot;); \r\n  };\r\n}\r\n```\r\n\r\nThat is the specification to retrieve a `Recipe` containing an `Ingredient` with a `name` `like` something. You need 2 joins no query just a join. \r\n\r\nYou can now even combine multiple predicates by using `Predicate.and`. So if you create another `Predicate` for the `Recipe.name` you can just chain them together, JPA will handle the rest. \r\n\r\n```\r\npublic static Specification&lt;Recipe&gt; findName(String name) {\r\n  return (root, query, criteriaBuilder) -&gt; { \r\n     return criteriaBuilder.like(root.get(&quot;title&quot;), &quot;%&quot; + name + &quot;%&quot;); \r\n  };\r\n}\r\n```\r\n\r\n```\r\nSpecification&lt;Recipe&gt; specs = findByName(&quot;recipe&quot;).and(findByIngredientName(&quot;ingredient&quot;));\r\nrecipeRepository.findAll(specs);\r\n```\r\n\r\nThat is all you need. What and how you receive those parameters that is up to you how you build the request/response objects and is highly subjective. If you want a sort order use the `findAll` which takes a `Specification` and a `Sort`\r\n\r\n```\r\nSpecification&lt;Recipe&gt; specs = findByName(&quot;recipe&quot;).and(findByIngredientName(&quot;ingredient&quot;));\r\nrecipeRepository.findAll(specs, Sort.by(&quot;title&quot;));\r\n```\r\n\r\nThe above will generate a SQL in the form of\r\n\r\n```SQL\r\nSELECT recipesapp0_.id as id1_1_, recipesapp0_.title as title2_1_ FROM recipes_application$recipe recipesapp0_ \r\nINNER JOIN recipes_application$recipe_ingredient recipeingr1_ ON recipesapp0_.id=recipeingr1_.recipe_id \r\nINNER JOIN recipes_application$ingredient recipesapp2_ ON recipeingr1_.ingredient_id=recipesapp2_.id \r\nWHERE (recipesapp0_.title like ?) AND (recipesapp2_.name like ?) ORDER BYrecipesapp0_.title ASC\r\n```\r\n\r\n**NOTE:** Next time when someone asks for clarification of your use-case please give it instead of being unfriendly to them!\r\n","title":"Dynamic query with @Query in Spring Data JPA?","body":"<p>There is nothing preventing you from using a <code>Specification</code> (which is basically the <code>Criteria</code> API but easier to use). You basically want the dynamic version of the following JPQL.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT r FROM Recipe r \nJOIN r.recipeIngredients ri \nJOIN ri.ingredient i\nWHERE i.name LIKE :name\n</code></pre>\n<p>Now if you can write it in JPQL you can also use the <code>Criteria</code> API to write it (generally speaking).</p>\n<pre><code>public static Specification&lt;Recipe&gt; findByIngredientName(String name) {\n  return (root, query, criteriaBuilder) -&gt; {\n     Join&lt;Recipe, RecipeIngredient&gt; ingredients = root.join(&quot;ingredients&quot;);\n     Join&lt; RecipeIngredient, Ingredient&gt; ingredient = ingredients.join(&quot;ingredient&quot;);      \n     return criteriaBuilder.like(ingredient.get(&quot;name&quot;), &quot;%&quot; + name + &quot;%&quot;); \n  };\n}\n</code></pre>\n<p>That is the specification to retrieve a <code>Recipe</code> containing an <code>Ingredient</code> with a <code>name</code> <code>like</code> something. You need 2 joins no query just a join.</p>\n<p>You can now even combine multiple predicates by using <code>Predicate.and</code>. So if you create another <code>Predicate</code> for the <code>Recipe.name</code> you can just chain them together, JPA will handle the rest.</p>\n<pre><code>public static Specification&lt;Recipe&gt; findName(String name) {\n  return (root, query, criteriaBuilder) -&gt; { \n     return criteriaBuilder.like(root.get(&quot;title&quot;), &quot;%&quot; + name + &quot;%&quot;); \n  };\n}\n</code></pre>\n<pre><code>Specification&lt;Recipe&gt; specs = findByName(&quot;recipe&quot;).and(findByIngredientName(&quot;ingredient&quot;));\nrecipeRepository.findAll(specs);\n</code></pre>\n<p>That is all you need. What and how you receive those parameters that is up to you how you build the request/response objects and is highly subjective. If you want a sort order use the <code>findAll</code> which takes a <code>Specification</code> and a <code>Sort</code></p>\n<pre><code>Specification&lt;Recipe&gt; specs = findByName(&quot;recipe&quot;).and(findByIngredientName(&quot;ingredient&quot;));\nrecipeRepository.findAll(specs, Sort.by(&quot;title&quot;));\n</code></pre>\n<p>The above will generate a SQL in the form of</p>\n<pre><code>SELECT recipesapp0_.id as id1_1_, recipesapp0_.title as title2_1_ FROM recipes_application$recipe recipesapp0_ \nINNER JOIN recipes_application$recipe_ingredient recipeingr1_ ON recipesapp0_.id=recipeingr1_.recipe_id \nINNER JOIN recipes_application$ingredient recipesapp2_ ON recipeingr1_.ingredient_id=recipesapp2_.id \nWHERE (recipesapp0_.title like ?) AND (recipesapp2_.name like ?) ORDER BYrecipesapp0_.title ASC\n</code></pre>\n<p><strong>NOTE:</strong> Next time when someone asks for clarification of your use-case please give it instead of being unfriendly to them!</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3170,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74698090,"answer_count":3,"score":-2,"last_activity_date":1670330902,"creation_date":1670229515,"question_id":74685356,"body_markdown":"I am using Specifications in my Spring Boot app and can filter result by different filter options. However, I need to use special filter with `@Query` in my repository method and as far as I see, I cannot build a dynamic WHERE clause in this query. \r\n\r\nThere are also QueryDSL and CriteriaAPI options, but I cannot find an example for using them in `@Query`. \r\n\r\nSo, is it possible to dynamically build WHERE clause or create filter for the query in `@Query`? Here is my method:\r\n\r\n```\r\n// there are more filters that omitted for brevity \r\n\r\n@Query(&quot;SELECT r FROM Recipe r WHERE r.title LIKE %:text%&quot;)\r\nPage&lt;Recipe&gt; findByFields(@Param(&quot;text&quot;) String text);\r\n```\r\n\r\nI tried to use my specification in this method, but it is not possible to use them with `@Query` :(( \r\n\r\n&lt;br/&gt;\r\n&lt;br/&gt;\r\n\r\n**Update:** \r\n\r\n\r\n\r\n\r\n&lt;br/&gt;\r\n\r\n```\r\n@Entity\r\npublic class Recipe {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String title;\r\n\r\n    @Enumerated(value = EnumType.STRING)\r\n    private HealthLabel healthLabel;\r\n\r\n    // code omitted for brevity\r\n\r\n    @OneToMany(mappedBy = &quot;recipe&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private List&lt;RecipeIngredient&gt; recipeIngredients = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\n\r\n&lt;br/&gt;\r\n\r\n```\r\n@Entity\r\npublic class RecipeIngredient {\r\n\r\n    @EmbeddedId\r\n    private RecipeIngredientId recipeIngredientId = new RecipeIngredientId();\r\n\r\n    @Column(nullable = false)\r\n    private BigDecimal amount;\r\n\r\n    @ManyToOne(optional = true, fetch = FetchType.LAZY)\r\n    @MapsId(&quot;recipeId&quot;)\r\n    @JoinColumn(name = &quot;recipe_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Recipe recipe;\r\n\r\n    @ManyToOne(optional = true, fetch = FetchType.LAZY)\r\n    @MapsId(&quot;ingredientId&quot;)\r\n    @JoinColumn(name = &quot;ingredient_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Ingredient ingredient;\r\n}\r\n```\r\n\r\n\r\n&lt;br/&gt;\r\n\r\n```\r\n@Entity\r\npublic class Ingredient {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(unique = true, nullable = false, length = 50)\r\n    private String name;\r\n\r\n    @OneToMany(mappedBy = &quot;ingredient&quot;, cascade = CascadeType.ALL)\r\n    private Set&lt;RecipeIngredient&gt; recipeIngredients = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\nHere is also my enum that I cannot filter by:\r\n\r\n```\r\n@Getter\r\n@AllArgsConstructor\r\npublic enum HealthLabel {\r\n\r\n    DEFAULT(&quot;Default&quot;),\r\n    EGG_FREE(&quot;Egg-free&quot;),\r\n    VEGETARIAN(&quot;Vegetarian&quot;),\r\n    WHEAT_FREE(&quot;Wheat-free&quot;);\r\n\r\n    private String label;\r\n}\r\n```","title":"Dynamic query with @Query in Spring Data JPA?","body":"<p>I am using Specifications in my Spring Boot app and can filter result by different filter options. However, I need to use special filter with <code>@Query</code> in my repository method and as far as I see, I cannot build a dynamic WHERE clause in this query.</p>\n<p>There are also QueryDSL and CriteriaAPI options, but I cannot find an example for using them in <code>@Query</code>.</p>\n<p>So, is it possible to dynamically build WHERE clause or create filter for the query in <code>@Query</code>? Here is my method:</p>\n<pre><code>// there are more filters that omitted for brevity \n\n@Query(&quot;SELECT r FROM Recipe r WHERE r.title LIKE %:text%&quot;)\nPage&lt;Recipe&gt; findByFields(@Param(&quot;text&quot;) String text);\n</code></pre>\n<p>I tried to use my specification in this method, but it is not possible to use them with <code>@Query</code> :((</p>\n<br/>\n<br/>\n<p><strong>Update:</strong></p>\n<br/>\n<pre><code>@Entity\npublic class Recipe {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String title;\n\n    @Enumerated(value = EnumType.STRING)\n    private HealthLabel healthLabel;\n\n    // code omitted for brevity\n\n    @OneToMany(mappedBy = &quot;recipe&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;RecipeIngredient&gt; recipeIngredients = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<br/>\n<pre><code>@Entity\npublic class RecipeIngredient {\n\n    @EmbeddedId\n    private RecipeIngredientId recipeIngredientId = new RecipeIngredientId();\n\n    @Column(nullable = false)\n    private BigDecimal amount;\n\n    @ManyToOne(optional = true, fetch = FetchType.LAZY)\n    @MapsId(&quot;recipeId&quot;)\n    @JoinColumn(name = &quot;recipe_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Recipe recipe;\n\n    @ManyToOne(optional = true, fetch = FetchType.LAZY)\n    @MapsId(&quot;ingredientId&quot;)\n    @JoinColumn(name = &quot;ingredient_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Ingredient ingredient;\n}\n</code></pre>\n<br/>\n<pre><code>@Entity\npublic class Ingredient {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(unique = true, nullable = false, length = 50)\n    private String name;\n\n    @OneToMany(mappedBy = &quot;ingredient&quot;, cascade = CascadeType.ALL)\n    private Set&lt;RecipeIngredient&gt; recipeIngredients = new HashSet&lt;&gt;();\n}\n</code></pre>\n<br/>\n<p>Here is also my enum that I cannot filter by:</p>\n<pre><code>@Getter\n@AllArgsConstructor\npublic enum HealthLabel {\n\n    DEFAULT(&quot;Default&quot;),\n    EGG_FREE(&quot;Egg-free&quot;),\n    VEGETARIAN(&quot;Vegetarian&quot;),\n    WHEAT_FREE(&quot;Wheat-free&quot;);\n\n    private String label;\n}\n</code></pre>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":1,"creation_date":1670330412,"post_id":74702635,"comment_id":131847163,"body_markdown":"Where exactly did you change the JDK version? Note, that there is a difference between the JRE which is used to run Android studio itself, and the one which is used for developing projects. Which one exactly did you change or want to change?","body":"Where exactly did you change the JDK version? Note, that there is a difference between the JRE which is used to run Android studio itself, and the one which is used for developing projects. Which one exactly did you change or want to change?"},{"owner":{"account_id":20106531,"reputation":11,"user_id":14743907,"display_name":"Roqiah Mohammed"},"score":0,"creation_date":1670331193,"post_id":74702635,"comment_id":131847462,"body_markdown":"for developing projects","body":"for developing projects"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1670332346,"post_id":74702635,"comment_id":131847865,"body_markdown":"Let Android Studio use whatever Java version it wants for itself. Iâd personally be wary of changing standard IDE packaging/behavior.","body":"Let Android Studio use whatever Java version it wants for itself. Iâd personally be wary of changing standard IDE packaging/behavior."},{"owner":{"account_id":20106531,"reputation":11,"user_id":14743907,"display_name":"Roqiah Mohammed"},"score":0,"creation_date":1670342727,"post_id":74702635,"comment_id":131851958,"body_markdown":"but When I run the project it shows an error that wants jdk 11","body":"but When I run the project it shows an error that wants jdk 11"}],"owner":{"account_id":20106531,"reputation":11,"user_id":14743907,"display_name":"Roqiah Mohammed"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670330839,"creation_date":1670330163,"question_id":74702635,"body_markdown":"C:\\development\\flutter&gt; java -version\r\n&lt;br&gt;\r\njava version &quot;11.0.17&quot; 2022-10-18 LTS\r\n&lt;br&gt;\r\nJava(TM) SE Runtime Environment 18.9 (build 11.0.17+10-LTS-269)\r\n&lt;br&gt;\r\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.17+10-LTS-269, mixed mode)\r\n\r\nC:\\development\\flutter&gt;javac -version&lt;br&gt;\r\njavac 11.0.17\r\n\r\nC:\\development\\flutter&gt;flutter doctor -v &lt;br&gt;&lt;br&gt;\r\n\r\n[â] Flutter (Channel stable, 3.0.5, on Microsoft Windows [Version\r\n10.0.19043.2130], locale en-US)&lt;br&gt;\r\n    â¢ Flutter version 3.0.5 at C:\\development\\flutter&lt;br&gt;\r\n    â¢ Upstream repository https://github.com/flutter/flutter.git&lt;br&gt;\r\n    â¢ Framework revision f1875d570e (5 months ago), 2022-07-13 11:24:16 -0700&lt;br&gt;\r\n    â¢ Engine revision e85ea0e79c&lt;br&gt;\r\n    â¢ Dart version 2.17.6&lt;br&gt;\r\n    â¢ DevTools version 2.12.2&lt;br&gt;\r\n\r\nChecking Android licenses is taking an unexpectedly long time...&lt;br&gt;[â] Android toolchain - develop for Android devices (Android SDK version\r\n33.0.0-rc1)&lt;br&gt;\r\n    â¢ Android SDK at C:\\Users\\USER\\AppData\\Local\\Android\\sdk&lt;br&gt;\r\n    â¢ Platform android-32, build-tools 33.0.0-rc1&lt;br&gt;\r\n    â¢ Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java&lt;br&gt;\r\n    â¢ Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b01)&lt;br&gt;\r\n    â¢ All Android licenses accepted.&lt;br&gt;&lt;br&gt;\r\n\r\n[â] Chrome - develop for the web&lt;br&gt;\r\n    â¢ Chrome at C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe\r\n&lt;br&gt;&lt;br&gt;\r\n[X] Visual Studio - develop for Windows\r\n    X Visual Studio not installed; this is necessary for Windows development.&lt;br&gt;\r\n      Download at https://visualstudio.microsoft.com/downloads/.&lt;br&gt;\r\n      Please install the &quot;Desktop development with C++&quot; workload, including all of its default components\r\n&lt;br&gt;&lt;br&gt;\r\n[â] Android Studio (version 4.0)&lt;br&gt;\r\n    â¢ Android Studio at C:\\Program Files\\Android\\Android Studio&lt;br&gt;\r\n    â¢ Flutter plugin version 51.0.1&lt;br&gt;\r\n    â¢ Dart plugin version 193.7547&lt;br&gt;\r\n    â¢ Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b01)&lt;br&gt;\r\n\r\n[â] VS Code (version 1.73.1)&lt;br&gt;\r\n    â¢ VS Code at C:\\Users\\USER\\AppData\\Local\\Programs\\Microsoft VS Code&lt;br&gt;\r\n    â¢ Flutter extension version 3.54.0&lt;br&gt;\r\n\r\n[â] Connected device (3 available)&lt;br&gt;\r\n    â¢ Windows (desktop) â¢ windows â¢ windows-x64  &lt;br&gt;  â¢ Microsoft Windows [Version 10.0.19043.2130]&lt;br&gt;\r\n    â¢ Chrome (web)   â¢ chrome  â¢ web-javascript â¢ Google Chrome 108.0.5359.73&lt;br&gt;\r\n    â¢ Edge (web)        â¢ edge    â¢ web-javascript â¢ Microsoft Edge 107.0.1418.62\r\n&lt;br&gt;\r\n[â] HTTP Host Availability\r\n    â¢ All required HTTP hosts are available\r\n\r\n**I changed JDK Location in android studio \r\nJDK location: C:\\Program Files\\Java\\jdk-11.0.17\r\nbut not updated**","title":"Why is the Java version not updated in Android Studio still 1.8.0?","body":"<p>C:\\development\\flutter&gt; java -version\n<br>\njava version &quot;11.0.17&quot; 2022-10-18 LTS\n<br>\nJava(TM) SE Runtime Environment 18.9 (build 11.0.17+10-LTS-269)\n<br>\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.17+10-LTS-269, mixed mode)</p>\n<p>C:\\development\\flutter&gt;javac -version<br>\njavac 11.0.17</p>\n<p>C:\\development\\flutter&gt;flutter doctor -v <br><br></p>\n<p>[â] Flutter (Channel stable, 3.0.5, on Microsoft Windows [Version\n10.0.19043.2130], locale en-US)<br>\nâ¢ Flutter version 3.0.5 at C:\\development\\flutter<br>\nâ¢ Upstream repository <a href=\"https://github.com/flutter/flutter.git\" rel=\"nofollow noreferrer\">https://github.com/flutter/flutter.git</a><br>\nâ¢ Framework revision f1875d570e (5 months ago), 2022-07-13 11:24:16 -0700<br>\nâ¢ Engine revision e85ea0e79c<br>\nâ¢ Dart version 2.17.6<br>\nâ¢ DevTools version 2.12.2<br></p>\n<p>Checking Android licenses is taking an unexpectedly long time...<br>[â] Android toolchain - develop for Android devices (Android SDK version\n33.0.0-rc1)<br>\nâ¢ Android SDK at C:\\Users\\USER\\AppData\\Local\\Android\\sdk<br>\nâ¢ Platform android-32, build-tools 33.0.0-rc1<br>\nâ¢ Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java<br>\nâ¢ Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b01)<br>\nâ¢ All Android licenses accepted.<br><br></p>\n<p>[â] Chrome - develop for the web<br>\nâ¢ Chrome at C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe\n<br><br>\n[X] Visual Studio - develop for Windows\nX Visual Studio not installed; this is necessary for Windows development.<br>\nDownload at <a href=\"https://visualstudio.microsoft.com/downloads/\" rel=\"nofollow noreferrer\">https://visualstudio.microsoft.com/downloads/</a>.<br>\nPlease install the &quot;Desktop development with C++&quot; workload, including all of its default components\n<br><br>\n[â] Android Studio (version 4.0)<br>\nâ¢ Android Studio at C:\\Program Files\\Android\\Android Studio<br>\nâ¢ Flutter plugin version 51.0.1<br>\nâ¢ Dart plugin version 193.7547<br>\nâ¢ Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b01)<br></p>\n<p>[â] VS Code (version 1.73.1)<br>\nâ¢ VS Code at C:\\Users\\USER\\AppData\\Local\\Programs\\Microsoft VS Code<br>\nâ¢ Flutter extension version 3.54.0<br></p>\n<p>[â] Connected device (3 available)<br>\nâ¢ Windows (desktop) â¢ windows â¢ windows-x64  <br>  â¢ Microsoft Windows [Version 10.0.19043.2130]<br>\nâ¢ Chrome (web)   â¢ chrome  â¢ web-javascript â¢ Google Chrome 108.0.5359.73<br>\nâ¢ Edge (web)        â¢ edge    â¢ web-javascript â¢ Microsoft Edge 107.0.1418.62\n<br>\n[â] HTTP Host Availability\nâ¢ All required HTTP hosts are available</p>\n<p><strong>I changed JDK Location in android studio\nJDK location: C:\\Program Files\\Java\\jdk-11.0.17\nbut not updated</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1670323648,"post_id":74701141,"comment_id":131844752,"body_markdown":"Does this answer your question? [How do I convert a String to an int in Java?](https://stackoverflow.com/questions/5585779/how-do-i-convert-a-string-to-an-int-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5585779/how-do-i-convert-a-string-to-an-int-in-java\">How do I convert a String to an int in Java?</a>"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1670323655,"post_id":74701141,"comment_id":131844753,"body_markdown":"&quot;So im trying to cast List as int&quot; - no you&#39;re not, you&#39;re trying to cast a list *element* to `Integer`, and that element is a `String`.","body":"&quot;So im trying to cast List as int&quot; - no you&#39;re not, you&#39;re trying to cast a list <i>element</i> to <code>Integer</code>, and that element is a <code>String</code>."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1670323709,"post_id":74701141,"comment_id":131844779,"body_markdown":"You have String. If you want to convert those to int then you need to convert them. Casting doesn&#39;t do any conversion and you can only cast to something the Object already is. eG `Object obj = &quot;hey&quot;;` and `(String) obj` would work because the Object already is a String.","body":"You have String. If you want to convert those to int then you need to convert them. Casting doesn&#39;t do any conversion and you can only cast to something the Object already is. eG <code>Object obj = &quot;hey&quot;;</code> and <code>(String) obj</code> would work because the Object already is a String."},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1670323857,"post_id":74701141,"comment_id":131844840,"body_markdown":"This is why you want to use `List&lt;String&gt; = ...`, to get started. And PLEASE read about Java naming conventions - as is, your code is a pain to read :-)","body":"This is why you want to use <code>List&lt;String&gt; = ...</code>, to get started. And PLEASE read about Java naming conventions - as is, your code is a pain to read :-)"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":3,"creation_date":1670323907,"post_id":74701141,"comment_id":131844854,"body_markdown":"Don&#39;t use raw types either. Say what your List has. `List&lt;String&gt; b = new LinkedList&lt;&gt;();` or even better, `List&lt;Integer&gt; b = ...;` then you dont&#39; have to cast, you just have to convert your strings to integers when you put them in the list.","body":"Don&#39;t use raw types either. Say what your List has. <code>List&lt;String&gt; b = new LinkedList&lt;&gt;();</code> or even better, <code>List&lt;Integer&gt; b = ...;</code> then you dont&#39; have to cast, you just have to convert your strings to integers when you put them in the list."},{"owner":{"account_id":27163559,"reputation":1,"user_id":20701387,"display_name":"SantaClausSatan"},"score":0,"creation_date":1670324446,"post_id":74701141,"comment_id":131845032,"body_markdown":"@Gyro Gearless      The list contains both numbers and chars","body":"@Gyro Gearless      The list contains both numbers and chars"},{"owner":{"account_id":27163559,"reputation":1,"user_id":20701387,"display_name":"SantaClausSatan"},"score":0,"creation_date":1670324485,"post_id":74701141,"comment_id":131845055,"body_markdown":"Hence I cannot convert them to INT when im adding them to the list","body":"Hence I cannot convert them to INT when im adding them to the list"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1670330173,"post_id":74701141,"comment_id":131847065,"body_markdown":"You need to change this, `List&lt;String&gt; b = new LinkedList();` to `List&lt;String&gt; b = new LinkedList&lt;&gt;();` I&#39;m a bit surprised it compiles. Are you sure you&#39;re not just running an old version?","body":"You need to change this, <code>List&lt;String&gt; b = new LinkedList();</code> to <code>List&lt;String&gt; b = new LinkedList&lt;&gt;();</code> I&#39;m a bit surprised it compiles. Are you sure you&#39;re not just running an old version?"}],"answers":[{"comments":[{"owner":{"account_id":27163559,"reputation":1,"user_id":20701387,"display_name":"SantaClausSatan"},"score":0,"creation_date":1670324192,"post_id":74701235,"comment_id":131844946,"body_markdown":"num[i / 2] =Integer.parseInt((b.get(i));   \n\n  results in error &quot;The method parseInt(String) in the type Integer is not applicable for the arguments (Object)&quot;","body":"num[i / 2] =Integer.parseInt((b.get(i));       results in error &quot;The method parseInt(String) in the type Integer is not applicable for the arguments (Object)&quot;"},{"owner":{"account_id":26863484,"reputation":33,"user_id":20446580,"display_name":"Richu Andrews"},"score":0,"creation_date":1670324618,"post_id":74701235,"comment_id":131845099,"body_markdown":"Try changing List b = new LinkedList();  to List&lt;String&gt; b = new LinkedList();","body":"Try changing List b = new LinkedList();  to List&lt;String&gt; b = new LinkedList();"},{"owner":{"account_id":27163559,"reputation":1,"user_id":20701387,"display_name":"SantaClausSatan"},"score":0,"creation_date":1670324907,"post_id":74701235,"comment_id":131845192,"body_markdown":"error: incompatible types: String cannot be converted to Integer","body":"error: incompatible types: String cannot be converted to Integer"},{"owner":{"account_id":26863484,"reputation":33,"user_id":20446580,"display_name":"Richu Andrews"},"score":0,"creation_date":1670325704,"post_id":74701235,"comment_id":131845440,"body_markdown":"Add one more if before parsing like if(b.get(i) instance of Number){ num[i / 2] = Integer.parseInt((b.get(i));}","body":"Add one more if before parsing like if(b.get(i) instance of Number){ num[i / 2] = Integer.parseInt((b.get(i));}"},{"owner":{"account_id":27163559,"reputation":1,"user_id":20701387,"display_name":"SantaClausSatan"},"score":0,"creation_date":1670326521,"post_id":74701235,"comment_id":131845707,"body_markdown":"Incompatible conditional operand types String and Number","body":"Incompatible conditional operand types String and Number"},{"owner":{"account_id":26863484,"reputation":33,"user_id":20446580,"display_name":"Richu Andrews"},"score":0,"creation_date":1670326745,"post_id":74701235,"comment_id":131845790,"body_markdown":"Share the latest code snippet","body":"Share the latest code snippet"},{"owner":{"account_id":27163559,"reputation":1,"user_id":20701387,"display_name":"SantaClausSatan"},"score":0,"creation_date":1670327356,"post_id":74701235,"comment_id":131846006,"body_markdown":"Edited the post with the latest update","body":"Edited the post with the latest update"}],"tags":[],"owner":{"account_id":26863484,"reputation":33,"user_id":20446580,"display_name":"Richu Andrews"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670323928,"creation_date":1670323928,"answer_id":74701235,"question_id":74701141,"body_markdown":"you should use the parseInt method for converting string to integer.\r\n\r\nEg:\r\nnum[i / 2] = Integer.parseInt((b.get(i));\r\n","title":"Convert List&lt;object&gt; to int","body":"<p>you should use the parseInt method for converting string to integer.</p>\n<p>Eg:\nnum[i / 2] = Integer.parseInt((b.get(i));</p>\n"},{"comments":[{"owner":{"account_id":27163559,"reputation":1,"user_id":20701387,"display_name":"SantaClausSatan"},"score":0,"creation_date":1670328895,"post_id":74702288,"comment_id":131846567,"body_markdown":"Tried that, didn&#39;t work,  error: error: incompatible types: String cannot be converted to Integer","body":"Tried that, didn&#39;t work,  error: error: incompatible types: String cannot be converted to Integer"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1670328923,"post_id":74702288,"comment_id":131846576,"body_markdown":"My guess is: I think he&#39;s trying to check if the String only contains numbers with this `instanceof Number` check. He said his List might contain &quot;Strings and Numbers&quot; so I would guess that the List can contains numerical and non-numerical Strings. Why he doesn&#39;t simply search [How to check if a String is numeric in Java](https://stackoverflow.com/questions/1102891/how-to-check-if-a-string-is-numeric-in-java)  and seems to keep guessing code is beyond me however.","body":"My guess is: I think he&#39;s trying to check if the String only contains numbers with this <code>instanceof Number</code> check. He said his List might contain &quot;Strings and Numbers&quot; so I would guess that the List can contains numerical and non-numerical Strings. Why he doesn&#39;t simply search <a href=\"https://stackoverflow.com/questions/1102891/how-to-check-if-a-string-is-numeric-in-java\">How to check if a String is numeric in Java</a>  and seems to keep guessing code is beyond me however."},{"owner":{"account_id":3971160,"reputation":554,"user_id":6457336,"display_name":"John"},"score":2,"creation_date":1670329368,"post_id":74702288,"comment_id":131846767,"body_markdown":"@SantaClausSatan It is getting quite hard to help you because you aren&#39;t putting much effort into your question or responses. Please could you edit your question to include expected data (ie. what the contents of `b` is likely to be), a well-formatted version of your code, as well as compilation errors (highlighting the specific lines that are causing the errors).","body":"@SantaClausSatan It is getting quite hard to help you because you aren&#39;t putting much effort into your question or responses. Please could you edit your question to include expected data (ie. what the contents of <code>b</code> is likely to be), a well-formatted version of your code, as well as compilation errors (highlighting the specific lines that are causing the errors)."},{"owner":{"account_id":27163559,"reputation":1,"user_id":20701387,"display_name":"SantaClausSatan"},"score":0,"creation_date":1670329483,"post_id":74702288,"comment_id":131846817,"body_markdown":"EXAMPLE: The string will at one point contain {12, 21, 23, 20) and at another point {12, 24, 21, q}","body":"EXAMPLE: The string will at one point contain {12, 21, 23, 20) and at another point {12, 24, 21, q}"},{"owner":{"account_id":3971160,"reputation":554,"user_id":6457336,"display_name":"John"},"score":0,"creation_date":1670330716,"post_id":74702288,"comment_id":131847279,"body_markdown":"I&#39;ve edited the answer to include more information based on your examples. In future please remember that stackoverflow aren&#39;t just free programmers for you, and you should put some effort researching your problem and formatting/phrasing your question to include all relevant details. Have a look at https://stackoverflow.com/help/how-to-ask","body":"I&#39;ve edited the answer to include more information based on your examples. In future please remember that stackoverflow aren&#39;t just free programmers for you, and you should put some effort researching your problem and formatting/phrasing your question to include all relevant details. Have a look at <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}],"tags":[],"owner":{"account_id":3971160,"reputation":554,"user_id":6457336,"display_name":"John"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670330803,"creation_date":1670328704,"answer_id":74702288,"question_id":74701141,"body_markdown":"`List&lt;String&gt; b = new LinkedList();` means that the list `b` can only store strings.\r\n\r\nYou&#39;re then checking `if(b.get(i) instanceof Number){`, which won&#39;t work because `b` only contains strings, as it is of type `List&lt;String&gt;`. You&#39;re getting a compile time error because the compiler knows that it will always be false, because the `String` and `Number` aren&#39;t interchangable like that.\r\n\r\n`x instanceof SomeType` is used to see if `x`&#39;s type is castable to `SomeType`. So in your code it is checking if the type of `b.get(i)` is stored as a `Number`. `b.get(i)` will always be a string, and so `b.get(i) instanceof Number` will throw an exception, because regardless of what that string is (whether it is &quot;asdaasd&quot; or &quot;12&quot; or &quot;123asda&quot;) it will never be stored as a Number, as the value came from a `List&lt;String&gt;`.\r\n\r\nRemove the `instanceof Number` if statements as they are causing the errors you are seeing. If you are just expecting numerical strings (like &quot;12&quot;, &quot;41&quot;, &quot;123&quot; etc) in `b`, just use the `Integer.parseInt`. If you are expecting a mixture of numeric strings and non-numeric strings (like &quot;12&quot;, &quot;aaa&quot;, &quot;123aaa&quot;), then please look at this question: https://stackoverflow.com/questions/1102891/how-to-check-if-a-string-is-numeric-in-java . Despite what you said in your question, it is effective at explaining your problem.\r\n\r\n(Editted for clarity/based off comment below)","title":"Convert List&lt;object&gt; to int","body":"<p><code>List&lt;String&gt; b = new LinkedList();</code> means that the list <code>b</code> can only store strings.</p>\n<p>You're then checking <code>if(b.get(i) instanceof Number){</code>, which won't work because <code>b</code> only contains strings, as it is of type <code>List&lt;String&gt;</code>. You're getting a compile time error because the compiler knows that it will always be false, because the <code>String</code> and <code>Number</code> aren't interchangable like that.</p>\n<p><code>x instanceof SomeType</code> is used to see if <code>x</code>'s type is castable to <code>SomeType</code>. So in your code it is checking if the type of <code>b.get(i)</code> is stored as a <code>Number</code>. <code>b.get(i)</code> will always be a string, and so <code>b.get(i) instanceof Number</code> will throw an exception, because regardless of what that string is (whether it is &quot;asdaasd&quot; or &quot;12&quot; or &quot;123asda&quot;) it will never be stored as a Number, as the value came from a <code>List&lt;String&gt;</code>.</p>\n<p>Remove the <code>instanceof Number</code> if statements as they are causing the errors you are seeing. If you are just expecting numerical strings (like &quot;12&quot;, &quot;41&quot;, &quot;123&quot; etc) in <code>b</code>, just use the <code>Integer.parseInt</code>. If you are expecting a mixture of numeric strings and non-numeric strings (like &quot;12&quot;, &quot;aaa&quot;, &quot;123aaa&quot;), then please look at this question: <a href=\"https://stackoverflow.com/questions/1102891/how-to-check-if-a-string-is-numeric-in-java\">How to check if a String is numeric in Java</a> . Despite what you said in your question, it is effective at explaining your problem.</p>\n<p>(Editted for clarity/based off comment below)</p>\n"}],"owner":{"account_id":27163559,"reputation":1,"user_id":20701387,"display_name":"SantaClausSatan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1670333323,"answer_count":2,"score":-3,"last_activity_date":1670330803,"creation_date":1670323511,"question_id":74701141,"body_markdown":"//CODE SNIPPET\r\n\r\n    boolean ShouldContinue1 = true;\r\n    List&lt;String&gt; b = new LinkedList();\r\n    input.useDelimiter(&quot;//s&quot;);\r\n\r\n      \r\n\r\n\r\n\r\n\r\n      while (ShouldContinue1) {\r\n\r\n           String key = input.nextLine();\r\n\r\n           b.add(key);\r\n\r\n           int[] num = new int[(b.size()) / 2];\r\n           int[] denom = new int[(b.size()) / 2];\r\n\r\n       if (b_contains_string(key) == 1) {\r\n\r\n      \r\n// Problem\r\n\r\n           for (int i = 0; i &lt; b.size() - 1; i++) {\r\n\r\n                if (i % 2 == 0) {\r\n\r\n                   \r\n\r\n                       num[i / 2] = Integer.parseInt(b.get(i));\r\n                \r\n               } \r\n              else if (i % 2 != 0) {\r\n\r\n               \r\n\r\n            denom[i / 2] = Integer.parseInt(b.get(i));\r\n            \r\n          }\r\n        }\r\n      } \r\n      else {\r\n\r\n        for (int i = 0; i &lt; b.size(); i++) {\r\n\r\n          if (i % 2 == 0) {\r\n\r\n            \r\n//This line causes error\r\n\r\n                num[i / 2] = Integer.parseInt(b.get(i));\r\n\r\n// \r\n            \r\n          } \r\n          else if (i % 2 != 0) {\r\n\r\n            \r\n\r\n                 denom[i / 2] = Integer.parseInt(b.get(i));\r\n\r\n\r\n//Ends \r\n\r\n             \r\n\r\n           }\r\n        }\r\n\r\n      }\r\n\r\n//The error message I get (with specified lines)\r\n\r\n//Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;12 24 21 30&quot;\r\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65) at line\r\n\r\n//\r\n\r\n//\r\n\r\nNot a duplicate, other posts ineffective in explaining my problem","title":"Convert List&lt;object&gt; to int","body":"<p>//CODE SNIPPET</p>\n<pre><code>boolean ShouldContinue1 = true;\nList&lt;String&gt; b = new LinkedList();\ninput.useDelimiter(&quot;//s&quot;);\n\n  \n\n\n\n\n  while (ShouldContinue1) {\n\n       String key = input.nextLine();\n\n       b.add(key);\n\n       int[] num = new int[(b.size()) / 2];\n       int[] denom = new int[(b.size()) / 2];\n\n   if (b_contains_string(key) == 1) {\n\n  \n</code></pre>\n<p>// Problem</p>\n<pre><code>       for (int i = 0; i &lt; b.size() - 1; i++) {\n\n            if (i % 2 == 0) {\n\n               \n\n                   num[i / 2] = Integer.parseInt(b.get(i));\n            \n           } \n          else if (i % 2 != 0) {\n\n           \n\n        denom[i / 2] = Integer.parseInt(b.get(i));\n        \n      }\n    }\n  } \n  else {\n\n    for (int i = 0; i &lt; b.size(); i++) {\n\n      if (i % 2 == 0) {\n\n        \n</code></pre>\n<p>//This line causes error</p>\n<pre><code>            num[i / 2] = Integer.parseInt(b.get(i));\n</code></pre>\n<p>//</p>\n<pre><code>      } \n      else if (i % 2 != 0) {\n\n        \n\n             denom[i / 2] = Integer.parseInt(b.get(i));\n</code></pre>\n<p>//Ends</p>\n<pre><code>       }\n    }\n\n  }\n</code></pre>\n<p>//The error message I get (with specified lines)</p>\n<p>//Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;12 24 21 30&quot;\nat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65) at line</p>\n<p>//</p>\n<p>//</p>\n<p>Not a duplicate, other posts ineffective in explaining my problem</p>\n"},{"tags":["java","unit-testing","testing","mockito"],"comments":[{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":1,"creation_date":1670309381,"post_id":74698028,"comment_id":131840384,"body_markdown":"Your example has errors. **nonSettle** takes only 1 parameter and returns a `boolean`, but you pass 2 parameters and assign the result to a `LocalDate`. `LocalDate result = tested.nonSettle(2, LocalDate.of(2021, 12, 22));`; If you want help, please post correct and full examples.","body":"Your example has errors. <b>nonSettle</b> takes only 1 parameter and returns a <code>boolean</code>, but you pass 2 parameters and assign the result to a <code>LocalDate</code>. <code>LocalDate result = tested.nonSettle(2, LocalDate.of(2021, 12, 22));</code>; If you want help, please post correct and full examples."},{"owner":{"account_id":17197306,"reputation":119,"user_id":12449753,"display_name":"w97802"},"score":0,"creation_date":1670313937,"post_id":74698028,"comment_id":131841503,"body_markdown":"I am sorry about this, Iâve corrected the questions","body":"I am sorry about this, Iâve corrected the questions"}],"answers":[{"comments":[{"owner":{"account_id":17197306,"reputation":119,"user_id":12449753,"display_name":"w97802"},"score":0,"creation_date":1670333122,"post_id":74702645,"comment_id":131848178,"body_markdown":"Thank you! I have just tested the code and I am afraid there&#39;s still &quot;NullPointerException&quot; that traced down to the method &quot;nonSettle&quot;","body":"Thank you! I have just tested the code and I am afraid there&#39;s still &quot;NullPointerException&quot; that traced down to the method &quot;nonSettle&quot;"},{"owner":{"account_id":17197306,"reputation":119,"user_id":12449753,"display_name":"w97802"},"score":1,"creation_date":1670333816,"post_id":74702645,"comment_id":131848447,"body_markdown":"I am thinking what would be the reason for the NullPointerException. In fact, when we want to test `rollDays`, we will also call `nonSettle` within the same class, it seems like we don&#39;t need to mock it / do anything with `when`, `thenReturn` if we are calling method from the same class","body":"I am thinking what would be the reason for the NullPointerException. In fact, when we want to test <code>rollDays</code>, we will also call <code>nonSettle</code> within the same class, it seems like we don&#39;t need to mock it / do anything with <code>when</code>, <code>thenReturn</code> if we are calling method from the same class"},{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":1,"creation_date":1670370173,"post_id":74702645,"comment_id":131860335,"body_markdown":"Right, you don&#39;t need to mock it. You only mock external dependencies.","body":"Right, you don&#39;t need to mock it. You only mock external dependencies."}],"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670330700,"creation_date":1670330234,"answer_id":74702645,"question_id":74698028,"body_markdown":"Your example still has errors, but i managed to correct it. Your issue is with \r\n`Mockito.when(something.isCalled()).thenReturn(something);` `something` needs to be a mock, in your case, it&#39;s not, **tested** is an instance of `CalculateDateService`. You can read more about @Mock and @InjectMocks [here](https://www.geeksforgeeks.org/difference-between-mock-and-injectmocks-in-mockito/).\r\n\r\nSo, you just have to comment/remove your `Mockito.when()` statements, and everything will work. For example, this works:\r\n\r\n    package com.example;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    \r\n    import java.time.LocalDate;\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.junit.jupiter.MockitoExtension;\r\n    \r\n    @ExtendWith(MockitoExtension.class)\r\n    class CalculateDateServiceTest {\r\n    \t\r\n    \t@InjectMocks\r\n    \tprivate CalculateDateService tested;\r\n    \t\r\n    \t@Test\r\n    \tvoid testRollDays() {\r\n    \t\t\t\t\r\n        \tLocalDate result = tested.rollDays(2, LocalDate.of(2021, 12, 22));\r\n        \tLocalDate correctRolledDate = LocalDate.of(2021, 12, 24);\r\n        \tassertEquals(result, correctRolledDate);\r\n    \t}       \r\n    }\r\n\r\nUnit Test:\r\n\r\n    package com.example;\r\n    \r\n    import java.time.LocalDate;\r\n    \r\n    public class CalculateDateService {\r\n    \tLocalDate rollDays(int days, LocalDate date) {\r\n    \t\tint dir = days &gt; 0 ? 1 : -1;\r\n    \t\tfor(int numOfDays = Math.abs(days); closed(date) || numOfDays-- &gt; 0; date = date.plusDays((long) dir)) {\r\n    \r\n    \t\t}\r\n    \t\treturn date;\r\n    \t}\r\n    \r\n    \tBoolean closed(LocalDate date) {\r\n    \t\treturn this.nonSettle(date);\r\n    \t}\r\n    \r\n    \tBoolean nonSettle(LocalDate date) {\r\n    \t\tint year = LocalDate.now().getYear();\r\n    \t\tLocalDate dayBeforeChristmas = LocalDate.of(year, 12, 24);\r\n    \t\tLocalDate dayBeforenewYear = LocalDate.of(year, 12, 31);\r\n    \t\treturn (date.isEqual(dayBeforeChristmas) || date.isEqual(dayBeforenewYear));\r\n    \t}\r\n    }\r\n\r\nAlso, the `@InjectMocks` is not required, as there are no mocks to inject. You can just use `CalculateDateService tested = new CalculateDateService();` in your test method.\r\n\r\nBy the way, your for loop(although it works) and your method name are confusing. You might want to review/rewrite those.","title":"Unit test - InvalidUseOfMatchersException","body":"<p>Your example still has errors, but i managed to correct it. Your issue is with\n<code>Mockito.when(something.isCalled()).thenReturn(something);</code> <code>something</code> needs to be a mock, in your case, it's not, <strong>tested</strong> is an instance of <code>CalculateDateService</code>. You can read more about @Mock and @InjectMocks <a href=\"https://www.geeksforgeeks.org/difference-between-mock-and-injectmocks-in-mockito/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>So, you just have to comment/remove your <code>Mockito.when()</code> statements, and everything will work. For example, this works:</p>\n<pre><code>package com.example;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\nimport java.time.LocalDate;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\n@ExtendWith(MockitoExtension.class)\nclass CalculateDateServiceTest {\n    \n    @InjectMocks\n    private CalculateDateService tested;\n    \n    @Test\n    void testRollDays() {\n                \n        LocalDate result = tested.rollDays(2, LocalDate.of(2021, 12, 22));\n        LocalDate correctRolledDate = LocalDate.of(2021, 12, 24);\n        assertEquals(result, correctRolledDate);\n    }       \n}\n</code></pre>\n<p>Unit Test:</p>\n<pre><code>package com.example;\n\nimport java.time.LocalDate;\n\npublic class CalculateDateService {\n    LocalDate rollDays(int days, LocalDate date) {\n        int dir = days &gt; 0 ? 1 : -1;\n        for(int numOfDays = Math.abs(days); closed(date) || numOfDays-- &gt; 0; date = date.plusDays((long) dir)) {\n\n        }\n        return date;\n    }\n\n    Boolean closed(LocalDate date) {\n        return this.nonSettle(date);\n    }\n\n    Boolean nonSettle(LocalDate date) {\n        int year = LocalDate.now().getYear();\n        LocalDate dayBeforeChristmas = LocalDate.of(year, 12, 24);\n        LocalDate dayBeforenewYear = LocalDate.of(year, 12, 31);\n        return (date.isEqual(dayBeforeChristmas) || date.isEqual(dayBeforenewYear));\n    }\n}\n</code></pre>\n<p>Also, the <code>@InjectMocks</code> is not required, as there are no mocks to inject. You can just use <code>CalculateDateService tested = new CalculateDateService();</code> in your test method.</p>\n<p>By the way, your for loop(although it works) and your method name are confusing. You might want to review/rewrite those.</p>\n"}],"owner":{"account_id":17197306,"reputation":119,"user_id":12449753,"display_name":"w97802"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74702645,"answer_count":1,"score":1,"last_activity_date":1670330700,"creation_date":1670307112,"question_id":74698028,"body_markdown":"I am trying to write test for the function, `rollDays`. However, I am getting `InvalidUseOfMatchersException`.\r\n`rollDays` is inside `CalculateDateService`:\r\n```\r\npublic class CalculateDateService {\r\n \r\n    LocalDate rollDays(int days, LocalDate date, String mar) {\r\n        int dir = days &gt; 0 ? 1 : -1;\r\n        for(int numOfDays = Math.abs(days); closed(date, mar) || numOfDays-- &gt; 0; date = date.plusDays((long) dir)) {\r\n\r\n        }\r\n        return date;\r\n    }\r\n\r\n    Boolean closed(LocalDate date, String mar) {\r\n        return this.nonSettle(date);\r\n    }\r\n\r\n    Boolean nonSettle(LocalDate date) {\r\n        int year = LocalDate.now().getYear();\r\n        LocalDate dayBeforeChristmas = LocalDate.of(year, 12, 24);\r\n        LocalDate dayBeforenewYear = LocalDate.of(year, 12, 31);\r\n        return (date.isEqual(dayBeforeChristmas) || date.isEqual(dayBeforenewYear));\r\n    }\r\n}\r\n```\r\n\r\nThe test:\r\n\r\n```\r\n@InjectMocks\r\nprivate CalculateDateService tested;\r\n\r\n@Test\r\npublic void testRollDays() {\r\n\r\nMockito.when(tested.nonSettle(Mockito.any(LocalDate.class))).thenReturn(Boolean.FALSE);\r\nMockito.when(tested.nonSettle (LocalDate.of(2021,12,24))).thenReturn(Boolean.TRUE);\r\nLocalDate result = tested.rollDays(2, LocalDate.of(2021, 12, 22));\r\nLocalDate correctRolledDate = LocalDate.of(2021, 12, 25);\r\nassertEquals(result, correctRolledDate);\r\n}       \r\n\r\n```\r\n\r\n\r\nThe error I got is:\r\n```\r\norg.mockito.exceptions.misusing.InvalidUseOfMatchersException:\r\nInvalid use of argument matchers!\r\n``` \r\nand something along the line of âexpected matcher 0, but got 1â\r\n\r\nI tried updating the test part to be\r\n```\r\nMockito.when(tested.nonSettle(LocalDate.of(2022,12,22))).thenReturn(Boolean.FALSE);\r\nMockito.when(tested.nonSettle(LocalDate.of(2022,12,23))).thenReturn(Boolean.FALSE);\r\nMockito.when(tested.nonSettle(LocalDate.of(2022,12,25))).thenReturn(Boolean.FALSE);\r\nMockito.when(tested.nonSettle(LocalDate.of(2022,12,24))).thenReturn(Boolean.TRUE);\r\n```\r\nto avoid using matcher\r\nbut I got `NullPointerException` instead which happened for the line within `nonSettle` `LocalDate dayBeforeChristmas = LocalDate.of(year, 12, 24);`\r\nAny help will be greatly appreciated, thank you in advance.","title":"Unit test - InvalidUseOfMatchersException","body":"<p>I am trying to write test for the function, <code>rollDays</code>. However, I am getting <code>InvalidUseOfMatchersException</code>.\n<code>rollDays</code> is inside <code>CalculateDateService</code>:</p>\n<pre><code>public class CalculateDateService {\n \n    LocalDate rollDays(int days, LocalDate date, String mar) {\n        int dir = days &gt; 0 ? 1 : -1;\n        for(int numOfDays = Math.abs(days); closed(date, mar) || numOfDays-- &gt; 0; date = date.plusDays((long) dir)) {\n\n        }\n        return date;\n    }\n\n    Boolean closed(LocalDate date, String mar) {\n        return this.nonSettle(date);\n    }\n\n    Boolean nonSettle(LocalDate date) {\n        int year = LocalDate.now().getYear();\n        LocalDate dayBeforeChristmas = LocalDate.of(year, 12, 24);\n        LocalDate dayBeforenewYear = LocalDate.of(year, 12, 31);\n        return (date.isEqual(dayBeforeChristmas) || date.isEqual(dayBeforenewYear));\n    }\n}\n</code></pre>\n<p>The test:</p>\n<pre><code>@InjectMocks\nprivate CalculateDateService tested;\n\n@Test\npublic void testRollDays() {\n\nMockito.when(tested.nonSettle(Mockito.any(LocalDate.class))).thenReturn(Boolean.FALSE);\nMockito.when(tested.nonSettle (LocalDate.of(2021,12,24))).thenReturn(Boolean.TRUE);\nLocalDate result = tested.rollDays(2, LocalDate.of(2021, 12, 22));\nLocalDate correctRolledDate = LocalDate.of(2021, 12, 25);\nassertEquals(result, correctRolledDate);\n}       \n\n</code></pre>\n<p>The error I got is:</p>\n<pre><code>org.mockito.exceptions.misusing.InvalidUseOfMatchersException:\nInvalid use of argument matchers!\n</code></pre>\n<p>and something along the line of âexpected matcher 0, but got 1â</p>\n<p>I tried updating the test part to be</p>\n<pre><code>Mockito.when(tested.nonSettle(LocalDate.of(2022,12,22))).thenReturn(Boolean.FALSE);\nMockito.when(tested.nonSettle(LocalDate.of(2022,12,23))).thenReturn(Boolean.FALSE);\nMockito.when(tested.nonSettle(LocalDate.of(2022,12,25))).thenReturn(Boolean.FALSE);\nMockito.when(tested.nonSettle(LocalDate.of(2022,12,24))).thenReturn(Boolean.TRUE);\n</code></pre>\n<p>to avoid using matcher\nbut I got <code>NullPointerException</code> instead which happened for the line within <code>nonSettle</code> <code>LocalDate dayBeforeChristmas = LocalDate.of(year, 12, 24);</code>\nAny help will be greatly appreciated, thank you in advance.</p>\n"},{"tags":["python","java","jython","sikuli"],"answers":[{"tags":[],"owner":{"account_id":15776504,"reputation":4122,"user_id":11384184,"display_name":"Lenormju"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670330567,"creation_date":1670330567,"answer_id":74702727,"question_id":74691448,"body_markdown":"cf https://stackoverflow.com/questions/61678440/learning-how-to-use-jython-resourcewarning-error\r\n\r\nJython currently only works with Python 2, you can&#39;t use Python 3 with it (for now), hence the error.","title":"NameError: name &#39;ResourceWarning&#39; is not defined","body":"<p>cf <a href=\"https://stackoverflow.com/questions/61678440/learning-how-to-use-jython-resourcewarning-error\">Learning how to use Jython - ResourceWarning error</a></p>\n<p>Jython currently only works with Python 2, you can't use Python 3 with it (for now), hence the error.</p>\n"}],"owner":{"account_id":17954061,"reputation":135,"user_id":13046583,"display_name":"Learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74702727,"answer_count":1,"score":0,"last_activity_date":1670330567,"creation_date":1670258003,"question_id":74691448,"body_markdown":"**java version** &quot;1.8.0_311&quot;\r\n\r\n**Python** 3.10.8\r\n\r\n**Sikuli:-**\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;sikulixapi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sikulixapi&lt;/artifactId&gt;\r\n                &lt;scope&gt;system&lt;/scope&gt;\r\n                &lt;version&gt;2.0.5&lt;/version&gt;\r\n                &lt;systemPath&gt;${project.basedir}/sikulixapi-2.0.5.jar&lt;/systemPath&gt;\r\n            &lt;/dependency&gt;\r\n\r\nI am getting the below error while running a sample python program from java.\r\n\r\n    Exception in thread &quot;main&quot; Traceback (most recent call last):\r\n      File &quot;foo\\boo\\sikulixapi-2.0.5.jar\\Lib\\site.py&quot;, line 68, in &lt;module&gt;\r\n      File &quot;foo\\boo\\sikulixapi-2.0.5.jar\\Lib\\os.py&quot;, line 64, in &lt;module&gt;\r\n      File &quot;foo\\boo\\sikulixapi-2.0.5.jar\\Lib\\ntpath.py&quot;, line 12, in &lt;module&gt;\r\n      File &quot;foo\\boo\\sikulixapi-2.0.5.jar\\Lib\\warnings.py&quot;, line 395, in &lt;module&gt;\r\n      File &quot;foo\\boo\\sikulixapi-2.0.5.jar\\Lib\\warnings.py&quot;, line 395, in &lt;module&gt;\r\n      File &quot;__pyclasspath__/_warnings.py&quot;, line 105, in &lt;module&gt;\r\n    NameError: name &#39;ResourceWarning&#39; is not defined\r\n\r\n**Python:-**\r\n\r\n    class Hello:\r\n        __gui = None\r\n    \r\n        def __init__(self, gui):\r\n            self.__gui = gui\r\n    \r\n        def run(self):\r\n            print(&#39;Hello world!&#39;)\r\n\r\n**Java**\r\n\r\n    package Types.UserInterface.Utilities;\r\n    \r\n    import org.python.core.PyInstance;\r\n    import org.python.util.PythonInterpreter;\r\n    \r\n    \r\n    public class InterpreterExample {\r\n    \r\n        PythonInterpreter interpreter = null;\r\n\r\n\r\n    public InterpreterExample() {\r\n        PythonInterpreter.initialize(System.getProperties(),\r\n                System.getProperties(), new String[0]);\r\n\r\n        this.interpreter = new PythonInterpreter();\r\n    }\r\n\r\n    void execfile(final String fileName) {\r\n        this.interpreter.execfile(fileName);\r\n    }\r\n\r\n    PyInstance createClass(final String className, final String opts) {\r\n        return (PyInstance) this.interpreter.eval(className + &quot;(&quot; + opts + &quot;)&quot;);\r\n    }\r\n\r\n    public static void main(String gargs[]) {\r\n        InterpreterExample ie = new InterpreterExample();\r\n\r\n        ie.execfile(&quot;hello.py&quot;);\r\n\r\n        PyInstance hello = ie.createClass(&quot;Hello&quot;, &quot;None&quot;);\r\n\r\n        hello.invoke(&quot;run&quot;);\r\n    }\r\n    } \r\n\r\nNot sure why it is conflicting with sikuli classes while running the sample java program.\r\n\r\nNote: Python program works perfectly fine when they are executed directly. Problem raises only when the same program is called in java.\r\n\r\nCould someone give a direction as to what is the approach to fix this?","title":"NameError: name &#39;ResourceWarning&#39; is not defined","body":"<p><strong>java version</strong> &quot;1.8.0_311&quot;</p>\n<p><strong>Python</strong> 3.10.8</p>\n<p><strong>Sikuli:-</strong></p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;sikulixapi&lt;/groupId&gt;\n            &lt;artifactId&gt;sikulixapi&lt;/artifactId&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;version&gt;2.0.5&lt;/version&gt;\n            &lt;systemPath&gt;${project.basedir}/sikulixapi-2.0.5.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I am getting the below error while running a sample python program from java.</p>\n<pre><code>Exception in thread &quot;main&quot; Traceback (most recent call last):\n  File &quot;foo\\boo\\sikulixapi-2.0.5.jar\\Lib\\site.py&quot;, line 68, in &lt;module&gt;\n  File &quot;foo\\boo\\sikulixapi-2.0.5.jar\\Lib\\os.py&quot;, line 64, in &lt;module&gt;\n  File &quot;foo\\boo\\sikulixapi-2.0.5.jar\\Lib\\ntpath.py&quot;, line 12, in &lt;module&gt;\n  File &quot;foo\\boo\\sikulixapi-2.0.5.jar\\Lib\\warnings.py&quot;, line 395, in &lt;module&gt;\n  File &quot;foo\\boo\\sikulixapi-2.0.5.jar\\Lib\\warnings.py&quot;, line 395, in &lt;module&gt;\n  File &quot;__pyclasspath__/_warnings.py&quot;, line 105, in &lt;module&gt;\nNameError: name 'ResourceWarning' is not defined\n</code></pre>\n<p><strong>Python:-</strong></p>\n<pre><code>class Hello:\n    __gui = None\n\n    def __init__(self, gui):\n        self.__gui = gui\n\n    def run(self):\n        print('Hello world!')\n</code></pre>\n<p><strong>Java</strong></p>\n<pre><code>package Types.UserInterface.Utilities;\n\nimport org.python.core.PyInstance;\nimport org.python.util.PythonInterpreter;\n\n\npublic class InterpreterExample {\n\n    PythonInterpreter interpreter = null;\n\n\npublic InterpreterExample() {\n    PythonInterpreter.initialize(System.getProperties(),\n            System.getProperties(), new String[0]);\n\n    this.interpreter = new PythonInterpreter();\n}\n\nvoid execfile(final String fileName) {\n    this.interpreter.execfile(fileName);\n}\n\nPyInstance createClass(final String className, final String opts) {\n    return (PyInstance) this.interpreter.eval(className + &quot;(&quot; + opts + &quot;)&quot;);\n}\n\npublic static void main(String gargs[]) {\n    InterpreterExample ie = new InterpreterExample();\n\n    ie.execfile(&quot;hello.py&quot;);\n\n    PyInstance hello = ie.createClass(&quot;Hello&quot;, &quot;None&quot;);\n\n    hello.invoke(&quot;run&quot;);\n}\n} \n</code></pre>\n<p>Not sure why it is conflicting with sikuli classes while running the sample java program.</p>\n<p>Note: Python program works perfectly fine when they are executed directly. Problem raises only when the same program is called in java.</p>\n<p>Could someone give a direction as to what is the approach to fix this?</p>\n"},{"tags":["java","arrays","list","casting","queue"],"comments":[{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":4,"creation_date":1387561768,"post_id":20709178,"comment_id":31020004,"body_markdown":"-1 for posting it again and again.","body":"-1 for posting it again and again."}],"answers":[{"comments":[{"owner":{"account_id":3752948,"reputation":307,"user_id":3120023,"accept_rate":12,"display_name":"user3120023"},"score":0,"creation_date":1387572330,"post_id":20709244,"comment_id":31024581,"body_markdown":"Thanks for the quick reply :) When i do this, i fi try to index the newly created list like list1[2] i get an error saying &quot;The type of the expression must be an array type but it resolved to List&quot; Could you advise on this","body":"Thanks for the quick reply :) When i do this, i fi try to index the newly created list like list1[2] i get an error saying &quot;The type of the expression must be an array type but it resolved to List&quot; Could you advise on this"}],"tags":[],"owner":{"account_id":3757288,"reputation":1,"user_id":3123367,"display_name":"Batman"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670330263,"creation_date":1387561736,"answer_id":20709244,"question_id":20709178,"body_markdown":"`List list1 = (List) outputQueue;`","title":"Convert from Queue to Array","body":"<p><code>List list1 = (List) outputQueue;</code></p>\n"}],"owner":{"account_id":3752948,"reputation":307,"user_id":3120023,"accept_rate":12,"display_name":"user3120023"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2649,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1387562847,"answer_count":1,"score":-5,"last_activity_date":1670330263,"creation_date":1387561505,"question_id":20709178,"body_markdown":"I want to change a queue containing numbers and operators into an ArrayList. I am coding in Java.\r\n\r\nCurrently my Queue is defined as follows:\r\n\r\n    Queue outputQueue = new LinkedList();\r\nThe queue currently contains the following data:\r\n\r\n    [1, 9, 3, /, 4, 3, -, 2, /, *, +]\r\nI wish to do this mainly so i can use RPN to calculate the result of the calculation, and i need to be able to index elements in the array/\r\n\r\nIs there a way to do this?\r\n\r\nThanks in advance for any help :)","title":"Convert from Queue to Array","body":"<p>I want to change a queue containing numbers and operators into an ArrayList. I am coding in Java.</p>\n\n<p>Currently my Queue is defined as follows:</p>\n\n<pre><code>Queue outputQueue = new LinkedList();\n</code></pre>\n\n<p>The queue currently contains the following data:</p>\n\n<pre><code>[1, 9, 3, /, 4, 3, -, 2, /, *, +]\n</code></pre>\n\n<p>I wish to do this mainly so i can use RPN to calculate the result of the calculation, and i need to be able to index elements in the array/</p>\n\n<p>Is there a way to do this?</p>\n\n<p>Thanks in advance for any help :)</p>\n"},{"tags":["java","usb","delay","communication","dfu"],"answers":[{"tags":[],"owner":{"account_id":3750738,"reputation":1,"user_id":3118286,"display_name":"Bora Ciner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597233168,"creation_date":1597233168,"answer_id":63375973,"question_id":63030970,"body_markdown":"I solved the problem, do NOT poll connected USB devices, use Listener methods like attached or detached USB devices. Then the library starts to work well!","title":"javax.usb - syncSubmit causes a delay sometimes","body":"<p>I solved the problem, do NOT poll connected USB devices, use Listener methods like attached or detached USB devices. Then the library starts to work well!</p>\n"}],"owner":{"account_id":3750738,"reputation":1,"user_id":3118286,"display_name":"Bora Ciner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670329882,"creation_date":1595409756,"question_id":63030970,"body_markdown":"I&#39;m developing a java app which uses javax.usb library, It&#39;s working perfectly but sometimes when I push it hard,It starts to return late from function **syncSubmit**  .around 2 seconds instead of 10 ms.\r\n\r\nWhat can be the reason? I tried re initialize the javax usb library but It didn&#39;t change anything.\r\n\r\nThanks..\r\n\r\n        private int BootloaderGetStatus(UsbDevice device) {\r\n\t\ttry {\r\n\t\t\tbyte[] data_6 = new byte[6];\r\n\t\t\tbyte bmRequestType = (byte) ((BMREQUEST_DEVICE_TO_HOST &lt;&lt; 7) | (BMREQUEST_CLASS &lt;&lt; 5)\r\n\t\t\t\t\t| (BMREQUEST_TO_INTERFACE &lt;&lt; 0)); // device to host\r\n\t\t\tbyte bRequest = (byte) DFU_REQ_GETSTATUS;\r\n\t\t\tshort wValue = 0;\r\n\t\t\tshort wIndex = 0;\r\n\t\t\tUsbControlIrp controlIrp = device.createUsbControlIrp(bmRequestType, bRequest, wValue, wIndex);\r\n\t\t\t\r\n\t\t\tcontrolIrp.setData(data_6);\r\n\t\t\tdevice.syncSubmit(controlIrp);\r\n\t\t\treturn controlIrp.getActualLength();\r\n\t\t} catch (Exception e) {\r\n\t\t\tlog.error(e);\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t}\r\n\r\nLibrary-Version\r\n\r\n```\r\n\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.usb4java&lt;/groupId&gt;\r\n    &lt;artifactId&gt;usb4java&lt;/artifactId&gt;\r\n    &lt;version&gt;1.3.0&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n   &lt;dependency&gt;\r\n    &lt;groupId&gt;org.usb4java&lt;/groupId&gt;\r\n    &lt;artifactId&gt;usb4java-javax&lt;/artifactId&gt;\r\n    &lt;version&gt;1.3.0&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n```","title":"javax.usb - syncSubmit causes a delay sometimes","body":"<p>I'm developing a java app which uses javax.usb library, It's working perfectly but sometimes when I push it hard,It starts to return late from function <strong>syncSubmit</strong>  .around 2 seconds instead of 10 ms.</p>\n<p>What can be the reason? I tried re initialize the javax usb library but It didn't change anything.</p>\n<p>Thanks..</p>\n<pre><code>    private int BootloaderGetStatus(UsbDevice device) {\n    try {\n        byte[] data_6 = new byte[6];\n        byte bmRequestType = (byte) ((BMREQUEST_DEVICE_TO_HOST &lt;&lt; 7) | (BMREQUEST_CLASS &lt;&lt; 5)\n                | (BMREQUEST_TO_INTERFACE &lt;&lt; 0)); // device to host\n        byte bRequest = (byte) DFU_REQ_GETSTATUS;\n        short wValue = 0;\n        short wIndex = 0;\n        UsbControlIrp controlIrp = device.createUsbControlIrp(bmRequestType, bRequest, wValue, wIndex);\n        \n        controlIrp.setData(data_6);\n        device.syncSubmit(controlIrp);\n        return controlIrp.getActualLength();\n    } catch (Exception e) {\n        log.error(e);\n        return -1;\n    }\n}\n</code></pre>\n<p>Library-Version</p>\n<pre><code>\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.usb4java&lt;/groupId&gt;\n    &lt;artifactId&gt;usb4java&lt;/artifactId&gt;\n    &lt;version&gt;1.3.0&lt;/version&gt;\n  &lt;/dependency&gt;\n   &lt;dependency&gt;\n    &lt;groupId&gt;org.usb4java&lt;/groupId&gt;\n    &lt;artifactId&gt;usb4java-javax&lt;/artifactId&gt;\n    &lt;version&gt;1.3.0&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","json","gradle","command-line-arguments","gradlew"],"answers":[{"tags":[],"owner":{"account_id":17869276,"reputation":11,"user_id":12980938,"display_name":"Santhosh Kumar Sreeramoju"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670329569,"creation_date":1670329490,"answer_id":74702469,"question_id":70775630,"body_markdown":"Try defining args in the JavaExec of build script \r\n\r\n    task run(type:JavaExec) {\r\n        main = &quot;com.abc.xyz.Main&quot;\r\n        classpath = sourceSets.main.runtimeClasspath\r\n        args System.getProperty(&quot;args&quot;)\r\n        print(&quot;my args &quot;+args);\r\n    }\r\n\r\nand use gradle command - gradle run -Dargs=&quot;{\\&quot;name\\&quot;: \\&quot;xyz\\&quot;, \\&quot;id\\&quot;:\\&quot;123\\&quot;}&quot;\r\n","title":"Passing JSON (double-quoted elements and values) in Command Line Arguments in Gradle Java App on Windows","body":"<p>Try defining args in the JavaExec of build script</p>\n<pre><code>task run(type:JavaExec) {\n    main = &quot;com.abc.xyz.Main&quot;\n    classpath = sourceSets.main.runtimeClasspath\n    args System.getProperty(&quot;args&quot;)\n    print(&quot;my args &quot;+args);\n}\n</code></pre>\n<p>and use gradle command - gradle run -Dargs=&quot;{&quot;name&quot;: &quot;xyz&quot;, &quot;id&quot;:&quot;123&quot;}&quot;</p>\n"}],"owner":{"account_id":9021990,"reputation":361,"user_id":6722752,"accept_rate":29,"display_name":"Paul M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1670329569,"creation_date":1642615457,"question_id":70775630,"body_markdown":"I am trying to pass a JSON string command line argument into my Gradle Java app. The JSON parser is erroring because Gradle appears to be stripping the double-quotes in the JSON string. Take this code for example:\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        for (String arg : args) {\r\n            String msg = &quot;commandline arg: &quot; + arg;\r\n            System.out.println(msg);\r\n        }\r\n    }\r\n\r\n...and the following outputs:\r\n\r\n    &gt; java MyApp &#39;{&quot;firstName&quot;:&quot;Rocky&quot;, &quot;lastName&quot;:&quot;Balboa&quot;}&#39;\r\n    commandline arg: {firstName:Rocky, lastName:Balboa}\r\n\r\n    &gt; java MyApp &#39;{\\&quot;firstName\\&quot;:\\&quot;Rocky\\&quot;, \\&quot;lastName\\&quot;:\\&quot;Balboa\\&quot;}&#39;\r\n    commandline arg: {&quot;firstName&quot;:&quot;Rocky&quot;, &quot;lastName&quot;:&quot;Balboa&quot;}\r\n\r\nEscaping with backslashes works fine through the JVM. However, not so much through Gradle:\r\n\r\n    &gt; gradle clean execute -DmainClass=&#39;MyApp&#39; --args=&#39;{&quot;firstName&quot;:&quot;Rocky&quot;,&quot;lastName&quot;:&quot;Balboa&quot;}&#39;\r\n    commandline arg: {firstName:Rocky,lastName:Balboa}\r\n    \r\n    &gt; gradle clean execute -DmainClass=&#39;MyApp&#39; --args=&#39;{\\&quot;firstName\\&quot;:\\&quot;Rocky\\&quot;,\\&quot;lastName\\&quot;:\\&quot;Balboa\\&quot;}&#39;\r\n    commandline arg: {firstName:Rocky,lastName:Balboa}\r\n\r\nIs there a way to instruct Gradle to treat these double-quotes as literals?\r\n","title":"Passing JSON (double-quoted elements and values) in Command Line Arguments in Gradle Java App on Windows","body":"<p>I am trying to pass a JSON string command line argument into my Gradle Java app. The JSON parser is erroring because Gradle appears to be stripping the double-quotes in the JSON string. Take this code for example:</p>\n<pre><code>public static void main(String[] args)\n{\n    for (String arg : args) {\n        String msg = &quot;commandline arg: &quot; + arg;\n        System.out.println(msg);\n    }\n}\n</code></pre>\n<p>...and the following outputs:</p>\n<pre><code>&gt; java MyApp '{&quot;firstName&quot;:&quot;Rocky&quot;, &quot;lastName&quot;:&quot;Balboa&quot;}'\ncommandline arg: {firstName:Rocky, lastName:Balboa}\n\n&gt; java MyApp '{\\&quot;firstName\\&quot;:\\&quot;Rocky\\&quot;, \\&quot;lastName\\&quot;:\\&quot;Balboa\\&quot;}'\ncommandline arg: {&quot;firstName&quot;:&quot;Rocky&quot;, &quot;lastName&quot;:&quot;Balboa&quot;}\n</code></pre>\n<p>Escaping with backslashes works fine through the JVM. However, not so much through Gradle:</p>\n<pre><code>&gt; gradle clean execute -DmainClass='MyApp' --args='{&quot;firstName&quot;:&quot;Rocky&quot;,&quot;lastName&quot;:&quot;Balboa&quot;}'\ncommandline arg: {firstName:Rocky,lastName:Balboa}\n\n&gt; gradle clean execute -DmainClass='MyApp' --args='{\\&quot;firstName\\&quot;:\\&quot;Rocky\\&quot;,\\&quot;lastName\\&quot;:\\&quot;Balboa\\&quot;}'\ncommandline arg: {firstName:Rocky,lastName:Balboa}\n</code></pre>\n<p>Is there a way to instruct Gradle to treat these double-quotes as literals?</p>\n"},{"tags":["java","kubernetes"],"answers":[{"tags":[],"owner":{"account_id":2674978,"reputation":838,"user_id":2311578,"display_name":"user2311578"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670329553,"creation_date":1670267199,"answer_id":74693208,"question_id":74692461,"body_markdown":"The memory limit applies to the cgroup. So assuming you are using a JVM version 10+, where +UseContainerSupport is enabled by default, your JVMs max memory will be the configured percentage of the limit, i.e. if -XX:MaxRAMPercentage has a value of 100 then your max memory will be 2GB.\r\n\r\nMemory request is only used for scheduling of new pods. I.e. Kuberentes won&#39;t schedule a pod on a node that has less than the requested memory available. \r\n\r\nReference:\r\n\r\nhttps://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#how-pods-with-resource-limits-are-run","title":"-XX:MaxRAMPercentage with respect to K8S request and limit","body":"<p>The memory limit applies to the cgroup. So assuming you are using a JVM version 10+, where +UseContainerSupport is enabled by default, your JVMs max memory will be the configured percentage of the limit, i.e. if -XX:MaxRAMPercentage has a value of 100 then your max memory will be 2GB.</p>\n<p>Memory request is only used for scheduling of new pods. I.e. Kuberentes won't schedule a pod on a node that has less than the requested memory available.</p>\n<p>Reference:</p>\n<p><a href=\"https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#how-pods-with-resource-limits-are-run\" rel=\"nofollow noreferrer\">https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#how-pods-with-resource-limits-are-run</a></p>\n"}],"owner":{"account_id":16519,"reputation":10181,"user_id":36071,"accept_rate":68,"display_name":"Yoni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":795,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74693208,"answer_count":1,"score":3,"last_activity_date":1670329553,"creation_date":1670263254,"question_id":74692461,"body_markdown":"If I use -XX:MaxRAMPercentage for Java running in a container, and in the K8S definition I provide request and limit values for the container&#39;s memory, what will happen?\r\n\r\nFor example, if the request is 1GB and the limit 2GB, what will be the initial value for the JVM&#39;s max memory?\r\n","title":"-XX:MaxRAMPercentage with respect to K8S request and limit","body":"<p>If I use -XX:MaxRAMPercentage for Java running in a container, and in the K8S definition I provide request and limit values for the container's memory, what will happen?</p>\n<p>For example, if the request is 1GB and the limit 2GB, what will be the initial value for the JVM's max memory?</p>\n"},{"tags":["java","oracle","visual-studio-code","proxy","oracle-nosql"],"comments":[{"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"score":0,"creation_date":1653444653,"post_id":72359359,"comment_id":127852232,"body_markdown":"Can this help youï¼ \n https://www.oracle.com/database/technologies/appdev/dotnet/odtvscodequickstart.html","body":"Can this help youï¼   <a href=\"https://www.oracle.com/database/technologies/appdev/dotnet/odtvscodequickstart.html\" rel=\"nofollow noreferrer\">oracle.com/database/technologies/appdev/dotnet/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":21224220,"reputation":440,"user_id":15610190,"display_name":"Dario"},"score":0,"creation_date":1656604589,"post_id":72818711,"comment_id":128619118,"body_markdown":"Are you using Visual Studio on Windows? Can you confirm that you are trying to do a connection to on-premise with secure mode - SSL? &lt;- from your error message I am supposing that it is the case. Let me know if it works for you or if you need more details about how to implement the workaround.","body":"Are you using Visual Studio on Windows? Can you confirm that you are trying to do a connection to on-premise with secure mode - SSL? &lt;- from your error message I am supposing that it is the case. Let me know if it works for you or if you need more details about how to implement the workaround."}],"tags":[],"owner":{"account_id":21224220,"reputation":440,"user_id":15610190,"display_name":"Dario"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670329475,"creation_date":1656604338,"answer_id":72818711,"question_id":72359359,"body_markdown":"In a secure mode, the proxy requires an SSL Certificate and private key. You need to provide the certificate in order to use the Oracle NoSQL Database connector in vscode\r\n\r\nWithout the good certificate, you will have the following error:\r\n\r\n\r\n    NoSQLAuthorizationError: [REQUEST_TIMEOUT] Authorization error: \r\n    [operation timeout]: Failed to login to kvstore.  \r\n    Operation timed out, see the cause\r\n\r\nWe are supposed to use the certificate file text box to do it. \r\n[![enter image description here][1]][1]\r\n\r\nBut it seems that it is not working in Windows. I am able to reproduce the issue described here.\r\n\r\nIn the meantime, could you test one of the following workarounds?\r\n\r\n 1. file -&gt; Preferences -&gt; Settings -&gt; Application -&gt; Proxy and in the &quot;Proxy Support&quot; menu select &quot;off&quot;.\r\n 2. Add the self-signed certificate to the trusted root store in your Windows configuration (using Microsoft Management Console)\r\n 3. Set the following environment variable in your Windows configuration NODE_TLS_REJECT_UNAUTHORIZED=0\r\n\r\n**Note:** When the HTTP Proxy is not running or you cannot reach it, you will have the same error\r\n\r\n    Error fetching Tables : NoSQLAuthorizationError: [REQUEST_TIMEOUT]\r\n    Authorization error: [operation timeout]: Failed to login to kvstore. \r\n    Operation timed out, see the cause\r\n\r\nIt is only happening when using self-signed certificates.\r\n\r\n  [1]: https://i.stack.imgur.com/76w3v.png","title":"Oracle NoSQL Database connector in vscode gives NoSQLUnauthorized error","body":"<p>In a secure mode, the proxy requires an SSL Certificate and private key. You need to provide the certificate in order to use the Oracle NoSQL Database connector in vscode</p>\n<p>Without the good certificate, you will have the following error:</p>\n<pre><code>NoSQLAuthorizationError: [REQUEST_TIMEOUT] Authorization error: \n[operation timeout]: Failed to login to kvstore.  \nOperation timed out, see the cause\n</code></pre>\n<p>We are supposed to use the certificate file text box to do it.\n<a href=\"https://i.stack.imgur.com/76w3v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/76w3v.png\" alt=\"enter image description here\" /></a></p>\n<p>But it seems that it is not working in Windows. I am able to reproduce the issue described here.</p>\n<p>In the meantime, could you test one of the following workarounds?</p>\n<ol>\n<li>file -&gt; Preferences -&gt; Settings -&gt; Application -&gt; Proxy and in the &quot;Proxy Support&quot; menu select &quot;off&quot;.</li>\n<li>Add the self-signed certificate to the trusted root store in your Windows configuration (using Microsoft Management Console)</li>\n<li>Set the following environment variable in your Windows configuration NODE_TLS_REJECT_UNAUTHORIZED=0</li>\n</ol>\n<p><strong>Note:</strong> When the HTTP Proxy is not running or you cannot reach it, you will have the same error</p>\n<pre><code>Error fetching Tables : NoSQLAuthorizationError: [REQUEST_TIMEOUT]\nAuthorization error: [operation timeout]: Failed to login to kvstore. \nOperation timed out, see the cause\n</code></pre>\n<p>It is only happening when using self-signed certificates.</p>\n"}],"owner":{"account_id":23324280,"reputation":11,"user_id":17401679,"display_name":"Mugi Coder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670329475,"creation_date":1653379849,"question_id":72359359,"body_markdown":"Error fetching Tables : NoSQLAuthorizationError: [REQUEST_TIMEOUT] Authorization error: [operation timeout]: Failed to login to kvstore.  Operation timed out, see the cause","title":"Oracle NoSQL Database connector in vscode gives NoSQLUnauthorized error","body":"<p>Error fetching Tables : NoSQLAuthorizationError: [REQUEST_TIMEOUT] Authorization error: [operation timeout]: Failed to login to kvstore.  Operation timed out, see the cause</p>\n"},{"tags":["java","spring-boot","google-cloud-platform","google-cloud-functions","microservices"],"comments":[{"owner":{"account_id":25595925,"reputation":614,"user_id":19371701,"display_name":"Sarah Remo"},"score":0,"creation_date":1669768354,"post_id":74617862,"comment_id":131716919,"body_markdown":"Can you try this workaround on [github post](https://github.com/GoogleCloudPlatform/spring-cloud-gcp/issues/445#issuecomment-823578792)?","body":"Can you try this workaround on <a href=\"https://github.com/GoogleCloudPlatform/spring-cloud-gcp/issues/445#issuecomment-823578792\" rel=\"nofollow noreferrer\">github post</a>?"},{"owner":{"account_id":17108660,"reputation":1251,"user_id":12380096,"display_name":"AylaWinters"},"score":0,"creation_date":1669815799,"post_id":74617862,"comment_id":131728578,"body_markdown":"@SarahRemo, Thank you for this. I&#39;m not sure if my company wants to go the Cloud Run route, but I will definitely bring it up. Even if just as a workaround as you are suggesting","body":"@SarahRemo, Thank you for this. I&#39;m not sure if my company wants to go the Cloud Run route, but I will definitely bring it up. Even if just as a workaround as you are suggesting"}],"answers":[{"comments":[{"owner":{"account_id":17108660,"reputation":1251,"user_id":12380096,"display_name":"AylaWinters"},"score":0,"creation_date":1670353581,"post_id":74695026,"comment_id":131855787,"body_markdown":"Thank you so much for this! That did work and GCF allowed for the function to be deployed.  Thanks again!","body":"Thank you so much for this! That did work and GCF allowed for the function to be deployed.  Thanks again!"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1670367351,"post_id":74695026,"comment_id":131859717,"body_markdown":"You are very welcome @AylaWinters. That is nice!! I am very happy to hear that the answer was helpful.","body":"You are very welcome @AylaWinters. That is nice!! I am very happy to hear that the answer was helpful."}],"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670329035,"creation_date":1670278602,"answer_id":74695026,"question_id":74617862,"body_markdown":"Reviewing your source code repository, I think the issue can be caused because you need to reference the `spring-cloud-function-adapter-gcp` library as a dependency of the `spring-boot-maven-plugin` in addition to include it as a dependency in your `pom.xml` file:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;outputDirectory&gt;target/deploy&lt;/outputDirectory&gt;\r\n\t&lt;/configuration&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-function-adapter-gcp&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nAccording to the [Spring Cloud documentation](https://docs.spring.io/spring-cloud-function/docs/3.2.8/reference/html/spring-cloud-function.html#_project_dependencies):\r\n\r\n&gt; Notice that we also reference `spring-cloud-function-adapter-gcp` as a \r\n&gt; dependency of the `spring-boot-maven-plugin`. This is necessary because it \r\n&gt; modifies the plugin to package your function in the correct JAR format for \r\n&gt; deployment on Google Cloud Functions.\r\n\r\nIn addition, and although probably unrelated, consider remove your `maven-jar-plugin` configuration from your `pom.xml`: the `spring-boot-maven-plugin` already provides all the necessary functionality to generate the jar you need to deploy and the configuration provided by the `maven-jar-plugin` may be a cause of errors.\r\n\r\nOn the other hand, your `MANIFEST.MF` file looks fine to me and it is placed in the right location.","title":"trouble deploying to GCP Functions -GcfJarLauncher class not found","body":"<p>Reviewing your source code repository, I think the issue can be caused because you need to reference the <code>spring-cloud-function-adapter-gcp</code> library as a dependency of the <code>spring-boot-maven-plugin</code> in addition to include it as a dependency in your <code>pom.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;outputDirectory&gt;target/deploy&lt;/outputDirectory&gt;\n    &lt;/configuration&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-function-adapter-gcp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>According to the <a href=\"https://docs.spring.io/spring-cloud-function/docs/3.2.8/reference/html/spring-cloud-function.html#_project_dependencies\" rel=\"nofollow noreferrer\">Spring Cloud documentation</a>:</p>\n<blockquote>\n<p>Notice that we also reference <code>spring-cloud-function-adapter-gcp</code> as a\ndependency of the <code>spring-boot-maven-plugin</code>. This is necessary because it\nmodifies the plugin to package your function in the correct JAR format for\ndeployment on Google Cloud Functions.</p>\n</blockquote>\n<p>In addition, and although probably unrelated, consider remove your <code>maven-jar-plugin</code> configuration from your <code>pom.xml</code>: the <code>spring-boot-maven-plugin</code> already provides all the necessary functionality to generate the jar you need to deploy and the configuration provided by the <code>maven-jar-plugin</code> may be a cause of errors.</p>\n<p>On the other hand, your <code>MANIFEST.MF</code> file looks fine to me and it is placed in the right location.</p>\n"}],"owner":{"account_id":17108660,"reputation":1251,"user_id":12380096,"display_name":"AylaWinters"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":769,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74695026,"answer_count":1,"score":1,"last_activity_date":1670329035,"creation_date":1669742477,"question_id":74617862,"body_markdown":"I am trying to deploy a simple Rest API to Google Cloud Functions. Per [this documentation][1], I need the target to always be org.springframework.cloud.function.adapter.gcp.GcfJarLauncher\r\n\r\nHowever when I deploy it using the provided code, I get:\r\n```\r\nERROR: (gcloud.alpha.functions.deploy) OperationError: code=3, message=Build failed: \r\nbuild succeeded but did not produce the class &quot;org.springframework.cloud.function.adapter.gcp.GcfJarLauncher&quot; \r\nspecified as the function target: Error: class not found: org.springframework.cloud.function.adapter.gcp.GcfJarLauncher; \r\nError ID: d818fd83\r\n```\r\n\r\nHere is the code I am running in the Cloud CLI: \r\n```\r\ngcloud alpha functions deploy function-sample-gcp-http --entry-point org.springframework.cloud.function.adapter.gcp.GcfJarLauncher --runtime java11 --trigger-http --source target/deploy --memory 512MB\r\n```\r\n\r\n[Here my code repo][2] but I will include some relevant bits below\r\n\r\n\r\npom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.divr-fx-test&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;divr-function&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;name&gt;divr-function&lt;/name&gt;\r\n\t&lt;description&gt;Function testing for DIVR&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud-function.version&gt;4.0.0-SNAPSHOT&lt;/spring-cloud-function.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-cloud-function-web&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.2.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-cloud-starter-function-web&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.2.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-cloud-function-dependencies&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.2.8&lt;/version&gt;\r\n\t\t    &lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t      &lt;groupId&gt;com.google.cloud.functions&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;functions-framework-api&lt;/artifactId&gt;\r\n\t      &lt;version&gt;1.0.4&lt;/version&gt;\r\n\t      &lt;scope&gt;provided&lt;/scope&gt;\r\n\t    &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-cloud-function-adapter-gcp&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.2.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t      &lt;!-- Build an executable JAR --&gt;\r\n\t\t      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t      &lt;configuration&gt;\r\n\t\t        &lt;archive&gt;\r\n\t\t          &lt;manifest&gt;\r\n\t\t            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n\t\t            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n\t\t            &lt;mainClass&gt;com.mypackage.MyClass&lt;/mainClass&gt;\r\n\t\t          &lt;/manifest&gt;\r\n\t\t        &lt;/archive&gt;\r\n\t\t      &lt;/configuration&gt;\r\n\t    \t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;outputDirectory&gt;target/deploy&lt;/outputDirectory&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.cloud.functions&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;function-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration\r\n&lt;functionTarget&gt;org.springframework.cloud.function.adapter.gcp.GcfJarLauncher&lt;/functionTarget&gt;\r\n\t\t\t\t\t&lt;port&gt;8080&lt;/port&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nMain:\r\n```\r\npackage com.fkgcp;\r\n\r\nimport java.util.function.Function;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\n@SpringBootApplication\r\npublic class DivrFunctionApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DivrFunctionApplication.class, args);\r\n\t}\r\n\r\n\t\r\n    // this part I don&#39;t actually want to use, but it is present\r\n    // in every tutorial, so I included it to see if it would be \r\n    // triggered instead of my REST functions\r\n    @Bean \r\n\tpublic Function&lt;String, String&gt; uppercase() {\r\n\t    return value -&gt; value.toUpperCase();\r\n\t}\r\n}\r\n```\r\n\r\nAlso, I added a MANIFEST.MF, is it in the right location?\r\n```\r\ndivr-function/src/main/resources/META-INF/MANIFEST.MF\r\n```\r\nContents:\r\n```\r\nMain-Class: com.fkgcp.DivrFunctionApplication\r\n```\r\n\r\n\r\n\r\nWhat am I missing? \r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-function/reference/html/gcp.html#:~:text=The%20function%20target%20should%20always%20be%20set%20to%20org.springframework.cloud.function.adapter.gcp.GcfJarLauncher%3B%20this%20is%20an%20adapter%20class%20which%20acts%20as%20the%20entry%20point%20to%20your%20Spring%20Cloud%20Function%20from%20the%20Google%20Cloud%20Functions%20platform.\r\n  [2]: https://github.com/AylaWinters/divr-function","title":"trouble deploying to GCP Functions -GcfJarLauncher class not found","body":"<p>I am trying to deploy a simple Rest API to Google Cloud Functions. Per <a href=\"https://cloud.spring.io/spring-cloud-function/reference/html/gcp.html#:%7E:text=The%20function%20target%20should%20always%20be%20set%20to%20org.springframework.cloud.function.adapter.gcp.GcfJarLauncher%3B%20this%20is%20an%20adapter%20class%20which%20acts%20as%20the%20entry%20point%20to%20your%20Spring%20Cloud%20Function%20from%20the%20Google%20Cloud%20Functions%20platform.\" rel=\"nofollow noreferrer\">this documentation</a>, I need the target to always be org.springframework.cloud.function.adapter.gcp.GcfJarLauncher</p>\n<p>However when I deploy it using the provided code, I get:</p>\n<pre><code>ERROR: (gcloud.alpha.functions.deploy) OperationError: code=3, message=Build failed: \nbuild succeeded but did not produce the class &quot;org.springframework.cloud.function.adapter.gcp.GcfJarLauncher&quot; \nspecified as the function target: Error: class not found: org.springframework.cloud.function.adapter.gcp.GcfJarLauncher; \nError ID: d818fd83\n</code></pre>\n<p>Here is the code I am running in the Cloud CLI:</p>\n<pre><code>gcloud alpha functions deploy function-sample-gcp-http --entry-point org.springframework.cloud.function.adapter.gcp.GcfJarLauncher --runtime java11 --trigger-http --source target/deploy --memory 512MB\n</code></pre>\n<p><a href=\"https://github.com/AylaWinters/divr-function\" rel=\"nofollow noreferrer\">Here my code repo</a> but I will include some relevant bits below</p>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.divr-fx-test&lt;/groupId&gt;\n    &lt;artifactId&gt;divr-function&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;divr-function&lt;/name&gt;\n    &lt;description&gt;Function testing for DIVR&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud-function.version&gt;4.0.0-SNAPSHOT&lt;/spring-cloud-function.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-function-web&lt;/artifactId&gt;\n            &lt;version&gt;3.2.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-function-web&lt;/artifactId&gt;\n            &lt;version&gt;3.2.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-function-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;3.2.8&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;com.google.cloud.functions&lt;/groupId&gt;\n          &lt;artifactId&gt;functions-framework-api&lt;/artifactId&gt;\n          &lt;version&gt;1.0.4&lt;/version&gt;\n          &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-function-adapter-gcp&lt;/artifactId&gt;\n            &lt;version&gt;3.2.8&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n              &lt;!-- Build an executable JAR --&gt;\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n              &lt;configuration&gt;\n                &lt;archive&gt;\n                  &lt;manifest&gt;\n                    &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                    &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                    &lt;mainClass&gt;com.mypackage.MyClass&lt;/mainClass&gt;\n                  &lt;/manifest&gt;\n                &lt;/archive&gt;\n              &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;outputDirectory&gt;target/deploy&lt;/outputDirectory&gt;\n                &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.google.cloud.functions&lt;/groupId&gt;\n                &lt;artifactId&gt;function-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.9.1&lt;/version&gt;\n                &lt;configuration\n&lt;functionTarget&gt;org.springframework.cloud.function.adapter.gcp.GcfJarLauncher&lt;/functionTarget&gt;\n                    &lt;port&gt;8080&lt;/port&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Main:</p>\n<pre><code>package com.fkgcp;\n\nimport java.util.function.Function;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\npublic class DivrFunctionApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DivrFunctionApplication.class, args);\n    }\n\n    \n    // this part I don't actually want to use, but it is present\n    // in every tutorial, so I included it to see if it would be \n    // triggered instead of my REST functions\n    @Bean \n    public Function&lt;String, String&gt; uppercase() {\n        return value -&gt; value.toUpperCase();\n    }\n}\n</code></pre>\n<p>Also, I added a MANIFEST.MF, is it in the right location?</p>\n<pre><code>divr-function/src/main/resources/META-INF/MANIFEST.MF\n</code></pre>\n<p>Contents:</p>\n<pre><code>Main-Class: com.fkgcp.DivrFunctionApplication\n</code></pre>\n<p>What am I missing?</p>\n"},{"tags":["java","android","spinner"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1670268905,"post_id":74692769,"comment_id":131832735,"body_markdown":"`But when I call the setOnItemSelectedListener()` What do you mean? That statement sets a listener. If the listener is called depends on the user clicking on it.","body":"<code>But when I call the setOnItemSelectedListener()</code> What do you mean? That statement sets a listener. If the listener is called depends on the user clicking on it."},{"owner":{"account_id":15386099,"reputation":173,"user_id":11100115,"display_name":"Arham Nadeem"},"score":0,"creation_date":1670299255,"post_id":74692769,"comment_id":131838686,"body_markdown":"I mean that if I set the listener, shouldn&#39;t the ` onItemSelected() ` method get executed when I select something from the spinner?","body":"I mean that if I set the listener, shouldn&#39;t the ` onItemSelected() ` method get executed when I select something from the spinner?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1670311283,"post_id":74692769,"comment_id":131840808,"body_markdown":"Yes, it should.","body":"Yes, it should."},{"owner":{"account_id":15386099,"reputation":173,"user_id":11100115,"display_name":"Arham Nadeem"},"score":0,"creation_date":1670324057,"post_id":74692769,"comment_id":131844897,"body_markdown":"But it isn&#39;t. I have tried quite a lot of things but can&#39;t get it to work. Any help would be appreciated.","body":"But it isn&#39;t. I have tried quite a lot of things but can&#39;t get it to work. Any help would be appreciated."}],"owner":{"account_id":15386099,"reputation":173,"user_id":11100115,"display_name":"Arham Nadeem"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670329024,"creation_date":1670264885,"question_id":74692769,"body_markdown":"\r\n**UPDATE:**\r\nI have found a work around that isn&#39;t necessarily the solution, but has solved my problem. To my interpretation, I think the use of online database causes a little delay or something that when the `spinner.setOnItemSelectedListener()` is set the list passed to the adapter is empty. So to counter that, I set the listener in the `OnDataChange()` method of firebase (which was fetching the data from database and creating the list). After that it worked fine.\r\n\r\n\r\n\r\n\r\n\r\n\r\n**Original Question**\r\n\r\nI have a simple spinner inside a layout in xml, and I have a query that creates a String type array of the items I want to show in the spinner. The list is being created and the spinner shows the items. But when I call the `setOnItemSelectedListener()` on it, it is not getting executed.\r\n\r\nThis is the xml:\r\n```\r\n           &lt;RelativeLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    &gt;\r\n\r\n                    &lt;Spinner\r\n                        android:id=&quot;@+id/spinner_category_name_add_expense&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;24dp&quot;\r\n                        android:layout_alignParentEnd=&quot;true&quot; /&gt;\r\n                &lt;/RelativeLayout&gt;\r\n```\r\n\r\nThere are more widgets around it, I don&#39;t know if that matters.\r\n\r\nThis is the java file:\r\n\r\n```\r\npublic class AddExpense extends AppCompatActivity {\r\n\r\n    Spinner spinner_category_name_add_expense;\r\n    SharedPreferences sharedPreferences;\r\n    String userKey, userName, selected_cat;\r\n    DatabaseReference dbref;\r\n    ArrayList&lt;String&gt; categoryModelArrayList;\r\n    ArrayAdapter&lt;String&gt; spinnerAdapter;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_add_expense);\r\n        fetchSharedPreferences();\r\n        categoryModelArrayList = new ArrayList&lt;String&gt;();\r\n        spinner_category_name_add_expense = findViewById(R.id.spinner_category_name_add_expense);\r\n        createCategoryList();\r\n        addCategoriesToSpinner();\r\n        spinner_category_name_add_expense.setOnItemSelectedListener(new \r\n            AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                Toast.makeText(AddExpense.this, &quot;Selected&quot;, Toast.LENGTH_SHORT).show();\r\n                // not executing this \r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n                Toast.makeText(AddExpense.this, &quot;Not Selected&quot;, Toast.LENGTH_SHORT).show();\r\n                // nor this\r\n            }\r\n        });        \r\n    \r\n}\r\n\r\n    \r\n    }\r\n\r\n\r\n    private void fetchSharedPreferences() {\r\n        sharedPreferences = this.getSharedPreferences(&quot;shared_prefs&quot;, Context.MODE_PRIVATE);\r\n        userKey = sharedPreferences.getString(&quot;user_key&quot;, null);\r\n        \r\n    }\r\n\r\n// gets the data from firebase database, works as the ArrayList is populated\r\n    public void createCategoryList() {\r\n        String currentUserCategoriesPath = &quot;AssignmentUsers/&quot; + userKey + &quot;/userCategories&quot;;\r\n        dbref = FirebaseDatabase.getInstance().getReference(currentUserCategoriesPath);\r\n        dbref.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                int i = 0;\r\n                for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\r\n                    String categoryModel = snapshot.getKey();\r\n                    categoryModelArrayList.add(categoryModel);\r\n                    Log.d(&quot;firebase&quot;, String.valueOf(categoryModelArrayList.get(i)));\r\n                    i++;\r\n                }\r\n            }\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                Log.d(&quot;firebase&quot;, &quot;Error&quot;);\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    public void addCategoriesToSpinner() {\r\n        spinnerAdapter = new ArrayAdapter&lt;String&gt;(\r\n                this,\r\n                android.R.layout.simple_spinner_dropdown_item,\r\n                categoryModelArrayList\r\n        );\r\n\r\n        spinner_category_name_add_expense.setAdapter(spinnerAdapter);\r\n        spinnerAdapter.notifyDataSetChanged();\r\n\r\n    }\r\n}\r\n\r\n```","title":"Why is the spinner.setOnItemSelectedListener() not getting executed?","body":"<p><strong>UPDATE:</strong>\nI have found a work around that isn't necessarily the solution, but has solved my problem. To my interpretation, I think the use of online database causes a little delay or something that when the <code>spinner.setOnItemSelectedListener()</code> is set the list passed to the adapter is empty. So to counter that, I set the listener in the <code>OnDataChange()</code> method of firebase (which was fetching the data from database and creating the list). After that it worked fine.</p>\n<p><strong>Original Question</strong></p>\n<p>I have a simple spinner inside a layout in xml, and I have a query that creates a String type array of the items I want to show in the spinner. The list is being created and the spinner shows the items. But when I call the <code>setOnItemSelectedListener()</code> on it, it is not getting executed.</p>\n<p>This is the xml:</p>\n<pre><code>           &lt;RelativeLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    &gt;\n\n                    &lt;Spinner\n                        android:id=&quot;@+id/spinner_category_name_add_expense&quot;\n                        android:layout_width=&quot;wrap_content&quot;\n                        android:layout_height=&quot;24dp&quot;\n                        android:layout_alignParentEnd=&quot;true&quot; /&gt;\n                &lt;/RelativeLayout&gt;\n</code></pre>\n<p>There are more widgets around it, I don't know if that matters.</p>\n<p>This is the java file:</p>\n<pre><code>public class AddExpense extends AppCompatActivity {\n\n    Spinner spinner_category_name_add_expense;\n    SharedPreferences sharedPreferences;\n    String userKey, userName, selected_cat;\n    DatabaseReference dbref;\n    ArrayList&lt;String&gt; categoryModelArrayList;\n    ArrayAdapter&lt;String&gt; spinnerAdapter;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_add_expense);\n        fetchSharedPreferences();\n        categoryModelArrayList = new ArrayList&lt;String&gt;();\n        spinner_category_name_add_expense = findViewById(R.id.spinner_category_name_add_expense);\n        createCategoryList();\n        addCategoriesToSpinner();\n        spinner_category_name_add_expense.setOnItemSelectedListener(new \n            AdapterView.OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                Toast.makeText(AddExpense.this, &quot;Selected&quot;, Toast.LENGTH_SHORT).show();\n                // not executing this \n            }\n\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n                Toast.makeText(AddExpense.this, &quot;Not Selected&quot;, Toast.LENGTH_SHORT).show();\n                // nor this\n            }\n        });        \n    \n}\n\n    \n    }\n\n\n    private void fetchSharedPreferences() {\n        sharedPreferences = this.getSharedPreferences(&quot;shared_prefs&quot;, Context.MODE_PRIVATE);\n        userKey = sharedPreferences.getString(&quot;user_key&quot;, null);\n        \n    }\n\n// gets the data from firebase database, works as the ArrayList is populated\n    public void createCategoryList() {\n        String currentUserCategoriesPath = &quot;AssignmentUsers/&quot; + userKey + &quot;/userCategories&quot;;\n        dbref = FirebaseDatabase.getInstance().getReference(currentUserCategoriesPath);\n        dbref.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                int i = 0;\n                for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\n                    String categoryModel = snapshot.getKey();\n                    categoryModelArrayList.add(categoryModel);\n                    Log.d(&quot;firebase&quot;, String.valueOf(categoryModelArrayList.get(i)));\n                    i++;\n                }\n            }\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n                Log.d(&quot;firebase&quot;, &quot;Error&quot;);\n            }\n        });\n\n\n    }\n\n    public void addCategoriesToSpinner() {\n        spinnerAdapter = new ArrayAdapter&lt;String&gt;(\n                this,\n                android.R.layout.simple_spinner_dropdown_item,\n                categoryModelArrayList\n        );\n\n        spinner_category_name_add_expense.setAdapter(spinnerAdapter);\n        spinnerAdapter.notifyDataSetChanged();\n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","pdf","aspose.pdf"],"comments":[{"owner":{"account_id":5167138,"reputation":361,"user_id":4136788,"display_name":"Asad Ali"},"score":0,"creation_date":1670279353,"post_id":74691372,"comment_id":131835518,"body_markdown":"The requirement seems quite complex and we are afraid that Aspose.PDF does not offer any direct method to achieve it. However, we request you please create a post in our free support forum (https://forum.aspose.com/c/pdf) along with some more details like sample input/output files. We will try to assist you accordingly there. This is Asad Ali and I am Developer Evangelist at Aspose.","body":"The requirement seems quite complex and we are afraid that Aspose.PDF does not offer any direct method to achieve it. However, we request you please create a post in our free support forum (<a href=\"https://forum.aspose.com/c/pdf\" rel=\"nofollow noreferrer\">forum.aspose.com/c/pdf</a>) along with some more details like sample input/output files. We will try to assist you accordingly there. This is Asad Ali and I am Developer Evangelist at Aspose."}],"answers":[{"tags":[],"owner":{"account_id":1477633,"reputation":2421,"user_id":1387666,"display_name":"johnwhitington"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670328952,"creation_date":1670328952,"answer_id":74702342,"question_id":74691372,"body_markdown":"It depends whether you insist that the non-chosen content on a page be redacted or not. For example, if section 6.3.2 takes up the middle half of a page, do you care if the end of 6.3.1 and the beginning of 6.3.3 are shown in the output on the same page?\r\n\r\nIf you don&#39;t care, cpdf can do this easily. Just output the bookmark data as JSON:\r\n\r\n```\r\ncpdf -list-bookmarks-json -utf8 in.pdf &gt; marks.json\r\n```\r\n\r\nThen you can parse this JSON to show the list of bookmarks, and choose which pages to extract based on child bookmark page numbers.\r\n\r\nAs for redaction, you could use `-add-rectangle` or `-hard-box` to clean up the output based on the coordinates from the JSON bookmarks file, but that&#39;s not real redaction -- it just removes the content from view.","title":"Split PDF Into Separate Files By Child Bookmarks","body":"<p>It depends whether you insist that the non-chosen content on a page be redacted or not. For example, if section 6.3.2 takes up the middle half of a page, do you care if the end of 6.3.1 and the beginning of 6.3.3 are shown in the output on the same page?</p>\n<p>If you don't care, cpdf can do this easily. Just output the bookmark data as JSON:</p>\n<pre><code>cpdf -list-bookmarks-json -utf8 in.pdf &gt; marks.json\n</code></pre>\n<p>Then you can parse this JSON to show the list of bookmarks, and choose which pages to extract based on child bookmark page numbers.</p>\n<p>As for redaction, you could use <code>-add-rectangle</code> or <code>-hard-box</code> to clean up the output based on the coordinates from the JSON bookmarks file, but that's not real redaction -- it just removes the content from view.</p>\n"}],"owner":{"account_id":10966304,"reputation":1,"user_id":8517383,"display_name":"yesmanmx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670328952,"creation_date":1670257694,"question_id":74691372,"body_markdown":"I am trying to split PDF file (book) to multiple files by **child** bookmarks in code\r\n\r\nUse case: table of contents of a book is available for a user. User can select up to `n` sections (might be not sequential) to preview. Application need to extract this sections and merge into single preview PDF\r\n\r\nI found few tools, while looking into the solution in internet: Aspose, Spire (E-IceBlue), etc.\r\nAll of them can split PDF by pages (top bookmarks), but I need to split PDF by child bookmarks. It means, that area to extract **can be started and/or finished at the middle of the page**.\r\n\r\nIdeally to have abiliti to do this in java code, but if someone knows solution in any other programming language or CLI program - it also would be great","title":"Split PDF Into Separate Files By Child Bookmarks","body":"<p>I am trying to split PDF file (book) to multiple files by <strong>child</strong> bookmarks in code</p>\n<p>Use case: table of contents of a book is available for a user. User can select up to <code>n</code> sections (might be not sequential) to preview. Application need to extract this sections and merge into single preview PDF</p>\n<p>I found few tools, while looking into the solution in internet: Aspose, Spire (E-IceBlue), etc.\nAll of them can split PDF by pages (top bookmarks), but I need to split PDF by child bookmarks. It means, that area to extract <strong>can be started and/or finished at the middle of the page</strong>.</p>\n<p>Ideally to have abiliti to do this in java code, but if someone knows solution in any other programming language or CLI program - it also would be great</p>\n"},{"tags":["java","spring","oracle","serverless","tnsping"],"comments":[{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1669720989,"post_id":74613090,"comment_id":131702086,"body_markdown":"This sounds like it really isn&#39;t about `tnsping`, but about how to retrieve data from your LDAP server from Java?","body":"This sounds like it really isn&#39;t about <code>tnsping</code>, but about how to retrieve data from your LDAP server from Java?"},{"owner":{"account_id":22996031,"reputation":1,"user_id":17120789,"display_name":"PANTELIS"},"score":0,"creation_date":1669724614,"post_id":74613090,"comment_id":131703285,"body_markdown":"Yes, the end result is to get the information, tnsping is how I know to do it manually. If my API was running on a server with the oracle installed, I could have written code to execute the tnsping  with openSSH or something similar.","body":"Yes, the end result is to get the information, tnsping is how I know to do it manually. If my API was running on a server with the oracle installed, I could have written code to execute the tnsping  with openSSH or something similar."},{"owner":{"account_id":22996031,"reputation":1,"user_id":17120789,"display_name":"PANTELIS"},"score":0,"creation_date":1669728588,"post_id":74613090,"comment_id":131704715,"body_markdown":"I am trying to see if there is an elegant way, a library or something similar instead of me going to the server pulling the tnsname.ora file and trying to exact the information.","body":"I am trying to see if there is an elegant way, a library or something similar instead of me going to the server pulling the tnsname.ora file and trying to exact the information."},{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1669731136,"post_id":74613090,"comment_id":131705729,"body_markdown":"You might be able to adapt [this C# answer](https://stackoverflow.com/a/14586693/266304) to Java? I don&#39;t have an LDAP config to attempt that against...","body":"You might be able to adapt <a href=\"https://stackoverflow.com/a/14586693/266304\">this C# answer</a> to Java? I don&#39;t have an LDAP config to attempt that against..."}],"owner":{"account_id":22996031,"reputation":1,"user_id":17120789,"display_name":"PANTELIS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670328768,"creation_date":1669720057,"question_id":74613090,"body_markdown":"I am trying to perform tnsping to a server with java. I am trying to retrieve the port number and hostname of a database. \r\n\r\nLocally I have installed the oracle universal installer. I will do a tnsping with a name I get something like this: \r\n`C:\\oracle_db_home\\network\\admin\\sqlnet.ora\r\n\r\nUsed LDAP adapter to resolve the alias\r\nAttempting to contact (DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=amrpop000008656.test.com)(PORT=63000)))(CONNECT_DATA=(SERVICE_NAME=ia055653.test.com)))` \r\n\r\nnote: I don&#39;t have the tnsname.ora file in the server when I am executing this. sqlnet.ora and ldap.ora are configured to get it from another server.\r\n\r\nI am trying to create an api that when you will give it the name of the database(as it is in the tnsname.ora) it will return the hostname and the port. The tricky part is that this API will run on AWS lamda so there is no tnsping functionality where the API is running. \r\n\r\nI am using spring framework, so how do I utilize the sqlnet.ora and ldap.ora files that I have so I can get the response (DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=amrvop000008656.test.com)(PORT=63000)))(CONNECT_DATA=(SERVICE_NAME=ia055653.test.com))) with java?\r\n \r\n\r\nExecuting an SSH command to perform tnsping is not doable in serverless where you can&#39;t install oracle. ","title":"Perform tnsping with java","body":"<p>I am trying to perform tnsping to a server with java. I am trying to retrieve the port number and hostname of a database.</p>\n<p>Locally I have installed the oracle universal installer. I will do a tnsping with a name I get something like this:\n`C:\\oracle_db_home\\network\\admin\\sqlnet.ora</p>\n<p>Used LDAP adapter to resolve the alias\nAttempting to contact (DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=amrpop000008656.test.com)(PORT=63000)))(CONNECT_DATA=(SERVICE_NAME=ia055653.test.com)))`</p>\n<p>note: I don't have the tnsname.ora file in the server when I am executing this. sqlnet.ora and ldap.ora are configured to get it from another server.</p>\n<p>I am trying to create an api that when you will give it the name of the database(as it is in the tnsname.ora) it will return the hostname and the port. The tricky part is that this API will run on AWS lamda so there is no tnsping functionality where the API is running.</p>\n<p>I am using spring framework, so how do I utilize the sqlnet.ora and ldap.ora files that I have so I can get the response (DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=amrvop000008656.test.com)(PORT=63000)))(CONNECT_DATA=(SERVICE_NAME=ia055653.test.com))) with java?</p>\n<p>Executing an SSH command to perform tnsping is not doable in serverless where you can't install oracle.</p>\n"},{"tags":["java","sql","regex","parsing"],"comments":[{"owner":{"account_id":294495,"reputation":32500,"user_id":598420,"accept_rate":91,"display_name":"Anirudha"},"score":1,"creation_date":1381409239,"post_id":19296009,"comment_id":28574092,"body_markdown":"Use sql parser like [jsqlparser](http://jsqlparser.sourceforge.net/home.php)..Don&#39;t use regex..There are too many cases to cover and regex would complicate your code..","body":"Use sql parser like <a href=\"http://jsqlparser.sourceforge.net/home.php\" rel=\"nofollow noreferrer\">jsqlparser</a>..Don&#39;t use regex..There are too many cases to cover and regex would complicate your code.."},{"owner":{"account_id":3278785,"reputation":2285,"user_id":2759934,"display_name":"sunysen"},"score":0,"creation_date":1381409451,"post_id":19296009,"comment_id":28574207,"body_markdown":"What do you use the database","body":"What do you use the database"},{"owner":{"account_id":137183,"reputation":4538,"user_id":341191,"accept_rate":78,"display_name":"Sammy"},"score":0,"creation_date":1383085239,"post_id":19296009,"comment_id":29212780,"body_markdown":"@ Anirudh, can you post your comment as an answer so I can accept it :)","body":"@ Anirudh, can you post your comment as an answer so I can accept it :)"},{"owner":{"account_id":3902605,"reputation":6480,"user_id":3230038,"accept_rate":68,"display_name":"Leo"},"score":0,"creation_date":1391652423,"post_id":19296009,"comment_id":32620812,"body_markdown":"maybe p6spy could help too, but I could not really find their page (although you still can download it from sourceforge)","body":"maybe p6spy could help too, but I could not really find their page (although you still can download it from sourceforge)"}],"answers":[{"tags":[],"owner":{"account_id":3125039,"reputation":564,"user_id":2644074,"accept_rate":75,"display_name":"Josh T"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1382992639,"creation_date":1382992639,"answer_id":19644649,"question_id":19296009,"body_markdown":"The correct answer depends on how much you want to replace. Something like:\r\n\r\n    [0-9]{3}-?[0-9]{2}-?[0-9]{4}\r\n\r\nwill replace social security numbers pretty well. I always take regex code to \r\n\r\n[regexpal.com][1]\r\n\r\nto tweak it and work out bugs.\r\n\r\nIf you need to replace tons of sensitive information though, and if there are a lot of cases, definitely start looking into using a parser to parse the SQL query string. (such as jsqlparser, as Anirudh recommended.)\r\n\r\n\r\n  [1]: http://www.regexpal.com","title":"Replace Parameters in SQL query text with XXXXX","body":"<p>The correct answer depends on how much you want to replace. Something like:</p>\n\n<pre><code>[0-9]{3}-?[0-9]{2}-?[0-9]{4}\n</code></pre>\n\n<p>will replace social security numbers pretty well. I always take regex code to </p>\n\n<p><a href=\"http://www.regexpal.com\" rel=\"nofollow\">regexpal.com</a></p>\n\n<p>to tweak it and work out bugs.</p>\n\n<p>If you need to replace tons of sensitive information though, and if there are a lot of cases, definitely start looking into using a parser to parse the SQL query string. (such as jsqlparser, as Anirudh recommended.)</p>\n"},{"tags":[],"owner":{"account_id":3971227,"reputation":8507,"user_id":3275788,"display_name":"wumpz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1391645632,"creation_date":1391645632,"answer_id":21591457,"question_id":19296009,"body_markdown":"Using JSQLParser (V0.8.9) this is a solution for your problem:\r\n\r\n    String sql =&quot;SELECT NAME, ADDRESS, COL1 FROM USER WHERE SSN IN (&#39;11111111111111&#39;, &#39;22222222222222&#39;);&quot;;\r\n    Select select = (Select) CCJSqlParserUtil.parse(sql);\r\n        \r\n    //Start of value modification\r\n    StringBuilder buffer = new StringBuilder();\r\n    ExpressionDeParser expressionDeParser = new ExpressionDeParser() {\r\n\r\n        @Override\r\n        public void visit(StringValue stringValue) {\r\n            this.getBuffer().append(&quot;XXXX&quot;);\r\n        }\r\n            \r\n    };\r\n    SelectDeParser deparser = new SelectDeParser(expressionDeParser,buffer );\r\n    expressionDeParser.setSelectVisitor(deparser);\r\n    expressionDeParser.setBuffer(buffer);\r\n    select.getSelectBody().accept(deparser);\r\n    //End of value modification \r\n        \r\n    System.out.println(buffer.toString());\r\n    //Result is: SELECT NAME, ADDRESS, COL1 FROM USER WHERE SSN IN (XXXX, XXXX)\r\n\r\nThis replaces all found String values within your SQL. To replace other types of data e.g. Long values, override the corresponding visit method in `ExpressionDeParser`.\r\n\r\nDon&#39;t use regexp in this case. It turns out quickly to be hard maintainable.","title":"Replace Parameters in SQL query text with XXXXX","body":"<p>Using JSQLParser (V0.8.9) this is a solution for your problem:</p>\n\n<pre><code>String sql =\"SELECT NAME, ADDRESS, COL1 FROM USER WHERE SSN IN ('11111111111111', '22222222222222');\";\nSelect select = (Select) CCJSqlParserUtil.parse(sql);\n\n//Start of value modification\nStringBuilder buffer = new StringBuilder();\nExpressionDeParser expressionDeParser = new ExpressionDeParser() {\n\n    @Override\n    public void visit(StringValue stringValue) {\n        this.getBuffer().append(\"XXXX\");\n    }\n\n};\nSelectDeParser deparser = new SelectDeParser(expressionDeParser,buffer );\nexpressionDeParser.setSelectVisitor(deparser);\nexpressionDeParser.setBuffer(buffer);\nselect.getSelectBody().accept(deparser);\n//End of value modification \n\nSystem.out.println(buffer.toString());\n//Result is: SELECT NAME, ADDRESS, COL1 FROM USER WHERE SSN IN (XXXX, XXXX)\n</code></pre>\n\n<p>This replaces all found String values within your SQL. To replace other types of data e.g. Long values, override the corresponding visit method in <code>ExpressionDeParser</code>.</p>\n\n<p>Don't use regexp in this case. It turns out quickly to be hard maintainable.</p>\n"},{"tags":[],"owner":{"account_id":6329763,"reputation":1,"user_id":4914992,"display_name":"Pandi Palanichamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494987680,"creation_date":1494987680,"answer_id":44014448,"question_id":19296009,"body_markdown":"String sqlDebit = select * from table where and billing_cycle_start_date between :startDate and :endDate\r\n\r\njava:\r\n\r\nsqlDebit= sqlDebit.replaceAll(&quot;:startDate &quot;, &quot;&quot;+startDate).replaceAll(&quot;:endDate&quot;, &quot;&quot;+endDate);","title":"Replace Parameters in SQL query text with XXXXX","body":"<p>String sqlDebit = select * from table where and billing_cycle_start_date between :startDate and :endDate</p>\n\n<p>java:</p>\n\n<p>sqlDebit= sqlDebit.replaceAll(\":startDate \", \"\"+startDate).replaceAll(\":endDate\", \"\"+endDate);</p>\n"},{"comments":[{"owner":{"account_id":1529456,"reputation":2010,"user_id":2091585,"accept_rate":42,"display_name":"user67275"},"score":0,"creation_date":1670312470,"post_id":74684153,"comment_id":131841107,"body_markdown":"Please add some explanation of your code.","body":"Please add some explanation of your code."}],"tags":[],"owner":{"account_id":22996031,"reputation":1,"user_id":17120789,"display_name":"PANTELIS"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670328520,"creation_date":1670221664,"answer_id":74684153,"question_id":19296009,"body_markdown":"With prepare statement you can replace &quot;?&quot; in your query string with your value. Use number to specify which &quot;?&quot; you are referring too. They go by order from right to left. \r\n\r\nFor example: &quot;SELECT LastName, FirstName FROM Person.Contact WHERE LastName = ? and FirstName = ?&quot;\r\n\r\n   pstmt.setString(1, &quot;LastNameValue&quot;);\r\n   pstmt.setString(2, &quot;FirstNameValue&quot;);\r\nsee full example below:\r\n   \r\n      public static void executeStatement(Connection con) {\r\n            try(PreparedStatement pstmt = con.prepareStatement(&quot;SELECT LastName, FirstName FROM Person.Contact WHERE LastName = ?&quot;);) {\r\n                pstmt.setString(1, &quot;Smith&quot;);\r\n                ResultSet rs = pstmt.executeQuery();\r\n        \r\n                while (rs.next()) {\r\n                    System.out.println(rs.getString(&quot;LastName&quot;) + &quot;, &quot; + rs.getString(&quot;FirstName&quot;));\r\n                }\r\n            }\r\n            // Handle any errors that may have occurred.\r\n            catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }","title":"Replace Parameters in SQL query text with XXXXX","body":"<p>With prepare statement you can replace &quot;?&quot; in your query string with your value. Use number to specify which &quot;?&quot; you are referring too. They go by order from right to left.</p>\n<p>For example: &quot;SELECT LastName, FirstName FROM Person.Contact WHERE LastName = ? and FirstName = ?&quot;</p>\n<p>pstmt.setString(1, &quot;LastNameValue&quot;);\npstmt.setString(2, &quot;FirstNameValue&quot;);\nsee full example below:</p>\n<pre><code>  public static void executeStatement(Connection con) {\n        try(PreparedStatement pstmt = con.prepareStatement(&quot;SELECT LastName, FirstName FROM Person.Contact WHERE LastName = ?&quot;);) {\n            pstmt.setString(1, &quot;Smith&quot;);\n            ResultSet rs = pstmt.executeQuery();\n    \n            while (rs.next()) {\n                System.out.println(rs.getString(&quot;LastName&quot;) + &quot;, &quot; + rs.getString(&quot;FirstName&quot;));\n            }\n        }\n        // Handle any errors that may have occurred.\n        catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":137183,"reputation":4538,"user_id":341191,"accept_rate":78,"display_name":"Sammy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":21591457,"answer_count":4,"score":0,"last_activity_date":1670328520,"creation_date":1381408813,"question_id":19296009,"body_markdown":"I m writing a small utility that captures and logs SQL statements, but will have to remove sensitive data from the Query text and replace with with some dummy text (i.e:XXXXX).\r\n\r\nWhat is a good way to parse the SQL query in java and replace parameters value?\r\n\r\nfor example: \r\n\r\nreplace \r\n\r\n    SELECT NAME, ADDRESS, .... FROM USER WHERE SSN IN (&#39;11111111111111&#39;, &#39;22222222222222&#39;);\r\n\r\nwith\r\n\r\n    SELECT NAME, ADDRESS, .... FROM USER WHERE SSN IN (?, ?);\r\n","title":"Replace Parameters in SQL query text with XXXXX","body":"<p>I m writing a small utility that captures and logs SQL statements, but will have to remove sensitive data from the Query text and replace with with some dummy text (i.e:XXXXX).</p>\n\n<p>What is a good way to parse the SQL query in java and replace parameters value?</p>\n\n<p>for example: </p>\n\n<p>replace </p>\n\n<pre><code>SELECT NAME, ADDRESS, .... FROM USER WHERE SSN IN ('11111111111111', '22222222222222');\n</code></pre>\n\n<p>with</p>\n\n<pre><code>SELECT NAME, ADDRESS, .... FROM USER WHERE SSN IN (?, ?);\n</code></pre>\n"},{"tags":["java","design-patterns","locking","singleton","double-checked-locking"],"comments":[{"owner":{"account_id":237126,"reputation":604242,"user_id":505088,"accept_rate":91,"display_name":"David Heffernan"},"score":7,"creation_date":1319234352,"post_id":7855700,"comment_id":9581177,"body_markdown":"I thought double checked locking was broken, did somebody fix it?","body":"I thought double checked locking was broken, did somebody fix it?"},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":4,"creation_date":1319234356,"post_id":7855700,"comment_id":9581180,"body_markdown":"For what it&#39;s worth, I found Head First design patterns to be a horrible book to learn from. As I look back on it, it makes perfect sense now that I&#39;ve learned the patterns elsewhere, but to learn without knowing the patterns it really did not serve it&#39;s purpose. But it&#39;s very popular, so perhaps it was just me being dense. :-)","body":"For what it&#39;s worth, I found Head First design patterns to be a horrible book to learn from. As I look back on it, it makes perfect sense now that I&#39;ve learned the patterns elsewhere, but to learn without knowing the patterns it really did not serve it&#39;s purpose. But it&#39;s very popular, so perhaps it was just me being dense. :-)"},{"owner":{"account_id":5350,"reputation":19178,"user_id":8563,"accept_rate":50,"display_name":"Nathan Feger"},"score":0,"creation_date":1319234680,"post_id":7855700,"comment_id":9581244,"body_markdown":"@DavidHeffernan I have seen this example used as the one way in which the jvm can be trusted to do the DCL.","body":"@DavidHeffernan I have seen this example used as the one way in which the jvm can be trusted to do the DCL."},{"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"score":0,"creation_date":1319235040,"post_id":7855700,"comment_id":9581312,"body_markdown":"FWIW, on an x86 system a volatile Read-Read is supposed to result in a no-op. In fact, the only operation that requires a fence for memory consistency is a volatile Write-Read. So if you really only write the value once, then there should be minimal impact. I&#39;ve not seen anyone actually benchmark this and think the result would be interesting!","body":"FWIW, on an x86 system a volatile Read-Read is supposed to result in a no-op. In fact, the only operation that requires a fence for memory consistency is a volatile Write-Read. So if you really only write the value once, then there should be minimal impact. I&#39;ve not seen anyone actually benchmark this and think the result would be interesting!"},{"owner":{"account_id":271709,"reputation":8427,"user_id":562388,"accept_rate":100,"display_name":"alf"},"score":0,"creation_date":1319236591,"post_id":7855700,"comment_id":9581568,"body_markdown":"@DavidHeffernan for all practical reasons, it&#39;s still broken. It&#39;s better with `volatile` (as in, &quot;won&#39;t screw your program&quot;), but then you don&#39;t really win much.","body":"@DavidHeffernan for all practical reasons, it&#39;s still broken. It&#39;s better with <code>volatile</code> (as in, &quot;won&#39;t screw your program&quot;), but then you don&#39;t really win much."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1319236675,"post_id":7855700,"comment_id":9581582,"body_markdown":"@TimBender Well obviously we only have an effect for write-read (if all we do is read, it&#39;s rather uninteresting which identical copy we&#39;re reading), but &quot;Only rarely results in an error&quot; isn&#39;t much helpful I think - actually makes it much harder to identify the problem.","body":"@TimBender Well obviously we only have an effect for write-read (if all we do is read, it&#39;s rather uninteresting which identical copy we&#39;re reading), but &quot;Only rarely results in an error&quot; isn&#39;t much helpful I think - actually makes it much harder to identify the problem."},{"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"score":0,"creation_date":1319237458,"post_id":7855700,"comment_id":9581696,"body_markdown":"@Voo, I never said &quot;Only rarely results in an error&quot;, my point was that in theory it should only be a hit to performance shortly after initialization.","body":"@Voo, I never said &quot;Only rarely results in an error&quot;, my point was that in theory it should only be a hit to performance shortly after initialization."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1319238573,"post_id":7855700,"comment_id":9581875,"body_markdown":"@TimBender Misunderstood you - yes I agree.","body":"@TimBender Misunderstood you - yes I agree."},{"owner":{"account_id":212305,"reputation":24681,"user_id":465053,"accept_rate":83,"display_name":"RBT"},"score":0,"creation_date":1518647665,"post_id":7855700,"comment_id":84597229,"body_markdown":"Related posts [here](https://stackoverflow.com/q/18093735/465053) and [here](https://stackoverflow.com/q/12316406/465053) about why double checking is even required in first place.","body":"Related posts <a href=\"https://stackoverflow.com/q/18093735/465053\">here</a> and <a href=\"https://stackoverflow.com/q/12316406/465053\">here</a> about why double checking is even required in first place."},{"owner":{"account_id":7337651,"reputation":2327,"user_id":5588436,"display_name":"Rajesh.k"},"score":2,"creation_date":1615896986,"post_id":7855700,"comment_id":117828772,"body_markdown":"check this link for why `volatile` is used in singleton: https://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html","body":"check this link for why <code>volatile</code> is used in singleton: <a href=\"https://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html\" rel=\"nofollow noreferrer\">cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html</a>"}],"answers":[{"comments":[{"owner":{"account_id":6718980,"reputation":425,"user_id":5179778,"accept_rate":78,"display_name":"Qin Dong Liang"},"score":1,"creation_date":1530757944,"post_id":7855746,"comment_id":89347465,"body_markdown":"According to happens-before definition, after one thread releases the lock, another thread acquires the lock, then the latter can see the previous change. If so, I don&#39;t think the volatile keyword is needed . Can you explain it in more detail","body":"According to happens-before definition, after one thread releases the lock, another thread acquires the lock, then the latter can see the previous change. If so, I don&#39;t think the volatile keyword is needed . Can you explain it in more detail"},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1530762233,"post_id":7855746,"comment_id":89348157,"body_markdown":"@QinDongLiang If the variable is not volatile, the second thread may be using a cached value on its own stack. Being volatile forces it to go back to the source to get the proper value. Of course, it has to do this on every access and thus can have a performance hit (but let&#39;s be honest, unless it&#39;s in a super critical loop, it&#39;s probably not the worst thing in your system...)","body":"@QinDongLiang If the variable is not volatile, the second thread may be using a cached value on its own stack. Being volatile forces it to go back to the source to get the proper value. Of course, it has to do this on every access and thus can have a performance hit (but let&#39;s be honest, unless it&#39;s in a super critical loop, it&#39;s probably not the worst thing in your system...)"}],"tags":[],"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1319234286,"creation_date":1319234286,"answer_id":7855746,"question_id":7855700,"body_markdown":"If you didn&#39;t have it, a second thread could get into the synchronized block after the first set it to null, and your local cache would still think it was null.\r\n\r\nThe first one is not for correctness (if it were you are correct that it would be self defeating) but rather for optimization.","title":"Why is volatile used in double checked locking","body":"<p>If you didn't have it, a second thread could get into the synchronized block after the first set it to null, and your local cache would still think it was null.</p>\n\n<p>The first one is not for correctness (if it were you are correct that it would be self defeating) but rather for optimization.</p>\n"},{"comments":[{"owner":{"account_id":271709,"reputation":8427,"user_id":562388,"accept_rate":100,"display_name":"alf"},"score":4,"creation_date":1319235276,"post_id":7855748,"comment_id":9581362,"body_markdown":"-1 I&#39;m losing my reputation points today :) The _real_ reason is, there&#39;s memory cache, modeled as thread&#39;s local memory. The order in which local memory is flushed to the main one is undefinedâthat is, unless you have *happens-before* relations, e.g., by using `volatile`. Registers  have nothing to do with incomplete objects and DCL problem.","body":"-1 I&#39;m losing my reputation points today :) The <i>real</i> reason is, there&#39;s memory cache, modeled as thread&#39;s local memory. The order in which local memory is flushed to the main one is undefinedâthat is, unless you have <i>happens-before</i> relations, e.g., by using <code>volatile</code>. Registers  have nothing to do with incomplete objects and DCL problem."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":3,"creation_date":1319235503,"post_id":7855748,"comment_id":9581405,"body_markdown":"Your definition of `volatile` is too narrow - if that was all volatile did, double checked locking would&#39;ve worked just fine in &lt;Java5. `volatile` introduces a memory barrier making certain reordering illegal - without that even if we never read stale values from memory it&#39;d still be unsafe. Edit: alf beat me to it, shouldn&#39;t have gotten myself some nice tea ;)","body":"Your definition of <code>volatile</code> is too narrow - if that was all volatile did, double checked locking would&#39;ve worked just fine in &lt;Java5. <code>volatile</code> introduces a memory barrier making certain reordering illegal - without that even if we never read stale values from memory it&#39;d still be unsafe. Edit: alf beat me to it, shouldn&#39;t have gotten myself some nice tea ;)"},{"owner":{"account_id":271709,"reputation":8427,"user_id":562388,"accept_rate":100,"display_name":"alf"},"score":1,"creation_date":1319235512,"post_id":7855748,"comment_id":9581406,"body_markdown":"@TimBender if singleton _contains_ mutable state, flushing it has nothing to do with a reference to the singleton itself (well, there&#39;s an indirect link, as accessing a `volatlie` reference to a singleton makes your thread re-read main memoryâbut it&#39;s a secondary effect, not the cause of a problem:))","body":"@TimBender if singleton <i>contains</i> mutable state, flushing it has nothing to do with a reference to the singleton itself (well, there&#39;s an indirect link, as accessing a <code>volatlie</code> reference to a singleton makes your thread re-read main memoryâbut it&#39;s a secondary effect, not the cause of a problem:))"},{"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"score":0,"creation_date":1319235743,"post_id":7855748,"comment_id":9581440,"body_markdown":"@alf, you&#39;re right. And actually making instance volatile doesn&#39;t help if the state inside is mutable since the flush only happens if the reference itself is changed (like making arrays/lists volatile does nothing for the contents). Chalk it up to a brain fart.","body":"@alf, you&#39;re right. And actually making instance volatile doesn&#39;t help if the state inside is mutable since the flush only happens if the reference itself is changed (like making arrays/lists volatile does nothing for the contents). Chalk it up to a brain fart."},{"owner":{"account_id":6718980,"reputation":425,"user_id":5179778,"accept_rate":78,"display_name":"Qin Dong Liang"},"score":0,"creation_date":1530758134,"post_id":7855748,"comment_id":89347499,"body_markdown":"According to happens-before definition, after one thread releases the lock, another thread acquires the lock, then the latter can see the previous change. If so, I don&#39;t think the volatile keyword is needed . Can you explain it in more detail  @Tim Bender","body":"According to happens-before definition, after one thread releases the lock, another thread acquires the lock, then the latter can see the previous change. If so, I don&#39;t think the volatile keyword is needed . Can you explain it in more detail  @Tim Bender"},{"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"score":0,"creation_date":1657383929,"post_id":7855748,"comment_id":128799768,"body_markdown":"As you may have gathered, this is a complex topic.  In fact there are several issues that must be overcome for this to work: (1) language caching of values in registers (2) language publication of new object before construction is complete (3) CPU cache seeing stale memory (4) hardware reordering of writes to shared memory.  The pattern combining both volatile and synchronized solves these issues.  See https://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html","body":"As you may have gathered, this is a complex topic.  In fact there are several issues that must be overcome for this to work: (1) language caching of values in registers (2) language publication of new object before construction is complete (3) CPU cache seeing stale memory (4) hardware reordering of writes to shared memory.  The pattern combining both volatile and synchronized solves these issues.  See <a href=\"https://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html\" rel=\"nofollow noreferrer\">cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html</a>"}],"tags":[],"owner":{"account_id":56888,"reputation":11998,"user_id":170383,"accept_rate":71,"display_name":"David R Tribble"},"comment_count":6,"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1588955958,"creation_date":1319234307,"answer_id":7855748,"question_id":7855700,"body_markdown":"Declaring the variable as `volatile` guarantees that all accesses to it actually read its current value from memory.\r\n\r\nWithout `volatile`, the compiler may optimize away the memory accesses to the variable (such as keeping its value in a register), so only the first use of the variable reads the actual memory location holding the variable. This is a problem if the variable is modified by another thread between the first and second access; the first thread has only a copy of the first (pre-modified) value, so the second `if` statement tests a stale copy of the variable&#39;s value.","title":"Why is volatile used in double checked locking","body":"<p>Declaring the variable as <code>volatile</code> guarantees that all accesses to it actually read its current value from memory.</p>\n\n<p>Without <code>volatile</code>, the compiler may optimize away the memory accesses to the variable (such as keeping its value in a register), so only the first use of the variable reads the actual memory location holding the variable. This is a problem if the variable is modified by another thread between the first and second access; the first thread has only a copy of the first (pre-modified) value, so the second <code>if</code> statement tests a stale copy of the variable's value.</p>\n"},{"comments":[{"owner":{"account_id":120138,"reputation":2627,"user_id":312381,"accept_rate":93,"display_name":"toc777"},"score":1,"creation_date":1319236795,"post_id":7855774,"comment_id":9581598,"body_markdown":"OK, it looks like a new implementation of volatile fixed the memory issues with DCL. What I still don&#39;t get is the performance implication of using volatile here. From what I have read volatile is pretty much as slow as synchronized so why not just synchronize the whole getInstance() method call?","body":"OK, it looks like a new implementation of volatile fixed the memory issues with DCL. What I still don&#39;t get is the performance implication of using volatile here. From what I have read volatile is pretty much as slow as synchronized so why not just synchronize the whole getInstance() method call?"},{"owner":{"account_id":271709,"reputation":8427,"user_id":562388,"accept_rate":100,"display_name":"alf"},"score":6,"creation_date":1319237001,"post_id":7855774,"comment_id":9581629,"body_markdown":"@toc777 `volatile` is slower than a usual filed. If you look for performance, go for a holder-class pattern. `volatile` is here merely to show that *there&#39;s a way* to make the broken pattern work. It&#39;s more of a coding challenge than a real problem.","body":"@toc777 <code>volatile</code> is slower than a usual filed. If you look for performance, go for a holder-class pattern. <code>volatile</code> is here merely to show that <i>there&#39;s a way</i> to make the broken pattern work. It&#39;s more of a coding challenge than a real problem."},{"owner":{"account_id":120138,"reputation":2627,"user_id":312381,"accept_rate":93,"display_name":"toc777"},"score":0,"creation_date":1319237503,"post_id":7855774,"comment_id":9581703,"body_markdown":"@alf explains a lot, thanks. They didn&#39;t make that clear at all in the book.","body":"@alf explains a lot, thanks. They didn&#39;t make that clear at all in the book."},{"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"score":0,"creation_date":1319238309,"post_id":7855774,"comment_id":9581830,"body_markdown":"@toc777, no, volatile is not just as slow as synchronized. There are musch simpler ways of implementing a Singleton: http://en.wikipedia.org/wiki/Singleton_pattern#Traditional_simple_way ... the truth though is that a Singleton is often used as global state and there is a growing movement that considers Singletons bad design. Using Dependency Injection, there would be no need for a Singleton because everything that needs it would require via a constructor or method parameter. Thus creating a large scheme of passing the reference that originates at the original creator, `main`.","body":"@toc777, no, volatile is not just as slow as synchronized. There are musch simpler ways of implementing a Singleton: <a href=\"http://en.wikipedia.org/wiki/Singleton_pattern#Traditional_simple_way\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Singleton_pattern#Traditional_simple_w&zwnj;&#8203;ay</a> ... the truth though is that a Singleton is often used as global state and there is a growing movement that considers Singletons bad design. Using Dependency Injection, there would be no need for a Singleton because everything that needs it would require via a constructor or method parameter. Thus creating a large scheme of passing the reference that originates at the original creator, <code>main</code>."},{"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"score":6,"creation_date":1319253529,"post_id":7855774,"comment_id":9583264,"body_markdown":"@Tim well, a singleton in XML is still a singleton; understanding the runtime state of an app doesn&#39;t become easier by using DI. smaller units of code may seem simpler, at the expense of forcefully structuring all units to conform to DI idiom (a good thing some might say). The accusation against singleton is not fair, it confuses API with impl - `Foo.getInstance()` is just an expression to get a Foo somehow, it&#39;s no different from `@Inject Foo foo`; either way the site that requests a Foo is agnostic of which Foo is returned and how, either way static and runtime dependencies are the same.","body":"@Tim well, a singleton in XML is still a singleton; understanding the runtime state of an app doesn&#39;t become easier by using DI. smaller units of code may seem simpler, at the expense of forcefully structuring all units to conform to DI idiom (a good thing some might say). The accusation against singleton is not fair, it confuses API with impl - <code>Foo.getInstance()</code> is just an expression to get a Foo somehow, it&#39;s no different from <code>@Inject Foo foo</code>; either way the site that requests a Foo is agnostic of which Foo is returned and how, either way static and runtime dependencies are the same."},{"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"score":2,"creation_date":1370657120,"post_id":7855774,"comment_id":24554717,"body_markdown":"@irreputable You know what is funny is that at the time we had this exchange, I had never used Spring and wasn&#39;t referring to Spring&#39;s wonky DI. The real danger with Singleton as a `static` `factory` is the temptation to call it deep inside code which should not know of the `getInstance()` method and instead demand an instance be provided.","body":"@irreputable You know what is funny is that at the time we had this exchange, I had never used Spring and wasn&#39;t referring to Spring&#39;s wonky DI. The real danger with Singleton as a <code>static</code> <code>factory</code> is the temptation to call it deep inside code which should not know of the <code>getInstance()</code> method and instead demand an instance be provided."},{"owner":{"account_id":3327594,"reputation":1669,"user_id":2797254,"accept_rate":65,"display_name":"Weishi Z"},"score":0,"creation_date":1467239092,"post_id":7855774,"comment_id":63655625,"body_markdown":"@TimBender why volatile is NOT used in the other synchronized method implementation?  (http://stackoverflow.com/questions/38111042/singleton-pattern-usage-of-volatile-double-checked-locking)","body":"@TimBender why volatile is NOT used in the other synchronized method implementation?  (<a href=\"http://stackoverflow.com/questions/38111042/singleton-pattern-usage-of-volatile-double-checked-locking\" title=\"singleton pattern usage of volatile double checked locking\">stackoverflow.com/questions/38111042/&hellip;</a>)"},{"owner":{"account_id":7387057,"reputation":1057,"user_id":5621781,"accept_rate":64,"display_name":"shaoyihe"},"score":2,"creation_date":1540963441,"post_id":7855774,"comment_id":93051282,"body_markdown":"`The real problem is that Thread A may assign a memory space for instance before it is finished constructing instance. ` So how `volatile ` resolve this ?","body":"<code>The real problem is that Thread A may assign a memory space for instance before it is finished constructing instance. </code> So how <code>volatile </code> resolve this ?"},{"owner":{"account_id":1557723,"reputation":3383,"user_id":1448316,"accept_rate":40,"display_name":"Sreekanth Karumanaghat"},"score":0,"creation_date":1552994231,"post_id":7855774,"comment_id":97212042,"body_markdown":"@shaoyihe Nice Question. Actually the definition of volatile itself answers your question....  The value of this variable will never be cached thread-locally: all reads and writes will go straight to &quot;main memory&quot;; Access to the variable acts as though it is enclosed in a synchronized block, synchronized on itself.","body":"@shaoyihe Nice Question. Actually the definition of volatile itself answers your question....  The value of this variable will never be cached thread-locally: all reads and writes will go straight to &quot;main memory&quot;; Access to the variable acts as though it is enclosed in a synchronized block, synchronized on itself."},{"owner":{"account_id":33442,"reputation":23479,"user_id":93647,"accept_rate":74,"display_name":"Oleg Vazhnev"},"score":0,"creation_date":1557128935,"post_id":7855774,"comment_id":98648145,"body_markdown":"is it possible to write a test case which will fail on x86 when variable is not `volatile`?","body":"is it possible to write a test case which will fail on x86 when variable is not <code>volatile</code>?"},{"owner":{"account_id":8689931,"reputation":289,"user_id":6503105,"display_name":"AbdelRahmane"},"score":0,"creation_date":1570330394,"post_id":7855774,"comment_id":102877564,"body_markdown":"@javapowered You should read this : https://shipilev.net/blog/2014/safe-public-construction/","body":"@javapowered You should read this : <a href=\"https://shipilev.net/blog/2014/safe-public-construction/\" rel=\"nofollow noreferrer\">shipilev.net/blog/2014/safe-public-construction</a>"},{"owner":{"account_id":3843286,"reputation":315,"user_id":3185697,"accept_rate":70,"display_name":"Juggernaut"},"score":0,"creation_date":1630158132,"post_id":7855774,"comment_id":121882398,"body_markdown":"@sreekanth-karumanaghat then what is included into volatile write? Only assigning reference to variable or constructing object too? Object still can be written without construction finished","body":"@sreekanth-karumanaghat then what is included into volatile write? Only assigning reference to variable or constructing object too? Object still can be written without construction finished"},{"owner":{"account_id":1876620,"reputation":203,"user_id":1697719,"accept_rate":25,"display_name":"abkvandrd"},"score":0,"creation_date":1654102494,"post_id":7855774,"comment_id":128013573,"body_markdown":"@TimBender I still didnt get. How Thread2 can see new value of `instance` varible if Thread1 is still in `synchronized` block and new value of `instance` are not flushed to main memory. I expect Thread2 will see null.","body":"@TimBender I still didnt get. How Thread2 can see new value of <code>instance</code> varible if Thread1 is still in <code>synchronized</code> block and new value of <code>instance</code> are not flushed to main memory. I expect Thread2 will see null."}],"tags":[],"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"comment_count":13,"down_vote_count":0,"up_vote_count":77,"is_accepted":true,"score":77,"last_activity_date":1319248026,"creation_date":1319234464,"answer_id":7855774,"question_id":7855700,"body_markdown":"A good resource for understanding why `volatile` is needed comes from the [JCIP](http://jcip.net/) book. Wikipedia has a [decent explanation][1] of that material as well.\r\n\r\nThe real problem is that `Thread A` may assign a memory space for `instance` before it is finished constructing `instance`. `Thread B` will see that assignment and try to use it. This results in `Thread B` failing because it is using a partially constructed version of `instance`.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Double-checked_locking#Usage_in_Java","title":"Why is volatile used in double checked locking","body":"<p>A good resource for understanding why <code>volatile</code> is needed comes from the <a href=\"http://jcip.net/\">JCIP</a> book. Wikipedia has a <a href=\"http://en.wikipedia.org/wiki/Double-checked_locking#Usage_in_Java\">decent explanation</a> of that material as well.</p>\n\n<p>The real problem is that <code>Thread A</code> may assign a memory space for <code>instance</code> before it is finished constructing <code>instance</code>. <code>Thread B</code> will see that assignment and try to use it. This results in <code>Thread B</code> failing because it is using a partially constructed version of <code>instance</code>.</p>\n"},{"comments":[{"owner":{"account_id":6718980,"reputation":425,"user_id":5179778,"accept_rate":78,"display_name":"Qin Dong Liang"},"score":1,"creation_date":1530757294,"post_id":7855775,"comment_id":89347352,"body_markdown":"hi @alfï¼According to happens-before definition, after one thread releases the lock, another thread acquires the lock, then the latter can see the previous change.  If so, I don&#39;t think the volatile keyword is needed .  Can you explain it in more detail","body":"hi @alfï¼According to happens-before definition, after one thread releases the lock, another thread acquires the lock, then the latter can see the previous change.  If so, I don&#39;t think the volatile keyword is needed .  Can you explain it in more detail"},{"owner":{"account_id":271709,"reputation":8427,"user_id":562388,"accept_rate":100,"display_name":"alf"},"score":0,"creation_date":1530780426,"post_id":7855775,"comment_id":89355693,"body_markdown":"But there&#39;s no lock acquisition in the case the second thread only hits the outer if, so no ordering.","body":"But there&#39;s no lock acquisition in the case the second thread only hits the outer if, so no ordering."},{"owner":{"account_id":2966542,"reputation":6803,"user_id":2519577,"accept_rate":66,"display_name":"Aarish Ramesh"},"score":0,"creation_date":1595775436,"post_id":7855775,"comment_id":111584666,"body_markdown":"Hi @alf, So are you trying to state that when the first thread creates the instance inside synchronized block then that instance might still be null to the second thread bec of cache misses and it instances it again if the instance is not volatile? can you please clarify ?","body":"Hi @alf, So are you trying to state that when the first thread creates the instance inside synchronized block then that instance might still be null to the second thread bec of cache misses and it instances it again if the instance is not volatile? can you please clarify ?"},{"owner":{"account_id":271709,"reputation":8427,"user_id":562388,"accept_rate":100,"display_name":"alf"},"score":2,"creation_date":1595865301,"post_id":7855775,"comment_id":111615664,"body_markdown":"@AarishRamesh, not null; any state whatsoever. there are two operations: assigning address to the `instance` variable, and the actual creation of the object at that address. Unless there&#39;s something enforcing synchronisation, like a `volatile` access or an explicit syncronization, the second thread can get those two events out of order.","body":"@AarishRamesh, not null; any state whatsoever. there are two operations: assigning address to the <code>instance</code> variable, and the actual creation of the object at that address. Unless there&#39;s something enforcing synchronisation, like a <code>volatile</code> access or an explicit syncronization, the second thread can get those two events out of order."},{"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"score":0,"creation_date":1657384135,"post_id":7855775,"comment_id":128799808,"body_markdown":"It should be noted that &quot;Holder inner static class&quot; only works for singletons, which is the OP example being addressed but not the only case.  Classes can have lazy-constructed instance members as well, and if you need high performance I think that double-check single-lock is the answer.  If you don&#39;t need high performance, just use a synchronized method.","body":"It should be noted that &quot;Holder inner static class&quot; only works for singletons, which is the OP example being addressed but not the only case.  Classes can have lazy-constructed instance members as well, and if you need high performance I think that double-check single-lock is the answer.  If you don&#39;t need high performance, just use a synchronized method."}],"tags":[],"owner":{"account_id":271709,"reputation":8427,"user_id":562388,"accept_rate":100,"display_name":"alf"},"comment_count":5,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1502370665,"creation_date":1319234467,"answer_id":7855775,"question_id":7855700,"body_markdown":"Well, there&#39;s no double-checked locking for performance. It is a *broken* pattern.\r\n\r\nLeaving emotions aside, `volatile` is here because without it by the time second thread passes `instance == null`, first thread might not construct `new Singleton()` yet: no one promises that creation of the object *happens-before* assignment to `instance` for any thread but the one actually creating the object.\r\n\r\n`volatile` in turn establishes *happens-before* relation between reads and writes, and fixes the broken pattern.\r\n\r\nIf you are looking for performance, use holder inner static class instead.","title":"Why is volatile used in double checked locking","body":"<p>Well, there's no double-checked locking for performance. It is a <em>broken</em> pattern.</p>\n\n<p>Leaving emotions aside, <code>volatile</code> is here because without it by the time second thread passes <code>instance == null</code>, first thread might not construct <code>new Singleton()</code> yet: no one promises that creation of the object <em>happens-before</em> assignment to <code>instance</code> for any thread but the one actually creating the object.</p>\n\n<p><code>volatile</code> in turn establishes <em>happens-before</em> relation between reads and writes, and fixes the broken pattern.</p>\n\n<p>If you are looking for performance, use holder inner static class instead.</p>\n"},{"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319252675,"creation_date":1319252675,"answer_id":7857147,"question_id":7855700,"body_markdown":"A volatile read is not really expensive in itself. \r\n\r\nYou can design a test to call `getInstance()` in a tight loop, to observe the impact of a volatile read; however that test is not realistic; in such situation, programmer usually would call `getInstance()` once and cache the instance for the duration of use.\r\n\r\nAnother impl is by using a `final` field (see wikipedia). This requires an additional read, which may become more expensive than the `volatile` version. The `final` version may be faster in a tight loop, however that test is moot as previously argued.","title":"Why is volatile used in double checked locking","body":"<p>A volatile read is not really expensive in itself. </p>\n\n<p>You can design a test to call <code>getInstance()</code> in a tight loop, to observe the impact of a volatile read; however that test is not realistic; in such situation, programmer usually would call <code>getInstance()</code> once and cache the instance for the duration of use.</p>\n\n<p>Another impl is by using a <code>final</code> field (see wikipedia). This requires an additional read, which may become more expensive than the <code>volatile</code> version. The <code>final</code> version may be faster in a tight loop, however that test is moot as previously argued.</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1466352590,"creation_date":1458376732,"answer_id":36099644,"question_id":7855700,"body_markdown":"As quoted by @irreputable, volatile is not expensive. Even if it is expensive, consistency should be given priority over performance. \r\n\r\nThere is one more clean elegant way for Lazy Singletons.\r\n\r\n    public final class Singleton {\r\n        private Singleton() {}\r\n        public static Singleton getInstance() {\r\n            return LazyHolder.INSTANCE;\r\n        }\r\n    \tprivate static class LazyHolder {\r\n            private static final Singleton INSTANCE = new Singleton();\r\n        }\r\n    }\r\n\r\nSource article : [Initialization-on-demand_holder_idiom][1] from wikipedia\r\n\r\n&gt; In software engineering, the Initialization on Demand Holder (design pattern) idiom is a lazy-loaded singleton. In all versions of Java, the idiom enables a safe, highly concurrent lazy initialization with good performance\r\n\r\nSince the class does not have any `static` variables to initialize, the initialization completes trivially. \r\n\r\nThe static class definition `LazyHolder` within it is not initialized until the JVM determines that LazyHolder must be executed.\r\n\r\nThe static class `LazyHolder` is only executed when the static method `getInstance` is invoked on the class Singleton, and the first time this happens the JVM will load and initialize the `LazyHolder` class.\r\n\r\nThis solution is thread-safe without requiring special language constructs (i.e. `volatile` or `synchronized`).\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom","title":"Why is volatile used in double checked locking","body":"<p>As quoted by @irreputable, volatile is not expensive. Even if it is expensive, consistency should be given priority over performance. </p>\n\n<p>There is one more clean elegant way for Lazy Singletons.</p>\n\n<pre><code>public final class Singleton {\n    private Singleton() {}\n    public static Singleton getInstance() {\n        return LazyHolder.INSTANCE;\n    }\n    private static class LazyHolder {\n        private static final Singleton INSTANCE = new Singleton();\n    }\n}\n</code></pre>\n\n<p>Source article : <a href=\"https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom\" rel=\"noreferrer\">Initialization-on-demand_holder_idiom</a> from wikipedia</p>\n\n<blockquote>\n  <p>In software engineering, the Initialization on Demand Holder (design pattern) idiom is a lazy-loaded singleton. In all versions of Java, the idiom enables a safe, highly concurrent lazy initialization with good performance</p>\n</blockquote>\n\n<p>Since the class does not have any <code>static</code> variables to initialize, the initialization completes trivially. </p>\n\n<p>The static class definition <code>LazyHolder</code> within it is not initialized until the JVM determines that LazyHolder must be executed.</p>\n\n<p>The static class <code>LazyHolder</code> is only executed when the static method <code>getInstance</code> is invoked on the class Singleton, and the first time this happens the JVM will load and initialize the <code>LazyHolder</code> class.</p>\n\n<p>This solution is thread-safe without requiring special language constructs (i.e. <code>volatile</code> or <code>synchronized</code>).</p>\n"},{"tags":[],"owner":{"account_id":972509,"reputation":697,"user_id":994749,"display_name":"Oleg Poltoratskii"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1588817254,"creation_date":1580120921,"answer_id":59929269,"question_id":7855700,"body_markdown":"Double checked locking is a technique to prevent creating another instance of singleton when call to `getInstance` method is made in multithreading environment.\r\n\r\n### Pay attention\r\n\r\n- Singleton instance is checked twice before initialization.\r\n- Synchronized critical section is used only after first checking singleton instance for that reason to improve performance.\r\n- `volatile` keyword on the declaration of the instance member. This will tell the compiler to always read from, and write to, main memory and not the CPU cache. With `volatile` variable guaranteeing happens-before relationship, all the write will happen before any read of instance variable.\r\n\r\n### Disadvantages\r\n\r\n- Since it requires the `volatile` keyword to work properly, it&#39;s not compatible with Java 1.4 and lower versions. The problem is that an out-of-order write may allow the instance reference to be returned before the singleton constructor is executed.\r\n- Performance issue because of decline cache for volatile variable. \r\n- Singleton instance is checked two times before initialization.\r\n- It&#39;s quite verbose and it makes the code difficult to read.\r\n\r\n\r\n\r\n### There are several realization of singleton pattern each one with advantages and disadvantages.\r\n\r\n- Eager loading singleton\r\n- Double-checked locking singleton\r\n- Initialization-on-demand holder idiom\r\n- The enum based singleton\r\n\r\nDetailed description each of them is too verbose so I just put a link to a good article - [All you want to know about Singleton](http://poltora.info/blog/all-you-want-to-know-about-singleton/)\r\n","title":"Why is volatile used in double checked locking","body":"<p>Double checked locking is a technique to prevent creating another instance of singleton when call to <code>getInstance</code> method is made in multithreading environment.</p>\n\n<h3>Pay attention</h3>\n\n<ul>\n<li>Singleton instance is checked twice before initialization.</li>\n<li>Synchronized critical section is used only after first checking singleton instance for that reason to improve performance.</li>\n<li><code>volatile</code> keyword on the declaration of the instance member. This will tell the compiler to always read from, and write to, main memory and not the CPU cache. With <code>volatile</code> variable guaranteeing happens-before relationship, all the write will happen before any read of instance variable.</li>\n</ul>\n\n<h3>Disadvantages</h3>\n\n<ul>\n<li>Since it requires the <code>volatile</code> keyword to work properly, it's not compatible with Java 1.4 and lower versions. The problem is that an out-of-order write may allow the instance reference to be returned before the singleton constructor is executed.</li>\n<li>Performance issue because of decline cache for volatile variable. </li>\n<li>Singleton instance is checked two times before initialization.</li>\n<li>It's quite verbose and it makes the code difficult to read.</li>\n</ul>\n\n<h3>There are several realization of singleton pattern each one with advantages and disadvantages.</h3>\n\n<ul>\n<li>Eager loading singleton</li>\n<li>Double-checked locking singleton</li>\n<li>Initialization-on-demand holder idiom</li>\n<li>The enum based singleton</li>\n</ul>\n\n<p>Detailed description each of them is too verbose so I just put a link to a good article - <a href=\"http://poltora.info/blog/all-you-want-to-know-about-singleton/\" rel=\"nofollow noreferrer\">All you want to know about Singleton</a></p>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670328491,"creation_date":1670328491,"answer_id":74702242,"question_id":7855700,"body_markdown":"The reason why you need `volatile` is because volatile has 2 semantics in Java\r\n\r\n - variable visibility between threads\r\n - stop re-ordering\r\n\r\nSo the problem without `volatile` in the double checked lock is that statement\r\n\r\n`instance = new Singleton()`\r\n\r\nhave 3 main steps in bytecode which can be viewed by command `javap -c Singleton.class`\r\n\r\n```\r\n      17: new           #3                  // class Singleton\r\n      20: dup\r\n      21: invokespecial #4                  // Method &quot;&lt;init&gt;&quot;:()V\r\n```\r\n\r\n 1. Allocate memory space for the object (not initialized yet)\r\n 2. Create a variable to point to this space memory address \r\n 3. Call constructor to initialize the object\r\n\r\nThese 3 steps can be re-ordered during runtime by CPU or JVM which can be a case you will get an instance not fully initialized yet.\r\n\r\nBy having `volatile` JVM will insert `monitorenter` and `monitorexit` to avoid re-ordering as below.\r\n\r\n```\r\n      10: monitorenter\r\n      11: getstatic     #2                  // Field instance:LSingleton;\r\n      14: ifnonnull     27\r\n      17: new           #3                  // class Singleton\r\n      20: dup\r\n      21: invokespecial #4                  // Method &quot;&lt;init&gt;&quot;:()V\r\n      24: putstatic     #2                  // Field instance:LSingleton;\r\n      27: aload_0\r\n      28: monitorexit\r\n\r\n```\r\nSo `volative` is required for singleton.","title":"Why is volatile used in double checked locking","body":"<p>The reason why you need <code>volatile</code> is because volatile has 2 semantics in Java</p>\n<ul>\n<li>variable visibility between threads</li>\n<li>stop re-ordering</li>\n</ul>\n<p>So the problem without <code>volatile</code> in the double checked lock is that statement</p>\n<p><code>instance = new Singleton()</code></p>\n<p>have 3 main steps in bytecode which can be viewed by command <code>javap -c Singleton.class</code></p>\n<pre><code>      17: new           #3                  // class Singleton\n      20: dup\n      21: invokespecial #4                  // Method &quot;&lt;init&gt;&quot;:()V\n</code></pre>\n<ol>\n<li>Allocate memory space for the object (not initialized yet)</li>\n<li>Create a variable to point to this space memory address</li>\n<li>Call constructor to initialize the object</li>\n</ol>\n<p>These 3 steps can be re-ordered during runtime by CPU or JVM which can be a case you will get an instance not fully initialized yet.</p>\n<p>By having <code>volatile</code> JVM will insert <code>monitorenter</code> and <code>monitorexit</code> to avoid re-ordering as below.</p>\n<pre><code>      10: monitorenter\n      11: getstatic     #2                  // Field instance:LSingleton;\n      14: ifnonnull     27\n      17: new           #3                  // class Singleton\n      20: dup\n      21: invokespecial #4                  // Method &quot;&lt;init&gt;&quot;:()V\n      24: putstatic     #2                  // Field instance:LSingleton;\n      27: aload_0\n      28: monitorexit\n\n</code></pre>\n<p>So <code>volative</code> is required for singleton.</p>\n"}],"owner":{"account_id":120138,"reputation":2627,"user_id":312381,"accept_rate":93,"display_name":"toc777"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32161,"favorite_count":0,"down_vote_count":0,"up_vote_count":97,"accepted_answer_id":7855774,"answer_count":8,"score":97,"last_activity_date":1670328491,"creation_date":1319233991,"question_id":7855700,"body_markdown":"From _Head First_ design patterns book, the singleton pattern with double checked locking has been implemented as below: \r\n\r\n    public class Singleton {\r\n        private volatile static Singleton instance;\r\n        private Singleton() {}\r\n        public static Singleton getInstance() {\r\n            if (instance == null) {\r\n                synchronized (Singleton.class) {\r\n                    if (instance == null) {\r\n                        instance = new Singleton();\r\n                    }\r\n                }\r\n            }\r\n            return instance;\r\n        }\r\n    }\r\n\r\nI don&#39;t understand why `volatile` is being used. Doesn&#39;t  `volatile` usage defeat the purpose of using double checked locking i.e performance?","title":"Why is volatile used in double checked locking","body":"<p>From <em>Head First</em> design patterns book, the singleton pattern with double checked locking has been implemented as below: </p>\n\n<pre><code>public class Singleton {\n    private volatile static Singleton instance;\n    private Singleton() {}\n    public static Singleton getInstance() {\n        if (instance == null) {\n            synchronized (Singleton.class) {\n                if (instance == null) {\n                    instance = new Singleton();\n                }\n            }\n        }\n        return instance;\n    }\n}\n</code></pre>\n\n<p>I don't understand why <code>volatile</code> is being used. Doesn't  <code>volatile</code> usage defeat the purpose of using double checked locking i.e performance?</p>\n"},{"tags":["java","sql-server","spring-boot","middleware"],"comments":[{"owner":{"account_id":2312068,"reputation":90351,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1670230575,"post_id":74684413,"comment_id":131819321,"body_markdown":"Why are you *still* using SQL Server 2000 would be my question; it hasn&#39;t had ***any support*** for over a decade. The last train to upgrade that instance  departed a *long* time ago; you really need to get onto a supported version.","body":"Why are you <i>still</i> using SQL Server 2000 would be my question; it hasn&#39;t had <b><i>any support</i></b> for over a decade. The last train to upgrade that instance  departed a <i>long</i> time ago; you really need to get onto a supported version."},{"owner":{"account_id":27109277,"reputation":11,"user_id":20654661,"display_name":"Rushikesh"},"score":1,"creation_date":1670328231,"post_id":74684413,"comment_id":131846320,"body_markdown":"ya you are correct but my company having servers on this thats why i need to use 2000 sql server","body":"ya you are correct but my company having servers on this thats why i need to use 2000 sql server"}],"owner":{"account_id":27109277,"reputation":11,"user_id":20654661,"display_name":"Rushikesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670328319,"creation_date":1670223688,"question_id":74684413,"body_markdown":"Whenever I am trying to connect my SQL server to the spring boot in java with the use of Connection string I am getting these two error\r\n\r\n&gt; java.lang.RuntimeException: Driver com.microsoft.sqlserver.jdbc.SQLServerDriver claims to not accept jdbcUrl\r\n\r\n&gt; Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Bean instantiation via factory method failed;\r\n\r\nI am using this connection string \r\n```\r\n--&gt;  spring.datasource.url=&quot;jdbc:sqlserver://Server name;&quot; + &quot;databaseName=databasename;&quot;\r\n     spring.datasource.username=userid\r\n     spring.datasource.password=password\r\n\r\n```\r\nand using this driver class\r\n```\r\n--&gt;  spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n\r\n     spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect\r\n```","title":"I am using sql server 2000 and having sql server management application of 2017 when i am trying to connecting my sql to spring boot i am get error","body":"<p>Whenever I am trying to connect my SQL server to the spring boot in java with the use of Connection string I am getting these two error</p>\n<blockquote>\n<p>java.lang.RuntimeException: Driver com.microsoft.sqlserver.jdbc.SQLServerDriver claims to not accept jdbcUrl</p>\n</blockquote>\n<blockquote>\n<p>Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Bean instantiation via factory method failed;</p>\n</blockquote>\n<p>I am using this connection string</p>\n<pre><code>--&gt;  spring.datasource.url=&quot;jdbc:sqlserver://Server name;&quot; + &quot;databaseName=databasename;&quot;\n     spring.datasource.username=userid\n     spring.datasource.password=password\n\n</code></pre>\n<p>and using this driver class</p>\n<pre><code>--&gt;  spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\n\n     spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect\n</code></pre>\n"},{"tags":["java","spring","transactions","spring-webflux","spring-data-r2dbc"],"answers":[{"tags":[],"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652886251,"creation_date":1652684250,"answer_id":72255193,"question_id":72234642,"body_markdown":"### TL;DR:\r\n\r\nI replaced\r\n``` lang-java\r\nreturn Flux.usingWhen(\r\n    databaseClient.getConnectionFactory().create(),\r\n\r\n    connection -&gt; {\r\n        statement = ... // prepare the statement\r\n        return statement.execute();\r\n    },\r\n\r\n    Connection::close\r\n)\r\n\r\n```\r\nwith \r\n``` lang-java\r\nreturn databaseClient.inConnection(connection -&gt; {\r\n    statement = ... // prepare the statement\r\n    return statement.execute();\r\n);\r\n```\r\n\r\n### Detailed answer\r\n\r\nI have discovered a method which I was not aware of: [DatabaseConnection.inConnection()][1]. The `DatabaseConnection` interface inherits it from `ConnectionAccessor`:\r\n\r\n&gt; Execute a callback Function within a Connection scope. The function is responsible for creating a Mono. The connection is released after the Mono terminates (or the subscription is cancelled). Connection resources must not be passed outside of the Function closure, otherwise resources may get defunct.\r\n\r\nI changed my code using the `DatabaseClient` and it seems that the SQL commands are executed in the same connection.\r\n\r\nHowever, I would still like to understand it better. I am not sure, if I am just lucky now and if it can change with the next implementation. I still do not know how to have the full control over the connections and hence over the transactional code.\r\n\r\n``` lang-java\r\nimport org.springframework.r2dbc.core.DatabaseClient;\r\nimport io.r2dbc.spi.Connection;\r\nimport io.r2dbc.spi.Statement;\r\n\r\npublic class DbConnector {\r\n    private final DatabaseClient databaseClient;\r\n\r\n    public Mono&lt;Integer&gt; insertDetails(List&lt;Detail&gt; details) {\r\n        return databaseClient.inConnection(connection -&gt; {\r\n            final Statement statement = connection.createStatement(&quot;&quot;&quot;\r\n                insert into detail (masterId, col_A, col_B)\r\n                values ($1, $2, $3)\r\n                &quot;&quot;&quot;);\r\n            details.forEach(detail -&gt;\r\n                statement\r\n                    .bind(&quot;$1&quot;, detail.getMasterId())\r\n                    .bind(&quot;$2&quot;, detail.getColA())\r\n                    .bind(&quot;$3&quot;, detail.getColB())\r\n                    .add()\r\n            );\r\n            return Flux.from(statement.execute())\r\n                .flatMap(Result::getRowsUpdated)\r\n                .reduce(0, Integer::sum)\r\n                ;\r\n    });\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/r2dbc/core/ConnectionAccessor.html#inConnection-java.util.function.Function-","title":"Make R2DBC use the same connection for all interactions with the database in a @Transactional method (Java, Sprint)","body":"<h3>TL;DR:</h3>\n<p>I replaced</p>\n<pre class=\"lang-java prettyprint-override\"><code>return Flux.usingWhen(\n    databaseClient.getConnectionFactory().create(),\n\n    connection -&gt; {\n        statement = ... // prepare the statement\n        return statement.execute();\n    },\n\n    Connection::close\n)\n\n</code></pre>\n<p>with</p>\n<pre class=\"lang-java prettyprint-override\"><code>return databaseClient.inConnection(connection -&gt; {\n    statement = ... // prepare the statement\n    return statement.execute();\n);\n</code></pre>\n<h3>Detailed answer</h3>\n<p>I have discovered a method which I was not aware of: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/r2dbc/core/ConnectionAccessor.html#inConnection-java.util.function.Function-\" rel=\"nofollow noreferrer\">DatabaseConnection.inConnection()</a>. The <code>DatabaseConnection</code> interface inherits it from <code>ConnectionAccessor</code>:</p>\n<blockquote>\n<p>Execute a callback Function within a Connection scope. The function is responsible for creating a Mono. The connection is released after the Mono terminates (or the subscription is cancelled). Connection resources must not be passed outside of the Function closure, otherwise resources may get defunct.</p>\n</blockquote>\n<p>I changed my code using the <code>DatabaseClient</code> and it seems that the SQL commands are executed in the same connection.</p>\n<p>However, I would still like to understand it better. I am not sure, if I am just lucky now and if it can change with the next implementation. I still do not know how to have the full control over the connections and hence over the transactional code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.r2dbc.core.DatabaseClient;\nimport io.r2dbc.spi.Connection;\nimport io.r2dbc.spi.Statement;\n\npublic class DbConnector {\n    private final DatabaseClient databaseClient;\n\n    public Mono&lt;Integer&gt; insertDetails(List&lt;Detail&gt; details) {\n        return databaseClient.inConnection(connection -&gt; {\n            final Statement statement = connection.createStatement(&quot;&quot;&quot;\n                insert into detail (masterId, col_A, col_B)\n                values ($1, $2, $3)\n                &quot;&quot;&quot;);\n            details.forEach(detail -&gt;\n                statement\n                    .bind(&quot;$1&quot;, detail.getMasterId())\n                    .bind(&quot;$2&quot;, detail.getColA())\n                    .bind(&quot;$3&quot;, detail.getColB())\n                    .add()\n            );\n            return Flux.from(statement.execute())\n                .flatMap(Result::getRowsUpdated)\n                .reduce(0, Integer::sum)\n                ;\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1692,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670328181,"creation_date":1652470638,"question_id":72234642,"body_markdown":"### Motivation\r\nI have a service which I want to make `@Transactional`. My service is storing complex data in multiple tables, there is a referential integrity between the tables.\r\n\r\n``` lang-java\r\npublic class MyData { // simplified\r\n    MasterData masterData;\r\n    List&lt;Detail&gt; details;\r\n\r\n    public static class MasterData {\r\n        UUID id;\r\n        String field1;\r\n        String field2;\r\n        String field3;\r\n    }\r\n\r\n    public static class Detail {\r\n        UUID masterId;\r\n        String fieldA;\r\n        String fieldB;\r\n    }\r\n}\r\n```\r\n\r\n 1. First I save the master data into one table using `R2dbcRepository&lt;MasterData, UUID&gt;`. The `INSERT` command is simple and I may use the `R2dbcRepository`.\r\n 2. Then a list of details into another table using `DatabaseClient`. Each detail has a foreign key constraint to the master table. I want to use batch `INSERT` and I complete the SQL using more complex approach in `DatabaseClient`.\r\n\r\n### Problem\r\nThe problem is that I cannot save the detail data - I get the error\r\n\r\n``` lang-plaintext\r\ninsert or update on table &quot;detail&quot; violates foreign key constraint\r\n```\r\n\r\nI suspect that the reason is that each SQL command is executed in **a different connection** so the master data are not yet visible when the details are stored.\r\n\r\n### Question\r\n**Is it really the root cause? How to make R2DBC always use the same connection across all the calls to the database inside one `@Transactional` service call, even if it goes via various instances of `R2dbcRepository` and `DatabaseClient`?**\r\n\r\nIf the solution is completely wrong, how to correctly implement `@Transactional` in R2DBC?\r\n\r\nI prefer calling all the `INSERT`s into the `detail` table in a batch.\r\n\r\n### Code\r\nMy (simplified) code looks like this:\r\n\r\n``` lang-java\r\n@Service\r\npublic class MyService {\r\n    private final MasterRepository masterRepository;\r\n    private final DbConnector dbConnector;\r\n\r\n    @Transactional\r\n    public Mono&lt;Void&gt; saveMasterAndDetails(MyData data) {\r\n        return Mono.just(data)\r\n                .map(MyData::getMaster)\r\n                .flatMap(masterRepository::insertMasterData)\r\n                .thenReturn(data)\r\n\r\n                .map(MyData::getDetails)\r\n                .flatMap(dbConnector::insertDetails)\r\n                .then()\r\n                ;\r\n    }\r\n}\r\n```\r\n\r\nThe code of `MasterRepository` is something like\r\n\r\n``` lang-java\r\nimport org.springframework.data.r2dbc.repository.R2dbcRepository;\r\n\r\npublic interface MasterRepository extends R2dbcRepository&lt;MasterData, UUID&gt; {\r\n    @Query(&quot;&quot;&quot;\r\n            INSERT INTO master(id, col_1, col_2, col_3)\r\n                VALUES (\r\n                    :#{#masterData.id},\r\n                    :#{#masterData.field1},\r\n                    :#{#masterData.field2},\r\n                    :#{#masterData.field3})\r\n            &quot;&quot;&quot;)\r\n    Mono&lt;Void&gt; insertMasterData(MasterData masterData);\r\n}\r\n```\r\n\r\nAnd the code of `DbConnector` is more complex - but maybe overly complex? There is still missing direct support for batches and prepared statements in `DatabaseClient`: [spring-data-r2dbc-259][1], [spring-framework-27229][2]\r\n\r\n``` lang-java\r\nimport org.springframework.r2dbc.core.DatabaseClient;\r\nimport io.r2dbc.spi.Connection;\r\nimport io.r2dbc.spi.Statement;\r\n\r\npublic class DbConnector {\r\n    private final DatabaseClient databaseClient;\r\n\r\n    public Mono&lt;Integer&gt; insertDetails(List&lt;Detail&gt; details) {\r\n        // usingWhen() is the reactive analogy of &quot;use-with-resources&quot;\r\n        return Flux.usingWhen(\r\n                // &quot;try(Create the resource)&quot;\r\n                databaseClient.getConnectionFactory().create(),\r\n\r\n                // &quot;{ the body }&quot;\r\n                connection -&gt; {\r\n                    final Statement statement = connection.createStatement(&quot;&quot;&quot;\r\n                            insert into detail (masterId, col_A, col_B)\r\n                            values ($1, $2, $3)\r\n                            &quot;&quot;&quot;);\r\n                    details.forEach(detail -&gt;\r\n                            statement\r\n                                    .bind(&quot;$1&quot;, detail.getMasterId())\r\n                                    .bind(&quot;$2&quot;, detail.getColA())\r\n                                    .bind(&quot;$3&quot;, detail.getColB())\r\n                                    .add()\r\n                    );\r\n                    return statement.execute();\r\n                },\r\n\r\n                // &quot;finally close()&quot;\r\n                Connection::close)\r\n\r\n        .flatMap(Result::getRowsUpdated)\r\n        .reduce(0, Integer::sum);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-r2dbc/issues/259\r\n  [2]: https://github.com/spring-projects/spring-framework/issues/27229","title":"Make R2DBC use the same connection for all interactions with the database in a @Transactional method (Java, Sprint)","body":"<h3>Motivation</h3>\n<p>I have a service which I want to make <code>@Transactional</code>. My service is storing complex data in multiple tables, there is a referential integrity between the tables.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyData { // simplified\n    MasterData masterData;\n    List&lt;Detail&gt; details;\n\n    public static class MasterData {\n        UUID id;\n        String field1;\n        String field2;\n        String field3;\n    }\n\n    public static class Detail {\n        UUID masterId;\n        String fieldA;\n        String fieldB;\n    }\n}\n</code></pre>\n<ol>\n<li>First I save the master data into one table using <code>R2dbcRepository&lt;MasterData, UUID&gt;</code>. The <code>INSERT</code> command is simple and I may use the <code>R2dbcRepository</code>.</li>\n<li>Then a list of details into another table using <code>DatabaseClient</code>. Each detail has a foreign key constraint to the master table. I want to use batch <code>INSERT</code> and I complete the SQL using more complex approach in <code>DatabaseClient</code>.</li>\n</ol>\n<h3>Problem</h3>\n<p>The problem is that I cannot save the detail data - I get the error</p>\n<pre class=\"lang-plaintext prettyprint-override\"><code>insert or update on table &quot;detail&quot; violates foreign key constraint\n</code></pre>\n<p>I suspect that the reason is that each SQL command is executed in <strong>a different connection</strong> so the master data are not yet visible when the details are stored.</p>\n<h3>Question</h3>\n<p><strong>Is it really the root cause? How to make R2DBC always use the same connection across all the calls to the database inside one <code>@Transactional</code> service call, even if it goes via various instances of <code>R2dbcRepository</code> and <code>DatabaseClient</code>?</strong></p>\n<p>If the solution is completely wrong, how to correctly implement <code>@Transactional</code> in R2DBC?</p>\n<p>I prefer calling all the <code>INSERT</code>s into the <code>detail</code> table in a batch.</p>\n<h3>Code</h3>\n<p>My (simplified) code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class MyService {\n    private final MasterRepository masterRepository;\n    private final DbConnector dbConnector;\n\n    @Transactional\n    public Mono&lt;Void&gt; saveMasterAndDetails(MyData data) {\n        return Mono.just(data)\n                .map(MyData::getMaster)\n                .flatMap(masterRepository::insertMasterData)\n                .thenReturn(data)\n\n                .map(MyData::getDetails)\n                .flatMap(dbConnector::insertDetails)\n                .then()\n                ;\n    }\n}\n</code></pre>\n<p>The code of <code>MasterRepository</code> is something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.data.r2dbc.repository.R2dbcRepository;\n\npublic interface MasterRepository extends R2dbcRepository&lt;MasterData, UUID&gt; {\n    @Query(&quot;&quot;&quot;\n            INSERT INTO master(id, col_1, col_2, col_3)\n                VALUES (\n                    :#{#masterData.id},\n                    :#{#masterData.field1},\n                    :#{#masterData.field2},\n                    :#{#masterData.field3})\n            &quot;&quot;&quot;)\n    Mono&lt;Void&gt; insertMasterData(MasterData masterData);\n}\n</code></pre>\n<p>And the code of <code>DbConnector</code> is more complex - but maybe overly complex? There is still missing direct support for batches and prepared statements in <code>DatabaseClient</code>: <a href=\"https://github.com/spring-projects/spring-data-r2dbc/issues/259\" rel=\"nofollow noreferrer\">spring-data-r2dbc-259</a>, <a href=\"https://github.com/spring-projects/spring-framework/issues/27229\" rel=\"nofollow noreferrer\">spring-framework-27229</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.r2dbc.core.DatabaseClient;\nimport io.r2dbc.spi.Connection;\nimport io.r2dbc.spi.Statement;\n\npublic class DbConnector {\n    private final DatabaseClient databaseClient;\n\n    public Mono&lt;Integer&gt; insertDetails(List&lt;Detail&gt; details) {\n        // usingWhen() is the reactive analogy of &quot;use-with-resources&quot;\n        return Flux.usingWhen(\n                // &quot;try(Create the resource)&quot;\n                databaseClient.getConnectionFactory().create(),\n\n                // &quot;{ the body }&quot;\n                connection -&gt; {\n                    final Statement statement = connection.createStatement(&quot;&quot;&quot;\n                            insert into detail (masterId, col_A, col_B)\n                            values ($1, $2, $3)\n                            &quot;&quot;&quot;);\n                    details.forEach(detail -&gt;\n                            statement\n                                    .bind(&quot;$1&quot;, detail.getMasterId())\n                                    .bind(&quot;$2&quot;, detail.getColA())\n                                    .bind(&quot;$3&quot;, detail.getColB())\n                                    .add()\n                    );\n                    return statement.execute();\n                },\n\n                // &quot;finally close()&quot;\n                Connection::close)\n\n        .flatMap(Result::getRowsUpdated)\n        .reduce(0, Integer::sum);\n    }\n}\n</code></pre>\n"},{"tags":["java","bots","telegram","webhooks"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1544938462,"post_id":53795154,"comment_id":94448641,"body_markdown":"For better help sooner, [edit] to add a [MCVE] or [Short, Self Contained, Correct Example](http://www.sscce.org/).","body":"For better help sooner, <a href=\"https://stackoverflow.com/posts/53795154/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct Example</a>."},{"owner":{"account_id":106364,"reputation":159996,"user_id":283366,"accept_rate":100,"display_name":"Phil"},"score":0,"creation_date":1545002384,"post_id":53795154,"comment_id":94463276,"body_markdown":"How are you _running_ this?","body":"How are you <i>running</i> this?"}],"owner":{"account_id":14810097,"reputation":13,"user_id":10696018,"display_name":"ArchiBK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670328009,"creation_date":1544891963,"question_id":53795154,"body_markdown":"Please tell me why my program ends immediately after launch. It&#39;s a Java Telegram Bot running on my home PC. I created the project using Maven.\r\n\r\nMainClass\r\n\r\n    public class MainClass extends TelegramWebhookBot {\r\n        BootConfig cfg = new BootConfig();\r\n        public static void main(String[] args) {\r\n            ApiContextInitializer.init();\r\n            TelegramBotsApi telegramBotsApi = new TelegramBotsApi();\r\n            try {\r\n                telegramBotsApi.registerBot(new MainClass());\r\n            } catch (TelegramApiException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n        @Override\r\n        public BotApiMethod onWebhookUpdateReceived(Update update) {\r\n            if (update.hasMessage() &amp;&amp; update.getMessage().hasText()) {\r\n                SendMessage sendMessage = new SendMessage();\r\n                sendMessage.setChatId(update.getMessage().getChatId().toString());\r\n                sendMessage.setText(&quot;Well, all information looks like noise until you break the code.&quot;);\r\n                return sendMessage;\r\n            }\r\n            return null;\r\n        }\r\n        @Override\r\n        public String getBotUsername() {\r\n            return cfg.WEBHOOK_USER;\r\n        }\r\n        \r\n        @Override\r\n        public String getBotToken() {\r\n            return cfg.WEBHOOK_TOKEN;\r\n        }\r\n        @Override\r\n        public String getBotPath() {\r\n            return cfg.WEBHOOK_USER;\r\n        }\r\n        \r\n        \r\n    }\r\n\r\nBootConfig class:\r\n\r\n    public class BootConfig {\r\n\r\n            public static final String WEBHOOK_TOKEN = &quot;SECRET&quot;;\r\n            public static final String WEBHOOK_USER = &quot;archopobbkbot&quot;;\r\n\r\n         \r\nConsole output:\r\n\r\n    Process finished with exit code 0","title":"Why does the program close immediately after launch?","body":"<p>Please tell me why my program ends immediately after launch. It's a Java Telegram Bot running on my home PC. I created the project using Maven.</p>\n<p>MainClass</p>\n<pre><code>public class MainClass extends TelegramWebhookBot {\n    BootConfig cfg = new BootConfig();\n    public static void main(String[] args) {\n        ApiContextInitializer.init();\n        TelegramBotsApi telegramBotsApi = new TelegramBotsApi();\n        try {\n            telegramBotsApi.registerBot(new MainClass());\n        } catch (TelegramApiException ex) {\n            ex.printStackTrace();\n        }\n    }\n    @Override\n    public BotApiMethod onWebhookUpdateReceived(Update update) {\n        if (update.hasMessage() &amp;&amp; update.getMessage().hasText()) {\n            SendMessage sendMessage = new SendMessage();\n            sendMessage.setChatId(update.getMessage().getChatId().toString());\n            sendMessage.setText(&quot;Well, all information looks like noise until you break the code.&quot;);\n            return sendMessage;\n        }\n        return null;\n    }\n    @Override\n    public String getBotUsername() {\n        return cfg.WEBHOOK_USER;\n    }\n    \n    @Override\n    public String getBotToken() {\n        return cfg.WEBHOOK_TOKEN;\n    }\n    @Override\n    public String getBotPath() {\n        return cfg.WEBHOOK_USER;\n    }\n    \n    \n}\n</code></pre>\n<p>BootConfig class:</p>\n<pre><code>public class BootConfig {\n\n        public static final String WEBHOOK_TOKEN = &quot;SECRET&quot;;\n        public static final String WEBHOOK_USER = &quot;archopobbkbot&quot;;\n\n     \n</code></pre>\n<p>Console output:</p>\n<pre><code>Process finished with exit code 0\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"score":0,"creation_date":1670312932,"post_id":74698707,"comment_id":131841226,"body_markdown":"any of the com.sun.* classes are internal implementation details and should not be used directly. This has always been the case. They can and do (sometimes) change names or disappear entirely between even minor releases. Not a but in the standard library at all, rather you risking your neck doing something the documentation clearly states you should be wary of.","body":"any of the com.sun.* classes are internal implementation details and should not be used directly. This has always been the case. They can and do (sometimes) change names or disappear entirely between even minor releases. Not a but in the standard library at all, rather you risking your neck doing something the documentation clearly states you should be wary of."}],"answers":[{"tags":[],"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670313354,"creation_date":1670313354,"answer_id":74699033,"question_id":74698707,"body_markdown":"You&#39;re relying on an internal class from the core libraries. That&#39;s an inherently dangerous thing to do as these can change or disappear without prior warning even in between minor releases.\r\n\r\nIn this case, the class you&#39;re relying on extends another class that was deprecated in Java 9 for later removal. This removal most likely happened in Java 17 (though it may have been anywhere post Java 11).\r\n\r\nSo you had ample warning it was going to disappear. This is not a bug indeed.","title":"java.lang.ClassNotFoundException: com/sun/security/cert/internal/x509/X509V1CertImpl exception in Java 17.0.5","body":"<p>You're relying on an internal class from the core libraries. That's an inherently dangerous thing to do as these can change or disappear without prior warning even in between minor releases.</p>\n<p>In this case, the class you're relying on extends another class that was deprecated in Java 9 for later removal. This removal most likely happened in Java 17 (though it may have been anywhere post Java 11).</p>\n<p>So you had ample warning it was going to disappear. This is not a bug indeed.</p>\n"}],"owner":{"account_id":20567646,"reputation":61,"user_id":15096603,"display_name":"Kevin Chuang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670327970,"creation_date":1670311436,"question_id":74698707,"body_markdown":"In Java 17.0.5, **com.sun.security.cert.internal.x509.X509V1CertImpl** has been removed.\r\nAnd if I call X509Certificate.getInst() with X509Provider=null,&lt;br/&gt;\r\nthan **className = &quot;com.sun.security.cert.internal.x509.X509V1CertImpl&quot;**\r\nand in the lower part it call **Class&lt;?&gt; certClass = Class.forName(className);** and end up \r\n\r\n**java.lang.ClassNotFoundException: com/sun/security/cert/internal/x509/X509V1CertImpl**\r\n\r\n\r\n```\r\nprivate static final X509Certificate getInst(Object value) throws CertificateException {\r\n        String className = X509Provider;\r\n        if (className == null || className.isEmpty()) {\r\n            className = &quot;com.sun.security.cert.internal.x509.X509V1CertImpl&quot;;\r\n        }\r\n\r\n        try {\r\n            Class&lt;?&gt;[] params = null;\r\n            if (value instanceof InputStream) {\r\n                params = new Class[]{InputStream.class};\r\n            } else {\r\n                if (!(value instanceof byte[])) {\r\n                    throw new CertificateException(&quot;Unsupported argument type&quot;);\r\n                }\r\n\r\n                params = new Class[]{value.getClass()};\r\n            }\r\n\r\n            Class&lt;?&gt; certClass = Class.forName(className);\r\n            Constructor&lt;?&gt; cons = certClass.getConstructor(params);\r\n            Object obj = cons.newInstance(value);\r\n            return (X509Certificate)obj;\r\n        } catch (ClassNotFoundException var6) {\r\n            throw new CertificateException(&quot;Could not find class: &quot; + var6);\r\n```\r\n\r\n\r\n\r\n\r\nIs this a bug for Java 17.0.5?","title":"java.lang.ClassNotFoundException: com/sun/security/cert/internal/x509/X509V1CertImpl exception in Java 17.0.5","body":"<p>In Java 17.0.5, <strong>com.sun.security.cert.internal.x509.X509V1CertImpl</strong> has been removed.\nAnd if I call X509Certificate.getInst() with X509Provider=null,<br/>\nthan <strong>className = &quot;com.sun.security.cert.internal.x509.X509V1CertImpl&quot;</strong>\nand in the lower part it call <strong>Class&lt;?&gt; certClass = Class.forName(className);</strong> and end up</p>\n<p><strong>java.lang.ClassNotFoundException: com/sun/security/cert/internal/x509/X509V1CertImpl</strong></p>\n<pre><code>private static final X509Certificate getInst(Object value) throws CertificateException {\n        String className = X509Provider;\n        if (className == null || className.isEmpty()) {\n            className = &quot;com.sun.security.cert.internal.x509.X509V1CertImpl&quot;;\n        }\n\n        try {\n            Class&lt;?&gt;[] params = null;\n            if (value instanceof InputStream) {\n                params = new Class[]{InputStream.class};\n            } else {\n                if (!(value instanceof byte[])) {\n                    throw new CertificateException(&quot;Unsupported argument type&quot;);\n                }\n\n                params = new Class[]{value.getClass()};\n            }\n\n            Class&lt;?&gt; certClass = Class.forName(className);\n            Constructor&lt;?&gt; cons = certClass.getConstructor(params);\n            Object obj = cons.newInstance(value);\n            return (X509Certificate)obj;\n        } catch (ClassNotFoundException var6) {\n            throw new CertificateException(&quot;Could not find class: &quot; + var6);\n</code></pre>\n<p>Is this a bug for Java 17.0.5?</p>\n"},{"tags":["java","arraylist"],"answers":[{"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":1,"creation_date":1670329110,"post_id":74702141,"comment_id":131846657,"body_markdown":"Just as a note: `ArrayListId extends ArrayList&lt;CommonInterface&gt;` may also be possible. It really depends on the use case. I.e. whether you ever want a `ArrayListId&lt;A&gt;` or something like that","body":"Just as a note: <code>ArrayListId extends ArrayList&lt;CommonInterface&gt;</code> may also be possible. It really depends on the use case. I.e. whether you ever want a <code>ArrayListId&lt;A&gt;</code> or something like that"}],"tags":[],"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670327962,"creation_date":1670327962,"answer_id":74702141,"question_id":74702019,"body_markdown":"First of all, there&#39;s no need to extend `ArrayList` here. You can do this just fine without using inheritance.\r\n\r\nTo access the `getId`-method from `A` and `B`, they would need to implement a common interface that defines the method. Something like this:\r\n\r\n```java\r\ninterface CommonInterface {\r\n    String getId();\r\n}\r\n\r\nclass A implements CommonInterface { /* implement getId() */ }\r\nclass B implements CommonInterface { /* implement getId() */ }\r\n```\r\n\r\nWith this, you can create an `ArrayList&lt;CommonInterface&gt;` that can contain both As and Bs.\r\n\r\n```java\r\nList&lt;CommonInterface&gt; list = new ArrayList&lt;&gt;();\r\nlist.add(new A());\r\nlist.add(new B());\r\n```\r\n\r\nYou can take this list as an input to a `doSomething`-method:\r\n```java\r\npublic void doSomething(List&lt;CommonInterface&gt; list) {\r\n    //some code\r\n    String id = list.get(0).getId();\r\n    //some code\r\n}\r\n```\r\n\r\nIf you still need to extend `ArrayList` (you really shouldn&#39;t), then you would need to define it like this:\r\n```java\r\npublic class ArrayListId&lt;E extends CommonInterface&gt; extends ArrayList&lt;E&gt; {}\r\n```","title":"How to call methods of class from inside extended ArrayList","body":"<p>First of all, there's no need to extend <code>ArrayList</code> here. You can do this just fine without using inheritance.</p>\n<p>To access the <code>getId</code>-method from <code>A</code> and <code>B</code>, they would need to implement a common interface that defines the method. Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface CommonInterface {\n    String getId();\n}\n\nclass A implements CommonInterface { /* implement getId() */ }\nclass B implements CommonInterface { /* implement getId() */ }\n</code></pre>\n<p>With this, you can create an <code>ArrayList&lt;CommonInterface&gt;</code> that can contain both As and Bs.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;CommonInterface&gt; list = new ArrayList&lt;&gt;();\nlist.add(new A());\nlist.add(new B());\n</code></pre>\n<p>You can take this list as an input to a <code>doSomething</code>-method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void doSomething(List&lt;CommonInterface&gt; list) {\n    //some code\n    String id = list.get(0).getId();\n    //some code\n}\n</code></pre>\n<p>If you still need to extend <code>ArrayList</code> (you really shouldn't), then you would need to define it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ArrayListId&lt;E extends CommonInterface&gt; extends ArrayList&lt;E&gt; {}\n</code></pre>\n"}],"owner":{"account_id":14457410,"reputation":102,"user_id":14721109,"display_name":"Anthraxff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74702141,"answer_count":1,"score":0,"last_activity_date":1670327962,"creation_date":1670327380,"question_id":74702019,"body_markdown":"I want to create a custom ```ArrayList``` that can get multiple types like ```ArrayList&lt;A&gt;```, ```ArrayList&lt;B&gt;```.\r\n\r\nI extended ArrayList like this:\r\n```\r\npublic class ArrayListId&lt;E&gt; extends ArrayList {\r\n    public ArrayListId(@NonNull Collection c) {\r\n        super(c);\r\n    }\r\n\r\n    public void doSomething(){\r\n        //some code\r\n        String id = this.get(0).getId();\r\n        //some code\r\n}\r\n```\r\nboth ```A``` and ```B``` have the ```getId``` method in common but ```this.get(index)``` returns an ```Object``` which doesn&#39;t have this method so I get an error. how can i achieve this without abstracting ```A``` and ```B``` classes?","title":"How to call methods of class from inside extended ArrayList","body":"<p>I want to create a custom <code>ArrayList</code> that can get multiple types like <code>ArrayList&lt;A&gt;</code>, <code>ArrayList&lt;B&gt;</code>.</p>\n<p>I extended ArrayList like this:</p>\n<pre><code>public class ArrayListId&lt;E&gt; extends ArrayList {\n    public ArrayListId(@NonNull Collection c) {\n        super(c);\n    }\n\n    public void doSomething(){\n        //some code\n        String id = this.get(0).getId();\n        //some code\n}\n</code></pre>\n<p>both <code>A</code> and <code>B</code> have the <code>getId</code> method in common but <code>this.get(index)</code> returns an <code>Object</code> which doesn't have this method so I get an error. how can i achieve this without abstracting <code>A</code> and <code>B</code> classes?</p>\n"},{"tags":["java","jersey","glassfish"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1670337644,"post_id":74701674,"comment_id":131849973,"body_markdown":"ValueParamProvider was added in Jersey 2.26. If you&#39;re using Dropwizard, 1) you don&#39;t need any _base_ Jersey dependencies 2) If you do use any Jersey dependencies, make sure they are the same version Dropwizard is using.","body":"ValueParamProvider was added in Jersey 2.26. If you&#39;re using Dropwizard, 1) you don&#39;t need any <i>base</i> Jersey dependencies 2) If you do use any Jersey dependencies, make sure they are the same version Dropwizard is using."},{"owner":{"account_id":25484331,"reputation":1,"user_id":19280106,"display_name":"Amit Joshi"},"score":0,"creation_date":1670393471,"post_id":74701674,"comment_id":131863716,"body_markdown":"Hi @PaulSamsotha I am using dropwizard2 (v2.0.23)","body":"Hi @PaulSamsotha I am using dropwizard2 (v2.0.23)"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1670441721,"post_id":74701674,"comment_id":131879707,"body_markdown":"https://github.com/dropwizard/dropwizard/blob/2b53cc355d22691d81f38069cfb25180445e1ae6/dropwizard-dependencies/pom.xml#L49","body":"<a href=\"https://github.com/dropwizard/dropwizard/blob/2b53cc355d22691d81f38069cfb25180445e1ae6/dropwizard-dependencies/pom.xml#L49\" rel=\"nofollow noreferrer\">github.com/dropwizard/dropwizard/blob/&hellip;</a>"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1670441830,"post_id":74701674,"comment_id":131879737,"body_markdown":"You should also check what version of Jersey that third-party dropwizard-guicy is using. That seems to be the culprit by looking at the stack trace","body":"You should also check what version of Jersey that third-party dropwizard-guicy is using. That seems to be the culprit by looking at the stack trace"}],"owner":{"account_id":25484331,"reputation":1,"user_id":19280106,"display_name":"Amit Joshi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670327837,"creation_date":1670325863,"question_id":74701674,"body_markdown":"I am trying to run my maven application but getting the following error:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/glassfish/jersey/server/spi/internal/ValueParamProvider\r\n\tat ru.vyarus.dropwizard.guice.module.installer.feature.jersey.provider.JerseyProviderInstaller.&lt;clinit&gt;(JerseyProviderInstaller.java:72)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\r\n\tat java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\r\n\tat java.base/java.lang.Class.newInstance(Class.java:645)\r\n\tat ru.vyarus.dropwizard.guice.module.GuiceyInitializer.prepareInstallers(GuiceyInitializer.java:217)\r\n\tat ru.vyarus.dropwizard.guice.module.GuiceyInitializer.resolveInstallers(GuiceyInitializer.java:119)\r\n\tat ru.vyarus.dropwizard.guice.GuiceBundle.initialize(GuiceBundle.java:123)\r\n\tat io.dropwizard.setup.Bootstrap.addBundle(Bootstrap.java:150)\r\n\tat com.test.aae.aggregator.facade.App.initialize(App.java:164)\r\n\tat io.dropwizard.Application.run(Application.java:88)\r\n\tat com.test.aae.aggregator.facade.App.main(App.java:46)\r\nCaused by: java.lang.ClassNotFoundException: org.glassfish.jersey.server.spi.internal.ValueParamProvider\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n```\r\n\r\nI am using the following dependency in my pom.xml:\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.glassfish.jersey.bundles.repackaged&lt;/groupId&gt;\r\n   &lt;artifactId&gt;jersey-guava&lt;/artifactId&gt;\r\n   &lt;version&gt;${jersey-guava.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n   &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n   &lt;version&gt;2.22.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nMy app is running with java 17","title":"java.lang.ClassNotFoundException: org.glassfish.jersey.server.spi.internal.ValueParamProvider","body":"<p>I am trying to run my maven application but getting the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/glassfish/jersey/server/spi/internal/ValueParamProvider\n    at ru.vyarus.dropwizard.guice.module.installer.feature.jersey.provider.JerseyProviderInstaller.&lt;clinit&gt;(JerseyProviderInstaller.java:72)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\n    at java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\n    at java.base/java.lang.Class.newInstance(Class.java:645)\n    at ru.vyarus.dropwizard.guice.module.GuiceyInitializer.prepareInstallers(GuiceyInitializer.java:217)\n    at ru.vyarus.dropwizard.guice.module.GuiceyInitializer.resolveInstallers(GuiceyInitializer.java:119)\n    at ru.vyarus.dropwizard.guice.GuiceBundle.initialize(GuiceBundle.java:123)\n    at io.dropwizard.setup.Bootstrap.addBundle(Bootstrap.java:150)\n    at com.test.aae.aggregator.facade.App.initialize(App.java:164)\n    at io.dropwizard.Application.run(Application.java:88)\n    at com.test.aae.aggregator.facade.App.main(App.java:46)\nCaused by: java.lang.ClassNotFoundException: org.glassfish.jersey.server.spi.internal.ValueParamProvider\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n</code></pre>\n<p>I am using the following dependency in my pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.glassfish.jersey.bundles.repackaged&lt;/groupId&gt;\n   &lt;artifactId&gt;jersey-guava&lt;/artifactId&gt;\n   &lt;version&gt;${jersey-guava.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n   &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n   &lt;version&gt;2.22.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My app is running with java 17</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1670326904,"post_id":74701873,"comment_id":131845849,"body_markdown":"What is the error?...","body":"What is the error?..."},{"owner":{"account_id":27164008,"reputation":1,"user_id":20701767,"display_name":"Ruby"},"score":0,"creation_date":1670327218,"post_id":74701873,"comment_id":131845962,"body_markdown":"App is getting crash at NewActivity and there is no data in recycler view..in logcat i can see error at LoadDataTask and contactarray.add(contactList.get(i))","body":"App is getting crash at NewActivity and there is no data in recycler view..in logcat i can see error at LoadDataTask and contactarray.add(contactList.get(i))"},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1670327245,"post_id":74701873,"comment_id":131845971,"body_markdown":"Yes, but what does the error say.","body":"Yes, but what does the error say."},{"owner":{"account_id":27164008,"reputation":1,"user_id":20701767,"display_name":"Ruby"},"score":0,"creation_date":1670327381,"post_id":74701873,"comment_id":131846014,"body_markdown":"Caused by: java.lang.IndexOutOfBoundsException: Index: 4, Size: 4\n        at java.util.ArrayList.get(ArrayList.java:437)\n        at com.app.mycontacts.NewActivity$LoadDataTask.doInBackground(NewActivity.java:65)\n        at com.app.mycontacts.NewActivity$LoadDataTask.doInBackground(NewActivity.java:46)","body":"Caused by: java.lang.IndexOutOfBoundsException: Index: 4, Size: 4         at java.util.ArrayList.get(ArrayList.java:437)         at com.app.mycontacts.NewActivity$LoadDataTask.doInBackground(N&zwnj;&#8203;ewActivity.java:65)         at com.app.mycontacts.NewActivity$LoadDataTask.doInBackground(N&zwnj;&#8203;ewActivity.java:46)"},{"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"score":0,"creation_date":1670327543,"post_id":74701873,"comment_id":131846077,"body_markdown":"put this ContactRepository contactRepository in global not inside asyncTask.\ncontactRepository = new ContactRepository(getApplicationContext()); this in onCreate.","body":"put this ContactRepository contactRepository in global not inside asyncTask. contactRepository = new ContactRepository(getApplicationContext()); this in onCreate."},{"owner":{"account_id":27164008,"reputation":1,"user_id":20701767,"display_name":"Ruby"},"score":0,"creation_date":1670328748,"post_id":74701873,"comment_id":131846514,"body_markdown":"now there is an error at            recyclerView.setLayoutManager(new LinearLayoutManager(NewActivity.this));","body":"now there is an error at            recyclerView.setLayoutManager(new LinearLayoutManager(NewActivity.this));"}],"answers":[{"comments":[{"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"score":0,"creation_date":1670328034,"post_id":74702084,"comment_id":131846244,"body_markdown":"correct @TheLibrarain..","body":"correct @TheLibrarain.."}],"tags":[],"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670327681,"creation_date":1670327681,"answer_id":74702084,"question_id":74701873,"body_markdown":"You are indexing wrong in the loop.\r\n\r\nThe size of the list is 4 but Java indexes from 0. So if you have 4 elements it goes [0], [1], [2], [3]\r\n\r\n    for(int i=0; i&lt;=contactList1.size();i++){\r\n        contactarrayList.add(contactList1.get(i));       \r\n    }\r\n\r\nWhat you are doing is reaching for the fifth element - `[0], [1], [2], [3], [4]`.\r\n\r\nThis will work:\r\n\r\n    for(int i=0; i &lt; contactList1.size();i++){\r\n        contactarrayList.add(contactList1.get(i));       \r\n    }\r\n\r\nBut you don&#39;t need to iterate it, you should be able to just call `.addAll`.\r\n\r\n    contactarrayList.addAll(contactList1);       ","title":"Unable to display data in recycler view from room db","body":"<p>You are indexing wrong in the loop.</p>\n<p>The size of the list is 4 but Java indexes from 0. So if you have 4 elements it goes [0], [1], [2], [3]</p>\n<pre><code>for(int i=0; i&lt;=contactList1.size();i++){\n    contactarrayList.add(contactList1.get(i));       \n}\n</code></pre>\n<p>What you are doing is reaching for the fifth element - <code>[0], [1], [2], [3], [4]</code>.</p>\n<p>This will work:</p>\n<pre><code>for(int i=0; i &lt; contactList1.size();i++){\n    contactarrayList.add(contactList1.get(i));       \n}\n</code></pre>\n<p>But you don't need to iterate it, you should be able to just call <code>.addAll</code>.</p>\n<pre><code>contactarrayList.addAll(contactList1);       \n</code></pre>\n"}],"owner":{"account_id":27164008,"reputation":1,"user_id":20701767,"display_name":"Ruby"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670327709,"creation_date":1670326736,"question_id":74701873,"body_markdown":"Getting error at NewActivity, as getting error while adding the data in array list and loading it to recycler view. Iam working on a project where I have to load Room data in recycler view. I am getting an error in for loop .. tried using foreach still getting tge same error. Error is showing while using add method to load a data from list to arraylist\r\n\r\n\r\n\r\n```\r\npackage com.app.mycontacts;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.DefaultItemAnimator;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.content.Intent;\r\nimport android.os.AsyncTask;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Adapter;\r\n\r\nimport com.app.mycontacts.AddContactActivity.AddContactActivity;\r\nimport com.app.mycontacts.Data.ContactDetails;\r\nimport com.app.mycontacts.Data.ContactRepository;\r\nimport com.app.mycontacts.Data.MyAdapterClass;\r\nimport com.app.mycontacts.R;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class NewActivity extends AppCompatActivity {\r\n\r\n    RecyclerView recyclerView;\r\n    RecyclerView.Adapter adapter;\r\n    ArrayList&lt;ContactDetails&gt; contactarrayList;\r\n    RecyclerView.LayoutManager layoutManager;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        recyclerView= findViewById(R.id.reyclerview);\r\n\r\n        new LoadDataTask().execute();\r\n    }\r\n\r\n\r\n    class LoadDataTask extends AsyncTask&lt;Void,Void,Void&gt; {\r\n\r\n        ContactRepository contactRepository;\r\n        List&lt;ContactDetails&gt; contactList1;\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n            contactRepository = new ContactRepository(getApplicationContext());\r\n        }\r\n\r\n        @Override\r\n        protected Void doInBackground(Void... voids) {\r\n\r\n            contactList1=contactRepository.getContactsDetails();\r\n            contactarrayList= new ArrayList&lt;ContactDetails&gt;();\r\n\r\n            for(int i=0; i&lt;=contactList1.size();i++){\r\n\r\n                contactarrayList.add(contactList1.get(i));\r\n               \r\n            }\r\n            return null;\r\n        }\r\n        @Override\r\n        protected void onPostExecute(Void unused) {\r\n            super.onPostExecute(unused);\r\n\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(NewActivity.this));\r\n\r\n            MyAdapterClass myAdapterClass= new MyAdapterClass(NewActivity.this,contactarrayList);\r\n            recyclerView.setAdapter(myAdapterClass);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n```\r\n\r\n\r\nTried debugging the code, app is getting crash at the above stage.. Expecting to display the data inserted at room db.\r\n\r\n","title":"Unable to display data in recycler view from room db","body":"<p>Getting error at NewActivity, as getting error while adding the data in array list and loading it to recycler view. Iam working on a project where I have to load Room data in recycler view. I am getting an error in for loop .. tried using foreach still getting tge same error. Error is showing while using add method to load a data from list to arraylist</p>\n<pre><code>package com.app.mycontacts;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.DefaultItemAnimator;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.content.Intent;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Adapter;\n\nimport com.app.mycontacts.AddContactActivity.AddContactActivity;\nimport com.app.mycontacts.Data.ContactDetails;\nimport com.app.mycontacts.Data.ContactRepository;\nimport com.app.mycontacts.Data.MyAdapterClass;\nimport com.app.mycontacts.R;\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class NewActivity extends AppCompatActivity {\n\n    RecyclerView recyclerView;\n    RecyclerView.Adapter adapter;\n    ArrayList&lt;ContactDetails&gt; contactarrayList;\n    RecyclerView.LayoutManager layoutManager;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        recyclerView= findViewById(R.id.reyclerview);\n\n        new LoadDataTask().execute();\n    }\n\n\n    class LoadDataTask extends AsyncTask&lt;Void,Void,Void&gt; {\n\n        ContactRepository contactRepository;\n        List&lt;ContactDetails&gt; contactList1;\n\n        @Override\n        protected void onPreExecute() {\n            super.onPreExecute();\n            contactRepository = new ContactRepository(getApplicationContext());\n        }\n\n        @Override\n        protected Void doInBackground(Void... voids) {\n\n            contactList1=contactRepository.getContactsDetails();\n            contactarrayList= new ArrayList&lt;ContactDetails&gt;();\n\n            for(int i=0; i&lt;=contactList1.size();i++){\n\n                contactarrayList.add(contactList1.get(i));\n               \n            }\n            return null;\n        }\n        @Override\n        protected void onPostExecute(Void unused) {\n            super.onPostExecute(unused);\n\n            recyclerView.setLayoutManager(new LinearLayoutManager(NewActivity.this));\n\n            MyAdapterClass myAdapterClass= new MyAdapterClass(NewActivity.this,contactarrayList);\n            recyclerView.setAdapter(myAdapterClass);\n        }\n    }\n\n}\n\n\n\n\n</code></pre>\n<p>Tried debugging the code, app is getting crash at the above stage.. Expecting to display the data inserted at room db.</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":2,"creation_date":1670326718,"post_id":74701769,"comment_id":131845783,"body_markdown":"_Observation_ You are creating a connection for each method that requires DB access, Better to make one connection and reuse it in whichever method requires db access. Your way risks running out of connections","body":"<i>Observation</i> You are creating a connection for each method that requires DB access, Better to make one connection and reuse it in whichever method requires db access. Your way risks running out of connections"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1670327075,"post_id":74701769,"comment_id":131845909,"body_markdown":"Also, `st` and `rs` seem to be fields. Very bad idea.","body":"Also, <code>st</code> and <code>rs</code> seem to be fields. Very bad idea."},{"owner":{"account_id":23232679,"reputation":13,"user_id":17323128,"display_name":"Badr Serhiri"},"score":0,"creation_date":1670327157,"post_id":74701769,"comment_id":131845939,"body_markdown":"The point here was to be able to close the connection aswell  because these methods are called in the constructor and there is no other way to go about it, but as you can see I had to comment out the close() because the way I set this up  back fired in the loadOrderList() method, any suggestions?","body":"The point here was to be able to close the connection aswell  because these methods are called in the constructor and there is no other way to go about it, but as you can see I had to comment out the close() because the way I set this up  back fired in the loadOrderList() method, any suggestions?"}],"answers":[{"comments":[{"owner":{"account_id":23232679,"reputation":13,"user_id":17323128,"display_name":"Badr Serhiri"},"score":0,"creation_date":1670327757,"post_id":74701986,"comment_id":131846148,"body_markdown":"You are right I had to create a new ResultSet field in the loadOrderList() method, so far the error has disappeared.","body":"You are right I had to create a new ResultSet field in the loadOrderList() method, so far the error has disappeared."}],"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670327249,"creation_date":1670327249,"answer_id":74701986,"question_id":74701769,"body_markdown":"`loadOrderList` calls (indirectly) `loadItemList` which changes the `st` and `rs` fields while `rs` is still needed in `loadOrderList` for the next iterations.","title":"Retrieve data from MySQL in Java (After end of result set error)","body":"<p><code>loadOrderList</code> calls (indirectly) <code>loadItemList</code> which changes the <code>st</code> and <code>rs</code> fields while <code>rs</code> is still needed in <code>loadOrderList</code> for the next iterations.</p>\n"}],"owner":{"account_id":23232679,"reputation":13,"user_id":17323128,"display_name":"Badr Serhiri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74701986,"answer_count":1,"score":-2,"last_activity_date":1670327480,"creation_date":1670326280,"question_id":74701769,"body_markdown":"Can anyone tell me what is wrong with my code here, and what is the best approach to do the same thing?\r\n\r\nI&#39;m trying to connect to a database and retrieve a list of unprocessed orders, recreate the order object which takes as parameters, a customer object, a product object, and an integer (unity).\r\n\r\nThese methods exist in my connection class:\r\n\r\n```java\r\npublic Map&lt;String, Cliente&gt; loadCustomerList() throws SQLException {\r\n\tconexion = DriverManager.getConnection(this.url, this.user, this.password);\r\n\tMap&lt;String, Cliente&gt; listaClientes = new HashMap&lt;&gt;();\r\n\tquery = &quot;SELECT * FROM cliente&quot;;\r\n\tst = conexion.prepareStatement(query);\r\n\trs = st.executeQuery();\r\n\twhile (rs.next()) {\r\n\t\tString dni = rs.getString(1);\r\n\t\tString nombre = rs.getString(2);\r\n\t\tString apellidos = rs.getString(3);\r\n\t\tint descuento = rs.getInt(4);\r\n\r\n\t\tlistaClientes.put(dni, new Cliente(dni, nombre, apellidos, descuento));\r\n\t}\r\n\r\n\t//conexion.close();\r\n\treturn lista Clientes;\r\n}\r\n\r\npublic List&lt;Item&gt; loadItemList() throws SQLException {\r\n    conexion = DriverManager.getConnection(this.url, this.user, this.password);\r\n\tList&lt;Item&gt; listaItems = new ArrayList&lt;&gt;();\r\n\tquery = &quot;SELECT * FROM item;&quot;;\r\n\tst = conexion.prepareStatement(query);\r\n\trs = st.executeQuery();\r\n\twhile (rs.next()) {\r\n\t\tString nombre = rs.getString(1);\r\n\t\tdouble precio = rs.getDouble(2);\r\n\t\tint existencias = rs.getInt(3);\r\n\r\n\t\tlistaItems.add(new Item(nombre, precio, existencias));\r\n\t}\r\n\r\n\t//conexion.close();\r\n\treturn listaItems;\r\n}\r\n\r\npublic Cliente findClient(String dni) throws SQLException {\r\n\tCliente cliente = null;\r\n\tfor (Map.Entry&lt;String, Cliente&gt; entry : loadCustomerList().entrySet()) {\r\n\t\tif(entry.getKey().equals(dni)) {\r\n\t\t\tcliente = entry.getValue();\r\n\t\t}\r\n\t}\r\n\treturn cliente;\r\n}\r\n\t\r\npublic Producto findItem(String nombreProduco) throws SQLException {\r\n\tProducto producto = null;\r\n\tfor(Producto item : loadListItems()) {\r\n\t\tif(item.getNombre().equals(nombreProduco)) {\r\n\t\t\tproducto = item;\r\n\t\t}\r\n\t}\r\n\treturn producto;\r\n}\r\n\r\npublic List&lt;Pedido&gt; loadOrderList() throws SQLException {\r\n\tconexion = DriverManager.getConnection(this.url, this.user, this.password);\r\n\tList&lt;Pedido&gt; listaPedidos = new ArrayList&lt;&gt;();\r\n\tCliente cliente =null;\r\n\tProducto producto =null;\r\n\tquery = &quot;SELECT * FROM pedido WHERE `Numero Factura` IS NULL&quot;;\r\n\tst = conexion.prepareStatement(query);\r\n\trs = st.executeQuery();\r\n\twhile (rs.next()) {\r\n\t\tint unidad = rs.getInt(3);\r\n\t\t producto = findItem(rs.getString(2));\r\n\t     cliente = findClient(rs.getString(6));\r\n\t\t listaPedidos.add(new Pedido(producto, unidad, cliente));\r\n\t}\r\n\t\r\n\tconexion.close();\r\n\t\r\n\treturn listaPedidos;\r\n}\r\n```\r\n\r\nI want to be able to call the loadOrderList() method in the constructor of the main operation class like this:\r\n\r\n```\r\npublic class PruebaComercio {\r\n\r\n\tprivate Map&lt;String, Cliente&gt; listaClientes;\r\n\tprivate List&lt;Pedido&gt; listaPedidos;\r\n\tprivate List&lt;Factura&gt; listaFacturas;\r\n\tprivate Almacen almacen;\r\n\tprivate ConnectionMysql connection = new ConnectionMysql();\r\n\r\n\tpublic PruebaComercio() throws SQLException {\r\n\t\tthis.listaClientes = connection.cargarListaClientes();\r\n\t\tthis.listaPedidos = connection.loadOrderList();\r\n\t\tthis.listaFacturas = new ArrayList&lt;&gt;();\r\n\t\tthis.almacen = new Almacen();\r\n\t}\r\n```\r\n\r\nOutput:\r\n```none\r\nException in thread &quot;main&quot; java.sql.SQLException: After end of result set\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)\r\n\tat com.mysql.cj.jdbc.result.ResultSetImpl.checkRowPos(ResultSetImpl.java:532)\r\n\tat com.mysql.cj.jdbc.result.ResultSetImpl.getString(ResultSetImpl.java:878)\r\n\tat Facturacion.ConnectionMysql.cargarListaPedido(ConnectionMysql.java:166)\r\n\tat Facturacion.PruebaComercio.&lt;init&gt;(PruebaComercio.java:23)\r\n\tat Facturacion.Main.main(Main.java:25)\r\n```\r\n\r\nSorry for the use of Spanish here, the project was done in Spanish, I did my best to translate the important things.\r\n\r\n                              ","title":"Retrieve data from MySQL in Java (After end of result set error)","body":"<p>Can anyone tell me what is wrong with my code here, and what is the best approach to do the same thing?</p>\n<p>I'm trying to connect to a database and retrieve a list of unprocessed orders, recreate the order object which takes as parameters, a customer object, a product object, and an integer (unity).</p>\n<p>These methods exist in my connection class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Map&lt;String, Cliente&gt; loadCustomerList() throws SQLException {\n    conexion = DriverManager.getConnection(this.url, this.user, this.password);\n    Map&lt;String, Cliente&gt; listaClientes = new HashMap&lt;&gt;();\n    query = &quot;SELECT * FROM cliente&quot;;\n    st = conexion.prepareStatement(query);\n    rs = st.executeQuery();\n    while (rs.next()) {\n        String dni = rs.getString(1);\n        String nombre = rs.getString(2);\n        String apellidos = rs.getString(3);\n        int descuento = rs.getInt(4);\n\n        listaClientes.put(dni, new Cliente(dni, nombre, apellidos, descuento));\n    }\n\n    //conexion.close();\n    return lista Clientes;\n}\n\npublic List&lt;Item&gt; loadItemList() throws SQLException {\n    conexion = DriverManager.getConnection(this.url, this.user, this.password);\n    List&lt;Item&gt; listaItems = new ArrayList&lt;&gt;();\n    query = &quot;SELECT * FROM item;&quot;;\n    st = conexion.prepareStatement(query);\n    rs = st.executeQuery();\n    while (rs.next()) {\n        String nombre = rs.getString(1);\n        double precio = rs.getDouble(2);\n        int existencias = rs.getInt(3);\n\n        listaItems.add(new Item(nombre, precio, existencias));\n    }\n\n    //conexion.close();\n    return listaItems;\n}\n\npublic Cliente findClient(String dni) throws SQLException {\n    Cliente cliente = null;\n    for (Map.Entry&lt;String, Cliente&gt; entry : loadCustomerList().entrySet()) {\n        if(entry.getKey().equals(dni)) {\n            cliente = entry.getValue();\n        }\n    }\n    return cliente;\n}\n    \npublic Producto findItem(String nombreProduco) throws SQLException {\n    Producto producto = null;\n    for(Producto item : loadListItems()) {\n        if(item.getNombre().equals(nombreProduco)) {\n            producto = item;\n        }\n    }\n    return producto;\n}\n\npublic List&lt;Pedido&gt; loadOrderList() throws SQLException {\n    conexion = DriverManager.getConnection(this.url, this.user, this.password);\n    List&lt;Pedido&gt; listaPedidos = new ArrayList&lt;&gt;();\n    Cliente cliente =null;\n    Producto producto =null;\n    query = &quot;SELECT * FROM pedido WHERE `Numero Factura` IS NULL&quot;;\n    st = conexion.prepareStatement(query);\n    rs = st.executeQuery();\n    while (rs.next()) {\n        int unidad = rs.getInt(3);\n         producto = findItem(rs.getString(2));\n         cliente = findClient(rs.getString(6));\n         listaPedidos.add(new Pedido(producto, unidad, cliente));\n    }\n    \n    conexion.close();\n    \n    return listaPedidos;\n}\n</code></pre>\n<p>I want to be able to call the loadOrderList() method in the constructor of the main operation class like this:</p>\n<pre><code>public class PruebaComercio {\n\n    private Map&lt;String, Cliente&gt; listaClientes;\n    private List&lt;Pedido&gt; listaPedidos;\n    private List&lt;Factura&gt; listaFacturas;\n    private Almacen almacen;\n    private ConnectionMysql connection = new ConnectionMysql();\n\n    public PruebaComercio() throws SQLException {\n        this.listaClientes = connection.cargarListaClientes();\n        this.listaPedidos = connection.loadOrderList();\n        this.listaFacturas = new ArrayList&lt;&gt;();\n        this.almacen = new Almacen();\n    }\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.sql.SQLException: After end of result set\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:63)\n    at com.mysql.cj.jdbc.result.ResultSetImpl.checkRowPos(ResultSetImpl.java:532)\n    at com.mysql.cj.jdbc.result.ResultSetImpl.getString(ResultSetImpl.java:878)\n    at Facturacion.ConnectionMysql.cargarListaPedido(ConnectionMysql.java:166)\n    at Facturacion.PruebaComercio.&lt;init&gt;(PruebaComercio.java:23)\n    at Facturacion.Main.main(Main.java:25)\n</code></pre>\n<p>Sorry for the use of Spanish here, the project was done in Spanish, I did my best to translate the important things.</p>\n"},{"tags":["java","spring","spring-boot","performance","http"],"comments":[{"owner":{"account_id":1496697,"reputation":8191,"user_id":1402453,"display_name":"Alexey Ragozin"},"score":0,"creation_date":1670710212,"post_id":74701824,"comment_id":131937397,"body_markdown":"Take a look at similar question https://stackoverflow.com/questions/60234484/jetty-how-to-detect-if-http-connection-was-closed-by-client","body":"Take a look at similar question <a href=\"https://stackoverflow.com/questions/60234484/jetty-how-to-detect-if-http-connection-was-closed-by-client\" title=\"jetty how to detect if http connection was closed by client\">stackoverflow.com/questions/60234484/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":9553438,"reputation":3539,"user_id":7096763,"display_name":"MikaelF"},"score":1,"creation_date":1681690566,"post_id":74701930,"comment_id":134092535,"body_markdown":"First, the question states that the client won&#39;t receive the response anyways, so this answer is not helpful. Second, retrying interrupted/failed calls is the reason for idempotent endpoints (GET and PUT are idempotent by definition). Third, cancelling blocking calls when the underlying TCP connection is closed is standard practice in Golang (through cancellation of `request.Context()`).","body":"First, the question states that the client won&#39;t receive the response anyways, so this answer is not helpful. Second, retrying interrupted/failed calls is the reason for idempotent endpoints (GET and PUT are idempotent by definition). Third, cancelling blocking calls when the underlying TCP connection is closed is standard practice in Golang (through cancellation of <code>request.Context()</code>)."}],"tags":[],"owner":{"account_id":20519962,"reputation":1,"user_id":15059811,"display_name":"Salva"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1670326935,"creation_date":1670326935,"answer_id":74701930,"question_id":74701824,"body_markdown":"It would not be correct to stop the logic because a user will not receive information. Imagine the case where this process applies a necessary or irreversible change. Otherwise, you should further segment the logic that it executes so that it is executed in the event that the user confirms that he is there.","title":"Avoid further processing if client HTTP connection has been closed","body":"<p>It would not be correct to stop the logic because a user will not receive information. Imagine the case where this process applies a necessary or irreversible change. Otherwise, you should further segment the logic that it executes so that it is executed in the event that the user confirms that he is there.</p>\n"}],"owner":{"account_id":27164072,"reputation":1,"user_id":20701826,"display_name":"ddfin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":694,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670327364,"creation_date":1670326525,"question_id":74701824,"body_markdown":"I&#39;m trying to improve performances and computing costs on a Spring Boot application which handles simple REST requests.\r\n\r\nHere is what I would try to achieve:\r\n1. The client (browser) sends an HTTP POST request\r\n2. My server (Spring Boot) receives the request and start executing the related logic.\r\n3. The client loses connection permanently (or the user closes the browser)\r\n\r\nAt this point, is it possible to stop whatever the server is doing and let it release connection/thread/and whatever resource it has retained for handling the request?\r\n\r\nIs there any particular configuration or a specific implementation is needed?","title":"Avoid further processing if client HTTP connection has been closed","body":"<p>I'm trying to improve performances and computing costs on a Spring Boot application which handles simple REST requests.</p>\n<p>Here is what I would try to achieve:</p>\n<ol>\n<li>The client (browser) sends an HTTP POST request</li>\n<li>My server (Spring Boot) receives the request and start executing the related logic.</li>\n<li>The client loses connection permanently (or the user closes the browser)</li>\n</ol>\n<p>At this point, is it possible to stop whatever the server is doing and let it release connection/thread/and whatever resource it has retained for handling the request?</p>\n<p>Is there any particular configuration or a specific implementation is needed?</p>\n"},{"tags":["java","mybatis"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1670162898,"post_id":74677319,"comment_id":131806178,"body_markdown":"Without taking a closer look at the relevant spring-boot code, my guess is that this could be due to GraalVM&#39;s aggressive optimization, removing unused code. GraalVM does not &quot;see&quot; reflective access to classes/methods and thus might remove methods that are accessed through reflection. There is a [tracing agent](https://www.graalvm.org/22.0/reference-manual/native-image/Agent/) to find reflective calls. Maybe this helps.","body":"Without taking a closer look at the relevant spring-boot code, my guess is that this could be due to GraalVM&#39;s aggressive optimization, removing unused code. GraalVM does not &quot;see&quot; reflective access to classes/methods and thus might remove methods that are accessed through reflection. There is a <a href=\"https://www.graalvm.org/22.0/reference-manual/native-image/Agent/\" rel=\"nofollow noreferrer\">tracing agent</a> to find reflective calls. Maybe this helps."},{"owner":{"account_id":27141983,"reputation":1,"user_id":20682724,"display_name":"Pie Land"},"score":0,"creation_date":1670325540,"post_id":74677319,"comment_id":131845390,"body_markdown":"@Turing85 thanks for your advice. after i try generate native meta with graalvm agent, there are other errors.","body":"@Turing85 thanks for your advice. after i try generate native meta with graalvm agent, there are other errors."},{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1670353740,"post_id":74677319,"comment_id":131855833,"body_markdown":"@PieLand Are you using [mybatis-spring-native](https://github.com/mybatis/spring-native)?","body":"@PieLand Are you using <a href=\"https://github.com/mybatis/spring-native\" rel=\"nofollow noreferrer\">mybatis-spring-native</a>?"},{"owner":{"account_id":27141983,"reputation":1,"user_id":20682724,"display_name":"Pie Land"},"score":0,"creation_date":1670425371,"post_id":74677319,"comment_id":131874135,"body_markdown":"@ave thanks for the tips. i check the mybatis-spring-native dependencies, it don&#39;t support spring boot 3. I am using spring boot 3.","body":"@ave thanks for the tips. i check the mybatis-spring-native dependencies, it don&#39;t support spring boot 3. I am using spring boot 3."},{"owner":{"account_id":2183640,"reputation":5977,"user_id":1932557,"accept_rate":45,"display_name":"Bahramdun Adil"},"score":0,"creation_date":1682379716,"post_id":74677319,"comment_id":134203010,"body_markdown":"Hi bro! I am facing the same error, did you solve the problem? If yes, please tell me also, thanks in advance!! Waiting for your reply...","body":"Hi bro! I am facing the same error, did you solve the problem? If yes, please tell me also, thanks in advance!! Waiting for your reply..."}],"owner":{"account_id":27141983,"reputation":1,"user_id":20682724,"display_name":"Pie Land"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670327293,"creation_date":1670162471,"question_id":74677319,"body_markdown":"Currently, I am trying to use Spring Boot 3 with GraalVM native image with JDK 19.\r\nGraalVM version is ce-java19-22.3\r\n\r\nAfter i create native image successfully, run executable  file  ./target/demo_boot3.\r\nThen, i got following error:\r\n```\r\njava.lang.ExceptionInInitializerError: null\r\n        at org.mybatis.spring.mapper.MapperScannerConfigurer.postProcessBeanDefinitionRegistry(MapperScannerConfigurer.java:363) ~[demo_boot3:3.0.0]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[na:na]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:145) ~[na:na]\r\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:745) ~[demo_boot3:6.0.2]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[demo_boot3:6.0.2]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[demo_boot3:3.0.0]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[demo_boot3:3.0.0]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[demo_boot3:3.0.0]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[demo_boot3:3.0.0]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[demo_boot3:3.0.0]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[demo_boot3:3.0.0]\r\n        at com.example.demo.boot3.DemoBoot3Application.main(DemoBoot3Application.java:45) ~[demo_boot3:na]\r\nCaused by: org.apache.ibatis.logging.LogException: Error creating logger for logger org.mybatis.spring.mapper.ClassPathMapperScanner.  Cause: java.lang.NullPointerException\r\n        at org.apache.ibatis.logging.LogFactory.getLog(LogFactory.java:54) ~[na:na]\r\n        at org.apache.ibatis.logging.LogFactory.getLog(LogFactory.java:47) ~[na:na]\r\n        at org.mybatis.logging.LoggerFactory.getLogger(LoggerFactory.java:32) ~[na:na]\r\n        at org.mybatis.spring.mapper.ClassPathMapperScanner.&lt;clinit&gt;(ClassPathMapperScanner.java:60) ~[na:na]\r\n        ... 12 common frames omitted\r\nCaused by: java.lang.NullPointerException: null\r\n        at org.apache.ibatis.logging.LogFactory.getLog(LogFactory.java:52) ~[na:na]\r\n        ... 15 common frames omitted\r\n\r\n```\r\n\r\nSecond step, then i try to init LogFactory manually by using static method, as following:\r\n```\r\ntry {\r\n   LogFactory.useSlf4jLogging();\r\n} catch (Exception e) {\r\n   e.printStackTrace();\r\n}\r\ntry {\r\n   LogFactory.useCommonsLogging();\r\n} catch (Exception e) {\r\n   e.printStackTrace();\r\n}\r\n\r\ntry {\r\n   LogFactory.useLog4J2Logging();\r\n} catch (Exception e) {\r\n   e.printStackTrace();\r\n}\r\ntry {\r\n   LogFactory.useJdkLogging();\r\n} catch (Exception e) {\r\n   e.printStackTrace();\r\n}\r\ntry {\r\n   LogFactory.useNoLogging();\r\n} catch (Exception e) {\r\n   e.printStackTrace();\r\n}\r\n```\r\n\r\nThen, still got errors:\r\n```\r\norg.apache.ibatis.logging.LogException: Error setting Log implementation.  Cause: java.lang.NoSuchMethodException: org.apache.ibatis.logging.slf4j.Slf4jImpl.&lt;init&gt;(java.lang.String)\r\n        at org.apache.ibatis.logging.LogFactory.setImplementation(LogFactory.java:113)\r\n        at org.apache.ibatis.logging.LogFactory.useSlf4jLogging(LogFactory.java:63)\r\n        at com.example.demo.boot3.DemoBoot3Application.&lt;clinit&gt;(DemoBoot3Application.java:14)\r\nCaused by: java.lang.NoSuchMethodException: org.apache.ibatis.logging.slf4j.Slf4jImpl.&lt;init&gt;(java.lang.String)\r\n        at java.base@19.0.1/java.lang.Class.getConstructor0(DynamicHub.java:3641)\r\n        at java.base@19.0.1/java.lang.Class.getConstructor(DynamicHub.java:2324)\r\n        at org.apache.ibatis.logging.LogFactory.setImplementation(LogFactory.java:106)\r\n        ... 2 more\r\n\r\n```\r\n\r\n\r\n**These constructor surely exists, but can&#39;t be found**, as following:\r\n```\r\npublic Slf4jImpl(String clazz) {\r\n  Logger logger = LoggerFactory.getLogger(clazz);\r\n\r\n  if (logger instanceof LocationAwareLogger) {\r\n    try {\r\n      // check for slf4j &gt;= 1.6 method signature\r\n      logger.getClass().getMethod(&quot;log&quot;, Marker.class, String.class, int.class, String.class, Object[].class, Throwable.class);\r\n      log = new Slf4jLocationAwareLoggerImpl((LocationAwareLogger) logger);\r\n      return;\r\n    } catch (SecurityException | NoSuchMethodException e) {\r\n      // fail-back to Slf4jLoggerImpl\r\n    }\r\n  }\r\n\r\n  // Logger is not LocationAwareLogger or slf4j version &lt; 1.6\r\n  log = new Slf4jLoggerImpl(logger);\r\n}\r\n```\r\n\r\nDo anyone know this issue?\r\n\r\n\r\n\r\n\r\nTry to init LogFactory manually by using static method, expect vm can find the constructor.\r\nbut still get NoSuchMethod error.\r\n\r\n\r\nAfter try to use GraalVM agent to generate native image meta, the error is gone.\r\n\r\nThen other errors show, \r\n```\r\nError: Failed to prepare class with hash cb87220bbf3b7662f36953383b7b9076fdf52ee5b3314b7d90ba1bf30ffdc924 from file:/Users/cook/work/pieland/java_demo/demo_boot3/target/classes/META-INF/native-image/agent-extracted-predefined-classes/ for predefinition\r\n```\r\n\r\nafter i remove predefined-classes-config and org.springframework.boot.loader, the step of compile native image can be done.\r\n\r\nBut when i try to run the final executable file, it shows Segfault detected:\r\n```\r\n[ [ SubstrateSegfaultHandler caught a segfault in thread 0x00007fb603c0a3c0 ] ]\r\nsiginfo: si_signo: 11, si_code: 0, si_addr: 0x0000000000000000\r\n\r\nCurrent timestamp: 1670326122279\r\n\r\nGeneral purpose register values:\r\n  RAX 0x0000000114aa4568 points into the image heap (read-only huge)\r\n  RBX 0x0000000001311548 is an unknown value\r\n  RCX 0xfffffffffffffff8 is an unknown value\r\n  RDX 0x0000000000000003 is an unknown value\r\n  RBP 0x0000000117bf3530 points into an aligned TLAB chunk of thread 0x00007fb603c0a3c0\r\n    is an object of type java.nio.HeapByteBuffer\r\n  RSI 0x0d8e5211a2400d8e is an unknown value\r\n  RDI 0x0d8e521090000d8e is an unknown value\r\n  RSP 0x00007ffee30ce7b0 points into the stack for thread 0x00007fb603c0a3c0\r\n  R8  0x0000000112400000 is the heap base\r\n  R9  0x0000000117bf38e8 points into an aligned TLAB chunk of thread 0x00007fb603c0a3c0\r\n    is an object of type java.util.LinkedHashMap\r\n  R10 0x0000000117bf3518 points into an aligned TLAB chunk of thread 0x00007fb603c0a3c0\r\n    is an object of type jdk.internal.reflect.ConstantPool\r\n  R11 0x000000011317ce30 points into the image heap (read-only references)\r\n    is the hub of org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryConfiguration$EmbeddedJetty\r\n  R12 0x0000000112400000 is the heap base\r\n  R13 0x0000000113678198 points into the image heap (read-only relocatables)\r\n    is the hub of org.springframework.core.annotation.AnnotationAttributes\r\n  R14 0x0000000112400000 is the heap base\r\n  R15 0x00007fb603c0a3c0 is a thread\r\n  EFL 0x0000000000010206 is an unknown value\r\n  RIP 0x000000010e08a586 points into AOT compiled code \r\n  \r\nPrinting Instructions (ip=0x000000010e08a586):\r\n  0x000000010e08a566: 0x5f 0x14 0xff 0x90 0x48 0x8b 0x3c 0x05 0x00 0x00 0x00 0x00 0x49 0x8d 0x34 0x3e\r\n  0x000000010e08a576: 0x48 0x85 0xff 0x0f 0x84 0x1e 0x00 0x00 0x00 0x48 0xc7 0xc1 0xf8 0xff 0xff 0xff\r\n  0x000000010e08a586: 0x49 0x23 0x0c 0x3e 0x48 0xbf 0x48 0x15 0x31 0x01 0x00 0x00 0x00 0x00 0x48 0x3b\r\n  0x000000010e08a596: 0xf9 0x0f 0x85 0x21 0x00 0x00 0x00 0x41 0x83 0x6f 0x10 0x01 0x0f 0x8e 0x08 0x00\r\n\r\n\r\n```\r\n\r\nAfter i do the final attempt, remove mybitas/jdbc from project, every thing works fine.\r\n\r\nAnd compare graalvm image with boot jar, elapsed time with graal image is 0.073 seconds, \r\nand elapsed time with spring boot jar is 1.987 seconds.\r\n\r\nWow, the speed is so fast, improve up with 90%.\r\n\r\nI think that&#39;s awesome, but the tech of AOT is not mature, we would always meet some unexpected issue when using graalvm native image.\r\n \r\nAs now, Mybatis or jdbc is not supported with native image.\r\n\r\n","title":"GraalVM can&#39;t find Mybatis LoggerFactory Constructor","body":"<p>Currently, I am trying to use Spring Boot 3 with GraalVM native image with JDK 19.\nGraalVM version is ce-java19-22.3</p>\n<p>After i create native image successfully, run executable  file  ./target/demo_boot3.\nThen, i got following error:</p>\n<pre><code>java.lang.ExceptionInInitializerError: null\n        at org.mybatis.spring.mapper.MapperScannerConfigurer.postProcessBeanDefinitionRegistry(MapperScannerConfigurer.java:363) ~[demo_boot3:3.0.0]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[na:na]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:145) ~[na:na]\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:745) ~[demo_boot3:6.0.2]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[demo_boot3:6.0.2]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[demo_boot3:3.0.0]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[demo_boot3:3.0.0]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[demo_boot3:3.0.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[demo_boot3:3.0.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[demo_boot3:3.0.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[demo_boot3:3.0.0]\n        at com.example.demo.boot3.DemoBoot3Application.main(DemoBoot3Application.java:45) ~[demo_boot3:na]\nCaused by: org.apache.ibatis.logging.LogException: Error creating logger for logger org.mybatis.spring.mapper.ClassPathMapperScanner.  Cause: java.lang.NullPointerException\n        at org.apache.ibatis.logging.LogFactory.getLog(LogFactory.java:54) ~[na:na]\n        at org.apache.ibatis.logging.LogFactory.getLog(LogFactory.java:47) ~[na:na]\n        at org.mybatis.logging.LoggerFactory.getLogger(LoggerFactory.java:32) ~[na:na]\n        at org.mybatis.spring.mapper.ClassPathMapperScanner.&lt;clinit&gt;(ClassPathMapperScanner.java:60) ~[na:na]\n        ... 12 common frames omitted\nCaused by: java.lang.NullPointerException: null\n        at org.apache.ibatis.logging.LogFactory.getLog(LogFactory.java:52) ~[na:na]\n        ... 15 common frames omitted\n\n</code></pre>\n<p>Second step, then i try to init LogFactory manually by using static method, as following:</p>\n<pre><code>try {\n   LogFactory.useSlf4jLogging();\n} catch (Exception e) {\n   e.printStackTrace();\n}\ntry {\n   LogFactory.useCommonsLogging();\n} catch (Exception e) {\n   e.printStackTrace();\n}\n\ntry {\n   LogFactory.useLog4J2Logging();\n} catch (Exception e) {\n   e.printStackTrace();\n}\ntry {\n   LogFactory.useJdkLogging();\n} catch (Exception e) {\n   e.printStackTrace();\n}\ntry {\n   LogFactory.useNoLogging();\n} catch (Exception e) {\n   e.printStackTrace();\n}\n</code></pre>\n<p>Then, still got errors:</p>\n<pre><code>org.apache.ibatis.logging.LogException: Error setting Log implementation.  Cause: java.lang.NoSuchMethodException: org.apache.ibatis.logging.slf4j.Slf4jImpl.&lt;init&gt;(java.lang.String)\n        at org.apache.ibatis.logging.LogFactory.setImplementation(LogFactory.java:113)\n        at org.apache.ibatis.logging.LogFactory.useSlf4jLogging(LogFactory.java:63)\n        at com.example.demo.boot3.DemoBoot3Application.&lt;clinit&gt;(DemoBoot3Application.java:14)\nCaused by: java.lang.NoSuchMethodException: org.apache.ibatis.logging.slf4j.Slf4jImpl.&lt;init&gt;(java.lang.String)\n        at java.base@19.0.1/java.lang.Class.getConstructor0(DynamicHub.java:3641)\n        at java.base@19.0.1/java.lang.Class.getConstructor(DynamicHub.java:2324)\n        at org.apache.ibatis.logging.LogFactory.setImplementation(LogFactory.java:106)\n        ... 2 more\n\n</code></pre>\n<p><strong>These constructor surely exists, but can't be found</strong>, as following:</p>\n<pre><code>public Slf4jImpl(String clazz) {\n  Logger logger = LoggerFactory.getLogger(clazz);\n\n  if (logger instanceof LocationAwareLogger) {\n    try {\n      // check for slf4j &gt;= 1.6 method signature\n      logger.getClass().getMethod(&quot;log&quot;, Marker.class, String.class, int.class, String.class, Object[].class, Throwable.class);\n      log = new Slf4jLocationAwareLoggerImpl((LocationAwareLogger) logger);\n      return;\n    } catch (SecurityException | NoSuchMethodException e) {\n      // fail-back to Slf4jLoggerImpl\n    }\n  }\n\n  // Logger is not LocationAwareLogger or slf4j version &lt; 1.6\n  log = new Slf4jLoggerImpl(logger);\n}\n</code></pre>\n<p>Do anyone know this issue?</p>\n<p>Try to init LogFactory manually by using static method, expect vm can find the constructor.\nbut still get NoSuchMethod error.</p>\n<p>After try to use GraalVM agent to generate native image meta, the error is gone.</p>\n<p>Then other errors show,</p>\n<pre><code>Error: Failed to prepare class with hash cb87220bbf3b7662f36953383b7b9076fdf52ee5b3314b7d90ba1bf30ffdc924 from file:/Users/cook/work/pieland/java_demo/demo_boot3/target/classes/META-INF/native-image/agent-extracted-predefined-classes/ for predefinition\n</code></pre>\n<p>after i remove predefined-classes-config and org.springframework.boot.loader, the step of compile native image can be done.</p>\n<p>But when i try to run the final executable file, it shows Segfault detected:</p>\n<pre><code>[ [ SubstrateSegfaultHandler caught a segfault in thread 0x00007fb603c0a3c0 ] ]\nsiginfo: si_signo: 11, si_code: 0, si_addr: 0x0000000000000000\n\nCurrent timestamp: 1670326122279\n\nGeneral purpose register values:\n  RAX 0x0000000114aa4568 points into the image heap (read-only huge)\n  RBX 0x0000000001311548 is an unknown value\n  RCX 0xfffffffffffffff8 is an unknown value\n  RDX 0x0000000000000003 is an unknown value\n  RBP 0x0000000117bf3530 points into an aligned TLAB chunk of thread 0x00007fb603c0a3c0\n    is an object of type java.nio.HeapByteBuffer\n  RSI 0x0d8e5211a2400d8e is an unknown value\n  RDI 0x0d8e521090000d8e is an unknown value\n  RSP 0x00007ffee30ce7b0 points into the stack for thread 0x00007fb603c0a3c0\n  R8  0x0000000112400000 is the heap base\n  R9  0x0000000117bf38e8 points into an aligned TLAB chunk of thread 0x00007fb603c0a3c0\n    is an object of type java.util.LinkedHashMap\n  R10 0x0000000117bf3518 points into an aligned TLAB chunk of thread 0x00007fb603c0a3c0\n    is an object of type jdk.internal.reflect.ConstantPool\n  R11 0x000000011317ce30 points into the image heap (read-only references)\n    is the hub of org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryConfiguration$EmbeddedJetty\n  R12 0x0000000112400000 is the heap base\n  R13 0x0000000113678198 points into the image heap (read-only relocatables)\n    is the hub of org.springframework.core.annotation.AnnotationAttributes\n  R14 0x0000000112400000 is the heap base\n  R15 0x00007fb603c0a3c0 is a thread\n  EFL 0x0000000000010206 is an unknown value\n  RIP 0x000000010e08a586 points into AOT compiled code \n  \nPrinting Instructions (ip=0x000000010e08a586):\n  0x000000010e08a566: 0x5f 0x14 0xff 0x90 0x48 0x8b 0x3c 0x05 0x00 0x00 0x00 0x00 0x49 0x8d 0x34 0x3e\n  0x000000010e08a576: 0x48 0x85 0xff 0x0f 0x84 0x1e 0x00 0x00 0x00 0x48 0xc7 0xc1 0xf8 0xff 0xff 0xff\n  0x000000010e08a586: 0x49 0x23 0x0c 0x3e 0x48 0xbf 0x48 0x15 0x31 0x01 0x00 0x00 0x00 0x00 0x48 0x3b\n  0x000000010e08a596: 0xf9 0x0f 0x85 0x21 0x00 0x00 0x00 0x41 0x83 0x6f 0x10 0x01 0x0f 0x8e 0x08 0x00\n\n\n</code></pre>\n<p>After i do the final attempt, remove mybitas/jdbc from project, every thing works fine.</p>\n<p>And compare graalvm image with boot jar, elapsed time with graal image is 0.073 seconds,\nand elapsed time with spring boot jar is 1.987 seconds.</p>\n<p>Wow, the speed is so fast, improve up with 90%.</p>\n<p>I think that's awesome, but the tech of AOT is not mature, we would always meet some unexpected issue when using graalvm native image.</p>\n<p>As now, Mybatis or jdbc is not supported with native image.</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":5652874,"reputation":5552,"user_id":4472840,"accept_rate":83,"display_name":"Yosef Weiner"},"score":1,"creation_date":1484727193,"post_id":41714233,"comment_id":70623279,"body_markdown":"Why does this matter? How is it affecting the contract?","body":"Why does this matter? How is it affecting the contract?"},{"owner":{"account_id":8707591,"reputation":2229,"user_id":6514989,"accept_rate":81,"display_name":"nail fei"},"score":3,"creation_date":1484727801,"post_id":41714233,"comment_id":70623653,"body_markdown":"@SkinnyJ it doesnt matter, but I want to know the actually detail and encounter some question.","body":"@SkinnyJ it doesnt matter, but I want to know the actually detail and encounter some question."},{"owner":{"account_id":3021726,"reputation":1856,"user_id":2562592,"display_name":"toongeorges"},"score":0,"creation_date":1484728764,"post_id":41714233,"comment_id":70624218,"body_markdown":"Can you add a breakpoint to the method entrySet() in HashMap?  I assume the entry set is initialized there.  If you put the breakpoint there and the thread pauses, you can see the stack trace of the code that calls this method.","body":"Can you add a breakpoint to the method entrySet() in HashMap?  I assume the entry set is initialized there.  If you put the breakpoint there and the thread pauses, you can see the stack trace of the code that calls this method."},{"owner":{"account_id":8707591,"reputation":2229,"user_id":6514989,"accept_rate":81,"display_name":"nail fei"},"score":0,"creation_date":1484729093,"post_id":41714233,"comment_id":70624448,"body_markdown":"@ toongeorges  yes, I do add a breakpoint at this method, and it tell me before execute `HashMap&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();` this method has been invoke, I think this should the jvm do sth. And after that this method has not been invoked.","body":"@ toongeorges  yes, I do add a breakpoint at this method, and it tell me before execute <code>HashMap&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();</code> this method has been invoke, I think this should the jvm do sth. And after that this method has not been invoked."}],"answers":[{"comments":[{"owner":{"account_id":6014409,"reputation":15634,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"score":0,"creation_date":1484729915,"post_id":41714900,"comment_id":70624934,"body_markdown":"You&#39;re close :)","body":"You&#39;re close :)"},{"owner":{"account_id":8707591,"reputation":2229,"user_id":6514989,"accept_rate":81,"display_name":"nail fei"},"score":0,"creation_date":1484730133,"post_id":41714900,"comment_id":70625059,"body_markdown":"@rkosegi I agree that this method initialize entrySet, **but** I find before execute my first statement `HashMap&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();` this method was invoke and this should have nothing with my *map object*. Then this method has not been invoked.","body":"@rkosegi I agree that this method initialize entrySet, <b>but</b> I find before execute my first statement <code>HashMap&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();</code> this method was invoke and this should have nothing with my <i>map object</i>. Then this method has not been invoked."},{"owner":{"account_id":4073057,"reputation":3037,"user_id":3441063,"display_name":"Vlad Bochenin"},"score":0,"creation_date":1484730332,"post_id":41714900,"comment_id":70625185,"body_markdown":"@nailfei I&#39;m pretty sure that this was just another HashMap.","body":"@nailfei I&#39;m pretty sure that this was just another HashMap."},{"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"score":0,"creation_date":1484730524,"post_id":41714900,"comment_id":70625296,"body_markdown":"@nailfei : yes it has not been invoked.","body":"@nailfei : yes it has not been invoked."}],"tags":[],"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484731187,"creation_date":1484729470,"answer_id":41714900,"question_id":41714233,"body_markdown":"Quick look into source code reveals that it is allocated lazily:\r\n\r\n    public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet() {\r\n        Set&lt;Map.Entry&lt;K,V&gt;&gt; es;\r\n        return (es = entrySet) == null ? (entrySet = new EntrySet()) : es;\r\n    }\r\n\r\n[Reference][2]\r\n\r\n&gt; I think maybe there exist several threads operate entrySet then I\r\n&gt; write a small tool with jvm_ti to print the threadID which invoke the\r\n&gt; class below package java.util and find there is only one thread.\r\n\r\nNo, definitely there are `NO` threads involved (unless you explicitly created them)\r\nIf you want to debug it easily, set [watchpoint][1] on\r\n\r\n    transient Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet;\r\n\r\ninside HashMap.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5568599/how-to-set-eclipse-watchpoint-to-activate-when-object-primitive-changes\r\n  [2]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/util/HashMap.java?av=f#996","title":"how and when HashMap initialize entrySet and add value into it","body":"<p>Quick look into source code reveals that it is allocated lazily:</p>\n\n<pre><code>public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet() {\n    Set&lt;Map.Entry&lt;K,V&gt;&gt; es;\n    return (es = entrySet) == null ? (entrySet = new EntrySet()) : es;\n}\n</code></pre>\n\n<p><a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/util/HashMap.java?av=f#996\" rel=\"nofollow noreferrer\">Reference</a></p>\n\n<blockquote>\n  <p>I think maybe there exist several threads operate entrySet then I\n  write a small tool with jvm_ti to print the threadID which invoke the\n  class below package java.util and find there is only one thread.</p>\n</blockquote>\n\n<p>No, definitely there are <code>NO</code> threads involved (unless you explicitly created them)\nIf you want to debug it easily, set <a href=\"https://stackoverflow.com/questions/5568599/how-to-set-eclipse-watchpoint-to-activate-when-object-primitive-changes\">watchpoint</a> on</p>\n\n<pre><code>transient Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet;\n</code></pre>\n\n<p>inside HashMap.</p>\n"},{"comments":[{"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"score":0,"creation_date":1484732432,"post_id":41715674,"comment_id":70626607,"body_markdown":"This is exactly what happens while debugging, good point with AbstractMap!","body":"This is exactly what happens while debugging, good point with AbstractMap!"},{"owner":{"account_id":8707591,"reputation":2229,"user_id":6514989,"accept_rate":81,"display_name":"nail fei"},"score":0,"creation_date":1484739902,"post_id":41715674,"comment_id":70631639,"body_markdown":"@Roland wonderful, but there still has an extra issue, if I use `map.toString()` in the second case, it will print *[key=value]* rather than *[]*.In *entrySet* method it just new an *EntrySet* Object through the default constructor So I dont know when the element was inserted into *entrySet*.","body":"@Roland wonderful, but there still has an extra issue, if I use <code>map.toString()</code> in the second case, it will print <i>[key=value]</i> rather than <i>[]</i>.In <i>entrySet</i> method it just new an <i>EntrySet</i> Object through the default constructor So I dont know when the element was inserted into <i>entrySet</i>."},{"owner":{"account_id":8247130,"reputation":22669,"user_id":6202869,"accept_rate":50,"display_name":"Roland"},"score":0,"creation_date":1484740848,"post_id":41715674,"comment_id":70632329,"body_markdown":"Do you mean, how the entrySet knows about the values? If so: `EntrySet` is an inner class and so knows everything from its container. It is probably hidden somewhere around the nodes... Don&#39;t want to digg too deep there. ;-)","body":"Do you mean, how the entrySet knows about the values? If so: <code>EntrySet</code> is an inner class and so knows everything from its container. It is probably hidden somewhere around the nodes... Don&#39;t want to digg too deep there. ;-)"}],"tags":[],"owner":{"account_id":8247130,"reputation":22669,"user_id":6202869,"accept_rate":50,"display_name":"Roland"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1484738379,"creation_date":1484731816,"answer_id":41715674,"question_id":41714233,"body_markdown":"It is your debugger that fools you. The debugger view calls `toString()` which in fact calls `entrySet()` (see `AbstractMap.toString()`). That is why the `entrySet` was already initialized, when you looked at it.\r\n\r\nIf you look in there via reflection utils, e.g. with the following code:\r\n\r\n    HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n\r\n    Field entrySetField = HashMap.class.getDeclaredField(&quot;entrySet&quot;);\r\n    entrySetField.setAccessible(true);\r\n    Object entrySet = entrySetField.get(map);\r\n    System.out.println(&quot;entrySet = &quot; + entrySet);\r\n    System.out.println(&quot;map.toString() = &quot; + map.toString());\r\n    entrySet = entrySetField.get(map);\r\n    System.out.println(&quot;entrySet = &quot; + entrySet);\r\n\r\nyou get the following output:\r\n\r\n    entrySet = null\r\n    map.toString() = {}\r\n    entrySet = []\r\n\r\nAs you can see: entrySet in fact is still `null` if no `toString()` is called and gets initialized after it.\r\n\r\nThe same applies to your second question. If you look at the values &quot;reflectively&quot;:\r\n\r\n    // Starting from where my entrySet is still null\r\n    map.put(&quot;key&quot;, &quot;value&quot;);\r\n    entrySet = entrySetField.get(map);\r\n    System.out.println(&quot;entrySet = &quot; + entrySet);\r\n\r\nyou get, as expected:\r\n\r\n    entrySet = null\r\n   ","title":"how and when HashMap initialize entrySet and add value into it","body":"<p>It is your debugger that fools you. The debugger view calls <code>toString()</code> which in fact calls <code>entrySet()</code> (see <code>AbstractMap.toString()</code>). That is why the <code>entrySet</code> was already initialized, when you looked at it.</p>\n\n<p>If you look in there via reflection utils, e.g. with the following code:</p>\n\n<pre><code>HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\n\nField entrySetField = HashMap.class.getDeclaredField(\"entrySet\");\nentrySetField.setAccessible(true);\nObject entrySet = entrySetField.get(map);\nSystem.out.println(\"entrySet = \" + entrySet);\nSystem.out.println(\"map.toString() = \" + map.toString());\nentrySet = entrySetField.get(map);\nSystem.out.println(\"entrySet = \" + entrySet);\n</code></pre>\n\n<p>you get the following output:</p>\n\n<pre><code>entrySet = null\nmap.toString() = {}\nentrySet = []\n</code></pre>\n\n<p>As you can see: entrySet in fact is still <code>null</code> if no <code>toString()</code> is called and gets initialized after it.</p>\n\n<p>The same applies to your second question. If you look at the values \"reflectively\":</p>\n\n<pre><code>// Starting from where my entrySet is still null\nmap.put(\"key\", \"value\");\nentrySet = entrySetField.get(map);\nSystem.out.println(\"entrySet = \" + entrySet);\n</code></pre>\n\n<p>you get, as expected:</p>\n\n<pre><code>entrySet = null\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5183924,"reputation":1,"user_id":4148799,"display_name":"magic-fs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584580248,"creation_date":1584580248,"answer_id":60749601,"question_id":41714233,"body_markdown":"entrySet is only an EntrySet instance, no place to initialize or add value into it,the most import function is used as an iterator in for-each,because it extends Iterable","title":"how and when HashMap initialize entrySet and add value into it","body":"<p>entrySet is only an EntrySet instance, no place to initialize or add value into it,the most import function is used as an iterator in for-each,because it extends Iterable</p>\n"}],"owner":{"account_id":8707591,"reputation":2229,"user_id":6514989,"accept_rate":81,"display_name":"nail fei"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2884,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":41715674,"answer_count":3,"score":7,"last_activity_date":1670327290,"creation_date":1484727059,"question_id":41714233,"body_markdown":"I find a very magic thing, the simple code as below:\r\n\r\n    public class Demo{\r\n\t    public static void main(String[] args){\r\n\t\t    HashMap&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();\r\n\t\t    map.put(&quot;a&quot;, &quot;aa&quot;);\r\n\t\t    System.out.println(&quot;end&quot;);\r\n\t    }\r\n    }\r\nafter invoke\r\n\r\n    HashMap&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();\r\n [![the state of map object][1]][1]\r\nthe field variable **entrySet** is not *null*, that is to say it have been initialize.\r\n \r\n---\r\nThen this is my **first** question, when the **entrySet** has been initialized?&lt;/br&gt;\r\nit seemed the relevant code should be in the construct of *HashMap*, but below is the source code of this constructor \r\n\r\n     public HashMap() {\r\n        this.loadFactor = DEFAULT_LOAD_FACTOR; // all other fields defaulted\r\n    }\r\nit seemed there dont exist code which initialize **entrySet**.\r\n\r\nand thing go on.\r\nafter invoke \r\n\r\n    map.put(&quot;a&quot;,&quot;aa&quot;)\r\nthe content of field variable *table* and *entrySet* as below shot.\r\n [![enter image description here][2]][2]\r\nThen this is my second problem: when add this value into entrySet?&lt;/br&gt;\r\nIt seemed that it should be the *put* method achieve these thing.\r\nand below is *put* method.\r\n\r\n    public V put(K key, V value) {\r\n        return putVal(hash(key), key, value, false, true);\r\n    }\r\n\r\nit invoke *putVal* method and below is some code of *putVal*\r\n\r\n    final V putVal(...) {\r\n        ....\r\n        tab[i] = newNode(hash, key, value, null);\r\n        ....\r\n        ++modCount;//after invoke this the entrySet is still empty\r\n        if (++size &gt; threshold)\r\n            resize();//this has not been executed\r\n        afterNodeInsertion(evict);//I debug several times, sometimes before invoke this the entrySet has an Element and sometimes\r\n        return null;\r\n    }    \r\n\r\nafter invoke \r\n\r\n     ++modCount;\r\nthe *entrySet* is empty\r\nand before invoke\r\n\r\n     afterNodeInsertion(evict);\r\nthe entrySet has a element.\r\nbut it seemed the code between these two line has nothing with *entrySet*.\r\nI think maybe there exist several threads operate *entrySet* then I write a small tool with *jvm_ti* to print the threadID which invoke the class below package *java.util* and find there is only one thread.\r\n\r\nThen what I miss? Does there exist issue at process of debug? Wish I have describe my problem clearly and everything would be appreciate. \r\n\r\n**add:**   my java version is *1.8.0_77* and eclipse version is *4.6.1* and *4.5.1*\r\n\r\n  [1]: https://i.stack.imgur.com/Lj1bZ.png\r\n  [2]: https://i.stack.imgur.com/wrFKY.png","title":"how and when HashMap initialize entrySet and add value into it","body":"<p>I find a very magic thing, the simple code as below:</p>\n\n<pre><code>public class Demo{\n    public static void main(String[] args){\n        HashMap&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();\n        map.put(\"a\", \"aa\");\n        System.out.println(\"end\");\n    }\n}\n</code></pre>\n\n<p>after invoke</p>\n\n<pre><code>HashMap&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Lj1bZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lj1bZ.png\" alt=\"the state of map object\"></a>\nthe field variable <strong>entrySet</strong> is not <em>null</em>, that is to say it have been initialize.</p>\n\n<hr>\n\n<p>Then this is my <strong>first</strong> question, when the <strong>entrySet</strong> has been initialized?\nit seemed the relevant code should be in the construct of <em>HashMap</em>, but below is the source code of this constructor </p>\n\n<pre><code> public HashMap() {\n    this.loadFactor = DEFAULT_LOAD_FACTOR; // all other fields defaulted\n}\n</code></pre>\n\n<p>it seemed there dont exist code which initialize <strong>entrySet</strong>.</p>\n\n<p>and thing go on.\nafter invoke </p>\n\n<pre><code>map.put(\"a\",\"aa\")\n</code></pre>\n\n<p>the content of field variable <em>table</em> and <em>entrySet</em> as below shot.\n <a href=\"https://i.stack.imgur.com/wrFKY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wrFKY.png\" alt=\"enter image description here\"></a>\nThen this is my second problem: when add this value into entrySet?\nIt seemed that it should be the <em>put</em> method achieve these thing.\nand below is <em>put</em> method.</p>\n\n<pre><code>public V put(K key, V value) {\n    return putVal(hash(key), key, value, false, true);\n}\n</code></pre>\n\n<p>it invoke <em>putVal</em> method and below is some code of <em>putVal</em></p>\n\n<pre><code>final V putVal(...) {\n    ....\n    tab[i] = newNode(hash, key, value, null);\n    ....\n    ++modCount;//after invoke this the entrySet is still empty\n    if (++size &gt; threshold)\n        resize();//this has not been executed\n    afterNodeInsertion(evict);//I debug several times, sometimes before invoke this the entrySet has an Element and sometimes\n    return null;\n}    \n</code></pre>\n\n<p>after invoke </p>\n\n<pre><code> ++modCount;\n</code></pre>\n\n<p>the <em>entrySet</em> is empty\nand before invoke</p>\n\n<pre><code> afterNodeInsertion(evict);\n</code></pre>\n\n<p>the entrySet has a element.\nbut it seemed the code between these two line has nothing with <em>entrySet</em>.\nI think maybe there exist several threads operate <em>entrySet</em> then I write a small tool with <em>jvm_ti</em> to print the threadID which invoke the class below package <em>java.util</em> and find there is only one thread.</p>\n\n<p>Then what I miss? Does there exist issue at process of debug? Wish I have describe my problem clearly and everything would be appreciate. </p>\n\n<p><strong>add:</strong>   my java version is <em>1.8.0_77</em> and eclipse version is <em>4.6.1</em> and <em>4.5.1</em></p>\n"},{"tags":["java","maven","jar","maven-assembly-plugin"],"comments":[{"owner":{"account_id":3287434,"reputation":1034,"user_id":2766545,"accept_rate":75,"display_name":"Janaka Bandara"},"score":1,"creation_date":1643008815,"post_id":6209903,"comment_id":125216412,"body_markdown":"Related: if you have excluded some deps at POM level and they are still being included in the assembly output, check out your assembly plugin version. [Pre-3.1.1 has suffered from an exclusion related bug](https://stackoverflow.com/questions/32461192/how-to-have-maven-assembly-plugin-respect-the-exclusions-defined-in-pom-xml#49799612)\n, and a surprisingly large number of us still use older versions (mine was 2.4 until I explicitly looked this up).","body":"Related: if you have excluded some deps at POM level and they are still being included in the assembly output, check out your assembly plugin version. <a href=\"https://stackoverflow.com/questions/32461192/how-to-have-maven-assembly-plugin-respect-the-exclusions-defined-in-pom-xml#49799612\">Pre-3.1.1 has suffered from an exclusion related bug</a> , and a surprisingly large number of us still use older versions (mine was 2.4 until I explicitly looked this up)."}],"answers":[{"comments":[{"owner":{"account_id":82500,"reputation":38454,"user_id":231917,"accept_rate":98,"display_name":"zengr"},"score":7,"creation_date":1440439170,"post_id":6210532,"comment_id":52262591,"body_markdown":"This gives an error: &quot;Unrecognised tag: &#39;dependencySets&#39;&quot; for maven3","body":"This gives an error: &quot;Unrecognised tag: &#39;dependencySets&#39;&quot; for maven3"},{"owner":{"account_id":7571498,"reputation":1821,"user_id":5745234,"accept_rate":60,"display_name":"Ravi"},"score":36,"creation_date":1490200954,"post_id":6210532,"comment_id":73010046,"body_markdown":"This example assumes that I know where dependencySets goes in the pom.xml. A full example would have been helpful.","body":"This example assumes that I know where dependencySets goes in the pom.xml. A full example would have been helpful."},{"owner":{"account_id":265988,"reputation":13467,"user_id":553308,"display_name":"Andrew T Finnell"},"score":5,"creation_date":1540403922,"post_id":6210532,"comment_id":92857059,"body_markdown":"The issue here (after 7 yaers) is that this only goes in the assembly definition file, which is not used with &#39;jar-with-dependencies.&#39;","body":"The issue here (after 7 yaers) is that this only goes in the assembly definition file, which is not used with &#39;jar-with-dependencies.&#39;"}],"tags":[],"owner":{"account_id":93007,"reputation":51990,"user_id":254643,"display_name":"Raghuram"},"comment_count":3,"down_vote_count":10,"up_vote_count":15,"is_accepted":true,"score":5,"last_activity_date":1535578273,"creation_date":1306990195,"answer_id":6210532,"question_id":6209903,"body_markdown":"This [example][1] indicates one way to do this:\r\n\r\n     &lt;dependencySets&gt;\r\n        &lt;dependencySet&gt;\r\n          ....\r\n          &lt;excludes&gt;\r\n            &lt;exclude&gt;commons-lang:commons-lang&lt;/exclude&gt;\r\n            &lt;exclude&gt;log4j:log4j&lt;/exclude&gt;\r\n          &lt;/excludes&gt;\r\n        &lt;/dependencySet&gt;\r\n        ....\r\n      &lt;/dependencySets&gt;\r\n\r\nEssentially we would use the `excludes` option available in `dependencySet`.\r\n\r\nSee also: https://maven.apache.org/plugins/maven-assembly-plugin/assembly-component.html\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-assembly-plugin/examples/single/including-and-excluding-artifacts.html\r\n  [2]: http://maven.apache.org/plugins/maven-assembly-plugin/component.html","title":"How to exclude dependencies from maven assembly plugin : jar-with-dependencies?","body":"<p>This <a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/examples/single/including-and-excluding-artifacts.html\" rel=\"nofollow noreferrer\">example</a> indicates one way to do this:</p>\n\n<pre><code> &lt;dependencySets&gt;\n    &lt;dependencySet&gt;\n      ....\n      &lt;excludes&gt;\n        &lt;exclude&gt;commons-lang:commons-lang&lt;/exclude&gt;\n        &lt;exclude&gt;log4j:log4j&lt;/exclude&gt;\n      &lt;/excludes&gt;\n    &lt;/dependencySet&gt;\n    ....\n  &lt;/dependencySets&gt;\n</code></pre>\n\n<p>Essentially we would use the <code>excludes</code> option available in <code>dependencySet</code>.</p>\n\n<p>See also: <a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/assembly-component.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-assembly-plugin/assembly-component.html</a></p>\n"},{"comments":[{"owner":{"account_id":444485,"reputation":18145,"user_id":836318,"accept_rate":53,"display_name":"wrschneider"},"score":0,"creation_date":1594060880,"post_id":29329691,"comment_id":110988795,"body_markdown":"This is the simplest solution and is consistent with WAR targets as well","body":"This is the simplest solution and is consistent with WAR targets as well"},{"owner":{"account_id":3699650,"reputation":228,"user_id":3079849,"display_name":"Guangliang"},"score":0,"creation_date":1609349477,"post_id":29329691,"comment_id":115821137,"body_markdown":"I tried this with javafx-controls and javafx-fxml libraries in two different projects.  It worked beautifully in the first project.  But on the second one, it failed with the compiling many errors such as &#39;package javafx.beans doesn&#39;t exist&#39;.  Don&#39;t know why.","body":"I tried this with javafx-controls and javafx-fxml libraries in two different projects.  It worked beautifully in the first project.  But on the second one, it failed with the compiling many errors such as &#39;package javafx.beans doesn&#39;t exist&#39;.  Don&#39;t know why."},{"owner":{"account_id":444485,"reputation":18145,"user_id":836318,"accept_rate":53,"display_name":"wrschneider"},"score":0,"creation_date":1642165818,"post_id":29329691,"comment_id":125004741,"body_markdown":"Funny to see how I upvoted this answer and now I am having a problem with `provided` JARs being included in the output JAR","body":"Funny to see how I upvoted this answer and now I am having a problem with <code>provided</code> JARs being included in the output JAR"}],"tags":[],"owner":{"account_id":1944182,"reputation":1211,"user_id":1749693,"display_name":"Jeroen Vuurens"},"comment_count":3,"down_vote_count":1,"up_vote_count":53,"is_accepted":false,"score":52,"last_activity_date":1427635685,"creation_date":1427635685,"answer_id":29329691,"question_id":6209903,"body_markdown":"Add the `&lt;scope&gt;provided&lt;/scope&gt;` to the dependencies you don&#39;t want included in the jar-with-dependencies, e.g.\r\n\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;storm&lt;/groupId&gt;\r\n          &lt;artifactId&gt;storm&lt;/artifactId&gt;\r\n          &lt;version&gt;0.6.1-SNAPSHOT&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n","title":"How to exclude dependencies from maven assembly plugin : jar-with-dependencies?","body":"<p>Add the <code>&lt;scope&gt;provided&lt;/scope&gt;</code> to the dependencies you don't want included in the jar-with-dependencies, e.g.</p>\n\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;storm&lt;/groupId&gt;\n      &lt;artifactId&gt;storm&lt;/artifactId&gt;\n      &lt;version&gt;0.6.1-SNAPSHOT&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5401349,"reputation":698,"user_id":8137610,"display_name":"Shuai Liu"},"score":9,"creation_date":1551861621,"post_id":47871545,"comment_id":96791192,"body_markdown":"Better answer than Raghuram&#39;s","body":"Better answer than Raghuram&#39;s"},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1652566501,"post_id":47871545,"comment_id":127638063,"body_markdown":"Note that the final jar would be like `app-0.0.1-SNAPSHOT-&lt;descriptor-id&gt;.jar`, just as the original jar is `app-0.0.1-SNAPSHOT-jar-with-dependencies.jar`. If the jar name matters, change the descriptor id to match the original.","body":"Note that the final jar would be like <code>app-0.0.1-SNAPSHOT-&lt;descriptor-id&gt;.jar</code>, just as the original jar is <code>app-0.0.1-SNAPSHOT-jar-with-dependencies.jar</code>. If the jar name matters, change the descriptor id to match the original."},{"owner":{"account_id":3468356,"reputation":4510,"user_id":2903371,"accept_rate":92,"display_name":"patrik"},"score":0,"creation_date":1664462832,"post_id":47871545,"comment_id":130482188,"body_markdown":"Great answer, but it would have been nice to know how this relates to the normal jar-with-dependencies descriptor. I managed to dig up the following, for those interested in compare to &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;, compared to using the custom &lt;descriptor&gt; in this example: https://maven.apache.org/plugins/maven-assembly-plugin/descriptor-refs.html#jar-with-dependencies","body":"Great answer, but it would have been nice to know how this relates to the normal jar-with-dependencies descriptor. I managed to dig up the following, for those interested in compare to &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;, compared to using the custom &lt;descriptor&gt; in this example: <a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/descriptor-refs.html#jar-with-dependencies\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-assembly-plugin/&hellip;</a>"}],"tags":[],"owner":{"account_id":1547548,"reputation":1368,"user_id":1946743,"display_name":"Felipe Pereira"},"comment_count":3,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1571077626,"creation_date":1513610958,"answer_id":47871545,"question_id":6209903,"body_markdown":"You should use the `excludes` option available in `dependencySet`. &lt;br/&gt;\r\nFollow below.:\r\n\r\nExample in your **pom.xml**:\r\n\r\n    ...\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;finalName&gt;../final/${project.artifactId}&lt;/finalName&gt;\r\n              &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                  &lt;addClasspath&gt;false&lt;/addClasspath&gt;\r\n                  &lt;mainClass&gt;com.entrerprise.App&lt;/mainClass&gt;\r\n                &lt;/manifest&gt;\r\n              &lt;/archive&gt;\r\n              &lt;descriptors&gt;\r\n                &lt;descriptor&gt;src/main/resources/jar-with-deps-with-exclude.xml&lt;/descriptor&gt;\r\n              &lt;/descriptors&gt;\r\n              &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;make-assembly&lt;/id&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;single&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n    ...\r\n\r\n\r\n  Now in your new file **jar-with-deps-with-exclude.xml** (where **dependencySet** lives):\r\n\r\n   \r\n\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.0.0&quot;\r\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.0.0 http://maven.apache.org/xsd/assembly-2.0.0.xsd&quot;&gt;\r\n            &lt;id&gt;jar-with-dependencies-and-exclude-classes&lt;/id&gt;\r\n            &lt;formats&gt;\r\n              &lt;format&gt;jar&lt;/format&gt;\r\n            &lt;/formats&gt;\r\n            &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n            &lt;dependencySets&gt;\r\n              &lt;dependencySet&gt;\r\n                &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n                &lt;useProjectArtifact&gt;false&lt;/useProjectArtifact&gt;\r\n                &lt;unpack&gt;true&lt;/unpack&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;excludes&gt;\r\n                  &lt;exclude&gt;junit:junit&lt;/exclude&gt;\r\n                  &lt;exclude&gt;commons-cli:commons-cli&lt;/exclude&gt;\r\n                  &lt;exclude&gt;org.apache.maven.wagon:wagon-ssh&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n               &lt;/dependencySet&gt;\r\n            &lt;/dependencySets&gt;\r\n            &lt;fileSets&gt;\r\n              &lt;fileSet&gt;\r\n                &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n                &lt;directory&gt;${project.build.outputDirectory}&lt;/directory&gt;\r\n              &lt;/fileSet&gt;\r\n            &lt;/fileSets&gt;\r\n          &lt;/assembly&gt;\r\n\r\nThat&#39;s all.","title":"How to exclude dependencies from maven assembly plugin : jar-with-dependencies?","body":"<p>You should use the <code>excludes</code> option available in <code>dependencySet</code>. <br/>\nFollow below.:</p>\n\n<p>Example in your <strong>pom.xml</strong>:</p>\n\n<pre><code>...\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.3&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;finalName&gt;../final/${project.artifactId}&lt;/finalName&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;addClasspath&gt;false&lt;/addClasspath&gt;\n              &lt;mainClass&gt;com.entrerprise.App&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n          &lt;descriptors&gt;\n            &lt;descriptor&gt;src/main/resources/jar-with-deps-with-exclude.xml&lt;/descriptor&gt;\n          &lt;/descriptors&gt;\n          &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;make-assembly&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n...\n</code></pre>\n\n<p>Now in your new file <strong>jar-with-deps-with-exclude.xml</strong> (where <strong>dependencySet</strong> lives):</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;assembly xmlns=\"http://maven.apache.org/ASSEMBLY/2.0.0\"\n      xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n      xsi:schemaLocation=\"http://maven.apache.org/ASSEMBLY/2.0.0 http://maven.apache.org/xsd/assembly-2.0.0.xsd\"&gt;\n        &lt;id&gt;jar-with-dependencies-and-exclude-classes&lt;/id&gt;\n        &lt;formats&gt;\n          &lt;format&gt;jar&lt;/format&gt;\n        &lt;/formats&gt;\n        &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n        &lt;dependencySets&gt;\n          &lt;dependencySet&gt;\n            &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n            &lt;useProjectArtifact&gt;false&lt;/useProjectArtifact&gt;\n            &lt;unpack&gt;true&lt;/unpack&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;excludes&gt;\n              &lt;exclude&gt;junit:junit&lt;/exclude&gt;\n              &lt;exclude&gt;commons-cli:commons-cli&lt;/exclude&gt;\n              &lt;exclude&gt;org.apache.maven.wagon:wagon-ssh&lt;/exclude&gt;\n            &lt;/excludes&gt;\n           &lt;/dependencySet&gt;\n        &lt;/dependencySets&gt;\n        &lt;fileSets&gt;\n          &lt;fileSet&gt;\n            &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n            &lt;directory&gt;${project.build.outputDirectory}&lt;/directory&gt;\n          &lt;/fileSet&gt;\n        &lt;/fileSets&gt;\n      &lt;/assembly&gt;\n</code></pre>\n\n<p>That's all.</p>\n"},{"tags":[],"owner":{"account_id":4913146,"reputation":1633,"user_id":4021308,"display_name":"Asad-ullah Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649800816,"creation_date":1649800816,"answer_id":71849605,"question_id":6209903,"body_markdown":"Another alternative is to switch to the much more feature rich `maven-shade-plugin` which can do this without any external assembly files or marking as &quot;provided&quot; (which may not be what you want as it forces users to have that dependency in their pom). Here is an example:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.0&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;artifactSet&gt;\r\n            &lt;excludes&gt;\r\n                &lt;exclude&gt;&lt;group-id&gt;:&lt;artifact-id&gt;:&lt;classifier&gt;&lt;/exclude&gt;\r\n                &lt;exclude&gt;org.apache.logging.log4j:log4j-core&lt;/exclude&gt;\r\n            &lt;/excludes&gt;\r\n        &lt;/artifactSet&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;shade&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\nhttps://maven.apache.org/plugins/maven-shade-plugin/index.html\r\n\r\nNote that this wont make a `jar-with-dependencies` but rather an `original-jar...` and then just the regular output jar. This plugin even lets you filter out specific classes.","title":"How to exclude dependencies from maven assembly plugin : jar-with-dependencies?","body":"<p>Another alternative is to switch to the much more feature rich <code>maven-shade-plugin</code> which can do this without any external assembly files or marking as &quot;provided&quot; (which may not be what you want as it forces users to have that dependency in their pom). Here is an example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;artifactSet&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;&lt;group-id&gt;:&lt;artifact-id&gt;:&lt;classifier&gt;&lt;/exclude&gt;\n                &lt;exclude&gt;org.apache.logging.log4j:log4j-core&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/artifactSet&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p><a href=\"https://maven.apache.org/plugins/maven-shade-plugin/index.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-shade-plugin/index.html</a></p>\n<p>Note that this wont make a <code>jar-with-dependencies</code> but rather an <code>original-jar...</code> and then just the regular output jar. This plugin even lets you filter out specific classes.</p>\n"}],"owner":{"account_id":246686,"reputation":58068,"user_id":520957,"accept_rate":94,"display_name":"J&#233;r&#244;me Verstrynge"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47487,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":6210532,"answer_count":4,"score":41,"last_activity_date":1670327035,"creation_date":1306983097,"question_id":6209903,"body_markdown":"Maven&#39;s assembly plugin enables the creation of a big jar including all dependencies with descriptorRef `jar-with-dependencies`.\r\n\r\nHow can one exclude some of these dependencies? It seems like it does not have such a configuration? Is there another solution?","title":"How to exclude dependencies from maven assembly plugin : jar-with-dependencies?","body":"<p>Maven's assembly plugin enables the creation of a big jar including all dependencies with descriptorRef <code>jar-with-dependencies</code>.</p>\n\n<p>How can one exclude some of these dependencies? It seems like it does not have such a configuration? Is there another solution?</p>\n"},{"tags":["java","spring","google-cloud-firestore","spring-data","spring-webflux"],"comments":[{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":1,"creation_date":1660755582,"post_id":73376631,"comment_id":129609646,"body_markdown":"I&#39;m not answering your question, but I&#39;d like to add that it is not good idea to make repository calls from a mapstruct mapper. It&#39;s just not intended for that purpose. Especially in case of webflux where you would need to call block which is a hard NO in any circumstances.","body":"I&#39;m not answering your question, but I&#39;d like to add that it is not good idea to make repository calls from a mapstruct mapper. It&#39;s just not intended for that purpose. Especially in case of webflux where you would need to call block which is a hard NO in any circumstances."},{"owner":{"account_id":9925001,"reputation":1047,"user_id":7346931,"display_name":"Dharmendrasinh Chudasama"},"score":0,"creation_date":1660869474,"post_id":73376631,"comment_id":129641604,"body_markdown":"Facing same issue even called from service class, it is throwing Illegalstateexception","body":"Facing same issue even called from service class, it is throwing Illegalstateexception"},{"owner":{"account_id":26078526,"reputation":1,"user_id":19777122,"display_name":"Urool Games"},"score":0,"creation_date":1661243576,"post_id":73376631,"comment_id":129718964,"body_markdown":"Hi @MartinTarj&#225;nyi, thanks for your comment. Do you have any alternative solutions for the required DTO conversions?","body":"Hi @MartinTarj&#225;nyi, thanks for your comment. Do you have any alternative solutions for the required DTO conversions?"},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":0,"creation_date":1661244607,"post_id":73376631,"comment_id":129719336,"body_markdown":"Call the repository outside of mapstruct and then pass the result to the mapper using Mono operators like map.","body":"Call the repository outside of mapstruct and then pass the result to the mapper using Mono operators like map."}],"answers":[{"tags":[],"owner":{"account_id":1186264,"reputation":556,"user_id":1160163,"accept_rate":71,"display_name":"sbnarra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670326849,"creation_date":1670326849,"answer_id":74701909,"question_id":73376631,"body_markdown":"Mapstruct is not reactive as i know so this approach won&#39;t work, you&#39;ll need mapstruct to return a mono that builds the object itself but that wouldn&#39;t make sense as it&#39;s a mapping lib which is only for doing blocking things.\r\n\r\nCould try use 2 Mono/Mappers, 1 for each DB call and then just Mono.zip(dbCall1, dbCall2) and set the the mapped db call output into the other objects field. \r\n\r\n```\r\nvar call1 = Mono.fromFuture(() -&gt; db.loadObject1()).map(o -&gt; mapper1.map(o));\r\nvar call2 = Mono.fromFuture(() -&gt; db.loadObject2()).map(o -&gt; mapper2.map(o));\r\n\r\nMono.zip(call1, call2)\r\n  .map(t -&gt; {\r\n    var o1 = t.getT1();\r\n    var o2 = t.getT2();\r\n    o1.setField(o2);\r\n});\r\n```","title":"Accessing Reactive CRUD repository from MapStruct Mapper stuck in block()","body":"<p>Mapstruct is not reactive as i know so this approach won't work, you'll need mapstruct to return a mono that builds the object itself but that wouldn't make sense as it's a mapping lib which is only for doing blocking things.</p>\n<p>Could try use 2 Mono/Mappers, 1 for each DB call and then just Mono.zip(dbCall1, dbCall2) and set the the mapped db call output into the other objects field.</p>\n<pre><code>var call1 = Mono.fromFuture(() -&gt; db.loadObject1()).map(o -&gt; mapper1.map(o));\nvar call2 = Mono.fromFuture(() -&gt; db.loadObject2()).map(o -&gt; mapper2.map(o));\n\nMono.zip(call1, call2)\n  .map(t -&gt; {\n    var o1 = t.getT1();\n    var o2 = t.getT2();\n    o1.setField(o2);\n});\n</code></pre>\n"}],"owner":{"account_id":26078526,"reputation":1,"user_id":19777122,"display_name":"Urool Games"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670326849,"creation_date":1660664267,"question_id":73376631,"body_markdown":"I am somewhat new to Spring and have recently generated a JHipster monolith application with the **WebFlux** option. My current aim is to make it compatible with Firestore and implement some missing features like inserting document references. To do so, I am currently having the following structure:\r\n\r\n - A domain object class &quot;`Device`&quot; which holds a field `String firmwareType;`\r\n- A domain object class &quot;`FirmwareType`&quot;\r\n- A DTO object DeviceDTO which holds a field `FirmwareType firmwareType;`\r\n\r\nCorrespondingly, I also have the corresponding Repository (extending `FirestoreReactiveRepository` which extends `ReactiveCrudRepository`) and Controller implementations, which all work fine. To perform the conversion from a &quot;full object&quot; of FirmwareType in the DTO-object to a `String firmwareTypeId;` in the Device-object, I implemented a **MapStruct Mapper**:\r\n\r\n    @Mapper(unmappedTargetPolicy = org.mapstruct.ReportingPolicy.IGNORE, componentModel = &quot;spring&quot;)\r\n    public abstract class  DeviceMapper {\r\n    \r\n        private final Logger logger = LoggerFactory.getLogger(DeviceMapper.class);\r\n        @Autowired\r\n        protected FirmwareTypeRepository fwTypeRepo;\r\n    \r\n        public abstract Device dtoToDevice(DeviceDTO deviceDTO);\r\n    \r\n        public abstract DeviceDTO deviceToDto(Device device);\r\n    \r\n        public abstract List&lt;DeviceDTO&gt; devicesToDTOs(List&lt;Device&gt; devices);\r\n    \r\n    \r\n        public abstract List&lt;Device&gt; dtosToDevices(List&lt;DeviceDTO&gt; dtos);\r\n    \r\n        public String map(FirmwareType value) {\r\n            if (value == null || value.getId() == null || value.getId().isEmpty()) {\r\n                return null;\r\n            }\r\n            return value.getId();\r\n        }\r\n    \r\n        public FirmwareType map(String value) {\r\n            if (value == null || value.isEmpty()) {\r\n                return null;\r\n            }\r\n            return fwTypeRepo.findById(value).block(); // &lt;&lt;-- this gets stuck!\r\n        }\r\n    }\r\n\r\nThe FirmwareTypeRepository which is autowired as fwTypeRepo field:\r\n\r\n    @Repository\r\n    public interface FirmwareTypeRepository extends FirestoreReactiveRepository&lt;FirmwareType&gt; {\r\n        Mono&lt;FirmwareType&gt; findById(String id);\r\n    }\r\n\r\n\r\nThe corresponding map functions get called perfectly fine, but the `fwTypeRepo.findById(..)` call in the marked line (third-last line)  seems to get stuck somewhere and never returns or throws an error. When the &quot;fwTypeRepo&quot; via its Controller-endpoint is called, it works without any issues. \r\n\r\nI suppose it must be some kind of calling context issue or something? Is there another way to force a result by Mono&lt;T&gt; synchronously than block?\r\n\r\nThanks for your help in advance, everyone!\r\n\r\nEdit: At this point, I am sure it has something to do with Autowiring the Repository. It seems to not correctly do so / use the correct instance. While a customized Interface+Impl is called correctly, the underlying logic (from FirestoreReactive/ReactiveCrudRepository) doesn&#39;t seem to supply data correctly (also when @Autowire is used in other components!). I found some hints pointing at the package-structure but (i.e. Application class needs to be in a root package) but that isn&#39;t an issue. \r\n\r\n\r\n","title":"Accessing Reactive CRUD repository from MapStruct Mapper stuck in block()","body":"<p>I am somewhat new to Spring and have recently generated a JHipster monolith application with the <strong>WebFlux</strong> option. My current aim is to make it compatible with Firestore and implement some missing features like inserting document references. To do so, I am currently having the following structure:</p>\n<ul>\n<li>A domain object class &quot;<code>Device</code>&quot; which holds a field <code>String firmwareType;</code></li>\n<li>A domain object class &quot;<code>FirmwareType</code>&quot;</li>\n<li>A DTO object DeviceDTO which holds a field <code>FirmwareType firmwareType;</code></li>\n</ul>\n<p>Correspondingly, I also have the corresponding Repository (extending <code>FirestoreReactiveRepository</code> which extends <code>ReactiveCrudRepository</code>) and Controller implementations, which all work fine. To perform the conversion from a &quot;full object&quot; of FirmwareType in the DTO-object to a <code>String firmwareTypeId;</code> in the Device-object, I implemented a <strong>MapStruct Mapper</strong>:</p>\n<pre><code>@Mapper(unmappedTargetPolicy = org.mapstruct.ReportingPolicy.IGNORE, componentModel = &quot;spring&quot;)\npublic abstract class  DeviceMapper {\n\n    private final Logger logger = LoggerFactory.getLogger(DeviceMapper.class);\n    @Autowired\n    protected FirmwareTypeRepository fwTypeRepo;\n\n    public abstract Device dtoToDevice(DeviceDTO deviceDTO);\n\n    public abstract DeviceDTO deviceToDto(Device device);\n\n    public abstract List&lt;DeviceDTO&gt; devicesToDTOs(List&lt;Device&gt; devices);\n\n\n    public abstract List&lt;Device&gt; dtosToDevices(List&lt;DeviceDTO&gt; dtos);\n\n    public String map(FirmwareType value) {\n        if (value == null || value.getId() == null || value.getId().isEmpty()) {\n            return null;\n        }\n        return value.getId();\n    }\n\n    public FirmwareType map(String value) {\n        if (value == null || value.isEmpty()) {\n            return null;\n        }\n        return fwTypeRepo.findById(value).block(); // &lt;&lt;-- this gets stuck!\n    }\n}\n</code></pre>\n<p>The FirmwareTypeRepository which is autowired as fwTypeRepo field:</p>\n<pre><code>@Repository\npublic interface FirmwareTypeRepository extends FirestoreReactiveRepository&lt;FirmwareType&gt; {\n    Mono&lt;FirmwareType&gt; findById(String id);\n}\n</code></pre>\n<p>The corresponding map functions get called perfectly fine, but the <code>fwTypeRepo.findById(..)</code> call in the marked line (third-last line)  seems to get stuck somewhere and never returns or throws an error. When the &quot;fwTypeRepo&quot; via its Controller-endpoint is called, it works without any issues.</p>\n<p>I suppose it must be some kind of calling context issue or something? Is there another way to force a result by Mono synchronously than block?</p>\n<p>Thanks for your help in advance, everyone!</p>\n<p>Edit: At this point, I am sure it has something to do with Autowiring the Repository. It seems to not correctly do so / use the correct instance. While a customized Interface+Impl is called correctly, the underlying logic (from FirestoreReactive/ReactiveCrudRepository) doesn't seem to supply data correctly (also when @Autowire is used in other components!). I found some hints pointing at the package-structure but (i.e. Application class needs to be in a root package) but that isn't an issue.</p>\n"},{"tags":["java","eclipse","selenium","testing","automation"],"answers":[{"comments":[{"owner":{"account_id":11631453,"reputation":1,"user_id":8519457,"display_name":"Newman Posey"},"score":0,"creation_date":1670365640,"post_id":74701323,"comment_id":131859281,"body_markdown":"I figured it out! I just needed to remove the module-info.java file. Once I removed that everything worked just fine. Thank you for your assistance!","body":"I figured it out! I just needed to remove the module-info.java file. Once I removed that everything worked just fine. Thank you for your assistance!"}],"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670326812,"creation_date":1670324286,"answer_id":74701323,"question_id":74693622,"body_markdown":"Code is fine, just put back the &#39;exe&#39; extension. \r\nDriver file without exe extension is for linux.\r\n\r\nIn project properties in Java Compiler section check JDK Compliance.\r\n\r\n[![JDK Compliance][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/w2JLg.png","title":"Trouble Running My First Simple Selenium Script","body":"<p>Code is fine, just put back the 'exe' extension.\nDriver file without exe extension is for linux.</p>\n<p>In project properties in Java Compiler section check JDK Compliance.</p>\n<p><a href=\"https://i.stack.imgur.com/w2JLg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w2JLg.png\" alt=\"JDK Compliance\" /></a></p>\n"}],"owner":{"account_id":11631453,"reputation":1,"user_id":8519457,"display_name":"Newman Posey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670326812,"creation_date":1670269759,"question_id":74693622,"body_markdown":"\r\n\r\n```\r\npackage demoPackage;\r\n\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver; \r\n\r\npublic class Seleniumscript {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/Users/newman/automation/chromedriver&quot;);\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\tdriver.get(&quot;https://www.apple.com&quot;);\r\n\t\tSystem.out.println(driver.getTitle());\r\n\t\tdriver.quit();\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nThis is my first attempt at using Java and Selenium. I have Java, Eclipse, Selenium, and Chromedriver all downloaded. I followed along with a tutorial on YouTube step for step as far as opening eclipse and creating a package named demoPackage, then created a class named demo to get things started. For some reason I cant seem to properly import the Selenium Jars. I made sure to include all Jars, even the ones in the Lib folder. When I run the script I get an error in the console saying &quot;Module demo1 not found&quot;, and also its telling me &quot;the type org.openqa.selenium.WebDriver is not accessible&quot; and it says &quot;the type org.openqa.selenium.chrome.ChromeDriver is not accessible&quot;. \r\n\r\nMy first thought is that it may have to do with the file path in the setProperty method. Maybe its because I added the external Jars to Classpath instead of Modulepath. \r\n\r\nIf anyone has any ideas, I would greatly appreciate it!\r\n\r\nI have tried changing the file path to &quot;/Users/newman/automation/chromedriver.exe&quot; instead of \r\n&quot;/Users/newman/automation/chromedriver&quot; but still not getting the script to run. \r\n\r\nIve also tried hovering over Webriver and Chrome so it would give me options to import them but that did not get the script to run either. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i8F7z.png","title":"Trouble Running My First Simple Selenium Script","body":"<pre><code>package demoPackage;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver; \n\npublic class Seleniumscript {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/Users/newman/automation/chromedriver&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://www.apple.com&quot;);\n        System.out.println(driver.getTitle());\n        driver.quit();\n\n    }\n\n}\n</code></pre>\n<p>This is my first attempt at using Java and Selenium. I have Java, Eclipse, Selenium, and Chromedriver all downloaded. I followed along with a tutorial on YouTube step for step as far as opening eclipse and creating a package named demoPackage, then created a class named demo to get things started. For some reason I cant seem to properly import the Selenium Jars. I made sure to include all Jars, even the ones in the Lib folder. When I run the script I get an error in the console saying &quot;Module demo1 not found&quot;, and also its telling me &quot;the type org.openqa.selenium.WebDriver is not accessible&quot; and it says &quot;the type org.openqa.selenium.chrome.ChromeDriver is not accessible&quot;.</p>\n<p>My first thought is that it may have to do with the file path in the setProperty method. Maybe its because I added the external Jars to Classpath instead of Modulepath.</p>\n<p>If anyone has any ideas, I would greatly appreciate it!</p>\n<p>I have tried changing the file path to &quot;/Users/newman/automation/chromedriver.exe&quot; instead of\n&quot;/Users/newman/automation/chromedriver&quot; but still not getting the script to run.</p>\n<p>Ive also tried hovering over Webriver and Chrome so it would give me options to import them but that did not get the script to run either.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9392,"page":831,"page_size":100}
