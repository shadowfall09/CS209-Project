{"items":[{"tags":["java","multithreading","unit-testing","concurrency","concurrenthashmap"],"comments":[{"owner":{"account_id":26377,"reputation":352197,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":0,"creation_date":1664547486,"post_id":73909485,"comment_id":130503635,"body_markdown":"@Vaibs How does one do that and what would it show? Please elaborate, preferably in an answer.","body":"@Vaibs How does one do that and what would it show? Please elaborate, preferably in an answer."},{"owner":{"account_id":8136328,"reputation":1561,"user_id":6127820,"accept_rate":33,"display_name":"Vaibs"},"score":0,"creation_date":1664548108,"post_id":73909485,"comment_id":130503857,"body_markdown":"use this.. long threadId = Thread.currentThread().getId();  Or you can use log4j with sleuth trace  ..https://www.baeldung.com/spring-cloud-sleuth-get-trace-id.","body":"use this.. long threadId = Thread.currentThread().getId();  Or you can use log4j with sleuth trace  ..<a href=\"https://www.baeldung.com/spring-cloud-sleuth-get-trace-id\" rel=\"nofollow noreferrer\">baeldung.com/spring-cloud-sleuth-get-trace-id</a>."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1664553959,"post_id":73909485,"comment_id":130505931,"body_markdown":"&quot;Thread safe&quot; is a vague description. Better to explain your actual requirement. If your actual requirement is for the value of &quot;somekey&quot; in the map to be incremented by exactly the number of calls to `some_method()`, then No. It&#39;s not thread safe.","body":"&quot;Thread safe&quot; is a vague description. Better to explain your actual requirement. If your actual requirement is for the value of &quot;somekey&quot; in the map to be incremented by exactly the number of calls to <code>some_method()</code>, then No. It&#39;s not thread safe."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":2,"creation_date":1664554782,"post_id":73909485,"comment_id":130506174,"body_markdown":"It&#39;s not safe.  The `putIfAbsent` is OK, but the increment is not.  Use `.compute(...)` to do the whole operation in one step.","body":"It&#39;s not safe.  The <code>putIfAbsent</code> is OK, but the increment is not.  Use <code>.compute(...)</code> to do the whole operation in one step."}],"answers":[{"comments":[{"owner":{"account_id":10649202,"reputation":41,"user_id":7840805,"display_name":"Sourav gupta"},"score":0,"creation_date":1664559264,"post_id":73911440,"comment_id":130507424,"body_markdown":"Hey , Thanks for such a detailed explanation . I was wondering if we can use .compute() so that it follows rule A (it says what you think it says) . Maybe it will be thread safe then","body":"Hey , Thanks for such a detailed explanation . I was wondering if we can use .compute() so that it follows rule A (it says what you think it says) . Maybe it will be thread safe then"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1664565814,"post_id":73911440,"comment_id":130509100,"body_markdown":"@Souravgupta, [Javadoc for `compute`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#compute(K,java.util.function.BiFunction)) says, &quot;The entire method invocation is performed atomically.&quot; So, yeah. Seems like it would work for you. Just be aware that if you ever call `compute` with a `remappingFunction` that takes a long time to execute, other threads will be blocked if they try to access the map while the `remappingFunction` is executing. _Your_ remappingFunction would be trivial though: It only returns its given value arg plus 1.","body":"@Souravgupta, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#compute(K,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">Javadoc for <code>compute</code></a> says, &quot;The entire method invocation is performed atomically.&quot; So, yeah. Seems like it would work for you. Just be aware that if you ever call <code>compute</code> with a <code>remappingFunction</code> that takes a long time to execute, other threads will be blocked if they try to access the map while the <code>remappingFunction</code> is executing. <i>Your</i> remappingFunction would be trivial though: It only returns its given value arg plus 1."}],"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1664554358,"creation_date":1664554358,"answer_id":73911440,"question_id":73909485,"body_markdown":"&gt; Can anyone suggest how to test this?\r\n\r\nTesting for thread safety is not reliable. The reason is, The specification for a programming language or library may promise that if your multi-threaded program obeys certain rules, then you can expect it to behave in a certain way, but you will practically _never_ find a promise that if your program breaks the rules then it will fail to meet your expectations.\r\n\r\nI personally have seen a software update go through weeks of unit testing and integration testing, and then be shipped out into the field, where it ran for half a year before a piece of &quot;thread unsafe&quot; code caused it to fail at a customer site.\r\n\r\nThe only way to be sure that your multi-threaded program will work, is to _prove_ that (A) it says what you think it says, and (B) it obeys the rules.\r\n\r\nYour example obeys the rules, but I don&#39;t think it does what you think it does. It has a race condition. Namely, two threads both could call `get(&quot;somekey&quot;)` at the same time, and both get the same value. Then they both could compute the same new value, and they both could `put(...)` it back.  Two calls to `some_method()`, but the end result is that the value only goes up by one.","title":"How to test that my usage of a ConcurrentHashMap is threadsafe?","body":"<blockquote>\n<p>Can anyone suggest how to test this?</p>\n</blockquote>\n<p>Testing for thread safety is not reliable. The reason is, The specification for a programming language or library may promise that if your multi-threaded program obeys certain rules, then you can expect it to behave in a certain way, but you will practically <em>never</em> find a promise that if your program breaks the rules then it will fail to meet your expectations.</p>\n<p>I personally have seen a software update go through weeks of unit testing and integration testing, and then be shipped out into the field, where it ran for half a year before a piece of &quot;thread unsafe&quot; code caused it to fail at a customer site.</p>\n<p>The only way to be sure that your multi-threaded program will work, is to <em>prove</em> that (A) it says what you think it says, and (B) it obeys the rules.</p>\n<p>Your example obeys the rules, but I don't think it does what you think it does. It has a race condition. Namely, two threads both could call <code>get(&quot;somekey&quot;)</code> at the same time, and both get the same value. Then they both could compute the same new value, and they both could <code>put(...)</code> it back.  Two calls to <code>some_method()</code>, but the end result is that the value only goes up by one.</p>\n"}],"owner":{"account_id":10649202,"reputation":41,"user_id":7840805,"display_name":"Sourav gupta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664554358,"creation_date":1664544320,"question_id":73909485,"body_markdown":"I have written the code below and want to test its concurrency. \r\nEven though I have used `ConcurrentHashMap`, I am not confident that the code is threadsafe because get and update/replace are used on different lines.\r\nCan anyone suggest how to test this?\r\n\r\n```\r\nConcurrentHashMap&lt;String, int&gt; somemap = new ConcurrentHashMap&lt;&gt;(); \r\nboolean some_method() {\r\n    somemap.putifAbsent(&quot;somekey&quot;,value); \r\n    final int val = somemap.get(&quot;somekey&quot;);\r\n    if(val &lt; total_count) {\r\n        val++;\r\n    }\r\n    somemap.replace(&quot;somekey&quot;, val);\r\n}\r\n```","title":"How to test that my usage of a ConcurrentHashMap is threadsafe?","body":"<p>I have written the code below and want to test its concurrency.\nEven though I have used <code>ConcurrentHashMap</code>, I am not confident that the code is threadsafe because get and update/replace are used on different lines.\nCan anyone suggest how to test this?</p>\n<pre><code>ConcurrentHashMap&lt;String, int&gt; somemap = new ConcurrentHashMap&lt;&gt;(); \nboolean some_method() {\n    somemap.putifAbsent(&quot;somekey&quot;,value); \n    final int val = somemap.get(&quot;somekey&quot;);\n    if(val &lt; total_count) {\n        val++;\n    }\n    somemap.replace(&quot;somekey&quot;, val);\n}\n</code></pre>\n"},{"tags":["java","hashmap","xor"],"comments":[{"owner":{"account_id":1948681,"reputation":522,"user_id":1753273,"accept_rate":86,"display_name":"agaonsindhe"},"score":0,"creation_date":1664551815,"post_id":73910903,"comment_id":130505198,"body_markdown":"For questions like this, you don&#39;t need stackoverflow to be honest, all you need is little time and few debugging session of your own written code.\n\nPlease debug with your inputs you will have more insight on it.","body":"For questions like this, you don&#39;t need stackoverflow to be honest, all you need is little time and few debugging session of your own written code.  Please debug with your inputs you will have more insight on it."},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeƒçek"},"score":1,"creation_date":1664551908,"post_id":73910903,"comment_id":130505227,"body_markdown":"Your hashmap is trying to count the incoming numbers. Print the hashmap and look at it because it currently does not count when a number comes in multiple times. You can just use the a `Map.put` method instead of `putIfAbsent`. (That said, I&#39;d strongly suggest thinking about the problem a little more, there are simpler algorithms than what you&#39;re doing.)","body":"Your hashmap is trying to count the incoming numbers. Print the hashmap and look at it because it currently does not count when a number comes in multiple times. You can just use the a <code>Map.put</code> method instead of <code>putIfAbsent</code>. (That said, I&#39;d strongly suggest thinking about the problem a little more, there are simpler algorithms than what you&#39;re doing.)"}],"answers":[{"tags":[],"owner":{"account_id":3992180,"reputation":1524,"user_id":3290745,"display_name":"Tristate"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664552230,"creation_date":1664552230,"answer_id":73911048,"question_id":73910903,"body_markdown":"Does this help you\r\n\r\n      private static int rectangleCanBeBuild(int a, int b, int c, int d) {\r\n        HashMap&lt;Integer, Integer&gt; hm = new HashMap&lt;&gt;();\r\n        hm.put(a, hm.getOrDefault(a, 0) + 1);\r\n        hm.put(b, hm.getOrDefault(b, 0) + 1);\r\n        hm.put(c, hm.getOrDefault(c, 0) + 1);\r\n        hm.put(d, hm.getOrDefault(d, 0) + 1);\r\n        int count = 0;\r\n        for (int key : hm.keySet()) {\r\n           //use xor to find if there are 2 sides with same length\r\n            count ^= hm.get(key);\r\n\r\n            }\r\n        return count == 0 ? 1 : 0;\r\n    }\r\n\r\nReturn 0 for your Input.\r\nReturn 1 for\r\n\r\n    int a = 2;\r\n    int b = 3;\r\n    int c = 2;\r\n    int d = 3;","title":"is a rectangle java? hashmap","body":"<p>Does this help you</p>\n<pre><code>  private static int rectangleCanBeBuild(int a, int b, int c, int d) {\n    HashMap&lt;Integer, Integer&gt; hm = new HashMap&lt;&gt;();\n    hm.put(a, hm.getOrDefault(a, 0) + 1);\n    hm.put(b, hm.getOrDefault(b, 0) + 1);\n    hm.put(c, hm.getOrDefault(c, 0) + 1);\n    hm.put(d, hm.getOrDefault(d, 0) + 1);\n    int count = 0;\n    for (int key : hm.keySet()) {\n       //use xor to find if there are 2 sides with same length\n        count ^= hm.get(key);\n\n        }\n    return count == 0 ? 1 : 0;\n}\n</code></pre>\n<p>Return 0 for your Input.\nReturn 1 for</p>\n<pre><code>int a = 2;\nint b = 3;\nint c = 2;\nint d = 3;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664553935,"creation_date":1664552574,"answer_id":73911119,"question_id":73910903,"body_markdown":"You can generate a `HashMap` of frequencies for each size and then check if all its values equal to `2` (because there are two distinct sizes of rectangle&#39;s sides).\r\n\r\nThat how it might be implemented using Stream API and *collector* `toMap()`:\r\n\r\n    public static int canFormRectangle(int... args) {\r\n        return Arrays.stream(args)\r\n            .boxed()\r\n            .collect(Collectors.toMap(\r\n                Function.identity(),\r\n                i -&gt; 1,\r\n                Integer::sum\r\n            ))\r\n            .values().stream()\r\n            .allMatch(count -&gt; count == 2)\r\n            ? 1 : 0;\r\n    }\r\n\r\nThe same using plain loops. We can dump all values (frequencies of each side) into a list and check if this list is equal to a list `[2,2]`.\r\n\r\n    public static int canFormRectangle(int... args) {\r\n            \r\n        Map&lt;Integer, Integer&gt; countBySide = new HashMap&lt;&gt;();\r\n        \r\n        for (int next: args) countBySide.merge(next, 1, Integer::sum);\r\n        \r\n        return new ArrayList&lt;&gt;(countBySide.values()).equals(List.of(2, 2)) ? 1 : 0;\r\n    }","title":"is a rectangle java? hashmap","body":"<p>You can generate a <code>HashMap</code> of frequencies for each size and then check if all its values equal to <code>2</code> (because there are two distinct sizes of rectangle's sides).</p>\n<p>That how it might be implemented using Stream API and <em>collector</em> <code>toMap()</code>:</p>\n<pre><code>public static int canFormRectangle(int... args) {\n    return Arrays.stream(args)\n        .boxed()\n        .collect(Collectors.toMap(\n            Function.identity(),\n            i -&gt; 1,\n            Integer::sum\n        ))\n        .values().stream()\n        .allMatch(count -&gt; count == 2)\n        ? 1 : 0;\n}\n</code></pre>\n<p>The same using plain loops. We can dump all values (frequencies of each side) into a list and check if this list is equal to a list <code>[2,2]</code>.</p>\n<pre><code>public static int canFormRectangle(int... args) {\n        \n    Map&lt;Integer, Integer&gt; countBySide = new HashMap&lt;&gt;();\n    \n    for (int next: args) countBySide.merge(next, 1, Integer::sum);\n    \n    return new ArrayList&lt;&gt;(countBySide.values()).equals(List.of(2, 2)) ? 1 : 0;\n}\n</code></pre>\n"}],"owner":{"account_id":25818630,"reputation":31,"user_id":19558174,"display_name":"Koushik Andhavarapu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1664553935,"creation_date":1664551425,"question_id":73910903,"body_markdown":"Given lengths a,b,c,d. find wether a rectangle can be formed or not? if yes return 1 or else 0.\r\nI am using hashmap and xor operation and i want to know is there anything wrong in my problem solving. it fails for the testcase - a=2,b=3,c=2,d=2(don&#39;t know why?)\r\n\r\n        HashMap&lt;Integer, Integer&gt; hm = new HashMap&lt;&gt;();\r\n        int [] numbers = {A,B,C,D};\r\n        for(int i=0;i&lt;numbers.length;i++)\r\n        {\r\n            hm.putIfAbsent(numbers[i],hm.getOrDefault(numbers[i],0)+1);\r\n        }\r\n        int res = 0;\r\n        for(int val : hm.values())\r\n        {\r\n            res = res ^ val;\r\n        }\r\n        if(hm.size() == 2 &amp;&amp; res == 0)\r\n        {\r\n            return 1;\r\n        }\r\n        return 0;\r\n","title":"is a rectangle java? hashmap","body":"<p>Given lengths a,b,c,d. find wether a rectangle can be formed or not? if yes return 1 or else 0.\nI am using hashmap and xor operation and i want to know is there anything wrong in my problem solving. it fails for the testcase - a=2,b=3,c=2,d=2(don't know why?)</p>\n<pre><code>    HashMap&lt;Integer, Integer&gt; hm = new HashMap&lt;&gt;();\n    int [] numbers = {A,B,C,D};\n    for(int i=0;i&lt;numbers.length;i++)\n    {\n        hm.putIfAbsent(numbers[i],hm.getOrDefault(numbers[i],0)+1);\n    }\n    int res = 0;\n    for(int val : hm.values())\n    {\n        res = res ^ val;\n    }\n    if(hm.size() == 2 &amp;&amp; res == 0)\n    {\n        return 1;\n    }\n    return 0;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":10524199,"reputation":514,"user_id":7755704,"display_name":"Matthew Mitchell"},"score":0,"creation_date":1664553119,"post_id":73910941,"comment_id":130505661,"body_markdown":"You will have to store the users login details when they login successfully, when they open the app again, on your splash screen (before moving to the login screen) fetch those details and check them and then move them to the dashboard instead of the login screen. This can be done using Room database, or you can use Shared Preferences: https://developer.android.com/training/data-storage/shared-preferences\n\nSince you are a beginner I suggest using Share Preferences and then learn SQL Room","body":"You will have to store the users login details when they login successfully, when they open the app again, on your splash screen (before moving to the login screen) fetch those details and check them and then move them to the dashboard instead of the login screen. This can be done using Room database, or you can use Shared Preferences: <a href=\"https://developer.android.com/training/data-storage/shared-preferences\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage/shared-preferenc&zwnj;&#8203;es</a>  Since you are a beginner I suggest using Share Preferences and then learn SQL Room"},{"owner":{"account_id":26331575,"reputation":1,"user_id":19991979,"display_name":"Kenneth Dela Cruz"},"score":0,"creation_date":1664553720,"post_id":73910941,"comment_id":130505849,"body_markdown":"Thank you. I already get it but I will learn also from your suggestion. thank you.","body":"Thank you. I already get it but I will learn also from your suggestion. thank you."}],"answers":[{"tags":[],"owner":{"account_id":26331575,"reputation":1,"user_id":19991979,"display_name":"Kenneth Dela Cruz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664553809,"creation_date":1664553809,"answer_id":73911342,"question_id":73910941,"body_markdown":"I get the answer from the youtube guys.\r\n\r\nSince I&#39;ve used Firebase \r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        if(mAuth.getCurrentUser() !=null){\r\n            startActivity(new Intent(this, dashboard.class));\r\n            this.finish();\r\n        }\r\n    }\r\n\r\nIt simply check if the user already logged in and if its true it will be directed to the dashboard and skipped Login Activity.","title":"How to directly go in the recent activity once the User use other application and go back in android","body":"<p>I get the answer from the youtube guys.</p>\n<p>Since I've used Firebase</p>\n<pre><code>@Override\nprotected void onStart() {\n    super.onStart();\n    if(mAuth.getCurrentUser() !=null){\n        startActivity(new Intent(this, dashboard.class));\n        this.finish();\n    }\n}\n</code></pre>\n<p>It simply check if the user already logged in and if its true it will be directed to the dashboard and skipped Login Activity.</p>\n"}],"owner":{"account_id":26331575,"reputation":1,"user_id":19991979,"display_name":"Kenneth Dela Cruz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664553809,"creation_date":1664551677,"question_id":73910941,"body_markdown":"Here is the scenario.\r\n\r\n\r\nUser --&gt; Login Activity --&gt; then once its password and username is true or valid. Go in the dashboard using startActivity(Intent(this,new.class)) with finish() method.\r\n\r\nCurrent Activity\r\nUser --&gt; Dashboard\r\n\r\nWhen the user pressed back button it will be direct in the home page or outside of the application.\r\n\r\n\r\nThen when I click the application again it will start the app like\r\n\r\nSplash Screen --&gt; Welcome Activity --&gt; Login.\r\n\r\n\r\nThe question is. How can I let the user be directed to the dashboard after the user logs in and goes out of the application?\r\n\r\n\r\n\r\nLike other apps maybe(facebook) after you login an press back button it will out in the application but when the user clicks it. The user will be directed in the Dashboard or home. \r\n","title":"How to directly go in the recent activity once the User use other application and go back in android","body":"<p>Here is the scenario.</p>\n<p>User --&gt; Login Activity --&gt; then once its password and username is true or valid. Go in the dashboard using startActivity(Intent(this,new.class)) with finish() method.</p>\n<p>Current Activity\nUser --&gt; Dashboard</p>\n<p>When the user pressed back button it will be direct in the home page or outside of the application.</p>\n<p>Then when I click the application again it will start the app like</p>\n<p>Splash Screen --&gt; Welcome Activity --&gt; Login.</p>\n<p>The question is. How can I let the user be directed to the dashboard after the user logs in and goes out of the application?</p>\n<p>Like other apps maybe(facebook) after you login an press back button it will out in the application but when the user clicks it. The user will be directed in the Dashboard or home.</p>\n"},{"tags":["java","ssl","https","keytool"],"comments":[{"owner":{"account_id":20130,"reputation":279855,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"score":2,"creation_date":1274655142,"post_id":2893819,"comment_id":2942882,"body_markdown":"See [How do I accept a self-signed certificate with a Java HttpsURLConnection?](http://stackoverflow.com/questions/859111/how-do-i-accept-a-self-signed-certificate-with-a-java-httpsurlconnection).  Obviously, it would be better if you can get the site to use a valid cert.","body":"See <a href=\"http://stackoverflow.com/questions/859111/how-do-i-accept-a-self-signed-certificate-with-a-java-httpsurlconnection\">How do I accept a self-signed certificate with a Java HttpsURLConnection?</a>.  Obviously, it would be better if you can get the site to use a valid cert."},{"owner":{"account_id":130930,"reputation":67596,"user_id":330565,"accept_rate":79,"display_name":"Nikita Rybak"},"score":2,"creation_date":1274656921,"post_id":2893819,"comment_id":2942985,"body_markdown":"Thanks for the link, I didn&#39;t see it while searching. But both solutions there involve special code to send a request and I&#39;m using existing code (amazon ws client for java). Respectively, it&#39;s their site I&#39;m connecting and I can&#39;t fix its certificate problems.","body":"Thanks for the link, I didn&#39;t see it while searching. But both solutions there involve special code to send a request and I&#39;m using existing code (amazon ws client for java). Respectively, it&#39;s their site I&#39;m connecting and I can&#39;t fix its certificate problems."},{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":6,"creation_date":1496563929,"post_id":2893819,"comment_id":75706113,"body_markdown":"@MatthewFlaschen - *&quot;Obviously, it would be better if you can get the site to use a valid cert...&quot;* - A self signed certificate is a valid certificate if the client trusts it. Many think conferring trust to the CA/Browser cartel is a security defect.","body":"@MatthewFlaschen - <i>&quot;Obviously, it would be better if you can get the site to use a valid cert...&quot;</i> - A self signed certificate is a valid certificate if the client trusts it. Many think conferring trust to the CA/Browser cartel is a security defect."},{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":4,"creation_date":1496569359,"post_id":2893819,"comment_id":75707472,"body_markdown":"Related, see  [The most dangerous code in the world: validating SSL certificates in non-browser software](https://crypto.stanford.edu/~dabo/pubs/abstracts/ssl-client-bugs.html). (The link is provided since you seem to be getting those spammy answers that disable validation).","body":"Related, see  <a href=\"https://crypto.stanford.edu/~dabo/pubs/abstracts/ssl-client-bugs.html\" rel=\"nofollow noreferrer\">The most dangerous code in the world: validating SSL certificates in non-browser software</a>. (The link is provided since you seem to be getting those spammy answers that disable validation)."}],"answers":[{"comments":[{"owner":{"account_id":130930,"reputation":67596,"user_id":330565,"accept_rate":79,"display_name":"Nikita Rybak"},"score":1,"creation_date":1274659774,"post_id":2893932,"comment_id":2943168,"body_markdown":"I&#39;ve tried 2 (for testing), but it doesn&#39;t seem to work. Maybe, because amazon ws client employs apache HttpClient and HttpMethod classes to make a call. I executed the code right before that call.    Also, do you mean in the last sentence that our server having bad certificate can prevent connection? I thought it&#39;s only about checking target server&#39;s certificate.  Thanks, and I&#39;ll see what I can do with keytool.","body":"I&#39;ve tried 2 (for testing), but it doesn&#39;t seem to work. Maybe, because amazon ws client employs apache HttpClient and HttpMethod classes to make a call. I executed the code right before that call.    Also, do you mean in the last sentence that our server having bad certificate can prevent connection? I thought it&#39;s only about checking target server&#39;s certificate.  Thanks, and I&#39;ll see what I can do with keytool."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":8,"creation_date":1274690313,"post_id":2893932,"comment_id":2944912,"body_markdown":"Not just the MIM attack. It renders you vulnerable to connecting to the wrong site. It is completely insecure. See RFC 2246. I am opposed to posting this TrustManager at all times. It&#39;s not even correct w.r.t. its own specification.","body":"Not just the MIM attack. It renders you vulnerable to connecting to the wrong site. It is completely insecure. See RFC 2246. I am opposed to posting this TrustManager at all times. It&#39;s not even correct w.r.t. its own specification."},{"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"score":15,"creation_date":1274699872,"post_id":2893932,"comment_id":2945614,"body_markdown":"@EJP I&#39;m really not recommending the second option (I&#39;ve updated my answer to make it clear). However, not posting it won&#39;t solve anything (this is public information) and doesn&#39;t IMHO deserve a downvote.","body":"@EJP I&#39;m really not recommending the second option (I&#39;ve updated my answer to make it clear). However, not posting it won&#39;t solve anything (this is public information) and doesn&#39;t IMHO deserve a downvote."},{"owner":{"account_id":130930,"reputation":67596,"user_id":330565,"accept_rate":79,"display_name":"Nikita Rybak"},"score":0,"creation_date":1274743284,"post_id":2893932,"comment_id":2950680,"body_markdown":"It turns out, the problem was in our ssl certificate (which can&#39;t be valid because VM is used for testing). I didn&#39;t expect it: browsers don&#39;t require you to have certificate, so why do I need one in jboss? Anyway, playing around with keytool helped. I guess, I&#39;ll have to find time and really learn all this stuff :/","body":"It turns out, the problem was in our ssl certificate (which can&#39;t be valid because VM is used for testing). I didn&#39;t expect it: browsers don&#39;t require you to have certificate, so why do I need one in jboss? Anyway, playing around with keytool helped. I guess, I&#39;ll have to find time and really learn all this stuff :/"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1274745522,"post_id":2893932,"comment_id":2950851,"body_markdown":"Pascal, I disagree. If you&#39;re not recommending it don&#39;t post it. I tremble to think how many production systems this has been embedded in just because someone used it to &#39;get it working&#39; and then moved on. The thing doesn&#39;t even confirm to its own specification let alone any conceivable security scenario, and it doesn&#39;t just &#39;defeat some parts of SSL&#39;, it defeats the point of using SSL at all.","body":"Pascal, I disagree. If you&#39;re not recommending it don&#39;t post it. I tremble to think how many production systems this has been embedded in just because someone used it to &#39;get it working&#39; and then moved on. The thing doesn&#39;t even confirm to its own specification let alone any conceivable security scenario, and it doesn&#39;t just &#39;defeat some parts of SSL&#39;, it defeats the point of using SSL at all."},{"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"score":159,"creation_date":1274746246,"post_id":2893932,"comment_id":2950883,"body_markdown":"@EJP It&#39;s by teaching people that you educate them, not by hiding  things. So keeping things secret or in obscurity is not a solution at all. This code is public, the Java API is public, it&#39;s better to talk about it than to ignore it. But I can live with you not agreeing.","body":"@EJP It&#39;s by teaching people that you educate them, not by hiding  things. So keeping things secret or in obscurity is not a solution at all. This code is public, the Java API is public, it&#39;s better to talk about it than to ignore it. But I can live with you not agreeing."},{"owner":{"account_id":5864,"reputation":31268,"user_id":9636,"accept_rate":81,"display_name":"Heath Borders"},"score":1,"creation_date":1295584302,"post_id":2893932,"comment_id":5259923,"body_markdown":"You should use the TrustManager to validate the self-signed cert.  You can get the cert&#39;s fingerprint using a java.security.KeyStore.","body":"You should use the TrustManager to validate the self-signed cert.  You can get the cert&#39;s fingerprint using a java.security.KeyStore."},{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":1,"creation_date":1303319438,"post_id":2893932,"comment_id":6559033,"body_markdown":"Can you integrate the ALLOW_ALL_HOSTNAME_VERIFIER  into your answer for me?","body":"Can you integrate the ALLOW_ALL_HOSTNAME_VERIFIER  into your answer for me?"},{"owner":{"account_id":114848,"reputation":134189,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"score":11,"creation_date":1308643160,"post_id":2893932,"comment_id":7534107,"body_markdown":"The other option ‚Äì the one you don&#39;t mention ‚Äì is to _get the server&#39;s certificate fixed_ either by fixing it yourself or by calling up the relevant support people. Single host certificates are really very cheap; futzing around with self-signed stuff is penny-wise pound-foolish (i.e., for those not familiar with that English idiom, a totally stupid set of priorities that costs lots to save almost nothing).","body":"The other option ‚Äì the one you don&#39;t mention ‚Äì is to <i>get the server&#39;s certificate fixed</i> either by fixing it yourself or by calling up the relevant support people. Single host certificates are really very cheap; futzing around with self-signed stuff is penny-wise pound-foolish (i.e., for those not familiar with that English idiom, a totally stupid set of priorities that costs lots to save almost nothing)."},{"owner":{"account_id":15550,"reputation":3041,"user_id":32965,"accept_rate":100,"display_name":"Nemi"},"score":0,"creation_date":1311871908,"post_id":2893932,"comment_id":8162646,"body_markdown":"I am not sure the -trustcacerts switch is actually needed in this case. The documentation on that switch is poorly written, but I think just importing a cert into the cacerts truststore is enough for it to be used as a CA cert.","body":"I am not sure the -trustcacerts switch is actually needed in this case. The documentation on that switch is poorly written, but I think just importing a cert into the cacerts truststore is enough for it to be used as a CA cert."},{"owner":{"account_id":5203,"reputation":15153,"user_id":8261,"accept_rate":78,"display_name":"Rich"},"score":1,"creation_date":1328287580,"post_id":2893932,"comment_id":11477465,"body_markdown":"Would you be able to update your answer with a pointer on how to obtain a suitable &quot;server.cer&quot; file, given only a specific HTTPS site I need to connect to which has a self-signed certificate? Can I derive a &quot;cer&quot; file just by connecting to the server, or do I need to contact the site admin?","body":"Would you be able to update your answer with a pointer on how to obtain a suitable &quot;server.cer&quot; file, given only a specific HTTPS site I need to connect to which has a self-signed certificate? Can I derive a &quot;cer&quot; file just by connecting to the server, or do I need to contact the site admin?"},{"owner":{"account_id":5203,"reputation":15153,"user_id":8261,"accept_rate":78,"display_name":"Rich"},"score":0,"creation_date":1328290362,"post_id":2893932,"comment_id":11478436,"body_markdown":"In response to my previous comment, and in case anyone else has the same problem: you can get a suitable &quot;server.cer&quot; file by doing &quot;openssl s_client -connect myserver:myport&quot; and copy from &quot;---BEGIN CERTIFICATE---&quot; to &quot;----END CERTIFICATE---&quot; into a &quot;.cer&quot; file","body":"In response to my previous comment, and in case anyone else has the same problem: you can get a suitable &quot;server.cer&quot; file by doing &quot;openssl s_client -connect myserver:myport&quot; and copy from &quot;---BEGIN CERTIFICATE---&quot; to &quot;----END CERTIFICATE---&quot; into a &quot;.cer&quot; file"},{"owner":{"account_id":34640,"reputation":20249,"user_id":97964,"accept_rate":88,"display_name":"jocull"},"score":0,"creation_date":1338928882,"post_id":2893932,"comment_id":14217987,"body_markdown":"Thanks so much for the tip about exporting from the browser. That&#39;s probably the easiest solution I have seen.","body":"Thanks so much for the tip about exporting from the browser. That&#39;s probably the easiest solution I have seen."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1392713777,"post_id":2893932,"comment_id":33072520,"body_markdown":"@Nemi You seem to be asserting that the -trustcacerts switch doesn&#39;t actually do anything. You are of course mistaken about that.","body":"@Nemi You seem to be asserting that the -trustcacerts switch doesn&#39;t actually do anything. You are of course mistaken about that."},{"owner":{"account_id":288263,"reputation":1099,"user_id":2360915,"accept_rate":85,"display_name":"user2360915"},"score":0,"creation_date":1440053989,"post_id":2893932,"comment_id":52116349,"body_markdown":"Any way to restore the cert validation once the code has been executed for option #2?","body":"Any way to restore the cert validation once the code has been executed for option #2?"},{"owner":{"account_id":1539955,"reputation":1612,"user_id":1434854,"accept_rate":60,"display_name":"Vova Rozhkov"},"score":0,"creation_date":1449580751,"post_id":2893932,"comment_id":56060452,"body_markdown":"btw, HttpsURLConnection and other stuff should be imported from javax.net.ssl/java.security, not from the com.sun... Just in case anyone will import from sun packages by mistake.","body":"btw, HttpsURLConnection and other stuff should be imported from javax.net.ssl/java.security, not from the com.sun... Just in case anyone will import from sun packages by mistake."},{"owner":{"account_id":1663054,"reputation":554,"user_id":1530967,"accept_rate":25,"display_name":"Tom Close"},"score":0,"creation_date":1456895868,"post_id":2893932,"comment_id":59151903,"body_markdown":"Where is cacerts.jks meant to be stored, in your home directory?","body":"Where is cacerts.jks meant to be stored, in your home directory?"},{"owner":{"account_id":3839779,"reputation":1574,"user_id":3183224,"accept_rate":60,"display_name":"Igor Ronner"},"score":0,"creation_date":1465913564,"post_id":2893932,"comment_id":63093025,"body_markdown":"the option 2 result in exception javax.net.ssl.SSLHandshakeException: Connection closed by peer","body":"the option 2 result in exception javax.net.ssl.SSLHandshakeException: Connection closed by peer"},{"owner":{"account_id":416701,"reputation":4306,"user_id":792238,"accept_rate":87,"display_name":"Siddhartha"},"score":1,"creation_date":1523053025,"post_id":2893932,"comment_id":86416987,"body_markdown":"Fantastic answer, thanks so much. Couple things to be careful of, when I first did the command in Option 1, it created a new cacerts.jks and the JVM didn&#39;t use it. I had to use just ```cacerts``` and then it appended the self-signed certificate to the cacerts truststore file. Also, if you open the file in textedit, you&#39;d be able to see (with some binary gibberish) the signing authorities it trusts, e.g. Verisign. You should see your own cert there once you add it.","body":"Fantastic answer, thanks so much. Couple things to be careful of, when I first did the command in Option 1, it created a new cacerts.jks and the JVM didn&#39;t use it. I had to use just <code>cacerts</code> and then it appended the self-signed certificate to the cacerts truststore file. Also, if you open the file in textedit, you&#39;d be able to see (with some binary gibberish) the signing authorities it trusts, e.g. Verisign. You should see your own cert there once you add it."},{"owner":{"account_id":416701,"reputation":4306,"user_id":792238,"accept_rate":87,"display_name":"Siddhartha"},"score":3,"creation_date":1523053531,"post_id":2893932,"comment_id":86417159,"body_markdown":"@Rich, 6 years late, but you can also get hold of the server cert in firefox by clicking the lock icon -&gt; more information -&gt; View Certificate -&gt; Details tab -&gt; Export... It&#39;s well hidden.","body":"@Rich, 6 years late, but you can also get hold of the server cert in firefox by clicking the lock icon -&gt; more information -&gt; View Certificate -&gt; Details tab -&gt; Export... It&#39;s well hidden."},{"owner":{"account_id":11743317,"reputation":540,"user_id":8594836,"accept_rate":65,"display_name":"Andika Ristian Nugraha"},"score":0,"creation_date":1536128365,"post_id":2893932,"comment_id":91306605,"body_markdown":"i have try this but i get another error message org.apache.xmlrpc.XmlRpcException: Failed to read server&#39;s response: java.security.cert.CertificateException: Certificates do not conform to algorithm constraints","body":"i have try this but i get another error message org.apache.xmlrpc.XmlRpcException: Failed to read server&#39;s response: java.security.cert.CertificateException: Certificates do not conform to algorithm constraints"},{"owner":{"account_id":13697,"reputation":7703,"user_id":27658,"display_name":"Johannes Brodwall"},"score":0,"creation_date":1596372864,"post_id":2893932,"comment_id":111785058,"body_markdown":"An option that is much safer than #2 and avoids having to deal with global config outside the program like #1 is to trust the specific certificate: https://stackoverflow.com/a/57046889/27658","body":"An option that is much safer than #2 and avoids having to deal with global config outside the program like #1 is to trust the specific certificate: <a href=\"https://stackoverflow.com/a/57046889/27658\">stackoverflow.com/a/57046889/27658</a>"},{"owner":{"account_id":984172,"reputation":594,"user_id":1003113,"display_name":"Martynas Juseviƒçius"},"score":0,"creation_date":1612439208,"post_id":2893932,"comment_id":116770029,"body_markdown":"I don&#39;t get option #1. What does the browser got to do with the OP&#39;s question? He&#39;s mentioning some kind of Java client (not browser), and it is the _server certificate_ that is self-signed, as I understand.","body":"I don&#39;t get option #1. What does the browser got to do with the OP&#39;s question? He&#39;s mentioning some kind of Java client (not browser), and it is the <i>server certificate</i> that is self-signed, as I understand."},{"owner":{"account_id":15409810,"reputation":99,"user_id":11116853,"display_name":"wo4wangle"},"score":0,"creation_date":1659990905,"post_id":2893932,"comment_id":129422782,"body_markdown":"Please help for [https://stackoverflow.com/questions/73283381/how-to-connect-to-pg-server-with-self-signed-ssl-file-for-java-project-in-ssl-ve](this) one, thanks!","body":"Please help for [<a href=\"https://stackoverflow.com/questions/73283381/how-to-connect-to-pg-server-with-self-signed-ssl-file-for-java-project-in-ssl-ve](this)\" title=\"how to connect to pg server with self signed ssl file for java project in ssl ve%5d(this)\">stackoverflow.com/questions/73283381/&hellip;</a> one, thanks!"}],"tags":[],"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":24,"down_vote_count":6,"up_vote_count":354,"is_accepted":true,"score":348,"last_activity_date":1663349955,"creation_date":1274657185,"answer_id":2893932,"question_id":2893819,"body_markdown":"You have basically two options here: add the self-signed certificate to your JVM truststore or configure your client to \r\n\r\n### Option 1\r\n\r\nExport the certificate from your browser and import it in your JVM truststore (to establish a chain of trust):\r\n\r\n    &lt;JAVA_HOME&gt;\\bin\\keytool -import -v -trustcacerts\r\n    -alias server-alias -file server.cer\r\n    -keystore cacerts.jks -keypass changeit\r\n    -storepass changeit \r\n\r\n### Option 2\r\n\r\nDisable Certificate Validation (code from [Example Depot][1]):\r\n\r\n    // Create a trust manager that does not validate certificate chains\r\n    TrustManager[] trustAllCerts = new TrustManager[] { \r\n        new X509TrustManager() {     \r\n            public java.security.cert.X509Certificate[] getAcceptedIssuers() { \r\n                return new X509Certificate[0];\r\n            } \r\n            public void checkClientTrusted( \r\n                java.security.cert.X509Certificate[] certs, String authType) {\r\n                } \r\n            public void checkServerTrusted( \r\n                java.security.cert.X509Certificate[] certs, String authType) {\r\n            }\r\n        } \r\n    }; \r\n    \r\n    // Install the all-trusting trust manager\r\n    try {\r\n        SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;); \r\n        sc.init(null, trustAllCerts, new java.security.SecureRandom()); \r\n        HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n    } catch (GeneralSecurityException e) {\r\n    } \r\n    // Now you can access an https URL without having the certificate in the truststore\r\n    try { \r\n        URL url = new URL(&quot;https://hostname/index.html&quot;); \r\n    } catch (MalformedURLException e) {\r\n    } \r\n\r\nNote that **I do not recommend the Option #2 at all**. Disabling the trust manager defeats some parts of SSL and makes you vulnerable to man in the middle attacks. Prefer Option #1 or, even better, have the server use a &quot;real&quot; certificate signed by a well known CA. \r\n\r\n\r\n  [1]: https://web.archive.org/web/20100114131426/http://exampledepot.com/egs/javax.net.ssl/TrustAll.html","title":"Accept server&#39;s self-signed ssl certificate in Java client","body":"<p>You have basically two options here: add the self-signed certificate to your JVM truststore or configure your client to</p>\n<h3>Option 1</h3>\n<p>Export the certificate from your browser and import it in your JVM truststore (to establish a chain of trust):</p>\n<pre><code>&lt;JAVA_HOME&gt;\\bin\\keytool -import -v -trustcacerts\n-alias server-alias -file server.cer\n-keystore cacerts.jks -keypass changeit\n-storepass changeit \n</code></pre>\n<h3>Option 2</h3>\n<p>Disable Certificate Validation (code from <a href=\"https://web.archive.org/web/20100114131426/http://exampledepot.com/egs/javax.net.ssl/TrustAll.html\" rel=\"noreferrer\">Example Depot</a>):</p>\n<pre><code>// Create a trust manager that does not validate certificate chains\nTrustManager[] trustAllCerts = new TrustManager[] { \n    new X509TrustManager() {     \n        public java.security.cert.X509Certificate[] getAcceptedIssuers() { \n            return new X509Certificate[0];\n        } \n        public void checkClientTrusted( \n            java.security.cert.X509Certificate[] certs, String authType) {\n            } \n        public void checkServerTrusted( \n            java.security.cert.X509Certificate[] certs, String authType) {\n        }\n    } \n}; \n\n// Install the all-trusting trust manager\ntry {\n    SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;); \n    sc.init(null, trustAllCerts, new java.security.SecureRandom()); \n    HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n} catch (GeneralSecurityException e) {\n} \n// Now you can access an https URL without having the certificate in the truststore\ntry { \n    URL url = new URL(&quot;https://hostname/index.html&quot;); \n} catch (MalformedURLException e) {\n} \n</code></pre>\n<p>Note that <strong>I do not recommend the Option #2 at all</strong>. Disabling the trust manager defeats some parts of SSL and makes you vulnerable to man in the middle attacks. Prefer Option #1 or, even better, have the server use a &quot;real&quot; certificate signed by a well known CA.</p>\n"},{"comments":[{"owner":{"account_id":1201625,"reputation":6769,"user_id":1172174,"accept_rate":80,"display_name":"Gus"},"score":3,"creation_date":1454707785,"post_id":2895603,"comment_id":58182446,"body_markdown":"Just because some server decided to use https, doesn&#39;t mean that the *person with the client* gives a crap about security for their own purposes.","body":"Just because some server decided to use https, doesn&#39;t mean that the <i>person with the client</i> gives a crap about security for their own purposes."},{"owner":{"account_id":7350228,"reputation":549,"user_id":5596684,"accept_rate":50,"display_name":"cr1pto"},"score":3,"creation_date":1463430128,"post_id":2895603,"comment_id":62051810,"body_markdown":"I&#39;m surprised this answer got downvoted so much.  I would love to understand a little more why.  It seems like EJP is suggesting that you shouldn&#39;t be doing option 2 because it allows for a major security flaw.  Could someone explain why (other than pre-deployment settings) why this answer is low quality?","body":"I&#39;m surprised this answer got downvoted so much.  I would love to understand a little more why.  It seems like EJP is suggesting that you shouldn&#39;t be doing option 2 because it allows for a major security flaw.  Could someone explain why (other than pre-deployment settings) why this answer is low quality?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1466495027,"post_id":2895603,"comment_id":63325988,"body_markdown":"@Gus If the server decided to use HTTPS it is because *they* want some security, and they are entitled to expect the client not to undermine it.","body":"@Gus If the server decided to use HTTPS it is because <i>they</i> want some security, and they are entitled to expect the client not to undermine it."},{"owner":{"account_id":1201625,"reputation":6769,"user_id":1172174,"accept_rate":80,"display_name":"Gus"},"score":0,"creation_date":1466519282,"post_id":2895603,"comment_id":63343090,"body_markdown":"@EJP &quot;they want security&quot; and so *they* use a self signed cert, or let their cert expire? and it breaks their security that I should trust their self signed cert that *they* provided? I don&#39;t follow what you mean...","body":"@EJP &quot;they want security&quot; and so <i>they</i> use a self signed cert, or let their cert expire? and it breaks their security that I should trust their self signed cert that <i>they</i> provided? I don&#39;t follow what you mean..."},{"owner":{"account_id":1326695,"reputation":1510,"user_id":1271372,"display_name":"Piohen"},"score":1,"creation_date":1467145895,"post_id":2895603,"comment_id":63607821,"body_markdown":"@EJP: Please note that I didn&#39;t downvote the answer and that I didn&#39;t make any arguments ad personam. I understand that seeing the answer rejected by a few people might not be pleasant (especially taking the reputation into account), but I really doubt people downvote it because of my comment, mainly because it was rejected before I wrote it. Everyone makes mistakes sometimes, you and I are no exceptions.","body":"@EJP: Please note that I didn&#39;t downvote the answer and that I didn&#39;t make any arguments ad personam. I understand that seeing the answer rejected by a few people might not be pleasant (especially taking the reputation into account), but I really doubt people downvote it because of my comment, mainly because it was rejected before I wrote it. Everyone makes mistakes sometimes, you and I are no exceptions."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1469609645,"post_id":2895603,"comment_id":64603111,"body_markdown":"@Piohen I&#39;m still waiting for you to tell me what mistake I have made here. All you&#39;ve done is posted a lot of irrelevant rubbish that has nothing to do with what I wrote, either in my answer or in my reply to your comment. Specifically, you&#39;ve claimed that I have said &#39;that self-signed certs are always bad&#39;. Please show me where","body":"@Piohen I&#39;m still waiting for you to tell me what mistake I have made here. All you&#39;ve done is posted a lot of irrelevant rubbish that has nothing to do with what I wrote, either in my answer or in my reply to your comment. Specifically, you&#39;ve claimed that I have said &#39;that self-signed certs are always bad&#39;. Please show me where"},{"owner":{"account_id":1326695,"reputation":1510,"user_id":1271372,"display_name":"Piohen"},"score":0,"creation_date":1469790551,"post_id":2895603,"comment_id":64695667,"body_markdown":"No problem @EPJ: &quot;If &#39;they&#39; are using a self-signed certificate it is up to them to take the steps required to make their server usable.&quot; ;-)","body":"No problem @EPJ: &quot;If &#39;they&#39; are using a self-signed certificate it is up to them to take the steps required to make their server usable.&quot; ;-)"},{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":1,"creation_date":1496564498,"post_id":2895603,"comment_id":75706239,"body_markdown":"This answer does not seem to be downvote-worthy to the level its has sunk (at least to me). Perhaps you can provide the code for the client to use the server&#39;s self-signed certificate. I&#39;m not sure I understand the statement *&quot;Don&#39;t even think about the insecure TrustManager posted here&quot;*. I thought a custom `TrustManager` overriding `checkServerTrusted` was one of the ways to do it. Maybe you could explain it.","body":"This answer does not seem to be downvote-worthy to the level its has sunk (at least to me). Perhaps you can provide the code for the client to use the server&#39;s self-signed certificate. I&#39;m not sure I understand the statement <i>&quot;Don&#39;t even think about the insecure TrustManager posted here&quot;</i>. I thought a custom <code>TrustManager</code> overriding <code>checkServerTrusted</code> was one of the ways to do it. Maybe you could explain it."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1496565017,"post_id":2895603,"comment_id":75706374,"body_markdown":"@Piohen If you can&#39;t tell the difference between &#39;it is up to them ...&#39; and &#39;always bad&#39; you are beyond any help I could possibly give you. All I have done here is state a basic security requirement. Sorry you don&#39;t get it.","body":"@Piohen If you can&#39;t tell the difference between &#39;it is up to them ...&#39; and &#39;always bad&#39; you are beyond any help I could possibly give you. All I have done here is state a basic security requirement. Sorry you don&#39;t get it."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1496565090,"post_id":2895603,"comment_id":75706393,"body_markdown":"@jww What part of &#39;it is up to them to take the steps required to make their server usable&#39; etc. don&#39;t you understand? And how on earth does this relate to me providing code?","body":"@jww What part of &#39;it is up to them to take the steps required to make their server usable&#39; etc. don&#39;t you understand? And how on earth does this relate to me providing code?"},{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":2,"creation_date":1496565570,"post_id":2895603,"comment_id":75706495,"body_markdown":"Well, I guess all of it. What does *&quot;it is up to them to take the steps required to make their server usable&quot;* mean? What does a server operator have to do to make it usable? What are the steps you have in mind? Can you provide a list of them? But stepping back to 1,000 feet, how does that even relate to the problem the OP asked? He wants to know how to make the client accept the self-signed certificate in Java. That&#39;s a simple matter of conferring trust in the code since the OP finds the certificate acceptable.","body":"Well, I guess all of it. What does <i>&quot;it is up to them to take the steps required to make their server usable&quot;</i> mean? What does a server operator have to do to make it usable? What are the steps you have in mind? Can you provide a list of them? But stepping back to 1,000 feet, how does that even relate to the problem the OP asked? He wants to know how to make the client accept the self-signed certificate in Java. That&#39;s a simple matter of conferring trust in the code since the OP finds the certificate acceptable."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1496565762,"post_id":2895603,"comment_id":75706538,"body_markdown":"@jww It means that if they want clients to accept their self-signed certificate it is up to them to provide it in a form which can be imported into client truststores, via a secure offline procedure. Nothing else is secure. All of which I have already stated in the answer.","body":"@jww It means that if they want clients to accept their self-signed certificate it is up to them to provide it in a form which can be imported into client truststores, via a secure offline procedure. Nothing else is secure. All of which I have already stated in the answer."},{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":2,"creation_date":1496566011,"post_id":2895603,"comment_id":75706582,"body_markdown":"@EJP - Correct me if I am wrong, but accepting a self-signed certificate is a client side policy decision. It has nothing to do with server side operations. The client must make the decision. The parities must work together to solve the key distribution problem, but that has nothing to do with making the server usable.","body":"@EJP - Correct me if I am wrong, but accepting a self-signed certificate is a client side policy decision. It has nothing to do with server side operations. The client must make the decision. The parities must work together to solve the key distribution problem, but that has nothing to do with making the server usable."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1496568885,"post_id":2895603,"comment_id":75707346,"body_markdown":"@jww It is a client-side policy decision that must be based *on the actual certificate*, which means the certifficate must be delivered to the client offline, for the client to identiify securely when it appears online. And that does not, cannot possibly, mean acquiring the certificate that is going to be used to authenticate the channel via which the presently unauthenticated channel is acquiring the certificate. This is nothing more than a contradiction in terms. Interpreting &#39;client-side decision&#39; as meaning &#39;trust all certificates&#39; is just playing at security.","body":"@jww It is a client-side policy decision that must be based <i>on the actual certificate</i>, which means the certifficate must be delivered to the client offline, for the client to identiify securely when it appears online. And that does not, cannot possibly, mean acquiring the certificate that is going to be used to authenticate the channel via which the presently unauthenticated channel is acquiring the certificate. This is nothing more than a contradiction in terms. Interpreting &#39;client-side decision&#39; as meaning &#39;trust all certificates&#39; is just playing at security."},{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":3,"creation_date":1496569820,"post_id":2895603,"comment_id":75707588,"body_markdown":"@EJP - I certainly did not say, *&quot;trust all certificates&quot;*. Perhaps I am missing something (or you are reading too much into things)... The OP has the certificate, and its acceptable to him. He wants to know how to trust it. I&#39;m probably splitting hairs, but the cert does not need to be delivered offline. An out-of-band verification should be used, but that&#39;s not the same as *&quot;must be delivered to the client offline&quot;*. He might even be the shop producing the server and the client, so he has the requisite *a priori* knowledge.","body":"@EJP - I certainly did not say, <i>&quot;trust all certificates&quot;</i>. Perhaps I am missing something (or you are reading too much into things)... The OP has the certificate, and its acceptable to him. He wants to know how to trust it. I&#39;m probably splitting hairs, but the cert does not need to be delivered offline. An out-of-band verification should be used, but that&#39;s not the same as <i>&quot;must be delivered to the client offline&quot;</i>. He might even be the shop producing the server and the client, so he has the requisite <i>a priori</i> knowledge."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1496570038,"post_id":2895603,"comment_id":75707635,"body_markdown":"@jww You will have to explain the diffference between &#39;out-of-band&#39; and &#39;offline&#39;. You will also have to explain the difference between &#39;a custom `TrustManager` and &#39;trust all certificates&#39;. If you&#39;re only going to trust *one*, or several, self-signed certicates, you don&#39;t need a custom `TrustManager`: you only need a custom truststore: and this solution is preferable, as it relies on configuration rather than custom code.","body":"@jww You will have to explain the diffference between &#39;out-of-band&#39; and &#39;offline&#39;. You will also have to explain the difference between &#39;a custom <code>TrustManager</code> and &#39;trust all certificates&#39;. If you&#39;re only going to trust <i>one</i>, or several, self-signed certicates, you don&#39;t need a custom <code>TrustManager</code>: you only need a custom truststore: and this solution is preferable, as it relies on configuration rather than custom code."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":16,"down_vote_count":21,"up_vote_count":22,"is_accepted":false,"score":1,"last_activity_date":1496569944,"creation_date":1274688481,"answer_id":2895603,"question_id":2893819,"body_markdown":"If &#39;they&#39; are using a self-signed certificate it is up to them to take the steps required to make their server usable. Specifically that means providing their certificate to you offline in a trustworthy way. So get them to do that. You then import that into your truststore using the keytool as described in the JSSE Reference Guide. Don&#39;t even think about the insecure TrustManager posted here.\r\n\r\n**EDIT** For the benefit of the *seventeen* (!) downvoters, and numerous commenters below, who clearly have not actually read what I have written here, this is ***not*** a jeremiad against self-signed certificates. There is nothing wrong with self-signed certificates *when implemented correctly.* **But,** the correct way to implement them is to have the certificate delivered *securely via an offline process,* rather than via the unauthenticated channel they are going to be used to authenticate. Surely this is obvious? It is certainly obvious to every security-aware organization I have ever worked for, from banks with thousands of branches to my own companies. The client-side code-base &#39;solution&#39; of trusting *all* certificates, including self-signed certificates signed by absolutely anybody, or any arbitary body setting itself up as a CA, is *ipso facto* not secure. It is just playing at security. It is pointless. You are having a private, tamperproof, reply-proof, injection-proof conversation with ... somebody. Anybody. A man in the middle. An impersonator. Anybody. You may as well just use plaintext.","title":"Accept server&#39;s self-signed ssl certificate in Java client","body":"<p>If 'they' are using a self-signed certificate it is up to them to take the steps required to make their server usable. Specifically that means providing their certificate to you offline in a trustworthy way. So get them to do that. You then import that into your truststore using the keytool as described in the JSSE Reference Guide. Don't even think about the insecure TrustManager posted here.</p>\n\n<p><strong>EDIT</strong> For the benefit of the <em>seventeen</em> (!) downvoters, and numerous commenters below, who clearly have not actually read what I have written here, this is <strong><em>not</em></strong> a jeremiad against self-signed certificates. There is nothing wrong with self-signed certificates <em>when implemented correctly.</em> <strong>But,</strong> the correct way to implement them is to have the certificate delivered <em>securely via an offline process,</em> rather than via the unauthenticated channel they are going to be used to authenticate. Surely this is obvious? It is certainly obvious to every security-aware organization I have ever worked for, from banks with thousands of branches to my own companies. The client-side code-base 'solution' of trusting <em>all</em> certificates, including self-signed certificates signed by absolutely anybody, or any arbitary body setting itself up as a CA, is <em>ipso facto</em> not secure. It is just playing at security. It is pointless. You are having a private, tamperproof, reply-proof, injection-proof conversation with ... somebody. Anybody. A man in the middle. An impersonator. Anybody. You may as well just use plaintext.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1466502646,"post_id":36707080,"comment_id":63330985,"body_markdown":"The question is about a self-signed certificate. This answer isn&#39;t.","body":"The question is about a self-signed certificate. This answer isn&#39;t."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":6,"creation_date":1466521567,"post_id":36707080,"comment_id":63344997,"body_markdown":"Read the question (and answer) a little closer.","body":"Read the question (and answer) a little closer."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1696346447,"post_id":36707080,"comment_id":136139465,"body_markdown":"Using `TrustSelfSignedStrategy` is most likely not necessary here; instead it makes your application vulnerable to man-in-the-middle attacks. The other parts of the code should suffice to make this work.","body":"Using <code>TrustSelfSignedStrategy</code> is most likely not necessary here; instead it makes your application vulnerable to man-in-the-middle attacks. The other parts of the code should suffice to make this work."}],"tags":[],"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"comment_count":3,"down_vote_count":3,"up_vote_count":14,"is_accepted":false,"score":11,"last_activity_date":1461207799,"creation_date":1461030320,"answer_id":36707080,"question_id":2893819,"body_markdown":"I chased down this problem to a certificate provider that is not part of the default JVM trusted hosts as of `JDK 8u74`. The provider is [www.identrust.com][1], but that was not the domain I was trying to connect to. That domain had gotten its certificate from this provider. See [Will the cross root cover trust by the default list in the JDK/JRE?][2] -- read down a couple entries. Also see [Which browsers and operating systems support Let‚Äôs Encrypt](https://community.letsencrypt.org/t/which-browsers-and-operating-systems-support-lets-encrypt/4394).\r\n\r\nSo, in order to connect to the domain I was interested in, which had a certificate issued from `identrust.com` I did the following steps. Basically, I had to get the identrust.com (`DST Root CA X3`) certificate to be trusted by the JVM. I was able to do that using Apache HttpComponents 4.5 like so:\r\n\r\n1: Obtain the certificate from indettrust at [Certificate Chain Download Instructions](https://www.identrust.com/certificates/trustid/install-nes36.html). Click on the [DST Root CA X3](https://www.identrust.com/certificates/trustid/root-download-x3.html) link.\r\n\r\n2: Save the string to a file named &quot;DST Root CA X3.pem&quot;. Be sure to add the lines &quot;-----BEGIN CERTIFICATE-----&quot; and &quot;-----END CERTIFICATE-----&quot; in the file at the beginning and the end.\r\n\r\n3: Create a java keystore file, cacerts.jks with the following command: \r\n\r\n    keytool -import -v -trustcacerts -alias IdenTrust -keypass yourpassword -file dst_root_ca_x3.pem -keystore cacerts.jks -storepass yourpassword\r\n\r\n4: Copy the resulting cacerts.jks keystore into the resources directory of your java/(maven) application.\r\n\r\n5: Use the following code to load this file and attach it to the Apache 4.5 HttpClient. This will solve the problem for all domains that have certificates issued from `indetrust.com` util oracle includes the certificate into the JRE default keystore.\r\n\r\n    SSLContext sslcontext = SSLContexts.custom()\r\n            .loadTrustMaterial(new File(CalRestClient.class.getResource(&quot;/cacerts.jks&quot;).getFile()), &quot;yourpasword&quot;.toCharArray(),\r\n                    new TrustSelfSignedStrategy())\r\n            .build();\r\n    // Allow TLSv1 protocol only\r\n    SSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(\r\n            sslcontext,\r\n            new String[] { &quot;TLSv1&quot; },\r\n            null,\r\n            SSLConnectionSocketFactory.getDefaultHostnameVerifier());\r\n    CloseableHttpClient httpclient = HttpClients.custom()\r\n            .setSSLSocketFactory(sslsf)\r\n            .build();\r\n\r\nWhen the project builds then the cacerts.jks will be copied into the classpath and loaded from there. I didn&#39;t, at this point in time, test against other ssl sites, but if the above code &quot;chains&quot; in this certificate then they will work too, but again, I don&#39;t know.\r\n\r\nReference: [Custom SSL context](https://hc.apache.org/httpcomponents-client-ga/httpclient/examples/org/apache/http/examples/client/ClientCustomSSL.java) and [How do I accept a self-signed certificate with a Java HttpsURLConnection?](https://stackoverflow.com/questions/859111/how-do-i-accept-a-self-signed-certificate-with-a-java-httpsurlconnection/859271#859271)\r\n\r\n  [1]: https://www.identrust.com\r\n  [2]: https://community.letsencrypt.org/t/will-the-cross-root-cover-trust-by-the-default-list-in-the-jdk-jre/134/24","title":"Accept server&#39;s self-signed ssl certificate in Java client","body":"<p>I chased down this problem to a certificate provider that is not part of the default JVM trusted hosts as of <code>JDK 8u74</code>. The provider is <a href=\"https://www.identrust.com\" rel=\"noreferrer\">www.identrust.com</a>, but that was not the domain I was trying to connect to. That domain had gotten its certificate from this provider. See <a href=\"https://community.letsencrypt.org/t/will-the-cross-root-cover-trust-by-the-default-list-in-the-jdk-jre/134/24\" rel=\"noreferrer\">Will the cross root cover trust by the default list in the JDK/JRE?</a> -- read down a couple entries. Also see <a href=\"https://community.letsencrypt.org/t/which-browsers-and-operating-systems-support-lets-encrypt/4394\" rel=\"noreferrer\">Which browsers and operating systems support Let‚Äôs Encrypt</a>.</p>\n\n<p>So, in order to connect to the domain I was interested in, which had a certificate issued from <code>identrust.com</code> I did the following steps. Basically, I had to get the identrust.com (<code>DST Root CA X3</code>) certificate to be trusted by the JVM. I was able to do that using Apache HttpComponents 4.5 like so:</p>\n\n<p>1: Obtain the certificate from indettrust at <a href=\"https://www.identrust.com/certificates/trustid/install-nes36.html\" rel=\"noreferrer\">Certificate Chain Download Instructions</a>. Click on the <a href=\"https://www.identrust.com/certificates/trustid/root-download-x3.html\" rel=\"noreferrer\">DST Root CA X3</a> link.</p>\n\n<p>2: Save the string to a file named \"DST Root CA X3.pem\". Be sure to add the lines \"-----BEGIN CERTIFICATE-----\" and \"-----END CERTIFICATE-----\" in the file at the beginning and the end.</p>\n\n<p>3: Create a java keystore file, cacerts.jks with the following command: </p>\n\n<pre><code>keytool -import -v -trustcacerts -alias IdenTrust -keypass yourpassword -file dst_root_ca_x3.pem -keystore cacerts.jks -storepass yourpassword\n</code></pre>\n\n<p>4: Copy the resulting cacerts.jks keystore into the resources directory of your java/(maven) application.</p>\n\n<p>5: Use the following code to load this file and attach it to the Apache 4.5 HttpClient. This will solve the problem for all domains that have certificates issued from <code>indetrust.com</code> util oracle includes the certificate into the JRE default keystore.</p>\n\n<pre><code>SSLContext sslcontext = SSLContexts.custom()\n        .loadTrustMaterial(new File(CalRestClient.class.getResource(\"/cacerts.jks\").getFile()), \"yourpasword\".toCharArray(),\n                new TrustSelfSignedStrategy())\n        .build();\n// Allow TLSv1 protocol only\nSSLConnectionSocketFactory sslsf = new SSLConnectionSocketFactory(\n        sslcontext,\n        new String[] { \"TLSv1\" },\n        null,\n        SSLConnectionSocketFactory.getDefaultHostnameVerifier());\nCloseableHttpClient httpclient = HttpClients.custom()\n        .setSSLSocketFactory(sslsf)\n        .build();\n</code></pre>\n\n<p>When the project builds then the cacerts.jks will be copied into the classpath and loaded from there. I didn't, at this point in time, test against other ssl sites, but if the above code \"chains\" in this certificate then they will work too, but again, I don't know.</p>\n\n<p>Reference: <a href=\"https://hc.apache.org/httpcomponents-client-ga/httpclient/examples/org/apache/http/examples/client/ClientCustomSSL.java\" rel=\"noreferrer\">Custom SSL context</a> and <a href=\"https://stackoverflow.com/questions/859111/how-do-i-accept-a-self-signed-certificate-with-a-java-httpsurlconnection/859271#859271\">How do I accept a self-signed certificate with a Java HttpsURLConnection?</a></p>\n"},{"comments":[{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":2,"creation_date":1496569313,"post_id":40545408,"comment_id":75707459,"body_markdown":"Your `checkServerTrusted` does not implement the necessary logic to actually trust the certificate ***and*** ensure non-trusted certificates are rejected. This might make some good reading: [The most dangerous code in the world: validating SSL certificates in non-browser software](https://crypto.stanford.edu/~dabo/pubs/abstracts/ssl-client-bugs.html).","body":"Your <code>checkServerTrusted</code> does not implement the necessary logic to actually trust the certificate <b><i>and</i></b> ensure non-trusted certificates are rejected. This might make some good reading: <a href=\"https://crypto.stanford.edu/~dabo/pubs/abstracts/ssl-client-bugs.html\" rel=\"nofollow noreferrer\">The most dangerous code in the world: validating SSL certificates in non-browser software</a>."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1496569648,"post_id":40545408,"comment_id":75707532,"body_markdown":"Your `getAcceptedIssuers()` method does not conform to the specifcation, and this &#39;solution&#39; remains radically insecure.","body":"Your <code>getAcceptedIssuers()</code> method does not conform to the specifcation, and this &#39;solution&#39; remains radically insecure."}],"tags":[],"owner":{"account_id":9625813,"reputation":83,"user_id":7145475,"display_name":"Jon Daniel"},"comment_count":2,"down_vote_count":4,"up_vote_count":9,"is_accepted":false,"score":5,"last_activity_date":1478858198,"creation_date":1478858198,"answer_id":40545408,"question_id":2893819,"body_markdown":"Rather than setting the default socket factory (which IMO is a bad thing) - yhis will just affect the current connection rather than every SSL connection you try to open:\r\n\r\n    URLConnection connection = url.openConnection();\r\n\t\t// JMD - this is a better way to do it that doesn&#39;t override the default SSL factory.\r\n        if (connection instanceof HttpsURLConnection)\r\n        {\r\n            HttpsURLConnection conHttps = (HttpsURLConnection) connection;\r\n            // Set up a Trust all manager\r\n            TrustManager[] trustAllCerts = new TrustManager[] { new X509TrustManager()\r\n            {\r\n\r\n                public java.security.cert.X509Certificate[] getAcceptedIssuers()\r\n                {\r\n                    return null;\r\n                }\r\n\r\n                public void checkClientTrusted(\r\n                    java.security.cert.X509Certificate[] certs, String authType)\r\n                {\r\n                }\r\n\r\n                public void checkServerTrusted(\r\n                    java.security.cert.X509Certificate[] certs, String authType)\r\n                {\r\n                }\r\n            } };\r\n            \r\n            // Get a new SSL context\r\n    \t\tSSLContext sc = SSLContext.getInstance(&quot;TLSv1.2&quot;);\r\n    \t\tsc.init(null, trustAllCerts, new java.security.SecureRandom());\r\n    \t\t// Set our connection to use this SSL context, with the &quot;Trust all&quot; manager in place.\r\n    \t\tconHttps.setSSLSocketFactory(sc.getSocketFactory());\r\n    \t\t// Also force it to trust all hosts\r\n    \t\tHostnameVerifier allHostsValid = new HostnameVerifier() {\r\n    \t\t\tpublic boolean verify(String hostname, SSLSession session) {\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\t// and set the hostname verifier.\r\n    \t\tconHttps.setHostnameVerifier(allHostsValid);\r\n        }\r\n    InputStream stream = connection.getInputStream();","title":"Accept server&#39;s self-signed ssl certificate in Java client","body":"<p>Rather than setting the default socket factory (which IMO is a bad thing) - yhis will just affect the current connection rather than every SSL connection you try to open:</p>\n\n<pre><code>URLConnection connection = url.openConnection();\n    // JMD - this is a better way to do it that doesn't override the default SSL factory.\n    if (connection instanceof HttpsURLConnection)\n    {\n        HttpsURLConnection conHttps = (HttpsURLConnection) connection;\n        // Set up a Trust all manager\n        TrustManager[] trustAllCerts = new TrustManager[] { new X509TrustManager()\n        {\n\n            public java.security.cert.X509Certificate[] getAcceptedIssuers()\n            {\n                return null;\n            }\n\n            public void checkClientTrusted(\n                java.security.cert.X509Certificate[] certs, String authType)\n            {\n            }\n\n            public void checkServerTrusted(\n                java.security.cert.X509Certificate[] certs, String authType)\n            {\n            }\n        } };\n\n        // Get a new SSL context\n        SSLContext sc = SSLContext.getInstance(\"TLSv1.2\");\n        sc.init(null, trustAllCerts, new java.security.SecureRandom());\n        // Set our connection to use this SSL context, with the \"Trust all\" manager in place.\n        conHttps.setSSLSocketFactory(sc.getSocketFactory());\n        // Also force it to trust all hosts\n        HostnameVerifier allHostsValid = new HostnameVerifier() {\n            public boolean verify(String hostname, SSLSession session) {\n                return true;\n            }\n        };\n        // and set the hostname verifier.\n        conHttps.setHostnameVerifier(allHostsValid);\n    }\nInputStream stream = connection.getInputStream();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":100045,"reputation":2725,"user_id":269876,"accept_rate":0,"display_name":"Lo-Tan"},"score":0,"creation_date":1531233829,"post_id":44905207,"comment_id":89514548,"body_markdown":"Not entirely sure of why you are being down voted, unless the code doesn&#39;t work. Perhaps it&#39;s the assumption that Android is somehow involved when the original question didn&#39;t tag Android.","body":"Not entirely sure of why you are being down voted, unless the code doesn&#39;t work. Perhaps it&#39;s the assumption that Android is somehow involved when the original question didn&#39;t tag Android."}],"tags":[],"owner":{"account_id":443528,"reputation":2328,"user_id":834799,"display_name":"Ashish Saini"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1499168926,"creation_date":1499168926,"answer_id":44905207,"question_id":2893819,"body_markdown":"Trust all SSL certificates:-\r\nYou can bypass SSL if you want to test on the testing server.\r\nBut do not use this code for production. \r\n\r\n    public static class NukeSSLCerts {\r\n    protected static final String TAG = &quot;NukeSSLCerts&quot;;\r\n\r\n    public static void nuke() {\r\n        try {\r\n            TrustManager[] trustAllCerts = new TrustManager[] { \r\n                new X509TrustManager() {\r\n                    public X509Certificate[] getAcceptedIssuers() {\r\n                        X509Certificate[] myTrustedAnchors = new X509Certificate[0];  \r\n                        return myTrustedAnchors;\r\n                    }\r\n\r\n                    @Override\r\n                    public void checkClientTrusted(X509Certificate[] certs, String authType) {}\r\n\r\n                    @Override\r\n                    public void checkServerTrusted(X509Certificate[] certs, String authType) {}\r\n                }\r\n            };\r\n\r\n            SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n            sc.init(null, trustAllCerts, new SecureRandom());\r\n            HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n            HttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier() {\r\n                @Override\r\n                public boolean verify(String arg0, SSLSession arg1) {\r\n                    return true;\r\n                }\r\n            });\r\n        } catch (Exception e) { \r\n        }\r\n    }\r\n} \r\n\r\n\r\nPlease call this function in onCreate() function in Activity or in your Application Class. \r\n\r\n    NukeSSLCerts.nuke();\r\n\r\nThis can be used for Volley in Android.\r\n\r\n\r\n\r\n\r\n","title":"Accept server&#39;s self-signed ssl certificate in Java client","body":"<p>Trust all SSL certificates:-\nYou can bypass SSL if you want to test on the testing server.\nBut do not use this code for production. </p>\n\n<pre><code>public static class NukeSSLCerts {\nprotected static final String TAG = \"NukeSSLCerts\";\n\npublic static void nuke() {\n    try {\n        TrustManager[] trustAllCerts = new TrustManager[] { \n            new X509TrustManager() {\n                public X509Certificate[] getAcceptedIssuers() {\n                    X509Certificate[] myTrustedAnchors = new X509Certificate[0];  \n                    return myTrustedAnchors;\n                }\n\n                @Override\n                public void checkClientTrusted(X509Certificate[] certs, String authType) {}\n\n                @Override\n                public void checkServerTrusted(X509Certificate[] certs, String authType) {}\n            }\n        };\n\n        SSLContext sc = SSLContext.getInstance(\"SSL\");\n        sc.init(null, trustAllCerts, new SecureRandom());\n        HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n        HttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier() {\n            @Override\n            public boolean verify(String arg0, SSLSession arg1) {\n                return true;\n            }\n        });\n    } catch (Exception e) { \n    }\n}\n</code></pre>\n\n<p>} </p>\n\n<p>Please call this function in onCreate() function in Activity or in your Application Class. </p>\n\n<pre><code>NukeSSLCerts.nuke();\n</code></pre>\n\n<p>This can be used for Volley in Android.</p>\n"},{"tags":[],"owner":{"account_id":3849388,"reputation":221,"user_id":3189913,"display_name":"spiffy"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1509731165,"creation_date":1509731165,"answer_id":47101688,"question_id":2893819,"body_markdown":"Apache HttpClient 4.5 supports accepting self-signed certificates:\r\n\r\n    SSLContext sslContext = SSLContexts.custom()\r\n        .loadTrustMaterial(new TrustSelfSignedStrategy())\r\n        .build();\r\n    SSLConnectionSocketFactory socketFactory =\r\n        new SSLConnectionSocketFactory(sslContext);\r\n    Registry&lt;ConnectionSocketFactory&gt; reg =\r\n        RegistryBuilder.&lt;ConnectionSocketFactory&gt;create()\r\n        .register(&quot;https&quot;, socketFactory)\r\n        .build();\r\n    HttpClientConnectionManager cm = new PoolingHttpClientConnectionManager(reg);        \r\n    CloseableHttpClient httpClient = HttpClients.custom()\r\n        .setConnectionManager(cm)\r\n        .build();\r\n    HttpGet httpGet = new HttpGet(url);\r\n    CloseableHttpResponse sslResponse = httpClient.execute(httpGet);\r\n\r\nThis builds an SSL socket factory which will use the `TrustSelfSignedStrategy`, registers it with a custom connection manager then does an HTTP GET using that connection manager.\r\n\r\nI agree with those who chant &quot;don&#39;t do this in production&quot;, however there are use-cases for accepting self-signed certificates outside production; we use them in automated integration tests, so that we&#39;re using SSL (like in production) even when not running on the production hardware.","title":"Accept server&#39;s self-signed ssl certificate in Java client","body":"<p>Apache HttpClient 4.5 supports accepting self-signed certificates:</p>\n\n<pre><code>SSLContext sslContext = SSLContexts.custom()\n    .loadTrustMaterial(new TrustSelfSignedStrategy())\n    .build();\nSSLConnectionSocketFactory socketFactory =\n    new SSLConnectionSocketFactory(sslContext);\nRegistry&lt;ConnectionSocketFactory&gt; reg =\n    RegistryBuilder.&lt;ConnectionSocketFactory&gt;create()\n    .register(\"https\", socketFactory)\n    .build();\nHttpClientConnectionManager cm = new PoolingHttpClientConnectionManager(reg);        \nCloseableHttpClient httpClient = HttpClients.custom()\n    .setConnectionManager(cm)\n    .build();\nHttpGet httpGet = new HttpGet(url);\nCloseableHttpResponse sslResponse = httpClient.execute(httpGet);\n</code></pre>\n\n<p>This builds an SSL socket factory which will use the <code>TrustSelfSignedStrategy</code>, registers it with a custom connection manager then does an HTTP GET using that connection manager.</p>\n\n<p>I agree with those who chant \"don't do this in production\", however there are use-cases for accepting self-signed certificates outside production; we use them in automated integration tests, so that we're using SSL (like in production) even when not running on the production hardware.</p>\n"},{"tags":[],"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560886308,"creation_date":1560886308,"answer_id":56655865,"question_id":2893819,"body_markdown":"The accepted answer is fine, but I&#39;d like to add something to this as I was using IntelliJ on Mac and couldn&#39;t get it to work using the `JAVA_HOME` path variable.\r\n\r\nIt turns out Java Home was different when running the application from IntelliJ.\r\n\r\nTo figure out exactly where it is, you can just do `System.getProperty(&quot;java.home&quot;)` as that&#39;s where the trusted certificates are read from.","title":"Accept server&#39;s self-signed ssl certificate in Java client","body":"<p>The accepted answer is fine, but I'd like to add something to this as I was using IntelliJ on Mac and couldn't get it to work using the <code>JAVA_HOME</code> path variable.</p>\n\n<p>It turns out Java Home was different when running the application from IntelliJ.</p>\n\n<p>To figure out exactly where it is, you can just do <code>System.getProperty(\"java.home\")</code> as that's where the trusted certificates are read from.</p>\n"},{"comments":[{"owner":{"account_id":5304235,"reputation":611,"user_id":4232765,"display_name":"Daniel"},"score":0,"creation_date":1596206183,"post_id":57046889,"comment_id":111746587,"body_markdown":"The [android documentation] (https://developer.android.com/training/articles/security-ssl#SelfSigned) basically gives your explanation. It just gives a bit more of an explanation, code and warnings.","body":"The [android documentation] (<a href=\"https://developer.android.com/training/articles/security-ssl#SelfSigned\" rel=\"nofollow noreferrer\">developer.android.com/training/articles/security-ssl#SelfSi&zwnj;&#8203;gned</a>) basically gives your explanation. It just gives a bit more of an explanation, code and warnings."},{"owner":{"account_id":2934677,"reputation":1448,"user_id":2513934,"display_name":"actunderdc"},"score":7,"creation_date":1597845129,"post_id":57046889,"comment_id":112266390,"body_markdown":"In my opinion this should be the accepted answer! The advantage of this method is that you do everything programatically and still maintain security and you do not alter the JRE&#39;s trust store. Option #2 from the accepted answer is completely wrong from security purposes. Thank you for providing this solution!","body":"In my opinion this should be the accepted answer! The advantage of this method is that you do everything programatically and still maintain security and you do not alter the JRE&#39;s trust store. Option #2 from the accepted answer is completely wrong from security purposes. Thank you for providing this solution!"},{"owner":{"account_id":1115062,"reputation":636,"user_id":1104612,"display_name":"Mikolasan"},"score":1,"creation_date":1618918479,"post_id":57046889,"comment_id":118743194,"body_markdown":"If someone is going to pack the certificate into jar file, then replace InputStream in the method `generateCertificate` to this: `this.class.getClassLoader().getResourceAsStream(&quot;server.crt&quot;)`","body":"If someone is going to pack the certificate into jar file, then replace InputStream in the method <code>generateCertificate</code> to this: <code>this.class.getClassLoader().getResourceAsStream(&quot;server.crt&quot;&zwnj;&#8203;)</code>"}],"tags":[],"owner":{"account_id":13697,"reputation":7703,"user_id":27658,"display_name":"Johannes Brodwall"},"comment_count":3,"down_vote_count":1,"up_vote_count":49,"is_accepted":false,"score":48,"last_activity_date":1619393490,"creation_date":1563223144,"answer_id":57046889,"question_id":2893819,"body_markdown":"There&#39;s a better alternative to trusting all certificates: Create a `TrustStore` that specifically trusts a given certificate and use this to create a `SSLContext` from which to get the `SSLSocketFactory` to set on the `HttpsURLConnection`. Here&#39;s the complete code:\r\n\r\n```java\r\nFile crtFile = new File(&quot;server.crt&quot;);\r\nCertificate certificate = CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate(new FileInputStream(crtFile));\r\n// Or if the crt-file is packaged into a jar file:\r\n// CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate(this.class.getClassLoader().getResourceAsStream(&quot;server.crt&quot;));\r\n\r\n\r\nKeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\nkeyStore.load(null, null);\r\nkeyStore.setCertificateEntry(&quot;server&quot;, certificate);\r\n\r\nTrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\ntrustManagerFactory.init(keyStore);\r\n\r\nSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\nsslContext.init(null, trustManagerFactory.getTrustManagers(), null);\r\n\r\nHttpsURLConnection connection = (HttpsURLConnection) new URL(url).openConnection();\r\nconnection.setSSLSocketFactory(sslContext.getSocketFactory());\r\n```\r\n\r\nYou can alternatively load the `KeyStore` directly from a file or retrieve the X.509 Certificate from any trusted source.\r\n\r\nNote that with this code, the certificates in `cacerts` will not be used. This particular `HttpsURLConnection` will only trust this specific certificate.","title":"Accept server&#39;s self-signed ssl certificate in Java client","body":"<p>There's a better alternative to trusting all certificates: Create a <code>TrustStore</code> that specifically trusts a given certificate and use this to create a <code>SSLContext</code> from which to get the <code>SSLSocketFactory</code> to set on the <code>HttpsURLConnection</code>. Here's the complete code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File crtFile = new File(&quot;server.crt&quot;);\nCertificate certificate = CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate(new FileInputStream(crtFile));\n// Or if the crt-file is packaged into a jar file:\n// CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate(this.class.getClassLoader().getResourceAsStream(&quot;server.crt&quot;));\n\n\nKeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\nkeyStore.load(null, null);\nkeyStore.setCertificateEntry(&quot;server&quot;, certificate);\n\nTrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\ntrustManagerFactory.init(keyStore);\n\nSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\nsslContext.init(null, trustManagerFactory.getTrustManagers(), null);\n\nHttpsURLConnection connection = (HttpsURLConnection) new URL(url).openConnection();\nconnection.setSSLSocketFactory(sslContext.getSocketFactory());\n</code></pre>\n<p>You can alternatively load the <code>KeyStore</code> directly from a file or retrieve the X.509 Certificate from any trusted source.</p>\n<p>Note that with this code, the certificates in <code>cacerts</code> will not be used. This particular <code>HttpsURLConnection</code> will only trust this specific certificate.</p>\n"},{"tags":[],"owner":{"account_id":265703,"reputation":369,"user_id":6500636,"display_name":"VSK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572536844,"creation_date":1572535001,"answer_id":58646462,"question_id":2893819,"body_markdown":"This is not a solution to the complete problem but oracle has good detailed documentation on how to use this keytool. This explains how to \r\n\r\n 1. use keytool. \r\n 2. generate certs/self signed certs using keytool.\r\n 3. import generated certs to java clients.\r\n\r\nhttps://docs.oracle.com/cd/E54932_01/doc.705/e54936/cssg_create_ssl_cert.htm#CSVSG178\r\n","title":"Accept server&#39;s self-signed ssl certificate in Java client","body":"<p>This is not a solution to the complete problem but oracle has good detailed documentation on how to use this keytool. This explains how to </p>\n\n<ol>\n<li>use keytool. </li>\n<li>generate certs/self signed certs using keytool.</li>\n<li>import generated certs to java clients.</li>\n</ol>\n\n<p><a href=\"https://docs.oracle.com/cd/E54932_01/doc.705/e54936/cssg_create_ssl_cert.htm#CSVSG178\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E54932_01/doc.705/e54936/cssg_create_ssl_cert.htm#CSVSG178</a></p>\n"},{"tags":[],"owner":{"account_id":3819407,"reputation":1,"user_id":13333470,"display_name":"user66660"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587065002,"creation_date":1587065002,"answer_id":61258416,"question_id":2893819,"body_markdown":"Instead of using keytool as suggested by the top comment, on RHEL you can use update-ca-trust starting in newer versions of RHEL 6. You&#39;ll need to have the cert in pem format. Then\r\n\r\n    trust anchor &lt;cert.pem&gt;\r\n\r\nEdit /etc/pki/ca-trust/source/cert.p11-kit and change &quot;certificate category: other-entry&quot; to &quot;certificate category: authority&quot;. (Or use sed to do this in a script.) Then do\r\n\r\n    update-ca-trust\r\n\r\nA couple caveats:\r\n\r\n - I couldn&#39;t find &quot;trust&quot; on my RHEL 6 server and yum didn&#39;t offer to install it. I ended up using it on an RHEL 7 server and copying the .p11-kit file over.\r\n - To make this work for you, you may need to do `update-ca-trust enable`. This will replace /etc/pki/java/cacerts with a symbolic link pointing to /etc/pki/ca-trust/extracted/java/cacerts. (So you might want to back up the former first.)\r\n - If your java client uses cacerts stored in some other location, you&#39;ll want to manually replace it with a symlink to /etc/pki/ca-trust/extracted/java/cacerts, or replace it with that file.","title":"Accept server&#39;s self-signed ssl certificate in Java client","body":"<p>Instead of using keytool as suggested by the top comment, on RHEL you can use update-ca-trust starting in newer versions of RHEL 6. You'll need to have the cert in pem format. Then</p>\n\n<pre><code>trust anchor &lt;cert.pem&gt;\n</code></pre>\n\n<p>Edit /etc/pki/ca-trust/source/cert.p11-kit and change \"certificate category: other-entry\" to \"certificate category: authority\". (Or use sed to do this in a script.) Then do</p>\n\n<pre><code>update-ca-trust\n</code></pre>\n\n<p>A couple caveats:</p>\n\n<ul>\n<li>I couldn't find \"trust\" on my RHEL 6 server and yum didn't offer to install it. I ended up using it on an RHEL 7 server and copying the .p11-kit file over.</li>\n<li>To make this work for you, you may need to do <code>update-ca-trust enable</code>. This will replace /etc/pki/java/cacerts with a symbolic link pointing to /etc/pki/ca-trust/extracted/java/cacerts. (So you might want to back up the former first.)</li>\n<li>If your java client uses cacerts stored in some other location, you'll want to manually replace it with a symlink to /etc/pki/ca-trust/extracted/java/cacerts, or replace it with that file.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":6549219,"reputation":326,"user_id":5064152,"display_name":"MMHossain"},"score":0,"creation_date":1636879893,"post_id":62470282,"comment_id":123671048,"body_markdown":"Thanks a lot. It worked for me, was struggling to find an HTTPS GET client for my self-signing Spring Boot HTTPS server.","body":"Thanks a lot. It worked for me, was struggling to find an HTTPS GET client for my self-signing Spring Boot HTTPS server."}],"tags":[],"owner":{"account_id":6911355,"reputation":71,"user_id":5307079,"display_name":"David Ryan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592578254,"creation_date":1592569577,"answer_id":62470282,"question_id":2893819,"body_markdown":"I had the issue that I was passing a URL into a library which was calling `url.openConnection();` I adapted jon-daniel&#39;s answer, \r\n\r\n```java\r\npublic class TrustHostUrlStreamHandler extends URLStreamHandler {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(TrustHostUrlStreamHandler.class);\r\n\r\n    @Override\r\n    protected URLConnection openConnection(final URL url) throws IOException {\r\n\r\n        final URLConnection urlConnection = new URL(url.getProtocol(), url.getHost(), url.getPort(), url.getFile()).openConnection();\r\n\r\n        // adapated from\r\n        // https://stackoverflow.com/questions/2893819/accept-servers-self-signed-ssl-certificate-in-java-client\r\n        if (urlConnection instanceof HttpsURLConnection) {\r\n            final HttpsURLConnection conHttps = (HttpsURLConnection) urlConnection;\r\n\r\n            try {\r\n                // Set up a Trust all manager\r\n                final TrustManager[] trustAllCerts = new TrustManager[] { new X509TrustManager() {\r\n\r\n                    @Override\r\n                    public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n                        return null;\r\n                    }\r\n\r\n                    @Override\r\n                    public void checkClientTrusted(final java.security.cert.X509Certificate[] certs, final String authType) {\r\n                    }\r\n\r\n                    @Override\r\n                    public void checkServerTrusted(final java.security.cert.X509Certificate[] certs, final String authType) {\r\n                    }\r\n                } };\r\n\r\n                // Get a new SSL context\r\n                final SSLContext sc = SSLContext.getInstance(&quot;TLSv1.2&quot;);\r\n                sc.init(null, trustAllCerts, new java.security.SecureRandom());\r\n                // Set our connection to use this SSL context, with the &quot;Trust all&quot; manager in place.\r\n                conHttps.setSSLSocketFactory(sc.getSocketFactory());\r\n                // Also force it to trust all hosts\r\n                final HostnameVerifier allHostsValid = new HostnameVerifier() {\r\n                    @Override\r\n                    public boolean verify(final String hostname, final SSLSession session) {\r\n                        return true;\r\n                    }\r\n                };\r\n\r\n                // and set the hostname verifier.\r\n                conHttps.setHostnameVerifier(allHostsValid);\r\n\r\n            } catch (final NoSuchAlgorithmException e) {\r\n                LOG.warn(&quot;Failed to override URLConnection.&quot;, e);\r\n            } catch (final KeyManagementException e) {\r\n                LOG.warn(&quot;Failed to override URLConnection.&quot;, e);\r\n            }\r\n\r\n        } else {\r\n            LOG.warn(&quot;Failed to override URLConnection. Incorrect type: {}&quot;, urlConnection.getClass().getName());\r\n        }\r\n\r\n        return urlConnection;\r\n    }\r\n\r\n}\r\n```\r\n\r\nUsing this class it is possible to create a new URL with:\r\n\r\n```java\r\ntrustedUrl = new URL(new URL(originalUrl), &quot;&quot;, new TrustHostUrlStreamHandler());\r\ntrustedUrl.openConnection();\r\n```\r\n\r\nThis has the advantage that it is localized and not replacing the default `URL.openConnection`.\r\n","title":"Accept server&#39;s self-signed ssl certificate in Java client","body":"<p>I had the issue that I was passing a URL into a library which was calling <code>url.openConnection();</code> I adapted jon-daniel's answer, </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class TrustHostUrlStreamHandler extends URLStreamHandler {\n\n    private static final Logger LOG = LoggerFactory.getLogger(TrustHostUrlStreamHandler.class);\n\n    @Override\n    protected URLConnection openConnection(final URL url) throws IOException {\n\n        final URLConnection urlConnection = new URL(url.getProtocol(), url.getHost(), url.getPort(), url.getFile()).openConnection();\n\n        // adapated from\n        // https://stackoverflow.com/questions/2893819/accept-servers-self-signed-ssl-certificate-in-java-client\n        if (urlConnection instanceof HttpsURLConnection) {\n            final HttpsURLConnection conHttps = (HttpsURLConnection) urlConnection;\n\n            try {\n                // Set up a Trust all manager\n                final TrustManager[] trustAllCerts = new TrustManager[] { new X509TrustManager() {\n\n                    @Override\n                    public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                        return null;\n                    }\n\n                    @Override\n                    public void checkClientTrusted(final java.security.cert.X509Certificate[] certs, final String authType) {\n                    }\n\n                    @Override\n                    public void checkServerTrusted(final java.security.cert.X509Certificate[] certs, final String authType) {\n                    }\n                } };\n\n                // Get a new SSL context\n                final SSLContext sc = SSLContext.getInstance(\"TLSv1.2\");\n                sc.init(null, trustAllCerts, new java.security.SecureRandom());\n                // Set our connection to use this SSL context, with the \"Trust all\" manager in place.\n                conHttps.setSSLSocketFactory(sc.getSocketFactory());\n                // Also force it to trust all hosts\n                final HostnameVerifier allHostsValid = new HostnameVerifier() {\n                    @Override\n                    public boolean verify(final String hostname, final SSLSession session) {\n                        return true;\n                    }\n                };\n\n                // and set the hostname verifier.\n                conHttps.setHostnameVerifier(allHostsValid);\n\n            } catch (final NoSuchAlgorithmException e) {\n                LOG.warn(\"Failed to override URLConnection.\", e);\n            } catch (final KeyManagementException e) {\n                LOG.warn(\"Failed to override URLConnection.\", e);\n            }\n\n        } else {\n            LOG.warn(\"Failed to override URLConnection. Incorrect type: {}\", urlConnection.getClass().getName());\n        }\n\n        return urlConnection;\n    }\n\n}\n</code></pre>\n\n<p>Using this class it is possible to create a new URL with:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>trustedUrl = new URL(new URL(originalUrl), \"\", new TrustHostUrlStreamHandler());\ntrustedUrl.openConnection();\n</code></pre>\n\n<p>This has the advantage that it is localized and not replacing the default <code>URL.openConnection</code>.</p>\n"},{"tags":[],"owner":{"account_id":1079210,"reputation":351,"user_id":1076662,"accept_rate":100,"display_name":"skanga"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595986040,"creation_date":1595986040,"answer_id":63145010,"question_id":2893819,"body_markdown":"The accepted answer needs an Option 3\r\n\r\nALSO\r\nOption 2 is **TERRIBLE**. It should NEVER be used (esp. in production) since it provides a FALSE sense of security. Just use HTTP instead of Option 2.\r\n\r\n**OPTION 3**\r\n\r\nUse the self-signed certificate to make the Https connection.\r\n\r\nHere is an example:\r\n\r\n```\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.SSLSocket;\r\nimport javax.net.ssl.SSLSocketFactory;\r\nimport javax.net.ssl.TrustManagerFactory;\r\nimport java.io.BufferedReader;\r\nimport java.io.BufferedWriter;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.OutputStreamWriter;\r\nimport java.io.PrintWriter;\r\nimport java.net.URL;\r\nimport java.security.KeyManagementException;\r\nimport java.security.KeyStoreException;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.cert.Certificate;\r\nimport java.security.cert.CertificateException;\r\nimport java.security.cert.CertificateFactory;\r\nimport java.security.KeyStore;\r\n\r\n/*\r\n * Use a SSLSocket to send a HTTP GET request and read the response from an HTTPS server.\r\n * It assumes that the client is not behind a proxy/firewall\r\n */\r\n\r\npublic class SSLSocketClientCert\r\n{\r\n    private static final String[] useProtocols = new String[] {&quot;TLSv1.2&quot;};\r\n    public static void main(String[] args) throws Exception\r\n    {\r\n        URL inputUrl = null;\r\n        String certFile = null;\r\n        if(args.length &lt; 1)\r\n        {\r\n            System.out.println(&quot;Usage: &quot; + SSLSocketClient.class.getName() + &quot; &lt;url&gt;&quot;);\r\n            System.exit(1);\r\n        }\r\n        if(args.length == 1)\r\n        {\r\n            inputUrl = new URL(args[0]);\r\n        }\r\n        else\r\n        {\r\n            inputUrl = new URL(args[0]);\r\n            certFile = args[1];\r\n        }\r\n        SSLSocket sslSocket = null;\r\n        PrintWriter outWriter = null;\r\n        BufferedReader inReader = null;\r\n        try\r\n        {\r\n            SSLSocketFactory sslSocketFactory = getSSLSocketFactory(certFile);\r\n\r\n            sslSocket = (SSLSocket) sslSocketFactory.createSocket(inputUrl.getHost(), inputUrl.getPort() == -1 ? inputUrl.getDefaultPort() : inputUrl.getPort());\r\n            String[] enabledProtocols = sslSocket.getEnabledProtocols();\r\n            System.out.println(&quot;Enabled Protocols: &quot;);\r\n            for(String enabledProtocol : enabledProtocols) System.out.println(&quot;\\t&quot; + enabledProtocol);\r\n\r\n            String[] supportedProtocols = sslSocket.getSupportedProtocols();\r\n            System.out.println(&quot;Supported Protocols: &quot;);\r\n            for(String supportedProtocol : supportedProtocols) System.out.println(&quot;\\t&quot; + supportedProtocol + &quot;, &quot;);\r\n\r\n            sslSocket.setEnabledProtocols(useProtocols);\r\n\r\n            /*\r\n             * Before any data transmission, the SSL socket needs to do an SSL handshake.\r\n             * We manually initiate the handshake so that we can see/catch any SSLExceptions.\r\n             * The handshake would automatically  be initiated by writing &amp; flushing data but\r\n             * then the PrintWriter would catch all IOExceptions (including SSLExceptions),\r\n             * set an internal error flag, and then return without rethrowing the exception.\r\n             *\r\n             * This means any error messages are lost, which causes problems here because\r\n             * the only way to tell there was an error is to call PrintWriter.checkError().\r\n             */\r\n            sslSocket.startHandshake();\r\n            outWriter = sendRequest(sslSocket, inputUrl);\r\n            readResponse(sslSocket);\r\n            closeAll(sslSocket, outWriter, inReader);\r\n        }\r\n        catch(Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n        finally\r\n        {\r\n            closeAll(sslSocket, outWriter, inReader);\r\n        }\r\n    }\r\n\r\n    private static PrintWriter sendRequest(SSLSocket sslSocket, URL inputUrl) throws IOException\r\n    {\r\n        PrintWriter outWriter = new PrintWriter(new BufferedWriter(new OutputStreamWriter(sslSocket.getOutputStream())));\r\n        outWriter.println(&quot;GET &quot; + inputUrl.getPath() + &quot; HTTP/1.1&quot;);\r\n        outWriter.println(&quot;Host: &quot; + inputUrl.getHost());\r\n        outWriter.println(&quot;Connection: Close&quot;);\r\n        outWriter.println();\r\n        outWriter.flush();\r\n        if(outWriter.checkError())        // Check for any PrintWriter errors\r\n            System.out.println(&quot;SSLSocketClient: PrintWriter error&quot;);\r\n        return outWriter;\r\n    }\r\n\r\n    private static void readResponse(SSLSocket sslSocket) throws IOException\r\n    {\r\n        BufferedReader inReader = new BufferedReader(new InputStreamReader(sslSocket.getInputStream()));\r\n        String inputLine;\r\n        while((inputLine = inReader.readLine()) != null)\r\n            System.out.println(inputLine);\r\n    }\r\n\r\n    // Terminate all streams\r\n    private static void closeAll(SSLSocket sslSocket, PrintWriter outWriter, BufferedReader inReader) throws IOException\r\n    {\r\n        if(sslSocket != null) sslSocket.close();\r\n        if(outWriter != null) outWriter.close();\r\n        if(inReader != null) inReader.close();\r\n    }\r\n\r\n    // Create an SSLSocketFactory based on the certificate if it is available, otherwise use the JVM default certs\r\n    public static SSLSocketFactory getSSLSocketFactory(String certFile)\r\n        throws CertificateException, KeyStoreException, IOException, NoSuchAlgorithmException, KeyManagementException\r\n    {\r\n        if (certFile == null) return (SSLSocketFactory) SSLSocketFactory.getDefault();\r\n        Certificate certificate = CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate(new FileInputStream(new File(certFile)));\r\n\r\n        KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n        keyStore.load(null, null);\r\n        keyStore.setCertificateEntry(&quot;server&quot;, certificate);\r\n\r\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n        trustManagerFactory.init(keyStore);\r\n\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n        sslContext.init(null, trustManagerFactory.getTrustManagers(), null);\r\n\r\n        return sslContext.getSocketFactory();\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"Accept server&#39;s self-signed ssl certificate in Java client","body":"<p>The accepted answer needs an Option 3</p>\n<p>ALSO\nOption 2 is <strong>TERRIBLE</strong>. It should NEVER be used (esp. in production) since it provides a FALSE sense of security. Just use HTTP instead of Option 2.</p>\n<p><strong>OPTION 3</strong></p>\n<p>Use the self-signed certificate to make the Https connection.</p>\n<p>Here is an example:</p>\n<pre><code>import javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLSocket;\nimport javax.net.ssl.SSLSocketFactory;\nimport javax.net.ssl.TrustManagerFactory;\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.io.PrintWriter;\nimport java.net.URL;\nimport java.security.KeyManagementException;\nimport java.security.KeyStoreException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.cert.Certificate;\nimport java.security.cert.CertificateException;\nimport java.security.cert.CertificateFactory;\nimport java.security.KeyStore;\n\n/*\n * Use a SSLSocket to send a HTTP GET request and read the response from an HTTPS server.\n * It assumes that the client is not behind a proxy/firewall\n */\n\npublic class SSLSocketClientCert\n{\n    private static final String[] useProtocols = new String[] {&quot;TLSv1.2&quot;};\n    public static void main(String[] args) throws Exception\n    {\n        URL inputUrl = null;\n        String certFile = null;\n        if(args.length &lt; 1)\n        {\n            System.out.println(&quot;Usage: &quot; + SSLSocketClient.class.getName() + &quot; &lt;url&gt;&quot;);\n            System.exit(1);\n        }\n        if(args.length == 1)\n        {\n            inputUrl = new URL(args[0]);\n        }\n        else\n        {\n            inputUrl = new URL(args[0]);\n            certFile = args[1];\n        }\n        SSLSocket sslSocket = null;\n        PrintWriter outWriter = null;\n        BufferedReader inReader = null;\n        try\n        {\n            SSLSocketFactory sslSocketFactory = getSSLSocketFactory(certFile);\n\n            sslSocket = (SSLSocket) sslSocketFactory.createSocket(inputUrl.getHost(), inputUrl.getPort() == -1 ? inputUrl.getDefaultPort() : inputUrl.getPort());\n            String[] enabledProtocols = sslSocket.getEnabledProtocols();\n            System.out.println(&quot;Enabled Protocols: &quot;);\n            for(String enabledProtocol : enabledProtocols) System.out.println(&quot;\\t&quot; + enabledProtocol);\n\n            String[] supportedProtocols = sslSocket.getSupportedProtocols();\n            System.out.println(&quot;Supported Protocols: &quot;);\n            for(String supportedProtocol : supportedProtocols) System.out.println(&quot;\\t&quot; + supportedProtocol + &quot;, &quot;);\n\n            sslSocket.setEnabledProtocols(useProtocols);\n\n            /*\n             * Before any data transmission, the SSL socket needs to do an SSL handshake.\n             * We manually initiate the handshake so that we can see/catch any SSLExceptions.\n             * The handshake would automatically  be initiated by writing &amp; flushing data but\n             * then the PrintWriter would catch all IOExceptions (including SSLExceptions),\n             * set an internal error flag, and then return without rethrowing the exception.\n             *\n             * This means any error messages are lost, which causes problems here because\n             * the only way to tell there was an error is to call PrintWriter.checkError().\n             */\n            sslSocket.startHandshake();\n            outWriter = sendRequest(sslSocket, inputUrl);\n            readResponse(sslSocket);\n            closeAll(sslSocket, outWriter, inReader);\n        }\n        catch(Exception e)\n        {\n            e.printStackTrace();\n        }\n        finally\n        {\n            closeAll(sslSocket, outWriter, inReader);\n        }\n    }\n\n    private static PrintWriter sendRequest(SSLSocket sslSocket, URL inputUrl) throws IOException\n    {\n        PrintWriter outWriter = new PrintWriter(new BufferedWriter(new OutputStreamWriter(sslSocket.getOutputStream())));\n        outWriter.println(&quot;GET &quot; + inputUrl.getPath() + &quot; HTTP/1.1&quot;);\n        outWriter.println(&quot;Host: &quot; + inputUrl.getHost());\n        outWriter.println(&quot;Connection: Close&quot;);\n        outWriter.println();\n        outWriter.flush();\n        if(outWriter.checkError())        // Check for any PrintWriter errors\n            System.out.println(&quot;SSLSocketClient: PrintWriter error&quot;);\n        return outWriter;\n    }\n\n    private static void readResponse(SSLSocket sslSocket) throws IOException\n    {\n        BufferedReader inReader = new BufferedReader(new InputStreamReader(sslSocket.getInputStream()));\n        String inputLine;\n        while((inputLine = inReader.readLine()) != null)\n            System.out.println(inputLine);\n    }\n\n    // Terminate all streams\n    private static void closeAll(SSLSocket sslSocket, PrintWriter outWriter, BufferedReader inReader) throws IOException\n    {\n        if(sslSocket != null) sslSocket.close();\n        if(outWriter != null) outWriter.close();\n        if(inReader != null) inReader.close();\n    }\n\n    // Create an SSLSocketFactory based on the certificate if it is available, otherwise use the JVM default certs\n    public static SSLSocketFactory getSSLSocketFactory(String certFile)\n        throws CertificateException, KeyStoreException, IOException, NoSuchAlgorithmException, KeyManagementException\n    {\n        if (certFile == null) return (SSLSocketFactory) SSLSocketFactory.getDefault();\n        Certificate certificate = CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate(new FileInputStream(new File(certFile)));\n\n        KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\n        keyStore.load(null, null);\n        keyStore.setCertificateEntry(&quot;server&quot;, certificate);\n\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        trustManagerFactory.init(keyStore);\n\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(null, trustManagerFactory.getTrustManagers(), null);\n\n        return sslContext.getSocketFactory();\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3769642,"reputation":2409,"user_id":3132194,"display_name":"user3132194"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1619092241,"creation_date":1619092241,"answer_id":67212712,"question_id":2893819,"body_markdown":"Download your self-signed certificate with your browser from target page and add it to **default storage with default password**:\r\n\r\n    keytool -import -v -trustcacerts -file selfsigned.crt -alias myserver -keystore /etc/alternatives/jre/lib/security/cacerts -storepass changeit\r\n\r\nUse file `$JAVA_HOME/jre/lib/security/cacerts` , my example here is from Oracle linux 7.7 .","title":"Accept server&#39;s self-signed ssl certificate in Java client","body":"<p>Download your self-signed certificate with your browser from target page and add it to <strong>default storage with default password</strong>:</p>\n<pre><code>keytool -import -v -trustcacerts -file selfsigned.crt -alias myserver -keystore /etc/alternatives/jre/lib/security/cacerts -storepass changeit\n</code></pre>\n<p>Use file <code>$JAVA_HOME/jre/lib/security/cacerts</code> , my example here is from Oracle linux 7.7 .</p>\n"},{"tags":[],"owner":{"account_id":3119060,"reputation":717,"user_id":2639219,"accept_rate":86,"display_name":"IL_Agent"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642243587,"creation_date":1642243587,"answer_id":70720718,"question_id":2893819,"body_markdown":"The variant in Kotlin\r\n\r\n        @SuppressLint(&quot;CustomX509TrustManager&quot;, &quot;TrustAllX509TrustManager&quot;)\r\n        fun ignoreSsl() {\r\n            val trustAllCerts: Array&lt;TrustManager&gt; = arrayOf(\r\n                object : X509TrustManager {\r\n                    override fun getAcceptedIssuers(): Array&lt;X509Certificate&gt;? = null\r\n                    override fun checkClientTrusted(certs: Array&lt;X509Certificate?&gt;?, authType: String?) {}\r\n                    override fun checkServerTrusted(certs: Array&lt;X509Certificate?&gt;?, authType: String?) {}\r\n                })\r\n            val sc = SSLContext.getInstance(&quot;SSL&quot;)\r\n            sc.init(null, trustAllCerts, SecureRandom())\r\n            HttpsURLConnection.setDefaultSSLSocketFactory(sc.socketFactory)\r\n        }","title":"Accept server&#39;s self-signed ssl certificate in Java client","body":"<p>The variant in Kotlin</p>\n<pre><code>    @SuppressLint(&quot;CustomX509TrustManager&quot;, &quot;TrustAllX509TrustManager&quot;)\n    fun ignoreSsl() {\n        val trustAllCerts: Array&lt;TrustManager&gt; = arrayOf(\n            object : X509TrustManager {\n                override fun getAcceptedIssuers(): Array&lt;X509Certificate&gt;? = null\n                override fun checkClientTrusted(certs: Array&lt;X509Certificate?&gt;?, authType: String?) {}\n                override fun checkServerTrusted(certs: Array&lt;X509Certificate?&gt;?, authType: String?) {}\n            })\n        val sc = SSLContext.getInstance(&quot;SSL&quot;)\n        sc.init(null, trustAllCerts, SecureRandom())\n        HttpsURLConnection.setDefaultSSLSocketFactory(sc.socketFactory)\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11892903,"reputation":1,"user_id":8703189,"display_name":"comsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648632658,"creation_date":1648632658,"answer_id":71674773,"question_id":2893819,"body_markdown":"Late to the party, you can do so by disabling it at the RestTemplate level.\r\nNote that this **TrustStrategy** will trust all certificates, and you disable hostname verification with **NoopHostnameVerifier()**. \r\n\r\n    public RestTemplate getRestTemplate() throws KeyStoreException, NoSuchAlgorithmException, KeyManagementException {\r\n        TrustStrategy acceptingTrustStrategy = (x509Certificates, s) -&gt; true;\r\n        SSLContext sslContext = org.apache.http.ssl.SSLContexts.custom().loadTrustMaterial(null, acceptingTrustStrategy).build();\r\n        SSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext, new NoopHostnameVerifier());\r\n        CloseableHttpClient httpClient = HttpClients.custom().setSSLSocketFactory(csf).build();\r\n        HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\r\n        requestFactory.setHttpClient(httpClient);\r\n        return new RestTemplate(requestFactory);\r\n    }       ","title":"Accept server&#39;s self-signed ssl certificate in Java client","body":"<p>Late to the party, you can do so by disabling it at the RestTemplate level.\nNote that this <strong>TrustStrategy</strong> will trust all certificates, and you disable hostname verification with <strong>NoopHostnameVerifier()</strong>.</p>\n<pre><code>public RestTemplate getRestTemplate() throws KeyStoreException, NoSuchAlgorithmException, KeyManagementException {\n    TrustStrategy acceptingTrustStrategy = (x509Certificates, s) -&gt; true;\n    SSLContext sslContext = org.apache.http.ssl.SSLContexts.custom().loadTrustMaterial(null, acceptingTrustStrategy).build();\n    SSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext, new NoopHostnameVerifier());\n    CloseableHttpClient httpClient = HttpClients.custom().setSSLSocketFactory(csf).build();\n    HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\n    requestFactory.setHttpClient(httpClient);\n    return new RestTemplate(requestFactory);\n}       \n</code></pre>\n"},{"tags":[],"owner":{"account_id":18897364,"reputation":1,"user_id":13786207,"display_name":"yuansu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649930644,"creation_date":1649930644,"answer_id":71869831,"question_id":2893819,"body_markdown":"Inspired by below annser, I find a way to trust self-signed and keep trust default CA.\r\n\r\n        File file = new File(System.getProperty(&quot;java.home&quot;), &quot;lib/security/cacerts&quot;);\r\n        KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n        keyStore.load(new FileInputStream(file), &quot;changeit&quot;.toCharArray());\r\n\r\n\r\n        InputStream resourceAsStream = getClass().getClassLoader().getResourceAsStream(&quot;testCer.cer&quot;);\r\n        Certificate certificate = CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate(resourceAsStream);\r\n        keyStore.setCertificateEntry(&quot;my-server-alias&quot;, certificate);\r\n\r\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n        trustManagerFactory.init(keyStore);\r\n\r\n        SSLContext sslContext = SSLContexts.createDefault();\r\n        sslContext.init(null, trustManagerFactory.getTrustManagers(), null);\r\n\r\n\r\n        // check domain\r\n        // SSLConnectionSocketFactory socketFactory = new SSLConnectionSocketFactory(sslContext);\r\n\r\n        // not check domain\r\n        SSLConnectionSocketFactory socketFactory = new SSLConnectionSocketFactory(sslContext,\r\n                new String[]{&quot;TLSv1&quot;,&quot;TLSv1.1&quot;,&quot;TLSv1.2&quot;,&quot;SSLv3&quot;},null, NoopHostnameVerifier.INSTANCE);\r\n\r\n        CloseableHttpClient httpClient = HttpClients.custom().setSSLSocketFactory(socketFactory).build();\r\n        factory.setHttpClient(httpClient);\r\n        RestTemplate restTemplate = new RestTemplate(factory);","title":"Accept server&#39;s self-signed ssl certificate in Java client","body":"<p>Inspired by below annser, I find a way to trust self-signed and keep trust default CA.</p>\n<pre><code>    File file = new File(System.getProperty(&quot;java.home&quot;), &quot;lib/security/cacerts&quot;);\n    KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\n    keyStore.load(new FileInputStream(file), &quot;changeit&quot;.toCharArray());\n\n\n    InputStream resourceAsStream = getClass().getClassLoader().getResourceAsStream(&quot;testCer.cer&quot;);\n    Certificate certificate = CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate(resourceAsStream);\n    keyStore.setCertificateEntry(&quot;my-server-alias&quot;, certificate);\n\n    TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n    trustManagerFactory.init(keyStore);\n\n    SSLContext sslContext = SSLContexts.createDefault();\n    sslContext.init(null, trustManagerFactory.getTrustManagers(), null);\n\n\n    // check domain\n    // SSLConnectionSocketFactory socketFactory = new SSLConnectionSocketFactory(sslContext);\n\n    // not check domain\n    SSLConnectionSocketFactory socketFactory = new SSLConnectionSocketFactory(sslContext,\n            new String[]{&quot;TLSv1&quot;,&quot;TLSv1.1&quot;,&quot;TLSv1.2&quot;,&quot;SSLv3&quot;},null, NoopHostnameVerifier.INSTANCE);\n\n    CloseableHttpClient httpClient = HttpClients.custom().setSSLSocketFactory(socketFactory).build();\n    factory.setHttpClient(httpClient);\n    RestTemplate restTemplate = new RestTemplate(factory);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"score":0,"creation_date":1701961127,"post_id":72693298,"comment_id":136841665,"body_markdown":"Only answer that shows how to retrieve the server&#39;s certificate easily.","body":"Only answer that shows how to retrieve the server&#39;s certificate easily."}],"tags":[],"owner":{"account_id":5768013,"reputation":105,"user_id":5649640,"display_name":"devOp_in_hiding"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655761524,"creation_date":1655761524,"answer_id":72693298,"question_id":2893819,"body_markdown":"This is the first ancient question with far too many answers where I think I can provide a more helpful idea: This option is what I would use if the server owner refuses to provide their certificate to me offline in a trustworthy way:\r\n\r\n 1. Retrieve the cert from the server itself (using command line tools instead of the browser)\r\n 2. Add that cert to the java keystore to trust it. You will be displayed with the certificate&#39;s details to verify it.\r\n\r\n```\r\n# HOSTNAME_PORT is the host that you want to connect to - example: HOSTNAME_PORT=stackoverflow.com:443\r\nHOSTNAME_PORT=hostname_part_of_url_without_https:port\r\n\r\n# whatever you want to call the key within the Java key store\r\nMY_KEY_ALIAS=the_key_I_added_with_help_from_stackoverflow\r\n\r\nopenssl s_client -showcerts -connect $HOSTNAME_PORT &lt;/dev/null 2&gt;/dev/null|openssl x509 -outform PEM &gt;mycertfile.pem\r\nsudo keytool -trustcacerts -keystore $JAVA_HOME/jre/lib/security/cacerts/pki/java/cacerts -storepass changeit -importcert -alias $MY_KEY_ALIAS -file mycertfile.pem \r\n\r\n```\r\n\r\nType in yes when prompted, but only if you **really** trust the certificate displayed to you and want to add it to the global java keystore of your computer.\r\n\r\nFYI:```$JAVA_HOME/jre/lib/security/cacerts```\r\nis in my case (CentOS 7) pointing at: \r\n```/etc/pki/java/cacerts```","title":"Accept server&#39;s self-signed ssl certificate in Java client","body":"<p>This is the first ancient question with far too many answers where I think I can provide a more helpful idea: This option is what I would use if the server owner refuses to provide their certificate to me offline in a trustworthy way:</p>\n<ol>\n<li>Retrieve the cert from the server itself (using command line tools instead of the browser)</li>\n<li>Add that cert to the java keystore to trust it. You will be displayed with the certificate's details to verify it.</li>\n</ol>\n<pre><code># HOSTNAME_PORT is the host that you want to connect to - example: HOSTNAME_PORT=stackoverflow.com:443\nHOSTNAME_PORT=hostname_part_of_url_without_https:port\n\n# whatever you want to call the key within the Java key store\nMY_KEY_ALIAS=the_key_I_added_with_help_from_stackoverflow\n\nopenssl s_client -showcerts -connect $HOSTNAME_PORT &lt;/dev/null 2&gt;/dev/null|openssl x509 -outform PEM &gt;mycertfile.pem\nsudo keytool -trustcacerts -keystore $JAVA_HOME/jre/lib/security/cacerts/pki/java/cacerts -storepass changeit -importcert -alias $MY_KEY_ALIAS -file mycertfile.pem \n\n</code></pre>\n<p>Type in yes when prompted, but only if you <strong>really</strong> trust the certificate displayed to you and want to add it to the global java keystore of your computer.</p>\n<p>FYI:<code>$JAVA_HOME/jre/lib/security/cacerts</code>\nis in my case (CentOS 7) pointing at:\n<code>/etc/pki/java/cacerts</code></p>\n"},{"tags":[],"owner":{"account_id":977312,"reputation":178,"user_id":2552903,"display_name":"tolache"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664553664,"creation_date":1664553664,"answer_id":73911317,"question_id":2893819,"body_markdown":"I was running into this issue because the maven repo where the dependencies are coming from is my local server with a self-signed certificate and a self-signed CA cert. To resolve the error, I had to run these two commands:\r\n\r\n```\r\n&lt;my_java_install_dir&gt;\\bin\\keytool.exe -importcert -file &lt;my-self-signed-CA-cert&gt;.crt -keystore &lt;my_java_install_dir&gt;\\lib\\security\\cacerts -alias my-CA-cert\r\n```\r\nand then\r\n\r\n```\r\n&lt;my_java_install_dir&gt;\\jdk11.0.14_10\\bin\\keytool.exe -importcert -file &lt;my-self-signed-maven-repo-cert&gt;.crt -keystore &lt;my_java_install_dir&gt;\\lib\\security\\cacerts -alias my-maven-repo-cert\r\n```","title":"Accept server&#39;s self-signed ssl certificate in Java client","body":"<p>I was running into this issue because the maven repo where the dependencies are coming from is my local server with a self-signed certificate and a self-signed CA cert. To resolve the error, I had to run these two commands:</p>\n<pre><code>&lt;my_java_install_dir&gt;\\bin\\keytool.exe -importcert -file &lt;my-self-signed-CA-cert&gt;.crt -keystore &lt;my_java_install_dir&gt;\\lib\\security\\cacerts -alias my-CA-cert\n</code></pre>\n<p>and then</p>\n<pre><code>&lt;my_java_install_dir&gt;\\jdk11.0.14_10\\bin\\keytool.exe -importcert -file &lt;my-self-signed-maven-repo-cert&gt;.crt -keystore &lt;my_java_install_dir&gt;\\lib\\security\\cacerts -alias my-maven-repo-cert\n</code></pre>\n"}],"owner":{"account_id":130930,"reputation":67596,"user_id":330565,"accept_rate":79,"display_name":"Nikita Rybak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":469634,"favorite_count":0,"down_vote_count":1,"up_vote_count":268,"accepted_answer_id":2893932,"answer_count":18,"score":267,"last_activity_date":1664553664,"creation_date":1274654911,"question_id":2893819,"body_markdown":"It looks like a standard question, but I couldn&#39;t find clear directions anywhere.\r\n\r\nI have java code trying to connect to a server with probably self-signed (or expired) certificate. The code reports the following error :\r\n\r\n    [HttpMethodDirector] I/O exception (javax.net.ssl.SSLHandshakeException) caught \r\n    when processing request: sun.security.validator.ValidatorException: PKIX path \r\n    building failed: sun.security.provider.certpath.SunCertPathBuilderException: \r\n    unable to find valid certification path to requested target\r\n\r\nAs I understand it, I have to use [keytool][1] and tell java that it&#39;s OK to allow this connection. \r\n\r\nAll instructions to fix this problem assume I&#39;m fully proficient with keytool, such as \r\n\r\n&gt; generate private key for server and import it into keystore\r\n\r\nIs there anybody who could post detailed instructions?  \r\n\r\nI&#39;m running unix, so bash script would be best.\r\n\r\nNot sure if it&#39;s important, but code executed in jboss.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/technotes/tools/solaris/keytool.html","title":"Accept server&#39;s self-signed ssl certificate in Java client","body":"<p>It looks like a standard question, but I couldn't find clear directions anywhere.</p>\n\n<p>I have java code trying to connect to a server with probably self-signed (or expired) certificate. The code reports the following error :</p>\n\n<pre><code>[HttpMethodDirector] I/O exception (javax.net.ssl.SSLHandshakeException) caught \nwhen processing request: sun.security.validator.ValidatorException: PKIX path \nbuilding failed: sun.security.provider.certpath.SunCertPathBuilderException: \nunable to find valid certification path to requested target\n</code></pre>\n\n<p>As I understand it, I have to use <a href=\"http://docs.oracle.com/javase/6/docs/technotes/tools/solaris/keytool.html\" rel=\"noreferrer\">keytool</a> and tell java that it's OK to allow this connection. </p>\n\n<p>All instructions to fix this problem assume I'm fully proficient with keytool, such as </p>\n\n<blockquote>\n  <p>generate private key for server and import it into keystore</p>\n</blockquote>\n\n<p>Is there anybody who could post detailed instructions?  </p>\n\n<p>I'm running unix, so bash script would be best.</p>\n\n<p>Not sure if it's important, but code executed in jboss.</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":5489289,"reputation":785,"user_id":4363141,"accept_rate":72,"display_name":"Dustin N."},"score":1,"creation_date":1467766936,"post_id":38214972,"comment_id":63853473,"body_markdown":"I do not believe the value will always be the same as the code will have to work on numerous environments and the setup will more than likely generate different values, so I will try the latter suggestion first thing in the morning. That looks like it is exactly what I need. Thank you for your help, sir.","body":"I do not believe the value will always be the same as the code will have to work on numerous environments and the setup will more than likely generate different values, so I will try the latter suggestion first thing in the morning. That looks like it is exactly what I need. Thank you for your help, sir."}],"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1467766603,"creation_date":1467766603,"answer_id":38214972,"question_id":38212644,"body_markdown":"Looking at your HTML, I&#39;m going to assume that the `value` of the desired `LI` is going to always be &quot;10929&quot; for your desired &quot;AppraisersGroupTest.&quot; With that info, you can use the code below.\r\n\r\n    String value = &quot;10929&quot;;\r\n    WebElement dropdown = driver.findElement(By.id(&quot;grdAvailableGroups&quot;));\r\n    dropdown.click(); // assuming you have to click the &quot;dropdown&quot; to open it\r\n    dropdown.findElement(By.cssSelector(&quot;li[value=&quot; + value + &quot;]&quot;)).click();\r\n\r\nIf it turns out that is not a good assumption, you can use the code below to search for the desired text and click the element.\r\n\r\n    String searchText = &quot;AppraisersGroupTest&quot;;\r\n    WebElement dropdown = driver.findElement(By.id(&quot;grdAvailableGroups&quot;));\r\n    dropdown.click(); // assuming you have to click the &quot;dropdown&quot; to open it\r\n    List&lt;WebElement&gt; options = dropdown.findElements(By.tagName(&quot;li&quot;));\r\n    for (WebElement option : options)\r\n    {\r\n        if (option.getText().equals(searchText))\r\n        {\r\n            option.click(); // click the desired option\r\n            break;\r\n        }\r\n    }","title":"Selenium - Select Item From List By The ul li Value Text","body":"<p>Looking at your HTML, I'm going to assume that the <code>value</code> of the desired <code>LI</code> is going to always be \"10929\" for your desired \"AppraisersGroupTest.\" With that info, you can use the code below.</p>\n\n<pre><code>String value = \"10929\";\nWebElement dropdown = driver.findElement(By.id(\"grdAvailableGroups\"));\ndropdown.click(); // assuming you have to click the \"dropdown\" to open it\ndropdown.findElement(By.cssSelector(\"li[value=\" + value + \"]\")).click();\n</code></pre>\n\n<p>If it turns out that is not a good assumption, you can use the code below to search for the desired text and click the element.</p>\n\n<pre><code>String searchText = \"AppraisersGroupTest\";\nWebElement dropdown = driver.findElement(By.id(\"grdAvailableGroups\"));\ndropdown.click(); // assuming you have to click the \"dropdown\" to open it\nList&lt;WebElement&gt; options = dropdown.findElements(By.tagName(\"li\"));\nfor (WebElement option : options)\n{\n    if (option.getText().equals(searchText))\n    {\n        option.click(); // click the desired option\n        break;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5489289,"reputation":785,"user_id":4363141,"accept_rate":72,"display_name":"Dustin N."},"score":0,"creation_date":1467809476,"post_id":38219108,"comment_id":63870818,"body_markdown":"I tried this and it does work perfectly fine. If I could mark 2 answers, I would because I like how little code is used here.","body":"I tried this and it does work perfectly fine. If I could mark 2 answers, I would because I like how little code is used here."},{"owner":{"account_id":3854050,"reputation":23587,"user_id":3193455,"accept_rate":94,"display_name":"Saurabh Gaur"},"score":0,"creation_date":1467810065,"post_id":38219108,"comment_id":63871207,"body_markdown":"@DustinN. it&#39;s all depends on you here only one answer could be acceptable per question but you should accept possible best answer..:)","body":"@DustinN. it&#39;s all depends on you here only one answer could be acceptable per question but you should accept possible best answer..:)"}],"tags":[],"owner":{"account_id":3854050,"reputation":23587,"user_id":3193455,"accept_rate":94,"display_name":"Saurabh Gaur"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1467792456,"creation_date":1467792456,"answer_id":38219108,"question_id":38212644,"body_markdown":"You can achieve this using one liner `xPath` as below :-\r\n\r\n    String text = &quot;AppraisersGroupTest&quot;;\r\n    WebElement el = driver.findElement(By.xpath(&quot;//div[@id = &#39;colLeft_OrderGroups&#39;]/descendant::li[text() = &#39;&quot; + text + &quot;&#39;]&quot;));\r\n    el.click();\r\n\r\nHope it will help you...:)\r\n\r\n","title":"Selenium - Select Item From List By The ul li Value Text","body":"<p>You can achieve this using one liner <code>xPath</code> as below :-</p>\n\n<pre><code>String text = \"AppraisersGroupTest\";\nWebElement el = driver.findElement(By.xpath(\"//div[@id = 'colLeft_OrderGroups']/descendant::li[text() = '\" + text + \"']\"));\nel.click();\n</code></pre>\n\n<p>Hope it will help you...:)</p>\n"},{"comments":[{"owner":{"account_id":26494101,"reputation":1,"user_id":20132124,"display_name":"Leon"},"score":0,"creation_date":1664553792,"post_id":73911303,"comment_id":130505873,"body_markdown":"It logins a website, selects a webpage tab that may otherwise be hard or seem impossible to select via traditional functions","body":"It logins a website, selects a webpage tab that may otherwise be hard or seem impossible to select via traditional functions"},{"owner":{"account_id":22039344,"reputation":1704,"user_id":16305340,"display_name":"abdo Salm"},"score":1,"creation_date":1664936901,"post_id":73911303,"comment_id":130581566,"body_markdown":"As it‚Äôs currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it‚Äôs currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/73911303/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26494101,"reputation":1,"user_id":20132124,"display_name":"Leon"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664553628,"creation_date":1664553628,"answer_id":73911303,"question_id":38212644,"body_markdown":"&#39;For anyone who may need it\r\n\r\n\r\nSub Memlogin()\r\n\r\n    &#39;Login Members Profile\r\n    Dim IE As New selenium.WebDriver\r\n    Set IE = New ChromeDriver\r\n    \r\n    With IE\r\n            .Get &quot;Your URL&quot;\r\n    \r\n            .FindElementByName(&quot;Uni_user_id&quot;).SendKeys (&quot;Your User ID&quot;)\r\n    \r\n            .FindElementByName(&quot;password&quot;).SendKeys (&quot;Your Password&quot;)\r\n    \r\n            .FindElementById(&quot;Uni_login_button&quot;).Click\r\n\r\n            &#39;Select Profile Section\r\n            .Get &quot;Secondary URL if Needed&quot;\r\n     \r\n            .Wait Now + TimeValue(&quot;00:00:10&quot;)\r\n            \r\n    End With\r\n\r\n    &#39;Select Desired Tab\r\n    Dim MTab, Tabs, User As selenium.WebElement\r\n    Set MTab = IE.FindElementByTag(&quot;ul&quot;)\r\n    Set Tabs = IE.FindElementByClass(&quot;li class-name &quot;)\r\n    Set User = IE.FindElementByXPath(&quot;//a[text()=&quot;&quot;li innerText&quot;&quot;]&quot;)\r\n\r\n\r\n    IE.Actions.MoveToElement(User).Click(User).Perform\r\n    \r\n    IE.Wait Now + TimeValue(&quot;00:00:20&quot;)\r\n    \r\nEnd Sub\r\n\r\n 1. List item","title":"Selenium - Select Item From List By The ul li Value Text","body":"<p>'For anyone who may need it</p>\n<p>Sub Memlogin()</p>\n<pre><code>'Login Members Profile\nDim IE As New selenium.WebDriver\nSet IE = New ChromeDriver\n\nWith IE\n        .Get &quot;Your URL&quot;\n\n        .FindElementByName(&quot;Uni_user_id&quot;).SendKeys (&quot;Your User ID&quot;)\n\n        .FindElementByName(&quot;password&quot;).SendKeys (&quot;Your Password&quot;)\n\n        .FindElementById(&quot;Uni_login_button&quot;).Click\n\n        'Select Profile Section\n        .Get &quot;Secondary URL if Needed&quot;\n \n        .Wait Now + TimeValue(&quot;00:00:10&quot;)\n        \nEnd With\n\n'Select Desired Tab\nDim MTab, Tabs, User As selenium.WebElement\nSet MTab = IE.FindElementByTag(&quot;ul&quot;)\nSet Tabs = IE.FindElementByClass(&quot;li class-name &quot;)\nSet User = IE.FindElementByXPath(&quot;//a[text()=&quot;&quot;li innerText&quot;&quot;]&quot;)\n\n\nIE.Actions.MoveToElement(User).Click(User).Perform\n\nIE.Wait Now + TimeValue(&quot;00:00:20&quot;)\n</code></pre>\n<p>End Sub</p>\n<ol>\n<li>List item</li>\n</ol>\n"}],"owner":{"account_id":5489289,"reputation":785,"user_id":4363141,"accept_rate":72,"display_name":"Dustin N."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50360,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":38214972,"answer_count":3,"score":2,"last_activity_date":1664553628,"creation_date":1467752414,"question_id":38212644,"body_markdown":"I&#39;ve got the following HTML\r\n\r\n    &lt;div id=&quot;colLeft_OrderGroups&quot; class=&quot;GroupList GroupList_Left&quot;&gt;\r\n    \t\t\t&lt;div class=&quot;SelectList&quot; style=&quot;height:516px;&quot;&gt;\r\n    \t\t\t\t&lt;div class=&quot;DialogSubtitle&quot;&gt;Available groups&lt;/div&gt;\r\n    \t\t\t\t&lt;ul class=&quot;ui-selectable&quot; id=&quot;grdAvailableGroups&quot; style=&quot;width:100%; margin-right:2px&quot;&gt;\r\n    \t\t\t\t&lt;li value=&quot;10929&quot;&gt;AppraisersGroupTest&lt;/li&gt;\r\n    \t\t\t\t&lt;/ul&gt;\r\n    \t\t\t&lt;/div&gt;\r\n    \t\t&lt;/div&gt;\r\n\r\nHow do I select the option based off the &quot;AppraisersGroupTest&quot; text?\r\n\r\nThere will be multiple values in the list soon, so I need to be able to specify the text.\r\n\r\nI have tried the answer in this [post][1], but I&#39;m getting syntax errors I cannot resolve.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20900854/how-to-select-the-anchor-tag-which-is-inside-the-li-in-selenium-webdriver","title":"Selenium - Select Item From List By The ul li Value Text","body":"<p>I've got the following HTML</p>\n\n<pre><code>&lt;div id=\"colLeft_OrderGroups\" class=\"GroupList GroupList_Left\"&gt;\n            &lt;div class=\"SelectList\" style=\"height:516px;\"&gt;\n                &lt;div class=\"DialogSubtitle\"&gt;Available groups&lt;/div&gt;\n                &lt;ul class=\"ui-selectable\" id=\"grdAvailableGroups\" style=\"width:100%; margin-right:2px\"&gt;\n                &lt;li value=\"10929\"&gt;AppraisersGroupTest&lt;/li&gt;\n                &lt;/ul&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>How do I select the option based off the \"AppraisersGroupTest\" text?</p>\n\n<p>There will be multiple values in the list soon, so I need to be able to specify the text.</p>\n\n<p>I have tried the answer in this <a href=\"https://stackoverflow.com/questions/20900854/how-to-select-the-anchor-tag-which-is-inside-the-li-in-selenium-webdriver\">post</a>, but I'm getting syntax errors I cannot resolve.</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":12728112,"reputation":47813,"user_id":9245853,"display_name":"BigBen"},"score":1,"creation_date":1664553542,"post_id":73911269,"comment_id":130505801,"body_markdown":"Since VBA is hosted, you need an instance of Excel to run these. POI is for reading and writing.","body":"Since VBA is hosted, you need an instance of Excel to run these. POI is for reading and writing."},{"owner":{"account_id":396916,"reputation":1134,"user_id":760754,"accept_rate":83,"display_name":"smriti"},"score":0,"creation_date":1664564035,"post_id":73911269,"comment_id":130508621,"body_markdown":"Thanks Bigben, But how to get instance of an excel which has macros. \nIs there any way to get it from java code.  And how to call macros from that instance","body":"Thanks Bigben, But how to get instance of an excel which has macros.  Is there any way to get it from java code.  And how to call macros from that instance"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1664628003,"post_id":73911269,"comment_id":130517688,"body_markdown":"Possible duplicate of [_How to call an Excel VBA Macro from Java Code?_](https://stackoverflow.com/q/7789780/230513)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/q/7789780/230513\"><i>How to call an Excel VBA Macro from Java Code?</i></a>"}],"owner":{"account_id":396916,"reputation":1134,"user_id":760754,"accept_rate":83,"display_name":"smriti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1664629041,"answer_count":0,"score":0,"last_activity_date":1664553407,"creation_date":1664553407,"question_id":73911269,"body_markdown":"I have an excel with few macros in it. I want to run these macros from JAVA program using POI library.\r\n\r\nI verified the available classes in POI library. But it seems there are no classes available in POI library to do this task.\r\n\r\nAny suggestion to achieve this functionality would be greatly appreciated.","title":"How to run exiting macros in an excel - using POI library in java code","body":"<p>I have an excel with few macros in it. I want to run these macros from JAVA program using POI library.</p>\n<p>I verified the available classes in POI library. But it seems there are no classes available in POI library to do this task.</p>\n<p>Any suggestion to achieve this functionality would be greatly appreciated.</p>\n"},{"tags":["java","google-app-engine","google-cloud-platform","gcloud"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1664430643,"post_id":73890686,"comment_id":130470601,"body_markdown":"That path is 262 characters long (after replacing the doubled backslashes). Some filesystem APIs in Windows are limited to 255 characters, likely that is causing the problem here (but I don&#39;t know conclusively, so posting it as a comment, not an answer).","body":"That path is 262 characters long (after replacing the doubled backslashes). Some filesystem APIs in Windows are limited to 255 characters, likely that is causing the problem here (but I don&#39;t know conclusively, so posting it as a comment, not an answer)."},{"owner":{"account_id":10905924,"reputation":76322,"user_id":8016720,"display_name":"John Hanley"},"score":0,"creation_date":1664430702,"post_id":73890686,"comment_id":130470613,"body_markdown":"The path in the error is 264 characters long. By default, Windows has a limit of about 260 characters (MAX_PATH) unless **NTFS Long Paths** is enabled.","body":"The path in the error is 264 characters long. By default, Windows has a limit of about 260 characters (MAX_PATH) unless <b>NTFS Long Paths</b> is enabled."},{"owner":{"account_id":4247429,"reputation":85,"user_id":3475675,"accept_rate":75,"display_name":"Wisdom Ekene"},"score":0,"creation_date":1664431950,"post_id":73890686,"comment_id":130470906,"body_markdown":"I navigated to Local Computer Policy -&gt; Computer Configuration -&gt;. Administrative Templates -&gt; System -&gt; Filesystem and enabled Long Paths, hope there is no adverse effect.","body":"I navigated to Local Computer Policy -&gt; Computer Configuration -&gt;. Administrative Templates -&gt; System -&gt; Filesystem and enabled Long Paths, hope there is no adverse effect."}],"answers":[{"tags":[],"owner":{"account_id":4247429,"reputation":85,"user_id":3475675,"accept_rate":75,"display_name":"Wisdom Ekene"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664553320,"creation_date":1664553320,"answer_id":73911249,"question_id":73890686,"body_markdown":"This is how I got the app-engine-java component to install successfully.\r\n\r\nFirst, following the suggestion by @Mark_Rotteveel and @John_Hanley I enabled Long Path by;\r\n\r\n&gt; Navigating to Local Computer Policy -&gt; Computer Configuration -&gt;.\r\n&gt; Administrative Templates -&gt; System -&gt; Filesystem and enabled Long\r\n&gt; Paths.\r\n\r\n Secondly, I uninstalled and reinstalled the Cloud SDK, then ran the command `gcloud component install  app-engine-java` and it installed successfully.","title":"Why does gcloud crash while installing App Engine Java Component in Windows 10","body":"<p>This is how I got the app-engine-java component to install successfully.</p>\n<p>First, following the suggestion by @Mark_Rotteveel and @John_Hanley I enabled Long Path by;</p>\n<blockquote>\n<p>Navigating to Local Computer Policy -&gt; Computer Configuration -&gt;.\nAdministrative Templates -&gt; System -&gt; Filesystem and enabled Long\nPaths.</p>\n</blockquote>\n<p>Secondly, I uninstalled and reinstalled the Cloud SDK, then ran the command <code>gcloud component install  app-engine-java</code> and it installed successfully.</p>\n"}],"owner":{"account_id":4247429,"reputation":85,"user_id":3475675,"accept_rate":75,"display_name":"Wisdom Ekene"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1664553320,"creation_date":1664429450,"question_id":73890686,"body_markdown":"I recently installed Google Cloud SDK on Windows 10, using the installer and it was successful. But when I run the following command `gcloud components install app-engine-java`, gcloud crashes with error. (see console output below). Does anyone know why? \r\n\r\n```none\r\nYour current Google Cloud CLI version is: 404.0.0\r\nInstalling components from version: 404.0.0\r\n\r\n+-------------------------------------------------+\r\n|       These components will be installed.       |\r\n+----------------------------+---------+----------+\r\n|            Name            | Version |   Size   |\r\n+----------------------------+---------+----------+\r\n| gcloud app Java Extensions |   2.0.8 | 73.2 MiB |\r\n+----------------------------+---------+----------+\r\n\r\nFor the latest full release notes, please visit:\r\n  https://cloud.google.com/sdk/release_notes\r\n\r\nDo you want to continue (Y/n)?  y\r\n\r\n#============================================================#\r\n#= Creating update staging area                             =#\r\n#============================================================#\r\n#= Installing: gcloud app Java Extensions                   =#\r\n#============================================================#\r\nERROR: gcloud crashed (FileNotFoundError): [Errno 2] No such file or directory: &#39;C:\\\\Users\\\\Wizy\\\\AppData\\\\Local\\\\Google\\\\Cloud SDK\\\\google-cloud-sdk.staging\\\\platform\\\\google_appengine\\\\google\\\\appengine\\\\tools\\\\java\\\\jetty94\\\\jetty-home\\\\demo-base\\\\webapps\\\\doc\\\\9.4.48.v20220622\\\\configuring\\\\deploying\\\\images\\\\Jetty_DeployManager_DefaultAppLifeCycleBindings.png&#39;\r\n\r\nIf you would like to report this issue, please run the following command:\r\n  gcloud feedback\r\n\r\nTo check gcloud for common problems, please run the following command:\r\n  gcloud info --run-diagnostics\r\nPress any key to continue . . .\r\n```","title":"Why does gcloud crash while installing App Engine Java Component in Windows 10","body":"<p>I recently installed Google Cloud SDK on Windows 10, using the installer and it was successful. But when I run the following command <code>gcloud components install app-engine-java</code>, gcloud crashes with error. (see console output below). Does anyone know why?</p>\n<pre class=\"lang-none prettyprint-override\"><code>Your current Google Cloud CLI version is: 404.0.0\nInstalling components from version: 404.0.0\n\n+-------------------------------------------------+\n|       These components will be installed.       |\n+----------------------------+---------+----------+\n|            Name            | Version |   Size   |\n+----------------------------+---------+----------+\n| gcloud app Java Extensions |   2.0.8 | 73.2 MiB |\n+----------------------------+---------+----------+\n\nFor the latest full release notes, please visit:\n  https://cloud.google.com/sdk/release_notes\n\nDo you want to continue (Y/n)?  y\n\n#============================================================#\n#= Creating update staging area                             =#\n#============================================================#\n#= Installing: gcloud app Java Extensions                   =#\n#============================================================#\nERROR: gcloud crashed (FileNotFoundError): [Errno 2] No such file or directory: 'C:\\\\Users\\\\Wizy\\\\AppData\\\\Local\\\\Google\\\\Cloud SDK\\\\google-cloud-sdk.staging\\\\platform\\\\google_appengine\\\\google\\\\appengine\\\\tools\\\\java\\\\jetty94\\\\jetty-home\\\\demo-base\\\\webapps\\\\doc\\\\9.4.48.v20220622\\\\configuring\\\\deploying\\\\images\\\\Jetty_DeployManager_DefaultAppLifeCycleBindings.png'\n\nIf you would like to report this issue, please run the following command:\n  gcloud feedback\n\nTo check gcloud for common problems, please run the following command:\n  gcloud info --run-diagnostics\nPress any key to continue . . .\n</code></pre>\n"},{"tags":["java","json","jackson"],"answers":[{"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1664553375,"post_id":73910408,"comment_id":130505743,"body_markdown":"Unfortunately it does not handle removed values correctly. If json2 removes the age field, the patch should set age to null. This code retains the original value.","body":"Unfortunately it does not handle removed values correctly. If json2 removes the age field, the patch should set age to null. This code retains the original value."}],"tags":[],"owner":{"account_id":3992180,"reputation":1524,"user_id":3290745,"display_name":"Tristate"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664548794,"creation_date":1664548794,"answer_id":73910408,"question_id":73910244,"body_markdown":"Here is an example what I think you asked for.\r\n\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.node.ObjectNode;\r\n\r\n    import java.io.IOException;\r\n    \r\n    public class Main {\r\n    public static void main(String[] args) throws IOException {\r\n        \r\n        String json1 = &quot;{\\&quot;name\\&quot;:\\&quot;John\\&quot;,\\&quot;age\\&quot;:30,\\&quot;city\\&quot;:\\&quot;New York\\&quot;}&quot;;\r\n        String json2 = &quot;{\\&quot;name\\&quot;:\\&quot;John\\&quot;,\\&quot;age\\&quot;:30,\\&quot;city\\&quot;:\\&quot;New York\\&quot;,\\&quot;country\\&quot;:\\&quot;USA\\&quot;}&quot;;\r\n        String result = createMergePatchWith(json1, json2);\r\n        System.out.println(result);\r\n\r\n    }\r\n\r\n    public static String createMergePatchWith(String json1, String json2) throws IOException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        JsonNode jsonNode1 = mapper.readTree(json1);\r\n        JsonNode jsonNode2 = mapper.readTree(json2);\r\n        JsonNode mergePatch = doMergeWithJackson(jsonNode1, jsonNode2);\r\n        return mapper.writeValueAsString(mergePatch);\r\n    }\r\n\r\n    private static JsonNode doMergeWithJackson(JsonNode jsonNode1, JsonNode jsonNode2) {\r\n        if (jsonNode1.isObject() &amp;&amp; jsonNode2.isObject()) {\r\n            ObjectNode objectNode = (ObjectNode) jsonNode1;\r\n            jsonNode2.fields().forEachRemaining(entry -&gt; {\r\n                JsonNode value = entry.getValue();\r\n                if (value.isObject()) {\r\n                    objectNode.set(entry.getKey(), doMergeWithJackson(objectNode.get(entry.getKey()), value));\r\n                } else {\r\n                    objectNode.set(entry.getKey(), value);\r\n                }\r\n            });\r\n            return objectNode;\r\n        }\r\n        return jsonNode2;\r\n    }\r\n}\r\n\r\nOutput of this:\r\n{&quot;name&quot;:&quot;John&quot;,&quot;age&quot;:30,&quot;city&quot;:&quot;New York&quot;,&quot;country&quot;:&quot;USA&quot;}","title":"How to create a JSON merge patch document for two objects with Jackson","body":"<p>Here is an example what I think you asked for.</p>\n<pre><code>import com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\n\nimport java.io.IOException;\n\npublic class Main {\npublic static void main(String[] args) throws IOException {\n    \n    String json1 = &quot;{\\&quot;name\\&quot;:\\&quot;John\\&quot;,\\&quot;age\\&quot;:30,\\&quot;city\\&quot;:\\&quot;New York\\&quot;}&quot;;\n    String json2 = &quot;{\\&quot;name\\&quot;:\\&quot;John\\&quot;,\\&quot;age\\&quot;:30,\\&quot;city\\&quot;:\\&quot;New York\\&quot;,\\&quot;country\\&quot;:\\&quot;USA\\&quot;}&quot;;\n    String result = createMergePatchWith(json1, json2);\n    System.out.println(result);\n\n}\n\npublic static String createMergePatchWith(String json1, String json2) throws IOException {\n    ObjectMapper mapper = new ObjectMapper();\n    JsonNode jsonNode1 = mapper.readTree(json1);\n    JsonNode jsonNode2 = mapper.readTree(json2);\n    JsonNode mergePatch = doMergeWithJackson(jsonNode1, jsonNode2);\n    return mapper.writeValueAsString(mergePatch);\n}\n\nprivate static JsonNode doMergeWithJackson(JsonNode jsonNode1, JsonNode jsonNode2) {\n    if (jsonNode1.isObject() &amp;&amp; jsonNode2.isObject()) {\n        ObjectNode objectNode = (ObjectNode) jsonNode1;\n        jsonNode2.fields().forEachRemaining(entry -&gt; {\n            JsonNode value = entry.getValue();\n            if (value.isObject()) {\n                objectNode.set(entry.getKey(), doMergeWithJackson(objectNode.get(entry.getKey()), value));\n            } else {\n                objectNode.set(entry.getKey(), value);\n            }\n        });\n        return objectNode;\n    }\n    return jsonNode2;\n}\n</code></pre>\n<p>}</p>\n<p>Output of this:\n{&quot;name&quot;:&quot;John&quot;,&quot;age&quot;:30,&quot;city&quot;:&quot;New York&quot;,&quot;country&quot;:&quot;USA&quot;}</p>\n"}],"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":818,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1664553255,"creation_date":1664547898,"question_id":73910244,"body_markdown":"We have an application with a significant investment in Jackson for JSON processing. Specifically there are many annotated model objects used in REST APIs. Now we need to call a REST API where PATCH wants a [merge patch][1] JSON document. Given the original object and the changed object, this is trivial to create with JSON-P, but I have not found a way to do it with Jackson.\r\n\r\nThis code works and does the job:\r\n\r\n        public &lt;T&gt; String createMergePatch(T source, T target) throws IOException {\r\n            var sourceBytes = objectMapper.writeValueAsBytes(source);\r\n            var targetBytes = objectMapper.writeValueAsBytes(target);\r\n\r\n            // Changing framework - not at all ideal\r\n            var sourceJson = Json.createReader(new ByteArrayInputStream(sourceBytes)).readValue();\r\n            var targetJson = Json.createReader(new ByteArrayInputStream(targetBytes)).readValue();\r\n            var mergePatch = Json.createMergeDiff(sourceJson, targetJson);\r\n            return mergePatch.toJsonValue().toString();\r\n        }\r\n\r\nThe Jackson annotations are used when the source and target objects are converted into JSON. Then, we are switching frameworks to get something that createMergeDiff can handle. It is inefficient and we need to include dependencies we don&#39;t want, but the output is correct.\r\n\r\nFinally, my question is if there is a better way to do this with Jackson, without having to pull in another JSON framework and without having to round-trip between JSON and objects?\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc7396","title":"How to create a JSON merge patch document for two objects with Jackson","body":"<p>We have an application with a significant investment in Jackson for JSON processing. Specifically there are many annotated model objects used in REST APIs. Now we need to call a REST API where PATCH wants a <a href=\"https://www.rfc-editor.org/rfc/rfc7396\" rel=\"nofollow noreferrer\">merge patch</a> JSON document. Given the original object and the changed object, this is trivial to create with JSON-P, but I have not found a way to do it with Jackson.</p>\n<p>This code works and does the job:</p>\n<pre><code>    public &lt;T&gt; String createMergePatch(T source, T target) throws IOException {\n        var sourceBytes = objectMapper.writeValueAsBytes(source);\n        var targetBytes = objectMapper.writeValueAsBytes(target);\n\n        // Changing framework - not at all ideal\n        var sourceJson = Json.createReader(new ByteArrayInputStream(sourceBytes)).readValue();\n        var targetJson = Json.createReader(new ByteArrayInputStream(targetBytes)).readValue();\n        var mergePatch = Json.createMergeDiff(sourceJson, targetJson);\n        return mergePatch.toJsonValue().toString();\n    }\n</code></pre>\n<p>The Jackson annotations are used when the source and target objects are converted into JSON. Then, we are switching frameworks to get something that createMergeDiff can handle. It is inefficient and we need to include dependencies we don't want, but the output is correct.</p>\n<p>Finally, my question is if there is a better way to do this with Jackson, without having to pull in another JSON framework and without having to round-trip between JSON and objects?</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"score":0,"creation_date":1664636174,"post_id":73911169,"comment_id":130519296,"body_markdown":"try `select new full.package.name.NewResult(f.section_code, m.section_description) from table1 f join join table2 m on m.code_id = f.id`","body":"try <code>select new full.package.name.NewResult(f.section_code, m.section_description) from table1 f join join table2 m on m.code_id = f.id</code>"},{"owner":{"account_id":18778529,"reputation":81,"user_id":13693711,"display_name":"Sankalp Bhatt"},"score":0,"creation_date":1665066191,"post_id":73911169,"comment_id":130616454,"body_markdown":"Thanks @grigouille , I switched to coroutineCrudRepository as we were on initial phase and were any targeting suspendible functions.","body":"Thanks @grigouille , I switched to coroutineCrudRepository as we were on initial phase and were any targeting suspendible functions."}],"owner":{"account_id":18778529,"reputation":81,"user_id":13693711,"display_name":"Sankalp Bhatt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1664552867,"creation_date":1664552867,"question_id":73911169,"body_markdown":"I am working on spring boot in Kotlin. I tried to create a custom query by joining tables. Needed a custom Entity class so created one.\r\n\r\nApplication starts but when I hit the query I get below error :\r\n _org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [com.example.entity.NewResult]]_\r\n\r\nMy Entity Class looks like\r\n\r\n`data class NewResult(\r\n    val sectionCode: String,\r\n    val sectionDescription: String,\r\n)`\r\n\r\nMy repository class:\r\n`interface NewRepository: JpaRepository&lt;SomeClass, UUID&gt; {\r\n\r\n\r\n    @Query(nativeQuery = true, value = &quot;&quot;&quot;\r\n        select \r\n            f.section_code as sectionCode, \r\n            m.section_description as sectionDescription\r\n            from table1 f\r\n                join table2 m on m.code_id = f.id\r\n    &quot;&quot;&quot;)\r\n    fun search(): List&lt;NewResult&gt;\r\n}`\r\n\r\nPlease let me know if this is a bug in JPA","title":"No converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap]","body":"<p>I am working on spring boot in Kotlin. I tried to create a custom query by joining tables. Needed a custom Entity class so created one.</p>\n<p>Application starts but when I hit the query I get below error :\n<em>org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [com.example.entity.NewResult]]</em></p>\n<p>My Entity Class looks like</p>\n<p><code>data class NewResult( val sectionCode: String, val sectionDescription: String, )</code></p>\n<p>My repository class:\n`interface NewRepository: JpaRepository&lt;SomeClass, UUID&gt; {</p>\n<pre><code>@Query(nativeQuery = true, value = &quot;&quot;&quot;\n    select \n        f.section_code as sectionCode, \n        m.section_description as sectionDescription\n        from table1 f\n            join table2 m on m.code_id = f.id\n&quot;&quot;&quot;)\nfun search(): List&lt;NewResult&gt;\n</code></pre>\n<p>}`</p>\n<p>Please let me know if this is a bug in JPA</p>\n"},{"tags":["java","string","loops","infinite-loop"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1664551756,"post_id":73910939,"comment_id":130505175,"body_markdown":"did you step through the code in a debugger and look at the values?","body":"did you step through the code in a debugger and look at the values?"},{"owner":{"account_id":25818332,"reputation":1,"user_id":19557917,"display_name":"Nive"},"score":0,"creation_date":1664552691,"post_id":73910939,"comment_id":130505521,"body_markdown":"Thanks @OldProgrammer , i did step through the code after your suggestion and now i figured out where it went wrong. Yet 1 test case failed :(","body":"Thanks @OldProgrammer , i did step through the code after your suggestion and now i figured out where it went wrong. Yet 1 test case failed :("},{"owner":{"account_id":25818332,"reputation":1,"user_id":19557917,"display_name":"Nive"},"score":0,"creation_date":1664553024,"post_id":73910939,"comment_id":130505625,"body_markdown":"Thanks @user16320675 , will try the code with for loop","body":"Thanks @user16320675 , will try the code with for loop"}],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664552465,"creation_date":1664552465,"answer_id":73911090,"question_id":73910939,"body_markdown":"In you code you multiply `n` by `2` and subtract `1`.\r\n\r\nFor any `n&gt;1` this series is infinitely increase. You should get exception when `n` become bigger then size of `str`. ","title":"Stuck inside infinite loop","body":"<p>In you code you multiply <code>n</code> by <code>2</code> and subtract <code>1</code>.</p>\n<p>For any <code>n&gt;1</code> this series is infinitely increase. You should get exception when <code>n</code> become bigger then size of <code>str</code>.</p>\n"}],"owner":{"account_id":25818332,"reputation":1,"user_id":19557917,"display_name":"Nive"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1664552465,"creation_date":1664551658,"question_id":73910939,"body_markdown":"The program is to print characters at position in multiples of N until last character is printed. If N goes beyond last character it navigates in cyclic manner until last character is printed. So here is my code in Java.   \r\n\r\n    import java.util.*;\r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner sc=new Scanner(System.in);\r\n    \t\tString str=sc.next();\r\n    \t\tint n=sc.nextInt();\r\n    \t\tint l=str.length();\r\n    \t\twhile(n!=l){\r\n    \t\t    System.out.print(str.charAt(n-1));\r\n    \t\t    n+=n;\r\n    \t\t    if(n&gt;l)\r\n    \t\t        n-=l;\r\n    \t\t}\r\n    \t}\r\n    }\r\nThe program got inside a infinite loop and i&#39;m not able to figure out where the logic went wrong. Help out!\r\n\r\n","title":"Stuck inside infinite loop","body":"<p>The program is to print characters at position in multiples of N until last character is printed. If N goes beyond last character it navigates in cyclic manner until last character is printed. So here is my code in Java.</p>\n<pre><code>import java.util.*;\npublic class Main\n{\n    public static void main(String[] args) {\n        Scanner sc=new Scanner(System.in);\n        String str=sc.next();\n        int n=sc.nextInt();\n        int l=str.length();\n        while(n!=l){\n            System.out.print(str.charAt(n-1));\n            n+=n;\n            if(n&gt;l)\n                n-=l;\n        }\n    }\n}\n</code></pre>\n<p>The program got inside a infinite loop and i'm not able to figure out where the logic went wrong. Help out!</p>\n"},{"tags":["java","arrays","multidimensional-array","merge","concatenation"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1664066027,"post_id":73840645,"comment_id":130386371,"body_markdown":"What is the code for &quot;combine&quot;? Or, where can we look up the API?","body":"What is the code for &quot;combine&quot;? Or, where can we look up the API?"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":2,"creation_date":1664066046,"post_id":73840645,"comment_id":130386372,"body_markdown":"2dArray is not a valid variable name.","body":"2dArray is not a valid variable name."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1664066358,"post_id":73840645,"comment_id":130386404,"body_markdown":"Not a good way to do it but, you could try something like `finalArray = combine (array2d[0], combine (array2d[1], combine (array2d[2],  combine(array2d[3], ... ))))))))))))))));`","body":"Not a good way to do it but, you could try something like <code>finalArray = combine (array2d[0], combine (array2d[1], combine (array2d[2],  combine(array2d[3], ... ))))))))))))))));</code>"}],"answers":[{"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1664066182,"post_id":73841268,"comment_id":130386385,"body_markdown":"Suggestion:  `for (int i = 0; i &lt; array2D.length; i++)` makes it more flexible.  (I used a different name for  `2dArray` because it&#39;s not a valid variable name.)","body":"Suggestion:  <code>for (int i = 0; i &lt; array2D.length; i++)</code> makes it more flexible.  (I used a different name for  <code>2dArray</code> because it&#39;s not a valid variable name.)"}],"tags":[],"owner":{"account_id":4753102,"reputation":3151,"user_id":4886722,"display_name":"Dmitry Khamitov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664118023,"creation_date":1664063238,"answer_id":73841268,"question_id":73840645,"body_markdown":"As per your problem statement the following should work:\r\n```\r\nint[] finalArray = new int[0];\r\nfor (int i = 0; i &lt; 16; i++) {\r\n    finalArray = combine(finalArray, 2dArray[i]);\r\n}\r\nreturn finalArray;\r\n```\r\nThe invariant for this loop is that `finalArray` is always sorted. So, at the end you will have one big sorted array in this variable.\r\n\r\n**P.S.** Using the OP&#39;s original `2dArray` variable name in the code snippet. However, it&#39;s not a valid name in Java because you can&#39;t start a variable name with a number.","title":"How to combine a 2D array into one, using a pre-defined method that only takes 2 arrays at a time?","body":"<p>As per your problem statement the following should work:</p>\n<pre><code>int[] finalArray = new int[0];\nfor (int i = 0; i &lt; 16; i++) {\n    finalArray = combine(finalArray, 2dArray[i]);\n}\nreturn finalArray;\n</code></pre>\n<p>The invariant for this loop is that <code>finalArray</code> is always sorted. So, at the end you will have one big sorted array in this variable.</p>\n<p><strong>P.S.</strong> Using the OP's original <code>2dArray</code> variable name in the code snippet. However, it's not a valid name in Java because you can't start a variable name with a number.</p>\n"}],"owner":{"account_id":17237311,"reputation":93,"user_id":12480494,"display_name":"TorusWithSprinkles"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73841268,"answer_count":1,"score":0,"last_activity_date":1664552009,"creation_date":1664054363,"question_id":73840645,"body_markdown":"I&#39;m working on an interview practice question where we&#39;re given a 2d array (arr[16][64], so 16 arrays with 64 elements each). We&#39;re first asked to sort each array, and then combine them into one big sorted array, using the given methods (without creating any new methods). \r\n\r\nThe given method for combining takes only **two** arrays, merges them, and returns a single combined array. It&#39;s a very straightforward function, no libraries or anything like that, just plain Java code.\r\n\r\nI was able to sort the 16 arrays, but I can&#39;t figure out how to use the given combine() function to merge/combine all 16 arrays. The only thing I could think to do was\r\n\r\n        for (int i = 0; i &lt; 16; i++) {\r\n            finalArray = combine(2dArray[i], 2dArray[i+1]);\r\n        }\r\n\r\nbut of course that&#39;s only combining 2 arrays. Where should I go from here? ","title":"How to combine a 2D array into one, using a pre-defined method that only takes 2 arrays at a time?","body":"<p>I'm working on an interview practice question where we're given a 2d array (arr[16][64], so 16 arrays with 64 elements each). We're first asked to sort each array, and then combine them into one big sorted array, using the given methods (without creating any new methods).</p>\n<p>The given method for combining takes only <strong>two</strong> arrays, merges them, and returns a single combined array. It's a very straightforward function, no libraries or anything like that, just plain Java code.</p>\n<p>I was able to sort the 16 arrays, but I can't figure out how to use the given combine() function to merge/combine all 16 arrays. The only thing I could think to do was</p>\n<pre><code>    for (int i = 0; i &lt; 16; i++) {\n        finalArray = combine(2dArray[i], 2dArray[i+1]);\n    }\n</code></pre>\n<p>but of course that's only combining 2 arrays. Where should I go from here?</p>\n"},{"tags":["java","intellij-idea","input","arguments","output"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1664055242,"post_id":73840702,"comment_id":130385108,"body_markdown":"Does this answer your question? [How do I parse command line arguments in Java?](https://stackoverflow.com/questions/367706/how-do-i-parse-command-line-arguments-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/367706/how-do-i-parse-command-line-arguments-in-java\">How do I parse command line arguments in Java?</a>"},{"owner":{"account_id":26433812,"reputation":1,"user_id":20079515,"display_name":"Aysun Patkavak"},"score":0,"creation_date":1664055642,"post_id":73840702,"comment_id":130385174,"body_markdown":"Thanks for your response, but as I don&#39;t have programming knowledge so a straight answer accordnig to the current code would be more helpful for me.","body":"Thanks for your response, but as I don&#39;t have programming knowledge so a straight answer accordnig to the current code would be more helpful for me."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1664055765,"post_id":73840702,"comment_id":130385191,"body_markdown":"But the accepted answer contains &quot;Usage from the command line: ‚Ä¶&quot; ‚Äì is that not what you are asking?","body":"But the accepted answer contains &quot;Usage from the command line: ‚Ä¶&quot; ‚Äì is that not what you are asking?"},{"owner":{"account_id":26433812,"reputation":1,"user_id":20079515,"display_name":"Aysun Patkavak"},"score":0,"creation_date":1664055983,"post_id":73840702,"comment_id":130385230,"body_markdown":"let me ask this way, in my code line(line 103,102), is the place that i should write the path to my input file? if yes how?","body":"let me ask this way, in my code line(line 103,102), is the place that i should write the path to my input file? if yes how?"},{"owner":{"account_id":26433812,"reputation":1,"user_id":20079515,"display_name":"Aysun Patkavak"},"score":0,"creation_date":1664056027,"post_id":73840702,"comment_id":130385235,"body_markdown":"// load gtfs files\n\t\tGtfsFeed gtfsFeed = new GtfsFeedImpl(gtfsFolder);","body":"// load gtfs files \t\tGtfsFeed gtfsFeed = new GtfsFeedImpl(gtfsFolder);"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1664087884,"post_id":73840702,"comment_id":130388163,"body_markdown":"No, you should call your program on the commandline with the arguments provided. `java yourprogram arg1 arg2 arg3 ‚Ä¶`","body":"No, you should call your program on the commandline with the arguments provided. <code>java yourprogram arg1 arg2 arg3 ‚Ä¶</code>"},{"owner":{"account_id":26433812,"reputation":1,"user_id":20079515,"display_name":"Aysun Patkavak"},"score":0,"creation_date":1664129782,"post_id":73840702,"comment_id":130395631,"body_markdown":"thanks, I went to edit configuration but now I don&#39;t know in which part should I import these arguments and also args[0] is an import folder(the whole folder is input data consists of some text files) and also other args are some additional paramterts that affect the output","body":"thanks, I went to edit configuration but now I don&#39;t know in which part should I import these arguments and also args[0] is an import folder(the whole folder is input data consists of some text files) and also other args are some additional paramterts that affect the output"}],"answers":[{"tags":[],"owner":{"account_id":26433812,"reputation":1,"user_id":20079515,"display_name":"Aysun Patkavak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664239251,"creation_date":1664239251,"answer_id":73861238,"question_id":73840702,"body_markdown":"in IntelliJ, go to Run, edit configuration,\r\nin Program arguments you have to write the argumnet values or paths and seperate them by space\r\nfor example if my first argument is a zip folder in Drive C and my second argument is a date then I should write like below:\r\nC://Folder//A.zip 2022.09.27","title":"A question about inputing arguments in Java (in IntelliJ)","body":"<p>in IntelliJ, go to Run, edit configuration,\nin Program arguments you have to write the argumnet values or paths and seperate them by space\nfor example if my first argument is a zip folder in Drive C and my second argument is a date then I should write like below:\nC://Folder//A.zip 2022.09.27</p>\n"}],"owner":{"account_id":26433812,"reputation":1,"user_id":20079515,"display_name":"Aysun Patkavak"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664551987,"creation_date":1664054977,"question_id":73840702,"body_markdown":"I am not a programmer so maybe my question seem very fundamental.\r\nI have to run the the code in the link below to get an output file:\r\nhttps://github.com/matsim-org/pt2matsim/blob/master/src/main/java/org/matsim/pt2matsim/run/Gtfs2TransitSchedule.java\r\n\r\nThis code gets an input (a folder containing some text files related to open street map) and also in the code I have to specify a coordinate system (in my case is EPSG:3857) and I think also I have to specify a path fot the output file.\r\nUnfotunately I don&#39;t know how I should specify the input file and also how I should edit my desired coordinate system. Also I have to mention these are written as args[0], args[1], args[2] and args[4] in the code.\r\n","title":"A question about inputing arguments in Java (in IntelliJ)","body":"<p>I am not a programmer so maybe my question seem very fundamental.\nI have to run the the code in the link below to get an output file:\n<a href=\"https://github.com/matsim-org/pt2matsim/blob/master/src/main/java/org/matsim/pt2matsim/run/Gtfs2TransitSchedule.java\" rel=\"nofollow noreferrer\">https://github.com/matsim-org/pt2matsim/blob/master/src/main/java/org/matsim/pt2matsim/run/Gtfs2TransitSchedule.java</a></p>\n<p>This code gets an input (a folder containing some text files related to open street map) and also in the code I have to specify a coordinate system (in my case is EPSG:3857) and I think also I have to specify a path fot the output file.\nUnfotunately I don't know how I should specify the input file and also how I should edit my desired coordinate system. Also I have to mention these are written as args[0], args[1], args[2] and args[4] in the code.</p>\n"},{"tags":["java","spring-boot","spring-webclient"],"comments":[{"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"score":0,"creation_date":1635634213,"post_id":69782681,"comment_id":123349278,"body_markdown":"Is SerieDetails class the same in both cases?","body":"Is SerieDetails class the same in both cases?"}],"answers":[{"comments":[{"owner":{"account_id":17745158,"reputation":126,"user_id":12884604,"display_name":"iPPle"},"score":0,"creation_date":1635636796,"post_id":69782727,"comment_id":123349615,"body_markdown":"Works like a charm thanks ! What can I do as an alternative to `.block()` then ?","body":"Works like a charm thanks ! What can I do as an alternative to <code>.block()</code> then ?"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":1,"creation_date":1635637455,"post_id":69782727,"comment_id":123349692,"body_markdown":"Just let the `Mono` flow to the callers of the `findByQuery` method. I guess that you have exposed a REST API, everything should be using `Mono` and `Flux`. Assuming the call to `findByQuery` is the result of a call to your own API, you should be returning `Mono` and `Flux` in your Controllers. They will be subscribed by Spring and the response is sent to the client whenever it is available. Another very relevant thing to consider is the database. It must support the reactive paradigm so that you can take 100% benefit from it.","body":"Just let the <code>Mono</code> flow to the callers of the <code>findByQuery</code> method. I guess that you have exposed a REST API, everything should be using <code>Mono</code> and <code>Flux</code>. Assuming the call to <code>findByQuery</code> is the result of a call to your own API, you should be returning <code>Mono</code> and <code>Flux</code> in your Controllers. They will be subscribed by Spring and the response is sent to the client whenever it is available. Another very relevant thing to consider is the database. It must support the reactive paradigm so that you can take 100% benefit from it."},{"owner":{"account_id":12766164,"reputation":467,"user_id":10789874,"display_name":"Shivam Papat"},"score":0,"creation_date":1678112790,"post_id":69782727,"comment_id":133465225,"body_markdown":"So is there any way that makes us not create POJO for outer object (which in case here &quot;PaginatedSerieDetails&quot;) ?","body":"So is there any way that makes us not create POJO for outer object (which in case here &quot;PaginatedSerieDetails&quot;) ?"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1678114492,"post_id":69782727,"comment_id":133465772,"body_markdown":"I would say you would need a custom deserializer in that case, but having the class makes it simpler and easier to read.","body":"I would say you would need a custom deserializer in that case, but having the class makes it simpler and easier to read."}],"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635637626,"creation_date":1635634364,"answer_id":69782727,"question_id":69782681,"body_markdown":"You need to change the object to which the JSON is deserialized. The functions `bodyToMono` and `bodyToFlux` create two different streams, where `Mono` and `Flux` are the publishers:\r\n- `Mono` emits at most one item;\r\n- `Flux` emits a sequence from zero to N items.\r\n\r\nThe items are the instances of the specified class. In your case, it is the JSON response that is converted to `SerieDetails`. \r\nMultiple items do not mean an array of `SerieDetails`, but multiple JSON responses with the structure of `SerieDetails`. You can imagine this like different object instances of the same class.\r\n\r\nThe simpler solution would be creating the following class:\r\n```java\r\nclass PaginatedSerieDetails {\r\n    private int page;\r\n    private List&lt;SerieDetails&gt; results;\r\n\r\n    // getters and setters\r\n}\r\n```\r\n\r\nThen you would use this one when you do the call as follows:\r\n```java\r\npublic List&lt;SerieDetails&gt; findByQuery(String query) {\r\n        return this.webClient\r\n                .get()\r\n                .uri(&quot;/search/tv?api_key={apiKey}&amp;language={lang}&amp;query={query}&quot;, this.apiKey, this.lang, query)\r\n                .retrieve()\r\n                .bodyToMono(PaginatedSerieDetails.class)\r\n                .map(PaginatedSerieDetails::getResults())\r\n                .log()\r\n                .block();\r\n}\r\n```\r\n\r\nAs a side note, please strive to avoid `.block()` while using WebFlux. When you do it you defeat the whole purpose of using the reactive stack because you are saying you want to actually make the thread wait for the Mono or Flux to emit a value.","title":"Spring WebClient retrieve json object wrapped under results property","body":"<p>You need to change the object to which the JSON is deserialized. The functions <code>bodyToMono</code> and <code>bodyToFlux</code> create two different streams, where <code>Mono</code> and <code>Flux</code> are the publishers:</p>\n<ul>\n<li><code>Mono</code> emits at most one item;</li>\n<li><code>Flux</code> emits a sequence from zero to N items.</li>\n</ul>\n<p>The items are the instances of the specified class. In your case, it is the JSON response that is converted to <code>SerieDetails</code>.\nMultiple items do not mean an array of <code>SerieDetails</code>, but multiple JSON responses with the structure of <code>SerieDetails</code>. You can imagine this like different object instances of the same class.</p>\n<p>The simpler solution would be creating the following class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class PaginatedSerieDetails {\n    private int page;\n    private List&lt;SerieDetails&gt; results;\n\n    // getters and setters\n}\n</code></pre>\n<p>Then you would use this one when you do the call as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;SerieDetails&gt; findByQuery(String query) {\n        return this.webClient\n                .get()\n                .uri(&quot;/search/tv?api_key={apiKey}&amp;language={lang}&amp;query={query}&quot;, this.apiKey, this.lang, query)\n                .retrieve()\n                .bodyToMono(PaginatedSerieDetails.class)\n                .map(PaginatedSerieDetails::getResults())\n                .log()\n                .block();\n}\n</code></pre>\n<p>As a side note, please strive to avoid <code>.block()</code> while using WebFlux. When you do it you defeat the whole purpose of using the reactive stack because you are saying you want to actually make the thread wait for the Mono or Flux to emit a value.</p>\n"}],"owner":{"account_id":17745158,"reputation":126,"user_id":12884604,"display_name":"iPPle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69782727,"answer_count":1,"score":0,"last_activity_date":1664551927,"creation_date":1635633897,"question_id":69782681,"body_markdown":"I am currently working on a Spring Boot application wrapping an external REST API into my own GraphQL API.\r\n\r\nSo far, I&#39;ve did this method returning a `SerieDetails` :\r\n\r\n```java\r\npublic SerieDetails findOrThrow(long id) throws RuntimeException {\r\n        try {\r\n            return this.webClient\r\n                    .get()\r\n                    .uri(&quot;/tv/{id}?api_key={apiKey}&amp;language={lang}&quot;, id, this.apiKey, this.lang)\r\n                    .retrieve()\r\n                    .bodyToMono(SerieDetails.class)\r\n                    .log()\r\n                    .block();\r\n        } catch(Exception e ) {\r\n            throw new RuntimeException(&quot;Can&#39;t reach the API&quot;);\r\n        }\r\n}\r\n```\r\n\r\nTurning this JSON into my own object :\r\n```json\r\n{\r\n  &quot;id&quot;: 71912,\r\n  &quot;name&quot;: &quot;The Witcher&quot;,\r\n  &quot;overview&quot;: &quot;Geralt of Rivia, a mutated monster-hunter for hire, journeys toward his destiny in a turbulent world where people often prove more wicked than beasts.&quot;\r\n  &quot;last_air_date&quot;: &quot;2019-12-20&quot;,\r\n  ...\r\n}\r\n```\r\n\r\nWhich works great. But now I am doing another call returning a list of `SerieDetails` with a given query and it returns the result under the `result` array :\r\n```json\r\n{\r\n  &quot;page&quot;: 1,\r\n  &quot;results&quot;: [\r\n      {\r\n        &quot;id&quot;: 71912,\r\n        &quot;name&quot;: &quot;The Witcher&quot;,\r\n        &quot;overview&quot;: &quot;Geralt of Rivia, a mutated monster-hunter for hire, journeys toward his destiny in a turbulent world where people often prove more wicked than beasts.&quot;\r\n        &quot;first_air_date&quot;: &quot;2019-12-20&quot;,\r\n        ...\r\n      },\r\n      {\r\n        &quot;id&quot;: 106541,\r\n        &quot;name&quot;: &quot;The Witcher: Blood Origin&quot;,\r\n        &quot;overview&quot;: &quot;Set in an elven world 1200 years before the world of The Witcher, the show charts the origins of the very first Witcher, and the events that lead to the pivotal ‚Äúconjunction of the spheres,‚Äù when the worlds of monsters, men, and elves merged to become one.&quot;,\r\n        &quot;first_air_date&quot;: &quot;2002-09-22&quot;,\r\n        ...\r\n      }\r\n  ]\r\n}\r\n```\r\n\r\nAnd I don&#39;t know how to get to it with WebClient.\r\nI tried this so far :\r\n```java\r\npublic List&lt;SerieDetails&gt; findByQuery(String query) {\r\n        return this.webClient\r\n                .get()\r\n                .uri(&quot;/search/tv?api_key={apiKey}&amp;language={lang}&amp;query={query}&quot;, this.apiKey, this.lang, query)\r\n                .retrieve()\r\n                .bodyToFlux(SerieDetails.class)\r\n                .log()\r\n                .collect(Collectors.toList())\r\n                .block();\r\n}\r\n```\r\n\r\nBut it doesn&#39;t work.\r\n","title":"Spring WebClient retrieve json object wrapped under results property","body":"<p>I am currently working on a Spring Boot application wrapping an external REST API into my own GraphQL API.</p>\n<p>So far, I've did this method returning a <code>SerieDetails</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SerieDetails findOrThrow(long id) throws RuntimeException {\n        try {\n            return this.webClient\n                    .get()\n                    .uri(&quot;/tv/{id}?api_key={apiKey}&amp;language={lang}&quot;, id, this.apiKey, this.lang)\n                    .retrieve()\n                    .bodyToMono(SerieDetails.class)\n                    .log()\n                    .block();\n        } catch(Exception e ) {\n            throw new RuntimeException(&quot;Can't reach the API&quot;);\n        }\n}\n</code></pre>\n<p>Turning this JSON into my own object :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: 71912,\n  &quot;name&quot;: &quot;The Witcher&quot;,\n  &quot;overview&quot;: &quot;Geralt of Rivia, a mutated monster-hunter for hire, journeys toward his destiny in a turbulent world where people often prove more wicked than beasts.&quot;\n  &quot;last_air_date&quot;: &quot;2019-12-20&quot;,\n  ...\n}\n</code></pre>\n<p>Which works great. But now I am doing another call returning a list of <code>SerieDetails</code> with a given query and it returns the result under the <code>result</code> array :</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;page&quot;: 1,\n  &quot;results&quot;: [\n      {\n        &quot;id&quot;: 71912,\n        &quot;name&quot;: &quot;The Witcher&quot;,\n        &quot;overview&quot;: &quot;Geralt of Rivia, a mutated monster-hunter for hire, journeys toward his destiny in a turbulent world where people often prove more wicked than beasts.&quot;\n        &quot;first_air_date&quot;: &quot;2019-12-20&quot;,\n        ...\n      },\n      {\n        &quot;id&quot;: 106541,\n        &quot;name&quot;: &quot;The Witcher: Blood Origin&quot;,\n        &quot;overview&quot;: &quot;Set in an elven world 1200 years before the world of The Witcher, the show charts the origins of the very first Witcher, and the events that lead to the pivotal ‚Äúconjunction of the spheres,‚Äù when the worlds of monsters, men, and elves merged to become one.&quot;,\n        &quot;first_air_date&quot;: &quot;2002-09-22&quot;,\n        ...\n      }\n  ]\n}\n</code></pre>\n<p>And I don't know how to get to it with WebClient.\nI tried this so far :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;SerieDetails&gt; findByQuery(String query) {\n        return this.webClient\n                .get()\n                .uri(&quot;/search/tv?api_key={apiKey}&amp;language={lang}&amp;query={query}&quot;, this.apiKey, this.lang, query)\n                .retrieve()\n                .bodyToFlux(SerieDetails.class)\n                .log()\n                .collect(Collectors.toList())\n                .block();\n}\n</code></pre>\n<p>But it doesn't work.</p>\n"},{"tags":["java","automation","testng","rest-assured","web-api-testing"],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664110392,"creation_date":1664110392,"answer_id":73844636,"question_id":73841673,"body_markdown":"You don&#39;t need to reuse @Test to validate every response. `ResponseSpecification` can be used to combine common checkings. For example:\r\n\r\n```\r\nResponseSpecification resSpec = new ResponseSpecBuilder()\r\n        .expectStatusCode(200)\r\n        .expectContentType(&quot;application/json&quot;)\r\n        .build();\r\n\r\nResponse res = given().get(&quot;https://postman-echo.com/get?foo=bar&quot;);\r\nres.then().spec(resSpec);\r\n```","title":"TestNG/RestAssured : Is there any way we can reuse @Test methods in different classes?","body":"<p>You don't need to reuse @Test to validate every response. <code>ResponseSpecification</code> can be used to combine common checkings. For example:</p>\n<pre><code>ResponseSpecification resSpec = new ResponseSpecBuilder()\n        .expectStatusCode(200)\n        .expectContentType(&quot;application/json&quot;)\n        .build();\n\nResponse res = given().get(&quot;https://postman-echo.com/get?foo=bar&quot;);\nres.then().spec(resSpec);\n</code></pre>\n"}],"owner":{"account_id":3712684,"reputation":41,"user_id":3089570,"display_name":"user3089570"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664551572,"creation_date":1664072300,"question_id":73841673,"body_markdown":"I am a newbie to automation. I am using Rest-Assured. And I want to validate response for every request like for example checking if response is null or status code, status line, content-type etc .\r\nIs there any way I can reuse those @Test methods written for validation??\r\n","title":"TestNG/RestAssured : Is there any way we can reuse @Test methods in different classes?","body":"<p>I am a newbie to automation. I am using Rest-Assured. And I want to validate response for every request like for example checking if response is null or status code, status line, content-type etc .\nIs there any way I can reuse those @Test methods written for validation??</p>\n"},{"tags":["java","windows","netbeans"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1442557358,"post_id":32645046,"comment_id":53138014,"body_markdown":"I don&#39;t think I&#39;d try to use a divide and conquer algorithm here - just a linear scan of all stalls, keeping track of the longest sequence of empty stalls, should be fine.","body":"I don&#39;t think I&#39;d try to use a divide and conquer algorithm here - just a linear scan of all stalls, keeping track of the longest sequence of empty stalls, should be fine."},{"owner":{"account_id":2455753,"reputation":380,"user_id":2141030,"display_name":"DontThinkJustGo"},"score":0,"creation_date":1581372088,"post_id":32645046,"comment_id":106403727,"body_markdown":"A little late to the game for this, but it seems that the algorithm should prioritize next to the walls before placing next to a person.","body":"A little late to the game for this, but it seems that the algorithm should prioritize next to the walls before placing next to a person."}],"answers":[{"comments":[{"owner":{"account_id":6973774,"reputation":41,"user_id":5349153,"display_name":"Sorosis Jones"},"score":0,"creation_date":1442602714,"post_id":32645756,"comment_id":53164766,"body_markdown":"Although this was extremely efficient in solving the problem at hand, I am, unfortunately, forced to use a boolean array for this problem, as I am only a couple of weeks into the class &amp; have not gotten much farther than the topics of arrays and array lists. Is there any way this can be done using the divide and conquer method?","body":"Although this was extremely efficient in solving the problem at hand, I am, unfortunately, forced to use a boolean array for this problem, as I am only a couple of weeks into the class &amp; have not gotten much farther than the topics of arrays and array lists. Is there any way this can be done using the divide and conquer method?"},{"owner":{"account_id":12827072,"reputation":2049,"user_id":9279682,"display_name":"Viraj Singh"},"score":0,"creation_date":1565461305,"post_id":32645756,"comment_id":101365323,"body_markdown":"instead of maxDist = bs.nextSetBit(0) in nextStall method you can set maxDist = 0;  Because nestSetBit(0) will always output 0 as in the main method bs is set to 0.","body":"instead of maxDist = bs.nextSetBit(0) in nextStall method you can set maxDist = 0;  Because nestSetBit(0) will always output 0 as in the main method bs is set to 0."}],"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1442559503,"creation_date":1442559503,"answer_id":32645756,"question_id":32645046,"body_markdown":"Seems to me that using `BitSet` it&#39;s simpler than `boolean[]` array as `BitSet` has the predefined method `nextSetBit` which returns (as its name says) next set bit. I think, the divide-and-conquer strategy is unnecessary for your task. The problem can be solved like this:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint numStalls = 10; // get it from user input if you like\r\n\t\tBitSet bs = new BitSet();\r\n        // set the leftmost and the rightmost bits (which represent walls)\r\n\t\tbs.set(0);\r\n\t\tbs.set(numStalls+1);\r\n        // now we have 10 bits gap, which represent stalls\r\n        // like this: X__________X\r\n\t\tfor(int i=0; i&lt;numStalls; i++) {\r\n\t\t\tbs.set(nextStall(bs));\r\n\t\t\tprintStalls(bs);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static int nextStall(BitSet bs) {\r\n\t\tint bestPos = 0, maxDist = bs.nextSetBit(0);\r\n        // iterate over the set bits\r\n\t\tfor(int pos = maxDist; pos != -1; pos = bs.nextSetBit(pos+1)) {\r\n\t\t\tint dist = bs.nextSetBit(pos+1) - pos;\r\n            // track the position of the stall with biggest gap on the right\r\n\t\t\tif(dist &gt; maxDist) {\r\n\t\t\t\tmaxDist = dist;\r\n\t\t\t\tbestPos = pos;\r\n\t\t\t}\r\n\t\t}\r\n        // return the position on the middle of the best gap\r\n\t\treturn bestPos+maxDist/2;\r\n\t}\r\n\t\r\n\tpublic static void printStalls(BitSet bs) {\r\n\t\tStringBuilder sb = new StringBuilder();\r\n        // Iterate over all the bit positions except the walls\r\n        // walls have positions 0 and bs.length()\r\n\t\tfor(int i=1; i&lt;bs.length()-1; i++) {\r\n\t\t\tsb.append(bs.get(i) ? &quot;X&quot; : &quot;_&quot;);\r\n\t\t}\r\n\t\tSystem.out.println(sb);\r\n\t}\r\n\r\nIf Java-8 is allowed, the solution can be even shorter:\r\n\r\n\tpublic static int nextStall(BitSet bs) {\r\n        // Find the position of the stall (or wall)\r\n        // For which the next stall/wall is the most distant\r\n        // bs.stream() returns stream of positions of the set bits\r\n\t\tint pos = bs.stream().boxed()\r\n                    .max(Comparator.comparingInt(v -&gt; bs.nextSetBit(v+1) - v)).get();\r\n        // Return the middle position in the gap\r\n\t\treturn (pos+bs.nextSetBit(pos+1))/2;\r\n\t}\r\n\r\n\tpublic static void printStalls(BitSet bs) {\r\n        // Iterate over all the bit positions except the walls\r\n        // walls have positions 0 and bs.length()\r\n\t\tSystem.out.println(IntStream.range(1, bs.length() - 1)\r\n\t\t\t\t.mapToObj(idx -&gt; bs.get(idx) ? &quot;X&quot; : &quot;_&quot;).collect(Collectors.joining()));\r\n\t}\r\n","title":"Urinal Algorithm - A Simple Optimization","body":"<p>Seems to me that using <code>BitSet</code> it's simpler than <code>boolean[]</code> array as <code>BitSet</code> has the predefined method <code>nextSetBit</code> which returns (as its name says) next set bit. I think, the divide-and-conquer strategy is unnecessary for your task. The problem can be solved like this:</p>\n\n<pre><code>public static void main(String[] args) {\n    int numStalls = 10; // get it from user input if you like\n    BitSet bs = new BitSet();\n    // set the leftmost and the rightmost bits (which represent walls)\n    bs.set(0);\n    bs.set(numStalls+1);\n    // now we have 10 bits gap, which represent stalls\n    // like this: X__________X\n    for(int i=0; i&lt;numStalls; i++) {\n        bs.set(nextStall(bs));\n        printStalls(bs);\n    }\n}\n\npublic static int nextStall(BitSet bs) {\n    int bestPos = 0, maxDist = bs.nextSetBit(0);\n    // iterate over the set bits\n    for(int pos = maxDist; pos != -1; pos = bs.nextSetBit(pos+1)) {\n        int dist = bs.nextSetBit(pos+1) - pos;\n        // track the position of the stall with biggest gap on the right\n        if(dist &gt; maxDist) {\n            maxDist = dist;\n            bestPos = pos;\n        }\n    }\n    // return the position on the middle of the best gap\n    return bestPos+maxDist/2;\n}\n\npublic static void printStalls(BitSet bs) {\n    StringBuilder sb = new StringBuilder();\n    // Iterate over all the bit positions except the walls\n    // walls have positions 0 and bs.length()\n    for(int i=1; i&lt;bs.length()-1; i++) {\n        sb.append(bs.get(i) ? \"X\" : \"_\");\n    }\n    System.out.println(sb);\n}\n</code></pre>\n\n<p>If Java-8 is allowed, the solution can be even shorter:</p>\n\n<pre><code>public static int nextStall(BitSet bs) {\n    // Find the position of the stall (or wall)\n    // For which the next stall/wall is the most distant\n    // bs.stream() returns stream of positions of the set bits\n    int pos = bs.stream().boxed()\n                .max(Comparator.comparingInt(v -&gt; bs.nextSetBit(v+1) - v)).get();\n    // Return the middle position in the gap\n    return (pos+bs.nextSetBit(pos+1))/2;\n}\n\npublic static void printStalls(BitSet bs) {\n    // Iterate over all the bit positions except the walls\n    // walls have positions 0 and bs.length()\n    System.out.println(IntStream.range(1, bs.length() - 1)\n            .mapToObj(idx -&gt; bs.get(idx) ? \"X\" : \"_\").collect(Collectors.joining()));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13978015,"reputation":1134,"user_id":10095817,"display_name":"RalfFriedl"},"score":0,"creation_date":1563514849,"post_id":57105925,"comment_id":100732427,"body_markdown":"The this level of (missing) detail I don&#39;t think this is useful for the OP.","body":"The this level of (missing) detail I don&#39;t think this is useful for the OP."}],"tags":[],"owner":{"account_id":16346812,"reputation":1,"user_id":11806345,"display_name":"Robin Thakur"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568907213,"creation_date":1563513387,"answer_id":57105925,"question_id":32645046,"body_markdown":"This seems similar to level order traversal of a binary tree i.e at each level you divide the problem further into 2 sub problems. So use a queue to implement the same.\r\n\r\nSo what I mean by that is say initially you have l=0,r=n-1 where n is the size of input or number of urinals.\r\n\r\nThen what you do is take mid = (l+r)/2 and place a person there,and then push (l,mid-1) and (mid+1,r) in the queue.\r\n\r\nRepeat this process till the required urinals have been filled.","title":"Urinal Algorithm - A Simple Optimization","body":"<p>This seems similar to level order traversal of a binary tree i.e at each level you divide the problem further into 2 sub problems. So use a queue to implement the same.</p>\n\n<p>So what I mean by that is say initially you have l=0,r=n-1 where n is the size of input or number of urinals.</p>\n\n<p>Then what you do is take mid = (l+r)/2 and place a person there,and then push (l,mid-1) and (mid+1,r) in the queue.</p>\n\n<p>Repeat this process till the required urinals have been filled.</p>\n"},{"tags":[],"owner":{"account_id":10728640,"reputation":1,"user_id":7895400,"display_name":"Karan Kanojia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565858446,"creation_date":1565858446,"answer_id":57507043,"question_id":32645046,"body_markdown":"This should work I guess. \r\n\r\n    import java.util.*;\r\n\r\n    public class hinata {\r\n    static Scanner scan = new Scanner(System.in);\r\n    public static void main(String[] args){\r\n        bfs(5,10);\r\n    }\r\n    static class node{int left, right,level; node(int left, int right, int level){this.left=left;this.right=right;this.level=level;}}\r\n    public static void bfs(int lev, int n){\r\n        LinkedList&lt;node&gt; queue = new LinkedList&lt;&gt;(); boolean[] arr = new boolean[n];\r\n        queue.addLast(new node(0,n-1,lev));\r\n        int e = lev;\r\n        while(!queue.isEmpty()){\r\n            node curr = queue.removeLast();\r\n            int l = curr.left, r = curr.right;\r\n            if(e &lt;= 0){break;}\r\n            else{\r\n                int mid = (l+r)&gt;&gt;1; arr[mid] = true;\r\n                System.out.print(e+&quot; : &quot;);print(arr);\r\n                --e;\r\n                if(mid+1 &lt;=r){\r\n                    queue.addFirst(new node(mid+1,r,e));\r\n                }\r\n\r\n                if(l &lt;=mid-1){\r\n                    queue.addFirst(new node(l, mid-1,e));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    static void print(boolean[] arr){\r\n        for(boolean i : arr){\r\n            if(!i){System.out.print(&#39;_&#39;);}\r\n            else{System.out.print(&#39;X&#39;);}\r\n        }System.out.println();\r\n    }\r\n\r\n    }\r\n","title":"Urinal Algorithm - A Simple Optimization","body":"<p>This should work I guess. </p>\n\n<pre><code>import java.util.*;\n\npublic class hinata {\nstatic Scanner scan = new Scanner(System.in);\npublic static void main(String[] args){\n    bfs(5,10);\n}\nstatic class node{int left, right,level; node(int left, int right, int level){this.left=left;this.right=right;this.level=level;}}\npublic static void bfs(int lev, int n){\n    LinkedList&lt;node&gt; queue = new LinkedList&lt;&gt;(); boolean[] arr = new boolean[n];\n    queue.addLast(new node(0,n-1,lev));\n    int e = lev;\n    while(!queue.isEmpty()){\n        node curr = queue.removeLast();\n        int l = curr.left, r = curr.right;\n        if(e &lt;= 0){break;}\n        else{\n            int mid = (l+r)&gt;&gt;1; arr[mid] = true;\n            System.out.print(e+\" : \");print(arr);\n            --e;\n            if(mid+1 &lt;=r){\n                queue.addFirst(new node(mid+1,r,e));\n            }\n\n            if(l &lt;=mid-1){\n                queue.addFirst(new node(l, mid-1,e));\n            }\n        }\n    }\n}\n\nstatic void print(boolean[] arr){\n    for(boolean i : arr){\n        if(!i){System.out.print('_');}\n        else{System.out.print('X');}\n    }System.out.println();\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18250880,"reputation":21,"user_id":13285913,"display_name":"AJITH KUMAR PANJA"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589042007,"creation_date":1589042007,"answer_id":61700173,"question_id":32645046,"body_markdown":"C++ solution for this problem using Priority Queue\r\n    \r\n    #include&lt;iostream&gt;\r\n    #include&lt;bits/stdc++.h&gt;\r\n    using namespace std;\r\n    struct s\r\n    {\r\n        int distance;\r\n        int start;\r\n        int ending;\r\n    };\r\n    struct fn\r\n    {\r\n        bool operator()(s const&amp;a,s const &amp;b)\r\n        {\r\n            if(a.distance!=b.distance)\r\n            {\r\n                return a.distance&lt;b.distance;\r\n            }\r\n            return a.start&lt;b.start;\r\n        }\r\n    };\r\n    int main()\r\n    {\r\n        int n;\r\n        cin &gt;&gt; n;\r\n        int mat[n] = {0};\r\n        priority_queue&lt;s,vector&lt;s&gt;,fn&gt; q;\r\n        struct s temp;\r\n        int l=1,r=n,coun=1;\r\n        q.push({n,l,r});\r\n        while(!q.empty())\r\n        {\r\n            temp = q.top();\r\n            q.pop();\r\n            int left = temp.start;\r\n            int right = temp.ending;\r\n            int mid = (left+right)/2;\r\n            if(temp.distance&gt;0)\r\n            {\r\n                if(right&gt;mid)\r\n                {\r\n                    q.push({right-mid,mid+1,right}); // first push right child then left\r\n                }\r\n                if(left&lt;mid)\r\n                {\r\n                    q.push({mid-left,left,mid-1});\r\n                }\r\n            }\r\n            mat[mid-1] = coun;\r\n            coun++;\r\n            for(int i=0; i&lt;n; i++)\r\n            {\r\n                if(mat[i]==0)\r\n                {\r\n                    cout &lt;&lt; &quot;_&quot; &lt;&lt; &quot; &quot;;\r\n                }\r\n                else\r\n                {\r\n                    cout &lt;&lt; &quot;X&quot; &lt;&lt; &quot; &quot;;\r\n                }\r\n\r\n            }\r\n            cout &lt;&lt; endl;\r\n        }\r\n\r\n    }\r\n","title":"Urinal Algorithm - A Simple Optimization","body":"<p>C++ solution for this problem using Priority Queue</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nstruct s\n{\n    int distance;\n    int start;\n    int ending;\n};\nstruct fn\n{\n    bool operator()(s const&amp;a,s const &amp;b)\n    {\n        if(a.distance!=b.distance)\n        {\n            return a.distance&lt;b.distance;\n        }\n        return a.start&lt;b.start;\n    }\n};\nint main()\n{\n    int n;\n    cin &gt;&gt; n;\n    int mat[n] = {0};\n    priority_queue&lt;s,vector&lt;s&gt;,fn&gt; q;\n    struct s temp;\n    int l=1,r=n,coun=1;\n    q.push({n,l,r});\n    while(!q.empty())\n    {\n        temp = q.top();\n        q.pop();\n        int left = temp.start;\n        int right = temp.ending;\n        int mid = (left+right)/2;\n        if(temp.distance&gt;0)\n        {\n            if(right&gt;mid)\n            {\n                q.push({right-mid,mid+1,right}); // first push right child then left\n            }\n            if(left&lt;mid)\n            {\n                q.push({mid-left,left,mid-1});\n            }\n        }\n        mat[mid-1] = coun;\n        coun++;\n        for(int i=0; i&lt;n; i++)\n        {\n            if(mat[i]==0)\n            {\n                cout &lt;&lt; \"_\" &lt;&lt; \" \";\n            }\n            else\n            {\n                cout &lt;&lt; \"X\" &lt;&lt; \" \";\n            }\n\n        }\n        cout &lt;&lt; endl;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25737649,"reputation":1,"user_id":19492117,"display_name":"Sangini Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664550982,"creation_date":1664550919,"answer_id":73910819,"question_id":32645046,"body_markdown":"Here is the C++ code for the same!\r\n```\r\n#include &lt;iostream&gt;\r\n#include&lt;bits/stdc++.h&gt;\r\nusing namespace std;\r\n\r\nint main() {\r\n\tint n;\r\n\tcin&gt;&gt;n;\r\n\tstring s=&quot;&quot;;\r\n\tfor(int i=0; i&lt;n; i++){\r\n\t    s+=&quot;_&quot;;\r\n\t}\r\n\t\r\n\tpriority_queue&lt;pair&lt;int, int&gt;&gt; pq;\r\n\tpq.push({n,0});\r\n\tfor( int i=0; i&lt;n; i++){\r\n\t    pair&lt;int, int&gt; front= pq.top();\r\n\t    pq.pop();\r\n\t    int indx= (front.first-1)/2+ front.second;\r\n\t    s[indx]= &#39;X&#39;;\r\n\t    cout&lt;&lt;s&lt;&lt;endl;\r\n\t    pq.push({indx- front.second, front.second});\r\n\t    pq.push({front.first/2, indx+1});\r\n\t}\r\n\treturn 0;\r\n\t\r\n}\r\n```","title":"Urinal Algorithm - A Simple Optimization","body":"<p>Here is the C++ code for the same!</p>\n<pre><code>#include &lt;iostream&gt;\n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\n\nint main() {\n    int n;\n    cin&gt;&gt;n;\n    string s=&quot;&quot;;\n    for(int i=0; i&lt;n; i++){\n        s+=&quot;_&quot;;\n    }\n    \n    priority_queue&lt;pair&lt;int, int&gt;&gt; pq;\n    pq.push({n,0});\n    for( int i=0; i&lt;n; i++){\n        pair&lt;int, int&gt; front= pq.top();\n        pq.pop();\n        int indx= (front.first-1)/2+ front.second;\n        s[indx]= 'X';\n        cout&lt;&lt;s&lt;&lt;endl;\n        pq.push({indx- front.second, front.second});\n        pq.push({front.first/2, indx+1});\n    }\n    return 0;\n    \n}\n</code></pre>\n"}],"owner":{"account_id":6973774,"reputation":41,"user_id":5349153,"display_name":"Sorosis Jones"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8723,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1664550982,"creation_date":1442556932,"question_id":32645046,"body_markdown":"I am a Programming II student and a first time poster first time poster. What could quite possibly be a very simple problem has boggled my mind for too long.\r\n\r\n*Problem #3.\r\nIt is a well-researched fact that men in a restroom generally prefer to maximize their distance from already occupied stalls, by occupying the middle of the longest sequence of unoccupied places. For example, consider the situation where ten stalls are empty.\r\n_ _ _ _ _ _ _ _ _ _\r\nThe first visitor will occupy a middle position:\r\n\r\n_ _ _ _ _ X _ _ _ _\r\n\r\nThe next visitor will be in the middle of the empty area at the left.\r\n\r\n_ _ X _ _ X _ _ _ _\r\n\r\nWrite a program in Java that reads the number of stalls and then prints out diagrams in the format given above when the stalls become filled, one at a time. Hint: Use an array of boolean values to indicate whether a stall is occupied.\r\n\r\n    public class MenStall\r\n    {\r\n    public static int nextStall(boolean[] stalls) { . . . }\r\n    public static void printStalls(boolean[] stalls) {. . . }\r\n    . . .\r\n    }\r\n\r\nExample of the output for the number of stalls = 10\r\n\r\n_ _ _ _ X _ _ _ _ _\r\n\r\n_ _ _ _ X _ _ X _ _\r\n\r\n_ X _ _ X _ _ X _ _\r\n\r\n_ X _ _ X _ _ X X _\r\n\r\n_ X _ _ X X _ X X _\r\n\r\n_ X X _ X X _ X X _\r\n\r\n_ X X _ X X _ X X X\r\n\r\n_ X X _ X X X X X X\r\n\r\n\r\n_ X X X X X X X X X\r\n\r\nX X X X X X X X X X\r\n\r\n\r\nI assumed that the simplest way (with the little knowledge of programming that has been imparted to us this semester) to do this would be by declaring the end of the array and the start of the array as variables, and finding the middle by subtracting the start from the end and dividing by two. Unfortunately, beyond that I am stuck. I am not well versed in coding terminology, so for that I apologize. I suppose it would be simpler to show my attempt at tackling this issue:\r\n\r\n\r\n    public class MenStall\r\n\r\n    {\r\n\r\n    public static int position = 0;\r\n    public static int nextStall = 0;\r\n    public static boolean[] stalls = new boolean[10];\r\n    public static final int TRUE_END = stalls.length;\r\n    public static final int TRUE_START = 0;\r\n    public static int start = TRUE_START;\r\n    public static int end = TRUE_END;\r\n    public static final int TRUE_MID = (TRUE_END - TRUE_START) / 2;\r\n    public static int mid = TRUE_MID;\r\n    \r\n    public static int nextStall(boolean[] stalls) \r\n    {  \r\n        if (position == 0)\r\n        {\r\n            nextStall = mid;\r\n        }\r\n        else\r\n        {\r\n            if (position % 2 == 1)\r\n            {\r\n                end = mid;\r\n                mid = (end - start) / 2;\r\n                nextStall = mid;\r\n            }\r\n            \r\n            else if (position % 2 == 0)\r\n            {\r\n                mid = (end - start) / 2 + TRUE_MID;\r\n                nextStall = mid;\r\n                end = mid;\r\n                mid = (TRUE_END - TRUE_START) / (int)Math.pow(2,position);\r\n                \r\n            }\r\n        }\r\n            \r\n        position++;\r\n        return nextStall;\r\n    }\r\n\r\n    public static void printStalls(boolean[] stalls) \r\n    {\r\n        String[] s1 = new String[stalls.length];\r\n        \r\n        while (position &lt; stalls.length)\r\n        {\r\n            nextStall(stalls);\r\n            stalls [nextStall] = true;\r\n            for (int i = 0; i &lt; stalls.length; i++)\r\n            {\r\n                if(stalls[i] == true)\r\n                {\r\n                    s1[i] = &quot;x&quot;;\r\n                }\r\n                else\r\n                {\r\n                    s1[i] = &quot;_&quot;;\r\n                }\r\n            }\r\n        System.out.println(Arrays.toString(s1));\r\n        }     \r\n    }\r\n\r\n    public static void main(String[] args) \r\n    {\r\n        printStalls(stalls);\r\n    }\r\n    \r\n    }\r\n\r\n\r\nToward the very end of the nextStall method, I was pretty much just playing with the numbers from how stuck I was. I certainly gave it my most earnest effort, and even had to ask the professor for an extension, but I cannot for the life of me figure this out. Any guidance would be appreciated. Thank you!","title":"Urinal Algorithm - A Simple Optimization","body":"<p>I am a Programming II student and a first time poster first time poster. What could quite possibly be a very simple problem has boggled my mind for too long.</p>\n\n<p>*Problem #3.\nIt is a well-researched fact that men in a restroom generally prefer to maximize their distance from already occupied stalls, by occupying the middle of the longest sequence of unoccupied places. For example, consider the situation where ten stalls are empty.</p>\n\n<hr>\n\n<p>The first visitor will occupy a middle position:</p>\n\n<p>_ _ _ _ _ X _ _ _ _</p>\n\n<p>The next visitor will be in the middle of the empty area at the left.</p>\n\n<p>_ _ X _ _ X _ _ _ _</p>\n\n<p>Write a program in Java that reads the number of stalls and then prints out diagrams in the format given above when the stalls become filled, one at a time. Hint: Use an array of boolean values to indicate whether a stall is occupied.</p>\n\n<pre><code>public class MenStall\n{\npublic static int nextStall(boolean[] stalls) { . . . }\npublic static void printStalls(boolean[] stalls) {. . . }\n. . .\n}\n</code></pre>\n\n<p>Example of the output for the number of stalls = 10</p>\n\n<p>_ _ _ _ X _ _ _ _ _</p>\n\n<p>_ _ _ _ X _ _ X _ _</p>\n\n<p>_ X _ _ X _ _ X _ _</p>\n\n<p>_ X _ _ X _ _ X X _</p>\n\n<p>_ X _ _ X X _ X X _</p>\n\n<p>_ X X _ X X _ X X _</p>\n\n<p>_ X X _ X X _ X X X</p>\n\n<p>_ X X _ X X X X X X</p>\n\n<p>_ X X X X X X X X X</p>\n\n<p>X X X X X X X X X X</p>\n\n<p>I assumed that the simplest way (with the little knowledge of programming that has been imparted to us this semester) to do this would be by declaring the end of the array and the start of the array as variables, and finding the middle by subtracting the start from the end and dividing by two. Unfortunately, beyond that I am stuck. I am not well versed in coding terminology, so for that I apologize. I suppose it would be simpler to show my attempt at tackling this issue:</p>\n\n<pre><code>public class MenStall\n\n{\n\npublic static int position = 0;\npublic static int nextStall = 0;\npublic static boolean[] stalls = new boolean[10];\npublic static final int TRUE_END = stalls.length;\npublic static final int TRUE_START = 0;\npublic static int start = TRUE_START;\npublic static int end = TRUE_END;\npublic static final int TRUE_MID = (TRUE_END - TRUE_START) / 2;\npublic static int mid = TRUE_MID;\n\npublic static int nextStall(boolean[] stalls) \n{  \n    if (position == 0)\n    {\n        nextStall = mid;\n    }\n    else\n    {\n        if (position % 2 == 1)\n        {\n            end = mid;\n            mid = (end - start) / 2;\n            nextStall = mid;\n        }\n\n        else if (position % 2 == 0)\n        {\n            mid = (end - start) / 2 + TRUE_MID;\n            nextStall = mid;\n            end = mid;\n            mid = (TRUE_END - TRUE_START) / (int)Math.pow(2,position);\n\n        }\n    }\n\n    position++;\n    return nextStall;\n}\n\npublic static void printStalls(boolean[] stalls) \n{\n    String[] s1 = new String[stalls.length];\n\n    while (position &lt; stalls.length)\n    {\n        nextStall(stalls);\n        stalls [nextStall] = true;\n        for (int i = 0; i &lt; stalls.length; i++)\n        {\n            if(stalls[i] == true)\n            {\n                s1[i] = \"x\";\n            }\n            else\n            {\n                s1[i] = \"_\";\n            }\n        }\n    System.out.println(Arrays.toString(s1));\n    }     \n}\n\npublic static void main(String[] args) \n{\n    printStalls(stalls);\n}\n\n}\n</code></pre>\n\n<p>Toward the very end of the nextStall method, I was pretty much just playing with the numbers from how stuck I was. I certainly gave it my most earnest effort, and even had to ask the professor for an extension, but I cannot for the life of me figure this out. Any guidance would be appreciated. Thank you!</p>\n"},{"tags":["java","oracle","jdbc","oracle11g","ojdbc"],"answers":[{"tags":[],"owner":{"account_id":5854892,"reputation":3571,"user_id":4612499,"display_name":"Jean de Lavarene"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664550898,"creation_date":1664550898,"answer_id":73910814,"question_id":73908099,"body_markdown":"Prior to 19c, the JDBC-thin driver was using a partial implementation of the conversion table for WE8PC850. Starting in 19c it, more correctly, mandates the full conversion table which is included in orai18n.jar. The same thing applies to other character sets that are binary supersets of US7ASCII.","title":"Non supported character set (add orai18n.jar in your classpath)","body":"<p>Prior to 19c, the JDBC-thin driver was using a partial implementation of the conversion table for WE8PC850. Starting in 19c it, more correctly, mandates the full conversion table which is included in orai18n.jar. The same thing applies to other character sets that are binary supersets of US7ASCII.</p>\n"}],"owner":{"account_id":3399329,"reputation":57,"user_id":2852007,"display_name":"Oscar Nalin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1798,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73910814,"answer_count":1,"score":1,"last_activity_date":1664550898,"creation_date":1664537683,"question_id":73908099,"body_markdown":"I am successfully connecting to a Oracle 11g database using objdc8 version 18.3.0.0. When I try to upgrade ojdbc to version 19.3.0.0 I get the following error:\r\n\r\n    org.hibernate.engine.jdbc.spi.SqlExceptionHelper: Non supported character set (add orai18n.jar in your classpath): WE8PC850\r\n\r\nAdding orai18n to the classpath solves the issue, but I don&#39;t understand why I need it for ojdbc 19.3.0.0 when it worked perfectly fine without it for ojdbc 18.3.0.0. Has there been some non backwards compatible change that now requires it?","title":"Non supported character set (add orai18n.jar in your classpath)","body":"<p>I am successfully connecting to a Oracle 11g database using objdc8 version 18.3.0.0. When I try to upgrade ojdbc to version 19.3.0.0 I get the following error:</p>\n<pre><code>org.hibernate.engine.jdbc.spi.SqlExceptionHelper: Non supported character set (add orai18n.jar in your classpath): WE8PC850\n</code></pre>\n<p>Adding orai18n to the classpath solves the issue, but I don't understand why I need it for ojdbc 19.3.0.0 when it worked perfectly fine without it for ojdbc 18.3.0.0. Has there been some non backwards compatible change that now requires it?</p>\n"},{"tags":["java","apache-flink","flink-streaming"],"answers":[{"comments":[{"owner":{"account_id":26492806,"reputation":3,"user_id":20131003,"display_name":"MarkF"},"score":0,"creation_date":1665147640,"post_id":73910774,"comment_id":130637899,"body_markdown":"I ended up keying the original DataStream by &quot;parent&quot; and then using a combination of a RichFlatMapFunction with a ModelState holding the &quot;latest&quot; message for each child variant and a ValueState for the &quot;latest&quot; weighted averages.\nActually worked well in the end once I got my head around it!","body":"I ended up keying the original DataStream by &quot;parent&quot; and then using a combination of a RichFlatMapFunction with a ModelState holding the &quot;latest&quot; message for each child variant and a ValueState for the &quot;latest&quot; weighted averages. Actually worked well in the end once I got my head around it!"}],"tags":[],"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664550700,"creation_date":1664550700,"answer_id":73910774,"question_id":73909506,"body_markdown":"Using low-level building blocks, you could build a solution with a `KeyedProcessFunction`. You would key the event stream by `parent`, and then use `MapState&lt;String, Event&gt;` to keep track of the latest event for each name.  As events are processed, you can emit updated results. See [the Flink docs](https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/learn-flink/event_driven/#example) for an example of a KeyedProcessFunction that uses MapState.\r\n\r\nIf you want to use event time processing, you&#39;ll have to decide how to handle out-of-order events. Maybe you can ignore events that are out-of-order, or maybe you need to sort the stream first by timestamp.\r\n\r\nWorking at higher level, you could use Flink SQL instead. You could use an OVER window partitioned by the combination of parent and name to keep track of the latest event for each parent/name combination, and then group by parent and compute the weighted average (perhaps with a user-defined aggregate function). See [the Immerok Cookbook](https://www.docs.immerok.cloud/docs/cookbook/serializing-timestamped-data/#the-table-workflow) for an example of how to use OVER windows to get a stream of the latest events for a given key.\r\n\r\nDisclaimer: I work for Immerok (and I wrote that section of the Flink docs).","title":"Apache Flink weighted average based on two keys","body":"<p>Using low-level building blocks, you could build a solution with a <code>KeyedProcessFunction</code>. You would key the event stream by <code>parent</code>, and then use <code>MapState&lt;String, Event&gt;</code> to keep track of the latest event for each name.  As events are processed, you can emit updated results. See <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/learn-flink/event_driven/#example\" rel=\"nofollow noreferrer\">the Flink docs</a> for an example of a KeyedProcessFunction that uses MapState.</p>\n<p>If you want to use event time processing, you'll have to decide how to handle out-of-order events. Maybe you can ignore events that are out-of-order, or maybe you need to sort the stream first by timestamp.</p>\n<p>Working at higher level, you could use Flink SQL instead. You could use an OVER window partitioned by the combination of parent and name to keep track of the latest event for each parent/name combination, and then group by parent and compute the weighted average (perhaps with a user-defined aggregate function). See <a href=\"https://www.docs.immerok.cloud/docs/cookbook/serializing-timestamped-data/#the-table-workflow\" rel=\"nofollow noreferrer\">the Immerok Cookbook</a> for an example of how to use OVER windows to get a stream of the latest events for a given key.</p>\n<p>Disclaimer: I work for Immerok (and I wrote that section of the Flink docs).</p>\n"}],"owner":{"account_id":26492806,"reputation":3,"user_id":20131003,"display_name":"MarkF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73910774,"answer_count":1,"score":0,"last_activity_date":1664550700,"creation_date":1664544431,"question_id":73909506,"body_markdown":"I&#39;m steaming data from a websocket via a Flink job and need to output a rolling weighted average based on the following logic:\r\n\r\nEach message has attibutes &quot;parent&quot;, &quot;name&quot;, &quot;amount&quot;, &quot;value&quot;\r\nGet latest message by &quot;name&quot; and combine with other latest messages for each &quot;parent&quot; to get weighted average based on &quot;amount&quot; and &quot;value&quot;\r\n\r\n1. parent = &quot;a&quot;; name = &quot;m&quot;; amount=100; value=12.45\r\n2. parent = &quot;a&quot;; name = &quot;n&quot;; amount=40; value=14.55\r\n3. parent = &quot;a&quot;; name = &quot;m&quot;; amount=100; value=17.45\r\n4. parent = &quot;a&quot;; name = &quot;o&quot;; amount=24; value=13.25\r\n5. parent = &quot;a&quot;; name = &quot;n&quot;; amount=40; value=12.55\r\n\r\nMsgs 3, 4 and 5 are the respective latest messages by parent:name so these messages whould be used to get the current weighted average for &quot;a&quot;.\r\nAt any point in time, it is not known how many children a parent has.\r\nThe logic for a weighted average is fine. It is more how to key, get latest, aggregate, average, keep state, etc. in Flink.\r\n\r\nI&#39;ve looked at RichFlatMapFunction, AggregateFunction but proving difficult to piece them together.\r\n\r\nAny help or ideas appreciated.\r\n","title":"Apache Flink weighted average based on two keys","body":"<p>I'm steaming data from a websocket via a Flink job and need to output a rolling weighted average based on the following logic:</p>\n<p>Each message has attibutes &quot;parent&quot;, &quot;name&quot;, &quot;amount&quot;, &quot;value&quot;\nGet latest message by &quot;name&quot; and combine with other latest messages for each &quot;parent&quot; to get weighted average based on &quot;amount&quot; and &quot;value&quot;</p>\n<ol>\n<li>parent = &quot;a&quot;; name = &quot;m&quot;; amount=100; value=12.45</li>\n<li>parent = &quot;a&quot;; name = &quot;n&quot;; amount=40; value=14.55</li>\n<li>parent = &quot;a&quot;; name = &quot;m&quot;; amount=100; value=17.45</li>\n<li>parent = &quot;a&quot;; name = &quot;o&quot;; amount=24; value=13.25</li>\n<li>parent = &quot;a&quot;; name = &quot;n&quot;; amount=40; value=12.55</li>\n</ol>\n<p>Msgs 3, 4 and 5 are the respective latest messages by parent:name so these messages whould be used to get the current weighted average for &quot;a&quot;.\nAt any point in time, it is not known how many children a parent has.\nThe logic for a weighted average is fine. It is more how to key, get latest, aggregate, average, keep state, etc. in Flink.</p>\n<p>I've looked at RichFlatMapFunction, AggregateFunction but proving difficult to piece them together.</p>\n<p>Any help or ideas appreciated.</p>\n"},{"tags":["java","processing","noclassdeffounderror","renderer"],"comments":[{"owner":{"account_id":13597048,"reputation":3428,"user_id":9808792,"display_name":"micycle"},"score":0,"creation_date":1664446151,"post_id":73841856,"comment_id":130475729,"body_markdown":"I&#39;d recommend using this Processing (4) maven distribution, which automatically includes all renderers (gl and javafx): https://github.com/micycle1/processing-core-4","body":"I&#39;d recommend using this Processing (4) maven distribution, which automatically includes all renderers (gl and javafx): <a href=\"https://github.com/micycle1/processing-core-4\" rel=\"nofollow noreferrer\">github.com/micycle1/processing-core-4</a>"},{"owner":{"account_id":26418564,"reputation":41,"user_id":20066551,"display_name":"CompilerStuck"},"score":0,"creation_date":1664548247,"post_id":73841856,"comment_id":130503908,"body_markdown":"I just found that github repo 2 days ago and used it! Its great, thanks","body":"I just found that github repo 2 days ago and used it! Its great, thanks"}],"answers":[{"tags":[],"owner":{"account_id":26418564,"reputation":41,"user_id":20066551,"display_name":"CompilerStuck"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664081745,"creation_date":1664081745,"answer_id":73842132,"question_id":73841856,"body_markdown":"Adding following dependencies to the pom.xml solved it:\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jogamp.jogl&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jogl-all&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jogamp.gluegen&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gluegen-rt-main&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.2&lt;/version&gt;\r\n            &lt;/dependency&gt;","title":"How to use P2D, P3D, FX2D with plain Java?","body":"<p>Adding following dependencies to the pom.xml solved it:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.jogamp.jogl&lt;/groupId&gt;\n            &lt;artifactId&gt;jogl-all&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jogamp.gluegen&lt;/groupId&gt;\n            &lt;artifactId&gt;gluegen-rt-main&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664966660,"post_id":73910707,"comment_id":130587891,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73910707/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26418564,"reputation":41,"user_id":20066551,"display_name":"CompilerStuck"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664550364,"creation_date":1664550364,"answer_id":73910707,"question_id":73841856,"body_markdown":"An even better solution to this problem would be to just use the newer processing4.\r\nMicycle1 made the processing4-core usable with maven via JitPack: https://github.com/micycle1/processing-core-4","title":"How to use P2D, P3D, FX2D with plain Java?","body":"<p>An even better solution to this problem would be to just use the newer processing4.\nMicycle1 made the processing4-core usable with maven via JitPack: <a href=\"https://github.com/micycle1/processing-core-4\" rel=\"nofollow noreferrer\">https://github.com/micycle1/processing-core-4</a></p>\n"}],"owner":{"account_id":26418564,"reputation":41,"user_id":20066551,"display_name":"CompilerStuck"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73910707,"answer_count":2,"score":2,"last_activity_date":1664550364,"creation_date":1664075971,"question_id":73841856,"body_markdown":"I have only worked with [Processing&#39;s][1] standard renderer until now. I got a java project where i am working with processing included via maven.\r\nSince other [renderers][2] might be faster, i wanted to try using another for my current project, but any other renderer fails for me (P2D, P3D, FX2D). Only the default, Java2D works.\r\n\r\nSeemed weird to me, so i started another project with nothing in it, just creating an empty frame. I first tried running it in the Processing.exe as a sketch, and it worked:\r\n\r\nThe Sketch code:\r\n\r\n\r\n    void setup()\r\n    {\r\n      size(500, 200, P3D);\r\n    }\r\n    \r\n    void draw()\r\n    {\r\n    }\r\n\r\n\r\nI then rewrote it into plain java:\r\n\r\n\r\n    import processing.core.PApplet;\r\n    \r\n    public class Test extends PApplet\r\n    {\r\n    \r\n            public void setup() {\r\n            }\r\n    \r\n            public void draw() {\r\n            }\r\n    \r\n            public void settings() {\r\n                    this.size(500, 200, P3D);\r\n            }\r\n    \r\n            public static void main(final String[] passedArgs) {\r\n                    final String[] appletArgs = { &quot;Test&quot; };\r\n                    if (passedArgs != null) {\r\n                            PApplet.main(concat(appletArgs, passedArgs));\r\n                    }\r\n                    else {\r\n                            PApplet.main(appletArgs);\r\n                    }\r\n            }\r\n    }\r\n\r\n\r\nNo matter what i tried so far, i keep running into the following exeption:\r\n\r\n\r\n    java.lang.NoClassDefFoundError: com/jogamp/opengl/GLException\r\n    \tat processing.opengl.PGraphicsOpenGL.createPGL(PGraphicsOpenGL.java:712)\r\n    \tat processing.opengl.PGraphicsOpenGL.&lt;init&gt;(PGraphicsOpenGL.java:569)\r\n    \tat processing.opengl.PGraphics3D.&lt;init&gt;(PGraphics3D.java:35)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n    \tat processing.core.PApplet.makeGraphics(PApplet.java:2235)\r\n    \tat processing.core.PApplet.createPrimaryGraphics(PApplet.java:2314)\r\n    \tat processing.core.PApplet.initSurface(PApplet.java:10828)\r\n    \tat processing.core.PApplet.runSketch(PApplet.java:10767)\r\n    \tat processing.core.PApplet.main(PApplet.java:10467)\r\n    \tat Test.main(Test.java:19)\r\n    Caused by: java.lang.ClassNotFoundException: com.jogamp.opengl.GLException\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 14 more\r\n    java.lang.RuntimeException: com/jogamp/opengl/GLException\r\n    \tat processing.core.PApplet.makeGraphics(PApplet.java:2268)\r\n    \tat processing.core.PApplet.createPrimaryGraphics(PApplet.java:2314)\r\n    \tat processing.core.PApplet.initSurface(PApplet.java:10828)\r\n    \tat processing.core.PApplet.runSketch(PApplet.java:10767)\r\n    \tat processing.core.PApplet.main(PApplet.java:10467)\r\n    \tat Test.main(Test.java:19)\r\n\r\n\r\nI am working with Java 17, and already tried to run with Java 8 as i read this might work, but.. it didnt.\r\nIs it not possible to run those P2D, P3D, FX2D sketches outside of the processing.exe?\r\n\r\n\r\n  [1]: https://processing.org/\r\n  [2]: https://processing.org/tutorials/rendering#:~:text=produce%20small%20editions.-,Processing,-has%20three%20primary","title":"How to use P2D, P3D, FX2D with plain Java?","body":"<p>I have only worked with <a href=\"https://processing.org/\" rel=\"nofollow noreferrer\">Processing's</a> standard renderer until now. I got a java project where i am working with processing included via maven.\nSince other <a href=\"https://processing.org/tutorials/rendering#:%7E:text=produce%20small%20editions.-,Processing,-has%20three%20primary\" rel=\"nofollow noreferrer\">renderers</a> might be faster, i wanted to try using another for my current project, but any other renderer fails for me (P2D, P3D, FX2D). Only the default, Java2D works.</p>\n<p>Seemed weird to me, so i started another project with nothing in it, just creating an empty frame. I first tried running it in the Processing.exe as a sketch, and it worked:</p>\n<p>The Sketch code:</p>\n<pre><code>void setup()\n{\n  size(500, 200, P3D);\n}\n\nvoid draw()\n{\n}\n</code></pre>\n<p>I then rewrote it into plain java:</p>\n<pre><code>import processing.core.PApplet;\n\npublic class Test extends PApplet\n{\n\n        public void setup() {\n        }\n\n        public void draw() {\n        }\n\n        public void settings() {\n                this.size(500, 200, P3D);\n        }\n\n        public static void main(final String[] passedArgs) {\n                final String[] appletArgs = { &quot;Test&quot; };\n                if (passedArgs != null) {\n                        PApplet.main(concat(appletArgs, passedArgs));\n                }\n                else {\n                        PApplet.main(appletArgs);\n                }\n        }\n}\n</code></pre>\n<p>No matter what i tried so far, i keep running into the following exeption:</p>\n<pre><code>java.lang.NoClassDefFoundError: com/jogamp/opengl/GLException\n    at processing.opengl.PGraphicsOpenGL.createPGL(PGraphicsOpenGL.java:712)\n    at processing.opengl.PGraphicsOpenGL.&lt;init&gt;(PGraphicsOpenGL.java:569)\n    at processing.opengl.PGraphics3D.&lt;init&gt;(PGraphics3D.java:35)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at processing.core.PApplet.makeGraphics(PApplet.java:2235)\n    at processing.core.PApplet.createPrimaryGraphics(PApplet.java:2314)\n    at processing.core.PApplet.initSurface(PApplet.java:10828)\n    at processing.core.PApplet.runSketch(PApplet.java:10767)\n    at processing.core.PApplet.main(PApplet.java:10467)\n    at Test.main(Test.java:19)\nCaused by: java.lang.ClassNotFoundException: com.jogamp.opengl.GLException\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 14 more\njava.lang.RuntimeException: com/jogamp/opengl/GLException\n    at processing.core.PApplet.makeGraphics(PApplet.java:2268)\n    at processing.core.PApplet.createPrimaryGraphics(PApplet.java:2314)\n    at processing.core.PApplet.initSurface(PApplet.java:10828)\n    at processing.core.PApplet.runSketch(PApplet.java:10767)\n    at processing.core.PApplet.main(PApplet.java:10467)\n    at Test.main(Test.java:19)\n</code></pre>\n<p>I am working with Java 17, and already tried to run with Java 8 as i read this might work, but.. it didnt.\nIs it not possible to run those P2D, P3D, FX2D sketches outside of the processing.exe?</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1643375313,"post_id":70891921,"comment_id":125329230,"body_markdown":"According to my test (Windows 10 and JDK 17.0.2), if directory `test` has subdirectories, the _rename_ operation will fail. It succeeds if `test` only contains regular files. (Refer to method `isFile` in class `java.io.File`)","body":"According to my test (Windows 10 and JDK 17.0.2), if directory <code>test</code> has subdirectories, the <i>rename</i> operation will fail. It succeeds if <code>test</code> only contains regular files. (Refer to method <code>isFile</code> in class <code>java.io.File</code>)"},{"owner":{"account_id":12007390,"reputation":339,"user_id":8785305,"display_name":"Prashant Raghav"},"score":0,"creation_date":1643376135,"post_id":70891921,"comment_id":125329556,"body_markdown":"Ok I think thats the issue , but test can contain subdirectories and other objects , so how can test be renamed","body":"Ok I think thats the issue , but test can contain subdirectories and other objects , so how can test be renamed"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1643376911,"post_id":70891921,"comment_id":125329870,"body_markdown":"Create a new directory and perform a copy instead of a move. After the copy you can delete the source directory.","body":"Create a new directory and perform a copy instead of a move. After the copy you can delete the source directory."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1643376929,"post_id":70891921,"comment_id":125329877,"body_markdown":"Use [Files.move](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#move(java.nio.file.Path,java.nio.file.Path,java.nio.file.CopyOption...)) instead of the ancient File.renameTo method.  Files.move may or may not cause the operation to work, but it will provide you with an informative exception explaining why it failed, which is much better than a simple boolean value.  And I strongly recommend printing `e` rather than e.getMessage().  Exception messages by themselves are rarely informative.","body":"Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#move(java.nio.file.Path,java.nio.file.Path,java.nio.file.CopyOption...)\" rel=\"nofollow noreferrer\">Files.move</a> instead of the ancient File.renameTo method.  Files.move may or may not cause the operation to work, but it will provide you with an informative exception explaining why it failed, which is much better than a simple boolean value.  And I strongly recommend printing <code>e</code> rather than e.getMessage().  Exception messages by themselves are rarely informative."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1643377187,"post_id":70891921,"comment_id":125329983,"body_markdown":"@VGR did you try it? For me it gives `java.nio.file.AccessDeniedException` which basically means that the operation cannot be performed.","body":"@VGR did you try it? For me it gives <code>java.nio.file.AccessDeniedException</code> which basically means that the operation cannot be performed."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1643377324,"post_id":70891921,"comment_id":125330024,"body_markdown":"@Abra Exactly my point.  As I said:  It may or may not cause the operation to work, but it will provide much more information than an opaque, obscure boolean value provides.","body":"@Abra Exactly my point.  As I said:  It may or may not cause the operation to work, but it will provide much more information than an opaque, obscure boolean value provides."}],"answers":[{"comments":[{"owner":{"account_id":12007390,"reputation":339,"user_id":8785305,"display_name":"Prashant Raghav"},"score":0,"creation_date":1643366989,"post_id":70892331,"comment_id":125326298,"body_markdown":"while copying I had missed removing final , but no luck","body":"while copying I had missed removing final , but no luck"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1643385571,"post_id":70892331,"comment_id":125333553,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/70892331/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22102785,"reputation":9,"user_id":16358980,"display_name":"Luiz Xavier"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643366327,"creation_date":1643366327,"answer_id":70892331,"question_id":70891921,"body_markdown":"You can&#39;t change a value os a final variable. Remove the &quot;final&quot; keyword from &quot;projectDirectoryForUser&quot; and try again.\r\n\r\n[See here][1]\r\n\r\n\r\n  [1]: https://www.w3schools.com/java/ref_keyword_final.asp","title":"How to rename a child directory in Java?","body":"<p>You can't change a value os a final variable. Remove the &quot;final&quot; keyword from &quot;projectDirectoryForUser&quot; and try again.</p>\n<p><a href=\"https://www.w3schools.com/java/ref_keyword_final.asp\" rel=\"nofollow noreferrer\">See here</a></p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643385402,"creation_date":1643385058,"answer_id":70896470,"question_id":70891921,"body_markdown":"I think `getParent()` must be `getParentFile()` so you have the full path.\r\n\r\nThe newer generalisation of `File`, the class `Path`, together with the utilities class `Files` one should better use. [`Files.move`][1] is the equivalent of a `File.renameTo` and _might not in every case work for non-empty directories._\r\n\r\n\r\n    public ResponseMessage updateDirectoryName(String oldDirectoryName,\r\n            String newDirectoryName, String userName) {\r\n        Path projectDirectoryForUser = gitUtils.getProjectDirectoryFromRepoName(userName,\r\n                oldDirectoryName).toPath();\r\n    \r\n        try {\r\n            if (Files.exists(projectDirectoryForUser)) {\r\n                Path newDir = projectDirectoryForUser.resolveSibling(newDirectoryName);\r\n                Files.move(projectDirectoryForUser, newDir);\r\n                boolean flag = Files.exist(newDir);\r\n                if (flag) {\r\n                    System.out.println(&quot;File renamed successfully&quot;);\r\n                } else {\r\n                    System.out.println(&quot;Rename operation failed&quot;);\r\n                }\r\n            } else {\r\n                log.info(&quot;No folder found for Project in file path&quot;);\r\n            }\r\n    \r\n        } catch (Exception e){\r\n            log.info(&quot;something is not right&quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\nWhereas `File` is a disk file, `Path` can also be from an URI, or a packed &quot;file&quot; in a zip file. Different file system views. This allows `File` to copy file or java resource into a zip, or rename a file in a zip.\r\nSo for the same reason one uses `List` instead of an implementing `ArrayList`, one better use `Path`. Also I read that the `Files` operations are a bit better than those of `File`.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#move-java.nio.file.Path-java.nio.file.Path-java.nio.file.CopyOption...-","title":"How to rename a child directory in Java?","body":"<p>I think <code>getParent()</code> must be <code>getParentFile()</code> so you have the full path.</p>\n<p>The newer generalisation of <code>File</code>, the class <code>Path</code>, together with the utilities class <code>Files</code> one should better use. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#move-java.nio.file.Path-java.nio.file.Path-java.nio.file.CopyOption...-\" rel=\"nofollow noreferrer\"><code>Files.move</code></a> is the equivalent of a <code>File.renameTo</code> and <em>might not in every case work for non-empty directories.</em></p>\n<pre><code>public ResponseMessage updateDirectoryName(String oldDirectoryName,\n        String newDirectoryName, String userName) {\n    Path projectDirectoryForUser = gitUtils.getProjectDirectoryFromRepoName(userName,\n            oldDirectoryName).toPath();\n\n    try {\n        if (Files.exists(projectDirectoryForUser)) {\n            Path newDir = projectDirectoryForUser.resolveSibling(newDirectoryName);\n            Files.move(projectDirectoryForUser, newDir);\n            boolean flag = Files.exist(newDir);\n            if (flag) {\n                System.out.println(&quot;File renamed successfully&quot;);\n            } else {\n                System.out.println(&quot;Rename operation failed&quot;);\n            }\n        } else {\n            log.info(&quot;No folder found for Project in file path&quot;);\n        }\n\n    } catch (Exception e){\n        log.info(&quot;something is not right&quot; + e.getMessage());\n    }\n}\n</code></pre>\n<p>Whereas <code>File</code> is a disk file, <code>Path</code> can also be from an URI, or a packed &quot;file&quot; in a zip file. Different file system views. This allows <code>File</code> to copy file or java resource into a zip, or rename a file in a zip.\nSo for the same reason one uses <code>List</code> instead of an implementing <code>ArrayList</code>, one better use <code>Path</code>. Also I read that the <code>Files</code> operations are a bit better than those of <code>File</code>.</p>\n"}],"owner":{"account_id":12007390,"reputation":339,"user_id":8785305,"display_name":"Prashant Raghav"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1664549299,"creation_date":1643364430,"question_id":70891921,"body_markdown":"How can I rename a directory in java .\r\nI have a directory structure like /workspace/project-name/project/user/wbench/test/&lt;multiple folders &amp; git objects&gt;\r\n\r\nIn the above structure I want to change test to dev (for example).\r\n\r\nI thought Files.renameTo() will do the trick for me but this code is not working.\r\n\r\n    public ResponseMessage updateDirectoryName(String oldDirectoryName, String newDirectoryName, String userName) {\r\n       File projectDirectoryForUser = gitUtils.getProjectDirectoryFromRepoName(userName, oldDirectoryName);\r\n\r\n        try {\r\n            if (projectDirectoryForUser.exists()) {\r\n                File newDir = new File(projectDirectoryForUser.getParent()+File.separator+newDirectoryName);\r\n                Boolean flag =projectDirectoryForUser.renameTo(newDir);\r\n                if(flag){\r\n                    System.out.println(&quot;File renamed successfully&quot;);\r\n                }else{\r\n                    System.out.println(&quot;Rename operation failed&quot;);\r\n                }\r\n            }\r\n            else {\r\n                log.info(&quot;No folder found for Project in file path&quot;);\r\n            }\r\n\r\n        }\r\n        catch (Exception e){\r\n            log.info(&quot;something is not right&quot; + e.getMessage());\r\n        }\r\nMy flag is always false and name of directory is not changed.\r\nI am certainly doing something wrong not sure what?     ","title":"How to rename a child directory in Java?","body":"<p>How can I rename a directory in java .\nI have a directory structure like /workspace/project-name/project/user/wbench/test/&lt;multiple folders &amp; git objects&gt;</p>\n<p>In the above structure I want to change test to dev (for example).</p>\n<p>I thought Files.renameTo() will do the trick for me but this code is not working.</p>\n<pre><code>public ResponseMessage updateDirectoryName(String oldDirectoryName, String newDirectoryName, String userName) {\n   File projectDirectoryForUser = gitUtils.getProjectDirectoryFromRepoName(userName, oldDirectoryName);\n\n    try {\n        if (projectDirectoryForUser.exists()) {\n            File newDir = new File(projectDirectoryForUser.getParent()+File.separator+newDirectoryName);\n            Boolean flag =projectDirectoryForUser.renameTo(newDir);\n            if(flag){\n                System.out.println(&quot;File renamed successfully&quot;);\n            }else{\n                System.out.println(&quot;Rename operation failed&quot;);\n            }\n        }\n        else {\n            log.info(&quot;No folder found for Project in file path&quot;);\n        }\n\n    }\n    catch (Exception e){\n        log.info(&quot;something is not right&quot; + e.getMessage());\n    }\n</code></pre>\n<p>My flag is always false and name of directory is not changed.\nI am certainly doing something wrong not sure what?</p>\n"},{"tags":["java","arraylist","merge","collections","addition"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1664548515,"post_id":73910048,"comment_id":130503996,"body_markdown":"Are you aware of [`String.join(delimiter, elements)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.Iterable))? Add square brackets using concatenation if you need them `&quot;[&quot; + String.join(&quot; &quot;, list ) + &quot;]&quot;`.","body":"Are you aware of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.Iterable)\" rel=\"nofollow noreferrer\"><code>String.join(delimiter, elements)</code></a>? Add square brackets using concatenation if you need them <code>&quot;[&quot; + String.join(&quot; &quot;, list ) + &quot;]&quot;</code>."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1664548821,"post_id":73910048,"comment_id":130504109,"body_markdown":"@AlexanderIvanchenko read the last sentence of the question.","body":"@AlexanderIvanchenko read the last sentence of the question."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1664549006,"post_id":73910048,"comment_id":130504177,"body_markdown":"@f1sh *&quot;both elements should be merged and placed in a single index&quot;* - it&#39;s very obscuring and ambiguous. If OP wants the list to contain only a **single** element, and then it&#39;ll be better to join all elements and then create a singleton list. If OP wants to merge only consecutive pairs of elements, that&#39;s doable as well, but some **clarifications are required**.","body":"@f1sh <i>&quot;both elements should be merged and placed in a single index&quot;</i> - it&#39;s very obscuring and ambiguous. If OP wants the list to contain only a <b>single</b> element, and then it&#39;ll be better to join all elements and then create a singleton list. If OP wants to merge only consecutive pairs of elements, that&#39;s doable as well, but some <b>clarifications are required</b>."}],"answers":[{"tags":[],"owner":{"account_id":3992180,"reputation":1524,"user_id":3290745,"display_name":"Tristate"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1664549233,"creation_date":1664547116,"answer_id":73910078,"question_id":73910048,"body_markdown":"You can do it like this.\r\n\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(&quot;text1&quot;);\r\n        list.add(&quot;text2&quot;);\r\n\r\n        list.set(0, String.join(&quot;,&quot;, list).replace(&quot;,&quot;, &quot; &quot;));\r\n\r\n        list.subList(1, list.size()).clear();\r\n\r\n        System.out.println(list.size());\r\n        System.out.println(list);\r\n\r\nOutput of this is: \r\n\r\n1\r\n\r\n[text1 text2]","title":"Merge elements of a list to a single element in java arraylist","body":"<p>You can do it like this.</p>\n<pre><code>    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    list.add(&quot;text1&quot;);\n    list.add(&quot;text2&quot;);\n\n    list.set(0, String.join(&quot;,&quot;, list).replace(&quot;,&quot;, &quot; &quot;));\n\n    list.subList(1, list.size()).clear();\n\n    System.out.println(list.size());\n    System.out.println(list);\n</code></pre>\n<p>Output of this is:</p>\n<p>1</p>\n<p>[text1 text2]</p>\n"},{"comments":[{"owner":{"account_id":24143111,"reputation":77,"user_id":18109095,"display_name":"Anamika"},"score":0,"creation_date":1664548139,"post_id":73910185,"comment_id":130503871,"body_markdown":"Thanks for the answer.\nInstead of String if we are using class object how can we do it?","body":"Thanks for the answer. Instead of String if we are using class object how can we do it?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1664548352,"post_id":73910185,"comment_id":130503954,"body_markdown":"You cannot place multiple `Object`s into one `List` element. This is possible for `String` values because you can combine multiple `String`s into one by appending them. You could also reduce multiple numerical values by adding/multiplying them into one value. How do you imagine multiple `Object`s could be combined? Or is it just about combining their `String` representations?","body":"You cannot place multiple <code>Object</code>s into one <code>List</code> element. This is possible for <code>String</code> values because you can combine multiple <code>String</code>s into one by appending them. You could also reduce multiple numerical values by adding/multiplying them into one value. How do you imagine multiple <code>Object</code>s could be combined? Or is it just about combining their <code>String</code> representations?"}],"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664548876,"creation_date":1664547535,"answer_id":73910185,"question_id":73910048,"body_markdown":"To everyone who didn&#39;t read the question completely, this is the last sentence: &quot;both elements should be merged and placed in a single index&quot;.\r\n\r\nYou can just create the merged `String` and create a new List with one entry:\r\n\r\n    List&lt;String&gt; result = List.of(list.stream().collect(Collectors.joining(&quot; &quot;)));\r\n\r\nIf you need to reduce the existing `List` down to one element, you can keep adding each subsequent element to the first one using this loop:\r\n\r\n    list.add(&quot;text1&quot;);\r\n    list.add(&quot;text2&quot;);\r\n    list.add(&quot;text3&quot;);\r\n    list.add(&quot;text4&quot;);\r\n    while(list.size() &gt; 1) {\r\n        list.set(0, list.get(0) +&quot; &quot;+ list.remove(1));\r\n    }\r\n    System.out.println(list);\r\n\r\nprints `[text1 text2 text3 text4]`\r\n\r\n","title":"Merge elements of a list to a single element in java arraylist","body":"<p>To everyone who didn't read the question completely, this is the last sentence: &quot;both elements should be merged and placed in a single index&quot;.</p>\n<p>You can just create the merged <code>String</code> and create a new List with one entry:</p>\n<pre><code>List&lt;String&gt; result = List.of(list.stream().collect(Collectors.joining(&quot; &quot;)));\n</code></pre>\n<p>If you need to reduce the existing <code>List</code> down to one element, you can keep adding each subsequent element to the first one using this loop:</p>\n<pre><code>list.add(&quot;text1&quot;);\nlist.add(&quot;text2&quot;);\nlist.add(&quot;text3&quot;);\nlist.add(&quot;text4&quot;);\nwhile(list.size() &gt; 1) {\n    list.set(0, list.get(0) +&quot; &quot;+ list.remove(1));\n}\nSystem.out.println(list);\n</code></pre>\n<p>prints <code>[text1 text2 text3 text4]</code></p>\n"}],"owner":{"account_id":24143111,"reputation":77,"user_id":18109095,"display_name":"Anamika"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":785,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":73910185,"answer_count":2,"score":-1,"last_activity_date":1664549233,"creation_date":1664546979,"question_id":73910048,"body_markdown":"I have an arraylist of String.\r\n```\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n```\r\nI have added 2 elements to the list.\r\n```\r\nlist.add(&quot;text1&quot;);\r\nlist.add(&quot;text2&quot;);\r\n```\r\nThe output is like this.\r\n```\r\n[text1,text2]\r\n```\r\n\r\nBut I need an output as below.\r\n```\r\n[text1 text2]\r\n```\r\ni.e., both elements should be merged and placed in a single index.\r\nCould someone help on this?","title":"Merge elements of a list to a single element in java arraylist","body":"<p>I have an arraylist of String.</p>\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n<p>I have added 2 elements to the list.</p>\n<pre><code>list.add(&quot;text1&quot;);\nlist.add(&quot;text2&quot;);\n</code></pre>\n<p>The output is like this.</p>\n<pre><code>[text1,text2]\n</code></pre>\n<p>But I need an output as below.</p>\n<pre><code>[text1 text2]\n</code></pre>\n<p>i.e., both elements should be merged and placed in a single index.\nCould someone help on this?</p>\n"},{"tags":["java","macos","maven","visual-studio-code","antlr4"],"comments":[{"owner":{"account_id":17823563,"reputation":278,"user_id":12945333,"display_name":"AR7CORE"},"score":0,"creation_date":1663984018,"post_id":73834226,"comment_id":130374335,"body_markdown":"That&#39;s the package naming convention, and vscode wants you to open the project from it&#39;s root directory, had similar troubles, switched to Intellij since. Does anything look weird in pom.xml ? Try &quot;cd antlr&quot; and &quot;code .&quot;","body":"That&#39;s the package naming convention, and vscode wants you to open the project from it&#39;s root directory, had similar troubles, switched to Intellij since. Does anything look weird in pom.xml ? Try &quot;cd antlr&quot; and &quot;code .&quot;"},{"owner":{"account_id":67395,"reputation":370,"user_id":197238,"display_name":"Chris"},"score":0,"creation_date":1663985318,"post_id":73834226,"comment_id":130374444,"body_markdown":"The result of the git clone is a directory called `antlr4`.  Do you mean I should open the `antlr4/antlr4-maven-plugin/src/test/java/org/antlr` directory?  Question:  Do you think the &#39;java&#39; bit in the path could be the problem?","body":"The result of the git clone is a directory called <code>antlr4</code>.  Do you mean I should open the <code>antlr4&#47;antlr4-maven-plugin&#47;src&#47;test&#47;java&#47;org&#47;antlr</code> directory?  Question:  Do you think the &#39;java&#39; bit in the path could be the problem?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1663985460,"post_id":73834226,"comment_id":130374458,"body_markdown":"In short, yes, that is the problem.  AntLR is set up as a Maven project, so you need to use VScode Maven integration (https://code.visualstudio.com/docs/java/java-build) or *manually* configure the source path and classpath for building so that the main/java and test/java trees are separate path entries.","body":"In short, yes, that is the problem.  AntLR is set up as a Maven project, so you need to use VScode Maven integration (<a href=\"https://code.visualstudio.com/docs/java/java-build\" rel=\"nofollow noreferrer\">code.visualstudio.com/docs/java/java-build</a>) or <i>manually</i> configure the source path and classpath for building so that the main/java and test/java trees are separate path entries."},{"owner":{"account_id":17823563,"reputation":278,"user_id":12945333,"display_name":"AR7CORE"},"score":0,"creation_date":1663985537,"post_id":73834226,"comment_id":130374465,"body_markdown":"the Java part is normal, but you have to open the project from it&#39;s root, cd antlr4, and open from there (&quot;code .&quot;) , you should see a pom.xml file there. if you open it from any other directory, vscode assumes package is wrong since it looks at your CWD. By doing code antlr4, you opened the project from parent directory, so paths are wrong (and path = package)","body":"the Java part is normal, but you have to open the project from it&#39;s root, cd antlr4, and open from there (&quot;code .&quot;) , you should see a pom.xml file there. if you open it from any other directory, vscode assumes package is wrong since it looks at your CWD. By doing code antlr4, you opened the project from parent directory, so paths are wrong (and path = package)"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1663985990,"post_id":73834226,"comment_id":130374510,"body_markdown":"This just seems to be a problem with ANTLR4, not VSCode It seems like their antlr4-maven-plugin/pom.xml is set up wrongly. I get the same error when I open this in IntelliJ. Even `mvn install` fails too.","body":"This just seems to be a problem with ANTLR4, not VSCode It seems like their antlr4-maven-plugin/pom.xml is set up wrongly. I get the same error when I open this in IntelliJ. Even <code>mvn install</code> fails too."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1663986400,"post_id":73834226,"comment_id":130374549,"body_markdown":"Specifically, [Line 113](https://github.com/antlr/antlr4/blob/master/antlr4-maven-plugin/pom.xml#L113) should say `src/test/java`, not `src/test`. Either that, or someone has added the `java` folder later by mistake, and `src/test` was actually intentional.","body":"Specifically, <a href=\"https://github.com/antlr/antlr4/blob/master/antlr4-maven-plugin/pom.xml#L113\" rel=\"nofollow noreferrer\">Line 113</a> should say <code>src&#47;test&#47;java</code>, not <code>src&#47;test</code>. Either that, or someone has added the <code>java</code> folder later by mistake, and <code>src&#47;test</code> was actually intentional."},{"owner":{"account_id":67395,"reputation":370,"user_id":197238,"display_name":"Chris"},"score":0,"creation_date":1664027822,"post_id":73834226,"comment_id":130380032,"body_markdown":"Anyone want to write their thoughts up as an answer?  I would say going with the standard location would be better than specifying a non-standard location in the pom.  Unless there is a reason for specifying the non-standard location in the pom.  BTW I found a similar question on a SO post from 2 years ago, but no answer about it.","body":"Anyone want to write their thoughts up as an answer?  I would say going with the standard location would be better than specifying a non-standard location in the pom.  Unless there is a reason for specifying the non-standard location in the pom.  BTW I found a similar question on a SO post from 2 years ago, but no answer about it."},{"owner":{"account_id":67395,"reputation":370,"user_id":197238,"display_name":"Chris"},"score":0,"creation_date":1664212107,"post_id":73834226,"comment_id":130414731,"body_markdown":"@Sweeper I did notice that src/test/java is actually the default path.  If I delete line 113 then all is good with the world.","body":"@Sweeper I did notice that src/test/java is actually the default path.  If I delete line 113 then all is good with the world."}],"answers":[{"tags":[],"owner":{"account_id":67395,"reputation":370,"user_id":197238,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664549220,"creation_date":1664549220,"answer_id":73910488,"question_id":73834226,"body_markdown":"An Explanation\r\n--------------\r\nVSCode expects the class to be in the package `java.org.antlr.mojo` because the plugin pom is set up to include `src/test` as was pointed out by [@Sweeper](https://stackoverflow.com/users/5133585/sweeper).  Here&#39;s the line from the module pom:\r\n&gt;     &lt;testSourceDirectory&gt;src/test&lt;/testSourceDirectory&gt;\r\nVSCode correctly understands everything under this to be a package for the included classes.\r\nThe remedy is to either change the directory structure to match the pom (eg move the contents of the `java` dir up one level) or change the pom to match the directory structure (eg add &#39;/java&#39; to the end of the testSourceDirectory tag.\r\n\r\nIMO changing the pom is the better solution.  Specifically the testSourceDirectory tag should be deleted in its entirety since the default testSourceDirectory already is &#39;src/test/java&#39; as of version 3.8.6 of the super-pom (org.apache.maven:maven-model-builder:3.8.6:super-pom).  No need to configure something that doesn&#39;t need configuring because the default will do (and in this case is correct).\r\n\r\n","title":"Why does vscode think the declared package doesn&#39;t match the expected package?","body":"<h2>An Explanation</h2>\n<p>VSCode expects the class to be in the package <code>java.org.antlr.mojo</code> because the plugin pom is set up to include <code>src/test</code> as was pointed out by <a href=\"https://stackoverflow.com/users/5133585/sweeper\">@Sweeper</a>.  Here's the line from the module pom:</p>\n<blockquote>\n<pre><code>&lt;testSourceDirectory&gt;src/test&lt;/testSourceDirectory&gt;\n</code></pre>\n</blockquote>\n<p>VSCode correctly understands everything under this to be a package for the included classes.\nThe remedy is to either change the directory structure to match the pom (eg move the contents of the <code>java</code> dir up one level) or change the pom to match the directory structure (eg add '/java' to the end of the testSourceDirectory tag.</p>\n<p>IMO changing the pom is the better solution.  Specifically the testSourceDirectory tag should be deleted in its entirety since the default testSourceDirectory already is 'src/test/java' as of version 3.8.6 of the super-pom (org.apache.maven:maven-model-builder:3.8.6:super-pom).  No need to configure something that doesn't need configuring because the default will do (and in this case is correct).</p>\n"}],"owner":{"account_id":67395,"reputation":370,"user_id":197238,"display_name":"Chris"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73910488,"answer_count":1,"score":1,"last_activity_date":1664549220,"creation_date":1663983721,"question_id":73834226,"body_markdown":"## Situation\r\nI did the following with a project from GitHub\r\n1. cloned the project: git clone https://github.com/antlr/antlr4.git\r\n2. opened the project with: code antlr4\r\n3. opened a file in the project: Antlr4MojoTest.java\r\n\r\nThe file is found under the following path in the project:\r\nantlr4/antlr4-maven-plugin/src/test/java/org/antlr/mojo/antlr4/Antlr4MojoTest.java\r\n\r\nVSCode tells me: *The declared package &quot;org.antlr.mojo.antlr4&quot; does not match the expected package &quot;java.org.antlr.mojo.antlr4&quot;*\r\n\r\n## Question\r\nWhy does vscode think the expected package is `java.org.antlr.mojo.antlr4`?","title":"Why does vscode think the declared package doesn&#39;t match the expected package?","body":"<h2>Situation</h2>\n<p>I did the following with a project from GitHub</p>\n<ol>\n<li>cloned the project: git clone <a href=\"https://github.com/antlr/antlr4.git\" rel=\"nofollow noreferrer\">https://github.com/antlr/antlr4.git</a></li>\n<li>opened the project with: code antlr4</li>\n<li>opened a file in the project: Antlr4MojoTest.java</li>\n</ol>\n<p>The file is found under the following path in the project:\nantlr4/antlr4-maven-plugin/src/test/java/org/antlr/mojo/antlr4/Antlr4MojoTest.java</p>\n<p>VSCode tells me: <em>The declared package &quot;org.antlr.mojo.antlr4&quot; does not match the expected package &quot;java.org.antlr.mojo.antlr4&quot;</em></p>\n<h2>Question</h2>\n<p>Why does vscode think the expected package is <code>java.org.antlr.mojo.antlr4</code>?</p>\n"},{"tags":["java","file","directory","rdbms","processbuilder"],"answers":[{"comments":[{"owner":{"account_id":16296566,"reputation":49,"user_id":11768656,"display_name":"binarycoffee356"},"score":0,"creation_date":1641925748,"post_id":70671202,"comment_id":124933887,"body_markdown":"I replaced the spaces with a \\ as you mentioned, although I had to do it by doing replaceAll(&quot; &quot;,&quot;\\\\\\\\&quot;). When doing this though, I am getting a new error EXP-00028: failed to open C:\\Users\\Me\\OneDrive-\\Folder\\Desktop\\test\\exp_log.log for write. Would you happen to know why when running exp.exe the \\ before the - is cut off? I am creating the directory if necessary but that directory is created as C:\\Users\\Me\\OneDrive\\-\\Folder\\Desktop\\test, so I am not sure why that \\ is cut off before the - when attempting to write to it.","body":"I replaced the spaces with a \\ as you mentioned, although I had to do it by doing replaceAll(&quot; &quot;,&quot;\\\\\\\\&quot;). When doing this though, I am getting a new error EXP-00028: failed to open C:\\Users\\Me\\OneDrive-\\Folder\\Desktop\\test\\exp_log.log for write. Would you happen to know why when running exp.exe the \\ before the - is cut off? I am creating the directory if necessary but that directory is created as C:\\Users\\Me\\OneDrive\\-\\Folder\\Desktop\\test, so I am not sure why that \\ is cut off before the - when attempting to write to it."},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1641929890,"post_id":70671202,"comment_id":124935418,"body_markdown":"&#39;faild to open for write&#39; sound like a permission problem.\nWhitespaces in file paths are problematic on all platforms. The File object is  handling whitespaces correct. But you are a level deeper lower because you are using the Processbuilder! So you have to have to handle whitespaces yourself!\nDid you try your call on commandline? That offen helps to find out the correct escaping.","body":"&#39;faild to open for write&#39; sound like a permission problem. Whitespaces in file paths are problematic on all platforms. The File object is  handling whitespaces correct. But you are a level deeper lower because you are using the Processbuilder! So you have to have to handle whitespaces yourself! Did you try your call on commandline? That offen helps to find out the correct escaping."},{"owner":{"account_id":16296566,"reputation":49,"user_id":11768656,"display_name":"binarycoffee356"},"score":0,"creation_date":1641942360,"post_id":70671202,"comment_id":124939191,"body_markdown":"By &quot;failed to write,&quot; it meant that it failed to write because the directory did not exist. For some reason the first &quot;\\&quot; was cut off before the &quot;-&quot; in the name. I decided to strip the file name of all whitespace and replace it with an empty string, create the directory if it didn&#39;t exist, which it should not the first time, and then create the log.dmp file in the new directory if it does not already exist. That seemed to get it to work, although I had to create a new directory to do so. I would have wanted to just be able to pass in the file name with the space in it.","body":"By &quot;failed to write,&quot; it meant that it failed to write because the directory did not exist. For some reason the first &quot;\\&quot; was cut off before the &quot;-&quot; in the name. I decided to strip the file name of all whitespace and replace it with an empty string, create the directory if it didn&#39;t exist, which it should not the first time, and then create the log.dmp file in the new directory if it does not already exist. That seemed to get it to work, although I had to create a new directory to do so. I would have wanted to just be able to pass in the file name with the space in it."}],"tags":[],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641923132,"creation_date":1641923132,"answer_id":70671202,"question_id":70671007,"body_markdown":"Spaces in file or directory names have to escape by ```\\```!\r\n\r\n```\r\nString file = &quot;C:\\Users\\Me\\OneDrive - Folder\\Desktop\\test\\log.dmp&quot;;\r\nfile  = file.replaceAll(&quot; &quot;, &quot;\\\\ &quot;);\r\n```\r\n\r\nThe double escaping isn&#39;t really nice!","title":"How to deal with a directory that has a space in it being passed to ProcessBuilder and then to Exp.exe?","body":"<p>Spaces in file or directory names have to escape by <code>\\</code>!</p>\n<pre><code>String file = &quot;C:\\Users\\Me\\OneDrive - Folder\\Desktop\\test\\log.dmp&quot;;\nfile  = file.replaceAll(&quot; &quot;, &quot;\\\\ &quot;);\n</code></pre>\n<p>The double escaping isn't really nice!</p>\n"}],"owner":{"account_id":16296566,"reputation":49,"user_id":11768656,"display_name":"binarycoffee356"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664549133,"creation_date":1641922224,"question_id":70671007,"body_markdown":"I am working on an issue where spaces in a directory cause a program that runs exp.exe to crash. The user first selects a .dmp file from any directory they want, which is then used to build an argument list. This argument list contains the command to be run, in this case, exp.exe, the .dmp file name, a log file created in the directory the file name comes from, along with some other parameters. ProcessBuilder is then used to do the following:\r\n\r\n    public static ProcessBuilder build;\r\n    build = new ProcessBuilder();\r\n    build.command(args);        \r\n    build.redirectErrorStream(true);\r\n    process = build.start();   \r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n    String line = null;           \r\n    while ((line = reader.readLine()) != null) {\r\n    System.out.println(line);\r\n    }\r\n\r\nWhen the directory the file comes from does not have any spaces, exp.exe runs as intended and line prints as expected. However, when the directory the file comes from does contain spaces, exp.exe does not run and terminates after outputting error code LRM-00101: unknown parameter name.\r\n\r\nThis is an example of a directory that does not work\r\n\r\n```\r\nC:\\Users\\Me\\OneDrive - Folder\\Desktop\\test\\log.dmp\r\n```\r\nA directory such as that one would be processed incorrectly and output\r\n\r\n```\r\nLRM-00101: unknown parameter name &#39;Folder\\Desktop\\test\\log.dmp&#39;\r\n```\r\nAnd this is an example of a directory that does run \r\n\r\n```\r\nC:\\Users\\Me\\Downloads\\test\\log.dmp\r\n```\r\n\r\nIn the example directory that does not work, ProcessBuilder is incorrectly getting the directory by treating everything before the &quot;- &quot; as not part of the directory, which is causing it to fail. I have already tried to escape the directory with double quotes when it is being read in initially by doing \r\n\r\n```\r\n&quot;\\&quot;&quot;+dmp_filename+&quot;\\&quot;&quot;\r\n```\r\n\r\nbut that does not work and other suggestions in similar threads do not seem to apply. \r\n\r\nThis is the exact code for the args being passed in\r\n\r\n```\r\nargs = [exp.exe, userid=123@test, buffer=50000000, file=C:\\Users\\Me\\OneDrive - Folder\\Desktop\\test\\log.dmp, owner=test, compress=n, grants=y, indexes=y, direct=no, log=C:\\Users\\Me\\OneDrive - Folder\\Desktop\\exp_log_test.log, rows=y, consistent=y, object_consistent=y, triggers=y, statistics=none, constraints=y]\r\n```\r\n\r\nI would appreciate any help.","title":"How to deal with a directory that has a space in it being passed to ProcessBuilder and then to Exp.exe?","body":"<p>I am working on an issue where spaces in a directory cause a program that runs exp.exe to crash. The user first selects a .dmp file from any directory they want, which is then used to build an argument list. This argument list contains the command to be run, in this case, exp.exe, the .dmp file name, a log file created in the directory the file name comes from, along with some other parameters. ProcessBuilder is then used to do the following:</p>\n<pre><code>public static ProcessBuilder build;\nbuild = new ProcessBuilder();\nbuild.command(args);        \nbuild.redirectErrorStream(true);\nprocess = build.start();   \nBufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\nString line = null;           \nwhile ((line = reader.readLine()) != null) {\nSystem.out.println(line);\n}\n</code></pre>\n<p>When the directory the file comes from does not have any spaces, exp.exe runs as intended and line prints as expected. However, when the directory the file comes from does contain spaces, exp.exe does not run and terminates after outputting error code LRM-00101: unknown parameter name.</p>\n<p>This is an example of a directory that does not work</p>\n<pre><code>C:\\Users\\Me\\OneDrive - Folder\\Desktop\\test\\log.dmp\n</code></pre>\n<p>A directory such as that one would be processed incorrectly and output</p>\n<pre><code>LRM-00101: unknown parameter name 'Folder\\Desktop\\test\\log.dmp'\n</code></pre>\n<p>And this is an example of a directory that does run</p>\n<pre><code>C:\\Users\\Me\\Downloads\\test\\log.dmp\n</code></pre>\n<p>In the example directory that does not work, ProcessBuilder is incorrectly getting the directory by treating everything before the &quot;- &quot; as not part of the directory, which is causing it to fail. I have already tried to escape the directory with double quotes when it is being read in initially by doing</p>\n<pre><code>&quot;\\&quot;&quot;+dmp_filename+&quot;\\&quot;&quot;\n</code></pre>\n<p>but that does not work and other suggestions in similar threads do not seem to apply.</p>\n<p>This is the exact code for the args being passed in</p>\n<pre><code>args = [exp.exe, userid=123@test, buffer=50000000, file=C:\\Users\\Me\\OneDrive - Folder\\Desktop\\test\\log.dmp, owner=test, compress=n, grants=y, indexes=y, direct=no, log=C:\\Users\\Me\\OneDrive - Folder\\Desktop\\exp_log_test.log, rows=y, consistent=y, object_consistent=y, triggers=y, statistics=none, constraints=y]\n</code></pre>\n<p>I would appreciate any help.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7768865,"reputation":403,"user_id":5879171,"display_name":"DB377"},"score":0,"creation_date":1664549674,"post_id":73910457,"comment_id":130504423,"body_markdown":"onClick method in xml (as you have used) only works for activity and not for fragments.\nHere as per your code android will look for  &quot;onClickGreeting&quot; method in Home activity and will not look in fragment.","body":"onClick method in xml (as you have used) only works for activity and not for fragments. Here as per your code android will look for  &quot;onClickGreeting&quot; method in Home activity and will not look in fragment."},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1664549889,"post_id":73910457,"comment_id":130504498,"body_markdown":"@DB377 OP is using binding ... so it should work","body":"@DB377 OP is using binding ... so it should work"},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1664550184,"post_id":73910457,"comment_id":130504606,"body_markdown":"you may always use `binding.(btn_generate_greeting).setOnClickListener(this::onClickGreeting)` where `(btn_generate_greeting)` is translation id to variable in databinding (prolly camel case without underscores)... also it may be some kinfd of typo as you are using  `binding.btnShowRandomPhoto` but there is no such button in your layout","body":"you may always use <code>binding.(btn_generate_greeting).setOnClickListener(this::onC&zwnj;&#8203;lickGreeting)</code> where <code>(btn_generate_greeting)</code> is translation id to variable in databinding (prolly camel case without underscores)... also it may be some kinfd of typo as you are using  <code>binding.btnShowRandomPhoto</code> but there is no such button in your layout"},{"owner":{"account_id":14865549,"reputation":107,"user_id":11879115,"display_name":"Marina Finetti"},"score":0,"creation_date":1664607663,"post_id":73910457,"comment_id":130514479,"body_markdown":"@DB377 thanks! Since the XML is linked to a fragment shouldn&#39;t Android Studio show a different warning or suggest a different fix?","body":"@DB377 thanks! Since the XML is linked to a fragment shouldn&#39;t Android Studio show a different warning or suggest a different fix?"},{"owner":{"account_id":14865549,"reputation":107,"user_id":11879115,"display_name":"Marina Finetti"},"score":0,"creation_date":1664608026,"post_id":73910457,"comment_id":130514510,"body_markdown":"@Selvin sorry, `btnShowRandomPhoto` is another button I have in Home fragment but I didn&#39;t include it in the sample code... Given yours and @DB377 &#39;s comment I ended up using `binding.btnGenerateGreeting.setOnClickListener` and now it works","body":"@Selvin sorry, <code>btnShowRandomPhoto</code> is another button I have in Home fragment but I didn&#39;t include it in the sample code... Given yours and @DB377 &#39;s comment I ended up using <code>binding.btnGenerateGreeting.setOnClickListener</code> and now it works"}],"owner":{"account_id":14865549,"reputation":107,"user_id":11879115,"display_name":"Marina Finetti"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664549074,"creation_date":1664549074,"question_id":73910457,"body_markdown":"I keep getting `Method &#39;onClickGreeting&#39; is missing in &#39;Home&#39; or has incorrect signature` warning in XML file and the app crashes when clicking on the button.\r\n\r\nI tried doing Clean Project but nothing changed.\r\n\r\nThe method was created first manually, then I tried Android studio&#39;s fix:\r\n[![Android studio&#39;s fix][1]][1]\r\n\r\nThis created an identical signature to the one I already wrote.\r\n\r\n\r\n**Home.java**\r\n    \r\n    import android.content.Context;\r\n    import android.os.Bundle;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.fragment.app.Fragment;\r\n    import androidx.navigation.fragment.NavHostFragment;\r\n    \r\n    import com.example.apptest.databinding.HomeBinding;\r\n    \r\n    public class Home extends Fragment {\r\n    \r\n        private HomeBinding binding;\r\n    \r\n        @Override\r\n        public View onCreateView(\r\n                LayoutInflater inflater, ViewGroup container,\r\n                Bundle savedInstanceState\r\n        ) {\r\n    \r\n            binding = HomeBinding.inflate(inflater, container, false);\r\n            return binding.getRoot();\r\n    \r\n        }\r\n    \r\n        public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n    \r\n            binding.btnShowRandomPhoto.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    NavHostFragment.findNavController(Home.this)\r\n                            .navigate(R.id.action_FirstFragment_to_SecondFragment);\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroyView() {\r\n            super.onDestroyView();\r\n            binding = null;\r\n        }\r\n    \r\n        public void onClickGreeting(View view) {\r\n            Context context = getContext();\r\n            CharSequence text = String.format(getResources().getString(R.string.greeting), binding.userName.getText());\r\n            int duration = Toast.LENGTH_SHORT;\r\n    \r\n            Toast toast = Toast.makeText(context, text, duration);\r\n            toast.show();\r\n        }\r\n    }\r\n\r\n**home.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.Home&quot;&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/btn_generate_greeting&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;24dp&quot;\r\n            android:onClick=&quot;onClickGreeting&quot;\r\n            android:text=&quot;@string/button_show_greeting&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/user_name&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n..........................................................................\r\n\r\n  [1]: https://i.stack.imgur.com/OaQJi.png","title":"Method &lt;...&gt; is missing in &lt;...&gt; or has incorrect signature","body":"<p>I keep getting <code>Method 'onClickGreeting' is missing in 'Home' or has incorrect signature</code> warning in XML file and the app crashes when clicking on the button.</p>\n<p>I tried doing Clean Project but nothing changed.</p>\n<p>The method was created first manually, then I tried Android studio's fix:\n<a href=\"https://i.stack.imgur.com/OaQJi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OaQJi.png\" alt=\"Android studio's fix\" /></a></p>\n<p>This created an identical signature to the one I already wrote.</p>\n<p><strong>Home.java</strong></p>\n<pre><code>import android.content.Context;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\nimport androidx.navigation.fragment.NavHostFragment;\n\nimport com.example.apptest.databinding.HomeBinding;\n\npublic class Home extends Fragment {\n\n    private HomeBinding binding;\n\n    @Override\n    public View onCreateView(\n            LayoutInflater inflater, ViewGroup container,\n            Bundle savedInstanceState\n    ) {\n\n        binding = HomeBinding.inflate(inflater, container, false);\n        return binding.getRoot();\n\n    }\n\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        binding.btnShowRandomPhoto.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                NavHostFragment.findNavController(Home.this)\n                        .navigate(R.id.action_FirstFragment_to_SecondFragment);\n            }\n        });\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n\n    public void onClickGreeting(View view) {\n        Context context = getContext();\n        CharSequence text = String.format(getResources().getString(R.string.greeting), binding.userName.getText());\n        int duration = Toast.LENGTH_SHORT;\n\n        Toast toast = Toast.makeText(context, text, duration);\n        toast.show();\n    }\n}\n</code></pre>\n<p><strong>home.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.Home&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn_generate_greeting&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;24dp&quot;\n        android:onClick=&quot;onClickGreeting&quot;\n        android:text=&quot;@string/button_show_greeting&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/user_name&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>..........................................................................</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1664548929,"post_id":73910351,"comment_id":130504148,"body_markdown":"doesExist ? (A == B &amp;&amp; B == C) : (A == B)","body":"doesExist ? (A == B &amp;&amp; B == C) : (A == B)"}],"answers":[{"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664548746,"creation_date":1664548746,"answer_id":73910397,"question_id":73910351,"body_markdown":"You can just go with\r\n\r\n    if(doesExist ? (A == B &amp;&amp; B == C) : (A == B))","title":"Adding a condition to if statement if another condition is true","body":"<p>You can just go with</p>\n<pre><code>if(doesExist ? (A == B &amp;&amp; B == C) : (A == B))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14826207,"reputation":534,"user_id":10707092,"display_name":"Alois Christen"},"score":1,"creation_date":1664549090,"post_id":73910420,"comment_id":130504208,"body_markdown":"while not the shortest, it&#39;s the most understandable, and this has value as Ron26 is a new member. Well done","body":"while not the shortest, it&#39;s the most understandable, and this has value as Ron26 is a new member. Well done"}],"tags":[],"owner":{"account_id":6069107,"reputation":74,"user_id":9090160,"display_name":"lukenetsurfer"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664548902,"creation_date":1664548902,"answer_id":73910420,"question_id":73910351,"body_markdown":"How about something like this?\r\n\r\n```\r\nif ((doesExist &amp;&amp; (A == B &amp;&amp; B == C)) || (!doesExist &amp;&amp; A == B)) {\r\n    // Do stuff\r\n}\r\n\r\n```\r\n\r\nWhen `doesExist` is true, the predicate depends on `(A == B &amp;&amp; B == C)` (left side of the &#39;or&#39; operator); when `doesExist` is false, the predicate depends on `A == B` (right side of &#39;or&#39; operator.\r\n\r\n\r\nEven more sucinct, what about:\r\n\r\n```\r\nif(A == B &amp;&amp; (!doesExist || B == C)) {\r\n    // do stuff\r\n}\r\n```\r\n\r\nIn this case, the value of `B == C` only affects the overall value of the predicate when `doesExist` is `True`.","title":"Adding a condition to if statement if another condition is true","body":"<p>How about something like this?</p>\n<pre><code>if ((doesExist &amp;&amp; (A == B &amp;&amp; B == C)) || (!doesExist &amp;&amp; A == B)) {\n    // Do stuff\n}\n\n</code></pre>\n<p>When <code>doesExist</code> is true, the predicate depends on <code>(A == B &amp;&amp; B == C)</code> (left side of the 'or' operator); when <code>doesExist</code> is false, the predicate depends on <code>A == B</code> (right side of 'or' operator.</p>\n<p>Even more sucinct, what about:</p>\n<pre><code>if(A == B &amp;&amp; (!doesExist || B == C)) {\n    // do stuff\n}\n</code></pre>\n<p>In this case, the value of <code>B == C</code> only affects the overall value of the predicate when <code>doesExist</code> is <code>True</code>.</p>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664548930,"creation_date":1664548930,"answer_id":73910427,"question_id":73910351,"body_markdown":"```js\r\nif (A == B &amp;&amp; (!doesExist || B == C))\r\n```","title":"Adding a condition to if statement if another condition is true","body":"<pre class=\"lang-js prettyprint-override\"><code>if (A == B &amp;&amp; (!doesExist || B == C))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1245618,"reputation":237,"user_id":1207143,"display_name":"marekk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664548989,"creation_date":1664548989,"answer_id":73910438,"question_id":73910351,"body_markdown":"If the A == B condition will change, then we need update it in two places in suggested solutions, I think better would be to always test A == B and conditionally test second one like:\r\n\r\n`if(A == B &amp;&amp; (!test || B == C))`","title":"Adding a condition to if statement if another condition is true","body":"<p>If the A == B condition will change, then we need update it in two places in suggested solutions, I think better would be to always test A == B and conditionally test second one like:</p>\n<p><code>if(A == B &amp;&amp; (!test || B == C))</code></p>\n"}],"owner":{"display_name":"user19590647"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":73910420,"answer_count":4,"score":-3,"last_activity_date":1664548989,"creation_date":1664548484,"question_id":73910351,"body_markdown":"Is it possible to add a condition in if statement if a certain condition is true?\r\n\r\nFor example,\r\n\r\nI have this variable,\r\n`private Boolean doesExist`\r\n\r\nif `doesExist` is set to `True` then I want my if statement like this,\r\n\r\n`if (A == B &amp;&amp; B == C)`\r\n\r\nif `doesExist` is set to `False` then I don&#39;t want the second condition in my if condition,\r\n\r\n`if (A == B)`","title":"Adding a condition to if statement if another condition is true","body":"<p>Is it possible to add a condition in if statement if a certain condition is true?</p>\n<p>For example,</p>\n<p>I have this variable,\n<code>private Boolean doesExist</code></p>\n<p>if <code>doesExist</code> is set to <code>True</code> then I want my if statement like this,</p>\n<p><code>if (A == B &amp;&amp; B == C)</code></p>\n<p>if <code>doesExist</code> is set to <code>False</code> then I don't want the second condition in my if condition,</p>\n<p><code>if (A == B)</code></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664548819,"creation_date":1664548819,"answer_id":73910410,"question_id":73910339,"body_markdown":"You need to get the value from the `Optional` to compare it.\r\n\r\nThus, the first solution should be:\r\n\r\n```java\r\nif (entry.getValue().equals(highestScore.get()))\r\n```\r\n\r\nThe same applies to the solution with streams. In addition, do not cast to `List`; you should be using `Collectors.toList()`.\r\n\r\n```\r\nresults.entrySet().stream().filter(entry -&gt; entry.getValue().equals(highestScore.get()))\r\n    .map(Map.Entry::getKey).collect(Collectors.toList());\r\n```","title":"pick keys with equal values and create a new list from them","body":"<p>You need to get the value from the <code>Optional</code> to compare it.</p>\n<p>Thus, the first solution should be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (entry.getValue().equals(highestScore.get()))\n</code></pre>\n<p>The same applies to the solution with streams. In addition, do not cast to <code>List</code>; you should be using <code>Collectors.toList()</code>.</p>\n<pre><code>results.entrySet().stream().filter(entry -&gt; entry.getValue().equals(highestScore.get()))\n    .map(Map.Entry::getKey).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":26403633,"reputation":493,"user_id":20053747,"display_name":"Magda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73910410,"answer_count":1,"score":1,"last_activity_date":1664548819,"creation_date":1664548443,"question_id":73910339,"body_markdown":"I have a following Map: \r\n\r\n    public Map&lt;Player, Integer&gt; results = new LinkedHashMap&lt;&gt;();\r\n\r\nand I want to create a new List of Players that have the same Integer value (highestScore) in the results map. \r\n\r\nI calculate highestScore - works OK:\r\n\r\n    Optional&lt;Integer&gt; highestScore = scoreResultsSorted.entrySet().stream().map(Map.Entry::getValue).findFirst();\r\n\r\nI initialized `public List&lt;Player&gt; tiePlayers = new ArrayList&lt;&gt;();`\r\n\r\nAnd my approaches are: \r\n\r\n1) \r\n\r\n        for (Map.Entry&lt;Player, Integer&gt; entry : results.entrySet()) {\r\n            if (entry.getValue().equals(highestScore)) {\r\n                tiePlayers.add(entry.getKey());\r\n            }\r\n        }\r\n\r\n2) `tiePlayers = (List&lt;Player&gt;) results.entrySet().stream().filter(entry -&gt; entry.getValue().equals(highestScore)).map(Map.Entry::getKey);`\r\n\r\nThe first one returns empty array [], the second one returns &quot;java.lang.ClassCastException: class java.util.stream.ReferencePipeline$3 cannot be cast to class java.util.List (java.util.stream.ReferencePipeline$3 and java.util.List are in module java.base of loader &#39;bootstrap&#39;)&quot;.\r\n\r\nThe second exception I dont really get. In the first I cannot find the reason its empty.\r\n","title":"pick keys with equal values and create a new list from them","body":"<p>I have a following Map:</p>\n<pre><code>public Map&lt;Player, Integer&gt; results = new LinkedHashMap&lt;&gt;();\n</code></pre>\n<p>and I want to create a new List of Players that have the same Integer value (highestScore) in the results map.</p>\n<p>I calculate highestScore - works OK:</p>\n<pre><code>Optional&lt;Integer&gt; highestScore = scoreResultsSorted.entrySet().stream().map(Map.Entry::getValue).findFirst();\n</code></pre>\n<p>I initialized <code>public List&lt;Player&gt; tiePlayers = new ArrayList&lt;&gt;();</code></p>\n<p>And my approaches are:</p>\n<p>1)</p>\n<pre><code>    for (Map.Entry&lt;Player, Integer&gt; entry : results.entrySet()) {\n        if (entry.getValue().equals(highestScore)) {\n            tiePlayers.add(entry.getKey());\n        }\n    }\n</code></pre>\n<ol start=\"2\">\n<li><code>tiePlayers = (List&lt;Player&gt;) results.entrySet().stream().filter(entry -&gt; entry.getValue().equals(highestScore)).map(Map.Entry::getKey);</code></li>\n</ol>\n<p>The first one returns empty array [], the second one returns &quot;java.lang.ClassCastException: class java.util.stream.ReferencePipeline$3 cannot be cast to class java.util.List (java.util.stream.ReferencePipeline$3 and java.util.List are in module java.base of loader 'bootstrap')&quot;.</p>\n<p>The second exception I dont really get. In the first I cannot find the reason its empty.</p>\n"},{"tags":["java","regex","split","protobuf-java"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - ÈÄÄ„Åó„Åü"},"score":0,"creation_date":1664553984,"post_id":73909917,"comment_id":130505942,"body_markdown":"`str.split(&quot;((?&lt;=!=)|(?=!=))|((?&lt;===)|(?===))|((?&lt;=~=)|(?=~=))&quot;);`. Produces an array consisting of: `[fare.details.type, !=, &quot;AB&quot;]`.","body":"<code>str.split(&quot;((?&lt;=!=)|(?=!=))|((?&lt;===)|(?===))|((?&lt;=~=)|(?=~=)&zwnj;&#8203;)&quot;);</code>. Produces an array consisting of: <code>[fare.details.type, !=, &quot;AB&quot;]</code>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1664554151,"post_id":73909917,"comment_id":130505997,"body_markdown":"Or even simpler `split(&quot;(?&lt;=[~=!]=)|(?=[~=!]=)&quot;)`","body":"Or even simpler <code>split(&quot;(?&lt;=[~=!]=)|(?=[~=!]=)&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":541949,"reputation":420,"user_id":5744937,"display_name":"Douglas Gardim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664548411,"creation_date":1664548411,"answer_id":73910332,"question_id":73909917,"body_markdown":"Are you trying to extract the operator and the operands from each expression?\r\nMaybe you should try de regex Pattern API.\r\n\r\n        Pattern p = Pattern.compile(&quot;^(.+)(==|\\\\!=|\\\\~=)(.+)&quot;);\r\n        String string = &quot;fare.details.type!=\\&quot;AB\\&quot;;\r\n        Matcher m = p.matcher(string);\r\n        if (m.find()) {\r\n            String fieldPath = m.group(1);\r\n            String operator = m.group(2);\r\n            String value = m.group(3);\r\n        }\r\n\r\n\r\n","title":"How to split a string in java which has comparison operators","body":"<p>Are you trying to extract the operator and the operands from each expression?\nMaybe you should try de regex Pattern API.</p>\n<pre><code>    Pattern p = Pattern.compile(&quot;^(.+)(==|\\\\!=|\\\\~=)(.+)&quot;);\n    String string = &quot;fare.details.type!=\\&quot;AB\\&quot;;\n    Matcher m = p.matcher(string);\n    if (m.find()) {\n        String fieldPath = m.group(1);\n        String operator = m.group(2);\n        String value = m.group(3);\n    }\n</code></pre>\n"}],"owner":{"account_id":23611327,"reputation":9,"user_id":17646293,"display_name":"Achu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73910332,"answer_count":1,"score":0,"last_activity_date":1664548411,"creation_date":1664546324,"question_id":73909917,"body_markdown":"I am using string in the below format where i need to iterate the strings seperated by &quot;,&quot;:\r\n\r\n    &lt;field_path1&gt;&lt;operator1&gt;&lt;value1/regex1&gt;,&lt;field_path2&gt;&lt;operator2&gt;&lt;value2/regex2&gt;\r\n\r\nex: fare.details.type!=&quot;AB&quot;, id.name.first==&quot;QWERT&quot; \r\n\r\nfare.details.type is a field defined in a protobuf file. \r\n\r\nFirst i split the string using &quot;,&quot; to get different conditions and then I tried to split the string using delimeter as the operators &quot;==&quot;, &quot;!=&quot; and &quot;~=&quot;.\r\n\r\n    String[] operator = string.split(&quot;==|\\\\!=|\\~=&quot;);\r\n\r\nIn the end i need to do a comparison of the string in the below format. Using the split operator i don&#39;t get the exact operator which is used exactly in the string. \r\n\r\n\r\n    if (fare.details.type!=&quot;AB&quot;)\r\n\r\n\r\nPlease help if anyone knows how to approach it or if can split it it some other way.","title":"How to split a string in java which has comparison operators","body":"<p>I am using string in the below format where i need to iterate the strings seperated by &quot;,&quot;:</p>\n<pre><code>&lt;field_path1&gt;&lt;operator1&gt;&lt;value1/regex1&gt;,&lt;field_path2&gt;&lt;operator2&gt;&lt;value2/regex2&gt;\n</code></pre>\n<p>ex: fare.details.type!=&quot;AB&quot;, id.name.first==&quot;QWERT&quot;</p>\n<p>fare.details.type is a field defined in a protobuf file.</p>\n<p>First i split the string using &quot;,&quot; to get different conditions and then I tried to split the string using delimeter as the operators &quot;==&quot;, &quot;!=&quot; and &quot;~=&quot;.</p>\n<pre><code>String[] operator = string.split(&quot;==|\\\\!=|\\~=&quot;);\n</code></pre>\n<p>In the end i need to do a comparison of the string in the below format. Using the split operator i don't get the exact operator which is used exactly in the string.</p>\n<pre><code>if (fare.details.type!=&quot;AB&quot;)\n</code></pre>\n<p>Please help if anyone knows how to approach it or if can split it it some other way.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":6521635,"reputation":13692,"user_id":5045688,"display_name":"Alexander Petrov"},"score":0,"creation_date":1664547520,"post_id":73909759,"comment_id":130503647,"body_markdown":"Is it Java? Add tag.","body":"Is it Java? Add tag."},{"owner":{"account_id":3905225,"reputation":77,"user_id":3232103,"accept_rate":60,"display_name":"osmanedip"},"score":0,"creation_date":1664548229,"post_id":73909759,"comment_id":130503903,"body_markdown":"yes, It is Java","body":"yes, It is Java"},{"owner":{"account_id":2063580,"reputation":893,"user_id":1839624,"accept_rate":100,"display_name":"Sid"},"score":0,"creation_date":1664550302,"post_id":73909759,"comment_id":130504656,"body_markdown":"You need to parse the JSON response first. Some libs mentioned here https://stackoverflow.com/questions/2591098/how-to-parse-json-in-java","body":"You need to parse the JSON response first. Some libs mentioned here <a href=\"https://stackoverflow.com/questions/2591098/how-to-parse-json-in-java\" title=\"how to parse json in java\">stackoverflow.com/questions/2591098/how-to-parse-json-in-jav&zwnj;&#8203;a</a>"},{"owner":{"account_id":3905225,"reputation":77,"user_id":3232103,"accept_rate":60,"display_name":"osmanedip"},"score":0,"creation_date":1664966588,"post_id":73909759,"comment_id":130587869,"body_markdown":"Hello, I handled that problem. I need another help about json string from https://stackoverflow.com/questions/73959212/assigning-input-to-json-string link.","body":"Hello, I handled that problem. I need another help about json string from <a href=\"https://stackoverflow.com/questions/73959212/assigning-input-to-json-string\" title=\"assigning input to json string\">stackoverflow.com/questions/73959212/&hellip;</a> link."}],"owner":{"account_id":3905225,"reputation":77,"user_id":3232103,"accept_rate":60,"display_name":"osmanedip"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664548252,"creation_date":1664545526,"question_id":73909759,"body_markdown":"I called eFinans e-Archive service. faturaOlustur method expects me a json string. I created an variable and assing json string value and giving input parameter. Input parameter expects me String. But variable side expects me only string. I can&#39;t solve a solution that problem. Please examine and give me a clue please.\r\n\r\n    \r\n    public static void eArsivConnectorClient(){\r\n\t\t\r\n\t\tString username = &quot;username&quot;;\r\n\t\tString password = &quot;password&quot;;\r\n\t\tString endPointUrl = &quot;https://earsivtest.efinans.com.tr:443/earsiv/ws/EarsivWebService&quot;;\r\n\t\t\r\n\t\ttry{\t\t\r\n\t\t\tEarsivWebService_Service earsivService = new EarsivWebService_Service(new URL (endPointUrl + &quot;?wsdl&quot;));\r\n\t\t\tearsivService.setHandlerResolver(new SoapHandlerResolver(username, password));\r\n\t\t\t\r\n\t\t\tEarsivWebService earsivPort = earsivService.getEarsivWebServicePort();\r\n\t\t\tWSBindingProvider bindingProvider = (WSBindingProvider) earsivPort;\r\n            bindingProvider.getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, endPointUrl);\r\n          \r\n            try\r\n            {\r\n            \t\r\n                EarsivServiceResult srvResult = new EarsivServiceResult();\r\n                Holder&lt;Belge&gt; output = null;\r\n\r\n\t\t\t\t\r\n                String[] input = new String[]{&quot;vkn&quot;,&quot;4250566851&quot;, &quot;sube&quot;,&quot;DFLT1&quot;, &quot;kasa&quot;,&quot;DFLT1&quot;, \r\n                 &quot;islemId&quot;,&quot;12232&quot;, &quot;erpKodu&quot;,&quot;ERP1&quot;};**\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tBelge fatura = new Belge();\r\n\t\t\t\r\n\t\t\t\tfatura.setBelgeFormati(BelgeFormatiEnum.UBL);\r\n\t\t\t\t\r\n\t            Path path = Paths.get(&quot;C:\\\\RNK2022000002605.xml&quot;);\r\n\t            byte[] value = Files.readAllBytes(path);\r\n\t\t\t\tfatura.setBelgeIcerigi(value);\r\n\t\t\t\tEarsivServiceResult arsivBelge = earsivPort.faturaOlustur(input, fatura , output);\r\n\t\t\t\tSystem.out.println(arsivBelge.getResultCode());\r\n              \r\n            }\r\n            catch (Exception e)\r\n            {\r\n                System.out.println(e.getMessage());\r\n            }\r\n            \r\n\t\t}catch(Throwable t){\r\n\t\t\tt.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n","title":"Json String Deserilize","body":"<p>I called eFinans e-Archive service. faturaOlustur method expects me a json string. I created an variable and assing json string value and giving input parameter. Input parameter expects me String. But variable side expects me only string. I can't solve a solution that problem. Please examine and give me a clue please.</p>\n<pre><code>public static void eArsivConnectorClient(){\n    \n    String username = &quot;username&quot;;\n    String password = &quot;password&quot;;\n    String endPointUrl = &quot;https://earsivtest.efinans.com.tr:443/earsiv/ws/EarsivWebService&quot;;\n    \n    try{        \n        EarsivWebService_Service earsivService = new EarsivWebService_Service(new URL (endPointUrl + &quot;?wsdl&quot;));\n        earsivService.setHandlerResolver(new SoapHandlerResolver(username, password));\n        \n        EarsivWebService earsivPort = earsivService.getEarsivWebServicePort();\n        WSBindingProvider bindingProvider = (WSBindingProvider) earsivPort;\n        bindingProvider.getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, endPointUrl);\n      \n        try\n        {\n            \n            EarsivServiceResult srvResult = new EarsivServiceResult();\n            Holder&lt;Belge&gt; output = null;\n\n            \n            String[] input = new String[]{&quot;vkn&quot;,&quot;4250566851&quot;, &quot;sube&quot;,&quot;DFLT1&quot;, &quot;kasa&quot;,&quot;DFLT1&quot;, \n             &quot;islemId&quot;,&quot;12232&quot;, &quot;erpKodu&quot;,&quot;ERP1&quot;};**\n            \n            \n            Belge fatura = new Belge();\n        \n            fatura.setBelgeFormati(BelgeFormatiEnum.UBL);\n            \n            Path path = Paths.get(&quot;C:\\\\RNK2022000002605.xml&quot;);\n            byte[] value = Files.readAllBytes(path);\n            fatura.setBelgeIcerigi(value);\n            EarsivServiceResult arsivBelge = earsivPort.faturaOlustur(input, fatura , output);\n            System.out.println(arsivBelge.getResultCode());\n          \n        }\n        catch (Exception e)\n        {\n            System.out.println(e.getMessage());\n        }\n        \n    }catch(Throwable t){\n        t.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":15054416,"reputation":419,"user_id":10865170,"display_name":"Big Zed"},"score":0,"creation_date":1664535258,"post_id":73907466,"comment_id":130499459,"body_markdown":"You should try to optimize your code and see if you can send a lot of small data instead of a massive chunc. Also if you have a multicore CPU, you can use ParallelStreams to try to reduce the execution time (only for multicore CPUs or it will have the opposite result).","body":"You should try to optimize your code and see if you can send a lot of small data instead of a massive chunc. Also if you have a multicore CPU, you can use ParallelStreams to try to reduce the execution time (only for multicore CPUs or it will have the opposite result)."},{"owner":{"account_id":26491351,"reputation":1,"user_id":20129546,"display_name":"Udit Mishra"},"score":0,"creation_date":1664535657,"post_id":73907466,"comment_id":130499597,"body_markdown":"How to return small data since it is running in loop to fetch table data and adding into list and once loop completed 2Lac record return all list in one, any working example will be helpful","body":"How to return small data since it is running in loop to fetch table data and adding into list and once loop completed 2Lac record return all list in one, any working example will be helpful"},{"owner":{"account_id":15054416,"reputation":419,"user_id":10865170,"display_name":"Big Zed"},"score":2,"creation_date":1664537286,"post_id":73907466,"comment_id":130500157,"body_markdown":"You can try to do a pagination system so that instead of looping into 1K record you just loop into the first 10 or 20, then the following 10/20, etc.","body":"You can try to do a pagination system so that instead of looping into 1K record you just loop into the first 10 or 20, then the following 10/20, etc."},{"owner":{"account_id":4726205,"reputation":12248,"user_id":4420967,"display_name":"James Z"},"score":1,"creation_date":1664548057,"post_id":73907466,"comment_id":130503846,"body_markdown":"Please avoid using words like *lakh* and *lac* that are not globally understood.","body":"Please avoid using words like <i>lakh</i> and <i>lac</i> that are not globally understood."}],"owner":{"account_id":26491351,"reputation":1,"user_id":20129546,"display_name":"Udit Mishra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664548033,"creation_date":1664534425,"question_id":73907466,"body_markdown":"Spring data jpa fetch 200k huge records from table and expose endpoint to display fetch data in json response. I tried all possibilities like stream etc but it is impacting performance and while rendering response in postman, postman tool is getting crashed due to huge data set. any help or suggestions would be appreciated \r\n","title":"Spring data jpa fetch 200k records and expose endpoint to produce the fetch data","body":"<p>Spring data jpa fetch 200k huge records from table and expose endpoint to display fetch data in json response. I tried all possibilities like stream etc but it is impacting performance and while rendering response in postman, postman tool is getting crashed due to huge data set. any help or suggestions would be appreciated</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":9727934,"reputation":2489,"user_id":7214142,"display_name":"Yuriy Tsarkov"},"score":0,"creation_date":1664569103,"post_id":73910212,"comment_id":130509829,"body_markdown":"Does [it](https://stackoverflow.com/questions/12155632/injecting-a-spring-dependency-into-a-jpa-entitylistener) answer the question?","body":"Does <a href=\"https://stackoverflow.com/questions/12155632/injecting-a-spring-dependency-into-a-jpa-entitylistener\">it</a> answer the question?"},{"owner":{"account_id":6138978,"reputation":2143,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"score":0,"creation_date":1664791950,"post_id":73910212,"comment_id":130544795,"body_markdown":"@YuriyTsarkov No, that question is about Spring Roo. I&#39;m asking about Spring Boot/Spring Data.","body":"@YuriyTsarkov No, that question is about Spring Roo. I&#39;m asking about Spring Boot/Spring Data."}],"owner":{"account_id":6138978,"reputation":2143,"user_id":4786956,"accept_rate":55,"display_name":"Antonio Dragos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664547696,"creation_date":1664547696,"question_id":73910212,"body_markdown":"In my Spring Boot/Spring Data app when a user is deleted I want to query and update some other tables.\r\n\r\n[This tutorial][1] shows how to define an event listener that will be notified when a user is deleted.\r\n\r\n    @EntityListeners(AuditTrailListener.class)\r\n    @Entity\r\n    public class User {\r\n        // fields, getters, setters, etc. omitted\r\n    }\r\n    \r\n    public class AuditTrailListener {\r\n        private static Log log = LogFactory.getLog(AuditTrailListener.class);\r\n        \r\n        @PostRemove\r\n        private void afterDelete(User user) {\r\n            log.info(&quot;[USER AUDIT] add/update/delete complete for user: &quot; + user.getId());\r\n        }    \r\n    }\r\n\r\nI would like the event listener to itself be a Spring bean, so that I can inject it with Spring Data repository beans that will do the querying and updating of other tables, but as far as I can tell `AuditTrailListener` is not itself a Spring bean.\r\n\r\nI would like the listener to run in the same transaction as the user deletion, such that if a runtime exception is thrown from the listener everything (including the user deletion) will be rolled back.\r\n\r\nIs it possible to define a Spring bean persistence event listener which runs in the same transaction as the event it listens to?\r\n\r\n  [1]: https://www.baeldung.com/jpa-entity-lifecycle-events","title":"Defining a Spring bean persistence event listener","body":"<p>In my Spring Boot/Spring Data app when a user is deleted I want to query and update some other tables.</p>\n<p><a href=\"https://www.baeldung.com/jpa-entity-lifecycle-events\" rel=\"nofollow noreferrer\">This tutorial</a> shows how to define an event listener that will be notified when a user is deleted.</p>\n<pre><code>@EntityListeners(AuditTrailListener.class)\n@Entity\npublic class User {\n    // fields, getters, setters, etc. omitted\n}\n\npublic class AuditTrailListener {\n    private static Log log = LogFactory.getLog(AuditTrailListener.class);\n    \n    @PostRemove\n    private void afterDelete(User user) {\n        log.info(&quot;[USER AUDIT] add/update/delete complete for user: &quot; + user.getId());\n    }    \n}\n</code></pre>\n<p>I would like the event listener to itself be a Spring bean, so that I can inject it with Spring Data repository beans that will do the querying and updating of other tables, but as far as I can tell <code>AuditTrailListener</code> is not itself a Spring bean.</p>\n<p>I would like the listener to run in the same transaction as the user deletion, such that if a runtime exception is thrown from the listener everything (including the user deletion) will be rolled back.</p>\n<p>Is it possible to define a Spring bean persistence event listener which runs in the same transaction as the event it listens to?</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1664557246,"post_id":73909841,"comment_id":130506885,"body_markdown":"Try with GraalVM (native-image)... ?","body":"Try with GraalVM (native-image)... ?"},{"owner":{"account_id":5184875,"reputation":47,"user_id":4190314,"display_name":"Prakash"},"score":0,"creation_date":1665494234,"post_id":73909841,"comment_id":130709830,"body_markdown":"@Sandy, Were you able to prepare the EXE file for your Spring boot application? I am looking for similar stuff for my Spring boot web project.","body":"@Sandy, Were you able to prepare the EXE file for your Spring boot application? I am looking for similar stuff for my Spring boot web project."}],"answers":[{"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664546379,"post_id":73909902,"comment_id":130503256,"body_markdown":"Can you extend you answer. External resources tend to rust over time it is better have at least core answer here.","body":"Can you extend you answer. External resources tend to rust over time it is better have at least core answer here."},{"owner":{"account_id":23523602,"reputation":121,"user_id":17570426,"display_name":"davyioner"},"score":0,"creation_date":1664546460,"post_id":73909902,"comment_id":130503295,"body_markdown":"Will do, give me a few mins!","body":"Will do, give me a few mins!"}],"tags":[],"owner":{"account_id":23523602,"reputation":121,"user_id":17570426,"display_name":"davyioner"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664547410,"creation_date":1664546217,"answer_id":73909902,"question_id":73909841,"body_markdown":"You can use Launch4J:\r\n\r\nhttps://genuinecoder.com/convert-java-jar-to-exe/\r\n1. Download Launch4J: http://launch4j.sourceforge.net/\r\n2. Select your .jar and the output for your .exe\r\n![launch4j](https://javatidbits.files.wordpress.com/2016/04/l4j3.png)\r\n\r\n3. Select additional details, for example an Icon. Most basic configs speak for themself. \r\n\r\n4. Include classpaths:\r\n![launch4j](https://javatidbits.files.wordpress.com/2016/04/l4j_6.png)\r\n\r\n5. Aditonally select the required java version in the JRE tab.\r\n\r\n6. Build the .exe!\r\n\r\n--\r\n\r\nAlthough in your case if you just want to run the .jar I would look at my other comment first and run it with \r\n``` java -jar &lt;jar-file-name&gt;.jar ```","title":"Spring boot application exe file","body":"<p>You can use Launch4J:</p>\n<p><a href=\"https://genuinecoder.com/convert-java-jar-to-exe/\" rel=\"nofollow noreferrer\">https://genuinecoder.com/convert-java-jar-to-exe/</a></p>\n<ol>\n<li><p>Download Launch4J: <a href=\"http://launch4j.sourceforge.net/\" rel=\"nofollow noreferrer\">http://launch4j.sourceforge.net/</a></p>\n</li>\n<li><p>Select your .jar and the output for your .exe\n<img src=\"https://javatidbits.files.wordpress.com/2016/04/l4j3.png\" alt=\"launch4j\" /></p>\n</li>\n<li><p>Select additional details, for example an Icon. Most basic configs speak for themself.</p>\n</li>\n<li><p>Include classpaths:\n<img src=\"https://javatidbits.files.wordpress.com/2016/04/l4j_6.png\" alt=\"launch4j\" /></p>\n</li>\n<li><p>Aditonally select the required java version in the JRE tab.</p>\n</li>\n<li><p>Build the .exe!</p>\n</li>\n</ol>\n<p>--</p>\n<p>Although in your case if you just want to run the .jar I would look at my other comment first and run it with\n<code>java -jar &lt;jar-file-name&gt;.jar</code></p>\n"}],"owner":{"account_id":22047315,"reputation":17,"user_id":16312115,"display_name":"Sandy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664547410,"creation_date":1664545926,"question_id":73909841,"body_markdown":"Is there any way to create the exe file of spring boot application executable jar? I&#39;ve used launch maven plugin but exe file which it&#39;s creation is not working. On double click it doesn&#39;t show application Console....","title":"Spring boot application exe file","body":"<p>Is there any way to create the exe file of spring boot application executable jar? I've used launch maven plugin but exe file which it's creation is not working. On double click it doesn't show application Console....</p>\n"},{"tags":["java","windows-subsystem-for-linux","jmx","visualvm","wsl-2"],"answers":[{"comments":[{"owner":{"account_id":10158538,"reputation":2222,"user_id":7502800,"accept_rate":100,"display_name":"usuario"},"score":0,"creation_date":1636765057,"post_id":66906896,"comment_id":123652190,"body_markdown":"do you mean using `-D=com.sun.management.jmxremote.host=0.0.0.0`?","body":"do you mean using <code>-D=com.sun.management.jmxremote.host=0.0.0.0</code>?"}],"tags":[],"owner":{"account_id":10541859,"reputation":1,"user_id":7767593,"display_name":"moxli"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617289169,"creation_date":1617289169,"answer_id":66906896,"question_id":66222727,"body_markdown":"This seems to be a general issue with Java.\r\n\r\nhttps://github.com/microsoft/WSL/discussions/6253\r\n\r\nA workaround that worked for me was listening on &#39;0.0.0.0&#39; instead of &#39;127.0.0.1&#39; in WSL2 with the JMX server.","title":"How to connect to JMX server running inside WSL2","body":"<p>This seems to be a general issue with Java.</p>\n<p><a href=\"https://github.com/microsoft/WSL/discussions/6253\" rel=\"nofollow noreferrer\">https://github.com/microsoft/WSL/discussions/6253</a></p>\n<p>A workaround that worked for me was listening on '0.0.0.0' instead of '127.0.0.1' in WSL2 with the JMX server.</p>\n"},{"comments":[{"owner":{"account_id":984172,"reputation":594,"user_id":1003113,"display_name":"Martynas Juseviƒçius"},"score":1,"creation_date":1664444046,"post_id":68533337,"comment_id":130474996,"body_markdown":"Do you mean this? [Run Linux GUI apps on the Windows Subsystem for Linux](https://learn.microsoft.com/en-us/windows/wsl/tutorials/gui-apps)","body":"Do you mean this? <a href=\"https://learn.microsoft.com/en-us/windows/wsl/tutorials/gui-apps\" rel=\"nofollow noreferrer\">Run Linux GUI apps on the Windows Subsystem for Linux</a>"}],"tags":[],"owner":{"account_id":1881368,"reputation":176,"user_id":1701505,"display_name":"David Boreham"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1664547246,"creation_date":1627316657,"answer_id":68533337,"question_id":66222727,"body_markdown":"I wasn&#39;t able to get Windows jconsole to connect to a JVM running in WSL2 using any of the suggestions above, however it is now possible to run Linux jconsole in WSL2, using [Windows 11&#39;s Linux GUI support][1]. Works perfectly.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/wsl/tutorials/gui-apps","title":"How to connect to JMX server running inside WSL2","body":"<p>I wasn't able to get Windows jconsole to connect to a JVM running in WSL2 using any of the suggestions above, however it is now possible to run Linux jconsole in WSL2, using <a href=\"https://learn.microsoft.com/en-us/windows/wsl/tutorials/gui-apps\" rel=\"nofollow noreferrer\">Windows 11's Linux GUI support</a>. Works perfectly.</p>\n"},{"comments":[{"owner":{"account_id":3136087,"reputation":195,"user_id":2745865,"display_name":"zagrimsan"},"score":1,"creation_date":1656424521,"post_id":71881475,"comment_id":128565418,"body_markdown":"+1 for mentioning &quot;java.rmi.server.hostname&quot; (which was what I needed, while the other more recent answers seem to lack) to be able to connect from Windows to WSL2. I wonder if the host, when telling the client which port to use, also sends the IP/hostname to connect to, and without setting that property in my case it was something else than localhost.","body":"+1 for mentioning &quot;java.rmi.server.hostname&quot; (which was what I needed, while the other more recent answers seem to lack) to be able to connect from Windows to WSL2. I wonder if the host, when telling the client which port to use, also sends the IP/hostname to connect to, and without setting that property in my case it was something else than localhost."},{"owner":{"account_id":984172,"reputation":594,"user_id":1003113,"display_name":"Martynas Juseviƒçius"},"score":0,"creation_date":1664444834,"post_id":71881475,"comment_id":130475277,"body_markdown":"OMG this actually worked! Thanks a lot. How the hell did you figure it out??","body":"OMG this actually worked! Thanks a lot. How the hell did you figure it out??"}],"tags":[],"owner":{"account_id":4260366,"reputation":877,"user_id":3484881,"display_name":"tporeba"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1650009441,"creation_date":1650009441,"answer_id":71881475,"question_id":66222727,"body_markdown":"I had the same problem and finally I found a working set of properties for my WSL2. Additionally I had additional requirement to set it up for docker container running inside WSL2, while JConsole/VisualVM was running on Windows host. I have also a VPN running which probably mess up networking even more.\r\n\r\nI found this application https://github.com/cluther/jmx-tester to be useful in debugging the connection.\r\n\r\ninside WSL2\r\n----\r\n```\r\njava \\\r\n-Dcom.sun.management.jmxremote=true \\\r\n-Djava.rmi.server.hostname=127.0.0.1 \\\r\n-Dcom.sun.management.jmxremote.port=9991 \\\r\n-Dcom.sun.management.jmxremote.ssl=false \\\r\n-Dcom.sun.management.jmxremote.registry.ssl=false \\\r\n-Dcom.sun.management.jmxremote.authenticate=false \\\r\n-Djava.net.preferIPv4Stack=true \\\r\n-jar jmx-tester-1.0.0.jar\r\n```\r\n\r\nThen on Windows host connect JMX to `127.0.0.1:9991`\r\n\r\ndocker container inside WSL2\r\n--------------\r\n\r\n```\r\njava \\\r\n-Dcom.sun.management.jmxremote=true \\\r\n-Djava.rmi.server.hostname=127.0.0.1 \\\r\n-Dcom.sun.management.jmxremote.host=0.0.0.0 \\\r\n-Dcom.sun.management.jmxremote.port=9991 \\\r\n-Dcom.sun.management.jmxremote.rmi.port=9991 \\\r\n-Dcom.sun.management.jmxremote.ssl=false \\\r\n-Dcom.sun.management.jmxremote.registry.ssl=false \\\r\n-Dcom.sun.management.jmxremote.authenticate=false \\\r\n-Djava.net.preferIPv4Stack=true \\\r\n-jar jmx-tester-1.0.0.jar\r\n```\r\n\r\nThen on Windows host connect JMX to `127.0.0.1:9991`","title":"How to connect to JMX server running inside WSL2","body":"<p>I had the same problem and finally I found a working set of properties for my WSL2. Additionally I had additional requirement to set it up for docker container running inside WSL2, while JConsole/VisualVM was running on Windows host. I have also a VPN running which probably mess up networking even more.</p>\n<p>I found this application <a href=\"https://github.com/cluther/jmx-tester\" rel=\"nofollow noreferrer\">https://github.com/cluther/jmx-tester</a> to be useful in debugging the connection.</p>\n<h2>inside WSL2</h2>\n<pre><code>java \\\n-Dcom.sun.management.jmxremote=true \\\n-Djava.rmi.server.hostname=127.0.0.1 \\\n-Dcom.sun.management.jmxremote.port=9991 \\\n-Dcom.sun.management.jmxremote.ssl=false \\\n-Dcom.sun.management.jmxremote.registry.ssl=false \\\n-Dcom.sun.management.jmxremote.authenticate=false \\\n-Djava.net.preferIPv4Stack=true \\\n-jar jmx-tester-1.0.0.jar\n</code></pre>\n<p>Then on Windows host connect JMX to <code>127.0.0.1:9991</code></p>\n<h2>docker container inside WSL2</h2>\n<pre><code>java \\\n-Dcom.sun.management.jmxremote=true \\\n-Djava.rmi.server.hostname=127.0.0.1 \\\n-Dcom.sun.management.jmxremote.host=0.0.0.0 \\\n-Dcom.sun.management.jmxremote.port=9991 \\\n-Dcom.sun.management.jmxremote.rmi.port=9991 \\\n-Dcom.sun.management.jmxremote.ssl=false \\\n-Dcom.sun.management.jmxremote.registry.ssl=false \\\n-Dcom.sun.management.jmxremote.authenticate=false \\\n-Djava.net.preferIPv4Stack=true \\\n-jar jmx-tester-1.0.0.jar\n</code></pre>\n<p>Then on Windows host connect JMX to <code>127.0.0.1:9991</code></p>\n"},{"tags":[],"owner":{"account_id":1535484,"reputation":4254,"user_id":2365727,"accept_rate":88,"display_name":"michaldo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650623374,"creation_date":1650623374,"answer_id":71967275,"question_id":66222727,"body_markdown":"In my case it depends on `java.net.preferIPv6Addresses` https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/doc-files/net-properties.html\r\n\r\nDefault value is false\r\n\r\nI have server running on WSL2 and client running on Win11:\r\n\r\n```\r\nc:&gt;java -Djava.net.preferIPv6Addresses=system my.My2 http://localhost:8025\r\nhttp://localhost:8025\r\n{&quot;timestamp&quot;:&quot;2022-04-22T10:25:03.819+00:00&quot;,&quot;status&quot;:&quot;404&quot;,&quot;error&quot;:&quot;Not Found&quot;,&quot;path&quot;:&quot;/&quot;}\r\n\r\nc:&gt;java -Djava.net.preferIPv6Addresses=true my.My2 http://localhost:8025\r\nhttp://localhost:8025\r\n{&quot;timestamp&quot;:&quot;2022-04-22T10:25:14.544+00:00&quot;,&quot;status&quot;:&quot;404&quot;,&quot;error&quot;:&quot;Not Found&quot;,&quot;path&quot;:&quot;/&quot;}\r\n\r\nc:&gt;java -Djava.net.preferIPv6Addresses=false my.My2 http://localhost:8025\r\nhttp://localhost:8025\r\nException in thread &quot;main&quot; java.net.ConnectException\r\n        at java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:571)\r\n        at java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:123)\r\n        at my.My2.main(My2.java:15)\r\nCaused by: java.net.ConnectException\r\n...\r\n\r\nc:&gt;java  my.My2 http://localhost:8025\r\nhttp://localhost:8025\r\nException in thread &quot;main&quot; java.net.ConnectException\r\n        at java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:571)\r\n        at java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:123)\r\n        at my.My2.main(My2.java:15)\r\nCaused by: java.net.ConnectException\r\n...","title":"How to connect to JMX server running inside WSL2","body":"<p>In my case it depends on <code>java.net.preferIPv6Addresses</code> <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/doc-files/net-properties.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/doc-files/net-properties.html</a></p>\n<p>Default value is false</p>\n<p>I have server running on WSL2 and client running on Win11:</p>\n<pre><code>c:&gt;java -Djava.net.preferIPv6Addresses=system my.My2 http://localhost:8025\nhttp://localhost:8025\n{&quot;timestamp&quot;:&quot;2022-04-22T10:25:03.819+00:00&quot;,&quot;status&quot;:&quot;404&quot;,&quot;error&quot;:&quot;Not Found&quot;,&quot;path&quot;:&quot;/&quot;}\n\nc:&gt;java -Djava.net.preferIPv6Addresses=true my.My2 http://localhost:8025\nhttp://localhost:8025\n{&quot;timestamp&quot;:&quot;2022-04-22T10:25:14.544+00:00&quot;,&quot;status&quot;:&quot;404&quot;,&quot;error&quot;:&quot;Not Found&quot;,&quot;path&quot;:&quot;/&quot;}\n\nc:&gt;java -Djava.net.preferIPv6Addresses=false my.My2 http://localhost:8025\nhttp://localhost:8025\nException in thread &quot;main&quot; java.net.ConnectException\n        at java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:571)\n        at java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:123)\n        at my.My2.main(My2.java:15)\nCaused by: java.net.ConnectException\n...\n\nc:&gt;java  my.My2 http://localhost:8025\nhttp://localhost:8025\nException in thread &quot;main&quot; java.net.ConnectException\n        at java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:571)\n        at java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:123)\n        at my.My2.main(My2.java:15)\nCaused by: java.net.ConnectException\n...\n</code></pre>\n"}],"owner":{"account_id":18155777,"reputation":385,"user_id":14997698,"display_name":"pszemus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3235,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1664547246,"creation_date":1613471633,"question_id":66222727,"body_markdown":"I&#39;m running my Java application with the following parameters that enable JMX server&#39;s remote connections:\r\n```\r\n-Dcom.sun.management.jmxremote=true\r\n-Dcom.sun.management.jmxremote.port=9998\r\n-Dcom.sun.management.jmxremote.authenticate=false\r\n-Dcom.sun.management.jmxremote.ssl=false\r\n```\r\nI can successfully connect to that JMX server via VisualVM by adding a new JMX Connection to address: `&lt;HOSTNAME&gt;:9998`\r\n\r\nBut when i run that application inside Windows Subsystem for Linux 2 (WSL2) Visual VM cannot connect to `localhost:9998`:\r\n[connection failed][1]\r\n\r\nFor what I know, every port that the application is listening on in WSL2 is also opened in host machine (Windows itself), and I can check that using `Win+R -&gt; cmd -&gt; telnet localhost 9998` (connected successfully).\r\nAlso, I&#39;m running an nginx instance inside WSL2 that I can connect to by any browser on my host machine (Windows) using `localhost`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g9pEE.png","title":"How to connect to JMX server running inside WSL2","body":"<p>I'm running my Java application with the following parameters that enable JMX server's remote connections:</p>\n<pre><code>-Dcom.sun.management.jmxremote=true\n-Dcom.sun.management.jmxremote.port=9998\n-Dcom.sun.management.jmxremote.authenticate=false\n-Dcom.sun.management.jmxremote.ssl=false\n</code></pre>\n<p>I can successfully connect to that JMX server via VisualVM by adding a new JMX Connection to address: <code>&lt;HOSTNAME&gt;:9998</code></p>\n<p>But when i run that application inside Windows Subsystem for Linux 2 (WSL2) Visual VM cannot connect to <code>localhost:9998</code>:\n<a href=\"https://i.stack.imgur.com/g9pEE.png\" rel=\"noreferrer\">connection failed</a></p>\n<p>For what I know, every port that the application is listening on in WSL2 is also opened in host machine (Windows itself), and I can check that using <code>Win+R -&gt; cmd -&gt; telnet localhost 9998</code> (connected successfully).\nAlso, I'm running an nginx instance inside WSL2 that I can connect to by any browser on my host machine (Windows) using <code>localhost</code>.</p>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1642060128,"post_id":70692775,"comment_id":124972599,"body_markdown":"An app can delete its audio files without that permission.","body":"An app can delete its audio files without that permission."}],"answers":[{"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1642065866,"post_id":70693847,"comment_id":124974576,"body_markdown":"3. A file created by the app where ever on external storage can be deleted.","body":"3. A file created by the app where ever on external storage can be deleted."}],"tags":[],"owner":{"account_id":5272991,"reputation":49,"user_id":4210707,"display_name":"Android_Learner"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642064541,"creation_date":1642064541,"answer_id":70693847,"question_id":70692775,"body_markdown":"This depends on where the audio file is present.\r\n1. if the file is present in the application data directory /data/data/&lt;package&gt;/files then no permission is required to delete the file\r\n\r\n2. if the file is part of External storage, then only the files under the directory returned by getExternalFilesDir can be deleted without any permission. From Android API level 19, access to any files under folder returned by getExternalFilesDir does not require permission.\r\n\r\nPlease specify the path of the audio file if it is not both of the above cases.","title":"How to delete audio file without using &quot;MANAGE_EXTERNAL_STORAGE&quot; permission Android 11+","body":"<p>This depends on where the audio file is present.</p>\n<ol>\n<li><p>if the file is present in the application data directory /data/data//files then no permission is required to delete the file</p>\n</li>\n<li><p>if the file is part of External storage, then only the files under the directory returned by getExternalFilesDir can be deleted without any permission. From Android API level 19, access to any files under folder returned by getExternalFilesDir does not require permission.</p>\n</li>\n</ol>\n<p>Please specify the path of the audio file if it is not both of the above cases.</p>\n"},{"comments":[{"owner":{"account_id":6746145,"reputation":4837,"user_id":5197712,"display_name":"Anand"},"score":0,"creation_date":1701084748,"post_id":70696360,"comment_id":136726992,"body_markdown":"Hi @Bhoomika Patel is there any way to delete a file automatically without asking the user in android 13 ?","body":"Hi @Bhoomika Patel is there any way to delete a file automatically without asking the user in android 13 ?"},{"owner":{"account_id":8736099,"reputation":1905,"user_id":6534707,"display_name":"Bhoomika Patel"},"score":0,"creation_date":1701231293,"post_id":70696360,"comment_id":136748823,"body_markdown":"@Anand for more security purpose, Android 13 not allowing direct deletion of file. So, we need to ask user before deleting any file.","body":"@Anand for more security purpose, Android 13 not allowing direct deletion of file. So, we need to ask user before deleting any file."},{"owner":{"account_id":6746145,"reputation":4837,"user_id":5197712,"display_name":"Anand"},"score":0,"creation_date":1701232700,"post_id":70696360,"comment_id":136748924,"body_markdown":"Okay thanks @Bookima","body":"Okay thanks @Bookima"}],"tags":[],"owner":{"account_id":8736099,"reputation":1905,"user_id":6534707,"display_name":"Bhoomika Patel"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642075707,"creation_date":1642075707,"answer_id":70696360,"question_id":70692775,"body_markdown":"We normally delete a file using file.delete(); (or) ContentResolver.delete() (or) do a media scan on the deleted file which would remove it&#39;s entry in MediaStore.\r\n\r\nthis is we used to below Android 11 os; And would still work the same in Android 10 as well if you had opted out of scoped storage by specifying it in manifest android:requestLegacyExternalStorage=&quot;true&quot;;\r\n\r\n\r\nNow in Android 11 you are forced to use scoped storage. If you want to delete any media file which is not created by you, you have to get the permission from the user. You can get the permission using MediaStore.createDeleteRequest(). This will show a dialog what operation users are about to perform, once the permission is granted, android has an internal code to take care of deleting both the physical file and the entry in MediaStore.\r\n\r\n    private void requestDeletePermission(List&lt;Uri&gt; uriList){\r\n      if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.R) {\r\n          PendingIntent pi = MediaStore.createDeleteRequest(mActivity.getContentResolver(), uriList);\r\n    \r\n          try {\r\n             startIntentSenderForResult(pi.getIntentSender(), REQUEST_PERM_DELETE, null, 0, 0,\r\n                      0);\r\n          } catch (SendIntentException e) { }\r\n        }\r\n    }\r\n\r\nThe above code would do both, requesting the permission to delete, and once permission granted delete the files as well.\r\n\r\nAnd the callback result you would get it in onActivityResult() ","title":"How to delete audio file without using &quot;MANAGE_EXTERNAL_STORAGE&quot; permission Android 11+","body":"<p>We normally delete a file using file.delete(); (or) ContentResolver.delete() (or) do a media scan on the deleted file which would remove it's entry in MediaStore.</p>\n<p>this is we used to below Android 11 os; And would still work the same in Android 10 as well if you had opted out of scoped storage by specifying it in manifest android:requestLegacyExternalStorage=&quot;true&quot;;</p>\n<p>Now in Android 11 you are forced to use scoped storage. If you want to delete any media file which is not created by you, you have to get the permission from the user. You can get the permission using MediaStore.createDeleteRequest(). This will show a dialog what operation users are about to perform, once the permission is granted, android has an internal code to take care of deleting both the physical file and the entry in MediaStore.</p>\n<pre><code>private void requestDeletePermission(List&lt;Uri&gt; uriList){\n  if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.R) {\n      PendingIntent pi = MediaStore.createDeleteRequest(mActivity.getContentResolver(), uriList);\n\n      try {\n         startIntentSenderForResult(pi.getIntentSender(), REQUEST_PERM_DELETE, null, 0, 0,\n                  0);\n      } catch (SendIntentException e) { }\n    }\n}\n</code></pre>\n<p>The above code would do both, requesting the permission to delete, and once permission granted delete the files as well.</p>\n<p>And the callback result you would get it in onActivityResult()</p>\n"}],"owner":{"account_id":23907090,"reputation":21,"user_id":17904544,"display_name":"Tuhin Subhra Hazra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":858,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1664547144,"creation_date":1642058576,"question_id":70692775,"body_markdown":"How to delete audio file without using &quot;MANAGE_EXTERNAL_STORAGE&quot; permission on my music player app Android 11+ \r\n\r\n[Like this][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FRWAI.jpg","title":"How to delete audio file without using &quot;MANAGE_EXTERNAL_STORAGE&quot; permission Android 11+","body":"<p>How to delete audio file without using &quot;MANAGE_EXTERNAL_STORAGE&quot; permission on my music player app Android 11+</p>\n<p><a href=\"https://i.stack.imgur.com/FRWAI.jpg\" rel=\"nofollow noreferrer\">Like this</a></p>\n"},{"tags":["java","spring-boot","jpa","java-stream"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1664530715,"post_id":73906577,"comment_id":130497996,"body_markdown":"share the query with us, there should be the problem I believe","body":"share the query with us, there should be the problem I believe"},{"owner":{"account_id":3011114,"reputation":1412,"user_id":2554622,"display_name":"Ashish Shetkar"},"score":1,"creation_date":1664530835,"post_id":73906577,"comment_id":130498038,"body_markdown":"just a suggestion - generally we use fetch type lazy - when we have ManyToOne mapping - so as to save the retrieval time and load only when needed. \nFor OneToOne and ManyToOne - it won&#39;t be a costly operation to use fetch type eager","body":"just a suggestion - generally we use fetch type lazy - when we have ManyToOne mapping - so as to save the retrieval time and load only when needed.  For OneToOne and ManyToOne - it won&#39;t be a costly operation to use fetch type eager"},{"owner":{"display_name":"user2094311"},"score":0,"creation_date":1664531225,"post_id":73906577,"comment_id":130498192,"body_markdown":"@PanagiotisBougioukos it&#39;s a find by query. The query response is faster.","body":"@PanagiotisBougioukos it&#39;s a find by query. The query response is faster."},{"owner":{"display_name":"user2094311"},"score":0,"creation_date":1664531270,"post_id":73906577,"comment_id":130498207,"body_markdown":"@AshishShetkar Thanks. I think I can make that change and try","body":"@AshishShetkar Thanks. I think I can make that change and try"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1664531285,"post_id":73906577,"comment_id":130498211,"body_markdown":"What type of findBy can you please share it?","body":"What type of findBy can you please share it?"}],"answers":[{"comments":[{"owner":{"display_name":"user2094311"},"score":0,"creation_date":1664538747,"post_id":73907012,"comment_id":130500596,"body_markdown":"I have updated the question. Please check Edit section. While converting to DTO, I&#39;m calling the owner method so it takes time. \nIs there any way to parallelly process that block?","body":"I have updated the question. Please check Edit section. While converting to DTO, I&#39;m calling the owner method so it takes time.  Is there any way to parallelly process that block?"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1664539036,"post_id":73907012,"comment_id":130500680,"body_markdown":"@iUser you understand that filtering in java means you retrieved from Database a much larger dataset right? Not transferring in database a filter which would go directly on the query is a waste of resources which could as well mean latency in your execution.","body":"@iUser you understand that filtering in java means you retrieved from Database a much larger dataset right? Not transferring in database a filter which would go directly on the query is a waste of resources which could as well mean latency in your execution."},{"owner":{"display_name":"user2094311"},"score":0,"creation_date":1664543859,"post_id":73907012,"comment_id":130502291,"body_markdown":"I understand. I will correct it too and avoid filtering in code. But still the lazy loading/eager will still take that much time for larger data when I call getOwner(). \nI was checking to parallelly execute that part","body":"I understand. I will correct it too and avoid filtering in code. But still the lazy loading/eager will still take that much time for larger data when I call getOwner().  I was checking to parallelly execute that part"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1664547080,"post_id":73907012,"comment_id":130503494,"body_markdown":"@iUser please check the edited answer with multiple proposals","body":"@iUser please check the edited answer with multiple proposals"},{"owner":{"display_name":"user2094311"},"score":0,"creation_date":1664782086,"post_id":73907012,"comment_id":130542018,"body_markdown":"Thanks. Step 2 did the trick. I did not try step 3 as I wanted to do some extra calculations before setting some attributes in DTO.","body":"Thanks. Step 2 did the trick. I did not try step 3 as I wanted to do some extra calculations before setting some attributes in DTO."}],"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664546946,"creation_date":1664531941,"answer_id":73907012,"question_id":73906577,"body_markdown":"&gt;     public List&lt;ProductDTO&gt; getProducts(String countryId) {\r\n&gt;         //List&lt;Product&gt; products = Query Result\r\n&gt;         List&lt;ProductDTO&gt; productsList = products.stream().filter(isOwnerFromCountryAndInAnyGroup(countryId))\r\n&gt;                         .map(product -&gt; getProductDTO(product)).collect(Collectors.toList());\r\n&gt;     }\r\n\r\nFrom your use case here I am pretty confident that it is not the creation of DTO that takes time. It is that you **retrieve a huge set from database (even the complete table of Products)** and then you filter for a relation with a specific country just from java.\r\n\r\n**So Step1 optimization:**\r\n\r\nIf you want to filter for products that are associated with a user from a specific country then this can go on JPA level and translated in optimal way in database. Then the allocation of resources (memory, cpu) would be much more optimal, instead of your java application trying to load a huge data set and filter it there.\r\n\r\n    @Query(&quot;SELECT p FROM Product p where p.owner IS NOT NULL AND p.owner.userGroup IS NOT NULL AND p.owner.country IS NOT NULL AND p.owner.country.id = :countryId&quot;)\r\n    List&lt;Product&gt; findProductRelatedWithUserFromCountry(@Param String countryId); \r\n\r\nand remove the filtering from your method `getProducts`.\r\n\r\n**Step2 optimization:**\r\n\r\nIn addition to the above, not only you can pass the java filtering in the database query by moving it to JPA layer but you can also optimize the query a bit more by defining in JPA that you want to load the associated `Owner` as well so that it doesn&#39;t hit later the database to retrieve it when you create the DTO. You can achieve this with `join fetch`, so your query should now become:  \r\n\r\n    @Query(&quot;SELECT p FROM Product p JOIN FETCH p.owner own where p.owner IS NOT NULL AND own.userGroup IS NOT NULL AND own.country IS NOT NULL AND own.country.id = :countryId&quot;)\r\n    List&lt;Product&gt; findProductRelatedWithUserFromCountry(@Param String countryId); \r\n\r\n**Step3 optimization:**\r\n\r\nIf we want to take it an extra step further it seems that most times using DTO projections would speed up the execution. This can happen as the query would define only specific information it needs to retrieve and convert into DTO instead of the complete entities.\r\n\r\nSo your query now would be: \r\n\r\n    @Query(&quot;SELECT new org.your.package.where.dto.is.ProductDTO(p.id.productNbr, p.price, own.name) FROM Product p JOIN FETCH p.owner own where p.owner IS NOT NULL AND own.userGroup IS NOT NULL AND own.country IS NOT NULL AND own.country.id = :countryId&quot;)\r\n    List&lt;ProductDTO&gt; findProductRelatedWithUserFromCountry(@Param String countryId); \r\n\r\nAlso remember to have the DTO constructor used in the JPA query available in your `ProductDTO.class`. \r\n\r\n\r\n  [1]: https://thorben-janssen.com/entities-dtos-use-projection/","title":"Converting list of model entities with relationships to DTO takes time","body":"<blockquote>\n<pre><code>public List&lt;ProductDTO&gt; getProducts(String countryId) {\n    //List&lt;Product&gt; products = Query Result\n    List&lt;ProductDTO&gt; productsList = products.stream().filter(isOwnerFromCountryAndInAnyGroup(countryId))\n                    .map(product -&gt; getProductDTO(product)).collect(Collectors.toList());\n}\n</code></pre>\n</blockquote>\n<p>From your use case here I am pretty confident that it is not the creation of DTO that takes time. It is that you <strong>retrieve a huge set from database (even the complete table of Products)</strong> and then you filter for a relation with a specific country just from java.</p>\n<p><strong>So Step1 optimization:</strong></p>\n<p>If you want to filter for products that are associated with a user from a specific country then this can go on JPA level and translated in optimal way in database. Then the allocation of resources (memory, cpu) would be much more optimal, instead of your java application trying to load a huge data set and filter it there.</p>\n<pre><code>@Query(&quot;SELECT p FROM Product p where p.owner IS NOT NULL AND p.owner.userGroup IS NOT NULL AND p.owner.country IS NOT NULL AND p.owner.country.id = :countryId&quot;)\nList&lt;Product&gt; findProductRelatedWithUserFromCountry(@Param String countryId); \n</code></pre>\n<p>and remove the filtering from your method <code>getProducts</code>.</p>\n<p><strong>Step2 optimization:</strong></p>\n<p>In addition to the above, not only you can pass the java filtering in the database query by moving it to JPA layer but you can also optimize the query a bit more by defining in JPA that you want to load the associated <code>Owner</code> as well so that it doesn't hit later the database to retrieve it when you create the DTO. You can achieve this with <code>join fetch</code>, so your query should now become:</p>\n<pre><code>@Query(&quot;SELECT p FROM Product p JOIN FETCH p.owner own where p.owner IS NOT NULL AND own.userGroup IS NOT NULL AND own.country IS NOT NULL AND own.country.id = :countryId&quot;)\nList&lt;Product&gt; findProductRelatedWithUserFromCountry(@Param String countryId); \n</code></pre>\n<p><strong>Step3 optimization:</strong></p>\n<p>If we want to take it an extra step further it seems that most times using DTO projections would speed up the execution. This can happen as the query would define only specific information it needs to retrieve and convert into DTO instead of the complete entities.</p>\n<p>So your query now would be:</p>\n<pre><code>@Query(&quot;SELECT new org.your.package.where.dto.is.ProductDTO(p.id.productNbr, p.price, own.name) FROM Product p JOIN FETCH p.owner own where p.owner IS NOT NULL AND own.userGroup IS NOT NULL AND own.country IS NOT NULL AND own.country.id = :countryId&quot;)\nList&lt;ProductDTO&gt; findProductRelatedWithUserFromCountry(@Param String countryId); \n</code></pre>\n<p>Also remember to have the DTO constructor used in the JPA query available in your <code>ProductDTO.class</code>.</p>\n"}],"owner":{"display_name":"user2094311"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":978,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73907012,"answer_count":1,"score":0,"last_activity_date":1664546946,"creation_date":1664529769,"question_id":73906577,"body_markdown":"I&#39;m using Spring boot JPA to get list of objects (Using Java 8 now). Each object has relationships and I use the related objects also to transform to a dto list. \r\nLet&#39;s say I have below model classes. \r\n\r\n    public class Product {\r\n    \r\n    \t@EmbeddedId\r\n    \tprivate ProductId id;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;userid&quot;, referencedColumnName = &quot;USER_ID&quot;)\r\n    \t@MapsId(&quot;userId&quot;)\r\n    \tprivate User owner;\r\n    }\r\n    \r\n    public class User {\r\n    \r\n    \t@Id\r\n    \t@Column(name = &quot;USER_ID&quot;)\r\n    \tprivate Long userId;\r\n    \t\r\n    \t@OneToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;gp_code&quot;, referencedColumnName = &quot;GP_CODE&quot;)\r\n    \t@JoinColumn(name = &quot;userid&quot;, referencedColumnName = &quot;USER_ID&quot;)\r\n    \tprivate UserGroup userGroup;\r\n    \t\r\n    \t@OneToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumnsOrFormulas(value = {\r\n    \t\t\t@JoinColumnOrFormula(formula = @JoinFormula(value = &quot;country_id&quot;, referencedColumnName = &quot;COUNTRY_ID&quot;)),\r\n    \t\t\t@JoinColumnOrFormula(column = @JoinColumn(name = &quot;region_code&quot;, referencedColumnName = &quot;REGION_CODE&quot;)) })\r\n    \tprivate Country country;\r\n    }\r\n\r\nI do query for `List&lt;Product&gt;` and using stream I&#39;m converting it into a dto object. During which I call the related entity to get the data. I have the below code and works fine unless the list is too much. If I have 1000+ items in the list it takes around 30 seconds.\r\n\r\nI believe because of lazy loading this is happening. What is the best way to optimize this? \r\nOne option is to do pagination, but I cannot do it. I need all results together. \r\n\r\nIs there any way to parallelly execute this? I tried to call parellelStream() instead of stream(), but it&#39;s same result.  \r\n\r\n    public List&lt;ProductDTO&gt; getProducts(String countryId) {\r\n    \t//List&lt;Product&gt; products = Query Result\r\n    \tList&lt;ProductDTO&gt; productsList = products.stream().filter(isOwnerFromCountryAndInAnyGroup(countryId))\r\n    \t\t\t\t\t.map(product -&gt; getProductDTO(product)).collect(Collectors.toList());\r\n    }\r\n    \r\n    private Predicate&lt;? super Product&gt; isOwnerFromCountryAndInAnyGroup(String countryId) {\r\n    \t\treturn product -&gt; {\r\n    \t\t\tUser user = product.getOwner();\r\n    \t\t\treturn null != user &amp;&amp; null != user.getCountry()\r\n    \t\t\t\t\t&amp;&amp; user.getCountry().getCountryId().equals(countryId) &amp;&amp; (null != user.getUserGroup());\r\n    \t\t};\r\n    \t}\r\n    \t\r\n    private ProductDTO getProductDTO(Product product) {\r\n    \t\tProductDTO productDTO = new ProductDTO();\r\n    \t\tproductDTO.setProductNbr(product.getId().getProductNbr());\r\n    \t\tproductDTO.setPrice(product.getPrice());\r\n    \t\tproductDTO.setOwnerName(product.getOwner().getName());\r\n    \t\treturn productDTO;\r\n    \t}\r\n\r\n**Edit**\r\n\r\nI missed to add the line `productDTO.setOwnerName(product.getOwner().getName());` for the purpose of asking question here. With query or using filter I&#39;m getting the correct number of results. And with lazy loading, query returns faster and then while calling getOwner() for each row, the process takes time (30 seconds). \r\nAnd with FethType.EAGER, the query takes similar time(30 seconds) and then processes faster. Either way it is similar time. \r\n\r\nTo fasten the process, is there any way to execute the stream code block in parallel and collect all results together in list?\r\n","title":"Converting list of model entities with relationships to DTO takes time","body":"<p>I'm using Spring boot JPA to get list of objects (Using Java 8 now). Each object has relationships and I use the related objects also to transform to a dto list.\nLet's say I have below model classes.</p>\n<pre><code>public class Product {\n\n    @EmbeddedId\n    private ProductId id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;userid&quot;, referencedColumnName = &quot;USER_ID&quot;)\n    @MapsId(&quot;userId&quot;)\n    private User owner;\n}\n\npublic class User {\n\n    @Id\n    @Column(name = &quot;USER_ID&quot;)\n    private Long userId;\n    \n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;gp_code&quot;, referencedColumnName = &quot;GP_CODE&quot;)\n    @JoinColumn(name = &quot;userid&quot;, referencedColumnName = &quot;USER_ID&quot;)\n    private UserGroup userGroup;\n    \n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumnsOrFormulas(value = {\n            @JoinColumnOrFormula(formula = @JoinFormula(value = &quot;country_id&quot;, referencedColumnName = &quot;COUNTRY_ID&quot;)),\n            @JoinColumnOrFormula(column = @JoinColumn(name = &quot;region_code&quot;, referencedColumnName = &quot;REGION_CODE&quot;)) })\n    private Country country;\n}\n</code></pre>\n<p>I do query for <code>List&lt;Product&gt;</code> and using stream I'm converting it into a dto object. During which I call the related entity to get the data. I have the below code and works fine unless the list is too much. If I have 1000+ items in the list it takes around 30 seconds.</p>\n<p>I believe because of lazy loading this is happening. What is the best way to optimize this?\nOne option is to do pagination, but I cannot do it. I need all results together.</p>\n<p>Is there any way to parallelly execute this? I tried to call parellelStream() instead of stream(), but it's same result.</p>\n<pre><code>public List&lt;ProductDTO&gt; getProducts(String countryId) {\n    //List&lt;Product&gt; products = Query Result\n    List&lt;ProductDTO&gt; productsList = products.stream().filter(isOwnerFromCountryAndInAnyGroup(countryId))\n                    .map(product -&gt; getProductDTO(product)).collect(Collectors.toList());\n}\n\nprivate Predicate&lt;? super Product&gt; isOwnerFromCountryAndInAnyGroup(String countryId) {\n        return product -&gt; {\n            User user = product.getOwner();\n            return null != user &amp;&amp; null != user.getCountry()\n                    &amp;&amp; user.getCountry().getCountryId().equals(countryId) &amp;&amp; (null != user.getUserGroup());\n        };\n    }\n    \nprivate ProductDTO getProductDTO(Product product) {\n        ProductDTO productDTO = new ProductDTO();\n        productDTO.setProductNbr(product.getId().getProductNbr());\n        productDTO.setPrice(product.getPrice());\n        productDTO.setOwnerName(product.getOwner().getName());\n        return productDTO;\n    }\n</code></pre>\n<p><strong>Edit</strong></p>\n<p>I missed to add the line <code>productDTO.setOwnerName(product.getOwner().getName());</code> for the purpose of asking question here. With query or using filter I'm getting the correct number of results. And with lazy loading, query returns faster and then while calling getOwner() for each row, the process takes time (30 seconds).\nAnd with FethType.EAGER, the query takes similar time(30 seconds) and then processes faster. Either way it is similar time.</p>\n<p>To fasten the process, is there any way to execute the stream code block in parallel and collect all results together in list?</p>\n"},{"tags":["java","spring","spring-boot","authentication","spring-security"],"comments":[{"owner":{"account_id":13430076,"reputation":527,"user_id":9690151,"display_name":"Avinash Sagar"},"score":0,"creation_date":1602348320,"post_id":64295612,"comment_id":113694612,"body_markdown":"There looks like a warning from bcrypt related to encoded password. Is your password correctly encoded in the request?","body":"There looks like a warning from bcrypt related to encoded password. Is your password correctly encoded in the request?"},{"owner":{"account_id":3146381,"reputation":1657,"user_id":2660789,"display_name":"Aman"},"score":0,"creation_date":1604144328,"post_id":64295612,"comment_id":114260976,"body_markdown":"Can you show us how the passwords look like in db, which version of security and user details service?","body":"Can you show us how the passwords look like in db, which version of security and user details service?"}],"owner":{"account_id":14589181,"reputation":285,"user_id":10536936,"display_name":"Ali Zedan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664546749,"creation_date":1602346695,"question_id":64295612,"body_markdown":"I&#39;m using spring security and JSON Web Tokens for email verification.\r\nI noticed that there is no JWT created when I register a new employee. \r\nI use email for login, not username. I don&#39;t know if that problem with the Userdetalis interface.\r\nwhen I&#39;m trying to login into Postman, I get this error. \r\n[![enter image description here][1]][1]\r\n\r\n\r\nMy code : \r\n\r\nEmployeeController :\r\n\r\n    \r\n    @CrossOrigin(origins = {&quot;http://localhost:3000&quot;})\r\n    @Tag(name = &quot;Employee&quot;, description = &quot;Employee API&quot;)\r\n    @RestController\r\n    @RequestMapping(EmployeeController.BASE_URL)\r\n    public class EmployeeController {\r\n        public static final String BASE_URL = &quot;/api/v1/employees&quot;;\r\n        private final EmployeeService employeeService;\r\n        private final ConfirmationTokenService confirmationTokenService;\r\n\r\n    @Autowired\r\n    AuthenticationManager authenticationManager;\r\n\r\n    @Autowired\r\n    RoleRepository roleRepository;\r\n\r\n    @Autowired\r\n    PasswordEncoder encoder;\r\n\r\n    @Autowired\r\n    JwtUtils jwtUtils;\r\n\r\n    public EmployeeController(EmployeeService employeeService, ConfirmationTokenService confirmationTokenService) {\r\n        this.employeeService = employeeService;\r\n        this.confirmationTokenService = confirmationTokenService;\r\n    }\r\n\r\n    @GetMapping\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public EmployeeListDTO getEmployeeList() {\r\n        return employeeService.getAllEmployees();\r\n    }\r\n\r\n\r\n    @PostMapping(&quot;/signin&quot;)\r\n    public ResponseEntity&lt;?&gt; authenticateUser(@Valid @RequestBody EmployeeDTO loginRequest) {\r\n        System.out.println(&quot;Hei&quot;);\r\n\r\n        Authentication authentication = authenticationManager.authenticate(\r\n                new UsernamePasswordAuthenticationToken(loginRequest.getEmail(), loginRequest.getPassword()));\r\n\r\n        System.out.println(&quot;Hei2&quot;);\r\n\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n        String jwt = jwtUtils.generateJwtToken(authentication);\r\n        System.out.println(jwt);\r\n\r\n        UserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();\r\n        List&lt;String&gt; roles = userDetails.getAuthorities().stream()\r\n                .map(item -&gt; item.getAuthority())\r\n                .collect(Collectors.toList());\r\n\r\n        return ResponseEntity.ok(new JwtResponse(jwt,\r\n                userDetails.getId(),\r\n                userDetails.getEmail(),\r\n                roles));\r\n    }\r\n\r\n\r\n    @GetMapping({&quot;/{id}&quot;})\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public EmployeeDTO getEmployeeById(@PathVariable Long id) {\r\n        return employeeService.getEmployeeById(id);\r\n    }\r\n\r\n    @PostMapping(&quot;/signup&quot;)\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public EmployeeDTO createNewEmployee(@RequestBody EmployeeDTO employeeDTO) {\r\n        return employeeService.createNewEmployee(employeeDTO);\r\n    }\r\n\r\n\r\n    @PutMapping({&quot;/{id}&quot;})\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public EmployeeDTO updateEmployee(@PathVariable Long id, @RequestBody EmployeeDTO employeeDTO){\r\n        return employeeService.saveEmployeeByDTO(id, employeeDTO);\r\n    }\r\n\r\n    @DeleteMapping({&quot;/{id}&quot;})\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public void deleteEmployee(@PathVariable Long id){\r\n        employeeService.deleteEmployeeDTO(id);\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n    &gt; package com.tietoevry.bookorabackend.security.jwt;\r\n    &gt; \r\n    &gt; import com.tietoevry.bookorabackend.services.UserDetailsServiceImpl;\r\n    &gt; import org.slf4j.Logger; import org.slf4j.LoggerFactory; import\r\n    &gt; org.springframework.beans.factory.annotation.Autowired; import\r\n    &gt; org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\n    &gt; import\r\n    &gt; org.springframework.security.core.context.SecurityContextHolder;\r\n    &gt; import org.springframework.security.core.userdetails.UserDetails;\r\n    &gt; import\r\n    &gt; org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\r\n    &gt; import org.springframework.util.StringUtils; import\r\n    &gt; org.springframework.web.filter.OncePerRequestFilter;\r\n    &gt; \r\n    &gt; import javax.servlet.FilterChain; import\r\n    &gt; javax.servlet.ServletException; import\r\n    &gt; javax.servlet.http.HttpServletRequest; import\r\n    &gt; javax.servlet.http.HttpServletResponse; import java.io.IOException;\r\n    &gt; \r\n    &gt; \r\n    &gt; public class AuthTokenFilter extends OncePerRequestFilter {\r\n\r\n&gt;     @Autowired\r\n&gt;     private JwtUtils jwtUtils;\r\n&gt; \r\n&gt;     @Autowired\r\n&gt;     private UserDetailsServiceImpl userDetailsService;\r\n&gt; \r\n&gt;     private static final Logger logger = LoggerFactory.getLogger(AuthTokenFilter.class);\r\n&gt; \r\n&gt;     @Override\r\n&gt;     protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n&gt; \r\n&gt;             throws ServletException, IOException {\r\n&gt; \r\n&gt;         try {\r\n&gt;             String jwt = parseJwt(request);\r\n&gt; \r\n&gt; \r\n&gt;             if (jwt != null &amp;&amp; jwtUtils.validateJwtToken(jwt)) {\r\n&gt;                 String username = jwtUtils.getUserNameFromJwtToken(jwt);\r\n&gt; \r\n&gt;                 UserDetails userDetails = userDetailsService.loadUserByUsername(username);\r\n&gt;                 UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(\r\n&gt;                         userDetails, null, userDetails.getAuthorities());\r\n&gt;                 authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n&gt; \r\n&gt;                 SecurityContextHolder.getContext().setAuthentication(authentication);\r\n&gt;             } else {\r\n&gt;                 System.out.println(&quot;No JWT yet&quot;);\r\n&gt;             }\r\n&gt;         } catch (Exception e) {\r\n&gt;             logger.error(&quot;Cannot set user authentication: {}&quot;, e);\r\n&gt;         }\r\n&gt; \r\n&gt;         filterChain.doFilter(request, response);\r\n&gt;     }\r\n&gt; \r\n&gt;     private String parseJwt(HttpServletRequest request) {\r\n&gt;         String headerAuth = request.getHeader(&quot;Authorization&quot;);\r\n&gt; \r\n&gt;         if (StringUtils.hasText(headerAuth) &amp;&amp; headerAuth.startsWith(&quot;Bearer&quot;)) {\r\n&gt;             return headerAuth.substring(7, headerAuth.length());\r\n&gt;         }\r\n&gt; \r\n&gt;         return null;\r\n&gt;     } }\r\n\r\n\r\n\r\n    import java.util.List;\r\n    \r\n    public class JwtResponse {\r\n    \tprivate String token;\r\n    \tprivate String type = &quot;Bearer&quot;;\r\n    \tprivate Long id;\r\n    \tprivate String email;\r\n    \tprivate List&lt;String&gt; roles;\r\n    \r\n    \tpublic JwtResponse(String accessToken, Long id, String email, List&lt;String&gt; roles) {\r\n    \t\tthis.token = accessToken;\r\n    \t\tthis.id = id;\r\n    \t\tthis.email = email;\r\n    \t\tthis.roles = roles;\r\n    \t}\r\n    \r\n    \tpublic String getAccessToken() {\r\n    \t\treturn token;\r\n    \t}\r\n    \r\n    \tpublic void setAccessToken(String accessToken) {\r\n    \t\tthis.token = accessToken;\r\n    \t}\r\n    \r\n    \tpublic String getTokenType() {\r\n    \t\treturn type;\r\n    \t}\r\n    \r\n    \tpublic void setTokenType(String tokenType) {\r\n    \t\tthis.type = tokenType;\r\n    \t}\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getEmail() {\r\n    \t\treturn email;\r\n    \t}\r\n    \r\n    \tpublic void setEmail(String email) {\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \r\n    \r\n    \tpublic List&lt;String&gt; getRoles() {\r\n    \t\treturn roles;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n&gt;     //generate Token\r\n&gt;     @Component\r\n&gt;     public class JwtUtils {\r\n&gt;         private static final Logger logger = LoggerFactory.getLogger(JwtUtils.class);\r\n&gt;     \r\n&gt;         @Value(&quot;${bezkoder.app.jwtSecret}&quot;)\r\n&gt;         private String jwtSecret;\r\n&gt;     \r\n&gt;         @Value(&quot;${bezkoder.app.jwtExpirationMs}&quot;)\r\n&gt;         private int jwtExpirationMs;\r\n&gt;     \r\n&gt;         public String generateJwtToken(Authentication authentication) {\r\n&gt;     \r\n&gt;             UserDetailsImpl userPrincipal = (UserDetailsImpl) authentication.getPrincipal();\r\n&gt;     \r\n&gt;             return Jwts.builder()\r\n&gt;                     .setSubject((userPrincipal.getEmail()))\r\n&gt;                     .setIssuedAt(new Date())\r\n&gt;                     .setExpiration(new Date((new Date()).getTime() + jwtExpirationMs))\r\n&gt;                     .signWith(SignatureAlgorithm.HS512, jwtSecret)\r\n&gt;                     .compact();\r\n&gt;         }\r\n&gt;     \r\n&gt;         public String getUserNameFromJwtToken(String token) {\r\n&gt;             return Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(token).getBody().getSubject();\r\n&gt;         }\r\n&gt;     \r\n&gt;         public boolean validateJwtToken(String authToken) {\r\n&gt;             try {\r\n&gt;                 Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(authToken);\r\n&gt;                 return true;\r\n&gt;             } catch (SignatureException e) {\r\n&gt;                 logger.error(&quot;Invalid JWT signature: {}&quot;, e.getMessage());\r\n&gt;             } catch (MalformedJwtException e) {\r\n&gt;                 logger.error(&quot;Invalid JWT token: {}&quot;, e.getMessage());\r\n&gt;             } catch (ExpiredJwtException e) {\r\n&gt;                 logger.error(&quot;JWT token is expired: {}&quot;, e.getMessage());\r\n&gt;             } catch (UnsupportedJwtException e) {\r\n&gt;                 logger.error(&quot;JWT token is unsupported: {}&quot;, e.getMessage());\r\n&gt;             } catch (IllegalArgumentException e) {\r\n&gt;                 logger.error(&quot;JWT claims string is empty: {}&quot;, e.getMessage());\r\n&gt;             }\r\n&gt;     \r\n&gt;             return false;\r\n&gt;         }\r\n&gt;     }\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt;     @Configuration\r\n&gt;     @EnableWebSecurity\r\n&gt;     @EnableGlobalMethodSecurity(\r\n&gt;             // securedEnabled = true,\r\n&gt;             // jsr250Enabled = true,\r\n&gt;             prePostEnabled = true)\r\n&gt;     public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n&gt;         @Autowired\r\n&gt;         UserDetailsServiceImpl userDetailsService;\r\n&gt;     \r\n&gt;         @Autowired\r\n&gt;         private AuthEntryPointJwt unauthorizedHandler;\r\n&gt;     \r\n&gt;         @Bean\r\n&gt;         public AuthTokenFilter authenticationJwtTokenFilter() {\r\n&gt;             return new AuthTokenFilter();\r\n&gt;         }\r\n&gt;     \r\n&gt;         @Override\r\n&gt;         public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n&gt;             authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n&gt;         }\r\n&gt;     \r\n&gt;         @Bean\r\n&gt;         @Override\r\n&gt;         public AuthenticationManager authenticationManagerBean() throws Exception {\r\n&gt;             return super.authenticationManagerBean();\r\n&gt;         }\r\n&gt;     \r\n&gt;         @Bean\r\n&gt;         public PasswordEncoder passwordEncoder() {\r\n&gt;             return new BCryptPasswordEncoder();\r\n&gt;         }\r\n&gt;     \r\n&gt;         @Override\r\n&gt;         protected void configure(HttpSecurity http) throws Exception {\r\n&gt;     \r\n&gt;     \r\n&gt;     \r\n&gt;             http.authorizeRequests()\r\n&gt;                     .antMatchers(&quot;/&quot;).permitAll()\r\n&gt;                     .antMatchers(&quot;/h2-console/**&quot;).permitAll();\r\n&gt;     \r\n&gt;             http.csrf().disable();\r\n&gt;             http.headers().frameOptions().disable();\r\n&gt;             http.cors().and().csrf().disable()\r\n&gt;                     .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\r\n&gt;                     .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n&gt;                     .authorizeRequests().antMatchers(&quot;/api/v1/employees/**&quot;).permitAll()\r\n&gt;                     .antMatchers(&quot;/api/test/**&quot;).permitAll()\r\n&gt;                     .anyRequest().authenticated();\r\n&gt;     \r\n&gt;             http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n&gt;         }\r\n\r\n\r\n\r\n\r\nand in intellj I get : \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DaNFL.png\r\n  [2]: https://i.stack.imgur.com/Egrup.png","title":"No JWT created from JSON Web Tokens using Spring Security","body":"<p>I'm using spring security and JSON Web Tokens for email verification.\nI noticed that there is no JWT created when I register a new employee.\nI use email for login, not username. I don't know if that problem with the Userdetalis interface.\nwhen I'm trying to login into Postman, I get this error.\n<a href=\"https://i.stack.imgur.com/DaNFL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DaNFL.png\" alt=\"enter image description here\" /></a></p>\n<p>My code :</p>\n<p>EmployeeController :</p>\n<pre><code>@CrossOrigin(origins = {&quot;http://localhost:3000&quot;})\n@Tag(name = &quot;Employee&quot;, description = &quot;Employee API&quot;)\n@RestController\n@RequestMapping(EmployeeController.BASE_URL)\npublic class EmployeeController {\n    public static final String BASE_URL = &quot;/api/v1/employees&quot;;\n    private final EmployeeService employeeService;\n    private final ConfirmationTokenService confirmationTokenService;\n\n@Autowired\nAuthenticationManager authenticationManager;\n\n@Autowired\nRoleRepository roleRepository;\n\n@Autowired\nPasswordEncoder encoder;\n\n@Autowired\nJwtUtils jwtUtils;\n\npublic EmployeeController(EmployeeService employeeService, ConfirmationTokenService confirmationTokenService) {\n    this.employeeService = employeeService;\n    this.confirmationTokenService = confirmationTokenService;\n}\n\n@GetMapping\n@ResponseStatus(HttpStatus.OK)\npublic EmployeeListDTO getEmployeeList() {\n    return employeeService.getAllEmployees();\n}\n\n\n@PostMapping(&quot;/signin&quot;)\npublic ResponseEntity&lt;?&gt; authenticateUser(@Valid @RequestBody EmployeeDTO loginRequest) {\n    System.out.println(&quot;Hei&quot;);\n\n    Authentication authentication = authenticationManager.authenticate(\n            new UsernamePasswordAuthenticationToken(loginRequest.getEmail(), loginRequest.getPassword()));\n\n    System.out.println(&quot;Hei2&quot;);\n\n    SecurityContextHolder.getContext().setAuthentication(authentication);\n    String jwt = jwtUtils.generateJwtToken(authentication);\n    System.out.println(jwt);\n\n    UserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();\n    List&lt;String&gt; roles = userDetails.getAuthorities().stream()\n            .map(item -&gt; item.getAuthority())\n            .collect(Collectors.toList());\n\n    return ResponseEntity.ok(new JwtResponse(jwt,\n            userDetails.getId(),\n            userDetails.getEmail(),\n            roles));\n}\n\n\n@GetMapping({&quot;/{id}&quot;})\n@ResponseStatus(HttpStatus.OK)\npublic EmployeeDTO getEmployeeById(@PathVariable Long id) {\n    return employeeService.getEmployeeById(id);\n}\n\n@PostMapping(&quot;/signup&quot;)\n@ResponseStatus(HttpStatus.CREATED)\npublic EmployeeDTO createNewEmployee(@RequestBody EmployeeDTO employeeDTO) {\n    return employeeService.createNewEmployee(employeeDTO);\n}\n\n\n@PutMapping({&quot;/{id}&quot;})\n@ResponseStatus(HttpStatus.OK)\npublic EmployeeDTO updateEmployee(@PathVariable Long id, @RequestBody EmployeeDTO employeeDTO){\n    return employeeService.saveEmployeeByDTO(id, employeeDTO);\n}\n\n@DeleteMapping({&quot;/{id}&quot;})\n@ResponseStatus(HttpStatus.OK)\npublic void deleteEmployee(@PathVariable Long id){\n    employeeService.deleteEmployeeDTO(id);\n}\n</code></pre>\n<p>}</p>\n<pre><code>&gt; package com.tietoevry.bookorabackend.security.jwt;\n&gt; \n&gt; import com.tietoevry.bookorabackend.services.UserDetailsServiceImpl;\n&gt; import org.slf4j.Logger; import org.slf4j.LoggerFactory; import\n&gt; org.springframework.beans.factory.annotation.Autowired; import\n&gt; org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\n&gt; import\n&gt; org.springframework.security.core.context.SecurityContextHolder;\n&gt; import org.springframework.security.core.userdetails.UserDetails;\n&gt; import\n&gt; org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\n&gt; import org.springframework.util.StringUtils; import\n&gt; org.springframework.web.filter.OncePerRequestFilter;\n&gt; \n&gt; import javax.servlet.FilterChain; import\n&gt; javax.servlet.ServletException; import\n&gt; javax.servlet.http.HttpServletRequest; import\n&gt; javax.servlet.http.HttpServletResponse; import java.io.IOException;\n&gt; \n&gt; \n&gt; public class AuthTokenFilter extends OncePerRequestFilter {\n</code></pre>\n<blockquote>\n<pre><code>@Autowired\nprivate JwtUtils jwtUtils;\n\n@Autowired\nprivate UserDetailsServiceImpl userDetailsService;\n\nprivate static final Logger logger = LoggerFactory.getLogger(AuthTokenFilter.class);\n\n@Override\nprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n\n        throws ServletException, IOException {\n\n    try {\n        String jwt = parseJwt(request);\n\n\n        if (jwt != null &amp;&amp; jwtUtils.validateJwtToken(jwt)) {\n            String username = jwtUtils.getUserNameFromJwtToken(jwt);\n\n            UserDetails userDetails = userDetailsService.loadUserByUsername(username);\n            UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(\n                    userDetails, null, userDetails.getAuthorities());\n            authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n\n            SecurityContextHolder.getContext().setAuthentication(authentication);\n        } else {\n            System.out.println(&quot;No JWT yet&quot;);\n        }\n    } catch (Exception e) {\n        logger.error(&quot;Cannot set user authentication: {}&quot;, e);\n    }\n\n    filterChain.doFilter(request, response);\n}\n\nprivate String parseJwt(HttpServletRequest request) {\n    String headerAuth = request.getHeader(&quot;Authorization&quot;);\n\n    if (StringUtils.hasText(headerAuth) &amp;&amp; headerAuth.startsWith(&quot;Bearer&quot;)) {\n        return headerAuth.substring(7, headerAuth.length());\n    }\n\n    return null;\n} }\n</code></pre>\n</blockquote>\n<pre><code>import java.util.List;\n\npublic class JwtResponse {\n    private String token;\n    private String type = &quot;Bearer&quot;;\n    private Long id;\n    private String email;\n    private List&lt;String&gt; roles;\n\n    public JwtResponse(String accessToken, Long id, String email, List&lt;String&gt; roles) {\n        this.token = accessToken;\n        this.id = id;\n        this.email = email;\n        this.roles = roles;\n    }\n\n    public String getAccessToken() {\n        return token;\n    }\n\n    public void setAccessToken(String accessToken) {\n        this.token = accessToken;\n    }\n\n    public String getTokenType() {\n        return type;\n    }\n\n    public void setTokenType(String tokenType) {\n        this.type = tokenType;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n\n    public List&lt;String&gt; getRoles() {\n        return roles;\n    }\n}\n</code></pre>\n<blockquote>\n<pre><code>//generate Token\n@Component\npublic class JwtUtils {\n    private static final Logger logger = LoggerFactory.getLogger(JwtUtils.class);\n\n    @Value(&quot;${bezkoder.app.jwtSecret}&quot;)\n    private String jwtSecret;\n\n    @Value(&quot;${bezkoder.app.jwtExpirationMs}&quot;)\n    private int jwtExpirationMs;\n\n    public String generateJwtToken(Authentication authentication) {\n\n        UserDetailsImpl userPrincipal = (UserDetailsImpl) authentication.getPrincipal();\n\n        return Jwts.builder()\n                .setSubject((userPrincipal.getEmail()))\n                .setIssuedAt(new Date())\n                .setExpiration(new Date((new Date()).getTime() + jwtExpirationMs))\n                .signWith(SignatureAlgorithm.HS512, jwtSecret)\n                .compact();\n    }\n\n    public String getUserNameFromJwtToken(String token) {\n        return Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(token).getBody().getSubject();\n    }\n\n    public boolean validateJwtToken(String authToken) {\n        try {\n            Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(authToken);\n            return true;\n        } catch (SignatureException e) {\n            logger.error(&quot;Invalid JWT signature: {}&quot;, e.getMessage());\n        } catch (MalformedJwtException e) {\n            logger.error(&quot;Invalid JWT token: {}&quot;, e.getMessage());\n        } catch (ExpiredJwtException e) {\n            logger.error(&quot;JWT token is expired: {}&quot;, e.getMessage());\n        } catch (UnsupportedJwtException e) {\n            logger.error(&quot;JWT token is unsupported: {}&quot;, e.getMessage());\n        } catch (IllegalArgumentException e) {\n            logger.error(&quot;JWT claims string is empty: {}&quot;, e.getMessage());\n        }\n\n        return false;\n    }\n}\n\n\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(\n        // securedEnabled = true,\n        // jsr250Enabled = true,\n        prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Autowired\n    UserDetailsServiceImpl userDetailsService;\n\n    @Autowired\n    private AuthEntryPointJwt unauthorizedHandler;\n\n    @Bean\n    public AuthTokenFilter authenticationJwtTokenFilter() {\n        return new AuthTokenFilter();\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n\n\n        http.authorizeRequests()\n                .antMatchers(&quot;/&quot;).permitAll()\n                .antMatchers(&quot;/h2-console/**&quot;).permitAll();\n\n        http.csrf().disable();\n        http.headers().frameOptions().disable();\n        http.cors().and().csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeRequests().antMatchers(&quot;/api/v1/employees/**&quot;).permitAll()\n                .antMatchers(&quot;/api/test/**&quot;).permitAll()\n                .anyRequest().authenticated();\n\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n    }\n</code></pre>\n</blockquote>\n<p>and in intellj I get :</p>\n<p><a href=\"https://i.stack.imgur.com/Egrup.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Egrup.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","data-structures","key-value"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1664264021,"post_id":73863846,"comment_id":130425251,"body_markdown":"You would use a `Map` if there weren&#39;t any duplicate keys, but you *sometimes* have those. Write a POJO with two `String`s and store them in a `List`‚Ä¶","body":"You would use a <code>Map</code> if there weren&#39;t any duplicate keys, but you <i>sometimes</i> have those. Write a POJO with two <code>String</code>s and store them in a <code>List</code>‚Ä¶"},{"owner":{"account_id":7781947,"reputation":23,"user_id":5888092,"display_name":"Nitin Kumar"},"score":0,"creation_date":1664264665,"post_id":73863846,"comment_id":130425447,"body_markdown":"Thanks I thought so, but is there not any DS already present to handle this? \nWhat about Google&#39;s multiMap. I wanted someone to suggest me this or anything more optimal.","body":"Thanks I thought so, but is there not any DS already present to handle this?  What about Google&#39;s multiMap. I wanted someone to suggest me this or anything more optimal."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1664264856,"post_id":73863846,"comment_id":130425503,"body_markdown":"You could search for something already implemented, like a [`org.apache.commons.collections4.MultiValuedMap`](https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MultiValuedMap.html).","body":"You could search for something already implemented, like a <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MultiValuedMap.html\" rel=\"nofollow noreferrer\"><code>org.apache.commons.collections4.MultiValuedMap</code></a>."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1664264938,"post_id":73863846,"comment_id":130425520,"body_markdown":"What operations are you required to perform on this structure? Iteration only? Seeking through keys? What do expect to get if you seek through keys, a list of values, a list of key-values, etc?","body":"What operations are you required to perform on this structure? Iteration only? Seeking through keys? What do expect to get if you seek through keys, a list of values, a list of key-values, etc?"},{"owner":{"account_id":7781947,"reputation":23,"user_id":5888092,"display_name":"Nitin Kumar"},"score":0,"creation_date":1664266617,"post_id":73863846,"comment_id":130426024,"body_markdown":"I am getting list of String separated by &#39;-&#39; (dash) eg(apple-001). first I have to remove the separator and store. Post that I have to update db with condition. only where fruit=(&#39;apple&#39; and number=&#39;001&#39;) or (&#39;apple&#39; and number=&#39;002&#39;) and so on.","body":"I am getting list of String separated by &#39;-&#39; (dash) eg(apple-001). first I have to remove the separator and store. Post that I have to update db with condition. only where fruit=(&#39;apple&#39; and number=&#39;001&#39;) or (&#39;apple&#39; and number=&#39;002&#39;) and so on."}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664267638,"creation_date":1664267638,"answer_id":73864586,"question_id":73863846,"body_markdown":"You can use `Map&lt;String, Set&lt;String&gt;&gt;` like this.\r\n\r\n    static void add(Map&lt;String, Set&lt;String&gt;&gt; map, String key, String value) {\r\n        map.computeIfAbsent(key, k -&gt; new HashSet&lt;&gt;()).add(value);\r\n    }\r\n\r\nand\r\n\r\n    Map&lt;String, Set&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\r\n    add(map, &quot;apple&quot;, &quot;001&quot;);\r\n    add(map, &quot;orange&quot;, &quot;001&quot;);\r\n    add(map, &quot;banana&quot;, &quot;001&quot;);\r\n    add(map, &quot;apple&quot;, &quot;002&quot;);\r\n    add(map, &quot;apple&quot;, &quot;003&quot;);\r\n    System.out.println(map);\r\n\r\noutput:\r\n\r\n    {banana=[001], orange=[001], apple=[001, 002, 003]}\r\n","title":"which Java data structure to use for key-value pair","body":"<p>You can use <code>Map&lt;String, Set&lt;String&gt;&gt;</code> like this.</p>\n<pre><code>static void add(Map&lt;String, Set&lt;String&gt;&gt; map, String key, String value) {\n    map.computeIfAbsent(key, k -&gt; new HashSet&lt;&gt;()).add(value);\n}\n</code></pre>\n<p>and</p>\n<pre><code>Map&lt;String, Set&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\nadd(map, &quot;apple&quot;, &quot;001&quot;);\nadd(map, &quot;orange&quot;, &quot;001&quot;);\nadd(map, &quot;banana&quot;, &quot;001&quot;);\nadd(map, &quot;apple&quot;, &quot;002&quot;);\nadd(map, &quot;apple&quot;, &quot;003&quot;);\nSystem.out.println(map);\n</code></pre>\n<p>output:</p>\n<pre><code>{banana=[001], orange=[001], apple=[001, 002, 003]}\n</code></pre>\n"}],"owner":{"account_id":7781947,"reputation":23,"user_id":5888092,"display_name":"Nitin Kumar"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1664274897,"accepted_answer_id":73864586,"answer_count":1,"score":-2,"last_activity_date":1664546628,"creation_date":1664263759,"question_id":73863846,"body_markdown":"I have to store something key value pair: \r\n\r\n```\r\napple - 001\r\norange - 001\r\nbanana - 001\r\napple - 002\r\napple - 003\r\n```\r\n\r\n(sometime key can be duplicate and sometime value can be duplicate. The entire pair won&#39;t be duplicate) please suggest perfect data structure in java.  ","title":"which Java data structure to use for key-value pair","body":"<p>I have to store something key value pair:</p>\n<pre><code>apple - 001\norange - 001\nbanana - 001\napple - 002\napple - 003\n</code></pre>\n<p>(sometime key can be duplicate and sometime value can be duplicate. The entire pair won't be duplicate) please suggest perfect data structure in java.</p>\n"},{"tags":["java","spring-boot","apache-kafka","kraft"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664546499,"creation_date":1664546499,"answer_id":73909954,"question_id":73904512,"body_markdown":"Kafka clients don&#39;t need to know what mode Kafka is running in.\r\n\r\nYou configure bootstrap servers as normal. ","title":"Spring Boot with kafka with KIP-500 Kraft mode","body":"<p>Kafka clients don't need to know what mode Kafka is running in.</p>\n<p>You configure bootstrap servers as normal.</p>\n"}],"owner":{"account_id":152408,"reputation":6071,"user_id":366916,"accept_rate":50,"display_name":"bharathi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664546499,"creation_date":1664517067,"question_id":73904512,"body_markdown":"Is the spring boot application supports kafka without zookeeper. \r\n\r\nI am able to setup kafka in kraft mode without zookeeper. Now I need to know what I have to set up in the spring boot application to connect with kafka in kraft mode.\r\n\r\nI have googled it, to run spring boot application with kafka in kraft mode without zookeeper, but I am not able to find any examples.\r\n\r\nCan you one know how to integrate the kafka in kraft mode with spring boot application\r\n\r\n","title":"Spring Boot with kafka with KIP-500 Kraft mode","body":"<p>Is the spring boot application supports kafka without zookeeper.</p>\n<p>I am able to setup kafka in kraft mode without zookeeper. Now I need to know what I have to set up in the spring boot application to connect with kafka in kraft mode.</p>\n<p>I have googled it, to run spring boot application with kafka in kraft mode without zookeeper, but I am not able to find any examples.</p>\n<p>Can you one know how to integrate the kafka in kraft mode with spring boot application</p>\n"},{"tags":["java","spring-boot","rest","postman","microservices"],"answers":[{"tags":[],"owner":{"account_id":3992180,"reputation":1524,"user_id":3290745,"display_name":"Tristate"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664546460,"creation_date":1664546460,"answer_id":73909949,"question_id":73909766,"body_markdown":"You can try\r\n\r\nspring.jackson.serialization.fail-on-empty-beans=false\r\n\r\nin your application.properties.","title":"SpringBoot microservice InvalidDefinitionException","body":"<p>You can try</p>\n<p>spring.jackson.serialization.fail-on-empty-beans=false</p>\n<p>in your application.properties.</p>\n"}],"owner":{"account_id":12696165,"reputation":27,"user_id":9224530,"display_name":"Michele Raso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73909949,"answer_count":1,"score":0,"last_activity_date":1664546460,"creation_date":1664545561,"question_id":73909766,"body_markdown":"I developed a microservice and when I go to get to postman ( http://localhost:8080/user/utenti/ )  I get this error InvalidDefinitionException No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]-&gt;com.application.dto.UserDto[&quot;applicationRoleID&quot;]-&gt;com.poste.anagrafica.entity.Role$HibernateProxy$N0iZZA2I[&quot;hibernateLazyInitializer&quot;])\r\n\r\nCan you help me please?\r\nFor clarity I enclose the schema of the database and the classes entity , dto and controller\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jn42C.png\r\n\r\n\r\nThe Entity classes\r\n\r\n&quot;&quot;&quot;\r\n\r\n    @Entity\r\n    @Table(name = &quot;USERS&quot;)\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public class User implements Serializable {\r\n    @Id\r\n    @Column(name = &quot;user_id&quot;, nullable = false)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;created_date&quot;)\r\n    private LocalDateTime createdDate;\r\n\r\n    @Column(name = &quot;deleted&quot;, nullable = false)\r\n    private Long number;\r\n\r\n    @Column(name = &quot;modified_date&quot;)\r\n    private LocalDateTime modifiedDate;\r\n\r\n    @Column(name = &quot;birth_place&quot;)\r\n    private String birthPlace;\r\n\r\n    @Column(name = &quot;birthday&quot;)\r\n    private Date birthDay;\r\n\r\n    @Column(name = &quot;canNominate&quot;)\r\n    private Long canNominate;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n\r\n    @Column(name = &quot;firstName&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name= &quot;fiscalCode&quot;)\r\n    private String fiscalCode;\r\n\r\n    @Column(name = &quot;hiringDate&quot;)\r\n    private Date hiringDate;\r\n\r\n    @Column(name =&quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;matricola&quot;)\r\n    private String matricola;\r\n\r\n    @Column(name = &quot;position&quot;)\r\n    private String position;\r\n\r\n    @Column(name = &quot;registration_number&quot;)\r\n    private String registrationNumber;\r\n\r\n    @Column(name = &quot;replaced&quot;)\r\n    private Long replaced;\r\n\r\n    @Column(name = &quot;terminationDate&quot;)\r\n    private Date terminationDate;\r\n\r\n    @Column(name = &quot;user_status&quot;)\r\n    private String userStatus;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;application_role_id&quot;)\r\n    private Role applicationRoleID;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;company_id&quot;)\r\n    private Company companyID;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;direction_id&quot;)\r\n    private Direction directions ;\r\n\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;level_id&quot;)\r\n    private Levels levelID;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;referent_id&quot;)\r\n    private User referentID;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;role_id&quot;)\r\n    private Role roleID;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;task_id&quot;)\r\n    private EmployeeTask taskID;\r\n\r\n\r\n\r\n}\r\n&quot;&quot;&quot;\r\n\r\nthe UserDTO class\r\n\r\n&quot;&quot;&quot;\r\n\r\n    @Data\r\n    public class UserDto {\r\n\r\n\r\n    private Long userId;\r\n\r\n\r\n    private LocalDateTime createdDate;\r\n\r\n    private Long number;\r\n\r\n    private LocalDateTime modifiedDate;\r\n\r\n\r\n    private String birthPlace;\r\n\r\n\r\n    private Date birthDay;\r\n\r\n\r\n    private Long canNominate;\r\n\r\n\r\n    private String email;\r\n\r\n    private String firstName;\r\n\r\n\r\n    private String fiscalCode;\r\n\r\n\r\n    private Date hiringDate;\r\n\r\n    private String lastName;\r\n\r\n\r\n    private String matricola;\r\n\r\n\r\n    private String position;\r\n\r\n    private String registrationNumber;\r\n\r\n\r\n    private Long replaced;\r\n\r\n\r\n    private Date terminationDate;\r\n\r\n\r\n    private String userStatus;\r\n\r\n\r\n    private Role applicationRoleID;\r\n\r\n\r\n    private Company companyID;\r\n\r\n\r\n    private Direction directions ;\r\n\r\n\r\n\r\n    private Levels levelID;\r\n\r\n    private User referentID;\r\n\r\n\r\n    private Role role;\r\n\r\n    private EmployeeTask taskID;\r\n\r\n\r\n}\r\n\r\n&quot;&quot;&quot;\r\n\r\nthe controller class\r\n&quot;&quot;&quot;\r\n\r\n     @RestController\r\n     @RequestMapping(&quot;/user&quot;)\r\n     @Log\r\n     public class UserController {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(UserController.class);\r\n\r\n    @Autowired\r\n    UserService userService;\r\n\r\n    @GetMapping(value = &quot;/cerca/{registration_number}&quot;, produces = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;List&lt;UserDto&gt;&gt; listUserByRegistrationNumber(@PathVariable(&quot;registration_number&quot;) String registrationNumber)\r\n            throws ChangeSetPersister.NotFoundException\r\n    {\r\n        log.info(&quot;****** Ottengo l&#39;user con numeroRegistrazione &quot; + registrationNumber + &quot; *******&quot;);\r\n\r\n        List&lt;UserDto&gt; user = userService.SelByRegistrationNumber(registrationNumber);\r\n\r\n\r\n\r\n        return new ResponseEntity&lt;List&lt;UserDto&gt;&gt;(user, HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(value = &quot;/utenti&quot;, produces = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;List&lt;UserDto&gt;&gt; listAllUsers ()throws ChangeSetPersister.NotFoundException{\r\n\r\n\r\n        List&lt;UserDto&gt; user = userService.SelTutti();\r\n\r\n\r\n\r\n        return new ResponseEntity&lt;List&lt;UserDto&gt;&gt;(user, HttpStatus.OK);\r\n\r\n\r\n    }\r\n    }\r\n&quot;&quot;&quot;\r\n\r\n\r\nthe application.properties\r\n\r\n&quot;&quot;&quot;\r\n\r\n    spring.datasource.url = jdbc:oracle:thin:@192.134.2.82:1521/orcl\r\n  \r\n    spring.datasource.username =admin\r\n    spring.datasource.password =zzzx\r\n    spring.datasource.driver-class-name=oracle.jdbc.OracleDriver\r\n\r\n\r\n\r\n    # JPA settings\r\n    spring.jpa.database-platform=org.hibernate.dialect.Oracle12cDialect\r\n    spring.jpa.hibernate.use-new-id-generator-mappings=false\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.hibernate.naming.implicit-       strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n&quot;&quot;&quot;","title":"SpringBoot microservice InvalidDefinitionException","body":"<p>I developed a microservice and when I go to get to postman ( http://localhost:8080/user/utenti/ )  I get this error InvalidDefinitionException No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0]-&gt;com.application.dto.UserDto[&quot;applicationRoleID&quot;]-&gt;com.poste.anagrafica.entity.Role$HibernateProxy$N0iZZA2I[&quot;hibernateLazyInitializer&quot;])</p>\n<p>Can you help me please?\nFor clarity I enclose the schema of the database and the classes entity , dto and controller</p>\n<p><a href=\"https://i.stack.imgur.com/jn42C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jn42C.png\" alt=\"enter image description here\" /></a></p>\n<p>The Entity classes</p>\n<p>&quot;&quot;&quot;</p>\n<pre><code>@Entity\n@Table(name = &quot;USERS&quot;)\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\npublic class User implements Serializable {\n@Id\n@Column(name = &quot;user_id&quot;, nullable = false)\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@Column(name = &quot;created_date&quot;)\nprivate LocalDateTime createdDate;\n\n@Column(name = &quot;deleted&quot;, nullable = false)\nprivate Long number;\n\n@Column(name = &quot;modified_date&quot;)\nprivate LocalDateTime modifiedDate;\n\n@Column(name = &quot;birth_place&quot;)\nprivate String birthPlace;\n\n@Column(name = &quot;birthday&quot;)\nprivate Date birthDay;\n\n@Column(name = &quot;canNominate&quot;)\nprivate Long canNominate;\n\n@Column(name = &quot;email&quot;)\nprivate String email;\n\n@Column(name = &quot;firstName&quot;)\nprivate String firstName;\n\n@Column(name= &quot;fiscalCode&quot;)\nprivate String fiscalCode;\n\n@Column(name = &quot;hiringDate&quot;)\nprivate Date hiringDate;\n\n@Column(name =&quot;last_name&quot;)\nprivate String lastName;\n\n@Column(name = &quot;matricola&quot;)\nprivate String matricola;\n\n@Column(name = &quot;position&quot;)\nprivate String position;\n\n@Column(name = &quot;registration_number&quot;)\nprivate String registrationNumber;\n\n@Column(name = &quot;replaced&quot;)\nprivate Long replaced;\n\n@Column(name = &quot;terminationDate&quot;)\nprivate Date terminationDate;\n\n@Column(name = &quot;user_status&quot;)\nprivate String userStatus;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;application_role_id&quot;)\nprivate Role applicationRoleID;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;company_id&quot;)\nprivate Company companyID;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;direction_id&quot;)\nprivate Direction directions ;\n\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;level_id&quot;)\nprivate Levels levelID;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;referent_id&quot;)\nprivate User referentID;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;role_id&quot;)\nprivate Role roleID;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;task_id&quot;)\nprivate EmployeeTask taskID;\n</code></pre>\n<p>}\n&quot;&quot;&quot;</p>\n<p>the UserDTO class</p>\n<p>&quot;&quot;&quot;</p>\n<pre><code>@Data\npublic class UserDto {\n\n\nprivate Long userId;\n\n\nprivate LocalDateTime createdDate;\n\nprivate Long number;\n\nprivate LocalDateTime modifiedDate;\n\n\nprivate String birthPlace;\n\n\nprivate Date birthDay;\n\n\nprivate Long canNominate;\n\n\nprivate String email;\n\nprivate String firstName;\n\n\nprivate String fiscalCode;\n\n\nprivate Date hiringDate;\n\nprivate String lastName;\n\n\nprivate String matricola;\n\n\nprivate String position;\n\nprivate String registrationNumber;\n\n\nprivate Long replaced;\n\n\nprivate Date terminationDate;\n\n\nprivate String userStatus;\n\n\nprivate Role applicationRoleID;\n\n\nprivate Company companyID;\n\n\nprivate Direction directions ;\n\n\n\nprivate Levels levelID;\n\nprivate User referentID;\n\n\nprivate Role role;\n\nprivate EmployeeTask taskID;\n</code></pre>\n<p>}</p>\n<p>&quot;&quot;&quot;</p>\n<p>the controller class\n&quot;&quot;&quot;</p>\n<pre><code> @RestController\n @RequestMapping(&quot;/user&quot;)\n @Log\n public class UserController {\n\nprivate static final Logger logger = LoggerFactory.getLogger(UserController.class);\n\n@Autowired\nUserService userService;\n\n@GetMapping(value = &quot;/cerca/{registration_number}&quot;, produces = &quot;application/json&quot;)\npublic ResponseEntity&lt;List&lt;UserDto&gt;&gt; listUserByRegistrationNumber(@PathVariable(&quot;registration_number&quot;) String registrationNumber)\n        throws ChangeSetPersister.NotFoundException\n{\n    log.info(&quot;****** Ottengo l'user con numeroRegistrazione &quot; + registrationNumber + &quot; *******&quot;);\n\n    List&lt;UserDto&gt; user = userService.SelByRegistrationNumber(registrationNumber);\n\n\n\n    return new ResponseEntity&lt;List&lt;UserDto&gt;&gt;(user, HttpStatus.OK);\n}\n\n@GetMapping(value = &quot;/utenti&quot;, produces = &quot;application/json&quot;)\npublic ResponseEntity&lt;List&lt;UserDto&gt;&gt; listAllUsers ()throws ChangeSetPersister.NotFoundException{\n\n\n    List&lt;UserDto&gt; user = userService.SelTutti();\n\n\n\n    return new ResponseEntity&lt;List&lt;UserDto&gt;&gt;(user, HttpStatus.OK);\n\n\n}\n}\n</code></pre>\n<p>&quot;&quot;&quot;</p>\n<p>the application.properties</p>\n<p>&quot;&quot;&quot;</p>\n<pre><code>spring.datasource.url = jdbc:oracle:thin:@192.134.2.82:1521/orcl\n\nspring.datasource.username =admin\nspring.datasource.password =zzzx\nspring.datasource.driver-class-name=oracle.jdbc.OracleDriver\n\n\n\n# JPA settings\nspring.jpa.database-platform=org.hibernate.dialect.Oracle12cDialect\nspring.jpa.hibernate.use-new-id-generator-mappings=false\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.hibernate.naming.implicit-       strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n<p>&quot;&quot;&quot;</p>\n"},{"tags":["java","websocket"],"answers":[{"comments":[{"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"score":2,"creation_date":1512141793,"post_id":26454417,"comment_id":82150599,"body_markdown":"Hi, how to make this code work if the websocketServer is sending a continuous stream of messages and websocketClient needs to consume the messages one by one?\nI get the error &quot;The decoded text message was too big for the output buffer and the endpoint does not support partial messages&quot; after running the code for about a minute","body":"Hi, how to make this code work if the websocketServer is sending a continuous stream of messages and websocketClient needs to consume the messages one by one? I get the error &quot;The decoded text message was too big for the output buffer and the endpoint does not support partial messages&quot; after running the code for about a minute"},{"owner":{"account_id":445814,"reputation":2018,"user_id":838494,"accept_rate":77,"display_name":"Albert Hendriks"},"score":0,"creation_date":1521976844,"post_id":26454417,"comment_id":85952917,"body_markdown":"Make sure to maven-import org.java-websocket.","body":"Make sure to maven-import org.java-websocket."},{"owner":{"account_id":2241049,"reputation":689,"user_id":1975301,"accept_rate":60,"display_name":"Kirk Sefchik"},"score":21,"creation_date":1530800001,"post_id":26454417,"comment_id":89368496,"body_markdown":"This code fails with the error: Could not find an implementation class.","body":"This code fails with the error: Could not find an implementation class."},{"owner":{"account_id":4622466,"reputation":118,"user_id":3747134,"display_name":"SRK"},"score":7,"creation_date":1539784488,"post_id":26454417,"comment_id":92628280,"body_markdown":"@deathgaze javax.websocket api is only the specification don&#39;t have full implementation you may need to take the jar file tyrus-standalone-client-1.9.jar and try the same example that should solve your problem. i tested with my example and it is working fine.\n\nhope this will help you.","body":"@deathgaze javax.websocket api is only the specification don&#39;t have full implementation you may need to take the jar file tyrus-standalone-client-1.9.jar and try the same example that should solve your problem. i tested with my example and it is working fine.  hope this will help you."},{"owner":{"account_id":4239901,"reputation":607,"user_id":3470094,"accept_rate":50,"display_name":"Buddhika"},"score":0,"creation_date":1581329200,"post_id":26454417,"comment_id":106382018,"body_markdown":"@Martin How can I send a message on Open.\nExample : I need to send &#39;{&quot;type&quot;:&quot;subscribe&quot;,&quot;symbol&quot;:&quot;AAPL&quot;}&#39; on open the websocket to subscribe.","body":"@Martin How can I send a message on Open. Example : I need to send &#39;{&quot;type&quot;:&quot;subscribe&quot;,&quot;symbol&quot;:&quot;AAPL&quot;}&#39; on open the websocket to subscribe."},{"owner":{"account_id":8889518,"reputation":244,"user_id":6636647,"display_name":"Tarun Rawat"},"score":1,"creation_date":1582970540,"post_id":26454417,"comment_id":106965209,"body_markdown":"for those who is getting  error &quot;Could not find an implementation class.&quot; should also include tyrus-standalone-client-1.9.jar while building . you can download it from [here](https://repo1.maven.org/maven2/org/glassfish/tyrus/bundles/tyrus-standalone-client/1.9/)","body":"for those who is getting  error &quot;Could not find an implementation class.&quot; should also include tyrus-standalone-client-1.9.jar while building . you can download it from <a href=\"https://repo1.maven.org/maven2/org/glassfish/tyrus/bundles/tyrus-standalone-client/1.9/\" rel=\"nofollow noreferrer\">here</a>"}],"tags":[],"owner":{"account_id":36529,"reputation":6827,"user_id":104237,"accept_rate":56,"display_name":"Martin Ille"},"comment_count":6,"down_vote_count":1,"up_vote_count":146,"is_accepted":true,"score":145,"last_activity_date":1658611301,"creation_date":1413746689,"answer_id":26454417,"question_id":26452903,"body_markdown":"I&#39;ve found a great example using `javax.websocket` here:\r\n\r\n[http://www.programmingforliving.com/2013/08/jsr-356-java-api-for-websocket-client-api.html][1]\r\n\r\n\r\nHere the code based on the example linked above:\r\n\r\n\r\n**`TestApp.java`**:\r\n\r\n    package testapp;\r\n    \r\n    import java.net.URI;\r\n    import java.net.URISyntaxException;\r\n    \r\n    public class TestApp {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t\t// open websocket\r\n    \t\t\tfinal WebsocketClientEndpoint clientEndPoint = new WebsocketClientEndpoint(new URI(&quot;wss://real.okcoin.cn:10440/websocket/okcoinapi&quot;));\r\n    \r\n    \t\t\t// add listener\r\n    \t\t\tclientEndPoint.addMessageHandler(new WebsocketClientEndpoint.MessageHandler() {\r\n    \t\t\t\tpublic void handleMessage(String message) {\r\n    \t\t\t\t\tSystem.out.println(message);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \r\n    \t\t\t// send message to websocket\r\n    \t\t\tclientEndPoint.sendMessage(&quot;{&#39;event&#39;:&#39;addChannel&#39;,&#39;channel&#39;:&#39;ok_btccny_ticker&#39;}&quot;);\r\n    \r\n    \t\t\t// wait 5 seconds for messages from websocket\r\n    \t\t\tThread.sleep(5000);\r\n    \r\n    \t\t} catch (InterruptedException ex) {\r\n    \t\t\tSystem.err.println(&quot;InterruptedException exception: &quot; + ex.getMessage());\r\n    \t\t} catch (URISyntaxException ex) {\r\n    \t\t\tSystem.err.println(&quot;URISyntaxException exception: &quot; + ex.getMessage());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**`WebsocketClientEndpoint.java`**:\r\n\r\n    package testapp;\r\n    \r\n    import java.net.URI;\r\n    import javax.websocket.ClientEndpoint;\r\n    import javax.websocket.CloseReason;\r\n    import javax.websocket.ContainerProvider;\r\n    import javax.websocket.OnClose;\r\n    import javax.websocket.OnMessage;\r\n    import javax.websocket.OnOpen;\r\n    import javax.websocket.Session;\r\n    import javax.websocket.WebSocketContainer;\r\n    \r\n    /**\r\n     * ChatServer Client\r\n     *\r\n     * @author Jiji_Sasidharan\r\n     */\r\n    @ClientEndpoint\r\n    public class WebsocketClientEndpoint {\r\n    \r\n    \tSession userSession = null;\r\n    \tprivate MessageHandler messageHandler;\r\n    \r\n    \tpublic WebsocketClientEndpoint(URI endpointURI) {\r\n    \t\ttry {\r\n    \t\t\tWebSocketContainer container = ContainerProvider.getWebSocketContainer();\r\n    \t\t\tcontainer.connectToServer(this, endpointURI);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Callback hook for Connection open events.\r\n    \t *\r\n    \t * @param userSession the userSession which is opened.\r\n    \t */\r\n    \t@OnOpen\r\n    \tpublic void onOpen(Session userSession) {\r\n    \t\tSystem.out.println(&quot;opening websocket&quot;);\r\n    \t\tthis.userSession = userSession;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Callback hook for Connection close events.\r\n    \t *\r\n    \t * @param userSession the userSession which is getting closed.\r\n    \t * @param reason the reason for connection close\r\n    \t */\r\n    \t@OnClose\r\n    \tpublic void onClose(Session userSession, CloseReason reason) {\r\n    \t\tSystem.out.println(&quot;closing websocket&quot;);\r\n    \t\tthis.userSession = null;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Callback hook for Message Events. This method will be invoked when a client send a message.\r\n    \t *\r\n    \t * @param message The text message\r\n    \t */\r\n    \t@OnMessage\r\n    \tpublic void onMessage(String message) {\r\n    \t\tif (this.messageHandler != null) {\r\n    \t\t\tthis.messageHandler.handleMessage(message);\r\n    \t\t}\r\n    \t}\r\n\r\n       @OnMessage\r\n       public void onMessage(ByteBuffer bytes) {\r\n            System.out.println(&quot;Handle byte buffer&quot;);\r\n        }\r\n    \r\n    \t/**\r\n    \t * register message handler\r\n    \t *\r\n    \t * @param msgHandler\r\n    \t */\r\n    \tpublic void addMessageHandler(MessageHandler msgHandler) {\r\n    \t\tthis.messageHandler = msgHandler;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Send a message.\r\n    \t *\r\n    \t * @param message\r\n    \t */\r\n    \tpublic void sendMessage(String message) {\r\n    \t\tthis.userSession.getAsyncRemote().sendText(message);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Message handler.\r\n    \t *\r\n    \t * @author Jiji_Sasidharan\r\n    \t */\r\n    \tpublic static interface MessageHandler {\r\n    \r\n    \t\tpublic void handleMessage(String message);\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://www.programmingforliving.com/2013/08/jsr-356-java-api-for-websocket-client-api.html\r\n","title":"javax.websocket client simple example","body":"<p>I've found a great example using <code>javax.websocket</code> here:</p>\n<p><a href=\"http://www.programmingforliving.com/2013/08/jsr-356-java-api-for-websocket-client-api.html\" rel=\"nofollow noreferrer\">http://www.programmingforliving.com/2013/08/jsr-356-java-api-for-websocket-client-api.html</a></p>\n<p>Here the code based on the example linked above:</p>\n<p><strong><code>TestApp.java</code></strong>:</p>\n<pre><code>package testapp;\n\nimport java.net.URI;\nimport java.net.URISyntaxException;\n\npublic class TestApp {\n\n    public static void main(String[] args) {\n        try {\n            // open websocket\n            final WebsocketClientEndpoint clientEndPoint = new WebsocketClientEndpoint(new URI(&quot;wss://real.okcoin.cn:10440/websocket/okcoinapi&quot;));\n\n            // add listener\n            clientEndPoint.addMessageHandler(new WebsocketClientEndpoint.MessageHandler() {\n                public void handleMessage(String message) {\n                    System.out.println(message);\n                }\n            });\n\n            // send message to websocket\n            clientEndPoint.sendMessage(&quot;{'event':'addChannel','channel':'ok_btccny_ticker'}&quot;);\n\n            // wait 5 seconds for messages from websocket\n            Thread.sleep(5000);\n\n        } catch (InterruptedException ex) {\n            System.err.println(&quot;InterruptedException exception: &quot; + ex.getMessage());\n        } catch (URISyntaxException ex) {\n            System.err.println(&quot;URISyntaxException exception: &quot; + ex.getMessage());\n        }\n    }\n}\n</code></pre>\n<p><strong><code>WebsocketClientEndpoint.java</code></strong>:</p>\n<pre><code>package testapp;\n\nimport java.net.URI;\nimport javax.websocket.ClientEndpoint;\nimport javax.websocket.CloseReason;\nimport javax.websocket.ContainerProvider;\nimport javax.websocket.OnClose;\nimport javax.websocket.OnMessage;\nimport javax.websocket.OnOpen;\nimport javax.websocket.Session;\nimport javax.websocket.WebSocketContainer;\n\n/**\n * ChatServer Client\n *\n * @author Jiji_Sasidharan\n */\n@ClientEndpoint\npublic class WebsocketClientEndpoint {\n\n    Session userSession = null;\n    private MessageHandler messageHandler;\n\n    public WebsocketClientEndpoint(URI endpointURI) {\n        try {\n            WebSocketContainer container = ContainerProvider.getWebSocketContainer();\n            container.connectToServer(this, endpointURI);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    /**\n     * Callback hook for Connection open events.\n     *\n     * @param userSession the userSession which is opened.\n     */\n    @OnOpen\n    public void onOpen(Session userSession) {\n        System.out.println(&quot;opening websocket&quot;);\n        this.userSession = userSession;\n    }\n\n    /**\n     * Callback hook for Connection close events.\n     *\n     * @param userSession the userSession which is getting closed.\n     * @param reason the reason for connection close\n     */\n    @OnClose\n    public void onClose(Session userSession, CloseReason reason) {\n        System.out.println(&quot;closing websocket&quot;);\n        this.userSession = null;\n    }\n\n    /**\n     * Callback hook for Message Events. This method will be invoked when a client send a message.\n     *\n     * @param message The text message\n     */\n    @OnMessage\n    public void onMessage(String message) {\n        if (this.messageHandler != null) {\n            this.messageHandler.handleMessage(message);\n        }\n    }\n\n   @OnMessage\n   public void onMessage(ByteBuffer bytes) {\n        System.out.println(&quot;Handle byte buffer&quot;);\n    }\n\n    /**\n     * register message handler\n     *\n     * @param msgHandler\n     */\n    public void addMessageHandler(MessageHandler msgHandler) {\n        this.messageHandler = msgHandler;\n    }\n\n    /**\n     * Send a message.\n     *\n     * @param message\n     */\n    public void sendMessage(String message) {\n        this.userSession.getAsyncRemote().sendText(message);\n    }\n\n    /**\n     * Message handler.\n     *\n     * @author Jiji_Sasidharan\n     */\n    public static interface MessageHandler {\n\n        public void handleMessage(String message);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2103979,"reputation":627,"user_id":1870811,"display_name":"TCassells"},"score":4,"creation_date":1431426104,"post_id":26467775,"comment_id":48481196,"body_markdown":"Worked in Windows 7, windows 8 and OS X mountain lion using eclipse, server was Ubuntu.","body":"Worked in Windows 7, windows 8 and OS X mountain lion using eclipse, server was Ubuntu."},{"owner":{"account_id":27966,"reputation":11701,"user_id":74264,"accept_rate":89,"display_name":"BvuRVKyUVlViVIc7"},"score":1,"creation_date":1477476045,"post_id":26467775,"comment_id":67779394,"body_markdown":"why would you choose this library instead of javax ones?","body":"why would you choose this library instead of javax ones?"},{"owner":{"account_id":7340099,"reputation":348,"user_id":5590002,"accept_rate":91,"display_name":"Kyle Luke"},"score":3,"creation_date":1477953719,"post_id":26467775,"comment_id":67957764,"body_markdown":"cause it&#39;s obviously simpler","body":"cause it&#39;s obviously simpler"},{"owner":{"account_id":6674353,"reputation":505,"user_id":5149545,"display_name":"c3R1cGFy"},"score":4,"creation_date":1508012229,"post_id":26467775,"comment_id":80443900,"body_markdown":"which changes are needed to support wss protocol (secured ws)?","body":"which changes are needed to support wss protocol (secured ws)?"},{"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"score":0,"creation_date":1512135518,"post_id":26467775,"comment_id":82146508,"body_markdown":"Now the Draft_6455 is used in the code instead of Draft_10","body":"Now the Draft_6455 is used in the code instead of Draft_10"},{"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"score":0,"creation_date":1512136299,"post_id":26467775,"comment_id":82147032,"body_markdown":"The client is connecting to the websocket server for only 1minute. Is there a possiblity to connect to the socket forever to receive a continuous stream of messages?","body":"The client is connecting to the websocket server for only 1minute. Is there a possiblity to connect to the socket forever to receive a continuous stream of messages?"},{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":2,"creation_date":1543428828,"post_id":26467775,"comment_id":93920161,"body_markdown":"Great library, but it has problems with wss. The project has several open issues, and the developer comments he does not have time anymore.","body":"Great library, but it has problems with wss. The project has several open issues, and the developer comments he does not have time anymore."},{"owner":{"account_id":53794,"reputation":83,"user_id":160873,"display_name":"Calum"},"score":0,"creation_date":1582803273,"post_id":26467775,"comment_id":106906997,"body_markdown":"Regarding disconnect after 1 minute, see [https://github.com/TooTallNate/Java-WebSocket/issues/560] for a possible reason/solution.","body":"Regarding disconnect after 1 minute, see [<a href=\"https://github.com/TooTallNate/Java-WebSocket/issues/560]\" rel=\"nofollow noreferrer\">github.com/TooTallNate/Java-WebSocket/issues/560]</a> for a possible reason/solution."},{"owner":{"account_id":4821275,"reputation":2509,"user_id":3891896,"accept_rate":75,"display_name":"Celt"},"score":0,"creation_date":1645090160,"post_id":26467775,"comment_id":125779871,"body_markdown":"This lib only works in UTF-8 also, something to keep in mind.","body":"This lib only works in UTF-8 also, something to keep in mind."}],"tags":[],"owner":{"account_id":2103979,"reputation":627,"user_id":1870811,"display_name":"TCassells"},"comment_count":9,"down_vote_count":2,"up_vote_count":52,"is_accepted":false,"score":50,"last_activity_date":1487136933,"creation_date":1413814445,"answer_id":26467775,"question_id":26452903,"body_markdown":"TooTallNate has a simple client side https://github.com/TooTallNate/Java-WebSocket\r\n\r\nJust add the java_websocket.jar in the dist folder into your project.\r\n\r\n     import org.java_websocket.client.WebSocketClient;\r\n     import org.java_websocket.drafts.Draft_10;\r\n     import org.java_websocket.handshake.ServerHandshake;\r\n     import org.json.JSONException;\r\n     import org.json.JSONObject;\r\n\r\n      WebSocketClient mWs = new WebSocketClient( new URI( &quot;ws://socket.example.com:1234&quot; ), new Draft_10() )\r\n    {\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic void onMessage( String message ) {\r\n\t\t\t\t\t     JSONObject obj = new JSONObject(message);\r\n                         String channel = obj.getString(&quot;channel&quot;);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic void onOpen( ServerHandshake handshake ) {\r\n\t\t\t\t\t\t\tSystem.out.println( &quot;opened connection&quot; );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic void onClose( int code, String reason, boolean remote ) {\r\n\t\t\t\t\t\t\tSystem.out.println( &quot;closed connection&quot; );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic void onError( Exception ex ) {\r\n\t\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t};\r\n     //open websocket\r\n     mWs.connect();\r\n     JSONObject obj = new JSONObject();\r\n     obj.put(&quot;event&quot;, &quot;addChannel&quot;);\r\n     obj.put(&quot;channel&quot;, &quot;ok_btccny_ticker&quot;);\r\n     String message = obj.toString();\r\n     //send message\r\n     mWs.send(message);\r\n\r\n// and to close websocket\r\n\r\n     mWs.close();","title":"javax.websocket client simple example","body":"<p>TooTallNate has a simple client side <a href=\"https://github.com/TooTallNate/Java-WebSocket\" rel=\"noreferrer\">https://github.com/TooTallNate/Java-WebSocket</a></p>\n\n<p>Just add the java_websocket.jar in the dist folder into your project.</p>\n\n<pre><code> import org.java_websocket.client.WebSocketClient;\n import org.java_websocket.drafts.Draft_10;\n import org.java_websocket.handshake.ServerHandshake;\n import org.json.JSONException;\n import org.json.JSONObject;\n\n  WebSocketClient mWs = new WebSocketClient( new URI( \"ws://socket.example.com:1234\" ), new Draft_10() )\n{\n                    @Override\n                    public void onMessage( String message ) {\n                     JSONObject obj = new JSONObject(message);\n                     String channel = obj.getString(\"channel\");\n                    }\n\n                    @Override\n                    public void onOpen( ServerHandshake handshake ) {\n                        System.out.println( \"opened connection\" );\n                    }\n\n                    @Override\n                    public void onClose( int code, String reason, boolean remote ) {\n                        System.out.println( \"closed connection\" );\n                    }\n\n                    @Override\n                    public void onError( Exception ex ) {\n                        ex.printStackTrace();\n                    }\n\n                };\n //open websocket\n mWs.connect();\n JSONObject obj = new JSONObject();\n obj.put(\"event\", \"addChannel\");\n obj.put(\"channel\", \"ok_btccny_ticker\");\n String message = obj.toString();\n //send message\n mWs.send(message);\n</code></pre>\n\n<p>// and to close websocket</p>\n\n<pre><code> mWs.close();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5440121,"reputation":1551,"user_id":4537618,"accept_rate":100,"display_name":"Java Main"},"score":2,"creation_date":1585054479,"post_id":35934800,"comment_id":107626370,"body_markdown":"You should mention that it requires the websocket dependency shipped seperately","body":"You should mention that it requires the websocket dependency shipped seperately"}],"tags":[],"owner":{"account_id":52942,"reputation":5873,"user_id":158288,"accept_rate":92,"display_name":"Koekiebox"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1465576948,"creation_date":1457682261,"answer_id":35934800,"question_id":26452903,"body_markdown":"Have a look at this Java EE 7 examples from Arun Gupta.\r\n\r\n\r\nI forked it [on github][1].\r\n\r\n\r\n  [1]: https://github.com/koekiebox/javaee7-samples/tree/master/websocket/javase-client/src/main/java/org/javaee7/websocket/javase/client\r\n\r\n**Main**\r\n\r\n    /**\r\n     * @author Arun Gupta\r\n     */\r\n    public class Client {\r\n    \r\n        final static CountDownLatch messageLatch = new CountDownLatch(1);\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                WebSocketContainer container = ContainerProvider.getWebSocketContainer();\r\n                String uri = &quot;ws://echo.websocket.org:80/&quot;;\r\n                System.out.println(&quot;Connecting to &quot; + uri);\r\n                container.connectToServer(MyClientEndpoint.class, URI.create(uri));\r\n                messageLatch.await(100, TimeUnit.SECONDS);\r\n            } catch (DeploymentException | InterruptedException | IOException ex) {\r\n                Logger.getLogger(Client.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**ClientEndpoint**\r\n\r\n    /**\r\n     * @author Arun Gupta\r\n     */\r\n    @ClientEndpoint\r\n    public class MyClientEndpoint {\r\n        @OnOpen\r\n        public void onOpen(Session session) {\r\n            System.out.println(&quot;Connected to endpoint: &quot; + session.getBasicRemote());\r\n            try {\r\n                String name = &quot;Duke&quot;;\r\n                System.out.println(&quot;Sending message to endpoint: &quot; + name);\r\n                session.getBasicRemote().sendText(name);\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(MyClientEndpoint.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n    \r\n        @OnMessage\r\n        public void processMessage(String message) {\r\n            System.out.println(&quot;Received message in client: &quot; + message);\r\n            Client.messageLatch.countDown();\r\n        }\r\n    \r\n        @OnError\r\n        public void processError(Throwable t) {\r\n            t.printStackTrace();\r\n        }\r\n    }","title":"javax.websocket client simple example","body":"<p>Have a look at this Java EE 7 examples from Arun Gupta.</p>\n\n<p>I forked it <a href=\"https://github.com/koekiebox/javaee7-samples/tree/master/websocket/javase-client/src/main/java/org/javaee7/websocket/javase/client\" rel=\"noreferrer\">on github</a>.</p>\n\n<p><strong>Main</strong></p>\n\n<pre><code>/**\n * @author Arun Gupta\n */\npublic class Client {\n\n    final static CountDownLatch messageLatch = new CountDownLatch(1);\n\n    public static void main(String[] args) {\n        try {\n            WebSocketContainer container = ContainerProvider.getWebSocketContainer();\n            String uri = \"ws://echo.websocket.org:80/\";\n            System.out.println(\"Connecting to \" + uri);\n            container.connectToServer(MyClientEndpoint.class, URI.create(uri));\n            messageLatch.await(100, TimeUnit.SECONDS);\n        } catch (DeploymentException | InterruptedException | IOException ex) {\n            Logger.getLogger(Client.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n}\n</code></pre>\n\n<p><strong>ClientEndpoint</strong></p>\n\n<pre><code>/**\n * @author Arun Gupta\n */\n@ClientEndpoint\npublic class MyClientEndpoint {\n    @OnOpen\n    public void onOpen(Session session) {\n        System.out.println(\"Connected to endpoint: \" + session.getBasicRemote());\n        try {\n            String name = \"Duke\";\n            System.out.println(\"Sending message to endpoint: \" + name);\n            session.getBasicRemote().sendText(name);\n        } catch (IOException ex) {\n            Logger.getLogger(MyClientEndpoint.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n\n    @OnMessage\n    public void processMessage(String message) {\n        System.out.println(\"Received message in client: \" + message);\n        Client.messageLatch.countDown();\n    }\n\n    @OnError\n    public void processError(Throwable t) {\n        t.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7594758,"reputation":8039,"user_id":5761243,"display_name":"Muhammed Fasil"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1529483750,"creation_date":1529483750,"answer_id":50943796,"question_id":26452903,"body_markdown":"Use this library org.java_websocket\r\n\r\nFirst thing you should import that library in build.gradle\r\n\r\n    repositories {\r\n     mavenCentral()\r\n     }\r\nthen add the implementation in dependency{}\r\n\r\n    implementation &quot;org.java-websocket:Java-WebSocket:1.3.0&quot;\r\nThen you can use this code\r\n\r\nIn your activity declare object for Websocketclient like\r\n\r\n    private WebSocketClient mWebSocketClient;\r\n\r\nthen add this method for callback\r\n\r\n     private void ConnectToWebSocket() {\r\n    URI uri;\r\n    try {\r\n        uri = new URI(&quot;ws://your web socket url&quot;);\r\n    } catch (URISyntaxException e) {\r\n        e.printStackTrace();\r\n        return;\r\n    }\r\n\r\n    mWebSocketClient = new WebSocketClient(uri) {\r\n        @Override\r\n        public void onOpen(ServerHandshake serverHandshake) {\r\n            Log.i(&quot;Websocket&quot;, &quot;Opened&quot;);\r\n            mWebSocketClient.send(&quot;Hello from &quot; + Build.MANUFACTURER + &quot; &quot; + Build.MODEL);\r\n        }\r\n\r\n        @Override\r\n        public void onMessage(String s) {\r\n            final String message = s;\r\n            runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    TextView textView = (TextView)findViewById(R.id.edittext_chatbox);\r\n                    textView.setText(textView.getText() + &quot;\\n&quot; + message);\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        public void onClose(int i, String s, boolean b) {\r\n            Log.i(&quot;Websocket&quot;, &quot;Closed &quot; + s);\r\n        }\r\n\r\n        @Override\r\n        public void onError(Exception e) {\r\n            Log.i(&quot;Websocket&quot;, &quot;Error &quot; + e.getMessage());\r\n        }\r\n    };\r\n    mWebSocketClient.connect();\r\n}","title":"javax.websocket client simple example","body":"<p>Use this library org.java_websocket</p>\n\n<p>First thing you should import that library in build.gradle</p>\n\n<pre><code>repositories {\n mavenCentral()\n }\n</code></pre>\n\n<p>then add the implementation in dependency{}</p>\n\n<pre><code>implementation \"org.java-websocket:Java-WebSocket:1.3.0\"\n</code></pre>\n\n<p>Then you can use this code</p>\n\n<p>In your activity declare object for Websocketclient like</p>\n\n<pre><code>private WebSocketClient mWebSocketClient;\n</code></pre>\n\n<p>then add this method for callback</p>\n\n<pre><code> private void ConnectToWebSocket() {\nURI uri;\ntry {\n    uri = new URI(\"ws://your web socket url\");\n} catch (URISyntaxException e) {\n    e.printStackTrace();\n    return;\n}\n\nmWebSocketClient = new WebSocketClient(uri) {\n    @Override\n    public void onOpen(ServerHandshake serverHandshake) {\n        Log.i(\"Websocket\", \"Opened\");\n        mWebSocketClient.send(\"Hello from \" + Build.MANUFACTURER + \" \" + Build.MODEL);\n    }\n\n    @Override\n    public void onMessage(String s) {\n        final String message = s;\n        runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                TextView textView = (TextView)findViewById(R.id.edittext_chatbox);\n                textView.setText(textView.getText() + \"\\n\" + message);\n            }\n        });\n    }\n\n    @Override\n    public void onClose(int i, String s, boolean b) {\n        Log.i(\"Websocket\", \"Closed \" + s);\n    }\n\n    @Override\n    public void onError(Exception e) {\n        Log.i(\"Websocket\", \"Error \" + e.getMessage());\n    }\n};\nmWebSocketClient.connect();\n</code></pre>\n\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":2508599,"reputation":374,"user_id":2181576,"display_name":"veritas"},"score":0,"creation_date":1602092619,"post_id":58161467,"comment_id":113613821,"body_markdown":"I added an implemenation that worked for Spring MVC. why the downvote?","body":"I added an implemenation that worked for Spring MVC. why the downvote?"},{"owner":{"account_id":3146539,"reputation":1633,"user_id":2660921,"accept_rate":83,"display_name":"MojioMS"},"score":0,"creation_date":1631259908,"post_id":58161467,"comment_id":122178996,"body_markdown":"Spring was not questioned for. Other java-dependent client applications (e.g. android app&#39;s) cannot make use of this","body":"Spring was not questioned for. Other java-dependent client applications (e.g. android app&#39;s) cannot make use of this"},{"owner":{"account_id":2508599,"reputation":374,"user_id":2181576,"display_name":"veritas"},"score":1,"creation_date":1631275941,"post_id":58161467,"comment_id":122184892,"body_markdown":"@MojioMS But what is the probability that someone will open this question for SpringMVC and I will offer that answer? Isn&#39;t it better the OP ignores this answer because he has Java but not spring mvc? For those who have a websocket issue and have spring, this contribution could be useful.","body":"@MojioMS But what is the probability that someone will open this question for SpringMVC and I will offer that answer? Isn&#39;t it better the OP ignores this answer because he has Java but not spring mvc? For those who have a websocket issue and have spring, this contribution could be useful."},{"owner":{"account_id":3146539,"reputation":1633,"user_id":2660921,"accept_rate":83,"display_name":"MojioMS"},"score":1,"creation_date":1631521031,"post_id":58161467,"comment_id":122234657,"body_markdown":"Well, I&#39;ve made that - lets call it &#39;mistake&#39; - too. I didn&#39;t vote down your answer but just wanted to give an explanation. It might be useful to add some kind of &#39;Spring Framework solution&#39;-title to your answer.","body":"Well, I&#39;ve made that - lets call it &#39;mistake&#39; - too. I didn&#39;t vote down your answer but just wanted to give an explanation. It might be useful to add some kind of &#39;Spring Framework solution&#39;-title to your answer."}],"tags":[],"owner":{"account_id":2508599,"reputation":374,"user_id":2181576,"display_name":"veritas"},"comment_count":4,"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1569817028,"creation_date":1569817028,"answer_id":58161467,"question_id":26452903,"body_markdown":" I have Spring 4.2 in my project and many SockJS Stomp implementations usually work well with Spring Boot implementations. [This implementation from Baeldung][2] worked(for me without changing from Spring 4.2 to 5). After Using the dependencies mentioned in his blog, it still gave me ClassNotFoundError. I added the below dependency to fix it. \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.2.3.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/22481357/stomp-over-socket-using-sockjs-cant-connect-with-spring-4-websocket\r\n  [2]: https://www.baeldung.com/websockets-spring","title":"javax.websocket client simple example","body":"<p>I have Spring 4.2 in my project and many SockJS Stomp implementations usually work well with Spring Boot implementations. <a href=\"https://www.baeldung.com/websockets-spring\" rel=\"nofollow noreferrer\">This implementation from Baeldung</a> worked(for me without changing from Spring 4.2 to 5). After Using the dependencies mentioned in his blog, it still gave me ClassNotFoundError. I added the below dependency to fix it. </p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;version&gt;4.2.3.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26492972,"reputation":1,"user_id":20131149,"display_name":"Hard Core"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664546175,"creation_date":1664545855,"answer_id":73909824,"question_id":26452903,"body_markdown":"Here is such a solution from - com.neovisionary.ws.client.Web socket - https://github.com/TakahikoKawasaki/nv-websocket-client    \r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.URI;\r\n    import java.time.LocalDateTime;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    import com.neovisionaries.ws.client.WebSocket;\r\n    import com.neovisionaries.ws.client.WebSocketAdapter;\r\n    import com.neovisionaries.ws.client.WebSocketException;\r\n    import com.neovisionaries.ws.client.WebSocketFactory;\r\n    import com.neovisionaries.ws.client.WebSocketFrame;\r\n    \r\n    public class WssM {\r\n    \r\n        public static List&lt;String&gt; ListMessage = new ArrayList&lt;&gt;();\r\n        public static boolean WebSocketLog = true;\r\n        public static final String WssURL = &quot;wss://site.com/api/sport_tree_ws/v1&quot;;\r\n        public static final String WebsocketMessage = &quot;{\\&quot;type\\&quot;: \\&quot;subscribe_state\\&quot;, \\&quot;subscribe_state\\&quot;: {\\&quot;uid\\&quot;: \\&quot;-1\\&quot;}}&quot;;\r\n    \r\n        \r\n    \r\n        public static void main(String[] args) throws IOException, WebSocketException {\r\n            WebSocket socket = connect(WssURL);\r\n            BufferedReader in = getInput();\r\n            socket.sendText(WebsocketMessage);\r\n            String text;\r\n            try {\r\n                while ((text = in.readLine()) != null) {\r\n                    if (text.equals(&quot;exit&quot;)) break;\r\n                    if (!socket.isOpen()) {\r\n                        System.out.println(&quot;Socket is closed. Trying to reconnect...&quot;);\r\n                        socket.recreate().connect();\r\n                        System.out.println(&quot;Reconnected!&quot;);\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                if (socket.isOpen()) {\r\n                    System.out.println(&quot;Disconnecting connection to server!&quot;);\r\n                    socket.disconnect(); //Close the WebSocket.\r\n                }\r\n            }\r\n        }\r\n        private static WebSocket connect(String Host) throws IOException, WebSocketException {\r\n            WebSocketFactory wsFactory = new WebSocketFactory().setConnectionTimeout(55000);\r\n            WebSocket socket = wsFactory.createSocket(URI.create(Host)).addProtocol(&quot;json&quot;);//.addHeader(&quot;Sec-WebSocket-Protocol&quot;, &quot;json&quot;)\r\n            //WebSocket socket = wsFactory.createSocket(URI.create(HOST + &quot;?Authorization=&quot; + DUMMY_JWT_TOKEN));\r\n            socket.addListener(new WebSocketAdapter() {\r\n                @Override\r\n                public void onSendingHandshake(WebSocket websocket, String requestLine, List&lt;String[]&gt; headers) {\r\n                    if (WebSocketLog) System.out.println(requestLine);\r\n                    for (String[] header : headers) { //Print the header, &quot;{name}: {value}&quot;\r\n                        if (WebSocketLog) System.out.format(&quot;%s: %s\\n&quot;, header[0], header[1]);\r\n                    }\r\n                }\r\n                @Override\r\n                public void onConnected(WebSocket websocket, Map&lt;String, List&lt;String&gt;&gt; headers) {\r\n                    if (WebSocketLog) System.out.println(&quot;Success! WebSocket - Connected!&quot;);\r\n                }\r\n                @Override\r\n                public void onTextMessage(WebSocket websocket, String text) {\r\n                    if (WebSocketLog) System.out.printf(&quot;MessageToClient: %s%n&quot;, text); ListMessage.add(text);\r\n                }\r\n                @Override\r\n                public void onDisconnected(WebSocket websocket, WebSocketFrame serverCloseFrame, WebSocketFrame clientCloseFrame, boolean closedByServer) {\r\n                    if (WebSocketLog) System.out.println(&quot;Disconnecting...&quot;);\r\n                    if (WebSocketLog) System.out.printf(&quot; Opcode: %d%n&quot;, serverCloseFrame.getOpcode());\r\n                }\r\n                @Override\r\n                public void onPongFrame(WebSocket websocket, WebSocketFrame frame) {\r\n                    if (WebSocketLog) System.out.printf(&quot;Received some pong..!! Payload text: %s%n&quot;, frame.getPayloadText());\r\n                    System.out.printf(&quot; Opcode: %d%n&quot;, frame.getOpcode());\r\n                }\r\n                @Override\r\n                public void onPingFrame(WebSocket websocket, WebSocketFrame frame) {\r\n                    if (WebSocketLog) System.out.printf(&quot;I have been pinged by server at %s%n&quot;, LocalDateTime.now());\r\n                    websocket.sendPong(&quot;Ponging from client&quot;);\r\n                }\r\n                @Override\r\n                public void onTextFrame(WebSocket websocket, WebSocketFrame frame) {\r\n                    if (WebSocketLog) System.out.printf(&quot;onTextFrame - %s%n&quot;, LocalDateTime.now());\r\n                    websocket.sendPong(&quot;onTextFrame from client&quot;);\r\n                }\r\n                @Override\r\n                public void onError(WebSocket websocket, WebSocketException cause) {\r\n                    System.out.printf(&quot;I have received exception %s%n&quot;, cause.getMessage());\r\n                }\r\n            }).connect();\r\n            return socket;\r\n        }\r\n    \r\n        private static BufferedReader getInput() {\r\n            return new BufferedReader(new InputStreamReader(System.in));\r\n        }\r\n    }","title":"javax.websocket client simple example","body":"<p>Here is such a solution from - com.neovisionary.ws.client.Web socket - <a href=\"https://github.com/TakahikoKawasaki/nv-websocket-client\" rel=\"nofollow noreferrer\">https://github.com/TakahikoKawasaki/nv-websocket-client</a></p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.URI;\nimport java.time.LocalDateTime;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\n\nimport com.neovisionaries.ws.client.WebSocket;\nimport com.neovisionaries.ws.client.WebSocketAdapter;\nimport com.neovisionaries.ws.client.WebSocketException;\nimport com.neovisionaries.ws.client.WebSocketFactory;\nimport com.neovisionaries.ws.client.WebSocketFrame;\n\npublic class WssM {\n\n    public static List&lt;String&gt; ListMessage = new ArrayList&lt;&gt;();\n    public static boolean WebSocketLog = true;\n    public static final String WssURL = &quot;wss://site.com/api/sport_tree_ws/v1&quot;;\n    public static final String WebsocketMessage = &quot;{\\&quot;type\\&quot;: \\&quot;subscribe_state\\&quot;, \\&quot;subscribe_state\\&quot;: {\\&quot;uid\\&quot;: \\&quot;-1\\&quot;}}&quot;;\n\n    \n\n    public static void main(String[] args) throws IOException, WebSocketException {\n        WebSocket socket = connect(WssURL);\n        BufferedReader in = getInput();\n        socket.sendText(WebsocketMessage);\n        String text;\n        try {\n            while ((text = in.readLine()) != null) {\n                if (text.equals(&quot;exit&quot;)) break;\n                if (!socket.isOpen()) {\n                    System.out.println(&quot;Socket is closed. Trying to reconnect...&quot;);\n                    socket.recreate().connect();\n                    System.out.println(&quot;Reconnected!&quot;);\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            if (socket.isOpen()) {\n                System.out.println(&quot;Disconnecting connection to server!&quot;);\n                socket.disconnect(); //Close the WebSocket.\n            }\n        }\n    }\n    private static WebSocket connect(String Host) throws IOException, WebSocketException {\n        WebSocketFactory wsFactory = new WebSocketFactory().setConnectionTimeout(55000);\n        WebSocket socket = wsFactory.createSocket(URI.create(Host)).addProtocol(&quot;json&quot;);//.addHeader(&quot;Sec-WebSocket-Protocol&quot;, &quot;json&quot;)\n        //WebSocket socket = wsFactory.createSocket(URI.create(HOST + &quot;?Authorization=&quot; + DUMMY_JWT_TOKEN));\n        socket.addListener(new WebSocketAdapter() {\n            @Override\n            public void onSendingHandshake(WebSocket websocket, String requestLine, List&lt;String[]&gt; headers) {\n                if (WebSocketLog) System.out.println(requestLine);\n                for (String[] header : headers) { //Print the header, &quot;{name}: {value}&quot;\n                    if (WebSocketLog) System.out.format(&quot;%s: %s\\n&quot;, header[0], header[1]);\n                }\n            }\n            @Override\n            public void onConnected(WebSocket websocket, Map&lt;String, List&lt;String&gt;&gt; headers) {\n                if (WebSocketLog) System.out.println(&quot;Success! WebSocket - Connected!&quot;);\n            }\n            @Override\n            public void onTextMessage(WebSocket websocket, String text) {\n                if (WebSocketLog) System.out.printf(&quot;MessageToClient: %s%n&quot;, text); ListMessage.add(text);\n            }\n            @Override\n            public void onDisconnected(WebSocket websocket, WebSocketFrame serverCloseFrame, WebSocketFrame clientCloseFrame, boolean closedByServer) {\n                if (WebSocketLog) System.out.println(&quot;Disconnecting...&quot;);\n                if (WebSocketLog) System.out.printf(&quot; Opcode: %d%n&quot;, serverCloseFrame.getOpcode());\n            }\n            @Override\n            public void onPongFrame(WebSocket websocket, WebSocketFrame frame) {\n                if (WebSocketLog) System.out.printf(&quot;Received some pong..!! Payload text: %s%n&quot;, frame.getPayloadText());\n                System.out.printf(&quot; Opcode: %d%n&quot;, frame.getOpcode());\n            }\n            @Override\n            public void onPingFrame(WebSocket websocket, WebSocketFrame frame) {\n                if (WebSocketLog) System.out.printf(&quot;I have been pinged by server at %s%n&quot;, LocalDateTime.now());\n                websocket.sendPong(&quot;Ponging from client&quot;);\n            }\n            @Override\n            public void onTextFrame(WebSocket websocket, WebSocketFrame frame) {\n                if (WebSocketLog) System.out.printf(&quot;onTextFrame - %s%n&quot;, LocalDateTime.now());\n                websocket.sendPong(&quot;onTextFrame from client&quot;);\n            }\n            @Override\n            public void onError(WebSocket websocket, WebSocketException cause) {\n                System.out.printf(&quot;I have received exception %s%n&quot;, cause.getMessage());\n            }\n        }).connect();\n        return socket;\n    }\n\n    private static BufferedReader getInput() {\n        return new BufferedReader(new InputStreamReader(System.in));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":36529,"reputation":6827,"user_id":104237,"accept_rate":56,"display_name":"Martin Ille"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305562,"favorite_count":0,"down_vote_count":2,"up_vote_count":129,"accepted_answer_id":26454417,"answer_count":6,"score":127,"last_activity_date":1664546175,"creation_date":1413737353,"question_id":26452903,"body_markdown":"Can someone please provide me very simple example of websocket client using `javax.websocket`?\r\n\r\nI want to connect to websocket (ws://socket.example.com:1234), send message (add channel) and listen to messages. All messages (sent &amp; listened) are in JSON format.\r\n\r\nAnd btw is this library the best for simple websocket communication?","title":"javax.websocket client simple example","body":"<p>Can someone please provide me very simple example of websocket client using <code>javax.websocket</code>?</p>\n\n<p>I want to connect to websocket (ws://socket.example.com:1234), send message (add channel) and listen to messages. All messages (sent &amp; listened) are in JSON format.</p>\n\n<p>And btw is this library the best for simple websocket communication?</p>\n"},{"tags":["java","class","object","instantiation"],"answers":[{"tags":[],"owner":{"account_id":2573,"reputation":24982,"user_id":3587,"accept_rate":74,"display_name":"Thomas L&#246;tzer"},"comment_count":0,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1263896562,"creation_date":1263896025,"answer_id":2092675,"question_id":2092659,"body_markdown":"Class.forName() gives you the class object, which is useful for reflection. The methods that this object has are defined by Java, not by the programmer writing the class. They are the same for every class. Calling newInstance() on that gives you an instance of that class (i.e. calling `Class.forName(&quot;ExampleClass&quot;).newInstance()` it is equivalent to calling `new ExampleClass()`), on which you can call the methods that the class defines, access the visible fields etc.  ","title":"What is the difference between &quot;Class.forName()&quot; and &quot;Class.forName().newInstance()&quot;?","body":"<p>Class.forName() gives you the class object, which is useful for reflection. The methods that this object has are defined by Java, not by the programmer writing the class. They are the same for every class. Calling newInstance() on that gives you an instance of that class (i.e. calling <code>Class.forName(\"ExampleClass\").newInstance()</code> it is equivalent to calling <code>new ExampleClass()</code>), on which you can call the methods that the class defines, access the visible fields etc.  </p>\n"},{"tags":[],"owner":{"account_id":70734,"reputation":14669,"user_id":204845,"accept_rate":68,"display_name":"Arne Deutsch"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1263896557,"creation_date":1263896117,"answer_id":2092684,"question_id":2092659,"body_markdown":"&quot;Class.forName()&quot; returns the Class-Type for the given name. &quot;newInstance()&quot; does return an instance of this class.\r\n\r\nOn the type you can&#39;t call directly any instance methods but can only use reflection for the class. If you want to work with an object of the class you have to create an instance of it (same as calling &quot;new MyClass()&quot;).\r\n\r\nExample for &quot;Class.forName()&quot;\r\n\r\n    Class myClass = Class.forName(&quot;test.MyClass&quot;);\r\n    System.out.println(&quot;Number of public methods: &quot; + myClass.getMethods().length);\r\n\r\nExample for &quot;Class.forName().newInstance()&quot;\r\n\r\n    MyClass myClass = (MyClass) Class.forName(&quot;test.MyClass&quot;).newInstance();\r\n    System.out.println(&quot;String representation of MyClass instance: &quot; + myClass.toString());\r\n\r\n\r\n","title":"What is the difference between &quot;Class.forName()&quot; and &quot;Class.forName().newInstance()&quot;?","body":"<p>\"Class.forName()\" returns the Class-Type for the given name. \"newInstance()\" does return an instance of this class.</p>\n\n<p>On the type you can't call directly any instance methods but can only use reflection for the class. If you want to work with an object of the class you have to create an instance of it (same as calling \"new MyClass()\").</p>\n\n<p>Example for \"Class.forName()\"</p>\n\n<pre><code>Class myClass = Class.forName(\"test.MyClass\");\nSystem.out.println(\"Number of public methods: \" + myClass.getMethods().length);\n</code></pre>\n\n<p>Example for \"Class.forName().newInstance()\"</p>\n\n<pre><code>MyClass myClass = (MyClass) Class.forName(\"test.MyClass\").newInstance();\nSystem.out.println(\"String representation of MyClass instance: \" + myClass.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":58153,"reputation":5728,"user_id":2922388,"accept_rate":65,"display_name":"Gopi"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1263896198,"creation_date":1263896198,"answer_id":2092690,"question_id":2092659,"body_markdown":" Class.forName() gets a reference to a Class, Class.forName().newInstance() tries to use the no-arg constructor for the Class to return a new instance.","title":"What is the difference between &quot;Class.forName()&quot; and &quot;Class.forName().newInstance()&quot;?","body":"<p>Class.forName() gets a reference to a Class, Class.forName().newInstance() tries to use the no-arg constructor for the Class to return a new instance.</p>\n"},{"comments":[{"owner":{"account_id":42657,"reputation":27146,"user_id":124339,"accept_rate":46,"display_name":"Johanna"},"score":0,"creation_date":1263902700,"post_id":2093100,"comment_id":2026023,"body_markdown":"but still in this site :http://java.sun.com/docs/books/tutorial/jdbc/basics/connecting.html","body":"but still in this site :<a href=\"http://java.sun.com/docs/books/tutorial/jdbc/basics/connecting.html\" rel=\"nofollow noreferrer\">java.sun.com/docs/books/tutorial/jdbc/basics/connecting.htm&zwnj;&#8203;l</a>"},{"owner":{"account_id":42657,"reputation":27146,"user_id":124339,"accept_rate":46,"display_name":"Johanna"},"score":2,"creation_date":1263902734,"post_id":2093100,"comment_id":2026028,"body_markdown":"in the above site is written that:&quot;Calling the Class.forName automatically creates an instance of a driver and registers it with the DriverManager, so you don&#39;t need to create an instance of the class. If you were to create your own instance, you would be creating an unnecessary duplicate, but it would do no harm.&quot; it means that by Class.forName you will create an instance outomatically and if you want to create the other it will make an unnecessary instance So both Calss.forName() and Class.forName().newInstance() will create an instance of the driver!!","body":"in the above site is written that:&quot;Calling the Class.forName automatically creates an instance of a driver and registers it with the DriverManager, so you don&#39;t need to create an instance of the class. If you were to create your own instance, you would be creating an unnecessary duplicate, but it would do no harm.&quot; it means that by Class.forName you will create an instance outomatically and if you want to create the other it will make an unnecessary instance So both Calss.forName() and Class.forName().newInstance() will create an instance of the driver!!"},{"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"score":11,"creation_date":1263904673,"post_id":2093100,"comment_id":2026243,"body_markdown":"JDBC drivers are &quot;special&quot;, they are written with a static initialization block where an instance is created and passed as parameter of `DriverManager.registerDriver`. Calling `Class.forName` on a JDBC driver causes its initialization and thus the execution of the static block. Have a look at http://www.java2s.com/Open-Source/Java-Document/Database-DBMS/db-derby-10.2/org/apache/derby/jdbc/ClientDriver.java.htm for an example. So this is actually a particular case due to driver internals.","body":"JDBC drivers are &quot;special&quot;, they are written with a static initialization block where an instance is created and passed as parameter of <code>DriverManager.registerDriver</code>. Calling <code>Class.forName</code> on a JDBC driver causes its initialization and thus the execution of the static block. Have a look at <a href=\"http://www.java2s.com/Open-Source/Java-Document/Database-DBMS/db-derby-10.2/org/apache/derby/jdbc/ClientDriver.java.htm\" rel=\"nofollow noreferrer\">java2s.com/Open-Source/Java-Document/Database-DBMS/&hellip;</a> for an example. So this is actually a particular case due to driver internals."},{"owner":{"account_id":260282,"reputation":3302,"user_id":543738,"accept_rate":39,"display_name":"Mr. Lance E Sloan"},"score":1,"creation_date":1364396272,"post_id":2093100,"comment_id":22228371,"body_markdown":"I&#39;ve noticed that in [another answer](http://stackoverflow.com/a/7495850/543738), using Class.newInstance() is strongly discouraged.  It&#39;s recommended to use Class.getConstructor(), followed by Constructor.newInstance() in turn.  It avoids masking possible exceptions.","body":"I&#39;ve noticed that in <a href=\"http://stackoverflow.com/a/7495850/543738\">another answer</a>, using Class.newInstance() is strongly discouraged.  It&#39;s recommended to use Class.getConstructor(), followed by Constructor.newInstance() in turn.  It avoids masking possible exceptions."},{"owner":{"account_id":2164982,"reputation":2827,"user_id":1918282,"accept_rate":90,"display_name":"Code Enthusiastic"},"score":0,"creation_date":1372853243,"post_id":2093100,"comment_id":25347048,"body_markdown":"&quot;newInstance allows to instantiate a class that you don&#39;t know until runtime&quot; made my day. Thanks.","body":"&quot;newInstance allows to instantiate a class that you don&#39;t know until runtime&quot; made my day. Thanks."},{"owner":{"account_id":2920668,"reputation":2280,"user_id":2503007,"accept_rate":96,"display_name":"Chiseled"},"score":0,"creation_date":1414193064,"post_id":2093100,"comment_id":41736546,"body_markdown":"+1 for the detailed answer. One point though , With JDBC 4.0 one does not even need to use Class.forName .... Java&#39;s Service Provider Mechanism SPM loads the database driver automatically. One only needs to specify the driver jar in the classpath. Refer to this http://stackoverflow.com/questions/26551648/understanding-javas-service-provider-mechanism-that-automatically-loads-the-jdb","body":"+1 for the detailed answer. One point though , With JDBC 4.0 one does not even need to use Class.forName .... Java&#39;s Service Provider Mechanism SPM loads the database driver automatically. One only needs to specify the driver jar in the classpath. Refer to this <a href=\"http://stackoverflow.com/questions/26551648/understanding-javas-service-provider-mechanism-that-automatically-loads-the-jdb\" title=\"understanding javas service provider mechanism that automatically loads the jdb\">stackoverflow.com/questions/26551648/&hellip;</a>"}],"tags":[],"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":6,"down_vote_count":1,"up_vote_count":266,"is_accepted":true,"score":265,"last_activity_date":1664546115,"creation_date":1263900908,"answer_id":2093100,"question_id":2092659,"body_markdown":"Maybe an example demonstrating how both methods are used will help you to understand things better. So, consider the following class:\r\n\r\n    package test;\r\n\r\n    public class Demo {\r\n    \r\n        public Demo() {\r\n            System.out.println(&quot;Hi!&quot;);\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            Class clazz = Class.forName(&quot;test.Demo&quot;);\r\n            Demo demo = (Demo) clazz.newInstance();\r\n        }\r\n    }\r\n\r\nAs explained in its javadoc, calling [`Class.forName(String)`][1] *returns the `Class` object associated with the class or interface with the given string name* i.e. it returns `test.Demo.class` which is affected to the `clazz` variable of type `Class`.\r\n\r\nThen, calling [`clazz.newInstance()`][2] *creates a new instance of the class represented by this `Class`  object. The class is instantiated as if by a `new` expression with an empty argument list.* In other words, this is here actually equivalent to a `new Demo()` and returns a new instance of `Demo`.\r\n\r\nAnd running this `Demo` class thus prints the following output:\r\n\r\n    Hi!\r\n\r\nThe big difference with the traditional `new` is that `newInstance` allows to instantiate a class that you don&#39;t know until runtime, making your code more dynamic. \r\n\r\nA typical example is the JDBC API which loads, at runtime, the exact driver required to perform the work. EJBs containers, Servlet containers are other good examples: they use dynamic runtime loading to load and create components they don&#39;t know anything before the runtime.\r\n\r\nActually, if you want to go further, have a look at Ted Neward paper [Understanding Class.forName()][3] that I was paraphrasing in the paragraph just above.\r\n\r\n**EDIT** (answering a question from the OP posted as comment): The case of JDBC drivers is a bit special. As explained in the [DriverManager][4] chapter of [Getting Started with the JDBC API][5]:\r\n\r\n&gt; (...) A `Driver` class is loaded, and\r\n&gt; therefore automatically registered\r\n&gt; with the `DriverManager`, in one of two\r\n&gt; ways:\r\n&gt; \r\n&gt; 1. by calling the method `Class.forName`. This explicitly loads\r\n&gt; the driver class. Since it does not\r\n&gt; depend on any external setup, this way\r\n&gt; of loading a driver is the recommended\r\n&gt; one for using the `DriverManager`\r\n&gt; framework. The following code loads\r\n&gt; the class `acme.db.Driver`:\r\n&gt; \r\n&gt;         Class.forName(&quot;acme.db.Driver&quot;);\r\n&gt; \r\n&gt;   **If `acme.db.Driver` has been written so that loading it causes an\r\n&gt; instance to be created and also calls\r\n&gt; `DriverManager.registerDriver` with that\r\n&gt; instance as the parameter** (as it\r\n&gt; should do), then it is in the\r\n&gt; `DriverManager`&#39;s list of drivers and\r\n&gt; available for creating a connection.\r\n&gt; \r\n&gt; 2. (...) \r\n&gt; \r\n&gt; In both of these cases, it is the responsibility of the newly-loaded `Driver` class to register itself by calling `DriverManager.registerDriver`. As mentioned, this should be done automatically when the class is loaded. \r\n\r\nTo register themselves during initialization, JDBC driver typically use a static initialization block like this:\r\n\r\n    package acme.db;\r\n    \r\n    public class Driver {\r\n    \r\n        static {\r\n            java.sql.DriverManager.registerDriver(new Driver());\r\n        }\r\n        \r\n        ...\r\n    }\r\n\r\nCalling `Class.forName(&quot;acme.db.Driver&quot;)` causes the initialization of the `acme.db.Driver` class and thus the execution of the static initialization block. And  `Class.forName(&quot;acme.db.Driver&quot;)` will indeed &quot;create&quot; an instance but this is just a consequence of how (good) JDBC Driver are implemented.\r\n\r\nAs a side note, I&#39;d mention that all this is not required anymore with JDBC 4.0(added as a default package since Java 7) and the new auto-loading feature of JDBC 4.0 drivers. See [JDBC 4.0 enhancements in Java SE 6][6].\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Class.html#forName%28java.lang.String%29\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/lang/Class.html#newInstance%28%29\r\n  [3]: https://www.theserverside.com/news/1365412/Understanding-ClassforName-Java\r\n  [4]: http://java.sun.com/j2se/1.5.0/docs/guide/jdbc/getstart/drivermanager.html\r\n  [5]: http://java.sun.com/j2se/1.5.0/docs/guide/jdbc/getstart/GettingStartedTOC.fm.html\r\n  [6]: https://docs.oracle.com/javadb/10.8.3.0/ref/rrefjdbc4_0summary.html","title":"What is the difference between &quot;Class.forName()&quot; and &quot;Class.forName().newInstance()&quot;?","body":"<p>Maybe an example demonstrating how both methods are used will help you to understand things better. So, consider the following class:</p>\n<pre><code>package test;\n\npublic class Demo {\n\n    public Demo() {\n        System.out.println(&quot;Hi!&quot;);\n    }\n\n    public static void main(String[] args) throws Exception {\n        Class clazz = Class.forName(&quot;test.Demo&quot;);\n        Demo demo = (Demo) clazz.newInstance();\n    }\n}\n</code></pre>\n<p>As explained in its javadoc, calling <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Class.html#forName%28java.lang.String%29\" rel=\"noreferrer\"><code>Class.forName(String)</code></a> <em>returns the <code>Class</code> object associated with the class or interface with the given string name</em> i.e. it returns <code>test.Demo.class</code> which is affected to the <code>clazz</code> variable of type <code>Class</code>.</p>\n<p>Then, calling <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Class.html#newInstance%28%29\" rel=\"noreferrer\"><code>clazz.newInstance()</code></a> <em>creates a new instance of the class represented by this <code>Class</code>  object. The class is instantiated as if by a <code>new</code> expression with an empty argument list.</em> In other words, this is here actually equivalent to a <code>new Demo()</code> and returns a new instance of <code>Demo</code>.</p>\n<p>And running this <code>Demo</code> class thus prints the following output:</p>\n<pre><code>Hi!\n</code></pre>\n<p>The big difference with the traditional <code>new</code> is that <code>newInstance</code> allows to instantiate a class that you don't know until runtime, making your code more dynamic.</p>\n<p>A typical example is the JDBC API which loads, at runtime, the exact driver required to perform the work. EJBs containers, Servlet containers are other good examples: they use dynamic runtime loading to load and create components they don't know anything before the runtime.</p>\n<p>Actually, if you want to go further, have a look at Ted Neward paper <a href=\"https://www.theserverside.com/news/1365412/Understanding-ClassforName-Java\" rel=\"noreferrer\">Understanding Class.forName()</a> that I was paraphrasing in the paragraph just above.</p>\n<p><strong>EDIT</strong> (answering a question from the OP posted as comment): The case of JDBC drivers is a bit special. As explained in the <a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/jdbc/getstart/drivermanager.html\" rel=\"noreferrer\">DriverManager</a> chapter of <a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/jdbc/getstart/GettingStartedTOC.fm.html\" rel=\"noreferrer\">Getting Started with the JDBC API</a>:</p>\n<blockquote>\n<p>(...) A <code>Driver</code> class is loaded, and\ntherefore automatically registered\nwith the <code>DriverManager</code>, in one of two\nways:</p>\n<ol>\n<li><p>by calling the method <code>Class.forName</code>. This explicitly loads\nthe driver class. Since it does not\ndepend on any external setup, this way\nof loading a driver is the recommended\none for using the <code>DriverManager</code>\nframework. The following code loads\nthe class <code>acme.db.Driver</code>:</p>\n<pre><code> Class.forName(&quot;acme.db.Driver&quot;);\n</code></pre>\n</li>\n</ol>\n<p><strong>If <code>acme.db.Driver</code> has been written so that loading it causes an\ninstance to be created and also calls\n<code>DriverManager.registerDriver</code> with that\ninstance as the parameter</strong> (as it\nshould do), then it is in the\n<code>DriverManager</code>'s list of drivers and\navailable for creating a connection.</p>\n<ol start=\"2\">\n<li>(...)</li>\n</ol>\n<p>In both of these cases, it is the responsibility of the newly-loaded <code>Driver</code> class to register itself by calling <code>DriverManager.registerDriver</code>. As mentioned, this should be done automatically when the class is loaded.</p>\n</blockquote>\n<p>To register themselves during initialization, JDBC driver typically use a static initialization block like this:</p>\n<pre><code>package acme.db;\n\npublic class Driver {\n\n    static {\n        java.sql.DriverManager.registerDriver(new Driver());\n    }\n    \n    ...\n}\n</code></pre>\n<p>Calling <code>Class.forName(&quot;acme.db.Driver&quot;)</code> causes the initialization of the <code>acme.db.Driver</code> class and thus the execution of the static initialization block. And  <code>Class.forName(&quot;acme.db.Driver&quot;)</code> will indeed &quot;create&quot; an instance but this is just a consequence of how (good) JDBC Driver are implemented.</p>\n<p>As a side note, I'd mention that all this is not required anymore with JDBC 4.0(added as a default package since Java 7) and the new auto-loading feature of JDBC 4.0 drivers. See <a href=\"https://docs.oracle.com/javadb/10.8.3.0/ref/rrefjdbc4_0summary.html\" rel=\"noreferrer\">JDBC 4.0 enhancements in Java SE 6</a>.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":0,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1263902476,"creation_date":1263902476,"answer_id":2093236,"question_id":2092659,"body_markdown":"In JDBC world, the *normal* practice (according the JDBC API) is that you use `Class#forName()` to load a JDBC driver. The JDBC driver should namely register itself in [`DriverManager`][1] inside a static block:\r\n\r\n    package com.dbvendor.jdbc;\r\n\r\n    import java.sql.Driver;\r\n    import java.sql.DriverManager;\r\n\r\n    public class MyDriver implements Driver {\r\n\r\n        static {\r\n            DriverManager.registerDriver(new MyDriver());\r\n        }\r\n\r\n        public MyDriver() {\r\n            //\r\n        }\r\n\r\n    }\r\n\r\nInvoking `Class#forName()` will execute all [static initializers][2]. This way the `DriverManager` can find the associated driver among the registered drivers by connection URL during [`getConnection()`][3] which roughly look like follows:\r\n\r\n    public static Connection getConnection(String url) throws SQLException {\r\n        for (Driver driver : registeredDrivers) {\r\n            if (driver.acceptsURL(url)) {\r\n                return driver.connect(url);\r\n            }\r\n        }\r\n        throw new SQLException(&quot;No suitable driver&quot;);\r\n    }\r\n\r\nBut there were also *buggy* JDBC drivers, starting with the `org.gjt.mm.mysql.Driver` as well known example, which incorrectly registers itself inside the **Constructor** instead of a static block:\r\n\r\n    package com.dbvendor.jdbc;\r\n\r\n    import java.sql.Driver;\r\n    import java.sql.DriverManager;\r\n\r\n    public class BadDriver implements Driver {\r\n\r\n        public BadDriver() {\r\n            DriverManager.registerDriver(this);\r\n        }\r\n\r\n    }\r\n\r\nThe only way to get it to work dynamically is to call `newInstance()` afterwards! Otherwise you will face at first sight unexplainable &quot;SQLException: no suitable driver&quot;. Once again, this is a *bug* in the JDBC driver, not in your own code. Nowadays, no one JDBC driver should contain this bug. So you can (and should) leave the `newInstance()` away.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/sql/DriverManager.html\r\n  [2]: https://stackoverflow.com/questions/1893274/doubt-in-java-basics/1893321#1893321\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/sql/DriverManager.html#getConnection%28java.lang.String%29","title":"What is the difference between &quot;Class.forName()&quot; and &quot;Class.forName().newInstance()&quot;?","body":"<p>In JDBC world, the <em>normal</em> practice (according the JDBC API) is that you use <code>Class#forName()</code> to load a JDBC driver. The JDBC driver should namely register itself in <a href=\"http://java.sun.com/javase/6/docs/api/java/sql/DriverManager.html\" rel=\"noreferrer\"><code>DriverManager</code></a> inside a static block:</p>\n\n<pre><code>package com.dbvendor.jdbc;\n\nimport java.sql.Driver;\nimport java.sql.DriverManager;\n\npublic class MyDriver implements Driver {\n\n    static {\n        DriverManager.registerDriver(new MyDriver());\n    }\n\n    public MyDriver() {\n        //\n    }\n\n}\n</code></pre>\n\n<p>Invoking <code>Class#forName()</code> will execute all <a href=\"https://stackoverflow.com/questions/1893274/doubt-in-java-basics/1893321#1893321\">static initializers</a>. This way the <code>DriverManager</code> can find the associated driver among the registered drivers by connection URL during <a href=\"http://java.sun.com/javase/6/docs/api/java/sql/DriverManager.html#getConnection%28java.lang.String%29\" rel=\"noreferrer\"><code>getConnection()</code></a> which roughly look like follows:</p>\n\n<pre><code>public static Connection getConnection(String url) throws SQLException {\n    for (Driver driver : registeredDrivers) {\n        if (driver.acceptsURL(url)) {\n            return driver.connect(url);\n        }\n    }\n    throw new SQLException(\"No suitable driver\");\n}\n</code></pre>\n\n<p>But there were also <em>buggy</em> JDBC drivers, starting with the <code>org.gjt.mm.mysql.Driver</code> as well known example, which incorrectly registers itself inside the <strong>Constructor</strong> instead of a static block:</p>\n\n<pre><code>package com.dbvendor.jdbc;\n\nimport java.sql.Driver;\nimport java.sql.DriverManager;\n\npublic class BadDriver implements Driver {\n\n    public BadDriver() {\n        DriverManager.registerDriver(this);\n    }\n\n}\n</code></pre>\n\n<p>The only way to get it to work dynamically is to call <code>newInstance()</code> afterwards! Otherwise you will face at first sight unexplainable \"SQLException: no suitable driver\". Once again, this is a <em>bug</em> in the JDBC driver, not in your own code. Nowadays, no one JDBC driver should contain this bug. So you can (and should) leave the <code>newInstance()</code> away.</p>\n"},{"tags":[],"owner":{"account_id":157872,"reputation":1327,"user_id":376115,"accept_rate":61,"display_name":"sij"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1300263672,"creation_date":1300263672,"answer_id":5322609,"question_id":2092659,"body_markdown":"just adding to above answers, when we have a static code (ie code block is instance independent) that needs to be present in memory, we can have the class returned so we&#39;ll use Class.forname(&quot;someName&quot;) else if we dont have static code we can go for Class.forname().newInstance(&quot;someName&quot;) as it will load object level code blocks(non static) to memory","title":"What is the difference between &quot;Class.forName()&quot; and &quot;Class.forName().newInstance()&quot;?","body":"<p>just adding to above answers, when we have a static code (ie code block is instance independent) that needs to be present in memory, we can have the class returned so we'll use Class.forname(\"someName\") else if we dont have static code we can go for Class.forname().newInstance(\"someName\") as it will load object level code blocks(non static) to memory</p>\n"},{"tags":[],"owner":{"account_id":1341662,"reputation":6557,"user_id":1283215,"accept_rate":63,"display_name":"Hussain Akhtar Wahid &#39;Ghouri&#39;"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1430358688,"creation_date":1383832029,"answer_id":19837588,"question_id":2092659,"body_markdown":"1 : if you are interested only in the static block of the class , the loading the class only would do , and would execute static blocks then all you need is:\r\n\r\n    Class.forName(&quot;Somthing&quot;);\r\n\r\n2 : if you are interested in loading the class , execute its static blocks and also want to access its its non static part , then you need an instance and then you need:\r\n\r\n    Class.forName(&quot;Somthing&quot;).newInstance();","title":"What is the difference between &quot;Class.forName()&quot; and &quot;Class.forName().newInstance()&quot;?","body":"<p>1 : if you are interested only in the static block of the class , the loading the class only would do , and would execute static blocks then all you need is:</p>\n\n<pre><code>Class.forName(\"Somthing\");\n</code></pre>\n\n<p>2 : if you are interested in loading the class , execute its static blocks and also want to access its its non static part , then you need an instance and then you need:</p>\n\n<pre><code>Class.forName(\"Somthing\").newInstance();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7726518,"reputation":1,"user_id":5850977,"display_name":"Vinod Malkani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603339214,"creation_date":1453972332,"answer_id":35057201,"question_id":2092659,"body_markdown":"`Class.forName()`--&gt;forName() is the static method of Class class it returns Class class object used for reflection not user class object so you can only call Class class methods on it like `getMethods()`, `getConstructors()` etc. \r\n\r\nIf you care about only running static block of your(Runtime given) class and only getting information of methods,constructors,Modifier etc of your class you can do with this object which you get using `Class.forName()`\r\n\r\nBut if you want to access or call your class method (class which you have given at runtime) then you need to have its object so newInstance method of Class class do it for you.It create new instance of the class and return it to you .You just need to type-cast it to your class.\r\n\r\nex-:  suppose Employee is your class then\r\n```java\r\nClass a=Class.forName(args[0]); \r\n\r\n//args[0]=cmd line argument to give class at  runtime. \r\n\r\nEmployee ob1=a.newInstance();\r\n```\r\n`a.newInstance()` is similar to creating object using `new Employee()`.\r\n\r\nnow you can access all your class visible fields and methods.","title":"What is the difference between &quot;Class.forName()&quot; and &quot;Class.forName().newInstance()&quot;?","body":"<p><code>Class.forName()</code>--&gt;forName() is the static method of Class class it returns Class class object used for reflection not user class object so you can only call Class class methods on it like <code>getMethods()</code>, <code>getConstructors()</code> etc.</p>\n<p>If you care about only running static block of your(Runtime given) class and only getting information of methods,constructors,Modifier etc of your class you can do with this object which you get using <code>Class.forName()</code></p>\n<p>But if you want to access or call your class method (class which you have given at runtime) then you need to have its object so newInstance method of Class class do it for you.It create new instance of the class and return it to you .You just need to type-cast it to your class.</p>\n<p>ex-:  suppose Employee is your class then</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class a=Class.forName(args[0]); \n\n//args[0]=cmd line argument to give class at  runtime. \n\nEmployee ob1=a.newInstance();\n</code></pre>\n<p><code>a.newInstance()</code> is similar to creating object using <code>new Employee()</code>.</p>\n<p>now you can access all your class visible fields and methods.</p>\n"},{"tags":[],"owner":{"account_id":16105675,"reputation":625,"user_id":11625253,"display_name":"Priyanka Wagh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603356976,"creation_date":1582236339,"answer_id":60329222,"question_id":2092659,"body_markdown":"No matter how many times you call Class.forName() method, Only once the static block gets executed not multiple time: \r\n\r\n```java\r\npackage forNameMethodDemo;\r\n\r\npublic class MainClass {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Class.forName(&quot;forNameMethodDemo.DemoClass&quot;);\r\n        Class.forName(&quot;forNameMethodDemo.DemoClass&quot;);\r\n        Class.forName(&quot;forNameMethodDemo.DemoClass&quot;);\r\n        DemoClass demoClass = (DemoClass)Class.forName(&quot;forNameMethodDemo.DemoClass&quot;).newInstance();\r\n    }\r\n}\r\n\r\n\r\npublic class DemoClass {\r\n\t\r\n\tstatic {\r\n\t\tSystem.out.println(&quot;in Static block&quot;);\r\n    }\r\n\r\n\t{\r\n\t\tSystem.out.println(&quot;in Instance block&quot;);\r\n\t}\r\n}\r\n```\r\noutput will be: \r\n\r\n```\r\nin Static block\r\nin Instance block\r\n```\r\n\r\nThis `in Static block` statement is printed only once not three times.","title":"What is the difference between &quot;Class.forName()&quot; and &quot;Class.forName().newInstance()&quot;?","body":"<p>No matter how many times you call Class.forName() method, Only once the static block gets executed not multiple time:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package forNameMethodDemo;\n\npublic class MainClass {\n\n    public static void main(String[] args) throws Exception {\n        Class.forName(&quot;forNameMethodDemo.DemoClass&quot;);\n        Class.forName(&quot;forNameMethodDemo.DemoClass&quot;);\n        Class.forName(&quot;forNameMethodDemo.DemoClass&quot;);\n        DemoClass demoClass = (DemoClass)Class.forName(&quot;forNameMethodDemo.DemoClass&quot;).newInstance();\n    }\n}\n\n\npublic class DemoClass {\n    \n    static {\n        System.out.println(&quot;in Static block&quot;);\n    }\n\n    {\n        System.out.println(&quot;in Instance block&quot;);\n    }\n}\n</code></pre>\n<p>output will be:</p>\n<pre><code>in Static block\nin Instance block\n</code></pre>\n<p>This <code>in Static block</code> statement is printed only once not three times.</p>\n"}],"owner":{"account_id":42657,"reputation":27146,"user_id":124339,"accept_rate":46,"display_name":"Johanna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308908,"favorite_count":0,"down_vote_count":1,"up_vote_count":179,"accepted_answer_id":2093100,"answer_count":9,"score":178,"last_activity_date":1664546115,"creation_date":1263895898,"question_id":2092659,"body_markdown":"What is the difference between `Class.forName()` and `Class.forName().newInstance()`?\r\n\r\nI do not understand the significant difference (I have read something about them!). Could you please help me?","title":"What is the difference between &quot;Class.forName()&quot; and &quot;Class.forName().newInstance()&quot;?","body":"<p>What is the difference between <code>Class.forName()</code> and <code>Class.forName().newInstance()</code>?</p>\n\n<p>I do not understand the significant difference (I have read something about them!). Could you please help me?</p>\n"},{"tags":["python-3.x","java","eclipse","cuda","profiling"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1634465170,"post_id":69599605,"comment_id":123027096,"body_markdown":"If that code is based on an old version of Eclipse it is [this issue](https://bugs.eclipse.org/bugs/show_bug.cgi?id=502108) which is fixed in later versions of Eclipse. You probably need to use Java 8 to run that code unchanged.","body":"If that code is based on an old version of Eclipse it is <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=502108\" rel=\"nofollow noreferrer\">this issue</a> which is fixed in later versions of Eclipse. You probably need to use Java 8 to run that code unchanged."},{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":0,"creation_date":1634465538,"post_id":69599605,"comment_id":123027187,"body_markdown":"@greg-449: Yes, I&#39;m pretty sure it&#39;s based on an old version of Eclipse. I doubt I need to go back all the way to Java 8, but yes, howlger suggested downgrading the Java version.","body":"@greg-449: Yes, I&#39;m pretty sure it&#39;s based on an old version of Eclipse. I doubt I need to go back all the way to Java 8, but yes, howlger suggested downgrading the Java version."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1634465634,"post_id":69599605,"comment_id":123027205,"body_markdown":"That bug report says the problem was caused by the changes in Java 9","body":"That bug report says the problem was caused by the changes in Java 9"},{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":0,"creation_date":1634465687,"post_id":69599605,"comment_id":123027221,"body_markdown":"@greg-449: In that case, I hope it&#39;s not that specific bug. I was running nvvp successfully just a couple of years back, after all.","body":"@greg-449: In that case, I hope it&#39;s not that specific bug. I was running nvvp successfully just a couple of years back, after all."}],"answers":[{"comments":[{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":0,"creation_date":1634458070,"post_id":69602138,"comment_id":123025628,"body_markdown":"Can you link to a description of how to do that without &quot;messing&quot; with other apps on my system which expect Java 17?","body":"Can you link to a description of how to do that without &quot;messing&quot; with other apps on my system which expect Java 17?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1634458700,"post_id":69602138,"comment_id":123025730,"body_markdown":"Does installing _JustJ OpenJDK Hotspot JRE Complete_ via _Help &gt; Install New Software..._ working with the update site [`https://download.eclipse.org/justj/jres/16/updates/release/`](https://download.eclipse.org/justj/jres/16/updates/release/) work for you?","body":"Does installing <i>JustJ OpenJDK Hotspot JRE Complete</i> via <i>Help &gt; Install New Software...</i> working with the update site <a href=\"https://download.eclipse.org/justj/jres/16/updates/release/\" rel=\"nofollow noreferrer\"><code>https:&#47;&#47;download.eclipse.org&#47;justj&#47;jres&#47;16&#47;updates&#47;release&#47;</code></a> work for you?"},{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":0,"creation_date":1634461362,"post_id":69602138,"comment_id":123026250,"body_markdown":"&quot;Help&quot; of what? Remember I can&#39;t run the visual profiler app. Also, on machines where it does run, the Help menu doesn&#39;t have an &quot;Install New Software&quot; entry.","body":"&quot;Help&quot; of what? Remember I can&#39;t run the visual profiler app. Also, on machines where it does run, the Help menu doesn&#39;t have an &quot;Install New Software&quot; entry."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1634466046,"post_id":69602138,"comment_id":123027295,"body_markdown":"I see. I don&#39;t know NVIDIA Visual Profiler, but it seems to be an Eclipse RCP application. So there should be an [`.ini` file next to the executable where you can specify the Javato be used to run it](https://wiki.eclipse.org/Eclipse.ini#Specifying_the_JVM).","body":"I see. I don&#39;t know NVIDIA Visual Profiler, but it seems to be an Eclipse RCP application. So there should be an <a href=\"https://wiki.eclipse.org/Eclipse.ini#Specifying_the_JVM\" rel=\"nofollow noreferrer\"><code>.ini</code> file next to the executable where you can specify the Javato be used to run it</a>."},{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":0,"creation_date":1634549974,"post_id":69602138,"comment_id":123045736,"body_markdown":"Ok, so - this doesn&#39;t work. I tried to follow your advice with the more specific instructions in the answer I posted, and - I got the same error still. See question edit.","body":"Ok, so - this doesn&#39;t work. I tried to follow your advice with the more specific instructions in the answer I posted, and - I got the same error still. See question edit."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1634552361,"post_id":69602138,"comment_id":123046676,"body_markdown":"Did you try Java 16, 11 and 8? See my edited answer. For what reason did you add your own answer, which is more specific and doesn&#39;t work because it is more specific?","body":"Did you try Java 16, 11 and 8? See my edited answer. For what reason did you add your own answer, which is more specific and doesn&#39;t work because it is more specific?"},{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":0,"creation_date":1634560566,"post_id":69602138,"comment_id":123049931,"body_markdown":"I tried 11 and 16.01 . I added my answer because I was sure it would work. But... then it didn&#39;t. Deleted it for now.","body":"I tried 11 and 16.01 . I added my answer because I was sure it would work. But... then it didn&#39;t. Deleted it for now."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1634574445,"post_id":69602138,"comment_id":123056166,"body_markdown":"Then try Java 8, especially if there was no `--add-modules=ALL-SYSTEM` in the .ini file. You can download a Java 8 JRE (a JRE instead of full JDK should be enough) e.g. [here as ZIP](https://adoptopenjdk.net/archive.html?variant=openjdk8).","body":"Then try Java 8, especially if there was no <code>--add-modules=ALL-SYSTEM</code> in the .ini file. You can download a Java 8 JRE (a JRE instead of full JDK should be enough) e.g. <a href=\"https://adoptopenjdk.net/archive.html?variant=openjdk8\" rel=\"nofollow noreferrer\">here as ZIP</a>."},{"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"score":0,"creation_date":1634575577,"post_id":69602138,"comment_id":123056526,"body_markdown":"I&#39;ll try this, but it&#39;s unlikely this will work, since this version of NVVP wasreleased way, way later than when Java 8 was the current version.","body":"I&#39;ll try this, but it&#39;s unlikely this will work, since this version of NVVP wasreleased way, way later than when Java 8 was the current version."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1634581990,"post_id":69602138,"comment_id":123058787,"body_markdown":"Java 9 and 10 were not long-term support (LTS) versions and Java 11 was released in September 2018. So many skipped Java 9 and 10. When running with a too old Java version, you will get an _UnsupportedClassVersionError_ telling the version with which it was compiled. Since Java 9 best practice is not anymore to install the latest version into your system, but embed the right and minimal (created via `jlink`) Java VM into the application.","body":"Java 9 and 10 were not long-term support (LTS) versions and Java 11 was released in September 2018. So many skipped Java 9 and 10. When running with a too old Java version, you will get an <i>UnsupportedClassVersionError</i> telling the version with which it was compiled. Since Java 9 best practice is not anymore to install the latest version into your system, but embed the right and minimal (created via <code>jlink</code>) Java VM into the application."},{"owner":{"account_id":1874453,"reputation":145525,"user_id":1695960,"display_name":"Robert Crovella"},"score":1,"creation_date":1635431110,"post_id":69602138,"comment_id":123301315,"body_markdown":"The visual profiler requires [a specific version of JRE](https://docs.nvidia.com/cuda/profiler-users-guide/index.html#setup-jre).","body":"The visual profiler requires <a href=\"https://docs.nvidia.com/cuda/profiler-users-guide/index.html#setup-jre\" rel=\"nofollow noreferrer\">a specific version of JRE</a>."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1635443309,"post_id":69602138,"comment_id":123306645,"body_markdown":"@RobertCrovella Thx for the link to the documentation. I added it to the answer.","body":"@RobertCrovella Thx for the link to the documentation. I added it to the answer."}],"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"comment_count":12,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635443252,"creation_date":1634455152,"answer_id":69602138,"question_id":69599605,"body_markdown":"The `InaccessibleObjectException` seems to be caused by using **Java 17** to run Java code that is not ready for Java 17. Java 17 is **more restrictive** than previous Java versions, breaking backwards compatibility in this point. Also Java 16 is more restrictive than previous versions and in the Java 11 system library packages are missing that existed in Java 8.\r\n\r\nInstead of Java 17, **use Java 16 or 11** to run an application based on a recent Eclipse version (having `--add-modules=ALL-SYSTEM` in the `.ini` file) and **Java 8** for applications based on older Eclipse versions.\r\n\r\nIn the [`.ini` file next to the executable (having the same name) you can specify the Java to be used to run the Eclipse-based application][1]. Alternatively, you can put the Java in the `jre` subdirectory of the installation directory.\r\n\r\nIn addition, you might ask the vendor of the application to ship the application with an embedded Java.\r\n\r\n**Update**: [Robert Crovella  refers to the documentation][2], according to which the [**‚ÄãVisual Profiler requires Java 8**][3].\r\n\r\n\r\n  [1]: https://wiki.eclipse.org/Eclipse.ini#Specifying_the_JVM\r\n  [2]: https://stackoverflow.com/questions/69599605/nvidia-visual-profiler-crashes-on-startup/69602138?noredirect=1#comment123301315_69602138\r\n  [3]: https://docs.nvidia.com/cuda/profiler-users-guide/index.html#setup-jre","title":"NVIDIA Visual Profiler crashes on startup","body":"<p>The <code>InaccessibleObjectException</code> seems to be caused by using <strong>Java 17</strong> to run Java code that is not ready for Java 17. Java 17 is <strong>more restrictive</strong> than previous Java versions, breaking backwards compatibility in this point. Also Java 16 is more restrictive than previous versions and in the Java 11 system library packages are missing that existed in Java 8.</p>\n<p>Instead of Java 17, <strong>use Java 16 or 11</strong> to run an application based on a recent Eclipse version (having <code>--add-modules=ALL-SYSTEM</code> in the <code>.ini</code> file) and <strong>Java 8</strong> for applications based on older Eclipse versions.</p>\n<p>In the <a href=\"https://wiki.eclipse.org/Eclipse.ini#Specifying_the_JVM\" rel=\"nofollow noreferrer\"><code>.ini</code> file next to the executable (having the same name) you can specify the Java to be used to run the Eclipse-based application</a>. Alternatively, you can put the Java in the <code>jre</code> subdirectory of the installation directory.</p>\n<p>In addition, you might ask the vendor of the application to ship the application with an embedded Java.</p>\n<p><strong>Update</strong>: <a href=\"https://stackoverflow.com/questions/69599605/nvidia-visual-profiler-crashes-on-startup/69602138?noredirect=1#comment123301315_69602138\">Robert Crovella  refers to the documentation</a>, according to which the <a href=\"https://docs.nvidia.com/cuda/profiler-users-guide/index.html#setup-jre\" rel=\"nofollow noreferrer\"><strong>‚ÄãVisual Profiler requires Java 8</strong></a>.</p>\n"}],"owner":{"account_id":514136,"reputation":120958,"user_id":1593077,"accept_rate":49,"display_name":"einpoklum"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2501,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664545465,"creation_date":1634418950,"question_id":69599605,"body_markdown":"I&#39;m using NVIDIA&#39;s Visual Profiler (nvvp) to profile a kernel on a Pascal GPU (as those [aren&#39;t supported by Nsight Compute][1]) - with CUDA 11.4 on a Devuan GNU/Linux 4 system.\r\n\r\nWhen I run `nvvp`, it crashes immediately, saying:\r\n```\r\n$ nvvp\r\njava.lang.ExceptionInInitializerError\r\n\tat org.eclipse.osgi.storage.Storage.&lt;init&gt;(Storage.java:97)\r\n\tat org.eclipse.osgi.storage.Storage.createStorage(Storage.java:84)\r\n\tat org.eclipse.osgi.internal.framework.EquinoxContainer.&lt;init&gt;(EquinoxContainer.java:75)\r\n\tat org.eclipse.osgi.launch.Equinox.&lt;init&gt;(Equinox.java:31)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.startup(EclipseStarter.java:295)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:231)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:648)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:603)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1465)\r\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1438)\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.net.URLClassLoader.addURL(java.net.URL) accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @21bcffb5\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n\tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n\tat org.eclipse.osgi.storage.FrameworkExtensionInstaller.findMethod(FrameworkExtensionInstaller.java:52)\r\n\tat org.eclipse.osgi.storage.FrameworkExtensionInstaller.findMethod(FrameworkExtensionInstaller.java:59)\r\n\tat org.eclipse.osgi.storage.FrameworkExtensionInstaller.findAddURLMethod(FrameworkExtensionInstaller.java:43)\r\n\tat org.eclipse.osgi.storage.FrameworkExtensionInstaller.&lt;clinit&gt;(FrameworkExtensionInstaller.java:37)\r\n\t... 14 more\r\n```\r\nWhy is this happening, and how can I circumvent/fix this error?\r\n\r\n**Edit:** On my system, the default JAVA VM is: openjdk 17-ea 2021-09-14. If I use a different installed vm, e.g. `/usr/lib/jvm/java-11-openjdk-amd64/bin/java`, I get the same error. A JDK from https://jdk.java.net/archive/ for Java 16 also doesn&#39;t change things. Adding `--illegal-access=permit` which someone suggested to me - also didn&#39;t help.\r\n\r\n  [1]: https://stackoverflow.com/q/69599572/1593077","title":"NVIDIA Visual Profiler crashes on startup","body":"<p>I'm using NVIDIA's Visual Profiler (nvvp) to profile a kernel on a Pascal GPU (as those <a href=\"https://stackoverflow.com/q/69599572/1593077\">aren't supported by Nsight Compute</a>) - with CUDA 11.4 on a Devuan GNU/Linux 4 system.</p>\n<p>When I run <code>nvvp</code>, it crashes immediately, saying:</p>\n<pre><code>$ nvvp\njava.lang.ExceptionInInitializerError\n    at org.eclipse.osgi.storage.Storage.&lt;init&gt;(Storage.java:97)\n    at org.eclipse.osgi.storage.Storage.createStorage(Storage.java:84)\n    at org.eclipse.osgi.internal.framework.EquinoxContainer.&lt;init&gt;(EquinoxContainer.java:75)\n    at org.eclipse.osgi.launch.Equinox.&lt;init&gt;(Equinox.java:31)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.startup(EclipseStarter.java:295)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:231)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:648)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:603)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1465)\n    at org.eclipse.equinox.launcher.Main.main(Main.java:1438)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.net.URLClassLoader.addURL(java.net.URL) accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @21bcffb5\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:357)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\n    at org.eclipse.osgi.storage.FrameworkExtensionInstaller.findMethod(FrameworkExtensionInstaller.java:52)\n    at org.eclipse.osgi.storage.FrameworkExtensionInstaller.findMethod(FrameworkExtensionInstaller.java:59)\n    at org.eclipse.osgi.storage.FrameworkExtensionInstaller.findAddURLMethod(FrameworkExtensionInstaller.java:43)\n    at org.eclipse.osgi.storage.FrameworkExtensionInstaller.&lt;clinit&gt;(FrameworkExtensionInstaller.java:37)\n    ... 14 more\n</code></pre>\n<p>Why is this happening, and how can I circumvent/fix this error?</p>\n<p><strong>Edit:</strong> On my system, the default JAVA VM is: openjdk 17-ea 2021-09-14. If I use a different installed vm, e.g. <code>/usr/lib/jvm/java-11-openjdk-amd64/bin/java</code>, I get the same error. A JDK from <a href=\"https://jdk.java.net/archive/\" rel=\"nofollow noreferrer\">https://jdk.java.net/archive/</a> for Java 16 also doesn't change things. Adding <code>--illegal-access=permit</code> which someone suggested to me - also didn't help.</p>\n"},{"tags":["java","arrays","string","return"],"comments":[{"owner":{"account_id":21607936,"reputation":339,"user_id":15935039,"display_name":"Asis"},"score":1,"creation_date":1664544961,"post_id":73909553,"comment_id":130502685,"body_markdown":"The code provided won&#39;t pass the compile checks, you should create a proper 2d int array and pass it to your `tilStreng` so you can at least test it.","body":"The code provided won&#39;t pass the compile checks, you should create a proper 2d int array and pass it to your <code>tilStreng</code> so you can at least test it."}],"answers":[{"tags":[],"owner":{"account_id":9748857,"reputation":4116,"user_id":7227834,"display_name":"AmrDeveloper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664545365,"creation_date":1664544973,"answer_id":73909621,"question_id":73909553,"body_markdown":" - Your task is to return string representation from `tilStreng` but your method returns null\r\n\r\n- You should pass 2d int array not string for example\r\n`int[][] matrise = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};`\r\n\r\n- after you call `tilStreng` you should save the return value and print it\r\n\r\n- Check this article to learn how to print 2d array https://www.geeksforgeeks.org/print-2-d-array-matrix-java/\r\n\r\n```java\r\npublic static String tilStreng(int[][] matrise) {\r\n    StringBuilder builder = new StringBuilder();\r\n    for (int i = 0; i &lt; matrise.length; i++) {\r\n        for (int j = 0 ; j &lt; matrise[i].length ; j++) {\r\n            builder.append(matrise[i][j]).append(&quot; &quot;);\r\n        }\r\n        builder.append(&quot;\\n&quot;);\r\n    }\r\n    return builder.toString();\r\n}\r\n\r\npublic static void main(String... args) {\r\n    int[][] matrise = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};\r\n    String representation = tilStreng(matrise);\r\n    System.out.println(representation);\r\n}\r\n```","title":"How to return a String representation of a 2D array without the Array-class?","body":"<ul>\n<li><p>Your task is to return string representation from <code>tilStreng</code> but your method returns null</p>\n</li>\n<li><p>You should pass 2d int array not string for example\n<code>int[][] matrise = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};</code></p>\n</li>\n<li><p>after you call <code>tilStreng</code> you should save the return value and print it</p>\n</li>\n<li><p>Check this article to learn how to print 2d array <a href=\"https://www.geeksforgeeks.org/print-2-d-array-matrix-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/print-2-d-array-matrix-java/</a></p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public static String tilStreng(int[][] matrise) {\n    StringBuilder builder = new StringBuilder();\n    for (int i = 0; i &lt; matrise.length; i++) {\n        for (int j = 0 ; j &lt; matrise[i].length ; j++) {\n            builder.append(matrise[i][j]).append(&quot; &quot;);\n        }\n        builder.append(&quot;\\n&quot;);\n    }\n    return builder.toString();\n}\n\npublic static void main(String... args) {\n    int[][] matrise = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};\n    String representation = tilStreng(matrise);\n    System.out.println(representation);\n}\n</code></pre>\n"}],"owner":{"account_id":26175784,"reputation":1,"user_id":19859964,"display_name":"Elisabeth.Norway"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664545365,"creation_date":1664544675,"question_id":73909553,"body_markdown":"i have this assignment that i am struggeling with:\r\nImplement a method: public static String tilStreng(int[][] matrise)\r\nthat returns a string representation of an 2d array. \r\nthe array is as following: { {1,2,3}, {4,5,6}, {7,8,9} }\r\nThe returned string shall contain: 1 2 3 \\n4 5 6 \\n7 8 9 \\n\r\n\r\ni am completly lost, but this is what i have been doing until now:\r\n\r\n```java\r\npublic class OppgaveB {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString[][] tall = &quot;&quot;;\r\n\t\t\r\n\t\ttilStreng(matrise);\r\n\t}\r\n\r\n\tpublic static String tilStreng(int[][] matrise) {\r\n\r\n\t\tfor (int i = 0; i &lt; matrise.length; i++) {\r\n\t\t\tfor (int j = 0; (matrise[i] != null &amp;&amp; j &lt; matrise[i].length); j++) {\r\n\t\t\t\t\r\n\t\t\t\ttall = tall + matrise [i][j] + &quot; &quot; ;\r\n\t\t\t\ttall = tall + &quot; \\n&quot;;\r\n\t\t\t}\r\n\r\n\t\t\tSystem.out.println();\r\n\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n}\r\n```","title":"How to return a String representation of a 2D array without the Array-class?","body":"<p>i have this assignment that i am struggeling with:\nImplement a method: public static String tilStreng(int[][] matrise)\nthat returns a string representation of an 2d array.\nthe array is as following: { {1,2,3}, {4,5,6}, {7,8,9} }\nThe returned string shall contain: 1 2 3 \\n4 5 6 \\n7 8 9 \\n</p>\n<p>i am completly lost, but this is what i have been doing until now:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class OppgaveB {\n\n    public static void main(String[] args) {\n\n        String[][] tall = &quot;&quot;;\n        \n        tilStreng(matrise);\n    }\n\n    public static String tilStreng(int[][] matrise) {\n\n        for (int i = 0; i &lt; matrise.length; i++) {\n            for (int j = 0; (matrise[i] != null &amp;&amp; j &lt; matrise[i].length); j++) {\n                \n                tall = tall + matrise [i][j] + &quot; &quot; ;\n                tall = tall + &quot; \\n&quot;;\n            }\n\n            System.out.println();\n\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm","intervals"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1663571294,"post_id":73769609,"comment_id":130262354,"body_markdown":"Glad we could hook up over here.  Writing up an answer now...","body":"Glad we could hook up over here.  Writing up an answer now..."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1663571682,"post_id":73769609,"comment_id":130262475,"body_markdown":"Isn&#39;t this trivial? The intervals will overlap iff `repeatEveryMinuteInterval &lt; duration`. Am I missing something?","body":"Isn&#39;t this trivial? The intervals will overlap iff <code>repeatEveryMinuteInterval &lt; duration</code>. Am I missing something?"},{"owner":{"account_id":20826185,"reputation":33,"user_id":19357801,"display_name":"Satoshi"},"score":0,"creation_date":1663572434,"post_id":73769609,"comment_id":130262696,"body_markdown":"@Sweeper well, if repeat every minute &lt; duration it means that somewhen it will overlap, maybe. But what about case if repeatEveryMinInternal &gt;= duration? In this case there is a probability that it may overlap, but it is not guaranteed","body":"@Sweeper well, if repeat every minute &lt; duration it means that somewhen it will overlap, maybe. But what about case if repeatEveryMinInternal &gt;= duration? In this case there is a probability that it may overlap, but it is not guaranteed"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1663572652,"post_id":73769609,"comment_id":130262745,"body_markdown":"Can you show me a case where `repeatEveryMinInternal &gt;= duration` and it also overlaps? I might have misunderstood what you are trying to do.","body":"Can you show me a case where <code>repeatEveryMinInternal &gt;= duration</code> and it also overlaps? I might have misunderstood what you are trying to do."},{"owner":{"account_id":20826185,"reputation":33,"user_id":19357801,"display_name":"Satoshi"},"score":0,"creation_date":1663573026,"post_id":73769609,"comment_id":130262861,"body_markdown":"@Sweeper example added","body":"@Sweeper example added"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1663573207,"post_id":73769609,"comment_id":130262907,"body_markdown":"Oh I see what you are asking now! I had completely misunderstood and missed your point.","body":"Oh I see what you are asking now! I had completely misunderstood and missed your point."}],"answers":[{"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1663573080,"post_id":73769865,"comment_id":130262878,"body_markdown":"I gotta get some sleep.  I would love to hear of tests of other interval pairs that confirm that this code works for all such pairs.  If it would help for me to answer some questions about how I came up with various parts of this code, I can do that.","body":"I gotta get some sleep.  I would love to hear of tests of other interval pairs that confirm that this code works for all such pairs.  If it would help for me to answer some questions about how I came up with various parts of this code, I can do that."},{"owner":{"account_id":20826185,"reputation":33,"user_id":19357801,"display_name":"Satoshi"},"score":0,"creation_date":1663574523,"post_id":73769865,"comment_id":130263305,"body_markdown":"Ok, Thanks. I will try to rewrite python to java, and check if it is really my solution. Thank you for your time","body":"Ok, Thanks. I will try to rewrite python to java, and check if it is really my solution. Thank you for your time"},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1663595107,"post_id":73769865,"comment_id":130270169,"body_markdown":"DOH!  I used the wrong language, LOL.  I could rewrite it","body":"DOH!  I used the wrong language, LOL.  I could rewrite it"},{"owner":{"account_id":20826185,"reputation":33,"user_id":19357801,"display_name":"Satoshi"},"score":0,"creation_date":1663609126,"post_id":73769865,"comment_id":130275343,"body_markdown":"Don&#39;t worry, the syntax is understootable. Thanks for help )","body":"Don&#39;t worry, the syntax is understootable. Thanks for help )"},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1663620639,"post_id":73769865,"comment_id":130278989,"body_markdown":"Cool.  Yeah, it was certainly the idea I was interesting in conveying","body":"Cool.  Yeah, it was certainly the idea I was interesting in conveying"}],"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1663574090,"creation_date":1663572703,"answer_id":73769865,"question_id":73769609,"body_markdown":"The answer to this problem comes from the notion of a least common multiple.  No matter what the periods of the two sequences are, there will always be a point in time where they are both starting a new cycle at that same point in time, possibly with an offset.  From that point on, everything that happens will be a repeat of what happened in that first cyce.\r\n\r\nTo get the length of this cycle, one just needs to find the least common multiple of the two repeat intervals.  In the worst case, which occurs when one of the two intervals is a prime number, that period will be `interval1 * interval2`.  If the numbers are not primes, any common factors that they share  will mean that the cycle length will be reduced.  Here&#39;s the Python function that will calculate the least common multiple:\r\n\r\n    def compute_lcm(a, b):\r\n        return abs(a*b) // math.gcd(a, b)\r\n\r\nIf the two sequences started at the same time, everything would be pretty simple from here.  But if the two intervals start at different times, things get more complicated.  We basically have to allow for the fact that a single cycle won&#39;t capture all of both sequences, because one sequence might start a little before the single cycle starts, and another might end after the cycle starts.  \r\n\r\nI reasoned out what had to be done to take the offset of the two sequences into account, and also accounted for the duration possibly extending things out a bit.  I might not have gotten this quite right.  I&#39;ve created a couple of examples, reasoned out by hand what the overlap would be, and then run those examples through my code and I got the same answers.  So it should be correct.\r\n\r\nSo here it is in all its gory glory:\r\n\r\n    import math\r\n    \r\n    def compute_lcm(a, b):\r\n        return abs(a*b) // math.gcd(a, b)\r\n    \r\n    # First sequence\r\n    # 15-20, 30-35, 45-50, 60-65\r\n    seq1 = {\r\n        &#39;start&#39;: 15,\r\n        &#39;repeat_interval&#39;: 15,\r\n        &#39;duration&#39;: 5,\r\n        &#39;extra&#39;: 0,\r\n    }\r\n    \r\n    # Second sequence\r\n    # 5-11, 25-31, 45-51, 65-71\r\n    seq2 = {\r\n        &#39;start&#39;: 5,\r\n        &#39;repeat_interval&#39;: 20,\r\n        &#39;duration&#39;: 6,\r\n        &#39;extra&#39;: 0,\r\n    }\r\n\r\n    # Overlap by inspection: 30, 45-49\r\n    \r\n    # Compute the magic value, the number of minutes at which the two sequences start over at the same time offset as for the initial cycle.\r\n    lcm = compute_lcm(seq1[&#39;repeat_interval&#39;], seq2[&#39;repeat_interval&#39;])\r\n    \r\n    overall_start = 0\r\n    \r\n    # This stuff&#39;s a bit crazy, I know.  Sorry.\r\n\r\n    # For whichever sequence starts last, add extra repeat intervals to\r\n    # the start of it so that it covers the entire main cycle, which\r\n    # starts where the other cycle starts.\r\n    if seq1[&#39;start&#39;] &gt; seq2[&#39;start&#39;]:\r\n        while seq1[&#39;start&#39;] &gt; seq2[&#39;start&#39;]:\r\n            seq1[&#39;start&#39;] -= seq1[&#39;repeat_interval&#39;]\r\n            seq1[&#39;extra&#39;] += seq1[&#39;repeat_interval&#39;]\r\n        overall_start = seq1[&#39;start&#39;]\r\n    else:\r\n        while seq2[&#39;start&#39;] &gt; seq1[&#39;start&#39;]:\r\n            seq2[&#39;start&#39;] -= seq2[&#39;repeat_interval&#39;]\r\n            seq2[&#39;extra&#39;] += seq2[&#39;repeat_interval&#39;]\r\n        overall_start = seq2[&#39;start&#39;]\r\n    \r\n    # Compute a worst case length for the &#39;minutes&#39; array we&#39;ll use\r\n    # to tally to find the overlaps.  \r\n    total_length = lcm + max(seq1[&#39;extra&#39;], seq2[&#39;extra&#39;]) + max(seq1[&#39;duration&#39;], seq2[&#39;duration&#39;])\r\n    offset = -min(seq1[&#39;start&#39;], seq2[&#39;start&#39;])\r\n    \r\n    # Create an array such that each element in the array represents a minute of time\r\n    minutes = [0] * total_length\r\n    \r\n    \r\n    # Now walk through each sequence from its start.  For each, compute each interval, and then loop over that\r\n    # interval, incrementing the value of each minute of it in the &#39;minutes&#39; array to record that the sequence\r\n    # was &quot;on&quot; during that minute.\r\n    #\r\n    # NOTE: I chose to consider an interval&#39;s start and ent times to be exlusive of the last minute.  So the\r\n    # interval 10-15 consists of the minutes 10, 11, 12 and 13.  I could have gone the other way, including the\r\n    # last minute in each interval. If that&#39;s what is desired, I leave making that small change as an exercise for the OP\r\n    \r\n    for seq in (seq1, seq2):\r\n        t = seq[&#39;start&#39;]\r\n        while t &lt; seq[&#39;start&#39;] + lcm + seq[&#39;extra&#39;]:\r\n            for o in range(seq[&#39;duration&#39;]):\r\n                tt = offset + t + o\r\n                minutes[tt] += 1\r\n            t += seq[&#39;repeat_interval&#39;]\r\n    \r\n    # At this point, overlaps consist of values in the &#39;minutes&#39; array that have a value of 2, meaning\r\n    # that both sequences were &quot;on&quot; during that minute.  Walk through the array, printing out each\r\n    # minute that was part of an overlap\r\n    for i in range(total_length):\r\n        if minutes[i] &gt; 1:\r\n            print(i-offset)\r\n\r\nResult:\r\n\r\n    30\r\n    45\r\n    46\r\n    47\r\n    48\r\n    49\r\n\r\nIf you want to generate more of the overlap minutes, just keep iterating over more minute values, and do a mod on the minute value to do the lookup in the &#39;minutes&#39; array. So:\r\n\r\n    count = minutes[m % lcm]\r\n\r\nIf count == 2, then minute &#39;m&#39; was part of an overlap, for any value of &#39;m&#39;.\r\n\r\nOh..one other thing, and maybe this is where my answer lost the green check.  This answer doesn&#39;t account for times specified as hours and minutes.  It just gives the answer to the basic idea of calculating overlaps and doing so for the minimum necessary cycle length, with all values represented in minutes.  To do this for hours, or days, all one would have to do is convert the time values to a minutes-only representation.  Time zones would also add complexity, but you&#39;d just offset the minutes values to account for any time zone shift.","title":"Check will 2 repeatable eternal intervals overlap in the future","body":"<p>The answer to this problem comes from the notion of a least common multiple.  No matter what the periods of the two sequences are, there will always be a point in time where they are both starting a new cycle at that same point in time, possibly with an offset.  From that point on, everything that happens will be a repeat of what happened in that first cyce.</p>\n<p>To get the length of this cycle, one just needs to find the least common multiple of the two repeat intervals.  In the worst case, which occurs when one of the two intervals is a prime number, that period will be <code>interval1 * interval2</code>.  If the numbers are not primes, any common factors that they share  will mean that the cycle length will be reduced.  Here's the Python function that will calculate the least common multiple:</p>\n<pre><code>def compute_lcm(a, b):\n    return abs(a*b) // math.gcd(a, b)\n</code></pre>\n<p>If the two sequences started at the same time, everything would be pretty simple from here.  But if the two intervals start at different times, things get more complicated.  We basically have to allow for the fact that a single cycle won't capture all of both sequences, because one sequence might start a little before the single cycle starts, and another might end after the cycle starts.</p>\n<p>I reasoned out what had to be done to take the offset of the two sequences into account, and also accounted for the duration possibly extending things out a bit.  I might not have gotten this quite right.  I've created a couple of examples, reasoned out by hand what the overlap would be, and then run those examples through my code and I got the same answers.  So it should be correct.</p>\n<p>So here it is in all its gory glory:</p>\n<pre><code>import math\n\ndef compute_lcm(a, b):\n    return abs(a*b) // math.gcd(a, b)\n\n# First sequence\n# 15-20, 30-35, 45-50, 60-65\nseq1 = {\n    'start': 15,\n    'repeat_interval': 15,\n    'duration': 5,\n    'extra': 0,\n}\n\n# Second sequence\n# 5-11, 25-31, 45-51, 65-71\nseq2 = {\n    'start': 5,\n    'repeat_interval': 20,\n    'duration': 6,\n    'extra': 0,\n}\n\n# Overlap by inspection: 30, 45-49\n\n# Compute the magic value, the number of minutes at which the two sequences start over at the same time offset as for the initial cycle.\nlcm = compute_lcm(seq1['repeat_interval'], seq2['repeat_interval'])\n\noverall_start = 0\n\n# This stuff's a bit crazy, I know.  Sorry.\n\n# For whichever sequence starts last, add extra repeat intervals to\n# the start of it so that it covers the entire main cycle, which\n# starts where the other cycle starts.\nif seq1['start'] &gt; seq2['start']:\n    while seq1['start'] &gt; seq2['start']:\n        seq1['start'] -= seq1['repeat_interval']\n        seq1['extra'] += seq1['repeat_interval']\n    overall_start = seq1['start']\nelse:\n    while seq2['start'] &gt; seq1['start']:\n        seq2['start'] -= seq2['repeat_interval']\n        seq2['extra'] += seq2['repeat_interval']\n    overall_start = seq2['start']\n\n# Compute a worst case length for the 'minutes' array we'll use\n# to tally to find the overlaps.  \ntotal_length = lcm + max(seq1['extra'], seq2['extra']) + max(seq1['duration'], seq2['duration'])\noffset = -min(seq1['start'], seq2['start'])\n\n# Create an array such that each element in the array represents a minute of time\nminutes = [0] * total_length\n\n\n# Now walk through each sequence from its start.  For each, compute each interval, and then loop over that\n# interval, incrementing the value of each minute of it in the 'minutes' array to record that the sequence\n# was &quot;on&quot; during that minute.\n#\n# NOTE: I chose to consider an interval's start and ent times to be exlusive of the last minute.  So the\n# interval 10-15 consists of the minutes 10, 11, 12 and 13.  I could have gone the other way, including the\n# last minute in each interval. If that's what is desired, I leave making that small change as an exercise for the OP\n\nfor seq in (seq1, seq2):\n    t = seq['start']\n    while t &lt; seq['start'] + lcm + seq['extra']:\n        for o in range(seq['duration']):\n            tt = offset + t + o\n            minutes[tt] += 1\n        t += seq['repeat_interval']\n\n# At this point, overlaps consist of values in the 'minutes' array that have a value of 2, meaning\n# that both sequences were &quot;on&quot; during that minute.  Walk through the array, printing out each\n# minute that was part of an overlap\nfor i in range(total_length):\n    if minutes[i] &gt; 1:\n        print(i-offset)\n</code></pre>\n<p>Result:</p>\n<pre><code>30\n45\n46\n47\n48\n49\n</code></pre>\n<p>If you want to generate more of the overlap minutes, just keep iterating over more minute values, and do a mod on the minute value to do the lookup in the 'minutes' array. So:</p>\n<pre><code>count = minutes[m % lcm]\n</code></pre>\n<p>If count == 2, then minute 'm' was part of an overlap, for any value of 'm'.</p>\n<p>Oh..one other thing, and maybe this is where my answer lost the green check.  This answer doesn't account for times specified as hours and minutes.  It just gives the answer to the basic idea of calculating overlaps and doing so for the minimum necessary cycle length, with all values represented in minutes.  To do this for hours, or days, all one would have to do is convert the time values to a minutes-only representation.  Time zones would also add complexity, but you'd just offset the minutes values to account for any time zone shift.</p>\n"}],"owner":{"account_id":20826185,"reputation":33,"user_id":19357801,"display_name":"Satoshi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73769865,"answer_count":1,"score":3,"last_activity_date":1664545218,"creation_date":1663571156,"question_id":73769609,"body_markdown":"In brief, I have:\r\n```\r\nstartTime (When my interval chain will start)\r\n\r\nrepeatEveryMinuteInterval (Repeat every minute of this action)\r\n\r\nduration (Duration of the action)\r\n```\r\n\r\nIt builds the chain of the intervals. Example 1:\r\n```\r\nStartTime - 15:00 UTC 9/19/2022\r\nrepeatEveryMinuteInterval - 15\r\nduration - 5 minutes\r\n\r\n15:00 - 15:05\r\n15:15 - 15:20\r\n15:30 - 15:35\r\n15:45 - 15:50\r\n16:00 - 16:05\r\n// as it is endless it will iterate an infinite number of times\r\n```\r\n\r\n\r\nExample 2:\r\n```\r\nStartTime - 03:07 UTC 10/19/2022\r\nrepeatEveryMinuteInterval - 30\r\nduration - 5 minutes\r\n\r\n03:07- 03:12\r\n03:37- 03:12\r\n04:07- 04:12\r\n// as it is endless it will iterate an infinite number of times\r\n```\r\nMy question is: as these 2 interval chains do not have an end, how can I know that they wouldn&#39;t overlap in the future?\r\n\r\nI assume, that 2 intervals overlap if they share the same time even partially.\r\n```\r\n15:30 - 15:45\r\n15:25 - 15:31 \r\n\r\nThey are overlapping as they both have 15:30 - 15:31 in the intervals.\r\n```\r\n\r\nFrom the implementation point of view, I have figured out 3 ways, and all of them are dummy )\r\n\r\n1.) Assume post that they will overlap as it is an endless set and impossible to calculate and have a consistent result.\r\n\r\n2.) To calculate maybe the next 1000 of the iterations and compare. The thing is that I don&#39;t know how many times should i iterate to have a valid result and for this operation not to take a lot of time to calculate.\r\n\r\n\r\nUPD: If anyone has a solution with or without time zones, I will be glad to communicate. Thanks\r\n\r\nI am reopening my question as a received update from the CryptoFool that this problem can be solved.\r\n\r\n\r\nClosed question\r\nhttps://stackoverflow.com/questions/73768795/how-to-know-will-2-repeatable-intervals-overlap-in-the-future\r\n\r\nUpdate 2: adding new examples (where repeatEveryMin &gt;= duration)\r\n```\r\nStartTime - 00:00 UTC 9/20/2022\r\nrepeatEveryMinuteInterval - 600 (every 10 hours)\r\nduration - 5 minutes\r\n\r\n00:00 - 00:05\r\n10:00 - 10:05\r\n20:00 - 20:05\r\n// other iterations\r\n```\r\n\r\n```\r\nStartTime - 19:02 UTC 9/20/2022\r\nrepeatEveryMinuteInterval - 30\r\nduration - 5 minutes\r\n\r\n19:02 - 19:07\r\n19:32 - 19:37\r\n20:02 - 20:07\r\n// other iterations\r\n```\r\nIn this example, these 2 internals overlap here:`\r\n```\r\ninterval 1: 20:00 - 20:05\r\ninterval 2: 20:02 - 20:07\r\n```","title":"Check will 2 repeatable eternal intervals overlap in the future","body":"<p>In brief, I have:</p>\n<pre><code>startTime (When my interval chain will start)\n\nrepeatEveryMinuteInterval (Repeat every minute of this action)\n\nduration (Duration of the action)\n</code></pre>\n<p>It builds the chain of the intervals. Example 1:</p>\n<pre><code>StartTime - 15:00 UTC 9/19/2022\nrepeatEveryMinuteInterval - 15\nduration - 5 minutes\n\n15:00 - 15:05\n15:15 - 15:20\n15:30 - 15:35\n15:45 - 15:50\n16:00 - 16:05\n// as it is endless it will iterate an infinite number of times\n</code></pre>\n<p>Example 2:</p>\n<pre><code>StartTime - 03:07 UTC 10/19/2022\nrepeatEveryMinuteInterval - 30\nduration - 5 minutes\n\n03:07- 03:12\n03:37- 03:12\n04:07- 04:12\n// as it is endless it will iterate an infinite number of times\n</code></pre>\n<p>My question is: as these 2 interval chains do not have an end, how can I know that they wouldn't overlap in the future?</p>\n<p>I assume, that 2 intervals overlap if they share the same time even partially.</p>\n<pre><code>15:30 - 15:45\n15:25 - 15:31 \n\nThey are overlapping as they both have 15:30 - 15:31 in the intervals.\n</code></pre>\n<p>From the implementation point of view, I have figured out 3 ways, and all of them are dummy )</p>\n<p>1.) Assume post that they will overlap as it is an endless set and impossible to calculate and have a consistent result.</p>\n<p>2.) To calculate maybe the next 1000 of the iterations and compare. The thing is that I don't know how many times should i iterate to have a valid result and for this operation not to take a lot of time to calculate.</p>\n<p>UPD: If anyone has a solution with or without time zones, I will be glad to communicate. Thanks</p>\n<p>I am reopening my question as a received update from the CryptoFool that this problem can be solved.</p>\n<p>Closed question\n<a href=\"https://stackoverflow.com/questions/73768795/how-to-know-will-2-repeatable-intervals-overlap-in-the-future\">https://stackoverflow.com/questions/73768795/how-to-know-will-2-repeatable-intervals-overlap-in-the-future</a></p>\n<p>Update 2: adding new examples (where repeatEveryMin &gt;= duration)</p>\n<pre><code>StartTime - 00:00 UTC 9/20/2022\nrepeatEveryMinuteInterval - 600 (every 10 hours)\nduration - 5 minutes\n\n00:00 - 00:05\n10:00 - 10:05\n20:00 - 20:05\n// other iterations\n</code></pre>\n<pre><code>StartTime - 19:02 UTC 9/20/2022\nrepeatEveryMinuteInterval - 30\nduration - 5 minutes\n\n19:02 - 19:07\n19:32 - 19:37\n20:02 - 20:07\n// other iterations\n</code></pre>\n<p>In this example, these 2 internals overlap here:`</p>\n<pre><code>interval 1: 20:00 - 20:05\ninterval 2: 20:02 - 20:07\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-data","spring-data-mongodb"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1440042198,"post_id":32108953,"comment_id":52112348,"body_markdown":"What are you talking about? MongoDB doesn&#39;t have columns.","body":"What are you talking about? MongoDB doesn&#39;t have columns."},{"owner":{"account_id":4211138,"reputation":4722,"user_id":3448799,"accept_rate":26,"display_name":"richersoon"},"score":1,"creation_date":1440045062,"post_id":32108953,"comment_id":52113077,"body_markdown":"I want to return only the specific field from my model.\n\nIn sql it is equivalent of \nSELECT path FROM foo","body":"I want to return only the specific field from my model.  In sql it is equivalent of  SELECT path FROM foo"},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1554400233,"post_id":32108953,"comment_id":97748592,"body_markdown":"@Oliver Drotbohm - Is there any way if we can find out the distinct record out of the two?","body":"@Oliver Drotbohm - Is there any way if we can find out the distinct record out of the two?"}],"answers":[{"tags":[],"owner":{"account_id":6714527,"reputation":281,"user_id":5176757,"display_name":"Pankaj Mandale"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1536159535,"creation_date":1441194628,"answer_id":32352383,"question_id":32108953,"body_markdown":"You can use \r\n\r\n    Query query = new Query();\r\n    \r\n    query.fields().include(&quot;path&quot;);","title":"How to return only specific fields for a query in Spring Data MongoDB?","body":"<p>You can use </p>\n\n<pre><code>Query query = new Query();\n\nquery.fields().include(\"path\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":261166,"reputation":1670,"user_id":545164,"display_name":"VimalKumar"},"score":3,"creation_date":1487012191,"post_id":32352810,"comment_id":71584119,"body_markdown":"Oliver, Creating a DTO for every select query is not feasible as we run lot of queries to select sub set of data. Spring Data JPA returns List&lt;Object[]&gt; in cases where we dont want to map to DTO. Similalr to that, Is there any API to return a MAp of values instead of mapping to a DTO?","body":"Oliver, Creating a DTO for every select query is not feasible as we run lot of queries to select sub set of data. Spring Data JPA returns List&lt;Object[]&gt; in cases where we dont want to map to DTO. Similalr to that, Is there any API to return a MAp of values instead of mapping to a DTO?"},{"owner":{"account_id":11686577,"reputation":318,"user_id":8556199,"display_name":"Samuel Dominguez"},"score":0,"creation_date":1682143055,"post_id":32352810,"comment_id":134172332,"body_markdown":"Thanks! Does we know how much more efficient it is to return only specific fields? Any profiling done on this?","body":"Thanks! Does we know how much more efficient it is to return only specific fields? Any profiling done on this?"}],"tags":[],"owner":{"account_id":9744,"reputation":80816,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"comment_count":2,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1441195905,"creation_date":1441195905,"answer_id":32352810,"question_id":32108953,"body_markdown":"MongoDB only returns JSON documents for standard queries. What you&#39;d like to see can be achieved by still returning a `List&lt;Foo&gt;`. The `fields` property in `@Query` will cause only the fields set to 1 being returned.\r\n\r\n    @Query(value=&quot;{ path : ?0}&quot;, fields=&quot;{ path : 0 }&quot;)\r\n    List&lt;Foo&gt; findByPath(String path);\r\n\r\nWe usually recommend introducing a dedicted DTO for that so that you prevent the partially filled `Foo` instance from being handed to `save(‚Ä¶)` in turn.\r\n\r\nAnother option is using the aggreation framework but that&#39;s more involved.","title":"How to return only specific fields for a query in Spring Data MongoDB?","body":"<p>MongoDB only returns JSON documents for standard queries. What you'd like to see can be achieved by still returning a <code>List&lt;Foo&gt;</code>. The <code>fields</code> property in <code>@Query</code> will cause only the fields set to 1 being returned.</p>\n\n<pre><code>@Query(value=\"{ path : ?0}\", fields=\"{ path : 0 }\")\nList&lt;Foo&gt; findByPath(String path);\n</code></pre>\n\n<p>We usually recommend introducing a dedicted DTO for that so that you prevent the partially filled <code>Foo</code> instance from being handed to <code>save(‚Ä¶)</code> in turn.</p>\n\n<p>Another option is using the aggreation framework but that's more involved.</p>\n"},{"comments":[{"owner":{"account_id":1011992,"reputation":1472,"user_id":1024368,"accept_rate":74,"display_name":"alvinmeimoun"},"score":0,"creation_date":1535827464,"post_id":41224458,"comment_id":91212737,"body_markdown":"If i want to get some fiels of all documents, i need to set value = &quot;{}&quot; , if i didn&#39;t set the value, it will check the name of the method. But i didn&#39;t check if in this case (not set the value) it will take care of the fields in the annotation","body":"If i want to get some fiels of all documents, i need to set value = &quot;{}&quot; , if i didn&#39;t set the value, it will check the name of the method. But i didn&#39;t check if in this case (not set the value) it will take care of the fields in the annotation"},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1554400193,"post_id":41224458,"comment_id":97748566,"body_markdown":"@Nikhil Kumar K - Is there any way if we can findout the distinct records?","body":"@Nikhil Kumar K - Is there any way if we can findout the distinct records?"},{"owner":{"account_id":2145824,"reputation":1089,"user_id":1903453,"display_name":"Nikhil Kumar K"},"score":0,"creation_date":1554807511,"post_id":41224458,"comment_id":97878991,"body_markdown":"@PAA Can you try findDistinctByThePersonsFirstname","body":"@PAA Can you try findDistinctByThePersonsFirstname"},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1560355490,"post_id":41224458,"comment_id":99711966,"body_markdown":"@@Nikhil Kumar K - Method atleast expects one parameter in the method. I am simply looking find all FirstName","body":"@@Nikhil Kumar K - Method atleast expects one parameter in the method. I am simply looking find all FirstName"},{"owner":{"account_id":7137920,"reputation":1714,"user_id":5456789,"display_name":"Amir Azizkhani"},"score":0,"creation_date":1562038152,"post_id":41224458,"comment_id":100241148,"body_markdown":"base on this part of your answer &quot; fields=&quot;{ &#39;firstname&#39; : 1, &#39;lastname&#39; : 1} &quot;,  what mean   &#39; 1 &#39; number? can you explain  about that?","body":"base on this part of your answer &quot; fields=&quot;{ &#39;firstname&#39; : 1, &#39;lastname&#39; : 1} &quot;,  what mean   &#39; 1 &#39; number? can you explain  about that?"}],"tags":[],"owner":{"account_id":2145824,"reputation":1089,"user_id":1903453,"display_name":"Nikhil Kumar K"},"comment_count":5,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1486586684,"creation_date":1482156695,"answer_id":41224458,"question_id":32108953,"body_markdown":"You can use \r\n\r\n \r\n    public interface PersonRepository extends MongoRepository&lt;Person, String&gt;\r\n\r\n      @Query(value=&quot;{ &#39;firstname&#39; : ?0 }&quot;,fields=&quot;{ &#39;firstname&#39; : 1, &#39;lastname&#39; : 1}&quot;)\r\n      List&lt;Person&gt; findByThePersonsFirstname(String firstname);\r\n\r\n    }\r\n\r\n\r\nMore information in spring data [documentation][1]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.repositories.queries.json-based","title":"How to return only specific fields for a query in Spring Data MongoDB?","body":"<p>You can use </p>\n\n<pre><code>public interface PersonRepository extends MongoRepository&lt;Person, String&gt;\n\n  @Query(value=\"{ 'firstname' : ?0 }\",fields=\"{ 'firstname' : 1, 'lastname' : 1}\")\n  List&lt;Person&gt; findByThePersonsFirstname(String firstname);\n\n}\n</code></pre>\n\n<p>More information in spring data <a href=\"http://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.repositories.queries.json-based\" rel=\"noreferrer\">documentation</a></p>\n"},{"tags":[],"owner":{"account_id":15316844,"reputation":101,"user_id":11050504,"display_name":"Ajit Nikam"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1550058964,"creation_date":1550056891,"answer_id":54668992,"question_id":32108953,"body_markdown":"You can use below query to get specific fields.\r\n\r\n\t@Query(fields=&quot;{path : 1}&quot;)\r\n\tFoo findPathByPath(String path);\r\n\r\nRecords present in DB\r\n\r\n    {\r\n        &quot;name&quot; : &quot;name2&quot;,\r\n        &quot;path&quot; : &quot;path2&quot;\r\n    },\r\n    {\r\n        &quot;name&quot; : &quot;name3&quot;,\r\n        &quot;path&quot; : &quot;path3&quot;\r\n    }\r\n\r\nBelow query will return Foo object if path=Path3\r\n\r\n    {\r\n        &quot;name&quot;: null,\r\n        &quot;path&quot;: &quot;path3&quot;\r\n    }\r\n\r\nwe need to specify required fields with fieldName:1 and if don&#39;t require then specify it with 0.\r\n","title":"How to return only specific fields for a query in Spring Data MongoDB?","body":"<p>You can use below query to get specific fields.</p>\n\n<pre><code>@Query(fields=\"{path : 1}\")\nFoo findPathByPath(String path);\n</code></pre>\n\n<p>Records present in DB</p>\n\n<pre><code>{\n    \"name\" : \"name2\",\n    \"path\" : \"path2\"\n},\n{\n    \"name\" : \"name3\",\n    \"path\" : \"path3\"\n}\n</code></pre>\n\n<p>Below query will return Foo object if path=Path3</p>\n\n<pre><code>{\n    \"name\": null,\n    \"path\": \"path3\"\n}\n</code></pre>\n\n<p>we need to specify required fields with fieldName:1 and if don't require then specify it with 0.</p>\n"},{"tags":[],"owner":{"account_id":9227009,"reputation":1342,"user_id":6854489,"accept_rate":100,"display_name":"takanuva15"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664545137,"creation_date":1641834645,"answer_id":70656308,"question_id":32108953,"body_markdown":"I found this question while trying to get the value of a field from a specific object in my collection. From what my research shows, Mongo doesn&#39;t provide a way to natively return just a specific field&#39;s value from an object. (Disappointing since it seems pretty basic to be able to return just a specific value from a field like I would do in SQL or JSONPath).\r\n\r\nTo get around this, I wrote the following method using Spring MongoDB with Java 11:\r\n\r\n```java\r\nimport org.springframework.data.mongodb.core.query.Criteria;\r\nimport org.springframework.data.mongodb.core.query.Query;\r\nimport org.springframework.data.mongodb.core.MongoTemplate; //not used, just showing which type the template is\r\nimport java.util.Arrays;\r\nimport static java.util.Objects.requireNonNull;\r\n\r\n/**\r\n * Use this method to get a specific field from an object saved in Mongo. The objectId will be\r\n * the id of the object to fetch, and the fieldValueToReturn will be the field to return.\r\n *\r\n * @return the value of the provided field-path converted to the class type provided\r\n */\r\npublic &lt;T&gt; T getFieldValueById(String objectId, String fieldValueToReturn, String collectionName, Class&lt;T&gt; classTypeToReturn) {\r\n    var query = new Query().addCriteria(Criteria.where(&quot;_id&quot;).is(objectId));\r\n    query.fields().include(fieldValueToReturn);\r\n    var result = mongoTemplate.findOne(query, org.bson.Document.class, collectionName);\r\n    requireNonNull(result, &quot;Did not find any documents with id &#39;&quot; + objectId + &quot;&#39; in collection: &quot; + collectionName);\r\n    return result.getEmbedded(Arrays.asList(fieldValueToReturn.split(&quot;\\\\.&quot;)), classTypeToReturn);\r\n}\r\n```\r\n\r\nThe `getEmbedded` call allows us to get the value of the nested field within the returned Bson document.\r\n\r\nTo use the method, just call it like this:\r\n```java\r\ngetFieldValueById(&quot;A1234&quot;, &quot;field.nestedfield.nestedfield&quot;, &quot;collectionName&quot;, String.class);\r\n```\r\n\r\nHopefully this helps out someone else looking on how to do this. \r\n\r\n\r\n----------\r\n\r\n\r\nAs a side note, I&#39;m not sure how to extend this to return a list of objects - if I get to that dilemma and solve it, I will try to update this answer. I&#39;m also not sure if this is slower than running a Mongo aggregate query - I haven&#39;t tried running any performance comparisons between the two methods.\r\n\r\nEDIT 2022-09-30: To return a list of a custom Pojo, it looks like you&#39;ll have to use an aggregate query via spring-data-mongodb. Also it seems basic queries are faster than aggregate queries, so use basic queries where possible.","title":"How to return only specific fields for a query in Spring Data MongoDB?","body":"<p>I found this question while trying to get the value of a field from a specific object in my collection. From what my research shows, Mongo doesn't provide a way to natively return just a specific field's value from an object. (Disappointing since it seems pretty basic to be able to return just a specific value from a field like I would do in SQL or JSONPath).</p>\n<p>To get around this, I wrote the following method using Spring MongoDB with Java 11:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.data.mongodb.core.query.Criteria;\nimport org.springframework.data.mongodb.core.query.Query;\nimport org.springframework.data.mongodb.core.MongoTemplate; //not used, just showing which type the template is\nimport java.util.Arrays;\nimport static java.util.Objects.requireNonNull;\n\n/**\n * Use this method to get a specific field from an object saved in Mongo. The objectId will be\n * the id of the object to fetch, and the fieldValueToReturn will be the field to return.\n *\n * @return the value of the provided field-path converted to the class type provided\n */\npublic &lt;T&gt; T getFieldValueById(String objectId, String fieldValueToReturn, String collectionName, Class&lt;T&gt; classTypeToReturn) {\n    var query = new Query().addCriteria(Criteria.where(&quot;_id&quot;).is(objectId));\n    query.fields().include(fieldValueToReturn);\n    var result = mongoTemplate.findOne(query, org.bson.Document.class, collectionName);\n    requireNonNull(result, &quot;Did not find any documents with id '&quot; + objectId + &quot;' in collection: &quot; + collectionName);\n    return result.getEmbedded(Arrays.asList(fieldValueToReturn.split(&quot;\\\\.&quot;)), classTypeToReturn);\n}\n</code></pre>\n<p>The <code>getEmbedded</code> call allows us to get the value of the nested field within the returned Bson document.</p>\n<p>To use the method, just call it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>getFieldValueById(&quot;A1234&quot;, &quot;field.nestedfield.nestedfield&quot;, &quot;collectionName&quot;, String.class);\n</code></pre>\n<p>Hopefully this helps out someone else looking on how to do this.</p>\n<hr />\n<p>As a side note, I'm not sure how to extend this to return a list of objects - if I get to that dilemma and solve it, I will try to update this answer. I'm also not sure if this is slower than running a Mongo aggregate query - I haven't tried running any performance comparisons between the two methods.</p>\n<p>EDIT 2022-09-30: To return a list of a custom Pojo, it looks like you'll have to use an aggregate query via spring-data-mongodb. Also it seems basic queries are faster than aggregate queries, so use basic queries where possible.</p>\n"},{"tags":[],"owner":{"account_id":3223178,"reputation":688,"user_id":2720078,"accept_rate":100,"display_name":"akshitmahajan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646989138,"creation_date":1646989138,"answer_id":71436001,"question_id":32108953,"body_markdown":"You can directly pass your json query with @Query annotation, for example:\r\n\r\n    @Query(&quot;{ &#39;firstname&#39; : &#39;john&#39; }&quot;)\r\n\r\nHere is the link to all json based queries in Spring Data MongoDb - https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.repositories.queries.json-based","title":"How to return only specific fields for a query in Spring Data MongoDB?","body":"<p>You can directly pass your json query with @Query annotation, for example:</p>\n<pre><code>@Query(&quot;{ 'firstname' : 'john' }&quot;)\n</code></pre>\n<p>Here is the link to all json based queries in Spring Data MongoDb - <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.repositories.queries.json-based\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#mongodb.repositories.queries.json-based</a></p>\n"},{"tags":[],"owner":{"account_id":11687036,"reputation":31,"user_id":8556469,"display_name":"Bondo Kalombo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652267357,"creation_date":1652267357,"answer_id":72199981,"question_id":32108953,"body_markdown":"You can do the following.\r\n\r\nIn your repository, you have the method:\r\n\r\n    String findPathByPath(String path);\r\n\r\nIf the document looks like this (below), and you want to only return path\r\n\r\n    @Document(collection = &quot;foo&quot;)\r\n    public class Foo  {\r\n    \r\n      String name;\r\n      String path;\r\n      String type;\r\n      ‚Ä¶\r\n    }\r\n\r\nThen create a Projection interface, e.g.\r\n\r\n    @Projection(name = &quot;flattenedFoo&quot;, types = Foo.class)\r\n    public interface FlattenedInvoice {\r\n        String getPath(); // This returns the path value in Foo class\r\n    }\r\n\r\nYou can use the getter methods to get the fields from Foo that you are interested in.\r\n\r\nThen in your get request, you would have to specify the projectionName.\r\ne.g. with (@Resource path)\r\n\r\n    @RestResource(path = &quot;findByPath&quot;, rel = &quot;findByPath&quot;)\r\n    String findPathByPath(String path);\r\n\r\nYou could then say (In a get request):\r\n\r\n..../findByPath?path=target_path&amp;projection=flattenedFoo\r\n\r\nthis would then return a json with only the fields specifies in FlattenedFoo interface.","title":"How to return only specific fields for a query in Spring Data MongoDB?","body":"<p>You can do the following.</p>\n<p>In your repository, you have the method:</p>\n<pre><code>String findPathByPath(String path);\n</code></pre>\n<p>If the document looks like this (below), and you want to only return path</p>\n<pre><code>@Document(collection = &quot;foo&quot;)\npublic class Foo  {\n\n  String name;\n  String path;\n  String type;\n  ‚Ä¶\n}\n</code></pre>\n<p>Then create a Projection interface, e.g.</p>\n<pre><code>@Projection(name = &quot;flattenedFoo&quot;, types = Foo.class)\npublic interface FlattenedInvoice {\n    String getPath(); // This returns the path value in Foo class\n}\n</code></pre>\n<p>You can use the getter methods to get the fields from Foo that you are interested in.</p>\n<p>Then in your get request, you would have to specify the projectionName.\ne.g. with (@Resource path)</p>\n<pre><code>@RestResource(path = &quot;findByPath&quot;, rel = &quot;findByPath&quot;)\nString findPathByPath(String path);\n</code></pre>\n<p>You could then say (In a get request):</p>\n<p>..../findByPath?path=target_path&amp;projection=flattenedFoo</p>\n<p>this would then return a json with only the fields specifies in FlattenedFoo interface.</p>\n"}],"owner":{"account_id":4211138,"reputation":4722,"user_id":3448799,"accept_rate":26,"display_name":"richersoon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76840,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"answer_count":7,"score":29,"last_activity_date":1664545137,"creation_date":1440040375,"question_id":32108953,"body_markdown":"How can we select specific fields in Spring Data Mongo. I tried the following but I got cast exception from `Foo` to `String`.\r\n\r\nUsing `@Query`\r\n\r\n    @Query(value=&quot;{path : ?0}&quot;, fields=&quot;{path : 0}&quot;)\r\n    String findPathByPath(String path);\r\n\r\n\r\nNon `@Query`\r\n\r\n    String findPathByPath(String path);\r\n\r\nHere is the document model\r\n\r\n    @Document(collection = &quot;foo&quot;)\r\n    public class Foo  {\r\n\r\n      String name, path;\r\n      ‚Ä¶\r\n    }","title":"How to return only specific fields for a query in Spring Data MongoDB?","body":"<p>How can we select specific fields in Spring Data Mongo. I tried the following but I got cast exception from <code>Foo</code> to <code>String</code>.</p>\n\n<p>Using <code>@Query</code></p>\n\n<pre><code>@Query(value=\"{path : ?0}\", fields=\"{path : 0}\")\nString findPathByPath(String path);\n</code></pre>\n\n<p>Non <code>@Query</code></p>\n\n<pre><code>String findPathByPath(String path);\n</code></pre>\n\n<p>Here is the document model</p>\n\n<pre><code>@Document(collection = \"foo\")\npublic class Foo  {\n\n  String name, path;\n  ‚Ä¶\n}\n</code></pre>\n"},{"tags":["java","gradle","artifactory"],"answers":[{"tags":[],"owner":{"account_id":4172811,"reputation":5347,"user_id":4233342,"display_name":"yahavi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664544819,"creation_date":1664544819,"answer_id":73909585,"question_id":73876978,"body_markdown":"The JFrog CLI can do this for you. It actually applies the Gradle Artifactory plugin for you.\r\n\r\nBefore we begin, please ensure that the `artifactory {...}` definition does not exist in your `build.gradle` file.\r\nNow you can [install][1] the JFrog CLI using one of the available methods.\r\nThe easiest one is the cURL command:\r\n```\r\ncurl -fL https://install-cli.jfrog.io | sh\r\n```\r\n\r\nYou can run Gradle build with the JFrog CLI in 3 steps:\r\n\r\n1. Configure your Artifactory server:\r\n```\r\njf c add --url=https://mycompany.jfrog.io --user=&lt;username&gt; --password=&lt;password&gt;\r\n```\r\n\r\n2. Configure your Gradle project:\r\n```\r\n# Interactively in your machine, so you can commit the .jfrog/projects/gradle.yml file:\r\njf gradle-config\r\n\r\n# Non-interactive:\r\njf gradle-config --repo-deploy=&lt;resolution-repo&gt; --repo-deploy=&lt;deployment-repo&gt; --use-wrapper\r\n```\r\nFor advanced configuration, use `jf gradle-config --help` or read the [documentation][2].\r\n\r\n3. Run the build:\r\n```\r\njf gradle clean artifactoryPublish\r\n```\r\n\r\nRead more:\r\n* [QuickStart Guide: Maven and Gradle][3]\r\n* [Getting started with JFrog using the CLI][4]\r\n\r\n\r\n  [1]: https://jfrog.com/getcli/\r\n  [2]: https://www.jfrog.com/confluence/display/CLI/CLI+for+JFrog+Artifactory#CLIforJFrogArtifactory-RunningGradleBuilds\r\n  [3]: https://www.jfrog.com/confluence/display/JFROG/QuickStart+Guide%3A+Maven+and+Gradle\r\n  [4]: https://github.com/jfrog/jfrog-cli/blob/v2/guides/getting-started-with-jfrog-using-the-cli.md","title":"How to reuse artifactory definition across gradle projects","body":"<p>The JFrog CLI can do this for you. It actually applies the Gradle Artifactory plugin for you.</p>\n<p>Before we begin, please ensure that the <code>artifactory {...}</code> definition does not exist in your <code>build.gradle</code> file.\nNow you can <a href=\"https://jfrog.com/getcli/\" rel=\"nofollow noreferrer\">install</a> the JFrog CLI using one of the available methods.\nThe easiest one is the cURL command:</p>\n<pre><code>curl -fL https://install-cli.jfrog.io | sh\n</code></pre>\n<p>You can run Gradle build with the JFrog CLI in 3 steps:</p>\n<ol>\n<li>Configure your Artifactory server:</li>\n</ol>\n<pre><code>jf c add --url=https://mycompany.jfrog.io --user=&lt;username&gt; --password=&lt;password&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Configure your Gradle project:</li>\n</ol>\n<pre><code># Interactively in your machine, so you can commit the .jfrog/projects/gradle.yml file:\njf gradle-config\n\n# Non-interactive:\njf gradle-config --repo-deploy=&lt;resolution-repo&gt; --repo-deploy=&lt;deployment-repo&gt; --use-wrapper\n</code></pre>\n<p>For advanced configuration, use <code>jf gradle-config --help</code> or read the <a href=\"https://www.jfrog.com/confluence/display/CLI/CLI+for+JFrog+Artifactory#CLIforJFrogArtifactory-RunningGradleBuilds\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<ol start=\"3\">\n<li>Run the build:</li>\n</ol>\n<pre><code>jf gradle clean artifactoryPublish\n</code></pre>\n<p>Read more:</p>\n<ul>\n<li><a href=\"https://www.jfrog.com/confluence/display/JFROG/QuickStart+Guide%3A+Maven+and+Gradle\" rel=\"nofollow noreferrer\">QuickStart Guide: Maven and Gradle</a></li>\n<li><a href=\"https://github.com/jfrog/jfrog-cli/blob/v2/guides/getting-started-with-jfrog-using-the-cli.md\" rel=\"nofollow noreferrer\">Getting started with JFrog using the CLI</a></li>\n</ul>\n"}],"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664544819,"creation_date":1664346000,"question_id":73876978,"body_markdown":"How to reuse artifactory definition across gradle projects, I don&#39;t want to declare this on every individual gradle project we have within the company which either creates a library or generates a Spring Boot App\r\n\r\n    artifactory {\r\n        contextUrl = &#39;https://mycompany.jfrog.io/artifactory&#39;\r\n        publish {\r\n            repository {\r\n                repoKey = &#39;maven&#39;\r\n                username = &quot;${artifactory_user}&quot;\r\n                password = &quot;${artifactory_password}&quot;\r\n            }\r\n            defaults {\r\n                publications(&#39;mavenJava&#39;)\r\n                publishBuildInfo = true\r\n                publishArtifacts = true\r\n                publishPom = true\r\n                properties = [&#39;qa.level&#39;: &#39;basic&#39;, &#39;dev.team&#39; : &#39;core&#39;]\r\n            }\r\n        }","title":"How to reuse artifactory definition across gradle projects","body":"<p>How to reuse artifactory definition across gradle projects, I don't want to declare this on every individual gradle project we have within the company which either creates a library or generates a Spring Boot App</p>\n<pre><code>artifactory {\n    contextUrl = 'https://mycompany.jfrog.io/artifactory'\n    publish {\n        repository {\n            repoKey = 'maven'\n            username = &quot;${artifactory_user}&quot;\n            password = &quot;${artifactory_password}&quot;\n        }\n        defaults {\n            publications('mavenJava')\n            publishBuildInfo = true\n            publishArtifacts = true\n            publishPom = true\n            properties = ['qa.level': 'basic', 'dev.team' : 'core']\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","junit"],"comments":[{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":0,"creation_date":1664542059,"post_id":73908618,"comment_id":130501622,"body_markdown":"I think it might be that @RequiredArgsConstructor try removing it","body":"I think it might be that @RequiredArgsConstructor try removing it"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1664543256,"post_id":73908618,"comment_id":130502067,"body_markdown":"@Icarus After I removed it, I got another error (&quot;this.categoryRepository&quot; is null)","body":"@Icarus After I removed it, I got another error (&quot;this.categoryRepository&quot; is null)"},{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":0,"creation_date":1664543913,"post_id":73908618,"comment_id":130502316,"body_markdown":"try adding @Autowire to categoryRepository","body":"try adding @Autowire to categoryRepository"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1664544503,"post_id":73908618,"comment_id":130502515,"body_markdown":"@Icarus I shared the solution after I fixed the error.","body":"@Icarus I shared the solution after I fixed the error."}],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664544478,"creation_date":1664544478,"answer_id":73909514,"question_id":73908618,"body_markdown":"After I defined `@RunWith(SpringRunner.class)` , the issue disappeared.\r\n\r\nHere is the solution shown below.\r\n\r\n    @DataJpaTest\r\n    @RunWith(SpringRunner.class)\r\n    public class CategoryRepositoryTests {\r\n    \r\n        @Autowired\r\n        private CategoryRepository categoryRepository;\r\n    }","title":"Spring Boot org.junit.runners.model.InvalidTestClassError: Invalid test class 1. Test class should have exactly one public zero-argument constructor","body":"<p>After I defined <code>@RunWith(SpringRunner.class)</code> , the issue disappeared.</p>\n<p>Here is the solution shown below.</p>\n<pre><code>@DataJpaTest\n@RunWith(SpringRunner.class)\npublic class CategoryRepositoryTests {\n\n    @Autowired\n    private CategoryRepository categoryRepository;\n}\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73909514,"answer_count":1,"score":1,"last_activity_date":1664544478,"creation_date":1664540159,"question_id":73908618,"body_markdown":"I have a problem about running some tests through JUnit in my Spring Boot application.\r\n\r\nWhen I tried to run any test of repositorytest, I got the issue shown below.\r\n\r\n    org.junit.runners.model.InvalidTestClassError: Invalid test class 1. Test class should have exactly one public zero-argument constructor\r\n\r\nI also defined @Runwith annotation but it didn&#39;t help me fix my issue.\r\n\r\n\r\n\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.junit.Test;\r\n    import org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\n\r\n    @DataJpaTest\r\n    @RequiredArgsConstructor\r\n    public class CategoryRepositoryTests {\r\n    \r\n        private final CategoryRepository categoryRepository;\r\n    \r\n        @Test\r\n        public void givenCategoryObject_whenSave_thenReturnSavedCategory() {\r\n    \r\n            // given - precondition or setup\r\n            Category category = Category.builder().name(CategoryType.COMIC.getValue()).build();\r\n    \r\n            // when -  action or the behaviour that we are going test\r\n            Category savedCategory = categoryRepository.save(category);\r\n    \r\n            // then\r\n            assertThat(savedCategory.getId()).isGreaterThan(0);\r\n            assertThat(savedCategory).isNotNull();\r\n        }\r\n    }\r\n\r\nHow can I fix it?\r\n","title":"Spring Boot org.junit.runners.model.InvalidTestClassError: Invalid test class 1. Test class should have exactly one public zero-argument constructor","body":"<p>I have a problem about running some tests through JUnit in my Spring Boot application.</p>\n<p>When I tried to run any test of repositorytest, I got the issue shown below.</p>\n<pre><code>org.junit.runners.model.InvalidTestClassError: Invalid test class 1. Test class should have exactly one public zero-argument constructor\n</code></pre>\n<p>I also defined @Runwith annotation but it didn't help me fix my issue.</p>\n<pre><code>import lombok.RequiredArgsConstructor;\nimport org.junit.Test;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\n\n@DataJpaTest\n@RequiredArgsConstructor\npublic class CategoryRepositoryTests {\n\n    private final CategoryRepository categoryRepository;\n\n    @Test\n    public void givenCategoryObject_whenSave_thenReturnSavedCategory() {\n\n        // given - precondition or setup\n        Category category = Category.builder().name(CategoryType.COMIC.getValue()).build();\n\n        // when -  action or the behaviour that we are going test\n        Category savedCategory = categoryRepository.save(category);\n\n        // then\n        assertThat(savedCategory.getId()).isGreaterThan(0);\n        assertThat(savedCategory).isNotNull();\n    }\n}\n</code></pre>\n<p>How can I fix it?</p>\n"},{"tags":["java","aix","lib","automic"],"comments":[{"owner":{"account_id":4989848,"reputation":1603,"user_id":4012408,"display_name":"Rafael Guillen"},"score":0,"creation_date":1664545712,"post_id":73909394,"comment_id":130503001,"body_markdown":"The problem could be related to headless OpenJDK, UI libraries are not included in headless JDK  versions.","body":"The problem could be related to headless OpenJDK, UI libraries are not included in headless JDK  versions."},{"owner":{"account_id":2455794,"reputation":1764,"user_id":2141064,"display_name":"Lorinczy Zsigmond"},"score":0,"creation_date":1664548758,"post_id":73909394,"comment_id":130504082,"body_markdown":"You might want to install `freetype`. Try command `yum install freetype2` as root user.","body":"You might want to install <code>freetype</code>. Try command <code>yum install freetype2</code> as root user."}],"owner":{"account_id":5647455,"reputation":53,"user_id":4469072,"accept_rate":50,"display_name":"Bharath Kumar Reddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664543854,"creation_date":1664543854,"question_id":73909394,"body_markdown":"I have configured OpenJdk 11 in my AIX 7.1 Server and I&#39;m trying to run one of the jar file. However I&#39;m getting the below error and the jar file is getting aborted. But I can see the libfontmanager.so file in my lib folder. I have also added the new jdk path in LIBPATH &amp; LD_LIBRARY_PATH and PATH variables. It is showing about some libfreetype.so.6 but I&#39;m not sure if it&#39;s an internal module of libfontmanager.so or I need to install it separately.\r\n\r\n&gt; **Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError:**\r\n&gt; **/usr/jdk11/lib/libfontmanager.so: /usr/jdk11/lib/libfontmanager.so**,\r\n&gt; LIBPATH=/usr/jdk11/lib/server:/usr/jdk11/lib:/usr/jdk11/lib/jli:/usr/jdk11/../lib:.:/appli/automic/21/Utility/bin:/appli/automic/instantclient_12_1:/usr/lib:/lib:/usr/jdk11/lib,\r\n&gt; LD_LIBRARY_PATH=.:/appli/automic/21/Utility/bin:/appli/automic/instantclient_12_1:/usr/lib:/lib:/usr/jdk11/lib\r\n&gt; :       **0509-022 Cannot load module /usr/jdk11/lib/libfontmanager.so**.\r\n&gt;         **0509-150   Dependent module libfreetype.a(libfreetype.so.6) could not be loaded.**\r\n&gt;         **0509-022 Cannot load module libfreetype.a(libfreetype.so.6).**\r\n&gt;         **0509-026 System error: A file or directory in the path name does not exist.**\r\n&gt;         **0509-022 Cannot load module /usr/jdk11/lib/libfontmanager.so.**\r\n&gt;         **0509-150   Dependent module /usr/jdk11/lib/libfontmanager.so could not be loaded.**\r\n&gt;         at java.base/java.lang.ClassLoader$NativeLibrary.load0(Native Method)\r\n&gt;         at java.base/java.lang.ClassLoader$NativeLibrary.load(ClassLoader.java:2445)\r\n&gt;         at java.base/java.lang.ClassLoader$NativeLibrary.loadLibrary(ClassLoader.java:2501)\r\n&gt;         at java.base/java.lang.ClassLoader.loadLibrary0(ClassLoader.java:2700)\r\n&gt;         at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2651)\r\n&gt;         at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:830)\r\n&gt;         at java.base/java.lang.System.loadLibrary(System.java:1873)\r\n&gt;         at java.desktop/sun.font.FontManagerNativeLibrary$1.run(FontManagerNativeLibrary.java:57)\r\n&gt;         at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n&gt;         at java.desktop/sun.font.FontManagerNativeLibrary.&lt;clinit&gt;(FontManagerNativeLibrary.java:32)\r\n&gt;         at java.desktop/sun.java2d.xr.XRSurfaceData.initXRSurfaceData(XRSurfaceData.java:104)\r\n&gt;         at java.desktop/sun.awt.X11GraphicsEnvironment$1.run(X11GraphicsEnvironment.java:124)\r\n&gt;         at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n&gt;         at java.desktop/sun.awt.X11GraphicsEnvironment.&lt;clinit&gt;(X11GraphicsEnvironment.java:61)\r\n&gt;         at java.base/java.lang.Class.forName0(Native Method)\r\n&gt;         at java.base/java.lang.Class.forName(Class.java:315)\r\n&gt;         at java.desktop/java.awt.GraphicsEnvironment$LocalGE.createGE(GraphicsEnvironment.java:101)\r\n&gt;         at java.desktop/java.awt.GraphicsEnvironment$LocalGE.&lt;clinit&gt;(GraphicsEnvironment.java:83)\r\n&gt;         at java.desktop/java.awt.GraphicsEnvironment.getLocalGraphicsEnvironment(GraphicsEnvironment.java:129)\r\n&gt;         at java.desktop/sun.awt.X11.XToolkit.&lt;clinit&gt;(XToolkit.java:232)\r\n&gt;         at java.base/java.lang.Class.forName0(Native Method)\r\n&gt;         at java.base/java.lang.Class.forName(Class.java:315)\r\n&gt;         at java.desktop/java.awt.Toolkit$2.run(Toolkit.java:588)\r\n&gt;         at java.desktop/java.awt.Toolkit$2.run(Toolkit.java:583)\r\n&gt;         at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n&gt;         at java.desktop/java.awt.Toolkit.getDefaultToolkit(Toolkit.java:582)\r\n&gt;         at java.desktop/sun.swing.SwingUtilities2.getSystemMnemonicKeyMask(SwingUtilities2.java:2212)\r\n&gt;         at java.desktop/javax.swing.plaf.basic.BasicLookAndFeel.initComponentDefaults(BasicLookAndFeel.java:1096)\r\n&gt;         at java.desktop/javax.swing.plaf.metal.MetalLookAndFeel.initComponentDefaults(MetalLookAndFeel.java:440)\r\n&gt;         at java.desktop/javax.swing.plaf.basic.BasicLookAndFeel.getDefaults(BasicLookAndFeel.java:150)\r\n&gt;         at java.desktop/javax.swing.plaf.metal.MetalLookAndFeel.getDefaults(MetalLookAndFeel.java:1560)\r\n&gt;         at java.desktop/javax.swing.UIManager.setLookAndFeel(UIManager.java:587)\r\n&gt;         at java.desktop/javax.swing.UIManager.setLookAndFeel(UIManager.java:629)\r\n&gt;         at java.desktop/javax.swing.UIManager.initializeDefaultLAF(UIManager.java:1404)\r\n&gt;         at java.desktop/javax.swing.UIManager.initialize(UIManager.java:1517)\r\n&gt;         at java.desktop/javax.swing.UIManager.maybeInitialize(UIManager.java:1483)\r\n&gt;         at java.desktop/javax.swing.UIManager.getDefaults(UIManager.java:709)\r\n&gt;         at java.desktop/javax.swing.UIManager.put(UIManager.java:1038)\r\n&gt;         at com.ucutil.ucdbload.CUCYDBLoad.licence(CUCYDBLoad.java:231)\r\n&gt;         at com.ucutil.ucdbload.CUCYDBLoad.&lt;init&gt;(CUCYDBLoad.java:118)\r\n&gt;         at com.ucutil.ucdbload.CUCYDBLoad.main(CUCYDBLoad.java:958)\r\n\r\n","title":"OpenJdk 11 in AIX 7.1 cannot load module libfontmanager.so","body":"<p>I have configured OpenJdk 11 in my AIX 7.1 Server and I'm trying to run one of the jar file. However I'm getting the below error and the jar file is getting aborted. But I can see the libfontmanager.so file in my lib folder. I have also added the new jdk path in LIBPATH &amp; LD_LIBRARY_PATH and PATH variables. It is showing about some libfreetype.so.6 but I'm not sure if it's an internal module of libfontmanager.so or I need to install it separately.</p>\n<blockquote>\n<p><strong>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError:</strong>\n<strong>/usr/jdk11/lib/libfontmanager.so: /usr/jdk11/lib/libfontmanager.so</strong>,\nLIBPATH=/usr/jdk11/lib/server:/usr/jdk11/lib:/usr/jdk11/lib/jli:/usr/jdk11/../lib:.:/appli/automic/21/Utility/bin:/appli/automic/instantclient_12_1:/usr/lib:/lib:/usr/jdk11/lib,\nLD_LIBRARY_PATH=.:/appli/automic/21/Utility/bin:/appli/automic/instantclient_12_1:/usr/lib:/lib:/usr/jdk11/lib\n:       <strong>0509-022 Cannot load module /usr/jdk11/lib/libfontmanager.so</strong>.\n<strong>0509-150   Dependent module libfreetype.a(libfreetype.so.6) could not be loaded.</strong>\n<strong>0509-022 Cannot load module libfreetype.a(libfreetype.so.6).</strong>\n<strong>0509-026 System error: A file or directory in the path name does not exist.</strong>\n<strong>0509-022 Cannot load module /usr/jdk11/lib/libfontmanager.so.</strong>\n<strong>0509-150   Dependent module /usr/jdk11/lib/libfontmanager.so could not be loaded.</strong>\nat java.base/java.lang.ClassLoader$NativeLibrary.load0(Native Method)\nat java.base/java.lang.ClassLoader$NativeLibrary.load(ClassLoader.java:2445)\nat java.base/java.lang.ClassLoader$NativeLibrary.loadLibrary(ClassLoader.java:2501)\nat java.base/java.lang.ClassLoader.loadLibrary0(ClassLoader.java:2700)\nat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2651)\nat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:830)\nat java.base/java.lang.System.loadLibrary(System.java:1873)\nat java.desktop/sun.font.FontManagerNativeLibrary$1.run(FontManagerNativeLibrary.java:57)\nat java.base/java.security.AccessController.doPrivileged(Native Method)\nat java.desktop/sun.font.FontManagerNativeLibrary.(FontManagerNativeLibrary.java:32)\nat java.desktop/sun.java2d.xr.XRSurfaceData.initXRSurfaceData(XRSurfaceData.java:104)\nat java.desktop/sun.awt.X11GraphicsEnvironment$1.run(X11GraphicsEnvironment.java:124)\nat java.base/java.security.AccessController.doPrivileged(Native Method)\nat java.desktop/sun.awt.X11GraphicsEnvironment.(X11GraphicsEnvironment.java:61)\nat java.base/java.lang.Class.forName0(Native Method)\nat java.base/java.lang.Class.forName(Class.java:315)\nat java.desktop/java.awt.GraphicsEnvironment$LocalGE.createGE(GraphicsEnvironment.java:101)\nat java.desktop/java.awt.GraphicsEnvironment$LocalGE.(GraphicsEnvironment.java:83)\nat java.desktop/java.awt.GraphicsEnvironment.getLocalGraphicsEnvironment(GraphicsEnvironment.java:129)\nat java.desktop/sun.awt.X11.XToolkit.(XToolkit.java:232)\nat java.base/java.lang.Class.forName0(Native Method)\nat java.base/java.lang.Class.forName(Class.java:315)\nat java.desktop/java.awt.Toolkit$2.run(Toolkit.java:588)\nat java.desktop/java.awt.Toolkit$2.run(Toolkit.java:583)\nat java.base/java.security.AccessController.doPrivileged(Native Method)\nat java.desktop/java.awt.Toolkit.getDefaultToolkit(Toolkit.java:582)\nat java.desktop/sun.swing.SwingUtilities2.getSystemMnemonicKeyMask(SwingUtilities2.java:2212)\nat java.desktop/javax.swing.plaf.basic.BasicLookAndFeel.initComponentDefaults(BasicLookAndFeel.java:1096)\nat java.desktop/javax.swing.plaf.metal.MetalLookAndFeel.initComponentDefaults(MetalLookAndFeel.java:440)\nat java.desktop/javax.swing.plaf.basic.BasicLookAndFeel.getDefaults(BasicLookAndFeel.java:150)\nat java.desktop/javax.swing.plaf.metal.MetalLookAndFeel.getDefaults(MetalLookAndFeel.java:1560)\nat java.desktop/javax.swing.UIManager.setLookAndFeel(UIManager.java:587)\nat java.desktop/javax.swing.UIManager.setLookAndFeel(UIManager.java:629)\nat java.desktop/javax.swing.UIManager.initializeDefaultLAF(UIManager.java:1404)\nat java.desktop/javax.swing.UIManager.initialize(UIManager.java:1517)\nat java.desktop/javax.swing.UIManager.maybeInitialize(UIManager.java:1483)\nat java.desktop/javax.swing.UIManager.getDefaults(UIManager.java:709)\nat java.desktop/javax.swing.UIManager.put(UIManager.java:1038)\nat com.ucutil.ucdbload.CUCYDBLoad.licence(CUCYDBLoad.java:231)\nat com.ucutil.ucdbload.CUCYDBLoad.(CUCYDBLoad.java:118)\nat com.ucutil.ucdbload.CUCYDBLoad.main(CUCYDBLoad.java:958)</p>\n</blockquote>\n"},{"tags":["java","algorithm"],"answers":[{"tags":[],"owner":{"account_id":8198,"reputation":176803,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1635185164,"creation_date":1635185164,"answer_id":69712816,"question_id":69712682,"body_markdown":"A `long` can have up to 19 decimal digits, so there are 19! = 121645100408832000 (about 10^17) possible permutations. In reality there are fewer, because some digits will occur more than once; but even then, this is a far too large number for a single computer to process.\r\n\r\nI won&#39;t solve the puzzle for you, but here&#39;s a hint: usually the next biggest number looks very similar to the original one. Look at a few examples (create more if you need to):\r\n\r\n* 3**12** ‚Üí 3**21**\r\n* 264**78** -&gt; 264**87**\r\n* 9378456923475 -&gt; 9378456923**547**\r\n\r\nCan you find a way to permute the input number only once to end up at the next bigger one?","title":"&quot;Next bigger number with the same digits&quot;- Execution Timed Out (16000 ms) - Codewars","body":"<p>A <code>long</code> can have up to 19 decimal digits, so there are 19! = 121645100408832000 (about 10^17) possible permutations. In reality there are fewer, because some digits will occur more than once; but even then, this is a far too large number for a single computer to process.</p>\n<p>I won't solve the puzzle for you, but here's a hint: usually the next biggest number looks very similar to the original one. Look at a few examples (create more if you need to):</p>\n<ul>\n<li>3<strong>12</strong> ‚Üí 3<strong>21</strong></li>\n<li>264<strong>78</strong> -&gt; 264<strong>87</strong></li>\n<li>9378456923475 -&gt; 9378456923<strong>547</strong></li>\n</ul>\n<p>Can you find a way to permute the input number only once to end up at the next bigger one?</p>\n"},{"tags":[],"owner":{"account_id":7929014,"reputation":1086,"user_id":5987537,"display_name":"Cristofer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664543274,"creation_date":1664543274,"answer_id":73909280,"question_id":69712682,"body_markdown":" I solve in Kotlin  using this guide https://dev.to/kopiro/kata-resolution-next-bigger-number-with-the-same-digits-41mj .\r\n\r\nI was very interesting problem.. \r\n\r\n    fun NextBiggerNumber(n: Long): Long {\r\n        if (n &lt; 0) return -1\r\n        var myPivot = 0\r\n        var beforePivot = &quot;&quot;\r\n        var afterPivot = &quot;&quot;\r\n        val digitList = n.toString().map { it.toString().toInt() }.toMutableList()\r\n        for (pos in digitList.lastIndex downTo 0) {\r\n            if (pos &gt; 0) {\r\n                if (digitList[pos] &gt; digitList[pos - 1]) {\r\n                    myPivot = digitList[pos - 1]\r\n                    beforePivot = n.toString().substring(0, pos - 1)\r\n                    afterPivot = n.toString().substring(pos)\r\n                    break\r\n                } else if (digitList[pos] &lt; digitList[pos - 1] &amp;&amp; pos == digitList.lastIndex) {\r\n                    continue\r\n                }\r\n            }\r\n        }\r\n    \r\n        val smallLarger = findSmallLarger(afterPivot, myPivot)\r\n    \r\n        val newAfterString = if (afterPivot.length &gt; 1) {\r\n            StringBuilder(afterPivot).append(myPivot.toString()).removeRange(\r\n                smallLarger.second, smallLarger.second + 1\r\n            ).toString().split(&quot;&quot;).sorted().joinToString(&quot;&quot;)\r\n        } else {\r\n            StringBuilder(afterPivot).append(myPivot.toString()).toString()\r\n        }\r\n    \r\n        val solution = if (beforePivot.isEmpty()) {\r\n            &quot;${smallLarger.first}$newAfterString&quot;.toLong()\r\n        } else if (smallLarger.first.isEmpty()) {\r\n            &quot;$beforePivot$newAfterString&quot;.toLong()\r\n        } else {\r\n            &quot;$beforePivot${smallLarger.first}$newAfterString&quot;.toLong()\r\n        }\r\n    \r\n        return if (solution &gt; 0L) solution else -1\r\n    }\r\n    \r\n    \r\n    fun findSmallLarger(afterPivot: String, myPivot: Int): Pair&lt;String, Int&gt; {\r\n        var mySmallLarger = &quot;&quot;\r\n        var mySmallLargerPos = 0\r\n        val digitList = afterPivot.map { it.toString().toInt() }.toMutableList()\r\n    \r\n        if (afterPivot.length &gt; 1) {\r\n            for (pos in digitList.lastIndex downTo 0) {\r\n                if (digitList[pos] &gt; myPivot) {\r\n                    mySmallLargerPos = pos\r\n                    mySmallLarger = digitList[pos].toString()\r\n                    break\r\n                }\r\n            }\r\n        }\r\n        return Pair(mySmallLarger, mySmallLargerPos)\r\n    }\r\n\r\nIn Kotlin the better and clever answer was (by akvptp, akvosir) :\r\n\r\n    fun nextBiggerNumber(n: Long): Long {\r\n        val text = n.toString().toMutableList()\r\n        for (i in text.size - 2 downTo 0) {\r\n            if (text[i] &lt; text[i + 1]) {\r\n                val tail = text.subList(i + 1, text.size)\r\n                val min = tail.withIndex().filter { it.value &gt; text[i] }.minBy { it.value }!!\r\n                text[i + 1 + min.index] = text[i]\r\n                text[i] = min.value\r\n                tail.sort()\r\n                return text.joinToString(&quot;&quot;).toLong()\r\n            }\r\n        }\r\n        return -1\r\n    }\r\n\r\n\r\nTest your code with those cases:\r\n\r\n**user cases:**\r\n\r\n    println(nextBiggerNumber(2017) == 2071L)\r\n     \r\n        println(nextBiggerNumber(12) == 21L)\r\n     \r\n        println(nextBiggerNumber(144) == 414L)\r\n      \r\n        println(nextBiggerNumber(513) == 531L)\r\n       \r\n        println(nextBiggerNumber(21581957621) == 21581961257L)\r\n     \r\n        println(nextBiggerNumber(135567381) == 135567813L)\r\n       \r\n        println(nextBiggerNumber(1234567890) == 1234567908L)\r\n    \r\n        println(nextBiggerNumber(9876543210) == -1L)","title":"&quot;Next bigger number with the same digits&quot;- Execution Timed Out (16000 ms) - Codewars","body":"<p>I solve in Kotlin  using this guide <a href=\"https://dev.to/kopiro/kata-resolution-next-bigger-number-with-the-same-digits-41mj\" rel=\"nofollow noreferrer\">https://dev.to/kopiro/kata-resolution-next-bigger-number-with-the-same-digits-41mj</a> .</p>\n<p>I was very interesting problem..</p>\n<pre><code>fun NextBiggerNumber(n: Long): Long {\n    if (n &lt; 0) return -1\n    var myPivot = 0\n    var beforePivot = &quot;&quot;\n    var afterPivot = &quot;&quot;\n    val digitList = n.toString().map { it.toString().toInt() }.toMutableList()\n    for (pos in digitList.lastIndex downTo 0) {\n        if (pos &gt; 0) {\n            if (digitList[pos] &gt; digitList[pos - 1]) {\n                myPivot = digitList[pos - 1]\n                beforePivot = n.toString().substring(0, pos - 1)\n                afterPivot = n.toString().substring(pos)\n                break\n            } else if (digitList[pos] &lt; digitList[pos - 1] &amp;&amp; pos == digitList.lastIndex) {\n                continue\n            }\n        }\n    }\n\n    val smallLarger = findSmallLarger(afterPivot, myPivot)\n\n    val newAfterString = if (afterPivot.length &gt; 1) {\n        StringBuilder(afterPivot).append(myPivot.toString()).removeRange(\n            smallLarger.second, smallLarger.second + 1\n        ).toString().split(&quot;&quot;).sorted().joinToString(&quot;&quot;)\n    } else {\n        StringBuilder(afterPivot).append(myPivot.toString()).toString()\n    }\n\n    val solution = if (beforePivot.isEmpty()) {\n        &quot;${smallLarger.first}$newAfterString&quot;.toLong()\n    } else if (smallLarger.first.isEmpty()) {\n        &quot;$beforePivot$newAfterString&quot;.toLong()\n    } else {\n        &quot;$beforePivot${smallLarger.first}$newAfterString&quot;.toLong()\n    }\n\n    return if (solution &gt; 0L) solution else -1\n}\n\n\nfun findSmallLarger(afterPivot: String, myPivot: Int): Pair&lt;String, Int&gt; {\n    var mySmallLarger = &quot;&quot;\n    var mySmallLargerPos = 0\n    val digitList = afterPivot.map { it.toString().toInt() }.toMutableList()\n\n    if (afterPivot.length &gt; 1) {\n        for (pos in digitList.lastIndex downTo 0) {\n            if (digitList[pos] &gt; myPivot) {\n                mySmallLargerPos = pos\n                mySmallLarger = digitList[pos].toString()\n                break\n            }\n        }\n    }\n    return Pair(mySmallLarger, mySmallLargerPos)\n}\n</code></pre>\n<p>In Kotlin the better and clever answer was (by akvptp, akvosir) :</p>\n<pre><code>fun nextBiggerNumber(n: Long): Long {\n    val text = n.toString().toMutableList()\n    for (i in text.size - 2 downTo 0) {\n        if (text[i] &lt; text[i + 1]) {\n            val tail = text.subList(i + 1, text.size)\n            val min = tail.withIndex().filter { it.value &gt; text[i] }.minBy { it.value }!!\n            text[i + 1 + min.index] = text[i]\n            text[i] = min.value\n            tail.sort()\n            return text.joinToString(&quot;&quot;).toLong()\n        }\n    }\n    return -1\n}\n</code></pre>\n<p>Test your code with those cases:</p>\n<p><strong>user cases:</strong></p>\n<pre><code>println(nextBiggerNumber(2017) == 2071L)\n \n    println(nextBiggerNumber(12) == 21L)\n \n    println(nextBiggerNumber(144) == 414L)\n  \n    println(nextBiggerNumber(513) == 531L)\n   \n    println(nextBiggerNumber(21581957621) == 21581961257L)\n \n    println(nextBiggerNumber(135567381) == 135567813L)\n   \n    println(nextBiggerNumber(1234567890) == 1234567908L)\n\n    println(nextBiggerNumber(9876543210) == -1L)\n</code></pre>\n"}],"owner":{"account_id":15937983,"reputation":33,"user_id":11500602,"display_name":"Buena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1664543274,"creation_date":1635184497,"question_id":69712682,"body_markdown":"I wrote a program that returns next bigger number created with the same digits, but it looks like code isn&#39;t fast enough to be able to pass the random tests, and gives &quot;Execution Timed Out (16000 ms)&quot; error.\r\n\r\n    public static String swap(String a, int i, int j)\r\n    {\r\n        char temp;\r\n        char[] charArray = a.toCharArray();\r\n        temp = charArray[i] ;\r\n        charArray[i] = charArray[j];\r\n        charArray[j] = temp;\r\n        return String.valueOf(charArray);\r\n    }\r\n\r\n    public static void getPermutations(String str, int l, int r, List&lt;Long&gt; permutations ) {\r\n        if (l == r)\r\n            permutations.add(Long.valueOf(str));\r\n        else {\r\n            for (int i = l; i &lt;= r; i++) {\r\n                str = swap(str, l, i);\r\n                getPermutations(str, l + 1, r, permutations);\r\n                str = swap(str, l, i);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static long nextBiggerNumber(long n) {\r\n        String numberTostring = Long.toString(n);\r\n\r\n        List&lt;Long&gt; permutations = new ArrayList&lt;&gt;();\r\n        getPermutations(numberTostring, 0 ,numberTostring.length() - 1, permutations);\r\n        permutations.sort(Comparator.naturalOrder());\r\n\r\n        for (long number : permutations) {\r\n            if (number &gt; n)  {\r\n                return number;\r\n            }\r\n        }\r\n\r\n        return -1;\r\n    }\r\n\r\nDo you know how to improve this code?","title":"&quot;Next bigger number with the same digits&quot;- Execution Timed Out (16000 ms) - Codewars","body":"<p>I wrote a program that returns next bigger number created with the same digits, but it looks like code isn't fast enough to be able to pass the random tests, and gives &quot;Execution Timed Out (16000 ms)&quot; error.</p>\n<pre><code>public static String swap(String a, int i, int j)\n{\n    char temp;\n    char[] charArray = a.toCharArray();\n    temp = charArray[i] ;\n    charArray[i] = charArray[j];\n    charArray[j] = temp;\n    return String.valueOf(charArray);\n}\n\npublic static void getPermutations(String str, int l, int r, List&lt;Long&gt; permutations ) {\n    if (l == r)\n        permutations.add(Long.valueOf(str));\n    else {\n        for (int i = l; i &lt;= r; i++) {\n            str = swap(str, l, i);\n            getPermutations(str, l + 1, r, permutations);\n            str = swap(str, l, i);\n        }\n    }\n}\n\npublic static long nextBiggerNumber(long n) {\n    String numberTostring = Long.toString(n);\n\n    List&lt;Long&gt; permutations = new ArrayList&lt;&gt;();\n    getPermutations(numberTostring, 0 ,numberTostring.length() - 1, permutations);\n    permutations.sort(Comparator.naturalOrder());\n\n    for (long number : permutations) {\n        if (number &gt; n)  {\n            return number;\n        }\n    }\n\n    return -1;\n}\n</code></pre>\n<p>Do you know how to improve this code?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":51364,"reputation":4328,"user_id":153446,"display_name":"Cullen Walsh"},"comment_count":0,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1250626777,"creation_date":1250626777,"answer_id":1296257,"question_id":1296249,"body_markdown":"From the command line, run\r\n\r\n    javac ClassName.java","title":"how to convert .java file to a .class file","body":"<p>From the command line, run</p>\n\n<pre><code>javac ClassName.java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31204,"reputation":27966,"user_id":85514,"accept_rate":88,"display_name":"Peter Smit"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1250626803,"creation_date":1250626803,"answer_id":1296261,"question_id":1296249,"body_markdown":"To get a .class file you have to compile the .java file.\r\n\r\nThe command for this is javac. The manual for this is found [here (Windows)][1]\r\n\r\nIn short:\r\n&lt;pre&gt;javac File.java&lt;/pre&gt;\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/technotes/tools/windows/javac.html","title":"how to convert .java file to a .class file","body":"<p>To get a .class file you have to compile the .java file.</p>\n\n<p>The command for this is javac. The manual for this is found <a href=\"http://java.sun.com/javase/6/docs/technotes/tools/windows/javac.html\" rel=\"nofollow noreferrer\">here (Windows)</a></p>\n\n<p>In short:</p>\n\n<pre>javac File.java</pre>\n"},{"tags":[],"owner":{"account_id":52809,"reputation":13434,"user_id":157852,"accept_rate":100,"display_name":"Jonathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1250626817,"creation_date":1250626817,"answer_id":1296265,"question_id":1296249,"body_markdown":"Use the javac program that comes with the JDK (visit java.sun.com if you don&#39;t have it). The installer does not automatically add javac to your system path, so you&#39;ll need to add the bin directory of the installed path to your system path before you can use it easily.","title":"how to convert .java file to a .class file","body":"<p>Use the javac program that comes with the JDK (visit java.sun.com if you don't have it). The installer does not automatically add javac to your system path, so you'll need to add the bin directory of the installed path to your system path before you can use it easily.</p>\n"},{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":11,"creation_date":1250672403,"post_id":1296272,"comment_id":1129649,"body_markdown":"Note.  Javac expects a FILENAME (hence the herb.java) and Java expects a CLASSNAME (hence herb).  That difference bites most beginners.","body":"Note.  Javac expects a FILENAME (hence the herb.java) and Java expects a CLASSNAME (hence herb).  That difference bites most beginners."},{"owner":{"account_id":47458,"reputation":6391,"user_id":140576,"accept_rate":65,"display_name":"Aviad Ben Dov"},"score":0,"creation_date":1250703390,"post_id":1296272,"comment_id":1132658,"body_markdown":"Not only that, `java` expects a fully qualified name and expects them to be in a directory structure based on the package structure, while javac can deal with files being anywhere.","body":"Not only that, <code>java</code> expects a fully qualified name and expects them to be in a directory structure based on the package structure, while javac can deal with files being anywhere."}],"tags":[],"owner":{"account_id":47458,"reputation":6391,"user_id":140576,"accept_rate":65,"display_name":"Aviad Ben Dov"},"comment_count":2,"down_vote_count":1,"up_vote_count":61,"is_accepted":false,"score":60,"last_activity_date":1250626915,"creation_date":1250626915,"answer_id":1296272,"question_id":1296249,"body_markdown":"A `.java` file is the code file. \r\nA `.class` file is the compiled file.\r\n\r\nIt&#39;s not exactly &quot;conversion&quot; - it&#39;s compilation. Suppose your file was called &quot;herb.java&quot;, you would write (in the command prompt): \r\n\r\n     javac herb.java\r\n\r\nIt will create a herb.class file in the current folder.\r\n\r\nIt is &quot;executable&quot; only if it contains a `static void main(String[])` method inside it. If it does, you can execute it by running (again, command prompt:)\r\n\r\n     java herb\r\n\r\n\r\n","title":"how to convert .java file to a .class file","body":"<p>A <code>.java</code> file is the code file. \nA <code>.class</code> file is the compiled file.</p>\n\n<p>It's not exactly \"conversion\" - it's compilation. Suppose your file was called \"herb.java\", you would write (in the command prompt): </p>\n\n<pre><code> javac herb.java\n</code></pre>\n\n<p>It will create a herb.class file in the current folder.</p>\n\n<p>It is \"executable\" only if it contains a <code>static void main(String[])</code> method inside it. If it does, you can execute it by running (again, command prompt:)</p>\n\n<pre><code> java herb\n</code></pre>\n"},{"tags":[],"owner":{"account_id":46548,"reputation":3722,"user_id":137584,"accept_rate":100,"display_name":"Philippe Carriere"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1250627138,"creation_date":1250627138,"answer_id":1296290,"question_id":1296249,"body_markdown":"As the others stated : it&#39;s by compiling. You can use the javac command, but I&#39;f you&#39;re new at java, I suggest you use a software for compiling your code (and IDE) such as [Eclipse][1] and it will do the job for you.\r\n\r\n\r\n  [1]: http://www.eclipse.org","title":"how to convert .java file to a .class file","body":"<p>As the others stated : it's by compiling. You can use the javac command, but I'f you're new at java, I suggest you use a software for compiling your code (and IDE) such as <a href=\"http://www.eclipse.org\" rel=\"nofollow noreferrer\">Eclipse</a> and it will do the job for you.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1250627207,"creation_date":1250627207,"answer_id":1296298,"question_id":1296249,"body_markdown":"I would suggest you read the appropriate sections in The Java Tutorial from Sun:\r\n\r\nhttp://java.sun.com/docs/books/tutorial/getStarted/cupojava/win32.html\r\n\r\n","title":"how to convert .java file to a .class file","body":"<p>I would suggest you read the appropriate sections in The Java Tutorial from Sun:</p>\n\n<p><a href=\"http://java.sun.com/docs/books/tutorial/getStarted/cupojava/win32.html\" rel=\"noreferrer\">http://java.sun.com/docs/books/tutorial/getStarted/cupojava/win32.html</a></p>\n"},{"comments":[{"owner":{"account_id":26084,"reputation":26325,"user_id":67598,"accept_rate":79,"display_name":"digitaljoel"},"score":3,"creation_date":1250629952,"post_id":1296346,"comment_id":1127436,"body_markdown":"This command (java -jar AppName.jar) does not jar it up, it executes something that has already been jarred as an executable jar file.  In order to put a .class file into a jar, you would use the jar command; as in &quot;jar -cf myjar.jar classes/*&quot;  In order to create a jar that can be executed with the java -jar command you need to specify the main class in the manifest file.  This is all well beyond the scope of the original question, so if you want to know more, google &quot;create executable jar&quot;.","body":"This command (java -jar AppName.jar) does not jar it up, it executes something that has already been jarred as an executable jar file.  In order to put a .class file into a jar, you would use the jar command; as in &quot;jar -cf myjar.jar classes/*&quot;  In order to create a jar that can be executed with the java -jar command you need to specify the main class in the manifest file.  This is all well beyond the scope of the original question, so if you want to know more, google &quot;create executable jar&quot;."}],"tags":[],"owner":{"account_id":43483,"reputation":33,"user_id":127131,"display_name":"Avery"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1250627734,"creation_date":1250627734,"answer_id":1296346,"question_id":1296249,"body_markdown":"After compiling it you can jar it.\r\n\r\njava -jar AppName.jar\r\n\r\nhttp://windowstipoftheday.blogspot.com/2005/10/setting-jar-file-association.html","title":"how to convert .java file to a .class file","body":"<p>After compiling it you can jar it.</p>\n\n<p>java -jar AppName.jar</p>\n\n<p><a href=\"http://windowstipoftheday.blogspot.com/2005/10/setting-jar-file-association.html\" rel=\"nofollow noreferrer\">http://windowstipoftheday.blogspot.com/2005/10/setting-jar-file-association.html</a></p>\n"},{"tags":[],"owner":{"account_id":4281907,"reputation":307,"user_id":3501003,"display_name":"Umesh Bhutada"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664543079,"creation_date":1664543079,"answer_id":73909247,"question_id":1296249,"body_markdown":"You can not compile any java file to class directly. \r\nIt should have main method to compile it in class file","title":"how to convert .java file to a .class file","body":"<p>You can not compile any java file to class directly.\nIt should have main method to compile it in class file</p>\n"}],"owner":{"display_name":"herb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249035,"favorite_count":0,"down_vote_count":3,"up_vote_count":32,"answer_count":8,"score":29,"last_activity_date":1664543079,"creation_date":1250626683,"question_id":1296249,"body_markdown":"Can anyone tell me how I can convert a .java file into .class file with an executable bytecode?","title":"how to convert .java file to a .class file","body":"<p>Can anyone tell me how I can convert a .java file into .class file with an executable bytecode?</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":422864,"reputation":158,"user_id":801883,"display_name":"meisterplanlos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664542795,"creation_date":1664542795,"answer_id":73909188,"question_id":73889085,"body_markdown":"I used the following tables to test one possible solution for your problem further below\r\n\r\n    create table A (\r\n        id UUID\r\n    );\r\n    \r\n    create table B ( \r\n        id UUID,\r\n        id_a UUID,\r\n        id_c UUID\r\n    );\r\n    \r\n    create table C (\r\n        id UUID,\r\n        lastname varchar(63)\r\n    );\r\n    \r\n    insert into A values \r\n    (&#39;aaaaaaaa-aaaa-aaaa-aaaa-000000000000&#39;),\r\n    (&#39;aaaaaaaa-aaaa-aaaa-aaaa-000000000001&#39;),\r\n    (&#39;aaaaaaaa-aaaa-aaaa-aaaa-000000000002&#39;),\r\n    (&#39;aaaaaaaa-aaaa-aaaa-aaaa-000000000003&#39;),\r\n    (&#39;aaaaaaaa-aaaa-aaaa-aaaa-000000000004&#39;);\r\n    \r\n    insert into C values \r\n    (&#39;cccccccc-cccc-cccc-cccc-000000000000&#39;, &#39;C zero&#39;),\r\n    (&#39;cccccccc-cccc-cccc-cccc-000000000001&#39;, &#39;C one&#39;),\r\n    (&#39;cccccccc-cccc-cccc-cccc-000000000002&#39;, &#39;C two&#39;),\r\n    (&#39;cccccccc-cccc-cccc-cccc-000000000003&#39;, &#39;C three&#39;),\r\n    (&#39;cccccccc-cccc-cccc-cccc-000000000004&#39;, &#39;C four&#39;),\r\n    (&#39;cccccccc-cccc-cccc-cccc-000000000005&#39;, &#39;C five&#39;),\r\n    (&#39;cccccccc-cccc-cccc-cccc-000000000006&#39;, &#39;C six&#39;);\r\n    \r\n    insert into B values \r\n    (&#39;bbbbbbbb-bbbb-bbbb-bbbb-000000000000&#39;, &#39;aaaaaaaa-aaaa-aaaa-aaaa-000000000000&#39;, &#39;cccccccc-cccc-cccc-cccc-000000000000&#39;),\r\n    (&#39;bbbbbbbb-bbbb-bbbb-bbbb-000000000001&#39;, &#39;aaaaaaaa-aaaa-aaaa-aaaa-000000000000&#39;, &#39;cccccccc-cccc-cccc-cccc-000000000001&#39;),\r\n    (&#39;bbbbbbbb-bbbb-bbbb-bbbb-000000000002&#39;, &#39;aaaaaaaa-aaaa-aaaa-aaaa-000000000000&#39;, &#39;cccccccc-cccc-cccc-cccc-000000000002&#39;),\r\n    (&#39;bbbbbbbb-bbbb-bbbb-bbbb-000000000003&#39;, &#39;aaaaaaaa-aaaa-aaaa-aaaa-000000000001&#39;, &#39;cccccccc-cccc-cccc-cccc-000000000003&#39;),\r\n    (&#39;bbbbbbbb-bbbb-bbbb-bbbb-000000000004&#39;, &#39;aaaaaaaa-aaaa-aaaa-aaaa-000000000001&#39;, &#39;cccccccc-cccc-cccc-cccc-000000000004&#39;),\r\n    (&#39;bbbbbbbb-bbbb-bbbb-bbbb-000000000005&#39;, &#39;aaaaaaaa-aaaa-aaaa-aaaa-000000000001&#39;, &#39;cccccccc-cccc-cccc-cccc-000000000005&#39;),\r\n    (&#39;bbbbbbbb-bbbb-bbbb-bbbb-000000000006&#39;, &#39;aaaaaaaa-aaaa-aaaa-aaaa-000000000002&#39;, &#39;cccccccc-cccc-cccc-cccc-000000000006&#39;),\r\n    (&#39;bbbbbbbb-bbbb-bbbb-bbbb-000000000007&#39;, &#39;aaaaaaaa-aaaa-aaaa-aaaa-000000000002&#39;, &#39;cccccccc-cccc-cccc-cccc-000000000000&#39;),\r\n    (&#39;bbbbbbbb-bbbb-bbbb-bbbb-000000000008&#39;, &#39;aaaaaaaa-aaaa-aaaa-aaaa-000000000002&#39;, &#39;cccccccc-cccc-cccc-cccc-000000000001&#39;),\r\n    (&#39;bbbbbbbb-bbbb-bbbb-bbbb-000000000009&#39;, &#39;aaaaaaaa-aaaa-aaaa-aaaa-000000000003&#39;, &#39;cccccccc-cccc-cccc-cccc-000000000002&#39;),\r\n    (&#39;bbbbbbbb-bbbb-bbbb-bbbb-000000000010&#39;, &#39;aaaaaaaa-aaaa-aaaa-aaaa-000000000003&#39;, &#39;cccccccc-cccc-cccc-cccc-000000000003&#39;),\r\n    (&#39;bbbbbbbb-bbbb-bbbb-bbbb-000000000011&#39;, &#39;aaaaaaaa-aaaa-aaaa-aaaa-000000000003&#39;, &#39;cccccccc-cccc-cccc-cccc-000000000004&#39;),\r\n    (&#39;bbbbbbbb-bbbb-bbbb-bbbb-000000000012&#39;, &#39;aaaaaaaa-aaaa-aaaa-aaaa-000000000004&#39;, &#39;cccccccc-cccc-cccc-cccc-000000000005&#39;),\r\n    (&#39;bbbbbbbb-bbbb-bbbb-bbbb-000000000013&#39;, &#39;aaaaaaaa-aaaa-aaaa-aaaa-000000000004&#39;, &#39;cccccccc-cccc-cccc-cccc-000000000006&#39;),\r\n    (&#39;bbbbbbbb-bbbb-bbbb-bbbb-000000000014&#39;, &#39;aaaaaaaa-aaaa-aaaa-aaaa-000000000004&#39;, &#39;cccccccc-cccc-cccc-cccc-000000000000&#39;),\r\n    (&#39;bbbbbbbb-bbbb-bbbb-bbbb-000000000015&#39;, &#39;aaaaaaaa-aaaa-aaaa-aaaa-000000000000&#39;, &#39;cccccccc-cccc-cccc-cccc-000000000001&#39;),\r\n    (&#39;bbbbbbbb-bbbb-bbbb-bbbb-000000000016&#39;, &#39;aaaaaaaa-aaaa-aaaa-aaaa-000000000001&#39;, &#39;cccccccc-cccc-cccc-cccc-000000000002&#39;),\r\n    (&#39;bbbbbbbb-bbbb-bbbb-bbbb-000000000017&#39;, &#39;aaaaaaaa-aaaa-aaaa-aaaa-000000000002&#39;, &#39;cccccccc-cccc-cccc-cccc-000000000003&#39;);\r\n    \r\nUnique id_a entries are numbered via this intermediate select:\r\n\r\n    select id,id_a,id_c,ROW_NUMBER() \r\n      over (partition by id_a order by id_a) as rowNumber \r\n      from B as aggregate;\r\n\r\nResult:\r\n\r\n                      id                  |                 id_a                 |                 id_c                 | rownumber \r\n    --------------------------------------+--------------------------------------+--------------------------------------+-----------\r\n     bbbbbbbb-bbbb-bbbb-bbbb-000000000000 | aaaaaaaa-aaaa-aaaa-aaaa-000000000000 | cccccccc-cccc-cccc-cccc-000000000000 |         1\r\n     bbbbbbbb-bbbb-bbbb-bbbb-000000000015 | aaaaaaaa-aaaa-aaaa-aaaa-000000000000 | cccccccc-cccc-cccc-cccc-000000000001 |         2\r\n     bbbbbbbb-bbbb-bbbb-bbbb-000000000001 | aaaaaaaa-aaaa-aaaa-aaaa-000000000000 | cccccccc-cccc-cccc-cccc-000000000001 |         3\r\n     bbbbbbbb-bbbb-bbbb-bbbb-000000000002 | aaaaaaaa-aaaa-aaaa-aaaa-000000000000 | cccccccc-cccc-cccc-cccc-000000000002 |         4\r\n     bbbbbbbb-bbbb-bbbb-bbbb-000000000004 | aaaaaaaa-aaaa-aaaa-aaaa-000000000001 | cccccccc-cccc-cccc-cccc-000000000004 |         1\r\n     bbbbbbbb-bbbb-bbbb-bbbb-000000000016 | aaaaaaaa-aaaa-aaaa-aaaa-000000000001 | cccccccc-cccc-cccc-cccc-000000000002 |         2\r\n     bbbbbbbb-bbbb-bbbb-bbbb-000000000003 | aaaaaaaa-aaaa-aaaa-aaaa-000000000001 | cccccccc-cccc-cccc-cccc-000000000003 |         3\r\n     bbbbbbbb-bbbb-bbbb-bbbb-000000000005 | aaaaaaaa-aaaa-aaaa-aaaa-000000000001 | cccccccc-cccc-cccc-cccc-000000000005 |         4\r\n     bbbbbbbb-bbbb-bbbb-bbbb-000000000017 | aaaaaaaa-aaaa-aaaa-aaaa-000000000002 | cccccccc-cccc-cccc-cccc-000000000003 |         1\r\n     bbbbbbbb-bbbb-bbbb-bbbb-000000000006 | aaaaaaaa-aaaa-aaaa-aaaa-000000000002 | cccccccc-cccc-cccc-cccc-000000000006 |         2\r\n     bbbbbbbb-bbbb-bbbb-bbbb-000000000007 | aaaaaaaa-aaaa-aaaa-aaaa-000000000002 | cccccccc-cccc-cccc-cccc-000000000000 |         3\r\n     bbbbbbbb-bbbb-bbbb-bbbb-000000000008 | aaaaaaaa-aaaa-aaaa-aaaa-000000000002 | cccccccc-cccc-cccc-cccc-000000000001 |         4\r\n     bbbbbbbb-bbbb-bbbb-bbbb-000000000011 | aaaaaaaa-aaaa-aaaa-aaaa-000000000003 | cccccccc-cccc-cccc-cccc-000000000004 |         1\r\n     bbbbbbbb-bbbb-bbbb-bbbb-000000000010 | aaaaaaaa-aaaa-aaaa-aaaa-000000000003 | cccccccc-cccc-cccc-cccc-000000000003 |         2\r\n     bbbbbbbb-bbbb-bbbb-bbbb-000000000009 | aaaaaaaa-aaaa-aaaa-aaaa-000000000003 | cccccccc-cccc-cccc-cccc-000000000002 |         3\r\n     bbbbbbbb-bbbb-bbbb-bbbb-000000000012 | aaaaaaaa-aaaa-aaaa-aaaa-000000000004 | cccccccc-cccc-cccc-cccc-000000000005 |         1\r\n     bbbbbbbb-bbbb-bbbb-bbbb-000000000013 | aaaaaaaa-aaaa-aaaa-aaaa-000000000004 | cccccccc-cccc-cccc-cccc-000000000006 |         2\r\n     bbbbbbbb-bbbb-bbbb-bbbb-000000000014 | aaaaaaaa-aaaa-aaaa-aaaa-000000000004 | cccccccc-cccc-cccc-cccc-000000000000 |         3\r\n    (18 rows)\r\n\r\n    \r\nWe can now obtain only the first C entry associated to a A entry by selecting only entries with rowNumber=1:\r\n\r\n    select * \r\n      from (\r\n        select id,id_a,id_c,ROW_NUMBER() \r\n        over (partition by id_a order by id_a) as rowNumber from B) \r\n      as aggregate \r\n      where aggregate.rowNumber=1;\r\n    \r\nResult:\r\n\r\n                      id                  |                 id_a                 |                 id_c                 | rownumber \r\n    --------------------------------------+--------------------------------------+--------------------------------------+-----------\r\n     bbbbbbbb-bbbb-bbbb-bbbb-000000000000 | aaaaaaaa-aaaa-aaaa-aaaa-000000000000 | cccccccc-cccc-cccc-cccc-000000000000 |         1\r\n     bbbbbbbb-bbbb-bbbb-bbbb-000000000004 | aaaaaaaa-aaaa-aaaa-aaaa-000000000001 | cccccccc-cccc-cccc-cccc-000000000004 |         1\r\n     bbbbbbbb-bbbb-bbbb-bbbb-000000000017 | aaaaaaaa-aaaa-aaaa-aaaa-000000000002 | cccccccc-cccc-cccc-cccc-000000000003 |         1\r\n     bbbbbbbb-bbbb-bbbb-bbbb-000000000011 | aaaaaaaa-aaaa-aaaa-aaaa-000000000003 | cccccccc-cccc-cccc-cccc-000000000004 |         1\r\n     bbbbbbbb-bbbb-bbbb-bbbb-000000000012 | aaaaaaaa-aaaa-aaaa-aaaa-000000000004 | cccccccc-cccc-cccc-cccc-000000000005 |         1\r\n    (5 rows)\r\n\r\nBy joining C it is now possible to sort by lastname:\r\n\r\n    select aggregate.id_a,c.lastname \r\n      from (\r\n        select id,id_a,id_c,ROW_NUMBER() \r\n        over (partition by id_a order by id_a) as rowNumber from B) \r\n      as aggregate       \r\n      join C as c on aggregate.id_c=c.id where aggregate.rowNumber=1 \r\n      order by c.lastname;\r\n\r\nResult:\r\n\r\n                     id_a                 | lastname \r\n    --------------------------------------+----------\r\n     aaaaaaaa-aaaa-aaaa-aaaa-000000000004 | C five\r\n     aaaaaaaa-aaaa-aaaa-aaaa-000000000003 | C four\r\n     aaaaaaaa-aaaa-aaaa-aaaa-000000000001 | C four\r\n     aaaaaaaa-aaaa-aaaa-aaaa-000000000002 | C three\r\n     aaaaaaaa-aaaa-aaaa-aaaa-000000000000 | C zero\r\n    (5 rows)\r\n\r\n\r\n(Tested with Postgres 14.3)\r\n\r\n","title":"org.hibernate.QueryException: illegal attempt to dereference collection in order by clause","body":"<p>I used the following tables to test one possible solution for your problem further below</p>\n<pre><code>create table A (\n    id UUID\n);\n\ncreate table B ( \n    id UUID,\n    id_a UUID,\n    id_c UUID\n);\n\ncreate table C (\n    id UUID,\n    lastname varchar(63)\n);\n\ninsert into A values \n('aaaaaaaa-aaaa-aaaa-aaaa-000000000000'),\n('aaaaaaaa-aaaa-aaaa-aaaa-000000000001'),\n('aaaaaaaa-aaaa-aaaa-aaaa-000000000002'),\n('aaaaaaaa-aaaa-aaaa-aaaa-000000000003'),\n('aaaaaaaa-aaaa-aaaa-aaaa-000000000004');\n\ninsert into C values \n('cccccccc-cccc-cccc-cccc-000000000000', 'C zero'),\n('cccccccc-cccc-cccc-cccc-000000000001', 'C one'),\n('cccccccc-cccc-cccc-cccc-000000000002', 'C two'),\n('cccccccc-cccc-cccc-cccc-000000000003', 'C three'),\n('cccccccc-cccc-cccc-cccc-000000000004', 'C four'),\n('cccccccc-cccc-cccc-cccc-000000000005', 'C five'),\n('cccccccc-cccc-cccc-cccc-000000000006', 'C six');\n\ninsert into B values \n('bbbbbbbb-bbbb-bbbb-bbbb-000000000000', 'aaaaaaaa-aaaa-aaaa-aaaa-000000000000', 'cccccccc-cccc-cccc-cccc-000000000000'),\n('bbbbbbbb-bbbb-bbbb-bbbb-000000000001', 'aaaaaaaa-aaaa-aaaa-aaaa-000000000000', 'cccccccc-cccc-cccc-cccc-000000000001'),\n('bbbbbbbb-bbbb-bbbb-bbbb-000000000002', 'aaaaaaaa-aaaa-aaaa-aaaa-000000000000', 'cccccccc-cccc-cccc-cccc-000000000002'),\n('bbbbbbbb-bbbb-bbbb-bbbb-000000000003', 'aaaaaaaa-aaaa-aaaa-aaaa-000000000001', 'cccccccc-cccc-cccc-cccc-000000000003'),\n('bbbbbbbb-bbbb-bbbb-bbbb-000000000004', 'aaaaaaaa-aaaa-aaaa-aaaa-000000000001', 'cccccccc-cccc-cccc-cccc-000000000004'),\n('bbbbbbbb-bbbb-bbbb-bbbb-000000000005', 'aaaaaaaa-aaaa-aaaa-aaaa-000000000001', 'cccccccc-cccc-cccc-cccc-000000000005'),\n('bbbbbbbb-bbbb-bbbb-bbbb-000000000006', 'aaaaaaaa-aaaa-aaaa-aaaa-000000000002', 'cccccccc-cccc-cccc-cccc-000000000006'),\n('bbbbbbbb-bbbb-bbbb-bbbb-000000000007', 'aaaaaaaa-aaaa-aaaa-aaaa-000000000002', 'cccccccc-cccc-cccc-cccc-000000000000'),\n('bbbbbbbb-bbbb-bbbb-bbbb-000000000008', 'aaaaaaaa-aaaa-aaaa-aaaa-000000000002', 'cccccccc-cccc-cccc-cccc-000000000001'),\n('bbbbbbbb-bbbb-bbbb-bbbb-000000000009', 'aaaaaaaa-aaaa-aaaa-aaaa-000000000003', 'cccccccc-cccc-cccc-cccc-000000000002'),\n('bbbbbbbb-bbbb-bbbb-bbbb-000000000010', 'aaaaaaaa-aaaa-aaaa-aaaa-000000000003', 'cccccccc-cccc-cccc-cccc-000000000003'),\n('bbbbbbbb-bbbb-bbbb-bbbb-000000000011', 'aaaaaaaa-aaaa-aaaa-aaaa-000000000003', 'cccccccc-cccc-cccc-cccc-000000000004'),\n('bbbbbbbb-bbbb-bbbb-bbbb-000000000012', 'aaaaaaaa-aaaa-aaaa-aaaa-000000000004', 'cccccccc-cccc-cccc-cccc-000000000005'),\n('bbbbbbbb-bbbb-bbbb-bbbb-000000000013', 'aaaaaaaa-aaaa-aaaa-aaaa-000000000004', 'cccccccc-cccc-cccc-cccc-000000000006'),\n('bbbbbbbb-bbbb-bbbb-bbbb-000000000014', 'aaaaaaaa-aaaa-aaaa-aaaa-000000000004', 'cccccccc-cccc-cccc-cccc-000000000000'),\n('bbbbbbbb-bbbb-bbbb-bbbb-000000000015', 'aaaaaaaa-aaaa-aaaa-aaaa-000000000000', 'cccccccc-cccc-cccc-cccc-000000000001'),\n('bbbbbbbb-bbbb-bbbb-bbbb-000000000016', 'aaaaaaaa-aaaa-aaaa-aaaa-000000000001', 'cccccccc-cccc-cccc-cccc-000000000002'),\n('bbbbbbbb-bbbb-bbbb-bbbb-000000000017', 'aaaaaaaa-aaaa-aaaa-aaaa-000000000002', 'cccccccc-cccc-cccc-cccc-000000000003');\n</code></pre>\n<p>Unique id_a entries are numbered via this intermediate select:</p>\n<pre><code>select id,id_a,id_c,ROW_NUMBER() \n  over (partition by id_a order by id_a) as rowNumber \n  from B as aggregate;\n</code></pre>\n<p>Result:</p>\n<pre><code>                  id                  |                 id_a                 |                 id_c                 | rownumber \n--------------------------------------+--------------------------------------+--------------------------------------+-----------\n bbbbbbbb-bbbb-bbbb-bbbb-000000000000 | aaaaaaaa-aaaa-aaaa-aaaa-000000000000 | cccccccc-cccc-cccc-cccc-000000000000 |         1\n bbbbbbbb-bbbb-bbbb-bbbb-000000000015 | aaaaaaaa-aaaa-aaaa-aaaa-000000000000 | cccccccc-cccc-cccc-cccc-000000000001 |         2\n bbbbbbbb-bbbb-bbbb-bbbb-000000000001 | aaaaaaaa-aaaa-aaaa-aaaa-000000000000 | cccccccc-cccc-cccc-cccc-000000000001 |         3\n bbbbbbbb-bbbb-bbbb-bbbb-000000000002 | aaaaaaaa-aaaa-aaaa-aaaa-000000000000 | cccccccc-cccc-cccc-cccc-000000000002 |         4\n bbbbbbbb-bbbb-bbbb-bbbb-000000000004 | aaaaaaaa-aaaa-aaaa-aaaa-000000000001 | cccccccc-cccc-cccc-cccc-000000000004 |         1\n bbbbbbbb-bbbb-bbbb-bbbb-000000000016 | aaaaaaaa-aaaa-aaaa-aaaa-000000000001 | cccccccc-cccc-cccc-cccc-000000000002 |         2\n bbbbbbbb-bbbb-bbbb-bbbb-000000000003 | aaaaaaaa-aaaa-aaaa-aaaa-000000000001 | cccccccc-cccc-cccc-cccc-000000000003 |         3\n bbbbbbbb-bbbb-bbbb-bbbb-000000000005 | aaaaaaaa-aaaa-aaaa-aaaa-000000000001 | cccccccc-cccc-cccc-cccc-000000000005 |         4\n bbbbbbbb-bbbb-bbbb-bbbb-000000000017 | aaaaaaaa-aaaa-aaaa-aaaa-000000000002 | cccccccc-cccc-cccc-cccc-000000000003 |         1\n bbbbbbbb-bbbb-bbbb-bbbb-000000000006 | aaaaaaaa-aaaa-aaaa-aaaa-000000000002 | cccccccc-cccc-cccc-cccc-000000000006 |         2\n bbbbbbbb-bbbb-bbbb-bbbb-000000000007 | aaaaaaaa-aaaa-aaaa-aaaa-000000000002 | cccccccc-cccc-cccc-cccc-000000000000 |         3\n bbbbbbbb-bbbb-bbbb-bbbb-000000000008 | aaaaaaaa-aaaa-aaaa-aaaa-000000000002 | cccccccc-cccc-cccc-cccc-000000000001 |         4\n bbbbbbbb-bbbb-bbbb-bbbb-000000000011 | aaaaaaaa-aaaa-aaaa-aaaa-000000000003 | cccccccc-cccc-cccc-cccc-000000000004 |         1\n bbbbbbbb-bbbb-bbbb-bbbb-000000000010 | aaaaaaaa-aaaa-aaaa-aaaa-000000000003 | cccccccc-cccc-cccc-cccc-000000000003 |         2\n bbbbbbbb-bbbb-bbbb-bbbb-000000000009 | aaaaaaaa-aaaa-aaaa-aaaa-000000000003 | cccccccc-cccc-cccc-cccc-000000000002 |         3\n bbbbbbbb-bbbb-bbbb-bbbb-000000000012 | aaaaaaaa-aaaa-aaaa-aaaa-000000000004 | cccccccc-cccc-cccc-cccc-000000000005 |         1\n bbbbbbbb-bbbb-bbbb-bbbb-000000000013 | aaaaaaaa-aaaa-aaaa-aaaa-000000000004 | cccccccc-cccc-cccc-cccc-000000000006 |         2\n bbbbbbbb-bbbb-bbbb-bbbb-000000000014 | aaaaaaaa-aaaa-aaaa-aaaa-000000000004 | cccccccc-cccc-cccc-cccc-000000000000 |         3\n(18 rows)\n</code></pre>\n<p>We can now obtain only the first C entry associated to a A entry by selecting only entries with rowNumber=1:</p>\n<pre><code>select * \n  from (\n    select id,id_a,id_c,ROW_NUMBER() \n    over (partition by id_a order by id_a) as rowNumber from B) \n  as aggregate \n  where aggregate.rowNumber=1;\n</code></pre>\n<p>Result:</p>\n<pre><code>                  id                  |                 id_a                 |                 id_c                 | rownumber \n--------------------------------------+--------------------------------------+--------------------------------------+-----------\n bbbbbbbb-bbbb-bbbb-bbbb-000000000000 | aaaaaaaa-aaaa-aaaa-aaaa-000000000000 | cccccccc-cccc-cccc-cccc-000000000000 |         1\n bbbbbbbb-bbbb-bbbb-bbbb-000000000004 | aaaaaaaa-aaaa-aaaa-aaaa-000000000001 | cccccccc-cccc-cccc-cccc-000000000004 |         1\n bbbbbbbb-bbbb-bbbb-bbbb-000000000017 | aaaaaaaa-aaaa-aaaa-aaaa-000000000002 | cccccccc-cccc-cccc-cccc-000000000003 |         1\n bbbbbbbb-bbbb-bbbb-bbbb-000000000011 | aaaaaaaa-aaaa-aaaa-aaaa-000000000003 | cccccccc-cccc-cccc-cccc-000000000004 |         1\n bbbbbbbb-bbbb-bbbb-bbbb-000000000012 | aaaaaaaa-aaaa-aaaa-aaaa-000000000004 | cccccccc-cccc-cccc-cccc-000000000005 |         1\n(5 rows)\n</code></pre>\n<p>By joining C it is now possible to sort by lastname:</p>\n<pre><code>select aggregate.id_a,c.lastname \n  from (\n    select id,id_a,id_c,ROW_NUMBER() \n    over (partition by id_a order by id_a) as rowNumber from B) \n  as aggregate       \n  join C as c on aggregate.id_c=c.id where aggregate.rowNumber=1 \n  order by c.lastname;\n</code></pre>\n<p>Result:</p>\n<pre><code>                 id_a                 | lastname \n--------------------------------------+----------\n aaaaaaaa-aaaa-aaaa-aaaa-000000000004 | C five\n aaaaaaaa-aaaa-aaaa-aaaa-000000000003 | C four\n aaaaaaaa-aaaa-aaaa-aaaa-000000000001 | C four\n aaaaaaaa-aaaa-aaaa-aaaa-000000000002 | C three\n aaaaaaaa-aaaa-aaaa-aaaa-000000000000 | C zero\n(5 rows)\n</code></pre>\n<p>(Tested with Postgres 14.3)</p>\n"}],"owner":{"account_id":19064371,"reputation":441,"user_id":13919748,"display_name":"javaistaucheineinsel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73909188,"answer_count":1,"score":0,"last_activity_date":1664542795,"creation_date":1664411613,"question_id":73889085,"body_markdown":"I am trying to implement a simple HQL query of all objects of type `A` ordered by the following predicate :\r\n\r\n    a.getListB().get(0).getC().getLastname()\r\n\r\nI tried the following HQL query :\r\n\r\n    select a_ from A a_ order by a_.listB.c.lastname\r\n\r\nBut I am getting the following exception :\r\n\r\n    org.hibernate.QueryException: illegal attempt to dereference collection\r\n\r\nI have tried the following SQL query but I am getting inconsistent results :\r\n\r\n    select a.* from A a\r\n    left outer join B b on b.a_id=a.id\r\n    left outer join C c on b.uploaded_from=c.id\r\n    order by c.lastname=(select c_.lastname from A a_ \r\n    left outer join B b_ on b_.a_id=a_.id\r\n    left outer join C c_ on b_.uploaded_from=c_.id \r\n    where a.id=a_.id limit 1) asc;\r\n\r\n\r\nCode snipet :\r\n\r\n    @Entity\r\n    @Table(name = &quot;A&quot;)\r\n    pubic class A {\r\n      private int id;\r\n      private List&lt;B&gt; listB;\r\n    \r\n      @Id\r\n      @GeneratedValue(strategy = IDENTITY)\r\n      @Column(name = &quot;id&quot;, unique = true, nullable = false)\r\n      public Integer getId() {\r\n        return this.id;\r\n      }\r\n    \r\n      @OrderBy(clause = &quot;id&quot;)\r\n      @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;a&quot;)\r\n      public List&lt;B&gt; getListB() {\r\n    \treturn this.listB;\r\n      }\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;B&quot;)\r\n    pubic class B {\r\n      private int id;\r\n      private A a;\r\n      private C c;\r\n    \r\n      @Id\r\n      @GeneratedValue(strategy = IDENTITY)\r\n      @Column(name = &quot;id&quot;, unique = true, nullable = false)\r\n      public Integer getId() {\r\n        return this.id;\r\n      }\r\n\r\n      @ManyToOne(fetch = FetchType.LAZY)\r\n      @JoinColumn(name = &quot;a_id&quot;, nullable = false)\r\n      public A getA() {\r\n        return this.a;\r\n      }\r\n      \r\n      @ManyToOne(fetch = FetchType.LAZY)\r\n      @JoinColumn(name = &quot;uploaded_from&quot;, nullable = false)\r\n      public C getC() {\r\n        return this.c;\r\n      }\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;C&quot;)\r\n    pubic class C {\r\n      private int id;\r\n      private String lastname;\r\n    \r\n      @Id\r\n      @GeneratedValue(strategy = IDENTITY)\r\n      @Column(name = &quot;id&quot;, unique = true, nullable = false)\r\n      public Integer getId() {\r\n        return this.id;\r\n      }\r\n    \r\n      @Column(name = &quot;lastname&quot;)\r\n      public String getLastname() {\r\n         return this.lastname;\r\n      }\r\n    }\r\n\r\n\r\nAny hints how can I work around this problem please either in HQL, Criteria or even native SQL?","title":"org.hibernate.QueryException: illegal attempt to dereference collection in order by clause","body":"<p>I am trying to implement a simple HQL query of all objects of type <code>A</code> ordered by the following predicate :</p>\n<pre><code>a.getListB().get(0).getC().getLastname()\n</code></pre>\n<p>I tried the following HQL query :</p>\n<pre><code>select a_ from A a_ order by a_.listB.c.lastname\n</code></pre>\n<p>But I am getting the following exception :</p>\n<pre><code>org.hibernate.QueryException: illegal attempt to dereference collection\n</code></pre>\n<p>I have tried the following SQL query but I am getting inconsistent results :</p>\n<pre><code>select a.* from A a\nleft outer join B b on b.a_id=a.id\nleft outer join C c on b.uploaded_from=c.id\norder by c.lastname=(select c_.lastname from A a_ \nleft outer join B b_ on b_.a_id=a_.id\nleft outer join C c_ on b_.uploaded_from=c_.id \nwhere a.id=a_.id limit 1) asc;\n</code></pre>\n<p>Code snipet :</p>\n<pre><code>@Entity\n@Table(name = &quot;A&quot;)\npubic class A {\n  private int id;\n  private List&lt;B&gt; listB;\n\n  @Id\n  @GeneratedValue(strategy = IDENTITY)\n  @Column(name = &quot;id&quot;, unique = true, nullable = false)\n  public Integer getId() {\n    return this.id;\n  }\n\n  @OrderBy(clause = &quot;id&quot;)\n  @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;a&quot;)\n  public List&lt;B&gt; getListB() {\n    return this.listB;\n  }\n}\n\n@Entity\n@Table(name = &quot;B&quot;)\npubic class B {\n  private int id;\n  private A a;\n  private C c;\n\n  @Id\n  @GeneratedValue(strategy = IDENTITY)\n  @Column(name = &quot;id&quot;, unique = true, nullable = false)\n  public Integer getId() {\n    return this.id;\n  }\n\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;a_id&quot;, nullable = false)\n  public A getA() {\n    return this.a;\n  }\n  \n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;uploaded_from&quot;, nullable = false)\n  public C getC() {\n    return this.c;\n  }\n}\n\n@Entity\n@Table(name = &quot;C&quot;)\npubic class C {\n  private int id;\n  private String lastname;\n\n  @Id\n  @GeneratedValue(strategy = IDENTITY)\n  @Column(name = &quot;id&quot;, unique = true, nullable = false)\n  public Integer getId() {\n    return this.id;\n  }\n\n  @Column(name = &quot;lastname&quot;)\n  public String getLastname() {\n     return this.lastname;\n  }\n}\n</code></pre>\n<p>Any hints how can I work around this problem please either in HQL, Criteria or even native SQL?</p>\n"},{"tags":["java","android","alarmmanager","android-alarms","repeatingalarm"],"comments":[{"owner":{"account_id":16939345,"reputation":91,"user_id":12251590,"display_name":"CodeX"},"score":0,"creation_date":1656324771,"post_id":71005818,"comment_id":128535498,"body_markdown":"Have you found solution?","body":"Have you found solution?"}],"answers":[{"tags":[],"owner":{"account_id":11101758,"reputation":1,"user_id":8150234,"display_name":"slaski63"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664542520,"creation_date":1664542412,"answer_id":73909100,"question_id":71005818,"body_markdown":"Probably you have to cancel previous alarm when you receive message in AlarmReceiver. I had the same problem and if i receive message from previous alarm i cancel it and then i can create new one. \r\n\r\n   \r\n \r\n\r\n    private void cancelAlarm(){  \r\n            Intent intent = new Intent(this, AlarmReceiver.class);    \r\n            PendingIntent pendingIntent;\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n                pendingIntent = PendingIntent.getBroadcast(MainActivity.this, 1, intent,\r\n                        PendingIntent.FLAG_IMMUTABLE | PendingIntent.FLAG_UPDATE_CURRENT);\r\n            } else {\r\n                pendingIntent = PendingIntent.getBroadcast(MainActivity.this, 1, intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n            }\r\n            AlarmManager alarm = (AlarmManager)getSystemService(Context.ALARM_SERVICE);\r\n            alarm.cancel(pintent);\r\n            pintent.cancel();\r\n       }\r\n\r\n\r\n\r\n","title":"How to set alarm for every 10 minutes in Android Application in 9 and 12?","body":"<p>Probably you have to cancel previous alarm when you receive message in AlarmReceiver. I had the same problem and if i receive message from previous alarm i cancel it and then i can create new one.</p>\n<pre><code>private void cancelAlarm(){  \n        Intent intent = new Intent(this, AlarmReceiver.class);    \n        PendingIntent pendingIntent;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n            pendingIntent = PendingIntent.getBroadcast(MainActivity.this, 1, intent,\n                    PendingIntent.FLAG_IMMUTABLE | PendingIntent.FLAG_UPDATE_CURRENT);\n        } else {\n            pendingIntent = PendingIntent.getBroadcast(MainActivity.this, 1, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n        }\n        AlarmManager alarm = (AlarmManager)getSystemService(Context.ALARM_SERVICE);\n        alarm.cancel(pintent);\n        pintent.cancel();\n   }\n</code></pre>\n"}],"owner":{"account_id":19753670,"reputation":105,"user_id":14464475,"display_name":"froniq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":839,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664542520,"creation_date":1644139859,"question_id":71005818,"body_markdown":"I would like to set a repeating alarm, in android 8 or 9 it works.\r\nThe question is how to set it to work it in 12 working parallel with android 8?\r\n\r\nThis is in the main activity, I set a startAlarm, and there is the missing part how to set the alarm in the case of sdk &gt;= 31. When I start android to test it sends a notification at the beginning of the application but it do not send notification later.\r\n  \r\nMainActivity.java:\r\n\r\n     private void startAlarm(long when) {\r\n            AlarmManager alarmManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\r\n    \r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n                if (alarmManager.canScheduleExactAlarms()) {\r\n                    Log.e(TAG, &quot;startAlarm: canScheduleExactAlarms&quot;);\r\n                }\r\n            }\r\n    \r\n            Intent intent = new Intent(this, AlarmReceiver.class);\r\n    \r\n            PendingIntent pendingIntent;\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n                pendingIntent = PendingIntent.getBroadcast(MainActivity.this, 1, intent,\r\n                        PendingIntent.FLAG_IMMUTABLE | PendingIntent.FLAG_UPDATE_CURRENT);\r\n            } else {\r\n                pendingIntent = PendingIntent.getBroadcast(MainActivity.this, 1, intent, 0);\r\n            }\r\n    \r\n    \r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M){\r\n                alarmManager.setExactAndAllowWhileIdle(\r\n                        AlarmManager.RTC_WAKEUP,\r\n                        when*1000,\r\n                        pendingIntent\r\n                );\r\n            } else {\r\n                alarmManager.setExact(\r\n                        AlarmManager.RTC_WAKEUP,\r\n                        when*1000,\r\n                        pendingIntent\r\n                );\r\n    \r\n    \r\n            }\r\n        }\r\n\r\nI set AlarmReceiver to send notification.\r\nAlarmReceiver:\r\n\r\n    public class AlarmReceiver extends BroadcastReceiver {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            NotificationHelper notificationHelper = new NotificationHelper(context);\r\n            NotificationCompat.Builder nb = notificationHelper.getChannelNotification();\r\n            notificationHelper.getManager().notify(1, nb.build());\r\n            long timeInSec = System.currentTimeMillis() / 1000;\r\n            Settings.setLastNotificationSent(timeInSec, context);\r\n        }\r\n    }\r\n\r\nI set the permission in the manifest.\r\nAndroidManifest: \r\n\r\n    &lt;uses-permission android:name=&quot;com.android.alarm.permission.SET_ALARM&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot;/&gt;\r\n\r\n     &lt;receiver android:name=&quot;.receiver.AlarmReceiver&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:enabled=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/receiver&gt;\r\n","title":"How to set alarm for every 10 minutes in Android Application in 9 and 12?","body":"<p>I would like to set a repeating alarm, in android 8 or 9 it works.\nThe question is how to set it to work it in 12 working parallel with android 8?</p>\n<p>This is in the main activity, I set a startAlarm, and there is the missing part how to set the alarm in the case of sdk &gt;= 31. When I start android to test it sends a notification at the beginning of the application but it do not send notification later.</p>\n<p>MainActivity.java:</p>\n<pre><code> private void startAlarm(long when) {\n        AlarmManager alarmManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n            if (alarmManager.canScheduleExactAlarms()) {\n                Log.e(TAG, &quot;startAlarm: canScheduleExactAlarms&quot;);\n            }\n        }\n\n        Intent intent = new Intent(this, AlarmReceiver.class);\n\n        PendingIntent pendingIntent;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n            pendingIntent = PendingIntent.getBroadcast(MainActivity.this, 1, intent,\n                    PendingIntent.FLAG_IMMUTABLE | PendingIntent.FLAG_UPDATE_CURRENT);\n        } else {\n            pendingIntent = PendingIntent.getBroadcast(MainActivity.this, 1, intent, 0);\n        }\n\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M){\n            alarmManager.setExactAndAllowWhileIdle(\n                    AlarmManager.RTC_WAKEUP,\n                    when*1000,\n                    pendingIntent\n            );\n        } else {\n            alarmManager.setExact(\n                    AlarmManager.RTC_WAKEUP,\n                    when*1000,\n                    pendingIntent\n            );\n\n\n        }\n    }\n</code></pre>\n<p>I set AlarmReceiver to send notification.\nAlarmReceiver:</p>\n<pre><code>public class AlarmReceiver extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        NotificationHelper notificationHelper = new NotificationHelper(context);\n        NotificationCompat.Builder nb = notificationHelper.getChannelNotification();\n        notificationHelper.getManager().notify(1, nb.build());\n        long timeInSec = System.currentTimeMillis() / 1000;\n        Settings.setLastNotificationSent(timeInSec, context);\n    }\n}\n</code></pre>\n<p>I set the permission in the manifest.\nAndroidManifest:</p>\n<pre><code>&lt;uses-permission android:name=&quot;com.android.alarm.permission.SET_ALARM&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot;/&gt;\n\n &lt;receiver android:name=&quot;.receiver.AlarmReceiver&quot;\n            android:exported=&quot;true&quot;\n            android:enabled=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate-search"],"answers":[{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664542505,"creation_date":1664538208,"answer_id":73908210,"question_id":73906910,"body_markdown":"First, a warning: you&#39;d probably want to consider cleaning up associations upon soft-deletion of a role (remove the role from users), because this situation is likely to affect other parts of your application.\r\n\r\nWith that out of the way, here&#39;s a more useful answer...\r\n\r\n---\r\n\r\nNo, `RoutingBridge` won&#39;t help here.\r\n\r\nThere&#39;s no built-in feature for what you&#39;re trying to achieve ([yet](https://hibernate.atlassian.net/browse/HSEARCH-1887)).\r\n\r\nThe simplest solution I can think of is adding a &quot;derived&quot; getter that does the filtering.\r\n\r\n```java\r\n@Entity\r\n@Indexed\r\npublic class User{\r\n  @FullTextField\r\n  private String name;\r\n  @ManyToMany\r\n  private List&lt;Role&gt; roles;\r\n\r\n\r\n  @javax.persistence.Transient\r\n  @IndexedEmbedded(name = &quot;roles&quot;)\r\n  // Tell Hibernate Search that changing the status of a Role might\r\n  // require reindexing\r\n  @IndexingDependency(derivedFrom = @ObjectPath( \r\n      @PropertyValue(propertyName = &quot;roles&quot;), @PropertyValue(propertyName = &quot;status&quot;)\r\n  ))\r\n  // Tell Hibernate Search how to find users to reindex\r\n  // when a Role changes (its name or status)\r\n  @AssociationInverseSide(inversePath = @ObjectPath(\r\n      @PropertyValue(propertyName = &quot;users&quot;)\r\n  ))\r\n  public List&lt;Role&gt; getNonDeletedRoles() {\r\n    return roles.stream().filter(r -&gt; !&quot;DELETED&quot;.equals(r.getStatus()))\r\n        .collect(Collectors.toList());\r\n  }\r\n}\r\n\r\n@Entity\r\npublic class Role{\r\n  @FullTextField\r\n  private String name;\r\n  private String status;\r\n  // You will need this!\r\n  @ManyToMany(mappedBy = &quot;roles&quot;)\r\n  private List&lt;User&gt; users;\r\n}\r\n```\r\n\r\nIf for some reason you cannot afford to model the association Role =&gt; User, you will have to give up on reindexing users when a role changes:\r\n\r\n```java\r\n@Entity\r\n@Indexed\r\npublic class User{\r\n  @FullTextField\r\n  private String name;\r\n  @ManyToMany\r\n  private List&lt;Role&gt; roles;\r\n\r\n  @javax.persistence.Transient\r\n  @IndexedEmbedded(name = &quot;roles&quot;)\r\n  @IndexingDependency(reindexOnUpdate = ReindexOnUpdate.SHALLOW,\r\n      derivedFrom = @ObjectPath(@PropertyValue(propertyName = &quot;roles&quot;)))\r\n  public List&lt;Role&gt; getNonDeletedRoles() {\r\n    return roles.stream().filter(r -&gt; !&quot;DELETED&quot;.equals(r.getStatus()))\r\n        .collect(Collectors.toList());\r\n  }\r\n}\r\n\r\n@Entity\r\npublic class Role{\r\n  @FullTextField\r\n  private String name;\r\n  private String status;\r\n}\r\n```\r\n","title":"Filter IndexedEmbedded entity in hiberenate search 6","body":"<p>First, a warning: you'd probably want to consider cleaning up associations upon soft-deletion of a role (remove the role from users), because this situation is likely to affect other parts of your application.</p>\n<p>With that out of the way, here's a more useful answer...</p>\n<hr />\n<p>No, <code>RoutingBridge</code> won't help here.</p>\n<p>There's no built-in feature for what you're trying to achieve (<a href=\"https://hibernate.atlassian.net/browse/HSEARCH-1887\" rel=\"nofollow noreferrer\">yet</a>).</p>\n<p>The simplest solution I can think of is adding a &quot;derived&quot; getter that does the filtering.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Indexed\npublic class User{\n  @FullTextField\n  private String name;\n  @ManyToMany\n  private List&lt;Role&gt; roles;\n\n\n  @javax.persistence.Transient\n  @IndexedEmbedded(name = &quot;roles&quot;)\n  // Tell Hibernate Search that changing the status of a Role might\n  // require reindexing\n  @IndexingDependency(derivedFrom = @ObjectPath( \n      @PropertyValue(propertyName = &quot;roles&quot;), @PropertyValue(propertyName = &quot;status&quot;)\n  ))\n  // Tell Hibernate Search how to find users to reindex\n  // when a Role changes (its name or status)\n  @AssociationInverseSide(inversePath = @ObjectPath(\n      @PropertyValue(propertyName = &quot;users&quot;)\n  ))\n  public List&lt;Role&gt; getNonDeletedRoles() {\n    return roles.stream().filter(r -&gt; !&quot;DELETED&quot;.equals(r.getStatus()))\n        .collect(Collectors.toList());\n  }\n}\n\n@Entity\npublic class Role{\n  @FullTextField\n  private String name;\n  private String status;\n  // You will need this!\n  @ManyToMany(mappedBy = &quot;roles&quot;)\n  private List&lt;User&gt; users;\n}\n</code></pre>\n<p>If for some reason you cannot afford to model the association Role =&gt; User, you will have to give up on reindexing users when a role changes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Indexed\npublic class User{\n  @FullTextField\n  private String name;\n  @ManyToMany\n  private List&lt;Role&gt; roles;\n\n  @javax.persistence.Transient\n  @IndexedEmbedded(name = &quot;roles&quot;)\n  @IndexingDependency(reindexOnUpdate = ReindexOnUpdate.SHALLOW,\n      derivedFrom = @ObjectPath(@PropertyValue(propertyName = &quot;roles&quot;)))\n  public List&lt;Role&gt; getNonDeletedRoles() {\n    return roles.stream().filter(r -&gt; !&quot;DELETED&quot;.equals(r.getStatus()))\n        .collect(Collectors.toList());\n  }\n}\n\n@Entity\npublic class Role{\n  @FullTextField\n  private String name;\n  private String status;\n}\n</code></pre>\n"}],"owner":{"account_id":423576,"reputation":117,"user_id":803052,"display_name":"phingage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73908210,"answer_count":1,"score":0,"last_activity_date":1664542505,"creation_date":1664531393,"question_id":73906910,"body_markdown":"Let&#39;s say i have a Indexed entity User that IndexedEmbedded a list of Entity Role. In that list we have also past Roles (soft deleted), i wanna index User, end limit roles list to only active roles in my index.\r\n\r\nKind of:\r\n\r\n```\r\n@Entity\r\n@Indexed\r\npublic class User{\r\n  @FullTextField\r\n  String name\r\n  @IndexedEmbedded\r\n  List&lt;Role&gt; roles\r\n}\r\n\r\npublic class Role{\r\n  @FullTextField\r\n  String name\r\n  String status //wanna filter status == &quot;DELETED&quot;\r\n}\r\n```\r\n\r\nThere is something like `RoutingBridge` in indexed annotation?","title":"Filter IndexedEmbedded entity in hiberenate search 6","body":"<p>Let's say i have a Indexed entity User that IndexedEmbedded a list of Entity Role. In that list we have also past Roles (soft deleted), i wanna index User, end limit roles list to only active roles in my index.</p>\n<p>Kind of:</p>\n<pre><code>@Entity\n@Indexed\npublic class User{\n  @FullTextField\n  String name\n  @IndexedEmbedded\n  List&lt;Role&gt; roles\n}\n\npublic class Role{\n  @FullTextField\n  String name\n  String status //wanna filter status == &quot;DELETED&quot;\n}\n</code></pre>\n<p>There is something like <code>RoutingBridge</code> in indexed annotation?</p>\n"},{"tags":["java","jvm","open-telemetry"],"comments":[{"owner":{"account_id":4979746,"reputation":106,"user_id":4005091,"display_name":"Gaurang"},"score":0,"creation_date":1662113325,"post_id":73544998,"comment_id":129936004,"body_markdown":"If you are using javaagent you can try with setting `otel.instrumentation.runtime-metrics.enabled` flag to false.\n\nRef: https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/instrumentation/runtime-metrics/javaagent/src/main/java/io/opentelemetry/instrumentation/javaagent/runtimemetrics/RuntimeMetricsInstaller.java","body":"If you are using javaagent you can try with setting <code>otel.instrumentation.runtime-metrics.enabled</code> flag to false.  Ref: <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/instrumentation/runtime-metrics/javaagent/src/main/java/io/opentelemetry/instrumentation/javaagent/runtimemetrics/RuntimeMetricsInstaller.java\" rel=\"nofollow noreferrer\">github.com/open-telemetry/opentelemetry-java-instrumentation&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1664542336,"post_id":73544998,"comment_id":130501729,"body_markdown":"How did you manage to get JVM metrics by default? I don&#39;t get them on the contrary! (Not using the javaagent)","body":"How did you manage to get JVM metrics by default? I don&#39;t get them on the contrary! (Not using the javaagent)"},{"owner":{"account_id":26199959,"reputation":1,"user_id":19880506,"display_name":"Rahul Choudhary"},"score":0,"creation_date":1664814579,"post_id":73544998,"comment_id":130552145,"body_markdown":"@Ga&#235;lJ we are using openTelemetry Java Agent which send JVM Metrics by default to the Metrics Endpoint","body":"@Ga&#235;lJ we are using openTelemetry Java Agent which send JVM Metrics by default to the Metrics Endpoint"}],"owner":{"account_id":26199959,"reputation":1,"user_id":19880506,"display_name":"Rahul Choudhary"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":961,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664542356,"creation_date":1661873396,"question_id":73544998,"body_markdown":"We want to get only custom metrics from open-telemetry, but right now we are getting the default metrics as well related to JVM which we dont want.\r\n\r\nHow can we disable the JVM related metrics in open-telemetry? \r\n\r\nWe are getting like below which we want to disable :\r\n HELP process_runtime_jvm_memory_usage Measure of memory used\r\n TYPE process_runtime_jvm_memory_usage gauge\r\nprocess_runtime_jvm_memory_usage{job=&quot;test&quot;,pool=&quot;CodeHeap &#39;non-nmethods&#39;&quot;,type=&quot;non_heap&quot;} 1.282176e+06","title":"How can we disable Open-telemetry default metrics ex JVM","body":"<p>We want to get only custom metrics from open-telemetry, but right now we are getting the default metrics as well related to JVM which we dont want.</p>\n<p>How can we disable the JVM related metrics in open-telemetry?</p>\n<p>We are getting like below which we want to disable :\nHELP process_runtime_jvm_memory_usage Measure of memory used\nTYPE process_runtime_jvm_memory_usage gauge\nprocess_runtime_jvm_memory_usage{job=&quot;test&quot;,pool=&quot;CodeHeap 'non-nmethods'&quot;,type=&quot;non_heap&quot;} 1.282176e+06</p>\n"},{"tags":["java","continuous-integration","microservices"],"comments":[{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":1,"creation_date":1663941543,"post_id":73828632,"comment_id":130364544,"body_markdown":"Please include the relevant Maven configuration. Based on your error the problem is simple: you&#39;re trying to include an external library that does not exist in the central Maven repository","body":"Please include the relevant Maven configuration. Based on your error the problem is simple: you&#39;re trying to include an external library that does not exist in the central Maven repository"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663945058,"creation_date":1663945058,"answer_id":73829643,"question_id":73828632,"body_markdown":"The Codeobe FAQ says this:\r\n\r\n\r\nHow to install codeobe sdk\r\n--------------------------\r\n\r\nDownload SDK from our website and use following command to install locally\r\n\r\n    mvn install:install-file -Dfile=codeobe_sdk-1.0.0.jar  \\\r\n        -DgroupId=org.susi.integration -DartifactId=codeobe_sdk \r\n        -Dversion=1.0.0 -Dpackaging=jar\r\n\r\nTry it.  If it doesn&#39;t work, reach out to the Codeobe team for clearer instructions on what to do.","title":"Cannot build codeobe integration sample","body":"<p>The Codeobe FAQ says this:</p>\n<h2>How to install codeobe sdk</h2>\n<p>Download SDK from our website and use following command to install locally</p>\n<pre><code>mvn install:install-file -Dfile=codeobe_sdk-1.0.0.jar  \\\n    -DgroupId=org.susi.integration -DartifactId=codeobe_sdk \n    -Dversion=1.0.0 -Dpackaging=jar\n</code></pre>\n<p>Try it.  If it doesn't work, reach out to the Codeobe team for clearer instructions on what to do.</p>\n"},{"tags":[],"owner":{"account_id":13421401,"reputation":21,"user_id":9684018,"display_name":"Gihan Bhawantha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664541792,"creation_date":1664541792,"answer_id":73908975,"question_id":73828632,"body_markdown":"I am from team [Codeobe][1] &amp; [Stephen C][2] is correct. Although we have a slight change. \r\n\r\nPlease use the command as follows.\r\n\r\n    $ mvn install:install-file -Dfile=codeobe-java-sdk.jar -DgroupId=org.codeobe.integration -DartifactId=codeobe-java-sdk -Dversion=1.0.0 -Dpackaging=jar\r\n\r\nYou can follow our official documentation for SDK using this [link][3].\r\n\r\nIf you need more help please feel free to ask it here.\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://www.codeobe.cloud/\r\n  [2]: https://stackoverflow.com/users/139985/stephen-c\r\n  [3]: https://www.codeobe.cloud/docs/using-codeobe-sdk/","title":"Cannot build codeobe integration sample","body":"<p>I am from team <a href=\"https://www.codeobe.cloud/\" rel=\"nofollow noreferrer\">Codeobe</a> &amp; <a href=\"https://stackoverflow.com/users/139985/stephen-c\">Stephen C</a> is correct. Although we have a slight change.</p>\n<p>Please use the command as follows.</p>\n<pre><code>$ mvn install:install-file -Dfile=codeobe-java-sdk.jar -DgroupId=org.codeobe.integration -DartifactId=codeobe-java-sdk -Dversion=1.0.0 -Dpackaging=jar\n</code></pre>\n<p>You can follow our official documentation for SDK using this <a href=\"https://www.codeobe.cloud/docs/using-codeobe-sdk/\" rel=\"nofollow noreferrer\">link</a>.</p>\n<p>If you need more help please feel free to ask it here.</p>\n<p>Thanks</p>\n"}],"owner":{"account_id":26422391,"reputation":1,"user_id":20069879,"display_name":"Daniel Auger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664541792,"creation_date":1663940395,"question_id":73828632,"body_markdown":"I tried to build my own integration project by following codeobe sample found in &lt;a href=&quot;https://github.com/ObageCode/ABCHR/archive/refs/heads/main.zip&quot;&gt;this&lt;/a&gt; repo. However my build fails with following error:\r\n\r\n&gt; [ERROR] Failed to execute goal on project fingerprint_service: Could not\r\n&gt; resolve dependencies for project\r\n&gt; org.daniel.integration:pizza_service:jar:1.0.0: Could not find artifact\r\n&gt; org.codeobe.integration:codeobe-java-sdk:jar:1.0.0 in central\r\n&gt; (https://repo.maven.apache.org/maven2) -&gt; [Help 1]\r\n\r\nCan someone please help, Thanks in advance&lt;br&gt;\r\n\r\n","title":"Cannot build codeobe integration sample","body":"<p>I tried to build my own integration project by following codeobe sample found in <a href=\"https://github.com/ObageCode/ABCHR/archive/refs/heads/main.zip\" rel=\"nofollow noreferrer\">this</a> repo. However my build fails with following error:</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal on project fingerprint_service: Could not\nresolve dependencies for project\norg.daniel.integration:pizza_service:jar:1.0.0: Could not find artifact\norg.codeobe.integration:codeobe-java-sdk:jar:1.0.0 in central\n(<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>) -&gt; [Help 1]</p>\n</blockquote>\n<p>Can someone please help, Thanks in advance<br></p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":1,"creation_date":1664528269,"post_id":73906236,"comment_id":130497094,"body_markdown":"have you considered using a while loop instead","body":"have you considered using a while loop instead"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1664528271,"post_id":73906236,"comment_id":130497095,"body_markdown":"use a while loop, instead of a for-loop","body":"use a while loop, instead of a for-loop"},{"owner":{"account_id":26465192,"reputation":19,"user_id":20106496,"display_name":"Smithens07"},"score":0,"creation_date":1664528391,"post_id":73906236,"comment_id":130497136,"body_markdown":"@Stultuske I would love to but unfortunately, my professor is making us use for-loops which is very frustrating. Do you know how to solve my issue when using a for-loop? Thanks for your input!","body":"@Stultuske I would love to but unfortunately, my professor is making us use for-loops which is very frustrating. Do you know how to solve my issue when using a for-loop? Thanks for your input!"},{"owner":{"account_id":26465192,"reputation":19,"user_id":20106496,"display_name":"Smithens07"},"score":0,"creation_date":1664528422,"post_id":73906236,"comment_id":130497149,"body_markdown":"@Icarus I have, but my professor is making us use for-loops! Thanks for your input!","body":"@Icarus I have, but my professor is making us use for-loops! Thanks for your input!"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1664528481,"post_id":73906236,"comment_id":130497168,"body_markdown":"for (loop for three times) if a correct input is given, break out of the loop","body":"for (loop for three times) if a correct input is given, break out of the loop"},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1664543150,"post_id":73906236,"comment_id":130502029,"body_markdown":"`for (int attempts = 1; userRating2 &lt; MIN || userRating2 &gt; MAX; userRating2++)` should be `for (int attempts = 1; userRating2 &lt; MIN || userRating2 &gt; MAX; attempts++)`","body":"<code>for (int attempts = 1; userRating2 &lt; MIN || userRating2 &gt; MAX; userRating2++)</code> should be <code>for (int attempts = 1; userRating2 &lt; MIN || userRating2 &gt; MAX; attempts++)</code>"}],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664541450,"creation_date":1664541450,"answer_id":73908904,"question_id":73906236,"body_markdown":"In your code, the main problems is that you are not incrementing `attempts` variable that allows you to break the cycle.\r\n\r\nAlso you can improve your code by changing the cycle type, and reuse for next attempts the already existing code, and avoid repeating yourself (check DRY concept - Don&#39;t Repeat Yourself).\r\n\r\nThe code can be something like this:\r\n\r\n    import javax.swing.JOptionPane;\r\n    \r\n    public class LoopLab {\r\n    \r\n      public static void main(String[] args) {\r\n        int MIN = 1;\r\n        int MAX = 10;\r\n        int attempts = 0;\r\n    \r\n        do {\r\n    \r\n          int userRating2 = Integer.parseInt(\r\n              JOptionPane.showInputDialog(null, &quot;Rate Krabby Patties on a scale from &quot; + MIN + &quot; to &quot; + MAX + &quot;. &quot;));\r\n    \r\n          if (userRating2 &gt;= MIN &amp;&amp; userRating2 &lt;= MAX) {\r\n            JOptionPane.showMessageDialog(null, &quot;Thank you for your rating of Krabby Patties!&quot;);\r\n            break;\r\n          } else if (++attempts &lt; 3) {\r\n            JOptionPane.showMessageDialog(null, &quot;Please input a number from &quot; + MIN + &quot; to &quot; + MAX + &quot;.&quot;);\r\n            JOptionPane.showMessageDialog(null, &quot;Please try again.&quot;);\r\n          } else {\r\n            JOptionPane.showMessageDialog(null, &quot;Come back later and try again&quot;);\r\n            break;\r\n          }\r\n        } while (true);\r\n    \r\n      }\r\n    }","title":"How do I make my for loop run a set number of times before giving a certain output?","body":"<p>In your code, the main problems is that you are not incrementing <code>attempts</code> variable that allows you to break the cycle.</p>\n<p>Also you can improve your code by changing the cycle type, and reuse for next attempts the already existing code, and avoid repeating yourself (check DRY concept - Don't Repeat Yourself).</p>\n<p>The code can be something like this:</p>\n<pre><code>import javax.swing.JOptionPane;\n\npublic class LoopLab {\n\n  public static void main(String[] args) {\n    int MIN = 1;\n    int MAX = 10;\n    int attempts = 0;\n\n    do {\n\n      int userRating2 = Integer.parseInt(\n          JOptionPane.showInputDialog(null, &quot;Rate Krabby Patties on a scale from &quot; + MIN + &quot; to &quot; + MAX + &quot;. &quot;));\n\n      if (userRating2 &gt;= MIN &amp;&amp; userRating2 &lt;= MAX) {\n        JOptionPane.showMessageDialog(null, &quot;Thank you for your rating of Krabby Patties!&quot;);\n        break;\n      } else if (++attempts &lt; 3) {\n        JOptionPane.showMessageDialog(null, &quot;Please input a number from &quot; + MIN + &quot; to &quot; + MAX + &quot;.&quot;);\n        JOptionPane.showMessageDialog(null, &quot;Please try again.&quot;);\n      } else {\n        JOptionPane.showMessageDialog(null, &quot;Come back later and try again&quot;);\n        break;\n      }\n    } while (true);\n\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":26465192,"reputation":19,"user_id":20106496,"display_name":"Smithens07"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664541450,"creation_date":1664528056,"question_id":73906236,"body_markdown":"So my code should run as follows: \r\n\r\nAsk the user their rating of Krabby Patties. \r\n\r\nIf the user inputs a number from 1-10 the code will thank them for their rating and end. If the user inputs a number outside of the range from 1-10, it will put them in a loop telling them what to input and repeating the question. It will end when they input a number from 1-10. \r\n\r\nIf the user inputs an incorrect value 3 times (the number of times I want to set my for loop to), it will tell the user to try again later! \r\n\r\nEverything in my code works except it doesn&#39;t stop the loop after the user inputs 3 wrong values in a row. \r\n\r\nSorry if it isn&#39;t formatted perfectly and might be a stupid question, but I am new to coding.\r\n\r\n\r\nHere is my code:\r\n```\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class LoopLab {\r\n    public static void main(String[] args) {\r\n        int MIN = 1;\r\n        int MAX = 10;\r\n        String userRating = JOptionPane.showInputDialog(null, &quot;Rate Krabby Patties on a scale from &quot; + MIN + &quot; to &quot; + MAX + &quot;. &quot;);\r\n        int userRating2 = Integer.parseInt(userRating);\r\n        if (userRating2 &gt;= MIN || userRating2 &lt;= MAX) {\r\n            for (int attempts = 1; userRating2 &lt; MIN || userRating2 &gt; MAX; userRating2++) {\r\n                JOptionPane.showMessageDialog(null, &quot;Please input a number from &quot; + MIN + &quot; to &quot; + MAX + &quot;.&quot;);\r\n                JOptionPane.showMessageDialog(null, &quot;Please try again.&quot;);\r\n                String userRating3 = JOptionPane.showInputDialog(null, &quot;Rate Krabby Patties on a scale from &quot; + MIN + &quot; to &quot; + MAX + &quot;. &quot;);\r\n                int userRating4 = Integer.parseInt(userRating3);\r\n                if (userRating4 &gt;= MIN &amp;&amp; userRating4 &lt;= MAX) {\r\n                    break;\r\n                }\r\n                if (attempts == 3) {\r\n                    JOptionPane.showMessageDialog(null, &quot;Come back later and try again&quot;);\r\n                    break;\r\n                }\r\n            }\r\n\r\n            JOptionPane.showMessageDialog(null, &quot;Thank you for your rating of Krabby Patties!&quot;);\r\n        }\r\n    }\r\n}","title":"How do I make my for loop run a set number of times before giving a certain output?","body":"<p>So my code should run as follows:</p>\n<p>Ask the user their rating of Krabby Patties.</p>\n<p>If the user inputs a number from 1-10 the code will thank them for their rating and end. If the user inputs a number outside of the range from 1-10, it will put them in a loop telling them what to input and repeating the question. It will end when they input a number from 1-10.</p>\n<p>If the user inputs an incorrect value 3 times (the number of times I want to set my for loop to), it will tell the user to try again later!</p>\n<p>Everything in my code works except it doesn't stop the loop after the user inputs 3 wrong values in a row.</p>\n<p>Sorry if it isn't formatted perfectly and might be a stupid question, but I am new to coding.</p>\n<p>Here is my code:</p>\n<pre><code>import javax.swing.JOptionPane;\n\npublic class LoopLab {\n    public static void main(String[] args) {\n        int MIN = 1;\n        int MAX = 10;\n        String userRating = JOptionPane.showInputDialog(null, &quot;Rate Krabby Patties on a scale from &quot; + MIN + &quot; to &quot; + MAX + &quot;. &quot;);\n        int userRating2 = Integer.parseInt(userRating);\n        if (userRating2 &gt;= MIN || userRating2 &lt;= MAX) {\n            for (int attempts = 1; userRating2 &lt; MIN || userRating2 &gt; MAX; userRating2++) {\n                JOptionPane.showMessageDialog(null, &quot;Please input a number from &quot; + MIN + &quot; to &quot; + MAX + &quot;.&quot;);\n                JOptionPane.showMessageDialog(null, &quot;Please try again.&quot;);\n                String userRating3 = JOptionPane.showInputDialog(null, &quot;Rate Krabby Patties on a scale from &quot; + MIN + &quot; to &quot; + MAX + &quot;. &quot;);\n                int userRating4 = Integer.parseInt(userRating3);\n                if (userRating4 &gt;= MIN &amp;&amp; userRating4 &lt;= MAX) {\n                    break;\n                }\n                if (attempts == 3) {\n                    JOptionPane.showMessageDialog(null, &quot;Come back later and try again&quot;);\n                    break;\n                }\n            }\n\n            JOptionPane.showMessageDialog(null, &quot;Thank you for your rating of Krabby Patties!&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","caching"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664541365,"creation_date":1664541365,"answer_id":73908879,"question_id":73866032,"body_markdown":"If you mean the names of the Hibernate L2 caches, then there will be no difference. Unless the cache implementation applies some prefixes or postfixes to the cache names Hibernate wants to create, the names will be the same.","title":"What is the cache region name in spring application?","body":"<p>If you mean the names of the Hibernate L2 caches, then there will be no difference. Unless the cache implementation applies some prefixes or postfixes to the cache names Hibernate wants to create, the names will be the same.</p>\n"}],"owner":{"account_id":26434968,"reputation":45,"user_id":20080481,"display_name":"User01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73908879,"answer_count":1,"score":0,"last_activity_date":1664541365,"creation_date":1664274294,"question_id":73866032,"body_markdown":"I have 2 systems X and Y,both developed in Java spring, system X EhCacheRegionFactory is using SessionFactory, system Y uses EntityManagerFactory.\r\nThe second difference is system X uses local DAOs where system Y uses JpaReposiories.\r\nIf both of these systems are having the same entities, will the region factory name differ for the same entity?\r\nI know that in hibernate(System X) it will be the fully qualified class name, but for system Y I don&#39;t know the region name considering spring will be handling the cache with redission client.\r\nBoth of systems will be configured to use Redis cache. ","title":"What is the cache region name in spring application?","body":"<p>I have 2 systems X and Y,both developed in Java spring, system X EhCacheRegionFactory is using SessionFactory, system Y uses EntityManagerFactory.\nThe second difference is system X uses local DAOs where system Y uses JpaReposiories.\nIf both of these systems are having the same entities, will the region factory name differ for the same entity?\nI know that in hibernate(System X) it will be the fully qualified class name, but for system Y I don't know the region name considering spring will be handling the cache with redission client.\nBoth of systems will be configured to use Redis cache.</p>\n"},{"tags":["java","output"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1664541020,"post_id":73908730,"comment_id":130501299,"body_markdown":"have you debugged your code? if it&#39;s not within your valid block, this if statement: userRating2 &gt;= MIN || userRating2 &lt;= MAX will always return true. (also if it is a valid value). You&#39;ll want &amp;&amp; instead of ||","body":"have you debugged your code? if it&#39;s not within your valid block, this if statement: userRating2 &gt;= MIN || userRating2 &lt;= MAX will always return true. (also if it is a valid value). You&#39;ll want &amp;&amp; instead of ||"}],"answers":[{"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1664541360,"post_id":73908808,"comment_id":130501404,"body_markdown":"I suspect that, if you do it right, you can replace one of the `if`s by an `else`.","body":"I suspect that, if you do it right, you can replace one of the <code>if</code>s by an <code>else</code>."}],"tags":[],"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664541039,"creation_date":1664541039,"answer_id":73908808,"question_id":73908730,"body_markdown":"Instead of `if (userRating2 &gt;= MIN || userRating2 &lt;= MAX)` you want `if (userRating2 &gt;= MIN &amp;&amp; userRating2 &lt;= MAX)` in order to check for a range.  \r\nI.e. you want the logical AND of both borders being obeyed, not the OR.","title":"How do I stop one of my outputs from coming out when I don&#39;t want it to?","body":"<p>Instead of <code>if (userRating2 &gt;= MIN || userRating2 &lt;= MAX)</code> you want <code>if (userRating2 &gt;= MIN &amp;&amp; userRating2 &lt;= MAX)</code> in order to check for a range.<br />\nI.e. you want the logical AND of both borders being obeyed, not the OR.</p>\n"}],"owner":{"account_id":26465192,"reputation":19,"user_id":20106496,"display_name":"Smithens07"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1664541039,"creation_date":1664540678,"question_id":73908730,"body_markdown":"so my code runs just as I want it to except for one flaw:\r\nWhen the user inputs a number 1-10 it promptly ends and says thank you (as it should). When the user inputs a number that is not 1-10, it says thank you (the only error in my code) and then goes through the loop to a set max number of 3 times before telling the user to try again later. Please help me to stop it from saying thank you when the user gives an incorrect input on the first try! Here is my code:\r\n\r\n```\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class LoopLab\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        int MIN = 1;\r\n        int MAX = 10;\r\n        String userRating = JOptionPane.showInputDialog(null, &quot;Rate Krabby Patties on a scale from &quot; + MIN + &quot; to &quot; + MAX + &quot;. &quot;);\r\n        int userRating2 = Integer.parseInt(userRating);\r\n        if (userRating2 &gt;= MIN || userRating2 &lt;= MAX)\r\n        {\r\n            JOptionPane.showMessageDialog(null, &quot;Thank you!&quot;);\r\n        }\r\n        if (userRating2 &lt; MIN || userRating2 &gt; MAX)\r\n        {\r\n            for (int attempts = 1; attempts &lt;= 2; attempts++)\r\n            {\r\n                JOptionPane.showMessageDialog(null, &quot;Please input a number from &quot; + MIN + &quot; to &quot; + MAX + &quot;.&quot;);\r\n                JOptionPane.showMessageDialog(null, &quot;Please try again.&quot;);\r\n                String userRating3 = JOptionPane.showInputDialog(null,\r\n                    &quot;Rate Krabby Patties on a scale from &quot; + MIN + &quot; to &quot; + MAX + &quot;. &quot;\r\n                );\r\n                int userRating4 = Integer.parseInt(userRating3);\r\n                if (userRating4 &gt;= MIN &amp;&amp; userRating4 &lt;= MAX)\r\n                {\r\n                    JOptionPane.showMessageDialog(null, &quot;Thank you!&quot;);\r\n                    break;\r\n                }\r\n                if (attempts == 2)\r\n                {\r\n                    JOptionPane.showMessageDialog(null, &quot;Come back later and try again.&quot;);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"How do I stop one of my outputs from coming out when I don&#39;t want it to?","body":"<p>so my code runs just as I want it to except for one flaw:\nWhen the user inputs a number 1-10 it promptly ends and says thank you (as it should). When the user inputs a number that is not 1-10, it says thank you (the only error in my code) and then goes through the loop to a set max number of 3 times before telling the user to try again later. Please help me to stop it from saying thank you when the user gives an incorrect input on the first try! Here is my code:</p>\n<pre><code>import javax.swing.JOptionPane;\n\npublic class LoopLab\n{\n    public static void main(String[] args)\n    {\n        int MIN = 1;\n        int MAX = 10;\n        String userRating = JOptionPane.showInputDialog(null, &quot;Rate Krabby Patties on a scale from &quot; + MIN + &quot; to &quot; + MAX + &quot;. &quot;);\n        int userRating2 = Integer.parseInt(userRating);\n        if (userRating2 &gt;= MIN || userRating2 &lt;= MAX)\n        {\n            JOptionPane.showMessageDialog(null, &quot;Thank you!&quot;);\n        }\n        if (userRating2 &lt; MIN || userRating2 &gt; MAX)\n        {\n            for (int attempts = 1; attempts &lt;= 2; attempts++)\n            {\n                JOptionPane.showMessageDialog(null, &quot;Please input a number from &quot; + MIN + &quot; to &quot; + MAX + &quot;.&quot;);\n                JOptionPane.showMessageDialog(null, &quot;Please try again.&quot;);\n                String userRating3 = JOptionPane.showInputDialog(null,\n                    &quot;Rate Krabby Patties on a scale from &quot; + MIN + &quot; to &quot; + MAX + &quot;. &quot;\n                );\n                int userRating4 = Integer.parseInt(userRating3);\n                if (userRating4 &gt;= MIN &amp;&amp; userRating4 &lt;= MAX)\n                {\n                    JOptionPane.showMessageDialog(null, &quot;Thank you!&quot;);\n                    break;\n                }\n                if (attempts == 2)\n                {\n                    JOptionPane.showMessageDialog(null, &quot;Come back later and try again.&quot;);\n                    break;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","rest","testing"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1664540457,"post_id":73908225,"comment_id":130501121,"body_markdown":"Hang on: HttpURLConnection is something you would use on a client, while the request filter and principal are things used on a server. What am I missing?","body":"Hang on: HttpURLConnection is something you would use on a client, while the request filter and principal are things used on a server. What am I missing?"},{"owner":{"account_id":9681050,"reputation":67,"user_id":7182733,"display_name":"texmelex"},"score":0,"creation_date":1664540930,"post_id":73908225,"comment_id":130501269,"body_markdown":"I added some clarification.","body":"I added some clarification."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664540033,"creation_date":1664540033,"answer_id":73908597,"question_id":73908225,"body_markdown":"To download something that requires authentication, I do\r\n\r\n    public InputStream openStream(URL url, String user, String password) throws IOException {\r\n        if (user != null) {\r\n            Authenticator.setDefault(new MyAuthenticator(user, password));\r\n        }\r\n        URLConnection connection = url.openConnection();\r\n        return connection.getInputStream();\r\n    }\r\n\r\nA more up to date answer since Java 11 would be to use the [HttpClient][1] and it&#39;s [Builder][2]. In there you can directly set the authenticator.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.net.http/java/net/http/HttpClient.html\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.net.http/java/net/http/HttpClient.Builder.html","title":"How to set a security context for java HttpUrlConnection?","body":"<p>To download something that requires authentication, I do</p>\n<pre><code>public InputStream openStream(URL url, String user, String password) throws IOException {\n    if (user != null) {\n        Authenticator.setDefault(new MyAuthenticator(user, password));\n    }\n    URLConnection connection = url.openConnection();\n    return connection.getInputStream();\n}\n</code></pre>\n<p>A more up to date answer since Java 11 would be to use the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.net.http/java/net/http/HttpClient.html\" rel=\"nofollow noreferrer\">HttpClient</a> and it's <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.net.http/java/net/http/HttpClient.Builder.html\" rel=\"nofollow noreferrer\">Builder</a>. In there you can directly set the authenticator.</p>\n"}],"owner":{"account_id":9681050,"reputation":67,"user_id":7182733,"display_name":"texmelex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664540913,"creation_date":1664538263,"question_id":73908225,"body_markdown":"I am testing HTTP endpoints with HttpUrlConnection:\r\n\r\n     HttpURLConnection httpCon = (HttpURLConnection) new URL(url).openConnection();\r\n     httpCon.setDoOutput(true);\r\n     httpCon.setRequestMethod(httpMethod);\r\n     httpCon.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n     requestHeaders.forEach(httpCon::setRequestProperty);\r\n\r\nI also add a Basic auth header at the end.\r\n\r\nThe only problem is that there is a request filter that reads the Principal from the SecurityContext of the request for authorization.\r\nSo far I have not found a way to set the SecurityContext and the Principal when using HttpURLConnection.\r\n\r\nIs there a way to do so?\r\n\r\n\r\nEdit:\r\n\r\nSo the scenario is that there is an embedded Rest Server that serves the requests. I use HttpURLConnection to send requests to a given endpoint. The Rest Server is using basic auth (so I add the credentials in the header), but also does authz check with request filters. This request filter reads the Principal from the request, and does the authz check based on that. I need a way to add the principal to the request I send.","title":"How to set a security context for java HttpUrlConnection?","body":"<p>I am testing HTTP endpoints with HttpUrlConnection:</p>\n<pre><code> HttpURLConnection httpCon = (HttpURLConnection) new URL(url).openConnection();\n httpCon.setDoOutput(true);\n httpCon.setRequestMethod(httpMethod);\n httpCon.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n requestHeaders.forEach(httpCon::setRequestProperty);\n</code></pre>\n<p>I also add a Basic auth header at the end.</p>\n<p>The only problem is that there is a request filter that reads the Principal from the SecurityContext of the request for authorization.\nSo far I have not found a way to set the SecurityContext and the Principal when using HttpURLConnection.</p>\n<p>Is there a way to do so?</p>\n<p>Edit:</p>\n<p>So the scenario is that there is an embedded Rest Server that serves the requests. I use HttpURLConnection to send requests to a given endpoint. The Rest Server is using basic auth (so I add the credentials in the header), but also does authz check with request filters. This request filter reads the Principal from the request, and does the authz check based on that. I need a way to add the principal to the request I send.</p>\n"},{"tags":["java","spring","spring-boot","web-services","jax-rs"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1664531362,"post_id":73906807,"comment_id":130498244,"body_markdown":"you don&#39;t actually instantiate the fields of MyService. So: myRepository.findXYZ(ids); is actually: null.findXYZ(ids);","body":"you don&#39;t actually instantiate the fields of MyService. So: myRepository.findXYZ(ids); is actually: null.findXYZ(ids);"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1664531380,"post_id":73906807,"comment_id":130498257,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664531899,"post_id":73906807,"comment_id":130498412,"body_markdown":"Problem: to &quot;auto wire&quot; things, the requesting object has to be &quot;spring managed&quot;...your ABCController seems not to be!","body":"Problem: to &quot;auto wire&quot; things, the requesting object has to be &quot;spring managed&quot;...your ABCController seems not to be!"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664532020,"post_id":73906807,"comment_id":130498454,"body_markdown":"So a `@Component` annotation on ABCController will fix this...","body":"So a <code>@Component</code> annotation on ABCController will fix this..."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664532236,"post_id":73906807,"comment_id":130498518,"body_markdown":"..you have alternative options (`@Bean` in a config class(decoupling...!), or `@Service`, `@Repository` annotations, ...and i try to find out, what&#39;d be the best/common for &quot;Jakarta ws&quot;..","body":"..you have alternative options (<code>@Bean</code> in a config class(decoupling...!), or <code>@Service</code>, <code>@Repository</code> annotations, ...and i try to find out, what&#39;d be the best/common for &quot;Jakarta ws&quot;.."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664532417,"post_id":73906807,"comment_id":130498585,"body_markdown":"For auto-wiring: both (wired &amp; wiring) objects need to be &quot;spring managed (beans)&quot;! ;) In MyService this is achieved with  `@Service` annotation.","body":"For auto-wiring: both (wired &amp; wiring) objects need to be &quot;spring managed (beans)&quot;! ;) In MyService this is achieved with  <code>@Service</code> annotation."},{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":0,"creation_date":1664533467,"post_id":73906807,"comment_id":130498915,"body_markdown":"@Stultuske is null and i know that. The question is, why i have to instantiate it. It is a service object","body":"@Stultuske is null and i know that. The question is, why i have to instantiate it. It is a service object"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1664533518,"post_id":73906807,"comment_id":130498931,"body_markdown":"@emoleumassi have you read xerx593&#39;s comments? He already explained that. or were you talking about the fields in MyService? In that case, yes, MyService is a Service, it&#39;s fields are not","body":"@emoleumassi have you read xerx593&#39;s comments? He already explained that. or were you talking about the fields in MyService? In that case, yes, MyService is a Service, it&#39;s fields are not"},{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":0,"creation_date":1664533757,"post_id":73906807,"comment_id":130499002,"body_markdown":"@Stultuske `JpaRepository ` is a `JpaRepository` and i have a bean of `MyMapper` in `MainClass`","body":"@Stultuske <code>JpaRepository </code> is a <code>JpaRepository</code> and i have a bean of <code>MyMapper</code> in <code>MainClass</code>"}],"answers":[{"comments":[{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":0,"creation_date":1664535802,"post_id":73907523,"comment_id":130499646,"body_markdown":"By adding `@RequiredArgsConstructor` to `ABCController` a suitable constructor could not be found. Error: `java.lang.NoSuchMethodException: Could not find a suitable constructor in ABCController class.`","body":"By adding <code>@RequiredArgsConstructor</code> to <code>ABCController</code> a suitable constructor could not be found. Error: <code>java.lang.NoSuchMethodException: Could not find a suitable constructor in ABCController class.</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664536015,"post_id":73907523,"comment_id":130499724,"body_markdown":"Have you tried &quot;least intrusive&quot;? ..of course `@RequiredArgsConstructor` is more intrusive!!:)) ..but plenty alternatives..(one is:remove @RequiredArgsConstructor, remove `final` modifier, introduce setter, ..use it in bean method..)","body":"Have you tried &quot;least intrusive&quot;? ..of course <code>@RequiredArgsConstructor</code> is more intrusive!!:)) ..but plenty alternatives..(one is:remove @RequiredArgsConstructor, remove <code>final</code> modifier, introduce setter, ..use it in bean method..)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1664536417,"post_id":73907523,"comment_id":130499853,"body_markdown":"So, seems jax-rs (..or something at the end of that stacktrace) needs a &quot;default (i.e. no args) constructor&quot; for ABCController..","body":"So, seems jax-rs (..or something at the end of that stacktrace) needs a &quot;default (i.e. no args) constructor&quot; for ABCController.."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1664536749,"post_id":73907523,"comment_id":130499963,"body_markdown":"I updated answer not to use `@RequiredArgsConstructor`..","body":"I updated answer not to use <code>@RequiredArgsConstructor</code>.."}],"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664537863,"creation_date":1664534708,"answer_id":73907523,"question_id":73906807,"body_markdown":"Though spring brings his own &quot;framework for REST-Service development&quot;([tag:spring-web]), there should be no reason, why JAX-RS could not use [tag:spring-core] and even [tag:spring-boot].\r\n\r\n\r\n----------\r\n\r\nThe problem (for that particular NPE) is:\r\n&gt;For auto-wiring: both (wired &amp; wiring) objects need to be &quot;spring managed (beans)&quot;! ;) In MyService this is achieved with @Service annotation.\r\n\r\nTo fix the problem, we need to participate ABCController in spring context as well! \r\n\r\n----------\r\n\r\n&quot;Least intrusive&quot;/simplest approach - to annotate `ABCController` with `@Component`:\r\n```\r\n...\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component // !\r\n@Path(&quot;/abc&quot;)\r\n@Produces(MediaType.APPLICATION_JSON)\r\npublic class ABCController ...\r\n```\r\nThis (+ correct &quot;component scan&quot;) will &quot;lift&quot; ABCController into spring context and enable auto-wiring (from/to) that object.\r\n\r\n\r\n----------\r\n\r\n\r\nAnother approach, decoupling the &quot;implementations&quot; from spring:\r\n\r\nFor this we need to remove all (possible) `org.springframework.*` imports from our &quot;spring-independent&quot; classes. (Of course it is not possible in very spring specific classes (spring-web(Rest)Controllers,Spring-data-repos, ...).\r\n\r\n- To replace `@Component/Service/Repository` annotations, we move the instantiations to `@Bean` annotated methods to our spring configuration(class(es)) (..see MyMapper bean!)\r\n- To replace `@Autowired` we&#39;d have to &quot;manually wire&quot; them or use &quot;implicit constructor auto wire&quot; (within the mentioned `@Bean` methods)\r\n\r\nSo your Config(/SpringBootApp), could look like:\r\n```\r\n@SpringBootApplication\r\npublic class MainClass\r\n{\r\n   public static void main(String[] args)\r\n   {\r\n      SpringApplication.run(MainClass.class, args);\r\n   }\r\n\r\n   @Bean\r\n   public MyMapper myMapper()\r\n   {\r\n      return new MyMapperImpl();\r\n   }\r\n   \r\n   @Bean // singleton is default &quot;scope&quot;!!...\r\n   public MyService myService(/*implicitly @Autowired :*/ JPARepository repo, MyMapper mapper /* ..and taken care (hopefully;) by spring*/) {\r\n    return new MyService(mapper, repo);\r\n   }\r\n   // and:\r\n   @Bean \r\n   public ABCController abcController(/*implicitly @Autowired :*/ MyService service /* ..and taken care (hopefully;) by spring*/) {\r\n    ABCController bean = new ABCController();\r\n    bean.setMyService(service);\r\n    return bean; \r\n  }\r\n}\r\n```\r\n\r\nWith the according adjustments to ABCController:\r\n```\r\n\r\n@Path(&quot;/abc&quot;)\r\n@Produces(MediaType.APPLICATION_JSON)\r\npublic class ABCController\r\n{\r\n   // NOT @Autowired\r\n   private MyService myService;\r\n   ...\r\n   // Setter(/getter) for myService !\r\n```\r\n","title":"Spring service NullPointerException jakarta webservice","body":"<p>Though spring brings his own &quot;framework for REST-Service development&quot;(<a href=\"/questions/tagged/spring-web\" class=\"post-tag\" title=\"show questions tagged &#39;spring-web&#39;\" aria-label=\"show questions tagged &#39;spring-web&#39;\" rel=\"tag\" aria-labelledby=\"spring-web-container\">spring-web</a>), there should be no reason, why JAX-RS could not use <a href=\"/questions/tagged/spring-core\" class=\"post-tag\" title=\"show questions tagged &#39;spring-core&#39;\" aria-label=\"show questions tagged &#39;spring-core&#39;\" rel=\"tag\" aria-labelledby=\"spring-core-container\">spring-core</a> and even <a href=\"/questions/tagged/spring-boot\" class=\"post-tag\" title=\"show questions tagged &#39;spring-boot&#39;\" aria-label=\"show questions tagged &#39;spring-boot&#39;\" rel=\"tag\" aria-labelledby=\"spring-boot-container\">spring-boot</a>.</p>\n<hr />\n<p>The problem (for that particular NPE) is:</p>\n<blockquote>\n<p>For auto-wiring: both (wired &amp; wiring) objects need to be &quot;spring managed (beans)&quot;! ;) In MyService this is achieved with @Service annotation.</p>\n</blockquote>\n<p>To fix the problem, we need to participate ABCController in spring context as well!</p>\n<hr />\n<p>&quot;Least intrusive&quot;/simplest approach - to annotate <code>ABCController</code> with <code>@Component</code>:</p>\n<pre><code>...\nimport org.springframework.stereotype.Component;\n\n@Component // !\n@Path(&quot;/abc&quot;)\n@Produces(MediaType.APPLICATION_JSON)\npublic class ABCController ...\n</code></pre>\n<p>This (+ correct &quot;component scan&quot;) will &quot;lift&quot; ABCController into spring context and enable auto-wiring (from/to) that object.</p>\n<hr />\n<p>Another approach, decoupling the &quot;implementations&quot; from spring:</p>\n<p>For this we need to remove all (possible) <code>org.springframework.*</code> imports from our &quot;spring-independent&quot; classes. (Of course it is not possible in very spring specific classes (spring-web(Rest)Controllers,Spring-data-repos, ...).</p>\n<ul>\n<li>To replace <code>@Component/Service/Repository</code> annotations, we move the instantiations to <code>@Bean</code> annotated methods to our spring configuration(class(es)) (..see MyMapper bean!)</li>\n<li>To replace <code>@Autowired</code> we'd have to &quot;manually wire&quot; them or use &quot;implicit constructor auto wire&quot; (within the mentioned <code>@Bean</code> methods)</li>\n</ul>\n<p>So your Config(/SpringBootApp), could look like:</p>\n<pre><code>@SpringBootApplication\npublic class MainClass\n{\n   public static void main(String[] args)\n   {\n      SpringApplication.run(MainClass.class, args);\n   }\n\n   @Bean\n   public MyMapper myMapper()\n   {\n      return new MyMapperImpl();\n   }\n   \n   @Bean // singleton is default &quot;scope&quot;!!...\n   public MyService myService(/*implicitly @Autowired :*/ JPARepository repo, MyMapper mapper /* ..and taken care (hopefully;) by spring*/) {\n    return new MyService(mapper, repo);\n   }\n   // and:\n   @Bean \n   public ABCController abcController(/*implicitly @Autowired :*/ MyService service /* ..and taken care (hopefully;) by spring*/) {\n    ABCController bean = new ABCController();\n    bean.setMyService(service);\n    return bean; \n  }\n}\n</code></pre>\n<p>With the according adjustments to ABCController:</p>\n<pre><code>\n@Path(&quot;/abc&quot;)\n@Produces(MediaType.APPLICATION_JSON)\npublic class ABCController\n{\n   // NOT @Autowired\n   private MyService myService;\n   ...\n   // Setter(/getter) for myService !\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664540627,"creation_date":1664540627,"answer_id":73908715,"question_id":73906807,"body_markdown":"The are a dependency for jersey in spring-boot: `spring-boot-starter-jersey`\r\n\r\nThe build.gradle looks like this:\r\n\r\n```\r\nbuildscript {\r\n    ext {\r\n        LOMBOK_VERSION = &quot;1.18.22&quot;\r\n        SPRING_BOOT_VERSION = &quot;2.6.6&quot;\r\n        JERSEY_VERSION = &quot;3.0.8&quot;\r\n        JACKSON_VERSION = &quot;2.13.1&quot;\r\n        MSSQL_JDBC_VERSION = &quot;9.4.1.jre11&quot;\r\n        MAPSTRUCT = &quot;1.5.1.Final&quot;\r\n    }\r\n}\r\n\r\napply plugin: &#39;java-library&#39;\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;war&#39;\r\n\r\nrepositories {\r\n    mavenLocal()\r\n    maven {\r\n       ...\r\n    }\r\n}\r\n\r\n\r\ndependencies {\r\n    compileOnly &quot;org.projectlombok:lombok:${LOMBOK_VERSION}&quot;\r\n    testImplementation &quot;org.projectlombok:lombok:${LOMBOK_VERSION}&quot;\r\n    annotationProcessor &quot;org.projectlombok:lombok:${LOMBOK_VERSION}&quot;\r\n\r\n    implementation &quot;org.mapstruct:mapstruct:${MAPSTRUCT}&quot;\r\n    annotationProcessor &quot;org.mapstruct:mapstruct-processor:${MAPSTRUCT}&quot;\r\n\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-jersey:${SPRING_BOOT_VERSION}&quot;\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-data-jpa:${SPRING_BOOT_VERSION}&quot;\r\n\r\n    implementation &quot;com.microsoft.sqlserver:mssql-jdbc:${MSSQL_JDBC_VERSION}&quot;\r\n}\r\n```\r\n\r\nThe controller becomes the `@Component` \r\n```\r\n@Path(&quot;/abc&quot;)\r\n@Produces(MediaType.APPLICATION_JSON)\r\n@Component\r\npublic class ABCController\r\n{\r\n   @Autowired\r\n   private MyService myService;\r\n\r\n   @GET\r\n   public Response getSome(@QueryParam(&quot;identification&quot;) List&lt;String&gt; ids)\r\n   {\r\n      GenericEntity&lt;List&lt;Label&gt;&gt; entity = new GenericEntity&lt;&gt;(myService.findSomething(ids))\r\n      {\r\n      };\r\n      return Response.ok(entity).build();\r\n   }\r\n```\r\n\r\nThe MainClass is servlet:\r\n```\r\n@SpringBootApplication\r\npublic class MainClass extends SpringBootServletInitializer\r\n{\r\n   public static void main(String[] args)\r\n   {\r\n      new MainClass().configure(new SpringApplicationBuilder(MainClass.class)).run(args);\r\n   }\r\n\r\n   @Bean\r\n   public MyMapper myMapper()\r\n   {\r\n      return new MyMapperImpl();\r\n   }\r\n}\r\n```\r\n\r\nMyService is a `@Service`\r\n```\r\n@RequiredArgsConstructor\r\n@Service\r\npublic class MyService\r\n{\r\n```\r\n\r\nI added a JerseyConfig:\r\n```\r\n@Component\r\npublic class JerseyConfig extends ResourceConfig\r\n{\r\n   public JerseyConfig()\r\n   {\r\n      register(ABCController.class);\r\n   }\r\n}\r\n```","title":"Spring service NullPointerException jakarta webservice","body":"<p>The are a dependency for jersey in spring-boot: <code>spring-boot-starter-jersey</code></p>\n<p>The build.gradle looks like this:</p>\n<pre><code>buildscript {\n    ext {\n        LOMBOK_VERSION = &quot;1.18.22&quot;\n        SPRING_BOOT_VERSION = &quot;2.6.6&quot;\n        JERSEY_VERSION = &quot;3.0.8&quot;\n        JACKSON_VERSION = &quot;2.13.1&quot;\n        MSSQL_JDBC_VERSION = &quot;9.4.1.jre11&quot;\n        MAPSTRUCT = &quot;1.5.1.Final&quot;\n    }\n}\n\napply plugin: 'java-library'\napply plugin: 'java'\napply plugin: 'war'\n\nrepositories {\n    mavenLocal()\n    maven {\n       ...\n    }\n}\n\n\ndependencies {\n    compileOnly &quot;org.projectlombok:lombok:${LOMBOK_VERSION}&quot;\n    testImplementation &quot;org.projectlombok:lombok:${LOMBOK_VERSION}&quot;\n    annotationProcessor &quot;org.projectlombok:lombok:${LOMBOK_VERSION}&quot;\n\n    implementation &quot;org.mapstruct:mapstruct:${MAPSTRUCT}&quot;\n    annotationProcessor &quot;org.mapstruct:mapstruct-processor:${MAPSTRUCT}&quot;\n\n    implementation &quot;org.springframework.boot:spring-boot-starter-jersey:${SPRING_BOOT_VERSION}&quot;\n    implementation &quot;org.springframework.boot:spring-boot-starter-data-jpa:${SPRING_BOOT_VERSION}&quot;\n\n    implementation &quot;com.microsoft.sqlserver:mssql-jdbc:${MSSQL_JDBC_VERSION}&quot;\n}\n</code></pre>\n<p>The controller becomes the <code>@Component</code></p>\n<pre><code>@Path(&quot;/abc&quot;)\n@Produces(MediaType.APPLICATION_JSON)\n@Component\npublic class ABCController\n{\n   @Autowired\n   private MyService myService;\n\n   @GET\n   public Response getSome(@QueryParam(&quot;identification&quot;) List&lt;String&gt; ids)\n   {\n      GenericEntity&lt;List&lt;Label&gt;&gt; entity = new GenericEntity&lt;&gt;(myService.findSomething(ids))\n      {\n      };\n      return Response.ok(entity).build();\n   }\n</code></pre>\n<p>The MainClass is servlet:</p>\n<pre><code>@SpringBootApplication\npublic class MainClass extends SpringBootServletInitializer\n{\n   public static void main(String[] args)\n   {\n      new MainClass().configure(new SpringApplicationBuilder(MainClass.class)).run(args);\n   }\n\n   @Bean\n   public MyMapper myMapper()\n   {\n      return new MyMapperImpl();\n   }\n}\n</code></pre>\n<p>MyService is a <code>@Service</code></p>\n<pre><code>@RequiredArgsConstructor\n@Service\npublic class MyService\n{\n</code></pre>\n<p>I added a JerseyConfig:</p>\n<pre><code>@Component\npublic class JerseyConfig extends ResourceConfig\n{\n   public JerseyConfig()\n   {\n      register(ABCController.class);\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73908715,"answer_count":2,"score":0,"last_activity_date":1664540627,"creation_date":1664530952,"question_id":73906807,"body_markdown":"```\r\n@Path(&quot;/abc&quot;)\r\n@Produces(MediaType.APPLICATION_JSON)\r\npublic class ABCController\r\n{\r\n   @Autowired\r\n   private MyService myService;\r\n\r\n   @GET\r\n   public Response getSome(@QueryParam(&quot;identification&quot;) List&lt;String&gt; ids)\r\n   {\r\n      GenericEntity&lt;List&lt;Label&gt;&gt; entity = new GenericEntity&lt;&gt;(myService.findSomething(ids))\r\n      {\r\n      };\r\n      return Response.ok(entity).build();\r\n   }\r\n```\r\n\r\nMyService:\r\n```\r\n@RequiredArgsConstructor\r\n@Service\r\npublic class MyService\r\n{\r\n   private final MyMapper myMapper;\r\n\r\n   private final JpaRepository myRepository;\r\n\r\n   public List&lt;String&gt; findSomething(ids){\r\n         myRepository.findXYZ(ids);\r\n   }\r\n```\r\n\r\nMy MainClass:\r\n```\r\n@SpringBootApplication\r\npublic class MainClass\r\n{\r\n   public static void main(String[] args)\r\n   {\r\n      SpringApplication.run(MainClass.class, args);\r\n   }\r\n\r\n   @Bean\r\n   public MyMapper myMapper()\r\n   {\r\n      return new MyMapperImpl();\r\n   }\r\n}\r\n```\r\n\r\nbuild.gradle:\r\n```\r\nbuildscript {\r\n    ext {\r\n        LOMBOK_VERSION = &quot;1.18.22&quot;\r\n        SPRING_BOOT_VERSION = &quot;2.6.6&quot;\r\n        JERSEY_VERSION = &quot;3.0.8&quot;\r\n        JACKSON_VERSION = &quot;2.13.1&quot;\r\n        MSSQL_JDBC_VERSION = &quot;9.4.1.jre11&quot;\r\n        MAPSTRUCT = &quot;1.5.1.Final&quot;\r\n    }\r\n}\r\n\r\nplugins {\r\n    id &quot;org.gretty&quot; version &quot;4.0.3&quot;\r\n}\r\n\r\napply plugin: &#39;java-library&#39;\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;war&#39;\r\n\r\nrepositories {\r\n    mavenLocal()\r\n    maven {\r\n        url = &#39;...&#39;\r\n    }\r\n}\r\n\r\n\r\ndependencies {\r\n    compileOnly &quot;org.projectlombok:lombok:${LOMBOK_VERSION}&quot;\r\n    testImplementation &quot;org.projectlombok:lombok:${LOMBOK_VERSION}&quot;\r\n    annotationProcessor &quot;org.projectlombok:lombok:${LOMBOK_VERSION}&quot;\r\n\r\n    implementation &quot;org.mapstruct:mapstruct:${MAPSTRUCT}&quot;\r\n    annotationProcessor &quot;org.mapstruct:mapstruct-processor:${MAPSTRUCT}&quot;\r\n\r\n    implementation &quot;org.springframework.boot:spring-boot-starter-data-jpa:${SPRING_BOOT_VERSION}&quot;\r\n\r\n    implementation &quot;com.microsoft.sqlserver:mssql-jdbc:${MSSQL_JDBC_VERSION}&quot;\r\n\r\n    implementation &quot;org.glassfish.jersey.containers:jersey-container-servlet-core:${JERSEY_VERSION}&quot;\r\n    implementation &quot;org.glassfish.jersey.inject:jersey-hk2:${JERSEY_VERSION}&quot;\r\n    implementation &quot;org.glassfish.jersey.media:jersey-media-json-jackson:${JERSEY_VERSION}&quot;\r\n}\r\n```\r\n\r\nWhen i call `http://localhost:8080/myservice/abc?identification=61234561234569,71234561234568,71234561234569`\r\n\r\ni got a `NullPointerException` of `myService.findSomething(ids)`\r\n\r\nI start the application with gradle command `appRun`","title":"Spring service NullPointerException jakarta webservice","body":"<pre><code>@Path(&quot;/abc&quot;)\n@Produces(MediaType.APPLICATION_JSON)\npublic class ABCController\n{\n   @Autowired\n   private MyService myService;\n\n   @GET\n   public Response getSome(@QueryParam(&quot;identification&quot;) List&lt;String&gt; ids)\n   {\n      GenericEntity&lt;List&lt;Label&gt;&gt; entity = new GenericEntity&lt;&gt;(myService.findSomething(ids))\n      {\n      };\n      return Response.ok(entity).build();\n   }\n</code></pre>\n<p>MyService:</p>\n<pre><code>@RequiredArgsConstructor\n@Service\npublic class MyService\n{\n   private final MyMapper myMapper;\n\n   private final JpaRepository myRepository;\n\n   public List&lt;String&gt; findSomething(ids){\n         myRepository.findXYZ(ids);\n   }\n</code></pre>\n<p>My MainClass:</p>\n<pre><code>@SpringBootApplication\npublic class MainClass\n{\n   public static void main(String[] args)\n   {\n      SpringApplication.run(MainClass.class, args);\n   }\n\n   @Bean\n   public MyMapper myMapper()\n   {\n      return new MyMapperImpl();\n   }\n}\n</code></pre>\n<p>build.gradle:</p>\n<pre><code>buildscript {\n    ext {\n        LOMBOK_VERSION = &quot;1.18.22&quot;\n        SPRING_BOOT_VERSION = &quot;2.6.6&quot;\n        JERSEY_VERSION = &quot;3.0.8&quot;\n        JACKSON_VERSION = &quot;2.13.1&quot;\n        MSSQL_JDBC_VERSION = &quot;9.4.1.jre11&quot;\n        MAPSTRUCT = &quot;1.5.1.Final&quot;\n    }\n}\n\nplugins {\n    id &quot;org.gretty&quot; version &quot;4.0.3&quot;\n}\n\napply plugin: 'java-library'\napply plugin: 'java'\napply plugin: 'war'\n\nrepositories {\n    mavenLocal()\n    maven {\n        url = '...'\n    }\n}\n\n\ndependencies {\n    compileOnly &quot;org.projectlombok:lombok:${LOMBOK_VERSION}&quot;\n    testImplementation &quot;org.projectlombok:lombok:${LOMBOK_VERSION}&quot;\n    annotationProcessor &quot;org.projectlombok:lombok:${LOMBOK_VERSION}&quot;\n\n    implementation &quot;org.mapstruct:mapstruct:${MAPSTRUCT}&quot;\n    annotationProcessor &quot;org.mapstruct:mapstruct-processor:${MAPSTRUCT}&quot;\n\n    implementation &quot;org.springframework.boot:spring-boot-starter-data-jpa:${SPRING_BOOT_VERSION}&quot;\n\n    implementation &quot;com.microsoft.sqlserver:mssql-jdbc:${MSSQL_JDBC_VERSION}&quot;\n\n    implementation &quot;org.glassfish.jersey.containers:jersey-container-servlet-core:${JERSEY_VERSION}&quot;\n    implementation &quot;org.glassfish.jersey.inject:jersey-hk2:${JERSEY_VERSION}&quot;\n    implementation &quot;org.glassfish.jersey.media:jersey-media-json-jackson:${JERSEY_VERSION}&quot;\n}\n</code></pre>\n<p>When i call <code>http://localhost:8080/myservice/abc?identification=61234561234569,71234561234568,71234561234569</code></p>\n<p>i got a <code>NullPointerException</code> of <code>myService.findSomething(ids)</code></p>\n<p>I start the application with gradle command <code>appRun</code></p>\n"},{"tags":["java","spring","spring-mvc","servlets","methods"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1431571851,"post_id":30228386,"comment_id":48560477,"body_markdown":"That is not valid Java.  Please edit and fix the code.","body":"That is not valid Java.  Please edit and fix the code."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1431572008,"post_id":30228386,"comment_id":48560509,"body_markdown":"Also cut and paste the complete, actual error message, do not paraphrase.","body":"Also cut and paste the complete, actual error message, do not paraphrase."},{"owner":{"account_id":319461,"reputation":7386,"user_id":637242,"accept_rate":88,"display_name":"Juneyoung Oh"},"score":0,"creation_date":1431572172,"post_id":30228386,"comment_id":48560555,"body_markdown":"@JimGarrison you mean `container.`? I put that into code since that line is where my problem occurs. Except that, it is pretty valid java. If you do not mind visit the link I provided on original post. And `RootConfig` is just another java file which has `@Configuration` on class definition. thanks.","body":"@JimGarrison you mean <code>container.</code>? I put that into code since that line is where my problem occurs. Except that, it is pretty valid java. If you do not mind visit the link I provided on original post. And <code>RootConfig</code> is just another java file which has <code>@Configuration</code> on class definition. thanks."},{"owner":{"account_id":319461,"reputation":7386,"user_id":637242,"accept_rate":88,"display_name":"Juneyoung Oh"},"score":0,"creation_date":1431572266,"post_id":30228386,"comment_id":48560586,"body_markdown":"@JimGarrison It is not about error message. The document says parameter variable can use `addListener` method. However in code, it is impossible. It just error so can not even compile","body":"@JimGarrison It is not about error message. The document says parameter variable can use <code>addListener</code> method. However in code, it is impossible. It just error so can not even compile"},{"owner":{"account_id":5939517,"reputation":5041,"user_id":4673475,"display_name":"kucing_terbang"},"score":0,"creation_date":1431573995,"post_id":30228386,"comment_id":48560952,"body_markdown":"@JuneyoungOh Hi, I understand that you can&#39;t compile but can you show the message that compiler show? or might as well show the screenshot of the error.","body":"@JuneyoungOh Hi, I understand that you can&#39;t compile but can you show the message that compiler show? or might as well show the screenshot of the error."},{"owner":{"account_id":319461,"reputation":7386,"user_id":637242,"accept_rate":88,"display_name":"Juneyoung Oh"},"score":0,"creation_date":1431574124,"post_id":30228386,"comment_id":48560975,"body_markdown":"@kucing_terbang OK. I will edit the post :)","body":"@kucing_terbang OK. I will edit the post :)"},{"owner":{"account_id":5939517,"reputation":5041,"user_id":4673475,"display_name":"kucing_terbang"},"score":0,"creation_date":1431574968,"post_id":30228386,"comment_id":48561201,"body_markdown":"@JuneyoungOh hmm strange indeed. Can you show me your pom.xml? it should be able to accept the parameter if you&#39;re using servlet api ver 3. and to make sure, can you try to find the `ServletContext` and `ContextLoaderListener` classes to make sure there is no conflicting dependency?","body":"@JuneyoungOh hmm strange indeed. Can you show me your pom.xml? it should be able to accept the parameter if you&#39;re using servlet api ver 3. and to make sure, can you try to find the <code>ServletContext</code> and <code>ContextLoaderListener</code> classes to make sure there is no conflicting dependency?"},{"owner":{"account_id":319461,"reputation":7386,"user_id":637242,"accept_rate":88,"display_name":"Juneyoung Oh"},"score":0,"creation_date":1431584789,"post_id":30228386,"comment_id":48564400,"body_markdown":"@kucing_terbang Oh! thanks for clue. I just put dependency servlet2.5;;; Please, write this as an answer so I can close this issue. Thanks! - I found 2 ways to fix this. #1. make version 3.0.1 and artifactId &#39;javax.servlet-api&#39;. #2.add tomcat(in my case 7.0) to project build path and remove servlet dependency.","body":"@kucing_terbang Oh! thanks for clue. I just put dependency servlet2.5;;; Please, write this as an answer so I can close this issue. Thanks! - I found 2 ways to fix this. #1. make version 3.0.1 and artifactId &#39;javax.servlet-api&#39;. #2.add tomcat(in my case 7.0) to project build path and remove servlet dependency."}],"answers":[{"comments":[{"owner":{"account_id":1359054,"reputation":746,"user_id":1296783,"accept_rate":67,"display_name":"yeaaaahhhh..hamf hamf"},"score":0,"creation_date":1447854162,"post_id":30231246,"comment_id":55329631,"body_markdown":"Appreciate it. Nice insight","body":"Appreciate it. Nice insight"}],"tags":[],"owner":{"account_id":5939517,"reputation":5041,"user_id":4673475,"display_name":"kucing_terbang"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1431586834,"creation_date":1431586834,"answer_id":30231246,"question_id":30228386,"body_markdown":"To follow up on what @JuneyoungOh has commented, turns out that the problem is because of conflicting dependency. And these are the ways to solve this problem :\r\n\r\n    * make version 3.0.1 and artifactId &#39;javax.servlet-api&#39; or\r\n    * add tomcat(in my case 7.0) to project build path and remove servlet dependency.\r\n\r\n","title":"can not find addListener method from javax.servlet.ServletContext","body":"<p>To follow up on what @JuneyoungOh has commented, turns out that the problem is because of conflicting dependency. And these are the ways to solve this problem :</p>\n\n<pre><code>* make version 3.0.1 and artifactId 'javax.servlet-api' or\n* add tomcat(in my case 7.0) to project build path and remove servlet dependency.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":319461,"reputation":7386,"user_id":637242,"accept_rate":88,"display_name":"Juneyoung Oh"},"score":0,"creation_date":1440478742,"post_id":32179996,"comment_id":52276622,"body_markdown":"Thanks for additional information. I hope it will quite a help :-)","body":"Thanks for additional information. I hope it will quite a help :-)"}],"tags":[],"owner":{"account_id":1438051,"reputation":1225,"user_id":3344049,"display_name":"Kamiel Ahmadpour"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440411949,"creation_date":1440411949,"answer_id":32179996,"question_id":30228386,"body_markdown":"In my case the problem was because of Spring-Support which is depended on &quot;javax.servlet&quot; and I just excluded it:\r\n\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-support&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-support.version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;","title":"can not find addListener method from javax.servlet.ServletContext","body":"<p>In my case the problem was because of Spring-Support which is depended on \"javax.servlet\" and I just excluded it:</p>\n\n<pre><code>     &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-support&lt;/artifactId&gt;\n        &lt;version&gt;${spring-support.version}&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4594315,"reputation":11,"user_id":3726835,"display_name":"s3ns3i"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516798989,"creation_date":1516798989,"answer_id":48423213,"question_id":30228386,"body_markdown":"In my case there was:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.5&lt;/version&gt;\r\n    \t&lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\nnotice, that artifactId is **servlet-api**, not javax.servlet-api.\r\n\r\nI have created a *legacy MVC project*, that&#39;s why I had this package. When I tried to convert .xml configuration to Java, I came across this problem.\r\n\r\nCertainly it&#39;s not the same as in the question, but it shows up as the first result in google search.","title":"can not find addListener method from javax.servlet.ServletContext","body":"<p>In my case there was:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;2.5&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>notice, that artifactId is <strong>servlet-api</strong>, not javax.servlet-api.</p>\n\n<p>I have created a <em>legacy MVC project</em>, that's why I had this package. When I tried to convert .xml configuration to Java, I came across this problem.</p>\n\n<p>Certainly it's not the same as in the question, but it shows up as the first result in google search.</p>\n"},{"tags":[],"owner":{"account_id":3066113,"reputation":791,"user_id":2597758,"accept_rate":71,"display_name":"WebViewer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664540542,"creation_date":1664540542,"answer_id":73908698,"question_id":30228386,"body_markdown":"In my case I just had to comment **out** the javax.servlet:servlet-api dependency as depicted here: \r\n\r\n        &lt;!-- dependency&gt;\r\n          &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n          &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5&lt;/version&gt;\r\n        &lt;/dependency --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.47&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThis looks like the same idea presented here: https://stackoverflow.com/a/30231246/2597758 ","title":"can not find addListener method from javax.servlet.ServletContext","body":"<p>In my case I just had to comment <strong>out</strong> the javax.servlet:servlet-api dependency as depicted here:</p>\n<pre><code>    &lt;!-- dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;2.5&lt;/version&gt;\n    &lt;/dependency --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n        &lt;version&gt;7.0.47&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>This looks like the same idea presented here: <a href=\"https://stackoverflow.com/a/30231246/2597758\">https://stackoverflow.com/a/30231246/2597758</a></p>\n"}],"owner":{"account_id":319461,"reputation":7386,"user_id":637242,"accept_rate":88,"display_name":"Juneyoung Oh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9312,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":30231246,"answer_count":4,"score":6,"last_activity_date":1664540542,"creation_date":1431571091,"question_id":30228386,"body_markdown":"I am trying to change spring xml settings to pure code based setting.\r\n\r\nSo I read official documents and some posts from blogs.\r\n\r\ne.g. http://docs.spring.io/spring-framework/docs/4.1.x/javadoc-api/org/springframework/web/WebApplicationInitializer.html\r\n\r\nAn I made a code like ...\r\n\r\n    public class TestInitializer implements WebApplicationInitializer {\r\n    \r\n    \t@Override\r\n    \tpublic void onStartup(ServletContext container)\r\n    \t\t\tthrows ServletException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tSystem.out.println(&quot;on Startup method has called.&quot;);\r\n    \t\tAnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\r\n    \t\tctx.register(RootConfig.class);\r\n    \t\tcontainer.\r\n    \t\t\r\n    \t\t\r\n    \t\t//container.addListener(new ContextLoaderListener(ctx));\r\n    \t}\r\n    };\r\n\r\nA problem here. In those pages, they use `addListener(new ContextLoaderListener(ctx))` method to set context. However my eclipse can not find that method from `container` variable.\r\n\r\nI do not know any clue why my container variable(javax.servlet.ServletContext instance) can not read this method.\r\n\r\nThanks for your answer:D\r\n\r\n\r\nP.S.\r\n\r\nMy spring version is `4.1.6.RELEASE` and I include `servlet3.0, spring-context, spring-webmvc` on `pom.xml`.\r\n\r\n\r\n========================\r\n\r\nMaybe I got some communication problem, So I summarize this :D\r\n\r\n - javax.servlet.ServletContext doc clearly state that it has method\r\n   `addListener` &gt;&gt;\r\n   http://docs.oracle.com/javaee/6/api/javax/servlet/ServletContext.html\r\n - have to use Spring `WebApplicationInitializer.onStartup(ServletContext)` to set basic setting via Java source code, not XML\r\n - Can not load `addListener` from `ServletContext` class.\r\n\r\n=================================\r\n\r\nEdit. This is not error on console. However it is the only message I got.\r\nIt is from eclipse toolkit.\r\n\r\n    The method addListener(ContextLoaderListener) is undefined for the type ServletContext\r\n\r\nthan recommendation is `Add cast to &#39;container&#39;`","title":"can not find addListener method from javax.servlet.ServletContext","body":"<p>I am trying to change spring xml settings to pure code based setting.</p>\n\n<p>So I read official documents and some posts from blogs.</p>\n\n<p>e.g. <a href=\"http://docs.spring.io/spring-framework/docs/4.1.x/javadoc-api/org/springframework/web/WebApplicationInitializer.html\" rel=\"noreferrer\">http://docs.spring.io/spring-framework/docs/4.1.x/javadoc-api/org/springframework/web/WebApplicationInitializer.html</a></p>\n\n<p>An I made a code like ...</p>\n\n<pre><code>public class TestInitializer implements WebApplicationInitializer {\n\n    @Override\n    public void onStartup(ServletContext container)\n            throws ServletException {\n        // TODO Auto-generated method stub\n        System.out.println(\"on Startup method has called.\");\n        AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\n        ctx.register(RootConfig.class);\n        container.\n\n\n        //container.addListener(new ContextLoaderListener(ctx));\n    }\n};\n</code></pre>\n\n<p>A problem here. In those pages, they use <code>addListener(new ContextLoaderListener(ctx))</code> method to set context. However my eclipse can not find that method from <code>container</code> variable.</p>\n\n<p>I do not know any clue why my container variable(javax.servlet.ServletContext instance) can not read this method.</p>\n\n<p>Thanks for your answer:D</p>\n\n<p>P.S.</p>\n\n<p>My spring version is <code>4.1.6.RELEASE</code> and I include <code>servlet3.0, spring-context, spring-webmvc</code> on <code>pom.xml</code>.</p>\n\n<p>========================</p>\n\n<p>Maybe I got some communication problem, So I summarize this :D</p>\n\n<ul>\n<li>javax.servlet.ServletContext doc clearly state that it has method\n<code>addListener</code> >>\n<a href=\"http://docs.oracle.com/javaee/6/api/javax/servlet/ServletContext.html\" rel=\"noreferrer\">http://docs.oracle.com/javaee/6/api/javax/servlet/ServletContext.html</a></li>\n<li>have to use Spring <code>WebApplicationInitializer.onStartup(ServletContext)</code> to set basic setting via Java source code, not XML</li>\n<li>Can not load <code>addListener</code> from <code>ServletContext</code> class.</li>\n</ul>\n\n<p>=================================</p>\n\n<p>Edit. This is not error on console. However it is the only message I got.\nIt is from eclipse toolkit.</p>\n\n<pre><code>The method addListener(ContextLoaderListener) is undefined for the type ServletContext\n</code></pre>\n\n<p>than recommendation is <code>Add cast to 'container'</code></p>\n"},{"tags":["java","spring-boot","hibernate","hibernate-envers"],"comments":[{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1664540947,"post_id":73883786,"comment_id":130501277,"body_markdown":"What&#39;s the problem with native query ?","body":"What&#39;s the problem with native query ?"}],"answers":[{"comments":[{"owner":{"account_id":5582319,"reputation":37,"user_id":5000884,"display_name":"L. Tudy"},"score":0,"creation_date":1664543231,"post_id":73908694,"comment_id":130502059,"body_markdown":"Where is `e.originalId.timestamp` coming from, the  _AUD tables don&#39;t contain any originalId?","body":"Where is <code>e.originalId.timestamp</code> coming from, the  _AUD tables don&#39;t contain any originalId?"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":1,"creation_date":1664543499,"post_id":73908694,"comment_id":130502152,"body_markdown":"Do you know what a HQL query is? It&#39;s the Hibernate Query Language which works on the domain model i.e. your entities with associations and embeddables. This has nothing to do with tables. The failure for the native query is because this should be a `@Modifying` query that returns `void` or `int`: https://www.baeldung.com/spring-data-jpa-modifying-annotation","body":"Do you know what a HQL query is? It&#39;s the Hibernate Query Language which works on the domain model i.e. your entities with associations and embeddables. This has nothing to do with tables. The failure for the native query is because this should be a <code>@Modifying</code> query that returns <code>void</code> or <code>int</code>: <a href=\"https://www.baeldung.com/spring-data-jpa-modifying-annotation\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-jpa-modifying-annotation</a>"},{"owner":{"account_id":5582319,"reputation":37,"user_id":5000884,"display_name":"L. Tudy"},"score":1,"creation_date":1664543978,"post_id":73908694,"comment_id":130502338,"body_markdown":"I know what HQL is but is irrelevant, as I still have to write native like queries using a model instead of directly referencing the tables. I was hoping for a way to use directly the AuditReader provided in envers.","body":"I know what HQL is but is irrelevant, as I still have to write native like queries using a model instead of directly referencing the tables. I was hoping for a way to use directly the AuditReader provided in envers."}],"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664540511,"creation_date":1664540511,"answer_id":73908694,"question_id":73883786,"body_markdown":"Yeah, you should be able to use HQL for this. For every entity with `@Audited` a new entity is created with the name suffix `_AUD`. So you should be able to do `delete from fully.qualified.name.to.Entity_AUD e where add_days(e.originalId.timestamp, 30*3) &lt; CURRENT_TIMESTAMP`","title":"How to remove hibernate envers audit history older than 3 months without using native query?","body":"<p>Yeah, you should be able to use HQL for this. For every entity with <code>@Audited</code> a new entity is created with the name suffix <code>_AUD</code>. So you should be able to do <code>delete from fully.qualified.name.to.Entity_AUD e where add_days(e.originalId.timestamp, 30*3) &lt; CURRENT_TIMESTAMP</code></p>\n"}],"owner":{"account_id":5582319,"reputation":37,"user_id":5000884,"display_name":"L. Tudy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664540511,"creation_date":1664377611,"question_id":73883786,"body_markdown":"I am using **Hibernate eveners** to keep the audit data of several entities (**Enity_History** the audit table) and I use the default **REVINFO** table. \r\nIs there a way to delete the audit data, that is older than 3 months from today, without using a native query?","title":"How to remove hibernate envers audit history older than 3 months without using native query?","body":"<p>I am using <strong>Hibernate eveners</strong> to keep the audit data of several entities (<strong>Enity_History</strong> the audit table) and I use the default <strong>REVINFO</strong> table.\nIs there a way to delete the audit data, that is older than 3 months from today, without using a native query?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1664533392,"post_id":73907249,"comment_id":130498896,"body_markdown":"have you debugged your code? Do you get error messages?","body":"have you debugged your code? Do you get error messages?"},{"owner":{"account_id":26020744,"reputation":61,"user_id":19728482,"display_name":"Alex Roman"},"score":0,"creation_date":1664533491,"post_id":73907249,"comment_id":130498924,"body_markdown":"I haven&#39;t tried debugging. The program runs, the buttons change to X when pressed but the label doesn&#39;t updtate to &quot;Turn: O&quot;.","body":"I haven&#39;t tried debugging. The program runs, the buttons change to X when pressed but the label doesn&#39;t updtate to &quot;Turn: O&quot;."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1664534149,"post_id":73907249,"comment_id":130499116,"body_markdown":"Just step through the code in `changeTurn()` in your head, and think about the value of `currentPlayer` when each `if(...)` condition is evaluated.","body":"Just step through the code in <code>changeTurn()</code> in your head, and think about the value of <code>currentPlayer</code> when each <code>if(...)</code> condition is evaluated."},{"owner":{"account_id":26020744,"reputation":61,"user_id":19728482,"display_name":"Alex Roman"},"score":0,"creation_date":1664534371,"post_id":73907249,"comment_id":130499181,"body_markdown":"Damn.. Thank you! I feel so silly now..","body":"Damn.. Thank you! I feel so silly now.."}],"answers":[{"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1664535102,"post_id":73907475,"comment_id":130499407,"body_markdown":"Probably a more ‚Äúidiomatic‚Äù way to fix this is to add an `else` before the second `if`; but this works too.","body":"Probably a more ‚Äúidiomatic‚Äù way to fix this is to add an <code>else</code> before the second <code>if</code>; but this works too."},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":2,"creation_date":1664555782,"post_id":73907475,"comment_id":130506448,"body_markdown":"Even more idiomatic would be a single ternary statement  currentPlayer = currentPlayer.equals(&quot;X&quot;) ? &quot;O&quot; : &quot;X&quot;.   Maybe even get rid of the method call then.","body":"Even more idiomatic would be a single ternary statement  currentPlayer = currentPlayer.equals(&quot;X&quot;) ? &quot;O&quot; : &quot;X&quot;.   Maybe even get rid of the method call then."}],"tags":[],"owner":{"account_id":26020744,"reputation":61,"user_id":19728482,"display_name":"Alex Roman"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1664540493,"creation_date":1664534486,"answer_id":73907475,"question_id":73907249,"body_markdown":" \r\nAs James_D [said][1], the issue was a very basic one in the `changeTurn` method. I was always changing back to X&#39;s turn.\r\n\r\nI added `return` to the first `if` and now it works.\r\n```java\r\npublic void changeTurn(){\r\n    if (currentPlayer.equals(&quot;X&quot;)) {\r\n        currentPlayer = &quot;O&quot;;\r\n        return;\r\n    }\r\n    if (currentPlayer.equals(&quot;O&quot;)) {\r\n        currentPlayer = &quot;X&quot;;\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/73907249/cant-get-a-label-to-update-its-text-using-javafx#comment130499116_73907249","title":"Can&#39;t get a Label to update its text using JavaFX","body":"<p>As James_D <a href=\"https://stackoverflow.com/questions/73907249/cant-get-a-label-to-update-its-text-using-javafx#comment130499116_73907249\">said</a>, the issue was a very basic one in the <code>changeTurn</code> method. I was always changing back to X's turn.</p>\n<p>I added <code>return</code> to the first <code>if</code> and now it works.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void changeTurn(){\n    if (currentPlayer.equals(&quot;X&quot;)) {\n        currentPlayer = &quot;O&quot;;\n        return;\n    }\n    if (currentPlayer.equals(&quot;O&quot;)) {\n        currentPlayer = &quot;X&quot;;\n    }\n</code></pre>\n"}],"owner":{"account_id":26020744,"reputation":61,"user_id":19728482,"display_name":"Alex Roman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1664540493,"creation_date":1664533243,"question_id":73907249,"body_markdown":"I&#39;m a beginner trying to learn java from the Java MOOC fi course. I&#39;m trying to to a tic tac toe game. I&#39;m trying to add functionality to the buttons so that when I press them the info label at the top changes (showing who&#39;s turn it is) but I can&#39;t get the label to update.\r\nI tried looking up the solution myself but I really couldn&#39;t figure it out.\r\n\r\n```java\r\npackage ticTacToe;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.scene.layout.GridPane;\r\nimport javafx.scene.text.Font;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class TicTacToeApplication extends Application {\r\n    ArrayList&lt;Button&gt; buttons = new ArrayList&lt;&gt;();\r\n    String currentPlayer = &quot;X&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        launch(TicTacToeApplication.class);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage window) throws  Exception{\r\n        BorderPane layout = new BorderPane();\r\n        layout.setPadding(new Insets(20));\r\n\r\n        Label info = new Label(&quot;Turn: &quot; + currentPlayer);\r\n        info.setFont(Font.font(40));\r\n\r\n        GridPane grid = new GridPane();\r\n        grid.setAlignment(Pos.CENTER);\r\n        grid.setHgap(10);\r\n        grid.setVgap(10);\r\n\r\n        //create 9 buttons with the same functionality\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            Button button = new Button();\r\n            button.setFont(Font.font(20));\r\n            button.setMinSize(40,40);\r\n            button.setMaxSize(40, 40);\r\n\r\n            //button functionality\r\n            button.setOnMouseClicked(event -&gt; {\r\n                button.setText(currentPlayer);\r\n                changeTurn();\r\n                info.setText(&quot;Turn: &quot; + currentPlayer);\r\n            });\r\n            buttons.add(button);\r\n        }\r\n        //add buttons to the grid\r\n        int buttonNr = 0;\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            for (int j = 0; j &lt;3; j++) {\r\n                grid.add(buttons.get(buttonNr),i,j);\r\n                buttonNr++;\r\n            }\r\n        }\r\n\r\n        //setup main layout\r\n        layout.setTop(info);\r\n        layout.setCenter(grid);\r\n\r\n        //setup and start scene\r\n        Scene scene = new Scene(layout);\r\n        window.setTitle(&quot;TicTacToe&quot;);\r\n        window.setScene(scene);\r\n        window.show();\r\n    }\r\n\r\n    public void changeTurn(){\r\n        if (currentPlayer.equals(&quot;X&quot;)) {\r\n            currentPlayer = &quot;O&quot;;\r\n        }\r\n        if (currentPlayer.equals(&quot;O&quot;)) {\r\n            currentPlayer = &quot;X&quot;;\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Can&#39;t get a Label to update its text using JavaFX","body":"<p>I'm a beginner trying to learn java from the Java MOOC fi course. I'm trying to to a tic tac toe game. I'm trying to add functionality to the buttons so that when I press them the info label at the top changes (showing who's turn it is) but I can't get the label to update.\nI tried looking up the solution myself but I really couldn't figure it out.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package ticTacToe;\n\nimport javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.text.Font;\nimport javafx.stage.Stage;\n\nimport java.util.ArrayList;\n\npublic class TicTacToeApplication extends Application {\n    ArrayList&lt;Button&gt; buttons = new ArrayList&lt;&gt;();\n    String currentPlayer = &quot;X&quot;;\n\n    public static void main(String[] args) {\n        launch(TicTacToeApplication.class);\n    }\n\n    @Override\n    public void start(Stage window) throws  Exception{\n        BorderPane layout = new BorderPane();\n        layout.setPadding(new Insets(20));\n\n        Label info = new Label(&quot;Turn: &quot; + currentPlayer);\n        info.setFont(Font.font(40));\n\n        GridPane grid = new GridPane();\n        grid.setAlignment(Pos.CENTER);\n        grid.setHgap(10);\n        grid.setVgap(10);\n\n        //create 9 buttons with the same functionality\n        for (int i = 0; i &lt; 9; i++) {\n            Button button = new Button();\n            button.setFont(Font.font(20));\n            button.setMinSize(40,40);\n            button.setMaxSize(40, 40);\n\n            //button functionality\n            button.setOnMouseClicked(event -&gt; {\n                button.setText(currentPlayer);\n                changeTurn();\n                info.setText(&quot;Turn: &quot; + currentPlayer);\n            });\n            buttons.add(button);\n        }\n        //add buttons to the grid\n        int buttonNr = 0;\n        for (int i = 0; i &lt; 3; i++) {\n            for (int j = 0; j &lt;3; j++) {\n                grid.add(buttons.get(buttonNr),i,j);\n                buttonNr++;\n            }\n        }\n\n        //setup main layout\n        layout.setTop(info);\n        layout.setCenter(grid);\n\n        //setup and start scene\n        Scene scene = new Scene(layout);\n        window.setTitle(&quot;TicTacToe&quot;);\n        window.setScene(scene);\n        window.show();\n    }\n\n    public void changeTurn(){\n        if (currentPlayer.equals(&quot;X&quot;)) {\n            currentPlayer = &quot;O&quot;;\n        }\n        if (currentPlayer.equals(&quot;O&quot;)) {\n            currentPlayer = &quot;X&quot;;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-el","spring-projections"],"comments":[{"owner":{"account_id":20233393,"reputation":432,"user_id":14839305,"display_name":"Rhett Harrison"},"score":0,"creation_date":1668573556,"post_id":73908680,"comment_id":131435987,"body_markdown":"You might consider outsourcing the creation of the GsonBuilder to a service and then have the service method return the GsonBuilder object. You should be able to call that from your SpEL statement. Looks like Jackson just doesn&#39;t recognize the GsonBuilder constructor for whatever reason","body":"You might consider outsourcing the creation of the GsonBuilder to a service and then have the service method return the GsonBuilder object. You should be able to call that from your SpEL statement. Looks like Jackson just doesn&#39;t recognize the GsonBuilder constructor for whatever reason"}],"owner":{"account_id":5557760,"reputation":323,"user_id":4527149,"display_name":"CdVr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664540444,"creation_date":1664540444,"question_id":73908680,"body_markdown":"The projection for converting a `string` field to `JSONObject` using default method as below works fine:\r\n\r\n    public interface ResponseProjection {\r\n    \r\n        @JsonIgnore\r\n        @Value(&quot;#{target.extraData}&quot;)\r\n        String getExtras();\r\n    \r\n        default JSONObject getExtraData() {\r\n            return new Gson().fromJson(getExtras(), JSONObject.class);\r\n        }\r\n    \r\n    }\r\n\r\nwhereas, while using open projection like below?\r\n\r\n    public interface ResponseProjection {\r\n    \r\n        @Value(&quot;#{java(new GsonBuilder().disableHtmlEscaping().create().fromJson(target.extraData, JSONObject.class))}&quot;)\r\n        JSONObject getExtraData();\r\n    \r\n    }\r\n\r\nthrows error:\r\n\r\n&gt; w.s.m.s.DefaultHandlerExceptionResolver : Resolved\r\n&gt; [org.springframework.http.converter.HttpMessageNotWritableException:\r\n&gt; Could not write JSON: EL1003E: A problem occurred whilst attempting to\r\n&gt; construct an object of type &#39;GsonBuilder&#39; using arguments &#39;()&#39;; nested\r\n&gt; exception is com.fasterxml.jackson.databind.JsonMappingException:\r\n&gt; EL1003E: A problem occurred whilst attempting to construct an object\r\n&gt; of type &#39;GsonBuilder&#39; using arguments &#39;()&#39; (through reference chain:\r\n&gt; com.sun.proxy.$Proxy162[&quot;extraDataDto&quot;]-&gt;com.sun.proxy.$Proxy166[&quot;extraData&quot;])]\r\n\r\nIs there a way to parse `jsonString` to `json` using Gson using open projection?","title":"How to use java expression in spring data projection using SpEL","body":"<p>The projection for converting a <code>string</code> field to <code>JSONObject</code> using default method as below works fine:</p>\n<pre><code>public interface ResponseProjection {\n\n    @JsonIgnore\n    @Value(&quot;#{target.extraData}&quot;)\n    String getExtras();\n\n    default JSONObject getExtraData() {\n        return new Gson().fromJson(getExtras(), JSONObject.class);\n    }\n\n}\n</code></pre>\n<p>whereas, while using open projection like below?</p>\n<pre><code>public interface ResponseProjection {\n\n    @Value(&quot;#{java(new GsonBuilder().disableHtmlEscaping().create().fromJson(target.extraData, JSONObject.class))}&quot;)\n    JSONObject getExtraData();\n\n}\n</code></pre>\n<p>throws error:</p>\n<blockquote>\n<p>w.s.m.s.DefaultHandlerExceptionResolver : Resolved\n[org.springframework.http.converter.HttpMessageNotWritableException:\nCould not write JSON: EL1003E: A problem occurred whilst attempting to\nconstruct an object of type 'GsonBuilder' using arguments '()'; nested\nexception is com.fasterxml.jackson.databind.JsonMappingException:\nEL1003E: A problem occurred whilst attempting to construct an object\nof type 'GsonBuilder' using arguments '()' (through reference chain:\ncom.sun.proxy.$Proxy162[&quot;extraDataDto&quot;]-&gt;com.sun.proxy.$Proxy166[&quot;extraData&quot;])]</p>\n</blockquote>\n<p>Is there a way to parse <code>jsonString</code> to <code>json</code> using Gson using open projection?</p>\n"},{"tags":["java","junit","mockito","powermockito"],"comments":[{"owner":{"account_id":5064897,"reputation":423,"user_id":4065216,"accept_rate":48,"display_name":"Sawyer"},"score":0,"creation_date":1503581672,"post_id":45862953,"comment_id":78684366,"body_markdown":"I have tried to do it but unable to get what I am missing.","body":"I have tried to do it but unable to get what I am missing."},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1503585400,"post_id":45862953,"comment_id":78687227,"body_markdown":"@Sawyer The code snippet is incomplete, but I suggest to look again at your stub.","body":"@Sawyer The code snippet is incomplete, but I suggest to look again at your stub."},{"owner":{"account_id":5064897,"reputation":423,"user_id":4065216,"accept_rate":48,"display_name":"Sawyer"},"score":0,"creation_date":1503585503,"post_id":45862953,"comment_id":78687300,"body_markdown":"I am  not able to achieve the coverage and testing of Strings in Catch block. How do I do that.","body":"I am  not able to achieve the coverage and testing of Strings in Catch block. How do I do that."},{"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"score":2,"creation_date":1503600622,"post_id":45862953,"comment_id":78696731,"body_markdown":"Simple question: Does `SimpleClass.firec2TEvents` have a `throws Exception` in it&#39;s declaration? If not, then it may not throw `Exception`, since Exception is a checked Exception. If you want to test that catch block, you should make it throw a `RuntimeException` instead - or any declared checked Exception. This is what the failure is telling you: You are trying to throw a checked Exception, but the method in question does not declare throwing this checked Exception, so you are not allowed to throw that checked Exception.","body":"Simple question: Does <code>SimpleClass.firec2TEvents</code> have a <code>throws Exception</code> in it&#39;s declaration? If not, then it may not throw <code>Exception</code>, since Exception is a checked Exception. If you want to test that catch block, you should make it throw a <code>RuntimeException</code> instead - or any declared checked Exception. This is what the failure is telling you: You are trying to throw a checked Exception, but the method in question does not declare throwing this checked Exception, so you are not allowed to throw that checked Exception."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1503919012,"post_id":45862953,"comment_id":78793763,"body_markdown":"I appreciate the timely comeback ;-)","body":"I appreciate the timely comeback ;-)"}],"answers":[{"comments":[{"owner":{"account_id":5064897,"reputation":423,"user_id":4065216,"accept_rate":48,"display_name":"Sawyer"},"score":0,"creation_date":1503907007,"post_id":45868815,"comment_id":78786982,"body_markdown":"How do I verify the contents of catch, can you please give me a hint?","body":"How do I verify the contents of catch, can you please give me a hint?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1503907374,"post_id":45868815,"comment_id":78787164,"body_markdown":"It depends. If `Logger.log()` is a **static** call ... you *could* use PowerMock(ito) or JMockit to *verify* that a log call took place. I personally dislike mocking static calls, alternatively, you can: put an *instance* of some logging interface as member into that production class. And then: you can use *dependency injection* to provide a **mocked** logger object. Which again you can then *verify* calls on. Ok ... that were another 5 minutes ;-)","body":"It depends. If <code>Logger.log()</code> is a <b>static</b> call ... you <i>could</i> use PowerMock(ito) or JMockit to <i>verify</i> that a log call took place. I personally dislike mocking static calls, alternatively, you can: put an <i>instance</i> of some logging interface as member into that production class. And then: you can use <i>dependency injection</i> to provide a <b>mocked</b> logger object. Which again you can then <i>verify</i> calls on. Ok ... that were another 5 minutes ;-)"},{"owner":{"account_id":5064897,"reputation":423,"user_id":4065216,"accept_rate":48,"display_name":"Sawyer"},"score":0,"creation_date":1503918390,"post_id":45868815,"comment_id":78793443,"body_markdown":"+1 to your information on the above and upvote for the answer for giving some knowledge with what happens with a mock and what is assumed. I acheived coverage though with the by InjectMocks on the Simple class and calling the runMethod() with uninitialized objects of this method parameters. You can edit the answer though, as you said to verfiy.","body":"+1 to your information on the above and upvote for the answer for giving some knowledge with what happens with a mock and what is assumed. I acheived coverage though with the by InjectMocks on the Simple class and calling the runMethod() with uninitialized objects of this method parameters. You can edit the answer though, as you said to verfiy."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1503919143,"post_id":45868815,"comment_id":78793846,"body_markdown":"You are welcome, but I have to admit: I am not getting what you are trying to tell me. Anyway, I updated my answer ...","body":"You are welcome, but I have to admit: I am not getting what you are trying to tell me. Anyway, I updated my answer ..."}],"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1503919132,"creation_date":1503600045,"answer_id":45868815,"question_id":45862953,"body_markdown":"You are getting unit testing with mocking wrong. Here:\r\n\r\n    SimpleClass instanceObj =PowerMockito.mock(SimpleClass.class);\r\n\r\nThere is **no** point in mocking the class that is *under test*!\r\n\r\nWhen you *mock* that class, you get a *stub* that has &quot;nothing to do&quot; with your real implementation. A &quot;working setup&quot; would look more like:\r\n\r\n    public void methodUnderTest(X x, ...) {\r\n       try { \r\n         x.foo(); \r\n       } catch (Exception e) {\r\n        ...\r\n    }\r\n\r\nand \r\n\r\n     X mockedX = mock(X.class);\r\n     when(x.foo()).thenThrow(new WhateverException());\r\n\r\n     underTest.methodUnderTest(mockedX); ...\r\n\r\nand then you could try to **verify** for example that the logger saw that expected logging call. In other words: you either use a mock to *allow* your code under test to do its job (with *you* being in control!) or to **verify** that some expected call took place on a mock object.\r\n\r\nBut as said: it doesn&#39;t make any sense to mock that class that you want to test. Because a mocked object doesn&#39;t know anything about the &quot;real&quot; implementation!","title":"checked exception is invalid for this method","body":"<p>You are getting unit testing with mocking wrong. Here:</p>\n\n<pre><code>SimpleClass instanceObj =PowerMockito.mock(SimpleClass.class);\n</code></pre>\n\n<p>There is <strong>no</strong> point in mocking the class that is <em>under test</em>!</p>\n\n<p>When you <em>mock</em> that class, you get a <em>stub</em> that has \"nothing to do\" with your real implementation. A \"working setup\" would look more like:</p>\n\n<pre><code>public void methodUnderTest(X x, ...) {\n   try { \n     x.foo(); \n   } catch (Exception e) {\n    ...\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code> X mockedX = mock(X.class);\n when(x.foo()).thenThrow(new WhateverException());\n\n underTest.methodUnderTest(mockedX); ...\n</code></pre>\n\n<p>and then you could try to <strong>verify</strong> for example that the logger saw that expected logging call. In other words: you either use a mock to <em>allow</em> your code under test to do its job (with <em>you</em> being in control!) or to <strong>verify</strong> that some expected call took place on a mock object.</p>\n\n<p>But as said: it doesn't make any sense to mock that class that you want to test. Because a mocked object doesn't know anything about the \"real\" implementation!</p>\n"},{"comments":[{"owner":{"account_id":3229405,"reputation":970,"user_id":4469094,"accept_rate":75,"display_name":"Raghvendra Singh"},"score":0,"creation_date":1617108946,"post_id":45870038,"comment_id":118206600,"body_markdown":"I see what you are trying to get at basically mockito does not allow any exception to be thrown other than those declared in the method signature.\nSo, for this question to be answered we need signature of doesSomething()","body":"I see what you are trying to get at basically mockito does not allow any exception to be thrown other than those declared in the method signature. So, for this question to be answered we need signature of doesSomething()"}],"tags":[],"owner":{"account_id":4401188,"reputation":4398,"user_id":3586851,"accept_rate":50,"display_name":"Heri"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664540302,"creation_date":1503605072,"answer_id":45870038,"question_id":45862953,"body_markdown":"Manipulate the environment so that `doesSomething()` throws the Exception you want. Since we do not know what `doesSomething()` really does, one cannot say more.","title":"checked exception is invalid for this method","body":"<p>Manipulate the environment so that <code>doesSomething()</code> throws the Exception you want. Since we do not know what <code>doesSomething()</code> really does, one cannot say more.</p>\n"}],"owner":{"account_id":5064897,"reputation":423,"user_id":4065216,"accept_rate":48,"display_name":"Sawyer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47053,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"closed_date":1503666149,"accepted_answer_id":45868815,"answer_count":2,"score":8,"last_activity_date":1664540302,"creation_date":1503581325,"question_id":45862953,"body_markdown":"I have the below class\r\nThere is an answer to this in StackOverflow but it deals with List https://stackoverflow.com/questions/3762047/throw-checked-exceptions-from-mocks-with-mockito. I like to look into this condition. Not getting where I am missing.\r\n\r\n    public SimpleClass{                                                         \r\n        private SimpleClass() {}                                                    \r\n        public void runMethod(request,String,Map,Object,Object) {                   \r\n            try {                                                                  \r\n                doesSomething()....                                                \r\n            }                                                                      \r\n        }                                                                          \r\n        catch(Exception e) {                                                        \r\n            String message = &quot;&quot; + request.getAttribute(X) + &quot;Some message&quot;;        \r\n            Logger.Log(param1 + param2 + message);                                 \r\n        }                                                                          \r\n    }\r\n\r\nMy Test method looks like below. I trying to run the coverage with the JUnit but the Catch Block is not covered, so Wrote the below test method. It throws the below exception. Not able to get where I am missing.\r\n        \r\n    public class SimpleClassTest{                                               \r\n        @Test                                                                   \r\n        public void testCatchBlock() {                                           \r\n            SimpleClass instanceObj = PowerMockito.mock(SimpleClass.class);     \r\n            Mockito.doThrow(new Exception())                                    \r\n                    .when(instanceObj)                                           \r\n                    .runMethod(request, anyString(), anyMap(), anyObject(), anyObject());\r\n        }                                                                       \r\n    }\r\n \r\n**Exception Thrown**  \r\n\r\n    org.mockito.exceptions.base.MockitoException: \r\n    Checked exception is invalid for this method!\r\n    Invalid: java.lang.Exception\r\n\r\n**Edit**\r\n\r\nI am able to run the method by giving NullPointerException. When I try for code coverage with Junit, the catch block is completely shown as red, and the catch phrase is shown yellow. How do I achieve 100% coverage and how to test the String message in the catch block.","title":"checked exception is invalid for this method","body":"<p>I have the below class\nThere is an answer to this in StackOverflow but it deals with List <a href=\"https://stackoverflow.com/questions/3762047/throw-checked-exceptions-from-mocks-with-mockito\">throw checked Exceptions from mocks with Mockito</a>. I like to look into this condition. Not getting where I am missing.</p>\n<pre><code>public SimpleClass{                                                         \n    private SimpleClass() {}                                                    \n    public void runMethod(request,String,Map,Object,Object) {                   \n        try {                                                                  \n            doesSomething()....                                                \n        }                                                                      \n    }                                                                          \n    catch(Exception e) {                                                        \n        String message = &quot;&quot; + request.getAttribute(X) + &quot;Some message&quot;;        \n        Logger.Log(param1 + param2 + message);                                 \n    }                                                                          \n}\n</code></pre>\n<p>My Test method looks like below. I trying to run the coverage with the JUnit but the Catch Block is not covered, so Wrote the below test method. It throws the below exception. Not able to get where I am missing.</p>\n<pre><code>public class SimpleClassTest{                                               \n    @Test                                                                   \n    public void testCatchBlock() {                                           \n        SimpleClass instanceObj = PowerMockito.mock(SimpleClass.class);     \n        Mockito.doThrow(new Exception())                                    \n                .when(instanceObj)                                           \n                .runMethod(request, anyString(), anyMap(), anyObject(), anyObject());\n    }                                                                       \n}\n</code></pre>\n<p><strong>Exception Thrown</strong></p>\n<pre><code>org.mockito.exceptions.base.MockitoException: \nChecked exception is invalid for this method!\nInvalid: java.lang.Exception\n</code></pre>\n<p><strong>Edit</strong></p>\n<p>I am able to run the method by giving NullPointerException. When I try for code coverage with Junit, the catch block is completely shown as red, and the catch phrase is shown yellow. How do I achieve 100% coverage and how to test the String message in the catch block.</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":248843,"reputation":17423,"user_id":524475,"accept_rate":100,"display_name":"Matten"},"score":1,"creation_date":1323105865,"post_id":8389150,"comment_id":10356125,"body_markdown":"Access to this member wouldn&#39;t be possible as well; think about `myEnum x = myEnum.north America`. These won&#39;t be compiable because if one would allow such names, where to set the end of an identifier? Maybe the next code line or statement should be included?","body":"Access to this member wouldn&#39;t be possible as well; think about <code>myEnum x = myEnum.north America</code>. These won&#39;t be compiable because if one would allow such names, where to set the end of an identifier? Maybe the next code line or statement should be included?"},{"owner":{"account_id":70791,"reputation":1619,"user_id":204950,"accept_rate":92,"display_name":"banterCZ"},"score":1,"creation_date":1362556425,"post_id":8389150,"comment_id":21491059,"body_markdown":"Do NOT use small letters for enums and even for class name!","body":"Do NOT use small letters for enums and even for class name!"}],"answers":[{"comments":[{"owner":{"account_id":913129,"reputation":11569,"user_id":946509,"accept_rate":62,"display_name":"BSalunke"},"score":0,"creation_date":1323105551,"post_id":8389169,"comment_id":10356017,"body_markdown":"Thanks Tudor, but i don&#39;t want to do like above as u said. need to keep that words separated.","body":"Thanks Tudor, but i don&#39;t want to do like above as u said. need to keep that words separated."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":3,"creation_date":1323105570,"post_id":8389169,"comment_id":10356021,"body_markdown":"@BSalunke You can&#39;t. You could create an `enum` with a value, though. See update.","body":"@BSalunke You can&#39;t. You could create an <code>enum</code> with a value, though. See update."},{"owner":{"account_id":426969,"reputation":61751,"user_id":808486,"accept_rate":100,"display_name":"Tudor"},"score":2,"creation_date":1323105613,"post_id":8389169,"comment_id":10356039,"body_markdown":"Just to emphasize what Dave Newton is saying: You can&#39;t, it just doesn&#39;t work that way.","body":"Just to emphasize what Dave Newton is saying: You can&#39;t, it just doesn&#39;t work that way."}],"tags":[],"owner":{"account_id":426969,"reputation":61751,"user_id":808486,"accept_rate":100,"display_name":"Tudor"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1323105463,"creation_date":1323105463,"answer_id":8389169,"question_id":8389150,"body_markdown":"Write them together like `northAmerica` or use an underscore `north_America`.","title":"Java enum elements with spaces?","body":"<p>Write them together like <code>northAmerica</code> or use an underscore <code>north_America</code>.</p>\n"},{"comments":[{"owner":{"account_id":70791,"reputation":1619,"user_id":204950,"accept_rate":92,"display_name":"banterCZ"},"score":0,"creation_date":1361892538,"post_id":8389175,"comment_id":21230664,"body_markdown":"Do NOT use small letters for enums and even for class name!","body":"Do NOT use small letters for enums and even for class name!"},{"owner":{"account_id":979180,"reputation":2939,"user_id":999375,"display_name":"Marc Nuri"},"score":0,"creation_date":1362485391,"post_id":8389175,"comment_id":21458424,"body_markdown":"@banterCZ sic erat scriptum","body":"@banterCZ sic erat scriptum"}],"tags":[],"owner":{"account_id":979180,"reputation":2939,"user_id":999375,"display_name":"Marc Nuri"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1323105484,"creation_date":1323105484,"answer_id":8389175,"question_id":8389150,"body_markdown":"    public enum myEnum\r\n    {\r\n        india,\r\n        russian,\r\n        england,\r\n        north_america\r\n    }\r\n\r\nTo access values\r\n\r\n    myEnum.values()","title":"Java enum elements with spaces?","body":"<pre><code>public enum myEnum\n{\n    india,\n    russian,\n    england,\n    north_america\n}\n</code></pre>\n\n<p>To access values</p>\n\n<pre><code>myEnum.values()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":0,"creation_date":1323105800,"post_id":8389188,"comment_id":10356102,"body_markdown":"That&#39;s a syntax error, you can write a compilable code without following the convention.","body":"That&#39;s a syntax error, you can write a compilable code without following the convention."},{"owner":{"account_id":248843,"reputation":17423,"user_id":524475,"accept_rate":100,"display_name":"Matten"},"score":0,"creation_date":1323105965,"post_id":8389188,"comment_id":10356155,"body_markdown":"I&#39;m not a native english speaker, but for my understanding it should be called convention :-)","body":"I&#39;m not a native english speaker, but for my understanding it should be called convention :-)"},{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":0,"creation_date":1323106063,"post_id":8389188,"comment_id":10356189,"body_markdown":"`public enum myEnum` here he is not following the convention. But `north America` is a syntax error and it won&#39;t compile.","body":"<code>public enum myEnum</code> here he is not following the convention. But <code>north America</code> is a syntax error and it won&#39;t compile."},{"owner":{"account_id":248843,"reputation":17423,"user_id":524475,"accept_rate":100,"display_name":"Matten"},"score":0,"creation_date":1323106203,"post_id":8389188,"comment_id":10356252,"body_markdown":"The above section of the java manual describes how to name identifiers with respect to the allowed character","body":"The above section of the java manual describes how to name identifiers with respect to the allowed character"},{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":1,"creation_date":1323106484,"post_id":8389188,"comment_id":10356328,"body_markdown":"It&#39;s the **syntax (rule)** which if you don&#39;t follow then your code won&#39;t compile. Convention is something that&#39;s recommended to follow. http://www.oracle.com/technetwork/java/codeconv-138413.html","body":"It&#39;s the <b>syntax (rule)</b> which if you don&#39;t follow then your code won&#39;t compile. Convention is something that&#39;s recommended to follow. <a href=\"http://www.oracle.com/technetwork/java/codeconv-138413.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/codeconv-138413.html</a>"}],"tags":[],"owner":{"account_id":248843,"reputation":17423,"user_id":524475,"accept_rate":100,"display_name":"Matten"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1323109558,"creation_date":1323105553,"answer_id":8389188,"question_id":8389150,"body_markdown":"The [Java naming rule][1] does not allow white spaces as possible characters in a name of variables, classes, enums and enum members (and every other identifier). Therefore this &quot;problem&quot; cannot be resolved. Just use `north_america&#39; as member name!\r\n\r\n&gt; An identifier is an unlimited-length sequence of Java letters and Java\r\n&gt; digits, the first of which must be a Java letter.\r\n&gt; \r\n&gt; The Java letters include uppercase and lowercase ASCII Latin letters\r\n&gt; A-Z (\\u0041-\\u005a), and a-z (\\u0061-\\u007a), and, for historical\r\n&gt; reasons, the ASCII underscore (_, or \\u005f) and dollar sign ($, or\r\n&gt; \\u0024). The $ character should be used only in mechanically generated\r\n&gt; source code or, rarely, to access preexisting names on legacy systems.\r\n&gt; \r\n&gt; The &quot;Java digits&quot; include the ASCII digits 0-9 (\\u0030-\\u0039).\r\n\r\n  \r\n\r\n[1]: http://java.sun.com/docs/books/jls/second_edition/html/lexical.doc.html#40625\r\n\r\n","title":"Java enum elements with spaces?","body":"<p>The <a href=\"http://java.sun.com/docs/books/jls/second_edition/html/lexical.doc.html#40625\" rel=\"nofollow\">Java naming rule</a> does not allow white spaces as possible characters in a name of variables, classes, enums and enum members (and every other identifier). Therefore this \"problem\" cannot be resolved. Just use `north_america' as member name!</p>\n\n<blockquote>\n  <p>An identifier is an unlimited-length sequence of Java letters and Java\n  digits, the first of which must be a Java letter.</p>\n  \n  <p>The Java letters include uppercase and lowercase ASCII Latin letters\n  A-Z (\\u0041-\\u005a), and a-z (\\u0061-\\u007a), and, for historical\n  reasons, the ASCII underscore (_, or \\u005f) and dollar sign ($, or\n  \\u0024). The $ character should be used only in mechanically generated\n  source code or, rarely, to access preexisting names on legacy systems.</p>\n  \n  <p>The \"Java digits\" include the ASCII digits 0-9 (\\u0030-\\u0039).</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":2,"creation_date":1323106247,"post_id":8389190,"comment_id":10356263,"body_markdown":"You might want a different name than name... (Only one element in the OP is a real country. A country, a language, a constituent country and a continent. Quite an enumeration.)","body":"You might want a different name than name... (Only one element in the OP is a real country. A country, a language, a constituent country and a continent. Quite an enumeration.)"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1323109797,"post_id":8389190,"comment_id":10357303,"body_markdown":"+1 for mentioning the issue with `toString()`. You could ofcourse add a `getDisplayName()` method instead of using `toString()`.","body":"+1 for mentioning the issue with <code>toString()</code>. You could ofcourse add a <code>getDisplayName()</code> method instead of using <code>toString()</code>."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1323111088,"post_id":8389190,"comment_id":10357702,"body_markdown":"@Jesper Yeah, I suppose for things that look specifically for `getXxx`--I left it un-JavaBeany.","body":"@Jesper Yeah, I suppose for things that look specifically for <code>getXxx</code>--I left it un-JavaBeany."},{"owner":{"account_id":268112,"reputation":2718,"user_id":556672,"display_name":"davogotland"},"score":0,"creation_date":1323118522,"post_id":8389190,"comment_id":10359839,"body_markdown":"hahaha!! &quot;and one continent&quot; :&#39;D hilarious. love semantic code :p","body":"hahaha!! &quot;and one continent&quot; :&#39;D hilarious. love semantic code :p"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1323118659,"post_id":8389190,"comment_id":10359882,"body_markdown":"@davogotland Technically I should have gone with Tom&#39;s `CountryLanguageFederationContinentEtc` but it seemed a bit verbose.","body":"@davogotland Technically I should have gone with Tom&#39;s <code>CountryLanguageFederationContinentEtc</code> but it seemed a bit verbose."},{"owner":{"account_id":921430,"reputation":7972,"user_id":953068,"accept_rate":59,"display_name":"Joe"},"score":0,"creation_date":1323120121,"post_id":8389190,"comment_id":10360354,"body_markdown":"An advantage of overriding toString() is that this string can also be used in CountryAndOneContinent.valueOf(myString).  So overriding toString basically creates a HashMap of the enum values.","body":"An advantage of overriding toString() is that this string can also be used in CountryAndOneContinent.valueOf(myString).  So overriding toString basically creates a HashMap of the enum values."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1323121243,"post_id":8389190,"comment_id":10360697,"body_markdown":"@Joe True; one reason I&#39;m ambivalent instead of vehemently opposed. When it comes to enums my stance is somewhat softened precisely for that reason :)","body":"@Joe True; one reason I&#39;m ambivalent instead of vehemently opposed. When it comes to enums my stance is somewhat softened precisely for that reason :)"},{"owner":{"account_id":921430,"reputation":7972,"user_id":953068,"accept_rate":59,"display_name":"Joe"},"score":0,"creation_date":1323126583,"post_id":8389190,"comment_id":10362171,"body_markdown":"toString is a property that is meant to be overridden.  So your descriptive label might be the best name.","body":"toString is a property that is meant to be overridden.  So your descriptive label might be the best name."}],"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"comment_count":8,"down_vote_count":0,"up_vote_count":87,"is_accepted":true,"score":87,"last_activity_date":1664540296,"creation_date":1323105554,"answer_id":8389190,"question_id":8389150,"body_markdown":"You can&#39;t put a space in the middle of an identifier. \r\n\r\nDoing so ends that identifier and the parser assumes whatever comes next is a valid token in that statement&#39;s context. There are few (if any) places that would be legal.\r\n\r\nConventional Java value names would be:\r\n\r\n    INDIA,         // Or India,\r\n    RUSSIA,        //    Russia,\r\n    NORTH_AMERICA; //    NorthAmerica;\r\n\r\nAn `enum` can have associated properties, like human-readable names, e.g.,\r\n\r\n    public enum CountryAndOneContinent {\r\n        INDIA(&quot;India&quot;),\r\n        RUSSIA(&quot;Russia&quot;),\r\n        NORTH_AMERICA(&quot;North America&quot;);\r\n    \r\n        private String displayName;\r\n    \r\n        CountryAndOneContinent(String displayName) {\r\n            this.displayName = displayName;\r\n        }\r\n    \r\n        public String displayName() { return displayName; }\r\n\r\n        // Optionally and/or additionally, toString.\r\n        @Override public String toString() { return displayName; }\r\n    }\r\n\r\n----\r\n\r\nI&#39;m ambivalent about using `toString` to provide presentation-layer representations.\r\n\r\nI prefer methods communicate their purpose explicitly&amp;ndash;it&#39;s more expressive and obvious.\r\n\r\n`toString` is pretty generic, and allows only a single representation. Multiple output formats may be required depending on context, parameters, etc. which `toString` doesn&#39;t allow.\r\n\r\nAdvantages of `toString` include using default string operations on the object, and in this case, using `valueOf` to directly translate from the human-readable version to the enum value.","title":"Java enum elements with spaces?","body":"<p>You can't put a space in the middle of an identifier.</p>\n<p>Doing so ends that identifier and the parser assumes whatever comes next is a valid token in that statement's context. There are few (if any) places that would be legal.</p>\n<p>Conventional Java value names would be:</p>\n<pre><code>INDIA,         // Or India,\nRUSSIA,        //    Russia,\nNORTH_AMERICA; //    NorthAmerica;\n</code></pre>\n<p>An <code>enum</code> can have associated properties, like human-readable names, e.g.,</p>\n<pre><code>public enum CountryAndOneContinent {\n    INDIA(&quot;India&quot;),\n    RUSSIA(&quot;Russia&quot;),\n    NORTH_AMERICA(&quot;North America&quot;);\n\n    private String displayName;\n\n    CountryAndOneContinent(String displayName) {\n        this.displayName = displayName;\n    }\n\n    public String displayName() { return displayName; }\n\n    // Optionally and/or additionally, toString.\n    @Override public String toString() { return displayName; }\n}\n</code></pre>\n<hr />\n<p>I'm ambivalent about using <code>toString</code> to provide presentation-layer representations.</p>\n<p>I prefer methods communicate their purpose explicitly‚Äìit's more expressive and obvious.</p>\n<p><code>toString</code> is pretty generic, and allows only a single representation. Multiple output formats may be required depending on context, parameters, etc. which <code>toString</code> doesn't allow.</p>\n<p>Advantages of <code>toString</code> include using default string operations on the object, and in this case, using <code>valueOf</code> to directly translate from the human-readable version to the enum value.</p>\n"},{"tags":[],"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1323105582,"creation_date":1323105582,"answer_id":8389197,"question_id":8389150,"body_markdown":"The problem has nothing (specifically) to do with enums: in Java, names can&#39;t have spaces.  Try eliminating the space (using capitalization to tell the bits apart) or use underscores instead.","title":"Java enum elements with spaces?","body":"<p>The problem has nothing (specifically) to do with enums: in Java, names can't have spaces.  Try eliminating the space (using capitalization to tell the bits apart) or use underscores instead.</p>\n"},{"comments":[{"owner":{"account_id":416171,"reputation":31427,"user_id":791406,"accept_rate":69,"display_name":"raffian"},"score":7,"creation_date":1480107255,"post_id":8389378,"comment_id":68844572,"body_markdown":"Unless I&#39;m mssing something, this example does not work in Java 8; `MyEnum.valueOf(&quot;North America&quot;)` and `MyEnum.valueOf(MyEnum.NORTH_AMERICA.toString())` both throw the same error: `IllegalArgumentException No enum constant ofi.devops.cmwf.model.trigger.MyEnum.North America`","body":"Unless I&#39;m mssing something, this example does not work in Java 8; <code>MyEnum.valueOf(&quot;North America&quot;)</code> and <code>MyEnum.valueOf(MyEnum.NORTH_AMERICA.toString())</code> both throw the same error: <code>IllegalArgumentException No enum constant ofi.devops.cmwf.model.trigger.MyEnum.North America</code>"}],"tags":[],"owner":{"account_id":921430,"reputation":7972,"user_id":953068,"accept_rate":59,"display_name":"Joe"},"comment_count":1,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1646300895,"creation_date":1323106408,"answer_id":8389378,"question_id":8389150,"body_markdown":"I&#39;m gong to go ahead and guess why you want a space in the name; because you want to reference it as a string.\r\n\r\nSo do this:\r\n\r\n    public enum MyEnum {\r\n        INDIA(&quot;India&quot;),\r\n        RUSSIAN(&quot;Russian&quot;),\r\n        ENGLAND(&quot;England&quot;),\r\n        NORTH_AMERICA(&quot;North America&quot;);    \r\n    \r\n        private String name;\r\n\r\n        MyEnum(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getName() {\r\n            return this.name;\r\n        }    \r\n    }\r\n    \r\nYou can consider overriding string.\r\n    \r\n    public String toString() {\r\n        return name;\r\n    }\r\n\r\nAn advantage of overriding toString() is that this string can also be used in MyEnum .valueOf(myString).  So overriding toString basically creates a HashMap of the enum values.","title":"Java enum elements with spaces?","body":"<p>I'm gong to go ahead and guess why you want a space in the name; because you want to reference it as a string.</p>\n<p>So do this:</p>\n<pre><code>public enum MyEnum {\n    INDIA(&quot;India&quot;),\n    RUSSIAN(&quot;Russian&quot;),\n    ENGLAND(&quot;England&quot;),\n    NORTH_AMERICA(&quot;North America&quot;);    \n\n    private String name;\n\n    MyEnum(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return this.name;\n    }    \n}\n</code></pre>\n<p>You can consider overriding string.</p>\n<pre><code>public String toString() {\n    return name;\n}\n</code></pre>\n<p>An advantage of overriding toString() is that this string can also be used in MyEnum .valueOf(myString).  So overriding toString basically creates a HashMap of the enum values.</p>\n"},{"tags":[],"owner":{"account_id":444211,"reputation":61229,"user_id":835883,"accept_rate":81,"display_name":"j2emanue"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411794250,"creation_date":1411793865,"answer_id":26071447,"question_id":8389150,"body_markdown":"just make your own valueOf like function in your enum class.  Replace spaces with underscores. name your enum constants like this &quot;north_america(&quot;North America&quot;)&quot;.  If the method fails to find your enum it just returns the parameter. \r\n\r\n\r\n    public  static String valueOfOrDefault(String myValue) {\r\n    //replace space with underscore so it matches enum name\r\n            String value=myValue.toUpperCase().replaceAll(&quot;\\\\s&quot;, &quot;_&quot;);\r\n            for(myEnum type : myEnum.class.getEnumConstants()) {\r\n              if(type.name().equalsIgnoreCase(value)) {\r\n                return type.toString();\r\n              }\r\n            }\r\n            return myValue;\r\n          }\r\n\r\n","title":"Java enum elements with spaces?","body":"<p>just make your own valueOf like function in your enum class.  Replace spaces with underscores. name your enum constants like this \"north_america(\"North America\")\".  If the method fails to find your enum it just returns the parameter. </p>\n\n<pre><code>public  static String valueOfOrDefault(String myValue) {\n//replace space with underscore so it matches enum name\n        String value=myValue.toUpperCase().replaceAll(\"\\\\s\", \"_\");\n        for(myEnum type : myEnum.class.getEnumConstants()) {\n          if(type.name().equalsIgnoreCase(value)) {\n            return type.toString();\n          }\n        }\n        return myValue;\n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1741623,"reputation":676,"user_id":1592861,"accept_rate":0,"display_name":"matzeihnsein"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1621698115,"creation_date":1520248835,"answer_id":49109298,"question_id":8389150,"body_markdown":"I also introduced an own valueOf method. But I return with the Enum Type and I do not have to convert the &quot;checkString&quot;\r\n\r\ncheckString is &quot;Petty Cash&quot; for example.\r\n\r\n    JournalType journalType = JournalType.valueOfOrDefault(checkString);\r\n\r\nWith the following enum:\r\n\r\n    public enum JournalType {\r\n\r\n    MISC_BILLING(&quot;Misc Billing&quot;),\r\n    MISC_BILLING_AUTONUM(&quot;Misc Billing AutoNum&quot;),\r\n    PRETTY_CASH(&quot;Petty Cash&quot;),\r\n    RECURRING_AP(&quot;Recurring AP&quot;),\r\n    GL_JOURNAL(&quot;GL Journal&quot;),\r\n    GDS_NDS(&quot;GDS/NDS&quot;);\r\n\r\n    private final String journalType;\r\n\r\n    JournalType(String journalType) {\r\n        this.journalType = journalType;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return journalType;\r\n    }\r\n\r\n    public static JournalType valueOfOrDefault(String myValue) {\r\n        for(JournalType type : JournalType.class.getEnumConstants()) {\r\n            if(type.toString().equals(myValue)) {\r\n                return type;\r\n            }\r\n        }\r\n       throw new IllegalArgumentException(&quot;JournalType not found&quot;);\r\n    }\r\n\r\n    }","title":"Java enum elements with spaces?","body":"<p>I also introduced an own valueOf method. But I return with the Enum Type and I do not have to convert the &quot;checkString&quot;</p>\n<p>checkString is &quot;Petty Cash&quot; for example.</p>\n<pre><code>JournalType journalType = JournalType.valueOfOrDefault(checkString);\n</code></pre>\n<p>With the following enum:</p>\n<pre><code>public enum JournalType {\n\nMISC_BILLING(&quot;Misc Billing&quot;),\nMISC_BILLING_AUTONUM(&quot;Misc Billing AutoNum&quot;),\nPRETTY_CASH(&quot;Petty Cash&quot;),\nRECURRING_AP(&quot;Recurring AP&quot;),\nGL_JOURNAL(&quot;GL Journal&quot;),\nGDS_NDS(&quot;GDS/NDS&quot;);\n\nprivate final String journalType;\n\nJournalType(String journalType) {\n    this.journalType = journalType;\n}\n\n@Override\npublic String toString() {\n    return journalType;\n}\n\npublic static JournalType valueOfOrDefault(String myValue) {\n    for(JournalType type : JournalType.class.getEnumConstants()) {\n        if(type.toString().equals(myValue)) {\n            return type;\n        }\n    }\n   throw new IllegalArgumentException(&quot;JournalType not found&quot;);\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":913129,"reputation":11569,"user_id":946509,"accept_rate":62,"display_name":"BSalunke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61167,"favorite_count":0,"down_vote_count":1,"up_vote_count":39,"accepted_answer_id":8389190,"answer_count":8,"score":38,"last_activity_date":1664540296,"creation_date":1323105399,"question_id":8389150,"body_markdown":"Im working on java, I have created an enum as follows:\r\n\r\n    public enum myEnum\r\n    {\r\n    \tindia,\r\n    \trussian,\r\n    \tengland,\r\n    \tnorth America\r\n    }\r\n\r\nAbove example gives errors while using space in the name of element (i.e. north America).\r\nAny suggestions how to resolve above issue?\r\n","title":"Java enum elements with spaces?","body":"<p>Im working on java, I have created an enum as follows:</p>\n\n<pre><code>public enum myEnum\n{\n    india,\n    russian,\n    england,\n    north America\n}\n</code></pre>\n\n<p>Above example gives errors while using space in the name of element (i.e. north America).\nAny suggestions how to resolve above issue?</p>\n"},{"tags":["java","apache-storm"],"answers":[{"tags":[],"owner":{"account_id":16791300,"reputation":83,"user_id":12138892,"display_name":"Mykyta Piddubskiy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664540241,"creation_date":1664540241,"answer_id":73908638,"question_id":70063919,"body_markdown":"So in the final end I did not get why it&#39;s happening but it was fixed after I recalculated resources (cpu\\mem), based on total memory\\cpu of machines configured manually such props:\r\n\r\n    nimbus.childopts -Xmx\r\n    ui.childopts -Xmx\r\n    supervisor.childopts: -Xmx\r\n    supervisor.cpu.capacity\r\n    supervisor.memory.capacity.mb\r\n    topology.component.cpu.pcore.percent\r\n\r\nAfter this, my problem disappeared. Even if I set big number of bolts, etc. So resource props are very important for storm.\r\n","title":"Why I see unused Bolts in Storm UI","body":"<p>So in the final end I did not get why it's happening but it was fixed after I recalculated resources (cpu\\mem), based on total memory\\cpu of machines configured manually such props:</p>\n<pre><code>nimbus.childopts -Xmx\nui.childopts -Xmx\nsupervisor.childopts: -Xmx\nsupervisor.cpu.capacity\nsupervisor.memory.capacity.mb\ntopology.component.cpu.pcore.percent\n</code></pre>\n<p>After this, my problem disappeared. Even if I set big number of bolts, etc. So resource props are very important for storm.</p>\n"}],"owner":{"account_id":16791300,"reputation":83,"user_id":12138892,"display_name":"Mykyta Piddubskiy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73908638,"answer_count":1,"score":0,"last_activity_date":1664540241,"creation_date":1637575190,"question_id":70063919,"body_markdown":"I am experimenting with configs to find suitable ones for my system and I have a problem that for some reason some of my bolts don&#39;t work ([unused bolts][1]). I have 15 spouts, 18 partitions (before it I had 18 spouts and 18 bolts for 18 partitions but had the same issue with 2 bolts), 15 bolts. Once I tried to set 36 spouts and something about 54 bolts but almost half of the bolts were not used. \r\n\r\nDid somebody have the same problem?\r\n\r\n\r\n[1]: https://i.stack.imgur.com/gQKwr.png","title":"Why I see unused Bolts in Storm UI","body":"<p>I am experimenting with configs to find suitable ones for my system and I have a problem that for some reason some of my bolts don't work (<a href=\"https://i.stack.imgur.com/gQKwr.png\" rel=\"nofollow noreferrer\">unused bolts</a>). I have 15 spouts, 18 partitions (before it I had 18 spouts and 18 bolts for 18 partitions but had the same issue with 2 bolts), 15 bolts. Once I tried to set 36 spouts and something about 54 bolts but almost half of the bolts were not used.</p>\n<p>Did somebody have the same problem?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":5478423,"reputation":1520,"user_id":4355748,"accept_rate":56,"display_name":"Rana_S"},"score":1,"creation_date":1664510499,"post_id":73900759,"comment_id":130493119,"body_markdown":"Create a POJO that reflects your request payload instead of Map.","body":"Create a POJO that reflects your request payload instead of Map."},{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1666959628,"post_id":73900759,"comment_id":131063686,"body_markdown":"Does this answer your question? [How to map json to object using spring boot](https://stackoverflow.com/questions/40226481/how-to-map-json-to-object-using-spring-boot)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/40226481/how-to-map-json-to-object-using-spring-boot\">How to map json to object using spring boot</a>"}],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664539854,"creation_date":1664539854,"answer_id":73908554,"question_id":73900759,"body_markdown":"Add a `DTO` to manage your `json` response. You don&#39;t need to explicitly use `JSONObject` because `spring` already manage the process of mapping under the wood with `Jackson`.\r\nAlso, it is not a good practice to pass your Entities directly into the controller methods.\r\n\r\n\r\nNewQuoteDto.java\r\n\r\n    public class NewQuoteDto {\r\n        \r\n        private Long id;\r\n        private String description;\r\n        private List&lt;Details&gt; details = new ArrayList&lt;&gt;();\r\n    \r\n        public NewQuoteDto() {\r\n           \r\n        }\r\n    \r\n        // getter and setter or you can use lombok\r\n    }\r\n\r\n\r\n\r\nDetailDto.java\r\n\r\n    public class DetailDto {\r\n        private String description;\r\n        private String label;\r\n    \r\n        public DetailDto() {}\r\n    \r\n        // getter and setter or you can use lombok\r\n    }\r\n\r\nController\r\n\r\n    @PostMapping(value = &quot;/save-quote&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public void saveQuote(@RequestBody NewQuoteDto dataDto) {\r\n        // here you map dataDto to your model before you call saveQuote\r\n        NewQuote data = mapper.map(dataDto, NewQuote.class); // if you use ModelMapper library.\r\n        newQuoteService.saveQuote(data);\r\n    }\r\n\r\nFor custom mapping take look [here][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-modelmapper","title":"How to turn a String into ArrayList&lt;Details&gt;?","body":"<p>Add a <code>DTO</code> to manage your <code>json</code> response. You don't need to explicitly use <code>JSONObject</code> because <code>spring</code> already manage the process of mapping under the wood with <code>Jackson</code>.\nAlso, it is not a good practice to pass your Entities directly into the controller methods.</p>\n<p>NewQuoteDto.java</p>\n<pre><code>public class NewQuoteDto {\n    \n    private Long id;\n    private String description;\n    private List&lt;Details&gt; details = new ArrayList&lt;&gt;();\n\n    public NewQuoteDto() {\n       \n    }\n\n    // getter and setter or you can use lombok\n}\n</code></pre>\n<p>DetailDto.java</p>\n<pre><code>public class DetailDto {\n    private String description;\n    private String label;\n\n    public DetailDto() {}\n\n    // getter and setter or you can use lombok\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>@PostMapping(value = &quot;/save-quote&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic void saveQuote(@RequestBody NewQuoteDto dataDto) {\n    // here you map dataDto to your model before you call saveQuote\n    NewQuote data = mapper.map(dataDto, NewQuote.class); // if you use ModelMapper library.\n    newQuoteService.saveQuote(data);\n}\n</code></pre>\n<p>For custom mapping take look <a href=\"https://www.baeldung.com/java-modelmapper\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73908554,"answer_count":1,"score":0,"last_activity_date":1664539854,"creation_date":1664479954,"question_id":73900759,"body_markdown":"The browser sends the following object to the backend:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow I would like to store the data in my database. So I have an entity that looks like this:\r\n\r\n```java\r\n@Entity\r\npublic class NewQuote {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    private String description;\r\n    @ElementCollection(targetClass = Details.class)\r\n    private List&lt;Details&gt; details = new ArrayList&lt;&gt;();\r\n\r\n    public NewQuote(String description, ArrayList&lt;Details&gt; details) {\r\n        this.description = description;\r\n        this.details = details;\r\n    }\r\n```\r\n```java\r\n@Embeddable\r\npublic class Details {\r\n    private String description;\r\n    private String label;\r\n\r\n    public Details(String description, String label) {\r\n        this.description = description;\r\n        this.label = label;\r\n    }\r\n\r\n    public Details() {}\r\n}\r\n```\r\n\r\n**Controller**\r\n```java\r\n@PostMapping(value = &quot;/save-quote&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\npublic void saveQuote(@RequestBody Map&lt;String, String&gt; data) {\r\n    newQuoteService.saveQuote(data);\r\n}\r\n```\r\n**Service**\r\n```java\r\npublic void saveQuote(Map&lt;String, String&gt; data) {\r\n    JSONObject json = new JSONObject(data);\r\n    NewQuote newQuote = new NewQuote(\r\n            json.getAsString(&quot;description&quot;),\r\n            json.getAsString(&quot;details&quot;)\r\n    );\r\n    newQuoteRepository.save(newQuote);\r\n}\r\n```\r\nI am getting an error because `json.getAsString(&quot;details&quot;)` should not be a string of course. So how can I turn it to `ArrayList&lt;Details&gt;`?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BbBUE.png","title":"How to turn a String into ArrayList&lt;Details&gt;?","body":"<p>The browser sends the following object to the backend:</p>\n<p><a href=\"https://i.stack.imgur.com/BbBUE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BbBUE.png\" alt=\"enter image description here\" /></a></p>\n<p>Now I would like to store the data in my database. So I have an entity that looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class NewQuote {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String description;\n    @ElementCollection(targetClass = Details.class)\n    private List&lt;Details&gt; details = new ArrayList&lt;&gt;();\n\n    public NewQuote(String description, ArrayList&lt;Details&gt; details) {\n        this.description = description;\n        this.details = details;\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Embeddable\npublic class Details {\n    private String description;\n    private String label;\n\n    public Details(String description, String label) {\n        this.description = description;\n        this.label = label;\n    }\n\n    public Details() {}\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(value = &quot;/save-quote&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic void saveQuote(@RequestBody Map&lt;String, String&gt; data) {\n    newQuoteService.saveQuote(data);\n}\n</code></pre>\n<p><strong>Service</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public void saveQuote(Map&lt;String, String&gt; data) {\n    JSONObject json = new JSONObject(data);\n    NewQuote newQuote = new NewQuote(\n            json.getAsString(&quot;description&quot;),\n            json.getAsString(&quot;details&quot;)\n    );\n    newQuoteRepository.save(newQuote);\n}\n</code></pre>\n<p>I am getting an error because <code>json.getAsString(&quot;details&quot;)</code> should not be a string of course. So how can I turn it to <code>ArrayList&lt;Details&gt;</code>?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":1,"creation_date":1664538544,"post_id":73908204,"comment_id":130500537,"body_markdown":"you need to add jdbc jar to your classpath when you run the program","body":"you need to add jdbc jar to your classpath when you run the program"},{"owner":{"account_id":26421327,"reputation":15,"user_id":20068966,"display_name":"zakir"},"score":0,"creation_date":1665473254,"post_id":73908204,"comment_id":130702193,"body_markdown":"but how can I add a jar file as I am writing this code on notepad, yes we can do it in an IDE like eclipse but I am desperate to do it on notepad ?","body":"but how can I add a jar file as I am writing this code on notepad, yes we can do it in an IDE like eclipse but I am desperate to do it on notepad ?"},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1665559075,"post_id":73908204,"comment_id":130726055,"body_markdown":"jar file is added at run time by specifying `-classpath` arg to java.exe","body":"jar file is added at run time by specifying <code>-classpath</code> arg to java.exe"},{"owner":{"account_id":26421327,"reputation":15,"user_id":20068966,"display_name":"zakir"},"score":0,"creation_date":1665656212,"post_id":73908204,"comment_id":130752889,"body_markdown":"yeah, how can i add a classpath during runtime when I am running the program in my command shell.","body":"yeah, how can i add a classpath during runtime when I am running the program in my command shell."},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1665754224,"post_id":73908204,"comment_id":130778182,"body_markdown":"there is no way to add jar file during source code writeup. no matter what tool is used for writing. IDE just makes it easier to construct the runtime command","body":"there is no way to add jar file during source code writeup. no matter what tool is used for writing. IDE just makes it easier to construct the runtime command"}],"owner":{"account_id":26421327,"reputation":15,"user_id":20068966,"display_name":"zakir"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1664539756,"answer_count":0,"score":0,"last_activity_date":1664539792,"creation_date":1664538167,"question_id":73908204,"body_markdown":"    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    \r\n    class JdbcTrail{\r\n    public static void main(String [] args){\r\n     try(Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/fakedata&quot;, &quot;root&quot;, &quot;root&quot;))\r\n    {\r\n    boolean isValid = conn.isValid(0);\r\n    System.out.println(&quot;connection status :&quot; + isValid);\r\n    }\r\n    catch(SQLException e)\r\n    {\r\n    \te.printStackTrace();\r\n    }\r\n    }\r\n    }\r\n\r\nI am trying to connect with my database, but every time it throws this error:\r\n\r\n    java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/fakedata\r\n        at java.sql/java.sql.DriverManager.getConnection(Unknown Source)\r\n        at java.sql/java.sql.DriverManager.getConnection(Unknown Source)\r\n        at JdbcTrail.main(JdbcTrail.java:8)\r\n\r\nI am writing this code in notepad\r\n\r\n","title":"java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/fakedata","body":"<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\nclass JdbcTrail{\npublic static void main(String [] args){\n try(Connection conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/fakedata&quot;, &quot;root&quot;, &quot;root&quot;))\n{\nboolean isValid = conn.isValid(0);\nSystem.out.println(&quot;connection status :&quot; + isValid);\n}\ncatch(SQLException e)\n{\n    e.printStackTrace();\n}\n}\n}\n</code></pre>\n<p>I am trying to connect with my database, but every time it throws this error:</p>\n<pre><code>java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/fakedata\n    at java.sql/java.sql.DriverManager.getConnection(Unknown Source)\n    at java.sql/java.sql.DriverManager.getConnection(Unknown Source)\n    at JdbcTrail.main(JdbcTrail.java:8)\n</code></pre>\n<p>I am writing this code in notepad</p>\n"},{"tags":["java","opencv"],"comments":[{"owner":{"account_id":22255703,"reputation":1244,"user_id":16487900,"display_name":"berak"},"score":1,"creation_date":1664542830,"post_id":73908513,"comment_id":130501911,"body_markdown":"` mf.dll, mfplat.dll and mfreadwrite.dll`  -- those are all from the windows media foundation kit","body":"` mf.dll, mfplat.dll and mfreadwrite.dll`  -- those are all from the windows media foundation kit"},{"owner":{"account_id":20273012,"reputation":313,"user_id":14954228,"display_name":"H&#233;rick Raposo"},"score":0,"creation_date":1664543511,"post_id":73908513,"comment_id":130502156,"body_markdown":"Thanks. My windows server version is 2012r2","body":"Thanks. My windows server version is 2012r2"},{"owner":{"account_id":22255703,"reputation":1244,"user_id":16487900,"display_name":"berak"},"score":0,"creation_date":1664544201,"post_id":73908513,"comment_id":130502413,"body_markdown":"so you&#39;re looking for a way to reinstall those on your server","body":"so you&#39;re looking for a way to reinstall those on your server"},{"owner":{"account_id":22255703,"reputation":1244,"user_id":16487900,"display_name":"berak"},"score":0,"creation_date":1664544315,"post_id":73908513,"comment_id":130502451,"body_markdown":"another idea: do you actually NEED the MSMF based videoCapture ? did you *build* your own java opencv sdk ? you could disable msmf support by adding `WITH_MSMF=OFF` in cmake, and hopefully those deps are gone","body":"another idea: do you actually NEED the MSMF based videoCapture ? did you <i>build</i> your own java opencv sdk ? you could disable msmf support by adding <code>WITH_MSMF=OFF</code> in cmake, and hopefully those deps are gone"},{"owner":{"account_id":20273012,"reputation":313,"user_id":14954228,"display_name":"H&#233;rick Raposo"},"score":1,"creation_date":1664546458,"post_id":73908513,"comment_id":130503294,"body_markdown":"Your first comment already helped me and it worked. After your answer I googled: Install Media Foundation on Windows Server 2012, 2012 R2 and clicked on the first video, it showed how to install the feature. After installation everything went fine.","body":"Your first comment already helped me and it worked. After your answer I googled: Install Media Foundation on Windows Server 2012, 2012 R2 and clicked on the first video, it showed how to install the feature. After installation everything went fine."},{"owner":{"account_id":22255703,"reputation":1244,"user_id":16487900,"display_name":"berak"},"score":0,"creation_date":1664546761,"post_id":73908513,"comment_id":130503393,"body_markdown":"fine, good luck then ;)","body":"fine, good luck then ;)"}],"owner":{"account_id":20273012,"reputation":313,"user_id":14954228,"display_name":"H&#233;rick Raposo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664539603,"creation_date":1664539603,"question_id":73908513,"body_markdown":"My team and I are reading pdf documents to autofill forms. To improve the quality of the extraction and enable the editing of images, we use openCV removing table formatting in addition to the use of image clipping. The project worked normally in the local environment, however when it was run on the test server we received the following error from openCV:\r\n\r\n```\r\nCould not initialize class nu.pattern.OpenCV$LocalLoader$Holder\r\n\tat nu.pattern.OpenCV$LocalLoader.getInstance(OpenCV.java:340)\r\n```\r\n\r\nUsing Dependency Walker 2.2 I verified that three openCV dependencies are missing in the test environment: mf.dll, mfplat.dll and mfreadwrite.dll. I tried to add them manually without success.\r\n\r\n\r\nAccording to the answer https://stackoverflow.com/a/1834905/53897 I should create a megajar or uberjar from the library but I have no idea how to do that. Unlike the case presented in the question, I don&#39;t need to generate a jar from the project but from the library I&#39;m trying to run in the test environment.\r\nMy main question is... How to import the library I want to use when in the test environment I don&#39;t have the dependency dlls?\r\n\r\n\r\nBelow are snippets of implementation and use of the library:\r\n\r\npom.xhtml:\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.openpnp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opencv&lt;/artifactId&gt;\r\n            &lt;version&gt;4.5.5-1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nmy nmethods that i use pdf reader and openCV:\r\n\r\n```\r\n public String getTextopdfOCR(File file, List&lt;String&gt; searchMatches) throws Exception {\r\n        PDDocument doc = PDDocument.load(file);\r\n        PDFRenderer pdfRenderer = new PDFRenderer(doc);\r\n        StringBuilder out = new StringBuilder();\r\n\r\n        Tesseract tesseract = new Tesseract();\r\n        tesseract.setDatapath(getCaminhoDiscoC() + &quot;extraiTextoPDF&quot;);\r\n        tesseract.setLanguage(&quot;por&quot;);\r\n        tesseract.setOcrEngineMode(1);\r\n        \r\n        for (int page = 0; page &lt; doc.getNumberOfPages(); page++) {\r\n            BufferedImage bufferedImage = pdfRenderer.renderImageWithDPI(page, 180, ImageType.GRAY);\r\n            \r\n            File tempFile = File.createTempFile(&quot;imagem&quot; + page, &quot;.jpg&quot;); //file.exists()\r\n\t        ImageIO.write(bufferedImage, &quot;jpg&quot;, tempFile);\r\n            BufferedImage paginaBuffer = getLinesRemovedImage(tempFile, false);\r\n            String result = tesseract.doOCR(paginaBuffer);\r\n            out.append(result);\r\n            tempFile.delete();\r\n\r\n            //Verifica se h&#225; algum termo buscado e se o texto n&#227;o possui nenhum dos termos\r\n            if (searchMatches != null &amp;&amp; !searchMatches.isEmpty()) {\r\n                Optional&lt;String&gt; findFirst = searchMatches.stream().filter((termo) -&gt; result.contains(termo)).findFirst();\r\n                if (!findFirst.isPresent() &amp;&amp; page &gt; 0) {       //Se nao encontrar na 1a pagina continua \r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        doc.close();\r\n        return out.toString().toLowerCase().replaceAll(AplicacaoBean.CARACTERES_ESPECIAIS_REGEX, &quot;&quot;)\r\n                .replaceAll(&quot;\\\\s&quot;, &quot; &quot;);\r\n    }\r\n\r\npublic BufferedImage getLinesRemovedImage(File imageFile, Boolean isGray) throws Exception {\r\n        try {\r\n            nu.pattern.OpenCV.loadLocally();\r\n            Mat srcMat = Imgcodecs.imread(imageFile.getPath());\r\n            Mat originalMat = new Mat();\r\n            if (!isGray) {\r\n                originalMat = srcMat.clone();\r\n            }\r\n            Mat gray = new Mat();\r\n            Imgproc.cvtColor(srcMat, gray, Imgproc.COLOR_BGR2GRAY);\r\n\r\n            Imgproc.threshold(gray, gray, 0, 255, Imgproc.THRESH_BINARY_INV + Imgproc.THRESH_OTSU);\r\n\r\n            Mat horizontal_kernel = Imgproc.getStructuringElement(Imgproc.MORPH_RECT, new Size(40, 1));\r\n            Mat remove_horizontal = new Mat();\r\n            for (int i = 0; i &lt; 2; i++) {\r\n                Imgproc.morphologyEx(gray, remove_horizontal, Imgproc.MORPH_OPEN, horizontal_kernel);\r\n            }\r\n\r\n            List&lt;MatOfPoint&gt; contours = new ArrayList&lt;&gt;();\r\n            Imgproc.findContours(remove_horizontal, contours, new Mat(), Imgproc.RETR_EXTERNAL,\r\n                    Imgproc.CHAIN_APPROX_SIMPLE);\r\n\r\n            Scalar color = new Scalar(255, 255, 255);\r\n\r\n            Imgproc.drawContours(originalMat, contours, -1, color, 2);\r\n\r\n\r\n            Mat vertical_kernel = Imgproc.getStructuringElement(Imgproc.MORPH_RECT, new Size(1, 40));\r\n            Mat remove_vertical = new Mat();\r\n            for (int i = 0; i &lt; 2; i++) {\r\n                Imgproc.morphologyEx(gray, remove_vertical, Imgproc.MORPH_OPEN, vertical_kernel);\r\n            }\r\n            List&lt;MatOfPoint&gt; vertical_contours = new ArrayList&lt;&gt;();\r\n            Imgproc.findContours(remove_vertical, vertical_contours, new Mat(), Imgproc.RETR_EXTERNAL,\r\n                    Imgproc.CHAIN_APPROX_SIMPLE);\r\n\r\n            Imgproc.drawContours(originalMat, vertical_contours, -1, color, 2);\r\n\r\n            BufferedImage bufferedImage;\r\n\r\n            bufferedImage = Mat2BufferedImage(originalMat);\r\n            return bufferedImage;\r\n\r\n        } catch (IOException e1) {\r\n            e1.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private BufferedImage Mat2BufferedImage(Mat matrix) throws Exception {\r\n        MatOfByte mob = new MatOfByte();\r\n        Imgcodecs.imencode(&quot;.jpg&quot;, matrix, mob);\r\n\r\n        byte ba[] = mob.toArray();\r\n        BufferedImage bi = ImageIO.read(new ByteArrayInputStream(ba));\r\n        return bi;\r\n    }\r\n\r\n```\r\nEnviroment settings:\r\n```\r\napache-tomcat-9.0.33\r\nJDK 15\r\nNetbeans 15\r\n```\r\n","title":"Nu.pattern.OpenCV error when running openCV when running JAVA project in test environment","body":"<p>My team and I are reading pdf documents to autofill forms. To improve the quality of the extraction and enable the editing of images, we use openCV removing table formatting in addition to the use of image clipping. The project worked normally in the local environment, however when it was run on the test server we received the following error from openCV:</p>\n<pre><code>Could not initialize class nu.pattern.OpenCV$LocalLoader$Holder\n    at nu.pattern.OpenCV$LocalLoader.getInstance(OpenCV.java:340)\n</code></pre>\n<p>Using Dependency Walker 2.2 I verified that three openCV dependencies are missing in the test environment: mf.dll, mfplat.dll and mfreadwrite.dll. I tried to add them manually without success.</p>\n<p>According to the answer <a href=\"https://stackoverflow.com/a/1834905/53897\">https://stackoverflow.com/a/1834905/53897</a> I should create a megajar or uberjar from the library but I have no idea how to do that. Unlike the case presented in the question, I don't need to generate a jar from the project but from the library I'm trying to run in the test environment.\nMy main question is... How to import the library I want to use when in the test environment I don't have the dependency dlls?</p>\n<p>Below are snippets of implementation and use of the library:</p>\n<p>pom.xhtml:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.openpnp&lt;/groupId&gt;\n            &lt;artifactId&gt;opencv&lt;/artifactId&gt;\n            &lt;version&gt;4.5.5-1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>my nmethods that i use pdf reader and openCV:</p>\n<pre><code> public String getTextopdfOCR(File file, List&lt;String&gt; searchMatches) throws Exception {\n        PDDocument doc = PDDocument.load(file);\n        PDFRenderer pdfRenderer = new PDFRenderer(doc);\n        StringBuilder out = new StringBuilder();\n\n        Tesseract tesseract = new Tesseract();\n        tesseract.setDatapath(getCaminhoDiscoC() + &quot;extraiTextoPDF&quot;);\n        tesseract.setLanguage(&quot;por&quot;);\n        tesseract.setOcrEngineMode(1);\n        \n        for (int page = 0; page &lt; doc.getNumberOfPages(); page++) {\n            BufferedImage bufferedImage = pdfRenderer.renderImageWithDPI(page, 180, ImageType.GRAY);\n            \n            File tempFile = File.createTempFile(&quot;imagem&quot; + page, &quot;.jpg&quot;); //file.exists()\n            ImageIO.write(bufferedImage, &quot;jpg&quot;, tempFile);\n            BufferedImage paginaBuffer = getLinesRemovedImage(tempFile, false);\n            String result = tesseract.doOCR(paginaBuffer);\n            out.append(result);\n            tempFile.delete();\n\n            //Verifica se h√° algum termo buscado e se o texto n√£o possui nenhum dos termos\n            if (searchMatches != null &amp;&amp; !searchMatches.isEmpty()) {\n                Optional&lt;String&gt; findFirst = searchMatches.stream().filter((termo) -&gt; result.contains(termo)).findFirst();\n                if (!findFirst.isPresent() &amp;&amp; page &gt; 0) {       //Se nao encontrar na 1a pagina continua \n                    break;\n                }\n            }\n        }\n\n        doc.close();\n        return out.toString().toLowerCase().replaceAll(AplicacaoBean.CARACTERES_ESPECIAIS_REGEX, &quot;&quot;)\n                .replaceAll(&quot;\\\\s&quot;, &quot; &quot;);\n    }\n\npublic BufferedImage getLinesRemovedImage(File imageFile, Boolean isGray) throws Exception {\n        try {\n            nu.pattern.OpenCV.loadLocally();\n            Mat srcMat = Imgcodecs.imread(imageFile.getPath());\n            Mat originalMat = new Mat();\n            if (!isGray) {\n                originalMat = srcMat.clone();\n            }\n            Mat gray = new Mat();\n            Imgproc.cvtColor(srcMat, gray, Imgproc.COLOR_BGR2GRAY);\n\n            Imgproc.threshold(gray, gray, 0, 255, Imgproc.THRESH_BINARY_INV + Imgproc.THRESH_OTSU);\n\n            Mat horizontal_kernel = Imgproc.getStructuringElement(Imgproc.MORPH_RECT, new Size(40, 1));\n            Mat remove_horizontal = new Mat();\n            for (int i = 0; i &lt; 2; i++) {\n                Imgproc.morphologyEx(gray, remove_horizontal, Imgproc.MORPH_OPEN, horizontal_kernel);\n            }\n\n            List&lt;MatOfPoint&gt; contours = new ArrayList&lt;&gt;();\n            Imgproc.findContours(remove_horizontal, contours, new Mat(), Imgproc.RETR_EXTERNAL,\n                    Imgproc.CHAIN_APPROX_SIMPLE);\n\n            Scalar color = new Scalar(255, 255, 255);\n\n            Imgproc.drawContours(originalMat, contours, -1, color, 2);\n\n\n            Mat vertical_kernel = Imgproc.getStructuringElement(Imgproc.MORPH_RECT, new Size(1, 40));\n            Mat remove_vertical = new Mat();\n            for (int i = 0; i &lt; 2; i++) {\n                Imgproc.morphologyEx(gray, remove_vertical, Imgproc.MORPH_OPEN, vertical_kernel);\n            }\n            List&lt;MatOfPoint&gt; vertical_contours = new ArrayList&lt;&gt;();\n            Imgproc.findContours(remove_vertical, vertical_contours, new Mat(), Imgproc.RETR_EXTERNAL,\n                    Imgproc.CHAIN_APPROX_SIMPLE);\n\n            Imgproc.drawContours(originalMat, vertical_contours, -1, color, 2);\n\n            BufferedImage bufferedImage;\n\n            bufferedImage = Mat2BufferedImage(originalMat);\n            return bufferedImage;\n\n        } catch (IOException e1) {\n            e1.printStackTrace();\n        }\n        return null;\n    }\n\n    private BufferedImage Mat2BufferedImage(Mat matrix) throws Exception {\n        MatOfByte mob = new MatOfByte();\n        Imgcodecs.imencode(&quot;.jpg&quot;, matrix, mob);\n\n        byte ba[] = mob.toArray();\n        BufferedImage bi = ImageIO.read(new ByteArrayInputStream(ba));\n        return bi;\n    }\n\n</code></pre>\n<p>Enviroment settings:</p>\n<pre><code>apache-tomcat-9.0.33\nJDK 15\nNetbeans 15\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664538831,"creation_date":1664538831,"answer_id":73908351,"question_id":73880360,"body_markdown":"I have the feeling that Spring Data JPA is not able to infer that a native query result can use `Tuple` as result type, but you should be able to use `Object[]`.","title":"How to fetch a Paginated Tuple with Spring JPA","body":"<p>I have the feeling that Spring Data JPA is not able to infer that a native query result can use <code>Tuple</code> as result type, but you should be able to use <code>Object[]</code>.</p>\n"}],"owner":{"account_id":10382309,"reputation":88,"user_id":7656623,"display_name":"Somnath Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":718,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664538831,"creation_date":1664363061,"question_id":73880360,"body_markdown":"I am trying to fetch records from two tables with a union in a paginated manner so my code looks like follows\r\n\r\n    @Query(value = &quot;select topup_date_time as date_time, topup_notes as description, credit_amount as amount, credit_currency as currency, &#39;CREDIT&#39; as type, cardholder_code\\n&quot; +\r\n            &quot;from\\n&quot; +\r\n            &quot;payment_card.topup \\n&quot; +\r\n            &quot;where\\n&quot; +\r\n            &quot;cardholder_code = :cardholderCode and topup_date_time &gt; :fromDateTime and topup_date_time &lt; :toDateTime \\n&quot; +\r\n            &quot;union all\\n&quot; +\r\n            &quot;select requested_at, withdrawal_note, amount, currency, &#39;DEBIT&#39;, cardholder_code\\n&quot; +\r\n            &quot;from\\n&quot; +\r\n            &quot;payment_card.withdrawal \\n&quot; +\r\n            &quot;where\\n&quot; +\r\n            &quot;cardholder_code = :cardholderCode and requested_at &gt; :fromDateTime and requested_at &lt; :toDateTime \\n&quot; +\r\n            &quot;-- #pageable\\n&quot;,\r\n            countQuery = &quot;select count(*) from ( select cardholder_code from payment_card.topup where cardholder_code = :cardholderCode and topup_date_time &gt; :fromDateTime and topup_date_time &lt; :toDateTime \\n&quot; +\r\n                    &quot;union all\\n&quot; +\r\n                    &quot;select cardholder_code from payment_card.withdrawal where cardholder_code = :cardholderCode and requested_at &gt; :fromDateTime and requested_at &lt; :toDateTime ) as un&quot;,\r\n            nativeQuery = true\r\n    )\r\n    Page&lt;Tuple&gt; getTopupAndWithdrawalByCardholderCodeWithDateFilter(UUID cardholderCode, LocalDateTime fromDateTime, LocalDateTime toDateTime, Pageable pageable);\r\n\r\nAnd i am mapping this into a DTO as follows\r\n\r\n    pagedResult.get().map(t-&gt;t.get(0)).collect(Collectors.toList());\r\n    \r\nAnd this throws me an exception\r\n\r\n    Invoked method public abstract java.lang.Object javax.persistence.Tuple.get(int) is no accessor method!\r\n\r\nIf I return List&lt;Tuple&gt; from the JPA method. It works, but I want the records in pagination and I want the total records too, so don&#39;t want to go through SQL query pagination and a separate query to count. \r\n\r\n","title":"How to fetch a Paginated Tuple with Spring JPA","body":"<p>I am trying to fetch records from two tables with a union in a paginated manner so my code looks like follows</p>\n<pre><code>@Query(value = &quot;select topup_date_time as date_time, topup_notes as description, credit_amount as amount, credit_currency as currency, 'CREDIT' as type, cardholder_code\\n&quot; +\n        &quot;from\\n&quot; +\n        &quot;payment_card.topup \\n&quot; +\n        &quot;where\\n&quot; +\n        &quot;cardholder_code = :cardholderCode and topup_date_time &gt; :fromDateTime and topup_date_time &lt; :toDateTime \\n&quot; +\n        &quot;union all\\n&quot; +\n        &quot;select requested_at, withdrawal_note, amount, currency, 'DEBIT', cardholder_code\\n&quot; +\n        &quot;from\\n&quot; +\n        &quot;payment_card.withdrawal \\n&quot; +\n        &quot;where\\n&quot; +\n        &quot;cardholder_code = :cardholderCode and requested_at &gt; :fromDateTime and requested_at &lt; :toDateTime \\n&quot; +\n        &quot;-- #pageable\\n&quot;,\n        countQuery = &quot;select count(*) from ( select cardholder_code from payment_card.topup where cardholder_code = :cardholderCode and topup_date_time &gt; :fromDateTime and topup_date_time &lt; :toDateTime \\n&quot; +\n                &quot;union all\\n&quot; +\n                &quot;select cardholder_code from payment_card.withdrawal where cardholder_code = :cardholderCode and requested_at &gt; :fromDateTime and requested_at &lt; :toDateTime ) as un&quot;,\n        nativeQuery = true\n)\nPage&lt;Tuple&gt; getTopupAndWithdrawalByCardholderCodeWithDateFilter(UUID cardholderCode, LocalDateTime fromDateTime, LocalDateTime toDateTime, Pageable pageable);\n</code></pre>\n<p>And i am mapping this into a DTO as follows</p>\n<pre><code>pagedResult.get().map(t-&gt;t.get(0)).collect(Collectors.toList());\n</code></pre>\n<p>And this throws me an exception</p>\n<pre><code>Invoked method public abstract java.lang.Object javax.persistence.Tuple.get(int) is no accessor method!\n</code></pre>\n<p>If I return List from the JPA method. It works, but I want the records in pagination and I want the total records too, so don't want to go through SQL query pagination and a separate query to count.</p>\n"},{"tags":["java","database","spring","jdbc","jdbctemplate"],"comments":[{"owner":{"account_id":161943,"reputation":22096,"user_id":383087,"accept_rate":89,"display_name":"Evgeni Dimitrov"},"score":0,"creation_date":1386320536,"post_id":20419785,"comment_id":30498139,"body_markdown":"Probably yes. JdbcTemplate takes care for getting and closing the connections.","body":"Probably yes. JdbcTemplate takes care for getting and closing the connections."}],"answers":[{"comments":[{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":2,"creation_date":1563454352,"post_id":20419993,"comment_id":100711180,"body_markdown":"how it is implemented?","body":"how it is implemented?"}],"tags":[],"owner":{"account_id":3582639,"reputation":1972,"user_id":2990458,"accept_rate":38,"display_name":"Abhishek Anand"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1386320947,"creation_date":1386320947,"answer_id":20419993,"question_id":20419785,"body_markdown":"Yes it does.\r\n\r\nAnd if the connection was obtained from connection pool, it won&#39;t actually close the connection, rather will send it back to the pool.","title":"Does Spring&#39;s JdbcTemplate close the connection after query timeout?","body":"<p>Yes it does.</p>\n\n<p>And if the connection was obtained from connection pool, it won't actually close the connection, rather will send it back to the pool.</p>\n"},{"comments":[{"owner":{"account_id":2175140,"reputation":845,"user_id":1925980,"accept_rate":78,"display_name":"Sach"},"score":0,"creation_date":1420017504,"post_id":20420057,"comment_id":43849327,"body_markdown":"is it the `close()` method that&#39;s called always called? Because in my program I need Spring to not close the connection so if it&#39;s guranteed to be `close()` I can override that method.","body":"is it the <code>close()</code> method that&#39;s called always called? Because in my program I need Spring to not close the connection so if it&#39;s guranteed to be <code>close()</code> I can override that method."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1420018342,"post_id":20420057,"comment_id":43849650,"body_markdown":"As stated it depends. If you have a specific question please ask a question instead of doing if by comments.","body":"As stated it depends. If you have a specific question please ask a question instead of doing if by comments."}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":2,"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1386321158,"creation_date":1386321158,"answer_id":20420057,"question_id":20419785,"body_markdown":"In short yes it does close the connection. The long answer it depends. \r\n\r\nWhen you don&#39;t have a Spring managed transaction then yes the `JdbcTemplate` will call the `close()` method on the `Connection`. However if there was already a connection available due to Springs transaction management closing the connection will be handled by Springs transaction support, which in turn also will call `close()` on the `Connection`. \r\n\r\nThe only difference is when the connection is closed but `close()` will be called.\r\n\r\nIf the connection will be actually closed depends on which `DataSource` is used, in general when using a connection pool the connection will be returned to the pool instead of actually closing the connection.","title":"Does Spring&#39;s JdbcTemplate close the connection after query timeout?","body":"<p>In short yes it does close the connection. The long answer it depends. </p>\n\n<p>When you don't have a Spring managed transaction then yes the <code>JdbcTemplate</code> will call the <code>close()</code> method on the <code>Connection</code>. However if there was already a connection available due to Springs transaction management closing the connection will be handled by Springs transaction support, which in turn also will call <code>close()</code> on the <code>Connection</code>. </p>\n\n<p>The only difference is when the connection is closed but <code>close()</code> will be called.</p>\n\n<p>If the connection will be actually closed depends on which <code>DataSource</code> is used, in general when using a connection pool the connection will be returned to the pool instead of actually closing the connection.</p>\n"},{"tags":[],"owner":{"account_id":10414416,"reputation":61,"user_id":7678947,"display_name":"Selvakumar Sundaramoorthy"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1664538583,"creation_date":1488984899,"answer_id":42674600,"question_id":20419785,"body_markdown":"No need to close the connection manually. Spring container itself to take care of the operation. Kindly refer to this spring documentation:\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#jdbc","title":"Does Spring&#39;s JdbcTemplate close the connection after query timeout?","body":"<p>No need to close the connection manually. Spring container itself to take care of the operation. Kindly refer to this spring documentation:</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#jdbc\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#jdbc</a></p>\n"},{"tags":[],"owner":{"account_id":6002252,"reputation":1712,"user_id":4715129,"accept_rate":77,"display_name":"LoremIpsum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626022547,"creation_date":1626022547,"answer_id":68338291,"question_id":20419785,"body_markdown":"By reviewing the source code of JdbcTemplate, there is a method called `execute`, which is the infrastructure of some other query method, such as `queryForObject`, `queryForList` and so on :\r\n\t\r\n\r\n        @Nullable\r\n    \tprivate &lt;T&gt; T execute(StatementCallback&lt;T&gt; action, boolean closeResources) throws DataAccessException {\r\n    \t\tAssert.notNull(action, &quot;Callback object must not be null&quot;);\r\n    \r\n    \t\tConnection con = DataSourceUtils.getConnection(obtainDataSource());\r\n    \t\tStatement stmt = null;\r\n    \t\ttry {\r\n    \t\t\tstmt = con.createStatement();\r\n    \t\t\tapplyStatementSettings(stmt);\r\n    \t\t\tT result = action.doInStatement(stmt);\r\n    \t\t\thandleWarnings(stmt);\r\n    \t\t\treturn result;\r\n    \t\t}\r\n    \t\tcatch (SQLException ex) {\r\n    \t\t\t// Release Connection early, to avoid potential connection pool deadlock\r\n    \t\t\t// in the case when the exception translator hasn&#39;t been initialized yet.\r\n    \t\t\tString sql = getSql(action);\r\n    \t\t\tJdbcUtils.closeStatement(stmt);\r\n    \t\t\tstmt = null;\r\n    \t\t\tDataSourceUtils.releaseConnection(con, getDataSource());\r\n    \t\t\tcon = null;\r\n    \t\t\tthrow translateException(&quot;StatementCallback&quot;, sql, ex);\r\n    \t\t}\r\n    \t\tfinally {\r\n    \t\t\tif (closeResources) {\r\n    \t\t\t\tJdbcUtils.closeStatement(stmt);\r\n    \t\t\t\tDataSourceUtils.releaseConnection(con, getDataSource());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\r\nApparently, when execute get called, the database connection would be release in the finally block , as a result, it`s unnecessary to close the connection after query timeout.","title":"Does Spring&#39;s JdbcTemplate close the connection after query timeout?","body":"<p>By reviewing the source code of JdbcTemplate, there is a method called <code>execute</code>, which is the infrastructure of some other query method, such as <code>queryForObject</code>, <code>queryForList</code> and so on :</p>\n<pre><code>    @Nullable\n    private &lt;T&gt; T execute(StatementCallback&lt;T&gt; action, boolean closeResources) throws DataAccessException {\n        Assert.notNull(action, &quot;Callback object must not be null&quot;);\n\n        Connection con = DataSourceUtils.getConnection(obtainDataSource());\n        Statement stmt = null;\n        try {\n            stmt = con.createStatement();\n            applyStatementSettings(stmt);\n            T result = action.doInStatement(stmt);\n            handleWarnings(stmt);\n            return result;\n        }\n        catch (SQLException ex) {\n            // Release Connection early, to avoid potential connection pool deadlock\n            // in the case when the exception translator hasn't been initialized yet.\n            String sql = getSql(action);\n            JdbcUtils.closeStatement(stmt);\n            stmt = null;\n            DataSourceUtils.releaseConnection(con, getDataSource());\n            con = null;\n            throw translateException(&quot;StatementCallback&quot;, sql, ex);\n        }\n        finally {\n            if (closeResources) {\n                JdbcUtils.closeStatement(stmt);\n                DataSourceUtils.releaseConnection(con, getDataSource());\n            }\n        }\n    }\n</code></pre>\n<p>Apparently, when execute get called, the database connection would be release in the finally block , as a result, it`s unnecessary to close the connection after query timeout.</p>\n"}],"owner":{"account_id":3691106,"reputation":303,"user_id":3073662,"display_name":"user3073662"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88731,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":20420057,"answer_count":4,"score":30,"last_activity_date":1664538583,"creation_date":1386320240,"question_id":20419785,"body_markdown":"I have set query timeout (getJdbcTemplate().setQueryTimeout(5)) in method with insert statement. What will happen after query timeout, does jdbc template close my connection?\r\n\r\n","title":"Does Spring&#39;s JdbcTemplate close the connection after query timeout?","body":"<p>I have set query timeout (getJdbcTemplate().setQueryTimeout(5)) in method with insert statement. What will happen after query timeout, does jdbc template close my connection?</p>\n"},{"tags":["java","spring-boot","utf-8","properties-file"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1641374993,"post_id":70590269,"comment_id":124785880,"body_markdown":"Changing the encoding doesn&#39;t help if your file isn&#39;t saved as UTF-8. Make sure that your properties file is an actual `UTF-8` file. Also on older java (and Spring) version the properties are expected to be in ISO-8859-1 format (the default and standard for a long time). The `-Dfile.encoding=UTF-8` should kind of work but that might depend on how you are launching things.","body":"Changing the encoding doesn&#39;t help if your file isn&#39;t saved as UTF-8. Make sure that your properties file is an actual <code>UTF-8</code> file. Also on older java (and Spring) version the properties are expected to be in ISO-8859-1 format (the default and standard for a long time). The <code>-Dfile.encoding=UTF-8</code> should kind of work but that might depend on how you are launching things."},{"owner":{"account_id":6290431,"reputation":1187,"user_id":4888323,"accept_rate":20,"display_name":"Bilgehan"},"score":0,"creation_date":1641378553,"post_id":70590269,"comment_id":124787307,"body_markdown":"Hi I use intellij 2021 and spring 2.5 so I try in newer versions","body":"Hi I use intellij 2021 and spring 2.5 so I try in newer versions"}],"answers":[{"tags":[],"owner":{"account_id":1605502,"reputation":49,"user_id":1485685,"display_name":"msbgnr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664537854,"creation_date":1664537854,"answer_id":73908131,"question_id":70590269,"body_markdown":"`Default encoding for .properties files` can be changed in intellij with \r\n\r\n&gt; File-&gt;Settings-&gt;Editor-&gt;File Encodings\r\n\r\nAfter changing it to UTF-8 .properties files can be saved as UTF-8.","title":"Java .properties file not support Turkish Character Value","body":"<p><code>Default encoding for .properties files</code> can be changed in intellij with</p>\n<blockquote>\n<p>File-&gt;Settings-&gt;Editor-&gt;File Encodings</p>\n</blockquote>\n<p>After changing it to UTF-8 .properties files can be saved as UTF-8.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664538569,"creation_date":1664538569,"answer_id":73908296,"question_id":70590269,"body_markdown":"The issue:\r\n- Historically a stupidity happened and the encoding of .properties files was in ISO-8859-1, Latin-1. For Turkish, Latin-3, one would need to encode the special characters as `\\uXXXX` (native2ascii).\r\n- Recent java versions now first try to read the .properties files as UTF-8. This really is ideal. And I recommend going with that. Then working with Cyrillic or Arabic resource bundles will be much easier.\r\n\r\nFor that to work the **editor** too has to use the UTF-8 encoding. Sometimes already java sources are edited in UTF-8, but properties files using ISO-8859-1 because of the java language standard. So check the IDE.\r\nMaybe use Notepad++ or an other encoding aware editor to check for the encoding.\r\n\r\nYou can use native2ascii both for encoding and decoding specifying your own encoding. Hence a conversion to UTF-8 is simple.\r\n","title":"Java .properties file not support Turkish Character Value","body":"<p>The issue:</p>\n<ul>\n<li>Historically a stupidity happened and the encoding of .properties files was in ISO-8859-1, Latin-1. For Turkish, Latin-3, one would need to encode the special characters as <code>\\uXXXX</code> (native2ascii).</li>\n<li>Recent java versions now first try to read the .properties files as UTF-8. This really is ideal. And I recommend going with that. Then working with Cyrillic or Arabic resource bundles will be much easier.</li>\n</ul>\n<p>For that to work the <strong>editor</strong> too has to use the UTF-8 encoding. Sometimes already java sources are edited in UTF-8, but properties files using ISO-8859-1 because of the java language standard. So check the IDE.\nMaybe use Notepad++ or an other encoding aware editor to check for the encoding.</p>\n<p>You can use native2ascii both for encoding and decoding specifying your own encoding. Hence a conversion to UTF-8 is simple.</p>\n"}],"owner":{"account_id":6290431,"reputation":1187,"user_id":4888323,"accept_rate":20,"display_name":"Bilgehan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":946,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1664538569,"creation_date":1641373729,"question_id":70590269,"body_markdown":"I want to give Turkish character as a value in my .properties file. But outcome not shown well\r\n\r\nI put into properties file\r\n\r\n    myvalue=Bƒ∞LGEHAN\r\n    \r\n    Outcome B?LGEHAN\r\n\r\nI found some solutions in stackoverflow. But I want to clarify\r\n\r\nI tried to add properties file encoding try both of them UTF-8 and ISO-8859-1 not working\r\n\r\n    @PropertySource(\r\n        value = {&quot;my.properties&quot;},\r\n        encoding = &quot;UTF-8&quot;\r\n    )\r\n\r\nI set -Dfile.encoding=UTF-8 it is not working native2ascii conversion work\r\n\r\nOnly thing I can do I use native2ascii and convert my value to ascii format and then my message shows well\r\n\r\nI want to clarify is there any way to use my special characters in properties file or is this only way to do convert ascii and use it?\r\n\r\n\r\nhttps://stackoverflow.com/questions/37436927/utf-8-encoding-of-application-properties-attributes-in-spring-boot\r\n","title":"Java .properties file not support Turkish Character Value","body":"<p>I want to give Turkish character as a value in my .properties file. But outcome not shown well</p>\n<p>I put into properties file</p>\n<pre><code>myvalue=Bƒ∞LGEHAN\n\nOutcome B?LGEHAN\n</code></pre>\n<p>I found some solutions in stackoverflow. But I want to clarify</p>\n<p>I tried to add properties file encoding try both of them UTF-8 and ISO-8859-1 not working</p>\n<pre><code>@PropertySource(\n    value = {&quot;my.properties&quot;},\n    encoding = &quot;UTF-8&quot;\n)\n</code></pre>\n<p>I set -Dfile.encoding=UTF-8 it is not working native2ascii conversion work</p>\n<p>Only thing I can do I use native2ascii and convert my value to ascii format and then my message shows well</p>\n<p>I want to clarify is there any way to use my special characters in properties file or is this only way to do convert ascii and use it?</p>\n<p><a href=\"https://stackoverflow.com/questions/37436927/utf-8-encoding-of-application-properties-attributes-in-spring-boot\">UTF-8 encoding of application.properties attributes in Spring-Boot</a></p>\n"},{"tags":["java","ffmpeg","process"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664540734,"post_id":73908206,"comment_id":130501195,"body_markdown":"You could possibly do it in a Unix based OS, but I&#39;m guessing you&#39;re on Windows..?","body":"You could possibly do it in a Unix based OS, but I&#39;m guessing you&#39;re on Windows..?"},{"owner":{"account_id":12005337,"reputation":21,"user_id":8783855,"display_name":"jdauthre"},"score":0,"creation_date":1664541933,"post_id":73908206,"comment_id":130501582,"body_markdown":"Yes Windows I&#39;m afraid. I can pause it by Thread.sleep(Very large number) but no way to resume it.","body":"Yes Windows I&#39;m afraid. I can pause it by Thread.sleep(Very large number) but no way to resume it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664543642,"post_id":73908206,"comment_id":130502206,"body_markdown":"What is &#39;ffmpeg_command&#39;? *if(stopconv ==&quot;yes&quot;)* That&#39;s not right btw. You have to compare strings with ```String.equals```. So, ```if(&quot;yes&quot;.equals(stopconv))```. Or better: ```if(YES.equals(stopconv))```  (constant) Also, prefer ```ProcessBuilder```","body":"What is &#39;ffmpeg_command&#39;? <i>if(stopconv ==&quot;yes&quot;)</i> That&#39;s not right btw. You have to compare strings with <code>String.equals</code>. So, <code>if(&quot;yes&quot;.equals(stopconv))</code>. Or better: <code>if(YES.equals(stopconv))</code>  (constant) Also, prefer <code>ProcessBuilder</code>"},{"owner":{"account_id":4545235,"reputation":4690,"user_id":4516027,"display_name":"kesh"},"score":0,"creation_date":1664543869,"post_id":73908206,"comment_id":130502295,"body_markdown":"The easiest way that I can think of to control the data flow is to control the input stream. Read the source yourself and feed the data to `ffmpeg.getInputStream();`. To pause FFmpeg, simply pause the feed. FFmpeg process will patiently sit and wait for more inputs as long as its input stream is not closed.","body":"The easiest way that I can think of to control the data flow is to control the input stream. Read the source yourself and feed the data to <code>ffmpeg.getInputStream();</code>. To pause FFmpeg, simply pause the feed. FFmpeg process will patiently sit and wait for more inputs as long as its input stream is not closed."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664543998,"post_id":73908206,"comment_id":130502340,"body_markdown":"That&#39;s what I was about to say @kesh ;) ffmpeg *will* read from a pipe so *if* you have an input stream to it, then you might do that. The only problem is possibly that you&#39;re using stdin to *control* it with commands: I doubt if you can do both","body":"That&#39;s what I was about to say @kesh ;) ffmpeg <i>will</i> read from a pipe so <i>if</i> you have an input stream to it, then you might do that. The only problem is possibly that you&#39;re using stdin to <i>control</i> it with commands: I doubt if you can do both"},{"owner":{"account_id":4545235,"reputation":4690,"user_id":4516027,"display_name":"kesh"},"score":0,"creation_date":1664544120,"post_id":73908206,"comment_id":130502382,"body_markdown":"@g00se - not in Windows for sure :) (non-win32, you can use multiple named pipes)","body":"@g00se - not in Windows for sure :) (non-win32, you can use multiple named pipes)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664545199,"post_id":73908206,"comment_id":130502765,"body_markdown":"Well it would *seem* that ffmpeg has to be explicit about pipes. I was thinking that something like ```type someaudio.ts | ffmpeg -f m4v out.mp3``` would work in Windows.","body":"Well it would <i>seem</i> that ffmpeg has to be explicit about pipes. I was thinking that something like <code>type someaudio.ts | ffmpeg -f m4v out.mp3</code> would work in Windows."},{"owner":{"account_id":12005337,"reputation":21,"user_id":8783855,"display_name":"jdauthre"},"score":0,"creation_date":1664621575,"post_id":73908206,"comment_id":130516573,"body_markdown":"Thank you for all your comments, I think using a pipe would probably work, however I have solved it by  using thread.suspend() and thread.resume(), they are depreciated but neverthess work, I am relatively new to java so it took a lot of time to work out how to get round the non-static method be referenced from a static context issue.","body":"Thank you for all your comments, I think using a pipe would probably work, however I have solved it by  using thread.suspend() and thread.resume(), they are depreciated but neverthess work, I am relatively new to java so it took a lot of time to work out how to get round the non-static method be referenced from a static context issue."}],"owner":{"account_id":12005337,"reputation":21,"user_id":8783855,"display_name":"jdauthre"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664538172,"creation_date":1664538172,"question_id":73908206,"body_markdown":"I have ffmpeg running as a process in Java.  I want to be able to pause it and be able to resume it later. I can make it quit, but cannot find a way to pause.\r\n```\r\n Process ffmpeg = Runtime.getRuntime().exec(ffmpeg_command, null);\r\n\t                       \r\n\t                            stderr = ffmpeg.getErrorStream();\r\n\t                            stdout = ffmpeg.getOutputStream();\r\n\t                            stdout.write(&quot;\\r\\n&quot;.getBytes());    \r\n\t   \r\n\r\n\t                            error_isr = new InputStreamReader(stderr);\r\n\t                            error_reader = new BufferedReader(error_isr);\r\n\t                       //     input_isr = new InputStreamReader(stdin);\r\n\t                       //     input_reader = new BufferedReader(input_isr);\r\n\t                          //  input_reader = new BufferedReader(input_isr);\r\n\t                          //  int ch;\r\n\r\n\t                            while (!error_reader.ready()) {\r\n\t                            }\r\n\t                            while ((errorstr = error_reader.readLine()) != null) {\r\n\t                         \r\n\t                                    if(stopconv ==&quot;yes&quot;){  \r\n\t\t\t\t\t\t\t\t\t\tPrintStream ffmpegIn = new PrintStream(stdout);\r\n// this successfully quits\t\t\t\tffmpegIn.println(&quot;q\\r\\n&quot;);\r\n// ffmpeg by sending &quot;q&quot; to it\t\t\tffmpegIn.println(&quot;\\n&quot;);\r\n\t\t\t\t\t\t\t\t\t\tffmpegIn.flush();\t\r\n\t\t\t\t\t\t\t\t\t     \r\n\t                                    if(pauseconv ==&quot;yes&quot;){ \r\n\t                      // To pause the code needs to be here but how?\r\n\t                                    \tpauseconv = &quot;no&quot;;\r\n\t\t                                    \t\t\t\t }\r\n\t                                        \r\n```\r\nthe &quot;pause&quot; keystroke (Windows) works if just using ffmpeg in a command line, and I have been trying to replicate that without success. The code is just the relevant part.","title":"How to pause ffmpeg in Java","body":"<p>I have ffmpeg running as a process in Java.  I want to be able to pause it and be able to resume it later. I can make it quit, but cannot find a way to pause.</p>\n<pre><code> Process ffmpeg = Runtime.getRuntime().exec(ffmpeg_command, null);\n                           \n                                stderr = ffmpeg.getErrorStream();\n                                stdout = ffmpeg.getOutputStream();\n                                stdout.write(&quot;\\r\\n&quot;.getBytes());    \n       \n\n                                error_isr = new InputStreamReader(stderr);\n                                error_reader = new BufferedReader(error_isr);\n                           //     input_isr = new InputStreamReader(stdin);\n                           //     input_reader = new BufferedReader(input_isr);\n                              //  input_reader = new BufferedReader(input_isr);\n                              //  int ch;\n\n                                while (!error_reader.ready()) {\n                                }\n                                while ((errorstr = error_reader.readLine()) != null) {\n                             \n                                        if(stopconv ==&quot;yes&quot;){  \n                                        PrintStream ffmpegIn = new PrintStream(stdout);\n// this successfully quits              ffmpegIn.println(&quot;q\\r\\n&quot;);\n// ffmpeg by sending &quot;q&quot; to it          ffmpegIn.println(&quot;\\n&quot;);\n                                        ffmpegIn.flush();   \n                                         \n                                        if(pauseconv ==&quot;yes&quot;){ \n                          // To pause the code needs to be here but how?\n                                            pauseconv = &quot;no&quot;;\n                                                             }\n                                            \n</code></pre>\n<p>the &quot;pause&quot; keystroke (Windows) works if just using ffmpeg in a command line, and I have been trying to replicate that without success. The code is just the relevant part.</p>\n"},{"tags":["java","url-encoding"],"comments":[{"owner":{"account_id":386951,"reputation":5335,"user_id":745018,"accept_rate":69,"display_name":"crackerplace"},"score":0,"creation_date":1306412061,"post_id":6138127,"comment_id":7125595,"body_markdown":"@Stephen .. Why can&#39;t a url be UTF-8 encoded String .. ?","body":"@Stephen .. Why can&#39;t a url be UTF-8 encoded String .. ?"},{"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"score":0,"creation_date":1306412346,"post_id":6138127,"comment_id":7125660,"body_markdown":"The problem is that just because the URL can be UTF-8, the question really has _nothing_ to do with UTF-8. I&#39;ve edited the question suitably.","body":"The problem is that just because the URL can be UTF-8, the question really has <i>nothing</i> to do with UTF-8. I&#39;ve edited the question suitably."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1306412442,"post_id":6138127,"comment_id":7125686,"body_markdown":"It could be (in theory) but the string in your example is not a UTF-8 encoded String.  It is a URL-encoded ASCII string.  Hence the title is misleading.","body":"It could be (in theory) but the string in your example is not a UTF-8 encoded String.  It is a URL-encoded ASCII string.  Hence the title is misleading."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1306413248,"post_id":6138127,"comment_id":7125923,"body_markdown":"It is also worth noting that all the characters in the `url` string are ASCII, and this is also true after the string has been URL decoded.  `&#39;%&#39;` is an ASCII char and `%xx` represents an ASCII char if `xx` is less than (hexadecimal) `80`.","body":"It is also worth noting that all the characters in the <code>url</code> string are ASCII, and this is also true after the string has been URL decoded.  <code>&#39;%&#39;</code> is an ASCII char and <code>%xx</code> represents an ASCII char if <code>xx</code> is less than (hexadecimal) <code>80</code>."}],"answers":[{"tags":[],"owner":{"account_id":62515,"reputation":45036,"user_id":185722,"accept_rate":100,"display_name":"Alexander Pogrebnyak"},"comment_count":0,"down_vote_count":0,"up_vote_count":75,"is_accepted":false,"score":75,"last_activity_date":1306411361,"creation_date":1306411361,"answer_id":6138152,"question_id":6138127,"body_markdown":"The string you&#39;ve got is in `application/x-www-form-urlencoded` encoding.\r\n\r\nUse [URLDecoder][1] to convert it to Java String.\r\n\r\n    URLDecoder.decode( url, &quot;UTF-8&quot; );\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/net/URLDecoder.html","title":"How to do URL decoding in Java?","body":"<p>The string you've got is in <code>application/x-www-form-urlencoded</code> encoding.</p>\n\n<p>Use <a href=\"http://download.oracle.com/javase/6/docs/api/java/net/URLDecoder.html\" rel=\"noreferrer\">URLDecoder</a> to convert it to Java String.</p>\n\n<pre><code>URLDecoder.decode( url, \"UTF-8\" );\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3516368,"reputation":6373,"user_id":2939690,"accept_rate":17,"display_name":"vuhung3990"},"score":2,"creation_date":1420569956,"post_id":6138168,"comment_id":44019224,"body_markdown":"it not convert %2C too, it&#39;s (,)","body":"it not convert %2C too, it&#39;s (,)"},{"owner":{"account_id":1978890,"reputation":385,"user_id":4691630,"accept_rate":75,"display_name":"dNurb"},"score":0,"creation_date":1469566349,"post_id":6138168,"comment_id":64587258,"body_markdown":"this needs to be wrapped in a try/catch block.. read more about checked exceptions (this one) vs unchecked http://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation","body":"this needs to be wrapped in a try/catch block.. read more about checked exceptions (this one) vs unchecked <a href=\"http://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation\" title=\"java checked vs unchecked exception explanation\">stackoverflow.com/questions/6115896/&hellip;</a>"}],"tags":[],"owner":{"account_id":5439,"reputation":28408,"user_id":8753,"display_name":"laz"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1365467633,"creation_date":1306411429,"answer_id":6138168,"question_id":6138127,"body_markdown":"`%3A` and `%2F` are URL encoded characters. Use this java code to convert them back into `:` and `/`\r\n\r\n    String decoded = java.net.URLDecoder.decode(url, &quot;UTF-8&quot;);","title":"How to do URL decoding in Java?","body":"<p><code>%3A</code> and <code>%2F</code> are URL encoded characters. Use this java code to convert them back into <code>:</code> and <code>/</code></p>\n\n<pre><code>String decoded = java.net.URLDecoder.decode(url, \"UTF-8\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5439,"reputation":28408,"user_id":8753,"display_name":"laz"},"score":1,"creation_date":1306413475,"post_id":6138183,"comment_id":7125989,"body_markdown":"The methods on `URLDecoder` are static so you don&#39;t have to create a new instance of it.","body":"The methods on <code>URLDecoder</code> are static so you don&#39;t have to create a new instance of it."},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1306415599,"post_id":6138183,"comment_id":7126668,"body_markdown":"@whataheck URL encoding is used because in some places you can&#39;t use all kinds of characters in an URL, so that some characters are escaped using a `%xx` code as Stephen C explains in a comment on your question above.","body":"@whataheck URL encoding is used because in some places you can&#39;t use all kinds of characters in an URL, so that some characters are escaped using a <code>%xx</code> code as Stephen C explains in a comment on your question above."},{"owner":{"account_id":1198561,"reputation":3841,"user_id":1169741,"accept_rate":48,"display_name":"Trismegistos"},"score":0,"creation_date":1355921247,"post_id":6138183,"comment_id":19243173,"body_markdown":"Method you provided is marked as deprecated. Why is that and what is alternative?","body":"Method you provided is marked as deprecated. Why is that and what is alternative?"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1355932045,"post_id":6138183,"comment_id":19249006,"body_markdown":"@Trismegistos Only the version where you don&#39;t specify the character encoding (the second parameter, `&quot;UTF-8&quot;`) is deprecated according to the Java 7 API documentation. Use the version with two parameters.","body":"@Trismegistos Only the version where you don&#39;t specify the character encoding (the second parameter, <code>&quot;UTF-8&quot;</code>) is deprecated according to the Java 7 API documentation. Use the version with two parameters."},{"owner":{"account_id":1014968,"reputation":2289,"user_id":1423874,"accept_rate":100,"display_name":"Shahar"},"score":27,"creation_date":1398861970,"post_id":6138183,"comment_id":35830322,"body_markdown":"If using java 1.7+ you can use the static version of the &quot;UTF-8&quot; string: `StandardCharsets.UTF_8.name()` from this package: `java.nio.charset.StandardCharsets`. Relevant to this: [link](http://stackoverflow.com/questions/6698354/where-to-get-utf-8-string-literal-in-java)","body":"If using java 1.7+ you can use the static version of the &quot;UTF-8&quot; string: <code>StandardCharsets.UTF_8.name()</code> from this package: <code>java.nio.charset.StandardCharsets</code>. Relevant to this: <a href=\"http://stackoverflow.com/questions/6698354/where-to-get-utf-8-string-literal-in-java\">link</a>"},{"owner":{"account_id":386951,"reputation":5335,"user_id":745018,"accept_rate":69,"display_name":"crackerplace"},"score":1,"creation_date":1405542760,"post_id":6138183,"comment_id":38474772,"body_markdown":"For character encoding,this makes a great article too balusc.blogspot.in/2009/05/unicode-how-to-get-characters-right.html","body":"For character encoding,this makes a great article too balusc.blogspot.in/2009/05/unicode-how-to-get-characters-rig&zwnj;&#8203;ht.html"},{"owner":{"account_id":264410,"reputation":384,"user_id":550674,"display_name":"Michal"},"score":6,"creation_date":1432729793,"post_id":6138183,"comment_id":49043541,"body_markdown":"Be careful with this. As noted here: http://blog.lunatech.com/2009/02/03/what-every-web-developer-must-know-about-url-encoding#Donotuse%7B%7Bjava.net.URLEncoder%7D%7Dor%7B%7Bjava.net.URLDecoder%7D%7DforwholeURLs\n\nThis is not about URLs, but for HTML form encoding.","body":"Be careful with this. As noted here: <a href=\"http://blog.lunatech.com/2009/02/03/what-every-web-developer-must-know-about-url-encoding#Donotuse%7B%7Bjava.net.URLEncoder%7D%7Dor%7B%7Bjava.net.URLDecoder%7D%7DforwholeURLs\" rel=\"nofollow noreferrer\">blog.lunatech.com/2009/02/03/&hellip;</a>  This is not about URLs, but for HTML form encoding."},{"owner":{"account_id":2361010,"reputation":1365,"user_id":2067690,"accept_rate":83,"display_name":"HumanInDisguise"},"score":0,"creation_date":1433322994,"post_id":6138183,"comment_id":49297985,"body_markdown":"Useful for grails and gsp as well ... `&lt;g:message code=&quot;yourMessageID&quot; default=&quot;&quot; args=&quot;${URLDecoder.decode(yourVariable, &quot;UTF-8&quot;)}&quot;/&gt;`","body":"Useful for grails and gsp as well ... <code>&lt;g:message code=&quot;yourMessageID&quot; default=&quot;&quot; args=&quot;${URLDecoder.decode(yourVariable, &quot;UTF-8&quot;)}&quot;&#47;&gt;</code>"},{"owner":{"account_id":1978890,"reputation":385,"user_id":4691630,"accept_rate":75,"display_name":"dNurb"},"score":0,"creation_date":1469566391,"post_id":6138183,"comment_id":64587275,"body_markdown":"this needs to be wrapped in a try/catch block.. read more about checked exceptions (this one) vs unchecked http://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation","body":"this needs to be wrapped in a try/catch block.. read more about checked exceptions (this one) vs unchecked <a href=\"http://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation\" title=\"java checked vs unchecked exception explanation\">stackoverflow.com/questions/6115896/&hellip;</a>"},{"owner":{"account_id":5012020,"reputation":2702,"user_id":4028009,"display_name":"Evgeny  Bovykin"},"score":0,"creation_date":1579094270,"post_id":6138183,"comment_id":105650785,"body_markdown":"Doesn&#39;t work if there is a &#39;+&#39; in url. See https://bugs.openjdk.java.net/browse/JDK-8179507","body":"Doesn&#39;t work if there is a &#39;+&#39; in url. See <a href=\"https://bugs.openjdk.java.net/browse/JDK-8179507\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8179507</a>"}],"tags":[],"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"comment_count":10,"down_vote_count":2,"up_vote_count":754,"is_accepted":true,"score":752,"last_activity_date":1549285631,"creation_date":1306411459,"answer_id":6138183,"question_id":6138127,"body_markdown":"This does not have anything to do with character encodings such as UTF-8 or ASCII. The string you have there is *URL encoded*. This kind of encoding is something entirely different than character encoding.\r\n\r\nTry something like this:\r\n\r\n    try {\r\n        String result = java.net.URLDecoder.decode(url, StandardCharsets.UTF_8.name());\r\n    } catch (UnsupportedEncodingException e) {\r\n        // not going to happen - value came from JDK&#39;s own StandardCharsets\r\n    }\r\n\r\nJava 10 added direct support for `Charset` to the API, meaning there&#39;s no need to catch UnsupportedEncodingException:\r\n\r\n    String result = java.net.URLDecoder.decode(url, StandardCharsets.UTF_8);\r\n\r\nNote that a *character encoding* (such as UTF-8 or ASCII) is what determines the mapping of characters to raw bytes. For a good intro to character encodings, see [this article][1].\r\n\r\n\r\n  [1]: http://www.joelonsoftware.com/articles/Unicode.html","title":"How to do URL decoding in Java?","body":"<p>This does not have anything to do with character encodings such as UTF-8 or ASCII. The string you have there is <em>URL encoded</em>. This kind of encoding is something entirely different than character encoding.</p>\n\n<p>Try something like this:</p>\n\n<pre><code>try {\n    String result = java.net.URLDecoder.decode(url, StandardCharsets.UTF_8.name());\n} catch (UnsupportedEncodingException e) {\n    // not going to happen - value came from JDK's own StandardCharsets\n}\n</code></pre>\n\n<p>Java 10 added direct support for <code>Charset</code> to the API, meaning there's no need to catch UnsupportedEncodingException:</p>\n\n<pre><code>String result = java.net.URLDecoder.decode(url, StandardCharsets.UTF_8);\n</code></pre>\n\n<p>Note that a <em>character encoding</em> (such as UTF-8 or ASCII) is what determines the mapping of characters to raw bytes. For a good intro to character encodings, see <a href=\"http://www.joelonsoftware.com/articles/Unicode.html\" rel=\"noreferrer\">this article</a>.</p>\n"},{"comments":[{"owner":{"account_id":62260,"reputation":999,"user_id":185093,"accept_rate":90,"display_name":"Aaron"},"score":6,"creation_date":1408386714,"post_id":16453677,"comment_id":39560266,"body_markdown":"In Java 1.7 the `URLDecoder.decode(String, String)` overload is not deprecated. You must be referring to the `URLDecoder.decode(String)` overload without the encoding. You might want to update your post for clarification.","body":"In Java 1.7 the <code>URLDecoder.decode(String, String)</code> overload is not deprecated. You must be referring to the <code>URLDecoder.decode(String)</code> overload without the encoding. You might want to update your post for clarification."},{"owner":{"account_id":304772,"reputation":11223,"user_id":614482,"accept_rate":80,"display_name":"Emerson Farrugia"},"score":2,"creation_date":1427884219,"post_id":16453677,"comment_id":46954468,"body_markdown":"This answer is misleading; that block quote has nothing to do with the deprecation. The Javadoc of the deprecated method states, and I actually quote `@deprecated The resulting string may vary depending on the platform&#39;s default encoding. Instead, use the decode(String,String) method to specify the encoding.`","body":"This answer is misleading; that block quote has nothing to do with the deprecation. The Javadoc of the deprecated method states, and I actually quote <code>@deprecated The resulting string may vary depending on the platform&#39;s default encoding. Instead, use the decode(String,String) method to specify the encoding.</code>"},{"owner":{"account_id":410277,"reputation":24594,"user_id":782034,"accept_rate":72,"display_name":"Nick Grealy"},"score":0,"creation_date":1459376068,"post_id":16453677,"comment_id":60264694,"body_markdown":"@Klever, not for me. I believe you&#39;re using `URL` instead of `URI`, but you haven&#39;t provided enough information to reproduce your results.","body":"@Klever, not for me. I believe you&#39;re using <code>URL</code> instead of <code>URI</code>, but you haven&#39;t provided enough information to reproduce your results."},{"owner":{"account_id":1004052,"reputation":550,"user_id":1018247,"display_name":"Pelpotronic"},"score":2,"creation_date":1469478819,"post_id":16453677,"comment_id":64543088,"body_markdown":"getPath() for URIs only returns the path part of the URI, as noted above.","body":"getPath() for URIs only returns the path part of the URI, as noted above."},{"owner":{"account_id":410277,"reputation":24594,"user_id":782034,"accept_rate":72,"display_name":"Nick Grealy"},"score":0,"creation_date":1469504769,"post_id":16453677,"comment_id":64550344,"body_markdown":"@Pelpotronic - Perhaps you could provide some information so we can replicate your behaviour? I&#39;m using `SUN JDK 1.8.0_73` - and it still works today.","body":"@Pelpotronic - Perhaps you could provide some information so we can replicate your behaviour? I&#39;m using <code>SUN JDK 1.8.0_73</code> - and it still works today."},{"owner":{"account_id":1004052,"reputation":550,"user_id":1018247,"display_name":"Pelpotronic"},"score":2,"creation_date":1469645897,"post_id":16453677,"comment_id":64627970,"body_markdown":"Unless I&#39;m mistaken, the &quot;path&quot; is known to be that part of a URI after the authority part (see: https://en.wikipedia.org/wiki/Uniform_Resource_Identifier for definition of path) - it seems to me the behaviour I am seeing is the standard/correct behaviour. I&#39;m using java 1.8.0_101 (on Android Studio). I&#39;d be curious to see what you get as &quot;getAuthority()&quot; is called. Even this article/example seems to indicate that path is only the /public/manual/appliances part of their URI:http://www.quepublishing.com/articles/article.aspx?p=26566&amp;seqNum=3","body":"Unless I&#39;m mistaken, the &quot;path&quot; is known to be that part of a URI after the authority part (see: <a href=\"https://en.wikipedia.org/wiki/Uniform_Resource_Identifier\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Uniform_Resource_Identifier</a> for definition of path) - it seems to me the behaviour I am seeing is the standard/correct behaviour. I&#39;m using java 1.8.0_101 (on Android Studio). I&#39;d be curious to see what you get as &quot;getAuthority()&quot; is called. Even this article/example seems to indicate that path is only the /public/manual/appliances part of their URI:<a href=\"http://www.quepublishing.com/articles/article.aspx?p=26566&amp;seqNum=3\" rel=\"nofollow noreferrer\">quepublishing.com/articles/article.aspx?p=26566&amp;seqNum=3</a>"},{"owner":{"account_id":7831234,"reputation":497,"user_id":5921170,"accept_rate":100,"display_name":"Kr&#246;w"},"score":2,"creation_date":1559442402,"post_id":16453677,"comment_id":99420521,"body_markdown":"@Pelpotronic The code in the post actually does print the output that it shows (at least for me). I think the reason for this is that, because of the URL encoding, the URI constructor is actually treating the entire string, (`https%3A%2F...`), as just the path of a URI; there is no authority, or query, etc. This can be tested by calling the  respective get methods on the URI object. If you pass the decoded text to the URI constructor: `new URI(&quot;https://mywebsite/do.....&quot;)`, then calling `getPath()` and other methods will give correct results.","body":"@Pelpotronic The code in the post actually does print the output that it shows (at least for me). I think the reason for this is that, because of the URL encoding, the URI constructor is actually treating the entire string, (<code>https%3A%2F...</code>), as just the path of a URI; there is no authority, or query, etc. This can be tested by calling the  respective get methods on the URI object. If you pass the decoded text to the URI constructor: <code>new URI(&quot;https:&#47;&#47;mywebsite&#47;do.....&quot;)</code>, then calling <code>getPath()</code> and other methods will give correct results."},{"owner":{"account_id":7831234,"reputation":497,"user_id":5921170,"accept_rate":100,"display_name":"Kr&#246;w"},"score":0,"creation_date":1559442578,"post_id":16453677,"comment_id":99420533,"body_markdown":"@Pelpotronic The escaped text isn&#39;t a valid URL, and so it has no &quot;query&quot; portion or any of the other properties of a URL. A better way to think about it would be like this: When you want to put a `/` character into a url&#39;s path, without it acting as a syntactical character, you have to escape it. Since everything in that string is escaped, it&#39;s all a part of the url&#39;s path.","body":"@Pelpotronic The escaped text isn&#39;t a valid URL, and so it has no &quot;query&quot; portion or any of the other properties of a URL. A better way to think about it would be like this: When you want to put a <code>&#47;</code> character into a url&#39;s path, without it acting as a syntactical character, you have to escape it. Since everything in that string is escaped, it&#39;s all a part of the url&#39;s path."}],"tags":[],"owner":{"account_id":410277,"reputation":24594,"user_id":782034,"accept_rate":72,"display_name":"Nick Grealy"},"comment_count":8,"down_vote_count":3,"up_vote_count":59,"is_accepted":false,"score":56,"last_activity_date":1579439926,"creation_date":1368068874,"answer_id":16453677,"question_id":6138127,"body_markdown":"This has been answered [before][1] (although this question was first!):\r\n\r\n&gt; &quot;You should use java.net.URI to do this, as the URLDecoder class does x-www-form-urlencoded decoding which is wrong (despite the name, it&#39;s for form data).&quot;\r\n\r\nAs [URL][2] class documentation states:\r\n&gt; The recommended way to manage the encoding and decoding of URLs is to\r\n&gt; use [URI][3], and to convert between these two classes using [toURI()][4] and\r\n&gt; [URI.toURL()][5].\r\n&gt; \r\n&gt; The [URLEncoder][6] and [URLDecoder][7] classes can also be used, but only for\r\n&gt; HTML form encoding, which is not the same as the encoding scheme\r\n&gt; defined in [RFC2396][8].\r\n\r\n**Basically:**\r\n\r\n    String url = &quot;https%3A%2F%2Fmywebsite%2Fdocs%2Fenglish%2Fsite%2Fmybook.do%3Frequest_type&quot;;\r\n    System.out.println(new java.net.URI(url).getPath());\r\n\r\nwill give you:\r\n\r\n    https://mywebsite/docs/english/site/mybook.do?request_type\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6519746/url-decode-in-java-6#6603584\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/net/URL.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/net/URI.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/net/URL.html#toURI--\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/net/URI.html#toURL--\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/net/URLEncoder.html\r\n  [7]: https://docs.oracle.com/javase/8/docs/api/java/net/URLDecoder.html\r\n  [8]: https://www.ietf.org/rfc/rfc2396.txt","title":"How to do URL decoding in Java?","body":"<p>This has been answered <a href=\"https://stackoverflow.com/questions/6519746/url-decode-in-java-6#6603584\">before</a> (although this question was first!):</p>\n\n<blockquote>\n  <p>\"You should use java.net.URI to do this, as the URLDecoder class does x-www-form-urlencoded decoding which is wrong (despite the name, it's for form data).\"</p>\n</blockquote>\n\n<p>As <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URL.html\" rel=\"noreferrer\">URL</a> class documentation states:</p>\n\n<blockquote>\n  <p>The recommended way to manage the encoding and decoding of URLs is to\n  use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URI.html\" rel=\"noreferrer\">URI</a>, and to convert between these two classes using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URL.html#toURI--\" rel=\"noreferrer\">toURI()</a> and\n  <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URI.html#toURL--\" rel=\"noreferrer\">URI.toURL()</a>.</p>\n  \n  <p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URLEncoder.html\" rel=\"noreferrer\">URLEncoder</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URLDecoder.html\" rel=\"noreferrer\">URLDecoder</a> classes can also be used, but only for\n  HTML form encoding, which is not the same as the encoding scheme\n  defined in <a href=\"https://www.ietf.org/rfc/rfc2396.txt\" rel=\"noreferrer\">RFC2396</a>.</p>\n</blockquote>\n\n<p><strong>Basically:</strong></p>\n\n<pre><code>String url = \"https%3A%2F%2Fmywebsite%2Fdocs%2Fenglish%2Fsite%2Fmybook.do%3Frequest_type\";\nSystem.out.println(new java.net.URI(url).getPath());\n</code></pre>\n\n<p>will give you:</p>\n\n<pre><code>https://mywebsite/docs/english/site/mybook.do?request_type\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2718906,"reputation":1403,"user_id":2345627,"accept_rate":60,"display_name":"rinuthomaz"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1413347368,"creation_date":1401950145,"answer_id":24053197,"question_id":6138127,"body_markdown":"    import java.io.UnsupportedEncodingException;\r\n    import java.net.URISyntaxException;\r\n    \r\n    public class URLDecoding { \r\n    \r\n    \tString decoded = &quot;&quot;;\r\n    \t\r\n    \tpublic String decodeMethod(String url) throws UnsupportedEncodingException\r\n    \t{\r\n    \t\tdecoded = java.net.URLDecoder.decode(url, &quot;UTF-8&quot;);\t\r\n    \t\treturn  decoded;\r\n    //&quot;You should use java.net.URI to do this, as the URLDecoder class does x-www-form-urlencoded decoding which is wrong (despite the name, it&#39;s for form data).&quot;\r\n    \t}\r\n    \t\r\n    \tpublic String getPathMethod(String url) throws URISyntaxException \r\n    \t{\r\n    \t\tdecoded = new java.net.URI(url).getPath();\t\r\n    \t\treturn  decoded; \r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) throws UnsupportedEncodingException, URISyntaxException \r\n    \t{\r\n    \t\tSystem.out.println(&quot; Here is your Decoded url with decode method : &quot;+ new URLDecoding().decodeMethod(&quot;https%3A%2F%2Fmywebsite%2Fdocs%2Fenglish%2Fsite%2Fmybook.do%3Frequest_type&quot;)); \r\n    \t\tSystem.out.println(&quot;Here is your Decoded url with getPath method : &quot;+ new URLDecoding().getPathMethod(&quot;https%3A%2F%2Fmywebsite%2Fdocs%2Fenglish%2Fsite%2Fmybook.do%3Frequest&quot;)); \r\n    \t\t\r\n    \t} \r\n    \r\n    }\r\n\r\nYou can select your method wisely :) ","title":"How to do URL decoding in Java?","body":"<pre><code>import java.io.UnsupportedEncodingException;\nimport java.net.URISyntaxException;\n\npublic class URLDecoding { \n\n    String decoded = \"\";\n\n    public String decodeMethod(String url) throws UnsupportedEncodingException\n    {\n        decoded = java.net.URLDecoder.decode(url, \"UTF-8\"); \n        return  decoded;\n//\"You should use java.net.URI to do this, as the URLDecoder class does x-www-form-urlencoded decoding which is wrong (despite the name, it's for form data).\"\n    }\n\n    public String getPathMethod(String url) throws URISyntaxException \n    {\n        decoded = new java.net.URI(url).getPath();  \n        return  decoded; \n    }\n\n    public static void main(String[] args) throws UnsupportedEncodingException, URISyntaxException \n    {\n        System.out.println(\" Here is your Decoded url with decode method : \"+ new URLDecoding().decodeMethod(\"https%3A%2F%2Fmywebsite%2Fdocs%2Fenglish%2Fsite%2Fmybook.do%3Frequest_type\")); \n        System.out.println(\"Here is your Decoded url with getPath method : \"+ new URLDecoding().getPathMethod(\"https%3A%2F%2Fmywebsite%2Fdocs%2Fenglish%2Fsite%2Fmybook.do%3Frequest\")); \n\n    } \n\n}\n</code></pre>\n\n<p>You can select your method wisely :) </p>\n"},{"tags":[],"owner":{"account_id":1106279,"reputation":9834,"user_id":1097600,"accept_rate":80,"display_name":"Sorter"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1407673862,"creation_date":1407673862,"answer_id":25228635,"question_id":6138127,"body_markdown":"I use [apache commons][1]\r\n\r\n    String decodedUrl = new URLCodec().decode(url);\r\n\r\nThe default charset is `UTF-8`\r\n  [1]: http://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/net/URLCodec.html#decode(java.lang.String)","title":"How to do URL decoding in Java?","body":"<p>I use <a href=\"http://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/net/URLCodec.html#decode(java.lang.String)\" rel=\"noreferrer\">apache commons</a></p>\n\n<pre><code>String decodedUrl = new URLCodec().decode(url);\n</code></pre>\n\n<p>The default charset is <code>UTF-8</code></p>\n"},{"tags":[],"owner":{"account_id":3177164,"reputation":1510,"user_id":2684720,"display_name":"Hsm"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1415987090,"creation_date":1415987090,"answer_id":26935875,"question_id":6138127,"body_markdown":"     try {\r\n\t\t\tString result = URLDecoder.decode(urlString, &quot;UTF-8&quot;);\r\n\t\t} catch (UnsupportedEncodingException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}","title":"How to do URL decoding in Java?","body":"<pre><code> try {\n        String result = URLDecoder.decode(urlString, \"UTF-8\");\n    } catch (UnsupportedEncodingException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5806757,"reputation":3715,"user_id":4579155,"accept_rate":73,"display_name":"abarisone"},"score":4,"creation_date":1434439365,"post_id":30861038,"comment_id":49764766,"body_markdown":"Could you please elaborate more your answer adding a little more description about the solution you provide?","body":"Could you please elaborate more your answer adding a little more description about the solution you provide?"}],"tags":[],"owner":{"account_id":6439502,"reputation":2409,"user_id":4989929,"display_name":"Ronak Poriya"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1434438771,"creation_date":1434438771,"answer_id":30861038,"question_id":6138127,"body_markdown":" \r\n\r\n    public String decodeString(String URL)\r\n        {\r\n    \r\n    \tString urlString=&quot;&quot;;\r\n        try {\r\n            urlString = URLDecoder.decode(URL,&quot;UTF-8&quot;);\r\n            } catch (UnsupportedEncodingException e) {\r\n                // TODO Auto-generated catch block\r\n               \r\n            }\r\n    \r\n            return urlString;\r\n    \r\n        }","title":"How to do URL decoding in Java?","body":"<pre><code>public String decodeString(String URL)\n    {\n\n    String urlString=\"\";\n    try {\n        urlString = URLDecoder.decode(URL,\"UTF-8\");\n        } catch (UnsupportedEncodingException e) {\n            // TODO Auto-generated catch block\n\n        }\n\n        return urlString;\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2675520,"reputation":457,"user_id":2312020,"display_name":"x7BiT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586870426,"creation_date":1586870426,"answer_id":61208742,"question_id":6138127,"body_markdown":"Using java.net.URI class:\r\n\r\n    public String getDecodedURL(String encodedUrl) {\r\n        try {\r\n            URI uri = new URI(encodedUrl);\r\n            return uri.getScheme() + &quot;:&quot; + uri.getSchemeSpecificPart();\r\n        } catch (Exception e) {\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\nPlease note that exception handling can be better, but it&#39;s not much relevant for this example.","title":"How to do URL decoding in Java?","body":"<p>Using java.net.URI class:</p>\n\n<pre><code>public String getDecodedURL(String encodedUrl) {\n    try {\n        URI uri = new URI(encodedUrl);\n        return uri.getScheme() + \":\" + uri.getSchemeSpecificPart();\n    } catch (Exception e) {\n        return \"\";\n    }\n}\n</code></pre>\n\n<p>Please note that exception handling can be better, but it's not much relevant for this example.</p>\n"},{"tags":[],"owner":{"account_id":9652807,"reputation":31,"user_id":7163393,"display_name":"Selva R"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1622378555,"creation_date":1622378555,"answer_id":67761271,"question_id":6138127,"body_markdown":"If it is integer value, we have to catch NumberFormatException also.\r\n\r\n    try {\r\n            Integer result = Integer.valueOf(URLDecoder.decode(urlNumber, &quot;UTF-8&quot;));\r\n        } catch (NumberFormatException | UnsupportedEncodingException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }","title":"How to do URL decoding in Java?","body":"<p>If it is integer value, we have to catch NumberFormatException also.</p>\n<pre><code>try {\n        Integer result = Integer.valueOf(URLDecoder.decode(urlNumber, &quot;UTF-8&quot;));\n    } catch (NumberFormatException | UnsupportedEncodingException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23678540,"reputation":343,"user_id":17704418,"display_name":"salam_verdim_alana_panyatkasi"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1664538133,"creation_date":1664538133,"answer_id":73908196,"question_id":6138127,"body_markdown":"I was having this problem too and came here as an answer. But I used the code of the friend whose question was approved, it didn&#39;t work. I tried something different and it worked, so I&#39;m sharing the following line of code in case it helps.\r\n\r\n    URLDecoder.decode(URLDecoder.decode(url, StandardCharsets.UTF_8)))","title":"How to do URL decoding in Java?","body":"<p>I was having this problem too and came here as an answer. But I used the code of the friend whose question was approved, it didn't work. I tried something different and it worked, so I'm sharing the following line of code in case it helps.</p>\n<pre><code>URLDecoder.decode(URLDecoder.decode(url, StandardCharsets.UTF_8)))\n</code></pre>\n"}],"owner":{"account_id":386951,"reputation":5335,"user_id":745018,"accept_rate":69,"display_name":"crackerplace"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552383,"favorite_count":0,"down_vote_count":0,"up_vote_count":397,"accepted_answer_id":6138183,"answer_count":11,"score":397,"last_activity_date":1664538133,"creation_date":1306411219,"question_id":6138127,"body_markdown":"**In Java, I want to convert this:**\r\n\r\n    https%3A%2F%2Fmywebsite%2Fdocs%2Fenglish%2Fsite%2Fmybook.do%3Frequest_type\r\n**To this:**\r\n\r\n    https://mywebsite/docs/english/site/mybook.do&amp;request_type\r\n\r\n**This is what I have so far:**\r\n\r\n    class StringUTF \r\n    {\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t    try{\r\n    \t\t\tString url = \r\n                   &quot;https%3A%2F%2Fmywebsite%2Fdocs%2Fenglish%2Fsite%2Fmybook.do&quot; +\r\n                   &quot;%3Frequest_type%3D%26type%3Dprivate&quot;;\r\n\r\n    \t\t\tSystem.out.println(url+&quot;Hello World!-------&gt;&quot; +\r\n                    new String(url.getBytes(&quot;UTF-8&quot;),&quot;ASCII&quot;));\r\n    \t\t}\r\n    \t\tcatch(Exception E){\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nBut it doesn&#39;t work right.  What are these `%3A` and `%2F` formats called and how do I convert them?\r\n","title":"How to do URL decoding in Java?","body":"<p><strong>In Java, I want to convert this:</strong></p>\n\n<pre><code>https%3A%2F%2Fmywebsite%2Fdocs%2Fenglish%2Fsite%2Fmybook.do%3Frequest_type\n</code></pre>\n\n<p><strong>To this:</strong></p>\n\n<pre><code>https://mywebsite/docs/english/site/mybook.do&amp;request_type\n</code></pre>\n\n<p><strong>This is what I have so far:</strong></p>\n\n<pre><code>class StringUTF \n{\n    public static void main(String[] args) \n    {\n        try{\n            String url = \n               \"https%3A%2F%2Fmywebsite%2Fdocs%2Fenglish%2Fsite%2Fmybook.do\" +\n               \"%3Frequest_type%3D%26type%3Dprivate\";\n\n            System.out.println(url+\"Hello World!-------&gt;\" +\n                new String(url.getBytes(\"UTF-8\"),\"ASCII\"));\n        }\n        catch(Exception E){\n        }\n    }\n}\n</code></pre>\n\n<p>But it doesn't work right.  What are these <code>%3A</code> and <code>%2F</code> formats called and how do I convert them?</p>\n"},{"tags":["java","android","xml","android-edittext","android-input-filter"],"comments":[{"owner":{"account_id":2852704,"reputation":1108,"user_id":2449549,"accept_rate":64,"display_name":"SilentByte"},"score":0,"creation_date":1424554304,"post_id":25948982,"comment_id":45600499,"body_markdown":"Did you ever solve this? I&#39;m running into the same problem and I came here looking for answers. Glad it&#39;s not just me.","body":"Did you ever solve this? I&#39;m running into the same problem and I came here looking for answers. Glad it&#39;s not just me."},{"owner":{"account_id":1639157,"reputation":12883,"user_id":1511951,"accept_rate":77,"display_name":"Steve Benett"},"score":0,"creation_date":1425810185,"post_id":25948982,"comment_id":46107017,"body_markdown":"@StayFrosty It&#39;s still unresolved. Major fact is that i can&#39;t put any time in it anymore.","body":"@StayFrosty It&#39;s still unresolved. Major fact is that i can&#39;t put any time in it anymore."}],"answers":[{"comments":[{"owner":{"account_id":1639157,"reputation":12883,"user_id":1511951,"accept_rate":77,"display_name":"Steve Benett"},"score":1,"creation_date":1411218041,"post_id":25949008,"comment_id":40625086,"body_markdown":"This produces the same result. The chars in the EditText remain the same by pressing backspace, if the maxLength exceeds.","body":"This produces the same result. The chars in the EditText remain the same by pressing backspace, if the maxLength exceeds."}],"tags":[],"owner":{"account_id":3214597,"reputation":350,"user_id":2713709,"accept_rate":33,"display_name":"Sandeep Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664538120,"creation_date":1411217832,"answer_id":25949008,"question_id":25948982,"body_markdown":"    TextView editEntryView = new TextView(...);\r\n    InputFilter[] filterArray = new InputFilter[1];\r\n    filterArray[0] = new InputFilter.LengthFilter(8);\r\n    editEntryView.setFilters(filterArray);\r\n\r\n\r\n\r\n","title":"The maxLength attribute in EditText doesn&#39;t work as expected via xml and java","body":"<pre><code>TextView editEntryView = new TextView(...);\nInputFilter[] filterArray = new InputFilter[1];\nfilterArray[0] = new InputFilter.LengthFilter(8);\neditEntryView.setFilters(filterArray);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2494778,"reputation":2867,"user_id":2171513,"accept_rate":25,"display_name":"Aalap"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461489989,"creation_date":1461489989,"answer_id":36821352,"question_id":25948982,"body_markdown":"What worked for me was to use Length restricting textwatcher as below and use textNoSuggestions as inputType \r\n\r\n    public class LengthTextWatcher implements TextWatcher {\r\n\r\n        String prevVal = &quot;&quot;;\r\n        int length;\r\n        public LengthTextWatcher(int l) {\r\n            length = l;\r\n        }\r\n        @Override\r\n        public void beforeTextChanged(CharSequence s, int start, int count, int after) {}\r\n\r\n        @Override\r\n        public void onTextChanged(CharSequence s, int start, int before, int count) {}\r\n\r\n        @Override\r\n        public void afterTextChanged(Editable s) {\r\n            if(s != null &amp;&amp; s.length() &gt; 0) {\r\n                if(s.length() &gt; length) {\r\n                    s.clear();\r\n                    s.insert(0, prevVal);\r\n                }\r\n                prevVal = s.toString();\r\n            }\r\n        }\r\n    }\r\n\r\n    ...\r\n\r\nSample way to apply textWatcher\r\n\r\n    mFirstNameET.addTextChangedListener(new LengthTextWatcher(35));\r\n\r\nAnd \r\n\r\n     android:inputType=&quot;textNoSuggestions&quot;","title":"The maxLength attribute in EditText doesn&#39;t work as expected via xml and java","body":"<p>What worked for me was to use Length restricting textwatcher as below and use textNoSuggestions as inputType </p>\n\n<pre><code>public class LengthTextWatcher implements TextWatcher {\n\n    String prevVal = \"\";\n    int length;\n    public LengthTextWatcher(int l) {\n        length = l;\n    }\n    @Override\n    public void beforeTextChanged(CharSequence s, int start, int count, int after) {}\n\n    @Override\n    public void onTextChanged(CharSequence s, int start, int before, int count) {}\n\n    @Override\n    public void afterTextChanged(Editable s) {\n        if(s != null &amp;&amp; s.length() &gt; 0) {\n            if(s.length() &gt; length) {\n                s.clear();\n                s.insert(0, prevVal);\n            }\n            prevVal = s.toString();\n        }\n    }\n}\n\n...\n</code></pre>\n\n<p>Sample way to apply textWatcher</p>\n\n<pre><code>mFirstNameET.addTextChangedListener(new LengthTextWatcher(35));\n</code></pre>\n\n<p>And </p>\n\n<pre><code> android:inputType=\"textNoSuggestions\"\n</code></pre>\n"}],"owner":{"account_id":1639157,"reputation":12883,"user_id":1511951,"accept_rate":77,"display_name":"Steve Benett"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2290,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1664538120,"creation_date":1411217663,"question_id":25948982,"body_markdown":"Maybe this is already answered but I can&#39;t find it on SO.\r\n\r\nI have a very simple requirement: Restrict the length of characters in an EditText.\r\n\r\nI use the `maxLength` tag in xml for this.\r\nThe strange thing is, if the length of the inputted text exceeds the specified limit, the text can&#39;t be deleted by pressing backspace via soft keyboard. The inputted text remains in the EditText field. After closing and reopening the soft keayboard, the text becomes &quot;deleteable&quot;.\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/edit&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:maxLength=&quot;5&quot;\r\n            android:hint=&quot;text&quot;/&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\nAdding this layout is enough to get the described behaviour.\r\n \r\nI added an InputFilter to see what&#39;s going on here. The result as described will be the same without the InputFilter!\r\n\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_main);\r\n\t\tEditText et = (EditText) findViewById(R.id.edit);\r\n\t\t\r\n\t\tInputFilter filter = new InputFilter() {\r\n\t\t\t@Override\r\n\t\t\tpublic CharSequence filter(CharSequence source,\r\n\t\t\t\t\tint start,\r\n\t\t\t\t\tint end,\r\n\t\t\t\t\tSpanned dest,\r\n\t\t\t\t\tint dstart,\r\n\t\t\t\t\tint dend) {\r\n\t\t\t\t\r\n\t\t\t\tif (source != null) {\r\n\t\t\t\t\tLog.v(&quot;edit&quot;,&quot;source = &quot; + source.toString());\r\n\t\t\t\t\tLog.v(&quot;edit&quot;,&quot;start = &quot; + start);\r\n\t\t\t\t\tLog.v(&quot;edit&quot;,&quot;end = &quot; + end);\r\n\t\t\t\t}\r\n\t\t\t\tif (dest != null) {\t\r\n\t\t\t\t\tLog.v(&quot;edit&quot;,&quot;dest= &quot; + dest.toString());\r\n\t\t\t\t\tLog.v(&quot;edit&quot;,&quot;dstart = &quot; + dstart);\r\n\t\t\t\t\tLog.v(&quot;edit&quot;,&quot;dend = &quot; + dend);\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tInputFilter[] oldFilters = et.getFilters();\r\n\t\tInputFilter[] newFilters = new InputFilter[oldFilters.length + 1];\r\n\t    System.arraycopy(oldFilters, 0, newFilters, 0, oldFilters.length);\r\n\t\tnewFilters[oldFilters.length] = filter;\r\n\t\tet.setFilters(newFilters);\r\n\t}\r\n\r\nWhile logging I can see that `source` will remain the same, if the `maxLength` is exceeded, but the Spanned `dest` changes the way it should, deleting the chars of text by pressing backspace.\r\n\r\nNow what is going on here? Is this a bug or really the default behaviour. Because if a User types his text and the limit is exceeded, he has no chance for correction.\r\n\r\nEdit:\r\n\r\nThe suggested way by Sandeep Kumar using Java code to set the maxLength leads to the same result.\r\n\r\n     et.setFilters(new InputFilter[]{new InputFilter.LengthFilter(5)});\r\n\r\nBTW, I&#39;m using Android API 4.4.2 and SDK 23.0.2.","title":"The maxLength attribute in EditText doesn&#39;t work as expected via xml and java","body":"<p>Maybe this is already answered but I can't find it on SO.</p>\n\n<p>I have a very simple requirement: Restrict the length of characters in an EditText.</p>\n\n<p>I use the <code>maxLength</code> tag in xml for this.\nThe strange thing is, if the length of the inputted text exceeds the specified limit, the text can't be deleted by pressing backspace via soft keyboard. The inputted text remains in the EditText field. After closing and reopening the soft keayboard, the text becomes \"deleteable\".</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;EditText\n        android:id=\"@+id/edit\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:maxLength=\"5\"\n        android:hint=\"text\"/&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>Adding this layout is enough to get the described behaviour.</p>\n\n<p>I added an InputFilter to see what's going on here. The result as described will be the same without the InputFilter!</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    EditText et = (EditText) findViewById(R.id.edit);\n\n    InputFilter filter = new InputFilter() {\n        @Override\n        public CharSequence filter(CharSequence source,\n                int start,\n                int end,\n                Spanned dest,\n                int dstart,\n                int dend) {\n\n            if (source != null) {\n                Log.v(\"edit\",\"source = \" + source.toString());\n                Log.v(\"edit\",\"start = \" + start);\n                Log.v(\"edit\",\"end = \" + end);\n            }\n            if (dest != null) { \n                Log.v(\"edit\",\"dest= \" + dest.toString());\n                Log.v(\"edit\",\"dstart = \" + dstart);\n                Log.v(\"edit\",\"dend = \" + dend);\n            }\n            return null;\n        }\n    };\n\n    InputFilter[] oldFilters = et.getFilters();\n    InputFilter[] newFilters = new InputFilter[oldFilters.length + 1];\n    System.arraycopy(oldFilters, 0, newFilters, 0, oldFilters.length);\n    newFilters[oldFilters.length] = filter;\n    et.setFilters(newFilters);\n}\n</code></pre>\n\n<p>While logging I can see that <code>source</code> will remain the same, if the <code>maxLength</code> is exceeded, but the Spanned <code>dest</code> changes the way it should, deleting the chars of text by pressing backspace.</p>\n\n<p>Now what is going on here? Is this a bug or really the default behaviour. Because if a User types his text and the limit is exceeded, he has no chance for correction.</p>\n\n<p>Edit:</p>\n\n<p>The suggested way by Sandeep Kumar using Java code to set the maxLength leads to the same result.</p>\n\n<pre><code> et.setFilters(new InputFilter[]{new InputFilter.LengthFilter(5)});\n</code></pre>\n\n<p>BTW, I'm using Android API 4.4.2 and SDK 23.0.2.</p>\n"},{"tags":["java","equals"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1664359579,"post_id":73879578,"comment_id":130451922,"body_markdown":"more like `! this.getClass().equals(other.getClass())` (but equals is not needed here, despite not wrong either) - there is only one instance for each class (assuming same `ClassLoader`)","body":"more like <code>! this.getClass().equals(other.getClass())</code> (but equals is not needed here, despite not wrong either) - there is only one instance for each class (assuming same <code>ClassLoader</code>)"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1664381849,"creation_date":1664359575,"answer_id":73879622,"question_id":73879578,"body_markdown":"`Class&lt;T&gt;` does not override `equals` and uses the default `Object#equals(Object)` implementation. Therefore, `a.getClass().equals(b.getClass())` is equivalent to `a.getClass() == b.getClass()`\r\n\r\n`Object#equals(Object)` [is implemented as](https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/lang/Object.java#L157):\r\n\r\n&gt;     public boolean equals(Object obj) {\r\n&gt;         return (this == obj);\r\n&gt;     }\r\n\r\nSince your original condition is `this.getClass() != other.getClass()`, you have to write `!this.getClass().equals(other.getClass())`, if you were to translate it (but that should be very obvious)","title":"Using getClass.equals(otherObj.getClass()) in an implementation of equals(Object otherObj)","body":"<p><code>Class&lt;T&gt;</code> does not override <code>equals</code> and uses the default <code>Object#equals(Object)</code> implementation. Therefore, <code>a.getClass().equals(b.getClass())</code> is equivalent to <code>a.getClass() == b.getClass()</code></p>\n<p><code>Object#equals(Object)</code> <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/lang/Object.java#L157\" rel=\"nofollow noreferrer\">is implemented as</a>:</p>\n<blockquote>\n<pre><code>public boolean equals(Object obj) {\n    return (this == obj);\n}\n</code></pre>\n</blockquote>\n<p>Since your original condition is <code>this.getClass() != other.getClass()</code>, you have to write <code>!this.getClass().equals(other.getClass())</code>, if you were to translate it (but that should be very obvious)</p>\n"},{"tags":[],"owner":{"account_id":25324597,"reputation":1,"user_id":19145446,"display_name":"tang_erliu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664537910,"creation_date":1664360097,"answer_id":73879737,"question_id":73879578,"body_markdown":"This line of code\r\n\r\n\ta.getClass().equals(b.getClass()) \r\n\r\nis equivalent to \r\n\r\n\ta.getClass() == b.getClass()\r\n\r\nit can&#39;t instead the above equal method.","title":"Using getClass.equals(otherObj.getClass()) in an implementation of equals(Object otherObj)","body":"<p>This line of code</p>\n<pre><code>a.getClass().equals(b.getClass()) \n</code></pre>\n<p>is equivalent to</p>\n<pre><code>a.getClass() == b.getClass()\n</code></pre>\n<p>it can't instead the above equal method.</p>\n"}],"owner":{"account_id":20049721,"reputation":99,"user_id":14698662,"display_name":"VS228"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1664537910,"creation_date":1664359378,"question_id":73879578,"body_markdown":"A boilerplate implementation of an `equals(Object otherObj)` reads like this:\r\n```\r\n@Override\r\n    public boolean equals(Object other)\r\n    {\r\n        if(this == other)\r\n            return true;\r\n        if(other == null)\r\n            return false;\r\n        if(this.getClass() != other.getClass())\r\n            return false;\r\n        Employee e = (Employee) other;\r\n        return (Objects.equals(this.name, e.name) &amp;&amp; \r\n                Objects.equals(this.hireDay, e.hireDay) &amp;&amp; \r\n                this.salary == e.salary);      \r\n    }\r\n```\r\nCan we use:\r\n```\r\nif(!this.getClass().equals(other.getClass()))\r\n```\r\ninstead?","title":"Using getClass.equals(otherObj.getClass()) in an implementation of equals(Object otherObj)","body":"<p>A boilerplate implementation of an <code>equals(Object otherObj)</code> reads like this:</p>\n<pre><code>@Override\n    public boolean equals(Object other)\n    {\n        if(this == other)\n            return true;\n        if(other == null)\n            return false;\n        if(this.getClass() != other.getClass())\n            return false;\n        Employee e = (Employee) other;\n        return (Objects.equals(this.name, e.name) &amp;&amp; \n                Objects.equals(this.hireDay, e.hireDay) &amp;&amp; \n                this.salary == e.salary);      \n    }\n</code></pre>\n<p>Can we use:</p>\n<pre><code>if(!this.getClass().equals(other.getClass()))\n</code></pre>\n<p>instead?</p>\n"},{"tags":["java","reverse-engineering","frida"],"answers":[{"comments":[{"owner":{"account_id":16409901,"reputation":191,"user_id":11853491,"display_name":"ahmed mani"},"score":0,"creation_date":1665844037,"post_id":72258321,"comment_id":130796127,"body_markdown":"im facing the same issue and i tried you answer yet the same error persists i dont understand if frida is reading the method signature with a java.lang.object type for the last parameter how can we change it to &#39;[java.lang.String&#39; wouldnt it be a entirely different method than the one we are hooking","body":"im facing the same issue and i tried you answer yet the same error persists i dont understand if frida is reading the method signature with a java.lang.object type for the last parameter how can we change it to &#39;[java.lang.String&#39; wouldnt it be a entirely different method than the one we are hooking"},{"owner":{"account_id":16409901,"reputation":191,"user_id":11853491,"display_name":"ahmed mani"},"score":0,"creation_date":1665844309,"post_id":72258321,"comment_id":130796194,"body_markdown":"the problem is if i change the overload the signature frida provides and keep the use the same code as above i get a error pointer expected what does this mean who expects a pointer? and a ptr to what","body":"the problem is if i change the overload the signature frida provides and keep the use the same code as above i get a error pointer expected what does this mean who expects a pointer? and a ptr to what"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1665846606,"post_id":72258321,"comment_id":130796686,"body_markdown":"@ahmedmani The answer shows how to call a method by ignoring the arguments and their types you provide.  Instead the overloaded method is selected before calling the method that is the major difference to the code from the question.","body":"@ahmedmani The answer shows how to call a method by ignoring the arguments and their types you provide.  Instead the overloaded method is selected before calling the method that is the major difference to the code from the question."},{"owner":{"account_id":16409901,"reputation":191,"user_id":11853491,"display_name":"ahmed mani"},"score":0,"creation_date":1665848229,"post_id":72258321,"comment_id":130797006,"body_markdown":"ok i understand but do you have a solution to the problem simply selecting the method doesn&#39;t fix it","body":"ok i understand but do you have a solution to the problem simply selecting the method doesn&#39;t fix it"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1665853866,"post_id":72258321,"comment_id":130798219,"body_markdown":"@ahmedmani Please write a real question. Just from your comments it is not possible to understand your problem. Most likely your problem is different and just the error message is the same.","body":"@ahmedmani Please write a real question. Just from your comments it is not possible to understand your problem. Most likely your problem is different and just the error message is the same."}],"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664537880,"creation_date":1652699758,"answer_id":72258321,"question_id":72256633,"body_markdown":"In your code you let Frida decide which overloaded method to call based on the arguments. As you have noticed this can get complicated (and even mor if you want to pass `null` or other ambiguous arguments).\r\n\r\nTherefore my recommendation is to first define the method you want to call and then call it:\r\n\r\n    const cls = Java.use(&lt;name of the class of a&gt;)\r\n    const methodA = cls.a.overload(&#39;int&#39;, &#39;int&#39;, &#39;long&#39;, &#39;java.lang.String&#39;, &#39;[java.lang.String&#39;)\r\n    methodA.call(this, arguments[0], arguments[1], arguments[2], arguments[3], stringArr)\r\n","title":"frida: Error: a(): argument types do not match any of: overload(&#39;int&#39;, &#39;int&#39;, &#39;long&#39;, &#39;java.lang.String&#39;, &#39;java.lang.Object&#39;)","body":"<p>In your code you let Frida decide which overloaded method to call based on the arguments. As you have noticed this can get complicated (and even mor if you want to pass <code>null</code> or other ambiguous arguments).</p>\n<p>Therefore my recommendation is to first define the method you want to call and then call it:</p>\n<pre><code>const cls = Java.use(&lt;name of the class of a&gt;)\nconst methodA = cls.a.overload('int', 'int', 'long', 'java.lang.String', '[java.lang.String')\nmethodA.call(this, arguments[0], arguments[1], arguments[2], arguments[3], stringArr)\n</code></pre>\n"}],"owner":{"display_name":"user19125975"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72258321,"answer_count":1,"score":1,"last_activity_date":1664537880,"creation_date":1652691797,"question_id":72256633,"body_markdown":"I&#39;m trying to call a method with this signature `(int, int, long, String, Object)`\r\nThe problem is the last parameter needs to be a String array\r\nWhen I hook it and print its last parameters something like this will be shown:\r\n```\r\n[Ljava.lang.String@abcd1234;\r\n```\r\nAnd If I pass it, the function works fine\r\nBut when I change it to my custom `String` array\r\n\r\nLike below:\r\n\r\n```js\r\nconst arrayList = Java.use(&quot;java.util.ArrayList&quot;)\r\nconst myArray = arrayList.$new()\r\n\r\nmyArray.add(&quot;test&quot;)\r\nmyArray.add(&quot;test-1&quot;)\r\n\r\nconst stringArr = myArray.toArray()\r\n\r\nthis.a(arguments[0], arguments[1], arguments[2], arguments[3], stringArr)\r\n```\r\n\r\nwill throw error:\r\n```\r\nError: a(): argument types do not match any of:\r\n        .overload(&#39;int&#39;, &#39;int&#39;, &#39;long&#39;, &#39;java.lang.String&#39;, &#39;java.lang.Object&#39;)\r\n    at X (frida/node_modules/frida-java-bridge/lib/class-factory.js:563)\r\n    at value (frida/node_modules/frida-java-bridge/lib/class-factory.js:967)\r\n    at e (frida/node_modules/frida-java-bridge/lib/class-factory.js:547)\r\n    at &lt;anonymous&gt; (/script1.js:94)\r\n    at &lt;anonymous&gt; (frida/node_modules/frida-java-bridge/lib/vm.js:12)\r\n    at perform (frida/node_modules/frida-java-bridge/index.js:193)\r\n    at ms_bd_c_h_a (/script1.js:99)\r\n    at apply (native)\r\n    at &lt;anonymous&gt; (frida/runtime/message-dispatcher.js:13)\r\n    at c (frida/runtime/message-dispatcher.js:23)\r\n```\r\n\r\nWhat should I do?","title":"frida: Error: a(): argument types do not match any of: overload(&#39;int&#39;, &#39;int&#39;, &#39;long&#39;, &#39;java.lang.String&#39;, &#39;java.lang.Object&#39;)","body":"<p>I'm trying to call a method with this signature <code>(int, int, long, String, Object)</code>\nThe problem is the last parameter needs to be a String array\nWhen I hook it and print its last parameters something like this will be shown:</p>\n<pre><code>[Ljava.lang.String@abcd1234;\n</code></pre>\n<p>And If I pass it, the function works fine\nBut when I change it to my custom <code>String</code> array</p>\n<p>Like below:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const arrayList = Java.use(&quot;java.util.ArrayList&quot;)\nconst myArray = arrayList.$new()\n\nmyArray.add(&quot;test&quot;)\nmyArray.add(&quot;test-1&quot;)\n\nconst stringArr = myArray.toArray()\n\nthis.a(arguments[0], arguments[1], arguments[2], arguments[3], stringArr)\n</code></pre>\n<p>will throw error:</p>\n<pre><code>Error: a(): argument types do not match any of:\n        .overload('int', 'int', 'long', 'java.lang.String', 'java.lang.Object')\n    at X (frida/node_modules/frida-java-bridge/lib/class-factory.js:563)\n    at value (frida/node_modules/frida-java-bridge/lib/class-factory.js:967)\n    at e (frida/node_modules/frida-java-bridge/lib/class-factory.js:547)\n    at &lt;anonymous&gt; (/script1.js:94)\n    at &lt;anonymous&gt; (frida/node_modules/frida-java-bridge/lib/vm.js:12)\n    at perform (frida/node_modules/frida-java-bridge/index.js:193)\n    at ms_bd_c_h_a (/script1.js:99)\n    at apply (native)\n    at &lt;anonymous&gt; (frida/runtime/message-dispatcher.js:13)\n    at c (frida/runtime/message-dispatcher.js:23)\n</code></pre>\n<p>What should I do?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1664535350,"post_id":73907218,"comment_id":130499488,"body_markdown":"Override `onRequestPermissionsResult()` in your activity. This is covered in [the documentation for `ActivityCompat.requestPermissions()`](https://developer.android.com/reference/kotlin/androidx/core/app/ActivityCompat?hl=en#requestPermissions(android.app.Activity,java.lang.String[],int)).","body":"Override <code>onRequestPermissionsResult()</code> in your activity. This is covered in <a href=\"https://developer.android.com/reference/kotlin/androidx/core/app/ActivityCompat?hl=en#requestPermissions(android.app.Activity,java.lang.String%5B%5D,int)\" rel=\"nofollow noreferrer\">the documentation for <code>ActivityCompat.requestPermissions()</code></a>."},{"owner":{"account_id":19994570,"reputation":351,"user_id":14654920,"display_name":"Vans"},"score":0,"creation_date":1664537179,"post_id":73907218,"comment_id":130500122,"body_markdown":"@CommonsWare Can you add an answer with the full solution code?","body":"@CommonsWare Can you add an answer with the full solution code?"}],"answers":[{"tags":[],"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664537727,"creation_date":1664537727,"answer_id":73908110,"question_id":73907218,"body_markdown":"That code work for me..\r\n\r\n**Step 1:** write down code in your `Activity`\r\n   \r\n   - create callback of permission `requestPermissionLauncher`\r\n   - create that callback **globaly** in your `Activity`\r\n\r\n```\r\nprivate ActivityResultLauncher&lt;String&gt; requestPermissionLauncher =\r\n          registerForActivityResult(new ActivityResultContracts.RequestPermission(), isGranted -&gt; {\r\n              if (isGranted) {\r\n                  afterPermission(); // here you got success of permission\r\n              } else {\r\n                  Toast.makeText(this, &quot;Please allow permission&quot;, Toast.LENGTH_SHORT).show();\r\n              }\r\n          });\r\n```\r\n\r\n**Step 2:** lunch permission in your `Activity`\r\n\r\n```\r\n//CHECK_PERMISSION_BUTTON.setOnClickListener((view -&gt; {\r\n    requestPermissionLauncher.launch(Manifest.permission.YOUR_PERMISSION);\r\n//}));\r\n```","title":"Get response requestPermissions","body":"<p>That code work for me..</p>\n<p><strong>Step 1:</strong> write down code in your <code>Activity</code></p>\n<ul>\n<li>create callback of permission <code>requestPermissionLauncher</code></li>\n<li>create that callback <strong>globaly</strong> in your <code>Activity</code></li>\n</ul>\n<pre><code>private ActivityResultLauncher&lt;String&gt; requestPermissionLauncher =\n          registerForActivityResult(new ActivityResultContracts.RequestPermission(), isGranted -&gt; {\n              if (isGranted) {\n                  afterPermission(); // here you got success of permission\n              } else {\n                  Toast.makeText(this, &quot;Please allow permission&quot;, Toast.LENGTH_SHORT).show();\n              }\n          });\n</code></pre>\n<p><strong>Step 2:</strong> lunch permission in your <code>Activity</code></p>\n<pre><code>//CHECK_PERMISSION_BUTTON.setOnClickListener((view -&gt; {\n    requestPermissionLauncher.launch(Manifest.permission.YOUR_PERMISSION);\n//}));\n</code></pre>\n"}],"owner":{"account_id":19994570,"reputation":351,"user_id":14654920,"display_name":"Vans"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73908110,"answer_count":1,"score":1,"last_activity_date":1664537727,"creation_date":1664533112,"question_id":73907218,"body_markdown":"Can you please tell me how can I get the response of this function?\r\n```\r\nActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, REQUEST_LOCATION);\r\n```","title":"Get response requestPermissions","body":"<p>Can you please tell me how can I get the response of this function?</p>\n<pre><code>ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, REQUEST_LOCATION);\n</code></pre>\n"},{"tags":["java","hibernate"],"answers":[{"comments":[{"owner":{"account_id":4418726,"reputation":59,"user_id":3599459,"display_name":"contivero"},"score":0,"creation_date":1664695319,"post_id":73908094,"comment_id":130527568,"body_markdown":"Thanks! It looks like the right approach, for some reason I hadn&#39;t found mentions of that interface before. Just to complete a bit your answer for any other readers, one has access to the `PersistentClass` by using `metadataCollector.getEntityBinding(entityName)`, and to `JdbcService` by `metadataCollector.getMetadataBuildingOptions().getServiceRegistry().getService(JdbcServices.class)`.","body":"Thanks! It looks like the right approach, for some reason I hadn&#39;t found mentions of that interface before. Just to complete a bit your answer for any other readers, one has access to the <code>PersistentClass</code> by using <code>metadataCollector.getEntityBinding(entityName)</code>, and to <code>JdbcService</code> by <code>metadataCollector.getMetadataBuildingOptions().getServiceReg&zwnj;&#8203;istry().getService(J&zwnj;&#8203;dbcServices.class)</code>."}],"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664537667,"creation_date":1664537667,"answer_id":73908094,"question_id":73873052,"body_markdown":"You should be able to do this with a custom `org.hibernate.boot.spi.MetadataContributor` that is registered via a `META-INF/services/org.hibernate.boot.spi.MetadataContributor` file, since it is loaded through the java service loader mechanism.\r\n\r\nThere you have access to the `PersistentClass` where you can add you attributes, and at the same time you can make use of `JdbcServics` which you can use to query a table.","title":"Adding mappings described in a database table (entity) to Hibernate&#39;s SessionFactory","body":"<p>You should be able to do this with a custom <code>org.hibernate.boot.spi.MetadataContributor</code> that is registered via a <code>META-INF/services/org.hibernate.boot.spi.MetadataContributor</code> file, since it is loaded through the java service loader mechanism.</p>\n<p>There you have access to the <code>PersistentClass</code> where you can add you attributes, and at the same time you can make use of <code>JdbcServics</code> which you can use to query a table.</p>\n"}],"owner":{"account_id":4418726,"reputation":59,"user_id":3599459,"display_name":"contivero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73908094,"answer_count":1,"score":0,"last_activity_date":1664537667,"creation_date":1664307929,"question_id":73873052,"body_markdown":"I&#39;m in the process of migrating a Hibernate 4 application into a Hibernate 5 one. The application allows the possiblity of defining additional columns outside of the usual ones listed in an entity, which are modelled with a `Map&lt;String, Object&gt;` (call it `additionalFields`) in each entity (the key is the name of a field/column, while the value that field/column&#39;s value).\r\n\r\nTo model this so far we&#39;ve had an entity (let&#39;s call it `FieldDefinition`) which contains the information of this mapping (the name of the field, the type, the precision or maximum length if that applies, etc.)\r\n\r\nSo, after creating the `SessionFactory`, we would use it to obtain a `session`, access all instances of `FieldDefinition` and add the mappings dynamically through `configuration.getClassMapping(entityClassName)`, `configuration.createMappings()`, and related methods.\r\n\r\nThese last methods in `Configuration` have been removed from Hibernate 5, hence the problem I&#39;m trying to solve. If I understand correctly, with the new API I would need to:\r\n\r\n 1. Create a `SessionFactory` that understands about `FieldDefinition`.\r\n 2. Use it to access it and retrieve the `FieldDefinition`s.\r\n 3. Having the instances of these entities, create a second `SessionFactory` (because `SessionFactory` is immutable, so I cannot modify the first one), where during the creation I use the `MetadataSources.addFile()` (or `.addInputStream()`) to add `hbm.xml` files I need to create on the fly based on the `FieldDefinition` data to map the additional columns to the `additionalFields` maps (I couldn&#39;t find a programmatic way of adding mappings as was the case with `configuration.createMappings()`).\r\n\r\nAlternatively, I can skip the first `SessionFactory` creation if I use the `DataSource` and JDBC directly, but the rest stays the same. I found [this other SO question which points to more or less the same][1]. Am I on the right track, or if not, what&#39;s the current recommended approach for such a case?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/46951153/how-to-manually-add-hibernate-mappings-in-hibernate-5","title":"Adding mappings described in a database table (entity) to Hibernate&#39;s SessionFactory","body":"<p>I'm in the process of migrating a Hibernate 4 application into a Hibernate 5 one. The application allows the possiblity of defining additional columns outside of the usual ones listed in an entity, which are modelled with a <code>Map&lt;String, Object&gt;</code> (call it <code>additionalFields</code>) in each entity (the key is the name of a field/column, while the value that field/column's value).</p>\n<p>To model this so far we've had an entity (let's call it <code>FieldDefinition</code>) which contains the information of this mapping (the name of the field, the type, the precision or maximum length if that applies, etc.)</p>\n<p>So, after creating the <code>SessionFactory</code>, we would use it to obtain a <code>session</code>, access all instances of <code>FieldDefinition</code> and add the mappings dynamically through <code>configuration.getClassMapping(entityClassName)</code>, <code>configuration.createMappings()</code>, and related methods.</p>\n<p>These last methods in <code>Configuration</code> have been removed from Hibernate 5, hence the problem I'm trying to solve. If I understand correctly, with the new API I would need to:</p>\n<ol>\n<li>Create a <code>SessionFactory</code> that understands about <code>FieldDefinition</code>.</li>\n<li>Use it to access it and retrieve the <code>FieldDefinition</code>s.</li>\n<li>Having the instances of these entities, create a second <code>SessionFactory</code> (because <code>SessionFactory</code> is immutable, so I cannot modify the first one), where during the creation I use the <code>MetadataSources.addFile()</code> (or <code>.addInputStream()</code>) to add <code>hbm.xml</code> files I need to create on the fly based on the <code>FieldDefinition</code> data to map the additional columns to the <code>additionalFields</code> maps (I couldn't find a programmatic way of adding mappings as was the case with <code>configuration.createMappings()</code>).</li>\n</ol>\n<p>Alternatively, I can skip the first <code>SessionFactory</code> creation if I use the <code>DataSource</code> and JDBC directly, but the rest stays the same. I found <a href=\"https://stackoverflow.com/questions/46951153/how-to-manually-add-hibernate-mappings-in-hibernate-5\">this other SO question which points to more or less the same</a>. Am I on the right track, or if not, what's the current recommended approach for such a case?</p>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1664538078,"post_id":73905576,"comment_id":130500396,"body_markdown":"This smells like it might just be a bug in the JVM. What *specific* version are you running (and compiling) this on? Alternatively, it could be some odd interaction of Spring creating proxy objects and the JVM not feeling so good about it (i.e. a bug in either Spring *or* the JVM *or* both).","body":"This smells like it might just be a bug in the JVM. What <i>specific</i> version are you running (and compiling) this on? Alternatively, it could be some odd interaction of Spring creating proxy objects and the JVM not feeling so good about it (i.e. a bug in either Spring <i>or</i> the JVM <i>or</i> both)."},{"owner":{"account_id":5924926,"reputation":39,"user_id":4661100,"display_name":"Joshua"},"score":0,"creation_date":1664949169,"post_id":73905576,"comment_id":130583049,"body_markdown":"I&#39;m using temurin64-11.0.16.1 and springBoot 2.6.6. I&#39;ll try with other version of JVM. But if it&#39;s bug of spring, how can I configure out it is?","body":"I&#39;m using temurin64-11.0.16.1 and springBoot 2.6.6. I&#39;ll try with other version of JVM. But if it&#39;s bug of spring, how can I configure out it is?"},{"owner":{"account_id":5924926,"reputation":39,"user_id":4661100,"display_name":"Joshua"},"score":0,"creation_date":1664949739,"post_id":73905576,"comment_id":130583141,"body_markdown":"I tested with `oracle64-11.0.16`, `zulu64-11.0.16.1`.\nAnd all results are same. I don&#39;t know from where I should start to debug.","body":"I tested with <code>oracle64-11.0.16</code>, <code>zulu64-11.0.16.1</code>. And all results are same. I don&#39;t know from where I should start to debug."}],"owner":{"account_id":5924926,"reputation":39,"user_id":4661100,"display_name":"Joshua"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1664537373,"creation_date":1664524214,"question_id":73905576,"body_markdown":"I&#39;m working with WebFlux Project with JDK11.  \r\nAnd I&#39;m using Emacs and lsp-java as my IDE.\r\n\r\nWhen I run test with Gradle commands, it works.  \r\nBut When I run with `dap-java-run`, it throws `java.lang.IllegalAccessException`.  \r\n\r\nThere was double-colon operator in the code where it throws exceptions.  \r\nSo I changed code to a lambda expression and it works.\r\n\r\nI&#39;m not good at JVM environment. So I don&#39;t know where I should start to debug.\r\n\r\nCode with a double colon operator:\r\n```java\r\n.flatMap(userRepository::findOneWithAuthoritiesById)\r\n```\r\n\r\nCode passed with `dap-java-run`. \r\n```\r\n.flatMap(id -&gt; userRepository.findOneWithAuthoritiesById(id))\r\n```\r\n\r\ndap-java-run commands.:\r\n```bash\r\njava -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=50082 -jar ~/.emacs.d/eclipse.jdt.ls/test-runner/junit-platform-console-standalone.jar -cp $JUNIT_CLASS_PATH -c [CLASSNAME]\r\n```\r\n\r\nException logs:\r\n```none\r\njava.lang.BootstrapMethodError: bootstrap method initialization exception\r\n\tat java.base/java.lang.invoke.BootstrapMethodInvoker.invoke(BootstrapMethodInvoker.java:194)\r\n\tat java.base/java.lang.invoke.CallSite.makeSite(CallSite.java:307)\r\n\tat java.base/java.lang.invoke.MethodHandleNatives.linkCallSiteImpl(MethodHandleNatives.java:258)\r\n\tat java.base/java.lang.invoke.MethodHandleNatives.linkCallSite(MethodHandleNatives.java:248)\r\n\tat ***.***.UserService.updateUser(UserService.java:*)\r\n\tat java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:*)\r\n\tat ***.***.UserService.updateUser(UserService.java:*)\r\n\tat ***.***.UserService.lambda$13(UserService.java:*)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125)\r\n\tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)\r\n\tat org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onNext(ReactorContextTestExecutionListener.java:120)\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249)\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.complete(MonoIgnoreThen.java:292)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onNext(MonoIgnoreThen.java:187)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:236)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203)\r\n\tat org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onComplete(ReactorContextTestExecutionListener.java:130)\r\n\tat reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89)\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:846)\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:608)\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.innerComplete(FluxFlatMap.java:894)\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapInner.onComplete(FluxFlatMap.java:997)\r\n\tat org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onComplete(ReactorContextTestExecutionListener.java:130)\r\n\tat reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102)\r\n\tat reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.deferredComplete(FluxUsingWhen.java:392)\r\n\tat reactor.core.publisher.FluxUsingWhen$CommitInner.onComplete(FluxUsingWhen.java:527)\r\n\tat org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onComplete(ReactorContextTestExecutionListener.java:130)\r\n\tat reactor.core.publisher.Operators.complete(Operators.java:137)\r\n\tat reactor.core.publisher.MonoEmpty.subscribe(MonoEmpty.java:46)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\r\n\tat reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.onComplete(FluxUsingWhen.java:384)\r\n\tat org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onComplete(ReactorContextTestExecutionListener.java:130)\r\n\tat reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onComplete(MonoFlatMapMany.java:260)\r\n\tat org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onComplete(ReactorContextTestExecutionListener.java:130)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onComplete(MonoFlatMap.java:181)\r\n\tat reactor.core.publisher.FluxHandle$HandleSubscriber.onComplete(FluxHandle.java:220)\r\n\tat reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102)\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:846)\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:608)\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:588)\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.onComplete(FluxFlatMap.java:465)\r\n\tat reactor.core.publisher.FluxBuffer$BufferExactSubscriber.onComplete(FluxBuffer.java:187)\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2058)\r\n\tat reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.deferredComplete(FluxUsingWhen.java:392)\r\n\tat reactor.core.publisher.FluxUsingWhen$CommitInner.onComplete(FluxUsingWhen.java:527)\r\n\tat org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onComplete(ReactorContextTestExecutionListener.java:130)\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2058)\r\n\tat org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onComplete(ReactorContextTestExecutionListener.java:130)\r\n\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2058)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:209)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:209)\r\n\tat reactor.pool.SimpleDequePool.maybeRecycleAndDrain(SimpleDequePool.java:533)\r\n\tat reactor.pool.SimpleDequePool$QueuePoolRecyclerInner.onComplete(SimpleDequePool.java:765)\r\n\tat org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onComplete(ReactorContextTestExecutionListener.java:130)\r\n\tat reactor.core.publisher.Operators.complete(Operators.java:137)\r\n\tat reactor.core.publisher.MonoEmpty.subscribe(MonoEmpty.java:46)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\r\n\tat reactor.pool.SimpleDequePool$QueuePoolRecyclerMono.subscribe(SimpleDequePool.java:877)\r\n\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:240)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203)\r\n\tat org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onComplete(ReactorContextTestExecutionListener.java:130)\r\n\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)\r\n\tat reactor.core.publisher.Operators.complete(Operators.java:137)\r\n\tat reactor.core.publisher.MonoEmpty.subscribe(MonoEmpty.java:46)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)\r\n\tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\r\n\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:240)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203)\r\n\tat org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onComplete(ReactorContextTestExecutionListener.java:130)\r\n\tat reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89)\r\n\tat reactor.core.publisher.FluxHandle$HandleSubscriber.onComplete(FluxHandle.java:220)\r\n\tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:85)\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1817)\r\n\tat reactor.core.publisher.MonoCallable.subscribe(MonoCallable.java:62)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)\r\n\tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n\tat reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)\r\n\tat reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\r\n\tat reactor.core.publisher.FluxFilter$FilterSubscriber.onError(FluxFilter.java:157)\r\n\tat reactor.core.publisher.FluxFilter$FilterConditionalSubscriber.onError(FluxFilter.java:291)\r\n\tat reactor.core.publisher.FluxMap$MapConditionalSubscriber.onError(FluxMap.java:265)\r\n\tat reactor.core.publisher.Operators.error(Operators.java:198)\r\n\tat reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\r\n\tat reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\r\n\tat reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.onComplete(FluxUsingWhen.java:384)\r\n\tat org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onComplete(ReactorContextTestExecutionListener.java:130)\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:846)\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:608)\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:588)\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.onComplete(FluxFlatMap.java:465)\r\n\tat reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onComplete(FluxOnAssembly.java:549)\r\n\tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)\r\n\tat org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onComplete(ReactorContextTestExecutionListener.java:130)\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152)\r\n\tat reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:294)\r\n\tat reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:230)\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171)\r\n\tat reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164)\r\n\tat reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.request(FluxOnAssembly.java:649)\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.onSubscribe(FluxFlatMap.java:371)\r\n\tat reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onSubscribe(FluxOnAssembly.java:633)\r\n\tat reactor.core.publisher.FluxMap$MapSubscriber.onSubscribe(FluxMap.java:92)\r\n\tat org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onSubscribe(ReactorContextTestExecutionListener.java:115)\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onSubscribe(FluxMapFuseable.java:96)\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:165)\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:87)\r\n\tat reactor.core.publisher.Flux.subscribe(Flux.java:8469)\r\n\tat reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:200)\r\n\tat reactor.core.publisher.FluxFlatMap.subscribeOrReturn(FluxFlatMap.java:93)\r\n\tat reactor.core.publisher.Flux.subscribe(Flux.java:8455)\r\n\tat reactor.core.publisher.FluxUsingWhen$ResourceSubscriber.onNext(FluxUsingWhen.java:195)\r\n\tat org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onNext(ReactorContextTestExecutionListener.java:120)\r\n\tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\r\n\tat org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onNext(ReactorContextTestExecutionListener.java:120)\r\n\tat reactor.core.publisher.FluxRetry$RetrySubscriber.onNext(FluxRetry.java:87)\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249)\r\n\tat io.r2dbc.pool.MonoDiscardOnCancel$MonoDiscardOnCancelSubscriber.onNext(MonoDiscardOnCancel.java:92)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.complete(MonoIgnoreThen.java:292)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onNext(MonoIgnoreThen.java:187)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:236)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203)\r\n\tat org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onComplete(ReactorContextTestExecutionListener.java:130)\r\n\tat reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89)\r\n\tat reactor.core.publisher.FluxHandle$HandleSubscriber.onComplete(FluxHandle.java:220)\r\n\tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:85)\r\n\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1817)\r\n\tat reactor.core.publisher.MonoCallable.subscribe(MonoCallable.java:62)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)\r\n\tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n\tat io.r2dbc.pool.MonoDiscardOnCancel.subscribe(MonoDiscardOnCancel.java:50)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157)\r\n\tat reactor.pool.AbstractPool$Borrower.deliver(AbstractPool.java:469)\r\n\tat reactor.pool.SimpleDequePool.lambda$drainLoop$8(SimpleDequePool.java:370)\r\n\tat reactor.core.scheduler.ImmediateScheduler.schedule(ImmediateScheduler.java:52)\r\n\tat reactor.pool.SimpleDequePool.drainLoop(SimpleDequePool.java:370)\r\n\tat reactor.pool.SimpleDequePool.pendingOffer(SimpleDequePool.java:600)\r\n\tat reactor.pool.SimpleDequePool.doAcquire(SimpleDequePool.java:296)\r\n\tat reactor.pool.AbstractPool$Borrower.request(AbstractPool.java:432)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onSubscribe(MonoFlatMap.java:110)\r\n\tat reactor.pool.SimpleDequePool$QueueBorrowerMono.subscribe(SimpleDequePool.java:720)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\r\n\tat reactor.core.publisher.FluxRetry$RetrySubscriber.resubscribe(FluxRetry.java:117)\r\n\tat reactor.core.publisher.MonoRetry.subscribeOrReturn(MonoRetry.java:50)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4385)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:172)\r\n\tat reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\r\n\tat reactor.core.publisher.Operators.error(Operators.java:198)\r\n\tat reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\r\n\tat reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\r\n\tat reactor.core.publisher.FluxUsingWhen.subscribe(FluxUsingWhen.java:104)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n\tat reactor.core.publisher.MonoUsingWhen.subscribe(MonoUsingWhen.java:87)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)\r\n\tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4400)\r\n\tat reactor.core.publisher.Mono.block(Mono.java:1706)\r\n\tat ***.***.MemberServiceTest.regDealerByStoreOwner(MemberServiceTest.java:*)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.SameThreadTimeoutInvocation.proceed(SameThreadTimeoutInvocation.java:45)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat org.junit.platform.console.tasks.ConsoleTestExecutor.executeTests(ConsoleTestExecutor.java:66)\r\n\tat org.junit.platform.console.tasks.ConsoleTestExecutor.lambda$execute$0(ConsoleTestExecutor.java:58)\r\n\tat org.junit.platform.console.tasks.CustomContextClassLoaderExecutor.replaceThreadContextClassLoaderAndInvoke(CustomContextClassLoaderExecutor.java:41)\r\n\tat org.junit.platform.console.tasks.CustomContextClassLoaderExecutor.invoke(CustomContextClassLoaderExecutor.java:31)\r\n\tat org.junit.platform.console.tasks.ConsoleTestExecutor.execute(ConsoleTestExecutor.java:58)\r\n\tat org.junit.platform.console.ConsoleLauncher.executeTests(ConsoleLauncher.java:120)\r\n\tat org.junit.platform.console.ConsoleLauncher.execute(ConsoleLauncher.java:82)\r\n\tat org.junit.platform.console.ConsoleLauncher.execute(ConsoleLauncher.java:55)\r\n\tat org.junit.platform.console.ConsoleLauncher.execute(ConsoleLauncher.java:48)\r\n\tat org.junit.platform.console.ConsoleLauncher.main(ConsoleLauncher.java:42)\r\nCaused by: java.lang.IllegalArgumentException: java.lang.IllegalAccessException: class is not public: ***.***.repo.UserRepositoryInternal.findOneWithAuthoritiesById(String)Mono/invokeInterface, from ***.***.UserService (unnamed module @1f0f92f5)\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup.revealDirect(MethodHandles.java:2004)\r\n\tat java.base/java.lang.invoke.AbstractValidatingLambdaMetafactory.&lt;init&gt;(AbstractValidatingLambdaMetafactory.java:133)\r\n\tat java.base/java.lang.invoke.InnerClassLambdaMetafactory.&lt;init&gt;(InnerClassLambdaMetafactory.java:159)\r\n\tat java.base/java.lang.invoke.LambdaMetafactory.metafactory(LambdaMetafactory.java:324)\r\n\tat java.base/java.lang.invoke.BootstrapMethodInvoker.invoke(BootstrapMethodInvoker.java:127)\r\n\tat java.base/java.lang.invoke.CallSite.makeSite(CallSite.java:307)\r\n\tat java.base/java.lang.invoke.MethodHandleNatives.linkCallSiteImpl(MethodHandleNatives.java:258)\r\n\tat java.base/java.lang.invoke.MethodHandleNatives.linkCallSite(MethodHandleNatives.java:248)\r\n\tat ***.***.UserService.updateUser(UserService.java:*)\r\n\tat java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:710)\r\n\tat org.mockito.internal.util.reflection.InstrumentationMemberAccessor$Dispatcher$ByteBuddy$T591TQoj.invokeWithArguments(Unknown Source)\r\n\tat org.mockito.internal.util.reflection.InstrumentationMemberAccessor.invoke(InstrumentationMemberAccessor.java:239)\r\n\tat org.mockito.internal.util.reflection.ModuleMemberAccessor.invoke(ModuleMemberAccessor.java:55)\r\n\tat org.mockito.internal.creation.bytebuddy.MockMethodAdvice.tryInvoke(MockMethodAdvice.java:318)\r\n\tat org.mockito.internal.creation.bytebuddy.MockMethodAdvice.access$500(MockMethodAdvice.java:64)\r\n\tat org.mockito.internal.creation.bytebuddy.MockMethodAdvice$RealMethodCall.invoke(MockMethodAdvice.java:238)\r\n\tat org.mockito.internal.invocation.InterceptedInvocation.callRealMethod(InterceptedInvocation.java:142)\r\n\tat org.mockito.internal.stubbing.answers.CallsRealMethods.answer(CallsRealMethods.java:45)\r\n\tat org.mockito.Answers.answer(Answers.java:90)\r\n\tat org.mockito.internal.handler.MockHandlerImpl.handle(MockHandlerImpl.java:111)\r\n\tat org.mockito.internal.handler.NullResultGuardian.handle(NullResultGuardian.java:29)\r\n\tat org.mockito.internal.handler.InvocationNotifierHandler.handle(InvocationNotifierHandler.java:34)\r\n\tat org.mockito.internal.creation.bytebuddy.MockMethodInterceptor.doIntercept(MockMethodInterceptor.java:82)\r\n\tat org.mockito.internal.creation.bytebuddy.MockMethodAdvice.handle(MockMethodAdvice.java:134)\r\n\t... 251 common frames omitted\r\nCaused by: java.lang.IllegalAccessException: class is not public: ***.***.repo.UserRepositoryInternal.findOneWithAuthoritiesById(String)Mono/invokeInterface, from ***.***.UserService (unnamed module @1f0f92f5)\r\n\tat java.base/java.lang.invoke.MemberName.makeAccessException(MemberName.java:942)\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup.checkAccess(MethodHandles.java:2201)\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup.revealDirect(MethodHandles.java:2001)\r\n\t... 274 common frames omitted\r\n```\r\n","title":"Double Colon Operator not working on JUnit","body":"<p>I'm working with WebFlux Project with JDK11.<br />\nAnd I'm using Emacs and lsp-java as my IDE.</p>\n<p>When I run test with Gradle commands, it works.<br />\nBut When I run with <code>dap-java-run</code>, it throws <code>java.lang.IllegalAccessException</code>.</p>\n<p>There was double-colon operator in the code where it throws exceptions.<br />\nSo I changed code to a lambda expression and it works.</p>\n<p>I'm not good at JVM environment. So I don't know where I should start to debug.</p>\n<p>Code with a double colon operator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.flatMap(userRepository::findOneWithAuthoritiesById)\n</code></pre>\n<p>Code passed with <code>dap-java-run</code>.</p>\n<pre><code>.flatMap(id -&gt; userRepository.findOneWithAuthoritiesById(id))\n</code></pre>\n<p>dap-java-run commands.:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=50082 -jar ~/.emacs.d/eclipse.jdt.ls/test-runner/junit-platform-console-standalone.jar -cp $JUNIT_CLASS_PATH -c [CLASSNAME]\n</code></pre>\n<p>Exception logs:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.BootstrapMethodError: bootstrap method initialization exception\n    at java.base/java.lang.invoke.BootstrapMethodInvoker.invoke(BootstrapMethodInvoker.java:194)\n    at java.base/java.lang.invoke.CallSite.makeSite(CallSite.java:307)\n    at java.base/java.lang.invoke.MethodHandleNatives.linkCallSiteImpl(MethodHandleNatives.java:258)\n    at java.base/java.lang.invoke.MethodHandleNatives.linkCallSite(MethodHandleNatives.java:248)\n    at ***.***.UserService.updateUser(UserService.java:*)\n    at java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:*)\n    at ***.***.UserService.updateUser(UserService.java:*)\n    at ***.***.UserService.lambda$13(UserService.java:*)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125)\n    at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)\n    at org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onNext(ReactorContextTestExecutionListener.java:120)\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\n    at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249)\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\n    at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.complete(MonoIgnoreThen.java:292)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onNext(MonoIgnoreThen.java:187)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:236)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203)\n    at org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onComplete(ReactorContextTestExecutionListener.java:130)\n    at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89)\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:846)\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:608)\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.innerComplete(FluxFlatMap.java:894)\n    at reactor.core.publisher.FluxFlatMap$FlatMapInner.onComplete(FluxFlatMap.java:997)\n    at org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onComplete(ReactorContextTestExecutionListener.java:130)\n    at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102)\n    at reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.deferredComplete(FluxUsingWhen.java:392)\n    at reactor.core.publisher.FluxUsingWhen$CommitInner.onComplete(FluxUsingWhen.java:527)\n    at org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onComplete(ReactorContextTestExecutionListener.java:130)\n    at reactor.core.publisher.Operators.complete(Operators.java:137)\n    at reactor.core.publisher.MonoEmpty.subscribe(MonoEmpty.java:46)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4400)\n    at reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.onComplete(FluxUsingWhen.java:384)\n    at org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onComplete(ReactorContextTestExecutionListener.java:130)\n    at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onComplete(MonoFlatMapMany.java:260)\n    at org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onComplete(ReactorContextTestExecutionListener.java:130)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onComplete(MonoFlatMap.java:181)\n    at reactor.core.publisher.FluxHandle$HandleSubscriber.onComplete(FluxHandle.java:220)\n    at reactor.core.publisher.MonoNext$NextSubscriber.onComplete(MonoNext.java:102)\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:846)\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:608)\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:588)\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.onComplete(FluxFlatMap.java:465)\n    at reactor.core.publisher.FluxBuffer$BufferExactSubscriber.onComplete(FluxBuffer.java:187)\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2058)\n    at reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.deferredComplete(FluxUsingWhen.java:392)\n    at reactor.core.publisher.FluxUsingWhen$CommitInner.onComplete(FluxUsingWhen.java:527)\n    at org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onComplete(ReactorContextTestExecutionListener.java:130)\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2058)\n    at org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onComplete(ReactorContextTestExecutionListener.java:130)\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2058)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:209)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:209)\n    at reactor.pool.SimpleDequePool.maybeRecycleAndDrain(SimpleDequePool.java:533)\n    at reactor.pool.SimpleDequePool$QueuePoolRecyclerInner.onComplete(SimpleDequePool.java:765)\n    at org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onComplete(ReactorContextTestExecutionListener.java:130)\n    at reactor.core.publisher.Operators.complete(Operators.java:137)\n    at reactor.core.publisher.MonoEmpty.subscribe(MonoEmpty.java:46)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4400)\n    at reactor.pool.SimpleDequePool$QueuePoolRecyclerMono.subscribe(SimpleDequePool.java:877)\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:240)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203)\n    at org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onComplete(ReactorContextTestExecutionListener.java:130)\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)\n    at reactor.core.publisher.Operators.complete(Operators.java:137)\n    at reactor.core.publisher.MonoEmpty.subscribe(MonoEmpty.java:46)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4400)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)\n    at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:240)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203)\n    at org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onComplete(ReactorContextTestExecutionListener.java:130)\n    at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89)\n    at reactor.core.publisher.FluxHandle$HandleSubscriber.onComplete(FluxHandle.java:220)\n    at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:85)\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1817)\n    at reactor.core.publisher.MonoCallable.subscribe(MonoCallable.java:62)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4400)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)\n    at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4400)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n    at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)\n    at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\n    at reactor.core.publisher.FluxFilter$FilterSubscriber.onError(FluxFilter.java:157)\n    at reactor.core.publisher.FluxFilter$FilterConditionalSubscriber.onError(FluxFilter.java:291)\n    at reactor.core.publisher.FluxMap$MapConditionalSubscriber.onError(FluxMap.java:265)\n    at reactor.core.publisher.Operators.error(Operators.java:198)\n    at reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\n    at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4400)\n    at reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.onComplete(FluxUsingWhen.java:384)\n    at org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onComplete(ReactorContextTestExecutionListener.java:130)\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:846)\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:608)\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:588)\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.onComplete(FluxFlatMap.java:465)\n    at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onComplete(FluxOnAssembly.java:549)\n    at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144)\n    at org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onComplete(ReactorContextTestExecutionListener.java:130)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onComplete(FluxMapFuseable.java:152)\n    at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:294)\n    at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:230)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171)\n    at reactor.core.publisher.FluxMap$MapSubscriber.request(FluxMap.java:164)\n    at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.request(FluxOnAssembly.java:649)\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.onSubscribe(FluxFlatMap.java:371)\n    at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onSubscribe(FluxOnAssembly.java:633)\n    at reactor.core.publisher.FluxMap$MapSubscriber.onSubscribe(FluxMap.java:92)\n    at org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onSubscribe(ReactorContextTestExecutionListener.java:115)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onSubscribe(FluxMapFuseable.java:96)\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:165)\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:87)\n    at reactor.core.publisher.Flux.subscribe(Flux.java:8469)\n    at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:200)\n    at reactor.core.publisher.FluxFlatMap.subscribeOrReturn(FluxFlatMap.java:93)\n    at reactor.core.publisher.Flux.subscribe(Flux.java:8455)\n    at reactor.core.publisher.FluxUsingWhen$ResourceSubscriber.onNext(FluxUsingWhen.java:195)\n    at org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onNext(ReactorContextTestExecutionListener.java:120)\n    at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\n    at org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onNext(ReactorContextTestExecutionListener.java:120)\n    at reactor.core.publisher.FluxRetry$RetrySubscriber.onNext(FluxRetry.java:87)\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)\n    at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:249)\n    at io.r2dbc.pool.MonoDiscardOnCancel$MonoDiscardOnCancelSubscriber.onNext(MonoDiscardOnCancel.java:92)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.complete(MonoIgnoreThen.java:292)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onNext(MonoIgnoreThen.java:187)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:236)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203)\n    at org.springframework.security.test.context.support.ReactorContextTestExecutionListener$DelegateTestExecutionListener$SecuritySubContext.onComplete(ReactorContextTestExecutionListener.java:130)\n    at reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89)\n    at reactor.core.publisher.FluxHandle$HandleSubscriber.onComplete(FluxHandle.java:220)\n    at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:85)\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1817)\n    at reactor.core.publisher.MonoCallable.subscribe(MonoCallable.java:62)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4400)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)\n    at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n    at io.r2dbc.pool.MonoDiscardOnCancel.subscribe(MonoDiscardOnCancel.java:50)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157)\n    at reactor.pool.AbstractPool$Borrower.deliver(AbstractPool.java:469)\n    at reactor.pool.SimpleDequePool.lambda$drainLoop$8(SimpleDequePool.java:370)\n    at reactor.core.scheduler.ImmediateScheduler.schedule(ImmediateScheduler.java:52)\n    at reactor.pool.SimpleDequePool.drainLoop(SimpleDequePool.java:370)\n    at reactor.pool.SimpleDequePool.pendingOffer(SimpleDequePool.java:600)\n    at reactor.pool.SimpleDequePool.doAcquire(SimpleDequePool.java:296)\n    at reactor.pool.AbstractPool$Borrower.request(AbstractPool.java:432)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onSubscribe(MonoFlatMap.java:110)\n    at reactor.pool.SimpleDequePool$QueueBorrowerMono.subscribe(SimpleDequePool.java:720)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\n    at reactor.core.publisher.FluxRetry$RetrySubscriber.resubscribe(FluxRetry.java:117)\n    at reactor.core.publisher.MonoRetry.subscribeOrReturn(MonoRetry.java:50)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4385)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:172)\n    at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\n    at reactor.core.publisher.Operators.error(Operators.java:198)\n    at reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\n    at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4400)\n    at reactor.core.publisher.FluxUsingWhen.subscribe(FluxUsingWhen.java:104)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n    at reactor.core.publisher.MonoUsingWhen.subscribe(MonoUsingWhen.java:87)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4400)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)\n    at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4400)\n    at reactor.core.publisher.Mono.block(Mono.java:1706)\n    at ***.***.MemberServiceTest.regDealerByStoreOwner(MemberServiceTest.java:*)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.SameThreadTimeoutInvocation.proceed(SameThreadTimeoutInvocation.java:45)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at org.junit.platform.console.tasks.ConsoleTestExecutor.executeTests(ConsoleTestExecutor.java:66)\n    at org.junit.platform.console.tasks.ConsoleTestExecutor.lambda$execute$0(ConsoleTestExecutor.java:58)\n    at org.junit.platform.console.tasks.CustomContextClassLoaderExecutor.replaceThreadContextClassLoaderAndInvoke(CustomContextClassLoaderExecutor.java:41)\n    at org.junit.platform.console.tasks.CustomContextClassLoaderExecutor.invoke(CustomContextClassLoaderExecutor.java:31)\n    at org.junit.platform.console.tasks.ConsoleTestExecutor.execute(ConsoleTestExecutor.java:58)\n    at org.junit.platform.console.ConsoleLauncher.executeTests(ConsoleLauncher.java:120)\n    at org.junit.platform.console.ConsoleLauncher.execute(ConsoleLauncher.java:82)\n    at org.junit.platform.console.ConsoleLauncher.execute(ConsoleLauncher.java:55)\n    at org.junit.platform.console.ConsoleLauncher.execute(ConsoleLauncher.java:48)\n    at org.junit.platform.console.ConsoleLauncher.main(ConsoleLauncher.java:42)\nCaused by: java.lang.IllegalArgumentException: java.lang.IllegalAccessException: class is not public: ***.***.repo.UserRepositoryInternal.findOneWithAuthoritiesById(String)Mono/invokeInterface, from ***.***.UserService (unnamed module @1f0f92f5)\n    at java.base/java.lang.invoke.MethodHandles$Lookup.revealDirect(MethodHandles.java:2004)\n    at java.base/java.lang.invoke.AbstractValidatingLambdaMetafactory.&lt;init&gt;(AbstractValidatingLambdaMetafactory.java:133)\n    at java.base/java.lang.invoke.InnerClassLambdaMetafactory.&lt;init&gt;(InnerClassLambdaMetafactory.java:159)\n    at java.base/java.lang.invoke.LambdaMetafactory.metafactory(LambdaMetafactory.java:324)\n    at java.base/java.lang.invoke.BootstrapMethodInvoker.invoke(BootstrapMethodInvoker.java:127)\n    at java.base/java.lang.invoke.CallSite.makeSite(CallSite.java:307)\n    at java.base/java.lang.invoke.MethodHandleNatives.linkCallSiteImpl(MethodHandleNatives.java:258)\n    at java.base/java.lang.invoke.MethodHandleNatives.linkCallSite(MethodHandleNatives.java:248)\n    at ***.***.UserService.updateUser(UserService.java:*)\n    at java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:710)\n    at org.mockito.internal.util.reflection.InstrumentationMemberAccessor$Dispatcher$ByteBuddy$T591TQoj.invokeWithArguments(Unknown Source)\n    at org.mockito.internal.util.reflection.InstrumentationMemberAccessor.invoke(InstrumentationMemberAccessor.java:239)\n    at org.mockito.internal.util.reflection.ModuleMemberAccessor.invoke(ModuleMemberAccessor.java:55)\n    at org.mockito.internal.creation.bytebuddy.MockMethodAdvice.tryInvoke(MockMethodAdvice.java:318)\n    at org.mockito.internal.creation.bytebuddy.MockMethodAdvice.access$500(MockMethodAdvice.java:64)\n    at org.mockito.internal.creation.bytebuddy.MockMethodAdvice$RealMethodCall.invoke(MockMethodAdvice.java:238)\n    at org.mockito.internal.invocation.InterceptedInvocation.callRealMethod(InterceptedInvocation.java:142)\n    at org.mockito.internal.stubbing.answers.CallsRealMethods.answer(CallsRealMethods.java:45)\n    at org.mockito.Answers.answer(Answers.java:90)\n    at org.mockito.internal.handler.MockHandlerImpl.handle(MockHandlerImpl.java:111)\n    at org.mockito.internal.handler.NullResultGuardian.handle(NullResultGuardian.java:29)\n    at org.mockito.internal.handler.InvocationNotifierHandler.handle(InvocationNotifierHandler.java:34)\n    at org.mockito.internal.creation.bytebuddy.MockMethodInterceptor.doIntercept(MockMethodInterceptor.java:82)\n    at org.mockito.internal.creation.bytebuddy.MockMethodAdvice.handle(MockMethodAdvice.java:134)\n    ... 251 common frames omitted\nCaused by: java.lang.IllegalAccessException: class is not public: ***.***.repo.UserRepositoryInternal.findOneWithAuthoritiesById(String)Mono/invokeInterface, from ***.***.UserService (unnamed module @1f0f92f5)\n    at java.base/java.lang.invoke.MemberName.makeAccessException(MemberName.java:942)\n    at java.base/java.lang.invoke.MethodHandles$Lookup.checkAccess(MethodHandles.java:2201)\n    at java.base/java.lang.invoke.MethodHandles$Lookup.revealDirect(MethodHandles.java:2001)\n    ... 274 common frames omitted\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","sharding"],"comments":[{"owner":{"account_id":4719616,"reputation":178,"user_id":3817916,"display_name":"FrenchTastic"},"score":0,"creation_date":1553443715,"post_id":55169638,"comment_id":97377491,"body_markdown":"did you find a better solution ? I&#39;m having the same issue but with the C# driver.","body":"did you find a better solution ? I&#39;m having the same issue but with the C# driver."},{"owner":{"account_id":9119375,"reputation":91,"user_id":6785364,"display_name":"nispand mehta"},"score":0,"creation_date":1553812896,"post_id":55169638,"comment_id":97536237,"body_markdown":"Not yet.Still using the workaround only","body":"Not yet.Still using the workaround only"},{"owner":{"account_id":45389,"reputation":404,"user_id":133757,"display_name":"PabloC"},"score":0,"creation_date":1603095059,"post_id":55169638,"comment_id":113916859,"body_markdown":"There&#39;s a specific attribute in spring-data-mongodb:3.x that addresses this now. https://stackoverflow.com/questions/47538573/specifing-a-sharded-collection-with-spring-data-mongodb","body":"There&#39;s a specific attribute in spring-data-mongodb:3.x that addresses this now. <a href=\"https://stackoverflow.com/questions/47538573/specifing-a-sharded-collection-with-spring-data-mongodb\" title=\"specifing a sharded collection with spring data mongodb\">stackoverflow.com/questions/47538573/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3982757,"reputation":164,"user_id":3284288,"display_name":"przem"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572311164,"creation_date":1563923215,"answer_id":57173251,"question_id":55169638,"body_markdown":"I had the same issue, solved with following hack:\r\n\r\n    @Configuration\r\n    public class ReactiveMongoConfig {\r\n    \r\n    \t@Bean\r\n    \tpublic ReactiveMongoTemplate reactiveMongoTemplate(ReactiveMongoDatabaseFactory reactiveMongoDatabaseFactory,\r\n    \t\t\tMongoConverter converter, MyService service) {\r\n    \t\treturn new ReactiveMongoTemplate(reactiveMongoDatabaseFactory, converter) {\r\n    \t\t\t@Override\r\n    \t\t\tprotected Mono&lt;UpdateResult&gt; doUpdate(String collectionName, Query query, UpdateDefinition update,\r\n    \t\t\t\t\tClass&lt;?&gt; entityClass, boolean upsert, boolean multi) {\r\n    \t\t\t\tquery.addCriteria(new Criteria(&quot;shardKey&quot;).is(service.getShardKey()));\r\n    \t\t\t\treturn super.doUpdate(collectionName, query, update, entityClass, upsert, multi);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    }\r\n\r\nWould be nice to have an annotation @ShardKey to mark document field as shard and have it added to query automatically.","title":"Spring Boot not able to update sharded collection on azure cosmos db(MongoDb)","body":"<p>I had the same issue, solved with following hack:</p>\n\n<pre><code>@Configuration\npublic class ReactiveMongoConfig {\n\n    @Bean\n    public ReactiveMongoTemplate reactiveMongoTemplate(ReactiveMongoDatabaseFactory reactiveMongoDatabaseFactory,\n            MongoConverter converter, MyService service) {\n        return new ReactiveMongoTemplate(reactiveMongoDatabaseFactory, converter) {\n            @Override\n            protected Mono&lt;UpdateResult&gt; doUpdate(String collectionName, Query query, UpdateDefinition update,\n                    Class&lt;?&gt; entityClass, boolean upsert, boolean multi) {\n                query.addCriteria(new Criteria(\"shardKey\").is(service.getShardKey()));\n                return super.doUpdate(collectionName, query, update, entityClass, upsert, multi);\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>Would be nice to have an annotation @ShardKey to mark document field as shard and have it added to query automatically.</p>\n"},{"tags":[],"owner":{"account_id":16427309,"reputation":13,"user_id":11867016,"display_name":"Cuong Le"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572301601,"creation_date":1564631403,"answer_id":57301588,"question_id":55169638,"body_markdown":"i am hacking this by create a custom repository:\r\n\r\n    public interface CosmosCustomRepository&lt;T&gt; {\r\n\t    void customSave(T entity);\r\n\t    void customSave(T entity, String collectionName);\r\n    }\r\n\r\nthe implement for this repository:\r\n\r\n    public class CosmosCustomRepositoryImpl&lt;T&gt; implements CosmosCustomRepository&lt;T&gt; {\r\n    \r\n    \t@Autowired\r\n    \tprivate MongoTemplate mongoTemplate;\r\n    \r\n    \t@Override\r\n    \tpublic void customSave(T entity) {\r\n    \t\tmongoTemplate.upsert(createQuery(entity), createUpdate(entity), entity.getClass());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void customSave(T entity, String collectionName) {\r\n    \t\tmongoTemplate.upsert(createQuery(entity), createUpdate(entity), collectionName);\r\n    \t}\r\n    \r\n    \tprivate Update createUpdate(T entity) {\r\n    \t\tUpdate update = new Update();\r\n    \t\tfor (Field field : entity.getClass().getDeclaredFields()) {\r\n    \t\t\ttry {\r\n    \t\t\t\tfield.setAccessible(true);\r\n    \t\t\t\tif (field.get(entity) != null) {\r\n    \t\t\t\t\tupdate.set(field.getName(), field.get(entity));\r\n    \t\t\t\t}\r\n    \t\t\t} catch (IllegalArgumentException | IllegalAccessException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn update;\r\n    \t}\r\n    \r\n    \tprivate Query createQuery(T entity) {\r\n    \t\tCriteria criteria = new Criteria();\r\n    \t\tfor (Field field : entity.getClass().getDeclaredFields()) {\r\n    \t\t\ttry {\r\n    \t\t\t\tfield.setAccessible(true);\r\n    \t\t\t\tif (field.get(entity) != null) {\r\n    \t\t\t\t\tif (field.getName().equals(&quot;id&quot;)) {\r\n    \t\t\t\t\t\treturn new Query(Criteria.where(&quot;id&quot;).is(field.get(entity)));\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tcriteria.and(field.getName()).is(field.get(entity));\r\n    \t\t\t\t}\r\n    \t\t\t} catch (IllegalArgumentException | IllegalAccessException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn new Query(criteria);\r\n    \t}\r\n    }\r\n\r\nyour `DocumentRepo` will extends this new custom repository.\r\n\r\n    @Repository\r\n    public interface DocumentRepo extends MongoRepository&lt;DocumentDev, String&gt;, CosmosCustomRepository&lt;DocumentDev&gt; { }\r\nTo save new document, just use new customSave\r\n\r\n    @Autowired\r\n    DocumentRepo docRepo;\r\n\r\n    docRepo.customSave(doc);\r\n","title":"Spring Boot not able to update sharded collection on azure cosmos db(MongoDb)","body":"<p>i am hacking this by create a custom repository:</p>\n\n<pre><code>public interface CosmosCustomRepository&lt;T&gt; {\n    void customSave(T entity);\n    void customSave(T entity, String collectionName);\n}\n</code></pre>\n\n<p>the implement for this repository:</p>\n\n<pre><code>public class CosmosCustomRepositoryImpl&lt;T&gt; implements CosmosCustomRepository&lt;T&gt; {\n\n    @Autowired\n    private MongoTemplate mongoTemplate;\n\n    @Override\n    public void customSave(T entity) {\n        mongoTemplate.upsert(createQuery(entity), createUpdate(entity), entity.getClass());\n    }\n\n    @Override\n    public void customSave(T entity, String collectionName) {\n        mongoTemplate.upsert(createQuery(entity), createUpdate(entity), collectionName);\n    }\n\n    private Update createUpdate(T entity) {\n        Update update = new Update();\n        for (Field field : entity.getClass().getDeclaredFields()) {\n            try {\n                field.setAccessible(true);\n                if (field.get(entity) != null) {\n                    update.set(field.getName(), field.get(entity));\n                }\n            } catch (IllegalArgumentException | IllegalAccessException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n        return update;\n    }\n\n    private Query createQuery(T entity) {\n        Criteria criteria = new Criteria();\n        for (Field field : entity.getClass().getDeclaredFields()) {\n            try {\n                field.setAccessible(true);\n                if (field.get(entity) != null) {\n                    if (field.getName().equals(\"id\")) {\n                        return new Query(Criteria.where(\"id\").is(field.get(entity)));\n                    }\n                    criteria.and(field.getName()).is(field.get(entity));\n                }\n            } catch (IllegalArgumentException | IllegalAccessException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n        return new Query(criteria);\n    }\n}\n</code></pre>\n\n<p>your <code>DocumentRepo</code> will extends this new custom repository.</p>\n\n<pre><code>@Repository\npublic interface DocumentRepo extends MongoRepository&lt;DocumentDev, String&gt;, CosmosCustomRepository&lt;DocumentDev&gt; { }\n</code></pre>\n\n<p>To save new document, just use new customSave</p>\n\n<pre><code>@Autowired\nDocumentRepo docRepo;\n\ndocRepo.customSave(doc);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10756072,"reputation":1,"user_id":7913986,"display_name":"Jose Ortiz Sainz de Rozas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572294624,"creation_date":1572294624,"answer_id":58597969,"question_id":55169638,"body_markdown":"Following the custom repository approach, I got an error because spring is expecting a Cosmos entity to be available in the custom implementation {EntityName}CustomRepositoryImpl, so I renamed the implementation. I also added code for:\r\n\r\n - The case when entity has inherited fields\r\n - Shard key is not always the Id, we should add it along with the id: { &quot;shardkeyName&quot;: &quot;shardValue&quot; }\r\n - Adding generated ObjectId to the entity for new documents\r\n\r\n         public class DocumentRepositoryImpl&lt;T&gt; implements CosmosRepositoryCustom&lt;T&gt; {\r\n        \r\n            @Autowired\r\n            protected MongoTemplate mongoTemplate;\r\n        \r\n            @Override\r\n            public T customSave(T entity) {\r\n                WriteResult writeResult = mongoTemplate.upsert(createQuery(entity), createUpdate(entity), entity.getClass());\r\n                setIdForEntity(entity,writeResult);\r\n                return entity;\r\n            }\r\n        \r\n            @Override\r\n            public T customSave(T entity, String collectionName) {\r\n                WriteResult writeResult = mongoTemplate.upsert(createQuery(entity), createUpdate(entity), collectionName);\r\n                setIdForEntity(entity,writeResult);\r\n                return entity;\r\n            }\r\n        \r\n            @Override\r\n            public void customSave(List&lt;T&gt; entities) {\r\n                if(CollectionUtils.isNotEmpty(entities)){\r\n                    entities.forEach(entity -&gt; customSave(entity));\r\n                }\r\n            }\r\n        \r\n            public &lt;T&gt; Update createUpdate(T entity){\r\n                Update update = new Update();\r\n                for (Field field : getAllFields(entity)) {\r\n                    try {\r\n                        field.setAccessible(true);\r\n                        if (field.get(entity) != null) {\r\n                            update.set(field.getName(), field.get(entity));\r\n                        }\r\n                    } catch (IllegalArgumentException | IllegalAccessException e) {\r\n                        LOGGER.error(&quot;Error creating update for entity&quot;,e);\r\n                    }\r\n                }\r\n                return update;\r\n            }\r\n        \r\n            public &lt;T&gt; Query createQuery(T entity) {\r\n                Criteria criteria = new Criteria();\r\n                for (Field field : getAllFields(entity)) {\r\n                    try {\r\n                        field.setAccessible(true);\r\n                        if (field.get(entity) != null) {\r\n                            if (field.getName().equals(&quot;id&quot;)) {\r\n                                Query query = new Query(Criteria.where(&quot;id&quot;).is(field.get(entity)));\r\n                                query.addCriteria(new Criteria(SHARD_KEY_NAME).is(SHARD_KEY_VALUE));\r\n                                return query;\r\n                            }\r\n                            criteria.and(field.getName()).is(field.get(entity));\r\n                        }\r\n                    } catch (IllegalArgumentException | IllegalAccessException e) {\r\n                        LOGGER.error(&quot;Error creating query for entity&quot;,e);\r\n                    }\r\n                }\r\n                return new Query(criteria);\r\n            }\r\n        \r\n            private &lt;T&gt; List&lt;Field&gt; getAllFields(T entity) {\r\n                List&lt;Field&gt; fields = new ArrayList&lt;&gt;();\r\n                fields.addAll(Arrays.asList(entity.getClass().getDeclaredFields()));\r\n                Class&lt;?&gt; c = entity.getClass().getSuperclass();\r\n                if(!c.equals(Object.class)){\r\n                    fields.addAll(Arrays.asList(c.getDeclaredFields()));\r\n                }\r\n                return fields;\r\n            }\r\n        \r\n            public &lt;T&gt; void setIdForEntity(T entity,WriteResult writeResult){\r\n                if(null != writeResult &amp;&amp; null != writeResult.getUpsertedId()){\r\n                    Object upsertId = writeResult.getUpsertedId();\r\n                    entity.setId(upsertId.toString());\r\n                }\r\n            }\r\n        }\r\n\r\nI am using spring-boot-starter-mongodb:1.5.1 with spring-data-mongodb:1.9.11","title":"Spring Boot not able to update sharded collection on azure cosmos db(MongoDb)","body":"<p>Following the custom repository approach, I got an error because spring is expecting a Cosmos entity to be available in the custom implementation {EntityName}CustomRepositoryImpl, so I renamed the implementation. I also added code for:</p>\n\n<ul>\n<li>The case when entity has inherited fields</li>\n<li>Shard key is not always the Id, we should add it along with the id: { \"shardkeyName\": \"shardValue\" }</li>\n<li><p>Adding generated ObjectId to the entity for new documents</p>\n\n<pre><code> public class DocumentRepositoryImpl&lt;T&gt; implements CosmosRepositoryCustom&lt;T&gt; {\n\n    @Autowired\n    protected MongoTemplate mongoTemplate;\n\n    @Override\n    public T customSave(T entity) {\n        WriteResult writeResult = mongoTemplate.upsert(createQuery(entity), createUpdate(entity), entity.getClass());\n        setIdForEntity(entity,writeResult);\n        return entity;\n    }\n\n    @Override\n    public T customSave(T entity, String collectionName) {\n        WriteResult writeResult = mongoTemplate.upsert(createQuery(entity), createUpdate(entity), collectionName);\n        setIdForEntity(entity,writeResult);\n        return entity;\n    }\n\n    @Override\n    public void customSave(List&lt;T&gt; entities) {\n        if(CollectionUtils.isNotEmpty(entities)){\n            entities.forEach(entity -&gt; customSave(entity));\n        }\n    }\n\n    public &lt;T&gt; Update createUpdate(T entity){\n        Update update = new Update();\n        for (Field field : getAllFields(entity)) {\n            try {\n                field.setAccessible(true);\n                if (field.get(entity) != null) {\n                    update.set(field.getName(), field.get(entity));\n                }\n            } catch (IllegalArgumentException | IllegalAccessException e) {\n                LOGGER.error(\"Error creating update for entity\",e);\n            }\n        }\n        return update;\n    }\n\n    public &lt;T&gt; Query createQuery(T entity) {\n        Criteria criteria = new Criteria();\n        for (Field field : getAllFields(entity)) {\n            try {\n                field.setAccessible(true);\n                if (field.get(entity) != null) {\n                    if (field.getName().equals(\"id\")) {\n                        Query query = new Query(Criteria.where(\"id\").is(field.get(entity)));\n                        query.addCriteria(new Criteria(SHARD_KEY_NAME).is(SHARD_KEY_VALUE));\n                        return query;\n                    }\n                    criteria.and(field.getName()).is(field.get(entity));\n                }\n            } catch (IllegalArgumentException | IllegalAccessException e) {\n                LOGGER.error(\"Error creating query for entity\",e);\n            }\n        }\n        return new Query(criteria);\n    }\n\n    private &lt;T&gt; List&lt;Field&gt; getAllFields(T entity) {\n        List&lt;Field&gt; fields = new ArrayList&lt;&gt;();\n        fields.addAll(Arrays.asList(entity.getClass().getDeclaredFields()));\n        Class&lt;?&gt; c = entity.getClass().getSuperclass();\n        if(!c.equals(Object.class)){\n            fields.addAll(Arrays.asList(c.getDeclaredFields()));\n        }\n        return fields;\n    }\n\n    public &lt;T&gt; void setIdForEntity(T entity,WriteResult writeResult){\n        if(null != writeResult &amp;&amp; null != writeResult.getUpsertedId()){\n            Object upsertId = writeResult.getUpsertedId();\n            entity.setId(upsertId.toString());\n        }\n    }\n}\n</code></pre></li>\n</ul>\n\n<p>I am using spring-boot-starter-mongodb:1.5.1 with spring-data-mongodb:1.9.11</p>\n"},{"tags":[],"owner":{"account_id":13205098,"reputation":69,"user_id":9590654,"display_name":"Yassine Boujida"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664537197,"creation_date":1664537197,"answer_id":73908005,"question_id":55169638,"body_markdown":"A more recent and simple approach I&#39;ve figured out recently is to use the `@Sharded({shardKey1, shardKey2, ...})` spring annotation like so:\r\n\r\n```\r\n@Document(collection = &quot;documentDev&quot;)\r\n@Sharded(shardKey = {&quot;dNumber&quot;})\r\npublic class DocumentDev {\r\n  @Id private String id;\r\n  private String dNumber;\r\n  private String fileName;\r\n  private boolean processed;\r\n}\r\n```\r\n\r\nThis is going to be picked up by `MongoRepository` automatically.\r\nAnd here is the doc: https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#sharding\r\n\r\nEnjoy coding!","title":"Spring Boot not able to update sharded collection on azure cosmos db(MongoDb)","body":"<p>A more recent and simple approach I've figured out recently is to use the <code>@Sharded({shardKey1, shardKey2, ...})</code> spring annotation like so:</p>\n<pre><code>@Document(collection = &quot;documentDev&quot;)\n@Sharded(shardKey = {&quot;dNumber&quot;})\npublic class DocumentDev {\n  @Id private String id;\n  private String dNumber;\n  private String fileName;\n  private boolean processed;\n}\n</code></pre>\n<p>This is going to be picked up by <code>MongoRepository</code> automatically.\nAnd here is the doc: <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#sharding\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#sharding</a></p>\n<p>Enjoy coding!</p>\n"}],"owner":{"account_id":9119375,"reputation":91,"user_id":6785364,"display_name":"nispand mehta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3307,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1664537197,"creation_date":1552587969,"question_id":55169638,"body_markdown":"I have a collection &quot;documentDev&quot; present in the database with sharding key as &#39;dNumber&#39; \r\nSample Document :\r\n\r\n    {\r\n    &quot;_id&quot; : &quot;12831221wadaee23&quot;,\r\n\t&quot;dNumber&quot; : &quot;115&quot;,\r\n    &quot;processed&quot;: false\r\n    }\r\nIf I try to update this document through any query tool using a command like - \r\n\r\n    db.documentDev.update({\r\n      &quot;_id&quot; : ObjectId(&quot;12831221wadaee23&quot;),\r\n      &quot;dNumber&quot;:&quot;115&quot;\r\n    },{\r\n        $set:{&quot;processed&quot;: true}}, \r\n    { multi: false, upsert: false}\r\n    )}`\r\n\r\nIt updates the document properly. \r\nBut if I do use spring boot&#39;s mongorepository command like\r\n    DocumentRepo.save(Object) \r\nit throws an exception \r\n\r\n&gt;- Caused by: com.mongodb.MongoCommandException: Command failed with error 61: &#39;query in command must target a single shard key&#39; on server by3prdddc01-docdb-3.documents.azure.com:10255. The full response is { &quot;_t&quot; : &quot;OKMongoResponse&quot;, &quot;ok&quot; : 0, &quot;code&quot; : 61, &quot;errmsg&quot; : &quot;query in command must target a single shard key&quot;, &quot;$err&quot; : &quot;query in command must target a single shard key&quot; }\r\n\r\nThis is my DocumentObject:\r\n\r\n    @Document(collection = &quot;documentDev&quot;)\r\n    public class DocumentDev\r\n    {\r\n\t@Id\r\n\tprivate String id;\r\n\tprivate String dNumber;\r\n\tprivate String fileName;\r\n\tprivate boolean processed;\r\n    }\r\n\r\nThis is my Repository Class -\r\n\r\n    @Repository\r\n    public interface DocumentRepo extends MongoRepository&lt;DocumentDev, \r\n    String&gt; { }\r\n\r\nand value i am trying to update\r\n&gt;- Value : doc : \r\n    {\r\n    &quot;_id&quot; : &quot;12831221wadaee23&quot;,\r\n\t&quot;dNumber&quot; : &quot;115&quot;,\r\n    &quot;processed&quot;: true\r\n    }  \r\n\r\nthe function I am trying to execute :\r\n\r\n    @Autowired\r\n    DocumentRepo docRepo;\r\n\r\n    docRepo.save(doc); // Fails to execute\r\n\r\nNote: I have sharding enabled on dNumber field. And I am successfully able to update using Native queries on NoSQL Tool.\r\nI was also able to execute the Repository save operation on Non sharded collection.\r\n\r\nUpdate: I am able to update the document by creating native query using MongoTemplate - My Query looks like this -\r\n\r\n    public DocumentDev updateProcessedFlag(DocumentDev request) {\r\n\t\tQuery query = new Query();\r\n\t\tquery.addCriteria(Criteria.where(&quot;_id&quot;).is(request.getId()));\r\n\t\tquery.addCriteria(Criteria.where(&quot;dNumber&quot;).is(request.getDNumber()));\r\n\t\tUpdate update = new Update();\r\n\t\tupdate.set(&quot;processed&quot;, request.isProcessed());\r\n\t\tmongoTemplate.updateFirst(query, update, request.getClass());\r\n\t\treturn request;\r\n\t}\r\n\r\nBut this is not a generic solution as any other field might have update and my document may have other fields as well.","title":"Spring Boot not able to update sharded collection on azure cosmos db(MongoDb)","body":"<p>I have a collection \"documentDev\" present in the database with sharding key as 'dNumber' \nSample Document :</p>\n\n<pre><code>{\n\"_id\" : \"12831221wadaee23\",\n\"dNumber\" : \"115\",\n\"processed\": false\n}\n</code></pre>\n\n<p>If I try to update this document through any query tool using a command like - </p>\n\n<pre><code>db.documentDev.update({\n  \"_id\" : ObjectId(\"12831221wadaee23\"),\n  \"dNumber\":\"115\"\n},{\n    $set:{\"processed\": true}}, \n{ multi: false, upsert: false}\n)}`\n</code></pre>\n\n<p>It updates the document properly. \nBut if I do use spring boot's mongorepository command like\n    DocumentRepo.save(Object) \nit throws an exception </p>\n\n<blockquote>\n  <ul>\n  <li>Caused by: com.mongodb.MongoCommandException: Command failed with error 61: 'query in command must target a single shard key' on server by3prdddc01-docdb-3.documents.azure.com:10255. The full response is { \"_t\" : \"OKMongoResponse\", \"ok\" : 0, \"code\" : 61, \"errmsg\" : \"query in command must target a single shard key\", \"$err\" : \"query in command must target a single shard key\" }</li>\n  </ul>\n</blockquote>\n\n<p>This is my DocumentObject:</p>\n\n<pre><code>@Document(collection = \"documentDev\")\npublic class DocumentDev\n{\n@Id\nprivate String id;\nprivate String dNumber;\nprivate String fileName;\nprivate boolean processed;\n}\n</code></pre>\n\n<p>This is my Repository Class -</p>\n\n<pre><code>@Repository\npublic interface DocumentRepo extends MongoRepository&lt;DocumentDev, \nString&gt; { }\n</code></pre>\n\n<p>and value i am trying to update</p>\n\n<blockquote>\n  <ul>\n  <li>Value : doc : \n  {\n  \"_id\" : \"12831221wadaee23\",\n  \"dNumber\" : \"115\",\n  \"processed\": true\n  }  </li>\n  </ul>\n</blockquote>\n\n<p>the function I am trying to execute :</p>\n\n<pre><code>@Autowired\nDocumentRepo docRepo;\n\ndocRepo.save(doc); // Fails to execute\n</code></pre>\n\n<p>Note: I have sharding enabled on dNumber field. And I am successfully able to update using Native queries on NoSQL Tool.\nI was also able to execute the Repository save operation on Non sharded collection.</p>\n\n<p>Update: I am able to update the document by creating native query using MongoTemplate - My Query looks like this -</p>\n\n<pre><code>public DocumentDev updateProcessedFlag(DocumentDev request) {\n    Query query = new Query();\n    query.addCriteria(Criteria.where(\"_id\").is(request.getId()));\n    query.addCriteria(Criteria.where(\"dNumber\").is(request.getDNumber()));\n    Update update = new Update();\n    update.set(\"processed\", request.isProcessed());\n    mongoTemplate.updateFirst(query, update, request.getClass());\n    return request;\n}\n</code></pre>\n\n<p>But this is not a generic solution as any other field might have update and my document may have other fields as well.</p>\n"},{"tags":["java","selenium","webdriver"],"comments":[{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1664468907,"post_id":73898835,"comment_id":130484533,"body_markdown":"Please share your code including the url to the page you are working on. Currently this question is missing debugging details, focus etc.","body":"Please share your code including the url to the page you are working on. Currently this question is missing debugging details, focus etc."},{"owner":{"account_id":24863742,"reputation":43,"user_id":18739132,"display_name":"Niharika Tangella"},"score":0,"creation_date":1664469262,"post_id":73898835,"comment_id":130484657,"body_markdown":"driver.get(&quot;http://183.82.103.245/nareshit/login.php&quot;);\n\t\tdriver.findElement(By.name(&quot;txtUserName&quot;)).sendKeys(&quot;nareshit&quot;);\n\t\tdriver.findElement(By.name(&quot;txtPassword&quot;)).sendKeys(&quot;nareshit&quot;);\n\t\tdriver.findElement(By.name(&quot;Submit&quot;)).click();\n\t\tThread.sleep(3000);\n\t\tdriver.switchTo().frame(&quot;rightMenu&quot;);\n\t\tList&lt;WebElement&gt; AllCheckboxes = driver.findElements(By.xpath(&quot;//input[@type=&#39;checkbox&#39;]&quot;));;\n\t\tint size = AllCheckboxes.size();\n\t\tSystem.out.println(size);\n\t\tfor(int i=0;i&lt;size;i++)\n\t\t{\n\t\t\t(AllCheckboxes).get(i).click();\n\t\t}\n\t\tThread.sleep(5000);\n\t\t\n\t\tdriver.close();\n\t}\n\n}","body":"driver.get(&quot;<a href=\"http://183.82.103.245/nareshit/login.php&quot;\" rel=\"nofollow noreferrer\">183.82.103.245/nareshit/login.php&quot;</a>); \t\tdriver.findElement(By.name(&quot;txtUserName&quot;)).sendKeys(&quot;nares&zwnj;&#8203;hit&quot;); \t\tdriver.findElement(By.name(&quot;txtPassword&quot;)).sendKeys(&quot;nares&zwnj;&#8203;hit&quot;); \t\tdriver.findElement(By.name(&quot;Submit&quot;)).click(); \t\tThread.sleep(3000); \t\tdriver.switchTo().frame(&quot;rightMenu&quot;); \t\tList&lt;WebElement&gt; AllCheckboxes = driver.findElements(By.xpath(&quot;//input[@type=&#39;checkbox&#39;]&quot;));; \t\tint size = AllCheckboxes.size(); \t\tSystem.out.println(size); \t\tfor(int i=0;i&lt;size;i++) \t\t{ \t\t\t(AllCheckboxes).get(i).click(); \t\t} \t\tThread.sleep(5000); \t\t \t\tdriver.close(); \t}  }"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1664469343,"post_id":73898835,"comment_id":130484685,"body_markdown":"not here! in the question itself. Make it readable","body":"not here! in the question itself. Make it readable"},{"owner":{"account_id":24863742,"reputation":43,"user_id":18739132,"display_name":"Niharika Tangella"},"score":0,"creation_date":1664469345,"post_id":73898835,"comment_id":130484687,"body_markdown":"Also when I executed the above code, frst it selected all the checkboxes and then started deselecting them,is this behaviour expected? Please refer to image","body":"Also when I executed the above code, frst it selected all the checkboxes and then started deselecting them,is this behaviour expected? Please refer to image"}],"answers":[{"tags":[],"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664469896,"creation_date":1664469896,"answer_id":73899054,"question_id":73898835,"body_markdown":"There are many ways you can achieve that - clicking alternate checkboxes, just add a simple logic:\r\n\r\n    int counter = 1;\r\n    for(int i=0;i&lt;size;i++) { \r\n    \tcounter++;\r\n    \tif ((counter % 2) == 0) {\r\n    \t\t(AllCheckboxes).get(i).click(); \r\n    \t}\r\n    } \r\n\r\n\r\n","title":"How to select multiple alternate checkboxes in selenium webdriver","body":"<p>There are many ways you can achieve that - clicking alternate checkboxes, just add a simple logic:</p>\n<pre><code>int counter = 1;\nfor(int i=0;i&lt;size;i++) { \n    counter++;\n    if ((counter % 2) == 0) {\n        (AllCheckboxes).get(i).click(); \n    }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":26491783,"reputation":1,"user_id":20130025,"display_name":"Rupesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664537093,"creation_date":1664537093,"answer_id":73907990,"question_id":73898835,"body_markdown":"Before actioning on checkboxes, make sure they enables or not and then try to execute the code.\r\n\r\n\t\tList&lt;WebElement&gt; checkboxes = driver.findElements(By.name(&quot;&quot;element));\r\n\t\t\r\n\t\tfor(int i=0; i&lt;checkboxes.size(); i+=2) {\r\n\t\t\t\r\n\t\t\tif(checkboxes.get(i).isDisplayed() &amp;&amp; checkboxes.get(i).isEnabled()) {\r\n\t\t\t\t\r\n\t\t\t\tcheckboxes.get(i).click();","title":"How to select multiple alternate checkboxes in selenium webdriver","body":"<p>Before actioning on checkboxes, make sure they enables or not and then try to execute the code.</p>\n<pre><code>    List&lt;WebElement&gt; checkboxes = driver.findElements(By.name(&quot;&quot;element));\n    \n    for(int i=0; i&lt;checkboxes.size(); i+=2) {\n        \n        if(checkboxes.get(i).isDisplayed() &amp;&amp; checkboxes.get(i).isEnabled()) {\n            \n            checkboxes.get(i).click();\n</code></pre>\n"}],"owner":{"account_id":24863742,"reputation":43,"user_id":18739132,"display_name":"Niharika Tangella"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73899054,"answer_count":2,"score":0,"last_activity_date":1664537093,"creation_date":1664468808,"question_id":73898835,"body_markdown":"    driver.get(&quot;183.82.103.245/nareshit/login.php&quot;); \r\n    driver.findElement(By.name(&quot;txtUserName&quot;)).sendKeys(&quot;nareshit&quot;); \r\n    driver.findElement(By.name(&quot;txtPassword&quot;)).sendKeys(&quot;nareshit&quot;);\r\n    driver.findElement(By.name(&quot;Submit&quot;)).click();\r\n    Thread.sleep(3000);\r\n    driver.switchTo().frame(&quot;rightMenu&quot;);\r\n    List&lt;WebElement&gt; AllCheckboxes = driver.findElements(By.xpath(&quot;//input[@type=&#39;checkbox&#39;]&quot;));;\r\n    int size = AllCheckboxes.size();\r\n    System.out.println(size);\r\n    for(int i=0;i&lt;size;i++) {\r\n        (AllCheckboxes).get(i).click(); \r\n    }\r\n    Thread.sleep(5000); driver.close(); \r\n    } }\r\n\r\n[![checkbox][1]][1]\r\n\r\nHow to select multiple alternate checkboxes in selenium webdriver?\r\n\r\nI have written code for selecting multiple checkboxes at a time. I wanted to try for clicking on multiple alternate checkboxes.\r\n\r\n  [1]: https://i.stack.imgur.com/nfYeV.jpg\r\n","title":"How to select multiple alternate checkboxes in selenium webdriver","body":"<pre><code>driver.get(&quot;183.82.103.245/nareshit/login.php&quot;); \ndriver.findElement(By.name(&quot;txtUserName&quot;)).sendKeys(&quot;nareshit&quot;); \ndriver.findElement(By.name(&quot;txtPassword&quot;)).sendKeys(&quot;nareshit&quot;);\ndriver.findElement(By.name(&quot;Submit&quot;)).click();\nThread.sleep(3000);\ndriver.switchTo().frame(&quot;rightMenu&quot;);\nList&lt;WebElement&gt; AllCheckboxes = driver.findElements(By.xpath(&quot;//input[@type='checkbox']&quot;));;\nint size = AllCheckboxes.size();\nSystem.out.println(size);\nfor(int i=0;i&lt;size;i++) {\n    (AllCheckboxes).get(i).click(); \n}\nThread.sleep(5000); driver.close(); \n} }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nfYeV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nfYeV.jpg\" alt=\"checkbox\" /></a></p>\n<p>How to select multiple alternate checkboxes in selenium webdriver?</p>\n<p>I have written code for selecting multiple checkboxes at a time. I wanted to try for clicking on multiple alternate checkboxes.</p>\n"},{"tags":["java","dependency-injection","interface","annotations"],"comments":[{"owner":{"account_id":90063,"reputation":9824,"user_id":248082,"accept_rate":64,"display_name":"nobeh"},"score":0,"creation_date":1334736028,"post_id":10205261,"comment_id":13104955,"body_markdown":"What container or business framework are you using?","body":"What container or business framework are you using?"},{"owner":{"account_id":95715,"reputation":20966,"user_id":260511,"accept_rate":81,"display_name":"rayman"},"score":0,"creation_date":1334736602,"post_id":10205261,"comment_id":13105160,"body_markdown":"This is a stand alone java application.","body":"This is a stand alone java application."}],"answers":[{"comments":[{"owner":{"account_id":95715,"reputation":20966,"user_id":260511,"accept_rate":81,"display_name":"rayman"},"score":0,"creation_date":1334737356,"post_id":10205552,"comment_id":13105470,"body_markdown":"Hi, But I am not using Spring.","body":"Hi, But I am not using Spring."},{"owner":{"account_id":90063,"reputation":9824,"user_id":248082,"accept_rate":64,"display_name":"nobeh"},"score":0,"creation_date":1334737530,"post_id":10205552,"comment_id":13105526,"body_markdown":"I mentioned &quot;up to the point&quot;. The Spring is just if you have Spring other than that it&#39;s still complete.","body":"I mentioned &quot;up to the point&quot;. The Spring is just if you have Spring other than that it&#39;s still complete."},{"owner":{"account_id":95715,"reputation":20966,"user_id":260511,"accept_rate":81,"display_name":"rayman"},"score":0,"creation_date":1334738239,"post_id":10205552,"comment_id":13105746,"body_markdown":"Yes exactly I want to inject listeners to the object but was hard for me to understand how to do it from your Spring example. maybe you got other reference for me? thanks!","body":"Yes exactly I want to inject listeners to the object but was hard for me to understand how to do it from your Spring example. maybe you got other reference for me? thanks!"},{"owner":{"account_id":95715,"reputation":20966,"user_id":260511,"accept_rate":81,"display_name":"rayman"},"score":0,"creation_date":1334745065,"post_id":10205552,"comment_id":13108432,"body_markdown":"Hi thanks for your detailed answer. but tell me where is the part where I implement the listener for each class which is annotated with @MyMessageDriven so when message arrives it will trigger the class onMessage method.","body":"Hi thanks for your detailed answer. but tell me where is the part where I implement the listener for each class which is annotated with @MyMessageDriven so when message arrives it will trigger the class onMessage method."},{"owner":{"account_id":95715,"reputation":20966,"user_id":260511,"accept_rate":81,"display_name":"rayman"},"score":0,"creation_date":1334746293,"post_id":10205552,"comment_id":13108906,"body_markdown":"What i am trying to reach is exactly like MDB Annotation being implemented at JAVA-EE","body":"What i am trying to reach is exactly like MDB Annotation being implemented at JAVA-EE"},{"owner":{"account_id":95715,"reputation":20966,"user_id":260511,"accept_rate":81,"display_name":"rayman"},"score":0,"creation_date":1334755004,"post_id":10205552,"comment_id":13112610,"body_markdown":"I think I understand you. what I dont get it how each class which is annotated going to use the &#39;listening logic&#39; (open connections and listen to Jms topic/queue..). I dont want different &#39;listening logic&#39; for each listener What I am looking for is that all annotated listeners will be connected to the same &#39;listening logic&#39;. hope you understand my point.. thanks!","body":"I think I understand you. what I dont get it how each class which is annotated going to use the &#39;listening logic&#39; (open connections and listen to Jms topic/queue..). I dont want different &#39;listening logic&#39; for each listener What I am looking for is that all annotated listeners will be connected to the same &#39;listening logic&#39;. hope you understand my point.. thanks!"},{"owner":{"account_id":90063,"reputation":9824,"user_id":248082,"accept_rate":64,"display_name":"nobeh"},"score":0,"creation_date":1334782614,"post_id":10205552,"comment_id":13124689,"body_markdown":"So I should again go back to say that before &quot;Update&quot; section should be enough. Put it simply, all the objects that receive the message extend some _base model_ or implement a common interface. So, the message listener could presumably cast the objects and retrieve the information it needs. I hope this makes sense. I suggest you developed for some extent and play around with the ideas to get closer to what you think would fit best.","body":"So I should again go back to say that before &quot;Update&quot; section should be enough. Put it simply, all the objects that receive the message extend some <i>base model</i> or implement a common interface. So, the message listener could presumably cast the objects and retrieve the information it needs. I hope this makes sense. I suggest you developed for some extent and play around with the ideas to get closer to what you think would fit best."},{"owner":{"account_id":95715,"reputation":20966,"user_id":260511,"accept_rate":81,"display_name":"rayman"},"score":0,"creation_date":1334824147,"post_id":10205552,"comment_id":13134637,"body_markdown":"Hi according to your code you used &quot;StopWatch&quot; why did you use it for? and thats a jboss component if I work on standAlone wont be able to use it.","body":"Hi according to your code you used &quot;StopWatch&quot; why did you use it for? and thats a jboss component if I work on standAlone wont be able to use it."},{"owner":{"account_id":95715,"reputation":20966,"user_id":260511,"accept_rate":81,"display_name":"rayman"},"score":0,"creation_date":1334824501,"post_id":10205552,"comment_id":13134747,"body_markdown":"Same with Reflections and TypeAnnotationsScanner. cant find those classes in the regular API.","body":"Same with Reflections and TypeAnnotationsScanner. cant find those classes in the regular API."},{"owner":{"account_id":90063,"reputation":9824,"user_id":248082,"accept_rate":64,"display_name":"nobeh"},"score":0,"creation_date":1334830427,"post_id":10205552,"comment_id":13137021,"body_markdown":"let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/10270/discussion-between-nobeh-and-rayman)","body":"let us <a href=\"http://chat.stackoverflow.com/rooms/10270/discussion-between-nobeh-and-rayman\">continue this discussion in chat</a>"}],"tags":[],"owner":{"account_id":90063,"reputation":9824,"user_id":248082,"accept_rate":64,"display_name":"nobeh"},"comment_count":10,"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1518094518,"creation_date":1334737317,"answer_id":10205552,"question_id":10205261,"body_markdown":"I recommend to read [this blog entry (snapshot on archive.org)][1] up to the point where the author remembers (s)he has access to Spring&#39;s component scan feature.\r\n\r\nThe initial issue is to scan the class path to find classes with the custom annotation. Once this is done, you have the objects in your standalone application through which using [`object.getClass().getAnnotations()`][2], you can then inject the listeners or custom behavior you need to add to the objects holding the custom annotations.\r\n\r\nLet&#39;s say you have the following custom annotation:\r\n\r\n    @Target({ ElementType.TYPE })\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface MyMessageDriven {}\r\n\r\nAnd you use it some class in you application:\r\n\r\n    @MyMessageDriven\r\n    public class MyObject {}\r\n\r\nNow, in the appropriate location in your application, you should have a method to give out all classes carrying `MyMessageDriven`:\r\n\r\n    Set&lt;Class&lt;?&gt;&gt; findAllMessageDrivenClasses() {\r\n      final StopWatch sw = new StopWatch();\r\n      sw.start();\r\n      final Reflections reflections = new Reflections(&quot;org.projectx&quot;, new TypeAnnotationsScanner());\r\n      Set&lt;Class&lt;?&gt;&gt; allMessageDrivens = reflections.getTypesAnnotatedWith(MyMessageDriven.class); // NOTE HERE\r\n      sw.stop();\r\n      return allMessageDrivens;\r\n    }\r\n\r\nHaving this, I assume that there is a point in your application that either (1) you have access to the objects in your application, or (2) there is a visitor or iterator pattern on all the objects in the application. So, in some point, I assume that we have all targeted objects as `objects`:\r\n\r\n    Set&lt;Class&lt;?&gt;&gt; msgDrivenClasses = findAllMessageDrivenClasses();\r\n    for (Object o : objects) {\r\n      if (msgDrivenClasses.contains(o.getClass()) {\r\n        invokeTheMessageListener(o);\r\n      }\r\n    }\r\n\r\nOn the other hand, there should be some implementation of `MyMessageListener` that is available when the objects having `MyMessageDriven` are found:\r\n\r\n    void invokeTheMessageListener(Object o) {\r\n      theMessageListener.onMessage(o);\r\n    }\r\n\r\nThis answer is tailored from the blog entry so please refer to the blog for configuration of libraries. And, last but not least, this is a sample code for the problem and it can be refactored to more pattern-compatible and elegant style.\r\n\r\n**Update**: There is a requirement that the _targeted_ objects should be aware of their own listeners. So, I&#39;d suggest the following approach. Let&#39;s have an interface `MyMessageListenerAware`:\r\n\r\n    interface MyMessageListenerAware {\r\n      MyMessageListener getMyMessageListener();\r\n    }\r\n\r\n    // and this is the original MyMessageListener\r\n    interface MyMessageListener {\r\n      void onMessage(Object o);\r\n    }\r\n\r\nNow, the target objects should implement the above interface:\r\n\r\n    class MySampleObject implements MyMessageListenerAware {\r\n    \r\n      public MyMesssageListener getMyMessageLisener() {\r\n        return mySampleObjectImplementationOfMyMessageListener;\r\n      }\r\n    \r\n    }\r\n\r\nHaving this, the method `invokeTheMessageListener` becomes like:\r\n\r\n    void invokeMessageListener(Object o) {\r\n      if (o instance MyMessageListenerAware) {\r\n        MyMessageListener l = ((MyMessageListenerAware) o).getMyMessageListener();\r\n        l.onMessage(o);\r\n      }\r\n    }\r\n\r\n**Although**, I strongly recommend reading about [Visitor][3] or [Strategy][4] pattern. What you aim to do seems to me like you need certain objects react/act/process to a common object/event in the application but _each_ with their own interpretation/algorithm/implementation.\r\n\r\n[1]: https://web.archive.org/web/20160731020727/http://techo-ecco.com/blog/spring-custom-annotations/\r\n[2]: http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#getAnnotations()\r\n[3]: http://en.wikipedia.org/wiki/Visitor_pattern\r\n[4]: http://en.wikipedia.org/wiki/Strategy_pattern","title":"How to create custom annotation with code behind","body":"<p>I recommend to read <a href=\"https://web.archive.org/web/20160731020727/http://techo-ecco.com/blog/spring-custom-annotations/\" rel=\"noreferrer\">this blog entry (snapshot on archive.org)</a> up to the point where the author remembers (s)he has access to Spring's component scan feature.</p>\n\n<p>The initial issue is to scan the class path to find classes with the custom annotation. Once this is done, you have the objects in your standalone application through which using <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#getAnnotations()\" rel=\"noreferrer\"><code>object.getClass().getAnnotations()</code></a>, you can then inject the listeners or custom behavior you need to add to the objects holding the custom annotations.</p>\n\n<p>Let's say you have the following custom annotation:</p>\n\n<pre><code>@Target({ ElementType.TYPE })\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface MyMessageDriven {}\n</code></pre>\n\n<p>And you use it some class in you application:</p>\n\n<pre><code>@MyMessageDriven\npublic class MyObject {}\n</code></pre>\n\n<p>Now, in the appropriate location in your application, you should have a method to give out all classes carrying <code>MyMessageDriven</code>:</p>\n\n<pre><code>Set&lt;Class&lt;?&gt;&gt; findAllMessageDrivenClasses() {\n  final StopWatch sw = new StopWatch();\n  sw.start();\n  final Reflections reflections = new Reflections(\"org.projectx\", new TypeAnnotationsScanner());\n  Set&lt;Class&lt;?&gt;&gt; allMessageDrivens = reflections.getTypesAnnotatedWith(MyMessageDriven.class); // NOTE HERE\n  sw.stop();\n  return allMessageDrivens;\n}\n</code></pre>\n\n<p>Having this, I assume that there is a point in your application that either (1) you have access to the objects in your application, or (2) there is a visitor or iterator pattern on all the objects in the application. So, in some point, I assume that we have all targeted objects as <code>objects</code>:</p>\n\n<pre><code>Set&lt;Class&lt;?&gt;&gt; msgDrivenClasses = findAllMessageDrivenClasses();\nfor (Object o : objects) {\n  if (msgDrivenClasses.contains(o.getClass()) {\n    invokeTheMessageListener(o);\n  }\n}\n</code></pre>\n\n<p>On the other hand, there should be some implementation of <code>MyMessageListener</code> that is available when the objects having <code>MyMessageDriven</code> are found:</p>\n\n<pre><code>void invokeTheMessageListener(Object o) {\n  theMessageListener.onMessage(o);\n}\n</code></pre>\n\n<p>This answer is tailored from the blog entry so please refer to the blog for configuration of libraries. And, last but not least, this is a sample code for the problem and it can be refactored to more pattern-compatible and elegant style.</p>\n\n<p><strong>Update</strong>: There is a requirement that the <em>targeted</em> objects should be aware of their own listeners. So, I'd suggest the following approach. Let's have an interface <code>MyMessageListenerAware</code>:</p>\n\n<pre><code>interface MyMessageListenerAware {\n  MyMessageListener getMyMessageListener();\n}\n\n// and this is the original MyMessageListener\ninterface MyMessageListener {\n  void onMessage(Object o);\n}\n</code></pre>\n\n<p>Now, the target objects should implement the above interface:</p>\n\n<pre><code>class MySampleObject implements MyMessageListenerAware {\n\n  public MyMesssageListener getMyMessageLisener() {\n    return mySampleObjectImplementationOfMyMessageListener;\n  }\n\n}\n</code></pre>\n\n<p>Having this, the method <code>invokeTheMessageListener</code> becomes like:</p>\n\n<pre><code>void invokeMessageListener(Object o) {\n  if (o instance MyMessageListenerAware) {\n    MyMessageListener l = ((MyMessageListenerAware) o).getMyMessageListener();\n    l.onMessage(o);\n  }\n}\n</code></pre>\n\n<p><strong>Although</strong>, I strongly recommend reading about <a href=\"http://en.wikipedia.org/wiki/Visitor_pattern\" rel=\"noreferrer\">Visitor</a> or <a href=\"http://en.wikipedia.org/wiki/Strategy_pattern\" rel=\"noreferrer\">Strategy</a> pattern. What you aim to do seems to me like you need certain objects react/act/process to a common object/event in the application but <em>each</em> with their own interpretation/algorithm/implementation.</p>\n"},{"comments":[{"owner":{"account_id":95715,"reputation":20966,"user_id":260511,"accept_rate":81,"display_name":"rayman"},"score":0,"creation_date":1334739800,"post_id":10205864,"comment_id":13106349,"body_markdown":"Hi, But two things: where do I put my listener implementation? and how do I inject it into MyMessage class. second when/where do I need to use the execution code you wrote below?","body":"Hi, But two things: where do I put my listener implementation? and how do I inject it into MyMessage class. second when/where do I need to use the execution code you wrote below?"},{"owner":{"account_id":250725,"reputation":9776,"user_id":527617,"accept_rate":69,"display_name":"UVM"},"score":0,"creation_date":1334742626,"post_id":10205864,"comment_id":13107412,"body_markdown":"In normal MDBs, we are executing some business logic, right.That is executed automatically.So how this happens is your MDB is loaded.2.Once it is loaded, check whether annotation is present.3.If annotation is present, you cast this loaded class to MyMessageListener interface.That is the code I have shown you.But keep it mind that all these mechanism are happening inside the framework that is abstracted.I am talking that scenario only.4.Now framework, is doing some operation like , getting the message from queue or do some operation.5.Then it is calling messagelistener.message() method.","body":"In normal MDBs, we are executing some business logic, right.That is executed automatically.So how this happens is your MDB is loaded.2.Once it is loaded, check whether annotation is present.3.If annotation is present, you cast this loaded class to MyMessageListener interface.That is the code I have shown you.But keep it mind that all these mechanism are happening inside the framework that is abstracted.I am talking that scenario only.4.Now framework, is doing some operation like , getting the message from queue or do some operation.5.Then it is calling messagelistener.message() method."},{"owner":{"account_id":95715,"reputation":20966,"user_id":260511,"accept_rate":81,"display_name":"rayman"},"score":0,"creation_date":1334745228,"post_id":10205864,"comment_id":13108499,"body_markdown":"Could you show where do I implement the &quot;Listening&quot; logic. and how it will be connected to the annotated classes.","body":"Could you show where do I implement the &quot;Listening&quot; logic. and how it will be connected to the annotated classes."},{"owner":{"account_id":250725,"reputation":9776,"user_id":527617,"accept_rate":69,"display_name":"UVM"},"score":0,"creation_date":1334827501,"post_id":10205864,"comment_id":13135864,"body_markdown":"Just imagine framework as the code that loads MyMessage class.Just visualize this piece of code has extracted from a similar framework.Now &quot;Listening&quot; means an event just fired due to some action.That is what you are going to write inside the message method.Because it is an implementation of a contract.Here you DO NOT WORRY about how the listener is getting invoked.That part is handled automatically by the above of piece of code when the MyMessageListener class is having that attribute.","body":"Just imagine framework as the code that loads MyMessage class.Just visualize this piece of code has extracted from a similar framework.Now &quot;Listening&quot; means an event just fired due to some action.That is what you are going to write inside the message method.Because it is an implementation of a contract.Here you DO NOT WORRY about how the listener is getting invoked.That part is handled automatically by the above of piece of code when the MyMessageListener class is having that attribute."}],"tags":[],"owner":{"account_id":250725,"reputation":9776,"user_id":527617,"accept_rate":69,"display_name":"UVM"},"comment_count":4,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1480499942,"creation_date":1334738644,"answer_id":10205864,"question_id":10205261,"body_markdown":" create an annotation something like this:\r\n\r\n     public @interface MyMessageDriven{\r\n     }\r\n\r\n And you have an interface that can apply annotation like this:\r\n\r\n \r\n\r\n    public interface MyMessagListener {\r\n    \r\n        public void message();\r\n    }\r\n\r\n\r\n\r\n    @MyMessageDriven  \r\n    public class MyMessage implements MyMessagListener  {\r\n       public void message(){\r\n         System.out.println(&quot; I am executed&quot;)\r\n       }\r\n    } \r\n\r\n\r\n Load the above class using classloader and using reflections check the annotation is presrent.\r\n\r\n if it is present, use loaded instance to execute it.\r\n  \r\n\r\n      Object obj = ClassLoader.getSystemClassLoader().loadClass(&quot;MyMessage&quot;).newInstance();\r\n      MyMessagListener mml =  (MyMessagListener) obj;\r\n      mml.message();\r\n\r\n \r\n \r\nListener implementation you can put in MyMessage class or some other class that implements MessageListener.\r\n\r\nIn this case, need to provide implementation for `message()` what it is going to do.\r\n\r\nBut this class should be loaded  and  more important thing here is how your MyMessage class is loaded.\r\n\r\nThat is based on the meta data present in the MyMessage class.Similar way, in the real time scenario as well this is how it works. \r\n\r\nAnnotation is a metadata  to a class that says based on the supplied data, do something.Had this metadata not present in the MyMessage class, you need  not execute `message()` method.\r\n\r\nHope this will help you.\r\n","title":"How to create custom annotation with code behind","body":"<p>create an annotation something like this:</p>\n\n<pre><code> public @interface MyMessageDriven{\n }\n</code></pre>\n\n<p>And you have an interface that can apply annotation like this:</p>\n\n<pre><code>public interface MyMessagListener {\n\n    public void message();\n}\n\n\n\n@MyMessageDriven  \npublic class MyMessage implements MyMessagListener  {\n   public void message(){\n     System.out.println(\" I am executed\")\n   }\n} \n</code></pre>\n\n<p>Load the above class using classloader and using reflections check the annotation is presrent.</p>\n\n<p>if it is present, use loaded instance to execute it.</p>\n\n<pre><code>  Object obj = ClassLoader.getSystemClassLoader().loadClass(\"MyMessage\").newInstance();\n  MyMessagListener mml =  (MyMessagListener) obj;\n  mml.message();\n</code></pre>\n\n<p>Listener implementation you can put in MyMessage class or some other class that implements MessageListener.</p>\n\n<p>In this case, need to provide implementation for <code>message()</code> what it is going to do.</p>\n\n<p>But this class should be loaded  and  more important thing here is how your MyMessage class is loaded.</p>\n\n<p>That is based on the meta data present in the MyMessage class.Similar way, in the real time scenario as well this is how it works. </p>\n\n<p>Annotation is a metadata  to a class that says based on the supplied data, do something.Had this metadata not present in the MyMessage class, you need  not execute <code>message()</code> method.</p>\n\n<p>Hope this will help you.</p>\n"}],"owner":{"account_id":95715,"reputation":20966,"user_id":260511,"accept_rate":81,"display_name":"rayman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69200,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":10205552,"answer_count":2,"score":43,"last_activity_date":1664536948,"creation_date":1334735882,"question_id":10205261,"body_markdown":"I would like to create my own custom annotation.  My framework is stand alone Java application.  When someone annotate his pojo class a &quot;hidden&quot; code behind will trigger methods.\r\n\r\nFor example, today in Java EE we have `@MessageDriven` annotation.\r\nAnd when you annotate your class with `@MessageDriven` and in addition implement MessageListener Interface there is a behind code that will trigger `onMessage(Message msg)`. when a message arrives from a Queue/Topic.\r\n\r\n\r\nHow do I create an annotation (`@MyMessageDriven`) which could be added to a pojo and also  implement `MyCustomMessageListener`. \r\n\r\nThe result which I desire is a trigger of &quot;hidden&quot; code (of mine) which will trigger a method of an implemented interface (exactly as it works with the sample i Wrote below).","title":"How to create custom annotation with code behind","body":"<p>I would like to create my own custom annotation.  My framework is stand alone Java application.  When someone annotate his pojo class a &quot;hidden&quot; code behind will trigger methods.</p>\n<p>For example, today in Java EE we have <code>@MessageDriven</code> annotation.\nAnd when you annotate your class with <code>@MessageDriven</code> and in addition implement MessageListener Interface there is a behind code that will trigger <code>onMessage(Message msg)</code>. when a message arrives from a Queue/Topic.</p>\n<p>How do I create an annotation (<code>@MyMessageDriven</code>) which could be added to a pojo and also  implement <code>MyCustomMessageListener</code>.</p>\n<p>The result which I desire is a trigger of &quot;hidden&quot; code (of mine) which will trigger a method of an implemented interface (exactly as it works with the sample i Wrote below).</p>\n"},{"tags":["java","scala","scala-compiler"],"answers":[{"tags":[],"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664536816,"creation_date":1533568543,"answer_id":51710823,"question_id":51705335,"body_markdown":"Try\r\n\r\n    Settings s = new Settings();\r\n    MutableSettings.BooleanSetting usejavacp = s.usejavacp(); // added\r\n    usejavacp.value_$eq(true); // added\r\n    Global g = new Global(s);\r\n    Global.Run run = g.new Run();\r\n    List&lt;String&gt; files = new LinkedList&lt;&gt;();\r\n\r\n    files.add(&quot;src/main/java/scala/rules/ScalaRuleBasedStrategy.scala&quot;);\r\n\r\n    run.compile(\r\n      JavaConverters.asScalaBufferConverter(files)\r\n        .asScala().toList()\r\n    );","title":"Exception while compiling scala code from Java program","body":"<p>Try</p>\n<pre><code>Settings s = new Settings();\nMutableSettings.BooleanSetting usejavacp = s.usejavacp(); // added\nusejavacp.value_$eq(true); // added\nGlobal g = new Global(s);\nGlobal.Run run = g.new Run();\nList&lt;String&gt; files = new LinkedList&lt;&gt;();\n\nfiles.add(&quot;src/main/java/scala/rules/ScalaRuleBasedStrategy.scala&quot;);\n\nrun.compile(\n  JavaConverters.asScalaBufferConverter(files)\n    .asScala().toList()\n);\n</code></pre>\n"}],"owner":{"account_id":12377767,"reputation":87,"user_id":9024779,"display_name":"user9024779"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664536816,"creation_date":1533550570,"question_id":51705335,"body_markdown":"I have the following code to compile scala code at runtime in a Java program\r\n\r\n\r\n        Settings s = new Settings();\r\n        Global g = new Global(s);\r\n        Global.Run run = g.new Run();\r\n        List&lt;String&gt; files = new LinkedList&lt;&gt;();\r\n\r\n        files.add(&quot;src/main/java/scala/rules/ScalaRuleBasedStrategy.scala&quot;);\r\n        \r\n        run.compile(JavaConverters.asScalaBufferConverter(files)\r\n         .asScala().toList());\r\n\r\nBut I am getting this error:\r\n\r\n\r\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: scala.tools.nsc.Global$gen$.mkBlock(Lscala/collection/immutable/List;)Lscala/reflect/internal/Trees$Tree;\r\n\tat scala.tools.nsc.ast.parser.TreeBuilder.makeBlock(TreeBuilder.scala:110)\r\n\tat scala.tools.nsc.ast.parser.Parsers$Parser.block(Parsers.scala:1689)\r\n\r\n\r\n\r\n\r\n","title":"Exception while compiling scala code from Java program","body":"<p>I have the following code to compile scala code at runtime in a Java program</p>\n\n<pre><code>    Settings s = new Settings();\n    Global g = new Global(s);\n    Global.Run run = g.new Run();\n    List&lt;String&gt; files = new LinkedList&lt;&gt;();\n\n    files.add(\"src/main/java/scala/rules/ScalaRuleBasedStrategy.scala\");\n\n    run.compile(JavaConverters.asScalaBufferConverter(files)\n     .asScala().toList());\n</code></pre>\n\n<p>But I am getting this error:</p>\n\n<p>Exception in thread \"main\" java.lang.NoSuchMethodError: scala.tools.nsc.Global$gen$.mkBlock(Lscala/collection/immutable/List;)Lscala/reflect/internal/Trees$Tree;\n    at scala.tools.nsc.ast.parser.TreeBuilder.makeBlock(TreeBuilder.scala:110)\n    at scala.tools.nsc.ast.parser.Parsers$Parser.block(Parsers.scala:1689)</p>\n"},{"tags":["java","android","kotlin","android-layout","android-bottomsheetdialog"],"answers":[{"tags":[],"owner":{"account_id":5523754,"reputation":19832,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-oz·¥â ûS „ÉÑ"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664536651,"creation_date":1664536651,"answer_id":73907909,"question_id":73906558,"body_markdown":"To avoid deprecation you can use this method and the rest leave like you were doing: \r\n\r\n```\r\n@RequiresApi(api = Build.VERSION_CODES.M)\r\nprivate fun setWhiteNavigationBar(dialog: Dialog) {\r\n        val window = dialog.window\r\n        window?.let {\r\n            val displayMetrics = getDisplayMetrics(it)\r\n            val dimDrawable = GradientDrawable()\r\n            val navigationBarDrawable = GradientDrawable()\r\n            navigationBarDrawable.shape = GradientDrawable.RECTANGLE\r\n            navigationBarDrawable.setColor(Color.WHITE)\r\n            val layers = arrayOf(dimDrawable, navigationBarDrawable)\r\n            val windowBackground = LayerDrawable(layers)\r\n            windowBackground.setLayerInsetTop(1, displayMetrics.heightPixels)\r\n            it.setBackgroundDrawable(windowBackground)\r\n        }\r\n    }\r\n\r\nprivate fun getDisplayMetrics(window: Window): DisplayMetrics {\r\n        return if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n            val defaultDisplay =\r\n                DisplayManagerCompat.getInstance(requireContext())\r\n                    .getDisplay(Display.DEFAULT_DISPLAY)\r\n            val displayContext = requireContext().createDisplayContext(defaultDisplay!!)\r\n            displayContext.resources.displayMetrics\r\n        } else {\r\n            val displayMetrics = DisplayMetrics()\r\n            @Suppress(&quot;DEPRECATION&quot;)\r\n            window.windowManager.defaultDisplay.getMetrics(displayMetrics)\r\n            displayMetrics\r\n        }\r\n    }\r\n```\r\n\r\nMore info in [`Display Manager Compat`](https://developer.android.com/reference/androidx/core/hardware/display/DisplayManagerCompat)","title":"BottomSheetDialogFragment not painting nav bar android","body":"<p>To avoid deprecation you can use this method and the rest leave like you were doing:</p>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.M)\nprivate fun setWhiteNavigationBar(dialog: Dialog) {\n        val window = dialog.window\n        window?.let {\n            val displayMetrics = getDisplayMetrics(it)\n            val dimDrawable = GradientDrawable()\n            val navigationBarDrawable = GradientDrawable()\n            navigationBarDrawable.shape = GradientDrawable.RECTANGLE\n            navigationBarDrawable.setColor(Color.WHITE)\n            val layers = arrayOf(dimDrawable, navigationBarDrawable)\n            val windowBackground = LayerDrawable(layers)\n            windowBackground.setLayerInsetTop(1, displayMetrics.heightPixels)\n            it.setBackgroundDrawable(windowBackground)\n        }\n    }\n\nprivate fun getDisplayMetrics(window: Window): DisplayMetrics {\n        return if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n            val defaultDisplay =\n                DisplayManagerCompat.getInstance(requireContext())\n                    .getDisplay(Display.DEFAULT_DISPLAY)\n            val displayContext = requireContext().createDisplayContext(defaultDisplay!!)\n            displayContext.resources.displayMetrics\n        } else {\n            val displayMetrics = DisplayMetrics()\n            @Suppress(&quot;DEPRECATION&quot;)\n            window.windowManager.defaultDisplay.getMetrics(displayMetrics)\n            displayMetrics\n        }\n    }\n</code></pre>\n<p>More info in <a href=\"https://developer.android.com/reference/androidx/core/hardware/display/DisplayManagerCompat\" rel=\"nofollow noreferrer\"><code>Display Manager Compat</code></a></p>\n"}],"owner":{"account_id":5441953,"reputation":683,"user_id":4329781,"accept_rate":57,"display_name":"StuartDTO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73907909,"answer_count":1,"score":0,"last_activity_date":1664536651,"creation_date":1664529696,"question_id":73906558,"body_markdown":"I&#39;m using the `BottomSheetDialogFragment` and I&#39;m overriding this to add my theme : \r\n\r\n```\r\noverride fun getTheme() = R.style.BottomSheetDialogTheme\r\n```\r\n\r\nWhere this style looks like : \r\n\r\n```\r\n&lt;style name=&quot;BottomSheetDialogTheme&quot; parent=&quot;Theme.Design.Light.BottomSheetDialog&quot;&gt;\r\n  &lt;item name=&quot;bottomSheetStyle&quot;&gt;@style/btmsheetStyle&lt;/item&gt;\r\n  &lt;item name=&quot;android:navigationBarColor&quot;&gt;@color/white&lt;/item&gt;\r\n&lt;/style&gt;\r\n\r\n&lt;style name=&quot;btmsheetStyle&quot; parent=&quot;Widget.Design.BottomSheet.Modal&quot;&gt;\r\n  &lt;item name=&quot;android:backbround&quot;&gt;@drawable/rounded_dialog&lt;/item&gt;\r\n&lt;/style&gt;\r\n```\r\n\r\nMy idea is to have the `BottomSheetDialogFragment` as the right image but is showing as the left one \r\n[![enter image description here][1]][1]\r\n\r\nI ended up doing a _hack_ to make it work but the problem is that I&#39;m using a deprecated method and perhaps in `Android R` it crashes, so I would like to make it better.\r\n\r\nThis is how I ended up doing the white nav bar android\r\n\r\n```\r\n@RequiresApi(api = Build.VERSION_CODES.M)\r\nprivate fun setWhiteNavigationBar(dialog: Dialog) {\r\n   val window = dialog.window\r\n   window?.let {\r\n      val displayMetrics = DisplayMetrics()\r\n      it.windowManager.defaultDisplay.getMetrics(displayMetrics) &lt;-- deprecated\r\n      val navigationBarDrawable = GradientDrawable()\r\n      navigationBarDrawable.shape = GradientDrawable.RECTANGLE\r\n      navigationBarDrawable.setColor(Color.WHITE)\r\n      val layers = arrayOf(navigationBarDrawable)\r\n      val windowBackground = LayerDrawable(layer)\r\n      windowBackground.setLayerInsetTop(1, displayMetrics.heightPixels)\r\n      it.setBackgroundDrawable(windowBackground)\r\n   }\r\n}\r\n\r\noverride fun onCreateDialog(savedInstanceState: Bunde?): Dialog {\r\n   val dialog = super.onCreateDialog(savedInstanceState)\r\n   if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O_MR1) {\r\n      setWhiteNavigationBar(dialog)\r\n   }\r\n   return dialog\r\n}\r\n```\r\n\r\nIt does work, but I don&#39;t like the deprecated stuff, is there any way to make it better? With style, and avoid having overriding creating dialogs etc?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kPVEm.png","title":"BottomSheetDialogFragment not painting nav bar android","body":"<p>I'm using the <code>BottomSheetDialogFragment</code> and I'm overriding this to add my theme :</p>\n<pre><code>override fun getTheme() = R.style.BottomSheetDialogTheme\n</code></pre>\n<p>Where this style looks like :</p>\n<pre><code>&lt;style name=&quot;BottomSheetDialogTheme&quot; parent=&quot;Theme.Design.Light.BottomSheetDialog&quot;&gt;\n  &lt;item name=&quot;bottomSheetStyle&quot;&gt;@style/btmsheetStyle&lt;/item&gt;\n  &lt;item name=&quot;android:navigationBarColor&quot;&gt;@color/white&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;btmsheetStyle&quot; parent=&quot;Widget.Design.BottomSheet.Modal&quot;&gt;\n  &lt;item name=&quot;android:backbround&quot;&gt;@drawable/rounded_dialog&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>My idea is to have the <code>BottomSheetDialogFragment</code> as the right image but is showing as the left one\n<a href=\"https://i.stack.imgur.com/kPVEm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kPVEm.png\" alt=\"enter image description here\" /></a></p>\n<p>I ended up doing a <em>hack</em> to make it work but the problem is that I'm using a deprecated method and perhaps in <code>Android R</code> it crashes, so I would like to make it better.</p>\n<p>This is how I ended up doing the white nav bar android</p>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.M)\nprivate fun setWhiteNavigationBar(dialog: Dialog) {\n   val window = dialog.window\n   window?.let {\n      val displayMetrics = DisplayMetrics()\n      it.windowManager.defaultDisplay.getMetrics(displayMetrics) &lt;-- deprecated\n      val navigationBarDrawable = GradientDrawable()\n      navigationBarDrawable.shape = GradientDrawable.RECTANGLE\n      navigationBarDrawable.setColor(Color.WHITE)\n      val layers = arrayOf(navigationBarDrawable)\n      val windowBackground = LayerDrawable(layer)\n      windowBackground.setLayerInsetTop(1, displayMetrics.heightPixels)\n      it.setBackgroundDrawable(windowBackground)\n   }\n}\n\noverride fun onCreateDialog(savedInstanceState: Bunde?): Dialog {\n   val dialog = super.onCreateDialog(savedInstanceState)\n   if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O_MR1) {\n      setWhiteNavigationBar(dialog)\n   }\n   return dialog\n}\n</code></pre>\n<p>It does work, but I don't like the deprecated stuff, is there any way to make it better? With style, and avoid having overriding creating dialogs etc?</p>\n"},{"tags":["javascript","java","android","oncreate","frida"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1664267715,"post_id":73855422,"comment_id":130426358,"body_markdown":"Is the Java code from the decompiled APK file? Because a private method that is never used may be removed by the compiler. Therefore I recommend to only use the decompiled code e.g. generated by Jadx as source for writing Frida hooking code.","body":"Is the Java code from the decompiled APK file? Because a private method that is never used may be removed by the compiler. Therefore I recommend to only use the decompiled code e.g. generated by Jadx as source for writing Frida hooking code."},{"owner":{"account_id":20785592,"reputation":11,"user_id":15264876,"display_name":"Saksham Jain"},"score":0,"creation_date":1664269953,"post_id":73855422,"comment_id":130427085,"body_markdown":"yes, above java code is from decompiled APK file using jadx.  Also please tell if I can access variables that are local to  a function in my javascript code.","body":"yes, above java code is from decompiled APK file using jadx.  Also please tell if I can access variables that are local to  a function in my javascript code."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1664377546,"post_id":73855422,"comment_id":130458856,"body_markdown":"Are you sure your Frida code is correctly executed? Because `MainActivity.onCreate.overload(&quot;android.os.bundle&quot;)` can not work as the class `Bundle` is written with a big B at the beginning (see import in the decompiled Java code).","body":"Are you sure your Frida code is correctly executed? Because <code>MainActivity.onCreate.overload(&quot;android.os.bundle&quot;)</code> can not work as the class <code>Bundle</code> is written with a big B at the beginning (see import in the decompiled Java code)."},{"owner":{"account_id":20785592,"reputation":11,"user_id":15264876,"display_name":"Saksham Jain"},"score":0,"creation_date":1664536309,"post_id":73855422,"comment_id":130499823,"body_markdown":"@Robert Yes, I realized it later and made it &#39;B&#39;. After some more research, I was able to call onCreate() method but was still unable to call unreachable() from onCreate() method.  I have also updated my frida code that helped me to call onCreate(). Please take a look at it.","body":"@Robert Yes, I realized it later and made it &#39;B&#39;. After some more research, I was able to call onCreate() method but was still unable to call unreachable() from onCreate() method.  I have also updated my frida code that helped me to call onCreate(). Please take a look at it."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1664537970,"post_id":73855422,"comment_id":130500370,"body_markdown":"Instead of using the Java syntax `this.unreachable();` for calling the method I would try to call the method using Frida&#39;s `call` method (see e.g. here https://stackoverflow.com/a/72258321/150978). Alternatively you could use Java reflection in Frida code to get a reference to the method, make it callable and then call it.","body":"Instead of using the Java syntax <code>this.unreachable();</code> for calling the method I would try to call the method using Frida&#39;s <code>call</code> method (see e.g. here <a href=\"https://stackoverflow.com/a/72258321/150978\">stackoverflow.com/a/72258321/150978</a>). Alternatively you could use Java reflection in Frida code to get a reference to the method, make it callable and then call it."}],"owner":{"account_id":20785592,"reputation":11,"user_id":15264876,"display_name":"Saksham Jain"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":920,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1664536615,"creation_date":1664201472,"question_id":73855422,"body_markdown":"I am trying to hook onCreate() of android application using frida. Here is my activity code - .\r\n```\r\npackage com.example;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.os.Bundle;\r\nimport android.telephony.TelephonyManager;\r\nimport android.util.Log;\r\n\r\npublic class UnreachableCode extends Activity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_unreachable_code);\r\n    }\r\n\r\n    //this method is never called\r\n  \tprivate void unreachable(){\r\n  \t\tTelephonyManager tm =(TelephonyManager)getBaseContext().getSystemService(Context.TELEPHONY_SERVICE);\r\n  \t\tString deviceid = tm.getDeviceId();\r\n  \t\t\r\n  \t\tLog.i(&quot;ID&quot;, deviceid);\r\n  \t}\r\n    \r\n}\r\n\r\n```\r\nNow, in above code unreachable() is never called. But I want to override onCreate() and want to call unreachable() from it.\r\nI have tried following code --\r\n```\r\nimport frida\r\nimport sys\r\n\r\ndef on_message(message,data):\r\n\tprint(message)\r\n\r\njscode = &quot;&quot;&quot;Java.perform(function() {\r\n console.log(&quot;[ * ] Starting implementation override...&quot;)\r\n var MainActivity = Java.use(&quot;com.example.UnreachableCode&quot;);\r\n MainActivity.onCreate.overload(&quot;android.os.Bundle&quot;).implementation = function(var_0){\r\n     var ret = this.onCreate.overload(&quot;android.os.Bundle&quot;).call(this,var_0);\r\n     console.log(&quot;[ + ] Calling function unreachable&quot;);\r\n     this.unreachable();\r\n };\r\n send(&quot;Hooks installed.&quot;);\r\n});\r\n&quot;&quot;&quot;\r\ntry:\r\n\tdevice = frida.get_usb_device().attach(&#39;com.example&#39;)\r\n\tscript = device.create_script(jscode)\r\n\tscript.on(&#39;message&#39;,on_message)\r\n\tprint(&#39;[ * ] Running Frida Demo application, Loading script now&#39;)\r\n\tscript.load()\r\n\tsys.stdin.read()\r\nexcept KeyboardInterrupt:\r\n    print (&quot;[!] Killing app...&quot;)\r\n```\r\nThis is not working. I am not much familiar with frida, so I need expert&#39;s advice. \r\nfrida version -- 15.2.2, \r\nAndroid - 9                                                                      \r\n                                                                               \r\nEdit ---- Updated second block of code.\r\n","title":"unable to hook onCreate() using frida for android application","body":"<p>I am trying to hook onCreate() of android application using frida. Here is my activity code - .</p>\n<pre><code>package com.example;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.os.Bundle;\nimport android.telephony.TelephonyManager;\nimport android.util.Log;\n\npublic class UnreachableCode extends Activity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_unreachable_code);\n    }\n\n    //this method is never called\n    private void unreachable(){\n        TelephonyManager tm =(TelephonyManager)getBaseContext().getSystemService(Context.TELEPHONY_SERVICE);\n        String deviceid = tm.getDeviceId();\n        \n        Log.i(&quot;ID&quot;, deviceid);\n    }\n    \n}\n\n</code></pre>\n<p>Now, in above code unreachable() is never called. But I want to override onCreate() and want to call unreachable() from it.\nI have tried following code --</p>\n<pre><code>import frida\nimport sys\n\ndef on_message(message,data):\n    print(message)\n\njscode = &quot;&quot;&quot;Java.perform(function() {\n console.log(&quot;[ * ] Starting implementation override...&quot;)\n var MainActivity = Java.use(&quot;com.example.UnreachableCode&quot;);\n MainActivity.onCreate.overload(&quot;android.os.Bundle&quot;).implementation = function(var_0){\n     var ret = this.onCreate.overload(&quot;android.os.Bundle&quot;).call(this,var_0);\n     console.log(&quot;[ + ] Calling function unreachable&quot;);\n     this.unreachable();\n };\n send(&quot;Hooks installed.&quot;);\n});\n&quot;&quot;&quot;\ntry:\n    device = frida.get_usb_device().attach('com.example')\n    script = device.create_script(jscode)\n    script.on('message',on_message)\n    print('[ * ] Running Frida Demo application, Loading script now')\n    script.load()\n    sys.stdin.read()\nexcept KeyboardInterrupt:\n    print (&quot;[!] Killing app...&quot;)\n</code></pre>\n<p>This is not working. I am not much familiar with frida, so I need expert's advice.\nfrida version -- 15.2.2,\nAndroid - 9</p>\n<p>Edit ---- Updated second block of code.</p>\n"},{"tags":["java","spring","spring-boot","annotations"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1664536531,"post_id":73907839,"comment_id":130499887,"body_markdown":"Annotations on their own **never** do anything, they are purely metadata. There&#39;s basically two ways to make annotations do stuff: 1. The Spring way where at runtime it carefully constructs objects/proxies/... for you taking the annotations into account, but in the end creating &quot;normal&quot; objects. 2. the Lombok way where they literally patch the compiler to allow annotations to have effect that they are not meant to have (which I call &quot;cheating&quot; ;-)). What you did with the aspect could work, but only if the relevant objects are created by spring itself (i.e. doing `new Dragon()` won&#39;t work).","body":"Annotations on their own <b>never</b> do anything, they are purely metadata. There&#39;s basically two ways to make annotations do stuff: 1. The Spring way where at runtime it carefully constructs objects/proxies/... for you taking the annotations into account, but in the end creating &quot;normal&quot; objects. 2. the Lombok way where they literally patch the compiler to allow annotations to have effect that they are not meant to have (which I call &quot;cheating&quot; ;-)). What you did with the aspect could work, but only if the relevant objects are created by spring itself (i.e. doing <code>new Dragon()</code> won&#39;t work)."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1664536544,"post_id":73907839,"comment_id":130499893,"body_markdown":"Please read https://www.baeldung.com/java-annotation-processing-builder","body":"Please read <a href=\"https://www.baeldung.com/java-annotation-processing-builder\" rel=\"nofollow noreferrer\">baeldung.com/java-annotation-processing-builder</a>"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1664536595,"post_id":73907839,"comment_id":130499912,"body_markdown":"@JoachimSauer this is not cheating. It&#39;s called annotation processing checkout the link above","body":"@JoachimSauer this is not cheating. It&#39;s called annotation processing checkout the link above"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1664536673,"post_id":73907839,"comment_id":130499937,"body_markdown":"@SimonMartinelli: Lombok isn&#39;t implemented using annotation processing (or more precisely: not **just** using annotation processing). If you use annotation processing you can&#39;t modify the annotated types themselves, only generate additional ones. Lombok hooks into the compiler to do what it does, which is hacky (as noted in the link you provided above as well!).","body":"@SimonMartinelli: Lombok isn&#39;t implemented using annotation processing (or more precisely: not <b>just</b> using annotation processing). If you use annotation processing you can&#39;t modify the annotated types themselves, only generate additional ones. Lombok hooks into the compiler to do what it does, which is hacky (as noted in the link you provided above as well!)."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1664537956,"post_id":73907839,"comment_id":130500364,"body_markdown":"I agree with JoachimSauer Lombok wants to improve the language patching in boiler plate code. The result seems an &quot;improved&quot; java, more terse code. However going with such hacking development might hamper things like using the `record` class. For this question: use annotation processing to generate shadow generated-classes. The original classes need not be deployed. This assumes a build pipeline like maven or gradle.","body":"I agree with JoachimSauer Lombok wants to improve the language patching in boiler plate code. The result seems an &quot;improved&quot; java, more terse code. However going with such hacking development might hamper things like using the <code>record</code> class. For this question: use annotation processing to generate shadow generated-classes. The original classes need not be deployed. This assumes a build pipeline like maven or gradle."}],"owner":{"account_id":17090435,"reputation":253,"user_id":16862042,"display_name":"Victor"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1664537025,"answer_count":0,"score":0,"last_activity_date":1664536275,"creation_date":1664536275,"question_id":73907839,"body_markdown":"I&#39;m studying the annotations and I&#39;m trying to create a custom annotation like Lombook annotations (@Getter and @Setter), that is, an annotation that works as a method.\r\n\r\nI have my annotation:\r\n\r\n```\r\npackage com.example.demo.annotations;\r\n\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Target({ElementType.TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface Dragonrider {\r\n    String name();\r\n}\r\n```\r\n\r\nI have a class that use this annotation:\r\n```\r\npackage com.example.demo.model;\r\n\r\nimport com.example.demo.annotations.Dragonrider;\r\n\r\n@Dragonrider(name = &quot;Daenerys&quot;)\r\npublic class Dragon {\r\n    String name;\r\n    boolean hasFire;\r\n    double weight;\r\n\r\n    public Dragon(String name, boolean hasFire, double weight){\r\n        this.name = name;\r\n        this.hasFire = hasFire;\r\n        this.weight = weight;\r\n    }\r\n\r\n    public void dracarys() {\r\n        System.out.println(&quot;DRACARYS!&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI don‚Äôt know how to go from here. I have tried to create an Aspect to intercept the annotation like this:\r\n\r\n```\r\npackage com.example.demo.annotations;\r\n\r\nimport org.aspectj.lang.annotation.After;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\n@Aspect\r\npublic class DragonriderAspect {\r\n    @After(&quot;@annotation(com.example.demo.annotations.Dragonrider)&quot;)\r\n    public void fly(){\r\n        System.out.println(&quot;Is flying!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nBut it does not works.\r\n\r\nI don&#39;t know how the custom annotation works, I guess creating an Aspect isn&#39;t what I need.","title":"How to create a custom annotation which does something in Java?","body":"<p>I'm studying the annotations and I'm trying to create a custom annotation like Lombook annotations (@Getter and @Setter), that is, an annotation that works as a method.</p>\n<p>I have my annotation:</p>\n<pre><code>package com.example.demo.annotations;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target({ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Dragonrider {\n    String name();\n}\n</code></pre>\n<p>I have a class that use this annotation:</p>\n<pre><code>package com.example.demo.model;\n\nimport com.example.demo.annotations.Dragonrider;\n\n@Dragonrider(name = &quot;Daenerys&quot;)\npublic class Dragon {\n    String name;\n    boolean hasFire;\n    double weight;\n\n    public Dragon(String name, boolean hasFire, double weight){\n        this.name = name;\n        this.hasFire = hasFire;\n        this.weight = weight;\n    }\n\n    public void dracarys() {\n        System.out.println(&quot;DRACARYS!&quot;);\n    }\n\n}\n</code></pre>\n<p>I don‚Äôt know how to go from here. I have tried to create an Aspect to intercept the annotation like this:</p>\n<pre><code>package com.example.demo.annotations;\n\nimport org.aspectj.lang.annotation.After;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.springframework.stereotype.Component;\n\n@Component\n@Aspect\npublic class DragonriderAspect {\n    @After(&quot;@annotation(com.example.demo.annotations.Dragonrider)&quot;)\n    public void fly(){\n        System.out.println(&quot;Is flying!&quot;);\n    }\n}\n</code></pre>\n<p>But it does not works.</p>\n<p>I don't know how the custom annotation works, I guess creating an Aspect isn't what I need.</p>\n"},{"tags":["java","smb"],"comments":[{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":1,"creation_date":1664535913,"post_id":73907727,"comment_id":130499687,"body_markdown":"at a glance i can&#39;t tell: 1) whats the protocol being used? perhaps you are missing some tags; 2) have you doubly, no, triple checked the credentials? given the error message says about something wrong in username/password; 3) have you tested the remote using something else but your java code?","body":"at a glance i can&#39;t tell: 1) whats the protocol being used? perhaps you are missing some tags; 2) have you doubly, no, triple checked the credentials? given the error message says about something wrong in username/password; 3) have you tested the remote using something else but your java code?"},{"owner":{"account_id":5508017,"reputation":5986,"user_id":4375327,"accept_rate":76,"display_name":"Amessihel"},"score":0,"creation_date":1664536067,"post_id":73907727,"comment_id":130499737,"body_markdown":"@BagusTesa, the protocole seems to be [SMB](https://en.wikipedia.org/wiki/Server_Message_Block).","body":"@BagusTesa, the protocole seems to be <a href=\"https://en.wikipedia.org/wiki/Server_Message_Block\" rel=\"nofollow noreferrer\">SMB</a>."},{"owner":{"account_id":5508017,"reputation":5986,"user_id":4375327,"accept_rate":76,"display_name":"Amessihel"},"score":2,"creation_date":1664536115,"post_id":73907727,"comment_id":130499757,"body_markdown":"`catch (Exception e) {}`... Tssk tssk. :)","body":"<code>catch (Exception e) {}</code>... Tssk tssk. :)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664541245,"post_id":73907727,"comment_id":130501368,"body_markdown":"Don&#39;t restrict the amount of error information in any way. You want ```e.printStackTrace();```","body":"Don&#39;t restrict the amount of error information in any way. You want <code>e.printStackTrace();</code>"},{"owner":{"account_id":10324320,"reputation":163,"user_id":7616225,"display_name":"Laurens Wolf"},"score":0,"creation_date":1664626441,"post_id":73907727,"comment_id":130517410,"body_markdown":"I will try the e.printstacktrace and post the result here on monday! And yes we use the smb protocol, can it be a problem? Since it does work the other way around? Sorry if there are some major errors we are not java developers here, but we do need to work with java verry occasionally","body":"I will try the e.printstacktrace and post the result here on monday! And yes we use the smb protocol, can it be a problem? Since it does work the other way around? Sorry if there are some major errors we are not java developers here, but we do need to work with java verry occasionally"},{"owner":{"account_id":10324320,"reputation":163,"user_id":7616225,"display_name":"Laurens Wolf"},"score":0,"creation_date":1664797914,"post_id":73907727,"comment_id":130546408,"body_markdown":"we do now get the following error\n\n\n\nThe error occurred: Transport2 timedout waiting for response to SmbComReadAndX[command=SMB_COM_READ_ANDX,received=false,errorCode=0,flags=0x0018,flags2=0x4803,signSeq=0,tid=2,pid=37412,uid=0,mid=4,wordCount=12,byteCount=0,andxCommand=0xFF,andxOffset=0,fid=0,offset=0,maxCount=8192,minCount=8192,openTimeout=-1,remaining=0,offset=0]","body":"we do now get the following error    The error occurred: Transport2 timedout waiting for response to SmbComReadAndX[command=SMB_COM_READ_ANDX,received=false,erro&zwnj;&#8203;rCode=0,flags=0x0018&zwnj;&#8203;,flags2=0x4803,signS&zwnj;&#8203;eq=0,tid=2,pid=37412&zwnj;&#8203;,uid=0,mid=4,wordCou&zwnj;&#8203;nt=12,byteCount=0,an&zwnj;&#8203;dxCommand=0xFF,andxO&zwnj;&#8203;ffset=0,fid=0,offset&zwnj;&#8203;=0,maxCount=8192,min&zwnj;&#8203;Count=8192,openTimeo&zwnj;&#8203;ut=-1,remaining=0,of&zwnj;&#8203;fset=0]"}],"owner":{"account_id":10324320,"reputation":163,"user_id":7616225,"display_name":"Laurens Wolf"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664536147,"creation_date":1664535660,"question_id":73907727,"body_markdown":"We are trying to copy a pdf from server to local folder and we keep getting this error:\r\n \r\nLogon failure: unknown user name or bad password.\r\n\r\nthis is the function:\r\n\r\n    public void copyPasteFileFromNetwerkDriveToLocal(String source, String destFileUrl, String destFileName) {\r\n        InputStream in = null;\r\n        OutputStream out = null;\r\n        try {\r\n            \r\n            NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(&quot;domain&quot;,&quot;user&quot;,&quot;password&quot;);\r\n            String remoteDocUrl = &quot;smb:&quot;+source; //The shared directory to store pictures\r\n            SmbFile remoteDocUrlFile = new SmbFile(remoteDocUrl, auth);\r\n            remoteDocUrlFile.connect(); //Try to connect\r\n            \r\n            if (remoteDocUrlFile.exists()) {\r\n                String remoteDocUrlAndName = &quot;smb:&quot;+source;\r\n                SmbFile remoteDocFile = new SmbFile(remoteDocUrlAndName, auth);\r\n                remoteDocFile.connect(); //Try to connect\r\n                \r\n                File localFile = new File(destFileUrl+destFileName);\r\n                \r\n                in = new BufferedInputStream(new SmbFileInputStream(remoteDocFile));\r\n                out = new BufferedOutputStream(new FileOutputStream(localFile));\r\n \r\n                byte[] buffer = new byte[4096];\r\n                int len = 0; //Read length\r\n                while ((len = in.read(buffer, 0, buffer.length)) != -1) {\r\n                    out.write(buffer, 0, len);\r\n                }               \r\n                \r\n                out.flush(); //The refresh buffer output stream\r\n            }\r\n        }\r\n        catch (Exception e) {\r\n            String msg = &quot;The error occurred: &quot; + e.getLocalizedMessage();\r\n            System.out.println(msg);\r\n        }\r\n        finally {\r\n            try {\r\n                if(out != null) {\r\n                    out.close();\r\n                }\r\n                if(in != null) {\r\n                    in.close();\r\n                }\r\n            }\r\n            catch (Exception e) {}\r\n        }       \r\n    } \r\n\r\n\r\nbut the other way around  does work with the same username and password: \r\n\r\n    public void copyPasteFileFromLocalToNetwerkDrive(String source, String destFileUrl, String destFileName) {\r\n        InputStream in = null;\r\n        OutputStream out = null;\r\n        try {\r\n            //Get a picture\r\n            File localFile = new File(source);\r\n            \r\n            NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(&quot;domain&quot;,&quot;user&quot;,&quot;password&quot;);\r\n            String remoteDocUrl = &quot;smb:&quot;+destFileUrl; //The shared directory to store pictures\r\n            SmbFile remoteDocUrlFile = new SmbFile(remoteDocUrl, auth);\r\n            remoteDocUrlFile.connect(); //Try to connect\r\n            \r\n            if (!remoteDocUrlFile.exists()) {\r\n                //maak alle directories\r\n                remoteDocUrlFile.mkdirs();\r\n            }\r\n            \r\n            String remoteDocUrlAndName = &quot;smb:&quot;+destFileUrl+destFileName;\r\n            SmbFile remoteDocFile = new SmbFile(remoteDocUrlAndName, auth);\r\n            remoteDocFile.connect(); //Try to connect\r\n \r\n            in = new BufferedInputStream(new FileInputStream(localFile));\r\n            out = new BufferedOutputStream(new SmbFileOutputStream(remoteDocFile));\r\n \r\n            byte[] buffer = new byte[4096];\r\n            int len = 0; //Read length\r\n            while ((len = in.read(buffer, 0, buffer.length)) != -1) {\r\n                out.write(buffer, 0, len);\r\n            }\r\n            out.flush(); //The refresh buffer output stream\r\n        }\r\n        catch (Exception e) {\r\n            String msg = &quot;The error occurred: &quot; + e.getLocalizedMessage();\r\n            System.out.println(msg);\r\n        }\r\n        finally {\r\n            try {\r\n                if(out != null) {\r\n                    out.close();\r\n                }\r\n                if(in != null) {\r\n                    in.close();\r\n                }\r\n            }\r\n            catch (Exception e) {}\r\n        }       \r\n    }\r\n\r\n\r\ndoes anyone know what we are doing wrong?\r\n\r\nthanks in advance!\r\n\r\nsincerely,\r\nlaurens wolf\r\n","title":"copy file from local to server does work, from server to local does not","body":"<p>We are trying to copy a pdf from server to local folder and we keep getting this error:</p>\n<p>Logon failure: unknown user name or bad password.</p>\n<p>this is the function:</p>\n<pre><code>public void copyPasteFileFromNetwerkDriveToLocal(String source, String destFileUrl, String destFileName) {\n    InputStream in = null;\n    OutputStream out = null;\n    try {\n        \n        NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(&quot;domain&quot;,&quot;user&quot;,&quot;password&quot;);\n        String remoteDocUrl = &quot;smb:&quot;+source; //The shared directory to store pictures\n        SmbFile remoteDocUrlFile = new SmbFile(remoteDocUrl, auth);\n        remoteDocUrlFile.connect(); //Try to connect\n        \n        if (remoteDocUrlFile.exists()) {\n            String remoteDocUrlAndName = &quot;smb:&quot;+source;\n            SmbFile remoteDocFile = new SmbFile(remoteDocUrlAndName, auth);\n            remoteDocFile.connect(); //Try to connect\n            \n            File localFile = new File(destFileUrl+destFileName);\n            \n            in = new BufferedInputStream(new SmbFileInputStream(remoteDocFile));\n            out = new BufferedOutputStream(new FileOutputStream(localFile));\n\n            byte[] buffer = new byte[4096];\n            int len = 0; //Read length\n            while ((len = in.read(buffer, 0, buffer.length)) != -1) {\n                out.write(buffer, 0, len);\n            }               \n            \n            out.flush(); //The refresh buffer output stream\n        }\n    }\n    catch (Exception e) {\n        String msg = &quot;The error occurred: &quot; + e.getLocalizedMessage();\n        System.out.println(msg);\n    }\n    finally {\n        try {\n            if(out != null) {\n                out.close();\n            }\n            if(in != null) {\n                in.close();\n            }\n        }\n        catch (Exception e) {}\n    }       \n} \n</code></pre>\n<p>but the other way around  does work with the same username and password:</p>\n<pre><code>public void copyPasteFileFromLocalToNetwerkDrive(String source, String destFileUrl, String destFileName) {\n    InputStream in = null;\n    OutputStream out = null;\n    try {\n        //Get a picture\n        File localFile = new File(source);\n        \n        NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(&quot;domain&quot;,&quot;user&quot;,&quot;password&quot;);\n        String remoteDocUrl = &quot;smb:&quot;+destFileUrl; //The shared directory to store pictures\n        SmbFile remoteDocUrlFile = new SmbFile(remoteDocUrl, auth);\n        remoteDocUrlFile.connect(); //Try to connect\n        \n        if (!remoteDocUrlFile.exists()) {\n            //maak alle directories\n            remoteDocUrlFile.mkdirs();\n        }\n        \n        String remoteDocUrlAndName = &quot;smb:&quot;+destFileUrl+destFileName;\n        SmbFile remoteDocFile = new SmbFile(remoteDocUrlAndName, auth);\n        remoteDocFile.connect(); //Try to connect\n\n        in = new BufferedInputStream(new FileInputStream(localFile));\n        out = new BufferedOutputStream(new SmbFileOutputStream(remoteDocFile));\n\n        byte[] buffer = new byte[4096];\n        int len = 0; //Read length\n        while ((len = in.read(buffer, 0, buffer.length)) != -1) {\n            out.write(buffer, 0, len);\n        }\n        out.flush(); //The refresh buffer output stream\n    }\n    catch (Exception e) {\n        String msg = &quot;The error occurred: &quot; + e.getLocalizedMessage();\n        System.out.println(msg);\n    }\n    finally {\n        try {\n            if(out != null) {\n                out.close();\n            }\n            if(in != null) {\n                in.close();\n            }\n        }\n        catch (Exception e) {}\n    }       \n}\n</code></pre>\n<p>does anyone know what we are doing wrong?</p>\n<p>thanks in advance!</p>\n<p>sincerely,\nlaurens wolf</p>\n"},{"tags":["java","spring","frameworks","autowired","spring-annotations"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1447947577,"post_id":33806477,"comment_id":55381668,"body_markdown":"The exception you&#39;re receiving is unrelated to the question you&#39;re asking.","body":"The exception you&#39;re receiving is unrelated to the question you&#39;re asking."}],"answers":[{"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1447947602,"post_id":33807524,"comment_id":55381683,"body_markdown":"Why does this fix anything? What part of the documentation lead you to this solution?","body":"Why does this fix anything? What part of the documentation lead you to this solution?"},{"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"score":0,"creation_date":1447948434,"post_id":33807524,"comment_id":55382319,"body_markdown":"Because doing in this way the MainApp class is a Spring component and I instanciate it as a bean so I can autowire another bean inside the context. It work fine","body":"Because doing in this way the MainApp class is a Spring component and I instanciate it as a bean so I can autowire another bean inside the context. It work fine"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1447948458,"post_id":33807524,"comment_id":55382342,"body_markdown":"Please add those details to your answer.","body":"Please add those details to your answer."},{"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"score":0,"creation_date":1447948639,"post_id":33807524,"comment_id":55382497,"body_markdown":"Ok, I have add these infrmation to my answer","body":"Ok, I have add these infrmation to my answer"}],"tags":[],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1447948574,"creation_date":1447945744,"answer_id":33807524,"question_id":33806477,"body_markdown":"I soled by myself looking at the documentation:\r\n\r\nSo I have this **beans.xml** file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n        xsi:schemaLocation=&quot;\r\n            http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.1.xsd&quot;&gt;\r\n    \r\n    \r\n    \t&lt;context:component-scan base-package=&quot;it.mycompany.myproject.profilatura.app&quot; /&gt;\r\n    \t&lt;context:component-scan base-package=&quot;it.hp.miur.profilatura.service&quot; /&gt;\r\n    \t\r\n        &lt;!-- bean definitions here --&gt;\r\n        &lt;bean id=&quot;helloWorld&quot; class=&quot;it.mycompany.myproject.profilatura.app.HelloWorld&quot;&gt;\r\n           &lt;property name=&quot;message&quot; value=&quot;Hello World!&quot;/&gt;\r\n       \t&lt;/bean&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\nAnd this **MainApp** class:\r\n\r\n    @Component\r\n    public class MainApp {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate UtenteLoggatoService utenteLoggatoService;\r\n    \t\r\n        public static void main(String[] args) {\r\n        \t\r\n    \t\tApplicationContext context = new ClassPathXmlApplicationContext(&quot;Beans.xml&quot;);\r\n    \t\t\r\n    \t\tMainApp app = context.getBean(MainApp.class);\r\n    \t\t\r\n    \t\tapp.start();\r\n          \r\n    \t\t//HelloWorld obj = (HelloWorld) context.getBean(&quot;helloWorld&quot;);\r\n    \r\n          \t//obj.getMessage();\r\n          \t\r\n          \t\r\n       }  \r\n        \r\n        private void start() {\r\n            System.out.println(&quot;APPLICATION STARTED&quot;);\r\n            System.out.println(utenteLoggatoService.getInfoUtenteLoggato());\r\n        }\r\n      \r\n    }\r\n\r\nSo it work, I think that it is the most common solution\r\n\r\nDoing in this way the **MainApp** class is a Spring component and I instanciate it as a Spring bean so I can autowire another bean (as **UtenteLoggatoService utenteLoggatoService**) that is inside the context taking it from the context. ","title":"Why I can&#39;t inject (using @Autowired) a service class into the Main class (the class that contains the main() method) in this Spring application?","body":"<p>I soled by myself looking at the documentation:</p>\n\n<p>So I have this <strong>beans.xml</strong> file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xsi:schemaLocation=\"\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.1.xsd\"&gt;\n\n\n    &lt;context:component-scan base-package=\"it.mycompany.myproject.profilatura.app\" /&gt;\n    &lt;context:component-scan base-package=\"it.hp.miur.profilatura.service\" /&gt;\n\n    &lt;!-- bean definitions here --&gt;\n    &lt;bean id=\"helloWorld\" class=\"it.mycompany.myproject.profilatura.app.HelloWorld\"&gt;\n       &lt;property name=\"message\" value=\"Hello World!\"/&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>And this <strong>MainApp</strong> class:</p>\n\n<pre><code>@Component\npublic class MainApp {\n\n    @Autowired\n    private UtenteLoggatoService utenteLoggatoService;\n\n    public static void main(String[] args) {\n\n        ApplicationContext context = new ClassPathXmlApplicationContext(\"Beans.xml\");\n\n        MainApp app = context.getBean(MainApp.class);\n\n        app.start();\n\n        //HelloWorld obj = (HelloWorld) context.getBean(\"helloWorld\");\n\n        //obj.getMessage();\n\n\n   }  \n\n    private void start() {\n        System.out.println(\"APPLICATION STARTED\");\n        System.out.println(utenteLoggatoService.getInfoUtenteLoggato());\n    }\n\n}\n</code></pre>\n\n<p>So it work, I think that it is the most common solution</p>\n\n<p>Doing in this way the <strong>MainApp</strong> class is a Spring component and I instanciate it as a Spring bean so I can autowire another bean (as <strong>UtenteLoggatoService utenteLoggatoService</strong>) that is inside the context taking it from the context. </p>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1315,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1447947563,"answer_count":1,"score":-2,"last_activity_date":1664535797,"creation_date":1447942840,"question_id":33806477,"body_markdown":"I am pretty new in Spring and I have the following problem.\r\n\r\nI am implement a Spring console application (this is not a web app) that perform some query on the database and I have the following configuration:\r\n\r\n1) A **beans.xml** file containing the beans definition:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;\r\n            http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n    \r\n    \r\n    \t&lt;context:component-scan base-package=&quot;it.mycompany.myapp.profilatura.service&quot; /&gt;\r\n    \t\r\n        &lt;!-- bean definitions here --&gt;\r\n        &lt;bean id=&quot;helloWorld&quot; class=&quot;HelloWorld&quot;&gt;\r\n           &lt;property name=&quot;message&quot; value=&quot;Hello World!&quot;/&gt;\r\n       \t&lt;/bean&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\nAs you can see in this file I have also specified that the application have tho scan the **it.mycompany.myapp.profilatura.service** package that will contain classes annoted with **@Service** annotation, by this line:\r\n\r\n    &lt;context:component-scan base-package=&quot;it.mycompany.myapp.profilatura.service&quot; /&gt;\r\n\r\n\r\nSo this is my **MainApp** class that contain the **main()** method and that start the application:\r\n\r\n    public class MainApp {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate static UtenteLoggatoService utenteLoggatoService;\r\n    \t\r\n        public static void main(String[] args) {\r\n    \t   \r\n    \t\tApplicationContext context = new ClassPathXmlApplicationContext(&quot;Beans.xml&quot;);\r\n          \r\n    \t\tHelloWorld obj = (HelloWorld) context.getBean(&quot;helloWorld&quot;);\r\n    \r\n          \tobj.getMessage();\r\n          \t\r\n          \tutenteLoggatoService.getInfoUtenteLoggato();\r\n       }\r\n    }\r\n\r\nAs you can see, at the end, it perform this method call:\r\n\r\n    utenteLoggatoService.getInfoUtenteLoggato();\r\n\r\nand this is the autowired **UtenteLoggatoService** class:\r\n\r\n    @Service\r\n    @Transactional(rollbackFor={Exception.class})\r\n    public class UtenteLoggatoService {\r\n    \t\r\n    \tpublic String getInfoUtenteLoggato() {\r\n    \t\treturn &quot;TEST&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\nThe problem is that when I perform this application I obtain this error message into my stacktrace:\r\n\r\n    Exception in thread &quot;main&quot; org.springframework.beans.factory.xml.XmlBeanDefinitionStoreException: Line 8 in XML document from class path resource [Beans.xml] is invalid; nested exception is org.xml.sax.SAXParseException; lineNumber: 8; columnNumber: 74; The prefix &quot;context&quot; for element &quot;context:component-scan&quot; is not bound.\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:399)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:336)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:304)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:181)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:217)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:188)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:252)\r\n    \tat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:127)\r\n    \tat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:93)\r\n    \tat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:129)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:537)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:452)\r\n    \tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:139)\r\n    \tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:83)\r\n    \tat MainApp.main(MainApp.java:14)\r\n    Caused by: org.xml.sax.SAXParseException; lineNumber: 8; columnNumber: 74; The prefix &quot;context&quot; for element &quot;context:component-scan&quot; is not bound.\r\n    \tat com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:203)\r\n    \tat com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:177)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:400)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:284)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:290)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2787)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:606)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:118)\r\n    \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:510)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:848)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:777)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\r\n    \tat com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:243)\r\n    \tat com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:339)\r\n    \tat org.springframework.beans.factory.xml.DefaultDocumentLoader.loadDocument(DefaultDocumentLoader.java:76)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadDocument(XmlBeanDefinitionReader.java:429)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:391)\r\n    \t... 14 more\r\n\r\nWhat am I missing? How can I solve this issue and use the **UtenteLoggatoService** into the **MainApp** class?\r\n","title":"Why I can&#39;t inject (using @Autowired) a service class into the Main class (the class that contains the main() method) in this Spring application?","body":"<p>I am pretty new in Spring and I have the following problem.</p>\n<p>I am implement a Spring console application (this is not a web app) that perform some query on the database and I have the following configuration:</p>\n<ol>\n<li><p>A <strong>beans.xml</strong> file containing the beans definition:</p>\n \n<p></p>\n<pre><code> &lt;context:component-scan base-package=&quot;it.mycompany.myapp.profilatura.service&quot; /&gt;\n\n &lt;!-- bean definitions here --&gt;\n &lt;bean id=&quot;helloWorld&quot; class=&quot;HelloWorld&quot;&gt;\n    &lt;property name=&quot;message&quot; value=&quot;Hello World!&quot;/&gt;\n &lt;/bean&gt;\n</code></pre>\n \n</li>\n</ol>\n<p>As you can see in this file I have also specified that the application have tho scan the <strong>it.mycompany.myapp.profilatura.service</strong> package that will contain classes annoted with <strong>@Service</strong> annotation, by this line:</p>\n<pre><code>&lt;context:component-scan base-package=&quot;it.mycompany.myapp.profilatura.service&quot; /&gt;\n</code></pre>\n<p>So this is my <strong>MainApp</strong> class that contain the <strong>main()</strong> method and that start the application:</p>\n<pre><code>public class MainApp {\n    \n    @Autowired\n    private static UtenteLoggatoService utenteLoggatoService;\n    \n    public static void main(String[] args) {\n       \n        ApplicationContext context = new ClassPathXmlApplicationContext(&quot;Beans.xml&quot;);\n      \n        HelloWorld obj = (HelloWorld) context.getBean(&quot;helloWorld&quot;);\n\n        obj.getMessage();\n        \n        utenteLoggatoService.getInfoUtenteLoggato();\n   }\n}\n</code></pre>\n<p>As you can see, at the end, it perform this method call:</p>\n<pre><code>utenteLoggatoService.getInfoUtenteLoggato();\n</code></pre>\n<p>and this is the autowired <strong>UtenteLoggatoService</strong> class:</p>\n<pre><code>@Service\n@Transactional(rollbackFor={Exception.class})\npublic class UtenteLoggatoService {\n    \n    public String getInfoUtenteLoggato() {\n        return &quot;TEST&quot;;\n    }\n\n}\n</code></pre>\n<p>The problem is that when I perform this application I obtain this error message into my stacktrace:</p>\n<pre><code>Exception in thread &quot;main&quot; org.springframework.beans.factory.xml.XmlBeanDefinitionStoreException: Line 8 in XML document from class path resource [Beans.xml] is invalid; nested exception is org.xml.sax.SAXParseException; lineNumber: 8; columnNumber: 74; The prefix &quot;context&quot; for element &quot;context:component-scan&quot; is not bound.\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:399)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:336)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:304)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:181)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:217)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:188)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:252)\n    at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:127)\n    at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:93)\n    at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:129)\n    at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:537)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:452)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:139)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:83)\n    at MainApp.main(MainApp.java:14)\nCaused by: org.xml.sax.SAXParseException; lineNumber: 8; columnNumber: 74; The prefix &quot;context&quot; for element &quot;context:component-scan&quot; is not bound.\n    at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:203)\n    at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:177)\n    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:400)\n    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)\n    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:284)\n    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:290)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2787)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:606)\n    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:118)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:510)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:848)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:777)\n    at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\n    at com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:243)\n    at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:339)\n    at org.springframework.beans.factory.xml.DefaultDocumentLoader.loadDocument(DefaultDocumentLoader.java:76)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadDocument(XmlBeanDefinitionReader.java:429)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:391)\n    ... 14 more\n</code></pre>\n<p>What am I missing? How can I solve this issue and use the <strong>UtenteLoggatoService</strong> into the <strong>MainApp</strong> class?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7374148,"reputation":106,"user_id":8589004,"display_name":"Deloo"},"score":0,"creation_date":1664534578,"post_id":73907419,"comment_id":130499249,"body_markdown":"Can&#39;t your game depend on the source of those Scene subclasses? Instead of using reflections to load .class at runtime you could recompile the project with new Scene subclasses.","body":"Can&#39;t your game depend on the source of those Scene subclasses? Instead of using reflections to load .class at runtime you could recompile the project with new Scene subclasses."}],"answers":[{"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1664536607,"post_id":73907748,"comment_id":130499919,"body_markdown":"SPI is intended for such extendibility. You can list the available scenes. Make an interface (needed for SPI), Scene, and rename your old scene class something like AbstractScene or BaseScene or DefaultScene.","body":"SPI is intended for such extendibility. You can list the available scenes. Make an interface (needed for SPI), Scene, and rename your old scene class something like AbstractScene or BaseScene or DefaultScene."},{"owner":{"account_id":15321967,"reputation":15,"user_id":11054159,"display_name":"SquishySquid"},"score":0,"creation_date":1665068768,"post_id":73907748,"comment_id":130617534,"body_markdown":"Thanks for your answer! It was very helpful! \nBut there&#39;s still a part I don&#39;t understand: How do I create the instance of my scenes? If I turn my `Scene` superclass into an interface or abstract class I can&#39;t create a `new` object from them, right? \nNow I&#39;d do something like this: (with `defaultScene` being the interface)\n`list&lt;Scene&gt; allScenes = new arraylist;\n\t\t\nServiceLoader&lt;defaultScene&gt; loader = ServiceLoader.load(defaultScene.class);\n\tfor (defaultScene myScene : loader) {\n\t\tallscenes.add(myScene);\n        }`\nWould this still run the constructor of the individual scenes?","body":"Thanks for your answer! It was very helpful!  But there&#39;s still a part I don&#39;t understand: How do I create the instance of my scenes? If I turn my <code>Scene</code> superclass into an interface or abstract class I can&#39;t create a <code>new</code> object from them, right?  Now I&#39;d do something like this: (with <code>defaultScene</code> being the interface) <code>list&lt;Scene&gt; allScenes = new arraylist; \t\t ServiceLoader&lt;defaultScene&gt; loader = ServiceLoader.load(defaultScene.class); \tfor (defaultScene myScene : loader) { \t\tallscenes.add(myScene);         }</code> Would this still run the constructor of the individual scenes?"},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1665073790,"post_id":73907748,"comment_id":130619584,"body_markdown":"The ServiceLoader creates instances of the implementations, therefore each implementation of the Service needs to provide a public no-args constructor. Of course, you can define a Service which is able to create instances of the Scene in question.","body":"The ServiceLoader creates instances of the implementations, therefore each implementation of the Service needs to provide a public no-args constructor. Of course, you can define a Service which is able to create instances of the Scene in question."},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1665074197,"post_id":73907748,"comment_id":130619743,"body_markdown":"Oh, and of course the no-args constructor will be used.","body":"Oh, and of course the no-args constructor will be used."}],"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664535770,"creation_date":1664535770,"answer_id":73907748,"question_id":73907419,"body_markdown":"&gt; My plan was to use loadClass when the game is started to add them to a Scene-array, but it requires the class names which I can&#39;t know, since there can a any random combination of scenes in the Scenes-folder.\r\n\r\nThat&#39;s what Service Provider Interfaces are for. Just define an interface for your plugins and use [ServiceLoader](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html) to get an instance of each plug-in.\r\n\r\nThe plug-in needs to provide a text-file in /META-INF/services named after the interface and containing the class which implements that interface (both names must be fully qualified). You&#39;ll find the details in the documentation of [ServiceLoader](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html).\r\n\r\nThis gives you the ability to add plugins to the class-path. E.g. you can run your application using something like `java -cp myapp.jar;plugins/* my.app.Main`, then all the plugin-Jars in folder plugin will be added to the class-path and are available to your application (for more information on the asterisk, see this [answer](https://stackoverflow.com/a/219801/19657183)).\r\n\r\nIf you want to load plug-ins at runtime, you can use a URLClassLoader, e. g. read this [question](https://stackoverflow.com/questions/65390431/serviceloader-with-urlclassloader-not-finding-service) or this [tutorial](https://riptutorial.com/java/example/23970/using-urlclassloader) on how to use the URLClassLoader.","title":"How do I load .class files into a variable?","body":"<blockquote>\n<p>My plan was to use loadClass when the game is started to add them to a Scene-array, but it requires the class names which I can't know, since there can a any random combination of scenes in the Scenes-folder.</p>\n</blockquote>\n<p>That's what Service Provider Interfaces are for. Just define an interface for your plugins and use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">ServiceLoader</a> to get an instance of each plug-in.</p>\n<p>The plug-in needs to provide a text-file in /META-INF/services named after the interface and containing the class which implements that interface (both names must be fully qualified). You'll find the details in the documentation of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">ServiceLoader</a>.</p>\n<p>This gives you the ability to add plugins to the class-path. E.g. you can run your application using something like <code>java -cp myapp.jar;plugins/* my.app.Main</code>, then all the plugin-Jars in folder plugin will be added to the class-path and are available to your application (for more information on the asterisk, see this <a href=\"https://stackoverflow.com/a/219801/19657183\">answer</a>).</p>\n<p>If you want to load plug-ins at runtime, you can use a URLClassLoader, e. g. read this <a href=\"https://stackoverflow.com/questions/65390431/serviceloader-with-urlclassloader-not-finding-service\">question</a> or this <a href=\"https://riptutorial.com/java/example/23970/using-urlclassloader\" rel=\"nofollow noreferrer\">tutorial</a> on how to use the URLClassLoader.</p>\n"}],"owner":{"account_id":15321967,"reputation":15,"user_id":11054159,"display_name":"SquishySquid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73907748,"answer_count":1,"score":0,"last_activity_date":1664535770,"creation_date":1664534207,"question_id":73907419,"body_markdown":"I&#39;m working on a text-based game as a practice project.\r\n\r\nI already managed to write an engine that displays information and handles user input. It draws the games content from custom `Scene` classes. More precisely, I have a `Scene` superclass and create child-classes, like `EvilDungeon extends Scene`, for the actual playable levels.\r\n\r\nAll scenes are located in a &quot;Scenes&quot;-folder, but I want to be able to make game expansions later on by dropping additional .class files of new scenes into said folder.\r\n\r\nMy plan was to use `loadClass` when the game is started to add them to a `Scene`-array, but it requires the class names which I can&#39;t know, since there can a any random combination of scenes in the Scenes-folder.\r\n\r\nHow can I load all scenes in the folder without knowing which scenes exactly are present? Can I retrieve the class name somehow?","title":"How do I load .class files into a variable?","body":"<p>I'm working on a text-based game as a practice project.</p>\n<p>I already managed to write an engine that displays information and handles user input. It draws the games content from custom <code>Scene</code> classes. More precisely, I have a <code>Scene</code> superclass and create child-classes, like <code>EvilDungeon extends Scene</code>, for the actual playable levels.</p>\n<p>All scenes are located in a &quot;Scenes&quot;-folder, but I want to be able to make game expansions later on by dropping additional .class files of new scenes into said folder.</p>\n<p>My plan was to use <code>loadClass</code> when the game is started to add them to a <code>Scene</code>-array, but it requires the class names which I can't know, since there can a any random combination of scenes in the Scenes-folder.</p>\n<p>How can I load all scenes in the folder without knowing which scenes exactly are present? Can I retrieve the class name somehow?</p>\n"},{"tags":["java","jakarta-ee","jboss","jboss6.x","jboss-eap-6"],"answers":[{"comments":[{"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"score":0,"creation_date":1446801876,"post_id":33563346,"comment_id":54904898,"body_markdown":"No I have not and I have rebotted my computer several times...could be some file permission problem?","body":"No I have not and I have rebotted my computer several times...could be some file permission problem?"},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1446806415,"post_id":33563346,"comment_id":54907777,"body_markdown":"it&#39;s possible. If you don&#39;t have anything you want to save there, you could delete previous history files manually and see if that fixes the issue.","body":"it&#39;s possible. If you don&#39;t have anything you want to save there, you could delete previous history files manually and see if that fixes the issue."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1446806460,"post_id":33563346,"comment_id":54907804,"body_markdown":"also, why do you have eap 6.2 on the subject but 6.1 on the question? which is it or did you change it?","body":"also, why do you have eap 6.2 on the subject but 6.1 on the question? which is it or did you change it?"}],"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446801772,"creation_date":1446801772,"answer_id":33563346,"question_id":33563270,"body_markdown":"To be short, relevant error message:\r\n\r\n&gt; Caught exception during boot: java.lang.IllegalStateException:\r\n&gt; JBAS014647: Could not rename C:\\Program\r\n&gt; Files\\EAP-6.2.0\\jboss-eap-6.2\\standalone\\configuration\\standalone_xml_history\\current\r\n&gt; to C:\\Program\r\n&gt; Files\\EAP-6.2.0\\jboss-eap-6.2\\standalone\\configuration\\standalone_xml_history\\20151106-101212372\r\n\r\nIt would sound like a directory or a file in that directory is locked by some software instance.\r\n\r\nSo check if you don&#39;t have your configuration files open in any editor, cmd line instance or some other process. If else fails, reboot your computer.","title":"Why I can&#39;t run JBoss EAP 6.2 server? It is automatically stopped","body":"<p>To be short, relevant error message:</p>\n\n<blockquote>\n  <p>Caught exception during boot: java.lang.IllegalStateException:\n  JBAS014647: Could not rename C:\\Program\n  Files\\EAP-6.2.0\\jboss-eap-6.2\\standalone\\configuration\\standalone_xml_history\\current\n  to C:\\Program\n  Files\\EAP-6.2.0\\jboss-eap-6.2\\standalone\\configuration\\standalone_xml_history\\20151106-101212372</p>\n</blockquote>\n\n<p>It would sound like a directory or a file in that directory is locked by some software instance.</p>\n\n<p>So check if you don't have your configuration files open in any editor, cmd line instance or some other process. If else fails, reboot your computer.</p>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664535738,"creation_date":1446801512,"question_id":33563270,"body_markdown":"I installed **JBoss EAP 6.1+** on my **Windows 8.1** system and it works fine.\r\n\r\nYesterday, suddenly it stopped working and give me the following error message when I try to run it (into Eclipse but also by the command line, so it is not an Eclipse configuration problem):\r\n\r\n    10:12:05,202 INFO  [org.jboss.modules] (main) JBoss Modules version 1.3.0.Final-redhat-2\r\n    10:12:05,765 INFO  [org.jboss.msc] (main) JBoss MSC version 1.0.4.GA-redhat-1\r\n    10:12:06,028 INFO  [org.jboss.as] (MSC service thread 1-8) JBAS015899: JBoss EAP 6.2.0.GA (AS 7.3.0.Final-redhat-14) starting\r\n    10:12:09,115 WARN  [org.jboss.as.server.deployment.scanner] (ServerService Thread Pool -- 13) JBAS015005: Reliable deployment behaviour is not possible when auto-deployment of exploded content is enabled (i.e. deployment without use of &quot;.dodeploy&quot;&#39; marker files). Configuration of auto-deployment of exploded content is not recommended in any situation where reliability is desired. Configuring the deployment scanner&#39;s auto-deploy-exploded setting to &quot;false&quot; is recommended.\r\n    10:12:09,173 INFO  [org.xnio] (MSC service thread 1-3) XNIO Version 3.0.7.GA-redhat-1\r\n    10:12:09,201 INFO  [org.xnio.nio] (MSC service thread 1-3) XNIO NIO Implementation Version 3.0.7.GA-redhat-1\r\n    10:12:09,212 INFO  [org.jboss.as.server] (Controller Boot Thread) JBAS015888: Creating http management service using socket-binding (management-http)\r\n    10:12:09,264 INFO  [org.jboss.remoting] (MSC service thread 1-3) JBoss Remoting version 3.2.18.GA-redhat-1\r\n    10:12:09,459 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 37) JBAS011800: Activating Naming Subsystem\r\n    10:12:09,489 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 29) JBAS010280: Activating Infinispan subsystem.\r\n    10:12:09,495 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 46) JBAS015537: Activating WebServices Extension\r\n    10:12:09,510 INFO  [org.jboss.as.jsf] (ServerService Thread Pool -- 35) JBAS012605: Activated the following JSF Implementations: [main, 1.2]\r\n    10:12:09,594 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 42) JBAS013171: Activating Security Subsystem\r\n    10:12:09,716 INFO  [org.jboss.as.naming] (MSC service thread 1-8) JBAS011802: Starting Naming Service\r\n    10:12:09,738 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-5) JBAS015400: Bound mail session [java:jboss/mail/Default]\r\n    10:12:09,746 INFO  [org.jboss.as.security] (MSC service thread 1-1) JBAS013170: Current PicketBox version=4.0.19.SP2-redhat-1\r\n    10:12:09,762 INFO  [org.jboss.as.connector.logging] (MSC service thread 1-8) JBAS010408: Starting JCA Subsystem (IronJacamar 1.0.23.Final-redhat-1)\r\n    10:12:10,451 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 25) JBAS010403: Deploying JDBC-compliant driver class org.h2.Driver (version 1.3)\r\n    10:12:10,779 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 25) JBAS010404: Deploying non-JDBC-compliant driver class com.mysql.jdbc.Driver (version 5.1)\r\n    10:12:10,958 INFO  [org.apache.coyote.http11] (MSC service thread 1-6) JBWEB003001: Coyote HTTP/1.1 initializing on : http-localhost/127.0.0.1:8080\r\n    10:12:10,986 INFO  [org.apache.coyote.http11] (MSC service thread 1-6) JBWEB003000: Coyote HTTP/1.1 starting on: http-localhost/127.0.0.1:8080\r\n    10:12:11,110 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-5) JBAS010400: Bound data source [java:jboss/datasources/idesDS]\r\n    10:12:11,121 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-4) JBAS010400: Bound data source [java:jboss/datasources/wifiDS]\r\n    10:12:11,632 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) JBAS010400: Bound data source [java:jboss/datasources/ExampleDS]\r\n    10:12:11,698 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-6) JBAS015012: Started FileSystemDeploymentService for directory C:\\Program Files\\EAP-6.2.0\\jboss-eap-6.2\\standalone\\deployments\r\n    10:12:11,843 INFO  [org.jboss.as.remoting] (MSC service thread 1-1) JBAS017100: Listening on 127.0.0.1:4447\r\n    10:12:11,862 INFO  [org.jboss.as.remoting] (MSC service thread 1-7) JBAS017100: Listening on 127.0.0.1:9999\r\n    10:12:12,212 INFO  [org.jboss.ws.common.management] (MSC service thread 1-8) JBWS022052: Starting JBoss Web Services - Stack CXF Server 4.2.3.Final-redhat-1\r\n    10:12:12,386 ERROR [org.jboss.as.server] (Controller Boot Thread) JBAS015956: Caught exception during boot: java.lang.IllegalStateException: JBAS014647: Could not rename C:\\Program Files\\EAP-6.2.0\\jboss-eap-6.2\\standalone\\configuration\\standalone_xml_history\\current to C:\\Program Files\\EAP-6.2.0\\jboss-eap-6.2\\standalone\\configuration\\standalone_xml_history\\20151106-101212372\r\n    \tat org.jboss.as.controller.persistence.ConfigurationFile.createHistoryDirectory(ConfigurationFile.java:474) [jboss-as-controller-7.3.0.Final-redhat-14.jar:7.3.0.Final-redhat-14]\r\n    \tat org.jboss.as.controller.persistence.ConfigurationFile.successfulBoot(ConfigurationFile.java:306) [jboss-as-controller-7.3.0.Final-redhat-14.jar:7.3.0.Final-redhat-14]\r\n    \tat org.jboss.as.controller.persistence.BackupXmlConfigurationPersister.successfulBoot(BackupXmlConfigurationPersister.java:65) [jboss-as-controller-7.3.0.Final-redhat-14.jar:7.3.0.Final-redhat-14]\r\n    \tat org.jboss.as.controller.AbstractControllerService.finishBoot(AbstractControllerService.java:308) [jboss-as-controller-7.3.0.Final-redhat-14.jar:7.3.0.Final-redhat-14]\r\n    \tat org.jboss.as.server.ServerService.boot(ServerService.java:326) [jboss-as-server-7.3.0.Final-redhat-14.jar:7.3.0.Final-redhat-14]\r\n    \tat org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:253) [jboss-as-controller-7.3.0.Final-redhat-14.jar:7.3.0.Final-redhat-14]\r\n    \tat java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_65]\r\n    \r\n    10:12:12,390 FATAL [org.jboss.as.server] (Controller Boot Thread) JBAS015957: Server boot has failed in an unrecoverable manner; exiting. See previous messages for details.\r\n    10:12:12,438 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-7) JBAS010409: Unbound data source [java:jboss/datasources/wifiDS]\r\n    10:12:12,486 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-5) JBAS010409: Unbound data source [java:jboss/datasources/idesDS]\r\n    10:12:12,488 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-5) JBAS010409: Unbound data source [java:jboss/datasources/ExampleDS]\r\n    10:12:12,563 INFO  [org.apache.coyote.http11] (MSC service thread 1-7) JBWEB003075: Coyote HTTP/1.1 pausing on: http-localhost/127.0.0.1:8080\r\n    10:12:12,574 INFO  [org.apache.coyote.http11] (MSC service thread 1-7) JBWEB003077: Coyote HTTP/1.1 stopping on : http-localhost/127.0.0.1:8080\r\n    10:12:12,627 INFO  [org.apache.catalina.core] (MSC service thread 1-1) JBWEB001079: Container org.apache.catalina.core.ContainerBase.[jboss.web].[default-host].[/] has not been started\r\n    10:12:12,680 INFO  [org.jboss.as] (MSC service thread 1-1) JBAS015950: JBoss EAP 6.2.0.GA (AS 7.3.0.Final-redhat-14) stopped in 243ms\r\n    Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=256m; support was removed in 8.0\r\n\r\nSo what could be the problem? How can I solve it?\r\n","title":"Why I can&#39;t run JBoss EAP 6.2 server? It is automatically stopped","body":"<p>I installed <strong>JBoss EAP 6.1+</strong> on my <strong>Windows 8.1</strong> system and it works fine.</p>\n<p>Yesterday, suddenly it stopped working and give me the following error message when I try to run it (into Eclipse but also by the command line, so it is not an Eclipse configuration problem):</p>\n<pre><code>10:12:05,202 INFO  [org.jboss.modules] (main) JBoss Modules version 1.3.0.Final-redhat-2\n10:12:05,765 INFO  [org.jboss.msc] (main) JBoss MSC version 1.0.4.GA-redhat-1\n10:12:06,028 INFO  [org.jboss.as] (MSC service thread 1-8) JBAS015899: JBoss EAP 6.2.0.GA (AS 7.3.0.Final-redhat-14) starting\n10:12:09,115 WARN  [org.jboss.as.server.deployment.scanner] (ServerService Thread Pool -- 13) JBAS015005: Reliable deployment behaviour is not possible when auto-deployment of exploded content is enabled (i.e. deployment without use of &quot;.dodeploy&quot;' marker files). Configuration of auto-deployment of exploded content is not recommended in any situation where reliability is desired. Configuring the deployment scanner's auto-deploy-exploded setting to &quot;false&quot; is recommended.\n10:12:09,173 INFO  [org.xnio] (MSC service thread 1-3) XNIO Version 3.0.7.GA-redhat-1\n10:12:09,201 INFO  [org.xnio.nio] (MSC service thread 1-3) XNIO NIO Implementation Version 3.0.7.GA-redhat-1\n10:12:09,212 INFO  [org.jboss.as.server] (Controller Boot Thread) JBAS015888: Creating http management service using socket-binding (management-http)\n10:12:09,264 INFO  [org.jboss.remoting] (MSC service thread 1-3) JBoss Remoting version 3.2.18.GA-redhat-1\n10:12:09,459 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 37) JBAS011800: Activating Naming Subsystem\n10:12:09,489 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 29) JBAS010280: Activating Infinispan subsystem.\n10:12:09,495 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 46) JBAS015537: Activating WebServices Extension\n10:12:09,510 INFO  [org.jboss.as.jsf] (ServerService Thread Pool -- 35) JBAS012605: Activated the following JSF Implementations: [main, 1.2]\n10:12:09,594 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 42) JBAS013171: Activating Security Subsystem\n10:12:09,716 INFO  [org.jboss.as.naming] (MSC service thread 1-8) JBAS011802: Starting Naming Service\n10:12:09,738 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-5) JBAS015400: Bound mail session [java:jboss/mail/Default]\n10:12:09,746 INFO  [org.jboss.as.security] (MSC service thread 1-1) JBAS013170: Current PicketBox version=4.0.19.SP2-redhat-1\n10:12:09,762 INFO  [org.jboss.as.connector.logging] (MSC service thread 1-8) JBAS010408: Starting JCA Subsystem (IronJacamar 1.0.23.Final-redhat-1)\n10:12:10,451 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 25) JBAS010403: Deploying JDBC-compliant driver class org.h2.Driver (version 1.3)\n10:12:10,779 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 25) JBAS010404: Deploying non-JDBC-compliant driver class com.mysql.jdbc.Driver (version 5.1)\n10:12:10,958 INFO  [org.apache.coyote.http11] (MSC service thread 1-6) JBWEB003001: Coyote HTTP/1.1 initializing on : http-localhost/127.0.0.1:8080\n10:12:10,986 INFO  [org.apache.coyote.http11] (MSC service thread 1-6) JBWEB003000: Coyote HTTP/1.1 starting on: http-localhost/127.0.0.1:8080\n10:12:11,110 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-5) JBAS010400: Bound data source [java:jboss/datasources/idesDS]\n10:12:11,121 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-4) JBAS010400: Bound data source [java:jboss/datasources/wifiDS]\n10:12:11,632 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) JBAS010400: Bound data source [java:jboss/datasources/ExampleDS]\n10:12:11,698 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-6) JBAS015012: Started FileSystemDeploymentService for directory C:\\Program Files\\EAP-6.2.0\\jboss-eap-6.2\\standalone\\deployments\n10:12:11,843 INFO  [org.jboss.as.remoting] (MSC service thread 1-1) JBAS017100: Listening on 127.0.0.1:4447\n10:12:11,862 INFO  [org.jboss.as.remoting] (MSC service thread 1-7) JBAS017100: Listening on 127.0.0.1:9999\n10:12:12,212 INFO  [org.jboss.ws.common.management] (MSC service thread 1-8) JBWS022052: Starting JBoss Web Services - Stack CXF Server 4.2.3.Final-redhat-1\n10:12:12,386 ERROR [org.jboss.as.server] (Controller Boot Thread) JBAS015956: Caught exception during boot: java.lang.IllegalStateException: JBAS014647: Could not rename C:\\Program Files\\EAP-6.2.0\\jboss-eap-6.2\\standalone\\configuration\\standalone_xml_history\\current to C:\\Program Files\\EAP-6.2.0\\jboss-eap-6.2\\standalone\\configuration\\standalone_xml_history\\20151106-101212372\n    at org.jboss.as.controller.persistence.ConfigurationFile.createHistoryDirectory(ConfigurationFile.java:474) [jboss-as-controller-7.3.0.Final-redhat-14.jar:7.3.0.Final-redhat-14]\n    at org.jboss.as.controller.persistence.ConfigurationFile.successfulBoot(ConfigurationFile.java:306) [jboss-as-controller-7.3.0.Final-redhat-14.jar:7.3.0.Final-redhat-14]\n    at org.jboss.as.controller.persistence.BackupXmlConfigurationPersister.successfulBoot(BackupXmlConfigurationPersister.java:65) [jboss-as-controller-7.3.0.Final-redhat-14.jar:7.3.0.Final-redhat-14]\n    at org.jboss.as.controller.AbstractControllerService.finishBoot(AbstractControllerService.java:308) [jboss-as-controller-7.3.0.Final-redhat-14.jar:7.3.0.Final-redhat-14]\n    at org.jboss.as.server.ServerService.boot(ServerService.java:326) [jboss-as-server-7.3.0.Final-redhat-14.jar:7.3.0.Final-redhat-14]\n    at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:253) [jboss-as-controller-7.3.0.Final-redhat-14.jar:7.3.0.Final-redhat-14]\n    at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_65]\n\n10:12:12,390 FATAL [org.jboss.as.server] (Controller Boot Thread) JBAS015957: Server boot has failed in an unrecoverable manner; exiting. See previous messages for details.\n10:12:12,438 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-7) JBAS010409: Unbound data source [java:jboss/datasources/wifiDS]\n10:12:12,486 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-5) JBAS010409: Unbound data source [java:jboss/datasources/idesDS]\n10:12:12,488 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-5) JBAS010409: Unbound data source [java:jboss/datasources/ExampleDS]\n10:12:12,563 INFO  [org.apache.coyote.http11] (MSC service thread 1-7) JBWEB003075: Coyote HTTP/1.1 pausing on: http-localhost/127.0.0.1:8080\n10:12:12,574 INFO  [org.apache.coyote.http11] (MSC service thread 1-7) JBWEB003077: Coyote HTTP/1.1 stopping on : http-localhost/127.0.0.1:8080\n10:12:12,627 INFO  [org.apache.catalina.core] (MSC service thread 1-1) JBWEB001079: Container org.apache.catalina.core.ContainerBase.[jboss.web].[default-host].[/] has not been started\n10:12:12,680 INFO  [org.jboss.as] (MSC service thread 1-1) JBAS015950: JBoss EAP 6.2.0.GA (AS 7.3.0.Final-redhat-14) stopped in 243ms\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=256m; support was removed in 8.0\n</code></pre>\n<p>So what could be the problem? How can I solve it?</p>\n"},{"tags":["java","spring","testing","mocking","spring-test"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1664535956,"post_id":73907684,"comment_id":130499707,"body_markdown":"Where do you actually _mock_ `envoyerMessage.execute`? You&#39;ve injected a mock, which returns `null` unless you tell it to return something else.","body":"Where do you actually <i>mock</i> <code>envoyerMessage.execute</code>? You&#39;ve injected a mock, which returns <code>null</code> unless you tell it to return something else."},{"owner":{"account_id":6810556,"reputation":332,"user_id":5240905,"display_name":"mtnp"},"score":0,"creation_date":1664536625,"post_id":73907684,"comment_id":130499923,"body_markdown":"@RobSpoor I&#39;ve injected EnvoyerMessage with MockBean so I thought execute() can be executed without something else. So I need to simulate both execute() and the mapper ?","body":"@RobSpoor I&#39;ve injected EnvoyerMessage with MockBean so I thought execute() can be executed without something else. So I need to simulate both execute() and the mapper ?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1664545696,"post_id":73907684,"comment_id":130502993,"body_markdown":"You need to use calls like `Mockito.when`, `Mockito.doReturn`, etc. For instance: `when(envoyerMessage.execute(any())).thenReturn(sendedMessageId)`, where `sendedMessageId` is the value to return.","body":"You need to use calls like <code>Mockito.when</code>, <code>Mockito.doReturn</code>, etc. For instance: <code>when(envoyerMessage.execute(any())).thenReturn(sendedMessage&zwnj;&#8203;Id)</code>, where <code>sendedMessageId</code> is the value to return."}],"owner":{"account_id":6810556,"reputation":332,"user_id":5240905,"display_name":"mtnp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664535432,"creation_date":1664535432,"question_id":73907684,"body_markdown":"I need to test this method :\r\n\r\n        @PostMapping(path = { API.PATH.SEND, API.PATH.PUBLIC_SEND })\r\n    public ResponseEntity&lt;MessageDto&gt; send(@RequestBody MessageDto messageDto) {\r\n\r\n        log.info(&quot;Sending message {}&quot;, messageDto.getMessage());\r\n\r\n        final var sendedMessageId = this.envoyerMessage.execute(\r\n                WebMessageMapper.INSTANCE.messageDtoToMessage(messageDto)\r\n        );\r\n\r\n        messageDto.setId(sendedMessageId.getValue());\r\n\r\n        return ResponseEntity.status(HttpStatus.CREATED).body(messageDto);\r\n    }\r\n\r\nSo I created this test class :\r\n\r\n```\r\n@Tag(&quot;unitTest&quot;)\r\n@WebMvcTest(MessageControllerV1.class)\r\npublic class MessageControllerV1Test {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @MockBean\r\n    private EnvoyerMessage envoyerMessage;\r\n\r\n    @MockBean\r\n    private LireMessage lireMessage;\r\n\r\n    private WebMessageMapper webMessageMapper;\r\n\r\n    @Test\r\n    public void send() throws Exception {\r\n        String content = &quot;{ \\&quot;id\\&quot;:1\\&quot;\\&quot;, \\&quot;message\\&quot;: \\&quot;Test variable\\&quot; }&quot;;\r\n        this.mockMvc.perform(\r\n                post(&quot;/api/message/add&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(content)\r\n                .accept(MediaType.APPLICATION_JSON))\r\n                .andExpect(status().is(200));\r\n    }\r\n}\r\n```\r\n\r\nBut I get NullPointerException on sendedMessageId.\r\nHow does it work to integrate Mapper mock in this test ?","title":"How work mocking of a Mapper inside a tested method with Spring","body":"<p>I need to test this method :</p>\n<pre><code>    @PostMapping(path = { API.PATH.SEND, API.PATH.PUBLIC_SEND })\npublic ResponseEntity&lt;MessageDto&gt; send(@RequestBody MessageDto messageDto) {\n\n    log.info(&quot;Sending message {}&quot;, messageDto.getMessage());\n\n    final var sendedMessageId = this.envoyerMessage.execute(\n            WebMessageMapper.INSTANCE.messageDtoToMessage(messageDto)\n    );\n\n    messageDto.setId(sendedMessageId.getValue());\n\n    return ResponseEntity.status(HttpStatus.CREATED).body(messageDto);\n}\n</code></pre>\n<p>So I created this test class :</p>\n<pre><code>@Tag(&quot;unitTest&quot;)\n@WebMvcTest(MessageControllerV1.class)\npublic class MessageControllerV1Test {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @MockBean\n    private EnvoyerMessage envoyerMessage;\n\n    @MockBean\n    private LireMessage lireMessage;\n\n    private WebMessageMapper webMessageMapper;\n\n    @Test\n    public void send() throws Exception {\n        String content = &quot;{ \\&quot;id\\&quot;:1\\&quot;\\&quot;, \\&quot;message\\&quot;: \\&quot;Test variable\\&quot; }&quot;;\n        this.mockMvc.perform(\n                post(&quot;/api/message/add&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(content)\n                .accept(MediaType.APPLICATION_JSON))\n                .andExpect(status().is(200));\n    }\n}\n</code></pre>\n<p>But I get NullPointerException on sendedMessageId.\nHow does it work to integrate Mapper mock in this test ?</p>\n"},{"tags":["java","android","arraylist","android-recyclerview","android-adapter"],"answers":[{"tags":[],"owner":{"account_id":13668757,"reputation":650,"user_id":9861911,"display_name":"ƒê·ªëc.tc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664511964,"creation_date":1664511964,"answer_id":73904005,"question_id":73903966,"body_markdown":"The context you provided is not complete, please review the Android guide. If you need to transfer data between activities, please check this article\r\n[enter link description here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/768969/passing-a-bundle-on-startactivity","title":"how to pass data from activity to adapter?","body":"<p>The context you provided is not complete, please review the Android guide. If you need to transfer data between activities, please check this article\n<a href=\"https://stackoverflow.com/questions/768969/passing-a-bundle-on-startactivity\">enter link description here</a></p>\n"},{"tags":[],"owner":{"account_id":1530069,"reputation":763,"user_id":1427464,"accept_rate":33,"display_name":"Sulav Timsina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664512635,"creation_date":1664512635,"answer_id":73904065,"question_id":73903966,"body_markdown":"You should use Intent extras to pass the the array list from ActivityB to `ActivityA` and in the `ActivityA` you have to pass the list to the adapter so it will set the data on the recyclerView.\r\n\r\nYou shouldn&#39;t directly pass the data from `ActivityB` to the adapter of `AdapterA`\r\n\r\nThis might be helpful: https://developer.android.com/reference/android/content/Intent","title":"how to pass data from activity to adapter?","body":"<p>You should use Intent extras to pass the the array list from ActivityB to <code>ActivityA</code> and in the <code>ActivityA</code> you have to pass the list to the adapter so it will set the data on the recyclerView.</p>\n<p>You shouldn't directly pass the data from <code>ActivityB</code> to the adapter of <code>AdapterA</code></p>\n<p>This might be helpful: <a href=\"https://developer.android.com/reference/android/content/Intent\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/content/Intent</a></p>\n"}],"owner":{"account_id":26443968,"reputation":1,"user_id":20088042,"display_name":"Young"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1664534976,"creation_date":1664511524,"question_id":73903966,"body_markdown":"I have 2 Activities. Activity A contains recyclerview, and Activity B is going to pass the Arraylist data to recyclerview in Acrivity A.  \r\n\r\nmy Adapter is like this.\r\n  \r\n    public MainAdapter(MainActivity context,ArrayList&lt;MainData&gt; list) {\r\n        this.context = context;\r\n        this.list = list;\r\n    }\r\n\r\nand MetaData.\r\n\r\n    public MainData(String tv_name, String tv_content) {\r\n        this.tv_name = tv_name;\r\n        this.tv_content = tv_content;\r\n    }\r\n\r\n\r\nActivity A (that receives arraylist data):\r\n\r\n\r\n       recyclerView = (RecyclerView) findViewById(R.id.rv);\r\n        linearLayoutManager = new LinearLayoutManager(this);\r\n        recyclerView.setLayoutManager(linearLayoutManager);\r\n\r\n        list = new ArrayList&lt;&gt;();\r\n\r\n        list = (ArrayList&lt;MainData&gt;)getIntent().getSerializableExtra(&quot;key&quot;);\r\n\r\n        adapter = new MainAdapter(this,list);\r\n        recyclerView.setAdapter(adapter);\r\n \r\n\r\n\r\nAAnd Activity B that pass Arraylist&lt;Maindata&gt; : \r\n\r\n     Button button = (Button) findViewById(R.id.button);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n            Intent intent = new Intent(upload.this, MainActivity.class);\r\n\r\n                ArrayList&lt;MainData&gt; list = new ArrayList&lt;MainData&gt;();\r\n\r\n                EditText edit = (EditText) findViewById(R.id.edittext_name);\r\n                String tv_name = edit.getText().toString();\r\n\r\n                EditText edit_main = (EditText) findViewById(R.id.edittext_main);\r\n                String tv_content = edit_main.getText().toString();\r\n\r\n                list.add(new MainData(tv_name,tv_content));\r\n\r\n                intent.putExtra(&quot;key&quot;, list);\r\n                startActivity(intent);\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\nAnd it throws Runtime Exception.","title":"how to pass data from activity to adapter?","body":"<p>I have 2 Activities. Activity A contains recyclerview, and Activity B is going to pass the Arraylist data to recyclerview in Acrivity A.</p>\n<p>my Adapter is like this.</p>\n<pre><code>public MainAdapter(MainActivity context,ArrayList&lt;MainData&gt; list) {\n    this.context = context;\n    this.list = list;\n}\n</code></pre>\n<p>and MetaData.</p>\n<pre><code>public MainData(String tv_name, String tv_content) {\n    this.tv_name = tv_name;\n    this.tv_content = tv_content;\n}\n</code></pre>\n<p>Activity A (that receives arraylist data):</p>\n<pre><code>   recyclerView = (RecyclerView) findViewById(R.id.rv);\n    linearLayoutManager = new LinearLayoutManager(this);\n    recyclerView.setLayoutManager(linearLayoutManager);\n\n    list = new ArrayList&lt;&gt;();\n\n    list = (ArrayList&lt;MainData&gt;)getIntent().getSerializableExtra(&quot;key&quot;);\n\n    adapter = new MainAdapter(this,list);\n    recyclerView.setAdapter(adapter);\n</code></pre>\n<p>AAnd Activity B that pass Arraylist :</p>\n<pre><code> Button button = (Button) findViewById(R.id.button);\n    button.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n        Intent intent = new Intent(upload.this, MainActivity.class);\n\n            ArrayList&lt;MainData&gt; list = new ArrayList&lt;MainData&gt;();\n\n            EditText edit = (EditText) findViewById(R.id.edittext_name);\n            String tv_name = edit.getText().toString();\n\n            EditText edit_main = (EditText) findViewById(R.id.edittext_main);\n            String tv_content = edit_main.getText().toString();\n\n            list.add(new MainData(tv_name,tv_content));\n\n            intent.putExtra(&quot;key&quot;, list);\n            startActivity(intent);\n\n        }\n    });\n</code></pre>\n<p>And it throws Runtime Exception.</p>\n"},{"tags":["java","xslt","saxon"],"comments":[{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1472742230,"post_id":39272223,"comment_id":65884685,"body_markdown":"Can you show us the Java code &quot;passing the java map to variable&quot;? Are you able to change that Java code to pass in some value Saxon on the XSLT side can deal with, like an `XdmValue`?","body":"Can you show us the Java code &quot;passing the java map to variable&quot;? Are you able to change that Java code to pass in some value Saxon on the XSLT side can deal with, like an <code>XdmValue</code>?"}],"answers":[{"comments":[{"owner":{"account_id":6794821,"reputation":356,"user_id":5230560,"display_name":"mohor chatt"},"score":0,"creation_date":1688381125,"post_id":39275066,"comment_id":135062031,"body_markdown":"Hi, Can you please share one example of how to access map from xslt? I am using saxon pe and my use case is same as above . Thanks","body":"Hi, Can you please share one example of how to access map from xslt? I am using saxon pe and my use case is same as above . Thanks"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1688398056,"post_id":39275066,"comment_id":135065638,"body_markdown":"Things have moved on quite a bit since 2016; I suggest you ask a new question. Asking supplementary questions by way of a comment on an existing answer is never a good idea: there&#39;s no obvious place to answer the supplementary question.\n\nOne thing that&#39;s relevant is what Java object types the map actually contains.","body":"Things have moved on quite a bit since 2016; I suggest you ask a new question. Asking supplementary questions by way of a comment on an existing answer is never a good idea: there&#39;s no obvious place to answer the supplementary question.  One thing that&#39;s relevant is what Java object types the map actually contains."},{"owner":{"account_id":6794821,"reputation":356,"user_id":5230560,"display_name":"mohor chatt"},"score":0,"creation_date":1688531793,"post_id":39275066,"comment_id":135084052,"body_markdown":"Thanks @Michael Kay , I have sorted the problem using parse-json() function.","body":"Thanks @Michael Kay , I have sorted the problem using parse-json() function."}],"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1472742268,"creation_date":1472742268,"answer_id":39275066,"question_id":39272223,"body_markdown":"Access to a Java map is only possible through extension functions, which have limited availability in Saxon-HE. Full information on Saxon extension functions can be found at\r\n\r\nhttp://www.saxonica.com/documentation/index.html#!extensibility","title":"How to fetch data from java map in xslt","body":"<p>Access to a Java map is only possible through extension functions, which have limited availability in Saxon-HE. Full information on Saxon extension functions can be found at</p>\n\n<p><a href=\"http://www.saxonica.com/documentation/index.html#!extensibility\" rel=\"nofollow\">http://www.saxonica.com/documentation/index.html#!extensibility</a></p>\n"},{"comments":[{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":0,"creation_date":1472814587,"post_id":39290899,"comment_id":65915445,"body_markdown":"Feels hacky, but very clever!","body":"Feels hacky, but very clever!"},{"owner":{"account_id":3922601,"reputation":21,"user_id":3244281,"display_name":"Vinit Khandelwal"},"score":0,"creation_date":1473067212,"post_id":39290899,"comment_id":65986312,"body_markdown":"I am new to XSLT process. Can you please bit explain here.I have an source xml so how can I append this xml map into source xml and your java code isn&#39;t creating any xml source from map.","body":"I am new to XSLT process. Can you please bit explain here.I have an source xml so how can I append this xml map into source xml and your java code isn&#39;t creating any xml source from map."},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1664433727,"post_id":39290899,"comment_id":130471397,"body_markdown":"I downvotet because its way too complex","body":"I downvotet because its way too complex"}],"tags":[],"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1473147769,"creation_date":1472814408,"answer_id":39290899,"question_id":39272223,"body_markdown":"Try using a custom URIResolver and provide the map values as xml snippets.\r\n\r\n    class MapEntryResolver implements URIResolver\r\n\t{\r\n\r\n\t\tprivate Map&lt;String,String&gt; map = new HashMap&lt;&gt;();\r\n\t\t\r\n\t\tprivate static final String PREFIX = &quot;map://&quot;;\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic Source resolve(String href, String base)\r\n\t\t\t\tthrows TransformerException\r\n\t\t{\r\n\t\t\tSource snippet = null;\r\n\t\t\t\r\n\t\t\tString key = href.replace(PREFIX, &quot;&quot;);\r\n\t\t\t\r\n\t\t\tif(map.containsKey(key))\r\n\t\t\t{\t\r\n\t\t\t\tsnippet = new StreamSource(new StringReader(&quot;&lt;&quot; + key + &quot;&gt;&quot; + map.get(key) + &quot;&lt;/&quot; + key + &quot;&gt;&quot;));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn snippet;\r\n\t\t}\r\n\r\n\t\tpublic void setMap(Map&lt;String,String&gt; map)\r\n\t\t{\r\n\t\t\tthis.map = map;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nYou can access the map values by using the document function in xslt.\r\n\r\n    &lt;xsl:variable name=&quot;mapValue&quot; select=&quot;document(&#39;map://foo&#39;)&quot; /&gt;\r\n\r\nSample:\r\n\r\n    //First create the resolver\r\n    MapEntryResolver uriResolver = new MapEntryResolver();\r\n    //pass your map\r\n    uriResolver.setMap(yourMap);\r\n    //and attach it to the factory\r\n    TransformerFactory factory = new TransformerFactoryImpl(); \r\n    factory.setURIResolver(uriResolver);\r\n    Transformer transformer = factory.newTransformer(new StreamSource(this.getClass().getResourceAsStream(pathToYourXsl));\r\n    //start transform and store result\r\n    ByteArrayOutputstream result = new ByteArrayOutputstream();\r\n    transformer.transform(new StreamSource(pathToYourInputXml), new StreamResult(result));\r\n\t\t\r\nThe UriResolver creates xml snippets from your map data on demand like this:\r\n    \r\n    &lt;key&gt;value&lt;/key&gt;\r\n\r\nIn your xsl use the document function to get the snippets by providing the map key as parameter:\r\n\r\n    &lt;!-- variable contains snippet &lt;foo&gt;bar&lt;/foo&gt; --&gt;\r\n    &lt;xsl:variable name=&quot;mapValue&quot; select=&quot;document(&#39;map://foo&#39;)&quot; /&gt;\r\n    &lt;!-- use it like any other doc--&gt;\r\n    &lt;xsl:value-of select=&quot;$mapValue/foo&quot;/&gt;\r\n\r\n\r\n","title":"How to fetch data from java map in xslt","body":"<p>Try using a custom URIResolver and provide the map values as xml snippets.</p>\n\n<pre><code>class MapEntryResolver implements URIResolver\n{\n\n    private Map&lt;String,String&gt; map = new HashMap&lt;&gt;();\n\n    private static final String PREFIX = \"map://\";\n\n    @Override\n    public Source resolve(String href, String base)\n            throws TransformerException\n    {\n        Source snippet = null;\n\n        String key = href.replace(PREFIX, \"\");\n\n        if(map.containsKey(key))\n        {   \n            snippet = new StreamSource(new StringReader(\"&lt;\" + key + \"&gt;\" + map.get(key) + \"&lt;/\" + key + \"&gt;\"));\n        }\n\n        return snippet;\n    }\n\n    public void setMap(Map&lt;String,String&gt; map)\n    {\n        this.map = map;\n    }\n\n}\n</code></pre>\n\n<p>You can access the map values by using the document function in xslt.</p>\n\n<pre><code>&lt;xsl:variable name=\"mapValue\" select=\"document('map://foo')\" /&gt;\n</code></pre>\n\n<p>Sample:</p>\n\n<pre><code>//First create the resolver\nMapEntryResolver uriResolver = new MapEntryResolver();\n//pass your map\nuriResolver.setMap(yourMap);\n//and attach it to the factory\nTransformerFactory factory = new TransformerFactoryImpl(); \nfactory.setURIResolver(uriResolver);\nTransformer transformer = factory.newTransformer(new StreamSource(this.getClass().getResourceAsStream(pathToYourXsl));\n//start transform and store result\nByteArrayOutputstream result = new ByteArrayOutputstream();\ntransformer.transform(new StreamSource(pathToYourInputXml), new StreamResult(result));\n</code></pre>\n\n<p>The UriResolver creates xml snippets from your map data on demand like this:</p>\n\n<pre><code>&lt;key&gt;value&lt;/key&gt;\n</code></pre>\n\n<p>In your xsl use the document function to get the snippets by providing the map key as parameter:</p>\n\n<pre><code>&lt;!-- variable contains snippet &lt;foo&gt;bar&lt;/foo&gt; --&gt;\n&lt;xsl:variable name=\"mapValue\" select=\"document('map://foo')\" /&gt;\n&lt;!-- use it like any other doc--&gt;\n&lt;xsl:value-of select=\"$mapValue/foo\"/&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1664535373,"post_id":73891262,"comment_id":130499498,"body_markdown":"Have you tested this with Saxon-HE? If I am reading the documentation correctly, calls to Java code require Saxon-PE or Saxon-EE. This question is expressly about Saxon-HE.","body":"Have you tested this with Saxon-HE? If I am reading the documentation correctly, calls to Java code require Saxon-PE or Saxon-EE. This question is expressly about Saxon-HE."}],"tags":[],"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1664534730,"creation_date":1664433632,"answer_id":73891262,"question_id":39272223,"body_markdown":"The easiest way to access elements of a Java `Map` is to declare a namespace:\r\n\r\n\r\n``` xsl\r\n&lt;xsl:stylesheet xmlns:map=&quot;java:java.util.Map&quot; ... &gt;\r\n   &lt;xsl:param name=&quot;sequenceNbrMap&quot;&gt;\r\n   &lt;xsl:value-of select=&quot;map:get($sequenceNbrMap, &#39;keyInMap&#39;)&quot;/&gt;\r\n   ...\r\n  \r\n``` \r\n\r\n","title":"How to fetch data from java map in xslt","body":"<p>The easiest way to access elements of a Java <code>Map</code> is to declare a namespace:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xsl:stylesheet xmlns:map=&quot;java:java.util.Map&quot; ... &gt;\n   &lt;xsl:param name=&quot;sequenceNbrMap&quot;&gt;\n   &lt;xsl:value-of select=&quot;map:get($sequenceNbrMap, 'keyInMap')&quot;/&gt;\n   ...\n  \n</code></pre>\n"}],"owner":{"account_id":3922601,"reputation":21,"user_id":3244281,"display_name":"Vinit Khandelwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2428,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1664534730,"creation_date":1472734801,"question_id":39272223,"body_markdown":"I have a requirement ot get the data from Java map in XSLT.\r\nI know using xalan I can implement it but we have a dependency on common Transformer which is forcing us to use Saxon-HE.\r\nI am passing the java map to variable and getting it in XSLT.\r\nPlease advice how we can achieve that. \r\n\r\n    &lt;xsl:stylesheet version=&quot;2.0&quot;\r\n\txmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n\r\n\t&lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot; /&gt;\r\n\t&lt;xsl:strip-space elements=&quot;*&quot; /&gt;\r\n\t\r\n\t&lt;xsl:param name=&quot;sequenceNbrMap&quot; /&gt;\r\n\r\n    &lt;/xsl&gt;\r\n\r\nI need to get the value from this map based on dynamic key and this map is also dynamic so I can&#39;t directly create this map into XSLT.","title":"How to fetch data from java map in xslt","body":"<p>I have a requirement ot get the data from Java map in XSLT.\nI know using xalan I can implement it but we have a dependency on common Transformer which is forcing us to use Saxon-HE.\nI am passing the java map to variable and getting it in XSLT.\nPlease advice how we can achieve that. </p>\n\n<pre><code>&lt;xsl:stylesheet version=\"2.0\"\nxmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"&gt;\n\n&lt;xsl:output method=\"xml\" indent=\"yes\" /&gt;\n&lt;xsl:strip-space elements=\"*\" /&gt;\n\n&lt;xsl:param name=\"sequenceNbrMap\" /&gt;\n\n&lt;/xsl&gt;\n</code></pre>\n\n<p>I need to get the value from this map based on dynamic key and this map is also dynamic so I can't directly create this map into XSLT.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664452123,"post_id":73894395,"comment_id":130477782,"body_markdown":"*what im trying to do is to build a JAR artifact which should include the necessary libraries as well as directories* and *Is there an option in Intellij to exclude directories from building into a JAR?* seem to be contradictory... You don&#39;t need 3rd party stuff like launch4j now as you can use the [jdk itself](https://technojeeves.com/index.php/aliasjava1/111-making-native-installable-apps-with-java-9)","body":"<i>what im trying to do is to build a JAR artifact which should include the necessary libraries as well as directories</i> and <i>Is there an option in Intellij to exclude directories from building into a JAR?</i> seem to be contradictory... You don&#39;t need 3rd party stuff like launch4j now as you can use the <a href=\"https://technojeeves.com/index.php/aliasjava1/111-making-native-installable-apps-with-java-9\" rel=\"nofollow noreferrer\">jdk itself</a>"},{"owner":{"account_id":26248329,"reputation":1,"user_id":19921492,"display_name":"Andrew J"},"score":0,"creation_date":1664454677,"post_id":73894395,"comment_id":130478716,"body_markdown":"The installer is a problem when others dont have permission to execute it. Sorry for not telling you before","body":"The installer is a problem when others dont have permission to execute it. Sorry for not telling you before"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664455244,"post_id":73894395,"comment_id":130478948,"body_markdown":"Sorry - I don&#39;t understand","body":"Sorry - I don&#39;t understand"},{"owner":{"account_id":26248329,"reputation":1,"user_id":19921492,"display_name":"Andrew J"},"score":0,"creation_date":1664456016,"post_id":73894395,"comment_id":130479285,"body_markdown":"From the link you send me you are trying to use a installer to install the application. This could create issues regarding the permission rights of other users in the network when they try to execute it since they need to install a Java interpreter. Since lauch4j is a easy to use GUI tool i prefer it to create a executable instead of using console commands","body":"From the link you send me you are trying to use a installer to install the application. This could create issues regarding the permission rights of other users in the network when they try to execute it since they need to install a Java interpreter. Since lauch4j is a easy to use GUI tool i prefer it to create a executable instead of using console commands"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664457065,"post_id":73894395,"comment_id":130479693,"body_markdown":"Unless I&#39;m mistaken, launch4j is *also* an installer. You can even get it to install other stuff alongside the Java app, afaicr","body":"Unless I&#39;m mistaken, launch4j is <i>also</i> an installer. You can even get it to install other stuff alongside the Java app, afaicr"},{"owner":{"account_id":26248329,"reputation":1,"user_id":19921492,"display_name":"Andrew J"},"score":0,"creation_date":1664459265,"post_id":73894395,"comment_id":130480615,"body_markdown":"Yeah that true Launch4j is an open source installer, but it creates an exe before distributing it to the end user whereas your idea was to give the installer to every user? It seems to me that launch4j is more user-friendly with just executing a exe or am i understanding your intentions wrong?","body":"Yeah that true Launch4j is an open source installer, but it creates an exe before distributing it to the end user whereas your idea was to give the installer to every user? It seems to me that launch4j is more user-friendly with just executing a exe or am i understanding your intentions wrong?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664461542,"post_id":73894395,"comment_id":130481654,"body_markdown":"The JDK can create an exe or an msi for WIndows","body":"The JDK can create an exe or an msi for WIndows"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664466777,"post_id":73894395,"comment_id":130483772,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26248329,"reputation":1,"user_id":19921492,"display_name":"Andrew J"},"score":0,"creation_date":1664519398,"post_id":73894395,"comment_id":130494524,"body_markdown":"I just need to have an extra directory in the output folder with content from my project like a chromedriver that i wouldnt want to copy paste around. Is it possible to do such a task?","body":"I just need to have an extra directory in the output folder with content from my project like a chromedriver that i wouldnt want to copy paste around. Is it possible to do such a task?"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1664523075,"post_id":73894395,"comment_id":130495587,"body_markdown":"Please see if https://stackoverflow.com/a/42200519/12844632 helps","body":"Please see if <a href=\"https://stackoverflow.com/a/42200519/12844632\">stackoverflow.com/a/42200519/12844632</a> helps"},{"owner":{"account_id":26248329,"reputation":1,"user_id":19921492,"display_name":"Andrew J"},"score":0,"creation_date":1664878185,"post_id":73894395,"comment_id":130565791,"body_markdown":"This approach puts the directories into the JAR file which did not work for my application. I need the folders outside the JAR file to use it","body":"This approach puts the directories into the JAR file which did not work for my application. I need the folders outside the JAR file to use it"}],"owner":{"account_id":26248329,"reputation":1,"user_id":19921492,"display_name":"Andrew J"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664533923,"creation_date":1664449129,"question_id":73894395,"body_markdown":"So what im trying to do is to build a JAR artifact which should include the necessary libraries as well as directories which are outside of the JAR file and can be looked at in the explorer.\r\n\r\nI have already tried to add directories to the artifacts but these get put into the JAR file in a folder which i cant access later when converting it to a exe using launch4j.\r\n\r\nIs there an option in Intellij to exclude directories from building into a JAR?\r\n\r\nEdit: I want the output directory like this\r\n[Directory Structure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t7V9e.png","title":"Is there an option for intellij to build directories outside the JAR file?","body":"<p>So what im trying to do is to build a JAR artifact which should include the necessary libraries as well as directories which are outside of the JAR file and can be looked at in the explorer.</p>\n<p>I have already tried to add directories to the artifacts but these get put into the JAR file in a folder which i cant access later when converting it to a exe using launch4j.</p>\n<p>Is there an option in Intellij to exclude directories from building into a JAR?</p>\n<p>Edit: I want the output directory like this\n<a href=\"https://i.stack.imgur.com/t7V9e.png\" rel=\"nofollow noreferrer\">Directory Structure</a></p>\n"},{"tags":["java","graalvm","graaljs"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1666627361,"post_id":73906973,"comment_id":130976690,"body_markdown":"doc says use [TruffleMap](https://www.graalvm.org/22.2/reference-manual/js/JavaInteroperability/#access-to-javascript-objects-from-java) also check https://github.com/oracle/graaljs/issues/3","body":"doc says use <a href=\"https://www.graalvm.org/22.2/reference-manual/js/JavaInteroperability/#access-to-javascript-objects-from-java\" rel=\"nofollow noreferrer\">TruffleMap</a> also check <a href=\"https://github.com/oracle/graaljs/issues/3\" rel=\"nofollow noreferrer\">github.com/oracle/graaljs/issues/3</a>"}],"owner":{"account_id":7340028,"reputation":11,"user_id":5589963,"display_name":"Mangesh Darekar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664533853,"creation_date":1664531753,"question_id":73906973,"body_markdown":"    \r\n    import com.oracle.truffle.js.scriptengine.GraalJSScriptEngine;\r\n    import org.graalvm.polyglot.Context;\r\n    \r\n    import javax.script.Compilable;\r\n    \r\n    public class Main {\r\n        Context.Builder context = Context.newBuilder(&quot;js&quot;)\r\n                .allowAllAccess(true)\r\n                .option(&quot;js.nashorn-compat&quot;,&quot;true&quot;);\r\n        GraalJSScriptEngine  graalJSScriptEngine = GraalJSScriptEngine.create(null, context);\r\n        Compilable comparable = (Compilable) graalJSScriptEngine;\r\n    \r\n        String script = &quot;function accessKey(){ return name; };&quot; +\r\n                &quot;accessKey();&quot;;\r\n    \r\n    }\r\n\r\nI want to access name variable through database, there is class that provides value for key\r\n\r\n    public class AccessDataBase {\r\n        public Object getVakueFromDb(String key){\r\n            Object value = null;\r\n            // database fetch code for fetch value\r\n            return value;\r\n        }\r\n    }\r\n\r\nThis class provides value of particular key, (eg: getVakueFromDb(&quot;name&quot;))\r\nBut in my case I didn&#39;t want access key like \r\n```\r\nvar accesdb = Java.type(&quot;org.accessDataBase&quot;)\r\naccesdb.getValueForDb(&quot;name&quot;)\r\n```\r\n\r\nI want direct access if i am using variable it should internally call getValueFromDb method, like bindings.  ","title":"Graal js Binding access Java api to get value for JS variables","body":"<pre><code>import com.oracle.truffle.js.scriptengine.GraalJSScriptEngine;\nimport org.graalvm.polyglot.Context;\n\nimport javax.script.Compilable;\n\npublic class Main {\n    Context.Builder context = Context.newBuilder(&quot;js&quot;)\n            .allowAllAccess(true)\n            .option(&quot;js.nashorn-compat&quot;,&quot;true&quot;);\n    GraalJSScriptEngine  graalJSScriptEngine = GraalJSScriptEngine.create(null, context);\n    Compilable comparable = (Compilable) graalJSScriptEngine;\n\n    String script = &quot;function accessKey(){ return name; };&quot; +\n            &quot;accessKey();&quot;;\n\n}\n</code></pre>\n<p>I want to access name variable through database, there is class that provides value for key</p>\n<pre><code>public class AccessDataBase {\n    public Object getVakueFromDb(String key){\n        Object value = null;\n        // database fetch code for fetch value\n        return value;\n    }\n}\n</code></pre>\n<p>This class provides value of particular key, (eg: getVakueFromDb(&quot;name&quot;))\nBut in my case I didn't want access key like</p>\n<pre><code>var accesdb = Java.type(&quot;org.accessDataBase&quot;)\naccesdb.getValueForDb(&quot;name&quot;)\n</code></pre>\n<p>I want direct access if i am using variable it should internally call getValueFromDb method, like bindings.</p>\n"},{"tags":["java","spring","spring-boot","protobuf-java"],"answers":[{"tags":[],"owner":{"account_id":3618222,"reputation":158,"user_id":3017614,"display_name":"mEstrazulas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642170188,"creation_date":1642170188,"answer_id":70712063,"question_id":70710979,"body_markdown":"Try put this configuration on your DTO:\r\n\r\n    @JsonNaming(PropertyNamingStrategy.SnakeCaseStrategy.class)\r\n\r\nOr, you can do a custom configuration to objectMapper bean to affect all objects:\r\n\r\n    @Bean\r\n    ObjectMapper objectMapper() {\r\n     return new ObjectMapper()\r\n      .setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE);\r\n    }","title":"How to auto convert camel case request body to snake case protobuf message in Spring Boot","body":"<p>Try put this configuration on your DTO:</p>\n<pre><code>@JsonNaming(PropertyNamingStrategy.SnakeCaseStrategy.class)\n</code></pre>\n<p>Or, you can do a custom configuration to objectMapper bean to affect all objects:</p>\n<pre><code>@Bean\nObjectMapper objectMapper() {\n return new ObjectMapper()\n  .setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2751862,"reputation":68,"user_id":2371075,"display_name":"SwaPpeR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664533845,"creation_date":1664533845,"answer_id":73907358,"question_id":70710979,"body_markdown":"this can be achieved by adding the following property \r\n\r\n    spring.jackson.property-naming-strategy=SNAKE_CASE\r\n","title":"How to auto convert camel case request body to snake case protobuf message in Spring Boot","body":"<p>this can be achieved by adding the following property</p>\n<pre><code>spring.jackson.property-naming-strategy=SNAKE_CASE\n</code></pre>\n"}],"owner":{"account_id":263027,"reputation":927,"user_id":548328,"accept_rate":69,"display_name":"Sili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664533845,"creation_date":1642165326,"question_id":70710979,"body_markdown":"I have a endpoint like this\r\n```\r\n@PostMapping(value = &quot;/create&quot;)\r\n    public Mono&lt;?&gt; issueToken(@RequestBody IssuePayTokenRequest request) {\r\n        return Mono.fromCallable(() -&gt; tokenManagementService.issuePayToken(request)).subscribeOn(Schedulers.boundedElastic());\r\n    }\r\n```\r\nAnd the IssuePayTokenRequest is a protobuf message, like this\r\n```\r\nmessage IssuePayTokenRequest {\r\n  string client_id = 1;\r\n}\r\n```\r\nAccording to Google protobuf&#39;s style guide, I should use snake case style for fields, so when client call this endpoint, the request body should like this.\r\n```\r\n{ &quot;client_id&quot;: &quot;abcdefg&quot;}\r\n```\r\nHowever, for JSON style guide, the field should use camel case, like this\r\n```\r\n{ &quot;clientId&quot;: &quot;abcdefg&quot;}\r\n```\r\n\r\nCan I do some configuration to let Spring Boot auto convert a camel case style request body to a snake case style protobuf message?\r\n\r\n\r\nPS: It&#39;s legacy project and I&#39;m not familiar with Spring, but I found this code in the Configuartion class.\r\n\r\n```\r\n@Bean\r\n    public ObjectMapper objectMapper() {\r\n        return new Jackson2ObjectMapperBuilder()\r\n                .featuresToDisable(\r\n                        JsonGenerator.Feature.IGNORE_UNKNOWN,\r\n                        MapperFeature.DEFAULT_VIEW_INCLUSION,\r\n                        DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES,\r\n                        SerializationFeature.WRITE_DATES_AS_TIMESTAMPS\r\n                )\r\n                .serializationInclusion(JsonInclude.Include.ALWAYS)\r\n                .propertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE)\r\n                .modulesToInstall(ProtobufModule.class)\r\n                .build();\r\n    }\r\n\r\n    @Override\r\n    protected void configureHttpMessageCodecs(ServerCodecConfigurer configurer) {\r\n        ObjectMapper objectMapper = objectMapper();\r\n        configurer.defaultCodecs().jackson2JsonDecoder(new Jackson2JsonDecoder(objectMapper));\r\n        configurer.defaultCodecs().jackson2JsonEncoder(new Jackson2JsonEncoder(objectMapper));\r\n    }\r\n``` \r\nSeems it should convert camel case json to snake case protobuf automaticly. But it doesn&#39;t work as I wish.","title":"How to auto convert camel case request body to snake case protobuf message in Spring Boot","body":"<p>I have a endpoint like this</p>\n<pre><code>@PostMapping(value = &quot;/create&quot;)\n    public Mono&lt;?&gt; issueToken(@RequestBody IssuePayTokenRequest request) {\n        return Mono.fromCallable(() -&gt; tokenManagementService.issuePayToken(request)).subscribeOn(Schedulers.boundedElastic());\n    }\n</code></pre>\n<p>And the IssuePayTokenRequest is a protobuf message, like this</p>\n<pre><code>message IssuePayTokenRequest {\n  string client_id = 1;\n}\n</code></pre>\n<p>According to Google protobuf's style guide, I should use snake case style for fields, so when client call this endpoint, the request body should like this.</p>\n<pre><code>{ &quot;client_id&quot;: &quot;abcdefg&quot;}\n</code></pre>\n<p>However, for JSON style guide, the field should use camel case, like this</p>\n<pre><code>{ &quot;clientId&quot;: &quot;abcdefg&quot;}\n</code></pre>\n<p>Can I do some configuration to let Spring Boot auto convert a camel case style request body to a snake case style protobuf message?</p>\n<p>PS: It's legacy project and I'm not familiar with Spring, but I found this code in the Configuartion class.</p>\n<pre><code>@Bean\n    public ObjectMapper objectMapper() {\n        return new Jackson2ObjectMapperBuilder()\n                .featuresToDisable(\n                        JsonGenerator.Feature.IGNORE_UNKNOWN,\n                        MapperFeature.DEFAULT_VIEW_INCLUSION,\n                        DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES,\n                        SerializationFeature.WRITE_DATES_AS_TIMESTAMPS\n                )\n                .serializationInclusion(JsonInclude.Include.ALWAYS)\n                .propertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE)\n                .modulesToInstall(ProtobufModule.class)\n                .build();\n    }\n\n    @Override\n    protected void configureHttpMessageCodecs(ServerCodecConfigurer configurer) {\n        ObjectMapper objectMapper = objectMapper();\n        configurer.defaultCodecs().jackson2JsonDecoder(new Jackson2JsonDecoder(objectMapper));\n        configurer.defaultCodecs().jackson2JsonEncoder(new Jackson2JsonEncoder(objectMapper));\n    }\n</code></pre>\n<p>Seems it should convert camel case json to snake case protobuf automaticly. But it doesn't work as I wish.</p>\n"},{"tags":["java","hibernate","spring-boot","lombok","mapstruct"],"comments":[{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":0,"creation_date":1586283961,"post_id":61086780,"comment_id":108070974,"body_markdown":"N+1 query problem, check the log for query executed","body":"N+1 query problem, check the log for query executed"},{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1586284349,"post_id":61086780,"comment_id":108071163,"body_markdown":"When asking questions related to an exception, please always add the original exception message and the stacktrace!","body":"When asking questions related to an exception, please always add the original exception message and the stacktrace!"},{"owner":{"account_id":9275436,"reputation":93,"user_id":6888229,"accept_rate":80,"display_name":"Vladimir J. Casta&#241;eda G."},"score":0,"creation_date":1586284545,"post_id":61086780,"comment_id":108071252,"body_markdown":"added output logs @dpr","body":"added output logs @dpr"},{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1586285343,"post_id":61086780,"comment_id":108071673,"body_markdown":"The problem is that you have a recursion in your data structures. ActorDTO hat a list of films and FilmDTO has a list of actors. I&#39;m not much into lombok, so I can&#39;t give you a solution but maybe this hint will allow you to find a solution on your own.","body":"The problem is that you have a recursion in your data structures. ActorDTO hat a list of films and FilmDTO has a list of actors. I&#39;m not much into lombok, so I can&#39;t give you a solution but maybe this hint will allow you to find a solution on your own."},{"owner":{"account_id":9275436,"reputation":93,"user_id":6888229,"accept_rate":80,"display_name":"Vladimir J. Casta&#241;eda G."},"score":0,"creation_date":1586285805,"post_id":61086780,"comment_id":108071915,"body_markdown":"Yes, I understand it&#39;s because of the recurrence issue between FilmDTO and ActorDTO, but that&#39;s the relationship between tables in the database. lombok doesn&#39;t participate in the cause of the exception, I just put it there so you can understand why the setter and getter annotations. When creating the getter, setter and constructors without lombok, it throws the same exception @dpr","body":"Yes, I understand it&#39;s because of the recurrence issue between FilmDTO and ActorDTO, but that&#39;s the relationship between tables in the database. lombok doesn&#39;t participate in the cause of the exception, I just put it there so you can understand why the setter and getter annotations. When creating the getter, setter and constructors without lombok, it throws the same exception @dpr"},{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1586286477,"post_id":61086780,"comment_id":108072215,"body_markdown":"I thought @Mapper would be a lombok annotation as well. Just noticed that it is MapStruct. Maybe look at this comment on github https://github.com/mapstruct/mapstruct/issues/469#issuecomment-249994986","body":"I thought @Mapper would be a lombok annotation as well. Just noticed that it is MapStruct. Maybe look at this comment on github <a href=\"https://github.com/mapstruct/mapstruct/issues/469#issuecomment-249994986\" rel=\"nofollow noreferrer\">github.com/mapstruct/mapstruct/issues/&hellip;</a>"},{"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"score":0,"creation_date":1586289702,"post_id":61086780,"comment_id":108073831,"body_markdown":"the problem is that you have a cyclic dependency. There is an example in the MapStruct repo covering such case. Have a look at https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-mapping-with-cycles and see if this helps you.","body":"the problem is that you have a cyclic dependency. There is an example in the MapStruct repo covering such case. Have a look at <a href=\"https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-mapping-with-cycles\" rel=\"nofollow noreferrer\">github.com/mapstruct/mapstruct-examples/tree/master/&hellip;</a> and see if this helps you."},{"owner":{"account_id":9414322,"reputation":166,"user_id":7002459,"display_name":"Jailson Evora"},"score":0,"creation_date":1586309186,"post_id":61086780,"comment_id":108079906,"body_markdown":"Add @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\npublic class ... and change the definition of many to many to something like this @ManyToMany(fetch = FetchType.LAZY,\n            cascade = {\n                    CascadeType.ALL\n            },\n            targetEntity= YourModel.class)","body":"Add @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;}) public class ... and change the definition of many to many to something like this @ManyToMany(fetch = FetchType.LAZY,             cascade = {                     CascadeType.ALL             },             targetEntity= YourModel.class)"},{"owner":{"account_id":9275436,"reputation":93,"user_id":6888229,"accept_rate":80,"display_name":"Vladimir J. Casta&#241;eda G."},"score":0,"creation_date":1586311432,"post_id":61086780,"comment_id":108080372,"body_markdown":"Thanks **Sjaak** and **dpr** no longer launch the exception applying the CycleAvoidingMappingContext, but there is still the circular dependency, I want when consulting films, bring me the actors without films and when consulting acts, bring me the actors without films. **Jailson Evora** not work for me","body":"Thanks <b>Sjaak</b> and <b>dpr</b> no longer launch the exception applying the CycleAvoidingMappingContext, but there is still the circular dependency, I want when consulting films, bring me the actors without films and when consulting acts, bring me the actors without films. <b>Jailson Evora</b> not work for me"},{"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"score":0,"creation_date":1587910631,"post_id":61086780,"comment_id":108689341,"body_markdown":"I guess the original problem now changed from a MapStruct problem into a resolving entities, right?  MapStruct generates codes. You can setup breakpoints in that generated code to see what going on. My suspicion is that @JailsonEvora is right and the remaining problem is  related to cascading. But its hard to gauge from your current code above. Can you help others by publishing the answer to your question (fixing the nullptr) so they befit from it? If problems remain, you can always open a new question with a minimum reproducer.","body":"I guess the original problem now changed from a MapStruct problem into a resolving entities, right?  MapStruct generates codes. You can setup breakpoints in that generated code to see what going on. My suspicion is that @JailsonEvora is right and the remaining problem is  related to cascading. But its hard to gauge from your current code above. Can you help others by publishing the answer to your question (fixing the nullptr) so they befit from it? If problems remain, you can always open a new question with a minimum reproducer."},{"owner":{"account_id":9414322,"reputation":166,"user_id":7002459,"display_name":"Jailson Evora"},"score":0,"creation_date":1587958788,"post_id":61086780,"comment_id":108704919,"body_markdown":"Ok @Sjaak, I will publish it soon...","body":"Ok @Sjaak, I will publish it soon..."}],"answers":[{"tags":[],"owner":{"account_id":9414322,"reputation":166,"user_id":7002459,"display_name":"Jailson Evora"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1588006392,"creation_date":1588006392,"answer_id":61464101,"question_id":61086780,"body_markdown":"Try this one, instantiate the HashSet&lt;&gt;() of both property and you need only one direction mapping, leave the actor side mapping commented.\r\n\r\nMovie\r\n\r\n    @Entity @Table(name = &quot;Film&quot;) \r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n    public class Film implements Serializable {\r\n\r\n        @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t    @Column(name = &quot;Film_id&quot;, updatable = false, nullable = false)\r\n        private Long id;\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;Director_id&quot;)\r\n        private Director director;\r\n    \r\n\t    @ManyToMany(fetch = FetchType.LAZY,\r\n            cascade = {\r\n                    CascadeType.ALL\r\n            },\r\n            targetEntity= ActorModel.class\r\n        )\r\n        @JoinTable(name = &quot;Actor_has_Film&quot;,\r\n            joinColumns = { @JoinColumn(name = &quot;Film_id&quot;) },\r\n            inverseJoinColumns = { @JoinColumn(name = &quot;Actor_id&quot;) })\r\n        @JsonProperty(&quot;actors&quot;)\r\n        private Set&lt;Actor&gt; actors = new HashSet&lt;&gt;();\r\n\r\n        public void addActor(Actor actor) {\r\n          this.actors.add(actor);\r\n        }\r\n    }\r\n\r\nActor\r\n\r\n    @Entity()\r\n    @Table(name = &quot;Actor&quot;)\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n    public class Actor implements Serializable {\r\n\r\n        @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t    @Column(name = &quot;Actor_id&quot;, updatable = false, nullable = false)\r\n        private Long id;\r\n\r\n        @NotBlank(message = &quot;name is required&quot;)\r\n        private String name;\r\n\r\n        /*@ManyToMany(mappedBy = &quot;actors&quot;)\r\n\t    @JsonIgnore\r\n        private Set&lt;Film&gt; films = new HashSet&lt;&gt;();*/\r\n    }","title":"java.lang.StackOverflowError ManyToMany: MapStruct - Spring Boot - Hibernate","body":"<p>Try this one, instantiate the HashSet&lt;>() of both property and you need only one direction mapping, leave the actor side mapping commented.</p>\n\n<p>Movie</p>\n\n<pre><code>@Entity @Table(name = \"Film\") \n@JsonIgnoreProperties({\"hibernateLazyInitializer\", \"handler\"})\npublic class Film implements Serializable {\n\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"Film_id\", updatable = false, nullable = false)\n    private Long id;\n\n    @ManyToOne\n    @JoinColumn(name = \"Director_id\")\n    private Director director;\n\n    @ManyToMany(fetch = FetchType.LAZY,\n        cascade = {\n                CascadeType.ALL\n        },\n        targetEntity= ActorModel.class\n    )\n    @JoinTable(name = \"Actor_has_Film\",\n        joinColumns = { @JoinColumn(name = \"Film_id\") },\n        inverseJoinColumns = { @JoinColumn(name = \"Actor_id\") })\n    @JsonProperty(\"actors\")\n    private Set&lt;Actor&gt; actors = new HashSet&lt;&gt;();\n\n    public void addActor(Actor actor) {\n      this.actors.add(actor);\n    }\n}\n</code></pre>\n\n<p>Actor</p>\n\n<pre><code>@Entity()\n@Table(name = \"Actor\")\n@JsonIgnoreProperties({\"hibernateLazyInitializer\", \"handler\"})\npublic class Actor implements Serializable {\n\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"Actor_id\", updatable = false, nullable = false)\n    private Long id;\n\n    @NotBlank(message = \"name is required\")\n    private String name;\n\n    /*@ManyToMany(mappedBy = \"actors\")\n    @JsonIgnore\n    private Set&lt;Film&gt; films = new HashSet&lt;&gt;();*/\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4674294,"reputation":309,"user_id":3785184,"display_name":"dilbertside"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664533771,"creation_date":1664533060,"answer_id":73907205,"question_id":61086780,"body_markdown":"I stumble on this post and found a solution to the same problem of Circular dependencies or StackOverflowError with a @ManyToMany JPA relation using MapStruct.\r\nThe solution `@AfterMapping` proposed in [java.lang.StackOverflowError if Mappers have circular dependencies][1] didn&#39;t fit me for now.\r\n\r\nHere I propose only a solution from Entity to Dto direction ie `List&lt;D&gt; toDto(List&lt;E&gt; entityList);`, the `List&lt;E&gt; toEntity(List&lt;D&gt; dtoList);` elude me as not needed for moment but something to keep in mind would be the cascadable operations that are propagated to the associated entity such as PERSIST, MERGE, REMOVE, REFRESH, DETACH.\r\n\r\n```java\r\n\r\n@Mapper(componentModel = &quot;spring&quot;, uses = { })\r\npublic interface ActorMapper extends DataMapper&lt;ActorDTO, Actor&gt; {\r\n\r\n  @Mapping(target = &quot;films&quot;, source = &quot;films&quot;, qualifiedByName = &quot;filmIdSet&quot;) // circular dependencies\r\n  ActorDTO toDto(Actor s);\r\n  \r\n  @Named(&quot;filmId&quot;)\r\n  @BeanMapping(ignoreByDefault = true)\r\n  @Mapping(target = &quot;id&quot;, source = &quot;id&quot;)\r\n  @Mapping(target = &quot;name&quot;, source = &quot;name&quot;)\r\n  ActorDTO toDtoFilmId(Film film);\r\n  \r\n  @Named(&quot;filmIdSet&quot;)\r\n  default Set&lt;ActorDTO&gt; toDtoFilmIdSet(Set&lt;Film&gt; films) {\r\n      return films.stream().map(this::toDtoFilmId).collect(Collectors.toSet());\r\n  }\r\n}\r\n\r\n\r\n@Mapper(componentModel = &quot;spring&quot;, uses = { })\r\npublic interface FilmMapper extends DataMapper&lt;FilmDTO, Film&gt; {\r\n\r\n\t@Mapping(target = &quot;actors&quot;, source = &quot;actors&quot;, qualifiedByName = &quot;actorIdSet&quot;) // circular dependencies\r\n  FilmDTO toDto(Film s);\r\n  \r\n  @Named(&quot;actorId&quot;)\r\n  @BeanMapping(ignoreByDefault = true)\r\n  @Mapping(target = &quot;id&quot;, source = &quot;id&quot;)\r\n  ActorDto toDtoActorId(Actor actor);\r\n  \r\n  @Named(&quot;actorIdSet&quot;)\r\n  default Set&lt;ActorDto&gt; toDtoActorIdSet(Set&lt;Actor&gt; actors) {\r\n      return actors.stream().map(this::toDtoActorId).collect(Collectors.toSet());\r\n  }\r\n}\r\n```\r\nIn a nutshell the idea is by default ignore all properties to avoid the circular reference and add only the non circular ones.\r\n\r\nAnother way is the following, but it gives less choice on what property we want to keep eventually\r\n\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;, uses = { })\r\npublic interface ActorMapper extends DataMapper&lt;ActorDTO, Actor&gt; {\r\n\r\n  @Mapping(target = &quot;films&quot;, source = &quot;films&quot;, ignore = true) // circular dependencies\r\n  ActorDTO toDto(Actor s);\r\n  \r\n}\r\n\r\n\r\n@Mapper(componentModel = &quot;spring&quot;, uses = { })\r\npublic interface FilmMapper extends DataMapper&lt;FilmDTO, Film&gt; {\r\n\r\n\t@Mapping(target = &quot;actors&quot;, source = &quot;actors&quot;, ignore = true) // circular dependencies\r\n  FilmDTO toDto(Film s);\r\n  \r\n}\r\n``` \r\n\r\nI use Mapstruct Version: 1.5.2.Final\r\n\r\n  [1]: https://github.com/mapstruct/mapstruct/issues/1163","title":"java.lang.StackOverflowError ManyToMany: MapStruct - Spring Boot - Hibernate","body":"<p>I stumble on this post and found a solution to the same problem of Circular dependencies or StackOverflowError with a @ManyToMany JPA relation using MapStruct.\nThe solution <code>@AfterMapping</code> proposed in <a href=\"https://github.com/mapstruct/mapstruct/issues/1163\" rel=\"nofollow noreferrer\">java.lang.StackOverflowError if Mappers have circular dependencies</a> didn't fit me for now.</p>\n<p>Here I propose only a solution from Entity to Dto direction ie <code>List&lt;D&gt; toDto(List&lt;E&gt; entityList);</code>, the <code>List&lt;E&gt; toEntity(List&lt;D&gt; dtoList);</code> elude me as not needed for moment but something to keep in mind would be the cascadable operations that are propagated to the associated entity such as PERSIST, MERGE, REMOVE, REFRESH, DETACH.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Mapper(componentModel = &quot;spring&quot;, uses = { })\npublic interface ActorMapper extends DataMapper&lt;ActorDTO, Actor&gt; {\n\n  @Mapping(target = &quot;films&quot;, source = &quot;films&quot;, qualifiedByName = &quot;filmIdSet&quot;) // circular dependencies\n  ActorDTO toDto(Actor s);\n  \n  @Named(&quot;filmId&quot;)\n  @BeanMapping(ignoreByDefault = true)\n  @Mapping(target = &quot;id&quot;, source = &quot;id&quot;)\n  @Mapping(target = &quot;name&quot;, source = &quot;name&quot;)\n  ActorDTO toDtoFilmId(Film film);\n  \n  @Named(&quot;filmIdSet&quot;)\n  default Set&lt;ActorDTO&gt; toDtoFilmIdSet(Set&lt;Film&gt; films) {\n      return films.stream().map(this::toDtoFilmId).collect(Collectors.toSet());\n  }\n}\n\n\n@Mapper(componentModel = &quot;spring&quot;, uses = { })\npublic interface FilmMapper extends DataMapper&lt;FilmDTO, Film&gt; {\n\n    @Mapping(target = &quot;actors&quot;, source = &quot;actors&quot;, qualifiedByName = &quot;actorIdSet&quot;) // circular dependencies\n  FilmDTO toDto(Film s);\n  \n  @Named(&quot;actorId&quot;)\n  @BeanMapping(ignoreByDefault = true)\n  @Mapping(target = &quot;id&quot;, source = &quot;id&quot;)\n  ActorDto toDtoActorId(Actor actor);\n  \n  @Named(&quot;actorIdSet&quot;)\n  default Set&lt;ActorDto&gt; toDtoActorIdSet(Set&lt;Actor&gt; actors) {\n      return actors.stream().map(this::toDtoActorId).collect(Collectors.toSet());\n  }\n}\n</code></pre>\n<p>In a nutshell the idea is by default ignore all properties to avoid the circular reference and add only the non circular ones.</p>\n<p>Another way is the following, but it gives less choice on what property we want to keep eventually</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;, uses = { })\npublic interface ActorMapper extends DataMapper&lt;ActorDTO, Actor&gt; {\n\n  @Mapping(target = &quot;films&quot;, source = &quot;films&quot;, ignore = true) // circular dependencies\n  ActorDTO toDto(Actor s);\n  \n}\n\n\n@Mapper(componentModel = &quot;spring&quot;, uses = { })\npublic interface FilmMapper extends DataMapper&lt;FilmDTO, Film&gt; {\n\n    @Mapping(target = &quot;actors&quot;, source = &quot;actors&quot;, ignore = true) // circular dependencies\n  FilmDTO toDto(Film s);\n  \n}\n</code></pre>\n<p>I use Mapstruct Version: 1.5.2.Final</p>\n"}],"owner":{"account_id":9275436,"reputation":93,"user_id":6888229,"accept_rate":80,"display_name":"Vladimir J. Casta&#241;eda G."},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2559,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664533771,"creation_date":1586283650,"question_id":61086780,"body_markdown":"I&#39;m doing an api rest on spring boot and I&#39;m using MapStruct for the transformation between DTO&#39;s and Entities. The problem is that it launches an exception StackOverflowError in the relationship of ManyToMany. Could you help me?\r\n\r\nActor Entity\r\n\r\n    @Getter @Setter\r\n    @NoArgsConstructor\r\n    @Entity()\r\n    @Table(name = &quot;Actor&quot;)\r\n    @EqualsAndHashCode(exclude = &quot;films&quot;)\r\n    public class Actor implements Serializable {\r\n    \r\n        @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n\r\n        @NotBlank(message = &quot;name is required&quot;)\r\n        private String name;\r\n        \r\n        @ManyToMany(mappedBy = &quot;actors&quot;)\r\n        private Set&lt;Film&gt; films;\r\n    }\r\n\r\nFilm Entity\r\n\r\n    @Getter @Setter\r\n    @NoArgsConstructor\r\n    @Entity @Table(name = &quot;Film&quot;)\r\n    @EqualsAndHashCode(exclude = &quot;actors&quot;)\r\n    public class Film implements Serializable {\r\n    \r\n        @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;Director_id&quot;)\r\n        private Director director;\r\n    \r\n        @ManyToMany()\r\n        @JoinTable(\r\n                name = &quot;Actor_has_Film&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;Film_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;Actor_id&quot;))\r\n        private Set&lt;Actor&gt; actors;\r\n    \r\n        public void addActor(Actor actor) {\r\n            this.actors.add(actor);\r\n        }\r\n    }\r\n\r\nActorDTO\r\n\r\n    @Getter @Setter\r\n    @NoArgsConstructor\r\n    public class ActorDTO {\r\n    \r\n        private Long id;\r\n        private String name;    \r\n        private Set&lt;FilmDTO&gt; films;\r\n    }\r\n\r\nFilmDTO\r\n\r\n    @Getter @Setter\r\n    @NoArgsConstructor\r\n    public class FilmDTO {\r\n    \r\n        private Long id;\r\n        private DirectorDTO director;    \r\n        private Set&lt;ActorDTO&gt; actors;\r\n    }\r\n\r\nDataMapper\r\n\r\n    public interface DataMapper&lt;D, E&gt; {\r\n        E toEntity(D dto);\r\n        D toDto(E entity);\r\n        List&lt;E&gt; toEntity(List&lt;D&gt; dtoList);\r\n        List&lt;D&gt; toDto(List&lt;E&gt; entityList);\r\n    }\r\n\r\nActorMapper\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, uses = { })\r\n    public interface ActorMapper extends DataMapper&lt;ActorDTO, Actor&gt; {\r\n    }\r\n\r\nFilmMapper\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, uses = { })\r\n    public interface FilmMapper extends DataMapper&lt;FilmDTO, Film&gt; {\r\n    }\r\n\r\nFilmServices\r\n\r\n    @Service(&quot;filmServices&quot;)\r\n    public class FilmServices implements Services&lt;FilmDTO&gt; {\r\n    \r\n        @Autowired @Qualifier(&quot;filmRepository&quot;)\r\n        private FilmRepository filmRepository;\r\n\r\n        @Autowired @Qualifier(&quot;actorRepository&quot;)\r\n        private ActorRepository actorRepository;\r\n\r\n        private FilmMapper filmMapper;\r\n\r\n        public FilmServices(FilmMapper filmMapper) {\r\n            this.filmMapper = filmMapper;\r\n        }\r\n\r\n        public FilmDTO addActorToFilm(Long filmId, Long actoId) {\r\n            Optional&lt;Film&gt; filmByIdOptional = filmRepository.findById(filmId);\r\n            Optional&lt;Actor&gt; actorByIdOptional = actorRepository.findById(actoId);\r\n            FilmDTO filmDtoWithNewActor = null;\r\n    \r\n            if (!filmByIdOptional.isPresent())\r\n                throw new RuntimeException(&quot;The Film with id &#39;&quot; + filmId + &quot;&#39; does not exist&quot;);\r\n    \r\n            if (!actorByIdOptional.isPresent())\r\n                throw new RuntimeException(&quot;The Actor with id &#39;&quot; + actoId + &quot;&#39; does not exist&quot;);\r\n    \r\n            Film film = filmByIdOptional.get();\r\n            Actor actorToAdd = actorByIdOptional.get();\r\n    \r\n            boolean hasActorInFilm = film.getActors().stream()\r\n                .anyMatch(actor -&gt; actor.getName().equals(actorToAdd.getName()));\r\n    \r\n            if (!hasActorInFilm) {\r\n                film.addActor(actorToAdd);\r\n                Film filmWithNewActor = filmRepository.save(film);\r\n                filmDtoWithNewActor = filmMapper.toDto(filmWithNewActor); // HERE THROW EXCEPTION\r\n            } else {\r\n                throw new RuntimeException(&quot;The Actor with id &#39;&quot; + actoId + &quot;&#39; already exist in the film&quot;);\r\n            }\r\n    \r\n            return filmDtoWithNewActor;\r\n    \r\n        }\r\n    }\r\n\r\noutput logs:\r\n\r\n    Hibernate: select films0_.Actor_id as actor_id2_1_0_, films0_.Film_id as film_id1_1_0_, film1_.id as id1_3_1_, film1_.Director_id as director4_3_1_, director2_.id as id1_2_2_ from Actor_has_Film films0_ inner join Film film1_ on films0_.Film_id=film1_.id left outer join Director director2_ on film1_.Director_id=director2_.id where films0_.Actor_id=?\r\n    2020-04-07 15:27:26.296 ERROR 742 --- [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.StackOverflowError] with root cause\r\n    \r\n    java.lang.StackOverflowError: null\r\n    \tat ar.com.ada.sb.relationship.model.mapper.FilmMapperImpl.actorSetToActorDTOSet(FilmMapperImpl.java:188) ~[classes/:na]\r\n    \tat ar.com.ada.sb.relationship.model.mapper.FilmMapperImpl.toDto(FilmMapperImpl.java:53) ~[classes/:na]\r\n    \tat ar.com.ada.sb.relationship.model.mapper.FilmMapperImpl.filmSetToFilmDTOSet(FilmMapperImpl.java:165) ~[classes/:na]\r\n    \tat ar.com.ada.sb.relationship.model.mapper.FilmMapperImpl.actorToActorDTO(FilmMapperImpl.java:182) ~[classes/:na]\r\n    \tat ar.com.ada.sb.relationship.model.mapper.FilmMapperImpl.actorSetToActorDTOSet(FilmMapperImpl.java:194) ~[classes/:na]\r\n\r\nI would very much appreciate your help","title":"java.lang.StackOverflowError ManyToMany: MapStruct - Spring Boot - Hibernate","body":"<p>I'm doing an api rest on spring boot and I'm using MapStruct for the transformation between DTO's and Entities. The problem is that it launches an exception StackOverflowError in the relationship of ManyToMany. Could you help me?</p>\n\n<p>Actor Entity</p>\n\n<pre><code>@Getter @Setter\n@NoArgsConstructor\n@Entity()\n@Table(name = \"Actor\")\n@EqualsAndHashCode(exclude = \"films\")\npublic class Actor implements Serializable {\n\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotBlank(message = \"name is required\")\n    private String name;\n\n    @ManyToMany(mappedBy = \"actors\")\n    private Set&lt;Film&gt; films;\n}\n</code></pre>\n\n<p>Film Entity</p>\n\n<pre><code>@Getter @Setter\n@NoArgsConstructor\n@Entity @Table(name = \"Film\")\n@EqualsAndHashCode(exclude = \"actors\")\npublic class Film implements Serializable {\n\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne\n    @JoinColumn(name = \"Director_id\")\n    private Director director;\n\n    @ManyToMany()\n    @JoinTable(\n            name = \"Actor_has_Film\",\n            joinColumns = @JoinColumn(name = \"Film_id\"),\n            inverseJoinColumns = @JoinColumn(name = \"Actor_id\"))\n    private Set&lt;Actor&gt; actors;\n\n    public void addActor(Actor actor) {\n        this.actors.add(actor);\n    }\n}\n</code></pre>\n\n<p>ActorDTO</p>\n\n<pre><code>@Getter @Setter\n@NoArgsConstructor\npublic class ActorDTO {\n\n    private Long id;\n    private String name;    \n    private Set&lt;FilmDTO&gt; films;\n}\n</code></pre>\n\n<p>FilmDTO</p>\n\n<pre><code>@Getter @Setter\n@NoArgsConstructor\npublic class FilmDTO {\n\n    private Long id;\n    private DirectorDTO director;    \n    private Set&lt;ActorDTO&gt; actors;\n}\n</code></pre>\n\n<p>DataMapper</p>\n\n<pre><code>public interface DataMapper&lt;D, E&gt; {\n    E toEntity(D dto);\n    D toDto(E entity);\n    List&lt;E&gt; toEntity(List&lt;D&gt; dtoList);\n    List&lt;D&gt; toDto(List&lt;E&gt; entityList);\n}\n</code></pre>\n\n<p>ActorMapper</p>\n\n<pre><code>@Mapper(componentModel = \"spring\", uses = { })\npublic interface ActorMapper extends DataMapper&lt;ActorDTO, Actor&gt; {\n}\n</code></pre>\n\n<p>FilmMapper</p>\n\n<pre><code>@Mapper(componentModel = \"spring\", uses = { })\npublic interface FilmMapper extends DataMapper&lt;FilmDTO, Film&gt; {\n}\n</code></pre>\n\n<p>FilmServices</p>\n\n<pre><code>@Service(\"filmServices\")\npublic class FilmServices implements Services&lt;FilmDTO&gt; {\n\n    @Autowired @Qualifier(\"filmRepository\")\n    private FilmRepository filmRepository;\n\n    @Autowired @Qualifier(\"actorRepository\")\n    private ActorRepository actorRepository;\n\n    private FilmMapper filmMapper;\n\n    public FilmServices(FilmMapper filmMapper) {\n        this.filmMapper = filmMapper;\n    }\n\n    public FilmDTO addActorToFilm(Long filmId, Long actoId) {\n        Optional&lt;Film&gt; filmByIdOptional = filmRepository.findById(filmId);\n        Optional&lt;Actor&gt; actorByIdOptional = actorRepository.findById(actoId);\n        FilmDTO filmDtoWithNewActor = null;\n\n        if (!filmByIdOptional.isPresent())\n            throw new RuntimeException(\"The Film with id '\" + filmId + \"' does not exist\");\n\n        if (!actorByIdOptional.isPresent())\n            throw new RuntimeException(\"The Actor with id '\" + actoId + \"' does not exist\");\n\n        Film film = filmByIdOptional.get();\n        Actor actorToAdd = actorByIdOptional.get();\n\n        boolean hasActorInFilm = film.getActors().stream()\n            .anyMatch(actor -&gt; actor.getName().equals(actorToAdd.getName()));\n\n        if (!hasActorInFilm) {\n            film.addActor(actorToAdd);\n            Film filmWithNewActor = filmRepository.save(film);\n            filmDtoWithNewActor = filmMapper.toDto(filmWithNewActor); // HERE THROW EXCEPTION\n        } else {\n            throw new RuntimeException(\"The Actor with id '\" + actoId + \"' already exist in the film\");\n        }\n\n        return filmDtoWithNewActor;\n\n    }\n}\n</code></pre>\n\n<p>output logs:</p>\n\n<pre><code>Hibernate: select films0_.Actor_id as actor_id2_1_0_, films0_.Film_id as film_id1_1_0_, film1_.id as id1_3_1_, film1_.Director_id as director4_3_1_, director2_.id as id1_2_2_ from Actor_has_Film films0_ inner join Film film1_ on films0_.Film_id=film1_.id left outer join Director director2_ on film1_.Director_id=director2_.id where films0_.Actor_id=?\n2020-04-07 15:27:26.296 ERROR 742 --- [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.StackOverflowError] with root cause\n\njava.lang.StackOverflowError: null\n    at ar.com.ada.sb.relationship.model.mapper.FilmMapperImpl.actorSetToActorDTOSet(FilmMapperImpl.java:188) ~[classes/:na]\n    at ar.com.ada.sb.relationship.model.mapper.FilmMapperImpl.toDto(FilmMapperImpl.java:53) ~[classes/:na]\n    at ar.com.ada.sb.relationship.model.mapper.FilmMapperImpl.filmSetToFilmDTOSet(FilmMapperImpl.java:165) ~[classes/:na]\n    at ar.com.ada.sb.relationship.model.mapper.FilmMapperImpl.actorToActorDTO(FilmMapperImpl.java:182) ~[classes/:na]\n    at ar.com.ada.sb.relationship.model.mapper.FilmMapperImpl.actorSetToActorDTOSet(FilmMapperImpl.java:194) ~[classes/:na]\n</code></pre>\n\n<p>I would very much appreciate your help</p>\n"},{"tags":["java","apache-spark"],"answers":[{"comments":[{"owner":{"account_id":17277721,"reputation":71,"user_id":12512011,"display_name":"JonLe"},"score":0,"creation_date":1600243147,"post_id":63915333,"comment_id":113022401,"body_markdown":"Do we have control over creating partitions ? How can we specify specific number of partitions required out of specific Dataset ? repartition would be action on existing partitions, but how can we specifiy the count of those existing partitions ?","body":"Do we have control over creating partitions ? How can we specify specific number of partitions required out of specific Dataset ? repartition would be action on existing partitions, but how can we specifiy the count of those existing partitions ?"},{"owner":{"account_id":4247170,"reputation":2078,"user_id":3475488,"display_name":"kavetiraviteja"},"score":0,"creation_date":1600367588,"post_id":63915333,"comment_id":113073740,"body_markdown":"Do we have control over creating partitions ? yes.. to get a count of existing partitions you can use df.rdd. getNumPartitions","body":"Do we have control over creating partitions ? yes.. to get a count of existing partitions you can use df.rdd. getNumPartitions"}],"tags":[],"owner":{"account_id":4247170,"reputation":2078,"user_id":3475488,"display_name":"kavetiraviteja"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1600242154,"creation_date":1600242154,"answer_id":63915333,"question_id":63913326,"body_markdown":"\r\nWhat is Partition?\r\n\r\n\r\n&gt; As per spark documentation, **A partition in spark is an atomic chunk of\r\n&gt; data (a logical division of data) stored on a node in the cluster**.\r\n&gt; Partitions are basic units of parallelism in Apache Spark. RDDs/Dataframe/Dataset in\r\n&gt; Apache Spark is a collection of partitions.\r\n\r\n   \r\nSo, When you do \r\n\r\n    Dataset&lt;Row&gt; ds = spark.read().schema(Jsonreadystructure.SCHEMA)\r\n                    .json(JsonPath);\r\nspark reads your source json data and create a (logical division on data which are paritions) and then process those partitions parallely in cluster.\r\n\r\n\r\nFor example in laymen terms... \r\n  If you have a task to move **1-ton load of wheat** from one place to another place and you have only 1 men resource(similar to a single thread) to do that task.so there can be a lot of possibilities over here.\r\n   1)Your resource might not be able to move such a huge weight at a time. (similar to you don&#39;t have enough CPU or RAM)\r\n   2)If It is capable(similar to high conf machine) then It might take a huge time and It might have stressed out.\r\n   3) AND your resource can&#39;t process any other process in between when It is doing load transfer. and soon.....\r\n\r\nwhat if you divide **1-ton load of wheat** into 1kg wheat blocks(similar to logical partitions on data) and hire more men and then ask your resources to move. \r\n   now it is a lot easier for them and you can add few more men resources(similar to scaling up the cluster) and can achieve your actual task very easily and fast.\r\n\r\nsimilar to the above approach spark does a logical division on data so that you can process data parallelly using your cluster resources optimally and can finish your task much faster.\r\n\r\nNote: **RDD/Dataset and Dataframe are just abstractions for logical partitions of data.\r\nand there other concepts in RDD and Dataframe which I didn&#39;t cover in the example (i.e Resilient and immutability)**\r\n\r\n\r\n**How can I split this into multiple partitions ?**\r\n\r\nyou can use repartition API to split furthermore partitions\r\n\r\n    spark.read().schema(Jsonreadystructure.SCHEMA)\r\n                        .json(JsonPath).**repartition**(number)\r\nand you can use **coalesce**() api to bring down partitions.\r\n","title":"What is partition in Spark?","body":"<p>What is Partition?</p>\n<blockquote>\n<p>As per spark documentation, <strong>A partition in spark is an atomic chunk of\ndata (a logical division of data) stored on a node in the cluster</strong>.\nPartitions are basic units of parallelism in Apache Spark. RDDs/Dataframe/Dataset in\nApache Spark is a collection of partitions.</p>\n</blockquote>\n<p>So, When you do</p>\n<pre><code>Dataset&lt;Row&gt; ds = spark.read().schema(Jsonreadystructure.SCHEMA)\n                .json(JsonPath);\n</code></pre>\n<p>spark reads your source json data and create a (logical division on data which are paritions) and then process those partitions parallely in cluster.</p>\n<p>For example in laymen terms...\nIf you have a task to move <strong>1-ton load of wheat</strong> from one place to another place and you have only 1 men resource(similar to a single thread) to do that task.so there can be a lot of possibilities over here.\n1)Your resource might not be able to move such a huge weight at a time. (similar to you don't have enough CPU or RAM)\n2)If It is capable(similar to high conf machine) then It might take a huge time and It might have stressed out.\n3) AND your resource can't process any other process in between when It is doing load transfer. and soon.....</p>\n<p>what if you divide <strong>1-ton load of wheat</strong> into 1kg wheat blocks(similar to logical partitions on data) and hire more men and then ask your resources to move.\nnow it is a lot easier for them and you can add few more men resources(similar to scaling up the cluster) and can achieve your actual task very easily and fast.</p>\n<p>similar to the above approach spark does a logical division on data so that you can process data parallelly using your cluster resources optimally and can finish your task much faster.</p>\n<p>Note: <strong>RDD/Dataset and Dataframe are just abstractions for logical partitions of data.\nand there other concepts in RDD and Dataframe which I didn't cover in the example (i.e Resilient and immutability)</strong></p>\n<p><strong>How can I split this into multiple partitions ?</strong></p>\n<p>you can use repartition API to split furthermore partitions</p>\n<pre><code>spark.read().schema(Jsonreadystructure.SCHEMA)\n                    .json(JsonPath).**repartition**(number)\n</code></pre>\n<p>and you can use <strong>coalesce</strong>() api to bring down partitions.</p>\n"}],"owner":{"account_id":17277721,"reputation":71,"user_id":12512011,"display_name":"JonLe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1280,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664533692,"creation_date":1600231841,"question_id":63913326,"body_markdown":"I&#39;m trying to understand, what is partition in Spark ?\r\n\r\nMy understanding is, When we read from a source and place into any specific `Datatset`, then that Data set can be split into multiple `sub-Datasets`, those `sub-Datasets` are called partitions And Its upto spark framework where and how it distributes in cluster. Is it correct ?\r\n\r\nI came into a doubt, when I read some online articles, which says \r\n\r\n&gt; Under the hood, these `RDDs or Datasets` are stored in partitions on\r\n&gt; different cluster nodes. Partition basically is a logical chunk of a\r\n&gt; large distributed data set\r\n\r\nThis statment breaks my under standing. As per the above statment, `RDDs or Datasets` sits inside partition. But I was thinking RDD itself as a partition (after splitiing).\r\n\r\n\r\nCan anyone help me to clear this doubt ?\r\n\r\n\r\n\r\nHere is my code snippet, where am reading from JSON.\r\n\r\n    Dataset&lt;Row&gt; ds = spark.read().schema(Jsonreadystructure.SCHEMA)\r\n    \t\t\t\t.json(JsonPath);\r\n\r\n\r\nSo while reading itself, how can I split this into multile partitions ? or Any other way around ?","title":"What is partition in Spark?","body":"<p>I'm trying to understand, what is partition in Spark ?</p>\n<p>My understanding is, When we read from a source and place into any specific <code>Datatset</code>, then that Data set can be split into multiple <code>sub-Datasets</code>, those <code>sub-Datasets</code> are called partitions And Its upto spark framework where and how it distributes in cluster. Is it correct ?</p>\n<p>I came into a doubt, when I read some online articles, which says</p>\n<blockquote>\n<p>Under the hood, these <code>RDDs or Datasets</code> are stored in partitions on\ndifferent cluster nodes. Partition basically is a logical chunk of a\nlarge distributed data set</p>\n</blockquote>\n<p>This statment breaks my under standing. As per the above statment, <code>RDDs or Datasets</code> sits inside partition. But I was thinking RDD itself as a partition (after splitiing).</p>\n<p>Can anyone help me to clear this doubt ?</p>\n<p>Here is my code snippet, where am reading from JSON.</p>\n<pre><code>Dataset&lt;Row&gt; ds = spark.read().schema(Jsonreadystructure.SCHEMA)\n                .json(JsonPath);\n</code></pre>\n<p>So while reading itself, how can I split this into multile partitions ? or Any other way around ?</p>\n"},{"tags":["java","unit-testing","sonarqube"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1664532852,"post_id":73907145,"comment_id":130498730,"body_markdown":"I don&#39;t think there&#39;s another way short of adding a dummy test: `@Test void makeSonarHappy() { assertTrue(true); }`; but this will likely cause a different Sonar rule to break :)","body":"I don&#39;t think there&#39;s another way short of adding a dummy test: <code>@Test void makeSonarHappy() { assertTrue(true); }</code>; but this will likely cause a different Sonar rule to break :)"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1664532950,"post_id":73907145,"comment_id":130498759,"body_markdown":"if your testclass has nothing to test but what the abstract class does, what actually use does the actual class have?","body":"if your testclass has nothing to test but what the abstract class does, what actually use does the actual class have?"},{"owner":{"account_id":1800064,"reputation":4881,"user_id":1638626,"accept_rate":75,"display_name":"Florian"},"score":0,"creation_date":1664533097,"post_id":73907145,"comment_id":130498802,"body_markdown":"@Stultuske The AbstractTestBase cannot instantiate the class under test. It is the sub-class&#39;s task to do this. The abstract class offers an `abstract protected Handler getCutInstance();` that the sub-class overwrites with `@Override protected Handler getCutInstance() { return new NaiveHandlerTest(); }`.","body":"@Stultuske The AbstractTestBase cannot instantiate the class under test. It is the sub-class&#39;s task to do this. The abstract class offers an <code>abstract protected Handler getCutInstance();</code> that the sub-class overwrites with <code>@Override protected Handler getCutInstance() { return new NaiveHandlerTest(); }</code>."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1664533164,"post_id":73907145,"comment_id":130498827,"body_markdown":"@Florian I&#39;m aware of what an abstract class is. So, you test the functionality of a (specific) child class in a testclass supposedly testing the abstract class?","body":"@Florian I&#39;m aware of what an abstract class is. So, you test the functionality of a (specific) child class in a testclass supposedly testing the abstract class?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1664533218,"post_id":73907145,"comment_id":130498845,"body_markdown":"@Florian can you show the code for the abstract class and the test? It is (almost) always easier to show code instead of describing code with prose. Show the code and it&#39;s immediately clear to everybody what the code is instead of having to guess.","body":"@Florian can you show the code for the abstract class and the test? It is (almost) always easier to show code instead of describing code with prose. Show the code and it&#39;s immediately clear to everybody what the code is instead of having to guess."},{"owner":{"account_id":1800064,"reputation":4881,"user_id":1638626,"accept_rate":75,"display_name":"Florian"},"score":0,"creation_date":1664533834,"post_id":73907145,"comment_id":130499024,"body_markdown":"@Stultuske No, the test class &quot;HandlerTestBase&quot; is designed such that it tests the interface &quot;Handler&quot; itself. It has no direct relation to the abstract class or the specifics of its code. It covers cases that should be identical for all the implementations of &quot;Handler&quot;.","body":"@Stultuske No, the test class &quot;HandlerTestBase&quot; is designed such that it tests the interface &quot;Handler&quot; itself. It has no direct relation to the abstract class or the specifics of its code. It covers cases that should be identical for all the implementations of &quot;Handler&quot;."},{"owner":{"account_id":1800064,"reputation":4881,"user_id":1638626,"accept_rate":75,"display_name":"Florian"},"score":1,"creation_date":1664533837,"post_id":73907145,"comment_id":130499026,"body_markdown":"@knittl Added pseudo code. The real code is too lengthy and adds too much noise.","body":"@knittl Added pseudo code. The real code is too lengthy and adds too much noise."}],"owner":{"account_id":1800064,"reputation":4881,"user_id":1638626,"accept_rate":75,"display_name":"Florian"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664533661,"creation_date":1664532684,"question_id":73907145,"body_markdown":"I have multiple production classes &quot;NaiveHandler&quot;, &quot;SmartHandler&quot;, &quot;AnotherHandler&quot; that implement the same interface &quot;Handler&quot; and share a lot of code. To reduce code duplication, I extracted an abstract class &quot;AbstractHandler&quot; that contains most of the code, and let the sub-classes inherit and reuse it.\r\n\r\nSimilarly, the test classes &quot;NaiveHandlerTest&quot;, &quot;SmartHandlerTest&quot;, &quot;AnotherHandlerTest&quot; for those production classes held tons of duplicate test methods. I moved all these @Test-annotated methods and the test setup out into an abstract class called &quot;HandlerTestBase&quot;.\r\n\r\n```java\r\nabstract class HandlerTestBase {\r\n\r\n  protected Handler cut;\r\n  protected SomeDependency x;\r\n\r\n  protected abstract Handler getCutInstance(SomeDependency x);\r\n\r\n  @BeforeEach\r\n  void setup() {\r\n    x = Mockito.mock(SomeDependency.class);\r\n    cut = getCutInstance(x);\r\n  }\r\n\r\n  @Test\r\n  void providesTheRightThing() {\r\n    when(x.getSomeValue()).thenReturn(&quot;zzz&quot;);\r\n    var result = cut.doSomething(&quot;a&quot;);\r\n    assertThat(result).isEqualTo(&quot;b&quot;);\r\n  }\r\n\r\n  // more tests that verify the shared code in AbstractHandler\r\n\r\n}\r\n```\r\n\r\nThis abstract class cannot (and should not) run on its own. The &quot;~Base&quot; at the end prevents Maven&#39;s tools from picking it up and running it. Instead, Maven picks up the individual test classes &quot;NaiveHandlerTest&quot;, &quot;SmartHandlerTest&quot;, &quot;AnotherHandlerTest&quot;, and runs those.\r\n\r\n```java\r\nclass SmartHandlerTest extends HandlerTestBase {\r\n\r\n  @Override\r\n  protected Handler getCustInstance(SomeDependency x) {\r\n    return new SmartHandler(x);\r\n  }\r\n\r\n  // here more tests that only relate to SmartHandler, not the shared code, e.g.\r\n\r\n  @Test\r\n  void specificClassDoesTheRightThing() {\r\n    when(x.getSomeValue()).thenReturn(&quot;12345&quot;);\r\n    var result = cut.doSomething(&quot;a&quot;);\r\n    assertThat(result).isEqualTo(&quot;y&quot;);\r\n  }\r\n\r\n}\r\n```\r\n\r\n\r\nAll of this works beautifully.\r\n\r\nAs one consequence however, one of the test sub-classes, &quot;NaiveHandlerTest&quot; is now empty. It inherits the tests from the abstract class and runs those, but doesn&#39;t add any specific tests of its own. For me, this is not a problem.\r\n\r\n```java\r\nclass NaiveHandlerTest extends HandlerTestBase {\r\n\r\n  @Override\r\n  protected Handler getCustInstance(SomeDependency x) {\r\n    return new NaiveHandler(x);\r\n  }\r\n\r\n}\r\n```\r\n\r\n\r\nHowever, SonarQube picks out this class and reports the code smell &quot;Add some tests to this class&quot;, saying that &quot;There&#39;s no point in having a JUnit TestCase without any test methods.&quot; For other cases, I would agree, but in this pattern SonarQube does not recognize that the test class may look empty but inherits and runs test methods from its super-class.\r\n\r\nI could set this finding to &quot;False Positive&quot; to remove it. I could also annotate the seemingly empty test class with `@java.lang.SuppressWarnings(&quot;java:S2187&quot;)` to switch off this check here. Is there a still better way to get rid of this finding, such as a tiny tweak to the design that makes SonarQube aware of the existing tests?","title":"Make SonarQube ignore empty test classes","body":"<p>I have multiple production classes &quot;NaiveHandler&quot;, &quot;SmartHandler&quot;, &quot;AnotherHandler&quot; that implement the same interface &quot;Handler&quot; and share a lot of code. To reduce code duplication, I extracted an abstract class &quot;AbstractHandler&quot; that contains most of the code, and let the sub-classes inherit and reuse it.</p>\n<p>Similarly, the test classes &quot;NaiveHandlerTest&quot;, &quot;SmartHandlerTest&quot;, &quot;AnotherHandlerTest&quot; for those production classes held tons of duplicate test methods. I moved all these @Test-annotated methods and the test setup out into an abstract class called &quot;HandlerTestBase&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class HandlerTestBase {\n\n  protected Handler cut;\n  protected SomeDependency x;\n\n  protected abstract Handler getCutInstance(SomeDependency x);\n\n  @BeforeEach\n  void setup() {\n    x = Mockito.mock(SomeDependency.class);\n    cut = getCutInstance(x);\n  }\n\n  @Test\n  void providesTheRightThing() {\n    when(x.getSomeValue()).thenReturn(&quot;zzz&quot;);\n    var result = cut.doSomething(&quot;a&quot;);\n    assertThat(result).isEqualTo(&quot;b&quot;);\n  }\n\n  // more tests that verify the shared code in AbstractHandler\n\n}\n</code></pre>\n<p>This abstract class cannot (and should not) run on its own. The &quot;~Base&quot; at the end prevents Maven's tools from picking it up and running it. Instead, Maven picks up the individual test classes &quot;NaiveHandlerTest&quot;, &quot;SmartHandlerTest&quot;, &quot;AnotherHandlerTest&quot;, and runs those.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SmartHandlerTest extends HandlerTestBase {\n\n  @Override\n  protected Handler getCustInstance(SomeDependency x) {\n    return new SmartHandler(x);\n  }\n\n  // here more tests that only relate to SmartHandler, not the shared code, e.g.\n\n  @Test\n  void specificClassDoesTheRightThing() {\n    when(x.getSomeValue()).thenReturn(&quot;12345&quot;);\n    var result = cut.doSomething(&quot;a&quot;);\n    assertThat(result).isEqualTo(&quot;y&quot;);\n  }\n\n}\n</code></pre>\n<p>All of this works beautifully.</p>\n<p>As one consequence however, one of the test sub-classes, &quot;NaiveHandlerTest&quot; is now empty. It inherits the tests from the abstract class and runs those, but doesn't add any specific tests of its own. For me, this is not a problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class NaiveHandlerTest extends HandlerTestBase {\n\n  @Override\n  protected Handler getCustInstance(SomeDependency x) {\n    return new NaiveHandler(x);\n  }\n\n}\n</code></pre>\n<p>However, SonarQube picks out this class and reports the code smell &quot;Add some tests to this class&quot;, saying that &quot;There's no point in having a JUnit TestCase without any test methods.&quot; For other cases, I would agree, but in this pattern SonarQube does not recognize that the test class may look empty but inherits and runs test methods from its super-class.</p>\n<p>I could set this finding to &quot;False Positive&quot; to remove it. I could also annotate the seemingly empty test class with <code>@java.lang.SuppressWarnings(&quot;java:S2187&quot;)</code> to switch off this check here. Is there a still better way to get rid of this finding, such as a tiny tweak to the design that makes SonarQube aware of the existing tests?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664535918,"post_id":73907269,"comment_id":130499692,"body_markdown":"Use an executable jar then all your users need do is to double-click it to start the app","body":"Use an executable jar then all your users need do is to double-click it to start the app"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1664543358,"post_id":73907269,"comment_id":130502104,"body_markdown":"It&#39;s not clear what you are asking - do you want to find .lnk files or read them to find the actual target? If you mean that you wish to read the target of a Windows shortcut link file, then you can see one of the answers [here](https://stackoverflow.com/questions/309495/windows-shortcut-lnk-parser-in-java).","body":"It&#39;s not clear what you are asking - do you want to find .lnk files or read them to find the actual target? If you mean that you wish to read the target of a Windows shortcut link file, then you can see one of the answers <a href=\"https://stackoverflow.com/questions/309495/windows-shortcut-lnk-parser-in-java\">here</a>."}],"owner":{"account_id":26491187,"reputation":1,"user_id":20129366,"display_name":"Jeremy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664533660,"creation_date":1664533367,"question_id":73907269,"body_markdown":"Does anyone know how to get the paths to shortcuts in Java? So that someone else could download my code and use it without the need of changing the paths in the code.\r\nI&#39;m using this to run the executable shortcuts.\r\n\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n  ProcessBuilder pb = new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;,\r\n                                      &quot;C:\\\\Users\\\\...\\\\Desktop\\\\notepad.lnk&quot;);\r\n  Process p = pb.start();\r\n  p.waitFor();\r\n}\r\n```\r\n\r\nNow I want to find the path of the `notepad.lnk` with code, and then open it.","title":"Finding paths of files/shortcuts in code on diferent pc&#39;s","body":"<p>Does anyone know how to get the paths to shortcuts in Java? So that someone else could download my code and use it without the need of changing the paths in the code.\nI'm using this to run the executable shortcuts.</p>\n<pre><code>public static void main(String[] args) throws Exception {\n  ProcessBuilder pb = new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;,\n                                      &quot;C:\\\\Users\\\\...\\\\Desktop\\\\notepad.lnk&quot;);\n  Process p = pb.start();\n  p.waitFor();\n}\n</code></pre>\n<p>Now I want to find the path of the <code>notepad.lnk</code> with code, and then open it.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9225,"page":998,"page_size":100}
