{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":497945,"reputation":968,"user_id":1360035,"display_name":"moilejter"},"score":0,"creation_date":1673240843,"post_id":75053278,"comment_id":132445806,"body_markdown":"What happens when you run it?  You may be missing a ScheduledExecutorService, which the task scheduler wants to delegate work to - normally, Spring would take care of this.\nIf you&#39;re not using Spring, you could just use a java ScheduledThreadPoolExecutor...","body":"What happens when you run it?  You may be missing a ScheduledExecutorService, which the task scheduler wants to delegate work to - normally, Spring would take care of this. If you&#39;re not using Spring, you could just use a java ScheduledThreadPoolExecutor..."},{"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"score":0,"creation_date":1673259799,"post_id":75053278,"comment_id":132450186,"body_markdown":"The ThreadPoolTaskScheduler and the Cron are part of Spring. Therefore you still use the Springframework, but you might not initialize it. There is no native Cron scheduler in Java, so Spring is fine. Alternatively take a look at \nQuartz Job Scheduler","body":"The ThreadPoolTaskScheduler and the Cron are part of Spring. Therefore you still use the Springframework, but you might not initialize it. There is no native Cron scheduler in Java, so Spring is fine. Alternatively take a look at  Quartz Job Scheduler"},{"owner":{"account_id":27438952,"reputation":43,"user_id":20934246,"display_name":"Repins Star"},"score":0,"creation_date":1673317874,"post_id":75053278,"comment_id":132466919,"body_markdown":"@ThomasW. do i need to set the `threadPoolTaskScheduler ` as static variable?","body":"@ThomasW. do i need to set the <code>threadPoolTaskScheduler </code> as static variable?"},{"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"score":0,"creation_date":1673362283,"post_id":75053278,"comment_id":132478461,"body_markdown":"@RepinsStar please see the solution below…if it helped, feel free to mark it as solved. If not, let me know what is missing","body":"@RepinsStar please see the solution below…if it helped, feel free to mark it as solved. If not, let me know what is missing"}],"answers":[{"tags":[],"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673350878,"creation_date":1673346962,"answer_id":75068716,"question_id":75053278,"body_markdown":"There are couple of things to mention...\r\n\r\nFirst of all, if you use the Spring Scheduling library you are using the Spring framework. Spring is intended to make your live easier, therefore it uses a lot of preconfigured stuff, in case you do not provide any particular configuration.\r\nIf you do not want to use Spring and still need a cron like scheduling, take a look at the [Quartz Job Scheduler][1].\r\n\r\nSecond, your Cron job is not daily and weekly, but minutely and hourly.\r\nAccording to the [docu][2], daily is `0 0 0 * * *` and weekly `0 0 0 * * 0`\r\n\r\nFinally, your code works. There is no need to flag the `ThreadPoolTaskScheduler` as static. Of course you could turn your `ThreadPoolTaskScheduler` into a Singleton, if you want to use just a single instance of it. But be aware, that in the opinion of many, Singletons are a code smell.\r\n\r\n    import org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler;\r\n    import org.springframework.scheduling.support.CronTrigger;\r\n    \r\n    import java.util.Date;\r\n        \r\n    public class MyClass {\r\n    \r\n        private static ThreadPoolTaskScheduler THREAD_POOL_TASK_SCHEDULER;\r\n    \r\n        public static ThreadPoolTaskScheduler getInstance () {\r\n            if (THREAD_POOL_TASK_SCHEDULER == null) {\r\n                THREAD_POOL_TASK_SCHEDULER = new ThreadPoolTaskScheduler();\r\n                THREAD_POOL_TASK_SCHEDULER.initialize();\r\n            }\r\n            return THREAD_POOL_TASK_SCHEDULER;\r\n        }\r\n    \r\n        public static void main(String args[]) {\r\n            MyClass mc = new MyClass();\r\n            mc.runTaskScheduler();\r\n        }\r\n    \r\n        private void runTaskScheduler() {\r\n            Runnable minutelyScheduler = this::processMinutely;\r\n            getInstance().schedule(minutelyScheduler, new CronTrigger(&quot;0 * * * * *&quot;)); //0 1 * * * *\r\n        }\r\n    \r\n        private void processMinutely() {\r\n            System.out.println(&quot;Time &quot; + new Date());\r\n        }\r\n    \r\n    }\r\n\r\nOr you could just use the scheduler as a class variable...\r\n\r\n    import org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler;\r\n    import org.springframework.scheduling.support.CronTrigger;\r\n    \r\n    import java.util.Date;\r\n    \r\n    public class MyClass {\r\n    \r\n        public static void main(String args[]) {\r\n            MyClass mc = new MyClass();\r\n            mc.runTaskScheduler();\r\n        }\r\n    \r\n        private final ThreadPoolTaskScheduler threadPoolTaskScheduler;\r\n    \r\n        public MyClass() {\r\n            threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\r\n            threadPoolTaskScheduler.initialize();\r\n        }\r\n    \r\n        private void runTaskScheduler() {\r\n            Runnable minutelyScheduler = this::processMinutely;\r\n            threadPoolTaskScheduler.schedule(minutelyScheduler, new CronTrigger(&quot;0 * * * * *&quot;)); //0 1 * * * *\r\n        }\r\n\r\n        private void processMinutely() {\r\n            System.out.println(&quot;Time &quot; + new Date());\r\n        }\r\n    \r\n    }\r\n\r\nBoth examples make sense, in case you want to avoid multiple instances of the scheduler or if you want to access it later on.\r\n\r\n  [1]: http://www.quartz-scheduler.org\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronExpression.html","title":"Use ThreadPoolTaskScheduler without using Spring framework","body":"<p>There are couple of things to mention...</p>\n<p>First of all, if you use the Spring Scheduling library you are using the Spring framework. Spring is intended to make your live easier, therefore it uses a lot of preconfigured stuff, in case you do not provide any particular configuration.\nIf you do not want to use Spring and still need a cron like scheduling, take a look at the <a href=\"http://www.quartz-scheduler.org\" rel=\"nofollow noreferrer\">Quartz Job Scheduler</a>.</p>\n<p>Second, your Cron job is not daily and weekly, but minutely and hourly.\nAccording to the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/CronExpression.html\" rel=\"nofollow noreferrer\">docu</a>, daily is <code>0 0 0 * * *</code> and weekly <code>0 0 0 * * 0</code></p>\n<p>Finally, your code works. There is no need to flag the <code>ThreadPoolTaskScheduler</code> as static. Of course you could turn your <code>ThreadPoolTaskScheduler</code> into a Singleton, if you want to use just a single instance of it. But be aware, that in the opinion of many, Singletons are a code smell.</p>\n<pre><code>import org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler;\nimport org.springframework.scheduling.support.CronTrigger;\n\nimport java.util.Date;\n    \npublic class MyClass {\n\n    private static ThreadPoolTaskScheduler THREAD_POOL_TASK_SCHEDULER;\n\n    public static ThreadPoolTaskScheduler getInstance () {\n        if (THREAD_POOL_TASK_SCHEDULER == null) {\n            THREAD_POOL_TASK_SCHEDULER = new ThreadPoolTaskScheduler();\n            THREAD_POOL_TASK_SCHEDULER.initialize();\n        }\n        return THREAD_POOL_TASK_SCHEDULER;\n    }\n\n    public static void main(String args[]) {\n        MyClass mc = new MyClass();\n        mc.runTaskScheduler();\n    }\n\n    private void runTaskScheduler() {\n        Runnable minutelyScheduler = this::processMinutely;\n        getInstance().schedule(minutelyScheduler, new CronTrigger(&quot;0 * * * * *&quot;)); //0 1 * * * *\n    }\n\n    private void processMinutely() {\n        System.out.println(&quot;Time &quot; + new Date());\n    }\n\n}\n</code></pre>\n<p>Or you could just use the scheduler as a class variable...</p>\n<pre><code>import org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler;\nimport org.springframework.scheduling.support.CronTrigger;\n\nimport java.util.Date;\n\npublic class MyClass {\n\n    public static void main(String args[]) {\n        MyClass mc = new MyClass();\n        mc.runTaskScheduler();\n    }\n\n    private final ThreadPoolTaskScheduler threadPoolTaskScheduler;\n\n    public MyClass() {\n        threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\n        threadPoolTaskScheduler.initialize();\n    }\n\n    private void runTaskScheduler() {\n        Runnable minutelyScheduler = this::processMinutely;\n        threadPoolTaskScheduler.schedule(minutelyScheduler, new CronTrigger(&quot;0 * * * * *&quot;)); //0 1 * * * *\n    }\n\n    private void processMinutely() {\n        System.out.println(&quot;Time &quot; + new Date());\n    }\n\n}\n</code></pre>\n<p>Both examples make sense, in case you want to avoid multiple instances of the scheduler or if you want to access it later on.</p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673351572,"creation_date":1673350435,"answer_id":75069371,"question_id":75053278,"body_markdown":"If you work with just Java and not Spring/SpringBoot your options are to use some 3d party library such as Quartz Job Scheduler or use Java provided classes for that. Here are the classes you might want to use:\r\n[ScheduledExecutorService][1] interface and its implementation: [ScheduledThreadPoolExecutor][2]. Also look at class [Executors][3] and its method [public static ScheduledExecutorService newSingleThreadScheduledExecutor()][4]. &lt;br&gt;&lt;br&gt;\r\nAlso, as far as 3d parties go I wrote my own scheduler. Look at [Javadoc][5]. This Background runner comes as part of Open Source MgntUtils library written and maintained by me. Also the source code of the library contains working example on how to use the Background Runner. The library including the source code can be downloaded from Github [here][6] and an example can be seen [here][7]. Also, the library can be obtained as Maven artifacts from Maven central [here][8]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newSingleThreadScheduledExecutor--\r\n  [5]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/backgroundrunner/package-summary.html\r\n  [6]: https://github.com/michaelgantman/Mgnt/releases\r\n  [7]: https://github.com/michaelgantman/Mgnt/tree/master/src/main/java/com/mgnt/lifecycle/management/backgroundrunner/example\r\n  [8]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils","title":"Use ThreadPoolTaskScheduler without using Spring framework","body":"<p>If you work with just Java and not Spring/SpringBoot your options are to use some 3d party library such as Quartz Job Scheduler or use Java provided classes for that. Here are the classes you might want to use:\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">ScheduledExecutorService</a> interface and its implementation: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">ScheduledThreadPoolExecutor</a>. Also look at class <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html\" rel=\"nofollow noreferrer\">Executors</a> and its method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newSingleThreadScheduledExecutor--\" rel=\"nofollow noreferrer\">public static ScheduledExecutorService newSingleThreadScheduledExecutor()</a>. <br><br>\nAlso, as far as 3d parties go I wrote my own scheduler. Look at <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/backgroundrunner/package-summary.html\" rel=\"nofollow noreferrer\">Javadoc</a>. This Background runner comes as part of Open Source MgntUtils library written and maintained by me. Also the source code of the library contains working example on how to use the Background Runner. The library including the source code can be downloaded from Github <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">here</a> and an example can be seen <a href=\"https://github.com/michaelgantman/Mgnt/tree/master/src/main/java/com/mgnt/lifecycle/management/backgroundrunner/example\" rel=\"nofollow noreferrer\">here</a>. Also, the library can be obtained as Maven artifacts from Maven central <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":27438952,"reputation":43,"user_id":20934246,"display_name":"Repins Star"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75068716,"answer_count":2,"score":1,"last_activity_date":1673432458,"creation_date":1673239647,"question_id":75053278,"body_markdown":"I am trying to use `ThreadPoolTaskScheduler` to schedule task using CRON but without using Spring framework. I created 2 task scheduler for daily and weekly.\r\n\r\nSo, far here is what i tried:\r\n\r\n```java\r\npublic class MyClass {\r\n\r\n        public static void main(String args[]) {\r\n           MyClass mc = new MyClass();\r\n           mc.runTaskScheduler();\r\n        }\r\n\r\n        private void runTaskScheduler() {\r\n            Runnable dailyScheduler = this::processDaily;\r\n            Runnable weeklyScheduler = this::processWeekly;\r\n\r\n            ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\r\n            threadPoolTaskScheduler.initialize();\r\n            threadPoolTaskScheduler.schedule(dailyScheduler, new CronTrigger(&quot;0 * * * * *&quot;)); //0 * * * * *\r\n        threadPoolTaskScheduler.schedule(weeklyScheduler, new CronTrigger(&quot;0 1 * * * *&quot;)); //0 1 * * * *\r\n        \r\n        }\r\n\r\n        private void processDaily() {\r\n           // some code\r\n        }\r\n\r\n        private void processWeekly() {\r\n          // some code\r\n        }\r\n\r\n    }\r\n```\r\nI am not sure if should i need to make `ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();` static variable?\r\n\r\n\r\nI tried to make a main class but not sure if I did it correct.","title":"Use ThreadPoolTaskScheduler without using Spring framework","body":"<p>I am trying to use <code>ThreadPoolTaskScheduler</code> to schedule task using CRON but without using Spring framework. I created 2 task scheduler for daily and weekly.</p>\n<p>So, far here is what i tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n\n        public static void main(String args[]) {\n           MyClass mc = new MyClass();\n           mc.runTaskScheduler();\n        }\n\n        private void runTaskScheduler() {\n            Runnable dailyScheduler = this::processDaily;\n            Runnable weeklyScheduler = this::processWeekly;\n\n            ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\n            threadPoolTaskScheduler.initialize();\n            threadPoolTaskScheduler.schedule(dailyScheduler, new CronTrigger(&quot;0 * * * * *&quot;)); //0 * * * * *\n        threadPoolTaskScheduler.schedule(weeklyScheduler, new CronTrigger(&quot;0 1 * * * *&quot;)); //0 1 * * * *\n        \n        }\n\n        private void processDaily() {\n           // some code\n        }\n\n        private void processWeekly() {\n          // some code\n        }\n\n    }\n</code></pre>\n<p>I am not sure if should i need to make <code>ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();</code> static variable?</p>\n<p>I tried to make a main class but not sure if I did it correct.</p>\n"},{"tags":["java","spring","jsp","visual-studio-code"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1673251627,"post_id":75026728,"comment_id":132447740,"body_markdown":"Check that you can access the Tomcat welcome page(*http://localhost:8080/*) to verify that the application is properly deployed to Tomcat. Also provides a detailed error log.","body":"Check that you can access the Tomcat welcome page(<i><a href=\"http://localhost:8080/\" rel=\"nofollow noreferrer\">localhost:8080</a></i>) to verify that the application is properly deployed to Tomcat. Also provides a detailed error log."},{"owner":{"account_id":23809795,"reputation":21,"user_id":17818727,"display_name":"정상환"},"score":0,"creation_date":1673263848,"post_id":75026728,"comment_id":132451508,"body_markdown":"i can access the tomcat welcome page(localhost:8080).\nthere is no problem running Tomcat.\nno other error logs other than 404.\ncontroller&#39;s system.out.println is not logged.","body":"i can access the tomcat welcome page(localhost:8080). there is no problem running Tomcat. no other error logs other than 404. controller&#39;s system.out.println is not logged."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1673343086,"post_id":75026728,"comment_id":132471841,"body_markdown":"Check tomcat logs and web.xml configuration.","body":"Check tomcat logs and web.xml configuration."}],"answers":[{"tags":[],"owner":{"account_id":23809795,"reputation":21,"user_id":17818727,"display_name":"정상환"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673432288,"creation_date":1673432288,"answer_id":75081453,"question_id":75026728,"body_markdown":"I solved it.\r\n\r\n1. When you work on maven, the maven project task line is created at the bottom left of vscode.\r\n2. If you click the task line, the maven projects in the workspace appear as a list.\r\n3. Among them, right-click the directory you want to operate, and select &#39;package&#39; from the list that appears.\r\n4. A maven-war-plugin version error occurred.\r\n6. Added maven-war-plugin 3.2.2 in pom.xml.\r\n7. If you select &#39;package&#39; again, a war file is created in the target folder.\r\n8. Add the war file created in the tomcat server.\r\n9. If you do show in browser, the maven project works normally.\r\n10. You must click &#39;package&#39; every time you edit the code.","title":"spring unable jsp file in vscode","body":"<p>I solved it.</p>\n<ol>\n<li>When you work on maven, the maven project task line is created at the bottom left of vscode.</li>\n<li>If you click the task line, the maven projects in the workspace appear as a list.</li>\n<li>Among them, right-click the directory you want to operate, and select 'package' from the list that appears.</li>\n<li>A maven-war-plugin version error occurred.</li>\n<li>Added maven-war-plugin 3.2.2 in pom.xml.</li>\n<li>If you select 'package' again, a war file is created in the target folder.</li>\n<li>Add the war file created in the tomcat server.</li>\n<li>If you do show in browser, the maven project works normally.</li>\n<li>You must click 'package' every time you edit the code.</li>\n</ol>\n"}],"owner":{"account_id":23809795,"reputation":21,"user_id":17818727,"display_name":"정상환"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673432288,"creation_date":1672976654,"question_id":75026728,"body_markdown":"My IDE is VSCODE\r\n\r\ntomcat server is connected normally\r\nbut controller not working\r\n404 error appears when entering &quot;http://localhost:8080/sp5-chap09/hello?name=abc&quot;\r\nThe controller&#39;s println does not work, so the console does not see log\r\n\r\nWhen i access &quot;http://localhost:8080/sp5-chap09/src/main/webapp/WEB-INF/view/hello.jsp&quot;, the jsp file displays in the browser and no 404 error occurs, but parameters cannot be imported\r\n\r\n\r\n----------\r\n\r\n\r\n**workspace tree:**\r\n```\r\nSP5-CHAP09\r\n|   pom.xml\r\n|\r\n+---src\r\n|   \\---main\r\n|       +---java\r\n|       |   +---chap09\r\n|       |   |       HelloController.java\r\n|       |   |\r\n|       |   \\---config\r\n|       |           ControllerConfig.java\r\n|       |           MvcConfig.java\r\n|       |\r\n|       +---resources\r\n|       \\---webapp\r\n|           \\---WEB-INF\r\n|               |   web.xml\r\n|               |\r\n|               \\---view\r\n|                       hello.jsp\r\n|\r\n\\---target\r\n    +---classes\r\n    |   +---chap09\r\n    |   |       HelloController.class\r\n    |   |\r\n    |   \\---config\r\n    |           ControllerConfig.class\r\n    |           MvcConfig.class\r\n    |\r\n    +---generated-sources\r\n    |   \\---annotations\r\n    +---maven-archiver\r\n    |       pom.properties\r\n    |\r\n    +---maven-status\r\n    |   \\---maven-compiler-plugin\r\n    |       \\---compile\r\n    |           \\---default-compile\r\n    |                   createdFiles.lst\r\n    |                   inputFiles.lst\r\n    |\r\n    \\---test-classes\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\n**controller:**\r\n```\r\npackage chap09;\r\n\r\nimport java.time.LocalDateTime;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\n\r\n@Controller\r\npublic class HelloController {\r\n    @GetMapping(&quot;/hello&quot;)\r\n    public String hello(Model model,\r\n            @RequestParam(value=&quot;name&quot;, required=false) String name){\r\n        model.addAttribute(&quot;greeting&quot;, &quot;Hello, &quot; + name);\r\n\r\n        System.out.println(&quot;hello() method execute: &quot; + LocalDateTime.now());\r\n\r\n        return &quot;hello&quot;;\r\n    }\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\n**config file:**\r\n```\r\npackage config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport chap09.HelloController;\r\n\r\n@Configuration\r\npublic class ControllerConfig {\r\n    @Bean\r\n    public HelloController helloController(){\r\n        return new HelloController();\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage config;\r\n\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.DefaultServletHandlerConfigurer;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\nimport org.springframework.web.servlet.config.annotation.ViewResolverRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n@Configuration\r\n@EnableWebMvc\r\npublic class MvcConfig implements WebMvcConfigurer{\r\n    @Override\r\n    public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer){\r\n        configurer.enable();\r\n    }\r\n\r\n    @Override\r\n    public void configureViewResolvers(ViewResolverRegistry registry){\r\n        registry.jsp(&quot;/WEB-INF/view/&quot;, &quot;.jsp&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\n**pom.xml:**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n\t\thttp://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;sp5&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;sp5-chap09&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.2-b02&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.7.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t\t&lt;encoding&gt;utf-8&lt;/encoding&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\n**web.xml:**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; \r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \r\n             http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n\tversion=&quot;3.1&quot;&gt;\r\n\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;\r\n\t\t\torg.springframework.web.servlet.DispatcherServlet\r\n\t\t&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;contextClass&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;\r\n\t\t\t\torg.springframework.web.context.support.AnnotationConfigWebApplicationContext\r\n\t\t\t&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;\r\n\t\t\t\tconfig.MvcConfig\r\n\t\t\t\tconfig.ControllerConfig\r\n\t\t\t&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;\r\n\t\t\torg.springframework.web.filter.CharacterEncodingFilter\r\n\t\t&lt;/filter-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;encoding&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;UTF-8&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\n&lt;/web-app&gt;\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\n**view file:**\r\n```\r\n&lt;%@ page contentType=&quot;text/html; charset=utf-8&quot; %&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Hello&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        greeting: ${greeting}\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nI searched, but there was no solution that fits me\r\nI can&#39;t guess","title":"spring unable jsp file in vscode","body":"<p>My IDE is VSCODE</p>\n<p>tomcat server is connected normally\nbut controller not working\n404 error appears when entering &quot;http://localhost:8080/sp5-chap09/hello?name=abc&quot;\nThe controller's println does not work, so the console does not see log</p>\n<p>When i access &quot;http://localhost:8080/sp5-chap09/src/main/webapp/WEB-INF/view/hello.jsp&quot;, the jsp file displays in the browser and no 404 error occurs, but parameters cannot be imported</p>\n<hr />\n<p><strong>workspace tree:</strong></p>\n<pre><code>SP5-CHAP09\n|   pom.xml\n|\n+---src\n|   \\---main\n|       +---java\n|       |   +---chap09\n|       |   |       HelloController.java\n|       |   |\n|       |   \\---config\n|       |           ControllerConfig.java\n|       |           MvcConfig.java\n|       |\n|       +---resources\n|       \\---webapp\n|           \\---WEB-INF\n|               |   web.xml\n|               |\n|               \\---view\n|                       hello.jsp\n|\n\\---target\n    +---classes\n    |   +---chap09\n    |   |       HelloController.class\n    |   |\n    |   \\---config\n    |           ControllerConfig.class\n    |           MvcConfig.class\n    |\n    +---generated-sources\n    |   \\---annotations\n    +---maven-archiver\n    |       pom.properties\n    |\n    +---maven-status\n    |   \\---maven-compiler-plugin\n    |       \\---compile\n    |           \\---default-compile\n    |                   createdFiles.lst\n    |                   inputFiles.lst\n    |\n    \\---test-classes\n</code></pre>\n<hr />\n<p><strong>controller:</strong></p>\n<pre><code>package chap09;\n\nimport java.time.LocalDateTime;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\n\n@Controller\npublic class HelloController {\n    @GetMapping(&quot;/hello&quot;)\n    public String hello(Model model,\n            @RequestParam(value=&quot;name&quot;, required=false) String name){\n        model.addAttribute(&quot;greeting&quot;, &quot;Hello, &quot; + name);\n\n        System.out.println(&quot;hello() method execute: &quot; + LocalDateTime.now());\n\n        return &quot;hello&quot;;\n    }\n}\n</code></pre>\n<hr />\n<p><strong>config file:</strong></p>\n<pre><code>package config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport chap09.HelloController;\n\n@Configuration\npublic class ControllerConfig {\n    @Bean\n    public HelloController helloController(){\n        return new HelloController();\n    }\n}\n</code></pre>\n<pre><code>package config;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.DefaultServletHandlerConfigurer;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.ViewResolverRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\n@EnableWebMvc\npublic class MvcConfig implements WebMvcConfigurer{\n    @Override\n    public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer){\n        configurer.enable();\n    }\n\n    @Override\n    public void configureViewResolvers(ViewResolverRegistry registry){\n        registry.jsp(&quot;/WEB-INF/view/&quot;, &quot;.jsp&quot;);\n    }\n}\n</code></pre>\n<hr />\n<p><strong>pom.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n        http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;sp5&lt;/groupId&gt;\n    &lt;artifactId&gt;sp5-chap09&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2-b02&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;encoding&gt;utf-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<hr />\n<p><strong>web.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \n             http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\n    version=&quot;3.1&quot;&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;\n            org.springframework.web.servlet.DispatcherServlet\n        &lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextClass&lt;/param-name&gt;\n            &lt;param-value&gt;\n                org.springframework.web.context.support.AnnotationConfigWebApplicationContext\n            &lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;\n                config.MvcConfig\n                config.ControllerConfig\n            &lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;\n            org.springframework.web.filter.CharacterEncodingFilter\n        &lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;encoding&lt;/param-name&gt;\n            &lt;param-value&gt;UTF-8&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<hr />\n<p><strong>view file:</strong></p>\n<pre><code>&lt;%@ page contentType=&quot;text/html; charset=utf-8&quot; %&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Hello&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        greeting: ${greeting}\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<hr />\n<p>I searched, but there was no solution that fits me\nI can't guess</p>\n"},{"tags":["java","sql","database","derby"],"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1673204105,"post_id":75050442,"comment_id":132440769,"body_markdown":"`&quot;User1&quot;,&quot;1234&quot;` - that&#39;s the username and password. The database probably isn&#39;t lying to you - those aren&#39;t valid.","body":"<code>&quot;User1&quot;,&quot;1234&quot;</code> - that&#39;s the username and password. The database probably isn&#39;t lying to you - those aren&#39;t valid."},{"owner":{"account_id":27458051,"reputation":1,"user_id":20949134,"display_name":"SpicyP "},"score":0,"creation_date":1673210275,"post_id":75050442,"comment_id":132441860,"body_markdown":"@rzwitserloot so what you mean with „The database probably isn&#39;t lying to you“ is that &quot;User1&quot;,&quot;1234&quot; are wrong login data, am I right? I can’t remember to have chosen something else. Is there a way to refactor username and password? Thanks in advance","body":"@rzwitserloot so what you mean with „The database probably isn&#39;t lying to you“ is that &quot;User1&quot;,&quot;1234&quot; are wrong login data, am I right? I can’t remember to have chosen something else. Is there a way to refactor username and password? Thanks in advance"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1673215057,"post_id":75050442,"comment_id":132442728,"body_markdown":"The derby DB documentation would cover that.","body":"The derby DB documentation would cover that."}],"owner":{"account_id":27458051,"reputation":1,"user_id":20949134,"display_name":"SpicyP "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673432267,"creation_date":1673203757,"question_id":75050442,"body_markdown":"So as shown above I get this error message while trying to add values to my Java derby Database. Full error-message is as shown:\r\nrun:\r\n\r\n```\r\n\tat java.sql.SQLNonTransientConnectionException: Verbindung konnte nicht authentifiziert werden. Grund: Benutzer-ID oder Kennwort ung&#252;ltig.org.apache.derby.client.am.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:74)\r\n\tat org.apache.derby.client.am.SqlException.getSQLException(SqlException.java:325)\r\n\tat org.apache.derby.client.ClientAutoloadedDriver.connect(ClientAutoloadedDriver.java:177)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:229)\r\n\tat supermarket1.Seller.AddBtnMouseClicked(Seller.java:294)\r\n\tat supermarket1.Seller$1.mouseClicked(Seller.java:111)\r\n\tat java.desktop/java.awt.AWTEventMulticaster.mouseClicked(AWTEventMulticaster.java:278)\r\n\tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6629)\r\n\tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\r\n\tat java.desktop/java.awt.Component.processEvent(Component.java:6391)\r\n\tat java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n\tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\r\n\tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4584)\r\n\tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\r\n\tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\nCaused by: ERROR 08004: Verbindung konnte nicht authentifiziert werden. Grund: Benutzer-ID oder Kennwort ung&#252;ltig.\r\n\tat org.apache.derby.client.net.NetConnection.mapSecchkcd(NetConnection.java:1158)\r\n\tat org.apache.derby.client.net.NetConnection.securityCheckComplete(NetConnection.java:947)\r\n\tat org.apache.derby.client.net.NetConnectionReply.parseSECCHKRM(NetConnectionReply.java:582)\r\n\tat org.apache.derby.client.net.NetConnectionReply.parseSECCHKreply(NetConnectionReply.java:235)\r\n\tat org.apache.derby.client.net.NetConnectionReply.readSecurityCheck(NetConnectionReply.java:74)\r\n\tat org.apache.derby.client.net.NetConnection.readSecurityCheckAndAccessRdb(NetConnection.java:787)\r\n\tat org.apache.derby.client.net.NetConnection.flowSecurityCheckAndAccessRdb(NetConnection.java:724)\r\n\tat org.apache.derby.client.net.NetConnection.flowUSRIDPWDconnect(NetConnection.java:553)\r\n\tat org.apache.derby.client.net.NetConnection.flowConnect(NetConnection.java:355)\r\n\tat org.apache.derby.client.net.NetConnection.&lt;init&gt;(NetConnection.java:210)\r\n\tat org.apache.derby.client.net.ClientJDBCObjectFactoryImpl.newNetConnection(ClientJDBCObjectFactoryImpl.java:278)\r\n\tat org.apache.derby.client.ClientAutoloadedDriver.connect(ClientAutoloadedDriver.java:170)\r\n```\r\n\r\nFirst sentence of error message means:&#39;Connection could not be authenticated. Reason: user ID or password invalid. &#39;\r\nI don&#39;t know where to type in user id or password and the program doesn&#39;t ask me to as well.\r\nThe source code is underneath, any help would be greeeaaatlyy appreciated.\r\nSince im a total programming noob and im doing this after a yt-tutorial (https://www.youtube.com/watch?v=ByLOrDhn7B0&amp;t=15277s    timestamp: 1:26:00), there might be an easy answer to this problem.\r\n\r\n\r\n```java\r\npackage supermarket1;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.Statement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.SQLException;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class Seller extends javax.swing.JFrame {\r\n\r\n    \r\n    public Seller() {\r\n        initComponents();\r\n    }\r\nConnection Con = null;\r\nStatement St = null;\r\nResultSet Rs = null;\r\npublic void SelectSeller()\r\n{\r\n        try {\r\n            Con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/SuperMarketdb&quot;,&quot;User1&quot;,&quot;1234&quot;);\r\n            St = Con.createStatement();\r\n            Rs = St.executeQuery(&quot;Select * from User1.SELLERTBL&quot;);\r\n            SellerTable.setModel(null);\r\n            \r\n        } catch (Exception e) {\r\n           e.printStackTrace();\r\n        }\r\n}\r\n    \r\n    \r\n    // &quot;Generated Code&quot;&gt;  is not shown here because of Redundancy                        \r\n    \r\n\r\n                               \r\n\r\n    private void DeleteBtnActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n        \r\n    }                                         \r\n\r\n    private void ClearBtnActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        // TODO add your handling code here:\r\n    }                                        \r\n\r\n    private void AddBtnMouseClicked(java.awt.event.MouseEvent evt) {                                    \r\n        \r\n        if(SellId.getText().isEmpty() || SellName.getText().isEmpty() || SellPas.getText().isEmpty() )\r\n        {\r\n            JOptionPane.showMessageDialog(this, &quot;Fehlende Informationen&quot;);\r\n        }\r\n        else{\r\n        try{\r\n    Con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/SuperMarketdb&quot;,&quot;User1&quot;,&quot;1234&quot;);\r\n    PreparedStatement add = Con.prepareStatement(&quot;insert into SELLERTBL values(?,?,?,?)&quot;);\r\n    \r\n            add.setInt(1, Integer.valueOf(SellId.getText()));\r\n            add.setString(2, SellName.getText());\r\n            add.setString(3, SellPas.getText());\r\n            add.setString(4, GenderCb.getSelectedItem().toString());\r\n            int row = add.executeUpdate();\r\n            JOptionPane.showMessageDialog(this, &quot;Verk&#228;ufer erfolgreich hinzugef&#252;gt!&quot;);\r\n            \r\n        }catch(Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n        }\r\n    }                                   \r\n\r\n    \r\n    public static void main(String args[]) {\r\n        \r\n        \r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new Seller().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JButton AddBtn;\r\n    private javax.swing.JButton ClearBtn;\r\n    private javax.swing.JButton DeleteBtn;\r\n    private javax.swing.JButton EditBtn;\r\n    private javax.swing.JComboBox&lt;String&gt; GenderCb;\r\n    private javax.swing.JTextField SellId;\r\n    private javax.swing.JTextField SellName;\r\n    private javax.swing.JTextField SellPas;\r\n    private javax.swing.JTable SellerTable;\r\n    private javax.swing.JLabel jLabel2;\r\n    private javax.swing.JLabel jLabel3;\r\n    private javax.swing.JLabel jLabel4;\r\n    private javax.swing.JLabel jLabel5;\r\n    private javax.swing.JLabel jLabel6;\r\n    private javax.swing.JLabel jLabel8;\r\n    private javax.swing.JLabel jLabel9;\r\n    private javax.swing.JPanel jPanel1;\r\n    private javax.swing.JPanel jPanel2;\r\n    private javax.swing.JScrollPane jScrollPane1;\r\n    // End of variables declaration                   \r\n}\r\n```\r\n\r\nI tried everything but since im not an expert I don&#39;t know where to start.","title":"I have this problem: java.sql.SQLNonTransientConnectionException: Connection could not be authenticated. Reason: User ID or password invalid","body":"<p>So as shown above I get this error message while trying to add values to my Java derby Database. Full error-message is as shown:\nrun:</p>\n<pre><code>    at java.sql.SQLNonTransientConnectionException: Verbindung konnte nicht authentifiziert werden. Grund: Benutzer-ID oder Kennwort ungültig.org.apache.derby.client.am.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:74)\n    at org.apache.derby.client.am.SqlException.getSQLException(SqlException.java:325)\n    at org.apache.derby.client.ClientAutoloadedDriver.connect(ClientAutoloadedDriver.java:177)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:229)\n    at supermarket1.Seller.AddBtnMouseClicked(Seller.java:294)\n    at supermarket1.Seller$1.mouseClicked(Seller.java:111)\n    at java.desktop/java.awt.AWTEventMulticaster.mouseClicked(AWTEventMulticaster.java:278)\n    at java.desktop/java.awt.Component.processMouseEvent(Component.java:6629)\n    at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\n    at java.desktop/java.awt.Component.processEvent(Component.java:6391)\n    at java.desktop/java.awt.Container.processEvent(Container.java:2266)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\n    at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\n    at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4584)\n    at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\n    at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: ERROR 08004: Verbindung konnte nicht authentifiziert werden. Grund: Benutzer-ID oder Kennwort ungültig.\n    at org.apache.derby.client.net.NetConnection.mapSecchkcd(NetConnection.java:1158)\n    at org.apache.derby.client.net.NetConnection.securityCheckComplete(NetConnection.java:947)\n    at org.apache.derby.client.net.NetConnectionReply.parseSECCHKRM(NetConnectionReply.java:582)\n    at org.apache.derby.client.net.NetConnectionReply.parseSECCHKreply(NetConnectionReply.java:235)\n    at org.apache.derby.client.net.NetConnectionReply.readSecurityCheck(NetConnectionReply.java:74)\n    at org.apache.derby.client.net.NetConnection.readSecurityCheckAndAccessRdb(NetConnection.java:787)\n    at org.apache.derby.client.net.NetConnection.flowSecurityCheckAndAccessRdb(NetConnection.java:724)\n    at org.apache.derby.client.net.NetConnection.flowUSRIDPWDconnect(NetConnection.java:553)\n    at org.apache.derby.client.net.NetConnection.flowConnect(NetConnection.java:355)\n    at org.apache.derby.client.net.NetConnection.&lt;init&gt;(NetConnection.java:210)\n    at org.apache.derby.client.net.ClientJDBCObjectFactoryImpl.newNetConnection(ClientJDBCObjectFactoryImpl.java:278)\n    at org.apache.derby.client.ClientAutoloadedDriver.connect(ClientAutoloadedDriver.java:170)\n</code></pre>\n<p>First sentence of error message means:'Connection could not be authenticated. Reason: user ID or password invalid. '\nI don't know where to type in user id or password and the program doesn't ask me to as well.\nThe source code is underneath, any help would be greeeaaatlyy appreciated.\nSince im a total programming noob and im doing this after a yt-tutorial (<a href=\"https://www.youtube.com/watch?v=ByLOrDhn7B0&amp;t=15277s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=ByLOrDhn7B0&amp;t=15277s</a>    timestamp: 1:26:00), there might be an easy answer to this problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package supermarket1;\n\nimport java.sql.Connection;\nimport java.sql.Statement;\nimport java.sql.ResultSet;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.swing.JOptionPane;\n\npublic class Seller extends javax.swing.JFrame {\n\n    \n    public Seller() {\n        initComponents();\n    }\nConnection Con = null;\nStatement St = null;\nResultSet Rs = null;\npublic void SelectSeller()\n{\n        try {\n            Con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/SuperMarketdb&quot;,&quot;User1&quot;,&quot;1234&quot;);\n            St = Con.createStatement();\n            Rs = St.executeQuery(&quot;Select * from User1.SELLERTBL&quot;);\n            SellerTable.setModel(null);\n            \n        } catch (Exception e) {\n           e.printStackTrace();\n        }\n}\n    \n    \n    // &quot;Generated Code&quot;&gt;  is not shown here because of Redundancy                        \n    \n\n                               \n\n    private void DeleteBtnActionPerformed(java.awt.event.ActionEvent evt) {                                          \n        \n    }                                         \n\n    private void ClearBtnActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        // TODO add your handling code here:\n    }                                        \n\n    private void AddBtnMouseClicked(java.awt.event.MouseEvent evt) {                                    \n        \n        if(SellId.getText().isEmpty() || SellName.getText().isEmpty() || SellPas.getText().isEmpty() )\n        {\n            JOptionPane.showMessageDialog(this, &quot;Fehlende Informationen&quot;);\n        }\n        else{\n        try{\n    Con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/SuperMarketdb&quot;,&quot;User1&quot;,&quot;1234&quot;);\n    PreparedStatement add = Con.prepareStatement(&quot;insert into SELLERTBL values(?,?,?,?)&quot;);\n    \n            add.setInt(1, Integer.valueOf(SellId.getText()));\n            add.setString(2, SellName.getText());\n            add.setString(3, SellPas.getText());\n            add.setString(4, GenderCb.getSelectedItem().toString());\n            int row = add.executeUpdate();\n            JOptionPane.showMessageDialog(this, &quot;Verkäufer erfolgreich hinzugefügt!&quot;);\n            \n        }catch(Exception e)\n        {\n            e.printStackTrace();\n        }\n        }\n    }                                   \n\n    \n    public static void main(String args[]) {\n        \n        \n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new Seller().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton AddBtn;\n    private javax.swing.JButton ClearBtn;\n    private javax.swing.JButton DeleteBtn;\n    private javax.swing.JButton EditBtn;\n    private javax.swing.JComboBox&lt;String&gt; GenderCb;\n    private javax.swing.JTextField SellId;\n    private javax.swing.JTextField SellName;\n    private javax.swing.JTextField SellPas;\n    private javax.swing.JTable SellerTable;\n    private javax.swing.JLabel jLabel2;\n    private javax.swing.JLabel jLabel3;\n    private javax.swing.JLabel jLabel4;\n    private javax.swing.JLabel jLabel5;\n    private javax.swing.JLabel jLabel6;\n    private javax.swing.JLabel jLabel8;\n    private javax.swing.JLabel jLabel9;\n    private javax.swing.JPanel jPanel1;\n    private javax.swing.JPanel jPanel2;\n    private javax.swing.JScrollPane jScrollPane1;\n    // End of variables declaration                   \n}\n</code></pre>\n<p>I tried everything but since im not an expert I don't know where to start.</p>\n"},{"tags":["java","algorithm","bubble-sort"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672928399,"creation_date":1672928399,"answer_id":75019868,"question_id":75019505,"body_markdown":"You would need a second swap function:\r\n\r\n```java\r\n    public static void main(String[] args) {\r\n        // ... ...\r\n        // ... ...\r\n\r\n        sort(voteNumArray, voteNameArray); // Pass the second array too\r\n        displaySortedItems(voteNumArray);\r\n     }\r\n     public static void sort(int[] array, String[] names){\r\n        for (int i = 0; i &lt; (array.length-1);i++){\r\n            for(int j = 0; j &lt; (array.length - i -1);j++){\r\n                if(array[j] &lt; array[j+1]){\r\n                    swapInts(array,j);\r\n                    swapStrings(names,j); // Swap in second array too\r\n                }\r\n            }\r\n        }\r\n    }\r\n    public static void swapInts(int[] array, int index){\r\n        int temp = array[index];\r\n        array[index] = array[index + 1];\r\n        array[index + 1] = temp;\r\n    }\r\n    public static void swapStrings(String[] array, int index){ // Extra swap function\r\n        String temp = array[index];\r\n        array[index] = array[index + 1];\r\n        array[index + 1] = temp;\r\n    }\r\n```","title":"Implementing a swap method in a bubble sort","body":"<p>You would need a second swap function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        // ... ...\n        // ... ...\n\n        sort(voteNumArray, voteNameArray); // Pass the second array too\n        displaySortedItems(voteNumArray);\n     }\n     public static void sort(int[] array, String[] names){\n        for (int i = 0; i &lt; (array.length-1);i++){\n            for(int j = 0; j &lt; (array.length - i -1);j++){\n                if(array[j] &lt; array[j+1]){\n                    swapInts(array,j);\n                    swapStrings(names,j); // Swap in second array too\n                }\n            }\n        }\n    }\n    public static void swapInts(int[] array, int index){\n        int temp = array[index];\n        array[index] = array[index + 1];\n        array[index + 1] = temp;\n    }\n    public static void swapStrings(String[] array, int index){ // Extra swap function\n        String temp = array[index];\n        array[index] = array[index + 1];\n        array[index + 1] = temp;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user20758216"},"score":0,"creation_date":1672932893,"post_id":75020024,"comment_id":132388712,"body_markdown":"okay, thanks for that, i understand better. In my code i have the variables i and j, what would you say is best to name them? so they have a better meaning.","body":"okay, thanks for that, i understand better. In my code i have the variables i and j, what would you say is best to name them? so they have a better meaning."},{"owner":{"display_name":"user19443549"},"score":0,"creation_date":1672936066,"post_id":75020024,"comment_id":132389995,"body_markdown":"Variable naming you can have as per your choice, even i and j also not bad and you will find same variable names mostly everywhere for bubble sort implementation. However if you want to change you can replace i -&gt; pass and j -&gt; index as i represents pass number and j represents index of array to access value.","body":"Variable naming you can have as per your choice, even i and j also not bad and you will find same variable names mostly everywhere for bubble sort implementation. However if you want to change you can replace i -&gt; pass and j -&gt; index as i represents pass number and j represents index of array to access value."}],"tags":[],"owner":{"display_name":"user19443549"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672929166,"creation_date":1672929166,"answer_id":75020024,"question_id":75019505,"body_markdown":"Bubble sort compares adjacent values and swaps if not in desired order so after every pass you will get largest/minimum(depending on implementation) value at the end of array.\r\n \r\nlet assume your array is having below values and you are sorting in ascending order - \r\n\r\n    2,5,1,7,4\r\n\r\nIn First pass, `i = 0` -\r\n1. It will compare 2,5 and 5 is greater than 2, so no swap.\r\n2. then it will compare 5,1 and 1 is smaller so it will swap and your array will become as below -\r\n\r\n    2,1,5,7,4\r\n\r\n3. compare 5,7 and no swap as 7 is greater.\r\n4. compare 7,4 and swap as 4 is smaller and your array will become -\r\n\r\n    2,5,1,4,7\r\n\r\nAfter second pass, `i = 1` -\r\n\r\n    2,1,4,5,7\r\n\r\nAfter third pass, `i = 2` -\r\n\r\n    1,2,4,5,7\r\n\r\nYour array is sorted now, but still it will complete rest 2 passes but wont do any swap.\r\n\r\nIn every iteration you gets largest(considering ascending sorting) number in the end and thats the reason you are doing `j &lt; array.length - i -1`, because you just need to sort remaining array.","title":"Implementing a swap method in a bubble sort","body":"<p>Bubble sort compares adjacent values and swaps if not in desired order so after every pass you will get largest/minimum(depending on implementation) value at the end of array.</p>\n<p>let assume your array is having below values and you are sorting in ascending order -</p>\n<pre><code>2,5,1,7,4\n</code></pre>\n<p>In First pass, <code>i = 0</code> -</p>\n<ol>\n<li><p>It will compare 2,5 and 5 is greater than 2, so no swap.</p>\n</li>\n<li><p>then it will compare 5,1 and 1 is smaller so it will swap and your array will become as below -</p>\n<p>2,1,5,7,4</p>\n</li>\n<li><p>compare 5,7 and no swap as 7 is greater.</p>\n</li>\n<li><p>compare 7,4 and swap as 4 is smaller and your array will become -</p>\n<p>2,5,1,4,7</p>\n</li>\n</ol>\n<p>After second pass, <code>i = 1</code> -</p>\n<pre><code>2,1,4,5,7\n</code></pre>\n<p>After third pass, <code>i = 2</code> -</p>\n<pre><code>1,2,4,5,7\n</code></pre>\n<p>Your array is sorted now, but still it will complete rest 2 passes but wont do any swap.</p>\n<p>In every iteration you gets largest(considering ascending sorting) number in the end and thats the reason you are doing <code>j &lt; array.length - i -1</code>, because you just need to sort remaining array.</p>\n"}],"owner":{"display_name":"user20758216"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75020024,"answer_count":2,"score":2,"last_activity_date":1673432208,"creation_date":1672926854,"question_id":75019505,"body_markdown":"I have a program that I have written that allows the user to enter some votes into a system. In the end, the number entered correlates to the person of that number. (0 = Ahmed, 1 = boo, etc)\r\n\r\n- 0 - Ahmed\r\n- 1 - Boo\r\n- 2 - Celine\r\n- 3 - Didi\r\n- 4 - Elaine\r\n\r\n*(current)At the end of the voting period the program will sort the votes in descending order and output them (once the user has entered -1).*\r\n\r\n*(future) the name of the candidate should be shown in this sorted list, e.g. ahmed - 5, celine - 4, didi -3, boo - 0, elaine - 0.*\r\n\r\nI have the code writing the sorted vote numbers, but I am struggling to understand how it works to implement the swap with the name array to produce the final result as listed before in **future**.\r\nCan anyone help with this? Below is my code:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n\r\n            int[] NumArray = new int[5];\r\n            final int EXIT_CODE = -1;\r\n            displayInitialText();\r\n            int userInput = input.nextInt();\r\n            while (userInput != EXIT_CODE) {\r\n                if (userInput &gt;= 0 &amp;&amp; userInput &lt;= 4) {\r\n                    voteNumArray[userInput] = voteNumArray[userInput] + 1;\r\n                } else {\r\n                    System.out.println(&quot;\\n-----------------------&quot;);\r\n                    System.out.println(&quot;Invalid Vote - Please enter a number between 0-4&quot;);\r\n                    System.out.println(&quot;-----------------------\\n&quot;);\r\n                }\r\n        \r\n                userInput = input.nextInt();\r\n            }\r\n            sort(voteNumArray);\r\n            displaySortedItems(voteNumArray);\r\n        }\r\n ","title":"Implementing a swap method in a bubble sort","body":"<p>I have a program that I have written that allows the user to enter some votes into a system. In the end, the number entered correlates to the person of that number. (0 = Ahmed, 1 = boo, etc)</p>\n<ul>\n<li>0 - Ahmed</li>\n<li>1 - Boo</li>\n<li>2 - Celine</li>\n<li>3 - Didi</li>\n<li>4 - Elaine</li>\n</ul>\n<p><em>(current)At the end of the voting period the program will sort the votes in descending order and output them (once the user has entered -1).</em></p>\n<p><em>(future) the name of the candidate should be shown in this sorted list, e.g. ahmed - 5, celine - 4, didi -3, boo - 0, elaine - 0.</em></p>\n<p>I have the code writing the sorted vote numbers, but I am struggling to understand how it works to implement the swap with the name array to produce the final result as listed before in <strong>future</strong>.\nCan anyone help with this? Below is my code:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n\n        int[] NumArray = new int[5];\n        final int EXIT_CODE = -1;\n        displayInitialText();\n        int userInput = input.nextInt();\n        while (userInput != EXIT_CODE) {\n            if (userInput &gt;= 0 &amp;&amp; userInput &lt;= 4) {\n                voteNumArray[userInput] = voteNumArray[userInput] + 1;\n            } else {\n                System.out.println(&quot;\\n-----------------------&quot;);\n                System.out.println(&quot;Invalid Vote - Please enter a number between 0-4&quot;);\n                System.out.println(&quot;-----------------------\\n&quot;);\n            }\n    \n            userInput = input.nextInt();\n        }\n        sort(voteNumArray);\n        displaySortedItems(voteNumArray);\n    }\n</code></pre>\n"},{"tags":["java","uri"],"answers":[{"tags":[],"owner":{"account_id":27495287,"reputation":26,"user_id":20979896,"display_name":"Peruri Rahul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673431891,"creation_date":1673431891,"answer_id":75081375,"question_id":74796677,"body_markdown":"It is possible to have request mapping in both application and controller class. Go through the documentation which is attached below once for having better understanding.\r\n* https://zetcode.com/spring/requestmapping/","title":"SpringBoot with RequestMapping on Application and another RequestMapping in controller classes, is that possible?","body":"<p>It is possible to have request mapping in both application and controller class. Go through the documentation which is attached below once for having better understanding.</p>\n<ul>\n<li><a href=\"https://zetcode.com/spring/requestmapping/\" rel=\"nofollow noreferrer\">https://zetcode.com/spring/requestmapping/</a></li>\n</ul>\n"}],"owner":{"account_id":9609508,"reputation":1,"user_id":7134371,"display_name":"PatrikI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673431891,"creation_date":1671013067,"question_id":74796677,"body_markdown":"I am learing SpringBoot and Rest api just now and in all examples I have seen, in every controller classes they have a @RequestMapping(&quot;/api/v1&quot;) and then some @GetMapping or simular. \r\nBut it feels like why am I writing a RequestMapping for every controller if the first URI mapping is the same for all controllers. \r\n\r\nIs it possible to have a @RequestMapping in the SpringBootApplication that maps &quot;/api/v1&quot; and then in the controller classes then have another &#174;RequestMapping for subfolders like &quot;/products&quot; and simular.\r\n\r\nI have tried to solve this, but I cant make it function. \r\n\r\n\r\n```\r\n\r\n```\r\n```\r\n@SpringBootApplication\r\n@RestController\r\n@RequestMapping(&quot;/api/v1&quot;)\r\npublic class CommonApplication {\r\n\r\n   public static void main(String[] args) {\r\n      SpringApplication.run(CommonApplication.class, args);\r\n   }\r\n}\r\n```\r\n```\r\n\r\n\r\n```\r\n```\r\n@RestController\r\n@RequestMapping()\r\npublic class ProductController {\r\n\r\n    private ProductService productService;\r\n\r\n    @GetMapping(&quot;/products&quot;)\r\n    public String getProducts()\r\n    {\r\n        return &quot;Hello from getProducts 12&quot;;\r\n    }\r\n}\r\n```\r\n```\r\n\r\n```\r\n\r\n\r\nI want this full URI &quot;/api/v1/products&quot; to function and return the String text. But I only get 404.","title":"SpringBoot with RequestMapping on Application and another RequestMapping in controller classes, is that possible?","body":"<p>I am learing SpringBoot and Rest api just now and in all examples I have seen, in every controller classes they have a @RequestMapping(&quot;/api/v1&quot;) and then some @GetMapping or simular.\nBut it feels like why am I writing a RequestMapping for every controller if the first URI mapping is the same for all controllers.</p>\n<p>Is it possible to have a @RequestMapping in the SpringBootApplication that maps &quot;/api/v1&quot; and then in the controller classes then have another ®RequestMapping for subfolders like &quot;/products&quot; and simular.</p>\n<p>I have tried to solve this, but I cant make it function.</p>\n<pre><code>\n</code></pre>\n<pre><code>@SpringBootApplication\n@RestController\n@RequestMapping(&quot;/api/v1&quot;)\npublic class CommonApplication {\n\n   public static void main(String[] args) {\n      SpringApplication.run(CommonApplication.class, args);\n   }\n}\n</code></pre>\n<pre><code>\n\n</code></pre>\n<pre><code>@RestController\n@RequestMapping()\npublic class ProductController {\n\n    private ProductService productService;\n\n    @GetMapping(&quot;/products&quot;)\n    public String getProducts()\n    {\n        return &quot;Hello from getProducts 12&quot;;\n    }\n}\n</code></pre>\n<pre><code>\n</code></pre>\n<p>I want this full URI &quot;/api/v1/products&quot; to function and return the String text. But I only get 404.</p>\n"},{"tags":["java","eclipse","egit","jgit"],"answers":[{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1300346137,"post_id":5335941,"comment_id":6023966,"body_markdown":"Even though you say that Egit uses JGit, it is not quite clear in the above that EGit is an Eclipse plugin for git giving git support in the same way that CVS is already supported in Eclipse.","body":"Even though you say that Egit uses JGit, it is not quite clear in the above that EGit is an Eclipse plugin for git giving git support in the same way that CVS is already supported in Eclipse."},{"owner":{"account_id":87775,"reputation":17894,"user_id":243233,"accept_rate":75,"display_name":"Jus12"},"score":0,"creation_date":1300347115,"post_id":5335941,"comment_id":6024109,"body_markdown":"so just because it is hosted on eclipse.org does not mean it has something to do with Eclipse?","body":"so just because it is hosted on eclipse.org does not mean it has something to do with Eclipse?"},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1300347467,"post_id":5335941,"comment_id":6024163,"body_markdown":"@Jus12 @Thorbj&#248;rn: I have added some elements to illustrates the role of Egit for the Eclipse projects.","body":"@Jus12 @Thorbj&#248;rn: I have added some elements to illustrates the role of Egit for the Eclipse projects."},{"owner":{"account_id":87775,"reputation":17894,"user_id":243233,"accept_rate":75,"display_name":"Jus12"},"score":0,"creation_date":1300348041,"post_id":5335941,"comment_id":6024243,"body_markdown":"I agree that JavaGit is quite old, and I was only looking at it in case JGit turns out to be too complicated to use.","body":"I agree that JavaGit is quite old, and I was only looking at it in case JGit turns out to be too complicated to use."},{"owner":{"account_id":19947,"reputation":32593,"user_id":47190,"accept_rate":80,"display_name":"Peter Štibran&#253;"},"score":1,"creation_date":1300349098,"post_id":5335941,"comment_id":6024413,"body_markdown":"@Jus12: Jetty HTTP server is now also hosted on Eclipse.org (http://www.eclipse.org/jetty/), and it has nothing to do with Eclipse IDE itself. Jetty can be used standalone or embedded into other, not Eclipse related projects.","body":"@Jus12: Jetty HTTP server is now also hosted on Eclipse.org (<a href=\"http://www.eclipse.org/jetty/\" rel=\"nofollow noreferrer\">eclipse.org/jetty</a>), and it has nothing to do with Eclipse IDE itself. Jetty can be used standalone or embedded into other, not Eclipse related projects."},{"owner":{"account_id":87775,"reputation":17894,"user_id":243233,"accept_rate":75,"display_name":"Jus12"},"score":0,"creation_date":1300350200,"post_id":5335941,"comment_id":6024579,"body_markdown":"@Peter Stibrany, thanks for the clarification. Actually, this was the single most confusing part about JGit. Intuitively, if it is hosted on eclipse.org, it must have something to do with Eclipse :-) Maybe they should consider renaming it. I don&#39;t see the rationale here.","body":"@Peter Stibrany, thanks for the clarification. Actually, this was the single most confusing part about JGit. Intuitively, if it is hosted on eclipse.org, it must have something to do with Eclipse :-) Maybe they should consider renaming it. I don&#39;t see the rationale here."}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":6,"down_vote_count":0,"up_vote_count":60,"is_accepted":true,"score":60,"last_activity_date":1357579979,"creation_date":1300345792,"answer_id":5335941,"question_id":5335804,"body_markdown":"You can use JGit as standalone library, but, as mentioned in the [JGit Homepage][1]:\r\n\r\n&gt;JGit can be found within:  \r\n* EGit, Eclipse team provider for Git\r\n\r\nIn that sense, JGit is connected to Eclipse in that EGit uses JGit features to develop the Eclipse Git plugin.  \r\nConsidering all Eclipse projects are now versioned in Git repos (instead of previously CVS repos), I would consider JGit for your Java project, as it seems that:\r\n\r\n- JavaGit isn&#39;t updated for quite some time (2008)\r\n- Eclipse is committed to offer a good support for Git through EGit, which should ensure by extension the development of JGit (used by EGit).\r\n\r\n-----\r\n\r\n[Thorbj&#248;rn Ravn Andersen][2] comments:\r\n\r\n&gt; Even though you say that Egit uses JGit, it is not quite clear in the above that EGit is an Eclipse plugin for git giving git support in the same way that CVS is already supported in Eclipse\r\n\r\nThe migration of Eclipse projects [from CVS to Git is in progress][3], and [has been reported here][4] (by Chris Aniszczyk).  \r\n\r\n&gt; I’ve monitored conversations concerning the migration of project code from CVS to Git in the dev-lists of several projects.  \r\nMost developers, it seems, understand the value proposition of migrating, despite their concerns that with migration comes a whole lot of new learnin’ as they figure out how to say productive in the new environment.\r\n\r\n&gt; Inevitably, discussion about the team provider for Git being developed by the EGit project becomes an prominent part of the conversation. “Is EGit ready for primetime?” is often the question that bounced around\r\n\r\nThe official bug illustrated Eclipse commitment to provide &quot;adequate tooling support&quot; for all Eclipse projects now on Git repo is the [bug 293192][5].\r\n\r\n&gt; In order to deprecate old VCS in favour of git ([bug 270854][6]), adequate tooling\r\nshould be available.  This bug is created to track that.  \r\n\\[...\\] I opened/linked relevant **EGit bugs** in order to have a better visibility/tracking\r\nof what&#39;s missing.\r\n\r\nSo Egit is the only project referenced in that bug to provide said adequate tooling support for the new (D)VCS chosen for all Eclipse projects.\r\n\r\n([bug 270854][7] is about **Deprecate old VCS tools**, which includes essentially CVS.)\r\n\r\n----\r\n\r\nJust in (March 17th, 2001): **[The State of Git at Eclipse – Early 2011][8]** ([Chris Aniszczyk][9]):\r\n\r\n&gt; I’m happy that things have come quite a long way since last year based on Eclipse Marketplace stats and the community contributions the projects have received.\r\n\r\n![EGit installation rate][10]\r\n\r\n&gt; So what’s next? In terms of tooling, we’re getting closer to our 1.0 release (which is planned for the Indigo release).  \r\nThe git tooling at Eclipse is much better these days, if you need help or have questions, please start with the most excellent **[EGit User Guide][11]**.\r\n\r\n&gt; If you’re an `eclipse.org` project, please consider starting the process to move your project repository to Git. **[There are a lot of eclipse.org projects already on Git][12]**.  \r\nIt would be nice to see the all of the eclipse.org projects have plans to move to Git by the Indigo release.\r\n\r\n\r\n  [1]: http://www.eclipse.org/jgit/\r\n  [2]: https://stackoverflow.com/users/53897/thorbjorn-ravn-andersen\r\n  [3]: http://wiki.eclipse.org/Git/Migrating_to_Git\r\n  [4]: http://waynebeaton.wordpress.com/2011/02/15/projects-movin-to-gitegit/\r\n  [5]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=293192\r\n  [6]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=270854\r\n  [7]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=270854\r\n  [8]: http://aniszczyk.org/2011/03/17/the-state-of-git-at-eclipse-early-2011/\r\n  [9]: http://aniszczyk.org/about/\r\n  [10]: http://i.stack.imgur.com/JbK9L.png\r\n  [11]: http://wiki.eclipse.org/EGit/User_Guide\r\n  [12]: http://git.eclipse.org/c/","title":"Confusion in choosing between JavaGit, JGit and EGit","body":"<p>You can use JGit as standalone library, but, as mentioned in the <a href=\"http://www.eclipse.org/jgit/\" rel=\"noreferrer\">JGit Homepage</a>:</p>\n\n<blockquote>\n  <p>JGit can be found within:<br>\n  * EGit, Eclipse team provider for Git</p>\n</blockquote>\n\n<p>In that sense, JGit is connected to Eclipse in that EGit uses JGit features to develop the Eclipse Git plugin.<br>\nConsidering all Eclipse projects are now versioned in Git repos (instead of previously CVS repos), I would consider JGit for your Java project, as it seems that:</p>\n\n<ul>\n<li>JavaGit isn't updated for quite some time (2008)</li>\n<li>Eclipse is committed to offer a good support for Git through EGit, which should ensure by extension the development of JGit (used by EGit).</li>\n</ul>\n\n<hr>\n\n<p><a href=\"https://stackoverflow.com/users/53897/thorbjorn-ravn-andersen\">Thorbjørn Ravn Andersen</a> comments:</p>\n\n<blockquote>\n  <p>Even though you say that Egit uses JGit, it is not quite clear in the above that EGit is an Eclipse plugin for git giving git support in the same way that CVS is already supported in Eclipse</p>\n</blockquote>\n\n<p>The migration of Eclipse projects <a href=\"http://wiki.eclipse.org/Git/Migrating_to_Git\" rel=\"noreferrer\">from CVS to Git is in progress</a>, and <a href=\"http://waynebeaton.wordpress.com/2011/02/15/projects-movin-to-gitegit/\" rel=\"noreferrer\">has been reported here</a> (by Chris Aniszczyk).  </p>\n\n<blockquote>\n  <p>I’ve monitored conversations concerning the migration of project code from CVS to Git in the dev-lists of several projects.<br>\n  Most developers, it seems, understand the value proposition of migrating, despite their concerns that with migration comes a whole lot of new learnin’ as they figure out how to say productive in the new environment.</p>\n  \n  <p>Inevitably, discussion about the team provider for Git being developed by the EGit project becomes an prominent part of the conversation. “Is EGit ready for primetime?” is often the question that bounced around</p>\n</blockquote>\n\n<p>The official bug illustrated Eclipse commitment to provide \"adequate tooling support\" for all Eclipse projects now on Git repo is the <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=293192\" rel=\"noreferrer\">bug 293192</a>.</p>\n\n<blockquote>\n  <p>In order to deprecate old VCS in favour of git (<a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=270854\" rel=\"noreferrer\">bug 270854</a>), adequate tooling\n  should be available.  This bug is created to track that.<br>\n  [...] I opened/linked relevant <strong>EGit bugs</strong> in order to have a better visibility/tracking\n  of what's missing.</p>\n</blockquote>\n\n<p>So Egit is the only project referenced in that bug to provide said adequate tooling support for the new (D)VCS chosen for all Eclipse projects.</p>\n\n<p>(<a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=270854\" rel=\"noreferrer\">bug 270854</a> is about <strong>Deprecate old VCS tools</strong>, which includes essentially CVS.)</p>\n\n<hr>\n\n<p>Just in (March 17th, 2001): <strong><a href=\"http://aniszczyk.org/2011/03/17/the-state-of-git-at-eclipse-early-2011/\" rel=\"noreferrer\">The State of Git at Eclipse – Early 2011</a></strong> (<a href=\"http://aniszczyk.org/about/\" rel=\"noreferrer\">Chris Aniszczyk</a>):</p>\n\n<blockquote>\n  <p>I’m happy that things have come quite a long way since last year based on Eclipse Marketplace stats and the community contributions the projects have received.</p>\n</blockquote>\n\n<p><img src=\"https://i.stack.imgur.com/JbK9L.png\" alt=\"EGit installation rate\"></p>\n\n<blockquote>\n  <p>So what’s next? In terms of tooling, we’re getting closer to our 1.0 release (which is planned for the Indigo release).<br>\n  The git tooling at Eclipse is much better these days, if you need help or have questions, please start with the most excellent <strong><a href=\"http://wiki.eclipse.org/EGit/User_Guide\" rel=\"noreferrer\">EGit User Guide</a></strong>.</p>\n  \n  <p>If you’re an <code>eclipse.org</code> project, please consider starting the process to move your project repository to Git. <strong><a href=\"http://git.eclipse.org/c/\" rel=\"noreferrer\">There are a lot of eclipse.org projects already on Git</a></strong>.<br>\n  It would be nice to see the all of the eclipse.org projects have plans to move to Git by the Indigo release.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":241650,"reputation":2461,"user_id":512605,"display_name":"Robert"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1301338701,"creation_date":1301338701,"answer_id":5463711,"question_id":5335804,"body_markdown":"Just to chime in, as I just stumbled on this this question just now.  \r\n\r\nThere is a difference between the Eclipse Foundation and the Eclipse IDE.  The Foundation is the umbrella organization, while the IDE is one of the projects developed through the foundation.  So, the important thing to know is that just as Apache started with the web server and branched out to become a Foundation hosting a number of projects, so has the Eclipse Foundation now expanded beyond its &quot;roots&quot; in the IDE. \r\n\r\nSo in this context the JGit code provides a Java API for git commands, while EGit uses JGit to provide git support for the Eclipse IDE.\r\n\r\nPersonally, I also find this a little confusing at times, and sometimes it almost seems that having so much going on has in some ways degraded the focus of these organizations; however I can also see the utility in having one umbrella organization instead of 20 similar but different organizations.","title":"Confusion in choosing between JavaGit, JGit and EGit","body":"<p>Just to chime in, as I just stumbled on this this question just now.  </p>\n\n<p>There is a difference between the Eclipse Foundation and the Eclipse IDE.  The Foundation is the umbrella organization, while the IDE is one of the projects developed through the foundation.  So, the important thing to know is that just as Apache started with the web server and branched out to become a Foundation hosting a number of projects, so has the Eclipse Foundation now expanded beyond its \"roots\" in the IDE. </p>\n\n<p>So in this context the JGit code provides a Java API for git commands, while EGit uses JGit to provide git support for the Eclipse IDE.</p>\n\n<p>Personally, I also find this a little confusing at times, and sometimes it almost seems that having so much going on has in some ways degraded the focus of these organizations; however I can also see the utility in having one umbrella organization instead of 20 similar but different organizations.</p>\n"},{"tags":[],"owner":{"account_id":274741,"reputation":648,"user_id":567158,"display_name":"Chris Aniszczyk"},"comment_count":0,"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1311262449,"creation_date":1311262449,"answer_id":6778687,"question_id":5335804,"body_markdown":"As one of the authors of JGit and EGit, sorry for the confusion.\r\n\r\n[JGit][1] is an EDL (new-style BSD) licensed, lightweight, pure Java library implementing the Git version control system. It can be used in a standalone fashion and is embedded in applications such as Gerrit, Eclipse, Netbeans and IntelliJ. [EGit][2] embeds JGit to use it to work with Git repositories and expose Git constructs from within Eclipse. At the moment, JGit doesn&#39;t support the git-bundle command but you&#39;re welcome to contribute support, it shouldn&#39;t be that hard, please see our contributor guide.\r\n\r\n\r\n  [1]: http://eclipse.org/jgit\r\n  [2]: http://eclipse.org/egit","title":"Confusion in choosing between JavaGit, JGit and EGit","body":"<p>As one of the authors of JGit and EGit, sorry for the confusion.</p>\n\n<p><a href=\"http://eclipse.org/jgit\">JGit</a> is an EDL (new-style BSD) licensed, lightweight, pure Java library implementing the Git version control system. It can be used in a standalone fashion and is embedded in applications such as Gerrit, Eclipse, Netbeans and IntelliJ. <a href=\"http://eclipse.org/egit\">EGit</a> embeds JGit to use it to work with Git repositories and expose Git constructs from within Eclipse. At the moment, JGit doesn't support the git-bundle command but you're welcome to contribute support, it shouldn't be that hard, please see our contributor guide.</p>\n"},{"tags":[],"owner":{"account_id":1020818,"reputation":19988,"user_id":1031218,"accept_rate":53,"display_name":"linquize"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345992689,"creation_date":1345992689,"answer_id":12131077,"question_id":5335804,"body_markdown":"JGit is a library to manipulate git repository. You do not use JGit alone, unless you write a program to manipulate git repository in the way you like.\r\n\r\nIf you use Eclipse as the IDE, you install EGit as a version control plugin (defaulted in Indigo). EGit calls JGit so you also have JGit installed if you install EGit.\r\n\r\nNote, for Netbeans, you install NBGit as a version control plugin. NBGit also calls JGit.\r\n\r\nJavaGit: not actively maintained?","title":"Confusion in choosing between JavaGit, JGit and EGit","body":"<p>JGit is a library to manipulate git repository. You do not use JGit alone, unless you write a program to manipulate git repository in the way you like.</p>\n\n<p>If you use Eclipse as the IDE, you install EGit as a version control plugin (defaulted in Indigo). EGit calls JGit so you also have JGit installed if you install EGit.</p>\n\n<p>Note, for Netbeans, you install NBGit as a version control plugin. NBGit also calls JGit.</p>\n\n<p>JavaGit: not actively maintained?</p>\n"},{"tags":[],"owner":{"account_id":698484,"reputation":264,"user_id":584937,"display_name":"Matthias Sohn"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673431676,"creation_date":1346489872,"answer_id":12226383,"question_id":5335804,"body_markdown":"JGit is git implemented from scratch as a Java library whereas JavaGit is (was ?) a Java API wrapping the native git implementation (i.e. it&#39;s calling the native git command line).\r\n\r\nEGit is the Git Eclipse Team Provider integrating JGit into the Eclipse IDE and is providing the UI to work with Git from inside Eclipse.\r\n\r\nIn the meantime a large part of the Eclipse community and also a large number of corporate developers is using EGit/JGit (that&#39;s the reason why the companies backing these projects put money into that). See the project pages ([\\[1\\]][1], [\\[2\\]][2])  and [ohloh][3] if you want to get some insight who is contributing.\r\n\r\n\r\n  [1]: http://www.eclipse.org/projects/project.php?id=technology.jgit\r\n  [2]: http://www.eclipse.org/projects/project.php?id=technology.egit\r\n  [3]: https://web.archive.org/web/20130209005936/http://www.ohloh.net/p/egit","title":"Confusion in choosing between JavaGit, JGit and EGit","body":"<p>JGit is git implemented from scratch as a Java library whereas JavaGit is (was ?) a Java API wrapping the native git implementation (i.e. it's calling the native git command line).</p>\n<p>EGit is the Git Eclipse Team Provider integrating JGit into the Eclipse IDE and is providing the UI to work with Git from inside Eclipse.</p>\n<p>In the meantime a large part of the Eclipse community and also a large number of corporate developers is using EGit/JGit (that's the reason why the companies backing these projects put money into that). See the project pages (<a href=\"http://www.eclipse.org/projects/project.php?id=technology.jgit\" rel=\"nofollow noreferrer\">[1]</a>, <a href=\"http://www.eclipse.org/projects/project.php?id=technology.egit\" rel=\"nofollow noreferrer\">[2]</a>)  and <a href=\"https://web.archive.org/web/20130209005936/http://www.ohloh.net/p/egit\" rel=\"nofollow noreferrer\">ohloh</a> if you want to get some insight who is contributing.</p>\n"},{"tags":[],"owner":{"account_id":2221746,"reputation":1285,"user_id":1960964,"accept_rate":77,"display_name":"chammu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479443194,"creation_date":1479443194,"answer_id":40669373,"question_id":5335804,"body_markdown":"JGit is the Java implementation of Git. It is a library, that also can be used in your own applications. It also provides some sort of CLI operations.\r\nEGit on the other side is the Eclipse team provider plugin for Git, which uses JGit as Git implementation. Simplified you could say EGit is the UI part, and JGit the background part.\r\nJGit doesn&#39;t depend on EGit, but EGit does depend on JGit.\r\n\r\nFrom: https://www.eclipse.org/forums/index.php/t/273443/","title":"Confusion in choosing between JavaGit, JGit and EGit","body":"<p>JGit is the Java implementation of Git. It is a library, that also can be used in your own applications. It also provides some sort of CLI operations.\nEGit on the other side is the Eclipse team provider plugin for Git, which uses JGit as Git implementation. Simplified you could say EGit is the UI part, and JGit the background part.\nJGit doesn't depend on EGit, but EGit does depend on JGit.</p>\n\n<p>From: <a href=\"https://www.eclipse.org/forums/index.php/t/273443/\" rel=\"nofollow noreferrer\">https://www.eclipse.org/forums/index.php/t/273443/</a></p>\n"}],"owner":{"account_id":87775,"reputation":17894,"user_id":243233,"accept_rate":75,"display_name":"Jus12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47836,"favorite_count":0,"down_vote_count":0,"up_vote_count":87,"accepted_answer_id":5335941,"answer_count":6,"score":87,"last_activity_date":1673431676,"creation_date":1300344741,"question_id":5335804,"body_markdown":"I am making a Java application that uses Git. I found that there is something called\r\n[JavaGit][1], [EGit][2] and [JGit][3].\r\n\r\nI know that JavaGit and EGit/JGit are different. What I don&#39;t understand is the difference between EGit and JGit. Both are hosted on Eclipse projects but one seems to be Eclipse related and the other not. \r\n\r\nI don&#39;t use Eclipse and I don&#39;t plan to, so I really don&#39;t care much about &quot;Eclipse integration&quot;. \r\n\r\nIs JGit somehow connected to Eclipse? (It is hosted on www.eclipse.org, and the [documentation][4] of JGit also has a lot of &quot;eclipse&quot; keywords inside)\r\n\r\n\r\nOut of the three, what will I need to connect my Java program (not written in Eclipse) to work with Git repositories?  \r\n\r\nI would prefer a standalone Git library (i.e., without depending on a local Git installation)\r\n\r\nEDIT: One more question:\r\n\r\n- Does JGit support [Git bundle command][5]? \r\n\r\nEDIT: I found the answer -- it does (haven&#39;t tried it yet). It is in `transport` package in a class called `BundleWriter`\r\n\r\n  [1]: http://javagit.sourceforge.net/\r\n  [2]: http://eclipse.org/egit/\r\n  [3]: http://www.eclipse.org/jgit/\r\n  [4]: http://wiki.eclipse.org/JGit/User_Guide\r\n  [5]: ftp://ftp.kernel.org/pub/software/scm/git/docs/v1.7.3.4/git-bundle.html","title":"Confusion in choosing between JavaGit, JGit and EGit","body":"<p>I am making a Java application that uses Git. I found that there is something called\n<a href=\"http://javagit.sourceforge.net/\" rel=\"noreferrer\">JavaGit</a>, <a href=\"http://eclipse.org/egit/\" rel=\"noreferrer\">EGit</a> and <a href=\"http://www.eclipse.org/jgit/\" rel=\"noreferrer\">JGit</a>.</p>\n\n<p>I know that JavaGit and EGit/JGit are different. What I don't understand is the difference between EGit and JGit. Both are hosted on Eclipse projects but one seems to be Eclipse related and the other not. </p>\n\n<p>I don't use Eclipse and I don't plan to, so I really don't care much about \"Eclipse integration\". </p>\n\n<p>Is JGit somehow connected to Eclipse? (It is hosted on www.eclipse.org, and the <a href=\"http://wiki.eclipse.org/JGit/User_Guide\" rel=\"noreferrer\">documentation</a> of JGit also has a lot of \"eclipse\" keywords inside)</p>\n\n<p>Out of the three, what will I need to connect my Java program (not written in Eclipse) to work with Git repositories?  </p>\n\n<p>I would prefer a standalone Git library (i.e., without depending on a local Git installation)</p>\n\n<p>EDIT: One more question:</p>\n\n<ul>\n<li>Does JGit support <a href=\"ftp://ftp.kernel.org/pub/software/scm/git/docs/v1.7.3.4/git-bundle.html\" rel=\"noreferrer\">Git bundle command</a>? </li>\n</ul>\n\n<p>EDIT: I found the answer -- it does (haven't tried it yet). It is in <code>transport</code> package in a class called <code>BundleWriter</code></p>\n"},{"tags":["java","android","zip"],"comments":[{"owner":{"account_id":2702906,"reputation":22668,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1413873562,"post_id":25594792,"comment_id":41596799,"body_markdown":"I guess you should call `stream.flush();` before closing the stream.","body":"I guess you should call <code>stream.flush();</code> before closing the stream."},{"owner":{"account_id":2644962,"reputation":546,"user_id":2287859,"accept_rate":58,"display_name":"nemezis"},"score":0,"creation_date":1413873725,"post_id":25594792,"comment_id":41596870,"body_markdown":"I have added stream.flush(); after stream.finish() - still receiving corrupted zip files sometimes.","body":"I have added stream.flush(); after stream.finish() - still receiving corrupted zip files sometimes."},{"owner":{"account_id":2702906,"reputation":22668,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1413884651,"post_id":25594792,"comment_id":41602229,"body_markdown":"Is it possible to ge an example of such corrupted zip file?","body":"Is it possible to ge an example of such corrupted zip file?"}],"answers":[{"tags":[],"owner":{"account_id":126262,"reputation":39126,"user_id":322642,"accept_rate":73,"display_name":"ligi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1413664083,"creation_date":1413664083,"answer_id":26444235,"question_id":25594792,"body_markdown":"You might consider using the zip4j lib. I solved the problem I had ( same problem - different direction ) by using this lib. Some zip-files where not decodeable with the native android implementation, but with zip4j. You might also solve your problem by using zip4j for compression.","title":"ZipOutputStream produces corrupted zip file on Android","body":"<p>You might consider using the zip4j lib. I solved the problem I had ( same problem - different direction ) by using this lib. Some zip-files where not decodeable with the native android implementation, but with zip4j. You might also solve your problem by using zip4j for compression.</p>\n"},{"tags":[],"owner":{"account_id":2281083,"reputation":4871,"user_id":2020820,"display_name":"Steve K"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413852002,"creation_date":1413850702,"answer_id":26477023,"question_id":25594792,"body_markdown":"Here&#39;s some code to zip a directory into a file using only the java standard classes. With this you can just call: \r\n\r\n    ZipUtils.zip(sourceDirectory, targetFile);\r\n    ZipUtils.unzip(sourceFile, targetDirectory);\r\n\r\nCode:\r\n\r\n\tpackage com.my.project.utils.zip;\r\n\r\n\timport java.io.IOException;\r\n\timport java.nio.file.FileVisitResult;\r\n\timport java.nio.file.Files;\r\n\timport java.nio.file.Path;\r\n\timport java.nio.file.SimpleFileVisitor;\r\n\timport java.nio.file.attribute.BasicFileAttributes;\r\n\timport java.util.zip.ZipEntry;\r\n\timport java.util.zip.ZipOutputStream;\r\n\r\n\tpublic class ZipUtils {\r\n\r\n\t\tpublic static void unzip(Path sourceFile, Path targetPath) throws IOException {\r\n\t\t\ttry (ZipInputStream zipInStream = new ZipInputStream(Files.newInputStream(sourceFile))){\r\n\t\t\t\tbyte[] buffer = new byte[1024];\r\n\t\t\t\tFiles.createDirectories(targetPath);\r\n\r\n\t\t\t\tZipEntry entry = null;\r\n\r\n\t\t\t\twhile ((entry = zipInStream.getNextEntry()) != null){\r\n\t\t\t\t\tPath entryPath = targetPath.resolve(entry.getName());\r\n\t\t\t\t\tFiles.createDirectories(entryPath.getParent());\r\n\t\t\t\t\tFiles.copy(zipInStream, entryPath);\r\n\t\t\t\t\tzipInStream.closeEntry();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} \r\n\r\n\t\tpublic static void zip(Path sourcePath, Path targetFile) throws IOException {\r\n\t\t\ttry (ZipOutputStream zipOutStream = new ZipOutputStream(Files.newOutputStream(targetFile))){\r\n\t\t\t\tif (Files.isDirectory(sourcePath)){\r\n\t\t\t\t\tzipDirectory(zipOutStream, sourcePath);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcreateZipEntry(zipOutStream, sourcePath, sourcePath);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate static void zipDirectory(ZipOutputStream zip, Path source) throws IOException {\r\n\t\t\tFiles.walkFileTree(source, new SimpleFileVisitor&lt;Path&gt;(){\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs) throws IOException {\r\n\t\t\t\t\treturn FileVisitResult.CONTINUE;\r\n\t\t\t\t}    \t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic FileVisitResult visitFile(Path path, BasicFileAttributes attrs) throws IOException {\r\n\t\t\t\t\tcreateZipEntry(zip, source, path);\r\n\t\t\t\t\treturn FileVisitResult.CONTINUE;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}    \r\n\r\n\t\tprivate static void createZipEntry(ZipOutputStream zip, Path sourcePath, Path path) throws IOException {\r\n\t\t\tZipEntry entry = new ZipEntry(sourcePath.relativize(path).toString());\r\n\t\t\tzip.putNextEntry(entry);\r\n\t\t\tFiles.copy(path,zip);\r\n\t\t\tzip.closeEntry();\r\n\t\t}\r\n\t}\r\n","title":"ZipOutputStream produces corrupted zip file on Android","body":"<p>Here's some code to zip a directory into a file using only the java standard classes. With this you can just call: </p>\n\n<pre><code>ZipUtils.zip(sourceDirectory, targetFile);\nZipUtils.unzip(sourceFile, targetDirectory);\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>package com.my.project.utils.zip;\n\nimport java.io.IOException;\nimport java.nio.file.FileVisitResult;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.SimpleFileVisitor;\nimport java.nio.file.attribute.BasicFileAttributes;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipOutputStream;\n\npublic class ZipUtils {\n\n    public static void unzip(Path sourceFile, Path targetPath) throws IOException {\n        try (ZipInputStream zipInStream = new ZipInputStream(Files.newInputStream(sourceFile))){\n            byte[] buffer = new byte[1024];\n            Files.createDirectories(targetPath);\n\n            ZipEntry entry = null;\n\n            while ((entry = zipInStream.getNextEntry()) != null){\n                Path entryPath = targetPath.resolve(entry.getName());\n                Files.createDirectories(entryPath.getParent());\n                Files.copy(zipInStream, entryPath);\n                zipInStream.closeEntry();\n            }\n        }\n    } \n\n    public static void zip(Path sourcePath, Path targetFile) throws IOException {\n        try (ZipOutputStream zipOutStream = new ZipOutputStream(Files.newOutputStream(targetFile))){\n            if (Files.isDirectory(sourcePath)){\n                zipDirectory(zipOutStream, sourcePath);\n            } else {\n                createZipEntry(zipOutStream, sourcePath, sourcePath);\n            }\n        }\n    }\n\n    private static void zipDirectory(ZipOutputStream zip, Path source) throws IOException {\n        Files.walkFileTree(source, new SimpleFileVisitor&lt;Path&gt;(){\n            @Override\n            public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs) throws IOException {\n                return FileVisitResult.CONTINUE;\n            }           \n            @Override\n            public FileVisitResult visitFile(Path path, BasicFileAttributes attrs) throws IOException {\n                createZipEntry(zip, source, path);\n                return FileVisitResult.CONTINUE;\n            }\n        });\n    }    \n\n    private static void createZipEntry(ZipOutputStream zip, Path sourcePath, Path path) throws IOException {\n        ZipEntry entry = new ZipEntry(sourcePath.relativize(path).toString());\n        zip.putNextEntry(entry);\n        Files.copy(path,zip);\n        zip.closeEntry();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7560629,"reputation":1,"user_id":5738371,"display_name":"Will Yuan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673431415,"creation_date":1673431372,"answer_id":75081255,"question_id":25594792,"body_markdown":"some file that is certain length, will make that problem.\r\nto solve that, before finish() and close(), you should call flush().","title":"ZipOutputStream produces corrupted zip file on Android","body":"<p>some file that is certain length, will make that problem.\nto solve that, before finish() and close(), you should call flush().</p>\n"}],"owner":{"account_id":2644962,"reputation":546,"user_id":2287859,"accept_rate":58,"display_name":"nemezis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2036,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":26444235,"answer_count":3,"score":4,"last_activity_date":1673431415,"creation_date":1409508358,"question_id":25594792,"body_markdown":"I&#39;ve implemented backup of user data from the app using zip archive, I am copying database and shared preferences files to zip archive and calculating MD5 checksum of input files to prevent user from modifying backup data. \r\n\r\nTo restore from archive I unzip backup file to temporary directory, check checksums and then copy preferences \\ database file in the according folders. \r\n\r\nSome of my users are complaining that the app generates corrupted backup files (zip files are indeed corrupted).\r\n\r\nHere is code that compresses all files to zip file:\r\n\r\n    \r\n   \r\n\r\n    public void backup(String filename) {\r\n        File file = new File(getBackupDirectory(), filename);\r\n        FileOutputStream fileOutputStream = null;\r\n        ZipOutputStream stream = null;\r\n        try {\r\n            String settingsMD5 = null;\r\n            String databaseMD5 = null;\r\n            if (file.exists())\r\n                file.delete();\r\n            fileOutputStream = new FileOutputStream(file);\r\n            stream = new ZipOutputStream(new BufferedOutputStream(fileOutputStream));\r\n            File database = getDatabasePath(databaseFileName);\r\n            File dataDirectory = getFilesDir();\r\n            if (dataDirectory != null) {\r\n                File settings = new File(dataDirectory.getParentFile(), &quot;/shared_prefs/&quot; + PREFERENCES_FILENAME);\r\n                settingsMD5 = zipFile(&quot;preferences&quot;, stream, settings);\r\n            }\r\n            databaseMD5 = zipFile(&quot;database.db&quot;, stream, database);\r\n    \r\n            JSONObject jsonObject = new JSONObject();\r\n            try {\r\n                jsonObject.put(META_DATE, new SimpleDateFormat(DATE_FORMAT, Locale.US).format(new Date()));\r\n                jsonObject.put(META_DATABASE, databaseMD5);\r\n                jsonObject.put(META_SHARED_PREFS, settingsMD5);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            InputStream metadata = new ByteArrayInputStream(jsonObject.toString().getBytes(&quot;UTF-8&quot;));\r\n            zipInputStream(stream, metadata, new ZipEntry(&quot;metadata&quot;));\r\n            stream.finish();\r\n            stream.close();\r\n            stream = null;\r\n            return file;\r\n        } catch (FileNotFoundException e) {\r\n         //handling errrors\r\n        } catch (IOException e) {\r\n         //handling errrors\r\n        } \r\n    }\r\n\r\n    private String zipFile(String name, ZipOutputStream zipStream, File file) throws FileNotFoundException, IOException {\r\n            ZipEntry zipEntry = new ZipEntry(name);\r\n            return zipInputStream(zipStream, new FileInputStream(file), zipEntry);\r\n        }\r\n    \r\n    private String zipInputStream(ZipOutputStream zipStream, InputStream fileInputStream, ZipEntry zipEntry) throws IOException {\r\n        InputStream inputStream = new BufferedInputStream(fileInputStream);\r\n        MessageDigest messageDigest = null;\r\n        try {\r\n            messageDigest = MessageDigest.getInstance(&quot;MD5&quot;);\r\n            if (messageDigest != null)\r\n                inputStream = new DigestInputStream(inputStream, messageDigest);\r\n        } catch (NoSuchAlgorithmException e) {\r\n        }\r\n    \r\n        zipStream.putNextEntry(zipEntry);\r\n        inputToOutput(inputStream, zipStream);\r\n        zipStream.closeEntry();\r\n        inputStream.close();\r\n    \r\n        if (messageDigest != null) {\r\n            return getDigestString(messageDigest.digest());\r\n        }\r\n        return null;\r\n    }\r\n    \r\n    private String getDigestString(byte[] digest) {\r\n        StringBuffer hexString = new StringBuffer();\r\n        for (int i = 0; i &lt; digest.length; i++) {\r\n            String hex = Integer.toHexString(0xFF &amp; digest[i]);\r\n            if (hex.length() == 1) {\r\n                hex = new StringBuilder(&quot;0&quot;).append(hex).toString();\r\n            }\r\n            hexString.append(hex);\r\n        }\r\n        return hexString.toString();\r\n    }\r\n\r\n    private void inputToOutput(InputStream inputStream, OutputStream outputStream) throws IOException {\r\n        byte[] buffer = new byte[BUFFER];\r\n        int count = 0;\r\n        while ((count = inputStream.read(buffer, 0, BUFFER)) != -1) {\r\n            outputStream.write(buffer, 0, count);\r\n        }\r\n    }","title":"ZipOutputStream produces corrupted zip file on Android","body":"<p>I've implemented backup of user data from the app using zip archive, I am copying database and shared preferences files to zip archive and calculating MD5 checksum of input files to prevent user from modifying backup data. </p>\n\n<p>To restore from archive I unzip backup file to temporary directory, check checksums and then copy preferences \\ database file in the according folders. </p>\n\n<p>Some of my users are complaining that the app generates corrupted backup files (zip files are indeed corrupted).</p>\n\n<p>Here is code that compresses all files to zip file:</p>\n\n<pre><code>public void backup(String filename) {\n    File file = new File(getBackupDirectory(), filename);\n    FileOutputStream fileOutputStream = null;\n    ZipOutputStream stream = null;\n    try {\n        String settingsMD5 = null;\n        String databaseMD5 = null;\n        if (file.exists())\n            file.delete();\n        fileOutputStream = new FileOutputStream(file);\n        stream = new ZipOutputStream(new BufferedOutputStream(fileOutputStream));\n        File database = getDatabasePath(databaseFileName);\n        File dataDirectory = getFilesDir();\n        if (dataDirectory != null) {\n            File settings = new File(dataDirectory.getParentFile(), \"/shared_prefs/\" + PREFERENCES_FILENAME);\n            settingsMD5 = zipFile(\"preferences\", stream, settings);\n        }\n        databaseMD5 = zipFile(\"database.db\", stream, database);\n\n        JSONObject jsonObject = new JSONObject();\n        try {\n            jsonObject.put(META_DATE, new SimpleDateFormat(DATE_FORMAT, Locale.US).format(new Date()));\n            jsonObject.put(META_DATABASE, databaseMD5);\n            jsonObject.put(META_SHARED_PREFS, settingsMD5);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        InputStream metadata = new ByteArrayInputStream(jsonObject.toString().getBytes(\"UTF-8\"));\n        zipInputStream(stream, metadata, new ZipEntry(\"metadata\"));\n        stream.finish();\n        stream.close();\n        stream = null;\n        return file;\n    } catch (FileNotFoundException e) {\n     //handling errrors\n    } catch (IOException e) {\n     //handling errrors\n    } \n}\n\nprivate String zipFile(String name, ZipOutputStream zipStream, File file) throws FileNotFoundException, IOException {\n        ZipEntry zipEntry = new ZipEntry(name);\n        return zipInputStream(zipStream, new FileInputStream(file), zipEntry);\n    }\n\nprivate String zipInputStream(ZipOutputStream zipStream, InputStream fileInputStream, ZipEntry zipEntry) throws IOException {\n    InputStream inputStream = new BufferedInputStream(fileInputStream);\n    MessageDigest messageDigest = null;\n    try {\n        messageDigest = MessageDigest.getInstance(\"MD5\");\n        if (messageDigest != null)\n            inputStream = new DigestInputStream(inputStream, messageDigest);\n    } catch (NoSuchAlgorithmException e) {\n    }\n\n    zipStream.putNextEntry(zipEntry);\n    inputToOutput(inputStream, zipStream);\n    zipStream.closeEntry();\n    inputStream.close();\n\n    if (messageDigest != null) {\n        return getDigestString(messageDigest.digest());\n    }\n    return null;\n}\n\nprivate String getDigestString(byte[] digest) {\n    StringBuffer hexString = new StringBuffer();\n    for (int i = 0; i &lt; digest.length; i++) {\n        String hex = Integer.toHexString(0xFF &amp; digest[i]);\n        if (hex.length() == 1) {\n            hex = new StringBuilder(\"0\").append(hex).toString();\n        }\n        hexString.append(hex);\n    }\n    return hexString.toString();\n}\n\nprivate void inputToOutput(InputStream inputStream, OutputStream outputStream) throws IOException {\n    byte[] buffer = new byte[BUFFER];\n    int count = 0;\n    while ((count = inputStream.read(buffer, 0, BUFFER)) != -1) {\n        outputStream.write(buffer, 0, count);\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data","persistence"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1673114301,"post_id":75037530,"comment_id":132427237,"body_markdown":"Are you using spring &#39;save&#39; logic, or straight JPA persist calls on the A when it already has references to the new B? I could only see this happening if you don&#39;t have CascadeType.PERSIST set though- so maybe verify that the class being picked up is the latest with that option set.","body":"Are you using spring &#39;save&#39; logic, or straight JPA persist calls on the A when it already has references to the new B? I could only see this happening if you don&#39;t have CascadeType.PERSIST set though- so maybe verify that the class being picked up is the latest with that option set."}],"owner":{"account_id":11558508,"reputation":21,"user_id":8468940,"display_name":"Tiago Aleff da Silva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673431223,"creation_date":1673055183,"question_id":75037530,"body_markdown":"I have these two Entities:\r\n\r\n```\r\n@SequenceGenerator(...)\r\n@Entity\r\nclass A {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;....&quot;)\r\n    private Integer id;\r\n    \r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)\r\n    @JoinColumns({\r\n        @JoinColumn(name = &quot;aaa&quot;, referencedColumnName = &quot;aaa&quot;),\r\n        @JoinColumn(name = &quot;bbb&quot;, referencedColumnName = &quot;bbb&quot;),\r\n        @JoinColumn(name = &quot;ccc&quot;, referencedColumnName = &quot;ccc&quot;),\r\n        @JoinColumn(name = &quot;ddd&quot;, referencedColumnName = &quot;ddd&quot;),\r\n    })\r\n    private B b;\r\n    \r\n    // ... getters and setters\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\nclass B {\r\n    @EmbeddedId\r\n    private BPk id;\r\n    \r\n    // ... getters and setters\r\n}\r\n```\r\n\r\n```\r\n@Embeddable\r\nclass BPk {\r\n    private Integer aaa;\r\n    private Integer bbb;\r\n    private Integer ccc;\r\n    private Integer ddd;\r\n    \r\n    // ... getters and setters\r\n}\r\n```\r\n\r\nIn my case I have non persisted B object, which values from columns &quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;, &quot;ddd&quot; are populated.\r\n\r\nIf I try to persist the new A object and when B doesn&#39;t exist in database the hibernate don&#39;t make the insert of B entity throwing the following error:\r\n\r\n&gt; integrity constraint (\\[FK NAME\\]) violated - parent key not found\r\n\r\nI think it&#39;s happening because my B object has the non null PK so hibernate didn&#39;t make the insert thinking that B entity exists. How can I fix this?\r\n\r\nI have found the following solution for spring boot (example: 54), but it doesn&#39;t work for CascadeType.PERSIST. By the way, it was what I noticed.\r\n\r\nhttps://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-persistence.saving-entites.\r\n\r\nI would like something that when I persist the A entity also persist a new B entity if it&#39;s a new row in database.","title":"Hibernate CascadeType.PERSIST for non null key [parent key not found]","body":"<p>I have these two Entities:</p>\n<pre><code>@SequenceGenerator(...)\n@Entity\nclass A {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;....&quot;)\n    private Integer id;\n    \n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)\n    @JoinColumns({\n        @JoinColumn(name = &quot;aaa&quot;, referencedColumnName = &quot;aaa&quot;),\n        @JoinColumn(name = &quot;bbb&quot;, referencedColumnName = &quot;bbb&quot;),\n        @JoinColumn(name = &quot;ccc&quot;, referencedColumnName = &quot;ccc&quot;),\n        @JoinColumn(name = &quot;ddd&quot;, referencedColumnName = &quot;ddd&quot;),\n    })\n    private B b;\n    \n    // ... getters and setters\n}\n</code></pre>\n<pre><code>@Entity\nclass B {\n    @EmbeddedId\n    private BPk id;\n    \n    // ... getters and setters\n}\n</code></pre>\n<pre><code>@Embeddable\nclass BPk {\n    private Integer aaa;\n    private Integer bbb;\n    private Integer ccc;\n    private Integer ddd;\n    \n    // ... getters and setters\n}\n</code></pre>\n<p>In my case I have non persisted B object, which values from columns &quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;, &quot;ddd&quot; are populated.</p>\n<p>If I try to persist the new A object and when B doesn't exist in database the hibernate don't make the insert of B entity throwing the following error:</p>\n<blockquote>\n<p>integrity constraint ([FK NAME]) violated - parent key not found</p>\n</blockquote>\n<p>I think it's happening because my B object has the non null PK so hibernate didn't make the insert thinking that B entity exists. How can I fix this?</p>\n<p>I have found the following solution for spring boot (example: 54), but it doesn't work for CascadeType.PERSIST. By the way, it was what I noticed.</p>\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-persistence.saving-entites\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-persistence.saving-entites</a>.</p>\n<p>I would like something that when I persist the A entity also persist a new B entity if it's a new row in database.</p>\n"},{"tags":["java","android","android-studio","android-layout"],"answers":[{"comments":[{"owner":{"account_id":26021170,"reputation":132,"user_id":19728854,"display_name":"RIZWAN ALI"},"score":0,"creation_date":1673455302,"post_id":75081175,"comment_id":132504579,"body_markdown":"No its not working (as AppCompatActivity) is showing error","body":"No its not working (as AppCompatActivity) is showing error"}],"tags":[],"owner":{"account_id":20343290,"reputation":41,"user_id":14921964,"display_name":"Hetvi Gohil"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673430966,"creation_date":1673430966,"answer_id":75081175,"question_id":75075586,"body_markdown":"&gt; # Hi RIZWAN ALI Please Use this code\r\n\r\n    val updateRoomFragment = CreateEventBottomsheet()\r\n                updateRoomFragment.show(\r\n                    (viewHolder.itemView.context as AppCompatActivity).supportFragmentManager,\r\n                    updateRoomFragment.getTag()\r\n                )\r\n\r\n","title":"open fragment from adapter model class","body":"<blockquote>\n<h1>Hi RIZWAN ALI Please Use this code</h1>\n</blockquote>\n<pre><code>val updateRoomFragment = CreateEventBottomsheet()\n            updateRoomFragment.show(\n                (viewHolder.itemView.context as AppCompatActivity).supportFragmentManager,\n                updateRoomFragment.getTag()\n            )\n</code></pre>\n"}],"owner":{"account_id":26021170,"reputation":132,"user_id":19728854,"display_name":"RIZWAN ALI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673430966,"creation_date":1673383166,"question_id":75075586,"body_markdown":"I am creating app where I implemented a BottomSheetDialogFragment to be open from inside of other fragment this work fines.\r\n\r\nBut now I want that same BottomSheetDialogFragment to be open from my adapter class which extend FirebaseRecyclerAdapter but not getting the way how to open from there.\r\n\r\nHere is my adapter class code:\r\n\r\n    public class updateRoomAdapter extends FirebaseRecyclerAdapter&lt;model,updateRoomAdapter.myViewHolder&gt; {\r\n    \r\n    \r\n        public updateRoomAdapter(@NonNull FirebaseRecyclerOptions&lt;model&gt; options) {\r\n            super(options);\r\n        }\r\n    \r\n        @Override\r\n        protected void onBindViewHolder(@NonNull myViewHolder holder,final int position, @NonNull model model) {\r\n            holder.id.setText(&quot;Room Id:&quot;+model.getRoomId());\r\n            holder.description.setText(&quot;Description: &quot;+model.getDescription());\r\n            holder.ac.setText(&quot;AC: &quot;+model.getAC());\r\n            holder.rent.setText(&quot;Rent: &quot;+model.getRent());\r\n            holder.nob.setText(&quot;No.of Beds: &quot;+model.getNumber_of_beds());\r\n            Glide.with(holder.img.getContext()).load(model.getImageUrl()).into(holder.img);\r\n            holder.edit.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    UpdateRoomFragment updateRoomFragment=new UpdateRoomFragment();\r\n                    updateRoomFragment.show(getSupportFragmentManager(),updateRoomFragment.getTag());//this line showing error because getSupportFragmentManager() cannot be use here\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n    \r\n            View view= LayoutInflater.from(parent.getContext()).inflate(R.layout.updatesinglerow,parent,false);\r\n            return new updateRoomAdapter.myViewHolder(view);\r\n        }\r\n    \r\n        class myViewHolder extends RecyclerView.ViewHolder {\r\n            CircleImageView img;\r\n            ImageView edit;\r\n            TextView id,description,rent,ac,nob;\r\n            public myViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n                img=(CircleImageView) itemView.findViewById(R.id.img1);\r\n                id=(TextView) itemView.findViewById(R.id.nametext);\r\n                description=(TextView) itemView.findViewById(R.id.coursetext);\r\n                rent=(TextView) itemView.findViewById(R.id.rent);\r\n                ac=(TextView) itemView.findViewById(R.id.ac);\r\n                nob=(TextView) itemView.findViewById(R.id.bed);\r\n                edit=(ImageView)itemView.findViewById(R.id.imageView2);\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\n\r\nHow to solve this issue?\r\n","title":"open fragment from adapter model class","body":"<p>I am creating app where I implemented a BottomSheetDialogFragment to be open from inside of other fragment this work fines.</p>\n<p>But now I want that same BottomSheetDialogFragment to be open from my adapter class which extend FirebaseRecyclerAdapter but not getting the way how to open from there.</p>\n<p>Here is my adapter class code:</p>\n<pre><code>public class updateRoomAdapter extends FirebaseRecyclerAdapter&lt;model,updateRoomAdapter.myViewHolder&gt; {\n\n\n    public updateRoomAdapter(@NonNull FirebaseRecyclerOptions&lt;model&gt; options) {\n        super(options);\n    }\n\n    @Override\n    protected void onBindViewHolder(@NonNull myViewHolder holder,final int position, @NonNull model model) {\n        holder.id.setText(&quot;Room Id:&quot;+model.getRoomId());\n        holder.description.setText(&quot;Description: &quot;+model.getDescription());\n        holder.ac.setText(&quot;AC: &quot;+model.getAC());\n        holder.rent.setText(&quot;Rent: &quot;+model.getRent());\n        holder.nob.setText(&quot;No.of Beds: &quot;+model.getNumber_of_beds());\n        Glide.with(holder.img.getContext()).load(model.getImageUrl()).into(holder.img);\n        holder.edit.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                UpdateRoomFragment updateRoomFragment=new UpdateRoomFragment();\n                updateRoomFragment.show(getSupportFragmentManager(),updateRoomFragment.getTag());//this line showing error because getSupportFragmentManager() cannot be use here\n            }\n        });\n\n    }\n\n    @NonNull\n    @Override\n    public myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        View view= LayoutInflater.from(parent.getContext()).inflate(R.layout.updatesinglerow,parent,false);\n        return new updateRoomAdapter.myViewHolder(view);\n    }\n\n    class myViewHolder extends RecyclerView.ViewHolder {\n        CircleImageView img;\n        ImageView edit;\n        TextView id,description,rent,ac,nob;\n        public myViewHolder(@NonNull View itemView) {\n            super(itemView);\n            img=(CircleImageView) itemView.findViewById(R.id.img1);\n            id=(TextView) itemView.findViewById(R.id.nametext);\n            description=(TextView) itemView.findViewById(R.id.coursetext);\n            rent=(TextView) itemView.findViewById(R.id.rent);\n            ac=(TextView) itemView.findViewById(R.id.ac);\n            nob=(TextView) itemView.findViewById(R.id.bed);\n            edit=(ImageView)itemView.findViewById(R.id.imageView2);\n\n        }\n    }\n}\n</code></pre>\n<p>How to solve this issue?</p>\n"},{"tags":["java","logback","mdc"],"comments":[{"owner":{"account_id":447545,"reputation":2029,"user_id":841221,"accept_rate":75,"display_name":"Aakash"},"score":0,"creation_date":1673424987,"post_id":75079765,"comment_id":132493366,"body_markdown":"Shouldn&#39;t you use `&lt;layout&gt;` instead of `&lt;encoder&gt;&#39;?","body":"Shouldn&#39;t you use <code>&lt;layout&gt;</code> instead of `&lt;encoder&gt;&#39;?"},{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":0,"creation_date":1673426069,"post_id":75079765,"comment_id":132493737,"body_markdown":"Could you detail where you put your parameters in the `MDC`?","body":"Could you detail where you put your parameters in the <code>MDC</code>?"},{"owner":{"account_id":27396809,"reputation":11,"user_id":20898879,"display_name":"Ravi Mishra"},"score":0,"creation_date":1673427181,"post_id":75079765,"comment_id":132494132,"body_markdown":"@Faith Im putting values in controller","body":"@Faith Im putting values in controller"},{"owner":{"account_id":27396809,"reputation":11,"user_id":20898879,"display_name":"Ravi Mishra"},"score":0,"creation_date":1673427367,"post_id":75079765,"comment_id":132494202,"body_markdown":"@Aakash layout is also not working","body":"@Aakash layout is also not working"}],"answers":[{"tags":[],"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673430898,"creation_date":1673430898,"answer_id":75081158,"question_id":75079765,"body_markdown":"It looks like you should use layout\r\nhttps://logback.qos.ch/manual/mdc.html\r\n \r\n\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt; \r\n      &lt;layout&gt;\r\n        &lt;Pattern&gt;%X{first} %X{last} - %m%n&lt;/Pattern&gt;\r\n      &lt;/layout&gt; \r\n    &lt;/appender&gt;","title":"MDC Put not showing values in log","body":"<p>It looks like you should use layout\n<a href=\"https://logback.qos.ch/manual/mdc.html\" rel=\"nofollow noreferrer\">https://logback.qos.ch/manual/mdc.html</a></p>\n<pre><code>&lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt; \n  &lt;layout&gt;\n    &lt;Pattern&gt;%X{first} %X{last} - %m%n&lt;/Pattern&gt;\n  &lt;/layout&gt; \n&lt;/appender&gt;\n</code></pre>\n"}],"owner":{"account_id":27396809,"reputation":11,"user_id":20898879,"display_name":"Ravi Mishra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673430898,"creation_date":1673423346,"question_id":75079765,"body_markdown":"`MDC.put` is not inserting values in the logs.\r\n\r\nlogback.xml\r\n\r\n    &lt;appender name=&quot;Console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%d  [%X{ApigeeId}] [%X{BasePath}] %-5level %-50logger{40} - %message%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n\r\nCode :\r\n\r\n    MDC.put(&quot;ApigeeId&quot;, apigeeId);\r\n    MDC.put(&quot;BasePath&quot;, &quot;api/crm/sendemi&quot;);\r\n\r\nLogs :\r\n\r\n    2023-01-11 13:13:09,286  [] [] INFO  org.hibernate.SQL_SLOW                             - SlowQuery: 14 milliseconds. SQL: &#39;HikariProxyPreparedStatement@1852998404 wrapping SQLServerPreparedStatement:12&#39;\r\n\r\nGetting blank fields.\r\n\r\n\r\nTried to check whether values are setting properly by `MDC.get()`, it prints properly.\r\n\r\n\r\n\r\n\r\n","title":"MDC Put not showing values in log","body":"<p><code>MDC.put</code> is not inserting values in the logs.</p>\n<p>logback.xml</p>\n<pre><code>&lt;appender name=&quot;Console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d  [%X{ApigeeId}] [%X{BasePath}] %-5level %-50logger{40} - %message%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n</code></pre>\n<p>Code :</p>\n<pre><code>MDC.put(&quot;ApigeeId&quot;, apigeeId);\nMDC.put(&quot;BasePath&quot;, &quot;api/crm/sendemi&quot;);\n</code></pre>\n<p>Logs :</p>\n<pre><code>2023-01-11 13:13:09,286  [] [] INFO  org.hibernate.SQL_SLOW                             - SlowQuery: 14 milliseconds. SQL: 'HikariProxyPreparedStatement@1852998404 wrapping SQLServerPreparedStatement:12'\n</code></pre>\n<p>Getting blank fields.</p>\n<p>Tried to check whether values are setting properly by <code>MDC.get()</code>, it prints properly.</p>\n"},{"tags":["java","junit","mockito","junit5"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1673431058,"post_id":75081153,"comment_id":132495481,"body_markdown":"Use the Mock method, or Mock annotation. Then, stub the method to return whatever value you expect the connection to return [Read also](https://www.baeldung.com/java-spring-mockito-mock-mockbean)","body":"Use the Mock method, or Mock annotation. Then, stub the method to return whatever value you expect the connection to return <a href=\"https://www.baeldung.com/java-spring-mockito-mock-mockbean\" rel=\"nofollow noreferrer\">Read also</a>"},{"owner":{"account_id":7010228,"reputation":65,"user_id":5680636,"display_name":"Pankaj Rathi"},"score":0,"creation_date":1673431299,"post_id":75081153,"comment_id":132495567,"body_markdown":"I have done that, I mocked the Connection class but how do I stub the constructor because I&#39;m calling the constructor","body":"I have done that, I mocked the Connection class but how do I stub the constructor because I&#39;m calling the constructor"},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1673432050,"post_id":75081153,"comment_id":132495816,"body_markdown":"The obvious solution and best practice is to refactor to not instantiate an object within class A&#39;s constructor. If Connection has side effects it should be provided via dependency injection. Now to answer your question if you still insist on doing it this way then here&#39;s an exactly the same question with some answers. \nhttps://stackoverflow.com/questions/11214136/unit-testing-with-mockito-for-constructors\n\nAlso you could just create a setter for the connection field and make it non final, inject a mock that way.","body":"The obvious solution and best practice is to refactor to not instantiate an object within class A&#39;s constructor. If Connection has side effects it should be provided via dependency injection. Now to answer your question if you still insist on doing it this way then here&#39;s an exactly the same question with some answers.  <a href=\"https://stackoverflow.com/questions/11214136/unit-testing-with-mockito-for-constructors\" title=\"unit testing with mockito for constructors\">stackoverflow.com/questions/11214136/&hellip;</a>  Also you could just create a setter for the connection field and make it non final, inject a mock that way."},{"owner":{"account_id":7010228,"reputation":65,"user_id":5680636,"display_name":"Pankaj Rathi"},"score":0,"creation_date":1673433512,"post_id":75081153,"comment_id":132496332,"body_markdown":"Thanks @IgorFlakiewicz, I think I will go with refactoring where I pass the connection object as part of A&#39;s constructor and that way it will be more easy for me to mock and also refactoring can be easy.","body":"Thanks @IgorFlakiewicz, I think I will go with refactoring where I pass the connection object as part of A&#39;s constructor and that way it will be more easy for me to mock and also refactoring can be easy."}],"owner":{"account_id":7010228,"reputation":65,"user_id":5680636,"display_name":"Pankaj Rathi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673436855,"answer_count":0,"score":0,"last_activity_date":1673430850,"creation_date":1673430850,"question_id":75081153,"body_markdown":"Here is what I want to achieve.\r\n```\r\npublic class A {\r\n    protected final Config config;\r\n    protected final Connection connection;\r\n\r\n    public A(Config config) {\r\n        this.config = config;\r\n        this.connection = new Connection(&quot;a&quot;, &quot;b&quot;);\r\n    }\r\n    \r\n    public void someMethod() {\r\n    }\r\n}\r\n```\r\n\r\nWhen I try to test some underlying methods for the class A, I would want to mock the **connection** object creation. How can I do that, I have tried all possible ways but didn&#39;t find any luck.","title":"How do I mock a object creation inside the contructor in Mockito","body":"<p>Here is what I want to achieve.</p>\n<pre><code>public class A {\n    protected final Config config;\n    protected final Connection connection;\n\n    public A(Config config) {\n        this.config = config;\n        this.connection = new Connection(&quot;a&quot;, &quot;b&quot;);\n    }\n    \n    public void someMethod() {\n    }\n}\n</code></pre>\n<p>When I try to test some underlying methods for the class A, I would want to mock the <strong>connection</strong> object creation. How can I do that, I have tried all possible ways but didn't find any luck.</p>\n"},{"tags":["java","android","position","ontouchlistener","android-photoview"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673452649,"post_id":75081117,"comment_id":132503451,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27477442,"reputation":1,"user_id":20965184,"display_name":"INGETTI RICCARDO"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673430679,"creation_date":1673430679,"question_id":75081117,"body_markdown":"I&#39;m using the PhotoView Library to zoom a image in my activity, but I want to use the setOnTouchListener and onTouch method to change the image if I touch in certain area of the screen.\r\nThe main problem is if I use fhese methods, I can&#39;t zoom anymore, what can I do?\r\nI thinked to create a new class from the PhotoView one, but there isn&#39;t any easier way?","title":"setOnTouchListener in PhotoView library in Android Studio","body":"<p>I'm using the PhotoView Library to zoom a image in my activity, but I want to use the setOnTouchListener and onTouch method to change the image if I touch in certain area of the screen.\nThe main problem is if I use fhese methods, I can't zoom anymore, what can I do?\nI thinked to create a new class from the PhotoView one, but there isn't any easier way?</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":1,"creation_date":1673383089,"post_id":75075424,"comment_id":132485400,"body_markdown":"It looks like `License` is actually the child class. But you have them labeled opposite. Can you clarify? On the child, you will definitely need something other than CascadeType.ALL. Perhaps just REFRESH and DETATCH. You may also want `orphanRemoval=true` in that annotation.","body":"It looks like <code>License</code> is actually the child class. But you have them labeled opposite. Can you clarify? On the child, you will definitely need something other than CascadeType.ALL. Perhaps just REFRESH and DETATCH. You may also want <code>orphanRemoval=true</code> in that annotation."}],"answers":[{"tags":[],"owner":{"account_id":27459886,"reputation":61,"user_id":20950641,"display_name":"sanah saleem"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673418180,"creation_date":1673417790,"answer_id":75078985,"question_id":75075424,"body_markdown":"So here as i can see you have a parent class *User* and a child class *License* with a OneToMany Bi-Directional mapping. \r\n\r\nHere in the Many side means in your License entity side, as long as you don&#39;t use the *CascadeType.REMOVE*, if you delete a license object it wont delete the user object.\r\n\r\nso you can directly delete the license entry.\r\nIt will look something like this:\r\n\r\nlicenseRepositoryObject.delete(licenseObjectToBeDeleted);\r\n\r\n","title":"How to remove ManyToOne JPA object","body":"<p>So here as i can see you have a parent class <em>User</em> and a child class <em>License</em> with a OneToMany Bi-Directional mapping.</p>\n<p>Here in the Many side means in your License entity side, as long as you don't use the <em>CascadeType.REMOVE</em>, if you delete a license object it wont delete the user object.</p>\n<p>so you can directly delete the license entry.\nIt will look something like this:</p>\n<p>licenseRepositoryObject.delete(licenseObjectToBeDeleted);</p>\n"},{"tags":[],"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673418239,"creation_date":1673418239,"answer_id":75079045,"question_id":75075424,"body_markdown":"Before deleting the child class using\r\n\r\n    \r\n      @Transactional\r\n       public void delete(License license) {\r\n       license.setUser(null);\r\n      licenseRepository.delete(license);\r\n        }\r\n\r\n\r\nSo that all relations between parent and child are removed\r\n","title":"How to remove ManyToOne JPA object","body":"<p>Before deleting the child class using</p>\n<pre><code>  @Transactional\n   public void delete(License license) {\n   license.setUser(null);\n  licenseRepository.delete(license);\n    }\n</code></pre>\n<p>So that all relations between parent and child are removed</p>\n"}],"owner":{"account_id":19269357,"reputation":479,"user_id":20240865,"display_name":"GOLDProFA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673430219,"creation_date":1673382141,"question_id":75075424,"body_markdown":"I&#39;m trying to remove object of child class without calling parent class so there&#39;s no need in 2 requests to database. Can you help to solve this problem and explain how to fix this.\r\n\r\nParent class:\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;License&gt; licenses;\r\n\r\nChild class:\r\n\r\n    @ManyToOne(cascade = CascadeType.PERSIST)\r\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Person user;\r\n\r\nTrying to delete:\r\n\r\n    @Transactional\r\n    public void delete(License license) {\r\n        licenseRepository.delete(license);\r\n    }\r\n\r\nIf I do CascadeType.ALL on Child (license) class, it removed parent class too. I need to remove only this license from database","title":"How to remove ManyToOne JPA object","body":"<p>I'm trying to remove object of child class without calling parent class so there's no need in 2 requests to database. Can you help to solve this problem and explain how to fix this.</p>\n<p>Parent class:</p>\n<pre><code>@OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\nprivate List&lt;License&gt; licenses;\n</code></pre>\n<p>Child class:</p>\n<pre><code>@ManyToOne(cascade = CascadeType.PERSIST)\n@JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\nprivate Person user;\n</code></pre>\n<p>Trying to delete:</p>\n<pre><code>@Transactional\npublic void delete(License license) {\n    licenseRepository.delete(license);\n}\n</code></pre>\n<p>If I do CascadeType.ALL on Child (license) class, it removed parent class too. I need to remove only this license from database</p>\n"},{"tags":["java","android","autocompletetextview","exposeddropdownmenu"],"owner":{"account_id":27497096,"reputation":1,"user_id":20981453,"display_name":"user20981453"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673429697,"creation_date":1673429697,"question_id":75080905,"body_markdown":"  @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n\r\n                //Define city spinner but we will populate the option through the selected state\r\n                policeStationSelectDropdown = findViewById(R.id.psAutoCompleteText);\r\n\r\n                // Obtain the selected district\r\n\r\n                 selectedDistrict = districtSelectDropdown.getSelectedItem().toString();\r\n\r\n\r\n                Toast.makeText(Complaint_page.this,selectedDistrict, Toast.LENGTH_SHORT).show();\r\n\r\n              //  int parentId = parent.getId();\r\n\r\n                if (parent.getId() == R.id.districtAutoCompleteText)\r\n\r\ngetSelectedItem() is showing error??\r\nHow to use this with autoCompleteTextView. I want dependent dropdown using Exposed Drop-Down Menu and autoCompleteTextView using JAVA.","title":"Dependent dropdown using Exposed Drop-Down Menu and AutoCompleteTextView","body":"<p>@Override\npublic void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {</p>\n<pre><code>            //Define city spinner but we will populate the option through the selected state\n            policeStationSelectDropdown = findViewById(R.id.psAutoCompleteText);\n\n            // Obtain the selected district\n\n             selectedDistrict = districtSelectDropdown.getSelectedItem().toString();\n\n\n            Toast.makeText(Complaint_page.this,selectedDistrict, Toast.LENGTH_SHORT).show();\n\n          //  int parentId = parent.getId();\n\n            if (parent.getId() == R.id.districtAutoCompleteText)\n</code></pre>\n<p>getSelectedItem() is showing error??\nHow to use this with autoCompleteTextView. I want dependent dropdown using Exposed Drop-Down Menu and autoCompleteTextView using JAVA.</p>\n"},{"tags":["java","google-drive-api"],"comments":[{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1673424386,"post_id":75079904,"comment_id":132493180,"body_markdown":"Can i get a little more context on exactly what you want help with here?    what do you mean by &quot;publicly available google drive link&quot; what is this and how was it created?   Why not download them directly via the drive api?   If you want help fixing &quot;using url.openStream() but it provided the name(without link)&quot;  you need to add the code.","body":"Can i get a little more context on exactly what you want help with here?    what do you mean by &quot;publicly available google drive link&quot; what is this and how was it created?   Why not download them directly via the drive api?   If you want help fixing &quot;using url.openStream() but it provided the name(without link)&quot;  you need to add the code."},{"owner":{"account_id":1591411,"reputation":869,"user_id":1474659,"accept_rate":47,"display_name":"abhijeet"},"score":0,"creation_date":1673424587,"post_id":75079904,"comment_id":132493246,"body_markdown":"publicly available google drive link means that if I open the link in browser in incognito mode, it shows the content of the attached folder.","body":"publicly available google drive link means that if I open the link in browser in incognito mode, it shows the content of the attached folder."},{"owner":{"account_id":1591411,"reputation":869,"user_id":1474659,"accept_rate":47,"display_name":"abhijeet"},"score":0,"creation_date":1673424706,"post_id":75079904,"comment_id":132493283,"body_markdown":"I am able to use drive APIs to access files in my drive but unable to access the URLs as I am not able to find a method which takes URL as input.","body":"I am able to use drive APIs to access files in my drive but unable to access the URLs as I am not able to find a method which takes URL as input."},{"owner":{"account_id":1591411,"reputation":869,"user_id":1474659,"accept_rate":47,"display_name":"abhijeet"},"score":0,"creation_date":1673425138,"post_id":75079904,"comment_id":132493418,"body_markdown":"@DaImTo I have provided the explanations regarding your questions. I request you to have a look and let me know.","body":"@DaImTo I have provided the explanations regarding your questions. I request you to have a look and let me know."},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1673427066,"post_id":75079904,"comment_id":132494083,"body_markdown":"If the link you are talking about is one of those share with me links.   Go to drive right click -&gt; share with me then get that link.   You cant access that with the api as its not a true share its not shared permissions so it wont work.   The drive api will need you to have a permission set.  in order to access it.","body":"If the link you are talking about is one of those share with me links.   Go to drive right click -&gt; share with me then get that link.   You cant access that with the api as its not a true share its not shared permissions so it wont work.   The drive api will need you to have a permission set.  in order to access it."},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1673427145,"post_id":75079904,"comment_id":132494122,"body_markdown":"That code looks fun let me give it a go I have never tried with downloading a directory like that interesting use case.","body":"That code looks fun let me give it a go I have never tried with downloading a directory like that interesting use case."},{"owner":{"account_id":1591411,"reputation":869,"user_id":1474659,"accept_rate":47,"display_name":"abhijeet"},"score":0,"creation_date":1673427452,"post_id":75079904,"comment_id":132494228,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/251026/discussion-between-abhijeet-and-daimto).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/251026/discussion-between-abhijeet-and-daimto\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673429340,"creation_date":1673429340,"answer_id":75080839,"question_id":75079904,"body_markdown":"The link you are using contains the folder id, the folder should also be readable by everyone.\r\n\r\nIn this instance you can use the files.list method from the Google drive api and access it using &#39;folderid&#39; in parents which will return a list of all of the files within that folder.\r\n\r\nFor this to work the folder needs to be public to viewers which yours seem to be, after our conversation in chat. ","title":"How to download files from publicly available google drive URL using Java?","body":"<p>The link you are using contains the folder id, the folder should also be readable by everyone.</p>\n<p>In this instance you can use the files.list method from the Google drive api and access it using 'folderid' in parents which will return a list of all of the files within that folder.</p>\n<p>For this to work the folder needs to be public to viewers which yours seem to be, after our conversation in chat.</p>\n"}],"owner":{"account_id":1591411,"reputation":869,"user_id":1474659,"accept_rate":47,"display_name":"abhijeet"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75080839,"answer_count":1,"score":2,"last_activity_date":1673429340,"creation_date":1673424215,"question_id":75079904,"body_markdown":"I have been trying to download files/whole directory from publicly available google drive link URL using Java. I am able to read files which are present in my google drive using google drive libraries but I am not able to understand how to pass google drive link URL.\r\n\r\nAlso, I tried to use typical method of downloading files from URL  but it produced error java.io.IOException: Server returned HTTP response code: 400 for URL.\r\n\r\n\r\n    URL url;\r\n    URLConnection con;\r\n    DataInputStream dis;\r\n    FileOutputStream fos;\r\n    byte[] fileData;\r\n    try {\r\n        url = new URL(&quot;https://drive.google.com/drive/folders/&lt;some-alphanumeric-code&gt;/&lt;file-name&gt;&quot;); //File Location goes here\r\n        con = url.openConnection(); // open the url connection.\r\n        dis = new DataInputStream(con.getInputStream());\r\n        fileData = new byte[con.getContentLength()];\r\n        for (int q = 0; q &lt; fileData.length; q++) {\r\n            fileData[q] = dis.readByte();\r\n        }\r\n        dis.close(); // close the data input stream\r\n        fos = new FileOutputStream(new File(&quot;/Users/abhijeetkunwar/file.png&quot;)); //FILE Save Location goes here\r\n        fos.write(fileData);  // write out the file we want to save.\r\n        fos.close(); // close the output stream writer\r\n    }\r\n    catch(Exception m) {\r\n       System.out.println(m);\r\n    }\r\n\r\n\r\nKindly suggest the solution please.","title":"How to download files from publicly available google drive URL using Java?","body":"<p>I have been trying to download files/whole directory from publicly available google drive link URL using Java. I am able to read files which are present in my google drive using google drive libraries but I am not able to understand how to pass google drive link URL.</p>\n<p>Also, I tried to use typical method of downloading files from URL  but it produced error java.io.IOException: Server returned HTTP response code: 400 for URL.</p>\n<pre><code>URL url;\nURLConnection con;\nDataInputStream dis;\nFileOutputStream fos;\nbyte[] fileData;\ntry {\n    url = new URL(&quot;https://drive.google.com/drive/folders/&lt;some-alphanumeric-code&gt;/&lt;file-name&gt;&quot;); //File Location goes here\n    con = url.openConnection(); // open the url connection.\n    dis = new DataInputStream(con.getInputStream());\n    fileData = new byte[con.getContentLength()];\n    for (int q = 0; q &lt; fileData.length; q++) {\n        fileData[q] = dis.readByte();\n    }\n    dis.close(); // close the data input stream\n    fos = new FileOutputStream(new File(&quot;/Users/abhijeetkunwar/file.png&quot;)); //FILE Save Location goes here\n    fos.write(fileData);  // write out the file we want to save.\n    fos.close(); // close the output stream writer\n}\ncatch(Exception m) {\n   System.out.println(m);\n}\n</code></pre>\n<p>Kindly suggest the solution please.</p>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":4,"creation_date":1673378068,"post_id":75074750,"comment_id":132483891,"body_markdown":"You could change the `toString` method in your `Node` class so that it doesn&#39;t print the comma if there&#39;s no `next` element.  In fact, you could even change it so that it calls the `toString` method on `next` recursively; and that way, you wouldn&#39;t need a loop in `printList`.","body":"You could change the <code>toString</code> method in your <code>Node</code> class so that it doesn&#39;t print the comma if there&#39;s no <code>next</code> element.  In fact, you could even change it so that it calls the <code>toString</code> method on <code>next</code> recursively; and that way, you wouldn&#39;t need a loop in <code>printList</code>."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":2,"creation_date":1673378179,"post_id":75074750,"comment_id":132483937,"body_markdown":"You can research similar questions - for example: [Avoid printing the last comma](https://stackoverflow.com/q/9991799/12567365) or [any of these](https://www.google.com/search?q=don&#39;t+print+final+comma+site:stackoverflow.com) for more ideas which can be adapted to your specific situation.","body":"You can research similar questions - for example: <a href=\"https://stackoverflow.com/q/9991799/12567365\">Avoid printing the last comma</a> or <a href=\"https://www.google.com/search?q=don&#39;t+print+final+comma+site:stackoverflow.com\" rel=\"nofollow noreferrer\">any of these</a> for more ideas which can be adapted to your specific situation."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1673378363,"post_id":75074750,"comment_id":132483996,"body_markdown":"*&quot;so the output is 10,20,30,40,50, &quot;*: eh, not it isn&#39;t. There is no comma output in your code.","body":"<i>&quot;so the output is 10,20,30,40,50, &quot;</i>: eh, not it isn&#39;t. There is no comma output in your code."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673378645,"post_id":75074750,"comment_id":132484106,"body_markdown":"@trincot not with the code shown. The question is incomplete as it does not include a [mre]. `Node`, or whatever type `Node#data` is, could add the comma in their `toString()` method.","body":"@trincot not with the code shown. The question is incomplete as it does not include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. <code>Node</code>, or whatever type <code>Node#data</code> is, could add the comma in their <code>toString()</code> method."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1673378687,"post_id":75074750,"comment_id":132484115,"body_markdown":"@knittl, the question is to the OP.","body":"@knittl, the question is to the OP."}],"answers":[{"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1673391313,"post_id":75075170,"comment_id":132487577,"body_markdown":"I assume `curr-&gt;next` is a typo caused by too much exposure to C++?","body":"I assume <code>curr-&gt;next</code> is a typo caused by too much exposure to C++?"}],"tags":[],"owner":{"account_id":25958789,"reputation":3,"user_id":19675746,"display_name":"Izza Mujeeb Ahmad"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673429325,"creation_date":1673380458,"answer_id":75075170,"question_id":75074750,"body_markdown":"The comma is printed for the same number of times as the numbers. To prevent the last comma from getting printed, a simple if condition should do the trick.\r\n\r\n     public static void printList(Node head) {\r\n            Node curr = head;\r\n    \r\n            while (curr != null) {\r\n    \r\n                System.out.print(curr.data);\r\n    \r\n                if(curr.next != null)\r\n                    System.out.print(&quot;,&quot;);\r\n               \r\n                curr = curr.next;\r\n            }\r\n        }\r\n\r\nThis condition checks whether there is a number after the current number. If there is, a comma is printed, otherwise the comma is not printed for the last number.\r\n\r\nP.S Upvote if it helped!","title":"How can I remove the last comma (,) while traversing a linked list?","body":"<p>The comma is printed for the same number of times as the numbers. To prevent the last comma from getting printed, a simple if condition should do the trick.</p>\n<pre><code> public static void printList(Node head) {\n        Node curr = head;\n\n        while (curr != null) {\n\n            System.out.print(curr.data);\n\n            if(curr.next != null)\n                System.out.print(&quot;,&quot;);\n           \n            curr = curr.next;\n        }\n    }\n</code></pre>\n<p>This condition checks whether there is a number after the current number. If there is, a comma is printed, otherwise the comma is not printed for the last number.</p>\n<p>P.S Upvote if it helped!</p>\n"}],"owner":{"account_id":17586702,"reputation":1,"user_id":17578580,"display_name":"Ankit Kumar Singh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673450709,"answer_count":1,"score":0,"last_activity_date":1673429325,"creation_date":1673377839,"question_id":75074750,"body_markdown":"```java\r\npublic class Traverse {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tNode head = new Node(10);\r\n\t\thead.next = new Node(20);\r\n\t\thead.next.next = new Node(30);\r\n\t\thead.next.next.next = new Node(40);\r\n\t\thead.next.next.next.next = new Node(50);\r\n\t\tprintList(head);\r\n\t}\r\n\r\n\tpublic static void printList(Node head) {\r\n\t\tNode curr = head;\r\n\r\n\t\twhile (curr != null) {\r\n\t\t\tSystem.out.print(curr.data);\r\n\t\t\tcurr = curr.next;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThe output is: \r\n\r\n     10,20,30,40,50, \r\n\r\nI don&#39;t want the last commma (`,`).\r\n\r\nI am asking this because in a company interview a similar question was asked and logically the traversal is correct but because of the last comma 1 test case failed. I know it&#39;s lame but a blunder so the output should be:\r\n\r\n    10,20,30,40,50","title":"How can I remove the last comma (,) while traversing a linked list?","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Traverse {\n\n    public static void main(String[] args) {\n        Node head = new Node(10);\n        head.next = new Node(20);\n        head.next.next = new Node(30);\n        head.next.next.next = new Node(40);\n        head.next.next.next.next = new Node(50);\n        printList(head);\n    }\n\n    public static void printList(Node head) {\n        Node curr = head;\n\n        while (curr != null) {\n            System.out.print(curr.data);\n            curr = curr.next;\n        }\n    }\n}\n</code></pre>\n<p>The output is:</p>\n<pre><code> 10,20,30,40,50, \n</code></pre>\n<p>I don't want the last commma (<code>,</code>).</p>\n<p>I am asking this because in a company interview a similar question was asked and logically the traversal is correct but because of the last comma 1 test case failed. I know it's lame but a blunder so the output should be:</p>\n<pre><code>10,20,30,40,50\n</code></pre>\n"},{"tags":["java","annotations","guava","encapsulation","jetbrains-ide"],"answers":[{"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1689805921,"post_id":67208479,"comment_id":135267407,"body_markdown":"This is slightly inaccurate; they do have different meanings and the JetBrains annotations project even has both annotations `@VisibleForTesting` and `@TestOnly`; see @benjam&#237;n-valero&#39;s answer for the difference.","body":"This is slightly inaccurate; they do have different meanings and the JetBrains annotations project even has both annotations <code>@VisibleForTesting</code> and <code>@TestOnly</code>; see @benjam&#237;n-valero&#39;s answer for the difference."}],"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1619075682,"creation_date":1619075682,"answer_id":67208479,"question_id":67207970,"body_markdown":"The first big difference is obviously that it&#39;s provided by different projects.\r\n\r\n`@VisibleForTesting` is part of the [Google Guava libraries][1] and `@TestOnly` is part of [JetBrains annotations][2] which are associated with JetBrains, the makers of IntelliJ IDEA, among others.\r\n\r\nComparing the JavaDoc of the two shows that they serve basically identical goals: [`@TestOnly`][3] and [`@VisibleForTesting`][4].\r\n\r\nNote that the documentation of **both** annotations contain a note effectively warning you that the annotation itself does not prevent production code from calling the annotated method. JetBrains suggests the use of static checking tools that support that annotation (one of which is presumably built into IntelliJ IDEA) and Guava suggests the use of external checker tools with an explicit list of forbidden APIs.\r\n\r\n**tl;dr** They indicate effectively the same thing. The decision which one to use depends mostly on which tools you are using to act on them and which one they support. Already using other annotations or classes from one of those packages is another reason to pick one over the other.\r\n\r\n\r\n  [1]: https://guava.dev/\r\n  [2]: https://www.jetbrains.com/help/idea/annotating-source-code.html\r\n  [3]: https://javadoc.io/doc/org.jetbrains/annotations/latest/org/jetbrains/annotations/TestOnly.html\r\n  [4]: https://guava.dev/releases/snapshot/api/docs/com/google/common/annotations/VisibleForTesting.html","title":"What is the difference between @TestOnly and @VisibleForTesting in unit test","body":"<p>The first big difference is obviously that it's provided by different projects.</p>\n<p><code>@VisibleForTesting</code> is part of the <a href=\"https://guava.dev/\" rel=\"noreferrer\">Google Guava libraries</a> and <code>@TestOnly</code> is part of <a href=\"https://www.jetbrains.com/help/idea/annotating-source-code.html\" rel=\"noreferrer\">JetBrains annotations</a> which are associated with JetBrains, the makers of IntelliJ IDEA, among others.</p>\n<p>Comparing the JavaDoc of the two shows that they serve basically identical goals: <a href=\"https://javadoc.io/doc/org.jetbrains/annotations/latest/org/jetbrains/annotations/TestOnly.html\" rel=\"noreferrer\"><code>@TestOnly</code></a> and <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/annotations/VisibleForTesting.html\" rel=\"noreferrer\"><code>@VisibleForTesting</code></a>.</p>\n<p>Note that the documentation of <strong>both</strong> annotations contain a note effectively warning you that the annotation itself does not prevent production code from calling the annotated method. JetBrains suggests the use of static checking tools that support that annotation (one of which is presumably built into IntelliJ IDEA) and Guava suggests the use of external checker tools with an explicit list of forbidden APIs.</p>\n<p><strong>tl;dr</strong> They indicate effectively the same thing. The decision which one to use depends mostly on which tools you are using to act on them and which one they support. Already using other annotations or classes from one of those packages is another reason to pick one over the other.</p>\n"},{"tags":[],"owner":{"account_id":1317517,"reputation":314,"user_id":1264066,"display_name":"Benjam&#237;n Valero"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1673428757,"creation_date":1673428757,"answer_id":75080703,"question_id":67207970,"body_markdown":"They are **not** for the same thing.\r\n\r\n[`@VisibleForTesting`](https://javadoc.io/doc/org.jetbrains/annotations/latest/org/jetbrains/annotations/VisibleForTesting.html) is used for a methods that could be private/package-visible but has a higher visibility so it can be used by tests. Such a method can still be called in Production.\r\n\r\n[`@TestOnly`](https://javadoc.io/doc/org.jetbrains/annotations/latest/org/jetbrains/annotations/TestOnly.html) is used for a method that can **only** be used by tests, for instance to create a stub or to perform an additional validation only when testing. Such a method should never be called in Production, although the annotation won&#39;t prevent that.\r\n\r\nBy the way, JetBrains provide both annotations, so they can be used in the same project.","title":"What is the difference between @TestOnly and @VisibleForTesting in unit test","body":"<p>They are <strong>not</strong> for the same thing.</p>\n<p><a href=\"https://javadoc.io/doc/org.jetbrains/annotations/latest/org/jetbrains/annotations/VisibleForTesting.html\" rel=\"nofollow noreferrer\"><code>@VisibleForTesting</code></a> is used for a methods that could be private/package-visible but has a higher visibility so it can be used by tests. Such a method can still be called in Production.</p>\n<p><a href=\"https://javadoc.io/doc/org.jetbrains/annotations/latest/org/jetbrains/annotations/TestOnly.html\" rel=\"nofollow noreferrer\"><code>@TestOnly</code></a> is used for a method that can <strong>only</strong> be used by tests, for instance to create a stub or to perform an additional validation only when testing. Such a method should never be called in Production, although the annotation won't prevent that.</p>\n<p>By the way, JetBrains provide both annotations, so they can be used in the same project.</p>\n"}],"owner":{"account_id":2693858,"reputation":85,"user_id":2326451,"display_name":"Sampath Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3215,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75080703,"answer_count":2,"score":3,"last_activity_date":1673428757,"creation_date":1619073391,"question_id":67207970,"body_markdown":"As per my understanding, these annotations used for methods with an access modifier that allows method invocation from another class for unit testing\r\n\r\n@VisibleForTesting - com.google.common.annotations.VisibleForTesting  \r\n@TestOnly - org.jetbrains.annotations.TestOnly   ","title":"What is the difference between @TestOnly and @VisibleForTesting in unit test","body":"<p>As per my understanding, these annotations used for methods with an access modifier that allows method invocation from another class for unit testing</p>\n<p>@VisibleForTesting - com.google.common.annotations.VisibleForTesting<br />\n@TestOnly - org.jetbrains.annotations.TestOnly</p>\n"},{"tags":["java","spring","spring-boot","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1673179196,"post_id":75047520,"comment_id":132435715,"body_markdown":"Please don&#39;t post images but he errors stacktraces as code blocks. Your images don&#39;t show the cause of the error","body":"Please don&#39;t post images but he errors stacktraces as code blocks. Your images don&#39;t show the cause of the error"}],"answers":[{"comments":[{"owner":{"account_id":25772225,"reputation":3,"user_id":19520571,"display_name":"Eray Naccarlı"},"score":0,"creation_date":1673383255,"post_id":75062045,"comment_id":132485451,"body_markdown":"Thank you very much for your advice. I followed your advice but still getting the same error @PJ.Meisch","body":"Thank you very much for your advice. I followed your advice but still getting the same error @PJ.Meisch"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1673470018,"post_id":75062045,"comment_id":132509200,"body_markdown":"Can you connect for example with `curl https://localhost:9200`?","body":"Can you connect for example with <code>curl https:&#47;&#47;localhost:9200</code>?"}],"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673292200,"creation_date":1673292200,"answer_id":75062045,"question_id":75047520,"body_markdown":"You get a Connection closed error, that means Elasticsearch does not accept the connection from your application. \r\n\r\nHave a look at https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html#docker-cli-run-dev-mode, you&#39;ll need to make your Java application accept the certifivate for the HTTPS TLS connectio\r\n\r\nFor a local enviroment (and only for that!) you might want to disable the security, there&#39;s some informaiton here: https://discuss.elastic.co/t/using-elasticserach-8-via-docker-without-certificate/303617","title":"Why am I getting Error creating bean with name?","body":"<p>You get a Connection closed error, that means Elasticsearch does not accept the connection from your application.</p>\n<p>Have a look at <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html#docker-cli-run-dev-mode\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html#docker-cli-run-dev-mode</a>, you'll need to make your Java application accept the certifivate for the HTTPS TLS connectio</p>\n<p>For a local enviroment (and only for that!) you might want to disable the security, there's some informaiton here: <a href=\"https://discuss.elastic.co/t/using-elasticserach-8-via-docker-without-certificate/303617\" rel=\"nofollow noreferrer\">https://discuss.elastic.co/t/using-elasticserach-8-via-docker-without-certificate/303617</a></p>\n"},{"tags":[],"owner":{"account_id":27495247,"reputation":156,"user_id":20979858,"display_name":"Harsha Gandikota"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673428732,"creation_date":1673428732,"answer_id":75080698,"question_id":75047520,"body_markdown":"Since the error is at the constructor of the ProductService class, you can try using @Autowired annotation on the repository fields in the ProductService class and also use a @NoArgsConstructor annotation on the ProductService class. Something like this\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    @NoArgsConstructor\r\n    public class ProductService {\r\n        \r\n        @Autowired\r\n        private ProductEsRepository productEsRepository;\r\n        @Autowired        \r\n        private ProductRepository productRepository;\r\n        @Autowired\r\n        private ProductPriceService productPriceService;\r\n        @Autowired\r\n        private ProductDeliveryService productDeliveryService;\r\n        @Autowired\r\n        private ProductAmountService productAmountService;\r\n        @Autowired\r\n        private ProductImageService productImageService;\r\n    \r\n        public Flux&lt;ProductResponse&gt; getAll() {\r\n            return this.productEsRepository.findAll().map(this::mapToDto);\r\n        }\r\n   \r\n        private ProductResponse mapToDto(ProductEs item) {\r\n            BigDecimal productPrice = this.productPriceService.getByMoneyType(item.getId(), MoneyTypes.USD);\r\n           return ProductResponse.builder()\r\n                    .price(productPrice)\r\n                    .name(item.getName())\r\n                    .features(item.getFeatures())\r\n                    .id(item.getId())\r\n                    .description(item.getDescription())\r\n                    .deliveryIn(this.productDeliveryService.getDeliveryInfo(item.getId()))\r\n                    .categoryId(item.getCategory().getId())\r\n                    .available(this.productAmountService.getByProductId(item.getId()))\r\n                    .freeDelivery(this.productDeliveryService.freeDeliveryCheck(item.getId(), productPrice))\r\n                    .moneyType(MoneyTypes.USD)\r\n                    .image(this.productImageService.getProductMainImage(item.getId()))\r\n                    .seller(ProductSellerResponse.builder().id(item.getSeller().getId()).name(item.getSeller().getName()).build())\r\n                    .build();\r\n    \r\n        }\r\n    }\r\nLet me know if this helps.","title":"Why am I getting Error creating bean with name?","body":"<p>Since the error is at the constructor of the ProductService class, you can try using @Autowired annotation on the repository fields in the ProductService class and also use a @NoArgsConstructor annotation on the ProductService class. Something like this</p>\n<pre><code>@Service\n@RequiredArgsConstructor\n@NoArgsConstructor\npublic class ProductService {\n    \n    @Autowired\n    private ProductEsRepository productEsRepository;\n    @Autowired        \n    private ProductRepository productRepository;\n    @Autowired\n    private ProductPriceService productPriceService;\n    @Autowired\n    private ProductDeliveryService productDeliveryService;\n    @Autowired\n    private ProductAmountService productAmountService;\n    @Autowired\n    private ProductImageService productImageService;\n\n    public Flux&lt;ProductResponse&gt; getAll() {\n        return this.productEsRepository.findAll().map(this::mapToDto);\n    }\n\n    private ProductResponse mapToDto(ProductEs item) {\n        BigDecimal productPrice = this.productPriceService.getByMoneyType(item.getId(), MoneyTypes.USD);\n       return ProductResponse.builder()\n                .price(productPrice)\n                .name(item.getName())\n                .features(item.getFeatures())\n                .id(item.getId())\n                .description(item.getDescription())\n                .deliveryIn(this.productDeliveryService.getDeliveryInfo(item.getId()))\n                .categoryId(item.getCategory().getId())\n                .available(this.productAmountService.getByProductId(item.getId()))\n                .freeDelivery(this.productDeliveryService.freeDeliveryCheck(item.getId(), productPrice))\n                .moneyType(MoneyTypes.USD)\n                .image(this.productImageService.getProductMainImage(item.getId()))\n                .seller(ProductSellerResponse.builder().id(item.getSeller().getId()).name(item.getSeller().getName()).build())\n                .build();\n\n    }\n}\n</code></pre>\n<p>Let me know if this helps.</p>\n"}],"owner":{"account_id":25772225,"reputation":3,"user_id":19520571,"display_name":"Eray Naccarlı"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":891,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673428732,"creation_date":1673178753,"question_id":75047520,"body_markdown":"    Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    2023-01-09T10:35:28.576+03:00 ERROR 15136 --- [  restartedMain] o.s.boot.SpringApplication: Application run failed\r\n    \r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;productApi&#39; defined in file [C:\\Users\\erayn\\eclipse-workspace\\shopping-app\\target\\classes\\com\\eray\\shoppingapp\\product\\api\\ProductApi.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;productService&#39; defined in file [C:\\Users\\erayn\\eclipse-workspace\\shopping-app\\target\\classes\\com\\eray\\shoppingapp\\product\\service\\ProductService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;productEsRepository&#39; defined in com.eray.shoppingapp.product.repository.es.ProductEsRepository defined in @EnableReactiveElasticsearchRepositories declared on ReactiveElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:793) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:242) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.0.jar:3.0.0]\r\n    \tat com.eray.shoppingapp.ShoppingAppApplication.main(ShoppingAppApplication.java:10) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0.jar:3.0.0]\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;productService&#39; defined in file [C:\\Users\\erayn\\eclipse-workspace\\shopping-app\\target\\classes\\com\\eray\\shoppingapp\\product\\service\\ProductService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;productEsRepository&#39; defined in com.eray.shoppingapp.product.repository.es.ProductEsRepository defined in @EnableReactiveElasticsearchRepositories declared on ReactiveElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:793) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:242) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:880) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:784) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t... 24 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;productEsRepository&#39; defined in com.eray.shoppingapp.product.repository.es.ProductEsRepository defined in @EnableReactiveElasticsearchRepositories declared on ReactiveElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:880) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:784) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t... 38 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:223) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat java.base/java.util.Optional.map(Optional.java:260) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:536) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getTargetRepository(ReactiveElasticsearchRepositoryFactory.java:89) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.util.Lazy.getNullable(Lazy.java:229) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \tat org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactoryBean.afterPropertiesSet(ReactiveElasticsearchRepositoryFactoryBean.java:102) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t... 49 common frames omitted\r\n    Caused by: org.springframework.dao.DataAccessResourceFailureException: Connection is closed\r\n    \tat org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:100) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \tat org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:62) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \tat reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7088) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.MonoCompletionStage$MonoCompletionStageSubscription.apply(MonoCompletionStage.java:117) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.MonoCompletionStage$MonoCompletionStageSubscription.apply(MonoCompletionStage.java:64) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:934) ~[na:na]\r\n    \tat java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:911) ~[na:na]\r\n    \tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]\r\n    \tat java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2162) ~[na:na]\r\n    \tat co.elastic.clients.transport.rest_client.RestClientTransport$1.onFailure(RestClientTransport.java:179) ~[elasticsearch-java-8.5.1.jar:na]\r\n    \tat org.elasticsearch.client.RestClient$FailureTrackingResponseListener.onDefinitiveFailure(RestClient.java:684) ~[elasticsearch-rest-client-8.5.1.jar:8.5.1]\r\n    \tat org.elasticsearch.client.RestClient$1.failed(RestClient.java:422) ~[elasticsearch-rest-client-8.5.1.jar:8.5.1]\r\n    \tat org.apache.http.concurrent.BasicFuture.failed(BasicFuture.java:137) ~[httpcore-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.client.DefaultClientExchangeHandlerImpl.executionFailed(DefaultClientExchangeHandlerImpl.java:101) ~[httpasyncclient-4.1.5.jar:4.1.5]\r\n    \tat org.apache.http.impl.nio.client.AbstractClientExchangeHandler.failed(AbstractClientExchangeHandler.java:432) ~[httpasyncclient-4.1.5.jar:4.1.5]\r\n    \tat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.endOfInput(HttpAsyncRequestExecutor.java:356) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.DefaultNHttpClientConnection.consumeInput(DefaultNHttpClientConnection.java:261) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:87) ~[httpasyncclient-4.1.5.jar:4.1.5]\r\n    \tat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:40) ~[httpasyncclient-4.1.5.jar:4.1.5]\r\n    \tat org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:114) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591) ~[httpcore-nio-4.4.15.jar:4.4.15]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n    \tSuppressed: java.lang.Exception: #block terminated with an error\r\n    \t\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \t\tat reactor.core.publisher.Mono.block(Mono.java:1710) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \t\tat org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository.createIndexAndMappingIfNeeded(SimpleReactiveElasticsearchRepository.java:68) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \t\tat org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository.&lt;init&gt;(SimpleReactiveElasticsearchRepository.java:60) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \t\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    \t\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n    \t\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    \t\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n    \t\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n    \t\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:210) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \t\tat java.base/java.util.Optional.map(Optional.java:260) ~[na:na]\r\n    \t\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \t\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:536) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \t\tat org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getTargetRepository(ReactiveElasticsearchRepositoryFactory.java:89) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \t\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \t\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \t\tat org.springframework.data.util.Lazy.getNullable(Lazy.java:229) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \t\tat org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \t\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n    \t\tat org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactoryBean.afterPropertiesSet(ReactiveElasticsearchRepositoryFactoryBean.java:102) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:880) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:784) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:242) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\r\n    \t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \t\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0.jar:3.0.0]\r\n    Caused by: java.lang.RuntimeException: Connection is closed\r\n    \tat org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:61) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\r\n    \t... 26 common frames omitted\r\n    Caused by: org.apache.http.ConnectionClosedException: Connection is closed\r\n    \t... 12 common frames omitted\r\n\r\n\r\n\r\n\r\nRepository\r\n\r\n       public interface ProductEsRepository extends ReactiveElasticsearchRepository&lt;ProductEs, String&gt; {\r\n    }\r\n\r\nController\r\n   \r\n     @RestController\r\n        @RequestMapping(&quot;/products&quot;)\r\n        @RequiredArgsConstructor\r\n        public class ProductApi {\r\n            private final ProductService productService;\r\n            @GetMapping\r\n            public Flux&lt;ProductResponse&gt; getAllProducts(){\r\n                return this.productService.getAll();\r\n            }\r\n        }\r\n\r\n\r\nProduct Service\r\n \r\n\r\n       @Service\r\n        @RequiredArgsConstructor\r\n        public class ProductService {\r\n        \r\n            private final ProductEsRepository productEsRepository;\r\n            private final ProductRepository productRepository;\r\n            private final ProductPriceService productPriceService;\r\n            private final ProductDeliveryService productDeliveryService;\r\n            private final ProductAmountService productAmountService;\r\n            private final ProductImageService productImageService;\r\n        \r\n            public Flux&lt;ProductResponse&gt; getAll() {\r\n                return this.productEsRepository.findAll().map(this::mapToDto);\r\n            }\r\n       \r\n            private ProductResponse mapToDto(ProductEs item) {\r\n                BigDecimal productPrice = this.productPriceService.getByMoneyType(item.getId(), MoneyTypes.USD);\r\n               return ProductResponse.builder()\r\n                        .price(productPrice)\r\n                        .name(item.getName())\r\n                        .features(item.getFeatures())\r\n                        .id(item.getId())\r\n                        .description(item.getDescription())\r\n                        .deliveryIn(this.productDeliveryService.getDeliveryInfo(item.getId()))\r\n                        .categoryId(item.getCategory().getId())\r\n                        .available(this.productAmountService.getByProductId(item.getId()))\r\n                        .freeDelivery(this.productDeliveryService.freeDeliveryCheck(item.getId(), productPrice))\r\n                        .moneyType(MoneyTypes.USD)\r\n                        .image(this.productImageService.getProductMainImage(item.getId()))\r\n                        .seller(ProductSellerResponse.builder().id(item.getSeller().getId()).name(item.getSeller().getName()).build())\r\n                        .build();\r\n        \r\n            }\r\n        }\r\n\r\nDependency\r\n\r\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n        \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        \t&lt;/parent&gt;\r\n        \t&lt;groupId&gt;com.eray&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;shopping-app&lt;/artifactId&gt;\r\n        \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        \t&lt;name&gt;shopping-app&lt;/name&gt;\r\n        \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n        \t&lt;properties&gt;\r\n        \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n        \t&lt;/properties&gt;\r\n        \t&lt;dependencies&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n        \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t&lt;/dependencies&gt;\r\n\r\nDocker compose\r\n\r\n    version: &#39;3.1&#39;\r\n    services:\r\n      mongo:\r\n        image: mongo\r\n        restart: always\r\n        ports:\r\n        -  27017:27017\r\n        environment:\r\n           MONGO_INITDB_ROOT_USERNAME: root\r\n           MONGO_INITDB_ROOT_PASSWORD: eray123\r\n      elasticsearch:\r\n        image: elasticsearch:8.5.0\r\n        ports:\r\n        - 9200:9200\r\n        - 9300:9300\r\n        environment:\r\n           discovery.type: single-node\r\n\r\nDescription\r\nI added @Repository annotation but it didn&#39;t work, I changed elasticsearch version but it still didn&#39;t work \r\n\r\nwhen i remove final keyword only this error remains \r\n\r\n    Error creating bean with name &#39;productEsRepository&#39; defined in com.eray.shoppingapp.product.repository.es.ProductEsRepository defined in @EnableReactiveElasticsearchRepositories declared on ReactiveElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\r\n\r\ni don&#39;t know what to do i upgraded elasticsearch version from 8.5.3 to 8.5.0 but the problem persists","title":"Why am I getting Error creating bean with name?","body":"<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-01-09T10:35:28.576+03:00 ERROR 15136 --- [  restartedMain] o.s.boot.SpringApplication: Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'productApi' defined in file [C:\\Users\\erayn\\eclipse-workspace\\shopping-app\\target\\classes\\com\\eray\\shoppingapp\\product\\api\\ProductApi.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productService' defined in file [C:\\Users\\erayn\\eclipse-workspace\\shopping-app\\target\\classes\\com\\eray\\shoppingapp\\product\\service\\ProductService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productEsRepository' defined in com.eray.shoppingapp.product.repository.es.ProductEsRepository defined in @EnableReactiveElasticsearchRepositories declared on ReactiveElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:793) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:242) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.0.jar:3.0.0]\n    at com.eray.shoppingapp.ShoppingAppApplication.main(ShoppingAppApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0.jar:3.0.0]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'productService' defined in file [C:\\Users\\erayn\\eclipse-workspace\\shopping-app\\target\\classes\\com\\eray\\shoppingapp\\product\\service\\ProductService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productEsRepository' defined in com.eray.shoppingapp.product.repository.es.ProductEsRepository defined in @EnableReactiveElasticsearchRepositories declared on ReactiveElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:793) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:242) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:880) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:784) ~[spring-beans-6.0.2.jar:6.0.2]\n    ... 24 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productEsRepository' defined in com.eray.shoppingapp.product.repository.es.ProductEsRepository defined in @EnableReactiveElasticsearchRepositories declared on ReactiveElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:880) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:784) ~[spring-beans-6.0.2.jar:6.0.2]\n    ... 38 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:223) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:536) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getTargetRepository(ReactiveElasticsearchRepositoryFactory.java:89) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:229) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactoryBean.afterPropertiesSet(ReactiveElasticsearchRepositoryFactoryBean.java:102) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.2.jar:6.0.2]\n    ... 49 common frames omitted\nCaused by: org.springframework.dao.DataAccessResourceFailureException: Connection is closed\n    at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateExceptionIfPossible(ElasticsearchExceptionTranslator.java:100) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n    at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:62) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n    at reactor.core.publisher.Flux.lambda$onErrorMap$27(Flux.java:7088) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.MonoCompletionStage$MonoCompletionStageSubscription.apply(MonoCompletionStage.java:117) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.MonoCompletionStage$MonoCompletionStageSubscription.apply(MonoCompletionStage.java:64) ~[reactor-core-3.5.0.jar:3.5.0]\n    at java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:934) ~[na:na]\n    at java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:911) ~[na:na]\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]\n    at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2162) ~[na:na]\n    at co.elastic.clients.transport.rest_client.RestClientTransport$1.onFailure(RestClientTransport.java:179) ~[elasticsearch-java-8.5.1.jar:na]\n    at org.elasticsearch.client.RestClient$FailureTrackingResponseListener.onDefinitiveFailure(RestClient.java:684) ~[elasticsearch-rest-client-8.5.1.jar:8.5.1]\n    at org.elasticsearch.client.RestClient$1.failed(RestClient.java:422) ~[elasticsearch-rest-client-8.5.1.jar:8.5.1]\n    at org.apache.http.concurrent.BasicFuture.failed(BasicFuture.java:137) ~[httpcore-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.client.DefaultClientExchangeHandlerImpl.executionFailed(DefaultClientExchangeHandlerImpl.java:101) ~[httpasyncclient-4.1.5.jar:4.1.5]\n    at org.apache.http.impl.nio.client.AbstractClientExchangeHandler.failed(AbstractClientExchangeHandler.java:432) ~[httpasyncclient-4.1.5.jar:4.1.5]\n    at org.apache.http.nio.protocol.HttpAsyncRequestExecutor.endOfInput(HttpAsyncRequestExecutor.java:356) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.DefaultNHttpClientConnection.consumeInput(DefaultNHttpClientConnection.java:261) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:87) ~[httpasyncclient-4.1.5.jar:4.1.5]\n    at org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:40) ~[httpasyncclient-4.1.5.jar:4.1.5]\n    at org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:114) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591) ~[httpcore-nio-4.4.15.jar:4.4.15]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n    Suppressed: java.lang.Exception: #block terminated with an error\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99) ~[reactor-core-3.5.0.jar:3.5.0]\n        at reactor.core.publisher.Mono.block(Mono.java:1710) ~[reactor-core-3.5.0.jar:3.5.0]\n        at org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository.createIndexAndMappingIfNeeded(SimpleReactiveElasticsearchRepository.java:68) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n        at org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository.&lt;init&gt;(SimpleReactiveElasticsearchRepository.java:60) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:210) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport.lambda$instantiateClass$5(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport.instantiateClass(RepositoryFactorySupport.java:571) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport.getTargetRepositoryViaReflection(RepositoryFactorySupport.java:536) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactory.getTargetRepository(ReactiveElasticsearchRepositoryFactory.java:89) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.util.Lazy.getNullable(Lazy.java:229) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.elasticsearch.repository.support.ReactiveElasticsearchRepositoryFactoryBean.afterPropertiesSet(ReactiveElasticsearchRepositoryFactoryBean.java:102) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:880) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:784) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:242) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1344) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1188) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0.jar:3.0.0]\nCaused by: java.lang.RuntimeException: Connection is closed\n    at org.springframework.data.elasticsearch.client.elc.ElasticsearchExceptionTranslator.translateException(ElasticsearchExceptionTranslator.java:61) ~[spring-data-elasticsearch-5.0.0.jar:5.0.0]\n    ... 26 common frames omitted\nCaused by: org.apache.http.ConnectionClosedException: Connection is closed\n    ... 12 common frames omitted\n</code></pre>\n<p>Repository</p>\n<pre><code>   public interface ProductEsRepository extends ReactiveElasticsearchRepository&lt;ProductEs, String&gt; {\n}\n</code></pre>\n<p>Controller</p>\n<pre><code> @RestController\n    @RequestMapping(&quot;/products&quot;)\n    @RequiredArgsConstructor\n    public class ProductApi {\n        private final ProductService productService;\n        @GetMapping\n        public Flux&lt;ProductResponse&gt; getAllProducts(){\n            return this.productService.getAll();\n        }\n    }\n</code></pre>\n<p>Product Service</p>\n<pre><code>   @Service\n    @RequiredArgsConstructor\n    public class ProductService {\n    \n        private final ProductEsRepository productEsRepository;\n        private final ProductRepository productRepository;\n        private final ProductPriceService productPriceService;\n        private final ProductDeliveryService productDeliveryService;\n        private final ProductAmountService productAmountService;\n        private final ProductImageService productImageService;\n    \n        public Flux&lt;ProductResponse&gt; getAll() {\n            return this.productEsRepository.findAll().map(this::mapToDto);\n        }\n   \n        private ProductResponse mapToDto(ProductEs item) {\n            BigDecimal productPrice = this.productPriceService.getByMoneyType(item.getId(), MoneyTypes.USD);\n           return ProductResponse.builder()\n                    .price(productPrice)\n                    .name(item.getName())\n                    .features(item.getFeatures())\n                    .id(item.getId())\n                    .description(item.getDescription())\n                    .deliveryIn(this.productDeliveryService.getDeliveryInfo(item.getId()))\n                    .categoryId(item.getCategory().getId())\n                    .available(this.productAmountService.getByProductId(item.getId()))\n                    .freeDelivery(this.productDeliveryService.freeDeliveryCheck(item.getId(), productPrice))\n                    .moneyType(MoneyTypes.USD)\n                    .image(this.productImageService.getProductMainImage(item.getId()))\n                    .seller(ProductSellerResponse.builder().id(item.getSeller().getId()).name(item.getSeller().getName()).build())\n                    .build();\n    \n        }\n    }\n</code></pre>\n<p>Dependency</p>\n<pre><code> &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n        &lt;/parent&gt;\n        &lt;groupId&gt;com.eray&lt;/groupId&gt;\n        &lt;artifactId&gt;shopping-app&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;name&gt;shopping-app&lt;/name&gt;\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n        &lt;properties&gt;\n            &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;/properties&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-mongodb-reactive&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n                &lt;scope&gt;runtime&lt;/scope&gt;\n                &lt;optional&gt;true&lt;/optional&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;optional&gt;true&lt;/optional&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n                &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n</code></pre>\n<p>Docker compose</p>\n<pre><code>version: '3.1'\nservices:\n  mongo:\n    image: mongo\n    restart: always\n    ports:\n    -  27017:27017\n    environment:\n       MONGO_INITDB_ROOT_USERNAME: root\n       MONGO_INITDB_ROOT_PASSWORD: eray123\n  elasticsearch:\n    image: elasticsearch:8.5.0\n    ports:\n    - 9200:9200\n    - 9300:9300\n    environment:\n       discovery.type: single-node\n</code></pre>\n<p>Description\nI added @Repository annotation but it didn't work, I changed elasticsearch version but it still didn't work</p>\n<p>when i remove final keyword only this error remains</p>\n<pre><code>Error creating bean with name 'productEsRepository' defined in com.eray.shoppingapp.product.repository.es.ProductEsRepository defined in @EnableReactiveElasticsearchRepositories declared on ReactiveElasticsearchRepositoriesRegistrar.EnableElasticsearchRepositoriesConfiguration: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleReactiveElasticsearchRepository]: Constructor threw exception\n</code></pre>\n<p>i don't know what to do i upgraded elasticsearch version from 8.5.3 to 8.5.0 but the problem persists</p>\n"},{"tags":["java","reactive-programming","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1673428649,"creation_date":1588775339,"answer_id":61637769,"question_id":61636504,"body_markdown":"here you can read about `subscribeOn` and `publishOn`.\r\n\r\n[publishOn vs subscribeOn][1]\r\n\r\n basically as soon as someone subscribes, the entire chain is created and the call is assigned a thread. If you have **anywhere** a `subscribeOn` in the chain the entire call will use this scheduler. So it doesn&#39;t matter where `subscribeOn`is placed.\r\n\r\nYou can see that in the logs, its starts out, with the call getting placed on the `subscribeOn` scheduler.\r\n\r\nthe `publishOn` on the other hand, as soon as we reach that statement, the thread switches to that scheduler mid way. So this is more dependant on where in the chain it is placed.\r\n\r\nYour logs show that when the inner Flux is emitting it is emitting on the `publishOn` scheduler.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48073315/publishon-vs-subscribeon-in-project-reactor-3","title":"Project Reactor : how the threads will create in case of subscription and publishedOn, how the flow goes?, Stack trace?","body":"<p>here you can read about <code>subscribeOn</code> and <code>publishOn</code>.</p>\n<p><a href=\"https://stackoverflow.com/questions/48073315/publishon-vs-subscribeon-in-project-reactor-3\">publishOn vs subscribeOn</a></p>\n<p>basically as soon as someone subscribes, the entire chain is created and the call is assigned a thread. If you have <strong>anywhere</strong> a <code>subscribeOn</code> in the chain the entire call will use this scheduler. So it doesn't matter where <code>subscribeOn</code>is placed.</p>\n<p>You can see that in the logs, its starts out, with the call getting placed on the <code>subscribeOn</code> scheduler.</p>\n<p>the <code>publishOn</code> on the other hand, as soon as we reach that statement, the thread switches to that scheduler mid way. So this is more dependant on where in the chain it is placed.</p>\n<p>Your logs show that when the inner Flux is emitting it is emitting on the <code>publishOn</code> scheduler.</p>\n"}],"owner":{"account_id":3837601,"reputation":731,"user_id":3181570,"display_name":"G SriHAri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61637769,"answer_count":1,"score":1,"last_activity_date":1673428649,"creation_date":1588771889,"question_id":61636504,"body_markdown":"simple example to understand the thread flow.\r\n\r\n 1. [**gshp subscribedOn-1**] INFO **reactor.Flux.FlatMap.1** -onSubscribe(**FluxFlatMap.FlatMapMain**)\r\n\r\n 2. [**gshp publishOn-7**] INFO **reactor.Flux.FlatMap.1** - onNext(6)\r\n       \r\nHere **reactor.Flux.FlatMap.1** is common for both **gshp subscribedOn-1**, **gshp publishOn-7** \r\n\r\n When we run java, it starts with main thread after that what happens, will it creating **gshp subscribedOn-1** or **reactor.Flux.FlatMap.1**?\r\n\r\n\r\n\r\n      @Test\r\n\t  public void setUpTestTest() {\r\n\t\t  Scheduler scheduler1 = Schedulers.newParallel(&quot;gshp subscribedOn&quot;, 3);\r\n\t\t  Scheduler scheduler2 = Schedulers.newParallel(&quot;gshp publishOn&quot;, 6);\r\n\t\t  Flux&lt;String&gt; flux = Flux.range(1, 200)\r\n\t\t\t\t                  .flatMap(s-&gt; Flux.just(&quot;&quot;+s)\r\n                                                   .publishOn(scheduler2)\r\n                                                   .concatMap(d-&gt;processMessagefluxpause(d, &quot;test&quot;)))\r\n                                                   .log()\r\n\t\t\t\t                  .subscribeOn(scheduler1);\r\n\r\n\t\tStepVerifier.create(flux).expectNextCount(20).verifyComplete();\r\n\t}\r\n    \r\nWhat it means, how the flow goes?\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sH1tz.png","title":"Project Reactor : how the threads will create in case of subscription and publishedOn, how the flow goes?, Stack trace?","body":"<p>simple example to understand the thread flow.</p>\n\n<ol>\n<li><p>[<strong>gshp subscribedOn-1</strong>] INFO <strong>reactor.Flux.FlatMap.1</strong> -onSubscribe(<strong>FluxFlatMap.FlatMapMain</strong>)</p></li>\n<li><p>[<strong>gshp publishOn-7</strong>] INFO <strong>reactor.Flux.FlatMap.1</strong> - onNext(6)</p></li>\n</ol>\n\n<p>Here <strong>reactor.Flux.FlatMap.1</strong> is common for both <strong>gshp subscribedOn-1</strong>, <strong>gshp publishOn-7</strong> </p>\n\n<p>When we run java, it starts with main thread after that what happens, will it creating <strong>gshp subscribedOn-1</strong> or <strong>reactor.Flux.FlatMap.1</strong>?</p>\n\n<pre><code>  @Test\n  public void setUpTestTest() {\n      Scheduler scheduler1 = Schedulers.newParallel(\"gshp subscribedOn\", 3);\n      Scheduler scheduler2 = Schedulers.newParallel(\"gshp publishOn\", 6);\n      Flux&lt;String&gt; flux = Flux.range(1, 200)\n                              .flatMap(s-&gt; Flux.just(\"\"+s)\n                                               .publishOn(scheduler2)\n                                               .concatMap(d-&gt;processMessagefluxpause(d, \"test\")))\n                                               .log()\n                              .subscribeOn(scheduler1);\n\n    StepVerifier.create(flux).expectNextCount(20).verifyComplete();\n}\n</code></pre>\n\n<p>What it means, how the flow goes?\n<a href=\"https://i.stack.imgur.com/sH1tz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sH1tz.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","scheduledexecutorservice"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1673345416,"post_id":75068322,"comment_id":132472602,"body_markdown":"You seem to have a misconception in the first snippet: you print `(alertTimeInMillis - now)` as the time to alert but only pass `alertTimeInMillis` to `schedule(...)`. If you read the JavaDoc on `Calendar.getTimeInMillis()` you&#39;ll see that this is the number of milliseconds since epoch (i.e. 1/1/1970 00:00:00,000 UTC) and if you delay by that amount of millis you&#39;d wait another 53 years for the alert :) - Btw, the second snippet is better anyway as it ditches the old `java.util.Date` API.","body":"You seem to have a misconception in the first snippet: you print <code>(alertTimeInMillis - now)</code> as the time to alert but only pass <code>alertTimeInMillis</code> to <code>schedule(...)</code>. If you read the JavaDoc on <code>Calendar.getTimeInMillis()</code> you&#39;ll see that this is the number of milliseconds since epoch (i.e. 1/1/1970 00:00:00,000 UTC) and if you delay by that amount of millis you&#39;d wait another 53 years for the alert :) - Btw, the second snippet is better anyway as it ditches the old <code>java.util.Date</code> API."},{"owner":{"account_id":1458162,"reputation":848,"user_id":1373232,"accept_rate":53,"display_name":"Nom1fan"},"score":0,"creation_date":1673354362,"post_id":75068322,"comment_id":132475405,"body_markdown":"I understand, thanks ! The reason I use the old `Date` is because I&#39;m trying to help someone with an exercise which requires them to work with it (unfortunately:).","body":"I understand, thanks ! The reason I use the old <code>Date</code> is because I&#39;m trying to help someone with an exercise which requires them to work with it (unfortunately:)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1673361188,"post_id":75068322,"comment_id":132478029,"body_markdown":"That is indeed very unfortunate. No one should learn to use the troublesome and long outdated `Date`, `Calendar`, `SimpleDateFormat` and `TimZone` classes.","body":"That is indeed very unfortunate. No one should learn to use the troublesome and long outdated <code>Date</code>, <code>Calendar</code>, <code>SimpleDateFormat</code> and <code>TimZone</code> classes."}],"answers":[{"comments":[{"owner":{"account_id":1458162,"reputation":848,"user_id":1373232,"accept_rate":53,"display_name":"Nom1fan"},"score":0,"creation_date":1673425728,"post_id":75076209,"comment_id":132493627,"body_markdown":"Thanks so much for the detailed answer and teaching me out of scope like awaiting termination! Few questions: 1) You said it&#39;s weird I&#39;m mixing legacy code with modern code, but `TimeZone#getTimeZone` accepts `ZoneId`, isn&#39;t it mixed by design then? 2) I&#39;m confused about the prints, since the user input is `14:30` but it goes off at `22:30` your time. Is it a time zone issue? Thanks again!","body":"Thanks so much for the detailed answer and teaching me out of scope like awaiting termination! Few questions: 1) You said it&#39;s weird I&#39;m mixing legacy code with modern code, but <code>TimeZone#getTimeZone</code> accepts <code>ZoneId</code>, isn&#39;t it mixed by design then? 2) I&#39;m confused about the prints, since the user input is <code>14:30</code> but it goes off at <code>22:30</code> your time. Is it a time zone issue? Thanks again!"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1673427165,"post_id":75076209,"comment_id":132494128,"body_markdown":"@Nom1fan New conversion methods were added to the old classes for writing code to interoperate with old code not yet updated to *java.time*. `TimeZone.getTimeZone( ZoneId )` is one such conversion method.","body":"@Nom1fan New conversion methods were added to the old classes for writing code to interoperate with old code not yet updated to <i>java.time</i>. <code>TimeZone.getTimeZone( ZoneId )</code> is one such conversion method."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1673427391,"post_id":75076209,"comment_id":132494208,"body_markdown":"My example code when run was aiming to run the task at 2023-01-10T14:30-08:00[America/Los_Angeles]. That is the exact same moment, same point on the timeline as 2023-01-10T22:30:00Z where the “Z” means an offset from UTC of zero hours-minutes-seconds. The 14:30 in `America/Los_Angeles` is 8 hours behind UTC, so adding 8 hours brings you to 22:30 in UTC.","body":"My example code when run was aiming to run the task at 2023-01-10T14:30-08:00[America/Los_Angeles]. That is the exact same moment, same point on the timeline as 2023-01-10T22:30:00Z where the “Z” means an offset from UTC of zero hours-minutes-seconds. The 14:30 in <code>America&#47;Los_Angeles</code> is 8 hours behind UTC, so adding 8 hours brings you to 22:30 in UTC."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673428562,"creation_date":1673387353,"answer_id":75076209,"question_id":75068322,"body_markdown":"# Debugging legacy code\r\n\r\n&gt;`ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor(Thread::new);`\r\n\r\nNo need for that `Thread::new`. Use empty parens, no arguments needed.\r\n\r\n&gt;`TimeZone timeZone = TimeZone.getTimeZone(ZoneId.systemDefault());`\r\n\r\nWeird. You are mixing the legacy `TimeZone` class with its replacement `ZoneId` from *java.time*. Use only *java.time*; never use the terribly flawed legacy date-time classes.\r\n\r\n    ZoneId z = ZoneId.sytemDefault() ;\r\n\r\nNew conversion methods were added to the old classes for writing code to interoperate with old code not yet updated to java.time. TimeZone.getTimeZone( ZoneId ) is one such conversion method.\r\n\r\nAlso, be aware that the JVM’s current default time zone can be changed at any moment by any code in any thread. Consider if you really want your code to spin the wheel on time-zone-[roulette][1] at runtime.\r\n\r\n&gt;`new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss&quot;);`\r\n\r\nYour formatting code uses `hh` in lowercase. This means 12-hour clock. But you neglected to collect an indicator of which half of the day. If the user types a time for `02:00:00`, we cannot know if they meant 2 AM or 2 PM. I will change this to `HH` for 24-hour clock in example code below.\r\n\r\n&gt;`SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss&quot;);`\r\n&gt;`Date date = sdf.parse(dateStr);`\r\n\r\nBe aware that `SimpleDateFormat` is using a default time zone to parse that date-with-time string. You happen to want the default time zone in your earlier code, so this may work out well. Or this may not work out well if some code has changed your JVM’s current default time zone in the interim.\r\n\r\n&gt;`ScheduledFuture&lt;?&gt; scheduledFuture = scheduledExecutorService.schedule(() -&gt; System.out.println(&quot;alert!&quot;) , alertTimeInMillis, TimeUnit.MILLISECONDS);`\r\n\r\n&#128073; This line is the source of your problem. You told the scheduled executor service to wait a number of milliseconds before executing. Your number of executors is the number of milliseconds since the epoch reference of first moment of 1970 in UTC — decades, that is. You told the executor service to wait decades, about 53 years (2023-1970 = 53). Which the executor service will do, faithfully, if you leave your computer running that long.\r\n\r\nYour code:\r\n\r\n    long alertTimeInMillis = calendar.getTimeInMillis();\r\n\r\n… calls the [`Calendar#getTimeInMillis`][2] method. Javadoc says:\r\n\r\n&gt;Returns: the current time as UTC milliseconds from the epoch.\r\n\r\nWhat you meant to do is what you *did* do in your `System.out.println`: Calculate time to elapse between the current moment and that target moment.\r\n\r\n    (alertTimeInMillis - now)\r\n\r\nTip: Generally best to log *existing* values, rather than *generating* a value to log.\r\n\r\n# Modern solution: *java.time*\r\n\r\nBut enough of struggling with the terribly flawed legacy date-time classes. Never use `Calendar`, `Date`, or `SimpleDateFormat`. Always use *java.time* classes.\r\n\r\nFirstly, if using an executor service, copy the boilerplate code for a graceful shutdown. Find that code on [`ExecutorService`][3] Javadoc. Here is a slightly modified version. \r\n\r\n```java\r\npackage work.basil.example.time;\r\n\r\nimport java.time.Duration;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class WaitToRunDemo\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        WaitToRunDemo app = new WaitToRunDemo();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n    }\r\n\r\n    // My slightly modified version of boilerplate code taken from Javadoc of `ExecutorService`.\r\n    // https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html \r\n    void shutdownAndAwaitTermination ( final ExecutorService executorService , final Duration waitForTasksToWork , final Duration waitForTasksToComplete )\r\n    {\r\n        executorService.shutdown(); // Disable new tasks from being submitted\r\n        try\r\n        {\r\n            // Wait a while for existing tasks to terminate\r\n            if ( ! executorService.awaitTermination( waitForTasksToWork.toMillis() , TimeUnit.MILLISECONDS ) )\r\n            {\r\n                executorService.shutdownNow(); // Cancel currently executing tasks\r\n                // Wait a while for tasks to respond to being cancelled\r\n                if ( ! executorService.awaitTermination( waitForTasksToComplete.toMillis() , TimeUnit.MILLISECONDS ) )\r\n                { System.err.println( &quot;ExecutorService did not terminate.&quot; ); }\r\n            }\r\n        }\r\n        catch ( InterruptedException ex )\r\n        {\r\n            // (Re-)Cancel if current thread also interrupted\r\n            executorService.shutdownNow();\r\n            // Preserve interrupt status\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is complete example code.\r\n\r\nLet&#39;s break up your long code into a few separate methods, each with a specific goal.\r\n\r\nTo represent a span of time not attached to the timeline, use [`Duration`][4] class. \r\n\r\nNotice how we minimized the use of `LocalDateTime`. That class cannot represent a moment, a point on the timeline as it lacks the context of a time zone or offset-from-UTC. I cannot imagine a situation where calling `LocalDateTime.now` is optimal. \r\n\r\n```java\r\npackage work.basil.example.time;\r\n\r\nimport java.time.*;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.temporal.ChronoUnit;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ScheduledExecutorService;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class WaitToRunDemo\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        WaitToRunDemo app = new WaitToRunDemo();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        ZonedDateTime then = this.gatherInput();\r\n        Duration delayUntilTaskRuns = this.calculateTimeToElapse( then );\r\n        System.out.println( &quot;INFO - Now: &quot; + Instant.now() + &quot;. Scheduling task to run after delay of: &quot; + delayUntilTaskRuns.toString() );\r\n\r\n        this.runTask( delayUntilTaskRuns );\r\n        System.out.println( &quot;Demo done at &quot; + Instant.now() );\r\n    }\r\n\r\n    private ZonedDateTime gatherInput ( )\r\n    {\r\n        // Put your `Scanner` code here. Tip: Confirm the time zone with the user.\r\n\r\n        // Simulate the user entering text for the start of the next minute.\r\n        ZoneId zoneId = ZoneId.systemDefault();\r\n        ZonedDateTime now = ZonedDateTime.now( zoneId );\r\n        ZonedDateTime startOfNextMinute = now.truncatedTo( ChronoUnit.MINUTES ).plusMinutes( 1 );\r\n\r\n        DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu HH:mm:ss&quot; );\r\n        String userInput = startOfNextMinute.format( f );\r\n        System.out.println( &quot;DEBUG startOfNextMinute = &quot; + startOfNextMinute );\r\n        System.out.println( &quot;DEBUG userInput = &quot; + userInput );\r\n\r\n        // Parse user input text into a `LocalDateTime` object to represent date with time-of-day but lacking any time zone or offset-from-UTC. \r\n        LocalDateTime ldt = LocalDateTime.parse( userInput , f );\r\n        ZonedDateTime zdt = ldt.atZone( zoneId );\r\n\r\n        return zdt;\r\n    }\r\n\r\n    private Duration calculateTimeToElapse ( final ZonedDateTime then )\r\n    {\r\n        Instant now = Instant.now();\r\n        Duration delayUntilTaskRuns = Duration.between( now , then.toInstant() );\r\n        if ( delayUntilTaskRuns.isNegative() ) { throw new IllegalStateException( &quot;Specified wait time is negative (in the past).&quot; ); }\r\n        return delayUntilTaskRuns;\r\n    }\r\n\r\n    private void runTask ( Duration delay )\r\n    {\r\n        ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\r\n        Runnable task = ( ) -&gt; System.out.println( &quot;Done running task at &quot; + Instant.now() );\r\n        ses.schedule( task , delay.toMillis() , TimeUnit.MILLISECONDS );\r\n        this.shutdownAndAwaitTermination( ses , Duration.ofMinutes( 2 ) , Duration.ofMinutes( 1 ) );\r\n    }\r\n\r\n    // My slightly modified version of boilerplate code taken from Javadoc of `ExecutorService`.\r\n    // https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n    void shutdownAndAwaitTermination ( final ExecutorService executorService , final Duration waitForTasksToWork , final Duration waitForTasksToComplete )\r\n    {\r\n        executorService.shutdown(); // Disable new tasks from being submitted\r\n        try\r\n        {\r\n            // Wait a while for existing tasks to terminate\r\n            if ( ! executorService.awaitTermination( waitForTasksToWork.toMillis() , TimeUnit.MILLISECONDS ) )\r\n            {\r\n                executorService.shutdownNow(); // Cancel currently executing tasks\r\n                // Wait a while for tasks to respond to being cancelled\r\n                if ( ! executorService.awaitTermination( waitForTasksToComplete.toMillis() , TimeUnit.MILLISECONDS ) )\r\n                { System.err.println( &quot;ExecutorService did not terminate.&quot; ); }\r\n            }\r\n        }\r\n        catch ( InterruptedException ex )\r\n        {\r\n            // (Re-)Cancel if current thread also interrupted\r\n            executorService.shutdownNow();\r\n            // Preserve interrupt status\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhere run:\r\n\r\n```none\r\nDEBUG startOfNextMinute = 2023-01-10T14:30-08:00[America/Los_Angeles]\r\nDEBUG userInput = 10-01-2023 14:30:00\r\nINFO - Now: 2023-01-10T22:29:37.091459Z. Scheduling task to run after delay of: PT22.908594S\r\nDone running task at 2023-01-10T22:30:00.012244Z\r\nDemo done at 2023-01-10T22:30:00.024242Z\r\n```\r\n\r\nMy example code when run was aiming to run the task at 2023-01-10T14:30-08:00[America/Los_Angeles]. That is the exact same moment, same point on the timeline as 2023-01-10T22:30:00Z where the “Z” means an offset from UTC of zero hours-minutes-seconds. The 14:30 in America/Los_Angeles is 8 hours behind UTC, so adding 8 hours brings us to 22:30 in UTC — same moment, different wall-clock time.  \r\n\r\nIn other words… Alice in Portland Oregon notices her clock on the wall strike 2:30 PM (14:30) as she dials the phone to call Bob in [Reykjav&#237;k][5]. As Bob answers the call, he notices [his own clock on the wall][6] reads 10:30 PM (22:30). Same moment, different wall-clock time. \r\n\r\n\r\n----------\r\n\r\n\r\nBy the way, be aware that lines sent to `System.out.println` across threads may *not* appear in the console in chronological order. Always include a timestamp such as `Instant.now()`. If you care about sequence, study those timestamps. \r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Roulette\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Calendar.html#getTimeInMillis()\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html\r\n  [5]: https://en.m.wikipedia.org/wiki/Reykjav%C3%ADk\r\n  [6]: https://en.m.wikipedia.org/wiki/Time_in_Iceland","title":"ScheduledExecutorService schedule not triggering","body":"<h1>Debugging legacy code</h1>\n<blockquote>\n<p><code>ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor(Thread::new);</code></p>\n</blockquote>\n<p>No need for that <code>Thread::new</code>. Use empty parens, no arguments needed.</p>\n<blockquote>\n<p><code>TimeZone timeZone = TimeZone.getTimeZone(ZoneId.systemDefault());</code></p>\n</blockquote>\n<p>Weird. You are mixing the legacy <code>TimeZone</code> class with its replacement <code>ZoneId</code> from <em>java.time</em>. Use only <em>java.time</em>; never use the terribly flawed legacy date-time classes.</p>\n<pre><code>ZoneId z = ZoneId.sytemDefault() ;\n</code></pre>\n<p>New conversion methods were added to the old classes for writing code to interoperate with old code not yet updated to java.time. TimeZone.getTimeZone( ZoneId ) is one such conversion method.</p>\n<p>Also, be aware that the JVM’s current default time zone can be changed at any moment by any code in any thread. Consider if you really want your code to spin the wheel on time-zone-<a href=\"https://en.m.wikipedia.org/wiki/Roulette\" rel=\"nofollow noreferrer\">roulette</a> at runtime.</p>\n<blockquote>\n<p><code>new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss&quot;);</code></p>\n</blockquote>\n<p>Your formatting code uses <code>hh</code> in lowercase. This means 12-hour clock. But you neglected to collect an indicator of which half of the day. If the user types a time for <code>02:00:00</code>, we cannot know if they meant 2 AM or 2 PM. I will change this to <code>HH</code> for 24-hour clock in example code below.</p>\n<blockquote>\n<p><code>SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss&quot;);</code>\n<code>Date date = sdf.parse(dateStr);</code></p>\n</blockquote>\n<p>Be aware that <code>SimpleDateFormat</code> is using a default time zone to parse that date-with-time string. You happen to want the default time zone in your earlier code, so this may work out well. Or this may not work out well if some code has changed your JVM’s current default time zone in the interim.</p>\n<blockquote>\n<p><code>ScheduledFuture&lt;?&gt; scheduledFuture = scheduledExecutorService.schedule(() -&gt; System.out.println(&quot;alert!&quot;) , alertTimeInMillis, TimeUnit.MILLISECONDS);</code></p>\n</blockquote>\n<p>👉 This line is the source of your problem. You told the scheduled executor service to wait a number of milliseconds before executing. Your number of executors is the number of milliseconds since the epoch reference of first moment of 1970 in UTC — decades, that is. You told the executor service to wait decades, about 53 years (2023-1970 = 53). Which the executor service will do, faithfully, if you leave your computer running that long.</p>\n<p>Your code:</p>\n<pre><code>long alertTimeInMillis = calendar.getTimeInMillis();\n</code></pre>\n<p>… calls the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Calendar.html#getTimeInMillis()\" rel=\"nofollow noreferrer\"><code>Calendar#getTimeInMillis</code></a> method. Javadoc says:</p>\n<blockquote>\n<p>Returns: the current time as UTC milliseconds from the epoch.</p>\n</blockquote>\n<p>What you meant to do is what you <em>did</em> do in your <code>System.out.println</code>: Calculate time to elapse between the current moment and that target moment.</p>\n<pre><code>(alertTimeInMillis - now)\n</code></pre>\n<p>Tip: Generally best to log <em>existing</em> values, rather than <em>generating</em> a value to log.</p>\n<h1>Modern solution: <em>java.time</em></h1>\n<p>But enough of struggling with the terribly flawed legacy date-time classes. Never use <code>Calendar</code>, <code>Date</code>, or <code>SimpleDateFormat</code>. Always use <em>java.time</em> classes.</p>\n<p>Firstly, if using an executor service, copy the boilerplate code for a graceful shutdown. Find that code on <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\"><code>ExecutorService</code></a> Javadoc. Here is a slightly modified version.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.time;\n\nimport java.time.Duration;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.TimeUnit;\n\npublic class WaitToRunDemo\n{\n    public static void main ( String[] args )\n    {\n        WaitToRunDemo app = new WaitToRunDemo();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n    }\n\n    // My slightly modified version of boilerplate code taken from Javadoc of `ExecutorService`.\n    // https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html \n    void shutdownAndAwaitTermination ( final ExecutorService executorService , final Duration waitForTasksToWork , final Duration waitForTasksToComplete )\n    {\n        executorService.shutdown(); // Disable new tasks from being submitted\n        try\n        {\n            // Wait a while for existing tasks to terminate\n            if ( ! executorService.awaitTermination( waitForTasksToWork.toMillis() , TimeUnit.MILLISECONDS ) )\n            {\n                executorService.shutdownNow(); // Cancel currently executing tasks\n                // Wait a while for tasks to respond to being cancelled\n                if ( ! executorService.awaitTermination( waitForTasksToComplete.toMillis() , TimeUnit.MILLISECONDS ) )\n                { System.err.println( &quot;ExecutorService did not terminate.&quot; ); }\n            }\n        }\n        catch ( InterruptedException ex )\n        {\n            // (Re-)Cancel if current thread also interrupted\n            executorService.shutdownNow();\n            // Preserve interrupt status\n            Thread.currentThread().interrupt();\n        }\n    }\n}\n</code></pre>\n<p>Here is complete example code.</p>\n<p>Let's break up your long code into a few separate methods, each with a specific goal.</p>\n<p>To represent a span of time not attached to the timeline, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>Duration</code></a> class.</p>\n<p>Notice how we minimized the use of <code>LocalDateTime</code>. That class cannot represent a moment, a point on the timeline as it lacks the context of a time zone or offset-from-UTC. I cannot imagine a situation where calling <code>LocalDateTime.now</code> is optimal.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.time;\n\nimport java.time.*;\nimport java.time.format.DateTimeFormatter;\nimport java.time.temporal.ChronoUnit;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\n\npublic class WaitToRunDemo\n{\n    public static void main ( String[] args )\n    {\n        WaitToRunDemo app = new WaitToRunDemo();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n        ZonedDateTime then = this.gatherInput();\n        Duration delayUntilTaskRuns = this.calculateTimeToElapse( then );\n        System.out.println( &quot;INFO - Now: &quot; + Instant.now() + &quot;. Scheduling task to run after delay of: &quot; + delayUntilTaskRuns.toString() );\n\n        this.runTask( delayUntilTaskRuns );\n        System.out.println( &quot;Demo done at &quot; + Instant.now() );\n    }\n\n    private ZonedDateTime gatherInput ( )\n    {\n        // Put your `Scanner` code here. Tip: Confirm the time zone with the user.\n\n        // Simulate the user entering text for the start of the next minute.\n        ZoneId zoneId = ZoneId.systemDefault();\n        ZonedDateTime now = ZonedDateTime.now( zoneId );\n        ZonedDateTime startOfNextMinute = now.truncatedTo( ChronoUnit.MINUTES ).plusMinutes( 1 );\n\n        DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu HH:mm:ss&quot; );\n        String userInput = startOfNextMinute.format( f );\n        System.out.println( &quot;DEBUG startOfNextMinute = &quot; + startOfNextMinute );\n        System.out.println( &quot;DEBUG userInput = &quot; + userInput );\n\n        // Parse user input text into a `LocalDateTime` object to represent date with time-of-day but lacking any time zone or offset-from-UTC. \n        LocalDateTime ldt = LocalDateTime.parse( userInput , f );\n        ZonedDateTime zdt = ldt.atZone( zoneId );\n\n        return zdt;\n    }\n\n    private Duration calculateTimeToElapse ( final ZonedDateTime then )\n    {\n        Instant now = Instant.now();\n        Duration delayUntilTaskRuns = Duration.between( now , then.toInstant() );\n        if ( delayUntilTaskRuns.isNegative() ) { throw new IllegalStateException( &quot;Specified wait time is negative (in the past).&quot; ); }\n        return delayUntilTaskRuns;\n    }\n\n    private void runTask ( Duration delay )\n    {\n        ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\n        Runnable task = ( ) -&gt; System.out.println( &quot;Done running task at &quot; + Instant.now() );\n        ses.schedule( task , delay.toMillis() , TimeUnit.MILLISECONDS );\n        this.shutdownAndAwaitTermination( ses , Duration.ofMinutes( 2 ) , Duration.ofMinutes( 1 ) );\n    }\n\n    // My slightly modified version of boilerplate code taken from Javadoc of `ExecutorService`.\n    // https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\n    void shutdownAndAwaitTermination ( final ExecutorService executorService , final Duration waitForTasksToWork , final Duration waitForTasksToComplete )\n    {\n        executorService.shutdown(); // Disable new tasks from being submitted\n        try\n        {\n            // Wait a while for existing tasks to terminate\n            if ( ! executorService.awaitTermination( waitForTasksToWork.toMillis() , TimeUnit.MILLISECONDS ) )\n            {\n                executorService.shutdownNow(); // Cancel currently executing tasks\n                // Wait a while for tasks to respond to being cancelled\n                if ( ! executorService.awaitTermination( waitForTasksToComplete.toMillis() , TimeUnit.MILLISECONDS ) )\n                { System.err.println( &quot;ExecutorService did not terminate.&quot; ); }\n            }\n        }\n        catch ( InterruptedException ex )\n        {\n            // (Re-)Cancel if current thread also interrupted\n            executorService.shutdownNow();\n            // Preserve interrupt status\n            Thread.currentThread().interrupt();\n        }\n    }\n}\n</code></pre>\n<p>Where run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>DEBUG startOfNextMinute = 2023-01-10T14:30-08:00[America/Los_Angeles]\nDEBUG userInput = 10-01-2023 14:30:00\nINFO - Now: 2023-01-10T22:29:37.091459Z. Scheduling task to run after delay of: PT22.908594S\nDone running task at 2023-01-10T22:30:00.012244Z\nDemo done at 2023-01-10T22:30:00.024242Z\n</code></pre>\n<p>My example code when run was aiming to run the task at 2023-01-10T14:30-08:00[America/Los_Angeles]. That is the exact same moment, same point on the timeline as 2023-01-10T22:30:00Z where the “Z” means an offset from UTC of zero hours-minutes-seconds. The 14:30 in America/Los_Angeles is 8 hours behind UTC, so adding 8 hours brings us to 22:30 in UTC — same moment, different wall-clock time.</p>\n<p>In other words… Alice in Portland Oregon notices her clock on the wall strike 2:30 PM (14:30) as she dials the phone to call Bob in <a href=\"https://en.m.wikipedia.org/wiki/Reykjav%C3%ADk\" rel=\"nofollow noreferrer\">Reykjavík</a>. As Bob answers the call, he notices <a href=\"https://en.m.wikipedia.org/wiki/Time_in_Iceland\" rel=\"nofollow noreferrer\">his own clock on the wall</a> reads 10:30 PM (22:30). Same moment, different wall-clock time.</p>\n<hr />\n<p>By the way, be aware that lines sent to <code>System.out.println</code> across threads may <em>not</em> appear in the console in chronological order. Always include a timestamp such as <code>Instant.now()</code>. If you care about sequence, study those timestamps.</p>\n"},{"tags":[],"owner":{"account_id":1458162,"reputation":848,"user_id":1373232,"accept_rate":53,"display_name":"Nom1fan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673427414,"creation_date":1673427414,"answer_id":75080463,"question_id":75068322,"body_markdown":"I modified Basil&#39;s modern answer slightly so the prints are on the same time zone and make more sense to me. Feel free to correct me if I&#39;ve done something wrong.\r\n\r\n```\r\nimport java.time.*;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.temporal.ChronoUnit;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ScheduledExecutorService;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class WaitToRunDemo {\r\n    public static void main(String[] args) {\r\n        WaitToRunDemo app = new WaitToRunDemo();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo() {\r\n        ZoneId zoneId = ZoneId.systemDefault();\r\n        ZonedDateTime now = ZonedDateTime.now(zoneId);\r\n        ZonedDateTime then = this.gatherInput(now, zoneId);\r\n        Duration delayUntilTaskRuns = this.calculateTimeToElapse(now, then);\r\n        System.out.println(&quot;INFO - Now: &quot; + now + &quot;. Scheduling task to run after delay of: &quot; + delayUntilTaskRuns);\r\n\r\n        this.runTask(delayUntilTaskRuns, zoneId);\r\n        System.out.println(&quot;Demo done at: &quot; + ZonedDateTime.now(zoneId));\r\n    }\r\n\r\n    private ZonedDateTime gatherInput(ZonedDateTime now, ZoneId zoneId) {\r\n        // Put your `Scanner` code here. Tip: Confirm the time zone with the user.\r\n\r\n        // Simulate the user entering text for the start of the next minute.\r\n        ZonedDateTime startOfNextMinute = now.truncatedTo(ChronoUnit.MINUTES).plusMinutes(1);\r\n\r\n        DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu HH:mm:ss&quot;);\r\n        String userInput = startOfNextMinute.format(f);\r\n        System.out.println(&quot;DEBUG startOfNextMinute = &quot; + startOfNextMinute);\r\n        System.out.println(&quot;DEBUG userInput = &quot; + userInput);\r\n\r\n        // Parse user input text into a `LocalDateTime` object to represent date with time-of-day but lacking any time zone or offset-from-UTC.\r\n        LocalDateTime ldt = LocalDateTime.parse(userInput, f);\r\n\r\n        return ldt.atZone(zoneId);\r\n    }\r\n\r\n    private Duration calculateTimeToElapse(final ZonedDateTime now, final ZonedDateTime then) {\r\n        Duration delayUntilTaskRuns = Duration.between(now, then);\r\n        if (delayUntilTaskRuns.isNegative()) {\r\n            throw new IllegalStateException(&quot;Specified wait time is negative (in the past).&quot;);\r\n        }\r\n        return delayUntilTaskRuns;\r\n    }\r\n\r\n    private void runTask(Duration delay, ZoneId zoneId) {\r\n        ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\r\n        Runnable task = () -&gt; System.out.println(&quot;Done running task at: &quot; + ZonedDateTime.now(zoneId));\r\n        ses.schedule(task, delay.toMillis(), TimeUnit.MILLISECONDS);\r\n        this.shutdownAndAwaitTermination(ses, Duration.ofMinutes(2), Duration.ofMinutes(1));\r\n    }\r\n\r\n    // My slightly modified version of boilerplate code taken from Javadoc of `ExecutorService`.\r\n    // https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n    void shutdownAndAwaitTermination(final ExecutorService executorService, final Duration waitForTasksToWork, final Duration waitForTasksToComplete) {\r\n        executorService.shutdown(); // Disable new tasks from being submitted\r\n        try {\r\n            // Wait a while for existing tasks to terminate\r\n            if (!executorService.awaitTermination(waitForTasksToWork.toMillis(), TimeUnit.MILLISECONDS)) {\r\n                executorService.shutdownNow(); // Cancel currently executing tasks\r\n                // Wait a while for tasks to respond to being cancelled\r\n                if (!executorService.awaitTermination(waitForTasksToComplete.toMillis(), TimeUnit.MILLISECONDS)) {\r\n                    System.err.println(&quot;ExecutorService did not terminate.&quot;);\r\n                }\r\n            }\r\n        } catch (InterruptedException ex) {\r\n            // (Re-)Cancel if current thread also interrupted\r\n            executorService.shutdownNow();\r\n            // Preserve interrupt status\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nDEBUG startOfNextMinute = 2023-01-11T10:55+02:00[Asia/Jerusalem]\r\nDEBUG userInput = 11-01-2023 10:55:00\r\nINFO - Now: 2023-01-11T10:54:45.494618+02:00[Asia/Jerusalem]. Scheduling task to run after delay of: PT14.505382S\r\nDone running task at: 2023-01-11T10:55:00.036986+02:00[Asia/Jerusalem]\r\nDemo done at: 2023-01-11T10:55:00.037542+02:00[Asia/Jerusalem]\r\n```","title":"ScheduledExecutorService schedule not triggering","body":"<p>I modified Basil's modern answer slightly so the prints are on the same time zone and make more sense to me. Feel free to correct me if I've done something wrong.</p>\n<pre><code>import java.time.*;\nimport java.time.format.DateTimeFormatter;\nimport java.time.temporal.ChronoUnit;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\n\npublic class WaitToRunDemo {\n    public static void main(String[] args) {\n        WaitToRunDemo app = new WaitToRunDemo();\n        app.demo();\n    }\n\n    private void demo() {\n        ZoneId zoneId = ZoneId.systemDefault();\n        ZonedDateTime now = ZonedDateTime.now(zoneId);\n        ZonedDateTime then = this.gatherInput(now, zoneId);\n        Duration delayUntilTaskRuns = this.calculateTimeToElapse(now, then);\n        System.out.println(&quot;INFO - Now: &quot; + now + &quot;. Scheduling task to run after delay of: &quot; + delayUntilTaskRuns);\n\n        this.runTask(delayUntilTaskRuns, zoneId);\n        System.out.println(&quot;Demo done at: &quot; + ZonedDateTime.now(zoneId));\n    }\n\n    private ZonedDateTime gatherInput(ZonedDateTime now, ZoneId zoneId) {\n        // Put your `Scanner` code here. Tip: Confirm the time zone with the user.\n\n        // Simulate the user entering text for the start of the next minute.\n        ZonedDateTime startOfNextMinute = now.truncatedTo(ChronoUnit.MINUTES).plusMinutes(1);\n\n        DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu HH:mm:ss&quot;);\n        String userInput = startOfNextMinute.format(f);\n        System.out.println(&quot;DEBUG startOfNextMinute = &quot; + startOfNextMinute);\n        System.out.println(&quot;DEBUG userInput = &quot; + userInput);\n\n        // Parse user input text into a `LocalDateTime` object to represent date with time-of-day but lacking any time zone or offset-from-UTC.\n        LocalDateTime ldt = LocalDateTime.parse(userInput, f);\n\n        return ldt.atZone(zoneId);\n    }\n\n    private Duration calculateTimeToElapse(final ZonedDateTime now, final ZonedDateTime then) {\n        Duration delayUntilTaskRuns = Duration.between(now, then);\n        if (delayUntilTaskRuns.isNegative()) {\n            throw new IllegalStateException(&quot;Specified wait time is negative (in the past).&quot;);\n        }\n        return delayUntilTaskRuns;\n    }\n\n    private void runTask(Duration delay, ZoneId zoneId) {\n        ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor();\n        Runnable task = () -&gt; System.out.println(&quot;Done running task at: &quot; + ZonedDateTime.now(zoneId));\n        ses.schedule(task, delay.toMillis(), TimeUnit.MILLISECONDS);\n        this.shutdownAndAwaitTermination(ses, Duration.ofMinutes(2), Duration.ofMinutes(1));\n    }\n\n    // My slightly modified version of boilerplate code taken from Javadoc of `ExecutorService`.\n    // https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\n    void shutdownAndAwaitTermination(final ExecutorService executorService, final Duration waitForTasksToWork, final Duration waitForTasksToComplete) {\n        executorService.shutdown(); // Disable new tasks from being submitted\n        try {\n            // Wait a while for existing tasks to terminate\n            if (!executorService.awaitTermination(waitForTasksToWork.toMillis(), TimeUnit.MILLISECONDS)) {\n                executorService.shutdownNow(); // Cancel currently executing tasks\n                // Wait a while for tasks to respond to being cancelled\n                if (!executorService.awaitTermination(waitForTasksToComplete.toMillis(), TimeUnit.MILLISECONDS)) {\n                    System.err.println(&quot;ExecutorService did not terminate.&quot;);\n                }\n            }\n        } catch (InterruptedException ex) {\n            // (Re-)Cancel if current thread also interrupted\n            executorService.shutdownNow();\n            // Preserve interrupt status\n            Thread.currentThread().interrupt();\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>DEBUG startOfNextMinute = 2023-01-11T10:55+02:00[Asia/Jerusalem]\nDEBUG userInput = 11-01-2023 10:55:00\nINFO - Now: 2023-01-11T10:54:45.494618+02:00[Asia/Jerusalem]. Scheduling task to run after delay of: PT14.505382S\nDone running task at: 2023-01-11T10:55:00.036986+02:00[Asia/Jerusalem]\nDemo done at: 2023-01-11T10:55:00.037542+02:00[Asia/Jerusalem]\n</code></pre>\n"}],"owner":{"account_id":1458162,"reputation":848,"user_id":1373232,"accept_rate":53,"display_name":"Nom1fan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75076209,"answer_count":2,"score":2,"last_activity_date":1673428562,"creation_date":1673344993,"question_id":75068322,"body_markdown":"The following code block does not work for me (alert is not being triggered):\r\n\r\n    public static void main(String[] args) throws InterruptedException, ParseException {        \r\n        ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor(Thread::new);\r\n        TimeZone timeZone = TimeZone.getTimeZone(ZoneId.systemDefault());\r\n        Calendar calendar = Calendar.getInstance(timeZone);\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;The time now is: &quot; + calendar.getTime());\r\n        System.out.println(&quot;Enter alert date time: &quot;);\r\n        String dateStr = scanner.nextLine();\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss&quot;);\r\n        Date date = sdf.parse(dateStr);\r\n        calendar.setTime(date);\r\n        long alertTimeInMillis = calendar.getTimeInMillis();\r\n        long now = Calendar.getInstance(timeZone).getTimeInMillis();\r\n        System.out.println(&quot;Time to alert: &quot; + (alertTimeInMillis - now) + &quot; millis &quot;);\r\n\r\n        ScheduledFuture&lt;?&gt; scheduledFuture = scheduledExecutorService.schedule(() -&gt; System.out.println(&quot;alert!&quot;)\r\n                , alertTimeInMillis, TimeUnit.MILLISECONDS);\r\n        \r\n        while (!scheduledFuture.isDone()) {\r\n            System.out.println(&quot;The time now: &quot; + Calendar.getInstance(timeZone).getTime());\r\n            System.out.println(&quot;Expected alert time: &quot; + date);\r\n            Thread.sleep(1000);\r\n        }\r\n        scheduledExecutorService.shutdown();\r\n        scheduledExecutorService.awaitTermination(30, TimeUnit.SECONDS);\r\n    }\r\n\r\n\r\nWhile this code block does work:\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor(Thread::new);\r\n        LocalDateTime localDateTime = LocalDateTime.of(2023, 1, 10, 12, 1);\r\n        ScheduledFuture&lt;?&gt; scheduledFuture = scheduledExecutorService.schedule(() -&gt;\r\n                System.out.println(&quot;alert!&quot;),\r\n                LocalDateTime.now().until(localDateTime, ChronoUnit.SECONDS), TimeUnit.SECONDS);\r\n\r\n        while (!scheduledFuture.isDone()) {\r\n            Thread.sleep(1000);\r\n        }\r\n        scheduledExecutorService.shutdown();\r\n        scheduledExecutorService.awaitTermination(30, TimeUnit.SECONDS);\r\n    }\r\n\r\n\r\nI don&#39;t understand the difference, or what exactly is wrong with the first block that I&#39;m missing.","title":"ScheduledExecutorService schedule not triggering","body":"<p>The following code block does not work for me (alert is not being triggered):</p>\n<pre><code>public static void main(String[] args) throws InterruptedException, ParseException {        \n    ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor(Thread::new);\n    TimeZone timeZone = TimeZone.getTimeZone(ZoneId.systemDefault());\n    Calendar calendar = Calendar.getInstance(timeZone);\n\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;The time now is: &quot; + calendar.getTime());\n    System.out.println(&quot;Enter alert date time: &quot;);\n    String dateStr = scanner.nextLine();\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm:ss&quot;);\n    Date date = sdf.parse(dateStr);\n    calendar.setTime(date);\n    long alertTimeInMillis = calendar.getTimeInMillis();\n    long now = Calendar.getInstance(timeZone).getTimeInMillis();\n    System.out.println(&quot;Time to alert: &quot; + (alertTimeInMillis - now) + &quot; millis &quot;);\n\n    ScheduledFuture&lt;?&gt; scheduledFuture = scheduledExecutorService.schedule(() -&gt; System.out.println(&quot;alert!&quot;)\n            , alertTimeInMillis, TimeUnit.MILLISECONDS);\n    \n    while (!scheduledFuture.isDone()) {\n        System.out.println(&quot;The time now: &quot; + Calendar.getInstance(timeZone).getTime());\n        System.out.println(&quot;Expected alert time: &quot; + date);\n        Thread.sleep(1000);\n    }\n    scheduledExecutorService.shutdown();\n    scheduledExecutorService.awaitTermination(30, TimeUnit.SECONDS);\n}\n</code></pre>\n<p>While this code block does work:</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n\n    ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor(Thread::new);\n    LocalDateTime localDateTime = LocalDateTime.of(2023, 1, 10, 12, 1);\n    ScheduledFuture&lt;?&gt; scheduledFuture = scheduledExecutorService.schedule(() -&gt;\n            System.out.println(&quot;alert!&quot;),\n            LocalDateTime.now().until(localDateTime, ChronoUnit.SECONDS), TimeUnit.SECONDS);\n\n    while (!scheduledFuture.isDone()) {\n        Thread.sleep(1000);\n    }\n    scheduledExecutorService.shutdown();\n    scheduledExecutorService.awaitTermination(30, TimeUnit.SECONDS);\n}\n</code></pre>\n<p>I don't understand the difference, or what exactly is wrong with the first block that I'm missing.</p>\n"},{"tags":["java","jdbc","database-connection"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1673403490,"post_id":75077474,"comment_id":132489463,"body_markdown":"You have a typo in your URL - change `jdbc.mysql...` to `jdbc:mysql...` (a colon not a period).","body":"You have a typo in your URL - change <code>jdbc.mysql...</code> to <code>jdbc:mysql...</code> (a colon not a period)."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1673403944,"post_id":75077474,"comment_id":132489544,"body_markdown":"It&#39;s not an error, but you can (and should) also remove the `Class.forName(...)` line of code - and the `try...catch` in which it is placed. `Class.forName(...)` is only needed in some _very_ specific circumstances - and this is not one of them. The chances are good that you may _never_ need `Class.forName(...)` for any of your JDBC driver usage. You can research this separately. It used to be needed, a long time ago... many tutorials still include it.","body":"It&#39;s not an error, but you can (and should) also remove the <code>Class.forName(...)</code> line of code - and the <code>try...catch</code> in which it is placed. <code>Class.forName(...)</code> is only needed in some <i>very</i> specific circumstances - and this is not one of them. The chances are good that you may <i>never</i> need <code>Class.forName(...)</code> for any of your JDBC driver usage. You can research this separately. It used to be needed, a long time ago... many tutorials still include it."},{"owner":{"account_id":27493975,"reputation":3,"user_id":20978765,"display_name":"letslearn"},"score":0,"creation_date":1673407772,"post_id":75077474,"comment_id":132490109,"body_markdown":"Thank you! Problem Solved! The problem was the period that I used instead of colon.","body":"Thank you! Problem Solved! The problem was the period that I used instead of colon."}],"answers":[{"tags":[],"owner":{"account_id":27495287,"reputation":26,"user_id":20979896,"display_name":"Peruri Rahul"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673428383,"creation_date":1673428383,"answer_id":75080632,"question_id":75077474,"body_markdown":"Bro use  String url = &quot;jdbc:mysql://localhost:3306/University&quot;. Use have missed a colon &#39;:&#39; after jdbc instead you&#39;re using &#39;.&#39;","title":"No suitable driver found error even if the my-sql connector uploaded into the library","body":"<p>Bro use  String url = &quot;jdbc:mysql://localhost:3306/University&quot;. Use have missed a colon ':' after jdbc instead you're using '.'</p>\n"}],"owner":{"account_id":27493975,"reputation":3,"user_id":20978765,"display_name":"letslearn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75080632,"answer_count":1,"score":0,"last_activity_date":1673428383,"creation_date":1673400521,"question_id":75077474,"body_markdown":"I am new to java and in a learning process. I&#39;m working on connecting my JDE with MySql and I have followed every step necessary. but when I run the code, I got &quot; No suitable driver found for jdbc.mysql://localhost:3306/dbname&quot; error. I reviewed questions already in stackoverflow and other sources; but the provided solution didn’t work for me.\r\nAny suggestions why i got this error even if I uploaded the mysql-connector-j-8.0.31/mysql-connector-j-8.0.31.jar.[a screenshot of my code and the error message ](https://i.stack.imgur.com/ChVWd.jpg)\r\n\r\n```\r\npackage JDBC;\r\nimport java.sql.SQLException;\r\nimport java.sql.DriverManager;\r\nimport java.sql.Statement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.Connection;\r\n\r\n\r\n\r\npublic class JDBC {\r\n\tpublic static void main(String[] args) throws SQLException{\r\n\t\tString url = &quot;jdbc.mysql://localhost:3306/University&quot;;\r\n\t\tString username = &quot;root&quot;;\r\n\t\tString password = &quot;root&quot;;\r\n\t\tString query = &quot;select * from EngineeringStudents&quot;;\r\n\t\t\t\t\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\t\r\n\t\t}catch(ClassNotFoundException e) {\r\n\t\t\t//To do auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tConnection con = DriverManager.getConnection(url, username, password);\r\n\t\t\tStatement statement = con.createStatement();\r\n\t\t\tResultSet result = statement.executeQuery(query);\r\n\t\t\t\r\n\t\t\twhile(result.next()) {\r\n\t\t\t\tString UniversityData = &quot;&quot;;\r\n\t\t\t\tfor(int i = 1; i &lt;= 6; i++) {\r\n\t\t\t\t\tUniversityData += result.getString(i) + &quot;:&quot;;\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(UniversityData);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}catch(SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n```","title":"No suitable driver found error even if the my-sql connector uploaded into the library","body":"<p>I am new to java and in a learning process. I'm working on connecting my JDE with MySql and I have followed every step necessary. but when I run the code, I got &quot; No suitable driver found for jdbc.mysql://localhost:3306/dbname&quot; error. I reviewed questions already in stackoverflow and other sources; but the provided solution didn’t work for me.\nAny suggestions why i got this error even if I uploaded the mysql-connector-j-8.0.31/mysql-connector-j-8.0.31.jar.<a href=\"https://i.stack.imgur.com/ChVWd.jpg\" rel=\"nofollow noreferrer\">a screenshot of my code and the error message </a></p>\n<pre><code>package JDBC;\nimport java.sql.SQLException;\nimport java.sql.DriverManager;\nimport java.sql.Statement;\nimport java.sql.ResultSet;\nimport java.sql.Connection;\n\n\n\npublic class JDBC {\n    public static void main(String[] args) throws SQLException{\n        String url = &quot;jdbc.mysql://localhost:3306/University&quot;;\n        String username = &quot;root&quot;;\n        String password = &quot;root&quot;;\n        String query = &quot;select * from EngineeringStudents&quot;;\n                \n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            \n        }catch(ClassNotFoundException e) {\n            //To do auto-generated catch block\n            e.printStackTrace();\n        }\n        try {\n            Connection con = DriverManager.getConnection(url, username, password);\n            Statement statement = con.createStatement();\n            ResultSet result = statement.executeQuery(query);\n            \n            while(result.next()) {\n                String UniversityData = &quot;&quot;;\n                for(int i = 1; i &lt;= 6; i++) {\n                    UniversityData += result.getString(i) + &quot;:&quot;;\n                }\n                System.out.println(UniversityData);\n            }\n            \n        }catch(SQLException e) {\n            e.printStackTrace();\n            \n        }\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","gradle","build.gradle"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1673346559,"post_id":75067073,"comment_id":132472917,"body_markdown":"If that is in your `configurations` block, then isn&#39;t that where you _create_ the `infraLibs` configuration? I would expect this `fileTree` stuff should be in `dependencies`. Something like `dependencies { infraLibs fileTree(&quot;${lib}/log4j-${LOG4J_API_VERSION}&quot;) { include &#39;*.jar&#39; } }`.","body":"If that is in your <code>configurations</code> block, then isn&#39;t that where you <i>create</i> the <code>infraLibs</code> configuration? I would expect this <code>fileTree</code> stuff should be in <code>dependencies</code>. Something like <code>dependencies { infraLibs fileTree(&quot;${lib}&#47;log4j-${LOG4J_API_VERSION}&quot;) { include &#39;*.jar&#39; } }</code>."},{"owner":{"account_id":1835033,"reputation":5468,"user_id":1665592,"accept_rate":77,"display_name":"Swapnil Kotwal"},"score":0,"creation_date":1673347427,"post_id":75067073,"comment_id":132473151,"body_markdown":"Yes, I&#39;ve many sections in `Configuration` e.g `infraLibs` that I specified. My question is I want to print this dependencies.. how to do that?","body":"Yes, I&#39;ve many sections in <code>Configuration</code> e.g <code>infraLibs</code> that I specified. My question is I want to print this dependencies.. how to do that?"}],"answers":[{"tags":[],"owner":{"account_id":1835033,"reputation":5468,"user_id":1665592,"accept_rate":77,"display_name":"Swapnil Kotwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673428215,"creation_date":1673428215,"answer_id":75080597,"question_id":75067073,"body_markdown":"Okay, figured it out by my own using classpath as below\r\n\r\n```\r\ntask printInfraLibs {\r\n    doLast {\r\n        configurations.infraLibs.each { dep -&gt;\r\n            println &quot;$dep.name&quot;\r\n        }\r\n    }\r\n}\r\n```","title":"Gradle : Print dependency graph for local filesystem jar dependencies","body":"<p>Okay, figured it out by my own using classpath as below</p>\n<pre><code>task printInfraLibs {\n    doLast {\n        configurations.infraLibs.each { dep -&gt;\n            println &quot;$dep.name&quot;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1835033,"reputation":5468,"user_id":1665592,"accept_rate":77,"display_name":"Swapnil Kotwal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75080597,"answer_count":1,"score":0,"last_activity_date":1673428215,"creation_date":1673337955,"question_id":75067073,"body_markdown":"For some strange reasons I MUST have to use jars from local file system and it is serving our purpose as well.\r\n\r\nIn short\r\n```\r\ndependencies {\r\n    compile fileTree(dir: &quot;${lib}/&quot;, includes: [&#39;*.jar&#39;])\r\n}\r\n```\r\n\r\nOR in detailed we have many `configurations` lib bifurcation as below.\r\n```\r\ndependencies {\r\n aspectTools files(&quot;${lib}/aspectj-${ASPECTJ_VERSION}/aspectjtools-${ASPECTJ_VERSION}.jar&quot;)\r\n aspectJrt files(&quot;${lib}/aspectj-${ASPECTJ_VERSION}/aspectjrt-${ASPECTJ_VERSION}.jar&quot;)\r\n infraLibs(\r\n        configurations.aspectJrt +\r\n        configurations.aspectTools +\r\n        fileTree(&quot;${lib}/log4j-${LOG4J_API_VERSION}&quot;) { include &#39;*.jar&#39; } +\r\n        fileTree(dir: &quot;${lib}&quot;,\r\n            includes: [\r\n                &quot;commons-lang-2.6/commons-lang-2.6.jar&quot;,\r\n                &quot;commons-beanutils-1.9.4/commons-beanutils.jar&quot;\r\n            ]\r\n        )\r\n    )\r\n\r\n}\r\n```\r\nI&#39;m trying to print those dependencies as \r\n```\r\n./gradlew myproject:dependencies  --configuration infraLibs\r\n``` \r\nBut it is not printing those jars, how should I print local jars?\r\n\r\nSimple outcome is `No dependencies`\r\n```\r\n------------------------------------------------------------\r\nProject :myproject\r\n------------------------------------------------------------\r\n\r\ninfraLibs\r\nNo dependencies\r\n````","title":"Gradle : Print dependency graph for local filesystem jar dependencies","body":"<p>For some strange reasons I MUST have to use jars from local file system and it is serving our purpose as well.</p>\n<p>In short</p>\n<pre><code>dependencies {\n    compile fileTree(dir: &quot;${lib}/&quot;, includes: ['*.jar'])\n}\n</code></pre>\n<p>OR in detailed we have many <code>configurations</code> lib bifurcation as below.</p>\n<pre><code>dependencies {\n aspectTools files(&quot;${lib}/aspectj-${ASPECTJ_VERSION}/aspectjtools-${ASPECTJ_VERSION}.jar&quot;)\n aspectJrt files(&quot;${lib}/aspectj-${ASPECTJ_VERSION}/aspectjrt-${ASPECTJ_VERSION}.jar&quot;)\n infraLibs(\n        configurations.aspectJrt +\n        configurations.aspectTools +\n        fileTree(&quot;${lib}/log4j-${LOG4J_API_VERSION}&quot;) { include '*.jar' } +\n        fileTree(dir: &quot;${lib}&quot;,\n            includes: [\n                &quot;commons-lang-2.6/commons-lang-2.6.jar&quot;,\n                &quot;commons-beanutils-1.9.4/commons-beanutils.jar&quot;\n            ]\n        )\n    )\n\n}\n</code></pre>\n<p>I'm trying to print those dependencies as</p>\n<pre><code>./gradlew myproject:dependencies  --configuration infraLibs\n</code></pre>\n<p>But it is not printing those jars, how should I print local jars?</p>\n<p>Simple outcome is <code>No dependencies</code></p>\n<pre><code>------------------------------------------------------------\nProject :myproject\n------------------------------------------------------------\n\ninfraLibs\nNo dependencies\n</code></pre>\n"},{"tags":["java","unit-testing","dependency-injection","mockito"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1494542962,"post_id":43926636,"comment_id":74886738,"body_markdown":"have you initialized mocks with `MockitoAnnotations.initmocks(this)`","body":"have you initialized mocks with <code>MockitoAnnotations.initmocks(this)</code>"},{"owner":{"account_id":4865325,"reputation":555,"user_id":3923793,"display_name":"Wildchild"},"score":1,"creation_date":1494543384,"post_id":43926636,"comment_id":74886866,"body_markdown":"no, but how does that relate to this question?","body":"no, but how does that relate to this question?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1494545104,"post_id":43926636,"comment_id":74887309,"body_markdown":"@Wildchild well that makes Mockito do what it is supposed to do with objects annotated `@Spy`, `@Mock`, `@InjectMocks` etc so if you do this after construction of `car` mocks should be injected....","body":"@Wildchild well that makes Mockito do what it is supposed to do with objects annotated <code>@Spy</code>, <code>@Mock</code>, <code>@InjectMocks</code> etc so if you do this after construction of <code>car</code> mocks should be injected...."},{"owner":{"account_id":4865325,"reputation":555,"user_id":3923793,"display_name":"Wildchild"},"score":0,"creation_date":1494545822,"post_id":43926636,"comment_id":74887496,"body_markdown":"I tried put the MockitoAnnotations.initmocks(this) in the beginning of the test function, but it still doesn&#39;t work","body":"I tried put the MockitoAnnotations.initmocks(this) in the beginning of the test function, but it still doesn&#39;t work"},{"owner":{"account_id":2355308,"reputation":774,"user_id":2063238,"display_name":"pmorken"},"score":0,"creation_date":1494548026,"post_id":43926636,"comment_id":74887962,"body_markdown":"Did you also try annotating Engine with @InjectMocks?","body":"Did you also try annotating Engine with @InjectMocks?"},{"owner":{"account_id":7361553,"reputation":8401,"user_id":5604676,"accept_rate":69,"display_name":"Sergii Bishyr"},"score":0,"creation_date":1494606608,"post_id":43926636,"comment_id":74917412,"body_markdown":"@pmorken that&#39;s not going to work. Mockito does not support `@InjectMocks` along with other `@Mock` or `@Spy` annotations.","body":"@pmorken that&#39;s not going to work. Mockito does not support <code>@InjectMocks</code> along with other <code>@Mock</code> or <code>@Spy</code> annotations."}],"answers":[{"comments":[{"owner":{"account_id":4865325,"reputation":555,"user_id":3923793,"display_name":"Wildchild"},"score":2,"creation_date":1494829720,"post_id":43942419,"comment_id":74975283,"body_markdown":"I see, but is it the general design in Spring framework that people would put the injection in the constructor? Then what&#39;s the purpose of having Inject annotation?","body":"I see, but is it the general design in Spring framework that people would put the injection in the constructor? Then what&#39;s the purpose of having Inject annotation?"},{"owner":{"account_id":7361553,"reputation":8401,"user_id":5604676,"accept_rate":69,"display_name":"Sergii Bishyr"},"score":0,"creation_date":1494832381,"post_id":43942419,"comment_id":74976562,"body_markdown":"@Wildchild works the same. You don&#39;t have to call constructor explicitly, Spring will do it for you if you are in the Spring context. Moreover, the field injection is not recommended, it&#39;s always better to use constructor injection.","body":"@Wildchild works the same. You don&#39;t have to call constructor explicitly, Spring will do it for you if you are in the Spring context. Moreover, the field injection is not recommended, it&#39;s always better to use constructor injection."}],"tags":[],"owner":{"account_id":7361553,"reputation":8401,"user_id":5604676,"accept_rate":69,"display_name":"Sergii Bishyr"},"comment_count":2,"down_vote_count":1,"up_vote_count":27,"is_accepted":true,"score":26,"last_activity_date":1494606327,"creation_date":1494606327,"answer_id":43942419,"question_id":43926636,"body_markdown":"Mockito cannot perform such a tricky injections as it&#39;s not an injection framework. So, you need to refactor your code to make it more testable. It&#39;s easy done by using constructor injection:\r\n\r\n    public class Engine{\r\n        private Configuration configuration;\r\n    \r\n        @Inject \r\n        public Engine(Configuration configuration) {\r\n            this.configuration = configuration;\r\n        }\r\n        ........\r\n    }\r\n\r\n    public class Car{\r\n        private Engine engine;\r\n    \r\n        @Inject    \r\n        public Car(Engine engine) {\r\n            this.engine = engine;\r\n        }\r\n    }\r\n\r\nIn this case you have to handle the mocking and injection manually:\r\n\r\n    public class CarTestCase{\r\n    \r\n        private Configuration configuration;\r\n    \r\n        private Engine engine;\r\n    \r\n        private Car car;\r\n    \r\n        @Before\r\n        public void setUp(){\r\n            configuration = mock(Configuration.class);\r\n            engine = spy(new Engine(configuration));\r\n            car = new Car(engine);\r\n        }\r\n    \r\n        @Test\r\n        public void test(){\r\n    \r\n           Mockito.when(configuration.getProperties(&quot;&quot;)).return(&quot;Something&quot;);\r\n           car.drive();\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Mockito Inject mock into Spy object","body":"<p>Mockito cannot perform such a tricky injections as it's not an injection framework. So, you need to refactor your code to make it more testable. It's easy done by using constructor injection:</p>\n\n<pre><code>public class Engine{\n    private Configuration configuration;\n\n    @Inject \n    public Engine(Configuration configuration) {\n        this.configuration = configuration;\n    }\n    ........\n}\n\npublic class Car{\n    private Engine engine;\n\n    @Inject    \n    public Car(Engine engine) {\n        this.engine = engine;\n    }\n}\n</code></pre>\n\n<p>In this case you have to handle the mocking and injection manually:</p>\n\n<pre><code>public class CarTestCase{\n\n    private Configuration configuration;\n\n    private Engine engine;\n\n    private Car car;\n\n    @Before\n    public void setUp(){\n        configuration = mock(Configuration.class);\n        engine = spy(new Engine(configuration));\n        car = new Car(engine);\n    }\n\n    @Test\n    public void test(){\n\n       Mockito.when(configuration.getProperties(\"\")).return(\"Something\");\n       car.drive();\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3315377,"reputation":475,"user_id":2787886,"accept_rate":0,"display_name":"spyro"},"score":5,"creation_date":1536309258,"post_id":50784746,"comment_id":91385578,"body_markdown":"To be honest, I don&#39;t really get it. But it worked perfectly :)","body":"To be honest, I don&#39;t really get it. But it worked perfectly :)"},{"owner":{"account_id":1965577,"reputation":119,"user_id":1765953,"display_name":"JP Belanger"},"score":0,"creation_date":1551197026,"post_id":50784746,"comment_id":96548226,"body_markdown":"To be clear, this works, but it seems to work through &quot;magic&quot;.  I&#39;m happily using it to solve my short term problem (and upvoted it), but I get the uneasy feeling that this could break at any time :-)","body":"To be clear, this works, but it seems to work through &quot;magic&quot;.  I&#39;m happily using it to solve my short term problem (and upvoted it), but I get the uneasy feeling that this could break at any time :-)"},{"owner":{"account_id":12145950,"reputation":5001,"user_id":8868289,"display_name":"Yoory N."},"score":1,"creation_date":1551363464,"post_id":50784746,"comment_id":96619987,"body_markdown":"@JPBelanger, yes, this approach can probably break in future versions of Mockito if they will change the way they create mocks and spies. To see, how this works at the moment, you can stop at a debugger breakpoint inside a `@Test` method and look what&#39;s inside a `mySpy` variable. There is an instance of `MySpy` object with modified methods that do their additional stuff and then call the original methods. All fields are still there and can be injected by `@InjectMocks`.","body":"@JPBelanger, yes, this approach can probably break in future versions of Mockito if they will change the way they create mocks and spies. To see, how this works at the moment, you can stop at a debugger breakpoint inside a <code>@Test</code> method and look what&#39;s inside a <code>mySpy</code> variable. There is an instance of <code>MySpy</code> object with modified methods that do their additional stuff and then call the original methods. All fields are still there and can be injected by <code>@InjectMocks</code>."}],"tags":[],"owner":{"account_id":12145950,"reputation":5001,"user_id":8868289,"display_name":"Yoory N."},"comment_count":3,"down_vote_count":1,"up_vote_count":59,"is_accepted":false,"score":58,"last_activity_date":1551364225,"creation_date":1528641114,"answer_id":50784746,"question_id":43926636,"body_markdown":"I&#39;ve also wandered how to inject a mock into a spy.\r\n\r\nThe following approach will **not** work:\r\n\r\n    @Spy\r\n    @InjectMocks\r\n    private MySpy spy;\r\n\r\nBut the desired behavior can be achieved by a &quot;hybrid&quot; approach, when using both annotation and manual mocking. The following works perfectly:\r\n\r\n    @Mock\r\n    private NeedToBeMocked needToBeMocked;\r\n\r\n    @InjectMocks\r\n    private MySpy mySpy;\r\n\r\n    @InjectMocks\r\n    private SubjectUnderTest sut;\r\n\r\n    @BeforeMethod\r\n    public void setUp() {\r\n        mySpy = Mockito.spy(new MySpy());\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n\r\n(`SubjectUnderTest` here depends on `MySpy`, and `MySpy` in its turn depends on `NeedToBeMocked`).\r\n\r\n\r\n**UPD:** Personally, I think that if you have to do such a magic too often, it might be a sign that there is something wrong with dependenicies between your classes and it is worth to perform a little bit of refactoring to improve your code.","title":"Mockito Inject mock into Spy object","body":"<p>I've also wandered how to inject a mock into a spy.</p>\n\n<p>The following approach will <strong>not</strong> work:</p>\n\n<pre><code>@Spy\n@InjectMocks\nprivate MySpy spy;\n</code></pre>\n\n<p>But the desired behavior can be achieved by a \"hybrid\" approach, when using both annotation and manual mocking. The following works perfectly:</p>\n\n<pre><code>@Mock\nprivate NeedToBeMocked needToBeMocked;\n\n@InjectMocks\nprivate MySpy mySpy;\n\n@InjectMocks\nprivate SubjectUnderTest sut;\n\n@BeforeMethod\npublic void setUp() {\n    mySpy = Mockito.spy(new MySpy());\n    MockitoAnnotations.initMocks(this);\n}\n</code></pre>\n\n<p>(<code>SubjectUnderTest</code> here depends on <code>MySpy</code>, and <code>MySpy</code> in its turn depends on <code>NeedToBeMocked</code>).</p>\n\n<p><strong>UPD:</strong> Personally, I think that if you have to do such a magic too often, it might be a sign that there is something wrong with dependenicies between your classes and it is worth to perform a little bit of refactoring to improve your code.</p>\n"},{"comments":[{"owner":{"account_id":12145950,"reputation":5001,"user_id":8868289,"display_name":"Yoory N."},"score":3,"creation_date":1536315731,"post_id":51491614,"comment_id":91389421,"body_markdown":"Doesn&#39;t work for me. I&#39;ve got `NotAMockException` using version 2.21.0 of Mockito. On another project with ancient Mockito 1.10.19 this works **not** as expected -- the dependencies are injected, but the `spy` field is not a real spy and I cannot do things like `Mockito.verify(mySpy).someMethodCall();`.","body":"Doesn&#39;t work for me. I&#39;ve got <code>NotAMockException</code> using version 2.21.0 of Mockito. On another project with ancient Mockito 1.10.19 this works <b>not</b> as expected -- the dependencies are injected, but the <code>spy</code> field is not a real spy and I cannot do things like <code>Mockito.verify(mySpy).someMethodCall();</code>."},{"owner":{"account_id":997968,"reputation":726,"user_id":1013463,"accept_rate":67,"display_name":"MicNeo"},"score":0,"creation_date":1585701446,"post_id":51491614,"comment_id":107853638,"body_markdown":"Worked for me. JUnit 4.12, Mockito 1.10.19 and we have also PowerMock 1.6.4","body":"Worked for me. JUnit 4.12, Mockito 1.10.19 and we have also PowerMock 1.6.4"},{"owner":{"account_id":10512827,"reputation":6163,"user_id":7747942,"display_name":"Sylhare"},"score":0,"creation_date":1633551059,"post_id":51491614,"comment_id":122792890,"body_markdown":"When using with `@ExtendWith(MockitoExtension.class)` it **doesn&#39;t work**, you need to use `MockitoAnnotations.openMocks(this);` in a `@BeforeEach` setup method **for it to work**. (tested with Mockito v3.12.4 et junit-jupiter v5.8.1)","body":"When using with <code>@ExtendWith(MockitoExtension.class)</code> it <b>doesn&#39;t work</b>, you need to use <code>MockitoAnnotations.openMocks(this);</code> in a <code>@BeforeEach</code> setup method <b>for it to work</b>. (tested with Mockito v3.12.4 et junit-jupiter v5.8.1)"}],"tags":[],"owner":{"account_id":4786818,"reputation":181,"user_id":3867040,"display_name":"Jack Yang"},"comment_count":3,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1532412810,"creation_date":1532412810,"answer_id":51491614,"question_id":43926636,"body_markdown":"I also met this issue during the unit testing with Spring boot framework, but I found one solution for using both @Spy and @InjectMocks\r\n\r\n**Previous answer from Yoory N.**\r\n\r\n    @Spy\r\n    @InjectMocks\r\n    private MySpy spy;\r\n\r\nBecause InjectMocks need to have instance created, so the solution works for me is at below,\r\n\r\n    @Spy\r\n    @InjectMocks\r\n    private MySpy spy = new MySpy();\r\n\r\n","title":"Mockito Inject mock into Spy object","body":"<p>I also met this issue during the unit testing with Spring boot framework, but I found one solution for using both @Spy and @InjectMocks</p>\n\n<p><strong>Previous answer from Yoory N.</strong></p>\n\n<pre><code>@Spy\n@InjectMocks\nprivate MySpy spy;\n</code></pre>\n\n<p>Because InjectMocks need to have instance created, so the solution works for me is at below,</p>\n\n<pre><code>@Spy\n@InjectMocks\nprivate MySpy spy = new MySpy();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12145950,"reputation":5001,"user_id":8868289,"display_name":"Yoory N."},"score":3,"creation_date":1551365615,"post_id":53516598,"comment_id":96621352,"body_markdown":"Nice catch! This way the `spy` is a real Mockito&#39;s spy and all fields are injected. But now it fails to inject this spy into `SubjectUnderTest` instance using `@InjectMocks` (as [in my example](https://stackoverflow.com/a/50784746/8868289)) and I get NullPointerException when it tries to call spy&#39;s methods. Tested on Mockito 2.21.0. Have no idea yet on how to overcome this.","body":"Nice catch! This way the <code>spy</code> is a real Mockito&#39;s spy and all fields are injected. But now it fails to inject this spy into <code>SubjectUnderTest</code> instance using <code>@InjectMocks</code> (as <a href=\"https://stackoverflow.com/a/50784746/8868289\">in my example</a>) and I get NullPointerException when it tries to call spy&#39;s methods. Tested on Mockito 2.21.0. Have no idea yet on how to overcome this."}],"tags":[],"owner":{"account_id":5784582,"reputation":488,"user_id":4564236,"display_name":"DavidBu"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1543398759,"creation_date":1543398759,"answer_id":53516598,"question_id":43926636,"body_markdown":"I think I just found the definitive answer. I tried Yoory approach but changed the order of the annotations :\r\n\r\n    @InjectMocks\r\n    @Spy\r\n    private MySpy spy;\r\n\r\nI assume that Mockito first creates the mock, and adds a spy on top of that. So there is no need to instantiate the MySpy object.","title":"Mockito Inject mock into Spy object","body":"<p>I think I just found the definitive answer. I tried Yoory approach but changed the order of the annotations :</p>\n\n<pre><code>@InjectMocks\n@Spy\nprivate MySpy spy;\n</code></pre>\n\n<p>I assume that Mockito first creates the mock, and adds a spy on top of that. So there is no need to instantiate the MySpy object.</p>\n"},{"tags":[],"owner":{"account_id":178797,"reputation":1794,"user_id":3402449,"display_name":"Ahmad Shahwan"},"comment_count":0,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1582101541,"creation_date":1582101541,"answer_id":60296067,"question_id":43926636,"body_markdown":"The (simplest) solution that worked for me.\r\n\r\n    @InjectMocks\r\n    private MySpy spy = Mockito.spy(new MySpy());\r\n\r\nNo need for `MockitoAnnotations.initMocks(this)` in this case, as long as test class is annotated with `@RunWith(MockitoJUnitRunner.class)`.","title":"Mockito Inject mock into Spy object","body":"<p>The (simplest) solution that worked for me.</p>\n\n<pre><code>@InjectMocks\nprivate MySpy spy = Mockito.spy(new MySpy());\n</code></pre>\n\n<p>No need for <code>MockitoAnnotations.initMocks(this)</code> in this case, as long as test class is annotated with <code>@RunWith(MockitoJUnitRunner.class)</code>.</p>\n"},{"tags":[],"owner":{"account_id":201558,"reputation":20199,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673428165,"creation_date":1673428165,"answer_id":75080592,"question_id":43926636,"body_markdown":"Junit5 + mockito-junit-upiter-4.2.0 works well\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class MyTest {\r\n    \r\n    @Spy\r\n    @InjectMocks\r\n    private SomeClass spy = new SomeClass();\r\n\r\n","title":"Mockito Inject mock into Spy object","body":"<p>Junit5 + mockito-junit-upiter-4.2.0 works well</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class MyTest {\n\n@Spy\n@InjectMocks\nprivate SomeClass spy = new SomeClass();\n</code></pre>\n"}],"owner":{"account_id":4865325,"reputation":555,"user_id":3923793,"display_name":"Wildchild"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66681,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":43942419,"answer_count":6,"score":54,"last_activity_date":1673428165,"creation_date":1494542039,"question_id":43926636,"body_markdown":"I&#39;m writing a test case for a Class which has a 2 level of dependency injection. I use @Spy annotation for the 1 level dependency injection object, and I would like to Mock the 2nd level of injection. However, I kept getting null pointer exception on the 2nd level. Is there any way that I inject the mock into the @Spy object?\r\n\r\n    public class CarTestCase{\r\n        @Mock\r\n        private Configuration configuration;\r\n        \t\r\n        @Spy \r\n        private Engine engine;\r\n    \r\n        @InjectMocks \r\n        private Car car;\r\n        \r\n        @Test\r\n        public void test(){\r\n\r\n           Mockito.when(configuration.getProperties(&quot;&quot;)).return(&quot;Something&quot;);\r\n           car.drive();\r\n        }\r\n    \r\n    }\r\n\r\n    public class Car{\r\n        @Inject\r\n        private Engine engine;\r\n    \r\n        public void drive(){\r\n            engine.start();\r\n        }\r\n    }\r\n\r\n    public class Engine{\r\n        @Inject \r\n        private Configuration configuration;\r\n        \r\n        public void start(){\r\n            configuration.getProperties();   // null pointer exception\r\n        }\r\n    \r\n    }\r\n\r\n\r\n","title":"Mockito Inject mock into Spy object","body":"<p>I'm writing a test case for a Class which has a 2 level of dependency injection. I use @Spy annotation for the 1 level dependency injection object, and I would like to Mock the 2nd level of injection. However, I kept getting null pointer exception on the 2nd level. Is there any way that I inject the mock into the @Spy object?</p>\n\n<pre><code>public class CarTestCase{\n    @Mock\n    private Configuration configuration;\n\n    @Spy \n    private Engine engine;\n\n    @InjectMocks \n    private Car car;\n\n    @Test\n    public void test(){\n\n       Mockito.when(configuration.getProperties(\"\")).return(\"Something\");\n       car.drive();\n    }\n\n}\n\npublic class Car{\n    @Inject\n    private Engine engine;\n\n    public void drive(){\n        engine.start();\n    }\n}\n\npublic class Engine{\n    @Inject \n    private Configuration configuration;\n\n    public void start(){\n        configuration.getProperties();   // null pointer exception\n    }\n\n}\n</code></pre>\n"},{"tags":["java","gwt","combobox","gwt-ext"],"comments":[{"owner":{"account_id":40213,"reputation":64391,"user_id":116472,"display_name":"Thomas Broyer"},"score":0,"creation_date":1381931820,"post_id":19400786,"comment_id":28763745,"body_markdown":"There&#39;s no `ComboBox` in GWT, are you using a third-party widget library?","body":"There&#39;s no <code>ComboBox</code> in GWT, are you using a third-party widget library?"}],"answers":[{"comments":[{"owner":{"account_id":2276745,"reputation":1429,"user_id":2002804,"accept_rate":40,"display_name":"Jaykishan"},"score":0,"creation_date":1381927521,"post_id":19400860,"comment_id":28760822,"body_markdown":"I had found this one but it&#39;s not working in GWT 2.4","body":"I had found this one but it&#39;s not working in GWT 2.4"},{"owner":{"account_id":2276745,"reputation":1429,"user_id":2002804,"accept_rate":40,"display_name":"Jaykishan"},"score":0,"creation_date":1381989228,"post_id":19400860,"comment_id":28787641,"body_markdown":"Thanks buddy for your support, we&#39;ve solved the problem with given answer","body":"Thanks buddy for your support, we&#39;ve solved the problem with given answer"},{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":0,"creation_date":1382106295,"post_id":19400860,"comment_id":28843022,"body_markdown":"But seriously version is not at all problem here.You just don&#39;t what you are using. There is nothing like Combobox in gwt. There is only ListBox. You are using `GWT EXT` a third party gwt library.","body":"But seriously version is not at all problem here.You just don&#39;t what you are using. There is nothing like Combobox in gwt. There is only ListBox. You are using <code>GWT EXT</code> a third party gwt library."},{"owner":{"account_id":2276745,"reputation":1429,"user_id":2002804,"accept_rate":40,"display_name":"Jaykishan"},"score":0,"creation_date":1395749462,"post_id":19400860,"comment_id":34469711,"body_markdown":"@SURESHATTA Yes bro, lately i came to know about GWT-EXT in my project","body":"@SURESHATTA Yes bro, lately i came to know about GWT-EXT in my project"}],"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1381953436,"creation_date":1381918803,"answer_id":19400860,"question_id":19400786,"body_markdown":"If you are reffering to `Listbox`\r\n\r\n**add[ChangeHandler][1]**\r\n\r\n    dropBox.addChangeHandler(new ChangeHandler() {\r\n          public void onChange(ChangeEvent event) {\r\n            //do something\r\n          }\r\n        });\r\n\r\n[Here is the live demo, source code.][2]\r\n\r\n\r\n \r\n\r\n\r\n  [1]: http://www.gwtproject.org/javadoc/latest/com/google/gwt/event/dom/client/ChangeHandler.html\r\n  [2]: http://gwt.googleusercontent.com/samples/Showcase/Showcase.html#!CwListBox","title":"GWT ComboBox value change handler","body":"<p>If you are reffering to <code>Listbox</code></p>\n\n<p><strong>add<a href=\"http://www.gwtproject.org/javadoc/latest/com/google/gwt/event/dom/client/ChangeHandler.html\" rel=\"noreferrer\">ChangeHandler</a></strong></p>\n\n<pre><code>dropBox.addChangeHandler(new ChangeHandler() {\n      public void onChange(ChangeEvent event) {\n        //do something\n      }\n    });\n</code></pre>\n\n<p><a href=\"http://gwt.googleusercontent.com/samples/Showcase/Showcase.html#!CwListBox\" rel=\"noreferrer\">Here is the live demo, source code.</a></p>\n"}],"owner":{"account_id":2276745,"reputation":1429,"user_id":2002804,"accept_rate":40,"display_name":"Jaykishan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5751,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673428098,"creation_date":1381918625,"question_id":19400786,"body_markdown":"I have a `GWT-EXT ComboBox` having some 3-5 value in my project.&lt;br&gt;\r\nCan anyboy help me to find value change event(or selection event) ? &lt;br&gt;\r\nOr any other way to get notified with GWT-EXT `ComboBox` state change.","title":"GWT ComboBox value change handler","body":"<p>I have a <code>GWT-EXT ComboBox</code> having some 3-5 value in my project.<br>\nCan anyboy help me to find value change event(or selection event) ? <br>\nOr any other way to get notified with GWT-EXT <code>ComboBox</code> state change.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673424236,"post_id":75079896,"comment_id":132493134,"body_markdown":"[Did you google?](https://www.baeldung.com/spring-bean)","body":"<a href=\"https://www.baeldung.com/spring-bean\" rel=\"nofollow noreferrer\">Did you google?</a>"},{"owner":{"account_id":5941522,"reputation":3193,"user_id":4672556,"accept_rate":54,"display_name":"Charlie"},"score":2,"creation_date":1673425541,"post_id":75079896,"comment_id":132493563,"body_markdown":"Its always a good idea to check why a framework was created and what problem it solves before starting to use it","body":"Its always a good idea to check why a framework was created and what problem it solves before starting to use it"}],"answers":[{"tags":[],"owner":{"account_id":22581348,"reputation":113,"user_id":16765942,"display_name":"Gabriela83"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673424412,"creation_date":1673424412,"answer_id":75079936,"question_id":75079896,"body_markdown":"Short answer: Spring bean = object.\r\n\r\nLong answer: It&#39;s easier to allow Spring to inject all of your objects into the classes that depend on them, rather then creating your own IoC container. \r\n\r\nRead more about it here: https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/beans.html","title":"Why do we need to use beans in spring boot?","body":"<p>Short answer: Spring bean = object.</p>\n<p>Long answer: It's easier to allow Spring to inject all of your objects into the classes that depend on them, rather then creating your own IoC container.</p>\n<p>Read more about it here: <a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/beans.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/beans.html</a></p>\n"},{"tags":[],"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673424637,"creation_date":1673424637,"answer_id":75079970,"question_id":75079896,"body_markdown":"@Bean annotation is basically used to define your class as Object yes you re right that creatiing a bean initally requires a more coding that directly creating a object of the class but have you ever think suppose you have created the object by using new keyword and you have created this object at many places suppose 1000 places and if you have to change anything in your object that will complicate you because you have to go all 1000 places and change it but when you are using bean you need to make those change at single place and at all other places it will be reflectd automatically also in this case we donot need to compile your whole code that&#39;s why we use @bean also it will be very helpfull to make your code losselly coupled","title":"Why do we need to use beans in spring boot?","body":"<p>@Bean annotation is basically used to define your class as Object yes you re right that creatiing a bean initally requires a more coding that directly creating a object of the class but have you ever think suppose you have created the object by using new keyword and you have created this object at many places suppose 1000 places and if you have to change anything in your object that will complicate you because you have to go all 1000 places and change it but when you are using bean you need to make those change at single place and at all other places it will be reflectd automatically also in this case we donot need to compile your whole code that's why we use @bean also it will be very helpfull to make your code losselly coupled</p>\n"},{"tags":[],"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673425818,"creation_date":1673425293,"answer_id":75080081,"question_id":75079896,"body_markdown":"Spring is a framework that allows you to use dependency inject. This means that the framework can build class instances (beans) for you and you simply declare the dependencies between the beans. I suggest you to get familiar with [dependency injection][1].\r\n\r\n```java\r\n@Bean\r\npublic class SuperHeavyService {\r\n\r\n   // the datasource is build by the framework due to configuration\r\n   private Datasource connection;\r\n   private HttpClient client;\r\n\r\n   // \r\n   public SuperHeavyService(Datasource connection, HttpClient client) {\r\n\r\n     this.connection = connection;\r\n     this.client = client;\r\n   }\r\n}\r\n\r\n@Bean\r\npublic class HttpClient {\r\n}\r\n\r\n```\r\n\r\nThe example above shows you that the SuperHeavyService is created by the framework and the framework will inject the requires types using the constructor of the SuperHeavyService class. This is dependency injection.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Dependency_injection","title":"Why do we need to use beans in spring boot?","body":"<p>Spring is a framework that allows you to use dependency inject. This means that the framework can build class instances (beans) for you and you simply declare the dependencies between the beans. I suggest you to get familiar with <a href=\"https://en.wikipedia.org/wiki/Dependency_injection\" rel=\"nofollow noreferrer\">dependency injection</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic class SuperHeavyService {\n\n   // the datasource is build by the framework due to configuration\n   private Datasource connection;\n   private HttpClient client;\n\n   // \n   public SuperHeavyService(Datasource connection, HttpClient client) {\n\n     this.connection = connection;\n     this.client = client;\n   }\n}\n\n@Bean\npublic class HttpClient {\n}\n\n</code></pre>\n<p>The example above shows you that the SuperHeavyService is created by the framework and the framework will inject the requires types using the constructor of the SuperHeavyService class. This is dependency injection.</p>\n"},{"comments":[{"owner":{"account_id":11762383,"reputation":101,"user_id":8608039,"display_name":"pndey"},"score":0,"creation_date":1686633754,"post_id":75080570,"comment_id":134821844,"body_markdown":"One more advantage is when we create object using new so suppose in a class in so many methods we use new and declare the class objects , from java heap point of view too it will creat so many instances , but in spring we have by default singleton class that means one object of spring bean throughout the application.","body":"One more advantage is when we create object using new so suppose in a class in so many methods we use new and declare the class objects , from java heap point of view too it will creat so many instances , but in spring we have by default singleton class that means one object of spring bean throughout the application."}],"tags":[],"owner":{"account_id":27487494,"reputation":11,"user_id":20973483,"display_name":"Umesh Maurya"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673428021,"creation_date":1673428021,"answer_id":75080570,"question_id":75079896,"body_markdown":"We use bean mainly to achive loose coupling.\r\nWhen you are creating objects by yourself, then these objects are tight coupled.\r\nImagine an application with dozens or even hundreds of classes. Sometimes we want to share a single instance of a class across the whole application, other times we need a separate object for each use case, and so on.\r\n\r\nManaging such a number of objects is nothing short of a nightmare. This is where inversion of control comes to the rescue.\r\n\r\nInstead of constructing dependencies by itself, an object can retrieve its dependencies from an IoC container. All we need to do is to provide the container with appropriate configuration metadata.\r\n\r\nWith the IOC, you can achieve loose coupling.\r\n\r\nLoose coupling means that classes are mostly independent. If the only knowledge that class A has about class B, is what class B has exposed through its interface, then class A and class B are said to be loosely coupled. In order to over come from the problems of tight coupling between objects, spring framework uses dependency injection mechanism with the help of POJO/P model and through dependency injection its possible to achieve loose coupling.\r\nExample : If you change your shirt, then you are not forced to change your body – when you can do that, then you have loose coupling. When you can’t do that, then you have tight coupling. The examples of Loose coupling are Interface, JMS.\r\n\r\n Java program to illustrate loose coupling concept\r\n\r\n    public interface Topic\r\n    {\r\n        void understand();\r\n    }\r\n    class Topic1 implements Topic {\r\n    public void understand()\r\n        {\r\n            System.out.println(&quot;Got it&quot;);\r\n        }\r\n    } class Topic2 implements Topic {\r\n    public void understand()\r\n        {\r\n            System.out.println(&quot;understand&quot;);\r\n        }\r\n    } public class Subject {\r\n    public static void main(String[] args)\r\n        {\r\n            Topic t = new Topic1();\r\n            t.understand();\r\n        }\r\n    }\r\n\r\nExplanation : In the above example, Topic1 and Topic2 objects are loosely coupled. It means Topic is an interface and we can inject any of the implemented classes at run time and we can provide service to the end user.\r\n\r\nHope it helps.","title":"Why do we need to use beans in spring boot?","body":"<p>We use bean mainly to achive loose coupling.\nWhen you are creating objects by yourself, then these objects are tight coupled.\nImagine an application with dozens or even hundreds of classes. Sometimes we want to share a single instance of a class across the whole application, other times we need a separate object for each use case, and so on.</p>\n<p>Managing such a number of objects is nothing short of a nightmare. This is where inversion of control comes to the rescue.</p>\n<p>Instead of constructing dependencies by itself, an object can retrieve its dependencies from an IoC container. All we need to do is to provide the container with appropriate configuration metadata.</p>\n<p>With the IOC, you can achieve loose coupling.</p>\n<p>Loose coupling means that classes are mostly independent. If the only knowledge that class A has about class B, is what class B has exposed through its interface, then class A and class B are said to be loosely coupled. In order to over come from the problems of tight coupling between objects, spring framework uses dependency injection mechanism with the help of POJO/P model and through dependency injection its possible to achieve loose coupling.\nExample : If you change your shirt, then you are not forced to change your body – when you can do that, then you have loose coupling. When you can’t do that, then you have tight coupling. The examples of Loose coupling are Interface, JMS.</p>\n<p>Java program to illustrate loose coupling concept</p>\n<pre><code>public interface Topic\n{\n    void understand();\n}\nclass Topic1 implements Topic {\npublic void understand()\n    {\n        System.out.println(&quot;Got it&quot;);\n    }\n} class Topic2 implements Topic {\npublic void understand()\n    {\n        System.out.println(&quot;understand&quot;);\n    }\n} public class Subject {\npublic static void main(String[] args)\n    {\n        Topic t = new Topic1();\n        t.understand();\n    }\n}\n</code></pre>\n<p>Explanation : In the above example, Topic1 and Topic2 objects are loosely coupled. It means Topic is an interface and we can inject any of the implemented classes at run time and we can provide service to the end user.</p>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":27496380,"reputation":19,"user_id":20980824,"display_name":"RandomUser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1130,"favorite_count":0,"down_vote_count":6,"up_vote_count":2,"closed_date":1673428723,"answer_count":4,"score":-4,"last_activity_date":1673428021,"creation_date":1673424177,"question_id":75079896,"body_markdown":"I am just getting started with spring boot and I don&#39;t get why would I use beans instead of creating my own objects. what is the difference between an object that I created and the one spring created(bean)?\r\n\r\nI tried making a bean and it takes more coding than creating a normal object, I had to learn how to use ApplicationContext,getBean etc..","title":"Why do we need to use beans in spring boot?","body":"<p>I am just getting started with spring boot and I don't get why would I use beans instead of creating my own objects. what is the difference between an object that I created and the one spring created(bean)?</p>\n<p>I tried making a bean and it takes more coding than creating a normal object, I had to learn how to use ApplicationContext,getBean etc..</p>\n"},{"tags":["java","netbeans-7"],"comments":[{"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"score":0,"creation_date":1363012513,"post_id":6207190,"comment_id":21667021,"body_markdown":"Similar problem here.  JAX-WS-ENDORSED appears in my Libraries listing, but adding it doesn&#39;t help...","body":"Similar problem here.  JAX-WS-ENDORSED appears in my Libraries listing, but adding it doesn&#39;t help..."}],"answers":[{"comments":[{"owner":{"account_id":191619,"reputation":17552,"user_id":432294,"accept_rate":91,"display_name":"Jay Sullivan"},"score":1,"creation_date":1306963299,"post_id":6207429,"comment_id":7226455,"body_markdown":"First of all, how might I know which libraries to use here? I can only guess what &quot;metro&quot; and &quot;JAX-WS-ENDORSED&quot; are referring to.  I have no ideas on &quot;metro,&quot; but I assume &quot;JAX-WS-ENDORSED&quot; means I should use JAX-WS 2.2.  I tried adding JAX-WS 2.2 as a reference, and still got the same error.","body":"First of all, how might I know which libraries to use here? I can only guess what &quot;metro&quot; and &quot;JAX-WS-ENDORSED&quot; are referring to.  I have no ideas on &quot;metro,&quot; but I assume &quot;JAX-WS-ENDORSED&quot; means I should use JAX-WS 2.2.  I tried adding JAX-WS 2.2 as a reference, and still got the same error."},{"owner":{"account_id":13598,"reputation":102599,"user_id":27439,"accept_rate":100,"display_name":"Vincent Ramdhanie"},"score":0,"creation_date":1306963821,"post_id":6207429,"comment_id":7226581,"body_markdown":"You probably have to remove the JAX-WS-ENDORSED library from the project. Under the list of libraries in Project Explorer you should see it listed. Right CLick and delete. As for metro, I cannot be sure but there is this reference to metro: http://metro.java.net/ which is a library for web services so I&#39;m guessing that&#39;s right. Download it, add a library, then add the library to your project.","body":"You probably have to remove the JAX-WS-ENDORSED library from the project. Under the list of libraries in Project Explorer you should see it listed. Right CLick and delete. As for metro, I cannot be sure but there is this reference to metro: <a href=\"http://metro.java.net/\" rel=\"nofollow noreferrer\">metro.java.net</a> which is a library for web services so I&#39;m guessing that&#39;s right. Download it, add a library, then add the library to your project."},{"owner":{"account_id":191619,"reputation":17552,"user_id":432294,"accept_rate":91,"display_name":"Jay Sullivan"},"score":0,"creation_date":1306965612,"post_id":6207429,"comment_id":7227054,"body_markdown":"Okay, I got the metro library referenced, by right clicking on Libraries and choosing Properties, I was able to create &quot;Create&quot; a library and added metro&#39;s jar files to it, which seems to have worked.  However, I can&#39;t find JAX-WS-ENDORSED anywhere. I searched under Libraries and in the properties dialog, and don&#39;t see it.  Any other places that might make it think it needs this reference?  I know where the jar files are that it needs for this, but I can&#39;t find the &quot;JAX-WS-ENDORSED&quot; reference anywhere so I can&#39;t remove it or correct it.","body":"Okay, I got the metro library referenced, by right clicking on Libraries and choosing Properties, I was able to create &quot;Create&quot; a library and added metro&#39;s jar files to it, which seems to have worked.  However, I can&#39;t find JAX-WS-ENDORSED anywhere. I searched under Libraries and in the properties dialog, and don&#39;t see it.  Any other places that might make it think it needs this reference?  I know where the jar files are that it needs for this, but I can&#39;t find the &quot;JAX-WS-ENDORSED&quot; reference anywhere so I can&#39;t remove it or correct it."},{"owner":{"account_id":13598,"reputation":102599,"user_id":27439,"accept_rate":100,"display_name":"Vincent Ramdhanie"},"score":0,"creation_date":1306968089,"post_id":6207429,"comment_id":7227558,"body_markdown":"If you right click on the project and click &quot;Resolve Dependencies&quot; do you get the choice there to remove it?","body":"If you right click on the project and click &quot;Resolve Dependencies&quot; do you get the choice there to remove it?"},{"owner":{"account_id":191619,"reputation":17552,"user_id":432294,"accept_rate":91,"display_name":"Jay Sullivan"},"score":0,"creation_date":1307019123,"post_id":6207429,"comment_id":7236407,"body_markdown":"I see &quot;Resolve Reference Problems...&quot; which just opens the dialog again (the one that opens as soon as I open the project).  In that dialog, when I click &quot;Resolve...&quot; (the only button in the dialog), it just opens the Library Manager--no sign of any JAX-WS-ENDORSED in the library manager.","body":"I see &quot;Resolve Reference Problems...&quot; which just opens the dialog again (the one that opens as soon as I open the project).  In that dialog, when I click &quot;Resolve...&quot; (the only button in the dialog), it just opens the Library Manager--no sign of any JAX-WS-ENDORSED in the library manager."}],"tags":[],"owner":{"account_id":13598,"reputation":102599,"user_id":27439,"accept_rate":100,"display_name":"Vincent Ramdhanie"},"comment_count":5,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1673427939,"creation_date":1306961076,"answer_id":6207429,"question_id":6207190,"body_markdown":"Netbeans maintains a set of libraries, which are simply a convenient way to manage groups of related jar files. Start by clicking **Tools** &gt; **Libraries**. You will see the library manager window.\r\n\r\n![Library Manager][1]\r\n\r\nYou will see the options to add your own libraries if you have jar files downloaded. If you do not see the library that you are looking for you can download them and add them your self. Once the library exist in Netbeans you can go to the **Project Explorer** window and right click on the *Libraries* tab of your project. Select **Add Library** and you will have the chance to add the library that you added in the library manager.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/RGRI8.png","title":"How do I reference libraries in NetBeans?","body":"<p>Netbeans maintains a set of libraries, which are simply a convenient way to manage groups of related jar files. Start by clicking <strong>Tools</strong> &gt; <strong>Libraries</strong>. You will see the library manager window.</p>\n<p><img src=\"https://i.stack.imgur.com/RGRI8.png\" alt=\"Library Manager\" /></p>\n<p>You will see the options to add your own libraries if you have jar files downloaded. If you do not see the library that you are looking for you can download them and add them your self. Once the library exist in Netbeans you can go to the <strong>Project Explorer</strong> window and right click on the <em>Libraries</em> tab of your project. Select <strong>Add Library</strong> and you will have the chance to add the library that you added in the library manager.</p>\n"},{"tags":[],"owner":{"account_id":26075,"reputation":41643,"user_id":67566,"accept_rate":73,"display_name":"James Black"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1307551030,"creation_date":1307550466,"answer_id":6282089,"question_id":6207190,"body_markdown":"You may want to right click on your project, go to properties -&gt; Libraries.\r\n\r\nRemove the JAX-WS-ENDORSED library, and try using JAX-WS 2.2\r\n\r\nAlso remove metro and try adding METRO 2.0\r\n\r\nThat may solve your problem.\r\n\r\nYou may also want to right-click on your web service references and select\r\n\r\nEdit Web Service Attributes\r\n\r\nThen on wsimport Options tab see if xendorsed is set to true.\r\n\r\n**UPDATE**\r\n\r\nYou may need to close netbeans and then open it again, and it may work.  I was having a problem similar and I just did that and it worked.\r\n\r\nThe only difference, and it may not be needed, is that I also added the JAXB 2.2 library, but that was because I was trying to solve a compilation error.","title":"How do I reference libraries in NetBeans?","body":"<p>You may want to right click on your project, go to properties -> Libraries.</p>\n\n<p>Remove the JAX-WS-ENDORSED library, and try using JAX-WS 2.2</p>\n\n<p>Also remove metro and try adding METRO 2.0</p>\n\n<p>That may solve your problem.</p>\n\n<p>You may also want to right-click on your web service references and select</p>\n\n<p>Edit Web Service Attributes</p>\n\n<p>Then on wsimport Options tab see if xendorsed is set to true.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>You may need to close netbeans and then open it again, and it may work.  I was having a problem similar and I just did that and it worked.</p>\n\n<p>The only difference, and it may not be needed, is that I also added the JAXB 2.2 library, but that was because I was trying to solve a compilation error.</p>\n"},{"tags":[],"owner":{"account_id":932327,"reputation":21,"user_id":961942,"display_name":"mariodlg"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1316810470,"creation_date":1316810470,"answer_id":7534586,"question_id":6207190,"body_markdown":"If it is still needed, I had the same situation when opened a netbeans 6.9 project in netbeans 7. There is no way to resolve the &#39;jaxb-endorsed&#39; (in my case was jaxb and not jaxws) reference using the libraries window. \r\n\r\nI found a endorsed.classpath property in the nbproject/project.properties file.\r\nI still not sure what is its purpose, but in this property I found the bad reference to jaxb-endorsed.classpath, so I deleted, closed netbeans and opened again, and the reference problem has gone.\r\n\r\nI already have Jaxb 2.2 library added to my project, so it is working good with the modification I did to the project.properties.\r\n\r\nI hope it helps.","title":"How do I reference libraries in NetBeans?","body":"<p>If it is still needed, I had the same situation when opened a netbeans 6.9 project in netbeans 7. There is no way to resolve the 'jaxb-endorsed' (in my case was jaxb and not jaxws) reference using the libraries window. </p>\n\n<p>I found a endorsed.classpath property in the nbproject/project.properties file.\nI still not sure what is its purpose, but in this property I found the bad reference to jaxb-endorsed.classpath, so I deleted, closed netbeans and opened again, and the reference problem has gone.</p>\n\n<p>I already have Jaxb 2.2 library added to my project, so it is working good with the modification I did to the project.properties.</p>\n\n<p>I hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":84692,"reputation":2109,"user_id":236562,"display_name":"William Scott"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1319160300,"creation_date":1319159983,"answer_id":7844046,"question_id":6207190,"body_markdown":"I just came across this issue and found some help from http://netbeans.org/bugzilla/show_bug.cgi?id=187145. Apparently, Netbeans will create the JAX-WS-ENDORSED library when a new web service is created. So go to File &gt; New File, choose Web Service &gt; Web Service Client and fill in dummy values (this can be done in a throwaway project). This client can then be removed, and Netbeans will have created the library with the following classpath entries:\r\n\r\n    java/modules/ext/jaxws22/api/jaxws-api.jar\r\n    ide/modules/ext/jaxb/api/jaxb-api.jar\r\n\r\nThese are relative to your Netbeans install directory (on OS X will be located in Contents/Resources/Netbeans within the .app). Alternatively, you could create the library manually using the entries above.\r\n\r\nThis only needs to be done once, as the library will be added to Netbeans Global Libraries list.","title":"How do I reference libraries in NetBeans?","body":"<p>I just came across this issue and found some help from <a href=\"http://netbeans.org/bugzilla/show_bug.cgi?id=187145\" rel=\"noreferrer\">http://netbeans.org/bugzilla/show_bug.cgi?id=187145</a>. Apparently, Netbeans will create the JAX-WS-ENDORSED library when a new web service is created. So go to File > New File, choose Web Service > Web Service Client and fill in dummy values (this can be done in a throwaway project). This client can then be removed, and Netbeans will have created the library with the following classpath entries:</p>\n\n<pre><code>java/modules/ext/jaxws22/api/jaxws-api.jar\nide/modules/ext/jaxb/api/jaxb-api.jar\n</code></pre>\n\n<p>These are relative to your Netbeans install directory (on OS X will be located in Contents/Resources/Netbeans within the .app). Alternatively, you could create the library manually using the entries above.</p>\n\n<p>This only needs to be done once, as the library will be added to Netbeans Global Libraries list.</p>\n"},{"tags":[],"owner":{"account_id":105525,"reputation":32628,"user_id":281545,"accept_rate":85,"display_name":"Mr_and_Mrs_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1327768164,"creation_date":1327768164,"answer_id":9046846,"question_id":6207190,"body_markdown":"I had a similar problem : DO NOT DELETE THE JAX-WS-ENDORSED - remind me to downvote. I had to go to the imported project  &gt; resolve reference\r\nproblems dialogue &gt; delete the references from there which were pointing to the old NB folders - pic : ![enter image description here][1]\r\n\r\nand then create the throwaway web service as suggested by William Scott and then add the newly created jars :![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/RM77k.jpg\r\n  [2]: http://i.stack.imgur.com/LXDyg.jpg","title":"How do I reference libraries in NetBeans?","body":"<p>I had a similar problem : DO NOT DELETE THE JAX-WS-ENDORSED - remind me to downvote. I had to go to the imported project  > resolve reference\nproblems dialogue > delete the references from there which were pointing to the old NB folders - pic : <img src=\"https://i.stack.imgur.com/RM77k.jpg\" alt=\"enter image description here\"></p>\n\n<p>and then create the throwaway web service as suggested by William Scott and then add the newly created jars :<img src=\"https://i.stack.imgur.com/LXDyg.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":222143,"reputation":3512,"user_id":480549,"display_name":"Ahmad Zyoud"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358326044,"creation_date":1358326044,"answer_id":14354321,"question_id":6207190,"body_markdown":"I had same problem and Fix it by install soap webservice and and resful webservice in netbeans plugin","title":"How do I reference libraries in NetBeans?","body":"<p>I had same problem and Fix it by install soap webservice and and resful webservice in netbeans plugin</p>\n"},{"tags":[],"owner":{"account_id":1820028,"reputation":79,"user_id":1654287,"display_name":"Rajesh Bellamkonda"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1372404441,"creation_date":1372404441,"answer_id":17359447,"question_id":6207190,"body_markdown":"The best solution is to edit **project.properties** file and replace below piece of code.\r\n\r\nOriginal property: **endorsed.classpath=\\${libs.JAX-WS-ENDORSED.classpath}**\r\n\r\nReplace with: **endorsed.classpath=\\${lib.JAX-WS 2.2.classpath}**\r\n\r\nIn older versions of Netbeans there is JAX-WS-ENDORSED library in libs location.\r\n\r\nNewer versions of Netbeans having JAX-WS 2.2 library in lib folder\r\n\r\n** **ALL THE BEST** **","title":"How do I reference libraries in NetBeans?","body":"<p>The best solution is to edit <strong>project.properties</strong> file and replace below piece of code.</p>\n\n<p>Original property: <strong>endorsed.classpath=\\${libs.JAX-WS-ENDORSED.classpath}</strong></p>\n\n<p>Replace with: <strong>endorsed.classpath=\\${lib.JAX-WS 2.2.classpath}</strong></p>\n\n<p>In older versions of Netbeans there is JAX-WS-ENDORSED library in libs location.</p>\n\n<p>Newer versions of Netbeans having JAX-WS 2.2 library in lib folder</p>\n\n<p>** <strong>ALL THE BEST</strong> **</p>\n"},{"comments":[{"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"score":0,"creation_date":1400772301,"post_id":19470714,"comment_id":36628885,"body_markdown":"Does not work.  As a matter of fact, that&#39;s a good way to take a perfectly good install and make it start failing with the JAX error.","body":"Does not work.  As a matter of fact, that&#39;s a good way to take a perfectly good install and make it start failing with the JAX error."}],"tags":[],"owner":{"account_id":2860631,"reputation":79,"user_id":2455978,"display_name":"Ezequiel"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1382213995,"creation_date":1382213995,"answer_id":19470714,"question_id":6207190,"body_markdown":"I fix it:\r\n\r\n 1. unistall netbeans. \r\n 2. delete HOME/.netbeans and HOME/.nbi\r\n 3. then install netbeans again","title":"How do I reference libraries in NetBeans?","body":"<p>I fix it:</p>\n\n<ol>\n<li>unistall netbeans. </li>\n<li>delete HOME/.netbeans and HOME/.nbi</li>\n<li>then install netbeans again</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":64734,"reputation":1492,"user_id":190955,"accept_rate":78,"display_name":"TonyG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384155021,"creation_date":1384155021,"answer_id":19901008,"question_id":6207190,"body_markdown":"Old thread, different and effective solution... I just moved some projects from one system to another and got this error. With NetBeans v7.3+, go to Tools&gt;Plugins, Available Plugins, then search for &quot;SOAP&quot;. You should see &quot;SOAP Web Services&quot;. On loading this library you&#39;ll get the JAX-WS-ENDORSED library. Restart NetBeans and you should be able to get a Clean Build.\r\n\r\nLoading this package brings in a number of other libraries. On restarting the IDE you may get a notification that other packages now have available updates.","title":"How do I reference libraries in NetBeans?","body":"<p>Old thread, different and effective solution... I just moved some projects from one system to another and got this error. With NetBeans v7.3+, go to Tools>Plugins, Available Plugins, then search for \"SOAP\". You should see \"SOAP Web Services\". On loading this library you'll get the JAX-WS-ENDORSED library. Restart NetBeans and you should be able to get a Clean Build.</p>\n\n<p>Loading this package brings in a number of other libraries. On restarting the IDE you may get a notification that other packages now have available updates.</p>\n"},{"tags":[],"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538540295,"creation_date":1538540295,"answer_id":52619618,"question_id":6207190,"body_markdown":"Do the following ( BTW in my case its **NetBeans** 6.9.1 )\r\n\r\n* 1 **Why** this appeared now ?  \r\nBecause i tried to open project on other pc with fresh copy of net bean\r\n\r\n\r\n* 2 **How** the problem looks like ?\r\nJar Lib Not Found for JAX-WS-ENDORSED\r\n\r\n[![the problem jar not found][1]][1]\r\n\r\n\r\n\r\n* 3 **Why** it was needed at the first place and what its used for?\r\nWell i have a webservice on same server/domain e.g localhost , so of course\r\nit will work if i removed the web service from the folder in sources but i need it\r\n\r\n\r\n\r\n* 4 **What** to do?\r\nTry to add dummy any online free web service in form wsdl\r\n\r\nlike [Some test web service or search for any other one][2]\r\n\r\n[![Try to add dummy web service][3]][3]\r\n\r\n[This is the source of my public free to use wsdl][4]\r\n\r\n\r\n* 5 **What** then ?\r\nJust add it please\r\n\r\n[![Just add it please][5]][5]\r\n\r\n\r\n* **Now** what ?\r\nWait for scanning project stuff it should be ok \r\nyou can re check from library properties of project\r\nor see that there is no red/ or resolve references problem\r\nin project properties\r\n\r\n* **So** what happened exactly?\r\n**Note**: JAX-WS-ENDORSED it will be added automatically to your libraries\r\nsame methodology can solve other problems as well\r\n\r\n  [1]: https://i.stack.imgur.com/Hl0ut.png\r\n  [2]: http://www.thomas-bayer.com/axis2/services/BLZService?wsdl\r\n  [3]: https://i.stack.imgur.com/eWcSd.png\r\n  [4]: http://quicksoftwaretesting.com/sample-wsdl-urls-testing-soapui/\r\n  [5]: https://i.stack.imgur.com/O5Fql.png","title":"How do I reference libraries in NetBeans?","body":"<p>Do the following ( BTW in my case its <strong>NetBeans</strong> 6.9.1 )</p>\n\n<ul>\n<li><p>1 <strong>Why</strong> this appeared now ?<br>\nBecause i tried to open project on other pc with fresh copy of net bean</p></li>\n<li><p>2 <strong>How</strong> the problem looks like ?\nJar Lib Not Found for JAX-WS-ENDORSED</p></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/Hl0ut.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hl0ut.png\" alt=\"the problem jar not found\"></a></p>\n\n<ul>\n<li><p>3 <strong>Why</strong> it was needed at the first place and what its used for?\nWell i have a webservice on same server/domain e.g localhost , so of course\nit will work if i removed the web service from the folder in sources but i need it</p></li>\n<li><p>4 <strong>What</strong> to do?\nTry to add dummy any online free web service in form wsdl</p></li>\n</ul>\n\n<p>like <a href=\"http://www.thomas-bayer.com/axis2/services/BLZService?wsdl\" rel=\"nofollow noreferrer\">Some test web service or search for any other one</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/eWcSd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eWcSd.png\" alt=\"Try to add dummy web service\"></a></p>\n\n<p><a href=\"http://quicksoftwaretesting.com/sample-wsdl-urls-testing-soapui/\" rel=\"nofollow noreferrer\">This is the source of my public free to use wsdl</a></p>\n\n<ul>\n<li>5 <strong>What</strong> then ?\nJust add it please</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/O5Fql.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O5Fql.png\" alt=\"Just add it please\"></a></p>\n\n<ul>\n<li><p><strong>Now</strong> what ?\nWait for scanning project stuff it should be ok \nyou can re check from library properties of project\nor see that there is no red/ or resolve references problem\nin project properties</p></li>\n<li><p><strong>So</strong> what happened exactly?\n<strong>Note</strong>: JAX-WS-ENDORSED it will be added automatically to your libraries\nsame methodology can solve other problems as well</p></li>\n</ul>\n"}],"owner":{"account_id":191619,"reputation":17552,"user_id":432294,"accept_rate":91,"display_name":"Jay Sullivan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49646,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":7844046,"answer_count":10,"score":12,"last_activity_date":1673427939,"creation_date":1306959890,"question_id":6207190,"body_markdown":"I have a Java Web Services project that was created in an older version of NetBeans, and I haven&#39;t accessed it in many months, so my paths and installed libraries are different.  \n\nWhen I try to open the project, I get a &quot;Resolve Reference Problems&quot; dialog, and two Reference Problems are listed:\n\n    &quot;metro&quot; library could not be found\n    &quot;JAX-WS-ENDORSED&quot; library could not be found\n\nI have a fresh installation of [JDK 6 Update 25 with NetBeans 7.0][1], and am running Windows 7.  \n\nWhat steps can I take to solve this? I don&#39;t even know where to start, as every approach I&#39;ve taken so far hasn&#39;t gotten me anywhere.\n\n**Note:** JAX-WS-ENDORSED does not appear in my Libraries listing, so I can&#39;t remove it. Something hidden is referencing it.  How would I find this?\n\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/install-jdk6-22nb691-177131.html","title":"How do I reference libraries in NetBeans?","body":"<p>I have a Java Web Services project that was created in an older version of NetBeans, and I haven't accessed it in many months, so my paths and installed libraries are different.</p>\n<p>When I try to open the project, I get a &quot;Resolve Reference Problems&quot; dialog, and two Reference Problems are listed:</p>\n<pre><code>&quot;metro&quot; library could not be found\n&quot;JAX-WS-ENDORSED&quot; library could not be found\n</code></pre>\n<p>I have a fresh installation of <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/install-jdk6-22nb691-177131.html\" rel=\"noreferrer\">JDK 6 Update 25 with NetBeans 7.0</a>, and am running Windows 7.</p>\n<p>What steps can I take to solve this? I don't even know where to start, as every approach I've taken so far hasn't gotten me anywhere.</p>\n<p><strong>Note:</strong> JAX-WS-ENDORSED does not appear in my Libraries listing, so I can't remove it. Something hidden is referencing it.  How would I find this?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":1,"creation_date":1673427623,"post_id":75080470,"comment_id":132494283,"body_markdown":"IntelliJ IDE installed the same is sue in  java folder also in VDI certificate.","body":"IntelliJ IDE installed the same is sue in  java folder also in VDI certificate."},{"owner":{"account_id":27496839,"reputation":33,"user_id":20981227,"display_name":"Arif"},"score":0,"creation_date":1673431060,"post_id":75080470,"comment_id":132495484,"body_markdown":"IDE installed in this folder &gt;C:\\Users\\ARIMO\\AppData\\Roaming\\Microsoft\\Windows\\Start Menu\\Programs\\JetBrains\n\nand java in this folder for certificate -&gt;C:\\Program Files\\OpenJDK\\jdk-8.0.332.09-hotspot\\jre\\lib\\security","body":"IDE installed in this folder &gt;C:\\Users\\ARIMO\\AppData\\Roaming\\Microsoft\\Windows\\Start Menu\\Programs\\JetBrains  and java in this folder for certificate -&gt;C:\\Program Files\\OpenJDK\\jdk-8.0.332.09-hotspot\\jre\\lib\\security"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1673437335,"post_id":75080470,"comment_id":132497780,"body_markdown":"Spring Boot 3.x needs `JDK 17`","body":"Spring Boot 3.x needs <code>JDK 17</code>"}],"owner":{"account_id":27496839,"reputation":33,"user_id":20981227,"display_name":"Arif"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673427645,"creation_date":1673427455,"question_id":75080470,"body_markdown":"I am using maven pom version 3.0.1 and while building getting errors as below. I installed the certificate also in VDI of my java folder. Can you please help on this?\r\n\r\n    Cannot resolve plugin org.apache.maven.plugins:maven-compiler-plugin:3.10.1\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-surefire-plugin:2.22.2\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-deploy-plugin:2.8.2\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-clean-plugin:3.2.0\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-resources-plugin:3.3.0\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-jar-plugin:3.3.0\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-install-plugin:3.0.1\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-site-plugin:3.3\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-compiler-plugin:3.8.0\r\n    \r\n    Cannot resolve plugin org.springframework.boot:spring-boot-maven-plugin:2.1.4.RELEASE\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-surefire-plugin:2.22.2\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-deploy-plugin:2.8.2\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-clean-plugin:3.1.0\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-resources-plugin:3.1.0\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-jar-plugin:3.1.1\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-install-plugin:2.5.2\r\n    \r\n    Cannot resolve plugin org.apache.maven.plugins:maven-site-plugin:3.7.1\r\n\r\nI java spring boot project with the pom version 3.0.1 and i installed the certificate also in VDI of my java folder. Still same issue on my IntelliJ IDE.\r\n\r\nCould you please help on this?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Maven Build error while using pom version 3.0.1 on my Spring boot Java project on IntelliJ","body":"<p>I am using maven pom version 3.0.1 and while building getting errors as below. I installed the certificate also in VDI of my java folder. Can you please help on this?</p>\n<pre><code>Cannot resolve plugin org.apache.maven.plugins:maven-compiler-plugin:3.10.1\n\nCannot resolve plugin org.apache.maven.plugins:maven-surefire-plugin:2.22.2\n\nCannot resolve plugin org.apache.maven.plugins:maven-deploy-plugin:2.8.2\n\nCannot resolve plugin org.apache.maven.plugins:maven-clean-plugin:3.2.0\n\nCannot resolve plugin org.apache.maven.plugins:maven-resources-plugin:3.3.0\n\nCannot resolve plugin org.apache.maven.plugins:maven-jar-plugin:3.3.0\n\nCannot resolve plugin org.apache.maven.plugins:maven-install-plugin:3.0.1\n\nCannot resolve plugin org.apache.maven.plugins:maven-site-plugin:3.3\n\nCannot resolve plugin org.apache.maven.plugins:maven-compiler-plugin:3.8.0\n\nCannot resolve plugin org.springframework.boot:spring-boot-maven-plugin:2.1.4.RELEASE\n\nCannot resolve plugin org.apache.maven.plugins:maven-surefire-plugin:2.22.2\n\nCannot resolve plugin org.apache.maven.plugins:maven-deploy-plugin:2.8.2\n\nCannot resolve plugin org.apache.maven.plugins:maven-clean-plugin:3.1.0\n\nCannot resolve plugin org.apache.maven.plugins:maven-resources-plugin:3.1.0\n\nCannot resolve plugin org.apache.maven.plugins:maven-jar-plugin:3.1.1\n\nCannot resolve plugin org.apache.maven.plugins:maven-install-plugin:2.5.2\n\nCannot resolve plugin org.apache.maven.plugins:maven-site-plugin:3.7.1\n</code></pre>\n<p>I java spring boot project with the pom version 3.0.1 and i installed the certificate also in VDI of my java folder. Still same issue on my IntelliJ IDE.</p>\n<p>Could you please help on this?</p>\n"},{"tags":["java","jms","ibm-mq","spring-jms"],"comments":[{"owner":{"account_id":320241,"reputation":2134,"user_id":638413,"accept_rate":100,"display_name":"Daniel Steinmann"},"score":1,"creation_date":1673391012,"post_id":75074042,"comment_id":132487496,"body_markdown":"I don&#39;t think you can do this in JMS, you have to use the Java API classes [MQIIH](https://www.ibm.com/docs/en/ibm-mq/9.3?topic=java-mqiih), `MQHeaderList`, `MQMessage`, `MQQueue` and `MQQueueManager` to create and send such a message.","body":"I don&#39;t think you can do this in JMS, you have to use the Java API classes <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.3?topic=java-mqiih\" rel=\"nofollow noreferrer\">MQIIH</a>, <code>MQHeaderList</code>, <code>MQMessage</code>, <code>MQQueue</code> and <code>MQQueueManager</code> to create and send such a message."},{"owner":{"account_id":22739597,"reputation":51,"user_id":16901319,"display_name":"Javanectar"},"score":0,"creation_date":1673424938,"post_id":75074042,"comment_id":132493345,"body_markdown":"Thanks, @DanielSteinmann do you have a sample code that I can refer to?","body":"Thanks, @DanielSteinmann do you have a sample code that I can refer to?"},{"owner":{"account_id":320241,"reputation":2134,"user_id":638413,"accept_rate":100,"display_name":"Daniel Steinmann"},"score":0,"creation_date":1673517875,"post_id":75074042,"comment_id":132518933,"body_markdown":"I added an answer which only uses `MQIIH` MQ Java class but everything else stays on the JMS API. Does this work four you?","body":"I added an answer which only uses <code>MQIIH</code> MQ Java class but everything else stays on the JMS API. Does this work four you?"},{"owner":{"account_id":22739597,"reputation":51,"user_id":16901319,"display_name":"Javanectar"},"score":0,"creation_date":1673535530,"post_id":75074042,"comment_id":132525219,"body_markdown":"Yes @DanielSteinmann it works perfectly fine, Now I have one more question. How can we pass trancode in IMS messages?","body":"Yes @DanielSteinmann it works perfectly fine, Now I have one more question. How can we pass trancode in IMS messages?"}],"answers":[{"comments":[{"owner":{"account_id":22739597,"reputation":51,"user_id":16901319,"display_name":"Javanectar"},"score":0,"creation_date":1673534421,"post_id":75080501,"comment_id":132524784,"body_markdown":"Thanks, @Daniel for your help it helps me a lot to connect with MQ with the IIH header.  Do you know how can we pass trancode (the transaction code that specifies the mode of the\ntransaction) in IMS message?","body":"Thanks, @Daniel for your help it helps me a lot to connect with MQ with the IIH header.  Do you know how can we pass trancode (the transaction code that specifies the mode of the transaction) in IMS message?"},{"owner":{"account_id":320241,"reputation":2134,"user_id":638413,"accept_rate":100,"display_name":"Daniel Steinmann"},"score":0,"creation_date":1673555241,"post_id":75080501,"comment_id":132531913,"body_markdown":"Adding the `trancode` is actually another question, so it would be better if you ask another question. Anyway: Have you looked at [How the IMS bridge deals with messages](https://www.ibm.com/docs/en/ibm-mq/9.3?topic=applications-how-ims-bridge-deals-messages) and the `MQFMT_IMS_VAR_STRING` in chapter [MQMD Format](https://www.ibm.com/docs/en/ibm-mq/9.0?topic=mqmd-format-mqchar8)?","body":"Adding the <code>trancode</code> is actually another question, so it would be better if you ask another question. Anyway: Have you looked at <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.3?topic=applications-how-ims-bridge-deals-messages\" rel=\"nofollow noreferrer\">How the IMS bridge deals with messages</a> and the <code>MQFMT_IMS_VAR_STRING</code> in chapter <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.0?topic=mqmd-format-mqchar8\" rel=\"nofollow noreferrer\">MQMD Format</a>?"},{"owner":{"account_id":320241,"reputation":2134,"user_id":638413,"accept_rate":100,"display_name":"Daniel Steinmann"},"score":1,"creation_date":1673555306,"post_id":75080501,"comment_id":132531931,"body_markdown":"Looks like you just have to add `LLZZ&lt;trancode&gt;&lt;data&gt;` (LL: 2-byte length field specifying the total length of the IMS variable string, ZZ: 2-byte field containing flags that are significant to IMS).","body":"Looks like you just have to add <code>LLZZ&lt;trancode&gt;&lt;data&gt;</code> (LL: 2-byte length field specifying the total length of the IMS variable string, ZZ: 2-byte field containing flags that are significant to IMS)."}],"tags":[],"owner":{"account_id":320241,"reputation":2134,"user_id":638413,"accept_rate":100,"display_name":"Daniel Steinmann"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673427633,"creation_date":1673427633,"answer_id":75080501,"question_id":75074042,"body_markdown":"You can not do this with pure JMS, you have to use the [MQIIH](https://www.ibm.com/docs/en/ibm-mq/9.3?topic=java-mqiih) helper class:\r\n\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.DataOutputStream;\r\n    import javax.jms.BytesMessage;\r\n    import com.ibm.mq.headers.MQIIH;\r\n    import com.ibm.msg.client.jms.JmsConstants;\r\n    ...\r\n\r\n    public void send(Request mqRequest) throws JMSException {\r\n        log.info(&quot;sending with message [{}] to queue [{}].&quot;, mqRequest.getMessage(), QUEUE_NAME);\r\n\t\tMQIIH mqiih = new MQIIH();\r\n\t\tmqiih.setAuthenticator(&quot;***&quot;);\r\n\t\t// set other MQIIH header values\r\n\t\tByteArrayOutputStream mqiihBytes = new ByteArrayOutputStream();\r\n\t\tmqiih.write(new DataOutputStream(mqiihBytes));\r\n\t\tString destinationQueue = &quot;queue:///&quot; + QUEUE_NAME + &quot;?targetClient=1&quot;;\r\n\t\tjmsTemplate.send(destinationQueue, (MessageCreator) session -&gt; {\r\n\t\t\tBytesMessage message = session.createBytesMessage();\r\n\t\t\tmessage.setStringProperty(JmsConstants.JMS_IBM_FORMAT, &quot;MQIMS&quot;);\r\n\t\t\tmessage.writeBytes(mqiihBytes.toByteArray());\r\n\t\t\tmessage.writeBytes(&quot;This Is The Body&quot;.getBytes());\r\n\t\t\treturn message;\r\n\r\n\t\t});\r\n    }\r\nWith the queue option `targetClient=1` the usual RFH2 header with JMS meta information gets stripped. The message will look like this:\r\n\r\n\r\n    5724-H72 (C) Copyright IBM Corp. 1994, 2022.\r\n    IBM MQ Queue Load/Unload Utility\r\n    * DMPMQMSG Version:9.3.1.0 Created:Wed Jan 11 08:41:37 2023\r\n    * Qmgr  = QM1\r\n    * Queue = Q1\r\n    \r\n    A VER 2\r\n    A RPT 0\r\n    A MST 8\r\n    A EXP -1\r\n    A FDB 0\r\n    A ENC 273\r\n    A CCS 819\r\n    A FMT MQIMS   \r\n    A PRI 4\r\n    A PER 1\r\n    A MSI 414D5120514D312020202020202020204337BB6301ED0140\r\n    A COI 000000000000000000000000000000000000000000000000\r\n    A BOC 0\r\n    A RTQ                                                 \r\n    A RTM QM1                                             \r\n    A USR mqm         \r\n    A ACC 0000000000000000000000000000000000000000000000000000000000000000\r\n    A AIX 2020202020202020202020202020202020202020202020202020202020202020\r\n    A PAT 28\r\n    A PAN runner.RemoteTestRunner     \r\n    A PTD 20230111\r\n    A PTT 08413426\r\n    A AOX 20202020\r\n    A GRP 000000000000000000000000000000000000000000000000\r\n    A MSQ 1\r\n    A OFF 0\r\n    A MSF 0\r\n    A ORL -1\r\n    T IIH \r\n    X 00000001000000\r\n    T T\r\n    X 0000011100000000\r\n    T         \r\n    X 00000000\r\n    T                         ***     \r\n    X 00000000000000000000000000000000\r\n    T     This Is The Body\r\n    \r\n    Read    - Files:   0  Messages:1  Bytes:100\r\n    Written - Files:   0  Messages:1  Bytes:100\r\n\r\n\r\n\r\n","title":"Send JMS message to IBM-MQ with MQIIH header","body":"<p>You can not do this with pure JMS, you have to use the <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.3?topic=java-mqiih\" rel=\"nofollow noreferrer\">MQIIH</a> helper class:</p>\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.io.DataOutputStream;\nimport javax.jms.BytesMessage;\nimport com.ibm.mq.headers.MQIIH;\nimport com.ibm.msg.client.jms.JmsConstants;\n...\n\npublic void send(Request mqRequest) throws JMSException {\n    log.info(&quot;sending with message [{}] to queue [{}].&quot;, mqRequest.getMessage(), QUEUE_NAME);\n    MQIIH mqiih = new MQIIH();\n    mqiih.setAuthenticator(&quot;***&quot;);\n    // set other MQIIH header values\n    ByteArrayOutputStream mqiihBytes = new ByteArrayOutputStream();\n    mqiih.write(new DataOutputStream(mqiihBytes));\n    String destinationQueue = &quot;queue:///&quot; + QUEUE_NAME + &quot;?targetClient=1&quot;;\n    jmsTemplate.send(destinationQueue, (MessageCreator) session -&gt; {\n        BytesMessage message = session.createBytesMessage();\n        message.setStringProperty(JmsConstants.JMS_IBM_FORMAT, &quot;MQIMS&quot;);\n        message.writeBytes(mqiihBytes.toByteArray());\n        message.writeBytes(&quot;This Is The Body&quot;.getBytes());\n        return message;\n\n    });\n}\n</code></pre>\n<p>With the queue option <code>targetClient=1</code> the usual RFH2 header with JMS meta information gets stripped. The message will look like this:</p>\n<pre><code>5724-H72 (C) Copyright IBM Corp. 1994, 2022.\nIBM MQ Queue Load/Unload Utility\n* DMPMQMSG Version:9.3.1.0 Created:Wed Jan 11 08:41:37 2023\n* Qmgr  = QM1\n* Queue = Q1\n\nA VER 2\nA RPT 0\nA MST 8\nA EXP -1\nA FDB 0\nA ENC 273\nA CCS 819\nA FMT MQIMS   \nA PRI 4\nA PER 1\nA MSI 414D5120514D312020202020202020204337BB6301ED0140\nA COI 000000000000000000000000000000000000000000000000\nA BOC 0\nA RTQ                                                 \nA RTM QM1                                             \nA USR mqm         \nA ACC 0000000000000000000000000000000000000000000000000000000000000000\nA AIX 2020202020202020202020202020202020202020202020202020202020202020\nA PAT 28\nA PAN runner.RemoteTestRunner     \nA PTD 20230111\nA PTT 08413426\nA AOX 20202020\nA GRP 000000000000000000000000000000000000000000000000\nA MSQ 1\nA OFF 0\nA MSF 0\nA ORL -1\nT IIH \nX 00000001000000\nT T\nX 0000011100000000\nT         \nX 00000000\nT                         ***     \nX 00000000000000000000000000000000\nT     This Is The Body\n\nRead    - Files:   0  Messages:1  Bytes:100\nWritten - Files:   0  Messages:1  Bytes:100\n</code></pre>\n"}],"owner":{"account_id":22739597,"reputation":51,"user_id":16901319,"display_name":"Javanectar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":907,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":75080501,"answer_count":1,"score":2,"last_activity_date":1673427633,"creation_date":1673373581,"question_id":75074042,"body_markdown":"Can someone help me to send a JMS message to IBM-MQ with IIH (MQIIH) headers?\r\n\r\nI am using the Spring Boot application with **mq-jms-spring-boot-starter** version **2.4.5**. \r\n\r\nWhen I send a message it always goes with the RFH2 header although it sets `StrucId` as `IIH` in the message header.\r\n```java\r\npublic void send(Request mqRequest) throws JMSException {\r\n    log.info(&quot;sending with message [{}] to queue [{}].&quot;, mqRequest.getMessage(), QUEUE_NAME);\r\n    MQQueue destinationQueue = new MQQueue(QUEUE_NAME);\r\n    jmsTemplate.convertAndSend(destinationQueue, mqRequest.getMessage(), message -&gt; {\r\n        log.info(&quot;setting standard JMS headers before sending&quot;);\r\n       message.setJMSCorrelationID(UUID.randomUUID().toString());\r\n        message.setJMSDestination(new MQQueue(QUEUE_NAME));\r\n        message.setJMSTimestamp(System.nanoTime());\r\n        message.setJMSType(&quot;MQIIH&quot;);\r\n        message.setStringProperty(&quot;Authenticator&quot;, &quot;********&quot;);\r\n        message.setStringProperty(&quot;Format&quot;, &quot;********&quot;);\r\n        message.setStringProperty(&quot;ReplyToFormat&quot;, &quot;********&quot;);\r\n        message.setIntProperty(&quot;CommitMode&quot;, &#39;0&#39;);\r\n        message.setStringProperty(&quot;LTermOverride&quot;, &quot;********&quot;);\r\n        message.setStringProperty(&quot;MFSMapName&quot;, &quot;********&quot;);\r\n        message.setIntProperty(&quot;SecurityScope&quot;, &#39;C&#39;);\r\n        message.setStringProperty(&quot;StrucId&quot;, &quot;IIH &quot;);\r\n        message.setIntProperty(&quot;StrucLength&quot;, 84);\r\n        message.setIntProperty(&quot;Version&quot;, 1);\r\n        return message;\r\n    });\r\n}\r\n```","title":"Send JMS message to IBM-MQ with MQIIH header","body":"<p>Can someone help me to send a JMS message to IBM-MQ with IIH (MQIIH) headers?</p>\n<p>I am using the Spring Boot application with <strong>mq-jms-spring-boot-starter</strong> version <strong>2.4.5</strong>.</p>\n<p>When I send a message it always goes with the RFH2 header although it sets <code>StrucId</code> as <code>IIH</code> in the message header.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void send(Request mqRequest) throws JMSException {\n    log.info(&quot;sending with message [{}] to queue [{}].&quot;, mqRequest.getMessage(), QUEUE_NAME);\n    MQQueue destinationQueue = new MQQueue(QUEUE_NAME);\n    jmsTemplate.convertAndSend(destinationQueue, mqRequest.getMessage(), message -&gt; {\n        log.info(&quot;setting standard JMS headers before sending&quot;);\n       message.setJMSCorrelationID(UUID.randomUUID().toString());\n        message.setJMSDestination(new MQQueue(QUEUE_NAME));\n        message.setJMSTimestamp(System.nanoTime());\n        message.setJMSType(&quot;MQIIH&quot;);\n        message.setStringProperty(&quot;Authenticator&quot;, &quot;********&quot;);\n        message.setStringProperty(&quot;Format&quot;, &quot;********&quot;);\n        message.setStringProperty(&quot;ReplyToFormat&quot;, &quot;********&quot;);\n        message.setIntProperty(&quot;CommitMode&quot;, '0');\n        message.setStringProperty(&quot;LTermOverride&quot;, &quot;********&quot;);\n        message.setStringProperty(&quot;MFSMapName&quot;, &quot;********&quot;);\n        message.setIntProperty(&quot;SecurityScope&quot;, 'C');\n        message.setStringProperty(&quot;StrucId&quot;, &quot;IIH &quot;);\n        message.setIntProperty(&quot;StrucLength&quot;, 84);\n        message.setIntProperty(&quot;Version&quot;, 1);\n        return message;\n    });\n}\n</code></pre>\n"},{"tags":["javascript","java","node.js","jar","cross-platform"],"owner":{"account_id":8564588,"reputation":1250,"user_id":6417470,"display_name":"Humble Bee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673427622,"creation_date":1673427622,"question_id":75080497,"body_markdown":"Most of my projects are built in Java and there was one set of requirement which we created using using NodeJS. Node JS had better options in buiding that utility and that is the reason we went with NodeJS. \r\n\r\nNow I want to use that utility in all other java based projects as a dependent jar rather than invoking this Node JS service.  \r\n\r\nIs it possible to bundle this Node JS module into a jar and add it as a dependency in other java projects?","title":"Package nodejs module as a jar","body":"<p>Most of my projects are built in Java and there was one set of requirement which we created using using NodeJS. Node JS had better options in buiding that utility and that is the reason we went with NodeJS.</p>\n<p>Now I want to use that utility in all other java based projects as a dependent jar rather than invoking this Node JS service.</p>\n<p>Is it possible to bundle this Node JS module into a jar and add it as a dependency in other java projects?</p>\n"},{"tags":["java","runtime","java-11"],"comments":[{"owner":{"account_id":5240687,"reputation":1727,"user_id":4187837,"accept_rate":86,"display_name":"Gavin"},"score":0,"creation_date":1673429888,"post_id":75080479,"comment_id":132495075,"body_markdown":"The `sun.` package space was/is an internal package space and should be avoided when writing production code. Since about Java 9 Oracle has been restricting access to those packages. You might be able to regain access using the features of the packaging system introduced in Java 9.","body":"The <code>sun.</code> package space was/is an internal package space and should be avoided when writing production code. Since about Java 9 Oracle has been restricting access to those packages. You might be able to regain access using the features of the packaging system introduced in Java 9."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1673431252,"post_id":75080479,"comment_id":132495554,"body_markdown":"The `sun.misc.URLClassPath` class was removed in Java 9.   See https://bugs.openjdk.org/browse/JDK-8149122","body":"The <code>sun.misc.URLClassPath</code> class was removed in Java 9.   See <a href=\"https://bugs.openjdk.org/browse/JDK-8149122\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8149122</a>"},{"owner":{"account_id":3061204,"reputation":927,"user_id":2593799,"accept_rate":40,"display_name":"NoName"},"score":0,"creation_date":1673494242,"post_id":75080479,"comment_id":132513481,"body_markdown":"Yes, I know the package was removed from java 9. And I am now looking for an alternative solution to keep the original business logic in the code. So, I am asking if there is a class in java 11 can be replaced for ```sun.misc.URLClassPath```","body":"Yes, I know the package was removed from java 9. And I am now looking for an alternative solution to keep the original business logic in the code. So, I am asking if there is a class in java 11 can be replaced for <code>sun.misc.URLClassPath</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1673515751,"post_id":75080479,"comment_id":132518187,"body_markdown":"This is a horrible hack that doesn’t even do what the name claims. It doesn’t “unload” a jar, it just removes it from a list. Which achieves the opposite. After removing, not even calling the actual `close()` method on the `URLClassLoader` will clean up the resources. If you want cleanup support for dynamic class loaders, create one `URLClassLoader` for a jar (or group of jars supposed to freed together) and call `close()` on the `URLClassLoader` when done.","body":"This is a horrible hack that doesn’t even do what the name claims. It doesn’t “unload” a jar, it just removes it from a list. Which achieves the opposite. After removing, not even calling the actual <code>close()</code> method on the <code>URLClassLoader</code> will clean up the resources. If you want cleanup support for dynamic class loaders, create one <code>URLClassLoader</code> for a jar (or group of jars supposed to freed together) and call <code>close()</code> on the <code>URLClassLoader</code> when done."}],"owner":{"account_id":3061204,"reputation":927,"user_id":2593799,"accept_rate":40,"display_name":"NoName"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673427507,"creation_date":1673427507,"question_id":75080479,"body_markdown":"I have a method to unload *.jar files at runtime using JAVA JDK 8 below. Then, I upgrade my app to use JAVA JDK 11, and it does not recognize ```sun.misc.URLClassPath```.\r\nWhat class in JDK 11 can be replaced it? I search on the Internet, but I have not found the answer yet.\r\n\r\n\r\n    import sun.misc.URLClassPath;\r\n        \r\n    public static boolean unloadJar(String jarFile, ClassLoader classLoader) {\r\n            try {\r\n                if (classLoader instanceof URLClassLoader) {\r\n                    URLClassPath ucp = (URLClassPath)getField(classLoader, &quot;ucp&quot;, URLClassLoader.class);\r\n                    ArrayList&lt;URL&gt; path = (ArrayList&lt;URL&gt;)getField(ucp, &quot;path&quot;);\r\n                    ArrayList&lt;?&gt; loaders = (ArrayList&lt;?&gt;)getField(ucp, &quot;loaders&quot;);\r\n                    boolean isRemovedFromPath = path.removeIf(p -&gt; p.getFile().endsWith(jarFile));\r\n                    boolean isRemovedFromLoaders = loaders.removeIf(l -&gt; {\r\n                        try {\r\n                            URL csu = (URL)getField(l, &quot;csu&quot;);\r\n                            return csu.getFile().endsWith(jarFile);\r\n                        } catch (NoSuchFieldException | IllegalAccessException e) {\r\n                            return false;\r\n                        }\r\n                    });\r\n        \r\n                    return isRemovedFromPath &amp;&amp; isRemovedFromLoaders;\r\n                } else {\r\n                    String msg = String.format(&quot;Class loader type is mismatched. Required: %s, actual: %s&quot;,\r\n                            classLoader.getClass().getName(), URLClassLoader.class.getName());\r\n                    logger.debug(msg);\r\n                    return false;\r\n                }\r\n            } catch (Exception e) {\r\n                return false;\r\n            }\r\n        }","title":"Cannot find sun.misc.URLClassPath after upgrading JAVA JDK8 to JDK11","body":"<p>I have a method to unload *.jar files at runtime using JAVA JDK 8 below. Then, I upgrade my app to use JAVA JDK 11, and it does not recognize <code>sun.misc.URLClassPath</code>.\nWhat class in JDK 11 can be replaced it? I search on the Internet, but I have not found the answer yet.</p>\n<pre><code>import sun.misc.URLClassPath;\n    \npublic static boolean unloadJar(String jarFile, ClassLoader classLoader) {\n        try {\n            if (classLoader instanceof URLClassLoader) {\n                URLClassPath ucp = (URLClassPath)getField(classLoader, &quot;ucp&quot;, URLClassLoader.class);\n                ArrayList&lt;URL&gt; path = (ArrayList&lt;URL&gt;)getField(ucp, &quot;path&quot;);\n                ArrayList&lt;?&gt; loaders = (ArrayList&lt;?&gt;)getField(ucp, &quot;loaders&quot;);\n                boolean isRemovedFromPath = path.removeIf(p -&gt; p.getFile().endsWith(jarFile));\n                boolean isRemovedFromLoaders = loaders.removeIf(l -&gt; {\n                    try {\n                        URL csu = (URL)getField(l, &quot;csu&quot;);\n                        return csu.getFile().endsWith(jarFile);\n                    } catch (NoSuchFieldException | IllegalAccessException e) {\n                        return false;\n                    }\n                });\n    \n                return isRemovedFromPath &amp;&amp; isRemovedFromLoaders;\n            } else {\n                String msg = String.format(&quot;Class loader type is mismatched. Required: %s, actual: %s&quot;,\n                        classLoader.getClass().getName(), URLClassLoader.class.getName());\n                logger.debug(msg);\n                return false;\n            }\n        } catch (Exception e) {\n            return false;\n        }\n    }\n</code></pre>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":3,"creation_date":1673416835,"post_id":75078846,"comment_id":132491364,"body_markdown":"Both exceptions happen at runtime, but the compiler won&#39;t let you throw a checked exception unless that exception will be caught by code somewhere else in your program.  So the difference is that one type of exception will produce a syntax error during compilation where the other one won&#39;t. - more precisely, a checked exception has to be either be caught by a try/catch inside the same method as where the exception is being thrown, or the containing method has to declare that it can throw that exception.  None of this is necessary for an unchecked exception.","body":"Both exceptions happen at runtime, but the compiler won&#39;t let you throw a checked exception unless that exception will be caught by code somewhere else in your program.  So the difference is that one type of exception will produce a syntax error during compilation where the other one won&#39;t. - more precisely, a checked exception has to be either be caught by a try/catch inside the same method as where the exception is being thrown, or the containing method has to declare that it can throw that exception.  None of this is necessary for an unchecked exception."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1673416891,"post_id":75078846,"comment_id":132491377,"body_markdown":"https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/exceptions/index.h&zwnj;&#8203;tml</a>"}],"answers":[{"tags":[],"owner":{"account_id":27495287,"reputation":26,"user_id":20979896,"display_name":"Peruri Rahul"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1673427320,"creation_date":1673427320,"answer_id":75080438,"question_id":75078846,"body_markdown":"Checked Exceptions are to be handled by us by throwing a exception, While unchecked exceptions are handled by the compiler. To get some clarity regarding exceptions .Go through this documentation once.\r\n\r\n\r\n* https://www.baeldung.com/java-exceptions","title":"Can anyone help to solve that confusion about exception?","body":"<p>Checked Exceptions are to be handled by us by throwing a exception, While unchecked exceptions are handled by the compiler. To get some clarity regarding exceptions .Go through this documentation once.</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/java-exceptions\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-exceptions</a></li>\n</ul>\n"}],"owner":{"account_id":27177957,"reputation":1,"user_id":20713684,"display_name":"Vattamwar Prathamesh Pravin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1673438010,"answer_count":1,"score":-5,"last_activity_date":1673427320,"creation_date":1673416535,"question_id":75078846,"body_markdown":"I am aware of run-time unchecked exceptions, but not checked exceptions. According to a video I found, checked and unchecked exceptions only happen at run time. I also discovered a page that claims checked exceptions happen during compilation. I used the Java 8 documentation, but I was unable to determine whether the checked exception happens at compile time or at run time. If you read anything in the Java documentation, do provide me with a reference.\r\n\r\nIf you read anything in the Java documentation, do provide me with a reference.","title":"Can anyone help to solve that confusion about exception?","body":"<p>I am aware of run-time unchecked exceptions, but not checked exceptions. According to a video I found, checked and unchecked exceptions only happen at run time. I also discovered a page that claims checked exceptions happen during compilation. I used the Java 8 documentation, but I was unable to determine whether the checked exception happens at compile time or at run time. If you read anything in the Java documentation, do provide me with a reference.</p>\n<p>If you read anything in the Java documentation, do provide me with a reference.</p>\n"},{"tags":["java","spring","spring-test"],"owner":{"account_id":20604679,"reputation":9,"user_id":15125194,"display_name":"adnryMono"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673427221,"creation_date":1673427221,"question_id":75080419,"body_markdown":"In that class I add the @TestPropertySource: \r\n\r\n```\r\n@TestConfig\r\n@TestInstance(PER_CLASS)\r\n@TestPropertySource(properties = {&quot;name=BigSam&quot;})\r\nclass Test5 {\r\n    //...tests\r\n}\r\n```\r\n\r\nI have 5 integration tests. The common configuration for tests:\r\n```\r\n@Target({ElementType.TYPE, ElementType.ANNOTATION_TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@SpringBootTest(classes = MainStart.class)\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic @interface TestConfig {}\r\n```\r\nIf I run the Test5 separately it works fine. But, when I run all integration tests together including Test5 class, I see in the logs:\r\n\r\n&quot; The following 1 profile is active &quot;test&quot; &quot; - more than one time. ( If I run an integration test without Test5 class, this message appears only one time)\r\n\r\nAnd I the errors:\r\n```\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\njavax.cache.CacheException: A Cache named &quot;cache-name&quot; already exists.\r\n```\r\n\r\nHow can the configuration of the test be fixed?\r\nOr how can I change the property source and don&#39;t get such errors?\r\n\r\np.s. I use cache from Hibernate, but I don&#39;t think that it is a problem.","title":"@TestPropertySource breaks context and other tests fail","body":"<p>In that class I add the @TestPropertySource:</p>\n<pre><code>@TestConfig\n@TestInstance(PER_CLASS)\n@TestPropertySource(properties = {&quot;name=BigSam&quot;})\nclass Test5 {\n    //...tests\n}\n</code></pre>\n<p>I have 5 integration tests. The common configuration for tests:</p>\n<pre><code>@Target({ElementType.TYPE, ElementType.ANNOTATION_TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@SpringBootTest(classes = MainStart.class)\n@ActiveProfiles(&quot;test&quot;)\npublic @interface TestConfig {}\n</code></pre>\n<p>If I run the Test5 separately it works fine. But, when I run all integration tests together including Test5 class, I see in the logs:</p>\n<p>&quot; The following 1 profile is active &quot;test&quot; &quot; - more than one time. ( If I run an integration test without Test5 class, this message appears only one time)</p>\n<p>And I the errors:</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\njavax.cache.CacheException: A Cache named &quot;cache-name&quot; already exists.\n</code></pre>\n<p>How can the configuration of the test be fixed?\nOr how can I change the property source and don't get such errors?</p>\n<p>p.s. I use cache from Hibernate, but I don't think that it is a problem.</p>\n"},{"tags":["java","netbeans","lombok"],"answers":[{"tags":[],"owner":{"account_id":27495287,"reputation":26,"user_id":20979896,"display_name":"Peruri Rahul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673426751,"creation_date":1673426151,"answer_id":75080227,"question_id":75024678,"body_markdown":"If NetBeans 16 is a running version without any bugs it will support the Lombok plugin. In NetBeans IDE use the Lombok Plugin for Maven this way,  just include the dependency in your project POM.xml file and the plugin automatically applies the required configurations. Add the following dependency and check once:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t&lt;optional&gt;true&lt;/optional&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Can Lombok be configured with NetBeans 16?","body":"<p>If NetBeans 16 is a running version without any bugs it will support the Lombok plugin. In NetBeans IDE use the Lombok Plugin for Maven this way,  just include the dependency in your project POM.xml file and the plugin automatically applies the required configurations. Add the following dependency and check once:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":328884,"reputation":460,"user_id":652078,"accept_rate":73,"display_name":"sairn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673426867,"creation_date":1672955094,"question_id":75024678,"body_markdown":"Does NetBeans 16 support Lombok? Or, do I need to drop down to an early version of NetBeans in order to use it? I have a Maven Spring Boot project (Java 11) that will require Lombok support. So, far, the instructions I&#39;ve come across for adding Lombok support to NetBeans do not appear to apply to NetBeans 16.\r\n\r\n...so far, I&#39;ve seen\r\n\r\n***(1)*** \r\n\r\n&gt; a. Download the lombok.jar file and save it on your system. \\\r\n&gt; b. Right-click the TestAnn project’s node and choose Properties. \\\r\n&gt; c. Select the Libraries category in the Project Properties dialog. \\\r\n&gt; d. Click Add JAR/Folder in the Compile tab and locate the lombok.jar file that you downloaded\r\n\r\nand...\r\n\r\n***(2)***\r\n\r\n&gt; a. Add lombok.jar to the project libraries. \\\r\n&gt; b. In the project properties, in the section Build – Compiling, check the &#39;Enable Annotation Processing in Editor&#39; checkbox.\r\n\r\nNeither of the above instructions appear to apply to what I now see in NetBeans 16 menus or context menus\r\n\r\nDoes NetBeans 16 IDE support Lombok? If it does, then how is the lombok.jar applied/installed?\r\n","title":"Can Lombok be configured with NetBeans 16?","body":"<p>Does NetBeans 16 support Lombok? Or, do I need to drop down to an early version of NetBeans in order to use it? I have a Maven Spring Boot project (Java 11) that will require Lombok support. So, far, the instructions I've come across for adding Lombok support to NetBeans do not appear to apply to NetBeans 16.</p>\n<p>...so far, I've seen</p>\n<p><em><strong>(1)</strong></em></p>\n<blockquote>\n<p>a. Download the lombok.jar file and save it on your system. <br />\nb. Right-click the TestAnn project’s node and choose Properties. <br />\nc. Select the Libraries category in the Project Properties dialog. <br />\nd. Click Add JAR/Folder in the Compile tab and locate the lombok.jar file that you downloaded</p>\n</blockquote>\n<p>and...</p>\n<p><em><strong>(2)</strong></em></p>\n<blockquote>\n<p>a. Add lombok.jar to the project libraries. <br />\nb. In the project properties, in the section Build – Compiling, check the 'Enable Annotation Processing in Editor' checkbox.</p>\n</blockquote>\n<p>Neither of the above instructions appear to apply to what I now see in NetBeans 16 menus or context menus</p>\n<p>Does NetBeans 16 IDE support Lombok? If it does, then how is the lombok.jar applied/installed?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":958637,"reputation":1609,"user_id":983447,"accept_rate":61,"display_name":"user983447"},"score":0,"creation_date":1673415851,"post_id":75078728,"comment_id":132491181,"body_markdown":"@experiment unit 1998X : I don&#39;t understand you.","body":"@experiment unit 1998X : I don&#39;t understand you."},{"owner":{"display_name":"user19443549"},"score":0,"creation_date":1673416236,"post_id":75078728,"comment_id":132491255,"body_markdown":"You must see this before asking question - https://stackoverflow.com/help/how-to-ask your question isn&#39;t telling what is your actual problem, what you want to achieve. If you change your g method to this - g(Class&lt;?&gt; typeClass), it will work but you must know where to use ? and T and that all depends on requirement.","body":"You must see this before asking question - <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> your question isn&#39;t telling what is your actual problem, what you want to achieve. If you change your g method to this - g(Class&lt;?&gt; typeClass), it will work but you must know where to use ? and T and that all depends on requirement."}],"answers":[{"tags":[],"owner":{"account_id":958637,"reputation":1609,"user_id":983447,"accept_rate":61,"display_name":"user983447"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673426752,"creation_date":1673421050,"answer_id":75079421,"question_id":75078728,"body_markdown":"The problem here is that in order to call g() we must have an object of type ```Class&lt;Optional&lt;Integer&gt;&gt;```. We can get this object in this way, for instance:\r\n    \r\n    x = g((Class&lt;Optional&lt;Integer&gt;&gt;) Optional.empty().getClass());\r\n\r\nAnd this is a solution of the problem.","title":"MyClass.class if MyClass is generic","body":"<p>The problem here is that in order to call g() we must have an object of type <code>Class&lt;Optional&lt;Integer&gt;&gt;</code>. We can get this object in this way, for instance:</p>\n<pre><code>x = g((Class&lt;Optional&lt;Integer&gt;&gt;) Optional.empty().getClass());\n</code></pre>\n<p>And this is a solution of the problem.</p>\n"}],"owner":{"account_id":958637,"reputation":1609,"user_id":983447,"accept_rate":61,"display_name":"user983447"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673426752,"creation_date":1673415522,"question_id":75078728,"body_markdown":"I have a piece of code which does not compile:\r\n\r\n\timport java.util.Optional;\r\n\r\n\tpublic class Test {\r\n\r\n\t  private &lt;T&gt; Optional&lt;T&gt; g(\r\n\t\t  Class&lt;T&gt; typeClass) {\r\n\t\tthrow new RuntimeException(&quot;???&quot;);\r\n\t  }\r\n\r\n\t  private void f() {\r\n\t\tOptional&lt;Optional&lt;Integer&gt;&gt; x;\r\n\t\tx = g(Optional.class);\r\n\t  }\r\n\t}\r\n\r\nCompiler says that g(Optional.class) is wrong, because:\r\n\r\n```incompatible types: inference variable T has incompatible equality constraints Optional&lt;Integer&gt;,Optional```\r\n\r\nI alse tried passing ```Optional&lt;Integer&gt;.class```, but it also does not compile - as far as I understand, this is an illegal syntax.\r\n\r\nSo, what argument should I pass to g() so this example compiles?","title":"MyClass.class if MyClass is generic","body":"<p>I have a piece of code which does not compile:</p>\n<pre><code>import java.util.Optional;\n\npublic class Test {\n\n  private &lt;T&gt; Optional&lt;T&gt; g(\n      Class&lt;T&gt; typeClass) {\n    throw new RuntimeException(&quot;???&quot;);\n  }\n\n  private void f() {\n    Optional&lt;Optional&lt;Integer&gt;&gt; x;\n    x = g(Optional.class);\n  }\n}\n</code></pre>\n<p>Compiler says that g(Optional.class) is wrong, because:</p>\n<p><code>incompatible types: inference variable T has incompatible equality constraints Optional&lt;Integer&gt;,Optional</code></p>\n<p>I alse tried passing <code>Optional&lt;Integer&gt;.class</code>, but it also does not compile - as far as I understand, this is an illegal syntax.</p>\n<p>So, what argument should I pass to g() so this example compiles?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1470978876,"post_id":38910356,"comment_id":65178493,"body_markdown":"Well, you would start with writing code that reads strings from a text file. Or what exactly is your question?","body":"Well, you would start with writing code that reads strings from a text file. Or what exactly is your question?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1470978877,"post_id":38910356,"comment_id":65178495,"body_markdown":"You start by opening the file and reading it line-by-line using `BufferedReader`. Or simpler than that: You start by writing some code. *Then*, if you get stumped, you show us the code you have, and a description of the *specific* problem you have with the code.","body":"You start by opening the file and reading it line-by-line using <code>BufferedReader</code>. Or simpler than that: You start by writing some code. <i>Then</i>, if you get stumped, you show us the code you have, and a description of the <i>specific</i> problem you have with the code."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1470979039,"post_id":38910356,"comment_id":65178548,"body_markdown":"I&#39;m voting to close this question as off-topic because it is a code-writing request with no attempt made by the question author.","body":"I&#39;m voting to close this question as off-topic because it is a code-writing request with no attempt made by the question author."},{"owner":{"account_id":6967171,"reputation":199,"user_id":5344750,"accept_rate":79,"display_name":"Abrar Ahamed"},"score":0,"creation_date":1470980410,"post_id":38910356,"comment_id":65179015,"body_markdown":"I have written  code to read text file line by line .my question is how can read all the lines from line starting prefix 6220 to next line of 6220 as record.","body":"I have written  code to read text file line by line .my question is how can read all the lines from line starting prefix 6220 to next line of 6220 as record."},{"owner":{"account_id":6967171,"reputation":199,"user_id":5344750,"accept_rate":79,"display_name":"Abrar Ahamed"},"score":0,"creation_date":1470980859,"post_id":38910356,"comment_id":65179186,"body_markdown":"@Andreas i have code to read text file line by line but dont know to read lines as record","body":"@Andreas i have code to read text file line by line but dont know to read lines as record"},{"owner":{"account_id":6967171,"reputation":199,"user_id":5344750,"accept_rate":79,"display_name":"Abrar Ahamed"},"score":0,"creation_date":1470980908,"post_id":38910356,"comment_id":65179210,"body_markdown":"@GhostCat i have code to read the text file my question is how to read all the lines between starting with prefix 6220 to the next line starting with 6220. and process the lines as one record","body":"@GhostCat i have code to read the text file my question is how to read all the lines between starting with prefix 6220 to the next line starting with 6220. and process the lines as one record"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1470984413,"post_id":38910356,"comment_id":65180618,"body_markdown":"Hint: you expect us to hep you. So you please spend some time and format your code in a decent manner. You know, &quot;edit&quot; has a preview function that you can use to make sure that you are not posting messy stuff.","body":"Hint: you expect us to hep you. So you please spend some time and format your code in a decent manner. You know, &quot;edit&quot; has a preview function that you can use to make sure that you are not posting messy stuff."}],"answers":[{"comments":[{"owner":{"account_id":6967171,"reputation":199,"user_id":5344750,"accept_rate":79,"display_name":"Abrar Ahamed"},"score":0,"creation_date":1470985294,"post_id":38911435,"comment_id":65181076,"body_markdown":"Thanks for the code i will work on it. for your questions I think the way i framed the question is confusing i will try my best to make it clear.","body":"Thanks for the code i will work on it. for your questions I think the way i framed the question is confusing i will try my best to make it clear."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1470986017,"post_id":38911435,"comment_id":65181455,"body_markdown":"You are welcome. Feel free to accept my answer if it helped you to get to your goal.","body":"You are welcome. Feel free to accept my answer if it helped you to get to your goal."},{"owner":{"account_id":6967171,"reputation":199,"user_id":5344750,"accept_rate":79,"display_name":"Abrar Ahamed"},"score":0,"creation_date":1471231283,"post_id":38911435,"comment_id":65252747,"body_markdown":"I have achieved my goal using your code as base., Thank you very much for throwing the idea. I have accepted your answer","body":"I have achieved my goal using your code as base., Thank you very much for throwing the idea. I have accepted your answer"}],"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1470984176,"creation_date":1470983784,"answer_id":38911435,"question_id":38910356,"body_markdown":"Solving problems is typically about creating helpful abstractions. You are still at a point where you suppose you have to things &quot;low level&quot;: your code reads a line from a file; and right there, you start processing it. \r\n\r\nSo, lets step back and try to get on &quot;higher ground&quot;:\r\n\r\nFirst of all, do all &quot;interesting&quot; lines start with 6220? Or is the point that these lines have a specific format; that tells you that a new record begins? You see, that is very important; because if the later is true, you dont look for lines starting with 6220; but for lines that have the format of &quot;record begins here&quot; resp. &quot;record ends here&quot;.\r\n\r\nThe next question is: what should happen to **other** lines?! Should they be ignored; or do you have to do other processing?\r\n\r\nThen: is memory a constraint here? Meaning: would it be a good idea to simply read the complete file; and keep it in memory before doing any processing? Or is this a really large file; so large, that within your environment you should better not read the whole thing into memory?\r\n\r\nYou see, your question is lacking all this information; and seriously: things would get out of proportion if you tried to address all of that i a single question (or answer that is).\r\n\r\nBut let me give you some code to get started.\r\n\r\n    // before your loop starts\r\n    boolean currentlyParsingRecord = false;\r\n    boolean List&lt;String&gt; rawRecordLines = new ArrayList&lt;&gt;();\r\n\r\n    // within your loop\r\n    String line = scanner.nextLine();\r\n    if (currentlyParsingRecord) {\r\n      if (line.startsWith(&quot;6220)) { \r\n        currentlyParsingRecord = false;\r\n      }\r\n      rawRecordLines.add(line);\r\n    } else {\r\n      if (line.startsWith(&quot;6220)) { \r\n        currentlyParsingRecord = true;\r\n        rawRecordLines.add(line);\r\n        // and now, maybe you are calling a method like\r\n        processRecordLines(rawRecordLines);\r\n        // and then you clear your &quot;buffer&quot;\r\n        rawRecordLines.clear();\r\n      }\r\n    }\r\n\r\nThe point is: you have to somehow **collect** the lines that belong together. I am using a simple list here; and then you just pass that list around in order to process the data for that one record (and of course; you shouldn&#39;t forget about clearing that &quot;buffer&quot;; as you might start collecting the next one). Please note: of course this is not the final solution; it should only give you an idea how to go on from here. Such things can actually be pretty complicated to get right. And, you see; actually that is still a very &quot;low-level&quot; implementation; so there is a lot of room for improvement &quot;OO design wise&quot;.\r\n\r\nHope that helps. But as said: before you further engage in programming; you better clarify your **requirements**. You should sit down; and talk to the people around you; to really understand how/what to process within that file. If you don&#39;t do that; chances are pretty high that whatever you will implement today won&#39;t be good enough any more tomorrow.\r\n","title":"Reading multiple lines from text file based on the starting prefix as record and then process it","body":"<p>Solving problems is typically about creating helpful abstractions. You are still at a point where you suppose you have to things \"low level\": your code reads a line from a file; and right there, you start processing it. </p>\n\n<p>So, lets step back and try to get on \"higher ground\":</p>\n\n<p>First of all, do all \"interesting\" lines start with 6220? Or is the point that these lines have a specific format; that tells you that a new record begins? You see, that is very important; because if the later is true, you dont look for lines starting with 6220; but for lines that have the format of \"record begins here\" resp. \"record ends here\".</p>\n\n<p>The next question is: what should happen to <strong>other</strong> lines?! Should they be ignored; or do you have to do other processing?</p>\n\n<p>Then: is memory a constraint here? Meaning: would it be a good idea to simply read the complete file; and keep it in memory before doing any processing? Or is this a really large file; so large, that within your environment you should better not read the whole thing into memory?</p>\n\n<p>You see, your question is lacking all this information; and seriously: things would get out of proportion if you tried to address all of that i a single question (or answer that is).</p>\n\n<p>But let me give you some code to get started.</p>\n\n<pre><code>// before your loop starts\nboolean currentlyParsingRecord = false;\nboolean List&lt;String&gt; rawRecordLines = new ArrayList&lt;&gt;();\n\n// within your loop\nString line = scanner.nextLine();\nif (currentlyParsingRecord) {\n  if (line.startsWith(\"6220)) { \n    currentlyParsingRecord = false;\n  }\n  rawRecordLines.add(line);\n} else {\n  if (line.startsWith(\"6220)) { \n    currentlyParsingRecord = true;\n    rawRecordLines.add(line);\n    // and now, maybe you are calling a method like\n    processRecordLines(rawRecordLines);\n    // and then you clear your \"buffer\"\n    rawRecordLines.clear();\n  }\n}\n</code></pre>\n\n<p>The point is: you have to somehow <strong>collect</strong> the lines that belong together. I am using a simple list here; and then you just pass that list around in order to process the data for that one record (and of course; you shouldn't forget about clearing that \"buffer\"; as you might start collecting the next one). Please note: of course this is not the final solution; it should only give you an idea how to go on from here. Such things can actually be pretty complicated to get right. And, you see; actually that is still a very \"low-level\" implementation; so there is a lot of room for improvement \"OO design wise\".</p>\n\n<p>Hope that helps. But as said: before you further engage in programming; you better clarify your <strong>requirements</strong>. You should sit down; and talk to the people around you; to really understand how/what to process within that file. If you don't do that; chances are pretty high that whatever you will implement today won't be good enough any more tomorrow.</p>\n"},{"tags":[],"owner":{"account_id":34247,"reputation":1973,"user_id":96617,"accept_rate":78,"display_name":"Lluis Martinez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673426616,"creation_date":1673426616,"answer_id":75080314,"question_id":38910356,"body_markdown":"You can read the lines with a Reader and filter them with a lambda, like this:\r\n\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(stream, encoding));\r\n    return reader.lines().filter(line -&gt; line.startsWith(&quot;6220 &quot;)).collect(Collectors.toList());\r\n\r\nThen process the list of lines accordingly.\r\n","title":"Reading multiple lines from text file based on the starting prefix as record and then process it","body":"<p>You can read the lines with a Reader and filter them with a lambda, like this:</p>\n<pre><code>BufferedReader reader = new BufferedReader(new InputStreamReader(stream, encoding));\nreturn reader.lines().filter(line -&gt; line.startsWith(&quot;6220 &quot;)).collect(Collectors.toList());\n</code></pre>\n<p>Then process the list of lines accordingly.</p>\n"}],"owner":{"account_id":6967171,"reputation":199,"user_id":5344750,"accept_rate":79,"display_name":"Abrar Ahamed"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":38911435,"answer_count":2,"score":0,"last_activity_date":1673426616,"creation_date":1470978667,"question_id":38910356,"body_markdown":"I have text file as below \r\n\r\n    6200MIGS Draft Capture              001527160719256                                                                                                                                                                                                             \r\n    622001004987654321098769    2030000000002385250000000000000000000000000719024031629498071912403119100719301201208620112629498      00QFCBA003353109297315583010   036000000190 100         000000    SHOEBRIDGE/DANIEL T MR       VI50 0818950138744  600110190 \r\n    6221QANTAS AIR                                                         AUSTRALIA       036             T                                                                                                                                                        \r\n    6223       0000000000000000000                                                                                                                                                                                                                                  \r\n    6229SHOEBRIDGE/DANIEL T MR                           0818950138744  QF  YNOGVJ                           15022602300045                                        -00000238525000000000000000000000000005                                                          \r\n    62301702281700BNE            MEL  QF  H XHLFEU           631                                000000000000000000000000000000000000                                                                                                                                \r\n    62311702282335MEL            DXB  QF  H XHLFEU             9                                000000000000000000000000000000000000                                                                                                                                \r\n    62321703011450DXB            LYS  QF  H OHLFEU          8081                                000000000000000000000000000000000000                                                                                                                                \r\n    62331703082115CDG            DXB  QF  O XOLREU1         8076 0818950138745                  000000000000000000000000000000000000                                                                                                                                \r\n    62341703091025DXB            BNE  QF  O  OLREU1         8434 0818950138745                  000000000000000000000000000000000000                                                                                                                                \r\n    622001005123456789012346    2030000000000575650000000000000000000000000719024031629499071912403117080719301201208620112629499      00QFCBA003353109297315583000   036000000190 100         000000    DETTMAN/GLEN MR              CA50 0818950138719  600110190 \r\n    6221QANTAS AIR                                                         AUSTRALIA       036             T                                                                                                                                                        \r\n    6222         0719           000                                                                                                                                                                                                                                 \r\n    6229DETTMAN/GLEN MR                                  0818950138719  QF  YYUGBM                           15022602300045                                        -00000057565000000000000000000000000002                                                          \r\n    62301703151800MEL            SYD  QF  L OLPTSCN01        458                                000000000000000000000000000000000000                                                                                                                                \r\n    62311703251830SYD            MEL  QF  M  MPTSCN01        463                                000000000000000000000000000000000000   \r\n\r\n             \r\nI want to read all lines starting with 6220 to the next 6220  in my case the lines are 2- 9 which i will call as a record. then i want to process each each line in the record based on the starting prefix for example if it starts with 6223 i will extract data what i need.\r\nmy question is how can i read the lines as record and then process it individually.\r\n\r\nwill mark and reset will be helpful .thanks in advance.The code which i have so far is \r\n\r\n        File infile = new File(&quot;C:\\\\Data\\\\Everyday work\\\\tmp\\\\CBRF.GEN4_FILE.20160719.txt&quot;);\r\n        File outfile = new File(&quot;C:\\\\Data\\\\Everyday work\\\\tmp\\\\CBRF.GEN4_FILE.20160719.txt-DCFOUT.txt&quot;);\r\n        FileReader reader;\r\n        Scanner scanner;\r\n        public void output() {\r\n    \r\n            try {\r\n    \r\n                FileWriter writer = new FileWriter(outfile);\r\n                reader = new FileReader(infile);\r\n                BufferedReader br = new BufferedReader(reader);\r\n                String str;\r\n                BufferedWriter bw = new BufferedWriter(writer);\r\n                bw.flush();     \r\n                while ((str = br.readLine() )!= null) {\r\n    \r\n                  \r\n                     scanner = new Scanner(str);\r\n                    \r\n                    String line = scanner.nextLine();\r\n                  if (line.startsWith(&quot;6220&quot;, 0)) {\r\n    \r\n                        recordtype = line.substring(0, 4);\r\n                        msgrtypId = line.substring(4, 8);\r\n    \r\n                    }     \r\n              }   \r\n       }   \r\n\r\nhere i can read line by line what i am trying to achieve is to read lines between line prefix 6220 and the next line prefix 6220 as a record.                                                                 \r\n","title":"Reading multiple lines from text file based on the starting prefix as record and then process it","body":"<p>I have text file as below </p>\n\n<pre><code>6200MIGS Draft Capture              001527160719256                                                                                                                                                                                                             \n622001004987654321098769    2030000000002385250000000000000000000000000719024031629498071912403119100719301201208620112629498      00QFCBA003353109297315583010   036000000190 100         000000    SHOEBRIDGE/DANIEL T MR       VI50 0818950138744  600110190 \n6221QANTAS AIR                                                         AUSTRALIA       036             T                                                                                                                                                        \n6223       0000000000000000000                                                                                                                                                                                                                                  \n6229SHOEBRIDGE/DANIEL T MR                           0818950138744  QF  YNOGVJ                           15022602300045                                        -00000238525000000000000000000000000005                                                          \n62301702281700BNE            MEL  QF  H XHLFEU           631                                000000000000000000000000000000000000                                                                                                                                \n62311702282335MEL            DXB  QF  H XHLFEU             9                                000000000000000000000000000000000000                                                                                                                                \n62321703011450DXB            LYS  QF  H OHLFEU          8081                                000000000000000000000000000000000000                                                                                                                                \n62331703082115CDG            DXB  QF  O XOLREU1         8076 0818950138745                  000000000000000000000000000000000000                                                                                                                                \n62341703091025DXB            BNE  QF  O  OLREU1         8434 0818950138745                  000000000000000000000000000000000000                                                                                                                                \n622001005123456789012346    2030000000000575650000000000000000000000000719024031629499071912403117080719301201208620112629499      00QFCBA003353109297315583000   036000000190 100         000000    DETTMAN/GLEN MR              CA50 0818950138719  600110190 \n6221QANTAS AIR                                                         AUSTRALIA       036             T                                                                                                                                                        \n6222         0719           000                                                                                                                                                                                                                                 \n6229DETTMAN/GLEN MR                                  0818950138719  QF  YYUGBM                           15022602300045                                        -00000057565000000000000000000000000002                                                          \n62301703151800MEL            SYD  QF  L OLPTSCN01        458                                000000000000000000000000000000000000                                                                                                                                \n62311703251830SYD            MEL  QF  M  MPTSCN01        463                                000000000000000000000000000000000000   \n</code></pre>\n\n<p>I want to read all lines starting with 6220 to the next 6220  in my case the lines are 2- 9 which i will call as a record. then i want to process each each line in the record based on the starting prefix for example if it starts with 6223 i will extract data what i need.\nmy question is how can i read the lines as record and then process it individually.</p>\n\n<p>will mark and reset will be helpful .thanks in advance.The code which i have so far is </p>\n\n<pre><code>    File infile = new File(\"C:\\\\Data\\\\Everyday work\\\\tmp\\\\CBRF.GEN4_FILE.20160719.txt\");\n    File outfile = new File(\"C:\\\\Data\\\\Everyday work\\\\tmp\\\\CBRF.GEN4_FILE.20160719.txt-DCFOUT.txt\");\n    FileReader reader;\n    Scanner scanner;\n    public void output() {\n\n        try {\n\n            FileWriter writer = new FileWriter(outfile);\n            reader = new FileReader(infile);\n            BufferedReader br = new BufferedReader(reader);\n            String str;\n            BufferedWriter bw = new BufferedWriter(writer);\n            bw.flush();     \n            while ((str = br.readLine() )!= null) {\n\n\n                 scanner = new Scanner(str);\n\n                String line = scanner.nextLine();\n              if (line.startsWith(\"6220\", 0)) {\n\n                    recordtype = line.substring(0, 4);\n                    msgrtypId = line.substring(4, 8);\n\n                }     \n          }   \n   }   \n</code></pre>\n\n<p>here i can read line by line what i am trying to achieve is to read lines between line prefix 6220 and the next line prefix 6220 as a record.                                                                 </p>\n"},{"tags":["java","arrays","performance"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1673427491,"post_id":75080292,"comment_id":132494233,"body_markdown":"I don&#39;t know of any such comparisons but looking at the source both approaches seem to be very similar in terms performance. Memory probably depends since `List.of(E ...)` creates a new array so if you keep the original one around you have 2 of them as opposed to the 1 reused by `Arrays.asList(...)`. Aside from that and the checks `List.of(...)` is doing it seems the major difference is more on the immutability side of things so I&#39;d base the decision on that. - Summarizing I&#39;d say I can&#39;t see any reason to switch working code to `List.of(...)`.","body":"I don&#39;t know of any such comparisons but looking at the source both approaches seem to be very similar in terms performance. Memory probably depends since <code>List.of(E ...)</code> creates a new array so if you keep the original one around you have 2 of them as opposed to the 1 reused by <code>Arrays.asList(...)</code>. Aside from that and the checks <code>List.of(...)</code> is doing it seems the major difference is more on the immutability side of things so I&#39;d base the decision on that. - Summarizing I&#39;d say I can&#39;t see any reason to switch working code to <code>List.of(...)</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1673429864,"post_id":75080292,"comment_id":132495066,"body_markdown":"Keep in mind that the programmers writing an implementation of Java are free to change their underlying implementation of the `List.of`/`List.copyOf` methods. The performance you see today may change in future versions.","body":"Keep in mind that the programmers writing an implementation of Java are free to change their underlying implementation of the <code>List.of</code>/<code>List.copyOf</code> methods. The performance you see today may change in future versions."}],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673426511,"creation_date":1673426511,"question_id":75080292,"body_markdown":"We have code that is heavily using `Arrays.asList` and it works perfectly fine. The implementation of the `asList` will provide a view on the array and will simply wrap the existing array. \r\n\r\nNow with newer Java versions (as of JDK9) we also have the `List.of` variants to create a `List` based on an array. Depending on the size of the array it will do different things. We mainly use arrays of size 3 and larger. It will create also a view on an array, but it will construct a new array for this and check each individual element for `null`. \r\n\r\nNow I was wondering between the performance and memory differences in both approaches. Now before writing my own benchmarks with JMH I was wondering if such benchmarks might already exist or not, or if someone already did some testing. ","title":"Performance/Memory differences for Arrays.asList vs. List.of","body":"<p>We have code that is heavily using <code>Arrays.asList</code> and it works perfectly fine. The implementation of the <code>asList</code> will provide a view on the array and will simply wrap the existing array.</p>\n<p>Now with newer Java versions (as of JDK9) we also have the <code>List.of</code> variants to create a <code>List</code> based on an array. Depending on the size of the array it will do different things. We mainly use arrays of size 3 and larger. It will create also a view on an array, but it will construct a new array for this and check each individual element for <code>null</code>.</p>\n<p>Now I was wondering between the performance and memory differences in both approaches. Now before writing my own benchmarks with JMH I was wondering if such benchmarks might already exist or not, or if someone already did some testing.</p>\n"},{"tags":["java","logging","tomcat9","probe"],"answers":[{"tags":[],"owner":{"account_id":27490002,"reputation":1,"user_id":20975551,"display_name":"Ghassen Weslati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673426456,"creation_date":1673426456,"answer_id":75080285,"question_id":75072562,"body_markdown":"After going through tomcat files, i found the stdout.properties file that contains the names of log files that can be monitored by probe9. The file is in &quot;apache-tomcat-9.0.68/webapps/probe9/WEB-INF/classes/stdout.properties&quot;.\r\njust added the name of my log file. WOrked like a charm! ","title":"Adding a logfile to probe monitoring list in tomcat 9","body":"<p>After going through tomcat files, i found the stdout.properties file that contains the names of log files that can be monitored by probe9. The file is in &quot;apache-tomcat-9.0.68/webapps/probe9/WEB-INF/classes/stdout.properties&quot;.\njust added the name of my log file. WOrked like a charm!</p>\n"}],"owner":{"account_id":27490002,"reputation":1,"user_id":20975551,"display_name":"Ghassen Weslati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75080285,"answer_count":1,"score":0,"last_activity_date":1673426456,"creation_date":1673366079,"question_id":75072562,"body_markdown":"I have a project that uses log4j2 to create log files. Log files are created in the log directory in tomcat. I deployed the project on tomcat 9. I want to add the log files to probe9 interface (http://localhost:8080/probe9/logs/list.htm). \r\n\r\nI looked for a way to do it from the interface but didn&#39;t find any. CUrrently i&#39;m looking to add the log4j2.xml to the tomcat9 lib. Is there a way to do so ? ","title":"Adding a logfile to probe monitoring list in tomcat 9","body":"<p>I have a project that uses log4j2 to create log files. Log files are created in the log directory in tomcat. I deployed the project on tomcat 9. I want to add the log files to probe9 interface (http://localhost:8080/probe9/logs/list.htm).</p>\n<p>I looked for a way to do it from the interface but didn't find any. CUrrently i'm looking to add the log4j2.xml to the tomcat9 lib. Is there a way to do so ?</p>\n"},{"tags":["java","maven","spring-boot","h2"],"answers":[{"comments":[{"owner":{"account_id":304234,"reputation":32207,"user_id":613628,"accept_rate":100,"display_name":"Stephane Nicoll"},"score":1,"creation_date":1554906444,"post_id":38151554,"comment_id":97923654,"body_markdown":"If you import a class from the H2 driver, yes it should be compile. But Spring Boot can also expose automatically the H2 web console so that you don&#39;t have to do all that stuff, review [the reference guide](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-sql-h2-console) for more details.","body":"If you import a class from the H2 driver, yes it should be compile. But Spring Boot can also expose automatically the H2 web console so that you don&#39;t have to do all that stuff, review <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-sql-h2-console\" rel=\"nofollow noreferrer\">the reference guide</a> for more details."}],"tags":[],"owner":{"account_id":1317274,"reputation":1240,"user_id":1263867,"accept_rate":100,"display_name":"Koos Gadellaa"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1467396392,"creation_date":1467396392,"answer_id":38151554,"question_id":38151447,"body_markdown":"Shouldn&#39;t h2 be a `compile` (instead of `runtime`) dependency?\r\n\r\n","title":"Cannot import org.h2.server.web.WebServlet","body":"<p>Shouldn't h2 be a <code>compile</code> (instead of <code>runtime</code>) dependency?</p>\n"},{"comments":[{"owner":{"account_id":3018719,"reputation":416,"user_id":2560234,"accept_rate":50,"display_name":"jste89"},"score":0,"creation_date":1555145589,"post_id":39309942,"comment_id":98014660,"body_markdown":"THANKS! I&#39;ve just overwritten the JAR file downloaded from central with the version from the H2 website and it&#39;s now working.","body":"THANKS! I&#39;ve just overwritten the JAR file downloaded from central with the version from the H2 website and it&#39;s now working."}],"tags":[],"owner":{"account_id":9128873,"reputation":121,"user_id":6791395,"display_name":"Doug"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1472926103,"creation_date":1472926103,"answer_id":39309942,"question_id":38151447,"body_markdown":"I had the same problem, probably running the same example. Had the correct maven pom.xml dependency but for some reason had to download the h2 driver jar directly from Maven.  Then the code above worked.  Taking away &quot;runtime&quot; element will default to compile.\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.h2database/h2 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.192&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Cannot import org.h2.server.web.WebServlet","body":"<p>I had the same problem, probably running the same example. Had the correct maven pom.xml dependency but for some reason had to download the h2 driver jar directly from Maven.  Then the code above worked.  Taking away \"runtime\" element will default to compile.</p>\n\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/com.h2database/h2 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;version&gt;1.4.192&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1796398,"reputation":6836,"user_id":1635719,"accept_rate":0,"display_name":"olasammy"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1505812220,"creation_date":1505812220,"answer_id":46296337,"question_id":38151447,"body_markdown":"Just remove &lt;scope&gt;runtime&lt;/scope&gt; form your h2 dependency and everything will be fine","title":"Cannot import org.h2.server.web.WebServlet","body":"<p>Just remove runtime form your h2 dependency and everything will be fine</p>\n"},{"comments":[{"owner":{"account_id":1114178,"reputation":19029,"user_id":1103953,"accept_rate":57,"display_name":"Rotem jackoby"},"score":0,"creation_date":1554934405,"post_id":55621596,"comment_id":97937015,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference. Link-only answers can become invalid if the linked page changes.","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference. Link-only answers can become invalid if the linked page changes."},{"owner":{"account_id":8123154,"reputation":57,"user_id":6119101,"accept_rate":50,"display_name":"cosmir17"},"score":0,"creation_date":1554934946,"post_id":55621596,"comment_id":97937213,"body_markdown":"No worries. It&#39;s a Github link of an enterprise organisation. I was hoping that there will be people who can clarify better than me.","body":"No worries. It&#39;s a Github link of an enterprise organisation. I was hoping that there will be people who can clarify better than me."}],"tags":[],"owner":{"account_id":8123154,"reputation":57,"user_id":6119101,"accept_rate":50,"display_name":"cosmir17"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554931923,"creation_date":1554931923,"answer_id":55621596,"question_id":38151447,"body_markdown":"FYI, &#39;runtime&#39; scope is default by design. The reason is mentioned in the following Github page. (I leave it to you to decide)\r\nhttps://github.com/spring-projects/spring-boot/issues/16509","title":"Cannot import org.h2.server.web.WebServlet","body":"<p>FYI, 'runtime' scope is default by design. The reason is mentioned in the following Github page. (I leave it to you to decide)\n<a href=\"https://github.com/spring-projects/spring-boot/issues/16509\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/16509</a></p>\n"},{"comments":[{"owner":{"account_id":3018196,"reputation":1330,"user_id":2559785,"accept_rate":67,"display_name":"studioj"},"score":1,"creation_date":1608307381,"post_id":65359986,"comment_id":115551580,"body_markdown":"great you found a solution. It would be alot clearer to the person asking the question if you could explain the answer a bit more. In this way the solution would also be more understandable for other people ending up over here. So thx and welkcome to SO","body":"great you found a solution. It would be alot clearer to the person asking the question if you could explain the answer a bit more. In this way the solution would also be more understandable for other people ending up over here. So thx and welkcome to SO"}],"tags":[],"owner":{"account_id":18788613,"reputation":21,"user_id":13753604,"display_name":"user13753604"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608306581,"creation_date":1608306581,"answer_id":65359986,"question_id":38151447,"body_markdown":"\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.4.200&lt;/version&gt;\r\n\t\t    &lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;","title":"Cannot import org.h2.server.web.WebServlet","body":"<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;version&gt;1.4.200&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15183586,"reputation":33,"user_id":10956250,"display_name":"Soufiane D"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655460946,"creation_date":1655460946,"answer_id":72657802,"question_id":38151447,"body_markdown":"it&#39;s work for me \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n","title":"Cannot import org.h2.server.web.WebServlet","body":"<p>it's work for me</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":362548,"reputation":170,"user_id":705795,"accept_rate":15,"display_name":"yaniv"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673426341,"creation_date":1673426341,"answer_id":75080262,"question_id":38151447,"body_markdown":"My issue was \r\ncannot access javax.servlet.http.HttpServlet\r\n\r\ni managed to solve it by changing the parent version in pom.xml from 3.0.0 to 2.4.2\r\n\r\nhowever annotations @Entity and @Table stopped working \r\n\r\nso i had to switch from \r\nimport jakarta.persistence.*;\r\n\r\nto : \r\nimport javax.persistence.*;\r\n\r\nand now it is working again \r\n","title":"Cannot import org.h2.server.web.WebServlet","body":"<p>My issue was\ncannot access javax.servlet.http.HttpServlet</p>\n<p>i managed to solve it by changing the parent version in pom.xml from 3.0.0 to 2.4.2</p>\n<p>however annotations @Entity and @Table stopped working</p>\n<p>so i had to switch from\nimport jakarta.persistence.*;</p>\n<p>to :\nimport javax.persistence.*;</p>\n<p>and now it is working again</p>\n"}],"owner":{"account_id":1230199,"reputation":3804,"user_id":3128796,"accept_rate":46,"display_name":"asdfkjasdfjk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16332,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":38151554,"answer_count":7,"score":12,"last_activity_date":1673426341,"creation_date":1467396031,"question_id":38151447,"body_markdown":"I am trying to configure my spring boot application to use h2 console. I found some articles and all of them use webServlet. But I can not import the class although I have h2 dependency added in my pom.xml. I get this error message `can not resolve the symbol WebServlet`. My import line\r\n\r\n    import org.h2.server.web.WebServlet;\r\n\r\n\r\n  Below is my pom.xml\r\n\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.myfaces.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;myfaces-impl&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.6&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.myfaces.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;myfaces-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.6&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n                &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-embed-logging-juli&lt;/artifactId&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.0.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\r\n                &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\r\n                &lt;version&gt;5.1&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.primefaces.extensions&lt;/groupId&gt;\r\n                &lt;artifactId&gt;all-themes&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.8&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.ocpsoft.rewrite&lt;/groupId&gt;\r\n                &lt;artifactId&gt;rewrite-servlet&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.12.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n\r\n\r\nand my application.properties\r\n\r\n\r\n    spring.datasource.url=jdbc:h2:mem:AZ;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n\r\nand configuration\r\n\r\n    @Bean\r\n    public ServletRegistrationBean h2servletRegistration() {\r\n        ServletRegistrationBean registration = new ServletRegistrationBean(new WebServlet());\r\n        registration.addUrlMappings(&quot;/console/*&quot;);\r\n        return registration;\r\n    }\r\n\r\nLet me know what I am missing here. ","title":"Cannot import org.h2.server.web.WebServlet","body":"<p>I am trying to configure my spring boot application to use h2 console. I found some articles and all of them use webServlet. But I can not import the class although I have h2 dependency added in my pom.xml. I get this error message <code>can not resolve the symbol WebServlet</code>. My import line</p>\n\n<pre><code>import org.h2.server.web.WebServlet;\n</code></pre>\n\n<p>Below is my pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.myfaces.core&lt;/groupId&gt;\n            &lt;artifactId&gt;myfaces-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.2.6&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.myfaces.core&lt;/groupId&gt;\n            &lt;artifactId&gt;myfaces-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2.6&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-logging-juli&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\n            &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\n            &lt;version&gt;5.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.primefaces.extensions&lt;/groupId&gt;\n            &lt;artifactId&gt;all-themes&lt;/artifactId&gt;\n            &lt;version&gt;1.0.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.ocpsoft.rewrite&lt;/groupId&gt;\n            &lt;artifactId&gt;rewrite-servlet&lt;/artifactId&gt;\n            &lt;version&gt;2.0.12.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>and my application.properties</p>\n\n<pre><code>spring.datasource.url=jdbc:h2:mem:AZ;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n</code></pre>\n\n<p>and configuration</p>\n\n<pre><code>@Bean\npublic ServletRegistrationBean h2servletRegistration() {\n    ServletRegistrationBean registration = new ServletRegistrationBean(new WebServlet());\n    registration.addUrlMappings(\"/console/*\");\n    return registration;\n}\n</code></pre>\n\n<p>Let me know what I am missing here. </p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673433287,"post_id":75080250,"comment_id":132496250,"body_markdown":"What is the complete error message incl. log output...?","body":"What is the complete error message incl. log output...?"}],"owner":{"account_id":22883450,"reputation":129,"user_id":17024722,"display_name":"Ruchi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673426262,"creation_date":1673426262,"question_id":75080250,"body_markdown":"currently I’m moving my corporate Project from Java 11 to Java 17 and while updating my maven war plug-in from 3.3.1 to 3.3.2 I’m having this warning which is **invalid plug-in configuration manifest** which was working fine when the version was 3.3 .1 \r\n\r\nplease suggest what to do. \r\nMy maven version in pom is 3.8.1 and my war plugin after updating is 3.3.2. And jdk is 17 and in pom as well Java version is 17","title":"AddDefaultImplementarionEntries as True shows Invalid plugin configuration: manifest","body":"<p>currently I’m moving my corporate Project from Java 11 to Java 17 and while updating my maven war plug-in from 3.3.1 to 3.3.2 I’m having this warning which is <strong>invalid plug-in configuration manifest</strong> which was working fine when the version was 3.3 .1</p>\n<p>please suggest what to do.\nMy maven version in pom is 3.8.1 and my war plugin after updating is 3.3.2. And jdk is 17 and in pom as well Java version is 17</p>\n"},{"tags":["java","jpa","spring-data-jpa","jpql"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673437887,"post_id":75075989,"comment_id":132497974,"body_markdown":"Your query doesn&#39;t seem to be a native query.","body":"Your query doesn&#39;t seem to be a native query."},{"owner":{"account_id":10789629,"reputation":3,"user_id":7937595,"display_name":"Emin"},"score":0,"creation_date":1673439656,"post_id":75075989,"comment_id":132498491,"body_markdown":"@MarkRotteveel you&#39;re correct. I realized I didn&#39;t know what nativeQuery stands for and how I need to modify my query. I did some more research and fixed it.","body":"@MarkRotteveel you&#39;re correct. I realized I didn&#39;t know what nativeQuery stands for and how I need to modify my query. I did some more research and fixed it."}],"answers":[{"tags":[],"owner":{"account_id":10789629,"reputation":3,"user_id":7937595,"display_name":"Emin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673389823,"creation_date":1673389744,"answer_id":75076520,"question_id":75075989,"body_markdown":"Fixed the issue with these changes;\r\n\r\nReplaced &#39;smoke&#39; to &#39;Smoke&#39; (typo)\r\n\r\nRemoved &#39;nativeQuery = true&#39;\r\n\r\n```\r\n@Query(&quot;SELECT new com.eminyilmazz.smoketracker.dto.ActivityBasedQuantity(s.activity, SUM(s.quantity)) FROM Smoke s WHERE s.smokedDate BETWEEN :beginDate AND :endDate GROUP BY s.activity&quot;)\r\n    List&lt;ActivityBasedQuantity&gt; getTotalQuantityGroupedByActivityWithMinuteInterval(@Param(&quot;beginDate&quot;)LocalDateTime beginDate, @Param(&quot;endDate&quot;) LocalDateTime endDate);\r\n```","title":"JPQL Query with entity constructor","body":"<p>Fixed the issue with these changes;</p>\n<p>Replaced 'smoke' to 'Smoke' (typo)</p>\n<p>Removed 'nativeQuery = true'</p>\n<pre><code>@Query(&quot;SELECT new com.eminyilmazz.smoketracker.dto.ActivityBasedQuantity(s.activity, SUM(s.quantity)) FROM Smoke s WHERE s.smokedDate BETWEEN :beginDate AND :endDate GROUP BY s.activity&quot;)\n    List&lt;ActivityBasedQuantity&gt; getTotalQuantityGroupedByActivityWithMinuteInterval(@Param(&quot;beginDate&quot;)LocalDateTime beginDate, @Param(&quot;endDate&quot;) LocalDateTime endDate);\n</code></pre>\n"}],"owner":{"account_id":10789629,"reputation":3,"user_id":7937595,"display_name":"Emin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75076520,"answer_count":1,"score":0,"last_activity_date":1673426261,"creation_date":1673385622,"question_id":75075989,"body_markdown":"I&#39;m having trouble with building a query that groups &#39;Smoke&#39; entity by their &#39;activity&#39; column and sums &#39;quantity&#39; of them. \r\nQuery:\r\n```\r\n@Query(value = &quot;SELECT new com.eminyilmazz.smoketracker.dto.ActivityBasedQuantity(s.activity, SUM(s.quantity)) FROM smoke s WHERE s.smoked_date BETWEEN :beginDate AND :endDate GROUP BY s.activity&quot;, nativeQuery = true)\r\nList&lt;ActivityBasedQuantity&gt; getTotalQuantityGroupedByActivityWithMinuteInterval(@Param(&quot;beginDate&quot;)LocalDateTime beginDate, @Param(&quot;endDate&quot;) LocalDateTime endDate);\r\n```\r\nDTO:\r\n```\r\npublic class ActivityBasedQuantity {\r\n    private String activity;\r\n    private Long quantity;\r\n\r\n    public ActivityBasedQuantity(String activity, Long quantity) {\r\n        this.activity = activity;\r\n        this.quantity = quantity;\r\n    }\r\n```\r\n\r\nThe first line in the error:\r\n```\r\norg.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [SELECT new com.eminyilmazz.smoketracker.dto.ActivityBasedQuantity(s.activity, SUM(s.quantity)) FROM smoke s WHERE s.smoked_date BETWEEN ? AND ? GROUP BY s.activity]; SQL [n/a]\r\n\r\n```\r\n\r\nI&#39;ve tried removing &quot;nativeQuery = true&quot; that is suggested from [this stackoverflow question](https://stackoverflow.com/questions/49479705/jpql-constructor-expression-query-org-postgresql-util-psqlexception) but it throws an error that says spring bean factory and hibernate couldn&#39;t resolve &#39;smoke&#39; table and its attributes.","title":"JPQL Query with entity constructor","body":"<p>I'm having trouble with building a query that groups 'Smoke' entity by their 'activity' column and sums 'quantity' of them.\nQuery:</p>\n<pre><code>@Query(value = &quot;SELECT new com.eminyilmazz.smoketracker.dto.ActivityBasedQuantity(s.activity, SUM(s.quantity)) FROM smoke s WHERE s.smoked_date BETWEEN :beginDate AND :endDate GROUP BY s.activity&quot;, nativeQuery = true)\nList&lt;ActivityBasedQuantity&gt; getTotalQuantityGroupedByActivityWithMinuteInterval(@Param(&quot;beginDate&quot;)LocalDateTime beginDate, @Param(&quot;endDate&quot;) LocalDateTime endDate);\n</code></pre>\n<p>DTO:</p>\n<pre><code>public class ActivityBasedQuantity {\n    private String activity;\n    private Long quantity;\n\n    public ActivityBasedQuantity(String activity, Long quantity) {\n        this.activity = activity;\n        this.quantity = quantity;\n    }\n</code></pre>\n<p>The first line in the error:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [SELECT new com.eminyilmazz.smoketracker.dto.ActivityBasedQuantity(s.activity, SUM(s.quantity)) FROM smoke s WHERE s.smoked_date BETWEEN ? AND ? GROUP BY s.activity]; SQL [n/a]\n\n</code></pre>\n<p>I've tried removing &quot;nativeQuery = true&quot; that is suggested from <a href=\"https://stackoverflow.com/questions/49479705/jpql-constructor-expression-query-org-postgresql-util-psqlexception\">this stackoverflow question</a> but it throws an error that says spring bean factory and hibernate couldn't resolve 'smoke' table and its attributes.</p>\n"},{"tags":["javascript","java","operating-system","chromium"],"comments":[{"owner":{"account_id":356065,"reputation":64617,"user_id":695364,"display_name":"Scott Marcus"},"score":0,"creation_date":1592879011,"post_id":62526308,"comment_id":110575901,"body_markdown":"Not possible for security reasons. Imagine the malicious code you could write if it could.","body":"Not possible for security reasons. Imagine the malicious code you could write if it could."},{"owner":{"account_id":14751942,"reputation":21,"user_id":13724228,"display_name":"Den20"},"score":0,"creation_date":1592879208,"post_id":62526308,"comment_id":110575938,"body_markdown":"Okay, that makes sense.","body":"Okay, that makes sense."},{"owner":{"account_id":7715,"reputation":6607,"user_id":13468,"accept_rate":91,"display_name":"mlibby"},"score":0,"creation_date":1592879941,"post_id":62526308,"comment_id":110576060,"body_markdown":"It is possible if the Java program is executing on the machine with permissions to do what you want. Have the Java program run a web server that you can access from the browser with an address like `http://localhost:8080`. That would also get you way from needing a specific browser.","body":"It is possible if the Java program is executing on the machine with permissions to do what you want. Have the Java program run a web server that you can access from the browser with an address like <code>http:&#47;&#47;localhost:8080</code>. That would also get you way from needing a specific browser."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1592879972,"post_id":62526308,"comment_id":110576071,"body_markdown":"Maybe play with [Wasm](https://webassembly.org/). Note that it&#39;s still a virtual machine. Not a Java one though.","body":"Maybe play with <a href=\"https://webassembly.org/\" rel=\"nofollow noreferrer\">Wasm</a>. Note that it&#39;s still a virtual machine. Not a Java one though."},{"owner":{"account_id":14751942,"reputation":21,"user_id":13724228,"display_name":"Den20"},"score":0,"creation_date":1592880415,"post_id":62526308,"comment_id":110576159,"body_markdown":"Wasm looks good @ElliottFrisch","body":"Wasm looks good @ElliottFrisch"},{"owner":{"account_id":6131212,"reputation":3236,"user_id":4781312,"accept_rate":100,"display_name":"Asesh"},"score":2,"creation_date":1593227942,"post_id":62526308,"comment_id":110713249,"body_markdown":"Maybe you should look at native messaging host. You can communicate with extensions via your desktop application","body":"Maybe you should look at native messaging host. You can communicate with extensions via your desktop application"}],"answers":[{"tags":[],"owner":{"account_id":24043078,"reputation":3,"user_id":18022411,"display_name":"adrian3k"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673426055,"creation_date":1673119135,"answer_id":75043139,"question_id":62526308,"body_markdown":"**One approach** is to make a &#39;local proxy&#39; and listen on a specific port - so the browser part could talk with this port\r\n\r\n**Another approach** is to write a simple app that would open a local port and listen to it (and go from there with different solutions)\r\n\r\nedit:\r\nor just set up a &#39;local web server and communicate with it (and on the web server part run local scripts/commands)","title":"Communicate between browser extension and desktop app","body":"<p><strong>One approach</strong> is to make a 'local proxy' and listen on a specific port - so the browser part could talk with this port</p>\n<p><strong>Another approach</strong> is to write a simple app that would open a local port and listen to it (and go from there with different solutions)</p>\n<p>edit:\nor just set up a 'local web server and communicate with it (and on the web server part run local scripts/commands)</p>\n"},{"tags":[],"owner":{"account_id":11002106,"reputation":43,"user_id":8082395,"display_name":"Nafiul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673120412,"creation_date":1673120105,"answer_id":75043234,"question_id":62526308,"body_markdown":"You can use connectNative api [MDN link][1] \\\r\nChrome docs with example [native-messaging-client][2]\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime/connectNative\r\n  [2]: https://developer.chrome.com/docs/apps/nativeMessaging/#native-messaging-client","title":"Communicate between browser extension and desktop app","body":"<p>You can use connectNative api <a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime/connectNative\" rel=\"nofollow noreferrer\">MDN link</a> <br />\nChrome docs with example <a href=\"https://developer.chrome.com/docs/apps/nativeMessaging/#native-messaging-client\" rel=\"nofollow noreferrer\">native-messaging-client</a></p>\n"}],"owner":{"account_id":14751942,"reputation":21,"user_id":13724228,"display_name":"Den20"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":591,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1673426055,"creation_date":1592878890,"question_id":62526308,"body_markdown":"I&#39;m trying to create a chromium program that is both web-based and also has access to the OS. Kinda like a browser extension but also does things that regular applications do, like altering system settings. \r\n\r\nI&#39;m stuck on trying to figure out how the program, written in **Java**, will connect to the **JS** part of it to control the system or vice versa. What&#39;s the best approach to this?\r\n\r\nP.S. Fairly new programmer, so responses with external resources will be greatly appreciated.","title":"Communicate between browser extension and desktop app","body":"<p>I'm trying to create a chromium program that is both web-based and also has access to the OS. Kinda like a browser extension but also does things that regular applications do, like altering system settings.</p>\n<p>I'm stuck on trying to figure out how the program, written in <strong>Java</strong>, will connect to the <strong>JS</strong> part of it to control the system or vice versa. What's the best approach to this?</p>\n<p>P.S. Fairly new programmer, so responses with external resources will be greatly appreciated.</p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":3970181,"reputation":109,"user_id":3274968,"display_name":"Md Wahidul Azam"},"score":1,"creation_date":1673425858,"post_id":75080113,"comment_id":132493660,"body_markdown":"Try to use recursion. Or, you can also use while loop with a condition.","body":"Try to use recursion. Or, you can also use while loop with a condition."}],"answers":[{"tags":[],"owner":{"account_id":19600884,"reputation":55,"user_id":14345769,"display_name":"Siyabend &#214;zdemir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673425852,"creation_date":1673425852,"answer_id":75080175,"question_id":75080113,"body_markdown":"There are a few ways you could repeat the code above, depending on what you&#39;re trying to accomplish. One way would be to use a while loop that continues to execute the code as long as the user enters &quot;Y&quot;. Here&#39;s an example:\r\n\r\n```\r\nwhile (yesorno2.equals(&quot;Y&quot;)) {\r\n    // code to repeat goes here\r\n    System.out.println(&quot;Wollen Sie die Rechnung nocheinmal ausf&#252;hren? Y / N&quot;);\r\n    yesorno2 = StdIn.readString();\r\n}\r\nSystem.out.println(&quot;Auf Wiedersehn&quot;);\r\n```\r\n\r\n\r\nAnother way would be to use a do-while loop, like this:\r\n\r\n```\r\ndo {\r\n    // code to repeat goes here\r\n    System.out.println(&quot;Wollen Sie die Rechnung nocheinmal ausf&#252;hren? Y / N&quot;);\r\n    yesorno2 = StdIn.readString();\r\n} while (yesorno2.equals(&quot;Y&quot;));\r\nSystem.out.println(&quot;Auf Wiedersehn&quot;);\r\n```\r\n\r\nIt&#39;s a good idea to wrap up the code that needs to be repeated in a function, so it could be easily called multiple times.\r\n\r\nYou also could use recursion, which is a technique that involves a function calling itself. This would also let you wrap up the code that needs to be repeated in a single function, but it can be more tricky to implement and can lead to stack overflow if not implemented correctly.\r\n\r\n\r\n\r\n","title":"How can I execute a section of code by asking the user in the console if they want to repeat the calculation","body":"<p>There are a few ways you could repeat the code above, depending on what you're trying to accomplish. One way would be to use a while loop that continues to execute the code as long as the user enters &quot;Y&quot;. Here's an example:</p>\n<pre><code>while (yesorno2.equals(&quot;Y&quot;)) {\n    // code to repeat goes here\n    System.out.println(&quot;Wollen Sie die Rechnung nocheinmal ausführen? Y / N&quot;);\n    yesorno2 = StdIn.readString();\n}\nSystem.out.println(&quot;Auf Wiedersehn&quot;);\n</code></pre>\n<p>Another way would be to use a do-while loop, like this:</p>\n<pre><code>do {\n    // code to repeat goes here\n    System.out.println(&quot;Wollen Sie die Rechnung nocheinmal ausführen? Y / N&quot;);\n    yesorno2 = StdIn.readString();\n} while (yesorno2.equals(&quot;Y&quot;));\nSystem.out.println(&quot;Auf Wiedersehn&quot;);\n</code></pre>\n<p>It's a good idea to wrap up the code that needs to be repeated in a function, so it could be easily called multiple times.</p>\n<p>You also could use recursion, which is a technique that involves a function calling itself. This would also let you wrap up the code that needs to be repeated in a single function, but it can be more tricky to implement and can lead to stack overflow if not implemented correctly.</p>\n"}],"owner":{"account_id":27496448,"reputation":21,"user_id":20980887,"display_name":"Noah Beetschen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673425972,"creation_date":1673425519,"question_id":75080113,"body_markdown":"I have written code that performs calculations by entering the console and now I want to ask the user if they want to perform this again by entering &quot;Y&quot; or &quot;N&quot; in the console. \r\n\r\nI solved this part with a simple if statement, but now I want to execute the whole code above again in case the user enters &quot;Y&quot;. Does anyone have a suggestion for this problem?\r\n\r\n```java\r\n    System.out.println(&quot;Wollen Sie die Rechnung nocheinmal ausf&#252;hren? Y / N&quot;);\r\n\r\n    String yesorno2 = StdIn.readString();\r\n    if (yesorno2.equals(&quot;Y&quot;)) {\r\n        //Should repeat the code above\r\n    } else {\r\n        System.out.println(&quot;Auf Wiedersehn&quot;);\r\n        //Should say the text above and end the code\r\n    }\r\n}\r\n```","title":"How can I execute a section of code by asking the user in the console if they want to repeat the calculation","body":"<p>I have written code that performs calculations by entering the console and now I want to ask the user if they want to perform this again by entering &quot;Y&quot; or &quot;N&quot; in the console.</p>\n<p>I solved this part with a simple if statement, but now I want to execute the whole code above again in case the user enters &quot;Y&quot;. Does anyone have a suggestion for this problem?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    System.out.println(&quot;Wollen Sie die Rechnung nocheinmal ausführen? Y / N&quot;);\n\n    String yesorno2 = StdIn.readString();\n    if (yesorno2.equals(&quot;Y&quot;)) {\n        //Should repeat the code above\n    } else {\n        System.out.println(&quot;Auf Wiedersehn&quot;);\n        //Should say the text above and end the code\n    }\n}\n</code></pre>\n"},{"tags":["java","user-interface"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1673395254,"post_id":75077055,"comment_id":132488254,"body_markdown":"`Integer` variables cannot represent fractions.  For financial calculations you need to use `BigDecimal` instead.","body":"<code>Integer</code> variables cannot represent fractions.  For financial calculations you need to use <code>BigDecimal</code> instead."},{"owner":{"account_id":27493611,"reputation":1,"user_id":20978477,"display_name":"Adam Toland"},"score":0,"creation_date":1673395598,"post_id":75077055,"comment_id":132488304,"body_markdown":"I have no idea how to use that to help me. Can you explain?","body":"I have no idea how to use that to help me. Can you explain?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1673395944,"post_id":75077055,"comment_id":132488357,"body_markdown":"I have removed the javascript tag.  This is not JavaScript.","body":"I have removed the javascript tag.  This is not JavaScript."}],"answers":[{"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":3,"creation_date":1673405591,"post_id":75077446,"comment_id":132489794,"body_markdown":"**Don&#39;t do this**.  The `float` and `double` data types should generally not be used with money, because they introduce floating point errors that can lead to incorrect results.  There are cases where it doesn&#39;t matter, but I don&#39;t think this is one of them.","body":"<b>Don&#39;t do this</b>.  The <code>float</code> and <code>double</code> data types should generally not be used with money, because they introduce floating point errors that can lead to incorrect results.  There are cases where it doesn&#39;t matter, but I don&#39;t think this is one of them."},{"owner":{"account_id":16362850,"reputation":102,"user_id":11818002,"display_name":"arellak"},"score":0,"creation_date":1673418526,"post_id":75077446,"comment_id":132491658,"body_markdown":"I would say the exact opposite. It seems like OP is still learning, so it isn&#39;t production and therefore it&#39;s not necessary to bombard OP with datatypes like BigDecimal or whatever. You&#39;re talking about floating point errors, but which errors are you talking about? Only one comes to my mind and it only occurs in the last decimals where you have a deviation of 0.00001 or whatever","body":"I would say the exact opposite. It seems like OP is still learning, so it isn&#39;t production and therefore it&#39;s not necessary to bombard OP with datatypes like BigDecimal or whatever. You&#39;re talking about floating point errors, but which errors are you talking about? Only one comes to my mind and it only occurs in the last decimals where you have a deviation of 0.00001 or whatever"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1673425067,"post_id":75077446,"comment_id":132493394,"body_markdown":"The fact that OP is still learning is a really good reason to give them a correct answer, not a wrong one.","body":"The fact that OP is still learning is a really good reason to give them a correct answer, not a wrong one."}],"tags":[],"owner":{"account_id":16362850,"reputation":102,"user_id":11818002,"display_name":"arellak"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673400114,"creation_date":1673400114,"answer_id":75077446,"question_id":75077055,"body_markdown":"In your case, I would use a float since you don&#39;t want whole numbers but floating point numbers.&lt;br&gt;\r\nInstead of:\r\n\r\n```java\r\nint num1 = Integer.parseInt(fn);\r\n```\r\n\r\nyou would do:\r\n\r\n```java\r\nfloat num1 = Float.parseFloat(fn);\r\n```\r\n\r\nSo your `sum` variable also has to be a float.\r\nA float is just a float point number that has a precision of 6-7 decimals. Should be more than enough for tax rate.","title":"How to multiple a decimal by a whole number","body":"<p>In your case, I would use a float since you don't want whole numbers but floating point numbers.<br>\nInstead of:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int num1 = Integer.parseInt(fn);\n</code></pre>\n<p>you would do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>float num1 = Float.parseFloat(fn);\n</code></pre>\n<p>So your <code>sum</code> variable also has to be a float.\nA float is just a float point number that has a precision of 6-7 decimals. Should be more than enough for tax rate.</p>\n"},{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673425907,"creation_date":1673425907,"answer_id":75080183,"question_id":75077055,"body_markdown":"The best data type to use for storing an amount of money is `BigDecimal`.  It lets you do calculations with decimal amounts, without introducing floating point errors.  It also keeps track of the precision of any number, which is useful for precise calculations.\r\n\r\nIf you try to use `float` or `double` instead of `BigDecimal`, small errors can creep into your calculations, which can cause problems when you try to compare values, or print values.  There are some really good explanations of why this happens in the [answers to this question](https://stackoverflow.com/q/588004) so it&#39;s important to be aware of this.\r\n\r\nYou can easily change your code to use the `BigDecimal` class in place of `Integer`, except that you have to use methods (like `add` and `multiply`) instead of operators (like `+` and `*`).  You might end up with something like this.\r\n\r\n    public static void main(String[] args) {\r\n        String assessmentValueString = JOptionPane.showInputDialog(&quot;Enter assessment value&quot;);\r\n        String taxRateString = JOptionPane.showInputDialog(&quot;Enter local tax rate&quot;);\r\n        \r\n        \r\n        BigDecimal assessmentValue = new BigDecimal(assessmentValueString);\r\n        BigDecimal taxRate = new BigDecimal(taxRateString);\r\n\r\n        BigDecimal totalTax = assessmentValue.multiply(taxRate);\r\n        \r\n        JOptionPane.showMessageDialog(null, &quot;Tax amount&quot; + totalTax);\r\n    }\r\n\r\nYou may want the last calculation to be rounded to two decimal places, regardless of the amounts that are entered.  You can do that like this.\r\n\r\n        MathContext twoDecimals = new MathContext(2);\r\n        BigDecimal totalTax = assessmentValue.multiply(taxRate, twoDecimals);\r\n","title":"How to multiple a decimal by a whole number","body":"<p>The best data type to use for storing an amount of money is <code>BigDecimal</code>.  It lets you do calculations with decimal amounts, without introducing floating point errors.  It also keeps track of the precision of any number, which is useful for precise calculations.</p>\n<p>If you try to use <code>float</code> or <code>double</code> instead of <code>BigDecimal</code>, small errors can creep into your calculations, which can cause problems when you try to compare values, or print values.  There are some really good explanations of why this happens in the <a href=\"https://stackoverflow.com/q/588004\">answers to this question</a> so it's important to be aware of this.</p>\n<p>You can easily change your code to use the <code>BigDecimal</code> class in place of <code>Integer</code>, except that you have to use methods (like <code>add</code> and <code>multiply</code>) instead of operators (like <code>+</code> and <code>*</code>).  You might end up with something like this.</p>\n<pre><code>public static void main(String[] args) {\n    String assessmentValueString = JOptionPane.showInputDialog(&quot;Enter assessment value&quot;);\n    String taxRateString = JOptionPane.showInputDialog(&quot;Enter local tax rate&quot;);\n    \n    \n    BigDecimal assessmentValue = new BigDecimal(assessmentValueString);\n    BigDecimal taxRate = new BigDecimal(taxRateString);\n\n    BigDecimal totalTax = assessmentValue.multiply(taxRate);\n    \n    JOptionPane.showMessageDialog(null, &quot;Tax amount&quot; + totalTax);\n}\n</code></pre>\n<p>You may want the last calculation to be rounded to two decimal places, regardless of the amounts that are entered.  You can do that like this.</p>\n<pre><code>    MathContext twoDecimals = new MathContext(2);\n    BigDecimal totalTax = assessmentValue.multiply(taxRate, twoDecimals);\n</code></pre>\n"}],"owner":{"account_id":27493611,"reputation":1,"user_id":20978477,"display_name":"Adam Toland"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1673425907,"creation_date":1673395182,"question_id":75077055,"body_markdown":"I am attempting to ask for a value and tax rate and multiple those together to get a amount owed. It works great if I use whole numbers but it will not work when using decimals.\r\n\r\n    package apples;\r\n    import javax.swing.JOptionPane;\r\n    class apples {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString fn = JOptionPane.showInputDialog(&quot;Enter assessment value&quot;);\r\n\t\tString sn = JOptionPane.showInputDialog(&quot;Enter local tax rate&quot;);\r\n\t\t\r\n\t\t\r\n\t\tint num1 = Integer.parseInt(fn);\r\n\t\tint num2 = Integer.parseInt(sn);\r\n\t\r\n\t\tint sum = num1 * num2;\r\n\t    \r\n\t\tJOptionPane.showMessageDialog(null, &quot;Tax amount&quot; +sum);\r\n\t\r\n\t\t\r\n\t}\r\n\r\n}\r\nI expected it to multiple .23 by the value entered but I get this.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;.23&quot;\r\n\tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:654)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:786)\r\n\tat apples.apples.main(apples.java:11)\r\n","title":"How to multiple a decimal by a whole number","body":"<p>I am attempting to ask for a value and tax rate and multiple those together to get a amount owed. It works great if I use whole numbers but it will not work when using decimals.</p>\n<pre><code>package apples;\nimport javax.swing.JOptionPane;\nclass apples {\n\npublic static void main(String[] args) {\n    String fn = JOptionPane.showInputDialog(&quot;Enter assessment value&quot;);\n    String sn = JOptionPane.showInputDialog(&quot;Enter local tax rate&quot;);\n    \n    \n    int num1 = Integer.parseInt(fn);\n    int num2 = Integer.parseInt(sn);\n\n    int sum = num1 * num2;\n    \n    JOptionPane.showMessageDialog(null, &quot;Tax amount&quot; +sum);\n\n    \n}\n</code></pre>\n<p>}\nI expected it to multiple .23 by the value entered but I get this.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;.23&quot;\nat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\nat java.base/java.lang.Integer.parseInt(Integer.java:654)\nat java.base/java.lang.Integer.parseInt(Integer.java:786)\nat apples.apples.main(apples.java:11)\n</code></pre>\n"},{"tags":["java","android","gradle","android-gradle-plugin"],"comments":[{"owner":{"account_id":3403371,"reputation":4535,"user_id":2855059,"accept_rate":71,"display_name":"M D P"},"score":0,"creation_date":1538482390,"post_id":52607958,"comment_id":92150195,"body_markdown":"Have you tried Clean Project?","body":"Have you tried Clean Project?"},{"owner":{"account_id":3403371,"reputation":4535,"user_id":2855059,"accept_rate":71,"display_name":"M D P"},"score":0,"creation_date":1538484152,"post_id":52607958,"comment_id":92151147,"body_markdown":"add `buildToolsVersion &#39;27.0.3&#39;` under `compileSdkVersion ` and see if it works. also try Rebuild Project","body":"add <code>buildToolsVersion &#39;27.0.3&#39;</code> under <code>compileSdkVersion </code> and see if it works. also try Rebuild Project"},{"owner":{"account_id":9365912,"reputation":119,"user_id":6950834,"display_name":"Yusuf Ko&#231;ak"},"score":0,"creation_date":1538485207,"post_id":52607958,"comment_id":92151760,"body_markdown":"sory not working","body":"sory not working"},{"owner":{"account_id":1115893,"reputation":6132,"user_id":1105214,"accept_rate":69,"display_name":"samus"},"score":0,"creation_date":1538486267,"post_id":52607958,"comment_id":92152446,"body_markdown":"I would make a separate, empty test project from scratch with the same compile/min/target and build tools versions, and then add your libraries one by one until the build fails.","body":"I would make a separate, empty test project from scratch with the same compile/min/target and build tools versions, and then add your libraries one by one until the build fails."},{"owner":{"account_id":1115893,"reputation":6132,"user_id":1105214,"accept_rate":69,"display_name":"samus"},"score":0,"creation_date":1538487121,"post_id":52607958,"comment_id":92153050,"body_markdown":"*com.android.support:recyclerview-v7:22.2.0* should match the compile version (*27.1.0*), just as *appcompat* does. Also, mixing versions of support libraries can lead to runtime crashes.","body":"<i>com.android.support:recyclerview-v7:22.2.0</i> should match the compile version (<i>27.1.0</i>), just as <i>appcompat</i> does. Also, mixing versions of support libraries can lead to runtime crashes."}],"answers":[{"comments":[{"owner":{"account_id":1129600,"reputation":1292,"user_id":1115989,"accept_rate":67,"display_name":"user2234"},"score":0,"creation_date":1540857939,"post_id":52608343,"comment_id":93010561,"body_markdown":"@YusufKo&#231;ak: did you find solution to this ? I am facing same issue","body":"@YusufKo&#231;ak: did you find solution to this ? I am facing same issue"},{"owner":{"account_id":9365912,"reputation":119,"user_id":6950834,"display_name":"Yusuf Ko&#231;ak"},"score":0,"creation_date":1541078026,"post_id":52608343,"comment_id":93099517,"body_markdown":"@Neha Solve problems with the Java compiler","body":"@Neha Solve problems with the Java compiler"}],"tags":[],"owner":{"account_id":11322569,"reputation":869,"user_id":8302531,"display_name":"Arty"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538483276,"creation_date":1538483276,"answer_id":52608343,"question_id":52607958,"body_markdown":"Did you try **Invalidate Caches/Restart**\r\n\r\n\r\n[![https://i.stack.imgur.com/tsXjV.png][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tsXjV.png\r\n\r\nIf its doesnt work try to upgrade your **buildToolsVersion**.","title":"&quot;Compilation failed; see the compiler error output for details.&quot; error","body":"<p>Did you try <strong>Invalidate Caches/Restart</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/tsXjV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tsXjV.png\" alt=\"https://i.stack.imgur.com/tsXjV.png\"></a></p>\n\n<p>If its doesnt work try to upgrade your <strong>buildToolsVersion</strong>.</p>\n"},{"tags":[],"owner":{"account_id":1115893,"reputation":6132,"user_id":1105214,"accept_rate":69,"display_name":"samus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538484015,"creation_date":1538484015,"answer_id":52608552,"question_id":52607958,"body_markdown":"Verify your android versions (Compile/Min/Target) under *File - Project Structure*, especially if you hand edited your build.gradle Module file.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ggoWp.png\r\n  [2]: https://i.stack.imgur.com/DcOuy.png","title":"&quot;Compilation failed; see the compiler error output for details.&quot; error","body":"<p>Verify your android versions (Compile/Min/Target) under <em>File - Project Structure</em>, especially if you hand edited your build.gradle Module file.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ggoWp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ggoWp.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/DcOuy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DcOuy.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":14302941,"reputation":11,"user_id":10331804,"display_name":"Samsul Alam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542610120,"creation_date":1542609164,"answer_id":53369414,"question_id":52607958,"body_markdown":"You have just deleted the codes that related to the floating action button under the MainActivity.java.\r\n\r\n \r\n\r\n     FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);\r\n        fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Snackbar.make(view, &quot;Replace with your own action&quot;, Snackbar.LENGTH_LONG)\r\n                        .setAction(&quot;Action&quot;, null).show();\r\n\r\n[Delete these selected codes and run the Program][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QccDJ.png","title":"&quot;Compilation failed; see the compiler error output for details.&quot; error","body":"<p>You have just deleted the codes that related to the floating action button under the MainActivity.java.</p>\n\n<pre><code> FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);\n    fab.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Snackbar.make(view, \"Replace with your own action\", Snackbar.LENGTH_LONG)\n                    .setAction(\"Action\", null).show();\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/QccDJ.png\" rel=\"nofollow noreferrer\">Delete these selected codes and run the Program</a></p>\n"},{"comments":[{"owner":{"account_id":11977673,"reputation":136,"user_id":8764361,"display_name":"bv akhil"},"score":3,"creation_date":1552475354,"post_id":53960051,"comment_id":97020940,"body_markdown":"No sense to what you are saying buddy","body":"No sense to what you are saying buddy"},{"owner":{"account_id":11977673,"reputation":136,"user_id":8764361,"display_name":"bv akhil"},"score":0,"creation_date":1552992851,"post_id":53960051,"comment_id":97211263,"body_markdown":"The link is not working and I didn&#39;t understand what &quot;The problem is solved when it fixes the problems in javacompiler&quot; this line mean.","body":"The link is not working and I didn&#39;t understand what &quot;The problem is solved when it fixes the problems in javacompiler&quot; this line mean."},{"owner":{"account_id":2645139,"reputation":1027,"user_id":2288004,"accept_rate":77,"display_name":"dre"},"score":0,"creation_date":1554452314,"post_id":53960051,"comment_id":97765530,"body_markdown":"Accepted answer is too vague","body":"Accepted answer is too vague"}],"tags":[],"owner":{"account_id":9365912,"reputation":119,"user_id":6950834,"display_name":"Yusuf Ko&#231;ak"},"comment_count":3,"down_vote_count":4,"up_vote_count":1,"is_accepted":true,"score":-3,"last_activity_date":1555595139,"creation_date":1546007268,"answer_id":53960051,"question_id":52607958,"body_markdown":"The problem is solved when it fixes the problems in javacompiler.\r\nthis problem occurs when there are any errors in your java code. The reason for the error is shown under the Javacompiler tab shown in the screenshot.\r\nFind the source of the error in the messages under the javaCompiler tab.\r\n[screen shot][1]\r\n\r\n\r\n  [1]: http://i.hizliresim.com/zjZ5EO.png","title":"&quot;Compilation failed; see the compiler error output for details.&quot; error","body":"<p>The problem is solved when it fixes the problems in javacompiler.\nthis problem occurs when there are any errors in your java code. The reason for the error is shown under the Javacompiler tab shown in the screenshot.\nFind the source of the error in the messages under the javaCompiler tab.\n<a href=\"http://i.hizliresim.com/zjZ5EO.png\" rel=\"nofollow noreferrer\">screen shot</a></p>\n"},{"tags":[],"owner":{"account_id":5212900,"reputation":436,"user_id":4168694,"display_name":"naveen dahiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590988825,"creation_date":1590988825,"answer_id":62126139,"question_id":52607958,"body_markdown":"This may be the gradle version problem, there may be some difference between gradle version installed on machine and version used in project. I got simmilar problem when i have installed gradle version 5.0 and my project has 4.8, In this case use `gradlew` instead of `gradle` in command, problem resolved.","title":"&quot;Compilation failed; see the compiler error output for details.&quot; error","body":"<p>This may be the gradle version problem, there may be some difference between gradle version installed on machine and version used in project. I got simmilar problem when i have installed gradle version 5.0 and my project has 4.8, In this case use <code>gradlew</code> instead of <code>gradle</code> in command, problem resolved.</p>\n"},{"tags":[],"owner":{"account_id":1158594,"reputation":323,"user_id":1138573,"display_name":"SDV"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673425891,"creation_date":1673425891,"answer_id":75080181,"question_id":52607958,"body_markdown":"I face this compilation issue with the selenium pipeline in azure because of a deprecated capability &quot;ACCEPT_SSL_CERTS&quot; so just added[![enter image description here][1]][1] an answer so you can also look into unsupported dependencies and capabilities \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/56eAS.png","title":"&quot;Compilation failed; see the compiler error output for details.&quot; error","body":"<p>I face this compilation issue with the selenium pipeline in azure because of a deprecated capability &quot;ACCEPT_SSL_CERTS&quot; so just added<a href=\"https://i.stack.imgur.com/56eAS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/56eAS.png\" alt=\"enter image description here\" /></a> an answer so you can also look into unsupported dependencies and capabilities</p>\n"}],"owner":{"account_id":9365912,"reputation":119,"user_id":6950834,"display_name":"Yusuf Ko&#231;ak"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25914,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":53960051,"answer_count":6,"score":6,"last_activity_date":1673425891,"creation_date":1538481849,"question_id":52607958,"body_markdown":"&quot;Compilation failed; see the compiler error output for details.&quot;  \r\ngetting this error when compiling help me please?\r\n\r\n&lt;pre&gt;org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:103)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:59)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\r\n\tat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:59)\r\n\tat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:88)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:623)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:578)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: org.gradle.api.internal.tasks.compile.CompilationFailedException: Compilation failed; see the compiler error output for details.\r\n\tat org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:50)\r\n\tat org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:35)\r\n\tat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.delegateAndHandleErrors(NormalizingJavaCompiler.java:98)\r\n\tat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:51)\r\n\tat org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:37)\r\n\tat org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:35)\r\n\tat org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:25)\r\n\tat org.gradle.api.internal.tasks.compile.incremental.IncrementalCompilationFinalizer.execute(IncrementalCompilationFinalizer.java:39)\r\n\tat org.gradle.api.internal.tasks.compile.incremental.IncrementalCompilationFinalizer.execute(IncrementalCompilationFinalizer.java:24)\r\n\tat org.gradle.api.tasks.compile.JavaCompile.performCompilation(JavaCompile.java:207)\r\n\tat org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:133)\r\n\tat com.android.build.gradle.tasks.factory.AndroidJavaCompile.compile(AndroidJavaCompile.java:125)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\r\n\tat org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:50)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:124)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n\tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:113)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:95)\r\n\t... 33 more\r\n&lt;/pre&gt;\r\n\r\nbuild gradle     \r\n    \r\n    apply plugin: &#39;com.android.application&#39;\r\n    android {\r\n    compileSdkVersion 27\r\n    defaultConfig {\r\n        applicationId &quot;com.yube.fasturl&quot;\r\n        minSdkVersion 15\r\n        targetSdkVersion 27\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner \r\n        &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard- \r\n        android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n        } \r\n        }\r\n\r\n         dependencies {\r\n         implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;com.android.support:appcompat-v7:27.1.0&#39;\r\n    implementation &#39;com.android.support:design:27.1.0&#39;\r\n    implementation &#39;com.github.florent37:materialtextfield:1.0.7&#39;\r\n    implementation &#39;com.android.support.constraint:constraint- \r\n    layout:1.0.2&#39;\r\n    //noinspection GradleCompatible\r\n    implementation &#39;com.google.android.gms:play-services-ads:15.0.0&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    implementation &#39;com.android.support:recyclerview-v7:22.2.0&#39;\r\n    androidTestImplementation &#39;com.android.support.test:runner:1.0.1&#39;\r\n    androidTestImplementation \r\n    &#39;com.android.support.test.espresso:espresso-core:3.0.1&#39;\r\n    implementation &#39;com.android.support:mediarouter-v7:27.1.0&#39;\r\n       }\r\n\r\n","title":"&quot;Compilation failed; see the compiler error output for details.&quot; error","body":"<p>\"Compilation failed; see the compiler error output for details.\"<br>\ngetting this error when compiling help me please?</p>\n\n<pre>org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:compileDebugJavaWithJavac'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:103)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:73)\n    at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:59)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:59)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)\n    at org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:88)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:623)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:578)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.gradle.api.internal.tasks.compile.CompilationFailedException: Compilation failed; see the compiler error output for details.\n    at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:50)\n    at org.gradle.api.internal.tasks.compile.JdkJavaCompiler.execute(JdkJavaCompiler.java:35)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.delegateAndHandleErrors(NormalizingJavaCompiler.java:98)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:51)\n    at org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler.execute(NormalizingJavaCompiler.java:37)\n    at org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:35)\n    at org.gradle.api.internal.tasks.compile.CleaningJavaCompilerSupport.execute(CleaningJavaCompilerSupport.java:25)\n    at org.gradle.api.internal.tasks.compile.incremental.IncrementalCompilationFinalizer.execute(IncrementalCompilationFinalizer.java:39)\n    at org.gradle.api.internal.tasks.compile.incremental.IncrementalCompilationFinalizer.execute(IncrementalCompilationFinalizer.java:24)\n    at org.gradle.api.tasks.compile.JavaCompile.performCompilation(JavaCompile.java:207)\n    at org.gradle.api.tasks.compile.JavaCompile.compile(JavaCompile.java:133)\n    at com.android.build.gradle.tasks.factory.AndroidJavaCompile.compile(AndroidJavaCompile.java:125)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n    at org.gradle.api.internal.project.taskfactory.IncrementalTaskAction.doExecute(IncrementalTaskAction.java:50)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:124)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:113)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:95)\n    ... 33 more\n</pre>\n\n<p>build gradle     </p>\n\n<pre><code>apply plugin: 'com.android.application'\nandroid {\ncompileSdkVersion 27\ndefaultConfig {\n    applicationId \"com.yube.fasturl\"\n    minSdkVersion 15\n    targetSdkVersion 27\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \n    \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard- \n    android.txt'), 'proguard-rules.pro'\n    }\n    } \n    }\n\n     dependencies {\n     implementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation 'com.android.support:appcompat-v7:27.1.0'\nimplementation 'com.android.support:design:27.1.0'\nimplementation 'com.github.florent37:materialtextfield:1.0.7'\nimplementation 'com.android.support.constraint:constraint- \nlayout:1.0.2'\n//noinspection GradleCompatible\nimplementation 'com.google.android.gms:play-services-ads:15.0.0'\ntestImplementation 'junit:junit:4.12'\nimplementation 'com.android.support:recyclerview-v7:22.2.0'\nandroidTestImplementation 'com.android.support.test:runner:1.0.1'\nandroidTestImplementation \n'com.android.support.test.espresso:espresso-core:3.0.1'\nimplementation 'com.android.support:mediarouter-v7:27.1.0'\n   }\n</code></pre>\n"},{"tags":["java","reactive-programming","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":4587206,"reputation":476,"user_id":9173486,"display_name":"lmarx"},"score":0,"creation_date":1652191957,"post_id":54836340,"comment_id":127543577,"body_markdown":"Can `webSocketClient.getCars(dealerId)` return an empty `Mono`? If yes, `webSocketClient#getManufactures` is never called since the param `carIds` in the `flatMap` can be an empty list (notice that `Flux#collectList` emits an empty list if the sequence is empty).","body":"Can <code>webSocketClient.getCars(dealerId)</code> return an empty <code>Mono</code>? If yes, <code>webSocketClient#getManufactures</code> is never called since the param <code>carIds</code> in the <code>flatMap</code> can be an empty list (notice that <code>Flux#collectList</code> emits an empty list if the sequence is empty)."}],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673425538,"creation_date":1673383936,"answer_id":75075705,"question_id":54836340,"body_markdown":"I know I&#39;m too late, but maybe someone will find this question and see the answer, I hope that would be helpful.\r\n\r\nThe reason why `webSocketClient.getManufactures(carId`) is never called in your code is obvious: nobody subscribes to this publisher since you put this call to simple `.map()` operator of Stream API.\r\n\r\nThe entire reactive chain should be holistic, without any &quot;breaks&quot;.\r\nAfter getting ids of cars and putting them to `.flatMap()`, inside that `.flatMap()` you should have declared another `Flux` from those ids, and on that `Flux` you put another `.flatMap()` to request manufactures and finally collect them into resulting Set.\r\n\r\nAlso you should not have declared `final CarAndManufactures CarAndManufactures = new CarAndManufactures();` implicilty and then tried to fill this object within the reactive chain. Doing that you&#39;re mixing imperative style code with reactive style code which is incorrect way to use reactive. \r\n\r\nYou should stay in your reactive chain **all the way**.\r\n\r\nSo, the way to achieve what yout what is the following: (I also made the code &quot;better&quot; and cleaner):\r\n\r\n    @Test\r\n    public void carsAndManufacturesTest() {\r\n        String dealerId = &quot;test dealer&quot;;\r\n\r\n        client.getCars(dealerId)                                  // request Mono&lt;CarsResponse&gt;\r\n                .map(CarsResponse::getResult)                     // getting List&lt;Cars&gt; from response\r\n                .map(cars -&gt;                                      // getting ids of cars and collect them to Set&lt;String&gt;\r\n                        cars.stream()\r\n                                .map(Car::getId)\r\n                                .collect(Collectors.toSet())\r\n                )\r\n                .flatMap(carsIds -&gt;                               // creating another publisher that will fetch manufactures and build the CarAndManufactures\r\n                        this.fetchManufacturesIds(carsIds)        // fetching Set&lt;String&gt; manufactures for all the carsIds\r\n                                .map(manufacturesIds -&gt;           // we&#39;re done here! we have both carsIds and manufactureIds!\r\n                                        new CarAndManufactures(   // creating desired object from both carsIds and their manufacturesIds\r\n                                                carsIds,\r\n                                                manufacturesIds)\r\n                                )\r\n                )\r\n                .doOnNext(carAndManufactures -&gt; log.info(carAndManufactures.toString()))\r\n                .subscribe();\r\n    }\r\n\r\n    /**\r\n     * Fetches all the manufactures ids of given cars ids\r\n     *\r\n     * @param carsIds ids of cars\r\n     * @return Mono with all the manufactures ids of given cars ids\r\n     */\r\n    public Mono&lt;Set&lt;String&gt;&gt; fetchManufacturesIds(Set&lt;String&gt; carsIds) {\r\n\r\n        return Flux.fromIterable(carsIds)                       // creating flux of given cars ids\r\n                .flatMap(client::getManufactures)               // request Mono&lt;ManufactureResponse&gt; for car id\r\n                .map(ManufactureResponse::getResult)            // getting List&lt;Manufacture&gt;\r\n                .map(manufactures -&gt;                            // getting ids of manufactures and collect them to Set\r\n                        manufactures.stream()\r\n                                .map(Manufacture::getId)\r\n                                .collect(Collectors.toSet())\r\n                )\r\n                .collectList()                                  // collecting all the sets of manufactures ids, here we get List&lt;Set&lt;String&gt;&gt;\r\n                .map(list -&gt;                                    // flatting all the sets to one set, eventually we get here Set&lt;String&gt;\r\n                        list.stream()\r\n                                .flatMap(Collection::stream)\r\n                                .collect(Collectors.toSet())\r\n                );\r\n    }\r\n\r\n\r\nFor those who want to test this code I&#39;ll leave here the specs of classes. Then in the code above just create the client `private Client client = new Client();` (as a field of class where you put those two merhods)\r\n\r\nClasses:\r\n\r\n    /*\r\n        ================== Classes examples for those who wants to test this code ===================\r\n     */\r\n    @Slf4j\r\n    class Client {\r\n    \r\n        public Mono&lt;CarsResponse&gt; getCars(String dealerId) {\r\n            log.info(&quot;Received request to fetch cars by dealer id: {}&quot;, dealerId);\r\n    \r\n            List&lt;Car&gt; cars =\r\n                    List.of(new Car(&quot;MUSTANG&quot;),\r\n                            new Car(&quot;FOCUS&quot;),\r\n                            new Car(&quot;FUSION&quot;)\r\n                    );\r\n            return Mono.just(new CarsResponse(cars));\r\n        }\r\n    \r\n        public Mono&lt;ManufactureResponse&gt; getManufactures(String carId) {\r\n            log.info(&quot;Received request to fetch manufactures by car id: {}&quot;, carId);\r\n    \r\n            List&lt;Manufacture&gt; manufactures =\r\n                    List.of(new Manufacture(&quot;MF BUFFALO&quot;),\r\n                            new Manufacture(&quot;MF CHANGAN&quot;),\r\n                            new Manufacture(&quot;MF CHICAGO&quot;),\r\n                            new Manufacture(&quot;MF DEARBORN&quot;)\r\n                    );\r\n            return Mono.just(new ManufactureResponse(manufactures));\r\n        }\r\n    }\r\n    \r\n    /*\r\n        ================== Data classes ===================\r\n     */\r\n    @Data\r\n    @AllArgsConstructor\r\n    class CarsResponse {\r\n    \r\n        private List&lt;Car&gt; result;\r\n    }\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    class ManufactureResponse {\r\n    \r\n        List&lt;Manufacture&gt; result;\r\n    }\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    class CarAndManufactures {\r\n    \r\n        private Set&lt;String&gt; cars;\r\n        private Set&lt;String&gt; manufactures;\r\n    }\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    class Car {\r\n    \r\n        private String id;\r\n    }\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    class Manufacture {\r\n    \r\n        private String id;\r\n    }\r\n\r\n","title":"How to iterate over Mono&lt;List&lt;String&gt;&gt; calling Mono returning method","body":"<p>I know I'm too late, but maybe someone will find this question and see the answer, I hope that would be helpful.</p>\n<p>The reason why <code>webSocketClient.getManufactures(carId</code>) is never called in your code is obvious: nobody subscribes to this publisher since you put this call to simple <code>.map()</code> operator of Stream API.</p>\n<p>The entire reactive chain should be holistic, without any &quot;breaks&quot;.\nAfter getting ids of cars and putting them to <code>.flatMap()</code>, inside that <code>.flatMap()</code> you should have declared another <code>Flux</code> from those ids, and on that <code>Flux</code> you put another <code>.flatMap()</code> to request manufactures and finally collect them into resulting Set.</p>\n<p>Also you should not have declared <code>final CarAndManufactures CarAndManufactures = new CarAndManufactures();</code> implicilty and then tried to fill this object within the reactive chain. Doing that you're mixing imperative style code with reactive style code which is incorrect way to use reactive.</p>\n<p>You should stay in your reactive chain <strong>all the way</strong>.</p>\n<p>So, the way to achieve what yout what is the following: (I also made the code &quot;better&quot; and cleaner):</p>\n<pre><code>@Test\npublic void carsAndManufacturesTest() {\n    String dealerId = &quot;test dealer&quot;;\n\n    client.getCars(dealerId)                                  // request Mono&lt;CarsResponse&gt;\n            .map(CarsResponse::getResult)                     // getting List&lt;Cars&gt; from response\n            .map(cars -&gt;                                      // getting ids of cars and collect them to Set&lt;String&gt;\n                    cars.stream()\n                            .map(Car::getId)\n                            .collect(Collectors.toSet())\n            )\n            .flatMap(carsIds -&gt;                               // creating another publisher that will fetch manufactures and build the CarAndManufactures\n                    this.fetchManufacturesIds(carsIds)        // fetching Set&lt;String&gt; manufactures for all the carsIds\n                            .map(manufacturesIds -&gt;           // we're done here! we have both carsIds and manufactureIds!\n                                    new CarAndManufactures(   // creating desired object from both carsIds and their manufacturesIds\n                                            carsIds,\n                                            manufacturesIds)\n                            )\n            )\n            .doOnNext(carAndManufactures -&gt; log.info(carAndManufactures.toString()))\n            .subscribe();\n}\n\n/**\n * Fetches all the manufactures ids of given cars ids\n *\n * @param carsIds ids of cars\n * @return Mono with all the manufactures ids of given cars ids\n */\npublic Mono&lt;Set&lt;String&gt;&gt; fetchManufacturesIds(Set&lt;String&gt; carsIds) {\n\n    return Flux.fromIterable(carsIds)                       // creating flux of given cars ids\n            .flatMap(client::getManufactures)               // request Mono&lt;ManufactureResponse&gt; for car id\n            .map(ManufactureResponse::getResult)            // getting List&lt;Manufacture&gt;\n            .map(manufactures -&gt;                            // getting ids of manufactures and collect them to Set\n                    manufactures.stream()\n                            .map(Manufacture::getId)\n                            .collect(Collectors.toSet())\n            )\n            .collectList()                                  // collecting all the sets of manufactures ids, here we get List&lt;Set&lt;String&gt;&gt;\n            .map(list -&gt;                                    // flatting all the sets to one set, eventually we get here Set&lt;String&gt;\n                    list.stream()\n                            .flatMap(Collection::stream)\n                            .collect(Collectors.toSet())\n            );\n}\n</code></pre>\n<p>For those who want to test this code I'll leave here the specs of classes. Then in the code above just create the client <code>private Client client = new Client();</code> (as a field of class where you put those two merhods)</p>\n<p>Classes:</p>\n<pre><code>/*\n    ================== Classes examples for those who wants to test this code ===================\n */\n@Slf4j\nclass Client {\n\n    public Mono&lt;CarsResponse&gt; getCars(String dealerId) {\n        log.info(&quot;Received request to fetch cars by dealer id: {}&quot;, dealerId);\n\n        List&lt;Car&gt; cars =\n                List.of(new Car(&quot;MUSTANG&quot;),\n                        new Car(&quot;FOCUS&quot;),\n                        new Car(&quot;FUSION&quot;)\n                );\n        return Mono.just(new CarsResponse(cars));\n    }\n\n    public Mono&lt;ManufactureResponse&gt; getManufactures(String carId) {\n        log.info(&quot;Received request to fetch manufactures by car id: {}&quot;, carId);\n\n        List&lt;Manufacture&gt; manufactures =\n                List.of(new Manufacture(&quot;MF BUFFALO&quot;),\n                        new Manufacture(&quot;MF CHANGAN&quot;),\n                        new Manufacture(&quot;MF CHICAGO&quot;),\n                        new Manufacture(&quot;MF DEARBORN&quot;)\n                );\n        return Mono.just(new ManufactureResponse(manufactures));\n    }\n}\n\n/*\n    ================== Data classes ===================\n */\n@Data\n@AllArgsConstructor\nclass CarsResponse {\n\n    private List&lt;Car&gt; result;\n}\n\n@Data\n@AllArgsConstructor\nclass ManufactureResponse {\n\n    List&lt;Manufacture&gt; result;\n}\n\n@Data\n@AllArgsConstructor\nclass CarAndManufactures {\n\n    private Set&lt;String&gt; cars;\n    private Set&lt;String&gt; manufactures;\n}\n\n@Data\n@AllArgsConstructor\nclass Car {\n\n    private String id;\n}\n\n@Data\n@AllArgsConstructor\nclass Manufacture {\n\n    private String id;\n}\n</code></pre>\n"}],"owner":{"account_id":1240724,"reputation":7685,"user_id":1203394,"accept_rate":68,"display_name":"Marquis Blount"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6348,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1673425538,"creation_date":1550876251,"question_id":54836340,"body_markdown":"I&#39;m attempting to achieve the following in the method below \r\n\r\n&gt; 1. Get All Cars from Dealer X\r\n&gt; 2. Create wrapper object that stores a set of all cars and another set of all manufactures 2a. Populate Cars set with the cars obtained in\r\n&gt; Step 1 \r\n&gt; 3. For each Car get all of their independent manufactures\r\n&gt; 4. Store all obtained manufactures into the wrapper objects manufactures Set\r\n&gt; 5. Return Mono of Car and manufactures \r\n\r\n    Mono&lt;CarAndManufactures&gt; requestCarAndManufactures(Request req) {\r\n    final String dealerId = buildDealerId(req.getDealerRegion(), req.getDealerId());\r\n    final CarAndManufactures CarAndManufactures = new CarAndManufactures();\r\n    return webSocketClient.getCars(dealerId) //note #getCars returns a Mono\r\n        .map(getCarsResponse -&gt; getCarsResponse\r\n          .getResult()\r\n          .stream()\r\n          .map(Car::getId)\r\n          .collect(toSet()))\r\n        .map(carIds -&gt; {\r\n          CarAndManufactures.setCars(carIds);\r\n          return CarAndManufactures;\r\n        })\r\n        .flatMapMany(CarAndManufactures1 -&gt; Flux.fromIterable(CarAndManufactures.getCars().keySet()))\r\n        .collectList()\r\n        .log(&quot;Existing cars&quot;)\r\n        .flatMap(carIds -&gt; { //This is the problem area\r\n          carIds\r\n              .stream()\r\n              .map(carId -&gt; {\r\n                webSocketClient.getManufactures(carId) //Note getManufactures returns a Mono... This method does look like its ever called\r\n                    .map(getManufactureResponse -&gt; getManufactureResponse\r\n                        .getResult()\r\n                        .stream()\r\n                        .map(Manufacture::getId)\r\n                        .collect(toSet()))\r\n                    .map(ManufactureIds -&gt; {\r\n                      CarAndManufactures.SetManufactures(ManufactureIds); //since the line commented on above is not called the Manufacture Set is empty\r\n                      return CarAndManufactures;\r\n                    });\r\n                return CarAndManufactures;\r\n              });\r\n              return just(CarAndManufactures);\r\n            }\r\n        )\r\n        .log(&quot;Car And Manufactures&quot;); \r\n  }\r\n\r\nThe Set of Manufactures is alway empty doesnt look like webSocketClient.getManufactures(carId) is ever called. Thought I might be missing a .subscribe some where but since this is being used by a webflux controller I think no #subscribes are needed anywhere","title":"How to iterate over Mono&lt;List&lt;String&gt;&gt; calling Mono returning method","body":"<p>I'm attempting to achieve the following in the method below </p>\n\n<blockquote>\n  <ol>\n  <li>Get All Cars from Dealer X</li>\n  <li>Create wrapper object that stores a set of all cars and another set of all manufactures 2a. Populate Cars set with the cars obtained in\n  Step 1 </li>\n  <li>For each Car get all of their independent manufactures</li>\n  <li>Store all obtained manufactures into the wrapper objects manufactures Set</li>\n  <li>Return Mono of Car and manufactures </li>\n  </ol>\n</blockquote>\n\n<pre><code>Mono&lt;CarAndManufactures&gt; requestCarAndManufactures(Request req) {\nfinal String dealerId = buildDealerId(req.getDealerRegion(), req.getDealerId());\nfinal CarAndManufactures CarAndManufactures = new CarAndManufactures();\nreturn webSocketClient.getCars(dealerId) //note #getCars returns a Mono\n    .map(getCarsResponse -&gt; getCarsResponse\n      .getResult()\n      .stream()\n      .map(Car::getId)\n      .collect(toSet()))\n    .map(carIds -&gt; {\n      CarAndManufactures.setCars(carIds);\n      return CarAndManufactures;\n    })\n    .flatMapMany(CarAndManufactures1 -&gt; Flux.fromIterable(CarAndManufactures.getCars().keySet()))\n    .collectList()\n    .log(\"Existing cars\")\n    .flatMap(carIds -&gt; { //This is the problem area\n      carIds\n          .stream()\n          .map(carId -&gt; {\n            webSocketClient.getManufactures(carId) //Note getManufactures returns a Mono... This method does look like its ever called\n                .map(getManufactureResponse -&gt; getManufactureResponse\n                    .getResult()\n                    .stream()\n                    .map(Manufacture::getId)\n                    .collect(toSet()))\n                .map(ManufactureIds -&gt; {\n                  CarAndManufactures.SetManufactures(ManufactureIds); //since the line commented on above is not called the Manufacture Set is empty\n                  return CarAndManufactures;\n                });\n            return CarAndManufactures;\n          });\n          return just(CarAndManufactures);\n        }\n    )\n    .log(\"Car And Manufactures\"); \n</code></pre>\n\n<p>}</p>\n\n<p>The Set of Manufactures is alway empty doesnt look like webSocketClient.getManufactures(carId) is ever called. Thought I might be missing a .subscribe some where but since this is being used by a webflux controller I think no #subscribes are needed anywhere</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1673425218,"post_id":75080008,"comment_id":132493446,"body_markdown":"Your first code closes the connection, while the second code tries to reuse the connection and is unaware if the connection was already closed. Please don&#39;t write such a brittle connection manager, instead use a connection pool like HikariCP, or **always** return a **new** connection.","body":"Your first code closes the connection, while the second code tries to reuse the connection and is unaware if the connection was already closed. Please don&#39;t write such a brittle connection manager, instead use a connection pool like HikariCP, or <b>always</b> return a <b>new</b> connection."},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1673428570,"post_id":75080008,"comment_id":132494589,"body_markdown":"Incidentally, you should NEVER use String concatenation to build SQL statements with user input - you are laying yourself open to SQL Injection attacks.  Instead, learn to use parameters (eg `VALUES (null, ?, ?, ?, ?)`, and set them with `con.setString`, etc).  See https://stackoverflow.com/a/8264648/681444","body":"Incidentally, you should NEVER use String concatenation to build SQL statements with user input - you are laying yourself open to SQL Injection attacks.  Instead, learn to use parameters (eg <code>VALUES (null, ?, ?, ?, ?)</code>, and set them with <code>con.setString</code>, etc).  See <a href=\"https://stackoverflow.com/a/8264648/681444\">stackoverflow.com/a/8264648/681444</a>"}],"owner":{"account_id":19764076,"reputation":13,"user_id":14472510,"display_name":"Ryan Oktaviandi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673425319,"answer_count":0,"score":0,"last_activity_date":1673425167,"creation_date":1673424876,"question_id":75080008,"body_markdown":"I have an ArrayList in Java and I want to insert it into my database but it&#39;s always showing me this error code\r\n\r\n&gt; Exception in thread &quot;main&quot; java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.\r\n\r\nAnd I don&#39;t know why it&#39;s happening, I have tried many fix in the internet but non of it is working\r\n\r\nhere&#39;s my code snipset\r\n\r\n```\r\nConnection con = db.getConnection();\r\ntry{\r\n    for(Stock element: listStock){\r\n        if(element.getKodeSaham().equals(getKode_saham())){\r\n            int hargaSaham = element.getHarga();\r\n            int harga = (lot*100) * hargaSaham;\r\n            for(Transaction trans : listTransaksi){\r\n                //System.out.println(trans.getKodeSaham());\r\n                PreparedStatement p1 = con.prepareStatement(&quot;INSERT INTO history (id_transaction, kode_saham, lot, harga, username, status, lot_sell_check) VALUES(NULL,&#39;&quot;+getKode_saham()+&quot;&#39;,&#39;&quot;+getLot()+&quot;&#39;,&#39;&quot;+harga+&quot;&#39;,&#39;&quot;+getUsername()+&quot;&#39;, &#39;Buy&#39;,&#39;&quot;+getLot()+&quot;&#39;)&quot;);\r\n                p1.executeUpdate();\r\n            }\r\n        }\r\n    }\r\n}finally {\r\n    con.close();\r\n}\r\n```\r\n\r\nAnd here&#39;s my database connection:\r\n\r\n```\r\nstatic final String JDBC_DRIVER = &quot;com.mysql.cj.jdbc.Driver&quot;;\r\nstatic final String DB_URL = &quot;jdbc:mysql://localhost:3306/tes&quot;;\r\nstatic final String USER = &quot;root&quot;;\r\nstatic final String PASS = &quot;&quot;;\r\n\r\nprivate static Connection connection;\r\npublic static Connection getConnection() throws SQLException{\r\n    if (connection == null){\r\n        connection = createConnection();\r\n    }\r\n    return connection;\r\n}\r\n\r\nprivate static Connection createConnection() {\r\n    try {\r\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n        connection = DriverManager.getConnection(DB_URL,USER,PASS);\r\n    } catch (ClassNotFoundException | SQLException ex) {\r\n         Logger.getLogger(db.class.getName()).log(Level.SEVERE, null, ex);\r\n    } \r\n    \r\n    return connection;\r\n}\r\n```\r\n","title":"My code always get this error Exception in thread &quot;main&quot; java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed","body":"<p>I have an ArrayList in Java and I want to insert it into my database but it's always showing me this error code</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.</p>\n</blockquote>\n<p>And I don't know why it's happening, I have tried many fix in the internet but non of it is working</p>\n<p>here's my code snipset</p>\n<pre><code>Connection con = db.getConnection();\ntry{\n    for(Stock element: listStock){\n        if(element.getKodeSaham().equals(getKode_saham())){\n            int hargaSaham = element.getHarga();\n            int harga = (lot*100) * hargaSaham;\n            for(Transaction trans : listTransaksi){\n                //System.out.println(trans.getKodeSaham());\n                PreparedStatement p1 = con.prepareStatement(&quot;INSERT INTO history (id_transaction, kode_saham, lot, harga, username, status, lot_sell_check) VALUES(NULL,'&quot;+getKode_saham()+&quot;','&quot;+getLot()+&quot;','&quot;+harga+&quot;','&quot;+getUsername()+&quot;', 'Buy','&quot;+getLot()+&quot;')&quot;);\n                p1.executeUpdate();\n            }\n        }\n    }\n}finally {\n    con.close();\n}\n</code></pre>\n<p>And here's my database connection:</p>\n<pre><code>static final String JDBC_DRIVER = &quot;com.mysql.cj.jdbc.Driver&quot;;\nstatic final String DB_URL = &quot;jdbc:mysql://localhost:3306/tes&quot;;\nstatic final String USER = &quot;root&quot;;\nstatic final String PASS = &quot;&quot;;\n\nprivate static Connection connection;\npublic static Connection getConnection() throws SQLException{\n    if (connection == null){\n        connection = createConnection();\n    }\n    return connection;\n}\n\nprivate static Connection createConnection() {\n    try {\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        connection = DriverManager.getConnection(DB_URL,USER,PASS);\n    } catch (ClassNotFoundException | SQLException ex) {\n         Logger.getLogger(db.class.getName()).log(Level.SEVERE, null, ex);\n    } \n    \n    return connection;\n}\n</code></pre>\n"},{"tags":["java","spring","servlets","webserver"],"answers":[{"tags":[],"owner":{"account_id":25387686,"reputation":83,"user_id":19199234,"display_name":"Rayyan Karimi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673418882,"creation_date":1673418882,"answer_id":75079124,"question_id":75076547,"body_markdown":"A similar error occurs if your address or port is incorrect / already used. This fixes the error in most situations, but a driver like the one mentioned above may cause the error.\r\n\r\nTry changing port number from `8080` to something else. If that doesn&#39;t suffice, then one other instance I came across is as the following : \r\n\r\nThere was control software installed for the individuals Network interface controller (NIC) that allowed both ethernet and wifi to be used simultaneously. This was installed to supposedly improve gaming experience, but did not play nicely with tomcat in Spring. Once disabled the application was able to run as expected. It is described as follows :\r\n\r\nThis was a network interface Carr driver for an installed card. It will be different depending on card and driver installed - You can look at your drivers by looking at the Device Manager on windows.\r\n\r\nHope it helps you!!","title":"Failed to start &#39;webServerStartStop&#39; spring boot app","body":"<p>A similar error occurs if your address or port is incorrect / already used. This fixes the error in most situations, but a driver like the one mentioned above may cause the error.</p>\n<p>Try changing port number from <code>8080</code> to something else. If that doesn't suffice, then one other instance I came across is as the following :</p>\n<p>There was control software installed for the individuals Network interface controller (NIC) that allowed both ethernet and wifi to be used simultaneously. This was installed to supposedly improve gaming experience, but did not play nicely with tomcat in Spring. Once disabled the application was able to run as expected. It is described as follows :</p>\n<p>This was a network interface Carr driver for an installed card. It will be different depending on card and driver installed - You can look at your drivers by looking at the Device Manager on windows.</p>\n<p>Hope it helps you!!</p>\n"},{"tags":[],"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673424157,"creation_date":1673424157,"answer_id":75079893,"question_id":75076547,"body_markdown":"\r\nThere was control software installed for the individuals Network interface controller (NIC) that allowed both ethernet and wifi to be used simultaneously. This was installed to supposedly improve gaming experience, but did not play nicely with tomcat in Spring. Once disabled the application was able to run as expected.\r\n\r\nA similar error occurs if your address or port is incorrect / already used. This fixes the error in most situations, but a driver like the one mentioned above may cause the error.\r\n\r\nDisable the Gamingservices service or go to the task manager and end the task of gamingservices and run again the application. or restart the computer.\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MTi4s.png","title":"Failed to start &#39;webServerStartStop&#39; spring boot app","body":"<p>There was control software installed for the individuals Network interface controller (NIC) that allowed both ethernet and wifi to be used simultaneously. This was installed to supposedly improve gaming experience, but did not play nicely with tomcat in Spring. Once disabled the application was able to run as expected.</p>\n<p>A similar error occurs if your address or port is incorrect / already used. This fixes the error in most situations, but a driver like the one mentioned above may cause the error.</p>\n<p>Disable the Gamingservices service or go to the task manager and end the task of gamingservices and run again the application. or restart the computer.</p>\n<p><a href=\"https://i.stack.imgur.com/MTi4s.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":27487600,"reputation":31,"user_id":20973578,"display_name":"kalkam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2321,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1673424157,"creation_date":1673389942,"question_id":75076547,"body_markdown":"After trying to run my app which main Class is present here:\r\n\r\n\r\n```\r\n@SpringBootApplication public class RappersInfo {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\nSpringApplication.run(RappersInfo.class, args);\r\n\r\n\t} \t@Component\r\n\tpublic class JspContextCustomizer implements TomcatContextCustomizer {\r\n\t\t@Override\r\n\t\tpublic void customize(Context context) {\r\n\t\t\tJspPropertyGroup group = new JspPropertyGroup();\r\n\t\t\tgroup.addUrlPattern(&quot;/*&quot;);\r\n\t\t\tgroup.setPageEncoding(&quot;UTF-8&quot;);\r\n\t\t\tcontext.setJspConfigDescriptor(new JspConfigDescriptorImpl(\r\n\t\t\t\t\tCollections.singletonList(new JspPropertyGroupDescriptorImpl(group)),\r\n\t\t\t\t\tCollections.emptyList()));\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nI get that error after trying to run that class:\r\n\r\n&gt; org.springframework.context.ApplicationContextException: Failed to start bean &#39;webServerStartStop&#39;; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\r\n&gt; \tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.24.jar:5.3.24]\r\n&gt; \tat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.24.jar:5.3.24]\r\n&gt; \tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.24.jar:5.3.24]\r\n&gt; \tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n&gt; \tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.24.jar:5.3.24]\r\n&gt; \tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.24.jar:5.3.24]\r\n&gt; \tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.24.jar:5.3.24]\r\n&gt; \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.24.jar:5.3.24]\r\n&gt; \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; \tat com.example.RappersInfo.demo.RappersInfo.main(RappersInfo.java:20) ~[classes/:na]\r\n&gt; \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n&gt; \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n&gt; \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n&gt; \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n&gt; \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.6.jar:2.7.6]\r\n&gt; Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\r\n&gt; \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:229) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; \tat org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:43) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; \tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.24.jar:5.3.24]\r\n&gt; 19 common frames omitted\r\n&gt; Caused by: org.springframework.boot.web.server.WebServerException: Servlet [jsp] in web application [] threw load() exception\r\n&gt; \tat org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedContext.load(TomcatEmbeddedContext.java:86) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[na:na]\r\n&gt; \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\r\n&gt; \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]\r\n&gt; \tat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:276) ~[na:na]\r\n&gt; \tat java.base/java.util.TreeMap$ValueSpliterator.forEachRemaining(TreeMap.java:3215) ~[na:na]\r\n&gt; \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n&gt; \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n&gt; \tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[na:na]\r\n&gt; \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[na:na]\r\n&gt; \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n&gt; \tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]\r\n&gt; \tat org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedContext.lambda$deferredLoadOnStartup$0(TomcatEmbeddedContext.java:64) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; \tat org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedContext.doWithThreadContextClassLoader(TomcatEmbeddedContext.java:105) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; \tat org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedContext.deferredLoadOnStartup(TomcatEmbeddedContext.java:63) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.performDeferredLoadOnStartup(TomcatWebServer.java:305) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:216) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; 21 common frames omitted\r\n&gt; Caused by: javax.servlet.ServletException: Class [org.apache.jasper.servlet.JspServlet] is not a Servlet\r\n&gt; \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1072) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n&gt; \tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1007) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n&gt; \tat org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedContext.load(TomcatEmbeddedContext.java:81) ~[spring-boot-2.7.6.jar:2.7.6]\r\n&gt; 37 common frames omitted\r\n&gt; Caused by: java.lang.ClassCastException: class org.apache.jasper.servlet.JspServlet cannot be cast to class javax.servlet.Servlet (org.apache.jasper.servlet.JspServlet and javax.servlet.Servlet are in unnamed module of loader &#39;app&#39;)\r\n&gt; \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1067) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\r\n&gt; 39 common frames omitted\r\n\r\n\r\n\r\nAnd here is my pom.xml:\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.6&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example.RappersInfo&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;rappersInfoImage&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;11.0.0-M1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;glassfish-jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;11.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jquery&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;bootstrap-datepicker&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;11.0.0-M1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;```\r\n\r\n\r\n What can i do?\r\n\r\nTried almost everything what was in the internet.\r\n\r\nError happens after changing spring boot version from 3.x. to 2.7.6 (i want to deploy it with war file). Im not sure about my pom.xml. Maybe there is a problem with tomcat dependencies?","title":"Failed to start &#39;webServerStartStop&#39; spring boot app","body":"<p>After trying to run my app which main Class is present here:</p>\n<pre><code>@SpringBootApplication public class RappersInfo {\n\n    public static void main(String[] args) {\n\nSpringApplication.run(RappersInfo.class, args);\n\n    }   @Component\n    public class JspContextCustomizer implements TomcatContextCustomizer {\n        @Override\n        public void customize(Context context) {\n            JspPropertyGroup group = new JspPropertyGroup();\n            group.addUrlPattern(&quot;/*&quot;);\n            group.setPageEncoding(&quot;UTF-8&quot;);\n            context.setJspConfigDescriptor(new JspConfigDescriptorImpl(\n                    Collections.singletonList(new JspPropertyGroupDescriptorImpl(group)),\n                    Collections.emptyList()));\n        }\n    }\n}\n</code></pre>\n<p>I get that error after trying to run that class:</p>\n<blockquote>\n<p>org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\nat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.24.jar:5.3.24]\nat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.24.jar:5.3.24]\nat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.24.jar:5.3.24]\nat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\nat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.24.jar:5.3.24]\nat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.24.jar:5.3.24]\nat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.24.jar:5.3.24]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.24.jar:5.3.24]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.6.jar:2.7.6]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.6.jar:2.7.6]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.6.jar:2.7.6]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.6.jar:2.7.6]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.6.jar:2.7.6]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.6.jar:2.7.6]\nat com.example.RappersInfo.demo.RappersInfo.main(RappersInfo.java:20) ~[classes/:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.6.jar:2.7.6]\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:229) ~[spring-boot-2.7.6.jar:2.7.6]\nat org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:43) ~[spring-boot-2.7.6.jar:2.7.6]\nat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.24.jar:5.3.24]\n19 common frames omitted\nCaused by: org.springframework.boot.web.server.WebServerException: Servlet [jsp] in web application [] threw load() exception\nat org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedContext.load(TomcatEmbeddedContext.java:86) ~[spring-boot-2.7.6.jar:2.7.6]\nat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[na:na]\nat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\nat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]\nat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:276) ~[na:na]\nat java.base/java.util.TreeMap$ValueSpliterator.forEachRemaining(TreeMap.java:3215) ~[na:na]\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\nat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[na:na]\nat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[na:na]\nat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\nat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]\nat org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedContext.lambda$deferredLoadOnStartup$0(TomcatEmbeddedContext.java:64) ~[spring-boot-2.7.6.jar:2.7.6]\nat org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedContext.doWithThreadContextClassLoader(TomcatEmbeddedContext.java:105) ~[spring-boot-2.7.6.jar:2.7.6]\nat org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedContext.deferredLoadOnStartup(TomcatEmbeddedContext.java:63) ~[spring-boot-2.7.6.jar:2.7.6]\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.performDeferredLoadOnStartup(TomcatWebServer.java:305) ~[spring-boot-2.7.6.jar:2.7.6]\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:216) ~[spring-boot-2.7.6.jar:2.7.6]\n21 common frames omitted\nCaused by: javax.servlet.ServletException: Class [org.apache.jasper.servlet.JspServlet] is not a Servlet\nat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1072) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\nat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1007) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\nat org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedContext.load(TomcatEmbeddedContext.java:81) ~[spring-boot-2.7.6.jar:2.7.6]\n37 common frames omitted\nCaused by: java.lang.ClassCastException: class org.apache.jasper.servlet.JspServlet cannot be cast to class javax.servlet.Servlet (org.apache.jasper.servlet.JspServlet and javax.servlet.Servlet are in unnamed module of loader 'app')\nat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1067) ~[tomcat-embed-core-9.0.69.jar:9.0.69]\n39 common frames omitted</p>\n</blockquote>\n<p>And here is my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example.RappersInfo&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;rappersInfoImage&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;version&gt;11.0.0-M1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;glassfish-jstl&lt;/artifactId&gt;\n            &lt;version&gt;11.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;5.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;jquery&lt;/artifactId&gt;\n            &lt;version&gt;3.6.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap-datepicker&lt;/artifactId&gt;\n            &lt;version&gt;1.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\n            &lt;version&gt;11.0.0-M1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;```\n\n\n What can i do?\n\nTried almost everything what was in the internet.\n\nError happens after changing spring boot version from 3.x. to 2.7.6 (i want to deploy it with war file). Im not sure about my pom.xml. Maybe there is a problem with tomcat dependencies?\n</code></pre>\n"},{"tags":["java","spring-boot","rest","http","multipartfile"],"answers":[{"comments":[{"owner":{"account_id":25798764,"reputation":21,"user_id":19541542,"display_name":"Aman Mishra"},"score":0,"creation_date":1673419894,"post_id":75079068,"comment_id":132491970,"body_markdown":"Did it but still getting the same response from the server","body":"Did it but still getting the same response from the server"},{"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"score":0,"creation_date":1673420284,"post_id":75079068,"comment_id":132492054,"body_markdown":"spring.servlet.multipart.enabled=true\nspring.servlet.multipart.max-file-size=300MB\nspring.servlet.multipart.file-size-threshold=1KB    please try this it will work","body":"spring.servlet.multipart.enabled=true spring.servlet.multipart.max-file-size=300MB spring.servlet.multipart.file-size-threshold=1KB    please try this it will work"}],"tags":[],"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673418463,"creation_date":1673418463,"answer_id":75079068,"question_id":75078181,"body_markdown":"To upload a large file or any file you have to explicitly enable multipart as true be default it is false \r\nSo to that use the following command in application.properties\r\n\r\n\r\n     spring.servlet.multipart.enabled=true","title":"Getting 503 exception when sending large file as body in post request","body":"<p>To upload a large file or any file you have to explicitly enable multipart as true be default it is false\nSo to that use the following command in application.properties</p>\n<pre><code> spring.servlet.multipart.enabled=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27459886,"reputation":61,"user_id":20950641,"display_name":"sanah saleem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673419881,"creation_date":1673419881,"answer_id":75079246,"question_id":75078181,"body_markdown":"Is there any other configurations in your application.properties or any other dependencies in your project ?\r\n\r\nAdding this to your properties file should have done the work\r\n```\r\nspring:\r\n  servlet:\r\n    multipart:\r\n      max-file-size: 500MB\r\n      max-request-size: 500MB\r\n```\r\n\r\nAlso setting the max file limit according to your spring version as described here \r\n\r\nhttps://stackoverflow.com/a/57810158/20950641","title":"Getting 503 exception when sending large file as body in post request","body":"<p>Is there any other configurations in your application.properties or any other dependencies in your project ?</p>\n<p>Adding this to your properties file should have done the work</p>\n<pre><code>spring:\n  servlet:\n    multipart:\n      max-file-size: 500MB\n      max-request-size: 500MB\n</code></pre>\n<p>Also setting the max file limit according to your spring version as described here</p>\n<p><a href=\"https://stackoverflow.com/a/57810158/20950641\">https://stackoverflow.com/a/57810158/20950641</a></p>\n"}],"owner":{"account_id":25798764,"reputation":21,"user_id":19541542,"display_name":"Aman Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673423792,"creation_date":1673409065,"question_id":75078181,"body_markdown":"Below is my rest endpoint and code. I am trying to upload a large file by using Multipart, but when I am attaching a large file (&gt;100MB)in postman I am getting 503 error and request is not coming to my server. \r\n\r\n\r\n```\r\n@PostMapping(&quot;load/largefile&quot;)\r\n    public ResponseObj loadHaevyFileToS3(@RequestPart(value = &quot;file&quot;) MultipartFile jsonDataFile) {\r\n        return new ResponseObj(true,loadService.load(jsonDataFile));\r\n    }\r\n```\r\n\r\nBut when I am attching file of smaller size it is working fine \r\n\r\nI have added the below properties in my application.properties.\r\n\r\n\r\n\r\n```\r\nspring.servlet.multipart.max-request-size=500MB\r\nspring.servlet.multipart.max-file-size=500MB\r\nserver.tomcat.max-http-form-post-size=500MB\r\n```\r\nSpring version : 5.0.8.RELEASE\r\n\r\nAlso in logs I am not getting any error and seems like call is not coming to server, but with smaller file it is coming. \r\n\r\nI don&#39;t know what I am missing here, please help me out.\r\nThanks in advance.\r\n\r\nNOTE: **When I am using to hit to my local(localhost:8090) it is working and call is coming to my local server but after deploying the code when I am hitting the postman to my main server I am facing the above issue**.\r\n[Postman Screen shot](https://i.stack.imgur.com/cDDbV.png)","title":"Getting 503 exception when sending large file as body in post request","body":"<p>Below is my rest endpoint and code. I am trying to upload a large file by using Multipart, but when I am attaching a large file (&gt;100MB)in postman I am getting 503 error and request is not coming to my server.</p>\n<pre><code>@PostMapping(&quot;load/largefile&quot;)\n    public ResponseObj loadHaevyFileToS3(@RequestPart(value = &quot;file&quot;) MultipartFile jsonDataFile) {\n        return new ResponseObj(true,loadService.load(jsonDataFile));\n    }\n</code></pre>\n<p>But when I am attching file of smaller size it is working fine</p>\n<p>I have added the below properties in my application.properties.</p>\n<pre><code>spring.servlet.multipart.max-request-size=500MB\nspring.servlet.multipart.max-file-size=500MB\nserver.tomcat.max-http-form-post-size=500MB\n</code></pre>\n<p>Spring version : 5.0.8.RELEASE</p>\n<p>Also in logs I am not getting any error and seems like call is not coming to server, but with smaller file it is coming.</p>\n<p>I don't know what I am missing here, please help me out.\nThanks in advance.</p>\n<p>NOTE: <strong>When I am using to hit to my local(localhost:8090) it is working and call is coming to my local server but after deploying the code when I am hitting the postman to my main server I am facing the above issue</strong>.\n<a href=\"https://i.stack.imgur.com/cDDbV.png\" rel=\"nofollow noreferrer\">Postman Screen shot</a></p>\n"},{"tags":["java","browser","user-agent"],"answers":[{"tags":[],"owner":{"account_id":1927754,"reputation":5881,"user_id":1737819,"accept_rate":89,"display_name":"Developer Marius Žilėnas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1423124547,"creation_date":1423124547,"answer_id":28339234,"question_id":27474776,"body_markdown":"You might use [UADetector library](http://uadetector.sourceforge.net/) that does just that. It has device categorization feature added since 0.9.10 version.\r\n\r\n&gt; UADetector is a library to identify over 190 different desktop and mobile browsers and 130 other User-Agents like feed readers, email clients and multimedia players. In addition, even more than 400 robots like BingBot, Googlebot or Yahoo Bot can be identified.","title":"Detect device types from user agent strings","body":"<p>You might use <a href=\"http://uadetector.sourceforge.net/\" rel=\"nofollow\">UADetector library</a> that does just that. It has device categorization feature added since 0.9.10 version.</p>\n\n<blockquote>\n  <p>UADetector is a library to identify over 190 different desktop and mobile browsers and 130 other User-Agents like feed readers, email clients and multimedia players. In addition, even more than 400 robots like BingBot, Googlebot or Yahoo Bot can be identified.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":4436420,"reputation":1834,"user_id":4743630,"accept_rate":77,"display_name":"Elias Strehle"},"score":0,"creation_date":1545303518,"post_id":31294057,"comment_id":94581765,"body_markdown":"One use case is in online advertising. Some ads are only successful on certain device types. An ad for pizza delivery would probably be most interesting to users who are at home ... so you might decide to display it only on desktop devices.","body":"One use case is in online advertising. Some ads are only successful on certain device types. An ad for pizza delivery would probably be most interesting to users who are at home ... so you might decide to display it only on desktop devices."}],"tags":[],"owner":{"account_id":1432659,"reputation":4525,"user_id":1354712,"accept_rate":77,"display_name":"Dave Voyles"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436361836,"creation_date":1436361836,"answer_id":31294057,"question_id":27474776,"body_markdown":"I&#39;m curious: Why does the device type matter? \r\n\r\nNot trying to be snarky, but trying to understand a use case. \r\n\r\n[In Cordova you can check for this,][1] but now sure about straight HTML. I which I have done for iOS before. I needed to do this to detect when I needed to add a 20px margin to the header of a page on a Cordova app, as iOS made this change several versions ago.\r\n\r\nHere is how I did it:\r\n\r\n        if (parseFloat(window.device.version) &gt;= 7.0 ) {\r\n            $allHeaders.css( &quot;margin-top&quot;, &quot;20px&quot; );       \r\n        }\r\n\r\n\r\n  [1]: http://docs.phonegap.com/en/edge/cordova_device_device.md.html","title":"Detect device types from user agent strings","body":"<p>I'm curious: Why does the device type matter? </p>\n\n<p>Not trying to be snarky, but trying to understand a use case. </p>\n\n<p><a href=\"http://docs.phonegap.com/en/edge/cordova_device_device.md.html\" rel=\"nofollow\">In Cordova you can check for this,</a> but now sure about straight HTML. I which I have done for iOS before. I needed to do this to detect when I needed to add a 20px margin to the header of a page on a Cordova app, as iOS made this change several versions ago.</p>\n\n<p>Here is how I did it:</p>\n\n<pre><code>    if (parseFloat(window.device.version) &gt;= 7.0 ) {\n        $allHeaders.css( \"margin-top\", \"20px\" );       \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7667205,"reputation":283,"user_id":5810608,"display_name":"Otrozone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673423676,"creation_date":1673423676,"answer_id":75079823,"question_id":27474776,"body_markdown":"This might help.\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class DeviceTypeDetector {\r\n        public static String getDeviceType(String userAgent) {\r\n            String deviceType;\r\n            Pattern tabletPattern = Pattern.compile(&quot;(tablet|ipad|playbook|silk)|(android(?!.*mobi))&quot;, Pattern.CASE_INSENSITIVE);\r\n            Matcher tabletMatcher = tabletPattern.matcher(userAgent);\r\n            Pattern mobilePattern = Pattern.compile(&quot;(mobi|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds)&quot;, Pattern.CASE_INSENSITIVE);\r\n            Matcher mobileMatcher = mobilePattern.matcher(userAgent);\r\n            if (tabletMatcher.find()) {\r\n                deviceType = &quot;tablet&quot;;\r\n            } else if (mobileMatcher.find()) {\r\n                deviceType = &quot;mobile&quot;;\r\n            } else {\r\n                deviceType = &quot;desktop&quot;;\r\n            }\r\n            return deviceType;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            String userAgent = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4537.110 Safari/537.36&quot;;\r\n            System.out.println(getDeviceType(userAgent));\r\n        }\r\n    }","title":"Detect device types from user agent strings","body":"<p>This might help.</p>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class DeviceTypeDetector {\n    public static String getDeviceType(String userAgent) {\n        String deviceType;\n        Pattern tabletPattern = Pattern.compile(&quot;(tablet|ipad|playbook|silk)|(android(?!.*mobi))&quot;, Pattern.CASE_INSENSITIVE);\n        Matcher tabletMatcher = tabletPattern.matcher(userAgent);\n        Pattern mobilePattern = Pattern.compile(&quot;(mobi|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds)&quot;, Pattern.CASE_INSENSITIVE);\n        Matcher mobileMatcher = mobilePattern.matcher(userAgent);\n        if (tabletMatcher.find()) {\n            deviceType = &quot;tablet&quot;;\n        } else if (mobileMatcher.find()) {\n            deviceType = &quot;mobile&quot;;\n        } else {\n            deviceType = &quot;desktop&quot;;\n        }\n        return deviceType;\n    }\n\n    public static void main(String[] args) {\n        String userAgent = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4537.110 Safari/537.36&quot;;\n        System.out.println(getDeviceType(userAgent));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1132467,"reputation":3911,"user_id":1118236,"accept_rate":41,"display_name":"Munichong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10776,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":28339234,"answer_count":3,"score":4,"last_activity_date":1673423676,"creation_date":1418595465,"question_id":27474776,"body_markdown":"I am trying to detect &quot;desktop&quot;, &quot;mobile&quot;, and &quot;tablet&quot; from user agent strings. What I need is just these three rough categories. Brand and device names are not needed. Some examples of user agent I have are:\r\n\r\n&quot;Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; WOW64; Trident/6.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; .NET4.0E; InfoPath.3)&quot;\r\n\r\n&quot;Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2125.104 Safari/537.36&quot;\r\n\r\nIs there any existing API can do this? \r\n\r\nAccording to the very last sentence of [this article][1], it seems that looking for keyword &quot;mobi&quot; in a user agent string can handle most cases. But it seems too easy to be true......\r\n\r\n\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Browser_detection_using_the_user_agent","title":"Detect device types from user agent strings","body":"<p>I am trying to detect \"desktop\", \"mobile\", and \"tablet\" from user agent strings. What I need is just these three rough categories. Brand and device names are not needed. Some examples of user agent I have are:</p>\n\n<p>\"Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.1; WOW64; Trident/6.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; .NET4.0E; InfoPath.3)\"</p>\n\n<p>\"Mozilla/5.0 (Windows NT 5.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/38.0.2125.104 Safari/537.36\"</p>\n\n<p>Is there any existing API can do this? </p>\n\n<p>According to the very last sentence of <a href=\"https://developer.mozilla.org/en-US/docs/Browser_detection_using_the_user_agent\" rel=\"nofollow\">this article</a>, it seems that looking for keyword \"mobi\" in a user agent string can handle most cases. But it seems too easy to be true......</p>\n"},{"tags":["java","hashmap","priority-queue","comparator","huffman-code"],"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1302881293,"post_id":5678896,"comment_id":6483453,"body_markdown":"This appear to be far more complicated than it needs to be.  Shouldn&#39;t all `A` be counted even if they are not consecutive.","body":"This appear to be far more complicated than it needs to be.  Shouldn&#39;t all <code>A</code> be counted even if they are not consecutive."},{"owner":{"account_id":237956,"reputation":2108,"user_id":506517,"accept_rate":94,"display_name":"Trevor Arjeski"},"score":0,"creation_date":1302881464,"post_id":5678896,"comment_id":6483508,"body_markdown":"They will always be consecutive if they are in a PriorityQueue that sorts by Character value","body":"They will always be consecutive if they are in a PriorityQueue that sorts by Character value"}],"answers":[{"comments":[{"owner":{"account_id":237956,"reputation":2108,"user_id":506517,"accept_rate":94,"display_name":"Trevor Arjeski"},"score":0,"creation_date":1302882263,"post_id":5679119,"comment_id":6483749,"body_markdown":"@Aasmund Thanks a lot.  I&#39;ll look around for implementation of HashMap","body":"@Aasmund Thanks a lot.  I&#39;ll look around for implementation of HashMap"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1302882514,"post_id":5679119,"comment_id":6483837,"body_markdown":"@trevorma, HashMap is built in.  A more efficient collection would be TIntIntHashMap as it uses primtives.","body":"@trevorma, HashMap is built in.  A more efficient collection would be TIntIntHashMap as it uses primtives."},{"owner":{"account_id":312656,"reputation":37469,"user_id":626853,"display_name":"Aasmund Eldhuset"},"score":0,"creation_date":1302882565,"post_id":5679119,"comment_id":6483854,"body_markdown":"@TrevorMA: It&#39;s a part of the [Java Collections API](http://download.oracle.com/javase/1.4.2/docs/api/java/util/HashMap.html). Just use `import java.util.HashMap;`.","body":"@TrevorMA: It&#39;s a part of the <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/util/HashMap.html\" rel=\"nofollow noreferrer\">Java Collections API</a>. Just use <code>import java.util.HashMap;</code>."},{"owner":{"account_id":237956,"reputation":2108,"user_id":506517,"accept_rate":94,"display_name":"Trevor Arjeski"},"score":0,"creation_date":1302883069,"post_id":5679119,"comment_id":6484002,"body_markdown":"@Peter How do I import TIntIntHashMap?","body":"@Peter How do I import TIntIntHashMap?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1302883217,"post_id":5679119,"comment_id":6484041,"body_markdown":"@TrevorMA, Download it from http://trove.starlight-systems.com/ (found using google), add the jar to your classpath and `import gnu.trove.TIntIntHashMap;`","body":"@TrevorMA, Download it from <a href=\"http://trove.starlight-systems.com/\" rel=\"nofollow noreferrer\">trove.starlight-systems.com</a> (found using google), add the jar to your classpath and <code>import gnu.trove.TIntIntHashMap;</code>"},{"owner":{"account_id":312656,"reputation":37469,"user_id":626853,"display_name":"Aasmund Eldhuset"},"score":1,"creation_date":1302883875,"post_id":5679119,"comment_id":6484214,"body_markdown":"@TrevorMA: Unless you really need the slight performance improvement offered by `TIntIntHashMap`, I recommend that you use the standard `HashMap`, in particular since you haven&#39;t used it before (this will be a good opportunity to learn it, and you&#39;ll come across `HashMap` _much_ more often than `TIntIntHashMap`).","body":"@TrevorMA: Unless you really need the slight performance improvement offered by <code>TIntIntHashMap</code>, I recommend that you use the standard <code>HashMap</code>, in particular since you haven&#39;t used it before (this will be a good opportunity to learn it, and you&#39;ll come across <code>HashMap</code> <i>much</i> more often than <code>TIntIntHashMap</code>)."},{"owner":{"account_id":237956,"reputation":2108,"user_id":506517,"accept_rate":94,"display_name":"Trevor Arjeski"},"score":0,"creation_date":1302884513,"post_id":5679119,"comment_id":6484388,"body_markdown":"@Aasund Hey, I appreciate the guidance.  I&#39;m reading about HashMap as we speak.  I am just trying to plan out how I will increment the values as I traverse the file, as the documentation does not show a set method.","body":"@Aasund Hey, I appreciate the guidance.  I&#39;m reading about HashMap as we speak.  I am just trying to plan out how I will increment the values as I traverse the file, as the documentation does not show a set method."},{"owner":{"account_id":312656,"reputation":37469,"user_id":626853,"display_name":"Aasmund Eldhuset"},"score":1,"creation_date":1302885009,"post_id":5679119,"comment_id":6484498,"body_markdown":"@TrevorMA: True; that can be a little confusing. The `put()` method is used both to place something in the hashmap for the first time, and also to replace an existing value. Let&#39;s say that you have a character stored in the variable `c`; then you&#39;ll first need to check if the hashmap contains `c` as a key. If it does, you can read the current frequency with `get()`, compute frequency + 1 and update the frequency in the hashmap with `put()`. If the key is not there, you can add it with the frequency 1.","body":"@TrevorMA: True; that can be a little confusing. The <code>put()</code> method is used both to place something in the hashmap for the first time, and also to replace an existing value. Let&#39;s say that you have a character stored in the variable <code>c</code>; then you&#39;ll first need to check if the hashmap contains <code>c</code> as a key. If it does, you can read the current frequency with <code>get()</code>, compute frequency + 1 and update the frequency in the hashmap with <code>put()</code>. If the key is not there, you can add it with the frequency 1."},{"owner":{"account_id":237956,"reputation":2108,"user_id":506517,"accept_rate":94,"display_name":"Trevor Arjeski"},"score":0,"creation_date":1302885784,"post_id":5679119,"comment_id":6484669,"body_markdown":"@Aasmund Perfect.  I have on last question if you don&#39;t mind, then I will stop being a bother.  Once I have collected all the characters and their frequencies, how do I return a Collection that can be used in the construction of my Huffman Tree?  I know that I can return a Collection&lt;Integers&gt; by using the .values() method.","body":"@Aasmund Perfect.  I have on last question if you don&#39;t mind, then I will stop being a bother.  Once I have collected all the characters and their frequencies, how do I return a Collection that can be used in the construction of my Huffman Tree?  I know that I can return a Collection&lt;Integers&gt; by using the .values() method."},{"owner":{"account_id":312656,"reputation":37469,"user_id":626853,"display_name":"Aasmund Eldhuset"},"score":1,"creation_date":1302886056,"post_id":5679119,"comment_id":6484723,"body_markdown":"@TrevorMA: No problem. Use the `entrySet()` method, which gives you a collection of map entries, where each entry contains both the key and the value.","body":"@TrevorMA: No problem. Use the <code>entrySet()</code> method, which gives you a collection of map entries, where each entry contains both the key and the value."},{"owner":{"account_id":312656,"reputation":37469,"user_id":626853,"display_name":"Aasmund Eldhuset"},"score":1,"creation_date":1302886468,"post_id":5679119,"comment_id":6484811,"body_markdown":"@TrevorMA: Glad it helped. By the way, remember to somehow include a description of the Huffman tree in the output file, since the bit sequence that is produced by the algorithm isn&#39;t of much use if you don&#39;t have the tree... ;-)","body":"@TrevorMA: Glad it helped. By the way, remember to somehow include a description of the Huffman tree in the output file, since the bit sequence that is produced by the algorithm isn&#39;t of much use if you don&#39;t have the tree... ;-)"},{"owner":{"account_id":237956,"reputation":2108,"user_id":506517,"accept_rate":94,"display_name":"Trevor Arjeski"},"score":0,"creation_date":1302889459,"post_id":5679119,"comment_id":6485570,"body_markdown":"@Aasmund Would you mind looking at my new method? I keep getting a NoSuchElementException.","body":"@Aasmund Would you mind looking at my new method? I keep getting a NoSuchElementException."},{"owner":{"account_id":312656,"reputation":37469,"user_id":626853,"display_name":"Aasmund Eldhuset"},"score":1,"creation_date":1302889842,"post_id":5679119,"comment_id":6485654,"body_markdown":"@TrevorMA: After doing `Character key = reader.next().charAt(i);`, you call `reader.next()` once more, thus reading one more character. That character will likely be different from the one that is now stored in `key`, and you ask if the _second_ character is present in the dictionary - and if it is, you try to update `key`. (Edit: I see now that you call `next()` many times - each call to next gives you the next string from the input... Use `next()` only once in the entire `while` loop body.)","body":"@TrevorMA: After doing <code>Character key = reader.next().charAt(i);</code>, you call <code>reader.next()</code> once more, thus reading one more character. That character will likely be different from the one that is now stored in <code>key</code>, and you ask if the <i>second</i> character is present in the dictionary - and if it is, you try to update <code>key</code>. (Edit: I see now that you call <code>next()</code> many times - each call to next gives you the next string from the input... Use <code>next()</code> only once in the entire <code>while</code> loop body.)"},{"owner":{"account_id":237956,"reputation":2108,"user_id":506517,"accept_rate":94,"display_name":"Trevor Arjeski"},"score":0,"creation_date":1302890161,"post_id":5679119,"comment_id":6485735,"body_markdown":"@Aasumnd Thanks, I debugged and realized that I called next() too many time as well.  I haven&#39;t used java in a while so I&#39;m trying to get back into things.  Thanks again.","body":"@Aasumnd Thanks, I debugged and realized that I called next() too many time as well.  I haven&#39;t used java in a while so I&#39;m trying to get back into things.  Thanks again."},{"owner":{"account_id":237956,"reputation":2108,"user_id":506517,"accept_rate":94,"display_name":"Trevor Arjeski"},"score":0,"creation_date":1302893836,"post_id":5679119,"comment_id":6486611,"body_markdown":"@Aasmund ONE final question, I promise.  I&#39;m still a little foggy about getting my collection entries into the Node objects in order to be placed in the priorityqueue","body":"@Aasmund ONE final question, I promise.  I&#39;m still a little foggy about getting my collection entries into the Node objects in order to be placed in the priorityqueue"},{"owner":{"account_id":312656,"reputation":37469,"user_id":626853,"display_name":"Aasmund Eldhuset"},"score":1,"creation_date":1302894641,"post_id":5679119,"comment_id":6486812,"body_markdown":"@TrevorMA: Let&#39;s say that you store the return value from `gatherFrequency()` in a variable called `entries`. Then you could iterate through it with a foreach loop and create nodes based on the entries: `for (Entry&lt;Character, Integer&gt; entry : entries) { PQ.add(new Node(entry.getKey(), entry.getValue())); }`.","body":"@TrevorMA: Let&#39;s say that you store the return value from <code>gatherFrequency()</code> in a variable called <code>entries</code>. Then you could iterate through it with a foreach loop and create nodes based on the entries: <code>for (Entry&lt;Character, Integer&gt; entry : entries) { PQ.add(new Node(entry.getKey(), entry.getValue())); }</code>."},{"owner":{"account_id":312656,"reputation":37469,"user_id":626853,"display_name":"Aasmund Eldhuset"},"score":0,"creation_date":1302899287,"post_id":5679119,"comment_id":6488008,"body_markdown":"@Trevor Arjeski: Thanks - or maybe I&#39;ve just been programming for too long ;-)","body":"@Trevor Arjeski: Thanks - or maybe I&#39;ve just been programming for too long ;-)"},{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":0,"creation_date":1673539001,"post_id":5679119,"comment_id":132526604,"body_markdown":"A hash map?! Seems like a waste of time. You can count the frequencies much faster in a simple array of 256 counts directly indexed by the character value.","body":"A hash map?! Seems like a waste of time. You can count the frequencies much faster in a simple array of 256 counts directly indexed by the character value."},{"owner":{"account_id":312656,"reputation":37469,"user_id":626853,"display_name":"Aasmund Eldhuset"},"score":0,"creation_date":1673569399,"post_id":5679119,"comment_id":132534950,"body_markdown":"@MarkAdler: True - if you&#39;re dealing with ASCII or some other 7- or 8-bit character set. Unicode characters might require as much as a 32-bit integer to represent (so even my choice of `Character` was debatable). If you stick to a character (sub)set that fits in 16 bits, a 65536-entry array isn&#39;t too bad, but using 2^32 for all of Unicode is probably not advisable. And unless very high performance is required, my personal opinion is to use types that provide as much semantics as possible about their intended usage. And hashmap operations are O(1), though certainly slower by a constant factor.","body":"@MarkAdler: True - if you&#39;re dealing with ASCII or some other 7- or 8-bit character set. Unicode characters might require as much as a 32-bit integer to represent (so even my choice of <code>Character</code> was debatable). If you stick to a character (sub)set that fits in 16 bits, a 65536-entry array isn&#39;t too bad, but using 2^32 for all of Unicode is probably not advisable. And unless very high performance is required, my personal opinion is to use types that provide as much semantics as possible about their intended usage. And hashmap operations are O(1), though certainly slower by a constant factor."},{"owner":{"account_id":312656,"reputation":37469,"user_id":626853,"display_name":"Aasmund Eldhuset"},"score":0,"creation_date":1673569747,"post_id":5679119,"comment_id":132534999,"body_markdown":"@MarkAdler: After double-checking Wikipedia, I see that Unicode only covers a range of 1114112 code points (I&#39;m just used to thinking of having to use an `int` to store a &quot;full&quot; character). Even so, most texts only use a fraction of the character, and so the array would be very sparsely populated and waste a lot of space. Which certainly is sometimes the tradeoff one does want to make, but not always :-)","body":"@MarkAdler: After double-checking Wikipedia, I see that Unicode only covers a range of 1114112 code points (I&#39;m just used to thinking of having to use an <code>int</code> to store a &quot;full&quot; character). Even so, most texts only use a fraction of the character, and so the array would be very sparsely populated and waste a lot of space. Which certainly is sometimes the tradeoff one does want to make, but not always :-)"}],"tags":[],"owner":{"account_id":312656,"reputation":37469,"user_id":626853,"display_name":"Aasmund Eldhuset"},"comment_count":20,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1302881815,"creation_date":1302881815,"answer_id":5679119,"question_id":5678896,"body_markdown":"The standard approach to implementing Huffman trees is to use a _hashmap_ (in Java, you&#39;d probably use a `HashMap&lt;Character, Integer&gt;`) to count the frequency for each letter, and insert into the priority queue one node for each letter. So when constructing the Huffman tree itself, you start out with a priority queue that is already in the &quot;final&quot; state that you showed. The Huffman algorithm then repeatedly extracts two nodes from the priority queue, constructs a new parent node for those two nodes, and inserts the new node into the priority queue.","title":"Comparator and Priority Queues","body":"<p>The standard approach to implementing Huffman trees is to use a <em>hashmap</em> (in Java, you'd probably use a <code>HashMap&lt;Character, Integer&gt;</code>) to count the frequency for each letter, and insert into the priority queue one node for each letter. So when constructing the Huffman tree itself, you start out with a priority queue that is already in the \"final\" state that you showed. The Huffman algorithm then repeatedly extracts two nodes from the priority queue, constructs a new parent node for those two nodes, and inserts the new node into the priority queue.</p>\n"}],"owner":{"account_id":237956,"reputation":2108,"user_id":506517,"accept_rate":94,"display_name":"Trevor Arjeski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3688,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":5679119,"answer_count":1,"score":2,"last_activity_date":1673423361,"creation_date":1302880816,"question_id":5678896,"body_markdown":"I&#39;m in the process of coding Huffman Code where I import a file, generate huffman code for each character, then output the binary to a file.  To import the characters I am using a scanner that reads each character, puts it in a node that has values of the read character and a frequency of 1.  Then, the node is added to a PriorityQueue.  Since the Node class has a compareTo method that compares only frequency, how can I implement a comparator to this specific PriorityQueue that compares the characters when sorting in queue?\r\n\r\nLiteral example:\r\nThe queue of characters should be sorted as follows: \r\n\r\n    [A:1][A:1][A:1][B:1][C:1]\r\n    Next step:\r\n    [A:1][A:2][B:1][C:1]\r\n    Final:\r\n    [A:3][B:1][C:1]\r\n\r\nHere are some snippets:\r\n\r\n\tprotected class Node implements Comparable&lt;Node&gt;{\r\n\t\tCharacter symbol;\r\n\t\tint frequency;\r\n\t\t\r\n\t\tNode left = null;\r\n\t\tNode right = null;\r\n\t\t@Override\r\n\t\tpublic int compareTo(Node n) {\r\n\t\t\treturn n.frequency &lt; this.frequency ? 1 : (n.frequency == this.frequency ? 0 : -1);\r\n\t\t}\r\n\t\t\r\n\t\tpublic Node(Character c, int f){\r\n\t\t\tthis.symbol = c;\r\n\t\t\tthis.frequency = f;\r\n\t\t}\r\n\t\tpublic String toString(){\r\n\t\t\treturn &quot;[&quot;+this.symbol +&quot;,&quot;+this.frequency+&quot;]&quot;;\r\n\t\t}\r\n\r\nThis is the PriorityQueue that needs a custom comparator:\r\n\r\n\tpublic static PriorityQueue&lt;Node&gt; gatherFrequency(String file) throws Exception{\r\n\t\tFile f = new File(file);\r\n\t\tScanner reader = new Scanner(f);\r\n\t\tPriorityQueue&lt;Node&gt; PQ = new PriorityQueue&lt;Node&gt;();\r\n\t\twhile(reader.hasNext()){\r\n\t\t\tfor(int i = 0; i &lt; reader.next().length();i++){\r\n\t\t\t\tPQ.add(new Node(reader.next().charAt(0),1));\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(PQ.size()&gt;1){ //during this loop the nodes should be compared by character value\r\n\t\t\twhile(PQ.size() &gt; 1){\r\n\t\t\t\tNode a = PQ.remove();\r\n\t\t\t\tNode b = PQ.remove();\r\n\t\t\t\tif(a.symbol.compareTo(b.symbol)==0){\r\n\t\t\t\t\tNode c = new Node(a.symbol, a.frequency + b.frequency);\r\n\t\t\t\t\tPQ.add(c);\r\n\t\t\t\t}\r\n\t\t\t\telse break;\r\n\t\t\t}\r\n\t\t\treturn PQ;\r\n\t\t}\r\n\t\treturn PQ;\r\n\t\t\r\n\t}\r\n\r\nThis is the new method I created using a HashMap:\r\n\r\n    public static Collection&lt;Entry&lt;Character,Integer&gt;&gt; gatherFrequency(String file) throws Exception{\r\n    \t\tFile f = new File(file);\r\n    \t\tScanner reader = new Scanner(f);\r\n    \t\tHashMap&lt;Character, Integer&gt; map = new HashMap&lt;Character, Integer&gt;();\r\n    \t\twhile(reader.hasNext()){\r\n    \t\t\tfor(int i = 0; i &lt; reader.next().length();i++){\r\n    \t\t\t\tCharacter key = reader.next().charAt(i);\r\n    \t\t\t\tif(map.containsKey(reader.next().charAt(i))){\r\n    \t\t\t\t\tint freq = map.get(key);\r\n    \t\t\t\t\tmap.put(key, freq+1);\r\n    \t\t\t\t}\r\n    \t\t\t\telse{\r\n    \t\t\t\t\tmap.put(key, 1);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn map.entrySet();\r\n    \t}\r\n\t\r\n\t\t","title":"Comparator and Priority Queues","body":"<p>I'm in the process of coding Huffman Code where I import a file, generate huffman code for each character, then output the binary to a file.  To import the characters I am using a scanner that reads each character, puts it in a node that has values of the read character and a frequency of 1.  Then, the node is added to a PriorityQueue.  Since the Node class has a compareTo method that compares only frequency, how can I implement a comparator to this specific PriorityQueue that compares the characters when sorting in queue?</p>\n<p>Literal example:\nThe queue of characters should be sorted as follows:</p>\n<pre><code>[A:1][A:1][A:1][B:1][C:1]\nNext step:\n[A:1][A:2][B:1][C:1]\nFinal:\n[A:3][B:1][C:1]\n</code></pre>\n<p>Here are some snippets:</p>\n<pre><code>protected class Node implements Comparable&lt;Node&gt;{\n    Character symbol;\n    int frequency;\n    \n    Node left = null;\n    Node right = null;\n    @Override\n    public int compareTo(Node n) {\n        return n.frequency &lt; this.frequency ? 1 : (n.frequency == this.frequency ? 0 : -1);\n    }\n    \n    public Node(Character c, int f){\n        this.symbol = c;\n        this.frequency = f;\n    }\n    public String toString(){\n        return &quot;[&quot;+this.symbol +&quot;,&quot;+this.frequency+&quot;]&quot;;\n    }\n</code></pre>\n<p>This is the PriorityQueue that needs a custom comparator:</p>\n<pre><code>public static PriorityQueue&lt;Node&gt; gatherFrequency(String file) throws Exception{\n    File f = new File(file);\n    Scanner reader = new Scanner(f);\n    PriorityQueue&lt;Node&gt; PQ = new PriorityQueue&lt;Node&gt;();\n    while(reader.hasNext()){\n        for(int i = 0; i &lt; reader.next().length();i++){\n            PQ.add(new Node(reader.next().charAt(0),1));\n        }\n    }\n    if(PQ.size()&gt;1){ //during this loop the nodes should be compared by character value\n        while(PQ.size() &gt; 1){\n            Node a = PQ.remove();\n            Node b = PQ.remove();\n            if(a.symbol.compareTo(b.symbol)==0){\n                Node c = new Node(a.symbol, a.frequency + b.frequency);\n                PQ.add(c);\n            }\n            else break;\n        }\n        return PQ;\n    }\n    return PQ;\n    \n}\n</code></pre>\n<p>This is the new method I created using a HashMap:</p>\n<pre><code>public static Collection&lt;Entry&lt;Character,Integer&gt;&gt; gatherFrequency(String file) throws Exception{\n        File f = new File(file);\n        Scanner reader = new Scanner(f);\n        HashMap&lt;Character, Integer&gt; map = new HashMap&lt;Character, Integer&gt;();\n        while(reader.hasNext()){\n            for(int i = 0; i &lt; reader.next().length();i++){\n                Character key = reader.next().charAt(i);\n                if(map.containsKey(reader.next().charAt(i))){\n                    int freq = map.get(key);\n                    map.put(key, freq+1);\n                }\n                else{\n                    map.put(key, 1);\n                }\n            }\n        }\n        return map.entrySet();\n    }\n\n    \n</code></pre>\n"},{"tags":["java","request","unirest"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1673423680,"post_id":75079713,"comment_id":132492987,"body_markdown":"&quot;2023-01-06%2000%3A00%3A00&quot; is _not_ base64 encoded and what you have and want are 2 versions of url enconding. You could try and manually replace &quot;%20&quot; with &quot;+&quot; after encoding the value to get your result - not sure if url encoders will let you pick. You might also want to have a look here: https://stackoverflow.com/questions/1634271/url-encoding-the-space-character-or-20","body":"&quot;2023-01-06%2000%3A00%3A00&quot; is <i>not</i> base64 encoded and what you have and want are 2 versions of url enconding. You could try and manually replace &quot;%20&quot; with &quot;+&quot; after encoding the value to get your result - not sure if url encoders will let you pick. You might also want to have a look here: <a href=\"https://stackoverflow.com/questions/1634271/url-encoding-the-space-character-or-20\" title=\"url encoding the space character or 20\">stackoverflow.com/questions/1634271/&hellip;</a>"}],"owner":{"account_id":18955784,"reputation":1,"user_id":13832408,"display_name":"rohan agarwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673423040,"creation_date":1673423040,"question_id":75079713,"body_markdown":"I am trying to pass quesry as queryString function of UniRest. I was getting signature mismatch.\r\n\r\nAfte check ing through all the function, I got to know unirest uses &#39;com.mashape.unirest.http.utils.Base64Coder;&#39; to encode query params. This is encoding space in query param to &#39;%20&#39;.\r\n\r\n\r\nMy server expects &#39;+&#39; for space. \r\n\r\n    actual query String = &quot;2023-01-05 00:00:00&quot;\r\n    Unirest encoding = &quot;2023-01-06%2000%3A00%3A00&quot;\r\n    expected query String = &quot;2023-01-06+00%3A00%3A00&quot;","title":"unirest encoding space to &#39;20&#39; but the server expect as &#39;+&#39;","body":"<p>I am trying to pass quesry as queryString function of UniRest. I was getting signature mismatch.</p>\n<p>Afte check ing through all the function, I got to know unirest uses 'com.mashape.unirest.http.utils.Base64Coder;' to encode query params. This is encoding space in query param to '%20'.</p>\n<p>My server expects '+' for space.</p>\n<pre><code>actual query String = &quot;2023-01-05 00:00:00&quot;\nUnirest encoding = &quot;2023-01-06%2000%3A00%3A00&quot;\nexpected query String = &quot;2023-01-06+00%3A00%3A00&quot;\n</code></pre>\n"},{"tags":["java","spring-boot","vue.js","spring-security"],"comments":[{"owner":{"account_id":8737014,"reputation":1712,"user_id":7723557,"accept_rate":46,"display_name":"Lucas David Ferrero"},"score":1,"creation_date":1673379879,"post_id":75074912,"comment_id":132484445,"body_markdown":"You&#39;ve to enable CORS in your backend and add the domains that your app would accept. This could be achieved with a WebConfig class in Spring.","body":"You&#39;ve to enable CORS in your backend and add the domains that your app would accept. This could be achieved with a WebConfig class in Spring."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":2,"creation_date":1673420333,"post_id":75074912,"comment_id":132492065,"body_markdown":"duplicate [How to configure CORS in a Spring Boot + Spring Security application?](https://stackoverflow.com/questions/36968963/how-to-configure-cors-in-a-spring-boot-spring-security-application)","body":"duplicate <a href=\"https://stackoverflow.com/questions/36968963/how-to-configure-cors-in-a-spring-boot-spring-security-application\">How to configure CORS in a Spring Boot + Spring Security application?</a>"}],"answers":[{"comments":[{"owner":{"account_id":27491977,"reputation":11,"user_id":20977168,"display_name":"Sebasti&#225;n valbuena"},"score":1,"creation_date":1673400473,"post_id":75075545,"comment_id":132488998,"body_markdown":"Hello Arturas, thank you for your answer, but the error continue. I don&#39;t know, the code that you pass me, i put inside on my class WebAuthorization? Here is my request in Vue:         axios({\n        method:&#39;post&#39;,\n        url:&#39;http://localhost:8080/api/login&#39;,\n        params:{\n            email: this.email,\n            password: this.password\n            },\n        config: { headers: {&#39;Content-Type&#39;: &#39;application/x-www-form-urlencoded&#39;}}\n        })","body":"Hello Arturas, thank you for your answer, but the error continue. I don&#39;t know, the code that you pass me, i put inside on my class WebAuthorization? Here is my request in Vue:         axios({         method:&#39;post&#39;,         url:&#39;<a href=\"http://localhost:8080/api/login\" rel=\"nofollow noreferrer\">localhost:8080/api/login</a>&#39;,         params:{             email: this.email,             password: this.password             },         config: { headers: {&#39;Content-Type&#39;: &#39;application/x-www-form-urlencoded&#39;}}         })"}],"tags":[],"owner":{"account_id":78881,"reputation":154,"user_id":224155,"display_name":"Arturas Gusevas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673422657,"creation_date":1673382936,"answer_id":75075545,"question_id":75074912,"body_markdown":"You can configure CORS using `CorsConfigurationSource` Bean. For example:\r\n\r\n```java\r\n@Bean\r\nCorsConfigurationSource corsConfigurationSource() {\r\n\tCorsConfiguration configuration = new CorsConfiguration();\r\n\tconfiguration.setAllowedOrigins(Arrays.asList(&quot;https://example.com&quot;));\r\n\tconfiguration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;));\r\n\tUrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\tsource.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n\treturn source;\r\n}\r\n```\r\n\r\nIn case you want to allow cross origin requests:\r\n\r\n```java\r\n@Bean\r\nCorsConfigurationSource corsConfigurationSource() {\r\n\tCorsConfiguration configuration = new CorsConfiguration();\r\n\tconfiguration.applyPermitDefaultValues();\r\n\tUrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\tsource.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n\treturn source;\r\n}\r\n```\r\n\r\nSee [Spring Security documentation][1] for more information.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/reactive/integrations/cors.html","title":"Has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource in Spring Security","body":"<p>You can configure CORS using <code>CorsConfigurationSource</code> Bean. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nCorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration configuration = new CorsConfiguration();\n    configuration.setAllowedOrigins(Arrays.asList(&quot;https://example.com&quot;));\n    configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;));\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n    return source;\n}\n</code></pre>\n<p>In case you want to allow cross origin requests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nCorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration configuration = new CorsConfiguration();\n    configuration.applyPermitDefaultValues();\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n    return source;\n}\n</code></pre>\n<p>See <a href=\"https://docs.spring.io/spring-security/reference/reactive/integrations/cors.html\" rel=\"nofollow noreferrer\">Spring Security documentation</a> for more information.</p>\n"}],"owner":{"account_id":27491977,"reputation":11,"user_id":20977168,"display_name":"Sebasti&#225;n valbuena"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1695,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1673436965,"answer_count":1,"score":-1,"last_activity_date":1673422657,"creation_date":1673378858,"question_id":75074912,"body_markdown":"I have a CORS problem. I am using spring boot and vue to make a fullstack web. But I get the CORS error when I make the request from the front with axios to the Spring Security form. I&#39;m sure I have to do something in my Authorization class to make the request, but I don&#39;t know.\r\n\r\nHere is my code: \r\n\r\n\r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\npublic class WebAuthorization {\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n        http.formLogin()\r\n                .usernameParameter(&quot;email&quot;)\r\n                .passwordParameter(&quot;password&quot;)\r\n                .loginPage(&quot;/api/login&quot;);\r\n\r\n        http.logout().logoutUrl(&quot;/api/logout&quot;).deleteCookies(&quot;JSESSIONID&quot;);\r\n\r\n        return http.build();\r\n    }\r\n```\r\n\r\n\r\n\r\nI hope you can make the request from the front with Vue to the form that I have with spring security.","title":"Has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource in Spring Security","body":"<p>I have a CORS problem. I am using spring boot and vue to make a fullstack web. But I get the CORS error when I make the request from the front with axios to the Spring Security form. I'm sure I have to do something in my Authorization class to make the request, but I don't know.</p>\n<p>Here is my code:</p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class WebAuthorization {\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        http.formLogin()\n                .usernameParameter(&quot;email&quot;)\n                .passwordParameter(&quot;password&quot;)\n                .loginPage(&quot;/api/login&quot;);\n\n        http.logout().logoutUrl(&quot;/api/logout&quot;).deleteCookies(&quot;JSESSIONID&quot;);\n\n        return http.build();\n    }\n</code></pre>\n<p>I hope you can make the request from the front with Vue to the form that I have with spring security.</p>\n"},{"tags":["java","jpa","entitymanager"],"answers":[{"comments":[{"owner":{"account_id":668476,"reputation":18892,"user_id":504956,"accept_rate":69,"display_name":"V G"},"score":17,"creation_date":1426497533,"post_id":17703822,"comment_id":46380446,"body_markdown":"The description of `FlushModeType` is not correct: basically AUTO means that if you change an entity and afterwards make a SELECT query that may return that entity, AUTO will force the changes to that entity to be flushed before the SELECT execution.","body":"The description of <code>FlushModeType</code> is not correct: basically AUTO means that if you change an entity and afterwards make a SELECT query that may return that entity, AUTO will force the changes to that entity to be flushed before the SELECT execution."}],"tags":[],"owner":{"account_id":46951,"reputation":6126,"user_id":138933,"accept_rate":90,"display_name":"Benoit Wickramarachi"},"comment_count":1,"down_vote_count":0,"up_vote_count":69,"is_accepted":true,"score":69,"last_activity_date":1673422368,"creation_date":1374074495,"answer_id":17703822,"question_id":17703312,"body_markdown":"A call to `EntityManager.flush();` will force the data to be persisted in the database immediately as `EntityManager.persist()` will not (depending on how the EntityManager is configured: [FlushModeType ][1](AUTO or COMMIT) by default is set to AUTO and a flush will be done automatically. But if it&#39;s set to COMMIT the persistence of the data to the underlying database will be delayed until the transaction is committed. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/5/api/javax/persistence/FlushModeType.html","title":"What does EntityManager.flush do and why do I need to use it?","body":"<p>A call to <code>EntityManager.flush();</code> will force the data to be persisted in the database immediately as <code>EntityManager.persist()</code> will not (depending on how the EntityManager is configured: <a href=\"http://docs.oracle.com/javaee/5/api/javax/persistence/FlushModeType.html\" rel=\"noreferrer\">FlushModeType </a>(AUTO or COMMIT) by default is set to AUTO and a flush will be done automatically. But if it's set to COMMIT the persistence of the data to the underlying database will be delayed until the transaction is committed.</p>\n"},{"tags":[],"owner":{"account_id":3049880,"reputation":3589,"user_id":2584700,"accept_rate":100,"display_name":"Sachin Thapa"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1430826979,"creation_date":1374074582,"answer_id":17703860,"question_id":17703312,"body_markdown":"`EntityManager.persist()` makes an entity persistent whereas `EntityManager.flush()` actually runs the query on your database.\r\n\r\nSo, when you call `EntityManager.flush()`, queries for inserting/updating/deleting associated entities are executed in the database. Any constraint failures (column width, data types, foreign key) will be known at this time.\r\n\r\nThe concrete behaviour depends on whether flush-mode is AUTO or COMMIT.","title":"What does EntityManager.flush do and why do I need to use it?","body":"<p><code>EntityManager.persist()</code> makes an entity persistent whereas <code>EntityManager.flush()</code> actually runs the query on your database.</p>\n\n<p>So, when you call <code>EntityManager.flush()</code>, queries for inserting/updating/deleting associated entities are executed in the database. Any constraint failures (column width, data types, foreign key) will be known at this time.</p>\n\n<p>The concrete behaviour depends on whether flush-mode is AUTO or COMMIT.</p>\n"},{"comments":[{"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":18,"creation_date":1499332450,"post_id":22961319,"comment_id":76864527,"body_markdown":"The EntityManager.flush() operation can be used the write all changes to the database before the transaction is committed. -&gt; This is not entirely true. You still need to commit, flush only sends the SQL statements to the database WITHOUT the commit. Triggering flush, without commit will still not actually INSERT any entities. commit will flush for you, if you have not flushed already, but flush will not commit..","body":"The EntityManager.flush() operation can be used the write all changes to the database before the transaction is committed. -&gt; This is not entirely true. You still need to commit, flush only sends the SQL statements to the database WITHOUT the commit. Triggering flush, without commit will still not actually INSERT any entities. commit will flush for you, if you have not flushed already, but flush will not commit.."},{"owner":{"account_id":2378682,"reputation":832,"user_id":2081279,"display_name":"Thomas Sch&#252;tt"},"score":7,"creation_date":1510762896,"post_id":22961319,"comment_id":81575556,"body_markdown":"EntityManager.flush() will send the data to the database, but it will not become visible for others at this point. Instead, the changed database entries will get a row lock. But only after the commit() the changes become visible to others, and the locks are removed.","body":"EntityManager.flush() will send the data to the database, but it will not become visible for others at this point. Instead, the changed database entries will get a row lock. But only after the commit() the changes become visible to others, and the locks are removed."},{"owner":{"account_id":47487,"reputation":3720,"user_id":140707,"display_name":"Frans"},"score":6,"creation_date":1525545422,"post_id":22961319,"comment_id":87402624,"body_markdown":"@user2081279 Actually, the exact semantics depend on the effective transaction isolation setting: the defaults for this differ per database, and most databases offer various possible settings.","body":"@user2081279 Actually, the exact semantics depend on the effective transaction isolation setting: the defaults for this differ per database, and most databases offer various possible settings."}],"tags":[],"owner":{"account_id":4301414,"reputation":309,"user_id":3515054,"display_name":"Md Alauddin Hossain"},"comment_count":3,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1511945817,"creation_date":1397043488,"answer_id":22961319,"question_id":17703312,"body_markdown":"The `EntityManager.flush()` operation can be used the write all changes to the database before the transaction is committed. By default JPA does not normally write changes to the database until the transaction is committed. This is normally desirable as it avoids database access, resources and locks until required. It also allows database writes to be ordered, and batched for optimal database access, and to maintain integrity constraints and avoid deadlocks. This means that when you call persist, merge, or remove the database DML `INSERT`, `UPDATE`, `DELETE` is not executed, until commit, or until a flush is triggered.","title":"What does EntityManager.flush do and why do I need to use it?","body":"<p>The <code>EntityManager.flush()</code> operation can be used the write all changes to the database before the transaction is committed. By default JPA does not normally write changes to the database until the transaction is committed. This is normally desirable as it avoids database access, resources and locks until required. It also allows database writes to be ordered, and batched for optimal database access, and to maintain integrity constraints and avoid deadlocks. This means that when you call persist, merge, or remove the database DML <code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code> is not executed, until commit, or until a flush is triggered.</p>\n"},{"tags":[],"owner":{"account_id":2971837,"reputation":526,"user_id":2523737,"accept_rate":100,"display_name":"Arun"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1435843994,"creation_date":1435843994,"answer_id":31186080,"question_id":17703312,"body_markdown":"So when you call `EntityManager.persist()`, it only makes the entity get managed by the `EntityManager` and adds it (entity instance) to the `Persistence Context`. An Explicit `flush()` will make the entity now residing in the `Persistence Context` to be moved to the database (using a SQL). \r\n\r\nWithout flush(), this (moving of entity from `Persistence Context` to the database) will happen when the Transaction to which this `Persistence Context` is associated is committed.","title":"What does EntityManager.flush do and why do I need to use it?","body":"<p>So when you call <code>EntityManager.persist()</code>, it only makes the entity get managed by the <code>EntityManager</code> and adds it (entity instance) to the <code>Persistence Context</code>. An Explicit <code>flush()</code> will make the entity now residing in the <code>Persistence Context</code> to be moved to the database (using a SQL). </p>\n\n<p>Without flush(), this (moving of entity from <code>Persistence Context</code> to the database) will happen when the Transaction to which this <code>Persistence Context</code> is associated is committed.</p>\n"},{"comments":[{"owner":{"account_id":6346113,"reputation":549,"user_id":4926622,"display_name":"Daniel Methner"},"score":1,"creation_date":1637755998,"post_id":66789306,"comment_id":123910035,"body_markdown":"Thank you for the explanation! One addition though: I just tested this and EntityManager.persist() and EntityManager.flush() can BOTH get you auto generated IDs in a scenario, where you would not have an ID yet without EntityManager.persist(). Tested in a @Transactional annotated method with MySQL5InnoDBDialect (in case that matters)","body":"Thank you for the explanation! One addition though: I just tested this and EntityManager.persist() and EntityManager.flush() can BOTH get you auto generated IDs in a scenario, where you would not have an ID yet without EntityManager.persist(). Tested in a @Transactional annotated method with MySQL5InnoDBDialect (in case that matters)"},{"owner":{"account_id":2042955,"reputation":1341,"user_id":1823710,"accept_rate":59,"display_name":"qualebs"},"score":0,"creation_date":1660030821,"post_id":66789306,"comment_id":129429948,"body_markdown":"So which method should I invoke to get the auto generated ID of an object is it flush or persist? If I cal em.persist I see that the object is saved in the database, flush too saves the object I am still confused","body":"So which method should I invoke to get the auto generated ID of an object is it flush or persist? If I cal em.persist I see that the object is saved in the database, flush too saves the object I am still confused"},{"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"score":0,"creation_date":1660037213,"post_id":66789306,"comment_id":129432156,"body_markdown":"@qualebs You definitely miss what is going in your app. Enable TRACE logging level and take attention to SQL statements &amp; transactions. You use `flush()` to get IDs if transaction isn&#39;t closed (but no guaranty the commit succeeds later). If transaction is closed: it doesn&#39;t matter: Persistence Framework calls `flush()` behind the scene so you get those IDs anyway ))","body":"@qualebs You definitely miss what is going in your app. Enable TRACE logging level and take attention to SQL statements &amp; transactions. You use <code>flush()</code> to get IDs if transaction isn&#39;t closed (but no guaranty the commit succeeds later). If transaction is closed: it doesn&#39;t matter: Persistence Framework calls <code>flush()</code> behind the scene so you get those IDs anyway ))"}],"tags":[],"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"comment_count":3,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1616619653,"creation_date":1616619653,"answer_id":66789306,"question_id":17703312,"body_markdown":"`EntityManager.flush()` sends actual SQL commands to DB.\r\n\r\nPersistence framework usually manages transactions behind the scene. **So there is no guaranty that flushed queries will be successfully committed**.\r\n\r\n`EntityManager.flush()` is always called just before the transaction commit by persistence framework automatically behind the scene.\r\n\r\n`EntityManager.persist()` only registers an entity to persistence context without sending any SQL statements to DB. That means you won&#39;t get auto generated IDs after `persist()`. You just pass persisted object and eventually after later `flush()` it gets ID. You can call `flush()` yourself *to get those IDs earlier*. But again it is not the end of transaction so **it can be rolled back and even more: changes might be seen (via phantom reads) by other transactions/thread/processes/servers and *then disappear* depending on DB engine and isolation level of current and foreign transaction!**","title":"What does EntityManager.flush do and why do I need to use it?","body":"<p><code>EntityManager.flush()</code> sends actual SQL commands to DB.</p>\n<p>Persistence framework usually manages transactions behind the scene. <strong>So there is no guaranty that flushed queries will be successfully committed</strong>.</p>\n<p><code>EntityManager.flush()</code> is always called just before the transaction commit by persistence framework automatically behind the scene.</p>\n<p><code>EntityManager.persist()</code> only registers an entity to persistence context without sending any SQL statements to DB. That means you won't get auto generated IDs after <code>persist()</code>. You just pass persisted object and eventually after later <code>flush()</code> it gets ID. You can call <code>flush()</code> yourself <em>to get those IDs earlier</em>. But again it is not the end of transaction so <strong>it can be rolled back and even more: changes might be seen (via phantom reads) by other transactions/thread/processes/servers and <em>then disappear</em> depending on DB engine and isolation level of current and foreign transaction!</strong></p>\n"}],"owner":{"account_id":71956,"reputation":2872,"user_id":207933,"accept_rate":92,"display_name":"spartikus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180131,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":17703822,"answer_count":5,"score":79,"last_activity_date":1673422368,"creation_date":1374073212,"question_id":17703312,"body_markdown":"I have an EJB where I am saving an object to the database.  In an example I have seen, once this data is saved (EntityManager.persist) there is a call to EntityManager.flush();  Why do I need to do this?  The object I am saving is not attached and not used later in the method.  In fact, once saved the method returns and I would expect the resources to be released.  (The example code does this on a remove call as well.)\r\n\r\n    if (somecondition) {\r\n        entityManager.persist(unAttachedEntity);\r\n    } else {\r\n        attachedEntityObject.setId(unAttachedEntity.getId());\r\n    }\r\n    entityManager.flush();\r\n\r\n","title":"What does EntityManager.flush do and why do I need to use it?","body":"<p>I have an EJB where I am saving an object to the database.  In an example I have seen, once this data is saved (EntityManager.persist) there is a call to EntityManager.flush();  Why do I need to do this?  The object I am saving is not attached and not used later in the method.  In fact, once saved the method returns and I would expect the resources to be released.  (The example code does this on a remove call as well.)</p>\n\n<pre><code>if (somecondition) {\n    entityManager.persist(unAttachedEntity);\n} else {\n    attachedEntityObject.setId(unAttachedEntity.getId());\n}\nentityManager.flush();\n</code></pre>\n"},{"tags":["java","timeout","synchronous"],"comments":[{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":0,"creation_date":1371810788,"post_id":17233038,"comment_id":24968847,"body_markdown":"`ExecutorService` with `Callable`s may be !!!","body":"<code>ExecutorService</code> with <code>Callable</code>s may be !!!"},{"owner":{"account_id":25684,"reputation":3449,"user_id":66207,"accept_rate":100,"display_name":"keuleJ"},"score":0,"creation_date":1371811146,"post_id":17233038,"comment_id":24969033,"body_markdown":"Is it an iterative task? Could you check every iteration if your timeout is already reached?","body":"Is it an iterative task? Could you check every iteration if your timeout is already reached?"},{"owner":{"account_id":1003486,"reputation":355,"user_id":1017794,"accept_rate":50,"display_name":"Smitesh"},"score":0,"creation_date":1371811877,"post_id":17233038,"comment_id":24969383,"body_markdown":"I was looking at more of an generic solution than making it implementation specific...because there could be a single computation which could take long enough to finish.","body":"I was looking at more of an generic solution than making it implementation specific...because there could be a single computation which could take long enough to finish."}],"answers":[{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1371812530,"creation_date":1371811779,"answer_id":17233395,"question_id":17233038,"body_markdown":"You can run a parallel thread which will wait for the specified timeout and interrupt the current thread, and then run `A()`. However a, b and c must be interruptible, that is to check periodically current thread interrupted flag and throw InterruptedException, otherwise it wont work\r\n\r\n\t\tfinal Thread current = Thread.currentThread();\r\n\t\tThread timer = new Thread() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(5000);\r\n\t\t\t\t\tcurrent.interrupt();\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t// timer stopped\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t};\r\n\t\ttry {\r\n\t\t\tA();  // this throws InterruptedException if interrupted by timer\r\n\t\t\ttimer.interrupt(); // no timeout lets stop the timer\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\t// timeout\r\n\t\t}\r\n","title":"How to implement synchronous method timeouts in Java?","body":"<p>You can run a parallel thread which will wait for the specified timeout and interrupt the current thread, and then run <code>A()</code>. However a, b and c must be interruptible, that is to check periodically current thread interrupted flag and throw InterruptedException, otherwise it wont work</p>\n\n<pre><code>    final Thread current = Thread.currentThread();\n    Thread timer = new Thread() {\n        public void run() {\n            try {\n                Thread.sleep(5000);\n                current.interrupt();\n            } catch (InterruptedException e) {\n                // timer stopped\n            }\n        };\n    };\n    try {\n        A();  // this throws InterruptedException if interrupted by timer\n        timer.interrupt(); // no timeout lets stop the timer\n    } catch (InterruptedException e) {\n        // timeout\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":25684,"reputation":3449,"user_id":66207,"accept_rate":100,"display_name":"keuleJ"},"score":0,"creation_date":1371819247,"post_id":17233773,"comment_id":24973359,"body_markdown":"Will this actually stop the Callable or just timeout the get()?","body":"Will this actually stop the Callable or just timeout the get()?"},{"owner":{"account_id":483242,"reputation":915,"user_id":898154,"accept_rate":100,"display_name":"Alessandro S."},"score":2,"creation_date":1437122419,"post_id":17233773,"comment_id":50908738,"body_markdown":"It justs &quot;timeout&quot; the get, you need to interrupt the future via &quot;cancel(true)&quot; method or calling executor.shutdownNow()","body":"It justs &quot;timeout&quot; the get, you need to interrupt the future via &quot;cancel(true)&quot; method or calling executor.shutdownNow()"}],"tags":[],"owner":{"account_id":134839,"reputation":8888,"user_id":337251,"accept_rate":75,"display_name":"Tala"},"comment_count":2,"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1371812924,"creation_date":1371812924,"answer_id":17233773,"question_id":17233038,"body_markdown":"You should use [ExecutorService][1] to do that\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html\r\n\r\n\r\n    ExecutorService executor = Executors.newSingleThreadExecutor();\r\n    Future&lt;String&gt; future = executor.submit(new Callable() {\r\n    \r\n        public String call() throws Exception {\r\n            //do operations you want\r\n            return &quot;OK&quot;;\r\n        }\r\n    });\r\n    try {\r\n        System.out.println(future.get(2, TimeUnit.SECONDS)); //timeout is in 2 seconds\r\n    } catch (TimeoutException e) {\r\n        System.err.println(&quot;Timeout&quot;);\r\n    }\r\n    executor.shutdownNow();","title":"How to implement synchronous method timeouts in Java?","body":"<p>You should use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html\">ExecutorService</a> to do that</p>\n\n<pre><code>ExecutorService executor = Executors.newSingleThreadExecutor();\nFuture&lt;String&gt; future = executor.submit(new Callable() {\n\n    public String call() throws Exception {\n        //do operations you want\n        return \"OK\";\n    }\n});\ntry {\n    System.out.println(future.get(2, TimeUnit.SECONDS)); //timeout is in 2 seconds\n} catch (TimeoutException e) {\n    System.err.println(\"Timeout\");\n}\nexecutor.shutdownNow();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":121304,"reputation":5864,"user_id":314310,"accept_rate":84,"display_name":"Anindya Chatterjee"},"score":0,"creation_date":1381438375,"post_id":17236563,"comment_id":28592265,"body_markdown":"very much inefficient. what if your action2() is a long running action and timeout happens in between its execution?","body":"very much inefficient. what if your action2() is a long running action and timeout happens in between its execution?"}],"tags":[],"owner":{"account_id":2917971,"reputation":19,"user_id":2500805,"display_name":"alex"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1371932513,"creation_date":1371821503,"answer_id":17236563,"question_id":17233038,"body_markdown":"See also this [post][1] The approach is let your application care of timeout inside its logic. For that you can define some timer class and special checking method, e.g.:\r\n\r\n      public class TimeoutApp {\r\n        MyTimer timer;\r\n        Thread timerThread;\r\n    \r\n        public static void main(String... args) {\r\n            new TimeoutApp().execute();\r\n        }\r\n    \r\n        private void execute() {\r\n            try {\r\n                startTimer(1000);\r\n                action1();\r\n                checkTimeout();\r\n                action2();\r\n                checkTimeout();\r\n                action3();\r\n                stopTimer();\r\n\r\n            } catch (MyTimeoutException e) {\r\n                System.out.println(&quot;Interrupted on timeout!&quot;);\r\n                // ...clearing code if needed\r\n                System.exit(1);\r\n            } catch (InterruptedException e) {\r\n                System.out.println(&quot;Interrupted by exception!&quot;);\r\n                // ...clearing code if needed\r\n                e.printStackTrace();\r\n                System.exit(1);\r\n            }\r\n        }\r\n    \r\n        private void action1() throws InterruptedException {\r\n            Thread.sleep(600);\r\n            System.out.println(&quot;action 1&quot;);\r\n        }\r\n    \r\n        private void action2() throws InterruptedException {\r\n            Thread.sleep(500);\r\n            System.out.println(&quot;action 2&quot;);\r\n        }\r\n    \r\n        private void action3() {\r\n            System.out.println(&quot;action 3&quot;);\r\n        }\r\n    \r\n        private void checkTimeout() throws MyTimeoutException {\r\n            if (timer.isTimeoutReached()) {\r\n                throw new MyTimeoutException();\r\n            }\r\n        }\r\n    \r\n        private void startTimer(long timeout) {\r\n            timer = new MyTimer(timeout);\r\n            timerThread = new Thread(timer);\r\n            timerThread.start();\r\n        }\r\n        \r\n        private void stopTimer() {\r\n            timerThread.interrupt();\r\n        }\r\n\r\n        private class MyTimer implements Runnable {\r\n            private long timeout;\r\n            private boolean timeoutReached = false;\r\n    \r\n            public MyTimer(long timeout) {\r\n                this.timeout = timeout;\r\n            }\r\n    \r\n            public void run() {\r\n                long time = System.currentTimeMillis();\r\n                while (!timeoutReached &amp;&amp; !Thread.interrupted()) {\r\n                    if ((System.currentTimeMillis() - time) &gt; timeout) {\r\n                        timeoutReached = true;\r\n                    }\r\n                }\r\n            }\r\n    \r\n            public boolean isTimeoutReached() {\r\n                return timeoutReached;\r\n            }\r\n        }\r\n    \r\n        private class MyTimeoutException extends Exception {\r\n        }\r\n    }\r\n\r\n   \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5715235/java-set-timeout-on-a-certain-block-of-code","title":"How to implement synchronous method timeouts in Java?","body":"<p>See also this <a href=\"https://stackoverflow.com/questions/5715235/java-set-timeout-on-a-certain-block-of-code\">post</a> The approach is let your application care of timeout inside its logic. For that you can define some timer class and special checking method, e.g.:</p>\n\n<pre><code>  public class TimeoutApp {\n    MyTimer timer;\n    Thread timerThread;\n\n    public static void main(String... args) {\n        new TimeoutApp().execute();\n    }\n\n    private void execute() {\n        try {\n            startTimer(1000);\n            action1();\n            checkTimeout();\n            action2();\n            checkTimeout();\n            action3();\n            stopTimer();\n\n        } catch (MyTimeoutException e) {\n            System.out.println(\"Interrupted on timeout!\");\n            // ...clearing code if needed\n            System.exit(1);\n        } catch (InterruptedException e) {\n            System.out.println(\"Interrupted by exception!\");\n            // ...clearing code if needed\n            e.printStackTrace();\n            System.exit(1);\n        }\n    }\n\n    private void action1() throws InterruptedException {\n        Thread.sleep(600);\n        System.out.println(\"action 1\");\n    }\n\n    private void action2() throws InterruptedException {\n        Thread.sleep(500);\n        System.out.println(\"action 2\");\n    }\n\n    private void action3() {\n        System.out.println(\"action 3\");\n    }\n\n    private void checkTimeout() throws MyTimeoutException {\n        if (timer.isTimeoutReached()) {\n            throw new MyTimeoutException();\n        }\n    }\n\n    private void startTimer(long timeout) {\n        timer = new MyTimer(timeout);\n        timerThread = new Thread(timer);\n        timerThread.start();\n    }\n\n    private void stopTimer() {\n        timerThread.interrupt();\n    }\n\n    private class MyTimer implements Runnable {\n        private long timeout;\n        private boolean timeoutReached = false;\n\n        public MyTimer(long timeout) {\n            this.timeout = timeout;\n        }\n\n        public void run() {\n            long time = System.currentTimeMillis();\n            while (!timeoutReached &amp;&amp; !Thread.interrupted()) {\n                if ((System.currentTimeMillis() - time) &gt; timeout) {\n                    timeoutReached = true;\n                }\n            }\n        }\n\n        public boolean isTimeoutReached() {\n            return timeoutReached;\n        }\n    }\n\n    private class MyTimeoutException extends Exception {\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2176968,"reputation":117,"user_id":1927418,"display_name":"Mehmet Erdemsoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440758755,"creation_date":1440758755,"answer_id":32269230,"question_id":17233038,"body_markdown":"You can&#39;t do an synchronous call with a timeout but you can emulate it using a second thread. This is an example to do that:\r\n\r\n    package com.ardevco.example;\r\n    \r\n    import java.util.Random;\r\n    import java.util.concurrent.Callable;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.Future;\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.util.concurrent.TimeoutException;\r\n    \r\n    \r\n    class ExceptionThrower {\r\n       public static &lt;R&gt; R throwUnchecked(Throwable t) {\r\n          return ExceptionThrower.&lt;RuntimeException, R&gt; trhow0(t);\r\n       }\r\n    \r\n       @SuppressWarnings(&quot;unchecked&quot;)\r\n       private static &lt;E extends Throwable, R&gt; R trhow0(Throwable t) throws E {\r\n          throw (E) t;\r\n       }\r\n    }\r\n    \r\n    class TestApplicationException1 extends Exception {\r\n       private static final long serialVersionUID = 1L;\r\n    \r\n       public TestApplicationException1(String string) {\r\n          super(string);\r\n       }\r\n    };\r\n    \r\n    class TestApplicationException2 extends Exception {\r\n       private static final long serialVersionUID = 1L;\r\n    \r\n       public TestApplicationException2(String string) {\r\n          super(string);\r\n       }\r\n    };\r\n    \r\n    class TestApplicationTimeoutException extends Exception {\r\n       private static final long serialVersionUID = 1L;\r\n    \r\n       public TestApplicationTimeoutException(String string) {\r\n          super(string);\r\n       };\r\n    }\r\n    \r\n    public class SynchronousTimeoutTester {\r\n    \r\n       public static final long SYNC_METHOD_TIMEOUT_IN_MILLISECONDS = 2000L;\r\n       private final ExecutorService executorService = Executors.newSingleThreadExecutor();\r\n    \r\n       public static void main(String[] args) {\r\n          SynchronousTimeoutTester tester = new SynchronousTimeoutTester();\r\n    \t  /* call the method asynchronously 10 times */\r\n          for (int i = 0; i &lt; 10; i++) {\r\n             try {\r\n                System.out.println(&quot;Result sync call: &quot; + tester.getAsynchTest());\r\n             }\r\n             catch (TestApplicationException1 e) {\r\n                System.out.println(&quot;catched as TestApplicationException1: &quot; + e);\r\n             }\r\n             catch (TestApplicationException2 e) {\r\n                System.out.println(&quot;catched as TestApplicationException2: &quot; + e);\r\n             }\r\n             catch (TestApplicationTimeoutException e) {\r\n                System.out.println(&quot;catched as TestApplicationTimeoutException: &quot; + e);\r\n             }\r\n             catch (InterruptedException e) {\r\n                System.out.println(&quot;catched as InterruptedException: &quot; + e);\r\n             }\r\n             catch (Exception e) {\r\n                System.out.println(&quot;catched as Exception: &quot; + e);\r\n             }\r\n          }\r\n    \r\n          tester.shutdown();\r\n       }\r\n    \r\n       private void shutdown() {\r\n          executorService.shutdown();\r\n          try {\r\n             executorService.awaitTermination(Long.MAX_VALUE, TimeUnit.NANOSECONDS);\r\n          }\r\n          catch (InterruptedException e) {\r\n             System.out.println(&quot;Error stopping threadpool:&quot; + e);\r\n          }\r\n       }\r\n    \r\n       private Integer testAsynch() throws TestApplicationException1, TestApplicationException2, InterruptedException {\r\n          Random random = new Random();\r\n          switch (random.nextInt(10)) {\r\n             case 0:\r\n                return 0;\r\n             case 1:\r\n                throw new TestApplicationException1(&quot;thrown TestApplicationException1&quot;);\r\n             case 2:\r\n                throw new TestApplicationException2(&quot;thrown TestApplicationException2&quot;);\r\n             case 3:\r\n                Thread.sleep(10000L);\r\n                return -1;\r\n             case 4:\r\n                throw new RuntimeException(&quot;thrown Exception&quot;);\r\n             default:\r\n                return random.nextInt(10);\r\n          }\r\n       }\r\n    \r\n       private Integer getAsynchTest() throws TestApplicationException1, TestApplicationException2, Exception {\r\n          Integer dummy = null;\r\n    \r\n          Future&lt;Integer&gt; testAsynchF = executorService.submit(\r\n                                                               new Callable&lt;Integer&gt;() {\r\n                                                                  public Integer call() throws Exception {\r\n                                                                     return testAsynch();\r\n                                                                  }\r\n                                                               });\r\n    \r\n          try {\r\n             dummy = testAsynchF.get(SynchronousTimeoutTester.SYNC_METHOD_TIMEOUT_IN_MILLISECONDS, TimeUnit.MILLISECONDS);\r\n          }\r\n          catch (ExecutionException e1) {\r\n             System.out.println(&quot;in getAsynchTest: ExecutionException: &quot; + e1);\r\n             ExceptionThrower.throwUnchecked(e1.getCause());\r\n          }\r\n          catch (TimeoutException e1) {\r\n             System.out.println(&quot;in getAsynchTest: TimeoutException: &quot; + e1);\r\n             throw new TestApplicationTimeoutException(&quot;TimeoutException&quot; + e1);\r\n          }\r\n          catch (InterruptedException e1) {\r\n             System.out.println(&quot;in getAsynchTest: InterruptedException: &quot; + e1);\r\n             throw new Exception(e1);\r\n          }\r\n    \r\n          return dummy;\r\n       }\r\n    \r\n    }\r\n","title":"How to implement synchronous method timeouts in Java?","body":"<p>You can't do an synchronous call with a timeout but you can emulate it using a second thread. This is an example to do that:</p>\n\n<pre><code>package com.ardevco.example;\n\nimport java.util.Random;\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.TimeoutException;\n\n\nclass ExceptionThrower {\n   public static &lt;R&gt; R throwUnchecked(Throwable t) {\n      return ExceptionThrower.&lt;RuntimeException, R&gt; trhow0(t);\n   }\n\n   @SuppressWarnings(\"unchecked\")\n   private static &lt;E extends Throwable, R&gt; R trhow0(Throwable t) throws E {\n      throw (E) t;\n   }\n}\n\nclass TestApplicationException1 extends Exception {\n   private static final long serialVersionUID = 1L;\n\n   public TestApplicationException1(String string) {\n      super(string);\n   }\n};\n\nclass TestApplicationException2 extends Exception {\n   private static final long serialVersionUID = 1L;\n\n   public TestApplicationException2(String string) {\n      super(string);\n   }\n};\n\nclass TestApplicationTimeoutException extends Exception {\n   private static final long serialVersionUID = 1L;\n\n   public TestApplicationTimeoutException(String string) {\n      super(string);\n   };\n}\n\npublic class SynchronousTimeoutTester {\n\n   public static final long SYNC_METHOD_TIMEOUT_IN_MILLISECONDS = 2000L;\n   private final ExecutorService executorService = Executors.newSingleThreadExecutor();\n\n   public static void main(String[] args) {\n      SynchronousTimeoutTester tester = new SynchronousTimeoutTester();\n      /* call the method asynchronously 10 times */\n      for (int i = 0; i &lt; 10; i++) {\n         try {\n            System.out.println(\"Result sync call: \" + tester.getAsynchTest());\n         }\n         catch (TestApplicationException1 e) {\n            System.out.println(\"catched as TestApplicationException1: \" + e);\n         }\n         catch (TestApplicationException2 e) {\n            System.out.println(\"catched as TestApplicationException2: \" + e);\n         }\n         catch (TestApplicationTimeoutException e) {\n            System.out.println(\"catched as TestApplicationTimeoutException: \" + e);\n         }\n         catch (InterruptedException e) {\n            System.out.println(\"catched as InterruptedException: \" + e);\n         }\n         catch (Exception e) {\n            System.out.println(\"catched as Exception: \" + e);\n         }\n      }\n\n      tester.shutdown();\n   }\n\n   private void shutdown() {\n      executorService.shutdown();\n      try {\n         executorService.awaitTermination(Long.MAX_VALUE, TimeUnit.NANOSECONDS);\n      }\n      catch (InterruptedException e) {\n         System.out.println(\"Error stopping threadpool:\" + e);\n      }\n   }\n\n   private Integer testAsynch() throws TestApplicationException1, TestApplicationException2, InterruptedException {\n      Random random = new Random();\n      switch (random.nextInt(10)) {\n         case 0:\n            return 0;\n         case 1:\n            throw new TestApplicationException1(\"thrown TestApplicationException1\");\n         case 2:\n            throw new TestApplicationException2(\"thrown TestApplicationException2\");\n         case 3:\n            Thread.sleep(10000L);\n            return -1;\n         case 4:\n            throw new RuntimeException(\"thrown Exception\");\n         default:\n            return random.nextInt(10);\n      }\n   }\n\n   private Integer getAsynchTest() throws TestApplicationException1, TestApplicationException2, Exception {\n      Integer dummy = null;\n\n      Future&lt;Integer&gt; testAsynchF = executorService.submit(\n                                                           new Callable&lt;Integer&gt;() {\n                                                              public Integer call() throws Exception {\n                                                                 return testAsynch();\n                                                              }\n                                                           });\n\n      try {\n         dummy = testAsynchF.get(SynchronousTimeoutTester.SYNC_METHOD_TIMEOUT_IN_MILLISECONDS, TimeUnit.MILLISECONDS);\n      }\n      catch (ExecutionException e1) {\n         System.out.println(\"in getAsynchTest: ExecutionException: \" + e1);\n         ExceptionThrower.throwUnchecked(e1.getCause());\n      }\n      catch (TimeoutException e1) {\n         System.out.println(\"in getAsynchTest: TimeoutException: \" + e1);\n         throw new TestApplicationTimeoutException(\"TimeoutException\" + e1);\n      }\n      catch (InterruptedException e1) {\n         System.out.println(\"in getAsynchTest: InterruptedException: \" + e1);\n         throw new Exception(e1);\n      }\n\n      return dummy;\n   }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1003486,"reputation":355,"user_id":1017794,"accept_rate":50,"display_name":"Smitesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31918,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":17233773,"answer_count":4,"score":26,"last_activity_date":1673422337,"creation_date":1371810672,"question_id":17233038,"body_markdown":"I have an synchronous execution path which needs to either complete or timeout within a given time frame.\r\n\r\nLet&#39;s say I have a class with a `main()` method in which I invoke method `A()`, which in-turn calls `B()`, and that in-turn calls `C()`, of the same or different classes, all synchronous, and without using an external resource like database , webservice, or file system (so not blocking IO, it&#39;s more like a CPU or memory intensive computation).\r\n\r\nHow do I code for its timeout in Java? I have looked at `TimerTask` but that is more of making the flow async and for scheduling tasks. Any other suggestions?","title":"How to implement synchronous method timeouts in Java?","body":"<p>I have an synchronous execution path which needs to either complete or timeout within a given time frame.</p>\n<p>Let's say I have a class with a <code>main()</code> method in which I invoke method <code>A()</code>, which in-turn calls <code>B()</code>, and that in-turn calls <code>C()</code>, of the same or different classes, all synchronous, and without using an external resource like database , webservice, or file system (so not blocking IO, it's more like a CPU or memory intensive computation).</p>\n<p>How do I code for its timeout in Java? I have looked at <code>TimerTask</code> but that is more of making the flow async and for scheduling tasks. Any other suggestions?</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1673237806,"post_id":75053068,"comment_id":132445431,"body_markdown":"have you tried to replace `@Bean public Snowflake initializeSnowFlake`  with `@Bean public CustomizedSnowFlake initializeSnowFlake`?","body":"have you tried to replace <code>@Bean public Snowflake initializeSnowFlake</code>  with <code>@Bean public CustomizedSnowFlake initializeSnowFlake</code>?"},{"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"score":0,"creation_date":1673243541,"post_id":75053068,"comment_id":132446149,"body_markdown":"@AndreyB.Panfilov Thanks a lot! The problem solved by register a bean with type CustomizedSnowFlake!","body":"@AndreyB.Panfilov Thanks a lot! The problem solved by register a bean with type CustomizedSnowFlake!"},{"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"score":0,"creation_date":1673422408,"post_id":75053068,"comment_id":132492608,"body_markdown":"@AndreyB.Panfilov But I still don&#39;t know the reason that leads to this kind of problem ...","body":"@AndreyB.Panfilov But I still don&#39;t know the reason that leads to this kind of problem ..."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1673423823,"post_id":75053068,"comment_id":132493016,"body_markdown":"frankly speaking I have no idea why does the previous setup work, in my projects I see that `spring` typically can&#39;t infer real bean type from `@Bean` method.","body":"frankly speaking I have no idea why does the previous setup work, in my projects I see that <code>spring</code> typically can&#39;t infer real bean type from <code>@Bean</code> method."},{"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"score":1,"creation_date":1673426082,"post_id":75053068,"comment_id":132493743,"body_markdown":"Yes, while debugging in jar file compiled by prod server, Spring can&#39;t infer real bean type, and line `return typeToMatch.isAssignableFrom(beanType)` in `AbstractBeanFactory`&#39;s `protected boolean isTypeMatch(String name, ResolvableType typeToMatch, boolean allowFactoryBeanInit)` method will always return false. And the jar file compiled by test server will not have such problem due to a totally different bean instanciate order, such bean can be reached when doing the same thing...","body":"Yes, while debugging in jar file compiled by prod server, Spring can&#39;t infer real bean type, and line <code>return typeToMatch.isAssignableFrom(beanType)</code> in <code>AbstractBeanFactory</code>&#39;s <code>protected boolean isTypeMatch(String name, ResolvableType typeToMatch, boolean allowFactoryBeanInit)</code> method will always return false. And the jar file compiled by test server will not have such problem due to a totally different bean instanciate order, such bean can be reached when doing the same thing..."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1673428465,"post_id":75053068,"comment_id":132494547,"body_markdown":"UB caused by different initialization order is a disaster, for that reason we do not use constructor DI and `@Lazy` annotations, we newer interact with infrastructure in constructors or factory methods (unlike some spring components) and prefer to use `SmartLifecycle`. Now, thanks to your Q and investigation, I&#39;m aware of another one &quot;initialization order&quot; case.","body":"UB caused by different initialization order is a disaster, for that reason we do not use constructor DI and <code>@Lazy</code> annotations, we newer interact with infrastructure in constructors or factory methods (unlike some spring components) and prefer to use <code>SmartLifecycle</code>. Now, thanks to your Q and investigation, I&#39;m aware of another one &quot;initialization order&quot; case."}],"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673422257,"creation_date":1673236878,"question_id":75053068,"body_markdown":"I have met quite a strange situation, while compiling im my develope and test environment then run my application, it is OK. But when I deploy my code to production environment the code was crashed although compiling was a succeed.\r\n\r\nThe error is \r\n`required a bean of type xxxxxxx that could not be found`\r\n\r\nThe dependencies are all OK, and the application was run well in all my dev and test servers except for prod server.\r\n\r\nHere is the simplified project structure:\r\n\r\nmyproject&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;|&lt;br&gt;\r\n     &amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;module-common&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;|&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;|&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;|&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;com.myapp.config&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;|&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;|&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;|&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;GlobalSnowFlakeConfig.java&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;module-application(dependent on module-common)&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;|&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;Application.java (springboot main function)&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;\r\ncom.myapp.config&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;|&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;|&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;|&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;CustomizedSnowFlakeConfig.java&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;com.myapp.service&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;|&lt;br&gt;\r\n&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;&amp;#x2002;TargetService.java&lt;br&gt;\r\n\r\n\r\n\r\nHere is the code:\r\n```\r\n@Slf4j\r\n@Configuration\r\npublic class GlobalSnowFlakeConfig {\r\n    @Value(&quot;${spring.application.name:anonymous}&quot;)\r\n    private String applicationName;\r\n\r\n    @Value(&quot;${server.port}&quot;)\r\n    private String port;\r\n\r\n\r\n    @Bean\r\n    public MachineInfo registerMachineInfo(RedissonUtil redissonUtil, RedisUtils redisUtils) {\r\n        log.info(&quot;Loading MachineInfo...&quot;);\r\n        return new MachineInfo(redissonUtil, redisUtils, applicationName, port);\r\n    }\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean(Snowflake.class)\r\n    public Snowflake initializeSnowFlake(MachineInfo machineInfo) {\r\n        log.info(&quot;Current DataCenterId={} machineId={}&quot;, machineInfo.getDataCenterId(), machineInfo.getMachineId());\r\n        return new Snowflake(\r\n                machineInfo.getMachineId(),\r\n                machineInfo.getDataCenterId(),\r\n                true);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\npublic class CustomizedSnowFlake extends Snowflake {\r\n    ....the overriding methods and new features....\r\n}\r\n```\r\n\r\n```\r\n@Slf4j\r\n@Configuration\r\npublic class CustomizedSnowFlakeConfig {\r\n    @Bean\r\n    public Snowflake initializeSnowFlake(MachineInfo machineInfo) {\r\n        log.info(&quot;Current DataCenterId={} machineId={}&quot;, machineInfo.getDataCenterId(), machineInfo.getMachineId());\r\n        return new CustomizedSnowFlake(\r\n                machineInfo.getMachineId(),\r\n                machineInfo.getDataCenterId(),\r\n                true,\r\n                machineInfo.getIp() + &quot;:&quot; + machineInfo.getPort());\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\n@Service\r\n@Slf4j\r\npublic class WebSocketServiceImpl{\r\n    @Autowired\r\n    private CustomizedSnowFlake snowflake;\r\n\r\n    ....other business code....\r\n}\r\n```\r\n\r\n```\r\n@SpringBootApplication\r\n@ComponentScan(basePackages = {&quot;com.myapp&quot;})\r\n@EnableEurekaClient\r\n@EnableFeignClients(basePackages = {&quot;com.myapp.webcommon.api&quot;})\r\n@MapperScan(basePackages = {&quot;com.myapp.mydb.mapper&quot;})\r\npublic class Application{\r\n    public static void main(String[] args) {\r\n        ConfigurableApplicationContext applicationContext = SpringApplication.run(Application.class, args);\r\n        WebSocketServer.setApplicationContext(applicationContext);\r\n    }\r\n}\r\n```\r\n\r\nI think method `initializeSnowFlake` will override the config of `Snowflake` and replace the `GlobalSnowFlakeConfig`&#39;s bean of type `Snowflake`, but the jar file compliled in my prod server can never start up, it will always print `required a bean of type xxxx.CustomizedSnowFlake that could not be found`.\r\n\r\nOn the other hand, all the same code compiled in my dev and test server has nothing wrong and good to start.\r\n\r\nI have checked my maven and jdk version, There are little differences :\r\n\r\n```\r\nIn prod server\r\n\r\nApache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\r\nMaven home: /usr/local/maven/apache-maven-3.8.1\r\nJava version: 1.8.0_291, vendor: Oracle Corporation, runtime: /usr/local/java/jdk1.8.0_291/jre\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;5.10.23-5.al8.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n```\r\n\r\n```\r\nIn test server1\r\n\r\nApache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\r\nMaven home: /etc/maven/apache-maven-3.8.1\r\nJava version: 1.8.0_292, vendor: Red Hat, Inc., runtime: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.292.b10-1.el7_9.x86_64/jre\r\nDefault locale: zh_CN, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;3.10.0-1160.25.1.el7.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n\r\n\r\nIN test server2\r\n\r\nApache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\r\nMaven home: /usr/share/maven\r\nJava version: 1.8.0_292, vendor: Red Hat, Inc., runtime: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.292.b10-1.el7_9.x86_64/jre\r\nDefault locale: zh_CN, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;3.10.0-1160.31.1.el7.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n\r\n```\r\n\r\nAlthough application can be started well by changing return type from `Snowflake` to `CustomizedSnowflake` in `CustomizedSnowFlakeConfig`, I still don&#39;t know why my test and dev environment never come up with this problem.\r\n\r\nthe version of maven and jdk in `test server1` and `prod server` are nearly the same. So I don&#39;t think this problem is due to maven version or jdk version.\r\n\r\nBy debugging into source code of springboot, I have found someting strange.\r\n\r\nin `DefaultSingletonBeanRegistry`, method `isTypeMatch` will call `getSingleton` to get the singletonObject named `initializeSnowFlake` which is defined in `CustomizedSnowFlakeConfig`, but the jar file compiled in prod server will never have such object returned while the jar file compiled in test/dev server will have one.\r\n[![enter image description here][1]][1]\r\n\r\nI don&#39;t know why such singletonObject is not in `DefaultSingletonBeanRegistry`,everything looks normal.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xP3k0.png","title":"required a bean of type that could not be found when register and autowired using the child class","body":"<p>I have met quite a strange situation, while compiling im my develope and test environment then run my application, it is OK. But when I deploy my code to production environment the code was crashed although compiling was a succeed.</p>\n<p>The error is\n<code>required a bean of type xxxxxxx that could not be found</code></p>\n<p>The dependencies are all OK, and the application was run well in all my dev and test servers except for prod server.</p>\n<p>Here is the simplified project structure:</p>\n<p>myproject<br>\n    |<br>\n    module-common<br>\n    |       |<br>\n    |       com.myapp.config<br>\n    |           |<br>\n    |           GlobalSnowFlakeConfig.java<br>\n    module-application(dependent on module-common)<br>\n           |<br>\n           Application.java (springboot main function)<br>\n           \ncom.myapp.config<br>\n           |    |<br>\n           |    CustomizedSnowFlakeConfig.java<br>\n           com.myapp.service<br>\n               |<br>\n               TargetService.java<br></p>\n<p>Here is the code:</p>\n<pre><code>@Slf4j\n@Configuration\npublic class GlobalSnowFlakeConfig {\n    @Value(&quot;${spring.application.name:anonymous}&quot;)\n    private String applicationName;\n\n    @Value(&quot;${server.port}&quot;)\n    private String port;\n\n\n    @Bean\n    public MachineInfo registerMachineInfo(RedissonUtil redissonUtil, RedisUtils redisUtils) {\n        log.info(&quot;Loading MachineInfo...&quot;);\n        return new MachineInfo(redissonUtil, redisUtils, applicationName, port);\n    }\n\n    @Bean\n    @ConditionalOnMissingBean(Snowflake.class)\n    public Snowflake initializeSnowFlake(MachineInfo machineInfo) {\n        log.info(&quot;Current DataCenterId={} machineId={}&quot;, machineInfo.getDataCenterId(), machineInfo.getMachineId());\n        return new Snowflake(\n                machineInfo.getMachineId(),\n                machineInfo.getDataCenterId(),\n                true);\n    }\n\n}\n</code></pre>\n<pre><code>public class CustomizedSnowFlake extends Snowflake {\n    ....the overriding methods and new features....\n}\n</code></pre>\n<pre><code>@Slf4j\n@Configuration\npublic class CustomizedSnowFlakeConfig {\n    @Bean\n    public Snowflake initializeSnowFlake(MachineInfo machineInfo) {\n        log.info(&quot;Current DataCenterId={} machineId={}&quot;, machineInfo.getDataCenterId(), machineInfo.getMachineId());\n        return new CustomizedSnowFlake(\n                machineInfo.getMachineId(),\n                machineInfo.getDataCenterId(),\n                true,\n                machineInfo.getIp() + &quot;:&quot; + machineInfo.getPort());\n    }\n}\n</code></pre>\n<pre><code>@Service\n@Slf4j\npublic class WebSocketServiceImpl{\n    @Autowired\n    private CustomizedSnowFlake snowflake;\n\n    ....other business code....\n}\n</code></pre>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = {&quot;com.myapp&quot;})\n@EnableEurekaClient\n@EnableFeignClients(basePackages = {&quot;com.myapp.webcommon.api&quot;})\n@MapperScan(basePackages = {&quot;com.myapp.mydb.mapper&quot;})\npublic class Application{\n    public static void main(String[] args) {\n        ConfigurableApplicationContext applicationContext = SpringApplication.run(Application.class, args);\n        WebSocketServer.setApplicationContext(applicationContext);\n    }\n}\n</code></pre>\n<p>I think method <code>initializeSnowFlake</code> will override the config of <code>Snowflake</code> and replace the <code>GlobalSnowFlakeConfig</code>'s bean of type <code>Snowflake</code>, but the jar file compliled in my prod server can never start up, it will always print <code>required a bean of type xxxx.CustomizedSnowFlake that could not be found</code>.</p>\n<p>On the other hand, all the same code compiled in my dev and test server has nothing wrong and good to start.</p>\n<p>I have checked my maven and jdk version, There are little differences :</p>\n<pre><code>In prod server\n\nApache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\nMaven home: /usr/local/maven/apache-maven-3.8.1\nJava version: 1.8.0_291, vendor: Oracle Corporation, runtime: /usr/local/java/jdk1.8.0_291/jre\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;5.10.23-5.al8.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n<pre><code>In test server1\n\nApache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\nMaven home: /etc/maven/apache-maven-3.8.1\nJava version: 1.8.0_292, vendor: Red Hat, Inc., runtime: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.292.b10-1.el7_9.x86_64/jre\nDefault locale: zh_CN, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;3.10.0-1160.25.1.el7.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n\n\nIN test server2\n\nApache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)\nMaven home: /usr/share/maven\nJava version: 1.8.0_292, vendor: Red Hat, Inc., runtime: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.292.b10-1.el7_9.x86_64/jre\nDefault locale: zh_CN, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;3.10.0-1160.31.1.el7.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n\n</code></pre>\n<p>Although application can be started well by changing return type from <code>Snowflake</code> to <code>CustomizedSnowflake</code> in <code>CustomizedSnowFlakeConfig</code>, I still don't know why my test and dev environment never come up with this problem.</p>\n<p>the version of maven and jdk in <code>test server1</code> and <code>prod server</code> are nearly the same. So I don't think this problem is due to maven version or jdk version.</p>\n<p>By debugging into source code of springboot, I have found someting strange.</p>\n<p>in <code>DefaultSingletonBeanRegistry</code>, method <code>isTypeMatch</code> will call <code>getSingleton</code> to get the singletonObject named <code>initializeSnowFlake</code> which is defined in <code>CustomizedSnowFlakeConfig</code>, but the jar file compiled in prod server will never have such object returned while the jar file compiled in test/dev server will have one.\n<a href=\"https://i.stack.imgur.com/xP3k0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xP3k0.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't know why such singletonObject is not in <code>DefaultSingletonBeanRegistry</code>,everything looks normal.</p>\n"},{"tags":["java","opencv","hadoop","video-capture"],"comments":[{"owner":{"account_id":377596,"reputation":5231,"user_id":729819,"accept_rate":83,"display_name":"Ben Watson"},"score":0,"creation_date":1673387791,"post_id":75074540,"comment_id":132486742,"body_markdown":"I&#39;m not sure why Hadoop code is being used here. HDFS is just file storage, you should consider downloading the file locally and then run it from there, with `hdfs dfs -copyToLocal &lt;hdfs_file_path&gt; &lt;local_download_path&gt;`","body":"I&#39;m not sure why Hadoop code is being used here. HDFS is just file storage, you should consider downloading the file locally and then run it from there, with <code>hdfs dfs -copyToLocal &lt;hdfs_file_path&gt; &lt;local_download_path&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673421613,"creation_date":1673421613,"answer_id":75079501,"question_id":75074540,"body_markdown":"`VideoCapture` argument assumes a local filepath, not a remote one, much less one that references a file that is split into blocks and distributed amongst multiple servers (datanodes). \r\n\r\nHDFS isn&#39;t an ideal system for a &quot;media server&quot; for storing video assets. You will need to download the whole file, as mentioned in the comments before you can process it. ","title":"Cannot open a video with OpenCV VideoCapture on HDFS (Hadoop) | Java","body":"<p><code>VideoCapture</code> argument assumes a local filepath, not a remote one, much less one that references a file that is split into blocks and distributed amongst multiple servers (datanodes).</p>\n<p>HDFS isn't an ideal system for a &quot;media server&quot; for storing video assets. You will need to download the whole file, as mentioned in the comments before you can process it.</p>\n"}],"owner":{"account_id":27491699,"reputation":3,"user_id":20976944,"display_name":"Catarina Mota"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75079501,"answer_count":1,"score":-1,"last_activity_date":1673421713,"creation_date":1673376531,"question_id":75074540,"body_markdown":"I&#39;m trying to open a video file with OpenCv VideoCapture that is stored on HDFS. This is a case using Hadoop RecordReader and I can find the file but doesn&#39;t work in VideoCapture. Any help on solving this problem?\r\n\r\nMyRecordReader.java\r\n```\r\npublic void initialize(InputSplit split, TaskAttemptContext context) throws IOException, InterruptedException {\r\n        // Set the current frame to 0 and the total number of frames to the length of the video\r\n        currentFrame = 0;\r\n        System.out.printf(&quot;%s#initialize(%s, %s)\\n&quot;, this.toString(), split.toString(), context.getJobName());\r\n\r\n        Configuration conf = context.getConfiguration();\r\n        FileSystem fileSystem = FileSystem.get(conf);\r\n        String pathString = &quot;/user/usermr/input/projeto/traffic.mp4&quot;;\r\n        Path path = new Path(pathString);\r\n        if (fileSystem.exists(path))\r\n            System.out.println(&quot;Found video : &quot; + pathString);\r\n\r\n        cap = new VideoCapture(path.toString());\r\n        if ( !cap.isOpened() )\r\n            System.out.println(&quot;Cannot open the video file&quot;);\r\n\r\n        System.out.println(&quot;Frames: &quot; + cap.get(Videoio.CAP_PROP_FRAME_COUNT));\r\n}\r\n```\r\n\r\nOutput:\r\n[enter image description here](https://i.stack.imgur.com/Dl9wu.png)","title":"Cannot open a video with OpenCV VideoCapture on HDFS (Hadoop) | Java","body":"<p>I'm trying to open a video file with OpenCv VideoCapture that is stored on HDFS. This is a case using Hadoop RecordReader and I can find the file but doesn't work in VideoCapture. Any help on solving this problem?</p>\n<p>MyRecordReader.java</p>\n<pre><code>public void initialize(InputSplit split, TaskAttemptContext context) throws IOException, InterruptedException {\n        // Set the current frame to 0 and the total number of frames to the length of the video\n        currentFrame = 0;\n        System.out.printf(&quot;%s#initialize(%s, %s)\\n&quot;, this.toString(), split.toString(), context.getJobName());\n\n        Configuration conf = context.getConfiguration();\n        FileSystem fileSystem = FileSystem.get(conf);\n        String pathString = &quot;/user/usermr/input/projeto/traffic.mp4&quot;;\n        Path path = new Path(pathString);\n        if (fileSystem.exists(path))\n            System.out.println(&quot;Found video : &quot; + pathString);\n\n        cap = new VideoCapture(path.toString());\n        if ( !cap.isOpened() )\n            System.out.println(&quot;Cannot open the video file&quot;);\n\n        System.out.println(&quot;Frames: &quot; + cap.get(Videoio.CAP_PROP_FRAME_COUNT));\n}\n</code></pre>\n<p>Output:\n<a href=\"https://i.stack.imgur.com/Dl9wu.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring","logging"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1673361890,"post_id":75071600,"comment_id":132478315,"body_markdown":"No it is not possible","body":"No it is not possible"},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":1,"creation_date":1673362308,"post_id":75071600,"comment_id":132478468,"body_markdown":"Your options that I can see are to live with it, suppress error logging from that class, or fork the library and make the change.  I would NOT recommend the latter.  Is there no error handling hooks in the library that would avoid the logging?","body":"Your options that I can see are to live with it, suppress error logging from that class, or fork the library and make the change.  I would NOT recommend the latter.  Is there no error handling hooks in the library that would avoid the logging?"},{"owner":{"account_id":1800064,"reputation":4881,"user_id":1638626,"accept_rate":75,"display_name":"Florian"},"score":0,"creation_date":1673425245,"post_id":75071600,"comment_id":132493460,"body_markdown":"@Taylor I didn&#39;t see any hooks that would allow to intercept and suppress the standard error handling. The library throws exceptions that we react upon with retries and fallbacks. That&#39;s actually good enough for us. However, before it throws those exceptions, the library applies its standard behavior and logs the temporary connection failure as an ERROR.","body":"@Taylor I didn&#39;t see any hooks that would allow to intercept and suppress the standard error handling. The library throws exceptions that we react upon with retries and fallbacks. That&#39;s actually good enough for us. However, before it throws those exceptions, the library applies its standard behavior and logs the temporary connection failure as an ERROR."}],"answers":[{"comments":[{"owner":{"account_id":1800064,"reputation":4881,"user_id":1638626,"accept_rate":75,"display_name":"Florian"},"score":1,"creation_date":1673425432,"post_id":75071762,"comment_id":132493518,"body_markdown":"Thanks for the good suggestions. &#128077; We will definitely not go down the hacker path there, that&#39;s not worth it. We use alerts like &quot;&gt; 20 ERRORs during last 24h&quot; to identify issues in our deployments. Those logs trigger these alerts too often, with no need to. I had hoped for some Spring configuration magic that would allow reclassifying the log levels. Without that, we&#39;ll seek for a way to adjust our alerts to ignore a certain portion of these not-so important logs.","body":"Thanks for the good suggestions. 👍 We will definitely not go down the hacker path there, that&#39;s not worth it. We use alerts like &quot;&gt; 20 ERRORs during last 24h&quot; to identify issues in our deployments. Those logs trigger these alerts too often, with no need to. I had hoped for some Spring configuration magic that would allow reclassifying the log levels. Without that, we&#39;ll seek for a way to adjust our alerts to ignore a certain portion of these not-so important logs."},{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":0,"creation_date":1673435624,"post_id":75071762,"comment_id":132497141,"body_markdown":"As some of the other comments mentioned, some Spring components do allow setting a configuration flag to slightly alter log output (i.e. logging something at `WARN` using an `if/else` somewhere in there). Perhaps you could open a GitHub issue on the relevant Spring Repo or even provide the fix yourself, if you feel like it&#39;s warranted for a more general audience.","body":"As some of the other comments mentioned, some Spring components do allow setting a configuration flag to slightly alter log output (i.e. logging something at <code>WARN</code> using an <code>if&#47;else</code> somewhere in there). Perhaps you could open a GitHub issue on the relevant Spring Repo or even provide the fix yourself, if you feel like it&#39;s warranted for a more general audience."},{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":0,"creation_date":1673440788,"post_id":75071762,"comment_id":132498796,"body_markdown":"@Florian One more thing, since I had a similar issue a while back. If you are up to initializing the beans yourself, you could implement a liveness check for the external service and halt initialization of the JMS components until you are sure that the external component *should* be reachable. This would minimize the amount of false positives during startup, though at the cost of slightly increased startup time (for retries/backoff).","body":"@Florian One more thing, since I had a similar issue a while back. If you are up to initializing the beans yourself, you could implement a liveness check for the external service and halt initialization of the JMS components until you are sure that the external component <i>should</i> be reachable. This would minimize the amount of false positives during startup, though at the cost of slightly increased startup time (for retries/backoff)."}],"tags":[],"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673362400,"creation_date":1673362400,"answer_id":75071762,"question_id":75071600,"body_markdown":"As @Jens mentioned this is not possible since the level at which a message is logged is given by the actual function call.\r\n\r\nSo, if Spring (or any other library or even your own code, really) has something like:\r\n\r\n```java\r\npublic void connect() {\r\n    try(establishConnection()) {\r\n        // ...\r\n    } catch (Exception e) {\r\n        log.error(&quot;Failed to establish connection&quot;);\r\n    }\r\n```\r\n\r\nyou&#39;ll notice that the logging is always done at the `error` level, since that is what is being invoked.\r\n\r\nThe only recourse you have in this case is to set the log level of the class to `OFF` if your given logging implementation supports it (the default, Logback, does). For example:\r\n\r\n```yml \r\n# application.yml\r\nlogging.level:\r\n  org.springframework.jms.listener.DefaultMessageListenerContainer: OFF\r\n```\r\n\r\nHowever, there&#39;s really no reason to do this unless you are getting absolutely swamped by these log messages (and even then, just filter them in your Dashboard). Error logs exist for a reason.\r\n\r\nAlternatively, I *suppose* you could also do some hacky trickery using AspectJ to change the level something is logged at if you *really, really needed to*, but I doubt this applies in this case.\r\n\r\nLastly, you can fork the library and link your own Jar files into your application. But I doubt this maintenance burden is worth it in this case.","title":"Can I change the level of a message logged by Spring?","body":"<p>As @Jens mentioned this is not possible since the level at which a message is logged is given by the actual function call.</p>\n<p>So, if Spring (or any other library or even your own code, really) has something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void connect() {\n    try(establishConnection()) {\n        // ...\n    } catch (Exception e) {\n        log.error(&quot;Failed to establish connection&quot;);\n    }\n</code></pre>\n<p>you'll notice that the logging is always done at the <code>error</code> level, since that is what is being invoked.</p>\n<p>The only recourse you have in this case is to set the log level of the class to <code>OFF</code> if your given logging implementation supports it (the default, Logback, does). For example:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code># application.yml\nlogging.level:\n  org.springframework.jms.listener.DefaultMessageListenerContainer: OFF\n</code></pre>\n<p>However, there's really no reason to do this unless you are getting absolutely swamped by these log messages (and even then, just filter them in your Dashboard). Error logs exist for a reason.</p>\n<p>Alternatively, I <em>suppose</em> you could also do some hacky trickery using AspectJ to change the level something is logged at if you <em>really, really needed to</em>, but I doubt this applies in this case.</p>\n<p>Lastly, you can fork the library and link your own Jar files into your application. But I doubt this maintenance burden is worth it in this case.</p>\n"},{"tags":[],"owner":{"account_id":25387686,"reputation":83,"user_id":19199234,"display_name":"Rayyan Karimi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673421667,"creation_date":1673421667,"answer_id":75079510,"question_id":75071600,"body_markdown":"This is not possible because the level at which a message is logged is given by the actual function call. . \r\n\r\nSo, if Spring has something like:\r\n\r\n    public void connect() {\r\n    try(establishConnection()) {\r\n        // ...\r\n    } catch (Exception e) {\r\n        log.error(&quot;Failed to establish connection&quot;);\r\n    }\r\n\r\nyou&#39;ll notice that the **logging is always done at the error level**, since that is what is being invoked.\r\n\r\nWhat you can do is to **set the log level of the class to OFF** :\r\n\r\n    # application.yml\r\nlogging.level:\r\n  org.springframework.jms.listener.DefaultMessageListenerContainer: OFF\r\n\r\n","title":"Can I change the level of a message logged by Spring?","body":"<p>This is not possible because the level at which a message is logged is given by the actual function call. .</p>\n<p>So, if Spring has something like:</p>\n<pre><code>public void connect() {\ntry(establishConnection()) {\n    // ...\n} catch (Exception e) {\n    log.error(&quot;Failed to establish connection&quot;);\n}\n</code></pre>\n<p>you'll notice that the <strong>logging is always done at the error level</strong>, since that is what is being invoked.</p>\n<p>What you can do is to <strong>set the log level of the class to OFF</strong> :</p>\n<pre><code># application.yml\n</code></pre>\n<p>logging.level:\norg.springframework.jms.listener.DefaultMessageListenerContainer: OFF</p>\n"}],"owner":{"account_id":1800064,"reputation":4881,"user_id":1638626,"accept_rate":75,"display_name":"Florian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75071762,"answer_count":2,"score":0,"last_activity_date":1673421667,"creation_date":1673361716,"question_id":75071600,"body_markdown":"Our Spring-based microservice sometimes fails to connect to its eventing service for a couple of minutes. This is okay from an application point of view, as we have several retries and fallbacks in place that take care of this. Each failed connection attempt results in an ERROR log written by the class org.springframework.jms.listener.DefaultMessageListenerContainer. Is it possible to configure Spring such that this log message would be written with a lower log level, such as WARN?","title":"Can I change the level of a message logged by Spring?","body":"<p>Our Spring-based microservice sometimes fails to connect to its eventing service for a couple of minutes. This is okay from an application point of view, as we have several retries and fallbacks in place that take care of this. Each failed connection attempt results in an ERROR log written by the class org.springframework.jms.listener.DefaultMessageListenerContainer. Is it possible to configure Spring such that this log message would be written with a lower log level, such as WARN?</p>\n"},{"tags":["java","spring","spring-boot","jar","config"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673420985,"post_id":75079229,"comment_id":132492230,"body_markdown":"It isn&#39;t a system variable so trying to read it will obviously fail. Use the `Environment` to get the property instead. But why do you need this property in the first place? It is something to be used by Spring Boot.","body":"It isn&#39;t a system variable so trying to read it will obviously fail. Use the <code>Environment</code> to get the property instead. But why do you need this property in the first place? It is something to be used by Spring Boot."},{"owner":{"account_id":27485249,"reputation":11,"user_id":20971616,"display_name":"EV Experience"},"score":0,"creation_date":1673421282,"post_id":75079229,"comment_id":132492306,"body_markdown":"I am placing some text file to be read under this location and I am reading that text file in my spring boot app .","body":"I am placing some text file to be read under this location and I am reading that text file in my spring boot app ."}],"owner":{"account_id":27485249,"reputation":11,"user_id":20971616,"display_name":"EV Experience"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673421221,"creation_date":1673419774,"question_id":75079229,"body_markdown":"I got spring boot app and I am building this app and then creating the jar file out of it.\r\n\r\nand then I am executing my jar file with below command\r\n\r\n**java -Dspring.profiles.active=local -jar rdk-factory-data-deploy-0.1.0-SNAPSHOT.jar --server.port=8080 --ajp.port=0 --spring.datasource.url=jdbc:oracle:thin:@localhost:1521:OraDoc --spring.datasource.username=system --spring.datasource.password=MyPasswd123 --spring.config.additional-location=file:/Users/bharatsuthar/HGW/codebaseDevelopmentRepo1/factory-data-generation-tool/rdk-factory-data-config/ --logging.config=file:/Users/bharatsuthar/HGW/codebaseDevelopmentRepo1/factory-data-generation-tool/rdk-factory-data-config/logback-spring.xml --certFilePath=/Users/bharatsuthar/HGW/codebaseDevelopmentRepo1/factory-data-generation-tool/rdk-factory-data-config/prodcert/**\r\n\r\nmy goal is to read the **spring.config.additional-location** value in my java code but I am unable to read this value.\r\n\r\nI have tried with below code but my code is not working and I am not able to read this path.\r\n\r\n```\r\nSystem.getProperty(&quot;spring.config.additional-location&quot;)\r\n```\r\n\r\nI think above way is not right way to read..though I can read the value but I want to read this automatically in spring boot app.\r\n\r\nCan someone please help on me on this how can I read **spring.config.additional-location** this ?\r\n\r\nHow can I derive this path **spring.config.additional-location** without using **System.getProperty()** ?\r\n\r\nthank you so much","title":"Automatically read the spring.config.additional-location value in Spring Boot App","body":"<p>I got spring boot app and I am building this app and then creating the jar file out of it.</p>\n<p>and then I am executing my jar file with below command</p>\n<p><strong>java -Dspring.profiles.active=local -jar rdk-factory-data-deploy-0.1.0-SNAPSHOT.jar --server.port=8080 --ajp.port=0 --spring.datasource.url=jdbc:oracle:thin:@localhost:1521:OraDoc --spring.datasource.username=system --spring.datasource.password=MyPasswd123 --spring.config.additional-location=file:/Users/bharatsuthar/HGW/codebaseDevelopmentRepo1/factory-data-generation-tool/rdk-factory-data-config/ --logging.config=file:/Users/bharatsuthar/HGW/codebaseDevelopmentRepo1/factory-data-generation-tool/rdk-factory-data-config/logback-spring.xml --certFilePath=/Users/bharatsuthar/HGW/codebaseDevelopmentRepo1/factory-data-generation-tool/rdk-factory-data-config/prodcert/</strong></p>\n<p>my goal is to read the <strong>spring.config.additional-location</strong> value in my java code but I am unable to read this value.</p>\n<p>I have tried with below code but my code is not working and I am not able to read this path.</p>\n<pre><code>System.getProperty(&quot;spring.config.additional-location&quot;)\n</code></pre>\n<p>I think above way is not right way to read..though I can read the value but I want to read this automatically in spring boot app.</p>\n<p>Can someone please help on me on this how can I read <strong>spring.config.additional-location</strong> this ?</p>\n<p>How can I derive this path <strong>spring.config.additional-location</strong> without using <strong>System.getProperty()</strong> ?</p>\n<p>thank you so much</p>\n"},{"tags":["java","spring","jackson"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673416403,"post_id":75078814,"comment_id":132491287,"body_markdown":"How do you call the API?","body":"How do you call the API?"},{"owner":{"account_id":1315495,"reputation":17293,"user_id":1262477,"accept_rate":74,"display_name":"Patan"},"score":0,"creation_date":1673419314,"post_id":75078814,"comment_id":132491834,"body_markdown":"@Jens we call with alias.     path/1?typr=12","body":"@Jens we call with alias.     path/1?typr=12"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673421715,"post_id":75078814,"comment_id":132492429,"body_markdown":"Can you please add also the complete stacktrace","body":"Can you please add also the complete stacktrace"}],"answers":[{"tags":[],"owner":{"account_id":14614685,"reputation":61,"user_id":10555123,"display_name":"bidulgi69"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673420837,"creation_date":1673420837,"answer_id":75079396,"question_id":75078814,"body_markdown":"`@RequestParam` does not use a jackson deserializer. So `@JsonCreator` is not used.\r\n\r\nBy default, Spring uses `Converter` to deserialize `@RequestParam` and `@PathVariable` values.\r\n\r\nSo if you want to convert path values, create a custom converter.\r\n\r\n[Check out this link.](https://stackoverflow.com/questions/75053897/deserialize-requestparam-enum-case-insensitive-in-spring-boot-using-jackson/75053959#75053959) I hope it can help you.","title":"Spring boot JsonCreator for Enum not working for request parameter in GET call","body":"<p><code>@RequestParam</code> does not use a jackson deserializer. So <code>@JsonCreator</code> is not used.</p>\n<p>By default, Spring uses <code>Converter</code> to deserialize <code>@RequestParam</code> and <code>@PathVariable</code> values.</p>\n<p>So if you want to convert path values, create a custom converter.</p>\n<p><a href=\"https://stackoverflow.com/questions/75053897/deserialize-requestparam-enum-case-insensitive-in-spring-boot-using-jackson/75053959#75053959\">Check out this link.</a> I hope it can help you.</p>\n"}],"owner":{"account_id":1315495,"reputation":17293,"user_id":1262477,"accept_rate":74,"display_name":"Patan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673420837,"creation_date":1673416227,"question_id":75078814,"body_markdown":"\r\nI have written custom JsonCreator for enum\r\n\r\n      \r\n    @GetMapping(value = &quot;/path/{pathVar1}&quot;)\r\n      public Response getValue(\r\n          @PathVariable String pathVar1,\r\n           @RequestParam(required = false, name = &quot;type&quot;) MyEnum type)\r\n\r\nEnum\r\n\r\n    @AllArgsConstructor\r\n    @Getter\r\n    public enum MyEnum {\r\n    \r\n      A_12(Set.of(&quot;a&quot;, &quot;12&quot;));\r\n    \r\n      private Set&lt;String&gt; aliases;\r\n    \r\n      @JsonCreator\r\n      public static MyEnum forValues(@JsonProperty(&quot;type&quot;) String type) {\r\n        return Arrays.stream(MyEnum.values())\r\n            .filter(s -&gt; s.getAliases().stream().anyMatch(a -&gt; StringUtils.equalsIgnoreCase(a, type)))\r\n            .findFirst()\r\n            .orElseThrow(() -&gt; new RuntimeException(&quot;aa&quot;));\r\n      }\r\n\r\n\r\nIts not considering jsoncreator for enum. \r\n\r\n    Caused by: java.lang.IllegalArgumentException: No enum constant MyEnum.12\r\n\r\nAm I missing any thing.","title":"Spring boot JsonCreator for Enum not working for request parameter in GET call","body":"<p>I have written custom JsonCreator for enum</p>\n<pre><code>@GetMapping(value = &quot;/path/{pathVar1}&quot;)\n  public Response getValue(\n      @PathVariable String pathVar1,\n       @RequestParam(required = false, name = &quot;type&quot;) MyEnum type)\n</code></pre>\n<p>Enum</p>\n<pre><code>@AllArgsConstructor\n@Getter\npublic enum MyEnum {\n\n  A_12(Set.of(&quot;a&quot;, &quot;12&quot;));\n\n  private Set&lt;String&gt; aliases;\n\n  @JsonCreator\n  public static MyEnum forValues(@JsonProperty(&quot;type&quot;) String type) {\n    return Arrays.stream(MyEnum.values())\n        .filter(s -&gt; s.getAliases().stream().anyMatch(a -&gt; StringUtils.equalsIgnoreCase(a, type)))\n        .findFirst()\n        .orElseThrow(() -&gt; new RuntimeException(&quot;aa&quot;));\n  }\n</code></pre>\n<p>Its not considering jsoncreator for enum.</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: No enum constant MyEnum.12\n</code></pre>\n<p>Am I missing any thing.</p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1673381659,"post_id":75075288,"comment_id":132484998,"body_markdown":"Are we supposed to guess what the service does?","body":"Are we supposed to guess what the service does?"},{"owner":{"account_id":5142830,"reputation":151,"user_id":9144484,"display_name":"A Boston"},"score":1,"creation_date":1673381661,"post_id":75075288,"comment_id":132485002,"body_markdown":"i dont know jack about spring boot ... but 200K with &quot;[]&quot; response is not an error in the REST world. it usually implies that the request is correct -- it fulfilled the round trip to persistent store -- but there is simply no data in the specified collection MATCHING THE QUERY. an empty array is possible.","body":"i dont know jack about spring boot ... but 200K with &quot;[]&quot; response is not an error in the REST world. it usually implies that the request is correct -- it fulfilled the round trip to persistent store -- but there is simply no data in the specified collection MATCHING THE QUERY. an empty array is possible."},{"owner":{"account_id":78881,"reputation":154,"user_id":224155,"display_name":"Arturas Gusevas"},"score":0,"creation_date":1673382007,"post_id":75075288,"comment_id":132485109,"body_markdown":"@ABoston has right. If `service.searchTimesheet(query)` returns empty list, then your response code will be 200 and body `[]`.","body":"@ABoston has right. If <code>service.searchTimesheet(query)</code> returns empty list, then your response code will be 200 and body <code>[]</code>."},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1673382065,"post_id":75075288,"comment_id":132485123,"body_markdown":"Just on first glance everything appears to be correct.  Have you tried setting a breakpoint on the return method and verifying that `servicee.searchTimesheet(query)` is returning something?  is it empty?","body":"Just on first glance everything appears to be correct.  Have you tried setting a breakpoint on the return method and verifying that <code>servicee.searchTimesheet(query)</code> is returning something?  is it empty?"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1673404280,"post_id":75075288,"comment_id":132489591,"body_markdown":"I would say to look at your repo query/service methods to ensure that it is functioning properly. Are you using proper methodnames in the JpaRepository?","body":"I would say to look at your repo query/service methods to ensure that it is functioning properly. Are you using proper methodnames in the JpaRepository?"},{"owner":{"account_id":27492233,"reputation":1,"user_id":20977368,"display_name":"Sree vidhya Gandham"},"score":0,"creation_date":1673416458,"post_id":75075288,"comment_id":132491295,"body_markdown":"@experimentunit1998X  yes its working correctly.when I given RequestParams and RequestHeaders in  Controller class in the place of Request Body it showing the result in Resoponse body but when I place RequestBody Its not showing the output","body":"@experimentunit1998X  yes its working correctly.when I given RequestParams and RequestHeaders in  Controller class in the place of Request Body it showing the result in Resoponse body but when I place RequestBody Its not showing the output"},{"owner":{"account_id":27492233,"reputation":1,"user_id":20977368,"display_name":"Sree vidhya Gandham"},"score":0,"creation_date":1673416502,"post_id":75075288,"comment_id":132491305,"body_markdown":"@tbatch when I given RequestParams and RequestHeaders in Controller class in the place of Request Body it showing the result in Resoponse body but when I place RequestBody Its not showing the output","body":"@tbatch when I given RequestParams and RequestHeaders in Controller class in the place of Request Body it showing the result in Resoponse body but when I place RequestBody Its not showing the output"}],"answers":[{"tags":[],"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673420745,"creation_date":1673420745,"answer_id":75079380,"question_id":75075288,"body_markdown":"in return statement use this beacause you are not returning the body of query object there thats why you are getting empty list there\r\n \r\n     return ResponseEntity.ok().body(service.searchTimesheet(query));","title":"Spring Boot GET Request gives 200 OK status, but Postman returns &quot;[]&quot; as response body","body":"<p>in return statement use this beacause you are not returning the body of query object there thats why you are getting empty list there</p>\n<pre><code> return ResponseEntity.ok().body(service.searchTimesheet(query));\n</code></pre>\n"}],"owner":{"account_id":27492233,"reputation":1,"user_id":20977368,"display_name":"Sree vidhya Gandham"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":524,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673420745,"creation_date":1673381225,"question_id":75075288,"body_markdown":"[It gives output when I PUT Request Params and Request Headers But When I change RequestBody in controller Its not showing the output ](https://i.stack.imgur.com/NYmQb.png)\r\n\r\n\r\n\r\nCONTROLLER CLASS\r\n\r\n    @PostMapping(&quot;/timesheet/search&quot;)\r\n    @ResponseBody\r\n    public ResponseEntity &lt;List&lt;Timesheet&gt;&gt;searchTimesheet(@RequestBody String query) {\r\n        return ResponseEntity.ok(service.searchTimesheet(query));\r\n    }\r\n\r\n\r\nCan anyone help me to solve this?","title":"Spring Boot GET Request gives 200 OK status, but Postman returns &quot;[]&quot; as response body","body":"<p><a href=\"https://i.stack.imgur.com/NYmQb.png\" rel=\"nofollow noreferrer\">It gives output when I PUT Request Params and Request Headers But When I change RequestBody in controller Its not showing the output </a></p>\n<p>CONTROLLER CLASS</p>\n<pre><code>@PostMapping(&quot;/timesheet/search&quot;)\n@ResponseBody\npublic ResponseEntity &lt;List&lt;Timesheet&gt;&gt;searchTimesheet(@RequestBody String query) {\n    return ResponseEntity.ok(service.searchTimesheet(query));\n}\n</code></pre>\n<p>Can anyone help me to solve this?</p>\n"},{"tags":["java","arrays","integer"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1673420152,"post_id":75079265,"comment_id":132492030,"body_markdown":"If you were given a sequence of numbers: how would you sum up these by hand? How could such an algorithm be implemented by a computer?","body":"If you were given a sequence of numbers: how would you sum up these by hand? How could such an algorithm be implemented by a computer?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673420455,"post_id":75079265,"comment_id":132492093,"body_markdown":"Do you know about loops and how to access array elements? If not, I&#39;d suggest you grab a tutorial and learn about that. If you know it, what prevents you from calculating the sum?","body":"Do you know about loops and how to access array elements? If not, I&#39;d suggest you grab a tutorial and learn about that. If you know it, what prevents you from calculating the sum?"},{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1673420517,"post_id":75079265,"comment_id":132492108,"body_markdown":"There is dozens of solutions on the internet, google that and you would have the solution in a second","body":"There is dozens of solutions on the internet, google that and you would have the solution in a second"},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1673421715,"post_id":75079265,"comment_id":132492430,"body_markdown":"Welcome to Stack Overflow! This, as most questions which give a strong impression of being a blind homework dump, lacks focus on the specific programming problem you encountered while trying yourself. To improve have a look at the compromise described here: https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions and at [ask].","body":"Welcome to Stack Overflow! This, as most questions which give a strong impression of being a blind homework dump, lacks focus on the specific programming problem you encountered while trying yourself. To improve have a look at the compromise described here: <a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\" title=\"how do i ask and answer homework questions\">meta.stackoverflow.com/questions/334822/&hellip;</a> and at <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1673420258,"post_id":75079293,"comment_id":132492048,"body_markdown":"Downvoted because the OP should first try it - he doesn&#39;t learn anything without trying first (except that there is someone out there that is willing to do thier work for free).","body":"Downvoted because the OP should first try it - he doesn&#39;t learn anything without trying first (except that there is someone out there that is willing to do thier work for free)."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1673421399,"post_id":75079293,"comment_id":132492339,"body_markdown":"Well, given the fact that the OP didn&#39;t state anything else the reason might be as ell laziness - and we should not support that. We generally expect people to first put some effort into finding a solution (and even using google on this is not too hard) as is also outlined in [ask].","body":"Well, given the fact that the OP didn&#39;t state anything else the reason might be as ell laziness - and we should not support that. We generally expect people to first put some effort into finding a solution (and even using google on this is not too hard) as is also outlined in <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":6767185,"reputation":17855,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":5,"creation_date":1673421718,"post_id":75079293,"comment_id":132492432,"body_markdown":"Why should I, the OP, or anyone else for that matter &quot;try this&quot;? Please read [answer] and [edit] your answer to contain an explanation as to why this code would actually solve the problem at hand. Always remember that you&#39;re not only solving the problem, but are also educating the OP and any future readers of this post.","body":"Why should I, the OP, or anyone else for that matter &quot;try this&quot;? Please read <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a> and <a href=\"https://stackoverflow.com/posts/75079293/edit\">edit</a> your answer to contain an explanation as to why this code would actually solve the problem at hand. Always remember that you&#39;re not only solving the problem, but are also educating the OP and any future readers of this post."}],"tags":[],"owner":{"account_id":19600884,"reputation":55,"user_id":14345769,"display_name":"Siyabend &#214;zdemir"},"comment_count":3,"down_vote_count":4,"up_vote_count":0,"is_accepted":true,"score":-4,"last_activity_date":1673420146,"creation_date":1673420146,"answer_id":75079293,"question_id":75079265,"body_markdown":"Try this \r\n\r\n```\r\n    public static int calculateSum(int[] values) {\r\n        int result = 0;\r\n\r\n        for(int i=0; i&lt;values.length; i++){\r\n            result += values[i];\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n```","title":"Sum up integer values of an int[]-parameter and return the result","body":"<p>Try this</p>\n<pre><code>    public static int calculateSum(int[] values) {\n        int result = 0;\n\n        for(int i=0; i&lt;values.length; i++){\n            result += values[i];\n        }\n\n        return result;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27495850,"reputation":9,"user_id":20980364,"display_name":"Noah"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1673422020,"accepted_answer_id":75079293,"answer_count":1,"score":-2,"last_activity_date":1673420146,"creation_date":1673419997,"question_id":75079265,"body_markdown":"How can I sum up the integer values of an int[]-parameter and return the result\r\n\r\n```\r\nSample1: [1,2,3] must return 6\r\nSample2: [-7,7,3] must return 3\r\nSample3: [] must return 0\r\n```\r\n\r\n```\r\npublic static int calculateSum(int[] values) {\r\n        int[] array = {10, 20, 30, 40};\r\n        return Integer.MIN_VALUE;\r\n    }\r\n}\r\n```","title":"Sum up integer values of an int[]-parameter and return the result","body":"<p>How can I sum up the integer values of an int[]-parameter and return the result</p>\n<pre><code>Sample1: [1,2,3] must return 6\nSample2: [-7,7,3] must return 3\nSample3: [] must return 0\n</code></pre>\n<pre><code>public static int calculateSum(int[] values) {\n        int[] array = {10, 20, 30, 40};\n        return Integer.MIN_VALUE;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-annotations","annotation-processing"],"answers":[{"comments":[{"owner":{"account_id":16461356,"reputation":23,"user_id":11892332,"display_name":"GMarsh"},"score":0,"creation_date":1673663227,"post_id":75079291,"comment_id":132555141,"body_markdown":"My base package is org.wbs.grader.books and the BooksApplication.java has that package at the top of the file","body":"My base package is org.wbs.grader.books and the BooksApplication.java has that package at the top of the file"}],"tags":[],"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673420139,"creation_date":1673420139,"answer_id":75079291,"question_id":75077321,"body_markdown":"I think you are not using the subpackage or same package in which your spring application main class is defined so please  use this method\r\n\r\nYou need to move your code into a package of its own. For example, move your .java files into src/main/java/com/example and add package com.example; to the top of each file.","title":"Failure to parse configuration class","body":"<p>I think you are not using the subpackage or same package in which your spring application main class is defined so please  use this method</p>\n<p>You need to move your code into a package of its own. For example, move your .java files into src/main/java/com/example and add package com.example; to the top of each file.</p>\n"}],"owner":{"account_id":16461356,"reputation":23,"user_id":11892332,"display_name":"GMarsh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5002,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673420139,"creation_date":1673398135,"question_id":75077321,"body_markdown":"I am trying to build a project that had built and ran previously in a different version of IntelliJ.  The error message is as follows :\r\n\r\n&gt; ERROR o.s.boot.SpringApplication - Application run failed\r\n&gt; org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [org.wbs.grader.books.BooksApplication]; nested exception is java.lang.IllegalStateException: Failed to introspect annotated methods on class org.wbs.grader.books.BooksApplication\r\n&gt; \tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:184)\r\n&gt; \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:325)\r\n&gt; \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:242)\r\n&gt; \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:275)\r\n&gt; \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:95)\r\n&gt; \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:706)\r\n&gt; \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532)\r\n&gt; \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)\r\n&gt; \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n&gt; \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n&gt; \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n&gt; \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\r\n&gt; \tat org.wbs.grader.books.BooksApplication.main(BooksApplication.java:19)\r\n&gt; \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n&gt; \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n&gt; \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\n&gt; Caused by: java.lang.IllegalStateException: Failed to introspect annotated methods on class org.wbs.grader.books.BooksApplication\r\n&gt; \tat org.springframework.core.type.StandardAnnotationMetadata.getAnnotatedMethods(StandardAnnotationMetadata.java:165)\r\n&gt; \tat org.springframework.context.annotation.ConfigurationClassParser.retrieveBeanMethodMetadata(ConfigurationClassParser.java:395)\r\n&gt; \tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:320)\r\n&gt; \tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:245)\r\n&gt; \tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:202)\r\n&gt; \tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:170)\r\n&gt; 17 common frames omitted\r\n&gt; Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.wbs.grader.books.BooksApplication] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@356d44b2]\r\n&gt; \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:477)\r\n&gt; \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:451)\r\n&gt; \tat org.springframework.core.type.StandardAnnotationMetadata.getAnnotatedMethods(StandardAnnotationMetadata.java:154)\r\n&gt; 22 common frames omitted\r\n&gt; Caused by: java.lang.NoClassDefFoundError: javax/servlet/ServletContext\r\n&gt; \tat java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n&gt; \tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3166)\r\n&gt; \tat java.base/java.lang.Class.privateGetPublicMethods(Class.java:3191)\r\n&gt; \tat java.base/java.lang.Class.getMethods(Class.java:1904)\r\n&gt; \tat org.springframework.util.ReflectionUtils.findConcreteMethodsOnInterfaces(ReflectionUtils.java:487)\r\n&gt; \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:460)\r\n&gt; \r\n&gt; I have tried using different versions of the JDK 8, 11, 17 but all give the same error.\r\n&gt; \r\n&gt; I tried rebuilding the Spring Boot initializer but that had no effect.","title":"Failure to parse configuration class","body":"<p>I am trying to build a project that had built and ran previously in a different version of IntelliJ.  The error message is as follows :</p>\n<blockquote>\n<p>ERROR o.s.boot.SpringApplication - Application run failed\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [org.wbs.grader.books.BooksApplication]; nested exception is java.lang.IllegalStateException: Failed to introspect annotated methods on class org.wbs.grader.books.BooksApplication\nat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:184)\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:325)\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:242)\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:275)\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:95)\nat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:706)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\nat org.wbs.grader.books.BooksApplication.main(BooksApplication.java:19)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: java.lang.IllegalStateException: Failed to introspect annotated methods on class org.wbs.grader.books.BooksApplication\nat org.springframework.core.type.StandardAnnotationMetadata.getAnnotatedMethods(StandardAnnotationMetadata.java:165)\nat org.springframework.context.annotation.ConfigurationClassParser.retrieveBeanMethodMetadata(ConfigurationClassParser.java:395)\nat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:320)\nat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:245)\nat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:202)\nat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:170)\n17 common frames omitted\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.wbs.grader.books.BooksApplication] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@356d44b2]\nat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:477)\nat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:451)\nat org.springframework.core.type.StandardAnnotationMetadata.getAnnotatedMethods(StandardAnnotationMetadata.java:154)\n22 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/ServletContext\nat java.base/java.lang.Class.getDeclaredMethods0(Native Method)\nat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3166)\nat java.base/java.lang.Class.privateGetPublicMethods(Class.java:3191)\nat java.base/java.lang.Class.getMethods(Class.java:1904)\nat org.springframework.util.ReflectionUtils.findConcreteMethodsOnInterfaces(ReflectionUtils.java:487)\nat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:460)</p>\n<p>I have tried using different versions of the JDK 8, 11, 17 but all give the same error.</p>\n<p>I tried rebuilding the Spring Boot initializer but that had no effect.</p>\n</blockquote>\n"},{"tags":["java","design-patterns","uml","decorator","software-design"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1673320935,"post_id":75065105,"comment_id":132467301,"body_markdown":"AFAIUI, the only methods that you are guaranteed access to are the ones of the interface, these are methods that all decorators share, and in the concrete outer class. If you still have a reference to the decorated UndoStack object, the same one passed into the LockedStack constructor (meaning not constructed inline), then `undo()` is available.","body":"AFAIUI, the only methods that you are guaranteed access to are the ones of the interface, these are methods that all decorators share, and in the concrete outer class. If you still have a reference to the decorated UndoStack object, the same one passed into the LockedStack constructor (meaning not constructed inline), then <code>undo()</code> is available."}],"answers":[{"comments":[{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1674237375,"post_id":75065908,"comment_id":132679261,"body_markdown":"This is not a matter of opinion. The Decorator Pattern explicitly supports added methods. There is a diagram on page 177 of the GoF book, which shows the same idea as the OP.","body":"This is not a matter of opinion. The Decorator Pattern explicitly supports added methods. There is a diagram on page 177 of the GoF book, which shows the same idea as the OP."}],"tags":[],"owner":{"account_id":447545,"reputation":2029,"user_id":841221,"accept_rate":75,"display_name":"Aakash"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1673329359,"creation_date":1673329359,"answer_id":75065908,"question_id":75065105,"body_markdown":"In my opinion, this type of design is actually breaking the Decorator Pattern, since this is adding new behavior in each decorator. The purpose of decorator is to add new functionality transparently, e.g.,\r\n\r\n    BufferedReader in = new BufferedReader(new FileReader(&quot;foo.in&quot;));\r\n\r\nIn above line, buffering is added without the need to invoke any new behavior.\r\n\r\nI hope you get the point.","title":"Decorator Pattern with added functions","body":"<p>In my opinion, this type of design is actually breaking the Decorator Pattern, since this is adding new behavior in each decorator. The purpose of decorator is to add new functionality transparently, e.g.,</p>\n<pre><code>BufferedReader in = new BufferedReader(new FileReader(&quot;foo.in&quot;));\n</code></pre>\n<p>In above line, buffering is added without the need to invoke any new behavior.</p>\n<p>I hope you get the point.</p>\n"},{"tags":[],"owner":{"account_id":4589753,"reputation":69966,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1673420026,"creation_date":1673334967,"answer_id":75066614,"question_id":75065105,"body_markdown":"The purpose of the decorator pattern is:\r\n\r\n&gt; to add new reponsibilities to objects dynamically. \r\n  \r\nIf the new responsibility is embedded in the **existing operations** (e.g. `push()` and `pop()`), the decorator will take care of forwarding the call to the decorated object before/after performing the additional responsibilities. It is then straightforward to chain decorators.  You could for example achieve this with a slightly different design of the secure stack in which cryptographic methods would be private, and pushing/poping would secure the content on the flow:  \r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf the new responsibilities are about **additional operations**, the design is not wrong (in fact GoF provides such an example).  But it&#39;s another story when chaining decorators: \r\n\r\n* The decorator pattern does not provide any way to cumulate the new operations of all the intermediary decorators along the line. (If you really need this,  consider rather the [entity component system pattern][2]) \r\n* The decorator pattern does not either provide an access to the decorated object, since this would lead client code to break the [principle of least knowledge][3] (law of demeter). Moreover you&#39;d need to use risky down-castings. \r\n\r\nThe solution is then to use your decorator chain in another way: if you need a `LockStack` that offers lock operations and an `UndoStack` that offers undo, you&#39;ll need to keep a track of each of these decorator objects, and use the right object to obtain the corresponding operations: \r\n\r\n    UndoStack MyUndoStack = new UndoStack(new SecureStack (key,new Stack()));\r\n    LockedStack MyLockStack = new LockedStack(MyUndoStack); \r\n    MyLockStack.lock();\r\n    MyUndoStack.undo();\r\n    MyLockStack.unlock();\r\n\r\nThis its less elegant but far more robust than creating a delegate getter and assuming in some code that a lockstack allways delegates to an undostack (hidden coupling).\r\n\r\n  [1]: https://i.stack.imgur.com/txKBw.png\r\n  [2]: https://en.wikipedia.org/wiki/Entity_component_system\r\n  [3]: https://en.wikipedia.org/wiki/Law_of_Demeter","title":"Decorator Pattern with added functions","body":"<p>The purpose of the decorator pattern is:</p>\n<blockquote>\n<p>to add new reponsibilities to objects dynamically.</p>\n</blockquote>\n<p>If the new responsibility is embedded in the <strong>existing operations</strong> (e.g. <code>push()</code> and <code>pop()</code>), the decorator will take care of forwarding the call to the decorated object before/after performing the additional responsibilities. It is then straightforward to chain decorators.  You could for example achieve this with a slightly different design of the secure stack in which cryptographic methods would be private, and pushing/poping would secure the content on the flow:</p>\n<p><a href=\"https://i.stack.imgur.com/txKBw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/txKBw.png\" alt=\"enter image description here\" /></a></p>\n<p>If the new responsibilities are about <strong>additional operations</strong>, the design is not wrong (in fact GoF provides such an example).  But it's another story when chaining decorators:</p>\n<ul>\n<li>The decorator pattern does not provide any way to cumulate the new operations of all the intermediary decorators along the line. (If you really need this,  consider rather the <a href=\"https://en.wikipedia.org/wiki/Entity_component_system\" rel=\"nofollow noreferrer\">entity component system pattern</a>)</li>\n<li>The decorator pattern does not either provide an access to the decorated object, since this would lead client code to break the <a href=\"https://en.wikipedia.org/wiki/Law_of_Demeter\" rel=\"nofollow noreferrer\">principle of least knowledge</a> (law of demeter). Moreover you'd need to use risky down-castings.</li>\n</ul>\n<p>The solution is then to use your decorator chain in another way: if you need a <code>LockStack</code> that offers lock operations and an <code>UndoStack</code> that offers undo, you'll need to keep a track of each of these decorator objects, and use the right object to obtain the corresponding operations:</p>\n<pre><code>UndoStack MyUndoStack = new UndoStack(new SecureStack (key,new Stack()));\nLockedStack MyLockStack = new LockedStack(MyUndoStack); \nMyLockStack.lock();\nMyUndoStack.undo();\nMyLockStack.unlock();\n</code></pre>\n<p>This its less elegant but far more robust than creating a delegate getter and assuming in some code that a lockstack allways delegates to an undostack (hidden coupling).</p>\n"}],"owner":{"account_id":26238353,"reputation":97,"user_id":19913094,"display_name":"Anna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75066614,"answer_count":2,"score":3,"last_activity_date":1673420026,"creation_date":1673320583,"question_id":75065105,"body_markdown":"I found this example for the decorator pattern in a text book.\r\n\r\n[![Decorator pattern example][1]][1]\r\n\r\nIf we considered the object:\r\n\r\n```LockedStack MyStack = new LockedStack(new UndoStack(new Stack()))```\r\n\r\nHow can I call the function undo on it?\r\n\r\n```MyStack.delegate.undo()``` won&#39;t work because ```delegate``` is private.\r\n\r\nDoes this example not work in this situation or am I missing something?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NYOx4.png","title":"Decorator Pattern with added functions","body":"<p>I found this example for the decorator pattern in a text book.</p>\n<p><a href=\"https://i.stack.imgur.com/NYOx4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NYOx4.png\" alt=\"Decorator pattern example\" /></a></p>\n<p>If we considered the object:</p>\n<p><code>LockedStack MyStack = new LockedStack(new UndoStack(new Stack()))</code></p>\n<p>How can I call the function undo on it?</p>\n<p><code>MyStack.delegate.undo()</code> won't work because <code>delegate</code> is private.</p>\n<p>Does this example not work in this situation or am I missing something?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","hibernate-6.x"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673353172,"post_id":75069854,"comment_id":132474988,"body_markdown":"En empty collection isn&#39;t null, and thus will lead to an illegal query with an empty `in`, I would argue that it succeeded falsely in previous versions of Hibernate. The expression won&#39;t work as it will be called for `null` so you would need to cather for that case as well. Why not simply write 2 methods and dispatch to one or the other, or just use the `Criteria` API to dynamically generate the query.","body":"En empty collection isn&#39;t null, and thus will lead to an illegal query with an empty <code>in</code>, I would argue that it succeeded falsely in previous versions of Hibernate. The expression won&#39;t work as it will be called for <code>null</code> so you would need to cather for that case as well. Why not simply write 2 methods and dispatch to one or the other, or just use the <code>Criteria</code> API to dynamically generate the query."}],"answers":[{"comments":[{"owner":{"account_id":68404,"reputation":9917,"user_id":199593,"accept_rate":50,"display_name":"edigu"},"score":0,"creation_date":1688225025,"post_id":75074092,"comment_id":135046958,"body_markdown":"As the op mentioned, switching to criteria API involves a lot of refactoring for existing codebases.There should be a proven, recommended path for @Query usages at least during the migration phase","body":"As the op mentioned, switching to criteria API involves a lot of refactoring for existing codebases.There should be a proven, recommended path for @Query usages at least during the migration phase"}],"tags":[],"owner":{"account_id":25387686,"reputation":83,"user_id":19199234,"display_name":"Rayyan Karimi"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673373893,"creation_date":1673373893,"answer_id":75074092,"question_id":75069854,"body_markdown":"An empty collection can&#39;t be null, and thus will lead to an illegal query with an empty `in` in your query. \r\n\r\nWe would argue that it succeeds falsely in previous versions of Hibernate. \r\n\r\nThe expression cannot work as it will be called for `null` so you would need to check for that case as well. \r\n\r\nTry writing two methods and dispatch to one or the other, depending on whether it returns `null` or not; or better use the `Criteria` API to dynamically generate query.\r\n","title":"Hibernate 6 migration, issue with empty collection parameter","body":"<p>An empty collection can't be null, and thus will lead to an illegal query with an empty <code>in</code> in your query.</p>\n<p>We would argue that it succeeds falsely in previous versions of Hibernate.</p>\n<p>The expression cannot work as it will be called for <code>null</code> so you would need to check for that case as well.</p>\n<p>Try writing two methods and dispatch to one or the other, depending on whether it returns <code>null</code> or not; or better use the <code>Criteria</code> API to dynamically generate query.</p>\n"},{"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1673441043,"post_id":75079266,"comment_id":132498897,"body_markdown":"You should rather be using `findAll()` instead if the `workspaceIds` are empty. Having all of these nonsensical predicates in the query is the root of the problem that I tried to explain in the JIRA issue. I guess your examples here are just that, examples, but I think you could benefit from using Blaze-Persistence Entity-Views (https://github.com/Blazebit/blaze-persistence#entity-view-usage) here, as you can get rid of the custom query and model all your filters nicely through Spring Data `Specification` objects.","body":"You should rather be using <code>findAll()</code> instead if the <code>workspaceIds</code> are empty. Having all of these nonsensical predicates in the query is the root of the problem that I tried to explain in the JIRA issue. I guess your examples here are just that, examples, but I think you could benefit from using Blaze-Persistence Entity-Views (<a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">github.com/Blazebit/blaze-persistence#entity-view-usage</a>) here, as you can get rid of the custom query and model all your filters nicely through Spring Data <code>Specification</code> objects."}],"tags":[],"owner":{"account_id":1326157,"reputation":131,"user_id":1270914,"display_name":"Fred"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673420014,"creation_date":1673420014,"answer_id":75079266,"question_id":75069854,"body_markdown":"Thank you for your answers. Using the Criteria API would imply a lot of refactoring some involving complex recursive queries.\r\n\r\nAfter posting my message here, I found the following explanation https://hibernate.atlassian.net/browse/HHH-15743\r\n\r\nThe proposed solution involves using Spring Data Specification which would in my case also implies some refactoring. Too bad empty lists are not supported anymore.\r\n\r\nI ended renaming the existing method as follow :\r\n\r\n```\r\n@Query(&quot;&quot;&quot;\r\n        SELECT DISTINCT new com.dto.NameIdDto(ws.id, ws.name)\r\n        FROM UserRole ur\r\n        JOIN ur.workspace ws\r\n        WHERE (COALESCE(:workspaceIds) IS NULL OR ws.id IN (:workspaceIds))\r\n        &quot;&quot;&quot;)\r\nList&lt;NameIdDto&gt; findWorkspacesWithUsersInternal(Collection&lt;Long&gt; workspaceIds);\r\n```\r\n\r\nAnd adding the following method :\r\n```\r\ndefault List&lt;NameIdDto&gt; findWorkspacesWithUsersInternal(Collection&lt;Long&gt; workspaceIds) {\r\n    return findWorkspacesWithUsersInternal(CollectionUtils.isEmpty(workspaceIds) ? null : workspaceIds);\r\n}\r\n```\r\n\r\n\r\n","title":"Hibernate 6 migration, issue with empty collection parameter","body":"<p>Thank you for your answers. Using the Criteria API would imply a lot of refactoring some involving complex recursive queries.</p>\n<p>After posting my message here, I found the following explanation <a href=\"https://hibernate.atlassian.net/browse/HHH-15743\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-15743</a></p>\n<p>The proposed solution involves using Spring Data Specification which would in my case also implies some refactoring. Too bad empty lists are not supported anymore.</p>\n<p>I ended renaming the existing method as follow :</p>\n<pre><code>@Query(&quot;&quot;&quot;\n        SELECT DISTINCT new com.dto.NameIdDto(ws.id, ws.name)\n        FROM UserRole ur\n        JOIN ur.workspace ws\n        WHERE (COALESCE(:workspaceIds) IS NULL OR ws.id IN (:workspaceIds))\n        &quot;&quot;&quot;)\nList&lt;NameIdDto&gt; findWorkspacesWithUsersInternal(Collection&lt;Long&gt; workspaceIds);\n</code></pre>\n<p>And adding the following method :</p>\n<pre><code>default List&lt;NameIdDto&gt; findWorkspacesWithUsersInternal(Collection&lt;Long&gt; workspaceIds) {\n    return findWorkspacesWithUsersInternal(CollectionUtils.isEmpty(workspaceIds) ? null : workspaceIds);\n}\n</code></pre>\n"}],"owner":{"account_id":1326157,"reputation":131,"user_id":1270914,"display_name":"Fred"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2718,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1673420014,"creation_date":1673353056,"question_id":75069854,"body_markdown":"The Springboot migration from 2.7.x to 3.0.1 is not going smoothly on my project.\r\n\r\nI&#39;m currently facing multiple issues regarding the interpretation of the custom queries used in our repositories. Those queries were working fine before the migration.\r\n\r\nI can&#39;t get my head around the migration of this kind of query :\r\n\r\n```\r\n@Query(&quot;&quot;&quot;\r\n        SELECT DISTINCT new com.dto.NameIdDto(ws.id, ws.name)\r\n        FROM UserRole ur\r\n        JOIN ur.workspace ws\r\n        WHERE (COALESCE(:workspaceIds) IS NULL OR ws.id IN (:workspaceIds))\r\n        &quot;&quot;&quot;)\r\nList&lt;NameIdDto&gt; findWorkspacesWithUsers(Collection&lt;Long&gt; workspaceIds);\r\n```\r\n\r\n```\r\n@Entity\r\npublic class UserRole {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = MY_SEQUENCE)\r\n    private Long id;\r\n\r\n    @ManyToOne(optional = false)\r\n    @JoinColumn(name = &quot;workspace_id&quot;)\r\n    private Workspace workspace;\r\n\r\n}\r\n\r\n@Entity\r\npublic class Workspace  {\r\n\r\n    @Id\r\n    @GeneratedValue(generator = MY_SEQUENCE)\r\n    private Long id;\r\n\r\n    @OneToMany(fetch = LAZY, mappedBy = &quot;workspace&quot;, cascade = ALL, orphanRemoval = true)\r\n    private Set&lt;UserRole&gt; userRoles = new HashSet&lt;&gt;();\r\n\r\n}\r\n```\r\n\r\nWhen running the following tests \r\n```\r\n\r\n@Test\r\npublic void shouldReturnEmptyForNullParameter() {\r\n\tassertThat(workspaceRepository.findWorkspacesWithUsers(null)).isEmpty();\r\n}\r\n\r\n@Test\r\npublic void shouldReturnEmptyForEmptyParameter() {\r\nassertThat(workspaceRepository.findWorkspacesWithUsers(Collections.emptyList())).isEmpty();\r\n}\r\n```\r\n\r\nshouldReturnEmptyForEmptyParameter fails with the exceptions : \r\n\r\n```\r\norg.springframework.dao.InvalidDataAccessApiUsageException: Parameter value [[]] did not match expected type [BasicSqmPathSource(id : Long) ]\r\n\r\n\tat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:134)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy121.findWorkspacesWithUsers(Unknown Source)\r\n\tat com.example.TestApplicationTests.shouldReturnEmptyForNullOrEmptyParameter(TestApplicationTests.java:26)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\nCaused by: java.lang.IllegalArgumentException: Parameter value [[]] did not match expected type [BasicSqmPathSource(id : Long) ]\r\n\tat org.hibernate.query.internal.QueryParameterBindingImpl.setBindValue(QueryParameterBindingImpl.java:119)\r\n\tat org.hibernate.query.spi.AbstractCommonQueryContract.setParameter(AbstractCommonQueryContract.java:860)\r\n\tat org.hibernate.query.spi.AbstractSelectionQuery.setParameter(AbstractSelectionQuery.java:708)\r\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.setParameter(QuerySqmImpl.java:1222)\r\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.setParameter(QuerySqmImpl.java:129)\r\n\tat org.springframework.data.jpa.repository.query.QueryParameterSetter$BindableQuery.setParameter(QueryParameterSetter.java:322)\r\n\tat org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.lambda$setParameter$4(QueryParameterSetter.java:113)\r\n\tat org.springframework.data.jpa.repository.query.QueryParameterSetter$ErrorHandling$1.execute(QueryParameterSetter.java:136)\r\n\tat org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.setParameter(QueryParameterSetter.java:113)\r\n\tat org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:83)\r\n\tat org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:75)\r\n\tat org.springframework.data.jpa.repository.query.ParameterBinder.bindAndPrepare(ParameterBinder.java:97)\r\n\tat org.springframework.data.jpa.repository.query.AbstractStringBasedJpaQuery.doCreateQuery(AbstractStringBasedJpaQuery.java:107)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.createQuery(AbstractJpaQuery.java:234)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:127)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:148)\r\n\tat  org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:136)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\t... 78 more\r\nCaused by: org.hibernate.type.descriptor.java.CoercionException: Cannot coerce value `[]` [java.util.Collections$EmptyList] as Long\r\n\tat org.hibernate.type.descriptor.java.LongJavaType.coerce(LongJavaType.java:155)\r\n\tat org.hibernate.type.descriptor.java.LongJavaType.coerce(LongJavaType.java:24)\r\n\tat org.hibernate.query.internal.QueryParameterBindingImpl.coerce(QueryParameterBindingImpl.java:144)\r\n\tat org.hibernate.query.internal.QueryParameterBindingImpl.setBindValue(QueryParameterBindingImpl.java:111)\r\n\t... 107 more\r\n```\r\n\r\nOR (yes OR, I&#39;ve not identified the reason why when executing the same test multiple times, I get one or the other exception)\r\n\r\n```\r\njava.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\r\n\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.isSelectable(AbstractEntityPersister.java:2039)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.fetchProcessor(AbstractEntityPersister.java:2012)\r\n\tat org.hibernate.loader.ast.internal.LoaderSqlAstCreationState.visitFetches(LoaderSqlAstCreationState.java:118)\r\n\tat org.hibernate.sql.results.graph.AbstractFetchParent.afterInitialize(AbstractFetchParent.java:32)\r\n\tat org.hibernate.sql.results.graph.entity.AbstractEntityResultGraphNode.afterInitialize(AbstractEntityResultGraphNode.java:100)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.createDomainResult(AbstractEntityPersister.java:1300)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.selectFragment(AbstractEntityPersister.java:1892)\r\n\tat org.hibernate.query.sql.internal.SQLQueryParser.resolveProperties(SQLQueryParser.java:236)\r\n\tat org.hibernate.query.sql.internal.SQLQueryParser.substituteBrackets(SQLQueryParser.java:159)\r\n\tat org.hibernate.query.sql.internal.SQLQueryParser.process(SQLQueryParser.java:63)\r\n\tat org.hibernate.query.sql.internal.NativeSelectQueryPlanImpl.&lt;init&gt;(NativeSelectQueryPlanImpl.java:54)\r\n\tat org.hibernate.engine.query.internal.NativeQueryInterpreterStandardImpl.createQueryPlan(NativeQueryInterpreterStandardImpl.java:39)\r\n\tat org.hibernate.query.sql.internal.NativeQueryImpl.createQueryPlan(NativeQueryImpl.java:649)\r\n\tat org.hibernate.query.sql.internal.NativeQueryImpl.lambda$resolveSelectQueryPlan$7(NativeQueryImpl.java:610)\r\n\tat org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveSelectQueryPlan(QueryInterpretationCacheStandardImpl.java:83)\r\n\tat org.hibernate.query.sql.internal.NativeQueryImpl.resolveSelectQueryPlan(NativeQueryImpl.java:608)\r\n\tat org.hibernate.query.sql.internal.NativeQueryImpl.doList(NativeQueryImpl.java:602)\r\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:363)\r\n\tat org.hibernate.query.Query.getResultList(Query.java:94)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:401)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy136.getResultList(Unknown Source)\r\n\tat com.example.repository.CatalogItemRepository.findModelingAndHarmDefinitions(CatalogItemRepository.java:26)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\r\n\tat com.example.repository.CatalogItemRepository$$SpringCGLIB$$0.findModelingAndHarmDefinitions(&lt;generated&gt;)\r\n\tat com.example.TestApplicationTests.shouldBuildNamedQuery(TestApplicationTests.java:31)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n```\r\n\r\nThere&#39;s nothing fancy in my pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;MyExample&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;testcontainers.version&gt;1.17.6&lt;/testcontainers.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\r\n            &lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;${postgresql.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nNor in my application.properties\r\n```\r\nspring.datasource.password=postgres\r\nspring.datasource.username=postgres\r\nspring.datasource.driver-class-name=org.testcontainers.jdbc.ContainerDatabaseDriver\r\nspring.datasource.url=jdbc:tc:postgresql:12:///\r\n\r\nspring.jpa.hibernate.ddl-auto = update\r\n\r\nspring.jpa.show-sql=true\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type=TRACE\r\n```\r\n\r\nThe issue clearly comes from the fact that the collection is empty.\r\nI&#39;ve therefore tried to update the query to :\r\n```WHERE (COALESCE(:workspaceIds,NULL) IS NULL OR :#{#workspaceIds.size()} = 0 OR ws.id IN (:workspaceIds) ) ```\r\n\r\nThe test shouldReturnEmptyForNullParameter then fails with the following exception :\r\n\r\n```\r\norg.springframework.expression.spel.SpelEvaluationException: EL1011E: Method call: Attempted to call method size() on null context object\r\n\r\n\tat org.springframework.expression.spel.ast.MethodReference.throwIfNotNullSafe(MethodReference.java:154)\r\n\tat org.springframework.expression.spel.ast.MethodReference.getValueRef(MethodReference.java:83)\r\n\tat org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:70)\r\n\tat org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:91)\r\n\tat org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:117)\r\n```\r\n\r\nAm I missing something?\r\n\r\nThank you for you help.","title":"Hibernate 6 migration, issue with empty collection parameter","body":"<p>The Springboot migration from 2.7.x to 3.0.1 is not going smoothly on my project.</p>\n<p>I'm currently facing multiple issues regarding the interpretation of the custom queries used in our repositories. Those queries were working fine before the migration.</p>\n<p>I can't get my head around the migration of this kind of query :</p>\n<pre><code>@Query(&quot;&quot;&quot;\n        SELECT DISTINCT new com.dto.NameIdDto(ws.id, ws.name)\n        FROM UserRole ur\n        JOIN ur.workspace ws\n        WHERE (COALESCE(:workspaceIds) IS NULL OR ws.id IN (:workspaceIds))\n        &quot;&quot;&quot;)\nList&lt;NameIdDto&gt; findWorkspacesWithUsers(Collection&lt;Long&gt; workspaceIds);\n</code></pre>\n<pre><code>@Entity\npublic class UserRole {\n\n    @Id\n    @GeneratedValue(generator = MY_SEQUENCE)\n    private Long id;\n\n    @ManyToOne(optional = false)\n    @JoinColumn(name = &quot;workspace_id&quot;)\n    private Workspace workspace;\n\n}\n\n@Entity\npublic class Workspace  {\n\n    @Id\n    @GeneratedValue(generator = MY_SEQUENCE)\n    private Long id;\n\n    @OneToMany(fetch = LAZY, mappedBy = &quot;workspace&quot;, cascade = ALL, orphanRemoval = true)\n    private Set&lt;UserRole&gt; userRoles = new HashSet&lt;&gt;();\n\n}\n</code></pre>\n<p>When running the following tests</p>\n<pre><code>\n@Test\npublic void shouldReturnEmptyForNullParameter() {\n    assertThat(workspaceRepository.findWorkspacesWithUsers(null)).isEmpty();\n}\n\n@Test\npublic void shouldReturnEmptyForEmptyParameter() {\nassertThat(workspaceRepository.findWorkspacesWithUsers(Collections.emptyList())).isEmpty();\n}\n</code></pre>\n<p>shouldReturnEmptyForEmptyParameter fails with the exceptions :</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: Parameter value [[]] did not match expected type [BasicSqmPathSource(id : Long) ]\n\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:134)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\n    at jdk.proxy2/jdk.proxy2.$Proxy121.findWorkspacesWithUsers(Unknown Source)\n    at com.example.TestApplicationTests.shouldReturnEmptyForNullOrEmptyParameter(TestApplicationTests.java:26)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\nCaused by: java.lang.IllegalArgumentException: Parameter value [[]] did not match expected type [BasicSqmPathSource(id : Long) ]\n    at org.hibernate.query.internal.QueryParameterBindingImpl.setBindValue(QueryParameterBindingImpl.java:119)\n    at org.hibernate.query.spi.AbstractCommonQueryContract.setParameter(AbstractCommonQueryContract.java:860)\n    at org.hibernate.query.spi.AbstractSelectionQuery.setParameter(AbstractSelectionQuery.java:708)\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.setParameter(QuerySqmImpl.java:1222)\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.setParameter(QuerySqmImpl.java:129)\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$BindableQuery.setParameter(QueryParameterSetter.java:322)\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.lambda$setParameter$4(QueryParameterSetter.java:113)\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$ErrorHandling$1.execute(QueryParameterSetter.java:136)\n    at org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.setParameter(QueryParameterSetter.java:113)\n    at org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:83)\n    at org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:75)\n    at org.springframework.data.jpa.repository.query.ParameterBinder.bindAndPrepare(ParameterBinder.java:97)\n    at org.springframework.data.jpa.repository.query.AbstractStringBasedJpaQuery.doCreateQuery(AbstractStringBasedJpaQuery.java:107)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.createQuery(AbstractJpaQuery.java:234)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:127)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:148)\n    at  org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:136)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    ... 78 more\nCaused by: org.hibernate.type.descriptor.java.CoercionException: Cannot coerce value `[]` [java.util.Collections$EmptyList] as Long\n    at org.hibernate.type.descriptor.java.LongJavaType.coerce(LongJavaType.java:155)\n    at org.hibernate.type.descriptor.java.LongJavaType.coerce(LongJavaType.java:24)\n    at org.hibernate.query.internal.QueryParameterBindingImpl.coerce(QueryParameterBindingImpl.java:144)\n    at org.hibernate.query.internal.QueryParameterBindingImpl.setBindValue(QueryParameterBindingImpl.java:111)\n    ... 107 more\n</code></pre>\n<p>OR (yes OR, I've not identified the reason why when executing the same test multiple times, I get one or the other exception)</p>\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\n\n    at org.hibernate.persister.entity.AbstractEntityPersister.isSelectable(AbstractEntityPersister.java:2039)\n    at org.hibernate.persister.entity.AbstractEntityPersister.fetchProcessor(AbstractEntityPersister.java:2012)\n    at org.hibernate.loader.ast.internal.LoaderSqlAstCreationState.visitFetches(LoaderSqlAstCreationState.java:118)\n    at org.hibernate.sql.results.graph.AbstractFetchParent.afterInitialize(AbstractFetchParent.java:32)\n    at org.hibernate.sql.results.graph.entity.AbstractEntityResultGraphNode.afterInitialize(AbstractEntityResultGraphNode.java:100)\n    at org.hibernate.persister.entity.AbstractEntityPersister.createDomainResult(AbstractEntityPersister.java:1300)\n    at org.hibernate.persister.entity.AbstractEntityPersister.selectFragment(AbstractEntityPersister.java:1892)\n    at org.hibernate.query.sql.internal.SQLQueryParser.resolveProperties(SQLQueryParser.java:236)\n    at org.hibernate.query.sql.internal.SQLQueryParser.substituteBrackets(SQLQueryParser.java:159)\n    at org.hibernate.query.sql.internal.SQLQueryParser.process(SQLQueryParser.java:63)\n    at org.hibernate.query.sql.internal.NativeSelectQueryPlanImpl.&lt;init&gt;(NativeSelectQueryPlanImpl.java:54)\n    at org.hibernate.engine.query.internal.NativeQueryInterpreterStandardImpl.createQueryPlan(NativeQueryInterpreterStandardImpl.java:39)\n    at org.hibernate.query.sql.internal.NativeQueryImpl.createQueryPlan(NativeQueryImpl.java:649)\n    at org.hibernate.query.sql.internal.NativeQueryImpl.lambda$resolveSelectQueryPlan$7(NativeQueryImpl.java:610)\n    at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveSelectQueryPlan(QueryInterpretationCacheStandardImpl.java:83)\n    at org.hibernate.query.sql.internal.NativeQueryImpl.resolveSelectQueryPlan(NativeQueryImpl.java:608)\n    at org.hibernate.query.sql.internal.NativeQueryImpl.doList(NativeQueryImpl.java:602)\n    at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:363)\n    at org.hibernate.query.Query.getResultList(Query.java:94)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:401)\n    at jdk.proxy2/jdk.proxy2.$Proxy136.getResultList(Unknown Source)\n    at com.example.repository.CatalogItemRepository.findModelingAndHarmDefinitions(CatalogItemRepository.java:26)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n    at com.example.repository.CatalogItemRepository$$SpringCGLIB$$0.findModelingAndHarmDefinitions(&lt;generated&gt;)\n    at com.example.TestApplicationTests.shouldBuildNamedQuery(TestApplicationTests.java:31)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n</code></pre>\n<p>There's nothing fancy in my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;MyExample&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;testcontainers.version&gt;1.17.6&lt;/testcontainers.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\n            &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;${postgresql.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Nor in my application.properties</p>\n<pre><code>spring.datasource.password=postgres\nspring.datasource.username=postgres\nspring.datasource.driver-class-name=org.testcontainers.jdbc.ContainerDatabaseDriver\nspring.datasource.url=jdbc:tc:postgresql:12:///\n\nspring.jpa.hibernate.ddl-auto = update\n\nspring.jpa.show-sql=true\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type=TRACE\n</code></pre>\n<p>The issue clearly comes from the fact that the collection is empty.\nI've therefore tried to update the query to :\n<code>WHERE (COALESCE(:workspaceIds,NULL) IS NULL OR :#{#workspaceIds.size()} = 0 OR ws.id IN (:workspaceIds) ) </code></p>\n<p>The test shouldReturnEmptyForNullParameter then fails with the following exception :</p>\n<pre><code>org.springframework.expression.spel.SpelEvaluationException: EL1011E: Method call: Attempted to call method size() on null context object\n\n    at org.springframework.expression.spel.ast.MethodReference.throwIfNotNullSafe(MethodReference.java:154)\n    at org.springframework.expression.spel.ast.MethodReference.getValueRef(MethodReference.java:83)\n    at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:70)\n    at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:91)\n    at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:117)\n</code></pre>\n<p>Am I missing something?</p>\n<p>Thank you for you help.</p>\n"},{"tags":["java","eclipse","serversocket"],"comments":[{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":1,"creation_date":1673381209,"post_id":75075250,"comment_id":132484864,"body_markdown":"Fix your indentation (or get your editor/IDE to do it for you).","body":"Fix your indentation (or get your editor/IDE to do it for you)."},{"owner":{"account_id":25176628,"reputation":31,"user_id":19018731,"display_name":"Simone Sarugia"},"score":0,"creation_date":1673381403,"post_id":75075250,"comment_id":132484919,"body_markdown":"How can i do it?","body":"How can i do it?"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1673381762,"post_id":75075250,"comment_id":132485036,"body_markdown":"There should be another `}` at the end. If your code was properly indented, this would be glaringly obvious.","body":"There should be another <code>}</code> at the end. If your code was properly indented, this would be glaringly obvious."},{"owner":{"account_id":25176628,"reputation":31,"user_id":19018731,"display_name":"Simone Sarugia"},"score":0,"creation_date":1673384718,"post_id":75075250,"comment_id":132485896,"body_markdown":"Ok now it works but there is an error: &quot;Unhandled exception type IOException at this line: &quot;stringaRicevuta=inDalClient.readLine();&quot;... why this?","body":"Ok now it works but there is an error: &quot;Unhandled exception type IOException at this line: &quot;stringaRicevuta=inDalClient.readLine();&quot;... why this?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1673393860,"post_id":75075250,"comment_id":132488051,"body_markdown":"The method being called can throw an IOException, and you are not catching or otherwise handling it.","body":"The method being called can throw an IOException, and you are not catching or otherwise handling it."}],"owner":{"account_id":25176628,"reputation":31,"user_id":19018731,"display_name":"Simone Sarugia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1673419722,"creation_date":1673380980,"question_id":75075250,"body_markdown":"I&#39;ve tried to develop this Server in Java with Eclipse, but when I run it says me this error: \r\n\r\n    Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n    Syntax error, insert &quot;}&quot; to complete ClassBody\r\n\r\nI don&#39;t understand where I should insert this &quot;}&quot; because I&#39;ve just tried to close the class with &quot;};&quot; but it persists... thanks in advance!\r\n\r\nThis is the code: \r\n\r\n```java\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.util.*;\r\n\r\npublic class ServerStr {\r\n    ServerSocket server = null;\r\n    Socket client = null;\r\n    String stringaRicevuta = null;\r\n    String stringaModificata = null; \r\n    BufferedReader inDalClient;\r\n    DataOutputStream outVersoClient; \r\n\r\n    public Socket attendi() {\r\n        try {\r\n            System.out.println(&quot;1 SERVER partito in esecuzione..partito.&quot;);\r\n            server = new ServerSocket(6789);\r\n            client = server.accept();\r\n            server.close();\r\n            inDalClient = new BufferedReader(new InputStreamReader(client.getInputStream()));\r\n            outVersoClient = new DataOutputStream(client.getOutputStream());\r\n        }\r\n        catch (Exception e) {\r\n            System.out.println(e.getMessage());\r\n            System.out.println(&quot;Errore durante l&#39;istanza del server&quot;);\r\n            System.exit(1);\r\n        }\r\n        return client;\r\n    }\r\n\r\n    public void comunica() {\r\n        try {\r\n            System.out.println(&quot;3 benvenuto client, scrivi una frase e la trasformo in maiuscolo. Attendo...&quot;);\r\n            stringaRicevuta = inDalClient.readLine();\r\n            System.out.println(&quot; e ricevuta la stringa dal cliente&quot; + stringaRicevuta);\r\n            stringaModificata = stringaRicevuta.toUpperCase();\r\n            System.out.println(&quot; invio la stringa modificata al client...&quot;);\r\n            outVersoClient.writeBytes(stringaModificata + &#39;\\n&#39;);\r\n            System.out.println(&quot;9 SERVER: fine elaborazione... buonanotte!&quot;);\r\n            client.close();\r\n        }\r\n        finally {\r\n        }\r\n    };\r\n\r\n    public static void main(String args[]) {\r\n        ServerStr servente = new ServerStr();\r\n        servente.attendi();\r\n        servente.comunica();\r\n    }\r\n```\r\n","title":"Problem with Server Class Socket in JAVA [Eclipse]","body":"<p>I've tried to develop this Server in Java with Eclipse, but when I run it says me this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \nSyntax error, insert &quot;}&quot; to complete ClassBody\n</code></pre>\n<p>I don't understand where I should insert this &quot;}&quot; because I've just tried to close the class with &quot;};&quot; but it persists... thanks in advance!</p>\n<p>This is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.net.*;\nimport java.util.*;\n\npublic class ServerStr {\n    ServerSocket server = null;\n    Socket client = null;\n    String stringaRicevuta = null;\n    String stringaModificata = null; \n    BufferedReader inDalClient;\n    DataOutputStream outVersoClient; \n\n    public Socket attendi() {\n        try {\n            System.out.println(&quot;1 SERVER partito in esecuzione..partito.&quot;);\n            server = new ServerSocket(6789);\n            client = server.accept();\n            server.close();\n            inDalClient = new BufferedReader(new InputStreamReader(client.getInputStream()));\n            outVersoClient = new DataOutputStream(client.getOutputStream());\n        }\n        catch (Exception e) {\n            System.out.println(e.getMessage());\n            System.out.println(&quot;Errore durante l'istanza del server&quot;);\n            System.exit(1);\n        }\n        return client;\n    }\n\n    public void comunica() {\n        try {\n            System.out.println(&quot;3 benvenuto client, scrivi una frase e la trasformo in maiuscolo. Attendo...&quot;);\n            stringaRicevuta = inDalClient.readLine();\n            System.out.println(&quot; e ricevuta la stringa dal cliente&quot; + stringaRicevuta);\n            stringaModificata = stringaRicevuta.toUpperCase();\n            System.out.println(&quot; invio la stringa modificata al client...&quot;);\n            outVersoClient.writeBytes(stringaModificata + '\\n');\n            System.out.println(&quot;9 SERVER: fine elaborazione... buonanotte!&quot;);\n            client.close();\n        }\n        finally {\n        }\n    };\n\n    public static void main(String args[]) {\n        ServerStr servente = new ServerStr();\n        servente.attendi();\n        servente.comunica();\n    }\n</code></pre>\n"},{"tags":["java","angularjs","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"score":0,"creation_date":1508299525,"post_id":46802053,"comment_id":80551947,"body_markdown":"Please show your project structure for Backend and Frontend","body":"Please show your project structure for Backend and Frontend"},{"owner":{"account_id":6907232,"reputation":561,"user_id":5304595,"accept_rate":50,"display_name":"LogronJ"},"score":0,"creation_date":1508300580,"post_id":46802053,"comment_id":80552177,"body_markdown":"i added the image for the project structure, can you see it now?","body":"i added the image for the project structure, can you see it now?"},{"owner":{"account_id":7728234,"reputation":540,"user_id":5852226,"display_name":"Sukma Wardana"},"score":0,"creation_date":1508301531,"post_id":46802053,"comment_id":80552425,"body_markdown":"Try to put all your static files (css, js) on directory `src/main/resources/static`","body":"Try to put all your static files (css, js) on directory <code>src&#47;main&#47;resources&#47;static</code>"},{"owner":{"account_id":6907232,"reputation":561,"user_id":5304595,"accept_rate":50,"display_name":"LogronJ"},"score":0,"creation_date":1508301845,"post_id":46802053,"comment_id":80552530,"body_markdown":"@SukmaWardana still the same error. How can i send here my full project if you want","body":"@SukmaWardana still the same error. How can i send here my full project if you want"},{"owner":{"account_id":7728234,"reputation":540,"user_id":5852226,"display_name":"Sukma Wardana"},"score":0,"creation_date":1508302367,"post_id":46802053,"comment_id":80552653,"body_markdown":"Actually I&#39;m not have much experience with spring-boot, but try check this one: https://stackoverflow.com/a/22951140/5852226 hope it can help","body":"Actually I&#39;m not have much experience with spring-boot, but try check this one: <a href=\"https://stackoverflow.com/a/22951140/5852226\">stackoverflow.com/a/22951140/5852226</a> hope it can help"}],"answers":[{"tags":[],"owner":{"account_id":6907232,"reputation":561,"user_id":5304595,"accept_rate":50,"display_name":"LogronJ"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1513007674,"creation_date":1508305355,"answer_id":46803493,"question_id":46802053,"body_markdown":"The problem was the full source path for the angular scripts. \r\n\r\nI&#39;ve changed it out into like this:\r\n\r\n    &lt;script src=&quot;angular.js&quot;&quot;&gt;&lt;/script&gt;\r\n  \t&lt;script src =&quot;angular-route.min.js&quot;&gt;&lt;/script&gt;\r\n   \t&lt;script src=&quot;app.js&quot;&gt;&lt;/script&gt;\r\n   \t&lt;script src = &quot;HomeController.js&quot;&gt;&lt;/script&gt;\r\n   \t&lt;script src =&quot;HomeService.js&quot; &gt;&lt;/script&gt;","title":"GET angular.js files net::ERR_ABORTED","body":"<p>The problem was the full source path for the angular scripts. </p>\n\n<p>I've changed it out into like this:</p>\n\n<pre><code>&lt;script src=\"angular.js\"\"&gt;&lt;/script&gt;\n&lt;script src =\"angular-route.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"app.js\"&gt;&lt;/script&gt;\n&lt;script src = \"HomeController.js\"&gt;&lt;/script&gt;\n&lt;script src =\"HomeService.js\" &gt;&lt;/script&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6794480,"reputation":41,"user_id":5230349,"display_name":"Bhushan Dafale"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515493495,"creation_date":1515493495,"answer_id":48166056,"question_id":46802053,"body_markdown":"try to add following line in your spring-mvc.xml (may be diff. name in your project), and change your location folder name (if its not resources, in my condition its resources)\r\n\r\nspring-mvc.xml\r\n\r\n    &lt;mvc:resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot; cache-period=&quot;31556926&quot;/&gt;\r\n\r\n*.jsp\r\n\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;${ pageContext.request.contextPath }/resources/script/angular.js&quot;&gt;&lt;/script&gt;\r\n\r\nif already added, please check that you&#39;ve added cache-period\r\n\r\n\r\n\r\n","title":"GET angular.js files net::ERR_ABORTED","body":"<p>try to add following line in your spring-mvc.xml (may be diff. name in your project), and change your location folder name (if its not resources, in my condition its resources)</p>\n\n<p>spring-mvc.xml</p>\n\n<pre><code>&lt;mvc:resources mapping=\"/resources/**\" location=\"/resources/\" cache-period=\"31556926\"/&gt;\n</code></pre>\n\n<p>*.jsp</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"${ pageContext.request.contextPath }/resources/script/angular.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>if already added, please check that you've added cache-period</p>\n"},{"tags":[],"owner":{"account_id":347921,"reputation":1004,"user_id":682321,"accept_rate":50,"display_name":"MFarooqi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515771027,"creation_date":1515771027,"answer_id":48229305,"question_id":46802053,"body_markdown":"I had the same issue. But I thought.. if the same website is working on the other server why isn&#39;t on my server.. So.. what i did..\r\n\r\nI tried to directly access to that page. using URL..\r\n\r\nhttps://localhost:8080/folder/folder/script.js \r\n\r\nhttps://localhost:8080/folder/folder/style.css\r\n\r\nEvery time i was unable to access those files.\r\n\r\n\r\nThen I checked folder permission .. that was 700 so i changed that to 755.. \r\n\r\nnow. everything is running great :) \r\n\r\n","title":"GET angular.js files net::ERR_ABORTED","body":"<p>I had the same issue. But I thought.. if the same website is working on the other server why isn't on my server.. So.. what i did..</p>\n\n<p>I tried to directly access to that page. using URL..</p>\n\n<p><a href=\"https://localhost:8080/folder/folder/script.js\" rel=\"nofollow noreferrer\">https://localhost:8080/folder/folder/script.js</a> </p>\n\n<p><a href=\"https://localhost:8080/folder/folder/style.css\" rel=\"nofollow noreferrer\">https://localhost:8080/folder/folder/style.css</a></p>\n\n<p>Every time i was unable to access those files.</p>\n\n<p>Then I checked folder permission .. that was 700 so i changed that to 755.. </p>\n\n<p>now. everything is running great :) </p>\n"},{"comments":[{"owner":{"account_id":65930,"reputation":4225,"user_id":193705,"accept_rate":81,"display_name":"Peter Wippermann"},"score":0,"creation_date":1580290808,"post_id":54342914,"comment_id":106045514,"body_markdown":"The path `/src/main/resources/` is an indicator that you&#39;re using Maven and that your `src` paths point to the uncompiled sources. This won&#39;t work once you build/compile/deploy your project, because during runtime sources and resources will be available on different paths. E. g. the `classpath` when using Java.","body":"The path <code>&#47;src&#47;main&#47;resources&#47;</code> is an indicator that you&#39;re using Maven and that your <code>src</code> paths point to the uncompiled sources. This won&#39;t work once you build/compile/deploy your project, because during runtime sources and resources will be available on different paths. E. g. the <code>classpath</code> when using Java."}],"tags":[],"owner":{"account_id":5900187,"reputation":9,"user_id":4643973,"display_name":"Dhiraj Belure"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1548320997,"creation_date":1548320997,"answer_id":54342914,"question_id":46802053,"body_markdown":"    &lt;script src=&quot;/src/main/resources/scripts/angular.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src =&quot;/src/main/resources/scripts/angular-route.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;/src/main/resources/app.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src = &quot;/src/main/resources/HomeController.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src =&quot;/src/main/resources/HomeService.js&quot; &gt;&lt;/script&gt;\r\n\r\nYou need forward slash before src attribute in a script to remove &quot;net:: ERR_ABORTED&quot;\r\n","title":"GET angular.js files net::ERR_ABORTED","body":"<pre><code>&lt;script src=\"/src/main/resources/scripts/angular.min.js\"&gt;&lt;/script&gt;\n&lt;script src =\"/src/main/resources/scripts/angular-route.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"/src/main/resources/app.js\"&gt;&lt;/script&gt;\n&lt;script src = \"/src/main/resources/HomeController.js\"&gt;&lt;/script&gt;\n&lt;script src =\"/src/main/resources/HomeService.js\" &gt;&lt;/script&gt;\n</code></pre>\n\n<p>You need forward slash before src attribute in a script to remove \"net:: ERR_ABORTED\"</p>\n"}],"owner":{"account_id":6907232,"reputation":561,"user_id":5304595,"accept_rate":50,"display_name":"LogronJ"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34398,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":46803493,"answer_count":4,"score":5,"last_activity_date":1673419582,"creation_date":1508294965,"question_id":46802053,"body_markdown":"I need your help to find out where&#39;s my error. I am using springboot(backend) x Angularjs(frontend). I get a GET (angular.js) files net::ERR_ABORTED when trying to load localhost:8080. I don&#39;t find any mistake on my angularfiles either. So here is my codes:\r\n\r\n    //for the springcontroller\r\n    \r\n    @RestController\r\n    public class EmployeeController {\r\n    \t\r\n    \t@Autowired\r\n    \tEmployeeService es;\r\n    \t\r\n    \t@RequestMapping(method=RequestMethod.GET,value=&quot;/employees&quot;)\r\n    \tpublic List&lt;Employee&gt; getAllEmployees(){\r\n    \t\treturn es.getAllEmployees();\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(method=RequestMethod.GET,value=&quot;/employees/{name}&quot;)\r\n    \tpublic Employee getEmployee(@PathVariable String name){\r\n    \t\treturn es.getEmployee(name);\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(method=RequestMethod.POST,value=&quot;/employees&quot;)\r\n    \tpublic void addEmployee(@RequestBody Employee emp){\r\n    \t\tes.addEmployee(emp);\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(method=RequestMethod.PUT,value=&quot;/employees/{name}&quot;)\r\n    \tpublic void updateEmployee(@RequestBody Employee emp,@PathVariable String name){\r\n    \t\tes.updateEmployee(emp,name);\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(method=RequestMethod.DELETE,value=&quot;/employees/{name}&quot;)\r\n    \tpublic void deleteEmployee(@PathVariable String name){\r\n    \t\tes.deleteEmployee(name);\r\n    \t}\r\n    }\r\n\r\nFor my app.js:\r\n\r\n    (function(){\r\n    \t&#39;use strict&#39;;\r\n    \tvar app = angular.module(&#39;myApp&#39;,[&#39;ngRoute&#39;,&#39;myApp.controller&#39;]);\r\n    \r\n    \tapp.config(function($routeProvider) {\r\n    \t\t$routeProvider\r\n    \t\t.when(&#39;/&#39;, {\r\n    \t\t\ttemplateUrl: &#39;index.html&#39;,\r\n    \t\t\tcontroller: &#39;HomeController&#39;\r\n    \t\t});\r\n    \t});\r\n    \t\r\n    })();\r\n\r\nFor my HomeController.js\r\n\r\n    var module = angular.module(&#39;myApp.controller&#39;,[&#39;myApp.service&#39;]);\r\n    module.controller(&#39;HomeController&#39;,[&#39;$scope&#39;,&#39;HomeService&#39;,\r\n        function($scope,HomeService){\r\n            $scope.EmpData = [];\r\n    \r\n            var onSuccess = function(response){\r\n                $scope.EmpData = response.data;\r\n            };\r\n    \r\n            var onError = function(error){\r\n                console.log(&#39;Error fetching data...&#39;);\r\n            };\r\n    \r\n            function getAllEmployees(){\r\n                HomeService.getAllEmployees().then(onSuccess,onError)\r\n            };\r\n       } //end of function\r\n    \r\n    ]);\r\n\r\nFor my HomeService.js\r\n\r\n    var module = angular.module(&#39;myApp.service&#39;,[]);\r\n    module.service(&#39;HomeService&#39;,[&#39;$http&#39;,function($http){\r\n            function doFetchEmployees(){\r\n                var response = $http.get(&quot;/employees&quot;);\r\n                return response;\r\n            };\r\n            return{\r\n               getAllEmployees : function(){\r\n                   return doFetchEmployees();\r\n            }\r\n        };\r\n    \r\n        }]);\r\n\r\nAnd finally for my index.html\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    \t&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n    \t\r\n    \t&lt;script src=&quot;src/main/resources/scripts/angular.min.js&quot;&gt;&lt;/script&gt;\r\n    \t&lt;script src =&quot;src/main/resources/scripts/angular-route.min.js&quot;&gt;&lt;/script&gt;\r\n    \t&lt;script src=&quot;src/main/resources/app.js&quot;&gt;&lt;/script&gt;\r\n    \t&lt;script src = &quot;src/main/resources/HomeController.js&quot;&gt;&lt;/script&gt;\r\n    \t&lt;script src =&quot;src/main/resources/HomeService.js&quot; &gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body ng-app=&quot;myApp&quot; ng-controller=&quot;HomeController&quot;&gt;\r\n    \t&lt;h2&gt;Home&lt;/h2&gt;\r\n    \t&lt;br/&gt;\r\n    \t&lt;a href=&quot;#/index.html&quot;&gt;Home&lt;/a&gt;\r\n    \t&lt;br/&gt;\r\n    \t&lt;table&gt;\r\n    \t&lt;thead&gt;\r\n    \t&lt;tr&gt;\r\n    \t\t&lt;th&gt;Name&lt;/th&gt;\r\n    \t\t&lt;th&gt;Email&lt;/th&gt;\r\n    \t\t&lt;th&gt;Address&lt;/th&gt;\r\n    \t\t&lt;th&gt;telephone&lt;/th&gt;\r\n    \t&lt;/tr&gt;\r\n    \t&lt;/thead&gt;\r\n    \t&lt;tbody ng-repeat=&quot;emp in EmpData&quot;&gt;\r\n    \t\t&lt;tr&gt;\r\n    \t\t&lt;td&gt;{{emp.name}}&lt;/td&gt;\r\n    \t\t&lt;td&gt;{{emp.email}}&lt;/td&gt;\r\n    \t\t&lt;td&gt;{{emp.address}}&lt;/td&gt;\r\n    \t\t&lt;td&gt;{{emp.telephone}}&lt;/td&gt;\r\n    \t\t&lt;/tr&gt;\r\n    \t&lt;/tbody&gt;\r\n    \t&lt;/table&gt;\r\n    \t\r\n    \t&lt;br/&gt;\r\n    \t&lt;a href=&quot;http://localhost:8080/adduser.html&quot;&gt;Create User&lt;/a&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nAnd here are all my error message:\r\n\r\n    GET http://localhost:8080/src/main/resources/scripts/angular-route.min.js net::ERR_ABORTED\r\n    localhost/:7 GET http://localhost:8080/src/main/resources/app.js net::ERR_ABORTED\r\n    localhost/:5 GET http://localhost:8080/src/main/resources/scripts/angular.min.js net::ERR_ABORTED\r\n    localhost/:8 GET http://localhost:8080/src/main/resources/HomeController.js net::ERR_ABORTED\r\n    localhost/:9 GET http://localhost:8080/src/main/resources/HomeService.js net::ERR_ABORTED\r\n    localhost/:6 GET http://localhost:8080/src/main/resources/scripts/angular-route.min.js net::ERR_ABORTED\r\n    localhost/:7 GET http://localhost:8080/src/main/resources/app.js net::ERR_ABORTED\r\n    localhost/:8 GET http://localhost:8080/src/main/resources/HomeController.js net::ERR_ABORTED\r\n    localhost/:9 GET http://localhost:8080/src/main/resources/HomeService.js net::ERR_ABORTED\r\n\r\nMy index.html has no output just {{emp.names}} -&gt; like this.\r\nI already tried putting the script tags inside the body but still the same. Hard cache reload &amp; clear. still no luck.\r\nAnd Lastly when i try access localhost:8080 my eclipse console logs shows these 3 lines, is this also some cause of the error?\r\n\r\n    2017-10-18 10:31:22.115  INFO 9176 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet &#39;dispatcherServlet&#39;\r\n    2017-10-18 10:31:22.115  INFO 9176 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization started\r\n    2017-10-18 10:31:22.127  INFO 9176 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization completed in 12 ms\r\n\r\nI&#39;m having a hard time trying to figure this out.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qs1LP.png","title":"GET angular.js files net::ERR_ABORTED","body":"<p>I need your help to find out where's my error. I am using springboot(backend) x Angularjs(frontend). I get a GET (angular.js) files net::ERR_ABORTED when trying to load localhost:8080. I don't find any mistake on my angularfiles either. So here is my codes:</p>\n<pre><code>//for the springcontroller\n\n@RestController\npublic class EmployeeController {\n    \n    @Autowired\n    EmployeeService es;\n    \n    @RequestMapping(method=RequestMethod.GET,value=&quot;/employees&quot;)\n    public List&lt;Employee&gt; getAllEmployees(){\n        return es.getAllEmployees();\n    }\n    \n    @RequestMapping(method=RequestMethod.GET,value=&quot;/employees/{name}&quot;)\n    public Employee getEmployee(@PathVariable String name){\n        return es.getEmployee(name);\n    }\n    \n    @RequestMapping(method=RequestMethod.POST,value=&quot;/employees&quot;)\n    public void addEmployee(@RequestBody Employee emp){\n        es.addEmployee(emp);\n    }\n    \n    @RequestMapping(method=RequestMethod.PUT,value=&quot;/employees/{name}&quot;)\n    public void updateEmployee(@RequestBody Employee emp,@PathVariable String name){\n        es.updateEmployee(emp,name);\n    }\n    \n    @RequestMapping(method=RequestMethod.DELETE,value=&quot;/employees/{name}&quot;)\n    public void deleteEmployee(@PathVariable String name){\n        es.deleteEmployee(name);\n    }\n}\n</code></pre>\n<p>For my app.js:</p>\n<pre><code>(function(){\n    'use strict';\n    var app = angular.module('myApp',['ngRoute','myApp.controller']);\n\n    app.config(function($routeProvider) {\n        $routeProvider\n        .when('/', {\n            templateUrl: 'index.html',\n            controller: 'HomeController'\n        });\n    });\n    \n})();\n</code></pre>\n<p>For my HomeController.js</p>\n<pre><code>var module = angular.module('myApp.controller',['myApp.service']);\nmodule.controller('HomeController',['$scope','HomeService',\n    function($scope,HomeService){\n        $scope.EmpData = [];\n\n        var onSuccess = function(response){\n            $scope.EmpData = response.data;\n        };\n\n        var onError = function(error){\n            console.log('Error fetching data...');\n        };\n\n        function getAllEmployees(){\n            HomeService.getAllEmployees().then(onSuccess,onError)\n        };\n   } //end of function\n\n]);\n</code></pre>\n<p>For my HomeService.js</p>\n<pre><code>var module = angular.module('myApp.service',[]);\nmodule.service('HomeService',['$http',function($http){\n        function doFetchEmployees(){\n            var response = $http.get(&quot;/employees&quot;);\n            return response;\n        };\n        return{\n           getAllEmployees : function(){\n               return doFetchEmployees();\n        }\n    };\n\n    }]);\n</code></pre>\n<p>And finally for my index.html</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n    \n    &lt;script src=&quot;src/main/resources/scripts/angular.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src =&quot;src/main/resources/scripts/angular-route.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;src/main/resources/app.js&quot;&gt;&lt;/script&gt;\n    &lt;script src = &quot;src/main/resources/HomeController.js&quot;&gt;&lt;/script&gt;\n    &lt;script src =&quot;src/main/resources/HomeService.js&quot; &gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body ng-app=&quot;myApp&quot; ng-controller=&quot;HomeController&quot;&gt;\n    &lt;h2&gt;Home&lt;/h2&gt;\n    &lt;br/&gt;\n    &lt;a href=&quot;#/index.html&quot;&gt;Home&lt;/a&gt;\n    &lt;br/&gt;\n    &lt;table&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        &lt;th&gt;Name&lt;/th&gt;\n        &lt;th&gt;Email&lt;/th&gt;\n        &lt;th&gt;Address&lt;/th&gt;\n        &lt;th&gt;telephone&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody ng-repeat=&quot;emp in EmpData&quot;&gt;\n        &lt;tr&gt;\n        &lt;td&gt;{{emp.name}}&lt;/td&gt;\n        &lt;td&gt;{{emp.email}}&lt;/td&gt;\n        &lt;td&gt;{{emp.address}}&lt;/td&gt;\n        &lt;td&gt;{{emp.telephone}}&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n    &lt;/table&gt;\n    \n    &lt;br/&gt;\n    &lt;a href=&quot;http://localhost:8080/adduser.html&quot;&gt;Create User&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>And here are all my error message:</p>\n<pre><code>GET http://localhost:8080/src/main/resources/scripts/angular-route.min.js net::ERR_ABORTED\nlocalhost/:7 GET http://localhost:8080/src/main/resources/app.js net::ERR_ABORTED\nlocalhost/:5 GET http://localhost:8080/src/main/resources/scripts/angular.min.js net::ERR_ABORTED\nlocalhost/:8 GET http://localhost:8080/src/main/resources/HomeController.js net::ERR_ABORTED\nlocalhost/:9 GET http://localhost:8080/src/main/resources/HomeService.js net::ERR_ABORTED\nlocalhost/:6 GET http://localhost:8080/src/main/resources/scripts/angular-route.min.js net::ERR_ABORTED\nlocalhost/:7 GET http://localhost:8080/src/main/resources/app.js net::ERR_ABORTED\nlocalhost/:8 GET http://localhost:8080/src/main/resources/HomeController.js net::ERR_ABORTED\nlocalhost/:9 GET http://localhost:8080/src/main/resources/HomeService.js net::ERR_ABORTED\n</code></pre>\n<p>My index.html has no output just {{emp.names}} -&gt; like this.\nI already tried putting the script tags inside the body but still the same. Hard cache reload &amp; clear. still no luck.\nAnd Lastly when i try access localhost:8080 my eclipse console logs shows these 3 lines, is this also some cause of the error?</p>\n<pre><code>2017-10-18 10:31:22.115  INFO 9176 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'\n2017-10-18 10:31:22.115  INFO 9176 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started\n2017-10-18 10:31:22.127  INFO 9176 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 12 ms\n</code></pre>\n<p>I'm having a hard time trying to figure this out.</p>\n<p><img src=\"https://i.stack.imgur.com/Qs1LP.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":5477121,"reputation":245,"user_id":4402533,"accept_rate":90,"display_name":"Pramod Yadav"},"score":0,"creation_date":1504106845,"post_id":45964215,"comment_id":78887496,"body_markdown":"you can so this with some logic also, like setText(&quot;************&quot;+data.substring(11));\n\ndata is the variable that containing your data","body":"you can so this with some logic also, like setText(&quot;************&quot;+data.substring(11));  data is the variable that containing your data"}],"answers":[{"comments":[{"owner":{"account_id":11660152,"reputation":65,"user_id":8538723,"display_name":"Xuezheng Low"},"score":0,"creation_date":1504107044,"post_id":45964319,"comment_id":78887644,"body_markdown":"Thanks for answered,but i want show the output of string like: *******7890 in my TextView","body":"Thanks for answered,but i want show the output of string like: *******7890 in my TextView"},{"owner":{"account_id":3944216,"reputation":1346,"user_id":3257513,"accept_rate":92,"display_name":"Yoni"},"score":0,"creation_date":1504107180,"post_id":45964319,"comment_id":78887733,"body_markdown":"so you can used this and just add to your string &quot;*****&quot;+string after subString","body":"so you can used this and just add to your string &quot;*****&quot;+string after subString"}],"tags":[],"owner":{"account_id":3944216,"reputation":1346,"user_id":3257513,"accept_rate":92,"display_name":"Yoni"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504106763,"creation_date":1504106763,"answer_id":45964319,"question_id":45964215,"body_markdown":"\r\n    String string = &quot;1234567890&quot;;\r\n    if(string .length() &gt; 4){\r\n    string .substring(string .length() - 4)\r\n    }\r\n    tv.setText(string);\r\n\r\noutput: 7890","title":"How to make Textview will only show the last 4 digits numbers","body":"<pre><code>String string = \"1234567890\";\nif(string .length() &gt; 4){\nstring .substring(string .length() - 4)\n}\ntv.setText(string);\n</code></pre>\n\n<p>output: 7890</p>\n"},{"tags":[],"owner":{"account_id":6786761,"reputation":2068,"user_id":5225247,"accept_rate":46,"display_name":"Aalap Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504107211,"creation_date":1504107211,"answer_id":45964477,"question_id":45964215,"body_markdown":"You can hard code `&quot;*&quot;` in the beginning and extract last 4 digits of credit card num from sqlite and display on text view.\r\n\r\n    String lastFourDigits = extractLastFourDigits(); //I assume you get this\r\n    myTextView.setText(&quot;**** **** **** &quot;+lastFourDigits);","title":"How to make Textview will only show the last 4 digits numbers","body":"<p>You can hard code <code>\"*\"</code> in the beginning and extract last 4 digits of credit card num from sqlite and display on text view.</p>\n\n<pre><code>String lastFourDigits = extractLastFourDigits(); //I assume you get this\nmyTextView.setText(\"**** **** **** \"+lastFourDigits);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11174172,"reputation":2786,"user_id":8200290,"accept_rate":56,"display_name":"letsCode"},"score":0,"creation_date":1504108295,"post_id":45964479,"comment_id":78888418,"body_markdown":"if for some reason you want to change it from 4 characters to more, but replace the 4 within the { } brackets.","body":"if for some reason you want to change it from 4 characters to more, but replace the 4 within the { } brackets."},{"owner":{"account_id":1333089,"reputation":7030,"user_id":1276495,"accept_rate":60,"display_name":"Mohammad Arman"},"score":1,"creation_date":1543251202,"post_id":45964479,"comment_id":93841070,"body_markdown":"Best solution indeed! Thanks!!","body":"Best solution indeed! Thanks!!"}],"tags":[],"owner":{"account_id":11174172,"reputation":2786,"user_id":8200290,"accept_rate":56,"display_name":"letsCode"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1504107214,"creation_date":1504107214,"answer_id":45964479,"question_id":45964215,"body_markdown":"\t\tString number = &quot;grou353fp23g3qprwog9512&quot;;\r\n\t\tString mask = number.replaceAll(&quot;\\\\w(?=\\\\w{4})&quot;, &quot;*&quot;);\r\n\t\t\r\n\t\ttextView.setText(mask);\r\n\r\nOutput is *******************9512\r\n","title":"How to make Textview will only show the last 4 digits numbers","body":"<pre><code>    String number = \"grou353fp23g3qprwog9512\";\n    String mask = number.replaceAll(\"\\\\w(?=\\\\w{4})\", \"*\");\n\n    textView.setText(mask);\n</code></pre>\n\n<p>Output is *******************9512</p>\n"},{"tags":[],"owner":{"account_id":11658391,"reputation":80,"user_id":8537453,"display_name":"user8537453"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504107415,"creation_date":1504107415,"answer_id":45964554,"question_id":45964215,"body_markdown":"    public static String padLeading*(String data, int requiredLength){\r\n    \t\tStringBuffer sb = new StringBuffer();\r\n    \r\n    \t\tif(data .length() &gt; 4){\r\n    data .substring(data .length() - 4)\r\n    }\r\n    \t\t\r\n    \t\tint numLeading* = requiredLength - data.length();\r\n    \t\tfor (int i=0; i &lt; numLeading*; i++){\r\n    \t\t\tsb.append(&quot;*&quot;);\r\n    \t\t}\r\n    \t\tsb.append(data);\r\n    \t\treturn sb.toString();\r\n    \t}\r\n\r\nAdvantage of this method is that you could vary the number of * as required.  Or to make it simpler could determine the last four characters of the string, pass it in and take:\r\n\r\n    if(data .length() &gt; 4){\r\n        data .substring(data .length() - 4)\r\n        }\r\n\r\nout of this method.","title":"How to make Textview will only show the last 4 digits numbers","body":"<pre><code>public static String padLeading*(String data, int requiredLength){\n        StringBuffer sb = new StringBuffer();\n\n        if(data .length() &gt; 4){\ndata .substring(data .length() - 4)\n}\n\n        int numLeading* = requiredLength - data.length();\n        for (int i=0; i &lt; numLeading*; i++){\n            sb.append(\"*\");\n        }\n        sb.append(data);\n        return sb.toString();\n    }\n</code></pre>\n\n<p>Advantage of this method is that you could vary the number of * as required.  Or to make it simpler could determine the last four characters of the string, pass it in and take:</p>\n\n<pre><code>if(data .length() &gt; 4){\n    data .substring(data .length() - 4)\n    }\n</code></pre>\n\n<p>out of this method.</p>\n"},{"tags":[],"owner":{"account_id":217877,"reputation":1885,"user_id":473902,"accept_rate":81,"display_name":"Ge3ng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504107543,"creation_date":1504107543,"answer_id":45964593,"question_id":45964215,"body_markdown":"You want to use a [TransformationMethod][1]\r\nYou can use the source of [PasswordTransformationMethod][2] as a guide so you don&#39;t lose the original string.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/text/method/TransformationMethod.html\r\n  [2]: https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/core/java/android/text/method/PasswordTransformationMethod.java","title":"How to make Textview will only show the last 4 digits numbers","body":"<p>You want to use a <a href=\"https://developer.android.com/reference/android/text/method/TransformationMethod.html\" rel=\"nofollow noreferrer\">TransformationMethod</a>\nYou can use the source of <a href=\"https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/core/java/android/text/method/PasswordTransformationMethod.java\" rel=\"nofollow noreferrer\">PasswordTransformationMethod</a> as a guide so you don't lose the original string.</p>\n"},{"tags":[],"owner":{"account_id":1797509,"reputation":2459,"user_id":1636610,"accept_rate":20,"display_name":"AbhinayMe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543250998,"creation_date":1543250998,"answer_id":53485648,"question_id":45964215,"body_markdown":"Here you go. Clean and reusable:\r\n\r\n    /**\r\n     * Applies the specified mask to the card number.\r\n     *\r\n     * @param cardNumber The card number in plain format\r\n     * @param mask The number mask pattern. Use # to include a digit from the\r\n     * card number at that position, use x to skip the digit at that position\r\n     *\r\n     * @return The masked card number\r\n     */\r\n    public static String maskCardNumber(String cardNumber, String mask) {\r\n    \r\n        // format the number\r\n        int index = 0;\r\n        StringBuilder maskedNumber = new StringBuilder();\r\n        for (int i = 0; i &lt; mask.length(); i++) {\r\n            char c = mask.charAt(i);\r\n            if (c == &#39;#&#39;) {\r\n                maskedNumber.append(cardNumber.charAt(index));\r\n                index++;\r\n            } else if (c == &#39;x&#39;) {\r\n                maskedNumber.append(c);\r\n                index++;\r\n            } else {\r\n                maskedNumber.append(c);\r\n            }\r\n        }\r\n    \r\n        // return the masked number\r\n        return maskedNumber.toString();\r\n    }\r\n\r\nSample Calls:\r\n\r\n    System.out.println(maskCardNumber(&quot;1234123412341234&quot;, &quot;xxxx-xxxx-xxxx-####&quot;));\r\n    &gt; xxxx-xxxx-xxxx-1234\r\n    \r\n    System.out.println(maskCardNumber(&quot;1234123412341234&quot;, &quot;##xx-xxxx-xxxx-xx##&quot;));\r\n    &gt; 12xx-xxxx-xxxx-xx34","title":"How to make Textview will only show the last 4 digits numbers","body":"<p>Here you go. Clean and reusable:</p>\n\n<pre><code>/**\n * Applies the specified mask to the card number.\n *\n * @param cardNumber The card number in plain format\n * @param mask The number mask pattern. Use # to include a digit from the\n * card number at that position, use x to skip the digit at that position\n *\n * @return The masked card number\n */\npublic static String maskCardNumber(String cardNumber, String mask) {\n\n    // format the number\n    int index = 0;\n    StringBuilder maskedNumber = new StringBuilder();\n    for (int i = 0; i &lt; mask.length(); i++) {\n        char c = mask.charAt(i);\n        if (c == '#') {\n            maskedNumber.append(cardNumber.charAt(index));\n            index++;\n        } else if (c == 'x') {\n            maskedNumber.append(c);\n            index++;\n        } else {\n            maskedNumber.append(c);\n        }\n    }\n\n    // return the masked number\n    return maskedNumber.toString();\n}\n</code></pre>\n\n<p>Sample Calls:</p>\n\n<pre><code>System.out.println(maskCardNumber(\"1234123412341234\", \"xxxx-xxxx-xxxx-####\"));\n&gt; xxxx-xxxx-xxxx-1234\n\nSystem.out.println(maskCardNumber(\"1234123412341234\", \"##xx-xxxx-xxxx-xx##\"));\n&gt; 12xx-xxxx-xxxx-xx34\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3108406,"reputation":1530,"user_id":2630728,"accept_rate":56,"display_name":"Viks"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631072762,"creation_date":1631072762,"answer_id":69096747,"question_id":45964215,"body_markdown":"**Kotlin solution**\r\n\r\n    acNumber.replace(&quot;\\\\w(?=\\\\w{4})&quot;.toRegex(),&quot;*&quot;)","title":"How to make Textview will only show the last 4 digits numbers","body":"<p><strong>Kotlin solution</strong></p>\n<pre><code>acNumber.replace(&quot;\\\\w(?=\\\\w{4})&quot;.toRegex(),&quot;*&quot;)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652852354,"post_id":72279961,"comment_id":127703422,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/72279961/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25236100,"reputation":9,"user_id":19070589,"display_name":"Arslan Riaz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652817418,"creation_date":1652817381,"answer_id":72279961,"question_id":45964215,"body_markdown":"stringData.replaceRange(0, stringData.length - 2, &quot;*&quot;)\r\n\r\nI hope it will work","title":"How to make Textview will only show the last 4 digits numbers","body":"<p>stringData.replaceRange(0, stringData.length - 2, &quot;*&quot;)</p>\n<p>I hope it will work</p>\n"}],"owner":{"account_id":11660152,"reputation":65,"user_id":8538723,"display_name":"Xuezheng Low"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9753,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":45964479,"answer_count":8,"score":6,"last_activity_date":1673419531,"creation_date":1504106442,"question_id":45964215,"body_markdown":"My Textview is getting the data from SQLite, but I want to make Textview to show as follows:&lt;BR&gt;************1234, instead of 1234123412341234.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x6g8x.png","title":"How to make Textview will only show the last 4 digits numbers","body":"<p>My Textview is getting the data from SQLite, but I want to make Textview to show as follows:<BR>************1234, instead of 1234123412341234.</p>\n<p><img src=\"https://i.stack.imgur.com/x6g8x.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","maven","jar","micronaut"],"comments":[{"owner":{"account_id":24603296,"reputation":624,"user_id":18505867,"display_name":"ShingJo"},"score":0,"creation_date":1664372910,"post_id":73880524,"comment_id":130456914,"body_markdown":"Micronaut Application projects created with Micronaut Launch or CLI don&#39;t create a jar file named `jar-with-dependencies`. See https://guides.micronaut.io/latest/creating-your-first-micronaut-app-maven-java.html for an example of creating an application with Launch or CLI. Most of the Micronaut guides have Maven examples (https://guides.micronaut.io/latest/index.html).","body":"Micronaut Application projects created with Micronaut Launch or CLI don&#39;t create a jar file named <code>jar-with-dependencies</code>. See <a href=\"https://guides.micronaut.io/latest/creating-your-first-micronaut-app-maven-java.html\" rel=\"nofollow noreferrer\">guides.micronaut.io/latest/&hellip;</a> for an example of creating an application with Launch or CLI. Most of the Micronaut guides have Maven examples (<a href=\"https://guides.micronaut.io/latest/index.html\" rel=\"nofollow noreferrer\">guides.micronaut.io/latest/index.html</a>)."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1665065003,"post_id":73880524,"comment_id":130615971,"body_markdown":"&quot;Micronaut Application projects created with Micronaut Launch or CLI don&#39;t create a jar file named jar-with-dependencies&quot; - The Gradle build could be configured to name the generated jar anything you like as long as it is a valid file name on the file system.  I assume that the `XXXXXXXX-0.1-jar-with-dependencies.jar` mentioned in the question is not the actual file name.","body":"&quot;Micronaut Application projects created with Micronaut Launch or CLI don&#39;t create a jar file named jar-with-dependencies&quot; - The Gradle build could be configured to name the generated jar anything you like as long as it is a valid file name on the file system.  I assume that the <code>XXXXXXXX-0.1-jar-with-dependencies.jar</code> mentioned in the question is not the actual file name."}],"answers":[{"tags":[],"owner":{"account_id":16700904,"reputation":1,"user_id":12070704,"display_name":"Shubham Saykar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673419528,"creation_date":1673419528,"answer_id":75079202,"question_id":73880524,"body_markdown":"I have solution for the my question.\r\n  I have issue that I&#39;m not able to run jar file on port:8080 or any port configure in project. Becuase I am using micronuat version 2.2.0.\r\n  I had upgraded the micronaut version to latest version i.e micronut version3.7.4 and this solve my issue. Now I&#39;m able to run jar file on port.\r\n\r\nThank you..\r\n","title":"No embedded container found. Running as CLI application","body":"<p>I have solution for the my question.\nI have issue that I'm not able to run jar file on port:8080 or any port configure in project. Becuase I am using micronuat version 2.2.0.\nI had upgraded the micronaut version to latest version i.e micronut version3.7.4 and this solve my issue. Now I'm able to run jar file on port.</p>\n<p>Thank you..</p>\n"}],"owner":{"account_id":16700904,"reputation":1,"user_id":12070704,"display_name":"Shubham Saykar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673419528,"creation_date":1664363967,"question_id":73880524,"body_markdown":"I have build an application in java micronaut framework with maven.\r\n\r\n\r\nI have create application jar file for the application. when I have run that jar file with\r\n  &gt;java -jar XXXXXXXX-0.1-jar-with-dependencies.jar\r\n\r\nthe application is running successfully but how do I know on which port  actually the application is running.\r\n\r\nActual behaviour:\r\nIt should be run on the localhost port:8080\r\n\r\n\r\nExpected Behaviour:\r\nbut It is showing as :  No embedded container found. Running as CLI application.\r\n\r\n\r\nPlease guide me appropriately.\r\n\r\n\r\nThank You!!!\r\n","title":"No embedded container found. Running as CLI application","body":"<p>I have build an application in java micronaut framework with maven.</p>\n<p>I have create application jar file for the application. when I have run that jar file with</p>\n<blockquote>\n<p>java -jar XXXXXXXX-0.1-jar-with-dependencies.jar</p>\n</blockquote>\n<p>the application is running successfully but how do I know on which port  actually the application is running.</p>\n<p>Actual behaviour:\nIt should be run on the localhost port:8080</p>\n<p>Expected Behaviour:\nbut It is showing as :  No embedded container found. Running as CLI application.</p>\n<p>Please guide me appropriately.</p>\n<p>Thank You!!!</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1672039552,"post_id":74918046,"comment_id":132210487,"body_markdown":"What in the heck are you talking about?","body":"What in the heck are you talking about?"},{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1672040237,"post_id":74918046,"comment_id":132210600,"body_markdown":"please see https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/ for more idea.","body":"please see <a href=\"https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a> for more idea."}],"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673419343,"creation_date":1672039128,"question_id":74918046,"body_markdown":"Trying to understand synchronization of bidirectional entities.\r\nref: https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/\r\n\r\n\r\nLets see example of OneToMany bidirectional association.\r\n\r\n[![enter image description here][1]][1]\r\nSee entity class\r\n```java\r\n@Entity(name = &quot;Post&quot;)\r\n@Table(name = &quot;post&quot;)\r\npublic class Post {\r\n&#160;\r\n&#160;&#160;&#160;&#160;@Id\r\n&#160;&#160;&#160;&#160;@GeneratedValue\r\n&#160;&#160;&#160;&#160;private Long id;\r\n&#160;\r\n&#160;&#160;&#160;&#160;private String title;\r\n&#160;\r\n&#160;&#160;&#160;&#160;@OneToMany(\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;mappedBy = &quot;post&quot;,\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;cascade = CascadeType.ALL,\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;orphanRemoval = true\r\n&#160;&#160;&#160;&#160;)\r\n&#160;&#160;&#160;&#160;private List&lt;PostComment&gt; comments = new ArrayList&lt;&gt;();\r\n&#160;\r\n&#160;&#160;&#160;&#160;//Getters and setters omitted for brevity\r\n&#160;\r\n&#160;&#160;&#160;&#160;public void addComment(PostComment comment) {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;comments.add(comment);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;comment.setPost(this);\r\n&#160;&#160;&#160;&#160;}\r\n&#160;\r\n&#160;&#160;&#160;&#160;public void removeComment(PostComment comment) {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;comments.remove(comment);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;comment.setPost(null);\r\n&#160;&#160;&#160;&#160;}\r\n}\r\n```\r\nshould we call these methods(addComment,removeComment) on managed or transient entities? I am assuming when we just create objects in memory which are transient, it will be a good practice.\r\n\r\nIf both, is true.\r\nI also saw one article where for synchronizing both side, for parent entity aka Post,had additional method which removes all comments for given post\r\n\r\nService layer\r\n```java\r\n    @Transactional\r\n    public void deleteAllCommentsOfPost() {\r\n        Author author = postRepository.findByName(&quot;Joana Nimar&quot;);\r\n        post.removeComments(); // use removeComments() helper    \r\n    }\r\n```\r\n\r\nPost entity has following\r\n```java\r\n...\r\n... entity code\r\n\r\n    public void removeComments() {\r\n        //TODO can be optimized, as it fires single delete queries.\r\n        System.out.println(&quot;iterating removeComments&quot;);\r\n        Iterator&lt;Comment&gt; iterator = this.comments.iterator();\r\n\r\n        while (iterator.hasNext()) {\r\n            Comment comment = iterator.next();\r\n\r\n            comment.setPost(null);\r\n            iterator.remove();\r\n        }\r\n    }\r\n...\r\n...\r\n\r\n```\r\n\r\nBut problem here is that, since this is a managed entity, it will fire individual delete statements for each post. Instead better would be to have something like single statement with IN clause to delete entities.\r\n\r\nI am not sure what would be correct way. \r\nI see following option:\r\ncreate another method in repository layer which deletes using jpql.\r\n\r\nBut, here will entities get synchronized post transaction commit is my query.\r\n\r\nI would like to know what are best practices for bidirectional entities.\r\n\r\n  [1]: https://i.stack.imgur.com/WoUPB.png","title":"Synchronizing bidirectional entities in hibernate jpa spring","body":"<p>Trying to understand synchronization of bidirectional entities.\nref: <a href=\"https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/</a></p>\n<p>Lets see example of OneToMany bidirectional association.</p>\n<p><a href=\"https://i.stack.imgur.com/WoUPB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WoUPB.png\" alt=\"enter image description here\" /></a>\nSee entity class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;Post&quot;)\n@Table(name = &quot;post&quot;)\npublic class Post {\n \n    @Id\n    @GeneratedValue\n    private Long id;\n \n    private String title;\n \n    @OneToMany(\n        mappedBy = &quot;post&quot;,\n        cascade = CascadeType.ALL,\n        orphanRemoval = true\n    )\n    private List&lt;PostComment&gt; comments = new ArrayList&lt;&gt;();\n \n    //Getters and setters omitted for brevity\n \n    public void addComment(PostComment comment) {\n        comments.add(comment);\n        comment.setPost(this);\n    }\n \n    public void removeComment(PostComment comment) {\n        comments.remove(comment);\n        comment.setPost(null);\n    }\n}\n</code></pre>\n<p>should we call these methods(addComment,removeComment) on managed or transient entities? I am assuming when we just create objects in memory which are transient, it will be a good practice.</p>\n<p>If both, is true.\nI also saw one article where for synchronizing both side, for parent entity aka Post,had additional method which removes all comments for given post</p>\n<p>Service layer</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Transactional\n    public void deleteAllCommentsOfPost() {\n        Author author = postRepository.findByName(&quot;Joana Nimar&quot;);\n        post.removeComments(); // use removeComments() helper    \n    }\n</code></pre>\n<p>Post entity has following</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n... entity code\n\n    public void removeComments() {\n        //TODO can be optimized, as it fires single delete queries.\n        System.out.println(&quot;iterating removeComments&quot;);\n        Iterator&lt;Comment&gt; iterator = this.comments.iterator();\n\n        while (iterator.hasNext()) {\n            Comment comment = iterator.next();\n\n            comment.setPost(null);\n            iterator.remove();\n        }\n    }\n...\n...\n\n</code></pre>\n<p>But problem here is that, since this is a managed entity, it will fire individual delete statements for each post. Instead better would be to have something like single statement with IN clause to delete entities.</p>\n<p>I am not sure what would be correct way.\nI see following option:\ncreate another method in repository layer which deletes using jpql.</p>\n<p>But, here will entities get synchronized post transaction commit is my query.</p>\n<p>I would like to know what are best practices for bidirectional entities.</p>\n"},{"tags":["java","json","jackson","gson"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1499712736,"post_id":45019130,"comment_id":77013182,"body_markdown":"I think you might have to simply recursively (or iteratively) do the transformation yourself.","body":"I think you might have to simply recursively (or iteratively) do the transformation yourself."},{"owner":{"account_id":7492329,"reputation":139,"user_id":5693581,"accept_rate":38,"display_name":"Lazysheep.wang"},"score":0,"creation_date":1499712849,"post_id":45019130,"comment_id":77013241,"body_markdown":"Actually I found another question which was able to iterate json string, and print the value correctly. But how can I add/save the key? I was not able to figure it out. Would you please help? https://stackoverflow.com/questions/22111857/parse-recursively-unknown-json-input-structure-in-java","body":"Actually I found another question which was able to iterate json string, and print the value correctly. But how can I add/save the key? I was not able to figure it out. Would you please help? <a href=\"https://stackoverflow.com/questions/22111857/parse-recursively-unknown-json-input-structure-in-java\" title=\"parse recursively unknown json input structure in java\">stackoverflow.com/questions/22111857/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":7492329,"reputation":139,"user_id":5693581,"accept_rate":38,"display_name":"Lazysheep.wang"},"score":0,"creation_date":1499728357,"post_id":45020165,"comment_id":77020300,"body_markdown":"Thanks a lot Nik. I am able to achieve the solution based on your answer, and I updated my question with the detail.","body":"Thanks a lot Nik. I am able to achieve the solution based on your answer, and I updated my question with the detail."}],"tags":[],"owner":{"account_id":1510989,"reputation":21746,"user_id":1413133,"display_name":"Manos Nikolaidis"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1499714924,"creation_date":1499714924,"answer_id":45020165,"question_id":45019130,"body_markdown":"You can get the JSON as `JsonNode` and go through all fields recursively and add key and value field to a Map. When a value is an object instead of string you can add the field name to List to be joined with periods when a string is finally encountered. First create (for readability) a separate method that add Json fields to a `Map`:\r\n\r\n    void mapAppender(Map&lt;String, String&gt; result, Entry&lt;String, JsonNode&gt; node, List&lt;String&gt; names) {\r\n        names.add(node.getKey());\r\n        if (node.getValue().isTextual()) {\r\n            String name = names.stream().collect(joining(&quot;.&quot;));\r\n            result.put(name, node.getValue().asText());\r\n        } else {\r\n            node.getValue().fields()\r\n                .forEachRemaining(nested -&gt; mapAppender(result, nested, new ArrayList&lt;&gt;(names)));\r\n        }\r\n    }\r\n\r\nand use it like this:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\r\n    mapper.readTree(json).fields()\r\n        .forEachRemaining(node -&gt; mapAppender(result, node, new ArrayList&lt;String&gt;()));\r\n\r\nWhere `fields()` returns an `Iterator`. Beware of `StackOverflowErrors` and perhaps low performance for deeply nested JSON.","title":"Flatten a JSON string to make the key including each level key value to Map&lt;String, String&gt; using Gson or Jackson","body":"<p>You can get the JSON as <code>JsonNode</code> and go through all fields recursively and add key and value field to a Map. When a value is an object instead of string you can add the field name to List to be joined with periods when a string is finally encountered. First create (for readability) a separate method that add Json fields to a <code>Map</code>:</p>\n\n<pre><code>void mapAppender(Map&lt;String, String&gt; result, Entry&lt;String, JsonNode&gt; node, List&lt;String&gt; names) {\n    names.add(node.getKey());\n    if (node.getValue().isTextual()) {\n        String name = names.stream().collect(joining(\".\"));\n        result.put(name, node.getValue().asText());\n    } else {\n        node.getValue().fields()\n            .forEachRemaining(nested -&gt; mapAppender(result, nested, new ArrayList&lt;&gt;(names)));\n    }\n}\n</code></pre>\n\n<p>and use it like this:</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nMap&lt;String, String&gt; result = new HashMap&lt;&gt;();\nmapper.readTree(json).fields()\n    .forEachRemaining(node -&gt; mapAppender(result, node, new ArrayList&lt;String&gt;()));\n</code></pre>\n\n<p>Where <code>fields()</code> returns an <code>Iterator</code>. Beware of <code>StackOverflowErrors</code> and perhaps low performance for deeply nested JSON.</p>\n"},{"tags":[],"owner":{"account_id":8466444,"reputation":223,"user_id":6350474,"display_name":"Noyal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507785792,"creation_date":1507785792,"answer_id":46701988,"question_id":45019130,"body_markdown":"I resolved this using below simple code, Only think is need to download jettison and flattener.JsonFlattener library \r\n\r\n\r\n    import java.util.Map;\r\n    import org.codehaus.jettison.json.JSONObject;\r\n    import com.github.wnameless.json.flattener.JsonFlattener;\r\n    \r\n    public class test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString jsonString = &quot;{\\&quot;id\\&quot; : \\&quot;123\\&quot;,\\&quot;name\\&quot; : \\&quot;Tom\\&quot;,\\&quot;class\\&quot; : {\\&quot;subject\\&quot; : \\&quot;Math\\&quot;,\\&quot;teacher\\&quot; : \\&quot;Jack\\&quot;}}&quot;;\r\n    \t\tJSONObject jsonObject = new JSONObject();\r\n    \t\tString flattenedJson = JsonFlattener.flatten(jsonString);\r\n    \t\tMap&lt;String, Object&gt; flattenedJsonMap = JsonFlattener.flattenAsMap(jsonString);\r\n    \t\tSystem.out.println(flattenedJsonMap);\r\n    \t}\r\n    }\r\n\r\n\r\nReference link : [https://github.com/wnameless/json-flattener][1]\r\n\r\n\r\n  [1]: https://github.com/wnameless/json-flattener","title":"Flatten a JSON string to make the key including each level key value to Map&lt;String, String&gt; using Gson or Jackson","body":"<p>I resolved this using below simple code, Only think is need to download jettison and flattener.JsonFlattener library </p>\n\n<pre><code>import java.util.Map;\nimport org.codehaus.jettison.json.JSONObject;\nimport com.github.wnameless.json.flattener.JsonFlattener;\n\npublic class test {\n\n    public static void main(String[] args) {\n        String jsonString = \"{\\\"id\\\" : \\\"123\\\",\\\"name\\\" : \\\"Tom\\\",\\\"class\\\" : {\\\"subject\\\" : \\\"Math\\\",\\\"teacher\\\" : \\\"Jack\\\"}}\";\n        JSONObject jsonObject = new JSONObject();\n        String flattenedJson = JsonFlattener.flatten(jsonString);\n        Map&lt;String, Object&gt; flattenedJsonMap = JsonFlattener.flattenAsMap(jsonString);\n        System.out.println(flattenedJsonMap);\n    }\n}\n</code></pre>\n\n<p>Reference link : <a href=\"https://github.com/wnameless/json-flattener\" rel=\"nofollow noreferrer\">https://github.com/wnameless/json-flattener</a></p>\n"}],"owner":{"account_id":7492329,"reputation":139,"user_id":5693581,"accept_rate":38,"display_name":"Lazysheep.wang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8149,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":45020165,"answer_count":2,"score":5,"last_activity_date":1673419272,"creation_date":1499710726,"question_id":45019130,"body_markdown":"I have an enhanced question regarding [Flatten a JSON string to Map&lt;String, String&gt; using Gson or Jackson][1]. \r\n\r\nMy scenario included duplicated keys, so the solution in the above question will cause some duplicated keys overwritten. So I am thinking to construct keys by combining each level&#39;s key together. \r\n\r\nSo how to achieve that?\r\n\r\nFor example:\r\n\r\n    {\r\n        &quot;id&quot; : &quot;123&quot;,\r\n        &quot;name&quot; : &quot;Tom&quot;,\r\n        &quot;class&quot; : {\r\n            &quot;subject&quot; : &quot;Math&quot;,\r\n            &quot;teacher&quot; : &quot;Jack&quot;\r\n        }\r\n    }\r\n\r\nI want to get the Map&lt;String, String&gt;:\r\n\r\n    &quot;id&quot; : &quot;123&quot;,\r\n    &quot;name&quot; : &quot;Tom&quot;,\r\n    &quot;class.subject&quot; : &quot;Math&quot;,\r\n    &quot;class.teacher&quot; : &quot;Jack&quot;\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29759462/flatten-a-json-string-to-mapstring-string-using-gson-or-jackson\r\n\r\n\r\n************************Update Solution*************************************\r\n\r\nBased on @Manos Nikolaidis&#39;s answer, I am able to achieve the following solution by considering ArrayNode.\r\n\r\n    public void processJsonString(String jsonString) throws Exception {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        ArrayNode arrayNode = (ArrayNode) mapper.readTree(jsonString);\r\n        processArrayNode(arrayNode);\r\n    }\r\n\r\n    private void processObjectNode(JsonNode jsonNode) {\r\n        Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\r\n        Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; iterator = jsonNode.fields();\r\n        iterator.forEachRemaining(node -&gt; mapAppender(result, node, new ArrayList&lt;String&gt;()));\r\n    }\r\n\r\n    private void processArrayNode(ArrayNode arrayNode) {\r\n        for (JsonNode jsonNode : arrayNode) {\r\n            processObjectNode(jsonNode);\r\n        }\r\n    }\r\n\r\n\r\n    private void mapAppender(Map&lt;String, String&gt; result, Map.Entry&lt;String, JsonNode&gt; node, List&lt;String&gt; names) {\r\n        names.add(node.getKey());\r\n        if (node.getValue().isTextual()) {\r\n            String name = names.stream().collect(Collectors.joining(&quot;.&quot;));\r\n            result.put(name, node.getValue().asText());\r\n        } else if (node.getValue().isArray()) {\r\n            processArrayNode((ArrayNode) node.getValue());\r\n        } else if (node.getValue().isNull()) {\r\n            String name = names.stream().collect(Collectors.joining(&quot;.&quot;));\r\n            result.put(name, null);\r\n        } else {\r\n            node.getValue().fields()\r\n                            .forEachRemaining(nested -&gt; mapAppender(result, nested, new ArrayList&lt;&gt;(names)));\r\n        }\r\n    }\r\n\r\n\r\n","title":"Flatten a JSON string to make the key including each level key value to Map&lt;String, String&gt; using Gson or Jackson","body":"<p>I have an enhanced question regarding <a href=\"https://stackoverflow.com/questions/29759462/flatten-a-json-string-to-mapstring-string-using-gson-or-jackson\">Flatten a JSON string to Map using Gson or Jackson</a>. </p>\n\n<p>My scenario included duplicated keys, so the solution in the above question will cause some duplicated keys overwritten. So I am thinking to construct keys by combining each level's key together. </p>\n\n<p>So how to achieve that?</p>\n\n<p>For example:</p>\n\n<pre><code>{\n    \"id\" : \"123\",\n    \"name\" : \"Tom\",\n    \"class\" : {\n        \"subject\" : \"Math\",\n        \"teacher\" : \"Jack\"\n    }\n}\n</code></pre>\n\n<p>I want to get the Map:</p>\n\n<pre><code>\"id\" : \"123\",\n\"name\" : \"Tom\",\n\"class.subject\" : \"Math\",\n\"class.teacher\" : \"Jack\"\n</code></pre>\n\n<p>************************Update Solution*************************************</p>\n\n<p>Based on @Manos Nikolaidis's answer, I am able to achieve the following solution by considering ArrayNode.</p>\n\n<pre><code>public void processJsonString(String jsonString) throws Exception {\n    ObjectMapper mapper = new ObjectMapper();\n    ArrayNode arrayNode = (ArrayNode) mapper.readTree(jsonString);\n    processArrayNode(arrayNode);\n}\n\nprivate void processObjectNode(JsonNode jsonNode) {\n    Map&lt;String, String&gt; result = new HashMap&lt;&gt;();\n    Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; iterator = jsonNode.fields();\n    iterator.forEachRemaining(node -&gt; mapAppender(result, node, new ArrayList&lt;String&gt;()));\n}\n\nprivate void processArrayNode(ArrayNode arrayNode) {\n    for (JsonNode jsonNode : arrayNode) {\n        processObjectNode(jsonNode);\n    }\n}\n\n\nprivate void mapAppender(Map&lt;String, String&gt; result, Map.Entry&lt;String, JsonNode&gt; node, List&lt;String&gt; names) {\n    names.add(node.getKey());\n    if (node.getValue().isTextual()) {\n        String name = names.stream().collect(Collectors.joining(\".\"));\n        result.put(name, node.getValue().asText());\n    } else if (node.getValue().isArray()) {\n        processArrayNode((ArrayNode) node.getValue());\n    } else if (node.getValue().isNull()) {\n        String name = names.stream().collect(Collectors.joining(\".\"));\n        result.put(name, null);\n    } else {\n        node.getValue().fields()\n                        .forEachRemaining(nested -&gt; mapAppender(result, nested, new ArrayList&lt;&gt;(names)));\n    }\n}\n</code></pre>\n"},{"tags":["java","google-chrome","server","ldap"],"owner":{"account_id":26826181,"reputation":1,"user_id":20414789,"display_name":"Captain America"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673419097,"creation_date":1673280417,"question_id":75059989,"body_markdown":"What is the method to access the log files in Windows Log &gt; Security in Active Directory using Java through an LDAP connection?\r\n\r\nSo I can filter the deleted users using Event ID\r\n\r\nPS: I am using Windows Server 2019\r\n\r\nTried LDAP search on CN=System, the program ran successfully but no output produced.","title":"Log Files In Active Directory","body":"<p>What is the method to access the log files in Windows Log &gt; Security in Active Directory using Java through an LDAP connection?</p>\n<p>So I can filter the deleted users using Event ID</p>\n<p>PS: I am using Windows Server 2019</p>\n<p>Tried LDAP search on CN=System, the program ran successfully but no output produced.</p>\n"},{"tags":["java","spring-boot","mapstruct"],"comments":[{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1559042748,"post_id":56341042,"comment_id":99287425,"body_markdown":"I am not seeing @RunWith(JUnitPlatform.class) not sure of that is a problem I would have placed it.,","body":"I am not seeing @RunWith(JUnitPlatform.class) not sure of that is a problem I would have placed it.,"},{"owner":{"account_id":16027029,"reputation":73,"user_id":11567022,"display_name":"Mirko Manojlovic"},"score":0,"creation_date":1559043239,"post_id":56341042,"comment_id":99287675,"body_markdown":"@AlexandarPetrov I&#39;m using JUnit5, and I think RunWith is replaced with ExtendWith.","body":"@AlexandarPetrov I&#39;m using JUnit5, and I think RunWith is replaced with ExtendWith."},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1559043414,"post_id":56341042,"comment_id":99287774,"body_markdown":"Yes you are right.","body":"Yes you are right."},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1559043726,"post_id":56341042,"comment_id":99287948,"body_markdown":"Can you try setting up @Import(value={ItemMapperImpl.class}) I think the mapper implementation may not have been component scanned.","body":"Can you try setting up @Import(value={ItemMapperImpl.class}) I think the mapper implementation may not have been component scanned."},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1559043775,"post_id":56341042,"comment_id":99287976,"body_markdown":"Or @SpringBootTest(classes = {ItemMapperImpl.class})","body":"Or @SpringBootTest(classes = {ItemMapperImpl.class})"},{"owner":{"account_id":16027029,"reputation":73,"user_id":11567022,"display_name":"Mirko Manojlovic"},"score":0,"creation_date":1559044751,"post_id":56341042,"comment_id":99288541,"body_markdown":"@AlexandarPetrov - I have tried @Import(value={ItemMapperImpl.class}) above the test class still nothing. And the idea is that this should be a Unit test, that&#39;s why I don&#39;t want to use @SpringBootTest(classes = {ItemMapperImpl.class}) .","body":"@AlexandarPetrov - I have tried @Import(value={ItemMapperImpl.class}) above the test class still nothing. And the idea is that this should be a Unit test, that&#39;s why I don&#39;t want to use @SpringBootTest(classes = {ItemMapperImpl.class}) ."},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1559045310,"post_id":56341042,"comment_id":99288827,"body_markdown":"Indeed, but in your code you expect that somehow th unit test will figure out the dependency injection @Spy\n    private ItemMapper itemMapper;  and without Spring there is no way for it to figure out what the implementation is. Maybe you should initialize the ItemMapper using Mappers.getMapper() this way it will figure out what the implementation is.","body":"Indeed, but in your code you expect that somehow th unit test will figure out the dependency injection @Spy     private ItemMapper itemMapper;  and without Spring there is no way for it to figure out what the implementation is. Maybe you should initialize the ItemMapper using Mappers.getMapper() this way it will figure out what the implementation is."},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1559045420,"post_id":56341042,"comment_id":99288884,"body_markdown":"Notice that on the mapper annotation you are specifying spring based injection strategy.","body":"Notice that on the mapper annotation you are specifying spring based injection strategy."},{"owner":{"account_id":16027029,"reputation":73,"user_id":11567022,"display_name":"Mirko Manojlovic"},"score":0,"creation_date":1559045611,"post_id":56341042,"comment_id":99289002,"body_markdown":"@AlexandarPetrov - Yeah you are right I am dumb as a rock. When I added\n\n```java\n@Spy\nprivate ItemMapper itemMapper = Mappers.getMapper(ItemMapper.class);\n```\n\nthe test passed successfully hehe :).\nI guess I will add this as a bean in a Configuration class so I can use it in all of my tests and then add @ContextConfiguration. Thank you, you saved me a lot of time :)","body":"@AlexandarPetrov - Yeah you are right I am dumb as a rock. When I added  <code>java @Spy private ItemMapper itemMapper = Mappers.getMapper(ItemMapper.class); </code>  the test passed successfully hehe :). I guess I will add this as a bean in a Configuration class so I can use it in all of my tests and then add @ContextConfiguration. Thank you, you saved me a lot of time :)"},{"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"score":0,"creation_date":1559045772,"post_id":56341042,"comment_id":99289091,"body_markdown":"Congratz :) I will summarize the answer. please accept.","body":"Congratz :) I will summarize the answer. please accept."},{"owner":{"account_id":16027029,"reputation":73,"user_id":11567022,"display_name":"Mirko Manojlovic"},"score":0,"creation_date":1559045848,"post_id":56341042,"comment_id":99289146,"body_markdown":"@AlexandarPetrov - Sure thing :)","body":"@AlexandarPetrov - Sure thing :)"}],"answers":[{"tags":[],"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1559045911,"creation_date":1559045911,"answer_id":56342122,"question_id":56341042,"body_markdown":"@Spy annotation on \r\n\r\n    @Spy\r\n    private ItemMapper itemMapper;\r\n\r\nwill not perform dependency injection of the generated ItemMapperImpl class file. The solution would be to set \r\n\r\n     @Spy\r\n     private ItemMapper itemMapper = Mappers.getMapper(ItemMapper.class);\r\n\r\nOr alternativly to enable spring dependency injection via `@SpringBootTest(classes = {ItemMapperImpl.class}).`\r\n\r\n","title":"MapStruct not autowring with Spring-boot testing Gradle Junit5","body":"<p>@Spy annotation on </p>\n\n<pre><code>@Spy\nprivate ItemMapper itemMapper;\n</code></pre>\n\n<p>will not perform dependency injection of the generated ItemMapperImpl class file. The solution would be to set </p>\n\n<pre><code> @Spy\n private ItemMapper itemMapper = Mappers.getMapper(ItemMapper.class);\n</code></pre>\n\n<p>Or alternativly to enable spring dependency injection via <code>@SpringBootTest(classes = {ItemMapperImpl.class}).</code></p>\n"}],"owner":{"account_id":16027029,"reputation":73,"user_id":11567022,"display_name":"Mirko Manojlovic"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3928,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":56342122,"answer_count":1,"score":5,"last_activity_date":1673419037,"creation_date":1559042373,"question_id":56341042,"body_markdown":"I am trying to use mapstruct with Gradle, but I am having limited success. When I&#39;m using it in the application everything seems to be working fine, but when I tried to write some tests Spring can&#39;t autowire MapStruct properly (it just returns NullPointer exceptions). I am using Gradle 5.4.1, Junit5 and IntelliJ 2019.1.2.\r\n\r\nThis is the build folder and there is no mapper generated for test classes.\r\n\r\n![enter image description here][1]\r\n\r\nRepository with the code is here:\r\nhttps://github.com/MirkoManojlovic/mapstruct-example\r\n\r\n\r\n### Mapper:\r\n\r\n```java\r\n@Mapper(unmappedTargetPolicy = ReportingPolicy.WARN,\r\n        componentModel = &quot;spring&quot;,\r\n        injectionStrategy = InjectionStrategy.CONSTRUCTOR)\r\npublic interface ItemMapper {\r\n    ItemDto toDto(Item item);\r\n    Item toItem(ItemDto itemDto);\r\n}\r\n\r\n```\r\n\r\n### Repository:\r\n\r\n```java\r\npublic class ItemRepository {\r\n    public ItemDto getItemDto() {\r\n        return new ItemDto(&quot;item 1&quot;);\r\n    }\r\n\r\n    public Item getItem() {\r\n        return new Item(1, &quot;item 1&quot;, 20);\r\n    }\r\n}\r\n```\r\n\r\n### Service:\r\n\r\n```java\r\n@Service\r\n@RequiredArgsConstructor\r\n@Log4j2\r\npublic class ItemService {\r\n    private final ItemRepository itemRepository;\r\n    private final ItemMapper itemMapper;\r\n\r\n    public ItemDto getItemDto() {\r\n        Item item = itemRepository.getItem();\r\n        ItemDto itemDto = itemMapper.toDto(item);\r\n        log.info(itemDto);\r\n        return itemDto;\r\n    }\r\n\r\n    public Item getItem() {\r\n        ItemDto itemDto = itemRepository.getItemDto();\r\n        Item item = itemMapper.toItem(itemDto);\r\n        log.info(item);\r\n        return item;\r\n    }\r\n}\r\n```\r\n\r\n### Test: \r\n\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\npublic class ItemServiceTest {\r\n\r\n    @Mock\r\n    private ItemRepository itemRepository;\r\n\r\n    @InjectMocks\r\n    private ItemService itemService;\r\n\r\n    @Spy\r\n    private ItemMapper itemMapper;\r\n\r\n    @Test\r\n    void shouldReturnItemDto() {\r\n        Item mockItem = new Item(1, &quot;mockItem&quot;, 10);\r\n        given(itemRepository.getItem()).willReturn(mockItem);\r\n        ItemDto itemDto = itemService.getItemDto();\r\n        assertThat(mockItem.getName()).isEqualTo(itemDto.getName());\r\n    }\r\n\r\n}\r\n```\r\n\r\n### build.gradle:\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &#39;2.1.5.RELEASE&#39;\r\n    id &#39;java&#39;\r\n}\r\n\r\napply plugin: &#39;io.spring.dependency-management&#39;\r\n\r\ngroup = &#39;com.mapstruct.spring.example&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;1.8&#39;\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom annotationProcessor\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform {\r\n    }\r\n}\r\n\r\ndependencies {\r\n    // Mapstruct\r\n    implementation &#39;org.mapstruct:mapstruct:1.3.0.Final&#39;\r\n    annotationProcessor &#39;org.mapstruct:mapstruct-processor:1.3.0.Final&#39;\r\n    testAnnotationProcessor &#39;org.mapstruct:mapstruct-processor:1.3.0.Final&#39;\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\r\n    testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;)\r\n\r\n    // JUnit5\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.3.2&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.3.2&#39;\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-params:5.3.2&#39;\r\n\r\n    // Mockito\r\n    testImplementation &#39;org.mockito:mockito-core:2.23.4&#39;\r\n    testImplementation &#39;org.mockito:mockito-junit-jupiter:2.23.4&#39;\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/v1liq.png","title":"MapStruct not autowring with Spring-boot testing Gradle Junit5","body":"<p>I am trying to use mapstruct with Gradle, but I am having limited success. When I'm using it in the application everything seems to be working fine, but when I tried to write some tests Spring can't autowire MapStruct properly (it just returns NullPointer exceptions). I am using Gradle 5.4.1, Junit5 and IntelliJ 2019.1.2.</p>\n<p>This is the build folder and there is no mapper generated for test classes.</p>\n<p><img src=\"https://i.stack.imgur.com/v1liq.png\" alt=\"enter image description here\" /></p>\n<p>Repository with the code is here:\n<a href=\"https://github.com/MirkoManojlovic/mapstruct-example\" rel=\"nofollow noreferrer\">https://github.com/MirkoManojlovic/mapstruct-example</a></p>\n<h3>Mapper:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(unmappedTargetPolicy = ReportingPolicy.WARN,\n        componentModel = &quot;spring&quot;,\n        injectionStrategy = InjectionStrategy.CONSTRUCTOR)\npublic interface ItemMapper {\n    ItemDto toDto(Item item);\n    Item toItem(ItemDto itemDto);\n}\n\n</code></pre>\n<h3>Repository:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class ItemRepository {\n    public ItemDto getItemDto() {\n        return new ItemDto(&quot;item 1&quot;);\n    }\n\n    public Item getItem() {\n        return new Item(1, &quot;item 1&quot;, 20);\n    }\n}\n</code></pre>\n<h3>Service:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\n@Log4j2\npublic class ItemService {\n    private final ItemRepository itemRepository;\n    private final ItemMapper itemMapper;\n\n    public ItemDto getItemDto() {\n        Item item = itemRepository.getItem();\n        ItemDto itemDto = itemMapper.toDto(item);\n        log.info(itemDto);\n        return itemDto;\n    }\n\n    public Item getItem() {\n        ItemDto itemDto = itemRepository.getItemDto();\n        Item item = itemMapper.toItem(itemDto);\n        log.info(item);\n        return item;\n    }\n}\n</code></pre>\n<h3>Test:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\npublic class ItemServiceTest {\n\n    @Mock\n    private ItemRepository itemRepository;\n\n    @InjectMocks\n    private ItemService itemService;\n\n    @Spy\n    private ItemMapper itemMapper;\n\n    @Test\n    void shouldReturnItemDto() {\n        Item mockItem = new Item(1, &quot;mockItem&quot;, 10);\n        given(itemRepository.getItem()).willReturn(mockItem);\n        ItemDto itemDto = itemService.getItemDto();\n        assertThat(mockItem.getName()).isEqualTo(itemDto.getName());\n    }\n\n}\n</code></pre>\n<h3>build.gradle:</h3>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.1.5.RELEASE'\n    id 'java'\n}\n\napply plugin: 'io.spring.dependency-management'\n\ngroup = 'com.mapstruct.spring.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ntest {\n    useJUnitPlatform {\n    }\n}\n\ndependencies {\n    // Mapstruct\n    implementation 'org.mapstruct:mapstruct:1.3.0.Final'\n    annotationProcessor 'org.mapstruct:mapstruct-processor:1.3.0.Final'\n    testAnnotationProcessor 'org.mapstruct:mapstruct-processor:1.3.0.Final'\n\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n\n    testImplementation('org.springframework.boot:spring-boot-starter-test')\n\n    // JUnit5\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.3.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.3.2'\n    testImplementation 'org.junit.jupiter:junit-jupiter-params:5.3.2'\n\n    // Mockito\n    testImplementation 'org.mockito:mockito-core:2.23.4'\n    testImplementation 'org.mockito:mockito-junit-jupiter:2.23.4'\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","controller","httprequest"],"answers":[{"tags":[],"owner":{"account_id":27495247,"reputation":156,"user_id":20979858,"display_name":"Harsha Gandikota"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673417031,"creation_date":1673417031,"answer_id":75078891,"question_id":75076961,"body_markdown":"You can use multiple HTTP requests by specifying the method attribute as an array in the @RequestMapping annotation.\r\n\r\n        @RequestMapping(value = &quot;/update-item&quot;, method = {RequestMethod.POST,RequestMethod.GET})\r\n    public String updateItem(@RequestBody Item json) {\r\n        //some logics\r\n         return &quot;/update-item-result&quot;;\r\n    }","title":"Spring Controller to get both GET and POST variables","body":"<p>You can use multiple HTTP requests by specifying the method attribute as an array in the @RequestMapping annotation.</p>\n<pre><code>    @RequestMapping(value = &quot;/update-item&quot;, method = {RequestMethod.POST,RequestMethod.GET})\npublic String updateItem(@RequestBody Item json) {\n    //some logics\n     return &quot;/update-item-result&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75078891,"answer_count":1,"score":-1,"last_activity_date":1673418989,"creation_date":1673393930,"question_id":75076961,"body_markdown":"Sometimes we send a POST HTTP request with POST payload to an endpoint with URL variable, for example:\r\n```\r\n[POST] http://example.com/update-item?itemid=123456\r\n```\r\nTo get the POST payload in the Spring controller class, I can do something this:\r\n```\r\n@RequestMapping(value = &quot;/update-item&quot;, method = RequestMethod.POST)\r\npublic String updateItem(@RequestBody Item json) {\r\n    //some logics\r\n     return &quot;/update-item-result&quot;;\r\n}\r\n```\r\n\r\nHowever, at the same time, how can I get the variable from the URL (i.e. `itemid` in the above example) even for `method = RequestMethod.POST`? \r\n\r\nI see a lot of Spring MVC examples on the web either get the GET variables from the URL or the POST variables from the payload, but I never see getting both in action.","title":"Spring Controller to get both GET and POST variables","body":"<p>Sometimes we send a POST HTTP request with POST payload to an endpoint with URL variable, for example:</p>\n<pre><code>[POST] http://example.com/update-item?itemid=123456\n</code></pre>\n<p>To get the POST payload in the Spring controller class, I can do something this:</p>\n<pre><code>@RequestMapping(value = &quot;/update-item&quot;, method = RequestMethod.POST)\npublic String updateItem(@RequestBody Item json) {\n    //some logics\n     return &quot;/update-item-result&quot;;\n}\n</code></pre>\n<p>However, at the same time, how can I get the variable from the URL (i.e. <code>itemid</code> in the above example) even for <code>method = RequestMethod.POST</code>?</p>\n<p>I see a lot of Spring MVC examples on the web either get the GET variables from the URL or the POST variables from the payload, but I never see getting both in action.</p>\n"},{"tags":["java","jsp","servlets"],"answers":[{"comments":[{"owner":{"account_id":27379470,"reputation":3,"user_id":20884272,"display_name":"wdwad dwad"},"score":0,"creation_date":1673419155,"post_id":75079140,"comment_id":132491787,"body_markdown":"I use Tomcat 9 Java 17 too but it doesn&#39;t work\nI tried to do another exercice linking jsp and servlet : the html page of the jsp file opens normally but when it comes to servlet, i keep getting that 404 error","body":"I use Tomcat 9 Java 17 too but it doesn&#39;t work I tried to do another exercice linking jsp and servlet : the html page of the jsp file opens normally but when it comes to servlet, i keep getting that 404 error"},{"owner":{"account_id":27487494,"reputation":11,"user_id":20973483,"display_name":"Umesh Maurya"},"score":0,"creation_date":1673419753,"post_id":75079140,"comment_id":132491935,"body_markdown":"Ok, are you following similar steps,\n1. Create new Dynamic web project.\n2. in the src/main/java make a package , let name - main\n3. make the new servlet the name you mentained.\n4. make sure you import correct packages.\n5. Import these\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;","body":"Ok, are you following similar steps, 1. Create new Dynamic web project. 2. in the src/main/java make a package , let name - main 3. make the new servlet the name you mentained. 4. make sure you import correct packages. 5. Import these import java.io.IOException; import java.io.PrintWriter; import java.text.SimpleDateFormat; import java.util.Date;  import javax.servlet.ServletException; import javax.servlet.annotation.WebServlet; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse;"},{"owner":{"account_id":27487494,"reputation":11,"user_id":20973483,"display_name":"Umesh Maurya"},"score":0,"creation_date":1673419830,"post_id":75079140,"comment_id":132491957,"body_markdown":"Click on your servlet , Choose run as run on server.\nchoose yorr server.\nthen it should work fine.\nI am doing this in Eclipse. Other IDE should also work fine","body":"Click on your servlet , Choose run as run on server. choose yorr server. then it should work fine. I am doing this in Eclipse. Other IDE should also work fine"},{"owner":{"account_id":27379470,"reputation":3,"user_id":20884272,"display_name":"wdwad dwad"},"score":0,"creation_date":1673419899,"post_id":75079140,"comment_id":132491972,"body_markdown":"I think I followed those steps. I am sorry but I need to go to work, I&#39;ll come back as soon as I can to test your solution ! thank you very much for your answer !","body":"I think I followed those steps. I am sorry but I need to go to work, I&#39;ll come back as soon as I can to test your solution ! thank you very much for your answer !"},{"owner":{"account_id":27487494,"reputation":11,"user_id":20973483,"display_name":"Umesh Maurya"},"score":0,"creation_date":1673419938,"post_id":75079140,"comment_id":132491981,"body_markdown":"ok, no problem. Take your time.","body":"ok, no problem. Take your time."}],"tags":[],"owner":{"account_id":27487494,"reputation":11,"user_id":20973483,"display_name":"Umesh Maurya"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673418958,"creation_date":1673418958,"answer_id":75079140,"question_id":75078887,"body_markdown":"There is no problem in your code.\r\nmay be the problem is with your server configuration.\r\nI am using Eclipse IDE and tomcat 9 , and your code is working fine.","title":"Is there a way to solve this ? (servlet 404 error)","body":"<p>There is no problem in your code.\nmay be the problem is with your server configuration.\nI am using Eclipse IDE and tomcat 9 , and your code is working fine.</p>\n"}],"owner":{"account_id":27379470,"reputation":3,"user_id":20884272,"display_name":"wdwad dwad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673434869,"answer_count":1,"score":0,"last_activity_date":1673418958,"creation_date":1673416996,"question_id":75078887,"body_markdown":"I am learning how to use servlet and i copied the example in my book but i keep getting a 404 error. here is the code : \r\n\r\n\r\n    package servlet;\r\n    import java.io.IOException;\r\n    import` java.io.PrintWriter;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    /**\r\n    * Servlet implementation class SampleServlet2\r\n    */\r\n    @WebServlet(&quot;/SampleServlet2&quot;)\r\n    public class SampleServlet2 extends HttpServlet {\r\n\t    private static final long serialVersionUID = 1L;\r\n\t    /**\r\n\t     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n\t     */\r\n\t    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws             ServletException, IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tString[] luckArray = {&quot;超スッキリ&quot;,&quot;スッキリ&quot;,&quot;最悪&quot;};\r\n\t\tint index = (int) (Math.random()*3);\r\n\t\tString luck=luckArray[index];\r\n\t\tDate date= new Date();\r\n\t\tSimpleDateFormat sdf=new SimpleDateFormat(&quot;MM月dd日&quot;);\r\n\t\tString today=sdf.format(date);\r\n\t\t\r\n\t\tresponse.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\r\n\t\tresponse.setContentType(&quot;text/html; charset=UTF-8&quot;);\r\n\t\tPrintWriter out = response.getWriter();\r\n\t\tout.println(&quot;&lt;html&gt;&quot;);\r\n\t\tout.println(&quot;&lt;head&gt;&quot;);\r\n\t\tout.println(&quot;&lt;title&gt;スッキリ占い&lt;/title&gt;&quot;);\r\n\t\tout.println(&quot;&lt;/head&gt;&quot;);\r\n\t\tout.println(&quot;&lt;body&gt;&quot;);\r\n\t\tout.println(&quot;&lt;p&gt;&quot;+today+&quot;の運勢は「&quot;+luck+&quot;」です&lt;/p&gt;&quot;);\r\n\t\tout.println(&quot;&lt;/body&gt;&quot;);\r\n\t\tout.println(&quot;&lt;/html&gt;&quot;);\r\n\t}\r\n}\r\n``\r\n\r\n\r\nI don&#39;t really know what to do as the book doesn&#39;t include a 404 error and all the topics about servlet are old. ","title":"Is there a way to solve this ? (servlet 404 error)","body":"<p>I am learning how to use servlet and i copied the example in my book but i keep getting a 404 error. here is the code :</p>\n<pre><code>package servlet;\nimport java.io.IOException;\nimport` java.io.PrintWriter;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n/**\n* Servlet implementation class SampleServlet2\n*/\n@WebServlet(&quot;/SampleServlet2&quot;)\npublic class SampleServlet2 extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    /**\n     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws             ServletException, IOException {\n    // TODO Auto-generated method stub\n    String[] luckArray = {&quot;超スッキリ&quot;,&quot;スッキリ&quot;,&quot;最悪&quot;};\n    int index = (int) (Math.random()*3);\n    String luck=luckArray[index];\n    Date date= new Date();\n    SimpleDateFormat sdf=new SimpleDateFormat(&quot;MM月dd日&quot;);\n    String today=sdf.format(date);\n    \n    response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\n    response.setContentType(&quot;text/html; charset=UTF-8&quot;);\n    PrintWriter out = response.getWriter();\n    out.println(&quot;&lt;html&gt;&quot;);\n    out.println(&quot;&lt;head&gt;&quot;);\n    out.println(&quot;&lt;title&gt;スッキリ占い&lt;/title&gt;&quot;);\n    out.println(&quot;&lt;/head&gt;&quot;);\n    out.println(&quot;&lt;body&gt;&quot;);\n    out.println(&quot;&lt;p&gt;&quot;+today+&quot;の運勢は「&quot;+luck+&quot;」です&lt;/p&gt;&quot;);\n    out.println(&quot;&lt;/body&gt;&quot;);\n    out.println(&quot;&lt;/html&gt;&quot;);\n}\n</code></pre>\n<p>}\n``</p>\n<p>I don't really know what to do as the book doesn't include a 404 error and all the topics about servlet are old.</p>\n"},{"tags":["java","android","android-studio","security","backup"],"comments":[{"owner":{"account_id":5191021,"reputation":101,"user_id":4153947,"display_name":"bmaciejm"},"score":0,"creation_date":1674072188,"post_id":75077463,"comment_id":132639495,"body_markdown":"With what outcome?","body":"With what outcome?"}],"owner":{"account_id":27493957,"reputation":1,"user_id":20978749,"display_name":"user20978749"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673418350,"creation_date":1673400324,"question_id":75077463,"body_markdown":"I&#39;m developing a program related to security in android studio. My problem is I want to make sure that the user has activated the backup feature from the Google account or no. I tried this code:(\r\n\r\n```\r\ntry {\r\n    int backups_enabled = 0;\r\n    try {\r\n        backups_enabled = Settings.Secure.getInt(getApplicationContext().getContentResolver(), &quot;backup_enabled&quot;);\r\n    } catch (Settings.SettingNotFoundException ex) {\r\n        ex.printStackTrace();\r\n    }\r\n    Log.i(&quot;TAG&quot;, &quot;Backups are &quot;+(backups_enabled == 1 ? &quot;enabled&quot; : &quot;disabled&quot;));\r\n} catch (Settings.SettingNotFoundException e) {\r\n    Log.e(&quot;TAG&quot;, &quot;Setting not found&quot;, e);\r\n}\r\n```","title":"check if the user is enabled or not backup from google cloud in android-studio","body":"<p>I'm developing a program related to security in android studio. My problem is I want to make sure that the user has activated the backup feature from the Google account or no. I tried this code:(</p>\n<pre><code>try {\n    int backups_enabled = 0;\n    try {\n        backups_enabled = Settings.Secure.getInt(getApplicationContext().getContentResolver(), &quot;backup_enabled&quot;);\n    } catch (Settings.SettingNotFoundException ex) {\n        ex.printStackTrace();\n    }\n    Log.i(&quot;TAG&quot;, &quot;Backups are &quot;+(backups_enabled == 1 ? &quot;enabled&quot; : &quot;disabled&quot;));\n} catch (Settings.SettingNotFoundException e) {\n    Log.e(&quot;TAG&quot;, &quot;Setting not found&quot;, e);\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":279943,"reputation":202411,"user_id":575376,"accept_rate":82,"display_name":"juergen d"},"score":0,"creation_date":1331624038,"post_id":9679930,"comment_id":12297815,"body_markdown":"You are replaceing $ with $ which means nothing can change. That does not make sense.","body":"You are replaceing $ with $ which means nothing can change. That does not make sense."},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1331624211,"post_id":9679930,"comment_id":12297864,"body_markdown":"`replaceAll` takes a regular expression as an argument and the expression `$` matches the end of a line. What exactly do you expect as a result?","body":"<code>replaceAll</code> takes a regular expression as an argument and the expression <code>$</code> matches the end of a line. What exactly do you expect as a result?"},{"owner":{"account_id":161636,"reputation":411,"user_id":382569,"accept_rate":55,"display_name":"Sillicon.Dragons"},"score":0,"creation_date":1331629756,"post_id":9679930,"comment_id":12299414,"body_markdown":"Sorry i have updated it should be: message = message.replaceAll(&quot;&amp;#36;&quot;, &quot;$&quot;);","body":"Sorry i have updated it should be: message = message.replaceAll(&quot;&amp;#36;&quot;, &quot;$&quot;);"}],"answers":[{"comments":[{"owner":{"account_id":161636,"reputation":411,"user_id":382569,"accept_rate":55,"display_name":"Sillicon.Dragons"},"score":0,"creation_date":1331629763,"post_id":9679991,"comment_id":12299416,"body_markdown":"Sorry i have updated it should be: message = message.replaceAll(&quot;&amp;#36;&quot;, &quot;$&quot;);","body":"Sorry i have updated it should be: message = message.replaceAll(&quot;&amp;#36;&quot;, &quot;$&quot;);"},{"owner":{"account_id":161636,"reputation":411,"user_id":382569,"accept_rate":55,"display_name":"Sillicon.Dragons"},"score":0,"creation_date":1331630972,"post_id":9679991,"comment_id":12299904,"body_markdown":"I am trying to convert the html entity code &amp;#36; to its ASCII code equivalent.","body":"I am trying to convert the html entity code &amp;#36; to its ASCII code equivalent."},{"owner":{"account_id":161636,"reputation":411,"user_id":382569,"accept_rate":55,"display_name":"Sillicon.Dragons"},"score":0,"creation_date":1331653524,"post_id":9679991,"comment_id":12308738,"body_markdown":"What is so special about this character that i need to escape it?","body":"What is so special about this character that i need to escape it?"},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1331655083,"post_id":9679991,"comment_id":12309382,"body_markdown":"It is a regex pattern character","body":"It is a regex pattern character"},{"owner":{"account_id":170035,"reputation":6390,"user_id":396483,"accept_rate":68,"display_name":"john k"},"score":0,"creation_date":1522961659,"post_id":9679991,"comment_id":86374500,"body_markdown":"when I try this I am getting error: Illegal group reference","body":"when I try this I am getting error: Illegal group reference"}],"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"comment_count":5,"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1331631809,"creation_date":1331624077,"answer_id":9679991,"question_id":9679930,"body_markdown":"It is special character you need to use escape character\r\n\r\nTry with this `\\\\$` \r\n\r\nand it doesn&#39;t make sense in your code you are trying to replacing the content with same\r\n\r\n    String message = &quot;$$hello world $$&quot;;\r\n    message = message.replaceAll(&quot;\\\\$&quot;, &quot;_&quot;);\r\n    System.out.println(message);\r\n\r\n**output**\r\n\r\n    __hello world __\r\n\r\n-----------\r\n\r\n**Update**\r\n\r\n       String message = &quot;&amp;#36;hello world $$&quot;;\r\n       message = message.replaceAll(&quot;&amp;#36;&quot;, &quot;\\\\$&quot;);\r\n       System.out.println(message);\r\n\r\n\r\n**output**\r\n\r\n     $hello world $$","title":"Not able to replace all for dollar sign","body":"<p>It is special character you need to use escape character</p>\n\n<p>Try with this <code>\\\\$</code> </p>\n\n<p>and it doesn't make sense in your code you are trying to replacing the content with same</p>\n\n<pre><code>String message = \"$$hello world $$\";\nmessage = message.replaceAll(\"\\\\$\", \"_\");\nSystem.out.println(message);\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>__hello world __\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<pre><code>   String message = \"&amp;#36;hello world $$\";\n   message = message.replaceAll(\"&amp;#36;\", \"\\\\$\");\n   System.out.println(message);\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code> $hello world $$\n</code></pre>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1331632149,"creation_date":1331632149,"answer_id":9681690,"question_id":9679930,"body_markdown":"Since you&#39;re not really using any regex so instead of replaceAll you should be using [String#replace][1] method like this:\r\n\r\n    message = message.replace(&quot;&amp;#36;&quot;, &quot;$&quot;);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#replace%28java.lang.CharSequence,%20java.lang.CharSequence%29","title":"Not able to replace all for dollar sign","body":"<p>Since you're not really using any regex so instead of replaceAll you should be using <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#replace%28java.lang.CharSequence,%20java.lang.CharSequence%29\" rel=\"nofollow\">String#replace</a> method like this:</p>\n\n<pre><code>message = message.replace(\"&amp;#36;\", \"$\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9936068,"reputation":411,"user_id":7514786,"display_name":"silverduck"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589380699,"creation_date":1589380322,"answer_id":61777339,"question_id":9679930,"body_markdown":"After tinkering around with replaceAll() and never getting what I wanted I figured it would be easier to write a function to escape the dollar signs.\r\n\r\n\tpublic static String escapeDollarSign(String value) {\r\n\t\tPattern p = Pattern.compile(&quot;\\\\$&quot;);\r\n\t\tint off = 0;\r\n\t\twhile (true) {\r\n\t\t    Matcher m = p.matcher(value.substring(off));\r\n\t\t    if (!m.find()) break;\r\n\t\t    int moff = m.start();\r\n\t\t    String left = value.substring(0, off+moff);\r\n\t\t    String right = value.substring(off+moff+1, value.length());\r\n\t\t    value = left+&quot;\\\\$&quot;+right;\r\n\t\t    off += moff+1+1;\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t}\r\n\r\ne.g.  \r\n`$re$gex $can $ b$e a$ pain$`  \r\nbecomes  \r\n`\\$re\\$gex \\$can \\$ b\\$e a\\$ pain\\$`","title":"Not able to replace all for dollar sign","body":"<p>After tinkering around with replaceAll() and never getting what I wanted I figured it would be easier to write a function to escape the dollar signs.</p>\n\n<pre><code>public static String escapeDollarSign(String value) {\n    Pattern p = Pattern.compile(\"\\\\$\");\n    int off = 0;\n    while (true) {\n        Matcher m = p.matcher(value.substring(off));\n        if (!m.find()) break;\n        int moff = m.start();\n        String left = value.substring(0, off+moff);\n        String right = value.substring(off+moff+1, value.length());\n        value = left+\"\\\\$\"+right;\n        off += moff+1+1;\n    }\n\n    return value;\n}\n</code></pre>\n\n<p>e.g.<br>\n<code>$re$gex $can $ b$e a$ pain$</code><br>\nbecomes<br>\n<code>\\$re\\$gex \\$can \\$ b\\$e a\\$ pain\\$</code></p>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1673432441,"post_id":75079022,"comment_id":132495967,"body_markdown":"Please don&#39;t post only code as answer, but also provide an explanation what your code does and how it solves the problem of the question. Answers with an explanation are usually more helpful and of better quality, and are more likely to attract upvotes.","body":"Please don&#39;t post only code as answer, but also provide an explanation what your code does and how it solves the problem of the question. Answers with an explanation are usually more helpful and of better quality, and are more likely to attract upvotes."},{"owner":{"account_id":2110306,"reputation":96,"user_id":1875723,"display_name":"Thobias Karlsson"},"score":0,"creation_date":1689341698,"post_id":75079022,"comment_id":135203826,"body_markdown":"This is actually the only solution that works. :thumbsup: I&#39;d hire this guy! :-)","body":"This is actually the only solution that works. :thumbsup: I&#39;d hire this guy! :-)"}],"tags":[],"owner":{"account_id":2509161,"reputation":303,"user_id":2182050,"display_name":"NitinM"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673418026,"creation_date":1673418026,"answer_id":75079022,"question_id":9679930,"body_markdown":"    if(!str.isempty() &amp;&amp; str.contains(&quot;$&quot;)){\r\n       str = str.replaceAll(&quot;\\\\$&quot;, Matcher.quoteReplacement(&quot;\\\\$&quot;))\r\n    }","title":"Not able to replace all for dollar sign","body":"<pre><code>if(!str.isempty() &amp;&amp; str.contains(&quot;$&quot;)){\n   str = str.replaceAll(&quot;\\\\$&quot;, Matcher.quoteReplacement(&quot;\\\\$&quot;))\n}\n</code></pre>\n"}],"owner":{"account_id":161636,"reputation":411,"user_id":382569,"accept_rate":55,"display_name":"Sillicon.Dragons"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29609,"favorite_count":0,"down_vote_count":3,"up_vote_count":20,"accepted_answer_id":9679991,"answer_count":4,"score":17,"last_activity_date":1673418026,"creation_date":1331623855,"question_id":9679930,"body_markdown":"can anyone advise why i encountered index out of bouns exception when running this method to replace the value by `$` sign?\r\n\r\nE.g. i pass in a message `$$vmdomodm$$`\r\n\r\n    message = message.replaceAll(&quot;&amp;#36;&quot;, &quot;$&quot;);\r\n\r\nI tried to look at this forum thread but couldnt understand the content\r\n\r\nhttp://www.coderanch.com/t/383666/java/java/String-replaceAll","title":"Not able to replace all for dollar sign","body":"<p>can anyone advise why i encountered index out of bouns exception when running this method to replace the value by <code>$</code> sign?</p>\n\n<p>E.g. i pass in a message <code>$$vmdomodm$$</code></p>\n\n<pre><code>message = message.replaceAll(\"&amp;#36;\", \"$\");\n</code></pre>\n\n<p>I tried to look at this forum thread but couldnt understand the content</p>\n\n<p><a href=\"http://www.coderanch.com/t/383666/java/java/String-replaceAll\" rel=\"noreferrer\">http://www.coderanch.com/t/383666/java/java/String-replaceAll</a></p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1673421212,"post_id":75078920,"comment_id":132492278,"body_markdown":"Have you tried to see if you get an error when the task is not successful?","body":"Have you tried to see if you get an error when the task is not successful?"}],"answers":[{"comments":[{"owner":{"account_id":27495478,"reputation":11,"user_id":20980049,"display_name":"Pappu Bahadur"},"score":0,"creation_date":1673418505,"post_id":75078971,"comment_id":132491654,"body_markdown":"yes both are true","body":"yes both are true"}],"tags":[],"owner":{"account_id":26855967,"reputation":2351,"user_id":20440272,"display_name":"Sohaib Ahmed"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673417708,"creation_date":1673417708,"answer_id":75078971,"question_id":75078920,"body_markdown":"Have you allowed read/write in `Firebase Realtime Database Rules`","title":"Firebase Realtime database from android","body":"<p>Have you allowed read/write in <code>Firebase Realtime Database Rules</code></p>\n"}],"owner":{"account_id":27495478,"reputation":11,"user_id":20980049,"display_name":"Pappu Bahadur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1673488125,"answer_count":1,"score":1,"last_activity_date":1673417708,"creation_date":1673417249,"question_id":75078920,"body_markdown":"Trying to connect with firebase realtime database from android but unable to save data in firebase .\r\nwe have multiple application in one project in firebase so as database with different db url . to access database \r\n\r\n this code is for genrating token\r\n\r\n      FirebaseInstanceId.getInstance().getInstanceId()\r\n                    .addOnCompleteListener(new OnCompleteListener&lt;InstanceIdResult&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;InstanceIdResult&gt; task) {\r\n                            if (!task.isSuccessful()) {\r\n                                return;\r\n                            }\r\n                            token = task.getResult().getToken();\r\n\r\n                            Log.e(&quot;token&quot;, token);\r\n                        }\r\n                    });\r\n\r\n\r\nthis is for save data in firebase \r\n\r\n\r\n      try {\r\n                            //Save the location data to the database//\r\n                            DatabaseReference ref = FirebaseDatabase.getInstance(&quot;firebase db path&quot;).\r\n                                    getReference(&quot;user&quot; + authref.getUid());\r\n                            ref.child(token);\r\n                            Location location = locationResult.getLastLocation();\r\n                            if (location != null) {\r\n                                FirebaseLocationDTO locdto = new FirebaseLocationDTO();\r\n                                locdto.setLatitude(location.getLatitude());\r\n                                locdto.setLongitude(location.getLongitude());                           \r\n                                locdto.setOsVersion(Build.VERSION.RELEASE);\r\n                                locdto.setUserId(userId);\r\n                                locdto.setAppVersionName(BuildConfig.VERSION_NAME);\r\n                                locdto.setAppType(BaseConstant.FIREBASE_APP_TYPE);\r\n\r\n                                ref.child(token).setValue(locdto);\r\n                            }\r\n                        } catch (Exception E) {\r\n                            Log.e(&quot;error fb&quot;,E.toString());\r\n                         \r\n                        }","title":"Firebase Realtime database from android","body":"<p>Trying to connect with firebase realtime database from android but unable to save data in firebase .\nwe have multiple application in one project in firebase so as database with different db url . to access database</p>\n<p>this code is for genrating token</p>\n<pre><code>  FirebaseInstanceId.getInstance().getInstanceId()\n                .addOnCompleteListener(new OnCompleteListener&lt;InstanceIdResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;InstanceIdResult&gt; task) {\n                        if (!task.isSuccessful()) {\n                            return;\n                        }\n                        token = task.getResult().getToken();\n\n                        Log.e(&quot;token&quot;, token);\n                    }\n                });\n</code></pre>\n<p>this is for save data in firebase</p>\n<pre><code>  try {\n                        //Save the location data to the database//\n                        DatabaseReference ref = FirebaseDatabase.getInstance(&quot;firebase db path&quot;).\n                                getReference(&quot;user&quot; + authref.getUid());\n                        ref.child(token);\n                        Location location = locationResult.getLastLocation();\n                        if (location != null) {\n                            FirebaseLocationDTO locdto = new FirebaseLocationDTO();\n                            locdto.setLatitude(location.getLatitude());\n                            locdto.setLongitude(location.getLongitude());                           \n                            locdto.setOsVersion(Build.VERSION.RELEASE);\n                            locdto.setUserId(userId);\n                            locdto.setAppVersionName(BuildConfig.VERSION_NAME);\n                            locdto.setAppType(BaseConstant.FIREBASE_APP_TYPE);\n\n                            ref.child(token).setValue(locdto);\n                        }\n                    } catch (Exception E) {\n                        Log.e(&quot;error fb&quot;,E.toString());\n                     \n                    }\n</code></pre>\n"},{"tags":["java","xml"],"answers":[{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1385816959,"creation_date":1289373631,"answer_id":4142077,"question_id":4142046,"body_markdown":"Have look at [**dom4j**][1] or [**jdom**][2]. Both libraries allow creating a Document and allow printing the document as xml. Both are widly used, pretty easy to use and you&#39;ll find a lot of examples and snippets.\r\n\r\n[dom4j - Quick start guide][3]\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/dom4j/\r\n  [2]: http://www.jdom.org/\r\n  [3]: http://dom4j.sourceforge.net/dom4j-1.6.1/guide.html","title":"Create XML file using java","body":"<p>Have look at <a href=\"http://sourceforge.net/projects/dom4j/\" rel=\"nofollow\"><strong>dom4j</strong></a> or <a href=\"http://www.jdom.org/\" rel=\"nofollow\"><strong>jdom</strong></a>. Both libraries allow creating a Document and allow printing the document as xml. Both are widly used, pretty easy to use and you'll find a lot of examples and snippets.</p>\n\n<p><a href=\"http://dom4j.sourceforge.net/dom4j-1.6.1/guide.html\" rel=\"nofollow\">dom4j - Quick start guide</a></p>\n"},{"comments":[{"owner":{"account_id":285796,"reputation":13049,"user_id":584674,"accept_rate":86,"display_name":"james.garriss"},"score":0,"creation_date":1437415514,"post_id":4142134,"comment_id":51007727,"body_markdown":"This URL requires a username/password.","body":"This URL requires a username/password."},{"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"score":0,"creation_date":1437422402,"post_id":4142134,"comment_id":51011750,"body_markdown":"@james.garriss: Link amended.","body":"@james.garriss: Link amended."},{"owner":{"account_id":285796,"reputation":13049,"user_id":584674,"accept_rate":86,"display_name":"james.garriss"},"score":0,"creation_date":1437477987,"post_id":4142134,"comment_id":51034722,"body_markdown":"&quot;XStream is a simple library to serialize objects to XML and back again.&quot;","body":"&quot;XStream is a simple library to serialize objects to XML and back again.&quot;"}],"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1437422368,"creation_date":1289374215,"answer_id":4142134,"question_id":4142046,"body_markdown":"You might want to give [XStream][1] a shot, it is not complicated. It basically does the heavy lifting.\r\n\r\n\r\n  [1]: http://x-stream.github.io","title":"Create XML file using java","body":"<p>You might want to give <a href=\"http://x-stream.github.io\" rel=\"nofollow\">XStream</a> a shot, it is not complicated. It basically does the heavy lifting.</p>\n"},{"comments":[{"owner":{"account_id":1309458,"reputation":5903,"user_id":1257771,"accept_rate":55,"display_name":"kasavbere"},"score":1,"creation_date":1350149800,"post_id":6290754,"comment_id":17430398,"body_markdown":"What does the xml `String` look like? Please include before the code.","body":"What does the xml <code>String</code> look like? Please include before the code."},{"owner":{"account_id":1092127,"reputation":10061,"user_id":1086540,"accept_rate":86,"display_name":"Hilikus"},"score":32,"creation_date":1361551164,"post_id":6290754,"comment_id":21119118,"body_markdown":"-1 for not acknowledging source, which implies it is original material","body":"-1 for not acknowledging source, which implies it is original material"},{"owner":{"account_id":24436,"reputation":73314,"user_id":62130,"accept_rate":39,"display_name":"Esko Luontola"},"score":0,"creation_date":1378584469,"post_id":6290754,"comment_id":27509923,"body_markdown":"I thought that todofixthis&#39;s &quot;Pretty code&quot; comment was sarcasm, this being Java&#39;s standard XML API and all, so I upvoted it. :)","body":"I thought that todofixthis&#39;s &quot;Pretty code&quot; comment was sarcasm, this being Java&#39;s standard XML API and all, so I upvoted it. :)"},{"owner":{"account_id":8731421,"reputation":3220,"user_id":9339242,"display_name":"Arayan Singh"},"score":0,"creation_date":1525442054,"post_id":6290754,"comment_id":87370268,"body_markdown":"answer with explanation is present here. https://stackoverflow.com/a/50148098/9339242","body":"answer with explanation is present here. <a href=\"https://stackoverflow.com/a/50148098/9339242\">stackoverflow.com/a/50148098/9339242</a>"}],"tags":[],"owner":{"account_id":334216,"reputation":626,"user_id":660523,"accept_rate":0,"display_name":"monica bubna"},"comment_count":4,"down_vote_count":16,"up_vote_count":49,"is_accepted":true,"score":33,"last_activity_date":1527599887,"creation_date":1307611895,"answer_id":6290754,"question_id":4142046,"body_markdown":"You can use a DOM XML parser to create an XML file using Java. A good  example can be found [on this site][1]:\r\n\r\n    try {\r\n        DocumentBuilderFactory docFactory = DocumentBuilderFactory.newInstance();\r\n        DocumentBuilder docBuilder = docFactory.newDocumentBuilder();\r\n\r\n        //root elements\r\n        Document doc = docBuilder.newDocument();\r\n\r\n        Element rootElement = doc.createElement(&quot;company&quot;);\r\n        doc.appendChild(rootElement);\r\n\r\n        //staff elements\r\n        Element staff = doc.createElement(&quot;Staff&quot;);\r\n        rootElement.appendChild(staff);\r\n\r\n        //set attribute to staff element\r\n        Attr attr = doc.createAttribute(&quot;id&quot;);\r\n        attr.setValue(&quot;1&quot;);\r\n        staff.setAttributeNode(attr);\r\n\r\n        //shorten way\r\n        //staff.setAttribute(&quot;id&quot;, &quot;1&quot;);\r\n\r\n        //firstname elements\r\n        Element firstname = doc.createElement(&quot;firstname&quot;);\r\n        firstname.appendChild(doc.createTextNode(&quot;yong&quot;));\r\n        staff.appendChild(firstname);\r\n \r\n        //lastname elements\r\n        Element lastname = doc.createElement(&quot;lastname&quot;);\r\n        lastname.appendChild(doc.createTextNode(&quot;mook kim&quot;));\r\n        staff.appendChild(lastname);\r\n\r\n        //nickname elements\r\n        Element nickname = doc.createElement(&quot;nickname&quot;);\r\n        nickname.appendChild(doc.createTextNode(&quot;mkyong&quot;));\r\n        staff.appendChild(nickname);\r\n\r\n        //salary elements\r\n        Element salary = doc.createElement(&quot;salary&quot;);\r\n        salary.appendChild(doc.createTextNode(&quot;100000&quot;));\r\n        staff.appendChild(salary);\r\n\r\n        //write the content into xml file\r\n        TransformerFactory transformerFactory =  TransformerFactory.newInstance();\r\n        Transformer transformer = transformerFactory.newTransformer();\r\n        DOMSource source = new DOMSource(doc);\r\n\r\n        StreamResult result =  new StreamResult(new File(&quot;C:\\\\testing.xml&quot;));\r\n        transformer.transform(source, result);\r\n\r\n        System.out.println(&quot;Done&quot;);\r\n\r\n    }catch(ParserConfigurationException pce){\r\n        pce.printStackTrace();\r\n    }catch(TransformerException tfe){\r\n        tfe.printStackTrace();\r\n    }\r\n\r\n\r\n  [1]: http://www.mkyong.com/java/how-to-create-xml-file-in-java-dom/","title":"Create XML file using java","body":"<p>You can use a DOM XML parser to create an XML file using Java. A good  example can be found <a href=\"http://www.mkyong.com/java/how-to-create-xml-file-in-java-dom/\" rel=\"noreferrer\">on this site</a>:</p>\n\n<pre><code>try {\n    DocumentBuilderFactory docFactory = DocumentBuilderFactory.newInstance();\n    DocumentBuilder docBuilder = docFactory.newDocumentBuilder();\n\n    //root elements\n    Document doc = docBuilder.newDocument();\n\n    Element rootElement = doc.createElement(\"company\");\n    doc.appendChild(rootElement);\n\n    //staff elements\n    Element staff = doc.createElement(\"Staff\");\n    rootElement.appendChild(staff);\n\n    //set attribute to staff element\n    Attr attr = doc.createAttribute(\"id\");\n    attr.setValue(\"1\");\n    staff.setAttributeNode(attr);\n\n    //shorten way\n    //staff.setAttribute(\"id\", \"1\");\n\n    //firstname elements\n    Element firstname = doc.createElement(\"firstname\");\n    firstname.appendChild(doc.createTextNode(\"yong\"));\n    staff.appendChild(firstname);\n\n    //lastname elements\n    Element lastname = doc.createElement(\"lastname\");\n    lastname.appendChild(doc.createTextNode(\"mook kim\"));\n    staff.appendChild(lastname);\n\n    //nickname elements\n    Element nickname = doc.createElement(\"nickname\");\n    nickname.appendChild(doc.createTextNode(\"mkyong\"));\n    staff.appendChild(nickname);\n\n    //salary elements\n    Element salary = doc.createElement(\"salary\");\n    salary.appendChild(doc.createTextNode(\"100000\"));\n    staff.appendChild(salary);\n\n    //write the content into xml file\n    TransformerFactory transformerFactory =  TransformerFactory.newInstance();\n    Transformer transformer = transformerFactory.newTransformer();\n    DOMSource source = new DOMSource(doc);\n\n    StreamResult result =  new StreamResult(new File(\"C:\\\\testing.xml\"));\n    transformer.transform(source, result);\n\n    System.out.println(\"Done\");\n\n}catch(ParserConfigurationException pce){\n    pce.printStackTrace();\n}catch(TransformerException tfe){\n    tfe.printStackTrace();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":5,"creation_date":1362166777,"post_id":6580984,"comment_id":21357554,"body_markdown":"What the heck does SQL have to do with this??","body":"What the heck does SQL have to do with this??"},{"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"score":1,"creation_date":1380199032,"post_id":6580984,"comment_id":28116687,"body_markdown":"What the heck do Servlets have to do with this?","body":"What the heck do Servlets have to do with this?"}],"tags":[],"owner":{"account_id":334216,"reputation":626,"user_id":660523,"accept_rate":0,"display_name":"monica bubna"},"comment_count":2,"down_vote_count":9,"up_vote_count":5,"is_accepted":false,"score":-4,"last_activity_date":1315531048,"creation_date":1309860588,"answer_id":6580984,"question_id":4142046,"body_markdown":"    package com.server;\r\n    \r\n    import java.io.*;\r\n    \r\n    import javax.servlet.*;\r\n    import javax.servlet.http.*;\r\n    \r\n    import java.io.*;\r\n    import java.sql.Connection;\r\n    import java.sql.Date;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    import java.util.ArrayList;\r\n    \r\n    \r\n    import org.w3c.dom.*;\r\n    \r\n    import com.gwtext.client.data.XmlReader;\r\n    \r\n    import javax.xml.parsers.*;\r\n    import javax.xml.transform.*;\r\n    import javax.xml.transform.dom.*;\r\n    import javax.xml.transform.stream.*;  \r\n    \r\n    public class XmlServlet extends HttpServlet\r\n    { \r\n      \r\n      NodeList list;\r\n      Connection con=null;\r\n      Statement st=null;\r\n      ResultSet rs = null;\r\n      String xmlString ;\r\n      BufferedWriter bw;\r\n      String displayTo;\r\n      String displayFrom;\r\n      String addressto;\r\n      String addressFrom;\r\n      Date send;\r\n      String Subject;\r\n      String body;\r\n      String category;\r\n      Document doc1;\r\n      public void doGet(HttpServletRequest request,HttpServletResponse response)\r\n       throws ServletException,IOException{\r\n        \r\n        System.out.print(&quot;on server&quot;);  \r\n      \r\n      response.setContentType(&quot;text/html&quot;);\r\n      PrintWriter pw = response.getWriter();\r\n      System.out.print(&quot;on server&quot;);\r\n      try\r\n      {\r\n        \r\n        \r\n        DocumentBuilderFactory builderFactory = DocumentBuilderFactory.newInstance();\r\n        DocumentBuilder docBuilder = builderFactory.newDocumentBuilder();\r\n        //creating a new instance of a DOM to build a DOM tree.\r\n        doc1 = docBuilder.newDocument();\r\n        new XmlServlet().createXmlTree(doc1);\r\n        \r\n        System.out.print(&quot;on server&quot;);\r\n        \r\n      }\r\n      catch(Exception e)\r\n      {\r\n      System.out.println(e.toString());\r\n      }\r\n     \r\n       }\r\n     \r\n      public void createXmlTree(Document doc) throws Exception {\r\n      //This method creates an element node\r\n        \r\n        System.out.println(&quot;ruchipaliwal111&quot;);\r\n       \r\n        try\r\n        {\r\n          \r\n          System.out.println(&quot;ruchi111&quot;);\r\n          Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n          con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3308/plz&quot;,&quot;root&quot;,&quot;root1&quot;);\r\n          st = con.createStatement();\r\n         \r\n          rs = st.executeQuery(&quot;select * from data&quot;);\r\n          \r\n         \r\n          Element root = doc.createElement(&quot;message&quot;);\r\n          doc.appendChild(root);\r\n         \r\n            while(rs.next())\r\n            {\r\n              \r\n          \r\n            \r\n           displayTo=rs.getString(1).toString();\r\n           System.out.println(displayTo+&quot;getdataname&quot;);\r\n           \r\n           displayFrom=rs.getString(2).toString();\r\n           System.out.println(displayFrom +&quot;getdataname&quot;);\r\n           \r\n             addressto=rs.getString(3).toString();\r\n             System.out.println(addressto +&quot;getdataname&quot;);\r\n             \r\n           addressFrom=rs.getString(4).toString();\r\n           System.out.println(addressFrom +&quot;getdataname&quot;);\r\n      \r\n           send=rs.getDate(5);\r\n           System.out.println(send +&quot;getdataname&quot;);\r\n           \r\n           Subject=rs.getString(6).toString();\r\n           System.out.println(Subject +&quot;getdataname&quot;);\r\n           \r\n           body=rs.getString(7).toString();\r\n           System.out.println(body+&quot;getdataname&quot;);\r\n           \r\n          category=rs.getString(8).toString();\r\n           System.out.println(category +&quot;getdataname&quot;);\r\n           \r\n           \r\n           //adding a node after the last child node of ssthe specified node.\r\n            \r\n            \r\n            Element element1 = doc.createElement(&quot;Header&quot;);\r\n            root.appendChild(element1);\r\n            \r\n            \r\n            Element child1 = doc.createElement(&quot;To&quot;);\r\n            element1.appendChild(child1);\r\n            \r\n            child1.setAttribute(&quot;displayNameTo&quot;,displayTo);\r\n            child1.setAttribute(&quot;addressTo&quot;,addressto);\r\n            \r\n            Element child2 = doc.createElement(&quot;From&quot;);\r\n            element1.appendChild(child2);\r\n            \r\n            child2.setAttribute(&quot;displayNameFrom&quot;,displayFrom);\r\n            child2.setAttribute(&quot;addressFrom&quot;,addressFrom);\r\n            \r\n            Element child3 = doc.createElement(&quot;Send&quot;);\r\n            element1.appendChild(child3);\r\n            \r\n            Text text2 = doc.createTextNode(send.toString());\r\n            child3.appendChild(text2);\r\n            \r\n            Element child4 = doc.createElement(&quot;Subject&quot;);\r\n            element1.appendChild(child4);\r\n            \r\n            Text text3 = doc.createTextNode(Subject);\r\n            child4.appendChild(text3);\r\n            \r\n            Element child5 = doc.createElement(&quot;category&quot;);\r\n            element1.appendChild(child5);\r\n            \r\n            Text text44 = doc.createTextNode(category);\r\n            child5.appendChild(text44);\r\n            \r\n            \r\n            Element element2 = doc.createElement(&quot;Body&quot;);\r\n            root.appendChild(element2);\r\n            \r\n            Text text1 = doc.createTextNode(body);\r\n            element2.appendChild(text1);\r\n            \r\n           /*\r\n            Element child1 = doc.createElement(&quot;name&quot;);\r\n            root.appendChild(child1);\r\n            Text text = doc.createTextNode(getdataname);\r\n            child1.appendChild(text);\r\n            Element element = doc.createElement(&quot;address&quot;);\r\n            root.appendChild(element);\r\n            Text text1 = doc.createTextNode( getdataaddress);\r\n            element.appendChild(text1); \r\n         */\r\n          } \r\n        \r\n     \r\n      \r\n    \r\n    \r\n      \r\n    //TransformerFactory instance is used to create Transformer objects. \r\n      TransformerFactory factory = TransformerFactory.newInstance();\r\n      Transformer transformer = factory.newTransformer();\r\n     \r\n      transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n      transformer.setOutputProperty(OutputKeys.METHOD,&quot;xml&quot;);\r\n      // transformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;3&quot;);\r\n      \r\n      \r\n      // create string from xml tree\r\n      StringWriter sw = new StringWriter();\r\n      StreamResult result = new StreamResult(sw);\r\n      DOMSource source = new DOMSource(doc);\r\n      transformer.transform(source, result);\r\n        \r\n      xmlString = sw.toString();\r\n      \r\n     \r\n      File file = new File(&quot;./war/ds/newxml.xml&quot;);\r\n      bw = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(file)));\r\n      bw.write(xmlString);\r\n       }\r\n        \r\n        catch(Exception e)\r\n        {\r\n          System.out.print(&quot;after while loop exception&quot;+e.toString());\r\n        }\r\n      \r\n      bw.flush();\r\n      bw.close();\r\n      System.out.println(&quot;successfully done.....&quot;);\r\n      }\r\n    }\r\n","title":"Create XML file using java","body":"<pre><code>package com.server;\n\nimport java.io.*;\n\nimport javax.servlet.*;\nimport javax.servlet.http.*;\n\nimport java.io.*;\nimport java.sql.Connection;\nimport java.sql.Date;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.ArrayList;\n\n\nimport org.w3c.dom.*;\n\nimport com.gwtext.client.data.XmlReader;\n\nimport javax.xml.parsers.*;\nimport javax.xml.transform.*;\nimport javax.xml.transform.dom.*;\nimport javax.xml.transform.stream.*;  \n\npublic class XmlServlet extends HttpServlet\n{ \n\n  NodeList list;\n  Connection con=null;\n  Statement st=null;\n  ResultSet rs = null;\n  String xmlString ;\n  BufferedWriter bw;\n  String displayTo;\n  String displayFrom;\n  String addressto;\n  String addressFrom;\n  Date send;\n  String Subject;\n  String body;\n  String category;\n  Document doc1;\n  public void doGet(HttpServletRequest request,HttpServletResponse response)\n   throws ServletException,IOException{\n\n    System.out.print(\"on server\");  \n\n  response.setContentType(\"text/html\");\n  PrintWriter pw = response.getWriter();\n  System.out.print(\"on server\");\n  try\n  {\n\n\n    DocumentBuilderFactory builderFactory = DocumentBuilderFactory.newInstance();\n    DocumentBuilder docBuilder = builderFactory.newDocumentBuilder();\n    //creating a new instance of a DOM to build a DOM tree.\n    doc1 = docBuilder.newDocument();\n    new XmlServlet().createXmlTree(doc1);\n\n    System.out.print(\"on server\");\n\n  }\n  catch(Exception e)\n  {\n  System.out.println(e.toString());\n  }\n\n   }\n\n  public void createXmlTree(Document doc) throws Exception {\n  //This method creates an element node\n\n    System.out.println(\"ruchipaliwal111\");\n\n    try\n    {\n\n      System.out.println(\"ruchi111\");\n      Class.forName(\"com.mysql.jdbc.Driver\");\n      con = DriverManager.getConnection(\"jdbc:mysql://localhost:3308/plz\",\"root\",\"root1\");\n      st = con.createStatement();\n\n      rs = st.executeQuery(\"select * from data\");\n\n\n      Element root = doc.createElement(\"message\");\n      doc.appendChild(root);\n\n        while(rs.next())\n        {\n\n\n\n       displayTo=rs.getString(1).toString();\n       System.out.println(displayTo+\"getdataname\");\n\n       displayFrom=rs.getString(2).toString();\n       System.out.println(displayFrom +\"getdataname\");\n\n         addressto=rs.getString(3).toString();\n         System.out.println(addressto +\"getdataname\");\n\n       addressFrom=rs.getString(4).toString();\n       System.out.println(addressFrom +\"getdataname\");\n\n       send=rs.getDate(5);\n       System.out.println(send +\"getdataname\");\n\n       Subject=rs.getString(6).toString();\n       System.out.println(Subject +\"getdataname\");\n\n       body=rs.getString(7).toString();\n       System.out.println(body+\"getdataname\");\n\n      category=rs.getString(8).toString();\n       System.out.println(category +\"getdataname\");\n\n\n       //adding a node after the last child node of ssthe specified node.\n\n\n        Element element1 = doc.createElement(\"Header\");\n        root.appendChild(element1);\n\n\n        Element child1 = doc.createElement(\"To\");\n        element1.appendChild(child1);\n\n        child1.setAttribute(\"displayNameTo\",displayTo);\n        child1.setAttribute(\"addressTo\",addressto);\n\n        Element child2 = doc.createElement(\"From\");\n        element1.appendChild(child2);\n\n        child2.setAttribute(\"displayNameFrom\",displayFrom);\n        child2.setAttribute(\"addressFrom\",addressFrom);\n\n        Element child3 = doc.createElement(\"Send\");\n        element1.appendChild(child3);\n\n        Text text2 = doc.createTextNode(send.toString());\n        child3.appendChild(text2);\n\n        Element child4 = doc.createElement(\"Subject\");\n        element1.appendChild(child4);\n\n        Text text3 = doc.createTextNode(Subject);\n        child4.appendChild(text3);\n\n        Element child5 = doc.createElement(\"category\");\n        element1.appendChild(child5);\n\n        Text text44 = doc.createTextNode(category);\n        child5.appendChild(text44);\n\n\n        Element element2 = doc.createElement(\"Body\");\n        root.appendChild(element2);\n\n        Text text1 = doc.createTextNode(body);\n        element2.appendChild(text1);\n\n       /*\n        Element child1 = doc.createElement(\"name\");\n        root.appendChild(child1);\n        Text text = doc.createTextNode(getdataname);\n        child1.appendChild(text);\n        Element element = doc.createElement(\"address\");\n        root.appendChild(element);\n        Text text1 = doc.createTextNode( getdataaddress);\n        element.appendChild(text1); \n     */\n      } \n\n\n\n\n\n\n//TransformerFactory instance is used to create Transformer objects. \n  TransformerFactory factory = TransformerFactory.newInstance();\n  Transformer transformer = factory.newTransformer();\n\n  transformer.setOutputProperty(OutputKeys.INDENT, \"yes\");\n  transformer.setOutputProperty(OutputKeys.METHOD,\"xml\");\n  // transformer.setOutputProperty(\"{http://xml.apache.org/xslt}indent-amount\", \"3\");\n\n\n  // create string from xml tree\n  StringWriter sw = new StringWriter();\n  StreamResult result = new StreamResult(sw);\n  DOMSource source = new DOMSource(doc);\n  transformer.transform(source, result);\n\n  xmlString = sw.toString();\n\n\n  File file = new File(\"./war/ds/newxml.xml\");\n  bw = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(file)));\n  bw.write(xmlString);\n   }\n\n    catch(Exception e)\n    {\n      System.out.print(\"after while loop exception\"+e.toString());\n    }\n\n  bw.flush();\n  bw.close();\n  System.out.println(\"successfully done.....\");\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12585,"reputation":303280,"user_id":24874,"accept_rate":78,"display_name":"Drew Noakes"},"score":15,"creation_date":1400153036,"post_id":19345834,"comment_id":36374219,"body_markdown":"@DanielAbouChleih, I came here after _4 years_ and found this answer useful.","body":"@DanielAbouChleih, I came here after <i>4 years</i> and found this answer useful."}],"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1673417593,"creation_date":1381671321,"answer_id":19345834,"question_id":4142046,"body_markdown":"You can use [Xembly](https://github.com/yegor256/xembly), a small open source library that makes this XML creating process much more intuitive:\r\n\r\n    String xml = new Xembler(\r\n      new Directives()\r\n        .add(&quot;root&quot;)\r\n        .add(&quot;order&quot;)\r\n        .attr(&quot;id&quot;, &quot;553&quot;)\r\n        .set(&quot;$140.00&quot;)\r\n    ).xml();\r\n\r\nXembly is a wrapper around native Java DOM, and is a very lightweight library (I&#39;m the author).","title":"Create XML file using java","body":"<p>You can use <a href=\"https://github.com/yegor256/xembly\" rel=\"nofollow noreferrer\">Xembly</a>, a small open source library that makes this XML creating process much more intuitive:</p>\n<pre><code>String xml = new Xembler(\n  new Directives()\n    .add(&quot;root&quot;)\n    .add(&quot;order&quot;)\n    .attr(&quot;id&quot;, &quot;553&quot;)\n    .set(&quot;$140.00&quot;)\n).xml();\n</code></pre>\n<p>Xembly is a wrapper around native Java DOM, and is a very lightweight library (I'm the author).</p>\n"},{"tags":[],"owner":{"account_id":5117496,"reputation":2302,"user_id":4102160,"accept_rate":75,"display_name":"Cfx"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414770304,"creation_date":1414770304,"answer_id":26678505,"question_id":4142046,"body_markdown":"I liked the Xembly syntax, but it is not a statically typed API. You can get this with [XMLBeam][1]:\r\n\r\n    // Declare a projection\r\n    public interface Projection {\r\n\r\n        @XBWrite(&quot;/root/order/@id&quot;)\r\n        Projection setID(int id);\r\n\r\n        @XBWrite(&quot;/root/order&quot;)\r\n        Projection setValue(String value);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        // create a projector\r\n        XBProjector projector = new XBProjector();\r\n\r\n        // use it to create a projection instance\r\n        Projection projection = projector.projectEmptyDocument(Projection.class);\r\n\r\n        // You get a fluent API, with java types in parameters \r\n        projection.setID(553).setValue(&quot;$140.00&quot;);\r\n\r\n        // Use the projector again to do IO stuff or create an XML-string\r\n        projector.toXMLString(projection);\r\n    }\r\n\r\nMy experience is that this works great even when the XML gets more complicated. You can just decouple the XML structure from your java code structure.\r\n\r\n  [1]: http://xmlbeam.org\r\n","title":"Create XML file using java","body":"<p>I liked the Xembly syntax, but it is not a statically typed API. You can get this with <a href=\"http://xmlbeam.org\" rel=\"nofollow\">XMLBeam</a>:</p>\n\n<pre><code>// Declare a projection\npublic interface Projection {\n\n    @XBWrite(\"/root/order/@id\")\n    Projection setID(int id);\n\n    @XBWrite(\"/root/order\")\n    Projection setValue(String value);\n}\n\npublic static void main(String[] args) {\n    // create a projector\n    XBProjector projector = new XBProjector();\n\n    // use it to create a projection instance\n    Projection projection = projector.projectEmptyDocument(Projection.class);\n\n    // You get a fluent API, with java types in parameters \n    projection.setID(553).setValue(\"$140.00\");\n\n    // Use the projector again to do IO stuff or create an XML-string\n    projector.toXMLString(projection);\n}\n</code></pre>\n\n<p>My experience is that this works great even when the XML gets more complicated. You can just decouple the XML structure from your java code structure.</p>\n"},{"tags":[],"owner":{"account_id":7377353,"reputation":171,"user_id":5956553,"accept_rate":100,"display_name":"student0495"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1479228892,"creation_date":1479228892,"answer_id":40615479,"question_id":4142046,"body_markdown":"Just happened to work at this also, use https://www.tutorialspoint.com/java_xml/java_dom_create_document.htm the example from here, and read the explanations. Also I provide you my own example:\r\n\r\n    DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n    \t\tDocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\r\n    \t\tDocument doc = dBuilder.newDocument();\r\n    \t\t// root element\r\n    \t\t\r\n\r\n    Element rootElement = doc.createElement(&quot;words&quot;);\r\n        \t\tdoc.appendChild(rootElement);\r\n    while (ptbt.hasNext()) {\r\n    \t\t\t\tCoreLabel label = ptbt.next();\r\n    \t\t\t\tSystem.out.println(label);\r\n    \r\n    \t\t\t\tm = r1.matcher(label.toString());\r\n    \t\t\t\t//System.out.println(m.find());\r\n    \t\t\t\tif (m.find() == true) {\r\n    \t\t\t\t\tElement w = doc.createElement(&quot;word&quot;);\t\t\t\t\t\r\n    \t\t\t\t\tw.appendChild(doc.createTextNode(label.toString()));\r\n    \t\t\t\t\trootElement.appendChild(w);\r\n    \t\t\t\t}\r\n\r\n    TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n    \t\tTransformer transformer = transformerFactory.newTransformer();\r\n    \t\tDOMSource source = new DOMSource(doc);\r\n    \t\tStreamResult result = new StreamResult(new File(&quot;C:\\\\Users\\\\workspace\\\\Tokenizer\\\\tokens.xml&quot;));\r\n    \t\ttransformer.transform(source, result);\r\n    \t\t// Output to console for testing\r\n    \t\tStreamResult consoleResult = new StreamResult(System.out);\r\n    \t\ttransformer.transform(source, consoleResult);\r\n\r\nThis is in the context of using the tokenizer from Stanford for Natural Language Processing, just a part of it to make an idea on how to add elements.\r\nThe output is: &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;&lt;words&gt;&lt;word&gt;Bill&lt;/word&gt;&lt;word&gt;buyed&lt;/word&gt;&lt;word&gt;apples&lt;/word&gt;&lt;/words&gt; (I&#39;ve read the sentence from a file)","title":"Create XML file using java","body":"<p>Just happened to work at this also, use <a href=\"https://www.tutorialspoint.com/java_xml/java_dom_create_document.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/java_xml/java_dom_create_document.htm</a> the example from here, and read the explanations. Also I provide you my own example:</p>\n\n<pre><code>DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\n        DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\n        Document doc = dBuilder.newDocument();\n        // root element\n\n\nElement rootElement = doc.createElement(\"words\");\n            doc.appendChild(rootElement);\nwhile (ptbt.hasNext()) {\n                CoreLabel label = ptbt.next();\n                System.out.println(label);\n\n                m = r1.matcher(label.toString());\n                //System.out.println(m.find());\n                if (m.find() == true) {\n                    Element w = doc.createElement(\"word\");                  \n                    w.appendChild(doc.createTextNode(label.toString()));\n                    rootElement.appendChild(w);\n                }\n\nTransformerFactory transformerFactory = TransformerFactory.newInstance();\n        Transformer transformer = transformerFactory.newTransformer();\n        DOMSource source = new DOMSource(doc);\n        StreamResult result = new StreamResult(new File(\"C:\\\\Users\\\\workspace\\\\Tokenizer\\\\tokens.xml\"));\n        transformer.transform(source, result);\n        // Output to console for testing\n        StreamResult consoleResult = new StreamResult(System.out);\n        transformer.transform(source, consoleResult);\n</code></pre>\n\n<p>This is in the context of using the tokenizer from Stanford for Natural Language Processing, just a part of it to make an idea on how to add elements.\nThe output is: Billbuyedapples (I've read the sentence from a file)</p>\n"},{"comments":[{"owner":{"account_id":8855557,"reputation":745,"user_id":6613447,"accept_rate":78,"display_name":"袁文涛"},"score":0,"creation_date":1641287697,"post_id":50148098,"comment_id":124759989,"body_markdown":"so , where to set the `encoding=&quot;UTF-8&quot;`","body":"so , where to set the <code>encoding=&quot;UTF-8&quot;</code>"}],"tags":[],"owner":{"account_id":8731421,"reputation":3220,"user_id":9339242,"display_name":"Arayan Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1525328060,"creation_date":1525328060,"answer_id":50148098,"question_id":4142046,"body_markdown":"I am providing an answer from my own [blog][1]. Hope this will help.\r\n\r\n**What will be output?**\r\n\r\nFollowing XML file named users.xml will be created.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot; ?&gt; \r\n    &lt;users&gt;\r\n    \t&lt;user uid=&quot;1&quot;&gt;\r\n    \t\t&lt;firstname&gt;Interview&lt;/firstname&gt;\r\n    \t\t&lt;lastname&gt;Bubble&lt;/lastname&gt;\r\n    \t\t&lt;email&gt;admin@interviewBubble.com&lt;/email&gt;\r\n    \t&lt;/user&gt;\r\n    &lt;/users&gt;\r\n\r\n**PROCEDURE**\r\n\r\nBasic steps, in order to create an XML File with a DOM Parser, are:\r\n\r\n1. Create a `DocumentBuilder` instance.\r\n\r\n2. Create a Document from the above `DocumentBuilder`.\r\n\r\n3. Create the elements you want using the `Element` class and its `appendChild` method.\r\n\r\n4. Create a new `Transformer` instance and a new `DOMSource` instance.\r\n\r\n5. Create a new `StreamResult` to the output stream you want to use.\r\n\r\n6. Use `transform` method to write the DOM object to the output stream.\r\n\r\n**SOURCE CODE:**\r\n\r\n    package com.example.TestApp;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    import javax.xml.parsers.ParserConfigurationException;\r\n    import javax.xml.transform.Transformer;\r\n    import javax.xml.transform.TransformerException;\r\n    import javax.xml.transform.TransformerFactory;\r\n    import javax.xml.transform.dom.DOMSource;\r\n    import javax.xml.transform.stream.StreamResult;\r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.Element;\r\n    \r\n    public class CreateXMLFileJava {\r\n    \r\n     public static void main(String[] args) throws ParserConfigurationException, \r\n                                                   IOException, \r\n                                                   TransformerException\r\n        {\r\n         // 1.Create a DocumentBuilder instance\r\n        DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n        DocumentBuilder dbuilder = dbFactory.newDocumentBuilder();\r\n    \r\n        // 2. Create a Document from the above DocumentBuilder.\r\n        Document document = dbuilder.newDocument();\r\n    \r\n        // 3. Create the elements you want using the Element class and its appendChild method.   \r\n    \r\n       // root element\r\n        Element users = document.createElement(&quot;users&quot;);\r\n        document.appendChild(users);   \r\n    \r\n        // child element\r\n        Element user = document.createElement(&quot;user&quot;);\r\n        users.appendChild(user);  \r\n    \r\n        // Attribute of child element\r\n        user.setAttribute(&quot;uid&quot;, &quot;1&quot;);   \r\n    \r\n        // firstname Element\r\n        Element firstName = document.createElement(&quot;firstName&quot;);\r\n        firstName.appendChild(document.createTextNode(&quot;Interview&quot;));\r\n        user.appendChild(firstName);   \r\n    \r\n        // lastName element\r\n        Element lastName = document.createElement(&quot;lastName&quot;);\r\n        lastName.appendChild(document.createTextNode(&quot;Bubble&quot;));\r\n        user.appendChild(lastName);   \r\n    \r\n        // email element\r\n        Element email = document.createElement(&quot;email&quot;);\r\n        email.appendChild(document.createTextNode(&quot;admin@interviewBubble.com&quot;));\r\n        user.appendChild(email);   \r\n    \r\n        // write content into xml file   \r\n    \r\n        // 4. Create a new Transformer instance and a new DOMSource instance.\r\n       TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n       Transformer transformer = transformerFactory.newTransformer();\r\n       DOMSource source = new DOMSource(document);\r\n    \r\n       // 5. Create a new StreamResult to the output stream you want to use.\r\n       StreamResult result = new StreamResult(new File(&quot;/Users/admin/Desktop/users.xml&quot;));\r\n       // StreamResult result = new StreamResult(System.out); // to print on console\r\n    \r\n       // 6. Use transform method to write the DOM object to the output stream.\r\n       transformer.transform(source, result);  \r\n    \r\n       System.out.println(&quot;File created successfully&quot;);\r\n     }\r\n    }\r\n\r\n**OUTPUT:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;users&gt;\r\n      &lt;user uid=&quot;1&quot;&gt;\r\n         &lt;firstName&gt;Interview&lt;/firstName&gt;\r\n         &lt;lastName&gt;Bubble&lt;/lastName&gt;\r\n         &lt;email&gt;admin@interviewBubble.com&lt;/email&gt;\r\n      &lt;/user&gt;\r\n    &lt;/users&gt;\r\n\r\n\r\n  [1]: https://interviewbubble.com/how-to-create-xml-file-in-java-using-dom-parser-java-xml-tutorial/","title":"Create XML file using java","body":"<p>I am providing an answer from my own <a href=\"https://interviewbubble.com/how-to-create-xml-file-in-java-using-dom-parser-java-xml-tutorial/\" rel=\"nofollow noreferrer\">blog</a>. Hope this will help.</p>\n\n<p><strong>What will be output?</strong></p>\n\n<p>Following XML file named users.xml will be created.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\" ?&gt; \n&lt;users&gt;\n    &lt;user uid=\"1\"&gt;\n        &lt;firstname&gt;Interview&lt;/firstname&gt;\n        &lt;lastname&gt;Bubble&lt;/lastname&gt;\n        &lt;email&gt;admin@interviewBubble.com&lt;/email&gt;\n    &lt;/user&gt;\n&lt;/users&gt;\n</code></pre>\n\n<p><strong>PROCEDURE</strong></p>\n\n<p>Basic steps, in order to create an XML File with a DOM Parser, are:</p>\n\n<ol>\n<li><p>Create a <code>DocumentBuilder</code> instance.</p></li>\n<li><p>Create a Document from the above <code>DocumentBuilder</code>.</p></li>\n<li><p>Create the elements you want using the <code>Element</code> class and its <code>appendChild</code> method.</p></li>\n<li><p>Create a new <code>Transformer</code> instance and a new <code>DOMSource</code> instance.</p></li>\n<li><p>Create a new <code>StreamResult</code> to the output stream you want to use.</p></li>\n<li><p>Use <code>transform</code> method to write the DOM object to the output stream.</p></li>\n</ol>\n\n<p><strong>SOURCE CODE:</strong></p>\n\n<pre><code>package com.example.TestApp;\n\nimport java.io.File;\nimport java.io.IOException;\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.parsers.ParserConfigurationException;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerException;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\n\npublic class CreateXMLFileJava {\n\n public static void main(String[] args) throws ParserConfigurationException, \n                                               IOException, \n                                               TransformerException\n    {\n     // 1.Create a DocumentBuilder instance\n    DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\n    DocumentBuilder dbuilder = dbFactory.newDocumentBuilder();\n\n    // 2. Create a Document from the above DocumentBuilder.\n    Document document = dbuilder.newDocument();\n\n    // 3. Create the elements you want using the Element class and its appendChild method.   \n\n   // root element\n    Element users = document.createElement(\"users\");\n    document.appendChild(users);   \n\n    // child element\n    Element user = document.createElement(\"user\");\n    users.appendChild(user);  \n\n    // Attribute of child element\n    user.setAttribute(\"uid\", \"1\");   \n\n    // firstname Element\n    Element firstName = document.createElement(\"firstName\");\n    firstName.appendChild(document.createTextNode(\"Interview\"));\n    user.appendChild(firstName);   \n\n    // lastName element\n    Element lastName = document.createElement(\"lastName\");\n    lastName.appendChild(document.createTextNode(\"Bubble\"));\n    user.appendChild(lastName);   \n\n    // email element\n    Element email = document.createElement(\"email\");\n    email.appendChild(document.createTextNode(\"admin@interviewBubble.com\"));\n    user.appendChild(email);   \n\n    // write content into xml file   \n\n    // 4. Create a new Transformer instance and a new DOMSource instance.\n   TransformerFactory transformerFactory = TransformerFactory.newInstance();\n   Transformer transformer = transformerFactory.newTransformer();\n   DOMSource source = new DOMSource(document);\n\n   // 5. Create a new StreamResult to the output stream you want to use.\n   StreamResult result = new StreamResult(new File(\"/Users/admin/Desktop/users.xml\"));\n   // StreamResult result = new StreamResult(System.out); // to print on console\n\n   // 6. Use transform method to write the DOM object to the output stream.\n   transformer.transform(source, result);  \n\n   System.out.println(\"File created successfully\");\n }\n}\n</code></pre>\n\n<p><strong>OUTPUT:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;users&gt;\n  &lt;user uid=\"1\"&gt;\n     &lt;firstName&gt;Interview&lt;/firstName&gt;\n     &lt;lastName&gt;Bubble&lt;/lastName&gt;\n     &lt;email&gt;admin@interviewBubble.com&lt;/email&gt;\n  &lt;/user&gt;\n&lt;/users&gt;\n</code></pre>\n"}],"owner":{"account_id":114905,"reputation":7357,"user_id":301957,"accept_rate":50,"display_name":"Harshana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128197,"favorite_count":0,"down_vote_count":1,"up_vote_count":39,"accepted_answer_id":6290754,"answer_count":8,"score":38,"last_activity_date":1673417593,"creation_date":1289373335,"question_id":4142046,"body_markdown":"How to create a xml file and save it in some place in my machine using java..there are attributes also include in the xml file? I have found org.w3c.dom.Document but having problems with creating attributes for elements and save the xml file.\r\n\r\nThank You.\r\n","title":"Create XML file using java","body":"<p>How to create a xml file and save it in some place in my machine using java..there are attributes also include in the xml file? I have found org.w3c.dom.Document but having problems with creating attributes for elements and save the xml file.</p>\n\n<p>Thank You.</p>\n"},{"tags":["java","spring","maven","spring-boot","pom.xml"],"comments":[{"owner":{"account_id":11911641,"reputation":410,"user_id":8716703,"display_name":"RKrum"},"score":6,"creation_date":1548961737,"post_id":54467287,"comment_id":95743118,"body_markdown":"After Java 9 there is no &quot;1.xx&quot; anymore. It&#39;s just 9, 10 and 11.","body":"After Java 9 there is no &quot;1.xx&quot; anymore. It&#39;s just 9, 10 and 11."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1548962636,"post_id":54467287,"comment_id":95743580,"body_markdown":"The configuration you have given is perfect. Using the most recent maven-compiler-plugin and use `&lt;release&gt;11&lt;/release&gt;`...","body":"The configuration you have given is perfect. Using the most recent maven-compiler-plugin and use <code>&lt;release&gt;11&lt;&#47;release&gt;</code>..."},{"owner":{"account_id":8679736,"reputation":91,"user_id":6496045,"display_name":"Alex Titov"},"score":0,"creation_date":1679348196,"post_id":54467287,"comment_id":133702952,"body_markdown":"yes, in works in IntelliJ IDEA 2022.3.3 (Community Edition) with \nopenjdk 11.0.18 2023-01-17 - OpenJDK Runtime Environment (build 11.0.18+10-post-Ubuntu-0ubuntu120.04.1), i just specifed java version for plugin  in pom, and bug fixed.","body":"yes, in works in IntelliJ IDEA 2022.3.3 (Community Edition) with  openjdk 11.0.18 2023-01-17 - OpenJDK Runtime Environment (build 11.0.18+10-post-Ubuntu-0ubuntu120.04.1), i just specifed java version for plugin  in pom, and bug fixed."}],"answers":[{"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1548962698,"post_id":54467341,"comment_id":95743604,"body_markdown":"First this is simply wrong cause there does not exist a JDK version `1.11` furthermore starting with JDK9+ there is an option `--release` for the compiler which is supported by maven-compiler-plugin via `&lt;release&gt;11&lt;/release&gt;`...","body":"First this is simply wrong cause there does not exist a JDK version <code>1.11</code> furthermore starting with JDK9+ there is an option <code>--release</code> for the compiler which is supported by maven-compiler-plugin via <code>&lt;release&gt;11&lt;&#47;release&gt;</code>..."}],"tags":[],"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1548963672,"creation_date":1548960554,"answer_id":54467341,"question_id":54467287,"body_markdown":"You should not need to mention the maven-compiler-plugin in your POM file,\r\nif you only want to specify the compiler version.\r\nInstead, add these properties to your pom file\r\n\r\n    &lt;properties&gt;\r\n      &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n      &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n**Edit:** My bad,\r\nit looks like the version number properties have changed starting with the 3.6 release of the maven-compiler-plugin.\r\nThe example above is fine for java 8 and lower.\r\nFor java 9,\r\nadd this property:\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.release&gt;9&lt;/maven.compiler.release&gt;\r\n    &lt;/properties&gt;\r\n\r\nCheck out the accepted answer to this question: https://stackoverflow.com/questions/38882080/specifying-java-version-in-maven-differences-between-properties-and-compiler-p","title":"How to specify Java version in Spring/Spring Boot pom.xml?","body":"<p>You should not need to mention the maven-compiler-plugin in your POM file,\nif you only want to specify the compiler version.\nInstead, add these properties to your pom file</p>\n\n<pre><code>&lt;properties&gt;\n  &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n  &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p><strong>Edit:</strong> My bad,\nit looks like the version number properties have changed starting with the 3.6 release of the maven-compiler-plugin.\nThe example above is fine for java 8 and lower.\nFor java 9,\nadd this property:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.release&gt;9&lt;/maven.compiler.release&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>Check out the accepted answer to this question: <a href=\"https://stackoverflow.com/questions/38882080/specifying-java-version-in-maven-differences-between-properties-and-compiler-p\">Specifying java version in maven - differences between properties and compiler plugin</a></p>\n"},{"tags":[],"owner":{"account_id":11911641,"reputation":410,"user_id":8716703,"display_name":"RKrum"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1570031246,"creation_date":1548963470,"answer_id":54468066,"question_id":54467287,"body_markdown":"I am adding it as an answer so it can be helpful to more people:\r\n\r\nSince Java 9 the versions are specified as `9`, `10`, `11`, and so on, instead of `1.8`, `1.7`, etc. Some further reading [here][1].\r\n\r\nThe way you are specifying the JDK version with `&lt;release&gt;11&lt;/release&gt;` is correct. It was introduced with `maven-compiler-plugin 3.6` and is equivalent as the old way, as below:\r\n    \r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;11&lt;/source&gt; -- Using JDK 11 to compile\r\n          &lt;target&gt;11&lt;/target&gt; -- Using JDK 11 as target\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n\r\n[This][2] post can be helpful on using `maven-compiler-plugin` with JDK 11.\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/223\r\n  [2]: https://mincong-h.github.io/2018/08/29/maven-compiler-plugin-understanding/","title":"How to specify Java version in Spring/Spring Boot pom.xml?","body":"<p>I am adding it as an answer so it can be helpful to more people:</p>\n\n<p>Since Java 9 the versions are specified as <code>9</code>, <code>10</code>, <code>11</code>, and so on, instead of <code>1.8</code>, <code>1.7</code>, etc. Some further reading <a href=\"https://openjdk.java.net/jeps/223\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>The way you are specifying the JDK version with <code>&lt;release&gt;11&lt;/release&gt;</code> is correct. It was introduced with <code>maven-compiler-plugin 3.6</code> and is equivalent as the old way, as below:</p>\n\n<pre><code>&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.0&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;source&gt;11&lt;/source&gt; -- Using JDK 11 to compile\n      &lt;target&gt;11&lt;/target&gt; -- Using JDK 11 as target\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n\n<p><a href=\"https://mincong-h.github.io/2018/08/29/maven-compiler-plugin-understanding/\" rel=\"nofollow noreferrer\">This</a> post can be helpful on using <code>maven-compiler-plugin</code> with JDK 11.</p>\n"},{"comments":[{"owner":{"account_id":401234,"reputation":3433,"user_id":767676,"accept_rate":80,"display_name":"Acapulco"},"score":1,"creation_date":1549037472,"post_id":54468127,"comment_id":95773396,"body_markdown":"Aha. Nice explanation! This makes everything much clearer. Thanks.","body":"Aha. Nice explanation! This makes everything much clearer. Thanks."},{"owner":{"account_id":1429890,"reputation":6439,"user_id":1352530,"accept_rate":75,"display_name":"Whimusical"},"score":1,"creation_date":1575207412,"post_id":54468127,"comment_id":104480451,"body_markdown":"Consider some projects if not most, in big systems, use spring-boot bom importing instead of extending it&#39;s parent. And bom import does not import properties nor plugin versions","body":"Consider some projects if not most, in big systems, use spring-boot bom importing instead of extending it&#39;s parent. And bom import does not import properties nor plugin versions"},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":0,"creation_date":1666996721,"post_id":54468127,"comment_id":131074587,"body_markdown":"I have java.version in my pom, set to 1.8, but still when I run mvn spring-boot:Run, it says &quot;Starting MyApplication using Java 11.0.15 ...&quot;. That&#39;s the version my JAVA_HOME points to. Shouldn&#39;t the java.version property take precedence over that?","body":"I have java.version in my pom, set to 1.8, but still when I run mvn spring-boot:Run, it says &quot;Starting MyApplication using Java 11.0.15 ...&quot;. That&#39;s the version my JAVA_HOME points to. Shouldn&#39;t the java.version property take precedence over that?"},{"owner":{"account_id":7958430,"reputation":229,"user_id":6006943,"accept_rate":35,"display_name":"Fran&#231;ois F."},"score":0,"creation_date":1668506926,"post_id":54468127,"comment_id":131416170,"body_markdown":"Nice ! that&#39;s clear","body":"Nice ! that&#39;s clear"}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":4,"down_vote_count":0,"up_vote_count":164,"is_accepted":true,"score":164,"last_activity_date":1668074293,"creation_date":1548963760,"answer_id":54468127,"question_id":54467287,"body_markdown":"**Short Answer:** \r\n\r\nThe correct way is to use the followings values in `&lt;java.version&gt;` for different Java versions:\r\n\r\n - Java 8  : 1.8 or 8 \r\n - Java 9  : 9 \r\n - Java 10 : 10 \r\n - Java 11 : 11 \r\n - Java 12 : 12\r\n - .....\r\n - .....\r\n - Java 17 : 17\r\n - Java 18 : 18\r\n - Java 19 : 19\r\n\r\nSo for Java 11 , it should be: \r\n\r\n    &lt;properties&gt;\r\n       &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n&gt; However I&#39;m not sure if Java 11 would be &quot;1.11&quot; (seems unlikely), and\r\n&gt; I&#39;ve seen it specified as just &quot;11&quot; when using maven-compiler-plugin,\r\n&gt; however I&#39;m not using the compiler plugin.\r\n\r\nActually , at the end it still uses `maven-compiler-plugin` to compile. Springboot just configures a `&lt;java.version&gt;` property such that by changing this value , you are implicitly changing `maven-compiler-plugin` &#39;s `&lt;source/&gt;` and `&lt;target/&gt;` to the same value as what specified in the `&lt;java.version&gt;` : \r\n\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;11&lt;/source&gt;  &lt;!-- same as &lt;java.version&gt; --&gt;\r\n            &lt;target&gt;11&lt;/target&gt;    &lt;!-- same as &lt;java.version&gt; --&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\n----------\r\n**Detailed Answer:** \r\n\r\nSeem like you want details to convince you. \r\n\r\nIt is because every spring boot project will extend the parent pom `spring-boot-starter-parent` which [defines][1] `&lt;java.version&gt;` as follows:\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\nFrom the maven-compiler-plugin [docs][2], `maven.compiler.source` and `maven.compiler.target` are the [user property][3] for the `&lt;source&gt;` and `&lt;target&gt;` config parameters. Due to the behaviour of the user property, setting these two properties to `11` means to set the following : \r\n\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;11&lt;/source&gt;   &lt;!-- maven.compiler.source  --&gt;\r\n            &lt;target&gt;11&lt;/target&gt; &lt;!-- maven.compiler.target --&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nFrom the `maven-compiler-plugin` [docs][2] again, `&lt;source&gt;` and `&lt;target&gt;` are the `-source` and `-target` argument for the Java compiler (`javac`). Then, from [javac][4] docs, we can see that these two arguments are allowed to have the following values: \r\n\r\n&gt;  - 1.6 : No language changes were introduced in Java SE 6. However, encoding errors in source files are now reported as errors instead of \r\n&gt; warnings as was done in earlier releases of Java Platform, Standard Edition. \r\n&gt;  - 6   : Synonym for 1.6.\r\n&gt;  - 1.7 : The compiler accepts code with features introduced in Java SE 7. \r\n&gt;  - 7   : Synonym for 1.7.\r\n&gt;  - 1.8 : The compiler accepts code with features introduced in Java SE 8.\r\n&gt;  - 8   : Synonym for 1.8. \r\n&gt;  - 9   : The compiler accepts code with features introduced in Java SE 9. \r\n&gt;  - 10  : The compiler accepts code with features introduced in Java SE 10. \r\n&gt;  - 11  : The compiler accepts code with features introduced in Java SE 11.\r\n&gt;  - 12  : The compiler accepts code with features introduced in Java SE 12.\r\n\r\nHence, `&lt;java.version&gt;` should be set to `11` for Java 11.\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/b4e890c3be6d35c3473fc5ed67b056ead277285f/spring-boot-project/spring-boot-starters/spring-boot-starter-parent/pom.xml#L18\r\n  [2]: https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#release\r\n  [3]: https://stackoverflow.com/questions/23391502/whats-the-meaning-of-user-property-of-maven-plugin-parameter\r\n  [4]: https://docs.oracle.com/en/java/javase/12/tools/javac.html#GUID-AEEC9F07-CB49-4E96-8BC7-BCC2C7F725C9","title":"How to specify Java version in Spring/Spring Boot pom.xml?","body":"<p><strong>Short Answer:</strong></p>\n<p>The correct way is to use the followings values in <code>&lt;java.version&gt;</code> for different Java versions:</p>\n<ul>\n<li>Java 8  : 1.8 or 8</li>\n<li>Java 9  : 9</li>\n<li>Java 10 : 10</li>\n<li>Java 11 : 11</li>\n<li>Java 12 : 12</li>\n<li>.....</li>\n<li>.....</li>\n<li>Java 17 : 17</li>\n<li>Java 18 : 18</li>\n<li>Java 19 : 19</li>\n</ul>\n<p>So for Java 11 , it should be:</p>\n<pre><code>&lt;properties&gt;\n   &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<blockquote>\n<p>However I'm not sure if Java 11 would be &quot;1.11&quot; (seems unlikely), and\nI've seen it specified as just &quot;11&quot; when using maven-compiler-plugin,\nhowever I'm not using the compiler plugin.</p>\n</blockquote>\n<p>Actually , at the end it still uses <code>maven-compiler-plugin</code> to compile. Springboot just configures a <code>&lt;java.version&gt;</code> property such that by changing this value , you are implicitly changing <code>maven-compiler-plugin</code> 's <code>&lt;source/&gt;</code> and <code>&lt;target/&gt;</code> to the same value as what specified in the <code>&lt;java.version&gt;</code> :</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;11&lt;/source&gt;  &lt;!-- same as &lt;java.version&gt; --&gt;\n        &lt;target&gt;11&lt;/target&gt;    &lt;!-- same as &lt;java.version&gt; --&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<hr />\n<p><strong>Detailed Answer:</strong></p>\n<p>Seem like you want details to convince you.</p>\n<p>It is because every spring boot project will extend the parent pom <code>spring-boot-starter-parent</code> which <a href=\"https://github.com/spring-projects/spring-boot/blob/b4e890c3be6d35c3473fc5ed67b056ead277285f/spring-boot-project/spring-boot-starters/spring-boot-starter-parent/pom.xml#L18\" rel=\"noreferrer\">defines</a> <code>&lt;java.version&gt;</code> as follows:</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>From the maven-compiler-plugin <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#release\" rel=\"noreferrer\">docs</a>, <code>maven.compiler.source</code> and <code>maven.compiler.target</code> are the <a href=\"https://stackoverflow.com/questions/23391502/whats-the-meaning-of-user-property-of-maven-plugin-parameter\">user property</a> for the <code>&lt;source&gt;</code> and <code>&lt;target&gt;</code> config parameters. Due to the behaviour of the user property, setting these two properties to <code>11</code> means to set the following :</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;11&lt;/source&gt;   &lt;!-- maven.compiler.source  --&gt;\n        &lt;target&gt;11&lt;/target&gt; &lt;!-- maven.compiler.target --&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>From the <code>maven-compiler-plugin</code> <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#release\" rel=\"noreferrer\">docs</a> again, <code>&lt;source&gt;</code> and <code>&lt;target&gt;</code> are the <code>-source</code> and <code>-target</code> argument for the Java compiler (<code>javac</code>). Then, from <a href=\"https://docs.oracle.com/en/java/javase/12/tools/javac.html#GUID-AEEC9F07-CB49-4E96-8BC7-BCC2C7F725C9\" rel=\"noreferrer\">javac</a> docs, we can see that these two arguments are allowed to have the following values:</p>\n<blockquote>\n<ul>\n<li>1.6 : No language changes were introduced in Java SE 6. However, encoding errors in source files are now reported as errors instead of\nwarnings as was done in earlier releases of Java Platform, Standard Edition.</li>\n<li>6   : Synonym for 1.6.</li>\n<li>1.7 : The compiler accepts code with features introduced in Java SE 7.</li>\n<li>7   : Synonym for 1.7.</li>\n<li>1.8 : The compiler accepts code with features introduced in Java SE 8.</li>\n<li>8   : Synonym for 1.8.</li>\n<li>9   : The compiler accepts code with features introduced in Java SE 9.</li>\n<li>10  : The compiler accepts code with features introduced in Java SE 10.</li>\n<li>11  : The compiler accepts code with features introduced in Java SE 11.</li>\n<li>12  : The compiler accepts code with features introduced in Java SE 12.</li>\n</ul>\n</blockquote>\n<p>Hence, <code>&lt;java.version&gt;</code> should be set to <code>11</code> for Java 11.</p>\n"},{"comments":[{"owner":{"account_id":5237271,"reputation":209,"user_id":4236616,"display_name":"Macindows"},"score":0,"creation_date":1629543102,"post_id":56486469,"comment_id":121717187,"body_markdown":"As this is the top result in Google search, much appreciated","body":"As this is the top result in Google search, much appreciated"},{"owner":{"account_id":16351408,"reputation":123,"user_id":11813982,"display_name":"Shrip"},"score":0,"creation_date":1673416667,"post_id":56486469,"comment_id":132491334,"body_markdown":"`sourceCompatibility = JavaVersion.VERSION_11`, It works.","body":"<code>sourceCompatibility = JavaVersion.VERSION_11</code>, It works."}],"tags":[],"owner":{"account_id":1608089,"reputation":773,"user_id":1487721,"display_name":"Ranuka"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1559865707,"creation_date":1559865707,"answer_id":56486469,"question_id":54467287,"body_markdown":"If any one looking to specifying Java 11 as the version to be used in Spring (or Spring Boot) in a **gradle** project, then use either sourceCompatibility = &#39;11&#39; or sourceCompatibility = &#39;1.11&#39; in your build.gradle file\r\n\r\n    plugins {\r\n    id &#39;org.springframework.boot&#39; version &#39;2.1.4.RELEASE&#39;\r\n    }\r\n\r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n\r\n    group = &#39;au.com.ranuka&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\n    sourceCompatibility = &#39;11&#39;\r\n    //or \r\n    sourceCompatibility = &#39;1.11&#39;\r\n\r\n    repositories {\r\n       mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n\r\n    }","title":"How to specify Java version in Spring/Spring Boot pom.xml?","body":"<p>If any one looking to specifying Java 11 as the version to be used in Spring (or Spring Boot) in a <strong>gradle</strong> project, then use either sourceCompatibility = '11' or sourceCompatibility = '1.11' in your build.gradle file</p>\n\n<pre><code>plugins {\nid 'org.springframework.boot' version '2.1.4.RELEASE'\n}\n\napply plugin: 'io.spring.dependency-management'\n\ngroup = 'au.com.ranuka'\nversion = '0.0.1-SNAPSHOT'\n\nsourceCompatibility = '11'\n//or \nsourceCompatibility = '1.11'\n\nrepositories {\n   mavenCentral()\n}\n\ndependencies {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16351408,"reputation":123,"user_id":11813982,"display_name":"Shrip"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673417353,"creation_date":1673417353,"answer_id":75078933,"question_id":54467287,"body_markdown":"Gradle API provides an `enum` for `JavaVersion`.\r\nWe can user these constant to define `sourceCompatibility`.\r\n\r\neg.\r\n`sourceCompatibility = JavaVersion.VERSION_11`\r\n\r\nBelow are the few constants \r\n\r\n    VERSION_1_8 - Java8\r\n    VERSION_1_9 - Java9\r\n    VERSION_1_10- Java10\r\n    VERSION_11 - Java11\r\n    VERSION_12 - Java12\r\n    VERSION_13 - Java13\r\n","title":"How to specify Java version in Spring/Spring Boot pom.xml?","body":"<p>Gradle API provides an <code>enum</code> for <code>JavaVersion</code>.\nWe can user these constant to define <code>sourceCompatibility</code>.</p>\n<p>eg.\n<code>sourceCompatibility = JavaVersion.VERSION_11</code></p>\n<p>Below are the few constants</p>\n<pre><code>VERSION_1_8 - Java8\nVERSION_1_9 - Java9\nVERSION_1_10- Java10\nVERSION_11 - Java11\nVERSION_12 - Java12\nVERSION_13 - Java13\n</code></pre>\n"}],"owner":{"account_id":401234,"reputation":3433,"user_id":767676,"accept_rate":80,"display_name":"Acapulco"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141896,"favorite_count":0,"down_vote_count":0,"up_vote_count":72,"accepted_answer_id":54468127,"answer_count":5,"score":72,"last_activity_date":1673417353,"creation_date":1548960294,"question_id":54467287,"body_markdown":"What is the correct way of specifying Java 11 as the version to be used in Spring (or Spring Boot) pom.xml file?\r\n\r\nI.e., what value do I need to put in the `java.version` property of the pom?\r\n\r\nFor Java 8 we use `1.8`, just like [the documentation shows][1], for Java 9 it&#39;s `1.9`.\r\n\r\nI&#39;m not sure if Java 11 would be `1.11` (although it seems unlikely), and I&#39;ve seen it specified as just `11` when using `maven-compiler-plugin`, however I&#39;m not using the compiler plugin.\r\n\r\ne.g. \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;release&gt;11&lt;/release&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\nI&#39;ve searched around and couldn&#39;t find the answer, as pretty much any documentation I&#39;ve read as well as blog posts related to the Java version only show versions 8 or 9.\r\n\r\nSo what should I use? `1.11` or just `11`?\r\n\r\nI tried both and my web server seems to start correctly and compile correctly (IntelliJ shows `Information:javac 11.0.2 was used to compile java sources`) however I&#39;m not entirely convinced that changing the `java.version` value is doing anything, because I can set it to e.g. `100` and everything works fine.\r\n\r\nThe only related questions I could find are: [Minimum Spring version compatible with Java 11][2], [Spring Boot fails due to a Hibernate error after migrating to JDK 11][3] and [Spring 4.3.x with OpenJDK 11][4], but they don&#39;t really shed any light.\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/spring-boot/#use-maven\r\n  [2]: https://stackoverflow.com/questions/51427248/minimum-spring-version-compatible-with-java-11\r\n  [3]: https://stackoverflow.com/questions/52512058/spring-boot-fails-due-to-a-hibernate-error-after-migrating-to-jdk-11?noredirect=1&amp;lq=1\r\n  [4]: https://stackoverflow.com/questions/52891927/spring-4-3-x-with-openjdk-11","title":"How to specify Java version in Spring/Spring Boot pom.xml?","body":"<p>What is the correct way of specifying Java 11 as the version to be used in Spring (or Spring Boot) pom.xml file?</p>\n\n<p>I.e., what value do I need to put in the <code>java.version</code> property of the pom?</p>\n\n<p>For Java 8 we use <code>1.8</code>, just like <a href=\"https://spring.io/guides/gs/spring-boot/#use-maven\" rel=\"noreferrer\">the documentation shows</a>, for Java 9 it's <code>1.9</code>.</p>\n\n<p>I'm not sure if Java 11 would be <code>1.11</code> (although it seems unlikely), and I've seen it specified as just <code>11</code> when using <code>maven-compiler-plugin</code>, however I'm not using the compiler plugin.</p>\n\n<p>e.g. </p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;release&gt;11&lt;/release&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>I've searched around and couldn't find the answer, as pretty much any documentation I've read as well as blog posts related to the Java version only show versions 8 or 9.</p>\n\n<p>So what should I use? <code>1.11</code> or just <code>11</code>?</p>\n\n<p>I tried both and my web server seems to start correctly and compile correctly (IntelliJ shows <code>Information:javac 11.0.2 was used to compile java sources</code>) however I'm not entirely convinced that changing the <code>java.version</code> value is doing anything, because I can set it to e.g. <code>100</code> and everything works fine.</p>\n\n<p>The only related questions I could find are: <a href=\"https://stackoverflow.com/questions/51427248/minimum-spring-version-compatible-with-java-11\">Minimum Spring version compatible with Java 11</a>, <a href=\"https://stackoverflow.com/questions/52512058/spring-boot-fails-due-to-a-hibernate-error-after-migrating-to-jdk-11?noredirect=1&amp;lq=1\">Spring Boot fails due to a Hibernate error after migrating to JDK 11</a> and <a href=\"https://stackoverflow.com/questions/52891927/spring-4-3-x-with-openjdk-11\">Spring 4.3.x with OpenJDK 11</a>, but they don't really shed any light.</p>\n"},{"tags":["java","android","memory","leakcanary"],"answers":[{"tags":[],"owner":{"account_id":17686219,"reputation":19,"user_id":12839091,"display_name":"monjur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673417200,"creation_date":1673417200,"answer_id":75078914,"question_id":75078782,"body_markdown":"mwonyaa.Fragments.Search is leaking memory.\r\n\r\nAll the lateinit var variables is the cause for memory leaks.\r\n\r\noverride onDestroyView() in Fragment and make your root view and adapter Null \r\n\r\nExample :: \r\n\r\n  \r\n\r\n    private var binding: FragmentABCBinding? = null\r\n\r\n\r\n\r\n     override fun onCreateView(\r\n            inflater: LayoutInflater, container: ViewGroup?,\r\n            savedInstanceState: Bundle?\r\n        ): View? {\r\n    \r\n      binding = FragmentABCBinding.inflate(inflater, container, false)\r\n    \r\n     return binding?.root\r\n    }\r\n\r\n\r\n    override fun onDestroyView() {\r\n            myViewModel.job?.cancel()\r\n            binding?.newsFeedRecylerView?.adapter = null\r\n            binding = null\r\n            super.onDestroyView()\r\n        }\r\n\r\n","title":"I get this report from leak canary, how can I fix the problems identified","body":"<p>mwonyaa.Fragments.Search is leaking memory.</p>\n<p>All the lateinit var variables is the cause for memory leaks.</p>\n<p>override onDestroyView() in Fragment and make your root view and adapter Null</p>\n<p>Example ::</p>\n<pre><code>private var binding: FragmentABCBinding? = null\n\n\n\n override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n\n  binding = FragmentABCBinding.inflate(inflater, container, false)\n\n return binding?.root\n}\n\n\noverride fun onDestroyView() {\n        myViewModel.job?.cancel()\n        binding?.newsFeedRecylerView?.adapter = null\n        binding = null\n        super.onDestroyView()\n    }\n</code></pre>\n"}],"owner":{"account_id":14450744,"reputation":1,"user_id":11794666,"display_name":"PATRICK OKELLO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673417200,"creation_date":1673415949,"question_id":75078782,"body_markdown":"This is the output from leak canary after running the app. Th code below is the standard log output from leak canary and the references are based on the current app that uses exoplayer to play mp3 audio file\r\n\r\n┬───\r\n\r\n│ GC Root: Input or output parameters in native code\r\n\r\n│\r\n\r\n├─ java.util.TaskQueue instance\r\n\r\n│    Leaking: UNKNOWN\r\n\r\n│    Retaining 528 B in 2 objects\r\n\r\n│    ↓ TaskQueue.queue\r\n\r\n│                ~~~~~\r\n\r\n├─ java.util.TimerTask[] array\r\n\r\n│    Leaking: UNKNOWN\r\n\r\n│    Retaining 512 B in 1 objects\r\n\r\n│    ↓ TimerTask[0]\r\n\r\n│               ~~~\r\n\r\n├─ com.github.islamkhsh.CardSliderViewPager$SlidingTask instance\r\n\r\n│    Leaking: UNKNOWN\r\n\r\n│    Retaining 2.0 MB in 13670 objects\r\n\r\n│    ↓ CardSliderViewPager$SlidingTask.this$0\r\n\r\n│                                      ~~~~~~\r\n\r\n├─ com.github.islamkhsh.CardSliderViewPager instance\r\n\r\n│    Leaking: UNKNOWN\r\n\r\n│    Retaining 2.0 MB in 13668 objects\r\n\r\n│    View not part of a window view hierarchy\r\n\r\n│    View.mAttachInfo is null (view detached)\r\n\r\n│    View.mID = R.id.viewPager\r\n\r\n│    View.mWindowAttachCount = 1\r\n\r\n│    mContext instance of com.pkasemer.mwonyaa.RootActivity with mDestroyed =\r\n\r\n│    false\r\n\r\n│    ↓ View.mParent\r\n\r\n│           ~~~~~~~\r\n\r\n├─ androidx.constraintlayout.widget.ConstraintLayout instance\r\n\r\n│    Leaking: UNKNOWN\r\n\r\n│    Retaining 1.6 MB in 11594 objects\r\n\r\n│    View not part of a window view hierarchy\r\n\r\n│    View.mAttachInfo is null (view detached)\r\n\r\n│    View.mID = R.id.playerView\r\n\r\n│    View.mWindowAttachCount = 1\r\n\r\n│    mContext instance of com.pkasemer.mwonyaa.RootActivity with mDestroyed =\r\n\r\n│    false\r\n\r\n│    ↓ View.mParent\r\n\r\n│           ~~~~~~~\r\n\r\n├─ androidx.recyclerview.widget.RecyclerView instance\r\n\r\n│    Leaking: UNKNOWN\r\n\r\n│    Retaining 1.5 MB in 10856 objects\r\n\r\n│    View not part of a window view hierarchy\r\n\r\n│    View.mAttachInfo is null (view detached)\r\n\r\n│    View.mID = R.id.main_recycler\r\n\r\n│    View.mWindowAttachCount = 1\r\n\r\n│    mContext instance of com.pkasemer.mwonyaa.RootActivity with mDestroyed =\r\n\r\n│    false\r\n\r\n│    ↓ View.mParent\r\n\r\n│           ~~~~~~~\r\n\r\n├─ androidx.swiperefreshlayout.widget.SwipeRefreshLayout instance\r\n\r\n│    Leaking: UNKNOWN\r\n\r\n│    Retaining 3.9 kB in 81 objects\r\n\r\n│    View not part of a window view hierarchy\r\n\r\n│    View.mAttachInfo is null (view detached)\r\n\r\n│    View.mID = R.id.main_swiperefresh\r\n\r\n│    View.mWindowAttachCount = 1\r\n\r\n│    mContext instance of com.pkasemer.mwonyaa.RootActivity with mDestroyed =\r\n\r\n│    false\r\n\r\n│    ↓ View.mParent\r\n\r\n│           ~~~~~~~\r\n\r\n╰→ android.widget.FrameLayout instance\r\n\r\n​     Leaking: YES (ObjectWatcher was watching this because com.pkasemer.\r\n\r\n​     mwonyaa.Fragments.Search received Fragment#onDestroyView() callback\r\n\r\n​     (references to its views should be cleared to prevent leaks))\r\n\r\n​     Retaining 2.0 kB in 45 objects\r\n\r\n​     key = fe8776a5-8c6c-452c-86ea-f07c94c6c300\r\n\r\n​     watchDurationMillis = 19352\r\n\r\n​     retainedDurationMillis = 14352\r\n\r\n​     View not part of a window view hierarchy\r\n\r\n​     View.mAttachInfo is null (view detached)\r\n\r\n​     View.mWindowAttachCount = 1\r\n\r\n​     mContext instance of com.pkasemer.mwonyaa.RootActivity with mDestroyed =\r\n\r\n​     false\r\n\r\nMETADATA\r\n\r\nBuild.VERSION.SDK_INT: 29\r\n\r\nBuild.MANUFACTURER: INFINIX MOBILITY LIMITED\r\n\r\nLeakCanary version: 2.10\r\n\r\nApp process name: com.pkasemer.mwonyaa\r\n\r\nClass count: 16415\r\n\r\nInstance count: 216004\r\n\r\nPrimitive array count: 122153\r\n\r\nObject array count: 34818\r\n\r\nThread count: 53\r\n\r\nHeap total bytes: 23265560\r\n\r\nBitmap count: 62\r\n\r\nBitmap total bytes: 17227346\r\n\r\nLarge bitmap count: 1\r\n\r\nLarge bitmap total bytes: 6553601\r\n\r\nDb 1: open /data/user/0/com.pkasemer.mwonyaa/databases/Mwonya\r\n\r\nDb 2: open /data/user/0/com.pkasemer.mwonyaa/no_backup/androidx.work.workdb\r\n\r\nDb 3: closed /data/user/0/com.pkasemer.\r\n\r\nmwonyaa/databases/google_app_measurement_local.db\r\n\r\nDb 4: open /data/user/0/com.pkasemer.mwonyaa/databases/Mwonya\r\n\r\nDb 5: open /data/user/0/com.pkasemer.mwonyaa/databases/com.google.android.\r\n\r\ndatatransport.events\r\n\r\nDb 6: open /data/user/0/com.pkasemer.mwonyaa/databases/Mwonya\r\n\r\nStats: LruCache[maxSize=3000,hits=69898,misses=182744,hitRate=27%]\r\n\r\nRandomAccess[bytes=10784339,reads=182744,travel=58867131075,range=27352144,size=\r\n\r\n34355609]\r\n\r\nAnalysis duration: 91735 ms```\r\n\r\nI have tried profiling the app in Android studio and wanted to know why my app keeps crusing. This is the output from leak canary after running the app. Th code below is the standard log output from leak canary and the references are based on the current app that uses exoplayer to play mp3 audio files","title":"I get this report from leak canary, how can I fix the problems identified","body":"<p>This is the output from leak canary after running the app. Th code below is the standard log output from leak canary and the references are based on the current app that uses exoplayer to play mp3 audio file</p>\n<p>┬───</p>\n<p>│ GC Root: Input or output parameters in native code</p>\n<p>│</p>\n<p>├─ java.util.TaskQueue instance</p>\n<p>│    Leaking: UNKNOWN</p>\n<p>│    Retaining 528 B in 2 objects</p>\n<p>│    ↓ TaskQueue.queue</p>\n<p>│                ~~~~~</p>\n<p>├─ java.util.TimerTask[] array</p>\n<p>│    Leaking: UNKNOWN</p>\n<p>│    Retaining 512 B in 1 objects</p>\n<p>│    ↓ TimerTask[0]</p>\n<p>│               ~~~</p>\n<p>├─ com.github.islamkhsh.CardSliderViewPager$SlidingTask instance</p>\n<p>│    Leaking: UNKNOWN</p>\n<p>│    Retaining 2.0 MB in 13670 objects</p>\n<p>│    ↓ CardSliderViewPager$SlidingTask.this$0</p>\n<p>│                                      ~~~~~~</p>\n<p>├─ com.github.islamkhsh.CardSliderViewPager instance</p>\n<p>│    Leaking: UNKNOWN</p>\n<p>│    Retaining 2.0 MB in 13668 objects</p>\n<p>│    View not part of a window view hierarchy</p>\n<p>│    View.mAttachInfo is null (view detached)</p>\n<p>│    View.mID = R.id.viewPager</p>\n<p>│    View.mWindowAttachCount = 1</p>\n<p>│    mContext instance of com.pkasemer.mwonyaa.RootActivity with mDestroyed =</p>\n<p>│    false</p>\n<p>│    ↓ View.mParent</p>\n<p>│           ~~~~~~~</p>\n<p>├─ androidx.constraintlayout.widget.ConstraintLayout instance</p>\n<p>│    Leaking: UNKNOWN</p>\n<p>│    Retaining 1.6 MB in 11594 objects</p>\n<p>│    View not part of a window view hierarchy</p>\n<p>│    View.mAttachInfo is null (view detached)</p>\n<p>│    View.mID = R.id.playerView</p>\n<p>│    View.mWindowAttachCount = 1</p>\n<p>│    mContext instance of com.pkasemer.mwonyaa.RootActivity with mDestroyed =</p>\n<p>│    false</p>\n<p>│    ↓ View.mParent</p>\n<p>│           ~~~~~~~</p>\n<p>├─ androidx.recyclerview.widget.RecyclerView instance</p>\n<p>│    Leaking: UNKNOWN</p>\n<p>│    Retaining 1.5 MB in 10856 objects</p>\n<p>│    View not part of a window view hierarchy</p>\n<p>│    View.mAttachInfo is null (view detached)</p>\n<p>│    View.mID = R.id.main_recycler</p>\n<p>│    View.mWindowAttachCount = 1</p>\n<p>│    mContext instance of com.pkasemer.mwonyaa.RootActivity with mDestroyed =</p>\n<p>│    false</p>\n<p>│    ↓ View.mParent</p>\n<p>│           ~~~~~~~</p>\n<p>├─ androidx.swiperefreshlayout.widget.SwipeRefreshLayout instance</p>\n<p>│    Leaking: UNKNOWN</p>\n<p>│    Retaining 3.9 kB in 81 objects</p>\n<p>│    View not part of a window view hierarchy</p>\n<p>│    View.mAttachInfo is null (view detached)</p>\n<p>│    View.mID = R.id.main_swiperefresh</p>\n<p>│    View.mWindowAttachCount = 1</p>\n<p>│    mContext instance of com.pkasemer.mwonyaa.RootActivity with mDestroyed =</p>\n<p>│    false</p>\n<p>│    ↓ View.mParent</p>\n<p>│           ~~~~~~~</p>\n<p>╰→ android.widget.FrameLayout instance</p>\n<p>​     Leaking: YES (ObjectWatcher was watching this because com.pkasemer.</p>\n<p>​     mwonyaa.Fragments.Search received Fragment#onDestroyView() callback</p>\n<p>​     (references to its views should be cleared to prevent leaks))</p>\n<p>​     Retaining 2.0 kB in 45 objects</p>\n<p>​     key = fe8776a5-8c6c-452c-86ea-f07c94c6c300</p>\n<p>​     watchDurationMillis = 19352</p>\n<p>​     retainedDurationMillis = 14352</p>\n<p>​     View not part of a window view hierarchy</p>\n<p>​     View.mAttachInfo is null (view detached)</p>\n<p>​     View.mWindowAttachCount = 1</p>\n<p>​     mContext instance of com.pkasemer.mwonyaa.RootActivity with mDestroyed =</p>\n<p>​     false</p>\n<p>METADATA</p>\n<p>Build.VERSION.SDK_INT: 29</p>\n<p>Build.MANUFACTURER: INFINIX MOBILITY LIMITED</p>\n<p>LeakCanary version: 2.10</p>\n<p>App process name: com.pkasemer.mwonyaa</p>\n<p>Class count: 16415</p>\n<p>Instance count: 216004</p>\n<p>Primitive array count: 122153</p>\n<p>Object array count: 34818</p>\n<p>Thread count: 53</p>\n<p>Heap total bytes: 23265560</p>\n<p>Bitmap count: 62</p>\n<p>Bitmap total bytes: 17227346</p>\n<p>Large bitmap count: 1</p>\n<p>Large bitmap total bytes: 6553601</p>\n<p>Db 1: open /data/user/0/com.pkasemer.mwonyaa/databases/Mwonya</p>\n<p>Db 2: open /data/user/0/com.pkasemer.mwonyaa/no_backup/androidx.work.workdb</p>\n<p>Db 3: closed /data/user/0/com.pkasemer.</p>\n<p>mwonyaa/databases/google_app_measurement_local.db</p>\n<p>Db 4: open /data/user/0/com.pkasemer.mwonyaa/databases/Mwonya</p>\n<p>Db 5: open /data/user/0/com.pkasemer.mwonyaa/databases/com.google.android.</p>\n<p>datatransport.events</p>\n<p>Db 6: open /data/user/0/com.pkasemer.mwonyaa/databases/Mwonya</p>\n<p>Stats: LruCache[maxSize=3000,hits=69898,misses=182744,hitRate=27%]</p>\n<p>RandomAccess[bytes=10784339,reads=182744,travel=58867131075,range=27352144,size=</p>\n<p>34355609]</p>\n<p>Analysis duration: 91735 ms```</p>\n<p>I have tried profiling the app in Android studio and wanted to know why my app keeps crusing. This is the output from leak canary after running the app. Th code below is the standard log output from leak canary and the references are based on the current app that uses exoplayer to play mp3 audio files</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","mysql-connector"],"comments":[{"owner":{"account_id":3365752,"reputation":2491,"user_id":2826417,"accept_rate":50,"display_name":"Sanjay"},"score":0,"creation_date":1673414906,"post_id":75078514,"comment_id":132491012,"body_markdown":"To Include mysql server then you need to add mysql dependency in pom.xml","body":"To Include mysql server then you need to add mysql dependency in pom.xml"},{"owner":{"account_id":11557649,"reputation":113,"user_id":8468347,"accept_rate":50,"display_name":"Geogrio"},"score":0,"creation_date":1673416026,"post_id":75078514,"comment_id":132491213,"body_markdown":"@Sanjay the ```&lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n```\nIs already included? Am I missing another dependency?","body":"@Sanjay the <code>&lt;dependency&gt;             &lt;groupId&gt;mysql&lt;&#47;groupId&gt;             &lt;artifactId&gt;mysql-connector-java&lt;&#47;artifactId&gt;             &lt;scope&gt;runtime&lt;&#47;scope&gt;         &lt;&#47;dependency&gt; </code> Is already included? Am I missing another dependency?"}],"answers":[{"comments":[{"owner":{"account_id":11557649,"reputation":113,"user_id":8468347,"accept_rate":50,"display_name":"Geogrio"},"score":0,"creation_date":1673416134,"post_id":75078626,"comment_id":132491233,"body_markdown":"Adding @Repository and removing exclude={DataSourceAutoConfiguration.class} reintroduced the error\n```Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n```","body":"Adding @Repository and removing exclude={DataSourceAutoConfiguration.class} reintroduced the error <code>Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.  Reason: Failed to determine a suitable driver class </code>"},{"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"score":0,"creation_date":1673419640,"post_id":75078626,"comment_id":132491908,"body_markdown":"That is good indication, try to see if dependencies added for db are correct and available at runtime.","body":"That is good indication, try to see if dependencies added for db are correct and available at runtime."},{"owner":{"account_id":11557649,"reputation":113,"user_id":8468347,"accept_rate":50,"display_name":"Geogrio"},"score":0,"creation_date":1673439832,"post_id":75078626,"comment_id":132498530,"body_markdown":"```&lt;dependency&gt;             &lt;groupId&gt;mysql&lt;/groupId&gt;             &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;             &lt;scope&gt;runtime&lt;/scope&gt;         &lt;/dependency&gt;```  Is already included? Am I missing another dependency?","body":"<code>&lt;dependency&gt;             &lt;groupId&gt;mysql&lt;&#47;groupId&gt;             &lt;artifactId&gt;mysql-connector-java&lt;&#47;artifactId&gt;             &lt;scope&gt;runtime&lt;&#47;scope&gt;         &lt;&#47;dependency&gt;</code>  Is already included? Am I missing another dependency?"}],"tags":[],"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673414595,"creation_date":1673414595,"answer_id":75078626,"question_id":75078514,"body_markdown":"    public interface MessagesRepository extends JpaRepository&lt;Messages, Long&gt; {\r\n\r\nrather should be\r\n\r\n    @Repository\r\n    public interface MessagesRepository extends JpaRepository&lt;Messages, Long&gt; {\r\n\r\nto make below code work\r\n\r\n    @Autowired\r\n    \r\n        MessagesRepository messagesRepository;\r\n\r\nalso exclude from main class \r\n\r\n    exclude={DataSourceAutoConfiguration.class} ","title":"Consider defining a bean of type &#39;...&#39; in your configuration when using JPARepository","body":"<pre><code>public interface MessagesRepository extends JpaRepository&lt;Messages, Long&gt; {\n</code></pre>\n<p>rather should be</p>\n<pre><code>@Repository\npublic interface MessagesRepository extends JpaRepository&lt;Messages, Long&gt; {\n</code></pre>\n<p>to make below code work</p>\n<pre><code>@Autowired\n\n    MessagesRepository messagesRepository;\n</code></pre>\n<p>also exclude from main class</p>\n<pre><code>exclude={DataSourceAutoConfiguration.class} \n</code></pre>\n"},{"comments":[{"owner":{"account_id":11557649,"reputation":113,"user_id":8468347,"accept_rate":50,"display_name":"Geogrio"},"score":0,"creation_date":1673449046,"post_id":75078888,"comment_id":132502014,"body_markdown":"Still running into the error \n```Description:\n\nFailed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n```\nif I reenter the exclude I get \n```Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration.\n\n```","body":"Still running into the error  <code>Description:  Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.  Reason: Failed to determine a suitable driver class </code> if I reenter the exclude I get  <code>Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration.  </code>"},{"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"score":0,"creation_date":1673450796,"post_id":75078888,"comment_id":132502709,"body_markdown":"spring.datasource.url=jdbc:mysql://localhost:3306/db\nspring.datasource.username=\nspring.datasource.password=   \nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\nspring.jpa.database-platform = org.hibernate.dialect.MySQL5Dialect\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto = \n update","body":"spring.datasource.url=jdbc:mysql://localhost:3306/db spring.datasource.username= spring.datasource.password=    spring.datasource.driver-class-name=com.mysql.jdbc.Driver spring.jpa.database-platform = org.hibernate.dialect.MySQL5Dialect spring.jpa.generate-ddl=true spring.jpa.hibernate.ddl-auto =   update"},{"owner":{"account_id":11557649,"reputation":113,"user_id":8468347,"accept_rate":50,"display_name":"Geogrio"},"score":0,"creation_date":1673450918,"post_id":75078888,"comment_id":132502758,"body_markdown":"I have those in my applications.properties file already","body":"I have those in my applications.properties file already"},{"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"score":0,"creation_date":1673451210,"post_id":75078888,"comment_id":132502888,"body_markdown":"&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;                                 comment this dependency and run the application again","body":"&lt;dependency&gt;             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;             &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;         &lt;/dependency&gt;                                 comment this dependency and run the application again"},{"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"score":0,"creation_date":1673451290,"post_id":75078888,"comment_id":132502913,"body_markdown":"https://www.baeldung.com/spring-boot-failed-to-configure-data-source                            for more refernce just follow these documentation I hope it will help you","body":"<a href=\"https://www.baeldung.com/spring-boot-failed-to-configure-data-source\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-failed-to-configure-data-source</a>                            for more refernce just follow these documentation I hope it will help you"},{"owner":{"account_id":11557649,"reputation":113,"user_id":8468347,"accept_rate":50,"display_name":"Geogrio"},"score":0,"creation_date":1673451664,"post_id":75078888,"comment_id":132503071,"body_markdown":"The dependency is already there and the reference was used as you can see in my original post,  the error is still persisting.","body":"The dependency is already there and the reference was used as you can see in my original post,  the error is still persisting."},{"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"score":0,"creation_date":1673451735,"post_id":75078888,"comment_id":132503095,"body_markdown":"I have said you to comment that jpa dependency and rerun your program","body":"I have said you to comment that jpa dependency and rerun your program"},{"owner":{"account_id":11557649,"reputation":113,"user_id":8468347,"accept_rate":50,"display_name":"Geogrio"},"score":0,"creation_date":1673452150,"post_id":75078888,"comment_id":132503248,"body_markdown":"Ah I understand, my misunderstanding. Dont we need it to use the JpaRespository class? Get errors on class missing otherwise","body":"Ah I understand, my misunderstanding. Dont we need it to use the JpaRespository class? Get errors on class missing otherwise"}],"tags":[],"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673417004,"creation_date":1673417004,"answer_id":75078888,"question_id":75078514,"body_markdown":" Sometimes spring is not able to scan your entity classes or your configuration classes so use this it will work fine\r\n\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan({&quot;org.example&quot;})\r\n    @EntityScan(&quot;org.example&quot;)\r\n    @EnableJpaRepositories(&quot;org.example&quot;)\r\n    public class WebServiceApplication extends SpringBootServletInitializer {\r\n\r\n    }\r\n\r\n\r\n","title":"Consider defining a bean of type &#39;...&#39; in your configuration when using JPARepository","body":"<p>Sometimes spring is not able to scan your entity classes or your configuration classes so use this it will work fine</p>\n<pre><code>@SpringBootApplication\n@ComponentScan({&quot;org.example&quot;})\n@EntityScan(&quot;org.example&quot;)\n@EnableJpaRepositories(&quot;org.example&quot;)\npublic class WebServiceApplication extends SpringBootServletInitializer {\n\n}\n</code></pre>\n"}],"owner":{"account_id":11557649,"reputation":113,"user_id":8468347,"accept_rate":50,"display_name":"Geogrio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1716,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673417004,"creation_date":1673413255,"question_id":75078514,"body_markdown":"Ive been trying to follow a few basic examples to create a rest api to connect to a local mysql server\r\n\r\nHowever I keep running to this error\r\n\r\n```\r\nConsider defining a bean of type &#39;org.example.database.MessagesRepository&#39; in your configuration.\r\n```\r\n\r\nHere is my current project layout\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5RPLa.png\r\n\r\n\r\n\r\n**Pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;messagesApi&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.7&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n**Main.java**\r\n\r\n```\r\npackage org.example;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.scheduling.annotation.EnableAsync;\r\n@EnableAsync\r\n@SpringBootApplication(exclude={DataSourceAutoConfiguration.class})\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Main.class, args);\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n**MessagesApi**\r\n\r\n```\r\npackage org.example.api;\r\n\r\nimport org.example.models.Messages;\r\nimport org.example.database.MessagesRepository;\r\nimport org.example.models.MessagesRequest;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/chats&quot;)\r\npublic class MessagesApi {\r\n@Autowired\r\nMessagesRepository messagesRepository;\r\n\r\n    @GetMapping(&quot;id&quot;)\r\n    public ResponseEntity&lt;Messages&gt; getAllChatsById(@RequestBody MessagesRequest messageRequest) {\r\n\r\n        return new ResponseEntity&lt;&gt;(messagesRepository.findByTextId(messageRequest.getTextId()), HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(&quot;username&quot;)\r\n    public ResponseEntity&lt; List&lt;Messages&gt;&gt; getAllChatsByUserName(@RequestBody MessagesRequest messageRequest) {\r\n        return new ResponseEntity&lt;&gt;(messagesRepository.findByUserName(messageRequest.getUserName()), HttpStatus.OK);\r\n    }\r\n    @PostMapping\r\n    public ResponseEntity&lt;Long&gt; postMessage(@RequestBody Messages message ){\r\n        //make Id\r\n        Long id = 1234L;\r\n        message.setTextId(id);\r\n        messagesRepository.save(message);\r\n        return new ResponseEntity&lt;&gt;(id, HttpStatus.CREATED);\r\n\r\n    }\r\n}\r\n```\r\n**MessagesRespository**\r\n```\r\npackage org.example.database;\r\n\r\nimport org.example.models.Messages;\r\nimport org.springframework.data.repository.JpaRepository;\r\n\r\nimport java.util.List;\r\npublic interface MessagesRepository extends JpaRepository&lt;Messages, Long&gt; {\r\n    List&lt;Messages&gt; findByUserName(String userName);\r\n    Messages findByTextId(Long textId);\r\n}\r\n```\r\n\r\n**applications.properties**\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/test\r\nspring.datasource.username=root\r\nspring.datasource.password=passWord\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n```\r\n\r\nIve tried adding\r\n@EnableJpaRepositories\r\nBut kept getting\r\n``Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration.\r\n\r\nWhen removing\r\nexclude={DataSourceAutoConfiguration.class}\r\nI would get \r\n```\r\nFailed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n\r\nReason: Failed to determine a suitable driver class\r\n```\r\n\r\n\r\nI am not sure where to move forward from here","title":"Consider defining a bean of type &#39;...&#39; in your configuration when using JPARepository","body":"<p>Ive been trying to follow a few basic examples to create a rest api to connect to a local mysql server</p>\n<p>However I keep running to this error</p>\n<pre><code>Consider defining a bean of type 'org.example.database.MessagesRepository' in your configuration.\n</code></pre>\n<p>Here is my current project layout\n<a href=\"https://i.stack.imgur.com/5RPLa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5RPLa.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;messagesApi&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>Main.java</strong></p>\n<pre><code>package org.example;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.scheduling.annotation.EnableAsync;\n@EnableAsync\n@SpringBootApplication(exclude={DataSourceAutoConfiguration.class})\npublic class Main {\n    public static void main(String[] args) {\n        SpringApplication.run(Main.class, args);\n\n    }\n}\n</code></pre>\n<p><strong>MessagesApi</strong></p>\n<pre><code>package org.example.api;\n\nimport org.example.models.Messages;\nimport org.example.database.MessagesRepository;\nimport org.example.models.MessagesRequest;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@Controller\n@RequestMapping(&quot;/chats&quot;)\npublic class MessagesApi {\n@Autowired\nMessagesRepository messagesRepository;\n\n    @GetMapping(&quot;id&quot;)\n    public ResponseEntity&lt;Messages&gt; getAllChatsById(@RequestBody MessagesRequest messageRequest) {\n\n        return new ResponseEntity&lt;&gt;(messagesRepository.findByTextId(messageRequest.getTextId()), HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;username&quot;)\n    public ResponseEntity&lt; List&lt;Messages&gt;&gt; getAllChatsByUserName(@RequestBody MessagesRequest messageRequest) {\n        return new ResponseEntity&lt;&gt;(messagesRepository.findByUserName(messageRequest.getUserName()), HttpStatus.OK);\n    }\n    @PostMapping\n    public ResponseEntity&lt;Long&gt; postMessage(@RequestBody Messages message ){\n        //make Id\n        Long id = 1234L;\n        message.setTextId(id);\n        messagesRepository.save(message);\n        return new ResponseEntity&lt;&gt;(id, HttpStatus.CREATED);\n\n    }\n}\n</code></pre>\n<p><strong>MessagesRespository</strong></p>\n<pre><code>package org.example.database;\n\nimport org.example.models.Messages;\nimport org.springframework.data.repository.JpaRepository;\n\nimport java.util.List;\npublic interface MessagesRepository extends JpaRepository&lt;Messages, Long&gt; {\n    List&lt;Messages&gt; findByUserName(String userName);\n    Messages findByTextId(Long textId);\n}\n</code></pre>\n<p><strong>applications.properties</strong></p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/test\nspring.datasource.username=root\nspring.datasource.password=passWord\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.hibernate.ddl-auto=update\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n<p>Ive tried adding\n@EnableJpaRepositories\nBut kept getting\n``Consider defining a bean named 'entityManagerFactory' in your configuration.</p>\n<p>When removing\nexclude={DataSourceAutoConfiguration.class}\nI would get</p>\n<pre><code>Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n</code></pre>\n<p>I am not sure where to move forward from here</p>\n"},{"tags":["java","android","android-studio","android-developer-api"],"owner":{"account_id":27330058,"reputation":47,"user_id":20842337,"display_name":"Sumita Das"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673416742,"creation_date":1673329231,"question_id":75065897,"body_markdown":"I have implement a rotation Animation. On the click of a button its start rotating and on the click of another button its stop rotating. I want that on that on the click of pause button it should stop where it is and the click of the same button it should resume from the same place. \r\nIn the main activity I have a button on the click of that button rotation activity will open.   \r\nHow can I do that?\r\nHere is the xml file\r\n```\r\n &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.rotation&quot;&gt;\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imgbox&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:src=&quot;@drawable/ic_boximage&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        &gt;&lt;/ImageView&gt;\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatButton\r\n        android:id=&quot;@+id/btnrotation&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/rorationbtn&quot;\r\n        android:layout_below=&quot;@+id/imgbox&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;&gt;\r\n    &lt;/androidx.appcompat.widget.AppCompatButton&gt;\r\n    &lt;androidx.appcompat.widget.AppCompatButton\r\n        android:id=&quot;@+id/btnrotationp&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Pause Animation&quot;\r\n        android:layout_below=&quot;@+id/btnrotation&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;&gt;\r\n    &lt;/androidx.appcompat.widget.AppCompatButton&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\nhere is the Animation file\r\n```\r\n&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;rotate android:fromDegrees=&quot;0&quot;\r\n        android:toDegrees=&quot;3600&quot;\r\n        android:duration=&quot;4000&quot;\r\n        android:pivotX=&quot;50%&quot;\r\n        android:pivotY=&quot;50%&quot;\r\n        android:repeatMode=&quot;reverse&quot;\r\n        android:repeatCount=&quot;infinite&quot;&gt;\r\n\r\n    &lt;/rotate&gt;\r\n\r\n&lt;/set&gt;\r\n```\r\nhere is the java file\r\n```\r\npublic class rotation extends AppCompatActivity {\r\n    AppCompatButton rotate,rotatep;\r\n    ImageView imgbox;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_rotation);\r\n        getSupportActionBar().setTitle(&quot;Rotation&quot;);\r\n        imgbox=findViewById(R.id.imgbox);\r\n        rotate=findViewById(R.id.btnrotation);\r\n        rotatep=findViewById(R.id.btnrotationp);\r\n        Animation rotate1= AnimationUtils.loadAnimation(rotation.this,R.anim.rotation);\r\n        rotate.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                imgbox.startAnimation(rotate1);\r\n            }\r\n        });\r\n        rotatep.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                imgbox.clearAnimation();\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n```","title":"How to pause a animation","body":"<p>I have implement a rotation Animation. On the click of a button its start rotating and on the click of another button its stop rotating. I want that on that on the click of pause button it should stop where it is and the click of the same button it should resume from the same place.\nIn the main activity I have a button on the click of that button rotation activity will open.<br />\nHow can I do that?\nHere is the xml file</p>\n<pre><code> &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.rotation&quot;&gt;\n    &lt;ImageView\n        android:id=&quot;@+id/imgbox&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:src=&quot;@drawable/ic_boximage&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        &gt;&lt;/ImageView&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatButton\n        android:id=&quot;@+id/btnrotation&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/rorationbtn&quot;\n        android:layout_below=&quot;@+id/imgbox&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:layout_marginTop=&quot;50dp&quot;&gt;\n    &lt;/androidx.appcompat.widget.AppCompatButton&gt;\n    &lt;androidx.appcompat.widget.AppCompatButton\n        android:id=&quot;@+id/btnrotationp&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Pause Animation&quot;\n        android:layout_below=&quot;@+id/btnrotation&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:layout_marginTop=&quot;50dp&quot;&gt;\n    &lt;/androidx.appcompat.widget.AppCompatButton&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>here is the Animation file</p>\n<pre><code>&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;rotate android:fromDegrees=&quot;0&quot;\n        android:toDegrees=&quot;3600&quot;\n        android:duration=&quot;4000&quot;\n        android:pivotX=&quot;50%&quot;\n        android:pivotY=&quot;50%&quot;\n        android:repeatMode=&quot;reverse&quot;\n        android:repeatCount=&quot;infinite&quot;&gt;\n\n    &lt;/rotate&gt;\n\n&lt;/set&gt;\n</code></pre>\n<p>here is the java file</p>\n<pre><code>public class rotation extends AppCompatActivity {\n    AppCompatButton rotate,rotatep;\n    ImageView imgbox;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_rotation);\n        getSupportActionBar().setTitle(&quot;Rotation&quot;);\n        imgbox=findViewById(R.id.imgbox);\n        rotate=findViewById(R.id.btnrotation);\n        rotatep=findViewById(R.id.btnrotationp);\n        Animation rotate1= AnimationUtils.loadAnimation(rotation.this,R.anim.rotation);\n        rotate.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                imgbox.startAnimation(rotate1);\n            }\n        });\n        rotatep.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                imgbox.clearAnimation();\n            }\n        });\n\n    }\n}\n</code></pre>\n"},{"tags":["java","postgresql","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1673402950,"post_id":75075442,"comment_id":132489369,"body_markdown":"Please add the class definition of `my.class.plugins.Plugin` and indicate the field to which you are trying to map `current_date`.","body":"Please add the class definition of <code>my.class.plugins.Plugin</code> and indicate the field to which you are trying to map <code>current_date</code>."},{"owner":{"account_id":27418311,"reputation":33,"user_id":20917163,"display_name":"Govind Yadav"},"score":0,"creation_date":1673416569,"post_id":75075442,"comment_id":132491318,"body_markdown":"@ave I have added the java class. The class is abstract. I want to fetch today_date / current_date from sql select command. The problem I facing is I cannot map the date portion as curent_date is not a column in table","body":"@ave I have added the java class. The class is abstract. I want to fetch today_date / current_date from sql select command. The problem I facing is I cannot map the date portion as curent_date is not a column in table"},{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1673434545,"post_id":75075442,"comment_id":132496739,"body_markdown":"A few basics: 1) MyBatis cannot instantiate abstract class (Java does not allow it). There must be a concrete class that has fields for `today_date` and `current_date`.  2) Unlike ORMs, MyBatis maps columns in the result set. It does not matter if the columns are defined in a table or not.","body":"A few basics: 1) MyBatis cannot instantiate abstract class (Java does not allow it). There must be a concrete class that has fields for <code>today_date</code> and <code>current_date</code>.  2) Unlike ORMs, MyBatis maps columns in the result set. It does not matter if the columns are defined in a table or not."}],"owner":{"account_id":27418311,"reputation":33,"user_id":20917163,"display_name":"Govind Yadav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673416438,"creation_date":1673382358,"question_id":75075442,"body_markdown":"In the table `plugin` there is a column `id` for which I am able to capture records but when it comes to a new column which is not part of table how can I capture the records for it. For example, if I need to return `current_date` then how this can be achieved **as this is not a column name** in `plugin` table.\r\n\r\nmapper.xml\r\n```\r\n&lt;resultMap type=&quot;my.class.plugins.Plugin&quot; id=&quot;pluginMap&quot;&gt;\r\n    &lt;constructor&gt;\r\n        &lt;idArg column=&quot;id&quot; javaType = &quot;java.util.UUID&quot;/&gt;\r\n    &lt;/constructor&gt;\r\n\r\n&lt;/resultMap&gt;\r\n```\r\n\r\n\r\n```\r\n&lt;select id=&quot;getPluginById&quot; resultMap=&quot;pluginMap&quot;&gt;\r\n SELECT id, current_date\r\n FROM public.plugin\r\n&lt;/select&gt;\r\n```\r\n\r\njava class\r\n```\r\n@Value.Immutable\r\n@JsonSerialize\r\n@JsonDeserialize(as = ImmutablePlugin.class)\r\n@Value.Style(allParameters = true)\r\npublic abstract class Plugin {\r\n\r\n    public Plugin() {\r\n\r\n    }\r\n\r\n    /**\r\n     * returns id from table plugin\r\n     * @return\r\n     */\r\n    public abstract UUID getId();\r\n}\r\n```\r\n","title":"How to capture new column (current_date) from select statement inside resultMap -- mybatis, java","body":"<p>In the table <code>plugin</code> there is a column <code>id</code> for which I am able to capture records but when it comes to a new column which is not part of table how can I capture the records for it. For example, if I need to return <code>current_date</code> then how this can be achieved <strong>as this is not a column name</strong> in <code>plugin</code> table.</p>\n<p>mapper.xml</p>\n<pre><code>&lt;resultMap type=&quot;my.class.plugins.Plugin&quot; id=&quot;pluginMap&quot;&gt;\n    &lt;constructor&gt;\n        &lt;idArg column=&quot;id&quot; javaType = &quot;java.util.UUID&quot;/&gt;\n    &lt;/constructor&gt;\n\n&lt;/resultMap&gt;\n</code></pre>\n<pre><code>&lt;select id=&quot;getPluginById&quot; resultMap=&quot;pluginMap&quot;&gt;\n SELECT id, current_date\n FROM public.plugin\n&lt;/select&gt;\n</code></pre>\n<p>java class</p>\n<pre><code>@Value.Immutable\n@JsonSerialize\n@JsonDeserialize(as = ImmutablePlugin.class)\n@Value.Style(allParameters = true)\npublic abstract class Plugin {\n\n    public Plugin() {\n\n    }\n\n    /**\n     * returns id from table plugin\n     * @return\n     */\n    public abstract UUID getId();\n}\n</code></pre>\n"},{"tags":["java","spring","unit-testing","mockito"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1673374491,"post_id":75074038,"comment_id":132482879,"body_markdown":"You are returning `user`, which has the name &quot;Alice&quot;. What do you expect to happen? Why are you surprised that it&#39;s not the name &quot;Bob&quot;?","body":"You are returning <code>user</code>, which has the name &quot;Alice&quot;. What do you expect to happen? Why are you surprised that it&#39;s not the name &quot;Bob&quot;?"},{"owner":{"account_id":25917005,"reputation":15,"user_id":19640250,"display_name":"Padaripoiss"},"score":0,"creation_date":1673374804,"post_id":75074038,"comment_id":132482986,"body_markdown":"But how do i fix that?","body":"But how do i fix that?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1673375691,"post_id":75074038,"comment_id":132483231,"body_markdown":"By setting your mock up in such a way that it returns the correct object? Call me ignorant, but you have two different users (`user` and `updatedUser`) and your code is written to return `user` and then checks for the properties of `updatedUser`. Either change the check, or return the other object. But then: _what are_ you actually testing if everything is mocked?","body":"By setting your mock up in such a way that it returns the correct object? Call me ignorant, but you have two different users (<code>user</code> and <code>updatedUser</code>) and your code is written to return <code>user</code> and then checks for the properties of <code>updatedUser</code>. Either change the check, or return the other object. But then: <i>what are</i> you actually testing if everything is mocked?"}],"answers":[{"tags":[],"owner":{"account_id":25387686,"reputation":83,"user_id":19199234,"display_name":"Rayyan Karimi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673416217,"creation_date":1673416217,"answer_id":75078813,"question_id":75074038,"body_markdown":"Since you are returning the `user`, its name is *Alice*. You can&#39;t get *Bob* as an output if Bob is actually not being used to display, right?\r\n\r\nYour code is written to return `user` and then checks for the properties of `updatedUser`.\r\n\r\nSet your Mockito such that it returns the correct object.\r\n","title":"Mockito unit test for Put request is getting an error: java.lang.AssertionError: JSON path &quot;$.name&quot;","body":"<p>Since you are returning the <code>user</code>, its name is <em>Alice</em>. You can't get <em>Bob</em> as an output if Bob is actually not being used to display, right?</p>\n<p>Your code is written to return <code>user</code> and then checks for the properties of <code>updatedUser</code>.</p>\n<p>Set your Mockito such that it returns the correct object.</p>\n"}],"owner":{"account_id":25917005,"reputation":15,"user_id":19640250,"display_name":"Padaripoiss"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75078813,"answer_count":1,"score":0,"last_activity_date":1673416217,"creation_date":1673373568,"question_id":75074038,"body_markdown":"The problem is with the PUT method unit test when testing the endpoints declared in my UserController and I don&#39;t understand what the issue is.\r\n\r\nWhen running a test: testUpdateUser()\r\nthen i will get the error: java.lang.AssertionError: JSON path &quot;$.name&quot;\r\nExpected: is &quot;Bob&quot;\r\n     but: was &quot;Alice&quot;\r\n\r\n\r\nMy unit test what is getting an error: \r\n```  \r\n @Test\r\n    public void testUpdateUser() throws Exception {\r\n        User user = new User(1, &quot;Alice&quot;, &quot;alice&quot;, &quot;alice@example.com&quot;);\r\n        when(UserDao.getUserById(1)).thenReturn(Collections.singletonList(user)); // Retrieve the user from the mock database\r\n        User updatedUser = new User(1, &quot;Bob&quot;, &quot;bob&quot;, &quot;bob@example.com&quot;);\r\n\r\n        when(UserDao.updateUser(updatedUser, 1)).thenReturn(1);\r\n        ; // Update the user in the mock database\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        String json = mapper.writeValueAsString(updatedUser);\r\n\r\n        MockHttpServletRequestBuilder requestBuilder = put(&quot;/users/1&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(json);\r\n\r\n        mockMvc.perform(requestBuilder)\r\n                .andExpect(status().isOk())\r\n                .andExpect(jsonPath(&quot;$.id&quot;, is(1)))\r\n                .andExpect(jsonPath(&quot;$.name&quot;, is(&quot;Bob&quot;)))\r\n                .andExpect(jsonPath(&quot;$.username&quot;, is(&quot;bob&quot;)))\r\n                .andExpect(jsonPath(&quot;$.email&quot;, is(&quot;bob@example.com&quot;)));\r\n\r\n        verify(UserDao).updateUser(updatedUser, 1);\r\n        verify(template).convertAndSend(&quot;/topic/update&quot;, updatedUser);\r\n    }\r\n ```\r\n\r\nFull error: \r\n``` MockHttpServletRequest:\r\n      HTTP Method = PUT\r\n      Request URI = /users/1\r\n       Parameters = {}\r\n          Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Content-Length:&quot;64&quot;]\r\n             Body = {&quot;id&quot;:1,&quot;name&quot;:&quot;Bob&quot;,&quot;username&quot;:&quot;bob&quot;,&quot;email&quot;:&quot;bob@example.com&quot;}\r\n    Session Attrs = {}\r\n\r\nHandler:\r\n             Type = com.example.padar.controller.UserController\r\n           Method = com.example.padar.controller.UserController#editUsers(int, User, HttpServletRequest)\r\n\r\nAsync:\r\n    Async started = false\r\n     Async result = null\r\n\r\nResolved Exception:\r\n             Type = null\r\n\r\nModelAndView:\r\n        View name = null\r\n             View = null\r\n            Model = null\r\n\r\nFlashMap:\r\n       Attributes = null\r\n\r\nMockHttpServletResponse:\r\n           Status = 200\r\n    Error message = null\r\n          Headers = [Vary:&quot;Origin&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;, Content-Type:&quot;application/json&quot;, Content-Length:&quot;70&quot;]\r\n     Content type = application/json\r\n             Body = {&quot;id&quot;:1,&quot;name&quot;:&quot;Alice&quot;,&quot;username&quot;:&quot;alice&quot;,&quot;email&quot;:&quot;alice@example.com&quot;}\r\n    Forwarded URL = null\r\n   Redirected URL = null\r\n          Cookies = []\r\n\r\njava.lang.AssertionError: JSON path &quot;$.name&quot;\r\nExpected: is &quot;Bob&quot;\r\n     but: was &quot;Alice&quot;\r\n&lt;Click to see difference&gt;\r\n\r\n\r\n\tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n\tat org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:74)\r\n\tat org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$0(JsonPathResultMatchers.java:87)\r\n\tat org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)\r\n\tat com.example.padar.controller.UserControllerTest.testUpdateUser(UserControllerTest.java:113)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n ```\r\n\r\nUserController:\r\n``` \r\n@PutMapping(&quot;/users/{id}&quot;)\r\n \r\n    public ResponseEntity&lt;?&gt; editUsers(@PathVariable int id,@RequestBody User user, @Autowired HttpServletRequest request){\r\n\r\n        LOG.info(\r\n                &quot;FINISHED PROCESSING : METHOD={}; REQUESTURL={}; ID={}; REQUESTBODY={}; OLDUSER={};&quot;,\r\n                request.getMethod(), request.getRequestURI(), request.getSession().getId(),\r\n                user.toString(), UserDao.getUserById(id).get(0).toString());\r\n            UserDao.updateUser(user, id);\r\n            template.convertAndSend(&quot;/topic/update&quot;, UserDao.getUserById(id));\r\n            return ResponseEntity.ok(UserDao.getUserById(id).get(0));\r\n\r\n\r\n    } \r\n```\r\n\r\nUserDao: \r\n``` @Repository\r\npublic class UserDao {\r\n    @Autowired\r\n    private JdbcTemplate jdbcTemplate;\r\n\r\n    private static final String SQL_GET_ALL_USERS = &quot;SELECT * FROM user&quot;;\r\n\r\n    private static final String SQL_GET_USER_BY_ID = &quot;SELECT id,name,username,email FROM user where id = ?&quot;;\r\n\r\n    private static final String SQL_GET_POSTED_USER = &quot;SELECT id,username,email FROM user ORDER BY id DESC LIMIT 1 &quot;;\r\n\r\n    private static final String SQL_DELETE_USER_BY_ID = &quot;DELETE FROM user WHERE id=?&quot;;\r\n\r\n    private static final String SQL_MAKE_NEW_USER = &quot;INSERT INTO user(name,username,email) VALUES(?,?,?)&quot;;\r\n\r\n    private static final String SQL_UPDATE_USER = &quot;UPDATE user SET name = ?, username = ?, email = ? WHERE id=?&quot;;\r\n    public List&lt;User&gt; getAllUsers() {\r\n        return jdbcTemplate.query(SQL_GET_ALL_USERS, new UserMapper());\r\n    }\r\n\r\n    public int deleteUserById(int id) {\r\n        return jdbcTemplate.update(SQL_DELETE_USER_BY_ID, id);\r\n    }\r\n\r\n    public List&lt;User&gt; getUserById(int id) {return jdbcTemplate.query(SQL_GET_USER_BY_ID,new UserMapper(),id); }\r\n    public List&lt;User&gt; showPostedUser() {return jdbcTemplate.query(SQL_GET_POSTED_USER,new UserMapper()); }\r\n\r\n    public int addUser(User user) {\r\n        jdbcTemplate.update(SQL_MAKE_NEW_USER,\r\n                user.getName(),\r\n                user.getUsername(),\r\n                user.getEmail());\r\n        return 1;\r\n    }\r\n\r\n\r\n    public int updateUser(User user, int id) {\r\n        return jdbcTemplate.update(SQL_UPDATE_USER,\r\n                user.getName(),\r\n                user.getUsername(),\r\n                user.getEmail(),\r\n                id);\r\n    }\r\n}\r\n ```\r\n\r\n","title":"Mockito unit test for Put request is getting an error: java.lang.AssertionError: JSON path &quot;$.name&quot;","body":"<p>The problem is with the PUT method unit test when testing the endpoints declared in my UserController and I don't understand what the issue is.</p>\n<p>When running a test: testUpdateUser()\nthen i will get the error: java.lang.AssertionError: JSON path &quot;$.name&quot;\nExpected: is &quot;Bob&quot;\nbut: was &quot;Alice&quot;</p>\n<p>My unit test what is getting an error:</p>\n<pre><code> @Test\n    public void testUpdateUser() throws Exception {\n        User user = new User(1, &quot;Alice&quot;, &quot;alice&quot;, &quot;alice@example.com&quot;);\n        when(UserDao.getUserById(1)).thenReturn(Collections.singletonList(user)); // Retrieve the user from the mock database\n        User updatedUser = new User(1, &quot;Bob&quot;, &quot;bob&quot;, &quot;bob@example.com&quot;);\n\n        when(UserDao.updateUser(updatedUser, 1)).thenReturn(1);\n        ; // Update the user in the mock database\n\n        ObjectMapper mapper = new ObjectMapper();\n        String json = mapper.writeValueAsString(updatedUser);\n\n        MockHttpServletRequestBuilder requestBuilder = put(&quot;/users/1&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(json);\n\n        mockMvc.perform(requestBuilder)\n                .andExpect(status().isOk())\n                .andExpect(jsonPath(&quot;$.id&quot;, is(1)))\n                .andExpect(jsonPath(&quot;$.name&quot;, is(&quot;Bob&quot;)))\n                .andExpect(jsonPath(&quot;$.username&quot;, is(&quot;bob&quot;)))\n                .andExpect(jsonPath(&quot;$.email&quot;, is(&quot;bob@example.com&quot;)));\n\n        verify(UserDao).updateUser(updatedUser, 1);\n        verify(template).convertAndSend(&quot;/topic/update&quot;, updatedUser);\n    }\n</code></pre>\n<p>Full error:</p>\n<pre><code>      HTTP Method = PUT\n      Request URI = /users/1\n       Parameters = {}\n          Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Content-Length:&quot;64&quot;]\n             Body = {&quot;id&quot;:1,&quot;name&quot;:&quot;Bob&quot;,&quot;username&quot;:&quot;bob&quot;,&quot;email&quot;:&quot;bob@example.com&quot;}\n    Session Attrs = {}\n\nHandler:\n             Type = com.example.padar.controller.UserController\n           Method = com.example.padar.controller.UserController#editUsers(int, User, HttpServletRequest)\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = null\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 200\n    Error message = null\n          Headers = [Vary:&quot;Origin&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;, Content-Type:&quot;application/json&quot;, Content-Length:&quot;70&quot;]\n     Content type = application/json\n             Body = {&quot;id&quot;:1,&quot;name&quot;:&quot;Alice&quot;,&quot;username&quot;:&quot;alice&quot;,&quot;email&quot;:&quot;alice@example.com&quot;}\n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n\njava.lang.AssertionError: JSON path &quot;$.name&quot;\nExpected: is &quot;Bob&quot;\n     but: was &quot;Alice&quot;\n&lt;Click to see difference&gt;\n\n\n    at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\n    at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:74)\n    at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$0(JsonPathResultMatchers.java:87)\n    at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)\n    at com.example.padar.controller.UserControllerTest.testUpdateUser(UserControllerTest.java:113)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>UserController:</p>\n<pre><code>@PutMapping(&quot;/users/{id}&quot;)\n \n    public ResponseEntity&lt;?&gt; editUsers(@PathVariable int id,@RequestBody User user, @Autowired HttpServletRequest request){\n\n        LOG.info(\n                &quot;FINISHED PROCESSING : METHOD={}; REQUESTURL={}; ID={}; REQUESTBODY={}; OLDUSER={};&quot;,\n                request.getMethod(), request.getRequestURI(), request.getSession().getId(),\n                user.toString(), UserDao.getUserById(id).get(0).toString());\n            UserDao.updateUser(user, id);\n            template.convertAndSend(&quot;/topic/update&quot;, UserDao.getUserById(id));\n            return ResponseEntity.ok(UserDao.getUserById(id).get(0));\n\n\n    } \n</code></pre>\n<p>UserDao:</p>\n<pre><code>public class UserDao {\n    @Autowired\n    private JdbcTemplate jdbcTemplate;\n\n    private static final String SQL_GET_ALL_USERS = &quot;SELECT * FROM user&quot;;\n\n    private static final String SQL_GET_USER_BY_ID = &quot;SELECT id,name,username,email FROM user where id = ?&quot;;\n\n    private static final String SQL_GET_POSTED_USER = &quot;SELECT id,username,email FROM user ORDER BY id DESC LIMIT 1 &quot;;\n\n    private static final String SQL_DELETE_USER_BY_ID = &quot;DELETE FROM user WHERE id=?&quot;;\n\n    private static final String SQL_MAKE_NEW_USER = &quot;INSERT INTO user(name,username,email) VALUES(?,?,?)&quot;;\n\n    private static final String SQL_UPDATE_USER = &quot;UPDATE user SET name = ?, username = ?, email = ? WHERE id=?&quot;;\n    public List&lt;User&gt; getAllUsers() {\n        return jdbcTemplate.query(SQL_GET_ALL_USERS, new UserMapper());\n    }\n\n    public int deleteUserById(int id) {\n        return jdbcTemplate.update(SQL_DELETE_USER_BY_ID, id);\n    }\n\n    public List&lt;User&gt; getUserById(int id) {return jdbcTemplate.query(SQL_GET_USER_BY_ID,new UserMapper(),id); }\n    public List&lt;User&gt; showPostedUser() {return jdbcTemplate.query(SQL_GET_POSTED_USER,new UserMapper()); }\n\n    public int addUser(User user) {\n        jdbcTemplate.update(SQL_MAKE_NEW_USER,\n                user.getName(),\n                user.getUsername(),\n                user.getEmail());\n        return 1;\n    }\n\n\n    public int updateUser(User user, int id) {\n        return jdbcTemplate.update(SQL_UPDATE_USER,\n                user.getName(),\n                user.getUsername(),\n                user.getEmail(),\n                id);\n    }\n}\n</code></pre>\n"},{"tags":["java","templates","encoding","velocity","turkish"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1673368694,"post_id":75071879,"comment_id":132480935,"body_markdown":"You are not describing your problem properly.  Velocity does not and cannot directly generate a PDF from a template.  What you are probably doing is using Velocity to generate some intermediate file and then generating the PDF file from the intermediate file.  But what kind of intermediate file is it and how are you then generating the PDF?  We need to know the details.","body":"You are not describing your problem properly.  Velocity does not and cannot directly generate a PDF from a template.  What you are probably doing is using Velocity to generate some intermediate file and then generating the PDF file from the intermediate file.  But what kind of intermediate file is it and how are you then generating the PDF?  We need to know the details."},{"owner":{"account_id":15016872,"reputation":21,"user_id":10839630,"display_name":"Altan Mehmet T&#252;rkmen"},"score":0,"creation_date":1673416203,"post_id":75071879,"comment_id":132491247,"body_markdown":"Hi @StephenC Thanks for the help.  I updated the question with the code. Basically what I want to do is encode the html for turkish characters. I&#39;m using flying saucer and openpdf for pdf conversion","body":"Hi @StephenC Thanks for the help.  I updated the question with the code. Basically what I want to do is encode the html for turkish characters. I&#39;m using flying saucer and openpdf for pdf conversion"}],"owner":{"account_id":15016872,"reputation":21,"user_id":10839630,"display_name":"Altan Mehmet T&#252;rkmen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673416090,"creation_date":1673362985,"question_id":75071879,"body_markdown":"I&#39;m trying to create an vm template to convert to pdf. But characters like &quot;İ&quot; , &quot;ş&quot; , &quot;ı&quot; etc. is missing from the pdf. Like here : [![enter image description here](https://i.stack.imgur.com/vUf3d.png)](https://i.stack.imgur.com/vUf3d.png)\r\nThis text must&#39;ve been İmza Sahibi:\r\n$sincomModelData.\r\nimza_sahibi\r\nbu belgeyle aşağıda belirtilen \r\naracın\r\nBut the letters are missing in the pdf.\r\n\r\nI encode the vm template like this : `Template t = ve.getTemplate(&quot;templates/helloworld.vm&quot;, &quot;UTF-8&quot;);`\r\nbut it only works for some of the characters like &quot;&#246;&quot; , &quot;&#252;&quot;. How could I encode all turkish letters properly to work with velocity template? \r\nThanks for the help.\r\n\r\nTrying to encode turkish characters in velocity template.\r\nHere is the code of the conversion of html -&gt; xhtml -&gt; pdf\r\n\r\n    VelocityEngine ve = new VelocityEngine();\r\n        System.out.println(sincomModel);\r\n        /* next, get the Template */\r\n        ve.setProperty(RuntimeConstants.RESOURCE_LOADER, &quot;classpath&quot;);\r\n        ve.setProperty(&quot;classpath.resource.loader.class&quot;,\r\n                ClasspathResourceLoader.class.getName());\r\n        ve.init();\r\n        System.out.println(vehicleDto);\r\n        Template t = ve.getTemplate(&quot;templates/helloworld.vm&quot;, &quot;UTF-8&quot;);\r\n        VelocityContext context = new VelocityContext();\r\n        context.put(&quot;sincomModelData&quot;, sincomModel);\r\n        context.put(&quot;tanitim_numFirst&quot;, tanitim_numFirst);\r\n        context.put(&quot;tanitim_numSec&quot;, tanitim_numSec);\r\n        context.put(&quot;vehicleDate&quot;,vehicleDto.getDate());\r\n        context.put(&quot;vehicleRenk&quot;,vehicleDto.getRenk());\r\n        context.put(&quot;yakitIc&quot;,yakitIc);\r\n        context.put(&quot;yakitDis&quot;,yakitDis);\r\n        StringWriter writer = new StringWriter();\r\n        t.merge(context, writer);\r\n\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\r\n        baos = xhtmlToPdf(writer.toString());\r\n\r\n        HttpHeaders header = new HttpHeaders();\r\n        header.setContentType(MediaType.APPLICATION_PDF);\r\n        header.set(HttpHeaders.CONTENT_DISPOSITION,\r\n                &quot;attachment; filename=&quot; + fileName.replace(&quot; &quot;, &quot;_&quot;));\r\n        header.setContentLength(baos.toByteArray().length);\r\n\r\n        return new HttpEntity&lt;byte[]&gt;(baos.toByteArray(), header);\r\n\r\n    }\r\n    private static String htmlToXhtml(String html) {\r\n        Document document = Jsoup.parse(html);\r\n        document.outputSettings().syntax(Document.OutputSettings.Syntax.xml);\r\n        return document.html();\r\n    }\r\n    private ByteArrayOutputStream xhtmlToPdf(String xhtml) throws IOException {\r\n        String xhtml_son = htmlToXhtml(xhtml);\r\n        ITextRenderer iTextRenderer = new ITextRenderer();\r\n        iTextRenderer.setDocumentFromString(xhtml_son);\r\n        iTextRenderer.layout();\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        iTextRenderer.createPDF(baos);\r\n        return baos;\r\n    }","title":"Apache Velocity template turkish characters problem","body":"<p>I'm trying to create an vm template to convert to pdf. But characters like &quot;İ&quot; , &quot;ş&quot; , &quot;ı&quot; etc. is missing from the pdf. Like here : <a href=\"https://i.stack.imgur.com/vUf3d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vUf3d.png\" alt=\"enter image description here\" /></a>\nThis text must've been İmza Sahibi:\n$sincomModelData.\nimza_sahibi\nbu belgeyle aşağıda belirtilen\naracın\nBut the letters are missing in the pdf.</p>\n<p>I encode the vm template like this : <code>Template t = ve.getTemplate(&quot;templates/helloworld.vm&quot;, &quot;UTF-8&quot;);</code>\nbut it only works for some of the characters like &quot;ö&quot; , &quot;ü&quot;. How could I encode all turkish letters properly to work with velocity template?\nThanks for the help.</p>\n<p>Trying to encode turkish characters in velocity template.\nHere is the code of the conversion of html -&gt; xhtml -&gt; pdf</p>\n<pre><code>VelocityEngine ve = new VelocityEngine();\n    System.out.println(sincomModel);\n    /* next, get the Template */\n    ve.setProperty(RuntimeConstants.RESOURCE_LOADER, &quot;classpath&quot;);\n    ve.setProperty(&quot;classpath.resource.loader.class&quot;,\n            ClasspathResourceLoader.class.getName());\n    ve.init();\n    System.out.println(vehicleDto);\n    Template t = ve.getTemplate(&quot;templates/helloworld.vm&quot;, &quot;UTF-8&quot;);\n    VelocityContext context = new VelocityContext();\n    context.put(&quot;sincomModelData&quot;, sincomModel);\n    context.put(&quot;tanitim_numFirst&quot;, tanitim_numFirst);\n    context.put(&quot;tanitim_numSec&quot;, tanitim_numSec);\n    context.put(&quot;vehicleDate&quot;,vehicleDto.getDate());\n    context.put(&quot;vehicleRenk&quot;,vehicleDto.getRenk());\n    context.put(&quot;yakitIc&quot;,yakitIc);\n    context.put(&quot;yakitDis&quot;,yakitDis);\n    StringWriter writer = new StringWriter();\n    t.merge(context, writer);\n\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n\n    baos = xhtmlToPdf(writer.toString());\n\n    HttpHeaders header = new HttpHeaders();\n    header.setContentType(MediaType.APPLICATION_PDF);\n    header.set(HttpHeaders.CONTENT_DISPOSITION,\n            &quot;attachment; filename=&quot; + fileName.replace(&quot; &quot;, &quot;_&quot;));\n    header.setContentLength(baos.toByteArray().length);\n\n    return new HttpEntity&lt;byte[]&gt;(baos.toByteArray(), header);\n\n}\nprivate static String htmlToXhtml(String html) {\n    Document document = Jsoup.parse(html);\n    document.outputSettings().syntax(Document.OutputSettings.Syntax.xml);\n    return document.html();\n}\nprivate ByteArrayOutputStream xhtmlToPdf(String xhtml) throws IOException {\n    String xhtml_son = htmlToXhtml(xhtml);\n    ITextRenderer iTextRenderer = new ITextRenderer();\n    iTextRenderer.setDocumentFromString(xhtml_son);\n    iTextRenderer.layout();\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    iTextRenderer.createPDF(baos);\n    return baos;\n}\n</code></pre>\n"},{"tags":["java","gradle","dependency-management"],"comments":[{"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"score":1,"creation_date":1433850494,"post_id":30731084,"comment_id":49518382,"body_markdown":"Do you have a configuration named `provided`?","body":"Do you have a configuration named <code>provided</code>?"},{"owner":{"account_id":1559437,"reputation":11728,"user_id":1449676,"accept_rate":37,"display_name":"ps-aux"},"score":0,"creation_date":1433850652,"post_id":30731084,"comment_id":49518505,"body_markdown":"I think I do not understand what kind of configuration you mean.","body":"I think I do not understand what kind of configuration you mean."},{"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"score":0,"creation_date":1433851028,"post_id":30731084,"comment_id":49518777,"body_markdown":"I mean an entry called `provided` in `configurations` block. Could you please paste the entire `build.gradle` script?","body":"I mean an entry called <code>provided</code> in <code>configurations</code> block. Could you please paste the entire <code>build.gradle</code> script?"},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1433851316,"post_id":30731084,"comment_id":49518969,"body_markdown":"I use the [gradle-extra-configurations-plugin](https://github.com/nebula-plugins/gradle-extra-configurations-plugin) for this feature. There are similar plugins, like [propsdeps](https://github.com/spring-projects/gradle-plugins/tree/master/propdeps-plugin), as well.","body":"I use the <a href=\"https://github.com/nebula-plugins/gradle-extra-configurations-plugin\" rel=\"nofollow noreferrer\">gradle-extra-configurations-plugin</a> for this feature. There are similar plugins, like <a href=\"https://github.com/spring-projects/gradle-plugins/tree/master/propdeps-plugin\" rel=\"nofollow noreferrer\">propsdeps</a>, as well."},{"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"score":4,"creation_date":1433851786,"post_id":30731084,"comment_id":49519291,"body_markdown":"In the Maven world, the &quot;provided&quot; scope means a library that needs to be available in order to compile the project but which should not be exported as a transitive dependency or included in the final packaged archive (e.g. WAR file) because it will be &quot;provided&quot; in some other way by the target environment.  The classic example is web applications - you need the servlet API dependency at compile time but you don&#39;t want it in your final WAR because the web server will provide it on a parent classloader.","body":"In the Maven world, the &quot;provided&quot; scope means a library that needs to be available in order to compile the project but which should not be exported as a transitive dependency or included in the final packaged archive (e.g. WAR file) because it will be &quot;provided&quot; in some other way by the target environment.  The classic example is web applications - you need the servlet API dependency at compile time but you don&#39;t want it in your final WAR because the web server will provide it on a parent classloader."},{"owner":{"account_id":1559437,"reputation":11728,"user_id":1449676,"accept_rate":37,"display_name":"ps-aux"},"score":0,"creation_date":1433851968,"post_id":30731084,"comment_id":49519419,"body_markdown":"@Opal you are right there is provided in configurations. I didn&#39;t know you can define your own dependency scope.","body":"@Opal you are right there is provided in configurations. I didn&#39;t know you can define your own dependency scope."}],"answers":[{"comments":[{"owner":{"account_id":1839825,"reputation":6122,"user_id":1669464,"accept_rate":74,"display_name":"Pytry"},"score":6,"creation_date":1582301294,"post_id":30731538,"comment_id":106742404,"body_markdown":"The `compileOnly` configuration is the closest option to mavens &quot;provided&quot; scope, but it is not a true &quot;only at compile time&quot; configuration. For instance, project Lombok classes are needed during the compile, but are **never** needed at runtime, should **never** be provided at runtime, and should **never** be packaged. This is different than the servlet dependencies that are needed during compile and runtime, but not needed during packaging because they are provided by the environment. Neither Maven nor Gradle have built in distinctions between true &quot;compile only&quot; and &quot;compile provided&quot;.","body":"The <code>compileOnly</code> configuration is the closest option to mavens &quot;provided&quot; scope, but it is not a true &quot;only at compile time&quot; configuration. For instance, project Lombok classes are needed during the compile, but are <b>never</b> needed at runtime, should <b>never</b> be provided at runtime, and should <b>never</b> be packaged. This is different than the servlet dependencies that are needed during compile and runtime, but not needed during packaging because they are provided by the environment. Neither Maven nor Gradle have built in distinctions between true &quot;compile only&quot; and &quot;compile provided&quot;."},{"owner":{"account_id":14624655,"reputation":640,"user_id":10562333,"display_name":"Christian Dr&#228;ger"},"score":2,"creation_date":1599408259,"post_id":30731538,"comment_id":112759620,"body_markdown":"the `runtime` configuration is deprecated, use `runtimeOnly` instead","body":"the <code>runtime</code> configuration is deprecated, use <code>runtimeOnly</code> instead"},{"owner":{"account_id":8733687,"reputation":145,"user_id":6533028,"display_name":"propatience"},"score":4,"creation_date":1617884398,"post_id":30731538,"comment_id":118436887,"body_markdown":"Here Gradle themselves write that `runtime` should be replaced by `runtimeOnly` and `provided` should be replaced by `compileOnly` https://docs.gradle.org/current/userguide/migrating_from_maven.html#migmvn:migrating_deps","body":"Here Gradle themselves write that <code>runtime</code> should be replaced by <code>runtimeOnly</code> and <code>provided</code> should be replaced by <code>compileOnly</code> <a href=\"https://docs.gradle.org/current/userguide/migrating_from_maven.html#migmvn:migrating_deps\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>"},{"owner":{"account_id":2450779,"reputation":1014,"user_id":2137125,"accept_rate":75,"display_name":"Lifeweaver"},"score":0,"creation_date":1635946361,"post_id":30731538,"comment_id":123427070,"body_markdown":"If you&#39;re using the war plugin you also get &#39;providedCompile&#39;, https://docs.gradle.org/current/userguide/migrating_from_maven.html#migmvn:migrating_deps","body":"If you&#39;re using the war plugin you also get &#39;providedCompile&#39;, <a href=\"https://docs.gradle.org/current/userguide/migrating_from_maven.html#migmvn:migrating_deps\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>"}],"tags":[],"owner":{"account_id":2051638,"reputation":6978,"user_id":1830513,"accept_rate":80,"display_name":"Sazzadur Rahaman"},"comment_count":4,"down_vote_count":0,"up_vote_count":77,"is_accepted":true,"score":77,"last_activity_date":1510194593,"creation_date":1433851496,"answer_id":30731538,"question_id":30731084,"body_markdown":"&gt;What is `provided` scope?\n\nSuppose that a `jar` is needed to compile your code, but the jar is present in the production environment library collection. Then you don&#39;t need to package the jar with your project archives. To support this requirement, Maven has a scope named `provided`. If you declare any jar dependency as `provided`, then this jar will be present in your classpath during compilation but will not be packaged with your project archive.\n\n`provided` scope is very useful, particularly in web applications. For example, `servlet-api.jar` is needed to be present in your classpath to compile your project, but you don&#39;t need this to package `servlet-api.jar` file with your `war`. With `provided` scope one can achieve this requirement.\n\nThere is no Scope defined in Gradle `java` plugin named `provided`. Also not in `war` or `android` plugins. If you want to use `provided` scope in your project, then you have to define it in your `build.gradle` file. Following is the code snippet to declare `provided` scope in gradle:\n\n    configurations {\n        provided\n    }\n    \n    sourceSets {\n        main { compileClasspath += configurations.provided }\n    }\n\nNow, your second question: \n\n&gt;What is the difference between provided and runtime dependency scope in Gradle?\n\nTo answer this question first I will define `compile` dependency. `compile` dependencies are dependencies, those are necessary to compile your code. Now imagine that if your code uses a library named `X` then you must declare `X` as your compile-time dependency. Also imagine that `X` uses another library `Y` internally, and you declared `Y` as your runtime dependency. \n\nDuring compilation, Gradle will add `X` into your classpath but will not add `Y`. Since, `Y` is not required for compilation. But it will package both `X` and `Y` with your project archive since both `X` and `Y` are necessary to run your project archive in the production environment. Generally, all the dependencies needed in the production environment are known as `runtime` dependency.\n\nIn Gradle official [documentation](https://docs.gradle.org/current/userguide/artifact_dependencies_tutorial.html), it says that `runtime` dependency are &quot;***the dependencies required by the production classes at runtime. By default, also includes the compile time dependencies.***&quot;.\n\nNow, if you&#39;ve read this far, then you already know that `provided` is a `compile` dependency that we don&#39;t want to be present in the `runtime` dependency (basically, we don&#39;t want it to package with the project archive).\n\nFollowing is an illustration of `provided` and `runtime` scope. Here, `compile` refers to the dependencies that are required to compile the project and `non-compile` refers to the dependencies that are not required for project compilation.\n\n[![][1]][1]\n\n  [1]: https://i.stack.imgur.com/XVCh1.png","title":"&#39;Provided&#39; dependency in Gradle","body":"<blockquote>\n<p>What is <code>provided</code> scope?</p>\n</blockquote>\n<p>Suppose that a <code>jar</code> is needed to compile your code, but the jar is present in the production environment library collection. Then you don't need to package the jar with your project archives. To support this requirement, Maven has a scope named <code>provided</code>. If you declare any jar dependency as <code>provided</code>, then this jar will be present in your classpath during compilation but will not be packaged with your project archive.</p>\n<p><code>provided</code> scope is very useful, particularly in web applications. For example, <code>servlet-api.jar</code> is needed to be present in your classpath to compile your project, but you don't need this to package <code>servlet-api.jar</code> file with your <code>war</code>. With <code>provided</code> scope one can achieve this requirement.</p>\n<p>There is no Scope defined in Gradle <code>java</code> plugin named <code>provided</code>. Also not in <code>war</code> or <code>android</code> plugins. If you want to use <code>provided</code> scope in your project, then you have to define it in your <code>build.gradle</code> file. Following is the code snippet to declare <code>provided</code> scope in gradle:</p>\n<pre><code>configurations {\n    provided\n}\n\nsourceSets {\n    main { compileClasspath += configurations.provided }\n}\n</code></pre>\n<p>Now, your second question:</p>\n<blockquote>\n<p>What is the difference between provided and runtime dependency scope in Gradle?</p>\n</blockquote>\n<p>To answer this question first I will define <code>compile</code> dependency. <code>compile</code> dependencies are dependencies, those are necessary to compile your code. Now imagine that if your code uses a library named <code>X</code> then you must declare <code>X</code> as your compile-time dependency. Also imagine that <code>X</code> uses another library <code>Y</code> internally, and you declared <code>Y</code> as your runtime dependency.</p>\n<p>During compilation, Gradle will add <code>X</code> into your classpath but will not add <code>Y</code>. Since, <code>Y</code> is not required for compilation. But it will package both <code>X</code> and <code>Y</code> with your project archive since both <code>X</code> and <code>Y</code> are necessary to run your project archive in the production environment. Generally, all the dependencies needed in the production environment are known as <code>runtime</code> dependency.</p>\n<p>In Gradle official <a href=\"https://docs.gradle.org/current/userguide/artifact_dependencies_tutorial.html\" rel=\"noreferrer\">documentation</a>, it says that <code>runtime</code> dependency are &quot;<em><strong>the dependencies required by the production classes at runtime. By default, also includes the compile time dependencies.</strong></em>&quot;.</p>\n<p>Now, if you've read this far, then you already know that <code>provided</code> is a <code>compile</code> dependency that we don't want to be present in the <code>runtime</code> dependency (basically, we don't want it to package with the project archive).</p>\n<p>Following is an illustration of <code>provided</code> and <code>runtime</code> scope. Here, <code>compile</code> refers to the dependencies that are required to compile the project and <code>non-compile</code> refers to the dependencies that are not required for project compilation.</p>\n<p><a href=\"https://i.stack.imgur.com/XVCh1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/XVCh1.png\" alt=\"\" /></a></p>\n"},{"comments":[{"owner":{"account_id":18496,"reputation":2014,"user_id":42418,"accept_rate":50,"display_name":"Alexander Vasiljev"},"score":2,"creation_date":1602744364,"post_id":54824150,"comment_id":113817973,"body_markdown":"As from Gradle 6.7 there is also `compileOnlyApi` dependency:\nhttps://docs.gradle.org/6.7/release-notes.html#new-dependency-management-features","body":"As from Gradle 6.7 there is also <code>compileOnlyApi</code> dependency: <a href=\"https://docs.gradle.org/6.7/release-notes.html#new-dependency-management-features\" rel=\"nofollow noreferrer\">docs.gradle.org/6.7/&hellip;</a>"},{"owner":{"account_id":1920862,"reputation":3756,"user_id":1732418,"accept_rate":53,"display_name":"tribbloid"},"score":0,"creation_date":1636328908,"post_id":54824150,"comment_id":123520487,"body_markdown":"Tried this, this yields &lt;scope&gt;compile&lt;/scope&gt;, not cool","body":"Tried this, this yields &lt;scope&gt;compile&lt;/scope&gt;, not cool"}],"tags":[],"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1673415675,"creation_date":1550828427,"answer_id":54824150,"question_id":30731084,"body_markdown":"As from Gradle 2.12, you can use the `compileOnly` option.\r\n\r\nSee \r\n\r\nhttps://blog.gradle.org/introducing-compile-only-dependencies","title":"&#39;Provided&#39; dependency in Gradle","body":"<p>As from Gradle 2.12, you can use the <code>compileOnly</code> option.</p>\n<p>See</p>\n<p><a href=\"https://blog.gradle.org/introducing-compile-only-dependencies\" rel=\"noreferrer\">https://blog.gradle.org/introducing-compile-only-dependencies</a></p>\n"},{"comments":[{"owner":{"account_id":7983379,"reputation":300,"user_id":6023830,"display_name":"fml2"},"score":0,"creation_date":1585060702,"post_id":56911325,"comment_id":107629589,"body_markdown":"IIUC &quot;compileOnly&quot; does not provide the lib for compiling and running tests. This is a pity.","body":"IIUC &quot;compileOnly&quot; does not provide the lib for compiling and running tests. This is a pity."},{"owner":{"account_id":1719341,"reputation":1451,"user_id":1575673,"accept_rate":87,"display_name":"Merk"},"score":1,"creation_date":1600223239,"post_id":56911325,"comment_id":113016881,"body_markdown":"@fml2 how so?  can&#39;t you use testCompileOnly &lt;dependency&gt; / testImplementation &lt;dependency&gt; etc.","body":"@fml2 how so?  can&#39;t you use testCompileOnly &lt;dependency&gt; / testImplementation &lt;dependency&gt; etc."},{"owner":{"account_id":7983379,"reputation":300,"user_id":6023830,"display_name":"fml2"},"score":2,"creation_date":1600357894,"post_id":56911325,"comment_id":113069351,"body_markdown":"Yes, I can. But it would be more convenient IMO if, by including a lib via `compileOnly`, I automatically could use it in the tests.","body":"Yes, I can. But it would be more convenient IMO if, by including a lib via <code>compileOnly</code>, I automatically could use it in the tests."}],"tags":[],"owner":{"account_id":4779952,"reputation":1434,"user_id":3862024,"accept_rate":100,"display_name":"gagarwa"},"comment_count":3,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1600238280,"creation_date":1562388775,"answer_id":56911325,"question_id":30731084,"body_markdown":"For further clarification, as of the latest version, Gradle 5.5 has `compileOnly` (same as `provided`) and `runtimeOnly` options.  The new default &quot;compile and runtime&quot; option is `implementation`.","title":"&#39;Provided&#39; dependency in Gradle","body":"<p>For further clarification, as of the latest version, Gradle 5.5 has <code>compileOnly</code> (same as <code>provided</code>) and <code>runtimeOnly</code> options.  The new default &quot;compile and runtime&quot; option is <code>implementation</code>.</p>\n"},{"tags":[],"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621975952,"creation_date":1621975952,"answer_id":67695469,"question_id":30731084,"body_markdown":"Updating the answer as per the latest gradle versions.\r\n\r\nFrom gradle&#39;s official documentation at below link:\r\n\r\nhttps://docs.gradle.org/current/userguide/upgrading_version_5.html\r\n\r\n&gt; ***Deprecations***\r\n&gt; \r\n&gt; **Dependencies should no longer be declared using the compile and runtime configurations. The usage of the compile and runtime\r\n&gt; configurations in the Java ecosystem plugins has been discouraged\r\n&gt; since Gradle 3.4.**\r\n&gt; \r\n&gt; **The implementation, api, compileOnly and runtimeOnly configurations should be used to declare dependencies and the compileClasspath and\r\n&gt; runtimeClasspath configurations to resolve dependencies.**\r\n\r\nMore so, the compile dependency configuration has been removed in the recently released Gradle 7.0 version.\r\n\r\nIf you try to use compile in your Gradle 3.4+ project you’ll get a warning like this:\r\n\r\n&gt; Deprecated Gradle features were used in this build, making it\r\n&gt; incompatible with Gradle 7.0. Use ‘–warning-mode all’ to show the\r\n&gt; individual deprecation warnings.\r\n\r\nYou should always use implementation rather than compile for dependencies, and use runtimeOnly instead of runtime.\r\n\r\n**War plugin**\r\n\r\n&gt; **The War plugin extends the Java plugin to add support for assembling web application WAR files. It disables the default JAR archive\r\n&gt; generation of the Java plugin and adds a default WAR archive task.**\r\n\r\nThe War plugin adds two dependency configurations:\r\n\r\n1.  providedCompile\r\n2.  providedRuntime\r\n\r\nAdding an entry to providedCompile or providedRuntime will cause that dependency to be excluded from the war file.\r\n\r\n 1. Use providedCompile if you have source that relies on some classes\r\n    for compiling.\r\n 2. Use providedRuntime if you use it for testing and not\r\n    compiling.\r\n\r\n**Example:**\r\n```\r\nprovidedCompile &#39;org.springframework.boot:spring-boot-starter-tomcat:1.1.6.RELEASE&#39;\r\n```\r\nThe above JAR and its transitive dependency will only be available at compile time but it will not be available at runtime. It means, those JAR will not be included in war archive.\r\n","title":"&#39;Provided&#39; dependency in Gradle","body":"<p>Updating the answer as per the latest gradle versions.</p>\n<p>From gradle's official documentation at below link:</p>\n<p><a href=\"https://docs.gradle.org/current/userguide/upgrading_version_5.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/upgrading_version_5.html</a></p>\n<blockquote>\n<p><em><strong>Deprecations</strong></em></p>\n<p><strong>Dependencies should no longer be declared using the compile and runtime configurations. The usage of the compile and runtime\nconfigurations in the Java ecosystem plugins has been discouraged\nsince Gradle 3.4.</strong></p>\n<p><strong>The implementation, api, compileOnly and runtimeOnly configurations should be used to declare dependencies and the compileClasspath and\nruntimeClasspath configurations to resolve dependencies.</strong></p>\n</blockquote>\n<p>More so, the compile dependency configuration has been removed in the recently released Gradle 7.0 version.</p>\n<p>If you try to use compile in your Gradle 3.4+ project you’ll get a warning like this:</p>\n<blockquote>\n<p>Deprecated Gradle features were used in this build, making it\nincompatible with Gradle 7.0. Use ‘–warning-mode all’ to show the\nindividual deprecation warnings.</p>\n</blockquote>\n<p>You should always use implementation rather than compile for dependencies, and use runtimeOnly instead of runtime.</p>\n<p><strong>War plugin</strong></p>\n<blockquote>\n<p><strong>The War plugin extends the Java plugin to add support for assembling web application WAR files. It disables the default JAR archive\ngeneration of the Java plugin and adds a default WAR archive task.</strong></p>\n</blockquote>\n<p>The War plugin adds two dependency configurations:</p>\n<ol>\n<li>providedCompile</li>\n<li>providedRuntime</li>\n</ol>\n<p>Adding an entry to providedCompile or providedRuntime will cause that dependency to be excluded from the war file.</p>\n<ol>\n<li>Use providedCompile if you have source that relies on some classes\nfor compiling.</li>\n<li>Use providedRuntime if you use it for testing and not\ncompiling.</li>\n</ol>\n<p><strong>Example:</strong></p>\n<pre><code>providedCompile 'org.springframework.boot:spring-boot-starter-tomcat:1.1.6.RELEASE'\n</code></pre>\n<p>The above JAR and its transitive dependency will only be available at compile time but it will not be available at runtime. It means, those JAR will not be included in war archive.</p>\n"}],"owner":{"account_id":1559437,"reputation":11728,"user_id":1449676,"accept_rate":37,"display_name":"ps-aux"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56122,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":30731538,"answer_count":4,"score":51,"last_activity_date":1673415675,"creation_date":1433850339,"question_id":30731084,"body_markdown":"I have `build.gradle` in front of me and there are some dependencies declared as `provided` but in [documentation][1] I do not see this dependency scope.\r\n\r\n    dependencies {\r\n        compile(&quot;org.springframework.boot:spring-boot-starter-web:1.2.4.RELEASE&quot;)\r\n        ....\r\n    \r\n    \tprovided &#39;backport-util-concurrent:backport-util-concurrent:3.1&#39;\r\n    \tprovided &#39;org.javolution:javolution:5.5.1@jar\r\n        ....\r\n    }\r\n\r\nIs this provided by a plugin? If so how do I found out which plugin this belongs to? \r\n\r\nWhat is the difference between `provided` and `runtime` dependency scope in Gradle?\r\n\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/artifact_dependencies_tutorial.html#N105A1","title":"&#39;Provided&#39; dependency in Gradle","body":"<p>I have <code>build.gradle</code> in front of me and there are some dependencies declared as <code>provided</code> but in <a href=\"https://docs.gradle.org/current/userguide/artifact_dependencies_tutorial.html#N105A1\" rel=\"noreferrer\">documentation</a> I do not see this dependency scope.</p>\n\n<pre><code>dependencies {\n    compile(\"org.springframework.boot:spring-boot-starter-web:1.2.4.RELEASE\")\n    ....\n\n    provided 'backport-util-concurrent:backport-util-concurrent:3.1'\n    provided 'org.javolution:javolution:5.5.1@jar\n    ....\n}\n</code></pre>\n\n<p>Is this provided by a plugin? If so how do I found out which plugin this belongs to? </p>\n\n<p>What is the difference between <code>provided</code> and <code>runtime</code> dependency scope in Gradle?</p>\n"},{"tags":["java","spring","spring-security","spring-boot","oauth-2.0"],"answers":[{"comments":[{"owner":{"account_id":7830507,"reputation":2154,"user_id":7220869,"accept_rate":62,"display_name":"JayC"},"score":0,"creation_date":1492002675,"post_id":37595818,"comment_id":73802809,"body_markdown":"Is there any other way instead of pulling the data using @value and setting up oauthRestTemplate?","body":"Is there any other way instead of pulling the data using @value and setting up oauthRestTemplate?"},{"owner":{"account_id":3566598,"reputation":420,"user_id":2977945,"display_name":"noobdeveloper"},"score":0,"creation_date":1515738909,"post_id":37595818,"comment_id":83423090,"body_markdown":"@CarlosAlberto Hi do you have the full project for this. I also need the same.","body":"@CarlosAlberto Hi do you have the full project for this. I also need the same."},{"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"score":0,"creation_date":1525357635,"post_id":37595818,"comment_id":87332770,"body_markdown":"In the resource server configuration, how do we set the userInfoUrl programatically?  Like is there a way to set it in the `ClientCredentialsResourceDetails` or some other object?","body":"In the resource server configuration, how do we set the userInfoUrl programatically?  Like is there a way to set it in the <code>ClientCredentialsResourceDetails</code> or some other object?"},{"owner":{"account_id":49931,"reputation":25463,"user_id":148844,"accept_rate":67,"display_name":"Chloe"},"score":0,"creation_date":1533059754,"post_id":37595818,"comment_id":90204285,"body_markdown":"Where do you put `public DataSource secondaryDataSource()`? I tried two different places and both gave an error.","body":"Where do you put <code>public DataSource secondaryDataSource()</code>? I tried two different places and both gave an error."},{"owner":{"account_id":15684159,"reputation":151,"user_id":11317335,"display_name":"denfri.dev"},"score":0,"creation_date":1599732449,"post_id":37595818,"comment_id":112867284,"body_markdown":"Is the oauth2 database / table automatically created? Can you post the configuration proeprties for &quot;datasource.oauth&quot; as well?","body":"Is the oauth2 database / table automatically created? Can you post the configuration proeprties for &quot;datasource.oauth&quot; as well?"},{"owner":{"account_id":15684159,"reputation":151,"user_id":11317335,"display_name":"denfri.dev"},"score":0,"creation_date":1599829252,"post_id":37595818,"comment_id":112903842,"body_markdown":"how can i use this with an InMemoryTokenStore instead of a JdbcTokenStore?","body":"how can i use this with an InMemoryTokenStore instead of a JdbcTokenStore?"}],"tags":[],"owner":{"account_id":1248262,"reputation":2068,"user_id":1209256,"display_name":"JohanB"},"comment_count":6,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1464880528,"creation_date":1464880528,"answer_id":37595818,"question_id":37534073,"body_markdown":"We have REST services protected with Oauth2 Client credentials scheme. The Resource and authorization service are running in the same app, but can be split into different apps.\r\n\r\n    @Configuration\r\n    public class SecurityConfig {\r\n\r\n    @Configuration\r\n    @EnableResourceServer\r\n    protected static class ResourceServer extends ResourceServerConfigurerAdapter {\r\n\r\n        // Identifies this resource server. Usefull if the AuthorisationServer authorises multiple Resource servers\r\n        private static final String RESOURCE_ID = &quot;*****&quot;;\r\n\r\n        @Resource(name = &quot;OAuth&quot;)\r\n        @Autowired\r\n        DataSource dataSource;\r\n\r\n        @Override\r\n        public void configure(HttpSecurity http) throws Exception {\r\n            // @formatter:off\r\n            http    \r\n                    .authorizeRequests().anyRequest().authenticated();\r\n            // @formatter:on\r\n        }\r\n\r\n        @Override\r\n        public void configure(ResourceServerSecurityConfigurer resources) throws Exception {\r\n            resources.resourceId(RESOURCE_ID);\r\n            resources.tokenStore(tokenStore());\r\n        }\r\n\r\n        @Bean\r\n        public TokenStore tokenStore() {\r\n            return new JdbcTokenStore(dataSource);\r\n        }\r\n    }\r\n\r\n    @Configuration\r\n    @EnableAuthorizationServer\r\n    protected static class AuthorizationServerConfiguration extends AuthorizationServerConfigurerAdapter {\r\n\r\n        @Resource(name = &quot;OAuth&quot;)\r\n        @Autowired\r\n        DataSource dataSource;\r\n\r\n        @Bean\r\n        public TokenStore tokenStore() {\r\n            return new JdbcTokenStore(dataSource);\r\n        }\r\n\r\n        @Override\r\n        public void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\r\n            endpoints.tokenStore(tokenStore());\r\n        }\r\n\r\n        @Override\r\n        public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\r\n            clients.jdbc(dataSource);\r\n        }\r\n    }\r\n    }\r\n\r\nDatasource config for the Oauth2 tables:\r\n\r\n    @Bean(name = &quot;OAuth&quot;)\r\n    @ConfigurationProperties(prefix=&quot;datasource.oauth&quot;)\r\n    public DataSource secondaryDataSource() {\r\n        return DataSourceBuilder.create().build();\r\n    }\r\n\r\nCommunicating with authentication &amp; resource server goes as followed\r\n\r\n    curl -H &quot;Accept: application/json&quot; user:password@localhost:8080/oauth/token -d grant_type=client_credentials\r\n    curl -H &quot;Authorization: Bearer token&quot; localhost:8080/...\r\n\r\nThe following record is present in the Oauth2 Database:\r\n\r\n    client_id  resource_ids  client_secret  scope  authorized_grant_types\tweb_server_redirect_uri  authorities  access_token_validity\trefresh_token_validity  additional_information  autoapprove\r\n    user  ****  password  NULL  client_credentials  NULL  X  NULL  NULL  NULL  NULL\r\n\r\n\r\nResttemplate configuration in client application\r\n\r\n    @Configuration\r\n    @EnableOAuth2Client\r\n    public class OAuthConfig {\r\n\r\n    @Value(&quot;${OAuth2ClientId}&quot;)\r\n    private String oAuth2ClientId;\r\n\r\n    @Value(&quot;${OAuth2ClientSecret}&quot;)\r\n    private String oAuth2ClientSecret;\r\n\r\n    @Value(&quot;${Oauth2AccesTokenUri}&quot;)\r\n    private String accessTokenUri;\r\n\r\n    @Bean\r\n    public RestTemplate oAuthRestTemplate() {\r\n        ClientCredentialsResourceDetails resourceDetails = new ClientCredentialsResourceDetails();\r\n        resourceDetails.setId(&quot;1&quot;);\r\n        resourceDetails.setClientId(oAuth2ClientId);\r\n        resourceDetails.setClientSecret(oAuth2ClientSecret);\r\n        resourceDetails.setAccessTokenUri(accessTokenUri);\r\n\r\n        /*\r\n\r\n        When using @EnableOAuth2Client spring creates a OAuth2ClientContext for us:\r\n\r\n        &quot;The OAuth2ClientContext is placed (for you) in session scope to keep the state for different users separate.\r\n        Without that you would have to manage the equivalent data structure yourself on the server,\r\n        mapping incoming requests to users, and associating each user with a separate instance of the OAuth2ClientContext.&quot;\r\n        (http://projects.spring.io/spring-security-oauth/docs/oauth2.html#client-configuration)\r\n\r\n        Internally the SessionScope works with a threadlocal to store variables, hence a new thread cannot access those.\r\n        Therefore we can not use @Async\r\n\r\n        Solution: create a new OAuth2ClientContext that has no scope.\r\n        *Note: this is only safe when using client_credentials as OAuth grant type!\r\n\r\n         */\r\n\r\n    //        OAuth2RestTemplate restTemplate = new      OAuth2RestTemplate(resourceDetails, oauth2ClientContext);\r\n        OAuth2RestTemplate restTemplate = new OAuth2RestTemplate(resourceDetails, new DefaultOAuth2ClientContext());\r\n\r\n        return restTemplate;\r\n    }\r\n    }\r\n\r\nYou can inject the restTemplate to talk (Asynchronously) to the Oauth2 secured service.\r\nWe do not use scope at the moment.","title":"Spring Boot + Oauth2 client credentials","body":"<p>We have REST services protected with Oauth2 Client credentials scheme. The Resource and authorization service are running in the same app, but can be split into different apps.</p>\n\n<pre><code>@Configuration\npublic class SecurityConfig {\n\n@Configuration\n@EnableResourceServer\nprotected static class ResourceServer extends ResourceServerConfigurerAdapter {\n\n    // Identifies this resource server. Usefull if the AuthorisationServer authorises multiple Resource servers\n    private static final String RESOURCE_ID = \"*****\";\n\n    @Resource(name = \"OAuth\")\n    @Autowired\n    DataSource dataSource;\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        // @formatter:off\n        http    \n                .authorizeRequests().anyRequest().authenticated();\n        // @formatter:on\n    }\n\n    @Override\n    public void configure(ResourceServerSecurityConfigurer resources) throws Exception {\n        resources.resourceId(RESOURCE_ID);\n        resources.tokenStore(tokenStore());\n    }\n\n    @Bean\n    public TokenStore tokenStore() {\n        return new JdbcTokenStore(dataSource);\n    }\n}\n\n@Configuration\n@EnableAuthorizationServer\nprotected static class AuthorizationServerConfiguration extends AuthorizationServerConfigurerAdapter {\n\n    @Resource(name = \"OAuth\")\n    @Autowired\n    DataSource dataSource;\n\n    @Bean\n    public TokenStore tokenStore() {\n        return new JdbcTokenStore(dataSource);\n    }\n\n    @Override\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\n        endpoints.tokenStore(tokenStore());\n    }\n\n    @Override\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n        clients.jdbc(dataSource);\n    }\n}\n}\n</code></pre>\n\n<p>Datasource config for the Oauth2 tables:</p>\n\n<pre><code>@Bean(name = \"OAuth\")\n@ConfigurationProperties(prefix=\"datasource.oauth\")\npublic DataSource secondaryDataSource() {\n    return DataSourceBuilder.create().build();\n}\n</code></pre>\n\n<p>Communicating with authentication &amp; resource server goes as followed</p>\n\n<pre><code>curl -H \"Accept: application/json\" user:password@localhost:8080/oauth/token -d grant_type=client_credentials\ncurl -H \"Authorization: Bearer token\" localhost:8080/...\n</code></pre>\n\n<p>The following record is present in the Oauth2 Database:</p>\n\n<pre><code>client_id  resource_ids  client_secret  scope  authorized_grant_types   web_server_redirect_uri  authorities  access_token_validity refresh_token_validity  additional_information  autoapprove\nuser  ****  password  NULL  client_credentials  NULL  X  NULL  NULL  NULL  NULL\n</code></pre>\n\n<p>Resttemplate configuration in client application</p>\n\n<pre><code>@Configuration\n@EnableOAuth2Client\npublic class OAuthConfig {\n\n@Value(\"${OAuth2ClientId}\")\nprivate String oAuth2ClientId;\n\n@Value(\"${OAuth2ClientSecret}\")\nprivate String oAuth2ClientSecret;\n\n@Value(\"${Oauth2AccesTokenUri}\")\nprivate String accessTokenUri;\n\n@Bean\npublic RestTemplate oAuthRestTemplate() {\n    ClientCredentialsResourceDetails resourceDetails = new ClientCredentialsResourceDetails();\n    resourceDetails.setId(\"1\");\n    resourceDetails.setClientId(oAuth2ClientId);\n    resourceDetails.setClientSecret(oAuth2ClientSecret);\n    resourceDetails.setAccessTokenUri(accessTokenUri);\n\n    /*\n\n    When using @EnableOAuth2Client spring creates a OAuth2ClientContext for us:\n\n    \"The OAuth2ClientContext is placed (for you) in session scope to keep the state for different users separate.\n    Without that you would have to manage the equivalent data structure yourself on the server,\n    mapping incoming requests to users, and associating each user with a separate instance of the OAuth2ClientContext.\"\n    (http://projects.spring.io/spring-security-oauth/docs/oauth2.html#client-configuration)\n\n    Internally the SessionScope works with a threadlocal to store variables, hence a new thread cannot access those.\n    Therefore we can not use @Async\n\n    Solution: create a new OAuth2ClientContext that has no scope.\n    *Note: this is only safe when using client_credentials as OAuth grant type!\n\n     */\n\n//        OAuth2RestTemplate restTemplate = new      OAuth2RestTemplate(resourceDetails, oauth2ClientContext);\n    OAuth2RestTemplate restTemplate = new OAuth2RestTemplate(resourceDetails, new DefaultOAuth2ClientContext());\n\n    return restTemplate;\n}\n}\n</code></pre>\n\n<p>You can inject the restTemplate to talk (Asynchronously) to the Oauth2 secured service.\nWe do not use scope at the moment.</p>\n"},{"comments":[{"owner":{"account_id":1306358,"reputation":42103,"user_id":1255289,"accept_rate":89,"display_name":"miken32"},"score":0,"creation_date":1673389679,"post_id":75076363,"comment_id":132487195,"body_markdown":"Answers on Stack Overflow must stand alone without reference to external sites. If additional links to external sites are added to content, they must follow [promotion guidelines](https://stackoverflow.com/help/promotion)","body":"Answers on Stack Overflow must stand alone without reference to external sites. If additional links to external sites are added to content, they must follow <a href=\"https://stackoverflow.com/help/promotion\">promotion guidelines</a>"}],"tags":[],"owner":{"account_id":22489106,"reputation":179,"user_id":16687077,"display_name":"Jason Chuang"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673414255,"creation_date":1673388480,"answer_id":75076363,"question_id":37534073,"body_markdown":"Update with Spring-boot-2.7 and Java 17.\r\n\r\nhttps://chuangtc.com/Java/spring-boot-27-security-social-login.php\r\n\r\n\r\n    public class SecurityConfig {\r\n    \r\n    @Value(&quot;${spring.social.facebook.appSecret}&quot;)\r\n    String appSecret;\r\n    \r\n    @Value(&quot;${spring.social.facebook.appId}&quot;)\r\n    String appId;\r\n\r\n    @Autowired\r\n    private UserDetailsService userDetailsService;\r\n\r\n    @Autowired\r\n    private FacebookConnectionSignup facebookConnectionSignup;\r\n\r\n    @Bean\r\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\r\n        return http.getSharedObject(AuthenticationManagerBuilder.class)\r\n            .userDetailsService(userDetailsService)\r\n            .and()\r\n            .build();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.csrf()\r\n            .disable()\r\n            .authorizeRequests()\r\n            .antMatchers(&quot;/login*&quot;, &quot;/signin/**&quot;, &quot;/signup/**&quot;)\r\n            .permitAll()\r\n            .anyRequest()\r\n            .authenticated()\r\n            .and()\r\n            .formLogin()\r\n            .loginPage(&quot;/login&quot;)\r\n            .permitAll()\r\n            .and()\r\n            .logout();\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    // @Primary\r\n    public ProviderSignInController providerSignInController() {\r\n        ConnectionFactoryLocator connectionFactoryLocator = connectionFactoryLocator();\r\n        UsersConnectionRepository usersConnectionRepository = getUsersConnectionRepository(connectionFactoryLocator);\r\n        ((InMemoryUsersConnectionRepository) usersConnectionRepository).setConnectionSignUp(facebookConnectionSignup);\r\n        return new ProviderSignInController(connectionFactoryLocator, usersConnectionRepository, new FacebookSignInAdapter());\r\n    }\r\n    \r\n    private ConnectionFactoryLocator connectionFactoryLocator() {\r\n        ConnectionFactoryRegistry registry = new ConnectionFactoryRegistry();\r\n        registry.addConnectionFactory(new FacebookConnectionFactory(appId, appSecret));\r\n        return registry;\r\n    }\r\n\r\n    private UsersConnectionRepository getUsersConnectionRepository(ConnectionFactoryLocator connectionFactoryLocator) {\r\n        return new InMemoryUsersConnectionRepository(connectionFactoryLocator);\r\n    }\r\n}\r\n\r\nFacebookSignInAdapter\r\n\r\n    @Service\r\n    public class FacebookSignInAdapter implements SignInAdapter {\r\n    @Override\r\n    public String signIn(String localUserId, Connection&lt;?&gt; connection, NativeWebRequest request) {\r\n        System.out.println(&quot; ====== Sign In adapter&quot;);\r\n        SecurityContextHolder.getContext().setAuthentication(new UsernamePasswordAuthenticationToken(connection.getDisplayName(), null, Arrays.asList(new SimpleGrantedAuthority(&quot;FACEBOOK_USER&quot;))));\r\n        return null;\r\n    }\r\n    }\r\n    \r\n\r\n","title":"Spring Boot + Oauth2 client credentials","body":"<p>Update with Spring-boot-2.7 and Java 17.</p>\n<p><a href=\"https://chuangtc.com/Java/spring-boot-27-security-social-login.php\" rel=\"nofollow noreferrer\">https://chuangtc.com/Java/spring-boot-27-security-social-login.php</a></p>\n<pre><code>public class SecurityConfig {\n\n@Value(&quot;${spring.social.facebook.appSecret}&quot;)\nString appSecret;\n\n@Value(&quot;${spring.social.facebook.appId}&quot;)\nString appId;\n\n@Autowired\nprivate UserDetailsService userDetailsService;\n\n@Autowired\nprivate FacebookConnectionSignup facebookConnectionSignup;\n\n@Bean\npublic AuthenticationManager authManager(HttpSecurity http) throws Exception {\n    return http.getSharedObject(AuthenticationManagerBuilder.class)\n        .userDetailsService(userDetailsService)\n        .and()\n        .build();\n}\n\n@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.csrf()\n        .disable()\n        .authorizeRequests()\n        .antMatchers(&quot;/login*&quot;, &quot;/signin/**&quot;, &quot;/signup/**&quot;)\n        .permitAll()\n        .anyRequest()\n        .authenticated()\n        .and()\n        .formLogin()\n        .loginPage(&quot;/login&quot;)\n        .permitAll()\n        .and()\n        .logout();\n    return http.build();\n}\n\n@Bean\n// @Primary\npublic ProviderSignInController providerSignInController() {\n    ConnectionFactoryLocator connectionFactoryLocator = connectionFactoryLocator();\n    UsersConnectionRepository usersConnectionRepository = getUsersConnectionRepository(connectionFactoryLocator);\n    ((InMemoryUsersConnectionRepository) usersConnectionRepository).setConnectionSignUp(facebookConnectionSignup);\n    return new ProviderSignInController(connectionFactoryLocator, usersConnectionRepository, new FacebookSignInAdapter());\n}\n\nprivate ConnectionFactoryLocator connectionFactoryLocator() {\n    ConnectionFactoryRegistry registry = new ConnectionFactoryRegistry();\n    registry.addConnectionFactory(new FacebookConnectionFactory(appId, appSecret));\n    return registry;\n}\n\nprivate UsersConnectionRepository getUsersConnectionRepository(ConnectionFactoryLocator connectionFactoryLocator) {\n    return new InMemoryUsersConnectionRepository(connectionFactoryLocator);\n}\n</code></pre>\n<p>}</p>\n<p>FacebookSignInAdapter</p>\n<pre><code>@Service\npublic class FacebookSignInAdapter implements SignInAdapter {\n@Override\npublic String signIn(String localUserId, Connection&lt;?&gt; connection, NativeWebRequest request) {\n    System.out.println(&quot; ====== Sign In adapter&quot;);\n    SecurityContextHolder.getContext().setAuthentication(new UsernamePasswordAuthenticationToken(connection.getDisplayName(), null, Arrays.asList(new SimpleGrantedAuthority(&quot;FACEBOOK_USER&quot;))));\n    return null;\n}\n}\n</code></pre>\n"}],"owner":{"account_id":1920479,"reputation":7969,"user_id":1732123,"accept_rate":89,"display_name":"Carlos Alberto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43411,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":37595818,"answer_count":2,"score":32,"last_activity_date":1673414255,"creation_date":1464645272,"question_id":37534073,"body_markdown":"I am trying to protect my microservices on Spring Boot using Oath2 with Client Credentials flow. \r\n\r\nBy the way, those microservices will only talk each other over the middleware layer, I mean no user credentials are needed to allow the authorization (user login process as Facebook). \r\n\r\nI have looked for samples on the Internet showing how to create an authorization and resource server to manage this communication. However I just found examples explaining how to do it using user credentials (three legs). \r\n\r\nDoes anyone have any sample how to do it in Spring Boot and Oauth2? If it is possible give further details about the scopes used, token exchanging would be grateful.\r\n\r\n","title":"Spring Boot + Oauth2 client credentials","body":"<p>I am trying to protect my microservices on Spring Boot using Oath2 with Client Credentials flow. </p>\n\n<p>By the way, those microservices will only talk each other over the middleware layer, I mean no user credentials are needed to allow the authorization (user login process as Facebook). </p>\n\n<p>I have looked for samples on the Internet showing how to create an authorization and resource server to manage this communication. However I just found examples explaining how to do it using user credentials (three legs). </p>\n\n<p>Does anyone have any sample how to do it in Spring Boot and Oauth2? If it is possible give further details about the scopes used, token exchanging would be grateful.</p>\n"},{"tags":["java","java-8","dns"],"comments":[{"owner":{"account_id":8493198,"reputation":11341,"user_id":6368697,"display_name":"Patrick Mevzek"},"score":0,"creation_date":1612451710,"post_id":66043999,"comment_id":116775998,"body_markdown":"Any proper DNS library should be fine doing requests for `CAA` records or any other type. But recommendations are offtopic here.","body":"Any proper DNS library should be fine doing requests for <code>CAA</code> records or any other type. But recommendations are offtopic here."},{"owner":{"account_id":1018067,"reputation":121,"user_id":1029162,"display_name":"thomas.schuerger"},"score":0,"creation_date":1612457068,"post_id":66043999,"comment_id":116778853,"body_markdown":"I would prefer using built-in functionality if possible, but some additional library would also be an option. I&#39;m also happy about recommendations...","body":"I would prefer using built-in functionality if possible, but some additional library would also be an option. I&#39;m also happy about recommendations..."},{"owner":{"account_id":13355166,"reputation":2553,"user_id":9638991,"display_name":"kimbo"},"score":1,"creation_date":1612504205,"post_id":66043999,"comment_id":116792580,"body_markdown":"DNS libraries for android that I know of (but haven&#39;t used extensively) are dnsjava and minidns, both are on GitHub.","body":"DNS libraries for android that I know of (but haven&#39;t used extensively) are dnsjava and minidns, both are on GitHub."},{"owner":{"account_id":1018067,"reputation":121,"user_id":1029162,"display_name":"thomas.schuerger"},"score":0,"creation_date":1612515703,"post_id":66043999,"comment_id":116796162,"body_markdown":"Does any version later than Java 8 have built-in support for CAA records?","body":"Does any version later than Java 8 have built-in support for CAA records?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1672719532,"post_id":66043999,"comment_id":132333487,"body_markdown":"Nope.  Not even Java 19.","body":"Nope.  Not even Java 19."}],"answers":[{"comments":[{"owner":{"account_id":7840930,"reputation":65,"user_id":5927498,"accept_rate":43,"display_name":"Sudhir Tiwari"},"score":0,"creation_date":1672729070,"post_id":74989036,"comment_id":132334871,"body_markdown":"In Google search, all results are related to create CAA record but I want to fetch list of CAA record for hostname which we can get using Linux command &quot;dig caa geekflare.com&quot;. Is there any way I can get using JAVA InitialDirContext and fetch all CAA records.","body":"In Google search, all results are related to create CAA record but I want to fetch list of CAA record for hostname which we can get using Linux command &quot;dig caa geekflare.com&quot;. Is there any way I can get using JAVA InitialDirContext and fetch all CAA records."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1672729566,"post_id":74989036,"comment_id":132334960,"body_markdown":"1) I found 3rd-party Java DNS libraries that support CAA records.  Keep looking. 2) AFAIK, no.","body":"1) I found 3rd-party Java DNS libraries that support CAA records.  Keep looking. 2) AFAIK, no."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673414130,"creation_date":1672719979,"answer_id":74989036,"question_id":66043999,"body_markdown":"For the record, Java still does not support CAA records.  Not even in Java 19 - the latest as of 2023-01-03.\r\n\r\nI can&#39;t find any references to this in the Java Bugs Database, so I am guessing that this won&#39;t be a priority for the Java team.\r\n\r\nRecommendations for alternative Java DNS libraries are **off-topic**.  However, if you Google for `java caa record` and you should see some promising search hits.  For example, the &quot;dnsjava&quot; / &quot;org.xbill.DNS&quot; library.\r\n","title":"How can I lookup CAA DNS records in Java 8?","body":"<p>For the record, Java still does not support CAA records.  Not even in Java 19 - the latest as of 2023-01-03.</p>\n<p>I can't find any references to this in the Java Bugs Database, so I am guessing that this won't be a priority for the Java team.</p>\n<p>Recommendations for alternative Java DNS libraries are <strong>off-topic</strong>.  However, if you Google for <code>java caa record</code> and you should see some promising search hits.  For example, the &quot;dnsjava&quot; / &quot;org.xbill.DNS&quot; library.</p>\n"},{"tags":[],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672766830,"creation_date":1672766830,"answer_id":74996670,"question_id":66043999,"body_markdown":"As suggested above, you could use [dnsjava][1]. It&#39;s stable, very easy to handle and minimal requirement is Java8.\r\n\r\nJust a quick-and-dirty example:\r\n\r\n    public static void main(String[] args) throws TextParseException {\r\n\t\tRecord[] records = new Lookup(&quot;google.com&quot;, Type.CAA).run();\r\n\t\tSystem.out.println(records[0]);\r\n\t}\r\n\r\n\r\n  [1]: https://github.com/dnsjava/dnsjava","title":"How can I lookup CAA DNS records in Java 8?","body":"<p>As suggested above, you could use <a href=\"https://github.com/dnsjava/dnsjava\" rel=\"nofollow noreferrer\">dnsjava</a>. It's stable, very easy to handle and minimal requirement is Java8.</p>\n<p>Just a quick-and-dirty example:</p>\n<pre><code>public static void main(String[] args) throws TextParseException {\n    Record[] records = new Lookup(&quot;google.com&quot;, Type.CAA).run();\n    System.out.println(records[0]);\n}\n</code></pre>\n"}],"owner":{"account_id":1018067,"reputation":121,"user_id":1029162,"display_name":"thomas.schuerger"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1673414130,"creation_date":1612435390,"question_id":66043999,"body_markdown":"What is the best way to look up CAA DNS records in Java 8?\r\n\r\nLooking up CAA records using the InitialDirContext fails, since CAA records are not (yet) supported.\r\n\r\nFor example, using\r\n\r\n```\r\nInitialDirContext context  = new InitialDirContext();\r\nAttributes = context.getAttributes(&quot;dns:/&quot; + domain + &quot;.&quot;, new String[] { &quot;CAA&quot; });\r\n```\r\n\r\nfails with\r\n\r\n```\r\njavax.naming.directory.InvalidAttributeIdentifierException: Unknown resource record type &#39;CAA&#39;\r\n\tat com.sun.jndi.dns.DnsContext.fromAttrId(DnsContext.java:714)\r\n\tat com.sun.jndi.dns.DnsContext.attrIdsToClassesAndTypes(DnsContext.java:735)\r\n\tat com.sun.jndi.dns.DnsContext.c_getAttributes(DnsContext.java:431)\r\n\tat com.sun.jndi.toolkit.ctx.ComponentDirContext.p_getAttributes(ComponentDirContext.java:235)\r\n\tat com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.getAttributes(PartialCompositeDirContext.java:141)\r\n\tat com.sun.jndi.toolkit.url.GenericURLDirContext.getAttributes(GenericURLDirContext.java:103)\r\n\tat javax.naming.directory.InitialDirContext.getAttributes(InitialDirContext.java:142)\r\n```\r\n\r\n(this works fine with other record types, like A, AAAA or CNAME)\r\n\r\nIs there any other way to do this using vanilla Java 8? If not, which third-party libraries could be used?","title":"How can I lookup CAA DNS records in Java 8?","body":"<p>What is the best way to look up CAA DNS records in Java 8?</p>\n<p>Looking up CAA records using the InitialDirContext fails, since CAA records are not (yet) supported.</p>\n<p>For example, using</p>\n<pre><code>InitialDirContext context  = new InitialDirContext();\nAttributes = context.getAttributes(&quot;dns:/&quot; + domain + &quot;.&quot;, new String[] { &quot;CAA&quot; });\n</code></pre>\n<p>fails with</p>\n<pre><code>javax.naming.directory.InvalidAttributeIdentifierException: Unknown resource record type 'CAA'\n    at com.sun.jndi.dns.DnsContext.fromAttrId(DnsContext.java:714)\n    at com.sun.jndi.dns.DnsContext.attrIdsToClassesAndTypes(DnsContext.java:735)\n    at com.sun.jndi.dns.DnsContext.c_getAttributes(DnsContext.java:431)\n    at com.sun.jndi.toolkit.ctx.ComponentDirContext.p_getAttributes(ComponentDirContext.java:235)\n    at com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.getAttributes(PartialCompositeDirContext.java:141)\n    at com.sun.jndi.toolkit.url.GenericURLDirContext.getAttributes(GenericURLDirContext.java:103)\n    at javax.naming.directory.InitialDirContext.getAttributes(InitialDirContext.java:142)\n</code></pre>\n<p>(this works fine with other record types, like A, AAAA or CNAME)</p>\n<p>Is there any other way to do this using vanilla Java 8? If not, which third-party libraries could be used?</p>\n"},{"tags":["java","asynchronous","httpclient","java-http-client"],"comments":[{"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"score":0,"creation_date":1635250194,"post_id":69704666,"comment_id":123241334,"body_markdown":"`exceptionallyAsync` may not be the method you need. This method is useful if you want to return an alternate result when an exception happens. But is it what you want to do? Please clarify your question to explain what you want to do when an exception happens.","body":"<code>exceptionallyAsync</code> may not be the method you need. This method is useful if you want to return an alternate result when an exception happens. But is it what you want to do? Please clarify your question to explain what you want to do when an exception happens."},{"owner":{"account_id":1473667,"reputation":557,"user_id":1384608,"accept_rate":0,"display_name":"Hollow.Quincy"},"score":0,"creation_date":1635340000,"post_id":69704666,"comment_id":123270884,"body_markdown":"I would like to call my custom code when I have exception/timeout.","body":"I would like to call my custom code when I have exception/timeout."},{"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"score":0,"creation_date":1635412640,"post_id":69704666,"comment_id":123293022,"body_markdown":"Then `whenCompleteAsync` [1] is probably what you are looking for.\n[1] https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#whenCompleteAsync(java.util.function.BiConsumer)","body":"Then <code>whenCompleteAsync</code> [1] is probably what you are looking for. [1] <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#whenCompleteAsync(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":242650,"reputation":1341,"user_id":514308,"display_name":"emicklei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673414035,"creation_date":1673414035,"answer_id":75078574,"question_id":69704666,"body_markdown":"You can use \r\n```\r\n.exceptionally(this::handlError)\r\n```\r\nIf `this` is your response handler with a method like:\r\n\r\n```\r\n    private Void handlError(Throwable ex) {\r\n        System.out.println(ex.toString());\r\n        return null;\r\n    }\r\n```","title":"java HttpClient asynchronous error handling","body":"<p>You can use</p>\n<pre><code>.exceptionally(this::handlError)\n</code></pre>\n<p>If <code>this</code> is your response handler with a method like:</p>\n<pre><code>    private Void handlError(Throwable ex) {\n        System.out.println(ex.toString());\n        return null;\n    }\n</code></pre>\n"}],"owner":{"account_id":1473667,"reputation":557,"user_id":1384608,"accept_rate":0,"display_name":"Hollow.Quincy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673414035,"creation_date":1635149307,"question_id":69704666,"body_markdown":"I want to use Java Http Client: `java.net.http.HttpClient` in asynchronous way.\r\nWhen I receive http response (any http code) or timeout I want to execute some custom Java code. I struggle to complete the body of error handling. \r\n\r\n\r\n    CompletableFuture&lt;HttpResponse&lt;String&gt;&gt; response =\r\n    httpClient.sendAsync(request, HttpResponse.BodyHandlers.ofString())\r\n      .thenApplyAsync(body -&gt; {\r\n        System.out.println(&quot;Request finished&quot;);\r\n        return body;\r\n      })\r\n      .exceptionallyAsync(exception -&gt; {\r\n    \r\n         // WHAT TO RETURN HERE ?      \r\n      });\r\n\r\nThe method: `exceptionallyAsync` returns: `CompletableFuture&lt;T&gt;`, but I do not know how to complete this method. \r\n\r\nCan you please help me to finish this method? I cannot find example in GitHub or Google. \r\n\r\n","title":"java HttpClient asynchronous error handling","body":"<p>I want to use Java Http Client: <code>java.net.http.HttpClient</code> in asynchronous way.\nWhen I receive http response (any http code) or timeout I want to execute some custom Java code. I struggle to complete the body of error handling.</p>\n<pre><code>CompletableFuture&lt;HttpResponse&lt;String&gt;&gt; response =\nhttpClient.sendAsync(request, HttpResponse.BodyHandlers.ofString())\n  .thenApplyAsync(body -&gt; {\n    System.out.println(&quot;Request finished&quot;);\n    return body;\n  })\n  .exceptionallyAsync(exception -&gt; {\n\n     // WHAT TO RETURN HERE ?      \n  });\n</code></pre>\n<p>The method: <code>exceptionallyAsync</code> returns: <code>CompletableFuture&lt;T&gt;</code>, but I do not know how to complete this method.</p>\n<p>Can you please help me to finish this method? I cannot find example in GitHub or Google.</p>\n"},{"tags":["java","jstack"],"answers":[{"comments":[{"owner":{"account_id":6629894,"reputation":1,"user_id":5118898,"display_name":"wsss"},"score":0,"creation_date":1673419362,"post_id":75078275,"comment_id":132491844,"body_markdown":"Java Thread state is `WAITING` ,why OS Thread state is  `runnable`? Shouldn&#39;t they be the same?","body":"Java Thread state is <code>WAITING</code> ,why OS Thread state is  <code>runnable</code>? Shouldn&#39;t they be the same?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1673419435,"post_id":75078275,"comment_id":132491862,"body_markdown":"Why *should* they be the same?  They represent different things.   Clearly they aren&#39;t the same, and the simplest explanation for that is that they *do* mean different things!","body":"Why <i>should</i> they be the same?  They represent different things.   Clearly they aren&#39;t the same, and the simplest explanation for that is that they <i>do</i> mean different things!"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673412629,"creation_date":1673410463,"answer_id":75078275,"question_id":75078245,"body_markdown":"There are two distinct thread states.  The first line is showing the thread state for the (OS) native thread.  The second line is showing the Java `Thread` state.\r\n\r\nThese are different &quot;state&quot; values with different meanings.\r\n\r\nNote that only the 2nd `Thread` state has a specified meaning from the respect of the Java specifications.  The javadocs for `Thread` say what `WAITING` means.\r\n\r\nThe first one is operating system dependent, and its meaning is operating system dependent.","title":"ThreadDump:why thread state show different","body":"<p>There are two distinct thread states.  The first line is showing the thread state for the (OS) native thread.  The second line is showing the Java <code>Thread</code> state.</p>\n<p>These are different &quot;state&quot; values with different meanings.</p>\n<p>Note that only the 2nd <code>Thread</code> state has a specified meaning from the respect of the Java specifications.  The javadocs for <code>Thread</code> say what <code>WAITING</code> means.</p>\n<p>The first one is operating system dependent, and its meaning is operating system dependent.</p>\n"}],"owner":{"account_id":6629894,"reputation":1,"user_id":5118898,"display_name":"wsss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673412629,"creation_date":1673410085,"question_id":75078245,"body_markdown":"```\r\n&quot;RVNUSDT-InstrumentAggregation&quot; #168 prio=5 os_prio=0 tid=0x00007fba795e3000 nid=0x22be runnable [0x00007fb9c41c0000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\t- parking to wait for  &lt;0x00000005c1409df0&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\r\n\tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n\tat java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\r\n\tat java.util.concurrent.PriorityBlockingQueue.take(PriorityBlockingQueue.java:550)\r\n\tat com.superatomfin.athena.feed.InstrumentAggregation.run(InstrumentAggregation.java:51)\r\n```\r\n\r\nfirst line show thread is runable,but second line show thread is waitting\r\n\r\n\r\nwhy thread state is different\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/K0xp5.png","title":"ThreadDump:why thread state show different","body":"<pre><code>&quot;RVNUSDT-InstrumentAggregation&quot; #168 prio=5 os_prio=0 tid=0x00007fba795e3000 nid=0x22be runnable [0x00007fb9c41c0000]\n   java.lang.Thread.State: WAITING (parking)\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x00000005c1409df0&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n    at java.util.concurrent.PriorityBlockingQueue.take(PriorityBlockingQueue.java:550)\n    at com.superatomfin.athena.feed.InstrumentAggregation.run(InstrumentAggregation.java:51)\n</code></pre>\n<p>first line show thread is runable,but second line show thread is waitting</p>\n<p>why thread state is different</p>\n"},{"tags":["java","android","media-player","freeze","libvlc"],"answers":[{"tags":[],"owner":{"account_id":5064211,"reputation":1914,"user_id":4064749,"display_name":"mfkl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673412442,"creation_date":1673412442,"answer_id":75078444,"question_id":75068533,"body_markdown":"You didn&#39;t say, but I&#39;m going to assume you are using the great vlcj project, since you mentioned both Java and libvlc.\r\n\r\n```\r\nmediaPlayerComponent.mediaPlayer().media().info().statistics(mediaStatistics)\r\n```\r\n\r\n`MediaStatistics` likely being what you are looking for. Here is the full sample https://github.com/caprica/vlcj-examples/blob/master/src/main/java/uk/co/caprica/vlcj/test/stats/StatsTest.java \r\n\r\ncredits to caprica","title":"VLC number of decoded frame rate","body":"<p>You didn't say, but I'm going to assume you are using the great vlcj project, since you mentioned both Java and libvlc.</p>\n<pre><code>mediaPlayerComponent.mediaPlayer().media().info().statistics(mediaStatistics)\n</code></pre>\n<p><code>MediaStatistics</code> likely being what you are looking for. Here is the full sample <a href=\"https://github.com/caprica/vlcj-examples/blob/master/src/main/java/uk/co/caprica/vlcj/test/stats/StatsTest.java\" rel=\"nofollow noreferrer\">https://github.com/caprica/vlcj-examples/blob/master/src/main/java/uk/co/caprica/vlcj/test/stats/StatsTest.java</a></p>\n<p>credits to caprica</p>\n"}],"owner":{"account_id":13463168,"reputation":1,"user_id":9714431,"display_name":"Spikee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673412442,"creation_date":1673346063,"question_id":75068533,"body_markdown":"I would like to know if we can calculate the number of decoded frames when using VLC for Android. I&#39;m looking for something like that but using VLC and not exoplayer:\r\n```\r\nexoPlayer.getVideoDecoderCounters().renderedOutputBufferCount\r\n```\r\n\r\nThanks.\r\n\r\nI tried this \r\n```\r\nmediaPlayer.getVideoTrack();\r\n```\r\nBut it returns the same value even if the video freezes!","title":"VLC number of decoded frame rate","body":"<p>I would like to know if we can calculate the number of decoded frames when using VLC for Android. I'm looking for something like that but using VLC and not exoplayer:</p>\n<pre><code>exoPlayer.getVideoDecoderCounters().renderedOutputBufferCount\n</code></pre>\n<p>Thanks.</p>\n<p>I tried this</p>\n<pre><code>mediaPlayer.getVideoTrack();\n</code></pre>\n<p>But it returns the same value even if the video freezes!</p>\n"},{"tags":["java","multithreading","threadpool"],"answers":[{"comments":[{"owner":{"account_id":236803,"reputation":3644,"user_id":504533,"accept_rate":80,"display_name":"Andrey Tserkus"},"score":0,"creation_date":1520983244,"post_id":4819958,"comment_id":85538192,"body_markdown":"It&#39;s better to use `Runnable` instead of `Callable` - less mess with return type and no need to return anything.","body":"It&#39;s better to use <code>Runnable</code> instead of <code>Callable</code> - less mess with return type and no need to return anything."},{"owner":{"account_id":236803,"reputation":3644,"user_id":504533,"accept_rate":80,"display_name":"Andrey Tserkus"},"score":0,"creation_date":1520985681,"post_id":4819958,"comment_id":85538963,"body_markdown":"Or in Java 8 you can reduce that long `canceller.schedule(...)` to `canceller.schedule(() -&gt; future.cancel(true), timeoutMS, TimeUnit. MILLI_SECONDS);`","body":"Or in Java 8 you can reduce that long <code>canceller.schedule(...)</code> to <code>canceller.schedule(() -&gt; future.cancel(true), timeoutMS, TimeUnit. MILLI_SECONDS);</code>"}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":2,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1328435792,"creation_date":1296150817,"answer_id":4819958,"question_id":4819855,"body_markdown":"Use a ScheduleExecutorService to schedule a task to `taskFuture.cancel(true)` the long running task when the timeout is reached.  If the task finishes before then it won&#39;t be cancelled.\r\n\r\n    ExecutorService service = Executors.newFixedThreadPool(N);\r\n    ScheduledExecutorService canceller = Executors.newSingleThreadScheduledExecutor();\r\n    \r\n    public &lt;T&gt; Future&lt;T&gt; executeTask(Callable&lt;T&gt; c, long timeoutMS){\r\n       final Future&lt;T&gt; future = service.submit(c);\r\n       canceller.schedule(new Callable&lt;Void&gt;(){\r\n           public Void call(){\r\n              future.cancel(true);\r\n              return null;\r\n           }\r\n        }, timeoutMS, TimeUnit.MILLI_SECONDS);\r\n       return future;\r\n    }\r\n\r\n","title":"Time limit on individual threads with ExecutorService","body":"<p>Use a ScheduleExecutorService to schedule a task to <code>taskFuture.cancel(true)</code> the long running task when the timeout is reached.  If the task finishes before then it won't be cancelled.</p>\n\n<pre><code>ExecutorService service = Executors.newFixedThreadPool(N);\nScheduledExecutorService canceller = Executors.newSingleThreadScheduledExecutor();\n\npublic &lt;T&gt; Future&lt;T&gt; executeTask(Callable&lt;T&gt; c, long timeoutMS){\n   final Future&lt;T&gt; future = service.submit(c);\n   canceller.schedule(new Callable&lt;Void&gt;(){\n       public Void call(){\n          future.cancel(true);\n          return null;\n       }\n    }, timeoutMS, TimeUnit.MILLI_SECONDS);\n   return future;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1296151097,"post_id":4819980,"comment_id":5345483,"body_markdown":"Call needs to return a value.","body":"Call needs to return a value."},{"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"score":1,"creation_date":1296151191,"post_id":4819980,"comment_id":5345518,"body_markdown":"Thanks, you can imagine I just wrote that free-handed.  If only Firefox had a built in compiler :)","body":"Thanks, you can imagine I just wrote that free-handed.  If only Firefox had a built in compiler :)"}],"tags":[],"owner":{"account_id":65386,"reputation":39895,"user_id":192444,"accept_rate":100,"display_name":"John Vint"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1296151227,"creation_date":1296150918,"answer_id":4819980,"question_id":4819855,"body_markdown":"The best way for you to do this would be to introduce one more Executor.  You can use a ScheduledExecutorService to cancel all long running tasks for example:\r\n\r\n    ExecutorService service = Executors.newFixedThreadPool(N);\r\n    \r\n    ScheduledExecutorService canceller = Executors.newScheduledThreadPool(1);\r\n    \r\n    public void executeTask(Callable&lt;?&gt; c){\r\n       final Future&lt;?&gt; future = service.submit(c);\r\n       canceller.schedule(new Runnable(){\r\n           public void run(){\r\n              future.cancel(true);\r\n           }\r\n        }, SECONDS_UNTIL_TIMEOUT, TimeUnit.SECONDS);\r\n    }","title":"Time limit on individual threads with ExecutorService","body":"<p>The best way for you to do this would be to introduce one more Executor.  You can use a ScheduledExecutorService to cancel all long running tasks for example:</p>\n\n<pre><code>ExecutorService service = Executors.newFixedThreadPool(N);\n\nScheduledExecutorService canceller = Executors.newScheduledThreadPool(1);\n\npublic void executeTask(Callable&lt;?&gt; c){\n   final Future&lt;?&gt; future = service.submit(c);\n   canceller.schedule(new Runnable(){\n       public void run(){\n          future.cancel(true);\n       }\n    }, SECONDS_UNTIL_TIMEOUT, TimeUnit.SECONDS);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":289976,"reputation":1654,"user_id":591254,"display_name":"jalogar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1296151015,"creation_date":1296151015,"answer_id":4820000,"question_id":4819855,"body_markdown":"You could get a list of your corresponding Futures (that are created when you submit a Callable) together with its startup time.\r\n\r\nAnother task could then check every minute if there are some task running for more than a defined time and if so, invoke cancel(true) in the Future. Done futures would be removed off the list.","title":"Time limit on individual threads with ExecutorService","body":"<p>You could get a list of your corresponding Futures (that are created when you submit a Callable) together with its startup time.</p>\n\n<p>Another task could then check every minute if there are some task running for more than a defined time and if so, invoke cancel(true) in the Future. Done futures would be removed off the list.</p>\n"},{"tags":[],"owner":{"account_id":123247,"reputation":1606,"user_id":317605,"accept_rate":20,"display_name":"sergiofbsilva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1352736304,"creation_date":1296151642,"answer_id":4820099,"question_id":4819855,"body_markdown":"You can use this method\r\n\r\n\r\n\r\n    &lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks,\r\n                                  long timeout,\r\n                                  TimeUnit unit)\r\n                              throws InterruptedException\r\n\r\n\r\n\r\nand set the maximum timeout to one minute. If your thread takes more than that it is just aborted.\r\n","title":"Time limit on individual threads with ExecutorService","body":"<p>You can use this method</p>\n\n<pre><code>&lt;T&gt; List&lt;Future&lt;T&gt;&gt; invokeAll(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks,\n                              long timeout,\n                              TimeUnit unit)\n                          throws InterruptedException\n</code></pre>\n\n<p>and set the maximum timeout to one minute. If your thread takes more than that it is just aborted.</p>\n"},{"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":1,"creation_date":1298551044,"post_id":4820144,"comment_id":5722129,"body_markdown":"+1 for pointing out that the task might require some intelligence.","body":"+1 for pointing out that the task might require some intelligence."},{"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"score":0,"creation_date":1673400557,"post_id":4820144,"comment_id":132489005,"body_markdown":"This is the point I am actually looking solution. Sometimes, my thread ends up in an infinite loop. Actually, I want to kill the thread, during such situation.","body":"This is the point I am actually looking solution. Sometimes, my thread ends up in an infinite loop. Actually, I want to kill the thread, during such situation."}],"tags":[],"owner":{"account_id":4804,"reputation":268589,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1296151895,"creation_date":1296151895,"answer_id":4820144,"question_id":4819855,"body_markdown":"You could cancel the future etc as in the other answers, but you need to make sure that your threads which are &quot;number crunching&quot; can **handle the interrupt and terminate gracefully**. You say that this a black box operation - how certain are you that the interrupted status of the thread is being checked actively within the black box? If it isn&#39;t, you can&#39;t cancel it with an interrupt. The black box needs to be written with interruption in mind.\r\n","title":"Time limit on individual threads with ExecutorService","body":"<p>You could cancel the future etc as in the other answers, but you need to make sure that your threads which are \"number crunching\" can <strong>handle the interrupt and terminate gracefully</strong>. You say that this a black box operation - how certain are you that the interrupted status of the thread is being checked actively within the black box? If it isn't, you can't cancel it with an interrupt. The black box needs to be written with interruption in mind.</p>\n"},{"tags":[],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673412163,"creation_date":1673411759,"answer_id":75078378,"question_id":4819855,"body_markdown":"The problem is you can not kill/stop/suspend the java thread.\r\nAll are deprecated.\r\n\r\n`future.cancel` will only considered before worker thread \r\n\r\nSo if the thread is stuck with any code execution and doesn&#39;t have the logic to consider the thread interruption, then execution will still continue.\r\n\r\nThis is even true for `executorService.shutdown();`.\r\n \r\nThe documentation says.\r\n&gt; There are no guarantees beyond best-effort attempts to stop processing\r\n&gt; actively executing tasks. For example, typical implementations will\r\n&gt; cancel via Thread. interrupt, so any task that fails to respond to\r\n&gt; interrupts may never terminate.\r\n\r\nSo the only solution is to log such a situation and fix the inherent issue.\r\n\r\n        Future&lt;?&gt; future = executor.submit(task);\r\n        try {\r\n            future.get(15, TimeUnit.MINUTES);\r\n        } catch (InterruptedException e) {\r\n            // retry waiting. iterative approach not shown here\r\n        } catch (ExecutionException e) {\r\n            // your task exploded\r\n        } catch (TimeoutException e) {\r\n            // The task is running longer than usual\r\n            // Log it for future analysis\r\n\r\n            //If the interrupt signal is handled \r\n            //OR the task is stuck in the queue itself for a long time\r\n            //then worth calling below \r\n            future.cancel(true);\r\n        } \r\n\r\n ","title":"Time limit on individual threads with ExecutorService","body":"<p>The problem is you can not kill/stop/suspend the java thread.\nAll are deprecated.</p>\n<p><code>future.cancel</code> will only considered before worker thread</p>\n<p>So if the thread is stuck with any code execution and doesn't have the logic to consider the thread interruption, then execution will still continue.</p>\n<p>This is even true for <code>executorService.shutdown();</code>.</p>\n<p>The documentation says.</p>\n<blockquote>\n<p>There are no guarantees beyond best-effort attempts to stop processing\nactively executing tasks. For example, typical implementations will\ncancel via Thread. interrupt, so any task that fails to respond to\ninterrupts may never terminate.</p>\n</blockquote>\n<p>So the only solution is to log such a situation and fix the inherent issue.</p>\n<pre><code>    Future&lt;?&gt; future = executor.submit(task);\n    try {\n        future.get(15, TimeUnit.MINUTES);\n    } catch (InterruptedException e) {\n        // retry waiting. iterative approach not shown here\n    } catch (ExecutionException e) {\n        // your task exploded\n    } catch (TimeoutException e) {\n        // The task is running longer than usual\n        // Log it for future analysis\n\n        //If the interrupt signal is handled \n        //OR the task is stuck in the queue itself for a long time\n        //then worth calling below \n        future.cancel(true);\n    } \n</code></pre>\n"}],"owner":{"account_id":26773,"reputation":327,"user_id":69957,"accept_rate":67,"display_name":"Joshua Galecki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11576,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":4819958,"answer_count":6,"score":16,"last_activity_date":1673412163,"creation_date":1296150214,"question_id":4819855,"body_markdown":"I have an ExecutorService managing a number of Callables. The tasks that the Callables run are mostly black box transformations and number crunching. Under certain conditions, the data being transformed will oscillate and the thread will take over an hour to finish. For comparison, most threads are completed within a minute. \r\n\r\nIt&#39;s been deteremined that the data from the long-running threads is not relevent. I would like to interrupt any thread that runs longer than a certain amount of time. What would the best way to do this?","title":"Time limit on individual threads with ExecutorService","body":"<p>I have an ExecutorService managing a number of Callables. The tasks that the Callables run are mostly black box transformations and number crunching. Under certain conditions, the data being transformed will oscillate and the thread will take over an hour to finish. For comparison, most threads are completed within a minute. </p>\n\n<p>It's been deteremined that the data from the long-running threads is not relevent. I would like to interrupt any thread that runs longer than a certain amount of time. What would the best way to do this?</p>\n"},{"tags":["java","debugging","libgdx","kryonet"],"answers":[{"tags":[],"owner":{"account_id":6070845,"reputation":978,"user_id":4739732,"display_name":"agamagarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673395005,"creation_date":1465069830,"answer_id":37634396,"question_id":37634321,"body_markdown":"# `volatile`\r\n\r\nThis is because it is reading a cached value of `match.moved` variable instead of the latest. To avoid this, declare the variable as `volatile`\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public volatile boolean moved;\r\n\r\nRead more [here](https://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html)","title":"Boolean not changing in thread","body":"<h1><code>volatile</code></h1>\n<p>This is because it is reading a cached value of <code>match.moved</code> variable instead of the latest. To avoid this, declare the variable as <code>volatile</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public volatile boolean moved;\n</code></pre>\n<p>Read more <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673411919,"creation_date":1673395363,"answer_id":75077079,"question_id":37634321,"body_markdown":"# tl;dr\r\n\r\n[`AtomicBoolean`][1] is a convenient alternative to [`volatile`][2]. \r\n\r\nThis class wraps and protects a nested primitive `boolean` value while ensuring proper visibility. \r\n\r\nInstantiate:\r\n\r\n    public final AtomicBoolean moved = new AtomicBoolean( false ) ;\r\n\r\nGetter:\r\n\r\n    boolean x = moved.get()  // Returns current value. \r\n\r\nSetter:\r\n\r\n    moved.set( false ) // Sets a new value.\r\n\r\nGet, then set:\r\n\r\n    boolean x = moved.getAndSet( false ) ;  // Retrieves the old value before setting a new value. \r\n\r\n\r\n\r\n# `AtomicBoolean`\r\n\r\nThe [Answer by agamagarwal][3] is correct. You have fallen into the visibility conundrum that occurs when accessing variables across threads. One solution is the use of `volatile` shown there. \r\n\r\nAnother solution is the `Atomic…` classes bundled with Java. In this case, [`AtomicBoolean`][1]. \r\n\r\nThe `Atomic…` classes wrap a value, and add thread-safe methods for accessing and setting that value. \r\n\r\nI often prefer using the `Atomic…` classes rather than `volatile`. One reason for this preference is that it makes quite clear and obvious to the user that we are using a protected resource across threads. \r\n\r\nInstantiation:\r\n\r\n```java\r\npublic class MultiPlayMatch extends Match {\r\n\r\npublic final AtomicBoolean moved = new AtomicBoolean( false ) ;\r\n…\r\n```\r\n\r\nNotice two things about that instantiation:\r\n\r\n - `final` ensures that we do not swap out one `AtomicBoolean` object for another. Such swapping would put us right back into the variable visibility conundrum we are trying to escape.\r\n - The `AtomicBoolean` object is being instantiated at the same time as this outer object (`MultiPlayMatch` in your case) is being instantiated. So we have ensured that an instance of `AtomicBoolean` exists before any access, including any access across threads. If we waited until later ([“lazy” loading][4]), then we would be falling back into that variable visibility conundrum we are trying to escape.\r\n\r\nGetting the value:\r\n\r\n```java\r\nif ( this.match.moved.get() ) { …  // Returns the primitive `true` or `false` value wrapped within this `AtomicBoolean` object. \r\n```\r\n\r\nAnd setting the value:\r\n\r\n```java\r\nthis.match.moved.set( false ) ;\r\n```\r\n\r\nYou may want to get the current value while also setting a value in an immediate thread-safe “atomic” (combined) operation:\r\n\r\n```java\r\nboolean oldValue = this.match.moved.getAndSet( false ) ;\r\n```\r\n\r\n\r\n----------\r\n\r\nTo learn all about concurrency in Java, see the book, [*Java Concurrency in Practice*][5] by Brian&#160;Goetz, et al.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.3.1.4\r\n  [3]: https://stackoverflow.com/a/37634396/642706\r\n  [4]: https://en.wikipedia.org/wiki/Lazy_loading\r\n  [5]: https://jcip.net/","title":"Boolean not changing in thread","body":"<h1>tl;dr</h1>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html\" rel=\"nofollow noreferrer\"><code>AtomicBoolean</code></a> is a convenient alternative to <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.3.1.4\" rel=\"nofollow noreferrer\"><code>volatile</code></a>.</p>\n<p>This class wraps and protects a nested primitive <code>boolean</code> value while ensuring proper visibility.</p>\n<p>Instantiate:</p>\n<pre><code>public final AtomicBoolean moved = new AtomicBoolean( false ) ;\n</code></pre>\n<p>Getter:</p>\n<pre><code>boolean x = moved.get()  // Returns current value. \n</code></pre>\n<p>Setter:</p>\n<pre><code>moved.set( false ) // Sets a new value.\n</code></pre>\n<p>Get, then set:</p>\n<pre><code>boolean x = moved.getAndSet( false ) ;  // Retrieves the old value before setting a new value. \n</code></pre>\n<h1><code>AtomicBoolean</code></h1>\n<p>The <a href=\"https://stackoverflow.com/a/37634396/642706\">Answer by agamagarwal</a> is correct. You have fallen into the visibility conundrum that occurs when accessing variables across threads. One solution is the use of <code>volatile</code> shown there.</p>\n<p>Another solution is the <code>Atomic…</code> classes bundled with Java. In this case, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicBoolean.html\" rel=\"nofollow noreferrer\"><code>AtomicBoolean</code></a>.</p>\n<p>The <code>Atomic…</code> classes wrap a value, and add thread-safe methods for accessing and setting that value.</p>\n<p>I often prefer using the <code>Atomic…</code> classes rather than <code>volatile</code>. One reason for this preference is that it makes quite clear and obvious to the user that we are using a protected resource across threads.</p>\n<p>Instantiation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MultiPlayMatch extends Match {\n\npublic final AtomicBoolean moved = new AtomicBoolean( false ) ;\n…\n</code></pre>\n<p>Notice two things about that instantiation:</p>\n<ul>\n<li><code>final</code> ensures that we do not swap out one <code>AtomicBoolean</code> object for another. Such swapping would put us right back into the variable visibility conundrum we are trying to escape.</li>\n<li>The <code>AtomicBoolean</code> object is being instantiated at the same time as this outer object (<code>MultiPlayMatch</code> in your case) is being instantiated. So we have ensured that an instance of <code>AtomicBoolean</code> exists before any access, including any access across threads. If we waited until later (<a href=\"https://en.wikipedia.org/wiki/Lazy_loading\" rel=\"nofollow noreferrer\">“lazy” loading</a>), then we would be falling back into that variable visibility conundrum we are trying to escape.</li>\n</ul>\n<p>Getting the value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if ( this.match.moved.get() ) { …  // Returns the primitive `true` or `false` value wrapped within this `AtomicBoolean` object. \n</code></pre>\n<p>And setting the value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.match.moved.set( false ) ;\n</code></pre>\n<p>You may want to get the current value while also setting a value in an immediate thread-safe “atomic” (combined) operation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean oldValue = this.match.moved.getAndSet( false ) ;\n</code></pre>\n<hr />\n<p>To learn all about concurrency in Java, see the book, <a href=\"https://jcip.net/\" rel=\"nofollow noreferrer\"><em>Java Concurrency in Practice</em></a> by Brian Goetz, et al.</p>\n"}],"owner":{"account_id":7539554,"reputation":85,"user_id":5724674,"display_name":"Evenilink"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1521,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":37634396,"answer_count":2,"score":3,"last_activity_date":1673411919,"creation_date":1465069393,"question_id":37634321,"body_markdown":"I have a class MPClient and MultiplayerMatch. MultiplayerMatch, in his constructor, creates a MPClient runnable thread.\r\n\r\nTo avoid data overflow, I have a boolean named &quot;moved&quot; in MultiplayerMatch that changes to true when the player is moving.\r\n\r\nIn the updateMatch method, if there&#39;s any player movement, &quot;moved&quot; changes to true, which allow MPClient to enter an if statment (inside while). This way MPClient only sends data to the server when something changes on the game.\r\n\r\nNeverthless, when the flag is true, in MPClient that change is not registed! MPClient still &quot;thinks&quot; moved equals false, even after that flag changed in MultiplayerMatch, and as a consequence, nothing is sent to the server...\r\n\r\nAfter a few tests, I noticed that if I run it in Debug Mode, since I have some breakpoints, that change is registered and everything works great!\r\nWhy is the boolean change only &quot;seen&quot; though Debug Mode? Does it have something to do with the app &quot;running speed&quot;, since there are breakpoints?\r\n\r\nHere&#39;s only the important part of the code:\r\n\r\nMPClient:\r\n\r\n    public class MPClient {\r\n    static final int TIME_OUT = 5000;\r\n    Client client;\r\n    MultiPlayMatch match;\r\n \r\n    public MPClient(String name, int team, MultiPlayMatch match) {\r\n        this.match = match;\r\n        client = new Client();\r\n        client.start();\r\n \r\n        Network.registerPackets(client);\r\n        addListeners();\r\n \r\n        try {\r\n            client.connect(TIME_OUT, &quot;127.0.0.1&quot;, Network.PORT);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            client.stop();\r\n        }\r\n \r\n        /*this comment is just to show that here is the place where the login information is sent to the server, instead of showing all the code*/\r\n \r\n        PlayerInfo playerInfo = new PlayerInfo();\r\n        Network.UpdatePlayer updatePlayer = new Network.UpdatePlayer();\r\n        updatePlayer.name = name;\r\n        updatePlayer.team = team;\r\n \r\n        while(true) {\r\n            if(match.moved) {       //--&gt; this is the variable that is always false\r\n                playerInfo.x = match.getClientPlayerX(team);\r\n                playerInfo.y = match.getClientPlayerY(team);\r\n \r\n                updatePlayer.x = playerInfo.x;\r\n                updatePlayer.y = playerInfo.y;\r\n                client.sendTCP(updatePlayer);\r\n                match.moved = false;\r\n            }\r\n        }\r\n \r\n    }\r\n \r\n    private void addListeners() {\r\n        client.addListener(new Listener.ThreadedListener(new Listener() {\r\n            @Override\r\n            public void received(Connection connection, Object object) {\r\n                if(object instanceof Network.UpdatePlayer) {\r\n                    Network.UpdatePlayer updatePlayer = (Network.UpdatePlayer) object;\r\n                    match.setPlayerPosition(updatePlayer.x, updatePlayer.y, updatePlayer.name, updatePlayer.team);\r\n                }\r\n            }\r\n        }));\r\n    }\r\n    }\r\n\r\n\r\nMultiplayerMatch:\r\n\r\n    public class MultiPlayMatch extends Match {\r\n \r\n    public boolean moved;\r\n \r\n    public MultiPlayMatch(){\r\n        super(0);\r\n \r\n        Random r = new Random();\r\n        int aux = r.nextInt(2);\r\n        aux = 0;\r\n        if(aux == 0){\r\n            homeTeam = new Team(&quot;Benfica&quot;, Team.TeamState.Attacking, w);\r\n            visitorTeam = new Team(&quot;Porto&quot;, Team.TeamState.Defending, w);\r\n        } else{\r\n            homeTeam = new Team(&quot;Benfica&quot;, Team.TeamState.Defending, w);\r\n            visitorTeam = new Team(&quot;Porto&quot;, Team.TeamState.Attacking, w);\r\n        }\r\n        //homeTeam.controlPlayer(0);\r\n \r\n        numberOfPlayers = 0;\r\n        moved = false;\r\n    }\r\n \r\n    @Override\r\n    public void updateMatch(float x, float y, Rain rain, float dt) {\r\n        homeTeam.updateControlledPlayerOnline(x, y);\r\n \r\n        rain.update();\r\n        w.step(Constants.GAME_SIMULATION_SPEED, 6, 2);\r\n \r\n        if(x != 0 || y != 0) moved = true;      //this is the place the variable is changed, but if it isn&#39;t in debug mode, MPClient thinks it&#39;s always false\r\n    }\r\n \r\n    public void setPlayerPosition(float x, float y, String name, int team) {\r\n        if(team == 0)\r\n            homeTeam.changePlayerPosition(x, y, name);\r\n        else\r\n            visitorTeam.changePlayerPosition(x, y, name);\r\n    }\r\n    }","title":"Boolean not changing in thread","body":"<p>I have a class MPClient and MultiplayerMatch. MultiplayerMatch, in his constructor, creates a MPClient runnable thread.</p>\n\n<p>To avoid data overflow, I have a boolean named \"moved\" in MultiplayerMatch that changes to true when the player is moving.</p>\n\n<p>In the updateMatch method, if there's any player movement, \"moved\" changes to true, which allow MPClient to enter an if statment (inside while). This way MPClient only sends data to the server when something changes on the game.</p>\n\n<p>Neverthless, when the flag is true, in MPClient that change is not registed! MPClient still \"thinks\" moved equals false, even after that flag changed in MultiplayerMatch, and as a consequence, nothing is sent to the server...</p>\n\n<p>After a few tests, I noticed that if I run it in Debug Mode, since I have some breakpoints, that change is registered and everything works great!\nWhy is the boolean change only \"seen\" though Debug Mode? Does it have something to do with the app \"running speed\", since there are breakpoints?</p>\n\n<p>Here's only the important part of the code:</p>\n\n<p>MPClient:</p>\n\n<pre><code>public class MPClient {\nstatic final int TIME_OUT = 5000;\nClient client;\nMultiPlayMatch match;\n\npublic MPClient(String name, int team, MultiPlayMatch match) {\n    this.match = match;\n    client = new Client();\n    client.start();\n\n    Network.registerPackets(client);\n    addListeners();\n\n    try {\n        client.connect(TIME_OUT, \"127.0.0.1\", Network.PORT);\n    } catch (IOException e) {\n        e.printStackTrace();\n        client.stop();\n    }\n\n    /*this comment is just to show that here is the place where the login information is sent to the server, instead of showing all the code*/\n\n    PlayerInfo playerInfo = new PlayerInfo();\n    Network.UpdatePlayer updatePlayer = new Network.UpdatePlayer();\n    updatePlayer.name = name;\n    updatePlayer.team = team;\n\n    while(true) {\n        if(match.moved) {       //--&gt; this is the variable that is always false\n            playerInfo.x = match.getClientPlayerX(team);\n            playerInfo.y = match.getClientPlayerY(team);\n\n            updatePlayer.x = playerInfo.x;\n            updatePlayer.y = playerInfo.y;\n            client.sendTCP(updatePlayer);\n            match.moved = false;\n        }\n    }\n\n}\n\nprivate void addListeners() {\n    client.addListener(new Listener.ThreadedListener(new Listener() {\n        @Override\n        public void received(Connection connection, Object object) {\n            if(object instanceof Network.UpdatePlayer) {\n                Network.UpdatePlayer updatePlayer = (Network.UpdatePlayer) object;\n                match.setPlayerPosition(updatePlayer.x, updatePlayer.y, updatePlayer.name, updatePlayer.team);\n            }\n        }\n    }));\n}\n}\n</code></pre>\n\n<p>MultiplayerMatch:</p>\n\n<pre><code>public class MultiPlayMatch extends Match {\n\npublic boolean moved;\n\npublic MultiPlayMatch(){\n    super(0);\n\n    Random r = new Random();\n    int aux = r.nextInt(2);\n    aux = 0;\n    if(aux == 0){\n        homeTeam = new Team(\"Benfica\", Team.TeamState.Attacking, w);\n        visitorTeam = new Team(\"Porto\", Team.TeamState.Defending, w);\n    } else{\n        homeTeam = new Team(\"Benfica\", Team.TeamState.Defending, w);\n        visitorTeam = new Team(\"Porto\", Team.TeamState.Attacking, w);\n    }\n    //homeTeam.controlPlayer(0);\n\n    numberOfPlayers = 0;\n    moved = false;\n}\n\n@Override\npublic void updateMatch(float x, float y, Rain rain, float dt) {\n    homeTeam.updateControlledPlayerOnline(x, y);\n\n    rain.update();\n    w.step(Constants.GAME_SIMULATION_SPEED, 6, 2);\n\n    if(x != 0 || y != 0) moved = true;      //this is the place the variable is changed, but if it isn't in debug mode, MPClient thinks it's always false\n}\n\npublic void setPlayerPosition(float x, float y, String name, int team) {\n    if(team == 0)\n        homeTeam.changePlayerPosition(x, y, name);\n    else\n        visitorTeam.changePlayerPosition(x, y, name);\n}\n}\n</code></pre>\n"},{"tags":["java","swing","paint"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1673378266,"post_id":75074784,"comment_id":132483973,"body_markdown":"Try adding `repaint()` after generating your maze. Even before you try that, try resizing your frame and see if it shows up (I think it should)","body":"Try adding <code>repaint()</code> after generating your maze. Even before you try that, try resizing your frame and see if it shows up (I think it should)"},{"owner":{"account_id":18465061,"reputation":375,"user_id":13451504,"display_name":"beatmaister"},"score":0,"creation_date":1673380241,"post_id":75074784,"comment_id":132484571,"body_markdown":"the &#39;coords&#39; and &#39;solve&#39; buttons don&#39;t show up until I resize the window. but repaint() did nothing, and the box is still blank.","body":"the &#39;coords&#39; and &#39;solve&#39; buttons don&#39;t show up until I resize the window. but repaint() did nothing, and the box is still blank."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1673383396,"post_id":75074784,"comment_id":132485498,"body_markdown":"Why are you calling `super.paint` twice?  In fact, why are you overriding `paint` (especially of a top level container), this is a recipe for issues. `generate_button.addActionListener(new View());` &lt;- Creating new instances of `View` is also a bad idea","body":"Why are you calling <code>super.paint</code> twice?  In fact, why are you overriding <code>paint</code> (especially of a top level container), this is a recipe for issues. <code>generate_button.addActionListener(new View());</code> &lt;- Creating new instances of <code>View</code> is also a bad idea"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1673396774,"post_id":75074784,"comment_id":132488497,"body_markdown":"Note: null layout is __wrong__! instead, use a suitable layoutManager","body":"Note: null layout is <b>wrong</b>! instead, use a suitable layoutManager"}],"answers":[{"comments":[{"owner":{"account_id":18465061,"reputation":375,"user_id":13451504,"display_name":"beatmaister"},"score":1,"creation_date":1673393582,"post_id":75075771,"comment_id":132488000,"body_markdown":"This a such an in depth answer, I actually feel much more informed. I was working on some of the aspects that you mentioned already, but i could not ask for a more perfect response. Implementing this will definitely teach me a lot about Swing.","body":"This a such an in depth answer, I actually feel much more informed. I was working on some of the aspects that you mentioned already, but i could not ask for a more perfect response. Implementing this will definitely teach me a lot about Swing."}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673411530,"creation_date":1673384315,"answer_id":75075771,"question_id":75074784,"body_markdown":"Okay, so you have a series of issues...\r\n\r\nFirst, you create a `JFrame`, make it visible and then add all you components to it...\r\n\r\n    JPanel panel = new JPanel();\r\n    JFrame frame = new JFrame();\r\n    frame.setSize(800, 800);\r\n    frame.setDefaultCloseOperation(frame.EXIT_ON_CLOSE);\r\n    frame.add(panel);\r\n    frame.setVisible(true);\r\n\r\n    ...\r\n\r\n    panel.add(maze_box);\r\n    ...\r\n    panel.add(message);\r\n    ...\r\n    panel.add(maze_size);\r\n    ...\r\n    panel.add(generate_button);\r\n    ...\r\n    panel.add(start_stop);\r\n    ...\r\n    panel.add(solve_button);\r\n\r\nSwing is lazy, it won&#39;t update the UI immediately after an update.  You could add `panel.repaint()` at the end, but a much simpler solution is simply to move the `frame.setVisible(true);` call to the end of the `main` method.\r\n\r\nThe overuse of `static` is a clear indication of a design problem and you should learn to live without it (it has its uses, this is not one of them).\r\n\r\nThis...\r\n\r\n    solve_button.addActionListener(new View());\r\n\r\nis a bad idea, not helped by the overuse of `static`.  You should only create a single instance of `View` (in this context) and make use of it instead.\r\n\r\nAs a general recommendation, this is a bad place to start...\r\n\r\n     public class View extends JFrame implements ActionListener{\r\n\r\nYou should avoid extending from top level containers, they are complex, compound containers and you&#39;re not adding any new functionality to the class.\r\n\r\nWhich leads on to overriding `paint` of a top level container, which should be avoided.\r\n\r\nAs stated, top level containers like `JFrame` are complex, compound containers, that is, they already have a number of child components added to them, for example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen overriding `paint` like this, you are interfering with the painting of the child components and worse, because child components can be painted without invoking the parent components `paint` workflow, you could end up with whatever you&#39;re painting being painted over.\r\n\r\nTake a look at [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) and [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for more details about how painting works and how you should work with it (the summary is, start with a `JPanel` and override `paintComponent`)\r\n\r\nBut, why are you calling `super.paint` twice?\r\n\r\n    public void paint(Graphics g) {\r\n        super.paint(g);\r\n        // ...\r\n        super.paint(g);\r\n    }\r\n\r\nMind you, `View` itself is never actually made visible on the screen, so I&#39;m at a general loss anyway\r\n\r\n  [1]: https://i.stack.imgur.com/kBnsX.gif\r\n\r\nI would also recommend taking some time to go over:\r\n\r\n* [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html)\r\n* [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)\r\n\r\nIf I was doing something like this, I&#39;d be focusing on the individual areas of the UI and trying to break them down into smaller units of work and isolating their functionality, maybe something more like...\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.ArrayList;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new MainPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class MainPane extends JPanel {\r\n\r\n            private JLabel message;\r\n            private JTextField mazeSize;\r\n            private JButton generateButton;\r\n            private JTextField startStop;\r\n            private JButton solveButton;\r\n\r\n            private MazePane mazePane;\r\n\r\n            public MainPane() {\r\n                setLayout(new BorderLayout());\r\n\r\n                mazePane = new MazePane();\r\n\r\n                add(mazePane);\r\n\r\n                JPanel inputPane = new JPanel(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.fill = gbc.HORIZONTAL;\r\n                gbc.insets = new Insets(4, 4, 4, 4);\r\n\r\n                message = new JLabel(&quot;Make your selections&quot;);\r\n                inputPane.add(message, gbc);\r\n\r\n                gbc.gridy++;\r\n                mazeSize = new JTextField(&quot;size&quot;);\r\n                inputPane.add(mazeSize, gbc);\r\n\r\n                gbc.gridx++;\r\n                generateButton = new JButton(&quot;Generate Maze&quot;);\r\n                inputPane.add(generateButton, gbc);\r\n                generateButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        generateMaze();\r\n                    }\r\n                });\r\n\r\n                gbc.gridx = 0;\r\n                gbc.gridy++;\r\n                startStop = new JTextField(&quot;coords&quot;);\r\n                inputPane.add(startStop, gbc);\r\n\r\n                gbc.gridx++;\r\n                solveButton = new JButton(&quot;Solve!&quot;);\r\n                inputPane.add(solveButton, gbc);\r\n\r\n                add(inputPane, BorderLayout.SOUTH);\r\n            }\r\n\r\n            protected void generateMaze() {\r\n                String size = mazeSize.getText();\r\n                try {\r\n                    int sized = Integer.parseInt(size);\r\n                    if (sized &gt; 199) {\r\n                        message.setText(&quot;Please choose a smaller width&quot;);\r\n                    } else if (sized &lt;= 0) {\r\n                        message.setText(&quot;Please enter valid numbers&quot;);\r\n                    } else {\r\n                        //System.out.println(&quot;generating: &quot;);\r\n                        //int[][] maze = new Generate(sized, sized).maze;\r\n                        //System.out.println(&quot;done &quot; + this.maze[0][2]);\r\n                        // Replace with maze\r\n                        mazePane.setMaze(new int[][] {{}});\r\n                    }\r\n                    revalidate();\r\n                    repaint();\r\n                } catch (NumberFormatException e) {\r\n                    message.setText(&quot;Please enter valid numbers&quot;);\r\n                }\r\n            }\r\n        }\r\n\r\n        public class MazePane extends JPanel {\r\n\r\n            private int[][] maze = {{}};\r\n            private final ArrayList&lt;Integer&gt; path = new ArrayList&lt;Integer&gt;();\r\n\r\n            public MazePane() {\r\n                setBackground(Color.GRAY);\r\n            }\r\n\r\n            public void setMaze(int[][] maze) {\r\n                this.maze = maze;\r\n                repaint();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(800, 600);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.translate(50, 50);\r\n                int scale = getWidth() / maze.length;\r\n                for (int row = 0; row &lt; maze.length; row++) {\r\n                    for (int col = 0; col &lt; maze[0].length; col++) {\r\n                        System.out.println(&quot;drawing&quot;);\r\n                        Color color;\r\n                        switch (maze[row][col]) {\r\n                            case 1:\r\n                                color = Color.BLACK;\r\n                                break;\r\n                            case 9:\r\n                                color = Color.RED;\r\n                                break;\r\n                            default:\r\n                                color = Color.WHITE;\r\n                        }\r\n                        g2d.setColor(color);\r\n                        g2d.fillRect(10 * col, 10 * row, 10, 10);\r\n                        g2d.setColor(Color.BLACK);\r\n                        g2d.drawRect(10 * col, 10 * row, 10, 10);\r\n                    }\r\n                }\r\n                for (int p = 0; p &lt; path.size(); p += 2) {\r\n                    System.out.println(&quot;drawing&quot;);\r\n                    int pathX = path.get(p);\r\n                    int pathY = path.get(p + 1);\r\n                    g2d.setColor(Color.GREEN);\r\n                    g2d.fillRect(pathX * 10, pathY * 10, 10, 10);\r\n                }\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }","title":"Panel not displaying updates after button press","body":"<p>Okay, so you have a series of issues...</p>\n<p>First, you create a <code>JFrame</code>, make it visible and then add all you components to it...</p>\n<pre><code>JPanel panel = new JPanel();\nJFrame frame = new JFrame();\nframe.setSize(800, 800);\nframe.setDefaultCloseOperation(frame.EXIT_ON_CLOSE);\nframe.add(panel);\nframe.setVisible(true);\n\n...\n\npanel.add(maze_box);\n...\npanel.add(message);\n...\npanel.add(maze_size);\n...\npanel.add(generate_button);\n...\npanel.add(start_stop);\n...\npanel.add(solve_button);\n</code></pre>\n<p>Swing is lazy, it won't update the UI immediately after an update.  You could add <code>panel.repaint()</code> at the end, but a much simpler solution is simply to move the <code>frame.setVisible(true);</code> call to the end of the <code>main</code> method.</p>\n<p>The overuse of <code>static</code> is a clear indication of a design problem and you should learn to live without it (it has its uses, this is not one of them).</p>\n<p>This...</p>\n<pre><code>solve_button.addActionListener(new View());\n</code></pre>\n<p>is a bad idea, not helped by the overuse of <code>static</code>.  You should only create a single instance of <code>View</code> (in this context) and make use of it instead.</p>\n<p>As a general recommendation, this is a bad place to start...</p>\n<pre><code> public class View extends JFrame implements ActionListener{\n</code></pre>\n<p>You should avoid extending from top level containers, they are complex, compound containers and you're not adding any new functionality to the class.</p>\n<p>Which leads on to overriding <code>paint</code> of a top level container, which should be avoided.</p>\n<p>As stated, top level containers like <code>JFrame</code> are complex, compound containers, that is, they already have a number of child components added to them, for example...</p>\n<p><a href=\"https://i.stack.imgur.com/kBnsX.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kBnsX.gif\" alt=\"enter image description here\" /></a></p>\n<p>When overriding <code>paint</code> like this, you are interfering with the painting of the child components and worse, because child components can be painted without invoking the parent components <code>paint</code> workflow, you could end up with whatever you're painting being painted over.</p>\n<p>Take a look at <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> for more details about how painting works and how you should work with it (the summary is, start with a <code>JPanel</code> and override <code>paintComponent</code>)</p>\n<p>But, why are you calling <code>super.paint</code> twice?</p>\n<pre><code>public void paint(Graphics g) {\n    super.paint(g);\n    // ...\n    super.paint(g);\n}\n</code></pre>\n<p>Mind you, <code>View</code> itself is never actually made visible on the screen, so I'm at a general loss anyway</p>\n<p>I would also recommend taking some time to go over:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a></li>\n</ul>\n<p>If I was doing something like this, I'd be focusing on the individual areas of the UI and trying to break them down into smaller units of work and isolating their functionality, maybe something more like...</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new MainPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class MainPane extends JPanel {\n\n        private JLabel message;\n        private JTextField mazeSize;\n        private JButton generateButton;\n        private JTextField startStop;\n        private JButton solveButton;\n\n        private MazePane mazePane;\n\n        public MainPane() {\n            setLayout(new BorderLayout());\n\n            mazePane = new MazePane();\n\n            add(mazePane);\n\n            JPanel inputPane = new JPanel(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.fill = gbc.HORIZONTAL;\n            gbc.insets = new Insets(4, 4, 4, 4);\n\n            message = new JLabel(&quot;Make your selections&quot;);\n            inputPane.add(message, gbc);\n\n            gbc.gridy++;\n            mazeSize = new JTextField(&quot;size&quot;);\n            inputPane.add(mazeSize, gbc);\n\n            gbc.gridx++;\n            generateButton = new JButton(&quot;Generate Maze&quot;);\n            inputPane.add(generateButton, gbc);\n            generateButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    generateMaze();\n                }\n            });\n\n            gbc.gridx = 0;\n            gbc.gridy++;\n            startStop = new JTextField(&quot;coords&quot;);\n            inputPane.add(startStop, gbc);\n\n            gbc.gridx++;\n            solveButton = new JButton(&quot;Solve!&quot;);\n            inputPane.add(solveButton, gbc);\n\n            add(inputPane, BorderLayout.SOUTH);\n        }\n\n        protected void generateMaze() {\n            String size = mazeSize.getText();\n            try {\n                int sized = Integer.parseInt(size);\n                if (sized &gt; 199) {\n                    message.setText(&quot;Please choose a smaller width&quot;);\n                } else if (sized &lt;= 0) {\n                    message.setText(&quot;Please enter valid numbers&quot;);\n                } else {\n                    //System.out.println(&quot;generating: &quot;);\n                    //int[][] maze = new Generate(sized, sized).maze;\n                    //System.out.println(&quot;done &quot; + this.maze[0][2]);\n                    // Replace with maze\n                    mazePane.setMaze(new int[][] {{}});\n                }\n                revalidate();\n                repaint();\n            } catch (NumberFormatException e) {\n                message.setText(&quot;Please enter valid numbers&quot;);\n            }\n        }\n    }\n\n    public class MazePane extends JPanel {\n\n        private int[][] maze = {{}};\n        private final ArrayList&lt;Integer&gt; path = new ArrayList&lt;Integer&gt;();\n\n        public MazePane() {\n            setBackground(Color.GRAY);\n        }\n\n        public void setMaze(int[][] maze) {\n            this.maze = maze;\n            repaint();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(800, 600);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.translate(50, 50);\n            int scale = getWidth() / maze.length;\n            for (int row = 0; row &lt; maze.length; row++) {\n                for (int col = 0; col &lt; maze[0].length; col++) {\n                    System.out.println(&quot;drawing&quot;);\n                    Color color;\n                    switch (maze[row][col]) {\n                        case 1:\n                            color = Color.BLACK;\n                            break;\n                        case 9:\n                            color = Color.RED;\n                            break;\n                        default:\n                            color = Color.WHITE;\n                    }\n                    g2d.setColor(color);\n                    g2d.fillRect(10 * col, 10 * row, 10, 10);\n                    g2d.setColor(Color.BLACK);\n                    g2d.drawRect(10 * col, 10 * row, 10, 10);\n                }\n            }\n            for (int p = 0; p &lt; path.size(); p += 2) {\n                System.out.println(&quot;drawing&quot;);\n                int pathX = path.get(p);\n                int pathY = path.get(p + 1);\n                g2d.setColor(Color.GREEN);\n                g2d.fillRect(pathX * 10, pathY * 10, 10, 10);\n            }\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18465061,"reputation":375,"user_id":13451504,"display_name":"beatmaister"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75075771,"answer_count":1,"score":0,"last_activity_date":1673411530,"creation_date":1673378022,"question_id":75074784,"body_markdown":"I am trying to get this JPanel to display a generated maze when a button is pressed giving it the size.\r\n\r\nI successfully get the size, and generate a maze which I know actionPerformed() has access to.\r\nWhen the button is clicked, it lets me know that a maze was in fact created, but doesn&#39;t display it. \r\n\r\nI have the paint method traversing the maze array and filling rectangles to display it. But I&#39;m not sure when it is called or how to call it manually.\r\nI am new to GUIs so please understand.\r\n\r\n    public class View extends JFrame implements ActionListener{\r\n    \r\n        private static JPanel maze_box;\r\n        private static JLabel message;\r\n        private static JButton generate_button;\r\n        private static JTextField maze_size;\r\n        private static JTextField start_stop;\r\n        private static JButton solve_button;\r\n        private String coords;\r\n        private String size;\r\n        \r\n    \r\n        private final ArrayList&lt;Integer&gt; path = new ArrayList&lt;Integer&gt;();\r\n        private int[][] maze = {{}};         \r\n    \r\n        public void paint(Graphics g){\r\n            super.paint(g);\r\n            g.translate(50,50);\r\n            int scale = maze_box.getWidth()/maze.length;\r\n            for(int row=0; row&lt;maze.length; row++){\r\n                for(int col=0; col&lt;maze[0].length; col++){\r\n                    System.out.println(&quot;drawing&quot;);\r\n                    Color color;\r\n                    switch (maze[row][col]) {\r\n                        case 1 : color = Color.BLACK; break;\r\n                        case 9 : color = Color.RED; break;\r\n                        default : color = Color.WHITE;\r\n                    };\r\n                    g.setColor(color);\r\n                    g.fillRect(10*col, 10*row, 10, 10);\r\n                    g.setColor(Color.BLACK);\r\n                    g.drawRect(10*col, 10*row, 10, 10);\r\n                }\r\n            }\r\n            for(int p=0; p&lt;path.size(); p+=2){\r\n                System.out.println(&quot;drawing&quot;);\r\n                int pathX = path.get(p);\r\n                int pathY = path.get(p+1);\r\n                g.setColor(Color.GREEN);\r\n                g.fillRect(pathX*10, pathY*10, 10,10);\r\n            }\r\n            super.paint(g);\r\n            \r\n        }\r\n    \r\n        public static void main(String[] args){\r\n    \r\n            JPanel panel = new JPanel();\r\n            JFrame frame = new JFrame();\r\n            frame.setSize(800,800);\r\n            frame.setDefaultCloseOperation(frame.EXIT_ON_CLOSE);\r\n            frame.add(panel);\r\n            frame.setVisible(true);\r\n            panel.setLayout(null);\r\n    \r\n            maze_box = new JPanel();\r\n            maze_box.setBounds(100, 20, 600, 400);\r\n            maze_box.setBackground(Color.GRAY);\r\n            panel.add(maze_box);\r\n    \r\n            message = new JLabel();\r\n            message.setBounds(200, 400, 200, 30);\r\n            panel.add(message);\r\n    \r\n            maze_size = new JTextField(&quot;size&quot;);\r\n            maze_size.setBounds(200, 550, 100, 30);\r\n            panel.add(maze_size);\r\n    \r\n            generate_button = new JButton(&quot;Generate Maze&quot;);\r\n            generate_button.setBounds(500, 550, 100, 30);\r\n            panel.add(generate_button);\r\n            generate_button.addActionListener( new View());\r\n    \r\n            start_stop = new JTextField(&quot;coords&quot;);\r\n            start_stop.setBounds(200, 600, 100, 30);\r\n            panel.add(start_stop);\r\n    \r\n            solve_button = new JButton(&quot;Solve!&quot;);\r\n            solve_button.setBounds(500, 600, 100, 30);\r\n            panel.add(solve_button);\r\n            solve_button.addActionListener(new View());\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void actionPerformed( ActionEvent aActionEvent ) {\r\n            if ( aActionEvent.getSource() == generate_button ){\r\n                this.size = maze_size.getText();\r\n                try{\r\n                    int sized = Integer.parseInt(this.size);\r\n                    if(sized&gt;199){\r\n                        message.setText(&quot;Please choose a smaller width&quot;);\r\n                    }if(sized&lt;=0 || this.size.equals(&quot;&quot;)){\r\n                        message.setText(&quot;Please enter valid numbers&quot;);\r\n                    }else{\r\n                        System.out.println(&quot;generating: &quot;);\r\n                        this.maze = new Generate(sized,sized).maze;\r\n                        System.out.println(&quot;done &quot;+ this.maze[0][2]);\r\n                    }\r\n                }catch(NumberFormatException e){\r\n                    \r\n                    message.setText(&quot;Please enter valid numbers&quot;);\r\n                }\r\n            }\r\n        }     \r\n    }\r\n\r\nHere is a picture for an idea.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KhU3H.png\r\n  [2]: https://i.stack.imgur.com/IY6qU.png","title":"Panel not displaying updates after button press","body":"<p>I am trying to get this JPanel to display a generated maze when a button is pressed giving it the size.</p>\n<p>I successfully get the size, and generate a maze which I know actionPerformed() has access to.\nWhen the button is clicked, it lets me know that a maze was in fact created, but doesn't display it.</p>\n<p>I have the paint method traversing the maze array and filling rectangles to display it. But I'm not sure when it is called or how to call it manually.\nI am new to GUIs so please understand.</p>\n<pre><code>public class View extends JFrame implements ActionListener{\n\n    private static JPanel maze_box;\n    private static JLabel message;\n    private static JButton generate_button;\n    private static JTextField maze_size;\n    private static JTextField start_stop;\n    private static JButton solve_button;\n    private String coords;\n    private String size;\n    \n\n    private final ArrayList&lt;Integer&gt; path = new ArrayList&lt;Integer&gt;();\n    private int[][] maze = {{}};         \n\n    public void paint(Graphics g){\n        super.paint(g);\n        g.translate(50,50);\n        int scale = maze_box.getWidth()/maze.length;\n        for(int row=0; row&lt;maze.length; row++){\n            for(int col=0; col&lt;maze[0].length; col++){\n                System.out.println(&quot;drawing&quot;);\n                Color color;\n                switch (maze[row][col]) {\n                    case 1 : color = Color.BLACK; break;\n                    case 9 : color = Color.RED; break;\n                    default : color = Color.WHITE;\n                };\n                g.setColor(color);\n                g.fillRect(10*col, 10*row, 10, 10);\n                g.setColor(Color.BLACK);\n                g.drawRect(10*col, 10*row, 10, 10);\n            }\n        }\n        for(int p=0; p&lt;path.size(); p+=2){\n            System.out.println(&quot;drawing&quot;);\n            int pathX = path.get(p);\n            int pathY = path.get(p+1);\n            g.setColor(Color.GREEN);\n            g.fillRect(pathX*10, pathY*10, 10,10);\n        }\n        super.paint(g);\n        \n    }\n\n    public static void main(String[] args){\n\n        JPanel panel = new JPanel();\n        JFrame frame = new JFrame();\n        frame.setSize(800,800);\n        frame.setDefaultCloseOperation(frame.EXIT_ON_CLOSE);\n        frame.add(panel);\n        frame.setVisible(true);\n        panel.setLayout(null);\n\n        maze_box = new JPanel();\n        maze_box.setBounds(100, 20, 600, 400);\n        maze_box.setBackground(Color.GRAY);\n        panel.add(maze_box);\n\n        message = new JLabel();\n        message.setBounds(200, 400, 200, 30);\n        panel.add(message);\n\n        maze_size = new JTextField(&quot;size&quot;);\n        maze_size.setBounds(200, 550, 100, 30);\n        panel.add(maze_size);\n\n        generate_button = new JButton(&quot;Generate Maze&quot;);\n        generate_button.setBounds(500, 550, 100, 30);\n        panel.add(generate_button);\n        generate_button.addActionListener( new View());\n\n        start_stop = new JTextField(&quot;coords&quot;);\n        start_stop.setBounds(200, 600, 100, 30);\n        panel.add(start_stop);\n\n        solve_button = new JButton(&quot;Solve!&quot;);\n        solve_button.setBounds(500, 600, 100, 30);\n        panel.add(solve_button);\n        solve_button.addActionListener(new View());\n    }\n\n\n    @Override\n    public void actionPerformed( ActionEvent aActionEvent ) {\n        if ( aActionEvent.getSource() == generate_button ){\n            this.size = maze_size.getText();\n            try{\n                int sized = Integer.parseInt(this.size);\n                if(sized&gt;199){\n                    message.setText(&quot;Please choose a smaller width&quot;);\n                }if(sized&lt;=0 || this.size.equals(&quot;&quot;)){\n                    message.setText(&quot;Please enter valid numbers&quot;);\n                }else{\n                    System.out.println(&quot;generating: &quot;);\n                    this.maze = new Generate(sized,sized).maze;\n                    System.out.println(&quot;done &quot;+ this.maze[0][2]);\n                }\n            }catch(NumberFormatException e){\n                \n                message.setText(&quot;Please enter valid numbers&quot;);\n            }\n        }\n    }     \n}\n</code></pre>\n<p>Here is a picture for an idea.\n<a href=\"https://i.stack.imgur.com/KhU3H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KhU3H.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/IY6qU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IY6qU.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","classpath","htmlunit"],"answers":[{"comments":[{"owner":{"account_id":15275556,"reputation":49,"user_id":11021382,"display_name":"God&#39;s Gift To Java"},"score":0,"creation_date":1673414312,"post_id":75078309,"comment_id":132490925,"body_markdown":"Thank you very much R.Z. Witser Loot!!! ... That did fix the problem!!","body":"Thank you very much R.Z. Witser Loot!!! ... That did fix the problem!!"}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673410915,"creation_date":1673410915,"answer_id":75078309,"question_id":75077991,"body_markdown":"The classpath separator on linux is `:`, not `;`:\r\n\r\n```bash\r\njavac -classpath &#39;.:/opt/htmlunit_2.69.0/*&#39; ClassPathProblem.java\r\n```","title":"Why isn&#39;t javac finding the com.gargoylesoftware.htmlunit package I am trying to import","body":"<p>The classpath separator on linux is <code>:</code>, not <code>;</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>javac -classpath '.:/opt/htmlunit_2.69.0/*' ClassPathProblem.java\n</code></pre>\n"}],"owner":{"account_id":15275556,"reputation":49,"user_id":11021382,"display_name":"God&#39;s Gift To Java"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673410915,"creation_date":1673406643,"question_id":75077991,"body_markdown":"I have downloaded the latest release of HtmlUnit (released on January 5, 2023), along with all of its dependencies, and put it in /opt/htmlunit_2.69.0\r\n\r\nI have been, so far unsuccessfully, trying to import the com.gargoylesoftware.htmlunit.* packages from a Java program called ClassPathProblem.java.\r\n\r\nDetails below:\r\n\r\n```\r\nachab@HP-Envy [Navajo] $ls -la /opt/htmlunit_2.69.0/\r\ntotal 17568\r\ndrwxr-xr-x 2 root  root     4096 Jan 10 18:37 .\r\ndrwxr-xr-x 7 root  root     4096 Jan 10 18:38 ..\r\n-rw-rw-rw- 1 root  root   353793 Jan 11  2023 commons-codec-1.15.jar\r\n-rw-rw-rw- 1 root  root   325983 Jan 11  2023 commons-io-2.10.0.jar\r\n-rw-rw-rw- 1 root  root   587402 Jan 11  2023 commons-lang3-3.12.0.jar\r\n-rw-rw-rw- 1 root  root    61829 Jan 11  2023 commons-logging-1.2.jar\r\n-rw-rw-rw- 1 root  root   316431 Jan 11  2023 commons-net-3.9.0.jar\r\n-rw-rw-rw- 1 root  root   238400 Jan 11  2023 commons-text-1.10.0.jar\r\n-rw-rw-rw- 1 root  root    98115 Jan 11  2023 dec-0.1.2.jar\r\n-rw-rw-rw- 1 root  root  2162299 Jan 11  2023 htmlunit-2.69.0.jar\r\n-rw-rw-rw- 1 root  root  1346968 Jan 11  2023 htmlunit-core-js-2.69.0.jar\r\n-rw-rw-rw- 1 root  root   212052 Jan 11  2023 htmlunit-cssparser-1.13.0.jar\r\n-rw-rw-rw- 1 root  root   277131 Jan 11  2023 htmlunit-xpath-2.69.0.jar\r\n-rw-rw-rw- 1 root  root   785639 Jan 11  2023 httpclient-4.5.14.jar\r\n-rw-rw-rw- 1 root  root   327891 Jan 11  2023 httpcore-4.4.16.jar\r\n-rw-rw-rw- 1 root  root    41727 Jan 11  2023 httpmime-4.5.14.jar\r\n-rw-rw-r-- 1 achab achab 8540386 Jan 10 18:34 jar_files.zip\r\n-rw-rw-rw- 1 root  root   327912 Jan 11  2023 jetty-client-9.4.50.v20221201.jar\r\n-rw-rw-rw- 1 root  root   234753 Jan 11  2023 jetty-http-9.4.50.v20221201.jar\r\n-rw-rw-rw- 1 root  root   183018 Jan 11  2023 jetty-io-9.4.50.v20221201.jar\r\n-rw-rw-rw- 1 root  root   583157 Jan 11  2023 jetty-util-9.4.50.v20221201.jar\r\n-rw-rw-rw- 1 root  root   541746 Jan 11  2023 neko-htmlunit-2.69.0.jar\r\n-rw-rw-rw- 1 root  root    65830 Jan 11  2023 salvation2-3.0.1.jar\r\n-rw-rw-rw- 1 root  root    52172 Jan 11  2023 websocket-api-9.4.50.v20221201.jar\r\n-rw-rw-rw- 1 root  root    45622 Jan 11  2023 websocket-client-9.4.50.v20221201.jar\r\n-rw-rw-rw- 1 root  root   214633 Jan 11  2023 websocket-common-9.4.50.v20221201.jar\r\nachab@HP-Envy [Navajo] $\r\nachab@HP-Envy [Navajo] $\r\nachab@HP-Envy [Navajo] $head ClassPathProblem.java \r\nimport com.gargoylesoftware.htmlunit.*;\r\nimport com.gargoylesoftware.htmlunit.html.*;\r\nimport com.gargoylesoftware.htmlunit.javascript.*;\r\nimport java.io.*;\r\n\r\npublic class ClassPathProblem {\r\n   \r\n    public static void ClassPathProblem () {\r\n       \r\n        try (final WebClient webClient = new WebClient()) {\r\nachab@HP-Envy [Navajo] $\r\nachab@HP-Envy [Navajo] $\r\nachab@HP-Envy [Navajo] $javac -classpath &quot;.;/opt/htmlunit_2.69.0/*&quot;  ClassPathProblem.java \r\nClassPathProblem.java:1: error: package com.gargoylesoftware.htmlunit does not exist\r\nimport com.gargoylesoftware.htmlunit.*;\r\n```\r\n\r\njavac returns more errors. But all or most of them are the consequence javac inability to find the HtmlUnit packages that I am trying to import.\r\n\r\nWhat have I been doing wrong?","title":"Why isn&#39;t javac finding the com.gargoylesoftware.htmlunit package I am trying to import","body":"<p>I have downloaded the latest release of HtmlUnit (released on January 5, 2023), along with all of its dependencies, and put it in /opt/htmlunit_2.69.0</p>\n<p>I have been, so far unsuccessfully, trying to import the com.gargoylesoftware.htmlunit.* packages from a Java program called ClassPathProblem.java.</p>\n<p>Details below:</p>\n<pre><code>achab@HP-Envy [Navajo] $ls -la /opt/htmlunit_2.69.0/\ntotal 17568\ndrwxr-xr-x 2 root  root     4096 Jan 10 18:37 .\ndrwxr-xr-x 7 root  root     4096 Jan 10 18:38 ..\n-rw-rw-rw- 1 root  root   353793 Jan 11  2023 commons-codec-1.15.jar\n-rw-rw-rw- 1 root  root   325983 Jan 11  2023 commons-io-2.10.0.jar\n-rw-rw-rw- 1 root  root   587402 Jan 11  2023 commons-lang3-3.12.0.jar\n-rw-rw-rw- 1 root  root    61829 Jan 11  2023 commons-logging-1.2.jar\n-rw-rw-rw- 1 root  root   316431 Jan 11  2023 commons-net-3.9.0.jar\n-rw-rw-rw- 1 root  root   238400 Jan 11  2023 commons-text-1.10.0.jar\n-rw-rw-rw- 1 root  root    98115 Jan 11  2023 dec-0.1.2.jar\n-rw-rw-rw- 1 root  root  2162299 Jan 11  2023 htmlunit-2.69.0.jar\n-rw-rw-rw- 1 root  root  1346968 Jan 11  2023 htmlunit-core-js-2.69.0.jar\n-rw-rw-rw- 1 root  root   212052 Jan 11  2023 htmlunit-cssparser-1.13.0.jar\n-rw-rw-rw- 1 root  root   277131 Jan 11  2023 htmlunit-xpath-2.69.0.jar\n-rw-rw-rw- 1 root  root   785639 Jan 11  2023 httpclient-4.5.14.jar\n-rw-rw-rw- 1 root  root   327891 Jan 11  2023 httpcore-4.4.16.jar\n-rw-rw-rw- 1 root  root    41727 Jan 11  2023 httpmime-4.5.14.jar\n-rw-rw-r-- 1 achab achab 8540386 Jan 10 18:34 jar_files.zip\n-rw-rw-rw- 1 root  root   327912 Jan 11  2023 jetty-client-9.4.50.v20221201.jar\n-rw-rw-rw- 1 root  root   234753 Jan 11  2023 jetty-http-9.4.50.v20221201.jar\n-rw-rw-rw- 1 root  root   183018 Jan 11  2023 jetty-io-9.4.50.v20221201.jar\n-rw-rw-rw- 1 root  root   583157 Jan 11  2023 jetty-util-9.4.50.v20221201.jar\n-rw-rw-rw- 1 root  root   541746 Jan 11  2023 neko-htmlunit-2.69.0.jar\n-rw-rw-rw- 1 root  root    65830 Jan 11  2023 salvation2-3.0.1.jar\n-rw-rw-rw- 1 root  root    52172 Jan 11  2023 websocket-api-9.4.50.v20221201.jar\n-rw-rw-rw- 1 root  root    45622 Jan 11  2023 websocket-client-9.4.50.v20221201.jar\n-rw-rw-rw- 1 root  root   214633 Jan 11  2023 websocket-common-9.4.50.v20221201.jar\nachab@HP-Envy [Navajo] $\nachab@HP-Envy [Navajo] $\nachab@HP-Envy [Navajo] $head ClassPathProblem.java \nimport com.gargoylesoftware.htmlunit.*;\nimport com.gargoylesoftware.htmlunit.html.*;\nimport com.gargoylesoftware.htmlunit.javascript.*;\nimport java.io.*;\n\npublic class ClassPathProblem {\n   \n    public static void ClassPathProblem () {\n       \n        try (final WebClient webClient = new WebClient()) {\nachab@HP-Envy [Navajo] $\nachab@HP-Envy [Navajo] $\nachab@HP-Envy [Navajo] $javac -classpath &quot;.;/opt/htmlunit_2.69.0/*&quot;  ClassPathProblem.java \nClassPathProblem.java:1: error: package com.gargoylesoftware.htmlunit does not exist\nimport com.gargoylesoftware.htmlunit.*;\n</code></pre>\n<p>javac returns more errors. But all or most of them are the consequence javac inability to find the HtmlUnit packages that I am trying to import.</p>\n<p>What have I been doing wrong?</p>\n"},{"tags":["java","image","draw","gif","image-resizing"],"answers":[{"comments":[{"owner":{"account_id":2376261,"reputation":79,"user_id":2079527,"display_name":"Giudark"},"score":3,"creation_date":1361759870,"post_id":15054540,"comment_id":21173389,"body_markdown":"I have tried it, seem good for other image, but the &#39;.GIF&#39; image is fixed :(","body":"I have tried it, seem good for other image, but the &#39;.GIF&#39; image is fixed :("}],"tags":[],"owner":{"account_id":2189891,"reputation":8117,"user_id":1937270,"accept_rate":91,"display_name":"syb0rg"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673410741,"creation_date":1361727738,"answer_id":15054540,"question_id":15054431,"body_markdown":"There is a simple image-scaling library for Java called imgscalr.\r\n\r\nThe library implements a few different approaches to image-scaling and will either pick the most optimal approach for you if you ask it to, or give you the fastest or best looking (if you ask for that).\r\n\r\nUsage is dead-simple, just a bunch of static methods. The simplest use-case is:\r\n\r\n    BufferedImage scaledImage = Scalr.resize(myImage, 200);\r\n\r\nAll operations maintain the image&#39;s original proportions, so in this case you are asking imgscalr to re-size your image within a bounds of 200 pixels wide and 200 pixels tall and by default it will automatically select the best-looking and fastest approach for that since it wasn&#39;t specified.\r\n","title":"Resize .GIF image","body":"<p>There is a simple image-scaling library for Java called imgscalr.</p>\n<p>The library implements a few different approaches to image-scaling and will either pick the most optimal approach for you if you ask it to, or give you the fastest or best looking (if you ask for that).</p>\n<p>Usage is dead-simple, just a bunch of static methods. The simplest use-case is:</p>\n<pre><code>BufferedImage scaledImage = Scalr.resize(myImage, 200);\n</code></pre>\n<p>All operations maintain the image's original proportions, so in this case you are asking imgscalr to re-size your image within a bounds of 200 pixels wide and 200 pixels tall and by default it will automatically select the best-looking and fastest approach for that since it wasn't specified.</p>\n"}],"owner":{"account_id":2376261,"reputation":79,"user_id":2079527,"display_name":"Giudark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4064,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673410741,"creation_date":1361727051,"question_id":15054431,"body_markdown":"I have an animated `.GIF` image that I want to resize in java, but when trying to use the traditional methods, it does not seem to work:\r\n\r\n    ImageIcon esclamativoMid = null;\r\n    //... search my file...\r\n    if(name.equalsIgnoreCase(&quot;esclamativo.gif&quot;))\r\n\t\tesclamativoMid = new ImageIcon(f.getAbsolutePath());\r\n    myEnumMap.put(Resolution.MID, esclamativoMid);\r\n\r\n    for(Resolution r: Resolution.values()){\r\n        if(r != Resolution.MID){\r\n            int w = esclamativoMid.getIconWidth()*(r.ordinal()+1)/2;\r\n            int h = esclamativoMid.getIconHeight()*(r.ordinal()+1)/2;\r\n\t\t    BufferedImage bi = new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);\r\n            Graphics2D g2d = (Graphics2D)bi.createGraphics();\r\n            g2d.addRenderingHints(new RenderingHints(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY));\r\n            g2d.drawImage(esclamativoMid.getImage(), 0, 0, w, h, null);\r\n            myEnumMap.put(r, new ImageIcon(bi));\r\n\t    }\r\n    }\r\nWhen I try to display the image using that code:\r\n\r\n    new JLabel(myEnumMap.get(currentRes));\r\n\r\nI get the `.GIF` only if `Resolution.MID` (I.E. the image loaded directly from file).","title":"Resize .GIF image","body":"<p>I have an animated <code>.GIF</code> image that I want to resize in java, but when trying to use the traditional methods, it does not seem to work:</p>\n\n<pre><code>ImageIcon esclamativoMid = null;\n//... search my file...\nif(name.equalsIgnoreCase(\"esclamativo.gif\"))\n    esclamativoMid = new ImageIcon(f.getAbsolutePath());\nmyEnumMap.put(Resolution.MID, esclamativoMid);\n\nfor(Resolution r: Resolution.values()){\n    if(r != Resolution.MID){\n        int w = esclamativoMid.getIconWidth()*(r.ordinal()+1)/2;\n        int h = esclamativoMid.getIconHeight()*(r.ordinal()+1)/2;\n        BufferedImage bi = new BufferedImage(w, h, BufferedImage.TYPE_INT_ARGB);\n        Graphics2D g2d = (Graphics2D)bi.createGraphics();\n        g2d.addRenderingHints(new RenderingHints(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY));\n        g2d.drawImage(esclamativoMid.getImage(), 0, 0, w, h, null);\n        myEnumMap.put(r, new ImageIcon(bi));\n    }\n}\n</code></pre>\n\n<p>When I try to display the image using that code:</p>\n\n<pre><code>new JLabel(myEnumMap.get(currentRes));\n</code></pre>\n\n<p>I get the <code>.GIF</code> only if <code>Resolution.MID</code> (I.E. the image loaded directly from file).</p>\n"},{"tags":["java","android","amazon-cognito","social-networking"],"owner":{"account_id":7455060,"reputation":11,"user_id":5668571,"display_name":"kavitha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673410710,"creation_date":1673410602,"question_id":75078281,"body_markdown":"How to insert the Credentials (Token, E- mail ID) fetched from Social media Login account in AWS Cognito Database?\r\n\r\nTried using following code\r\n```\r\n AWSMobileClient.getInstance().initialize(this, new Callback&lt;UserStateDetails&gt;() {\r\n                @Override\r\n                public void onResult(UserStateDetails userStateDetails) {\r\n                    Log.i(&quot;INIT&quot;, String.valueOf(userStateDetails.getUserState()));\r\n                    AWSMobileClient.getInstance().federatedSignIn(IdentityProvider.GOOGLE.toString(), account.getIdToken(), new Callback&lt;UserStateDetails&gt;() {\r\n                        @Override\r\n                        public void onResult(final UserStateDetails userStateDetails) {\r\n                            //Handle the result\r\n                            Log.i(TAG, &quot;mobileClient Google login result: &quot; + userStateDetails.getUserState().toString());\r\n                         //   AWSCredentials credentials = mobileClient.getCredentials();\r\n                           // Log.i(TAG, &quot;mobileClient Google login, posting credentials event...&quot;+credentials.getAWSSecretKey());\r\n                        }\r\n\r\n                        @Override\r\n                        public void onError(Exception e) {\r\n                            Log.e(TAG, &quot;sign-in error&quot;, e);\r\n                        }\r\n                    });\r\n```\r\nExpectation : Need to insert data in AWS Cognito user pool","title":"AWS Cognito with federated social provider(Google,Facebook,Apple) android java","body":"<p>How to insert the Credentials (Token, E- mail ID) fetched from Social media Login account in AWS Cognito Database?</p>\n<p>Tried using following code</p>\n<pre><code> AWSMobileClient.getInstance().initialize(this, new Callback&lt;UserStateDetails&gt;() {\n                @Override\n                public void onResult(UserStateDetails userStateDetails) {\n                    Log.i(&quot;INIT&quot;, String.valueOf(userStateDetails.getUserState()));\n                    AWSMobileClient.getInstance().federatedSignIn(IdentityProvider.GOOGLE.toString(), account.getIdToken(), new Callback&lt;UserStateDetails&gt;() {\n                        @Override\n                        public void onResult(final UserStateDetails userStateDetails) {\n                            //Handle the result\n                            Log.i(TAG, &quot;mobileClient Google login result: &quot; + userStateDetails.getUserState().toString());\n                         //   AWSCredentials credentials = mobileClient.getCredentials();\n                           // Log.i(TAG, &quot;mobileClient Google login, posting credentials event...&quot;+credentials.getAWSSecretKey());\n                        }\n\n                        @Override\n                        public void onError(Exception e) {\n                            Log.e(TAG, &quot;sign-in error&quot;, e);\n                        }\n                    });\n</code></pre>\n<p>Expectation : Need to insert data in AWS Cognito user pool</p>\n"},{"tags":["java","apache-kafka","jackson","confluent-schema-registry"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673330036,"post_id":75065490,"comment_id":132468513,"body_markdown":"Can you use Ivy to manage packages with your Ant project rather than what seems to be manually adding JAR files?","body":"Can you use Ivy to manage packages with your Ant project rather than what seems to be manually adding JAR files?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673330095,"post_id":75065490,"comment_id":132468527,"body_markdown":"&quot;but in AWS Server that error happen&quot; - Then show us your AWS server&#39;s classpath, not your Mac","body":"&quot;but in AWS Server that error happen&quot; - Then show us your AWS server&#39;s classpath, not your Mac"},{"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"score":0,"creation_date":1673330127,"post_id":75065490,"comment_id":132468533,"body_markdown":"the classpath inside the war, same machine use same .war","body":"the classpath inside the war, same machine use same .war"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673330148,"post_id":75065490,"comment_id":132468539,"body_markdown":"`/Users` classpath is not &quot;inside the WAR&quot;","body":"<code>&#47;Users</code> classpath is not &quot;inside the WAR&quot;"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673330568,"post_id":75065490,"comment_id":132468607,"body_markdown":"And are you required to use Ant? or WAR files? Why not Maven + Spring with executable JARs, or simply build a [Docker image with `spring-boot`](https://blog.codecentric.de/buildpacks-spring-boot)?","body":"And are you required to use Ant? or WAR files? Why not Maven + Spring with executable JARs, or simply build a <a href=\"https://blog.codecentric.de/buildpacks-spring-boot\" rel=\"nofollow noreferrer\">Docker image with <code>spring-boot</code></a>?"},{"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"score":0,"creation_date":1673331156,"post_id":75065490,"comment_id":132468714,"body_markdown":"I also want it like that (use Maven and Spring) but this project was originally use Ant generate WAR to deploy all libs use manual .jar, it takes time to change it, \nI will try ivy","body":"I also want it like that (use Maven and Spring) but this project was originally use Ant generate WAR to deploy all libs use manual .jar, it takes time to change it,  I will try ivy"},{"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"score":0,"creation_date":1673410773,"post_id":75065490,"comment_id":132490452,"body_markdown":"edited with ivy","body":"edited with ivy"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673419767,"post_id":75065490,"comment_id":132491942,"body_markdown":"For starters, you don&#39;t need `kafka_2.13`, so remove that. And you don&#39;t need any Confluent `ccs` versions of anything. But your error is coming from `jackson-databind`","body":"For starters, you don&#39;t need <code>kafka_2.13</code>, so remove that. And you don&#39;t need any Confluent <code>ccs</code> versions of anything. But your error is coming from <code>jackson-databind</code>"}],"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":836,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673410448,"creation_date":1673324973,"question_id":75065490,"body_markdown":"I need help with Kafka, use Ant project with Eclipse IDE, got error :\r\n\r\n    Caused by: org.apache.kafka.common.KafkaException: Could not instantiate class io.confluent.kafka.serializers.json.KafkaJsonSchemaSerializer\r\n            at org.apache.kafka.common.utils.Utils.newInstance(Utils.java:396)\r\n            at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:401)\r\n            at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:436)\r\n            at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:421)\r\n            at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:394)\r\n            ... 34 more\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n            at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n            at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n            at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n            at org.apache.kafka.common.utils.Utils.newInstance(Utils.java:392)\r\n            ... 38 more\r\n    Caused by: java.lang.VerifyError: Bad return type\r\n    Exception Details:\r\n      Location:\r\n        com/fasterxml/jackson/databind/cfg/MapperBuilder.streamFactory()Lcom/fasterxml/jackson/core/TokenStreamFactory; @7: areturn\r\n      Reason:\r\n        Type &#39;com/fasterxml/jackson/core/JsonFactory&#39; (current frame, stack[0]) is not assignable to &#39;com/fasterxml/jackson/core/TokenStreamFactory&#39; (from method signature)\r\n      Current Frame:\r\n        bci: @7\r\n        flags: { }\r\n        locals: { &#39;com/fasterxml/jackson/databind/cfg/MapperBuilder&#39; }\r\n        stack: { &#39;com/fasterxml/jackson/core/JsonFactory&#39; }\r\n      Bytecode:\r\n        0x0000000: 2ab4 0002 b600 08b0                    \r\n    \r\n            at com.fasterxml.jackson.databind.json.JsonMapper.builder(JsonMapper.java:114)\r\n            at io.confluent.kafka.schemaregistry.json.jackson.Jackson.newObjectMapper(Jackson.java:64)\r\n            at io.confluent.kafka.schemaregistry.json.jackson.Jackson.newObjectMapper(Jackson.java:55)\r\n            at io.confluent.kafka.serializers.json.AbstractKafkaJsonSchemaSerializer.&lt;init&gt;(AbstractKafkaJsonSchemaSerializer.java:47)\r\n            at io.confluent.kafka.serializers.json.KafkaJsonSchemaSerializer.&lt;init&gt;(KafkaJsonSchemaSerializer.java:41)\r\n            ... 43 more\r\n    java.lang.Exception: org.apache.kafka.common.KafkaException: Failed to construct kafka producer\r\n\r\nif jackson* libs removed it throws some like `NoClassDefFoundError...` ` java.lang.NoClassDefFoundError: com/fasterxml/jackson/annotation/JsonMerge` so i import missing jackson* . if i import the error as shown happen :\r\n\r\n    Location:\r\n        com/fasterxml/jackson/databind/cfg/MapperBuilder.streamFactory()Lcom/fasterxml/jackson/core/TokenStreamFactory; @7: areturn\r\n      Reason:\r\n        Type &#39;com/fasterxml/jackson/core/JsonFactory&#39; (current frame, stack[0]) is not assignable to &#39;com/fasterxml/jackson/core/TokenStreamFactory&#39; (from method signature)\r\n\r\n[![lib import][1]][1]\r\n\r\nanother information i deploy in 2 place with same docker and same setting, 1 in my local mac, 2 in AWS server with Ubuntu\r\n\r\nin my local all work, nothing error happen, but in AWS Server that error happen\r\n\r\n**------EDITED------**\r\n\r\nI have tried my project with Ivy dependencies management, imported 2 Kafka dependencies\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;\r\n    \r\n    &lt;ivy-module version=&quot;2.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:noNamespaceSchemaLocation=&quot;http://ant.apache.org/ivy/schemas/ivy.xsd&quot;&gt;\r\n    &lt;info\r\n    organisation=&quot;&quot;\r\n    module=&quot;project&quot;\r\n    status=&quot;integration&quot;&gt;\r\n    &lt;/info&gt;\r\n    &lt;dependencies&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.kafka/kafka-clients --&gt;\r\n    &lt;dependency org=&quot;org.apache.kafka&quot; name=&quot;kafka-clients&quot; rev=&quot;3.3.1&quot;/&gt;\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/io.confluent/kafka-json-schema-serializer --&gt;\r\n    &lt;dependency org=&quot;io.confluent&quot; name=&quot;kafka-json-schema-serializer&quot; rev=&quot;7.3.1&quot;/&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;/ivy-module&gt;\r\n\r\nimport:\r\n\r\n    import io.confluent.kafka.serializers.json.KafkaJsonSchemaSerializer;\r\n    import org.apache.kafka.clients.producer.*;\r\n    import org.apache.kafka.common.serialization.StringSerializer;\r\n\r\n \r\n    Properties props = new Properties();\r\n    props.put(&quot;bootstrap.servers&quot;, url);\r\n    props.put(&quot;linger.ms&quot;, 1);\r\n    props.put(&quot;max.block.ms&quot;, 10000);\r\n    props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\r\n    props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, KafkaJsonSchemaSerializer.class.getName());\r\n    props.put(&quot;schema.registry.url&quot;, schemaurl);\r\n    Producer&lt;String, Payment&gt; producer = new KafkaProducer&lt;String, Payment&gt;(props);\r\n    ProducerRecord&lt;String, Payment&gt; record = new ProducerRecord&lt;String, Payment&gt;(topic, uuid, message);\r\n    \r\n    Future&lt;RecordMetadata&gt; resp = producer.send(record);\r\n                \r\n    System.out.print(resp.get());\r\n    \r\n    producer.close();\r\n\r\nnew error appear but the error lib i can import with no error :\r\n\r\n    java.lang.NoSuchMethodError: com.fasterxml.jackson.databind.JavaType.getBindings()Lcom/fasterxml/jackson/databind/type/TypeBindings;\r\n\r\n\r\nthis lib automatically downloaded from ivy :\r\n\r\n[![Ivy lib][2]][2]\r\n[![Ivy lib][3]][3]\r\n\r\nand i don&#39;t know what lib conflict\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/36R07.png\r\n  [2]: https://i.stack.imgur.com/lqieU.jpg\r\n  [3]: https://i.stack.imgur.com/FDLPf.png","title":"Kafka Error &#39;com/fasterxml/jackson/core/JsonFactory&#39; (current frame, stack[0]) is not assignable to &#39;com/fasterxml/jackson/core/TokenStreamFactory","body":"<p>I need help with Kafka, use Ant project with Eclipse IDE, got error :</p>\n<pre><code>Caused by: org.apache.kafka.common.KafkaException: Could not instantiate class io.confluent.kafka.serializers.json.KafkaJsonSchemaSerializer\n        at org.apache.kafka.common.utils.Utils.newInstance(Utils.java:396)\n        at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:401)\n        at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:436)\n        at org.apache.kafka.common.config.AbstractConfig.getConfiguredInstance(AbstractConfig.java:421)\n        at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:394)\n        ... 34 more\nCaused by: java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n        at org.apache.kafka.common.utils.Utils.newInstance(Utils.java:392)\n        ... 38 more\nCaused by: java.lang.VerifyError: Bad return type\nException Details:\n  Location:\n    com/fasterxml/jackson/databind/cfg/MapperBuilder.streamFactory()Lcom/fasterxml/jackson/core/TokenStreamFactory; @7: areturn\n  Reason:\n    Type 'com/fasterxml/jackson/core/JsonFactory' (current frame, stack[0]) is not assignable to 'com/fasterxml/jackson/core/TokenStreamFactory' (from method signature)\n  Current Frame:\n    bci: @7\n    flags: { }\n    locals: { 'com/fasterxml/jackson/databind/cfg/MapperBuilder' }\n    stack: { 'com/fasterxml/jackson/core/JsonFactory' }\n  Bytecode:\n    0x0000000: 2ab4 0002 b600 08b0                    \n\n        at com.fasterxml.jackson.databind.json.JsonMapper.builder(JsonMapper.java:114)\n        at io.confluent.kafka.schemaregistry.json.jackson.Jackson.newObjectMapper(Jackson.java:64)\n        at io.confluent.kafka.schemaregistry.json.jackson.Jackson.newObjectMapper(Jackson.java:55)\n        at io.confluent.kafka.serializers.json.AbstractKafkaJsonSchemaSerializer.&lt;init&gt;(AbstractKafkaJsonSchemaSerializer.java:47)\n        at io.confluent.kafka.serializers.json.KafkaJsonSchemaSerializer.&lt;init&gt;(KafkaJsonSchemaSerializer.java:41)\n        ... 43 more\njava.lang.Exception: org.apache.kafka.common.KafkaException: Failed to construct kafka producer\n</code></pre>\n<p>if jackson* libs removed it throws some like <code>NoClassDefFoundError...</code> <code> java.lang.NoClassDefFoundError: com/fasterxml/jackson/annotation/JsonMerge</code> so i import missing jackson* . if i import the error as shown happen :</p>\n<pre><code>Location:\n    com/fasterxml/jackson/databind/cfg/MapperBuilder.streamFactory()Lcom/fasterxml/jackson/core/TokenStreamFactory; @7: areturn\n  Reason:\n    Type 'com/fasterxml/jackson/core/JsonFactory' (current frame, stack[0]) is not assignable to 'com/fasterxml/jackson/core/TokenStreamFactory' (from method signature)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/36R07.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/36R07.png\" alt=\"lib import\" /></a></p>\n<p>another information i deploy in 2 place with same docker and same setting, 1 in my local mac, 2 in AWS server with Ubuntu</p>\n<p>in my local all work, nothing error happen, but in AWS Server that error happen</p>\n<p><strong>------EDITED------</strong></p>\n<p>I have tried my project with Ivy dependencies management, imported 2 Kafka dependencies</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;\n\n&lt;ivy-module version=&quot;2.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:noNamespaceSchemaLocation=&quot;http://ant.apache.org/ivy/schemas/ivy.xsd&quot;&gt;\n&lt;info\norganisation=&quot;&quot;\nmodule=&quot;project&quot;\nstatus=&quot;integration&quot;&gt;\n&lt;/info&gt;\n&lt;dependencies&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.apache.kafka/kafka-clients --&gt;\n&lt;dependency org=&quot;org.apache.kafka&quot; name=&quot;kafka-clients&quot; rev=&quot;3.3.1&quot;/&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/io.confluent/kafka-json-schema-serializer --&gt;\n&lt;dependency org=&quot;io.confluent&quot; name=&quot;kafka-json-schema-serializer&quot; rev=&quot;7.3.1&quot;/&gt;\n&lt;/dependencies&gt;\n&lt;/ivy-module&gt;\n</code></pre>\n<p>import:</p>\n<pre><code>import io.confluent.kafka.serializers.json.KafkaJsonSchemaSerializer;\nimport org.apache.kafka.clients.producer.*;\nimport org.apache.kafka.common.serialization.StringSerializer;\n\n\nProperties props = new Properties();\nprops.put(&quot;bootstrap.servers&quot;, url);\nprops.put(&quot;linger.ms&quot;, 1);\nprops.put(&quot;max.block.ms&quot;, 10000);\nprops.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\nprops.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, KafkaJsonSchemaSerializer.class.getName());\nprops.put(&quot;schema.registry.url&quot;, schemaurl);\nProducer&lt;String, Payment&gt; producer = new KafkaProducer&lt;String, Payment&gt;(props);\nProducerRecord&lt;String, Payment&gt; record = new ProducerRecord&lt;String, Payment&gt;(topic, uuid, message);\n\nFuture&lt;RecordMetadata&gt; resp = producer.send(record);\n            \nSystem.out.print(resp.get());\n\nproducer.close();\n</code></pre>\n<p>new error appear but the error lib i can import with no error :</p>\n<pre><code>java.lang.NoSuchMethodError: com.fasterxml.jackson.databind.JavaType.getBindings()Lcom/fasterxml/jackson/databind/type/TypeBindings;\n</code></pre>\n<p>this lib automatically downloaded from ivy :</p>\n<p><a href=\"https://i.stack.imgur.com/lqieU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lqieU.jpg\" alt=\"Ivy lib\" /></a>\n<a href=\"https://i.stack.imgur.com/FDLPf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FDLPf.png\" alt=\"Ivy lib\" /></a></p>\n<p>and i don't know what lib conflict</p>\n"},{"tags":["java","android","firebase-realtime-database","datepicker","android-calendar"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1672830588,"post_id":75002010,"comment_id":132359963,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":18902468,"reputation":21,"user_id":13790182,"display_name":"Zann"},"score":0,"creation_date":1672842937,"post_id":75002010,"comment_id":132364199,"body_markdown":"@AlexMamo Thanks for mentioning, I&#39;ve shared the problem I&#39;m getting at the post.","body":"@AlexMamo Thanks for mentioning, I&#39;ve shared the problem I&#39;m getting at the post."}],"owner":{"account_id":18902468,"reputation":21,"user_id":13790182,"display_name":"Zann"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673409962,"creation_date":1672816361,"question_id":75002010,"body_markdown":"I&#39;m trying to add a DatePicker for the user to choose a date from the calendar. Then, I&#39;m using Firebase query `equalTo(dateSelected.getTime())` to check whether the timestamps in every record match the selected date. If they match, they will be printed out in the recycler view. \r\n\r\nInitially, when user enters this page, the app will display all the records on the recycler view. After user selects the date, by right the records must be shown according to what the user selects, but now it shows nothing. The pictures show how the page looks like and the data from Firebase. Thanks for reading this and helping out.\r\n\r\nThe error: As I select a date from the calendar, it went blank. There are no data printed out on the recycler view. In Logccat, there is an error `W/System: A resource failed to call close.` What does this mean?\r\n\r\n[![How the page looks like][1]][1] [![Table from Firebase][2]][2]\r\n\r\n```\r\npublic class DailyBreach extends AppCompatActivity implements DailyBreachRVAdapter.BreachClickInterface{\r\n    private RecyclerView recyclerView;\r\n    private FirebaseDatabase firebaseDatabase;\r\n    private DatabaseReference databaseReference;\r\n    private ArrayList&lt;ppeBreachModel&gt; ppeBreachModelArrayList;\r\n    private DailyBreachRVAdapter dailyBreachRVAdapter;\r\n    EditText dateInput;\r\n    Button dateBtn, submitDate;\r\n    Context context;\r\n    Locale id = new Locale(&quot;en&quot;, &quot;MY&quot;);\r\n    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;dd-MMMM-yyyy&quot;, id);\r\n    Calendar calendar = Calendar.getInstance();\r\n    Date dateSelected;\r\n    DatabaseReference database = FirebaseDatabase.getInstance().getReference();\r\n    AlertDialog builderAlert;\r\n    LayoutInflater layoutInflater;\r\n    View showInput;\r\n    Query query;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_daily_breach);\r\n\r\n        dateInput = findViewById(R.id.dateInput);\r\n        dateBtn = findViewById(R.id.dateBtn);\r\n        submitDate = findViewById(R.id.submitDate);\r\n        context = this;\r\n        recyclerView = findViewById(R.id.recyclerView);\r\n        firebaseDatabase = firebaseDatabase.getInstance();\r\n        databaseReference = firebaseDatabase.getReference(&quot;PPEBreach&quot;);\r\n        query = databaseReference.orderByChild(&quot;timestamp&quot;);\r\n        ppeBreachModelArrayList = new ArrayList&lt;&gt;();\r\n        dailyBreachRVAdapter = new DailyBreachRVAdapter(ppeBreachModelArrayList, this, this);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        recyclerView.setAdapter(dailyBreachRVAdapter);\r\n\r\n        getAllBreach();\r\n\r\n        dateBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                DatePickerDialog datePickerDialog = new DatePickerDialog(context, new DatePickerDialog.OnDateSetListener() {\r\n                    @Override\r\n                    public void onDateSet(DatePicker view, int year, int month, int dayOfMonth) {\r\n                        calendar.set(year, month, dayOfMonth);\r\n                        dateInput.setText(simpleDateFormat.format(calendar.getTime()));\r\n                        dateSelected = calendar.getTime();\r\n\r\n                        String input = dateInput.getText().toString();\r\n                        if(input.isEmpty()) {\r\n                            submitDate.setEnabled(false);\r\n                        } else {\r\n                            submitDate.setEnabled(true);\r\n                        }\r\n                    }\r\n                }, calendar.get(Calendar.YEAR), calendar.get(Calendar.MONTH), calendar.get(Calendar.DAY_OF_MONTH));\r\n                datePickerDialog.show();\r\n            }\r\n        });\r\n\r\n        submitDate.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Query query = database.child(&quot;PPEBreach&quot;).orderByChild(&quot;timestamp&quot;).equalTo(dateSelected.getTime());\r\n                query.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        showLisener(snapshot);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    private void showLisener(DataSnapshot snapshot) {\r\n        ppeBreachModelArrayList.clear();\r\n        for (DataSnapshot item : snapshot.getChildren()) {\r\n            ppeBreachModel ppeBreachModel = item.getValue(ppeBreachModel.class);\r\n            ppeBreachModelArrayList.add(ppeBreachModel);\r\n        }\r\n        dailyBreachRVAdapter = new DailyBreachRVAdapter(ppeBreachModelArrayList, this, this);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        recyclerView.setAdapter(dailyBreachRVAdapter);\r\n    }\r\n\r\n    private void getAllBreach(){\r\n        ppeBreachModelArrayList.clear();\r\n        query.addChildEventListener(new ChildEventListener() {\r\n            @Override\r\n            public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n                ppeBreachModelArrayList.add(snapshot.getValue(ppeBreachModel.class));\r\n                dailyBreachRVAdapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n                dailyBreachRVAdapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onChildRemoved(@NonNull DataSnapshot snapshot) {\r\n                dailyBreachRVAdapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n                dailyBreachRVAdapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onBreachClick(int position) {\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WIQV1.png\r\n  [2]: https://i.stack.imgur.com/Nwldp.png","title":"How to allow user to select a date and get every record with the same date in each of their timestamps? (Firebase Realtime Database)","body":"<p>I'm trying to add a DatePicker for the user to choose a date from the calendar. Then, I'm using Firebase query <code>equalTo(dateSelected.getTime())</code> to check whether the timestamps in every record match the selected date. If they match, they will be printed out in the recycler view.</p>\n<p>Initially, when user enters this page, the app will display all the records on the recycler view. After user selects the date, by right the records must be shown according to what the user selects, but now it shows nothing. The pictures show how the page looks like and the data from Firebase. Thanks for reading this and helping out.</p>\n<p>The error: As I select a date from the calendar, it went blank. There are no data printed out on the recycler view. In Logccat, there is an error <code>W/System: A resource failed to call close.</code> What does this mean?</p>\n<p><a href=\"https://i.stack.imgur.com/WIQV1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WIQV1.png\" alt=\"How the page looks like\" /></a> <a href=\"https://i.stack.imgur.com/Nwldp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nwldp.png\" alt=\"Table from Firebase\" /></a></p>\n<pre><code>public class DailyBreach extends AppCompatActivity implements DailyBreachRVAdapter.BreachClickInterface{\n    private RecyclerView recyclerView;\n    private FirebaseDatabase firebaseDatabase;\n    private DatabaseReference databaseReference;\n    private ArrayList&lt;ppeBreachModel&gt; ppeBreachModelArrayList;\n    private DailyBreachRVAdapter dailyBreachRVAdapter;\n    EditText dateInput;\n    Button dateBtn, submitDate;\n    Context context;\n    Locale id = new Locale(&quot;en&quot;, &quot;MY&quot;);\n    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;dd-MMMM-yyyy&quot;, id);\n    Calendar calendar = Calendar.getInstance();\n    Date dateSelected;\n    DatabaseReference database = FirebaseDatabase.getInstance().getReference();\n    AlertDialog builderAlert;\n    LayoutInflater layoutInflater;\n    View showInput;\n    Query query;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_daily_breach);\n\n        dateInput = findViewById(R.id.dateInput);\n        dateBtn = findViewById(R.id.dateBtn);\n        submitDate = findViewById(R.id.submitDate);\n        context = this;\n        recyclerView = findViewById(R.id.recyclerView);\n        firebaseDatabase = firebaseDatabase.getInstance();\n        databaseReference = firebaseDatabase.getReference(&quot;PPEBreach&quot;);\n        query = databaseReference.orderByChild(&quot;timestamp&quot;);\n        ppeBreachModelArrayList = new ArrayList&lt;&gt;();\n        dailyBreachRVAdapter = new DailyBreachRVAdapter(ppeBreachModelArrayList, this, this);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        recyclerView.setAdapter(dailyBreachRVAdapter);\n\n        getAllBreach();\n\n        dateBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                DatePickerDialog datePickerDialog = new DatePickerDialog(context, new DatePickerDialog.OnDateSetListener() {\n                    @Override\n                    public void onDateSet(DatePicker view, int year, int month, int dayOfMonth) {\n                        calendar.set(year, month, dayOfMonth);\n                        dateInput.setText(simpleDateFormat.format(calendar.getTime()));\n                        dateSelected = calendar.getTime();\n\n                        String input = dateInput.getText().toString();\n                        if(input.isEmpty()) {\n                            submitDate.setEnabled(false);\n                        } else {\n                            submitDate.setEnabled(true);\n                        }\n                    }\n                }, calendar.get(Calendar.YEAR), calendar.get(Calendar.MONTH), calendar.get(Calendar.DAY_OF_MONTH));\n                datePickerDialog.show();\n            }\n        });\n\n        submitDate.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Query query = database.child(&quot;PPEBreach&quot;).orderByChild(&quot;timestamp&quot;).equalTo(dateSelected.getTime());\n                query.addListenerForSingleValueEvent(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        showLisener(snapshot);\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n            }\n        });\n    }\n\n    private void showLisener(DataSnapshot snapshot) {\n        ppeBreachModelArrayList.clear();\n        for (DataSnapshot item : snapshot.getChildren()) {\n            ppeBreachModel ppeBreachModel = item.getValue(ppeBreachModel.class);\n            ppeBreachModelArrayList.add(ppeBreachModel);\n        }\n        dailyBreachRVAdapter = new DailyBreachRVAdapter(ppeBreachModelArrayList, this, this);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        recyclerView.setAdapter(dailyBreachRVAdapter);\n    }\n\n    private void getAllBreach(){\n        ppeBreachModelArrayList.clear();\n        query.addChildEventListener(new ChildEventListener() {\n            @Override\n            public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n                ppeBreachModelArrayList.add(snapshot.getValue(ppeBreachModel.class));\n                dailyBreachRVAdapter.notifyDataSetChanged();\n            }\n\n            @Override\n            public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n                dailyBreachRVAdapter.notifyDataSetChanged();\n            }\n\n            @Override\n            public void onChildRemoved(@NonNull DataSnapshot snapshot) {\n                dailyBreachRVAdapter.notifyDataSetChanged();\n            }\n\n            @Override\n            public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\n                dailyBreachRVAdapter.notifyDataSetChanged();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n\n    @Override\n    public void onBreachClick(int position) {\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-layout"],"owner":{"account_id":27464098,"reputation":1,"user_id":20954133,"display_name":"Ys1219"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673409636,"creation_date":1673127710,"question_id":75043986,"body_markdown":"I am trying to make a simple parking game in Android Studio, but I had a few issues that I came across which I was not able to figure out on my own. \r\n\r\n1. I wanted to create a button which the user can click to restart the game when they crash into another car. I created a layout and I was able to get it to show up when the car did crash, but the button was not detecting my clicks at all. I had a separate method to change the layout when there was a collision. I made sure the method I had did work by trying it in the onCreate() method but when I try to do this outside of onCreate(), it does not work.  Is it even possible to have a working button outside of the onCreate method()? From what I have tried, I have not been able to get it to work. \r\n\r\n2. This one was my main issue: after the user parks in the first level and goes on to the second one, the collision zones from the first level are still there. The images of the cars go away on level two but the collision area does not. I changed the layout from level_one to level_two so I&#39;m not sure why this is happening. Did I not change the layout correctly? \r\n\r\n\r\n\r\nHere is most of my code so you all can see:\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity implements View.OnTouchListener {\r\n    int score = 4;\r\n    Button button;\r\n    Button fButton;\r\n    ConstraintLayout layout;\r\n    Levels l = new Levels();\r\n\r\n    ImageView kia;\r\n    ImageView kiaReference;\r\n    ImageView parking;\r\n    FrameLayout frame;\r\n    Drawable kialeft, kiaright;\r\n    float kiaX, kiaY;\r\n    boolean up, down, left, right;\r\n    Timer timer = new Timer();\r\n    Handler handler = new Handler();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        setContentView(R.layout.activity_main);\r\n        button =  (Button) findViewById(R.id.button2);\r\n        score = 0;\r\n        button.setOnClickListener(new View.OnClickListener()\r\n        {\r\n            @Override\r\n            public void onClick(View V)\r\n            {\r\n                startGame();\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n   public void startGame()\r\n    {\r\n        button.setVisibility(View.GONE);\r\n        setContentView(R.layout.level_one);\r\n        lvl1();\r\n    }\r\n    public void lvl1()\r\n    {\r\n        ImageView honda;\r\n        ImageView mx5;\r\n\r\n        kiaReference = findViewById(R.id.kiaReference);\r\n        kia = findViewById(R.id.kia);\r\n        frame = findViewById(R.id.frame);\r\n        honda = findViewById(R.id.accord);\r\n        mx5 = findViewById(R.id.mx5);\r\n\r\n        parking = findViewById(R.id.parkingSpot);\r\n        findViewById(R.id.up).setOnTouchListener(this);\r\n        findViewById(R.id.left).setOnTouchListener(this);\r\n        findViewById(R.id.right).setOnTouchListener(this);\r\n        findViewById(R.id.down).setOnTouchListener(this);\r\n        timer.schedule(new TimerTask()\r\n        {\r\n            @Override\r\n            public void run()\r\n            {\r\n                handler.post(new Runnable()\r\n                {\r\n                    @Override\r\n                    public void run()\r\n                    {\r\n                        changePos();\r\n                        if(checkCollision(kiaReference,honda) || checkCollision(kiaReference,mx5))\r\n                        {\r\n                            setContentView(R.layout.failed);\r\n                            new Handler().postDelayed(new Runnable() {\r\n                                @Override\r\n                                public void run() {\r\n                                    finish();\r\n                                    timer.cancel();\r\n                                }\r\n                            },1000);\r\n                        }\r\n                        else\r\n                       if(isParked())\r\n                       {\r\n                          /* new Handler().postDelayed(new Runnable() {\r\n                               @Override\r\n                               public void run() {\r\n                                   setContentView(R.layout.passed);\r\n                               }\r\n                           },2000);*/\r\n                           if(isTimerCancelled()) {\r\n                               timer.cancel();\r\n                               lvl2();\r\n                           }\r\n                           else\r\n                           {\r\n                               lvl2();\r\n                           }\r\n                       }\r\n                    }\r\n                });\r\n            }\r\n        },0,10);\r\n    }\r\n    public boolean isTimerCancelled()\r\n    {\r\n        int cancelledTasks = timer.purge();\r\n        return cancelledTasks &gt; 0;\r\n    }\r\n    public void lvl2()\r\n    {\r\n        ImageView pilot;\r\n        ImageView silverado;\r\n\r\n        setContentView(R.layout.level_two);\r\n        kiaReference = findViewById(R.id.kiaReference);\r\n        kia = findViewById(R.id.kia);\r\n        frame = findViewById(R.id.frame);\r\n        pilot = findViewById(R.id.pilot);\r\n        silverado = findViewById(R.id.silverado);\r\n\r\n        parking = findViewById(R.id.parkingSpot);\r\n        findViewById(R.id.up).setOnTouchListener(this);\r\n        findViewById(R.id.left).setOnTouchListener(this);\r\n        findViewById(R.id.right).setOnTouchListener(this);\r\n        findViewById(R.id.down).setOnTouchListener(this);\r\n        timer.schedule(new TimerTask()\r\n        {\r\n            @Override\r\n            public void run()\r\n            {\r\n                handler.post(new Runnable()\r\n                {\r\n                    @Override\r\n                    public void run()\r\n                    {\r\n                        changePos();\r\n                        if(checkCollision(kiaReference,pilot) || checkCollision(kiaReference,silverado))\r\n                        {\r\n                            setContentView(R.layout.failed);\r\n                            new Handler().postDelayed(new Runnable() {\r\n                                @Override\r\n                                public void run() {\r\n                                    finish();\r\n                                }\r\n                            },1000);\r\n                        }\r\n                        else\r\n                        if(isParked())\r\n                        {\r\n                            timer.cancel();\r\n                            setContentView(R.layout.activity_main);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        },0,10);\r\n    }\r\n    \r\n    public boolean checkCollision(ImageView a, ImageView b)\r\n    {\r\n        int[] location = new int[2];\r\n        int[] parklocation = new int[2];\r\n\r\n        int aX;\r\n        int aY;\r\n\r\n        int bX;\r\n        int bY;\r\n\r\n        a.getLocationInWindow(location);\r\n        aX = location[0];\r\n        aY = location[1];\r\n\r\n        b.getLocationInWindow(parklocation);\r\n        bX = parklocation[0];\r\n        bY = parklocation[1];\r\n\r\n        Rect k = new Rect();\r\n        a.getGlobalVisibleRect(k);\r\n        Rect h = new Rect();\r\n        b.getGlobalVisibleRect(h);\r\n\r\n        if(k.intersect(h)) {\r\n            return true;\r\n        }\r\n        else\r\n        {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    }\r\n```\r\n\r\nAnd here is the method I was talking about in my first problem: \r\n\r\n\r\n```\r\npublic void failed()\r\n{\r\nfButton =   findViewById(R.id.failedB);\r\n        fButton.bringToFront();\r\n        fButton.setEnabled(true);\r\n        Intent intent = new Intent(MainActivity.this,MainActivity.class);\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        startActivity(intent);\r\n        fButton.setOnClickListener(new View.OnClickListener()\r\n        {\r\n            @Override\r\n            public void onClick(View V)\r\n            {\r\n                /*Intent intent = new Intent(MainActivity.this,MainActivity.class);\r\n                intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n}\r\n```\r\nI&#39;m also not 100% sure if this is the correct way to restart the app.\r\n\r\n\r\n![This is level one](https://i.stack.imgur.com/rc4bu.png)\r\n\r\n![This is level two](https://i.stack.imgur.com/h89Ju.png)\r\n\r\n\r\nIf you need more clarification or more code, feel free to ask!","title":"Collisions occur in the same location even if I change the ContentView in Android Studio","body":"<p>I am trying to make a simple parking game in Android Studio, but I had a few issues that I came across which I was not able to figure out on my own.</p>\n<ol>\n<li><p>I wanted to create a button which the user can click to restart the game when they crash into another car. I created a layout and I was able to get it to show up when the car did crash, but the button was not detecting my clicks at all. I had a separate method to change the layout when there was a collision. I made sure the method I had did work by trying it in the onCreate() method but when I try to do this outside of onCreate(), it does not work.  Is it even possible to have a working button outside of the onCreate method()? From what I have tried, I have not been able to get it to work.</p>\n</li>\n<li><p>This one was my main issue: after the user parks in the first level and goes on to the second one, the collision zones from the first level are still there. The images of the cars go away on level two but the collision area does not. I changed the layout from level_one to level_two so I'm not sure why this is happening. Did I not change the layout correctly?</p>\n</li>\n</ol>\n<p>Here is most of my code so you all can see:</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements View.OnTouchListener {\n    int score = 4;\n    Button button;\n    Button fButton;\n    ConstraintLayout layout;\n    Levels l = new Levels();\n\n    ImageView kia;\n    ImageView kiaReference;\n    ImageView parking;\n    FrameLayout frame;\n    Drawable kialeft, kiaright;\n    float kiaX, kiaY;\n    boolean up, down, left, right;\n    Timer timer = new Timer();\n    Handler handler = new Handler();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        setContentView(R.layout.activity_main);\n        button =  (Button) findViewById(R.id.button2);\n        score = 0;\n        button.setOnClickListener(new View.OnClickListener()\n        {\n            @Override\n            public void onClick(View V)\n            {\n                startGame();\n            }\n\n        });\n    }\n\n   public void startGame()\n    {\n        button.setVisibility(View.GONE);\n        setContentView(R.layout.level_one);\n        lvl1();\n    }\n    public void lvl1()\n    {\n        ImageView honda;\n        ImageView mx5;\n\n        kiaReference = findViewById(R.id.kiaReference);\n        kia = findViewById(R.id.kia);\n        frame = findViewById(R.id.frame);\n        honda = findViewById(R.id.accord);\n        mx5 = findViewById(R.id.mx5);\n\n        parking = findViewById(R.id.parkingSpot);\n        findViewById(R.id.up).setOnTouchListener(this);\n        findViewById(R.id.left).setOnTouchListener(this);\n        findViewById(R.id.right).setOnTouchListener(this);\n        findViewById(R.id.down).setOnTouchListener(this);\n        timer.schedule(new TimerTask()\n        {\n            @Override\n            public void run()\n            {\n                handler.post(new Runnable()\n                {\n                    @Override\n                    public void run()\n                    {\n                        changePos();\n                        if(checkCollision(kiaReference,honda) || checkCollision(kiaReference,mx5))\n                        {\n                            setContentView(R.layout.failed);\n                            new Handler().postDelayed(new Runnable() {\n                                @Override\n                                public void run() {\n                                    finish();\n                                    timer.cancel();\n                                }\n                            },1000);\n                        }\n                        else\n                       if(isParked())\n                       {\n                          /* new Handler().postDelayed(new Runnable() {\n                               @Override\n                               public void run() {\n                                   setContentView(R.layout.passed);\n                               }\n                           },2000);*/\n                           if(isTimerCancelled()) {\n                               timer.cancel();\n                               lvl2();\n                           }\n                           else\n                           {\n                               lvl2();\n                           }\n                       }\n                    }\n                });\n            }\n        },0,10);\n    }\n    public boolean isTimerCancelled()\n    {\n        int cancelledTasks = timer.purge();\n        return cancelledTasks &gt; 0;\n    }\n    public void lvl2()\n    {\n        ImageView pilot;\n        ImageView silverado;\n\n        setContentView(R.layout.level_two);\n        kiaReference = findViewById(R.id.kiaReference);\n        kia = findViewById(R.id.kia);\n        frame = findViewById(R.id.frame);\n        pilot = findViewById(R.id.pilot);\n        silverado = findViewById(R.id.silverado);\n\n        parking = findViewById(R.id.parkingSpot);\n        findViewById(R.id.up).setOnTouchListener(this);\n        findViewById(R.id.left).setOnTouchListener(this);\n        findViewById(R.id.right).setOnTouchListener(this);\n        findViewById(R.id.down).setOnTouchListener(this);\n        timer.schedule(new TimerTask()\n        {\n            @Override\n            public void run()\n            {\n                handler.post(new Runnable()\n                {\n                    @Override\n                    public void run()\n                    {\n                        changePos();\n                        if(checkCollision(kiaReference,pilot) || checkCollision(kiaReference,silverado))\n                        {\n                            setContentView(R.layout.failed);\n                            new Handler().postDelayed(new Runnable() {\n                                @Override\n                                public void run() {\n                                    finish();\n                                }\n                            },1000);\n                        }\n                        else\n                        if(isParked())\n                        {\n                            timer.cancel();\n                            setContentView(R.layout.activity_main);\n                        }\n                    }\n                });\n            }\n        },0,10);\n    }\n    \n    public boolean checkCollision(ImageView a, ImageView b)\n    {\n        int[] location = new int[2];\n        int[] parklocation = new int[2];\n\n        int aX;\n        int aY;\n\n        int bX;\n        int bY;\n\n        a.getLocationInWindow(location);\n        aX = location[0];\n        aY = location[1];\n\n        b.getLocationInWindow(parklocation);\n        bX = parklocation[0];\n        bY = parklocation[1];\n\n        Rect k = new Rect();\n        a.getGlobalVisibleRect(k);\n        Rect h = new Rect();\n        b.getGlobalVisibleRect(h);\n\n        if(k.intersect(h)) {\n            return true;\n        }\n        else\n        {\n            return false;\n        }\n    }\n\n    }\n</code></pre>\n<p>And here is the method I was talking about in my first problem:</p>\n<pre><code>public void failed()\n{\nfButton =   findViewById(R.id.failedB);\n        fButton.bringToFront();\n        fButton.setEnabled(true);\n        Intent intent = new Intent(MainActivity.this,MainActivity.class);\n        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        startActivity(intent);\n        fButton.setOnClickListener(new View.OnClickListener()\n        {\n            @Override\n            public void onClick(View V)\n            {\n                /*Intent intent = new Intent(MainActivity.this,MainActivity.class);\n                intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                startActivity(intent);\n            }\n        });\n}\n</code></pre>\n<p>I'm also not 100% sure if this is the correct way to restart the app.</p>\n<p><img src=\"https://i.stack.imgur.com/rc4bu.png\" alt=\"This is level one\" /></p>\n<p><img src=\"https://i.stack.imgur.com/h89Ju.png\" alt=\"This is level two\" /></p>\n<p>If you need more clarification or more code, feel free to ask!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9483,"page":740,"page_size":100}
