{"items":[{"tags":["java","algorithm","search"],"comments":[{"owner":{"account_id":26482234,"reputation":1276,"user_id":20121320,"display_name":"Florent Monin"},"score":4,"creation_date":1680178043,"post_id":75887904,"comment_id":133855905,"body_markdown":"some of the logic seems pretty complex, but I suspect you can break it down in smaller functions. For instance, a function that returns all adjacent tiles from a given tile will probably be very helpful. Without the code you&#39;ve written, it is hard to say what is wrong/could be improved with it though","body":"some of the logic seems pretty complex, but I suspect you can break it down in smaller functions. For instance, a function that returns all adjacent tiles from a given tile will probably be very helpful. Without the code you&#39;ve written, it is hard to say what is wrong/could be improved with it though"},{"owner":{"account_id":27679966,"reputation":39,"user_id":21128942,"display_name":"st3ems"},"score":0,"creation_date":1680178357,"post_id":75887904,"comment_id":133855971,"body_markdown":"That&#39;s a good suggestion. The codes are way too long to be reviewed. I was hoping to start again from scratch and try to look in another way.","body":"That&#39;s a good suggestion. The codes are way too long to be reviewed. I was hoping to start again from scratch and try to look in another way."},{"owner":{"account_id":26482234,"reputation":1276,"user_id":20121320,"display_name":"Florent Monin"},"score":1,"creation_date":1680178996,"post_id":75887904,"comment_id":133856145,"body_markdown":"I think, having a `GetAdjacentTiles` function should be enough to solve the bear, Hawk and Fox rules. For the Salmon, you will need something looking like [this](https://stackoverflow.com/questions/16506150/longest-path-on-a-grid-without-revisiting-grid-cells). And for the Elk, I guess some function like `NumberOfElkInThisDirection` which walks through one of the 6 directions from a tile, and counts the number of elks in a row should do the trick","body":"I think, having a <code>GetAdjacentTiles</code> function should be enough to solve the bear, Hawk and Fox rules. For the Salmon, you will need something looking like <a href=\"https://stackoverflow.com/questions/16506150/longest-path-on-a-grid-without-revisiting-grid-cells\">this</a>. And for the Elk, I guess some function like <code>NumberOfElkInThisDirection</code> which walks through one of the 6 directions from a tile, and counts the number of elks in a row should do the trick"},{"owner":{"account_id":27679966,"reputation":39,"user_id":21128942,"display_name":"st3ems"},"score":0,"creation_date":1680183048,"post_id":75887904,"comment_id":133857413,"body_markdown":"@FlorentMonin if I have an arrayList `ArrayList&lt;Point&gt; bear;` which contains the point of all bears in the board. Is this going to help?","body":"@FlorentMonin if I have an arrayList <code>ArrayList&lt;Point&gt; bear;</code> which contains the point of all bears in the board. Is this going to help?"},{"owner":{"account_id":26482234,"reputation":1276,"user_id":20121320,"display_name":"Florent Monin"},"score":0,"creation_date":1680251307,"post_id":75887904,"comment_id":133869853,"body_markdown":"for the bears, I think what you can do is run an algorithm to find the connected components (so you number each &quot;group of bear&quot;) and then, for each group, if it has exactly 2 members, then it&#39;s a pair, otherwise it isn&#39;t. I think that should work","body":"for the bears, I think what you can do is run an algorithm to find the connected components (so you number each &quot;group of bear&quot;) and then, for each group, if it has exactly 2 members, then it&#39;s a pair, otherwise it isn&#39;t. I think that should work"},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1680260017,"post_id":75887904,"comment_id":133871936,"body_markdown":"Not directly related: Why using a `HashMap` instead of an 2D array (you already have x,y coordinates in your image)) which is a wildly used way to store such a hex-raster?\nhere a nice resource for hex-grid algorithms and data-structures https://www.redblobgames.com/grids/hexagons/","body":"Not directly related: Why using a <code>HashMap</code> instead of an 2D array (you already have x,y coordinates in your image)) which is a wildly used way to store such a hex-raster? here a nice resource for hex-grid algorithms and data-structures <a href=\"https://www.redblobgames.com/grids/hexagons/\" rel=\"nofollow noreferrer\">redblobgames.com/grids/hexagons</a>"},{"owner":{"account_id":27679966,"reputation":39,"user_id":21128942,"display_name":"st3ems"},"score":0,"creation_date":1680265429,"post_id":75887904,"comment_id":133873163,"body_markdown":"@MrSmith42 How would you implement this in 2D array? The coordinate in this data structure has negative coordinate, which I&#39;m not sure of how to implement in 2D array..","body":"@MrSmith42 How would you implement this in 2D array? The coordinate in this data structure has negative coordinate, which I&#39;m not sure of how to implement in 2D array.."},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1680267810,"post_id":75887904,"comment_id":133873822,"body_markdown":"@st3ems By adding an offset all coordinates become positive.","body":"@st3ems By adding an offset all coordinates become positive."},{"owner":{"account_id":27679966,"reputation":39,"user_id":21128942,"display_name":"st3ems"},"score":0,"creation_date":1680270398,"post_id":75887904,"comment_id":133874488,"body_markdown":"@MrSmith42 that makes sense. But a 2D array would take up more memory than I intended to use? I also have to define the size of the 2D array, which I&#39;m not sure of since the user can place a tile at any position..","body":"@MrSmith42 that makes sense. But a 2D array would take up more memory than I intended to use? I also have to define the size of the 2D array, which I&#39;m not sure of since the user can place a tile at any position.."}],"owner":{"account_id":27679966,"reputation":39,"user_id":21128942,"display_name":"st3ems"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1680186107,"creation_date":1680177096,"question_id":75887904,"body_markdown":"Supposed I have this data structure:\r\n\r\n[![Hexagon structure][1]][1]\r\n\r\nI am using a hash map to represent the data structure:\r\n\r\n     HashMap&lt;Point, Tile&gt; board;\r\n\r\nWhere Point class is just consisting of int x and int y which is used to represent the coordinate in the data structure above.\r\n\r\n    Point(int x, int y);\r\n\r\nIn Tile class, every tile has an animal token on top. Such that:\r\n\r\n    Tile(Habitat habitat, Animal animalToken);\r\n\r\n\r\nMy aim is to calculate the score according to the animal tokens placed on top of the tiles.\r\n\r\nThis [link][2] has the rules for scoring for each animal.\r\n\r\nWhat I&#39;ve tried is completely mess, which always end up with 100+ of codes just to calculate a score for one specific animal. Is there any algorithm/searching algorithm I should know about to make my life easier?\r\n\r\nPS: I have little knowledge on graph structure.\r\n\r\nEdit:\r\n\r\n    private static ArrayList&lt;Tile&gt; adjacentAvailableTile(Point point)\r\n    {\r\n        return adjacentAvailableTile(adjacentAvailablePoints(point));\r\n    }\r\n\r\n\r\n    private static ArrayList&lt;Tile&gt; adjacentAvailableTile(ArrayList&lt;Point&gt; points)\r\n    {\r\n        ArrayList&lt;Tile&gt; availableTiles = new ArrayList&lt;&gt;();\r\n        for (Point point : points)\r\n        {\r\n            Tile tile = board.get(point);\r\n            availableTiles.add(tile);\r\n        }\r\n        return availableTiles;\r\n    }\r\n\r\n\r\n    private static ArrayList&lt;Point&gt; adjacentAvailablePoints(Point originPoint)\r\n    {\r\n        Point[] sixAdjacentPoint = new Point[6];\r\n        int i = 0;\r\n        for (Position pos : Position.values())      //loop through enum Position\r\n        {\r\n            //sixAdjacentPoint now has the adjacent points of the given point\r\n            sixAdjacentPoint[i++] = getPoint(originPoint, pos);\r\n        }\r\n\r\n        ArrayList&lt;Point&gt; availablePoint = new ArrayList&lt;&gt;();\r\n        for (Point point : sixAdjacentPoint)\r\n        {\r\n            if (board.containsKey(point))\r\n                availablePoint.add(point);\r\n        }\r\n        return availablePoint;\r\n    }\r\n\r\nI now can find adjacent tiles from a given point.\r\n\r\n  [1]: https://i.stack.imgur.com/L1CZk.png\r\n  [2]: https://cascadiagame.github.io/","title":"algorithm for hexagon structure","body":"<p>Supposed I have this data structure:</p>\n<p><a href=\"https://i.stack.imgur.com/L1CZk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L1CZk.png\" alt=\"Hexagon structure\" /></a></p>\n<p>I am using a hash map to represent the data structure:</p>\n<pre><code> HashMap&lt;Point, Tile&gt; board;\n</code></pre>\n<p>Where Point class is just consisting of int x and int y which is used to represent the coordinate in the data structure above.</p>\n<pre><code>Point(int x, int y);\n</code></pre>\n<p>In Tile class, every tile has an animal token on top. Such that:</p>\n<pre><code>Tile(Habitat habitat, Animal animalToken);\n</code></pre>\n<p>My aim is to calculate the score according to the animal tokens placed on top of the tiles.</p>\n<p>This <a href=\"https://cascadiagame.github.io/\" rel=\"nofollow noreferrer\">link</a> has the rules for scoring for each animal.</p>\n<p>What I've tried is completely mess, which always end up with 100+ of codes just to calculate a score for one specific animal. Is there any algorithm/searching algorithm I should know about to make my life easier?</p>\n<p>PS: I have little knowledge on graph structure.</p>\n<p>Edit:</p>\n<pre><code>private static ArrayList&lt;Tile&gt; adjacentAvailableTile(Point point)\n{\n    return adjacentAvailableTile(adjacentAvailablePoints(point));\n}\n\n\nprivate static ArrayList&lt;Tile&gt; adjacentAvailableTile(ArrayList&lt;Point&gt; points)\n{\n    ArrayList&lt;Tile&gt; availableTiles = new ArrayList&lt;&gt;();\n    for (Point point : points)\n    {\n        Tile tile = board.get(point);\n        availableTiles.add(tile);\n    }\n    return availableTiles;\n}\n\n\nprivate static ArrayList&lt;Point&gt; adjacentAvailablePoints(Point originPoint)\n{\n    Point[] sixAdjacentPoint = new Point[6];\n    int i = 0;\n    for (Position pos : Position.values())      //loop through enum Position\n    {\n        //sixAdjacentPoint now has the adjacent points of the given point\n        sixAdjacentPoint[i++] = getPoint(originPoint, pos);\n    }\n\n    ArrayList&lt;Point&gt; availablePoint = new ArrayList&lt;&gt;();\n    for (Point point : sixAdjacentPoint)\n    {\n        if (board.containsKey(point))\n            availablePoint.add(point);\n    }\n    return availablePoint;\n}\n</code></pre>\n<p>I now can find adjacent tiles from a given point.</p>\n"},{"tags":["java","spring","domain-driven-design"],"answers":[{"tags":[],"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680185741,"creation_date":1680185636,"answer_id":75889354,"question_id":75887930,"body_markdown":"I noticed that you tagged your question with `domain-driven-design`. One of the key principles in domain driven design is that every aggregate has one root and that operations on that aggregate happen via the root. Looking at the example that you provided it looks like that encapsulation is broken.\r\n\r\nI recommend to rethink your design. Some questions that could help in that effort:\r\n - Can a user exist without a shopping cart (for example when he has just logged in) or is he assigned an empty shopping cart during creation?\r\n - Can a shopping cart exist without a user (likely not) -&gt; This may be a pointer that all operations on shopping cart actually have to go via its aggregate root which is user. So now you could question why `User` needs to be an attribute of `ShoppingCart`, since `ShoppingCart` can never be accessed directly, it always has to be accessed via `User`.","title":"Java Domain and DAO Mapper","body":"<p>I noticed that you tagged your question with <code>domain-driven-design</code>. One of the key principles in domain driven design is that every aggregate has one root and that operations on that aggregate happen via the root. Looking at the example that you provided it looks like that encapsulation is broken.</p>\n<p>I recommend to rethink your design. Some questions that could help in that effort:</p>\n<ul>\n<li>Can a user exist without a shopping cart (for example when he has just logged in) or is he assigned an empty shopping cart during creation?</li>\n<li>Can a shopping cart exist without a user (likely not) -&gt; This may be a pointer that all operations on shopping cart actually have to go via its aggregate root which is user. So now you could question why <code>User</code> needs to be an attribute of <code>ShoppingCart</code>, since <code>ShoppingCart</code> can never be accessed directly, it always has to be accessed via <code>User</code>.</li>\n</ul>\n"}],"owner":{"account_id":21978200,"reputation":25,"user_id":16253680,"display_name":"Adrian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680185741,"creation_date":1680177236,"question_id":75887930,"body_markdown":"The structure of the project is that there are Domain objects that are used to perform some logical operations on them and DAO objects that are only used to save and read data from the database. And after reading the DAO object from the database there are mappers whose job is to convert the DAO object to the Domain version.\r\n\r\nSample of a Domain object:\r\n``` \r\npublic class User {\r\n    UserId userId;\r\n\tString name;\r\n\tShoppingCart shoppingCart;\r\n    ...\r\n}\r\n\r\npublic class ShoppingCart {\r\n    ShoppingCartId shoppingCartId;\r\n    float price;\r\n\tUser user;\r\n    ...\r\n}\r\n``` \r\n\r\nSample of DAO objects:\r\n``` \r\npublic class UserDAO {\r\n    Long id;\r\n\tString name;\r\n\tShoppingCartDAO shoppingCart;\r\n    ...\r\n}\r\n\r\npublic class ShoppingCartDAO {\r\n    Long id;\r\n    float price;\r\n\tUserDAO user;\r\n    ...\r\n}\r\n``` \r\nBut there is a problem when the DAO object has a relation with another object and this relation is bidirectional. \r\n\r\nFor example:\r\nUser object has ShoppingCart object inside and ShoppingCart has User object inside in @OneToOne relation.\r\n\r\nThe idea of mappers is that they map the whole object so the mapper for the User object would rewrite regular fields into UserDAO and would run mapper for ShoppingCart so it can convert it so ShoppingCartDAO and assign it to UserDAO. But once it does so the mapper ShoppingCart mapper will try to map the User to DAO and it ends up in a loop of mappers calling each other. \r\n\r\nSample mapper:\r\n``` \r\n@NoArgsConstructor(access = AccessLevel.PRIVATE)\r\npublic class UserDAOMapper {\r\n\r\n    public static UserDAO toDAO(User user) {\r\n\r\n        return UserDAO.builder()\r\n                .id(user.getUserId().getId())\r\n                .name(user.getName())\r\n                .shoppingCart(ShoppingCartDAOMapper.toDAO(user.getShoppingCar())\r\n                .build();\r\n    }\r\n}\r\n``` \r\n\r\nHow can I avoid such loops and at the same time keep the code simple? The only solution I see so far is the usage of Factory services that would take a list of arguments with objects inside the object and map it only if the passed argument is null. ","title":"Java Domain and DAO Mapper","body":"<p>The structure of the project is that there are Domain objects that are used to perform some logical operations on them and DAO objects that are only used to save and read data from the database. And after reading the DAO object from the database there are mappers whose job is to convert the DAO object to the Domain version.</p>\n<p>Sample of a Domain object:</p>\n<pre><code>public class User {\n    UserId userId;\n    String name;\n    ShoppingCart shoppingCart;\n    ...\n}\n\npublic class ShoppingCart {\n    ShoppingCartId shoppingCartId;\n    float price;\n    User user;\n    ...\n}\n</code></pre>\n<p>Sample of DAO objects:</p>\n<pre><code>public class UserDAO {\n    Long id;\n    String name;\n    ShoppingCartDAO shoppingCart;\n    ...\n}\n\npublic class ShoppingCartDAO {\n    Long id;\n    float price;\n    UserDAO user;\n    ...\n}\n</code></pre>\n<p>But there is a problem when the DAO object has a relation with another object and this relation is bidirectional.</p>\n<p>For example:\nUser object has ShoppingCart object inside and ShoppingCart has User object inside in @OneToOne relation.</p>\n<p>The idea of mappers is that they map the whole object so the mapper for the User object would rewrite regular fields into UserDAO and would run mapper for ShoppingCart so it can convert it so ShoppingCartDAO and assign it to UserDAO. But once it does so the mapper ShoppingCart mapper will try to map the User to DAO and it ends up in a loop of mappers calling each other.</p>\n<p>Sample mapper:</p>\n<pre><code>@NoArgsConstructor(access = AccessLevel.PRIVATE)\npublic class UserDAOMapper {\n\n    public static UserDAO toDAO(User user) {\n\n        return UserDAO.builder()\n                .id(user.getUserId().getId())\n                .name(user.getName())\n                .shoppingCart(ShoppingCartDAOMapper.toDAO(user.getShoppingCar())\n                .build();\n    }\n}\n</code></pre>\n<p>How can I avoid such loops and at the same time keep the code simple? The only solution I see so far is the usage of Factory services that would take a list of arguments with objects inside the object and map it only if the passed argument is null.</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1680194183,"post_id":75886098,"comment_id":133860669,"body_markdown":"Realistically, you should not create a JVM max heap size that large, anyway. GC pauses will take forever.","body":"Realistically, you should not create a JVM max heap size that large, anyway. GC pauses will take forever."}],"answers":[{"tags":[],"owner":{"account_id":12285741,"reputation":155,"user_id":8965263,"display_name":"Joom187"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680185561,"creation_date":1680185561,"answer_id":75889338,"question_id":75886098,"body_markdown":"These kinds of errors can not only occur because the total amount of heap space is exhausted, but also when the number of memory-mapped areas is exhausted.\r\n\r\nIn Linux, the maximum per-process number of map areas is controlled by vm.max_map_count sysctl parameter (which defaults to 65536). So, i would try, for example, to double it and examine what happens:\r\n\r\nsysctl -w vm.max_map_count=131072\r\nAn indicator that you have hit into this problem is when the heap dump lists a huge number of open mmap areas (under &quot;Dynamic Libraries&quot; section)\r\n\r\n ","title":"Kafka Jvm out of memory","body":"<p>These kinds of errors can not only occur because the total amount of heap space is exhausted, but also when the number of memory-mapped areas is exhausted.</p>\n<p>In Linux, the maximum per-process number of map areas is controlled by vm.max_map_count sysctl parameter (which defaults to 65536). So, i would try, for example, to double it and examine what happens:</p>\n<p>sysctl -w vm.max_map_count=131072\nAn indicator that you have hit into this problem is when the heap dump lists a huge number of open mmap areas (under &quot;Dynamic Libraries&quot; section)</p>\n"}],"owner":{"account_id":12285741,"reputation":155,"user_id":8965263,"display_name":"Joom187"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680185561,"creation_date":1680166568,"question_id":75886098,"body_markdown":"have 1 kafka broker and 1 zookeeper on same VM with following specs\r\n```\r\n\r\nVcpu: 96\r\n\r\nRAM: 442GB\r\n```\r\n\r\nAnd for testing purposes I want to test how many partitions can will be on broker so I do the following steps\r\n\r\n```\r\n\r\n    Create topic with 128 partitions\r\n    Scale this topics to 50.000 partitions\r\n```\r\n\r\nThen when number of partitions reach the 32168 partitions, kafka brokers Exited with following error log hs_err_pid.log\r\n\r\n```\r\n\r\n head -100 hs_err_pid120814.log\r\n\r\n\r\n\r\n There is insufficient memory for the Java Runtime Environment to continue.\r\n\r\n Native memory allocation (mmap) failed to map 262144 bytes for committing reserved memory.\r\n\r\n Possible reasons:\r\n\r\n   The system is out of physical RAM or swap space\r\n\r\n Possible solutions:\r\n\r\n   Reduce memory load on the system\r\n\r\n   Increase physical memory or swap space\r\n\r\n   Check if swap backing store is full\r\n\r\n   Decrease Java heap size (-Xmx/-Xms)\r\n\r\n   Decrease number of Java threads\r\n\r\n  Decrease Java thread stack sizes (-Xss)\r\n\r\n   Set larger code cache with -XX:ReservedCodeCacheSize=\r\n\r\n This output file may be truncated or incomplete.\r\n\r\n\r\n\r\n  Out of Memory Error (os_linux.cpp:2795), pid=120814, tid=0x00007f4ba5e2d700\r\n\r\n\r\n\r\n JRE version: OpenJDK Runtime Environment (8.0_362-b09) (build 1.8.0_362-b09)\r\n\r\n Java VM: OpenJDK 64-Bit Server VM (25.362-b09 mixed mode linux-amd64 )\r\n\r\n```\r\n\r\n\r\n But why Out Of memory? Here is Kafka heap size\r\n\r\n\r\n**Environment=&quot;KAFKA_HEAP_OPTS=-Xms1G -Xmx96G&quot;**\r\n\r\n\r\nand here is pick RAM consumption when partitions is created\r\n\r\n```\r\nfree -h\r\n\r\n          total        used        free      shared  buff/cache   available\r\n\r\nMem: 442Gi 7.4Gi 435Gi 2.2Gi 4.5Gi 435Gi\r\n\r\nSwap: 0B 0B 0B\r\n```\r\n\r\nWhy it is exited because of RAM? I have no limits in my linux system\r\n\r\n\r\n```\r\nulimit -a\r\n\r\ncore file size          (blocks, -c) unlimited\r\n\r\ndata seg size           (kbytes, -d) unlimited\r\n\r\nscheduling priority             (-e) 0\r\n\r\nfile size               (blocks, -f) unlimited\r\n\r\npending signals                 (-i) unlimited\r\n\r\nmax locked memory       (kbytes, -l) unlimited\r\n\r\nmax memory size         (kbytes, -m) unlimited\r\n\r\nopen files                      (-n) 1048576\r\n\r\npipe size            (512 bytes, -p) 8\r\n\r\nPOSIX message queues     (bytes, -q) unlimited\r\n\r\nreal-time priority              (-r) 0\r\n\r\nstack size              (kbytes, -s) unlimited\r\n\r\ncpu time               (seconds, -t) unlimited\r\n\r\nmax user processes              (-u) unlimited\r\n\r\nvirtual memory          (kbytes, -v) unlimited\r\n\r\nfile locks                      (-x) unlimited\r\n```\r\n","title":"Kafka Jvm out of memory","body":"<p>have 1 kafka broker and 1 zookeeper on same VM with following specs</p>\n<pre><code>\nVcpu: 96\n\nRAM: 442GB\n</code></pre>\n<p>And for testing purposes I want to test how many partitions can will be on broker so I do the following steps</p>\n<pre><code>\n    Create topic with 128 partitions\n    Scale this topics to 50.000 partitions\n</code></pre>\n<p>Then when number of partitions reach the 32168 partitions, kafka brokers Exited with following error log hs_err_pid.log</p>\n<pre><code>\n head -100 hs_err_pid120814.log\n\n\n\n There is insufficient memory for the Java Runtime Environment to continue.\n\n Native memory allocation (mmap) failed to map 262144 bytes for committing reserved memory.\n\n Possible reasons:\n\n   The system is out of physical RAM or swap space\n\n Possible solutions:\n\n   Reduce memory load on the system\n\n   Increase physical memory or swap space\n\n   Check if swap backing store is full\n\n   Decrease Java heap size (-Xmx/-Xms)\n\n   Decrease number of Java threads\n\n  Decrease Java thread stack sizes (-Xss)\n\n   Set larger code cache with -XX:ReservedCodeCacheSize=\n\n This output file may be truncated or incomplete.\n\n\n\n  Out of Memory Error (os_linux.cpp:2795), pid=120814, tid=0x00007f4ba5e2d700\n\n\n\n JRE version: OpenJDK Runtime Environment (8.0_362-b09) (build 1.8.0_362-b09)\n\n Java VM: OpenJDK 64-Bit Server VM (25.362-b09 mixed mode linux-amd64 )\n\n</code></pre>\n<p>But why Out Of memory? Here is Kafka heap size</p>\n<p><strong>Environment=&quot;KAFKA_HEAP_OPTS=-Xms1G -Xmx96G&quot;</strong></p>\n<p>and here is pick RAM consumption when partitions is created</p>\n<pre><code>free -h\n\n          total        used        free      shared  buff/cache   available\n\nMem: 442Gi 7.4Gi 435Gi 2.2Gi 4.5Gi 435Gi\n\nSwap: 0B 0B 0B\n</code></pre>\n<p>Why it is exited because of RAM? I have no limits in my linux system</p>\n<pre><code>ulimit -a\n\ncore file size          (blocks, -c) unlimited\n\ndata seg size           (kbytes, -d) unlimited\n\nscheduling priority             (-e) 0\n\nfile size               (blocks, -f) unlimited\n\npending signals                 (-i) unlimited\n\nmax locked memory       (kbytes, -l) unlimited\n\nmax memory size         (kbytes, -m) unlimited\n\nopen files                      (-n) 1048576\n\npipe size            (512 bytes, -p) 8\n\nPOSIX message queues     (bytes, -q) unlimited\n\nreal-time priority              (-r) 0\n\nstack size              (kbytes, -s) unlimited\n\ncpu time               (seconds, -t) unlimited\n\nmax user processes              (-u) unlimited\n\nvirtual memory          (kbytes, -v) unlimited\n\nfile locks                      (-x) unlimited\n</code></pre>\n"},{"tags":["java","mysql","hibernate"],"owner":{"account_id":5220340,"reputation":51,"user_id":5908972,"display_name":"Vaibhav Khandekar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680185503,"creation_date":1680185503,"question_id":75889331,"body_markdown":"I want to join 1 table to another using hibernate. \r\n\r\n    Invitation (\r\n    primary key (id, config_version_id),\r\n    other columns\r\n    );\r\n\r\n    ConfigVersion(\r\n    primary key (id),\r\n    boolean active\r\n    other columns\r\n    );\r\n\r\n\r\n    User(\r\n    primary key (id),\r\n    InvitationId\r\n    )\r\n\r\n\r\nI want to join User table to Invitation Table, But this join should only use InvitationId, and it should consider config_version having active = true;\r\n\r\nI tried the following, it did not work.\r\n\r\n    Class User {\r\n    @Id\r\n    private Long id;\r\n    \r\n    @ManyToOne\r\n    @JoinColumnsOrFormulas(\r\n    value = {\r\n    @JoinColumnOrFormula(column = @JoinColumn(name = &quot;invitation_id&quot;, referencedColumnName = &quot;id&quot;)),\r\n    @JoinColumnOrFormula(formula = @JoinFormula(value = &quot;(SELECT id  from config_version where active = true)&quot;))\r\n    })\r\n    Invitation invitation;\r\n    \r\n    }\r\n\r\nIn MySQL the query would be,\r\n\r\n    select * from user u\r\n    inner join invitation i on i.id = u.invitationId and i.config_version_id = (select id from configVersion where id = i.config_version_id and active = true)\r\n\r\n","title":"Hibernate: Map composite key using one joinColumn and one direct query","body":"<p>I want to join 1 table to another using hibernate.</p>\n<pre><code>Invitation (\nprimary key (id, config_version_id),\nother columns\n);\n\nConfigVersion(\nprimary key (id),\nboolean active\nother columns\n);\n\n\nUser(\nprimary key (id),\nInvitationId\n)\n</code></pre>\n<p>I want to join User table to Invitation Table, But this join should only use InvitationId, and it should consider config_version having active = true;</p>\n<p>I tried the following, it did not work.</p>\n<pre><code>Class User {\n@Id\nprivate Long id;\n\n@ManyToOne\n@JoinColumnsOrFormulas(\nvalue = {\n@JoinColumnOrFormula(column = @JoinColumn(name = &quot;invitation_id&quot;, referencedColumnName = &quot;id&quot;)),\n@JoinColumnOrFormula(formula = @JoinFormula(value = &quot;(SELECT id  from config_version where active = true)&quot;))\n})\nInvitation invitation;\n\n}\n</code></pre>\n<p>In MySQL the query would be,</p>\n<pre><code>select * from user u\ninner join invitation i on i.id = u.invitationId and i.config_version_id = (select id from configVersion where id = i.config_version_id and active = true)\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","handlerinterceptor"],"comments":[{"owner":{"account_id":15670743,"reputation":135,"user_id":11307336,"display_name":"zoobiE-"},"score":0,"creation_date":1680181475,"post_id":75888564,"comment_id":133856901,"body_markdown":"Can you please include some additional information regarding versions, Spring etc. \nAlso I believe you would need to ensure every library is up to date with jakarta dependencies and not using any old javax ones.","body":"Can you please include some additional information regarding versions, Spring etc.  Also I believe you would need to ensure every library is up to date with jakarta dependencies and not using any old javax ones."},{"owner":{"account_id":4122476,"reputation":71,"user_id":3382421,"display_name":"witilongi"},"score":0,"creation_date":1680184135,"post_id":75888564,"comment_id":133857769,"body_markdown":"Yes of course!! Spring-web in library is version 6.0.5 and spring-web in war project is 5.3.23. I hope this help you!","body":"Yes of course!! Spring-web in library is version 6.0.5 and spring-web in war project is 5.3.23. I hope this help you!"},{"owner":{"account_id":15670743,"reputation":135,"user_id":11307336,"display_name":"zoobiE-"},"score":0,"creation_date":1680254178,"post_id":75888564,"comment_id":133870537,"body_markdown":"There is your problem, you can&#39;t mix those unfortunately since one is using javax and other Jakarta dependencies.","body":"There is your problem, you can&#39;t mix those unfortunately since one is using javax and other Jakarta dependencies."}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680185430,"creation_date":1680185430,"answer_id":75889320,"question_id":75888564,"body_markdown":"You cannot mix Spring MVC 5.3.x and 6.0.x in the same application. As you have seen, the former requires `javax.servlet` while the latter requires `jakarta.servlet`. You will either have to upgrade your war project to use Spring Framework 6.0.x or downgrade you library to use Spring Framework 5.3.x. The servlet container to which you are deploying the war file will determine which is the better approach. If it supports Servlet 5.0 or later, you should upgrade to Spring Framework 6.0. If it only supports Servlet 4.0, you should downgrade to Spring Framework 5.3.","title":"HandlerInterceptor with jakarta HttpServletRequest not working with javax HttpServletRequest","body":"<p>You cannot mix Spring MVC 5.3.x and 6.0.x in the same application. As you have seen, the former requires <code>javax.servlet</code> while the latter requires <code>jakarta.servlet</code>. You will either have to upgrade your war project to use Spring Framework 6.0.x or downgrade you library to use Spring Framework 5.3.x. The servlet container to which you are deploying the war file will determine which is the better approach. If it supports Servlet 5.0 or later, you should upgrade to Spring Framework 6.0. If it only supports Servlet 4.0, you should downgrade to Spring Framework 5.3.</p>\n"}],"owner":{"account_id":4122476,"reputation":71,"user_id":3382421,"display_name":"witilongi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":733,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680185430,"creation_date":1680180971,"question_id":75888564,"body_markdown":"I have a HandlerInterceptor implemented with jakarta libraries:\r\n\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    \r\n    \r\n    \r\n    @ControllerAdvice\r\n    public class RequestGETInterceptor implements HandlerInterceptor {\r\n    \r\n        /** The log. */\r\n        private final Logger log = LoggerFactory.getLogger(this.getClass());\r\n    \r\n        @Autowired\r\n        private Tracer       tracer;\r\n    \r\n        public boolean preHandle(final HttpServletRequest request, final HttpServletResponse response,\r\n                final Object handler) {\r\n    \r\n            if (DispatcherType.REQUEST.name().equals(request.getDispatcherType().name())\r\n                    &amp;&amp; request.getMethod().equals(HttpMethod.GET.name())) {\r\n                Collections.list(request.getHeaderNames()).stream().collect(Collectors.toMap(h -&gt; h, request::getHeader));\r\n                request.getAttribute(HandlerMapping.URI_TEMPLATE_VARIABLES_ATTRIBUTE);\r\n                if (handler instanceof HandlerMethod) {\r\n                    ((HandlerMethod) handler).getMethod().getName();\r\n                }\r\n    \r\n                final Span span = this.tracer.currentSpan();\r\n                this.log.info(&quot;{} Request {}&quot;, request.getMethod(), span.context().spanId());\r\n    \r\n                // log.info(&quot;headers: {} {} request: {}&quot;, headers, StructuredArguments.keyValue(&quot;method&quot;, method),\r\n                // StructuredArguments.keyValue(&quot;request&quot;, parametersInput));\r\n            }\r\n    \r\n            return true;\r\n        }\r\n\r\nAnd I register this Interceptor in configuration of my app with SpringBoot:\r\n\r\n    @Configuration\r\n    public class WebConfigInterceptors implements WebMvcConfigurer {\r\n    \r\n        @Autowired\r\n        private RequestGETInterceptor getInterceptor;\r\n    \r\n        @Override\r\n        public void addInterceptors(InterceptorRegistry registry) {\r\n            registry.addInterceptor(getInterceptor);\r\n        }\r\n    \r\n    }\r\n\r\nThe problem, I think, is that my project uses javax libraries and my library (where the interceptor stay in) use jakarta libraris and doesn&#39;t intercept the requests. Any idea for solve this?\r\n\r\nThanks!!!\r\n\r\n\r\n","title":"HandlerInterceptor with jakarta HttpServletRequest not working with javax HttpServletRequest","body":"<p>I have a HandlerInterceptor implemented with jakarta libraries:</p>\n<pre><code>import jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\n\n\n@ControllerAdvice\npublic class RequestGETInterceptor implements HandlerInterceptor {\n\n    /** The log. */\n    private final Logger log = LoggerFactory.getLogger(this.getClass());\n\n    @Autowired\n    private Tracer       tracer;\n\n    public boolean preHandle(final HttpServletRequest request, final HttpServletResponse response,\n            final Object handler) {\n\n        if (DispatcherType.REQUEST.name().equals(request.getDispatcherType().name())\n                &amp;&amp; request.getMethod().equals(HttpMethod.GET.name())) {\n            Collections.list(request.getHeaderNames()).stream().collect(Collectors.toMap(h -&gt; h, request::getHeader));\n            request.getAttribute(HandlerMapping.URI_TEMPLATE_VARIABLES_ATTRIBUTE);\n            if (handler instanceof HandlerMethod) {\n                ((HandlerMethod) handler).getMethod().getName();\n            }\n\n            final Span span = this.tracer.currentSpan();\n            this.log.info(&quot;{} Request {}&quot;, request.getMethod(), span.context().spanId());\n\n            // log.info(&quot;headers: {} {} request: {}&quot;, headers, StructuredArguments.keyValue(&quot;method&quot;, method),\n            // StructuredArguments.keyValue(&quot;request&quot;, parametersInput));\n        }\n\n        return true;\n    }\n</code></pre>\n<p>And I register this Interceptor in configuration of my app with SpringBoot:</p>\n<pre><code>@Configuration\npublic class WebConfigInterceptors implements WebMvcConfigurer {\n\n    @Autowired\n    private RequestGETInterceptor getInterceptor;\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(getInterceptor);\n    }\n\n}\n</code></pre>\n<p>The problem, I think, is that my project uses javax libraries and my library (where the interceptor stay in) use jakarta libraris and doesn't intercept the requests. Any idea for solve this?</p>\n<p>Thanks!!!</p>\n"},{"tags":["java","gradle","build.gradle"],"owner":{"account_id":3608930,"reputation":331,"user_id":3010454,"display_name":"othp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680185427,"creation_date":1680185427,"question_id":75889319,"body_markdown":"I recently updated a large project to use java.time instead of joda.time. Unfortunately, I wasn&#39;t able to remove joda.time completely from the classpath because some thirdparty dependencies depend on it. Since many classes in joda.time and java.time have the same or similar names, I wanted to avoid other members of the team accidentally importing and using joda.time in new code when their IDE tries to be helpful and adds the import statement for them. To that end, I wanted to update the build.grade file to make the joda.time dependency runtime only. \r\n\r\nI ended up adding a `runtimeOnly(&#39;joda-time:joda-time:2.10.8&#39;)` line to my dependencies configuration and then for each dependency that pulled in joda I added an `exclude module: &#39;joda-time&#39;`. This works but requires that the same exclude be added every time anyone adds a new dependency that uses joda (which is likely to be forgotten) and was extra annoying when joda wasn&#39;t a direct dependency (if my project needs A which depends on B which depends on joda I had to configure A with an exclude of B and include B myself with an exclude of joda). I&#39;d rather have something at a higher level, like how adding exclude statements to `configurations.all` excludes a dependency from everything. \r\n\r\nThere are obviously other solutions to this involving IDE configuration changes, linting rules, developer training, etc; but I would like to know if there&#39;s a straightforward way to tell gradle to convert a transitive dependency from being on the compile and runtime classpaths to being runtime only.","title":"Is it possible to force a transitive dependency in gradle to be runtime only?","body":"<p>I recently updated a large project to use java.time instead of joda.time. Unfortunately, I wasn't able to remove joda.time completely from the classpath because some thirdparty dependencies depend on it. Since many classes in joda.time and java.time have the same or similar names, I wanted to avoid other members of the team accidentally importing and using joda.time in new code when their IDE tries to be helpful and adds the import statement for them. To that end, I wanted to update the build.grade file to make the joda.time dependency runtime only.</p>\n<p>I ended up adding a <code>runtimeOnly('joda-time:joda-time:2.10.8')</code> line to my dependencies configuration and then for each dependency that pulled in joda I added an <code>exclude module: 'joda-time'</code>. This works but requires that the same exclude be added every time anyone adds a new dependency that uses joda (which is likely to be forgotten) and was extra annoying when joda wasn't a direct dependency (if my project needs A which depends on B which depends on joda I had to configure A with an exclude of B and include B myself with an exclude of joda). I'd rather have something at a higher level, like how adding exclude statements to <code>configurations.all</code> excludes a dependency from everything.</p>\n<p>There are obviously other solutions to this involving IDE configuration changes, linting rules, developer training, etc; but I would like to know if there's a straightforward way to tell gradle to convert a transitive dependency from being on the compile and runtime classpaths to being runtime only.</p>\n"},{"tags":["java","spring-boot","kubernetes","config","classnotfoundexception"],"comments":[{"owner":{"account_id":2177911,"reputation":966,"user_id":1928149,"accept_rate":67,"display_name":"Prasannjeet Singh"},"score":0,"creation_date":1680179429,"post_id":75888265,"comment_id":133856272,"body_markdown":"It probably has to do with your Java version. Make sure that the java version that you use in  your computer when running this is same as the java version used in Kubernetes. Check your dockerfile to find which java version it uses. run `java --version` in your computer to find out your local java version. Both must match.","body":"It probably has to do with your Java version. Make sure that the java version that you use in  your computer when running this is same as the java version used in Kubernetes. Check your dockerfile to find which java version it uses. run <code>java --version</code> in your computer to find out your local java version. Both must match."}],"answers":[{"comments":[{"owner":{"account_id":20667761,"reputation":53,"user_id":15174185,"display_name":"Chaithra Shenoy"},"score":0,"creation_date":1680239971,"post_id":75889288,"comment_id":133867811,"body_markdown":"I am using spring-cloud-dependencies bom in the project.\n&lt;properties&gt;\n       &lt;spring-cloud.version&gt;Finchley.SR3&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n&lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;","body":"I am using spring-cloud-dependencies bom in the project. &lt;properties&gt;        &lt;spring-cloud.version&gt;Finchley.SR3&lt;/spring-cloud.version&gt;     &lt;/properties&gt; &lt;dependencyManagement&gt;         &lt;dependencies&gt;             &lt;dependency&gt;                 &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;                 &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;                 &lt;version&gt;${spring-cloud.version}&lt;/version&gt;                 &lt;type&gt;pom&lt;/type&gt;                 &lt;scope&gt;import&lt;/scope&gt;             &lt;/dependency&gt;         &lt;/dependencies&gt;     &lt;/dependencyManagement&gt;"},{"owner":{"account_id":20667761,"reputation":53,"user_id":15174185,"display_name":"Chaithra Shenoy"},"score":0,"creation_date":1680241700,"post_id":75889288,"comment_id":133868001,"body_markdown":"I changed the Spring Cloud Kubernetes version to 1.0.0.RELEASE and application started in the Kubernetes cluster. Thank you","body":"I changed the Spring Cloud Kubernetes version to 1.0.0.RELEASE and application started in the Kubernetes cluster. Thank you"}],"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680185245,"creation_date":1680185245,"answer_id":75889288,"question_id":75888265,"body_markdown":"The version of Spring Cloud Kubernetes that you are using (1.1.10.RELEASE) requires Spring Boot 2.2.x. You are using 2.0.x. This older version of Spring Boot uses an older version of Spring Framework that does not contain the `org.springframework.core.env.Profiles` class. It was introduced in Spring Framework 5.1 and Spring Boot 2.0.x uses Spring Framework 5.0.x.\r\n\r\nYou should update your dependency versions to ensure that they&#39;re compatible. To make it easier to do so, I would recommend using the `spring-cloud-dependencies` bom as shown on its [project page](https://spring.io/projects/spring-cloud).","title":"Caused by: java.lang.ClassNotFoundException: org.springframework.core.env.Profiles","body":"<p>The version of Spring Cloud Kubernetes that you are using (1.1.10.RELEASE) requires Spring Boot 2.2.x. You are using 2.0.x. This older version of Spring Boot uses an older version of Spring Framework that does not contain the <code>org.springframework.core.env.Profiles</code> class. It was introduced in Spring Framework 5.1 and Spring Boot 2.0.x uses Spring Framework 5.0.x.</p>\n<p>You should update your dependency versions to ensure that they're compatible. To make it easier to do so, I would recommend using the <code>spring-cloud-dependencies</code> bom as shown on its <a href=\"https://spring.io/projects/spring-cloud\" rel=\"nofollow noreferrer\">project page</a>.</p>\n"}],"owner":{"account_id":20667761,"reputation":53,"user_id":15174185,"display_name":"Chaithra Shenoy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":763,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75889288,"answer_count":1,"score":1,"last_activity_date":1680185245,"creation_date":1680179156,"question_id":75888265,"body_markdown":"When I run the application locally the application is up and running but when i deploy the same application in the Kubernetes cluster i am getting the error \r\n\r\n**Error** \r\n```\r\njava.lang.NoClassDefFoundError: org/springframework/core/env/Profiles\r\n        at org.springframework.cloud.kubernetes.config.PropertySourceUtils.lambda$null$3(PropertySourceUtils.java:69)\r\n        at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:239)\r\n        at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:167)\r\n        at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:139)\r\n        at org.springframework.beans.factory.config.YamlPropertiesFactoryBean.createProperties(YamlPropertiesFactoryBean.java:135)\r\n        at org.springframework.beans.factory.config.YamlPropertiesFactoryBean.getObject(YamlPropertiesFactoryBean.java:115)\r\n        at org.springframework.cloud.kubernetes.config.PropertySourceUtils.lambda$yamlParserGenerator$4(PropertySourceUtils.java:77)\r\n        at java.util.function.Function.lambda$andThen$1(Function.java:88)\r\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySource.processAllEntries(ConfigMapPropertySource.java:149)\r\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySource.getData(ConfigMapPropertySource.java:100)\r\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySource.&lt;init&gt;(ConfigMapPropertySource.java:78)\r\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator.getMapPropertySourceForSingleConfigMap(ConfigMapPropertySourceLocator.java:96)\r\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator.lambda$locate$0(ConfigMapPropertySourceLocator.java:79)\r\n        at java.util.ArrayList.forEach(ArrayList.java:1259)\r\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator.locate(ConfigMapPropertySourceLocator.java:78)\r\n        at org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration.initialize(PropertySourceBootstrapConfiguration.java:94)\r\n        at org.springframework.boot.SpringApplication.applyInitializers(SpringApplication.java:628)\r\n        at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:364)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:305)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1242)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1230)\r\n        at com.daimler.daivb.msl.MbappsSnapLocalSearchServiceApplication.main(MbappsSnapLocalSearchServiceApplication.java:30)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.core.env.Profiles\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:419)\r\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:93)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\r\n```\r\n\r\nDependencies I am using in the application are \r\n\r\n1. spring-boot-starter-web - 2.0.8.RELEASE\r\n2. gson                    - 2.3.1\r\n3. json-lib                - 2.3\r\n4. spring-cloud-starter-kubernetes-config -1.1.10.RELEASE\r\n5. json                    - 20230227\r\n6. xmlrpc-client           - 3.1.3\r\n7. spring-security-oauth2-autoconfigure - 2.0.8.RELEASE\r\n8. spring-security-config\r\n9. spring-security-web\r\n10. spring-cloud-starter-openfeign - 2.0.0.RELEASE\r\n11. spring-cloud-starter-netflix-ribbon - 2.0.0.RELEASE\r\n12. spring-boot-starter-actuator\r\n13. commons-lang3           - 3.8.1\r\n14. lombok\r\n15. spring-cloud-starter-config - 2.0.3.RELEASE\r\n16. micrometer-registry-prometheus - 1.2.2\r\n17. micrometer-core - 1.2.2\r\n18. spring-boot-starter-test\r\n19. spring-cloud-dependencies - Finchley.SR3\r\n","title":"Caused by: java.lang.ClassNotFoundException: org.springframework.core.env.Profiles","body":"<p>When I run the application locally the application is up and running but when i deploy the same application in the Kubernetes cluster i am getting the error</p>\n<p><strong>Error</strong></p>\n<pre><code>java.lang.NoClassDefFoundError: org/springframework/core/env/Profiles\n        at org.springframework.cloud.kubernetes.config.PropertySourceUtils.lambda$null$3(PropertySourceUtils.java:69)\n        at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:239)\n        at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:167)\n        at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:139)\n        at org.springframework.beans.factory.config.YamlPropertiesFactoryBean.createProperties(YamlPropertiesFactoryBean.java:135)\n        at org.springframework.beans.factory.config.YamlPropertiesFactoryBean.getObject(YamlPropertiesFactoryBean.java:115)\n        at org.springframework.cloud.kubernetes.config.PropertySourceUtils.lambda$yamlParserGenerator$4(PropertySourceUtils.java:77)\n        at java.util.function.Function.lambda$andThen$1(Function.java:88)\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySource.processAllEntries(ConfigMapPropertySource.java:149)\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySource.getData(ConfigMapPropertySource.java:100)\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySource.&lt;init&gt;(ConfigMapPropertySource.java:78)\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator.getMapPropertySourceForSingleConfigMap(ConfigMapPropertySourceLocator.java:96)\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator.lambda$locate$0(ConfigMapPropertySourceLocator.java:79)\n        at java.util.ArrayList.forEach(ArrayList.java:1259)\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator.locate(ConfigMapPropertySourceLocator.java:78)\n        at org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration.initialize(PropertySourceBootstrapConfiguration.java:94)\n        at org.springframework.boot.SpringApplication.applyInitializers(SpringApplication.java:628)\n        at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:364)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:305)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1242)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1230)\n        at com.daimler.daivb.msl.MbappsSnapLocalSearchServiceApplication.main(MbappsSnapLocalSearchServiceApplication.java:30)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\nCaused by: java.lang.ClassNotFoundException: org.springframework.core.env.Profiles\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:419)\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:93)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\n</code></pre>\n<p>Dependencies I am using in the application are</p>\n<ol>\n<li>spring-boot-starter-web - 2.0.8.RELEASE</li>\n<li>gson                    - 2.3.1</li>\n<li>json-lib                - 2.3</li>\n<li>spring-cloud-starter-kubernetes-config -1.1.10.RELEASE</li>\n<li>json                    - 20230227</li>\n<li>xmlrpc-client           - 3.1.3</li>\n<li>spring-security-oauth2-autoconfigure - 2.0.8.RELEASE</li>\n<li>spring-security-config</li>\n<li>spring-security-web</li>\n<li>spring-cloud-starter-openfeign - 2.0.0.RELEASE</li>\n<li>spring-cloud-starter-netflix-ribbon - 2.0.0.RELEASE</li>\n<li>spring-boot-starter-actuator</li>\n<li>commons-lang3           - 3.8.1</li>\n<li>lombok</li>\n<li>spring-cloud-starter-config - 2.0.3.RELEASE</li>\n<li>micrometer-registry-prometheus - 1.2.2</li>\n<li>micrometer-core - 1.2.2</li>\n<li>spring-boot-starter-test</li>\n<li>spring-cloud-dependencies - Finchley.SR3</li>\n</ol>\n"},{"tags":["java","firebase","android-studio"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1680154110,"post_id":75883939,"comment_id":133850326,"body_markdown":"I&#39;m having a hard time understanding what the problem is.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1680211344,"post_id":75883939,"comment_id":133864591,"body_markdown":"You need to add the error you&#39;re getting to your question and also add your xml file.","body":"You need to add the error you&#39;re getting to your question and also add your xml file."}],"owner":{"account_id":26872758,"reputation":1,"user_id":20454464,"display_name":"Sam_Paris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680185241,"creation_date":1680147885,"question_id":75883939,"body_markdown":"I&#39;m trying to have the users email which is a textview for that menu show up on the menu in a main activity but I have no clue how to have it instantiated [error][1]in the main activity java file   \r\n\r\n```\r\npackage com.example.mymycology;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.Menu;\r\nimport android.view.MenuInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.Spinner;\r\nimport android.widget.TextView;\r\n\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\nFirebaseAuth auth;\r\nTextView textView;\r\nFirebaseUser user;\r\n\r\n\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        MenuInflater inflater = getMenuInflater();\r\n        inflater.inflate(R.menu.logout_menu, menu);\r\n        return true;\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.Logout:\r\n                FirebaseAuth.getInstance().signOut();\r\n                Intent intent  = new Intent(getApplicationContext(), Login.class);\r\n                startActivity(intent);\r\n                finish();\r\n\r\n        }\r\n\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState ) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        auth = FirebaseAuth.getInstance();\r\n        user = auth.getCurrentUser();\r\n        textView = findViewById(R.id.user_details);\r\n        \r\n        if (user == null) {\r\n            Intent intent  = new Intent(getApplicationContext(), Login.class);\r\n            startActivity(intent);\r\n            finish();\r\n        }else{\r\n            textView.setText(user.getEmail());\r\n        }\r\n\r\n        }\r\n    }\r\n```\r\n\r\nUser details is the ID for that Text in the menu the error is where i try to set the textview to that id\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oAuMb.png","title":"How can I Initiate a TextView item from a menu xml in a Main Activity in android studio","body":"<p>I'm trying to have the users email which is a textview for that menu show up on the menu in a main activity but I have no clue how to have it instantiated <a href=\"https://i.stack.imgur.com/oAuMb.png\" rel=\"nofollow noreferrer\">error</a>in the main activity java file</p>\n<pre><code>package com.example.mymycology;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.Spinner;\nimport android.widget.TextView;\n\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\n\npublic class MainActivity extends AppCompatActivity {\nFirebaseAuth auth;\nTextView textView;\nFirebaseUser user;\n\n\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.logout_menu, menu);\n        return true;\n    }\n\n\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        switch (item.getItemId()) {\n            case R.id.Logout:\n                FirebaseAuth.getInstance().signOut();\n                Intent intent  = new Intent(getApplicationContext(), Login.class);\n                startActivity(intent);\n                finish();\n\n        }\n\n        return super.onOptionsItemSelected(item);\n    }\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState ) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        auth = FirebaseAuth.getInstance();\n        user = auth.getCurrentUser();\n        textView = findViewById(R.id.user_details);\n        \n        if (user == null) {\n            Intent intent  = new Intent(getApplicationContext(), Login.class);\n            startActivity(intent);\n            finish();\n        }else{\n            textView.setText(user.getEmail());\n        }\n\n        }\n    }\n</code></pre>\n<p>User details is the ID for that Text in the menu the error is where i try to set the textview to that id</p>\n"},{"tags":["java","firebase","android-studio","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1680349732,"post_id":75889244,"comment_id":133885604,"body_markdown":"Have you tried to check what happens if the Task is not successful?","body":"Have you tried to check what happens if the Task is not successful?"}],"owner":{"account_id":28169232,"reputation":1,"user_id":21528018,"display_name":"Josh 46"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680184888,"creation_date":1680184888,"question_id":75889244,"body_markdown":"So I am working on a android studio project where users can book on to a barbering service, For previous appointments to go into a history page, then have a field on firestore, called done, when its past the appointments due date/time the done field should change to true so that the appointment can be shown in the history page on the app. For some reason it is not doing it, can anyone see why.\r\n\r\nThis is how the directory and layout of the firestore for this problem is laid out:\r\n[Starts with collection User, into the documents that are the users emails, then into another collection called Booking and in this collection has each booking appointment.](https://i.stack.imgur.com/Xbizq.png)\r\n\r\nHere an example of one of the bookings with all the fields:\r\n[As you can see the done field is on false, which I need to change to true when its a past appointment.](https://i.stack.imgur.com/HEWTN.png)\r\n\r\nAs you can see the done field is on false, which I need to change to true when its a past appointment.\r\n\r\nHere is the code envolved with updating the done field:\r\n\r\n\r\n```\r\npackage com.example.loginpage.Firestore;\r\n\r\nimport android.util.Log;\r\n\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.firestore.CollectionReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.Query;\r\n\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\n\r\npublic class UpdateDoneField {\r\n\r\n    private final FirebaseFirestore db;\r\n\r\n    public UpdateDoneField() {\r\n        db = FirebaseFirestore.getInstance();\r\n    }\r\n\r\n    public void updatePreviousBookings() {\r\n        // Get current time\r\n        Date currentTime = Calendar.getInstance().getTime();\r\n        Log.d(&quot;UpdateDoneField&quot;, &quot;Current time: &quot; + currentTime.toString());\r\n\r\n        // Get all user documents\r\n        CollectionReference usersRef = db.collection(&quot;User&quot;);\r\n        usersRef.get().addOnCompleteListener(task -&gt; {\r\n            if (task.isSuccessful()) {\r\n                Log.d(&quot;UpdateDoneField&quot;, &quot;Got user documents&quot;);\r\n                for (DocumentSnapshot userDoc : task.getResult().getDocuments()) {\r\n                    Log.d(&quot;UpdateDoneField&quot;, &quot;Got &quot; + task.getResult().size() + &quot; user documents&quot;);\r\n\r\n                    // Get user&#39;s booking collection\r\n                    CollectionReference bookingRef = userDoc.getReference().collection(&quot;Booking&quot;);\r\n\r\n                    // Query for previous bookings that are not done\r\n                    Query prevBookingsQuery = bookingRef.whereLessThan(&quot;time&quot;, currentTime).whereEqualTo(&quot;done&quot;, false);\r\n                    prevBookingsQuery.get().addOnCompleteListener(queryTask -&gt; {\r\n                        if (queryTask.isSuccessful()) {\r\n                            for (DocumentSnapshot prevBookingDoc : queryTask.getResult().getDocuments()) {\r\n                                // Update &#39;done&#39; field to true\r\n                                prevBookingDoc.getReference().update(&quot;done&quot;, true).addOnCompleteListener(Task::isSuccessful);\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\nI then have the method called when the home fragment begins, so when I launch the app and the home fragment begins, it should go through the bookings automatically and change any previous bookings done fields to true.\r\n\r\nI have tried logging and it seems that when trying to receive the documents in the User collection it comes back as 0, which I actually have 2 documents as you can see in the image above.","title":"Can anyone help me figure out why these firestore fields will not update when I run this method?","body":"<p>So I am working on a android studio project where users can book on to a barbering service, For previous appointments to go into a history page, then have a field on firestore, called done, when its past the appointments due date/time the done field should change to true so that the appointment can be shown in the history page on the app. For some reason it is not doing it, can anyone see why.</p>\n<p>This is how the directory and layout of the firestore for this problem is laid out:\n<a href=\"https://i.stack.imgur.com/Xbizq.png\" rel=\"nofollow noreferrer\">Starts with collection User, into the documents that are the users emails, then into another collection called Booking and in this collection has each booking appointment.</a></p>\n<p>Here an example of one of the bookings with all the fields:\n<a href=\"https://i.stack.imgur.com/HEWTN.png\" rel=\"nofollow noreferrer\">As you can see the done field is on false, which I need to change to true when its a past appointment.</a></p>\n<p>As you can see the done field is on false, which I need to change to true when its a past appointment.</p>\n<p>Here is the code envolved with updating the done field:</p>\n<pre><code>package com.example.loginpage.Firestore;\n\nimport android.util.Log;\n\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.firestore.CollectionReference;\nimport com.google.firebase.firestore.DocumentSnapshot;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.Query;\n\nimport java.util.Calendar;\nimport java.util.Date;\n\npublic class UpdateDoneField {\n\n    private final FirebaseFirestore db;\n\n    public UpdateDoneField() {\n        db = FirebaseFirestore.getInstance();\n    }\n\n    public void updatePreviousBookings() {\n        // Get current time\n        Date currentTime = Calendar.getInstance().getTime();\n        Log.d(&quot;UpdateDoneField&quot;, &quot;Current time: &quot; + currentTime.toString());\n\n        // Get all user documents\n        CollectionReference usersRef = db.collection(&quot;User&quot;);\n        usersRef.get().addOnCompleteListener(task -&gt; {\n            if (task.isSuccessful()) {\n                Log.d(&quot;UpdateDoneField&quot;, &quot;Got user documents&quot;);\n                for (DocumentSnapshot userDoc : task.getResult().getDocuments()) {\n                    Log.d(&quot;UpdateDoneField&quot;, &quot;Got &quot; + task.getResult().size() + &quot; user documents&quot;);\n\n                    // Get user's booking collection\n                    CollectionReference bookingRef = userDoc.getReference().collection(&quot;Booking&quot;);\n\n                    // Query for previous bookings that are not done\n                    Query prevBookingsQuery = bookingRef.whereLessThan(&quot;time&quot;, currentTime).whereEqualTo(&quot;done&quot;, false);\n                    prevBookingsQuery.get().addOnCompleteListener(queryTask -&gt; {\n                        if (queryTask.isSuccessful()) {\n                            for (DocumentSnapshot prevBookingDoc : queryTask.getResult().getDocuments()) {\n                                // Update 'done' field to true\n                                prevBookingDoc.getReference().update(&quot;done&quot;, true).addOnCompleteListener(Task::isSuccessful);\n                            }\n                        }\n                    });\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>I then have the method called when the home fragment begins, so when I launch the app and the home fragment begins, it should go through the bookings automatically and change any previous bookings done fields to true.</p>\n<p>I have tried logging and it seems that when trying to receive the documents in the User collection it comes back as 0, which I actually have 2 documents as you can see in the image above.</p>\n"},{"tags":["java","android","layout"],"comments":[{"owner":{"account_id":111674,"reputation":20654,"user_id":294884,"accept_rate":87,"display_name":"Fattie"},"score":0,"creation_date":1614781637,"post_id":3316431,"comment_id":117489835,"body_markdown":"Does this answer your question? [What is textview.setTextSize()?](https://stackoverflow.com/questions/23590943/what-is-textview-settextsize)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23590943/what-is-textview-settextsize\">What is textview.setTextSize()?</a>"},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1614848623,"post_id":3316431,"comment_id":117511961,"body_markdown":"Does this answer your question? [Android specifying pixel units (like sp, px, dp) without using XML](https://stackoverflow.com/questions/5012840/android-specifying-pixel-units-like-sp-px-dp-without-using-xml)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5012840/android-specifying-pixel-units-like-sp-px-dp-without-using-xml\">Android specifying pixel units (like sp, px, dp) without using XML</a>"}],"answers":[{"comments":[{"owner":{"account_id":111674,"reputation":20654,"user_id":294884,"accept_rate":87,"display_name":"Fattie"},"score":0,"creation_date":1614781895,"post_id":5032267,"comment_id":117489973,"body_markdown":"note, it would be `.scaledDensity` BUT this solution DOES NOT now seem to work on modern androids (it comes out way too big)","body":"note, it would be <code>.scaledDensity</code> BUT this solution DOES NOT now seem to work on modern androids (it comes out way too big)"},{"owner":{"account_id":111674,"reputation":20654,"user_id":294884,"accept_rate":87,"display_name":"Fattie"},"score":0,"creation_date":1614786143,"post_id":5032267,"comment_id":117492265,"body_markdown":".. when setting the text size","body":".. when setting the text size"}],"tags":[],"owner":{"account_id":104971,"reputation":4161,"user_id":280384,"accept_rate":71,"display_name":"sven"},"comment_count":2,"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1371641451,"creation_date":1297963184,"answer_id":5032267,"question_id":3316431,"body_markdown":"Solved &lt;a href=&quot;https://stackoverflow.com/questions/5012840/android-specifying-pixel-units-like-sp-px-dp-without-using-xml/5012893#5012893&quot;&gt;here&lt;/a&gt;.\r\n\r\nExtract:\r\n\r\n    DisplayMetrics metrics = getContext().getResources().getDisplayMetrics();\r\n    float dp = 20f;\r\n    float fpixels = metrics.density * dp;\r\n    int pixels = (int) (fpixels + 0.5f);","title":"How do I set Layout and Text size to DP inside program?","body":"<p>Solved <a href=\"https://stackoverflow.com/questions/5012840/android-specifying-pixel-units-like-sp-px-dp-without-using-xml/5012893#5012893\">here</a>.</p>\n\n<p>Extract:</p>\n\n<pre><code>DisplayMetrics metrics = getContext().getResources().getDisplayMetrics();\nfloat dp = 20f;\nfloat fpixels = metrics.density * dp;\nint pixels = (int) (fpixels + 0.5f);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":477935,"reputation":13271,"user_id":889715,"display_name":"Santosh"},"comment_count":0,"down_vote_count":0,"up_vote_count":95,"is_accepted":false,"score":95,"last_activity_date":1363700799,"creation_date":1343030937,"answer_id":11608619,"question_id":3316431,"body_markdown":"You can use:\r\n\r\n    float pixels = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 10, getResources().getDisplayMetrics());\r\n\r\nNow the value of `pixels` is equivalent to `10dp` at the device&#39;s current screen density.\r\n\r\nThe [TypedValue][1] contains other similar methods that help in conversion.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/util/TypedValue.html","title":"How do I set Layout and Text size to DP inside program?","body":"<p>You can use:</p>\n\n<pre><code>float pixels = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 10, getResources().getDisplayMetrics());\n</code></pre>\n\n<p>Now the value of <code>pixels</code> is equivalent to <code>10dp</code> at the device's current screen density.</p>\n\n<p>The <a href=\"http://developer.android.com/reference/android/util/TypedValue.html\">TypedValue</a> contains other similar methods that help in conversion.</p>\n"},{"tags":[],"owner":{"account_id":6631047,"reputation":805,"user_id":5119746,"display_name":"Julian Horst"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1509572075,"creation_date":1436970941,"answer_id":31433388,"question_id":3316431,"body_markdown":"Just for completeness: Another solution (which I&#39;d prefer) for the question is given [here][1]\r\n\r\n&gt; `setTextSize(float)` expects a scaled pixel value. So, `setTextSize(10)` would give you the desired result. However, `getDimension()` and `getDimensionPixelSize()` return the size in units of pixels.\r\n    \r\nSo for your example it would be\r\n\r\n    setTextSize(TypedValue.COMPLEX_UNIT_PX, getResources().getDimensionPixelSize(R.dimen.edTxt_text_size));\r\n\r\nwhere `&lt;dimen name=&quot;edtxt_text_size&quot;&gt;10dp&lt;/dimen&gt;` is set in your dimens.xml file for example.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/19497680/5119746","title":"How do I set Layout and Text size to DP inside program?","body":"<p>Just for completeness: Another solution (which I'd prefer) for the question is given <a href=\"https://stackoverflow.com/a/19497680/5119746\">here</a></p>\n\n<blockquote>\n  <p><code>setTextSize(float)</code> expects a scaled pixel value. So, <code>setTextSize(10)</code> would give you the desired result. However, <code>getDimension()</code> and <code>getDimensionPixelSize()</code> return the size in units of pixels.</p>\n</blockquote>\n\n<p>So for your example it would be</p>\n\n<pre><code>setTextSize(TypedValue.COMPLEX_UNIT_PX, getResources().getDimensionPixelSize(R.dimen.edTxt_text_size));\n</code></pre>\n\n<p>where <code>&lt;dimen name=\"edtxt_text_size\"&gt;10dp&lt;/dimen&gt;</code> is set in your dimens.xml file for example.</p>\n"},{"tags":[],"owner":{"account_id":111674,"reputation":20654,"user_id":294884,"accept_rate":87,"display_name":"Fattie"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616895788,"creation_date":1614781870,"answer_id":66459077,"question_id":3316431,"body_markdown":"## Regarding setting the TEXT SIZE:\r\n\r\nFor 2021 ...\r\n\r\nFortunately, the correct modern answer is just\r\n\r\n    textView.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 25);\r\n\r\nor you can use COMPLEX_UNIT_SP, etc.\r\n\r\n## Exactly matches xml for text size:\r\n\r\nChecked, on all devices this produces exactly the same result as just setting it in xml:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n---\r\n\r\n## Regarding setting, say, a layout parameter:\r\n\r\n    int h = 66; // the new value\r\n    ViewGroup.LayoutParams p = some_frame.getLayoutParams();\r\n    float fdp = TypedValue.applyDimension(\r\n        TypedValue.COMPLEX_UNIT_DIP,\r\n        h,\r\n        getResources().getDisplayMetrics());\r\n    p.height = Math.round(fdp);\r\n    some_frame.setLayoutParams(p);\r\n\r\nThis appears to work correctly, on a test device. The value &quot;h&quot; is now the &quot;same&quot; as simply in the xml, enter 66dp.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wgUwv.png","title":"How do I set Layout and Text size to DP inside program?","body":"<h2>Regarding setting the TEXT SIZE:</h2>\n<p>For 2021 ...</p>\n<p>Fortunately, the correct modern answer is just</p>\n<pre><code>textView.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 25);\n</code></pre>\n<p>or you can use COMPLEX_UNIT_SP, etc.</p>\n<h2>Exactly matches xml for text size:</h2>\n<p>Checked, on all devices this produces exactly the same result as just setting it in xml:</p>\n<p><a href=\"https://i.stack.imgur.com/wgUwv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wgUwv.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<h2>Regarding setting, say, a layout parameter:</h2>\n<pre><code>int h = 66; // the new value\nViewGroup.LayoutParams p = some_frame.getLayoutParams();\nfloat fdp = TypedValue.applyDimension(\n    TypedValue.COMPLEX_UNIT_DIP,\n    h,\n    getResources().getDisplayMetrics());\np.height = Math.round(fdp);\nsome_frame.setLayoutParams(p);\n</code></pre>\n<p>This appears to work correctly, on a test device. The value &quot;h&quot; is now the &quot;same&quot; as simply in the xml, enter 66dp.</p>\n"},{"tags":[],"owner":{"account_id":1807763,"reputation":394,"user_id":3127526,"accept_rate":62,"display_name":"sandip"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680184851,"creation_date":1680184851,"answer_id":75889235,"question_id":3316431,"body_markdown":"For Kotlin to increase/decrease font size with below logic. It works in 2\r\n\r\n   \r\n\r\n     `  private var fontSize: Float = 17F //default font size\r\n        \r\n        btnTextDecrease.setOnClickListener {\r\n           if (fontSize &lt;= 13F) {return@setOnClickListener}\r\n           fontSize -= 0.5F\r\n           etBook.setTextSize(TypedValue.COMPLEX_UNIT_SP, fontSize)\r\n           Toast.makeText(activity, &quot;Decrease Size$fontSize&quot;, Toast.LENGTH_SHORT).show()\r\n        }\r\n    \r\n        btnTextIncrease.setOnClickListener {\r\n           fontSize += 0.5F\r\n           etBook.setTextSize(TypedValue.COMPLEX_UNIT_SP, fontSize)\r\n           Toast.makeText(activity, &quot;Increase Size$fontSize&quot;, Toast.LENGTH_SHORT).show()\r\n        }`","title":"How do I set Layout and Text size to DP inside program?","body":"<p>For Kotlin to increase/decrease font size with below logic. It works in 2</p>\n<pre><code> `  private var fontSize: Float = 17F //default font size\n    \n    btnTextDecrease.setOnClickListener {\n       if (fontSize &lt;= 13F) {return@setOnClickListener}\n       fontSize -= 0.5F\n       etBook.setTextSize(TypedValue.COMPLEX_UNIT_SP, fontSize)\n       Toast.makeText(activity, &quot;Decrease Size$fontSize&quot;, Toast.LENGTH_SHORT).show()\n    }\n\n    btnTextIncrease.setOnClickListener {\n       fontSize += 0.5F\n       etBook.setTextSize(TypedValue.COMPLEX_UNIT_SP, fontSize)\n       Toast.makeText(activity, &quot;Increase Size$fontSize&quot;, Toast.LENGTH_SHORT).show()\n    }`\n</code></pre>\n"}],"owner":{"account_id":100892,"reputation":5969,"user_id":271736,"accept_rate":64,"display_name":"RobGThai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55154,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":5032267,"answer_count":5,"score":40,"last_activity_date":1680184851,"creation_date":1279872836,"question_id":3316431,"body_markdown":"Basically I have this inside XML, but I have to recreate it inside a code. How do I do it?\r\n\r\n    &lt;EditText \r\n\t\t\tandroid:layout_width=&quot;140dp&quot;\r\n\t\t\tandroid:layout_height=&quot;20dp&quot;\r\n\t\t\tandroid:background=&quot;@drawable/input_bg01&quot;\r\n\t\t\tandroid:textSize=&quot;10dp&quot;\r\n\t\t\tandroid:gravity=&quot;center&quot;\r\n\t\t\tandroid:text=&quot;111-222-333     FOOO&quot; /&gt;\r\n\r\n\r\nI can use this to set text size, but what about the layout_width and height?\r\n\r\n    edTxt.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 10);\r\n\r\n\r\nIs there a way to tell the code to use DP unit instead of pixel? Or a conversion function to convert DP into pixel?\r\n","title":"How do I set Layout and Text size to DP inside program?","body":"<p>Basically I have this inside XML, but I have to recreate it inside a code. How do I do it?</p>\n\n<pre><code>&lt;EditText \n        android:layout_width=\"140dp\"\n        android:layout_height=\"20dp\"\n        android:background=\"@drawable/input_bg01\"\n        android:textSize=\"10dp\"\n        android:gravity=\"center\"\n        android:text=\"111-222-333     FOOO\" /&gt;\n</code></pre>\n\n<p>I can use this to set text size, but what about the layout_width and height?</p>\n\n<pre><code>edTxt.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 10);\n</code></pre>\n\n<p>Is there a way to tell the code to use DP unit instead of pixel? Or a conversion function to convert DP into pixel?</p>\n"},{"tags":["java","android","sql","database","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":22303736,"reputation":209,"user_id":16528677,"display_name":"Darian-Cătălin Cucer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680184706,"creation_date":1680184706,"answer_id":75889219,"question_id":53161376,"body_markdown":"Inserting val manually into SQLite database you have to use [`addQuestion()`]() method in [`DatabaseHelper`]() class to insert val into the table.\r\n\r\nYou add only one question. Call [`addQuestion()`]() from `onCreate()` method after the call to [`fillQuestionTable()`]() method.\r\n\r\n\r\n\r\n    public class DatabaseHelper extends SQLiteOpenHelper {\r\n        public static final String DATABASE_NAME = &quot;Questions.db&quot;;\r\n        public static final String TABLE_NAME = &quot;Questions&quot;;\r\n        public static final String QUESTION_NUMBER = &quot;Question_Number&quot;;\r\n        public static final String QUESTION = &quot;Question&quot;;\r\n        public static final String ANSWER_ONE = &quot;Answer_ONE&quot;;\r\n        public static final String ANSWER_TWO = &quot;Answer_THREE&quot;;\r\n        public static final String ANSWER_THREE = &quot;Answer_FOUR&quot;;\r\n        private SQLiteDatabase db;\r\n    \r\n        // Constructor for DatabaseHelper\r\n        public DatabaseHelper(Context context) {\r\n            super(context, DATABASE_NAME, null, 1);\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n        }\r\n    \r\n        // Create database table\r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            this.db = db;\r\n            final String SQL_CREATE_QUESTIONS_TABLE = &quot;CREATE TABLE &quot; +\r\n                    TABLE_NAME + &quot; ( &quot; +\r\n                    QUESTION_NUMBER + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\r\n                    QUESTION + &quot; TEXT, &quot; +\r\n                    ANSWER_ONE + &quot; TEXT, &quot; +\r\n                    ANSWER_TWO + &quot; TEXT, &quot; +\r\n                    ANSWER_THREE + &quot; TEXT &quot; +\r\n                    &quot;)&quot;;\r\n            db.execSQL(SQL_CREATE_QUESTIONS_TABLE);\r\n    \r\n            // Fill the database table with questions\r\n            fillQuestionTable();\r\n        }\r\n    \r\n        // Upgrade database table if version changes\r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int i, int i1) {\r\n            db.execSQL(&quot;DROP TABLE IF EXISTS &quot; +TABLE_NAME);\r\n            onCreate(db);\r\n        }\r\n    \r\n        // Fill database table with example question\r\n        private void fillQuestionTable() {\r\n            Question q1 = new Question(1,&quot;Example Question?&quot;,&quot;Yes&quot;,&quot;Sometimes&quot;,&quot;No&quot;);\r\n            addQuestion(q1);\r\n        }\r\n    \r\n        // Add question to database table\r\n        private void addQuestion (Question question) {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            ContentValues cv = new ContentValues();\r\n            cv.put(QUESTION_NUMBER, question.getQuestionNum());\r\n            cv.put(QUESTION, question.getQuestion());\r\n            cv.put(ANSWER_ONE, question.getOption1());\r\n            cv.put(ANSWER_TWO, question.getOption2());\r\n            cv.put(ANSWER_THREE, question.getOption3());\r\n            db.insert(TABLE_NAME,null,cv);\r\n        }\r\n    }\r\n\r\n---\r\n\r\n`MainActivity`:\r\n\r\n    public class MainActivity extends Activity implements View.OnClickListener {\r\n        Button screenOneButton;\r\n        Button screenTwoButton;\r\n        Button screenThreeButton;\r\n        Button quitButton;\r\n        DatabaseHelper mydb;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            // Create instance of DatabaseHelper\r\n            DatabaseHelper mydb = new DatabaseHelper(this);\r\n        }\r\n    }\r\n\r\n---\r\n\r\n\r\nYou created the `database` with the columns, but you didn&#39;t add values to it, you add them manually using SQL insert statements.\r\n\r\nThis works for me: \r\n\r\n    SQLiteDatabase db = this.getWritableDatabase();\r\n    ContentValues contentValues = new ContentValues();\r\n    contentValues.put(QUESTION_NUMBER, 1);\r\n    contentValues.put(QUESTION, &quot;Example Question?&quot;);\r\n    contentValues.put(ANSWER_ONE, &quot;Yes&quot;);\r\n    contentValues.put(ANSWER_TWO, &quot;Sometimes&quot;);\r\n    contentValues.put(ANSWER_THREE, &quot;No&quot;);\r\n    db.insert(TABLE_NAME, null, contentValues);\r\n\r\nModify the values according to your needs and make sure to call the table in `onCreate()` method.\r\n\r\n---\r\n\r\nYou are creating new instance of `DatabaseHelper` inside `onCreate()` method in `MainActivity`.\r\n\r\nThis worked for me:\r\n\r\n    public class MainActivity extends Activity implements View.OnClickListener {\r\n        Button screenOneButton;\r\n        Button screenTwoButton;\r\n        Button screenThreeButton;\r\n        Button quitButton;\r\n        DatabaseHelper mydb;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            mydb = new DatabaseHelper(this);\r\n        }\r\n    }\r\n\r\nAccess the `mydb` instance throughout your &#39;MainActivity&#39; class.","title":"Android - SQL Insert Manually","body":"<p>Inserting val manually into SQLite database you have to use <code>addQuestion()</code> method in <code>DatabaseHelper</code> class to insert val into the table.</p>\n<p>You add only one question. Call <code>addQuestion()</code> from <code>onCreate()</code> method after the call to <code>fillQuestionTable()</code> method.</p>\n<pre><code>public class DatabaseHelper extends SQLiteOpenHelper {\n    public static final String DATABASE_NAME = &quot;Questions.db&quot;;\n    public static final String TABLE_NAME = &quot;Questions&quot;;\n    public static final String QUESTION_NUMBER = &quot;Question_Number&quot;;\n    public static final String QUESTION = &quot;Question&quot;;\n    public static final String ANSWER_ONE = &quot;Answer_ONE&quot;;\n    public static final String ANSWER_TWO = &quot;Answer_THREE&quot;;\n    public static final String ANSWER_THREE = &quot;Answer_FOUR&quot;;\n    private SQLiteDatabase db;\n\n    // Constructor for DatabaseHelper\n    public DatabaseHelper(Context context) {\n        super(context, DATABASE_NAME, null, 1);\n        SQLiteDatabase db = this.getWritableDatabase();\n    }\n\n    // Create database table\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        this.db = db;\n        final String SQL_CREATE_QUESTIONS_TABLE = &quot;CREATE TABLE &quot; +\n                TABLE_NAME + &quot; ( &quot; +\n                QUESTION_NUMBER + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\n                QUESTION + &quot; TEXT, &quot; +\n                ANSWER_ONE + &quot; TEXT, &quot; +\n                ANSWER_TWO + &quot; TEXT, &quot; +\n                ANSWER_THREE + &quot; TEXT &quot; +\n                &quot;)&quot;;\n        db.execSQL(SQL_CREATE_QUESTIONS_TABLE);\n\n        // Fill the database table with questions\n        fillQuestionTable();\n    }\n\n    // Upgrade database table if version changes\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int i, int i1) {\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; +TABLE_NAME);\n        onCreate(db);\n    }\n\n    // Fill database table with example question\n    private void fillQuestionTable() {\n        Question q1 = new Question(1,&quot;Example Question?&quot;,&quot;Yes&quot;,&quot;Sometimes&quot;,&quot;No&quot;);\n        addQuestion(q1);\n    }\n\n    // Add question to database table\n    private void addQuestion (Question question) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues cv = new ContentValues();\n        cv.put(QUESTION_NUMBER, question.getQuestionNum());\n        cv.put(QUESTION, question.getQuestion());\n        cv.put(ANSWER_ONE, question.getOption1());\n        cv.put(ANSWER_TWO, question.getOption2());\n        cv.put(ANSWER_THREE, question.getOption3());\n        db.insert(TABLE_NAME,null,cv);\n    }\n}\n</code></pre>\n<hr />\n<p><code>MainActivity</code>:</p>\n<pre><code>public class MainActivity extends Activity implements View.OnClickListener {\n    Button screenOneButton;\n    Button screenTwoButton;\n    Button screenThreeButton;\n    Button quitButton;\n    DatabaseHelper mydb;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Create instance of DatabaseHelper\n        DatabaseHelper mydb = new DatabaseHelper(this);\n    }\n}\n</code></pre>\n<hr />\n<p>You created the <code>database</code> with the columns, but you didn't add values to it, you add them manually using SQL insert statements.</p>\n<p>This works for me:</p>\n<pre><code>SQLiteDatabase db = this.getWritableDatabase();\nContentValues contentValues = new ContentValues();\ncontentValues.put(QUESTION_NUMBER, 1);\ncontentValues.put(QUESTION, &quot;Example Question?&quot;);\ncontentValues.put(ANSWER_ONE, &quot;Yes&quot;);\ncontentValues.put(ANSWER_TWO, &quot;Sometimes&quot;);\ncontentValues.put(ANSWER_THREE, &quot;No&quot;);\ndb.insert(TABLE_NAME, null, contentValues);\n</code></pre>\n<p>Modify the values according to your needs and make sure to call the table in <code>onCreate()</code> method.</p>\n<hr />\n<p>You are creating new instance of <code>DatabaseHelper</code> inside <code>onCreate()</code> method in <code>MainActivity</code>.</p>\n<p>This worked for me:</p>\n<pre><code>public class MainActivity extends Activity implements View.OnClickListener {\n    Button screenOneButton;\n    Button screenTwoButton;\n    Button screenThreeButton;\n    Button quitButton;\n    DatabaseHelper mydb;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mydb = new DatabaseHelper(this);\n    }\n}\n</code></pre>\n<p>Access the <code>mydb</code> instance throughout your 'MainActivity' class.</p>\n"}],"owner":{"account_id":14691141,"reputation":11,"user_id":10609788,"display_name":"FlyingPotato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680184706,"creation_date":1541448105,"question_id":53161376,"body_markdown":"I am currently working on an android quiz application with the questions linking to the database, however, I was be able to create the database created but somehow the values such as list of questions won&#39;t be inserted manually. As I have opened the database, it has organized the columns I have wanted but no values will be display such as the &#39;example question&#39; Have I been missing some line of code?\r\n\r\nMany Thanks\r\n\r\n\r\n    public class DatabaseHelper extends SQLiteOpenHelper\r\n    {\r\n    \r\n       public static final String DATABASE_NAME = &quot;Questions.db&quot;;\r\n       public static final String TABLE_NAME = &quot;Questions&quot;;\r\n       public static final String QUESTION_NUMBER = &quot;Question_Number&quot;;\r\n       public static final String QUESTION = &quot;Question&quot;;\r\n       public static final String ANSWER_ONE = &quot;Answer_ONE&quot;;\r\n       public static final String ANSWER_TWO = &quot;Answer_THREE&quot;;\r\n       public static final String ANSWER_THREE = &quot;Answer_FOUR&quot;;\r\n    \r\n       private SQLiteDatabase db;\r\n    \r\n    \r\n    \r\n       public DatabaseHelper(Context context)\r\n       {\r\n          super(context,DATABASE_NAME, null, 1);\r\n          SQLiteDatabase db = this.getWritableDatabase();\r\n       }\r\n    \r\n       @Override\r\n       public void onCreate(SQLiteDatabase db)\r\n       {\r\n          this.db = db;\r\n          final String SQL_CREATE_QUESTIONS_TABLE = &quot;CREATE TABLE &quot; +\r\n                TABLE_NAME + &quot; ( &quot; +\r\n                QUESTION_NUMBER + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\r\n                QUESTION + &quot; TEXT, &quot; +\r\n                ANSWER_ONE + &quot; TEXT, &quot; +\r\n                ANSWER_TWO + &quot; TEXT, &quot; +\r\n                ANSWER_THREE + &quot; TEXT &quot; +\r\n                &quot;)&quot;;\r\n    \r\n          db.execSQL(SQL_CREATE_QUESTIONS_TABLE);\r\n          fillQuestionTable();\r\n    \r\n    \r\n       }\r\n    \r\n       @Override\r\n       public void onUpgrade(SQLiteDatabase db, int i, int i1)\r\n       {\r\n          db.execSQL(&quot;DROP TABLE IF EXISTS &quot; +TABLE_NAME);\r\n          onCreate(db);\r\n       }\r\n    \r\n       private void fillQuestionTable()\r\n       {\r\n          Question q1 = new Question(1,&quot;Example Question?&quot;,&quot;Yes&quot;,&quot;Sometimes&quot;,&quot;No&quot;);\r\n          addQuestion(q1);\r\n       }\r\n    \r\n       private void addQuestion (Question question)\r\n       {\r\n          SQLiteDatabase db = this.getWritableDatabase();\r\n          ContentValues cv = new ContentValues();\r\n          cv.put(QUESTION_NUMBER, question.getQuestionNum());\r\n          cv.put(QUESTION, question.getQuestion());\r\n          cv.put(ANSWER_ONE, question.getOption1());\r\n          cv.put(ANSWER_TWO, question.getOption2());\r\n          cv.put(ANSWER_THREE, question.getOption3());\r\n          db.insert(TABLE_NAME,null,cv);\r\n       }\r\n    \r\n    }\r\n\r\nThis is the activity Class\r\n\r\n    public class MainActivity extends Activity implements View.OnClickListener\r\n    {\r\n       Button screenOneButton;\r\n       Button screenTwoButton;\r\n       Button screenThreeButton;\r\n       Button quitButton;\r\n       DatabaseHelper mydb;\r\n    \r\n    \r\n       @Override\r\n       protected void onCreate(Bundle savedInstanceState)\r\n       {\r\n          super.onCreate(savedInstanceState);\r\n          setContentView(R.layout.activity_main);\r\n    \r\n          DatabaseHelper mydb = new DatabaseHelper(this);\r\n    }\r\n\r\nThis is programmed under Intellij software and was able to open the database under DB SQL software FYI!\r\n\r\nMany thanks\r\n","title":"Android - SQL Insert Manually","body":"<p>I am currently working on an android quiz application with the questions linking to the database, however, I was be able to create the database created but somehow the values such as list of questions won't be inserted manually. As I have opened the database, it has organized the columns I have wanted but no values will be display such as the 'example question' Have I been missing some line of code?</p>\n\n<p>Many Thanks</p>\n\n<pre><code>public class DatabaseHelper extends SQLiteOpenHelper\n{\n\n   public static final String DATABASE_NAME = \"Questions.db\";\n   public static final String TABLE_NAME = \"Questions\";\n   public static final String QUESTION_NUMBER = \"Question_Number\";\n   public static final String QUESTION = \"Question\";\n   public static final String ANSWER_ONE = \"Answer_ONE\";\n   public static final String ANSWER_TWO = \"Answer_THREE\";\n   public static final String ANSWER_THREE = \"Answer_FOUR\";\n\n   private SQLiteDatabase db;\n\n\n\n   public DatabaseHelper(Context context)\n   {\n      super(context,DATABASE_NAME, null, 1);\n      SQLiteDatabase db = this.getWritableDatabase();\n   }\n\n   @Override\n   public void onCreate(SQLiteDatabase db)\n   {\n      this.db = db;\n      final String SQL_CREATE_QUESTIONS_TABLE = \"CREATE TABLE \" +\n            TABLE_NAME + \" ( \" +\n            QUESTION_NUMBER + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" +\n            QUESTION + \" TEXT, \" +\n            ANSWER_ONE + \" TEXT, \" +\n            ANSWER_TWO + \" TEXT, \" +\n            ANSWER_THREE + \" TEXT \" +\n            \")\";\n\n      db.execSQL(SQL_CREATE_QUESTIONS_TABLE);\n      fillQuestionTable();\n\n\n   }\n\n   @Override\n   public void onUpgrade(SQLiteDatabase db, int i, int i1)\n   {\n      db.execSQL(\"DROP TABLE IF EXISTS \" +TABLE_NAME);\n      onCreate(db);\n   }\n\n   private void fillQuestionTable()\n   {\n      Question q1 = new Question(1,\"Example Question?\",\"Yes\",\"Sometimes\",\"No\");\n      addQuestion(q1);\n   }\n\n   private void addQuestion (Question question)\n   {\n      SQLiteDatabase db = this.getWritableDatabase();\n      ContentValues cv = new ContentValues();\n      cv.put(QUESTION_NUMBER, question.getQuestionNum());\n      cv.put(QUESTION, question.getQuestion());\n      cv.put(ANSWER_ONE, question.getOption1());\n      cv.put(ANSWER_TWO, question.getOption2());\n      cv.put(ANSWER_THREE, question.getOption3());\n      db.insert(TABLE_NAME,null,cv);\n   }\n\n}\n</code></pre>\n\n<p>This is the activity Class</p>\n\n<pre><code>public class MainActivity extends Activity implements View.OnClickListener\n{\n   Button screenOneButton;\n   Button screenTwoButton;\n   Button screenThreeButton;\n   Button quitButton;\n   DatabaseHelper mydb;\n\n\n   @Override\n   protected void onCreate(Bundle savedInstanceState)\n   {\n      super.onCreate(savedInstanceState);\n      setContentView(R.layout.activity_main);\n\n      DatabaseHelper mydb = new DatabaseHelper(this);\n}\n</code></pre>\n\n<p>This is programmed under Intellij software and was able to open the database under DB SQL software FYI!</p>\n\n<p>Many thanks</p>\n"},{"tags":["java","winapi","jna"],"answers":[{"comments":[{"owner":{"account_id":2127644,"reputation":48143,"user_id":1889329,"accept_rate":71,"display_name":"IInspectable"},"score":0,"creation_date":1679729742,"post_id":75839197,"comment_id":133776237,"body_markdown":"It&#39;s really best *not* to call `CoUninitialize`, especially in a runtime environment where object destruction happens at a non-deterministic point in time.","body":"It&#39;s really best <i>not</i> to call <code>CoUninitialize</code>, especially in a runtime environment where object destruction happens at a non-deterministic point in time."}],"tags":[],"owner":{"account_id":25589,"reputation":562161,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679707862,"creation_date":1679707438,"answer_id":75839197,"question_id":75837475,"body_markdown":"You are not assigning a guid value to `riid`, so you are effectively setting it to `IID_NULL` (`{00000000-0000-0000-0000-000000000000}`).  You need to set it to `IID_IADs` (`{FD8256D0-FD15-11CE-ABC4-02608C9E7553}`) instead.\r\n\r\nThat will cause `ADsGetObject()` (if successful) to set `ppObject` to point at an [`IADs`](https://learn.microsoft.com/en-us/windows/win32/api/iads/nn-iads-iads) interface. Make sure that you call [`IUnknown.Release()`](https://learn.microsoft.com/en-us/windows/win32/api/unknwn/nf-unknwn-iunknown-release) on `ppObject` when you are done using that interface.\r\n\r\nAlso, the thread that is calling `ADsGetObject()` must call [`CoInitialize/Ex()`](https://learn.microsoft.com/en-us/windows/win32/api/combaseapi/nf-combaseapi-coinitializeex) beforehand. And call [`CoUninitialize()`](https://learn.microsoft.com/en-us/windows/win32/api/combaseapi/nf-combaseapi-couninitialize) when it is done using the COM library.  You can use `com.sun.jna.platform.win32.Ole32` for that.\r\n\r\nSee the examples at [How to use CoInitializeEx method in com.sun.jna.platform.win32.Ole32](https://www.tabnine.com/code/java/methods/com.sun.jna.platform.win32.Ole32/CoInitializeEx). Also see https://stackoverflow.com/questions/26872146/","title":"Error when calling winAPI native code (ADsGetObject) from JNA","body":"<p>You are not assigning a guid value to <code>riid</code>, so you are effectively setting it to <code>IID_NULL</code> (<code>{00000000-0000-0000-0000-000000000000}</code>).  You need to set it to <code>IID_IADs</code> (<code>{FD8256D0-FD15-11CE-ABC4-02608C9E7553}</code>) instead.</p>\n<p>That will cause <code>ADsGetObject()</code> (if successful) to set <code>ppObject</code> to point at an <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/iads/nn-iads-iads\" rel=\"nofollow noreferrer\"><code>IADs</code></a> interface. Make sure that you call <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/unknwn/nf-unknwn-iunknown-release\" rel=\"nofollow noreferrer\"><code>IUnknown.Release()</code></a> on <code>ppObject</code> when you are done using that interface.</p>\n<p>Also, the thread that is calling <code>ADsGetObject()</code> must call <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/combaseapi/nf-combaseapi-coinitializeex\" rel=\"nofollow noreferrer\"><code>CoInitialize/Ex()</code></a> beforehand. And call <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/combaseapi/nf-combaseapi-couninitialize\" rel=\"nofollow noreferrer\"><code>CoUninitialize()</code></a> when it is done using the COM library.  You can use <code>com.sun.jna.platform.win32.Ole32</code> for that.</p>\n<p>See the examples at <a href=\"https://www.tabnine.com/code/java/methods/com.sun.jna.platform.win32.Ole32/CoInitializeEx\" rel=\"nofollow noreferrer\">How to use CoInitializeEx method in com.sun.jna.platform.win32.Ole32</a>. Also see <a href=\"https://stackoverflow.com/questions/26872146/\">JNA calling CoInitialize when loading a dll</a></p>\n"}],"owner":{"account_id":28113877,"reputation":11,"user_id":21481257,"display_name":"Dmitry I. Gornev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680184572,"creation_date":1679685925,"question_id":75837475,"body_markdown":"I&#39;m trying to learn how to work with windows native code from Java. For this I use the JNA library. I&#39;m just starting to learn how to work with this library and ran into this problem. The [ADsGetObject](https://learn.microsoft.com/en-us/windows/win32/api/adshlp/nf-adshlp-adsgetobject) function call fails. Perhaps I did not fully understand how to convert data types and do not use them correctly. \r\n\r\n\r\n\r\nHere is my code:\r\n```\r\nimport com.sun.jna.Native;\r\nimport com.sun.jna.WString;\r\nimport com.sun.jna.platform.win32.Guid.REFIID;\r\nimport com.sun.jna.ptr.PointerByReference;\r\nimport com.sun.jna.win32.StdCallLibrary;\r\nimport com.sun.jna.platform.win32.WinNT.HRESULT;\r\n\r\npublic class GetUserAttribute {\r\n    public static void main(String[] args) {\r\n        getUser(&quot;CN=Scaner,OU=Services,DC=my,DC=domain&quot;);\r\n    }\r\n\r\n    public interface Activeds extends StdCallLibrary {\r\n        Activeds INSTANCE = (Activeds) Native.load(&quot;Activeds&quot;, Activeds.class);\r\n        HRESULT ADsGetObject(WString lpszPathName, REFIID riid, PointerByReference ppObject);\r\n    }\r\n\r\n    public static void getUser(String dn) {\r\n        WString userDN = new WString(dn);\r\n        REFIID riid = new REFIID();\r\n        PointerByReference ppObject = new PointerByReference();\r\n        HRESULT hr = Activeds.INSTANCE.ADsGetObject(userDN,riid,ppObject);\r\n        System.out.println(hr);\r\n    }\r\n```\r\nWhen executed, hr is 0x80004005 (Unspecified error). I would be grateful for any hints on what I&#39;m doing wrong and maybe for an example of a working code.\r\n\r\nHere is the code on VBS that works correctly. Would like to &quot;translate&quot; it into Java code:\r\n\r\n```\r\nDim strUserDN = &quot;CN=Scaner,OU=Services,DC=my,DC=domain&quot; \r\nset objUser = GetObject(&quot;LDAP://&quot; &amp; strUserDN)\r\nWscript.echo objUser.cn\r\n```","title":"Error when calling winAPI native code (ADsGetObject) from JNA","body":"<p>I'm trying to learn how to work with windows native code from Java. For this I use the JNA library. I'm just starting to learn how to work with this library and ran into this problem. The <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/adshlp/nf-adshlp-adsgetobject\" rel=\"nofollow noreferrer\">ADsGetObject</a> function call fails. Perhaps I did not fully understand how to convert data types and do not use them correctly.</p>\n<p>Here is my code:</p>\n<pre><code>import com.sun.jna.Native;\nimport com.sun.jna.WString;\nimport com.sun.jna.platform.win32.Guid.REFIID;\nimport com.sun.jna.ptr.PointerByReference;\nimport com.sun.jna.win32.StdCallLibrary;\nimport com.sun.jna.platform.win32.WinNT.HRESULT;\n\npublic class GetUserAttribute {\n    public static void main(String[] args) {\n        getUser(&quot;CN=Scaner,OU=Services,DC=my,DC=domain&quot;);\n    }\n\n    public interface Activeds extends StdCallLibrary {\n        Activeds INSTANCE = (Activeds) Native.load(&quot;Activeds&quot;, Activeds.class);\n        HRESULT ADsGetObject(WString lpszPathName, REFIID riid, PointerByReference ppObject);\n    }\n\n    public static void getUser(String dn) {\n        WString userDN = new WString(dn);\n        REFIID riid = new REFIID();\n        PointerByReference ppObject = new PointerByReference();\n        HRESULT hr = Activeds.INSTANCE.ADsGetObject(userDN,riid,ppObject);\n        System.out.println(hr);\n    }\n</code></pre>\n<p>When executed, hr is 0x80004005 (Unspecified error). I would be grateful for any hints on what I'm doing wrong and maybe for an example of a working code.</p>\n<p>Here is the code on VBS that works correctly. Would like to &quot;translate&quot; it into Java code:</p>\n<pre><code>Dim strUserDN = &quot;CN=Scaner,OU=Services,DC=my,DC=domain&quot; \nset objUser = GetObject(&quot;LDAP://&quot; &amp; strUserDN)\nWscript.echo objUser.cn\n</code></pre>\n"},{"tags":["java","apache-camel","amazon-sqs","aws-sqs-fifo"],"answers":[{"tags":[],"owner":{"account_id":8536154,"reputation":344,"user_id":6397895,"display_name":"Otavio Miguel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680184463,"creation_date":1680184463,"answer_id":75889171,"question_id":75889170,"body_markdown":"Since I did not found any answers anywhere, I&#39;ll put it here in case you need it too.\r\n\r\nBefore send it to your queue, you&#39;ll have to put it in the .setProperty tag, e.g. just like this:\r\n\r\n    from(....)\r\n       ....\r\n       ....\r\n       .setProperty(&quot;CamelAwsMessageGroupId&quot;, &quot;YOUR_VALUE&quot;)\r\n       .to(&quot;YOUR_QUEUE_URI&quot;);\r\n\r\n\r\n\r\n","title":"Put MessageGroupId in Camel SQS FIFO queue","body":"<p>Since I did not found any answers anywhere, I'll put it here in case you need it too.</p>\n<p>Before send it to your queue, you'll have to put it in the .setProperty tag, e.g. just like this:</p>\n<pre><code>from(....)\n   ....\n   ....\n   .setProperty(&quot;CamelAwsMessageGroupId&quot;, &quot;YOUR_VALUE&quot;)\n   .to(&quot;YOUR_QUEUE_URI&quot;);\n</code></pre>\n"}],"owner":{"account_id":8536154,"reputation":344,"user_id":6397895,"display_name":"Otavio Miguel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75889171,"answer_count":1,"score":0,"last_activity_date":1680184463,"creation_date":1680184463,"question_id":75889170,"body_markdown":"When you need to send a message to a FIFO queue in AWS SQS using Apache Camel, you&#39;ll need to put a property named &quot;MessageGroupId&quot;. But, we do know that Apache Camel is not always friendly, so how to? We do have docs telling us how to implement AWS SQS in Apache Camel, such like this one [Doc][1], but in terms of MessageGroupId, it does not explains much and don&#39;t truly tells we how to put in in the message [at least not in current date of this post].\r\n\r\n\r\n  [1]: https://camel.apache.org/components/2.x/aws-sqs-component.html","title":"Put MessageGroupId in Camel SQS FIFO queue","body":"<p>When you need to send a message to a FIFO queue in AWS SQS using Apache Camel, you'll need to put a property named &quot;MessageGroupId&quot;. But, we do know that Apache Camel is not always friendly, so how to? We do have docs telling us how to implement AWS SQS in Apache Camel, such like this one <a href=\"https://camel.apache.org/components/2.x/aws-sqs-component.html\" rel=\"nofollow noreferrer\">Doc</a>, but in terms of MessageGroupId, it does not explains much and don't truly tells we how to put in in the message [at least not in current date of this post].</p>\n"},{"tags":["java","automated-tests","cucumber","build.gradle","junit5"],"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1680195622,"post_id":75889169,"comment_id":133861033,"body_markdown":"Are you using `cucumber-junit` or `cucumber-junit-platform-engine`?","body":"Are you using <code>cucumber-junit</code> or <code>cucumber-junit-platform-engine</code>?"}],"owner":{"account_id":7705429,"reputation":1,"user_id":5836549,"display_name":"Java Learner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680184459,"creation_date":1680184459,"question_id":75889169,"body_markdown":"I wanted to execute the the cucumbers Feature scenarios parallelly in test suite to minimize the execution time,\r\nIn maven we have surefire plugin to achieve the same.\r\nbut we are using gradle Please let me know how we can achieve the same in gradle. \r\n\r\nI have used below settings in build. gradle\r\n```\r\ntask runInParallel() {\r\n    group = &#39;Cucumber Parallel&#39;\r\n    description = &#39;Runs build in parallel if used&#39;\r\n    doLast {\r\n        setParallel = &quot;true&quot;\r\n    }\r\n\r\ntask cucumberTests(type: Test){ \r\n    includes = [&#39;**/*Runner*&#39;] \r\n}\r\n    \r\ntasks.withType(Test) {\r\n    maxParallelForks = 20\r\n}\r\n```\r\nBut it not working","title":"How to execute JUnit(5) tests in parallel for a single test class in Gradle","body":"<p>I wanted to execute the the cucumbers Feature scenarios parallelly in test suite to minimize the execution time,\nIn maven we have surefire plugin to achieve the same.\nbut we are using gradle Please let me know how we can achieve the same in gradle.</p>\n<p>I have used below settings in build. gradle</p>\n<pre><code>task runInParallel() {\n    group = 'Cucumber Parallel'\n    description = 'Runs build in parallel if used'\n    doLast {\n        setParallel = &quot;true&quot;\n    }\n\ntask cucumberTests(type: Test){ \n    includes = ['**/*Runner*'] \n}\n    \ntasks.withType(Test) {\n    maxParallelForks = 20\n}\n</code></pre>\n<p>But it not working</p>\n"},{"tags":["java","csv","io","filewriter","bufferedwriter"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1446408700,"post_id":33466688,"comment_id":54718989,"body_markdown":"This is nonsense. Post your code.","body":"This is nonsense. Post your code."},{"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"score":1,"creation_date":1446408760,"post_id":33466688,"comment_id":54719003,"body_markdown":"Have you called `.close()` on the `FileWriter` after you&#39;re done writing?","body":"Have you called <code>.close()</code> on the <code>FileWriter</code> after you&#39;re done writing?"},{"owner":{"account_id":2351777,"reputation":986,"user_id":2061755,"accept_rate":71,"display_name":"wadda_wadda"},"score":1,"creation_date":1446408838,"post_id":33466688,"comment_id":54719028,"body_markdown":"Given that I&#39;ve written a 1.1GB dat file using `FileWriter`, I don&#39;t think your assessment that it can only write ~1216 character is correct. Post a code sample so we can diagnose it?","body":"Given that I&#39;ve written a 1.1GB dat file using <code>FileWriter</code>, I don&#39;t think your assessment that it can only write ~1216 character is correct. Post a code sample so we can diagnose it?"},{"owner":{"account_id":7220663,"reputation":468,"user_id":5511320,"display_name":"the happy mamba"},"score":0,"creation_date":1446408877,"post_id":33466688,"comment_id":54719041,"body_markdown":"Agree with Elliot.  Need to show us this before we Bo-leeve","body":"Agree with Elliot.  Need to show us this before we Bo-leeve"},{"owner":{"account_id":5610137,"reputation":191,"user_id":4443210,"accept_rate":43,"display_name":"Matt"},"score":0,"creation_date":1446409435,"post_id":33466688,"comment_id":54719226,"body_markdown":"Edited my post with code.","body":"Edited my post with code."},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1446409573,"post_id":33466688,"comment_id":54719275,"body_markdown":"Why don&#39;t you use Commons CSV?","body":"Why don&#39;t you use Commons CSV?"},{"owner":{"account_id":5610137,"reputation":191,"user_id":4443210,"accept_rate":43,"display_name":"Matt"},"score":0,"creation_date":1446409614,"post_id":33466688,"comment_id":54719295,"body_markdown":"I solved it ladies and gents. Getting up and making a sandwich must have cleared my mind. The issue was that I was re-insantiating the mergedWriter 100 times, but I had forgotten to flush/close it each time.","body":"I solved it ladies and gents. Getting up and making a sandwich must have cleared my mind. The issue was that I was re-insantiating the mergedWriter 100 times, but I had forgotten to flush/close it each time."},{"owner":{"account_id":5610137,"reputation":191,"user_id":4443210,"accept_rate":43,"display_name":"Matt"},"score":0,"creation_date":1446409665,"post_id":33466688,"comment_id":54719303,"body_markdown":"Thanks for your time! Sorry it turned out to be somewhat of a boneheaded move. I guess that&#39;s what happens when you&#39;re working with 5 different writers at once, with one of the writers needing to iterate through 100 files.","body":"Thanks for your time! Sorry it turned out to be somewhat of a boneheaded move. I guess that&#39;s what happens when you&#39;re working with 5 different writers at once, with one of the writers needing to iterate through 100 files."},{"owner":{"account_id":4531605,"reputation":1869,"user_id":3681882,"display_name":"Swastik Padhi"},"score":0,"creation_date":1446409721,"post_id":33466688,"comment_id":54719319,"body_markdown":"@Matt Please remove the question or answer it if you have solved your problem.","body":"@Matt Please remove the question or answer it if you have solved your problem."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1446412766,"post_id":33466688,"comment_id":54720261,"body_markdown":"Since [`FileWriter`](http://docs.oracle.com/javase/7/docs/api/java/io/FileWriter.html) doesn&#39;t have an `append`, I&#39;ll just ask why are you building everything into `String`(s) instead of ***streaming*** to your `File`?","body":"Since <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/FileWriter.html\" rel=\"nofollow noreferrer\"><code>FileWriter</code></a> doesn&#39;t have an <code>append</code>, I&#39;ll just ask why are you building everything into <code>String</code>(s) instead of <b><i>streaming</i></b> to your <code>File</code>?"}],"answers":[{"tags":[],"owner":{"account_id":5610137,"reputation":191,"user_id":4443210,"accept_rate":43,"display_name":"Matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1446409731,"creation_date":1446409731,"answer_id":33466849,"question_id":33466688,"body_markdown":"Solved.\r\n\r\nI wasn&#39;t flushing/closing my writer before re-instantiating it to a new file. I should have either made an array of mergedWriters, or flushed/closed it each time before re-assigning it.","title":"FileWriter not writing all of its contents - how to get around maximum?","body":"<p>Solved.</p>\n\n<p>I wasn't flushing/closing my writer before re-instantiating it to a new file. I should have either made an array of mergedWriters, or flushed/closed it each time before re-assigning it.</p>\n"},{"tags":[],"owner":{"account_id":7066105,"reputation":11,"user_id":5409387,"display_name":"RaviRaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680184200,"creation_date":1680184200,"answer_id":75889124,"question_id":33466688,"body_markdown":"Add `fw.close()` after write system.","title":"FileWriter not writing all of its contents - how to get around maximum?","body":"<p>Add <code>fw.close()</code> after write system.</p>\n"}],"owner":{"account_id":5610137,"reputation":191,"user_id":4443210,"accept_rate":43,"display_name":"Matt"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1929,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1680184200,"creation_date":1446408663,"question_id":33466688,"body_markdown":"After a good amount of time researching the issue, and doing a little counting/debugging on my own, I found out that the max number of characters a FileWriter can contain at once is about 1216. Can anyone help me figure out how to get around this issue?\r\n\r\nI&#39;m essentially writing a script in Java to combine two .csv files because I need to put the contents of each file side by side in one .csv file. I&#39;m iterating through and appending the characters, along with commas and new lines, to the file writer. However, all of my outputs are stopping about 80% through the writing process. I&#39;m not getting any errors, but it appears obvious to me now that it is an issue of FileWriter capacity.\r\n\r\nIf I write what I have then start appending to a new FileWriter, I will lose my spot in the .csv file. I&#39;m not really sure what to do here.\r\n\r\nI look forward to feedback. Thank you!!\r\n\r\nEDIT - code\r\n\r\nThe problem is with the mergedWriter.\r\n\r\nI&#39;ve verified that the length of &quot;mainLines[j].size() - 1&quot; is 101, and it is only writing 85ish lines for my outputs. It stops mid-string.\r\n\r\n    for (int k = 0; k &lt; mainLines[j].size() - 1; k++) {\r\n\t\t\t\t\t// All deletions for bottleneck\r\n\t\t\t\t\tif (k != 0) {\r\n\t\t\t\t\t\teachEffWriter.append(mergedFileNum + COMMA + &quot;1,&quot; + mainLines[j].get(k)[6] + NEWLINE);\r\n\t\t\t\t\t\tefficiencyWriter.append(mergedFileNum + COMMA + &quot;1,&quot; + mainLines[j].get(k)[5] + NEWLINE);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Write deletionoutput data\r\n\t\t\t\t\tStringBuilder builder = new StringBuilder();\r\n\t\t\t\t\tfor (String str : mainLines[j].get(k)) {\r\n\t\t\t\t\t\tbuilder.append(str);\r\n\t\t\t\t\t\tbuilder.append(COMMA);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbuilder.append(COMMA);\r\n\t\t\t\t\tif (k == 0) {\r\n\t\t\t\t\t\tbuilder.append(COMMA);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (String str : kingpinLines[j].get(k)) {\r\n\t\t\t\t\t\tbuilder.append(str);\r\n\t\t\t\t\t\tbuilder.append(COMMA);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmergedWriter.append(builder.toString());\r\n\t\t\t\t\tmergedWriter.append(NEWLINE);\r\n\t\t\t\t}","title":"FileWriter not writing all of its contents - how to get around maximum?","body":"<p>After a good amount of time researching the issue, and doing a little counting/debugging on my own, I found out that the max number of characters a FileWriter can contain at once is about 1216. Can anyone help me figure out how to get around this issue?</p>\n\n<p>I'm essentially writing a script in Java to combine two .csv files because I need to put the contents of each file side by side in one .csv file. I'm iterating through and appending the characters, along with commas and new lines, to the file writer. However, all of my outputs are stopping about 80% through the writing process. I'm not getting any errors, but it appears obvious to me now that it is an issue of FileWriter capacity.</p>\n\n<p>If I write what I have then start appending to a new FileWriter, I will lose my spot in the .csv file. I'm not really sure what to do here.</p>\n\n<p>I look forward to feedback. Thank you!!</p>\n\n<p>EDIT - code</p>\n\n<p>The problem is with the mergedWriter.</p>\n\n<p>I've verified that the length of \"mainLines[j].size() - 1\" is 101, and it is only writing 85ish lines for my outputs. It stops mid-string.</p>\n\n<pre><code>for (int k = 0; k &lt; mainLines[j].size() - 1; k++) {\n                // All deletions for bottleneck\n                if (k != 0) {\n                    eachEffWriter.append(mergedFileNum + COMMA + \"1,\" + mainLines[j].get(k)[6] + NEWLINE);\n                    efficiencyWriter.append(mergedFileNum + COMMA + \"1,\" + mainLines[j].get(k)[5] + NEWLINE);\n                }\n                // Write deletionoutput data\n                StringBuilder builder = new StringBuilder();\n                for (String str : mainLines[j].get(k)) {\n                    builder.append(str);\n                    builder.append(COMMA);\n                }\n                builder.append(COMMA);\n                if (k == 0) {\n                    builder.append(COMMA);\n                }\n\n                for (String str : kingpinLines[j].get(k)) {\n                    builder.append(str);\n                    builder.append(COMMA);\n                }\n                mergedWriter.append(builder.toString());\n                mergedWriter.append(NEWLINE);\n            }\n</code></pre>\n"},{"tags":["java","tomcat","logging","logrotate","tomcat8.5"],"comments":[{"owner":{"account_id":2157109,"reputation":3274,"user_id":1912077,"accept_rate":62,"display_name":"Renjith"},"score":0,"creation_date":1680032510,"post_id":75870388,"comment_id":133827105,"body_markdown":"Have you tried setting up ```java.util.logging.FileHandler.append = true``` in logging.properties?","body":"Have you tried setting up <code>java.util.logging.FileHandler.append = true</code> in logging.properties?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1680035087,"post_id":75870388,"comment_id":133827641,"body_markdown":"I was searching for such a property but could not find it in https://tomcat.apache.org/tomcat-10.1-doc/api/org/apache/juli/FileHandler.html. Surprised that this one should apply (Tomcat&#39;s FileHandler does not inherit): https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/FileHandler.html","body":"I was searching for such a property but could not find it in <a href=\"https://tomcat.apache.org/tomcat-10.1-doc/api/org/apache/juli/FileHandler.html\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-10.1-doc/api/org/apache/juli/&hellip;</a>. Surprised that this one should apply (Tomcat&#39;s FileHandler does not inherit): <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/FileHandler.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.logging/java&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680183939,"creation_date":1680183939,"answer_id":75889079,"question_id":75870388,"body_markdown":"&gt; when [Tomcat] running as a daemon.\r\n\r\nAssuming you are using [jsvc](https://commons.apache.org/proper/commons-daemon/jsvc.html), there does not appear to be an option for *appending* to log files instead of *overwriting* them. You could file an enhancement request against the [Commons project](https://commons.apache.org/proper/commons-daemon/issue-tracking.html) to add that capability. It does not seem like a difficult thing to implement.\r\n\r\n&gt; I believe that the &quot;correct&quot; answer would be to implement proper error handling and separate logging for the applications being served[...]\r\n\r\nI agree. Writing to `stdout` is not a great practice and, as you see, can cause some problems that you have to work hard to get around. It would be better to log to a real logging framework which already knows how to append, rotate, etc. and not have to cobble-together your own ad-hoc set of tools to replicate this capability which already exists.","title":"Can I prevent Tomcat from overwriting catalina.out on restart?","body":"<blockquote>\n<p>when [Tomcat] running as a daemon.</p>\n</blockquote>\n<p>Assuming you are using <a href=\"https://commons.apache.org/proper/commons-daemon/jsvc.html\" rel=\"nofollow noreferrer\">jsvc</a>, there does not appear to be an option for <em>appending</em> to log files instead of <em>overwriting</em> them. You could file an enhancement request against the <a href=\"https://commons.apache.org/proper/commons-daemon/issue-tracking.html\" rel=\"nofollow noreferrer\">Commons project</a> to add that capability. It does not seem like a difficult thing to implement.</p>\n<blockquote>\n<p>I believe that the &quot;correct&quot; answer would be to implement proper error handling and separate logging for the applications being served[...]</p>\n</blockquote>\n<p>I agree. Writing to <code>stdout</code> is not a great practice and, as you see, can cause some problems that you have to work hard to get around. It would be better to log to a real logging framework which already knows how to append, rotate, etc. and not have to cobble-together your own ad-hoc set of tools to replicate this capability which already exists.</p>\n"}],"owner":{"account_id":21338925,"reputation":21,"user_id":15709715,"display_name":"Adri C"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680183939,"creation_date":1680032052,"question_id":75870388,"body_markdown":"The default Tomcat 8.5 configuration outputs the contents of stdout &amp; stderr to $CATALINA_HOME/logs/catalina.out (and catalina.err if specified in the startup parameters) when running as a daemon. In these files are low-level system messages, startup/shutdown output, and stack traces for errors. Unfortunately, these files are overwritten when Tomcat is restarted. I have forgotten this fact on more than one occasion, when we were having an issue and my first thought was to bounce the app server. When I did that, the prior contents of catalina.out were gone, and we can&#39;t then go back through the logs looking for a root cause of the issue. Is there a way to save me and other admins from ourselves and append to catalina.out/.err on startup instead of overwriting it?\r\n\r\nI believe that the &quot;correct&quot; answer would be to implement proper error handling and separate logging for the applications being served, but it seems like we should be able to take advantage of this built-in facility with a simple config change, rather than try to make modifications to third party application code for which the source is unavailable.\r\n\r\nAlso, in our case, logrotate is taking care of rotating catalina.out weekly, so I am not worried about the file getting too large. I thought about maybe calling logrotate in shutdown.sh, but we also have logrotate doing log cleanup; if we want to be able to have more than one log archived per day we would have to break the logrotate naming convention for the shutdown logs, which would then mean the old logs created as a result of shutdown would never get cleaned up, if I understand correctly.","title":"Can I prevent Tomcat from overwriting catalina.out on restart?","body":"<p>The default Tomcat 8.5 configuration outputs the contents of stdout &amp; stderr to $CATALINA_HOME/logs/catalina.out (and catalina.err if specified in the startup parameters) when running as a daemon. In these files are low-level system messages, startup/shutdown output, and stack traces for errors. Unfortunately, these files are overwritten when Tomcat is restarted. I have forgotten this fact on more than one occasion, when we were having an issue and my first thought was to bounce the app server. When I did that, the prior contents of catalina.out were gone, and we can't then go back through the logs looking for a root cause of the issue. Is there a way to save me and other admins from ourselves and append to catalina.out/.err on startup instead of overwriting it?</p>\n<p>I believe that the &quot;correct&quot; answer would be to implement proper error handling and separate logging for the applications being served, but it seems like we should be able to take advantage of this built-in facility with a simple config change, rather than try to make modifications to third party application code for which the source is unavailable.</p>\n<p>Also, in our case, logrotate is taking care of rotating catalina.out weekly, so I am not worried about the file getting too large. I thought about maybe calling logrotate in shutdown.sh, but we also have logrotate doing log cleanup; if we want to be able to have more than one log archived per day we would have to break the logrotate naming convention for the shutdown logs, which would then mean the old logs created as a result of shutdown would never get cleaned up, if I understand correctly.</p>\n"},{"tags":["java","post","xmlhttprequest"],"comments":[{"owner":{"account_id":61252,"reputation":407513,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"score":0,"creation_date":1680183829,"post_id":75889012,"comment_id":133857650,"body_markdown":"You&#39;re programming in Java, not JavaScript.","body":"You&#39;re programming in Java, not JavaScript."}],"owner":{"account_id":3821390,"reputation":11,"user_id":3169415,"display_name":"user3169415"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680183811,"creation_date":1680183512,"question_id":75889012,"body_markdown":"I&#39;m not really sure but sometimes my data are sended twice to the server.\r\nIt is simple XMLHttpRequest wchich posts some data to server:\r\n\r\n\r\n```\r\nprivate static class XhrHttpRequest extends HttpRequest implements ReadyStateChangeHandler {\r\n\r\n        private XMLHttpRequest xhr;\r\n\r\n        public XhrHttpRequest(String url, GlobalCallback callback, JsonRequest request) {\r\n            super(url, callback, request);\r\n        }\r\n\r\n        @Override\r\n        protected void send(String data) {\r\n            xhr = XMLHttpRequest.create();\r\n            xhr.open(&quot;POST&quot;, url);\r\n            xhr.setResponseType(ResponseType.Default);\r\n            xhr.setOnReadyStateChange(this);\r\n\r\n            xhr.send(data);\r\n        }\r\n\r\n        @Override\r\n        public void onReadyStateChange(XMLHttpRequest xhr) {\r\n            if (xhr.getReadyState() == XMLHttpRequest.DONE) {\r\n                if (xhr.getStatus() == Response.SC_OK || xhr.getStatus() == Response.SC_NOT_MODIFIED) {\r\n                    onData(xhr.getResponseText());\r\n                } else {\r\n                    onError(&quot;Response status: &quot; + xhr.getStatus() + &quot; [&quot; + xhr.getStatusText() + &quot;]&quot;);\r\n                }\r\n\r\n                xhr.clearOnReadyStateChange();\r\n            \r\n                this.xhr = null;\r\n            }\r\n        }\r\n    }\r\n```\r\nIs this even possible that data is sended more than once?\r\n\r\nI want to know it is possible that data is sended multiple times in one request","title":"XMLHttpRequest - is it possible that data is send more than once","body":"<p>I'm not really sure but sometimes my data are sended twice to the server.\nIt is simple XMLHttpRequest wchich posts some data to server:</p>\n<pre><code>private static class XhrHttpRequest extends HttpRequest implements ReadyStateChangeHandler {\n\n        private XMLHttpRequest xhr;\n\n        public XhrHttpRequest(String url, GlobalCallback callback, JsonRequest request) {\n            super(url, callback, request);\n        }\n\n        @Override\n        protected void send(String data) {\n            xhr = XMLHttpRequest.create();\n            xhr.open(&quot;POST&quot;, url);\n            xhr.setResponseType(ResponseType.Default);\n            xhr.setOnReadyStateChange(this);\n\n            xhr.send(data);\n        }\n\n        @Override\n        public void onReadyStateChange(XMLHttpRequest xhr) {\n            if (xhr.getReadyState() == XMLHttpRequest.DONE) {\n                if (xhr.getStatus() == Response.SC_OK || xhr.getStatus() == Response.SC_NOT_MODIFIED) {\n                    onData(xhr.getResponseText());\n                } else {\n                    onError(&quot;Response status: &quot; + xhr.getStatus() + &quot; [&quot; + xhr.getStatusText() + &quot;]&quot;);\n                }\n\n                xhr.clearOnReadyStateChange();\n            \n                this.xhr = null;\n            }\n        }\n    }\n</code></pre>\n<p>Is this even possible that data is sended more than once?</p>\n<p>I want to know it is possible that data is sended multiple times in one request</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":184203,"reputation":3430,"user_id":420096,"accept_rate":71,"display_name":"Sombriks"},"score":1,"creation_date":1680183050,"post_id":75888898,"comment_id":133857414,"body_markdown":"add NoargsAnnotation too","body":"add NoargsAnnotation too"},{"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1680183249,"post_id":75888898,"comment_id":133857475,"body_markdown":"Show the class in question.","body":"Show the class in question."}],"answers":[{"tags":[],"owner":{"account_id":18564295,"reputation":1600,"user_id":13527621,"display_name":"Thomas Zimmermann"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680183216,"creation_date":1680183216,"answer_id":75888954,"question_id":75888898,"body_markdown":"The @AllArgsConstructor annotation creates a constructor for your class where every parameter has to be passed to initialize the class. As suggested, you have to annotate your class with the @NoArgsConstructor if you want to give your class the opportunity to be initialized like this:\r\n\r\n    final var myClass = new MyClass(); // Initialized using the &#39;NoArgs&#39; constructor\r\n    myClass.setProperty(value);\r\n    ...\r\n","title":"@Data @AllArgsConstructor [Lombok]","body":"<p>The @AllArgsConstructor annotation creates a constructor for your class where every parameter has to be passed to initialize the class. As suggested, you have to annotate your class with the @NoArgsConstructor if you want to give your class the opportunity to be initialized like this:</p>\n<pre><code>final var myClass = new MyClass(); // Initialized using the 'NoArgs' constructor\nmyClass.setProperty(value);\n...\n</code></pre>\n"}],"owner":{"account_id":8474264,"reputation":17,"user_id":6355981,"display_name":"SPONGEBOB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680183216,"creation_date":1680182938,"question_id":75888898,"body_markdown":"I have a class person, annoted by two annotations @Data @AllArgsConstructor.\r\nWhen i try to initialize class person by constructor i have a problem.\r\nNo problem in compilation but in runtime i have this error\r\n\r\njava: constructor Person in class com.app.net.model.Person cannot be applied to given types;\r\n  required: no arguments\r\n  found: java.lang.String,java.lang.String,java.lang.String,java.util.List&lt;com.app.net.model.Publication&gt;,java.util.List&lt;com.app.net.model.Comment&gt;\r\n  reason: **actual and formal argument lists differ in length**\r\n\r\nAnybody has a solution?\r\nthank you\r\n\r\nI try to initialize class with constructor with all arguments ","title":"@Data @AllArgsConstructor [Lombok]","body":"<p>I have a class person, annoted by two annotations @Data @AllArgsConstructor.\nWhen i try to initialize class person by constructor i have a problem.\nNo problem in compilation but in runtime i have this error</p>\n<p>java: constructor Person in class com.app.net.model.Person cannot be applied to given types;\nrequired: no arguments\nfound: java.lang.String,java.lang.String,java.lang.String,java.util.List&lt;com.app.net.model.Publication&gt;,java.util.List&lt;com.app.net.model.Comment&gt;\nreason: <strong>actual and formal argument lists differ in length</strong></p>\n<p>Anybody has a solution?\nthank you</p>\n<p>I try to initialize class with constructor with all arguments</p>\n"},{"tags":["java","rest","apache-camel","bearer-token"],"comments":[{"owner":{"account_id":20035415,"reputation":21,"user_id":14687258,"display_name":"arora_suman"},"score":0,"creation_date":1606150925,"post_id":64956963,"comment_id":114868101,"body_markdown":"I changed the camel version and it solved the problem.","body":"I changed the camel version and it solved the problem."},{"owner":{"account_id":6317719,"reputation":125,"user_id":4907054,"accept_rate":67,"display_name":"Denys Shabelnyk"},"score":0,"creation_date":1679663758,"post_id":64956963,"comment_id":133766000,"body_markdown":"which Apache Camel version do you used on this case ?","body":"which Apache Camel version do you used on this case ?"}],"answers":[{"comments":[{"owner":{"account_id":1278305,"reputation":128,"user_id":1233043,"display_name":"user1233043"},"score":0,"creation_date":1699895049,"post_id":75888943,"comment_id":136585457,"body_markdown":"This works with version 4 as well.","body":"This works with version 4 as well."}],"tags":[],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680183159,"creation_date":1680183159,"answer_id":75888943,"question_id":64956963,"body_markdown":"I use:\r\n\r\n    Message message = exchange.getIn();\r\n    message.setHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n\r\nThis works for me. I can see token in the Exchange properties. Apache Camel 2.7.5.\r\n\r\nSlightly different though, is that I do it in a `.bean(SomeBean.class)` and then send to `toD()` with dynamic URL.","title":"Authorization Bearer token in Apache Camel","body":"<p>I use:</p>\n<pre><code>Message message = exchange.getIn();\nmessage.setHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\n</code></pre>\n<p>This works for me. I can see token in the Exchange properties. Apache Camel 2.7.5.</p>\n<p>Slightly different though, is that I do it in a <code>.bean(SomeBean.class)</code> and then send to <code>toD()</code> with dynamic URL.</p>\n"}],"owner":{"account_id":20035415,"reputation":21,"user_id":14687258,"display_name":"arora_suman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2600,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680183159,"creation_date":1606064414,"question_id":64956963,"body_markdown":"I want to use Apache Camel to call a rest webservice which takes a bearer token as authorization. I am getting 401 unauthorized access if I use the below code-- \r\n\r\n```java\r\n@Component\r\npublic class LoadFileRouteBuilder extends RouteBuilder{\r\n    \r\n    @Override\r\n    public void configure() throws Exception {\r\n\r\n        from(&quot;timer:mytimer?repeatCount=1&quot;)\r\n            .log(&quot;Scheduled job!&quot;)\r\n            .to(&quot;direct:httpRoute&quot;);\r\n    \t\t\r\n    \tfrom(&quot;direct:httpRoute&quot;)\r\n            .log(&quot;Http Route started&quot;)\r\n            .setHeader(Exchange.HTTP_METHOD).constant(HttpMethod.GET)\r\n            .setHeader(Exchange.CONTENT_TYPE, constant(&quot;application/json&quot;))\r\n    \t    .setHeader(&quot;Authorization&quot;).simple(&quot;Bearer &quot;+ myToken)\r\n    \t\t.to(&quot;https://my-rest-ws-url&quot;)\r\n    \t\t.log(&quot;Response : ${body}&quot;);\r\n    }   \r\n}\r\n```\r\nI have also tried using process method to set the authorization token  exchange.getIn().setHeader(&quot;Authorization&quot;, &quot;Bearer &quot;+myToken); didn&#39;t work either. \r\n\r\nIs it the correct way to send bearer token ?  ","title":"Authorization Bearer token in Apache Camel","body":"<p>I want to use Apache Camel to call a rest webservice which takes a bearer token as authorization. I am getting 401 unauthorized access if I use the below code--</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class LoadFileRouteBuilder extends RouteBuilder{\n    \n    @Override\n    public void configure() throws Exception {\n\n        from(&quot;timer:mytimer?repeatCount=1&quot;)\n            .log(&quot;Scheduled job!&quot;)\n            .to(&quot;direct:httpRoute&quot;);\n            \n        from(&quot;direct:httpRoute&quot;)\n            .log(&quot;Http Route started&quot;)\n            .setHeader(Exchange.HTTP_METHOD).constant(HttpMethod.GET)\n            .setHeader(Exchange.CONTENT_TYPE, constant(&quot;application/json&quot;))\n            .setHeader(&quot;Authorization&quot;).simple(&quot;Bearer &quot;+ myToken)\n            .to(&quot;https://my-rest-ws-url&quot;)\n            .log(&quot;Response : ${body}&quot;);\n    }   \n}\n</code></pre>\n<p>I have also tried using process method to set the authorization token  exchange.getIn().setHeader(&quot;Authorization&quot;, &quot;Bearer &quot;+myToken); didn't work either.</p>\n<p>Is it the correct way to send bearer token ?</p>\n"},{"tags":["java","spring-webflux","spring-kafka","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680182393,"creation_date":1680182393,"answer_id":75888791,"question_id":75882294,"body_markdown":"Unlike Spring for Apache Kafaka (`spring-kafka`); `reactor-kafka` has no built-in mechanism to handle deserialization exceptions. \r\n\r\nOne solution would be to use Spring&#39;s `ErrorHandlingDeserializer` and, when the `value()` (or `key()`) is `null`, look for the deserialization exception in a header.\r\n\r\nSince you are already using the template to wrap the reactor-kafka code, you will already have it on class path.\r\n\r\nhttps://docs.spring.io/spring-kafka/docs/current/reference/html/#error-handling-deserializer\r\n\r\n&gt;When a deserializer fails to deserialize a message, Spring has no way to handle the problem, because it occurs before the `poll()` returns. To solve this problem, the `ErrorHandlingDeserializer` has been introduced. This deserializer delegates to a real deserializer (key or value). If the delegate fails to deserialize the record content, the `ErrorHandlingDeserializer` returns a `null` value and a `DeserializationException` in a header that contains the cause and the raw bytes. \r\n\r\nTake a look at the `DeadLetterPublishingRecoverer` to see how it uses `ListenerUtils` to extract the deserialization exception from the header(s).\r\n\r\nhttps://github.com/spring-projects/spring-kafka/blob/1eaf5b3e7dac58102e1e346dd03b40ab0ff5d711/spring-kafka/src/main/java/org/springframework/kafka/listener/DeadLetterPublishingRecoverer.java#L474-L477\r\n\r\n```java\r\nDeserializationException vDeserEx = ListenerUtils.getExceptionFromHeader(record,\r\n\t\tSerializationUtils.VALUE_DESERIALIZER_EXCEPTION_HEADER, this.logger);\r\nDeserializationException kDeserEx = ListenerUtils.getExceptionFromHeader(record,\r\n\t\tSerializationUtils.KEY_DESERIALIZER_EXCEPTION_HEADER, this.logger);\r\n```\r\n\r\nThe raw data is in the `data` field of the exception, as well as a flag to indicate whether it was a key or value that failed to deserialize.","title":"How to handle deserialization errors in (spring) reactor-kafka","body":"<p>Unlike Spring for Apache Kafaka (<code>spring-kafka</code>); <code>reactor-kafka</code> has no built-in mechanism to handle deserialization exceptions.</p>\n<p>One solution would be to use Spring's <code>ErrorHandlingDeserializer</code> and, when the <code>value()</code> (or <code>key()</code>) is <code>null</code>, look for the deserialization exception in a header.</p>\n<p>Since you are already using the template to wrap the reactor-kafka code, you will already have it on class path.</p>\n<p><a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#error-handling-deserializer\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#error-handling-deserializer</a></p>\n<blockquote>\n<p>When a deserializer fails to deserialize a message, Spring has no way to handle the problem, because it occurs before the <code>poll()</code> returns. To solve this problem, the <code>ErrorHandlingDeserializer</code> has been introduced. This deserializer delegates to a real deserializer (key or value). If the delegate fails to deserialize the record content, the <code>ErrorHandlingDeserializer</code> returns a <code>null</code> value and a <code>DeserializationException</code> in a header that contains the cause and the raw bytes.</p>\n</blockquote>\n<p>Take a look at the <code>DeadLetterPublishingRecoverer</code> to see how it uses <code>ListenerUtils</code> to extract the deserialization exception from the header(s).</p>\n<p><a href=\"https://github.com/spring-projects/spring-kafka/blob/1eaf5b3e7dac58102e1e346dd03b40ab0ff5d711/spring-kafka/src/main/java/org/springframework/kafka/listener/DeadLetterPublishingRecoverer.java#L474-L477\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-kafka/blob/1eaf5b3e7dac58102e1e346dd03b40ab0ff5d711/spring-kafka/src/main/java/org/springframework/kafka/listener/DeadLetterPublishingRecoverer.java#L474-L477</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>DeserializationException vDeserEx = ListenerUtils.getExceptionFromHeader(record,\n        SerializationUtils.VALUE_DESERIALIZER_EXCEPTION_HEADER, this.logger);\nDeserializationException kDeserEx = ListenerUtils.getExceptionFromHeader(record,\n        SerializationUtils.KEY_DESERIALIZER_EXCEPTION_HEADER, this.logger);\n</code></pre>\n<p>The raw data is in the <code>data</code> field of the exception, as well as a flag to indicate whether it was a key or value that failed to deserialize.</p>\n"}],"owner":{"account_id":27836545,"reputation":37,"user_id":21253875,"display_name":"Inessa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":843,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680182393,"creation_date":1680125120,"question_id":75882294,"body_markdown":"I am trying on reactor-kafka for consuming messages. I am using spring-kafka as a wrapper for reactive-kafka. I need to handle a deserialization exception - I need to send an unsuccessful message by rest (that is, it has further processing). \r\nI wrote this solution, but it doesn&#39;t seem good to me.\r\n\r\nBelow is my consumer template and solution:\r\n```\r\n        reactiveKafkaConsumerTemplate\r\n                .receiveAutoAck()\r\n                .flatMap(record -&gt; deserialize(record)) \r\n                .flatMap(toy -&gt; handle(toy))\r\n                .subscribe();\r\n```\r\nconvert method \r\n```\r\n    public Mono&lt;Toy&gt; deserialize(ConsumerRecord&lt;String, String&gt; record) {\r\n        return Mono.just(record)\r\n                .map(t -&gt; objectMapper.readValue(record.value(), Toy.class))\r\n                .onErrorResume(e -&gt; handleError(record.value())); //here is further processing of the deserialization exception\r\n\r\n    }\r\n```\r\nI can change the deserializer to, for example\r\n```\r\n props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\r\n```\r\nor something custom,but I do not know how to handle the deserialization error in this case","title":"How to handle deserialization errors in (spring) reactor-kafka","body":"<p>I am trying on reactor-kafka for consuming messages. I am using spring-kafka as a wrapper for reactive-kafka. I need to handle a deserialization exception - I need to send an unsuccessful message by rest (that is, it has further processing).\nI wrote this solution, but it doesn't seem good to me.</p>\n<p>Below is my consumer template and solution:</p>\n<pre><code>        reactiveKafkaConsumerTemplate\n                .receiveAutoAck()\n                .flatMap(record -&gt; deserialize(record)) \n                .flatMap(toy -&gt; handle(toy))\n                .subscribe();\n</code></pre>\n<p>convert method</p>\n<pre><code>    public Mono&lt;Toy&gt; deserialize(ConsumerRecord&lt;String, String&gt; record) {\n        return Mono.just(record)\n                .map(t -&gt; objectMapper.readValue(record.value(), Toy.class))\n                .onErrorResume(e -&gt; handleError(record.value())); //here is further processing of the deserialization exception\n\n    }\n</code></pre>\n<p>I can change the deserializer to, for example</p>\n<pre><code> props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\n</code></pre>\n<p>or something custom,but I do not know how to handle the deserialization error in this case</p>\n"},{"tags":["java","spring-boot","soap"],"answers":[{"tags":[],"owner":{"account_id":7204808,"reputation":95,"user_id":5500794,"display_name":"Thiago Rodrigues"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680182384,"creation_date":1680182384,"answer_id":75888790,"question_id":75730100,"body_markdown":"Try this setup:\r\n\r\n```\r\n@WebServiceServerTest(components = { YourWsInterceptor.class })\r\n@Import({ YourWsConfig.class })\r\nclass YourWsServerTest {\r\n    ...\r\n}\r\n```\r\n \r\n```\r\n@Configuration\r\n@EnableWs\r\npublic class YourWsConfig extends WsConfigurerAdapter {\r\n    ...\r\n    @Override\r\n\tpublic void addInterceptors(List&lt;EndpointInterceptor&gt; interceptors) {\r\n        ...\r\n    }\r\n\r\n}\r\n```","title":"How to setup configuration for SOAP service testing when using WebServiceServerTest, MockWebServiceClient in Java?","body":"<p>Try this setup:</p>\n<pre><code>@WebServiceServerTest(components = { YourWsInterceptor.class })\n@Import({ YourWsConfig.class })\nclass YourWsServerTest {\n    ...\n}\n</code></pre>\n<pre><code>@Configuration\n@EnableWs\npublic class YourWsConfig extends WsConfigurerAdapter {\n    ...\n    @Override\n    public void addInterceptors(List&lt;EndpointInterceptor&gt; interceptors) {\n        ...\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":123693,"reputation":4352,"user_id":318306,"accept_rate":87,"display_name":"Eugene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680182384,"creation_date":1678778578,"question_id":75730100,"body_markdown":"As question states, I am a bit confused about how to setup **SOAP** service testing in **Java (Spring)**.\r\n\r\nIn my specific case, I have custom endpoint *interceptors*. I would like to confirm, that there is interaction with them and maybe capture what they are receiving, during test.\r\n\r\nAt the moment, I can see, that they are missing during testing. I can tell it, because I&#39;m mutating response in actual application, but don&#39;t see same/expected result during testing.\r\n\r\nI am using `Java 17`, latest `spring-ws-test` and `spring-boot 2.7.6`\r\n\r\n**UPD:**\r\nSome references, that I used\r\n- https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/html/features.html#features.testing.spring-boot-applications.autoconfigured-webservices.server\r\n- https://jschmitz.dev/posts/how_to_test_the_web_services_of_your_spring_boot_application_with_webservicesservertest/\r\n\r\nThe problem is, that none of them cover configuration.\r\n\r\nOn Baeldung, there was one note:\r\n&gt; As mentioned previously, `@WebServiceServerTest` will not load the whole application context. If we do need to load the entire application context for the test, then we should consider using the `@SpringBootTest` combined with the `@AutoConfigureMockWebServiceClient`. We can then use this client in a similar fashion to send the request and verify the response, as shown previously.\r\n\r\nBut I am wondering if this is the only way to approach it.","title":"How to setup configuration for SOAP service testing when using WebServiceServerTest, MockWebServiceClient in Java?","body":"<p>As question states, I am a bit confused about how to setup <strong>SOAP</strong> service testing in <strong>Java (Spring)</strong>.</p>\n<p>In my specific case, I have custom endpoint <em>interceptors</em>. I would like to confirm, that there is interaction with them and maybe capture what they are receiving, during test.</p>\n<p>At the moment, I can see, that they are missing during testing. I can tell it, because I'm mutating response in actual application, but don't see same/expected result during testing.</p>\n<p>I am using <code>Java 17</code>, latest <code>spring-ws-test</code> and <code>spring-boot 2.7.6</code></p>\n<p><strong>UPD:</strong>\nSome references, that I used</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/html/features.html#features.testing.spring-boot-applications.autoconfigured-webservices.server\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/html/features.html#features.testing.spring-boot-applications.autoconfigured-webservices.server</a></li>\n<li><a href=\"https://jschmitz.dev/posts/how_to_test_the_web_services_of_your_spring_boot_application_with_webservicesservertest/\" rel=\"nofollow noreferrer\">https://jschmitz.dev/posts/how_to_test_the_web_services_of_your_spring_boot_application_with_webservicesservertest/</a></li>\n</ul>\n<p>The problem is, that none of them cover configuration.</p>\n<p>On Baeldung, there was one note:</p>\n<blockquote>\n<p>As mentioned previously, <code>@WebServiceServerTest</code> will not load the whole application context. If we do need to load the entire application context for the test, then we should consider using the <code>@SpringBootTest</code> combined with the <code>@AutoConfigureMockWebServiceClient</code>. We can then use this client in a similar fashion to send the request and verify the response, as shown previously.</p>\n</blockquote>\n<p>But I am wondering if this is the only way to approach it.</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1680182421,"post_id":75887817,"comment_id":133857206,"body_markdown":"What isn&#39;t working about the code you shared? Is there an error message?","body":"What isn&#39;t working about the code you shared? Is there an error message?"},{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":0,"creation_date":1680185918,"post_id":75887817,"comment_id":133858295,"body_markdown":"the idea was that when a supervisor is being retrieved on random basis as shown in the code, the retrieved supervisor is been assigned to a student and the db is updated. the situation continue till all the supervisors are filled. The issue is that when the supervisor are all filled, the database changes all the supervisors status to &quot;filled&quot; but my app still retrieve the supervisors whose status is &quot;filled&quot; which means that the app is not updated with the supervisor&#39;s status at real time. The app supposed to query the supervisors whose status are not filled as indicated in my query.","body":"the idea was that when a supervisor is being retrieved on random basis as shown in the code, the retrieved supervisor is been assigned to a student and the db is updated. the situation continue till all the supervisors are filled. The issue is that when the supervisor are all filled, the database changes all the supervisors status to &quot;filled&quot; but my app still retrieve the supervisors whose status is &quot;filled&quot; which means that the app is not updated with the supervisor&#39;s status at real time. The app supposed to query the supervisors whose status are not filled as indicated in my query."},{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":0,"creation_date":1680186010,"post_id":75887817,"comment_id":133858316,"body_markdown":"Immediately the last available supervisor is assigned to a student, the app supposed to return null instantly which shows that there is no supervisor in the db again whose status is &quot;Not Filled&quot;","body":"Immediately the last available supervisor is assigned to a student, the app supposed to return null instantly which shows that there is no supervisor in the db again whose status is &quot;Not Filled&quot;"},{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":0,"creation_date":1680186034,"post_id":75887817,"comment_id":133858321,"body_markdown":"That&#39;s the issue I am facing @FrankvanPuffelen","body":"That&#39;s the issue I am facing @FrankvanPuffelen"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1680200058,"post_id":75887817,"comment_id":133862058,"body_markdown":"That is repeating the use-case you already outlined in your question. What I&#39;m not clear on what exact line in the code you shared isn&#39;t working. I.e. If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the **first** line that doesn&#39;t do what you expect it to do? --- I.e. this *could* be: &quot;When I step through the `onDataChange` line by line, I see that it updates `supervisorsList` with the right users and picks a `supervisorChose ` at random, but it never shows that chosen supervisor in my UI&quot;","body":"That is repeating the use-case you already outlined in your question. What I&#39;m not clear on what exact line in the code you shared isn&#39;t working. I.e. If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the <b>first</b> line that doesn&#39;t do what you expect it to do? --- I.e. this <i>could</i> be: &quot;When I step through the <code>onDataChange</code> line by line, I see that it updates <code>supervisorsList</code> with the right users and picks a <code>supervisorChose </code> at random, but it never shows that chosen supervisor in my UI&quot;"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1680244821,"post_id":75887817,"comment_id":133868522,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."},{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":0,"creation_date":1680256036,"post_id":75887817,"comment_id":133870954,"body_markdown":"I didn&#39;t want it to be shown on the UI, the picked supervisor is used elsewhere. Actually I solved the issue by moving to another activity after successful registration. With that, my getSupervisors was updated from the database when a new user want to register. thanks for all your time","body":"I didn&#39;t want it to be shown on the UI, the picked supervisor is used elsewhere. Actually I solved the issue by moving to another activity after successful registration. With that, my getSupervisors was updated from the database when a new user want to register. thanks for all your time"}],"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680182355,"creation_date":1680176701,"question_id":75887817,"body_markdown":"I am querying a realtime firebase database and I think orderByChild cannot be updated on realtime. I want a situation whereby the status will be updated immediately a supervisor was generated from the db without having to relaunch the app because immediately a supervisor is generated from the app, the status changed to &quot;Filled&quot; and I want the app to stop at that moment. From what I saw on stack overflow, they said that the orderByChild query should be moved inside the snapshot that has the listener and I don&#39;t know how to do it.\r\n    \r\n    private void getSupervisors() {\r\n    \r\n        Query databaseReference = FirebaseDatabase.getInstance().getReference()\r\n                .child(&quot;Supervisors&quot;).orderByChild(&quot;status&quot;).equalTo(&quot;Not Filled&quot;);\r\n        databaseReference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.exists()) {\r\n                    List&lt;String&gt; supervisorsList =new ArrayList&lt;&gt;();\r\n                    for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\r\n\r\n                            supervisorsList.add(dataSnapshot.child(&quot;sid&quot;).getValue().toString());\r\n                        }\r\n                    supervisorChose = supervisorsList.get(new Random().nextInt(supervisorsList.size()));\r\n                    Log.d(&quot;Main&quot;,&quot;Supervisor List contains &quot;+supervisorsList);\r\n                    Log.d(&quot;Main&quot;,&quot;Supervisor chose is &quot;+supervisorChose);\r\n\r\n                }else {\r\n                    //Toast.makeText(StudentRegistrationActivity.this, &quot;No Supervisor in the database&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(StudentRegistrationActivity.this, &quot;Error From the database&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n","title":"how to update firebase realtime database","body":"<p>I am querying a realtime firebase database and I think orderByChild cannot be updated on realtime. I want a situation whereby the status will be updated immediately a supervisor was generated from the db without having to relaunch the app because immediately a supervisor is generated from the app, the status changed to &quot;Filled&quot; and I want the app to stop at that moment. From what I saw on stack overflow, they said that the orderByChild query should be moved inside the snapshot that has the listener and I don't know how to do it.</p>\n<pre><code>private void getSupervisors() {\n\n    Query databaseReference = FirebaseDatabase.getInstance().getReference()\n            .child(&quot;Supervisors&quot;).orderByChild(&quot;status&quot;).equalTo(&quot;Not Filled&quot;);\n    databaseReference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            if (snapshot.exists()) {\n                List&lt;String&gt; supervisorsList =new ArrayList&lt;&gt;();\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\n\n                        supervisorsList.add(dataSnapshot.child(&quot;sid&quot;).getValue().toString());\n                    }\n                supervisorChose = supervisorsList.get(new Random().nextInt(supervisorsList.size()));\n                Log.d(&quot;Main&quot;,&quot;Supervisor List contains &quot;+supervisorsList);\n                Log.d(&quot;Main&quot;,&quot;Supervisor chose is &quot;+supervisorChose);\n\n            }else {\n                //Toast.makeText(StudentRegistrationActivity.this, &quot;No Supervisor in the database&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n            Toast.makeText(StudentRegistrationActivity.this, &quot;Error From the database&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","android","firebase","listview","firebase-realtime-database"],"comments":[{"owner":{"account_id":6083808,"reputation":2163,"user_id":4748607,"display_name":"Nirav Bhavsar"},"score":0,"creation_date":1534962730,"post_id":51972787,"comment_id":90896599,"body_markdown":"why you are clearing the whole adapter, after you call **appleSnapshot.getRef().removeValue();**, just remove that position item from list and then call **arrayAdapter.notifyDataSetChanged();**","body":"why you are clearing the whole adapter, after you call <b>appleSnapshot.getRef().removeValue();</b>, just remove that position item from list and then call <b>arrayAdapter.notifyDataSetChanged();</b>"},{"owner":{"account_id":13782805,"reputation":37,"user_id":9947548,"display_name":"Manuj Sharma"},"score":0,"creation_date":1534998454,"post_id":51972787,"comment_id":90906416,"body_markdown":"How do i do that,Im a beginner,please help.","body":"How do i do that,Im a beginner,please help."},{"owner":{"account_id":6083808,"reputation":2163,"user_id":4748607,"display_name":"Nirav Bhavsar"},"score":1,"creation_date":1534999937,"post_id":51972787,"comment_id":90906705,"body_markdown":"after call of for loop of **appleSnapshot.getRef().removeValue()** then remove that position item from arraylist like **arraylist.remove(yourposition);**, then call notifydatasetchanged and check.","body":"after call of for loop of <b>appleSnapshot.getRef().removeValue()</b> then remove that position item from arraylist like <b>arraylist.remove(yourposition);</b>, then call notifydatasetchanged and check."},{"owner":{"account_id":13782805,"reputation":37,"user_id":9947548,"display_name":"Manuj Sharma"},"score":0,"creation_date":1535002670,"post_id":51972787,"comment_id":90907585,"body_markdown":"Thank you so much.I did this changes.arrayList.remove(listView.getPositionForView(view));","body":"Thank you so much.I did this changes.arrayList.remove(listView.getPositionForView(view));"},{"owner":{"account_id":6083808,"reputation":2163,"user_id":4748607,"display_name":"Nirav Bhavsar"},"score":0,"creation_date":1535003096,"post_id":51972787,"comment_id":90907731,"body_markdown":"welcome mate , i have add the above suggestion comment as my answer will you accept it.?","body":"welcome mate , i have add the above suggestion comment as my answer will you accept it.?"}],"answers":[{"comments":[{"owner":{"account_id":8299955,"reputation":2298,"user_id":6238866,"display_name":"Mayur Patel"},"score":0,"creation_date":1535003640,"post_id":51979075,"comment_id":90907936,"body_markdown":"Thats not update instantly if you remove data from firebase database.","body":"Thats not update instantly if you remove data from firebase database."},{"owner":{"account_id":13782805,"reputation":37,"user_id":9947548,"display_name":"Manuj Sharma"},"score":0,"creation_date":1535118205,"post_id":51979075,"comment_id":90961355,"body_markdown":"I did the same.Thanks for your answer and time","body":"I did the same.Thanks for your answer and time"},{"owner":{"account_id":6083808,"reputation":2163,"user_id":4748607,"display_name":"Nirav Bhavsar"},"score":0,"creation_date":1535122999,"post_id":51979075,"comment_id":90964463,"body_markdown":"@ManujSharma, Welcome mate :)","body":"@ManujSharma, Welcome mate :)"}],"tags":[],"owner":{"account_id":6083808,"reputation":2163,"user_id":4748607,"display_name":"Nirav Bhavsar"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1535003318,"creation_date":1535003318,"answer_id":51979075,"question_id":51972787,"body_markdown":"After call of for loop of `appleSnapshot.getRef().removeValue();` then remove that position item from arraylist , then call notifydatasetchanged and check like below\r\n\r\n    public void deleteTask(View view) {\r\n\r\n        int index=listView.getPositionForView(view);\r\n        String str= (String) arrayAdapter.getItem(index++);\r\n\r\n        DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\r\n        Query taskQuery = ref.child(&quot;Todo&quot;).orderByChild(&quot;Task&quot;).equalTo(str);\r\n        taskQuery.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                for (DataSnapshot appleSnapshot: dataSnapshot.getChildren()) {\r\n                    appleSnapshot.getRef().removeValue();\r\n                }\r\n                arrayList.remove(listView.getPositionForView(view)); // remove the item from list\r\n                arrayAdapter.notifyDataSetChanged();// notify the changed\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                Log.e(&quot;TAG&quot;, &quot;onCancelled&quot;, databaseError.toException());\r\n            }\r\n        });\r\n\r\n    }","title":"how do i update my listView after deleting the data in firebase realtime database","body":"<p>After call of for loop of <code>appleSnapshot.getRef().removeValue();</code> then remove that position item from arraylist , then call notifydatasetchanged and check like below</p>\n\n<pre><code>public void deleteTask(View view) {\n\n    int index=listView.getPositionForView(view);\n    String str= (String) arrayAdapter.getItem(index++);\n\n    DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\n    Query taskQuery = ref.child(\"Todo\").orderByChild(\"Task\").equalTo(str);\n    taskQuery.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot dataSnapshot) {\n            for (DataSnapshot appleSnapshot: dataSnapshot.getChildren()) {\n                appleSnapshot.getRef().removeValue();\n            }\n            arrayList.remove(listView.getPositionForView(view)); // remove the item from list\n            arrayAdapter.notifyDataSetChanged();// notify the changed\n        }\n\n        @Override\n        public void onCancelled(DatabaseError databaseError) {\n            Log.e(\"TAG\", \"onCancelled\", databaseError.toException());\n        }\n    });\n\n}\n</code></pre>\n"}],"owner":{"account_id":13782805,"reputation":37,"user_id":9947548,"display_name":"Manuj Sharma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1552,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":51979075,"answer_count":1,"score":-3,"last_activity_date":1680182332,"creation_date":1534961404,"question_id":51972787,"body_markdown":"My app saves the data in a [Firebase realtime database][1] and I have retreived the data and showed them in a [ListtView][2]. Now I want to delete a particular data in a `ListView`  and I have used the [removeValue()][3] method for deleting task and the data is deleted. However, I am not able to update the `ListView` after deleting data from database. `ListView` is either cleared od gets contained only one item. If i reopen my app,then the items are properly updated. Why `ListView` is not updated?\r\n\r\n**This is my MainActivity.java**\r\n\r\n    package com.example.manuj.todolist;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.support.design.widget.FloatingActionButton;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.Button;\r\n    import android.widget.ListView;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import com.google.firebase.database.ChildEventListener;\r\n    import com.google.firebase.database.DataSnapshot;\r\n    import com.google.firebase.database.DatabaseError;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.google.firebase.database.Query;\r\n    import com.google.firebase.database.ValueEventListener;\r\n    \r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        ListView listView;\r\n        TextView textView;\r\n        Button button;\r\n    \r\n    \r\n        String tasks;\r\n        FirebaseDatabase db = FirebaseDatabase.getInstance();\r\n        DatabaseReference rootRef = db.getReference();\r\n        DatabaseReference dataRef = rootRef.child(&quot;Todo&quot;);\r\n        ArrayList&lt;String&gt;arrayList=new ArrayList&lt;&gt;();\r\n        ArrayAdapter arrayAdapter;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            button=findViewById(R.id.delButton);\r\n            textView=findViewById(R.id.taskText);\r\n            listView=findViewById(R.id.listView);\r\n    \r\n    \r\n            arrayAdapter=new ArrayAdapter&lt;String&gt;(this,R.layout.list_items,R.id.taskText,arrayList);\r\n            listView.setAdapter(arrayAdapter);\r\n    \r\n            dataRef.addChildEventListener(new ChildEventListener() {\r\n                @Override\r\n                public void onChildAdded(DataSnapshot dataSnapshot, String s) {\r\n                    String value = dataSnapshot.getValue().toString();\r\n                    try {\r\n                        JSONObject object = new JSONObject(value);\r\n                        tasks = object.getString(&quot;Task&quot;);\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    arrayList.add(tasks);\r\n                    arrayAdapter.notifyDataSetChanged();\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onChildChanged(DataSnapshot dataSnapshot, String s) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onChildRemoved(DataSnapshot dataSnapshot) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onChildMoved(DataSnapshot dataSnapshot, String s) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(DatabaseError databaseError) {\r\n    \r\n                }\r\n            });\r\n            listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; parent, View view, final int position, long id) {\r\n                    Toast.makeText(MainActivity.this,&quot;sffad&quot;,Toast.LENGTH_SHORT).show();\r\n    \r\n                }\r\n    \r\n            });\r\n    \r\n    \r\n            //Get the floating action button and set onClickLiter\r\n            FloatingActionButton fab = findViewById(R.id.fab);\r\n            fab.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Intent intent=new Intent(MainActivity.this,CustomDialog.class);\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n    \r\n        public void deleteTask(View view) {\r\n    \r\n            int index=listView.getPositionForView(view);\r\n            String str= (String) arrayAdapter.getItem(index++);\r\n    \r\n            DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\r\n            Query taskQuery = ref.child(&quot;Todo&quot;).orderByChild(&quot;Task&quot;).equalTo(str);\r\n            taskQuery.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(DataSnapshot dataSnapshot) {\r\n                    for (DataSnapshot appleSnapshot: dataSnapshot.getChildren()) {\r\n                        appleSnapshot.getRef().removeValue();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(DatabaseError databaseError) {\r\n                    Log.e(&quot;TAG&quot;, &quot;onCancelled&quot;, databaseError.toException());\r\n                }\r\n            });\r\n    \r\n    \r\n            arrayAdapter.clear();\r\n            arrayAdapter.addAll(arrayList);\r\n            arrayAdapter.notifyDataSetChanged();\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://firebase.google.com/\r\n  [2]: https://developer.android.com/reference/android/widget/ListView\r\n  [3]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference#removeValue()","title":"how do i update my listView after deleting the data in firebase realtime database","body":"<p>My app saves the data in a <a href=\"https://firebase.google.com/\" rel=\"nofollow noreferrer\">Firebase realtime database</a> and I have retreived the data and showed them in a <a href=\"https://developer.android.com/reference/android/widget/ListView\" rel=\"nofollow noreferrer\">ListtView</a>. Now I want to delete a particular data in a <code>ListView</code>  and I have used the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference#removeValue()\" rel=\"nofollow noreferrer\">removeValue()</a> method for deleting task and the data is deleted. However, I am not able to update the <code>ListView</code> after deleting data from database. <code>ListView</code> is either cleared od gets contained only one item. If i reopen my app,then the items are properly updated. Why <code>ListView</code> is not updated?</p>\n<p><strong>This is my MainActivity.java</strong></p>\n<pre><code>package com.example.manuj.todolist;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.support.design.widget.FloatingActionButton;\nimport android.support.v7.app.AppCompatActivity;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.ListView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.google.firebase.database.ChildEventListener;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.Query;\nimport com.google.firebase.database.ValueEventListener;\n\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity {\n\n    ListView listView;\n    TextView textView;\n    Button button;\n\n\n    String tasks;\n    FirebaseDatabase db = FirebaseDatabase.getInstance();\n    DatabaseReference rootRef = db.getReference();\n    DatabaseReference dataRef = rootRef.child(&quot;Todo&quot;);\n    ArrayList&lt;String&gt;arrayList=new ArrayList&lt;&gt;();\n    ArrayAdapter arrayAdapter;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        button=findViewById(R.id.delButton);\n        textView=findViewById(R.id.taskText);\n        listView=findViewById(R.id.listView);\n\n\n        arrayAdapter=new ArrayAdapter&lt;String&gt;(this,R.layout.list_items,R.id.taskText,arrayList);\n        listView.setAdapter(arrayAdapter);\n\n        dataRef.addChildEventListener(new ChildEventListener() {\n            @Override\n            public void onChildAdded(DataSnapshot dataSnapshot, String s) {\n                String value = dataSnapshot.getValue().toString();\n                try {\n                    JSONObject object = new JSONObject(value);\n                    tasks = object.getString(&quot;Task&quot;);\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n                arrayList.add(tasks);\n                arrayAdapter.notifyDataSetChanged();\n\n            }\n\n            @Override\n            public void onChildChanged(DataSnapshot dataSnapshot, String s) {\n\n            }\n\n            @Override\n            public void onChildRemoved(DataSnapshot dataSnapshot) {\n\n            }\n\n            @Override\n            public void onChildMoved(DataSnapshot dataSnapshot, String s) {\n\n            }\n\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n\n            }\n        });\n        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, final int position, long id) {\n                Toast.makeText(MainActivity.this,&quot;sffad&quot;,Toast.LENGTH_SHORT).show();\n\n            }\n\n        });\n\n\n        //Get the floating action button and set onClickLiter\n        FloatingActionButton fab = findViewById(R.id.fab);\n        fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent=new Intent(MainActivity.this,CustomDialog.class);\n                startActivity(intent);\n            }\n        });\n\n    }\n\n\n    public void deleteTask(View view) {\n\n        int index=listView.getPositionForView(view);\n        String str= (String) arrayAdapter.getItem(index++);\n\n        DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\n        Query taskQuery = ref.child(&quot;Todo&quot;).orderByChild(&quot;Task&quot;).equalTo(str);\n        taskQuery.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                for (DataSnapshot appleSnapshot: dataSnapshot.getChildren()) {\n                    appleSnapshot.getRef().removeValue();\n                }\n            }\n\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n                Log.e(&quot;TAG&quot;, &quot;onCancelled&quot;, databaseError.toException());\n            }\n        });\n\n\n        arrayAdapter.clear();\n        arrayAdapter.addAll(arrayList);\n        arrayAdapter.notifyDataSetChanged();\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","gradle","apache-commons-beanutils"],"answers":[{"tags":[],"owner":{"account_id":9245299,"reputation":21,"user_id":6867368,"display_name":"M. Wismer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680182278,"creation_date":1680018988,"answer_id":75868478,"question_id":75868239,"body_markdown":"\r\nI did get it to work but I had to include\r\n\r\n\r\nimplementation &#39;commons-collections:commons-collections:3.2.1&#39;\r\n\r\nimplementation &#39;commons-logging:commons-logging:1.2&#39;\r\n\r\nin my build.gradle","title":"Trying to use BeanComparator in my gradle project","body":"<p>I did get it to work but I had to include</p>\n<p>implementation 'commons-collections:commons-collections:3.2.1'</p>\n<p>implementation 'commons-logging:commons-logging:1.2'</p>\n<p>in my build.gradle</p>\n"},{"tags":[],"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680031405,"creation_date":1680031405,"answer_id":75870290,"question_id":75868239,"body_markdown":"In build.gradle\r\n```\r\ndependencies{\r\n    // https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils\r\n    implementation &#39;commons-beanutils:commons-beanutils:1.9.4&#39;\r\n    . . . \r\n}\r\n```\r\n\r\nIn your Java class file: \r\n```\r\nimport java.util.Comparator;\r\nimport org.apache.commons.beanutils.BeanComparator;\r\n...\r\n    // Assume you want to compare Person objects based on their age properties.\r\n    private Comparator&lt;Person&gt; bc = new BeanComparator&lt;&gt;(&quot;age&quot;);\r\n\r\n```\r\nGoogle &quot;apache BeanComparator example&quot; for lots of usage examples.\r\n\r\nBut I would use \r\n```\r\npeople.sort((Person p1, Person p2)-&gt;p1.getAge()-p2.getAge());\r\n```\r\nas in \r\n```\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Comparator;\r\nimport org.apache.commons.beanutils.BeanComparator;\r\n\r\npublic class BeanComparatorDemo {\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Person&gt; people = Arrays.asList(new Person(&quot;Bart&quot;, 28), new Person(&quot;Iris&quot;, 23), new Person(&quot;Dumsani&quot;, 71));\r\n\r\n        people.sort((Person p1, Person p2) -&gt; p1.getAge() - p2.getAge());\r\n        System.out.println(&quot;Sort using comparator lambda: &quot; + people);\r\n\r\n        // I wouldn&#39;t use BeanComparator because you can do this in regular Java\r\n        // without additional dependencies (and possible vulnerabilities),\r\n        // and BeanComparator seems to be hostile to Java records.\r\n        Comparator&lt;Person&gt; bc = new BeanComparator&lt;&gt;(&quot;name&quot;);\r\n        people.sort(bc);\r\n        System.out.println(&quot;Sort on name using BeanComparator: &quot; + people);\r\n    }\r\n\r\n    public static class Person {\r\n        private String name;\r\n        private int age;\r\n\r\n        Person(String name, int age) {\r\n            this.name = name;\r\n            this.age = age;\r\n        }\r\n\r\n        public String getName() {\r\n            return this.name;\r\n        }\r\n        public int getAge() { \r\n            return this.age;\r\n        }\r\n        public String toString() {\r\n            return &quot;Person [&quot; + name + &quot;, &quot; + age + &quot;]&quot;;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\nAlso, `BeanComparator` doesn&#39;t seem to like Java `record`.","title":"Trying to use BeanComparator in my gradle project","body":"<p>In build.gradle</p>\n<pre><code>dependencies{\n    // https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils\n    implementation 'commons-beanutils:commons-beanutils:1.9.4'\n    . . . \n}\n</code></pre>\n<p>In your Java class file:</p>\n<pre><code>import java.util.Comparator;\nimport org.apache.commons.beanutils.BeanComparator;\n...\n    // Assume you want to compare Person objects based on their age properties.\n    private Comparator&lt;Person&gt; bc = new BeanComparator&lt;&gt;(&quot;age&quot;);\n\n</code></pre>\n<p>Google &quot;apache BeanComparator example&quot; for lots of usage examples.</p>\n<p>But I would use</p>\n<pre><code>people.sort((Person p1, Person p2)-&gt;p1.getAge()-p2.getAge());\n</code></pre>\n<p>as in</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.Comparator;\nimport org.apache.commons.beanutils.BeanComparator;\n\npublic class BeanComparatorDemo {\n\n    public static void main(String[] args) {\n        List&lt;Person&gt; people = Arrays.asList(new Person(&quot;Bart&quot;, 28), new Person(&quot;Iris&quot;, 23), new Person(&quot;Dumsani&quot;, 71));\n\n        people.sort((Person p1, Person p2) -&gt; p1.getAge() - p2.getAge());\n        System.out.println(&quot;Sort using comparator lambda: &quot; + people);\n\n        // I wouldn't use BeanComparator because you can do this in regular Java\n        // without additional dependencies (and possible vulnerabilities),\n        // and BeanComparator seems to be hostile to Java records.\n        Comparator&lt;Person&gt; bc = new BeanComparator&lt;&gt;(&quot;name&quot;);\n        people.sort(bc);\n        System.out.println(&quot;Sort on name using BeanComparator: &quot; + people);\n    }\n\n    public static class Person {\n        private String name;\n        private int age;\n\n        Person(String name, int age) {\n            this.name = name;\n            this.age = age;\n        }\n\n        public String getName() {\n            return this.name;\n        }\n        public int getAge() { \n            return this.age;\n        }\n        public String toString() {\n            return &quot;Person [&quot; + name + &quot;, &quot; + age + &quot;]&quot;;\n        }\n    }\n\n}\n</code></pre>\n<p>Also, <code>BeanComparator</code> doesn't seem to like Java <code>record</code>.</p>\n"}],"owner":{"account_id":9245299,"reputation":21,"user_id":6867368,"display_name":"M. Wismer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680182278,"creation_date":1680017443,"question_id":75868239,"body_markdown":" I&#39;m having trouble using BeanComparator in my gradle project. I can import in my build.gradle with implementation &#39;commons-beanutils:commons-beanutils:1.9.4&#39;\r\n\r\nbut when I try to import \r\nimport commons-beanutils.commons.beanutils.BeanComparator\r\nI always see cannot resolve symbol commons\r\n\r\n\r\nDoes anyone have a working example of using BeanComparator with the import statement? Is using BeanComparator not a good idea because it uses reflection? It seems to do exactly what I want it to do.\r\n\r\nI have tried multiple variations \r\nimport commons-beanutils.commons-beanutils.BeanComparator\r\nimport commons.beanutils.commons-beanutils.BeanComparator etc.\r\n\r\nI have also tried \r\nimplementation &#39;org.apache.commons.beanutils:1.9.4&#39;\r\nbut that doesn&#39;t exist","title":"Trying to use BeanComparator in my gradle project","body":"<p>I'm having trouble using BeanComparator in my gradle project. I can import in my build.gradle with implementation 'commons-beanutils:commons-beanutils:1.9.4'</p>\n<p>but when I try to import\nimport commons-beanutils.commons.beanutils.BeanComparator\nI always see cannot resolve symbol commons</p>\n<p>Does anyone have a working example of using BeanComparator with the import statement? Is using BeanComparator not a good idea because it uses reflection? It seems to do exactly what I want it to do.</p>\n<p>I have tried multiple variations\nimport commons-beanutils.commons-beanutils.BeanComparator\nimport commons.beanutils.commons-beanutils.BeanComparator etc.</p>\n<p>I have also tried\nimplementation 'org.apache.commons.beanutils:1.9.4'\nbut that doesn't exist</p>\n"},{"tags":["java","annotations","javac"],"comments":[{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":0,"creation_date":1679994712,"post_id":75864102,"comment_id":133816629,"body_markdown":"Why do you think the problem lies in javac and not java itself ? I mean, you only used javac to compile it in the beginning, java is the one that worked with different contexts.","body":"Why do you think the problem lies in javac and not java itself ? I mean, you only used javac to compile it in the beginning, java is the one that worked with different contexts."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1679994922,"post_id":75864102,"comment_id":133816697,"body_markdown":"@YassinHajaj: I asserted (just like that!) that the Right Thing™ to do here is to ignore this missing enum reference. A user of `x` (running `java`) can&#39;t really do much about it anyway, whereas a user of `q` (running `javac`) might still be able to fix things by adding a dependency.","body":"@YassinHajaj: I asserted (just like that!) that the Right Thing™ to do here is to ignore this missing enum reference. A user of <code>x</code> (running <code>java</code>) can&#39;t really do much about it anyway, whereas a user of <code>q</code> (running <code>javac</code>) might still be able to fix things by adding a dependency."},{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":0,"creation_date":1679999986,"post_id":75864102,"comment_id":133817993,"body_markdown":"Indeed, I read through some of the information here. Thanks for the additional information, it indeed can only be `javac`","body":"Indeed, I read through some of the information here. Thanks for the additional information, it indeed can only be <code>javac</code>"},{"owner":{"account_id":7413250,"reputation":592,"user_id":5639961,"display_name":"yyyy"},"score":0,"creation_date":1680103156,"post_id":75864102,"comment_id":133841351,"body_markdown":"I found a probably related bug report https://bugs.openjdk.org/browse/JDK-6550655 mentioned &quot;If a completion failure is thrown when entering an annotation through ClassReader, a **warning** is issued.&quot;. So the warning is intentional.\nI don&#39;t think JLS said anything about warnings during compiling.","body":"I found a probably related bug report <a href=\"https://bugs.openjdk.org/browse/JDK-6550655\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-6550655</a> mentioned &quot;If a completion failure is thrown when entering an annotation through ClassReader, a <b>warning</b> is issued.&quot;. So the warning is intentional. I don&#39;t think JLS said anything about warnings during compiling."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1680103556,"post_id":75864102,"comment_id":133841489,"body_markdown":"@yyyy: Great finding! I wonder if it was implemented wrongly. There&#39;s a claim that *&quot;but C.java is successfully compiled, and C.class correctly seems to contain the @B annotation. Probably some added warning is in order in case A.class could be found but A$E.class could not.&quot;* - The test in your linked issue only removed the enum, not the annotation, in case of which I agree with the warning. If both are removed, then I don&#39;t see the point of the warning.","body":"@yyyy: Great finding! I wonder if it was implemented wrongly. There&#39;s a claim that <i>&quot;but C.java is successfully compiled, and C.class correctly seems to contain the @B annotation. Probably some added warning is in order in case A.class could be found but A$E.class could not.&quot;</i> - The test in your linked issue only removed the enum, not the annotation, in case of which I agree with the warning. If both are removed, then I don&#39;t see the point of the warning."}],"answers":[{"comments":[{"owner":{"account_id":7413250,"reputation":592,"user_id":5639961,"display_name":"yyyy"},"score":1,"creation_date":1680193081,"post_id":75888750,"comment_id":133860396,"body_markdown":"Current behavior probably exists before jdk-6550655, as you can see the &quot;suggested fix&quot; shows `if (enumerator == null) { log.error(&quot;unknown.enum.constant&quot;) ...`, which prints the warning you see, already exists before this fix.\nI&#39;d like to see the code history, but it&#39;s long before OpenJDK migrating to GitHub, I can&#39;t find the history anywhere.","body":"Current behavior probably exists before jdk-6550655, as you can see the &quot;suggested fix&quot; shows <code>if (enumerator == null) { log.error(&quot;unknown.enum.constant&quot;) ...</code>, which prints the warning you see, already exists before this fix. I&#39;d like to see the code history, but it&#39;s long before OpenJDK migrating to GitHub, I can&#39;t find the history anywhere."}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680182156,"creation_date":1680182156,"answer_id":75888750,"question_id":75864102,"body_markdown":"As [commented by user yyyy][1] and also on the [library bug tracker][2], the current behaviour is defined by a fix [JDK-6550655][3], which introduced the warning in Java 7 (before, this annotation/enum usage resulted in a compilation error).\r\n\r\n[JDK-6550655][3] is slightly different. The warning was introduced for cases where only the enum `p.E` is absent, not the annotation `p.A`, in case of which, indeed, undesired runtime errors will occur when accessing `p.A` using reflection API. Warning developers of this situation is certainly desired. In this case here, however, all content of the `p` package is absent, meaning there can&#39;t be any runtime errors, and the absence should be fine as per the design of annotations, which are allowed to be absent.\r\n\r\nIn my opinion, this is a bug in javac, which I&#39;ve reported: [JDK-8305250][4]. It may or may not be accepted or fixed.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75864102/how-to-avoid-javac-warning-unknown-enum-constant-reason-class-file-not-found?noredirect=1#comment133841351_75864102\r\n  [2]: https://github.com/jOOQ/jOOQ/issues/14865#issuecomment-1489310283\r\n  [3]: https://bugs.openjdk.org/browse/JDK-6550655\r\n  [4]: https://bugs.openjdk.org/browse/JDK-8305250","title":"How to avoid javac warning: unknown enum constant, reason: class file not found, when dependency has optional annotations with enums","body":"<p>As <a href=\"https://stackoverflow.com/questions/75864102/how-to-avoid-javac-warning-unknown-enum-constant-reason-class-file-not-found?noredirect=1#comment133841351_75864102\">commented by user yyyy</a> and also on the <a href=\"https://github.com/jOOQ/jOOQ/issues/14865#issuecomment-1489310283\" rel=\"nofollow noreferrer\">library bug tracker</a>, the current behaviour is defined by a fix <a href=\"https://bugs.openjdk.org/browse/JDK-6550655\" rel=\"nofollow noreferrer\">JDK-6550655</a>, which introduced the warning in Java 7 (before, this annotation/enum usage resulted in a compilation error).</p>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-6550655\" rel=\"nofollow noreferrer\">JDK-6550655</a> is slightly different. The warning was introduced for cases where only the enum <code>p.E</code> is absent, not the annotation <code>p.A</code>, in case of which, indeed, undesired runtime errors will occur when accessing <code>p.A</code> using reflection API. Warning developers of this situation is certainly desired. In this case here, however, all content of the <code>p</code> package is absent, meaning there can't be any runtime errors, and the absence should be fine as per the design of annotations, which are allowed to be absent.</p>\n<p>In my opinion, this is a bug in javac, which I've reported: <a href=\"https://bugs.openjdk.org/browse/JDK-8305250\" rel=\"nofollow noreferrer\">JDK-8305250</a>. It may or may not be accepted or fixed.</p>\n"}],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2223,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":75888750,"answer_count":1,"score":20,"last_activity_date":1680182156,"creation_date":1679993215,"question_id":75864102,"body_markdown":"I have this example setup:\r\n\r\n**`p.E`**\r\n\r\n```java\r\npackage p;\r\n\r\npublic enum E { E }\r\n```\r\n\r\n**`p.A`**\r\n\r\n```java\r\npackage p;\r\n\r\nimport java.lang.annotation.*;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface A {\r\n    p.E e();\r\n}\r\n```\r\n\r\n**`q.Test`**\r\n\r\n```java\r\npackage q;\r\n\r\nimport p.*;\r\n\r\n@A(e = E.E)\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Test.main()&quot;);\r\n    }\r\n}\r\n```\r\n\r\nSo, I can now do this:\r\n\r\n```none\r\n$ javac q/Test.java\r\n$ rm p/*.class\r\n$ ll */*\r\n-rw-r--r-- 1 lukas 197609 118 Mar 28 10:21 p/A.java\r\n-rw-r--r-- 1 lukas 197609  32 Mar 28 09:43 p/E.java\r\n-rw-r--r-- 1 lukas 197609 486 Mar 28 10:22 q/Test.class\r\n-rw-r--r-- 1 lukas 197609 153 Mar 28 09:55 q/Test.java\r\n$ java q/Test\r\nTest.main()\r\n```\r\n\r\nNo problem, the annotations are optional and ignored by the runtime, no `NoClassDefFoundError`\r\n\r\nHowever, when I remove the source files of `p` as well, keeping the compiled `Test.class`:\r\n\r\n```\r\n$ rm -Rf p\r\n```\r\n\r\nAnd then create:\r\n\r\n**`x.Test2`**\r\n\r\n```java\r\npackage x;\r\n\r\npublic class Test2 {\r\n    q.Test test;\r\n}\r\n```\r\n\r\nCompiling that class gives a warning:\r\n\r\n```none\r\n$ javac x/Test2.java\r\nwarning: unknown enum constant E.E\r\n  reason: class file for p.E not found\r\n1 warning\r\n```\r\n\r\n## Alternatives, that don&#39;t produce such a warning\r\n\r\n### No enum\r\n\r\nI don&#39;t get this warning for an annotation that doesn&#39;t depend on any enums. I.e. repeat the procedure for these, and there&#39;s no warning:\r\n\r\n**`p.A`**\r\n\r\n```java\r\npackage p;\r\n\r\nimport java.lang.annotation.*;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface A {}\r\n```\r\n\r\n**`q.Test`**\r\n\r\n```java\r\npackage q;\r\n\r\nimport p.*;\r\n\r\n@A\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Test.main()&quot;);\r\n    }\r\n}\r\n```\r\n\r\n### Class reference\r\n\r\nWhen `A` references `Class&lt;E&gt;` instead of an `E.E` enum value, I still don&#39;t get any warnings:\r\n\r\n**`p.A`**\r\n\r\n```java\r\npackage p;\r\n\r\nimport java.lang.annotation.*;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface A {\r\n    Class&lt;?&gt; a();\r\n}\r\n```\r\n\r\n**`q.Test`**\r\n\r\n```java\r\npackage q;\r\n\r\nimport p.*;\r\n\r\n@A(a = E.class)\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Test.main()&quot;);\r\n    }\r\n}\r\n```\r\n\r\n## My questions:\r\n\r\n1. Is this a correct warning according to the JLS? It seems like a bug in javac to me, given the annotation is optional and doesn&#39;t produce a warning if there&#39;s no `enum` type involved, but I may be missing something.\r\n2. Is there any way to work around this warning in client code?\r\n\r\n**For context: the real world use-case is:**\r\n\r\n- The `p` package containing the annotations are from JAXB\r\n- The `q` package containing library code that references the annotations is a library whose dependency on `p` is optional. (jOOQ to be specific, [more details here][1])\r\n- The `x` package is client code, depending on the `q` package, which has an optional dependency on `p`, meaning, the dependency is effectively missing by default.\r\n\r\n\r\n  [1]: https://github.com/jOOQ/jOOQ/issues/14865","title":"How to avoid javac warning: unknown enum constant, reason: class file not found, when dependency has optional annotations with enums","body":"<p>I have this example setup:</p>\n<p><strong><code>p.E</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package p;\n\npublic enum E { E }\n</code></pre>\n<p><strong><code>p.A</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package p;\n\nimport java.lang.annotation.*;\n\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface A {\n    p.E e();\n}\n</code></pre>\n<p><strong><code>q.Test</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package q;\n\nimport p.*;\n\n@A(e = E.E)\npublic class Test {\n    public static void main(String[] args) {\n        System.out.println(&quot;Test.main()&quot;);\n    }\n}\n</code></pre>\n<p>So, I can now do this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ javac q/Test.java\n$ rm p/*.class\n$ ll */*\n-rw-r--r-- 1 lukas 197609 118 Mar 28 10:21 p/A.java\n-rw-r--r-- 1 lukas 197609  32 Mar 28 09:43 p/E.java\n-rw-r--r-- 1 lukas 197609 486 Mar 28 10:22 q/Test.class\n-rw-r--r-- 1 lukas 197609 153 Mar 28 09:55 q/Test.java\n$ java q/Test\nTest.main()\n</code></pre>\n<p>No problem, the annotations are optional and ignored by the runtime, no <code>NoClassDefFoundError</code></p>\n<p>However, when I remove the source files of <code>p</code> as well, keeping the compiled <code>Test.class</code>:</p>\n<pre><code>$ rm -Rf p\n</code></pre>\n<p>And then create:</p>\n<p><strong><code>x.Test2</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package x;\n\npublic class Test2 {\n    q.Test test;\n}\n</code></pre>\n<p>Compiling that class gives a warning:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ javac x/Test2.java\nwarning: unknown enum constant E.E\n  reason: class file for p.E not found\n1 warning\n</code></pre>\n<h2>Alternatives, that don't produce such a warning</h2>\n<h3>No enum</h3>\n<p>I don't get this warning for an annotation that doesn't depend on any enums. I.e. repeat the procedure for these, and there's no warning:</p>\n<p><strong><code>p.A</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package p;\n\nimport java.lang.annotation.*;\n\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface A {}\n</code></pre>\n<p><strong><code>q.Test</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package q;\n\nimport p.*;\n\n@A\npublic class Test {\n    public static void main(String[] args) {\n        System.out.println(&quot;Test.main()&quot;);\n    }\n}\n</code></pre>\n<h3>Class reference</h3>\n<p>When <code>A</code> references <code>Class&lt;E&gt;</code> instead of an <code>E.E</code> enum value, I still don't get any warnings:</p>\n<p><strong><code>p.A</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package p;\n\nimport java.lang.annotation.*;\n\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface A {\n    Class&lt;?&gt; a();\n}\n</code></pre>\n<p><strong><code>q.Test</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package q;\n\nimport p.*;\n\n@A(a = E.class)\npublic class Test {\n    public static void main(String[] args) {\n        System.out.println(&quot;Test.main()&quot;);\n    }\n}\n</code></pre>\n<h2>My questions:</h2>\n<ol>\n<li>Is this a correct warning according to the JLS? It seems like a bug in javac to me, given the annotation is optional and doesn't produce a warning if there's no <code>enum</code> type involved, but I may be missing something.</li>\n<li>Is there any way to work around this warning in client code?</li>\n</ol>\n<p><strong>For context: the real world use-case is:</strong></p>\n<ul>\n<li>The <code>p</code> package containing the annotations are from JAXB</li>\n<li>The <code>q</code> package containing library code that references the annotations is a library whose dependency on <code>p</code> is optional. (jOOQ to be specific, <a href=\"https://github.com/jOOQ/jOOQ/issues/14865\" rel=\"noreferrer\">more details here</a>)</li>\n<li>The <code>x</code> package is client code, depending on the <code>q</code> package, which has an optional dependency on <code>p</code>, meaning, the dependency is effectively missing by default.</li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3395647,"reputation":8928,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"score":0,"creation_date":1430719652,"post_id":30023545,"comment_id":48164336,"body_markdown":"so, now what is your question?","body":"so, now what is your question?"},{"owner":{"account_id":5984666,"reputation":7885,"user_id":4702544,"accept_rate":50,"display_name":"Sachin Gupta"},"score":0,"creation_date":1430719665,"post_id":30023545,"comment_id":48164342,"body_markdown":"check your `path` variable","body":"check your <code>path</code> variable"},{"owner":{"account_id":2814449,"reputation":5714,"user_id":2419922,"accept_rate":72,"display_name":"cshu"},"score":0,"creation_date":1430719881,"post_id":30023545,"comment_id":48164417,"body_markdown":"I remember that java 8 puts a `java.exe` under `Windows\\System32`. You cannot pretend it doesn&#39;t exist. You may have to use the full path of `jdk1.6.0`, or just uninstall java 8","body":"I remember that java 8 puts a <code>java.exe</code> under <code>Windows\\System32</code>. You cannot pretend it doesn&#39;t exist. You may have to use the full path of <code>jdk1.6.0</code>, or just uninstall java 8"}],"answers":[{"comments":[{"owner":{"account_id":2411926,"reputation":2788,"user_id":2106815,"accept_rate":69,"display_name":"Jabir"},"score":1,"creation_date":1430719916,"post_id":30023575,"comment_id":48164433,"body_markdown":"in Path %JAVA_HOME%/bin is there","body":"in Path %JAVA_HOME%/bin is there"}],"tags":[],"owner":{"account_id":1914874,"reputation":13438,"user_id":1727645,"accept_rate":81,"display_name":"Prasad Kharkar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430719645,"creation_date":1430719645,"answer_id":30023575,"question_id":30023545,"body_markdown":"You need to add the path to `jJAVA_HOME%/bin` directory in the `path` variable too. `java` command is located in `%JAVA_HOME%/bin`","title":"JAVA_HOME set but not taking effect","body":"<p>You need to add the path to <code>jJAVA_HOME%/bin</code> directory in the <code>path</code> variable too. <code>java</code> command is located in <code>%JAVA_HOME%/bin</code></p>\n"},{"comments":[{"owner":{"account_id":2411926,"reputation":2788,"user_id":2106815,"accept_rate":69,"display_name":"Jabir"},"score":0,"creation_date":1430719878,"post_id":30023579,"comment_id":48164416,"body_markdown":"in Path %JAVA_HOME%/bin is there","body":"in Path %JAVA_HOME%/bin is there"},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1430719912,"post_id":30023579,"comment_id":48164430,"body_markdown":"some other entry is taking precedence then, what is your `PATH` look like","body":"some other entry is taking precedence then, what is your <code>PATH</code> look like"}],"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1430719662,"creation_date":1430719662,"answer_id":30023579,"question_id":30023545,"body_markdown":"`JAVA_HOME` is environment variable that various application reads in their launcher script\r\n\r\nwhen you invoke `java` it looks up for all paths specified in your env variable named `PATH` and wherever the first match is it gets picked up\r\n\r\nso if you like command prompt to refer to jdk 6&#39;s Java append the path to `PATH`","title":"JAVA_HOME set but not taking effect","body":"<p><code>JAVA_HOME</code> is environment variable that various application reads in their launcher script</p>\n\n<p>when you invoke <code>java</code> it looks up for all paths specified in your env variable named <code>PATH</code> and wherever the first match is it gets picked up</p>\n\n<p>so if you like command prompt to refer to jdk 6's Java append the path to <code>PATH</code></p>\n"},{"tags":[],"owner":{"account_id":447545,"reputation":2029,"user_id":841221,"accept_rate":75,"display_name":"Aakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430719667,"creation_date":1430719667,"answer_id":30023580,"question_id":30023545,"body_markdown":"Check your `PATH` environment variable also. Your system is referring to latest Java installation through PATH variable.","title":"JAVA_HOME set but not taking effect","body":"<p>Check your <code>PATH</code> environment variable also. Your system is referring to latest Java installation through PATH variable.</p>\n"},{"tags":[],"owner":{"account_id":5984666,"reputation":7885,"user_id":4702544,"accept_rate":50,"display_name":"Sachin Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430719771,"creation_date":1430719771,"answer_id":30023595,"question_id":30023545,"body_markdown":"I think in your `path` variable you have hardcoded the path to `bin` folder. it should always be `%JAVA_HOME%/bin`.\r\n\r\nSo that it can pick path from `JAVA_HOME` variable and you don&#39;t need to change both the variables every time.","title":"JAVA_HOME set but not taking effect","body":"<p>I think in your <code>path</code> variable you have hardcoded the path to <code>bin</code> folder. it should always be <code>%JAVA_HOME%/bin</code>.</p>\n\n<p>So that it can pick path from <code>JAVA_HOME</code> variable and you don't need to change both the variables every time.</p>\n"},{"comments":[{"owner":{"account_id":2411926,"reputation":2788,"user_id":2106815,"accept_rate":69,"display_name":"Jabir"},"score":2,"creation_date":1430720579,"post_id":30023598,"comment_id":48164710,"body_markdown":"Thanks for the direction. It worked.As a side note removing following...\\ProgramData\\Oracle\\Java\\javapath;  or taking this to end also worked.","body":"Thanks for the direction. It worked.As a side note removing following...\\ProgramData\\Oracle\\Java\\javapath;  or taking this to end also worked."},{"owner":{"account_id":7830921,"reputation":175,"user_id":5920987,"accept_rate":75,"display_name":"Guilherme Nunes"},"score":1,"creation_date":1553178421,"post_id":30023598,"comment_id":97295163,"body_markdown":"That&#39;s great, I just don&#39;t like the fact that big companies like Oracle doesnt make that easy","body":"That&#39;s great, I just don&#39;t like the fact that big companies like Oracle doesnt make that easy"}],"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1654061375,"creation_date":1430719775,"answer_id":30023598,"question_id":30023545,"body_markdown":"I had the same trouble and I solved it with the following steps:\r\n\r\nYou need the correct environment variables.\r\n\r\nTo be exactly correct, you only need to set the `Path` variable.\r\n\r\nYou need to find where you add `%JAVA_HOME%\\bin` to the path.\r\n\r\nPut it at first place in the `Path` variable:\r\n\r\n    %JAVA_HOME%\\bin;... \r\n\r\nwhere `...` represents all other values of `Path`.\r\n\r\nI assume that `JAVA_HOME` is defined as a variable and had the correct value.\r\n\r\nAfter this reopen console and check:  \r\n \r\n    java -version","title":"JAVA_HOME set but not taking effect","body":"<p>I had the same trouble and I solved it with the following steps:</p>\n<p>You need the correct environment variables.</p>\n<p>To be exactly correct, you only need to set the <code>Path</code> variable.</p>\n<p>You need to find where you add <code>%JAVA_HOME%\\bin</code> to the path.</p>\n<p>Put it at first place in the <code>Path</code> variable:</p>\n<pre><code>%JAVA_HOME%\\bin;... \n</code></pre>\n<p>where <code>...</code> represents all other values of <code>Path</code>.</p>\n<p>I assume that <code>JAVA_HOME</code> is defined as a variable and had the correct value.</p>\n<p>After this reopen console and check:</p>\n<pre><code>java -version\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4139586,"reputation":129,"user_id":3395310,"display_name":"Nilesh Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680182104,"creation_date":1680182104,"answer_id":75888737,"question_id":30023545,"body_markdown":"Windows has this peculiar way of considering JAVA version. By default there is a java folder where jre is placed by windows. It is under C:\\Program Files (x86)\\Java\\jre1.8.0_351. \r\n\r\nAnd when you will read your Environment variable in windows 10 onward, you will notice there is a path entry &quot;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath&quot;. This messes up with Custom java home that we declare. To fix this just **move up** the **&quot;%JAVA_HOME%/bin&quot;** as a **first** entry in path variable.","title":"JAVA_HOME set but not taking effect","body":"<p>Windows has this peculiar way of considering JAVA version. By default there is a java folder where jre is placed by windows. It is under C:\\Program Files (x86)\\Java\\jre1.8.0_351.</p>\n<p>And when you will read your Environment variable in windows 10 onward, you will notice there is a path entry &quot;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath&quot;. This messes up with Custom java home that we declare. To fix this just <strong>move up</strong> the <strong>&quot;%JAVA_HOME%/bin&quot;</strong> as a <strong>first</strong> entry in path variable.</p>\n"}],"owner":{"account_id":2411926,"reputation":2788,"user_id":2106815,"accept_rate":69,"display_name":"Jabir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23249,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":30023598,"answer_count":6,"score":6,"last_activity_date":1680182104,"creation_date":1430719538,"question_id":30023545,"body_markdown":"![enter image description here][1]\r\n\r\nAs depicted in above image java home is set and is being echoed but when i check for version it gives me latest version. \r\nAlready restarted the command prompt after setting env variable.\r\nOS is Windows 7\r\n\r\nUpdate:\r\n\r\nFollowing is the Path.\r\n\r\n&gt; ..ProgramData\\Oracle\\Java\\javapath;%SystemRoot%\\system32;%SystemRoot%;%SystemRoot%\\System32\\Wbem;%SYSTEMROOT%\\System32\\WindowsPowerShell\\v1.0\\;;%JAVA_HOME%/bin;\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/g8mpr.png","title":"JAVA_HOME set but not taking effect","body":"<p><img src=\"https://i.stack.imgur.com/g8mpr.png\" alt=\"enter image description here\"></p>\n\n<p>As depicted in above image java home is set and is being echoed but when i check for version it gives me latest version. \nAlready restarted the command prompt after setting env variable.\nOS is Windows 7</p>\n\n<p>Update:</p>\n\n<p>Following is the Path.</p>\n\n<blockquote>\n  <p>..ProgramData\\Oracle\\Java\\javapath;%SystemRoot%\\system32;%SystemRoot%;%SystemRoot%\\System32\\Wbem;%SYSTEMROOT%\\System32\\WindowsPowerShell\\v1.0\\;;%JAVA_HOME%/bin;</p>\n</blockquote>\n"},{"tags":["java","selenium-webdriver","testing","webdriverwait","web-testing"],"comments":[{"owner":{"account_id":17313891,"reputation":135,"user_id":12540841,"display_name":"gxslash"},"score":1,"creation_date":1679515267,"post_id":75816376,"comment_id":133737857,"body_markdown":"Did you consider using WebDriverWait? https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait","body":"Did you consider using WebDriverWait? <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait\" rel=\"nofollow noreferrer\">selenium.dev/selenium/docs/api/java/org/openqa/selenium/supp&zwnj;&#8203;ort/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":23556202,"reputation":123,"user_id":19734191,"display_name":"Lydia"},"score":0,"creation_date":1680545444,"post_id":75816916,"comment_id":133913419,"body_markdown":"thanks for the suggestion, but I don&#39;t think it&#39;ll work out. All products - the previous and new - the same elements, they have the same xpath. The only difference is the images and product names. And it&#39;s an online store, so they add/remove products, and I can&#39;t hardcode them because today this product is on page 2, and tomorrow it might be on page 5.","body":"thanks for the suggestion, but I don&#39;t think it&#39;ll work out. All products - the previous and new - the same elements, they have the same xpath. The only difference is the images and product names. And it&#39;s an online store, so they add/remove products, and I can&#39;t hardcode them because today this product is on page 2, and tomorrow it might be on page 5."},{"owner":{"account_id":28049622,"reputation":460,"user_id":21425739,"display_name":"howard_9"},"score":0,"creation_date":1680548967,"post_id":75816916,"comment_id":133914221,"body_markdown":"Hi @Lydia, when you use visibilityOfElementLocated(), it sets a hook on the element on page 1.  As soon as the page 1&#39;s element disappears (which is a prerequisite for loading page 2&#39;s elements), the hook will notify Selenium.  Therefore, even though the xpath is the same, the hook will still be activated.","body":"Hi @Lydia, when you use visibilityOfElementLocated(), it sets a hook on the element on page 1.  As soon as the page 1&#39;s element disappears (which is a prerequisite for loading page 2&#39;s elements), the hook will notify Selenium.  Therefore, even though the xpath is the same, the hook will still be activated."},{"owner":{"account_id":23556202,"reputation":123,"user_id":19734191,"display_name":"Lydia"},"score":1,"creation_date":1680675944,"post_id":75816916,"comment_id":133936349,"body_markdown":"Thank you for explanation @howard_9. But it looks like, as you mentioned, my CPU is not fast enough. I tried &#39;invisibilityOfElementWithText&#39; with the first product title from the previous page via &#39;products.get(0).getText()&#39; and it works so far.","body":"Thank you for explanation @howard_9. But it looks like, as you mentioned, my CPU is not fast enough. I tried &#39;invisibilityOfElementWithText&#39; with the first product title from the previous page via &#39;products.get(0).getText()&#39; and it works so far."}],"tags":[],"owner":{"account_id":28049622,"reputation":460,"user_id":21425739,"display_name":"howard_9"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679516274,"creation_date":1679516274,"answer_id":75816916,"question_id":75816376,"body_markdown":"Two ideas...\r\n***\r\n## Idea #1\r\n\r\nRight after you click &quot;next page&quot;, you mentioned there is a 1-second window that the previous product remains on the page.\r\n\r\nStart checking for `visibilityOfElementLocated() = false` on the **previous product** right after you click &quot;next page&quot;.\r\n\r\n***\r\n## Idea #2\r\n\r\nIdea #1 might fail if your CPU is not fast enough to catch the previous product during that 1-second window.  In that case, try forking a new worker thread to check for the previous product right before you click &quot;next page&quot;.  Then, after you click &quot;next page&quot;, the master thread will wait for the worker thread to confirm that the previous product has disappeared.\r\n","title":"How to make Selenium wait until the elements on the page are replaced (java)","body":"<p>Two ideas...</p>\n<hr />\n<h2>Idea #1</h2>\n<p>Right after you click &quot;next page&quot;, you mentioned there is a 1-second window that the previous product remains on the page.</p>\n<p>Start checking for <code>visibilityOfElementLocated() = false</code> on the <strong>previous product</strong> right after you click &quot;next page&quot;.</p>\n<hr />\n<h2>Idea #2</h2>\n<p>Idea #1 might fail if your CPU is not fast enough to catch the previous product during that 1-second window.  In that case, try forking a new worker thread to check for the previous product right before you click &quot;next page&quot;.  Then, after you click &quot;next page&quot;, the master thread will wait for the worker thread to confirm that the previous product has disappeared.</p>\n"},{"comments":[{"owner":{"account_id":23556202,"reputation":123,"user_id":19734191,"display_name":"Lydia"},"score":0,"creation_date":1680545877,"post_id":75828978,"comment_id":133913508,"body_markdown":"thanks. looks like ExpectedConditions is not a good option in my case and maybe I should try other waiters","body":"thanks. looks like ExpectedConditions is not a good option in my case and maybe I should try other waiters"}],"tags":[],"owner":{"account_id":5196911,"reputation":33,"user_id":4282691,"display_name":"Joshua Penn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679616128,"creation_date":1679616128,"answer_id":75828978,"question_id":75816376,"body_markdown":"You&#39;ll want to pair WebdriverWait with ExpectedConditions\r\n\r\n    new WebDriverWait(driver1, timeout).until(ExpectedConditions.visibilityOf(element));\r\n\r\nI recommend this explanation of how to use WebDriverWait in conjunction with ExpectedConditions: https://www.browserstack.com/guide/expectedconditions-in-selenium","title":"How to make Selenium wait until the elements on the page are replaced (java)","body":"<p>You'll want to pair WebdriverWait with ExpectedConditions</p>\n<pre><code>new WebDriverWait(driver1, timeout).until(ExpectedConditions.visibilityOf(element));\n</code></pre>\n<p>I recommend this explanation of how to use WebDriverWait in conjunction with ExpectedConditions: <a href=\"https://www.browserstack.com/guide/expectedconditions-in-selenium\" rel=\"nofollow noreferrer\">https://www.browserstack.com/guide/expectedconditions-in-selenium</a></p>\n"},{"tags":[],"owner":{"account_id":28006101,"reputation":1,"user_id":21389490,"display_name":"Narendra Kulkarni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680181891,"creation_date":1679815364,"answer_id":75846405,"question_id":75816376,"body_markdown":"Use like this...\r\n\r\n    webdeivewait wait =new webdeivewait (driver,some seconds here);\r\n    \r\n    wait.until (ExpectedConditions.Visibilityofelementlocated(By.xpath(&quot;xpath of webelement you want to wait&quot;)).click();","title":"How to make Selenium wait until the elements on the page are replaced (java)","body":"<p>Use like this...</p>\n<pre><code>webdeivewait wait =new webdeivewait (driver,some seconds here);\n\nwait.until (ExpectedConditions.Visibilityofelementlocated(By.xpath(&quot;xpath of webelement you want to wait&quot;)).click();\n</code></pre>\n"}],"owner":{"account_id":23556202,"reputation":123,"user_id":19734191,"display_name":"Lydia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75816916,"answer_count":3,"score":2,"last_activity_date":1680181891,"creation_date":1679512199,"question_id":75816376,"body_markdown":"For a graduation project, I am testing an online store using Selenium Webdriver and Java. I&#39;m stuck in this part of the testing , where I have to check whether all search results (products) contains partucular word.  \r\nMy search returns several pages of products. There is a pagination at the bottom of the page, but I don&#39;t know and can&#39;t check the exact number of pages, so I just click the [Next page] button while it is available.  \r\n\r\nSo the promblem is that when I click the [Next Page] button at the bottom of the page, the page scrolls up, the previous products remain for about 1 second, and then are replaced with new ones from the next page. The page itself is not reloaded, only the previous products are replaced by the next ones in the corresponding block on the page. The block and products are &lt;div&gt; element.  \r\n\r\nIt works if I use Thread.sleep, but this is considered a bad decision. I can&#39;t figure out if there&#39;s any way I can use explicity wait (textToBePresentInElement, elementToBeClickable, visibilityOfElementLocated, presenceOfElementLocated don&#39;t suit) as in my other tests.\r\n\r\n        List&lt;WebElement&gt; products = driver.findElements(By.className(SearchPage.LABEL_PRODUCT_NAME));\r\n        for (WebElement product : products) {\r\n            Assertions.assertTrue(product.getText().toLowerCase().contains(SearchPage.textForSearchWithResults),\r\n                    &quot;Error. No &quot; + SearchPage.textForSearchWithResults + &quot; found.&quot;);\r\n        }\r\n\r\n        WebElement pagination = driver.findElement(By.xpath(SearchPage.BUTTON_PAGINATION_NEXT));\r\n        while (driver.findElements(By.xpath(SearchPage.BUTTON_PAGINATION_NEXT)).size() &gt; 0) {\r\n            pagination.click();\r\n            try {\r\n                Thread.sleep(2000);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            List&lt;WebElement&gt; productsOnTheNextPage = driver.findElements(By.className(SearchPage.LABEL_PRODUCT_NAME));\r\n            for (WebElement product : productsOnTheNextPage) {\r\n                System.out.println(product.getText());\r\n                Assertions.assertTrue(product.getText().toLowerCase().\r\n                                contains(SearchPage.textForSearchWithResults.toLowerCase()),\r\n                        &quot;Error. No &quot; + SearchPage.textForSearchWithResults + &quot; found.&quot;);\r\n            }\r\n        }\r\n\r\nHow can I replace this Thread.sleep?","title":"How to make Selenium wait until the elements on the page are replaced (java)","body":"<p>For a graduation project, I am testing an online store using Selenium Webdriver and Java. I'm stuck in this part of the testing , where I have to check whether all search results (products) contains partucular word.<br />\nMy search returns several pages of products. There is a pagination at the bottom of the page, but I don't know and can't check the exact number of pages, so I just click the [Next page] button while it is available.</p>\n<p>So the promblem is that when I click the [Next Page] button at the bottom of the page, the page scrolls up, the previous products remain for about 1 second, and then are replaced with new ones from the next page. The page itself is not reloaded, only the previous products are replaced by the next ones in the corresponding block on the page. The block and products are  element.</p>\n<p>It works if I use Thread.sleep, but this is considered a bad decision. I can't figure out if there's any way I can use explicity wait (textToBePresentInElement, elementToBeClickable, visibilityOfElementLocated, presenceOfElementLocated don't suit) as in my other tests.</p>\n<pre><code>    List&lt;WebElement&gt; products = driver.findElements(By.className(SearchPage.LABEL_PRODUCT_NAME));\n    for (WebElement product : products) {\n        Assertions.assertTrue(product.getText().toLowerCase().contains(SearchPage.textForSearchWithResults),\n                &quot;Error. No &quot; + SearchPage.textForSearchWithResults + &quot; found.&quot;);\n    }\n\n    WebElement pagination = driver.findElement(By.xpath(SearchPage.BUTTON_PAGINATION_NEXT));\n    while (driver.findElements(By.xpath(SearchPage.BUTTON_PAGINATION_NEXT)).size() &gt; 0) {\n        pagination.click();\n        try {\n            Thread.sleep(2000);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        List&lt;WebElement&gt; productsOnTheNextPage = driver.findElements(By.className(SearchPage.LABEL_PRODUCT_NAME));\n        for (WebElement product : productsOnTheNextPage) {\n            System.out.println(product.getText());\n            Assertions.assertTrue(product.getText().toLowerCase().\n                            contains(SearchPage.textForSearchWithResults.toLowerCase()),\n                    &quot;Error. No &quot; + SearchPage.textForSearchWithResults + &quot; found.&quot;);\n        }\n    }\n</code></pre>\n<p>How can I replace this Thread.sleep?</p>\n"},{"tags":["java","time-complexity"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1680179995,"post_id":75888355,"comment_id":133856422,"body_markdown":"Please fix the syntax errors in the code and format the code as code block. You can do this by surrounding your code by three backtick characters (`\\`\\`\\``) both on top of the code and at the bottom.","body":"Please fix the syntax errors in the code and format the code as code block. You can do this by surrounding your code by three backtick characters (<code>```</code>) both on top of the code and at the bottom."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1680179997,"post_id":75888355,"comment_id":133856423,"body_markdown":"First of all can you plese format your code so that we can read it conveniently","body":"First of all can you plese format your code so that we can read it conveniently"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":5,"creation_date":1680180263,"post_id":75888355,"comment_id":133856491,"body_markdown":"In the first function, the outer loop will only run once, because the inner loop raises `i` past the end of the outer loop&#39;s limit.","body":"In the first function, the outer loop will only run once, because the inner loop raises <code>i</code> past the end of the outer loop&#39;s limit."}],"answers":[{"tags":[],"owner":{"account_id":23907022,"reputation":21,"user_id":17904485,"display_name":"Shubham Jangid"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680180762,"creation_date":1680180762,"answer_id":75888535,"question_id":75888355,"body_markdown":"The first code has the time-complexity O(n^2), because we are using the same iterator `i` in both loops so it will run only when `i&lt;n` from outer-loop, doesn&#39;t matter if we put `i&lt;n^3 or i&lt;n^10` in inner-loop, it will exit the both loops as soon as it becomes `i=n`.\r\n\r\n&amp; the second loop certainly has the time-complexity of `O(n^3)`","title":"Iam still confused how time complexity is calculated","body":"<p>The first code has the time-complexity O(n^2), because we are using the same iterator <code>i</code> in both loops so it will run only when <code>i&lt;n</code> from outer-loop, doesn't matter if we put <code>i&lt;n^3 or i&lt;n^10</code> in inner-loop, it will exit the both loops as soon as it becomes <code>i=n</code>.</p>\n<p>&amp; the second loop certainly has the time-complexity of <code>O(n^3)</code></p>\n"},{"tags":[],"owner":{"account_id":15670743,"reputation":135,"user_id":11307336,"display_name":"zoobiE-"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680181153,"creation_date":1680181153,"answer_id":75888596,"question_id":75888355,"body_markdown":"You are right in the case of the second example, the time complexity is O(n^3) since the outer loop iterates n-1 times and inner one n^2 which results in (n-1) * n^2 or n^3 - n^2 so considering constant time operations the complexity can be expressed as O(n^3).\r\n\r\nHowever in the first example the complexity is only O(n^2) which reflects the number of iterations of the inner loop since the outer loop will always execute  only once. This is because the inner loop will exit with i=n*n-1 after the first iteration of outer loop which is outside the first loop&#39;s bounds (i &lt; n).","title":"Iam still confused how time complexity is calculated","body":"<p>You are right in the case of the second example, the time complexity is O(n^3) since the outer loop iterates n-1 times and inner one n^2 which results in (n-1) * n^2 or n^3 - n^2 so considering constant time operations the complexity can be expressed as O(n^3).</p>\n<p>However in the first example the complexity is only O(n^2) which reflects the number of iterations of the inner loop since the outer loop will always execute  only once. This is because the inner loop will exit with i=n*n-1 after the first iteration of outer loop which is outside the first loop's bounds (i &lt; n).</p>\n"}],"owner":{"account_id":28168448,"reputation":33,"user_id":21527326,"display_name":"Coder1234"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":75888596,"answer_count":2,"score":2,"last_activity_date":1680181814,"creation_date":1680179733,"question_id":75888355,"body_markdown":"For the below code it is said that the time complexity is `O(n^2)` \r\n\r\nIf the inner loop runs for `n*n` times \r\nand outer loop runs for n times then shouldn&#39;t it be `O(n^3)`\r\n\r\n```\r\npublic static void func(int n){\r\n    int sum=0;\r\n    \r\n    for(int i=1;i&lt;n;i++) {\r\n      for(;i&lt;n*n;i++)\r\n       sum+=1;\r\n     \r\n      System.out.println(sum):\r\n    \r\n    }\r\n}\r\n```\r\nBut similarily for below code,the time complexity is `O(n^3)`\r\n    \r\n```\r\npublic static void func(int n) {\r\n    int sum=0;\r\n    \r\n    for(int i=1;i&lt;n;i++) {\r\n      for(int j=0;j&lt;n*n;j++) {\r\n        sum+=1;\r\n        System.out.println(sum);\r\n      }\r\n    }\r\n}\r\n```\r\nSo can someone explain the reason ?\r\n\r\nI felt that time complexity for the cases should be O(n^3) but that&#39;s not the case.","title":"Iam still confused how time complexity is calculated","body":"<p>For the below code it is said that the time complexity is <code>O(n^2)</code></p>\n<p>If the inner loop runs for <code>n*n</code> times\nand outer loop runs for n times then shouldn't it be <code>O(n^3)</code></p>\n<pre><code>public static void func(int n){\n    int sum=0;\n    \n    for(int i=1;i&lt;n;i++) {\n      for(;i&lt;n*n;i++)\n       sum+=1;\n     \n      System.out.println(sum):\n    \n    }\n}\n</code></pre>\n<p>But similarily for below code,the time complexity is <code>O(n^3)</code></p>\n<pre><code>public static void func(int n) {\n    int sum=0;\n    \n    for(int i=1;i&lt;n;i++) {\n      for(int j=0;j&lt;n*n;j++) {\n        sum+=1;\n        System.out.println(sum);\n      }\n    }\n}\n</code></pre>\n<p>So can someone explain the reason ?</p>\n<p>I felt that time complexity for the cases should be O(n^3) but that's not the case.</p>\n"},{"tags":["java","reflections"],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1680105196,"creation_date":1680105196,"answer_id":75879501,"question_id":75879448,"body_markdown":"Check the [documentation of the `SubTypesScanner` class](https://ronmamo.github.io/reflections/org/reflections/scanners/SubTypesScanner.html):\r\n\r\n&gt; **Deprecated.**\r\n&gt;\r\n&gt; scan superclass and interfaces of a class, allowing a reverse lookup for subtypes. *Deprecated, use [`Scanners.SubTypes`](https://ronmamo.github.io/reflections/org/reflections/scanners/Scanners.html#SubTypes) instead*\r\n\r\nSo the solution is to use the [`Scanners.SubTypes`](https://ronmamo.github.io/reflections/org/reflections/scanners/Scanners.html#SubTypes) field instead.","title":"Deprecated Reflection constructor","body":"<p>Check the <a href=\"https://ronmamo.github.io/reflections/org/reflections/scanners/SubTypesScanner.html\" rel=\"noreferrer\">documentation of the <code>SubTypesScanner</code> class</a>:</p>\n<blockquote>\n<p><strong>Deprecated.</strong></p>\n<p>scan superclass and interfaces of a class, allowing a reverse lookup for subtypes. <em>Deprecated, use <a href=\"https://ronmamo.github.io/reflections/org/reflections/scanners/Scanners.html#SubTypes\" rel=\"noreferrer\"><code>Scanners.SubTypes</code></a> instead</em></p>\n</blockquote>\n<p>So the solution is to use the <a href=\"https://ronmamo.github.io/reflections/org/reflections/scanners/Scanners.html#SubTypes\" rel=\"noreferrer\"><code>Scanners.SubTypes</code></a> field instead.</p>\n"}],"owner":{"account_id":15919644,"reputation":133,"user_id":14420635,"display_name":"gmn_1450"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":426,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680181755,"creation_date":1680104846,"question_id":75879448,"body_markdown":"I am running sonar cloud through my Java code and it has some deprecated constructors. I managed to update most of them, but not this one:\r\n\r\n```\r\nimport org.reflections.util.ClasspathHelper;\r\n\r\nprivate static final String PACKAGE_ENTITIES = &quot;my.package&quot;;\r\n\r\nnew Reflections(PACKAGE_ENTITIES, new SubTypesScanner(false), ClasspathHelper.forClassLoader());\r\n```\r\n\r\n```&#39;org.reflections.scanners.SubTypesScanner&#39; is deprecated``` is the official sonar message. \r\n\r\nMy guess is ```Scanners.SubTypes (s -&gt; true)```\r\n\r\nAny tips?\r\n\r\nThanks in advance.\r\n","title":"Deprecated Reflection constructor","body":"<p>I am running sonar cloud through my Java code and it has some deprecated constructors. I managed to update most of them, but not this one:</p>\n<pre><code>import org.reflections.util.ClasspathHelper;\n\nprivate static final String PACKAGE_ENTITIES = &quot;my.package&quot;;\n\nnew Reflections(PACKAGE_ENTITIES, new SubTypesScanner(false), ClasspathHelper.forClassLoader());\n</code></pre>\n<p><code>'org.reflections.scanners.SubTypesScanner' is deprecated</code> is the official sonar message.</p>\n<p>My guess is <code>Scanners.SubTypes (s -&gt; true)</code></p>\n<p>Any tips?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","algorithm","cumulative-sum"],"comments":[{"owner":{"account_id":16016658,"reputation":64,"user_id":11559187,"display_name":"Volzy"},"score":0,"creation_date":1680181774,"post_id":75888672,"comment_id":133856986,"body_markdown":"it looks a dynamic programming exercise","body":"it looks a dynamic programming exercise"},{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":1,"creation_date":1680181796,"post_id":75888672,"comment_id":133856992,"body_markdown":"This is called the {0,1} knapsack problem. You can find lots of information about it by searching.","body":"This is called the {0,1} knapsack problem. You can find lots of information about it by searching."},{"owner":{"account_id":3711000,"reputation":31801,"user_id":3088349,"accept_rate":100,"display_name":"Maytham Fahmi"},"score":0,"creation_date":1680182057,"post_id":75888672,"comment_id":133857078,"body_markdown":"I was just thinking, as a student, it is also a good idea to try something before asking. Searching for solutions won&#39;t make you learn.","body":"I was just thinking, as a student, it is also a good idea to try something before asking. Searching for solutions won&#39;t make you learn."},{"owner":{"account_id":15670743,"reputation":135,"user_id":11307336,"display_name":"zoobiE-"},"score":0,"creation_date":1680182134,"post_id":75888672,"comment_id":133857106,"body_markdown":"Try to ask here https://chat.openai.com :)","body":"Try to ask here <a href=\"https://chat.openai.com\" rel=\"nofollow noreferrer\">chat.openai.com</a> :)"}],"owner":{"account_id":28168696,"reputation":11,"user_id":21527542,"display_name":"Bartkooo98"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1680181935,"answer_count":0,"score":1,"last_activity_date":1680181660,"creation_date":1680181660,"question_id":75888672,"body_markdown":"I have small exercise to be done with algorithms. The task is “There are N trees to be arranged.  Each tree has a specific height and width.  we have to arrange the trees in such a way that the sum of the heights of the trees is as large as possible, and their width does not exceed the maximum width of the row.”\r\nCan someone help me with that? Any algorithmic explanation or maybe solution in Java?\r\n\r\nI tried to search any solutions or ideas in books about algorithms. I expect to find any help.","title":"Algorithm to find highest sum","body":"<p>I have small exercise to be done with algorithms. The task is “There are N trees to be arranged.  Each tree has a specific height and width.  we have to arrange the trees in such a way that the sum of the heights of the trees is as large as possible, and their width does not exceed the maximum width of the row.”\nCan someone help me with that? Any algorithmic explanation or maybe solution in Java?</p>\n<p>I tried to search any solutions or ideas in books about algorithms. I expect to find any help.</p>\n"},{"tags":["java","spring-boot","docker","macos","hazelcast"],"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1677159379,"post_id":75545257,"comment_id":133285329,"body_markdown":"reason is clearly mentioned in log statements, &quot;Could not connect to any cluster, shutting down the client: Giving up retrying to connect to cluster since client is shutdown&quot;, you might need to check why hazelcast client is not able to connect to any server cluster(I assume you are using hazelcast as server-client mode).","body":"reason is clearly mentioned in log statements, &quot;Could not connect to any cluster, shutting down the client: Giving up retrying to connect to cluster since client is shutdown&quot;, you might need to check why hazelcast client is not able to connect to any server cluster(I assume you are using hazelcast as server-client mode)."}],"answers":[{"tags":[],"owner":{"account_id":16194217,"reputation":622,"user_id":11692264,"display_name":"petrov.aleksandr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680181647,"creation_date":1680181647,"answer_id":75888671,"question_id":75545257,"body_markdown":"I used Hazelcast:3.12.2 and it doesn’t work in docker on Mac m* chips. Newer versions such 4.* and 5* of Hazelcast don’t work with Hazelcast client 3.* versions. \r\nBut 3.12.12 Hazelcast version which also doesn’t not optimised for arm, works properly.","title":"Hazelcast: client is shutdown, when I start Hazelcast container on Mac","body":"<p>I used Hazelcast:3.12.2 and it doesn’t work in docker on Mac m* chips. Newer versions such 4.* and 5* of Hazelcast don’t work with Hazelcast client 3.* versions.\nBut 3.12.12 Hazelcast version which also doesn’t not optimised for arm, works properly.</p>\n"}],"owner":{"account_id":16194217,"reputation":622,"user_id":11692264,"display_name":"petrov.aleksandr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75888671,"answer_count":1,"score":1,"last_activity_date":1680181647,"creation_date":1677157659,"question_id":75545257,"body_markdown":"I have docker-compose.yml file:\r\n\r\n    version: &quot;2&quot;\r\n    services:\r\n      postgres:\r\n        image: postgres:12.4\r\n        environment:\r\n          - POSTGRES_USER=postgres\r\n          - POSTGRES_PASSWORD=postgres\r\n          - POSTGRES_DB=password\r\n        ports:\r\n          - 5432:5432\r\n      hazelcast:\r\n        image: hazelcast/hazelcast:3.11\r\n        ports:\r\n          - 5701:5701\r\n        environment:\r\n          - JAVA_OPTS=-Dhazelcast.local.publicAddress=localhost:5701\r\n\r\nAnd I have 2 computers: 1 with **ubuntu**, 1 with **MacOs** on arm.\r\n\r\n 1. After starting **Hazelcast** container in **MacOs**, the log:\r\n    \r\n    &gt;  ########################################  \r\n    &gt; \\# JAVA_OPTS=-Djava.net.preferIPv4Stack=true\r\n    &gt; -Dhazelcast.local.publicAddress=localhost:5701&lt;br/&gt;\r\n    &gt; \\# CLASSPATH=/opt/hazelcast:/opt/hazelcast/* &lt;br/&gt;\r\n    &gt; \\# starting now.... &lt;br/&gt;\r\n    &gt; ########################################&lt;br/&gt;\r\n    &gt;  \\+ exec java -server -Djava.net.preferIPv4Stack=true -Dhazelcast.local.publicAddress=localhost:5701 com.hazelcast.core.server.StartServer\r\n    \r\n    Then, I try to run my **Spring-Boot** app.\r\n    \r\n    Log:\r\n    \r\n    &gt; hz.client_1 [dev] [3.12.12] HazelcastClient 3.12.12 (20210209 - 35096ec) is SHUTTING_DOWN&lt;br/&gt; hz.client_1 [dev] [3.12.12] Could not\r\n    connect to any cluster, shutting down the client: Giving up retrying\r\n    to connect to cluster since client is shutdown.&lt;br/&gt; hz.client_1\r\n    [dev] [3.12.12] HazelcastClient 3.12.12 (20210209 - 35096ec) is\r\n    SHUTDOWN\r\n\r\n2 When I starting **Hazelcast** container on **Ubuntu**, its log\r\n\r\n\r\n    ########################################\r\n    # JAVA_OPTS=-Djava.net.preferIPv4Stack=true -Dhazelcast.local.publicAddress=localhost:5701\r\n    # CLASSPATH=/opt/hazelcast:/opt/hazelcast/*\r\n    # starting now....\r\n    ########################################\r\n    + exec java -server -Djava.net.preferIPv4Stack=true -Dhazelcast.local.publicAddress=localhost:5701 com.hazelcast.core.server.StartServer\r\n    Feb 23, 2023 12:41:45 PM com.hazelcast.config.XmlConfigLocator\r\n    INFO: Loading &#39;hazelcast-default.xml&#39; from classpath.\r\n    Feb 23, 2023 12:41:45 PM com.hazelcast.instance.AddressPicker\r\n    INFO: [LOCAL] [dev] [3.11] Prefer IPv4 stack is true, prefer IPv6 addresses is false\r\n    Feb 23, 2023 12:41:45 PM com.hazelcast.instance.AddressPicker\r\n    INFO: [LOCAL] [dev] [3.11] Picked [172.22.0.2]:5701, using socket ServerSocket[addr=/0.0.0.0,localport=5701], bind any local is true\r\n    Feb 23, 2023 12:41:45 PM com.hazelcast.instance.AddressPicker\r\n    INFO: [LOCAL] [dev] [3.11] Using public address: [localhost]:5701\r\n    Feb 23, 2023 12:41:46 PM com.hazelcast.system\r\n    INFO: [localhost]:5701 [dev] [3.11] Hazelcast 3.11 (20181023 - 1500bbb) starting at [localhost]:5701\r\n    Feb 23, 2023 12:41:46 PM com.hazelcast.system\r\n    INFO: [localhost]:5701 [dev] [3.11] Copyright (c) 2008-2018, Hazelcast, Inc. All Rights Reserved.\r\n    Feb 23, 2023 12:41:46 PM com.hazelcast.instance.Node\r\n    INFO: [localhost]:5701 [dev] [3.11] A non-empty group password is configured for the Hazelcast member. Starting with Hazelcast version 3.8.2, members with the same group name, but with different group passwords (that do not use authentication) form a cluster. The group password configuration will be removed completely in a future release.\r\n    Feb 23, 2023 12:41:46 PM com.hazelcast.spi.impl.operationservice.impl.BackpressureRegulator\r\n    INFO: [localhost]:5701 [dev] [3.11] Backpressure is disabled\r\n    Feb 23, 2023 12:41:46 PM com.hazelcast.instance.Node\r\n    INFO: [localhost]:5701 [dev] [3.11] Creating MulticastJoiner\r\n    Feb 23, 2023 12:41:46 PM com.hazelcast.spi.impl.operationexecutor.impl.OperationExecutorImpl\r\n    INFO: [localhost]:5701 [dev] [3.11] Starting 8 partition threads and 5 generic threads (1 dedicated for priority tasks)\r\n    Feb 23, 2023 12:41:46 PM com.hazelcast.internal.diagnostics.Diagnostics\r\n    INFO: [localhost]:5701 [dev] [3.11] Diagnostics disabled. To enable add -Dhazelcast.diagnostics.enabled=true to the JVM arguments.\r\n    Feb 23, 2023 12:41:46 PM com.hazelcast.core.LifecycleService\r\n    INFO: [localhost]:5701 [dev] [3.11] [localhost]:5701 is STARTING\r\n    Feb 23, 2023 12:41:49 PM com.hazelcast.internal.cluster.ClusterService\r\n    INFO: [localhost]:5701 [dev] [3.11] \r\n    \r\n    Members {size:1, ver:1} [\r\n            Member [localhost]:5701 - 704a653c-7a09-4b9e-83cf-85b136c2e6d0 this\r\n    ]\r\n    \r\n    Feb 23, 2023 12:41:49 PM com.hazelcast.core.LifecycleService\r\n    INFO: [localhost]:5701 [dev] [3.11] [localhost]:5701 is STARTED\r\n\r\nAnd **Spring-Boot** app starts successfully.\r\n\r\nWhy does the same project doesn&#39;t work proper on **MacOs**? \r\n\r\nWhy **postrgres** works correctly? \r\n\r\nHow can I fix problem with **Hazelcast**?\r\n\r\n","title":"Hazelcast: client is shutdown, when I start Hazelcast container on Mac","body":"<p>I have docker-compose.yml file:</p>\n<pre><code>version: &quot;2&quot;\nservices:\n  postgres:\n    image: postgres:12.4\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=postgres\n      - POSTGRES_DB=password\n    ports:\n      - 5432:5432\n  hazelcast:\n    image: hazelcast/hazelcast:3.11\n    ports:\n      - 5701:5701\n    environment:\n      - JAVA_OPTS=-Dhazelcast.local.publicAddress=localhost:5701\n</code></pre>\n<p>And I have 2 computers: 1 with <strong>ubuntu</strong>, 1 with <strong>MacOs</strong> on arm.</p>\n<ol>\n<li><p>After starting <strong>Hazelcast</strong> container in <strong>MacOs</strong>, the log:</p>\n<blockquote>\n<p>########################################<br />\n# JAVA_OPTS=-Djava.net.preferIPv4Stack=true\n-Dhazelcast.local.publicAddress=localhost:5701<br/>\n# CLASSPATH=/opt/hazelcast:/opt/hazelcast/* <br/>\n# starting now.... <br/>\n########################################<br/>\n+ exec java -server -Djava.net.preferIPv4Stack=true -Dhazelcast.local.publicAddress=localhost:5701 com.hazelcast.core.server.StartServer</p>\n</blockquote>\n<p>Then, I try to run my <strong>Spring-Boot</strong> app.</p>\n<p>Log:</p>\n<blockquote>\n<p>hz.client_1 [dev] [3.12.12] HazelcastClient 3.12.12 (20210209 - 35096ec) is SHUTTING_DOWN<br/> hz.client_1 [dev] [3.12.12] Could not\nconnect to any cluster, shutting down the client: Giving up retrying\nto connect to cluster since client is shutdown.<br/> hz.client_1\n[dev] [3.12.12] HazelcastClient 3.12.12 (20210209 - 35096ec) is\nSHUTDOWN</p>\n</blockquote>\n</li>\n</ol>\n<p>2 When I starting <strong>Hazelcast</strong> container on <strong>Ubuntu</strong>, its log</p>\n<pre><code>########################################\n# JAVA_OPTS=-Djava.net.preferIPv4Stack=true -Dhazelcast.local.publicAddress=localhost:5701\n# CLASSPATH=/opt/hazelcast:/opt/hazelcast/*\n# starting now....\n########################################\n+ exec java -server -Djava.net.preferIPv4Stack=true -Dhazelcast.local.publicAddress=localhost:5701 com.hazelcast.core.server.StartServer\nFeb 23, 2023 12:41:45 PM com.hazelcast.config.XmlConfigLocator\nINFO: Loading 'hazelcast-default.xml' from classpath.\nFeb 23, 2023 12:41:45 PM com.hazelcast.instance.AddressPicker\nINFO: [LOCAL] [dev] [3.11] Prefer IPv4 stack is true, prefer IPv6 addresses is false\nFeb 23, 2023 12:41:45 PM com.hazelcast.instance.AddressPicker\nINFO: [LOCAL] [dev] [3.11] Picked [172.22.0.2]:5701, using socket ServerSocket[addr=/0.0.0.0,localport=5701], bind any local is true\nFeb 23, 2023 12:41:45 PM com.hazelcast.instance.AddressPicker\nINFO: [LOCAL] [dev] [3.11] Using public address: [localhost]:5701\nFeb 23, 2023 12:41:46 PM com.hazelcast.system\nINFO: [localhost]:5701 [dev] [3.11] Hazelcast 3.11 (20181023 - 1500bbb) starting at [localhost]:5701\nFeb 23, 2023 12:41:46 PM com.hazelcast.system\nINFO: [localhost]:5701 [dev] [3.11] Copyright (c) 2008-2018, Hazelcast, Inc. All Rights Reserved.\nFeb 23, 2023 12:41:46 PM com.hazelcast.instance.Node\nINFO: [localhost]:5701 [dev] [3.11] A non-empty group password is configured for the Hazelcast member. Starting with Hazelcast version 3.8.2, members with the same group name, but with different group passwords (that do not use authentication) form a cluster. The group password configuration will be removed completely in a future release.\nFeb 23, 2023 12:41:46 PM com.hazelcast.spi.impl.operationservice.impl.BackpressureRegulator\nINFO: [localhost]:5701 [dev] [3.11] Backpressure is disabled\nFeb 23, 2023 12:41:46 PM com.hazelcast.instance.Node\nINFO: [localhost]:5701 [dev] [3.11] Creating MulticastJoiner\nFeb 23, 2023 12:41:46 PM com.hazelcast.spi.impl.operationexecutor.impl.OperationExecutorImpl\nINFO: [localhost]:5701 [dev] [3.11] Starting 8 partition threads and 5 generic threads (1 dedicated for priority tasks)\nFeb 23, 2023 12:41:46 PM com.hazelcast.internal.diagnostics.Diagnostics\nINFO: [localhost]:5701 [dev] [3.11] Diagnostics disabled. To enable add -Dhazelcast.diagnostics.enabled=true to the JVM arguments.\nFeb 23, 2023 12:41:46 PM com.hazelcast.core.LifecycleService\nINFO: [localhost]:5701 [dev] [3.11] [localhost]:5701 is STARTING\nFeb 23, 2023 12:41:49 PM com.hazelcast.internal.cluster.ClusterService\nINFO: [localhost]:5701 [dev] [3.11] \n\nMembers {size:1, ver:1} [\n        Member [localhost]:5701 - 704a653c-7a09-4b9e-83cf-85b136c2e6d0 this\n]\n\nFeb 23, 2023 12:41:49 PM com.hazelcast.core.LifecycleService\nINFO: [localhost]:5701 [dev] [3.11] [localhost]:5701 is STARTED\n</code></pre>\n<p>And <strong>Spring-Boot</strong> app starts successfully.</p>\n<p>Why does the same project doesn't work proper on <strong>MacOs</strong>?</p>\n<p>Why <strong>postrgres</strong> works correctly?</p>\n<p>How can I fix problem with <strong>Hazelcast</strong>?</p>\n"},{"tags":["java","ceph"],"answers":[{"tags":[],"owner":{"display_name":"user19709242"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660161276,"creation_date":1659845276,"answer_id":73264814,"question_id":73264767,"body_markdown":"Please follow Ceph&#39;s official documentation. &lt;br&gt;\r\nDocs: https://docs.ceph.com/en/quincy/radosgw/s3/java/\r\n\r\nTo get `accessKey` and `secretKey` please follow this step. &lt;br&gt;\r\nhttps://docs.ceph.com/en/quincy/radosgw/s3/authentication/. &lt;br&gt;\r\nhttps://docs.ceph.com/en/quincy/radosgw/keystone/ &lt;br&gt;\r\n\r\n`openstack --os-interface public ec2 credentials create`","title":"Create Bucket Ceph with Spring","body":"<p>Please follow Ceph's official documentation. <br>\nDocs: <a href=\"https://docs.ceph.com/en/quincy/radosgw/s3/java/\" rel=\"nofollow noreferrer\">https://docs.ceph.com/en/quincy/radosgw/s3/java/</a></p>\n<p>To get <code>accessKey</code> and <code>secretKey</code> please follow this step. <br>\n<a href=\"https://docs.ceph.com/en/quincy/radosgw/s3/authentication/\" rel=\"nofollow noreferrer\">https://docs.ceph.com/en/quincy/radosgw/s3/authentication/</a>. <br>\n<a href=\"https://docs.ceph.com/en/quincy/radosgw/keystone/\" rel=\"nofollow noreferrer\">https://docs.ceph.com/en/quincy/radosgw/keystone/</a> <br></p>\n<p><code>openstack --os-interface public ec2 credentials create</code></p>\n"}],"owner":{"display_name":"user19709202"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73264814,"answer_count":1,"score":0,"last_activity_date":1680180802,"creation_date":1659844449,"question_id":73264767,"body_markdown":"I am not sure how to create a bucket `Ceph` with Spring. &lt;br&gt;\r\n\r\nAre there any documents I can prefer? &lt;br&gt;\r\nHow to get this accessKey and secretKey? &lt;br&gt;\r\n```\r\nString accessKey = &quot;insert your access key here!&quot;;\r\nString secretKey = &quot;insert your secret key here!&quot;;\r\n\r\nAWSCredentials credentials = new BasicAWSCredentials(accessKey, secretKey);\r\nAmazonS3 conn = new AmazonS3Client(credentials);\r\nconn.setEndpoint(&quot;objects.dreamhost.com&quot;);\r\n```","title":"Create Bucket Ceph with Spring","body":"<p>I am not sure how to create a bucket <code>Ceph</code> with Spring. <br></p>\n<p>Are there any documents I can prefer? <br>\nHow to get this accessKey and secretKey? <br></p>\n<pre><code>String accessKey = &quot;insert your access key here!&quot;;\nString secretKey = &quot;insert your secret key here!&quot;;\n\nAWSCredentials credentials = new BasicAWSCredentials(accessKey, secretKey);\nAmazonS3 conn = new AmazonS3Client(credentials);\nconn.setEndpoint(&quot;objects.dreamhost.com&quot;);\n</code></pre>\n"},{"tags":["java","spring-boot","netflix-eureka","spring-cloud-netflix"],"comments":[{"owner":{"account_id":7828744,"reputation":2225,"user_id":5919568,"accept_rate":83,"display_name":"Morteza Jalambadani"},"score":0,"creation_date":1686816423,"post_id":75888500,"comment_id":134852098,"body_markdown":"Please provide your Eureka server and client application.properties files, Maven files, and the ApplicationStarter class here.","body":"Please provide your Eureka server and client application.properties files, Maven files, and the ApplicationStarter class here."}],"owner":{"account_id":16905342,"reputation":46,"user_id":12225780,"display_name":"Harichand Hs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1680180564,"creation_date":1680180564,"question_id":75888500,"body_markdown":"Java Version : 19\r\nSpring Boot Version : 3.0.1\r\nSpring Cloud Version: 2022.0.1\r\n\r\n\r\n*********\r\nAPPLICATION FAILED TO START\r\n*********\r\n\r\nDescription:\r\n\r\nField optionalArgs in org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration required a bean of type &#39;com.netflix.discovery.AbstractDiscoveryClientOptionalArgs&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.netflix.discovery.AbstractDiscoveryClientOptionalArgs&#39; in your configuration.\r\n\r\nUnable to run Eureka client services","title":"Spring Eureka Client Fail to register with Eureka","body":"<p>Java Version : 19\nSpring Boot Version : 3.0.1\nSpring Cloud Version: 2022.0.1</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Field optionalArgs in org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration required a bean of type 'com.netflix.discovery.AbstractDiscoveryClientOptionalArgs' that could not be found.</p>\n<p>The injection point has the following annotations:\n- @org.springframework.beans.factory.annotation.Autowired(required=true)</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'com.netflix.discovery.AbstractDiscoveryClientOptionalArgs' in your configuration.</p>\n<p>Unable to run Eureka client services</p>\n"},{"tags":["java","android-fragments","android-activity","menu","android-navigation"],"owner":{"account_id":26171809,"reputation":223,"user_id":19856629,"display_name":"Kanan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680179998,"creation_date":1680177680,"question_id":75888017,"body_markdown":"I have an activity and I use 1 menu, when I replace one fragment with another, some menu items will be invisible or visible. For example, I use the date icon in fragment one and the search icon in fragment two. The problem is I used `onOptionsItemSelected` and `onCreateOptionsMenu` in Activity to set option some icons. But I want to use the date icon selected option inside of fragment one when I `setHasOptionsMenu(true);` in the fragment, it works but when I change the navigation bar to the second fragment, the date icon does not become invisible and the search menu item does not become visible. In the second click it changes to search. How can I solve this problem?\r\n\r\nMy fragment one:\r\n\r\n        public class MainFragment_1 extends Fragment {\r\n    \r\n        private Calendar calendar;\r\n        private View view;\r\n        private final HashMap&lt;String, String&gt; hsparams = new HashMap&lt;&gt;();\r\n        private AsyncInforming asyncInforming;\r\n        private String date;\r\n        private InformingHelper informingHelper;\r\n        private SimpleDateFormat simpleDateFormat;\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n            view = inflater.inflate(R.layout.activity_list_planlar, container, false);\r\n    \r\n            informingHelper = new InformingHelper();\r\n            simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.getDefault());\r\n            calendar = Calendar.getInstance();\r\n    \r\n            calendar.set(Calendar.DAY_OF_MONTH, 1);\r\n    \r\n            setHasOptionsMenu(true);\r\n    \r\n            runAsyncTask();\r\n    \r\n            return view;\r\n        }\r\n    \r\n        private DatePickerDialog.OnDateSetListener dateDialog = new DatePickerDialog.OnDateSetListener() {\r\n    \r\n            @Override\r\n            public void onDateSet(DatePicker view, int year, int monthOfYear, int dayOfMonth) {\r\n    \r\n                calendar.set(Calendar.DAY_OF_MONTH, dayOfMonth);\r\n    \r\n                runAsyncTask();\r\n            }\r\n        };\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n    \r\n            super.onOptionsItemSelected(item);\r\n            if (item.getItemId() == R.id.informing_date) {\r\n    \r\n                int year = calendar.get(Calendar.YEAR);\r\n                int month = calendar.get(Calendar.MONTH);\r\n                int day = calendar.get(Calendar.DAY_OF_MONTH);\r\n    \r\n                new DatePickerDialog(view.getContext(), dateDialog, year, month, day).show();\r\n            }\r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    \r\n       super.onPause();\r\n        }\r\n    }\r\n    \r\nActivity:\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            this.menu = menu;\r\n    \r\n            if (menu.size() == 0) {\r\n                menu.clear();\r\n                getMenuInflater().inflate(R.menu.main_page, menu);\r\n            }\r\n    \r\n            MenuItem item2 = menu.findItem(R.id.date);\r\n            item2.setVisible(true);\r\n    \r\n            onCreateIrsaliyeSearchMenu(menu);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            super.onOptionsItemSelected(item);\r\n            switch (item.getItemId()) {\r\n    \r\n                case R.id.search:\r\n    \r\n                    FragmentTransaction ftr8 = getFragmentManager().beginTransaction();\r\n                    pro.show(ftr8, &quot;PropSet&quot;);\r\n                    break;\r\n          \r\n        @Override\r\n        public boolean onNavigationItemSelected(MenuItem item) {\r\n            FragmentManager fm = getFragmentManager();\r\n    \r\n            int id = item.getItemId();\r\n            if (id == R.id.menu_1) {\r\n                FragmentTransaction fragmentTransaction = fm.beginTransaction();\r\n    \r\n                MainFragment_1 forecastFragment = new MainFragment_1();\r\n    \r\n        //            forecastFragment.setRetainInstance(true);\r\n                forecastFragment.setHasOptionsMenu(true);\r\n    \r\n                fragmentTransaction.replace(R.id.content_frame, forecastFragment);\r\n                fragmentTransaction.commit();\r\n    \r\n                MainBarIcons(null);\r\n    \r\n                MenuItem item13 = menu.findItem(R.id.informing_date);\r\n                item13.setVisible(true);\r\n    \r\n            } else if (id == R.id.menu_2) {\r\n    \r\n                FragmentTransaction fragmentTransaction = fm.beginTransaction();\r\n    \r\n                MainFragment_2 forecastFragment2 = new MainFragment_2();\r\n    \r\n                forecastFragment2.setHasOptionsMenu(false);\r\n    \r\n                fragmentTransaction.replace(R.id.content_frame, forecastFragment2);\r\n                fragmentTransaction.commit();\r\n    \r\n                MainBarIcons(null);\r\n    \r\n                MenuItem item1 = menu.findItem(R.id.search);\r\n    \r\n                item1.setVisible(true);\r\n    \r\n            }","title":"Using menu item multiple times activity and fragmen with navigation bar","body":"<p>I have an activity and I use 1 menu, when I replace one fragment with another, some menu items will be invisible or visible. For example, I use the date icon in fragment one and the search icon in fragment two. The problem is I used <code>onOptionsItemSelected</code> and <code>onCreateOptionsMenu</code> in Activity to set option some icons. But I want to use the date icon selected option inside of fragment one when I <code>setHasOptionsMenu(true);</code> in the fragment, it works but when I change the navigation bar to the second fragment, the date icon does not become invisible and the search menu item does not become visible. In the second click it changes to search. How can I solve this problem?</p>\n<p>My fragment one:</p>\n<pre><code>    public class MainFragment_1 extends Fragment {\n\n    private Calendar calendar;\n    private View view;\n    private final HashMap&lt;String, String&gt; hsparams = new HashMap&lt;&gt;();\n    private AsyncInforming asyncInforming;\n    private String date;\n    private InformingHelper informingHelper;\n    private SimpleDateFormat simpleDateFormat;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        view = inflater.inflate(R.layout.activity_list_planlar, container, false);\n\n        informingHelper = new InformingHelper();\n        simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.getDefault());\n        calendar = Calendar.getInstance();\n\n        calendar.set(Calendar.DAY_OF_MONTH, 1);\n\n        setHasOptionsMenu(true);\n\n        runAsyncTask();\n\n        return view;\n    }\n\n    private DatePickerDialog.OnDateSetListener dateDialog = new DatePickerDialog.OnDateSetListener() {\n\n        @Override\n        public void onDateSet(DatePicker view, int year, int monthOfYear, int dayOfMonth) {\n\n            calendar.set(Calendar.DAY_OF_MONTH, dayOfMonth);\n\n            runAsyncTask();\n        }\n    };\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n\n        super.onOptionsItemSelected(item);\n        if (item.getItemId() == R.id.informing_date) {\n\n            int year = calendar.get(Calendar.YEAR);\n            int month = calendar.get(Calendar.MONTH);\n            int day = calendar.get(Calendar.DAY_OF_MONTH);\n\n            new DatePickerDialog(view.getContext(), dateDialog, year, month, day).show();\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n   super.onPause();\n    }\n}\n</code></pre>\n<p>Activity:</p>\n<pre><code>    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        this.menu = menu;\n\n        if (menu.size() == 0) {\n            menu.clear();\n            getMenuInflater().inflate(R.menu.main_page, menu);\n        }\n\n        MenuItem item2 = menu.findItem(R.id.date);\n        item2.setVisible(true);\n\n        onCreateIrsaliyeSearchMenu(menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        super.onOptionsItemSelected(item);\n        switch (item.getItemId()) {\n\n            case R.id.search:\n\n                FragmentTransaction ftr8 = getFragmentManager().beginTransaction();\n                pro.show(ftr8, &quot;PropSet&quot;);\n                break;\n      \n    @Override\n    public boolean onNavigationItemSelected(MenuItem item) {\n        FragmentManager fm = getFragmentManager();\n\n        int id = item.getItemId();\n        if (id == R.id.menu_1) {\n            FragmentTransaction fragmentTransaction = fm.beginTransaction();\n\n            MainFragment_1 forecastFragment = new MainFragment_1();\n\n    //            forecastFragment.setRetainInstance(true);\n            forecastFragment.setHasOptionsMenu(true);\n\n            fragmentTransaction.replace(R.id.content_frame, forecastFragment);\n            fragmentTransaction.commit();\n\n            MainBarIcons(null);\n\n            MenuItem item13 = menu.findItem(R.id.informing_date);\n            item13.setVisible(true);\n\n        } else if (id == R.id.menu_2) {\n\n            FragmentTransaction fragmentTransaction = fm.beginTransaction();\n\n            MainFragment_2 forecastFragment2 = new MainFragment_2();\n\n            forecastFragment2.setHasOptionsMenu(false);\n\n            fragmentTransaction.replace(R.id.content_frame, forecastFragment2);\n            fragmentTransaction.commit();\n\n            MainBarIcons(null);\n\n            MenuItem item1 = menu.findItem(R.id.search);\n\n            item1.setVisible(true);\n\n        }\n</code></pre>\n"},{"tags":["java","mongodb","aws-documentdb"],"answers":[{"tags":[],"owner":{"account_id":24287687,"reputation":366,"user_id":18233221,"display_name":"Mihai A"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680179825,"creation_date":1680179825,"answer_id":75888368,"question_id":75800386,"body_markdown":"You&#39;re trying to update documents with aggregation pipeline, which was [added][1] in MongoDB 4.2. This is not currently supported in Amazon DocumentDB, not even in the newly released 5.0 version. You&#39;ll have to find another way to update the documents, probably the way before MongoDB 4.2, which is to get a cursor for the documents matching the filter and iterate using a loop. See this [thread][2].\r\n\r\n\r\n  [1]: https://www.mongodb.com/docs/manual/tutorial/update-documents-with-aggregation-pipeline/\r\n  [2]: https://stackoverflow.com/questions/19384871/aggregation-with-update-in-mongodb","title":"Mongo Db to AWS DocumentDb Migration - Error in BulkWrite and UpdateMany methods","body":"<p>You're trying to update documents with aggregation pipeline, which was <a href=\"https://www.mongodb.com/docs/manual/tutorial/update-documents-with-aggregation-pipeline/\" rel=\"nofollow noreferrer\">added</a> in MongoDB 4.2. This is not currently supported in Amazon DocumentDB, not even in the newly released 5.0 version. You'll have to find another way to update the documents, probably the way before MongoDB 4.2, which is to get a cursor for the documents matching the filter and iterate using a loop. See this <a href=\"https://stackoverflow.com/questions/19384871/aggregation-with-update-in-mongodb\">thread</a>.</p>\n"}],"owner":{"account_id":17974452,"reputation":3,"user_id":13062414,"display_name":"mradima07"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680179825,"creation_date":1679396721,"question_id":75800386,"body_markdown":"I am migrating from Mongo DB 4.4.0 to Amazon DocumentDB (with mongodb compatibility) 4.0. \r\n\r\nThe database migration is done but few errors are occurring in the application. The APIs are in java language and below piece of code is executed when API is called -\r\n\r\n**executeAPI()**\r\n\r\n    private final MongoDAO statisticsDBService; // Assigned from constructor\r\n    List&lt;WriteModel&lt;Document&gt;&gt; statsBulkWrites = new ArrayList&lt;&gt;();\r\n    \r\n    MongoCollection&lt;Document&gt; collection = statisticsDBService.getCollection();\r\n    collection.bulkWrite(statsBulkWrites);\r\n\r\n\r\n**Sample JSON Data (statsBulkWrites) -** \r\n\r\n     [{&quot;$set&quot;: {&quot;months&quot;: &quot;$months&quot;}},&#160;\r\n        {&quot;$set&quot;: {&quot;months&quot;: {&quot;$concatArrays&quot;: [{&quot;$filter&quot;: {&quot;input&quot;: &quot;$months&quot;, &quot;cond&quot;: {&quot;$not&quot;: [{&quot;$in&quot;: [&quot;$$this.date&quot;, [{&quot;$numberLong&quot;: &quot;0000000000000&quot;}]]}]}}}, {&quot;$map&quot;: {&quot;input&quot;: [{&quot;$numberLong&quot;: &quot;0000000000000&quot;}], &quot;in&quot;: {&quot;$cond&quot;: [{&quot;$in&quot;: [&quot;$$this&quot;, &quot;$months.date&quot;]}, {&quot;date&quot;: &quot;$$this&quot;, &quot;value&quot;: {&quot;$sum&quot;: [{&quot;$arrayElemAt&quot;: [&quot;$months.value&quot;, {&quot;$indexOfArray&quot;: [&quot;$months.date&quot;, &quot;$$this&quot;]}]}, {&quot;$numberLong&quot;: &quot;000000&quot;}]}}, {&quot;date&quot;: &quot;$$this&quot;, &quot;value&quot;: {&quot;$numberLong&quot;: &quot;000000&quot;}}]}}}]}}},\r\n        {&quot;$set&quot;: {&quot;sum&quot;: {&quot;$sum&quot;: &quot;$years.value&quot;}}}]&#160;\r\n\r\nThe executeAPI() methods gives this error - \r\n\r\n    com.mongodb.MongoBulkWriteException: Bulk write operation error on server a207849-mktp-docdb-cluster2.csahjzki9umq.us-east-1.docdb.amazonaws.com:27017. \r\n    Write errors: [BulkWriteError{index=0, code=14, message=&#39;Wrong type for parameter u&#39;, details={}}]. \r\n        at com.mongodb.connection.BulkWriteBatchCombiner.getError(BulkWriteBatchCombiner.java:173)\r\n        at com.mongodb.connection.BulkWriteBatchCombiner.throwOnError(BulkWriteBatchCombiner.java:202)\r\n        at com.mongodb.connection.BulkWriteBatchCombiner.getResult(BulkWriteBatchCombiner.java:143)\r\n        at com.mongodb.operation.BulkWriteBatch.getResult(BulkWriteBatch.java:227)\r\n        at com.mongodb.operation.MixedBulkWriteOperation.executeBulkWriteBatch(MixedBulkWriteOperation.java:282)\r\n        at com.mongodb.operation.MixedBulkWriteOperation.access$700(MixedBulkWriteOperation.java:72)\r\n        at com.mongodb.operation.MixedBulkWriteOperation$1.call(MixedBulkWriteOperation.java:205)\r\n        at com.mongodb.operation.MixedBulkWriteOperation$1.call(MixedBulkWriteOperation.java:196)\r\n        at com.mongodb.operation.OperationHelper.withReleasableConnection(OperationHelper.java:501)\r\n        at com.mongodb.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:196)\r\n        at com.mongodb.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:71)\r\n        at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:206)\r\n        at com.mongodb.client.internal.MongoCollectionImpl.executeBulkWrite(MongoCollectionImpl.java:471)\r\n        at com.mongodb.client.internal.MongoCollectionImpl.bulkWrite(MongoCollectionImpl.java:451)\r\n        at com.mongodb.client.internal.MongoCollectionImpl.bulkWrite(MongoCollectionImpl.java:446)\r\n        at io.cloudexchange.market.async.StatsProcessor.processIncr(StatsProcessor.java:221)\r\n        at io.cloudexchange.market.async.StatsProcessor.run(StatsProcessor.java:176)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n  \r\n**After that I changed BulkWrite to UpdateMany -** \r\n\r\n    for(val setQ: statsBulkWrites) {\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; statisticsDBService.getCollection().updateMany(document, setQ);}\r\n\r\n**Then above code gives this error -**\r\n\r\n    com.mongodb.MongoWriteException: Document can&#39;t have $ prefix field names: $concatArrays\r\n    &#160;&#160;&#160; at com.mongodb.client.internal.MongoCollectionImpl.executeSingleWriteRequest(MongoCollectionImpl.java:1055)\r\n    &#160;&#160;&#160; at com.mongodb.client.internal.MongoCollectionImpl.executeUpdate(MongoCollectionImpl.java:1032)\r\n    &#160;&#160;&#160; at com.mongodb.client.internal.MongoCollectionImpl.updateMany(MongoCollectionImpl.java:663)\r\n    &#160;&#160;&#160; at com.mongodb.client.internal.MongoCollectionImpl.updateMany(MongoCollectionImpl.java:658)\r\n    &#160;&#160;&#160; at io.cloudexchange.market.async.StatsProcessor.processIncr(StatsProcessor.java:218)\r\n    &#160;&#160;&#160; at io.cloudexchange.market.async.StatsProcessor.run(StatsProcessor.java:176)\r\n    &#160;&#160;&#160; at java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n   \r\n\r\nPlease provide a solution.","title":"Mongo Db to AWS DocumentDb Migration - Error in BulkWrite and UpdateMany methods","body":"<p>I am migrating from Mongo DB 4.4.0 to Amazon DocumentDB (with mongodb compatibility) 4.0.</p>\n<p>The database migration is done but few errors are occurring in the application. The APIs are in java language and below piece of code is executed when API is called -</p>\n<p><strong>executeAPI()</strong></p>\n<pre><code>private final MongoDAO statisticsDBService; // Assigned from constructor\nList&lt;WriteModel&lt;Document&gt;&gt; statsBulkWrites = new ArrayList&lt;&gt;();\n\nMongoCollection&lt;Document&gt; collection = statisticsDBService.getCollection();\ncollection.bulkWrite(statsBulkWrites);\n</code></pre>\n<p><strong>Sample JSON Data (statsBulkWrites) -</strong></p>\n<pre><code> [{&quot;$set&quot;: {&quot;months&quot;: &quot;$months&quot;}}, \n    {&quot;$set&quot;: {&quot;months&quot;: {&quot;$concatArrays&quot;: [{&quot;$filter&quot;: {&quot;input&quot;: &quot;$months&quot;, &quot;cond&quot;: {&quot;$not&quot;: [{&quot;$in&quot;: [&quot;$$this.date&quot;, [{&quot;$numberLong&quot;: &quot;0000000000000&quot;}]]}]}}}, {&quot;$map&quot;: {&quot;input&quot;: [{&quot;$numberLong&quot;: &quot;0000000000000&quot;}], &quot;in&quot;: {&quot;$cond&quot;: [{&quot;$in&quot;: [&quot;$$this&quot;, &quot;$months.date&quot;]}, {&quot;date&quot;: &quot;$$this&quot;, &quot;value&quot;: {&quot;$sum&quot;: [{&quot;$arrayElemAt&quot;: [&quot;$months.value&quot;, {&quot;$indexOfArray&quot;: [&quot;$months.date&quot;, &quot;$$this&quot;]}]}, {&quot;$numberLong&quot;: &quot;000000&quot;}]}}, {&quot;date&quot;: &quot;$$this&quot;, &quot;value&quot;: {&quot;$numberLong&quot;: &quot;000000&quot;}}]}}}]}}},\n    {&quot;$set&quot;: {&quot;sum&quot;: {&quot;$sum&quot;: &quot;$years.value&quot;}}}] \n</code></pre>\n<p>The executeAPI() methods gives this error -</p>\n<pre><code>com.mongodb.MongoBulkWriteException: Bulk write operation error on server a207849-mktp-docdb-cluster2.csahjzki9umq.us-east-1.docdb.amazonaws.com:27017. \nWrite errors: [BulkWriteError{index=0, code=14, message='Wrong type for parameter u', details={}}]. \n    at com.mongodb.connection.BulkWriteBatchCombiner.getError(BulkWriteBatchCombiner.java:173)\n    at com.mongodb.connection.BulkWriteBatchCombiner.throwOnError(BulkWriteBatchCombiner.java:202)\n    at com.mongodb.connection.BulkWriteBatchCombiner.getResult(BulkWriteBatchCombiner.java:143)\n    at com.mongodb.operation.BulkWriteBatch.getResult(BulkWriteBatch.java:227)\n    at com.mongodb.operation.MixedBulkWriteOperation.executeBulkWriteBatch(MixedBulkWriteOperation.java:282)\n    at com.mongodb.operation.MixedBulkWriteOperation.access$700(MixedBulkWriteOperation.java:72)\n    at com.mongodb.operation.MixedBulkWriteOperation$1.call(MixedBulkWriteOperation.java:205)\n    at com.mongodb.operation.MixedBulkWriteOperation$1.call(MixedBulkWriteOperation.java:196)\n    at com.mongodb.operation.OperationHelper.withReleasableConnection(OperationHelper.java:501)\n    at com.mongodb.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:196)\n    at com.mongodb.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:71)\n    at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:206)\n    at com.mongodb.client.internal.MongoCollectionImpl.executeBulkWrite(MongoCollectionImpl.java:471)\n    at com.mongodb.client.internal.MongoCollectionImpl.bulkWrite(MongoCollectionImpl.java:451)\n    at com.mongodb.client.internal.MongoCollectionImpl.bulkWrite(MongoCollectionImpl.java:446)\n    at io.cloudexchange.market.async.StatsProcessor.processIncr(StatsProcessor.java:221)\n    at io.cloudexchange.market.async.StatsProcessor.run(StatsProcessor.java:176)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p><strong>After that I changed BulkWrite to UpdateMany -</strong></p>\n<pre><code>for(val setQ: statsBulkWrites) {\n            statisticsDBService.getCollection().updateMany(document, setQ);}\n</code></pre>\n<p><strong>Then above code gives this error -</strong></p>\n<pre><code>com.mongodb.MongoWriteException: Document can't have $ prefix field names: $concatArrays\n    at com.mongodb.client.internal.MongoCollectionImpl.executeSingleWriteRequest(MongoCollectionImpl.java:1055)\n    at com.mongodb.client.internal.MongoCollectionImpl.executeUpdate(MongoCollectionImpl.java:1032)\n    at com.mongodb.client.internal.MongoCollectionImpl.updateMany(MongoCollectionImpl.java:663)\n    at com.mongodb.client.internal.MongoCollectionImpl.updateMany(MongoCollectionImpl.java:658)\n    at io.cloudexchange.market.async.StatsProcessor.processIncr(StatsProcessor.java:218)\n    at io.cloudexchange.market.async.StatsProcessor.run(StatsProcessor.java:176)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>Please provide a solution.</p>\n"},{"tags":["java","oracle","hibernate","jpa"],"comments":[{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1680180161,"post_id":75888359,"comment_id":133856459,"body_markdown":"A little bit off your question, but why do you need column &quot;ID&quot; in table &quot;A_B&quot;?","body":"A little bit off your question, but why do you need column &quot;ID&quot; in table &quot;A_B&quot;?"},{"owner":{"account_id":17782616,"reputation":6789,"user_id":12913491,"display_name":"pmdba"},"score":0,"creation_date":1680180649,"post_id":75888359,"comment_id":133856614,"body_markdown":"Seems like things are happening out of order. You cannot insert into `A_B` until referential data exists in both `A` and `B`. The insert to the join table must come last, and must include both valid `A_ID` and `B_ID`.","body":"Seems like things are happening out of order. You cannot insert into <code>A_B</code> until referential data exists in both <code>A</code> and <code>B</code>. The insert to the join table must come last, and must include both valid <code>A_ID</code> and <code>B_ID</code>."}],"owner":{"account_id":23034067,"reputation":23,"user_id":17153096,"display_name":"Tomy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680179753,"creation_date":1680179753,"question_id":75888359,"body_markdown":"I have many-to-many oracle db model between tables `A` and `B`. In db model there is common table, let&#39;s say `A_B` with fields `id` (primary key not null), `a_id` (foreign key to table A) and `b_id` (foreign key to table B).\r\n\r\nModel in Java is like:\r\n\r\n```\r\n@Table(name = &quot;A&quot;)\r\npublic class A\r\n{\r\n\r\n    @Id\r\n    @Column(name = &quot;A_ID&quot;, nullable = false)\r\n    private Long aId;\r\n\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER, cascade= CascadeType.ALL)\r\n    @JoinTable(name = &quot;A_B&quot;,\r\n            joinColumns = { @JoinColumn(name = &quot;A_ID&quot;, nullable = false) },\r\n            inverseJoinColumns = { @JoinColumn(name = &quot;B_ID&quot;, nullable = false) }\r\n    )\r\n    private List&lt;B&gt; b;\r\n}\r\n\r\n@Entity(name = &quot;B&quot;)\r\npublic class B\r\n{\r\n    @Id\r\n    @Column(name = &quot;B_ID&quot;, nullable = false)\r\n    private Long bId;\r\n}\r\n```\r\n\r\nWhen inserting entity A I&#39;m receiving an error:\r\n`cannot insert NULL into (&quot;A_B&quot;.&quot;ID&quot;)`.\r\n\r\nI suppose that hibernate can not see this additional `id` as primary key in tabe `A_B`. What can I do?\r\n\r\nI know that I can remove unnecessary `id` or set something default. But is there any way to avoid database model changes? Can I somehow implement it using only Hibernate and JPA?\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to insert non null value into many to many table","body":"<p>I have many-to-many oracle db model between tables <code>A</code> and <code>B</code>. In db model there is common table, let's say <code>A_B</code> with fields <code>id</code> (primary key not null), <code>a_id</code> (foreign key to table A) and <code>b_id</code> (foreign key to table B).</p>\n<p>Model in Java is like:</p>\n<pre><code>@Table(name = &quot;A&quot;)\npublic class A\n{\n\n    @Id\n    @Column(name = &quot;A_ID&quot;, nullable = false)\n    private Long aId;\n\n\n    @ManyToMany(fetch = FetchType.EAGER, cascade= CascadeType.ALL)\n    @JoinTable(name = &quot;A_B&quot;,\n            joinColumns = { @JoinColumn(name = &quot;A_ID&quot;, nullable = false) },\n            inverseJoinColumns = { @JoinColumn(name = &quot;B_ID&quot;, nullable = false) }\n    )\n    private List&lt;B&gt; b;\n}\n\n@Entity(name = &quot;B&quot;)\npublic class B\n{\n    @Id\n    @Column(name = &quot;B_ID&quot;, nullable = false)\n    private Long bId;\n}\n</code></pre>\n<p>When inserting entity A I'm receiving an error:\n<code>cannot insert NULL into (&quot;A_B&quot;.&quot;ID&quot;)</code>.</p>\n<p>I suppose that hibernate can not see this additional <code>id</code> as primary key in tabe <code>A_B</code>. What can I do?</p>\n<p>I know that I can remove unnecessary <code>id</code> or set something default. But is there any way to avoid database model changes? Can I somehow implement it using only Hibernate and JPA?</p>\n"},{"tags":["java","reflection","package"],"comments":[{"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"score":2,"creation_date":1266352306,"post_id":520328,"comment_id":2238820,"body_markdown":"FYI the solution Amit links to works, although it has a bug if the class path has a space character in it (and probably for other non-alphanumeric characters too). if you&#39;re using it in any kind of production code, see my comment to his answer for a workaround.","body":"FYI the solution Amit links to works, although it has a bug if the class path has a space character in it (and probably for other non-alphanumeric characters too). if you&#39;re using it in any kind of production code, see my comment to his answer for a workaround."},{"owner":{"account_id":987285,"reputation":17009,"user_id":1005481,"accept_rate":89,"display_name":"barfuin"},"score":2,"creation_date":1389606491,"post_id":520328,"comment_id":31719661,"body_markdown":"Also note [this post](http://stackoverflow.com/q/1156552/1005481).","body":"Also note <a href=\"http://stackoverflow.com/q/1156552/1005481\">this post</a>."},{"owner":{"account_id":5117496,"reputation":2302,"user_id":4102160,"accept_rate":75,"display_name":"Cfx"},"score":1,"creation_date":1431254153,"post_id":520328,"comment_id":48408223,"body_markdown":"See related answer: http://stackoverflow.com/a/30149061/4102160","body":"See related answer: <a href=\"http://stackoverflow.com/a/30149061/4102160\">stackoverflow.com/a/30149061/4102160</a>"},{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":1,"creation_date":1480680346,"post_id":520328,"comment_id":69074464,"body_markdown":"Also note [this post](http://stackoverflow.com/q/15519626/1225328).","body":"Also note <a href=\"http://stackoverflow.com/q/15519626/1225328\">this post</a>."},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":2,"creation_date":1570272499,"post_id":520328,"comment_id":102866119,"body_markdown":"See my answer below about ClassGraph, it is currently the most robust method for scanning the classpath and module path.","body":"See my answer below about ClassGraph, it is currently the most robust method for scanning the classpath and module path."},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":0,"creation_date":1646869657,"post_id":520328,"comment_id":126233398,"body_markdown":"This is a very difficult problem, especially considering that not all classloaders have to be file based (I&#39;ve seen them load classes from the database) Your best bet is probably to use compile-time annotation processing to create a file of classes to process at runtime. Most people that think it&#39;s easy just iterate over class files on your classpath--this is not a great approach in general since, as I said, not all classloaders are restricted to the classpath.","body":"This is a very difficult problem, especially considering that not all classloaders have to be file based (I&#39;ve seen them load classes from the database) Your best bet is probably to use compile-time annotation processing to create a file of classes to process at runtime. Most people that think it&#39;s easy just iterate over class files on your classpath--this is not a great approach in general since, as I said, not all classloaders are restricted to the classpath."}],"answers":[{"tags":[],"owner":{"account_id":14956,"reputation":30470,"user_id":31141,"accept_rate":79,"display_name":"Marko"},"comment_count":0,"down_vote_count":11,"up_vote_count":8,"is_accepted":false,"score":-3,"last_activity_date":1233928008,"creation_date":1233928008,"answer_id":520335,"question_id":520328,"body_markdown":"It is not possible, since all classes in the package might not be loaded, while you always  knows package of a class.","title":"Can you find all classes in a package using reflection?","body":"<p>It is not possible, since all classes in the package might not be loaded, while you always  knows package of a class.</p>\n"},{"comments":[{"owner":{"account_id":5022,"reputation":13852,"user_id":7867,"accept_rate":70,"display_name":"Mr. Shiny and New 安宇"},"score":14,"creation_date":1233931127,"post_id":520339,"comment_id":333896,"body_markdown":"The inability to query for class names has bugged me for a long time.  Sure, it&#39;s hard and the performance can vary widely, and for certain classloaders the list is undefined or unbounded, but there are ways this could have been worked around.","body":"The inability to query for class names has bugged me for a long time.  Sure, it&#39;s hard and the performance can vary widely, and for certain classloaders the list is undefined or unbounded, but there are ways this could have been worked around."},{"owner":{"account_id":7090,"reputation":54514,"user_id":12149,"accept_rate":66,"display_name":"Alex Spurling"},"score":22,"creation_date":1354720462,"post_id":520339,"comment_id":18856346,"body_markdown":"Note that this solution will not work as by default getSubTypesOf does not return subtypes of Object. See Aleksander Blomsk&#248;ld&#39;s solution for how to configure the SubTypeScanner.","body":"Note that this solution will not work as by default getSubTypesOf does not return subtypes of Object. See Aleksander Blomsk&#248;ld&#39;s solution for how to configure the SubTypeScanner."},{"owner":{"account_id":69078,"reputation":649,"user_id":201192,"display_name":"mike jones"},"score":20,"creation_date":1372181364,"post_id":520339,"comment_id":25093032,"body_markdown":"Reflections requires Guava.  Guava is big.  Version 14.0.1 is 2.1MB.","body":"Reflections requires Guava.  Guava is big.  Version 14.0.1 is 2.1MB."},{"owner":{"account_id":1686823,"reputation":3237,"user_id":1549927,"display_name":"Konstantinos Margaritis"},"score":3,"creation_date":1380968883,"post_id":520339,"comment_id":28404861,"body_markdown":"Did not work for me. Mac OSX - Reflections dependency version 0.9.9-RC1 (maven) - JDK 1.7. Reconsider the accepted answer. @AleksanderBlomsk&#248;ld answer is the one to go.!!!!!","body":"Did not work for me. Mac OSX - Reflections dependency version 0.9.9-RC1 (maven) - JDK 1.7. Reconsider the accepted answer. @AleksanderBlomsk&#248;ld answer is the one to go.!!!!!"},{"owner":{"account_id":543690,"reputation":4269,"user_id":912903,"accept_rate":92,"display_name":"Jo&#227;o Rocha da Silva"},"score":79,"creation_date":1411569432,"post_id":520339,"comment_id":40753404,"body_markdown":"If this returns an empty list, initialize the Reflections object like this:\n\n    Reflections reflections = new Reflections(&quot;your.package.here&quot;, new SubTypesScanner(false));","body":"If this returns an empty list, initialize the Reflections object like this:      Reflections reflections = new Reflections(&quot;your.package.here&quot;, new SubTypesScanner(false));"},{"owner":{"account_id":197130,"reputation":1062,"user_id":1103735,"accept_rate":42,"display_name":"Masud Rahman"},"score":0,"creation_date":1434156248,"post_id":520339,"comment_id":49675802,"body_markdown":"@Staale, I couldn&#39;t make this work for JRE packages such as java.util or java.io. Any idea about that?","body":"@Staale, I couldn&#39;t make this work for JRE packages such as java.util or java.io. Any idea about that?"},{"owner":{"account_id":63165,"reputation":2268,"user_id":187148,"display_name":"Bruno Medeiros"},"score":0,"creation_date":1439321184,"post_id":520339,"comment_id":51809960,"body_markdown":"Be aware that the class (MyParentClass.class) you use as argument of reflections.getSubTypesOf(MyParentClass.class) also needs to be on the scanners you provided. I was getting an empty list trying to get subclasses of a class that was outside the packages being scanned.","body":"Be aware that the class (MyParentClass.class) you use as argument of reflections.getSubTypesOf(MyParentClass.class) also needs to be on the scanners you provided. I was getting an empty list trying to get subclasses of a class that was outside the packages being scanned."},{"owner":{"account_id":1252466,"reputation":79549,"user_id":1212596,"accept_rate":52,"display_name":"Paul Draper"},"score":0,"creation_date":1443932852,"post_id":520339,"comment_id":53686021,"body_markdown":"@Mr.ShinyandNew安宇, the default implementation is a `URLClassLoader`. That&#39;s **URL**. Enumerating classes is like enumerating webpages. You can follow links, but enumerating all of them isn&#39;t really possible.","body":"@Mr.ShinyandNew安宇, the default implementation is a <code>URLClassLoader</code>. That&#39;s <b>URL</b>. Enumerating classes is like enumerating webpages. You can follow links, but enumerating all of them isn&#39;t really possible."},{"owner":{"account_id":51139,"reputation":440,"user_id":152717,"accept_rate":57,"display_name":"blackuprise"},"score":0,"creation_date":1448031650,"post_id":520339,"comment_id":55424444,"body_markdown":"@Staale Reflection would still not work, depending on way you package your application. Try packaging it with one jar or similar and it will not work.","body":"@Staale Reflection would still not work, depending on way you package your application. Try packaging it with one jar or similar and it will not work."},{"owner":{"account_id":3017633,"reputation":789,"user_id":2559317,"accept_rate":50,"display_name":"Vortex"},"score":3,"creation_date":1477288994,"post_id":520339,"comment_id":67687248,"body_markdown":"FastClasspathScanner is a superior library, well thought out and documented. It is also fast.","body":"FastClasspathScanner is a superior library, well thought out and documented. It is also fast."},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":0,"creation_date":1570272667,"post_id":520339,"comment_id":102866147,"body_markdown":"You are right that classloaders are not required to tell the VM which classes they can provide. ClassGraph has done the hard work to extract classpath info from a wide range of classloaders using reflection, so it supports the widest possible array of classpath element types, and also supports the module path: https://github.com/classgraph/classgraph/wiki/Classpath-Specification-Mechanisms","body":"You are right that classloaders are not required to tell the VM which classes they can provide. ClassGraph has done the hard work to extract classpath info from a wide range of classloaders using reflection, so it supports the widest possible array of classpath element types, and also supports the module path: <a href=\"https://github.com/classgraph/classgraph/wiki/Classpath-Specification-Mechanisms\" rel=\"nofollow noreferrer\">github.com/classgraph/classgraph/wiki/&hellip;</a>"},{"owner":{"account_id":7281,"reputation":248677,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1658463993,"post_id":520339,"comment_id":129062243,"body_markdown":"*&quot; The Reflections Library will allow you to look up classes in the current classpath.&quot;* Can the Reflections library allow me to look up classes in the current classpath? The example code specifies a single hard-coded package name, rather than....letting it work on all packages in the classpath.","body":"<i>&quot; The Reflections Library will allow you to look up classes in the current classpath.&quot;</i> Can the Reflections library allow me to look up classes in the current classpath? The example code specifies a single hard-coded package name, rather than....letting it work on all packages in the classpath."}],"tags":[],"owner":{"account_id":2414,"reputation":27402,"user_id":3355,"accept_rate":69,"display_name":"Staale"},"comment_count":12,"down_vote_count":11,"up_vote_count":430,"is_accepted":true,"score":419,"last_activity_date":1412196198,"creation_date":1233928077,"answer_id":520339,"question_id":520328,"body_markdown":"Due to the dynamic nature of class loaders, this is not possible. Class loaders are not required to tell the VM which classes it can provide, instead they are just handed requests for classes, and have to return a class or throw an exception.\r\n\r\nHowever, if you write your own class loaders, or examine the classpaths and it&#39;s jars, it&#39;s possible to find this information. This will be via filesystem operations though, and not reflection. There might even be libraries that can help you do this.\r\n\r\nIf there are classes that get generated, or delivered remotely, you will not be able to discover those classes.\r\n\r\nThe normal method is instead to somewhere register the classes you need access to in a file, or reference them in a different class. Or just use convention when it comes to naming.\r\n\r\nAddendum: [The Reflections Library][1] will allow you to look up classes in the current classpath. It can be used to get all classes in a package:\r\n\r\n     Reflections reflections = new Reflections(&quot;my.project.prefix&quot;);\r\n\r\n     Set&lt;Class&lt;? extends Object&gt;&gt; allClasses = \r\n         reflections.getSubTypesOf(Object.class);\r\n\r\n\r\n  [1]: https://github.com/ronmamo/reflections","title":"Can you find all classes in a package using reflection?","body":"<p>Due to the dynamic nature of class loaders, this is not possible. Class loaders are not required to tell the VM which classes it can provide, instead they are just handed requests for classes, and have to return a class or throw an exception.</p>\n\n<p>However, if you write your own class loaders, or examine the classpaths and it's jars, it's possible to find this information. This will be via filesystem operations though, and not reflection. There might even be libraries that can help you do this.</p>\n\n<p>If there are classes that get generated, or delivered remotely, you will not be able to discover those classes.</p>\n\n<p>The normal method is instead to somewhere register the classes you need access to in a file, or reference them in a different class. Or just use convention when it comes to naming.</p>\n\n<p>Addendum: <a href=\"https://github.com/ronmamo/reflections\" rel=\"noreferrer\">The Reflections Library</a> will allow you to look up classes in the current classpath. It can be used to get all classes in a package:</p>\n\n<pre><code> Reflections reflections = new Reflections(\"my.project.prefix\");\n\n Set&lt;Class&lt;? extends Object&gt;&gt; allClasses = \n     reflections.getSubTypesOf(Object.class);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"score":9,"creation_date":1266352168,"post_id":520344,"comment_id":2238795,"body_markdown":"I had a problem with this if my path included spaces. The URL class was escaping spaces to `%20`, but the `new File()` constructor treated that as a literal percent sign two zero.  I fixed it by changing the `dirs.add(...)` line to this:  `dirs.add(new File(resource.toURI()));`  This also meant I had to add `URISyntaxException` to the throws clause of `getClasses`","body":"I had a problem with this if my path included spaces. The URL class was escaping spaces to <code>%20</code>, but the <code>new File()</code> constructor treated that as a literal percent sign two zero.  I fixed it by changing the <code>dirs.add(...)</code> line to this:  <code>dirs.add(new File(resource.toURI()));</code>  This also meant I had to add <code>URISyntaxException</code> to the throws clause of <code>getClasses</code>"},{"owner":{"account_id":4001886,"reputation":1833,"user_id":4118434,"display_name":"R.A"},"score":24,"creation_date":1445594637,"post_id":520344,"comment_id":54398303,"body_markdown":"You just copied from \nhttps://dzone.com/articles/get-all-classes-within-package!\nplease refer source next time","body":"You just copied from  <a href=\"https://dzone.com/articles/get-all-classes-within-package\" rel=\"nofollow noreferrer\">dzone.com/articles/get-all-classes-within-package</a>! please refer source next time"},{"owner":{"account_id":4746206,"reputation":416,"user_id":3837512,"display_name":"sc0p"},"score":28,"creation_date":1449404126,"post_id":520344,"comment_id":55983524,"body_markdown":"+1 because this solution does NOT require external libraries... NEVER, really NEVER couple your code randomly with libraries just to achieve one small thing like this. do you know that you are adding potential attack surface for attackers? Nov 2015 an Apache Commons problem discovered that leads to Remote Command Execution just by having Apache Commons in the classpath of an app deployed on Jboss/Weblogic [http://foxglovesecurity.com/2015/11/06/what-do-weblogic-websphere-jboss-jenkins-opennms-and-your-application-have-in-common-this-vulnerability/]","body":"+1 because this solution does NOT require external libraries... NEVER, really NEVER couple your code randomly with libraries just to achieve one small thing like this. do you know that you are adding potential attack surface for attackers? Nov 2015 an Apache Commons problem discovered that leads to Remote Command Execution just by having Apache Commons in the classpath of an app deployed on Jboss/Weblogic [<a href=\"http://foxglovesecurity.com/2015/11/06/what-do-weblogic-websphere-jboss-jenkins-opennms-and-your-application-have-in-common-this-vulnerability/]\" rel=\"nofollow noreferrer\">foxglovesecurity.com/2015/11/06/&hellip;</a>"},{"owner":{"account_id":1652963,"reputation":449,"user_id":1523177,"display_name":"user1523177"},"score":1,"creation_date":1454944276,"post_id":520344,"comment_id":58257288,"body_markdown":"@Qix correctly noted that this code does not support jar. In order to support **jars &amp; directories**. The code was changed as noted below:","body":"@Qix correctly noted that this code does not support jar. In order to support <b>jars &amp; directories</b>. The code was changed as noted below:"},{"owner":{"account_id":7847996,"reputation":435,"user_id":5932390,"display_name":"Andrei_N"},"score":1,"creation_date":1463759959,"post_id":520344,"comment_id":62217561,"body_markdown":"Good solution, but it seems to be better if &#39;Class.forName(String className)&#39; will be replaced with &#39;Class.forName(String className, boolean initialize, ClassLoader loader)&#39; where &#39;initialize = false;&#39; in order to not create class instances.","body":"Good solution, but it seems to be better if &#39;Class.forName(String className)&#39; will be replaced with &#39;Class.forName(String className, boolean initialize, ClassLoader loader)&#39; where &#39;initialize = false;&#39; in order to not create class instances."},{"owner":{"account_id":933148,"reputation":10640,"user_id":962603,"accept_rate":100,"display_name":"Just a student"},"score":0,"creation_date":1511443477,"post_id":520344,"comment_id":81867528,"body_markdown":"@R.S An edit 20 days before your comment replaced the original link-only answer by the code snippet it referred to, see [revision 2](https://stackoverflow.com/revisions/520344/2). I just edited the answer to include the original link, Internet Archive link and updated link you provided.","body":"@R.S An edit 20 days before your comment replaced the original link-only answer by the code snippet it referred to, see <a href=\"https://stackoverflow.com/revisions/520344/2\">revision 2</a>. I just edited the answer to include the original link, Internet Archive link and updated link you provided."},{"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"score":0,"creation_date":1540515202,"post_id":520344,"comment_id":92904474,"body_markdown":"When I supply the package `java.lang` there are no enumerations","body":"When I supply the package <code>java.lang</code> there are no enumerations"},{"owner":{"account_id":8986732,"reputation":1074,"user_id":6700091,"display_name":"Kamil Bęben"},"score":1,"creation_date":1558593373,"post_id":520344,"comment_id":99153697,"body_markdown":"Good job overall, but i also have to point out that this will not find any inner classes.","body":"Good job overall, but i also have to point out that this will not find any inner classes."},{"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"score":2,"creation_date":1591760179,"post_id":520344,"comment_id":110175175,"body_markdown":"I cannot get this to work. Could we get an example of an input of package name that works, along with an example projet structure?","body":"I cannot get this to work. Could we get an example of an input of package name that works, along with an example projet structure?"},{"owner":{"account_id":398410,"reputation":36002,"user_id":763080,"accept_rate":74,"display_name":"Phil"},"score":0,"creation_date":1607702403,"post_id":520344,"comment_id":115363628,"body_markdown":"I have observed that this solution works differently depending on the operating system on which the code is executed, likely due to behavior differences with ClassLoader. See https://stackoverflow.com/questions/519816/why-would-java-classloading-fail-on-linux-but-succeed-on-windows","body":"I have observed that this solution works differently depending on the operating system on which the code is executed, likely due to behavior differences with ClassLoader. See <a href=\"https://stackoverflow.com/questions/519816/why-would-java-classloading-fail-on-linux-but-succeed-on-windows\" title=\"why would java classloading fail on linux but succeed on windows\">stackoverflow.com/questions/519816/&hellip;</a>"}],"tags":[],"owner":{"display_name":"user59634"},"comment_count":10,"down_vote_count":2,"up_vote_count":155,"is_accepted":false,"score":153,"last_activity_date":1538465495,"creation_date":1233928180,"answer_id":520344,"question_id":520328,"body_markdown":"You could use [this method][0]&lt;sup&gt;1&lt;/sup&gt; that uses the `ClassLoader`.\r\n\r\n\r\n    /**\r\n     * Scans all classes accessible from the context class loader which belong to the given package and subpackages.\r\n     *\r\n     * @param packageName The base package\r\n     * @return The classes\r\n     * @throws ClassNotFoundException\r\n     * @throws IOException\r\n     */\r\n    private static Class[] getClasses(String packageName)\r\n            throws ClassNotFoundException, IOException {\r\n        ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\r\n        assert classLoader != null;\r\n        String path = packageName.replace(&#39;.&#39;, &#39;/&#39;);\r\n        Enumeration&lt;URL&gt; resources = classLoader.getResources(path);\r\n        List&lt;File&gt; dirs = new ArrayList&lt;File&gt;();\r\n        while (resources.hasMoreElements()) {\r\n            URL resource = resources.nextElement();\r\n            dirs.add(new File(resource.getFile()));\r\n        }\r\n        ArrayList&lt;Class&gt; classes = new ArrayList&lt;Class&gt;();\r\n        for (File directory : dirs) {\r\n            classes.addAll(findClasses(directory, packageName));\r\n        }\r\n        return classes.toArray(new Class[classes.size()]);\r\n    }\r\n\r\n    /**\r\n     * Recursive method used to find all classes in a given directory and subdirs.\r\n     *\r\n     * @param directory   The base directory\r\n     * @param packageName The package name for classes found inside the base directory\r\n     * @return The classes\r\n     * @throws ClassNotFoundException\r\n     */\r\n    private static List&lt;Class&gt; findClasses(File directory, String packageName) throws ClassNotFoundException {\r\n        List&lt;Class&gt; classes = new ArrayList&lt;Class&gt;();\r\n        if (!directory.exists()) {\r\n            return classes;\r\n        }\r\n        File[] files = directory.listFiles();\r\n        for (File file : files) {\r\n            if (file.isDirectory()) {\r\n                assert !file.getName().contains(&quot;.&quot;);\r\n                classes.addAll(findClasses(file, packageName + &quot;.&quot; + file.getName()));\r\n            } else if (file.getName().endsWith(&quot;.class&quot;)) {\r\n                classes.add(Class.forName(packageName + &#39;.&#39; + file.getName().substring(0, file.getName().length() - 6)));\r\n            }\r\n        }\r\n        return classes;\r\n    }\r\n\r\n\\__________  \r\n&lt;sub&gt;&lt;sup&gt;1&lt;/sup&gt; This method was taken originally from &lt;http://snippets.dzone.com/posts/show/4831&gt;, which was [archived][0] by the Internet Archive, as linked to now. The snippet is also available at &lt;https://dzone.com/articles/get-all-classes-within-package&gt;.&lt;/sub&gt;\r\n\r\n\r\n  [0]: https://web.archive.org/web/20090227113602/http://snippets.dzone.com:80/posts/show/4831","title":"Can you find all classes in a package using reflection?","body":"<p>You could use <a href=\"https://web.archive.org/web/20090227113602/http://snippets.dzone.com:80/posts/show/4831\" rel=\"noreferrer\">this method</a><sup>1</sup> that uses the <code>ClassLoader</code>.</p>\n\n<pre><code>/**\n * Scans all classes accessible from the context class loader which belong to the given package and subpackages.\n *\n * @param packageName The base package\n * @return The classes\n * @throws ClassNotFoundException\n * @throws IOException\n */\nprivate static Class[] getClasses(String packageName)\n        throws ClassNotFoundException, IOException {\n    ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\n    assert classLoader != null;\n    String path = packageName.replace('.', '/');\n    Enumeration&lt;URL&gt; resources = classLoader.getResources(path);\n    List&lt;File&gt; dirs = new ArrayList&lt;File&gt;();\n    while (resources.hasMoreElements()) {\n        URL resource = resources.nextElement();\n        dirs.add(new File(resource.getFile()));\n    }\n    ArrayList&lt;Class&gt; classes = new ArrayList&lt;Class&gt;();\n    for (File directory : dirs) {\n        classes.addAll(findClasses(directory, packageName));\n    }\n    return classes.toArray(new Class[classes.size()]);\n}\n\n/**\n * Recursive method used to find all classes in a given directory and subdirs.\n *\n * @param directory   The base directory\n * @param packageName The package name for classes found inside the base directory\n * @return The classes\n * @throws ClassNotFoundException\n */\nprivate static List&lt;Class&gt; findClasses(File directory, String packageName) throws ClassNotFoundException {\n    List&lt;Class&gt; classes = new ArrayList&lt;Class&gt;();\n    if (!directory.exists()) {\n        return classes;\n    }\n    File[] files = directory.listFiles();\n    for (File file : files) {\n        if (file.isDirectory()) {\n            assert !file.getName().contains(\".\");\n            classes.addAll(findClasses(file, packageName + \".\" + file.getName()));\n        } else if (file.getName().endsWith(\".class\")) {\n            classes.add(Class.forName(packageName + '.' + file.getName().substring(0, file.getName().length() - 6)));\n        }\n    }\n    return classes;\n}\n</code></pre>\n\n<p>__________<br>\n<sub><sup>1</sup> This method was taken originally from <a href=\"http://snippets.dzone.com/posts/show/4831\" rel=\"noreferrer\">http://snippets.dzone.com/posts/show/4831</a>, which was <a href=\"https://web.archive.org/web/20090227113602/http://snippets.dzone.com:80/posts/show/4831\" rel=\"noreferrer\">archived</a> by the Internet Archive, as linked to now. The snippet is also available at <a href=\"https://dzone.com/articles/get-all-classes-within-package\" rel=\"noreferrer\">https://dzone.com/articles/get-all-classes-within-package</a>.</sub></p>\n"},{"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1267641141,"creation_date":1267641141,"answer_id":2373928,"question_id":520328,"body_markdown":"Provided you are not using any dynamic class loaders you can search the classpath and for each entry search the directory or JAR file.","title":"Can you find all classes in a package using reflection?","body":"<p>Provided you are not using any dynamic class loaders you can search the classpath and for each entry search the directory or JAR file.</p>\n"},{"comments":[{"owner":{"account_id":39281,"reputation":1327,"user_id":113197,"accept_rate":84,"display_name":"mtrc"},"score":0,"creation_date":1345905900,"post_id":9571146,"comment_id":16210244,"body_markdown":"Just to follow up - the above source code is no longer working for me under reflections-0.9.8. Using more specific types does work, but Object.class doesn&#39;t. I haven&#39;t found a solution to this yet; it&#39;s possible it may be specific to me but I can&#39;t see a cause yet.","body":"Just to follow up - the above source code is no longer working for me under reflections-0.9.8. Using more specific types does work, but Object.class doesn&#39;t. I haven&#39;t found a solution to this yet; it&#39;s possible it may be specific to me but I can&#39;t see a cause yet."},{"owner":{"account_id":39281,"reputation":1327,"user_id":113197,"accept_rate":84,"display_name":"mtrc"},"score":6,"creation_date":1345906206,"post_id":9571146,"comment_id":16210308,"body_markdown":"Ah, here we go: http://code.google.com/p/reflections/issues/detail?id=122. Object is excluded by default, but you can rejigger it. Thanks for pointing me to this library, it&#39;s great!","body":"Ah, here we go: <a href=\"http://code.google.com/p/reflections/issues/detail?id=122\" rel=\"nofollow noreferrer\">code.google.com/p/reflections/issues/detail?id=122</a>. Object is excluded by default, but you can rejigger it. Thanks for pointing me to this library, it&#39;s great!"},{"owner":{"account_id":162866,"reputation":6068,"user_id":384617,"accept_rate":79,"display_name":"David P&#228;rsson"},"score":1,"creation_date":1360594551,"post_id":9571146,"comment_id":20751344,"body_markdown":"I ran in to problems on my Mac with this code (related to native libraries), but using `.addUrls(ClasspathHelper.forJavaClassPath())` instead of the above solved them for me. Less code as well!","body":"I ran in to problems on my Mac with this code (related to native libraries), but using <code>.addUrls(ClasspathHelper.forJavaClassPath())</code> instead of the above solved them for me. Less code as well!"},{"owner":{"account_id":1686823,"reputation":3237,"user_id":1549927,"display_name":"Konstantinos Margaritis"},"score":1,"creation_date":1380969137,"post_id":9571146,"comment_id":28404942,"body_markdown":"@AleksanderBlomsk&#248;ld- Code works flawlessly.. Simple and elegant. Mac OSX - Reflections dependency version 0.9.9-RC1 (maven) - JDK 1.7.","body":"@AleksanderBlomsk&#248;ld- Code works flawlessly.. Simple and elegant. Mac OSX - Reflections dependency version 0.9.9-RC1 (maven) - JDK 1.7."},{"owner":{"account_id":2144303,"reputation":2789,"user_id":1902288,"accept_rate":90,"display_name":"JBA"},"score":4,"creation_date":1413538012,"post_id":9571146,"comment_id":41489507,"body_markdown":"if anyone wonders a the simplest way to get the default package is having the prefix be an empty String -&gt; &quot;&quot;.","body":"if anyone wonders a the simplest way to get the default package is having the prefix be an empty String -&gt; &quot;&quot;."},{"owner":{"account_id":1208031,"reputation":14071,"user_id":1915854,"accept_rate":63,"display_name":"Serge Rogatch"},"score":2,"creation_date":1424183567,"post_id":9571146,"comment_id":45437923,"body_markdown":"&quot;Reflections&quot; library has a tricky license: https://github.com/ronmamo/reflections/blob/master/COPYING.txt . The trick is that the license allows free use of only the license itself. So to really use the library (not the license) everyone must contact the author and negotiate the terms of use.","body":"&quot;Reflections&quot; library has a tricky license: <a href=\"https://github.com/ronmamo/reflections/blob/master/COPYING.txt\" rel=\"nofollow noreferrer\">github.com/ronmamo/reflections/blob/master/COPYING.txt</a> . The trick is that the license allows free use of only the license itself. So to really use the library (not the license) everyone must contact the author and negotiate the terms of use."},{"owner":{"account_id":3252496,"reputation":734,"user_id":2742405,"accept_rate":38,"display_name":"A.v"},"score":0,"creation_date":1434260340,"post_id":9571146,"comment_id":49698312,"body_markdown":"I used this lib but i don&#39;t understand how it is doing it.\nI get some unloaded classes and it don&#39;t load them either.\njust return classes without loading them. How it is possible?","body":"I used this lib but i don&#39;t understand how it is doing it. I get some unloaded classes and it don&#39;t load them either. just return classes without loading them. How it is possible?"},{"owner":{"account_id":29199,"reputation":761,"user_id":78679,"accept_rate":90,"display_name":"Richo"},"score":3,"creation_date":1435050063,"post_id":9571146,"comment_id":50025076,"body_markdown":"Serge, I think you misunderstand WTFPL: http://www.wtfpl.net/\nI think WTFPL means that you are free to do whatever you want, not just with the license but with the code aswell","body":"Serge, I think you misunderstand WTFPL: <a href=\"http://www.wtfpl.net/\" rel=\"nofollow noreferrer\">wtfpl.net</a> I think WTFPL means that you are free to do whatever you want, not just with the license but with the code aswell"},{"owner":{"account_id":4067153,"reputation":532,"user_id":3341645,"accept_rate":73,"display_name":"Rajith Gun Hewage"},"score":0,"creation_date":1463579675,"post_id":9571146,"comment_id":62125525,"body_markdown":"I used your method and it seems to return only some of the classes in the package, but not all. Is it a known issue or am I missing something? \nFurther, it also returns some of the classes in the sub packages as well. \n(In the run I had, there were 38 classes altogether including the ones in the sub packages and it only returned 26 of them)","body":"I used your method and it seems to return only some of the classes in the package, but not all. Is it a known issue or am I missing something?  Further, it also returns some of the classes in the sub packages as well.  (In the run I had, there were 38 classes altogether including the ones in the sub packages and it only returned 26 of them)"},{"owner":{"account_id":80316,"reputation":18412,"user_id":227192,"accept_rate":100,"display_name":"Aleksander Blomsk&#248;ld"},"score":0,"creation_date":1463579798,"post_id":9571146,"comment_id":62125620,"body_markdown":"@rajeerc nope, I&#39;ve used it in a lot of projects and never seen that before. Any common traits between the classes it didn&#39;t find? Did you use the complete code i wrote above (by default it doesn&#39;ẗ index classes which is a direct subclass of Object)","body":"@rajeerc nope, I&#39;ve used it in a lot of projects and never seen that before. Any common traits between the classes it didn&#39;t find? Did you use the complete code i wrote above (by default it doesn&#39;ẗ index classes which is a direct subclass of Object)"},{"owner":{"account_id":4067153,"reputation":532,"user_id":3341645,"accept_rate":73,"display_name":"Rajith Gun Hewage"},"score":0,"creation_date":1463642055,"post_id":9571146,"comment_id":62152481,"body_markdown":"@AleksanderBlomsk&#248;ld Yes, I used the entire block of code provided in the answer. And as for a common trait, the missed classes are all sub-classes (direct or indirect) of a class that has been defined in another package.","body":"@AleksanderBlomsk&#248;ld Yes, I used the entire block of code provided in the answer. And as for a common trait, the missed classes are all sub-classes (direct or indirect) of a class that has been defined in another package."},{"owner":{"account_id":4067153,"reputation":532,"user_id":3341645,"accept_rate":73,"display_name":"Rajith Gun Hewage"},"score":0,"creation_date":1463742023,"post_id":9571146,"comment_id":62206219,"body_markdown":"And when I try and use that parent class&#39;s package in the program, it doesn&#39;t grab the child classes that were in the previous package. So in this way, I am losing a set of classes that I actually want.","body":"And when I try and use that parent class&#39;s package in the program, it doesn&#39;t grab the child classes that were in the previous package. So in this way, I am losing a set of classes that I actually want."},{"owner":{"account_id":366370,"reputation":2002,"user_id":711855,"display_name":"juanmf"},"score":0,"creation_date":1469925175,"post_id":9571146,"comment_id":64739052,"body_markdown":"I tried it and works like charm! :) thanks. That said, so far I&#39;m forced to put this src in the same artifact that I want to inspect classes from. I&#39;d like to inspect a 3rd party project in order to output plantUML src code. *Is there a way to run a parser using this lib from a separate software piece*?","body":"I tried it and works like charm! :) thanks. That said, so far I&#39;m forced to put this src in the same artifact that I want to inspect classes from. I&#39;d like to inspect a 3rd party project in order to output plantUML src code. <i>Is there a way to run a parser using this lib from a separate software piece</i>?"},{"owner":{"account_id":56664,"reputation":30680,"user_id":169754,"accept_rate":84,"display_name":"Roberto Aloi"},"score":1,"creation_date":1541578725,"post_id":9571146,"comment_id":93260775,"body_markdown":"It looks like it&#39;s possible to simplify the above code by simply `Reflections reflections = new Reflections(packageName, new SubTypesScanner(false));`","body":"It looks like it&#39;s possible to simplify the above code by simply <code>Reflections reflections = new Reflections(packageName, new SubTypesScanner(false));</code>"},{"owner":{"account_id":4014463,"reputation":1644,"user_id":3307037,"accept_rate":50,"display_name":"Enoobong"},"score":0,"creation_date":1555073292,"post_id":9571146,"comment_id":97992424,"body_markdown":"Throws `java.lang.NoSuchMethodError: com.google.common.collect.Sets$SetView.iterator()Lcom/google/common/collect/UnmodifiableIterator;` when trying to loop through the set :/","body":"Throws <code>java.lang.NoSuchMethodError: com.google.common.collect.Sets$SetView.iterator()Lcom&#47;google&zwnj;&#8203;&#47;common&#47;collect&#47;Unmo&zwnj;&#8203;difiableIterator;</code> when trying to loop through the set :/"},{"owner":{"account_id":80316,"reputation":18412,"user_id":227192,"accept_rate":100,"display_name":"Aleksander Blomsk&#248;ld"},"score":0,"creation_date":1555099538,"post_id":9571146,"comment_id":98006024,"body_markdown":"@Enoobong seems like you&#39;re having an old version of Guava in your classpath. Reflections need Guava v20 or later.","body":"@Enoobong seems like you&#39;re having an old version of Guava in your classpath. Reflections need Guava v20 or later."},{"owner":{"account_id":4014463,"reputation":1644,"user_id":3307037,"accept_rate":50,"display_name":"Enoobong"},"score":0,"creation_date":1555174201,"post_id":9571146,"comment_id":98021937,"body_markdown":"I see, thanks. I was using it in a Spring Project. Stepped down the version and it worked","body":"I see, thanks. I was using it in a Spring Project. Stepped down the version and it worked"},{"owner":{"account_id":67096,"reputation":24787,"user_id":196507,"accept_rate":90,"display_name":"lepe"},"score":0,"creation_date":1615533399,"post_id":9571146,"comment_id":117724936,"body_markdown":"If you are using groovy, I recommend you to use: `getSubTypesOf(GroovyObject.class)` (and discard any which starts with &quot;_&quot;).","body":"If you are using groovy, I recommend you to use: <code>getSubTypesOf(GroovyObject.class)</code> (and discard any which starts with &quot;_&quot;)."}],"tags":[],"owner":{"account_id":80316,"reputation":18412,"user_id":227192,"accept_rate":100,"display_name":"Aleksander Blomsk&#248;ld"},"comment_count":18,"down_vote_count":4,"up_vote_count":213,"is_accepted":false,"score":209,"last_activity_date":1444396250,"creation_date":1330968584,"answer_id":9571146,"question_id":520328,"body_markdown":"You should probably take a look at the open source [Reflections library][1]. With it you can easily achieve what you want.\r\n\r\nFirst, setup the reflections index (it&#39;s a bit messy since searching for all classes is disabled by default):\r\n\r\n    List&lt;ClassLoader&gt; classLoadersList = new LinkedList&lt;ClassLoader&gt;();\r\n    classLoadersList.add(ClasspathHelper.contextClassLoader());\r\n    classLoadersList.add(ClasspathHelper.staticClassLoader());\r\n    \t\t\t   \r\n    Reflections reflections = new Reflections(new ConfigurationBuilder()\r\n    \t.setScanners(new SubTypesScanner(false /* don&#39;t exclude Object.class */), new ResourcesScanner())\r\n    \t.setUrls(ClasspathHelper.forClassLoader(classLoadersList.toArray(new ClassLoader[0])))\r\n        .filterInputsBy(new FilterBuilder().include(FilterBuilder.prefix(&quot;org.your.package&quot;))));\r\n\r\nThen you can query for all objects in a given package:\r\n\r\n    Set&lt;Class&lt;?&gt;&gt; classes = reflections.getSubTypesOf(Object.class);\r\n\r\n  [1]: https://github.com/ronmamo/reflections\r\n\r\n","title":"Can you find all classes in a package using reflection?","body":"<p>You should probably take a look at the open source <a href=\"https://github.com/ronmamo/reflections\" rel=\"noreferrer\">Reflections library</a>. With it you can easily achieve what you want.</p>\n\n<p>First, setup the reflections index (it's a bit messy since searching for all classes is disabled by default):</p>\n\n<pre><code>List&lt;ClassLoader&gt; classLoadersList = new LinkedList&lt;ClassLoader&gt;();\nclassLoadersList.add(ClasspathHelper.contextClassLoader());\nclassLoadersList.add(ClasspathHelper.staticClassLoader());\n\nReflections reflections = new Reflections(new ConfigurationBuilder()\n    .setScanners(new SubTypesScanner(false /* don't exclude Object.class */), new ResourcesScanner())\n    .setUrls(ClasspathHelper.forClassLoader(classLoadersList.toArray(new ClassLoader[0])))\n    .filterInputsBy(new FilterBuilder().include(FilterBuilder.prefix(\"org.your.package\"))));\n</code></pre>\n\n<p>Then you can query for all objects in a given package:</p>\n\n<pre><code>Set&lt;Class&lt;?&gt;&gt; classes = reflections.getSubTypesOf(Object.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":176808,"reputation":41960,"user_id":407731,"accept_rate":77,"display_name":"Dave Dopson"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1351115399,"creation_date":1351115399,"answer_id":13058324,"question_id":520328,"body_markdown":"I put together a simple github project that solves this problem:\r\n\r\nhttps://github.com/ddopson/java-class-enumerator\r\n\r\nIt should work for BOTH file-based classpaths AND for jar files.\r\n\r\nIf you run &#39;make&#39; after checking out the project it will print this out:\r\n&lt;pre&gt;&lt;code&gt; Cleaning...\r\nrm -rf build/\r\n Building...\r\njavac -d build/classes src/pro/ddopson/ClassEnumerator.java src/test/ClassIShouldFindOne.java src/test/ClassIShouldFindTwo.java src/test/subpkg/ClassIShouldFindThree.java src/test/TestClassEnumeration.java\r\n Making JAR Files...\r\njar cf build/ClassEnumerator_test.jar -C build/classes/ . \r\njar cf build/ClassEnumerator.jar -C build/classes/ pro\r\n Running Filesystem Classpath Test...\r\njava -classpath build/classes test.TestClassEnumeration\r\nClassDiscovery: Package: &#39;test&#39; becomes Resource: &#39;file:/Users/Dopson/work/other/java-class-enumeration/build/classes/test&#39;\r\nClassDiscovery: Reading Directory &#39;/Users/Dopson/work/other/java-class-enumeration/build/classes/test&#39;\r\nClassDiscovery: FileName &#39;ClassIShouldFindOne.class&#39;  =&gt;  class &#39;test.ClassIShouldFindOne&#39;\r\nClassDiscovery: FileName &#39;ClassIShouldFindTwo.class&#39;  =&gt;  class &#39;test.ClassIShouldFindTwo&#39;\r\nClassDiscovery: FileName &#39;subpkg&#39;  =&gt;  class &#39;null&#39;\r\nClassDiscovery: Reading Directory &#39;/Users/Dopson/work/other/java-class-enumeration/build/classes/test/subpkg&#39;\r\nClassDiscovery: FileName &#39;ClassIShouldFindThree.class&#39;  =&gt;  class &#39;test.subpkg.ClassIShouldFindThree&#39;\r\nClassDiscovery: FileName &#39;TestClassEnumeration.class&#39;  =&gt;  class &#39;test.TestClassEnumeration&#39;\r\n Running JAR Classpath Test...\r\njava -classpath build/ClassEnumerator_test.jar  test.TestClassEnumeration\r\nClassDiscovery: Package: &#39;test&#39; becomes Resource: &#39;jar:file:/Users/Dopson/work/other/java-class-enumeration/build/ClassEnumerator_test.jar!/test&#39;\r\nClassDiscovery: Reading JAR file: &#39;/Users/Dopson/work/other/java-class-enumeration/build/ClassEnumerator_test.jar&#39;\r\nClassDiscovery: JarEntry &#39;META-INF/&#39;  =&gt;  class &#39;null&#39;\r\nClassDiscovery: JarEntry &#39;META-INF/MANIFEST.MF&#39;  =&gt;  class &#39;null&#39;\r\nClassDiscovery: JarEntry &#39;pro/&#39;  =&gt;  class &#39;null&#39;\r\nClassDiscovery: JarEntry &#39;pro/ddopson/&#39;  =&gt;  class &#39;null&#39;\r\nClassDiscovery: JarEntry &#39;pro/ddopson/ClassEnumerator.class&#39;  =&gt;  class &#39;null&#39;\r\nClassDiscovery: JarEntry &#39;test/&#39;  =&gt;  class &#39;null&#39;\r\nClassDiscovery: JarEntry &#39;test/ClassIShouldFindOne.class&#39;  =&gt;  class &#39;test.ClassIShouldFindOne&#39;\r\nClassDiscovery: JarEntry &#39;test/ClassIShouldFindTwo.class&#39;  =&gt;  class &#39;test.ClassIShouldFindTwo&#39;\r\nClassDiscovery: JarEntry &#39;test/subpkg/&#39;  =&gt;  class &#39;null&#39;\r\nClassDiscovery: JarEntry &#39;test/subpkg/ClassIShouldFindThree.class&#39;  =&gt;  class &#39;test.subpkg.ClassIShouldFindThree&#39;\r\nClassDiscovery: JarEntry &#39;test/TestClassEnumeration.class&#39;  =&gt;  class &#39;test.TestClassEnumeration&#39;\r\n Tests Passed. \r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n\r\nSee also [my other answer](https://stackoverflow.com/questions/176527/how-can-i-enumerate-all-classes-in-a-package-and-add-them-to-a-list/3527428#3527428)","title":"Can you find all classes in a package using reflection?","body":"<p>I put together a simple github project that solves this problem:</p>\n\n<p><a href=\"https://github.com/ddopson/java-class-enumerator\" rel=\"nofollow noreferrer\">https://github.com/ddopson/java-class-enumerator</a></p>\n\n<p>It should work for BOTH file-based classpaths AND for jar files.</p>\n\n<p>If you run 'make' after checking out the project it will print this out:</p>\n\n<pre><code> Cleaning...\nrm -rf build/\n Building...\njavac -d build/classes src/pro/ddopson/ClassEnumerator.java src/test/ClassIShouldFindOne.java src/test/ClassIShouldFindTwo.java src/test/subpkg/ClassIShouldFindThree.java src/test/TestClassEnumeration.java\n Making JAR Files...\njar cf build/ClassEnumerator_test.jar -C build/classes/ . \njar cf build/ClassEnumerator.jar -C build/classes/ pro\n Running Filesystem Classpath Test...\njava -classpath build/classes test.TestClassEnumeration\nClassDiscovery: Package: 'test' becomes Resource: 'file:/Users/Dopson/work/other/java-class-enumeration/build/classes/test'\nClassDiscovery: Reading Directory '/Users/Dopson/work/other/java-class-enumeration/build/classes/test'\nClassDiscovery: FileName 'ClassIShouldFindOne.class'  =>  class 'test.ClassIShouldFindOne'\nClassDiscovery: FileName 'ClassIShouldFindTwo.class'  =>  class 'test.ClassIShouldFindTwo'\nClassDiscovery: FileName 'subpkg'  =>  class 'null'\nClassDiscovery: Reading Directory '/Users/Dopson/work/other/java-class-enumeration/build/classes/test/subpkg'\nClassDiscovery: FileName 'ClassIShouldFindThree.class'  =>  class 'test.subpkg.ClassIShouldFindThree'\nClassDiscovery: FileName 'TestClassEnumeration.class'  =>  class 'test.TestClassEnumeration'\n Running JAR Classpath Test...\njava -classpath build/ClassEnumerator_test.jar  test.TestClassEnumeration\nClassDiscovery: Package: 'test' becomes Resource: 'jar:file:/Users/Dopson/work/other/java-class-enumeration/build/ClassEnumerator_test.jar!/test'\nClassDiscovery: Reading JAR file: '/Users/Dopson/work/other/java-class-enumeration/build/ClassEnumerator_test.jar'\nClassDiscovery: JarEntry 'META-INF/'  =>  class 'null'\nClassDiscovery: JarEntry 'META-INF/MANIFEST.MF'  =>  class 'null'\nClassDiscovery: JarEntry 'pro/'  =>  class 'null'\nClassDiscovery: JarEntry 'pro/ddopson/'  =>  class 'null'\nClassDiscovery: JarEntry 'pro/ddopson/ClassEnumerator.class'  =>  class 'null'\nClassDiscovery: JarEntry 'test/'  =>  class 'null'\nClassDiscovery: JarEntry 'test/ClassIShouldFindOne.class'  =>  class 'test.ClassIShouldFindOne'\nClassDiscovery: JarEntry 'test/ClassIShouldFindTwo.class'  =>  class 'test.ClassIShouldFindTwo'\nClassDiscovery: JarEntry 'test/subpkg/'  =>  class 'null'\nClassDiscovery: JarEntry 'test/subpkg/ClassIShouldFindThree.class'  =>  class 'test.subpkg.ClassIShouldFindThree'\nClassDiscovery: JarEntry 'test/TestClassEnumeration.class'  =>  class 'test.TestClassEnumeration'\n Tests Passed. \n</code></pre>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/176527/how-can-i-enumerate-all-classes-in-a-package-and-add-them-to-a-list/3527428#3527428\">my other answer</a></p>\n"},{"comments":[{"owner":{"account_id":143638,"reputation":2719,"user_id":352109,"accept_rate":81,"display_name":"Riccardo Cossu"},"score":0,"creation_date":1377162689,"post_id":13477227,"comment_id":26983598,"body_markdown":"this worked for me where Reflection couldn&#39;t do (no common direct ancestor, no common annotation)","body":"this worked for me where Reflection couldn&#39;t do (no common direct ancestor, no common annotation)"},{"owner":{"account_id":2296797,"reputation":6110,"user_id":2018047,"accept_rate":51,"display_name":"Christian"},"score":1,"creation_date":1420811112,"post_id":13477227,"comment_id":44126044,"body_markdown":"As I mentioned in [a comment below](http://stackoverflow.com/questions/520328/can-you-find-all-classes-in-a-package-using-reflection/21430849?noredirect=1#comment44123698_21430849), `ClassPath` is tagged with `@Beta`, so might not be a good idea for some...","body":"As I mentioned in <a href=\"http://stackoverflow.com/questions/520328/can-you-find-all-classes-in-a-package-using-reflection/21430849?noredirect=1#comment44123698_21430849\">a comment below</a>, <code>ClassPath</code> is tagged with <code>@Beta</code>, so might not be a good idea for some..."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1471521189,"post_id":13477227,"comment_id":65385284,"body_markdown":"Saying that this works where reflection doesn&#39;t do is a bit strange, the solution undoubtedly is implemented using reflection (and class loader) functionality.","body":"Saying that this works where reflection doesn&#39;t do is a bit strange, the solution undoubtedly is implemented using reflection (and class loader) functionality."},{"owner":{"account_id":320110,"reputation":9175,"user_id":638225,"display_name":"Christoph Leiter"},"score":7,"creation_date":1471523198,"post_id":13477227,"comment_id":65386699,"body_markdown":"I think he meant the Reflections library mentioned in the other answer.","body":"I think he meant the Reflections library mentioned in the other answer."},{"owner":{"account_id":3191536,"reputation":1984,"user_id":2695666,"display_name":"gorjanz"},"score":1,"creation_date":1573556391,"post_id":13477227,"comment_id":103912003,"body_markdown":"Works under Java 11, if using guava version 28.1-jre.","body":"Works under Java 11, if using guava version 28.1-jre."},{"owner":{"account_id":5478090,"reputation":425,"user_id":4355529,"accept_rate":33,"display_name":"isopropylcyanide"},"score":1,"creation_date":1584722436,"post_id":13477227,"comment_id":107532622,"body_markdown":"This class is still unstable and marked as @Beta even after 8 years. I wonder what gives.","body":"This class is still unstable and marked as @Beta even after 8 years. I wonder what gives."},{"owner":{"account_id":2294678,"reputation":5598,"user_id":2016436,"accept_rate":74,"display_name":"asherbret"},"score":0,"creation_date":1642066957,"post_id":13477227,"comment_id":124975016,"body_markdown":"`@Beta` has been recently [removed](https://github.com/google/guava/commit/9f6a38402076fc0a85a48627c16312c50887435a) from the source but as far as I know, there is yet a release with this change. Anyway, `ClassPath` itself recommends to use [classgraph](https://github.com/classgraph/classgraph/wiki) instead.","body":"<code>@Beta</code> has been recently <a href=\"https://github.com/google/guava/commit/9f6a38402076fc0a85a48627c16312c50887435a\" rel=\"nofollow noreferrer\">removed</a> from the source but as far as I know, there is yet a release with this change. Anyway, <code>ClassPath</code> itself recommends to use <a href=\"https://github.com/classgraph/classgraph/wiki\" rel=\"nofollow noreferrer\">classgraph</a> instead."}],"tags":[],"owner":{"account_id":320110,"reputation":9175,"user_id":638225,"display_name":"Christoph Leiter"},"comment_count":7,"down_vote_count":1,"up_vote_count":147,"is_accepted":false,"score":146,"last_activity_date":1678717402,"creation_date":1353427586,"answer_id":13477227,"question_id":520328,"body_markdown":"Google Guava 14 includes a new class [`ClassPath`][1] with three methods to scan for top level classes:\r\n\r\n* `getTopLevelClasses()`\r\n* `getTopLevelClasses(String packageName)`\r\n* `getTopLevelClassesRecursive(String packageName)`\r\n\r\nSee the [`ClassPath` javadocs][2] for more info.\r\n\r\n\r\n  [1]: https://github.com/google/guava/blob/master/guava/src/com/google/common/reflect/ClassPath.java\r\n  [2]: http://google.github.io/guava/releases/17.0/api/docs/index.html?com/google/common/reflect/ClassPath.html","title":"Can you find all classes in a package using reflection?","body":"<p>Google Guava 14 includes a new class <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/reflect/ClassPath.java\" rel=\"nofollow noreferrer\"><code>ClassPath</code></a> with three methods to scan for top level classes:</p>\n<ul>\n<li><code>getTopLevelClasses()</code></li>\n<li><code>getTopLevelClasses(String packageName)</code></li>\n<li><code>getTopLevelClassesRecursive(String packageName)</code></li>\n</ul>\n<p>See the <a href=\"http://google.github.io/guava/releases/17.0/api/docs/index.html?com/google/common/reflect/ClassPath.html\" rel=\"nofollow noreferrer\"><code>ClassPath</code> javadocs</a> for more info.</p>\n"},{"comments":[{"owner":{"account_id":105902,"reputation":3968,"user_id":282345,"accept_rate":88,"display_name":"asgs"},"score":0,"creation_date":1371536956,"post_id":14002663,"comment_id":24845476,"body_markdown":"does this discover classes packaged in a Jar? It doesn&#39;t seem to work for me.","body":"does this discover classes packaged in a Jar? It doesn&#39;t seem to work for me."},{"owner":{"account_id":1129788,"reputation":1470,"user_id":1116153,"display_name":"Sławek"},"score":0,"creation_date":1371564602,"post_id":14002663,"comment_id":24861221,"body_markdown":"which tool you are trying to use?","body":"which tool you are trying to use?"},{"owner":{"account_id":105902,"reputation":3968,"user_id":282345,"accept_rate":88,"display_name":"asgs"},"score":0,"creation_date":1371569543,"post_id":14002663,"comment_id":24864584,"body_markdown":"I&#39;m using the Reflections lib. But I got it working after following the workaround mentioned by @Aleksander Blomsk&#248;ld for recent versions of this lib.","body":"I&#39;m using the Reflections lib. But I got it working after following the workaround mentioned by @Aleksander Blomsk&#248;ld for recent versions of this lib."},{"owner":{"account_id":6315376,"reputation":574,"user_id":4905563,"display_name":"Juan"},"score":0,"creation_date":1551265597,"post_id":14002663,"comment_id":96575178,"body_markdown":"Hi, I&#39;m using eclipse and cannot get it working, ClassIndex.getPackageClasses(&quot;my.package&quot;) return an empty map","body":"Hi, I&#39;m using eclipse and cannot get it working, ClassIndex.getPackageClasses(&quot;my.package&quot;) return an empty map"}],"tags":[],"owner":{"account_id":1129788,"reputation":1470,"user_id":1116153,"display_name":"Sławek"},"comment_count":4,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1392834060,"creation_date":1356177750,"answer_id":14002663,"question_id":520328,"body_markdown":"In general class loaders do not allow for scanning through all the classes on the classpath. But usually the only used class loader is UrlClassLoader from which we can retrieve the list of directories and jar files (see [getURLs][1]) and open them one by one to list available classes. This approach, called class path scanning, is implemented in [Scannotation][4] and [Reflections][5].\r\n\r\n    Reflections reflections = new Reflections(&quot;my.package&quot;);\r\n    Set&lt;Class&lt;? extends Object&gt;&gt; classes = reflections.getSubTypesOf(Object.class);\r\n\r\nAnother approach is to use [Java Pluggable Annotation Processing API][3] to write annotation processor which will collect all annotated classes at compile time and build the index file for runtime use. This mechanism is implemented in [ClassIndex][2] library:\r\n\r\n    // package-info.java\r\n    @IndexSubclasses\r\n    package my.package;\r\n\r\n    // your code\r\n    Iterable&lt;Class&gt; classes = ClassIndex.getPackageClasses(&quot;my.package&quot;);\r\n\r\nNotice that no additional setup is needed as the scanning is fully automated thanks to Java compiler automatically discovering any processors found on the classpath.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/net/URLClassLoader.html#getURLs%28%29\r\n  [2]: https://github.com/atteo/classindex\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/javax/annotation/processing/Processor.html\r\n  [4]: http://scannotation.sourceforge.net/\r\n  [5]: https://code.google.com/p/reflections/","title":"Can you find all classes in a package using reflection?","body":"<p>In general class loaders do not allow for scanning through all the classes on the classpath. But usually the only used class loader is UrlClassLoader from which we can retrieve the list of directories and jar files (see <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/URLClassLoader.html#getURLs%28%29\">getURLs</a>) and open them one by one to list available classes. This approach, called class path scanning, is implemented in <a href=\"http://scannotation.sourceforge.net/\">Scannotation</a> and <a href=\"https://code.google.com/p/reflections/\">Reflections</a>.</p>\n\n<pre><code>Reflections reflections = new Reflections(\"my.package\");\nSet&lt;Class&lt;? extends Object&gt;&gt; classes = reflections.getSubTypesOf(Object.class);\n</code></pre>\n\n<p>Another approach is to use <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/annotation/processing/Processor.html\">Java Pluggable Annotation Processing API</a> to write annotation processor which will collect all annotated classes at compile time and build the index file for runtime use. This mechanism is implemented in <a href=\"https://github.com/atteo/classindex\">ClassIndex</a> library:</p>\n\n<pre><code>// package-info.java\n@IndexSubclasses\npackage my.package;\n\n// your code\nIterable&lt;Class&gt; classes = ClassIndex.getPackageClasses(\"my.package\");\n</code></pre>\n\n<p>Notice that no additional setup is needed as the scanning is fully automated thanks to Java compiler automatically discovering any processors found on the classpath.</p>\n"},{"comments":[{"owner":{"account_id":4004282,"reputation":6125,"user_id":3299397,"accept_rate":61,"display_name":"Kyle Bridenstine"},"score":0,"creation_date":1406122772,"post_id":19000174,"comment_id":38704598,"body_markdown":"What would you enter for a package in a Jar file?","body":"What would you enter for a package in a Jar file?"},{"owner":{"account_id":2296797,"reputation":6110,"user_id":2018047,"accept_rate":51,"display_name":"Christian"},"score":0,"creation_date":1420818588,"post_id":19000174,"comment_id":44130746,"body_markdown":"This example will not go through sub-packages. Maybe that&#39;s of interest to some... @mr-tea Just specify the package you are looking for. I put this in a project, specified a test package within that project, compiled and packaged it and called the example form the JAR&#39;s main method. Worked like a charm. :)","body":"This example will not go through sub-packages. Maybe that&#39;s of interest to some... @mr-tea Just specify the package you are looking for. I put this in a project, specified a test package within that project, compiled and packaged it and called the example form the JAR&#39;s main method. Worked like a charm. :)"}],"tags":[],"owner":{"account_id":253331,"reputation":22640,"user_id":531954,"accept_rate":69,"display_name":"Danubian Sailor"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1380098696,"creation_date":1380098696,"answer_id":19000174,"question_id":520328,"body_markdown":"You need to look up every class loader entry in the class path:\r\n\r\n\t\tString pkg = &quot;org/apache/commons/lang&quot;;\r\n\t\tClassLoader cl = ClassLoader.getSystemClassLoader();\r\n\t\tURL[] urls = ((URLClassLoader) cl).getURLs();\r\n\t\tfor (URL url : urls) {\r\n\t\t\tSystem.out.println(url.getFile());\r\n\t\t\tFile jar = new File(url.getFile());\r\n\t\t\t// ....\r\n\t\t}\t\r\n\r\nIf entry is directory, just look up in the right subdirectory: \r\n\r\n\tif (jar.isDirectory()) {\r\n\t\tFile subdir = new File(jar, pkg);\r\n\t\tif (!subdir.exists())\r\n\t\t\tcontinue;\r\n\t\tFile[] files = subdir.listFiles();\r\n\t\tfor (File file : files) {\r\n\t\t\tif (!file.isFile())\r\n\t\t\t\tcontinue;\r\n\t\t\tif (file.getName().endsWith(&quot;.class&quot;))\r\n\t\t\t\tSystem.out.println(&quot;Found class: &quot;\r\n\t\t\t\t\t\t+ file.getName().substring(0,\r\n\t\t\t\t\t\t\t\tfile.getName().length() - 6));\r\n\t\t}\r\n\t}\t\r\n\r\nIf the entry is the file, and it&#39;s jar, inspect the ZIP entries of it: \r\n\r\n\telse {\r\n\t\t// try to open as ZIP\r\n\t\ttry {\r\n\t\t\tZipFile zip = new ZipFile(jar);\r\n\t\t\tfor (Enumeration&lt;? extends ZipEntry&gt; entries = zip\r\n\t\t\t\t\t.entries(); entries.hasMoreElements();) {\r\n\t\t\t\tZipEntry entry = entries.nextElement();\r\n\t\t\t\tString name = entry.getName();\r\n\t\t\t\tif (!name.startsWith(pkg))\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\tname = name.substring(pkg.length() + 1);\r\n\t\t\t\tif (name.indexOf(&#39;/&#39;) &lt; 0 &amp;&amp; name.endsWith(&quot;.class&quot;))\r\n\t\t\t\t\tSystem.out.println(&quot;Found class: &quot;\r\n\t\t\t\t\t\t\t+ name.substring(0, name.length() - 6));\r\n\t\t\t}\r\n\t\t} catch (ZipException e) {\r\n\t\t\tSystem.out.println(&quot;Not a ZIP: &quot; + e.getMessage());\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.println(e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\nNow once you have all class names withing package, you can try loading them with reflection and analyze if they are classes or interfaces, etc.","title":"Can you find all classes in a package using reflection?","body":"<p>You need to look up every class loader entry in the class path:</p>\n\n<pre><code>    String pkg = \"org/apache/commons/lang\";\n    ClassLoader cl = ClassLoader.getSystemClassLoader();\n    URL[] urls = ((URLClassLoader) cl).getURLs();\n    for (URL url : urls) {\n        System.out.println(url.getFile());\n        File jar = new File(url.getFile());\n        // ....\n    }   \n</code></pre>\n\n<p>If entry is directory, just look up in the right subdirectory: </p>\n\n<pre><code>if (jar.isDirectory()) {\n    File subdir = new File(jar, pkg);\n    if (!subdir.exists())\n        continue;\n    File[] files = subdir.listFiles();\n    for (File file : files) {\n        if (!file.isFile())\n            continue;\n        if (file.getName().endsWith(\".class\"))\n            System.out.println(\"Found class: \"\n                    + file.getName().substring(0,\n                            file.getName().length() - 6));\n    }\n}   \n</code></pre>\n\n<p>If the entry is the file, and it's jar, inspect the ZIP entries of it: </p>\n\n<pre><code>else {\n    // try to open as ZIP\n    try {\n        ZipFile zip = new ZipFile(jar);\n        for (Enumeration&lt;? extends ZipEntry&gt; entries = zip\n                .entries(); entries.hasMoreElements();) {\n            ZipEntry entry = entries.nextElement();\n            String name = entry.getName();\n            if (!name.startsWith(pkg))\n                continue;\n            name = name.substring(pkg.length() + 1);\n            if (name.indexOf('/') &lt; 0 &amp;&amp; name.endsWith(\".class\"))\n                System.out.println(\"Found class: \"\n                        + name.substring(0, name.length() - 6));\n        }\n    } catch (ZipException e) {\n        System.out.println(\"Not a ZIP: \" + e.getMessage());\n    } catch (IOException e) {\n        System.err.println(e.getMessage());\n    }\n}\n</code></pre>\n\n<p>Now once you have all class names withing package, you can try loading them with reflection and analyze if they are classes or interfaces, etc.</p>\n"},{"tags":[],"owner":{"account_id":2415063,"reputation":1037,"user_id":2109292,"display_name":"Mart&#237;n C"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1386111542,"creation_date":1386093155,"answer_id":20358207,"question_id":520328,"body_markdown":"I&#39;ve been trying to use the Reflections library, but had some problems using it, and there were too many jars I should include just to simply obtain the classes on a package.\r\n\r\nI&#39;ll post a solution I&#39;ve found in this duplicate question: https://stackoverflow.com/questions/15519626/how-to-get-all-classes-names-in-a-package\r\n\r\nThe [answer was written by sp00m][1]; I&#39;ve added some corrections to make it work:\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import java.util.Enumeration;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    \r\n    public final class ClassFinder {\r\n    \r\n        private final static char DOT = &#39;.&#39;;\r\n        private final static char SLASH = &#39;/&#39;;\r\n        private final static String CLASS_SUFFIX = &quot;.class&quot;;\r\n        private final static String BAD_PACKAGE_ERROR = &quot;Unable to get resources from path &#39;%s&#39;. Are you sure the given &#39;%s&#39; package exists?&quot;;\r\n    \r\n        public final static List&lt;Class&lt;?&gt;&gt; find(final String scannedPackage) {\r\n            final ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\r\n            final String scannedPath = scannedPackage.replace(DOT, SLASH);\r\n            final Enumeration&lt;URL&gt; resources;\r\n            try {\r\n                resources = classLoader.getResources(scannedPath);\r\n            } catch (IOException e) {\r\n                throw new IllegalArgumentException(String.format(BAD_PACKAGE_ERROR, scannedPath, scannedPackage), e);\r\n            }\r\n            final List&lt;Class&lt;?&gt;&gt; classes = new LinkedList&lt;Class&lt;?&gt;&gt;();\r\n            while (resources.hasMoreElements()) {\r\n                final File file = new File(resources.nextElement().getFile());\r\n               \tclasses.addAll(find(file, scannedPackage));\r\n            }\r\n            return classes;\r\n        }\r\n    \r\n        private final static List&lt;Class&lt;?&gt;&gt; find(final File file, final String scannedPackage) {\r\n            final List&lt;Class&lt;?&gt;&gt; classes = new LinkedList&lt;Class&lt;?&gt;&gt;();\r\n            if (file.isDirectory()) {\r\n                for (File nestedFile : file.listFiles()) {\r\n                    classes.addAll(find(nestedFile, scannedPackage));\r\n                }\r\n            //File names with the $1, $2 holds the anonymous inner classes, we are not interested on them. \r\n            } else if (file.getName().endsWith(CLASS_SUFFIX) &amp;&amp; !file.getName().contains(&quot;$&quot;)) {\r\n    \r\n            \tfinal int beginIndex = 0;\r\n                final int endIndex = file.getName().length() - CLASS_SUFFIX.length();\r\n                final String className = file.getName().substring(beginIndex, endIndex);\r\n                try {\r\n                \tfinal String resource = scannedPackage + DOT + className;\r\n                    classes.add(Class.forName(resource));\r\n                } catch (ClassNotFoundException ignore) {\r\n                }\r\n            }\r\n            return classes;\r\n        }\r\n    \r\n    }\r\n\r\nTo use it just call the find method as sp00n mentioned in this example:\r\nI&#39;ve added the creation of instances of the classes if needed.\r\n\r\n    List&lt;Class&lt;?&gt;&gt; classes = ClassFinder.find(&quot;com.package&quot;);\r\n    \r\n    ExcelReporting excelReporting;\r\n    for (Class&lt;?&gt; aClass : classes) {\r\n    \tConstructor constructor = aClass.getConstructor();\r\n    \t//Create an object of the class type\r\n    \tconstructor.newInstance();\r\n    \t//...\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/15519626/how-to-get-all-classes-names-in-a-package/15519745#15519745","title":"Can you find all classes in a package using reflection?","body":"<p>I've been trying to use the Reflections library, but had some problems using it, and there were too many jars I should include just to simply obtain the classes on a package.</p>\n\n<p>I'll post a solution I've found in this duplicate question: <a href=\"https://stackoverflow.com/questions/15519626/how-to-get-all-classes-names-in-a-package\">How to get all classes names in a package?</a></p>\n\n<p>The <a href=\"https://stackoverflow.com/questions/15519626/how-to-get-all-classes-names-in-a-package/15519745#15519745\">answer was written by sp00m</a>; I've added some corrections to make it work:</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.Enumeration;\nimport java.util.LinkedList;\nimport java.util.List;\n\npublic final class ClassFinder {\n\n    private final static char DOT = '.';\n    private final static char SLASH = '/';\n    private final static String CLASS_SUFFIX = \".class\";\n    private final static String BAD_PACKAGE_ERROR = \"Unable to get resources from path '%s'. Are you sure the given '%s' package exists?\";\n\n    public final static List&lt;Class&lt;?&gt;&gt; find(final String scannedPackage) {\n        final ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\n        final String scannedPath = scannedPackage.replace(DOT, SLASH);\n        final Enumeration&lt;URL&gt; resources;\n        try {\n            resources = classLoader.getResources(scannedPath);\n        } catch (IOException e) {\n            throw new IllegalArgumentException(String.format(BAD_PACKAGE_ERROR, scannedPath, scannedPackage), e);\n        }\n        final List&lt;Class&lt;?&gt;&gt; classes = new LinkedList&lt;Class&lt;?&gt;&gt;();\n        while (resources.hasMoreElements()) {\n            final File file = new File(resources.nextElement().getFile());\n            classes.addAll(find(file, scannedPackage));\n        }\n        return classes;\n    }\n\n    private final static List&lt;Class&lt;?&gt;&gt; find(final File file, final String scannedPackage) {\n        final List&lt;Class&lt;?&gt;&gt; classes = new LinkedList&lt;Class&lt;?&gt;&gt;();\n        if (file.isDirectory()) {\n            for (File nestedFile : file.listFiles()) {\n                classes.addAll(find(nestedFile, scannedPackage));\n            }\n        //File names with the $1, $2 holds the anonymous inner classes, we are not interested on them. \n        } else if (file.getName().endsWith(CLASS_SUFFIX) &amp;&amp; !file.getName().contains(\"$\")) {\n\n            final int beginIndex = 0;\n            final int endIndex = file.getName().length() - CLASS_SUFFIX.length();\n            final String className = file.getName().substring(beginIndex, endIndex);\n            try {\n                final String resource = scannedPackage + DOT + className;\n                classes.add(Class.forName(resource));\n            } catch (ClassNotFoundException ignore) {\n            }\n        }\n        return classes;\n    }\n\n}\n</code></pre>\n\n<p>To use it just call the find method as sp00n mentioned in this example:\nI've added the creation of instances of the classes if needed.</p>\n\n<pre><code>List&lt;Class&lt;?&gt;&gt; classes = ClassFinder.find(\"com.package\");\n\nExcelReporting excelReporting;\nfor (Class&lt;?&gt; aClass : classes) {\n    Constructor constructor = aClass.getConstructor();\n    //Create an object of the class type\n    constructor.newInstance();\n    //...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1710481,"reputation":22873,"user_id":1568658,"accept_rate":82,"display_name":"Eric"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1386609100,"creation_date":1386609100,"answer_id":20476490,"question_id":520328,"body_markdown":"I just wrote a util class, it include test methods, you can have a check ~\r\n\r\nIteratePackageUtil.java:\r\n\r\n    package eric.j2se.reflect;\r\n\r\n    import java.util.Set;\r\n    \r\n    import org.reflections.Reflections;\r\n    import org.reflections.scanners.ResourcesScanner;\r\n    import org.reflections.scanners.SubTypesScanner;\r\n    import org.reflections.util.ClasspathHelper;\r\n    import org.reflections.util.ConfigurationBuilder;\r\n    import org.reflections.util.FilterBuilder;\r\n    \r\n    /**\r\n     * an util to iterate class in a package,\r\n     * \r\n     * @author eric\r\n     * @date Dec 10, 2013 12:36:46 AM\r\n     */\r\n    public class IteratePackageUtil {\r\n        /**\r\n         * &lt;p&gt;\r\n         * Get set of all class in a specified package recursively. this only support lib\r\n         * &lt;/p&gt;\r\n         * &lt;p&gt;\r\n         * class of sub package will be included, inner class will be included,\r\n         * &lt;/p&gt;\r\n         * &lt;p&gt;\r\n         * could load class that use the same classloader of current class, can&#39;t load system packages,\r\n         * &lt;/p&gt;\r\n         * \r\n         * @param pkg\r\n         *            path of a package\r\n         * @return\r\n         */\r\n        public static Set&lt;Class&lt;? extends Object&gt;&gt; getClazzSet(String pkg) {\r\n            // prepare reflection, include direct subclass of Object.class\r\n            Reflections reflections = new Reflections(new ConfigurationBuilder().setScanners(new SubTypesScanner(false), new ResourcesScanner())\r\n                    .setUrls(ClasspathHelper.forClassLoader(ClasspathHelper.classLoaders(new ClassLoader[0])))\r\n                    .filterInputsBy(new FilterBuilder().includePackage(pkg)));\r\n    \r\n            return reflections.getSubTypesOf(Object.class);\r\n        }\r\n    \r\n        public static void test() {\r\n            String pkg = &quot;org.apache.tomcat.util&quot;;\r\n    \r\n            Set&lt;Class&lt;? extends Object&gt;&gt; clazzSet = getClazzSet(pkg);\r\n            for (Class&lt;? extends Object&gt; clazz : clazzSet) {\r\n                System.out.println(clazz.getName());\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            test();\r\n        }\r\n    }\r\n\r\n","title":"Can you find all classes in a package using reflection?","body":"<p>I just wrote a util class, it include test methods, you can have a check ~</p>\n\n<p>IteratePackageUtil.java:</p>\n\n<pre><code>package eric.j2se.reflect;\n\nimport java.util.Set;\n\nimport org.reflections.Reflections;\nimport org.reflections.scanners.ResourcesScanner;\nimport org.reflections.scanners.SubTypesScanner;\nimport org.reflections.util.ClasspathHelper;\nimport org.reflections.util.ConfigurationBuilder;\nimport org.reflections.util.FilterBuilder;\n\n/**\n * an util to iterate class in a package,\n * \n * @author eric\n * @date Dec 10, 2013 12:36:46 AM\n */\npublic class IteratePackageUtil {\n    /**\n     * &lt;p&gt;\n     * Get set of all class in a specified package recursively. this only support lib\n     * &lt;/p&gt;\n     * &lt;p&gt;\n     * class of sub package will be included, inner class will be included,\n     * &lt;/p&gt;\n     * &lt;p&gt;\n     * could load class that use the same classloader of current class, can't load system packages,\n     * &lt;/p&gt;\n     * \n     * @param pkg\n     *            path of a package\n     * @return\n     */\n    public static Set&lt;Class&lt;? extends Object&gt;&gt; getClazzSet(String pkg) {\n        // prepare reflection, include direct subclass of Object.class\n        Reflections reflections = new Reflections(new ConfigurationBuilder().setScanners(new SubTypesScanner(false), new ResourcesScanner())\n                .setUrls(ClasspathHelper.forClassLoader(ClasspathHelper.classLoaders(new ClassLoader[0])))\n                .filterInputsBy(new FilterBuilder().includePackage(pkg)));\n\n        return reflections.getSubTypesOf(Object.class);\n    }\n\n    public static void test() {\n        String pkg = \"org.apache.tomcat.util\";\n\n        Set&lt;Class&lt;? extends Object&gt;&gt; clazzSet = getClazzSet(pkg);\n        for (Class&lt;? extends Object&gt; clazz : clazzSet) {\n            System.out.println(clazz.getName());\n        }\n    }\n\n    public static void main(String[] args) {\n        test();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1413237,"reputation":17260,"user_id":1339429,"accept_rate":89,"display_name":"JeanValjean"},"score":8,"creation_date":1403334062,"post_id":21430849,"comment_id":37626657,"body_markdown":"Excellent answer. There are too much solutions here which are verbose, non-tested, non-working! This one is fantastic: it is concise and tested (it is from Guava). Very good! It is useful, it deserves more upvotes.","body":"Excellent answer. There are too much solutions here which are verbose, non-tested, non-working! This one is fantastic: it is concise and tested (it is from Guava). Very good! It is useful, it deserves more upvotes."},{"owner":{"account_id":2296797,"reputation":6110,"user_id":2018047,"accept_rate":51,"display_name":"Christian"},"score":0,"creation_date":1420806954,"post_id":21430849,"comment_id":44123698,"body_markdown":"Unfortunately, the `ClassPath` class in Guava is also marked with `@Beta`: &quot;APIs marked with the @Beta annotation at the class or method level are subject to change. They can be modified in any way, or even removed, in any major release. If your code is a library itself (i.e. it is used on the CLASSPATH of users outside your own control), you should not use beta APIs, unless you repackage them...&quot; http://code.google.com/p/guava-libraries/#Important_Warnings","body":"Unfortunately, the <code>ClassPath</code> class in Guava is also marked with <code>@Beta</code>: &quot;APIs marked with the @Beta annotation at the class or method level are subject to change. They can be modified in any way, or even removed, in any major release. If your code is a library itself (i.e. it is used on the CLASSPATH of users outside your own control), you should not use beta APIs, unless you repackage them...&quot; <a href=\"http://code.google.com/p/guava-libraries/#Important_Warnings\" rel=\"nofollow noreferrer\">code.google.com/p/guava-libraries/#Important_Warnings</a>"},{"owner":{"account_id":2298937,"reputation":2835,"user_id":2019710,"accept_rate":67,"display_name":"voho"},"score":0,"creation_date":1420808766,"post_id":21430849,"comment_id":44124737,"body_markdown":"@Christian Good point, I have not noticed! Thank you. I will add another answer using Spring classpath scanner, which is not beta for sure.","body":"@Christian Good point, I have not noticed! Thank you. I will add another answer using Spring classpath scanner, which is not beta for sure."},{"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"score":1,"creation_date":1455619121,"post_id":21430849,"comment_id":58558758,"body_markdown":"To find nested static classes using guava solution, `getAllClasses()` method can be used.","body":"To find nested static classes using guava solution, <code>getAllClasses()</code> method can be used."},{"owner":{"account_id":3370948,"reputation":4617,"user_id":2830167,"accept_rate":100,"display_name":"ZhaoGang"},"score":0,"creation_date":1476346807,"post_id":21430849,"comment_id":67308642,"body_markdown":"+1 for this answer, since for java developer, Spring is a by default framework that will almostly be used. The Relfections library in the most voted answer is not so easy to use like the Spring framework.","body":"+1 for this answer, since for java developer, Spring is a by default framework that will almostly be used. The Relfections library in the most voted answer is not so easy to use like the Spring framework."},{"owner":{"account_id":254135,"reputation":3720,"user_id":533317,"display_name":"btpka3"},"score":1,"creation_date":1504600406,"post_id":21430849,"comment_id":79060211,"body_markdown":"Spring example not suitable for finding not-concrete classes , such as anntation( `@RabbitListener(...) public @interface XxxListener` ) because of  the [ClassPathScanningCandidateComponentProvider#isCandidateComponent](https://github.com/spring-projects/spring-framework/blob/v4.3.10.RELEASE/spring-context/src/main/java/org/springframework/context/annotation/ClassPathScanningCandidateComponentProvider.java#L384)","body":"Spring example not suitable for finding not-concrete classes , such as anntation( <code>@RabbitListener(...) public @interface XxxListener</code> ) because of  the <a href=\"https://github.com/spring-projects/spring-framework/blob/v4.3.10.RELEASE/spring-context/src/main/java/org/springframework/context/annotation/ClassPathScanningCandidateComponentProvider.java#L384\" rel=\"nofollow noreferrer\">ClassPathScanningCandidateComponentProvider#isCandidateCompo&zwnj;&#8203;nent</a>"},{"owner":{"account_id":5351617,"reputation":1633,"user_id":4265610,"accept_rate":58,"display_name":"Luke"},"score":1,"creation_date":1516718136,"post_id":21430849,"comment_id":83796794,"body_markdown":"The Spring solution is the only working if run from an executable jar.","body":"The Spring solution is the only working if run from an executable jar."},{"owner":{"account_id":539774,"reputation":4204,"user_id":907685,"accept_rate":89,"display_name":"Ivan"},"score":0,"creation_date":1519031102,"post_id":21430849,"comment_id":84728138,"body_markdown":"I agree with the comment above. If using the guava approach with a jar file, it doesn&#39;t work.","body":"I agree with the comment above. If using the guava approach with a jar file, it doesn&#39;t work."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1563585002,"post_id":21430849,"comment_id":100760220,"body_markdown":"`ClassPathScanningCandidateComponentProvider` works, but it&#39;s really meant for Spring beans.","body":"<code>ClassPathScanningCandidateComponentProvider</code> works, but it&#39;s really meant for Spring beans."},{"owner":{"account_id":5444810,"reputation":3671,"user_id":4331750,"accept_rate":83,"display_name":"whistling_marmot"},"score":0,"creation_date":1619693108,"post_id":21430849,"comment_id":118984782,"body_markdown":"To avoid the checked exception from `Class.forName(bean.getBeanClassName())`, you can use Spring&#39;s `ClassUtils.resolveClassName(bean.getBeanClassName(), null)`","body":"To avoid the checked exception from <code>Class.forName(bean.getBeanClassName())</code>, you can use Spring&#39;s <code>ClassUtils.resolveClassName(bean.getBeanClassName(), null)</code>"}],"tags":[],"owner":{"account_id":2298937,"reputation":2835,"user_id":2019710,"accept_rate":67,"display_name":"voho"},"comment_count":10,"down_vote_count":2,"up_vote_count":129,"is_accepted":false,"score":127,"last_activity_date":1437491423,"creation_date":1390997709,"answer_id":21430849,"question_id":520328,"body_markdown":"&lt;!-- language: lang-java --&gt;\r\n\r\n## Spring\r\n\r\nThis example is for Spring 4, but you can find the classpath scanner in earlier versions as well.\r\n\r\n    // create scanner and disable default filters (that is the &#39;false&#39; argument)\r\n    final ClassPathScanningCandidateComponentProvider provider = new ClassPathScanningCandidateComponentProvider(false);\r\n    // add include filters which matches all the classes (or use your own)\r\n    provider.addIncludeFilter(new RegexPatternTypeFilter(Pattern.compile(&quot;.*&quot;)));\r\n        \r\n    // get matching classes defined in the package\r\n    final Set&lt;BeanDefinition&gt; classes = provider.findCandidateComponents(&quot;my.package.name&quot;);\r\n        \r\n    // this is how you can load the class type from BeanDefinition instance\r\n    for (BeanDefinition bean: classes) {\r\n        Class&lt;?&gt; clazz = Class.forName(bean.getBeanClassName());\r\n        // ... do your magic with the class ...\r\n    }\r\n\r\n## Google Guava\r\n\r\n**Note:** In version 14, the API is still marked as *@Beta*, so beware in production code.\r\n\r\n    final ClassLoader loader = Thread.currentThread().getContextClassLoader();\r\n\r\n    for (final ClassPath.ClassInfo info : ClassPath.from(loader).getTopLevelClasses()) {\r\n      if (info.getName().startsWith(&quot;my.package.&quot;)) {\r\n        final Class&lt;?&gt; clazz = info.load();\r\n        // do something with your clazz\r\n      }\r\n    }","title":"Can you find all classes in a package using reflection?","body":"<h2>Spring</h2>\n\n<p>This example is for Spring 4, but you can find the classpath scanner in earlier versions as well.</p>\n\n<pre><code>// create scanner and disable default filters (that is the 'false' argument)\nfinal ClassPathScanningCandidateComponentProvider provider = new ClassPathScanningCandidateComponentProvider(false);\n// add include filters which matches all the classes (or use your own)\nprovider.addIncludeFilter(new RegexPatternTypeFilter(Pattern.compile(\".*\")));\n\n// get matching classes defined in the package\nfinal Set&lt;BeanDefinition&gt; classes = provider.findCandidateComponents(\"my.package.name\");\n\n// this is how you can load the class type from BeanDefinition instance\nfor (BeanDefinition bean: classes) {\n    Class&lt;?&gt; clazz = Class.forName(bean.getBeanClassName());\n    // ... do your magic with the class ...\n}\n</code></pre>\n\n<h2>Google Guava</h2>\n\n<p><strong>Note:</strong> In version 14, the API is still marked as <em>@Beta</em>, so beware in production code.</p>\n\n<pre><code>final ClassLoader loader = Thread.currentThread().getContextClassLoader();\n\nfor (final ClassPath.ClassInfo info : ClassPath.from(loader).getTopLevelClasses()) {\n  if (info.getName().startsWith(\"my.package.\")) {\n    final Class&lt;?&gt; clazz = info.load();\n    // do something with your clazz\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2296797,"reputation":6110,"user_id":2018047,"accept_rate":51,"display_name":"Christian"},"score":1,"creation_date":1420817163,"post_id":21840860,"comment_id":44129790,"body_markdown":"When I run this in a JAR, `upackage` is `null`... :(","body":"When I run this in a JAR, <code>upackage</code> is <code>null</code>... :("},{"owner":{"account_id":285638,"reputation":10283,"user_id":584420,"accept_rate":60,"display_name":"James Jithin"},"score":1,"creation_date":1458207076,"post_id":21840860,"comment_id":59759940,"body_markdown":"For a package &quot;com.mycompany.beans&quot;, replace &quot;test&quot; with &quot;com/mycompany/beans&quot;","body":"For a package &quot;com.mycompany.beans&quot;, replace &quot;test&quot; with &quot;com/mycompany/beans&quot;"},{"owner":{"account_id":383261,"reputation":390,"user_id":738996,"display_name":"Alao"},"score":6,"creation_date":1479921483,"post_id":21840860,"comment_id":68765038,"body_markdown":"I get a null when using this code.  Seems to only work if your jar is an executable","body":"I get a null when using this code.  Seems to only work if your jar is an executable"},{"owner":{"account_id":3174720,"reputation":520,"user_id":2682877,"accept_rate":78,"display_name":"user2682877"},"score":2,"creation_date":1557840223,"post_id":21840860,"comment_id":98894066,"body_markdown":"if you obtained the package name from `String pack = getPackage().getName();`, then you have to add `pack = pack.replaceAll(&quot;[.]&quot;, &quot;/&quot;);`","body":"if you obtained the package name from <code>String pack = getPackage().getName();</code>, then you have to add <code>pack = pack.replaceAll(&quot;[.]&quot;, &quot;&#47;&quot;);</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699891617,"post_id":21840860,"comment_id":136584770,"body_markdown":"Letting aside that there is no guaranty that you can read a directory (or directory-like resource) this way, what is the reason to write `(InputStream) upackage.getContent()` instead of a straight-forward `upackage.openStream()`? Further, the `readLine` method of `DataInputStream` is *deprecated since Java&#160;1.1* and the correct alternative `BufferedReader` &gt; `InputStreamReader` exists since that version. Which means, even by the time this answer was written, it was deprecated for 17 years already.","body":"Letting aside that there is no guaranty that you can read a directory (or directory-like resource) this way, what is the reason to write <code>(InputStream) upackage.getContent()</code> instead of a straight-forward <code>upackage.openStream()</code>? Further, the <code>readLine</code> method of <code>DataInputStream</code> is <i>deprecated since Java 1.1</i> and the correct alternative <code>BufferedReader</code> &gt; <code>InputStreamReader</code> exists since that version. Which means, even by the time this answer was written, it was deprecated for 17 years already."}],"tags":[],"owner":{"account_id":3551830,"reputation":301,"user_id":2966520,"display_name":"Williams L&#243;pez"},"comment_count":5,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1420819022,"creation_date":1392677337,"answer_id":21840860,"question_id":520328,"body_markdown":"Without using any extra libraries:\r\n\r\n    package test;\r\n\r\n    import java.io.DataInputStream;\r\n    import java.io.InputStream;\r\n    import java.net.URL;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) throws Exception{\r\n            List&lt;Class&gt; classes = getClasses(Test.class.getClassLoader(),&quot;test&quot;);\r\n            for(Class c:classes){\r\n                System.out.println(&quot;Class: &quot;+c);\r\n            }\r\n        }\r\n        \r\n        public static List&lt;Class&gt; getClasses(ClassLoader cl,String pack) throws Exception{\r\n            \r\n            String dottedPackage = pack.replaceAll(&quot;[/]&quot;, &quot;.&quot;);\r\n            List&lt;Class&gt; classes = new ArrayList&lt;Class&gt;();\r\n            URL upackage = cl.getResource(pack);\r\n            \r\n            DataInputStream dis = new DataInputStream((InputStream) upackage.getContent());\r\n            String line = null;\r\n            while ((line = dis.readLine()) != null) {\r\n                if(line.endsWith(&quot;.class&quot;)) {\r\n                   classes.add(Class.forName(dottedPackage+&quot;.&quot;+line.substring(0,line.lastIndexOf(&#39;.&#39;))));\r\n                }\r\n            }\r\n            return classes;\r\n        }\r\n    }","title":"Can you find all classes in a package using reflection?","body":"<p>Without using any extra libraries:</p>\n\n<pre><code>package test;\n\nimport java.io.DataInputStream;\nimport java.io.InputStream;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Test {\n    public static void main(String[] args) throws Exception{\n        List&lt;Class&gt; classes = getClasses(Test.class.getClassLoader(),\"test\");\n        for(Class c:classes){\n            System.out.println(\"Class: \"+c);\n        }\n    }\n\n    public static List&lt;Class&gt; getClasses(ClassLoader cl,String pack) throws Exception{\n\n        String dottedPackage = pack.replaceAll(\"[/]\", \".\");\n        List&lt;Class&gt; classes = new ArrayList&lt;Class&gt;();\n        URL upackage = cl.getResource(pack);\n\n        DataInputStream dis = new DataInputStream((InputStream) upackage.getContent());\n        String line = null;\n        while ((line = dis.readLine()) != null) {\n            if(line.endsWith(\".class\")) {\n               classes.add(Class.forName(dottedPackage+\".\"+line.substring(0,line.lastIndexOf('.'))));\n            }\n        }\n        return classes;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2296797,"reputation":6110,"user_id":2018047,"accept_rate":51,"display_name":"Christian"},"score":4,"creation_date":1427714703,"post_id":22462785,"comment_id":46875972,"body_markdown":"This example seems to require importing `sun.net.www.protocol.file.FileURLConnection`, which generates a warning at compile-time (&quot;warning: sun.net.www.protocol.file.FileURLConnection is Sun proprietary API and may be removed in a future release&quot;). Is there an alternative to using that class, or can the warning be suppressed using annotations?","body":"This example seems to require importing <code>sun.net.www.protocol.file.FileURLConnection</code>, which generates a warning at compile-time (&quot;warning: sun.net.www.protocol.file.FileURLConnection is Sun proprietary API and may be removed in a future release&quot;). Is there an alternative to using that class, or can the warning be suppressed using annotations?"},{"owner":{"account_id":284283,"reputation":1417,"user_id":582298,"accept_rate":85,"display_name":"coderforlife"},"score":0,"creation_date":1463528024,"post_id":22462785,"comment_id":62100636,"body_markdown":"This method doesn&#39;t work for bootstrap classes, like those in java.lang, java.util, ... Those can be found by getting System.getProperty(&quot;sun.boot.class.path&quot;), splitting with : or ; (depending on OS), and then running slightly modified versions of the above checkDirectory and checkJarFile.","body":"This method doesn&#39;t work for bootstrap classes, like those in java.lang, java.util, ... Those can be found by getting System.getProperty(&quot;sun.boot.class.path&quot;), splitting with : or ; (depending on OS), and then running slightly modified versions of the above checkDirectory and checkJarFile."},{"owner":{"account_id":543547,"reputation":153,"user_id":4384703,"display_name":"William Deans"},"score":1,"creation_date":1483685742,"post_id":22462785,"comment_id":70206572,"body_markdown":"You can get around the warning/error by using connection.getClass().getCanonicalName().equals( &quot;sun.net.www.protocol.file.FileURLConnection&quot; ).  If you really want to you can create a URLConnection which you think SHOULD use sun.net.www.protocol.file.FileURLConnection and also compare the name of the connection class the name of the class you created.  If they are both the same you can treat it as an instance of sun.net.www.protocol.file.FileURLConnection rather than failing in case the class name changes.","body":"You can get around the warning/error by using connection.getClass().getCanonicalName().equals( &quot;sun.net.www.protocol.file.FileURLConnection&quot; ).  If you really want to you can create a URLConnection which you think SHOULD use sun.net.www.protocol.file.FileURLConnection and also compare the name of the connection class the name of the class you created.  If they are both the same you can treat it as an instance of sun.net.www.protocol.file.FileURLConnection rather than failing in case the class name changes."},{"owner":{"account_id":403272,"reputation":591,"user_id":770931,"accept_rate":56,"display_name":"Zardoz89"},"score":1,"creation_date":1495793666,"post_id":22462785,"comment_id":75410832,"body_markdown":"@Christian You can avoid the FileURLConnection doing something like this :  `if ( ... instanceof JarURLConnecton) { ... } else { // Asume that the Connection is valid and points to a File }` It&#39;s what I did on my code to search JPA annotated classes","body":"@Christian You can avoid the FileURLConnection doing something like this :  <code>if ( ... instanceof JarURLConnecton) { ... } else { &#47;&#47; Asume that the Connection is valid and points to a File }</code> It&#39;s what I did on my code to search JPA annotated classes"},{"owner":{"account_id":1289016,"reputation":697,"user_id":1781376,"accept_rate":88,"display_name":"GuiRitter"},"score":0,"creation_date":1684163433,"post_id":22462785,"comment_id":134473102,"body_markdown":"@Christian I used it successfully in the past but now, in 2023, it no longer works.","body":"@Christian I used it successfully in the past but now, in 2023, it no longer works."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1699890723,"post_id":22462785,"comment_id":136584544,"body_markdown":"Instead of `connection instanceof FileURLConnection` you could have used `url.getProtocol().equals(&quot;file&quot;)` and instead of `new File(URLDecoder.decode( url.getPath(), &quot;UTF-8&quot;))` you could use `new File(url.toURI())` but it seems, some people strive for the most complicated and unreliable solution, with bonus points for using undocumented proprietary classes.","body":"Instead of <code>connection instanceof FileURLConnection</code> you could have used <code>url.getProtocol().equals(&quot;file&quot;)</code> and instead of <code>new File(URLDecoder.decode( url.getPath(), &quot;UTF-8&quot;))</code> you could use <code>new File(url.toURI())</code> but it seems, some people strive for the most complicated and unreliable solution, with bonus points for using undocumented proprietary classes."}],"tags":[],"owner":{"account_id":2267875,"reputation":3038,"user_id":1996022,"accept_rate":77,"display_name":"BrainStone"},"comment_count":6,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1557306791,"creation_date":1395082036,"answer_id":22462785,"question_id":520328,"body_markdown":"&lt;!-- language-all: java --&gt;\r\nHello. I always have had some issues with the solutions above (and on other sites).  \r\nI, as a developer, am programming a addon for a API. The API prevents the use of any external libraries or 3rd party tools. The setup also consists of a mixture of code in jar or zip files and class files located directly in some directories. So my code had to be able to work arround every setup. After a lot of research I have come up with a method that will work in at least 95% of all possible setups.\r\n\r\nThe following code is basically the overkill method that will always work.\r\n\r\nThe code:\r\n----------------\r\n\r\nThis code scans a given package for all classes that are included in it. It will only work for all classes in the current ``ClassLoader``.\r\n\r\n\t/**\r\n\t * Private helper method\r\n\t * \r\n\t * @param directory\r\n\t *            The directory to start with\r\n\t * @param pckgname\r\n\t *            The package name to search for. Will be needed for getting the\r\n\t *            Class object.\r\n\t * @param classes\r\n\t *            if a file isn&#39;t loaded but still is in the directory\r\n\t * @throws ClassNotFoundException\r\n\t */\r\n\tprivate static void checkDirectory(File directory, String pckgname,\r\n\t\t\tArrayList&lt;Class&lt;?&gt;&gt; classes) throws ClassNotFoundException {\r\n\t\tFile tmpDirectory;\r\n\r\n\t\tif (directory.exists() &amp;&amp; directory.isDirectory()) {\r\n\t\t\tfinal String[] files = directory.list();\r\n\r\n\t\t\tfor (final String file : files) {\r\n\t\t\t\tif (file.endsWith(&quot;.class&quot;)) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tclasses.add(Class.forName(pckgname + &#39;.&#39;\r\n\t\t\t\t\t\t\t\t+ file.substring(0, file.length() - 6)));\r\n\t\t\t\t\t} catch (final NoClassDefFoundError e) {\r\n\t\t\t\t\t\t// do nothing. this class hasn&#39;t been found by the\r\n\t\t\t\t\t\t// loader, and we don&#39;t care.\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if ((tmpDirectory = new File(directory, file))\r\n\t\t\t\t\t\t.isDirectory()) {\r\n\t\t\t\t\tcheckDirectory(tmpDirectory, pckgname + &quot;.&quot; + file, classes);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Private helper method.\r\n\t * \r\n\t * @param connection\r\n\t *            the connection to the jar\r\n\t * @param pckgname\r\n\t *            the package name to search for\r\n\t * @param classes\r\n\t *            the current ArrayList of all classes. This method will simply\r\n\t *            add new classes.\r\n\t * @throws ClassNotFoundException\r\n\t *             if a file isn&#39;t loaded but still is in the jar file\r\n\t * @throws IOException\r\n\t *             if it can&#39;t correctly read from the jar file.\r\n\t */\r\n\tprivate static void checkJarFile(JarURLConnection connection,\r\n\t\t\tString pckgname, ArrayList&lt;Class&lt;?&gt;&gt; classes)\r\n\t\t\tthrows ClassNotFoundException, IOException {\r\n\t\tfinal JarFile jarFile = connection.getJarFile();\r\n\t\tfinal Enumeration&lt;JarEntry&gt; entries = jarFile.entries();\r\n\t\tString name;\r\n\r\n\t\tfor (JarEntry jarEntry = null; entries.hasMoreElements()\r\n\t\t\t\t&amp;&amp; ((jarEntry = entries.nextElement()) != null);) {\r\n\t\t\tname = jarEntry.getName();\r\n\r\n\t\t\tif (name.contains(&quot;.class&quot;)) {\r\n\t\t\t\tname = name.substring(0, name.length() - 6).replace(&#39;/&#39;, &#39;.&#39;);\r\n\r\n\t\t\t\tif (name.contains(pckgname)) {\r\n\t\t\t\t\tclasses.add(Class.forName(name));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Attempts to list all the classes in the specified package as determined\r\n\t * by the context class loader\r\n\t * \r\n\t * @param pckgname\r\n\t *            the package name to search\r\n\t * @return a list of classes that exist within that package\r\n\t * @throws ClassNotFoundException\r\n\t *             if something went wrong\r\n\t */\r\n\tpublic static ArrayList&lt;Class&lt;?&gt;&gt; getClassesForPackage(String pckgname)\r\n\t\t\tthrows ClassNotFoundException {\r\n\t\tfinal ArrayList&lt;Class&lt;?&gt;&gt; classes = new ArrayList&lt;Class&lt;?&gt;&gt;();\r\n\r\n\t\ttry {\r\n\t\t\tfinal ClassLoader cld = Thread.currentThread()\r\n\t\t\t\t\t.getContextClassLoader();\r\n\r\n\t\t\tif (cld == null)\r\n\t\t\t\tthrow new ClassNotFoundException(&quot;Can&#39;t get class loader.&quot;);\r\n\r\n\t\t\tfinal Enumeration&lt;URL&gt; resources = cld.getResources(pckgname\r\n\t\t\t\t\t.replace(&#39;.&#39;, &#39;/&#39;));\r\n\t\t\tURLConnection connection;\r\n\r\n\t\t\tfor (URL url = null; resources.hasMoreElements()\r\n\t\t\t\t\t&amp;&amp; ((url = resources.nextElement()) != null);) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconnection = url.openConnection();\r\n\r\n\t\t\t\t\tif (connection instanceof JarURLConnection) {\r\n\t\t\t\t\t\tcheckJarFile((JarURLConnection) connection, pckgname,\r\n\t\t\t\t\t\t\t\tclasses);\r\n\t\t\t\t\t} else if (connection instanceof FileURLConnection) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tcheckDirectory(\r\n\t\t\t\t\t\t\t\t\tnew File(URLDecoder.decode(url.getPath(),\r\n\t\t\t\t\t\t\t\t\t\t\t&quot;UTF-8&quot;)), pckgname, classes);\r\n\t\t\t\t\t\t} catch (final UnsupportedEncodingException ex) {\r\n\t\t\t\t\t\t\tthrow new ClassNotFoundException(\r\n\t\t\t\t\t\t\t\t\tpckgname\r\n\t\t\t\t\t\t\t\t\t\t\t+ &quot; does not appear to be a valid package (Unsupported encoding)&quot;,\r\n\t\t\t\t\t\t\t\t\tex);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t\tthrow new ClassNotFoundException(pckgname + &quot; (&quot;\r\n\t\t\t\t\t\t\t\t+ url.getPath()\r\n\t\t\t\t\t\t\t\t+ &quot;) does not appear to be a valid package&quot;);\r\n\t\t\t\t} catch (final IOException ioex) {\r\n\t\t\t\t\tthrow new ClassNotFoundException(\r\n\t\t\t\t\t\t\t&quot;IOException was thrown when trying to get all resources for &quot;\r\n\t\t\t\t\t\t\t\t\t+ pckgname, ioex);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (final NullPointerException ex) {\r\n\t\t\tthrow new ClassNotFoundException(\r\n\t\t\t\t\tpckgname\r\n\t\t\t\t\t\t\t+ &quot; does not appear to be a valid package (Null pointer exception)&quot;,\r\n\t\t\t\t\tex);\r\n\t\t} catch (final IOException ioex) {\r\n\t\t\tthrow new ClassNotFoundException(\r\n\t\t\t\t\t&quot;IOException was thrown when trying to get all resources for &quot;\r\n\t\t\t\t\t\t\t+ pckgname, ioex);\r\n\t\t}\r\n\r\n\t\treturn classes;\r\n\t}\r\n\r\nThese three methods provide you with the ability to find all classes in a given package.  \r\nYou use it like this:\r\n\r\n    getClassesForPackage(&quot;package.your.classes.are.in&quot;);\r\n\r\nThe explanation:\r\n-------------------------\r\n\r\nThe method first gets the current ``ClassLoader``. It then fetches all resources that contain said package and iterates of these ``URL``s. It then creates a ``URLConnection`` and determines what type of URl we have. It can either be a directory (``FileURLConnection``) or a directory inside a jar or zip file (``JarURLConnection``). Depending on what type of connection we have two different methods will be called.\r\n\r\nFirst lets see what happens if it is a ``FileURLConnection``.  \r\nIt first checks if the passed File exists and is a directory. If that&#39;s the case it checks if it is a class file. If so a ``Class`` object will be created and put in the ``ArrayList``. If it is not a class file but is a directory, we simply iterate into it and do the same thing. All other cases/files will be ignored.\r\n\r\nIf the ``URLConnection`` is a ``JarURLConnection`` the other private helper method will be called. This method iterates over all Entries in the zip/jar archive. If one entry is a class file and is inside of the package a ``Class`` object will be created and stored in the ``ArrayList``.\r\n\r\nAfter all resources have been parsed it (the main method) returns the ``ArrayList`` containig all classes in the given package, that the current ``ClassLoader`` knows about.\r\n\r\nIf the process fails at any point a ``ClassNotFoundException`` will be thrown containg detailed information about the exact cause.","title":"Can you find all classes in a package using reflection?","body":"<p>\nHello. I always have had some issues with the solutions above (and on other sites).<br>\nI, as a developer, am programming a addon for a API. The API prevents the use of any external libraries or 3rd party tools. The setup also consists of a mixture of code in jar or zip files and class files located directly in some directories. So my code had to be able to work arround every setup. After a lot of research I have come up with a method that will work in at least 95% of all possible setups.</p>\n\n<p>The following code is basically the overkill method that will always work.</p>\n\n<h2>The code:</h2>\n\n<p>This code scans a given package for all classes that are included in it. It will only work for all classes in the current <code>ClassLoader</code>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Private helper method\n * \n * @param directory\n *            The directory to start with\n * @param pckgname\n *            The package name to search for. Will be needed for getting the\n *            Class object.\n * @param classes\n *            if a file isn't loaded but still is in the directory\n * @throws ClassNotFoundException\n */\nprivate static void checkDirectory(File directory, String pckgname,\n        ArrayList&lt;Class&lt;?&gt;&gt; classes) throws ClassNotFoundException {\n    File tmpDirectory;\n\n    if (directory.exists() &amp;&amp; directory.isDirectory()) {\n        final String[] files = directory.list();\n\n        for (final String file : files) {\n            if (file.endsWith(\".class\")) {\n                try {\n                    classes.add(Class.forName(pckgname + '.'\n                            + file.substring(0, file.length() - 6)));\n                } catch (final NoClassDefFoundError e) {\n                    // do nothing. this class hasn't been found by the\n                    // loader, and we don't care.\n                }\n            } else if ((tmpDirectory = new File(directory, file))\n                    .isDirectory()) {\n                checkDirectory(tmpDirectory, pckgname + \".\" + file, classes);\n            }\n        }\n    }\n}\n\n/**\n * Private helper method.\n * \n * @param connection\n *            the connection to the jar\n * @param pckgname\n *            the package name to search for\n * @param classes\n *            the current ArrayList of all classes. This method will simply\n *            add new classes.\n * @throws ClassNotFoundException\n *             if a file isn't loaded but still is in the jar file\n * @throws IOException\n *             if it can't correctly read from the jar file.\n */\nprivate static void checkJarFile(JarURLConnection connection,\n        String pckgname, ArrayList&lt;Class&lt;?&gt;&gt; classes)\n        throws ClassNotFoundException, IOException {\n    final JarFile jarFile = connection.getJarFile();\n    final Enumeration&lt;JarEntry&gt; entries = jarFile.entries();\n    String name;\n\n    for (JarEntry jarEntry = null; entries.hasMoreElements()\n            &amp;&amp; ((jarEntry = entries.nextElement()) != null);) {\n        name = jarEntry.getName();\n\n        if (name.contains(\".class\")) {\n            name = name.substring(0, name.length() - 6).replace('/', '.');\n\n            if (name.contains(pckgname)) {\n                classes.add(Class.forName(name));\n            }\n        }\n    }\n}\n\n/**\n * Attempts to list all the classes in the specified package as determined\n * by the context class loader\n * \n * @param pckgname\n *            the package name to search\n * @return a list of classes that exist within that package\n * @throws ClassNotFoundException\n *             if something went wrong\n */\npublic static ArrayList&lt;Class&lt;?&gt;&gt; getClassesForPackage(String pckgname)\n        throws ClassNotFoundException {\n    final ArrayList&lt;Class&lt;?&gt;&gt; classes = new ArrayList&lt;Class&lt;?&gt;&gt;();\n\n    try {\n        final ClassLoader cld = Thread.currentThread()\n                .getContextClassLoader();\n\n        if (cld == null)\n            throw new ClassNotFoundException(\"Can't get class loader.\");\n\n        final Enumeration&lt;URL&gt; resources = cld.getResources(pckgname\n                .replace('.', '/'));\n        URLConnection connection;\n\n        for (URL url = null; resources.hasMoreElements()\n                &amp;&amp; ((url = resources.nextElement()) != null);) {\n            try {\n                connection = url.openConnection();\n\n                if (connection instanceof JarURLConnection) {\n                    checkJarFile((JarURLConnection) connection, pckgname,\n                            classes);\n                } else if (connection instanceof FileURLConnection) {\n                    try {\n                        checkDirectory(\n                                new File(URLDecoder.decode(url.getPath(),\n                                        \"UTF-8\")), pckgname, classes);\n                    } catch (final UnsupportedEncodingException ex) {\n                        throw new ClassNotFoundException(\n                                pckgname\n                                        + \" does not appear to be a valid package (Unsupported encoding)\",\n                                ex);\n                    }\n                } else\n                    throw new ClassNotFoundException(pckgname + \" (\"\n                            + url.getPath()\n                            + \") does not appear to be a valid package\");\n            } catch (final IOException ioex) {\n                throw new ClassNotFoundException(\n                        \"IOException was thrown when trying to get all resources for \"\n                                + pckgname, ioex);\n            }\n        }\n    } catch (final NullPointerException ex) {\n        throw new ClassNotFoundException(\n                pckgname\n                        + \" does not appear to be a valid package (Null pointer exception)\",\n                ex);\n    } catch (final IOException ioex) {\n        throw new ClassNotFoundException(\n                \"IOException was thrown when trying to get all resources for \"\n                        + pckgname, ioex);\n    }\n\n    return classes;\n}\n</code></pre>\n\n<p>These three methods provide you with the ability to find all classes in a given package.<br>\nYou use it like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>getClassesForPackage(\"package.your.classes.are.in\");\n</code></pre>\n\n<h2>The explanation:</h2>\n\n<p>The method first gets the current <code>ClassLoader</code>. It then fetches all resources that contain said package and iterates of these <code>URL</code>s. It then creates a <code>URLConnection</code> and determines what type of URl we have. It can either be a directory (<code>FileURLConnection</code>) or a directory inside a jar or zip file (<code>JarURLConnection</code>). Depending on what type of connection we have two different methods will be called.</p>\n\n<p>First lets see what happens if it is a <code>FileURLConnection</code>.<br>\nIt first checks if the passed File exists and is a directory. If that's the case it checks if it is a class file. If so a <code>Class</code> object will be created and put in the <code>ArrayList</code>. If it is not a class file but is a directory, we simply iterate into it and do the same thing. All other cases/files will be ignored.</p>\n\n<p>If the <code>URLConnection</code> is a <code>JarURLConnection</code> the other private helper method will be called. This method iterates over all Entries in the zip/jar archive. If one entry is a class file and is inside of the package a <code>Class</code> object will be created and stored in the <code>ArrayList</code>.</p>\n\n<p>After all resources have been parsed it (the main method) returns the <code>ArrayList</code> containig all classes in the given package, that the current <code>ClassLoader</code> knows about.</p>\n\n<p>If the process fails at any point a <code>ClassNotFoundException</code> will be thrown containg detailed information about the exact cause.</p>\n"},{"comments":[{"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"score":1,"creation_date":1455647290,"post_id":32828953,"comment_id":58578429,"body_markdown":"It is not very useful because of: it is need [to have JDK](http://stackoverflow.com/questions/2543439/null-pointer-exception-while-using-java-compiler-api) to use `ToolProvider.getSystemJavaCompiler()`, this code doesn&#39;t scan nested packages.","body":"It is not very useful because of: it is need <a href=\"http://stackoverflow.com/questions/2543439/null-pointer-exception-while-using-java-compiler-api\">to have JDK</a> to use <code>ToolProvider.getSystemJavaCompiler()</code>, this code doesn&#39;t scan nested packages."},{"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"score":0,"creation_date":1552837938,"post_id":32828953,"comment_id":97153830,"body_markdown":"I can&#39;t make it working with a package of an external jar","body":"I can&#39;t make it working with a package of an external jar"}],"tags":[],"owner":{"account_id":161274,"reputation":6294,"user_id":381897,"accept_rate":100,"display_name":"bhdrkn"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1443462709,"creation_date":1443462709,"answer_id":32828953,"question_id":520328,"body_markdown":"Almost all the answers either uses `Reflections` or reads class files from file system. If you try to read classes from file system, you may get errors when you package your application as JAR or other. Also you may not want to use a separate library for that purpose. \r\n\r\nHere is another approach which is pure java and not depends on file system. \r\n\r\n    import javax.tools.JavaFileObject;\r\n    import javax.tools.StandardJavaFileManager;\r\n    import javax.tools.StandardLocation;\r\n    import javax.tools.ToolProvider;\r\n    import java.io.File;\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.Collections;\r\n    import java.util.regex.Pattern;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.StreamSupport;\r\n    \r\n    public class PackageUtil {\r\n    \r\n        public static Collection&lt;Class&gt; getClasses(final String pack) throws Exception {\r\n            final StandardJavaFileManager fileManager = ToolProvider.getSystemJavaCompiler().getStandardFileManager(null, null, null);\r\n            return StreamSupport.stream(fileManager.list(StandardLocation.CLASS_PATH, pack, Collections.singleton(JavaFileObject.Kind.CLASS), false).spliterator(), false)\r\n                    .map(javaFileObject -&gt; {\r\n                        try {\r\n                            final String[] split = javaFileObject.getName()\r\n                                    .replace(&quot;.class&quot;, &quot;&quot;)\r\n                                    .replace(&quot;)&quot;, &quot;&quot;)\r\n                                    .split(Pattern.quote(File.separator));\r\n    \r\n                            final String fullClassName = pack + &quot;.&quot; + split[split.length - 1];\r\n                            return Class.forName(fullClassName);\r\n                        } catch (ClassNotFoundException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n    \r\n                    })\r\n                    .collect(Collectors.toCollection(ArrayList::new));\r\n        }\r\n    }\r\n\r\n**Java 8 is not a must**. You can use for loops instead of streams.\r\nAnd you can test it like this\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        final String pack = &quot;java.nio.file&quot;; // Or any other package\r\n        PackageUtil.getClasses(pack).stream().forEach(System.out::println);\r\n    }","title":"Can you find all classes in a package using reflection?","body":"<p>Almost all the answers either uses <code>Reflections</code> or reads class files from file system. If you try to read classes from file system, you may get errors when you package your application as JAR or other. Also you may not want to use a separate library for that purpose. </p>\n\n<p>Here is another approach which is pure java and not depends on file system. </p>\n\n<pre><code>import javax.tools.JavaFileObject;\nimport javax.tools.StandardJavaFileManager;\nimport javax.tools.StandardLocation;\nimport javax.tools.ToolProvider;\nimport java.io.File;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.regex.Pattern;\nimport java.util.stream.Collectors;\nimport java.util.stream.StreamSupport;\n\npublic class PackageUtil {\n\n    public static Collection&lt;Class&gt; getClasses(final String pack) throws Exception {\n        final StandardJavaFileManager fileManager = ToolProvider.getSystemJavaCompiler().getStandardFileManager(null, null, null);\n        return StreamSupport.stream(fileManager.list(StandardLocation.CLASS_PATH, pack, Collections.singleton(JavaFileObject.Kind.CLASS), false).spliterator(), false)\n                .map(javaFileObject -&gt; {\n                    try {\n                        final String[] split = javaFileObject.getName()\n                                .replace(\".class\", \"\")\n                                .replace(\")\", \"\")\n                                .split(Pattern.quote(File.separator));\n\n                        final String fullClassName = pack + \".\" + split[split.length - 1];\n                        return Class.forName(fullClassName);\n                    } catch (ClassNotFoundException e) {\n                        throw new RuntimeException(e);\n                    }\n\n                })\n                .collect(Collectors.toCollection(ArrayList::new));\n    }\n}\n</code></pre>\n\n<p><strong>Java 8 is not a must</strong>. You can use for loops instead of streams.\nAnd you can test it like this</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    final String pack = \"java.nio.file\"; // Or any other package\n    PackageUtil.getClasses(pack).stream().forEach(System.out::println);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1450191101,"creation_date":1450191101,"answer_id":34292253,"question_id":520328,"body_markdown":"&lt;sup&gt;Worth mentioning&lt;/sup&gt;\r\n\r\nIf you want to have a list of all classes under some package, you can use `Reflection` the following way:\r\n\r\n    List&lt;Class&gt; myTypes = new ArrayList&lt;&gt;();\r\n\r\n\tReflections reflections = new Reflections(&quot;com.package&quot;);\r\n    for (String s : reflections.getStore().get(SubTypesScanner.class).values()) {\r\n        myTypes.add(Class.forName(s));\r\n    }\r\n\r\nThis will create a list of classes that later you can use them as you wish.","title":"Can you find all classes in a package using reflection?","body":"<p><sup>Worth mentioning</sup></p>\n\n<p>If you want to have a list of all classes under some package, you can use <code>Reflection</code> the following way:</p>\n\n<pre><code>List&lt;Class&gt; myTypes = new ArrayList&lt;&gt;();\n\nReflections reflections = new Reflections(\"com.package\");\nfor (String s : reflections.getStore().get(SubTypesScanner.class).values()) {\n    myTypes.add(Class.forName(s));\n}\n</code></pre>\n\n<p>This will create a list of classes that later you can use them as you wish.</p>\n"},{"comments":[{"owner":{"account_id":11424111,"reputation":149,"user_id":8374722,"display_name":"Paul W"},"score":0,"creation_date":1658087539,"post_id":38680038,"comment_id":128958380,"body_markdown":"Great library ! However, please note that it does not work at runtime for Android projects. There&#39;s a way to use it at build-time through Gradle, though.","body":"Great library ! However, please note that it does not work at runtime for Android projects. There&#39;s a way to use it at build-time through Gradle, though."},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":1,"creation_date":1658174951,"post_id":38680038,"comment_id":128981853,"body_markdown":"@PaulW correct, and there are no plans to ever support the dex/odex format of the Dalvik runtime, so build-time scanning is the only option. Please suggest changes or improvements to the documentation if you have any. https://github.com/classgraph/classgraph/wiki/Build-Time-Scanning","body":"@PaulW correct, and there are no plans to ever support the dex/odex format of the Dalvik runtime, so build-time scanning is the only option. Please suggest changes or improvements to the documentation if you have any. <a href=\"https://github.com/classgraph/classgraph/wiki/Build-Time-Scanning\" rel=\"nofollow noreferrer\">github.com/classgraph/classgraph/wiki/Build-Time-Scanning</a>"},{"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"score":0,"creation_date":1670747917,"post_id":38680038,"comment_id":131941393,"body_markdown":"Does this work with the venerable onejar-maven-plugin?","body":"Does this work with the venerable onejar-maven-plugin?"},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":1,"creation_date":1670836800,"post_id":38680038,"comment_id":131957185,"body_markdown":"@JonathanS.Fisher it should do, I know that it works with shaded jars, although the package names may be changed in that case.","body":"@JonathanS.Fisher it should do, I know that it works with shaded jars, although the package names may be changed in that case."}],"tags":[],"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"comment_count":4,"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1597138976,"creation_date":1469929696,"answer_id":38680038,"question_id":520328,"body_markdown":"The most robust mechanism for listing all classes in a given package is currently [ClassGraph][1], because it handles the [widest possible array of classpath specification mechanisms][2], including the new JPMS module system. (I am the author.)\r\n\r\n    List&lt;String&gt; classNames = new ArrayList&lt;&gt;();\r\n    try (ScanResult scanResult = new ClassGraph().acceptPackages(&quot;my.package&quot;)\r\n            .enableClassInfo().scan()) {\r\n        classNames.addAll(scanResult.getAllClasses().getNames());\r\n    }\r\n\r\n  [1]: https://github.com/classgraph/classgraph/wiki/Code-examples\r\n  [2]: https://github.com/classgraph/classgraph/wiki/Classpath-Specification-Mechanisms\r\n","title":"Can you find all classes in a package using reflection?","body":"<p>The most robust mechanism for listing all classes in a given package is currently <a href=\"https://github.com/classgraph/classgraph/wiki/Code-examples\" rel=\"noreferrer\">ClassGraph</a>, because it handles the <a href=\"https://github.com/classgraph/classgraph/wiki/Classpath-Specification-Mechanisms\" rel=\"noreferrer\">widest possible array of classpath specification mechanisms</a>, including the new JPMS module system. (I am the author.)</p>\n<pre><code>List&lt;String&gt; classNames = new ArrayList&lt;&gt;();\ntry (ScanResult scanResult = new ClassGraph().acceptPackages(&quot;my.package&quot;)\n        .enableClassInfo().scan()) {\n    classNames.addAll(scanResult.getAllClasses().getNames());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1109288,"reputation":1653,"user_id":1100060,"accept_rate":0,"display_name":"Nathan B"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1471467263,"creation_date":1471467263,"answer_id":39006103,"question_id":520328,"body_markdown":"Here&#39;s how I do it. I scan all the subfolders (sub-packages) and I don&#39;t try to load anonymous classes:\r\n\r\n       /**\r\n       * Attempts to list all the classes in the specified package as determined\r\n       * by the context class loader, recursively, avoiding anonymous classes\r\n       * \r\n       * @param pckgname\r\n       *            the package name to search\r\n       * @return a list of classes that exist within that package\r\n       * @throws ClassNotFoundException\r\n       *             if something went wrong\r\n       */\r\n      private static List&lt;Class&gt; getClassesForPackage(String pckgname) throws ClassNotFoundException {\r\n          // This will hold a list of directories matching the pckgname. There may be more than one if a package is split over multiple jars/paths\r\n          ArrayList&lt;File&gt; directories = new ArrayList&lt;File&gt;();\r\n          String packageToPath = pckgname.replace(&#39;.&#39;, &#39;/&#39;);\r\n          try {\r\n              ClassLoader cld = Thread.currentThread().getContextClassLoader();\r\n              if (cld == null) {\r\n                  throw new ClassNotFoundException(&quot;Can&#39;t get class loader.&quot;);\r\n              }\r\n              \r\n              // Ask for all resources for the packageToPath\r\n              Enumeration&lt;URL&gt; resources = cld.getResources(packageToPath);\r\n              while (resources.hasMoreElements()) {\r\n                  directories.add(new File(URLDecoder.decode(resources.nextElement().getPath(), &quot;UTF-8&quot;)));\r\n              }\r\n          } catch (NullPointerException x) {\r\n              throw new ClassNotFoundException(pckgname + &quot; does not appear to be a valid package (Null pointer exception)&quot;);\r\n          } catch (UnsupportedEncodingException encex) {\r\n              throw new ClassNotFoundException(pckgname + &quot; does not appear to be a valid package (Unsupported encoding)&quot;);\r\n          } catch (IOException ioex) {\r\n              throw new ClassNotFoundException(&quot;IOException was thrown when trying to get all resources for &quot; + pckgname);\r\n          }\r\n\r\n          ArrayList&lt;Class&gt; classes = new ArrayList&lt;Class&gt;();\r\n          // For every directoryFile identified capture all the .class files\r\n          while (!directories.isEmpty()){\r\n              File directoryFile  = directories.remove(0);             \r\n              if (directoryFile.exists()) {\r\n                  // Get the list of the files contained in the package\r\n                  File[] files = directoryFile.listFiles();\r\n                  \r\n                  for (File file : files) {\r\n                      // we are only interested in .class files\r\n                      if ((file.getName().endsWith(&quot;.class&quot;)) &amp;&amp; (!file.getName().contains(&quot;$&quot;))) {\r\n                          // removes the .class extension\r\n                          int index = directoryFile.getPath().indexOf(packageToPath);\r\n                          String packagePrefix = directoryFile.getPath().substring(index).replace(&#39;/&#39;, &#39;.&#39;);;                          \r\n                        try {                  \r\n                          String className = packagePrefix + &#39;.&#39; + file.getName().substring(0, file.getName().length() - 6);                            \r\n                          classes.add(Class.forName(className));                                \r\n                        } catch (NoClassDefFoundError e)\r\n                        {\r\n                          // do nothing. this class hasn&#39;t been found by the loader, and we don&#39;t care.\r\n                        }\r\n                      } else if (file.isDirectory()){ // If we got to a subdirectory\r\n                          directories.add(new File(file.getPath()));                          \r\n                      }\r\n                  }\r\n              } else {\r\n                  throw new ClassNotFoundException(pckgname + &quot; (&quot; + directoryFile.getPath() + &quot;) does not appear to be a valid package&quot;);\r\n              }\r\n          }\r\n          return classes;\r\n      }  \r\n   ","title":"Can you find all classes in a package using reflection?","body":"<p>Here's how I do it. I scan all the subfolders (sub-packages) and I don't try to load anonymous classes:</p>\n\n<pre><code>   /**\n   * Attempts to list all the classes in the specified package as determined\n   * by the context class loader, recursively, avoiding anonymous classes\n   * \n   * @param pckgname\n   *            the package name to search\n   * @return a list of classes that exist within that package\n   * @throws ClassNotFoundException\n   *             if something went wrong\n   */\n  private static List&lt;Class&gt; getClassesForPackage(String pckgname) throws ClassNotFoundException {\n      // This will hold a list of directories matching the pckgname. There may be more than one if a package is split over multiple jars/paths\n      ArrayList&lt;File&gt; directories = new ArrayList&lt;File&gt;();\n      String packageToPath = pckgname.replace('.', '/');\n      try {\n          ClassLoader cld = Thread.currentThread().getContextClassLoader();\n          if (cld == null) {\n              throw new ClassNotFoundException(\"Can't get class loader.\");\n          }\n\n          // Ask for all resources for the packageToPath\n          Enumeration&lt;URL&gt; resources = cld.getResources(packageToPath);\n          while (resources.hasMoreElements()) {\n              directories.add(new File(URLDecoder.decode(resources.nextElement().getPath(), \"UTF-8\")));\n          }\n      } catch (NullPointerException x) {\n          throw new ClassNotFoundException(pckgname + \" does not appear to be a valid package (Null pointer exception)\");\n      } catch (UnsupportedEncodingException encex) {\n          throw new ClassNotFoundException(pckgname + \" does not appear to be a valid package (Unsupported encoding)\");\n      } catch (IOException ioex) {\n          throw new ClassNotFoundException(\"IOException was thrown when trying to get all resources for \" + pckgname);\n      }\n\n      ArrayList&lt;Class&gt; classes = new ArrayList&lt;Class&gt;();\n      // For every directoryFile identified capture all the .class files\n      while (!directories.isEmpty()){\n          File directoryFile  = directories.remove(0);             \n          if (directoryFile.exists()) {\n              // Get the list of the files contained in the package\n              File[] files = directoryFile.listFiles();\n\n              for (File file : files) {\n                  // we are only interested in .class files\n                  if ((file.getName().endsWith(\".class\")) &amp;&amp; (!file.getName().contains(\"$\"))) {\n                      // removes the .class extension\n                      int index = directoryFile.getPath().indexOf(packageToPath);\n                      String packagePrefix = directoryFile.getPath().substring(index).replace('/', '.');;                          \n                    try {                  \n                      String className = packagePrefix + '.' + file.getName().substring(0, file.getName().length() - 6);                            \n                      classes.add(Class.forName(className));                                \n                    } catch (NoClassDefFoundError e)\n                    {\n                      // do nothing. this class hasn't been found by the loader, and we don't care.\n                    }\n                  } else if (file.isDirectory()){ // If we got to a subdirectory\n                      directories.add(new File(file.getPath()));                          \n                  }\n              }\n          } else {\n              throw new ClassNotFoundException(pckgname + \" (\" + directoryFile.getPath() + \") does not appear to be a valid package\");\n          }\n      }\n      return classes;\n  }  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3378015,"reputation":991,"user_id":2835764,"accept_rate":75,"display_name":"Sujal Mandal"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1538465335,"creation_date":1486551435,"answer_id":42111223,"question_id":520328,"body_markdown":"Yeah using few API&#39;s you can, here is how I like doing it, faced this problem which I was using hibernate core &amp; had to find classes which where annotated with a certain annotation.\r\n\r\n\r\nMake these an custom annotation using which you will mark which classes you want to be picked up.\r\n\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.TYPE)\r\n    public @interface EntityToBeScanned {\r\n    \r\n    }\r\n\r\n\r\nThen mark your class with it like\r\n\r\n    @EntityToBeScanned \r\n    public MyClass{\r\n    \r\n    }\r\n\r\nMake this utility class which has the following method\r\n\r\n    public class ClassScanner {\r\n    \t\r\n    \tpublic static Set&lt;Class&lt;?&gt;&gt; allFoundClassesAnnotatedWithEntityToBeScanned(){\r\n    \t\tReflections reflections = new Reflections(&quot;.*&quot;);\r\n    \t\tSet&lt;Class&lt;?&gt;&gt; annotated = reflections.getTypesAnnotatedWith(EntityToBeScanned.class);\r\n    \t\treturn annotated;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\nCall the **allFoundClassesAnnotatedWithEntityToBeScanned()** method to get a **Set** of Classes found.\r\n\r\nYou will need libs given below\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;21.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.javassist/javassist --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n        &lt;version&gt;3.22.0-CR1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.reflections/reflections --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.reflections&lt;/groupId&gt;\r\n        &lt;artifactId&gt;reflections&lt;/artifactId&gt;\r\n        &lt;version&gt;0.9.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Can you find all classes in a package using reflection?","body":"<p>Yeah using few API's you can, here is how I like doing it, faced this problem which I was using hibernate core &amp; had to find classes which where annotated with a certain annotation.</p>\n\n<p>Make these an custom annotation using which you will mark which classes you want to be picked up.</p>\n\n<pre><code>import java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\npublic @interface EntityToBeScanned {\n\n}\n</code></pre>\n\n<p>Then mark your class with it like</p>\n\n<pre><code>@EntityToBeScanned \npublic MyClass{\n\n}\n</code></pre>\n\n<p>Make this utility class which has the following method</p>\n\n<pre><code>public class ClassScanner {\n\n    public static Set&lt;Class&lt;?&gt;&gt; allFoundClassesAnnotatedWithEntityToBeScanned(){\n        Reflections reflections = new Reflections(\".*\");\n        Set&lt;Class&lt;?&gt;&gt; annotated = reflections.getTypesAnnotatedWith(EntityToBeScanned.class);\n        return annotated;\n    }\n\n}\n</code></pre>\n\n<p>Call the <strong>allFoundClassesAnnotatedWithEntityToBeScanned()</strong> method to get a <strong>Set</strong> of Classes found.</p>\n\n<p>You will need libs given below</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;21.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.javassist/javassist --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n    &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n    &lt;version&gt;3.22.0-CR1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.reflections/reflections --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.reflections&lt;/groupId&gt;\n    &lt;artifactId&gt;reflections&lt;/artifactId&gt;\n    &lt;version&gt;0.9.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9429443,"reputation":449,"user_id":7013460,"display_name":"Muskovets"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495804002,"creation_date":1495804002,"answer_id":44202417,"question_id":520328,"body_markdown":"It is very possible, but without additional libraries like `Reflections` it is hard...  \r\nIt is hard because you haven&#39;t full instrument for get class name.  \r\nAnd, I take the code of my `ClassFinder` class:\r\n\r\n    package play.util;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.Enumeration;\r\n    import java.util.List;\r\n    import java.util.jar.JarEntry;\r\n    import java.util.jar.JarFile;\r\n    \r\n    /**\r\n     * Created by LINKOR on 26.05.2017 in 15:12.\r\n     * Date: 2017.05.26\r\n     */\r\n    public class FileClassFinder {\r\n    private JarFile file;\r\n    private boolean trouble;\r\n    public FileClassFinder(String filePath) {\r\n        try {\r\n            file = new JarFile(filePath);\r\n        } catch (IOException e) {\r\n            trouble = true;\r\n        }\r\n    }\r\n    \r\n    public List&lt;String&gt; findClasses(String pkg) {\r\n        ArrayList&lt;String&gt; classes = new ArrayList&lt;&gt;();\r\n        Enumeration&lt;JarEntry&gt; entries = file.entries();\r\n        while (entries.hasMoreElements()) {\r\n            JarEntry cls = entries.nextElement();\r\n            if (!cls.isDirectory()) {\r\n                String fileName = cls.getName();\r\n                String className = fileName.replaceAll(&quot;/&quot;,         &quot;.&quot;).replaceAll(File.pathSeparator, &quot;.&quot;).substring(0, fileName.lastIndexOf(&#39;.&#39;));\r\n                if (className.startsWith(pkg)) classes.add(className.substring(pkg.length() + 1));\r\n            }\r\n        }\r\n        return classes;\r\n    }\r\n    }\r\n\r\n","title":"Can you find all classes in a package using reflection?","body":"<p>It is very possible, but without additional libraries like <code>Reflections</code> it is hard...<br>\nIt is hard because you haven't full instrument for get class name.<br>\nAnd, I take the code of my <code>ClassFinder</code> class:</p>\n\n<pre><code>package play.util;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Enumeration;\nimport java.util.List;\nimport java.util.jar.JarEntry;\nimport java.util.jar.JarFile;\n\n/**\n * Created by LINKOR on 26.05.2017 in 15:12.\n * Date: 2017.05.26\n */\npublic class FileClassFinder {\nprivate JarFile file;\nprivate boolean trouble;\npublic FileClassFinder(String filePath) {\n    try {\n        file = new JarFile(filePath);\n    } catch (IOException e) {\n        trouble = true;\n    }\n}\n\npublic List&lt;String&gt; findClasses(String pkg) {\n    ArrayList&lt;String&gt; classes = new ArrayList&lt;&gt;();\n    Enumeration&lt;JarEntry&gt; entries = file.entries();\n    while (entries.hasMoreElements()) {\n        JarEntry cls = entries.nextElement();\n        if (!cls.isDirectory()) {\n            String fileName = cls.getName();\n            String className = fileName.replaceAll(\"/\",         \".\").replaceAll(File.pathSeparator, \".\").substring(0, fileName.lastIndexOf('.'));\n            if (className.startsWith(pkg)) classes.add(className.substring(pkg.length() + 1));\n        }\n    }\n    return classes;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7844898,"reputation":356,"user_id":5930295,"display_name":"Thorsten"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1498717041,"creation_date":1498717041,"answer_id":44817646,"question_id":520328,"body_markdown":"[Aleksander Blomsk&#248;ld&#39;s solution][1] did not work for me for parameterized tests `@RunWith(Parameterized.class)` when using Maven. The tests were named correctly and also where found but not executed:\r\n\r\n    -------------------------------------------------------\r\n    T E S T S\r\n    -------------------------------------------------------\r\n    Running some.properly.named.test.run.with.maven.SomeTest\r\n    Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.123 sec\r\n\r\nA similar issue has been reported [here][2].\r\n\r\nIn my case `@Parameters` is creating instances of each class in a package. The tests worked well when run locally in the IDE. However, when running Maven no classes where found with Aleksander Blomsk&#248;ld&#39;s solution.\r\n\r\nI did make it work with the following snipped which was inspired by David P&#228;rsson&#39;s comment on Aleksander Blomsk&#248;ld&#39;s answer:\r\n\r\n    Reflections reflections = new Reflections(new ConfigurationBuilder()\r\n                .setScanners(new SubTypesScanner(false /* don&#39;t exclude Object.class */), new ResourcesScanner())\r\n                .addUrls(ClasspathHelper.forJavaClassPath()) \r\n                .filterInputsBy(new FilterBuilder()\r\n                .include(FilterBuilder.prefix(basePackage))));\r\n\r\n    Set&lt;Class&lt;?&gt;&gt; subTypesOf = reflections.getSubTypesOf(Object.class);\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/9571146\r\n  [2]: https://stackoverflow.com/a/18450752/5930295","title":"Can you find all classes in a package using reflection?","body":"<p><a href=\"https://stackoverflow.com/a/9571146\">Aleksander Blomskøld's solution</a> did not work for me for parameterized tests <code>@RunWith(Parameterized.class)</code> when using Maven. The tests were named correctly and also where found but not executed:</p>\n\n<pre><code>-------------------------------------------------------\nT E S T S\n-------------------------------------------------------\nRunning some.properly.named.test.run.with.maven.SomeTest\nTests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.123 sec\n</code></pre>\n\n<p>A similar issue has been reported <a href=\"https://stackoverflow.com/a/18450752/5930295\">here</a>.</p>\n\n<p>In my case <code>@Parameters</code> is creating instances of each class in a package. The tests worked well when run locally in the IDE. However, when running Maven no classes where found with Aleksander Blomskøld's solution.</p>\n\n<p>I did make it work with the following snipped which was inspired by David Pärsson's comment on Aleksander Blomskøld's answer:</p>\n\n<pre><code>Reflections reflections = new Reflections(new ConfigurationBuilder()\n            .setScanners(new SubTypesScanner(false /* don't exclude Object.class */), new ResourcesScanner())\n            .addUrls(ClasspathHelper.forJavaClassPath()) \n            .filterInputsBy(new FilterBuilder()\n            .include(FilterBuilder.prefix(basePackage))));\n\nSet&lt;Class&lt;?&gt;&gt; subTypesOf = reflections.getSubTypesOf(Object.class);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1137183,"reputation":541,"user_id":1122011,"accept_rate":11,"display_name":"Daniel"},"score":1,"creation_date":1620642002,"post_id":46575084,"comment_id":119251765,"body_markdown":"How about telling us *how* Spring can do this.  Otherwise this is just hearsay.","body":"How about telling us <i>how</i> Spring can do this.  Otherwise this is just hearsay."}],"tags":[],"owner":{"account_id":1735668,"reputation":1932,"user_id":1588303,"display_name":"Rodney P. Barbati"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1631289469,"creation_date":1507155770,"answer_id":46575084,"question_id":520328,"body_markdown":"If you are merely looking to load a group of related classes, then Spring can help you.\r\n\r\nSpring can instantiate a list or map of all classes that implement a given interface in one line of code. The list or map will contain instances of all the classes that implement that interface.\r\n\r\nThat being said, as an alternative to loading the list of classes out of the file system, instead just implement the same interface in all the classes you want to load, regardless of package and use Spring to provide you instances of all of them. That way, you can load (and instantiate) all the classes you desire regardless of what package they are in.\r\n\r\nOn the other hand, if having them all in a package is what you want, then simply have all the classes in that package implement a given interface.\r\n\r\nNote that the interface itself doesn&#39;t have to declare any methods - it can be completely empty.\r\n\r\nTo inject a list of classes implementing a given interface, use the following lines of code...\r\n\r\n      @Autowired\r\n      private List&lt;ISomeInterface&gt; implementationList;\r\n\r\nIt is also possible to inject a Map of classes using Spring.  Read the docs if interested to see how.\r\n\r\nFinally, I will offer one other solution that is a bit more elegant than searching the entire file system tree.\r\n\r\nCreate a custom annotation that builds a catalog of the classes to which it is applied - something like @ClassCatalog.\r\n","title":"Can you find all classes in a package using reflection?","body":"<p>If you are merely looking to load a group of related classes, then Spring can help you.</p>\n<p>Spring can instantiate a list or map of all classes that implement a given interface in one line of code. The list or map will contain instances of all the classes that implement that interface.</p>\n<p>That being said, as an alternative to loading the list of classes out of the file system, instead just implement the same interface in all the classes you want to load, regardless of package and use Spring to provide you instances of all of them. That way, you can load (and instantiate) all the classes you desire regardless of what package they are in.</p>\n<p>On the other hand, if having them all in a package is what you want, then simply have all the classes in that package implement a given interface.</p>\n<p>Note that the interface itself doesn't have to declare any methods - it can be completely empty.</p>\n<p>To inject a list of classes implementing a given interface, use the following lines of code...</p>\n<pre><code>  @Autowired\n  private List&lt;ISomeInterface&gt; implementationList;\n</code></pre>\n<p>It is also possible to inject a Map of classes using Spring.  Read the docs if interested to see how.</p>\n<p>Finally, I will offer one other solution that is a bit more elegant than searching the entire file system tree.</p>\n<p>Create a custom annotation that builds a catalog of the classes to which it is applied - something like @ClassCatalog.</p>\n"},{"tags":[],"owner":{"account_id":1611959,"reputation":3349,"user_id":1490636,"display_name":"Maksim Kostromin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558996752,"creation_date":1558992131,"answer_id":56332568,"question_id":520328,"body_markdown":"plain java: _FindAllClassesUsingPlainJavaReflectionTest.java_\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Slf4j\r\n    class FindAllClassesUsingPlainJavaReflectionTest {\r\n    \r\n      private static final Function&lt;Throwable, RuntimeException&gt; asRuntimeException = throwable -&gt; {\r\n        log.error(throwable.getLocalizedMessage());\r\n        return new RuntimeException(throwable);\r\n      };\r\n    \r\n      private static final Function&lt;String, Collection&lt;Class&lt;?&gt;&gt;&gt; findAllPackageClasses = basePackageName -&gt; {\r\n    \r\n        Locale locale = Locale.getDefault();\r\n        Charset charset = StandardCharsets.UTF_8;\r\n        val fileManager = ToolProvider.getSystemJavaCompiler()\r\n                                      .getStandardFileManager(/* diagnosticListener */ null, locale, charset);\r\n    \r\n        StandardLocation location = StandardLocation.CLASS_PATH;\r\n        JavaFileObject.Kind kind = JavaFileObject.Kind.CLASS;\r\n        Set&lt;JavaFileObject.Kind&gt; kinds = Collections.singleton(kind);\r\n        val javaFileObjects = Try.of(() -&gt; fileManager.list(location, basePackageName, kinds, /* recurse */ true))\r\n                                 .getOrElseThrow(asRuntimeException);\r\n    \r\n        String pathToPackageAndClass = basePackageName.replace(&quot;.&quot;, File.separator);\r\n        Function&lt;String, String&gt; mapToClassName = s -&gt; {\r\n          String prefix = Arrays.stream(s.split(pathToPackageAndClass))\r\n                                .findFirst()\r\n                                .orElse(&quot;&quot;);\r\n          return s.replaceFirst(prefix, &quot;&quot;)\r\n                  .replaceAll(File.separator, &quot;.&quot;);\r\n        };\r\n    \r\n        return StreamSupport.stream(javaFileObjects.spliterator(), /* parallel */ true)\r\n                            .filter(javaFileObject -&gt; javaFileObject.getKind().equals(kind))\r\n                            .map(FileObject::getName)\r\n                            .map(fileObjectName -&gt; fileObjectName.replace(&quot;.class&quot;, &quot;&quot;))\r\n                            .map(mapToClassName)\r\n                            .map(className -&gt; Try.of(() -&gt; Class.forName(className))\r\n                                                 .getOrElseThrow(asRuntimeException))\r\n                            .collect(Collectors.toList());\r\n      };\r\n    \r\n      @Test\r\n      @DisplayName(&quot;should get classes recursively in given package&quot;)\r\n      void test() {\r\n        Collection&lt;Class&lt;?&gt;&gt; classes = findAllPackageClasses.apply(getClass().getPackage().getName());\r\n        assertThat(classes).hasSizeGreaterThan(4);\r\n        classes.stream().map(String::valueOf).forEach(log::info);\r\n      }\r\n    }\r\n\r\nPS: to simplify boilerplates for handling errors, etc, I&#39;m using here `vavr` and `lombok` libraries\r\n\r\nother implementations could be found in [my GitHub daggerok/java-reflection-find-annotated-classes-or-methods repo][1]\r\n\r\n\r\n  [1]: https://github.com/daggerok/java-reflection-find-annotated-classes-or-methods/tree/master/src/test/java/com/github/daggerok","title":"Can you find all classes in a package using reflection?","body":"<p>plain java: <em>FindAllClassesUsingPlainJavaReflectionTest.java</em></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\nclass FindAllClassesUsingPlainJavaReflectionTest {\n\n  private static final Function&lt;Throwable, RuntimeException&gt; asRuntimeException = throwable -&gt; {\n    log.error(throwable.getLocalizedMessage());\n    return new RuntimeException(throwable);\n  };\n\n  private static final Function&lt;String, Collection&lt;Class&lt;?&gt;&gt;&gt; findAllPackageClasses = basePackageName -&gt; {\n\n    Locale locale = Locale.getDefault();\n    Charset charset = StandardCharsets.UTF_8;\n    val fileManager = ToolProvider.getSystemJavaCompiler()\n                                  .getStandardFileManager(/* diagnosticListener */ null, locale, charset);\n\n    StandardLocation location = StandardLocation.CLASS_PATH;\n    JavaFileObject.Kind kind = JavaFileObject.Kind.CLASS;\n    Set&lt;JavaFileObject.Kind&gt; kinds = Collections.singleton(kind);\n    val javaFileObjects = Try.of(() -&gt; fileManager.list(location, basePackageName, kinds, /* recurse */ true))\n                             .getOrElseThrow(asRuntimeException);\n\n    String pathToPackageAndClass = basePackageName.replace(\".\", File.separator);\n    Function&lt;String, String&gt; mapToClassName = s -&gt; {\n      String prefix = Arrays.stream(s.split(pathToPackageAndClass))\n                            .findFirst()\n                            .orElse(\"\");\n      return s.replaceFirst(prefix, \"\")\n              .replaceAll(File.separator, \".\");\n    };\n\n    return StreamSupport.stream(javaFileObjects.spliterator(), /* parallel */ true)\n                        .filter(javaFileObject -&gt; javaFileObject.getKind().equals(kind))\n                        .map(FileObject::getName)\n                        .map(fileObjectName -&gt; fileObjectName.replace(\".class\", \"\"))\n                        .map(mapToClassName)\n                        .map(className -&gt; Try.of(() -&gt; Class.forName(className))\n                                             .getOrElseThrow(asRuntimeException))\n                        .collect(Collectors.toList());\n  };\n\n  @Test\n  @DisplayName(\"should get classes recursively in given package\")\n  void test() {\n    Collection&lt;Class&lt;?&gt;&gt; classes = findAllPackageClasses.apply(getClass().getPackage().getName());\n    assertThat(classes).hasSizeGreaterThan(4);\n    classes.stream().map(String::valueOf).forEach(log::info);\n  }\n}\n</code></pre>\n\n<p>PS: to simplify boilerplates for handling errors, etc, I'm using here <code>vavr</code> and <code>lombok</code> libraries</p>\n\n<p>other implementations could be found in <a href=\"https://github.com/daggerok/java-reflection-find-annotated-classes-or-methods/tree/master/src/test/java/com/github/daggerok\" rel=\"nofollow noreferrer\">my GitHub daggerok/java-reflection-find-annotated-classes-or-methods repo</a></p>\n"},{"comments":[{"owner":{"account_id":5440121,"reputation":1551,"user_id":4537618,"accept_rate":100,"display_name":"Java Main"},"score":3,"creation_date":1609789840,"post_id":58773038,"comment_id":115927447,"body_markdown":"To work on Windows  you have to change    file.toString().replace(&#39;/&#39;, &#39;.&#39;) with    final String path = file.toString().replace(&#39;\\\\, &#39;.&#39;);","body":"To work on Windows  you have to change    file.toString().replace(&#39;/&#39;, &#39;.&#39;) with    final String path = file.toString().replace(&#39;\\\\, &#39;.&#39;);"},{"owner":{"account_id":2903880,"reputation":1535,"user_id":2489816,"display_name":"Raiden Core"},"score":0,"creation_date":1633120671,"post_id":58773038,"comment_id":122685056,"body_markdown":"This should be the one answer and only one answer !","body":"This should be the one answer and only one answer !"}],"tags":[],"owner":{"display_name":"user4718768"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1573342571,"creation_date":1573243056,"answer_id":58773038,"question_id":520328,"body_markdown":"What about this:\r\n\r\n\tpublic static List&lt;Class&lt;?&gt;&gt; getClassesForPackage(final String pkgName) throws IOException, URISyntaxException {\r\n\t\tfinal String pkgPath = pkgName.replace(&#39;.&#39;, &#39;/&#39;);\r\n\t\tfinal URI pkg = Objects.requireNonNull(ClassLoader.getSystemClassLoader().getResource(pkgPath)).toURI();\r\n\t\tfinal ArrayList&lt;Class&lt;?&gt;&gt; allClasses = new ArrayList&lt;Class&lt;?&gt;&gt;();\r\n\r\n\t\tPath root;\r\n\t\tif (pkg.toString().startsWith(&quot;jar:&quot;)) {\r\n\t\t\ttry {\r\n\t\t\t\troot = FileSystems.getFileSystem(pkg).getPath(pkgPath);\r\n\t\t\t} catch (final FileSystemNotFoundException e) {\r\n\t\t\t\troot = FileSystems.newFileSystem(pkg, Collections.emptyMap()).getPath(pkgPath);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\troot = Paths.get(pkg);\r\n\t\t}\r\n\r\n\t\tfinal String extension = &quot;.class&quot;;\r\n\t\ttry (final Stream&lt;Path&gt; allPaths = Files.walk(root)) {\r\n\t\t\tallPaths.filter(Files::isRegularFile).forEach(file -&gt; {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfinal String path = file.toString().replace(&#39;/&#39;, &#39;.&#39;);\r\n\t\t\t\t\tfinal String name = path.substring(path.indexOf(pkgName), path.length() - extension.length());\r\n\t\t\t\t\tallClasses.add(Class.forName(name));\r\n\t\t\t\t} catch (final ClassNotFoundException | StringIndexOutOfBoundsException ignored) {\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn allClasses;\r\n\t}\r\n\r\nYou can then overload the function:\r\n\r\n\tpublic static List&lt;Class&lt;?&gt;&gt; getClassesForPackage(final Package pkg) throws IOException, URISyntaxException {\r\n\t\treturn getClassesForPackage(pkg.getName());\r\n\t}\r\n\r\nIf you need to test it:\r\n\r\n\tpublic static void main(final String[] argv) throws IOException, URISyntaxException {\r\n\t\tfor (final Class&lt;?&gt; cls : getClassesForPackage(&quot;my.package&quot;)) {\r\n\t\t\tSystem.out.println(cls);\r\n\t\t}\r\n\t\tfor (final Class&lt;?&gt; cls : getClassesForPackage(MyClass.class.getPackage())) {\r\n\t\t\tSystem.out.println(cls);\r\n\t\t}\r\n\t}\r\n\r\nIf your IDE does not have import helper:\r\n\r\n\timport java.io.IOException;\r\n\timport java.net.URI;\r\n\timport java.net.URISyntaxException;\r\n\timport java.nio.file.FileSystemNotFoundException;\r\n\timport java.nio.file.FileSystems;\r\n\timport java.nio.file.Files;\r\n\timport java.nio.file.Path;\r\n\timport java.nio.file.Paths;\r\n\timport java.util.ArrayList;\r\n\timport java.util.Collections;\r\n\timport java.util.List;\r\n\timport java.util.Objects;\r\n\timport java.util.stream.Stream;\r\n\r\nIt works:\r\n\r\n- from your IDE\r\n\r\n- for a JAR file\r\n\r\n- without external dependencies","title":"Can you find all classes in a package using reflection?","body":"<p>What about this:</p>\n\n<pre><code>public static List&lt;Class&lt;?&gt;&gt; getClassesForPackage(final String pkgName) throws IOException, URISyntaxException {\n    final String pkgPath = pkgName.replace('.', '/');\n    final URI pkg = Objects.requireNonNull(ClassLoader.getSystemClassLoader().getResource(pkgPath)).toURI();\n    final ArrayList&lt;Class&lt;?&gt;&gt; allClasses = new ArrayList&lt;Class&lt;?&gt;&gt;();\n\n    Path root;\n    if (pkg.toString().startsWith(\"jar:\")) {\n        try {\n            root = FileSystems.getFileSystem(pkg).getPath(pkgPath);\n        } catch (final FileSystemNotFoundException e) {\n            root = FileSystems.newFileSystem(pkg, Collections.emptyMap()).getPath(pkgPath);\n        }\n    } else {\n        root = Paths.get(pkg);\n    }\n\n    final String extension = \".class\";\n    try (final Stream&lt;Path&gt; allPaths = Files.walk(root)) {\n        allPaths.filter(Files::isRegularFile).forEach(file -&gt; {\n            try {\n                final String path = file.toString().replace('/', '.');\n                final String name = path.substring(path.indexOf(pkgName), path.length() - extension.length());\n                allClasses.add(Class.forName(name));\n            } catch (final ClassNotFoundException | StringIndexOutOfBoundsException ignored) {\n            }\n        });\n    }\n    return allClasses;\n}\n</code></pre>\n\n<p>You can then overload the function:</p>\n\n<pre><code>public static List&lt;Class&lt;?&gt;&gt; getClassesForPackage(final Package pkg) throws IOException, URISyntaxException {\n    return getClassesForPackage(pkg.getName());\n}\n</code></pre>\n\n<p>If you need to test it:</p>\n\n<pre><code>public static void main(final String[] argv) throws IOException, URISyntaxException {\n    for (final Class&lt;?&gt; cls : getClassesForPackage(\"my.package\")) {\n        System.out.println(cls);\n    }\n    for (final Class&lt;?&gt; cls : getClassesForPackage(MyClass.class.getPackage())) {\n        System.out.println(cls);\n    }\n}\n</code></pre>\n\n<p>If your IDE does not have import helper:</p>\n\n<pre><code>import java.io.IOException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.nio.file.FileSystemNotFoundException;\nimport java.nio.file.FileSystems;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.stream.Stream;\n</code></pre>\n\n<p>It works:</p>\n\n<ul>\n<li><p>from your IDE</p></li>\n<li><p>for a JAR file</p></li>\n<li><p>without external dependencies</p></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":10099760,"reputation":427,"user_id":7463981,"display_name":"lukas84"},"score":1,"creation_date":1638812288,"post_id":58911838,"comment_id":124182037,"body_markdown":"Be aware that this works great in Reflections 0.9.12, but does not find any types in version 0.10 (where SubTypesScanner has been deprecated).","body":"Be aware that this works great in Reflections 0.9.12, but does not find any types in version 0.10 (where SubTypesScanner has been deprecated)."}],"tags":[],"owner":{"account_id":1897772,"reputation":4354,"user_id":1714329,"accept_rate":83,"display_name":"botenvouwer"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655346447,"creation_date":1574070609,"answer_id":58911838,"question_id":520328,"body_markdown":"I couldn&#39;t find a short working snippet for something so simple. So here it is, I made it myself after screwing around for a while:\r\n\r\n    Reflections reflections =\r\n        new Reflections(new ConfigurationBuilder()\r\n                .filterInputsBy(new FilterBuilder().includePackage(packagePath))\r\n                .setUrls(ClasspathHelper.forPackage(packagePath))\r\n                .setScanners(new SubTypesScanner(false)));\r\n    \r\n    Set&lt;String&gt; typeList = reflections.getAllTypes();\r\nIt uses `org.reflections`.","title":"Can you find all classes in a package using reflection?","body":"<p>I couldn't find a short working snippet for something so simple. So here it is, I made it myself after screwing around for a while:</p>\n<pre><code>Reflections reflections =\n    new Reflections(new ConfigurationBuilder()\n            .filterInputsBy(new FilterBuilder().includePackage(packagePath))\n            .setUrls(ClasspathHelper.forPackage(packagePath))\n            .setScanners(new SubTypesScanner(false)));\n\nSet&lt;String&gt; typeList = reflections.getAllTypes();\n</code></pre>\n<p>It uses <code>org.reflections</code>.</p>\n"},{"tags":[],"owner":{"account_id":423223,"reputation":5101,"user_id":802482,"accept_rate":67,"display_name":"Black"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1588257982,"creation_date":1588256464,"answer_id":61525596,"question_id":520328,"body_markdown":"If you&#39;re in Spring-land you can use `PathMatchingResourcePatternResolver`;\r\n\r\n      PathMatchingResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();\r\n      Resource[] resources = resolver.getResources(&quot;classpath*:some/package/name/*.class&quot;);\r\n\t\t\t\r\n\t\tArrays.asList(resources).forEach(r-&gt;{\r\n\t\t    ...\r\n\t\t});","title":"Can you find all classes in a package using reflection?","body":"<p>If you're in Spring-land you can use <code>PathMatchingResourcePatternResolver</code>;</p>\n\n<pre><code>  PathMatchingResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();\n  Resource[] resources = resolver.getResources(\"classpath*:some/package/name/*.class\");\n\n    Arrays.asList(resources).forEach(r-&gt;{\n        ...\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2657838,"reputation":1407,"user_id":2298162,"display_name":"ognjenkl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649086045,"creation_date":1649086045,"answer_id":71739824,"question_id":520328,"body_markdown":"As of `org.reflections` version `0.10` :\r\n\r\n    org.reflections.scanners.SubTypesScanner \r\n\r\nand \r\n\r\n    org.reflections.Reflections.getAllTypes() \r\n\r\nare deprecated. I userd:\r\n\r\n   \r\n\r\n    public Set&lt;String&gt; getEntityNamesInPackage(String packagePath) {\r\n        Reflections reflections = new Reflections(new ConfigurationBuilder()\r\n                        .filterInputsBy(new FilterBuilder().includePackage(packagePath))\r\n                        .setUrls(ClasspathHelper.forPackage(packagePath))\r\n                        .setScanners(SubTypes.filterResultsBy(s -&gt; true)));\r\n    \r\n        return reflections.getAll(SubTypes).stream()\r\n                .filter(s -&gt; s.startsWith(packagePath))\r\n                .collect(Collectors.toSet());\r\n    }\r\n\r\n\r\n\r\n","title":"Can you find all classes in a package using reflection?","body":"<p>As of <code>org.reflections</code> version <code>0.10</code> :</p>\n<pre><code>org.reflections.scanners.SubTypesScanner \n</code></pre>\n<p>and</p>\n<pre><code>org.reflections.Reflections.getAllTypes() \n</code></pre>\n<p>are deprecated. I userd:</p>\n<pre><code>public Set&lt;String&gt; getEntityNamesInPackage(String packagePath) {\n    Reflections reflections = new Reflections(new ConfigurationBuilder()\n                    .filterInputsBy(new FilterBuilder().includePackage(packagePath))\n                    .setUrls(ClasspathHelper.forPackage(packagePath))\n                    .setScanners(SubTypes.filterResultsBy(s -&gt; true)));\n\n    return reflections.getAll(SubTypes).stream()\n            .filter(s -&gt; s.startsWith(packagePath))\n            .collect(Collectors.toSet());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24310333,"reputation":31,"user_id":18252455,"display_name":"Patrick Hechler"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650366987,"creation_date":1650039810,"answer_id":71886472,"question_id":520328,"body_markdown":"this scans the class loaders and all parent loaders for jar files and directories.\r\nthe jar files and directories referred by the Class-Path of the jars are also loaded.\r\n\r\nthis code is testet with Java 8,11,18.\r\non 8 everything works perfectly using the URLClassLoader and the getURLs() method.\r\non 11 it works fine using reflections, but the JVM prints a warning on the stderr stream (not redirectible with System.setErr() with my JVM)\r\non 18 the reflections are useless (throws NoSuchMethod/Field), and the only thing (where I know that it works) is to use the getResource() method. When the class loader loades the resources of the given package from the file system a simple path url is returned. When the class loader loades the resources from a jar a url like &#39;jar:file:[jar-path]!/[in-jar-path]&#39; is returned.\r\n\r\nI have used the answer https://stackoverflow.com/a/1157352/18252455 (from a duplicate question) and added the functionality to read the Class-Path and also search for directory URLs.\r\n\r\n    /**\r\n     * orig description:&lt;br&gt;\r\n     * Scans all classloaders for the current thread for loaded jars, and then scans\r\n     * each jar for the package name in question, listing all classes directly under\r\n     * the package name in question. Assumes directory structure in jar file and class\r\n     * package naming follow java conventions (i.e. com.example.test.MyTest would be in\r\n     * /com/example/test/MyTest.class)\r\n     * &lt;p&gt;\r\n     * in addition this method also scans for directories, where also is assumed, that the classes are\r\n     * placed followed by the java conventions. (i.e. &lt;code&gt;com.example.test.MyTest&lt;/code&gt; would be in\r\n     * &lt;code&gt;directory/com/example/test/MyTest.class&lt;/code&gt;)\r\n     * &lt;p&gt;\r\n     * this method also reads the jars Class-Path for other jars and directories. for the jars and\r\n     * directories referred in the jars are scanned with the same rules as defined here.&lt;br&gt;\r\n     * it is ensured that no jar/directory is scanned exactly one time.\r\n     * &lt;p&gt;\r\n     * if {@code bailError} is &lt;code&gt;true&lt;/code&gt; all errors will be wrapped in a\r\n     * {@link RuntimeException}\r\n     * and then thrown.&lt;br&gt;\r\n     * a {@link RuntimeException} will also be thrown if something unexpected happens.&lt;br&gt;\r\n     * \r\n     * @param packageName\r\n     *            the name of the package for which the classes should be searched\r\n     * @param allowSubPackages\r\n     *            &lt;code&gt;true&lt;/code&gt; is also classes in sub packages should be found\r\n     * @param loader\r\n     *            the {@link ClassLoader} which should be used to find the URLs and to load classes\r\n     * @param bailError\r\n     *            if all {@link Exception} should be re-thrown wrapped in {@link RuntimeException} and\r\n     *            if a {@link RuntimeException} should be thrown, when something is not as expected.\r\n     * @see https://stackoverflow.com/questions/1156552/java-package-introspection\r\n     * @see https://stackoverflow.com/a/1157352/18252455\r\n     * @see https://creativecommons.org/licenses/by-sa/2.5/\r\n     * @see https://creativecommons.org/licenses/by-sa/2.5/legalcode\r\n     */\r\n    public static Set &lt;Class &lt;?&gt;&gt; tryGetClassesForPackage(String packageName, boolean allowSubPackages, ClassLoader loader, boolean bailError) {\r\n        Set &lt;URL&gt; jarUrls = new HashSet &lt;URL&gt;();\r\n        Set &lt;Path&gt; directorys = new HashSet &lt;Path&gt;();\r\n        findClassPools(loader, jarUrls, directorys, bailError, packageName);\r\n        Set &lt;Class &lt;?&gt;&gt; jarClasses = findJarClasses(allowSubPackages, packageName, jarUrls, directorys, loader, bailError);\r\n        Set &lt;Class &lt;?&gt;&gt; dirClasses = findDirClasses(allowSubPackages, packageName, directorys, loader, bailError);\r\n        jarClasses.addAll(dirClasses);\r\n        return jarClasses;\r\n    }\r\n    \r\n    private static Set &lt;Class &lt;?&gt;&gt; findDirClasses(boolean subPackages, String packageName, Set &lt;Path&gt; directorys, ClassLoader loader, boolean bailError) {\r\n        Filter &lt;Path&gt; filter;\r\n        Set &lt;Class &lt;?&gt;&gt; result = new HashSet &lt;&gt;();\r\n        for (Path startPath : directorys) {\r\n            String packagePath = packageName.replace(&quot;.&quot;, startPath.getFileSystem().getSeparator());\r\n            final Path searchPath = startPath.resolve(packagePath).toAbsolutePath();\r\n            if (subPackages) {\r\n                filter = p -&gt; {\r\n                    p = p.toAbsolutePath();\r\n                    Path other;\r\n                    if (p.getNameCount() &gt;= searchPath.getNameCount()) {\r\n                        other = searchPath;\r\n                    } else {\r\n                        other = searchPath.subpath(0, p.getNameCount());\r\n                    }\r\n                    if (p.startsWith(other)) {\r\n                        return true;\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                };\r\n            } else {\r\n                filter = p -&gt; {\r\n                    p = p.toAbsolutePath();\r\n                    if (p.getNameCount() &gt; searchPath.getNameCount() + 1) {\r\n                        return false;\r\n                    } else if (p.toAbsolutePath().startsWith(searchPath)) {\r\n                        return true;\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                };\r\n            }\r\n            if (Files.exists(searchPath)) {\r\n                findDirClassFilesRecursive(filter, searchPath, startPath, result, loader, bailError);\r\n            } // the package does not have to exist in every directory\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    private static void findDirClassFilesRecursive(Filter &lt;Path&gt; filter, Path path, Path start, Set &lt;Class &lt;?&gt;&gt; classes, ClassLoader loader, boolean bailError) {\r\n        try (DirectoryStream &lt;Path&gt; dirStream = Files.newDirectoryStream(path, filter)) {\r\n            for (Path p : dirStream) {\r\n                if (Files.isDirectory(p)) {\r\n                    findDirClassFilesRecursive(filter, p, start, classes, loader, bailError);\r\n                } else {\r\n                    Path subp = p.subpath(start.getNameCount(), p.getNameCount());\r\n                    String str = subp.toString();\r\n                    if (str.endsWith(&quot;.class&quot;)) {\r\n                        str = str.substring(0, str.length() - 6);\r\n                        String sep = p.getFileSystem().getSeparator();\r\n                        if (str.startsWith(sep)) {\r\n                            str = str.substring(sep.length());\r\n                        }\r\n                        if (str.endsWith(sep)) {\r\n                            str = str.substring(0, str.length() - sep.length());\r\n                        }\r\n                        String fullClassName = str.replace(sep, &quot;.&quot;);\r\n                        try {\r\n                            Class &lt;?&gt; cls = Class.forName(fullClassName, false, loader);\r\n                            classes.add(cls);\r\n                        } catch (ClassNotFoundException e) {\r\n                            if (bailError) {\r\n                                throw new RuntimeException(e);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            if (bailError) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n    \r\n    private static Set &lt;Class &lt;?&gt;&gt; findJarClasses(boolean subPackages, String packageName, Set &lt;URL&gt; nextJarUrls, Set &lt;Path&gt; directories, ClassLoader loader, boolean bailError) {\r\n        String packagePath = packageName.replace(&#39;.&#39;, &#39;/&#39;);\r\n        Set &lt;Class &lt;?&gt;&gt; result = new HashSet &lt;&gt;();\r\n        Set &lt;URL&gt; allJarUrls = new HashSet &lt;&gt;();\r\n        while (true) {\r\n            Set &lt;URL&gt; thisJarUrls = new HashSet &lt;&gt;(nextJarUrls);\r\n            thisJarUrls.removeAll(allJarUrls);\r\n            if (thisJarUrls.isEmpty()) {\r\n                break;\r\n            }\r\n            allJarUrls.addAll(thisJarUrls);\r\n            for (URL url : thisJarUrls) {\r\n                try (JarInputStream stream = new JarInputStream(url.openStream())) {\r\n                    // may want better way to open url connections\r\n                    readJarClassPath(stream, nextJarUrls, directories, bailError);\r\n                    JarEntry entry = stream.getNextJarEntry();\r\n                    while (entry != null) {\r\n                        String name = entry.getName();\r\n                        int i = name.lastIndexOf(&quot;/&quot;);\r\n                        \r\n                        if (i &gt; 0 &amp;&amp; name.endsWith(&quot;.class&quot;)) {\r\n                            try {\r\n                                if (subPackages) {\r\n                                    if (name.substring(0, i).startsWith(packagePath)) {\r\n                                        Class &lt;?&gt; cls = Class.forName(name.substring(0, name.length() - 6).replace(&quot;/&quot;, &quot;.&quot;), false, loader);\r\n                                        result.add(cls);\r\n                                    }\r\n                                } else {\r\n                                    if (name.substring(0, i).equals(packagePath)) {\r\n                                        Class &lt;?&gt; cls = Class.forName(name.substring(0, name.length() - 6).replace(&quot;/&quot;, &quot;.&quot;), false, loader);\r\n                                        result.add(cls);\r\n                                    }\r\n                                }\r\n                            } catch (ClassNotFoundException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                        entry = stream.getNextJarEntry();\r\n                    }\r\n                    stream.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    private static void readJarClassPath(JarInputStream stream, Set &lt;URL&gt; jarUrls, Set &lt;Path&gt; directories, boolean bailError) {\r\n        Object classPathObj = stream.getManifest().getMainAttributes().get(new Name(&quot;Class-Path&quot;));\r\n        if (classPathObj == null) {\r\n            return;\r\n        }\r\n        if (classPathObj instanceof String) {\r\n            String[] entries = ((String) classPathObj).split(&quot;\\\\s+&quot;);// should also work with a single space (&quot; &quot;)\r\n            for (String entry : entries) {\r\n                try {\r\n                    URL url = new URL(entry);\r\n                    addFromUrl(jarUrls, directories, url, bailError);\r\n                } catch (MalformedURLException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        } else if (bailError) {\r\n            throw new RuntimeException(&quot;the Class-Path attribute is no String: &quot; + classPathObj.getClass().getName() + &quot; tos=&#39;&quot; + classPathObj + &quot;&#39;&quot;);\r\n        }\r\n    }\r\n    \r\n    private static void findClassPools(ClassLoader classLoader, Set &lt;URL&gt; jarUrls, Set &lt;Path&gt; directoryPaths, boolean bailError, String packageName) {\r\n        packageName = packageName.replace(&#39;.&#39;, &#39;/&#39;);\r\n        while (classLoader != null) {\r\n            if (classLoader instanceof URLClassLoader) {\r\n                for (URL url : ((URLClassLoader) classLoader).getURLs()) {\r\n                    addFromUrl(jarUrls, directoryPaths, url, bailError);\r\n                    System.out.println(&quot;rurl-class-loade.url[n]r-&gt;&#39;&quot; + url + &quot;&#39;&quot;);\r\n                }\r\n            } else {\r\n                URL res = classLoader.getResource(&quot;&quot;);\r\n                if (res != null) {\r\n                    addFromUrl(jarUrls, directoryPaths, res, bailError);\r\n                }\r\n                res = classLoader.getResource(&quot;/&quot;);\r\n                if (res != null) {\r\n                    addFromUrl(jarUrls, directoryPaths, res, bailError);\r\n                }\r\n                res = classLoader.getResource(&quot;/&quot; + packageName);\r\n                if (res != null) {\r\n                    res = removePackageFromUrl(res, packageName, bailError);\r\n                    if (res != null) {\r\n                        addFromUrl(jarUrls, directoryPaths, res, bailError);\r\n                    }\r\n                }\r\n                res = classLoader.getResource(packageName);\r\n                if (res != null) {\r\n                    res = removePackageFromUrl(res, packageName, bailError);\r\n                    if (res != null) {\r\n                        addFromUrl(jarUrls, directoryPaths, res, bailError);\r\n                    }\r\n                }\r\n                addFromUnknownClass(classLoader, jarUrls, directoryPaths, bailError, 8);\r\n            }\r\n            classLoader = classLoader.getParent();\r\n        }\r\n    }\r\n    \r\n    private static URL removePackageFromUrl(URL res, String packagePath, boolean bailError) {\r\n        packagePath = &quot;/&quot; + packagePath;\r\n        String urlStr = res.toString();\r\n        if ( !urlStr.endsWith(packagePath)) {\r\n            if (bailError) {\r\n                throw new RuntimeException(&quot;the url string does not end with the packagepath! packagePath=&#39;&quot; + packagePath + &quot;&#39; urlStr=&#39;&quot; + urlStr + &quot;&#39;&quot;);\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n        urlStr = urlStr.substring(0, urlStr.length() - packagePath.length());\r\n        if (urlStr.endsWith(&quot;!&quot;)) {\r\n            urlStr = urlStr.substring(0, urlStr.length() - 1);\r\n        }\r\n        if (urlStr.startsWith(&quot;jar:&quot;)) {\r\n            urlStr = urlStr.substring(4);\r\n        }\r\n        try {\r\n            return new URL(urlStr);\r\n        } catch (MalformedURLException e) {\r\n            if (bailError) {\r\n                throw new RuntimeException(e);\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n    \r\n    private static void addFromUnknownClass(Object instance, Set &lt;URL&gt; jarUrls, Set &lt;Path&gt; directoryPaths, boolean bailError, int maxDeep) {\r\n        Class &lt;?&gt; cls = instance.getClass();\r\n        while (cls != null) {\r\n            Field[] fields = cls.getDeclaredFields();\r\n            for (Field field : fields) {\r\n                Class &lt;?&gt; type = field.getType();\r\n                Object value;\r\n                try {\r\n                    value = getValue(instance, field);\r\n                    if (value != null) {\r\n                        addFromUnknownValue(value, jarUrls, directoryPaths, bailError, type, field.getName(), maxDeep - 1);\r\n                    }\r\n                } catch (IllegalArgumentException | IllegalAccessException | SecurityException e) {\r\n                    if (bailError) {\r\n                        final String version = System.getProperty(&quot;java.version&quot;);\r\n                        String vers = version;\r\n                        if (vers.startsWith(&quot;1.&quot;)) {\r\n                            vers = vers.substring(2);\r\n                        }\r\n                        int dotindex = vers.indexOf(&#39;.&#39;);\r\n                        if (dotindex != -1) {\r\n                            vers = vers.substring(0, dotindex);\r\n                        }\r\n                        int versNum;\r\n                        try {\r\n                            versNum = Integer.parseInt(vers);\r\n                        } catch (NumberFormatException e1) {\r\n                            throw new RuntimeException(&quot;illegal version: &#39;&quot; + version + &quot;&#39; lastError: &quot; + e.getMessage(), e);\r\n                        }\r\n                        if (versNum &lt;= 11) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            cls = cls.getSuperclass();\r\n        }\r\n        \r\n    }\r\n    \r\n    private static Object getValue(Object instance, Field field) throws IllegalArgumentException, IllegalAccessException, SecurityException {\r\n        try {\r\n            boolean flag = field.isAccessible();\r\n            boolean newflag = flag;\r\n            try {\r\n                field.setAccessible(true);\r\n                newflag = true;\r\n            } catch (Exception e) {}\r\n            try {\r\n                return field.get(instance);\r\n            } finally {\r\n                if (flag != newflag) {\r\n                    field.setAccessible(flag);\r\n                }\r\n            }\r\n        } catch (IllegalArgumentException | IllegalAccessException | SecurityException e) {\r\n            try {\r\n                Field override = AccessibleObject.class.getDeclaredField(&quot;override&quot;);\r\n                boolean flag = override.isAccessible();\r\n                boolean newFlag = flag;\r\n                try {\r\n                    override.setAccessible(true);\r\n                    flag = true;\r\n                } catch (Exception s) {}\r\n                override.setBoolean(field, true);\r\n                if (flag != newFlag) {\r\n                    override.setAccessible(flag);\r\n                }\r\n                return field.get(instance);\r\n            } catch (IllegalArgumentException | IllegalAccessException | NoSuchFieldException | SecurityException e1) {\r\n                e.addSuppressed(e1);\r\n                throw e;\r\n            }\r\n        }\r\n    }\r\n    \r\n    private static void addFromUnknownValue(Object value, Set &lt;URL&gt; jarUrls, Set &lt;Path&gt; directoryPaths, boolean bailError, Class &lt;?&gt; type, String fieldName, int maxDeep) {\r\n        if (Collection.class.isAssignableFrom(type)) {\r\n            for (Object obj : (Collection &lt;?&gt;) value) {\r\n                URL url = null;\r\n                try {\r\n                    if (obj instanceof URL) {\r\n                        url = (URL) obj;\r\n                    } else if (obj instanceof Path) {\r\n                        url = ((Path) obj).toUri().toURL();\r\n                    } else if (obj instanceof File) {\r\n                        url = ((File) obj).toURI().toURL();\r\n                    }\r\n                } catch (MalformedURLException e) {\r\n                    if (bailError) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n                if (url != null) {\r\n                    addFromUrl(jarUrls, directoryPaths, url, bailError);\r\n                }\r\n            }\r\n        } else if (URL[].class.isAssignableFrom(type)) {\r\n            for (URL url : (URL[]) value) {\r\n                addFromUrl(jarUrls, directoryPaths, url, bailError);\r\n            }\r\n        } else if (Path[].class.isAssignableFrom(type)) {\r\n            for (Path path : (Path[]) value) {\r\n                try {\r\n                    addFromUrl(jarUrls, directoryPaths, path.toUri().toURL(), bailError);\r\n                } catch (MalformedURLException e) {\r\n                    if (bailError) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            }\r\n        } else if (File[].class.isAssignableFrom(type)) {\r\n            for (File file : (File[]) value) {\r\n                try {\r\n                    addFromUrl(jarUrls, directoryPaths, file.toURI().toURL(), bailError);\r\n                } catch (MalformedURLException e) {\r\n                    if (bailError) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            }\r\n        } else if (maxDeep &gt; 0) {\r\n            addFromUnknownClass(value, jarUrls, directoryPaths, bailError, maxDeep - 1);\r\n        }\r\n    }\r\n    \r\n    private static void addFromUrl(Set &lt;URL&gt; jarUrls, Set &lt;Path&gt; directoryPaths, URL url, boolean bailError) {\r\n        if (url.getFile().endsWith(&quot;.jar&quot;) || url.getFile().endsWith(&quot;.zip&quot;)) {\r\n            // may want better way to detect jar files\r\n            jarUrls.add(url);\r\n        } else {\r\n            try {\r\n                Path path = Paths.get(url.toURI());\r\n                if (Files.isDirectory(path)) {\r\n                    directoryPaths.add(path);\r\n                } else if (bailError) {\r\n                    throw new RuntimeException(&quot;unknown url for class loading: &quot; + url);\r\n                }\r\n            } catch (URISyntaxException e) {\r\n                if (bailError) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nimports:\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.lang.reflect.AccessibleObject;\r\n    import java.lang.reflect.Field;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URISyntaxException;\r\n    import java.net.URL;\r\n    import java.net.URLClassLoader;\r\n    import java.nio.file.DirectoryStream;\r\n    import java.nio.file.DirectoryStream.Filter;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.util.Collection;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    import java.util.jar.Attributes.Name;\r\n    import java.util.jar.JarEntry;\r\n    import java.util.jar.JarInputStream;\r\n","title":"Can you find all classes in a package using reflection?","body":"<p>this scans the class loaders and all parent loaders for jar files and directories.\nthe jar files and directories referred by the Class-Path of the jars are also loaded.</p>\n<p>this code is testet with Java 8,11,18.\non 8 everything works perfectly using the URLClassLoader and the getURLs() method.\non 11 it works fine using reflections, but the JVM prints a warning on the stderr stream (not redirectible with System.setErr() with my JVM)\non 18 the reflections are useless (throws NoSuchMethod/Field), and the only thing (where I know that it works) is to use the getResource() method. When the class loader loades the resources of the given package from the file system a simple path url is returned. When the class loader loades the resources from a jar a url like 'jar:file:[jar-path]!/[in-jar-path]' is returned.</p>\n<p>I have used the answer <a href=\"https://stackoverflow.com/a/1157352/18252455\">https://stackoverflow.com/a/1157352/18252455</a> (from a duplicate question) and added the functionality to read the Class-Path and also search for directory URLs.</p>\n<pre><code>/**\n * orig description:&lt;br&gt;\n * Scans all classloaders for the current thread for loaded jars, and then scans\n * each jar for the package name in question, listing all classes directly under\n * the package name in question. Assumes directory structure in jar file and class\n * package naming follow java conventions (i.e. com.example.test.MyTest would be in\n * /com/example/test/MyTest.class)\n * &lt;p&gt;\n * in addition this method also scans for directories, where also is assumed, that the classes are\n * placed followed by the java conventions. (i.e. &lt;code&gt;com.example.test.MyTest&lt;/code&gt; would be in\n * &lt;code&gt;directory/com/example/test/MyTest.class&lt;/code&gt;)\n * &lt;p&gt;\n * this method also reads the jars Class-Path for other jars and directories. for the jars and\n * directories referred in the jars are scanned with the same rules as defined here.&lt;br&gt;\n * it is ensured that no jar/directory is scanned exactly one time.\n * &lt;p&gt;\n * if {@code bailError} is &lt;code&gt;true&lt;/code&gt; all errors will be wrapped in a\n * {@link RuntimeException}\n * and then thrown.&lt;br&gt;\n * a {@link RuntimeException} will also be thrown if something unexpected happens.&lt;br&gt;\n * \n * @param packageName\n *            the name of the package for which the classes should be searched\n * @param allowSubPackages\n *            &lt;code&gt;true&lt;/code&gt; is also classes in sub packages should be found\n * @param loader\n *            the {@link ClassLoader} which should be used to find the URLs and to load classes\n * @param bailError\n *            if all {@link Exception} should be re-thrown wrapped in {@link RuntimeException} and\n *            if a {@link RuntimeException} should be thrown, when something is not as expected.\n * @see https://stackoverflow.com/questions/1156552/java-package-introspection\n * @see https://stackoverflow.com/a/1157352/18252455\n * @see https://creativecommons.org/licenses/by-sa/2.5/\n * @see https://creativecommons.org/licenses/by-sa/2.5/legalcode\n */\npublic static Set &lt;Class &lt;?&gt;&gt; tryGetClassesForPackage(String packageName, boolean allowSubPackages, ClassLoader loader, boolean bailError) {\n    Set &lt;URL&gt; jarUrls = new HashSet &lt;URL&gt;();\n    Set &lt;Path&gt; directorys = new HashSet &lt;Path&gt;();\n    findClassPools(loader, jarUrls, directorys, bailError, packageName);\n    Set &lt;Class &lt;?&gt;&gt; jarClasses = findJarClasses(allowSubPackages, packageName, jarUrls, directorys, loader, bailError);\n    Set &lt;Class &lt;?&gt;&gt; dirClasses = findDirClasses(allowSubPackages, packageName, directorys, loader, bailError);\n    jarClasses.addAll(dirClasses);\n    return jarClasses;\n}\n\nprivate static Set &lt;Class &lt;?&gt;&gt; findDirClasses(boolean subPackages, String packageName, Set &lt;Path&gt; directorys, ClassLoader loader, boolean bailError) {\n    Filter &lt;Path&gt; filter;\n    Set &lt;Class &lt;?&gt;&gt; result = new HashSet &lt;&gt;();\n    for (Path startPath : directorys) {\n        String packagePath = packageName.replace(&quot;.&quot;, startPath.getFileSystem().getSeparator());\n        final Path searchPath = startPath.resolve(packagePath).toAbsolutePath();\n        if (subPackages) {\n            filter = p -&gt; {\n                p = p.toAbsolutePath();\n                Path other;\n                if (p.getNameCount() &gt;= searchPath.getNameCount()) {\n                    other = searchPath;\n                } else {\n                    other = searchPath.subpath(0, p.getNameCount());\n                }\n                if (p.startsWith(other)) {\n                    return true;\n                } else {\n                    return false;\n                }\n            };\n        } else {\n            filter = p -&gt; {\n                p = p.toAbsolutePath();\n                if (p.getNameCount() &gt; searchPath.getNameCount() + 1) {\n                    return false;\n                } else if (p.toAbsolutePath().startsWith(searchPath)) {\n                    return true;\n                } else {\n                    return false;\n                }\n            };\n        }\n        if (Files.exists(searchPath)) {\n            findDirClassFilesRecursive(filter, searchPath, startPath, result, loader, bailError);\n        } // the package does not have to exist in every directory\n    }\n    return result;\n}\n\nprivate static void findDirClassFilesRecursive(Filter &lt;Path&gt; filter, Path path, Path start, Set &lt;Class &lt;?&gt;&gt; classes, ClassLoader loader, boolean bailError) {\n    try (DirectoryStream &lt;Path&gt; dirStream = Files.newDirectoryStream(path, filter)) {\n        for (Path p : dirStream) {\n            if (Files.isDirectory(p)) {\n                findDirClassFilesRecursive(filter, p, start, classes, loader, bailError);\n            } else {\n                Path subp = p.subpath(start.getNameCount(), p.getNameCount());\n                String str = subp.toString();\n                if (str.endsWith(&quot;.class&quot;)) {\n                    str = str.substring(0, str.length() - 6);\n                    String sep = p.getFileSystem().getSeparator();\n                    if (str.startsWith(sep)) {\n                        str = str.substring(sep.length());\n                    }\n                    if (str.endsWith(sep)) {\n                        str = str.substring(0, str.length() - sep.length());\n                    }\n                    String fullClassName = str.replace(sep, &quot;.&quot;);\n                    try {\n                        Class &lt;?&gt; cls = Class.forName(fullClassName, false, loader);\n                        classes.add(cls);\n                    } catch (ClassNotFoundException e) {\n                        if (bailError) {\n                            throw new RuntimeException(e);\n                        }\n                    }\n                }\n            }\n        }\n    } catch (IOException e) {\n        if (bailError) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n\nprivate static Set &lt;Class &lt;?&gt;&gt; findJarClasses(boolean subPackages, String packageName, Set &lt;URL&gt; nextJarUrls, Set &lt;Path&gt; directories, ClassLoader loader, boolean bailError) {\n    String packagePath = packageName.replace('.', '/');\n    Set &lt;Class &lt;?&gt;&gt; result = new HashSet &lt;&gt;();\n    Set &lt;URL&gt; allJarUrls = new HashSet &lt;&gt;();\n    while (true) {\n        Set &lt;URL&gt; thisJarUrls = new HashSet &lt;&gt;(nextJarUrls);\n        thisJarUrls.removeAll(allJarUrls);\n        if (thisJarUrls.isEmpty()) {\n            break;\n        }\n        allJarUrls.addAll(thisJarUrls);\n        for (URL url : thisJarUrls) {\n            try (JarInputStream stream = new JarInputStream(url.openStream())) {\n                // may want better way to open url connections\n                readJarClassPath(stream, nextJarUrls, directories, bailError);\n                JarEntry entry = stream.getNextJarEntry();\n                while (entry != null) {\n                    String name = entry.getName();\n                    int i = name.lastIndexOf(&quot;/&quot;);\n                    \n                    if (i &gt; 0 &amp;&amp; name.endsWith(&quot;.class&quot;)) {\n                        try {\n                            if (subPackages) {\n                                if (name.substring(0, i).startsWith(packagePath)) {\n                                    Class &lt;?&gt; cls = Class.forName(name.substring(0, name.length() - 6).replace(&quot;/&quot;, &quot;.&quot;), false, loader);\n                                    result.add(cls);\n                                }\n                            } else {\n                                if (name.substring(0, i).equals(packagePath)) {\n                                    Class &lt;?&gt; cls = Class.forName(name.substring(0, name.length() - 6).replace(&quot;/&quot;, &quot;.&quot;), false, loader);\n                                    result.add(cls);\n                                }\n                            }\n                        } catch (ClassNotFoundException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                    entry = stream.getNextJarEntry();\n                }\n                stream.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n    return result;\n}\n\nprivate static void readJarClassPath(JarInputStream stream, Set &lt;URL&gt; jarUrls, Set &lt;Path&gt; directories, boolean bailError) {\n    Object classPathObj = stream.getManifest().getMainAttributes().get(new Name(&quot;Class-Path&quot;));\n    if (classPathObj == null) {\n        return;\n    }\n    if (classPathObj instanceof String) {\n        String[] entries = ((String) classPathObj).split(&quot;\\\\s+&quot;);// should also work with a single space (&quot; &quot;)\n        for (String entry : entries) {\n            try {\n                URL url = new URL(entry);\n                addFromUrl(jarUrls, directories, url, bailError);\n            } catch (MalformedURLException e) {\n                e.printStackTrace();\n            }\n        }\n    } else if (bailError) {\n        throw new RuntimeException(&quot;the Class-Path attribute is no String: &quot; + classPathObj.getClass().getName() + &quot; tos='&quot; + classPathObj + &quot;'&quot;);\n    }\n}\n\nprivate static void findClassPools(ClassLoader classLoader, Set &lt;URL&gt; jarUrls, Set &lt;Path&gt; directoryPaths, boolean bailError, String packageName) {\n    packageName = packageName.replace('.', '/');\n    while (classLoader != null) {\n        if (classLoader instanceof URLClassLoader) {\n            for (URL url : ((URLClassLoader) classLoader).getURLs()) {\n                addFromUrl(jarUrls, directoryPaths, url, bailError);\n                System.out.println(&quot;rurl-class-loade.url[n]r-&gt;'&quot; + url + &quot;'&quot;);\n            }\n        } else {\n            URL res = classLoader.getResource(&quot;&quot;);\n            if (res != null) {\n                addFromUrl(jarUrls, directoryPaths, res, bailError);\n            }\n            res = classLoader.getResource(&quot;/&quot;);\n            if (res != null) {\n                addFromUrl(jarUrls, directoryPaths, res, bailError);\n            }\n            res = classLoader.getResource(&quot;/&quot; + packageName);\n            if (res != null) {\n                res = removePackageFromUrl(res, packageName, bailError);\n                if (res != null) {\n                    addFromUrl(jarUrls, directoryPaths, res, bailError);\n                }\n            }\n            res = classLoader.getResource(packageName);\n            if (res != null) {\n                res = removePackageFromUrl(res, packageName, bailError);\n                if (res != null) {\n                    addFromUrl(jarUrls, directoryPaths, res, bailError);\n                }\n            }\n            addFromUnknownClass(classLoader, jarUrls, directoryPaths, bailError, 8);\n        }\n        classLoader = classLoader.getParent();\n    }\n}\n\nprivate static URL removePackageFromUrl(URL res, String packagePath, boolean bailError) {\n    packagePath = &quot;/&quot; + packagePath;\n    String urlStr = res.toString();\n    if ( !urlStr.endsWith(packagePath)) {\n        if (bailError) {\n            throw new RuntimeException(&quot;the url string does not end with the packagepath! packagePath='&quot; + packagePath + &quot;' urlStr='&quot; + urlStr + &quot;'&quot;);\n        } else {\n            return null;\n        }\n    }\n    urlStr = urlStr.substring(0, urlStr.length() - packagePath.length());\n    if (urlStr.endsWith(&quot;!&quot;)) {\n        urlStr = urlStr.substring(0, urlStr.length() - 1);\n    }\n    if (urlStr.startsWith(&quot;jar:&quot;)) {\n        urlStr = urlStr.substring(4);\n    }\n    try {\n        return new URL(urlStr);\n    } catch (MalformedURLException e) {\n        if (bailError) {\n            throw new RuntimeException(e);\n        } else {\n            return null;\n        }\n    }\n}\n\nprivate static void addFromUnknownClass(Object instance, Set &lt;URL&gt; jarUrls, Set &lt;Path&gt; directoryPaths, boolean bailError, int maxDeep) {\n    Class &lt;?&gt; cls = instance.getClass();\n    while (cls != null) {\n        Field[] fields = cls.getDeclaredFields();\n        for (Field field : fields) {\n            Class &lt;?&gt; type = field.getType();\n            Object value;\n            try {\n                value = getValue(instance, field);\n                if (value != null) {\n                    addFromUnknownValue(value, jarUrls, directoryPaths, bailError, type, field.getName(), maxDeep - 1);\n                }\n            } catch (IllegalArgumentException | IllegalAccessException | SecurityException e) {\n                if (bailError) {\n                    final String version = System.getProperty(&quot;java.version&quot;);\n                    String vers = version;\n                    if (vers.startsWith(&quot;1.&quot;)) {\n                        vers = vers.substring(2);\n                    }\n                    int dotindex = vers.indexOf('.');\n                    if (dotindex != -1) {\n                        vers = vers.substring(0, dotindex);\n                    }\n                    int versNum;\n                    try {\n                        versNum = Integer.parseInt(vers);\n                    } catch (NumberFormatException e1) {\n                        throw new RuntimeException(&quot;illegal version: '&quot; + version + &quot;' lastError: &quot; + e.getMessage(), e);\n                    }\n                    if (versNum &lt;= 11) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            }\n        }\n        cls = cls.getSuperclass();\n    }\n    \n}\n\nprivate static Object getValue(Object instance, Field field) throws IllegalArgumentException, IllegalAccessException, SecurityException {\n    try {\n        boolean flag = field.isAccessible();\n        boolean newflag = flag;\n        try {\n            field.setAccessible(true);\n            newflag = true;\n        } catch (Exception e) {}\n        try {\n            return field.get(instance);\n        } finally {\n            if (flag != newflag) {\n                field.setAccessible(flag);\n            }\n        }\n    } catch (IllegalArgumentException | IllegalAccessException | SecurityException e) {\n        try {\n            Field override = AccessibleObject.class.getDeclaredField(&quot;override&quot;);\n            boolean flag = override.isAccessible();\n            boolean newFlag = flag;\n            try {\n                override.setAccessible(true);\n                flag = true;\n            } catch (Exception s) {}\n            override.setBoolean(field, true);\n            if (flag != newFlag) {\n                override.setAccessible(flag);\n            }\n            return field.get(instance);\n        } catch (IllegalArgumentException | IllegalAccessException | NoSuchFieldException | SecurityException e1) {\n            e.addSuppressed(e1);\n            throw e;\n        }\n    }\n}\n\nprivate static void addFromUnknownValue(Object value, Set &lt;URL&gt; jarUrls, Set &lt;Path&gt; directoryPaths, boolean bailError, Class &lt;?&gt; type, String fieldName, int maxDeep) {\n    if (Collection.class.isAssignableFrom(type)) {\n        for (Object obj : (Collection &lt;?&gt;) value) {\n            URL url = null;\n            try {\n                if (obj instanceof URL) {\n                    url = (URL) obj;\n                } else if (obj instanceof Path) {\n                    url = ((Path) obj).toUri().toURL();\n                } else if (obj instanceof File) {\n                    url = ((File) obj).toURI().toURL();\n                }\n            } catch (MalformedURLException e) {\n                if (bailError) {\n                    throw new RuntimeException(e);\n                }\n            }\n            if (url != null) {\n                addFromUrl(jarUrls, directoryPaths, url, bailError);\n            }\n        }\n    } else if (URL[].class.isAssignableFrom(type)) {\n        for (URL url : (URL[]) value) {\n            addFromUrl(jarUrls, directoryPaths, url, bailError);\n        }\n    } else if (Path[].class.isAssignableFrom(type)) {\n        for (Path path : (Path[]) value) {\n            try {\n                addFromUrl(jarUrls, directoryPaths, path.toUri().toURL(), bailError);\n            } catch (MalformedURLException e) {\n                if (bailError) {\n                    throw new RuntimeException(e);\n                }\n            }\n        }\n    } else if (File[].class.isAssignableFrom(type)) {\n        for (File file : (File[]) value) {\n            try {\n                addFromUrl(jarUrls, directoryPaths, file.toURI().toURL(), bailError);\n            } catch (MalformedURLException e) {\n                if (bailError) {\n                    throw new RuntimeException(e);\n                }\n            }\n        }\n    } else if (maxDeep &gt; 0) {\n        addFromUnknownClass(value, jarUrls, directoryPaths, bailError, maxDeep - 1);\n    }\n}\n\nprivate static void addFromUrl(Set &lt;URL&gt; jarUrls, Set &lt;Path&gt; directoryPaths, URL url, boolean bailError) {\n    if (url.getFile().endsWith(&quot;.jar&quot;) || url.getFile().endsWith(&quot;.zip&quot;)) {\n        // may want better way to detect jar files\n        jarUrls.add(url);\n    } else {\n        try {\n            Path path = Paths.get(url.toURI());\n            if (Files.isDirectory(path)) {\n                directoryPaths.add(path);\n            } else if (bailError) {\n                throw new RuntimeException(&quot;unknown url for class loading: &quot; + url);\n            }\n        } catch (URISyntaxException e) {\n            if (bailError) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n}\n</code></pre>\n<p>imports:</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.lang.reflect.AccessibleObject;\nimport java.lang.reflect.Field;\nimport java.net.MalformedURLException;\nimport java.net.URISyntaxException;\nimport java.net.URL;\nimport java.net.URLClassLoader;\nimport java.nio.file.DirectoryStream;\nimport java.nio.file.DirectoryStream.Filter;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.Collection;\nimport java.util.HashSet;\nimport java.util.Set;\nimport java.util.jar.Attributes.Name;\nimport java.util.jar.JarEntry;\nimport java.util.jar.JarInputStream;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24411678,"reputation":173,"user_id":18339056,"display_name":"lost.sof"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652144064,"creation_date":1652141150,"answer_id":72179391,"question_id":520328,"body_markdown":"### Define classes to be scanning in the package `test`\r\n```java\r\npackage test;\r\n\r\npublic class A {\r\n  private class B {}\r\n\r\n  enum C {}\r\n\r\n  record D() {}\r\n}\r\n```\r\n\r\n### For `org.reflections:reflections:0.10.2`, it works for me as follows:\r\n\r\n### Use reflection lib to scan classes in package `test`\r\n```java\r\n@Test\r\nvoid t() {\r\n  final String packagePath = &quot;test&quot;;\r\n  final Reflections reflections =\r\n    new Reflections(packagePath, Scanners.SubTypes.filterResultsBy(v -&gt; true));\r\n  reflections.getAll(Scanners.SubTypes).forEach(System.out::println);\r\n}\r\n```\r\n\r\n### Output\r\n```\r\njava.lang.constant.Constable\r\njava.lang.Enum\r\njava.lang.Comparable\r\njava.lang.Record\r\njava.lang.Object\r\njava.io.Serializable\r\ntest.A$C\r\ntest.A$D\r\ntest.A$B\r\ntest.A\r\n```\r\n\r\n### For `io.github.classgraph:classgraph:4.8.146`, it works for me as follows:\r\n\r\n```java\r\n\r\n@Test\r\nvoid t() {\r\n  final String packagePath = &quot;test&quot;;\r\n  try (ScanResult scanResult = new ClassGraph()\r\n    .enableClassInfo()\r\n    .ignoreClassVisibility()\r\n    .acceptPackages(packagePath)\r\n    .scan()) {\r\n    \r\n    scanResult.getAllClasses()\r\n      .forEach(v -&gt; {\r\n        System.out.println(v.getName());\r\n      });\r\n  }\r\n}\r\n```\r\n\r\n### Output\r\n```\r\ntest.A\r\ntest.A$B\r\ntest.A$C\r\ntest.A$D\r\n```","title":"Can you find all classes in a package using reflection?","body":"<h3>Define classes to be scanning in the package <code>test</code></h3>\n<pre class=\"lang-java prettyprint-override\"><code>package test;\n\npublic class A {\n  private class B {}\n\n  enum C {}\n\n  record D() {}\n}\n</code></pre>\n<h3>For <code>org.reflections:reflections:0.10.2</code>, it works for me as follows:</h3>\n<h3>Use reflection lib to scan classes in package <code>test</code></h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid t() {\n  final String packagePath = &quot;test&quot;;\n  final Reflections reflections =\n    new Reflections(packagePath, Scanners.SubTypes.filterResultsBy(v -&gt; true));\n  reflections.getAll(Scanners.SubTypes).forEach(System.out::println);\n}\n</code></pre>\n<h3>Output</h3>\n<pre><code>java.lang.constant.Constable\njava.lang.Enum\njava.lang.Comparable\njava.lang.Record\njava.lang.Object\njava.io.Serializable\ntest.A$C\ntest.A$D\ntest.A$B\ntest.A\n</code></pre>\n<h3>For <code>io.github.classgraph:classgraph:4.8.146</code>, it works for me as follows:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Test\nvoid t() {\n  final String packagePath = &quot;test&quot;;\n  try (ScanResult scanResult = new ClassGraph()\n    .enableClassInfo()\n    .ignoreClassVisibility()\n    .acceptPackages(packagePath)\n    .scan()) {\n    \n    scanResult.getAllClasses()\n      .forEach(v -&gt; {\n        System.out.println(v.getName());\n      });\n  }\n}\n</code></pre>\n<h3>Output</h3>\n<pre><code>test.A\ntest.A$B\ntest.A$C\ntest.A$D\n</code></pre>\n"}],"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":517599,"favorite_count":0,"down_vote_count":0,"up_vote_count":644,"accepted_answer_id":520339,"answer_count":29,"score":644,"last_activity_date":1680179359,"creation_date":1233927796,"question_id":520328,"body_markdown":"Is it possible to find all classes or interfaces in a given package? (Quickly looking at e.g. [`Package`](http://java.sun.com/javase/6/docs/api/java/lang/Package.html), it would seem like no.)","title":"Can you find all classes in a package using reflection?","body":"<p>Is it possible to find all classes or interfaces in a given package? (Quickly looking at e.g. <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Package.html\" rel=\"noreferrer\"><code>Package</code></a>, it would seem like no.)</p>\n"},{"tags":["java","io","inputstream","outputstream"],"answers":[{"comments":[{"owner":{"account_id":48948,"reputation":35452,"user_id":145574,"accept_rate":90,"display_name":"pstanton"},"score":3,"creation_date":1355476214,"post_id":1830719,"comment_id":19110239,"body_markdown":"`close` always `flush`es, so no.","body":"<code>close</code> always <code>flush</code>es, so no."},{"owner":{"account_id":4713930,"reputation":657,"user_id":3813664,"display_name":"Nils"},"score":0,"creation_date":1620211874,"post_id":1830719,"comment_id":119131901,"body_markdown":"what is buffer ? and why its used for ? how its work ?","body":"what is buffer ? and why its used for ? how its work ?"}],"tags":[],"owner":{"account_id":48948,"reputation":35452,"user_id":145574,"accept_rate":90,"display_name":"pstanton"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1259729810,"creation_date":1259729508,"answer_id":1830719,"question_id":1830698,"body_markdown":"you read from an InputStream and write to an OutputStream.\r\n\r\nfor example, say you want to copy a file. You would create a FileInputStream to read from the source file and a FileOutputStream to write to the new file.\r\n\r\nIf your data is a character stream, you could use a FileReader instead of an InputStream and a FileWriter instead of an OutputStream if you prefer.\r\n\r\n    InputStream input = ... // many different types\r\n    OutputStream output = ... // many different types\r\n    \r\n    byte[] buffer = new byte[1024];\r\n    int n = 0;\r\n    while ((n = input.read(buffer)) != -1)\r\n    \toutput.write(buffer, 0, n);\r\n    \r\n    input.close();\r\n    output.close();","title":"What is InputStream &amp; Output Stream? Why and when do we use them?","body":"<p>you read from an InputStream and write to an OutputStream.</p>\n\n<p>for example, say you want to copy a file. You would create a FileInputStream to read from the source file and a FileOutputStream to write to the new file.</p>\n\n<p>If your data is a character stream, you could use a FileReader instead of an InputStream and a FileWriter instead of an OutputStream if you prefer.</p>\n\n<pre><code>InputStream input = ... // many different types\nOutputStream output = ... // many different types\n\nbyte[] buffer = new byte[1024];\nint n = 0;\nwhile ((n = input.read(buffer)) != -1)\n    output.write(buffer, 0, n);\n\ninput.close();\noutput.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":59951,"reputation":51423,"user_id":179233,"accept_rate":100,"display_name":"Kaleb Brasee"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1259729697,"creation_date":1259729697,"answer_id":1830733,"question_id":1830698,"body_markdown":"OutputStream is an abstract class that represents writing output.  There are many different OutputStream classes, and they write out to certain things (like the screen, or Files, or byte arrays, or network connections, or etc).  InputStream classes access the same things, but they read data in from them.\r\n\r\nHere is [a good basic example][1] of using FileOutputStream and FileInputStream to write data to a file, then read it back in.\r\n\r\n\r\n  [1]: http://www.javacoffeebreak.com/java103/java103.html","title":"What is InputStream &amp; Output Stream? Why and when do we use them?","body":"<p>OutputStream is an abstract class that represents writing output.  There are many different OutputStream classes, and they write out to certain things (like the screen, or Files, or byte arrays, or network connections, or etc).  InputStream classes access the same things, but they read data in from them.</p>\n\n<p>Here is <a href=\"http://www.javacoffeebreak.com/java103/java103.html\" rel=\"noreferrer\">a good basic example</a> of using FileOutputStream and FileInputStream to write data to a file, then read it back in.</p>\n"},{"comments":[{"owner":{"account_id":1985212,"reputation":11953,"user_id":2277817,"accept_rate":57,"display_name":"Gowtham"},"score":59,"creation_date":1406560885,"post_id":1830783,"comment_id":38867286,"body_markdown":"@KorayTugay A stream is generally defined as a set of characters. To be more precise, more than one bit or character is called as a stream.","body":"@KorayTugay A stream is generally defined as a set of characters. To be more precise, more than one bit or character is called as a stream."},{"owner":{"account_id":4180795,"reputation":8008,"user_id":3425884,"accept_rate":47,"display_name":"Prajeet Shrestha"},"score":18,"creation_date":1527138461,"post_id":1830783,"comment_id":88015054,"body_markdown":"More than one character is String also. What differentiates stream from string?","body":"More than one character is String also. What differentiates stream from string?"},{"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"score":1,"creation_date":1569259169,"post_id":1830783,"comment_id":102530580,"body_markdown":"I think a stream is just zeros and ones., not characters.","body":"I think a stream is just zeros and ones., not characters."},{"owner":{"account_id":3642118,"reputation":3404,"user_id":3036007,"display_name":"SteveMellross"},"score":0,"creation_date":1594867825,"post_id":1830783,"comment_id":111279415,"body_markdown":"@PrajeetShrestha I think a stream also has the implication that data the data is available sequentially (no random access) and not persistent (can&#39;t re-read or modify written data). The data may also not be available when requested. E.g. if being streamed over a network.","body":"@PrajeetShrestha I think a stream also has the implication that data the data is available sequentially (no random access) and not persistent (can&#39;t re-read or modify written data). The data may also not be available when requested. E.g. if being streamed over a network."},{"owner":{"account_id":8430169,"reputation":123,"user_id":6326194,"display_name":"Fred Kibuchi"},"score":0,"creation_date":1611004617,"post_id":1830783,"comment_id":116306878,"body_markdown":"Stream data means the data is represented in binary format. i.e, 0&#39;s and 1&#39;s","body":"Stream data means the data is represented in binary format. i.e, 0&#39;s and 1&#39;s"},{"owner":{"account_id":3131041,"reputation":1046,"user_id":2648817,"accept_rate":22,"display_name":"Sai Surya Kattamuri"},"score":0,"creation_date":1625719740,"post_id":1830783,"comment_id":120702643,"body_markdown":"@PrajeetShrestha A String is a Collection(all characters are available right now) of characters, A Stream(CharacterStream) is a Sequence of characters in time","body":"@PrajeetShrestha A String is a Collection(all characters are available right now) of characters, A Stream(CharacterStream) is a Sequence of characters in time"}],"tags":[],"owner":{"account_id":72519,"reputation":7464,"user_id":209359,"display_name":"Chip Uni"},"comment_count":6,"down_vote_count":0,"up_vote_count":240,"is_accepted":true,"score":240,"last_activity_date":1503833127,"creation_date":1259730737,"answer_id":1830783,"question_id":1830698,"body_markdown":"The goal of `InputStream` and `OutputStream` is to abstract different ways to input and output: whether the stream is a file, a web page, or the screen shouldn&#39;t matter.  All that matters is that you receive information from the stream (or send information into that stream.)\r\n\r\n`InputStream` is used for many things that you read from.\r\n\r\n`OutputStream` is used for many things that you write to.\r\n\r\nHere&#39;s some sample code. It assumes the `InputStream instr` and `OutputStream osstr` have already been created:\r\n\r\n    int i;\r\n\r\n    while ((i = instr.read()) != -1) {\r\n        osstr.write(i);\r\n    }\r\n\r\n    instr.close();\r\n    osstr.close();","title":"What is InputStream &amp; Output Stream? Why and when do we use them?","body":"<p>The goal of <code>InputStream</code> and <code>OutputStream</code> is to abstract different ways to input and output: whether the stream is a file, a web page, or the screen shouldn't matter.  All that matters is that you receive information from the stream (or send information into that stream.)</p>\n\n<p><code>InputStream</code> is used for many things that you read from.</p>\n\n<p><code>OutputStream</code> is used for many things that you write to.</p>\n\n<p>Here's some sample code. It assumes the <code>InputStream instr</code> and <code>OutputStream osstr</code> have already been created:</p>\n\n<pre><code>int i;\n\nwhile ((i = instr.read()) != -1) {\n    osstr.write(i);\n}\n\ninstr.close();\nosstr.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70734,"reputation":14669,"user_id":204845,"accept_rate":68,"display_name":"Arne Deutsch"},"comment_count":0,"down_vote_count":0,"up_vote_count":95,"is_accepted":false,"score":95,"last_activity_date":1474921959,"creation_date":1259733981,"answer_id":1830948,"question_id":1830698,"body_markdown":"InputStream is used for reading, OutputStream for writing. They are connected as decorators to one another such that you can read/write all different types of data from all different types of sources.\r\n\r\nFor example, you can write primitive data to a file:\r\n\r\n    File file = new File(&quot;C:/text.bin&quot;);\r\n    file.createNewFile();\r\n    DataOutputStream stream = new DataOutputStream(new FileOutputStream(file));\r\n    stream.writeBoolean(true);\r\n    stream.writeInt(1234);\r\n    stream.close();\r\n\r\nTo read the written contents:\r\n\r\n    File file = new File(&quot;C:/text.bin&quot;);\r\n    DataInputStream stream = new DataInputStream(new FileInputStream(file));\r\n    boolean isTrue = stream.readBoolean();\r\n    int value = stream.readInt();\r\n    stream.close();\r\n    System.out.printlin(isTrue + &quot; &quot; + value);\r\n\r\nYou can use other types of streams to enhance the reading/writing. For example, you can introduce a buffer for efficiency:\r\n\r\n    DataInputStream stream = new DataInputStream(\r\n        new BufferedInputStream(new FileInputStream(file)));\r\n\r\nYou can write other data such as objects:\r\n\r\n    MyClass myObject = new MyClass(); // MyClass have to implement Serializable\r\n    ObjectOutputStream stream = new ObjectOutputStream(\r\n        new FileOutputStream(&quot;C:/text.obj&quot;));\r\n    stream.writeObject(myObject);\r\n    stream.close();\r\n\r\nYou can read from other different input sources:\r\n\r\n    byte[] test = new byte[] {0, 0, 1, 0, 0, 0, 1, 1, 8, 9};\r\n    DataInputStream stream = new DataInputStream(new ByteArrayInputStream(test));\r\n    int value0 = stream.readInt();\r\n    int value1 = stream.readInt();\r\n    byte value2 = stream.readByte();\r\n    byte value3 = stream.readByte();\r\n    stream.close();\r\n    System.out.println(value0 + &quot; &quot; + value1 + &quot; &quot; + value2 + &quot; &quot; + value3);\r\n\r\nFor most input streams there is an output stream, also. You can define your own streams to reading/writing special things and there are complex streams for reading complex things (for example there are Streams for reading/writing ZIP format).","title":"What is InputStream &amp; Output Stream? Why and when do we use them?","body":"<p>InputStream is used for reading, OutputStream for writing. They are connected as decorators to one another such that you can read/write all different types of data from all different types of sources.</p>\n\n<p>For example, you can write primitive data to a file:</p>\n\n<pre><code>File file = new File(\"C:/text.bin\");\nfile.createNewFile();\nDataOutputStream stream = new DataOutputStream(new FileOutputStream(file));\nstream.writeBoolean(true);\nstream.writeInt(1234);\nstream.close();\n</code></pre>\n\n<p>To read the written contents:</p>\n\n<pre><code>File file = new File(\"C:/text.bin\");\nDataInputStream stream = new DataInputStream(new FileInputStream(file));\nboolean isTrue = stream.readBoolean();\nint value = stream.readInt();\nstream.close();\nSystem.out.printlin(isTrue + \" \" + value);\n</code></pre>\n\n<p>You can use other types of streams to enhance the reading/writing. For example, you can introduce a buffer for efficiency:</p>\n\n<pre><code>DataInputStream stream = new DataInputStream(\n    new BufferedInputStream(new FileInputStream(file)));\n</code></pre>\n\n<p>You can write other data such as objects:</p>\n\n<pre><code>MyClass myObject = new MyClass(); // MyClass have to implement Serializable\nObjectOutputStream stream = new ObjectOutputStream(\n    new FileOutputStream(\"C:/text.obj\"));\nstream.writeObject(myObject);\nstream.close();\n</code></pre>\n\n<p>You can read from other different input sources:</p>\n\n<pre><code>byte[] test = new byte[] {0, 0, 1, 0, 0, 0, 1, 1, 8, 9};\nDataInputStream stream = new DataInputStream(new ByteArrayInputStream(test));\nint value0 = stream.readInt();\nint value1 = stream.readInt();\nbyte value2 = stream.readByte();\nbyte value3 = stream.readByte();\nstream.close();\nSystem.out.println(value0 + \" \" + value1 + \" \" + value2 + \" \" + value3);\n</code></pre>\n\n<p>For most input streams there is an output stream, also. You can define your own streams to reading/writing special things and there are complex streams for reading complex things (for example there are Streams for reading/writing ZIP format).</p>\n"},{"tags":[],"owner":{"account_id":11084550,"reputation":9,"user_id":8138760,"display_name":"Deep Arora"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498318943,"creation_date":1498317627,"answer_id":44737922,"question_id":1830698,"body_markdown":"An output stream is generally related to some data destination like a file or a network etc.In java output stream is a destination where data is eventually written and it ends\r\n\r\n\r\n\r\n\r\n    import java.io.printstream;\r\n\r\n    class PPrint {\r\n        static PPrintStream oout = new PPrintStream();\r\n    }\r\n\r\n    class PPrintStream {\r\n        void print(String str) { \r\n            System.out.println(str)\r\n        }\r\n    }\r\n\r\n    class outputstreamDemo {\r\n        public static void main(String args[]) {\r\n            System.out.println(&quot;hello world&quot;);\r\n            System.out.prinln(&quot;this is output stream demo&quot;);\r\n        }\r\n    }\r\n\r\n","title":"What is InputStream &amp; Output Stream? Why and when do we use them?","body":"<p>An output stream is generally related to some data destination like a file or a network etc.In java output stream is a destination where data is eventually written and it ends</p>\n\n<pre><code>import java.io.printstream;\n\nclass PPrint {\n    static PPrintStream oout = new PPrintStream();\n}\n\nclass PPrintStream {\n    void print(String str) { \n        System.out.println(str)\n    }\n}\n\nclass outputstreamDemo {\n    public static void main(String args[]) {\n        System.out.println(\"hello world\");\n        System.out.prinln(\"this is output stream demo\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8064165,"reputation":121,"user_id":6078867,"display_name":"Sher Mohammad"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1510721142,"creation_date":1510721142,"answer_id":47299511,"question_id":1830698,"body_markdown":"&lt;p&gt;&lt;b&gt;Stream&lt;/b&gt;: In laymen terms stream is data , most generic stream is binary representation of data.&lt;/p&gt;\n&lt;p&gt; \n&lt;b&gt;Input Stream&lt;/b&gt; : If you are reading data from a file or any other source , stream used is input stream. In a simpler terms input stream acts as a channel to read data. \n&lt;/p&gt;\n\n&lt;p&gt;\n&lt;b&gt;Output Stream&lt;/b&gt; : If you want to read and process data from a source (file etc) you first need to save the data , the mean to store data is output stream . \n&lt;/p&gt;","title":"What is InputStream &amp; Output Stream? Why and when do we use them?","body":"<p><b>Stream</b>: In laymen terms stream is data , most generic stream is binary representation of data.</p>\n<p> \n<b>Input Stream</b> : If you are reading data from a file or any other source , stream used is input stream. In a simpler terms input stream acts as a channel to read data. \n</p>\n<p>\n<b>Output Stream</b> : If you want to read and process data from a source (file etc) you first need to save the data , the mean to store data is output stream . \n</p>\n"},{"tags":[],"owner":{"account_id":2283646,"reputation":11117,"user_id":2008247,"accept_rate":77,"display_name":"Jan Bodnar"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1575023259,"creation_date":1513607409,"answer_id":47870584,"question_id":1830698,"body_markdown":"&gt; A stream is a continuous flow of liquid, air, or gas.\r\n\r\nJava stream is a flow of data from a source into a destination. The source or destination can be a disk, memory, socket, or other programs. The data can be bytes, characters, or objects. The same applies for C# or C++ streams. A good metaphor for Java streams is water flowing from a tap into a bathtub and later into a drainage.\r\n\r\nThe data represents the static part of the stream; the read and write methods the dynamic part of the stream. \r\n\r\n`InputStream` represents a flow of data from the source, the `OutputStream` represents a flow of data into the destination.\r\nFinally, `InputStream` and `OutputStream` are abstractions over low-level access to data, such as C file pointers.","title":"What is InputStream &amp; Output Stream? Why and when do we use them?","body":"<blockquote>\n  <p>A stream is a continuous flow of liquid, air, or gas.</p>\n</blockquote>\n\n<p>Java stream is a flow of data from a source into a destination. The source or destination can be a disk, memory, socket, or other programs. The data can be bytes, characters, or objects. The same applies for C# or C++ streams. A good metaphor for Java streams is water flowing from a tap into a bathtub and later into a drainage.</p>\n\n<p>The data represents the static part of the stream; the read and write methods the dynamic part of the stream. </p>\n\n<p><code>InputStream</code> represents a flow of data from the source, the <code>OutputStream</code> represents a flow of data into the destination.\nFinally, <code>InputStream</code> and <code>OutputStream</code> are abstractions over low-level access to data, such as C file pointers.</p>\n"},{"tags":[],"owner":{"account_id":21021471,"reputation":21,"user_id":15447713,"display_name":"bjmd"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616379748,"creation_date":1616368414,"answer_id":66738542,"question_id":1830698,"body_markdown":"For one kind of InputStream, you can think of it as a &quot;representation&quot; of a data source, like a file.\r\nFor example:\r\n\r\n    FileInputStream fileInputStream = new FileInputStream(&quot;/path/to/file/abc.txt&quot;);\r\n\r\nfileInputStream represents the data in this path, which you can use read method to read bytes from the file.\r\n\r\nFor the other kind of InputStream, they take in another inputStream and do further processing, like decompression.\r\nFor example:\r\n\r\n    GZIPInputStream gzipInputStream = new GZIPInputStream(fileInputStream);\r\n\r\ngzipInputStream will treat the fileInputStream as a compressed data source. When you use the read(buffer, 0, buffer.length) method, it will decompress part of the gzip file into the buffer you provide.\r\n\r\nThe reason why we use InputStream because as the data in the source becomes larger and larger, say we have 500GB data in the source file, we don&#39;t want to hold everything in the memory (expensive machine; not friendly for GC allocation), and we want to get some result faster (reading the whole file may take a long time).\r\n\r\nThe same thing for OutputStream. We can start moving some result to the destination without waiting for the whole thing to finish, plus less memory consumption.\r\n\r\nIf you want more explanations and examples, you have check these summaries: [InputStream][1], [OutputStream][2], [How To Use InputStream][3], [How To Use OutputStream][4]\r\n\r\n\r\n  [1]: https://coderfoobar.com/what-is-a-java-inputstream/\r\n  [2]: https://coderfoobar.com/what-is-a-java-outputstream/\r\n  [3]: https://coderfoobar.com/how-to-write-efficient-code-using-java-inputstream/\r\n  [4]: https://coderfoobar.com/how-to-write-efficient-code-using-java-outputstream/","title":"What is InputStream &amp; Output Stream? Why and when do we use them?","body":"<p>For one kind of InputStream, you can think of it as a &quot;representation&quot; of a data source, like a file.\nFor example:</p>\n<pre><code>FileInputStream fileInputStream = new FileInputStream(&quot;/path/to/file/abc.txt&quot;);\n</code></pre>\n<p>fileInputStream represents the data in this path, which you can use read method to read bytes from the file.</p>\n<p>For the other kind of InputStream, they take in another inputStream and do further processing, like decompression.\nFor example:</p>\n<pre><code>GZIPInputStream gzipInputStream = new GZIPInputStream(fileInputStream);\n</code></pre>\n<p>gzipInputStream will treat the fileInputStream as a compressed data source. When you use the read(buffer, 0, buffer.length) method, it will decompress part of the gzip file into the buffer you provide.</p>\n<p>The reason why we use InputStream because as the data in the source becomes larger and larger, say we have 500GB data in the source file, we don't want to hold everything in the memory (expensive machine; not friendly for GC allocation), and we want to get some result faster (reading the whole file may take a long time).</p>\n<p>The same thing for OutputStream. We can start moving some result to the destination without waiting for the whole thing to finish, plus less memory consumption.</p>\n<p>If you want more explanations and examples, you have check these summaries: <a href=\"https://coderfoobar.com/what-is-a-java-inputstream/\" rel=\"nofollow noreferrer\">InputStream</a>, <a href=\"https://coderfoobar.com/what-is-a-java-outputstream/\" rel=\"nofollow noreferrer\">OutputStream</a>, <a href=\"https://coderfoobar.com/how-to-write-efficient-code-using-java-inputstream/\" rel=\"nofollow noreferrer\">How To Use InputStream</a>, <a href=\"https://coderfoobar.com/how-to-write-efficient-code-using-java-outputstream/\" rel=\"nofollow noreferrer\">How To Use OutputStream</a></p>\n"},{"tags":[],"owner":{"account_id":13483389,"reputation":497,"user_id":9727918,"display_name":"lingar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625685076,"creation_date":1625685076,"answer_id":68291870,"question_id":1830698,"body_markdown":"In continue to the great other answers, in my simple words: \r\n\r\n**Stream** - like mentioned @Sher Mohammad is data. \r\n\r\n**Input** stream - for example is to get input – data – from the file. The case is when I have a file (the user upload a file – input) – and I want to read what we have there.\r\n \r\n**Output** Stream – is the vice versa. For example  – you are generating an excel file, and output it to some place.\r\n \r\nThe “how to write” to the file, is defined at the sender (the excel workbook class) not at the file output stream. \r\n\r\nSee [here][1] example in this context.\r\n\r\n    try (OutputStream fileOut = new FileOutputStream(&quot;xssf-align.xlsx&quot;)) {\r\n        wb.write(fileOut);\r\n    }\r\n    wb.close();\r\n\r\n\r\n\r\n  [1]: https://poi.apache.org/components/spreadsheet/quick-guide.html","title":"What is InputStream &amp; Output Stream? Why and when do we use them?","body":"<p>In continue to the great other answers, in my simple words:</p>\n<p><strong>Stream</strong> - like mentioned @Sher Mohammad is data.</p>\n<p><strong>Input</strong> stream - for example is to get input – data – from the file. The case is when I have a file (the user upload a file – input) – and I want to read what we have there.</p>\n<p><strong>Output</strong> Stream – is the vice versa. For example  – you are generating an excel file, and output it to some place.</p>\n<p>The “how to write” to the file, is defined at the sender (the excel workbook class) not at the file output stream.</p>\n<p>See <a href=\"https://poi.apache.org/components/spreadsheet/quick-guide.html\" rel=\"nofollow noreferrer\">here</a> example in this context.</p>\n<pre><code>try (OutputStream fileOut = new FileOutputStream(&quot;xssf-align.xlsx&quot;)) {\n    wb.write(fileOut);\n}\nwb.close();\n</code></pre>\n"}],"owner":{"account_id":879814,"reputation":5997,"user_id":199525,"accept_rate":100,"display_name":"Bohemian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281089,"favorite_count":0,"down_vote_count":1,"up_vote_count":322,"accepted_answer_id":1830783,"answer_count":9,"score":321,"last_activity_date":1680179325,"creation_date":1259729040,"question_id":1830698,"body_markdown":"Someone explain to me what `InputStream` and `OutputStream` are?\r\n\r\nI am confused about the use cases for both `InputStream` and `OutputStream`.\r\n\r\nIf you could also include a snippet of code to go along with your explanation, that would be great. Thanks!","title":"What is InputStream &amp; Output Stream? Why and when do we use them?","body":"<p>Someone explain to me what <code>InputStream</code> and <code>OutputStream</code> are?</p>\n\n<p>I am confused about the use cases for both <code>InputStream</code> and <code>OutputStream</code>.</p>\n\n<p>If you could also include a snippet of code to go along with your explanation, that would be great. Thanks!</p>\n"},{"tags":["java","eclipse","plugins","eclipse-plugin"],"owner":{"account_id":20798008,"reputation":181,"user_id":15274669,"display_name":"majixin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680179299,"creation_date":1679662333,"question_id":75833893,"body_markdown":"I have reviewed the older questions around creating projects programmatically within Eclipse, which I need to do from a plugin. Essentially the scenario is source project is downloaded to disk, then needs to be loaded in to the IDE without user intervention.\r\n\r\nThe only user intervention is the user decides where the project will go on disk, and that means they can choose any folder, including one in the Eclipse workspace. The source code the user downloads is placed in the target folder ***BEFORE*** calling the code below. The downloaded source code has never been loaded in an Eclipse environment beforehand, so the download target is simply the source root folder.\r\n\r\nThe code works for importing projects that are located outside the workspace. I use the ```createProject``` function to get an ```IProject``` reference, then pass this to the ```importProject``` function. This works as long as the target folder is outside the workspace.\r\n\r\nIf trying to use this code to import in to the workspace folder ```newProject.create(newProjectDescription, monitor)``` will throw the exception ```org.eclipse.core.internal.resources.ResourceException: Invalid project description.```\r\n\r\nI know that when importing from outside the Eclipse workspace, Eclipse itself will want to create a project folder within the workspace for project settings/tracking, which will essentially have the same project name. So if trying to do this inside the workspace, the tracking folder Eclipse wants to create will already exist - it would be where the user downloaded code to. That is, &lt;workspace&gt;\\&lt;projectName&gt; would be the same folder the user specified as where the downloaded project will reside.\r\n\r\nAgain, my question is what needs to change to enable the code to work for any new folder location, whether inside or outside the Eclipse workspace?\r\n\r\nNOTE: A potential gotcha is that the ```projectName``` passed to ```createProject``` is intended to be the displayed name of the project in Eclipse&#39;s project explorer tab when it creates a suitable node there. The folder Eclipse creates in the workspace is based on this - it&#39;s used to form the project description passed to the ```newProject.create(newProjectDescription, monitor)``` line. Maybe I just need to ensure the project folder and ```projectName``` don&#39;t match when the user-specified folder if within the workspace and find a means to silently do something to allow the code to continue, but I&#39;m not sure this is always going to be enough. I&#39;m hoping somebody who understands more about how Eclipse manages the workspace can give insight to making this code much more flexible and robust.\r\n\r\n```\r\n    private IProject createProject(String projectPath, String projectName, IProgressMonitor monitor) {\r\n        IWorkspace workspace = ResourcesPlugin.getWorkspace();\r\n        IProject newProject = null;\r\n        IProjectDescription newProjectDescription = workspace.newProjectDescription(projectName);\r\n        newProjectDescription.setLocation(Path.fromOSString(projectPath));\r\n\t\tnewProject = workspace.getRoot().getProject(projectName);\r\n\t\ttry {\r\n\t\t\tnewProject.create(newProjectDescription, monitor);\r\n\t\t} catch (CoreException ex) {\r\n\t\t\t// &lt;snipped&gt; Log the error\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n        try {\r\n            newProject.open(monitor);\r\n        } catch (CoreException e) {\r\n            // &lt;snipped&gt; Log the error\r\n            return null;\r\n        }\r\n        return newProject;  // may be null\r\n    }\r\n\t\r\n    private boolean importProject(File projectFolder, IProject newProject, IProgressMonitor monitor) {\r\n        ImportOperation importOperation = new ImportOperation(newProject.getFullPath(), projectFolder,FileSystemStructureProvider.INSTANCE, pathString -&gt; IOverwriteQuery.ALL);\r\n        importOperation.setCreateContainerStructure(false);\r\n        try {\r\n            importOperation.run(monitor);\r\n\t\t\treturn true;\r\n        } catch (InvocationTargetException e) {\r\n            // &lt;snipped&gt; Log the error\r\n        } catch (InterruptedException e) {\r\n            // &lt;snipped&gt; Log the error\r\n        }\r\n        return false;\r\n    }\r\n```\r\n\r\n**UPDATE:**\r\n\r\nThe ```importProject``` function is not required to get a folder on disk loaded as a project in the IDE. As far as creating the code using a project name that reports ```Invalid project description```, the **cause** is actually that the project is indeed a duplicate with the same name previously loaded in to Eclipse (and so also the following location). So within \r\n\r\n```&lt;eclipse-workspace&gt;\\.metadata\\.plugins\\org.eclipse.core.resources\\.projects```\r\n\r\n... there is indeed a matching folder for the name of the project I am trying to create in the IDE.\r\n\r\nI have solved this as one might expect - doing the appropriate checks in code before trying to create the project, and making the user aware and able to decide on a remedy.\r\n\r\nI no longer need any answer for this question, but I will leave it here with the code in case it helps anybody.\r\n","title":"Programmatic creation of Eclipse project in the Eclipse workspace","body":"<p>I have reviewed the older questions around creating projects programmatically within Eclipse, which I need to do from a plugin. Essentially the scenario is source project is downloaded to disk, then needs to be loaded in to the IDE without user intervention.</p>\n<p>The only user intervention is the user decides where the project will go on disk, and that means they can choose any folder, including one in the Eclipse workspace. The source code the user downloads is placed in the target folder <em><strong>BEFORE</strong></em> calling the code below. The downloaded source code has never been loaded in an Eclipse environment beforehand, so the download target is simply the source root folder.</p>\n<p>The code works for importing projects that are located outside the workspace. I use the <code>createProject</code> function to get an <code>IProject</code> reference, then pass this to the <code>importProject</code> function. This works as long as the target folder is outside the workspace.</p>\n<p>If trying to use this code to import in to the workspace folder <code>newProject.create(newProjectDescription, monitor)</code> will throw the exception <code>org.eclipse.core.internal.resources.ResourceException: Invalid project description.</code></p>\n<p>I know that when importing from outside the Eclipse workspace, Eclipse itself will want to create a project folder within the workspace for project settings/tracking, which will essentially have the same project name. So if trying to do this inside the workspace, the tracking folder Eclipse wants to create will already exist - it would be where the user downloaded code to. That is, &lt;projectName&gt; would be the same folder the user specified as where the downloaded project will reside.</p>\n<p>Again, my question is what needs to change to enable the code to work for any new folder location, whether inside or outside the Eclipse workspace?</p>\n<p>NOTE: A potential gotcha is that the <code>projectName</code> passed to <code>createProject</code> is intended to be the displayed name of the project in Eclipse's project explorer tab when it creates a suitable node there. The folder Eclipse creates in the workspace is based on this - it's used to form the project description passed to the <code>newProject.create(newProjectDescription, monitor)</code> line. Maybe I just need to ensure the project folder and <code>projectName</code> don't match when the user-specified folder if within the workspace and find a means to silently do something to allow the code to continue, but I'm not sure this is always going to be enough. I'm hoping somebody who understands more about how Eclipse manages the workspace can give insight to making this code much more flexible and robust.</p>\n<pre><code>    private IProject createProject(String projectPath, String projectName, IProgressMonitor monitor) {\n        IWorkspace workspace = ResourcesPlugin.getWorkspace();\n        IProject newProject = null;\n        IProjectDescription newProjectDescription = workspace.newProjectDescription(projectName);\n        newProjectDescription.setLocation(Path.fromOSString(projectPath));\n        newProject = workspace.getRoot().getProject(projectName);\n        try {\n            newProject.create(newProjectDescription, monitor);\n        } catch (CoreException ex) {\n            // &lt;snipped&gt; Log the error\n            return null;\n        }\n\n        try {\n            newProject.open(monitor);\n        } catch (CoreException e) {\n            // &lt;snipped&gt; Log the error\n            return null;\n        }\n        return newProject;  // may be null\n    }\n    \n    private boolean importProject(File projectFolder, IProject newProject, IProgressMonitor monitor) {\n        ImportOperation importOperation = new ImportOperation(newProject.getFullPath(), projectFolder,FileSystemStructureProvider.INSTANCE, pathString -&gt; IOverwriteQuery.ALL);\n        importOperation.setCreateContainerStructure(false);\n        try {\n            importOperation.run(monitor);\n            return true;\n        } catch (InvocationTargetException e) {\n            // &lt;snipped&gt; Log the error\n        } catch (InterruptedException e) {\n            // &lt;snipped&gt; Log the error\n        }\n        return false;\n    }\n</code></pre>\n<p><strong>UPDATE:</strong></p>\n<p>The <code>importProject</code> function is not required to get a folder on disk loaded as a project in the IDE. As far as creating the code using a project name that reports <code>Invalid project description</code>, the <strong>cause</strong> is actually that the project is indeed a duplicate with the same name previously loaded in to Eclipse (and so also the following location). So within</p>\n<p><code>&lt;eclipse-workspace&gt;\\.metadata\\.plugins\\org.eclipse.core.resources\\.projects</code></p>\n<p>... there is indeed a matching folder for the name of the project I am trying to create in the IDE.</p>\n<p>I have solved this as one might expect - doing the appropriate checks in code before trying to create the project, and making the user aware and able to decide on a remedy.</p>\n<p>I no longer need any answer for this question, but I will leave it here with the code in case it helps anybody.</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":2,"creation_date":1680181150,"post_id":75888135,"comment_id":133856791,"body_markdown":"Looks like the call to the API has been omitted, so basic idea would be to mock the multiple calls to the API.  For example: `when(api.getPagedResults(1, ...)).thenReturn(getPage1MockResults());` and `when(api.getPagedResults(2, ...)).thenReturn(getPage2MockResults());`","body":"Looks like the call to the API has been omitted, so basic idea would be to mock the multiple calls to the API.  For example: <code>when(api.getPagedResults(1, ...)).thenReturn(getPage1MockResults());</code> and <code>when(api.getPagedResults(2, ...)).thenReturn(getPage2MockResults());</code>"}],"owner":{"account_id":7770850,"reputation":502,"user_id":5880486,"display_name":"erondem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680179077,"creation_date":1680178397,"question_id":75888135,"body_markdown":"In a function, I am making API calls to fetch all the results from an API that has pagination. How can I write a unit test for that? The one-page result is easy but when there are multiple pages how can I mock this response? \r\n\r\n\r\n    @Data\r\n    public class PaginatedJiraBase&lt;T&gt; {\r\n    \r\n        int maxResults;\r\n        int startAt;\r\n        int total;\r\n        @JsonProperty(value = &quot;isLast&quot;)\r\n        boolean isLast;\r\n        @JsonAlias({&quot;values&quot;, &quot;issues&quot;})\r\n        List&lt;T&gt; values;\r\n    }\r\n\r\nAPI uses the `isLast` field and until isLast is false, I am making API call in a loop.\r\n\r\n\r\n \r\n\r\n       public PaginatedJiraBase&lt;SprintDetail&gt; getSprintsByBoardId(Integer boardId, Integer size) {\r\n            PaginatedJiraBase&lt;SprintDetail&gt; paginatedJiraBase = getPaginatedSprintsByBoardId(boardId);\r\n    \r\n            List&lt;SprintDetail&gt; sortedSprints = paginatedJiraBase.getValues().stream()\r\n                    .sorted(Comparator.comparing(SprintDetail::getEndDate).reversed())\r\n                    .limit(size)\r\n                    .collect(Collectors.toList());\r\n    \r\n            paginatedJiraBase.setValues(sortedSprints);\r\n            return paginatedJiraBase;\r\n    \r\n        }\r\n    \r\n        private PaginatedJiraBase&lt;SprintDetail&gt; getPaginatedSprintsByBoardId(Integer boardId) {\r\n            var responseDTO = new PaginatedJiraBase&lt;SprintDetail&gt;();\r\n            responseDTO.setLast(false);\r\n            responseDTO.setValues(new ArrayList&lt;&gt;());\r\n    \r\n            var startAt = 0;\r\n            // Get sprints as if they are 50 items on a page\r\n            while (!responseDTO.isLast()) {\r\n                var newResponse = jiraServerRestClient.getSprintsByBoardId(boardId, startAt, null, &quot;closed,active&quot;);\r\n                responseDTO.getValues().addAll(newResponse.getValues());\r\n                responseDTO.setLast(newResponse.isLast());\r\n                startAt += 50;\r\n            }\r\n    \r\n            responseDTO.setTotal(responseDTO.getValues().size());\r\n            return responseDTO;\r\n        }","title":"How to write unit test a function that has multiple rest call for paginated response?","body":"<p>In a function, I am making API calls to fetch all the results from an API that has pagination. How can I write a unit test for that? The one-page result is easy but when there are multiple pages how can I mock this response?</p>\n<pre><code>@Data\npublic class PaginatedJiraBase&lt;T&gt; {\n\n    int maxResults;\n    int startAt;\n    int total;\n    @JsonProperty(value = &quot;isLast&quot;)\n    boolean isLast;\n    @JsonAlias({&quot;values&quot;, &quot;issues&quot;})\n    List&lt;T&gt; values;\n}\n</code></pre>\n<p>API uses the <code>isLast</code> field and until isLast is false, I am making API call in a loop.</p>\n<pre><code>   public PaginatedJiraBase&lt;SprintDetail&gt; getSprintsByBoardId(Integer boardId, Integer size) {\n        PaginatedJiraBase&lt;SprintDetail&gt; paginatedJiraBase = getPaginatedSprintsByBoardId(boardId);\n\n        List&lt;SprintDetail&gt; sortedSprints = paginatedJiraBase.getValues().stream()\n                .sorted(Comparator.comparing(SprintDetail::getEndDate).reversed())\n                .limit(size)\n                .collect(Collectors.toList());\n\n        paginatedJiraBase.setValues(sortedSprints);\n        return paginatedJiraBase;\n\n    }\n\n    private PaginatedJiraBase&lt;SprintDetail&gt; getPaginatedSprintsByBoardId(Integer boardId) {\n        var responseDTO = new PaginatedJiraBase&lt;SprintDetail&gt;();\n        responseDTO.setLast(false);\n        responseDTO.setValues(new ArrayList&lt;&gt;());\n\n        var startAt = 0;\n        // Get sprints as if they are 50 items on a page\n        while (!responseDTO.isLast()) {\n            var newResponse = jiraServerRestClient.getSprintsByBoardId(boardId, startAt, null, &quot;closed,active&quot;);\n            responseDTO.getValues().addAll(newResponse.getValues());\n            responseDTO.setLast(newResponse.isLast());\n            startAt += 50;\n        }\n\n        responseDTO.setTotal(responseDTO.getValues().size());\n        return responseDTO;\n    }\n</code></pre>\n"},{"tags":["java","eclipse","spring-boot","gradle-eclipse"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":3,"creation_date":1447500495,"post_id":33707854,"comment_id":55187514,"body_markdown":"I could imagine you could workaround this by adding `@Profile(&quot;test&quot;)`  to this class + `@ActiveProfiles(&quot;test&quot;)` on the test. That would make the bean condtional on that profile. See http://docs.spring.io/spring/docs/current/spring-framework-reference/html/integration-testing.html#testcontext-ctx-management-env-profiles","body":"I could imagine you could workaround this by adding <code>@Profile(&quot;test&quot;)</code>  to this class + <code>@ActiveProfiles(&quot;test&quot;)</code> on the test. That would make the bean condtional on that profile. See <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/integration-testing.html#testcontext-ctx-management-env-profiles\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/current/spring-framework-referenc&zwnj;&#8203;e/&hellip;</a>"},{"owner":{"account_id":1246269,"reputation":3386,"user_id":1207655,"accept_rate":83,"display_name":"Martin Wilson"},"score":0,"creation_date":1447501490,"post_id":33707854,"comment_id":55187740,"body_markdown":"Looks like a good potential solution, although even after I added @profile(&quot;test&quot;) to the test config class it is still being used when I run the app. I&#39;ll investigate this further later - thanks.","body":"Looks like a good potential solution, although even after I added @profile(&quot;test&quot;) to the test config class it is still being used when I run the app. I&#39;ll investigate this further later - thanks."},{"owner":{"account_id":2455831,"reputation":3908,"user_id":2141091,"accept_rate":100,"display_name":"Kris"},"score":2,"creation_date":1447693518,"post_id":33707854,"comment_id":55249832,"body_markdown":"I can confirm that the problem almost certainly that runtime classpath includes &#39;test&#39; things on it. It is kind of a known problem though I do not think there is an issue ticket for it. This is a problem caused by gradle&#39;s tooling model not distinuguishing between &#39;test&#39; and &#39;runtime&#39; classpaths. I&#39;m afraid the easiest way to avoid this problem is to switch to using maven. I know m2e/maven does this correctly.","body":"I can confirm that the problem almost certainly that runtime classpath includes &#39;test&#39; things on it. It is kind of a known problem though I do not think there is an issue ticket for it. This is a problem caused by gradle&#39;s tooling model not distinuguishing between &#39;test&#39; and &#39;runtime&#39; classpaths. I&#39;m afraid the easiest way to avoid this problem is to switch to using maven. I know m2e/maven does this correctly."},{"owner":{"account_id":1246269,"reputation":3386,"user_id":1207655,"accept_rate":83,"display_name":"Martin Wilson"},"score":0,"creation_date":1447703766,"post_id":33707854,"comment_id":55255571,"body_markdown":"Thanks @Kris - I&#39;ve got round it for now by removing the need for a separate config for the tests.","body":"Thanks @Kris - I&#39;ve got round it for now by removing the need for a separate config for the tests."},{"owner":{"account_id":1524893,"reputation":1418,"user_id":1423583,"accept_rate":82,"display_name":"Nathan"},"score":0,"creation_date":1479354823,"post_id":33707854,"comment_id":68524478,"body_markdown":"I have written some code in my build.gradle file that generates an Eclipse launch configuration using the runtime classpath.  I use this launch configuration to run my local app server.  See http://stackoverflow.com/a/40646309/1423583","body":"I have written some code in my build.gradle file that generates an Eclipse launch configuration using the runtime classpath.  I use this launch configuration to run my local app server.  See <a href=\"http://stackoverflow.com/a/40646309/1423583\">stackoverflow.com/a/40646309/1423583</a>"},{"owner":{"account_id":1177055,"reputation":143,"user_id":1152790,"display_name":"KSobkowiak"},"score":1,"creation_date":1480522752,"post_id":33707854,"comment_id":69000284,"body_markdown":"I use maven and have the same problem.","body":"I use maven and have the same problem."}],"answers":[{"tags":[],"owner":{"account_id":4431041,"reputation":9073,"user_id":3608192,"display_name":"Stefan Isele - prefabware.com"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1491724803,"creation_date":1491724803,"answer_id":43304413,"question_id":33707854,"body_markdown":"When you run the test from eclipse, the classpath is prepared by eclipse (and not by maven or gradle).\r\n\r\nEclipse only uses one classpath per project and does not know anything about dependency scopes (like &#39;compile&#39; or &#39;test&#39;).\r\nSo the classpath always contains any resources of a referenced project.\r\n\r\nYou cannot change this behavior of eclipse. \r\nYou need to use naming conventions, profile etc. to avoid accidental use of test resources.\r\n\r\n","title":"Running Spring Boot application through Eclipse picks up test classes","body":"<p>When you run the test from eclipse, the classpath is prepared by eclipse (and not by maven or gradle).</p>\n\n<p>Eclipse only uses one classpath per project and does not know anything about dependency scopes (like 'compile' or 'test').\nSo the classpath always contains any resources of a referenced project.</p>\n\n<p>You cannot change this behavior of eclipse. \nYou need to use naming conventions, profile etc. to avoid accidental use of test resources.</p>\n"},{"comments":[{"owner":{"account_id":3230954,"reputation":2240,"user_id":2726223,"accept_rate":11,"display_name":"Wellington Souza"},"score":0,"creation_date":1511311202,"post_id":45239152,"comment_id":81805021,"body_markdown":"It works, but there is one problem with this approach:  you have to add spring test class in production, otherwise you will get ClassNotFoundException","body":"It works, but there is one problem with this approach:  you have to add spring test class in production, otherwise you will get ClassNotFoundException"},{"owner":{"account_id":455616,"reputation":558,"user_id":853892,"accept_rate":0,"display_name":"StefanR"},"score":0,"creation_date":1511513702,"post_id":45239152,"comment_id":81893405,"body_markdown":"@WellingtonSouza that&#39;s true. Alternatively you can also use a regexp expression to exclude test classes, e.g. `excludeFilters = @ComponentScan.Filter(pattern = &quot;.*TestConfiguration&quot;, type = FilterType.REGEX)`","body":"@WellingtonSouza that&#39;s true. Alternatively you can also use a regexp expression to exclude test classes, e.g. <code>excludeFilters = @ComponentScan.Filter(pattern = &quot;.*TestConfiguration&quot;, type = FilterType.REGEX)</code>"}],"tags":[],"owner":{"account_id":455616,"reputation":558,"user_id":853892,"accept_rate":0,"display_name":"StefanR"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500644277,"creation_date":1500644277,"answer_id":45239152,"question_id":33707854,"body_markdown":"You can append `@TestComponent` to you test configuration class. These bean configurations will be skipped during component scan of your application. Depending on the component scan configuration, you need to define an @ComponentScan exclude filter:\r\n`excludeFilters = @ComponentScan.Filter(value = TestComponent.class, type = FilterType.ANNOTATION))`\r\n","title":"Running Spring Boot application through Eclipse picks up test classes","body":"<p>You can append <code>@TestComponent</code> to you test configuration class. These bean configurations will be skipped during component scan of your application. Depending on the component scan configuration, you need to define an @ComponentScan exclude filter:\n<code>excludeFilters = @ComponentScan.Filter(value = TestComponent.class, type = FilterType.ANNOTATION))</code></p>\n"},{"tags":[],"owner":{"account_id":2246496,"reputation":417,"user_id":1979717,"display_name":"Industrious"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680178907,"creation_date":1680178907,"answer_id":75888227,"question_id":33707854,"body_markdown":"At least Eclipse IDE Version: 2022-12 (4.26.0) has the feature that allows to exclude test code from Debug/Run configuration classpath:\r\n\r\nGo to Run/Debug configuration you use to run your app, choose Dependencies tab, click the checkbox &#39;Exclude test code&#39;.","title":"Running Spring Boot application through Eclipse picks up test classes","body":"<p>At least Eclipse IDE Version: 2022-12 (4.26.0) has the feature that allows to exclude test code from Debug/Run configuration classpath:</p>\n<p>Go to Run/Debug configuration you use to run your app, choose Dependencies tab, click the checkbox 'Exclude test code'.</p>\n"}],"owner":{"account_id":1246269,"reputation":3386,"user_id":1207655,"accept_rate":83,"display_name":"Martin Wilson"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4762,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1680178907,"creation_date":1447500229,"question_id":33707854,"body_markdown":"I am developing a Spring Boot application using STS with the Gradle plugin.\r\nI have a different configuration for tests, to prevent our Selenium tests from having to login.\r\n\r\nSo in `src/test/java/etc` I have something like this:\r\n\r\n\t@Configuration\r\n\t@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n\t@EnableWebSecurity\r\n\tpublic static class SecurityConfig extends WebSecurityConfigurerAdapter\r\n\t{\r\n\t\t@Override\r\n\t\tprotected void configure(HttpSecurity http) throws Exception\r\n\t\t{\t\r\n\t\t\thttp.authorizeRequests().anyRequest().permitAll();\r\n\t\t}\r\n    }\r\n\r\nWhereas in `src/main/java` I have an equivalent class that configures login etc, requiring login for all pages.\r\n\r\nIf I run the application through the Gradle plugin (bootRun), everything works fine. \r\n\r\nHowever, if I run or debug it through Eclipse directly (e.g. right clicking on the project, Run As-&gt;Spring Boot App or by clicking \r\nthe run/debug buttons in the Spring or Java view) then the test config is applied, so access is granted to all pages without login.\r\n\r\nI&#39;m guessing that the test classes are being included in the classpath when I start the application this way.\r\nIs there an easy way to prevent this from happening? ","title":"Running Spring Boot application through Eclipse picks up test classes","body":"<p>I am developing a Spring Boot application using STS with the Gradle plugin.\nI have a different configuration for tests, to prevent our Selenium tests from having to login.</p>\n\n<p>So in <code>src/test/java/etc</code> I have something like this:</p>\n\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@EnableWebSecurity\npublic static class SecurityConfig extends WebSecurityConfigurerAdapter\n{\n    @Override\n    protected void configure(HttpSecurity http) throws Exception\n    {   \n        http.authorizeRequests().anyRequest().permitAll();\n    }\n}\n</code></pre>\n\n<p>Whereas in <code>src/main/java</code> I have an equivalent class that configures login etc, requiring login for all pages.</p>\n\n<p>If I run the application through the Gradle plugin (bootRun), everything works fine. </p>\n\n<p>However, if I run or debug it through Eclipse directly (e.g. right clicking on the project, Run As->Spring Boot App or by clicking \nthe run/debug buttons in the Spring or Java view) then the test config is applied, so access is granted to all pages without login.</p>\n\n<p>I'm guessing that the test classes are being included in the classpath when I start the application this way.\nIs there an easy way to prevent this from happening? </p>\n"},{"tags":["java","dxf"],"comments":[{"owner":{"account_id":9432667,"reputation":1340,"user_id":7015661,"accept_rate":100,"display_name":"TM00"},"score":0,"creation_date":1679943389,"post_id":73376153,"comment_id":133808482,"body_markdown":"Did you ever arrive at a solution to this? I&#39;m sitting with the exact same question :)","body":"Did you ever arrive at a solution to this? I&#39;m sitting with the exact same question :)"},{"owner":{"account_id":15760460,"reputation":11,"user_id":11372323,"display_name":"mnystrktr"},"score":0,"creation_date":1680087206,"post_id":73376153,"comment_id":133836497,"body_markdown":"Part-1:\nTo answer your question I have good news and bad news. :) BAD news is that NO, I have not solved it just yet, as I had other projects and this issue did not have a top priority in my work.\nBUT - and this is the GOOD news -  since than in connection with another task I recognized that there might have been some improvements in jdxf since then (or I just missed it before, I don&#39;t know), because if you open this link https://jsevy.com/wordpress/index.php/java-and-android/jdxf-java-dxf-library/jdxf-user-guide/ and read the chapter &quot;Layer&quot;, it says that this can be done from version 2.0+.","body":"Part-1: To answer your question I have good news and bad news. :) BAD news is that NO, I have not solved it just yet, as I had other projects and this issue did not have a top priority in my work. BUT - and this is the GOOD news -  since than in connection with another task I recognized that there might have been some improvements in jdxf since then (or I just missed it before, I don&#39;t know), because if you open this link <a href=\"https://jsevy.com/wordpress/index.php/java-and-android/jdxf-java-dxf-library/jdxf-user-guide/\" rel=\"nofollow noreferrer\">jsevy.com/wordpress/index.php/java-and-android/&hellip;</a> and read the chapter &quot;Layer&quot;, it says that this can be done from version 2.0+."},{"owner":{"account_id":15760460,"reputation":11,"user_id":11372323,"display_name":"mnystrktr"},"score":0,"creation_date":1680087308,"post_id":73376153,"comment_id":133836517,"body_markdown":"Part-2:\nI am sure I was using older version and I have not yet checked it out if it works or not, BUT even if You (or We) won&#39;t find it useful, I&#39;m quite optimistic that it can be done just by examining the Autodesk documentation of dxf format: (https://damassets.autodesk.net/content/dam/autodesk/www/developer-network/platform-technologies/autocad-dxf-archive/acad_r12_dxf.pdf#page=4&amp;zoom=100,92,4769)","body":"Part-2: I am sure I was using older version and I have not yet checked it out if it works or not, BUT even if You (or We) won&#39;t find it useful, I&#39;m quite optimistic that it can be done just by examining the Autodesk documentation of dxf format: (<a href=\"https://damassets.autodesk.net/content/dam/autodesk/www/developer-network/platform-technologies/autocad-dxf-archive/acad_r12_dxf.pdf#page=4&amp;zoom=100,92,4769\" rel=\"nofollow noreferrer\">damassets.autodesk.net/content/dam/autodesk/www/&hellip;</a>)"},{"owner":{"account_id":15760460,"reputation":11,"user_id":11372323,"display_name":"mnystrktr"},"score":0,"creation_date":1680087442,"post_id":73376153,"comment_id":133836561,"body_markdown":"Part-3:\nIn my other task I mentioned, I needed to open a dxf file, add other drawings to it, then save and close. After some google search I decided to do the coding by myself just by taking a look at the autodesk document (I did not read through all the 59 pages, just the structure of the dxf file itself at pages 4-5 and maybe the UCS section). After that I managed to do a test file manually to use it as a &quot;sample&quot;, and after another day of coding and debugging, I managed to reproduce the same sample by my code.","body":"Part-3: In my other task I mentioned, I needed to open a dxf file, add other drawings to it, then save and close. After some google search I decided to do the coding by myself just by taking a look at the autodesk document (I did not read through all the 59 pages, just the structure of the dxf file itself at pages 4-5 and maybe the UCS section). After that I managed to do a test file manually to use it as a &quot;sample&quot;, and after another day of coding and debugging, I managed to reproduce the same sample by my code."},{"owner":{"account_id":15760460,"reputation":11,"user_id":11372323,"display_name":"mnystrktr"},"score":0,"creation_date":1680087524,"post_id":73376153,"comment_id":133836584,"body_markdown":"Part-4(last): In this case, I think we should set somehow the color code in the Layer properties of TABLES section. Sorry for lots of comments, I needed to separate it to be short enough for StachOverflow.","body":"Part-4(last): In this case, I think we should set somehow the color code in the Layer properties of TABLES section. Sorry for lots of comments, I needed to separate it to be short enough for StachOverflow."}],"answers":[{"tags":[],"owner":{"account_id":9432667,"reputation":1340,"user_id":7015661,"accept_rate":100,"display_name":"TM00"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680178597,"creation_date":1680178597,"answer_id":75888173,"question_id":73376153,"body_markdown":"As per your suggestions. Version 2.0 of jDXF allows to set the layer color. Albeit in a strange way. Here&#39;s [their guidance][1]. \r\n\r\nEssentially it comes down to setting the color and pen width and setting `setPenByLayer` to true.\r\n\r\nCode sample from the docs:\r\n\r\n    DXFDocument dxfDocument = new \r\n        DXFDocument(&quot;Example&quot;);\r\n    DXFGraphics dxfGraphics =\r\n        dxfDocument.getGraphics();\r\n    \r\n    // set pen characteristics to be used for layer\r\n    graphics.setStroke(new BasicStroke(2));\r\n    graphics.setColor(Color.RED);\r\n    \r\n    // set layer; will be assigned the current \r\n    // color/linewidth of graphics (red, 2)\r\n    dxfDocument.setLayer(&quot;Layer 1&quot;);\r\n    \r\n    // now set all subsequently drawn objects \r\n    // to take on the pen of their layer, not the\r\n    // graphics at the time they are drawn\r\n    dxfDocument.setPenByLayer(true);\r\n    \r\n    // oval will have color/pen of Layer 1 (red, 2)\r\n    // in the DXF output\r\n    graphics.drawOval(500, 500, 150, 150);\r\n    // change pen color and draw;\r\n    // since the rectangle is going on Layer 1\r\n    // and setPenByLayer is true, it will appear\r\n    // red in the DXF image since it takes the\r\n    // color of its layer\r\n    graphics.setColor(Color.BLUE);\r\n    graphics.drawRect(1000, 500, 150, 150);\r\n    \r\n    // turn off the ByLayer flag; subsequent objects\r\n    // will be given the current color/style, not \r\n    // that of their layer; the oval will be blue\r\n    dxfDocument.setPenByLayer(false);\r\n    graphics.drawOval(1000, 500, 150, 150);\r\n\r\n\r\n  [1]: https://jsevy.com/wordpress/index.php/java-and-android/jdxf-java-dxf-library/jdxf-user-guide/","title":"How to change dxf layer color in java using jdxf library?","body":"<p>As per your suggestions. Version 2.0 of jDXF allows to set the layer color. Albeit in a strange way. Here's <a href=\"https://jsevy.com/wordpress/index.php/java-and-android/jdxf-java-dxf-library/jdxf-user-guide/\" rel=\"nofollow noreferrer\">their guidance</a>.</p>\n<p>Essentially it comes down to setting the color and pen width and setting <code>setPenByLayer</code> to true.</p>\n<p>Code sample from the docs:</p>\n<pre><code>DXFDocument dxfDocument = new \n    DXFDocument(&quot;Example&quot;);\nDXFGraphics dxfGraphics =\n    dxfDocument.getGraphics();\n\n// set pen characteristics to be used for layer\ngraphics.setStroke(new BasicStroke(2));\ngraphics.setColor(Color.RED);\n\n// set layer; will be assigned the current \n// color/linewidth of graphics (red, 2)\ndxfDocument.setLayer(&quot;Layer 1&quot;);\n\n// now set all subsequently drawn objects \n// to take on the pen of their layer, not the\n// graphics at the time they are drawn\ndxfDocument.setPenByLayer(true);\n\n// oval will have color/pen of Layer 1 (red, 2)\n// in the DXF output\ngraphics.drawOval(500, 500, 150, 150);\n// change pen color and draw;\n// since the rectangle is going on Layer 1\n// and setPenByLayer is true, it will appear\n// red in the DXF image since it takes the\n// color of its layer\ngraphics.setColor(Color.BLUE);\ngraphics.drawRect(1000, 500, 150, 150);\n\n// turn off the ByLayer flag; subsequent objects\n// will be given the current color/style, not \n// that of their layer; the oval will be blue\ndxfDocument.setPenByLayer(false);\ngraphics.drawOval(1000, 500, 150, 150);\n</code></pre>\n"}],"owner":{"account_id":15760460,"reputation":11,"user_id":11372323,"display_name":"mnystrktr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680178597,"creation_date":1660662038,"question_id":73376153,"body_markdown":"I have a java code generating dxf files, I am using jdxf library. Almost everything works fine with it, there is only one thing I could not figure out. When I&#39;m adding a new Layer, I wish to do it with a new color so that all entities I draw under this new layer shall have a &quot;ByLayer&quot; color, which would be this new color I specify. \r\nI can only achieve that the entities shall have the color I specify, but their layer&#39;s default color would still be black/white. Here is my DXFHandler object:\r\n\r\n    public class DXFHandler {\r\n    //https://jsevy.com/wordpress/index.php/java-and-android/jdxf-java-dxf-library/\r\n\r\n    DXFGraphics graphics;\r\n    DXFDocument dXFDocument;\r\n    int mirrorY, mirrorX;\r\n\r\n    public DXFHandler() {\r\n        dXFDocument = new DXFDocument();\r\n        dXFDocument.setUnits(4);//set units to mm\r\n        dXFDocument.setPrecisionDigits(1);//set precision digits\r\n        dXFDocument.setViewportCenter(0, 0);        \r\n        graphics = dXFDocument.getGraphics();\r\n        mirrorX=1;\r\n        mirrorY=-1;\r\n    }\r\n\r\n    public void addLayer(String layerName, Color c) {\r\n        dXFDocument.setLayer(layerName);      \r\n        graphics.setColor(c);//This will only achieve that the drawing entities get this color, but the layer&#39;s color would not be touched.      \r\n    }\r\n    public void drawLine(double[]x, double[]y){\r\n         if (x!=null&amp;&amp;y!=null&amp;x.length==y.length) {\r\n            for (int i = 1; i &lt; x.length; i++) {\r\n                graphics.drawLine(mirrorX*x[i-1], mirrorY*y[i-1],mirrorX*x[i],mirrorY*y[i]);\r\n            }\r\n        }\r\n    }\r\n    public void drawPoint(double[]x, double[]y){\r\n        if (x!=null&amp;&amp;y!=null&amp;x.length==y.length) {\r\n            for (int i = 0; i &lt; x.length; i++) {\r\n                graphics.drawPoint(mirrorX*x[i], mirrorY*y[i]);\r\n            }\r\n        }\r\n    }\r\n    public void drawRect(double x1, double y1, double x2, double y2){\r\n        graphics.drawRect(mirrorX*x1, mirrorY*y1, mirrorX*x2, mirrorY*y2);\r\n    }\r\n\r\n    public void saveToDXF(String outputPath) throws IOException {\r\n        String stringOutput = dXFDocument.toDXFString();\r\n        FileWriter fileWriter = new FileWriter(outputPath);\r\n        fileWriter.write(stringOutput);\r\n        fileWriter.flush();\r\n        fileWriter.close();\r\n    }\r\n\r\nAnd here is an example code to test it:\r\n\r\n     public static void main(String[] args) {\r\n        String outputFile=&quot;d:\\\\test.dxf&quot;;\r\n        int points=500;//Number of drawn points .\r\n        String layer1Name=&quot;Layer_1&quot;;\r\n        double[]xCoordinatesOfPoints1=new double[points];//creating first test-pointset_Xcoordinates\r\n        double[]yCoordinatesOfPoints1=new double[points];//creating first test-pointset_Ycoordinates\r\n        for (int i = 0; i &lt; xCoordinatesOfPoints1.length; i++) {\r\n            xCoordinatesOfPoints1[i]=i;\r\n            yCoordinatesOfPoints1[i]=i;\r\n        }                \r\n        String layer2Name=&quot;Layer_2&quot;;\r\n        double[]xCoordinatesOfPoints2=new double[points];//creating second test-pointset_Xcoordinates\r\n        double[]yCoordinatesOfPoints2=new double[points];//creating second test-pointset_Ycoordinates\r\n        for (int i = 0; i &lt; xCoordinatesOfPoints1.length; i++) {\r\n            xCoordinatesOfPoints2[i]=-1*i;\r\n            yCoordinatesOfPoints2[i]=i;\r\n        }\r\n         \r\n        DXFHandler dXFHandler=new DXFHandler(); //Creating dxf handler object        \r\n        dXFHandler.addLayer(layer1Name, Color.red);//Creating layer1\r\n        dXFHandler.drawPoint(xCoordinatesOfPoints1, yCoordinatesOfPoints1);//drawing points of layer1\r\n        dXFHandler.addLayer(layer2Name, Color.GREEN);//Creating layer2\r\n        dXFHandler.drawPoint(xCoordinatesOfPoints2, yCoordinatesOfPoints2);//drawing points of layer2\r\n        try {\r\n            dXFHandler.saveToDXF(outputFile);//Exporting dxf file\r\n        } catch (IOException ex) {\r\n            System.out.println(&quot;FAILED&quot;);\r\n        }\r\n                \r\n    }\r\nAs a result I get a &quot;test.dxf&quot; file which has a green and red point-set. That would be fine but both layers&#39; default color is white. I would prefer if the points&#39; color was &quot;ByLayer&quot; and the layer color was green/red, as it is in my &quot;wantedSolution.dxf&quot;, which I failed to see how to attach. I will attach it as soon as I figure out how to do that...","title":"How to change dxf layer color in java using jdxf library?","body":"<p>I have a java code generating dxf files, I am using jdxf library. Almost everything works fine with it, there is only one thing I could not figure out. When I'm adding a new Layer, I wish to do it with a new color so that all entities I draw under this new layer shall have a &quot;ByLayer&quot; color, which would be this new color I specify.\nI can only achieve that the entities shall have the color I specify, but their layer's default color would still be black/white. Here is my DXFHandler object:</p>\n<pre><code>public class DXFHandler {\n//https://jsevy.com/wordpress/index.php/java-and-android/jdxf-java-dxf-library/\n\nDXFGraphics graphics;\nDXFDocument dXFDocument;\nint mirrorY, mirrorX;\n\npublic DXFHandler() {\n    dXFDocument = new DXFDocument();\n    dXFDocument.setUnits(4);//set units to mm\n    dXFDocument.setPrecisionDigits(1);//set precision digits\n    dXFDocument.setViewportCenter(0, 0);        \n    graphics = dXFDocument.getGraphics();\n    mirrorX=1;\n    mirrorY=-1;\n}\n\npublic void addLayer(String layerName, Color c) {\n    dXFDocument.setLayer(layerName);      \n    graphics.setColor(c);//This will only achieve that the drawing entities get this color, but the layer's color would not be touched.      \n}\npublic void drawLine(double[]x, double[]y){\n     if (x!=null&amp;&amp;y!=null&amp;x.length==y.length) {\n        for (int i = 1; i &lt; x.length; i++) {\n            graphics.drawLine(mirrorX*x[i-1], mirrorY*y[i-1],mirrorX*x[i],mirrorY*y[i]);\n        }\n    }\n}\npublic void drawPoint(double[]x, double[]y){\n    if (x!=null&amp;&amp;y!=null&amp;x.length==y.length) {\n        for (int i = 0; i &lt; x.length; i++) {\n            graphics.drawPoint(mirrorX*x[i], mirrorY*y[i]);\n        }\n    }\n}\npublic void drawRect(double x1, double y1, double x2, double y2){\n    graphics.drawRect(mirrorX*x1, mirrorY*y1, mirrorX*x2, mirrorY*y2);\n}\n\npublic void saveToDXF(String outputPath) throws IOException {\n    String stringOutput = dXFDocument.toDXFString();\n    FileWriter fileWriter = new FileWriter(outputPath);\n    fileWriter.write(stringOutput);\n    fileWriter.flush();\n    fileWriter.close();\n}\n</code></pre>\n<p>And here is an example code to test it:</p>\n<pre><code> public static void main(String[] args) {\n    String outputFile=&quot;d:\\\\test.dxf&quot;;\n    int points=500;//Number of drawn points .\n    String layer1Name=&quot;Layer_1&quot;;\n    double[]xCoordinatesOfPoints1=new double[points];//creating first test-pointset_Xcoordinates\n    double[]yCoordinatesOfPoints1=new double[points];//creating first test-pointset_Ycoordinates\n    for (int i = 0; i &lt; xCoordinatesOfPoints1.length; i++) {\n        xCoordinatesOfPoints1[i]=i;\n        yCoordinatesOfPoints1[i]=i;\n    }                \n    String layer2Name=&quot;Layer_2&quot;;\n    double[]xCoordinatesOfPoints2=new double[points];//creating second test-pointset_Xcoordinates\n    double[]yCoordinatesOfPoints2=new double[points];//creating second test-pointset_Ycoordinates\n    for (int i = 0; i &lt; xCoordinatesOfPoints1.length; i++) {\n        xCoordinatesOfPoints2[i]=-1*i;\n        yCoordinatesOfPoints2[i]=i;\n    }\n     \n    DXFHandler dXFHandler=new DXFHandler(); //Creating dxf handler object        \n    dXFHandler.addLayer(layer1Name, Color.red);//Creating layer1\n    dXFHandler.drawPoint(xCoordinatesOfPoints1, yCoordinatesOfPoints1);//drawing points of layer1\n    dXFHandler.addLayer(layer2Name, Color.GREEN);//Creating layer2\n    dXFHandler.drawPoint(xCoordinatesOfPoints2, yCoordinatesOfPoints2);//drawing points of layer2\n    try {\n        dXFHandler.saveToDXF(outputFile);//Exporting dxf file\n    } catch (IOException ex) {\n        System.out.println(&quot;FAILED&quot;);\n    }\n            \n}\n</code></pre>\n<p>As a result I get a &quot;test.dxf&quot; file which has a green and red point-set. That would be fine but both layers' default color is white. I would prefer if the points' color was &quot;ByLayer&quot; and the layer color was green/red, as it is in my &quot;wantedSolution.dxf&quot;, which I failed to see how to attach. I will attach it as soon as I figure out how to do that...</p>\n"},{"tags":["java","pdf","itext"],"answers":[{"comments":[{"owner":{"account_id":196417,"reputation":18062,"user_id":439836,"accept_rate":67,"display_name":"Fran Fitzpatrick"},"score":0,"creation_date":1284572000,"post_id":3719932,"comment_id":3926579,"body_markdown":"It looks like that is almost EXACTLY what I need, but will the border fill the entire page, or only go to the end of whatever is in the paragraph? -- I basically need a line that goes from one side of the page to the other.","body":"It looks like that is almost EXACTLY what I need, but will the border fill the entire page, or only go to the end of whatever is in the paragraph? -- I basically need a line that goes from one side of the page to the other."},{"owner":{"account_id":187390,"reputation":7647,"user_id":425406,"display_name":"Sean"},"score":0,"creation_date":1284573353,"post_id":3719932,"comment_id":3926829,"body_markdown":"Gave you an example on how to pull this off in the Edit above. I just wrote this here, so don&#39;t yell when you find syntax errors. The key part is to look at the myTable.setWidthPercentage(). This is in relation to the parent element. Assuming you add this to a Document object, you have a table stretching 100% of the document.","body":"Gave you an example on how to pull this off in the Edit above. I just wrote this here, so don&#39;t yell when you find syntax errors. The key part is to look at the myTable.setWidthPercentage(). This is in relation to the parent element. Assuming you add this to a Document object, you have a table stretching 100% of the document."}],"tags":[],"owner":{"account_id":187390,"reputation":7647,"user_id":425406,"display_name":"Sean"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1284573685,"creation_date":1284569946,"answer_id":3719932,"question_id":3719673,"body_markdown":"There is a bit of a messy way around this in the earlier versions of iText. If you store the element above the horizontal line in a PdfPCell, you can then set the border of that to show only the bottom. (That cell can also be blank if needed)\r\n\r\n    PdfPCell myCell = new PdfPCell(new Paragraph(&quot;Hello World&quot;) );\r\n    myCell.setBorder(Rectangle.BOTTOM);\r\n\r\n\r\nThe result should look like (solid line, not checkered)\r\n\r\n    Hello World\r\n    -----------\r\n\r\nThis should give you what you desire. Not the optimal solution but it is a way to work around the limitations of the old jar.\r\n\r\nFor your reference, if you want to perform this trick to put a line on top and below your text to give a result of \r\n\r\n    -----------\r\n    Hello World\r\n    -----------\r\n\r\nThe argument to setBorder() is an int which you can use bitwise operation on to manipulate the values. So the above example can would be accomplished with\r\n\r\n    myCell.setBorder(Rectangle.BOTTOM | Rectangle.TOP);\r\n\r\n\r\nedit: Example\r\n\r\n    //Create the table which will be 2 Columns wide and make it 100% of the page\r\n    PdfPTable myTable = new PdfPtable(2);\r\n    myTable.setWidthPercentage(100.0f);\r\n    \r\n    //create a 3 cells and add them to the table\r\n    PdfPCell cellOne = new PdfPCell(new Paragraph(&quot;Hello World&quot;));\r\n    PdfPCell cellTwo = new PdfPCell(new Paragraph(&quot;Bottom Left&quot;));\r\n    PdfPcell cellThree = new PdfPCell(new Paragraph(&quot;Bottom Right&quot;));\r\n    \r\n    cellOne.setColspan(2);\r\n    cellOne.setBorder(Rectangle.BOTTOM);\r\n    cellOne.setHorizontalAlignment(Element.ALIGN_LEFT);\r\n    \r\n    cellTwo.setBorder(Rectangle.NO_BORDER);\r\n    cellTwo.setHorizontalAlignment(Element.ALIGN_LEFT);\r\n    cellThree.setBorder(Rectangle.LEFT);\r\n    cellThree.setHorizontalAlignment(Element.ALIGN_RIGHT);\r\n    \r\n    //Add the three cells to the table\r\n    myTable.addCell(cellOne);\r\n    myTable.addCell(cellTwo);\r\n    myTable.addCell(cellThree);\r\n    \r\n    //Do something to add the table to your root document\r\n\r\nThis should create you a table which looks something like the following (assuming you correct my typos)\r\n\r\n    Hello World\r\n    ------------------------------------\r\n    Bottom Left      |      Bottom Right\r\n\r\n","title":"Alternative for LineSeparator in iText old versions?","body":"<p>There is a bit of a messy way around this in the earlier versions of iText. If you store the element above the horizontal line in a PdfPCell, you can then set the border of that to show only the bottom. (That cell can also be blank if needed)</p>\n\n<pre><code>PdfPCell myCell = new PdfPCell(new Paragraph(\"Hello World\") );\nmyCell.setBorder(Rectangle.BOTTOM);\n</code></pre>\n\n<p>The result should look like (solid line, not checkered)</p>\n\n<pre><code>Hello World\n-----------\n</code></pre>\n\n<p>This should give you what you desire. Not the optimal solution but it is a way to work around the limitations of the old jar.</p>\n\n<p>For your reference, if you want to perform this trick to put a line on top and below your text to give a result of </p>\n\n<pre><code>-----------\nHello World\n-----------\n</code></pre>\n\n<p>The argument to setBorder() is an int which you can use bitwise operation on to manipulate the values. So the above example can would be accomplished with</p>\n\n<pre><code>myCell.setBorder(Rectangle.BOTTOM | Rectangle.TOP);\n</code></pre>\n\n<p>edit: Example</p>\n\n<pre><code>//Create the table which will be 2 Columns wide and make it 100% of the page\nPdfPTable myTable = new PdfPtable(2);\nmyTable.setWidthPercentage(100.0f);\n\n//create a 3 cells and add them to the table\nPdfPCell cellOne = new PdfPCell(new Paragraph(\"Hello World\"));\nPdfPCell cellTwo = new PdfPCell(new Paragraph(\"Bottom Left\"));\nPdfPcell cellThree = new PdfPCell(new Paragraph(\"Bottom Right\"));\n\ncellOne.setColspan(2);\ncellOne.setBorder(Rectangle.BOTTOM);\ncellOne.setHorizontalAlignment(Element.ALIGN_LEFT);\n\ncellTwo.setBorder(Rectangle.NO_BORDER);\ncellTwo.setHorizontalAlignment(Element.ALIGN_LEFT);\ncellThree.setBorder(Rectangle.LEFT);\ncellThree.setHorizontalAlignment(Element.ALIGN_RIGHT);\n\n//Add the three cells to the table\nmyTable.addCell(cellOne);\nmyTable.addCell(cellTwo);\nmyTable.addCell(cellThree);\n\n//Do something to add the table to your root document\n</code></pre>\n\n<p>This should create you a table which looks something like the following (assuming you correct my typos)</p>\n\n<pre><code>Hello World\n------------------------------------\nBottom Left      |      Bottom Right\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7638953,"reputation":675,"user_id":5791681,"display_name":"Ricardo A."},"score":0,"creation_date":1559048279,"post_id":6193090,"comment_id":99290604,"body_markdown":"OP specifically said that he can&#39;t use it.","body":"OP specifically said that he can&#39;t use it."}],"tags":[],"owner":{"account_id":407907,"reputation":279,"user_id":778252,"display_name":"ftarucco"},"comment_count":1,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1306873185,"creation_date":1306873185,"answer_id":6193090,"question_id":3719673,"body_markdown":"    LineSeparator ls = new LineSeparator();\r\n    document.add(new Chunk(ls));\r\n\r\nExample: [iText in action][1]\r\n\r\n\r\n  [1]: http://itextpdf.com/examples/iia.php?id=45","title":"Alternative for LineSeparator in iText old versions?","body":"<pre><code>LineSeparator ls = new LineSeparator();\ndocument.add(new Chunk(ls));\n</code></pre>\n\n<p>Example: <a href=\"http://itextpdf.com/examples/iia.php?id=45\" rel=\"noreferrer\">iText in action</a></p>\n"},{"tags":[],"owner":{"account_id":1001358,"reputation":11,"user_id":1016136,"display_name":"Boolasa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1324466666,"creation_date":1324462566,"answer_id":8588214,"question_id":3719673,"body_markdown":"`table.setExtendLastRow(true);`\r\n\r\nwill do it!","title":"Alternative for LineSeparator in iText old versions?","body":"<p><code>table.setExtendLastRow(true);</code></p>\n\n<p>will do it!</p>\n"},{"comments":[{"owner":{"account_id":39521,"reputation":100604,"user_id":114029,"accept_rate":96,"display_name":"Leniel Maccaferri"},"score":0,"creation_date":1373082701,"post_id":10754816,"comment_id":25438180,"body_markdown":"hehehe... I was looking exactly for this one, that is, adding a `LineSeparator` to a `PdfContentByte`. WORKED A TREAT! :)","body":"hehehe... I was looking exactly for this one, that is, adding a <code>LineSeparator</code> to a <code>PdfContentByte</code>. WORKED A TREAT! :)"}],"tags":[],"owner":{"account_id":1143161,"reputation":436,"user_id":1126533,"display_name":"Laurent"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1337950430,"creation_date":1337950430,"answer_id":10754816,"question_id":3719673,"body_markdown":"I&#39;m also in favor of using Line elements rather than tables... do not repeat HTML formatting mistakes !\r\n\r\n\tfinal LineSeparator lineSeparator = new LineSeparator();\r\n\tlineSeparator.drawLine(pdfCB, leftX, rightX, y);\r\n","title":"Alternative for LineSeparator in iText old versions?","body":"<p>I'm also in favor of using Line elements rather than tables... do not repeat HTML formatting mistakes !</p>\n\n<pre><code>final LineSeparator lineSeparator = new LineSeparator();\nlineSeparator.drawLine(pdfCB, leftX, rightX, y);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7638953,"reputation":675,"user_id":5791681,"display_name":"Ricardo A."},"score":0,"creation_date":1559048400,"post_id":13660095,"comment_id":99290668,"body_markdown":"duplicated answer. And the op specifically said that he can&#39;t use LineSeparator.","body":"duplicated answer. And the op specifically said that he can&#39;t use LineSeparator."}],"tags":[],"owner":{"account_id":2101131,"reputation":49,"user_id":1868722,"display_name":"pritesh dhebar"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1354371286,"creation_date":1354369913,"answer_id":13660095,"question_id":3719673,"body_markdown":"Just Add a line separator object to pdf document object. That should be it\r\n\r\n    LineSeparator objectName = new LineSeparator();\t\t         \r\n    document.add(objectName);","title":"Alternative for LineSeparator in iText old versions?","body":"<p>Just Add a line separator object to pdf document object. That should be it</p>\n\n<pre><code>LineSeparator objectName = new LineSeparator();              \ndocument.add(objectName);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1233419,"reputation":3265,"user_id":1197539,"accept_rate":79,"display_name":"hdoghmen"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1384010922,"creation_date":1384010922,"answer_id":19877623,"question_id":3719673,"body_markdown":"The solution given by Sean offer more flexibility when dealing with a text underlined by the line separator.\r\nI don&#39;t know if LineSeparator can do that, it seems to be meant to be just a line separator.\r\n\r\n    Paragraph ph = new Paragraph(new Phrase(&quot;My line separator&quot;, yourFont));\r\n    PdfPCell cell = new PdfPCell(ph);\r\n    cell.Border = Rectangle.BOTTOM_BORDER;\r\n    cell.BorderColor = new BaseColor(44, 67, 144);\r\n    cell.BorderWidth = 2f;\r\n              \r\n    PdfPTable table = new PdfPTable(1);                \r\n    table.AddCell(cell);\r\n    table.HorizontalAlignment = Element.ALIGN_LEFT;\r\n    table.WidthPercentage = 100f;\r\n    doc.Add(table);\r\n\r\nHope this can help.\r\nShould print something like this .![A line separator with text ][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/hoc2J.jpg","title":"Alternative for LineSeparator in iText old versions?","body":"<p>The solution given by Sean offer more flexibility when dealing with a text underlined by the line separator.\nI don't know if LineSeparator can do that, it seems to be meant to be just a line separator.</p>\n\n<pre><code>Paragraph ph = new Paragraph(new Phrase(\"My line separator\", yourFont));\nPdfPCell cell = new PdfPCell(ph);\ncell.Border = Rectangle.BOTTOM_BORDER;\ncell.BorderColor = new BaseColor(44, 67, 144);\ncell.BorderWidth = 2f;\n\nPdfPTable table = new PdfPTable(1);                \ntable.AddCell(cell);\ntable.HorizontalAlignment = Element.ALIGN_LEFT;\ntable.WidthPercentage = 100f;\ndoc.Add(table);\n</code></pre>\n\n<p>Hope this can help.\nShould print something like this .<img src=\"https://i.stack.imgur.com/hoc2J.jpg\" alt=\"A line separator with text \"></p>\n"},{"comments":[{"owner":{"account_id":7638953,"reputation":675,"user_id":5791681,"display_name":"Ricardo A."},"score":0,"creation_date":1559048510,"post_id":37603256,"comment_id":99290729,"body_markdown":"op specifically said that he can&#39;t use LineSeparator","body":"op specifically said that he can&#39;t use LineSeparator"}],"tags":[],"owner":{"account_id":3206454,"reputation":2823,"user_id":2707444,"display_name":"luizMello"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1464907111,"creation_date":1464907111,"answer_id":37603256,"question_id":3719673,"body_markdown":"A simple way, if you want a whole new line:\r\n\r\n        document.add(Chunk.NEWLINE);\r\n        LineSeparator ls = new LineSeparator();\r\n        document.add(new Chunk(ls));\r\n\r\n","title":"Alternative for LineSeparator in iText old versions?","body":"<p>A simple way, if you want a whole new line:</p>\n\n<pre><code>    document.add(Chunk.NEWLINE);\n    LineSeparator ls = new LineSeparator();\n    document.add(new Chunk(ls));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11415712,"reputation":45,"user_id":8368565,"display_name":"Akshay Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1501058322,"creation_date":1501058322,"answer_id":45321637,"question_id":3719673,"body_markdown":"I also faced the similar problem as my company was also using older version of iText i.e. 1.4.2. These are the two solutions that I propose for creating horizontal rule. First one uses Graphic and second uses Table with bottom border. Both works fine for me.\r\n\r\nSolution 1 : \r\n\r\n    protected static final Graphic HR = new Graphic();\r\n      static {\r\n        HR.setHorizontalLine(1f, 100f, Color.BLACK);\r\n      }\r\n\r\nSolution 2 : \r\n\r\n\r\n        private static void addHorizontalLine(Document document, PdfWriter writer) throws DocumentException, IOException{\r\n    \tPdfPTable myTable = new PdfPTable(1);\r\n    \tmyTable.setWidthPercentage(100.0f);\r\n    \tPdfPCell cellOne = new PdfPCell();\r\n    \tcellOne.setBorder(Rectangle.BOTTOM);\r\n    \tdocument.add(new Paragraph(&quot; &quot;));\r\n    \tdocument.add(myTable);\r\n    }\r\n\r\nPS : The reason we can not update JAR is that older versions of iText are free for commercial use and newer versions are paid.\r\n\r\nHope that it helps!","title":"Alternative for LineSeparator in iText old versions?","body":"<p>I also faced the similar problem as my company was also using older version of iText i.e. 1.4.2. These are the two solutions that I propose for creating horizontal rule. First one uses Graphic and second uses Table with bottom border. Both works fine for me.</p>\n\n<p>Solution 1 : </p>\n\n<pre><code>protected static final Graphic HR = new Graphic();\n  static {\n    HR.setHorizontalLine(1f, 100f, Color.BLACK);\n  }\n</code></pre>\n\n<p>Solution 2 : </p>\n\n<pre><code>    private static void addHorizontalLine(Document document, PdfWriter writer) throws DocumentException, IOException{\n    PdfPTable myTable = new PdfPTable(1);\n    myTable.setWidthPercentage(100.0f);\n    PdfPCell cellOne = new PdfPCell();\n    cellOne.setBorder(Rectangle.BOTTOM);\n    document.add(new Paragraph(\" \"));\n    document.add(myTable);\n}\n</code></pre>\n\n<p>PS : The reason we can not update JAR is that older versions of iText are free for commercial use and newer versions are paid.</p>\n\n<p>Hope that it helps!</p>\n"},{"tags":[],"owner":{"account_id":1980276,"reputation":8081,"user_id":1777072,"accept_rate":60,"display_name":"David Lavender"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520336190,"creation_date":1520336190,"answer_id":49129903,"question_id":3719673,"body_markdown":"I found this most closely resembles an HTML `&lt;HR&gt;` tag:\r\n\r\n    import com.itextpdf.kernel.color.Color;\r\n    import com.itextpdf.kernel.pdf.canvas.draw.SolidLine;\r\n    import com.itextpdf.layout.element.LineSeparator;\r\n\r\n    ...\r\n\r\n    final SolidLine lineDrawer = new SolidLine(1f);\r\n    lineDrawer.setColor(Color.GRAY);\r\n    document.add(new LineSeparator(lineDrawer));\r\n\r\n(iText 7.0.0)\r\n","title":"Alternative for LineSeparator in iText old versions?","body":"<p>I found this most closely resembles an HTML <code>&lt;HR&gt;</code> tag:</p>\n\n<pre><code>import com.itextpdf.kernel.color.Color;\nimport com.itextpdf.kernel.pdf.canvas.draw.SolidLine;\nimport com.itextpdf.layout.element.LineSeparator;\n\n...\n\nfinal SolidLine lineDrawer = new SolidLine(1f);\nlineDrawer.setColor(Color.GRAY);\ndocument.add(new LineSeparator(lineDrawer));\n</code></pre>\n\n<p>(iText 7.0.0)</p>\n"},{"tags":[],"owner":{"account_id":5350815,"reputation":4694,"user_id":4264996,"accept_rate":0,"display_name":"madhu527"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680178271,"creation_date":1680178271,"answer_id":75888115,"question_id":3719673,"body_markdown":"   **iText 7** - Java | Android - It works for me\r\n\r\nReference: https://bitbucket.itextsupport.com/projects/I7J/repos/itextcore/browse/kernel/src/main/java/com/itextpdf/kernel/pdf/canvas/draw/SolidLine.java?at=4d0ecad5f6a89f4232909ede99ba502d30c6d61f\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    SolidLine customLine = new SolidLine(0);\r\n    customLine.setLineWidth(10);\r\n    customLine.setColor(WebColors.getRGBColor(&quot;#AA2E25&quot;));\r\n    customLine.setLineWidth(1);\r\n    doc.add(new LineSeparator(customLine));\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gmyFL.png\r\n\r\n**iText 5**\r\n  \r\n\r\n     LineSeparator lineSeparator = new LineSeparator();\r\n     lineSeparator.setLineWidth(1);\r\n     lineSeparator.setLineColor(WebColors.getRGBColor(&quot;#AA2E25&quot;));\r\n     doc.add(new Chunk(lineSeparator));","title":"Alternative for LineSeparator in iText old versions?","body":"<p><strong>iText 7</strong> - Java | Android - It works for me</p>\n<p>Reference: <a href=\"https://bitbucket.itextsupport.com/projects/I7J/repos/itextcore/browse/kernel/src/main/java/com/itextpdf/kernel/pdf/canvas/draw/SolidLine.java?at=4d0ecad5f6a89f4232909ede99ba502d30c6d61f\" rel=\"nofollow noreferrer\">https://bitbucket.itextsupport.com/projects/I7J/repos/itextcore/browse/kernel/src/main/java/com/itextpdf/kernel/pdf/canvas/draw/SolidLine.java?at=4d0ecad5f6a89f4232909ede99ba502d30c6d61f</a></p>\n<p><a href=\"https://i.stack.imgur.com/gmyFL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gmyFL.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>SolidLine customLine = new SolidLine(0);\ncustomLine.setLineWidth(10);\ncustomLine.setColor(WebColors.getRGBColor(&quot;#AA2E25&quot;));\ncustomLine.setLineWidth(1);\ndoc.add(new LineSeparator(customLine));\n</code></pre>\n<p><strong>iText 5</strong></p>\n<pre><code> LineSeparator lineSeparator = new LineSeparator();\n lineSeparator.setLineWidth(1);\n lineSeparator.setLineColor(WebColors.getRGBColor(&quot;#AA2E25&quot;));\n doc.add(new Chunk(lineSeparator));\n</code></pre>\n"}],"owner":{"account_id":196417,"reputation":18062,"user_id":439836,"accept_rate":67,"display_name":"Fran Fitzpatrick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49852,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":3719932,"answer_count":10,"score":15,"last_activity_date":1680178271,"creation_date":1284567664,"question_id":3719673,"body_markdown":"I&#39;m trying to insert a line separator (you know, that horizontal line that runs across documents) into my document with iText. I&#39;ve found some resources via Google that use com.lowagie.text.pdf.draw.LineSeparator but the version of iText that I&#39;m using (1.4.2) doesn&#39;t seem to have that package.\r\n\r\nCan anyone suggest another way to add a nice line seperator for my pdf? And please don&#39;t say update the .jar-- I&#39;m locked in to 1.4.2.\r\n\r\nThanks!","title":"Alternative for LineSeparator in iText old versions?","body":"<p>I'm trying to insert a line separator (you know, that horizontal line that runs across documents) into my document with iText. I've found some resources via Google that use com.lowagie.text.pdf.draw.LineSeparator but the version of iText that I'm using (1.4.2) doesn't seem to have that package.</p>\n\n<p>Can anyone suggest another way to add a nice line seperator for my pdf? And please don't say update the .jar-- I'm locked in to 1.4.2.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","mysql","sql","database","user-interface"],"comments":[{"owner":{"account_id":12190699,"reputation":2759,"user_id":8898324,"display_name":"TomC"},"score":0,"creation_date":1573525904,"post_id":58811023,"comment_id":103901599,"body_markdown":"There seems to be some unnecessary code here. If you have run a query that only selects the name, there is no need to check if the data you got back is correct. You only need to know that you got a row. Also, I&#39;m not familiar with the library - but do you need a next() to get to the first row? If not then you will be already going past the row before you check name=name.","body":"There seems to be some unnecessary code here. If you have run a query that only selects the name, there is no need to check if the data you got back is correct. You only need to know that you got a row. Also, I&#39;m not familiar with the library - but do you need a next() to get to the first row? If not then you will be already going past the row before you check name=name."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1573528141,"post_id":58811023,"comment_id":103901984,"body_markdown":"It should be obvious that a single JTextField cannot display the names of all of your recipes.  When you want to display multiple records, typically you use a [JTable](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html).","body":"It should be obvious that a single JTextField cannot display the names of all of your recipes.  When you want to display multiple records, typically you use a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">JTable</a>."}],"answers":[{"tags":[],"owner":{"account_id":22303736,"reputation":209,"user_id":16528677,"display_name":"Darian-Cătălin Cucer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680178215,"creation_date":1680178215,"answer_id":75888102,"question_id":58811023,"body_markdown":"Connect to the [`database`](https://dbmstools.com/categories/database-documentation-tools#:~:text=Database%20documentation%20is%20a%20set,relationships%2C%20data%20types%2C%20etc.):\r\n\r\nUse a [`JDBC`](https://docs.oracle.com/javase/8/docs/technotes/guides/jdbc/) driver to connect to the database like this:\r\n\r\n    String url = &quot;jdbc:derby://localhost:1527/Cookbook&quot;;\r\n    Connection conn = DriverManager.getConnection(url);\r\n\r\n---\r\n\r\nPrepare a `SELECT` query:\r\n\r\nWrite a `SELECT` query to get the data from [`database`](https://dbmstools.com/categories/database-documentation-tools#:~:text=Database%20documentation%20is%20a%20set,relationships%2C%20data%20types%2C%20etc.). Use [`PreparedStatement`](https://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html) to bind the parameters to the query:\r\n\r\n    String sql = &quot;SELECT * from RECIPES where name=?&quot;;\r\n    PreparedStatement pst = conn.prepareStatement(sql);\r\n    pst.setString(1, name);\r\n\r\n---\r\n\r\nExecute the query:\r\n\r\nExecute the query and get the [`ResultSet`](https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html), also check if it has any data:\r\n\r\n    ResultSet rs = pst.executeQuery();\r\n    if (rs.next()) {\r\n      // the result set has data\r\n    } else {\r\n      // the result set is empty\r\n    }\r\n\r\n---\r\n\r\nLoad the data in [GUI](https://enrico.readthedocs.io/en/latest/gui.html):\r\n\r\nUse data from [`ResultSet`](https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html) to load [GUI](https://enrico.readthedocs.io/en/latest/gui.html):\r\n\r\n    txtName.setText(rs.getString(1));\r\n    txtSubcatagory.setText(rs.getString(2));\r\n    cmbCatagory.setSelectedItem(rs.getString(3));\r\n    txtIngredients.setText(rs.getString(4));\r\n    txtInstructions.setText(rs.getString(5));\r\n    txtMod.setText(rs.getString(6));\r\n\r\nThe GUI components must be initialised before [`setText()`](https://developer.android.com/reference/android/widget/TextView) or [`setSelectedItem()`](https://docs.oracle.com/javase/7/docs/api/javax/swing/JComboBox.html) methods.\r\n\r\nGUI must be initialised either the data won&#39;t be loaded.\r\n\r\n---\r\n\r\n    public void presetPage() {\r\n      //modifyRecipe m = new modifyRecipe();\r\n      //String name = m.getSR();\r\n      try {\r\n        String url = &quot;jdbc:derby://localhost:1527/Cookbook&quot;;\r\n        Connection conn = DriverManager.getConnection(url);\r\n        String sql = &quot;SELECT * from RECIPES where name=?&quot;;\r\n        //PreparedStatement pst = conn.prepareStatement(sql);\r\n        //pst.setString(1, name);\r\n        ResultSet rs = pst.executeQuery();\r\n        if (rs.next()) {\r\n          txtName.setText(rs.getString(1));\r\n          txtSubcatagory.setText(rs.getString(2));\r\n          cmbCatagory.setSelectedItem(rs.getString(3));\r\n          txtIngredients.setText(rs.getString(4));\r\n          txtInstructions.setText(rs.getString(5));\r\n          txtMod.setText(rs.getString(6));\r\n        } else {\r\n          //JOptionPane.showMessageDialog(null, &quot;Item Not Found!&quot;);\r\n          //this.dispose();\r\n        }\r\n      } catch (SQLException ex) {\r\n        ex.printStackTrace();\r\n      }\r\n    }\r\n\r\nWe assume the GUI comp are initialised and the SQL query returns a single row. If query returns multiple rows, you have to handle that appropriately.","title":"How to preload a GUI with database entry data?","body":"<p>Connect to the <a href=\"https://dbmstools.com/categories/database-documentation-tools#:%7E:text=Database%20documentation%20is%20a%20set,relationships%2C%20data%20types%2C%20etc.\" rel=\"nofollow noreferrer\"><code>database</code></a>:</p>\n<p>Use a <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/jdbc/\" rel=\"nofollow noreferrer\"><code>JDBC</code></a> driver to connect to the database like this:</p>\n<pre><code>String url = &quot;jdbc:derby://localhost:1527/Cookbook&quot;;\nConnection conn = DriverManager.getConnection(url);\n</code></pre>\n<hr />\n<p>Prepare a <code>SELECT</code> query:</p>\n<p>Write a <code>SELECT</code> query to get the data from <a href=\"https://dbmstools.com/categories/database-documentation-tools#:%7E:text=Database%20documentation%20is%20a%20set,relationships%2C%20data%20types%2C%20etc.\" rel=\"nofollow noreferrer\"><code>database</code></a>. Use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html\" rel=\"nofollow noreferrer\"><code>PreparedStatement</code></a> to bind the parameters to the query:</p>\n<pre><code>String sql = &quot;SELECT * from RECIPES where name=?&quot;;\nPreparedStatement pst = conn.prepareStatement(sql);\npst.setString(1, name);\n</code></pre>\n<hr />\n<p>Execute the query:</p>\n<p>Execute the query and get the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html\" rel=\"nofollow noreferrer\"><code>ResultSet</code></a>, also check if it has any data:</p>\n<pre><code>ResultSet rs = pst.executeQuery();\nif (rs.next()) {\n  // the result set has data\n} else {\n  // the result set is empty\n}\n</code></pre>\n<hr />\n<p>Load the data in <a href=\"https://enrico.readthedocs.io/en/latest/gui.html\" rel=\"nofollow noreferrer\">GUI</a>:</p>\n<p>Use data from <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html\" rel=\"nofollow noreferrer\"><code>ResultSet</code></a> to load <a href=\"https://enrico.readthedocs.io/en/latest/gui.html\" rel=\"nofollow noreferrer\">GUI</a>:</p>\n<pre><code>txtName.setText(rs.getString(1));\ntxtSubcatagory.setText(rs.getString(2));\ncmbCatagory.setSelectedItem(rs.getString(3));\ntxtIngredients.setText(rs.getString(4));\ntxtInstructions.setText(rs.getString(5));\ntxtMod.setText(rs.getString(6));\n</code></pre>\n<p>The GUI components must be initialised before <a href=\"https://developer.android.com/reference/android/widget/TextView\" rel=\"nofollow noreferrer\"><code>setText()</code></a> or <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JComboBox.html\" rel=\"nofollow noreferrer\"><code>setSelectedItem()</code></a> methods.</p>\n<p>GUI must be initialised either the data won't be loaded.</p>\n<hr />\n<pre><code>public void presetPage() {\n  //modifyRecipe m = new modifyRecipe();\n  //String name = m.getSR();\n  try {\n    String url = &quot;jdbc:derby://localhost:1527/Cookbook&quot;;\n    Connection conn = DriverManager.getConnection(url);\n    String sql = &quot;SELECT * from RECIPES where name=?&quot;;\n    //PreparedStatement pst = conn.prepareStatement(sql);\n    //pst.setString(1, name);\n    ResultSet rs = pst.executeQuery();\n    if (rs.next()) {\n      txtName.setText(rs.getString(1));\n      txtSubcatagory.setText(rs.getString(2));\n      cmbCatagory.setSelectedItem(rs.getString(3));\n      txtIngredients.setText(rs.getString(4));\n      txtInstructions.setText(rs.getString(5));\n      txtMod.setText(rs.getString(6));\n    } else {\n      //JOptionPane.showMessageDialog(null, &quot;Item Not Found!&quot;);\n      //this.dispose();\n    }\n  } catch (SQLException ex) {\n    ex.printStackTrace();\n  }\n}\n</code></pre>\n<p>We assume the GUI comp are initialised and the SQL query returns a single row. If query returns multiple rows, you have to handle that appropriately.</p>\n"}],"owner":{"account_id":16962778,"reputation":21,"user_id":12269507,"display_name":"Justin YING"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680178215,"creation_date":1573524690,"question_id":58811023,"body_markdown":"I am trying to preload a GUI with the data of a database entry. Basically in the previous JForm I have asked the user to input a name, and this class takes that name and fills up the existing textfields and areas with the database entry, although it doesn&#39;t seem to be working as it doesn&#39;t preload any of the existing fields although it does exist in the database. If anyone could help it would be gratefully appreciated as this is due very soon!\r\n\r\n\r\n\r\n      public void presetPage(){\r\n        modifyRecipe m = new modifyRecipe();\r\n        String name = m.getSR();\r\n        try{\r\n            String url = &quot;jdbc:derby://localhost:1527/Cookbook&quot;;\r\n            Connection conn = DriverManager.getConnection(url);\r\n            String sql = &quot;SELECT * from RECIPES where name=?&quot;;\r\n            PreparedStatement pst = conn.prepareStatement(sql);\r\n            pst.setString(1, name);\r\n            \r\n            ResultSet rs = pst.executeQuery();\r\n            boolean found = false;\r\n           \r\n            while(rs.next()){\r\n                if(rs.getString(1).equalsIgnoreCase(name)){\r\n                    JOptionPane.showMessageDialog(null, &quot;Found &quot; + name );\r\n                    found = true;\r\n                    \r\n                    txtName.setText(rs.getString(1));\r\n                    txtSubcatagory.setText(rs.getString(2));\r\n                    cmbCatagory.getSelectedItem().toString();\r\n                    txtIngredients.setText(rs.getString(4));\r\n                    txtInstructions.setText(rs.getString(5));\r\n                    txtMod.setText(rs.getString(6));\r\n                        \r\n                    \r\n              \r\n                }else if(!found){\r\n                JOptionPane.showMessageDialog(null, &quot;Item Not Found!&quot;);\r\n                this.dispose();\r\n                \r\n            }\r\n            }\r\n            \r\n            ","title":"How to preload a GUI with database entry data?","body":"<p>I am trying to preload a GUI with the data of a database entry. Basically in the previous JForm I have asked the user to input a name, and this class takes that name and fills up the existing textfields and areas with the database entry, although it doesn't seem to be working as it doesn't preload any of the existing fields although it does exist in the database. If anyone could help it would be gratefully appreciated as this is due very soon!</p>\n\n<pre><code>  public void presetPage(){\n    modifyRecipe m = new modifyRecipe();\n    String name = m.getSR();\n    try{\n        String url = \"jdbc:derby://localhost:1527/Cookbook\";\n        Connection conn = DriverManager.getConnection(url);\n        String sql = \"SELECT * from RECIPES where name=?\";\n        PreparedStatement pst = conn.prepareStatement(sql);\n        pst.setString(1, name);\n\n        ResultSet rs = pst.executeQuery();\n        boolean found = false;\n\n        while(rs.next()){\n            if(rs.getString(1).equalsIgnoreCase(name)){\n                JOptionPane.showMessageDialog(null, \"Found \" + name );\n                found = true;\n\n                txtName.setText(rs.getString(1));\n                txtSubcatagory.setText(rs.getString(2));\n                cmbCatagory.getSelectedItem().toString();\n                txtIngredients.setText(rs.getString(4));\n                txtInstructions.setText(rs.getString(5));\n                txtMod.setText(rs.getString(6));\n\n\n\n            }else if(!found){\n            JOptionPane.showMessageDialog(null, \"Item Not Found!\");\n            this.dispose();\n\n        }\n        }\n</code></pre>\n"},{"tags":["java","android","android-intent","android-activity"],"comments":[{"owner":{"account_id":1565373,"reputation":3362,"user_id":2548187,"accept_rate":74,"display_name":"u3l"},"score":2,"creation_date":1378551278,"post_id":18672482,"comment_id":27501178,"body_markdown":"Perhaps this may answer your question:\nhttp://stackoverflow.com/questions/10143222/sending-data-to-another-activity-that-may-be-started (you have to override onNewIntent() ). I&#39;m not sure though.","body":"Perhaps this may answer your question: <a href=\"http://stackoverflow.com/questions/10143222/sending-data-to-another-activity-that-may-be-started\" title=\"sending data to another activity that may be started\">stackoverflow.com/questions/10143222/&hellip;</a> (you have to override onNewIntent() ). I&#39;m not sure though."},{"owner":{"account_id":415074,"reputation":14411,"user_id":789657,"accept_rate":84,"display_name":"Simon"},"score":1,"creation_date":1378552958,"post_id":18672482,"comment_id":27501585,"body_markdown":"You need an `Interface`.  Define a callback.","body":"You need an <code>Interface</code>.  Define a callback."}],"answers":[{"comments":[{"owner":{"account_id":8228563,"reputation":2438,"user_id":6190043,"display_name":"Saurabh Bhandari"},"score":1,"creation_date":1544614108,"post_id":21145401,"comment_id":94336528,"body_markdown":"This is classic answer. Thank you @Cory you saved my day","body":"This is classic answer. Thank you @Cory you saved my day"}],"tags":[],"owner":{"account_id":1499204,"reputation":5419,"user_id":1404407,"accept_rate":100,"display_name":"Cory Roy"},"comment_count":1,"down_vote_count":1,"up_vote_count":51,"is_accepted":true,"score":50,"last_activity_date":1389810640,"creation_date":1389810339,"answer_id":21145401,"question_id":18672482,"body_markdown":"Make sure when you are launching the intent from the BroadcastReceiver you set the FLAG_ACTIVITY_SINGLE_TOP flag.\r\n\r\n    intent.addFlags (FLAG_ACTIVITY_SINGLE_TOP);\r\n  \r\n    ...\r\n\r\n\r\n    class HomeActivity extends Activity {\r\n       ...\r\n       @Override\r\n       protected void onNewIntent(Intent intent) {\r\n          Bundle extras = intent.getExtras();\r\n       }\r\n       ...\r\n    }","title":"How to pass intent with extras to an already running activity","body":"<p>Make sure when you are launching the intent from the BroadcastReceiver you set the FLAG_ACTIVITY_SINGLE_TOP flag.</p>\n\n<pre><code>intent.addFlags (FLAG_ACTIVITY_SINGLE_TOP);\n\n...\n\n\nclass HomeActivity extends Activity {\n   ...\n   @Override\n   protected void onNewIntent(Intent intent) {\n      Bundle extras = intent.getExtras();\n   }\n   ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":940928,"reputation":7129,"user_id":969016,"accept_rate":79,"display_name":"Boy"},"score":2,"creation_date":1491572155,"post_id":30545258,"comment_id":73626913,"body_markdown":"this does not seem to be necessary! This means that the default launch mode is &#39;singleTop&#39;. you might not want that and only for notifications","body":"this does not seem to be necessary! This means that the default launch mode is &#39;singleTop&#39;. you might not want that and only for notifications"},{"owner":{"account_id":5397354,"reputation":1819,"user_id":4298143,"accept_rate":76,"display_name":"Cody"},"score":1,"creation_date":1515028188,"post_id":30545258,"comment_id":83149610,"body_markdown":"Worth noting that launchMode only needs to be set either in the manifest or via addFlags() from the calling intent, not both.","body":"Worth noting that launchMode only needs to be set either in the manifest or via addFlags() from the calling intent, not both."}],"tags":[],"owner":{"account_id":1077468,"reputation":20917,"user_id":1075289,"accept_rate":65,"display_name":"Amio.io"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1432983282,"creation_date":1432983282,"answer_id":30545258,"question_id":18672482,"body_markdown":"Just extending Cory Roy&#39;s answer you have to define &quot;SingleTop&quot; in AndroidManifest.xml too.\r\n\r\n    &lt;activity\r\n            android:name=&quot;MainActivity&quot;            \r\n            android:launchMode=&quot;singleTop&quot;\r\n\r\n\r\nIt seems that extending android.support.v7.app.ActionBarActivity this method does not work...","title":"How to pass intent with extras to an already running activity","body":"<p>Just extending Cory Roy's answer you have to define \"SingleTop\" in AndroidManifest.xml too.</p>\n\n<pre><code>&lt;activity\n        android:name=\"MainActivity\"            \n        android:launchMode=\"singleTop\"\n</code></pre>\n\n<p>It seems that extending android.support.v7.app.ActionBarActivity this method does not work...</p>\n"},{"tags":[],"owner":{"account_id":20058566,"reputation":11,"user_id":14705750,"display_name":"Kirill H&#228;uptli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680177611,"creation_date":1680177611,"answer_id":75888000,"question_id":18672482,"body_markdown":"Forget starting activities from a Broadcastreceiver, google added since Android 12 a trampoline prevention.\r\nSee docs:\r\nhttps://developer.android.com/about/versions/12/behavior-changes-12","title":"How to pass intent with extras to an already running activity","body":"<p>Forget starting activities from a Broadcastreceiver, google added since Android 12 a trampoline prevention.\nSee docs:\n<a href=\"https://developer.android.com/about/versions/12/behavior-changes-12\" rel=\"nofollow noreferrer\">https://developer.android.com/about/versions/12/behavior-changes-12</a></p>\n"}],"owner":{"account_id":424481,"reputation":3755,"user_id":804503,"accept_rate":88,"display_name":"Ayrton Senna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15190,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":21145401,"answer_count":3,"score":29,"last_activity_date":1680177611,"creation_date":1378550733,"question_id":18672482,"body_markdown":"I have a `BroadcastReceiver` which launches a `HomeActivity` with some information passed with the extras. \r\n\r\nWhat happens when the activity is already running and the broadcast receiver gets triggered again which tries to launch the `HomeActivity` with new info. Does the `OnResume()` or `OnCreate()` of the activity execute? \r\n\r\nIf not, is there any other way of passing/reloading a running activity when a `BroadcastReceiver` is triggered?","title":"How to pass intent with extras to an already running activity","body":"<p>I have a <code>BroadcastReceiver</code> which launches a <code>HomeActivity</code> with some information passed with the extras. </p>\n\n<p>What happens when the activity is already running and the broadcast receiver gets triggered again which tries to launch the <code>HomeActivity</code> with new info. Does the <code>OnResume()</code> or <code>OnCreate()</code> of the activity execute? </p>\n\n<p>If not, is there any other way of passing/reloading a running activity when a <code>BroadcastReceiver</code> is triggered?</p>\n"},{"tags":["java","methods","overloading"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680127652,"post_id":75882313,"comment_id":133847184,"body_markdown":"Vague title. Rewrite to summarize your *specific* technical issue.","body":"Vague title. Rewrite to summarize your <i>specific</i> technical issue."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680128287,"creation_date":1680127982,"answer_id":75882599,"question_id":75882313,"body_markdown":"With `method(1, 1, 1);`, strict invocation finds two applicable methods: `method(long x, long y, long z)` and `method(int x, long y, int z)`. `method(short x, int y, double z)` is not applicable because [strict invocation](https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.12.2.2) only allows widening primitives conversions. `int` to `long` is fine, but not `int` to `short`.\r\n\r\nAccording to [&#167;15.12.2.5. Choosing the Most Specific Method](https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.12.2.5):\r\n\r\n&lt;blockquote&gt;\r\nOne applicable method m1 is more specific than another applicable method m2, for an invocation with argument expressions e1, ..., ek, if any of the following are true:\r\n\r\n- [...]\r\n- m1 and m2 are applicable by strict or loose invocation, and where m1 has formal parameter types S1, ..., Sn and m2 has formal parameter types T1, ..., Tn, the type Si is more specific than Ti for argument ei for all i (1 ≤ i ≤ n, n = k).\r\n&lt;/blockquote&gt;\r\n\r\nAnd on type specificity:\r\n\r\n&gt; A type S is more specific than a type T for any expression if S &lt;: T\r\n\r\nFrom [4.10.1. Subtyping among Primitive Types](https://docs.oracle.com/javase/specs/jls/se20/html/jls-4.html#jls-4.10.1), we have that `int` is considered a subtype of `long`. `method(int x, long y, int z)` is thus more specific than `method(long x, long y, long z)` since the type of each parameter is either the same or a subtype of the corresponding parameter of the latter method. \r\n\r\n&gt; A method m1 is strictly more specific than another method m2 if and only if m1 is more specific than m2 and m2 is not more specific than m1. &lt;br&gt;\r\n&gt; A method is said to be maximally specific for a method invocation if it is accessible and applicable and there is no other method that is accessible and applicable that is strictly more specific.\r\n\r\n`method(long x, long y, long z)` is not more specific than `method(int x, long y, int z)`, so `method(int x, long y, int z)` is maximally specific. There are no other maximally specific methods, so it is the most specific method and will be called.\r\n\r\nWith `method((short) 1, 1, 1);`, all three methods are considered applicable by widening conversion. \r\n\r\nHowever, `method(short x, int y, double z)` is not more specific than all the other two methods because `double` is not a subtype or `int` or a subtype of `long` (in fact, it is considered a supertype). Similarly, none of the other methods have a more specific first parameter type since `int` and `long` are supertypes of `short`.\r\n\r\nWe have no method that is strictly more specific than every other applicable method, so there is no single maximally specific method. Thus the call is ambiguous.\r\n\r\nSee [&#167;15.12.2. Compile-Time Step 2: Determine Method Signature](https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.12.2) to read more about the whole process.","title":"Unexpected ambiguity between overloaded methods with long, int &amp; short arguments","body":"<p>With <code>method(1, 1, 1);</code>, strict invocation finds two applicable methods: <code>method(long x, long y, long z)</code> and <code>method(int x, long y, int z)</code>. <code>method(short x, int y, double z)</code> is not applicable because <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.12.2.2\" rel=\"nofollow noreferrer\">strict invocation</a> only allows widening primitives conversions. <code>int</code> to <code>long</code> is fine, but not <code>int</code> to <code>short</code>.</p>\n<p>According to <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.12.2.5\" rel=\"nofollow noreferrer\">§15.12.2.5. Choosing the Most Specific Method</a>:</p>\n<blockquote>\nOne applicable method m1 is more specific than another applicable method m2, for an invocation with argument expressions e1, ..., ek, if any of the following are true:\n<ul>\n<li>[...]</li>\n<li>m1 and m2 are applicable by strict or loose invocation, and where m1 has formal parameter types S1, ..., Sn and m2 has formal parameter types T1, ..., Tn, the type Si is more specific than Ti for argument ei for all i (1 ≤ i ≤ n, n = k).</li>\n</ul>\n</blockquote>\n<p>And on type specificity:</p>\n<blockquote>\n<p>A type S is more specific than a type T for any expression if S &lt;: T</p>\n</blockquote>\n<p>From <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-4.html#jls-4.10.1\" rel=\"nofollow noreferrer\">4.10.1. Subtyping among Primitive Types</a>, we have that <code>int</code> is considered a subtype of <code>long</code>. <code>method(int x, long y, int z)</code> is thus more specific than <code>method(long x, long y, long z)</code> since the type of each parameter is either the same or a subtype of the corresponding parameter of the latter method.</p>\n<blockquote>\n<p>A method m1 is strictly more specific than another method m2 if and only if m1 is more specific than m2 and m2 is not more specific than m1. <br>\nA method is said to be maximally specific for a method invocation if it is accessible and applicable and there is no other method that is accessible and applicable that is strictly more specific.</p>\n</blockquote>\n<p><code>method(long x, long y, long z)</code> is not more specific than <code>method(int x, long y, int z)</code>, so <code>method(int x, long y, int z)</code> is maximally specific. There are no other maximally specific methods, so it is the most specific method and will be called.</p>\n<p>With <code>method((short) 1, 1, 1);</code>, all three methods are considered applicable by widening conversion.</p>\n<p>However, <code>method(short x, int y, double z)</code> is not more specific than all the other two methods because <code>double</code> is not a subtype or <code>int</code> or a subtype of <code>long</code> (in fact, it is considered a supertype). Similarly, none of the other methods have a more specific first parameter type since <code>int</code> and <code>long</code> are supertypes of <code>short</code>.</p>\n<p>We have no method that is strictly more specific than every other applicable method, so there is no single maximally specific method. Thus the call is ambiguous.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.12.2\" rel=\"nofollow noreferrer\">§15.12.2. Compile-Time Step 2: Determine Method Signature</a> to read more about the whole process.</p>\n"}],"owner":{"account_id":28162476,"reputation":21,"user_id":21522145,"display_name":"nemidunam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680177476,"creation_date":1680125260,"question_id":75882313,"body_markdown":"Why is method((short)1,1,1); only ambiguous between the 2nd and 3rd method although it can also be implicitly casted to the first? \r\nWhy is it ambigious at all even though it needs less implicit casting for the 3rd than for the 2nd?\r\n\r\nIf the amount of implicit castings doesn&#39;t matter, why is method(1,1,1) not ambiguous between 1 and 2 although it can be implicitly casted to both?\r\n\r\n\r\n```\r\npublic class Main {\r\n\tstatic void method(long x, long y, long z) {\r\n\t\tSystem.out.println(&quot;1&quot;);\r\n\t}\r\n\r\n\tstatic void method(int x, long y, int z) {\r\n\t\tSystem.out.println(&quot;2&quot;);\r\n\t}\r\n\r\n\tstatic void method(short x, int y, double z) {\r\n\t\tSystem.out.println(&quot;3&quot;);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tmethod((short) 1, 1, 1); // ambiguous between 2 and 3\r\n\t\tmethod(1, 1, 1); // calls 2\r\n\t}\r\n}\r\n```","title":"Unexpected ambiguity between overloaded methods with long, int &amp; short arguments","body":"<p>Why is method((short)1,1,1); only ambiguous between the 2nd and 3rd method although it can also be implicitly casted to the first?\nWhy is it ambigious at all even though it needs less implicit casting for the 3rd than for the 2nd?</p>\n<p>If the amount of implicit castings doesn't matter, why is method(1,1,1) not ambiguous between 1 and 2 although it can be implicitly casted to both?</p>\n<pre><code>public class Main {\n    static void method(long x, long y, long z) {\n        System.out.println(&quot;1&quot;);\n    }\n\n    static void method(int x, long y, int z) {\n        System.out.println(&quot;2&quot;);\n    }\n\n    static void method(short x, int y, double z) {\n        System.out.println(&quot;3&quot;);\n    }\n\n    public static void main(String[] args) {\n        method((short) 1, 1, 1); // ambiguous between 2 and 3\n        method(1, 1, 1); // calls 2\n    }\n}\n</code></pre>\n"},{"tags":["java","protocol-buffers","protobuf-java"],"answers":[{"tags":[],"owner":{"account_id":2463651,"reputation":7815,"user_id":2147218,"display_name":"bazza"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680158723,"creation_date":1680158723,"answer_id":75884903,"question_id":75881433,"body_markdown":"It&#39;s a matter of specification: from the [docs][1]:\r\n\r\n&quot;The JSON format follows Proto3 JSON specification and only proto3 features are supported.&quot;\r\n\r\nThis means that someone has decided how protobuf objects are to be represented in JSON, and they chose this way. The purpose for doing so is that any protobuf object serialised to JSON will be in a standard form of JSON, and thus guaranteeed to be de-serialisable by protobuf code. If you started tampering with it, e.g. by removing quotes, that&#39;ll stop working. They can represent all fields as quoted strings, because protobuf knows what the field type is from its own .proto schema file that was used to generate the code in the first place. \r\n\r\nPerhaps you&#39;re looking to re-use such JSON data in another way, without the benefit of protobuf autogenerated code? If so, this encoder is not appropriate for your purpose. However, doing so rather defeats the point of using something like Protobufs in the first place. \r\n\r\nThe whole idea of protobufs (and other things like it) is that you use protobufs and protobuf-generated code exclusively. It&#39;s there to support efficient implementation of systems with intra-system heterogenity (you can use lots of different languages) without having to muck around deciding how bits of the system are going to exchange data with each other. You use the one .proto file for code generation across the entire system, and then details like &quot;are field quoted strings or not?&quot; become of no concern, and (really) the details of the wire format should be considered opaque, not something you need to know about. Generally, before adopting a serialisation standard such as protobuf, one should ensure that it supports all the languages and environments into / out of which your data needs to pass, otherwise you run into situations where you then can&#39;t easily consume data in one part of a project. Protobuf is widely supported, so it&#39;s a pretty good bet, but it does not support every lanuage on every platform. I note that the official documentation doesn&#39;t really mention Javascript anywhere.\r\n\r\nIf for some reason you can&#39;t use protobuf generated code in part of the project, well that makes life a bit more difficult. You&#39;d have to hand-spin an intermediate parser to convert from Google&#39;s settled standard on what the JSON should look like and whatever else you need it to be. \r\n\r\n  [1]: https://protobuf.dev/reference/java/api-docs/com/google/protobuf/util/JsonFormat","title":"Convert Protobuf to Json without Quotes","body":"<p>It's a matter of specification: from the <a href=\"https://protobuf.dev/reference/java/api-docs/com/google/protobuf/util/JsonFormat\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<p>&quot;The JSON format follows Proto3 JSON specification and only proto3 features are supported.&quot;</p>\n<p>This means that someone has decided how protobuf objects are to be represented in JSON, and they chose this way. The purpose for doing so is that any protobuf object serialised to JSON will be in a standard form of JSON, and thus guaranteeed to be de-serialisable by protobuf code. If you started tampering with it, e.g. by removing quotes, that'll stop working. They can represent all fields as quoted strings, because protobuf knows what the field type is from its own .proto schema file that was used to generate the code in the first place.</p>\n<p>Perhaps you're looking to re-use such JSON data in another way, without the benefit of protobuf autogenerated code? If so, this encoder is not appropriate for your purpose. However, doing so rather defeats the point of using something like Protobufs in the first place.</p>\n<p>The whole idea of protobufs (and other things like it) is that you use protobufs and protobuf-generated code exclusively. It's there to support efficient implementation of systems with intra-system heterogenity (you can use lots of different languages) without having to muck around deciding how bits of the system are going to exchange data with each other. You use the one .proto file for code generation across the entire system, and then details like &quot;are field quoted strings or not?&quot; become of no concern, and (really) the details of the wire format should be considered opaque, not something you need to know about. Generally, before adopting a serialisation standard such as protobuf, one should ensure that it supports all the languages and environments into / out of which your data needs to pass, otherwise you run into situations where you then can't easily consume data in one part of a project. Protobuf is widely supported, so it's a pretty good bet, but it does not support every lanuage on every platform. I note that the official documentation doesn't really mention Javascript anywhere.</p>\n<p>If for some reason you can't use protobuf generated code in part of the project, well that makes life a bit more difficult. You'd have to hand-spin an intermediate parser to convert from Google's settled standard on what the JSON should look like and whatever else you need it to be.</p>\n"},{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680177208,"creation_date":1680177208,"answer_id":75887924,"question_id":75881433,"body_markdown":"This must be a dependency version issue. I have simulated this and it does not wrap numbers in quotes.\r\n\r\nResult:\r\n\r\n    toString():\r\n    name: &quot;fred&quot;\r\n    type: DISABLED\r\n    id: 10\r\n    \r\n    as json:\r\n    {\r\n      &quot;name&quot;: &quot;fred&quot;,\r\n      &quot;type&quot;: &quot;DISABLED&quot;,\r\n      &quot;id&quot;: 10\r\n    }\r\n\r\nCode:\r\n\r\n    import org.example.proto.generated.HelloRequest;\r\n    import org.example.proto.generated.Status;\r\n    \r\n    import com.google.protobuf.InvalidProtocolBufferException;\r\n    import com.google.protobuf.util.JsonFormat;\r\n    \r\n    public class Protobuf2Json {\r\n    \r\n    \tpublic static void main(String[] args) throws InvalidProtocolBufferException {\r\n    \r\n    \t\tHelloRequest helloRequest = HelloRequest.newBuilder().setId(10).setName(&quot;fred&quot;).setType(Status.DISABLED).build();\r\n    \r\n    \t\tSystem.out.println(&quot;toString():\\n&quot; + helloRequest);\r\n    \t\tString jsonString = JsonFormat.printer().print(helloRequest);\r\n    \t\tSystem.out.println(&quot;as json:\\n&quot; + jsonString);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nProto def:\r\n\r\n    syntax = &quot;proto3&quot;;\r\n    \r\n    option java_multiple_files = true;\r\n    option java_package = &quot;org.example.proto.generated&quot;;\r\n    option java_outer_classname = &quot;HelloWorldProto&quot;;\r\n    \r\n    package helloworld;\r\n    \r\n    enum Status {\r\n      ENABLED = 0;\r\n      DISABLED = 1;\r\n    }\r\n    \r\n    // The greeting service definition.\r\n    service Greeter {\r\n        // Sends a greeting\r\n        rpc SayHello (HelloRequest) returns (HelloReply) {}\r\n    }\r\n    \r\n    // The request message containing the user&#39;s name.\r\n    message HelloRequest {\r\n        string name = 1;\r\n        Status type = 2;\r\n        int32 id = 3;\r\n    }\r\n    \r\n    // The response message containing the greetings\r\n    message HelloReply {\r\n        string message = 1;\r\n    }\r\n\r\nDependencies:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n      &lt;artifactId&gt;ProtobufGames&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n      &lt;name&gt;ProtobufGames&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.22.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;protobuf-java-util&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.22.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      \r\n      \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;11&lt;/source&gt; &lt;!-- depending on your project --&gt;\r\n    \t\t\t\t\t&lt;target&gt;11&lt;/target&gt; &lt;!-- depending on your project --&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;0.6.1&lt;/version&gt;\r\n    \t\t\t\t&lt;extensions&gt;true&lt;/extensions&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;test-compile&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;additionalProtoPathElements&gt;\r\n    \t\t\t\t\t\t&lt;additionalProtoPathElement&gt;${project.basedir}/src/main/resources&lt;/additionalProtoPathElement&gt;\r\n    \t\t\t\t\t&lt;/additionalProtoPathElements&gt;\r\n    \t\t\t\t\t&lt;protocArtifact&gt;com.google.protobuf:protoc:3.7.0:exe:windows-x86_64&lt;/protocArtifact&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \r\n    \t&lt;/build&gt;\r\n      \r\n    &lt;/project&gt;\r\n\r\n \r\n\r\n","title":"Convert Protobuf to Json without Quotes","body":"<p>This must be a dependency version issue. I have simulated this and it does not wrap numbers in quotes.</p>\n<p>Result:</p>\n<pre><code>toString():\nname: &quot;fred&quot;\ntype: DISABLED\nid: 10\n\nas json:\n{\n  &quot;name&quot;: &quot;fred&quot;,\n  &quot;type&quot;: &quot;DISABLED&quot;,\n  &quot;id&quot;: 10\n}\n</code></pre>\n<p>Code:</p>\n<pre><code>import org.example.proto.generated.HelloRequest;\nimport org.example.proto.generated.Status;\n\nimport com.google.protobuf.InvalidProtocolBufferException;\nimport com.google.protobuf.util.JsonFormat;\n\npublic class Protobuf2Json {\n\n    public static void main(String[] args) throws InvalidProtocolBufferException {\n\n        HelloRequest helloRequest = HelloRequest.newBuilder().setId(10).setName(&quot;fred&quot;).setType(Status.DISABLED).build();\n\n        System.out.println(&quot;toString():\\n&quot; + helloRequest);\n        String jsonString = JsonFormat.printer().print(helloRequest);\n        System.out.println(&quot;as json:\\n&quot; + jsonString);\n\n    }\n\n}\n</code></pre>\n<p>Proto def:</p>\n<pre><code>syntax = &quot;proto3&quot;;\n\noption java_multiple_files = true;\noption java_package = &quot;org.example.proto.generated&quot;;\noption java_outer_classname = &quot;HelloWorldProto&quot;;\n\npackage helloworld;\n\nenum Status {\n  ENABLED = 0;\n  DISABLED = 1;\n}\n\n// The greeting service definition.\nservice Greeter {\n    // Sends a greeting\n    rpc SayHello (HelloRequest) returns (HelloReply) {}\n}\n\n// The request message containing the user's name.\nmessage HelloRequest {\n    string name = 1;\n    Status type = 2;\n    int32 id = 3;\n}\n\n// The response message containing the greetings\nmessage HelloReply {\n    string message = 1;\n}\n</code></pre>\n<p>Dependencies:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;ProtobufGames&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;ProtobufGames&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n            &lt;version&gt;3.22.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java-util&lt;/artifactId&gt;\n            &lt;version&gt;3.22.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt; &lt;!-- depending on your project --&gt;\n                    &lt;target&gt;11&lt;/target&gt; &lt;!-- depending on your project --&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.6.1&lt;/version&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;additionalProtoPathElements&gt;\n                        &lt;additionalProtoPathElement&gt;${project.basedir}/src/main/resources&lt;/additionalProtoPathElement&gt;\n                    &lt;/additionalProtoPathElements&gt;\n                    &lt;protocArtifact&gt;com.google.protobuf:protoc:3.7.0:exe:windows-x86_64&lt;/protocArtifact&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n\n    &lt;/build&gt;\n  \n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":654,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75884903,"answer_count":2,"score":1,"last_activity_date":1680177208,"creation_date":1680118213,"question_id":75881433,"body_markdown":"```protobuf\r\nad_group {\r\n  resource_name: &quot;customers/8776659915/adGroups/143689544046&quot;\r\n  status: ENABLED\r\n  type: VIDEO_TRUE_VIEW_IN_STREAM\r\n  id: 143689544046\r\n  name: &quot;Video Consideration - 2023-01-06&quot;\r\n  base_ad_group: &quot;customers/8776659915/adGroups/143689544046&quot;\r\n  campaign: &quot;customers/8776659915/campaigns/19500015051&quot;\r\n  cpc_bid_micros: 0\r\n  cpm_bid_micros: 10000\r\n  target_cpa_micros: 0\r\n  cpv_bid_micros: 567000000\r\n  target_cpm_micros: 10000\r\n  effective_target_cpa_micros: 0\r\n}\r\n```\r\nThis is the Protobuf that I have and I&#39;m using `com.google.protobuf.util.JsonFormat` to convert it to Json. Here&#39;s the code snippet:\r\n```java\r\nString jsonString = JsonFormat.printer().print(googleAdsRow);\r\n```\r\nAnd the JSON String looks like this:\r\n```json\r\n{\r\n  &quot;adGroup&quot;: {\r\n    &quot;resourceName&quot;: &quot;customers/8776659915/adGroups/143689544046&quot;,\r\n    &quot;status&quot;: &quot;ENABLED&quot;,\r\n    &quot;type&quot;: &quot;VIDEO_TRUE_VIEW_IN_STREAM&quot;,\r\n    &quot;id&quot;: &quot;143689544046&quot;,\r\n    &quot;name&quot;: &quot;Video Consideration - 2023-01-06&quot;,\r\n    &quot;baseAdGroup&quot;: &quot;customers/8776659915/adGroups/143689544046&quot;,\r\n    &quot;campaign&quot;: &quot;customers/8776659915/campaigns/19500015051&quot;,\r\n    &quot;cpcBidMicros&quot;: &quot;0&quot;,\r\n    &quot;cpmBidMicros&quot;: &quot;10000&quot;,\r\n    &quot;targetCpaMicros&quot;: &quot;0&quot;,\r\n    &quot;cpvBidMicros&quot;: &quot;567000000&quot;,\r\n    &quot;targetCpmMicros&quot;: &quot;10000&quot;,\r\n    &quot;effectiveTargetCpaMicros&quot;: &quot;0&quot;\r\n  }\r\n}\r\n```\r\nThe problem is that all the values have been converted to String by default. Is there any way we can convert values with the actual datatype and not String by default?\r\n\r\nI see there&#39;s a `printSingleFieldValue` method that accepts `alwaysWithQuotes` a boolean as a parameter in `JsonFormat.PrinterImpl` that is used to add quotes, but I am not being able to figure out a way to reach there. Any suggestions will be appreciated. Thanks in advance.","title":"Convert Protobuf to Json without Quotes","body":"<pre class=\"lang-protobuf prettyprint-override\"><code>ad_group {\n  resource_name: &quot;customers/8776659915/adGroups/143689544046&quot;\n  status: ENABLED\n  type: VIDEO_TRUE_VIEW_IN_STREAM\n  id: 143689544046\n  name: &quot;Video Consideration - 2023-01-06&quot;\n  base_ad_group: &quot;customers/8776659915/adGroups/143689544046&quot;\n  campaign: &quot;customers/8776659915/campaigns/19500015051&quot;\n  cpc_bid_micros: 0\n  cpm_bid_micros: 10000\n  target_cpa_micros: 0\n  cpv_bid_micros: 567000000\n  target_cpm_micros: 10000\n  effective_target_cpa_micros: 0\n}\n</code></pre>\n<p>This is the Protobuf that I have and I'm using <code>com.google.protobuf.util.JsonFormat</code> to convert it to Json. Here's the code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String jsonString = JsonFormat.printer().print(googleAdsRow);\n</code></pre>\n<p>And the JSON String looks like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;adGroup&quot;: {\n    &quot;resourceName&quot;: &quot;customers/8776659915/adGroups/143689544046&quot;,\n    &quot;status&quot;: &quot;ENABLED&quot;,\n    &quot;type&quot;: &quot;VIDEO_TRUE_VIEW_IN_STREAM&quot;,\n    &quot;id&quot;: &quot;143689544046&quot;,\n    &quot;name&quot;: &quot;Video Consideration - 2023-01-06&quot;,\n    &quot;baseAdGroup&quot;: &quot;customers/8776659915/adGroups/143689544046&quot;,\n    &quot;campaign&quot;: &quot;customers/8776659915/campaigns/19500015051&quot;,\n    &quot;cpcBidMicros&quot;: &quot;0&quot;,\n    &quot;cpmBidMicros&quot;: &quot;10000&quot;,\n    &quot;targetCpaMicros&quot;: &quot;0&quot;,\n    &quot;cpvBidMicros&quot;: &quot;567000000&quot;,\n    &quot;targetCpmMicros&quot;: &quot;10000&quot;,\n    &quot;effectiveTargetCpaMicros&quot;: &quot;0&quot;\n  }\n}\n</code></pre>\n<p>The problem is that all the values have been converted to String by default. Is there any way we can convert values with the actual datatype and not String by default?</p>\n<p>I see there's a <code>printSingleFieldValue</code> method that accepts <code>alwaysWithQuotes</code> a boolean as a parameter in <code>JsonFormat.PrinterImpl</code> that is used to add quotes, but I am not being able to figure out a way to reach there. Any suggestions will be appreciated. Thanks in advance.</p>\n"},{"tags":["java","hashmap","linkedhashmap"],"comments":[{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":2,"creation_date":1680103875,"post_id":75879270,"comment_id":133841587,"body_markdown":"`int` in java is a primitive type with a default value of 0. You never called any of the functions, so the value never changed.","body":"<code>int</code> in java is a primitive type with a default value of 0. You never called any of the functions, so the value never changed."},{"owner":{"account_id":27220194,"reputation":13,"user_id":20749607,"display_name":"Ad270"},"score":0,"creation_date":1680104542,"post_id":75879270,"comment_id":133841786,"body_markdown":"I called the functions in the main method and changed all data structures and variables to static and I am still getting 0, if I change maxKey to Integer I get &quot;null&quot; returned instead. What changes do I need to make to get it to work as intended?","body":"I called the functions in the main method and changed all data structures and variables to static and I am still getting 0, if I change maxKey to Integer I get &quot;null&quot; returned instead. What changes do I need to make to get it to work as intended?"},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1680104598,"post_id":75879270,"comment_id":133841805,"body_markdown":"And even if you would call your methods, your method `getHighestKey` returns the value and only temporarily sets `Integer maxKey` which is a local variable and not your `static int maxKey` that you print. I would recommend deleting the `static int maxKey` field as you do not need it. Instead create an object of you class and call your methods and print the return value of your `getHighestKey()` call.","body":"And even if you would call your methods, your method <code>getHighestKey</code> returns the value and only temporarily sets <code>Integer maxKey</code> which is a local variable and not your <code>static int maxKey</code> that you print. I would recommend deleting the <code>static int maxKey</code> field as you do not need it. Instead create an object of you class and call your methods and print the return value of your <code>getHighestKey()</code> call."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680105108,"creation_date":1680104643,"answer_id":75879415,"question_id":75879270,"body_markdown":"You&#39;re comparing the map&#39;s *values* for the keys, not the keys themselves.\r\n\r\nChange:\r\n\r\n```\r\nfor (Integer key : hashMap.keySet()) {\r\n    if (maxKey == null || hashMap.get(key) &gt; hashMap.get(maxKey)) {\r\n        maxKey = key;\r\n    }\r\n}\r\n```\r\n\r\nTo\r\n\r\n```\r\nfor (Integer key : hashMap.keySet()) {\r\n    if (maxKey == null || key &gt; maxKey) {\r\n        maxKey = key;\r\n    }\r\n}\r\n```\r\n\r\n---\r\n\r\nRather than write your own code, you could have just done this:\r\n\r\n    Integer maxKey = Collections.max(hashMap.keySet());","title":"Unexpected output when trying to return key with largest value in LinkedHashMap java","body":"<p>You're comparing the map's <em>values</em> for the keys, not the keys themselves.</p>\n<p>Change:</p>\n<pre><code>for (Integer key : hashMap.keySet()) {\n    if (maxKey == null || hashMap.get(key) &gt; hashMap.get(maxKey)) {\n        maxKey = key;\n    }\n}\n</code></pre>\n<p>To</p>\n<pre><code>for (Integer key : hashMap.keySet()) {\n    if (maxKey == null || key &gt; maxKey) {\n        maxKey = key;\n    }\n}\n</code></pre>\n<hr />\n<p>Rather than write your own code, you could have just done this:</p>\n<pre><code>Integer maxKey = Collections.max(hashMap.keySet());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680177197,"creation_date":1680104651,"answer_id":75879419,"question_id":75879270,"body_markdown":"Here is yet another way.\r\n- first, check if the map exists and has values.  Otherwise throw an exception since returing any default `int` could be misleading.\r\n- then just iterate over the keys, comparing current value to max.\r\n```\r\n public int getHighestKey() {\r\n     if(hashMap == null || hashMap.size() == 0) {\r\n         throw new IllegalArgumentException(&quot;Map is null or empty&quot;);\r\n     }\r\n     int max = Integer.MIN_VALUE;\r\n     for (int i : hashMap.keySet()) {\r\n         max = Math.max(max, i);\r\n     }\r\n     return max;    \r\n    }\r\n}\r\n```\r\nUnless a `LinkedHashMap` is required, you could use a [TreeMap](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/TreeMap.html#TreeMap()) which maintains the keys in a sorted order (ascending by default).\r\n```\r\nNavigableMap&lt;Integer,Integer&gt; map = new TreeMap&lt;&gt;();\r\nmap.put(7,8);\r\nmap.put(4,2);\r\nmap.put(5,2);\r\n\r\nint maxKey = map.lastKey();\r\nSystem.out.println(maxKey);\r\n```\r\nprints\r\n```\r\n7","title":"Unexpected output when trying to return key with largest value in LinkedHashMap java","body":"<p>Here is yet another way.</p>\n<ul>\n<li>first, check if the map exists and has values.  Otherwise throw an exception since returing any default <code>int</code> could be misleading.</li>\n<li>then just iterate over the keys, comparing current value to max.</li>\n</ul>\n<pre><code> public int getHighestKey() {\n     if(hashMap == null || hashMap.size() == 0) {\n         throw new IllegalArgumentException(&quot;Map is null or empty&quot;);\n     }\n     int max = Integer.MIN_VALUE;\n     for (int i : hashMap.keySet()) {\n         max = Math.max(max, i);\n     }\n     return max;    \n    }\n}\n</code></pre>\n<p>Unless a <code>LinkedHashMap</code> is required, you could use a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/TreeMap.html#TreeMap()\" rel=\"nofollow noreferrer\">TreeMap</a> which maintains the keys in a sorted order (ascending by default).</p>\n<pre><code>NavigableMap&lt;Integer,Integer&gt; map = new TreeMap&lt;&gt;();\nmap.put(7,8);\nmap.put(4,2);\nmap.put(5,2);\n\nint maxKey = map.lastKey();\nSystem.out.println(maxKey);\n</code></pre>\n<p>prints</p>\n<pre><code>7\n</code></pre>\n"}],"owner":{"account_id":27220194,"reputation":13,"user_id":20749607,"display_name":"Ad270"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680177197,"creation_date":1680103774,"question_id":75879270,"body_markdown":"Im trying to return the key with largest value in LinkedHashMap,\r\n\r\n    import java.util.LinkedHashMap;\r\n\r\n    public class stuff {\r\n\tLinkedHashMap&lt;Integer, Integer&gt; hashMap = new LinkedHashMap&lt;&gt;();\r\n\tstatic int maxKey;\r\n\t\r\n\t  public void createHashmap() {\r\n\t\t  hashMap.put(0,0);\r\n\t\t  hashMap.put(2,3);\r\n\t\t  }\r\n\t\r\n\t\t\r\n\t  public int getHighestKey() {\r\n\t\t  Integer maxKey = null;\r\n\t\t  for (Integer key : hashMap.keySet()) {\r\n\t\t\t  if (maxKey == null || hashMap.get(key) &gt; hashMap.get(maxKey)) {\r\n\t\t\t\t  maxKey = key;\r\n\t\t\t  }\r\n\t\t  }\r\n\t\t  return maxKey;\r\n\t  }\r\n\t\r\n\t  public static void main(String[] args) {\r\n\t\t  System.out.println(maxKey);\r\n\t\t\r\n\t  }\r\n    }\t\r\n\t\r\n\r\n The output I get when I run this code is 0, even though in theory it should be 2. Why is this happening and how do I fix it.","title":"Unexpected output when trying to return key with largest value in LinkedHashMap java","body":"<p>Im trying to return the key with largest value in LinkedHashMap,</p>\n<pre><code>import java.util.LinkedHashMap;\n\npublic class stuff {\nLinkedHashMap&lt;Integer, Integer&gt; hashMap = new LinkedHashMap&lt;&gt;();\nstatic int maxKey;\n\n  public void createHashmap() {\n      hashMap.put(0,0);\n      hashMap.put(2,3);\n      }\n\n    \n  public int getHighestKey() {\n      Integer maxKey = null;\n      for (Integer key : hashMap.keySet()) {\n          if (maxKey == null || hashMap.get(key) &gt; hashMap.get(maxKey)) {\n              maxKey = key;\n          }\n      }\n      return maxKey;\n  }\n\n  public static void main(String[] args) {\n      System.out.println(maxKey);\n    \n  }\n}   \n</code></pre>\n<p>The output I get when I run this code is 0, even though in theory it should be 2. Why is this happening and how do I fix it.</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":487787,"reputation":5145,"user_id":947111,"accept_rate":71,"display_name":"Anatoly"},"score":0,"creation_date":1431094072,"post_id":30125465,"comment_id":48361306,"body_markdown":"Can you place full stacktrace error message?","body":"Can you place full stacktrace error message?"},{"owner":{"account_id":873159,"reputation":26684,"user_id":923560,"accept_rate":47,"display_name":"Abdull"},"score":10,"creation_date":1473253881,"post_id":30125465,"comment_id":66069725,"body_markdown":"What about `sheet.getRow(i).getCell(0).toString()`?","body":"What about <code>sheet.getRow(i).getCell(0).toString()</code>?"},{"owner":{"account_id":6494580,"reputation":177,"user_id":5027575,"accept_rate":100,"display_name":"pouyan021"},"score":1,"creation_date":1511591872,"post_id":30125465,"comment_id":81921306,"body_markdown":"@Abdull Your comment did more than the official answer :) Solved my problem","body":"@Abdull Your comment did more than the official answer :) Solved my problem"},{"owner":{"account_id":3782942,"reputation":755,"user_id":3141844,"accept_rate":43,"display_name":"Criss"},"score":1,"creation_date":1571362803,"post_id":30125465,"comment_id":103224876,"body_markdown":"try cell.getRawValue() if you need string form numeric type : https://stackoverflow.com/questions/13563747","body":"try cell.getRawValue() if you need string form numeric type : <a href=\"https://stackoverflow.com/questions/13563747\">stackoverflow.com/questions/13563747</a>"}],"answers":[{"comments":[{"owner":{"account_id":4014971,"reputation":1508,"user_id":3585595,"accept_rate":69,"display_name":"Paulo Roberto"},"score":0,"creation_date":1431093338,"post_id":30125586,"comment_id":48360812,"body_markdown":"for (int i=1; i &lt;= sheet.getLastRowNum(); i++){\nCell cell = sheet.getRow(i).getCell(0);\ncell.setCellType ( Cell.CELL_TYPE_STRING );\nString j_username = cell.getStringCellValue(); ?!?!","body":"for (int i=1; i &lt;= sheet.getLastRowNum(); i++){ Cell cell = sheet.getRow(i).getCell(0); cell.setCellType ( Cell.CELL_TYPE_STRING ); String j_username = cell.getStringCellValue(); ?!?!"},{"owner":{"account_id":4014971,"reputation":1508,"user_id":3585595,"accept_rate":69,"display_name":"Paulo Roberto"},"score":0,"creation_date":1431093563,"post_id":30125586,"comment_id":48360977,"body_markdown":"made three erros   Type mismatch: cannot convert from HSSFCell to Table.Cell\nCELL_TYPE_STRING cannot be resolved or is not a field\nThe method getStringCellValue() is undefined for the type Table.Cell","body":"made three erros   Type mismatch: cannot convert from HSSFCell to Table.Cell CELL_TYPE_STRING cannot be resolved or is not a field The method getStringCellValue() is undefined for the type Table.Cell"},{"owner":{"account_id":4014971,"reputation":1508,"user_id":3585595,"accept_rate":69,"display_name":"Paulo Roberto"},"score":0,"creation_date":1431093938,"post_id":30125586,"comment_id":48361237,"body_markdown":"there is only numbers in the spreadsheet 89550536100002595717","body":"there is only numbers in the spreadsheet 89550536100002595717"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1431167948,"post_id":30125586,"comment_id":48386715,"body_markdown":"Don&#39;t do this! The [POI javadocs are very clear](https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29) on this not being the right way!","body":"Don&#39;t do this! The <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29\" rel=\"nofollow noreferrer\">POI javadocs are very clear</a> on this not being the right way!"},{"owner":{"account_id":487787,"reputation":5145,"user_id":947111,"accept_rate":71,"display_name":"Anatoly"},"score":0,"creation_date":1431173882,"post_id":30125586,"comment_id":48388379,"body_markdown":"@Gagravarr, you&#39;re right. I didn&#39;t know about this, will fix my answer later.","body":"@Gagravarr, you&#39;re right. I didn&#39;t know about this, will fix my answer later."},{"owner":{"account_id":461144,"reputation":1546,"user_id":862666,"accept_rate":67,"display_name":"S Gaber"},"score":0,"creation_date":1520929689,"post_id":30125586,"comment_id":85506092,"body_markdown":"this thing doesn&#39;t work for me though, the out put of it something like: SUM(I38+D39+F39-G39-H39)","body":"this thing doesn&#39;t work for me though, the out put of it something like: SUM(I38+D39+F39-G39-H39)"},{"owner":{"account_id":4308682,"reputation":12633,"user_id":3520404,"display_name":"saran3h"},"score":0,"creation_date":1615980951,"post_id":30125586,"comment_id":117858356,"body_markdown":"This fails for cells which have formulas.","body":"This fails for cells which have formulas."},{"owner":{"account_id":487787,"reputation":5145,"user_id":947111,"accept_rate":71,"display_name":"Anatoly"},"score":0,"creation_date":1615987136,"post_id":30125586,"comment_id":117861315,"body_markdown":"@saran3h, read comments to the accepted answer, they might help you.","body":"@saran3h, read comments to the accepted answer, they might help you."}],"tags":[],"owner":{"account_id":487787,"reputation":5145,"user_id":947111,"accept_rate":71,"display_name":"Anatoly"},"comment_count":8,"down_vote_count":1,"up_vote_count":59,"is_accepted":false,"score":58,"last_activity_date":1431174747,"creation_date":1431093188,"answer_id":30125586,"question_id":30125465,"body_markdown":"   &lt;strike&gt;\r\n\r\n        Cell cell = sheet.getRow(i).getCell(0);\r\n        cell.setCellType ( Cell.CELL_TYPE_STRING );\r\n        String j_username = cell.getStringCellValue();\r\n\r\n   &lt;/strike&gt;\r\n\r\n**UPDATE**\r\n\r\nOk, as have been said in comments, despite this works it isn&#39;t correct method of retrieving data from an Excel&#39;s cell. \r\n\r\nAccording to the manual [here][1]:\r\n\r\n&gt; If what you want to do is get a String value for your numeric cell,\r\n&gt; stop!. This is not the way to do it. Instead, for fetching the string\r\n&gt; value of a numeric or boolean or date cell, use DataFormatter instead.\r\n\r\nAnd according to the [DataFormatter API][2] \r\n\r\n&gt; DataFormatter contains methods for formatting the value stored in an\r\n&gt; Cell. **This can be useful for reports and GUI presentations when you\r\n&gt; need to display data exactly as it appears in Excel.** Supported formats\r\n&gt; include currency, SSN, percentages, decimals, dates, phone numbers,\r\n&gt; zip codes, etc.\r\n\r\nSo, right way to show numeric cell&#39;s value is as following:\r\n\r\n \r\n\r\n     DataFormatter formatter = new DataFormatter(); //creating formatter using the default locale\r\n     Cell cell = sheet.getRow(i).getCell(0);\r\n     String j_username = formatter.formatCellValue(cell); //Returns the formatted value of a cell as a String regardless of the cell type.\r\n\r\n\r\n  [1]: https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29\r\n  [2]: https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DataFormatter.html","title":"Cannot get a text value from a numeric cell “Poi”","body":"<p><strike></p>\n\n<pre><code>    Cell cell = sheet.getRow(i).getCell(0);\n    cell.setCellType ( Cell.CELL_TYPE_STRING );\n    String j_username = cell.getStringCellValue();\n</code></pre>\n\n<p></strike></p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Ok, as have been said in comments, despite this works it isn't correct method of retrieving data from an Excel's cell. </p>\n\n<p>According to the manual <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29\">here</a>:</p>\n\n<blockquote>\n  <p>If what you want to do is get a String value for your numeric cell,\n  stop!. This is not the way to do it. Instead, for fetching the string\n  value of a numeric or boolean or date cell, use DataFormatter instead.</p>\n</blockquote>\n\n<p>And according to the <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DataFormatter.html\">DataFormatter API</a> </p>\n\n<blockquote>\n  <p>DataFormatter contains methods for formatting the value stored in an\n  Cell. <strong>This can be useful for reports and GUI presentations when you\n  need to display data exactly as it appears in Excel.</strong> Supported formats\n  include currency, SSN, percentages, decimals, dates, phone numbers,\n  zip codes, etc.</p>\n</blockquote>\n\n<p>So, right way to show numeric cell's value is as following:</p>\n\n<pre><code> DataFormatter formatter = new DataFormatter(); //creating formatter using the default locale\n Cell cell = sheet.getRow(i).getCell(0);\n String j_username = formatter.formatCellValue(cell); //Returns the formatted value of a cell as a String regardless of the cell type.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":461144,"reputation":1546,"user_id":862666,"accept_rate":67,"display_name":"S Gaber"},"score":1,"creation_date":1520929723,"post_id":30138967,"comment_id":85506112,"body_markdown":"this thing doesn&#39;t work for me though, the out put of it something like: SUM(I38+D39+F39-G39-H39)","body":"this thing doesn&#39;t work for me though, the out put of it something like: SUM(I38+D39+F39-G39-H39)"}],"tags":[],"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"comment_count":1,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1431168312,"creation_date":1431168312,"answer_id":30138967,"question_id":30125465,"body_markdown":"As explained in the [Apache POI Javadocs](https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29), you *should not* use `cell.setCellType(Cell.CELL_TYPE_STRING)` to get the string value of a numeric cell, as you&#39;ll loose all the formatting\r\n\r\nInstead, as the [javadocs explain](https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29), you should use [DataFormatter](http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DataFormatter.html)\r\n\r\nWhat DataFormatter does is take the floating point value representing the cell is stored in the file, along with the formatting rules applied to it, and returns you a string that look like it the cell does in Excel.\r\n\r\nSo, if you&#39;re after a String of the cell, looking much as you had it looking in Excel, just do:\r\n\r\n     // Create a formatter, do this once\r\n     DataFormatter formatter = new DataFormatter(Locale.US);\r\n     \r\n     .....\r\n\r\n     for (int i=1; i &lt;= sheet.getLastRowNum(); i++) {\r\n            Row r = sheet.getRow(i);\r\n            if (r == null) { \r\n               // empty row, skip\r\n            } else {\r\n               String j_username = formatter.formatCellValue(row.getCell(0));\r\n               String j_password =  formatter.formatCellValue(row.getCell(1));\r\n\r\n               // Use these\r\n            }\r\n     }\r\n\r\nThe formatter will return String cells as-is, and for Numeric cells will apply the formatting rules on the style to the number of the cell","title":"Cannot get a text value from a numeric cell “Poi”","body":"<p>As explained in the <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29\" rel=\"noreferrer\">Apache POI Javadocs</a>, you <em>should not</em> use <code>cell.setCellType(Cell.CELL_TYPE_STRING)</code> to get the string value of a numeric cell, as you'll loose all the formatting</p>\n\n<p>Instead, as the <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29\" rel=\"noreferrer\">javadocs explain</a>, you should use <a href=\"http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DataFormatter.html\" rel=\"noreferrer\">DataFormatter</a></p>\n\n<p>What DataFormatter does is take the floating point value representing the cell is stored in the file, along with the formatting rules applied to it, and returns you a string that look like it the cell does in Excel.</p>\n\n<p>So, if you're after a String of the cell, looking much as you had it looking in Excel, just do:</p>\n\n<pre><code> // Create a formatter, do this once\n DataFormatter formatter = new DataFormatter(Locale.US);\n\n .....\n\n for (int i=1; i &lt;= sheet.getLastRowNum(); i++) {\n        Row r = sheet.getRow(i);\n        if (r == null) { \n           // empty row, skip\n        } else {\n           String j_username = formatter.formatCellValue(row.getCell(0));\n           String j_password =  formatter.formatCellValue(row.getCell(1));\n\n           // Use these\n        }\n }\n</code></pre>\n\n<p>The formatter will return String cells as-is, and for Numeric cells will apply the formatting rules on the style to the number of the cell</p>\n"},{"comments":[{"owner":{"account_id":7541229,"reputation":411,"user_id":5725745,"display_name":"Harshil Kulkarni"},"score":0,"creation_date":1457429809,"post_id":35860454,"comment_id":59391587,"body_markdown":"most probably it happen if you not add libraries files like 1) dom4j-1.6.jar 2) xmlbeans-2.3.0.jar 3) poi-ooxml-schemas-3.9.jar 4) poi-ooxml-3.9.jar 5) poi-3.10-FINAL.jar","body":"most probably it happen if you not add libraries files like 1) dom4j-1.6.jar 2) xmlbeans-2.3.0.jar 3) poi-ooxml-schemas-3.9.jar 4) poi-ooxml-3.9.jar 5) poi-3.10-FINAL.jar"}],"tags":[],"owner":{"account_id":7541229,"reputation":411,"user_id":5725745,"display_name":"Harshil Kulkarni"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457418653,"creation_date":1457418275,"answer_id":35860454,"question_id":30125465,"body_markdown":"Use that code it definitely works and I modified it.\r\n\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import org.apache.poi.poifs.filesystem.POIFSFileSystem;\r\n    //import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    \r\n    public class TestApp {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            try {\r\n    \r\n                Class forName = Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n                Connection con = null;\r\n                con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/tables&quot;, &quot;root&quot;, &quot;root&quot;);\r\n                con.setAutoCommit(false);\r\n                PreparedStatement pstm = null;\r\n                FileInputStream input = new FileInputStream(&quot;C:\\\\Users\\\\Desktop\\\\a1.xls&quot;);\r\n                POIFSFileSystem fs = new POIFSFileSystem(input);\r\n                Workbook workbook;\r\n                workbook = WorkbookFactory.create(fs);\r\n                Sheet sheet = workbook.getSheetAt(0);\r\n                Row row;\r\n                for (int i = 1; i &lt;= sheet.getLastRowNum(); i++) {\r\n                    row = (Row) sheet.getRow(i);\r\n                    String name = row.getCell(0).getStringCellValue();\r\n                    String add = row.getCell(1).getStringCellValue();\r\n    \r\n                    int  contact = (int) row.getCell(2).getNumericCellValue();\r\n                   \r\n                    String email = row.getCell(3).getStringCellValue();\r\n    \r\n                    String sql = &quot;INSERT INTO employee (name, address, contactNo, email) VALUES(&#39;&quot; + name + &quot;&#39;,&#39;&quot; + add + &quot;&#39;,&quot; + contact + &quot;,&#39;&quot; + email + &quot;&#39;)&quot;;\r\n                    pstm = (PreparedStatement) con.prepareStatement(sql);\r\n                    pstm.execute();\r\n                    System.out.println(&quot;Import rows &quot; + i);\r\n                }\r\n                con.commit();\r\n                pstm.close();\r\n                con.close();\r\n                input.close();\r\n                System.out.println(&quot;Success import excel to mysql table&quot;);\r\n            } catch (IOException e) {\r\n            }\r\n        }\r\n    \r\n    }","title":"Cannot get a text value from a numeric cell “Poi”","body":"<p>Use that code it definitely works and I modified it.</p>\n\n<pre><code>import java.io.FileInputStream;\nimport java.io.IOException;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport org.apache.poi.poifs.filesystem.POIFSFileSystem;\n//import org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.usermodel.*;\n\npublic class TestApp {\n\n    public static void main(String[] args) throws Exception {\n\n        try {\n\n            Class forName = Class.forName(\"com.mysql.jdbc.Driver\");\n            Connection con = null;\n            con = DriverManager.getConnection(\"jdbc:mysql://localhost/tables\", \"root\", \"root\");\n            con.setAutoCommit(false);\n            PreparedStatement pstm = null;\n            FileInputStream input = new FileInputStream(\"C:\\\\Users\\\\Desktop\\\\a1.xls\");\n            POIFSFileSystem fs = new POIFSFileSystem(input);\n            Workbook workbook;\n            workbook = WorkbookFactory.create(fs);\n            Sheet sheet = workbook.getSheetAt(0);\n            Row row;\n            for (int i = 1; i &lt;= sheet.getLastRowNum(); i++) {\n                row = (Row) sheet.getRow(i);\n                String name = row.getCell(0).getStringCellValue();\n                String add = row.getCell(1).getStringCellValue();\n\n                int  contact = (int) row.getCell(2).getNumericCellValue();\n\n                String email = row.getCell(3).getStringCellValue();\n\n                String sql = \"INSERT INTO employee (name, address, contactNo, email) VALUES('\" + name + \"','\" + add + \"',\" + contact + \",'\" + email + \"')\";\n                pstm = (PreparedStatement) con.prepareStatement(sql);\n                pstm.execute();\n                System.out.println(\"Import rows \" + i);\n            }\n            con.commit();\n            pstm.close();\n            con.close();\n            input.close();\n            System.out.println(\"Success import excel to mysql table\");\n        } catch (IOException e) {\n        }\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1466682148,"post_id":37990371,"comment_id":63424821,"body_markdown":"As explained [in the Apache POI javadocs, you *should not* use setCellType to get the string value, it looses formatting](https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29)","body":"As explained <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29\" rel=\"nofollow noreferrer\">in the Apache POI javadocs, you <i>should not</i> use setCellType to get the string value, it looses formatting</a>"}],"tags":[],"owner":{"account_id":8691023,"reputation":11,"user_id":6503911,"display_name":"user6503911"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1466683534,"creation_date":1466681374,"answer_id":37990371,"question_id":30125465,"body_markdown":"This will work:\r\n\r\n    WebElement searchbox = driver.findElement(By.name(&quot;j_username&quot;));\r\n    WebElement searchbox2 = driver.findElement(By.name(&quot;j_password&quot;));         \r\n    \r\n    \r\n    try {\r\n    \r\n          FileInputStream file = new FileInputStream(new File(&quot;C:\\\\paulo.xls&quot;)); \r\n          HSSFWorkbook workbook = new HSSFWorkbook(file);\r\n    \r\n          HSSFSheet sheet = workbook.getSheetAt(0);\r\n    \r\n        for (int i=1; i &lt;= sheet.getLastRowNum(); i++){\r\n    \r\n                HSSFCell j_username = sheet.getRow(i).getCell(0)\r\n                HSSFCell j_password = sheet.getRow(i).getCell(0)\r\n    \t\t\t\r\n    \t\t\t//Setting the Cell type as String\r\n    \t\t\tj_username.setCellType(j_username.CELL_TYPE_STRING)\r\n    \t\t\tj_password.setCellType(j_password.CELL_TYPE_STRING)\r\n    \t\t\t\r\n                searchbox.sendKeys(j_username.toString());\r\n                searchbox2.sendKeys(j_password.toString());\r\n    \r\n    \r\n                searchbox.submit();       \r\n    \r\n                driver.manage().timeouts().implicitlyWait(10000, TimeUnit.MILLISECONDS);\r\n    \r\n        }\r\n    \r\n          workbook.close();\r\n          file.close();\r\n    \r\n         } catch (FileNotFoundException fnfe) {\r\n          fnfe.printStackTrace();\r\n         } catch (IOException ioe) {\r\n          ioe.printStackTrace();\r\n         }","title":"Cannot get a text value from a numeric cell “Poi”","body":"<p>This will work:</p>\n\n<pre><code>WebElement searchbox = driver.findElement(By.name(\"j_username\"));\nWebElement searchbox2 = driver.findElement(By.name(\"j_password\"));         \n\n\ntry {\n\n      FileInputStream file = new FileInputStream(new File(\"C:\\\\paulo.xls\")); \n      HSSFWorkbook workbook = new HSSFWorkbook(file);\n\n      HSSFSheet sheet = workbook.getSheetAt(0);\n\n    for (int i=1; i &lt;= sheet.getLastRowNum(); i++){\n\n            HSSFCell j_username = sheet.getRow(i).getCell(0)\n            HSSFCell j_password = sheet.getRow(i).getCell(0)\n\n            //Setting the Cell type as String\n            j_username.setCellType(j_username.CELL_TYPE_STRING)\n            j_password.setCellType(j_password.CELL_TYPE_STRING)\n\n            searchbox.sendKeys(j_username.toString());\n            searchbox2.sendKeys(j_password.toString());\n\n\n            searchbox.submit();       \n\n            driver.manage().timeouts().implicitlyWait(10000, TimeUnit.MILLISECONDS);\n\n    }\n\n      workbook.close();\n      file.close();\n\n     } catch (FileNotFoundException fnfe) {\n      fnfe.printStackTrace();\n     } catch (IOException ioe) {\n      ioe.printStackTrace();\n     }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":461144,"reputation":1546,"user_id":862666,"accept_rate":67,"display_name":"S Gaber"},"score":1,"creation_date":1520929848,"post_id":41492606,"comment_id":85506202,"body_markdown":"this thing doesn&#39;t work for me though, the out put of it something like: SUM(I38+D39+F39-G39-H39)","body":"this thing doesn&#39;t work for me though, the out put of it something like: SUM(I38+D39+F39-G39-H39)"}],"tags":[],"owner":{"account_id":9976446,"reputation":79,"user_id":7380877,"display_name":"Coder"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1483644169,"creation_date":1483642626,"answer_id":41492606,"question_id":30125465,"body_markdown":"Using the `DataFormatter` this issue is resolved. Thanks to &quot;Gagravarr&quot; for the initial post.\r\n\r\n\r\n    DataFormatter formatter = new DataFormatter();\r\n\r\n    String empno = formatter.formatCellValue(cell0);","title":"Cannot get a text value from a numeric cell “Poi”","body":"<p>Using the <code>DataFormatter</code> this issue is resolved. Thanks to \"Gagravarr\" for the initial post.</p>\n\n<pre><code>DataFormatter formatter = new DataFormatter();\n\nString empno = formatter.formatCellValue(cell0);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":461144,"reputation":1546,"user_id":862666,"accept_rate":67,"display_name":"S Gaber"},"score":3,"creation_date":1520929860,"post_id":43775213,"comment_id":85506213,"body_markdown":"this thing doesn&#39;t work for me though, the out put of it something like: SUM(I38+D39+F39-G39-H39)","body":"this thing doesn&#39;t work for me though, the out put of it something like: SUM(I38+D39+F39-G39-H39)"},{"owner":{"account_id":6869262,"reputation":1137,"user_id":5326737,"accept_rate":100,"display_name":"Andy"},"score":0,"creation_date":1598012007,"post_id":43775213,"comment_id":112326705,"body_markdown":"@SGaber, you need to provide a formula evaluator as a second argument to the `formatCellValue` method, then it correctly formats even the formulas.","body":"@SGaber, you need to provide a formula evaluator as a second argument to the <code>formatCellValue</code> method, then it correctly formats even the formulas."}],"tags":[],"owner":{"account_id":10785873,"reputation":1085,"user_id":7934895,"display_name":"Manish"},"comment_count":2,"down_vote_count":1,"up_vote_count":96,"is_accepted":true,"score":95,"last_activity_date":1526553893,"creation_date":1493878635,"answer_id":43775213,"question_id":30125465,"body_markdown":"Formatter will work fine in this case.\r\n\r\n    import org.apache.poi.ss.usermodel.DataFormatter;\r\n    \r\n    FileInputStream fis = new FileInputStream(workbookName);\r\n    Workbook workbook = WorkbookFactory.create(fis);\r\n    Sheet sheet = workbook.getSheet(sheetName);\r\n    DataFormatter formatter = new DataFormatter();\r\n    String val = formatter.formatCellValue(sheet.getRow(row).getCell(col));\r\n    list.add(val);   //Adding value to list\r\n\r\n\r\n","title":"Cannot get a text value from a numeric cell “Poi”","body":"<p>Formatter will work fine in this case.</p>\n\n<pre><code>import org.apache.poi.ss.usermodel.DataFormatter;\n\nFileInputStream fis = new FileInputStream(workbookName);\nWorkbook workbook = WorkbookFactory.create(fis);\nSheet sheet = workbook.getSheet(sheetName);\nDataFormatter formatter = new DataFormatter();\nString val = formatter.formatCellValue(sheet.getRow(row).getCell(col));\nlist.add(val);   //Adding value to list\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7313618,"reputation":51,"user_id":5572002,"display_name":"ZoranS"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1542095911,"creation_date":1533303055,"answer_id":51673802,"question_id":30125465,"body_markdown":"    CellType cell = row.getCell(j).getCellTypeEnum();\r\n\r\n    switch(cell) {\r\n        case NUMERIC:\r\n            intVal = row.getCell(j).getNumericCellValue();\r\n            System.out.print(intVal);\r\n            break;\r\n        case STRING:\r\n            stringVal = row.getCell(j).getStringCellValue();\r\n            System.out.print(stringVal);\r\n            break;\r\n    }","title":"Cannot get a text value from a numeric cell “Poi”","body":"<pre><code>CellType cell = row.getCell(j).getCellTypeEnum();\n\nswitch(cell) {\n    case NUMERIC:\n        intVal = row.getCell(j).getNumericCellValue();\n        System.out.print(intVal);\n        break;\n    case STRING:\n        stringVal = row.getCell(j).getStringCellValue();\n        System.out.print(stringVal);\n        break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12110238,"reputation":190,"user_id":8847395,"accept_rate":100,"display_name":"Kiran Antony"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1550819567,"creation_date":1535651961,"answer_id":52102928,"question_id":30125465,"body_markdown":"use the code &lt;br/&gt;\r\n`cell.setCellType(Cell.CELL_TYPE_STRING); `&lt;br/&gt;\r\nbefore reading the string value, Which can help you.&lt;br/&gt;\r\nI am using POI version 3.17 Beta1 version, \r\nsure the version compatibility also..","title":"Cannot get a text value from a numeric cell “Poi”","body":"<p>use the code <br/>\n<code>cell.setCellType(Cell.CELL_TYPE_STRING);</code><br/>\nbefore reading the string value, Which can help you.<br/>\nI am using POI version 3.17 Beta1 version, \nsure the version compatibility also..</p>\n"},{"tags":[],"owner":{"account_id":14739376,"reputation":11,"user_id":10644387,"display_name":"yathin c"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542092448,"creation_date":1542092448,"answer_id":53275484,"question_id":30125465,"body_markdown":"This is one of the other method to solve the Error: &quot;Cannot get a text value from a numeric cell “Poi”&quot;\r\n\r\nGo to the Excel Sheet. Drag and Select the Numerics which you are importing Data from the Excel sheet. Go to Format &gt; Number &gt; Then Select &quot;Plain Text&quot; Then Export as .xlsx. Now Try to Run the Script\r\n\r\nHope works Fine...! \r\n\r\n[Cannot get a text value from a numeric cell “Poi”.img][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/njKzP.png","title":"Cannot get a text value from a numeric cell “Poi”","body":"<p>This is one of the other method to solve the Error: \"Cannot get a text value from a numeric cell “Poi”\"</p>\n\n<p>Go to the Excel Sheet. Drag and Select the Numerics which you are importing Data from the Excel sheet. Go to Format > Number > Then Select \"Plain Text\" Then Export as .xlsx. Now Try to Run the Script</p>\n\n<p>Hope works Fine...! </p>\n\n<p><a href=\"https://i.stack.imgur.com/njKzP.png\" rel=\"nofollow noreferrer\">Cannot get a text value from a numeric cell “Poi”.img</a></p>\n"},{"tags":[],"owner":{"account_id":447250,"reputation":2382,"user_id":840772,"accept_rate":22,"display_name":"virtuvious"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548873550,"creation_date":1548269219,"answer_id":54333793,"question_id":30125465,"body_markdown":"If you are processing in rows with cellIterator....then this worked for me ....\r\n\r\n      DataFormatter formatter = new DataFormatter();   \r\n      while(cellIterator.hasNext())\r\n\t  { \t\t\t\t\t\t\r\n\t\t\tcell = cellIterator.next();\r\n            String val = &quot;&quot;;\t\t\t\r\n\t\t\tswitch(cell.getCellType()) \r\n\t\t\t{\r\n\t\t\t    case Cell.CELL_TYPE_NUMERIC:\r\n\t\t\t        val = String.valueOf(formatter.formatCellValue(cell));\r\n\t\t\t        break;\r\n\t\t\t    case Cell.CELL_TYPE_STRING:\r\n\t\t\t        val = formatter.formatCellValue(cell);\r\n\t\t\t        break;\r\n\t\t\t}\r\n        .....\r\n        .....\r\n      }","title":"Cannot get a text value from a numeric cell “Poi”","body":"<p>If you are processing in rows with cellIterator....then this worked for me ....</p>\n\n<pre><code>  DataFormatter formatter = new DataFormatter();   \n  while(cellIterator.hasNext())\n  {                         \n        cell = cellIterator.next();\n        String val = \"\";            \n        switch(cell.getCellType()) \n        {\n            case Cell.CELL_TYPE_NUMERIC:\n                val = String.valueOf(formatter.formatCellValue(cell));\n                break;\n            case Cell.CELL_TYPE_STRING:\n                val = formatter.formatCellValue(cell);\n                break;\n        }\n    .....\n    .....\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15365078,"reputation":11,"user_id":11084864,"display_name":"Yogen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550584896,"creation_date":1550584824,"answer_id":54768052,"question_id":30125465,"body_markdown":"    public class B3PassingExcelDataBase {\r\n    \r\n    \t\r\n    \t@Test()\r\n    \t//Import the data::row start at 3 and column at 1: \r\n    \tpublic static void imortingData () throws IOException {\r\n    \t\t\r\n    \t\tFileInputStream  file=new         FileInputStream(&quot;/Users/Downloads/Book2.xlsx&quot;);\r\n    \t\tXSSFWorkbook book=new XSSFWorkbook(file);\r\n    \t\tXSSFSheet sheet=book.getSheet(&quot;Sheet1&quot;);\r\n    \t\t\r\n    \t\tint rowNum=sheet.getLastRowNum();\r\n    \t\tSystem.out.println(rowNum);\r\n    \t\t\r\n    \t\t//get the row and value and assigned to variable to use in application\r\n    \t\tfor (int r=3;r&lt;rowNum;r++) {\r\n    \t\t\t\r\n    \t\t\t// Rows stays same but column num changes and this is for only one person. It iterate for other.\r\n    \t\t\t XSSFRow currentRow=sheet.getRow(r);\r\n    \t\t\t\r\n    \t\t\t String fName=currentRow.getCell(1).toString();\r\n    \t\t\t String lName=currentRow.getCell(2).toString();\r\n    \t\t\t String phone=currentRow.getCell(3).toString();\r\n    \t\t\t String email=currentRow.getCell(4).toString()\r\n    \t\t\t \r\n                   //passing the data\r\n    \t\t\t\tyogen.findElement(By.name(&quot;firstName&quot;)).sendKeys(fName);\t;\r\n    \t\t\t\tyogen.findElement(By.name(&quot;lastName&quot;)).sendKeys(lName);\t;\r\n    \t\t\t\tyogen.findElement(By.name(&quot;phone&quot;)).sendKeys(phone);\t;\r\n    \t \r\n    \t\t}\r\n    \t\t\r\n    \t\tyogen.close();\r\n    \t\t\r\n    \t\r\n    \t}\r\n    \r\n    }","title":"Cannot get a text value from a numeric cell “Poi”","body":"<pre><code>public class B3PassingExcelDataBase {\n\n\n    @Test()\n    //Import the data::row start at 3 and column at 1: \n    public static void imortingData () throws IOException {\n\n        FileInputStream  file=new         FileInputStream(\"/Users/Downloads/Book2.xlsx\");\n        XSSFWorkbook book=new XSSFWorkbook(file);\n        XSSFSheet sheet=book.getSheet(\"Sheet1\");\n\n        int rowNum=sheet.getLastRowNum();\n        System.out.println(rowNum);\n\n        //get the row and value and assigned to variable to use in application\n        for (int r=3;r&lt;rowNum;r++) {\n\n            // Rows stays same but column num changes and this is for only one person. It iterate for other.\n             XSSFRow currentRow=sheet.getRow(r);\n\n             String fName=currentRow.getCell(1).toString();\n             String lName=currentRow.getCell(2).toString();\n             String phone=currentRow.getCell(3).toString();\n             String email=currentRow.getCell(4).toString()\n\n               //passing the data\n                yogen.findElement(By.name(\"firstName\")).sendKeys(fName);    ;\n                yogen.findElement(By.name(\"lastName\")).sendKeys(lName); ;\n                yogen.findElement(By.name(\"phone\")).sendKeys(phone);    ;\n\n        }\n\n        yogen.close();\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":420683,"reputation":10207,"user_id":798502,"accept_rate":86,"display_name":"seinecle"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680177092,"creation_date":1621346527,"answer_id":67587831,"question_id":30125465,"body_markdown":"Helper method for different cell types:\r\n\r\n    private static String returnStringValue(Cell cell) {\r\n        CellType cellType = cell.getCellType();\r\n    \r\n        switch (cellType) {\r\n            case NUMERIC -&gt; {\r\n                double doubleVal = cell.getNumericCellValue();\r\n                if (doubleVal == (int) doubleVal) {\r\n                    int value = Double.valueOf(doubleVal).intValue();\r\n                    return String.valueOf(value);\r\n                } else {\r\n                    return String.valueOf(doubleVal);\r\n                }\r\n            }\r\n            case STRING -&gt; {\r\n                return cell.getStringCellValue();\r\n            }\r\n            case ERROR -&gt; {\r\n                return String.valueOf(cell.getErrorCellValue());\r\n            }\r\n            case BLANK -&gt; {\r\n                return &quot;&quot;;\r\n            }\r\n            case FORMULA -&gt; {\r\n                return cell.getCellFormula();\r\n            }\r\n            case BOOLEAN -&gt; {\r\n                return String.valueOf(cell.getBooleanCellValue());\r\n            }\r\n        }\r\n        return &quot;error decoding string value of the cell&quot;;\r\n\r\n    }","title":"Cannot get a text value from a numeric cell “Poi”","body":"<p>Helper method for different cell types:</p>\n<pre><code>private static String returnStringValue(Cell cell) {\n    CellType cellType = cell.getCellType();\n\n    switch (cellType) {\n        case NUMERIC -&gt; {\n            double doubleVal = cell.getNumericCellValue();\n            if (doubleVal == (int) doubleVal) {\n                int value = Double.valueOf(doubleVal).intValue();\n                return String.valueOf(value);\n            } else {\n                return String.valueOf(doubleVal);\n            }\n        }\n        case STRING -&gt; {\n            return cell.getStringCellValue();\n        }\n        case ERROR -&gt; {\n            return String.valueOf(cell.getErrorCellValue());\n        }\n        case BLANK -&gt; {\n            return &quot;&quot;;\n        }\n        case FORMULA -&gt; {\n            return cell.getCellFormula();\n        }\n        case BOOLEAN -&gt; {\n            return String.valueOf(cell.getBooleanCellValue());\n        }\n    }\n    return &quot;error decoding string value of the cell&quot;;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18466069,"reputation":1,"user_id":13452214,"display_name":"Anany Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658143881,"creation_date":1658143301,"answer_id":73021531,"question_id":30125465,"body_markdown":"    public static List&lt;SupplierSubmittedDataMapperModel&gt; convertExcelToList(String NAME){\r\n\t\r\n\t\tList&lt;SupplierSubmittedDataMapperModel&gt; list = new ArrayList&lt;&gt;();\r\n\t\ttry {\r\n\t\t\tFileInputStream file = new FileInputStream(new File(NAME));\r\n\t\t\tDataFormatter dataFormatter = new DataFormatter();\r\n\t\t\tXSSFWorkbook workbook = new XSSFWorkbook(file);\r\n\t\t\tXSSFSheet sheet = workbook.getSheetAt(2);\r\n\t\t\t\r\n\t\t\tint rowNumber = 2;\r\n\t\t\t  Iterator&lt;Row&gt; iterator = sheet.iterator();\r\n\t\t\t  while(iterator.hasNext()) {\r\n\t\t\t\t  Row row=iterator.next();\r\n\t\t\t\t  \r\n\t\t\t\t  \r\n\t\t\t\t  Iterator&lt;Cell&gt; cells = row.iterator();\r\n\t\t\t\t  int cid = 0;\r\n\t\t\t\t  SupplierSubmittedDataMapperModel sp = new SupplierSubmittedDataMapperModel();\r\n\t\t\t\t \r\n\t\t\t\t  while(cells.hasNext()) {\r\n\t\t\t\t\t  Cell cell = cells.next();\r\n\t\t\t\t\t  String cellValue = dataFormatter.formatCellValue(cell.getRow().getCell(cid));\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  switch(cid) {\r\n\t\t\t\t\t  case 0:\r\n\t\t\t\t\t\t  sp.setSectorType(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 1:\r\n\t\t\t\t\t\t  sp.setPlatformFamily(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 2:\r\n\t\t\t\t\t\t  sp.setT1Supplier(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 3:\r\n\t\t\t\t\t\t  sp.setT2Supplier(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 4:\r\n\t\t\t\t\t\t  sp.setDistribotor(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 5:\r\n\t\t\t\t\t\t  sp.setT2PartCodeAtT1(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 6:\r\n\t\t\t\t\t\t  sp.setT2PartNumber(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 7:\r\n\t\t\t\t\t\t  sp.setLoA(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 8:\r\n\t\t\t\t\t\t  sp.setMultiSource(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 9:\r\n\t\t\t\t\t\t  sp.setQtyUsage(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 10:\r\n\t\t\t\t\t\t  sp.setDataType(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 11:\r\n\t\t\t\t\t\t  sp.setWeek22(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 12:\r\n\t\t\t\t\t\t  sp.setWeek23(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 13:\r\n\t\t\t\t\t\t  sp.setWeek23(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 14:\r\n\t\t\t\t\t\t  sp.setWeek24(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 15:\r\n\t\t\t\t\t\t  sp.setWeek25(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 16:\r\n\t\t\t\t\t\t  sp.setWeek26(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 17:\r\n\t\t\t\t\t\t  sp.setWeek27(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 18:\r\n\t\t\t\t\t\t  sp.setWeek28(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 19:\r\n\t\t\t\t\t\t  sp.setWeek29(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 20:\r\n\t\t\t\t\t\t  sp.setWeek30(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 21:\r\n\t\t\t\t\t\t  sp.setWeek31(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 22:\r\n\t\t\t\t\t\t  sp.setWeek32(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 23:\r\n\t\t\t\t\t\t  sp.setWeek33(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 24:\r\n\t\t\t\t\t\t  sp.setWeek34(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 25:\r\n\t\t\t\t\t\t  sp.setWeek35(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 26:\r\n\t\t\t\t\t\t  sp.setWeek36(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 27:\r\n\t\t\t\t\t\t  sp.setWeek37(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 28:\r\n\t\t\t\t\t\t  sp.setWeek38(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 29:\r\n\t\t\t\t\t\t  sp.setWeek39(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 30:\r\n\t\t\t\t\t\t  sp.setWeek40(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 31:\r\n\t\t\t\t\t\t  sp.setWeek41(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 32:\r\n\t\t\t\t\t\t  sp.setWeek42(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 33:\r\n\t\t\t\t\t\t  sp.setWeek43(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 34:\r\n\t\t\t\t\t\t  sp.setWeek44(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 35:\r\n\t\t\t\t\t\t  sp.setWeek45(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 36:\r\n\t\t\t\t\t\t  sp.setWeek46(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 37:\r\n\t\t\t\t\t\t  sp.setWeek47(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 38:\r\n\t\t\t\t\t\t  sp.setWeek48(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 39:\r\n\t\t\t\t\t\t  sp.setWeek49(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 40:\r\n\t\t\t\t\t\t  sp.setWeek50(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 41:\r\n\t\t\t\t\t\t  sp.setWeek51(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 42:\r\n\t\t\t\t\t\t  sp.setWeek52(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 43:\r\n\t\t\t\t\t\t  sp.setYear2023(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 44:\r\n\t\t\t\t\t\t  sp.setYear2024(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 45:\r\n\t\t\t\t\t\t  sp.setYear2059(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  default :\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t\t  \r\n\t\t\t\t\t  \r\n\t\t\t\t\t  }\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  cid++;\r\n\t\t\t\t\t  \r\n\t\t\t\t  }\r\n\t\t\t\t  list.add(sp);\r\n\t\t\t\t System.out.println(sp);\r\n\t\t\t\t   }\r\n\t\t\t  \r\n\t\t\t  workbook.close();\r\n\t\t\t}catch(Exception e) {\r\n\t\t\t\r\n\t\t\te.printStackTrace();\r\n\t\t\t}\t\r\n\t\treturn list;\r\n\t\r\n\t}\r\n\t","title":"Cannot get a text value from a numeric cell “Poi”","body":"<pre><code>public static List&lt;SupplierSubmittedDataMapperModel&gt; convertExcelToList(String NAME){\n\n    List&lt;SupplierSubmittedDataMapperModel&gt; list = new ArrayList&lt;&gt;();\n    try {\n        FileInputStream file = new FileInputStream(new File(NAME));\n        DataFormatter dataFormatter = new DataFormatter();\n        XSSFWorkbook workbook = new XSSFWorkbook(file);\n        XSSFSheet sheet = workbook.getSheetAt(2);\n        \n        int rowNumber = 2;\n          Iterator&lt;Row&gt; iterator = sheet.iterator();\n          while(iterator.hasNext()) {\n              Row row=iterator.next();\n              \n              \n              Iterator&lt;Cell&gt; cells = row.iterator();\n              int cid = 0;\n              SupplierSubmittedDataMapperModel sp = new SupplierSubmittedDataMapperModel();\n             \n              while(cells.hasNext()) {\n                  Cell cell = cells.next();\n                  String cellValue = dataFormatter.formatCellValue(cell.getRow().getCell(cid));\n                  \n                  switch(cid) {\n                  case 0:\n                      sp.setSectorType(cellValue);\n                      break;\n                  case 1:\n                      sp.setPlatformFamily(cellValue);\n                      break;\n                  case 2:\n                      sp.setT1Supplier(cellValue);\n                      break;\n                  case 3:\n                      sp.setT2Supplier(cellValue);\n                      break;\n                  case 4:\n                      sp.setDistribotor(cellValue);\n                      break;\n                  case 5:\n                      sp.setT2PartCodeAtT1(cellValue);\n                      break;\n                  case 6:\n                      sp.setT2PartNumber(cellValue);\n                      break;\n                  case 7:\n                      sp.setLoA(cellValue);\n                      break;\n                  case 8:\n                      sp.setMultiSource(cellValue);\n                      break;\n                  case 9:\n                      sp.setQtyUsage(cellValue);\n                      break;\n                  case 10:\n                      sp.setDataType(cellValue);\n                      break;\n                  case 11:\n                      sp.setWeek22(cellValue);\n                      break;\n                  case 12:\n                      sp.setWeek23(cellValue);\n                      break;\n                  case 13:\n                      sp.setWeek23(cellValue);\n                      break;\n                  case 14:\n                      sp.setWeek24(cellValue);\n                      break;\n                  case 15:\n                      sp.setWeek25(cellValue);\n                      break;\n                  case 16:\n                      sp.setWeek26(cellValue);\n                      break;\n                  case 17:\n                      sp.setWeek27(cellValue);\n                      break;\n                  case 18:\n                      sp.setWeek28(cellValue);\n                      break;\n                  case 19:\n                      sp.setWeek29(cellValue);\n                      break;\n                  case 20:\n                      sp.setWeek30(cellValue);\n                      break;\n                  case 21:\n                      sp.setWeek31(cellValue);\n                      break;\n                  case 22:\n                      sp.setWeek32(cellValue);\n                      break;\n                  case 23:\n                      sp.setWeek33(cellValue);\n                      break;\n                  case 24:\n                      sp.setWeek34(cellValue);\n                      break;\n                  case 25:\n                      sp.setWeek35(cellValue);\n                      break;\n                  case 26:\n                      sp.setWeek36(cellValue);\n                      break;\n                  case 27:\n                      sp.setWeek37(cellValue);\n                      break;\n                  case 28:\n                      sp.setWeek38(cellValue);\n                      break;\n                  case 29:\n                      sp.setWeek39(cellValue);\n                      break;\n                  case 30:\n                      sp.setWeek40(cellValue);\n                      break;\n                  case 31:\n                      sp.setWeek41(cellValue);\n                      break;\n                  case 32:\n                      sp.setWeek42(cellValue);\n                      break;\n                  case 33:\n                      sp.setWeek43(cellValue);\n                      break;\n                  case 34:\n                      sp.setWeek44(cellValue);\n                      break;\n                  case 35:\n                      sp.setWeek45(cellValue);\n                      break;\n                  case 36:\n                      sp.setWeek46(cellValue);\n                      break;\n                  case 37:\n                      sp.setWeek47(cellValue);\n                      break;\n                  case 38:\n                      sp.setWeek48(cellValue);\n                      break;\n                  case 39:\n                      sp.setWeek49(cellValue);\n                      break;\n                  case 40:\n                      sp.setWeek50(cellValue);\n                      break;\n                  case 41:\n                      sp.setWeek51(cellValue);\n                      break;\n                  case 42:\n                      sp.setWeek52(cellValue);\n                      break;\n                  case 43:\n                      sp.setYear2023(cellValue);\n                      break;\n                  case 44:\n                      sp.setYear2024(cellValue);\n                      break;\n                  case 45:\n                      sp.setYear2059(cellValue);\n                      break;\n                  default :\n                      break;\n                      \n                  \n                  }\n                  \n                  cid++;\n                  \n              }\n              list.add(sp);\n             System.out.println(sp);\n               }\n          \n          workbook.close();\n        }catch(Exception e) {\n        \n        e.printStackTrace();\n        }   \n    return list;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3723758,"reputation":11894,"user_id":3600553,"accept_rate":71,"display_name":"Du-Lacoste"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670934276,"creation_date":1670934276,"answer_id":74784824,"question_id":30125465,"body_markdown":"You could add the `cell.setCellType ( Cell.CELL_TYPE_STRING );` inside the loop, so it would treat the cell as per your requirement. \r\n\r\nFollowing would be the code:\r\n\r\n    WebElement searchbox = driver.findElement(By.name(&quot;j_username&quot;));\r\n    WebElement searchbox2 = driver.findElement(By.name(&quot;j_password&quot;));         \r\n    \r\n    try {\r\n        FileInputStream file = new FileInputStream(new File(&quot;C:\\\\paulo.xls&quot;)); \r\n        HSSFWorkbook workbook = new HSSFWorkbook(file);\r\n        HSSFSheet sheet = workbook.getSheetAt(0);\r\n    \r\n        for (int i=1; i &lt;= sheet.getLastRowNum(); i++){\r\n            // Row will be iterated and Cell will be 0 and 1 as per the example:   \r\n            row.getCell(0).setCellType(CellType.STRING); // set Cell Type as String\r\n            row.getCell(1).setCellType(CellType.STRING); // set Cell Type as String\r\n    \r\n            String j_username = sheet.getRow(i).getCell(0).getStringCellValue();\r\n            String j_password = sheet.getRow(i).getCell(1).getStringCellValue();\r\n    \r\n            searchbox.sendKeys(j_username);\r\n            searchbox2.sendKeys(j_password);\r\n            searchbox.submit();  \r\n    \r\n            driver.manage().timeouts().implicitlyWait(10000, TimeUnit.MILLISECONDS);\r\n        }\r\n    \r\n        workbook.close();\r\n        file.close();\r\n    } catch (FileNotFoundException fnfe) {\r\n        fnfe.printStackTrace();\r\n    } catch (IOException ioe) {\r\n        ioe.printStackTrace();","title":"Cannot get a text value from a numeric cell “Poi”","body":"<p>You could add the <code>cell.setCellType ( Cell.CELL_TYPE_STRING );</code> inside the loop, so it would treat the cell as per your requirement.</p>\n<p>Following would be the code:</p>\n<pre><code>WebElement searchbox = driver.findElement(By.name(&quot;j_username&quot;));\nWebElement searchbox2 = driver.findElement(By.name(&quot;j_password&quot;));         \n\ntry {\n    FileInputStream file = new FileInputStream(new File(&quot;C:\\\\paulo.xls&quot;)); \n    HSSFWorkbook workbook = new HSSFWorkbook(file);\n    HSSFSheet sheet = workbook.getSheetAt(0);\n\n    for (int i=1; i &lt;= sheet.getLastRowNum(); i++){\n        // Row will be iterated and Cell will be 0 and 1 as per the example:   \n        row.getCell(0).setCellType(CellType.STRING); // set Cell Type as String\n        row.getCell(1).setCellType(CellType.STRING); // set Cell Type as String\n\n        String j_username = sheet.getRow(i).getCell(0).getStringCellValue();\n        String j_password = sheet.getRow(i).getCell(1).getStringCellValue();\n\n        searchbox.sendKeys(j_username);\n        searchbox2.sendKeys(j_password);\n        searchbox.submit();  \n\n        driver.manage().timeouts().implicitlyWait(10000, TimeUnit.MILLISECONDS);\n    }\n\n    workbook.close();\n    file.close();\n} catch (FileNotFoundException fnfe) {\n    fnfe.printStackTrace();\n} catch (IOException ioe) {\n    ioe.printStackTrace();\n</code></pre>\n"}],"owner":{"account_id":4014971,"reputation":1508,"user_id":3585595,"accept_rate":69,"display_name":"Paulo Roberto"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218862,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"accepted_answer_id":43775213,"answer_count":14,"score":81,"last_activity_date":1680177092,"creation_date":1431092832,"question_id":30125465,"body_markdown":"I&#39;m trying to consume data from a spreadsheet in Excel, but always of this error, already tried formatting the worksheet to text and number and still the error persists.\r\n\r\nI saw a person using it resolved `cell.setCellType ( Cell.CELL_TYPE_STRING ) ;` but I do not know where I fit this passage in my code.\r\n\r\n    WebElement searchbox = driver.findElement(By.name(&quot;j_username&quot;));\r\n    WebElement searchbox2 = driver.findElement(By.name(&quot;j_password&quot;));         \r\n\r\n    try {\r\n        FileInputStream file = new FileInputStream(new File(&quot;C:\\\\paulo.xls&quot;)); \r\n        HSSFWorkbook workbook = new HSSFWorkbook(file);\r\n        HSSFSheet sheet = workbook.getSheetAt(0);\r\n\r\n        for (int i=1; i &lt;= sheet.getLastRowNum(); i++){\r\n            String j_username = sheet.getRow(i).getCell(0).getStringCellValue();\r\n            String j_password = sheet.getRow(i).getCell(0).getStringCellValue();\r\n\r\n            searchbox.sendKeys(j_username);\r\n            searchbox2.sendKeys(j_password);\r\n            searchbox.submit();  \r\n     \r\n            driver.manage().timeouts().implicitlyWait(10000, TimeUnit.MILLISECONDS);\r\n        }\r\n\r\n        workbook.close();\r\n        file.close();\r\n    } catch (FileNotFoundException fnfe) {\r\n        fnfe.printStackTrace();\r\n    } catch (IOException ioe) {\r\n        ioe.printStackTrace();","title":"Cannot get a text value from a numeric cell “Poi”","body":"<p>I'm trying to consume data from a spreadsheet in Excel, but always of this error, already tried formatting the worksheet to text and number and still the error persists.</p>\n\n<p>I saw a person using it resolved <code>cell.setCellType ( Cell.CELL_TYPE_STRING ) ;</code> but I do not know where I fit this passage in my code.</p>\n\n<pre><code>WebElement searchbox = driver.findElement(By.name(\"j_username\"));\nWebElement searchbox2 = driver.findElement(By.name(\"j_password\"));         \n\ntry {\n    FileInputStream file = new FileInputStream(new File(\"C:\\\\paulo.xls\")); \n    HSSFWorkbook workbook = new HSSFWorkbook(file);\n    HSSFSheet sheet = workbook.getSheetAt(0);\n\n    for (int i=1; i &lt;= sheet.getLastRowNum(); i++){\n        String j_username = sheet.getRow(i).getCell(0).getStringCellValue();\n        String j_password = sheet.getRow(i).getCell(0).getStringCellValue();\n\n        searchbox.sendKeys(j_username);\n        searchbox2.sendKeys(j_password);\n        searchbox.submit();  \n\n        driver.manage().timeouts().implicitlyWait(10000, TimeUnit.MILLISECONDS);\n    }\n\n    workbook.close();\n    file.close();\n} catch (FileNotFoundException fnfe) {\n    fnfe.printStackTrace();\n} catch (IOException ioe) {\n    ioe.printStackTrace();\n</code></pre>\n"},{"tags":["java","postgresql","spring-data-jpa"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1680175906,"post_id":75886233,"comment_id":133855389,"body_markdown":"Does this answer your question? [How to convert Set&lt;String&gt; to String\\[\\]?](https://stackoverflow.com/questions/5982447/how-to-convert-setstring-to-string)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5982447/how-to-convert-setstring-to-string\">How to convert Set&lt;String&gt; to String&#91;&#93;?</a>"},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":1,"creation_date":1680180967,"post_id":75886233,"comment_id":133856724,"body_markdown":"[This link](https://stackoverflow.com/questions/70944044/check-existence-of-multiple-ids-with-spring-data-jpa) might also help you achieve the desired result.","body":"<a href=\"https://stackoverflow.com/questions/70944044/check-existence-of-multiple-ids-with-spring-data-jpa\">This link</a> might also help you achieve the desired result."}],"answers":[{"tags":[],"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680176710,"creation_date":1680175681,"answer_id":75887642,"question_id":75886233,"body_markdown":"What works ist to send the ids as array constant in string format, i.e.\r\n\r\n    &#39;{00000000-0000-0014-0000-000000000001, 00000000-0000-0014-0000-000000000002}&#39;\r\n\r\n\r\nso what could work is\r\n\r\n    @Query(value =\r\n            &quot;SELECT COUNT(1) = 0 &quot; +\r\n                    &quot;FROM unnest(cast(:ids AS UUID[])) AS checked_id &quot; +\r\n                    &quot;WHERE checked_id NOT IN (&quot; +\r\n                    &quot;   SELECT DISTINCT(id) &quot; +\r\n                    &quot;   FROM my_table&quot; +\r\n                    &quot;   WHERE id IN (:idset)&quot; +\r\n                    &quot;)&quot;,\r\n            nativeQuery = true)\r\n    boolean allIdsPresented(String ids, Set&lt;UUID&gt; idset);\r\n\r\n    default boolean allIdsPresented(Set&lt;UUID&gt; ids) {\r\n        return allIdsPresented( &quot;{&quot;+ids.stream().map(UUID::toString).collect(Collectors.joining(&quot;,&quot;)) + &quot;}&quot;, ids);\r\n    }\r\n\r\n","title":"How cast Set&lt;UUID&gt; to UUID array in Spring Jpa","body":"<p>What works ist to send the ids as array constant in string format, i.e.</p>\n<pre><code>'{00000000-0000-0014-0000-000000000001, 00000000-0000-0014-0000-000000000002}'\n</code></pre>\n<p>so what could work is</p>\n<pre><code>@Query(value =\n        &quot;SELECT COUNT(1) = 0 &quot; +\n                &quot;FROM unnest(cast(:ids AS UUID[])) AS checked_id &quot; +\n                &quot;WHERE checked_id NOT IN (&quot; +\n                &quot;   SELECT DISTINCT(id) &quot; +\n                &quot;   FROM my_table&quot; +\n                &quot;   WHERE id IN (:idset)&quot; +\n                &quot;)&quot;,\n        nativeQuery = true)\nboolean allIdsPresented(String ids, Set&lt;UUID&gt; idset);\n\ndefault boolean allIdsPresented(Set&lt;UUID&gt; ids) {\n    return allIdsPresented( &quot;{&quot;+ids.stream().map(UUID::toString).collect(Collectors.joining(&quot;,&quot;)) + &quot;}&quot;, ids);\n}\n</code></pre>\n"}],"owner":{"account_id":22847253,"reputation":1,"user_id":16993430,"display_name":"Oleg Picik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680176710,"creation_date":1680167372,"question_id":75886233,"body_markdown":"I need a method that checks whether all ids from the set are presented in the DB, so I wrote this query, but I have a problem with casting a set to an array. I use Postgres.\r\n\r\nMy method:\r\n\r\n```java\r\n@Query(value =\r\n        &quot;SELECT COUNT(1) = 0 &quot; +\r\n                &quot;FROM unnest(cast((:ids) AS UUID[])) AS checked_id &quot; +\r\n                &quot;WHERE checked_id NOT IN (&quot; +\r\n                &quot;   SELECT DISTINCT(id) &quot; +\r\n                &quot;   FROM my_table&quot; +\r\n                &quot;   WHERE id IN (:ids)&quot; +\r\n                &quot;)&quot;,\r\n        nativeQuery = true)\r\nboolean allIdsPresented(Set&lt;UUID&gt; ids);\r\n```\r\n```none\r\nERROR: cannot cast type record to uuid[]\r\n\r\n    Hibernate converts it as: SELECT COUNT(1) = 0 FROM unnest(cast((?, ?, ?) AS UUID[])) ....\r\n```","title":"How cast Set&lt;UUID&gt; to UUID array in Spring Jpa","body":"<p>I need a method that checks whether all ids from the set are presented in the DB, so I wrote this query, but I have a problem with casting a set to an array. I use Postgres.</p>\n<p>My method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value =\n        &quot;SELECT COUNT(1) = 0 &quot; +\n                &quot;FROM unnest(cast((:ids) AS UUID[])) AS checked_id &quot; +\n                &quot;WHERE checked_id NOT IN (&quot; +\n                &quot;   SELECT DISTINCT(id) &quot; +\n                &quot;   FROM my_table&quot; +\n                &quot;   WHERE id IN (:ids)&quot; +\n                &quot;)&quot;,\n        nativeQuery = true)\nboolean allIdsPresented(Set&lt;UUID&gt; ids);\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>ERROR: cannot cast type record to uuid[]\n\n    Hibernate converts it as: SELECT COUNT(1) = 0 FROM unnest(cast((?, ?, ?) AS UUID[])) ....\n</code></pre>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":18669285,"reputation":91,"user_id":13608506,"display_name":"pbl9"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680176615,"creation_date":1680176615,"question_id":75887805,"body_markdown":"I know that from Android 12 deep links with web scheme (http or https) are open by browser by default and to change that proper json file must be provided avalable from specific domain like described in that article https://doordash.engineering/2022/01/25/your-deep-links-might-be-broken-web-intents-and-android-12/. However when in app settings user sets &#39;Supported web address&#39; in Settings -&gt; &#39;App&#39; -&gt; Set as default -&gt; Supported web address web links are open by app. So, my question is: Is a way to check programmaticaly using Android API to check if user enabled supported web addresses for given application? I know that is not a perfect solution and I suppose that is not possible but maybe I&#39;m missing something.  \r\n\r\nI tried to query all aplications that can open my deep link with https scheme and on devices with android version lower than 12 I saw my app but in android 12 and above my app wasn&#39;t on that list even if I enabled supported web address for my app.","title":"Android 12 retrieve open by default setting","body":"<p>I know that from Android 12 deep links with web scheme (http or https) are open by browser by default and to change that proper json file must be provided avalable from specific domain like described in that article <a href=\"https://doordash.engineering/2022/01/25/your-deep-links-might-be-broken-web-intents-and-android-12/\" rel=\"nofollow noreferrer\">https://doordash.engineering/2022/01/25/your-deep-links-might-be-broken-web-intents-and-android-12/</a>. However when in app settings user sets 'Supported web address' in Settings -&gt; 'App' -&gt; Set as default -&gt; Supported web address web links are open by app. So, my question is: Is a way to check programmaticaly using Android API to check if user enabled supported web addresses for given application? I know that is not a perfect solution and I suppose that is not possible but maybe I'm missing something.</p>\n<p>I tried to query all aplications that can open my deep link with https scheme and on devices with android version lower than 12 I saw my app but in android 12 and above my app wasn't on that list even if I enabled supported web address for my app.</p>\n"},{"tags":["java","spring-boot","maven","gradle"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1680179496,"post_id":75887803,"comment_id":133856295,"body_markdown":"What is the reason you want to set up a Gradle and a Maven build? This is an unusual requirement.","body":"What is the reason you want to set up a Gradle and a Maven build? This is an unusual requirement."},{"owner":{"account_id":10579662,"reputation":25,"user_id":7793981,"display_name":"SZ."},"score":0,"creation_date":1680180623,"post_id":75887803,"comment_id":133856603,"body_markdown":"I have been assigned this task.","body":"I have been assigned this task."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1680181049,"post_id":75887803,"comment_id":133856755,"body_markdown":"Please explain to us the background behind this assignment. Why is it useful in your case?","body":"Please explain to us the background behind this assignment. Why is it useful in your case?"},{"owner":{"account_id":10579662,"reputation":25,"user_id":7793981,"display_name":"SZ."},"score":0,"creation_date":1680181166,"post_id":75887803,"comment_id":133856796,"body_markdown":"To make comparison between gradle and maven build in terms of efficiency. It&#39;s mandatory that I do it on same project.","body":"To make comparison between gradle and maven build in terms of efficiency. It&#39;s mandatory that I do it on same project."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1680182458,"post_id":75887803,"comment_id":133857220,"body_markdown":"Then I would create two git branches of the same project, one with Gradle and one with Maven. This allows you to compare efficiency without having to use both at once.","body":"Then I would create two git branches of the same project, one with Gradle and one with Maven. This allows you to compare efficiency without having to use both at once."},{"owner":{"account_id":10579662,"reputation":25,"user_id":7793981,"display_name":"SZ."},"score":0,"creation_date":1680183314,"post_id":75887803,"comment_id":133857497,"body_markdown":"Even if I do that, this issue persists. incompatible types, because dependancies are same","body":"Even if I do that, this issue persists. incompatible types, because dependancies are same"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1680186185,"post_id":75887803,"comment_id":133858360,"body_markdown":"Based on what I see is that you seemed to be using different versions of dependencies because of the differences jakarta/javax... I would analyse the dependency tree exactly... and see what the used transitive dependencies are... I expect there are some differences...","body":"Based on what I see is that you seemed to be using different versions of dependencies because of the differences jakarta/javax... I would analyse the dependency tree exactly... and see what the used transitive dependencies are... I expect there are some differences..."}],"owner":{"account_id":10579662,"reputation":25,"user_id":7793981,"display_name":"SZ."},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680176590,"creation_date":1680176590,"question_id":75887803,"body_markdown":"I have a Spring Boot application with the following project structure:\r\n\r\nMain\r\n- serverModule\r\n- coreModule\r\n\r\nInitially, I set up my project using Gradle and everything was working fine with my dependencies. However, I&#39;m now trying to add the same dependencies to my Maven build as well to have both Gradle and Maven builds side by side.\r\n\r\nThe issue I&#39;m facing is that I&#39;m getting a compatibility error when I build with Maven. The error message says:\r\n\r\n**incompatible types: @javax.validation.constraints.NotNull javax.servlet.http.HttpServletRequest cannot be converted to jakarta.servlet.http.HttpServletRequest**\r\n\r\nI understand that the error is related to the use of different servlet classes by different versions of the validation library. However, I&#39;m not sure how to resolve this issue so that I can use both Gradle and Maven builds without any compatibility issues.\r\n\r\n\r\nI have tried the following steps so far:\r\n\r\n- Adding Jakarta instead of Java\r\n- Copying exact versions from my Gradle build\r\n- Adding the Java dependency for validation in Maven (whereas in Gradle, implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39; was enough to provide validation)\r\n- Updating the OkHttp dependency to com.squareup.okhttp3 in Maven (whereas in Gradle, implementation &#39;com.c.okhttp3:okhttp:4.10.0&#39; was working alright)\r\n\r\nHowever, I&#39;m still unable to resolve this compatibility error and use both Gradle and Maven builds without any issues.\r\n\r\nCan someone please suggest a solution to resolve this error and help me set up both Gradle and Maven builds for my Spring Boot application? Thank you in advance!","title":"How to resolve compatibility issue when using both Gradle and Maven builds in Spring Boot application?","body":"<p>I have a Spring Boot application with the following project structure:</p>\n<p>Main</p>\n<ul>\n<li>serverModule</li>\n<li>coreModule</li>\n</ul>\n<p>Initially, I set up my project using Gradle and everything was working fine with my dependencies. However, I'm now trying to add the same dependencies to my Maven build as well to have both Gradle and Maven builds side by side.</p>\n<p>The issue I'm facing is that I'm getting a compatibility error when I build with Maven. The error message says:</p>\n<p><strong>incompatible types: @javax.validation.constraints.NotNull javax.servlet.http.HttpServletRequest cannot be converted to jakarta.servlet.http.HttpServletRequest</strong></p>\n<p>I understand that the error is related to the use of different servlet classes by different versions of the validation library. However, I'm not sure how to resolve this issue so that I can use both Gradle and Maven builds without any compatibility issues.</p>\n<p>I have tried the following steps so far:</p>\n<ul>\n<li>Adding Jakarta instead of Java</li>\n<li>Copying exact versions from my Gradle build</li>\n<li>Adding the Java dependency for validation in Maven (whereas in Gradle, implementation 'org.springframework.boot:spring-boot-starter-validation' was enough to provide validation)</li>\n<li>Updating the OkHttp dependency to com.squareup.okhttp3 in Maven (whereas in Gradle, implementation 'com.c.okhttp3:okhttp:4.10.0' was working alright)</li>\n</ul>\n<p>However, I'm still unable to resolve this compatibility error and use both Gradle and Maven builds without any issues.</p>\n<p>Can someone please suggest a solution to resolve this error and help me set up both Gradle and Maven builds for my Spring Boot application? Thank you in advance!</p>\n"},{"tags":["java","sorting","group-by"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1680176781,"post_id":75887800,"comment_id":133855616,"body_markdown":"You are on the right track with `Collectors.groupingBy` and `Collectors.counting`. Once you have the map from character to count (e.g. `Map&lt;Character,Long&gt; counts;`), you can use it for sorting, i.e. `list.sort(Comparator.comparing(string -&gt; counts.get(string.charAt(0)));` or `list.sort(Collections.reverseOrder((Comparator.comparing(string -&gt; counts.get(string.charAt(0))));`","body":"You are on the right track with <code>Collectors.groupingBy</code> and <code>Collectors.counting</code>. Once you have the map from character to count (e.g. <code>Map&lt;Character,Long&gt; counts;</code>), you can use it for sorting, i.e. <code>list.sort(Comparator.comparing(string -&gt; counts.get(string.charAt(0)));</code> or <code>list.sort(Collections.reverseOrder((Comparator.comparing(str&zwnj;&#8203;ing -&gt; counts.get(string.charAt(0))));</code>"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1680199464,"post_id":75887800,"comment_id":133861929,"body_markdown":"@Holger how does the above guarantee that the subgroups are also sorted in lexical order.  E.g.  ABF and ABG should be in ascending lexical order and not ABG followed by ABF.  Unless it is coincidental, the expected output has a regular lexical ordering in addition to the count.","body":"@Holger how does the above guarantee that the subgroups are also sorted in lexical order.  E.g.  ABF and ABG should be in ascending lexical order and not ABG followed by ABF.  Unless it is coincidental, the expected output has a regular lexical ordering in addition to the count."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1680252052,"post_id":75887800,"comment_id":133870019,"body_markdown":"@WJS there’s nothing said about lexical order but that would be the easier task. At the moment, it’s not even clear whether the second character based sub-ordering should use the frequency within the group or the total frequency among the entire list. The example is not sufficient to describe the task…","body":"@WJS there’s nothing said about lexical order but that would be the easier task. At the moment, it’s not even clear whether the second character based sub-ordering should use the frequency within the group or the total frequency among the entire list. The example is not sufficient to describe the task…"},{"owner":{"account_id":8088644,"reputation":1066,"user_id":6095334,"display_name":"Hervian"},"score":0,"creation_date":1680266577,"post_id":75887800,"comment_id":133873479,"body_markdown":"Holger&#39;s answer gave me just what I needed. Thanks. As hinted at by WJS&#39;s comment I also wanted to use lexicographical ordering whenever two groups have same size. This is why ABF comes before ABG: they are both part of the charAt(0)=A group, and part of the charAt(1)=B group. But to provide a consistent sorting I needed lexicographical sorting for the charAt(2) group since they both have the group size/count=1 for their 3rd char. Luckily this was an easy addition. Subordering happens within the group - fx: once Strings starting with B has been placed in top they remain at top.","body":"Holger&#39;s answer gave me just what I needed. Thanks. As hinted at by WJS&#39;s comment I also wanted to use lexicographical ordering whenever two groups have same size. This is why ABF comes before ABG: they are both part of the charAt(0)=A group, and part of the charAt(1)=B group. But to provide a consistent sorting I needed lexicographical sorting for the charAt(2) group since they both have the group size/count=1 for their 3rd char. Luckily this was an easy addition. Subordering happens within the group - fx: once Strings starting with B has been placed in top they remain at top."}],"owner":{"account_id":8088644,"reputation":1066,"user_id":6095334,"display_name":"Hervian"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680176573,"creation_date":1680176573,"question_id":75887800,"body_markdown":"I want to sort a list of strings in a way where the strings are sorted by the biggest group with respect to the first char, then the second char, then the third char etc.  \r\nThe result should be that the strings at top of the list all belong to the biggest group when inspecting the first char. Within this group the top most should be the one whose second char belongs to the biggest group etc.\r\n\r\nHere is an example of strings that are sorted the way I hope to achieve:  \r\n```\r\nBYA\r\nBYB\r\nBYC\r\nBXD\r\nBXE\r\nABF\r\nABG\r\nAAH\r\nCAI\r\n```\r\nNote that all those strings starting with B comes first in the list because if we group on first char then the group of strings that begins with the letter B is the biggest. The sub-sort of the strings within this group are ordered by a similar logic: Those that have the the letter Y in the second place belongs to the biggest group for which reason they appear at the top.  \r\n\r\nI am unsure if this is best solved using an algoritm or a datastructure.\r\nI have tried to use the Stream api and `Collectors.groupingBy` and `Collectors.counting` but this gives me a map from Character to all those strings beginning with that Character but I need to sort the list.","title":"Sort list of strings by grouping on first char so that all those string from biggest group comes first, then those from second biggest group etc","body":"<p>I want to sort a list of strings in a way where the strings are sorted by the biggest group with respect to the first char, then the second char, then the third char etc.<br />\nThe result should be that the strings at top of the list all belong to the biggest group when inspecting the first char. Within this group the top most should be the one whose second char belongs to the biggest group etc.</p>\n<p>Here is an example of strings that are sorted the way I hope to achieve:</p>\n<pre><code>BYA\nBYB\nBYC\nBXD\nBXE\nABF\nABG\nAAH\nCAI\n</code></pre>\n<p>Note that all those strings starting with B comes first in the list because if we group on first char then the group of strings that begins with the letter B is the biggest. The sub-sort of the strings within this group are ordered by a similar logic: Those that have the the letter Y in the second place belongs to the biggest group for which reason they appear at the top.</p>\n<p>I am unsure if this is best solved using an algoritm or a datastructure.\nI have tried to use the Stream api and <code>Collectors.groupingBy</code> and <code>Collectors.counting</code> but this gives me a map from Character to all those strings beginning with that Character but I need to sort the list.</p>\n"},{"tags":["java","apache-spark","hadoop"],"comments":[{"owner":{"account_id":8504996,"reputation":1111,"user_id":6376877,"display_name":"Amit"},"score":1,"creation_date":1680181623,"post_id":75887719,"comment_id":133856949,"body_markdown":"Please refer this - https://archive.apache.org/dist/spark/spark-3.0.1/  and see if you have downloaded spark built with Hadoop 2.7 ( which is the version of hadoop you have shown above)","body":"Please refer this - <a href=\"https://archive.apache.org/dist/spark/spark-3.0.1/\" rel=\"nofollow noreferrer\">archive.apache.org/dist/spark/spark-3.0.1</a>  and see if you have downloaded spark built with Hadoop 2.7 ( which is the version of hadoop you have shown above)"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1680215534,"post_id":75887719,"comment_id":133865290,"body_markdown":"Why not use latest Hadoop 3 version?","body":"Why not use latest Hadoop 3 version?"}],"owner":{"account_id":10966452,"reputation":61,"user_id":8058046,"display_name":"Ilya Timokhin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680176094,"creation_date":1680176094,"question_id":75887719,"body_markdown":"Let&#39;s assume that we have the next simple command:\r\n\r\n`./spark-sql --master spark://&lt;ip:port&gt; --driver-memory 2G --driver-cores 1 --num-executors 10 --executor-cores 4 --executor-memory 10G` \r\n\r\n**[Problem] On its execution Spark returns the next message:**\r\n\r\n```\r\nException in thread &quot;main&quot; org.apache.spark.sql.AnalysisException: java.lang.UnsatisfiedLinkError: org.apache.                  hadoop.io.nativeio.NativeIO$POSIX.stat(Ljava/lang/String;)Lorg/apache/hadoop/io/nativeio/NativeIO$POSIX$Stat;;\r\n        at org.apache.spark.sql.hive.HiveExternalCatalog.withClient(HiveExternalCatalog.scala:113)\r\n        at org.apache.spark.sql.hive.HiveExternalCatalog.databaseExists(HiveExternalCatalog.scala:225)\r\n        at org.apache.spark.sql.internal.SharedState.externalCatalog$lzycompute(SharedState.scala:137)\r\n        at org.apache.spark.sql.internal.SharedState.externalCatalog(SharedState.scala:127)\r\n        at org.apache.spark.sql.internal.SharedState.globalTempViewManager$lzycompute(SharedState.scala:157)\r\n        at org.apache.spark.sql.internal.SharedState.globalTempViewManager(SharedState.scala:155)\r\n        at org.apache.spark.sql.hive.HiveSessionStateBuilder.$anonfun$catalog$2(HiveSessionStateBuilder.scala:                  60)\r\n        at org.apache.spark.sql.catalyst.catalog.SessionCatalog.globalTempViewManager$lzycompute(SessionCatalo                  g.scala:93)\r\n        at org.apache.spark.sql.catalyst.catalog.SessionCatalog.globalTempViewManager(SessionCatalog.scala:93)\r\n        at org.apache.spark.sql.catalyst.catalog.SessionCatalog.setCurrentDatabase(SessionCatalog.scala:260)\r\n        at org.apache.spark.sql.connector.catalog.CatalogManager.setCurrentNamespace(CatalogManager.scala:113)\r\n        at org.apache.spark.sql.execution.datasources.v2.SetCatalogAndNamespaceExec.$anonfun$run$2(SetCatalogA                  ndNamespaceExec.scala:36)\r\n        at org.apache.spark.sql.execution.datasources.v2.SetCatalogAndNamespaceExec.$anonfun$run$2$adapted(Set                  CatalogAndNamespaceExec.scala:36)\r\n        at scala.Option.map(Option.scala:230)\r\n        at org.apache.spark.sql.execution.datasources.v2.SetCatalogAndNamespaceExec.run(SetCatalogAndNamespace                  Exec.scala:36)\r\n        at org.apache.spark.sql.execution.datasources.v2.V2CommandExec.result$lzycompute(V2CommandExec.scala:3                  9)\r\n        at org.apache.spark.sql.execution.datasources.v2.V2CommandExec.result(V2CommandExec.scala:39)\r\n        at org.apache.spark.sql.execution.datasources.v2.V2CommandExec.executeCollect(V2CommandExec.scala:45)\r\n        at org.apache.spark.sql.Dataset.$anonfun$logicalPlan$1(Dataset.scala:229)\r\n        at org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3618)\r\n        at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:100)\r\n        at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:160)\r\n        at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:87)\r\n        at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:764)\r\n        at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\r\n        at org.apache.spark.sql.Dataset.withAction(Dataset.scala:3616)\r\n        at org.apache.spark.sql.Dataset.&lt;init&gt;(Dataset.scala:229)\r\n        at org.apache.spark.sql.Dataset$.$anonfun$ofRows$2(Dataset.scala:100)\r\n        at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:764)\r\n        at org.apache.spark.sql.Dataset$.ofRows(Dataset.scala:97)\r\n        at org.apache.spark.sql.SparkSession.$anonfun$sql$1(SparkSession.scala:607)\r\n        at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:764)\r\n        at org.apache.spark.sql.SparkSession.sql(SparkSession.scala:602)\r\n        at org.gts.torchlight.sql.SchemaSql$.calculate(SchemaSql.scala:68)\r\n        at org.gts.torchlight.sql.SchemaSql$.runTask(SchemaSql.scala:161)\r\n        at org.gts.torchlight.sql.SchemaSql$.main(SchemaSql.scala:186)\r\n        at org.gts.torchlight.sql.SchemaSql.main(SchemaSql.scala)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\r\n        at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:                  928)\r\n        at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\r\n        at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\r\n        at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\r\n        at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1007)\r\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1016)\r\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\nCaused by: java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$POSIX.stat(Ljava/lang/String                  ;)Lorg/apache/hadoop/io/nativeio/NativeIO$POSIX$Stat;\r\n        at org.apache.hadoop.io.nativeio.NativeIO$POSIX.stat(Native Method)\r\n        at org.apache.hadoop.io.nativeio.NativeIO$POSIX.getStat(NativeIO.java:456)\r\n        at org.apache.hadoop.fs.RawLocalFileSystem$DeprecatedRawLocalFileStatus.loadPermissionInfoByNativeIO(R                  awLocalFileSystem.java:821)\r\n        at org.apache.hadoop.fs.RawLocalFileSystem$DeprecatedRawLocalFileStatus.loadPermissionInfo(RawLocalFil                  eSystem.java:735)\r\n        at org.apache.hadoop.fs.RawLocalFileSystem$DeprecatedRawLocalFileStatus.getPermission(RawLocalFileSyst                  em.java:703)\r\n        at org.apache.hadoop.hive.ql.session.SessionState.createRootHDFSDir(SessionState.java:711)\r\n        at org.apache.hadoop.hive.ql.session.SessionState.createSessionDirs(SessionState.java:654)\r\n        at org.apache.hadoop.hive.ql.session.SessionState.start(SessionState.java:586)\r\n        at org.apache.hadoop.hive.ql.session.SessionState.start(SessionState.java:548)\r\n        at org.apache.spark.sql.hive.client.HiveClientImpl.newState(HiveClientImpl.scala:175)\r\n        at org.apache.spark.sql.hive.client.HiveClientImpl.&lt;init&gt;(HiveClientImpl.scala:128)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45                  )\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n        at org.apache.spark.sql.hive.client.IsolatedClientLoader.createClient(IsolatedClientLoader.scala:301)\r\n        at org.apache.spark.sql.hive.HiveUtils$.newClientForMetadata(HiveUtils.scala:431)\r\n        at org.apache.spark.sql.hive.HiveUtils$.newClientForMetadata(HiveUtils.scala:324)\r\n        at org.apache.spark.sql.hive.HiveExternalCatalog.client$lzycompute(HiveExternalCatalog.scala:72)\r\n        at org.apache.spark.sql.hive.HiveExternalCatalog.client(HiveExternalCatalog.scala:71)\r\n        at org.apache.spark.sql.hive.HiveExternalCatalog.$anonfun$databaseExists$1(HiveExternalCatalog.scala:2                  25)\r\n        at scala.runtime.java8.JFunction0$mcZ$sp.apply(JFunction0$mcZ$sp.java:23)\r\n        at org.apache.spark.sql.hive.HiveExternalCatalog.withClient(HiveExternalCatalog.scala:103)\r\n        ... 48 more\r\n```\r\n\r\nI&#39;ve set environmental variables on the following principles:\r\n\r\n`export SPARK_HOME=/usr/local/spark-3.0.1`\r\n\r\n`export PATH=$SPARK_HOME:$PATH`\r\n\r\n`export HADOOP_HOME=/usr/hadoop-2.7.2`\r\n\r\n`export LD_LIBRARY_PATH=$HADOOP_HOME/lib/native:$HADOOP_HOME`\r\n\r\nSpark cluster has the correct WebUI on 8080 port, HDFS healthcare and file browser is also listening.\r\n\r\n**What should I check to avoid the problem?** I guess that `PATH`, `LD_LIBRARY_PATH`, `SPARK_HOME` and `HADOOP_HOME` variables have correct values.","title":"Spark: Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError","body":"<p>Let's assume that we have the next simple command:</p>\n<p><code>./spark-sql --master spark://&lt;ip:port&gt; --driver-memory 2G --driver-cores 1 --num-executors 10 --executor-cores 4 --executor-memory 10G</code></p>\n<p><strong>[Problem] On its execution Spark returns the next message:</strong></p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.spark.sql.AnalysisException: java.lang.UnsatisfiedLinkError: org.apache.                  hadoop.io.nativeio.NativeIO$POSIX.stat(Ljava/lang/String;)Lorg/apache/hadoop/io/nativeio/NativeIO$POSIX$Stat;;\n        at org.apache.spark.sql.hive.HiveExternalCatalog.withClient(HiveExternalCatalog.scala:113)\n        at org.apache.spark.sql.hive.HiveExternalCatalog.databaseExists(HiveExternalCatalog.scala:225)\n        at org.apache.spark.sql.internal.SharedState.externalCatalog$lzycompute(SharedState.scala:137)\n        at org.apache.spark.sql.internal.SharedState.externalCatalog(SharedState.scala:127)\n        at org.apache.spark.sql.internal.SharedState.globalTempViewManager$lzycompute(SharedState.scala:157)\n        at org.apache.spark.sql.internal.SharedState.globalTempViewManager(SharedState.scala:155)\n        at org.apache.spark.sql.hive.HiveSessionStateBuilder.$anonfun$catalog$2(HiveSessionStateBuilder.scala:                  60)\n        at org.apache.spark.sql.catalyst.catalog.SessionCatalog.globalTempViewManager$lzycompute(SessionCatalo                  g.scala:93)\n        at org.apache.spark.sql.catalyst.catalog.SessionCatalog.globalTempViewManager(SessionCatalog.scala:93)\n        at org.apache.spark.sql.catalyst.catalog.SessionCatalog.setCurrentDatabase(SessionCatalog.scala:260)\n        at org.apache.spark.sql.connector.catalog.CatalogManager.setCurrentNamespace(CatalogManager.scala:113)\n        at org.apache.spark.sql.execution.datasources.v2.SetCatalogAndNamespaceExec.$anonfun$run$2(SetCatalogA                  ndNamespaceExec.scala:36)\n        at org.apache.spark.sql.execution.datasources.v2.SetCatalogAndNamespaceExec.$anonfun$run$2$adapted(Set                  CatalogAndNamespaceExec.scala:36)\n        at scala.Option.map(Option.scala:230)\n        at org.apache.spark.sql.execution.datasources.v2.SetCatalogAndNamespaceExec.run(SetCatalogAndNamespace                  Exec.scala:36)\n        at org.apache.spark.sql.execution.datasources.v2.V2CommandExec.result$lzycompute(V2CommandExec.scala:3                  9)\n        at org.apache.spark.sql.execution.datasources.v2.V2CommandExec.result(V2CommandExec.scala:39)\n        at org.apache.spark.sql.execution.datasources.v2.V2CommandExec.executeCollect(V2CommandExec.scala:45)\n        at org.apache.spark.sql.Dataset.$anonfun$logicalPlan$1(Dataset.scala:229)\n        at org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3618)\n        at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:100)\n        at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:160)\n        at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:87)\n        at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:764)\n        at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\n        at org.apache.spark.sql.Dataset.withAction(Dataset.scala:3616)\n        at org.apache.spark.sql.Dataset.&lt;init&gt;(Dataset.scala:229)\n        at org.apache.spark.sql.Dataset$.$anonfun$ofRows$2(Dataset.scala:100)\n        at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:764)\n        at org.apache.spark.sql.Dataset$.ofRows(Dataset.scala:97)\n        at org.apache.spark.sql.SparkSession.$anonfun$sql$1(SparkSession.scala:607)\n        at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:764)\n        at org.apache.spark.sql.SparkSession.sql(SparkSession.scala:602)\n        at org.gts.torchlight.sql.SchemaSql$.calculate(SchemaSql.scala:68)\n        at org.gts.torchlight.sql.SchemaSql$.runTask(SchemaSql.scala:161)\n        at org.gts.torchlight.sql.SchemaSql$.main(SchemaSql.scala:186)\n        at org.gts.torchlight.sql.SchemaSql.main(SchemaSql.scala)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\n        at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:                  928)\n        at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\n        at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\n        at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\n        at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1007)\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1016)\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\nCaused by: java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$POSIX.stat(Ljava/lang/String                  ;)Lorg/apache/hadoop/io/nativeio/NativeIO$POSIX$Stat;\n        at org.apache.hadoop.io.nativeio.NativeIO$POSIX.stat(Native Method)\n        at org.apache.hadoop.io.nativeio.NativeIO$POSIX.getStat(NativeIO.java:456)\n        at org.apache.hadoop.fs.RawLocalFileSystem$DeprecatedRawLocalFileStatus.loadPermissionInfoByNativeIO(R                  awLocalFileSystem.java:821)\n        at org.apache.hadoop.fs.RawLocalFileSystem$DeprecatedRawLocalFileStatus.loadPermissionInfo(RawLocalFil                  eSystem.java:735)\n        at org.apache.hadoop.fs.RawLocalFileSystem$DeprecatedRawLocalFileStatus.getPermission(RawLocalFileSyst                  em.java:703)\n        at org.apache.hadoop.hive.ql.session.SessionState.createRootHDFSDir(SessionState.java:711)\n        at org.apache.hadoop.hive.ql.session.SessionState.createSessionDirs(SessionState.java:654)\n        at org.apache.hadoop.hive.ql.session.SessionState.start(SessionState.java:586)\n        at org.apache.hadoop.hive.ql.session.SessionState.start(SessionState.java:548)\n        at org.apache.spark.sql.hive.client.HiveClientImpl.newState(HiveClientImpl.scala:175)\n        at org.apache.spark.sql.hive.client.HiveClientImpl.&lt;init&gt;(HiveClientImpl.scala:128)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45                  )\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n        at org.apache.spark.sql.hive.client.IsolatedClientLoader.createClient(IsolatedClientLoader.scala:301)\n        at org.apache.spark.sql.hive.HiveUtils$.newClientForMetadata(HiveUtils.scala:431)\n        at org.apache.spark.sql.hive.HiveUtils$.newClientForMetadata(HiveUtils.scala:324)\n        at org.apache.spark.sql.hive.HiveExternalCatalog.client$lzycompute(HiveExternalCatalog.scala:72)\n        at org.apache.spark.sql.hive.HiveExternalCatalog.client(HiveExternalCatalog.scala:71)\n        at org.apache.spark.sql.hive.HiveExternalCatalog.$anonfun$databaseExists$1(HiveExternalCatalog.scala:2                  25)\n        at scala.runtime.java8.JFunction0$mcZ$sp.apply(JFunction0$mcZ$sp.java:23)\n        at org.apache.spark.sql.hive.HiveExternalCatalog.withClient(HiveExternalCatalog.scala:103)\n        ... 48 more\n</code></pre>\n<p>I've set environmental variables on the following principles:</p>\n<p><code>export SPARK_HOME=/usr/local/spark-3.0.1</code></p>\n<p><code>export PATH=$SPARK_HOME:$PATH</code></p>\n<p><code>export HADOOP_HOME=/usr/hadoop-2.7.2</code></p>\n<p><code>export LD_LIBRARY_PATH=$HADOOP_HOME/lib/native:$HADOOP_HOME</code></p>\n<p>Spark cluster has the correct WebUI on 8080 port, HDFS healthcare and file browser is also listening.</p>\n<p><strong>What should I check to avoid the problem?</strong> I guess that <code>PATH</code>, <code>LD_LIBRARY_PATH</code>, <code>SPARK_HOME</code> and <code>HADOOP_HOME</code> variables have correct values.</p>\n"},{"tags":["java","class","intellij-idea","naming"],"comments":[{"owner":{"account_id":6254111,"reputation":874,"user_id":4863272,"display_name":"kunruh"},"score":1,"creation_date":1467925175,"post_id":38254612,"comment_id":63931440,"body_markdown":"Are you saying you are trying to make a literal `.class` file? That&#39;s the only thing I can think of that would cause it to complain like that. Your Java files that contain your classes should be all `.java`. The `.class` files are created by the java compiler, not by the programmer directly.","body":"Are you saying you are trying to make a literal <code>.class</code> file? That&#39;s the only thing I can think of that would cause it to complain like that. Your Java files that contain your classes should be all <code>.java</code>. The <code>.class</code> files are created by the java compiler, not by the programmer directly."}],"answers":[{"tags":[],"owner":{"account_id":8584522,"reputation":177,"user_id":6431125,"display_name":"Vishal Jumani"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1467923880,"creation_date":1467923880,"answer_id":38254855,"question_id":38254612,"body_markdown":"This would usually be because of the way your project is setup. It may not be setup correctly to indicate where your source code is.\r\n\r\n - To setup your project, in the Project Tab, click on the top most folder and select F4. This should bring up the Project Settings dialog window.\r\n - Now click on Modules in the LHS, and then select the Sources Tab on the RHS\r\n - Select your src folder and click on the Sources button, to indicate this is your source folder. Now IntelliJ is aware that this is where your code is.\r\n - Click on Apply and OK. This should close the Dialog Window.\r\n - Now right click on the src folder and then select New -&gt; Java Class to create your Java class","title":"Intelli-J: cannot create class-file?","body":"<p>This would usually be because of the way your project is setup. It may not be setup correctly to indicate where your source code is.</p>\n\n<ul>\n<li>To setup your project, in the Project Tab, click on the top most folder and select F4. This should bring up the Project Settings dialog window.</li>\n<li>Now click on Modules in the LHS, and then select the Sources Tab on the RHS</li>\n<li>Select your src folder and click on the Sources button, to indicate this is your source folder. Now IntelliJ is aware that this is where your code is.</li>\n<li>Click on Apply and OK. This should close the Dialog Window.</li>\n<li>Now right click on the src folder and then select New -> Java Class to create your Java class</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6352179,"reputation":2791,"user_id":4930850,"accept_rate":62,"display_name":"Chad Van De Hey"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1481311605,"creation_date":1481311605,"answer_id":41067541,"question_id":38254612,"body_markdown":"More directly, based on what @Vishal Jumani  touched on, you need to tell IntelliJ what directories are &#39;source&#39; or &#39;test&#39; directories.\r\n\r\nA directory structure you can use as an example, but you can use whatever you wish.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nRight click on the directory you wish to mark as &#39;root&#39; --&gt; find &#39;Mark Directory As&#39; --&gt; Select &#39;Sources Root&#39;\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nNow you should be able to add java classes in the directory without IntelliJ interrupting you!\r\n\r\n  [1]: https://i.stack.imgur.com/LavR7.png\r\n  [2]: https://i.stack.imgur.com/LbWvZ.png","title":"Intelli-J: cannot create class-file?","body":"<p>More directly, based on what @Vishal Jumani  touched on, you need to tell IntelliJ what directories are 'source' or 'test' directories.</p>\n\n<p>A directory structure you can use as an example, but you can use whatever you wish.</p>\n\n<p><a href=\"https://i.stack.imgur.com/LavR7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LavR7.png\" alt=\"enter image description here\"></a></p>\n\n<p>Right click on the directory you wish to mark as 'root' --> find 'Mark Directory As' --> Select 'Sources Root'</p>\n\n<p><a href=\"https://i.stack.imgur.com/LbWvZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LbWvZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now you should be able to add java classes in the directory without IntelliJ interrupting you!</p>\n"}],"owner":{"account_id":7224002,"reputation":1904,"user_id":5513336,"accept_rate":16,"display_name":"Leia_Organa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31229,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1680175847,"creation_date":1467923047,"question_id":38254612,"body_markdown":"This is honestly a tiny problem but it&#39;s keeping me from proceeding with my small Java practice app.\r\n\r\nI&#39;m currently practicing making an API call in Java. I was trying to create a simple class file called &quot;Film&quot;. However, when I try to create it as a class-file, Intelli-J keeps telling me that it is unable to create a class-file. I&#39;m trying to set this file up in a folder called &quot;models&quot;. All of these class files are going to be utilized as part of an app that performs API calls.\r\n\r\nIs there some naming convention I haven&#39;t followed? I&#39;ve been Googling but haven&#39;t really found anything.","title":"Intelli-J: cannot create class-file?","body":"<p>This is honestly a tiny problem but it's keeping me from proceeding with my small Java practice app.</p>\n\n<p>I'm currently practicing making an API call in Java. I was trying to create a simple class file called \"Film\". However, when I try to create it as a class-file, Intelli-J keeps telling me that it is unable to create a class-file. I'm trying to set this file up in a folder called \"models\". All of these class files are going to be utilized as part of an app that performs API calls.</p>\n\n<p>Is there some naming convention I haven't followed? I've been Googling but haven't really found anything.</p>\n"},{"tags":["java","tuples","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":967190,"reputation":6086,"user_id":990421,"display_name":"Amit Portnoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680175420,"creation_date":1364874796,"answer_id":15755762,"question_id":15755682,"body_markdown":"You can use [`java.util.Vector`][1]: \r\n\r\nso it should be something like:\r\n\r\n    Vector&lt;Integer&gt; values = new Vector&lt;Integer&gt;(Arrays.asList([5,1,7]));\r\n    Vector&lt;Vector&lt;Integer&gt;&gt; data = new Vector&lt;Vector&lt;Integer&gt;&gt;(values.size()) \r\n    //you&#39;ll also need to actually create the inner vector objects:\r\n    for (int i = 0; i&lt;values.size(); i++){\r\n       data.set(i,new Vector&lt;Integer&gt;(desiredGoal + 1);\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Vector.html","title":"How would you create a 2D array of tuples in Java?","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Vector.html\" rel=\"nofollow noreferrer\"><code>java.util.Vector</code></a>:</p>\n<p>so it should be something like:</p>\n<pre><code>Vector&lt;Integer&gt; values = new Vector&lt;Integer&gt;(Arrays.asList([5,1,7]));\nVector&lt;Vector&lt;Integer&gt;&gt; data = new Vector&lt;Vector&lt;Integer&gt;&gt;(values.size()) \n//you'll also need to actually create the inner vector objects:\nfor (int i = 0; i&lt;values.size(); i++){\n   data.set(i,new Vector&lt;Integer&gt;(desiredGoal + 1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2316842,"reputation":7874,"user_id":2033703,"display_name":"Eric Jablow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364875300,"creation_date":1364875300,"answer_id":15755827,"question_id":15755682,"body_markdown":"He probably doesn&#39;t need the synchronization of `Vector`, so he should stick to `List` and `ArrayList`.  Assuming Java 7, try this:\r\n\r\n    List&lt;Integer&gt; values = new ArrayList&lt;&gt;();\r\n    Collections.addAll(values, 5, 1, 7);\r\n    int desiredGoal = 77;\r\n    List&lt;List&lt;Integer&gt;&gt; data = new List&lt;&gt;(); \r\n    // Create the inner lists:\r\n    for (final int ignored: values) {\r\n        data.add(new ArrayList&lt;&gt;(desiredGoal + 1));\r\n        // List&lt;Integer&gt; is wanted, so use type inference.\r\n    }\r\n","title":"How would you create a 2D array of tuples in Java?","body":"<p>He probably doesn't need the synchronization of <code>Vector</code>, so he should stick to <code>List</code> and <code>ArrayList</code>.  Assuming Java 7, try this:</p>\n\n<pre><code>List&lt;Integer&gt; values = new ArrayList&lt;&gt;();\nCollections.addAll(values, 5, 1, 7);\nint desiredGoal = 77;\nList&lt;List&lt;Integer&gt;&gt; data = new List&lt;&gt;(); \n// Create the inner lists:\nfor (final int ignored: values) {\n    data.add(new ArrayList&lt;&gt;(desiredGoal + 1));\n    // List&lt;Integer&gt; is wanted, so use type inference.\n}\n</code></pre>\n"}],"owner":{"account_id":1355819,"reputation":327,"user_id":1294227,"accept_rate":77,"display_name":"crashprophet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1941,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680175420,"creation_date":1364874217,"question_id":15755682,"body_markdown":"I am trying to create a double array of tuples. Would anyone know how this is done? \r\n\r\nI basically am looking to have something like the following:\r\n\r\n    int[] values = {5, 1, 7}; // This array length can vary with different values\r\n    int desiredGoal = 77;\r\n\r\n    int data[][] = new int[values.length][desiredGoal + 1];\r\n\r\nEach of the indexes of the 2D array would contain a tuple. The tuple would be be the same length as the values array (no matter what it&#39;s length was) and would contain various combinations of the values in the values array in order to achieve the desiredGoal value.","title":"How would you create a 2D array of tuples in Java?","body":"<p>I am trying to create a double array of tuples. Would anyone know how this is done? </p>\n\n<p>I basically am looking to have something like the following:</p>\n\n<pre><code>int[] values = {5, 1, 7}; // This array length can vary with different values\nint desiredGoal = 77;\n\nint data[][] = new int[values.length][desiredGoal + 1];\n</code></pre>\n\n<p>Each of the indexes of the 2D array would contain a tuple. The tuple would be be the same length as the values array (no matter what it's length was) and would contain various combinations of the values in the values array in order to achieve the desiredGoal value.</p>\n"},{"tags":["java","algorithm","loops","for-loop"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1680171624,"post_id":75886840,"comment_id":133854278,"body_markdown":"You&#39;re probably observing the *JIT (just-in-time) compiler* (&lt;- search keyword to find out more) in action. You can try the `-Xint` command line option, which disables it. That should make the results noticeably slower, but perfectly linear.","body":"You&#39;re probably observing the <i>JIT (just-in-time) compiler</i> (&lt;- search keyword to find out more) in action. You can try the <code>-Xint</code> command line option, which disables it. That should make the results noticeably slower, but perfectly linear."},{"owner":{"account_id":9543959,"reputation":77,"user_id":7090837,"display_name":"Yeras_QazaQ"},"score":0,"creation_date":1680171779,"post_id":75886840,"comment_id":133854315,"body_markdown":"What about memory and CPU in your machine? When you add large data you get much memory for heap. Check memory and JVM actual state","body":"What about memory and CPU in your machine? When you add large data you get much memory for heap. Check memory and JVM actual state"},{"owner":{"account_id":28072808,"reputation":33,"user_id":21445132,"display_name":"oresky"},"score":0,"creation_date":1680172707,"post_id":75886840,"comment_id":133854577,"body_markdown":"@teapot418 How do I re-enable JIT?","body":"@teapot418 How do I re-enable JIT?"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1680172791,"post_id":75886840,"comment_id":133854596,"body_markdown":"It&#39;s enabled by default. If you don&#39;t put the option to disable, it will be enabled.","body":"It&#39;s enabled by default. If you don&#39;t put the option to disable, it will be enabled."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1680173474,"post_id":75886840,"comment_id":133854758,"body_markdown":"Consider replacing the multiplication with addition in the for-loop increment clause - integer addition is faster than integer multiplication.   Interestingly, this is not always true with floating point addition versus floating point multiplication.","body":"Consider replacing the multiplication with addition in the for-loop increment clause - integer addition is faster than integer multiplication.   Interestingly, this is not always true with floating point addition versus floating point multiplication."},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1680262063,"post_id":75886840,"comment_id":133872360,"body_markdown":"You have to run methods several times before JIT kicks in. So whenever you time something tinme it several times (in the same JVM-run) and wait until values have stabilized. Also GarbageCollection might make some measurements useless (also therefore you need to measure the same test several times).","body":"You have to run methods several times before JIT kicks in. So whenever you time something tinme it several times (in the same JVM-run) and wait until values have stabilized. Also GarbageCollection might make some measurements useless (also therefore you need to measure the same test several times)."}],"owner":{"account_id":28072808,"reputation":33,"user_id":21445132,"display_name":"oresky"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680175281,"creation_date":1680170943,"question_id":75886840,"body_markdown":"NOTE: The libraries used in this code can be found [here](https://introcs.cs.princeton.edu/java/stdlib/). The classes/functions used here are pretty self explanatory though.\r\n\r\nThis brute force algorithm counts all the triplets in the given input that sum to 0:\r\n\r\n```\r\n    public static int count(int[] a) {\r\n        int n = a.length;\r\n        int count = 0;\r\n        for (int i = 0; i &lt; n; i++) {\r\n            for (int j = i + 1; j &lt; n; j++) {\r\n                for (int k = j + 1; k &lt; n; k++) {\r\n                    if (a[i] + a[j] + a[k] == 0) {\r\n                        count++;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n```\r\n\r\nWhen I test it from `i = 250` to `16000`, incrementing `i` by `250` at each iteration:\r\n```\r\nimport edu.princeton.cs.algs4.StdOut;\r\nimport edu.princeton.cs.algs4.StdRandom;\r\nimport edu.princeton.cs.algs4.Stopwatch;\r\n\r\npublic class DoublingTest {\r\n    public static double timeTrial(int N) {\r\n        int MAX = 1000000;\r\n        int[] a = new int[N];\r\n        for (int i = 0; i &lt; N; i++)\r\n            a[i] = StdRandom.uniform(-MAX, MAX);\r\n        Stopwatch timer = new Stopwatch();\r\n        int cnt = ThreeSum.count(a);\r\n        return timer.elapsedTime();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        double total = 0;\r\n        for (int i = 250; i &lt;= 16000; i += 250) {\r\n            double time = timeTrial(i);\r\n            total += time;\r\n            StdOut.printf(&quot;%7d %5.2f&quot;, i, time);;\r\n            StdOut.printf(&quot;Total time = %5.2f\\n&quot;, total);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\ni = 4000 takes 12.91s:\r\n\r\n```\r\n    250  0.03\r\nTotal time =  0.03\r\n    500  0.10\r\nTotal time =  0.13\r\n    750  0.43\r\nTotal time =  0.56\r\n   1000  0.95\r\nTotal time =  1.51\r\n   1250  1.80\r\nTotal time =  3.31\r\n   1500  3.12\r\nTotal time =  6.44\r\n   1750  1.11\r\nTotal time =  7.55\r\n   2000  1.65\r\nTotal time =  9.20\r\n   2250  2.35\r\nTotal time = 11.54\r\n   2500  3.19\r\nTotal time = 14.74\r\n   2750  4.26\r\nTotal time = 18.99\r\n   3000  5.51\r\nTotal time = 24.50\r\n   3250  6.99\r\nTotal time = 31.50\r\n   3500  8.73\r\nTotal time = 40.23\r\n   3750 10.66\r\nTotal time = 50.88\r\n   4000 12.91\r\nTotal time = 63.80\r\n```\r\n\r\nBut when I double `i` at each iteration:\r\n\r\n```\r\nimport edu.princeton.cs.algs4.StdOut;\r\nimport edu.princeton.cs.algs4.StdRandom;\r\nimport edu.princeton.cs.algs4.Stopwatch;\r\n\r\npublic class DoublingTest {\r\n    public static double timeTrial(int N) {\r\n        int MAX = 1000000;\r\n        int[] a = new int[N];\r\n        for (int i = 0; i &lt; N; i++)\r\n            a[i] = StdRandom.uniform(-MAX, MAX);\r\n        Stopwatch timer = new Stopwatch();\r\n        int cnt = ThreeSum.count(a);\r\n        return timer.elapsedTime();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        double total = 0;\r\n        for (int i = 250; i &lt;= 16000; i *= 2) {\r\n            double time = timeTrial(i);\r\n            total += time;\r\n            StdOut.printf(&quot;%7d %5.2f&quot;, i, time);\r\n            StdOut.printf(&quot;Total time = %5.2f\\n&quot;, total);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\ni = 4000 takes significantly longer (59.22s):\r\n\r\n```\r\n    250  0.04\r\nTotal time =  0.04\r\n    500  0.12\r\nTotal time =  0.16\r\n   1000  0.96\r\nTotal time =  1.11\r\n   2000  7.38\r\nTotal time =  8.50\r\n   4000 59.22\r\nTotal time = 67.71\r\n```\r\n\r\nYet, total time is similar in both cases. Why does this happen?","title":"Why does each iteration in this loop take a shorter time when there are more iterations?","body":"<p>NOTE: The libraries used in this code can be found <a href=\"https://introcs.cs.princeton.edu/java/stdlib/\" rel=\"nofollow noreferrer\">here</a>. The classes/functions used here are pretty self explanatory though.</p>\n<p>This brute force algorithm counts all the triplets in the given input that sum to 0:</p>\n<pre><code>    public static int count(int[] a) {\n        int n = a.length;\n        int count = 0;\n        for (int i = 0; i &lt; n; i++) {\n            for (int j = i + 1; j &lt; n; j++) {\n                for (int k = j + 1; k &lt; n; k++) {\n                    if (a[i] + a[j] + a[k] == 0) {\n                        count++;\n                    }\n                }\n            }\n        }\n        return count;\n    }\n</code></pre>\n<p>When I test it from <code>i = 250</code> to <code>16000</code>, incrementing <code>i</code> by <code>250</code> at each iteration:</p>\n<pre><code>import edu.princeton.cs.algs4.StdOut;\nimport edu.princeton.cs.algs4.StdRandom;\nimport edu.princeton.cs.algs4.Stopwatch;\n\npublic class DoublingTest {\n    public static double timeTrial(int N) {\n        int MAX = 1000000;\n        int[] a = new int[N];\n        for (int i = 0; i &lt; N; i++)\n            a[i] = StdRandom.uniform(-MAX, MAX);\n        Stopwatch timer = new Stopwatch();\n        int cnt = ThreeSum.count(a);\n        return timer.elapsedTime();\n    }\n\n    public static void main(String[] args) {\n        double total = 0;\n        for (int i = 250; i &lt;= 16000; i += 250) {\n            double time = timeTrial(i);\n            total += time;\n            StdOut.printf(&quot;%7d %5.2f&quot;, i, time);;\n            StdOut.printf(&quot;Total time = %5.2f\\n&quot;, total);\n        }\n    }\n}\n\n</code></pre>\n<p>i = 4000 takes 12.91s:</p>\n<pre><code>    250  0.03\nTotal time =  0.03\n    500  0.10\nTotal time =  0.13\n    750  0.43\nTotal time =  0.56\n   1000  0.95\nTotal time =  1.51\n   1250  1.80\nTotal time =  3.31\n   1500  3.12\nTotal time =  6.44\n   1750  1.11\nTotal time =  7.55\n   2000  1.65\nTotal time =  9.20\n   2250  2.35\nTotal time = 11.54\n   2500  3.19\nTotal time = 14.74\n   2750  4.26\nTotal time = 18.99\n   3000  5.51\nTotal time = 24.50\n   3250  6.99\nTotal time = 31.50\n   3500  8.73\nTotal time = 40.23\n   3750 10.66\nTotal time = 50.88\n   4000 12.91\nTotal time = 63.80\n</code></pre>\n<p>But when I double <code>i</code> at each iteration:</p>\n<pre><code>import edu.princeton.cs.algs4.StdOut;\nimport edu.princeton.cs.algs4.StdRandom;\nimport edu.princeton.cs.algs4.Stopwatch;\n\npublic class DoublingTest {\n    public static double timeTrial(int N) {\n        int MAX = 1000000;\n        int[] a = new int[N];\n        for (int i = 0; i &lt; N; i++)\n            a[i] = StdRandom.uniform(-MAX, MAX);\n        Stopwatch timer = new Stopwatch();\n        int cnt = ThreeSum.count(a);\n        return timer.elapsedTime();\n    }\n\n    public static void main(String[] args) {\n        double total = 0;\n        for (int i = 250; i &lt;= 16000; i *= 2) {\n            double time = timeTrial(i);\n            total += time;\n            StdOut.printf(&quot;%7d %5.2f&quot;, i, time);\n            StdOut.printf(&quot;Total time = %5.2f\\n&quot;, total);\n        }\n    }\n}\n\n</code></pre>\n<p>i = 4000 takes significantly longer (59.22s):</p>\n<pre><code>    250  0.04\nTotal time =  0.04\n    500  0.12\nTotal time =  0.16\n   1000  0.96\nTotal time =  1.11\n   2000  7.38\nTotal time =  8.50\n   4000 59.22\nTotal time = 67.71\n</code></pre>\n<p>Yet, total time is similar in both cases. Why does this happen?</p>\n"},{"tags":["java","encode","zxing","gs1-datamatrix"],"answers":[{"tags":[],"owner":{"account_id":4358095,"reputation":434,"user_id":3556071,"accept_rate":56,"display_name":"Koeus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1447150836,"creation_date":1446710298,"answer_id":33539257,"question_id":33521900,"body_markdown":"Thanks to [Lachezar Dobrev over at the zxing Google group][1] I was able to get this working as expected. As it turns out, you can hand over an EncodeHintType to the DataMatrixWriter, which forces it to apply a square shape.\r\n\r\nThis does the trick for me:\r\n\r\n            HashMap hintMap = new HashMap();\r\n            hintMap.put(EncodeHintType.DATA_MATRIX_SHAPE, SymbolShapeHint.FORCE_SQUARE);\r\n            BitMatrix bitMatrix = new DataMatrixWriter().encode(input, BarcodeFormat.DATA_MATRIX, 50, 50, hintMap);\r\n\r\n**Update some week later**: As it turns out, zxing is not GS1 compatible no matter what input you give it, so the whole FNC1/&lt;GS&gt; issue is besides the point. Instead, I would recommend using [Okapi Barcode][2], which works flawlessly.\r\n\r\nI haven&#39;t found any guides or tutorials, but based on how the Okapi Java GUI generates its barcodes I puzzled this together from the project&#39;s `Make Barcode` class.\r\n\r\n    DataMatrix dataMatrix = new DataMatrix();\r\n    dataMatrix.setDataType(Symbol.DataType.GS1);\r\n    dataMatrix.setReaderInit();\r\n    dataMatrix.setPreferredSize(24); //144x144\r\n    dataMatrix.forceSquare(true);\r\n    dataMatrix.setContent(dataToEncode);\r\n    BufferedImage image = new BufferedImage((dataMatrix.getWidth() * magnification) + (2 * borderSize),\r\n                        (dataMatrix.getHeight() * magnification) + (2 * borderSize), BufferedImage.TYPE_INT_RGB);\r\n    Graphics2D g2d = image.createGraphics();\r\n    g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n    g2d.setColor(Color.WHITE);\r\n    g2d.fillRect(0, 0, (dataMatrix.getWidth() * magnification) + (2 * borderSize),\r\n                        (dataMatrix.getHeight() * magnification) + (2 * borderSize));\r\n    Java2DRenderer renderer = new Java2DRenderer(g2d, magnification, borderSize, Color.WHITE, Color.BLACK);\r\n    renderer.render(dataMatrix);\r\n    try {\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        ImageIO.write(image, &quot;png&quot;, baos);\r\n        //Before Base64-encoding the image and return as a String        \r\n        Base64.Encoder encoder = Base64.getEncoder(); \r\n        return encoder.encodeToString(baos.toByteArray());\r\n    } catch (IOException e) {\r\n    //Do some logging\r\n    return &quot;Something went wrong&quot;;//Return super-informative error message\r\n    }\r\n\r\n\r\n  [1]: https://groups.google.com/forum/#!topic/zxing/uH1u6BGNVcI\r\n  [2]: https://github.com/woo-j/OkapiBarcode","title":"How to handle FNC1/&lt;GS&gt; when encoding GS1 compatible DataMatrix code?","body":"<p>Thanks to <a href=\"https://groups.google.com/forum/#!topic/zxing/uH1u6BGNVcI\" rel=\"nofollow\">Lachezar Dobrev over at the zxing Google group</a> I was able to get this working as expected. As it turns out, you can hand over an EncodeHintType to the DataMatrixWriter, which forces it to apply a square shape.</p>\n\n<p>This does the trick for me:</p>\n\n<pre><code>        HashMap hintMap = new HashMap();\n        hintMap.put(EncodeHintType.DATA_MATRIX_SHAPE, SymbolShapeHint.FORCE_SQUARE);\n        BitMatrix bitMatrix = new DataMatrixWriter().encode(input, BarcodeFormat.DATA_MATRIX, 50, 50, hintMap);\n</code></pre>\n\n<p><strong>Update some week later</strong>: As it turns out, zxing is not GS1 compatible no matter what input you give it, so the whole FNC1/ issue is besides the point. Instead, I would recommend using <a href=\"https://github.com/woo-j/OkapiBarcode\" rel=\"nofollow\">Okapi Barcode</a>, which works flawlessly.</p>\n\n<p>I haven't found any guides or tutorials, but based on how the Okapi Java GUI generates its barcodes I puzzled this together from the project's <code>Make Barcode</code> class.</p>\n\n<pre><code>DataMatrix dataMatrix = new DataMatrix();\ndataMatrix.setDataType(Symbol.DataType.GS1);\ndataMatrix.setReaderInit();\ndataMatrix.setPreferredSize(24); //144x144\ndataMatrix.forceSquare(true);\ndataMatrix.setContent(dataToEncode);\nBufferedImage image = new BufferedImage((dataMatrix.getWidth() * magnification) + (2 * borderSize),\n                    (dataMatrix.getHeight() * magnification) + (2 * borderSize), BufferedImage.TYPE_INT_RGB);\nGraphics2D g2d = image.createGraphics();\ng2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\ng2d.setColor(Color.WHITE);\ng2d.fillRect(0, 0, (dataMatrix.getWidth() * magnification) + (2 * borderSize),\n                    (dataMatrix.getHeight() * magnification) + (2 * borderSize));\nJava2DRenderer renderer = new Java2DRenderer(g2d, magnification, borderSize, Color.WHITE, Color.BLACK);\nrenderer.render(dataMatrix);\ntry {\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    ImageIO.write(image, \"png\", baos);\n    //Before Base64-encoding the image and return as a String        \n    Base64.Encoder encoder = Base64.getEncoder(); \n    return encoder.encodeToString(baos.toByteArray());\n} catch (IOException e) {\n//Do some logging\nreturn \"Something went wrong\";//Return super-informative error message\n}\n</code></pre>\n"}],"owner":{"account_id":4358095,"reputation":434,"user_id":3556071,"accept_rate":56,"display_name":"Koeus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4044,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":33539257,"answer_count":1,"score":1,"last_activity_date":1680175079,"creation_date":1446639941,"question_id":33521900,"body_markdown":"I get my DataMatrix code using the following line:\r\n\r\n`BitMatrix bitMatrix = new DataMatrixWriter().encode(dmie.preEncodeBarcode(dataToEncode), BarcodeFormat.DATA_MATRIX, 50, 50, null);`\r\n\r\nThe input string I get contains &quot;FNC1&quot; (just as plain characters in the string) to mark the end of a dynamic field, and in total the string has 4 different GS1 DataMatrix Application Identifiers and their respective values.\r\n\r\nWhat preEncodeBarcode() does is to replace &quot;FNC1&quot; with `&lt;GS&gt;`, like so:\r\n\r\n`input = input.replaceAll(&quot;FNC1&quot;, new String(new byte[] {0x1d}));`\r\n\r\nSince otherwise I simply get &quot;FNC1910005FNC1230202[...]&quot; encoded in the DataMatrix, while what I want is of course `&lt;GS&gt;` instead of the text &quot;FNC1&quot;.\r\n\r\nHowever, when replacing FNC1 with `&lt;GS&gt;` (I&#39;ve tried using &#39;\\u001c&#39; as well), I get this very strange double-DM-code instead of a normal one: \r\n\r\n[![Strange-double-data-matrix][1]][1]\r\n\r\nOnly if I skip replacing &quot;FNC1&quot; with `&lt;GS&gt;` do I get a proper one.\r\n\r\nAny idea how to get a proper DataMatrix code based on my `&lt;GS&gt;`-containing String? Or am I simply doing something wrong by having `&lt;GS&gt;` directly in the String? What should I do instead in that case to get zxing to give me a correct DataMatrix? I&#39;ve been reading all over but I really can&#39;t wrap my head around this.\r\n\r\nUpdate: I&#39;m not sure, but I might be on to some strange sort of bug here. This is what I&#39;m sending to the DataMatrixWriter once I&#39;ve preprocessed the input string (spaces are &lt;GS&gt;): \r\n\r\n[d29100001  21000000049347037  24000163718  390300000002990 \r\n\r\nWhat I find rather obscure is that if I (at the time of writing) send `input.substring(2, input.length());` or `input.substring(0, input.length()-3);` then it works just fine, while if I instead remove only one (or less) character from the beginning or 2 or less from the end then I get this strange DataMatrix. What&#39;s even stranger is that this behaviour is not even consistent - if I add say 6 some random numbers at the end then it works fine, but if I then remove three of those numbers then I again I get the problem. And worst of all, an hour ago I couldn&#39;t send in `input.substring(0, input.length()-3)`, but now I can.\r\n\r\nIn other words, I&#39;m utterly perplexed.\r\n\r\n(PS. I am using the code found [here][2] to scale the DataMatrix to the size I want, but it&#39;s zxing that gives the wrong output from the start.)\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/tX6p7.png\r\n  [2]: https://stackoverflow.com/questions/22766017/datamatrix-encoding-with-zxing-only-generates-14px-bitmap?answertab=votes#tab-top","title":"How to handle FNC1/&lt;GS&gt; when encoding GS1 compatible DataMatrix code?","body":"<p>I get my DataMatrix code using the following line:</p>\n\n<p><code>BitMatrix bitMatrix = new DataMatrixWriter().encode(dmie.preEncodeBarcode(dataToEncode), BarcodeFormat.DATA_MATRIX, 50, 50, null);</code></p>\n\n<p>The input string I get contains \"FNC1\" (just as plain characters in the string) to mark the end of a dynamic field, and in total the string has 4 different GS1 DataMatrix Application Identifiers and their respective values.</p>\n\n<p>What preEncodeBarcode() does is to replace \"FNC1\" with <code>&lt;GS&gt;</code>, like so:</p>\n\n<p><code>input = input.replaceAll(\"FNC1\", new String(new byte[] {0x1d}));</code></p>\n\n<p>Since otherwise I simply get \"FNC1910005FNC1230202[...]\" encoded in the DataMatrix, while what I want is of course <code>&lt;GS&gt;</code> instead of the text \"FNC1\".</p>\n\n<p>However, when replacing FNC1 with <code>&lt;GS&gt;</code> (I've tried using '\\u001c' as well), I get this very strange double-DM-code instead of a normal one: </p>\n\n<p><a href=\"https://i.stack.imgur.com/tX6p7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tX6p7.png\" alt=\"Strange-double-data-matrix\"></a></p>\n\n<p>Only if I skip replacing \"FNC1\" with <code>&lt;GS&gt;</code> do I get a proper one.</p>\n\n<p>Any idea how to get a proper DataMatrix code based on my <code>&lt;GS&gt;</code>-containing String? Or am I simply doing something wrong by having <code>&lt;GS&gt;</code> directly in the String? What should I do instead in that case to get zxing to give me a correct DataMatrix? I've been reading all over but I really can't wrap my head around this.</p>\n\n<p>Update: I'm not sure, but I might be on to some strange sort of bug here. This is what I'm sending to the DataMatrixWriter once I've preprocessed the input string (spaces are ): </p>\n\n<p>[d29100001  21000000049347037  24000163718  390300000002990 </p>\n\n<p>What I find rather obscure is that if I (at the time of writing) send <code>input.substring(2, input.length());</code> or <code>input.substring(0, input.length()-3);</code> then it works just fine, while if I instead remove only one (or less) character from the beginning or 2 or less from the end then I get this strange DataMatrix. What's even stranger is that this behaviour is not even consistent - if I add say 6 some random numbers at the end then it works fine, but if I then remove three of those numbers then I again I get the problem. And worst of all, an hour ago I couldn't send in <code>input.substring(0, input.length()-3)</code>, but now I can.</p>\n\n<p>In other words, I'm utterly perplexed.</p>\n\n<p>(PS. I am using the code found <a href=\"https://stackoverflow.com/questions/22766017/datamatrix-encoding-with-zxing-only-generates-14px-bitmap?answertab=votes#tab-top\">here</a> to scale the DataMatrix to the size I want, but it's zxing that gives the wrong output from the start.)</p>\n"},{"tags":["java","collections","immutability"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1612539842,"post_id":66066233,"comment_id":116806907,"body_markdown":"Needs code.  What did you try?  Can you show us how you produce the problem?","body":"Needs code.  What did you try?  Can you show us how you produce the problem?"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1612540046,"post_id":66066233,"comment_id":116806998,"body_markdown":"Yes, that collection violates the [Liskov substitution principle](https://en.wikipedia.org/wiki/Liskov_substitution_principle) for multiple reasons and you have encountered one of those cases and the reason for why classes should strive NOT to violate that principle. There is no clean way around this specific issue, you could check the actual object type and then do different checks depending on it, but that is a code smell as well. Btw: you can add items to collections but this class throws exceptions instead, bad idea as well but it is the way it is.","body":"Yes, that collection violates the <a href=\"https://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow noreferrer\">Liskov substitution principle</a> for multiple reasons and you have encountered one of those cases and the reason for why classes should strive NOT to violate that principle. There is no clean way around this specific issue, you could check the actual object type and then do different checks depending on it, but that is a code smell as well. Btw: you can add items to collections but this class throws exceptions instead, bad idea as well but it is the way it is."},{"owner":{"account_id":8793652,"reputation":740,"user_id":6572357,"display_name":"D&#225;niel Somogyi"},"score":0,"creation_date":1612541515,"post_id":66066233,"comment_id":116807636,"body_markdown":"@markspace You reproduce just how I said: call `.contains(null)` on any ImmutableCollection (e.g. ImmutableList)","body":"@markspace You reproduce just how I said: call <code>.contains(null)</code> on any ImmutableCollection (e.g. ImmutableList)"},{"owner":{"account_id":8793652,"reputation":740,"user_id":6572357,"display_name":"D&#225;niel Somogyi"},"score":0,"creation_date":1612541642,"post_id":66066233,"comment_id":116807702,"body_markdown":"@luk2302 thanks for the Principles. That was my Problem, but I did not have a name for it. \nI also know that it throws an error when you insert (that&#39;s why it&#39;s immutable), but I find it strange for the contains function...","body":"@luk2302 thanks for the Principles. That was my Problem, but I did not have a name for it.  I also know that it throws an error when you insert (that&#39;s why it&#39;s immutable), but I find it strange for the contains function..."}],"answers":[{"comments":[{"owner":{"account_id":8793652,"reputation":740,"user_id":6572357,"display_name":"D&#225;niel Somogyi"},"score":1,"creation_date":1612543846,"post_id":66066821,"comment_id":116808641,"body_markdown":"It helps, thanks. A few Comments: IHM has &#39;strange&#39; behaviour, but it states it in a very clear manner. On the other hand, it took me a while to even find ImmutableCollection as the root of my problem... I guess I did not expect such behaviour in the java.util package. Also, your code `x == null || x.isEmpty()` is not enough, i really need to know weather null is in the collection (if it&#39;s not immutable, of course). Guess I need an instanceof..","body":"It helps, thanks. A few Comments: IHM has &#39;strange&#39; behaviour, but it states it in a very clear manner. On the other hand, it took me a while to even find ImmutableCollection as the root of my problem... I guess I did not expect such behaviour in the java.util package. Also, your code <code>x == null || x.isEmpty()</code> is not enough, i really need to know weather null is in the collection (if it&#39;s not immutable, of course). Guess I need an instanceof.."},{"owner":{"account_id":8793652,"reputation":740,"user_id":6572357,"display_name":"D&#225;niel Somogyi"},"score":0,"creation_date":1612544433,"post_id":66066821,"comment_id":116808862,"body_markdown":"and For your idea with marbles: if you hand me `grue` I expect you to hand me an equality function, and I just check `areEqual(e, grue)` for each of my elements. If any of them returns true I return true, else false","body":"and For your idea with marbles: if you hand me <code>grue</code> I expect you to hand me an equality function, and I just check <code>areEqual(e, grue)</code> for each of my elements. If any of them returns true I return true, else false"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1612547372,"post_id":66066821,"comment_id":116810072,"body_markdown":"Wait, @D&#225;nielSomogyi - what are you on about? ImmutableCollection __is not in java.util__. It is part of the guava library: Surely we are talking about [this ImmutableCollection](https://guava.dev/releases/19.0/api/docs/com/google/common/collect/ImmutableCollection.html), right? null __cannot be__ in the collection. Assuming it&#39;s guava ImmutableCollection It&#39;s impossible. `add` throws. The `contains` method in the `j.u.Collection` interface does not allow for an equality function, so you can&#39;t cop out with that answer.","body":"Wait, @D&#225;nielSomogyi - what are you on about? ImmutableCollection <b>is not in java.util</b>. It is part of the guava library: Surely we are talking about <a href=\"https://guava.dev/releases/19.0/api/docs/com/google/common/collect/ImmutableCollection.html\" rel=\"nofollow noreferrer\">this ImmutableCollection</a>, right? null <b>cannot be</b> in the collection. Assuming it&#39;s guava ImmutableCollection It&#39;s impossible. <code>add</code> throws. The <code>contains</code> method in the <code>j.u.Collection</code> interface does not allow for an equality function, so you can&#39;t cop out with that answer."},{"owner":{"account_id":8793652,"reputation":740,"user_id":6572357,"display_name":"D&#225;niel Somogyi"},"score":0,"creation_date":1612548730,"post_id":66066821,"comment_id":116810559,"body_markdown":"yeah, first I mixed things up. I thought javas ImmutableCollections (e.g. returned from `java.util.List.of()`) and guaves ImmutableCollection are the same. (mixed things up while searching for a solution). I also know that you can&#39;t handle an equality to any of the contains functions, that was just my thought on how to handle &#39;grue&#39;. imho It is Javas flaw, that the general equality-function depends on one of the two objects being non-null AND you even have to know which one (e.g. null.equals(a) fails).","body":"yeah, first I mixed things up. I thought javas ImmutableCollections (e.g. returned from <code>java.util.List.of()</code>) and guaves ImmutableCollection are the same. (mixed things up while searching for a solution). I also know that you can&#39;t handle an equality to any of the contains functions, that was just my thought on how to handle &#39;grue&#39;. imho It is Javas flaw, that the general equality-function depends on one of the two objects being non-null AND you even have to know which one (e.g. null.equals(a) fails)."},{"owner":{"account_id":8793652,"reputation":740,"user_id":6572357,"display_name":"D&#225;niel Somogyi"},"score":0,"creation_date":1612549402,"post_id":66066821,"comment_id":116810796,"body_markdown":"edit: of course you also can use Objects.equals. And I just found the detail in the [Java documentation](https://docs.oracle.com/javase/9/docs/api/java/util/List.html#contains-java.lang.Object-): &quot;More formally, returns true if and only if this list contains at least one element e such that `Objects.equals(o, e).`&quot; (and I also found, that NPE is allowed for lists, that prohibit the use of null)","body":"edit: of course you also can use Objects.equals. And I just found the detail in the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html#contains-java.lang.Object-\" rel=\"nofollow noreferrer\">Java documentation</a>: &quot;More formally, returns true if and only if this list contains at least one element e such that <code>Objects.equals(o, e).</code>&quot; (and I also found, that NPE is allowed for lists, that prohibit the use of null)"},{"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"score":3,"creation_date":1623571330,"post_id":66066821,"comment_id":120112535,"body_markdown":"So uhh... no one here thought of checking whether this allegation against Guava was at any time true? :-)","body":"So uhh... no one here thought of checking whether this allegation against Guava was at any time true? :-)"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1623601758,"post_id":66066821,"comment_id":120120064,"body_markdown":"@KevinBourrillion The &#39;allegation&#39; of guava&#39;s take on null being somewhat similar to SQLs take (namely: That it means unknown / unexpected, and as a consequence, usually there is no way to answer any questions when null is involved, thus, an exception is better than an arbitrary answer&#39; bit? I actually quite like that take on null so I&#39;m not entirely certain &#39;allegation&#39; is the best choice of words. If you&#39;re referring to something else, please. I&#39;m always interested in API design debates with someone whose track record contains quite a few APIs I&#39;m fond of.","body":"@KevinBourrillion The &#39;allegation&#39; of guava&#39;s take on null being somewhat similar to SQLs take (namely: That it means unknown / unexpected, and as a consequence, usually there is no way to answer any questions when null is involved, thus, an exception is better than an arbitrary answer&#39; bit? I actually quite like that take on null so I&#39;m not entirely certain &#39;allegation&#39; is the best choice of words. If you&#39;re referring to something else, please. I&#39;m always interested in API design debates with someone whose track record contains quite a few APIs I&#39;m fond of."},{"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"score":0,"creation_date":1624216353,"post_id":66066821,"comment_id":120291754,"body_markdown":"Note: I use &quot;allegation&quot; a little tongue-in-cheek just because of how much *I* dislike this design choice. Sure, it&#39;s fine to &quot;like that take on null&quot; in general, but we&#39;re talking about `Collection` in particular. Here, `contains(null)` has a single unambiguous well-defined meaning shared by every subtype you can think of except these throwing ones. And these throwing ones are perfectly able to adhere to that same specification, and no one who called it could reasonably claim surprise at what it did.","body":"Note: I use &quot;allegation&quot; a little tongue-in-cheek just because of how much <i>I</i> dislike this design choice. Sure, it&#39;s fine to &quot;like that take on null&quot; in general, but we&#39;re talking about <code>Collection</code> in particular. Here, <code>contains(null)</code> has a single unambiguous well-defined meaning shared by every subtype you can think of except these throwing ones. And these throwing ones are perfectly able to adhere to that same specification, and no one who called it could reasonably claim surprise at what it did."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686041857,"post_id":66066821,"comment_id":134741312,"body_markdown":"@KevinBourrillion `Collection.contains` is allowed to throw a `NullPointerException` and always has been. And there are collections doing so since day one, e.g. `TreeSet` or the `keySet()` and `values()` of the legacy `Hashtable` class. The concurrent collections added in Java&#160;5 also throw on `contains(null)`.","body":"@KevinBourrillion <code>Collection.contains</code> is allowed to throw a <code>NullPointerException</code> and always has been. And there are collections doing so since day one, e.g. <code>TreeSet</code> or the <code>keySet()</code> and <code>values()</code> of the legacy <code>Hashtable</code> class. The concurrent collections added in Java 5 also throw on <code>contains(null)</code>."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":9,"down_vote_count":4,"up_vote_count":4,"is_accepted":false,"score":0,"last_activity_date":1612542032,"creation_date":1612542032,"answer_id":66066821,"question_id":66066233,"body_markdown":"&gt; why does in Java the call coll.contains(null) fail for ImmutableCollections?\r\n\r\nBecause the design team (the ones who have created guava) decided that, for their collections, null is unwanted, and therefore any interaction between their collections and a `null` check, even in this case, should just throw to highlight to the programmer, at the earliest possible opportunity, that there is a mismatch. Even where the established behaviour (as per the existing implementations in the core runtime itself, such as ArrayList and friends, as well as the javadoc), rather explicitly go the other way and say that a non-sequitur check (is this pear part of this list of apples?) strongly suggests that the right move is to just return `false` and not throw.\r\n\r\nIn other words, guava messed up. But now that they have done so, going back is potentially backwards compatibility breaking. It really isn&#39;t very - you are replacing an exception thrown with a `false` return value; presumably code could be out there that relies on the NPE (catching it and doing something different from what the code would do had `contains(null)` returned false instead of throwing) - but that&#39;s a rare case, and guava breaks backwards compatibility all the time.\r\n\r\n&gt; And how can I properly check for nulls in a Collection in general?\r\n\r\nBy calling `.contains(null)`, just as you are. The fact that guava doesn&#39;t do it right doesn&#39;t change the answer. You might as well ask &#39;how do I add elements to a list&#39;, and counter the answer of &quot;well, you call `list.add(item)` to do that&quot; with: Well, I have this implementation of the List interface that plays Rick Astley over the speaker instead of adding to the list, so, I reject your answer.\r\n\r\nThat&#39;s.. how java and interfaces work: You can have implementations of them, and the only guardianship that they do what the interface dictates they must, is that the author understands there is a contract that needs to be followed.\r\n\r\nNow, normally a library so badly written they break contract for no good reason*, isn&#39;t popular. But guava IS popular. Very popular. That gets at a simple truth: No library is perfect. Guava&#39;s API design is generally quite good (in my opinion, _vastly_ superior to e.g. Apache commons libraries), and the team actively spends a lot of time debating proper API design, in the sense that the code that one would write using guava is nice (as defined by: Easy to understand, has few surprises, easy to maintain, easy to test, and probably easy to mutate to deal with changing requirements - the only useful definition for nebulous terms like &#39;nice&#39; or &#39;elegant&#39; code - it&#39;s code that does those things, anything else is pointless aesthetic drivel). In other words, they are actively trying, and they usually get it right.\r\n\r\nJust, not in this case. Work around it: `return item != null &amp;&amp; coll.contains(item);` will get the job done.\r\n\r\nThere is one major argument in favour of guava&#39;s choice: They &#39;contract break&#39; is an implicit break - one would expect that `.contains(null)` works, and always returns false, but it&#39;s not _explicitly_ stated in the javadoc that one must do this. Contrast to e.g. `IdentityHashMap`, which uses identity equivalence (`a==b`) and not value equality (`a.equals(b)`) in its `.containsKey` etc implementations, which _explicitly_ goes against the javadoc contract as stated in the `j.u.Map` interface. IHM has an excellent reason for it, and highlights the discrepancy, plus explains the reason, in the javadoc. Guava isn&#39;t nearly as clear about their bizarre null behaviour, but, here&#39;s a crucial thing about null in java:\r\n\r\nIts meaning is nebulous. Sometimes it means &#39;empty&#39;, which is bad design: You should never write `if (x == null || x.isEmpty())` - that implies some API is badly coded. If null is semantically equivalent to some value (such as `&quot;&quot;` or `List.of()`), then you should just return `&quot;&quot;` or `List.of()`, and not null. However, in such a design, `list.contains(null) == false`) would make sense.\r\n\r\nBut sometimes null means `not found`, `irrelevant`, `not applicable`, or `unknown` (for example, if `map.get(k)` returns null, that&#39;s what it means: Not found. Not &#39;I found an empty value for you&#39;). This matches with what NULL means in e.g. SQL. In all those cases, `.contains(null)` should be returning neither true nor false. If I hand you a bag of marbles and ask you if there is a marble in there that is grue, and you have no idea what `grue` means, you shouldn&#39;t answer either `yes` or `no` to my query: Either answer is a meaningless guess. You should tell me that the question cannot be answered. Which is best represented in java by throwing, which is precisely what guava does. This also matches with what NULL does in SQL. In SQL, `v IN (x)` returns one of 3 values, not 2 values: It can resolve to `true`, `false`, or `null`. `v IN (NULL)` would resolve to NULL and not `false`. It is answering a question that can&#39;t be answered with the NULL value, which is to be read as: Don&#39;t know.\r\n\r\nIn other words, guava made a call on what `null` implies which evidently does not match with your definitions, as you expect `.contains(null)` to return false. I think your viewpoint is more idiomatic, but the point is, guava&#39;s viewpoint is different but also consistent, and the javadoc merely insinuates, but does not explicitly demand, that `.contains(null)` returns false.\r\n\r\nThat&#39;s not useful whatsoever in fixing your code, but hopefully it gives you a mental model, and answers your question of &quot;why does it work like this?&quot;.\r\n","title":"Why does ImmutableCollection.contains(null) fail?","body":"<blockquote>\n<p>why does in Java the call coll.contains(null) fail for ImmutableCollections?</p>\n</blockquote>\n<p>Because the design team (the ones who have created guava) decided that, for their collections, null is unwanted, and therefore any interaction between their collections and a <code>null</code> check, even in this case, should just throw to highlight to the programmer, at the earliest possible opportunity, that there is a mismatch. Even where the established behaviour (as per the existing implementations in the core runtime itself, such as ArrayList and friends, as well as the javadoc), rather explicitly go the other way and say that a non-sequitur check (is this pear part of this list of apples?) strongly suggests that the right move is to just return <code>false</code> and not throw.</p>\n<p>In other words, guava messed up. But now that they have done so, going back is potentially backwards compatibility breaking. It really isn't very - you are replacing an exception thrown with a <code>false</code> return value; presumably code could be out there that relies on the NPE (catching it and doing something different from what the code would do had <code>contains(null)</code> returned false instead of throwing) - but that's a rare case, and guava breaks backwards compatibility all the time.</p>\n<blockquote>\n<p>And how can I properly check for nulls in a Collection in general?</p>\n</blockquote>\n<p>By calling <code>.contains(null)</code>, just as you are. The fact that guava doesn't do it right doesn't change the answer. You might as well ask 'how do I add elements to a list', and counter the answer of &quot;well, you call <code>list.add(item)</code> to do that&quot; with: Well, I have this implementation of the List interface that plays Rick Astley over the speaker instead of adding to the list, so, I reject your answer.</p>\n<p>That's.. how java and interfaces work: You can have implementations of them, and the only guardianship that they do what the interface dictates they must, is that the author understands there is a contract that needs to be followed.</p>\n<p>Now, normally a library so badly written they break contract for no good reason*, isn't popular. But guava IS popular. Very popular. That gets at a simple truth: No library is perfect. Guava's API design is generally quite good (in my opinion, <em>vastly</em> superior to e.g. Apache commons libraries), and the team actively spends a lot of time debating proper API design, in the sense that the code that one would write using guava is nice (as defined by: Easy to understand, has few surprises, easy to maintain, easy to test, and probably easy to mutate to deal with changing requirements - the only useful definition for nebulous terms like 'nice' or 'elegant' code - it's code that does those things, anything else is pointless aesthetic drivel). In other words, they are actively trying, and they usually get it right.</p>\n<p>Just, not in this case. Work around it: <code>return item != null &amp;&amp; coll.contains(item);</code> will get the job done.</p>\n<p>There is one major argument in favour of guava's choice: They 'contract break' is an implicit break - one would expect that <code>.contains(null)</code> works, and always returns false, but it's not <em>explicitly</em> stated in the javadoc that one must do this. Contrast to e.g. <code>IdentityHashMap</code>, which uses identity equivalence (<code>a==b</code>) and not value equality (<code>a.equals(b)</code>) in its <code>.containsKey</code> etc implementations, which <em>explicitly</em> goes against the javadoc contract as stated in the <code>j.u.Map</code> interface. IHM has an excellent reason for it, and highlights the discrepancy, plus explains the reason, in the javadoc. Guava isn't nearly as clear about their bizarre null behaviour, but, here's a crucial thing about null in java:</p>\n<p>Its meaning is nebulous. Sometimes it means 'empty', which is bad design: You should never write <code>if (x == null || x.isEmpty())</code> - that implies some API is badly coded. If null is semantically equivalent to some value (such as <code>&quot;&quot;</code> or <code>List.of()</code>), then you should just return <code>&quot;&quot;</code> or <code>List.of()</code>, and not null. However, in such a design, <code>list.contains(null) == false</code>) would make sense.</p>\n<p>But sometimes null means <code>not found</code>, <code>irrelevant</code>, <code>not applicable</code>, or <code>unknown</code> (for example, if <code>map.get(k)</code> returns null, that's what it means: Not found. Not 'I found an empty value for you'). This matches with what NULL means in e.g. SQL. In all those cases, <code>.contains(null)</code> should be returning neither true nor false. If I hand you a bag of marbles and ask you if there is a marble in there that is grue, and you have no idea what <code>grue</code> means, you shouldn't answer either <code>yes</code> or <code>no</code> to my query: Either answer is a meaningless guess. You should tell me that the question cannot be answered. Which is best represented in java by throwing, which is precisely what guava does. This also matches with what NULL does in SQL. In SQL, <code>v IN (x)</code> returns one of 3 values, not 2 values: It can resolve to <code>true</code>, <code>false</code>, or <code>null</code>. <code>v IN (NULL)</code> would resolve to NULL and not <code>false</code>. It is answering a question that can't be answered with the NULL value, which is to be read as: Don't know.</p>\n<p>In other words, guava made a call on what <code>null</code> implies which evidently does not match with your definitions, as you expect <code>.contains(null)</code> to return false. I think your viewpoint is more idiomatic, but the point is, guava's viewpoint is different but also consistent, and the javadoc merely insinuates, but does not explicitly demand, that <code>.contains(null)</code> returns false.</p>\n<p>That's not useful whatsoever in fixing your code, but hopefully it gives you a mental model, and answers your question of &quot;why does it work like this?&quot;.</p>\n"},{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1623601892,"post_id":67956082,"comment_id":120120094,"body_markdown":"So, `immutableList.contains(null)` should, as per the principles of Guava&#39;s spec/API design, resolve to `false` instead of to throwing an NPE? I can see how the vast majority of folks who ran into this didn&#39;t think to file a bug and assumed it was intended behaviour (I certainly did!)","body":"So, <code>immutableList.contains(null)</code> should, as per the principles of Guava&#39;s spec/API design, resolve to <code>false</code> instead of to throwing an NPE? I can see how the vast majority of folks who ran into this didn&#39;t think to file a bug and assumed it was intended behaviour (I certainly did!)"},{"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"score":1,"creation_date":1623603628,"post_id":67956082,"comment_id":120120566,"body_markdown":"I&#39;m sorry: who ran into _what_? Is there a Guava collection that&#39;s throwing in this case?","body":"I&#39;m sorry: who ran into <i>what</i>? Is there a Guava collection that&#39;s throwing in this case?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1624241353,"post_id":67956082,"comment_id":120295642,"body_markdown":"@KevinBourillion brainfart. The eyes see `return false;` and the brain parsed `throw new NullPointerException`. Brain has been duly castigated.","body":"@KevinBourillion brainfart. The eyes see <code>return false;</code> and the brain parsed <code>throw new NullPointerException</code>. Brain has been duly castigated."},{"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"score":3,"creation_date":1628027911,"post_id":67956082,"comment_id":121311743,"body_markdown":"I&#39;m relieved.  But since that comment.... we found one!  `EvictingQueue` has been doing this. So we&#39;re fixing it.","body":"I&#39;m relieved.  But since that comment.... we found one!  <code>EvictingQueue</code> has been doing this. So we&#39;re fixing it."}],"tags":[],"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"comment_count":4,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1623571691,"creation_date":1623571182,"answer_id":67956082,"question_id":66066233,"body_markdown":"I am distressed by this discussion!\r\n\r\nCollections that do this have been a pet peeve of mine since before I wrote the first collections that eventually became Guava. If you find any Guava collection that throws NPE just because you asked it a perfectly innocent question like `.contains(null)`, please file a bug! We hate that crap.\r\n\r\nEDIT: I was so distressed that I had to go back to look at my 2007 changelist that first created ImmutableSet and saw literally this:\r\n\r\n```\r\n  @Override public boolean contains(@Nullable Object target) {\r\n    if (target == null) {\r\n      return false;\r\n    }\r\n```\r\n\r\nahhhhh.\r\n","title":"Why does ImmutableCollection.contains(null) fail?","body":"<p>I am distressed by this discussion!</p>\n<p>Collections that do this have been a pet peeve of mine since before I wrote the first collections that eventually became Guava. If you find any Guava collection that throws NPE just because you asked it a perfectly innocent question like <code>.contains(null)</code>, please file a bug! We hate that crap.</p>\n<p>EDIT: I was so distressed that I had to go back to look at my 2007 changelist that first created ImmutableSet and saw literally this:</p>\n<pre><code>  @Override public boolean contains(@Nullable Object target) {\n    if (target == null) {\n      return false;\n    }\n</code></pre>\n<p>ahhhhh.</p>\n"},{"tags":[],"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680174908,"creation_date":1680174305,"answer_id":75887421,"question_id":66066233,"body_markdown":"The problem gets worse, if calling `containsAll()` on `ImmutableCollections`:\r\n\r\n    @Override\r\n    public boolean contains(Object o) {\r\n        return o.equals(e0) || e1.equals(o); // implicit nullcheck of o\r\n    }\r\n\r\nwhich uses `AbstractCollection`&#39;s super implementation:\r\n\r\n    public boolean containsAll(Collection&lt;?&gt; c) {\r\n        for (Object e : c)\r\n            if (!contains(e))\r\n                return false;\r\n        return true;\r\n    }\r\n\r\nThis provokes a `NullPointerException`, as soon as the (disallowing null) ImmutableCollection&#39;s check against another Collection (that allows null) encounters a `null` reference.\r\n\r\nSo, when trying something like this, where an `ImmutableCollection` is compared against a `HashSet` (in OpenJDK 15):\r\n\r\n    Set.of(&quot;&quot;).containsAll(Stream.of((Object)null).collect(Collectors.toSet()));\r\n\r\nA `NullPointerException` is thrown. Things like that can make it very unpleasant to work with the &#39;modern&#39; Collection API in projects, that have a way back history.\r\n\r\nYou&#39;d have to do a potentially absurd explicit check of the compared &#39;legacy&#39; Collection beforehand like this:\r\n\r\n    Collection coll = Stream.of((Object)null).collect(Collectors.toSet());\r\n    boolean hasNull = coll == null || coll.contains(null);\r\n    if (!hasNull) {\r\n        Set.of(&quot;&quot;).containsAll(coll);\r\n    }","title":"Why does ImmutableCollection.contains(null) fail?","body":"<p>The problem gets worse, if calling <code>containsAll()</code> on <code>ImmutableCollections</code>:</p>\n<pre><code>@Override\npublic boolean contains(Object o) {\n    return o.equals(e0) || e1.equals(o); // implicit nullcheck of o\n}\n</code></pre>\n<p>which uses <code>AbstractCollection</code>'s super implementation:</p>\n<pre><code>public boolean containsAll(Collection&lt;?&gt; c) {\n    for (Object e : c)\n        if (!contains(e))\n            return false;\n    return true;\n}\n</code></pre>\n<p>This provokes a <code>NullPointerException</code>, as soon as the (disallowing null) ImmutableCollection's check against another Collection (that allows null) encounters a <code>null</code> reference.</p>\n<p>So, when trying something like this, where an <code>ImmutableCollection</code> is compared against a <code>HashSet</code> (in OpenJDK 15):</p>\n<pre><code>Set.of(&quot;&quot;).containsAll(Stream.of((Object)null).collect(Collectors.toSet()));\n</code></pre>\n<p>A <code>NullPointerException</code> is thrown. Things like that can make it very unpleasant to work with the 'modern' Collection API in projects, that have a way back history.</p>\n<p>You'd have to do a potentially absurd explicit check of the compared 'legacy' Collection beforehand like this:</p>\n<pre><code>Collection coll = Stream.of((Object)null).collect(Collectors.toSet());\nboolean hasNull = coll == null || coll.contains(null);\nif (!hasNull) {\n    Set.of(&quot;&quot;).containsAll(coll);\n}\n</code></pre>\n"}],"owner":{"account_id":8793652,"reputation":740,"user_id":6572357,"display_name":"D&#225;niel Somogyi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4117,"favorite_count":0,"down_vote_count":3,"up_vote_count":8,"accepted_answer_id":67956082,"answer_count":3,"score":5,"last_activity_date":1680174908,"creation_date":1612539794,"question_id":66066233,"body_markdown":"Question ahead:\r\nwhy does in Java the call `coll.contains(null)` fail for ImmutableCollections?\r\n\r\nI know, that immutable collections cannot contain null-elements, and I do not want to discuss whether that&#39;s good or bad.\r\n\r\nBut when I write a Function, that takes a (general, not explicit immutable) Collection, it fails upon checking for nulls. Why does the implementation not return false (which is actually the &#39;correct&#39; answer)?\r\n\r\nAnd how can I properly check for nulls in a `Collection` in general?\r\n\r\n**Edit:** \r\nwith some discussions (thanks to the commenters!) I realized, that I mixed up two things: [ImmutableCollection](https://guava.dev/releases/19.0/api/docs/com/google/common/collect/ImmutableCollection.html) from the guava library, and the List returned by [java.util.List.of](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#of(E)), being some class from ImmutableCollections. However, both classes throw an NPE on `.contains(null)`.\r\n \r\nMy problem was with the `List.of` result, but technically the same would happen with guaves implementation. [edit: It does not]","title":"Why does ImmutableCollection.contains(null) fail?","body":"<p>Question ahead:\nwhy does in Java the call <code>coll.contains(null)</code> fail for ImmutableCollections?</p>\n<p>I know, that immutable collections cannot contain null-elements, and I do not want to discuss whether that's good or bad.</p>\n<p>But when I write a Function, that takes a (general, not explicit immutable) Collection, it fails upon checking for nulls. Why does the implementation not return false (which is actually the 'correct' answer)?</p>\n<p>And how can I properly check for nulls in a <code>Collection</code> in general?</p>\n<p><strong>Edit:</strong>\nwith some discussions (thanks to the commenters!) I realized, that I mixed up two things: <a href=\"https://guava.dev/releases/19.0/api/docs/com/google/common/collect/ImmutableCollection.html\" rel=\"nofollow noreferrer\">ImmutableCollection</a> from the guava library, and the List returned by <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#of(E)\" rel=\"nofollow noreferrer\">java.util.List.of</a>, being some class from ImmutableCollections. However, both classes throw an NPE on <code>.contains(null)</code>.</p>\n<p>My problem was with the <code>List.of</code> result, but technically the same would happen with guaves implementation. [edit: It does not]</p>\n"},{"tags":["java","qr-code","zxing"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1680006152,"post_id":75865905,"comment_id":133819707,"body_markdown":"Never assume we know what API you&#39;re using. Unless only the standard JRE library is being used, always state what API you&#39;re using. It looks like whatever is &#39;doing OCR&#39; is having character encoding problems or missing glyph problems somewhere in the chain. *Where* are you seeing that question mark?","body":"Never assume we know what API you&#39;re using. Unless only the standard JRE library is being used, always state what API you&#39;re using. It looks like whatever is &#39;doing OCR&#39; is having character encoding problems or missing glyph problems somewhere in the chain. <i>Where</i> are you seeing that question mark?"},{"owner":{"account_id":9165187,"reputation":1165,"user_id":7783649,"display_name":"samar taj Shaikh"},"score":0,"creation_date":1680006640,"post_id":75865905,"comment_id":133819822,"body_markdown":"as i said, after generating a QR code against a string. When i am scanning the QR code via my mobile-phone the QR code text generated after scanning has `?` in place of `₹`","body":"as i said, after generating a QR code against a string. When i am scanning the QR code via my mobile-phone the QR code text generated after scanning has <code>?</code> in place of <code>₹</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1680006817,"post_id":75865905,"comment_id":133819871,"body_markdown":"Please also attach the calling code to your question, showing how that Rupee sign is being input","body":"Please also attach the calling code to your question, showing how that Rupee sign is being input"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1680008123,"post_id":75865905,"comment_id":133820257,"body_markdown":"Adding `Map.of(EncodeHintType.CHARACTER_SET, &quot;UTF-8&quot;)` as the last parameter to of the `encode()` method made it work for me.","body":"Adding <code>Map.of(EncodeHintType.CHARACTER_SET, &quot;UTF-8&quot;)</code> as the last parameter to of the <code>encode()</code> method made it work for me."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1680009376,"post_id":75865905,"comment_id":133820663,"body_markdown":"Yes. Strange that it doesn&#39;t default to UTF-8","body":"Yes. Strange that it doesn&#39;t default to UTF-8"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1680105357,"post_id":75865905,"comment_id":133842020,"body_markdown":"Also see [What are the supported values for CHARACTER_SET](https://groups.google.com/g/zxing/c/i8ABpVs9mjc) if you want to be certain that the specified value of `EncodeHintType.CHARACTER_SET` is valid at runtime.","body":"Also see <a href=\"https://groups.google.com/g/zxing/c/i8ABpVs9mjc\" rel=\"nofollow noreferrer\">What are the supported values for CHARACTER_SET</a> if you want to be certain that the specified value of <code>EncodeHintType.CHARACTER_SET</code> is valid at runtime."}],"owner":{"account_id":9165187,"reputation":1165,"user_id":7783649,"display_name":"samar taj Shaikh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680174813,"answer_count":0,"score":0,"last_activity_date":1680174794,"creation_date":1680004325,"question_id":75865905,"body_markdown":"This is the function I am using to generate a QR file:\r\n\r\n    import com.google.zxing.BarcodeFormat;\r\n    import com.google.zxing.WriterException;\r\n    import com.google.zxing.client.j2se.MatrixToImageWriter;\r\n    import com.google.zxing.common.BitMatrix;\r\n    import com.google.zxing.qrcode.QRCodeWriter;\r\n\r\n    public boolean generateQRCode(String qrCodeContent, String filePath, int width, int height) {\r\n        try {\r\n            QRCodeWriter qrCodeWriter = new QRCodeWriter();\r\n            BitMatrix bitMatrix = qrCodeWriter.encode(qrCodeContent, BarcodeFormat.QR_CODE, width, height);\r\n            Path path = Paths.get(filePath);\r\n            MatrixToImageWriter.writeToPath(bitMatrix, &quot;PNG&quot;, path);\r\n            return true;\r\n        } catch (WriterException | IOException e) {\r\n            log.error(&quot;Exception occurred while generating QR Code&quot;, e);\r\n        }\r\n        return false;\r\n    }\r\n\r\nWhen I am sending the `₹` symbol in `qrCodeContent` string, nothing goes wrong, the QR code gets generated successfully.\r\n\r\nHowever, when I scan the code, all those places where `₹` was there are replaced by `?`.\r\n\r\nThe variable `qrCodeContent` is of type `String` which contains a normal string with literals like `Your total saving are ₹ 100.00`.","title":"₹ symbol on scaning generated QR code is replaced by &#39;?&#39; symbol","body":"<p>This is the function I am using to generate a QR file:</p>\n<pre><code>import com.google.zxing.BarcodeFormat;\nimport com.google.zxing.WriterException;\nimport com.google.zxing.client.j2se.MatrixToImageWriter;\nimport com.google.zxing.common.BitMatrix;\nimport com.google.zxing.qrcode.QRCodeWriter;\n\npublic boolean generateQRCode(String qrCodeContent, String filePath, int width, int height) {\n    try {\n        QRCodeWriter qrCodeWriter = new QRCodeWriter();\n        BitMatrix bitMatrix = qrCodeWriter.encode(qrCodeContent, BarcodeFormat.QR_CODE, width, height);\n        Path path = Paths.get(filePath);\n        MatrixToImageWriter.writeToPath(bitMatrix, &quot;PNG&quot;, path);\n        return true;\n    } catch (WriterException | IOException e) {\n        log.error(&quot;Exception occurred while generating QR Code&quot;, e);\n    }\n    return false;\n}\n</code></pre>\n<p>When I am sending the <code>₹</code> symbol in <code>qrCodeContent</code> string, nothing goes wrong, the QR code gets generated successfully.</p>\n<p>However, when I scan the code, all those places where <code>₹</code> was there are replaced by <code>?</code>.</p>\n<p>The variable <code>qrCodeContent</code> is of type <code>String</code> which contains a normal string with literals like <code>Your total saving are ₹ 100.00</code>.</p>\n"},{"tags":["java","android","database","sqlite","android-room"],"comments":[{"owner":{"account_id":11209879,"reputation":611,"user_id":8224232,"display_name":"m3g4tr0n"},"score":0,"creation_date":1560768596,"post_id":56628647,"comment_id":99831370,"body_markdown":"which file are you opening in SqliteBrowser ?","body":"which file are you opening in SqliteBrowser ?"},{"owner":{"account_id":13856648,"reputation":1610,"user_id":10003284,"display_name":"milad salimi"},"score":0,"creation_date":1560768642,"post_id":56628647,"comment_id":99831394,"body_markdown":"@m3g4tr0n , the first one , but i tried all of them","body":"@m3g4tr0n , the first one , but i tried all of them"},{"owner":{"account_id":11209879,"reputation":611,"user_id":8224232,"display_name":"m3g4tr0n"},"score":0,"creation_date":1560768685,"post_id":56628647,"comment_id":99831415,"body_markdown":"Can you upload your file somewhere from where I could download","body":"Can you upload your file somewhere from where I could download"},{"owner":{"account_id":13856648,"reputation":1610,"user_id":10003284,"display_name":"milad salimi"},"score":0,"creation_date":1560768690,"post_id":56628647,"comment_id":99831417,"body_markdown":"I think its about permission , what do you think?","body":"I think its about permission , what do you think?"},{"owner":{"account_id":11209879,"reputation":611,"user_id":8224232,"display_name":"m3g4tr0n"},"score":0,"creation_date":1560768732,"post_id":56628647,"comment_id":99831435,"body_markdown":"I don&#39;t think so, Sqlite Browser clearly says Invalid File Format","body":"I don&#39;t think so, Sqlite Browser clearly says Invalid File Format"},{"owner":{"account_id":13856648,"reputation":1610,"user_id":10003284,"display_name":"milad salimi"},"score":0,"creation_date":1560768843,"post_id":56628647,"comment_id":99831486,"body_markdown":"@m3g4tr0n , [link](https://filebin.net/bj9wjvck01hbtbl5)","body":"@m3g4tr0n , <a href=\"https://filebin.net/bj9wjvck01hbtbl5\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":11209879,"reputation":611,"user_id":8224232,"display_name":"m3g4tr0n"},"score":0,"creation_date":1560769128,"post_id":56628647,"comment_id":99831633,"body_markdown":"Just tried, I am getting a different error : Could Not Open Database File, Reason file is not a Database","body":"Just tried, I am getting a different error : Could Not Open Database File, Reason file is not a Database"},{"owner":{"account_id":11209879,"reputation":611,"user_id":8224232,"display_name":"m3g4tr0n"},"score":0,"creation_date":1560769156,"post_id":56628647,"comment_id":99831652,"body_markdown":"Add Some Data to tables then try exporting once again","body":"Add Some Data to tables then try exporting once again"},{"owner":{"account_id":13856648,"reputation":1610,"user_id":10003284,"display_name":"milad salimi"},"score":0,"creation_date":1560769358,"post_id":56628647,"comment_id":99831760,"body_markdown":"@m3g4tr0n , you import it in DB browser or other one?","body":"@m3g4tr0n , you import it in DB browser or other one?"},{"owner":{"account_id":11209879,"reputation":611,"user_id":8224232,"display_name":"m3g4tr0n"},"score":0,"creation_date":1560769363,"post_id":56628647,"comment_id":99831765,"body_markdown":"Try adding ```exportSchema``` in ```@Database(entities = {Authentication.class}, version = 1, exportSchema = false) ```","body":"Try adding <code>exportSchema</code> in <code>@Database(entities = {Authentication.class}, version = 1, exportSchema = false) </code>"},{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":0,"creation_date":1560769366,"post_id":56628647,"comment_id":99831768,"body_markdown":"Definitely not an SQLite Database first 16 bytes should be **SQLite format 3\\000** instead the first bytes are &#227;O&#192;D&#243;7QX&#170;&#228;&#210;Ž&#215;&#240;&#244;dw&#212;&#162;. I&#39;d suggest try copying the 3 files again.","body":"Definitely not an SQLite Database first 16 bytes should be <b>SQLite format 3\\000</b> instead the first bytes are &#227;O&#192;D&#243;7QX&#170;&#228;&#210;Ž&#215;&#240;&#244;dw&#212;&#162;. I&#39;d suggest try copying the 3 files again."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1560769419,"post_id":56628647,"comment_id":99831792,"body_markdown":"@MikeT: This is a SQLCipher for Android database; I do not know if they share the same byte header.","body":"@MikeT: This is a SQLCipher for Android database; I do not know if they share the same byte header."},{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":0,"creation_date":1560769553,"post_id":56628647,"comment_id":99831861,"body_markdown":"@CommonsWare then it would need to be opened with the key as I believe that decrypts the entire file.","body":"@CommonsWare then it would need to be opened with the key as I believe that decrypts the entire file."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1560769606,"post_id":56628647,"comment_id":99831887,"body_markdown":"&quot;how can i change permission&quot; -- you need to be copying the files down to your development machine before attempting to use them in some external tool. &quot;open my room database in DB browser?&quot; -- I have no idea if that tool supports SQLCipher databases.","body":"&quot;how can i change permission&quot; -- you need to be copying the files down to your development machine before attempting to use them in some external tool. &quot;open my room database in DB browser?&quot; -- I have no idea if that tool supports SQLCipher databases."},{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":0,"creation_date":1560769754,"post_id":56628647,"comment_id":99831952,"body_markdown":"@CommonsWare I believe you can IF you have a version of DB Browser with SQliteCipher.","body":"@CommonsWare I believe you can IF you have a version of DB Browser with SQliteCipher."},{"owner":{"account_id":13856648,"reputation":1610,"user_id":10003284,"display_name":"milad salimi"},"score":0,"creation_date":1560770370,"post_id":56628647,"comment_id":99832295,"body_markdown":"Thanks for your answering every body , @CommonsWare , you mean is that DB browser does not support SQLCipher database?","body":"Thanks for your answering every body , @CommonsWare , you mean is that DB browser does not support SQLCipher database?"},{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":2,"creation_date":1560770968,"post_id":56628647,"comment_id":99832585,"body_markdown":"at [Encrypted Databases](https://github.com/sqlitebrowser/sqlitebrowser/wiki/Encrypted-Databases) it says *DB Browser for SQLite can be downloaded with SQLCipher support on Mac OSX and Windows, or if you compile it yourself you can get support on Linux.* But then says *You can only encrypt an existing database, so if you want a new encrypted database you first need to create a new database file and then encrypt it.* So wondering if it&#39;s a self contained so can&#39;t open a db encrypted elsewhere.","body":"at <a href=\"https://github.com/sqlitebrowser/sqlitebrowser/wiki/Encrypted-Databases\" rel=\"nofollow noreferrer\">Encrypted Databases</a> it says <i>DB Browser for SQLite can be downloaded with SQLCipher support on Mac OSX and Windows, or if you compile it yourself you can get support on Linux.</i> But then says <i>You can only encrypt an existing database, so if you want a new encrypted database you first need to create a new database file and then encrypt it.</i> So wondering if it&#39;s a self contained so can&#39;t open a db encrypted elsewhere."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1560771458,"post_id":56628647,"comment_id":99832832,"body_markdown":"&quot;you mean is that DB browser does not support SQLCipher database?&quot; -- as I wrote, I have no idea if that tool supports SQLCipher databases.","body":"&quot;you mean is that DB browser does not support SQLCipher database?&quot; -- as I wrote, I have no idea if that tool supports SQLCipher databases."},{"owner":{"account_id":2907259,"reputation":3446,"user_id":2543013,"accept_rate":69,"display_name":"LeTadas"},"score":0,"creation_date":1560778632,"post_id":56628647,"comment_id":99836830,"body_markdown":"Most likely sqlite browser doesn&#39;t work properly, try other ones","body":"Most likely sqlite browser doesn&#39;t work properly, try other ones"},{"owner":{"account_id":13856648,"reputation":1610,"user_id":10003284,"display_name":"milad salimi"},"score":0,"creation_date":1560834707,"post_id":56628647,"comment_id":99854618,"body_markdown":"@kosas , i use  Stetho [link](https://stackoverflow.com/questions/29138442/browse-sqlite-database-from-android-studio)  library that faceboook release it and sqliteviewer but does not show anything again","body":"@kosas , i use  Stetho <a href=\"https://stackoverflow.com/questions/29138442/browse-sqlite-database-from-android-studio\">link</a>  library that faceboook release it and sqliteviewer but does not show anything again"}],"answers":[{"tags":[],"owner":{"account_id":13856648,"reputation":1610,"user_id":10003284,"display_name":"milad salimi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1561524347,"creation_date":1561524347,"answer_id":56765348,"question_id":56628647,"body_markdown":"As i found The DB browser that developed in Linux cant open my encrypted room database because i open it in MAC OS.\r\n\r\n**You can see more detail in [this][1] issue that i open it,i hope that this is useful for your problem**.\r\n\r\n\r\n  [1]: https://github.com/commonsguy/cwac-saferoom/issues/58","title":"Android Room database file is invalid file format in DB browser","body":"<p>As i found The DB browser that developed in Linux cant open my encrypted room database because i open it in MAC OS.</p>\n\n<p><strong>You can see more detail in <a href=\"https://github.com/commonsguy/cwac-saferoom/issues/58\" rel=\"nofollow noreferrer\">this</a> issue that i open it,i hope that this is useful for your problem</strong>.</p>\n"},{"tags":[],"owner":{"account_id":11826940,"reputation":31,"user_id":8654632,"display_name":"vikas khot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680174705,"creation_date":1680174705,"answer_id":75887477,"question_id":56628647,"body_markdown":"If you are using **SQLCipher** in Room DB then it will not show in App Inspection-&gt;Database Inspector \r\n\r\nRemove this below line and check-\r\n\r\n.openHelperFactory(factory) //will not show  in App Inspection -&gt;Database inspection\r\n","title":"Android Room database file is invalid file format in DB browser","body":"<p>If you are using <strong>SQLCipher</strong> in Room DB then it will not show in App Inspection-&gt;Database Inspector</p>\n<p>Remove this below line and check-</p>\n<p>.openHelperFactory(factory) //will not show  in App Inspection -&gt;Database inspection</p>\n"}],"owner":{"account_id":13856648,"reputation":1610,"user_id":10003284,"display_name":"milad salimi"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3189,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":56765348,"answer_count":2,"score":1,"last_activity_date":1680174705,"creation_date":1560764401,"question_id":56628647,"body_markdown":"I am going to `data/data/myPackage` in emulator and download these three files about my apps database :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut when i import it to DB browser i faced with this error :\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ha1W8.png\r\n  [2]: https://i.stack.imgur.com/jrat9.png\r\n\r\nI think the problem is about permissions`(-rw------)` because when i import other database that has this `(-rw-rw----)`,DB browser can open it.\r\n\r\n**Then how can i change permission or open my room database in DB browser?**\r\n\r\nThis is my room config :\r\n\r\n\r\n    @Database(entities = {Authentication.class}, version = 1)\r\n    public abstract class InsensitiveDatabase extends RoomDatabase {\r\n    \r\n        private static InsensitiveDatabase INSTANCE;\r\n    \r\n        public abstract AuthenticationDao authenticationDao();\r\n    \r\n        public static InsensitiveDatabase getInsensitiveDatabase(Context context) {\r\n            if (INSTANCE == null) {\r\n                Editable editable = new SpannableStringBuilder(&quot;1234&quot;);\r\n                SafeHelperFactory factory = SafeHelperFactory.fromUser(editable);\r\n                INSTANCE = Room.databaseBuilder(context, InsensitiveDatabase.class, &quot;insensitive.db&quot;)\r\n                        .openHelperFactory(factory)\r\n                        .build();\r\n            }\r\n            return INSTANCE;\r\n        }\r\n    }","title":"Android Room database file is invalid file format in DB browser","body":"<p>I am going to <code>data/data/myPackage</code> in emulator and download these three files about my apps database :</p>\n\n<p><a href=\"https://i.stack.imgur.com/ha1W8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ha1W8.png\" alt=\"enter image description here\"></a></p>\n\n<p>But when i import it to DB browser i faced with this error :</p>\n\n<p><a href=\"https://i.stack.imgur.com/jrat9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jrat9.png\" alt=\"enter image description here\"></a></p>\n\n<p>I think the problem is about permissions<code>(-rw------)</code> because when i import other database that has this <code>(-rw-rw----)</code>,DB browser can open it.</p>\n\n<p><strong>Then how can i change permission or open my room database in DB browser?</strong></p>\n\n<p>This is my room config :</p>\n\n<pre><code>@Database(entities = {Authentication.class}, version = 1)\npublic abstract class InsensitiveDatabase extends RoomDatabase {\n\n    private static InsensitiveDatabase INSTANCE;\n\n    public abstract AuthenticationDao authenticationDao();\n\n    public static InsensitiveDatabase getInsensitiveDatabase(Context context) {\n        if (INSTANCE == null) {\n            Editable editable = new SpannableStringBuilder(\"1234\");\n            SafeHelperFactory factory = SafeHelperFactory.fromUser(editable);\n            INSTANCE = Room.databaseBuilder(context, InsensitiveDatabase.class, \"insensitive.db\")\n                    .openHelperFactory(factory)\n                    .build();\n        }\n        return INSTANCE;\n    }\n}\n</code></pre>\n"},{"tags":["java","assert","runtimeexception","java-17"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1680101007,"post_id":75878685,"comment_id":133840615,"body_markdown":"Assuming `getOctentString` returns a `byte[]`, then all of your `new String(...)` calls suffer from using the &quot;use default character set&quot; problem. I doubt this is the fundamental problem here, but it&#39;s something you need to look out for. Also: which `Asserts` class are you using? Overusing `assertTrue()` is one of the reasons why you don&#39;t get useful output of your test, there should be something like `assertContains()` or similar notation that would provide more useful context when the assert fails.","body":"Assuming <code>getOctentString</code> returns a <code>byte[]</code>, then all of your <code>new String(...)</code> calls suffer from using the &quot;use default character set&quot; problem. I doubt this is the fundamental problem here, but it&#39;s something you need to look out for. Also: which <code>Asserts</code> class are you using? Overusing <code>assertTrue()</code> is one of the reasons why you don&#39;t get useful output of your test, there should be something like <code>assertContains()</code> or similar notation that would provide more useful context when the assert fails."}],"owner":{"account_id":27253272,"reputation":11,"user_id":20777347,"display_name":"Navie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1680174674,"creation_date":1680100609,"question_id":75878685,"body_markdown":"I have the following code:\r\n\r\n```java\r\npublic class Properties {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        Files.writeString(Path.of(&quot;anything&quot;), &quot;anything&quot;);\r\n        JarUtils.createJarFile(Path.of(&quot;src.jar&quot;), Path.of(&quot;.&quot;),\r\n                Files.write(Path.of(&quot;anything&quot;), new byte[100]));\r\n\r\n        var cakg = new CertAndKeyGen(&quot;EC&quot;, &quot;SHA1withECDSA&quot;);\r\n        cakg.generate(&quot;secp256r1&quot;);\r\n        JarSigner.Builder jsb = new JarSigner.Builder(\r\n                cakg.getPrivateKey(),\r\n                CertificateFactory.getInstance(&quot;X.509&quot;).generateCertPath(List.of(\r\n                        cakg.getSelfCertificate(new X500Name(&quot;CN=Me&quot;), 100))));\r\n        jsb.signerName(&quot;E&quot;);\r\n        String sf;\r\n\r\n        byte[] i0 = sign(jsb.setProperty(&quot;internalsf&quot;, &quot;false&quot;));\r\n        // EncapsulatedContentInfo no content\r\n        DerUtils.shouldNotExist(i0, &quot;1021&quot;);\r\n\r\n        byte[] i1 = sign(jsb.setProperty(&quot;internalsf&quot;, &quot;true&quot;));\r\n        // EncapsulatedContentInfo has content being the SF\r\n        sf = new String(DerUtils.innerDerValue(i1, &quot;10210&quot;).getOctetString());\r\n        Asserts.assertTrue(sf.startsWith(&quot;Signature-Version&quot;));\r\n\r\n        // There is a SignedAttributes\r\n        byte[] d0 = sign(jsb);\r\n        Asserts.assertTrue(DerUtils.innerDerValue(d0, &quot;10403&quot;)\r\n                .isContextSpecific((byte)0));\r\n\r\n        // Has a hash for the whole manifest\r\n        byte[] s0 = sign(jsb.setProperty(&quot;sectionsonly&quot;, &quot;false&quot;));\r\n        sf = new String(DerUtils.innerDerValue(s0, &quot;10210&quot;).getOctetString());\r\n        Asserts.assertTrue(sf.contains(&quot;SHA-256-Digest-Manifest:&quot;));\r\n\r\n        // Has no hash for the whole manifest\r\n        byte[] s1 = sign(jsb.setProperty(&quot;sectionsonly&quot;, &quot;true&quot;));\r\n        sf = new String(DerUtils.innerDerValue(s1, &quot;10210&quot;).getOctetString());\r\n        Asserts.assertFalse(sf.contains(&quot;SHA-256-Digest-Manifest:&quot;));\r\n    }\r\n\r\n    // Sign and returns the content of the PKCS7 signature block inside\r\n    static byte[] sign(JarSigner.Builder b) throws Exception {\r\n        ByteArrayOutputStream bout = new ByteArrayOutputStream();\r\n        try (ZipFile zf = new ZipFile(&quot;src.jar&quot;)) {\r\n            b.build().sign(zf, bout);\r\n        }\r\n        var jf = new JarInputStream(\r\n                new ByteArrayInputStream(bout.toByteArray()));\r\n        while (true) {\r\n            JarEntry je = jf.getNextJarEntry();\r\n            if (je == null) {\r\n                throw new RuntimeException(&quot;Cannot find signature&quot;);\r\n            }\r\n            if (je.getName().equals(&quot;META-INF/E.EC&quot;)) {\r\n                return jf.readAllBytes();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSpecifically, the assertion `Asserts.assertTrue(sf.contains(&quot;SHA-256-Digest-Manifest:&quot;))` is failing. This assertion is checking that the output of the `sign()` method when the `sectionsonly` property is set to false contains a hash for the whole manifest. The hash should be included in the SF file of the signed JAR file, which is read by the test from a byte array returned by the `sign()` method.\r\n\r\nThe failure of the assertion suggests that the SF file does not contain the expected hash. I tried printing out the `sf` value of `sf = new String(DerUtils.innerDerValue(i1, &quot;10210&quot;).getOctetString());`, but the output is not showing up in my stack trace. Also, I tried adding `sf = new String(DerUtils.innerDerValue(i1, &quot;10210&quot;).getOctetString(StandardCharsets.UTF_8));` to see if there is an encoding issue, but the syntax seems to be wrong. Any insights would be helpful.","title":"Test failed with java.lang.RuntimeException: assertTrue: expected true, was false","body":"<p>I have the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Properties {\n\n    public static void main(String[] args) throws Exception {\n\n        Files.writeString(Path.of(&quot;anything&quot;), &quot;anything&quot;);\n        JarUtils.createJarFile(Path.of(&quot;src.jar&quot;), Path.of(&quot;.&quot;),\n                Files.write(Path.of(&quot;anything&quot;), new byte[100]));\n\n        var cakg = new CertAndKeyGen(&quot;EC&quot;, &quot;SHA1withECDSA&quot;);\n        cakg.generate(&quot;secp256r1&quot;);\n        JarSigner.Builder jsb = new JarSigner.Builder(\n                cakg.getPrivateKey(),\n                CertificateFactory.getInstance(&quot;X.509&quot;).generateCertPath(List.of(\n                        cakg.getSelfCertificate(new X500Name(&quot;CN=Me&quot;), 100))));\n        jsb.signerName(&quot;E&quot;);\n        String sf;\n\n        byte[] i0 = sign(jsb.setProperty(&quot;internalsf&quot;, &quot;false&quot;));\n        // EncapsulatedContentInfo no content\n        DerUtils.shouldNotExist(i0, &quot;1021&quot;);\n\n        byte[] i1 = sign(jsb.setProperty(&quot;internalsf&quot;, &quot;true&quot;));\n        // EncapsulatedContentInfo has content being the SF\n        sf = new String(DerUtils.innerDerValue(i1, &quot;10210&quot;).getOctetString());\n        Asserts.assertTrue(sf.startsWith(&quot;Signature-Version&quot;));\n\n        // There is a SignedAttributes\n        byte[] d0 = sign(jsb);\n        Asserts.assertTrue(DerUtils.innerDerValue(d0, &quot;10403&quot;)\n                .isContextSpecific((byte)0));\n\n        // Has a hash for the whole manifest\n        byte[] s0 = sign(jsb.setProperty(&quot;sectionsonly&quot;, &quot;false&quot;));\n        sf = new String(DerUtils.innerDerValue(s0, &quot;10210&quot;).getOctetString());\n        Asserts.assertTrue(sf.contains(&quot;SHA-256-Digest-Manifest:&quot;));\n\n        // Has no hash for the whole manifest\n        byte[] s1 = sign(jsb.setProperty(&quot;sectionsonly&quot;, &quot;true&quot;));\n        sf = new String(DerUtils.innerDerValue(s1, &quot;10210&quot;).getOctetString());\n        Asserts.assertFalse(sf.contains(&quot;SHA-256-Digest-Manifest:&quot;));\n    }\n\n    // Sign and returns the content of the PKCS7 signature block inside\n    static byte[] sign(JarSigner.Builder b) throws Exception {\n        ByteArrayOutputStream bout = new ByteArrayOutputStream();\n        try (ZipFile zf = new ZipFile(&quot;src.jar&quot;)) {\n            b.build().sign(zf, bout);\n        }\n        var jf = new JarInputStream(\n                new ByteArrayInputStream(bout.toByteArray()));\n        while (true) {\n            JarEntry je = jf.getNextJarEntry();\n            if (je == null) {\n                throw new RuntimeException(&quot;Cannot find signature&quot;);\n            }\n            if (je.getName().equals(&quot;META-INF/E.EC&quot;)) {\n                return jf.readAllBytes();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Specifically, the assertion <code>Asserts.assertTrue(sf.contains(&quot;SHA-256-Digest-Manifest:&quot;))</code> is failing. This assertion is checking that the output of the <code>sign()</code> method when the <code>sectionsonly</code> property is set to false contains a hash for the whole manifest. The hash should be included in the SF file of the signed JAR file, which is read by the test from a byte array returned by the <code>sign()</code> method.</p>\n<p>The failure of the assertion suggests that the SF file does not contain the expected hash. I tried printing out the <code>sf</code> value of <code>sf = new String(DerUtils.innerDerValue(i1, &quot;10210&quot;).getOctetString());</code>, but the output is not showing up in my stack trace. Also, I tried adding <code>sf = new String(DerUtils.innerDerValue(i1, &quot;10210&quot;).getOctetString(StandardCharsets.UTF_8));</code> to see if there is an encoding issue, but the syntax seems to be wrong. Any insights would be helpful.</p>\n"},{"tags":["java","android","firebase","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1598922867,"post_id":63679929,"comment_id":112607251,"body_markdown":"the first you clicked the notification, it is working fine, but for the second attempt, it is not working fine ?","body":"the first you clicked the notification, it is working fine, but for the second attempt, it is not working fine ?"},{"owner":{"account_id":12457732,"reputation":234,"user_id":9070325,"display_name":"Jesse R"},"score":0,"creation_date":1598923854,"post_id":63679929,"comment_id":112607405,"body_markdown":"@Ticherhaz only if i click the notification while the app is terminated. Google FCM allows for receiving of notifications while the app is not actively running, so anytime i click on a notification while the app is not running (thus launching the app) and THEN click on a notification in the app, it doesn&#39;t work. If I open the app normally then I can click as many notifications as I want and it works.","body":"@Ticherhaz only if i click the notification while the app is terminated. Google FCM allows for receiving of notifications while the app is not actively running, so anytime i click on a notification while the app is not running (thus launching the app) and THEN click on a notification in the app, it doesn&#39;t work. If I open the app normally then I can click as many notifications as I want and it works."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1598975635,"post_id":63679929,"comment_id":112627489,"body_markdown":"Are you on the `NotificationActivity` when it doesn&#39;t work while the app is running? If yes, try overriding the `onNewIntent()` and see whether you get the new intent details in it, and act accordingly.","body":"Are you on the <code>NotificationActivity</code> when it doesn&#39;t work while the app is running? If yes, try overriding the <code>onNewIntent()</code> and see whether you get the new intent details in it, and act accordingly."},{"owner":{"account_id":12457732,"reputation":234,"user_id":9070325,"display_name":"Jesse R"},"score":0,"creation_date":1598993164,"post_id":63679929,"comment_id":112634370,"body_markdown":"@Shark I am not on that activity when it doesn&#39;t work. I tried to override that method just to check and it also is not being called.","body":"@Shark I am not on that activity when it doesn&#39;t work. I tried to override that method just to check and it also is not being called."},{"owner":{"account_id":12457732,"reputation":234,"user_id":9070325,"display_name":"Jesse R"},"score":0,"creation_date":1598994825,"post_id":63679929,"comment_id":112634898,"body_markdown":"Changing my pending intent flag from PendingIntent.FLAG_UPDATE_CURRENT to PendingIntent.FLAG_CANCEL_CURRENT has seemed to fix it. I have a vague intuition as to why but would certainly appreciate anyone being able to explain why this would have fixed it.","body":"Changing my pending intent flag from PendingIntent.FLAG_UPDATE_CURRENT to PendingIntent.FLAG_CANCEL_CURRENT has seemed to fix it. I have a vague intuition as to why but would certainly appreciate anyone being able to explain why this would have fixed it."},{"owner":{"account_id":14624310,"reputation":91,"user_id":10562061,"display_name":"Ameen Aliu"},"score":0,"creation_date":1637192644,"post_id":63679929,"comment_id":123763856,"body_markdown":"Did you later find an explanation to why this is happening, or why FLAG_CANCEL_CURRENT fixed it for you? I am experiencing the same situation and the flag did not fix it for me.","body":"Did you later find an explanation to why this is happening, or why FLAG_CANCEL_CURRENT fixed it for you? I am experiencing the same situation and the flag did not fix it for me."},{"owner":{"account_id":12457732,"reputation":234,"user_id":9070325,"display_name":"Jesse R"},"score":0,"creation_date":1637205963,"post_id":63679929,"comment_id":123766127,"body_markdown":"@AmeenAliu sorry it&#39;s been a while so am pretty rusty on the specifics of this. Looking at my final code what I ended up doing was using that CANCEL_CURRENT flag and passing the intent to the main activity that I use. In that activitiy&#39;s onNewIntent I grab the data for the intent and then route accordingly. I ended up getting rid of the separate NotificationActivity that does the routing","body":"@AmeenAliu sorry it&#39;s been a while so am pretty rusty on the specifics of this. Looking at my final code what I ended up doing was using that CANCEL_CURRENT flag and passing the intent to the main activity that I use. In that activitiy&#39;s onNewIntent I grab the data for the intent and then route accordingly. I ended up getting rid of the separate NotificationActivity that does the routing"},{"owner":{"account_id":14624310,"reputation":91,"user_id":10562061,"display_name":"Ameen Aliu"},"score":0,"creation_date":1637248439,"post_id":63679929,"comment_id":123780330,"body_markdown":"hmm. Thanks @Jesse","body":"hmm. Thanks @Jesse"},{"owner":{"account_id":5749383,"reputation":930,"user_id":4539582,"accept_rate":62,"display_name":"newbie"},"score":0,"creation_date":1661746008,"post_id":63679929,"comment_id":129836447,"body_markdown":"is that solve? I have got the issue but still have no idea how to solve this.","body":"is that solve? I have got the issue but still have no idea how to solve this."}],"answers":[{"tags":[],"owner":{"account_id":6088466,"reputation":1,"user_id":4751612,"display_name":"Kirchhoff"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680174659,"creation_date":1680174659,"answer_id":75887469,"question_id":63679929,"body_markdown":"I faced the same issue some time ago. I managed to solve it by adding a random string to the intent. \r\n\r\n     val intent = Intent(this, SomeActivity::class.java).apply {\r\n         action = Random.nextInt().toString()\r\n     }\r\n\r\nWith your example it&#39;s should look like: \r\n\r\n    Intent notificationIntent = new Intent(this, NotificationActivity.class);\r\n    notificationIntent.putExtra(Variables.INTENT_NOTIFICATION_DATA, &quot;dummy_data&quot;);\r\n    notificationIntent.setAction(String.valueOf(new Random().nextInt()));","title":"Android PendingIntent not launching activity after opened from background from notification","body":"<p>I faced the same issue some time ago. I managed to solve it by adding a random string to the intent.</p>\n<pre><code> val intent = Intent(this, SomeActivity::class.java).apply {\n     action = Random.nextInt().toString()\n }\n</code></pre>\n<p>With your example it's should look like:</p>\n<pre><code>Intent notificationIntent = new Intent(this, NotificationActivity.class);\nnotificationIntent.putExtra(Variables.INTENT_NOTIFICATION_DATA, &quot;dummy_data&quot;);\nnotificationIntent.setAction(String.valueOf(new Random().nextInt()));\n</code></pre>\n"}],"owner":{"account_id":12457732,"reputation":234,"user_id":9070325,"display_name":"Jesse R"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2047,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1680174659,"creation_date":1598921531,"question_id":63679929,"body_markdown":"I&#39;m using Google FCM to deliver notifications to my app. I am currently sending data notifications and having my android app construct the push notification. I want the user to be able to click on the notification and have it route them to the appropriate fragment/activity.\r\n\r\nIt is working great except for one flow.\r\nUser terminates app -&gt; Receives notification -&gt; Clicks notification -&gt; App launches and data passed correctly to the splash activity from the notification (I&#39;m using a notification activity to broadcast/start intents) -&gt; User receives another notification while app is open -&gt; User clicks notification -&gt; Notification activity, which just previously launched correctly, does not launch.\r\n\r\nI&#39;m scratching my head trying to figure out why this could be. My guess is something to do with the contexts being wrong since the app is being launched from the notification, but I&#39;ve tried to use both &quot;this&quot; and &quot;getApplicationContext()&quot; and neither fixed the issue.\r\n\r\nBelow is how I construct the notification and pending intent.\r\n\r\n```\r\nIntent notificationIntent = new Intent(this, NotificationActivity.class);\r\nnotificationIntent.putExtra(Variables.INTENT_NOTIFICATION_DATA, &quot;dummy_data&quot;);\r\nnotificationIntent.setAction(Variables.NOTIFICATION_CLICK);\r\nPendingIntent contentIntent = PendingIntent.getActivity(this,\r\n\t\t0, notificationIntent, PendingIntent.FLAG_UPDATE_CURRENT);\r\nNotification notification = new NotificationCompat.Builder(this, Variables.CHANNEL)\r\n\t\t.setContentTitle(&quot;New Notification&quot;)\r\n\t\t.setContentText(&quot;Dummy text&quot;)\r\n\t\t.setSmallIcon(R.drawable.notification_icon)\r\n\t\t.setContentIntent(contentIntent)\r\n\t\t.setAutoCancel(true)\r\n\t\t.setOngoing(false)\r\n\t\t.build();\r\nNotificationManager mNotificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\nif (mNotificationManager != null) {\r\n\tmNotificationManager.notify(0, notification);\r\n}\r\n```","title":"Android PendingIntent not launching activity after opened from background from notification","body":"<p>I'm using Google FCM to deliver notifications to my app. I am currently sending data notifications and having my android app construct the push notification. I want the user to be able to click on the notification and have it route them to the appropriate fragment/activity.</p>\n<p>It is working great except for one flow.\nUser terminates app -&gt; Receives notification -&gt; Clicks notification -&gt; App launches and data passed correctly to the splash activity from the notification (I'm using a notification activity to broadcast/start intents) -&gt; User receives another notification while app is open -&gt; User clicks notification -&gt; Notification activity, which just previously launched correctly, does not launch.</p>\n<p>I'm scratching my head trying to figure out why this could be. My guess is something to do with the contexts being wrong since the app is being launched from the notification, but I've tried to use both &quot;this&quot; and &quot;getApplicationContext()&quot; and neither fixed the issue.</p>\n<p>Below is how I construct the notification and pending intent.</p>\n<pre><code>Intent notificationIntent = new Intent(this, NotificationActivity.class);\nnotificationIntent.putExtra(Variables.INTENT_NOTIFICATION_DATA, &quot;dummy_data&quot;);\nnotificationIntent.setAction(Variables.NOTIFICATION_CLICK);\nPendingIntent contentIntent = PendingIntent.getActivity(this,\n        0, notificationIntent, PendingIntent.FLAG_UPDATE_CURRENT);\nNotification notification = new NotificationCompat.Builder(this, Variables.CHANNEL)\n        .setContentTitle(&quot;New Notification&quot;)\n        .setContentText(&quot;Dummy text&quot;)\n        .setSmallIcon(R.drawable.notification_icon)\n        .setContentIntent(contentIntent)\n        .setAutoCancel(true)\n        .setOngoing(false)\n        .build();\nNotificationManager mNotificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\nif (mNotificationManager != null) {\n    mNotificationManager.notify(0, notification);\n}\n</code></pre>\n"},{"tags":["java","apache-spark","pyspark","apache-spark-sql","user-defined-functions"],"answers":[{"tags":[],"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680174569,"creation_date":1680174569,"answer_id":75887457,"question_id":75884928,"body_markdown":"You have 2 choices:\r\n\r\n 1. Declare your map as final and call it from your udf:\r\n    \r\n        final HashMap&lt;String, String&gt; myMap = new HashMap&lt;&gt;();\r\n        public String call(Integer x, Integer y) {\r\n             // Pseudocode\r\n             return myMap.get(x) + myMap.get(y);\r\n        }\r\n 2. But a better solution is to use broadcast variable and then call it\r\n    from you udf:\r\n    \r\n        HashMap&lt;String, String&gt; myMap = new HashMap&lt;&gt;();\r\n        Broadcast&lt;HashMap&lt;String, String&gt;&gt; myMapBroadcast = new JavaSparkContext(spark.sparkContext()).broadcast(myMap);\r\n        public String call(Integer x, Integer y) {\r\n             // Pseudocode\r\n             HashMap&lt;String, String&gt; myMap2 = myMapBroadcast.value();\r\n             return myMap2.get(x) + myMap2.get(y);\r\n        }\r\n\r\n","title":"How to initialize Java UDFs in Spark?","body":"<p>You have 2 choices:</p>\n<ol>\n<li><p>Declare your map as final and call it from your udf:</p>\n<pre><code>final HashMap&lt;String, String&gt; myMap = new HashMap&lt;&gt;();\npublic String call(Integer x, Integer y) {\n     // Pseudocode\n     return myMap.get(x) + myMap.get(y);\n}\n</code></pre>\n</li>\n<li><p>But a better solution is to use broadcast variable and then call it\nfrom you udf:</p>\n<pre><code>HashMap&lt;String, String&gt; myMap = new HashMap&lt;&gt;();\nBroadcast&lt;HashMap&lt;String, String&gt;&gt; myMapBroadcast = new JavaSparkContext(spark.sparkContext()).broadcast(myMap);\npublic String call(Integer x, Integer y) {\n     // Pseudocode\n     HashMap&lt;String, String&gt; myMap2 = myMapBroadcast.value();\n     return myMap2.get(x) + myMap2.get(y);\n}\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":151036,"reputation":2696,"user_id":364651,"accept_rate":64,"display_name":"johngreen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680174635,"creation_date":1680158880,"question_id":75884928,"body_markdown":"My driver script is written in PySpark, where I do some complex transformations on columns. The transformations have been implemented as Java UDFs for performance reasons.\r\n\r\nIn my PySpark code, I register the Java UDF using : \r\n\r\n```\r\nsession.udf.registerJavaFunction(&quot;my_udf&quot;, &quot;com.example.MyUDF&quot;, StringType())\r\n```\r\n\r\nI am able to execute the transformation in PySpark as follows : \r\n```\r\noutput_df = input_df.withColumn(f&quot;transformed&quot;, F.expr(&quot;my_udf(col1, col2)&quot;))\r\n```\r\n\r\nMy Java UDF is defined as follows :\r\n\r\n```\r\nimport org.apache.spark.sql.api.java.UDF2;\r\n\r\npublic class MyUDF implements UDF2&lt;Integer, Integer, String&gt; {\r\n\r\n  @Override\r\n  public String call(Integer x, Integer y) {\r\n       // Do something ...\r\n  }\r\n}\r\n```\r\n\r\nNow, the transformation defined by `MyUDF` requires some other data as inputs. E.g. let&#39;s say there is a map of values against which lookup needs to be performed, and the output is the sum of the mapped values, i.e. \r\n\r\n```\r\n  public String call(Integer x, Integer y) {\r\n       // Pseudocode\r\n       return myMap.get(x) + myMap.get(y);\r\n  }\r\n```\r\n\r\n\r\nQuestion: What is a good way to read the `myMap` from a database and make it available to the UDF written in Java? \r\n\r\nI have read that broadcast variables are meant for such purposes, but I need help in understanding how I can access any broadcast variable created in PySpark from the Java UDF? Or is there a better way to do this?","title":"How to initialize Java UDFs in Spark?","body":"<p>My driver script is written in PySpark, where I do some complex transformations on columns. The transformations have been implemented as Java UDFs for performance reasons.</p>\n<p>In my PySpark code, I register the Java UDF using :</p>\n<pre><code>session.udf.registerJavaFunction(&quot;my_udf&quot;, &quot;com.example.MyUDF&quot;, StringType())\n</code></pre>\n<p>I am able to execute the transformation in PySpark as follows :</p>\n<pre><code>output_df = input_df.withColumn(f&quot;transformed&quot;, F.expr(&quot;my_udf(col1, col2)&quot;))\n</code></pre>\n<p>My Java UDF is defined as follows :</p>\n<pre><code>import org.apache.spark.sql.api.java.UDF2;\n\npublic class MyUDF implements UDF2&lt;Integer, Integer, String&gt; {\n\n  @Override\n  public String call(Integer x, Integer y) {\n       // Do something ...\n  }\n}\n</code></pre>\n<p>Now, the transformation defined by <code>MyUDF</code> requires some other data as inputs. E.g. let's say there is a map of values against which lookup needs to be performed, and the output is the sum of the mapped values, i.e.</p>\n<pre><code>  public String call(Integer x, Integer y) {\n       // Pseudocode\n       return myMap.get(x) + myMap.get(y);\n  }\n</code></pre>\n<p>Question: What is a good way to read the <code>myMap</code> from a database and make it available to the UDF written in Java?</p>\n<p>I have read that broadcast variables are meant for such purposes, but I need help in understanding how I can access any broadcast variable created in PySpark from the Java UDF? Or is there a better way to do this?</p>\n"},{"tags":["java","spring","spring-boot","sonarqube","sonarqube-scan"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":1,"creation_date":1680173956,"post_id":75887154,"comment_id":133854883,"body_markdown":"By checking if `generatedKeyHolder.getKey()` is `null` before converting it to `int`. And please remove that `try-catch`...","body":"By checking if <code>generatedKeyHolder.getKey()</code> is <code>null</code> before converting it to <code>int</code>. And please remove that <code>try-catch</code>..."}],"answers":[{"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1680174818,"post_id":75887424,"comment_id":133855116,"body_markdown":"If you really want to throw an Optional in there, replace the entire thing including the `try-catch` with `return Optional.ofNullable(generatedKeyHolder.getKey()).orElse(0);` (assuming that `getKey()` returns an `Integer`).","body":"If you really want to throw an Optional in there, replace the entire thing including the <code>try-catch</code> with <code>return Optional.ofNullable(generatedKeyHolder.getKey()).orElse(0);</code> (assuming that <code>getKey()</code> returns an <code>Integer</code>)."},{"owner":{"account_id":10212020,"reputation":1516,"user_id":10278268,"display_name":"riki"},"score":0,"creation_date":1680178004,"post_id":75887424,"comment_id":133855893,"body_markdown":"it works thann you","body":"it works thann you"},{"owner":{"account_id":8646527,"reputation":685,"user_id":6473557,"accept_rate":0,"display_name":"Thomson Ignesious"},"score":0,"creation_date":1680239108,"post_id":75887424,"comment_id":133867723,"body_markdown":"@Hulk this can return null as well, your code only returns 0 if it is null.  In order to avoid try-catch only we have an Optional feature.","body":"@Hulk this can return null as well, your code only returns 0 if it is null.  In order to avoid try-catch only we have an Optional feature."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1680239283,"post_id":75887424,"comment_id":133867748,"body_markdown":"@ThomsonIgnesious I chose `0` as the default value because so did the OP in the `catch` block. Returning `null` is a change in behavior compared to the code in the OP, not sure if that is desired.","body":"@ThomsonIgnesious I chose <code>0</code> as the default value because so did the OP in the <code>catch</code> block. Returning <code>null</code> is a change in behavior compared to the code in the OP, not sure if that is desired."},{"owner":{"account_id":8646527,"reputation":685,"user_id":6473557,"accept_rate":0,"display_name":"Thomson Ignesious"},"score":0,"creation_date":1680239404,"post_id":75887424,"comment_id":133867766,"body_markdown":"@Hulk  riki clearly mentioned in the code comment itself\nA &quot;NullPointerException&quot; could be thrown; &quot;getKey()&quot; can return null.","body":"@Hulk  riki clearly mentioned in the code comment itself A &quot;NullPointerException&quot; could be thrown; &quot;getKey()&quot; can return null."}],"tags":[],"owner":{"account_id":8646527,"reputation":685,"user_id":6473557,"accept_rate":0,"display_name":"Thomson Ignesious"},"comment_count":5,"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1680174335,"creation_date":1680174335,"answer_id":75887424,"question_id":75887154,"body_markdown":"    GeneratedKeyHolder generatedKeyHolder = new GeneratedKeyHolder();\r\n        String sql = &quot;Update users set enable=true where username=:username&quot;;\r\n        SqlParameterSource paramSource = new MapSqlParameterSource().addValue(&quot;username&quot;, u.getUsername());\r\n        namedParameterJdbcTemplate.update(sql, paramSource, generatedKeyHolder);\r\n        try {\r\n            Optional&lt;Number&gt; key = Optional.ofNullable(generatedKeyHolder.getKey());\r\n            if(key.isEmpty())\r\n                return null;\r\n            else\r\n                key.get().intValue();\r\n        }\r\n        catch (NullPointerException nl){\r\n            return 0;\r\n        }","title":"Sonarqube how can fix nullpointeexception","body":"<pre><code>GeneratedKeyHolder generatedKeyHolder = new GeneratedKeyHolder();\n    String sql = &quot;Update users set enable=true where username=:username&quot;;\n    SqlParameterSource paramSource = new MapSqlParameterSource().addValue(&quot;username&quot;, u.getUsername());\n    namedParameterJdbcTemplate.update(sql, paramSource, generatedKeyHolder);\n    try {\n        Optional&lt;Number&gt; key = Optional.ofNullable(generatedKeyHolder.getKey());\n        if(key.isEmpty())\n            return null;\n        else\n            key.get().intValue();\n    }\n    catch (NullPointerException nl){\n        return 0;\n    }\n</code></pre>\n"}],"owner":{"account_id":10212020,"reputation":1516,"user_id":10278268,"display_name":"riki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1680174426,"accepted_answer_id":75887424,"answer_count":1,"score":-4,"last_activity_date":1680174335,"creation_date":1680172674,"question_id":75887154,"body_markdown":"how can fix this nullpointerexception on sonarcube?\r\n\r\n[![Sonar][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ba0ho.png\r\n\r\n**Java Code:**\r\n\r\n      GeneratedKeyHolder generatedKeyHolder = new GeneratedKeyHolder();\r\n            String sql = &quot;Update users set enable=true where username=:username&quot;;\r\n            SqlParameterSource paramSource = new MapSqlParameterSource().addValue(&quot;username&quot;, u.getUsername());\r\n            namedParameterJdbcTemplate.update(sql, paramSource, generatedKeyHolder);\r\n            try {\r\n                return generatedKeyHolder.getKey().intValue();\r\n    A &quot;NullPointerException&quot; could be thrown; &quot;getKey()&quot; can return null.\r\n            }\r\n            catch (NullPointerException nl){\r\n                return 0;\r\n            }\r\n        }","title":"Sonarqube how can fix nullpointeexception","body":"<p>how can fix this nullpointerexception on sonarcube?</p>\n<p><a href=\"https://i.stack.imgur.com/ba0ho.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ba0ho.png\" alt=\"Sonar\" /></a></p>\n<p><strong>Java Code:</strong></p>\n<pre><code>  GeneratedKeyHolder generatedKeyHolder = new GeneratedKeyHolder();\n        String sql = &quot;Update users set enable=true where username=:username&quot;;\n        SqlParameterSource paramSource = new MapSqlParameterSource().addValue(&quot;username&quot;, u.getUsername());\n        namedParameterJdbcTemplate.update(sql, paramSource, generatedKeyHolder);\n        try {\n            return generatedKeyHolder.getKey().intValue();\nA &quot;NullPointerException&quot; could be thrown; &quot;getKey()&quot; can return null.\n        }\n        catch (NullPointerException nl){\n            return 0;\n        }\n    }\n</code></pre>\n"},{"tags":["java","jms","activemq"],"comments":[{"owner":{"account_id":166592,"reputation":3287,"user_id":390812,"accept_rate":78,"display_name":"Martijn Verburg"},"score":0,"creation_date":1288634221,"post_id":4071509,"comment_id":4375850,"body_markdown":"Are you using transactions?  What configuration do you have for the queues?  Are they really queues?  Or topics?  So many questions :).  What version of ActiveMQ?  Standalone?  On an App server?","body":"Are you using transactions?  What configuration do you have for the queues?  Are they really queues?  Or topics?  So many questions :).  What version of ActiveMQ?  Standalone?  On an App server?"},{"owner":{"account_id":31917,"reputation":3595,"user_id":88003,"accept_rate":70,"display_name":"James"},"score":0,"creation_date":1288684137,"post_id":4071509,"comment_id":4381050,"body_markdown":"We don&#39;t explicitly use transactions unless they are used by default. We don&#39;t create any configuration on the hub and the Topics are dynamically created using: topic = (ActiveMQTopic) this.initialContext.lookup(&quot;dynamicTopics/&quot; + topicName); We use ActiveMQ version 5.3.2 running in a standalone instance.","body":"We don&#39;t explicitly use transactions unless they are used by default. We don&#39;t create any configuration on the hub and the Topics are dynamically created using: topic = (ActiveMQTopic) this.initialContext.lookup(&quot;dynamicTopics/&quot; + topicName); We use ActiveMQ version 5.3.2 running in a standalone instance."},{"owner":{"account_id":372736,"reputation":2561,"user_id":721956,"accept_rate":54,"display_name":"Askar Kalykov"},"score":0,"creation_date":1351449756,"post_id":4071509,"comment_id":17825004,"body_markdown":"So what&#39;s up with this issue? Did you resolved it?","body":"So what&#39;s up with this issue? Did you resolved it?"}],"answers":[{"comments":[{"owner":{"account_id":31917,"reputation":3595,"user_id":88003,"accept_rate":70,"display_name":"James"},"score":0,"creation_date":1288684783,"post_id":4072092,"comment_id":4381108,"body_markdown":"I don&#39;t think there is a processing issue. The application is running on a 4 CPU server and runs at about 50% peeking no higher than 70%. The code which adds the messages to the queue and pulls them off is very simple. I have added it to my post.","body":"I don&#39;t think there is a processing issue. The application is running on a 4 CPU server and runs at about 50% peeking no higher than 70%. The code which adds the messages to the queue and pulls them off is very simple. I have added it to my post."}],"tags":[],"owner":{"account_id":179602,"reputation":655,"user_id":412372,"accept_rate":57,"display_name":"Sandeep More"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680174241,"creation_date":1288637538,"answer_id":4072092,"question_id":4071509,"body_markdown":"We do not use ActiveMQ, but we ran into similar issues, we discovered that the issues were with the back-end processing and not with the Java side. There could be multiple issues here: \r\n\r\n 1. The program processing the messages from the queue could be slow (e.g. CICS on mainframe) it might not be able to keep up with the messages that are sent to the queue. One possible solution for this is to increase the processing power (or optimize the back end code which processes the messages)\r\n 2. Check the messages on the queue, sometimes there are are lots of uncommitted poison messages on the queue, we use a separate queue for such messages.\r\n\r\n","title":"JMS (ActiveMQ) Performance","body":"<p>We do not use ActiveMQ, but we ran into similar issues, we discovered that the issues were with the back-end processing and not with the Java side. There could be multiple issues here:</p>\n<ol>\n<li>The program processing the messages from the queue could be slow (e.g. CICS on mainframe) it might not be able to keep up with the messages that are sent to the queue. One possible solution for this is to increase the processing power (or optimize the back end code which processes the messages)</li>\n<li>Check the messages on the queue, sometimes there are are lots of uncommitted poison messages on the queue, we use a separate queue for such messages.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":61561,"reputation":1199,"user_id":183395,"display_name":"bsnyder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1290192701,"creation_date":1290192701,"answer_id":4228342,"question_id":4071509,"body_markdown":"It&#39;s not 100% clear where you are experiencing the slow performance, but it sounds like what you are describing is slowness in publishing the messages. Are you creating a new publisher every time you publish a message? If so, this is terribly inefficient and you should consider creating one publisher and use it over and over to send messages. Furthermore, if you are sending persistent messages, then you are probably using synchronous sends to the broker. You might want to consider using asynchronous sends to speed things up. For more info, see the doc about [Async Sends][1]\r\n\r\nAlso, how is the performance of the consumers? How many consumers are being used? Are they able to keep pace with the rate at which messages are being published? \r\n\r\nAdditionally, what is the broker configuration that you are using? Has it been tuned at all? \r\n\r\nBruce \r\n\r\n\r\n  [1]: http://activemq.apache.org/async-sends.html","title":"JMS (ActiveMQ) Performance","body":"<p>It's not 100% clear where you are experiencing the slow performance, but it sounds like what you are describing is slowness in publishing the messages. Are you creating a new publisher every time you publish a message? If so, this is terribly inefficient and you should consider creating one publisher and use it over and over to send messages. Furthermore, if you are sending persistent messages, then you are probably using synchronous sends to the broker. You might want to consider using asynchronous sends to speed things up. For more info, see the doc about <a href=\"http://activemq.apache.org/async-sends.html\" rel=\"nofollow\">Async Sends</a></p>\n\n<p>Also, how is the performance of the consumers? How many consumers are being used? Are they able to keep pace with the rate at which messages are being published? </p>\n\n<p>Additionally, what is the broker configuration that you are using? Has it been tuned at all? </p>\n\n<p>Bruce </p>\n"},{"tags":[],"owner":{"account_id":1047340,"reputation":460,"user_id":1052080,"display_name":"user1052080"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366179558,"creation_date":1366179558,"answer_id":16052923,"question_id":4071509,"body_markdown":"Although this is an old question, there is one very very important advice missing: \r\n\r\n - Investigate the amount of topics and queues that you have. \r\n\r\nActiveMQ keeps subscription topics in separate threads. Particularly, when you have large amounts of different topics, this will drag down any server. Think about using JMS selectors instead. \r\n\r\nI ran into a similar situation where I had thousands of market data messages per second. When I naively dumped each message into a market instrument specific channel, the server was able to stand about an hour before it was spitting out error messages to the message producers. I changed the design to have ONE channel &quot;MARKET_DATA&quot; and I then set header properties on all produced messages and set a selector on the consumer side to select just the messages that I want. Note that my selector is in SQL like syntax and runs on the server though ... (yeah, let&#39;s skip the CEP marketing hype bashing) ... ","title":"JMS (ActiveMQ) Performance","body":"<p>Although this is an old question, there is one very very important advice missing: </p>\n\n<ul>\n<li>Investigate the amount of topics and queues that you have. </li>\n</ul>\n\n<p>ActiveMQ keeps subscription topics in separate threads. Particularly, when you have large amounts of different topics, this will drag down any server. Think about using JMS selectors instead. </p>\n\n<p>I ran into a similar situation where I had thousands of market data messages per second. When I naively dumped each message into a market instrument specific channel, the server was able to stand about an hour before it was spitting out error messages to the message producers. I changed the design to have ONE channel \"MARKET_DATA\" and I then set header properties on all produced messages and set a selector on the consumer side to select just the messages that I want. Note that my selector is in SQL like syntax and runs on the server though ... (yeah, let's skip the CEP marketing hype bashing) ... </p>\n"}],"owner":{"account_id":31917,"reputation":3595,"user_id":88003,"accept_rate":70,"display_name":"James"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5224,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1680174241,"creation_date":1288633237,"question_id":4071509,"body_markdown":"I have a Java application with a number of components communicating via JMS (ActiveMQ). Currently, the application and the JMS Hub are on the same server, although we eventually plan to split out the components for scalability. We have significant issues with performance, all seemingly around JMS, most notably, and the focus of this question, is the amount of time it is taking to publish a message to a topic.\r\n\r\nWe have around 50 dynamically created topics used for communication between the components of the application. One component reads records from a table and processes them one at a time, the processing involves creating a JMS object message and publishing it to one of the topics. This processing could not keep up with the rate at which records were being written to the source table ~23/sec, so we changed the processing to create the JMS object message and add it to a queue. A new thread was created which reads from this queue and published the message to the appropriate topic. Obviously, this does not speed the processing up, but it did allow us to see how far behind we were getting by looking at the size of the queue. \r\n\r\nAt the start of the day, no messages are going through the whole system, this quickly ramps up from 1560000 (433/sec) messages through the hub in the first hour to 2100000 (582/sec) in the 3rd hour, and then staying at that level. At the start of the first hour, the message publishing from the component reading records from the database table keeps up, but by the end of that hour there are 2000 messages in the queue waiting to be sent and by the 3rd hour the queue has 9000 messages in it.\r\n\r\nBelow are the appropriate sections of the code which send the JMS messages. Any advice on what we are doing wrong or how we can improve this performance are much appreciated. Looking at stats on the web, JMS should be able to easily handle ~1000-2000 large messages/sec or ~10000 small messages/sec. Our messages are around 500 bytes each, so I imagine sit somewhere in the middle of that scale.\r\n\r\nCode for getting the publisher:\r\n\r\n```java\r\nprivate JmsSessionPublisher getJmsSessionPublisher(String topicName) throws JMSException {\r\n    if (!this.topicPublishers.containsKey(topicName)) {\r\n        TopicSession pubSession = (ActiveMQTopicSession) topicConnection.createTopicSession(false, Session.AUTO_ACKNOWLEDGE);\r\n\r\n        ActiveMQTopic topic = getTopic(topicName, pubSession);\r\n\r\n        // Create a JMS publisher and subscriber\r\n        TopicPublisher publisher = pubSession.createPublisher(topic);\r\n\r\n        this.topicPublishers.put(topicName, new JmsSessionPublisher(pubSession, publisher));\r\n    }\r\n    return this.topicPublishers.get(topicName);\r\n}\r\n```\r\n\r\nSending the message:\r\n\r\n```java\r\nJmsSessionPublisher jmsSessionPublisher = getJmsSessionPublisher(topicName);\r\n    \r\nObjectMessage objMessage = jmsSessionPublisher.getSession().createObjectMessage(messageObj);\r\nobjMessage.setJMSCorrelationID(correlationID);\r\nobjMessage.setJMSTimestamp(System.currentTimeMillis());\r\njmsSessionPublisher.getPublisher().publish(objMessage, false, 4, 0);\r\n```\r\n\r\nCode which adds messages to the queue:\r\n\r\n```java\r\nList&lt;EventQueue&gt; events = eventQueueDao.getNonProcessedEvents();\r\nfor (EventQueue eventRow : events) {\r\n\tIEvent event = eventRow.getEvent();\r\n\tAbstractEventFactory.EventType eventType = AbstractEventFactory.EventType.valueOf(event.getEventType());\r\n\tString topic = event.getTopicName() + topicSuffix;\r\n\tEventMsgPayload eventMsg = AbstractEventFactory.getFactory(eventType).getEventMsgPayload(event);\r\n\tsynchronized (queue) {\r\n        queue.add(new QueueElement(eventRow.getEventId(), topic, eventMsg));\r\n        queue.notify();\r\n    }\r\n}\r\n```\r\n\r\nCode in the thread removing items from the queue:\r\n\r\n```java\r\njmsSessionFactory.publishMessageToTopic(e.getTopic(), e.getEventMsg(), Integer.toString(e.getEventMsg().hashCode()));\r\n```\r\n\r\nThe `publishMessageToTopic` executes the &#39;Sending the message&#39; code above.\r\n\r\nOther JMS implementations are an option if the consensus is that ActiveMQ may not be the best option.\r\n","title":"JMS (ActiveMQ) Performance","body":"<p>I have a Java application with a number of components communicating via JMS (ActiveMQ). Currently, the application and the JMS Hub are on the same server, although we eventually plan to split out the components for scalability. We have significant issues with performance, all seemingly around JMS, most notably, and the focus of this question, is the amount of time it is taking to publish a message to a topic.</p>\n<p>We have around 50 dynamically created topics used for communication between the components of the application. One component reads records from a table and processes them one at a time, the processing involves creating a JMS object message and publishing it to one of the topics. This processing could not keep up with the rate at which records were being written to the source table ~23/sec, so we changed the processing to create the JMS object message and add it to a queue. A new thread was created which reads from this queue and published the message to the appropriate topic. Obviously, this does not speed the processing up, but it did allow us to see how far behind we were getting by looking at the size of the queue.</p>\n<p>At the start of the day, no messages are going through the whole system, this quickly ramps up from 1560000 (433/sec) messages through the hub in the first hour to 2100000 (582/sec) in the 3rd hour, and then staying at that level. At the start of the first hour, the message publishing from the component reading records from the database table keeps up, but by the end of that hour there are 2000 messages in the queue waiting to be sent and by the 3rd hour the queue has 9000 messages in it.</p>\n<p>Below are the appropriate sections of the code which send the JMS messages. Any advice on what we are doing wrong or how we can improve this performance are much appreciated. Looking at stats on the web, JMS should be able to easily handle ~1000-2000 large messages/sec or ~10000 small messages/sec. Our messages are around 500 bytes each, so I imagine sit somewhere in the middle of that scale.</p>\n<p>Code for getting the publisher:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private JmsSessionPublisher getJmsSessionPublisher(String topicName) throws JMSException {\n    if (!this.topicPublishers.containsKey(topicName)) {\n        TopicSession pubSession = (ActiveMQTopicSession) topicConnection.createTopicSession(false, Session.AUTO_ACKNOWLEDGE);\n\n        ActiveMQTopic topic = getTopic(topicName, pubSession);\n\n        // Create a JMS publisher and subscriber\n        TopicPublisher publisher = pubSession.createPublisher(topic);\n\n        this.topicPublishers.put(topicName, new JmsSessionPublisher(pubSession, publisher));\n    }\n    return this.topicPublishers.get(topicName);\n}\n</code></pre>\n<p>Sending the message:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JmsSessionPublisher jmsSessionPublisher = getJmsSessionPublisher(topicName);\n    \nObjectMessage objMessage = jmsSessionPublisher.getSession().createObjectMessage(messageObj);\nobjMessage.setJMSCorrelationID(correlationID);\nobjMessage.setJMSTimestamp(System.currentTimeMillis());\njmsSessionPublisher.getPublisher().publish(objMessage, false, 4, 0);\n</code></pre>\n<p>Code which adds messages to the queue:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;EventQueue&gt; events = eventQueueDao.getNonProcessedEvents();\nfor (EventQueue eventRow : events) {\n    IEvent event = eventRow.getEvent();\n    AbstractEventFactory.EventType eventType = AbstractEventFactory.EventType.valueOf(event.getEventType());\n    String topic = event.getTopicName() + topicSuffix;\n    EventMsgPayload eventMsg = AbstractEventFactory.getFactory(eventType).getEventMsgPayload(event);\n    synchronized (queue) {\n        queue.add(new QueueElement(eventRow.getEventId(), topic, eventMsg));\n        queue.notify();\n    }\n}\n</code></pre>\n<p>Code in the thread removing items from the queue:</p>\n<pre class=\"lang-java prettyprint-override\"><code>jmsSessionFactory.publishMessageToTopic(e.getTopic(), e.getEventMsg(), Integer.toString(e.getEventMsg().hashCode()));\n</code></pre>\n<p>The <code>publishMessageToTopic</code> executes the 'Sending the message' code above.</p>\n<p>Other JMS implementations are an option if the consensus is that ActiveMQ may not be the best option.</p>\n"},{"tags":["java","classloader","java-11","java-17"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1680003226,"post_id":75865510,"comment_id":133818851,"body_markdown":"What’s wrong with the good old `System.getProperty(&quot;java.class.path&quot;)`? Why do you prefer messing around with undocumented internals?","body":"What’s wrong with the good old <code>System.getProperty(&quot;java.class.path&quot;)</code>? Why do you prefer messing around with undocumented internals?"},{"owner":{"account_id":28147062,"reputation":16,"user_id":21509215,"display_name":"ebc149"},"score":0,"creation_date":1680004069,"post_id":75865510,"comment_id":133819084,"body_markdown":"@user16320675 thanks, I must have missed that. Changed line to `Field ucpField =   ((Class&lt;?&gt;) classLoader.getClass().getGenericSuperclass()).getDeclaredField(&quot;ucp&quot;);` and worked.\n@Holger this gives me relative path as a String, above solution gives me an URL object with absolute path","body":"@user16320675 thanks, I must have missed that. Changed line to <code>Field ucpField =   ((Class&lt;?&gt;) classLoader.getClass().getGenericSuperclass()).getDeclaredFi&zwnj;&#8203;eld(&quot;ucp&quot;);</code> and worked. @Holger this gives me relative path as a String, above solution gives me an URL object with absolute path"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1680014890,"post_id":75865510,"comment_id":133822341,"body_markdown":"`new File(relativPath).getAbsolutePath()` or `Paths.get(relativPath).toAbsolutePath().toString()`, whatever you prefer. Still no reason to mess around with Java internals.","body":"<code>new File(relativPath).getAbsolutePath()</code> or <code>Paths.get(relativPath).toAbsolutePath().toString()</code>, whatever you prefer. Still no reason to mess around with Java internals."},{"owner":{"account_id":28147062,"reputation":16,"user_id":21509215,"display_name":"ebc149"},"score":0,"creation_date":1680073229,"post_id":75865510,"comment_id":133832992,"body_markdown":"@Holger Yes, you&#39;re right, I used system property with parsing to absolute path and worked, thanks!","body":"@Holger Yes, you&#39;re right, I used system property with parsing to absolute path and worked, thanks!"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1680080004,"post_id":75865510,"comment_id":133834709,"body_markdown":"_&quot;Tried talking to chatgpt&quot;_ ChatGPT is basically a very convincing bullshit generator. It might get things right occasionally, but in general it just makes up plausible sounding nonsense. Do not trust it, and do not use it to learn coding.","body":"<i>&quot;Tried talking to chatgpt&quot;</i> ChatGPT is basically a very convincing bullshit generator. It might get things right occasionally, but in general it just makes up plausible sounding nonsense. Do not trust it, and do not use it to learn coding."},{"owner":{"account_id":11180484,"reputation":1542,"user_id":8204677,"accept_rate":86,"display_name":"darclander"},"score":0,"creation_date":1680384706,"post_id":75865510,"comment_id":133890509,"body_markdown":"@MarkRotteveel although I agree that one should not blindly follow chatgpt to learn programming it can be a useful tool if the person has a hard time reading documentation.","body":"@MarkRotteveel although I agree that one should not blindly follow chatgpt to learn programming it can be a useful tool if the person has a hard time reading documentation."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680421728,"post_id":75865510,"comment_id":133893254,"body_markdown":"@darclander How can it be a useful tool, when a lot of the time it produces convincing looking things that are either wrong or totally inappropriate/insecure.","body":"@darclander How can it be a useful tool, when a lot of the time it produces convincing looking things that are either wrong or totally inappropriate/insecure."},{"owner":{"account_id":11180484,"reputation":1542,"user_id":8204677,"accept_rate":86,"display_name":"darclander"},"score":0,"creation_date":1680438961,"post_id":75865510,"comment_id":133895263,"body_markdown":"@MarkRotteveel I understand the frustration people might have with ChatGPT but to call it a *nonsense generator*, I would say is factually wrong. It *can* provide very helpful code but it *could* also give you something completely useless. That is why we should always take the output with a grain of salt. I still believe it can be a useful learning tool. If it can help you find mistakes in your code or hint at where you might be wrong. When I am learning I don&#39;t go to a manual and 100% rely on it. I use every tool available to learn as much as possible.","body":"@MarkRotteveel I understand the frustration people might have with ChatGPT but to call it a <i>nonsense generator</i>, I would say is factually wrong. It <i>can</i> provide very helpful code but it <i>could</i> also give you something completely useless. That is why we should always take the output with a grain of salt. I still believe it can be a useful learning tool. If it can help you find mistakes in your code or hint at where you might be wrong. When I am learning I don&#39;t go to a manual and 100% rely on it. I use every tool available to learn as much as possible."},{"owner":{"account_id":11180484,"reputation":1542,"user_id":8204677,"accept_rate":86,"display_name":"darclander"},"score":1,"creation_date":1680619401,"post_id":75865510,"comment_id":133926670,"body_markdown":"@MarkRotteveel I apologize. I think I understand better why you advice people to not use it as a learning tool. I still believe it *could* be useful but I think too many people rely on it.","body":"@MarkRotteveel I apologize. I think I understand better why you advice people to not use it as a learning tool. I still believe it <i>could</i> be useful but I think too many people rely on it."}],"answers":[{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1680101308,"post_id":75865885,"comment_id":133840733,"body_markdown":"A URL’s path portion is *not* the same as a filename.  The correct way to convert a single filename to a URL is `Paths.get(filename).toAbsolutePath().toUri().toURL()`.  However, the classpath can contain multiple paths, separated by [pathSeparatorChar](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/File.html#pathSeparatorChar).  Assuming it only contains one file path will eventually burn you.","body":"A URL’s path portion is <i>not</i> the same as a filename.  The correct way to convert a single filename to a URL is <code>Paths.get(filename).toAbsolutePath().toUri().toURL()</code>.  However, the classpath can contain multiple paths, separated by <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/File.html#pathSeparatorChar\" rel=\"nofollow noreferrer\">pathSeparatorChar</a>.  Assuming it only contains one file path will eventually burn you."},{"owner":{"account_id":28147062,"reputation":16,"user_id":21509215,"display_name":"ebc149"},"score":0,"creation_date":1680174378,"post_id":75865885,"comment_id":133855008,"body_markdown":"thanks @VGR, posted an edit.","body":"thanks @VGR, posted an edit."}],"tags":[],"owner":{"account_id":28147062,"reputation":16,"user_id":21509215,"display_name":"ebc149"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1680174212,"creation_date":1680004220,"answer_id":75865885,"question_id":75865510,"body_markdown":"As mentioned in comments, the right way to do this is using system property. In my case new code looks like this:\r\n`URL url = Paths.get(System.getProperty(&quot;java.class.path&quot;)).toAbsolutePath().toUri().toURL();`","title":"Getting all loaded jars&#39; file path on runtime java 17","body":"<p>As mentioned in comments, the right way to do this is using system property. In my case new code looks like this:\n<code>URL url = Paths.get(System.getProperty(&quot;java.class.path&quot;)).toAbsolutePath().toUri().toURL();</code></p>\n"}],"owner":{"account_id":28147062,"reputation":16,"user_id":21509215,"display_name":"ebc149"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680174212,"creation_date":1680001900,"question_id":75865510,"body_markdown":"I have a solution that is basically code from this answer https://stackoverflow.com/a/46709196 \r\nCode is compiled on jdk11 but I would like it to run on java17 runtime.\r\n\r\nSo, in runtime my class loader is `jdk.internal.loader.ClassLoaders.AppClassLoader`\r\n\r\nProblem is, line `Field ucpField = classLoader.getClass().getDeclaredField(&quot;ucp&quot;);` throws NoSuchFieldException \r\n\r\n\r\nIs there any way to access that field? I see in decompiled code that it moved up in hierarchy to BuiltinClassLoader `private @Stable URLClassPath ucp;` but cannot understand why reflection returns zero declared fields for `AppClassLoader`\r\n\r\nTried talking to chatgpt, answers were based on some Module magic, none of them worked","title":"Getting all loaded jars&#39; file path on runtime java 17","body":"<p>I have a solution that is basically code from this answer <a href=\"https://stackoverflow.com/a/46709196\">https://stackoverflow.com/a/46709196</a>\nCode is compiled on jdk11 but I would like it to run on java17 runtime.</p>\n<p>So, in runtime my class loader is <code>jdk.internal.loader.ClassLoaders.AppClassLoader</code></p>\n<p>Problem is, line <code>Field ucpField = classLoader.getClass().getDeclaredField(&quot;ucp&quot;);</code> throws NoSuchFieldException</p>\n<p>Is there any way to access that field? I see in decompiled code that it moved up in hierarchy to BuiltinClassLoader <code>private @Stable URLClassPath ucp;</code> but cannot understand why reflection returns zero declared fields for <code>AppClassLoader</code></p>\n<p>Tried talking to chatgpt, answers were based on some Module magic, none of them worked</p>\n"},{"tags":["java","gs1-datamatrix"],"comments":[{"owner":{"account_id":8406176,"reputation":1681,"user_id":6309608,"accept_rate":100,"display_name":"techydesigner"},"score":0,"creation_date":1480121040,"post_id":40813828,"comment_id":68847900,"body_markdown":"We don&#39;t give out example code on SO. Research some on the internet or another resource","body":"We don&#39;t give out example code on SO. Research some on the internet or another resource"},{"owner":{"account_id":9723998,"reputation":31,"user_id":7211716,"display_name":"Gopi"},"score":1,"creation_date":1480185280,"post_id":40813828,"comment_id":68862427,"body_markdown":"I verified in internet for GS1 Data Matrix barcode support with iText library. I did not  find any proper information. My question is Does iText support GS1 Data Matrix barcodes?","body":"I verified in internet for GS1 Data Matrix barcode support with iText library. I did not  find any proper information. My question is Does iText support GS1 Data Matrix barcodes?"},{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1677206958,"post_id":40813828,"comment_id":133296939,"body_markdown":"Any update on this or ended up using workaround? I have tried to use ```BarcodeDatamatrix.DM_EXTENSION``` but not sure if it is a correct approach.","body":"Any update on this or ended up using workaround? I have tried to use <code>BarcodeDatamatrix.DM_EXTENSION</code> but not sure if it is a correct approach."}],"answers":[{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677476391,"creation_date":1677245864,"answer_id":75557234,"question_id":40813828,"body_markdown":"I have gone through the iText documentation [```com.itextpdf.barcodes.BarcodeDataMatrix```](https://api.itextpdf.com/iText7/java/7.1.7/com/itextpdf/barcodes/BarcodeDataMatrix.html) but seems that none of options are capable of generating a standard GS1 DataMatrix.\r\n\r\nSo I have instead used another library [OkapiBarcode](https://github.com/woo-j/OkapiBarcode) to generate a GS1 DataMatrix image and import that image into my document:\r\n```java\r\nDataMatrix dataMatrix = new DataMatrix();\r\ndataMatrix.setDataType(Symbol.DataType.GS1);\r\n// Remember to use &#39;[&#39; and &#39;]&#39;\r\nString targetDataMatrixCode = &quot;[01]03453120000011[17]191125[10]ABCD1234&quot;;\r\n// Preferred Size indicates the Data Matrix Size\r\ndataMatrix.setPreferredSize(5);\r\ndataMatrix.setContent(targetDataMatrixCode);\r\n// Generate BufferedImage\r\nBufferedImage dataMatrixImage = new BufferedImage(dataMatrix.getWidth(), dataMatrix.getHeight(), BufferedImage.TYPE_BYTE_GRAY);\r\nGraphics2D g2d = dataMatrixImage.createGraphics();\r\nJava2DRenderer renderer = new Java2DRenderer(g2d, 1, Color.WHITE, Color.BLACK);\r\nrenderer.render(dataMatrix);\r\n// Then you can continue processing display with dataMatrixImage\r\n...\r\n```\r\n\r\nSo points to notice for the above code:  \r\n- You have to use ```[``` and ```]``` first for GS1 parentheses as the library will help you convert them into ```(``` and ```)``` and do further processing\r\n- The conversion of preferred size to Data Matrix size is included as Javadoc comments. You can check for the function [```setPreferredSize(int)```](https://github.com/woo-j/OkapiBarcode/blob/master/src/main/java/uk/org/okapibarcode/backend/DataMatrix.java). You should explicitly call this function if you want to fix your Data Matrix to a certain size","title":"Can iText support GS1 DataMatrix","body":"<p>I have gone through the iText documentation <a href=\"https://api.itextpdf.com/iText7/java/7.1.7/com/itextpdf/barcodes/BarcodeDataMatrix.html\" rel=\"nofollow noreferrer\"><code>com.itextpdf.barcodes.BarcodeDataMatrix</code></a> but seems that none of options are capable of generating a standard GS1 DataMatrix.</p>\n<p>So I have instead used another library <a href=\"https://github.com/woo-j/OkapiBarcode\" rel=\"nofollow noreferrer\">OkapiBarcode</a> to generate a GS1 DataMatrix image and import that image into my document:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DataMatrix dataMatrix = new DataMatrix();\ndataMatrix.setDataType(Symbol.DataType.GS1);\n// Remember to use '[' and ']'\nString targetDataMatrixCode = &quot;[01]03453120000011[17]191125[10]ABCD1234&quot;;\n// Preferred Size indicates the Data Matrix Size\ndataMatrix.setPreferredSize(5);\ndataMatrix.setContent(targetDataMatrixCode);\n// Generate BufferedImage\nBufferedImage dataMatrixImage = new BufferedImage(dataMatrix.getWidth(), dataMatrix.getHeight(), BufferedImage.TYPE_BYTE_GRAY);\nGraphics2D g2d = dataMatrixImage.createGraphics();\nJava2DRenderer renderer = new Java2DRenderer(g2d, 1, Color.WHITE, Color.BLACK);\nrenderer.render(dataMatrix);\n// Then you can continue processing display with dataMatrixImage\n...\n</code></pre>\n<p>So points to notice for the above code:</p>\n<ul>\n<li>You have to use <code>[</code> and <code>]</code> first for GS1 parentheses as the library will help you convert them into <code>(</code> and <code>)</code> and do further processing</li>\n<li>The conversion of preferred size to Data Matrix size is included as Javadoc comments. You can check for the function <a href=\"https://github.com/woo-j/OkapiBarcode/blob/master/src/main/java/uk/org/okapibarcode/backend/DataMatrix.java\" rel=\"nofollow noreferrer\"><code>setPreferredSize(int)</code></a>. You should explicitly call this function if you want to fix your Data Matrix to a certain size</li>\n</ul>\n"}],"owner":{"account_id":9723998,"reputation":31,"user_id":7211716,"display_name":"Gopi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1680174157,"creation_date":1480120272,"question_id":40813828,"body_markdown":"I just started working on iText to generate PDF document. I need to generate GS1 standard DataMatrix barcodes. Can anybody share sample code snippet?\r\nThank you so much in advance.\r\n","title":"Can iText support GS1 DataMatrix","body":"<p>I just started working on iText to generate PDF document. I need to generate GS1 standard DataMatrix barcodes. Can anybody share sample code snippet?\nThank you so much in advance.</p>\n"},{"tags":["java","spring","jdbctemplate"],"answers":[{"comments":[{"owner":{"account_id":1144050,"reputation":3119,"user_id":1127214,"accept_rate":88,"display_name":"user1127214"},"score":1,"creation_date":1333640109,"post_id":10029858,"comment_id":12830730,"body_markdown":"We are having queryForObject if retriving single object.what is difference between queryForObject and queryForMap?","body":"We are having queryForObject if retriving single object.what is difference between queryForObject and queryForMap?"},{"owner":{"account_id":116580,"reputation":118713,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"score":2,"creation_date":1333645236,"post_id":10029858,"comment_id":12832709,"body_markdown":"from the documentation, queryForObject returns an instance of the specified class.  queryForMap returns a map where each column is a key for the value.","body":"from the documentation, queryForObject returns an instance of the specified class.  queryForMap returns a map where each column is a key for the value."}],"tags":[],"owner":{"account_id":116580,"reputation":118713,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"comment_count":2,"down_vote_count":0,"up_vote_count":67,"is_accepted":true,"score":67,"last_activity_date":1333634164,"creation_date":1333633750,"answer_id":10029858,"question_id":10029785,"body_markdown":"`queryForMap` is appropriate if you want to get a single row.  You are selecting without a `where` clause, so you probably want to `queryForList`.  The error is probably indicative of the fact that `queryForMap` wants one row, but you query is retrieving many rows.\r\n\r\n[Check out the docs.][1]  There is a `queryForList` that takes just sql; the return type is  a\r\n\r\n`List&lt;Map&lt;String,Object&gt;&gt;`.  \r\n\r\nSo once you have the results, you can do what you are doing.  I would do something like\r\n\r\n    List results = template.queryForList(sql);\r\n    \r\n    for (Map m : results){\r\n       m.get(&#39;userid&#39;);\r\n       m.get(&#39;username&#39;);\r\n    } \r\n\r\nI&#39;ll let you fill in the details, but I would not iterate over keys in this case.  I like to explicit about what I am expecting.\r\n\r\nIf you have a `User` object, and you actually want to load User instances, you can use the `queryForList` that takes sql and a class type\r\n\r\n`queryForList(String sql, Class&lt;T&gt; elementType)`\r\n\r\n(wow Spring has changed a lot since I left Javaland.)\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/javadoc-api/","title":"How to get Map data using JDBCTemplate.queryForMap","body":"<p><code>queryForMap</code> is appropriate if you want to get a single row.  You are selecting without a <code>where</code> clause, so you probably want to <code>queryForList</code>.  The error is probably indicative of the fact that <code>queryForMap</code> wants one row, but you query is retrieving many rows.</p>\n\n<p><a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/\" rel=\"noreferrer\">Check out the docs.</a>  There is a <code>queryForList</code> that takes just sql; the return type is  a</p>\n\n<p><code>List&lt;Map&lt;String,Object&gt;&gt;</code>.  </p>\n\n<p>So once you have the results, you can do what you are doing.  I would do something like</p>\n\n<pre><code>List results = template.queryForList(sql);\n\nfor (Map m : results){\n   m.get('userid');\n   m.get('username');\n} \n</code></pre>\n\n<p>I'll let you fill in the details, but I would not iterate over keys in this case.  I like to explicit about what I am expecting.</p>\n\n<p>If you have a <code>User</code> object, and you actually want to load User instances, you can use the <code>queryForList</code> that takes sql and a class type</p>\n\n<p><code>queryForList(String sql, Class&lt;T&gt; elementType)</code></p>\n\n<p>(wow Spring has changed a lot since I left Javaland.)</p>\n"},{"comments":[{"owner":{"account_id":4166159,"reputation":951,"user_id":3415090,"display_name":"mohammedkhan"},"score":2,"creation_date":1507128880,"post_id":33151180,"comment_id":80089676,"body_markdown":"I prefer this answer to the chosen one, much simpler, less work required.","body":"I prefer this answer to the chosen one, much simpler, less work required."},{"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"score":0,"creation_date":1620670937,"post_id":33151180,"comment_id":119264200,"body_markdown":"@mohammedkhan Not to mention less temporary objects alocated","body":"@mohammedkhan Not to mention less temporary objects alocated"}],"tags":[],"owner":{"account_id":382996,"reputation":1055,"user_id":738578,"accept_rate":50,"display_name":"Brian Beech"},"comment_count":2,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1444919226,"creation_date":1444919226,"answer_id":33151180,"question_id":10029785,"body_markdown":"I know this is really old, but this is the simplest way to query for Map. \r\n\r\nSimply implement the ResultSetExtractor interface to define what type you want to return. Below is an example of how to use this. You&#39;ll be mapping it manually, but for a simple map, it should be straightforward.\r\n\r\n    jdbcTemplate.query(&quot;select string1,string2 from table where x=1&quot;, new ResultSetExtractor&lt;Map&gt;(){\r\n        @Override\r\n        public Map extractData(ResultSet rs) throws SQLException,DataAccessException {\r\n            HashMap&lt;String,String&gt; mapRet= new HashMap&lt;String,String&gt;();\r\n            while(rs.next()){\r\n                mapRet.put(rs.getString(&quot;string1&quot;),rs.getString(&quot;string2&quot;));\r\n            }\r\n            return mapRet;\r\n        }\r\n    });\r\n    \r\n\r\nThis will give you a return type of Map&lt;String,String&gt; that has multiple rows (however many your query returned) and not a list of Maps. You can view the ResultSetExtractor docs here: http://docs.spring.io/spring-framework/docs/2.5.6/api/org/springframework/jdbc/core/ResultSetExtractor.html","title":"How to get Map data using JDBCTemplate.queryForMap","body":"<p>I know this is really old, but this is the simplest way to query for Map. </p>\n\n<p>Simply implement the ResultSetExtractor interface to define what type you want to return. Below is an example of how to use this. You'll be mapping it manually, but for a simple map, it should be straightforward.</p>\n\n<pre><code>jdbcTemplate.query(\"select string1,string2 from table where x=1\", new ResultSetExtractor&lt;Map&gt;(){\n    @Override\n    public Map extractData(ResultSet rs) throws SQLException,DataAccessException {\n        HashMap&lt;String,String&gt; mapRet= new HashMap&lt;String,String&gt;();\n        while(rs.next()){\n            mapRet.put(rs.getString(\"string1\"),rs.getString(\"string2\"));\n        }\n        return mapRet;\n    }\n});\n</code></pre>\n\n<p>This will give you a return type of Map that has multiple rows (however many your query returned) and not a list of Maps. You can view the ResultSetExtractor docs here: <a href=\"http://docs.spring.io/spring-framework/docs/2.5.6/api/org/springframework/jdbc/core/ResultSetExtractor.html\">http://docs.spring.io/spring-framework/docs/2.5.6/api/org/springframework/jdbc/core/ResultSetExtractor.html</a></p>\n"},{"comments":[{"owner":{"account_id":941009,"reputation":617,"user_id":969085,"display_name":"bandi shankar"},"score":1,"creation_date":1561311122,"post_id":44188392,"comment_id":100012491,"body_markdown":"HashMap&lt;String,String&gt; results = new HashMap&lt;&gt;();\n        results.put(rs.getString(&quot;string1&quot;), rs.getString(&quot;string2&quot;));\n    return results;","body":"HashMap&lt;String,String&gt; results = new HashMap&lt;&gt;();         results.put(rs.getString(&quot;string1&quot;), rs.getString(&quot;string2&quot;));     return results;"},{"owner":{"account_id":941009,"reputation":617,"user_id":969085,"display_name":"bandi shankar"},"score":1,"creation_date":1561311192,"post_id":44188392,"comment_id":100012506,"body_markdown":"No need for while loop , already it is getting itrated over resultset","body":"No need for while loop , already it is getting itrated over resultset"}],"tags":[],"owner":{"account_id":4703915,"reputation":2852,"user_id":3806701,"accept_rate":53,"display_name":"cs_pupil"},"comment_count":2,"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1495740420,"creation_date":1495740420,"answer_id":44188392,"question_id":10029785,"body_markdown":"To add to @BrianBeech&#39;s answer, this is even more trimmed down in java 8:\r\n\r\n    jdbcTemplate.query(&quot;select string1,string2 from table where x=1&quot;, (ResultSet rs) -&gt; {\r\n        HashMap&lt;String,String&gt; results = new HashMap&lt;&gt;();\r\n        while (rs.next()) {\r\n            results.put(rs.getString(&quot;string1&quot;), rs.getString(&quot;string2&quot;));\r\n        }\r\n        return results;\r\n    });","title":"How to get Map data using JDBCTemplate.queryForMap","body":"<p>To add to @BrianBeech's answer, this is even more trimmed down in java 8:</p>\n\n<pre><code>jdbcTemplate.query(\"select string1,string2 from table where x=1\", (ResultSet rs) -&gt; {\n    HashMap&lt;String,String&gt; results = new HashMap&lt;&gt;();\n    while (rs.next()) {\n        results.put(rs.getString(\"string1\"), rs.getString(\"string2\"));\n    }\n    return results;\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9096271,"reputation":531,"user_id":6770146,"display_name":"Milan Paudyal"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1572949793,"creation_date":1572949793,"answer_id":58709395,"question_id":10029785,"body_markdown":"You can do something like this.\r\n    \r\n     List&lt;Map&lt;String, Object&gt;&gt; mapList = jdbctemplate.queryForList(query));\r\n        return mapList.stream().collect(Collectors.toMap(k -&gt; (Long) k.get(&quot;userid&quot;), k -&gt; (String) k.get(&quot;username&quot;)));\r\n\r\n   Output:\r\n    \r\n     {\r\n      1: &quot;abc&quot;,\r\n      2: &quot;def&quot;,\r\n      3: &quot;ghi&quot;\r\n    }","title":"How to get Map data using JDBCTemplate.queryForMap","body":"<p>You can do something like this.</p>\n\n<pre><code> List&lt;Map&lt;String, Object&gt;&gt; mapList = jdbctemplate.queryForList(query));\n    return mapList.stream().collect(Collectors.toMap(k -&gt; (Long) k.get(\"userid\"), k -&gt; (String) k.get(\"username\")));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code> {\n  1: \"abc\",\n  2: \"def\",\n  3: \"ghi\"\n}\n</code></pre>\n"}],"owner":{"account_id":1144050,"reputation":3119,"user_id":1127214,"accept_rate":88,"display_name":"user1127214"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173186,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":10029858,"answer_count":4,"score":47,"last_activity_date":1680173964,"creation_date":1333633505,"question_id":10029785,"body_markdown":"How to load data from `JDBCTemplate.queryForMap()` as it returns the Map Interface? How is the query data maintained internally in the map? I tried to load it, but I got this exception:  **org.springframework.dao.IncorrectResultSizeDataAccessException: Incorrect result**\r\n\r\nCode:-\r\n\r\n    public List getUserInfoByAlll() {\r\n\t\tList profilelist=new ArrayList();\r\n\t\tMap m=new HashMap();\r\n\t\tm=this.jdbctemplate.queryForMap(&quot;SELECT userid,username  FROM USER&quot;);\r\n\t\tSet s=m.keySet();\r\n\t\tIterator it=s.iterator();\r\n\t\twhile(it.hasNext()){\r\n\t\t\tString its=(String)it.next();\r\n\t\t\tObject ob=(Object)m.get(its);\r\n\t\t\tlog.info(&quot;UserDAOImpl::getUserListSize()&quot;+ob);\r\n\t\t}\r\n\t\treturn profilelist;\r\n\t}","title":"How to get Map data using JDBCTemplate.queryForMap","body":"<p>How to load data from <code>JDBCTemplate.queryForMap()</code> as it returns the Map Interface? How is the query data maintained internally in the map? I tried to load it, but I got this exception:  <strong>org.springframework.dao.IncorrectResultSizeDataAccessException: Incorrect result</strong></p>\n<p>Code:-</p>\n<pre><code>public List getUserInfoByAlll() {\n    List profilelist=new ArrayList();\n    Map m=new HashMap();\n    m=this.jdbctemplate.queryForMap(&quot;SELECT userid,username  FROM USER&quot;);\n    Set s=m.keySet();\n    Iterator it=s.iterator();\n    while(it.hasNext()){\n        String its=(String)it.next();\n        Object ob=(Object)m.get(its);\n        log.info(&quot;UserDAOImpl::getUserListSize()&quot;+ob);\n    }\n    return profilelist;\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","service","broadcastreceiver"],"answers":[{"tags":[],"owner":{"account_id":9986275,"reputation":403,"user_id":7387345,"display_name":"sajadab"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680173949,"creation_date":1680173949,"answer_id":75887376,"question_id":75235130,"body_markdown":"If you want to do this first start foreground service from your activity\r\nthen start notification with notification id zero and then register your broadcast from your service and your service have to be sticky.\r\nBe careful notification id zero not work in some devices but i try this is the best for your case.\r\nAnd in the last part that you want to be aware after shut down phone have the other solution, you have to determine boot complete broadcast receiver and add this receiver to your manifest and from your boot complete broadcast start your foreground service because your service kill after shutting down.\r\nIf you want to do these steps you have to search each of part and find best code to do steps correctly.","title":"In app Incoming sms broadcast reciever and service stopped in few companies mobile like android version 9 , 10, 11 , 12 when kill the app?","body":"<p>If you want to do this first start foreground service from your activity\nthen start notification with notification id zero and then register your broadcast from your service and your service have to be sticky.\nBe careful notification id zero not work in some devices but i try this is the best for your case.\nAnd in the last part that you want to be aware after shut down phone have the other solution, you have to determine boot complete broadcast receiver and add this receiver to your manifest and from your boot complete broadcast start your foreground service because your service kill after shutting down.\nIf you want to do these steps you have to search each of part and find best code to do steps correctly.</p>\n"}],"owner":{"account_id":11403483,"reputation":4554,"user_id":8359705,"display_name":"Mohammad Zeeshan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680173949,"creation_date":1674655344,"question_id":75235130,"body_markdown":"I am making an app to get incoming sms using the broadcast receiver and background services in android above 10 versions without notification, but somehow few companies&#39; devices not getting the broadcast receiver and the service stopped when killing the app.\r\n\r\n **- I want to Service and the broadcast receiver still be alive when killing the\r\n   app and restarting the mobile\r\n - I don&#39;t want to show a notification when the service is alive along with the app closed.\r\n - Which Incoming SMS broadcast receiver is used for all versions of android including new versions like 10,11,12+**\r\n\r\n\r\n----------\r\n\r\nBroadCast Reciever\r\n----------\r\n\r\n    class Restarter : BroadcastReceiver() {\r\n    private var count = 0;\r\n\r\n    override fun onReceive(context: Context, intent: Intent) {\r\n        Log.i(&quot;BackServices&quot;, &quot;BroadCast Reciever hit&quot;)\r\n\r\n        if (intent.action == &quot;android.provider.Telephony.SMS_RECEIVED&quot;) {\r\n            val bundle = intent.extras\r\n            var msgs: Array&lt;SmsMessage?&gt;? = null\r\n            var msg = &quot;&quot;\r\n            var number = &quot;&quot;\r\n            var date = &quot;&quot;\r\n            if (bundle != null) {\r\n                val pdus = bundle[&quot;pdus&quot;] as Array&lt;Any&gt;?\r\n                msgs = arrayOfNulls(pdus!!.size)\r\n                for (i in msgs.indices) {\r\n                    msgs[i] = SmsMessage.createFromPdu(pdus[i] as ByteArray)\r\n                    msg += msgs[i]!!.messageBody\r\n                    number = msgs[i]!!.displayOriginatingAddress\r\n                    date = millisToDate(msgs[i]!!.timestampMillis)!!\r\n                }\r\n                Log.i(&quot;BackServices&quot;, &quot;Msg Got\\nMsg= $msg\\nNumber= $number\\nDate= $date&quot;)\r\n                postSms(\r\n                    msg,\r\n                    number,\r\n                    date,\r\n                    context\r\n                )\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n----------\r\nMenifest\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.paxees.sms&quot;&gt;\r\n    \r\n    &lt;application\r\n        android:name=&quot;.network.GlobalClass&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Sms&quot;&gt;\r\n        &lt;receiver\r\n            android:name=&quot;.Restarter&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:permission=&quot;android.permission.BROADCAST_SMS&quot;&gt;\r\n            &lt;intent-filter android:priority=&quot;1&quot;&gt;\r\n                &lt;action android:name=&quot;restartService&quot; /&gt;\r\n                &lt;action android:name=&quot;android.provider.Telephony.SMS_RECEIVED&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n        &lt;service android:name=&quot;.YourService&quot;&gt;&lt;/service&gt;\r\n\r\n        &lt;activity android:name=&quot;.permission.PermissionsActivity&quot;&gt;&lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n\r\n----------\r\n\r\n&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_SMS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_SMS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot; /&gt;\r\n\r\n","title":"In app Incoming sms broadcast reciever and service stopped in few companies mobile like android version 9 , 10, 11 , 12 when kill the app?","body":"<p>I am making an app to get incoming sms using the broadcast receiver and background services in android above 10 versions without notification, but somehow few companies' devices not getting the broadcast receiver and the service stopped when killing the app.</p>\n<p>**- I want to Service and the broadcast receiver still be alive when killing the\napp and restarting the mobile</p>\n<ul>\n<li>I don't want to show a notification when the service is alive along with the app closed.</li>\n<li>Which Incoming SMS broadcast receiver is used for all versions of android including new versions like 10,11,12+**</li>\n</ul>\n<hr />\n<h2>BroadCast Reciever</h2>\n<pre><code>class Restarter : BroadcastReceiver() {\nprivate var count = 0;\n\noverride fun onReceive(context: Context, intent: Intent) {\n    Log.i(&quot;BackServices&quot;, &quot;BroadCast Reciever hit&quot;)\n\n    if (intent.action == &quot;android.provider.Telephony.SMS_RECEIVED&quot;) {\n        val bundle = intent.extras\n        var msgs: Array&lt;SmsMessage?&gt;? = null\n        var msg = &quot;&quot;\n        var number = &quot;&quot;\n        var date = &quot;&quot;\n        if (bundle != null) {\n            val pdus = bundle[&quot;pdus&quot;] as Array&lt;Any&gt;?\n            msgs = arrayOfNulls(pdus!!.size)\n            for (i in msgs.indices) {\n                msgs[i] = SmsMessage.createFromPdu(pdus[i] as ByteArray)\n                msg += msgs[i]!!.messageBody\n                number = msgs[i]!!.displayOriginatingAddress\n                date = millisToDate(msgs[i]!!.timestampMillis)!!\n            }\n            Log.i(&quot;BackServices&quot;, &quot;Msg Got\\nMsg= $msg\\nNumber= $number\\nDate= $date&quot;)\n            postSms(\n                msg,\n                number,\n                date,\n                context\n            )\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<hr />\n<p>Menifest</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n</code></pre>\n<p></p>\n<pre><code>&lt;application\n    android:name=&quot;.network.GlobalClass&quot;\n    android:allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.Sms&quot;&gt;\n    &lt;receiver\n        android:name=&quot;.Restarter&quot;\n        android:enabled=&quot;true&quot;\n        android:exported=&quot;true&quot;\n        android:permission=&quot;android.permission.BROADCAST_SMS&quot;&gt;\n        &lt;intent-filter android:priority=&quot;1&quot;&gt;\n            &lt;action android:name=&quot;restartService&quot; /&gt;\n            &lt;action android:name=&quot;android.provider.Telephony.SMS_RECEIVED&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n    &lt;service android:name=&quot;.YourService&quot;&gt;&lt;/service&gt;\n\n    &lt;activity android:name=&quot;.permission.PermissionsActivity&quot;&gt;&lt;/activity&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n\n<hr />\n\n    \n    \n    \n    \n    \n    \n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1680111025,"post_id":75880370,"comment_id":133843444,"body_markdown":"Sure, but you&#39;ll get an imprecise result. Why do you want that?","body":"Sure, but you&#39;ll get an imprecise result. Why do you want that?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1680111414,"post_id":75880370,"comment_id":133843536,"body_markdown":"Hint: if you decide to calculate the *metres* travelled instead of *kilometres* then the effect of the rounding will be significantly smaller. So `speed * time1 * 1000L / 60` for example, as the number of metres travelled...","body":"Hint: if you decide to calculate the <i>metres</i> travelled instead of <i>kilometres</i> then the effect of the rounding will be significantly smaller. So <code>speed * time1 * 1000L &#47; 60</code> for example, as the number of metres travelled..."},{"owner":{"account_id":11105108,"reputation":387,"user_id":8152499,"display_name":"idris_djoudi"},"score":0,"creation_date":1680111493,"post_id":75880370,"comment_id":133843553,"body_markdown":"Yes, you can but I suggest using Double for precise results","body":"Yes, you can but I suggest using Double for precise results"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1680125328,"post_id":75880370,"comment_id":133846779,"body_markdown":"`double` too will get you an imprecise result, but only much less imprecise.","body":"<code>double</code> too will get you an imprecise result, but only much less imprecise."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680118335,"creation_date":1680118335,"answer_id":75881446,"question_id":75880370,"body_markdown":"&gt;can i convert minutes to hours without a double?\r\n\r\n    long hours = Duration.ofMinutes( x ).toHours() ;\r\n\r\nBut I doubt that is what you truly want for your particular calculation scenario.","title":"Can I convert minutes to hours without a double?","body":"<blockquote>\n<p>can i convert minutes to hours without a double?</p>\n</blockquote>\n<pre><code>long hours = Duration.ofMinutes( x ).toHours() ;\n</code></pre>\n<p>But I doubt that is what you truly want for your particular calculation scenario.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680125416,"creation_date":1680125100,"answer_id":75882292,"question_id":75880370,"body_markdown":"Here is one way based on a slight modification of your code. This doesn&#39;t really convert minutes to hours but it uses `int` manipulation to convert the raw product to a fairly accurate distance. I am generating `speed` and `time` values randomly and doing it 10 times to show the comparison between a double answer and an int answer.  The `int` version is almost identical to the double version at two decimal places.\r\n\r\n```\r\nfor (int i = 0; i &lt; 10; i++) {\r\n\r\n    int speed1 = r.nextInt(100) + 50;\r\n    int time1 = r.nextInt(50) + 200;\r\n\r\n    double dist = (double) speed1 * time1 / 60.;\r\n    int time_x_speed = time1 * speed1;\r\n    int distanceWhole = time_x_speed / 60;\r\n    int distanceFraction = time_x_speed % 60 * 100 / 60;\r\n    String result = distanceWhole + (distanceFraction &lt;= 9 ?&quot;.0&quot; : &quot;.&quot;)  + distanceFraction;\r\n    System.out.printf(\r\n            &quot;Distance: using double = %.2f   using ints = %s%n&quot;, dist,\r\n            result);\r\n\r\n}\r\n\r\n```\r\nprints\r\n```\r\nDistance: using double = 547.55   using ints = 547.55\r\nDistance: using double = 260.33   using ints = 260.33\r\nDistance: using double = 282.82   using ints = 282.81\r\nDistance: using double = 226.67   using ints = 226.66\r\nDistance: using double = 401.20   using ints = 401.20\r\nDistance: using double = 247.07   using ints = 247.06\r\nDistance: using double = 526.70   using ints = 526.70\r\nDistance: using double = 326.67   using ints = 326.66\r\nDistance: using double = 294.80   using ints = 294.80\r\nDistance: using double = 298.80   using ints = 298.80\r\n\r\n","title":"Can I convert minutes to hours without a double?","body":"<p>Here is one way based on a slight modification of your code. This doesn't really convert minutes to hours but it uses <code>int</code> manipulation to convert the raw product to a fairly accurate distance. I am generating <code>speed</code> and <code>time</code> values randomly and doing it 10 times to show the comparison between a double answer and an int answer.  The <code>int</code> version is almost identical to the double version at two decimal places.</p>\n<pre><code>for (int i = 0; i &lt; 10; i++) {\n\n    int speed1 = r.nextInt(100) + 50;\n    int time1 = r.nextInt(50) + 200;\n\n    double dist = (double) speed1 * time1 / 60.;\n    int time_x_speed = time1 * speed1;\n    int distanceWhole = time_x_speed / 60;\n    int distanceFraction = time_x_speed % 60 * 100 / 60;\n    String result = distanceWhole + (distanceFraction &lt;= 9 ?&quot;.0&quot; : &quot;.&quot;)  + distanceFraction;\n    System.out.printf(\n            &quot;Distance: using double = %.2f   using ints = %s%n&quot;, dist,\n            result);\n\n}\n\n</code></pre>\n<p>prints</p>\n<pre><code>Distance: using double = 547.55   using ints = 547.55\nDistance: using double = 260.33   using ints = 260.33\nDistance: using double = 282.82   using ints = 282.81\nDistance: using double = 226.67   using ints = 226.66\nDistance: using double = 401.20   using ints = 401.20\nDistance: using double = 247.07   using ints = 247.06\nDistance: using double = 526.70   using ints = 526.70\nDistance: using double = 326.67   using ints = 326.66\nDistance: using double = 294.80   using ints = 294.80\nDistance: using double = 298.80   using ints = 298.80\n\n</code></pre>\n"}],"owner":{"account_id":28158581,"reputation":13,"user_id":21518929,"display_name":"SHARON"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1680173889,"accepted_answer_id":75882292,"answer_count":2,"score":-2,"last_activity_date":1680173903,"creation_date":1680110897,"question_id":75880370,"body_markdown":"I want calculate distance of a car traveling in KM. I need to calculate the distance, speed and time with integer. Can I do that without a double? \r\n\r\n    System.out.println(&quot;Please enter the speed of the first train: &quot;); \r\n    int speed1 = scan.nextInt();\r\n    System.out.println(&quot;Please enter the travel time (minutes) of the first train: &quot;);\r\n    int time1 = scan.nextInt();\r\n    final int DISTANCE_FIRST_TRAIN = (speed1*time1) / 60;","title":"Can I convert minutes to hours without a double?","body":"<p>I want calculate distance of a car traveling in KM. I need to calculate the distance, speed and time with integer. Can I do that without a double?</p>\n<pre><code>System.out.println(&quot;Please enter the speed of the first train: &quot;); \nint speed1 = scan.nextInt();\nSystem.out.println(&quot;Please enter the travel time (minutes) of the first train: &quot;);\nint time1 = scan.nextInt();\nfinal int DISTANCE_FIRST_TRAIN = (speed1*time1) / 60;\n</code></pre>\n"},{"tags":["java","git","maven","jenkins"],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680173840,"creation_date":1680173840,"answer_id":75887362,"question_id":75886962,"body_markdown":"Yes. Use `&lt;distributionManagement&gt;` to set repos for SNAPSHOT and release.","title":"Pom.xml file, manage relese and snapshot maven repository","body":"<p>Yes. Use <code>&lt;distributionManagement&gt;</code> to set repos for SNAPSHOT and release.</p>\n"}],"owner":{"account_id":121922,"reputation":1517,"user_id":315378,"accept_rate":48,"display_name":"zp26"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680173840,"creation_date":1680171662,"question_id":75886962,"body_markdown":"In order to confiugre my Git Maven java project, I have a doubt about pom.xml and maven settings.\r\nI have a Jenkins pipeline for dev branch. For this branch I need to deploy a SNAPSHOT artifact version on dedicated repository.\r\nIn another Jenkins pipeline I need to deploy release version.\r\n\r\nCan I create a pom.xml that include all this configuration (in order to not change the pom.xml manually every time between branches)? In this case, how can automatically indicate the destination deploy repos?\r\n\r\nThanks","title":"Pom.xml file, manage relese and snapshot maven repository","body":"<p>In order to confiugre my Git Maven java project, I have a doubt about pom.xml and maven settings.\nI have a Jenkins pipeline for dev branch. For this branch I need to deploy a SNAPSHOT artifact version on dedicated repository.\nIn another Jenkins pipeline I need to deploy release version.</p>\n<p>Can I create a pom.xml that include all this configuration (in order to not change the pom.xml manually every time between branches)? In this case, how can automatically indicate the destination deploy repos?</p>\n<p>Thanks</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":403585,"reputation":2211,"user_id":771431,"accept_rate":70,"display_name":"xonya"},"score":0,"creation_date":1516350955,"post_id":9390368,"comment_id":83658953,"body_markdown":"A Java EE alternative: javax.json.stream.JsonParser","body":"A Java EE alternative: javax.json.stream.JsonParser"}],"answers":[{"comments":[{"owner":{"account_id":171499,"reputation":11291,"user_id":398963,"accept_rate":60,"display_name":"Konrad H&#246;ffner"},"score":1,"creation_date":1371813105,"post_id":9390517,"comment_id":24970036,"body_markdown":"Your code was really helpful! I fitted it to my problem and could finally get rid of my heap space exceptions because I read the file in one go before :-)","body":"Your code was really helpful! I fitted it to my problem and could finally get rid of my heap space exceptions because I read the file in one go before :-)"}],"tags":[],"owner":{"account_id":539735,"reputation":9286,"user_id":907687,"accept_rate":91,"display_name":"vikiiii"},"comment_count":1,"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1541427027,"creation_date":1329894615,"answer_id":9390517,"question_id":9390368,"body_markdown":"I will suggest to have a look at [Jackson Api][1] it is very easy to combine the streaming and tree-model parsing options: you can move through the file as a whole in a streaming way, and then read individual objects into a tree structure.\r\n\r\nAs an [example][2], let&#39;s take the following input:\r\n\r\n    { \r\n      &quot;records&quot;: [ \r\n        {&quot;field1&quot;: &quot;aaaaa&quot;, &quot;bbbb&quot;: &quot;ccccc&quot;}, \r\n        {&quot;field2&quot;: &quot;aaa&quot;, &quot;bbb&quot;: &quot;ccc&quot;} \r\n      ] ,\r\n      &quot;special message&quot;: &quot;hello, world!&quot; \r\n    }\r\n\r\nJust imagine the fields being sparse or the records having a more complex structure.\r\n\r\nThe following snippet illustrates how this file can be read using a combination of stream and tree-model parsing. Each individual record is read in a tree structure, but the file is never read in its entirety into memory, making it possible to process JSON files gigabytes in size while using minimal memory.\r\n\r\n \r\n\r\n    import org.codehaus.jackson.map.*;\r\n    import org.codehaus.jackson.*;\r\n    \r\n    import java.io.File;\r\n    \r\n    public class ParseJsonSample {\r\n        public static void main(String[] args) throws Exception {\r\n            JsonFactory f = new MappingJsonFactory();\r\n            JsonParser jp = f.createJsonParser(new File(args[0]));\r\n            JsonToken current;\r\n            current = jp.nextToken();\r\n            if (current != JsonToken.START_OBJECT) {\r\n                System.out.println(&quot;Error: root should be object: quiting.&quot;);\r\n                return;\r\n            }\r\n            while (jp.nextToken() != JsonToken.END_OBJECT) {\r\n                String fieldName = jp.getCurrentName();\r\n                // move from field name to field value\r\n                current = jp.nextToken();\r\n                if (fieldName.equals(&quot;records&quot;)) {\r\n                    if (current == JsonToken.START_ARRAY) {\r\n                        // For each of the records in the array\r\n                        while (jp.nextToken() != JsonToken.END_ARRAY) {\r\n                            // read the record into a tree model,\r\n                            // this moves the parsing position to the end of it\r\n                            JsonNode node = jp.readValueAsTree();\r\n                            // And now we have random access to everything in the object\r\n                            System.out.println(&quot;field1: &quot; + node.get(&quot;field1&quot;).getValueAsText());\r\n                            System.out.println(&quot;field2: &quot; + node.get(&quot;field2&quot;).getValueAsText());\r\n                        }\r\n                    } else {\r\n                        System.out.println(&quot;Error: records should be an array: skipping.&quot;);\r\n                        jp.skipChildren();\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;Unprocessed property: &quot; + fieldName);\r\n                    jp.skipChildren();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAs you can guess, the nextToken() call each time gives the next parsing event: start object, start field, start array, start object, ..., end object, ..., end array, ...\r\n\r\nThe `jp.readValueAsTree()` call allows to read what is at the current parsing position, a JSON object or array, into Jackson&#39;s generic JSON tree model. Once you have this, you can access the data randomly, regardless of the order in which things appear in the file (in the example field1 and field2 are not always in the same order). Jackson supports mapping onto your own Java objects too. The jp.skipChildren() is convenient: it allows to skip over a complete object tree or an array without having to run yourself over all the events contained in it.\r\n\r\n\r\n  [1]: http://jackson.codehaus.org/\r\n  [2]: http://www.ngdata.com/parsing-a-large-json-file-efficiently-and-easily/","title":"Best approach to parse huge (extra large) JSON file","body":"<p>I will suggest to have a look at <a href=\"http://jackson.codehaus.org/\" rel=\"noreferrer\">Jackson Api</a> it is very easy to combine the streaming and tree-model parsing options: you can move through the file as a whole in a streaming way, and then read individual objects into a tree structure.</p>\n\n<p>As an <a href=\"http://www.ngdata.com/parsing-a-large-json-file-efficiently-and-easily/\" rel=\"noreferrer\">example</a>, let's take the following input:</p>\n\n<pre><code>{ \n  \"records\": [ \n    {\"field1\": \"aaaaa\", \"bbbb\": \"ccccc\"}, \n    {\"field2\": \"aaa\", \"bbb\": \"ccc\"} \n  ] ,\n  \"special message\": \"hello, world!\" \n}\n</code></pre>\n\n<p>Just imagine the fields being sparse or the records having a more complex structure.</p>\n\n<p>The following snippet illustrates how this file can be read using a combination of stream and tree-model parsing. Each individual record is read in a tree structure, but the file is never read in its entirety into memory, making it possible to process JSON files gigabytes in size while using minimal memory.</p>\n\n<pre><code>import org.codehaus.jackson.map.*;\nimport org.codehaus.jackson.*;\n\nimport java.io.File;\n\npublic class ParseJsonSample {\n    public static void main(String[] args) throws Exception {\n        JsonFactory f = new MappingJsonFactory();\n        JsonParser jp = f.createJsonParser(new File(args[0]));\n        JsonToken current;\n        current = jp.nextToken();\n        if (current != JsonToken.START_OBJECT) {\n            System.out.println(\"Error: root should be object: quiting.\");\n            return;\n        }\n        while (jp.nextToken() != JsonToken.END_OBJECT) {\n            String fieldName = jp.getCurrentName();\n            // move from field name to field value\n            current = jp.nextToken();\n            if (fieldName.equals(\"records\")) {\n                if (current == JsonToken.START_ARRAY) {\n                    // For each of the records in the array\n                    while (jp.nextToken() != JsonToken.END_ARRAY) {\n                        // read the record into a tree model,\n                        // this moves the parsing position to the end of it\n                        JsonNode node = jp.readValueAsTree();\n                        // And now we have random access to everything in the object\n                        System.out.println(\"field1: \" + node.get(\"field1\").getValueAsText());\n                        System.out.println(\"field2: \" + node.get(\"field2\").getValueAsText());\n                    }\n                } else {\n                    System.out.println(\"Error: records should be an array: skipping.\");\n                    jp.skipChildren();\n                }\n            } else {\n                System.out.println(\"Unprocessed property: \" + fieldName);\n                jp.skipChildren();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>As you can guess, the nextToken() call each time gives the next parsing event: start object, start field, start array, start object, ..., end object, ..., end array, ...</p>\n\n<p>The <code>jp.readValueAsTree()</code> call allows to read what is at the current parsing position, a JSON object or array, into Jackson's generic JSON tree model. Once you have this, you can access the data randomly, regardless of the order in which things appear in the file (in the example field1 and field2 are not always in the same order). Jackson supports mapping onto your own Java objects too. The jp.skipChildren() is convenient: it allows to skip over a complete object tree or an array without having to run yourself over all the events contained in it.</p>\n"},{"comments":[{"owner":{"account_id":541982,"reputation":5985,"user_id":910718,"accept_rate":60,"display_name":"Dandre Allison"},"score":1,"creation_date":1361926861,"post_id":9460267,"comment_id":21247671,"body_markdown":"Is there a good example of using the `TypeAdapter` to mixed stream parsing into tree parsing? I have a case where I want to mix it in on a List of objects that gets very large. The example in the documentation is stream parsing a List of `Message`s but it doesn&#39;t show how you would tie that stream parser into a tree parser. (It shows how you tie an tree parser into a stream parser)","body":"Is there a good example of using the <code>TypeAdapter</code> to mixed stream parsing into tree parsing? I have a case where I want to mix it in on a List of objects that gets very large. The example in the documentation is stream parsing a List of <code>Message</code>s but it doesn&#39;t show how you would tie that stream parser into a tree parser. (It shows how you tie an tree parser into a stream parser)"},{"owner":{"account_id":541982,"reputation":5985,"user_id":910718,"accept_rate":60,"display_name":"Dandre Allison"},"score":0,"creation_date":1361929300,"post_id":9460267,"comment_id":21248323,"body_markdown":"For example: I have `CustomType` to define object mapping, and `CustomTypes extends ArrayList&lt;CustomType&gt;`. I make a `TypeAdapter&lt;CustomTypes&gt;` which uses object mapping for each `CustomType`, but just returns an empty list at the end to avoid storing the whole list in memory (write them to a database instead). And then the containing object is parsed simply using object mapping.","body":"For example: I have <code>CustomType</code> to define object mapping, and <code>CustomTypes extends ArrayList&lt;CustomType&gt;</code>. I make a <code>TypeAdapter&lt;CustomTypes&gt;</code> which uses object mapping for each <code>CustomType</code>, but just returns an empty list at the end to avoid storing the whole list in memory (write them to a database instead). And then the containing object is parsed simply using object mapping."},{"owner":{"account_id":208831,"reputation":1971,"user_id":1781008,"accept_rate":75,"display_name":"Sebastian N."},"score":0,"creation_date":1464184901,"post_id":9460267,"comment_id":62381417,"body_markdown":"@DandreAllison: I also needed this myself. The solution is to create a JsonParser and then call `parse(JsonReader json)`, which will consume the next value and advance the reader.","body":"@DandreAllison: I also needed this myself. The solution is to create a JsonParser and then call <code>parse(JsonReader json)</code>, which will consume the next value and advance the reader."},{"owner":{"account_id":8469613,"reputation":2411,"user_id":6352712,"accept_rate":89,"display_name":"Serg Burlaka"},"score":1,"creation_date":1523869286,"post_id":9460267,"comment_id":86721091,"body_markdown":"i like this idea about stream json. Bu fix you broken link TypeArray please!","body":"i like this idea about stream json. Bu fix you broken link TypeArray please!"},{"owner":{"account_id":13677323,"reputation":3369,"user_id":9868445,"display_name":"aderchox"},"score":0,"creation_date":1631515197,"post_id":9460267,"comment_id":122232616,"body_markdown":"[TypeAdapterFactory](https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapterFactory.html) ?","body":"<a href=\"https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapterFactory.html\" rel=\"nofollow noreferrer\">TypeAdapterFactory</a> ?"}],"tags":[],"owner":{"account_id":17735,"reputation":39493,"user_id":40013,"accept_rate":75,"display_name":"Jesse Wilson"},"comment_count":5,"down_vote_count":1,"up_vote_count":51,"is_accepted":true,"score":50,"last_activity_date":1330319029,"creation_date":1330319029,"answer_id":9460267,"question_id":9390368,"body_markdown":"You don&#39;t need to switch to Jackson. Gson 2.1 introduced a new [TypeAdapter][1] interface that permits mixed tree and streaming serialization and deserialization.\r\n\r\nThe API is efficient and flexible. See [Gson&#39;s Streaming doc][2] for an example of combining tree and **binding** modes. This is strictly better than mixed streaming and tree modes; with binding you don&#39;t waste memory building an intermediate representation of your values.\r\n\r\nLike Jackson, Gson has APIs to recursively skip an unwanted value; Gson calls this [skipValue()][3].\r\n\r\n  [1]: http://google-gson.googlecode.com/svn-history/r1110/trunk/gson/docs/javadocs/com/google/gson/TypeAdapter.html\r\n  [2]: https://sites.google.com/site/gson/streaming\r\n  [3]: http://google-gson.googlecode.com/svn/trunk/gson/docs/javadocs/com/google/gson/stream/JsonReader.html#skipValue%28%29","title":"Best approach to parse huge (extra large) JSON file","body":"<p>You don't need to switch to Jackson. Gson 2.1 introduced a new <a href=\"http://google-gson.googlecode.com/svn-history/r1110/trunk/gson/docs/javadocs/com/google/gson/TypeAdapter.html\" rel=\"noreferrer\">TypeAdapter</a> interface that permits mixed tree and streaming serialization and deserialization.</p>\n\n<p>The API is efficient and flexible. See <a href=\"https://sites.google.com/site/gson/streaming\" rel=\"noreferrer\">Gson's Streaming doc</a> for an example of combining tree and <strong>binding</strong> modes. This is strictly better than mixed streaming and tree modes; with binding you don't waste memory building an intermediate representation of your values.</p>\n\n<p>Like Jackson, Gson has APIs to recursively skip an unwanted value; Gson calls this <a href=\"http://google-gson.googlecode.com/svn/trunk/gson/docs/javadocs/com/google/gson/stream/JsonReader.html#skipValue%28%29\" rel=\"noreferrer\">skipValue()</a>.</p>\n"},{"tags":[],"owner":{"account_id":3274316,"reputation":1168,"user_id":2756833,"display_name":"mfe"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1557153638,"creation_date":1557153638,"answer_id":56007435,"question_id":9390368,"body_markdown":"[ Declarative Stream Mapping (DSM)][1] library allows you to define mappings between your JSON or XML data and your POJO. So you don&#39;t need to write a custom parser. İt has powerful scripting(Javascript, groovy, JEXL) support. You can filter and transform data while you are reading. You can call functions for partial data operation while you are reading data. DSM read data as a Stream so it uses very low memory. \r\n\r\n\r\nFor example, \r\n\r\n    {\r\n    \t&quot;company&quot;: {\r\n             ....\r\n    \t\t&quot;staff&quot;: [\r\n    \t\t\t{\r\n    \t\t\t\t&quot;firstname&quot;: &quot;yong&quot;,\r\n    \t\t\t\t&quot;lastname&quot;: &quot;mook kim&quot;,\r\n    \t\t\t\t&quot;nickname&quot;: &quot;mkyong&quot;,\r\n    \t\t\t\t&quot;salary&quot;: &quot;100000&quot;\r\n    \t\t\t},\r\n    \t\t\t{\r\n    \t\t\t\t&quot;firstname&quot;: &quot;low&quot;,\r\n    \t\t\t\t&quot;lastname&quot;: &quot;yin fong&quot;,\r\n    \t\t\t\t&quot;nickname&quot;: &quot;fong fong&quot;,\r\n    \t\t\t\t&quot;salary&quot;: &quot;200000&quot;\r\n    \t\t\t}\r\n    \t\t]\r\n    \t}\r\n    }\r\n\r\nimagine the above snippet is a part of huge and complex JSON data. we only want to get **stuff that has a salary higher than *10000***.\r\n\r\nFirst of all, we must define mapping definitions as follows. As you see, it is just a yaml file that contains the mapping between POJO fields and field of JSON data.\r\n\r\n    result:\r\n          type: object     # result is map or a object.\r\n          path: /.+staff  # path is regex. its match with /company/staff\r\n          function: processStuff  # call processStuff function when /company/stuff tag is closed\r\n          filter: self.data.salary&gt;10000   # any expression is valid in JavaScript, Groovy or JEXL\r\n          fields:\r\n            name:  \r\n              path: firstname\r\n            sureName:\r\n              path: lastname\r\n            userName:\r\n              path: nickname\r\n            salary: long\r\n\r\nCreate FunctionExecutor for process staff.\r\n\r\n    FunctionExecutor processStuff=new FunctionExecutor(){\r\n    \r\n                @Override\r\n                public void execute(Params params) {\r\n\r\n                    // directly serialize Stuff class\r\n                    //Stuff stuff=params.getCurrentNode().toObject(Stuff.class);\r\n\r\n                    Map&lt;String,Object&gt; stuff= (Map&lt;String,Object&gt;)params.getCurrentNode().toObject();\r\n                    System.out.println(stuff);\r\n                    // process stuff ; save to db. call service etc.\r\n                }\r\n            };\r\n\r\nUse DSM to process JSON\r\n\r\n   \r\n\r\n         DSMBuilder builder = new DSMBuilder(new File(&quot;path/to/mapping.yaml&quot;)).setType(DSMBuilder.TYPE.XML);\r\n\r\n           // register processStuff Function\r\n            builder.registerFunction(&quot;processStuff&quot;,processStuff);\r\n\r\n            DSM dsm= builder.create();\r\n            Object object =  dsm.toObject(xmlContent);\r\n\r\n&gt; Output: (Only stuff that has a salary higher than 10000 is included)\r\n\r\n    {firstName=low, lastName=yin fong, nickName=fong fong, salary=200000}\r\n\r\n\r\n  [1]: https://mfatihercik.github.io/dsm/","title":"Best approach to parse huge (extra large) JSON file","body":"<p><a href=\"https://mfatihercik.github.io/dsm/\" rel=\"nofollow noreferrer\"> Declarative Stream Mapping (DSM)</a> library allows you to define mappings between your JSON or XML data and your POJO. So you don't need to write a custom parser. İt has powerful scripting(Javascript, groovy, JEXL) support. You can filter and transform data while you are reading. You can call functions for partial data operation while you are reading data. DSM read data as a Stream so it uses very low memory. </p>\n\n<p>For example, </p>\n\n<pre><code>{\n    \"company\": {\n         ....\n        \"staff\": [\n            {\n                \"firstname\": \"yong\",\n                \"lastname\": \"mook kim\",\n                \"nickname\": \"mkyong\",\n                \"salary\": \"100000\"\n            },\n            {\n                \"firstname\": \"low\",\n                \"lastname\": \"yin fong\",\n                \"nickname\": \"fong fong\",\n                \"salary\": \"200000\"\n            }\n        ]\n    }\n}\n</code></pre>\n\n<p>imagine the above snippet is a part of huge and complex JSON data. we only want to get <strong>stuff that has a salary higher than <em>10000</em></strong>.</p>\n\n<p>First of all, we must define mapping definitions as follows. As you see, it is just a yaml file that contains the mapping between POJO fields and field of JSON data.</p>\n\n<pre><code>result:\n      type: object     # result is map or a object.\n      path: /.+staff  # path is regex. its match with /company/staff\n      function: processStuff  # call processStuff function when /company/stuff tag is closed\n      filter: self.data.salary&gt;10000   # any expression is valid in JavaScript, Groovy or JEXL\n      fields:\n        name:  \n          path: firstname\n        sureName:\n          path: lastname\n        userName:\n          path: nickname\n        salary: long\n</code></pre>\n\n<p>Create FunctionExecutor for process staff.</p>\n\n<pre><code>FunctionExecutor processStuff=new FunctionExecutor(){\n\n            @Override\n            public void execute(Params params) {\n\n                // directly serialize Stuff class\n                //Stuff stuff=params.getCurrentNode().toObject(Stuff.class);\n\n                Map&lt;String,Object&gt; stuff= (Map&lt;String,Object&gt;)params.getCurrentNode().toObject();\n                System.out.println(stuff);\n                // process stuff ; save to db. call service etc.\n            }\n        };\n</code></pre>\n\n<p>Use DSM to process JSON</p>\n\n<pre><code>     DSMBuilder builder = new DSMBuilder(new File(\"path/to/mapping.yaml\")).setType(DSMBuilder.TYPE.XML);\n\n       // register processStuff Function\n        builder.registerFunction(\"processStuff\",processStuff);\n\n        DSM dsm= builder.create();\n        Object object =  dsm.toObject(xmlContent);\n</code></pre>\n\n<blockquote>\n  <p>Output: (Only stuff that has a salary higher than 10000 is included)</p>\n</blockquote>\n\n<pre><code>{firstName=low, lastName=yin fong, nickName=fong fong, salary=200000}\n</code></pre>\n"}],"owner":{"account_id":1155841,"reputation":2185,"user_id":1136484,"accept_rate":57,"display_name":"Dax"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137638,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":9460267,"answer_count":3,"score":63,"last_activity_date":1680173452,"creation_date":1329893733,"question_id":9390368,"body_markdown":"I&#39;m trying to parse some huge JSON file (like http://eu.battle.net/auction-data/258993a3c6b974ef3e6f22ea6f822720/auctions.json) using gson library (http://code.google.com/p/google-gson/) in JAVA. \r\n\r\nI would like to know what is the best approach to parse this kind of big file (about 80k lines) and if you may know good API that can help me processing this. \r\n\r\nSome ideas\r\n\r\n 1. read line by line and get rid of the JSON format: but that&#39;s nonsense. \r\n 2. reduce the JSON file by splitting this file into many other: but I did not find any good Java API for this. \r\n 3. use this file directlly as nonSql database, keep the file and use it as my database. \r\n\r\n","title":"Best approach to parse huge (extra large) JSON file","body":"<p>I'm trying to parse some huge JSON file (like <a href=\"http://eu.battle.net/auction-data/258993a3c6b974ef3e6f22ea6f822720/auctions.json\" rel=\"nofollow noreferrer\">http://eu.battle.net/auction-data/258993a3c6b974ef3e6f22ea6f822720/auctions.json</a>) using gson library (<a href=\"http://code.google.com/p/google-gson/\" rel=\"nofollow noreferrer\">http://code.google.com/p/google-gson/</a>) in JAVA.</p>\n<p>I would like to know what is the best approach to parse this kind of big file (about 80k lines) and if you may know good API that can help me processing this.</p>\n<p>Some ideas</p>\n<ol>\n<li>read line by line and get rid of the JSON format: but that's nonsense.</li>\n<li>reduce the JSON file by splitting this file into many other: but I did not find any good Java API for this.</li>\n<li>use this file directlly as nonSql database, keep the file and use it as my database.</li>\n</ol>\n"},{"tags":["java","inheritance","methods","types","interface"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1536145519,"post_id":52183525,"comment_id":91316843,"body_markdown":"Not only is it an unlikely parameter, you should avoid it. I see that your method is called equal, not equals, but still. You may think that this method would replace equals calls through your code, but in most cases, for example when sorting a list, it won&#39;t, because it will be (trying to) use the overridden version of equals(Object o), which you don&#39;t have, hence, it will use the original","body":"Not only is it an unlikely parameter, you should avoid it. I see that your method is called equal, not equals, but still. You may think that this method would replace equals calls through your code, but in most cases, for example when sorting a list, it won&#39;t, because it will be (trying to) use the overridden version of equals(Object o), which you don&#39;t have, hence, it will use the original"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1536145528,"post_id":52183525,"comment_id":91316850,"body_markdown":"Stop using underscroes in class names. The Java naming conventions says that you have to use camel case","body":"Stop using underscroes in class names. The Java naming conventions says that you have to use camel case"},{"owner":{"display_name":"user10319680"},"score":0,"creation_date":1536146043,"post_id":52183525,"comment_id":91317165,"body_markdown":"The task says that I should implement that interface, I cannot change it. I normally don&#39;t put underscored in class names.. I just renamed everything from my language to English","body":"The task says that I should implement that interface, I cannot change it. I normally don&#39;t put underscored in class names.. I just renamed everything from my language to English"},{"owner":{"account_id":12250366,"reputation":2152,"user_id":8940931,"accept_rate":56,"display_name":"Simeon Ikudabo"},"score":0,"creation_date":1536147567,"post_id":52183525,"comment_id":91318068,"body_markdown":"You can implement an interface without passing the interface type as the argument to compare. What if you compare arrays of the Integer type? You will not be able to type cast those to your type. So you can implement the interface, but are you 100% sure you should implement it as this specific &quot;type&quot;?","body":"You can implement an interface without passing the interface type as the argument to compare. What if you compare arrays of the Integer type? You will not be able to type cast those to your type. So you can implement the interface, but are you 100% sure you should implement it as this specific &quot;type&quot;?"}],"answers":[{"comments":[{"owner":{"display_name":"user10319680"},"score":0,"creation_date":1536147536,"post_id":52183851,"comment_id":91318050,"body_markdown":"I will use it as a holder, I might have made a mistake with that second requirement. THANK YOU! :D","body":"I will use it as a holder, I might have made a mistake with that second requirement. THANK YOU! :D"},{"owner":{"account_id":9609012,"reputation":4037,"user_id":7134058,"display_name":"Vadim"},"score":0,"creation_date":1536163244,"post_id":52183851,"comment_id":91328347,"body_markdown":"OK as I understand now: If you cannot change interface it means 1. for equal method you need to loop through both `this` and `s` Object holders `x` and check all members from `this.x` and `s.x` to be equal. for `cross` you need to do almost the same,but put crossing objects into `new Set_of_objects`  `x` holder and then return that new `Set_of_objects` object.","body":"OK as I understand now: If you cannot change interface it means 1. for equal method you need to loop through both <code>this</code> and <code>s</code> Object holders <code>x</code> and check all members from <code>this.x</code> and <code>s.x</code> to be equal. for <code>cross</code> you need to do almost the same,but put crossing objects into <code>new Set_of_objects</code>  <code>x</code> holder and then return that new <code>Set_of_objects</code> object."}],"tags":[],"owner":{"account_id":9609012,"reputation":4037,"user_id":7134058,"display_name":"Vadim"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536146652,"creation_date":1536146277,"answer_id":52183851,"question_id":52183525,"body_markdown":"A. Just try to read your requirements over again (and slowly :-) ):\n\n&gt;1. The class implementing it has to take an **array** of objects\n&gt;\n&gt;2. method &quot;cross&quot; has to return an **array** of objects \n\nso... neither\n\n    boolean equal(Set_of_objects s);\n\nnor\n    \n    Set_of_objects cross(Set_of_objects s);\n\nsatisfy your requirements - `Set_of_objects` is not an **array**, but just an object implemented `Set_of_objects` interface.\n\nyour interface&#39;s method signatures must look like\n\n    public interface Set_of_objects {\n       boolean equal(Set_of_objects[] s);\n       Set_of_objects[] cross(Set_of_objects[] s);\n    }\n\nB. From other hands you can use your `Set_of_objects` as a holder for array as you do... but you need another method (getter for your array e.g. `getX()` ) and use it to compare array members...\n\nP.S. I guess you will figure out how to loop through array to compare Objects and put them into another one to return from `cross` method.\n\nalso, in real world it is not recommended  to return new instance of array from methods... but as exercise it does not matter too much.\n\nGood luck!\n\n\n\n\n","title":"Implementing interface with methods that take and return type interface","body":"<p>A. Just try to read your requirements over again (and slowly :-) ):</p>\n<blockquote>\n<ol>\n<li><p>The class implementing it has to take an <strong>array</strong> of objects</p>\n</li>\n<li><p>method &quot;cross&quot; has to return an <strong>array</strong> of objects</p>\n</li>\n</ol>\n</blockquote>\n<p>so... neither</p>\n<pre><code>boolean equal(Set_of_objects s);\n</code></pre>\n<p>nor</p>\n<pre><code>Set_of_objects cross(Set_of_objects s);\n</code></pre>\n<p>satisfy your requirements - <code>Set_of_objects</code> is not an <strong>array</strong>, but just an object implemented <code>Set_of_objects</code> interface.</p>\n<p>your interface's method signatures must look like</p>\n<pre><code>public interface Set_of_objects {\n   boolean equal(Set_of_objects[] s);\n   Set_of_objects[] cross(Set_of_objects[] s);\n}\n</code></pre>\n<p>B. From other hands you can use your <code>Set_of_objects</code> as a holder for array as you do... but you need another method (getter for your array e.g. <code>getX()</code> ) and use it to compare array members...</p>\n<p>P.S. I guess you will figure out how to loop through array to compare Objects and put them into another one to return from <code>cross</code> method.</p>\n<p>also, in real world it is not recommended  to return new instance of array from methods... but as exercise it does not matter too much.</p>\n<p>Good luck!</p>\n"},{"comments":[{"owner":{"display_name":"user10319680"},"score":0,"creation_date":1536149985,"post_id":52184743,"comment_id":91319657,"body_markdown":"Thank you for the detailed answer but unfortunately the interface cannot be changed. This is a task for my object oriented programming class. The requirements are a bit unclear, but I am sure that the interface cannot be changed and that the class &quot;Object_array_test&quot; has to test out 2 Object arrays.","body":"Thank you for the detailed answer but unfortunately the interface cannot be changed. This is a task for my object oriented programming class. The requirements are a bit unclear, but I am sure that the interface cannot be changed and that the class &quot;Object_array_test&quot; has to test out 2 Object arrays."}],"tags":[],"owner":{"account_id":12250366,"reputation":2152,"user_id":8940931,"accept_rate":56,"display_name":"Simeon Ikudabo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536149242,"creation_date":1536149242,"answer_id":52184743,"question_id":52183525,"body_markdown":"There appear to be a few minor issues here. Here is an updated interface:\r\n\r\n    package com.simi.practice.work.PracticeWork;\r\n    import java.util.*;\r\n    import java.lang.*;\r\n\r\n\r\n    public interface Set_of_objects {\r\n\t\r\n\t        boolean equals(Object[] x, Object[] y);\r\n\t\r\n\t        Object cross(Object[] x, Object[] y);\r\n\r\n            }\r\n\r\n\r\nIn your original interface you were not passing an Array as an object. You were simply passing an interface &quot;type&quot;. You have to pass an actual Array Object however in order to pass an Array to any of your methods or constructors in your class. We can pass an x object and a y object in the interface, and any class implementing the interface will obviously use these methods:\r\n\r\n    package com.simi.practice.work.PracticeWork;\r\n    import java.util.*;\r\n    import java.lang.*;\r\n\r\n    public class Object_array_test implements Set_of_objects{\r\n\t\r\n\t\r\n\t    public boolean equals(Object[]s, Object[]t) {\r\n\t\t    String v = Arrays.toString(s);\r\n\t\t    String r = Arrays.toString(t);\r\n\t\t\r\n\t\t    if(v.equals(r)) {\r\n\t\t\t\r\n\t\t\t  return true;\r\n\t\t     }\r\n\t\t\r\n\t\t     return false;\r\n\t\t\r\n\t      }\r\n\t    public Object[] cross(Object[]s, Object[]t) {\r\n\t\t    ArrayList&lt;Object&gt; n = new ArrayList&lt;Object&gt;();\r\n\t\t    for(int x= 0; x&lt;s.length; x++) {\r\n\t\t\t   if(s[x].equals(t[x])) {\r\n\t\t\t\t  n.add(s[x]);\r\n\t\t\t\t\r\n\t\t\t   }\r\n\t\t    }System.out.println(n.toArray());\r\n\t\t    Object[] p = n.toArray();\r\n\t\t    System.out.println(Arrays.toString(p));\r\n\t\t    return  p;\r\n\t    }\r\n\r\n     }\r\n\r\nIn the code above, you don&#39;t know which kind of object you will pass which is why we convert it to a String. As I noted earlier, the methods need to take an Object as an argument in order to work with the Arrays. Simply passing the interface &quot;type&quot; will not work. In the .equals() method we can then compare the two Arrays to see if they are identical. if not, the code will return false. If they are identical, the code will return true. \r\n\r\n\r\nAnd lastly, lets test the class and the output:\r\n\r\n    public class App {\r\n            public static void main(String... args) throws IOException, MyException{\r\n    \t\r\n    \t    Object_array_test test = new Object_array_test();\r\n    \t    Object[] i = {1, 2, 3, 4};\r\n    \t    Object[] j = {1, 2, 90, 4};\r\n    \t    System.out.println(test.equals(j, i));\r\n    \t    System.out.println(test.cross(i,  j));\r\n    \t\r\n         }\r\n     }\r\n\r\nAs you can see these two Arrays are not equal and the code returns false. We also created a new array from an Array list that returns the numbers that are the same in the Array. We return the new Object that we have created and print it to the console as well. \r\n\r\nAnd here is your output:\r\n\r\n    false\r\n    [Ljava.lang.Object;@7852e922\r\n    [1, 2, 4]\r\n    [Ljava.lang.Object;@4e25154f\r\n","title":"Implementing interface with methods that take and return type interface","body":"<p>There appear to be a few minor issues here. Here is an updated interface:</p>\n\n<pre><code>package com.simi.practice.work.PracticeWork;\nimport java.util.*;\nimport java.lang.*;\n\n\npublic interface Set_of_objects {\n\n        boolean equals(Object[] x, Object[] y);\n\n        Object cross(Object[] x, Object[] y);\n\n        }\n</code></pre>\n\n<p>In your original interface you were not passing an Array as an object. You were simply passing an interface \"type\". You have to pass an actual Array Object however in order to pass an Array to any of your methods or constructors in your class. We can pass an x object and a y object in the interface, and any class implementing the interface will obviously use these methods:</p>\n\n<pre><code>package com.simi.practice.work.PracticeWork;\nimport java.util.*;\nimport java.lang.*;\n\npublic class Object_array_test implements Set_of_objects{\n\n\n    public boolean equals(Object[]s, Object[]t) {\n        String v = Arrays.toString(s);\n        String r = Arrays.toString(t);\n\n        if(v.equals(r)) {\n\n          return true;\n         }\n\n         return false;\n\n      }\n    public Object[] cross(Object[]s, Object[]t) {\n        ArrayList&lt;Object&gt; n = new ArrayList&lt;Object&gt;();\n        for(int x= 0; x&lt;s.length; x++) {\n           if(s[x].equals(t[x])) {\n              n.add(s[x]);\n\n           }\n        }System.out.println(n.toArray());\n        Object[] p = n.toArray();\n        System.out.println(Arrays.toString(p));\n        return  p;\n    }\n\n }\n</code></pre>\n\n<p>In the code above, you don't know which kind of object you will pass which is why we convert it to a String. As I noted earlier, the methods need to take an Object as an argument in order to work with the Arrays. Simply passing the interface \"type\" will not work. In the .equals() method we can then compare the two Arrays to see if they are identical. if not, the code will return false. If they are identical, the code will return true. </p>\n\n<p>And lastly, lets test the class and the output:</p>\n\n<pre><code>public class App {\n        public static void main(String... args) throws IOException, MyException{\n\n        Object_array_test test = new Object_array_test();\n        Object[] i = {1, 2, 3, 4};\n        Object[] j = {1, 2, 90, 4};\n        System.out.println(test.equals(j, i));\n        System.out.println(test.cross(i,  j));\n\n     }\n }\n</code></pre>\n\n<p>As you can see these two Arrays are not equal and the code returns false. We also created a new array from an Array list that returns the numbers that are the same in the Array. We return the new Object that we have created and print it to the console as well. </p>\n\n<p>And here is your output:</p>\n\n<pre><code>false\n[Ljava.lang.Object;@7852e922\n[1, 2, 4]\n[Ljava.lang.Object;@4e25154f\n</code></pre>\n"}],"owner":{"display_name":"user10319680"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":980,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680173308,"creation_date":1536145296,"question_id":52183525,"body_markdown":"I&#39;ve run into a problem. I have to implement this interface:\r\n\r\n\r\n    public interface Set_of_objects {\r\n\t    boolean equal(Set_of_objects s);\r\n\t    Set_of_objects cross(Set_of_objects s);\r\n    }\r\n\r\nThe class implementing it has to take an array of objects and test it with another array of objects. The method &quot;equal&quot; should return true if they are equal (false if they are not equal), and the method &quot;cross&quot; has to return an array of objects consisting of objects that they share.\r\n\r\nI haven&#39;t been able to figure out how to even compare those 2 arrays because of the type of argument required in the method.\r\n\r\n    public class Object_array_test implements Set_of_objects {\r\n\t    Object[] x = new Object[5];\r\n\r\n\t    public Object_array_test (Object[] x) {\r\n\t\t    this.x = x;\r\n\t    }\r\n\t    public boolean equal(Set_of_objects s) {\r\n\t\t    return \ts.equals(x);\r\n\t    }\r\n\t    public cross(Set_of_objects s) {\r\n\t    \treturn null;\r\n\t    }\r\n    }\r\n\r\nWhen I do it like this it says:\r\n&quot;Unlikely argument type for equals(): Object[] seems to be unrelated to Set_of_objects&quot;\r\n\r\nAnd when I try casting (like I saw on the internet):\r\n\r\n    Object[] y = (Object[]) s;\r\n\r\nI get this:\r\n&gt; Cannot cast from Set_of_objects to Object[]\r\n\r\nHow do I fix this problem and can somebody please explain how does it exactly work?\r\n","title":"Implementing interface with methods that take and return type interface","body":"<p>I've run into a problem. I have to implement this interface:</p>\n<pre><code>public interface Set_of_objects {\n    boolean equal(Set_of_objects s);\n    Set_of_objects cross(Set_of_objects s);\n}\n</code></pre>\n<p>The class implementing it has to take an array of objects and test it with another array of objects. The method &quot;equal&quot; should return true if they are equal (false if they are not equal), and the method &quot;cross&quot; has to return an array of objects consisting of objects that they share.</p>\n<p>I haven't been able to figure out how to even compare those 2 arrays because of the type of argument required in the method.</p>\n<pre><code>public class Object_array_test implements Set_of_objects {\n    Object[] x = new Object[5];\n\n    public Object_array_test (Object[] x) {\n        this.x = x;\n    }\n    public boolean equal(Set_of_objects s) {\n        return  s.equals(x);\n    }\n    public cross(Set_of_objects s) {\n        return null;\n    }\n}\n</code></pre>\n<p>When I do it like this it says:\n&quot;Unlikely argument type for equals(): Object[] seems to be unrelated to Set_of_objects&quot;</p>\n<p>And when I try casting (like I saw on the internet):</p>\n<pre><code>Object[] y = (Object[]) s;\n</code></pre>\n<p>I get this:</p>\n<blockquote>\n<p>Cannot cast from Set_of_objects to Object[]</p>\n</blockquote>\n<p>How do I fix this problem and can somebody please explain how does it exactly work?</p>\n"},{"tags":["java","xml","web-services","soap","jaxb"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1490528358,"post_id":43027662,"comment_id":73142342,"body_markdown":"Use a DOM parser built into the JDK.  That&#39;s the way to parse XML.  You have a lot of work ahead of you: Pulling the values out by walking the DOM tree.","body":"Use a DOM parser built into the JDK.  That&#39;s the way to parse XML.  You have a lot of work ahead of you: Pulling the values out by walking the DOM tree."},{"owner":{"account_id":1657768,"reputation":1355,"user_id":1526810,"accept_rate":52,"display_name":"Narges"},"score":0,"creation_date":1490529442,"post_id":43027662,"comment_id":73142678,"body_markdown":"@duffymo I guess JAXB is a parser that map xml to object. My question is how can I use it more efficiently.","body":"@duffymo I guess JAXB is a parser that map xml to object. My question is how can I use it more efficiently."}],"owner":{"account_id":1657768,"reputation":1355,"user_id":1526810,"accept_rate":52,"display_name":"Narges"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":630,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680172910,"creation_date":1490524638,"question_id":43027662,"body_markdown":"I call a soap api using saaj and store the response in a file. Here is part of response:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n    &lt;soap:Body&gt;\r\n      &lt;AdjPriceResponse xmlns=&quot;http://tsetmc.com/&quot;&gt;\r\n         &lt;AdjPriceResult&gt;\r\n            &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns=&quot;&quot; xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot; id=&quot;TseAdjPrice&quot;&gt;\r\n               &lt;xs:element name=&quot;TseAdjPrice&quot; msdata:IsDataSet=&quot;true&quot; msdata:UseCurrentLocale=&quot;true&quot;&gt;\r\n                  &lt;xs:complexType&gt;\r\n                     &lt;xs:choice minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;\r\n                        &lt;xs:element name=&quot;TseAdjPrice&quot;&gt;\r\n                           &lt;xs:complexType&gt;\r\n                              &lt;xs:sequence&gt;\r\n                                 &lt;xs:element name=&quot;InsCode&quot; type=&quot;xs:long&quot; minOccurs=&quot;0&quot; /&gt;\r\n                                 &lt;xs:element name=&quot;DEven&quot; type=&quot;xs:int&quot; minOccurs=&quot;0&quot; /&gt;\r\n                                 &lt;xs:element name=&quot;PClosing&quot; type=&quot;xs:decimal&quot; minOccurs=&quot;0&quot; /&gt;\r\n                                 &lt;xs:element name=&quot;PClosingNoAdj&quot; type=&quot;xs:decimal&quot; minOccurs=&quot;0&quot; /&gt;\r\n                              &lt;/xs:sequence&gt;\r\n                           &lt;/xs:complexType&gt;\r\n                        &lt;/xs:element&gt;\r\n                     &lt;/xs:choice&gt;\r\n                  &lt;/xs:complexType&gt;\r\n               &lt;/xs:element&gt;\r\n            &lt;/xs:schema&gt;\r\n            &lt;diffgr:diffgram xmlns:diffgr=&quot;urn:schemas-microsoft-com:xml-diffgram-v1&quot; xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot;&gt;\r\n               &lt;TseAdjPrice xmlns=&quot;&quot;&gt;\r\n                  &lt;TseAdjPrice diffgr:id=&quot;TseAdjPrice1&quot; msdata:rowOrder=&quot;0&quot;&gt;\r\n                     &lt;InsCode&gt;180774784936665&lt;/InsCode&gt;\r\n                     &lt;DEven&gt;20100707&lt;/DEven&gt;\r\n                     &lt;PClosing&gt;1786&lt;/PClosing&gt;\r\n                     &lt;PClosingNoAdj&gt;2136&lt;/PClosingNoAdj&gt;\r\n                  &lt;/TseAdjPrice&gt;\r\n                  &lt;TseAdjPrice diffgr:id=&quot;TseAdjPrice2&quot; msdata:rowOrder=&quot;1&quot;&gt;\r\n                     &lt;InsCode&gt;180774784936665&lt;/InsCode&gt;\r\n                     &lt;DEven&gt;20110724&lt;/DEven&gt;\r\n                     &lt;PClosing&gt;1865&lt;/PClosing&gt;\r\n                     &lt;PClosingNoAdj&gt;2215&lt;/PClosingNoAdj&gt;\r\n                  &lt;/TseAdjPrice&gt;\r\n               &lt;/TseAdjPrice&gt;\r\n            &lt;/diffgr:diffgram&gt;\r\n         &lt;/AdjPriceResult&gt;\r\n      &lt;/AdjPriceResponse&gt;\r\n   &lt;/soap:Body&gt;\r\n&lt;/soap:Envelope&gt;\r\n\r\nI use &quot;JAXB&quot; to create bean classes, but this error occured:\r\n\r\n    Complex type and its child element share the same name &quot;TseAdjPrice&quot;. Use a class customization to resolve this conflict.\r\n\r\nI tried to bind external file to resolve it, but I didn&#39;t know where and how add it to project, so I change the name of root element in xsd and xml file from &quot;TseAdjPrice&quot; to &quot;MainTseAdjPrice&quot; and successfully can generate MainTseAdjPrice.java class with Jaxb. but again I encounter another Error:\r\n\r\n    The prefix &quot;diffgr&quot; for attribute &quot;diffgr:id&quot; associated with an element type &quot;TseAdjPrice&quot; is not bound.\r\n\r\nI continue debugging my code, at last I success to parse the output by omitting multiple line of code of output. Here is modified output:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;MainTseAdjPrice&gt;\r\n    &lt;TseAdjPrice diffgrid=&quot;TseAdjPrice1866&quot; msdatarowOrder=&quot;1865&quot;&gt;\r\n      &lt;InsCode&gt;71744682148776880&lt;/InsCode&gt;\r\n      &lt;DEven&gt;20120521&lt;/DEven&gt;\r\n      &lt;PClosing&gt;915&lt;/PClosing&gt;\r\n      &lt;PClosingNoAdj&gt;1265&lt;/PClosingNoAdj&gt;\r\n    &lt;/TseAdjPrice&gt;\r\n    &lt;TseAdjPrice diffgrid=&quot;TseAdjPrice1867&quot; msdatarowOrder=&quot;1866&quot;&gt;\r\n      &lt;InsCode&gt;71744682148776880&lt;/InsCode&gt;\r\n      &lt;DEven&gt;20140312&lt;/DEven&gt;\r\n      &lt;PClosing&gt;1630&lt;/PClosing&gt;\r\n      &lt;PClosingNoAdj&gt;1780&lt;/PClosingNoAdj&gt;\r\n    &lt;/TseAdjPrice&gt;\r\n    &lt;/MainTseAdjPrice&gt;\r\n\r\nAm I right with omitting output? Is there a better way to parse xml without modifing the ouput?","title":"What is the best way to parse SOAP response in Java","body":"<p>I call a soap api using saaj and store the response in a file. Here is part of response:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n&lt;soap:Body&gt;\n  &lt;AdjPriceResponse xmlns=\"http://tsetmc.com/\"&gt;\n     &lt;AdjPriceResult&gt;\n        &lt;xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns=\"\" xmlns:msdata=\"urn:schemas-microsoft-com:xml-msdata\" id=\"TseAdjPrice\"&gt;\n           &lt;xs:element name=\"TseAdjPrice\" msdata:IsDataSet=\"true\" msdata:UseCurrentLocale=\"true\"&gt;\n              &lt;xs:complexType&gt;\n                 &lt;xs:choice minOccurs=\"0\" maxOccurs=\"unbounded\"&gt;\n                    &lt;xs:element name=\"TseAdjPrice\"&gt;\n                       &lt;xs:complexType&gt;\n                          &lt;xs:sequence&gt;\n                             &lt;xs:element name=\"InsCode\" type=\"xs:long\" minOccurs=\"0\" /&gt;\n                             &lt;xs:element name=\"DEven\" type=\"xs:int\" minOccurs=\"0\" /&gt;\n                             &lt;xs:element name=\"PClosing\" type=\"xs:decimal\" minOccurs=\"0\" /&gt;\n                             &lt;xs:element name=\"PClosingNoAdj\" type=\"xs:decimal\" minOccurs=\"0\" /&gt;\n                          &lt;/xs:sequence&gt;\n                       &lt;/xs:complexType&gt;\n                    &lt;/xs:element&gt;\n                 &lt;/xs:choice&gt;\n              &lt;/xs:complexType&gt;\n           &lt;/xs:element&gt;\n        &lt;/xs:schema&gt;\n        &lt;diffgr:diffgram xmlns:diffgr=\"urn:schemas-microsoft-com:xml-diffgram-v1\" xmlns:msdata=\"urn:schemas-microsoft-com:xml-msdata\"&gt;\n           &lt;TseAdjPrice xmlns=\"\"&gt;\n              &lt;TseAdjPrice diffgr:id=\"TseAdjPrice1\" msdata:rowOrder=\"0\"&gt;\n                 &lt;InsCode&gt;180774784936665&lt;/InsCode&gt;\n                 &lt;DEven&gt;20100707&lt;/DEven&gt;\n                 &lt;PClosing&gt;1786&lt;/PClosing&gt;\n                 &lt;PClosingNoAdj&gt;2136&lt;/PClosingNoAdj&gt;\n              &lt;/TseAdjPrice&gt;\n              &lt;TseAdjPrice diffgr:id=\"TseAdjPrice2\" msdata:rowOrder=\"1\"&gt;\n                 &lt;InsCode&gt;180774784936665&lt;/InsCode&gt;\n                 &lt;DEven&gt;20110724&lt;/DEven&gt;\n                 &lt;PClosing&gt;1865&lt;/PClosing&gt;\n                 &lt;PClosingNoAdj&gt;2215&lt;/PClosingNoAdj&gt;\n              &lt;/TseAdjPrice&gt;\n           &lt;/TseAdjPrice&gt;\n        &lt;/diffgr:diffgram&gt;\n     &lt;/AdjPriceResult&gt;\n  &lt;/AdjPriceResponse&gt;\n</code></pre>\n\n<p>\n</p>\n\n<p>I use \"JAXB\" to create bean classes, but this error occured:</p>\n\n<pre><code>Complex type and its child element share the same name \"TseAdjPrice\". Use a class customization to resolve this conflict.\n</code></pre>\n\n<p>I tried to bind external file to resolve it, but I didn't know where and how add it to project, so I change the name of root element in xsd and xml file from \"TseAdjPrice\" to \"MainTseAdjPrice\" and successfully can generate MainTseAdjPrice.java class with Jaxb. but again I encounter another Error:</p>\n\n<pre><code>The prefix \"diffgr\" for attribute \"diffgr:id\" associated with an element type \"TseAdjPrice\" is not bound.\n</code></pre>\n\n<p>I continue debugging my code, at last I success to parse the output by omitting multiple line of code of output. Here is modified output:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;MainTseAdjPrice&gt;\n&lt;TseAdjPrice diffgrid=\"TseAdjPrice1866\" msdatarowOrder=\"1865\"&gt;\n  &lt;InsCode&gt;71744682148776880&lt;/InsCode&gt;\n  &lt;DEven&gt;20120521&lt;/DEven&gt;\n  &lt;PClosing&gt;915&lt;/PClosing&gt;\n  &lt;PClosingNoAdj&gt;1265&lt;/PClosingNoAdj&gt;\n&lt;/TseAdjPrice&gt;\n&lt;TseAdjPrice diffgrid=\"TseAdjPrice1867\" msdatarowOrder=\"1866\"&gt;\n  &lt;InsCode&gt;71744682148776880&lt;/InsCode&gt;\n  &lt;DEven&gt;20140312&lt;/DEven&gt;\n  &lt;PClosing&gt;1630&lt;/PClosing&gt;\n  &lt;PClosingNoAdj&gt;1780&lt;/PClosingNoAdj&gt;\n&lt;/TseAdjPrice&gt;\n&lt;/MainTseAdjPrice&gt;\n</code></pre>\n\n<p>Am I right with omitting output? Is there a better way to parse xml without modifing the ouput?</p>\n"},{"tags":["java","spring-boot","h2","desktop-application"],"owner":{"account_id":28167181,"reputation":1,"user_id":21526223,"display_name":"mjcobo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680172645,"creation_date":1680172645,"question_id":75887148,"body_markdown":"Let suppose that we are developing a desktop app based on spring-boot. The app will store the data in a local database (e.g. SQLite or H2). The name of the file will be provided by the user at certain moment. For example, we launch the application, and then create a new project that will be stored in a database local file. In this moment, the user provide the file name, and ind this moment is when the database should be created\r\n\r\nThe problem is that spring create or need to know the URL connection on the startup. An I want this happen after the user &quot;press the button&quot;.\r\n\r\nI tried to solve this updating the DataSource in the JdbcTemplate bean. That is, I configured the connection initially using a configuration class that create an in memory database. This could be also do using a yaml file.\r\n\r\nThe configuration bean is: \r\n```\r\n@Configuration\r\npublic class CustomDataSourceConfiguration {\r\n\r\n    \r\n    @Bean\r\n    public DataSource customDataSource(){\r\n\r\n        return DataSourceBuilder.create()\r\n                .url(&quot;jdbc:h2:mem:nameFile&quot;)\r\n                .username(&quot;user&quot;)\r\n                .password(&quot;pass&quot;)\r\n                .driverClassName(&quot;org.h2.Driver&quot;)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nThen, when the action is executed, I update the datasource, passing a url that create a file instead of memory database\r\n\r\n```\r\nthis.jdbcTemplate.setDataSource(DataSourceBuilder.create()\r\n                .url(&quot;jdbc:h2:file:~/newName&quot;)\r\n                .username(&quot;user&quot;)\r\n                .password(&quot;pass&quot;)\r\n                .driverClassName(&quot;org.h2.Driver&quot;)\r\n                .build());\r\n```\r\n\r\nThis process work, and create the file database after the user action. But I don&#39;t know if it is the best option.","title":"Create h2 database file on a desktop application based on spring boot after a user action","body":"<p>Let suppose that we are developing a desktop app based on spring-boot. The app will store the data in a local database (e.g. SQLite or H2). The name of the file will be provided by the user at certain moment. For example, we launch the application, and then create a new project that will be stored in a database local file. In this moment, the user provide the file name, and ind this moment is when the database should be created</p>\n<p>The problem is that spring create or need to know the URL connection on the startup. An I want this happen after the user &quot;press the button&quot;.</p>\n<p>I tried to solve this updating the DataSource in the JdbcTemplate bean. That is, I configured the connection initially using a configuration class that create an in memory database. This could be also do using a yaml file.</p>\n<p>The configuration bean is:</p>\n<pre><code>@Configuration\npublic class CustomDataSourceConfiguration {\n\n    \n    @Bean\n    public DataSource customDataSource(){\n\n        return DataSourceBuilder.create()\n                .url(&quot;jdbc:h2:mem:nameFile&quot;)\n                .username(&quot;user&quot;)\n                .password(&quot;pass&quot;)\n                .driverClassName(&quot;org.h2.Driver&quot;)\n                .build();\n    }\n}\n</code></pre>\n<p>Then, when the action is executed, I update the datasource, passing a url that create a file instead of memory database</p>\n<pre><code>this.jdbcTemplate.setDataSource(DataSourceBuilder.create()\n                .url(&quot;jdbc:h2:file:~/newName&quot;)\n                .username(&quot;user&quot;)\n                .password(&quot;pass&quot;)\n                .driverClassName(&quot;org.h2.Driver&quot;)\n                .build());\n</code></pre>\n<p>This process work, and create the file database after the user action. But I don't know if it is the best option.</p>\n"},{"tags":["java","spring","spring-boot","cassandra","datastax-java-driver"],"answers":[{"comments":[{"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"score":0,"creation_date":1679932825,"post_id":75857672,"comment_id":133805817,"body_markdown":"I replaced `9142` with `9042` and removed `&lt;java.version&gt;1.8&lt;/java.version&gt;` from `pom.xml`, but I&#39;m still getting same error...","body":"I replaced <code>9142</code> with <code>9042</code> and removed <code>&lt;java.version&gt;1.8&lt;&#47;java.version&gt;</code> from <code>pom.xml</code>, but I&#39;m still getting same error..."},{"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"score":0,"creation_date":1679933709,"post_id":75857672,"comment_id":133806055,"body_markdown":"I&#39;ve updated the question with my `application.properties`","body":"I&#39;ve updated the question with my <code>application.properties</code>"},{"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"score":1,"creation_date":1679937089,"post_id":75857672,"comment_id":133806950,"body_markdown":"Sure, please check https://justpaste.it/69rpj","body":"Sure, please check <a href=\"https://justpaste.it/69rpj\" rel=\"nofollow noreferrer\">justpaste.it/69rpj</a>"},{"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"score":1,"creation_date":1679938105,"post_id":75857672,"comment_id":133807211,"body_markdown":"just wondering if my dependencies for `cassandra` are correct... Please recheck `pom.xml`","body":"just wondering if my dependencies for <code>cassandra</code> are correct... Please recheck <code>pom.xml</code>"},{"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"score":0,"creation_date":1679938708,"post_id":75857672,"comment_id":133807381,"body_markdown":"I did that, getting these errors now: `Project &#39;org.springframework.boot:spring-boot-starter-parent:2.7.10&#39; not found` and `Dependency &#39;org.springframework.boot:spring-boot-autoconfigure:2.7.10&#39; not found`","body":"I did that, getting these errors now: <code>Project &#39;org.springframework.boot:spring-boot-starter-parent:2.7.10&#39; not found</code> and <code>Dependency &#39;org.springframework.boot:spring-boot-autoconfigure:2.7.10&#39; not found</code>"},{"owner":{"account_id":60456,"reputation":55971,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"score":0,"creation_date":1679939465,"post_id":75857672,"comment_id":133807562,"body_markdown":"@AjayKulkarni Running a `mvn clean install` should pull down the new version.","body":"@AjayKulkarni Running a <code>mvn clean install</code> should pull down the new version."},{"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"score":0,"creation_date":1679941826,"post_id":75857672,"comment_id":133808096,"body_markdown":"Did that, getting another error: `java: cannot find symbol\n  symbol:   class CassandraClusterFactoryBean`, is it related to `update cassandra to 4.3 guide` - https://docs.datastax.com/en/developer/java-driver/4.3/upgrade_guide/?? Can you please point me to a proper `cassandra config` file?","body":"Did that, getting another error: <code>java: cannot find symbol   symbol:   class CassandraClusterFactoryBean</code>, is it related to <code>update cassandra to 4.3 guide</code> - <a href=\"https://docs.datastax.com/en/developer/java-driver/4.3/upgrade_guide/\" rel=\"nofollow noreferrer\">docs.datastax.com/en/developer/java-driver/4.3/upgrade_guide</a>&zwnj;&#8203;?? Can you please point me to a proper <code>cassandra config</code> file?"},{"owner":{"account_id":60456,"reputation":55971,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"score":0,"creation_date":1679942583,"post_id":75857672,"comment_id":133808282,"body_markdown":"@AjayKulkarni Edit made.","body":"@AjayKulkarni Edit made."}],"tags":[],"owner":{"account_id":60456,"reputation":55971,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679942571,"creation_date":1679931434,"answer_id":75857672,"question_id":75857506,"body_markdown":"So seeing this:\r\n\r\n    Cannot connect), localhost/127.0.0.1:9042\r\n\r\nAnd this:\r\n\r\n    cluster.setContactPoints(&quot;127.0.0.1&quot;);\r\n    cluster.setPort(9142);\r\n\r\nNot sure which port Cassandra is expecting connections on, but 9142 is only used for SSL in versions &gt;= 4.0.  Otherwise, it&#39;s 9042.  Also, I would not specify the port or contact points in the code, but rather in the `src/main/resources/application.[yaml|properties]` file.  It&#39;s possible that those settings are conflicting.\r\n\r\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\r\nAdditionally, the Java version of the Cassandra JVM does not have to match the JVM version used in the service layer code.  I&#39;d _highly_ recommend using at least Java 17.\r\n\r\nSo the next, big thing that I see is that the `spring-boot-starter-parent` version is about 5 years old:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\nSpring Boot version 3 isn&#39;t binary compatible with 2.x, so for now I&#39;d recommend using 2.7.10:\r\n\r\n    &lt;version&gt;2.7.10&lt;/version&gt;\r\n\r\nI&#39;m guessing that you&#39;ll also have to make the same version adjustment with `spring-boot-autoconfigure`.\r\n\r\nSetting this parent version properly should bring in the correct driver to work with Cassandra 4.0.8.\r\n\r\n**Edit**\r\n\r\nSo I don&#39;t think you need that `CassandraConfig` class.  As long as you build your repositories so they extend `ReactiveCassandraRepository` and define the connection properties in the `application.properties` file, it should just work.\r\n\r\nBaeldung has an article stepping through how to use the Spring Boot Cassandra Reactive library, and I&#39;d advise taking a look through that: https://www.baeldung.com/spring-data-cassandra-reactive\r\n","title":"Spring Boot app returns &quot;Error creating bean with name &#39;cassandraSession&#39;&quot; and NoHostAvailableException","body":"<p>So seeing this:</p>\n<pre><code>Cannot connect), localhost/127.0.0.1:9042\n</code></pre>\n<p>And this:</p>\n<pre><code>cluster.setContactPoints(&quot;127.0.0.1&quot;);\ncluster.setPort(9142);\n</code></pre>\n<p>Not sure which port Cassandra is expecting connections on, but 9142 is only used for SSL in versions &gt;= 4.0.  Otherwise, it's 9042.  Also, I would not specify the port or contact points in the code, but rather in the <code>src/main/resources/application.[yaml|properties]</code> file.  It's possible that those settings are conflicting.</p>\n<pre><code>&lt;java.version&gt;1.8&lt;/java.version&gt;\n</code></pre>\n<p>Additionally, the Java version of the Cassandra JVM does not have to match the JVM version used in the service layer code.  I'd <em>highly</em> recommend using at least Java 17.</p>\n<p>So the next, big thing that I see is that the <code>spring-boot-starter-parent</code> version is about 5 years old:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>Spring Boot version 3 isn't binary compatible with 2.x, so for now I'd recommend using 2.7.10:</p>\n<pre><code>&lt;version&gt;2.7.10&lt;/version&gt;\n</code></pre>\n<p>I'm guessing that you'll also have to make the same version adjustment with <code>spring-boot-autoconfigure</code>.</p>\n<p>Setting this parent version properly should bring in the correct driver to work with Cassandra 4.0.8.</p>\n<p><strong>Edit</strong></p>\n<p>So I don't think you need that <code>CassandraConfig</code> class.  As long as you build your repositories so they extend <code>ReactiveCassandraRepository</code> and define the connection properties in the <code>application.properties</code> file, it should just work.</p>\n<p>Baeldung has an article stepping through how to use the Spring Boot Cassandra Reactive library, and I'd advise taking a look through that: <a href=\"https://www.baeldung.com/spring-data-cassandra-reactive\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-cassandra-reactive</a></p>\n"},{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680172612,"creation_date":1680172612,"answer_id":75887139,"question_id":75857506,"body_markdown":"The `TransportException` is a very specific error thrown by the Java driver which means that it cannot reach the cluster. This is a clear indication that your app cannot connect to the cluster on IP `127.0.0.1` on CQL port `9042`.\r\n\r\nIt is important to note that if your application is not running on the same host as the Cassandra node, it will not be able to connect. By definition, `localhost` is only reachable on the local host.\r\n\r\nOtherwise, you need to investigate why there is no network connectivity between your app and the cluster. A good way to troubleshoot is by running Linux utilities like `lsof` or `netstat` to verify that the Cassandra instance is indeed (1) running on `localhost`, and (2) listening on port `9042`.\r\n\r\nRun one of the following commands and review the output to verify the IP + port for the Cassandra process:\r\n\r\n```\r\n$ sudo lsof -nPi -sTCP:LISTEN\r\n```\r\n\r\n```\r\n$ netstat -tnlp\r\n```","title":"Spring Boot app returns &quot;Error creating bean with name &#39;cassandraSession&#39;&quot; and NoHostAvailableException","body":"<p>The <code>TransportException</code> is a very specific error thrown by the Java driver which means that it cannot reach the cluster. This is a clear indication that your app cannot connect to the cluster on IP <code>127.0.0.1</code> on CQL port <code>9042</code>.</p>\n<p>It is important to note that if your application is not running on the same host as the Cassandra node, it will not be able to connect. By definition, <code>localhost</code> is only reachable on the local host.</p>\n<p>Otherwise, you need to investigate why there is no network connectivity between your app and the cluster. A good way to troubleshoot is by running Linux utilities like <code>lsof</code> or <code>netstat</code> to verify that the Cassandra instance is indeed (1) running on <code>localhost</code>, and (2) listening on port <code>9042</code>.</p>\n<p>Run one of the following commands and review the output to verify the IP + port for the Cassandra process:</p>\n<pre><code>$ sudo lsof -nPi -sTCP:LISTEN\n</code></pre>\n<pre><code>$ netstat -tnlp\n</code></pre>\n"}],"owner":{"account_id":5237756,"reputation":2929,"user_id":4185813,"accept_rate":58,"display_name":"Ajay Kulkarni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680172612,"creation_date":1679930389,"question_id":75857506,"body_markdown":"I&#39;m writing a `Springboot` project to implement `ISO20022` which uses `cassandra db`. \r\n  \r\nMy `POM.xml`:  \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;untitled&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;Simple Wallet&lt;/name&gt;\r\n        &lt;description&gt;Powered with ISO20022&lt;/description&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-cassandra-reactive&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n                &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;netty-transport-native-epoll&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- API, java.xml.bind module --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Runtime, com.sun.xml.bind module --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;  \r\nMy `Cassandra` config:  \r\n\r\n    @Configuration\r\n    @EnableReactiveCassandraRepositories(basePackages = &quot;org.example.repository&quot;)\r\n    public class CassandraConfig extends AbstractReactiveCassandraConfiguration {\r\n    \r\n        @Override\r\n        protected String getKeyspaceName() {\r\n            return &quot;isodb&quot;;\r\n        }\r\n    \r\n        @Bean\r\n        public CassandraClusterFactoryBean cluster() {\r\n            CassandraClusterFactoryBean cluster = super.cluster();\r\n            cluster.setContactPoints(&quot;127.0.0.1&quot;);\r\n            cluster.setPort(9142);\r\n            return cluster;\r\n        }\r\n    \r\n        @Bean\r\n        public CassandraMappingContext cassandraMapping() {\r\n            return new CassandraMappingContext();\r\n        }\r\n    \r\n        @Override\r\n        protected boolean getMetricsEnabled() { return false; }\r\n    \r\n    }    \r\n`appliction.properties:`  \r\n\r\n    spring.data.cassandra.keyspace-name=isodb\r\n    spring.data.cassandra.schema-action=create_if_not_exists  \r\n\r\n\r\nOutput of running `cassandra`&#39;s nodetool status:  \r\n\r\n    Datacenter: datacenter1\r\n    =======================\r\n    Status=Up/Down\r\n    |/ State=Normal/Leaving/Joining/Moving\r\n    --  Address    Load       Tokens  Owns (effective)  Host ID                               Rack\r\n    UN  127.0.0.1  69.07 KiB  16      100.0%            34bb5a10-bd19-46ea-8ece-a68b239becf4  rack1  \r\n\r\nWhen I run the project, I get this error:  \r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: \\\r\n  Error creating bean with name &#39;cassandraSession&#39; defined in class path resource \\\r\n [org/springframework/boot/autoconfigure/data/cassandra/CassandraDataAutoConfiguration.class]: \\\r\n    Invocation of init method failed; nested exception is \\\r\n    com.datastax.driver.core.exceptions.NoHostAvailableException: \\ \r\n    All host(s) tried for query failed (tried: localhost/0:0:0:0:0:0:0:1:9042 \\\r\n    (com.datastax.driver.core.exceptions.TransportException: \\\r\n    [localhost/0:0:0:0:0:0:0:1:9042] Cannot connect), localhost/127.0.0.1:9042 \\\r\n    (com.datastax.driver.core.exceptions.TransportException: \\\r\n    [localhost/127.0.0.1:9042] Cannot connect))\r\n```  \r\nHow can I fix this? What am I missing? \r\n","title":"Spring Boot app returns &quot;Error creating bean with name &#39;cassandraSession&#39;&quot; and NoHostAvailableException","body":"<p>I'm writing a <code>Springboot</code> project to implement <code>ISO20022</code> which uses <code>cassandra db</code>.</p>\n<p>My <code>POM.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;untitled&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;Simple Wallet&lt;/name&gt;\n    &lt;description&gt;Powered with ISO20022&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-cassandra-reactive&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\n            &lt;artifactId&gt;netty-transport-native-epoll&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- API, java.xml.bind module --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Runtime, com.sun.xml.bind module --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n            &lt;version&gt;4.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;  \n</code></pre>\n<p>My <code>Cassandra</code> config:</p>\n<pre><code>@Configuration\n@EnableReactiveCassandraRepositories(basePackages = &quot;org.example.repository&quot;)\npublic class CassandraConfig extends AbstractReactiveCassandraConfiguration {\n\n    @Override\n    protected String getKeyspaceName() {\n        return &quot;isodb&quot;;\n    }\n\n    @Bean\n    public CassandraClusterFactoryBean cluster() {\n        CassandraClusterFactoryBean cluster = super.cluster();\n        cluster.setContactPoints(&quot;127.0.0.1&quot;);\n        cluster.setPort(9142);\n        return cluster;\n    }\n\n    @Bean\n    public CassandraMappingContext cassandraMapping() {\n        return new CassandraMappingContext();\n    }\n\n    @Override\n    protected boolean getMetricsEnabled() { return false; }\n\n}    \n</code></pre>\n<p><code>appliction.properties:</code></p>\n<pre><code>spring.data.cassandra.keyspace-name=isodb\nspring.data.cassandra.schema-action=create_if_not_exists  \n</code></pre>\n<p>Output of running <code>cassandra</code>'s nodetool status:</p>\n<pre><code>Datacenter: datacenter1\n=======================\nStatus=Up/Down\n|/ State=Normal/Leaving/Joining/Moving\n--  Address    Load       Tokens  Owns (effective)  Host ID                               Rack\nUN  127.0.0.1  69.07 KiB  16      100.0%            34bb5a10-bd19-46ea-8ece-a68b239becf4  rack1  \n</code></pre>\n<p>When I run the project, I get this error:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: \\\n  Error creating bean with name 'cassandraSession' defined in class path resource \\\n [org/springframework/boot/autoconfigure/data/cassandra/CassandraDataAutoConfiguration.class]: \\\n    Invocation of init method failed; nested exception is \\\n    com.datastax.driver.core.exceptions.NoHostAvailableException: \\ \n    All host(s) tried for query failed (tried: localhost/0:0:0:0:0:0:0:1:9042 \\\n    (com.datastax.driver.core.exceptions.TransportException: \\\n    [localhost/0:0:0:0:0:0:0:1:9042] Cannot connect), localhost/127.0.0.1:9042 \\\n    (com.datastax.driver.core.exceptions.TransportException: \\\n    [localhost/127.0.0.1:9042] Cannot connect))\n</code></pre>\n<p>How can I fix this? What am I missing?</p>\n"},{"tags":["java","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680172251,"creation_date":1680172251,"answer_id":75887067,"question_id":75886800,"body_markdown":"Fine-tuning the solver is an art on its own. Please find out more in [benchmarking and tweaking OptaPlanner][1].\r\n\r\n\r\n  [1]: https://www.optaplanner.org/docs/optaplanner/latest/benchmarking-and-tweaking/benchmarking-and-tweaking.html","title":"How to create intuition/steps to while creating a solver&#39;s config having various local search meta-heuristics using Optaplanner?","body":"<p>Fine-tuning the solver is an art on its own. Please find out more in <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/benchmarking-and-tweaking/benchmarking-and-tweaking.html\" rel=\"nofollow noreferrer\">benchmarking and tweaking OptaPlanner</a>.</p>\n"}],"owner":{"account_id":26888883,"reputation":11,"user_id":20467980,"display_name":"Vinayak Tiwari AI and Data Sci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680172251,"creation_date":1680170659,"question_id":75886800,"body_markdown":"I am trying to solve a constraint optimization problem using optaplanner, for which I need to create a XML file which consists of solver(construction heuristics + local search) algorithms. I am confused which algo/ metaheuristic should I choose and how can I say that this particular metaheuristic combined with other eg( late acceptance followed by tabu search) will lead to better or worse results","title":"How to create intuition/steps to while creating a solver&#39;s config having various local search meta-heuristics using Optaplanner?","body":"<p>I am trying to solve a constraint optimization problem using optaplanner, for which I need to create a XML file which consists of solver(construction heuristics + local search) algorithms. I am confused which algo/ metaheuristic should I choose and how can I say that this particular metaheuristic combined with other eg( late acceptance followed by tabu search) will lead to better or worse results</p>\n"},{"tags":["java","android","json","jackson"],"comments":[{"owner":{"account_id":186082,"reputation":4236,"user_id":423199,"accept_rate":99,"display_name":"Hector"},"score":0,"creation_date":1425877148,"post_id":28935435,"comment_id":46126406,"body_markdown":"the answers to this SO question will help... http://stackoverflow.com/questions/9895041/merging-two-json-documents-using-jackson","body":"the answers to this SO question will help... <a href=\"http://stackoverflow.com/questions/9895041/merging-two-json-documents-using-jackson\" title=\"merging two json documents using jackson\">stackoverflow.com/questions/9895041/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11426762,"reputation":89,"user_id":8376709,"display_name":"Yury"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680172013,"creation_date":1680172013,"answer_id":75887033,"question_id":28935435,"body_markdown":"need to add @JsonMerge annotation on the mPilot field. That will instruct jackson to do deep copy, and the pilot&#39;s fields will be updated correctly.","title":"Jackson Parser: Updating a mapped object with nested objects","body":"<p>need to add @JsonMerge annotation on the mPilot field. That will instruct jackson to do deep copy, and the pilot's fields will be updated correctly.</p>\n"}],"owner":{"account_id":3037423,"reputation":134,"user_id":2575162,"display_name":"shug"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1568,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1680172013,"creation_date":1425876521,"question_id":28935435,"body_markdown":"I have been taking advantage of Jackson JSON parser to map out my objects. While testing out the api, I have come across an issue with creating/updating my object that includes nested objects.\r\n\r\nCreating and Updating main object\r\n\r\n    Airplane plane = airplanes.get(planeId);\r\n    if(plane == null){\r\n        plane = mapper.readValue(jsonNode, Airplane.class)\r\n    }else{\r\n        mapper.readerForUpdating(plane).readValue(jsonNode);\r\n    }\r\n\r\n\r\nExample of objects:\r\n\r\n    public class Airplane {\r\n        private static final String TAG = &quot;Airplane Model&quot;;\r\n    \r\n        @JsonProperty(&quot;id&quot;)\r\n        private String mId;\r\n    \r\n        @JsonProperty(&quot;company&quot;)\r\n        private String mCompany;\r\n    \r\n        @JsonProperty(&quot;pilot&quot;)\r\n        private Pilot mPilot;\r\n    \r\n        @JsonProperty(&quot;passenger&quot;)\r\n        private Passenger mPassenger;\r\n    \r\n        public Airplane() {\r\n\r\n        }\r\n    }\r\n\r\n    public class Pilot {\r\n        private static final String TAG = &quot;Pilot Model&quot;;\r\n    \r\n        @JsonProperty(&quot;id&quot;)\r\n        private String mId;\r\n    \r\n        @JsonProperty(&quot;name&quot;)\r\n        private String mName;\r\n    \r\n        public Pilot() {\r\n          //keeps getting called on airplane reader update\r\n        }\r\n    }\r\n\r\n\r\nEverything maps correctly, however the issue is that every time an airplane object is updated, it creates a new nested object of &#39;Pilot&#39; as commented in the Pilot() constructor. This becomes a larger issue because the airplane model is being updated by a web socket at a small time interval (Unnecessary object instantiation). Additionally, I am setting non-mapped fields in the Pilot object which are being lost due to a new Pilot object being created on every update.\r\n\r\nWhat is the proper way to update an object via Jackson with nested objects? Am I missing any annotations to prevent repetitive instantiation of my nested objects.","title":"Jackson Parser: Updating a mapped object with nested objects","body":"<p>I have been taking advantage of Jackson JSON parser to map out my objects. While testing out the api, I have come across an issue with creating/updating my object that includes nested objects.</p>\n\n<p>Creating and Updating main object</p>\n\n<pre><code>Airplane plane = airplanes.get(planeId);\nif(plane == null){\n    plane = mapper.readValue(jsonNode, Airplane.class)\n}else{\n    mapper.readerForUpdating(plane).readValue(jsonNode);\n}\n</code></pre>\n\n<p>Example of objects:</p>\n\n<pre><code>public class Airplane {\n    private static final String TAG = \"Airplane Model\";\n\n    @JsonProperty(\"id\")\n    private String mId;\n\n    @JsonProperty(\"company\")\n    private String mCompany;\n\n    @JsonProperty(\"pilot\")\n    private Pilot mPilot;\n\n    @JsonProperty(\"passenger\")\n    private Passenger mPassenger;\n\n    public Airplane() {\n\n    }\n}\n\npublic class Pilot {\n    private static final String TAG = \"Pilot Model\";\n\n    @JsonProperty(\"id\")\n    private String mId;\n\n    @JsonProperty(\"name\")\n    private String mName;\n\n    public Pilot() {\n      //keeps getting called on airplane reader update\n    }\n}\n</code></pre>\n\n<p>Everything maps correctly, however the issue is that every time an airplane object is updated, it creates a new nested object of 'Pilot' as commented in the Pilot() constructor. This becomes a larger issue because the airplane model is being updated by a web socket at a small time interval (Unnecessary object instantiation). Additionally, I am setting non-mapped fields in the Pilot object which are being lost due to a new Pilot object being created on every update.</p>\n\n<p>What is the proper way to update an object via Jackson with nested objects? Am I missing any annotations to prevent repetitive instantiation of my nested objects.</p>\n"},{"tags":["java","barcode","gs1-128","barcode4j","gs1-ai-syntax"],"answers":[{"comments":[{"owner":{"account_id":22208858,"reputation":11,"user_id":16448389,"display_name":"unknownDev"},"score":0,"creation_date":1679391660,"post_id":75722972,"comment_id":133709165,"body_markdown":"I read many of documentations about the correct message need to send to make the barcode correctly but nothing work. There is anything else to do or any pdf indicates me of how to to find the correct message before send it to library ?","body":"I read many of documentations about the correct message need to send to make the barcode correctly but nothing work. There is anything else to do or any pdf indicates me of how to to find the correct message before send it to library ?"},{"owner":{"account_id":191477,"reputation":2845,"user_id":2568535,"display_name":"Terry Burton"},"score":0,"creation_date":1679391968,"post_id":75722972,"comment_id":133709246,"body_markdown":"&quot;I tried stuff. It didn&#39;t work.&quot; is not a useful way of asking for help. You&#39;ve been given links to various accurate resources that explain the overall approach and implement what is required. What exactly have you tried? What results did you expect (based on your understanding of what information)? What did you actually get? Essentially you are asking folk to do you homework for you, but instead you will be much more successful if you explain in detail what specific issues you are encountering, or what information you find difficult to understand.","body":"&quot;I tried stuff. It didn&#39;t work.&quot; is not a useful way of asking for help. You&#39;ve been given links to various accurate resources that explain the overall approach and implement what is required. What exactly have you tried? What results did you expect (based on your understanding of what information)? What did you actually get? Essentially you are asking folk to do you homework for you, but instead you will be much more successful if you explain in detail what specific issues you are encountering, or what information you find difficult to understand."},{"owner":{"account_id":191477,"reputation":2845,"user_id":2568535,"display_name":"Terry Burton"},"score":0,"creation_date":1679392534,"post_id":75722972,"comment_id":133709426,"body_markdown":"Folk are more prepared to provide explanatory content and solutions to specific issues for many future users to encounter, than to provide overall solutions to an end to end problem. So I advise to break the problem down, e.g. by splitting off the base64 image encoding part as it&#39;s unrelated to producing the initial image and seems to distract from the main issue of deciding what to put in the barcode in the first place.","body":"Folk are more prepared to provide explanatory content and solutions to specific issues for many future users to encounter, than to provide overall solutions to an end to end problem. So I advise to break the problem down, e.g. by splitting off the base64 image encoding part as it&#39;s unrelated to producing the initial image and seems to distract from the main issue of deciding what to put in the barcode in the first place."},{"owner":{"account_id":22208858,"reputation":11,"user_id":16448389,"display_name":"unknownDev"},"score":0,"creation_date":1679393725,"post_id":75722972,"comment_id":133709805,"body_markdown":"I try to encode this barcode data (01)8638634367382(15)230316(3103)000998(10)45456465604 and send it to library barcode4j to make it barcode GS1-128. I send this code in library but the generated barcode isn&#39;t scannable or recognized as Code128 instead of GS1-128. This is the problem. Also I try to insert special characters like FNC1 but nothing change.","body":"I try to encode this barcode data (01)8638634367382(15)230316(3103)000998(10)45456465604 and send it to library barcode4j to make it barcode GS1-128. I send this code in library but the generated barcode isn&#39;t scannable or recognized as Code128 instead of GS1-128. This is the problem. Also I try to insert special characters like FNC1 but nothing change."},{"owner":{"account_id":191477,"reputation":2845,"user_id":2568535,"display_name":"Terry Burton"},"score":0,"creation_date":1679412970,"post_id":75722972,"comment_id":133715673,"body_markdown":"What EXACTLY did you try? What EXACTLY was the result. For example, what is the value of the `input` variable (with FNC1 characters) in the code that you provided and what was the resulting image. If it takes you less than a minute to write your response then you are not trying to help yourself.","body":"What EXACTLY did you try? What EXACTLY was the result. For example, what is the value of the <code>input</code> variable (with FNC1 characters) in the code that you provided and what was the resulting image. If it takes you less than a minute to write your response then you are not trying to help yourself."},{"owner":{"account_id":22208858,"reputation":11,"user_id":16448389,"display_name":"unknownDev"},"score":0,"creation_date":1679426120,"post_id":75722972,"comment_id":133719570,"body_markdown":"Mr Burton thank you for your patient! I want to generate this string ((01)8638634367382(15)230316(3103)000998(10)45456465604) into a scannable barcode using Barcode4j. I want to find the correct way, library wants to send the barcode data. I tried many variations like {FNC1}XXXXXXXXXXX where XXXXXXXXXX is the actual barcode data like before. Also I tried with special character a strange one but nothing. So the real question is what is the correct form where the library needs to make my barcode scannable. I understand that my question is very general but I don&#39;t know the correct way to do it.","body":"Mr Burton thank you for your patient! I want to generate this string ((01)8638634367382(15)230316(3103)000998(10)45456465604) into a scannable barcode using Barcode4j. I want to find the correct way, library wants to send the barcode data. I tried many variations like {FNC1}XXXXXXXXXXX where XXXXXXXXXX is the actual barcode data like before. Also I tried with special character a strange one but nothing. So the real question is what is the correct form where the library needs to make my barcode scannable. I understand that my question is very general but I don&#39;t know the correct way to do it."},{"owner":{"account_id":191477,"reputation":2845,"user_id":2568535,"display_name":"Terry Burton"},"score":0,"creation_date":1679435577,"post_id":75722972,"comment_id":133721533,"body_markdown":"@unknownDev As requested, please amend the code in your question to show how you are setting the `input` variable, including FNC1, and what outputted image you are getting. Does the &quot;special character&quot; that you mention refer to the 0xF1 byte in my reply, or something else? If you are exact, by providing a minimal reproducible example, then your work can be replicated and the exact problem identified and fixed. Right now you are essentially asking folk to write something that works from scratch by guessing at what you did, and what you did wrong, because you have not given inputs and outputs.","body":"@unknownDev As requested, please amend the code in your question to show how you are setting the <code>input</code> variable, including FNC1, and what outputted image you are getting. Does the &quot;special character&quot; that you mention refer to the 0xF1 byte in my reply, or something else? If you are exact, by providing a minimal reproducible example, then your work can be replicated and the exact problem identified and fixed. Right now you are essentially asking folk to write something that works from scratch by guessing at what you did, and what you did wrong, because you have not given inputs and outputs."},{"owner":{"account_id":22208858,"reputation":11,"user_id":16448389,"display_name":"unknownDev"},"score":0,"creation_date":1679475321,"post_id":75722972,"comment_id":133726992,"body_markdown":"Mr Burton I try inputs like (01)8638634367382(15)230316(3103)000998(10)45456465604, 0186386343673821523031631030009981045456465604, {FNC1}0186386343673821523031631030009981045456465604 but the barcode image isn&#39;t scannable. Can you tell me what is the correct message format that library needs to have to produce the barcode?","body":"Mr Burton I try inputs like (01)8638634367382(15)230316(3103)000998(10)45456465604, 0186386343673821523031631030009981045456465604, {FNC1}0186386343673821523031631030009981045456465604 but the barcode image isn&#39;t scannable. Can you tell me what is the correct message format that library needs to have to produce the barcode?"},{"owner":{"account_id":191477,"reputation":2845,"user_id":2568535,"display_name":"Terry Burton"},"score":0,"creation_date":1679500382,"post_id":75722972,"comment_id":133734094,"body_markdown":"Without greater specificity I will not engage further. Your are actively preventing anybody from helping you by not following instructions (troubleshooting steps or documentation snippets) and simply repeating yourself without increased detail. So all that I can do is to repeat myself: As requested, provide the image output. As requested, modify the code in the question to show the inputs that you provided. Provide minimal working code that others can run. As requested, read the answer that has already been given: Have you tried inserting a 0xF1 character for FNC1 as the documentation states?","body":"Without greater specificity I will not engage further. Your are actively preventing anybody from helping you by not following instructions (troubleshooting steps or documentation snippets) and simply repeating yourself without increased detail. So all that I can do is to repeat myself: As requested, provide the image output. As requested, modify the code in the question to show the inputs that you provided. Provide minimal working code that others can run. As requested, read the answer that has already been given: Have you tried inserting a 0xF1 character for FNC1 as the documentation states?"}],"tags":[],"owner":{"account_id":191477,"reputation":2845,"user_id":2568535,"display_name":"Terry Burton"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679614685,"creation_date":1678716316,"answer_id":75722972,"question_id":75721728,"body_markdown":"The example that you have supplied is a GS1 Application Identifier element string in bracketed representation.\r\n\r\nUnless the library does it for you, you will need to convert this to unbracketed representation with FNC1 in first position, suitable for encoding directly into a Code 128. (It is this process that differentiates GS1-128 from plain Code 128.)\r\n\r\nThe bracketed AI element string that you provided —(01)8638634367382(15)230316(3103)000998(10)45456465604 — does not decode correctly:\r\n\r\n``` lang-none\r\nGTIN                   (01) 8638634367382    &lt;-- Invalid. Too short.\r\nBEST BEFORE or BEST BY (15) 230316\r\nNET WEIGHT (kg)        (3103) 000998\r\nBATCH/LOT              (10) 45456465604\r\n```\r\n\r\nReplacing the GTIN with one that is valid — (01)0101234567890128 — would allow you to represent the data in FNC1 in first syntax as &quot;{FNC1}01012345678901281523031631030009981045456465604&quot; which you will need to pass to the library as input in its expected format.\r\n\r\nAccording to the [barcode4j documentation](https://barcode4j.sourceforge.net/2.1/symbol-code128.html) the escape sequence particular to their software for encoding an FNC1 non-data character is a literal 0xF1 ASCII value:\r\n\r\n&gt; Functions 1 to 4 may be used. They are encoded as ASCII characters 0xF1 (241), 0xF2 (242), 0xF3 (243) and 0xF4 (244) in the message.\r\n\r\nMore detail concerning the various representations of GS1 data is provided in [this article](https://www.linkedin.com/pulse/gs1-application-identifier-syntax-dictionary-terry-burton/).\r\n\r\nGS1 provide the [Barcode Syntax Resource](https://ref.gs1.org/tools/gs1-barcode-syntax-resource/) which is a native library, with bindings for Java, that can process GS1 Application Identifier syntax data.\r\n\r\n","title":"Generate GS1-128 Barcode using Barcode4j library in Java Swing","body":"<p>The example that you have supplied is a GS1 Application Identifier element string in bracketed representation.</p>\n<p>Unless the library does it for you, you will need to convert this to unbracketed representation with FNC1 in first position, suitable for encoding directly into a Code 128. (It is this process that differentiates GS1-128 from plain Code 128.)</p>\n<p>The bracketed AI element string that you provided —(01)8638634367382(15)230316(3103)000998(10)45456465604 — does not decode correctly:</p>\n<pre class=\"lang-none prettyprint-override\"><code>GTIN                   (01) 8638634367382    &lt;-- Invalid. Too short.\nBEST BEFORE or BEST BY (15) 230316\nNET WEIGHT (kg)        (3103) 000998\nBATCH/LOT              (10) 45456465604\n</code></pre>\n<p>Replacing the GTIN with one that is valid — (01)0101234567890128 — would allow you to represent the data in FNC1 in first syntax as &quot;{FNC1}01012345678901281523031631030009981045456465604&quot; which you will need to pass to the library as input in its expected format.</p>\n<p>According to the <a href=\"https://barcode4j.sourceforge.net/2.1/symbol-code128.html\" rel=\"nofollow noreferrer\">barcode4j documentation</a> the escape sequence particular to their software for encoding an FNC1 non-data character is a literal 0xF1 ASCII value:</p>\n<blockquote>\n<p>Functions 1 to 4 may be used. They are encoded as ASCII characters 0xF1 (241), 0xF2 (242), 0xF3 (243) and 0xF4 (244) in the message.</p>\n</blockquote>\n<p>More detail concerning the various representations of GS1 data is provided in <a href=\"https://www.linkedin.com/pulse/gs1-application-identifier-syntax-dictionary-terry-burton/\" rel=\"nofollow noreferrer\">this article</a>.</p>\n<p>GS1 provide the <a href=\"https://ref.gs1.org/tools/gs1-barcode-syntax-resource/\" rel=\"nofollow noreferrer\">Barcode Syntax Resource</a> which is a native library, with bindings for Java, that can process GS1 Application Identifier syntax data.</p>\n"},{"comments":[{"owner":{"account_id":22208858,"reputation":11,"user_id":16448389,"display_name":"unknownDev"},"score":0,"creation_date":1679939537,"post_id":75821426,"comment_id":133807580,"body_markdown":"Can you provide me this vb script ?","body":"Can you provide me this vb script ?"}],"tags":[],"owner":{"account_id":28100435,"reputation":1,"user_id":21469477,"display_name":"Eduardo Frias"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679564812,"creation_date":1679564812,"answer_id":75821426,"question_id":75721728,"body_markdown":"I had the same issue lastly and it seems to be not very clear in some point...what i have found after a long analysis is besides all you said previously you have to add some control characters if you want a valid gs1 code 128. For Example at the end of the string data you have to add a control character and eventually a stop character. All of them are printed by a char ascii number. By the way I didnt find a rutine or function in Java that passing a string (with the ais and the data) returned a string already parsed so i had to do one by my own (I &quot;copied&quot; one coded in vb so it was easy). ","title":"Generate GS1-128 Barcode using Barcode4j library in Java Swing","body":"<p>I had the same issue lastly and it seems to be not very clear in some point...what i have found after a long analysis is besides all you said previously you have to add some control characters if you want a valid gs1 code 128. For Example at the end of the string data you have to add a control character and eventually a stop character. All of them are printed by a char ascii number. By the way I didnt find a rutine or function in Java that passing a string (with the ais and the data) returned a string already parsed so i had to do one by my own (I &quot;copied&quot; one coded in vb so it was easy).</p>\n"}],"owner":{"account_id":22208858,"reputation":11,"user_id":16448389,"display_name":"unknownDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":694,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680171980,"creation_date":1678709646,"question_id":75721728,"body_markdown":"I have a string like (01)8638634367382(15)230316(3103)000998(10)45456465604 that I want to do it as barcode png using barcode4j lib in java. I use this code \r\n```\r\n  // Create the barcode bean\r\n        Code128Bean barcode = new Code128Bean();\r\n\r\n        // Configure the barcode generator\r\n        final int dpi = 400;\r\n        barcode.setModuleWidth(0.2);\r\n        barcode.doQuietZone(false);\r\n\r\n        int codeset = Code128Constants.CODESET_C;\r\n        for (int i = 0; i &lt; input.length(); i++) {\r\n            char c = input.charAt(i);\r\n            if (!Character.isDigit(c)) {\r\n                codeset = Code128Constants.CODESET_B;\r\n                break;\r\n            }\r\n        }\r\n        barcode.setCodeset(codeset);\r\n        // Generate the barcode bitmap\r\n\t\tBitmapCanvasProvider canvas = new BitmapCanvasProvider(dpi, BufferedImage.TYPE_BYTE_BINARY, false, 0);\r\n\t\tbarcode.generateBarcode(canvas, input);\r\n        try {\r\n            canvas.finish();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(&quot;Error generating barcode&quot;, e);\r\n        }\r\n\r\n        // Encode the bitmap as a base64 string\r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n        try {\r\n            ImageIO.write(canvas.getBufferedImage(), &quot;png&quot;, outputStream);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(&quot;Error encoding barcode as PNG&quot;, e);\r\n        }\r\n        byte[] barcodeBytes = outputStream.toByteArray();\r\n        String base64Barcode = Base64.getEncoder().encodeToString(barcodeBytes);\r\n        \r\n        return base64Barcode;\r\n```\r\nbut the generated barcode isn&#39;t recognisable by any barcode scanner software. Also I encode the image to base64 string and when I want to represent in any part of my program I decode it and show the image. Any idea what&#39;s wrong with this?\r\n\r\nI expect to produce a readable barcode in this format (01)8638634367382(15)230316(3103)000998(10)45456465604 and of course it must be scannable by any software.","title":"Generate GS1-128 Barcode using Barcode4j library in Java Swing","body":"<p>I have a string like (01)8638634367382(15)230316(3103)000998(10)45456465604 that I want to do it as barcode png using barcode4j lib in java. I use this code</p>\n<pre><code>  // Create the barcode bean\n        Code128Bean barcode = new Code128Bean();\n\n        // Configure the barcode generator\n        final int dpi = 400;\n        barcode.setModuleWidth(0.2);\n        barcode.doQuietZone(false);\n\n        int codeset = Code128Constants.CODESET_C;\n        for (int i = 0; i &lt; input.length(); i++) {\n            char c = input.charAt(i);\n            if (!Character.isDigit(c)) {\n                codeset = Code128Constants.CODESET_B;\n                break;\n            }\n        }\n        barcode.setCodeset(codeset);\n        // Generate the barcode bitmap\n        BitmapCanvasProvider canvas = new BitmapCanvasProvider(dpi, BufferedImage.TYPE_BYTE_BINARY, false, 0);\n        barcode.generateBarcode(canvas, input);\n        try {\n            canvas.finish();\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;Error generating barcode&quot;, e);\n        }\n\n        // Encode the bitmap as a base64 string\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        try {\n            ImageIO.write(canvas.getBufferedImage(), &quot;png&quot;, outputStream);\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;Error encoding barcode as PNG&quot;, e);\n        }\n        byte[] barcodeBytes = outputStream.toByteArray();\n        String base64Barcode = Base64.getEncoder().encodeToString(barcodeBytes);\n        \n        return base64Barcode;\n</code></pre>\n<p>but the generated barcode isn't recognisable by any barcode scanner software. Also I encode the image to base64 string and when I want to represent in any part of my program I decode it and show the image. Any idea what's wrong with this?</p>\n<p>I expect to produce a readable barcode in this format (01)8638634367382(15)230316(3103)000998(10)45456465604 and of course it must be scannable by any software.</p>\n"},{"tags":["java","android","android-studio","kotlin","apk"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1680207047,"post_id":75887021,"comment_id":133863671,"body_markdown":"Most likely your project tries to use a repository that no longer exists using the specified URL, therefore the certificate warning. Remove the dead repo `comscore.bintray.com` from the project config and try again.","body":"Most likely your project tries to use a repository that no longer exists using the specified URL, therefore the certificate warning. Remove the dead repo <code>comscore.bintray.com</code> from the project config and try again."}],"owner":{"account_id":21883722,"reputation":1,"user_id":16171615,"display_name":"karan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680171933,"creation_date":1680171933,"question_id":75887021,"body_markdown":"This is Build output\r\n\r\nCertificate for &lt;comscore.bintray.com&gt; doesn&#39;t match any of the subject alternative names: [*.jfrog.io, *.int.jfrog.io, jfrog.io, *.pe.jfrog.io]\r\n\r\n\r\nExecution failed for task &#39;:app:kaptGenerateStubsDebugAndroidTestKotlin&#39;.\r\n&gt; Error while evaluating property &#39;filteredArgumentsMap&#39; of task &#39;:app:kaptGenerateStubsDebugAndroidTestKotlin&#39;\r\n   &gt; Could not resolve all files for configuration &#39;:app:debugAndroidTestCompileClasspath&#39;.\r\n      &gt; Could not resolve androidx.activity:activity-compose:1.0.5.\r\n        Required by:\r\n            project :app\r\n         &gt; Could not resolve androidx.activity:activity-compose:1.0.5.\r\n            &gt; Could not get resource &#39;https://comscore.bintray.com/Analytics/androidx/activity/activity-compose/1.0.5/activity-compose-1.0.5.pom&#39;.\r\n               &gt; Could not GET &#39;https://comscore.bintray.com/Analytics/androidx/activity/activity-compose/1.0.5/activity-compose-1.0.5.pom&#39;.\r\n                  &gt; Certificate for &lt;comscore.bintray.com&gt; doesn&#39;t match any of the subject alternative names: [*.jfrog.io, *.int.jfrog.io, jfrog.io, *.pe.jfrog.io]\r\n\r\n\r\ni have cleaned the project, rebuild , invalidated cache and same problem occurs in my office colleague&#39;s laptop too. What do you Think?","title":"Certificate error whenever trying to Build Apk(s) in Android Studio","body":"<p>This is Build output</p>\n<p>Certificate for &lt;comscore.bintray.com&gt; doesn't match any of the subject alternative names: [*.jfrog.io, *.int.jfrog.io, jfrog.io, *.pe.jfrog.io]</p>\n<p>Execution failed for task ':app:kaptGenerateStubsDebugAndroidTestKotlin'.</p>\n<blockquote>\n<p>Error while evaluating property 'filteredArgumentsMap' of task ':app:kaptGenerateStubsDebugAndroidTestKotlin'\nCould not resolve all files for configuration ':app:debugAndroidTestCompileClasspath'.\n&gt; Could not resolve androidx.activity:activity-compose:1.0.5.\nRequired by:\nproject :app\n&gt; Could not resolve androidx.activity:activity-compose:1.0.5.\n&gt; Could not get resource 'https://comscore.bintray.com/Analytics/androidx/activity/activity-compose/1.0.5/activity-compose-1.0.5.pom'.\n&gt; Could not GET 'https://comscore.bintray.com/Analytics/androidx/activity/activity-compose/1.0.5/activity-compose-1.0.5.pom'.\n&gt; Certificate for &lt;comscore.bintray.com&gt; doesn't match any of the subject alternative names: [*.jfrog.io, *.int.jfrog.io, jfrog.io, *.pe.jfrog.io]</p>\n</blockquote>\n<p>i have cleaned the project, rebuild , invalidated cache and same problem occurs in my office colleague's laptop too. What do you Think?</p>\n"},{"tags":["java","httpserver"],"comments":[{"owner":{"account_id":285267,"reputation":28880,"user_id":583834,"accept_rate":94,"display_name":"arturomp"},"score":0,"creation_date":1379608524,"post_id":18899919,"comment_id":27898738,"body_markdown":"Welcome to Stack Overflow! Do you have an example of the tomcat configuration to have an idea of what it does?","body":"Welcome to Stack Overflow! Do you have an example of the tomcat configuration to have an idea of what it does?"},{"owner":{"account_id":3326236,"reputation":11,"user_id":2796263,"display_name":"user2796263"},"score":0,"creation_date":1379609634,"post_id":18899919,"comment_id":27899324,"body_markdown":"Thanks.\nThe tomcat config is in relation to the maxKeepAliveRequests.\n\n**The maximum number of HTTP requests which can be pipelined until the connection is closed by the server. Setting this attribute to 1 will disable HTTP/1.0 keep-alive, as well as HTTP/1.1 keep-alive and pipelining. Setting this to -1 will allow an unlimited amount of pipelined or keep-alive HTTP requests. If not specified, this attribute is set to 100.**","body":"Thanks. The tomcat config is in relation to the maxKeepAliveRequests.  <b>The maximum number of HTTP requests which can be pipelined until the connection is closed by the server. Setting this attribute to 1 will disable HTTP/1.0 keep-alive, as well as HTTP/1.1 keep-alive and pipelining. Setting this to -1 will allow an unlimited amount of pipelined or keep-alive HTTP requests. If not specified, this attribute is set to 100.</b>"},{"owner":{"account_id":3326236,"reputation":11,"user_id":2796263,"display_name":"user2796263"},"score":0,"creation_date":1379609827,"post_id":18899919,"comment_id":27899419,"body_markdown":"sample from a tomcat server.xml for Connector config:\n\n**&lt;Connector executor=&quot;tomcatThreadPool&quot;\n               port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;\n               connectionTimeout=&quot;20000&quot;\n               redirectPort=&quot;8443&quot;\n               acceptCount=&quot;2000&quot;\n               maxKeepAliveRequests=&quot;500000&quot;\n               allowTrace=&quot;true&quot;/&gt;**","body":"sample from a tomcat server.xml for Connector config:  <b>&lt;Connector executor=&quot;tomcatThreadPool&quot;                port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;                connectionTimeout=&quot;20000&quot;                redirectPort=&quot;8443&quot;                acceptCount=&quot;2000&quot;                maxKeepAliveRequests=&quot;500000&quot;                allowTrace=&quot;true&quot;/&gt;</b>"},{"owner":{"account_id":285267,"reputation":28880,"user_id":583834,"accept_rate":94,"display_name":"arturomp"},"score":0,"creation_date":1379613544,"post_id":18899919,"comment_id":27901414,"body_markdown":"please edit your question and add these details! most people may not look at the comments!","body":"please edit your question and add these details! most people may not look at the comments!"}],"answers":[{"tags":[],"owner":{"account_id":21664607,"reputation":435,"user_id":15983216,"display_name":"Sebastian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680171745,"creation_date":1680170467,"answer_id":75886755,"question_id":18899919,"body_markdown":"Late answer (probably too late for the OP), but maybe useful for somebody else: I don&#39;t know myself of any API method to close the socket connection or TCP connection (I use the terms here synonymously, but see [here for a distinction](https://stackoverflow.com/questions/6419811/any-difference-between-socket-connection-and-tcp-connection#6419968)). However, it seems there is a dirty way of doing it by provoking an `IOException`. From the documentation of the [HttpExchange#getResponseBody()](https://docs.oracle.com/javase/8/docs/jre/api/net/httpserver/spec/com/sun/net/httpserver/HttpExchange.html#getResponseBody--): \r\n\r\n&gt; If the call to sendResponseHeaders() specified a fixed response body length, then the exact number of bytes specified in that call must be written to this stream. If too many bytes are written, then write() will throw an IOException. If too few bytes are written then the stream close() will throw an IOException. In both cases, the exchange is aborted and the underlying TCP connection closed.\r\n\r\nFurthermore, looking at the implementation details in `sun.net.httpserver.ServerImpl.Exchange.run()`, it seems that any Exception that is thrown by the `HttpHandler.handle()` method and which is not a `NumberFormatException` or `URISyntaxException` will lead to the closing of the TCP connection. So in particular all `IOException`s. Therefore, throwing an `IOException` from within a handler would be a way to terminate the TCP connection. But it&#39;s certainly not a nice way and depends to some extent on the implementation details. Intentionally writing too much to the response-stream and provoking the corresponding exception instead of throwing one oneself would be same ugly, but at least then it wouldn&#39;t depend on implementation details, as the termination of the TCP connection is well documented in that case.","title":"Java HttpServer - closing connections on server side","body":"<p>Late answer (probably too late for the OP), but maybe useful for somebody else: I don't know myself of any API method to close the socket connection or TCP connection (I use the terms here synonymously, but see <a href=\"https://stackoverflow.com/questions/6419811/any-difference-between-socket-connection-and-tcp-connection#6419968\">here for a distinction</a>). However, it seems there is a dirty way of doing it by provoking an <code>IOException</code>. From the documentation of the <a href=\"https://docs.oracle.com/javase/8/docs/jre/api/net/httpserver/spec/com/sun/net/httpserver/HttpExchange.html#getResponseBody--\" rel=\"nofollow noreferrer\">HttpExchange#getResponseBody()</a>:</p>\n<blockquote>\n<p>If the call to sendResponseHeaders() specified a fixed response body length, then the exact number of bytes specified in that call must be written to this stream. If too many bytes are written, then write() will throw an IOException. If too few bytes are written then the stream close() will throw an IOException. In both cases, the exchange is aborted and the underlying TCP connection closed.</p>\n</blockquote>\n<p>Furthermore, looking at the implementation details in <code>sun.net.httpserver.ServerImpl.Exchange.run()</code>, it seems that any Exception that is thrown by the <code>HttpHandler.handle()</code> method and which is not a <code>NumberFormatException</code> or <code>URISyntaxException</code> will lead to the closing of the TCP connection. So in particular all <code>IOException</code>s. Therefore, throwing an <code>IOException</code> from within a handler would be a way to terminate the TCP connection. But it's certainly not a nice way and depends to some extent on the implementation details. Intentionally writing too much to the response-stream and provoking the corresponding exception instead of throwing one oneself would be same ugly, but at least then it wouldn't depend on implementation details, as the termination of the TCP connection is well documented in that case.</p>\n"}],"owner":{"account_id":3326236,"reputation":11,"user_id":2796263,"display_name":"user2796263"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1355,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680171745,"creation_date":1379607302,"question_id":18899919,"body_markdown":"Is it possible to close http connection on the server side.\r\nI have java application with the sun java http server embedded.\r\nHowever after some research, I cannot see api to close socket connection on server side.\r\n\r\nThere is something similar in Apache Tomcat configuration, where you can close a connection on server side after X amount of requests.\r\n\r\nBut I have been unable to see something similar on the Sun java HttpServer.\r\n\r\nAny ideas if this functionality is available? Or is it assumed to be left to client(s) to close connection(s).\r\n\r\nThanks\r\n\r\n\r\nEDIT: adding the Tomcat info for reference:\r\nThe tomcat config is in relation to the maxKeepAliveRequests. \r\n\r\n**The maximum number of HTTP requests which can be pipelined until the connection is closed by the server. Setting this attribute to 1 will disable HTTP/1.0 keep-alive, as well as HTTP/1.1 keep-alive and pipelining. Setting this to -1 will allow an unlimited amount of pipelined or keep-alive HTTP requests. If not specified, this attribute is set to 100.**\r\n\r\n\r\nSample from a tomcat server.xml for Connector config: \r\n`&lt;Connector executor=&quot;tomcatThreadPool&quot; port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; connectionTimeout=&quot;20000&quot; redirectPort=&quot;8443&quot; acceptCount=&quot;2000&quot; maxKeepAliveRequests=&quot;500000&quot; allowTrace=&quot;true&quot;/&gt;`","title":"Java HttpServer - closing connections on server side","body":"<p>Is it possible to close http connection on the server side.\nI have java application with the sun java http server embedded.\nHowever after some research, I cannot see api to close socket connection on server side.</p>\n\n<p>There is something similar in Apache Tomcat configuration, where you can close a connection on server side after X amount of requests.</p>\n\n<p>But I have been unable to see something similar on the Sun java HttpServer.</p>\n\n<p>Any ideas if this functionality is available? Or is it assumed to be left to client(s) to close connection(s).</p>\n\n<p>Thanks</p>\n\n<p>EDIT: adding the Tomcat info for reference:\nThe tomcat config is in relation to the maxKeepAliveRequests. </p>\n\n<p><strong>The maximum number of HTTP requests which can be pipelined until the connection is closed by the server. Setting this attribute to 1 will disable HTTP/1.0 keep-alive, as well as HTTP/1.1 keep-alive and pipelining. Setting this to -1 will allow an unlimited amount of pipelined or keep-alive HTTP requests. If not specified, this attribute is set to 100.</strong></p>\n\n<p>Sample from a tomcat server.xml for Connector config: \n<code>&lt;Connector executor=\"tomcatThreadPool\" port=\"8080\" protocol=\"HTTP/1.1\" connectionTimeout=\"20000\" redirectPort=\"8443\" acceptCount=\"2000\" maxKeepAliveRequests=\"500000\" allowTrace=\"true\"/&gt;</code></p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1680022886,"post_id":75868950,"comment_id":133824718,"body_markdown":"&quot;but as for now the scanner no longer has any imput left and should change to change the  `String line` into null&quot; what makes you think so? Scanner doesn&#39;t return `null`. Ever. Anyway please note that Scanner is reading from `System.in` which is still opened (meaning it can at some point provide some data). Because of this `hasNext()` can&#39;t for sure say that &quot;since now there is no data I will return `false`&quot; because in this precise moment data can be *generated* (user may be in the middle of writing something). So until System.in is closed the `hasNext()` method will never return false.","body":"&quot;but as for now the scanner no longer has any imput left and should change to change the  <code>String line</code> into null&quot; what makes you think so? Scanner doesn&#39;t return <code>null</code>. Ever. Anyway please note that Scanner is reading from <code>System.in</code> which is still opened (meaning it can at some point provide some data). Because of this <code>hasNext()</code> can&#39;t for sure say that &quot;since now there is no data I will return <code>false</code>&quot; because in this precise moment data can be <i>generated</i> (user may be in the middle of writing something). So until System.in is closed the <code>hasNext()</code> method will never return false."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1680022948,"post_id":75868950,"comment_id":133824738,"body_markdown":"If you want to have clear indication that there is no more data to read, consider reading from File.","body":"If you want to have clear indication that there is no more data to read, consider reading from File."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1680022984,"post_id":75868950,"comment_id":133824754,"body_markdown":"Also don&#39;t mix `hasNext()` with `nextLine()`. Either use `hasNext` with `next()` or `hasNextLine()` with `nextLine()`.","body":"Also don&#39;t mix <code>hasNext()</code> with <code>nextLine()</code>. Either use <code>hasNext</code> with <code>next()</code> or <code>hasNextLine()</code> with <code>nextLine()</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1680023149,"post_id":75868950,"comment_id":133824797,"body_markdown":"BTW `sb.append(line + &quot; &quot;);` we use `StringBuilder` *precisely* to avoid string concatenation. Use `sb.append(line).append(&quot; &quot;);` instead.","body":"BTW <code>sb.append(line + &quot; &quot;);</code> we use <code>StringBuilder</code> <i>precisely</i> to avoid string concatenation. Use <code>sb.append(line).append(&quot; &quot;);</code> instead."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680025568,"creation_date":1680025568,"answer_id":75869463,"question_id":75868950,"body_markdown":"`System.in` is _usually_ an infinite resource. Specifically, it&#39;s &#39;whatever the user types in on the console&#39; (by default) and that __has no end__, hence `.hasNext()` _never_ returns `false`. Unless on some OSes they press CTRL+D to indicate end-of-input, which most apps aren&#39;t in the habit of requiring, and hence, most users don&#39;t know about.\r\n\r\nIt sounds like you think if the user stops typing in more stuff, that `.hasNext()` should return false. But that&#39;s not how it works. `hasNext()` doesn&#39;t return `false` because the user _could_ type more. The fact that they aren&#39;t currently doing that, so what, they might do that later.\r\n\r\nThere are ways (other than CTRL+D) to have a finite (i.e. eventually `.hasNext()` returns `false` if you&#39;ve consumed everything) `System.in`: Simply `java -cp . com.foo.MyApp &lt;somefile.txt` will do that. Are you doing that?\r\n\r\nGenerally if you&#39;re using `System.in` is a resource there is some token or sequence that indicates &#39;we are done now&#39;, and you look for that. For example, imagine a system where you type in some command. Instead of waiting for &#39;input to end&#39; (`.hasNext()` to return `false`), wait for the input token `QUIT` or `EXIT` or some such; the user can end your program by typing QUIT and hitting enter.\r\n\r\nThere is no way to ask java: Has the user stopped typing for a while?\r\n\r\nThere are ways to hack that but it&#39;s very very complicated - you&#39;d have to start a second thread that runs a timer which is reset every time the user enters something and which quits your application if the timer hits some number you decided means &#39;no further input is gonna happen from here on out&#39;. I&#39;m not sure it&#39;s worth explaining how to do this; it&#39;s a real killing a mosquito with a bazooka situation.\r\n","title":"Scanner.hasNext() stays to wait for input when it should not","body":"<p><code>System.in</code> is <em>usually</em> an infinite resource. Specifically, it's 'whatever the user types in on the console' (by default) and that <strong>has no end</strong>, hence <code>.hasNext()</code> <em>never</em> returns <code>false</code>. Unless on some OSes they press CTRL+D to indicate end-of-input, which most apps aren't in the habit of requiring, and hence, most users don't know about.</p>\n<p>It sounds like you think if the user stops typing in more stuff, that <code>.hasNext()</code> should return false. But that's not how it works. <code>hasNext()</code> doesn't return <code>false</code> because the user <em>could</em> type more. The fact that they aren't currently doing that, so what, they might do that later.</p>\n<p>There are ways (other than CTRL+D) to have a finite (i.e. eventually <code>.hasNext()</code> returns <code>false</code> if you've consumed everything) <code>System.in</code>: Simply <code>java -cp . com.foo.MyApp &lt;somefile.txt</code> will do that. Are you doing that?</p>\n<p>Generally if you're using <code>System.in</code> is a resource there is some token or sequence that indicates 'we are done now', and you look for that. For example, imagine a system where you type in some command. Instead of waiting for 'input to end' (<code>.hasNext()</code> to return <code>false</code>), wait for the input token <code>QUIT</code> or <code>EXIT</code> or some such; the user can end your program by typing QUIT and hitting enter.</p>\n<p>There is no way to ask java: Has the user stopped typing for a while?</p>\n<p>There are ways to hack that but it's very very complicated - you'd have to start a second thread that runs a timer which is reset every time the user enters something and which quits your application if the timer hits some number you decided means 'no further input is gonna happen from here on out'. I'm not sure it's worth explaining how to do this; it's a real killing a mosquito with a bazooka situation.</p>\n"}],"owner":{"account_id":28149816,"reputation":1,"user_id":21511572,"display_name":"Jen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680171183,"creation_date":1680022160,"question_id":75868950,"body_markdown":"As title states, I&#39;m trying to check if the Scanner has any input left after the 1st run, but it does not stop if there&#39;s nothing left to do but instead stays to wait for more input. What am I doing wrong with the structure?\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        \r\n        @SuppressWarnings(&quot;resource&quot;)\r\n        Scanner reader = new Scanner(System.in);\r\n        String line = &quot;&quot;;\r\n        int loop = 0;\r\n        \r\n        while(true) {\r\n            StringBuilder sb = new StringBuilder();\r\n            if (loop == 0) sb.append(reader.nextLine() + &quot; &quot;);\r\n            else {\r\n                sb.append(line + &quot; &quot;);\r\n                reset();\r\n            }\r\n            while (true) {\r\n                line = lukija.nextLine() + &quot; &quot;;\r\n                if (line.equals(&quot;0 &quot;)) {\r\n                    sb.append(&quot; 0 &quot;);\r\n                    break;\r\n                }\r\n                sb.append(line);\r\n            }\r\n\r\n            //\r\n              Rest of the code that calls the different procedures, not needed on this issue as it    \r\n              doesnt use the scanner \r\n            //\r\n\r\n            if (reader.hasNext()) line = reader.nextLine();\r\n            else line = null;\r\n            if (line == null || line.equals(&quot;0 &quot;)) break;\r\n            loop++;\r\n        }\r\n    }\r\n```\r\n\r\n\r\nThe code should return false in \r\n```\r\nreader.hasNext() \r\n```\r\nfor input like\r\n```\r\n1 500\r\n-1 deadPerson 0 0\r\n2 kidA 0 1\r\n3 kidB 1 0\r\n0\r\n0\r\n```\r\nit should run the code only once as the lonely 0 works as the split. Originally I was able to get past this issue in the code earlier with \r\n```\r\nif (line.equals(&quot;0 &quot;)) {\r\n   sb.append(&quot; 0 &quot;);\r\n   break;\r\n```\r\nbut as for now the scanner no longer has any imput left and should change to change the \r\n```\r\nString line \r\n```\r\ninto null, but instead it stays to wait for more input. \r\n\r\nI&#39;ve tried using try - catch structure, reader.hasNextLine(), reader.next(), without if -structure and checking for null value \r\n\r\nI&#39;ve really starting to run out of ideas as how to solve this, since if I can&#39;t use any of the scanner&#39;s structures to check if it still has things left in it to determine if it&#39;s worth it to run the programm again, then how?\r\n\r\nEDIT: Thanks for the help, turns out I was focusing on wrong problem and got it to work as wanted with &quot;small&quot; canges to the loop where the scanner were added into StringBuilder. Did it with adding new boolean variable ```endLoop = false``` and after finding first 0 reading next word. If it resulted into &quot;0&quot;, endloop would be changed into true and loop would be broken in the end of code.\r\n\r\n```\r\n    else while (true) {\r\n        line = reader.nextLine() + &quot; &quot;;\r\n        if (line.equals(&quot;0 &quot;)) {\r\n            line = reader.next();\r\n            if (line.equals(&quot;0&quot;)) endLoop = true;\r\n            sb.append(&quot; 0 &quot;);\r\n            break;\r\n        }\r\n        sb.append(line);\r\n    }\r\n```\r\n    //\r\n    rest of the code\r\n    //\r\n```\r\n    if (endLoop) break;\r\n    loop++;\r\n```\r\n\r\nYes the solution may not be the most effective, but i&#39;m still learning the proper way of coding. Kept the String line against some of the suggestions, but for me it&#39;s easier to understand what happends and what gets added to StringBuilder in each loop when debugging.","title":"Scanner.hasNext() stays to wait for input when it should not","body":"<p>As title states, I'm trying to check if the Scanner has any input left after the 1st run, but it does not stop if there's nothing left to do but instead stays to wait for more input. What am I doing wrong with the structure?</p>\n<pre><code>    public static void main(String[] args) {\n        \n        @SuppressWarnings(&quot;resource&quot;)\n        Scanner reader = new Scanner(System.in);\n        String line = &quot;&quot;;\n        int loop = 0;\n        \n        while(true) {\n            StringBuilder sb = new StringBuilder();\n            if (loop == 0) sb.append(reader.nextLine() + &quot; &quot;);\n            else {\n                sb.append(line + &quot; &quot;);\n                reset();\n            }\n            while (true) {\n                line = lukija.nextLine() + &quot; &quot;;\n                if (line.equals(&quot;0 &quot;)) {\n                    sb.append(&quot; 0 &quot;);\n                    break;\n                }\n                sb.append(line);\n            }\n\n            //\n              Rest of the code that calls the different procedures, not needed on this issue as it    \n              doesnt use the scanner \n            //\n\n            if (reader.hasNext()) line = reader.nextLine();\n            else line = null;\n            if (line == null || line.equals(&quot;0 &quot;)) break;\n            loop++;\n        }\n    }\n</code></pre>\n<p>The code should return false in</p>\n<pre><code>reader.hasNext() \n</code></pre>\n<p>for input like</p>\n<pre><code>1 500\n-1 deadPerson 0 0\n2 kidA 0 1\n3 kidB 1 0\n0\n0\n</code></pre>\n<p>it should run the code only once as the lonely 0 works as the split. Originally I was able to get past this issue in the code earlier with</p>\n<pre><code>if (line.equals(&quot;0 &quot;)) {\n   sb.append(&quot; 0 &quot;);\n   break;\n</code></pre>\n<p>but as for now the scanner no longer has any imput left and should change to change the</p>\n<pre><code>String line \n</code></pre>\n<p>into null, but instead it stays to wait for more input.</p>\n<p>I've tried using try - catch structure, reader.hasNextLine(), reader.next(), without if -structure and checking for null value</p>\n<p>I've really starting to run out of ideas as how to solve this, since if I can't use any of the scanner's structures to check if it still has things left in it to determine if it's worth it to run the programm again, then how?</p>\n<p>EDIT: Thanks for the help, turns out I was focusing on wrong problem and got it to work as wanted with &quot;small&quot; canges to the loop where the scanner were added into StringBuilder. Did it with adding new boolean variable <code>endLoop = false</code> and after finding first 0 reading next word. If it resulted into &quot;0&quot;, endloop would be changed into true and loop would be broken in the end of code.</p>\n<pre><code>    else while (true) {\n        line = reader.nextLine() + &quot; &quot;;\n        if (line.equals(&quot;0 &quot;)) {\n            line = reader.next();\n            if (line.equals(&quot;0&quot;)) endLoop = true;\n            sb.append(&quot; 0 &quot;);\n            break;\n        }\n        sb.append(line);\n    }\n</code></pre>\n<pre><code>//\nrest of the code\n//\n</code></pre>\n<pre><code>    if (endLoop) break;\n    loop++;\n</code></pre>\n<p>Yes the solution may not be the most effective, but i'm still learning the proper way of coding. Kept the String line against some of the suggestions, but for me it's easier to understand what happends and what gets added to StringBuilder in each loop when debugging.</p>\n"},{"tags":["java","regex","scala","split"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":1,"creation_date":1679593563,"post_id":75825822,"comment_id":133753572,"body_markdown":"What did you try so far? What didn&#39;t work?","body":"What did you try so far? What didn&#39;t work?"},{"owner":{"account_id":268704,"reputation":2391,"user_id":15577665,"display_name":"sln"},"score":0,"creation_date":1679601291,"post_id":75825822,"comment_id":133755337,"body_markdown":"Not a good idea to use split for this.","body":"Not a good idea to use split for this."},{"owner":{"account_id":268704,"reputation":2391,"user_id":15577665,"display_name":"sln"},"score":0,"creation_date":1679604054,"post_id":75825822,"comment_id":133755972,"body_markdown":"This should work, where group 1 contains contents of the quoted field, or group 2 contains the contents of a non-quoted field. `&quot;(?m)(?:(?:^|\\s*,)\\s*)(?:\\&quot;([^\\&quot;\\\\]*(?:(?:\\\\[\\S\\s]|\\&quot;\\&quot;)[^\\&quot;\\\\]*?)*)\\&quot;|([^,\\r\\n]*?))(?:\\s*(?=$|,))&quot;`\n\nhttps://regex101.com/r/lsZbo7/1 And fwiw, once inside a quoted field, the delimiter `,` or anything other than an escaped quote is just a character, not a delimiter.","body":"This should work, where group 1 contains contents of the quoted field, or group 2 contains the contents of a non-quoted field. <code>&quot;(?m)(?:(?:^|\\s*,)\\s*)(?:\\&quot;([^\\&quot;\\\\]*(?:(?:\\\\[\\S\\s]|\\&quot;\\&quot;)[^\\&quot;&zwnj;&#8203;\\\\]*?)*)\\&quot;|([^,\\r\\n]&zwnj;&#8203;*?))(?:\\s*(?=$|,))&quot;</code>  <a href=\"https://regex101.com/r/lsZbo7/1\" rel=\"nofollow noreferrer\">regex101.com/r/lsZbo7/1</a> And fwiw, once inside a quoted field, the delimiter <code>,</code> or anything other than an escaped quote is just a character, not a delimiter."}],"answers":[{"tags":[],"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679605233,"creation_date":1679605233,"answer_id":75827934,"question_id":75825822,"body_markdown":"Use `((?&lt;!,),(?!(,{2})*+,))`. It matches any `,`, that does not immediately follow a comma, and is not immediately followed by a comma (or an odd number of commas).\r\n\r\n```java\r\nfor(String a : &quot;value1,,6,value2,value3,,,val4,,,,val5&quot;.split(&quot;((?&lt;!,),(?!(,{2})*+,))&quot;)) {\r\n    System.out.println(a.replaceAll(&quot;,,&quot;, &quot;,&quot;));\r\n}\r\n```\r\nOutpup:\r\n```\r\nvalue1,6\r\nvalue2\r\nvalue3\r\n,val4,,val5\r\n,,val6\r\n```\r\nAlso, split string still contains &quot;escaped&quot; commas, hence `.replaceAll(&quot;,,&quot;, &quot;,&quot;)`.\r\n","title":"Regex split on comma except on escaping with double comma (Java, Scala)","body":"<p>Use <code>((?&lt;!,),(?!(,{2})*+,))</code>. It matches any <code>,</code>, that does not immediately follow a comma, and is not immediately followed by a comma (or an odd number of commas).</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(String a : &quot;value1,,6,value2,value3,,,val4,,,,val5&quot;.split(&quot;((?&lt;!,),(?!(,{2})*+,))&quot;)) {\n    System.out.println(a.replaceAll(&quot;,,&quot;, &quot;,&quot;));\n}\n</code></pre>\n<p>Outpup:</p>\n<pre><code>value1,6\nvalue2\nvalue3\n,val4,,val5\n,,val6\n</code></pre>\n<p>Also, split string still contains &quot;escaped&quot; commas, hence <code>.replaceAll(&quot;,,&quot;, &quot;,&quot;)</code>.</p>\n"}],"owner":{"account_id":7401019,"reputation":39,"user_id":6403708,"display_name":"rjn1"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1680170567,"creation_date":1679590069,"question_id":75825822,"body_markdown":"Could anyone help me with a regular expression in java/scala to split a string on commas but not when escaped by a comma.\r\n\r\nFor example: \r\n\r\n ```&quot;value1,value2,value3&quot; -&gt; [&quot;value1&quot;,&quot;value2&quot;,&quot;value3&quot;]```\r\n\r\n ```&quot;value1,,6,value2,value3&quot; -&gt; [&quot;value1,,6&quot;,&quot;value2&quot;,&quot;value3&quot;]```\r\n\r\nHere comma is used both as a delimiter and to escape the delimiter.\r\n\r\nThanks a lot!","title":"Regex split on comma except on escaping with double comma (Java, Scala)","body":"<p>Could anyone help me with a regular expression in java/scala to split a string on commas but not when escaped by a comma.</p>\n<p>For example:</p>\n<p><code>&quot;value1,value2,value3&quot; -&gt; [&quot;value1&quot;,&quot;value2&quot;,&quot;value3&quot;]</code></p>\n<p><code>&quot;value1,,6,value2,value3&quot; -&gt; [&quot;value1,,6&quot;,&quot;value2&quot;,&quot;value3&quot;]</code></p>\n<p>Here comma is used both as a delimiter and to escape the delimiter.</p>\n<p>Thanks a lot!</p>\n"},{"tags":["java","database","hibernate","orm"],"comments":[{"owner":{"account_id":1471892,"reputation":9718,"user_id":1383240,"accept_rate":38,"display_name":"NiVeR"},"score":1,"creation_date":1541448754,"post_id":53134079,"comment_id":93213414,"body_markdown":"What is the hibernate version?","body":"What is the hibernate version?"},{"owner":{"account_id":2004139,"reputation":10783,"user_id":1794485,"display_name":"df778899"},"score":0,"creation_date":1541455531,"post_id":53134079,"comment_id":93216282,"body_markdown":"Does the `OHLCV` definitely have a populated `OHLCVKey` at the point where it is being saved?  Note how `saveWithGeneratedOrRequestedId()` is calling `saveWithGeneratedId()` in the stack trace, which suggests it couldn&#39;t find a key value.","body":"Does the <code>OHLCV</code> definitely have a populated <code>OHLCVKey</code> at the point where it is being saved?  Note how <code>saveWithGeneratedOrRequestedId()</code> is calling <code>saveWithGeneratedId()</code> in the stack trace, which suggests it couldn&#39;t find a key value."},{"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"score":0,"creation_date":1541584591,"post_id":53134079,"comment_id":93263511,"body_markdown":"Add the code that constructs the instance to be saved.","body":"Add the code that constructs the instance to be saved."},{"owner":{"account_id":4250800,"reputation":796,"user_id":3477946,"accept_rate":92,"display_name":"team17"},"score":0,"creation_date":1541939136,"post_id":53134079,"comment_id":93382332,"body_markdown":"@AlanHay see EDIT1","body":"@AlanHay see EDIT1"},{"owner":{"account_id":4250800,"reputation":796,"user_id":3477946,"accept_rate":92,"display_name":"team17"},"score":0,"creation_date":1541939158,"post_id":53134079,"comment_id":93382340,"body_markdown":"@df778899 yes see also EDIT1","body":"@df778899 yes see also EDIT1"},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1541951600,"post_id":53134079,"comment_id":93385751,"body_markdown":"Works fine for me. You probably have the key in a different package or something.","body":"Works fine for me. You probably have the key in a different package or something."},{"owner":{"account_id":19114,"reputation":26335,"user_id":44522,"accept_rate":93,"display_name":"MicSim"},"score":1,"creation_date":1545151908,"post_id":53134079,"comment_id":94523383,"body_markdown":"Your `hashCode()` implementation of the PK is probably flawed. You always return `super.hashCode()` instead of `result`. This might be a source for your problem.","body":"Your <code>hashCode()</code> implementation of the PK is probably flawed. You always return <code>super.hashCode()</code> instead of <code>result</code>. This might be a source for your problem."},{"owner":{"account_id":4250800,"reputation":796,"user_id":3477946,"accept_rate":92,"display_name":"team17"},"score":0,"creation_date":1545152525,"post_id":53134079,"comment_id":94523763,"body_markdown":"@MicSim it also does not work if I return &#180;result&#180;","body":"@MicSim it also does not work if I return &#180;result&#180;"},{"owner":{"account_id":19114,"reputation":26335,"user_id":44522,"accept_rate":93,"display_name":"MicSim"},"score":0,"creation_date":1545153008,"post_id":53134079,"comment_id":94524020,"body_markdown":"You should also check the use of the `Date` class. Make sure you don&#39;t mix `java.util.Date` with `java.sql.Date`, where it should not be.","body":"You should also check the use of the <code>Date</code> class. Make sure you don&#39;t mix <code>java.util.Date</code> with <code>java.sql.Date</code>, where it should not be."},{"owner":{"account_id":4250800,"reputation":796,"user_id":3477946,"accept_rate":92,"display_name":"team17"},"score":0,"creation_date":1545153729,"post_id":53134079,"comment_id":94524393,"body_markdown":"@MicSim I used full path qualifier for java.sql.Date and I think it would not compile if I had mixed it","body":"@MicSim I used full path qualifier for java.sql.Date and I think it would not compile if I had mixed it"}],"answers":[{"tags":[],"owner":{"account_id":1024961,"reputation":158,"user_id":1034482,"display_name":"sri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541451055,"creation_date":1541451055,"answer_id":53162014,"question_id":53134079,"body_markdown":"It&#39;s been a while since I touched hibernate , but from the error it sounds like it is unable to access \r\n`[protected OHLCVKey OHLCV.key]` this field. To narrow it down, I&#39;d suggest two things. First, see if you can remove the casting in this line `        OHLCVKey key = (OHLCVKey) session.save(ohlcv); // line 55` and make it `session.save(ohlcv)`, just to rule out if it is the casting that is causing it or the save itself. Second, although it doesn&#39;t make much sense, try if you can change the access modifier here to private. \r\n\r\n     @EmbeddedId\r\n        protected OHLCVKey key;\r\nIf any of these two don&#39;t help, try using HQL and see.  ","title":"Hibernate: just save an entity with @EmbeddedId as primary key","body":"<p>It's been a while since I touched hibernate , but from the error it sounds like it is unable to access \n<code>[protected OHLCVKey OHLCV.key]</code> this field. To narrow it down, I'd suggest two things. First, see if you can remove the casting in this line <code>OHLCVKey key = (OHLCVKey) session.save(ohlcv); // line 55</code> and make it <code>session.save(ohlcv)</code>, just to rule out if it is the casting that is causing it or the save itself. Second, although it doesn't make much sense, try if you can change the access modifier here to private. </p>\n\n<pre><code> @EmbeddedId\n    protected OHLCVKey key;\n</code></pre>\n\n<p>If any of these two don't help, try using HQL and see.  </p>\n"},{"comments":[{"owner":{"account_id":4250800,"reputation":796,"user_id":3477946,"accept_rate":92,"display_name":"team17"},"score":1,"creation_date":1544987486,"post_id":53269365,"comment_id":94459659,"body_markdown":"I used 5.3.7, also updating to 5.4 does not work for me","body":"I used 5.3.7, also updating to 5.4 does not work for me"}],"tags":[],"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542053319,"creation_date":1542053319,"answer_id":53269365,"question_id":53134079,"body_markdown":"I think you are hitting a bug with composite keys mapped as EmbededID in hibernate 5.0 and 5.1 It is supposed to be fixed in 5.1.1\r\nhttps://hibernate.atlassian.net/browse/HHH-10618\r\n\r\nTry changing the hibernate version. Also I can see  in one of the comments that @K.Nicholas is saying that the same code works for him. This is why I am even more inclined to think you are hitting this bug.","title":"Hibernate: just save an entity with @EmbeddedId as primary key","body":"<p>I think you are hitting a bug with composite keys mapped as EmbededID in hibernate 5.0 and 5.1 It is supposed to be fixed in 5.1.1\n<a href=\"https://hibernate.atlassian.net/browse/HHH-10618\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-10618</a></p>\n\n<p>Try changing the hibernate version. Also I can see  in one of the comments that @K.Nicholas is saying that the same code works for him. This is why I am even more inclined to think you are hitting this bug.</p>\n"},{"comments":[{"owner":{"account_id":4250800,"reputation":796,"user_id":3477946,"accept_rate":92,"display_name":"team17"},"score":0,"creation_date":1544987948,"post_id":53269660,"comment_id":94459790,"body_markdown":"There is just one OHLCV class in my classpath, I have also renamed my class.. There are only spring-boot dependencies.","body":"There is just one OHLCV class in my classpath, I have also renamed my class.. There are only spring-boot dependencies."}],"tags":[],"owner":{"account_id":6778658,"reputation":1374,"user_id":5219732,"display_name":"Aleksandr Semyannikov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542054714,"creation_date":1542054714,"answer_id":53269660,"question_id":53134079,"body_markdown":"    Caused by: java.lang.IllegalArgumentException: Can not set OHLCVKey field OHLCV\r\n        at sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167)\r\n        at sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:171)\r\n        at sun.reflect.UnsafeFieldAccessorImpl.ensureObj(UnsafeFieldAccessorImpl.java:58)\r\n        at sun.reflect.UnsafeObjectFieldAccessorImpl.get(UnsafeObjectFieldAccessorImpl.java:36)\r\n        at java.lang.reflect.Field.get(Field.java:393)\r\n        at org.hibernate.property.access.spi.GetterFieldImpl.get(GetterFieldImpl.java:71)\r\n\r\nThat peace of stacktrace means that Hibernate is trying to set a field value to some object, but their classes are incompatible:\r\n\r\n    protected void ensureObj(Object object) {\r\n        if (!this.field.getDeclaringClass().isAssignableFrom(object.getClass())) {\r\n            this.throwSetIllegalArgumentException(object);\r\n        }\r\n    }\r\n\r\nIt means that Hibernate has loaded metadata from different class rather than from a class of an object you are trying to save. Please, check if there are only one class OHLCV in the classpath of your application, because example you provided works well.","title":"Hibernate: just save an entity with @EmbeddedId as primary key","body":"<pre><code>Caused by: java.lang.IllegalArgumentException: Can not set OHLCVKey field OHLCV\n    at sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167)\n    at sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:171)\n    at sun.reflect.UnsafeFieldAccessorImpl.ensureObj(UnsafeFieldAccessorImpl.java:58)\n    at sun.reflect.UnsafeObjectFieldAccessorImpl.get(UnsafeObjectFieldAccessorImpl.java:36)\n    at java.lang.reflect.Field.get(Field.java:393)\n    at org.hibernate.property.access.spi.GetterFieldImpl.get(GetterFieldImpl.java:71)\n</code></pre>\n\n<p>That peace of stacktrace means that Hibernate is trying to set a field value to some object, but their classes are incompatible:</p>\n\n<pre><code>protected void ensureObj(Object object) {\n    if (!this.field.getDeclaringClass().isAssignableFrom(object.getClass())) {\n        this.throwSetIllegalArgumentException(object);\n    }\n}\n</code></pre>\n\n<p>It means that Hibernate has loaded metadata from different class rather than from a class of an object you are trying to save. Please, check if there are only one class OHLCV in the classpath of your application, because example you provided works well.</p>\n"},{"tags":[],"owner":{"account_id":4250800,"reputation":796,"user_id":3477946,"accept_rate":92,"display_name":"team17"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1545165971,"creation_date":1545165971,"answer_id":53840799,"question_id":53134079,"body_markdown":"Downgrading to version \r\n\r\n&gt; 4.3.11.Final\r\n\r\n worked...","title":"Hibernate: just save an entity with @EmbeddedId as primary key","body":"<p>Downgrading to version </p>\n\n<blockquote>\n  <p>4.3.11.Final</p>\n</blockquote>\n\n<p>worked...</p>\n"},{"tags":[],"owner":{"account_id":14365136,"reputation":890,"user_id":10376405,"display_name":"Paul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680170525,"creation_date":1679067187,"answer_id":75769464,"question_id":53134079,"body_markdown":"instead of downgrading, I rebuild my Entity to use ```@IdClass```\r\n\r\nContinuing on the given example, you can remove the @Embeddable and @EmbeddedId annotations. Then you should add on class level for your ```OHLCV``` the following annotation: \r\n\r\n```\r\njavax.persistence.@IdClass(OHLCVKey.class)\r\n```\r\ncopy the variables from the ```OHLCVKey``` class to your ```OHLCV``` class and add the following annotation **to each of them!** \r\n\r\n```@Id``` \r\n\r\nThen remove the column-annotations from the key-class.\r\nDon&#39;t forget that each class needs an Equal&#39;s and hashCode implementation!\r\n\r\nA small custom example: \r\n```\r\n@Entity\r\n@Table(name = &quot;MY_TABLE&quot;)\r\n@IdClass(ExampleCompositeKey.class)\r\npublic class Example {\r\n    \r\n    @Id\r\n    @Column(name = &quot;COLUMN_ONE&quot;)\r\n    private String something;\r\n    \r\n    @Id\r\n    @Column(name = &quot;COLUMN_TWO&quot;)\r\n    private String somethingElse;\r\n    \r\n    @Column(name = &quot;COLUMN_THREE&quot;)\r\n    private String regularColumn;\r\n    \r\n    // GETTER&#39;s and SETTER&#39;s here...\r\n    \r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (!(o instanceof Example)) return false;\r\n        Example example = (Example) o;\r\n        return Objects.equals(something, example.something)\r\n                &amp;&amp; Objects.equals(somethingElse, example.somethingElse)\r\n                &amp;&amp; Objects.equals(regularColumn, example.regularColumn);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(something, somethingElse, regularColumn);\r\n    }\r\n}\r\n```\r\n```\r\npublic class ExampleCompositeKey implements Serializable {\r\n\r\n    private String something;\r\n    private String somethingElse;\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (!(o instanceof ExampleCompositeKey)) return false;\r\n        ExampleCompositeKey that = (ExampleCompositeKey) o;\r\n        return Objects.equals(something, that.something)\r\n                &amp;&amp; Objects.equals(somethingElse, that.somethingElse);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(something, somethingElse);\r\n    }\r\n}\r\n```\r\n\r\n","title":"Hibernate: just save an entity with @EmbeddedId as primary key","body":"<p>instead of downgrading, I rebuild my Entity to use <code>@IdClass</code></p>\n<p>Continuing on the given example, you can remove the @Embeddable and @EmbeddedId annotations. Then you should add on class level for your <code>OHLCV</code> the following annotation:</p>\n<pre><code>javax.persistence.@IdClass(OHLCVKey.class)\n</code></pre>\n<p>copy the variables from the <code>OHLCVKey</code> class to your <code>OHLCV</code> class and add the following annotation <strong>to each of them!</strong></p>\n<p><code>@Id</code></p>\n<p>Then remove the column-annotations from the key-class.\nDon't forget that each class needs an Equal's and hashCode implementation!</p>\n<p>A small custom example:</p>\n<pre><code>@Entity\n@Table(name = &quot;MY_TABLE&quot;)\n@IdClass(ExampleCompositeKey.class)\npublic class Example {\n    \n    @Id\n    @Column(name = &quot;COLUMN_ONE&quot;)\n    private String something;\n    \n    @Id\n    @Column(name = &quot;COLUMN_TWO&quot;)\n    private String somethingElse;\n    \n    @Column(name = &quot;COLUMN_THREE&quot;)\n    private String regularColumn;\n    \n    // GETTER's and SETTER's here...\n    \n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof Example)) return false;\n        Example example = (Example) o;\n        return Objects.equals(something, example.something)\n                &amp;&amp; Objects.equals(somethingElse, example.somethingElse)\n                &amp;&amp; Objects.equals(regularColumn, example.regularColumn);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(something, somethingElse, regularColumn);\n    }\n}\n</code></pre>\n<pre><code>public class ExampleCompositeKey implements Serializable {\n\n    private String something;\n    private String somethingElse;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof ExampleCompositeKey)) return false;\n        ExampleCompositeKey that = (ExampleCompositeKey) o;\n        return Objects.equals(something, that.something)\n                &amp;&amp; Objects.equals(somethingElse, that.somethingElse);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(something, somethingElse);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4250800,"reputation":796,"user_id":3477946,"accept_rate":92,"display_name":"team17"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3323,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":53840799,"answer_count":5,"score":12,"last_activity_date":1680170525,"creation_date":1541268132,"question_id":53134079,"body_markdown":"I wanted to learn hibernate basics and do not understand why my application does not work, when adding an entry to my table using the `@EmbeddedId` annontations for composited primary keys:\r\n\r\n\r\n\r\nClass representing the PK:\r\n\r\n    @Embeddable\r\n    public class OHLCVKey implements Serializable{\r\n    \t\r\n    \tprivate static final long serialVersionUID = -3996067621138883817L;\r\n    \t\r\n    \t@Column(name=&quot;Symbol&quot;)\r\n    \tprotected String symbol;\r\n    \t\r\n    \t@Column(name=&quot;Currency&quot;)\r\n    \tprotected String currency;\r\n    \t\r\n    \t@Column(name=&quot;Datum&quot;)\r\n    \tprotected java.sql.Date datum;\r\n    \t\r\n    \tpublic OHLCVKey() {}\r\n    \r\n    \tpublic OHLCVKey(String symbol, String currency, Date datum) {\r\n    \t\tsuper();\r\n    \t\tthis.symbol = symbol;\r\n    \t\tthis.currency = currency;\r\n    \t\tthis.datum = datum;\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic String getSymbol() {\r\n    \t\treturn symbol;\r\n    \t}\r\n    \t\r\n    \tpublic void setSymbol(String symbol) {\r\n    \t\tthis.symbol = symbol;\r\n    \t}\r\n    \t\r\n    \tpublic String getCurrency() {\r\n    \t\treturn currency;\r\n    \t}\r\n    \t\r\n    \tpublic void setCurrency(String currency) {\r\n    \t\tthis.currency = currency;\r\n    \t}\r\n    \t\r\n    \tpublic java.sql.Date getDatum() {\r\n    \t\treturn datum;\r\n    \t}\r\n    \t\r\n    \tpublic void setDatum(java.sql.Date endTime) {\r\n    \t\tthis.datum = endTime;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn String.format(&quot;OHLCKey: {%s %s %s}&quot;, symbol, currency, datum);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\tfinal int prime = 31;\r\n    \t\tint result = 1;\r\n    \t\tresult = prime * result + (symbol == null ? 0 : symbol.hashCode());\r\n    \t\tresult = prime * result + (currency == null ? 0 : currency.hashCode());\r\n    \t\tresult = prime * result + (datum == null ? 0 : datum.hashCode());\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif(obj != null || !(obj instanceof OHLCVKey)) {\r\n    \t\t\tOHLCVKey other = (OHLCVKey) obj;\r\n    \t\t\tboolean sameSymbol = this.symbol.equals(other.symbol);\r\n    \t\t\tboolean sameCurrency = this.currency.equals(other.currency);\r\n    \t\t\tboolean endTime = this.datum.equals(other.datum);\r\n    \t\t\treturn sameSymbol &amp;&amp; sameCurrency &amp;&amp; endTime;\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    }\r\n\r\nPersistent class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;ohlcv_data&quot;)\r\n    public class OHLCV implements Serializable {\r\n    \r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = -742762046516249869L;\r\n    \t\r\n    \t@EmbeddedId\r\n    \tprotected OHLCVKey key;\r\n    \r\n    \t@Column(name = &quot;Exchange&quot;)\r\n    \tprivate String exchange;\r\n    \r\n    \t@Column(name = &quot;Open&quot;)\r\n    \tprivate double open;\r\n    \r\n    \t@Column(name = &quot;High&quot;)\r\n    \tprivate double high;\r\n    \r\n    \t@Column(name = &quot;Low&quot;)\r\n    \tprivate double low;\r\n    \r\n    \t@Column(name = &quot;Close&quot;)\r\n    \tprivate double close;\r\n    \r\n    \t@Column(name = &quot;Volume&quot;)\r\n    \tprivate long volume;\r\n    \r\n    \tpublic OHLCV() {};\r\n    \r\n    \tpublic OHLCV(OHLCVKey key) {\r\n    \t\tsuper();\r\n    \t\tthis.key = key;\r\n    \t}\r\n    \t\r\n    \tpublic OHLCV(OHLCVKey key, String exchange, double open, double high, double low, double close, long volume) {\r\n    \t\tsuper();\r\n    \t\tthis.key = key;\r\n    \t\tthis.exchange = exchange;\r\n    \t\tthis.open = open;\r\n    \t\tthis.high = high;\r\n    \t\tthis.low = low;\r\n    \t\tthis.close = close;\r\n    \t\tthis.volume = volume;\r\n    \t}\r\n    \r\n    \tpublic OHLCVKey getKey() {\r\n    \t\treturn key;\r\n    \t}\r\n    \r\n    \tpublic void setKey(OHLCVKey key) {\r\n    \t\tthis.key = key;\r\n    \t}\r\n    \r\n    \tpublic String getExchange() {\r\n    \t\treturn exchange;\r\n    \t}\r\n    \r\n    \tpublic void setExchange(String exchange) {\r\n    \t\tthis.exchange = exchange;\r\n    \t}\r\n    \r\n    \tpublic double getOpen() {\r\n    \t\treturn open;\r\n    \t}\r\n    \r\n    \tpublic void setOpen(double open) {\r\n    \t\tthis.open = open;\r\n    \t}\r\n    \r\n    \tpublic double getHigh() {\r\n    \t\treturn high;\r\n    \t}\r\n    \r\n    \tpublic void setHigh(double high) {\r\n    \t\tthis.high = high;\r\n    \t}\r\n    \r\n    \tpublic double getLow() {\r\n    \t\treturn low;\r\n    \t}\r\n    \r\n    \tpublic void setLow(double low) {\r\n    \t\tthis.low = low;\r\n    \t}\r\n    \r\n    \tpublic double getClose() {\r\n    \t\treturn close;\r\n    \t}\r\n    \r\n    \tpublic void setClose(double close) {\r\n    \t\tthis.close = close;\r\n    \t}\r\n    \r\n    \tpublic long getVolume() {\r\n    \t\treturn volume;\r\n    \t}\r\n    \r\n    \tpublic void setVolume(long volume) {\r\n    \t\tthis.volume = volume;\r\n    \t}\r\n    }\r\n\r\nI assumed that after creating an OHLC instance I could add it&#39;s data to my database table with the following function (in a class called `OHLCVDataManager`):\r\n\r\n    public void addOHLCV(OHLCV ohlcv) { // line 50\r\n    \tSession session = factory.openSession();\r\n    \tTransaction tx = null;\r\n    \ttry {\r\n    \t\ttx = session.beginTransaction();\r\n    \t\tsession.save(ohlcv); // line 55\r\n    \t\ttx.commit();\r\n    \t\tlog.info(&quot;Added {} to database!&quot;, key.toString());\r\n    \t} catch(Exception e) {\r\n    \t\tif(tx != null) {\r\n    \t\t\ttx.rollback();\r\n    \t\t}\r\n    \t\te.printStackTrace();\r\n    \t} finally {\r\n    \t\tsession.close();\r\n    \t\tSystem.exit(2); //TODO remove, exit Spring application\r\n    \t}\r\n    }\r\n\r\n\r\nBut I got the following PropertyAccessException/IllegalArgumentException with stack traces:\r\n\r\n    org.hibernate.property.access.spi.PropertyAccessException: Error accessing field [protected OHLCVKey OHLCV.key] by reflection for persistent property [OHLCV#key] : OHLCV@46479254\r\n    2018-11-03 18:43:57.567  INFO 18384 --- [       Thread-9] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7582b66f: startup date [Sat Nov 03 18:43:53 CET 2018]; root of context hierarchy\r\n    \tat org.hibernate.property.access.spi.GetterFieldImpl.get(GetterFieldImpl.java:75)\r\n    \tat org.hibernate.tuple.entity.AbstractEntityTuplizer.getIdentifier(AbstractEntityTuplizer.java:224)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.getIdentifier(AbstractEntityPersister.java:4931)\r\n    \tat org.hibernate.mapping.Component$StandardGenerationContextLocator.locateGenerationContext(Component.java:480)\r\n    \tat org.hibernate.id.CompositeNestedGeneratedValueGenerator.generate(CompositeNestedGeneratedValueGenerator.java:93)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)\r\n    \tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:192)\r\n    \tat org.hibernate.event.internal.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:38)\r\n    \tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:177)\r\n    \tat org.hibernate.event.internal.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:32)\r\n    \tat org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:73)\r\n    \tat org.hibernate.internal.SessionImpl.fireSave(SessionImpl.java:709)\r\n    \tat org.hibernate.internal.SessionImpl.save(SessionImpl.java:701)\r\n    \tat org.hibernate.internal.SessionImpl.save(SessionImpl.java:696)\r\n    \tat OHLCVDataManager.addOHLCV(OHLCVDataManager.java:55)\r\n    \tat OHLCVDataManager.addOHLCV(OHLCVDataManager.java:70)\r\n    \tat ServerApplication.main(ServerApplication.java:16)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\n    Caused by: java.lang.IllegalArgumentException: Can not set OHLCVKey field OHLCV\r\n    \tat sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167)\r\n    \tat sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:171)\r\n    \tat sun.reflect.UnsafeFieldAccessorImpl.ensureObj(UnsafeFieldAccessorImpl.java:58)\r\n    \tat sun.reflect.UnsafeObjectFieldAccessorImpl.get(UnsafeObjectFieldAccessorImpl.java:36)\r\n    \tat java.lang.reflect.Field.get(Field.java:393)\r\n    \tat org.hibernate.property.access.spi.GetterFieldImpl.get(GetterFieldImpl.java:71)\r\n\r\n\r\n\r\n**EDIT1:** \r\n\r\n    ohlcvDataManager.addOHLCV(&quot;TEST&quot;, &quot;USD&quot;, new java.sql.Date(2018, 1, 1), &quot;TEST&quot;, 1, 1, 1, 1, 1);\r\n\r\n    // OHLCDataManager#addOHLCV call:    \r\n    public void addOHLCV(String symbol, String currency, java.sql.Date date, \r\n    String exchange, double open, double high, double low, double close, long volume) {\r\n        addOHLCV(new OHLCV(new OHLCVKey(symbol,currency, date),exchange, open, high, low, close, volume));\r\n    }\r\n\r\n\r\n**EDIT2:** \r\nI have testet hibernate-core version 5.3.7 and 5.4 with java 1.8\r\n\r\n**EDIT2:** \r\nThere is just one OHLCV class and one OHLCVKey class in my classpath, I have also tried to rename the classes.","title":"Hibernate: just save an entity with @EmbeddedId as primary key","body":"<p>I wanted to learn hibernate basics and do not understand why my application does not work, when adding an entry to my table using the <code>@EmbeddedId</code> annontations for composited primary keys:</p>\n\n<p>Class representing the PK:</p>\n\n<pre><code>@Embeddable\npublic class OHLCVKey implements Serializable{\n\n    private static final long serialVersionUID = -3996067621138883817L;\n\n    @Column(name=\"Symbol\")\n    protected String symbol;\n\n    @Column(name=\"Currency\")\n    protected String currency;\n\n    @Column(name=\"Datum\")\n    protected java.sql.Date datum;\n\n    public OHLCVKey() {}\n\n    public OHLCVKey(String symbol, String currency, Date datum) {\n        super();\n        this.symbol = symbol;\n        this.currency = currency;\n        this.datum = datum;\n    }\n\n\n\n    public String getSymbol() {\n        return symbol;\n    }\n\n    public void setSymbol(String symbol) {\n        this.symbol = symbol;\n    }\n\n    public String getCurrency() {\n        return currency;\n    }\n\n    public void setCurrency(String currency) {\n        this.currency = currency;\n    }\n\n    public java.sql.Date getDatum() {\n        return datum;\n    }\n\n    public void setDatum(java.sql.Date endTime) {\n        this.datum = endTime;\n    }\n\n    @Override\n    public String toString() {\n        return String.format(\"OHLCKey: {%s %s %s}\", symbol, currency, datum);\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + (symbol == null ? 0 : symbol.hashCode());\n        result = prime * result + (currency == null ? 0 : currency.hashCode());\n        result = prime * result + (datum == null ? 0 : datum.hashCode());\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if(obj != null || !(obj instanceof OHLCVKey)) {\n            OHLCVKey other = (OHLCVKey) obj;\n            boolean sameSymbol = this.symbol.equals(other.symbol);\n            boolean sameCurrency = this.currency.equals(other.currency);\n            boolean endTime = this.datum.equals(other.datum);\n            return sameSymbol &amp;&amp; sameCurrency &amp;&amp; endTime;\n        }\n        return false;\n    }\n}\n</code></pre>\n\n<p>Persistent class:</p>\n\n<pre><code>@Entity\n@Table(name = \"ohlcv_data\")\npublic class OHLCV implements Serializable {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = -742762046516249869L;\n\n    @EmbeddedId\n    protected OHLCVKey key;\n\n    @Column(name = \"Exchange\")\n    private String exchange;\n\n    @Column(name = \"Open\")\n    private double open;\n\n    @Column(name = \"High\")\n    private double high;\n\n    @Column(name = \"Low\")\n    private double low;\n\n    @Column(name = \"Close\")\n    private double close;\n\n    @Column(name = \"Volume\")\n    private long volume;\n\n    public OHLCV() {};\n\n    public OHLCV(OHLCVKey key) {\n        super();\n        this.key = key;\n    }\n\n    public OHLCV(OHLCVKey key, String exchange, double open, double high, double low, double close, long volume) {\n        super();\n        this.key = key;\n        this.exchange = exchange;\n        this.open = open;\n        this.high = high;\n        this.low = low;\n        this.close = close;\n        this.volume = volume;\n    }\n\n    public OHLCVKey getKey() {\n        return key;\n    }\n\n    public void setKey(OHLCVKey key) {\n        this.key = key;\n    }\n\n    public String getExchange() {\n        return exchange;\n    }\n\n    public void setExchange(String exchange) {\n        this.exchange = exchange;\n    }\n\n    public double getOpen() {\n        return open;\n    }\n\n    public void setOpen(double open) {\n        this.open = open;\n    }\n\n    public double getHigh() {\n        return high;\n    }\n\n    public void setHigh(double high) {\n        this.high = high;\n    }\n\n    public double getLow() {\n        return low;\n    }\n\n    public void setLow(double low) {\n        this.low = low;\n    }\n\n    public double getClose() {\n        return close;\n    }\n\n    public void setClose(double close) {\n        this.close = close;\n    }\n\n    public long getVolume() {\n        return volume;\n    }\n\n    public void setVolume(long volume) {\n        this.volume = volume;\n    }\n}\n</code></pre>\n\n<p>I assumed that after creating an OHLC instance I could add it's data to my database table with the following function (in a class called <code>OHLCVDataManager</code>):</p>\n\n<pre><code>public void addOHLCV(OHLCV ohlcv) { // line 50\n    Session session = factory.openSession();\n    Transaction tx = null;\n    try {\n        tx = session.beginTransaction();\n        session.save(ohlcv); // line 55\n        tx.commit();\n        log.info(\"Added {} to database!\", key.toString());\n    } catch(Exception e) {\n        if(tx != null) {\n            tx.rollback();\n        }\n        e.printStackTrace();\n    } finally {\n        session.close();\n        System.exit(2); //TODO remove, exit Spring application\n    }\n}\n</code></pre>\n\n<p>But I got the following PropertyAccessException/IllegalArgumentException with stack traces:</p>\n\n<pre><code>org.hibernate.property.access.spi.PropertyAccessException: Error accessing field [protected OHLCVKey OHLCV.key] by reflection for persistent property [OHLCV#key] : OHLCV@46479254\n2018-11-03 18:43:57.567  INFO 18384 --- [       Thread-9] ConfigServletWebServerApplicationContext : Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7582b66f: startup date [Sat Nov 03 18:43:53 CET 2018]; root of context hierarchy\n    at org.hibernate.property.access.spi.GetterFieldImpl.get(GetterFieldImpl.java:75)\n    at org.hibernate.tuple.entity.AbstractEntityTuplizer.getIdentifier(AbstractEntityTuplizer.java:224)\n    at org.hibernate.persister.entity.AbstractEntityPersister.getIdentifier(AbstractEntityPersister.java:4931)\n    at org.hibernate.mapping.Component$StandardGenerationContextLocator.locateGenerationContext(Component.java:480)\n    at org.hibernate.id.CompositeNestedGeneratedValueGenerator.generate(CompositeNestedGeneratedValueGenerator.java:93)\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)\n    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:192)\n    at org.hibernate.event.internal.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:38)\n    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:177)\n    at org.hibernate.event.internal.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:32)\n    at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:73)\n    at org.hibernate.internal.SessionImpl.fireSave(SessionImpl.java:709)\n    at org.hibernate.internal.SessionImpl.save(SessionImpl.java:701)\n    at org.hibernate.internal.SessionImpl.save(SessionImpl.java:696)\n    at OHLCVDataManager.addOHLCV(OHLCVDataManager.java:55)\n    at OHLCVDataManager.addOHLCV(OHLCVDataManager.java:70)\n    at ServerApplication.main(ServerApplication.java:16)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: java.lang.IllegalArgumentException: Can not set OHLCVKey field OHLCV\n    at sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167)\n    at sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:171)\n    at sun.reflect.UnsafeFieldAccessorImpl.ensureObj(UnsafeFieldAccessorImpl.java:58)\n    at sun.reflect.UnsafeObjectFieldAccessorImpl.get(UnsafeObjectFieldAccessorImpl.java:36)\n    at java.lang.reflect.Field.get(Field.java:393)\n    at org.hibernate.property.access.spi.GetterFieldImpl.get(GetterFieldImpl.java:71)\n</code></pre>\n\n<p><strong>EDIT1:</strong> </p>\n\n<pre><code>ohlcvDataManager.addOHLCV(\"TEST\", \"USD\", new java.sql.Date(2018, 1, 1), \"TEST\", 1, 1, 1, 1, 1);\n\n// OHLCDataManager#addOHLCV call:    \npublic void addOHLCV(String symbol, String currency, java.sql.Date date, \nString exchange, double open, double high, double low, double close, long volume) {\n    addOHLCV(new OHLCV(new OHLCVKey(symbol,currency, date),exchange, open, high, low, close, volume));\n}\n</code></pre>\n\n<p><strong>EDIT2:</strong> \nI have testet hibernate-core version 5.3.7 and 5.4 with java 1.8</p>\n\n<p><strong>EDIT2:</strong> \nThere is just one OHLCV class and one OHLCVKey class in my classpath, I have also tried to rename the classes.</p>\n"},{"tags":["java","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":3544775,"reputation":335,"user_id":2961025,"display_name":"Aiden"},"score":0,"creation_date":1607252713,"post_id":61137039,"comment_id":115208979,"body_markdown":"This is a good question. I have the same issue including returning aggregates like SUM() in select","body":"This is a good question. I have the same issue including returning aggregates like SUM() in select"},{"owner":{"account_id":2328976,"reputation":4965,"user_id":2042827,"accept_rate":47,"display_name":"ikos23"},"score":0,"creation_date":1607274609,"post_id":61137039,"comment_id":115215058,"body_markdown":"@Aiden you can vote it up if you think it is useful:)","body":"@Aiden you can vote it up if you think it is useful:)"},{"owner":{"account_id":974448,"reputation":3435,"user_id":2042457,"accept_rate":56,"display_name":"aksappy"},"score":0,"creation_date":1636492506,"post_id":61137039,"comment_id":123571044,"body_markdown":"Quarkus has introduced projection which will use a custom pojo to dynamically identify the required columns to use in query. See documentation [here](https://quarkus.io/guides/hibernate-orm-panache#query-projection)","body":"Quarkus has introduced projection which will use a custom pojo to dynamically identify the required columns to use in query. See documentation <a href=\"https://quarkus.io/guides/hibernate-orm-panache#query-projection\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":2328976,"reputation":4965,"user_id":2042827,"accept_rate":47,"display_name":"ikos23"},"score":1,"creation_date":1636536718,"post_id":61137039,"comment_id":123580706,"body_markdown":"@aksappy Thank you :) I think this comment is helpful, but if you have time I think it might be valuable to add it as an answer with a little details - because it looks like current approved answer is not valid anymore. Also you can vote up this question if you think it might be useful for other people.","body":"@aksappy Thank you :) I think this comment is helpful, but if you have time I think it might be valuable to add it as an answer with a little details - because it looks like current approved answer is not valid anymore. Also you can vote up this question if you think it might be useful for other people."}],"answers":[{"tags":[],"owner":{"account_id":4424946,"reputation":5229,"user_id":3603660,"accept_rate":75,"display_name":"loicmathieu"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1586509709,"creation_date":1586509709,"answer_id":61137151,"question_id":61137039,"body_markdown":"This is currently not possible, you can subscribe to this issue regarding projection for Hibernate with Panache: https://github.com/quarkusio/quarkus/issues/6261\r\n\r\nDon&#39;t hesistate to vote for it (+1 reaction) and provides feedback.","title":"How to select only certain fields with Quarkus Panache?","body":"<p>This is currently not possible, you can subscribe to this issue regarding projection for Hibernate with Panache: <a href=\"https://github.com/quarkusio/quarkus/issues/6261\" rel=\"noreferrer\">https://github.com/quarkusio/quarkus/issues/6261</a></p>\n\n<p>Don't hesistate to vote for it (+1 reaction) and provides feedback.</p>\n"},{"tags":[],"owner":{"account_id":12296509,"reputation":96,"user_id":14726275,"display_name":"daegyu"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1647979598,"creation_date":1647979598,"answer_id":71578310,"question_id":61137039,"body_markdown":"As [@aksappy][1] said, this feature was added and it&#39;s documentation is available [here][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2042457/aksappy\r\n  [2]: https://quarkus.io/guides/hibernate-orm-panache#query-projection","title":"How to select only certain fields with Quarkus Panache?","body":"<p>As <a href=\"https://stackoverflow.com/users/2042457/aksappy\">@aksappy</a> said, this feature was added and it's documentation is available <a href=\"https://quarkus.io/guides/hibernate-orm-panache#query-projection\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":7546897,"reputation":3757,"user_id":5729579,"display_name":"Derrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680170502,"creation_date":1680170502,"answer_id":75886762,"question_id":61137039,"body_markdown":"You can use Query Parameters -&gt;\r\n\r\n        Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n        params.put(&quot;fisrtName&quot;, fisrtName);\r\n        params.put(&quot;lastName&quot;, lastName);\r\n\r\n        final List&lt;String&gt; enetityList = Person.list(&quot;fisrtName= :fisrtName and lastName= :lastName&quot;, params);\r\n\r\nreference - https://quarkus.io/guides/hibernate-orm-panache","title":"How to select only certain fields with Quarkus Panache?","body":"<p>You can use Query Parameters -&gt;</p>\n<pre><code>    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n    params.put(&quot;fisrtName&quot;, fisrtName);\n    params.put(&quot;lastName&quot;, lastName);\n\n    final List&lt;String&gt; enetityList = Person.list(&quot;fisrtName= :fisrtName and lastName= :lastName&quot;, params);\n</code></pre>\n<p>reference - <a href=\"https://quarkus.io/guides/hibernate-orm-panache\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/hibernate-orm-panache</a></p>\n"}],"owner":{"account_id":2328976,"reputation":4965,"user_id":2042827,"accept_rate":47,"display_name":"ikos23"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10895,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":71578310,"answer_count":3,"score":8,"last_activity_date":1680170502,"creation_date":1586509194,"question_id":61137039,"body_markdown":"`Quarkus` simplifies Hibernate ORM mappings with `Panache`.\r\n\r\n\r\nHere is an example of my `entity` and `PanacheRepository`:\r\n\r\n    @Entity\r\n    public class Person {\r\n        @Id @GeneratedValue private Long id;\r\n        private String firstName;\r\n        private String lastName;\r\n        private LocalDate birth;\r\n        private Status status;\r\n    }\r\n\r\n    @ApplicationScoped\r\n    public class PersonRepository implements PanacheRepository&lt;Person&gt; {\r\n    \r\n       // example\r\n       public Person findByName(String name){\r\n           return find(&quot;name&quot;, name).firstResult();\r\n       }\r\n    \r\n\r\n       // ! and this is what I tried, but it&#39;s not possible to do it this way\r\n       // all the methods return Person or something of type Person like List&lt;Person&gt;\r\n       // so basically this won&#39;t even compile\r\n       public List&lt;String&gt; findAllLastNames() {\r\n           return this.find(&quot;select p.lastName from Person p&quot;).list();\r\n       }\r\n    \r\n    }\r\n\r\nAll the guides explain how to write different queries, but is not clear how to select only certain attributes.\r\n\r\nIf I don&#39;t need the whole `Person` object, but rather the `lastName` of all persons in my DB?\r\n\r\nIs it possible to select only certain attributes with `Quarkus Panache`?\r\n","title":"How to select only certain fields with Quarkus Panache?","body":"<p><code>Quarkus</code> simplifies Hibernate ORM mappings with <code>Panache</code>.</p>\n\n<p>Here is an example of my <code>entity</code> and <code>PanacheRepository</code>:</p>\n\n<pre><code>@Entity\npublic class Person {\n    @Id @GeneratedValue private Long id;\n    private String firstName;\n    private String lastName;\n    private LocalDate birth;\n    private Status status;\n}\n\n@ApplicationScoped\npublic class PersonRepository implements PanacheRepository&lt;Person&gt; {\n\n   // example\n   public Person findByName(String name){\n       return find(\"name\", name).firstResult();\n   }\n\n\n   // ! and this is what I tried, but it's not possible to do it this way\n   // all the methods return Person or something of type Person like List&lt;Person&gt;\n   // so basically this won't even compile\n   public List&lt;String&gt; findAllLastNames() {\n       return this.find(\"select p.lastName from Person p\").list();\n   }\n\n}\n</code></pre>\n\n<p>All the guides explain how to write different queries, but is not clear how to select only certain attributes.</p>\n\n<p>If I don't need the whole <code>Person</code> object, but rather the <code>lastName</code> of all persons in my DB?</p>\n\n<p>Is it possible to select only certain attributes with <code>Quarkus Panache</code>?</p>\n"},{"tags":["java","apache-beam","beam-sql"],"owner":{"account_id":28162788,"reputation":1,"user_id":21522410,"display_name":"HUsr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680170323,"creation_date":1680129413,"question_id":75882729,"body_markdown":"I have a `PCollection&lt;Row&gt; `upon which I want to apply **SQLTransform** which runs an aggregation query as:\r\n\r\n`SELECT *, ANY_VALUE(col1) OVER (PARTITION BY col2 ORDER BY timestamp) as some_name FROM PCOLLECTION`\r\n\r\nHere is the code below:\r\n\r\n```\r\nSchema appSchema =\r\n        Schema\r\n        .builder()\r\n        .addStringField(&quot;col1&quot;)\r\n        .addStringField(&quot;col2&quot;)\r\n        .addDateTimeField(&quot;col3&quot;)\r\n        .build();\r\n\r\n PCollection&lt;Row&gt; transform1 = inputClass\r\n        .apply(\r\n            ParDo.of(new DoFn&lt;SomeClass, Row&gt;() {\r\n            @ProcessElement\r\n            public void processElement(ProcessContext c) {\r\n                SomeClass pojo = c.element();\r\n\r\n                // Create a Row with the appSchema schema\r\n                // and values from the current POJO\r\n\r\n                Row appRow =\r\n                    Row\r\n                        .withSchema(appSchema)\r\n                        .addValues(\r\n                        pojo.getc1(),\r\n                        pojo.getc2(),\r\n                        pojo.getc3())\r\n                        .build();\r\n\r\n                // Output the Row representing the current POJO\r\n                c.output(appRow);\r\n            }\r\n            })).setRowSchema(appSchema);\r\n\r\n\r\nPCollection&lt;Row&gt; transform2 = transform1.apply(\r\n            SqlTransform.query(&lt;sql&gt;));\r\n```\r\n\r\n\r\nI get the error as :\r\n\r\n```\r\nException in thread &quot;main&quot; com.google.zetasql.SqlException: Analytic functions not supported [at 1:11]\r\nSELECT *, ANY_VALUE(col1) OVER (PARTITION BY col2 ORDER BY timesta...\r\n          ^\r\n\tat com.google.zetasql.Analyzer.analyzeNextStatement(Analyzer.java:216)\r\n\tat org.apache.beam.sdk.extensions.sql.zetasql.SqlAnalyzer.analyzeNextStatement(SqlAnalyzer.java:113)\r\n\tat org.apache.beam.sdk.extensions.sql.zetasql.SqlAnalyzer.analyzeQuery(SqlAnalyzer.java:82)\r\n\tat org.apache.beam.sdk.extensions.sql.zetasql.ZetaSQLPlannerImpl.rel(ZetaSQLPlannerImpl.java:92)\r\n\tat org.apache.beam.sdk.extensions.sql.zetasql.ZetaSQLQueryPlanner.convertToBeamRelInternal(ZetaSQLQueryPlanner.java:188)\r\n\tat org.apache.beam.sdk.extensions.sql.zetasql.ZetaSQLQueryPlanner.convertToBeamRel(ZetaSQLQueryPlanner.java:176)\r\n\tat org.apache.beam.sdk.extensions.sql.impl.BeamSqlEnv.parseQuery(BeamSqlEnv.java:112)\r\n\tat org.apache.beam.sdk.extensions.sql.SqlTransform.expand(SqlTransform.java:172)\r\n\tat org.apache.beam.sdk.extensions.sql.SqlTransform.expand(SqlTransform.java:110)\r\n\tat org.apache.beam.sdk.Pipeline.applyInternal(Pipeline.java:548)\r\n\tat org.apache.beam.sdk.Pipeline.applyTransform(Pipeline.java:482)\r\n\tat org.apache.beam.sdk.values.PCollection.apply(PCollection.java:360)\r\n\tat com.company.events.someclass.WindowFuncTest.main(WindowFuncTest.java:270)\r\nCaused by: com.google.zetasql.io.grpc.StatusRuntimeException: INVALID_ARGUMENT: Analytic functions not supported [at 1:11]\r\nSELECT *, ANY_VALUE(col1) OVER (PARTITION BY col2 ORDER BY timesta...\r\n          ^\r\n\tat com.google.zetasql.io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:262)\r\n\tat com.google.zetasql.io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:243)\r\n\tat com.google.zetasql.io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:156)\r\n\tat com.google.zetasql.ZetaSqlLocalServiceGrpc$ZetaSqlLocalServiceBlockingStub.analyze(ZetaSqlLocalServiceGrpc.java:1506)\r\n\tat com.google.zetasql.Analyzer.analyzeNextStatement(Analyzer.java:214)\r\n\t... 12 more\r\n```\r\n\r\n\r\nIf this needs to create a custom Class extending PipelineOptions, then I am not sure how to implement that here. \r\n\r\nI saw [here](https://github.com/google/zetasql/issues/17), that the property to enable analytical function must be enabled explicitly. But while creating PiplineOptions for BeamPipeline, there is no such option.","title":"Apache beam ZetaSQL ANALYTICAL FUNCTIONS not enabled","body":"<p>I have a <code>PCollection&lt;Row&gt; </code>upon which I want to apply <strong>SQLTransform</strong> which runs an aggregation query as:</p>\n<p><code>SELECT *, ANY_VALUE(col1) OVER (PARTITION BY col2 ORDER BY timestamp) as some_name FROM PCOLLECTION</code></p>\n<p>Here is the code below:</p>\n<pre><code>Schema appSchema =\n        Schema\n        .builder()\n        .addStringField(&quot;col1&quot;)\n        .addStringField(&quot;col2&quot;)\n        .addDateTimeField(&quot;col3&quot;)\n        .build();\n\n PCollection&lt;Row&gt; transform1 = inputClass\n        .apply(\n            ParDo.of(new DoFn&lt;SomeClass, Row&gt;() {\n            @ProcessElement\n            public void processElement(ProcessContext c) {\n                SomeClass pojo = c.element();\n\n                // Create a Row with the appSchema schema\n                // and values from the current POJO\n\n                Row appRow =\n                    Row\n                        .withSchema(appSchema)\n                        .addValues(\n                        pojo.getc1(),\n                        pojo.getc2(),\n                        pojo.getc3())\n                        .build();\n\n                // Output the Row representing the current POJO\n                c.output(appRow);\n            }\n            })).setRowSchema(appSchema);\n\n\nPCollection&lt;Row&gt; transform2 = transform1.apply(\n            SqlTransform.query(&lt;sql&gt;));\n</code></pre>\n<p>I get the error as :</p>\n<pre><code>Exception in thread &quot;main&quot; com.google.zetasql.SqlException: Analytic functions not supported [at 1:11]\nSELECT *, ANY_VALUE(col1) OVER (PARTITION BY col2 ORDER BY timesta...\n          ^\n    at com.google.zetasql.Analyzer.analyzeNextStatement(Analyzer.java:216)\n    at org.apache.beam.sdk.extensions.sql.zetasql.SqlAnalyzer.analyzeNextStatement(SqlAnalyzer.java:113)\n    at org.apache.beam.sdk.extensions.sql.zetasql.SqlAnalyzer.analyzeQuery(SqlAnalyzer.java:82)\n    at org.apache.beam.sdk.extensions.sql.zetasql.ZetaSQLPlannerImpl.rel(ZetaSQLPlannerImpl.java:92)\n    at org.apache.beam.sdk.extensions.sql.zetasql.ZetaSQLQueryPlanner.convertToBeamRelInternal(ZetaSQLQueryPlanner.java:188)\n    at org.apache.beam.sdk.extensions.sql.zetasql.ZetaSQLQueryPlanner.convertToBeamRel(ZetaSQLQueryPlanner.java:176)\n    at org.apache.beam.sdk.extensions.sql.impl.BeamSqlEnv.parseQuery(BeamSqlEnv.java:112)\n    at org.apache.beam.sdk.extensions.sql.SqlTransform.expand(SqlTransform.java:172)\n    at org.apache.beam.sdk.extensions.sql.SqlTransform.expand(SqlTransform.java:110)\n    at org.apache.beam.sdk.Pipeline.applyInternal(Pipeline.java:548)\n    at org.apache.beam.sdk.Pipeline.applyTransform(Pipeline.java:482)\n    at org.apache.beam.sdk.values.PCollection.apply(PCollection.java:360)\n    at com.company.events.someclass.WindowFuncTest.main(WindowFuncTest.java:270)\nCaused by: com.google.zetasql.io.grpc.StatusRuntimeException: INVALID_ARGUMENT: Analytic functions not supported [at 1:11]\nSELECT *, ANY_VALUE(col1) OVER (PARTITION BY col2 ORDER BY timesta...\n          ^\n    at com.google.zetasql.io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:262)\n    at com.google.zetasql.io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:243)\n    at com.google.zetasql.io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:156)\n    at com.google.zetasql.ZetaSqlLocalServiceGrpc$ZetaSqlLocalServiceBlockingStub.analyze(ZetaSqlLocalServiceGrpc.java:1506)\n    at com.google.zetasql.Analyzer.analyzeNextStatement(Analyzer.java:214)\n    ... 12 more\n</code></pre>\n<p>If this needs to create a custom Class extending PipelineOptions, then I am not sure how to implement that here.</p>\n<p>I saw <a href=\"https://github.com/google/zetasql/issues/17\" rel=\"nofollow noreferrer\">here</a>, that the property to enable analytical function must be enabled explicitly. But while creating PiplineOptions for BeamPipeline, there is no such option.</p>\n"},{"tags":["java","spring-boot","spring-mvc","txt","file-read"],"comments":[{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1657708098,"post_id":72964709,"comment_id":128872848,"body_markdown":"Post the code you&#39;ve written so far and the concrete problem you&#39;re getting","body":"Post the code you&#39;ve written so far and the concrete problem you&#39;re getting"},{"owner":{"account_id":25660167,"reputation":89,"user_id":19426256,"display_name":"Drishti Jain"},"score":0,"creation_date":1657708147,"post_id":72964709,"comment_id":128872864,"body_markdown":"Use FileReader in java. Google its tutorial.","body":"Use FileReader in java. Google its tutorial."}],"answers":[{"tags":[],"owner":{"account_id":25779467,"reputation":116,"user_id":19525292,"display_name":"Shantanu Vora"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1657794728,"creation_date":1657741844,"answer_id":72971874,"question_id":72964709,"body_markdown":"Since your question is too vague, it becomes nearly impossible to know what you are expecting. I&#39;ll assume that you want to read a file from the classpath. If you were expecting something else, please clarify it clearly.\r\n\r\nYou can use ClassPathResource to get the file name. And then you can handle files with FileReader or BufferedReader as you would normally handle files with Java.io. In a Spring Boot Application src/main/resources is the default classpath. So the String argument in the ClassPathResource constructor call must be relative to the classpath.\r\n\r\n\r\n    Resource resource = new ClassPathResource(&quot;test.txt&quot;);\r\n\tFile file = resource.getFile();\r\n\tBufferedReader bufferedReader = new BufferedReader(new FileReader(file));\r\n\r\n\tString[] array = bufferedReader.lines().collect(Collectors.joining()).split(&quot;,&quot;);\r\n\tSystem.out.println(Arrays.asList(array));\r\n\r\n\r\n","title":"How to read txt file using Springboot?","body":"<p>Since your question is too vague, it becomes nearly impossible to know what you are expecting. I'll assume that you want to read a file from the classpath. If you were expecting something else, please clarify it clearly.</p>\n<p>You can use ClassPathResource to get the file name. And then you can handle files with FileReader or BufferedReader as you would normally handle files with Java.io. In a Spring Boot Application src/main/resources is the default classpath. So the String argument in the ClassPathResource constructor call must be relative to the classpath.</p>\n<pre><code>Resource resource = new ClassPathResource(&quot;test.txt&quot;);\nFile file = resource.getFile();\nBufferedReader bufferedReader = new BufferedReader(new FileReader(file));\n\nString[] array = bufferedReader.lines().collect(Collectors.joining()).split(&quot;,&quot;);\nSystem.out.println(Arrays.asList(array));\n</code></pre>\n"}],"owner":{"account_id":25293220,"reputation":89,"user_id":19118842,"display_name":"IU Kottahchchi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5253,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72971874,"answer_count":1,"score":-1,"last_activity_date":1680170319,"creation_date":1657707928,"question_id":72964709,"body_markdown":"I need to read a txt file using Springboot. This txt file consist of several words and need to assign those words in to a String Array. How can I do that?\r\n\r\n","title":"How to read txt file using Springboot?","body":"<p>I need to read a txt file using Springboot. This txt file consist of several words and need to assign those words in to a String Array. How can I do that?</p>\n"},{"tags":["java","kotlin","model","realm","data-class"],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1668689528,"creation_date":1560583605,"answer_id":56608309,"question_id":56607925,"body_markdown":"**Data** classes are intended to hold values. In the Java Bean sense, their main purpose is to wrap around some set of values.\r\n\r\nWhat makes Java beans really ugly is that many important methods, such as `equals()`, `hashcode()` or `toString()` that *ideally* should know about the fields of your class ... are inherited from java.lang.Object. And thus they do nothing useful. \r\n\r\nWhen you declare a `data class` in Kotlin, the Kotlin compiler simply **adds** a reasonable implementation for all these methods. See [kotlin-lang][1]: \r\n\r\n&gt; The compiler automatically derives the following members from all\r\n&gt; properties declared in the primary constructor:\r\n&gt; \r\n&gt; - equals()/hashCode() pair; \r\n&gt; - toString() of the form &quot;User(name=John, age=42)&quot;;\r\n\r\nIn other words: when that User class is a data class, and when you have **two** \r\nusers objects declared with `User(name=John, age=42)`, then those two objects will be equal, because the *generated* `equals()` method will compare the name and age within those data class objects.\r\n\r\nAn **Open** class on the other hand, is an ordinary class that is **open** for extension. Meaning: by default, when you write a class in Kotlin, it can **not** be extended. Yes, inheritance is **prevented** by default. By declaring a class to be open, you tell the compiler: &quot;I intend to extend this class&quot;. In other words: if you want to have `Child extends Base`, then your `Base` class must be declared **open** in Kotlin.\r\n\r\nIn short: **data** classes are meant as *containers for values*, that can be used as that. **Open** is a different concept, it simply boils down to: can be inherited (respectively overridden when talking about methods) by some child class.\r\n\r\nLong story short: in that question you are linking to, you are told:\r\n\r\n- you can&#39;t use Realm to process **data** classes\r\n- and the example given there simply *assumes* that maybe you want to extend that Person class, so it is declared `open`\r\n\r\nI guess: unless you intend to create subclasses of your classes, you simply go **without** the open keyword! Write standard kotlin, and make them open if they are intended to be extended. \r\n\r\n  [1]: https://kotlinlang.org/docs/reference/data-classes.html","title":"Kotlin Data class v/s open class?","body":"<p><strong>Data</strong> classes are intended to hold values. In the Java Bean sense, their main purpose is to wrap around some set of values.</p>\n<p>What makes Java beans really ugly is that many important methods, such as <code>equals()</code>, <code>hashcode()</code> or <code>toString()</code> that <em>ideally</em> should know about the fields of your class ... are inherited from java.lang.Object. And thus they do nothing useful.</p>\n<p>When you declare a <code>data class</code> in Kotlin, the Kotlin compiler simply <strong>adds</strong> a reasonable implementation for all these methods. See <a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"nofollow noreferrer\">kotlin-lang</a>:</p>\n<blockquote>\n<p>The compiler automatically derives the following members from all\nproperties declared in the primary constructor:</p>\n<ul>\n<li>equals()/hashCode() pair;</li>\n<li>toString() of the form &quot;User(name=John, age=42)&quot;;</li>\n</ul>\n</blockquote>\n<p>In other words: when that User class is a data class, and when you have <strong>two</strong>\nusers objects declared with <code>User(name=John, age=42)</code>, then those two objects will be equal, because the <em>generated</em> <code>equals()</code> method will compare the name and age within those data class objects.</p>\n<p>An <strong>Open</strong> class on the other hand, is an ordinary class that is <strong>open</strong> for extension. Meaning: by default, when you write a class in Kotlin, it can <strong>not</strong> be extended. Yes, inheritance is <strong>prevented</strong> by default. By declaring a class to be open, you tell the compiler: &quot;I intend to extend this class&quot;. In other words: if you want to have <code>Child extends Base</code>, then your <code>Base</code> class must be declared <strong>open</strong> in Kotlin.</p>\n<p>In short: <strong>data</strong> classes are meant as <em>containers for values</em>, that can be used as that. <strong>Open</strong> is a different concept, it simply boils down to: can be inherited (respectively overridden when talking about methods) by some child class.</p>\n<p>Long story short: in that question you are linking to, you are told:</p>\n<ul>\n<li>you can't use Realm to process <strong>data</strong> classes</li>\n<li>and the example given there simply <em>assumes</em> that maybe you want to extend that Person class, so it is declared <code>open</code></li>\n</ul>\n<p>I guess: unless you intend to create subclasses of your classes, you simply go <strong>without</strong> the open keyword! Write standard kotlin, and make them open if they are intended to be extended.</p>\n"},{"tags":[],"owner":{"display_name":"user8841254"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645765909,"creation_date":1645765478,"answer_id":71261280,"question_id":56607925,"body_markdown":"**Kotlin Data Class**:\r\n \r\nOne of the many handy features that the Kotlin language offers is the **data** keyword. When we declare a class with the **data** keyword the compiler implements the equals(Object o), hashCode(), and toString() methods, thus saving us from the trouble to do it manually.\r\n\r\n**Kotlin Open Class**:\r\n\r\nIn Kotlin, all the classes are **final** by default i.e. they can’t be *inherited* by default. In Java, you have to make your class final explicitly. So, to *make a class inheritable* to the other classes, you must mark it with the **open** keyword otherwise you will get an error saying “type is final so can’t be inherited”.","title":"Kotlin Data class v/s open class?","body":"<p><strong>Kotlin Data Class</strong>:</p>\n<p>One of the many handy features that the Kotlin language offers is the <strong>data</strong> keyword. When we declare a class with the <strong>data</strong> keyword the compiler implements the equals(Object o), hashCode(), and toString() methods, thus saving us from the trouble to do it manually.</p>\n<p><strong>Kotlin Open Class</strong>:</p>\n<p>In Kotlin, all the classes are <strong>final</strong> by default i.e. they can’t be <em>inherited</em> by default. In Java, you have to make your class final explicitly. So, to <em>make a class inheritable</em> to the other classes, you must mark it with the <strong>open</strong> keyword otherwise you will get an error saying “type is final so can’t be inherited”.</p>\n"},{"comments":[{"owner":{"account_id":10691915,"reputation":41,"user_id":18340227,"display_name":"Bhavesh Salunke"},"score":0,"creation_date":1647250425,"post_id":71465510,"comment_id":126315040,"body_markdown":"Below answer is mine I&#39;ve deleted that account.","body":"Below answer is mine I&#39;ve deleted that account."}],"tags":[],"owner":{"account_id":10691915,"reputation":41,"user_id":18340227,"display_name":"Bhavesh Salunke"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680170182,"creation_date":1647250227,"answer_id":71465510,"question_id":56607925,"body_markdown":"Kotlin Data Class:\r\n\r\nOne of the many handy features that the Kotlin language offers is the data keyword. When we declare a class with the data keyword the compiler implements the equals(Object o), hashCode(), and toString() methods, thus saving us from the trouble to do it manually.\r\n\r\nKotlin Open Class:\r\n\r\nIn Kotlin, all the classes are final by default i.e. they can’t be inherited by default. In Java, you have to make your class final explicitly. So, to make a class inheritable to the other classes, you must mark it with the open keyword otherwise you will get an error saying “type is final so can’t be inherited”.\r\n\r\nIn summary, data classes are best used for classes whose main purpose is to hold data, while open classes are used when you need to allow the class to be extended by other classes. If you need to use RealmObject in your Kotlin class, you&#39;ll need to use an open class instead of a data class.","title":"Kotlin Data class v/s open class?","body":"<p>Kotlin Data Class:</p>\n<p>One of the many handy features that the Kotlin language offers is the data keyword. When we declare a class with the data keyword the compiler implements the equals(Object o), hashCode(), and toString() methods, thus saving us from the trouble to do it manually.</p>\n<p>Kotlin Open Class:</p>\n<p>In Kotlin, all the classes are final by default i.e. they can’t be inherited by default. In Java, you have to make your class final explicitly. So, to make a class inheritable to the other classes, you must mark it with the open keyword otherwise you will get an error saying “type is final so can’t be inherited”.</p>\n<p>In summary, data classes are best used for classes whose main purpose is to hold data, while open classes are used when you need to allow the class to be extended by other classes. If you need to use RealmObject in your Kotlin class, you'll need to use an open class instead of a data class.</p>\n"}],"owner":{"account_id":8044424,"reputation":1599,"user_id":6065032,"accept_rate":60,"display_name":"B.shruti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7249,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":56608309,"answer_count":3,"score":6,"last_activity_date":1680170182,"creation_date":1560579983,"question_id":56607925,"body_markdown":"As I am converting my java project to kotlin project, I came\r\nto know about data classes in kotlin(replacement of Java model classes). \r\n\r\nNow I have a requirement for my `kotlin data class` to support `RealmObject` but as per the link \r\nhttps://stackoverflow.com/questions/34368374/kotlin-data-class-of-realmobject, it says data classes are apparently not supported in Realm, so I need to make my `data class` as `open class`.\r\n\r\nSo basically, I want to know the difference between these two terms.","title":"Kotlin Data class v/s open class?","body":"<p>As I am converting my java project to kotlin project, I came\nto know about data classes in kotlin(replacement of Java model classes). </p>\n\n<p>Now I have a requirement for my <code>kotlin data class</code> to support <code>RealmObject</code> but as per the link \n<a href=\"https://stackoverflow.com/questions/34368374/kotlin-data-class-of-realmobject\">Kotlin data class of RealmObject</a>, it says data classes are apparently not supported in Realm, so I need to make my <code>data class</code> as <code>open class</code>.</p>\n\n<p>So basically, I want to know the difference between these two terms.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":23913312,"reputation":3,"user_id":17909994,"display_name":"travel"},"score":0,"creation_date":1680166751,"post_id":75886108,"comment_id":133853001,"body_markdown":"a[0] = &quot;8.adfafd 9.abcdefg 10.haadfagada 11.fsfdfare&quot;","body":"a[0] = &quot;8.adfafd 9.abcdefg 10.haadfagada 11.fsfdfare&quot;"},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1680166801,"post_id":75886108,"comment_id":133853015,"body_markdown":"Shouldn&#39;t the split pattern be `\\\\s+(?=\\\\d+\\\\.)` ?  Also, maybe just split on spaces here.","body":"Shouldn&#39;t the split pattern be <code>\\\\s+(?=\\\\d+\\\\.)</code> ?  Also, maybe just split on spaces here."},{"owner":{"account_id":23913312,"reputation":3,"user_id":17909994,"display_name":"travel"},"score":0,"creation_date":1680167276,"post_id":75886108,"comment_id":133853136,"body_markdown":"\\\\s+(?=\\\\d+\\\\.) this can work,thank you so much","body":"\\\\s+(?=\\\\d+\\\\.) this can work,thank you so much"}],"tags":[],"owner":{"account_id":15976349,"reputation":84,"user_id":11529150,"display_name":"Ivan Ivanchuk"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1680169883,"creation_date":1680166630,"answer_id":75886108,"question_id":75886080,"body_markdown":"Try this\r\n```java\r\nString str = &quot;8.adfafd 9.abcdefg 10.haadfagada 11.fsfdfare&quot;;\r\nString[] a = str.split(&quot;\\\\s+(?=\\\\d+\\\\.)&quot;);\r\n```","title":"Java split (?=pattern) not longest match","body":"<p>Try this</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;8.adfafd 9.abcdefg 10.haadfagada 11.fsfdfare&quot;;\nString[] a = str.split(&quot;\\\\s+(?=\\\\d+\\\\.)&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23913312,"reputation":3,"user_id":17909994,"display_name":"travel"},"score":0,"creation_date":1680167894,"post_id":75886116,"comment_id":133853280,"body_markdown":"String str = &quot;8.adfafd9.abcdefg10.haadfagada11.fsfdfare&quot;;\nWhat to do when there are no spaces","body":"String str = &quot;8.adfafd9.abcdefg10.haadfagada11.fsfdfare&quot;; What to do when there are no spaces"}],"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680166704,"creation_date":1680166704,"answer_id":75886116,"question_id":75886080,"body_markdown":"I would use a regex match all approach here, rather than splitting:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String str = &quot;8.adfafd 9.abcdefg 10.haadfagada 11.fsfdfare&quot;;\r\n    String pattern = &quot;\\\\b\\\\d+\\\\.\\\\S+&quot;;\r\n    Pattern r = Pattern.compile(pattern);\r\n    Matcher m = r.matcher(str);\r\n    List&lt;String&gt; matches = new ArrayList&lt;&gt;();\r\n\r\n    while (m.find()) {\r\n        matches.add(m.group());\r\n    }\r\n\r\n    System.out.println(matches);\r\n    // [8.adfafd, 9.abcdefg, 10.haadfagada, 11.fsfdfare]","title":"Java split (?=pattern) not longest match","body":"<p>I would use a regex match all approach here, rather than splitting:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;8.adfafd 9.abcdefg 10.haadfagada 11.fsfdfare&quot;;\nString pattern = &quot;\\\\b\\\\d+\\\\.\\\\S+&quot;;\nPattern r = Pattern.compile(pattern);\nMatcher m = r.matcher(str);\nList&lt;String&gt; matches = new ArrayList&lt;&gt;();\n\nwhile (m.find()) {\n    matches.add(m.group());\n}\n\nSystem.out.println(matches);\n// [8.adfafd, 9.abcdefg, 10.haadfagada, 11.fsfdfare]\n</code></pre>\n"}],"owner":{"account_id":23913312,"reputation":3,"user_id":17909994,"display_name":"travel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75886108,"answer_count":2,"score":-1,"last_activity_date":1680169883,"creation_date":1680166491,"question_id":75886080,"body_markdown":"```java\r\npublic static void main(String[] args) {\r\n    String str = &quot;8.adfafd9.abcdefg10.haadfagada11.fsfdfare&quot;;\r\n    String[] results = str.split(&quot;(?=(\\\\d+[、.]))&quot;);\r\n    for (int i=0; i&lt;results.length; i++) {\r\n        System.out.println(&quot;a[&quot; + i + &quot;] = \\&quot;&quot; + results[i] + &#39;&quot;&#39;);\r\n    }\r\n}\r\n```\r\nThis is what I get:\r\n\r\n```java\r\na[0] = &quot;8.adfafd &quot;\r\na[1] = &quot;9.abcdefg &quot;\r\na[2] = &quot;1&quot;\r\na[3] = &quot;0.haadfagada &quot;\r\na[4] = &quot;1&quot;\r\na[5] = &quot;1.fsfdfare&quot;\r\n```\r\nThis is what I want: \r\n```java\r\na[0] = &quot;8.adfafd &quot;\r\na[1] = &quot;9.abcdefg &quot;\r\na[2] = &quot;10.haadfagada &quot;\r\na[3] = &quot;11.fsfdfare&quot;\r\n```\r\nHow can I get the results I want?","title":"Java split (?=pattern) not longest match","body":"<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    String str = &quot;8.adfafd9.abcdefg10.haadfagada11.fsfdfare&quot;;\n    String[] results = str.split(&quot;(?=(\\\\d+[、.]))&quot;);\n    for (int i=0; i&lt;results.length; i++) {\n        System.out.println(&quot;a[&quot; + i + &quot;] = \\&quot;&quot; + results[i] + '&quot;');\n    }\n}\n</code></pre>\n<p>This is what I get:</p>\n<pre class=\"lang-java prettyprint-override\"><code>a[0] = &quot;8.adfafd &quot;\na[1] = &quot;9.abcdefg &quot;\na[2] = &quot;1&quot;\na[3] = &quot;0.haadfagada &quot;\na[4] = &quot;1&quot;\na[5] = &quot;1.fsfdfare&quot;\n</code></pre>\n<p>This is what I want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>a[0] = &quot;8.adfafd &quot;\na[1] = &quot;9.abcdefg &quot;\na[2] = &quot;10.haadfagada &quot;\na[3] = &quot;11.fsfdfare&quot;\n</code></pre>\n<p>How can I get the results I want?</p>\n"},{"tags":["java","compiler-errors","dependencies","classnotfoundexception","implementation"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1680169145,"post_id":75886511,"comment_id":133853594,"body_markdown":"have you tried adding a dependency to that lib/class?","body":"have you tried adding a dependency to that lib/class?"},{"owner":{"account_id":28166685,"reputation":1,"user_id":21525785,"display_name":"yuciena"},"score":0,"creation_date":1680169580,"post_id":75886511,"comment_id":133853704,"body_markdown":"@Stultuske it should find all its dependencies via the build.gradle file in my api folder. Here all dependencies are listed which are needed for the project. When I look at this file it includes the org.eclipse.jetty.server dependency. So, I don&#39;t understand why it can not be found","body":"@Stultuske it should find all its dependencies via the build.gradle file in my api folder. Here all dependencies are listed which are needed for the project. When I look at this file it includes the org.eclipse.jetty.server dependency. So, I don&#39;t understand why it can not be found"}],"owner":{"account_id":28166685,"reputation":1,"user_id":21525785,"display_name":"yuciena"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680169119,"creation_date":1680169083,"question_id":75886511,"body_markdown":"I got this assignment and received a project which has an implementation for a front-end and the assignment is to connect it with my own back-end implementation. It&#39;s a gradle project that uses Angular to connect the back- and the front-end. Now that I try to run/build the project I receive some errors which seem to come from not being able to find certain dependencies. However I don&#39;t know why and how to fix it, can anyone help me out?\r\n\r\nThis is the error:\r\n\r\n    mrt. 30, 2023 11:04:39 A.M. org.glassfish.jersey.server.wadl.WadlFeature configure\r\n    WARNING: JAXBContext implementation could not be found. WADL feature is disabled.\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/eclipse/jetty/server/handler/ContextHandler$Context\r\n            at myproject.App.createStatefulContext(App.java:36)\r\n            at myproject.App.main(App.java:18)\r\n    Caused by: java.lang.ClassNotFoundException: org.eclipse.jetty.server.handler.ContextHandler$Context\r\n            at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n            at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n            ... 2 more\r\n\r\nI tried to find info about the dependencies, maybe they turn out to be out-dated or something, but could not find such a thing...\r\n","title":"When building gradle project I get an error: dependencies (implementation) not found, and I can&#39;t figure out why?","body":"<p>I got this assignment and received a project which has an implementation for a front-end and the assignment is to connect it with my own back-end implementation. It's a gradle project that uses Angular to connect the back- and the front-end. Now that I try to run/build the project I receive some errors which seem to come from not being able to find certain dependencies. However I don't know why and how to fix it, can anyone help me out?</p>\n<p>This is the error:</p>\n<pre><code>mrt. 30, 2023 11:04:39 A.M. org.glassfish.jersey.server.wadl.WadlFeature configure\nWARNING: JAXBContext implementation could not be found. WADL feature is disabled.\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/eclipse/jetty/server/handler/ContextHandler$Context\n        at myproject.App.createStatefulContext(App.java:36)\n        at myproject.App.main(App.java:18)\nCaused by: java.lang.ClassNotFoundException: org.eclipse.jetty.server.handler.ContextHandler$Context\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        ... 2 more\n</code></pre>\n<p>I tried to find info about the dependencies, maybe they turn out to be out-dated or something, but could not find such a thing...</p>\n"},{"tags":["java","character-encoding","single-sign-on","keycloak","google-signin"],"answers":[{"tags":[],"owner":{"account_id":9773964,"reputation":1324,"user_id":7244716,"accept_rate":88,"display_name":"valijon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1513315157,"creation_date":1513315157,"answer_id":47826201,"question_id":47787368,"body_markdown":"The only solution I could find was to put default encoding in JVM.\r\n\r\nAdd default encoding to **standalone.conf**\r\n\r\n&gt; JAVA_OPTS=&quot;$JAVA_OTPS -Dfile.encoding=UTF8&quot;","title":"keycloak: google login character encoding error","body":"<p>The only solution I could find was to put default encoding in JVM.</p>\n\n<p>Add default encoding to <strong>standalone.conf</strong></p>\n\n<blockquote>\n  <p>JAVA_OPTS=\"$JAVA_OTPS -Dfile.encoding=UTF8\"</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":14868083,"reputation":196,"user_id":10736451,"display_name":"szachMati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634306774,"creation_date":1634306774,"answer_id":69586027,"question_id":47787368,"body_markdown":"Try read this internationalization issues in official documentation. I also had troubles with non-ascii chars and it helped ;)\r\nhttps://www.keycloak.org/docs/latest/server_development/#internationalization\r\n\r\nAnd maybe you should see your keycloack settings in keycloack client like here. I assume that your language need to be allowed here. \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f9375.png","title":"keycloak: google login character encoding error","body":"<p>Try read this internationalization issues in official documentation. I also had troubles with non-ascii chars and it helped ;)\n<a href=\"https://www.keycloak.org/docs/latest/server_development/#internationalization\" rel=\"nofollow noreferrer\">https://www.keycloak.org/docs/latest/server_development/#internationalization</a></p>\n<p>And maybe you should see your keycloack settings in keycloack client like here. I assume that your language need to be allowed here.\n<a href=\"https://i.stack.imgur.com/f9375.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f9375.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":8970623,"reputation":3935,"user_id":6689249,"display_name":"aiven"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680168550,"creation_date":1680168550,"answer_id":75886433,"question_id":47787368,"body_markdown":"I had an issue when localising my custom keycloak provider. \r\n\r\nPutting `# encoding: utf-8` on top of every `messages_XX.properties` solved the problem.","title":"keycloak: google login character encoding error","body":"<p>I had an issue when localising my custom keycloak provider.</p>\n<p>Putting <code># encoding: utf-8</code> on top of every <code>messages_XX.properties</code> solved the problem.</p>\n"}],"owner":{"account_id":9773964,"reputation":1324,"user_id":7244716,"accept_rate":88,"display_name":"valijon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1905,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":47826201,"answer_count":3,"score":2,"last_activity_date":1680168550,"creation_date":1513148932,"question_id":47787368,"body_markdown":"We are using **keycloak standalone** server to authenticate our users.\r\nSocial IDPs: google and facebook login work perfectly, except the following mistake:\r\n\r\n&gt; If on your google account first and last names are written with **non-ascii\r\n&gt; characters**, keycloak doesn&#39;t read them properly.\r\n\r\nFor instance: Name on the google account is *Собиров Валижон*.\r\nWhat I get on keycloak is **РЎРѕР&#177;РёСЂРѕРІ Р’Р&#176;Р&#187;РёР&#182;РѕРЅ**\r\n\r\nSteps to reproduce the issue:\r\n\r\n - add test realm and client \r\n - add google identity provider settings\r\n - login with google user who has non-ascii chars in first or lastname (in my\r\n   case Собиров Валижон)\r\n - see keycloak test realms user database\r\n\r\n\r\nIt would be appreciated if someone could solve the issue.\r\n\r\n\r\n[screenshot from keycloak account][1]\r\n\r\n[screenshot from google account][2]\r\n\r\n\r\n\r\n  [1]: https://drive.google.com/file/d/12BFeK66S646FeVS9hmf1LHvkkaSk7A9q/view\r\n  [2]: https://drive.google.com/file/d/1-B57ohP7jTa7xRv5ZvH9EoKXcooDJJeh/view","title":"keycloak: google login character encoding error","body":"<p>We are using <strong>keycloak standalone</strong> server to authenticate our users.\nSocial IDPs: google and facebook login work perfectly, except the following mistake:</p>\n\n<blockquote>\n  <p>If on your google account first and last names are written with <strong>non-ascii\n  characters</strong>, keycloak doesn't read them properly.</p>\n</blockquote>\n\n<p>For instance: Name on the google account is <em>Собиров Валижон</em>.\nWhat I get on keycloak is <strong>РЎРѕР±РёСЂРѕРІ Р’Р°Р»РёР¶РѕРЅ</strong></p>\n\n<p>Steps to reproduce the issue:</p>\n\n<ul>\n<li>add test realm and client </li>\n<li>add google identity provider settings</li>\n<li>login with google user who has non-ascii chars in first or lastname (in my\ncase Собиров Валижон)</li>\n<li>see keycloak test realms user database</li>\n</ul>\n\n<p>It would be appreciated if someone could solve the issue.</p>\n\n<p><a href=\"https://drive.google.com/file/d/12BFeK66S646FeVS9hmf1LHvkkaSk7A9q/view\" rel=\"nofollow noreferrer\">screenshot from keycloak account</a></p>\n\n<p><a href=\"https://drive.google.com/file/d/1-B57ohP7jTa7xRv5ZvH9EoKXcooDJJeh/view\" rel=\"nofollow noreferrer\">screenshot from google account</a></p>\n"},{"tags":["java","opensearch","java-client","point-in-time"],"comments":[{"owner":{"account_id":20766341,"reputation":88,"user_id":15250248,"display_name":"leguan"},"score":0,"creation_date":1679923961,"post_id":75856305,"comment_id":133802979,"body_markdown":"Hey! Could you please provide the code you currently have to make the request?","body":"Hey! Could you please provide the code you currently have to make the request?"},{"owner":{"account_id":27962495,"reputation":1,"user_id":21353960,"display_name":"CodingPolygolots"},"score":0,"creation_date":1679929254,"post_id":75856305,"comment_id":133804704,"body_markdown":"I have added code snippet in the question","body":"I have added code snippet in the question"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679933457,"post_id":75856305,"comment_id":133805994,"body_markdown":"Adding the error message, stacktrace and code for creation of the client to the question would be helpful.","body":"Adding the error message, stacktrace and code for creation of the client to the question would be helpful."}],"owner":{"account_id":27962495,"reputation":1,"user_id":21353960,"display_name":"CodingPolygolots"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680168264,"creation_date":1679923434,"question_id":75856305,"body_markdown":"I have to call Point in Time \r\nlike \r\n\r\n    /&lt;target_indexes&gt;/_search/point_in_time?keep_alive=1h&amp;routing=&amp;expand_wildcards=&amp;preference=\r\n\r\nusing java client API of OpenSearch\r\n\r\n\r\nI have tried to create the client using the java client API.\r\nThough after that I want to create request object but there is no help available for this.\r\n\r\n     String endPoint = &quot;/movie-index/_search/point_in_time&quot;;\r\n     Request request = new Request(&quot;POST&quot;, endPoint);\r\n     request.addParameter(&quot;keep_alive&quot;,1h);\r\n    Response response = client.getLowLevelClient().performRequest(request);\r\n\r\nthe above code I was used in java rest high level client..\r\n\r\n","title":"How to connect Point in Time api with opensearch using Java client for performRequest()","body":"<p>I have to call Point in Time\nlike</p>\n<pre><code>/&lt;target_indexes&gt;/_search/point_in_time?keep_alive=1h&amp;routing=&amp;expand_wildcards=&amp;preference=\n</code></pre>\n<p>using java client API of OpenSearch</p>\n<p>I have tried to create the client using the java client API.\nThough after that I want to create request object but there is no help available for this.</p>\n<pre><code> String endPoint = &quot;/movie-index/_search/point_in_time&quot;;\n Request request = new Request(&quot;POST&quot;, endPoint);\n request.addParameter(&quot;keep_alive&quot;,1h);\nResponse response = client.getLowLevelClient().performRequest(request);\n</code></pre>\n<p>the above code I was used in java rest high level client..</p>\n"},{"tags":["java","spring-boot","hazelcast","distributed","resource-cleanup"],"owner":{"account_id":5157545,"reputation":1,"user_id":4130347,"display_name":"Ranjeet Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680168075,"creation_date":1680168075,"question_id":75886350,"body_markdown":"I have a hazelcast Client Server architecture.\r\nThe Java application having hazelcast client is on cloud and clustered i.e. multiple instances of it are running.\r\n\r\nHow to execute a clean-up task only from the first hazelcast client?\r\n\r\nI know how to achieve this in embedded Hazelcast with members.\r\nAlso came to know this article: https://github.com/hazelcast/hazelcast-nodejs-client/issues/484.\r\n\r\nDon&#39;t want to make application functionality dependent on management center.\r\nAny other approach aside hazelcast is also welcome. ","title":"Execute a code for only first clustered client in a Hazelcast Client Server architecture","body":"<p>I have a hazelcast Client Server architecture.\nThe Java application having hazelcast client is on cloud and clustered i.e. multiple instances of it are running.</p>\n<p>How to execute a clean-up task only from the first hazelcast client?</p>\n<p>I know how to achieve this in embedded Hazelcast with members.\nAlso came to know this article: <a href=\"https://github.com/hazelcast/hazelcast-nodejs-client/issues/484\" rel=\"nofollow noreferrer\">https://github.com/hazelcast/hazelcast-nodejs-client/issues/484</a>.</p>\n<p>Don't want to make application functionality dependent on management center.\nAny other approach aside hazelcast is also welcome.</p>\n"},{"tags":["java","networking","network-programming","inetaddress"],"comments":[{"owner":{"account_id":188919,"reputation":384,"user_id":427931,"accept_rate":75,"display_name":"Pixel"},"score":0,"creation_date":1514227639,"post_id":37755148,"comment_id":82911936,"body_markdown":"Duplicate of https://stackoverflow.com/questions/1238963/query-arp-cache-to-get-mac-id (and numerous others).","body":"Duplicate of <a href=\"https://stackoverflow.com/questions/1238963/query-arp-cache-to-get-mac-id\" title=\"query arp cache to get mac id\">stackoverflow.com/questions/1238963/&hellip;</a> (and numerous others)."}],"answers":[{"tags":[],"owner":{"account_id":1649004,"reputation":3755,"user_id":1519939,"accept_rate":80,"display_name":"Dmitry Poroh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465763527,"creation_date":1465763527,"answer_id":37778802,"question_id":37755148,"body_markdown":"To request MAC (Hardware) address you need to make ARP lookup.\r\n\r\nAnswer to appropriate [question][1] may help you.\r\nThere are several ways defined there:\r\n\r\n - arp -a lookup (UNIX-specific way)\r\n - SNMP request\r\n - Send your own ARP request packet\r\n\r\nAnyway you can get MAC address that belongs only to devices within your local network.\r\n\r\n  [1]: https://stackoverflow.com/questions/1238963/query-arp-cache-to-get-mac-id","title":"How to get MAC Address of a network device using java","body":"<p>To request MAC (Hardware) address you need to make ARP lookup.</p>\n\n<p>Answer to appropriate <a href=\"https://stackoverflow.com/questions/1238963/query-arp-cache-to-get-mac-id\">question</a> may help you.\nThere are several ways defined there:</p>\n\n<ul>\n<li>arp -a lookup (UNIX-specific way)</li>\n<li>SNMP request</li>\n<li>Send your own ARP request packet</li>\n</ul>\n\n<p>Anyway you can get MAC address that belongs only to devices within your local network.</p>\n"}],"owner":{"account_id":8300272,"reputation":1,"user_id":6239080,"display_name":"Iyad Zabalawi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1564,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680167940,"creation_date":1465583879,"question_id":37755148,"body_markdown":"I am trying to develop an open-source network monitoring application\r\nThe application scan the network to find all connected devices. It shows all IPs in the given range but the connected devices will appear with checked box (JCheckBox). I list the connected devices in a JTable with information about each device such as name or IP address using address.getHostName() and address.getHostAddress() -Methods in the class InetAddress-\r\nNow I am trying to get the physical address (MAC). I tried this code but the application shows the local device only; the devices (connected or disconnected) in the given IPs range did not appear.\r\n\r\n    byte[] mac = NetworkInterface.getByInetAddress(address).getHardwareAddress();\r\n    StringBuilder sb = new StringBuilder();\r\n    for (int i = 0; i &lt; mac.length; i++) {\r\n        sb.append(String.format(&quot;%02X%s&quot;, mac[i], (i &lt; mac.length - 1) ? &quot;-&quot; : &quot;&quot;));\r\n    }\r\n    String MAC = sb.toString();\r\n\r\n","title":"How to get MAC Address of a network device using java","body":"<p>I am trying to develop an open-source network monitoring application\nThe application scan the network to find all connected devices. It shows all IPs in the given range but the connected devices will appear with checked box (JCheckBox). I list the connected devices in a JTable with information about each device such as name or IP address using address.getHostName() and address.getHostAddress() -Methods in the class InetAddress-\nNow I am trying to get the physical address (MAC). I tried this code but the application shows the local device only; the devices (connected or disconnected) in the given IPs range did not appear.</p>\n\n<pre><code>byte[] mac = NetworkInterface.getByInetAddress(address).getHardwareAddress();\nStringBuilder sb = new StringBuilder();\nfor (int i = 0; i &lt; mac.length; i++) {\n    sb.append(String.format(\"%02X%s\", mac[i], (i &lt; mac.length - 1) ? \"-\" : \"\"));\n}\nString MAC = sb.toString();\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":27732706,"reputation":11,"user_id":21170903,"display_name":"spatil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4099,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680167850,"creation_date":1680167850,"question_id":75886314,"body_markdown":"I am hitting a GET api using resttemplate (spring boot service) but I facing the issue like **Getting the 308 Permanent Redirect from GET http://xxxxxx/api/xx/xx** \r\n\r\nIf I hit the same api using postman &amp; getting the proper response.\r\nSo I have tried to create the POJO based on the postman&#39;s response &amp; getting **Could not extract response: no suitable HttpMessageConverter found for response type [class NetworksResponse] and content type [text/html]** \r\n\r\nIf I change the response class as string then getting \r\n\r\n```\r\n&lt;html&gt;\r\n&lt;head&gt;&lt;title&gt;308 Permanent Redirect&lt;/title&gt;&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;center&gt;&lt;h1&gt;308 Permanent Redirect&lt;/h1&gt;&lt;/center&gt;\r\n&lt;hr&gt;&lt;center&gt;nginx&lt;/center&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\nI have tried multiple solution by adding \r\n```\r\n\r\n`\r\nMappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\r\n    converter.setSupportedMediaTypes(Collections.singletonList(MediaType.TEXT_HTML));\r\n    restTemplate.getMessageConverters().add(converter);`\r\n\r\n```\r\n\r\nthen I am getting **Error while extracting response for type [class java.lang.String] and content type [text/html]**\r\n\r\n\r\nNot sure why this is happening if the response is in text/html then after adding the converter why it showing? **Error while extracting response for type [class java.lang.String] and content type [text/html]**\r\n\r\n\r\n\r\nI am expecting Json response which can be mapped with the pojo that I have created.","title":"Getting the 308 Permanent Redirect from GET http://xxxxxx/api/xx/xx","body":"<p>I am hitting a GET api using resttemplate (spring boot service) but I facing the issue like <strong>Getting the 308 Permanent Redirect from GET http://xxxxxx/api/xx/xx</strong></p>\n<p>If I hit the same api using postman &amp; getting the proper response.\nSo I have tried to create the POJO based on the postman's response &amp; getting <strong>Could not extract response: no suitable HttpMessageConverter found for response type [class NetworksResponse] and content type [text/html]</strong></p>\n<p>If I change the response class as string then getting</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;&lt;title&gt;308 Permanent Redirect&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;\n&lt;center&gt;&lt;h1&gt;308 Permanent Redirect&lt;/h1&gt;&lt;/center&gt;\n&lt;hr&gt;&lt;center&gt;nginx&lt;/center&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I have tried multiple solution by adding</p>\n<pre><code>\n`\nMappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\n    converter.setSupportedMediaTypes(Collections.singletonList(MediaType.TEXT_HTML));\n    restTemplate.getMessageConverters().add(converter);`\n\n</code></pre>\n<p>then I am getting <strong>Error while extracting response for type [class java.lang.String] and content type [text/html]</strong></p>\n<p>Not sure why this is happening if the response is in text/html then after adding the converter why it showing? <strong>Error while extracting response for type [class java.lang.String] and content type [text/html]</strong></p>\n<p>I am expecting Json response which can be mapped with the pojo that I have created.</p>\n"},{"tags":["java","spring-boot","design-patterns"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1680157261,"post_id":75884704,"comment_id":133850837,"body_markdown":"You can use AOP for this.","body":"You can use AOP for this."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":5,"creation_date":1680157292,"post_id":75884704,"comment_id":133850842,"body_markdown":"Just call `sendSMS()` in both of them. Seriously, this is way too little information to provide any meaningful patterns. Also, don&#39;t look for patterns where they might not be needed - i.e. unless calling `sendSMS()` in each of those methods is a problem, do the simple thing. If it is a problem then please state why and any constraints you have.","body":"Just call <code>sendSMS()</code> in both of them. Seriously, this is way too little information to provide any meaningful patterns. Also, don&#39;t look for patterns where they might not be needed - i.e. unless calling <code>sendSMS()</code> in each of those methods is a problem, do the simple thing. If it is a problem then please state why and any constraints you have."},{"owner":{"account_id":8661253,"reputation":1840,"user_id":6483580,"display_name":"Raj Saraogi"},"score":0,"creation_date":1680162305,"post_id":75884704,"comment_id":133851944,"body_markdown":"@Thomas I can&#39;t call the same method in both as suppose if add new method then at time developer will be responsible to call the function and if he/she misses then this sendSMS won&#39;t be send","body":"@Thomas I can&#39;t call the same method in both as suppose if add new method then at time developer will be responsible to call the function and if he/she misses then this sendSMS won&#39;t be send"},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1680162719,"post_id":75884704,"comment_id":133852041,"body_markdown":"please provide the code in which you are calling those methods. Is there anything specific? The easiest and most clear would be just to add a call to sendSMS() method whenever its needed","body":"please provide the code in which you are calling those methods. Is there anything specific? The easiest and most clear would be just to add a call to sendSMS() method whenever its needed"}],"answers":[{"tags":[],"owner":{"account_id":27941358,"reputation":36,"user_id":21337312,"display_name":"Levin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680167604,"creation_date":1680167604,"answer_id":75886271,"question_id":75884704,"body_markdown":"As most of the developers pointed out it&#39;s really easy just to add sendSMS method in individual methods.\r\n\r\nReason being we are adding layers of complexity that can be avoided for the sake of simplicity.\r\n\r\nBeing said that there&#39;s is no alternative to maintaining the list of methods upon which sendSMS will be triggered if you go with AOP&#39;s way of doing things.\r\n\r\nAnother alternative is to use the Observer pattern where in markPaymentPaidWithCreditCard and markPaymentPaidWithCash will be the observers which in turn calls your paymentComplete action.\r\n\r\nPseudocode looks like this:\r\n\r\n    paymentObserver obs\r\n    \r\n    markPaymentPaidWithCreditCard(String cardNumber, Long amount) {\r\n    obs.playmentDone()\r\n    }\r\n    \r\n    markPaymentPaidWithCash(Long amount){\r\n    obs.playmentDone()\r\n    }\r\n    \r\n    concrete class Smsservice implements paymentObserver {\r\n    void playmentDone(){\r\n    // send sms over here\r\n     }\r\n    }\r\n\r\nWhich is the same as adding sendSMS method individually in those methods. All in all design pattern makes it look smart by achieving almost the same result.\r\n\r\nHope this helps, Thanks.","title":"How to call a common function after two separate functions called in Java?","body":"<p>As most of the developers pointed out it's really easy just to add sendSMS method in individual methods.</p>\n<p>Reason being we are adding layers of complexity that can be avoided for the sake of simplicity.</p>\n<p>Being said that there's is no alternative to maintaining the list of methods upon which sendSMS will be triggered if you go with AOP's way of doing things.</p>\n<p>Another alternative is to use the Observer pattern where in markPaymentPaidWithCreditCard and markPaymentPaidWithCash will be the observers which in turn calls your paymentComplete action.</p>\n<p>Pseudocode looks like this:</p>\n<pre><code>paymentObserver obs\n\nmarkPaymentPaidWithCreditCard(String cardNumber, Long amount) {\nobs.playmentDone()\n}\n\nmarkPaymentPaidWithCash(Long amount){\nobs.playmentDone()\n}\n\nconcrete class Smsservice implements paymentObserver {\nvoid playmentDone(){\n// send sms over here\n }\n}\n</code></pre>\n<p>Which is the same as adding sendSMS method individually in those methods. All in all design pattern makes it look smart by achieving almost the same result.</p>\n<p>Hope this helps, Thanks.</p>\n"}],"owner":{"account_id":8661253,"reputation":1840,"user_id":6483580,"display_name":"Raj Saraogi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680167604,"creation_date":1680157105,"question_id":75884704,"body_markdown":"Hi I have a two functions like\r\n1) markPaymentPaidWithCreditCard(String cardNumber, Long amount)\r\n2) markPaymentPaidWithCash(Long amount)\r\n\r\nNow if any of these functions executed I need to call sendSMS() function which design pattern should I use and what is best possible way to achieve this.","title":"How to call a common function after two separate functions called in Java?","body":"<p>Hi I have a two functions like</p>\n<ol>\n<li>markPaymentPaidWithCreditCard(String cardNumber, Long amount)</li>\n<li>markPaymentPaidWithCash(Long amount)</li>\n</ol>\n<p>Now if any of these functions executed I need to call sendSMS() function which design pattern should I use and what is best possible way to achieve this.</p>\n"},{"tags":["java","jakarta-mail"],"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":11,"creation_date":1275566794,"post_id":2965251,"comment_id":3024555,"body_markdown":"@bobby: The base64 encoded value of your password was visible in the original post. I&#39;ve removed it one hour ago, but it&#39;s still visible in edit history. I strongly recommend you to change your Gmail password before a malicious hacker may break your Gmail account.","body":"@bobby: The base64 encoded value of your password was visible in the original post. I&#39;ve removed it one hour ago, but it&#39;s still visible in edit history. I strongly recommend you to change your Gmail password before a malicious hacker may break your Gmail account."}],"answers":[{"comments":[{"owner":{"account_id":211018,"reputation":2289,"user_id":462951,"accept_rate":73,"display_name":"simplyblue"},"score":0,"creation_date":1275566604,"post_id":2965433,"comment_id":3024530,"body_markdown":"hhey thanks...it worked..!!can u tell me how to send a mail using jsp..!!im trying to implement &#39;forgot password&#39; in a website are there any ideas and suggessions from u to implement this..!!","body":"hhey thanks...it worked..!!can u tell me how to send a mail using jsp..!!im trying to implement &#39;forgot password&#39; in a website are there any ideas and suggessions from u to implement this..!!"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1275567304,"post_id":2965433,"comment_id":3024619,"body_markdown":"Just create a servlet class which does the task and create a HTML form in JSP which submits to the URL where this servlet is listening on. In the servlet method you can just write and call real Java code the usual way. Learn more about JSP/Servlet here: http://courses.coreservlets.com/Course-Materials/csajsp2.html","body":"Just create a servlet class which does the task and create a HTML form in JSP which submits to the URL where this servlet is listening on. In the servlet method you can just write and call real Java code the usual way. Learn more about JSP/Servlet here: <a href=\"http://courses.coreservlets.com/Course-Materials/csajsp2.html\" rel=\"nofollow noreferrer\">courses.coreservlets.com/Course-Materials/csajsp2.html</a>"},{"owner":{"display_name":"user11176692"},"score":0,"creation_date":1553087766,"post_id":2965433,"comment_id":97254628,"body_markdown":"@simplyblue hey can you please help me out,how it worked for you,i am struggling with the same issue,please help","body":"@simplyblue hey can you please help me out,how it worked for you,i am struggling with the same issue,please help"}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1275564213,"creation_date":1275564213,"answer_id":2965433,"question_id":2965251,"body_markdown":"The given code snippet works fine on my Gmail account, so this problem lies somewhere else. Did you follow [the link given in the error message][1]? It contains the following hints:\r\n\r\n&gt; * Make sure that you&#39;ve entered your full email address (e.g. username@gmail.com)\r\n&gt; * Re-enter your password to ensure that it&#39;s correct. Keep in mind that passwords are case-sensitive.\r\n&gt; * Make sure your mail client isn&#39;t set to check for new mail too often. If your mail client checks for new messages more than once every 10 minutes, your client might repeatedly request your username and password. \r\n\r\nEspecially the last point is important. Google is very strict in this. If you&#39;re trying to connect Gmail for example more than 10 times in a minute programmatically, then you may already get blocked. Have a bit of patience, after some time it will get unblocked.\r\n\r\nIf you&#39;d like more freedom in sending mails, I recommend to look for a dedicated mail host or to setup your own mail server, such as Apache James or Microsoft Exchange. I&#39;ve already [answered this in detail][2] in one of your previous questions.\r\n\r\n\r\n  [1]: http://mail.google.com/support/bin/answer.py?answer=14257\r\n  [2]: https://stackoverflow.com/questions/2957299/how-do-i-configure-a-mail-server-for-use-with-javamail/2957332#2957332","title":"JavaMail with Gmail: 535-5.7.1 Username and Password not accepted","body":"<p>The given code snippet works fine on my Gmail account, so this problem lies somewhere else. Did you follow <a href=\"http://mail.google.com/support/bin/answer.py?answer=14257\" rel=\"noreferrer\">the link given in the error message</a>? It contains the following hints:</p>\n\n<blockquote>\n  <ul>\n  <li>Make sure that you've entered your full email address (e.g. username@gmail.com)</li>\n  <li>Re-enter your password to ensure that it's correct. Keep in mind that passwords are case-sensitive.</li>\n  <li>Make sure your mail client isn't set to check for new mail too often. If your mail client checks for new messages more than once every 10 minutes, your client might repeatedly request your username and password. </li>\n  </ul>\n</blockquote>\n\n<p>Especially the last point is important. Google is very strict in this. If you're trying to connect Gmail for example more than 10 times in a minute programmatically, then you may already get blocked. Have a bit of patience, after some time it will get unblocked.</p>\n\n<p>If you'd like more freedom in sending mails, I recommend to look for a dedicated mail host or to setup your own mail server, such as Apache James or Microsoft Exchange. I've already <a href=\"https://stackoverflow.com/questions/2957299/how-do-i-configure-a-mail-server-for-use-with-javamail/2957332#2957332\">answered this in detail</a> in one of your previous questions.</p>\n"},{"tags":[],"owner":{"account_id":253367,"reputation":5057,"user_id":532008,"accept_rate":64,"display_name":"Jifeng Zhang"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1356075696,"creation_date":1356075696,"answer_id":13986154,"question_id":2965251,"body_markdown":"I encountered the exact same problem, for me the reason is I have turned on [2-step verification][1] on my gmail account.\r\n\r\nAfter generating a new application-specific password and use that in my java application, this &quot;535 5.7.1&quot; issue is gone.\r\n\r\nYou can generate a new application-specific password following this [official google guide][2].\r\n\r\n\r\n  [1]: http://support.google.com/accounts/bin/answer.py?hl=en&amp;answer=180744\r\n  [2]: http://support.google.com/accounts/bin/answer.py?hl=en&amp;answer=185833","title":"JavaMail with Gmail: 535-5.7.1 Username and Password not accepted","body":"<p>I encountered the exact same problem, for me the reason is I have turned on <a href=\"http://support.google.com/accounts/bin/answer.py?hl=en&amp;answer=180744\" rel=\"noreferrer\">2-step verification</a> on my gmail account.</p>\n\n<p>After generating a new application-specific password and use that in my java application, this \"535 5.7.1\" issue is gone.</p>\n\n<p>You can generate a new application-specific password following this <a href=\"http://support.google.com/accounts/bin/answer.py?hl=en&amp;answer=185833\" rel=\"noreferrer\">official google guide</a>.</p>\n"},{"tags":[],"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509765573,"creation_date":1509765573,"answer_id":47107037,"question_id":2965251,"body_markdown":"I have the same error message and this is how I have solved the issue, \r\n\r\nCreate an app password: here is how we can generate an app password, \r\n\r\n    1. Visit your App passwords page. You may be asked to sign in to your Google Account.\r\n    \r\n    2. At the bottom, click Select app and choose the app you’re using.\r\n    Click Select device and choose the device you’re using.\r\n    \r\n    3. Select Generate.\r\n    \r\n    4. Follow the instructions to enter the App password (the 16 character code in the yellow bar) on your device.\r\n    \r\n    5. Select Done.\r\n\r\n\r\nI worked for a  Spring boot app and I get the app password say, `sadsadaffferere` for the email address, `xyz@gmail.com`. So, I need to configure the app properties like the following, \r\n\r\n    # the email settings\r\n    # ------------------\r\n    spring.mail.host=smtp.gmail.com\r\n    spring.mail.username=xyz@gmail.com\r\n    spring.mail.password=sadsadaffferere\r\n    spring.mail.properties.mail.smtp.auth=true\r\n    spring.mail.properties.mail.smtp.socketFactory.port=465\r\n    spring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\r\n    spring.mail.properties.mail.smtp.socketFactory.fallback=false\r\n    support.email=xyz@gmail.com\r\n\r\n\r\nEverything works fine afterwards ","title":"JavaMail with Gmail: 535-5.7.1 Username and Password not accepted","body":"<p>I have the same error message and this is how I have solved the issue, </p>\n\n<p>Create an app password: here is how we can generate an app password, </p>\n\n<pre><code>1. Visit your App passwords page. You may be asked to sign in to your Google Account.\n\n2. At the bottom, click Select app and choose the app you’re using.\nClick Select device and choose the device you’re using.\n\n3. Select Generate.\n\n4. Follow the instructions to enter the App password (the 16 character code in the yellow bar) on your device.\n\n5. Select Done.\n</code></pre>\n\n<p>I worked for a  Spring boot app and I get the app password say, <code>sadsadaffferere</code> for the email address, <code>xyz@gmail.com</code>. So, I need to configure the app properties like the following, </p>\n\n<pre><code># the email settings\n# ------------------\nspring.mail.host=smtp.gmail.com\nspring.mail.username=xyz@gmail.com\nspring.mail.password=sadsadaffferere\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.socketFactory.port=465\nspring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\nspring.mail.properties.mail.smtp.socketFactory.fallback=false\nsupport.email=xyz@gmail.com\n</code></pre>\n\n<p>Everything works fine afterwards </p>\n"},{"comments":[{"owner":{"account_id":3502717,"reputation":574,"user_id":2929086,"accept_rate":67,"display_name":"Munene Ndereba"},"score":1,"creation_date":1560156968,"post_id":54771141,"comment_id":99630588,"body_markdown":"thanks, this worked for me. I thought the issue was with my code and username and password; but this actually solved the problem. i think Gmail has been updating security configs.","body":"thanks, this worked for me. I thought the issue was with my code and username and password; but this actually solved the problem. i think Gmail has been updating security configs."},{"owner":{"account_id":3062593,"reputation":5406,"user_id":2594961,"accept_rate":88,"display_name":"yaylitzis"},"score":3,"creation_date":1652951190,"post_id":54771141,"comment_id":127733727,"body_markdown":"This solution unfortunately will be outdated soon as Google announced that &quot;On May 30 2022 Google will no longer support the use of third-party apps or devices which ask you to sign in to your Google Account using only your username and password. Instead, you’ll need to sign in using Sign in with Google or other more secure technologies, like OAuth 2.0. Learn more&quot;. Practically, the option Less Secure apps will be unavailable from May 30 and later..","body":"This solution unfortunately will be outdated soon as Google announced that &quot;On May 30 2022 Google will no longer support the use of third-party apps or devices which ask you to sign in to your Google Account using only your username and password. Instead, you’ll need to sign in using Sign in with Google or other more secure technologies, like OAuth 2.0. Learn more&quot;. Practically, the option Less Secure apps will be unavailable from May 30 and later.."}],"tags":[],"owner":{"account_id":284362,"reputation":3807,"user_id":582421,"accept_rate":21,"display_name":"Gautam"},"comment_count":2,"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1550594797,"creation_date":1550594797,"answer_id":54771141,"question_id":2965251,"body_markdown":"I had same issue :\r\nI refer this [link][1], I have followed below steps it worked for me.  \r\n\r\nBy default Gmail account is highly secured. When we use gmail smtp from non gmail tool, email is blocked.  To test in our local environment, make your gmail account less secure as\r\n\r\n1.\tLogin to Gmail. \r\n2.\tAccess the URL as https://www.google.com/settings/security/lesssecureapps \r\n3.\tSelect &quot;Turn on&quot;\r\n\r\n\r\n  [1]: https://www.concretepage.com/questions/326","title":"JavaMail with Gmail: 535-5.7.1 Username and Password not accepted","body":"<p>I had same issue :\nI refer this <a href=\"https://www.concretepage.com/questions/326\" rel=\"noreferrer\">link</a>, I have followed below steps it worked for me.  </p>\n\n<p>By default Gmail account is highly secured. When we use gmail smtp from non gmail tool, email is blocked.  To test in our local environment, make your gmail account less secure as</p>\n\n<ol>\n<li>Login to Gmail. </li>\n<li>Access the URL as <a href=\"https://www.google.com/settings/security/lesssecureapps\" rel=\"noreferrer\">https://www.google.com/settings/security/lesssecureapps</a> </li>\n<li>Select \"Turn on\"</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7110139,"reputation":141,"user_id":5438383,"display_name":"Ashwath"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1559625912,"creation_date":1551459584,"answer_id":54949185,"question_id":2965251,"body_markdown":"I faced the same problem although my username and password were correct, but after some research, I was able to send email through applications by enabling the ***Less secure app access*** option on my Gmail account. You can find this feature under [security][1] option in the left menu.\r\n\r\nRelated links:\r\n\r\n - [I can&#39;t sign in to my email client][3]\r\n - [Enable access to less secure applications][2]\r\n\r\n\r\n  [1]: https://myaccount.google.com/security\r\n  [2]: https://support.google.com/accounts/answer/6010255\r\n  [3]: https://support.google.com/mail/answer/7126229?visit_id=636952208424980116-3762560008&amp;rd=1#cantsignin","title":"JavaMail with Gmail: 535-5.7.1 Username and Password not accepted","body":"<p>I faced the same problem although my username and password were correct, but after some research, I was able to send email through applications by enabling the <strong><em>Less secure app access</em></strong> option on my Gmail account. You can find this feature under <a href=\"https://myaccount.google.com/security\" rel=\"noreferrer\">security</a> option in the left menu.</p>\n\n<p>Related links:</p>\n\n<ul>\n<li><a href=\"https://support.google.com/mail/answer/7126229?visit_id=636952208424980116-3762560008&amp;rd=1#cantsignin\" rel=\"noreferrer\">I can't sign in to my email client</a></li>\n<li><a href=\"https://support.google.com/accounts/answer/6010255\" rel=\"noreferrer\">Enable access to less secure applications</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15268910,"reputation":81,"user_id":11016661,"display_name":"Gaurav Dalal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571137339,"creation_date":1571137339,"answer_id":58393165,"question_id":2965251,"body_markdown":"If the same credential was working earlier and it stopped working then the primary reason for this problem is password mismatch/changed on gmail client and not updated in Jenkins or other CI server. If that is not the case then check for reasons mentioned by @BalusC","title":"JavaMail with Gmail: 535-5.7.1 Username and Password not accepted","body":"<p>If the same credential was working earlier and it stopped working then the primary reason for this problem is password mismatch/changed on gmail client and not updated in Jenkins or other CI server. If that is not the case then check for reasons mentioned by @BalusC</p>\n"},{"comments":[{"owner":{"account_id":3246882,"reputation":2342,"user_id":2738172,"display_name":"walkmn"},"score":0,"creation_date":1654181954,"post_id":62803157,"comment_id":128034811,"body_markdown":"Right, but from May 30, 2022, ​​Google no longer supports this option","body":"Right, but from May 30, 2022, ​​Google no longer supports this option"}],"tags":[],"owner":{"account_id":11896372,"reputation":182,"user_id":8705653,"display_name":"Fakipo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594240173,"creation_date":1594240173,"answer_id":62803157,"question_id":2965251,"body_markdown":"You need to turn on the &#39;less secure apps allowed&#39; in gmail settings.","title":"JavaMail with Gmail: 535-5.7.1 Username and Password not accepted","body":"<p>You need to turn on the 'less secure apps allowed' in gmail settings.</p>\n"},{"tags":[],"owner":{"account_id":25975701,"reputation":1,"user_id":19690184,"display_name":"manjuanth s"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659606195,"creation_date":1659606195,"answer_id":73233679,"question_id":2965251,"body_markdown":"i turned off antivirus and enabled less secure app in gmail, but now google has disabled this option, for that to work you need to do two steps verification and genetare 16 digit password and paste in application.properties replace this 16 digit password.","title":"JavaMail with Gmail: 535-5.7.1 Username and Password not accepted","body":"<p>i turned off antivirus and enabled less secure app in gmail, but now google has disabled this option, for that to work you need to do two steps verification and genetare 16 digit password and paste in application.properties replace this 16 digit password.</p>\n"},{"tags":[],"owner":{"account_id":8659601,"reputation":865,"user_id":6482564,"display_name":"Manas Kumar Maharana"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1663404296,"creation_date":1663404296,"answer_id":73753430,"question_id":2965251,"body_markdown":"**Now, Google not supported Less Secure Apps so we are getting this issue.\r\nYou follow bellow steps to resolve your Authentication issue during send mail using SMTP.**\r\n\r\n1 - Enable 2-step Verification in your mail  \r\n2 - Once you enabled above, you will able to see App Passwords option in same Security tab  \r\n3 - Now generate App Password for Other(Custom)  \r\n4 - Use this generated password in place of your gmail password in your code.\r\n\r\nEnjoy :)","title":"JavaMail with Gmail: 535-5.7.1 Username and Password not accepted","body":"<p><strong>Now, Google not supported Less Secure Apps so we are getting this issue.\nYou follow bellow steps to resolve your Authentication issue during send mail using SMTP.</strong></p>\n<p>1 - Enable 2-step Verification in your mail<br />\n2 - Once you enabled above, you will able to see App Passwords option in same Security tab<br />\n3 - Now generate App Password for Other(Custom)<br />\n4 - Use this generated password in place of your gmail password in your code.</p>\n<p>Enjoy :)</p>\n"}],"owner":{"account_id":211018,"reputation":2289,"user_id":462951,"accept_rate":73,"display_name":"simplyblue"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93938,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":2965433,"answer_count":9,"score":31,"last_activity_date":1680167290,"creation_date":1275562669,"question_id":2965251,"body_markdown":"I am receiving error when I try to send a mail using JavaMail API and I am sure that the username and password are 100% correct. \r\nThe Gmail account which I&#39;m connecting is an older account, because they say it takes time for it to work with new accounts.\r\n\r\nError being received:\r\n\r\n```java\r\nDEBUG SMTP RCVD: 535-5.7.1 Username and Password not accepted. Learn more at\r\n\r\n535 5.7.1 http://mail.google.com/support/bin/answer.py?answer=14257 x35sm3011668\r\nwfh.6\r\n\r\njavax.mail.SendFailedException: Sending failed;\r\n  nested exception is:\r\n        javax.mail.AuthenticationFailedException\r\n        at javax.mail.Transport.send0(Transport.java:218)\r\n        at javax.mail.Transport.send(Transport.java:80)\r\n        at Main.&lt;init&gt;(Main.java:41)\r\n        at Main.main(Main.java:51)\r\n```\r\n\r\n...and this is my code:\r\n\r\n```java\r\nimport javax.mail.*;\r\nimport javax.mail.internet.*;\r\nimport java.util.*;\r\n \r\npublic class Main\r\n{\r\n    String  d_email = &quot;abc@gmail.com&quot;,\r\n            d_password = &quot;pass&quot;,\r\n            d_host = &quot;smtp.gmail.com&quot;,\r\n            d_port  = &quot;465&quot;,\r\n            m_to = &quot;abc@gmail.com&quot;,\r\n            m_subject = &quot;Testing&quot;,\r\n            m_text = &quot;testing email.&quot;;\r\n    \r\n    public Main()\r\n    {\r\n        Properties props = new Properties();\r\n        props.put(&quot;mail.smtp.user&quot;, d_email);\r\n        props.put(&quot;mail.smtp.host&quot;, d_host);\r\n        props.put(&quot;mail.smtp.port&quot;, d_port);\r\n        props.put(&quot;mail.smtp.starttls.enable&quot;,&quot;true&quot;);\r\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.debug&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.socketFactory.port&quot;, d_port);\r\n        props.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n        props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\r\n \r\n        SecurityManager security = System.getSecurityManager();\r\n \r\n        try\r\n        {\r\n            Authenticator auth = new SMTPAuthenticator();\r\n            Session session = Session.getInstance(props, auth);\r\n            session.setDebug(true);\r\n            MimeMessage msg = new MimeMessage(session);\r\n            msg.setText(m_text);\r\n            msg.setSubject(m_subject);\r\n            msg.setFrom(new InternetAddress(d_email));\r\n            msg.addRecipient(Message.RecipientType.TO, new InternetAddress(m_to));\r\n            Transport.send(msg);\r\n        }\r\n        catch (Exception mex)\r\n        {\r\n            mex.printStackTrace();\r\n        } \r\n    }\r\n    \r\n    public static void main(String[] args)\r\n    {\r\n        Main blah = new Main();\r\n    }\r\n \r\n    private class SMTPAuthenticator extends javax.mail.Authenticator\r\n    {\r\n        public PasswordAuthentication getPasswordAuthentication()\r\n        {\r\n            return new PasswordAuthentication(d_email, d_password);\r\n        }\r\n    }\r\n}\r\n```","title":"JavaMail with Gmail: 535-5.7.1 Username and Password not accepted","body":"<p>I am receiving error when I try to send a mail using JavaMail API and I am sure that the username and password are 100% correct.\nThe Gmail account which I'm connecting is an older account, because they say it takes time for it to work with new accounts.</p>\n<p>Error being received:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DEBUG SMTP RCVD: 535-5.7.1 Username and Password not accepted. Learn more at\n\n535 5.7.1 http://mail.google.com/support/bin/answer.py?answer=14257 x35sm3011668\nwfh.6\n\njavax.mail.SendFailedException: Sending failed;\n  nested exception is:\n        javax.mail.AuthenticationFailedException\n        at javax.mail.Transport.send0(Transport.java:218)\n        at javax.mail.Transport.send(Transport.java:80)\n        at Main.&lt;init&gt;(Main.java:41)\n        at Main.main(Main.java:51)\n</code></pre>\n<p>...and this is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.mail.*;\nimport javax.mail.internet.*;\nimport java.util.*;\n \npublic class Main\n{\n    String  d_email = &quot;abc@gmail.com&quot;,\n            d_password = &quot;pass&quot;,\n            d_host = &quot;smtp.gmail.com&quot;,\n            d_port  = &quot;465&quot;,\n            m_to = &quot;abc@gmail.com&quot;,\n            m_subject = &quot;Testing&quot;,\n            m_text = &quot;testing email.&quot;;\n    \n    public Main()\n    {\n        Properties props = new Properties();\n        props.put(&quot;mail.smtp.user&quot;, d_email);\n        props.put(&quot;mail.smtp.host&quot;, d_host);\n        props.put(&quot;mail.smtp.port&quot;, d_port);\n        props.put(&quot;mail.smtp.starttls.enable&quot;,&quot;true&quot;);\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.debug&quot;, &quot;true&quot;);\n        props.put(&quot;mail.smtp.socketFactory.port&quot;, d_port);\n        props.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\n        props.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\n \n        SecurityManager security = System.getSecurityManager();\n \n        try\n        {\n            Authenticator auth = new SMTPAuthenticator();\n            Session session = Session.getInstance(props, auth);\n            session.setDebug(true);\n            MimeMessage msg = new MimeMessage(session);\n            msg.setText(m_text);\n            msg.setSubject(m_subject);\n            msg.setFrom(new InternetAddress(d_email));\n            msg.addRecipient(Message.RecipientType.TO, new InternetAddress(m_to));\n            Transport.send(msg);\n        }\n        catch (Exception mex)\n        {\n            mex.printStackTrace();\n        } \n    }\n    \n    public static void main(String[] args)\n    {\n        Main blah = new Main();\n    }\n \n    private class SMTPAuthenticator extends javax.mail.Authenticator\n    {\n        public PasswordAuthentication getPasswordAuthentication()\n        {\n            return new PasswordAuthentication(d_email, d_password);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm","data-structures","queue"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680165989,"creation_date":1680165989,"answer_id":75885984,"question_id":75884961,"body_markdown":"&gt; ...can&#39;t find any logical significance for the index 47 providing an exception since the array in 77 chars long\r\n\r\nNote that code challenge sites will run your code with different inputs one after the other. \r\n\r\nWhen you get an error saying *&quot;java.lang.ArrayIndexOutOfBoundsException: Index 47 out of bounds for length 47&quot;*, you can be absolutely sure that the array has a length of 47, not 77.\r\n\r\nYou may be confusing the value of `d` with the length of the array. `d` is the value to rotate the array by, and your code should deal well with cases where this `d` is **greater** than the last index of your array. In that case you&#39;ll run into this exception.\r\n\r\nTo avoid this error, first bring that value of `d` in range. It is clear that if you rotate the array by its length, you get the original array. So you can reduce `d` by that much until it is less than the size of the array. You can use the `%` operator for that. Put this at the start of your function:\r\n\r\n    d %= n;\r\n\r\nNow you&#39;ll no longer get the exception.\r\n\r\n## Another issue\r\n\r\nAfter the above fix you&#39;ll still get wrong results. A priority queue is not what you need here, because its `poll` method will provide you with values in order of priority (i.e. in this case by their value). This is not what you want. You&#39;ll want the values to come out in first-in-first-out order. For that you can use a linked list. So change your buffer to this:\r\n\r\n    Queue&lt;Integer&gt; buffer = new LinkedList&lt;Integer&gt;();\r\n\r\nWith these two fixes your code should provide the correct results.\r\n\r\nFinally, you may want to up the challenge a bit and try to solve this without O(&#119899;) auxiliary memory.","title":"I&#39;m not sure what the issue is here with my solution to the coding problem Rotate the Array?","body":"<blockquote>\n<p>...can't find any logical significance for the index 47 providing an exception since the array in 77 chars long</p>\n</blockquote>\n<p>Note that code challenge sites will run your code with different inputs one after the other.</p>\n<p>When you get an error saying <em>&quot;java.lang.ArrayIndexOutOfBoundsException: Index 47 out of bounds for length 47&quot;</em>, you can be absolutely sure that the array has a length of 47, not 77.</p>\n<p>You may be confusing the value of <code>d</code> with the length of the array. <code>d</code> is the value to rotate the array by, and your code should deal well with cases where this <code>d</code> is <strong>greater</strong> than the last index of your array. In that case you'll run into this exception.</p>\n<p>To avoid this error, first bring that value of <code>d</code> in range. It is clear that if you rotate the array by its length, you get the original array. So you can reduce <code>d</code> by that much until it is less than the size of the array. You can use the <code>%</code> operator for that. Put this at the start of your function:</p>\n<pre><code>d %= n;\n</code></pre>\n<p>Now you'll no longer get the exception.</p>\n<h2>Another issue</h2>\n<p>After the above fix you'll still get wrong results. A priority queue is not what you need here, because its <code>poll</code> method will provide you with values in order of priority (i.e. in this case by their value). This is not what you want. You'll want the values to come out in first-in-first-out order. For that you can use a linked list. So change your buffer to this:</p>\n<pre><code>Queue&lt;Integer&gt; buffer = new LinkedList&lt;Integer&gt;();\n</code></pre>\n<p>With these two fixes your code should provide the correct results.</p>\n<p>Finally, you may want to up the challenge a bit and try to solve this without O(𝑛) auxiliary memory.</p>\n"},{"tags":[],"owner":{"account_id":28154414,"reputation":17,"user_id":21515357,"display_name":"Mani"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680167176,"creation_date":1680167176,"answer_id":75886197,"question_id":75884961,"body_markdown":"This code may help you for rotate array in anti-clockwise using normal array without using Queue.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Scanner Object = new Scanner(System.in);\r\n            System.out.print(&quot;Enter Array Length: &quot;);\r\n            int ArrayLength = Object.nextInt();\r\n    \r\n            int[] Array = new int[ArrayLength];\r\n            /* Getting Inputs */\r\n            for (int i = 0; i &lt; ArrayLength; i++) {\r\n                Array[i] = Object.nextInt();\r\n            }\r\n    \r\n            /* rotating arrray */\r\n            /* condition for j value limits number of times rotate */\r\n            for (int j = 0; j &lt; Array.length; j++) {\r\n                int first = Array[0];\r\n    \r\n                for (int k = 0; k &lt;Array.length-1 ; k++) {\r\n                    Array[k] = Array[k + 1];\r\n                }\r\n                Array[Array.length-1] = first;\r\n    \r\n                /* Print Array values */\r\n                for (int i = 0; i &lt; Array.length; i++) {\r\n                    System.out.print(Array[i] + &quot;  , &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n    \r\n        }\r\n    }","title":"I&#39;m not sure what the issue is here with my solution to the coding problem Rotate the Array?","body":"<p>This code may help you for rotate array in anti-clockwise using normal array without using Queue.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner Object = new Scanner(System.in);\n        System.out.print(&quot;Enter Array Length: &quot;);\n        int ArrayLength = Object.nextInt();\n\n        int[] Array = new int[ArrayLength];\n        /* Getting Inputs */\n        for (int i = 0; i &lt; ArrayLength; i++) {\n            Array[i] = Object.nextInt();\n        }\n\n        /* rotating arrray */\n        /* condition for j value limits number of times rotate */\n        for (int j = 0; j &lt; Array.length; j++) {\n            int first = Array[0];\n\n            for (int k = 0; k &lt;Array.length-1 ; k++) {\n                Array[k] = Array[k + 1];\n            }\n            Array[Array.length-1] = first;\n\n            /* Print Array values */\n            for (int i = 0; i &lt; Array.length; i++) {\n                System.out.print(Array[i] + &quot;  , &quot;);\n            }\n            System.out.println();\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27995093,"reputation":7,"user_id":21380523,"display_name":"Konrad Kos1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680167176,"creation_date":1680159105,"question_id":75884961,"body_markdown":"```\r\nclass Solution\r\n{\r\n    //Function to rotate an array by d elements in counter-clockwise direction. \r\n    static void rotateArr(int arr[], int d, int n)\r\n    {\r\n       Queue&lt;Integer&gt; buffer = new PriorityQueue&lt;Integer&gt;();\r\n       \r\n       for(int j = 0; j &lt; d; j++)\r\n       {\r\n         buffer.offer(arr[j]); //Where the excpetion occurs \r\n       }\r\n       for(int i = 0 ; i &lt; n;i++)\r\n       {\r\n        if(i&lt;n-d){\r\n            arr[i]=arr[i+d];\r\n            \r\n        }\r\n        else{\r\n            arr[i]=buffer.poll();\r\n        }\r\n       }\r\n    }\r\n}\r\n```\r\n\r\n    The Exception shown. I&#39;m not sure why index 47 is an issue considering the array is \r\n    for input (77 int long array, rotate by 69, 77 random integers ...)\r\n    \r\n    Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 47 out of bounds for length 47\r\n    \tat Solution.rotateArr(File.java:62) marked by comment in code\r\n    \tat GFG.main(File.java:36) \r\n    \r\n    \r\n    \r\n\r\nI was expecting code to execute without error\r\nWorks fine with small input such as (5,2,(1,2,3,4,5))\r\nVery strange, can&#39;t find any logical significance for the index 47 providing an exception since the array in 77 chars long","title":"I&#39;m not sure what the issue is here with my solution to the coding problem Rotate the Array?","body":"<pre><code>class Solution\n{\n    //Function to rotate an array by d elements in counter-clockwise direction. \n    static void rotateArr(int arr[], int d, int n)\n    {\n       Queue&lt;Integer&gt; buffer = new PriorityQueue&lt;Integer&gt;();\n       \n       for(int j = 0; j &lt; d; j++)\n       {\n         buffer.offer(arr[j]); //Where the excpetion occurs \n       }\n       for(int i = 0 ; i &lt; n;i++)\n       {\n        if(i&lt;n-d){\n            arr[i]=arr[i+d];\n            \n        }\n        else{\n            arr[i]=buffer.poll();\n        }\n       }\n    }\n}\n</code></pre>\n<pre><code>The Exception shown. I'm not sure why index 47 is an issue considering the array is \nfor input (77 int long array, rotate by 69, 77 random integers ...)\n\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 47 out of bounds for length 47\n    at Solution.rotateArr(File.java:62) marked by comment in code\n    at GFG.main(File.java:36) \n</code></pre>\n<p>I was expecting code to execute without error\nWorks fine with small input such as (5,2,(1,2,3,4,5))\nVery strange, can't find any logical significance for the index 47 providing an exception since the array in 77 chars long</p>\n"},{"tags":["java","list"],"answers":[{"tags":[],"owner":{"account_id":2840228,"reputation":1579,"user_id":2439999,"accept_rate":47,"display_name":"Marco"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680167017,"creation_date":1680167017,"answer_id":75886170,"question_id":75886155,"body_markdown":"You need to create your people within the loop. At the moment you are just updating the same object every time.\r\n\r\n    List&lt;People&gt; peopleList = new ArrayList&lt;People&gt;();\r\n    \r\n    public void test() {\r\n      for(int i=0;i&lt;2;i++){\r\n         People people = new People();\r\n         people.name = &quot;name &quot;+i;\r\n         people.age = &quot;age &quot;+i;\r\n        \r\n         peopleList.add(people);\r\n            \r\n      }\r\n    }","title":"Avoid list reset inside a loop","body":"<p>You need to create your people within the loop. At the moment you are just updating the same object every time.</p>\n<pre><code>List&lt;People&gt; peopleList = new ArrayList&lt;People&gt;();\n\npublic void test() {\n  for(int i=0;i&lt;2;i++){\n     People people = new People();\n     people.name = &quot;name &quot;+i;\n     people.age = &quot;age &quot;+i;\n    \n     peopleList.add(people);\n        \n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19199549,"reputation":776,"user_id":14027764,"display_name":"Rituparna Warwatkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680167115,"creation_date":1680167115,"answer_id":75886190,"question_id":75886155,"body_markdown":"Actually the problem is you are adding the same people object multiple times.\r\nSince people is a reference data type, when you add to the list, a new object is not added.\r\n\r\nInstead, create a new object inside the loop\r\n\r\n```java\r\nList&lt;People&gt; peopleList = new ArrayList&lt;People&gt;();\r\n\r\npublic void test() {\r\n    for(int i=0;i&lt;2;i++){\r\n        People people = new People();\r\n        people.name = &quot;name &quot;+i;\r\n        people.age = &quot;age &quot;+i;\r\n        peopleList.add(people);\r\n    }\r\n}\r\n```\r\n\r\nNow this should work\r\n\r\n\r\nYou can refer to this article https://java-programming.mooc.fi/part-5/4-objects-and-references if you want to learn more about primitive and reference data types and objects in java.","title":"Avoid list reset inside a loop","body":"<p>Actually the problem is you are adding the same people object multiple times.\nSince people is a reference data type, when you add to the list, a new object is not added.</p>\n<p>Instead, create a new object inside the loop</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;People&gt; peopleList = new ArrayList&lt;People&gt;();\n\npublic void test() {\n    for(int i=0;i&lt;2;i++){\n        People people = new People();\n        people.name = &quot;name &quot;+i;\n        people.age = &quot;age &quot;+i;\n        peopleList.add(people);\n    }\n}\n</code></pre>\n<p>Now this should work</p>\n<p>You can refer to this article <a href=\"https://java-programming.mooc.fi/part-5/4-objects-and-references\" rel=\"nofollow noreferrer\">https://java-programming.mooc.fi/part-5/4-objects-and-references</a> if you want to learn more about primitive and reference data types and objects in java.</p>\n"}],"owner":{"account_id":13174237,"reputation":9,"user_id":9515607,"display_name":"user9515607"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1680167350,"answer_count":2,"score":-1,"last_activity_date":1680167115,"creation_date":1680166877,"question_id":75886155,"body_markdown":"I am trying to create a list of objects inside a loop.\r\nBut when I assign items to the list, the list gets reset every iteration.\r\n\r\n    List&lt;People&gt; peopleList = new ArrayList&lt;People&gt;();\r\n\tPeople people = new People();\r\n\r\n\tpublic  void test() {\r\n\t\tfor(int i=0;i&lt;2;i++){\r\n\t\t\tpeople.name = &quot;name &quot;+i;\r\n\t\t\tpeople.age = &quot;age &quot;+i;\r\n\t\t\r\n\t\t\tpeopleList .add(people);\r\n\t\t\t\r\n\t\t}\r\n    }\r\n\r\nAfter executing the loop, the peopleList value is the same.\r\n\r\nI am expecting to have a list(peopleList) containing 2 items.","title":"Avoid list reset inside a loop","body":"<p>I am trying to create a list of objects inside a loop.\nBut when I assign items to the list, the list gets reset every iteration.</p>\n<pre><code>List&lt;People&gt; peopleList = new ArrayList&lt;People&gt;();\nPeople people = new People();\n\npublic  void test() {\n    for(int i=0;i&lt;2;i++){\n        people.name = &quot;name &quot;+i;\n        people.age = &quot;age &quot;+i;\n    \n        peopleList .add(people);\n        \n    }\n}\n</code></pre>\n<p>After executing the loop, the peopleList value is the same.</p>\n<p>I am expecting to have a list(peopleList) containing 2 items.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9688,"page":537,"page_size":100}
