{"items":[{"tags":["java","maven","maven-3"],"comments":[{"owner":{"account_id":925939,"reputation":3438,"user_id":956730,"accept_rate":86,"display_name":"Ash"},"score":0,"creation_date":1574224257,"post_id":10568275,"comment_id":104151180,"body_markdown":"I had the same problem, I had forgotten the package com.myapp.mypack.myclass in my main class. Adding it solved mine.","body":"I had the same problem, I had forgotten the package com.myapp.mypack.myclass in my main class. Adding it solved mine."}],"answers":[{"tags":[],"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"down_vote_count":3,"up_vote_count":26,"is_accepted":true,"score":23,"last_activity_date":1336884294,"creation_date":1336867172,"answer_id":10568348,"question_id":10568275,"body_markdown":"&gt; when I try to run it, I get NoClassDefFoundError\r\n\r\nRun it how? You&#39;re probably trying to run it with eclipse without having correctly imported your maven classpath. See the [m2eclipse][1] plugin for integrating maven with eclipse for that.\r\n\r\nTo verify that your maven config is correct, you could run your app with the [exec plugin][2] using:\r\n\r\n    mvn exec:java -D exec.mainClass=&lt;your main class&gt;\r\n\r\n**Update:** First, regarding your error when running `exec:java`, your main class is `tr.edu.hacettepe.cs.b21127113.bil138_4.App`. When talking about class names, they&#39;re (almost) always dot-separated. The simple class name is just the last part: `App` in your case. The fully-qualified name is the full package plus the simple class name, and that&#39;s what you give to maven or java when you want to run something. What you were trying to use was a file system path to a source file. That&#39;s an entirely different beast. A class name generally translates directly to a class file that&#39;s found in the class path, as compared to a source file in the file system. In your specific case, the class file in question would probably be at `target/classes/tr/edu/hacettepe/cs/b21127113/bil138_4/App.class` because maven compiles to `target/classes`, and java traditionally creates a directory for each level of packaging.\r\n\r\nYour original problem is simply that you haven&#39;t put the Jackson jars on your class path. When you run a java program from the command line, you have to set the class path to let it know where it can load classes from. You&#39;ve added your own jar, but not the other required ones. Your comment makes me think you don&#39;t understand how to manually build a class path. In short, the class path can have two things: directories containing class files and jars containing class files. Directories containing jars won&#39;t work. For more details on building a class path, see &quot;[Setting the class path][3]&quot; and the [java][4] and [javac][5] tool documentation.\r\n\r\nYour class path would need to be at least, and without the line feeds:\r\n\r\n    target/bil138_4-0.0.1-SNAPSHOT.jar:\r\n    /home/utdemir/.m2/repository/org/codehaus/jackson/jackson-core-asl/1.9.6/jackson-core-asl-1.9.6.jar:\r\n    /home/utdemir/.m2/repository/org/codehaus/jackson/jackson-mapper-asl/1.9.6/jackson-mapper-asl-1.9.6.jar\r\n\r\nNote that the separator on Windows is a semicolon (;).\r\n\r\nI apologize for not noticing it sooner. The problem was sitting there in your original post, but I missed it.\r\n\r\n\r\n  [1]: http://www.sonatype.org/m2eclipse\r\n  [2]: http://mojo.codehaus.org/exec-maven-plugin/\r\n  [3]: http://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\r\n  [4]: http://docs.oracle.com/javase/6/docs/technotes/tools/solaris/java.html\r\n  [5]: http://docs.oracle.com/javase/6/docs/technotes/tools/solaris/javac.html","title":"NoClassDefFoundError on Maven dependency","body":"<blockquote>\n  <p>when I try to run it, I get NoClassDefFoundError</p>\n</blockquote>\n\n<p>Run it how? You're probably trying to run it with eclipse without having correctly imported your maven classpath. See the <a href=\"http://www.sonatype.org/m2eclipse\">m2eclipse</a> plugin for integrating maven with eclipse for that.</p>\n\n<p>To verify that your maven config is correct, you could run your app with the <a href=\"http://mojo.codehaus.org/exec-maven-plugin/\">exec plugin</a> using:</p>\n\n<pre><code>mvn exec:java -D exec.mainClass=&lt;your main class&gt;\n</code></pre>\n\n<p><strong>Update:</strong> First, regarding your error when running <code>exec:java</code>, your main class is <code>tr.edu.hacettepe.cs.b21127113.bil138_4.App</code>. When talking about class names, they're (almost) always dot-separated. The simple class name is just the last part: <code>App</code> in your case. The fully-qualified name is the full package plus the simple class name, and that's what you give to maven or java when you want to run something. What you were trying to use was a file system path to a source file. That's an entirely different beast. A class name generally translates directly to a class file that's found in the class path, as compared to a source file in the file system. In your specific case, the class file in question would probably be at <code>target/classes/tr/edu/hacettepe/cs/b21127113/bil138_4/App.class</code> because maven compiles to <code>target/classes</code>, and java traditionally creates a directory for each level of packaging.</p>\n\n<p>Your original problem is simply that you haven't put the Jackson jars on your class path. When you run a java program from the command line, you have to set the class path to let it know where it can load classes from. You've added your own jar, but not the other required ones. Your comment makes me think you don't understand how to manually build a class path. In short, the class path can have two things: directories containing class files and jars containing class files. Directories containing jars won't work. For more details on building a class path, see \"<a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\">Setting the class path</a>\" and the <a href=\"http://docs.oracle.com/javase/6/docs/technotes/tools/solaris/java.html\">java</a> and <a href=\"http://docs.oracle.com/javase/6/docs/technotes/tools/solaris/javac.html\">javac</a> tool documentation.</p>\n\n<p>Your class path would need to be at least, and without the line feeds:</p>\n\n<pre><code>target/bil138_4-0.0.1-SNAPSHOT.jar:\n/home/utdemir/.m2/repository/org/codehaus/jackson/jackson-core-asl/1.9.6/jackson-core-asl-1.9.6.jar:\n/home/utdemir/.m2/repository/org/codehaus/jackson/jackson-mapper-asl/1.9.6/jackson-mapper-asl-1.9.6.jar\n</code></pre>\n\n<p>Note that the separator on Windows is a semicolon (;).</p>\n\n<p>I apologize for not noticing it sooner. The problem was sitting there in your original post, but I missed it.</p>\n"},{"tags":[],"owner":{"account_id":48268,"reputation":10077,"user_id":143336,"display_name":"Matt Ryall"},"down_vote_count":1,"up_vote_count":151,"is_accepted":false,"score":150,"last_activity_date":1668571194,"creation_date":1336884886,"answer_id":10569417,"question_id":10568275,"body_markdown":"By default, Maven doesn&#39;t bundle dependencies in the JAR file it builds, and you&#39;re not providing them on the classpath when you&#39;re trying to execute your JAR file at the command-line. This is why the Java VM can&#39;t find the library class files when trying to execute your code.\r\n\r\nYou could manually specify the libraries on the classpath with the `-cp` parameter, but that quickly becomes tiresome.\r\n\r\nA better solution is to &quot;shade&quot; the library code into your output JAR file. There is a Maven plugin called the [maven-shade-plugin](http://maven.apache.org/plugins/maven-shade-plugin) to do this. You need to register it in your POM, and it will automatically build an &quot;uber-JAR&quot; containing your classes and the classes for your library code too when you run `mvn package`.\r\n\r\nTo simply bundle all required libraries, add the following to your POM:\r\n\r\n    &lt;project&gt;\r\n      ...\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.1&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      ...\r\n    &lt;/project&gt;\r\n\r\nOnce this is done, you can rerun the commands you used above:\r\n\r\n    $ mvn package\r\n    $ java -cp target/bil138_4-0.0.1-SNAPSHOT.jar tr.edu.hacettepe.cs.b21127113.bil138_4.App\r\n\r\nIf you want to do further configuration of the shade plugin in terms of what JARs should be included, specifying a Main-Class for an executable JAR file, and so on, see the &quot;Examples&quot; section on the [maven-shade-plugin site](http://maven.apache.org/plugins/maven-shade-plugin).","title":"NoClassDefFoundError on Maven dependency","body":"<p>By default, Maven doesn't bundle dependencies in the JAR file it builds, and you're not providing them on the classpath when you're trying to execute your JAR file at the command-line. This is why the Java VM can't find the library class files when trying to execute your code.</p>\n<p>You could manually specify the libraries on the classpath with the <code>-cp</code> parameter, but that quickly becomes tiresome.</p>\n<p>A better solution is to &quot;shade&quot; the library code into your output JAR file. There is a Maven plugin called the <a href=\"http://maven.apache.org/plugins/maven-shade-plugin\" rel=\"noreferrer\">maven-shade-plugin</a> to do this. You need to register it in your POM, and it will automatically build an &quot;uber-JAR&quot; containing your classes and the classes for your library code too when you run <code>mvn package</code>.</p>\n<p>To simply bundle all required libraries, add the following to your POM:</p>\n<pre><code>&lt;project&gt;\n  ...\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.4.1&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  ...\n&lt;/project&gt;\n</code></pre>\n<p>Once this is done, you can rerun the commands you used above:</p>\n<pre><code>$ mvn package\n$ java -cp target/bil138_4-0.0.1-SNAPSHOT.jar tr.edu.hacettepe.cs.b21127113.bil138_4.App\n</code></pre>\n<p>If you want to do further configuration of the shade plugin in terms of what JARs should be included, specifying a Main-Class for an executable JAR file, and so on, see the &quot;Examples&quot; section on the <a href=\"http://maven.apache.org/plugins/maven-shade-plugin\" rel=\"noreferrer\">maven-shade-plugin site</a>.</p>\n"},{"tags":[],"owner":{"account_id":4239621,"reputation":184,"user_id":3469899,"display_name":"madhawa"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1577336953,"creation_date":1414305010,"answer_id":26570423,"question_id":10568275,"body_markdown":"You have to make classpath in pom file for your dependency. Therefore you have to copy all the dependencies into one place.\r\n\r\n[Check my blog][1].\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.1&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n              &lt;configuration&gt;\r\n                &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\r\n                &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\r\n                &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\r\n                &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.4&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n              &lt;manifest&gt;\r\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                &lt;mainClass&gt;$fullqualified path to your main Class&lt;/mainClass&gt;\r\n              &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n  [1]: http://madhawagunasekara.blogspot.com/2014/10/solving-javalangnoclassdeffounderror-in.html","title":"NoClassDefFoundError on Maven dependency","body":"<p>You have to make classpath in pom file for your dependency. Therefore you have to copy all the dependencies into one place.</p>\n\n<p><a href=\"http://madhawagunasekara.blogspot.com/2014/10/solving-javalangnoclassdeffounderror-in.html\" rel=\"nofollow noreferrer\">Check my blog</a>.</p>\n\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.1&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;id&gt;copy-dependencies&lt;/id&gt;\n          &lt;phase&gt;package&lt;/phase&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n          &lt;/goals&gt;\n          &lt;configuration&gt;\n            &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n            &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n            &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\n            &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\n          &lt;/configuration&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n      &lt;version&gt;2.4&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;archive&gt;\n          &lt;manifest&gt;\n            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n            &lt;mainClass&gt;$fullqualified path to your main Class&lt;/mainClass&gt;\n          &lt;/manifest&gt;\n        &lt;/archive&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2285659,"reputation":436,"user_id":2009677,"display_name":"user2009677"},"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1418947452,"creation_date":1418947452,"answer_id":27557878,"question_id":10568275,"body_markdown":"Choosing to Project -&gt; Clean should resolve this ","title":"NoClassDefFoundError on Maven dependency","body":"<p>Choosing to Project -> Clean should resolve this </p>\n"},{"tags":[],"owner":{"account_id":2751906,"reputation":429,"user_id":2538853,"display_name":"Satya"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1489634388,"creation_date":1489634388,"answer_id":42824675,"question_id":10568275,"body_markdown":"This is due to Morphia jar not being part of your output war/jar. Eclipse or local build includes them as part of classpath, but remote builds or auto/scheduled build don&#39;t consider them part of classpath.\r\n\r\nYou can include dependent jars using plugin.\r\n\r\nAdd below snippet into your pom&#39;s plugins section\r\n\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;descriptorRefs&gt;\r\n\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t\t\t&lt;/descriptorRefs&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;\r\n","title":"NoClassDefFoundError on Maven dependency","body":"<p>This is due to Morphia jar not being part of your output war/jar. Eclipse or local build includes them as part of classpath, but remote builds or auto/scheduled build don't consider them part of classpath.</p>\n\n<p>You can include dependent jars using plugin.</p>\n\n<p>Add below snippet into your pom's plugins section</p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;descriptorRefs&gt;\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n            &lt;/descriptorRefs&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1579757721,"creation_date":1554222444,"answer_id":55479517,"question_id":10568275,"body_markdown":"I was able to work around it by running mvn install:install-file with -Dpackaging=class. Then adding entry to POM as described [here][1]:\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/19066828/1308453","title":"NoClassDefFoundError on Maven dependency","body":"<p>I was able to work around it by running mvn install:install-file with -Dpackaging=class. Then adding entry to POM as described <a href=\"https://stackoverflow.com/a/19066828/1308453\">here</a>:</p>\n"},{"tags":[],"owner":{"account_id":10914885,"reputation":41,"user_id":8023023,"display_name":"hahahaha123567"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680147427,"creation_date":1575617554,"answer_id":59208775,"question_id":10568275,"body_markdown":"For some reason, the lib is **present while compiling**, but **missing while running**.\r\n\r\nOne possible reason is, **two versions of one lib conflict.**\r\n\r\nFor example, A depends on B and C, while B depends on D:1.0, C depends on D:1.1, maven may just import D:1.0. \r\n\r\nIf A uses one class which is in D:1.1 but not in D:1.0, a NoClassDefFoundError will be throwed.\r\n\r\n**How to resolve depends conflict**\r\n\r\nexclude the lib which you don&#39;t need in pom file\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;xx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;B&lt;/artifactId&gt;\r\n    &lt;version&gt;xx&lt;/version&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;xx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;D&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n```","title":"NoClassDefFoundError on Maven dependency","body":"<p>For some reason, the lib is <strong>present while compiling</strong>, but <strong>missing while running</strong>.</p>\n<p>One possible reason is, <strong>two versions of one lib conflict.</strong></p>\n<p>For example, A depends on B and C, while B depends on D:1.0, C depends on D:1.1, maven may just import D:1.0.</p>\n<p>If A uses one class which is in D:1.1 but not in D:1.0, a NoClassDefFoundError will be throwed.</p>\n<p><strong>How to resolve depends conflict</strong></p>\n<p>exclude the lib which you don't need in pom file</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;xx&lt;/groupId&gt;\n    &lt;artifactId&gt;B&lt;/artifactId&gt;\n    &lt;version&gt;xx&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;xx&lt;/groupId&gt;\n            &lt;artifactId&gt;D&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":216903,"reputation":26700,"user_id":472416,"accept_rate":79,"display_name":"utdemir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180699,"favorite_count":0,"down_vote_count":0,"up_vote_count":88,"accepted_answer_id":10568348,"answer_count":7,"score":88,"last_activity_date":1680147427,"creation_date":1336866341,"question_id":10568275,"body_markdown":"My first use of Maven and I&#39;m stuck with dependencies. \r\n\r\nI created a Maven project with Eclipse and added dependencies, and it was working without problems.\r\n\r\nBut when I try to run it via command line:\r\n\r\n    $ mvn package  # successfully completes\r\n    $ java -cp target/bil138_4-0.0.1-SNAPSHOT.jar tr.edu.hacettepe.cs.b21127113.bil138_4.App # NoClassDefFoundError for dependencies\r\n\r\nIt downloads dependencies, successfully builds, but when I try to run it, I get NoClassDefFoundError:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/codehaus/jackson/JsonParseException\r\n            at tr.edu.hacettepe.cs.b21127113.bil138_4.db.DatabaseManager.&lt;init&gt;(DatabaseManager.java:16)\r\n            at tr.edu.hacettepe.cs.b21127113.bil138_4.db.DatabaseManager.&lt;init&gt;(DatabaseManager.java:22)\r\n            at tr.edu.hacettepe.cs.b21127113.bil138_4.App.main(App.java:10)\r\n    Caused by: java.lang.ClassNotFoundException: org.codehaus.jackson.JsonParseException\r\n            at java.net.URLClassLoader$1.run(URLClassLoader.java:217)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at java.net.URLClassLoader.findClass(URLClassLoader.java:205)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:321)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:294)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:266)\r\n            ... 3 more\r\n\r\n\r\nMy pom.xml is like this:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;tr.edu.hacettepe.cs.b21127113&lt;/groupId&gt;\r\n      &lt;artifactId&gt;bil138_4&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n      &lt;name&gt;bil138_4&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;  \t\t\r\n        &lt;dependency&gt;\r\n      \t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n      \t\t\t&lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;  \t\t\t\r\n        &lt;/dependency&gt;\r\n      \t\t&lt;dependency&gt;\r\n      \t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n      \t\t\t&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;  \t\t\t\r\n      \t\t&lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      &lt;dependencyManagement&gt;\r\n      \t&lt;dependencies&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;1.9.6&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;1.9.6&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n    &lt;/project&gt;\r\n\r\nCan anyone help me?","title":"NoClassDefFoundError on Maven dependency","body":"<p>My first use of Maven and I'm stuck with dependencies. </p>\n\n<p>I created a Maven project with Eclipse and added dependencies, and it was working without problems.</p>\n\n<p>But when I try to run it via command line:</p>\n\n<pre><code>$ mvn package  # successfully completes\n$ java -cp target/bil138_4-0.0.1-SNAPSHOT.jar tr.edu.hacettepe.cs.b21127113.bil138_4.App # NoClassDefFoundError for dependencies\n</code></pre>\n\n<p>It downloads dependencies, successfully builds, but when I try to run it, I get NoClassDefFoundError:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/codehaus/jackson/JsonParseException\n        at tr.edu.hacettepe.cs.b21127113.bil138_4.db.DatabaseManager.&lt;init&gt;(DatabaseManager.java:16)\n        at tr.edu.hacettepe.cs.b21127113.bil138_4.db.DatabaseManager.&lt;init&gt;(DatabaseManager.java:22)\n        at tr.edu.hacettepe.cs.b21127113.bil138_4.App.main(App.java:10)\nCaused by: java.lang.ClassNotFoundException: org.codehaus.jackson.JsonParseException\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:217)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:205)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:321)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:294)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:266)\n        ... 3 more\n</code></pre>\n\n<p>My pom.xml is like this:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;tr.edu.hacettepe.cs.b21127113&lt;/groupId&gt;\n  &lt;artifactId&gt;bil138_4&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;bil138_4&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;        \n    &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;           \n    &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;             \n        &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\n        &lt;version&gt;1.9.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n        &lt;version&gt;1.9.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Can anyone help me?</p>\n"},{"tags":["java","maven","cucumber","gherkin"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1680168245,"post_id":75883858,"comment_id":133853355,"body_markdown":"It is likely the IDE issue. Not cucmber one. Probably it is worth asking for your cucumber pluging dev support.","body":"It is likely the IDE issue. Not cucmber one. Probably it is worth asking for your cucumber pluging dev support."}],"owner":{"account_id":25027286,"reputation":23,"user_id":18885373,"display_name":"Muazzam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680146727,"creation_date":1680146727,"question_id":75883858,"body_markdown":"The cucumber steps are showing up as undefined after I run them from the feature file. But after I rebuild the project , it runs successfully. So each time I write new scenarios , I need to rebuild to be able to run the new feature files successfully. \r\n\r\n\r\nThe test cases are running correctly from the runner file though. \r\nI checked the glue in run configs and its correct. What could be the culprit ? ","title":"Steps undefined until I rebuild the project","body":"<p>The cucumber steps are showing up as undefined after I run them from the feature file. But after I rebuild the project , it runs successfully. So each time I write new scenarios , I need to rebuild to be able to run the new feature files successfully.</p>\n<p>The test cases are running correctly from the runner file though.\nI checked the glue in run configs and its correct. What could be the culprit ?</p>\n"},{"tags":["java","docker","microservices","openapi-generator","openapi-generator-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":1587080,"reputation":3848,"user_id":2600196,"accept_rate":100,"display_name":"kakabali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680146627,"creation_date":1680146627,"answer_id":75883851,"question_id":75883818,"body_markdown":"Try this may be:-\r\n\r\n    ENTRYPOINT exec java -jar /app/app/target/generator-code-1.0.0-SNAPSHOT.jar -e java.io.tmpDir=/app\r\n\r\njar should be at - /app/app/target\r\n\r\nI guess the reason for this should be `WORKDIR /app`\r\n\r\nTo debug your dockerfile you may add this command at various places \r\n\r\n    RUN ls -lrt\r\n\r\nwhat it will do is show the directory content as list\r\n\r\n","title":"Microservice inside a container is using mavenCli but target folder is not being generateed","body":"<p>Try this may be:-</p>\n<pre><code>ENTRYPOINT exec java -jar /app/app/target/generator-code-1.0.0-SNAPSHOT.jar -e java.io.tmpDir=/app\n</code></pre>\n<p>jar should be at - /app/app/target</p>\n<p>I guess the reason for this should be <code>WORKDIR /app</code></p>\n<p>To debug your dockerfile you may add this command at various places</p>\n<pre><code>RUN ls -lrt\n</code></pre>\n<p>what it will do is show the directory content as list</p>\n"}],"owner":{"account_id":1592388,"reputation":108,"user_id":1475429,"display_name":"dimondi21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680146627,"creation_date":1680146114,"question_id":75883818,"body_markdown":"I&#39;m having a microservice inside of a docker container. This microservice is based on open-api-generator maven plugin in order to generate child projects based on mustache templates and an archetype. \r\n\r\nI&#39;m using maven to package the project and create the container. This is my docker file\r\n\r\n    FROM --platform=linux/arm64 maven:3.8.3-openjdk-17 as build\r\n    ENV TIME_ZONE America/Guayaquil\r\n    ENV TZ=$TIME_ZONE\r\n    ENV JAVA_OPTS &quot;-Djava.awt.headless=true -Xmx1250m -Xms256m - \r\n    Dmaven.artifact.threads=10&quot;\r\n    WORKDIR /app\r\n    RUN mkdir /app/archetype\r\n    RUN mkdir /app/archetype/src\r\n    ADD archetype/src/ /app/archetype/src/\r\n    ADD archetype/*.xml /app/archetype/\r\n    ADD archetype/*.json /app/archetype/\r\n    ADD archetype/*.md /app/archetype\r\n    RUN mkdir /app/openapi\r\n    RUN mkdir /app/openapi/templates\r\n    ADD openapi/templates/* /app/openapi/templates/\r\n    RUN mkdir /app/base\r\n\r\n    COPY ./base/. /app/base\r\n    RUN mkdir /app/devops\r\n    RUN mkdir /app/domain\r\n    COPY /pom.xml /app/pom.xml\r\n    COPY /openapi.yml /app/openapi.yml\r\n    COPY /src /app/src\r\n    \r\n    RUN mvn -f /app/pom.xml clean package -Dmaven.artifact.threads=20 -e -X\r\n    \r\n    EXPOSE 9010\r\n    ENTRYPOINT exec java -jar /app/target/generator-code-1.0.0-SNAPSHOT.jar -e java.io.tmpDir=/app\r\n    \r\nSorry if there is a better way to write docker file, I&#39;m starting to use docker.\r\n\r\nEverything works fine. Maven commands excecuted correctly, the jar is generated inside the `target` folder. The project starts correctly (the project has a front-end web in order to upload the open api contract in yml format). \r\n\r\nNow the problem begins (by the way, it work correctly in locally with IntelliJ)\r\n\r\nThen I fill my web fields, I upload the new openapi.yml contract and the microservice needs to execute the maven commands (clean install) in order to use the open-API-generator maven plugin and generate the classes. I&#39;m using mavenCli in order to execute maven commands inside of my microservice.\r\n\r\nThe child project is generated BUT is using the files inside of `target` folder created when the container was built. When the clean install commands are executed it supposed to replace the `target` folder when the new files but nothing is happend. \r\n\r\nNo errors, warnings. I saw the container files and the target folder was not updated.\r\n\r\nI hope I can explained myself correctly. \r\n\r\nIf there&#39;s any way or any configure that I need to perform in order to set the target folder correctly? \r\n\r\nThis is my POM.xml\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n      &lt;groupId&gt;com.peigo.ec.generator&lt;/groupId&gt;\r\n      &lt;artifactId&gt;peigo-generator-code&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n      &lt;name&gt;Generator&lt;/name&gt;\r\n      &lt;description&gt;Project Generator Peigo&lt;/description&gt;\r\n\r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n      &lt;/parent&gt;\r\n\r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;openapi-generator.version&gt;4.2.3&lt;/openapi-generator.version&gt;\r\n        &lt;cloud-client.version&gt;2.2.5.RELEASE&lt;/cloud-client.version&gt;\r\n        &lt;base.package&gt;com.peigo.generator&lt;/base.package&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;openapi.source.directory&gt;${project.build.directory}/generated-sources/openapi&lt;/openapi.source.directory&gt;\r\n        \r\n\r\n        &lt;maven-failsafe-plugin.version&gt;2.22.2&lt;/maven-failsafe-plugin.version&gt;\r\n        &lt;maven-surefire-plugin.version&gt;2.22.2&lt;/maven-surefire-plugin.version&gt;\r\n      &lt;/properties&gt;\r\n\r\n      &lt;dependencies&gt;\r\n        ...\r\n        ...\r\n        ...\r\n      &lt;/dependencies&gt;\r\n\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n          &lt;/plugin&gt;\r\n\r\n\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;encoding default-value=&quot;UTF-8&quot;&gt;UTF-8&lt;/encoding&gt;\r\n              &lt;argLine&gt;-Dfile.encoding=${project.build.sourceEncoding}&lt;/argLine&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n\r\n          &lt;!-- Used for integration tests --&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven-failsafe-plugin.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;encoding default-value=&quot;UTF-8&quot;&gt;UTF-8&lt;/encoding&gt;\r\n              &lt;argLine&gt;-Dfile.encoding=${project.build.sourceEncoding} -Djava.io.tmpdir=${project.build.directory}&lt;/argLine&gt;\r\n              &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.10.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;${java.version}&lt;/source&gt;\r\n              &lt;target&gt;${java.version}&lt;/target&gt;\r\n              &lt;release&gt;${java.version}&lt;/release&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;generate&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;generate&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;!-- This section includes the &quot;global&quot; configuration options, so called because they apply to all generators. Users generally don&#39;t need to care about this detail, except to make sure their configuration information lands in the correct place - &lt;configuration&gt; vs &lt;configOptions&gt;. --&gt;\r\n\r\n                  &lt;!-- The OpenAPI spec is in a file in this repository called &quot;openapi.yml&quot;. It can also be a hyperlink. --&gt;\r\n                  &lt;inputSpec&gt;${project.basedir}/openapi.yml&lt;/inputSpec&gt;\r\n\r\n                  &lt;!-- There are many generators available. We are using jaxrs-spec. --&gt;\r\n                  &lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n                  &lt;library&gt;spring-boot&lt;/library&gt;\r\n                  &lt;!-- APIs are service interfaces or implementations. --&gt;\r\n                  &lt;generateApis&gt;true&lt;/generateApis&gt;\r\n                  &lt;!-- Models are DTOs, generally from the schemas portion of the spec. --&gt;\r\n                  &lt;generateModels&gt;true&lt;/generateModels&gt;\r\n\r\n                  &lt;!-- In this example, we&#39;re not generating the POM, README, etc. --&gt;\r\n                  &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\r\n\r\n                  &lt;!-- This is the default value, but be explicit so it&#39;s clear when we refer to the value elsewhere. --&gt;\r\n                  &lt;output&gt;${openapi.source.directory}&lt;/output&gt;\r\n\r\n                  &lt;!-- We are showing off template customization today. The custom templates are stored here. --&gt;\r\n                  &lt;templateDirectory&gt;${project.basedir}/openapi/templates&lt;/templateDirectory&gt;\r\n\r\n                  &lt;configOptions&gt;\r\n                    &lt;!-- These are the &quot;local&quot; configuration options that apply only to this generator. --&gt;\r\n                    &lt;!-- https://openapi-generator.tech/docs/generators/jaxrs-spec --&gt;\r\n\r\n                    &lt;!-- These are the packages we want our APIs and Models generated in, respectively. --&gt;\r\n                    &lt;apiPackage&gt;com.ec.peigo.infrastructure.adapter.input&lt;/apiPackage&gt;\r\n                    &lt;modelPackage&gt;com.ec.peigo.domain.model&lt;/modelPackage&gt;\r\n                    &lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\r\n                    &lt;performBeanValidation&gt;true&lt;/performBeanValidation&gt;\r\n                    &lt;serializableModel&gt;true&lt;/serializableModel&gt;\r\n                    &lt;skipDefaultInterface&gt;false&lt;/skipDefaultInterface&gt;\r\n                    &lt;dateLibrary&gt;java17&lt;/dateLibrary&gt;\r\n                    &lt;useSwaggerAnnotations&gt;true&lt;/useSwaggerAnnotations&gt;\r\n\r\n                    &lt;!-- These values are largely up to you, and depend on your goals and philosophy. This SSCCE should support all permutations of the below. --&gt;\r\n\r\n                    &lt;!-- I prefer to have interface methods return model objects, not JAX-RS Response objects. I can still generate any response I want by throwing WebApplicationException classes. --&gt;\r\n                    &lt;!-- If this is set to true, then all generated service methods will return javax.ws.rs.core.Response objects. --&gt;\r\n                    &lt;!-- If this is set to false, then all generated service methods will return their respective model objects. --&gt;\r\n                    &lt;returnResponse&gt;false&lt;/returnResponse&gt;\r\n\r\n                    &lt;!-- I prefer to generate interfaces, not implementation. This allows me to make sure that my client and server implementations are in sync. --&gt;\r\n                    &lt;!-- If this is set to true, then service interfaces will be generated. --&gt;\r\n                    &lt;!-- If this is set to false, then service implementations will be generated. --&gt;\r\n                    &lt;interfaceOnly&gt;false&lt;/interfaceOnly&gt;\r\n\r\n                    &lt;!-- This is a useful feature for web frameworks that support the JAX-RS 2.1 feature of implementing asynchronous processing by returning CompletionStage instances. In all cases, generated service methods return either Response or a model object, depending on the above configuration. This configuration option affects all methods. Users cannot choose to make individual methods synchronous versus asynchronous. --&gt;\r\n                    &lt;!-- If this is set to true, then all generated service method return types will be changed from T to CompletionStage&lt;T&gt;. --&gt;\r\n                    &lt;!-- If this is set to false, then all generate service method return types will be unchanged. --&gt;\r\n                    &lt;supportAsync&gt;false&lt;/supportAsync&gt;\r\n                  &lt;/configOptions&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;add-source&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;add-source&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;sources&gt;\r\n                    &lt;!-- Add the generated source to the project so it gets compiled --&gt;\r\n                    &lt;source&gt;${openapi.source.directory}/src/gen/java&lt;/source&gt;\r\n                  &lt;/sources&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n\r\n\r\n    &lt;/project&gt;\r\n","title":"Microservice inside a container is using mavenCli but target folder is not being generateed","body":"<p>I'm having a microservice inside of a docker container. This microservice is based on open-api-generator maven plugin in order to generate child projects based on mustache templates and an archetype.</p>\n<p>I'm using maven to package the project and create the container. This is my docker file</p>\n<pre><code>FROM --platform=linux/arm64 maven:3.8.3-openjdk-17 as build\nENV TIME_ZONE America/Guayaquil\nENV TZ=$TIME_ZONE\nENV JAVA_OPTS &quot;-Djava.awt.headless=true -Xmx1250m -Xms256m - \nDmaven.artifact.threads=10&quot;\nWORKDIR /app\nRUN mkdir /app/archetype\nRUN mkdir /app/archetype/src\nADD archetype/src/ /app/archetype/src/\nADD archetype/*.xml /app/archetype/\nADD archetype/*.json /app/archetype/\nADD archetype/*.md /app/archetype\nRUN mkdir /app/openapi\nRUN mkdir /app/openapi/templates\nADD openapi/templates/* /app/openapi/templates/\nRUN mkdir /app/base\n\nCOPY ./base/. /app/base\nRUN mkdir /app/devops\nRUN mkdir /app/domain\nCOPY /pom.xml /app/pom.xml\nCOPY /openapi.yml /app/openapi.yml\nCOPY /src /app/src\n\nRUN mvn -f /app/pom.xml clean package -Dmaven.artifact.threads=20 -e -X\n\nEXPOSE 9010\nENTRYPOINT exec java -jar /app/target/generator-code-1.0.0-SNAPSHOT.jar -e java.io.tmpDir=/app\n</code></pre>\n<p>Sorry if there is a better way to write docker file, I'm starting to use docker.</p>\n<p>Everything works fine. Maven commands excecuted correctly, the jar is generated inside the <code>target</code> folder. The project starts correctly (the project has a front-end web in order to upload the open api contract in yml format).</p>\n<p>Now the problem begins (by the way, it work correctly in locally with IntelliJ)</p>\n<p>Then I fill my web fields, I upload the new openapi.yml contract and the microservice needs to execute the maven commands (clean install) in order to use the open-API-generator maven plugin and generate the classes. I'm using mavenCli in order to execute maven commands inside of my microservice.</p>\n<p>The child project is generated BUT is using the files inside of <code>target</code> folder created when the container was built. When the clean install commands are executed it supposed to replace the <code>target</code> folder when the new files but nothing is happend.</p>\n<p>No errors, warnings. I saw the container files and the target folder was not updated.</p>\n<p>I hope I can explained myself correctly.</p>\n<p>If there's any way or any configure that I need to perform in order to set the target folder correctly?</p>\n<p>This is my POM.xml</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.peigo.ec.generator&lt;/groupId&gt;\n  &lt;artifactId&gt;peigo-generator-code&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;Generator&lt;/name&gt;\n  &lt;description&gt;Project Generator Peigo&lt;/description&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n  &lt;/parent&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;openapi-generator.version&gt;4.2.3&lt;/openapi-generator.version&gt;\n    &lt;cloud-client.version&gt;2.2.5.RELEASE&lt;/cloud-client.version&gt;\n    &lt;base.package&gt;com.peigo.generator&lt;/base.package&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;openapi.source.directory&gt;${project.build.directory}/generated-sources/openapi&lt;/openapi.source.directory&gt;\n    \n\n    &lt;maven-failsafe-plugin.version&gt;2.22.2&lt;/maven-failsafe-plugin.version&gt;\n    &lt;maven-surefire-plugin.version&gt;2.22.2&lt;/maven-surefire-plugin.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    ...\n    ...\n    ...\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n\n\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;encoding default-value=&quot;UTF-8&quot;&gt;UTF-8&lt;/encoding&gt;\n          &lt;argLine&gt;-Dfile.encoding=${project.build.sourceEncoding}&lt;/argLine&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n      &lt;!-- Used for integration tests --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-failsafe-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;encoding default-value=&quot;UTF-8&quot;&gt;UTF-8&lt;/encoding&gt;\n          &lt;argLine&gt;-Dfile.encoding=${project.build.sourceEncoding} -Djava.io.tmpdir=${project.build.directory}&lt;/argLine&gt;\n          &lt;skipTests&gt;true&lt;/skipTests&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.10.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;${java.version}&lt;/source&gt;\n          &lt;target&gt;${java.version}&lt;/target&gt;\n          &lt;release&gt;${java.version}&lt;/release&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n        &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;5.4.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;generate&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;!-- This section includes the &quot;global&quot; configuration options, so called because they apply to all generators. Users generally don't need to care about this detail, except to make sure their configuration information lands in the correct place - &lt;configuration&gt; vs &lt;configOptions&gt;. --&gt;\n\n              &lt;!-- The OpenAPI spec is in a file in this repository called &quot;openapi.yml&quot;. It can also be a hyperlink. --&gt;\n              &lt;inputSpec&gt;${project.basedir}/openapi.yml&lt;/inputSpec&gt;\n\n              &lt;!-- There are many generators available. We are using jaxrs-spec. --&gt;\n              &lt;generatorName&gt;spring&lt;/generatorName&gt;\n              &lt;library&gt;spring-boot&lt;/library&gt;\n              &lt;!-- APIs are service interfaces or implementations. --&gt;\n              &lt;generateApis&gt;true&lt;/generateApis&gt;\n              &lt;!-- Models are DTOs, generally from the schemas portion of the spec. --&gt;\n              &lt;generateModels&gt;true&lt;/generateModels&gt;\n\n              &lt;!-- In this example, we're not generating the POM, README, etc. --&gt;\n              &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\n\n              &lt;!-- This is the default value, but be explicit so it's clear when we refer to the value elsewhere. --&gt;\n              &lt;output&gt;${openapi.source.directory}&lt;/output&gt;\n\n              &lt;!-- We are showing off template customization today. The custom templates are stored here. --&gt;\n              &lt;templateDirectory&gt;${project.basedir}/openapi/templates&lt;/templateDirectory&gt;\n\n              &lt;configOptions&gt;\n                &lt;!-- These are the &quot;local&quot; configuration options that apply only to this generator. --&gt;\n                &lt;!-- https://openapi-generator.tech/docs/generators/jaxrs-spec --&gt;\n\n                &lt;!-- These are the packages we want our APIs and Models generated in, respectively. --&gt;\n                &lt;apiPackage&gt;com.ec.peigo.infrastructure.adapter.input&lt;/apiPackage&gt;\n                &lt;modelPackage&gt;com.ec.peigo.domain.model&lt;/modelPackage&gt;\n                &lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\n                &lt;performBeanValidation&gt;true&lt;/performBeanValidation&gt;\n                &lt;serializableModel&gt;true&lt;/serializableModel&gt;\n                &lt;skipDefaultInterface&gt;false&lt;/skipDefaultInterface&gt;\n                &lt;dateLibrary&gt;java17&lt;/dateLibrary&gt;\n                &lt;useSwaggerAnnotations&gt;true&lt;/useSwaggerAnnotations&gt;\n\n                &lt;!-- These values are largely up to you, and depend on your goals and philosophy. This SSCCE should support all permutations of the below. --&gt;\n\n                &lt;!-- I prefer to have interface methods return model objects, not JAX-RS Response objects. I can still generate any response I want by throwing WebApplicationException classes. --&gt;\n                &lt;!-- If this is set to true, then all generated service methods will return javax.ws.rs.core.Response objects. --&gt;\n                &lt;!-- If this is set to false, then all generated service methods will return their respective model objects. --&gt;\n                &lt;returnResponse&gt;false&lt;/returnResponse&gt;\n\n                &lt;!-- I prefer to generate interfaces, not implementation. This allows me to make sure that my client and server implementations are in sync. --&gt;\n                &lt;!-- If this is set to true, then service interfaces will be generated. --&gt;\n                &lt;!-- If this is set to false, then service implementations will be generated. --&gt;\n                &lt;interfaceOnly&gt;false&lt;/interfaceOnly&gt;\n\n                &lt;!-- This is a useful feature for web frameworks that support the JAX-RS 2.1 feature of implementing asynchronous processing by returning CompletionStage instances. In all cases, generated service methods return either Response or a model object, depending on the above configuration. This configuration option affects all methods. Users cannot choose to make individual methods synchronous versus asynchronous. --&gt;\n                &lt;!-- If this is set to true, then all generated service method return types will be changed from T to CompletionStage&lt;T&gt;. --&gt;\n                &lt;!-- If this is set to false, then all generate service method return types will be unchanged. --&gt;\n                &lt;supportAsync&gt;false&lt;/supportAsync&gt;\n              &lt;/configOptions&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;add-source&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;add-source&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;sources&gt;\n                &lt;!-- Add the generated source to the project so it gets compiled --&gt;\n                &lt;source&gt;${openapi.source.directory}/src/gen/java&lt;/source&gt;\n              &lt;/sources&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","multithreading","parallel-processing","executorservice","sequential"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1679432349,"post_id":75806181,"comment_id":133720894,"body_markdown":"There are few conceptually different ways to do so and it&#39;s unclear from your question what have you tried, what does and what doesn&#39;t work for you. Like, have you tried `CompletableFuture` and `Executors`?","body":"There are few conceptually different ways to do so and it&#39;s unclear from your question what have you tried, what does and what doesn&#39;t work for you. Like, have you tried <code>CompletableFuture</code> and <code>Executors</code>?"},{"owner":{"account_id":3137993,"reputation":99,"user_id":2654102,"accept_rate":0,"display_name":"S2K"},"score":0,"creation_date":1679432854,"post_id":75806181,"comment_id":133721014,"body_markdown":"I haven&#39;t tried them yet. Open to any of the ways to achieve this.","body":"I haven&#39;t tried them yet. Open to any of the ways to achieve this."},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1679432952,"post_id":75806181,"comment_id":133721025,"body_markdown":"I guess you should start with something that would be much easier to help when you have a particular implementation problem","body":"I guess you should start with something that would be much easier to help when you have a particular implementation problem"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1679499821,"post_id":75806181,"comment_id":133733896,"body_markdown":"I want to feed the output to t5-&gt;t6.  What output is that?  A list of values returned from t1, t2, and t3?  The value returned from t4?  A combination of them?","body":"I want to feed the output to t5-&gt;t6.  What output is that?  A list of values returned from t1, t2, and t3?  The value returned from t4?  A combination of them?"},{"owner":{"account_id":3137993,"reputation":99,"user_id":2654102,"accept_rate":0,"display_name":"S2K"},"score":0,"creation_date":1679516143,"post_id":75806181,"comment_id":133738051,"body_markdown":"A combination of them. So each of these tasks set their output in a List&lt;OUTPUT&gt; object. t5,t6 (the set of final seq tasks) need output from all of the previous task to operate further.","body":"A combination of them. So each of these tasks set their output in a List&lt;OUTPUT&gt; object. t5,t6 (the set of final seq tasks) need output from all of the previous task to operate further."}],"answers":[{"tags":[],"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680145503,"creation_date":1679433437,"answer_id":75806426,"question_id":75806181,"body_markdown":"I believe this may be what you want:\r\n```java\r\nExecutorService parallel = Executors.newCachedThreadpool();\r\nExecutorService sequentialGlobal = Executors.newSingleThreadExecutor();\r\n// first, we add a a parallel executor which runs two sets of tasks in parallel\r\nsequentialGlobal.execute( () -&gt; {\r\n  parallel.execute( () -&gt; { //add the first set of tasks to run sequentially in one thread\r\n    ExecutorService sequential = Executors.newSingleThreadExecutor();\r\n    for(Runnable r: sequentials) sequential.execute(r); //sequentials would contain t1, t2 and t3 in the example\r\n  }\r\n  parallel.execute(t4); //and the other in another thread\r\n  //next we await the termination of those 2 threads\r\n  parallel.awaitTermination(timeout, timeUint); //select some value that fits your need\r\n});\r\n// we add the remaining tasks to run sequentially\r\nfor (Runnable r: lastSequentials) { //t5, t6\r\n  sequentialGlobal.execute(r);\r\n}\r\n// and await termination.\r\nsequentialGlobal.awaitTermination(timeout, timeUnit);\r\n```\r\nIt works this way: the sequential executors, are single thread executors that [guarantee sequential execution of the tasks in the order they are added][1]. And the parallel executor creates a thread for each task.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newSingleThreadExecutor--","title":"How to run a list of tasks where some of the tasks run sequentially to each other and one runs in parallel to them in java?","body":"<p>I believe this may be what you want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ExecutorService parallel = Executors.newCachedThreadpool();\nExecutorService sequentialGlobal = Executors.newSingleThreadExecutor();\n// first, we add a a parallel executor which runs two sets of tasks in parallel\nsequentialGlobal.execute( () -&gt; {\n  parallel.execute( () -&gt; { //add the first set of tasks to run sequentially in one thread\n    ExecutorService sequential = Executors.newSingleThreadExecutor();\n    for(Runnable r: sequentials) sequential.execute(r); //sequentials would contain t1, t2 and t3 in the example\n  }\n  parallel.execute(t4); //and the other in another thread\n  //next we await the termination of those 2 threads\n  parallel.awaitTermination(timeout, timeUint); //select some value that fits your need\n});\n// we add the remaining tasks to run sequentially\nfor (Runnable r: lastSequentials) { //t5, t6\n  sequentialGlobal.execute(r);\n}\n// and await termination.\nsequentialGlobal.awaitTermination(timeout, timeUnit);\n</code></pre>\n<p>It works this way: the sequential executors, are single thread executors that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newSingleThreadExecutor--\" rel=\"nofollow noreferrer\">guarantee sequential execution of the tasks in the order they are added</a>. And the parallel executor creates a thread for each task.</p>\n"},{"tags":[],"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679449339,"creation_date":1679448356,"answer_id":75807725,"question_id":75806181,"body_markdown":"In general:\r\n\r\n- To run tasks in parallel just executed the on a `ExecutorService` and a `Executors.newCachedThreadPool()` could be a good default choice. \r\n- When you want to run asynchronous tasks sequentially in the same thread just use `.thenApply(...)`\r\n- Use `.join()` to stop and wait for a result of the execution\r\n- Use `CompletableFuture.allOf` to have a single `CompletableFuture` of few\r\n\r\n\r\nIn you case it could be something like:\r\n\r\n    ExecutorService executor = Executors.newCachedThreadPool()\r\n\r\n    Supplier&lt;String&gt; task1 = { &quot;task1&quot; }\r\n    Function&lt;String, String&gt; task2 = { it + &quot; -&gt; task2&quot; }\r\n    Function&lt;String, String&gt; task3 = { it + &quot; -&gt; task3&quot; }\r\n    Supplier&lt;String&gt; task4 = { &quot;task4&quot; }\r\n    \r\n    CompletableFuture&lt;String&gt; task3result = CompletableFuture.supplyAsync(task1, executor)\r\n            .thenApply(task2)\r\n            .thenApply(task3)\r\n    \r\n    CompletableFuture&lt;String&gt; task4result  = CompletableFuture.supplyAsync(task4, executor)\r\n    \r\n    Function&lt;Void, String&gt; merge123and4 = {\r\n        &quot;[[&quot; + task3result.join() + &quot;] + &quot; + task4result.join() + &quot;]&quot;\r\n    }\r\n    Function&lt;String, String&gt; task5 = { it + &quot; -&gt; task5&quot; }\r\n    Function&lt;String, String&gt; task6 = { it + &quot; -&gt; task6&quot; }\r\n    \r\n    // or instead of .allOf().thenApplyAsync() you could simply use a new .supplyAsync()\r\n    CompletableFuture&lt;String&gt; result = CompletableFuture.allOf(task3result, task4result)\r\n        .thenApplyAsync(merge123and4, executor)\r\n        .thenApply(task5)\r\n        .thenApply(task6)\r\n    \r\n    System.out.println(&quot;Result: &quot; + result.join())\r\n\r\n\r\nPrints:\r\n\r\n    Result: [[task1 -&gt; task2 -&gt; task3] + task4] -&gt; task5 -&gt; task6\r\n","title":"How to run a list of tasks where some of the tasks run sequentially to each other and one runs in parallel to them in java?","body":"<p>In general:</p>\n<ul>\n<li>To run tasks in parallel just executed the on a <code>ExecutorService</code> and a <code>Executors.newCachedThreadPool()</code> could be a good default choice.</li>\n<li>When you want to run asynchronous tasks sequentially in the same thread just use <code>.thenApply(...)</code></li>\n<li>Use <code>.join()</code> to stop and wait for a result of the execution</li>\n<li>Use <code>CompletableFuture.allOf</code> to have a single <code>CompletableFuture</code> of few</li>\n</ul>\n<p>In you case it could be something like:</p>\n<pre><code>ExecutorService executor = Executors.newCachedThreadPool()\n\nSupplier&lt;String&gt; task1 = { &quot;task1&quot; }\nFunction&lt;String, String&gt; task2 = { it + &quot; -&gt; task2&quot; }\nFunction&lt;String, String&gt; task3 = { it + &quot; -&gt; task3&quot; }\nSupplier&lt;String&gt; task4 = { &quot;task4&quot; }\n\nCompletableFuture&lt;String&gt; task3result = CompletableFuture.supplyAsync(task1, executor)\n        .thenApply(task2)\n        .thenApply(task3)\n\nCompletableFuture&lt;String&gt; task4result  = CompletableFuture.supplyAsync(task4, executor)\n\nFunction&lt;Void, String&gt; merge123and4 = {\n    &quot;[[&quot; + task3result.join() + &quot;] + &quot; + task4result.join() + &quot;]&quot;\n}\nFunction&lt;String, String&gt; task5 = { it + &quot; -&gt; task5&quot; }\nFunction&lt;String, String&gt; task6 = { it + &quot; -&gt; task6&quot; }\n\n// or instead of .allOf().thenApplyAsync() you could simply use a new .supplyAsync()\nCompletableFuture&lt;String&gt; result = CompletableFuture.allOf(task3result, task4result)\n    .thenApplyAsync(merge123and4, executor)\n    .thenApply(task5)\n    .thenApply(task6)\n\nSystem.out.println(&quot;Result: &quot; + result.join())\n</code></pre>\n<p>Prints:</p>\n<pre><code>Result: [[task1 -&gt; task2 -&gt; task3] + task4] -&gt; task5 -&gt; task6\n</code></pre>\n"}],"owner":{"account_id":3137993,"reputation":99,"user_id":2654102,"accept_rate":0,"display_name":"S2K"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679842973,"accepted_answer_id":75806426,"answer_count":2,"score":0,"last_activity_date":1680145503,"creation_date":1679431336,"question_id":75806181,"body_markdown":"How do I run a list of tasks where some of them run sequentially while one runs parallel to these sequential tasks. At the end I want to combine the result of these sequential tasks &amp; parallel task to then pass to a list of sequential task again. \r\n\r\nFor eg: Let say, I have 6 tasks - t1 , t2, t3, t4, t5, t6.\r\n\r\n\r\nI want to run t1-&gt;t2-&gt;t3 sequentially while t4 can run parallel to these. Once all of them have completed, I want to feed the output to t5-&gt;t6.\r\n\r\nNote: The number of tasks can vary so I am looking for a generic answer where I can pass the list of tasks that have to be run in sequential &amp; tasks that can be run in parallel.\r\n \r\nLooking for suggestions on how can I achieve it in Java?  ","title":"How to run a list of tasks where some of the tasks run sequentially to each other and one runs in parallel to them in java?","body":"<p>How do I run a list of tasks where some of them run sequentially while one runs parallel to these sequential tasks. At the end I want to combine the result of these sequential tasks &amp; parallel task to then pass to a list of sequential task again.</p>\n<p>For eg: Let say, I have 6 tasks - t1 , t2, t3, t4, t5, t6.</p>\n<p>I want to run t1-&gt;t2-&gt;t3 sequentially while t4 can run parallel to these. Once all of them have completed, I want to feed the output to t5-&gt;t6.</p>\n<p>Note: The number of tasks can vary so I am looking for a generic answer where I can pass the list of tasks that have to be run in sequential &amp; tasks that can be run in parallel.</p>\n<p>Looking for suggestions on how can I achieve it in Java?</p>\n"},{"tags":["java","hibernate","spring-data-jpa","pagination"],"comments":[{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1676038647,"post_id":75410360,"comment_id":133062433,"body_markdown":"These error messages do not come from mysql.","body":"These error messages do not come from mysql."}],"answers":[{"tags":[],"owner":{"account_id":3622222,"reputation":1087,"user_id":3020667,"accept_rate":75,"display_name":"Kandy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680145429,"creation_date":1676101996,"answer_id":75418808,"question_id":75410360,"body_markdown":"This was happened due to older spring-data-commons-1.10.RELEASE.jar that imports for Page object instead of spring-data-commons-1.13.23.RELEASE.jar with some other jars in modular project. ","title":"Pagination on Native sql query gives : unexpected token: ON","body":"<p>This was happened due to older spring-data-commons-1.10.RELEASE.jar that imports for Page object instead of spring-data-commons-1.13.23.RELEASE.jar with some other jars in modular project.</p>\n"}],"owner":{"account_id":3622222,"reputation":1087,"user_id":3020667,"accept_rate":75,"display_name":"Kandy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680145429,"creation_date":1676027653,"question_id":75410360,"body_markdown":"While writing a pagination query in repository as below code segment, I&#39;m getting following error. \r\n\r\n&gt; Code\r\n\r\n    @Repository\r\n    public interface Aaaa extends PagingAndSortingRepository&lt;TxnDealerInventoryItem, Long&gt; {\r\n    \r\n        @Query(value = &quot;SELECT EM.PART_NO, EM.PART_NAME FROM TXN_DEALER_INVENTORY_ITEM E INNER JOIN MST_PRODUCT EM ON E.PRODUCT_ID = EM.PRODUCT_ID WHERE E.ACCOUNT_ID= :accountId AND EM.ALLOW_SERIAL_NUM = :isSerialized ORDER BY ?#{#pageable}&quot;,\r\n                countQuery = &quot;SELECT COUNT(*) FROM TXN_DEALER_INVENTORY_ITEM E INNER JOIN MST_PRODUCT EM ON E.PRODUCT_ID = EM.PRODUCT_ID WHERE E.ACCOUNT_ID= :accountId AND EM.ALLOW_SERIAL_NUM = :isSerialized&quot;,\r\n                nativeQuery = true)\r\n        Page&lt;Object[]&gt; getNonSerializedDeviceList(@Param(&quot;accountId&quot;) Long accountId, @Param(&quot;isSerialized&quot;) String isSerialized, Pageable pageable);\r\n    }\r\n\r\n&gt; Error\r\n\r\n    HQL: SELECT COUNT(*) FROM TXN_DEALER_INVENTORY_ITEM E INNER JOIN MST_PRODUCT EM ON E.PRODUCT_ID = EM.PRODUCT_ID WHERE E.ACCOUNT_ID= :accountId AND EM.ALLOW_SERIAL_NUM = :isSerialized\r\n    2023-02-10 18:52:52,753 ERROR [org.hibernate.hql.internal.ast.ErrorCounter] (http-/127.0.0.1:8881-1) line 1:76: unexpected token: ON\r\n\r\nNative Query doesn&#39;t have any error when run from sql developer.\r\n\r\nFramework versions are as follows, Unfortunately I&#39;cant update these any further as there are limitations in deployment environment. You inputs are highly welcome on this !!\r\n\t\t\r\n\r\n&gt; &lt;spring.version&gt;4.3.30.RELEASE&lt;/spring.version&gt;\r\n&gt; &lt;spring.data.version&gt;1.11.23.RELEASE&lt;/spring.data.version&gt;\r\n&gt; &lt;hibernate.version&gt;4.2.18.Final&lt;/hibernate.version&gt;\r\n\r\nPS : for testing purpose when I change the SQL to a very basic like a select *, It gives following error.\r\n\r\n    org.hibernate.hql.internal.ast.QuerySyntaxException: TXN_DEALER_INVENTORY_ITEM is not mapped [SELECT COUNT(*) FROM TXN_DEALER_INVENTORY_ITEM E ]\r\n\r\n   ","title":"Pagination on Native sql query gives : unexpected token: ON","body":"<p>While writing a pagination query in repository as below code segment, I'm getting following error.</p>\n<blockquote>\n<p>Code</p>\n</blockquote>\n<pre><code>@Repository\npublic interface Aaaa extends PagingAndSortingRepository&lt;TxnDealerInventoryItem, Long&gt; {\n\n    @Query(value = &quot;SELECT EM.PART_NO, EM.PART_NAME FROM TXN_DEALER_INVENTORY_ITEM E INNER JOIN MST_PRODUCT EM ON E.PRODUCT_ID = EM.PRODUCT_ID WHERE E.ACCOUNT_ID= :accountId AND EM.ALLOW_SERIAL_NUM = :isSerialized ORDER BY ?#{#pageable}&quot;,\n            countQuery = &quot;SELECT COUNT(*) FROM TXN_DEALER_INVENTORY_ITEM E INNER JOIN MST_PRODUCT EM ON E.PRODUCT_ID = EM.PRODUCT_ID WHERE E.ACCOUNT_ID= :accountId AND EM.ALLOW_SERIAL_NUM = :isSerialized&quot;,\n            nativeQuery = true)\n    Page&lt;Object[]&gt; getNonSerializedDeviceList(@Param(&quot;accountId&quot;) Long accountId, @Param(&quot;isSerialized&quot;) String isSerialized, Pageable pageable);\n}\n</code></pre>\n<blockquote>\n<p>Error</p>\n</blockquote>\n<pre><code>HQL: SELECT COUNT(*) FROM TXN_DEALER_INVENTORY_ITEM E INNER JOIN MST_PRODUCT EM ON E.PRODUCT_ID = EM.PRODUCT_ID WHERE E.ACCOUNT_ID= :accountId AND EM.ALLOW_SERIAL_NUM = :isSerialized\n2023-02-10 18:52:52,753 ERROR [org.hibernate.hql.internal.ast.ErrorCounter] (http-/127.0.0.1:8881-1) line 1:76: unexpected token: ON\n</code></pre>\n<p>Native Query doesn't have any error when run from sql developer.</p>\n<p>Framework versions are as follows, Unfortunately I'cant update these any further as there are limitations in deployment environment. You inputs are highly welcome on this !!</p>\n<blockquote>\n<p>&lt;spring.version&gt;4.3.30.RELEASE&lt;/spring.version&gt;\n&lt;spring.data.version&gt;1.11.23.RELEASE&lt;/spring.data.version&gt;\n&lt;hibernate.version&gt;4.2.18.Final&lt;/hibernate.version&gt;</p>\n</blockquote>\n<p>PS : for testing purpose when I change the SQL to a very basic like a select *, It gives following error.</p>\n<pre><code>org.hibernate.hql.internal.ast.QuerySyntaxException: TXN_DEALER_INVENTORY_ITEM is not mapped [SELECT COUNT(*) FROM TXN_DEALER_INVENTORY_ITEM E ]\n</code></pre>\n"},{"tags":["java","spring-boot","quartz-scheduler"],"owner":{"account_id":25768053,"reputation":13,"user_id":19517460,"display_name":"puneet Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680145205,"creation_date":1680145205,"question_id":75883762,"body_markdown":"I am trying to schedule a job using quartz scheduler. The job is executed everyday at morning 7 AM. The job is to execute the list of python programs (more than 1) in sequence. \r\n\r\nIf program one fails then next any other program will NOT get executed.\r\n\r\nFor one program it works. But how to achieve for list of programs\r\n\r\nFollowing is how job is schedule\r\n\r\n    private void scheduleJob(JobDataMap jobData, String cronExpression, Class&lt;? extends Job&gt; jobClass, String jobNamePrefix) throws BaseException {\r\n      var jobDetail = newJob()\r\n              .ofType(jobClass)\r\n              .storeDurably()\r\n              .withIdentity(JobKey.jobKey(jobNamePrefix))\r\n              .setJobData(jobData)\r\n              .withDescription(String.format(&quot;Scheduled job: &#39;%s&#39;&quot;, jobNamePrefix))\r\n              .build();\r\n    \r\n      var trigger = newTrigger()\r\n              .withIdentity(&quot;T_&quot; + jobNamePrefix)\r\n              .forJob(JobKey.jobKey(jobNamePrefix))\r\n              .startNow()\r\n              .withSchedule(CronScheduleBuilder\r\n                      .cronSchedule(cronExpression)\r\n                      .inTimeZone(TimeZone.getTimeZone(ZoneId.of(Constants.DEFAULT_TIMEZONE)))\r\n                      .withMisfireHandlingInstructionDoNothing())\r\n              .endAt(Date.from(Instant.parse(Constants.DEFAULT_END_TIME)))\r\n              .build();\r\n    \r\n      try {\r\n              Date scheduleJobDate = scheduler.scheduleJob(jobDetail, trigger);\r\n              log.info(&quot;Job scheduled successfully: &#39;{}&#39; @ &#39;{}&#39;&quot;, jobNamePrefix, scheduleJobDate);\r\n      } catch (SchedulerException e) {\r\n              log.error(&quot;Error while scheduling job : &#39;{}&#39;&quot;, jobNamePrefix);\r\n              throw new BaseException(String.format(&quot;Error while scheduling job &#39;%s&#39;&quot;, jobNamePrefix), e);\r\n      }\r\n    }\r\n\r\n\r\nWhat should be the approach for If program one fails then next any other program will NOT get executed?","title":"Execute scheduled Job in sequence spring boot","body":"<p>I am trying to schedule a job using quartz scheduler. The job is executed everyday at morning 7 AM. The job is to execute the list of python programs (more than 1) in sequence.</p>\n<p>If program one fails then next any other program will NOT get executed.</p>\n<p>For one program it works. But how to achieve for list of programs</p>\n<p>Following is how job is schedule</p>\n<pre><code>private void scheduleJob(JobDataMap jobData, String cronExpression, Class&lt;? extends Job&gt; jobClass, String jobNamePrefix) throws BaseException {\n  var jobDetail = newJob()\n          .ofType(jobClass)\n          .storeDurably()\n          .withIdentity(JobKey.jobKey(jobNamePrefix))\n          .setJobData(jobData)\n          .withDescription(String.format(&quot;Scheduled job: '%s'&quot;, jobNamePrefix))\n          .build();\n\n  var trigger = newTrigger()\n          .withIdentity(&quot;T_&quot; + jobNamePrefix)\n          .forJob(JobKey.jobKey(jobNamePrefix))\n          .startNow()\n          .withSchedule(CronScheduleBuilder\n                  .cronSchedule(cronExpression)\n                  .inTimeZone(TimeZone.getTimeZone(ZoneId.of(Constants.DEFAULT_TIMEZONE)))\n                  .withMisfireHandlingInstructionDoNothing())\n          .endAt(Date.from(Instant.parse(Constants.DEFAULT_END_TIME)))\n          .build();\n\n  try {\n          Date scheduleJobDate = scheduler.scheduleJob(jobDetail, trigger);\n          log.info(&quot;Job scheduled successfully: '{}' @ '{}'&quot;, jobNamePrefix, scheduleJobDate);\n  } catch (SchedulerException e) {\n          log.error(&quot;Error while scheduling job : '{}'&quot;, jobNamePrefix);\n          throw new BaseException(String.format(&quot;Error while scheduling job '%s'&quot;, jobNamePrefix), e);\n  }\n}\n</code></pre>\n<p>What should be the approach for If program one fails then next any other program will NOT get executed?</p>\n"},{"tags":["java","hl7-fhir","hapi","hapi-fhir"],"answers":[{"tags":[],"owner":{"account_id":379793,"reputation":1859,"user_id":733398,"display_name":"BlessedHIT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680142404,"creation_date":1680142404,"answer_id":75883582,"question_id":75862380,"body_markdown":"You could try:\r\n\r\n    // Create the search parameters\r\n    AppointmentSearchParams searchParams = new AppointmentSearchParams();\r\n    searchParams\r\n      .setServiceCategory(new TokenClientParam(&quot;http://example.com/fhir/service-category&quot;, &quot;category-code&quot;))\r\n      .setServiceType(new TokenClientParam(&quot;http://example.com/fhir/service-type&quot;, &quot;type-code&quot;));\r\n    \r\n    // Execute the search\r\n    Bundle bundle = fhirClient.search()\r\n      .forResource(Appointment.class)\r\n      .withIdAndCompartment(patientId, ResourceType.Patient.name())\r\n      .where(searchParams)\r\n      .returnBundle(Bundle.class)\r\n      .execute();\r\n    \r\n    // Retrieve the Appointments from the search results\r\n    List&lt;Appointment&gt; appointments = BundleUtil.toListOfResourcesOfType(fhirClient.getFhirContext(), bundle, Appointment.class);\r\n\r\nNB: you should replace http://example.com/fhir/service-category and http://example.com/fhir/service-type with the actual system values for the service category and service type codes you want to search for. If you don&#39;t know these or want to search for across all systems then your search params will need to look like below. Notice the use of null instead of the actual system value:\r\n\r\n    // Create the search parameters\r\n    AppointmentSearchParams searchParams = new AppointmentSearchParams();\r\n    searchParams\r\n      .setServiceCategory(new TokenClientParam(null, &quot;category-code&quot;))\r\n      .setServiceType(new TokenClientParam(null, &quot;type-code&quot;));","title":"Hapi FHIR - Appointment with patientId and list of service category name","body":"<p>You could try:</p>\n<pre><code>// Create the search parameters\nAppointmentSearchParams searchParams = new AppointmentSearchParams();\nsearchParams\n  .setServiceCategory(new TokenClientParam(&quot;http://example.com/fhir/service-category&quot;, &quot;category-code&quot;))\n  .setServiceType(new TokenClientParam(&quot;http://example.com/fhir/service-type&quot;, &quot;type-code&quot;));\n\n// Execute the search\nBundle bundle = fhirClient.search()\n  .forResource(Appointment.class)\n  .withIdAndCompartment(patientId, ResourceType.Patient.name())\n  .where(searchParams)\n  .returnBundle(Bundle.class)\n  .execute();\n\n// Retrieve the Appointments from the search results\nList&lt;Appointment&gt; appointments = BundleUtil.toListOfResourcesOfType(fhirClient.getFhirContext(), bundle, Appointment.class);\n</code></pre>\n<p>NB: you should replace <a href=\"http://example.com/fhir/service-category\" rel=\"nofollow noreferrer\">http://example.com/fhir/service-category</a> and <a href=\"http://example.com/fhir/service-type\" rel=\"nofollow noreferrer\">http://example.com/fhir/service-type</a> with the actual system values for the service category and service type codes you want to search for. If you don't know these or want to search for across all systems then your search params will need to look like below. Notice the use of null instead of the actual system value:</p>\n<pre><code>// Create the search parameters\nAppointmentSearchParams searchParams = new AppointmentSearchParams();\nsearchParams\n  .setServiceCategory(new TokenClientParam(null, &quot;category-code&quot;))\n  .setServiceType(new TokenClientParam(null, &quot;type-code&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14544626,"reputation":129,"user_id":10505187,"display_name":"fixcer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680144940,"creation_date":1680144940,"answer_id":75883743,"question_id":75862380,"body_markdown":"The fields you want to search have all been added to the `Search parameter` by `HAPI FHIR`, you can refer to my code below\r\n```\r\n    public List&lt;Appointment&gt; findByPatientIdAndServiceTypeAndServiceCategory(\r\n            final String patientId,\r\n            final String serviceType,\r\n            final String serviceCategory,\r\n            final int offset,\r\n            final int limit,\r\n            final Collection&lt;Include&gt; includes) {\r\n        final IQuery&lt;?&gt; theQuery = fhirClient.search().forResource(Appointment.class)\r\n            .totalMode(SearchTotalModeEnum.ACCURATE)\r\n            .offset(offset)\r\n            .count(limit);\r\n\r\n        if (StringUtils.isNotBlank(patientId)) {\r\n            theQuery.and(Appointment.PATIENT.hasId(patientId));\r\n        }\r\n\r\n        if (StringUtils.isNotBlank(serviceType)) {\r\n            theQuery.and(Appointment.SERVICE_TYPE.exactly().code(serviceType));\r\n        }\r\n\r\n        if (StringUtils.isNotBlank(serviceCategory)) {\r\n            theQuery.and(Appointment.SERVICE_CATEGORY.exactly().code(serviceCategory));\r\n        }\r\n\r\n        CollectionUtils.emptyIfNull(includes).forEach(theQuery::include);\r\n\r\n        theQuery.returnBundle(Bundle.class).execute();\r\n        Bundle result = theQuery.returnBundle(Bundle.class).execute();\r\n\r\n        if (result.getEntry().isEmpty()) {\r\n            return Collections.emptyList();\r\n        }\r\n\r\n        return result.getEntry()\r\n            .stream()\r\n            .filter(entryComponent -&gt; entryComponent.getResource() instanceof Appointment)\r\n            .map(entry -&gt; (Appointment) entry.getResource())\r\n            .collect(Collectors.toList());\r\n    }\r\n```","title":"Hapi FHIR - Appointment with patientId and list of service category name","body":"<p>The fields you want to search have all been added to the <code>Search parameter</code> by <code>HAPI FHIR</code>, you can refer to my code below</p>\n<pre><code>    public List&lt;Appointment&gt; findByPatientIdAndServiceTypeAndServiceCategory(\n            final String patientId,\n            final String serviceType,\n            final String serviceCategory,\n            final int offset,\n            final int limit,\n            final Collection&lt;Include&gt; includes) {\n        final IQuery&lt;?&gt; theQuery = fhirClient.search().forResource(Appointment.class)\n            .totalMode(SearchTotalModeEnum.ACCURATE)\n            .offset(offset)\n            .count(limit);\n\n        if (StringUtils.isNotBlank(patientId)) {\n            theQuery.and(Appointment.PATIENT.hasId(patientId));\n        }\n\n        if (StringUtils.isNotBlank(serviceType)) {\n            theQuery.and(Appointment.SERVICE_TYPE.exactly().code(serviceType));\n        }\n\n        if (StringUtils.isNotBlank(serviceCategory)) {\n            theQuery.and(Appointment.SERVICE_CATEGORY.exactly().code(serviceCategory));\n        }\n\n        CollectionUtils.emptyIfNull(includes).forEach(theQuery::include);\n\n        theQuery.returnBundle(Bundle.class).execute();\n        Bundle result = theQuery.returnBundle(Bundle.class).execute();\n\n        if (result.getEntry().isEmpty()) {\n            return Collections.emptyList();\n        }\n\n        return result.getEntry()\n            .stream()\n            .filter(entryComponent -&gt; entryComponent.getResource() instanceof Appointment)\n            .map(entry -&gt; (Appointment) entry.getResource())\n            .collect(Collectors.toList());\n    }\n</code></pre>\n"}],"owner":{"account_id":26245089,"reputation":5,"user_id":19918713,"display_name":"Ksyar2001"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75883743,"answer_count":2,"score":0,"last_activity_date":1680144940,"creation_date":1679978295,"question_id":75862380,"body_markdown":"I am new to HAPI FHIR api,\r\nBut I am trying to get Appointment resources for a patientID with service category and service type code.\r\n\r\nI can find appointments for patient with `withIDAndCompartment` but not sure how to add the search criteria.\r\n\r\n```\r\nBundle bundle = fhirClient.search().forResource(Patient.class).withIdAndCompartment(patientId, ResourceType.Appointment.name()).returnBundle(Bunle.class).execute();\r\n\r\nList&lt;Appointment&gt; appointments = BundleUtil.toListOfResourcesOfType(fhirClient.getFhirContext(), bundle, Appointment.class);\r\n```\r\n\r\nwill return patientId&#39;s appointments.\r\n\r\nI am not sure how to use TokenClientParam, `Appointment.SERVICE_CATEGORY` or `Appointment.SERVICE_TYPE`, to search the appointment type with the input service category or service type code.\r\n\r\nAny help will be appreciated","title":"Hapi FHIR - Appointment with patientId and list of service category name","body":"<p>I am new to HAPI FHIR api,\nBut I am trying to get Appointment resources for a patientID with service category and service type code.</p>\n<p>I can find appointments for patient with <code>withIDAndCompartment</code> but not sure how to add the search criteria.</p>\n<pre><code>Bundle bundle = fhirClient.search().forResource(Patient.class).withIdAndCompartment(patientId, ResourceType.Appointment.name()).returnBundle(Bunle.class).execute();\n\nList&lt;Appointment&gt; appointments = BundleUtil.toListOfResourcesOfType(fhirClient.getFhirContext(), bundle, Appointment.class);\n</code></pre>\n<p>will return patientId's appointments.</p>\n<p>I am not sure how to use TokenClientParam, <code>Appointment.SERVICE_CATEGORY</code> or <code>Appointment.SERVICE_TYPE</code>, to search the appointment type with the input service category or service type code.</p>\n<p>Any help will be appreciated</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":9109596,"reputation":2502,"user_id":6778826,"accept_rate":100,"display_name":"Aleksandar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680144555,"creation_date":1680137650,"answer_id":75883302,"question_id":75883018,"body_markdown":"Based on this https://stackoverflow.com/questions/38220543/java-8-localdate-how-do-i-get-all-dates-between-two-dates/50969630#50969630 answer have I created this code\r\n\r\n    List&lt;String&gt; dirs = Arrays.asList(&quot;dir1&quot;, &quot;dir2&quot;);\r\n    StringBuffer toGlobFiles = new StringBuffer(&quot;*{&quot;);\r\n    LocalDate ldStart = LocalDate.now().minusMonths(6);\r\n\r\n\tList&lt;LocalDate&gt; dates = ldStart // Determine your beginning `LocalDate` object.\r\n\t\t\t.datesUntil( // Generate stream of `LocalDate` objects.\r\n\t\t\t\t\tldStart.plusMonths(7), Period.ofMonths(1) // Calculate your ending date, and ask for a stream of\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  // dates till then.\r\n\t\t\t) // Returns the stream.\r\n\t\t\t.collect(Collectors.toList()); // Collect your resulting dates in a `List`.\r\n\r\n\tfor (LocalDate localDate : dates) {\r\n      logger.info(&quot;{}&quot;,localDate.format(DateTimeFormatter.ofPattern(&quot;YYYY-MM,&quot;)));\r\n      toGlobFiles.append(localDate.format(DateTimeFormatter.ofPattern(&quot;YYYY-MM,&quot;)));\r\n\t}\r\n\r\n\t// Remove last &#39;,&#39; from the loop above\r\n\ttoGlobFiles.setLength(toGlobFiles.length() - 1);\r\n\ttoGlobFiles.append(&quot;}*.{gz,log}&quot;);\r\n\r\n\tlogger.info(&quot;toGlobFiles {}&quot;, toGlobFiles);\r\n\r\n\tfor (String dir : dirs) {\r\n\t\tFiles.newDirectoryStream(Paths.get(dir), toGlobFiles.toString()).forEach(files::add);\r\n\t}\r\n\r\n\tlogger.info(&quot;Found # of files {}&quot;, files.size());\r\n\r\nThe output of the run is this.\r\n\r\n    toGlobFiles *{2022-09,2022-10,2022-11,2022-12,2023-01,2023-02,2023-03}*.{gz,log}\r\n    Found # of files 352","title":"get date sequence for file glob creation","body":"<p>Based on this <a href=\"https://stackoverflow.com/questions/38220543/java-8-localdate-how-do-i-get-all-dates-between-two-dates/50969630#50969630\">Java 8 LocalDate - How do I get all dates between two dates?</a> answer have I created this code</p>\n<pre><code>List&lt;String&gt; dirs = Arrays.asList(&quot;dir1&quot;, &quot;dir2&quot;);\nStringBuffer toGlobFiles = new StringBuffer(&quot;*{&quot;);\nLocalDate ldStart = LocalDate.now().minusMonths(6);\n\nList&lt;LocalDate&gt; dates = ldStart // Determine your beginning `LocalDate` object.\n        .datesUntil( // Generate stream of `LocalDate` objects.\n                ldStart.plusMonths(7), Period.ofMonths(1) // Calculate your ending date, and ask for a stream of\n                                                              // dates till then.\n        ) // Returns the stream.\n        .collect(Collectors.toList()); // Collect your resulting dates in a `List`.\n\nfor (LocalDate localDate : dates) {\n  logger.info(&quot;{}&quot;,localDate.format(DateTimeFormatter.ofPattern(&quot;YYYY-MM,&quot;)));\n  toGlobFiles.append(localDate.format(DateTimeFormatter.ofPattern(&quot;YYYY-MM,&quot;)));\n}\n\n// Remove last ',' from the loop above\ntoGlobFiles.setLength(toGlobFiles.length() - 1);\ntoGlobFiles.append(&quot;}*.{gz,log}&quot;);\n\nlogger.info(&quot;toGlobFiles {}&quot;, toGlobFiles);\n\nfor (String dir : dirs) {\n    Files.newDirectoryStream(Paths.get(dir), toGlobFiles.toString()).forEach(files::add);\n}\n\nlogger.info(&quot;Found # of files {}&quot;, files.size());\n</code></pre>\n<p>The output of the run is this.</p>\n<pre><code>toGlobFiles *{2022-09,2022-10,2022-11,2022-12,2023-01,2023-02,2023-03}*.{gz,log}\nFound # of files 352\n</code></pre>\n"}],"owner":{"account_id":9109596,"reputation":2502,"user_id":6778826,"accept_rate":100,"display_name":"Aleksandar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680144555,"creation_date":1680133162,"question_id":75883018,"body_markdown":"I have two directories which have some files since 20019.  \r\nNow I need to make a glob which collects only the files from the last 6 months.\r\n\r\nI have tried to use this functions but I haven&#39;t found a way to get the sequence for the month and year from month X to current Month via year change.\r\n\r\n    logger.info(&quot;getYear {}&quot;, LocalDate.now().minusMonths(6).getYear());\r\n    logger.info(&quot;last 6 month log7177/log-{}-{}&quot;, \r\n\t\t  LocalDate.now().minusMonths(6).getYear(),\r\n\t\t  LocalDate.now().minusMonths(6).getMonthValue());\r\n\r\nthe Shell pattern looks like this\r\n\r\n    ls -la log7177/log-2022-{09,10,11}* log7177/log-2023-{01,02,03}*\r\n\r\nAny hint into the right direction is really appreciated. ","title":"get date sequence for file glob creation","body":"<p>I have two directories which have some files since 20019.<br />\nNow I need to make a glob which collects only the files from the last 6 months.</p>\n<p>I have tried to use this functions but I haven't found a way to get the sequence for the month and year from month X to current Month via year change.</p>\n<pre><code>logger.info(&quot;getYear {}&quot;, LocalDate.now().minusMonths(6).getYear());\nlogger.info(&quot;last 6 month log7177/log-{}-{}&quot;, \n      LocalDate.now().minusMonths(6).getYear(),\n      LocalDate.now().minusMonths(6).getMonthValue());\n</code></pre>\n<p>the Shell pattern looks like this</p>\n<pre><code>ls -la log7177/log-2022-{09,10,11}* log7177/log-2023-{01,02,03}*\n</code></pre>\n<p>Any hint into the right direction is really appreciated.</p>\n"},{"tags":["java","user-interface","netbeans"],"owner":{"account_id":23566348,"reputation":3,"user_id":19376401,"display_name":"nitr0_nick03"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680143604,"creation_date":1680143604,"question_id":75883658,"body_markdown":"I have coded a GUI in a java class and would now like to add features to it using the drag and drop feature that JPanel Form allow from the editing view is there a way to convert the java class so that I can view the gui I built in the editor view?\r\n\r\nIve tried right clicking and copying the code but its not working.","title":"How to Convert a Java Class to JPanel Form","body":"<p>I have coded a GUI in a java class and would now like to add features to it using the drag and drop feature that JPanel Form allow from the editing view is there a way to convert the java class so that I can view the gui I built in the editor view?</p>\n<p>Ive tried right clicking and copying the code but its not working.</p>\n"},{"tags":["java","xml","xsd","digital-signature","xml-signature"],"answers":[{"tags":[],"owner":{"account_id":352365,"reputation":4823,"user_id":689416,"accept_rate":79,"display_name":"czetsuya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680143404,"creation_date":1680143404,"answer_id":75883649,"question_id":75852644,"body_markdown":"I was able to achieve this requirement by creating a custom unmarshaller.\r\n\r\nHere&#39;s the signing code where I create a new XMLSignature object from package javax.xml.crypto.dsig. Use it to sign the document.\r\n\r\nFinally, use the custom unmarshaller to read the document as DTO and eventually get the signature object to be assign to the JAXB generated DTO.\r\n\r\n    XMLSignature signature = signatureFactory.newXMLSignature(signedInfo, ki);\r\n    \r\n    // Marshal, generate, and sign the enveloped signature\r\n    signature.sign(dsc);\r\n    \r\n    JAXBElement&lt;?&gt; root = XmlUtils.UNMARSHALLER.unmarshal(getStreamSource(doc), xml.getClass());\r\n    \r\n    xml.setSignature(((Xml) root.getValue()).getSignature());\r\n\r\nA more detailed explanation is available in my blog at https://www.czetsuyatech.com/2023/02/java-digitally-sign-an-xml-document.html","title":"How to set a Java digital signature to an XML DSIG DTO","body":"<p>I was able to achieve this requirement by creating a custom unmarshaller.</p>\n<p>Here's the signing code where I create a new XMLSignature object from package javax.xml.crypto.dsig. Use it to sign the document.</p>\n<p>Finally, use the custom unmarshaller to read the document as DTO and eventually get the signature object to be assign to the JAXB generated DTO.</p>\n<pre><code>XMLSignature signature = signatureFactory.newXMLSignature(signedInfo, ki);\n\n// Marshal, generate, and sign the enveloped signature\nsignature.sign(dsc);\n\nJAXBElement&lt;?&gt; root = XmlUtils.UNMARSHALLER.unmarshal(getStreamSource(doc), xml.getClass());\n\nxml.setSignature(((Xml) root.getValue()).getSignature());\n</code></pre>\n<p>A more detailed explanation is available in my blog at <a href=\"https://www.czetsuyatech.com/2023/02/java-digitally-sign-an-xml-document.html\" rel=\"nofollow noreferrer\">https://www.czetsuyatech.com/2023/02/java-digitally-sign-an-xml-document.html</a></p>\n"}],"owner":{"account_id":352365,"reputation":4823,"user_id":689416,"accept_rate":79,"display_name":"czetsuya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75883649,"answer_count":1,"score":0,"last_activity_date":1680143404,"creation_date":1679898134,"question_id":75852644,"body_markdown":"I have a requirement to send a signed XML message via REST. The XSD contains the schema https://www.w3.org/TR/2002/REC-xmldsig-core-20020212/xmldsig-core-schema.xsd. I was able to successfully generate the XML document with a signature and write it to a file.\r\n\r\nMy problem is that the XML signing library (javax.xml.crypto.dsig) generates the signature as interface &quot;XMLSignature&quot;. But the DTOs generated from my XSD use the Java classes from xmldsig-core-schema.xsd.\r\n\r\nIs there a way for the XML signing library to use the generated Java files from XSD or simply convert the XMLSignature?\r\n\r\nThis is the generated classes from XSD:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3flMh.png","title":"How to set a Java digital signature to an XML DSIG DTO","body":"<p>I have a requirement to send a signed XML message via REST. The XSD contains the schema <a href=\"https://www.w3.org/TR/2002/REC-xmldsig-core-20020212/xmldsig-core-schema.xsd\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/2002/REC-xmldsig-core-20020212/xmldsig-core-schema.xsd</a>. I was able to successfully generate the XML document with a signature and write it to a file.</p>\n<p>My problem is that the XML signing library (javax.xml.crypto.dsig) generates the signature as interface &quot;XMLSignature&quot;. But the DTOs generated from my XSD use the Java classes from xmldsig-core-schema.xsd.</p>\n<p>Is there a way for the XML signing library to use the generated Java files from XSD or simply convert the XMLSignature?</p>\n<p>This is the generated classes from XSD:</p>\n<p><a href=\"https://i.stack.imgur.com/3flMh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3flMh.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","algorithm","substring","token","tokenize"],"comments":[{"owner":{"account_id":2882210,"reputation":1777,"user_id":2472827,"display_name":"Neil"},"score":0,"creation_date":1680146253,"post_id":75883607,"comment_id":133849529,"body_markdown":"I think email can contain # characters, that complicates things?","body":"I think email can contain # characters, that complicates things?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1680153533,"post_id":75883607,"comment_id":133850260,"body_markdown":"[Parsing a URL](https://docs.oracle.com/javase/tutorial/networking/urls/urlInfo.html).  After you&#39;ve separated the URL into parts, you can use the regular expressions in the answers.","body":"<a href=\"https://docs.oracle.com/javase/tutorial/networking/urls/urlInfo.html\" rel=\"nofollow noreferrer\">Parsing a URL</a>.  After you&#39;ve separated the URL into parts, you can use the regular expressions in the answers."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680143320,"creation_date":1680143001,"answer_id":75883617,"question_id":75883607,"body_markdown":"You can use a regular expression to extract all characters between `#` characters.\r\n\r\n```java\r\nvar tokens = Pattern.compile(&quot;#[^#]+#&quot;).matcher(url).results()\r\n                    .map(MatchResult::group).toList();\r\n```\r\n\r\nYou could also use Apache Common Lang&#39;s [`StringUtils.substringsBetween`](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#substringsBetween-java.lang.String-java.lang.String-java.lang.String-), but it will remove the delimiting characters in the result.\r\n\r\n```java\r\nString[] tokens = StringUtils.substringsBetween(url, &quot;#&quot;, &quot;#&quot;);\r\n```","title":"Get all the tokens which are included in a String","body":"<p>You can use a regular expression to extract all characters between <code>#</code> characters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var tokens = Pattern.compile(&quot;#[^#]+#&quot;).matcher(url).results()\n                    .map(MatchResult::group).toList();\n</code></pre>\n<p>You could also use Apache Common Lang's <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#substringsBetween-java.lang.String-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\"><code>StringUtils.substringsBetween</code></a>, but it will remove the delimiting characters in the result.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] tokens = StringUtils.substringsBetween(url, &quot;#&quot;, &quot;#&quot;);\n</code></pre>\n"}],"owner":{"account_id":28163787,"reputation":11,"user_id":21523253,"display_name":"Jhonatan jOna Arcila"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680143320,"creation_date":1680142847,"question_id":75883607,"body_markdown":"I require your help, i am receiving a URL and it will include tokens which i need to compute for other thing. So basically i need to extract all the tokens in a list or another string.\r\n\r\ni.e\r\nString url= &quot;https://example.com/#EMAIL#/F77A1B8BDF89B7E4E90206DAC26AA737?firstname=#FIRSTNAME#&amp;lastname=#LASTNAME#&quot;\r\n\r\nso the result should be:\r\nresult: #EMAIL#, #FIRSTNAME# , #LASTNAME#\r\n\r\nI have tried:\r\nStringUtils.substringBetween(url,&quot;#&quot;);\r\nStringTokenizer tokenizer= new StringTokenizer(url,&quot;#&quot;);\r\n\r\nbut nothing has worked yet.","title":"Get all the tokens which are included in a String","body":"<p>I require your help, i am receiving a URL and it will include tokens which i need to compute for other thing. So basically i need to extract all the tokens in a list or another string.</p>\n<p>i.e\nString url= &quot;https://example.com/#EMAIL#/F77A1B8BDF89B7E4E90206DAC26AA737?firstname=#FIRSTNAME#&amp;lastname=#LASTNAME#&quot;</p>\n<p>so the result should be:\nresult: #EMAIL#, #FIRSTNAME# , #LASTNAME#</p>\n<p>I have tried:\nStringUtils.substringBetween(url,&quot;#&quot;);\nStringTokenizer tokenizer= new StringTokenizer(url,&quot;#&quot;);</p>\n<p>but nothing has worked yet.</p>\n"},{"tags":["java","spring","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":27908544,"reputation":1,"user_id":21311222,"display_name":"Pavan"},"score":1,"creation_date":1680146628,"post_id":75883566,"comment_id":133849565,"body_markdown":"Hii Try to delete cache and build the project : [link](https://stackoverflow.com/questions/17561826/how-to-clean-project-cache-in-intellij-idea-like-eclipses-clean)","body":"Hii Try to delete cache and build the project : <a href=\"https://stackoverflow.com/questions/17561826/how-to-clean-project-cache-in-intellij-idea-like-eclipses-clean\">link</a>"},{"owner":{"account_id":27908544,"reputation":1,"user_id":21311222,"display_name":"Pavan"},"score":1,"creation_date":1680146694,"post_id":75883566,"comment_id":133849570,"body_markdown":"delete the cache and build refer this link: https://stackoverflow.com/questions/17561826/how-to-clean-project-cache-in-intellij-idea-like-eclipses-clean","body":"delete the cache and build refer this link: <a href=\"https://stackoverflow.com/questions/17561826/how-to-clean-project-cache-in-intellij-idea-like-eclipses-clean\" title=\"how to clean project cache in intellij idea like eclipses clean\">stackoverflow.com/questions/17561826/&hellip;</a>"},{"owner":{"account_id":9543959,"reputation":77,"user_id":7090837,"display_name":"Yeras_QazaQ"},"score":0,"creation_date":1680158554,"post_id":75883566,"comment_id":133851111,"body_markdown":"You can&#39;t run, because your depencies didn&#39;t set, Reload project and upload depencies, plugins for running not available. Check also your maven configuration on the right side on Intellij Idea.","body":"You can&#39;t run, because your depencies didn&#39;t set, Reload project and upload depencies, plugins for running not available. Check also your maven configuration on the right side on Intellij Idea."},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1680183147,"post_id":75883566,"comment_id":133857442,"body_markdown":"Please check Maven tool window and add modules is they are missing.","body":"Please check Maven tool window and add modules is they are missing."}],"owner":{"account_id":26072866,"reputation":1,"user_id":19772216,"display_name":"Alexsander Martins"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680142198,"creation_date":1680142198,"question_id":75883566,"body_markdown":"I have a monolithic project which contains three springboot projects inside, but I can&#39;t execute them. When I try right click + &quot;Run Project&quot; this option do not appear. When I Try create a run configuration pointing to the main classes the IDE do not find my main classes in the project.\r\n\r\nI really have to execute it in the monolithic path, because it doest not work opening a window for each project\r\n\r\n[Cannot execute by right click + run project](https://i.stack.imgur.com/7AkZr.png)\r\n\r\n[IDE can&#39;t find my main classes](https://i.stack.imgur.com/IbliS.png)\r\n\r\nI just want to execute the project. I tried by right click + run project and create a run configuration","title":"Trying to execute a Java Main Class","body":"<p>I have a monolithic project which contains three springboot projects inside, but I can't execute them. When I try right click + &quot;Run Project&quot; this option do not appear. When I Try create a run configuration pointing to the main classes the IDE do not find my main classes in the project.</p>\n<p>I really have to execute it in the monolithic path, because it doest not work opening a window for each project</p>\n<p><a href=\"https://i.stack.imgur.com/7AkZr.png\" rel=\"nofollow noreferrer\">Cannot execute by right click + run project</a></p>\n<p><a href=\"https://i.stack.imgur.com/IbliS.png\" rel=\"nofollow noreferrer\">IDE can't find my main classes</a></p>\n<p>I just want to execute the project. I tried by right click + run project and create a run configuration</p>\n"},{"tags":["java","spring-boot","prometheus","micrometer"],"answers":[{"tags":[],"owner":{"account_id":21965837,"reputation":33,"user_id":21229593,"display_name":"donny"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677859553,"creation_date":1677859515,"answer_id":75629372,"question_id":75628304,"body_markdown":"It would be helpful to see more of your code, but maybe you could record it as a histogram - like this:\r\n\r\n    methodDuration = Histogram.build()\r\n        .name(&quot;data_processing_duration&quot;)\r\n        .register(meterRegistry);\r\n\r\n    Histogram.Timer timer = methodDuration.startTimer();\r\n    timer.observeDuration();","title":"Micrometer/Prometheus how to get recorded metric","body":"<p>It would be helpful to see more of your code, but maybe you could record it as a histogram - like this:</p>\n<pre><code>methodDuration = Histogram.build()\n    .name(&quot;data_processing_duration&quot;)\n    .register(meterRegistry);\n\nHistogram.Timer timer = methodDuration.startTimer();\ntimer.observeDuration();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":944144,"reputation":5331,"user_id":971735,"display_name":"Jonatan Ivanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680142191,"creation_date":1680142191,"answer_id":75883564,"question_id":75628304,"body_markdown":"You need to create a `@Bean` of `TimedAspect`. After that `@Timed` should work depending on the proxy and method visibility. `private` methods do not work with the JDK proxy as far as I know so fisrt try to make it package-private:\r\n```java\r\n@Timed(value = &quot;data.processing.time&quot;)\r\nboolean process(byte[] data, String ti, Integer priority) {\r\n    //do something\r\n}\r\n```","title":"Micrometer/Prometheus how to get recorded metric","body":"<p>You need to create a <code>@Bean</code> of <code>TimedAspect</code>. After that <code>@Timed</code> should work depending on the proxy and method visibility. <code>private</code> methods do not work with the JDK proxy as far as I know so fisrt try to make it package-private:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Timed(value = &quot;data.processing.time&quot;)\nboolean process(byte[] data, String ti, Integer priority) {\n    //do something\n}\n</code></pre>\n"}],"owner":{"account_id":20738066,"reputation":164,"user_id":15228464,"display_name":"agingcabbage32"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680142191,"creation_date":1677853592,"question_id":75628304,"body_markdown":"I&#39;m currently recording method&#39;s execution time using `@Timed(value = &quot;data.processing.time&quot;)` annotation, but I also would love to read the method&#39;s execution time data and compare it with the method&#39;s execution limit that I want to set in my properties and then send the data to prometheus, I would assume that there is a way to get the metrics out of MeterRegistry, but currently can&#39;t get how, is there a way to do so?\r\n\r\nCurrently used dependancies:\r\n\r\n    &#39;io.micrometer:micrometer-registry-prometheus:1.10.4&#39;\r\n    &#39;org.springframework.boot:spring-boot-starter-actuator:2.5.12&#39;\r\n\r\nCurrent usage: \r\n\r\n        @Bean\r\n        public TimedAspect timedAspect(MeterRegistry registry) {\r\n            return new TimedAspect(registry);\r\n        }\r\n\r\n  \r\n\r\n        @Timed(value = &quot;data.processing.time&quot;)\r\n        private boolean process(byte[] data, String ti, Integer priority) {\r\n            //do something\r\n        }\r\n        ","title":"Micrometer/Prometheus how to get recorded metric","body":"<p>I'm currently recording method's execution time using <code>@Timed(value = &quot;data.processing.time&quot;)</code> annotation, but I also would love to read the method's execution time data and compare it with the method's execution limit that I want to set in my properties and then send the data to prometheus, I would assume that there is a way to get the metrics out of MeterRegistry, but currently can't get how, is there a way to do so?</p>\n<p>Currently used dependancies:</p>\n<pre><code>'io.micrometer:micrometer-registry-prometheus:1.10.4'\n'org.springframework.boot:spring-boot-starter-actuator:2.5.12'\n</code></pre>\n<p>Current usage:</p>\n<pre><code>    @Bean\n    public TimedAspect timedAspect(MeterRegistry registry) {\n        return new TimedAspect(registry);\n    }\n\n\n\n    @Timed(value = &quot;data.processing.time&quot;)\n    private boolean process(byte[] data, String ti, Integer priority) {\n        //do something\n    }\n    \n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","jwt"],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1680140209,"creation_date":1680140209,"answer_id":75883440,"question_id":75878801,"body_markdown":"You can customize the jwt token in generateJwtToken to define `claims` in Jwts.builder as shown below\r\n\r\n\r\n    public String generateJwtToken(Authentication auth) {\r\n            UserDetails userDetails = (UserDetails) auth.getPrincipal();\r\n            Date now = new Date();\r\n            Date expiryDate = new Date(now.getTime() + EXPIRES_IN);\r\n    \r\n            String token = Jwts.builder()\r\n                    .setSubject(userDetails.getUsername())\r\n                    .claim(&quot;roles&quot;, roles)  // HERE IS LINE\r\n                    .setIssuedAt(now)\r\n                    .setExpiration(expiryDate)\r\n                    .signWith(SignatureAlgorithm.HS512, APP_SECRET)\r\n                    .compact();\r\n    \r\n            return token;\r\n        }","title":"How to customize Token in Spring Security of Spring Boot?","body":"<p>You can customize the jwt token in generateJwtToken to define <code>claims</code> in Jwts.builder as shown below</p>\n<pre><code>public String generateJwtToken(Authentication auth) {\n        UserDetails userDetails = (UserDetails) auth.getPrincipal();\n        Date now = new Date();\n        Date expiryDate = new Date(now.getTime() + EXPIRES_IN);\n\n        String token = Jwts.builder()\n                .setSubject(userDetails.getUsername())\n                .claim(&quot;roles&quot;, roles)  // HERE IS LINE\n                .setIssuedAt(now)\n                .setExpiration(expiryDate)\n                .signWith(SignatureAlgorithm.HS512, APP_SECRET)\n                .compact();\n\n        return token;\n    }\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75883440,"answer_count":1,"score":-1,"last_activity_date":1680140209,"creation_date":1680101225,"question_id":75878801,"body_markdown":"I have a problem to customize the token including some information in Spring Security of Spring Boot.\r\n\r\nI get this message shown below after generating token and adding some values for response object.\r\n\r\nHere is the response object shown below\r\n\r\n    return TokenDTO.builder()\r\n                    .username(userDetails.getUsername())\r\n                    .message(&quot;success&quot;)\r\n                    .accessToken(&quot;Bearer &quot; + accessToken)\r\n                    .roles(roles)\r\n                    .refreshToken(refreshToken.getToken())\r\n                    .expireDate(expiryDate.getTime())\r\n                    .build(); \r\n\r\nHere is the message shown below\r\n\r\n    {\r\n        &quot;message&quot;: &quot;success&quot;,\r\n        &quot;username&quot;: &quot;username12&quot;,\r\n        &quot;accessToken&quot;: &quot;Bearer accesstoken_string&quot;,\r\n        &quot;refreshToken&quot;: &quot;refreshToken_string&quot;,\r\n        &quot;expireDate&quot;: 1680095658406,\r\n        &quot;roles&quot;: [\r\n            &quot;ROLE_ADMIN&quot;\r\n        ]\r\n    }\r\n\r\nI want to get this response message shown below\r\n\r\n    {\r\n       &quot;accessToken&quot;: &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwiaWF0IjoxNTE2MjM5MDIyLCJleHAiOjE1MTYyMzkwMjIsInVzZXJuYW1lIjoiYWRtaW4tdXNlciIsInJvbGVzIjpbIkFETUlOIiwiU1VQRVJfQURNSU4iXX0.HRUslkLQPb3ujTCu_a4vs1TF1kidjziQsi9V369Edq0&quot;\r\n       &quot;expireDate&quot;: 1220227200,\r\n       &quot;refreshToken: &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwiaWF0IjoxNTE2MjM5MDIyLCJleHAiOjE1MTYyMzkwMjIsInVzZXJuYW1lIjoiYWRtaW4tdXNlciIsInJvbGVzIjpbIkFETUlOIiwiU1VQRVJfQURNSU4iXX0.HRUslkLQPb3ujTCu_a4vs1TF1kidjziQsi9V369Edq0&quot;\r\n    }\r\n\r\nHere is the result looks like this shown below from token in https://jwt.io/ \r\n\r\n    {\r\n      &quot;sub&quot;: &quot;1234567890&quot;,\r\n      &quot;iat&quot;: 1516239022,\r\n      &quot;exp&quot;: 1516239022,\r\n      &quot;username&quot;: &quot;username12&quot;,\r\n      &quot;roles&quot;: [\r\n        &quot;ADMIN&quot;,\r\n        &quot;SUPER_ADMIN&quot;\r\n      ]\r\n    }\r\n\r\nHow can I customize the token (for generateToken method) in Spring Security of Spring Boot App?\r\n\r\nHere is CustomJwtUserDetails shown below\r\n\r\n    @RequiredArgsConstructor\r\n    public class CustomJwtUserDetails implements UserDetails {\r\n    \r\n        private final User user;\r\n    \r\n        @Override\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n            UserRole roles = user.getUserRole();\r\n    \r\n            List&lt;SimpleGrantedAuthority&gt; authories = new ArrayList&lt;&gt;();\r\n            authories.add(new SimpleGrantedAuthority(roles.name()));\r\n    \r\n            return authories;\r\n        }\r\n    \r\n        @Override\r\n        public String getPassword() {\r\n            return user.getPassword();\r\n        }\r\n    \r\n        @Override\r\n        public String getUsername() {\r\n            return user.getUsername();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonLocked() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCredentialsNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEnabled() {\r\n            return true;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return user.getId();\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return user.getEmail();\r\n        }\r\n    }\r\n\r\nHere is the TokenProvider class shown below\r\n\r\n    @Component\r\n    public class JwtTokenProvider {\r\n    \r\n        @Value(&quot;${token.secret}&quot;)\r\n        private String APP_SECRET;\r\n    \r\n        @Value(&quot;${token.expires-in}&quot;)\r\n        private long EXPIRES_IN;\r\n    \r\n        public String generateJwtToken(Authentication auth) {\r\n            UserDetails userDetails = (UserDetails) auth.getPrincipal();\r\n            Date now = new Date();\r\n            Date expiryDate = new Date(now.getTime() + EXPIRES_IN);\r\n    \r\n            String token = Jwts.builder()\r\n                    .setSubject(userDetails.getUsername())\r\n                    .setIssuedAt(now)\r\n                    .setExpiration(expiryDate)\r\n                    .signWith(SignatureAlgorithm.HS512, APP_SECRET)\r\n                    .compact();\r\n    \r\n            return token;\r\n        }\r\n    \r\n        public String getUserNameFromJwtToken(String token) {\r\n            return Jwts.parser().setSigningKey(APP_SECRET).parseClaimsJws(token).getBody().getSubject();\r\n        }\r\n    \r\n        public Long getUserIdFromJwt(String token) {\r\n            Claims claims = Jwts.parser()\r\n                    .setSigningKey(APP_SECRET)\r\n                    .parseClaimsJws(token)\r\n                    .getBody();\r\n    \r\n            return Long.parseLong(claims.getSubject());\r\n        }\r\n    \r\n        boolean validateToken(String token) {\r\n            try {\r\n                Jwts.parser().setSigningKey(APP_SECRET).parseClaimsJws(token);\r\n                return !isTokenExpired(token);\r\n            } catch (MalformedJwtException | ExpiredJwtException | UnsupportedJwtException | IllegalArgumentException e) {\r\n                return false;\r\n            }\r\n        }\r\n    \r\n        private boolean isTokenExpired(String token) {\r\n            Date expiration = Jwts.parser().setSigningKey(APP_SECRET).parseClaimsJws(token).getBody().getExpiration();\r\n            return expiration.before(new Date());\r\n        }\r\n    }","title":"How to customize Token in Spring Security of Spring Boot?","body":"<p>I have a problem to customize the token including some information in Spring Security of Spring Boot.</p>\n<p>I get this message shown below after generating token and adding some values for response object.</p>\n<p>Here is the response object shown below</p>\n<pre><code>return TokenDTO.builder()\n                .username(userDetails.getUsername())\n                .message(&quot;success&quot;)\n                .accessToken(&quot;Bearer &quot; + accessToken)\n                .roles(roles)\n                .refreshToken(refreshToken.getToken())\n                .expireDate(expiryDate.getTime())\n                .build(); \n</code></pre>\n<p>Here is the message shown below</p>\n<pre><code>{\n    &quot;message&quot;: &quot;success&quot;,\n    &quot;username&quot;: &quot;username12&quot;,\n    &quot;accessToken&quot;: &quot;Bearer accesstoken_string&quot;,\n    &quot;refreshToken&quot;: &quot;refreshToken_string&quot;,\n    &quot;expireDate&quot;: 1680095658406,\n    &quot;roles&quot;: [\n        &quot;ROLE_ADMIN&quot;\n    ]\n}\n</code></pre>\n<p>I want to get this response message shown below</p>\n<pre><code>{\n   &quot;accessToken&quot;: &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwiaWF0IjoxNTE2MjM5MDIyLCJleHAiOjE1MTYyMzkwMjIsInVzZXJuYW1lIjoiYWRtaW4tdXNlciIsInJvbGVzIjpbIkFETUlOIiwiU1VQRVJfQURNSU4iXX0.HRUslkLQPb3ujTCu_a4vs1TF1kidjziQsi9V369Edq0&quot;\n   &quot;expireDate&quot;: 1220227200,\n   &quot;refreshToken: &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwiaWF0IjoxNTE2MjM5MDIyLCJleHAiOjE1MTYyMzkwMjIsInVzZXJuYW1lIjoiYWRtaW4tdXNlciIsInJvbGVzIjpbIkFETUlOIiwiU1VQRVJfQURNSU4iXX0.HRUslkLQPb3ujTCu_a4vs1TF1kidjziQsi9V369Edq0&quot;\n}\n</code></pre>\n<p>Here is the result looks like this shown below from token in <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">https://jwt.io/</a></p>\n<pre><code>{\n  &quot;sub&quot;: &quot;1234567890&quot;,\n  &quot;iat&quot;: 1516239022,\n  &quot;exp&quot;: 1516239022,\n  &quot;username&quot;: &quot;username12&quot;,\n  &quot;roles&quot;: [\n    &quot;ADMIN&quot;,\n    &quot;SUPER_ADMIN&quot;\n  ]\n}\n</code></pre>\n<p>How can I customize the token (for generateToken method) in Spring Security of Spring Boot App?</p>\n<p>Here is CustomJwtUserDetails shown below</p>\n<pre><code>@RequiredArgsConstructor\npublic class CustomJwtUserDetails implements UserDetails {\n\n    private final User user;\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        UserRole roles = user.getUserRole();\n\n        List&lt;SimpleGrantedAuthority&gt; authories = new ArrayList&lt;&gt;();\n        authories.add(new SimpleGrantedAuthority(roles.name()));\n\n        return authories;\n    }\n\n    @Override\n    public String getPassword() {\n        return user.getPassword();\n    }\n\n    @Override\n    public String getUsername() {\n        return user.getUsername();\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n\n    public Long getId() {\n        return user.getId();\n    }\n\n    public String getEmail() {\n        return user.getEmail();\n    }\n}\n</code></pre>\n<p>Here is the TokenProvider class shown below</p>\n<pre><code>@Component\npublic class JwtTokenProvider {\n\n    @Value(&quot;${token.secret}&quot;)\n    private String APP_SECRET;\n\n    @Value(&quot;${token.expires-in}&quot;)\n    private long EXPIRES_IN;\n\n    public String generateJwtToken(Authentication auth) {\n        UserDetails userDetails = (UserDetails) auth.getPrincipal();\n        Date now = new Date();\n        Date expiryDate = new Date(now.getTime() + EXPIRES_IN);\n\n        String token = Jwts.builder()\n                .setSubject(userDetails.getUsername())\n                .setIssuedAt(now)\n                .setExpiration(expiryDate)\n                .signWith(SignatureAlgorithm.HS512, APP_SECRET)\n                .compact();\n\n        return token;\n    }\n\n    public String getUserNameFromJwtToken(String token) {\n        return Jwts.parser().setSigningKey(APP_SECRET).parseClaimsJws(token).getBody().getSubject();\n    }\n\n    public Long getUserIdFromJwt(String token) {\n        Claims claims = Jwts.parser()\n                .setSigningKey(APP_SECRET)\n                .parseClaimsJws(token)\n                .getBody();\n\n        return Long.parseLong(claims.getSubject());\n    }\n\n    boolean validateToken(String token) {\n        try {\n            Jwts.parser().setSigningKey(APP_SECRET).parseClaimsJws(token);\n            return !isTokenExpired(token);\n        } catch (MalformedJwtException | ExpiredJwtException | UnsupportedJwtException | IllegalArgumentException e) {\n            return false;\n        }\n    }\n\n    private boolean isTokenExpired(String token) {\n        Date expiration = Jwts.parser().setSigningKey(APP_SECRET).parseClaimsJws(token).getBody().getExpiration();\n        return expiration.before(new Date());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","date","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1499861557,"creation_date":1499861557,"answer_id":45057391,"question_id":44924656,"body_markdown":"I still don&#39;t know why `PropertyEditor` does not work.\r\nBut the following solutions worked.\r\n\r\n    @Configuration\r\n    public class LocalDateConfig extends WebMvcConfigurerAdapter {\r\n    \t@Override\r\n    \tpublic void addFormatters(FormatterRegistry registry) {\r\n    \t\tsuper.addFormatters(registry);\r\n    \t\tregistry.addFormatterForFieldType(LocalDate.class, new Formatter&lt;LocalDate&gt;() {\r\n    \t\t\t//override parse() and print()\r\n    \t\t});\r\n    \t}\r\n     }","title":"How to register global databinding for LocalDate in spring mvc?","body":"<p>I still don't know why <code>PropertyEditor</code> does not work.\nBut the following solutions worked.</p>\n\n<pre><code>@Configuration\npublic class LocalDateConfig extends WebMvcConfigurerAdapter {\n    @Override\n    public void addFormatters(FormatterRegistry registry) {\n        super.addFormatters(registry);\n        registry.addFormatterForFieldType(LocalDate.class, new Formatter&lt;LocalDate&gt;() {\n            //override parse() and print()\n        });\n    }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4996148,"reputation":462,"user_id":4016683,"display_name":"Pavan Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554355872,"creation_date":1554355872,"answer_id":55508510,"question_id":44924656,"body_markdown":"Well, Even I faced the problem and could not get PropertyEditor to work without initBinder():\r\n\r\nAdding below code to each controller would work, I am using springboot v1.5:\r\n\r\n    @InitBinder\r\n    \tpublic void initBinder(WebDataBinder binder) {\r\n    \t    binder.registerCustomEditor(LocalDate.class, \r\n    \t        new LocalDateEditor());\r\n    \t}\r\n\r\nBut bit more easier solution apart from using WebMvcConfigurerAdapter  as described by @membersound  is to use converters \r\n\r\n    @Component\r\n    public class LocalDateSerializeConverter implements Converter&lt;String, LocalDate&gt; {\r\n    \tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(AppConstants.DATE_FORMAT_YYYY_MM_DD);\r\n    \r\n        @Override\r\n        public LocalDate convert(String text) {\r\n            return LocalDate.parse(text, formatter);\r\n        }\r\n    }","title":"How to register global databinding for LocalDate in spring mvc?","body":"<p>Well, Even I faced the problem and could not get PropertyEditor to work without initBinder():</p>\n\n<p>Adding below code to each controller would work, I am using springboot v1.5:</p>\n\n<pre><code>@InitBinder\n    public void initBinder(WebDataBinder binder) {\n        binder.registerCustomEditor(LocalDate.class, \n            new LocalDateEditor());\n    }\n</code></pre>\n\n<p>But bit more easier solution apart from using WebMvcConfigurerAdapter  as described by @membersound  is to use converters </p>\n\n<pre><code>@Component\npublic class LocalDateSerializeConverter implements Converter&lt;String, LocalDate&gt; {\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(AppConstants.DATE_FORMAT_YYYY_MM_DD);\n\n    @Override\n    public LocalDate convert(String text) {\n        return LocalDate.parse(text, formatter);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2884784,"reputation":644,"user_id":2474938,"display_name":"Adrien"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1680140056,"creation_date":1680140056,"answer_id":75883420,"question_id":44924656,"body_markdown":"This is what worked for me :\r\n\r\n```\r\n@Configuration\r\n@EnableWebMvc\r\npublic class WebConfig implements WebMvcConfigurer {\r\n    @Override\r\n    public void addFormatters(FormatterRegistry registry) {\r\n    \tregistry.addFormatterForFieldType(LocalDate.class,\r\n    \t\t    new TemporalAccessorPrinter(DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;)),\r\n    \t\t    new TemporalAccessorParser(LocalDate.class, DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;)));\r\n    }\r\n}\r\n\r\n```","title":"How to register global databinding for LocalDate in spring mvc?","body":"<p>This is what worked for me :</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n    @Override\n    public void addFormatters(FormatterRegistry registry) {\n        registry.addFormatterForFieldType(LocalDate.class,\n                new TemporalAccessorPrinter(DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;)),\n                new TemporalAccessorParser(LocalDate.class, DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;)));\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2629,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":45057391,"answer_count":3,"score":3,"last_activity_date":1680140056,"creation_date":1499253115,"question_id":44924656,"body_markdown":"I&#39;d like to use `LocalDate` as type in a `Servlet` created with `spring-mvc`.\r\nThe users should be able to provide the date in multiple valid formats `yyyyMMdd, yyyy-MM-dd, yyMMdd, yy-MM-dd`.\r\n\r\nTherefor I&#39;m trying to register my own converter for that class and **register it globally** for the whole application. But it is never picked up\r\n\r\nProblem: my custom editor is never called.\r\n\r\n    @Bean\r\n    public CustomEditorConfigurer init() {\r\n\t    CustomEditorConfigurer c = new CustomEditorConfigurer();\r\n\t    c.setPropertyEditorRegistrars(new PropertyEditorRegistrar[] {\r\n\t    \t\t(registry) -&gt; registry.registerCustomEditor(LocalDate.class, new LocalDatePropertyEditor())\r\n\t    });\r\n\t    return c;\r\n    }\r\n\r\n    public class LocalDatePropertyEditor extends PropertyEditorSupport {\r\n    \t@Override\r\n    \tpublic void setAsText(String text) {\r\n    \t\tthis.setValue(LocalDate.parse(text, DateTimeFormatter.ISO_DATE));\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String getAsText() {\r\n    \t\treturn this.getValue().toString();\r\n    \t}\r\n    }\r\n    \r\n    \r\n    @RestController\r\n    public void DateServlet {\r\n    \t@RequestMapping(&quot;/test&quot;)\r\n    \tpublic void test(@RequestParam LocalDate date) {\r\n    \r\n    \t}\r\n    }\r\n\r\nWhen calling:\r\n`localhost:8080/test?date=2017-07-05`\r\n\r\n&gt; Exception:\r\n`Parse attempt failed for value [2017-07-05]`\r\n\r\nDuring debug I can see the `LocalDatePropertyEditor` class is never called. But why?\r\n","title":"How to register global databinding for LocalDate in spring mvc?","body":"<p>I'd like to use <code>LocalDate</code> as type in a <code>Servlet</code> created with <code>spring-mvc</code>.\nThe users should be able to provide the date in multiple valid formats <code>yyyyMMdd, yyyy-MM-dd, yyMMdd, yy-MM-dd</code>.</p>\n\n<p>Therefor I'm trying to register my own converter for that class and <strong>register it globally</strong> for the whole application. But it is never picked up</p>\n\n<p>Problem: my custom editor is never called.</p>\n\n<pre><code>@Bean\npublic CustomEditorConfigurer init() {\n    CustomEditorConfigurer c = new CustomEditorConfigurer();\n    c.setPropertyEditorRegistrars(new PropertyEditorRegistrar[] {\n            (registry) -&gt; registry.registerCustomEditor(LocalDate.class, new LocalDatePropertyEditor())\n    });\n    return c;\n}\n\npublic class LocalDatePropertyEditor extends PropertyEditorSupport {\n    @Override\n    public void setAsText(String text) {\n        this.setValue(LocalDate.parse(text, DateTimeFormatter.ISO_DATE));\n    }\n\n    @Override\n    public String getAsText() {\n        return this.getValue().toString();\n    }\n}\n\n\n@RestController\npublic void DateServlet {\n    @RequestMapping(\"/test\")\n    public void test(@RequestParam LocalDate date) {\n\n    }\n}\n</code></pre>\n\n<p>When calling:\n<code>localhost:8080/test?date=2017-07-05</code></p>\n\n<blockquote>\n  <p>Exception:\n  <code>Parse attempt failed for value [2017-07-05]</code></p>\n</blockquote>\n\n<p>During debug I can see the <code>LocalDatePropertyEditor</code> class is never called. But why?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":5261715,"reputation":339,"user_id":4203081,"accept_rate":60,"display_name":"SerefAltindal"},"score":0,"creation_date":1522050090,"post_id":49486213,"comment_id":85975076,"body_markdown":"why do not you want to remove the last comma. Could you explain it?","body":"why do not you want to remove the last comma. Could you explain it?"},{"owner":{"account_id":7505,"reputation":7034,"user_id":13075,"accept_rate":83,"display_name":"Henrik Aasted S&#248;rensen"},"score":1,"creation_date":1522051630,"post_id":49486213,"comment_id":85975919,"body_markdown":"`objectMapper.configure(JsonParser.Feature.ALLOW_TRAILING_COMMA, true);` ?","body":"<code>objectMapper.configure(JsonParser.Feature.ALLOW_TRAILING_COM&zwnj;&#8203;MA, true);</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":8089040,"reputation":392,"user_id":6095603,"display_name":"Frido"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1522050211,"creation_date":1522050211,"answer_id":49486329,"question_id":49486213,"body_markdown":"According to https://github.com/FasterXML/jackson-core/issues/118\r\njust add:\r\n\r\n    JsonParser.ALLOW_TRAILING_COMMA\r\n\r\nsee more info:\r\nhttps://github.com/FasterXML/jackson-core/issues/323","title":"JSON - Parse invalid terminated string using jackson library","body":"<p>According to <a href=\"https://github.com/FasterXML/jackson-core/issues/118\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-core/issues/118</a>\njust add:</p>\n\n<pre><code>JsonParser.ALLOW_TRAILING_COMMA\n</code></pre>\n\n<p>see more info:\n<a href=\"https://github.com/FasterXML/jackson-core/issues/323\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-core/issues/323</a></p>\n"},{"tags":[],"owner":{"account_id":149578,"reputation":2223,"user_id":5162763,"display_name":"Trent Bartlem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680137335,"creation_date":1680137335,"answer_id":75883282,"question_id":49486213,"body_markdown":"In jackson 2.11+, it&#39;s configured slightly differently:\r\n\r\n    var mapper = JsonMapper.builder()\r\n        .enable(JsonReadFeature.ALLOW_TRAILING_COMMA)\r\n        .build();","title":"JSON - Parse invalid terminated string using jackson library","body":"<p>In jackson 2.11+, it's configured slightly differently:</p>\n<pre><code>var mapper = JsonMapper.builder()\n    .enable(JsonReadFeature.ALLOW_TRAILING_COMMA)\n    .build();\n</code></pre>\n"}],"owner":{"account_id":12962711,"reputation":211,"user_id":9371434,"accept_rate":25,"display_name":"user_27"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1252,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49486329,"answer_count":2,"score":1,"last_activity_date":1680137335,"creation_date":1522049872,"question_id":49486213,"body_markdown":"I have below json retrieving from third party API.\r\n\r\n    { &#39;id&#39;: 1, &#39;name&#39;: &quot;user1&quot;, &#39;address&#39;: &quot;IN&quot;, }\r\n\r\nHow i can parse this with jackson mapper. I am getting below exception:\r\n\r\n    com.fasterxml.jackson.core.JsonParseException: Unexpected character (&#39;}&#39; (code 125)): was expecting double-quote to start field name\r\n\r\nMy code like follow:\r\n\r\n        objectMapper = new ObjectMapper();\r\n        objectMapper.configure(JsonGenerator.Feature.QUOTE_FIELD_NAMES, false);\r\n        objectMapper.configure(JsonParser.Feature.ALLOW_SINGLE_QUOTES, true);\r\n        objectMapper.configure(JsonParser.Feature.ALLOW_MISSING_VALUES, true);\r\n        objectMapper.readTree(&quot;{ &#39;id&#39;: 1, &#39;name&#39;: \\&quot;user1\\&quot;, &#39;address&#39;: \\&quot;IN\\&quot;, }&quot;);\r\n\r\nNote: i dont want to replace last comma, i want to know is there any option to tee jackson to execlude that?","title":"JSON - Parse invalid terminated string using jackson library","body":"<p>I have below json retrieving from third party API.</p>\n\n<pre><code>{ 'id': 1, 'name': \"user1\", 'address': \"IN\", }\n</code></pre>\n\n<p>How i can parse this with jackson mapper. I am getting below exception:</p>\n\n<pre><code>com.fasterxml.jackson.core.JsonParseException: Unexpected character ('}' (code 125)): was expecting double-quote to start field name\n</code></pre>\n\n<p>My code like follow:</p>\n\n<pre><code>    objectMapper = new ObjectMapper();\n    objectMapper.configure(JsonGenerator.Feature.QUOTE_FIELD_NAMES, false);\n    objectMapper.configure(JsonParser.Feature.ALLOW_SINGLE_QUOTES, true);\n    objectMapper.configure(JsonParser.Feature.ALLOW_MISSING_VALUES, true);\n    objectMapper.readTree(\"{ 'id': 1, 'name': \\\"user1\\\", 'address': \\\"IN\\\", }\");\n</code></pre>\n\n<p>Note: i dont want to replace last comma, i want to know is there any option to tee jackson to execlude that?</p>\n"},{"tags":["java","string","arraylist"],"comments":[{"owner":{"account_id":1196850,"reputation":2246,"user_id":1168382,"accept_rate":40,"display_name":"Dimitry K"},"score":4,"creation_date":1391426363,"post_id":599161,"comment_id":32501781,"body_markdown":"_or remove each element_ Be careful, removing elements from an ArrayList list is a big NO-NO, as your &quot;loop&quot; will take quadratic time due to shifting elements  (provided that you loop from first to last element).","body":"<i>or remove each element</i> Be careful, removing elements from an ArrayList list is a big NO-NO, as your &quot;loop&quot; will take quadratic time due to shifting elements  (provided that you loop from first to last element)."},{"owner":{"account_id":481416,"reputation":355314,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":0,"creation_date":1425293804,"post_id":599161,"comment_id":45888625,"body_markdown":"Same for collections: http://stackoverflow.com/questions/395401/printing-java-collections-nicely-tostring-doesnt-return-pretty-output","body":"Same for collections: <a href=\"http://stackoverflow.com/questions/395401/printing-java-collections-nicely-tostring-doesnt-return-pretty-output\" title=\"printing java collections nicely tostring doesnt return pretty output\">stackoverflow.com/questions/395401/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2397,"reputation":179869,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"down_vote_count":1,"up_vote_count":39,"is_accepted":false,"score":38,"last_activity_date":1302876742,"creation_date":1235876536,"answer_id":599169,"question_id":599161,"body_markdown":"Loop through it and call toString.  There isn&#39;t a magic way, and if there were, what do you think it would be doing under the covers other than looping through it?  About the only micro-optimization would be to use StringBuilder instead of String, and even that isn&#39;t a huge win - concatenating strings turns into StringBuilder under the covers, but at least if you write it that way you can see what&#39;s going on.\r\n\r\n    StringBuilder out = new StringBuilder();\r\n    for (Object o : list)\r\n    {\r\n      out.append(o.toString());\r\n      out.append(&quot;\\t&quot;);\r\n    }\r\n    return out.toString();\r\n     \r\n\r\n ","title":"Best way to convert an ArrayList to a string","body":"<p>Loop through it and call toString.  There isn't a magic way, and if there were, what do you think it would be doing under the covers other than looping through it?  About the only micro-optimization would be to use StringBuilder instead of String, and even that isn't a huge win - concatenating strings turns into StringBuilder under the covers, but at least if you write it that way you can see what's going on.</p>\n\n<pre><code>StringBuilder out = new StringBuilder();\nfor (Object o : list)\n{\n  out.append(o.toString());\n  out.append(\"\\t\");\n}\nreturn out.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":877990,"reputation":1035,"user_id":72374,"display_name":"Mike C."},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1321538548,"creation_date":1235876682,"answer_id":599174,"question_id":599161,"body_markdown":"It&#39;s an `O(n)` algorithm either way (unless you did some multi-threaded solution where you broke the list into multiple sublists, but I don&#39;t think that is what you are asking for).\r\n\r\nJust use a `StringBuilder` as below:\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    \r\n    for (Object obj : list) {\r\n      sb.append(obj.toString());\r\n      sb.append(&quot;\\t&quot;);\r\n    }\r\n    \r\n    String finalString = sb.toString();\r\n\r\nThe `StringBuilder` will be a lot faster than string concatenation because you won&#39;t be re-instantiating a `String` object on each concatenation.","title":"Best way to convert an ArrayList to a string","body":"<p>It's an <code>O(n)</code> algorithm either way (unless you did some multi-threaded solution where you broke the list into multiple sublists, but I don't think that is what you are asking for).</p>\n\n<p>Just use a <code>StringBuilder</code> as below:</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\n\nfor (Object obj : list) {\n  sb.append(obj.toString());\n  sb.append(\"\\t\");\n}\n\nString finalString = sb.toString();\n</code></pre>\n\n<p>The <code>StringBuilder</code> will be a lot faster than string concatenation because you won't be re-instantiating a <code>String</code> object on each concatenation.</p>\n"},{"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"down_vote_count":19,"up_vote_count":401,"is_accepted":true,"score":382,"last_activity_date":1606736855,"creation_date":1235877145,"answer_id":599181,"question_id":599161,"body_markdown":"Java 8 introduces a `String.join(separator, list)` method; see [Vitalii Federenko&#39;s answer](https://stackoverflow.com/a/23183963/5139284).\r\n\r\nBefore Java 8, using a loop to iterate over the `ArrayList` was the only option:\r\n\r\n**DO NOT use this code, continue reading to the bottom of this answer to see why it is not desirable, and which code should be used instead:**\r\n\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    list.add(&quot;one&quot;);\r\n    list.add(&quot;two&quot;);\r\n    list.add(&quot;three&quot;);\r\n    \r\n    String listString = &quot;&quot;;\r\n    \r\n    for (String s : list)\r\n    {\r\n        listString += s + &quot;\\t&quot;;\r\n    }\r\n    \r\n    System.out.println(listString);\r\n\r\nIn fact, a string concatenation is going to be just fine, as the `javac` compiler will optimize the string concatenation as a series of `append` operations on a `StringBuilder` anyway. Here&#39;s a part of the disassembly of the bytecode from the `for` loop from the above program:\r\n\r\n       61:\tnew\t#13; //class java/lang/StringBuilder\r\n       64:\tdup\r\n       65:\tinvokespecial\t#14; //Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\r\n       68:\taload_2\r\n       69:\tinvokevirtual\t#15; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n       72:\taload\t4\r\n       74:\tinvokevirtual\t#15; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n       77:\tldc\t#16; //String \\t\r\n       79:\tinvokevirtual\t#15; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n       82:\tinvokevirtual\t#17; //Method java/lang/StringBuilder.toString:()Ljava/lang/String;\r\n\r\nAs can be seen, the compiler optimizes that loop by using a `StringBuilder`, so performance shouldn&#39;t be a big concern.\r\n\r\n(OK, on second glance, the `StringBuilder` is being instantiated on each iteration of the loop, so it may not be the most efficient bytecode. Instantiating and using an explicit `StringBuilder` would probably yield better performance.)\r\n\r\nIn fact, I think that having any sort of output (be it to disk or to the screen) will be at least an order of a magnitude slower than having to worry about the performance of string concatenations.\r\n\r\n**Edit:** As pointed out in the comments, the above compiler optimization is indeed creating a new instance of `StringBuilder` on each iteration. (Which I have noted previously.)\r\n\r\nThe most optimized technique to use will be the response by [Paul Tomblin][1], as it only instantiates a single `StringBuilder` object outside of the `for` loop.\r\n\r\nRewriting to the above code to:\r\n\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    list.add(&quot;one&quot;);\r\n    list.add(&quot;two&quot;);\r\n    list.add(&quot;three&quot;);\r\n    \r\n    StringBuilder sb = new StringBuilder();\r\n    for (String s : list)\r\n    {\r\n    \tsb.append(s);\r\n    \tsb.append(&quot;\\t&quot;);\r\n    }\r\n    \r\n    System.out.println(sb.toString());\r\n\r\nWill only instantiate the `StringBuilder` once outside of the loop, and only make the two calls to the `append` method inside the loop, as evidenced in this bytecode (which shows the instantiation of `StringBuilder` and the loop):\r\n\r\n       // Instantiation of the StringBuilder outside loop:\r\n       33:\tnew\t#8; //class java/lang/StringBuilder\r\n       36:\tdup\r\n       37:\tinvokespecial\t#9; //Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\r\n       40:\tastore_2\r\n\r\n       // [snip a few lines for initializing the loop]\r\n       // Loading the StringBuilder inside the loop, then append:\r\n       66:\taload_2\r\n       67:\taload\t4\r\n       69:\tinvokevirtual\t#14; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n       72:\tpop\r\n       73:\taload_2\r\n       74:\tldc\t#15; //String \\t\r\n       76:\tinvokevirtual\t#14; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n       79:\tpop\r\n\r\nSo, indeed the hand optimization should be better performing, as the inside of the `for` loop is shorter and there is no need to instantiate a `StringBuilder` on each iteration.\r\n\r\n  [1]: https://stackoverflow.com/questions/599161/best-way-to-convert-an-arraylist-to-a-string/599169#599169","title":"Best way to convert an ArrayList to a string","body":"<p>Java 8 introduces a <code>String.join(separator, list)</code> method; see <a href=\"https://stackoverflow.com/a/23183963/5139284\">Vitalii Federenko's answer</a>.</p>\n<p>Before Java 8, using a loop to iterate over the <code>ArrayList</code> was the only option:</p>\n<p><strong>DO NOT use this code, continue reading to the bottom of this answer to see why it is not desirable, and which code should be used instead:</strong></p>\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\nlist.add(&quot;one&quot;);\nlist.add(&quot;two&quot;);\nlist.add(&quot;three&quot;);\n\nString listString = &quot;&quot;;\n\nfor (String s : list)\n{\n    listString += s + &quot;\\t&quot;;\n}\n\nSystem.out.println(listString);\n</code></pre>\n<p>In fact, a string concatenation is going to be just fine, as the <code>javac</code> compiler will optimize the string concatenation as a series of <code>append</code> operations on a <code>StringBuilder</code> anyway. Here's a part of the disassembly of the bytecode from the <code>for</code> loop from the above program:</p>\n<pre><code>   61:  new #13; //class java/lang/StringBuilder\n   64:  dup\n   65:  invokespecial   #14; //Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\n   68:  aload_2\n   69:  invokevirtual   #15; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n   72:  aload   4\n   74:  invokevirtual   #15; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n   77:  ldc #16; //String \\t\n   79:  invokevirtual   #15; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n   82:  invokevirtual   #17; //Method java/lang/StringBuilder.toString:()Ljava/lang/String;\n</code></pre>\n<p>As can be seen, the compiler optimizes that loop by using a <code>StringBuilder</code>, so performance shouldn't be a big concern.</p>\n<p>(OK, on second glance, the <code>StringBuilder</code> is being instantiated on each iteration of the loop, so it may not be the most efficient bytecode. Instantiating and using an explicit <code>StringBuilder</code> would probably yield better performance.)</p>\n<p>In fact, I think that having any sort of output (be it to disk or to the screen) will be at least an order of a magnitude slower than having to worry about the performance of string concatenations.</p>\n<p><strong>Edit:</strong> As pointed out in the comments, the above compiler optimization is indeed creating a new instance of <code>StringBuilder</code> on each iteration. (Which I have noted previously.)</p>\n<p>The most optimized technique to use will be the response by <a href=\"https://stackoverflow.com/questions/599161/best-way-to-convert-an-arraylist-to-a-string/599169#599169\">Paul Tomblin</a>, as it only instantiates a single <code>StringBuilder</code> object outside of the <code>for</code> loop.</p>\n<p>Rewriting to the above code to:</p>\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\nlist.add(&quot;one&quot;);\nlist.add(&quot;two&quot;);\nlist.add(&quot;three&quot;);\n\nStringBuilder sb = new StringBuilder();\nfor (String s : list)\n{\n    sb.append(s);\n    sb.append(&quot;\\t&quot;);\n}\n\nSystem.out.println(sb.toString());\n</code></pre>\n<p>Will only instantiate the <code>StringBuilder</code> once outside of the loop, and only make the two calls to the <code>append</code> method inside the loop, as evidenced in this bytecode (which shows the instantiation of <code>StringBuilder</code> and the loop):</p>\n<pre><code>   // Instantiation of the StringBuilder outside loop:\n   33:  new #8; //class java/lang/StringBuilder\n   36:  dup\n   37:  invokespecial   #9; //Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\n   40:  astore_2\n\n   // [snip a few lines for initializing the loop]\n   // Loading the StringBuilder inside the loop, then append:\n   66:  aload_2\n   67:  aload   4\n   69:  invokevirtual   #14; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n   72:  pop\n   73:  aload_2\n   74:  ldc #15; //String \\t\n   76:  invokevirtual   #14; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n   79:  pop\n</code></pre>\n<p>So, indeed the hand optimization should be better performing, as the inside of the <code>for</code> loop is shorter and there is no need to instantiate a <code>StringBuilder</code> on each iteration.</p>\n"},{"tags":[],"owner":{"account_id":540,"reputation":13430,"user_id":700,"accept_rate":79,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1235882986,"creation_date":1235882277,"answer_id":599258,"question_id":599161,"body_markdown":"Most Java projects often have apache-commons lang available.  StringUtils.join() methods is very nice and has several flavors to meet almost every need.\r\n\r\n    public static java.lang.String join(java.util.Collection collection,\r\n                                        char separator)\r\n\r\n\r\n    public static String join(Iterator iterator, String separator) {\r\n        // handle null, zero and one elements before building a buffer \r\n        Object first = iterator.next();\r\n        if (!iterator.hasNext()) {\r\n            return ObjectUtils.toString(first);\r\n        }\r\n        // two or more elements \r\n        StringBuffer buf = \r\n            new StringBuffer(256); // Java default is 16, probably too small \r\n        if (first != null) {\r\n            buf.append(first);\r\n        }\r\n        while (iterator.hasNext()) {\r\n            if (separator != null) {\r\n                buf.append(separator);\r\n            }\r\n            Object obj = iterator.next();\r\n            if (obj != null) {\r\n                buf.append(obj);\r\n            }\r\n        }\r\n        return buf.toString();\r\n    }\r\n\r\n&gt; Parameters:\r\n&gt; \r\n&gt; **collection** - the Collection of values to join together, may be null\r\n&gt; \r\n&gt; **separator** - the separator character to use\r\n&gt; \r\n&gt; **Returns**: the joined String, null if\r\n&gt; null iterator input\r\n&gt; \r\n&gt; Since:\r\n&gt; 2.3\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Best way to convert an ArrayList to a string","body":"<p>Most Java projects often have apache-commons lang available.  StringUtils.join() methods is very nice and has several flavors to meet almost every need.</p>\n\n<pre><code>public static java.lang.String join(java.util.Collection collection,\n                                    char separator)\n\n\npublic static String join(Iterator iterator, String separator) {\n    // handle null, zero and one elements before building a buffer \n    Object first = iterator.next();\n    if (!iterator.hasNext()) {\n        return ObjectUtils.toString(first);\n    }\n    // two or more elements \n    StringBuffer buf = \n        new StringBuffer(256); // Java default is 16, probably too small \n    if (first != null) {\n        buf.append(first);\n    }\n    while (iterator.hasNext()) {\n        if (separator != null) {\n            buf.append(separator);\n        }\n        Object obj = iterator.next();\n        if (obj != null) {\n            buf.append(obj);\n        }\n    }\n    return buf.toString();\n}\n</code></pre>\n\n<blockquote>\n  <p>Parameters:</p>\n  \n  <p><strong>collection</strong> - the Collection of values to join together, may be null</p>\n  \n  <p><strong>separator</strong> - the separator character to use</p>\n  \n  <p><strong>Returns</strong>: the joined String, null if\n  null iterator input</p>\n  \n  <p>Since:\n  2.3</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":24844,"reputation":10434,"user_id":63436,"accept_rate":75,"display_name":"Ravi Wallau"},"down_vote_count":1,"up_vote_count":257,"is_accepted":false,"score":256,"last_activity_date":1552405764,"creation_date":1235883055,"answer_id":599269,"question_id":599161,"body_markdown":"Download the Apache Commons Lang and use the method \r\n\r\n     StringUtils.join(list)\r\n\r\n     StringUtils.join(list, &quot;, &quot;) // 2nd param is the separator.\r\n\r\nYou can implement it by yourself, of course, but their code is fully tested and is probably the best possible implementation.\r\n\r\nI am a big fan of the Apache Commons library and I also think it&#39;s a great addition to the Java Standard Library.","title":"Best way to convert an ArrayList to a string","body":"<p>Download the Apache Commons Lang and use the method </p>\n\n<pre><code> StringUtils.join(list)\n\n StringUtils.join(list, \", \") // 2nd param is the separator.\n</code></pre>\n\n<p>You can implement it by yourself, of course, but their code is fully tested and is probably the best possible implementation.</p>\n\n<p>I am a big fan of the Apache Commons library and I also think it's a great addition to the Java Standard Library.</p>\n"},{"tags":[],"owner":{"display_name":"So So"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1235902055,"creation_date":1235902055,"answer_id":599584,"question_id":599161,"body_markdown":"If you don&#39;t want the last \\t after the last element, you have to use the index to check, but remember that this only &quot;works&quot; (i.e. is O(n)) when lists implements the RandomAccess.\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    list.add(&quot;one&quot;);\r\n    list.add(&quot;two&quot;);\r\n    list.add(&quot;three&quot;);\r\n    \r\n    StringBuilder sb = new StringBuilder(list.size() * apprAvg); // every apprAvg &gt; 1 is better than none\r\n    for (int i = 0; i &lt; list.size(); i++) {\r\n        sb.append(list.get(i));\r\n        if (i &lt; list.size() - 1) {\r\n            sb.append(&quot;\\t&quot;);\r\n        }\r\n    }\r\n    System.out.println(sb.toString());\r\n\r\n","title":"Best way to convert an ArrayList to a string","body":"<p>If you don't want the last \\t after the last element, you have to use the index to check, but remember that this only \"works\" (i.e. is O(n)) when lists implements the RandomAccess.</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();\nlist.add(\"one\");\nlist.add(\"two\");\nlist.add(\"three\");\n\nStringBuilder sb = new StringBuilder(list.size() * apprAvg); // every apprAvg &gt; 1 is better than none\nfor (int i = 0; i &lt; list.size(); i++) {\n    sb.append(list.get(i));\n    if (i &lt; list.size() - 1) {\n        sb.append(\"\\t\");\n    }\n}\nSystem.out.println(sb.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12436,"reputation":27545,"user_id":24468,"accept_rate":100,"display_name":"akuhn"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1492928809,"creation_date":1235905067,"answer_id":599631,"question_id":599161,"body_markdown":"An elegant way to deal with trailing separation characters is to use [Class Separator][1]\r\n\r\n\r\n    StringBuilder buf = new StringBuilder();\r\n    Separator sep = new Separator(&quot;\\t&quot;);\r\n    for (String each: list) buf.append(sep).append(each);\r\n    String s = buf.toString();\r\n\r\nThe toString method of Class Separator returns the separater, *except* for the first call. Thus we print the list without trailing (or in this case) leading separators.\r\n\r\n  [1]: http://www.iam.unibe.ch/~akuhn/blog/2008/class-once-class-separator","title":"Best way to convert an ArrayList to a string","body":"<p>An elegant way to deal with trailing separation characters is to use <a href=\"http://www.iam.unibe.ch/~akuhn/blog/2008/class-once-class-separator\" rel=\"nofollow noreferrer\">Class Separator</a></p>\n\n<pre><code>StringBuilder buf = new StringBuilder();\nSeparator sep = new Separator(\"\\t\");\nfor (String each: list) buf.append(sep).append(each);\nString s = buf.toString();\n</code></pre>\n\n<p>The toString method of Class Separator returns the separater, <em>except</em> for the first call. Thus we print the list without trailing (or in this case) leading separators.</p>\n"},{"tags":[],"owner":{"account_id":166071,"reputation":161,"user_id":389965,"display_name":"Alex VI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1278980492,"creation_date":1278980492,"answer_id":3233312,"question_id":599161,"body_markdown":"This is quite an old conversation by now and apache commons are now using a StringBuilder internally: http://commons.apache.org/lang/api/src-html/org/apache/commons/lang/StringUtils.html#line.3045\r\n\r\nThis will as we know improve performance, but if performance is critical then the method used might be somewhat inefficient. Whereas the interface is flexible and will allow for consistent behaviour across different Collection types it is somewhat inefficient for Lists, which is the type of Collection in the original question. \r\n\r\nI base this in that we are incurring some overhead which we would avoid by simply iterating through the elements in a traditional for loop. Instead there are some additional things happening behind the scenes checking for concurrent modifications, method calls etc. The enhanced for loop will on the other hand result in the same overhead since the iterator is used on the Iterable object (the List).","title":"Best way to convert an ArrayList to a string","body":"<p>This is quite an old conversation by now and apache commons are now using a StringBuilder internally: <a href=\"http://commons.apache.org/lang/api/src-html/org/apache/commons/lang/StringUtils.html#line.3045\" rel=\"nofollow noreferrer\">http://commons.apache.org/lang/api/src-html/org/apache/commons/lang/StringUtils.html#line.3045</a></p>\n\n<p>This will as we know improve performance, but if performance is critical then the method used might be somewhat inefficient. Whereas the interface is flexible and will allow for consistent behaviour across different Collection types it is somewhat inefficient for Lists, which is the type of Collection in the original question. </p>\n\n<p>I base this in that we are incurring some overhead which we would avoid by simply iterating through the elements in a traditional for loop. Instead there are some additional things happening behind the scenes checking for concurrent modifications, method calls etc. The enhanced for loop will on the other hand result in the same overhead since the iterator is used on the Iterable object (the List).</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":141,"is_accepted":false,"score":141,"last_activity_date":1478014648,"creation_date":1301673527,"answer_id":5515861,"question_id":599161,"body_markdown":"This is a pretty old question, but I figure I might as well add a more modern answer - use the [`Joiner`][1] class from [Guava][2]:\r\n\r\n    String joined = Joiner.on(&quot;\\t&quot;).join(list);\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/16.0/api/docs/com/google/common/base/Joiner.html\r\n  [2]: https://google.github.io/guava/releases/18.0/api/docs/\r\n&lt;!-- comment to defeat the 6-character edit limit --&gt;","title":"Best way to convert an ArrayList to a string","body":"<p>This is a pretty old question, but I figure I might as well add a more modern answer - use the <a href=\"https://google.github.io/guava/releases/16.0/api/docs/com/google/common/base/Joiner.html\" rel=\"noreferrer\"><code>Joiner</code></a> class from <a href=\"https://google.github.io/guava/releases/18.0/api/docs/\" rel=\"noreferrer\">Guava</a>:</p>\n\n<pre><code>String joined = Joiner.on(\"\\t\").join(list);\n</code></pre>\n\n\n"},{"tags":[],"owner":{"account_id":29872,"reputation":10402,"user_id":81019,"accept_rate":56,"display_name":"JJ Geewax"},"down_vote_count":0,"up_vote_count":426,"is_accepted":false,"score":426,"last_activity_date":1318699793,"creation_date":1318699793,"answer_id":7779427,"question_id":599161,"body_markdown":"If you happen to be doing this on Android, there is a nice utility for this called [TextUtils][1] which has a `.join(String delimiter, Iterable)` method.\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    list.add(&quot;Item 1&quot;);\r\n    list.add(&quot;Item 2&quot;);\r\n    String joined = TextUtils.join(&quot;, &quot;, list);\r\n\r\nObviously not much use outside of Android, but figured I&#39;d add it to this thread...\r\n\r\n  [1]: http://developer.android.com/reference/android/text/TextUtils.html#join(java.lang.CharSequence,%20java.lang.Iterable)","title":"Best way to convert an ArrayList to a string","body":"<p>If you happen to be doing this on Android, there is a nice utility for this called <a href=\"http://developer.android.com/reference/android/text/TextUtils.html#join(java.lang.CharSequence,%20java.lang.Iterable)\" rel=\"noreferrer\">TextUtils</a> which has a <code>.join(String delimiter, Iterable)</code> method.</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();\nlist.add(\"Item 1\");\nlist.add(\"Item 2\");\nString joined = TextUtils.join(\", \", list);\n</code></pre>\n\n<p>Obviously not much use outside of Android, but figured I'd add it to this thread...</p>\n"},{"tags":[],"owner":{"account_id":385420,"reputation":733,"user_id":742553,"display_name":"Ken Shih"},"down_vote_count":4,"up_vote_count":70,"is_accepted":false,"score":66,"last_activity_date":1402001529,"creation_date":1347647612,"answer_id":12430087,"question_id":599161,"body_markdown":"If you were looking for a quick one-liner, as of Java 5 you can do this:\r\n\r\n    myList.toString().replaceAll(&quot;\\\\[|\\\\]&quot;, &quot;&quot;).replaceAll(&quot;, &quot;,&quot;\\t&quot;)\r\n\r\nAdditionally, if your purpose is just to print out the contents and are less concerned about the &quot;\\t&quot;, you can simply do this:\r\n\r\n    myList.toString()\r\n\r\nwhich returns a string like\r\n\r\n&gt; [str1, str2, str3]\r\n\r\nIf you have an Array (not ArrayList) then you can accomplish the same like this:\r\n\r\n     Arrays.toString(myList).replaceAll(&quot;\\\\[|\\\\]&quot;, &quot;&quot;).replaceAll(&quot;, &quot;,&quot;\\t&quot;)","title":"Best way to convert an ArrayList to a string","body":"<p>If you were looking for a quick one-liner, as of Java 5 you can do this:</p>\n\n<pre><code>myList.toString().replaceAll(\"\\\\[|\\\\]\", \"\").replaceAll(\", \",\"\\t\")\n</code></pre>\n\n<p>Additionally, if your purpose is just to print out the contents and are less concerned about the \"\\t\", you can simply do this:</p>\n\n<pre><code>myList.toString()\n</code></pre>\n\n<p>which returns a string like</p>\n\n<blockquote>\n  <p>[str1, str2, str3]</p>\n</blockquote>\n\n<p>If you have an Array (not ArrayList) then you can accomplish the same like this:</p>\n\n<pre><code> Arrays.toString(myList).replaceAll(\"\\\\[|\\\\]\", \"\").replaceAll(\", \",\"\\t\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1466015295,"creation_date":1377772243,"answer_id":18508511,"question_id":599161,"body_markdown":"If you&#39;re using [Eclipse Collections][1], you can use the `makeString()` method.\r\n\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    list.add(&quot;one&quot;);\r\n    list.add(&quot;two&quot;);\r\n    list.add(&quot;three&quot;);\r\n\r\n    Assert.assertEquals(\r\n        &quot;one\\ttwo\\tthree&quot;,\r\n        ArrayListAdapter.adapt(list).makeString(&quot;\\t&quot;));\r\n\r\nIf you can convert your `ArrayList` to a `FastList`, you can get rid of the adapter.\r\n\r\n    Assert.assertEquals(\r\n        &quot;one\\ttwo\\tthree&quot;,\r\n        FastList.newListWith(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;).makeString(&quot;\\t&quot;));\r\n\r\n\r\nNote: I am a committer for Eclipse Collections.\r\n\r\n  [1]: https://github.com/eclipse/eclipse-collections\r\n","title":"Best way to convert an ArrayList to a string","body":"<p>If you're using <a href=\"https://github.com/eclipse/eclipse-collections\" rel=\"nofollow\">Eclipse Collections</a>, you can use the <code>makeString()</code> method.</p>\n\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\nlist.add(\"one\");\nlist.add(\"two\");\nlist.add(\"three\");\n\nAssert.assertEquals(\n    \"one\\ttwo\\tthree\",\n    ArrayListAdapter.adapt(list).makeString(\"\\t\"));\n</code></pre>\n\n<p>If you can convert your <code>ArrayList</code> to a <code>FastList</code>, you can get rid of the adapter.</p>\n\n<pre><code>Assert.assertEquals(\n    \"one\\ttwo\\tthree\",\n    FastList.newListWith(\"one\", \"two\", \"three\").makeString(\"\\t\"));\n</code></pre>\n\n<p>Note: I am a committer for Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1391072362,"creation_date":1391072362,"answer_id":21451778,"question_id":599161,"body_markdown":"How about this function:\r\n\r\n\tpublic static String toString(final Collection&lt;?&gt; collection) {\r\n\t\tfinal StringBuilder sb = new StringBuilder(&quot;{&quot;);\r\n\t\tboolean isFirst = true;\r\n\t\tfor (final Object object : collection) {\r\n\t\t\tif (!isFirst)\r\n\t\t\t\tsb.append(&#39;,&#39;);\r\n\t\t\telse\r\n\t\t\t\tisFirst = false;\r\n\t\t\tsb.append(object);\r\n\t\t}\r\n\t\tsb.append(&#39;}&#39;);\r\n\t\treturn sb.toString();\r\n\t}\r\n\r\nit works for any type of collection...","title":"Best way to convert an ArrayList to a string","body":"<p>How about this function:</p>\n\n<pre><code>public static String toString(final Collection&lt;?&gt; collection) {\n    final StringBuilder sb = new StringBuilder(\"{\");\n    boolean isFirst = true;\n    for (final Object object : collection) {\n        if (!isFirst)\n            sb.append(',');\n        else\n            isFirst = false;\n        sb.append(object);\n    }\n    sb.append('}');\n    return sb.toString();\n}\n</code></pre>\n\n<p>it works for any type of collection...</p>\n"},{"tags":[],"owner":{"account_id":108817,"reputation":111646,"user_id":288671,"display_name":"Vitalii Fedorenko"},"down_vote_count":1,"up_vote_count":1196,"is_accepted":false,"score":1195,"last_activity_date":1408752250,"creation_date":1398006497,"answer_id":23183963,"question_id":599161,"body_markdown":"In Java 8 or later:\r\n\r\n    String listString = String.join(&quot;, &quot;, list);\r\n\r\nIn case the `list` is not of type String, a joining collector can be used:\r\n\r\n    String listString = list.stream().map(Object::toString)\r\n                            .collect(Collectors.joining(&quot;, &quot;));\r\n","title":"Best way to convert an ArrayList to a string","body":"<p>In Java 8 or later:</p>\n\n<pre><code>String listString = String.join(\", \", list);\n</code></pre>\n\n<p>In case the <code>list</code> is not of type String, a joining collector can be used:</p>\n\n<pre><code>String listString = list.stream().map(Object::toString)\n                        .collect(Collectors.joining(\", \"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":54398,"reputation":4074,"user_id":1283489,"accept_rate":33,"display_name":"kehers"},"down_vote_count":2,"up_vote_count":21,"is_accepted":false,"score":19,"last_activity_date":1680137286,"creation_date":1402549908,"answer_id":24176855,"question_id":599161,"body_markdown":"Android has a [`TextUtil`](http://developer.android.com/reference/android/text/TextUtils.html) class you can use:\r\n\r\n    String implode = TextUtils.join(&quot;\\t&quot;, list);","title":"Best way to convert an ArrayList to a string","body":"<p>Android has a <a href=\"http://developer.android.com/reference/android/text/TextUtils.html\" rel=\"nofollow noreferrer\"><code>TextUtil</code></a> class you can use:</p>\n<pre><code>String implode = TextUtils.join(&quot;\\t&quot;, list);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1789458,"reputation":3075,"user_id":1630199,"display_name":"Srinivasan.S"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1403260525,"creation_date":1403260525,"answer_id":24325306,"question_id":599161,"body_markdown":"The below code may help you,\r\n\r\n    List list = new ArrayList();\r\n    list.add(&quot;1&quot;);\r\n    list.add(&quot;2&quot;);\r\n    list.add(&quot;3&quot;);\r\n    String str = list.toString();\r\n    System.out.println(&quot;Step-1 : &quot; + str);\r\n    str = str.replaceAll(&quot;[\\\\[\\\\]]&quot;, &quot;&quot;);\r\n    System.out.println(&quot;Step-2 : &quot; + str);\r\n\r\nOutput:\r\n\r\n    Step-1 : [1, 2, 3]\r\n    Step-2 : 1, 2, 3","title":"Best way to convert an ArrayList to a string","body":"<p>The below code may help you,</p>\n\n<pre><code>List list = new ArrayList();\nlist.add(\"1\");\nlist.add(\"2\");\nlist.add(\"3\");\nString str = list.toString();\nSystem.out.println(\"Step-1 : \" + str);\nstr = str.replaceAll(\"[\\\\[\\\\]]\", \"\");\nSystem.out.println(\"Step-2 : \" + str);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Step-1 : [1, 2, 3]\nStep-2 : 1, 2, 3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3795667,"reputation":791,"user_id":3392249,"accept_rate":53,"display_name":"chopss"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544139161,"creation_date":1406785000,"answer_id":25051512,"question_id":599161,"body_markdown":"   For seperating using tabs instead of using **println** you can use **print**     \r\n\r\n    ArrayList&lt;String&gt; mylist = new ArrayList&lt;String&gt;();\r\n\t\r\n    mylist.add(&quot;C Programming&quot;);\r\n\tmylist.add(&quot;Java&quot;);\r\n\tmylist.add(&quot;C++&quot;);\r\n\tmylist.add(&quot;Perl&quot;);\r\n\tmylist.add(&quot;Python&quot;);\r\n\r\n\tfor (String each : mylist)\r\n\t{\t\t\r\n\t    System.out.print(each);\r\n\t\tSystem.out.print(&quot;\\t&quot;);\r\n\t}\r\n","title":"Best way to convert an ArrayList to a string","body":"<p>For seperating using tabs instead of using <strong>println</strong> you can use <strong>print</strong>     </p>\n\n<pre><code>ArrayList&lt;String&gt; mylist = new ArrayList&lt;String&gt;();\n\nmylist.add(\"C Programming\");\nmylist.add(\"Java\");\nmylist.add(\"C++\");\nmylist.add(\"Perl\");\nmylist.add(\"Python\");\n\nfor (String each : mylist)\n{       \n    System.out.print(each);\n    System.out.print(\"\\t\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20713,"reputation":2149,"user_id":49767,"accept_rate":75,"display_name":"Mohan Narayanaswamy"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1412304553,"creation_date":1412304553,"answer_id":26172604,"question_id":599161,"body_markdown":"May not be the best way, but elegant way.\r\n\r\nArrays.deepToString(Arrays.asList(&quot;Test&quot;, &quot;Test2&quot;)\r\n\r\n\r\n    import java.util.Arrays;\r\n\r\n        public class Test {\r\n        \tpublic static void main(String[] args) {\r\n        \t\tSystem.out.println(Arrays.deepToString(Arrays.asList(&quot;Test&quot;, &quot;Test2&quot;).toArray()));\r\n        \t}\r\n        }\r\n\r\nOutput\r\n\r\n[Test, Test2]\r\n\r\n","title":"Best way to convert an ArrayList to a string","body":"<p>May not be the best way, but elegant way.</p>\n\n<p>Arrays.deepToString(Arrays.asList(\"Test\", \"Test2\")</p>\n\n<pre><code>import java.util.Arrays;\n\n    public class Test {\n        public static void main(String[] args) {\n            System.out.println(Arrays.deepToString(Arrays.asList(\"Test\", \"Test2\").toArray()));\n        }\n    }\n</code></pre>\n\n<p>Output</p>\n\n<p>[Test, Test2]</p>\n"},{"tags":[],"owner":{"account_id":1650790,"reputation":654,"user_id":1521453,"accept_rate":67,"display_name":"Vikrant Goel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1428478840,"creation_date":1428478840,"answer_id":29508728,"question_id":599161,"body_markdown":"You can use a Regex for this. This is as concise as it gets\r\n\r\n    System.out.println(yourArrayList.toString().replaceAll(&quot;\\\\[|\\\\]|[,][ ]&quot;,&quot;\\t&quot;));","title":"Best way to convert an ArrayList to a string","body":"<p>You can use a Regex for this. This is as concise as it gets</p>\n\n<pre><code>System.out.println(yourArrayList.toString().replaceAll(\"\\\\[|\\\\]|[,][ ]\",\"\\t\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":115974,"reputation":16225,"user_id":304285,"accept_rate":86,"display_name":"amra"},"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1562162262,"creation_date":1429186145,"answer_id":29674295,"question_id":599161,"body_markdown":"In Java 8 it&#39;s simple. See example for list of integers:\r\n\r\n    String result = Arrays.asList(1,2,3).stream().map(Object::toString).reduce((t, u) -&gt; t + &quot;\\t&quot; + u).orElse(&quot;&quot;);\r\n\r\nOr multiline version (which is simpler to read):\r\n\r\n    String result = Arrays.asList(1,2,3).stream()\r\n        .map(Object::toString)\r\n        .reduce((t, u) -&gt; t + &quot;\\t&quot; + u)\r\n        .orElse(&quot;&quot;);\r\n\r\n#Update - a shorter version \r\n```\r\nString result = Arrays.asList(1,2,3).stream()\r\n                .map(Object::toString)\r\n                .collect(Collectors.joining(&quot;\\t&quot;));\r\n```","title":"Best way to convert an ArrayList to a string","body":"<p>In Java 8 it's simple. See example for list of integers:</p>\n\n<pre><code>String result = Arrays.asList(1,2,3).stream().map(Object::toString).reduce((t, u) -&gt; t + \"\\t\" + u).orElse(\"\");\n</code></pre>\n\n<p>Or multiline version (which is simpler to read):</p>\n\n<pre><code>String result = Arrays.asList(1,2,3).stream()\n    .map(Object::toString)\n    .reduce((t, u) -&gt; t + \"\\t\" + u)\n    .orElse(\"\");\n</code></pre>\n\n<h1>Update - a shorter version</h1>\n\n<pre><code>String result = Arrays.asList(1,2,3).stream()\n                .map(Object::toString)\n                .collect(Collectors.joining(\"\\t\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5036993,"reputation":2210,"user_id":4045489,"display_name":"Sheng.W"},"down_vote_count":1,"up_vote_count":95,"is_accepted":false,"score":94,"last_activity_date":1450969746,"creation_date":1442980490,"answer_id":32730680,"question_id":599161,"body_markdown":"Changing **List** to a readable and meaningful **String** is really a common question that every one may encounter. \r\n\r\n**Case 1**.  If you have  apache&#39;s StringUtils in your class path (as from rogerdpack and Ravi Wallau):\r\n\r\n    import org.apache.commons.lang3.StringUtils;\r\n    String str = StringUtils.join(myList);\r\n\r\n**Case 2** . If you only want to use ways from JDK(7):\r\n\r\n    import java.util.Arrays;\r\n    String str = Arrays.toString(myList.toArray()); \r\nJust never build wheels by yourself, dont use loop for this one-line task.","title":"Best way to convert an ArrayList to a string","body":"<p>Changing <strong>List</strong> to a readable and meaningful <strong>String</strong> is really a common question that every one may encounter. </p>\n\n<p><strong>Case 1</strong>.  If you have  apache's StringUtils in your class path (as from rogerdpack and Ravi Wallau):</p>\n\n<pre><code>import org.apache.commons.lang3.StringUtils;\nString str = StringUtils.join(myList);\n</code></pre>\n\n<p><strong>Case 2</strong> . If you only want to use ways from JDK(7):</p>\n\n<pre><code>import java.util.Arrays;\nString str = Arrays.toString(myList.toArray()); \n</code></pre>\n\n<p>Just never build wheels by yourself, dont use loop for this one-line task.</p>\n"},{"tags":[],"owner":{"account_id":4721005,"reputation":503,"user_id":4587040,"accept_rate":70,"display_name":"Elliander"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443126469,"creation_date":1443126469,"answer_id":32770314,"question_id":599161,"body_markdown":"I see quite a few examples which depend on additional resources, but it seems like this would be the simplest solution: (which is what I used in my own project) which is basically just converting from an ArrayList to an Array and then to a List.\r\n\r\n        List&lt;Account&gt; accounts = new ArrayList&lt;&gt;();\r\n    \r\n       public String accountList() \r\n       {\r\n          Account[] listingArray = accounts.toArray(new Account[accounts.size()]);\r\n          String listingString = Arrays.toString(listingArray);\r\n          return listingString;\r\n       }","title":"Best way to convert an ArrayList to a string","body":"<p>I see quite a few examples which depend on additional resources, but it seems like this would be the simplest solution: (which is what I used in my own project) which is basically just converting from an ArrayList to an Array and then to a List.</p>\n\n<pre><code>    List&lt;Account&gt; accounts = new ArrayList&lt;&gt;();\n\n   public String accountList() \n   {\n      Account[] listingArray = accounts.toArray(new Account[accounts.size()]);\n      String listingString = Arrays.toString(listingArray);\n      return listingString;\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3691593,"reputation":1094,"user_id":3074057,"display_name":"Beezer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1449766514,"creation_date":1449766514,"answer_id":34207503,"question_id":599161,"body_markdown":"Would the following be any good:\r\n\r\n    List&lt;String&gt; streamValues = new ArrayList&lt;&gt;();\r\n    Arrays.deepToString(streamValues.toArray()));   \r\n ","title":"Best way to convert an ArrayList to a string","body":"<p>Would the following be any good:</p>\n\n<pre><code>List&lt;String&gt; streamValues = new ArrayList&lt;&gt;();\nArrays.deepToString(streamValues.toArray()));   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2260563,"reputation":5815,"user_id":1990785,"accept_rate":77,"display_name":"Javad"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1474915477,"creation_date":1474909884,"answer_id":39708597,"question_id":599161,"body_markdown":"In case you happen to be on Android and you are not using Jack yet (e.g. because it&#39;s still lacking support for Instant Run), and if you want more control over formatting of the resulting string (e.g. you would like to use the newline character as the divider of elements), and happen to use/want to use the StreamSupport library (for using streams on Java 7 or earlier versions of the compiler), you could use something like this (I put this method in my ListUtils class):\r\n\r\n    public static &lt;T&gt; String asString(List&lt;T&gt; list) {\r\n        return StreamSupport.stream(list)\r\n                .map(Object::toString)\r\n                .collect(Collectors.joining(&quot;\\n&quot;));\r\n    }\r\n\r\nAnd of course, make sure to implement toString() on your list objects&#39; class.","title":"Best way to convert an ArrayList to a string","body":"<p>In case you happen to be on Android and you are not using Jack yet (e.g. because it's still lacking support for Instant Run), and if you want more control over formatting of the resulting string (e.g. you would like to use the newline character as the divider of elements), and happen to use/want to use the StreamSupport library (for using streams on Java 7 or earlier versions of the compiler), you could use something like this (I put this method in my ListUtils class):</p>\n\n<pre><code>public static &lt;T&gt; String asString(List&lt;T&gt; list) {\n    return StreamSupport.stream(list)\n            .map(Object::toString)\n            .collect(Collectors.joining(\"\\n\"));\n}\n</code></pre>\n\n<p>And of course, make sure to implement toString() on your list objects' class.</p>\n"},{"tags":[],"owner":{"account_id":13052,"reputation":36521,"user_id":26004,"accept_rate":92,"display_name":"fmsf"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1478603805,"creation_date":1478603805,"answer_id":40485514,"question_id":599161,"body_markdown":"    List&lt;String&gt; stringList = getMyListOfStrings();\r\n    StringJoiner sj = new StringJoiner(&quot; &quot;);\r\n    stringList.stream().forEach(e -&gt; sj.add(e));\r\n    String spaceSeparated = sj.toString()\r\n\r\n\r\nYou pass to the `new StringJoiner` the char sequence you want to be used as separator. If you want to do a CSV: `new StringJoiner(&quot;, &quot;);`","title":"Best way to convert an ArrayList to a string","body":"<pre><code>List&lt;String&gt; stringList = getMyListOfStrings();\nStringJoiner sj = new StringJoiner(\" \");\nstringList.stream().forEach(e -&gt; sj.add(e));\nString spaceSeparated = sj.toString()\n</code></pre>\n\n<p>You pass to the <code>new StringJoiner</code> the char sequence you want to be used as separator. If you want to do a CSV: <code>new StringJoiner(\", \");</code></p>\n"},{"tags":[],"owner":{"account_id":5958733,"reputation":5513,"user_id":4684508,"display_name":"Khader M A"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1522291776,"creation_date":1522291776,"answer_id":49547243,"question_id":599161,"body_markdown":"For this simple use case, you can simply join the strings with comma. If you use Java 8:\r\n\r\n    String csv = String.join(&quot;\\t&quot;, yourArray);\r\n\r\notherwise commons-lang has a join() method:\r\n\r\n    String csv = org.apache.commons.lang3.StringUtils.join(yourArray, &quot;\\t&quot;);","title":"Best way to convert an ArrayList to a string","body":"<p>For this simple use case, you can simply join the strings with comma. If you use Java 8:</p>\n\n<pre><code>String csv = String.join(\"\\t\", yourArray);\n</code></pre>\n\n<p>otherwise commons-lang has a join() method:</p>\n\n<pre><code>String csv = org.apache.commons.lang3.StringUtils.join(yourArray, \"\\t\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3737094,"reputation":544,"user_id":3107804,"accept_rate":62,"display_name":"Pratyush Pranjal"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1523625874,"creation_date":1523625874,"answer_id":49818122,"question_id":599161,"body_markdown":"In one Line : \r\nFrom [12,0,1,78,12] to 12 0 1 78 12\r\n\r\n    String srt= list.toString().replaceAll(&quot;\\\\[|\\\\]|,&quot;,&quot;&quot;);","title":"Best way to convert an ArrayList to a string","body":"<p>In one Line : \nFrom [12,0,1,78,12] to 12 0 1 78 12</p>\n\n<pre><code>String srt= list.toString().replaceAll(\"\\\\[|\\\\]|,\",\"\");\n</code></pre>\n"}],"owner":{"account_id":27414,"reputation":4401,"user_id":72369,"accept_rate":92,"display_name":"Juan Besa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1489129,"favorite_count":0,"down_vote_count":0,"up_vote_count":352,"accepted_answer_id":599181,"answer_count":27,"score":352,"last_activity_date":1680137286,"creation_date":1235876291,"question_id":599161,"body_markdown":"I have an `ArrayList` that I want to output completely as a String. Essentially I want to output it in order using the `toString` of each element separated by tabs. Is there any fast way to do this? You could loop through it (or remove each element) and concatenate it to a String but I think this will be very slow. ","title":"Best way to convert an ArrayList to a string","body":"<p>I have an <code>ArrayList</code> that I want to output completely as a String. Essentially I want to output it in order using the <code>toString</code> of each element separated by tabs. Is there any fast way to do this? You could loop through it (or remove each element) and concatenate it to a String but I think this will be very slow. </p>\n"},{"tags":["java","string","object","tostring"],"comments":[{"owner":{"account_id":2389614,"reputation":3403,"user_id":2092405,"accept_rate":93,"display_name":"Ashish Rawat"},"score":3,"creation_date":1438999654,"post_id":29140402,"comment_id":51695349,"body_markdown":"You can use [GSON](https://github.com/google/gson) library to convert object to json and vice versa. Very useful for debugging.","body":"You can use <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">GSON</a> library to convert object to json and vice versa. Very useful for debugging."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1459001666,"post_id":29140402,"comment_id":60103117,"body_markdown":"See also http://stackoverflow.com/questions/27647567/how-to-support-println-in-a-class","body":"See also <a href=\"http://stackoverflow.com/questions/27647567/how-to-support-println-in-a-class\" title=\"how to support println in a class\">stackoverflow.com/questions/27647567/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"down_vote_count":2,"up_vote_count":514,"is_accepted":true,"score":512,"last_activity_date":1606768856,"creation_date":1426755558,"answer_id":29140403,"question_id":29140402,"body_markdown":"# Background\r\n\r\nAll Java objects have a `toString()` method, which is invoked when you try to print the object. \r\n\r\n    System.out.println(myObject);  // invokes myObject.toString()\r\n\r\nThis method is defined in the [`Object`](http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html) class (the superclass of all Java objects). The [`Object.toString()`](http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--) method returns a fairly ugly looking string, composed of the name of the class, an `@` symbol and the [hashcode](https://stackoverflow.com/questions/3563847/what-is-the-use-of-hashcode-in-java) of the object in hexadecimal. The code for this looks like:\r\n\r\n    // Code of Object.toString()\r\n    public String toString() {\r\n        return getClass().getName() + &quot;@&quot; + Integer.toHexString(hashCode());\r\n    }\r\n\r\nA result such as `com.foo.MyType@2f92e0f4` can therefore be explained as:\r\n\r\n - `com.foo.MyType`  - the name of the class, i.e. the class is `MyType` in the package `com.foo`.\r\n - `@` - joins the string together\r\n - `2f92e0f4` the hashcode of the object.\r\n\r\nThe name of array classes look a little different, which is explained well in the Javadocs for [`Class.getName()`](http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getName--). For instance, `[Ljava.lang.String` means:\r\n\r\n - `[` - an single-dimensional array (as opposed to `[[` or `[[[` etc.)\r\n - `L` - the array contains a class or interface\r\n - `java.lang.String` - the type of objects in the array\r\n\r\n---\r\n\r\n# Customizing the Output\r\n\r\nTo print something different when you call `System.out.println(myObject)`, you must [override](https://docs.oracle.com/javase/tutorial/java/IandI/override.html) the `toString()` method in your own class. Here&#39;s a simple example:\r\n\r\n    public class Person {\r\n    \r\n      private String name;\r\n      \r\n      // constructors and other methods omitted\r\n      \r\n      @Override\r\n      public String toString() {\r\n        return name;\r\n      }\r\n    }\r\n\r\nNow if we print a `Person`, we see their name rather than `com.foo.Person@12345678`.\r\n\r\nBear in mind that `toString()` is just *one* way for an object to be converted to a string. Typically this output should fully describe your object in a clear and concise manner. A better `toString()` for our `Person` class might be:\r\n\r\n    @Override\r\n    public String toString() {\r\n      return getClass().getSimpleName() + &quot;[name=&quot; + name + &quot;]&quot;;\r\n    }\r\n\r\nWhich would print, e.g., `Person[name=Henry]`. That&#39;s a really useful piece of data for debugging/testing.\r\n\r\nIf you want to focus on just one aspect of your object or include a lot of jazzy formatting, you might be better to define a separate method instead, e.g. `String toElegantReport() {...}`.\r\n\r\n---\r\n\r\n# Auto-generating the Output\r\n\r\nMany [IDEs](http://en.wikipedia.org/wiki/Integrated_development_environment) offer support for auto-generating a `toString()` method, based on the fields in the class. See docs for [Eclipse](http://help.eclipse.org/luna/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fref-dialog-tostring.htm) and [IntelliJ](https://plugins.jetbrains.com/plugin/182?pr=idea), for example. \r\n\r\nSeveral popular Java libraries offer this feature as well. Some examples include:\r\n\r\n - [`ToStringBuilder`](http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/builder/ToStringBuilder.html) from [Apache Commons Lang](http://commons.apache.org/proper/commons-lang/)\r\n\r\n - [`MoreObjects.ToStringHelper`](https://google.github.io/guava/releases/19.0/api/docs/com/google/common/base/MoreObjects.ToStringHelper.html) from [Google Guava](https://github.com/google/guava)\r\n\r\n - [`@ToString`](http://projectlombok.org/features/ToString.html) annotation from [Project Lombok](http://projectlombok.org/)\r\n\r\n---\r\n\r\n# Printing groups of objects\r\n\r\nSo you&#39;ve created a nice `toString()` for your class. What happens if that class is placed into an array or a collection?\r\n\r\n## Arrays\r\n\r\nIf you have an array of objects, you can call [`Arrays.toString()`](http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#toString-java.lang.Object:A-) to produce a simple representation of the contents of the array. For instance, consider this array of `Person` objects:\r\n\r\n    Person[] people = { new Person(&quot;Fred&quot;), new Person(&quot;Mike&quot;) };\r\n    System.out.println(Arrays.toString(people));\r\n\r\n    // Prints: [Fred, Mike]\r\n\r\nNote:  this is a call to a *static* method called `toString()` in the Arrays class, which is different to what we&#39;ve been discussing above.\r\n\r\nIf you have a **multi-dimensional array**, you can use [`Arrays.deepToString()`](http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#deepToString-java.lang.Object:A-) to achieve the same sort of output.\r\n\r\n## Collections\r\n\r\nMost collections will produce a pretty output based on calling `.toString()` on every element.\r\n\r\n    List&lt;Person&gt; people = new ArrayList&lt;&gt;();\r\n    people.add(new Person(&quot;Alice&quot;));\r\n    people.add(new Person(&quot;Bob&quot;));    \r\n    System.out.println(people);\r\n\r\n    // Prints [Alice, Bob]\r\n\r\nSo you just need to ensure your list elements define a nice `toString()` as discussed above.","title":"How do I print my Java object without getting &quot;SomeType@2f92e0f4&quot;?","body":"<h1>Background</h1>\n<p>All Java objects have a <code>toString()</code> method, which is invoked when you try to print the object.</p>\n<pre><code>System.out.println(myObject);  // invokes myObject.toString()\n</code></pre>\n<p>This method is defined in the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html\" rel=\"noreferrer\"><code>Object</code></a> class (the superclass of all Java objects). The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--\" rel=\"noreferrer\"><code>Object.toString()</code></a> method returns a fairly ugly looking string, composed of the name of the class, an <code>@</code> symbol and the <a href=\"https://stackoverflow.com/questions/3563847/what-is-the-use-of-hashcode-in-java\">hashcode</a> of the object in hexadecimal. The code for this looks like:</p>\n<pre><code>// Code of Object.toString()\npublic String toString() {\n    return getClass().getName() + &quot;@&quot; + Integer.toHexString(hashCode());\n}\n</code></pre>\n<p>A result such as <code>com.foo.MyType@2f92e0f4</code> can therefore be explained as:</p>\n<ul>\n<li><code>com.foo.MyType</code>  - the name of the class, i.e. the class is <code>MyType</code> in the package <code>com.foo</code>.</li>\n<li><code>@</code> - joins the string together</li>\n<li><code>2f92e0f4</code> the hashcode of the object.</li>\n</ul>\n<p>The name of array classes look a little different, which is explained well in the Javadocs for <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getName--\" rel=\"noreferrer\"><code>Class.getName()</code></a>. For instance, <code>[Ljava.lang.String</code> means:</p>\n<ul>\n<li><code>[</code> - an single-dimensional array (as opposed to <code>[[</code> or <code>[[[</code> etc.)</li>\n<li><code>L</code> - the array contains a class or interface</li>\n<li><code>java.lang.String</code> - the type of objects in the array</li>\n</ul>\n<hr />\n<h1>Customizing the Output</h1>\n<p>To print something different when you call <code>System.out.println(myObject)</code>, you must <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/override.html\" rel=\"noreferrer\">override</a> the <code>toString()</code> method in your own class. Here's a simple example:</p>\n<pre><code>public class Person {\n\n  private String name;\n  \n  // constructors and other methods omitted\n  \n  @Override\n  public String toString() {\n    return name;\n  }\n}\n</code></pre>\n<p>Now if we print a <code>Person</code>, we see their name rather than <code>com.foo.Person@12345678</code>.</p>\n<p>Bear in mind that <code>toString()</code> is just <em>one</em> way for an object to be converted to a string. Typically this output should fully describe your object in a clear and concise manner. A better <code>toString()</code> for our <code>Person</code> class might be:</p>\n<pre><code>@Override\npublic String toString() {\n  return getClass().getSimpleName() + &quot;[name=&quot; + name + &quot;]&quot;;\n}\n</code></pre>\n<p>Which would print, e.g., <code>Person[name=Henry]</code>. That's a really useful piece of data for debugging/testing.</p>\n<p>If you want to focus on just one aspect of your object or include a lot of jazzy formatting, you might be better to define a separate method instead, e.g. <code>String toElegantReport() {...}</code>.</p>\n<hr />\n<h1>Auto-generating the Output</h1>\n<p>Many <a href=\"http://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"noreferrer\">IDEs</a> offer support for auto-generating a <code>toString()</code> method, based on the fields in the class. See docs for <a href=\"http://help.eclipse.org/luna/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fref-dialog-tostring.htm\" rel=\"noreferrer\">Eclipse</a> and <a href=\"https://plugins.jetbrains.com/plugin/182?pr=idea\" rel=\"noreferrer\">IntelliJ</a>, for example.</p>\n<p>Several popular Java libraries offer this feature as well. Some examples include:</p>\n<ul>\n<li><p><a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/builder/ToStringBuilder.html\" rel=\"noreferrer\"><code>ToStringBuilder</code></a> from <a href=\"http://commons.apache.org/proper/commons-lang/\" rel=\"noreferrer\">Apache Commons Lang</a></p>\n</li>\n<li><p><a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/base/MoreObjects.ToStringHelper.html\" rel=\"noreferrer\"><code>MoreObjects.ToStringHelper</code></a> from <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Google Guava</a></p>\n</li>\n<li><p><a href=\"http://projectlombok.org/features/ToString.html\" rel=\"noreferrer\"><code>@ToString</code></a> annotation from <a href=\"http://projectlombok.org/\" rel=\"noreferrer\">Project Lombok</a></p>\n</li>\n</ul>\n<hr />\n<h1>Printing groups of objects</h1>\n<p>So you've created a nice <code>toString()</code> for your class. What happens if that class is placed into an array or a collection?</p>\n<h2>Arrays</h2>\n<p>If you have an array of objects, you can call <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#toString-java.lang.Object:A-\" rel=\"noreferrer\"><code>Arrays.toString()</code></a> to produce a simple representation of the contents of the array. For instance, consider this array of <code>Person</code> objects:</p>\n<pre><code>Person[] people = { new Person(&quot;Fred&quot;), new Person(&quot;Mike&quot;) };\nSystem.out.println(Arrays.toString(people));\n\n// Prints: [Fred, Mike]\n</code></pre>\n<p>Note:  this is a call to a <em>static</em> method called <code>toString()</code> in the Arrays class, which is different to what we've been discussing above.</p>\n<p>If you have a <strong>multi-dimensional array</strong>, you can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#deepToString-java.lang.Object:A-\" rel=\"noreferrer\"><code>Arrays.deepToString()</code></a> to achieve the same sort of output.</p>\n<h2>Collections</h2>\n<p>Most collections will produce a pretty output based on calling <code>.toString()</code> on every element.</p>\n<pre><code>List&lt;Person&gt; people = new ArrayList&lt;&gt;();\npeople.add(new Person(&quot;Alice&quot;));\npeople.add(new Person(&quot;Bob&quot;));    \nSystem.out.println(people);\n\n// Prints [Alice, Bob]\n</code></pre>\n<p>So you just need to ensure your list elements define a nice <code>toString()</code> as discussed above.</p>\n"},{"tags":[],"owner":{"account_id":2516239,"reputation":688,"user_id":2187621,"accept_rate":60,"display_name":"Pankaj Manali"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1541745879,"creation_date":1426759488,"answer_id":29141638,"question_id":29140402,"body_markdown":"Every class in Java has the `toString()` method in it by default, which is called if you pass some object of that class to `System.out.println()`. By default, this call returns the className@hashcode of that object.\r\n\r\n    {\r\n        SomeClass sc = new SomeClass();\r\n        // Class @ followed by hashcode of object in Hexadecimal\r\n        System.out.println(sc);\r\n    }\r\n\r\nYou can override the toString method of a class to get different output. See this example\r\n\r\n    \r\n    class A {\r\n        String s = &quot;I am just a object&quot;;\r\n        @Override\r\n        public String toString()\r\n        {\r\n            return s;\r\n        }\r\n    }\r\n\r\n    class B {\r\n        public static void main(String args[])\r\n        {\r\n            A obj = new A();\r\n            System.out.println(obj);\r\n        }\r\n    }","title":"How do I print my Java object without getting &quot;SomeType@2f92e0f4&quot;?","body":"<p>Every class in Java has the <code>toString()</code> method in it by default, which is called if you pass some object of that class to <code>System.out.println()</code>. By default, this call returns the className@hashcode of that object.</p>\n\n<pre><code>{\n    SomeClass sc = new SomeClass();\n    // Class @ followed by hashcode of object in Hexadecimal\n    System.out.println(sc);\n}\n</code></pre>\n\n<p>You can override the toString method of a class to get different output. See this example</p>\n\n<pre><code>class A {\n    String s = \"I am just a object\";\n    @Override\n    public String toString()\n    {\n        return s;\n    }\n}\n\nclass B {\n    public static void main(String args[])\n    {\n        A obj = new A();\n        System.out.println(obj);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4737832,"reputation":1453,"user_id":3831651,"display_name":"Rohith K"},"down_vote_count":1,"up_vote_count":92,"is_accepted":false,"score":91,"last_activity_date":1429216158,"creation_date":1429104696,"answer_id":29651647,"question_id":29140402,"body_markdown":"I think apache provides a better util class which provides a function to get the string\r\n\r\n    ReflectionToStringBuilder.toString(object)","title":"How do I print my Java object without getting &quot;SomeType@2f92e0f4&quot;?","body":"<p>I think apache provides a better util class which provides a function to get the string</p>\n\n<pre><code>ReflectionToStringBuilder.toString(object)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4722165,"reputation":2588,"user_id":3819751,"display_name":"ketankk"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1509341398,"creation_date":1461246321,"answer_id":36771568,"question_id":29140402,"body_markdown":"In Eclipse,\r\nGo to your class,\r\nRight click-&gt;source-&gt;Generate `toString()`;\r\n\r\nIt will override the `toString()` method and will print the object of that class.","title":"How do I print my Java object without getting &quot;SomeType@2f92e0f4&quot;?","body":"<p>In Eclipse,\nGo to your class,\nRight click->source->Generate <code>toString()</code>;</p>\n\n<p>It will override the <code>toString()</code> method and will print the object of that class.</p>\n"},{"tags":[],"owner":{"account_id":5694623,"reputation":6528,"user_id":4501480,"accept_rate":55,"display_name":"Vikrant Kashyap"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1462533744,"creation_date":1462533744,"answer_id":37071136,"question_id":29140402,"body_markdown":"   If you Directly print any object of Person It will the `ClassName@HashCode` to the Code.\r\n\r\nin your case `com.foo.Person@2f92e0f4` is getting printed . Where `Person` is a class to which object belongs and `2f92e0f4` is hashCode of the Object.\r\n\r\n    public class Person {\r\n      private String name;\r\n      \r\n      public Person(String name){\r\n      this.name = name;\r\n      }\r\n      // getter/setter omitted\r\n\r\n       @override\r\n       public String toString(){\r\n            return name;\r\n       }\r\n    }\r\n\r\nNow if you try to Use the object of `Person` then it will print the name\r\n \r\n\r\n    Class Test\r\n     {\r\n      public static void main(String... args){\r\n        Person obj = new Person(&quot;YourName&quot;);\r\n        System.out.println(obj.toString());\r\n      }\r\n    }","title":"How do I print my Java object without getting &quot;SomeType@2f92e0f4&quot;?","body":"<p>If you Directly print any object of Person It will the <code>ClassName@HashCode</code> to the Code.</p>\n\n<p>in your case <code>com.foo.Person@2f92e0f4</code> is getting printed . Where <code>Person</code> is a class to which object belongs and <code>2f92e0f4</code> is hashCode of the Object.</p>\n\n<pre><code>public class Person {\n  private String name;\n\n  public Person(String name){\n  this.name = name;\n  }\n  // getter/setter omitted\n\n   @override\n   public String toString(){\n        return name;\n   }\n}\n</code></pre>\n\n<p>Now if you try to Use the object of <code>Person</code> then it will print the name</p>\n\n<pre><code>Class Test\n {\n  public static void main(String... args){\n    Person obj = new Person(\"YourName\");\n    System.out.println(obj.toString());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4409801,"reputation":4386,"user_id":3593084,"accept_rate":40,"display_name":"Mr.Q"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1469685649,"creation_date":1469685649,"answer_id":38628203,"question_id":29140402,"body_markdown":"In intellij you can auto generate toString method by  pressing alt+inset and then selecting toString() here is an out put for a test class:\r\n\r\n    public class test  {\r\n    int a;\r\n    char b;\r\n    String c;\r\n    Test2 test2;\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;test{&quot; +\r\n                &quot;a=&quot; + a +\r\n                &quot;, b=&quot; + b +\r\n                &quot;, c=&#39;&quot; + c + &#39;\\&#39;&#39; +\r\n                &quot;, test2=&quot; + test2 +\r\n                &#39;}&#39;;\r\n     }\r\n    }\r\nAs you can see, it generates a String by concatenating, several attributes of the class, for primitives it will print their values and for reference types it will use their class type (in this case to string method of Test2).   \r\n ","title":"How do I print my Java object without getting &quot;SomeType@2f92e0f4&quot;?","body":"<p>In intellij you can auto generate toString method by  pressing alt+inset and then selecting toString() here is an out put for a test class:</p>\n\n<pre><code>public class test  {\nint a;\nchar b;\nString c;\nTest2 test2;\n\n@Override\npublic String toString() {\n    return \"test{\" +\n            \"a=\" + a +\n            \", b=\" + b +\n            \", c='\" + c + '\\'' +\n            \", test2=\" + test2 +\n            '}';\n }\n}\n</code></pre>\n\n<p>As you can see, it generates a String by concatenating, several attributes of the class, for primitives it will print their values and for reference types it will use their class type (in this case to string method of Test2).   </p>\n"},{"tags":[],"owner":{"account_id":4066076,"reputation":2498,"user_id":3340968,"accept_rate":43,"display_name":"Yasir Shabbir Choudhary"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1490595695,"creation_date":1490595695,"answer_id":43039179,"question_id":29140402,"body_markdown":"If you look at the Object class (Parent class of all classes in Java) the toString() method implementation is \r\n\r\n        public String toString() {\r\n           return getClass().getName() + &quot;@&quot; + Integer.toHexString(hashCode());\r\n        }\r\n\r\nwhenever you print any object in Java then toString() will be call. Now it&#39;s up to you if you override  toString() then your method will call other Object class method call.\r\n\r\n\r\n ","title":"How do I print my Java object without getting &quot;SomeType@2f92e0f4&quot;?","body":"<p>If you look at the Object class (Parent class of all classes in Java) the toString() method implementation is </p>\n\n<pre><code>    public String toString() {\n       return getClass().getName() + \"@\" + Integer.toHexString(hashCode());\n    }\n</code></pre>\n\n<p>whenever you print any object in Java then toString() will be call. Now it's up to you if you override  toString() then your method will call other Object class method call.</p>\n"},{"tags":[],"owner":{"account_id":1703795,"reputation":1264,"user_id":1563286,"accept_rate":44,"display_name":"adn.911"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1517471225,"creation_date":1512231794,"answer_id":47609931,"question_id":29140402,"body_markdown":"By default, every Object in Java has the `toString()` method which outputs the ObjectType@HashCode. \r\n\r\nIf you want more meaningfull information then you need to override the `toString()` method in your class. \r\n\r\n    public class Person {\r\n      private String name;\r\n    \r\n      // constructor and getter/setter omitted\r\n     \r\n      // overridding toString() to print name\r\n      public String toString(){\r\n         return name;  \r\n      }\r\n    }\r\n\r\n Now when you print the person object using `System.out.prtinln(personObj);` it will print the name of the person instead of the classname and hashcode. \r\n\r\nIn your second case when you are trying to print the array, it prints `[Lcom.foo.Person;@28a418fc` the Array type and it&#39;s hashcode. \r\n\r\n\r\n----------\r\n\r\n\r\nIf you want to print the person names, there are many ways.\r\n\r\nYou could write your own function that iterates each person and prints \r\n\r\n    void printPersonArray(Person[] persons){\r\n        for(Person person: persons){\r\n            System.out.println(person);\r\n        }\r\n    }\r\n\r\n\r\nYou could print it using Arrays.toString(). This seems the simplest to me. \r\n\r\n     System.out.println(Arrays.toString(persons));\r\n     System.out.println(Arrays.deepToString(persons));  // for nested arrays  \r\n\r\nYou could print it the java 8 way (using streams and method reference). \r\n\r\n     Arrays.stream(persons).forEach(System.out::println);\r\n      \r\nThere might be other ways as well. Hope this helps. :) ","title":"How do I print my Java object without getting &quot;SomeType@2f92e0f4&quot;?","body":"<p>By default, every Object in Java has the <code>toString()</code> method which outputs the ObjectType@HashCode. </p>\n\n<p>If you want more meaningfull information then you need to override the <code>toString()</code> method in your class. </p>\n\n<pre><code>public class Person {\n  private String name;\n\n  // constructor and getter/setter omitted\n\n  // overridding toString() to print name\n  public String toString(){\n     return name;  \n  }\n}\n</code></pre>\n\n<p>Now when you print the person object using <code>System.out.prtinln(personObj);</code> it will print the name of the person instead of the classname and hashcode. </p>\n\n<p>In your second case when you are trying to print the array, it prints <code>[Lcom.foo.Person;@28a418fc</code> the Array type and it's hashcode. </p>\n\n<hr>\n\n<p>If you want to print the person names, there are many ways.</p>\n\n<p>You could write your own function that iterates each person and prints </p>\n\n<pre><code>void printPersonArray(Person[] persons){\n    for(Person person: persons){\n        System.out.println(person);\n    }\n}\n</code></pre>\n\n<p>You could print it using Arrays.toString(). This seems the simplest to me. </p>\n\n<pre><code> System.out.println(Arrays.toString(persons));\n System.out.println(Arrays.deepToString(persons));  // for nested arrays  \n</code></pre>\n\n<p>You could print it the java 8 way (using streams and method reference). </p>\n\n<pre><code> Arrays.stream(persons).forEach(System.out::println);\n</code></pre>\n\n<p>There might be other ways as well. Hope this helps. :) </p>\n"},{"tags":[],"owner":{"account_id":6145724,"reputation":1149,"user_id":4791780,"display_name":"Agam"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1539087520,"creation_date":1539087520,"answer_id":52720911,"question_id":29140402,"body_markdown":"I prefer to use a utility function which uses [GSON][1] to de-serialize the Java object into JSON string.\r\n\r\n    /**\r\n     * This class provides basic/common functionalities to be applied on Java Objects.\r\n     */\r\n    public final class ObjectUtils {\r\n\r\n        private static final Gson GSON = new GsonBuilder().setPrettyPrinting().create();\r\n\r\n        private ObjectUtils() {\r\n             throw new UnsupportedOperationException(&quot;Instantiation of this class is not permitted in case you are using reflection.&quot;);\r\n        }\r\n\r\n        /**\r\n         * This method is responsible for de-serializing the Java Object into Json String.\r\n         *\r\n         * @param object Object to be de-serialized.\r\n         * @return String\r\n         */\r\n        public static String deserializeObjectToString(final Object object) {\r\n            return GSON.toJson(object);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/google/gson","title":"How do I print my Java object without getting &quot;SomeType@2f92e0f4&quot;?","body":"<p>I prefer to use a utility function which uses <a href=\"https://github.com/google/gson\" rel=\"noreferrer\">GSON</a> to de-serialize the Java object into JSON string.</p>\n\n<pre><code>/**\n * This class provides basic/common functionalities to be applied on Java Objects.\n */\npublic final class ObjectUtils {\n\n    private static final Gson GSON = new GsonBuilder().setPrettyPrinting().create();\n\n    private ObjectUtils() {\n         throw new UnsupportedOperationException(\"Instantiation of this class is not permitted in case you are using reflection.\");\n    }\n\n    /**\n     * This method is responsible for de-serializing the Java Object into Json String.\n     *\n     * @param object Object to be de-serialized.\n     * @return String\n     */\n    public static String deserializeObjectToString(final Object object) {\n        return GSON.toJson(object);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1215394,"reputation":6741,"user_id":1183098,"display_name":"user9869932"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680136569,"creation_date":1604597695,"answer_id":64702410,"question_id":29140402,"body_markdown":"I managed to get this done using **Jackson** in Spring 5. Depending on the object it might not work in all cases.\r\n```java\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\nObjectMapper mapper = new ObjectMapper();\r\nSystem.out.println(mapper.writeValueAsString(yourObject));\r\n```\r\nThe output would look like:\r\n```javascript\r\n{\r\n  &quot;id&quot; : 1,\r\n  &quot;fieldOne&quot; : &quot;string&quot;\r\n}\r\n```\r\n[Here](https://mkyong.com/java/how-to-enable-pretty-print-json-output-jackson/) are more examples using **Jackson**.\r\n\r\nIf you use [**GSON**](https://github.com/google/gson) instead It might look like:\r\n```java\r\nGson gson = new Gson();\r\nSystem.out.println(gson.toJson(yourObject));\r\n```","title":"How do I print my Java object without getting &quot;SomeType@2f92e0f4&quot;?","body":"<p>I managed to get this done using <strong>Jackson</strong> in Spring 5. Depending on the object it might not work in all cases.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.ObjectMapper;\n    \nObjectMapper mapper = new ObjectMapper();\nSystem.out.println(mapper.writeValueAsString(yourObject));\n</code></pre>\n<p>The output would look like:</p>\n<pre class=\"lang-js prettyprint-override\"><code>{\n  &quot;id&quot; : 1,\n  &quot;fieldOne&quot; : &quot;string&quot;\n}\n</code></pre>\n<p><a href=\"https://mkyong.com/java/how-to-enable-pretty-print-json-output-jackson/\" rel=\"nofollow noreferrer\">Here</a> are more examples using <strong>Jackson</strong>.</p>\n<p>If you use <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\"><strong>GSON</strong></a> instead It might look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Gson gson = new Gson();\nSystem.out.println(gson.toJson(yourObject));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":98194,"reputation":4266,"user_id":265954,"display_name":"t0r0X"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1637746324,"creation_date":1619906479,"answer_id":67351224,"question_id":29140402,"body_markdown":"&lt;!-- language-all: lang-java --&gt;\r\nFor a &quot;deep&quot; `toString()` there is an alternative to the JSON based answers (Jackson, GSON, etc.): [ReflectionToStringBuilder][1] from the [Apache Commons Lang 3][2] library, with [RecursiveToStringStyle][3] or [MultilineRecursiveToStringStyle][4]. Code example:\r\n\r\n    System.out.println(&quot;My object: &quot; +\r\n        ReflectionToStringBuilder.toString(theObject, new RecursiveToStringStyle()));\r\n\r\nOutput examples:\r\n\r\n    // RecursiveToStringStyle\r\n    Person@7f54[name=Stephen,age=29,smoker=false,job=Job@43cd2[title=Manager]]\r\n\r\n    // MultilineRecursiveToStringStyle\r\n    Person@7f54[\r\n      name=Stephen,\r\n      age=29,\r\n      smoker=false,\r\n      job=Job@43cd2[\r\n        title=Manager\r\n      ]\r\n    ]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/ReflectionToStringBuilder.html\r\n  [2]: https://commons.apache.org/proper/commons-lang/\r\n  [3]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/RecursiveToStringStyle.html\r\n  [4]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/MultilineRecursiveToStringStyle.html","title":"How do I print my Java object without getting &quot;SomeType@2f92e0f4&quot;?","body":"\n<p>For a &quot;deep&quot; <code>toString()</code> there is an alternative to the JSON based answers (Jackson, GSON, etc.): <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/ReflectionToStringBuilder.html\" rel=\"nofollow noreferrer\">ReflectionToStringBuilder</a> from the <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\">Apache Commons Lang 3</a> library, with <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/RecursiveToStringStyle.html\" rel=\"nofollow noreferrer\">RecursiveToStringStyle</a> or <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/MultilineRecursiveToStringStyle.html\" rel=\"nofollow noreferrer\">MultilineRecursiveToStringStyle</a>. Code example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;My object: &quot; +\n    ReflectionToStringBuilder.toString(theObject, new RecursiveToStringStyle()));\n</code></pre>\n<p>Output examples:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// RecursiveToStringStyle\nPerson@7f54[name=Stephen,age=29,smoker=false,job=Job@43cd2[title=Manager]]\n\n// MultilineRecursiveToStringStyle\nPerson@7f54[\n  name=Stephen,\n  age=29,\n  smoker=false,\n  job=Job@43cd2[\n    title=Manager\n  ]\n]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1215394,"reputation":6741,"user_id":1183098,"display_name":"user9869932"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632217165,"creation_date":1632216206,"answer_id":69266450,"question_id":29140402,"body_markdown":"If you are using project **Lombok** you could use the `@ToString` annotation and generate a standard `toString()` method without adding boilerplate.\r\n\r\n```java\r\nimport lombok.ToString;\r\n\r\n@ToString\r\npublic class LoginDto {\r\n  private String user;\r\n  private String pass;\r\n}\r\n```\r\n```java\r\n...\r\nSystem.out.println(loginDto.toString());\r\n// LoginDto(user=x@xxx.x, pass=xxxxx)\r\n```\r\n ","title":"How do I print my Java object without getting &quot;SomeType@2f92e0f4&quot;?","body":"<p>If you are using project <strong>Lombok</strong> you could use the <code>@ToString</code> annotation and generate a standard <code>toString()</code> method without adding boilerplate.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.ToString;\n\n@ToString\npublic class LoginDto {\n  private String user;\n  private String pass;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>...\nSystem.out.println(loginDto.toString());\n// LoginDto(user=x@xxx.x, pass=xxxxx)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5512797,"reputation":72,"user_id":4378540,"display_name":"Jinendra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636652998,"creation_date":1636652998,"answer_id":69932745,"question_id":29140402,"body_markdown":"Using Lombok @Data annotation on class will provide getter, setter, toString and hashcode. Using Lombok is better as it handles boilerplate code.\r\n","title":"How do I print my Java object without getting &quot;SomeType@2f92e0f4&quot;?","body":"<p>Using Lombok @Data annotation on class will provide getter, setter, toString and hashcode. Using Lombok is better as it handles boilerplate code.</p>\n"},{"tags":[],"owner":{"account_id":17609750,"reputation":153,"user_id":12778051,"display_name":"prajun7"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680117708,"creation_date":1680117708,"answer_id":75881353,"question_id":29140402,"body_markdown":"If you don&#39;t want to Override the `toString()` method you can use this,\r\n\r\n```sh\r\n    public static void printJson(Object o) {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        try {\r\n            String json = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(o);\r\n            System.out.println(json);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nWe also need to import,\r\n`import com.fasterxml.jackson.databind.ObjectMapper;\r\n`\r\n\r\nWe can make a Utils method and it will be very handy.","title":"How do I print my Java object without getting &quot;SomeType@2f92e0f4&quot;?","body":"<p>If you don't want to Override the <code>toString()</code> method you can use this,</p>\n<pre class=\"lang-bash prettyprint-override\"><code>    public static void printJson(Object o) {\n        ObjectMapper mapper = new ObjectMapper();\n        try {\n            String json = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(o);\n            System.out.println(json);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>We also need to import,\n<code>import com.fasterxml.jackson.databind.ObjectMapper; </code></p>\n<p>We can make a Utils method and it will be very handy.</p>\n"}],"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":569307,"favorite_count":0,"down_vote_count":12,"up_vote_count":422,"accepted_answer_id":29140403,"answer_count":14,"score":410,"last_activity_date":1680136569,"creation_date":1426755558,"question_id":29140402,"body_markdown":"I have a class defined as follows:\r\n\r\n    public class Person {\r\n      private String name;\r\n\r\n      // constructor and getter/setter omitted\r\n    }\r\n\r\nI tried to print an instance of my class:\r\n\r\n    System.out.println(myPerson);\r\n\r\nbut I got the following output: `com.foo.Person@2f92e0f4`.  \r\n\r\nA similar thing happened when I tried to print an array of `Person` objects:\r\n\r\n    Person[] people = //...\r\n    System.out.println(people); \r\n\r\nI got the output: `[Lcom.foo.Person;@28a418fc`\r\n\r\nWhat does this output mean? How do I change this output so it contains the name of my person? And how do I print collections of my objects?\r\n\r\n&lt;sub&gt;**Note**: this is intended as a canonical Q&amp;A about this subject.&lt;/sub&gt;","title":"How do I print my Java object without getting &quot;SomeType@2f92e0f4&quot;?","body":"<p>I have a class defined as follows:</p>\n\n<pre><code>public class Person {\n  private String name;\n\n  // constructor and getter/setter omitted\n}\n</code></pre>\n\n<p>I tried to print an instance of my class:</p>\n\n<pre><code>System.out.println(myPerson);\n</code></pre>\n\n<p>but I got the following output: <code>com.foo.Person@2f92e0f4</code>.  </p>\n\n<p>A similar thing happened when I tried to print an array of <code>Person</code> objects:</p>\n\n<pre><code>Person[] people = //...\nSystem.out.println(people); \n</code></pre>\n\n<p>I got the output: <code>[Lcom.foo.Person;@28a418fc</code></p>\n\n<p>What does this output mean? How do I change this output so it contains the name of my person? And how do I print collections of my objects?</p>\n\n<p><sub><strong>Note</strong>: this is intended as a canonical Q&amp;A about this subject.</sub></p>\n"},{"tags":["java","garbage-collection","g1gc"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1466164563,"post_id":37880711,"comment_id":63216770,"body_markdown":"I very much doubt that you kind find root causes from this information. Instead, you have to enable the GC tracing; and study its output files.","body":"I very much doubt that you kind find root causes from this information. Instead, you have to enable the GC tracing; and study its output files."},{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1466177240,"post_id":37880711,"comment_id":63225151,"body_markdown":"what is the switch to enable tracing?","body":"what is the switch to enable tracing?"},{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":1,"creation_date":1466213257,"post_id":37880711,"comment_id":63239158,"body_markdown":"looks like the GC itself isn&#39;t taking much CPU time and just wall time is long for some reason, you should enable safepoint logging, see http://stackoverflow.com/a/33293324/1362755","body":"looks like the GC itself isn&#39;t taking much CPU time and just wall time is long for some reason, you should enable safepoint logging, see <a href=\"http://stackoverflow.com/a/33293324/1362755\">stackoverflow.com/a/33293324/1362755</a>"},{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1466239540,"post_id":37880711,"comment_id":63243718,"body_markdown":"Is there any overhead in enabling safe point logging?","body":"Is there any overhead in enabling safe point logging?"},{"owner":{"account_id":21812,"reputation":6376,"user_id":53321,"accept_rate":62,"display_name":"Dominik Sandjaja"},"score":0,"creation_date":1476867995,"post_id":37880711,"comment_id":67523596,"body_markdown":"In addition, you should use a newer Java version (at least Java 8) when using G1. At least, that is our experience: G1 on Java 7 just was not production ready. Things got MUCH better in the latest Java 8u60+ for our purposes. So maybe that is a good shot for you.","body":"In addition, you should use a newer Java version (at least Java 8) when using G1. At least, that is our experience: G1 on Java 7 just was not production ready. Things got MUCH better in the latest Java 8u60+ for our purposes. So maybe that is a good shot for you."}],"answers":[{"tags":[],"owner":{"account_id":33857,"reputation":19872,"user_id":95122,"accept_rate":88,"display_name":"BobMcGee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1477482902,"creation_date":1477458220,"answer_id":40254096,"question_id":37880711,"body_markdown":"Update to the latest version of Java 8 - you should *not* be using G1 with Java 7 because it was not production ready at that time. Odds are very good you have hit a now-patched bug. Yes, there *are* ways to get OpenJDK 8 onto a RHEL 5 box. Yes, your application will increase massively in speed.\r\n\r\nAlso, this:\r\n\r\n&gt; -XX:MaxGCPauseMillis=1500\r\n\r\nand this:\r\n\r\n&gt; -Xms2g -Xmx4g\r\n\r\nWould suggest you aren&#39;t running in the sort of large-heap, low-latency environment G1 is designed for.  With a JRE that old, you may be better off with the default (ParallelGC) and *maybe* tuning a few options to reduce pause times (mileage may vary).  Or CMS, which was more mature then and with tuning can be quite stable.\r\n\r\nAnd for goodness sakes, if your app is critical enough that a 30 second GC pause every month is a problem then you can probably afford a system with RHEL 7 and more than dual cores.  ","title":"infrequent long GC pauses with G1GC","body":"<p>Update to the latest version of Java 8 - you should <em>not</em> be using G1 with Java 7 because it was not production ready at that time. Odds are very good you have hit a now-patched bug. Yes, there <em>are</em> ways to get OpenJDK 8 onto a RHEL 5 box. Yes, your application will increase massively in speed.</p>\n\n<p>Also, this:</p>\n\n<blockquote>\n  <p>-XX:MaxGCPauseMillis=1500</p>\n</blockquote>\n\n<p>and this:</p>\n\n<blockquote>\n  <p>-Xms2g -Xmx4g</p>\n</blockquote>\n\n<p>Would suggest you aren't running in the sort of large-heap, low-latency environment G1 is designed for.  With a JRE that old, you may be better off with the default (ParallelGC) and <em>maybe</em> tuning a few options to reduce pause times (mileage may vary).  Or CMS, which was more mature then and with tuning can be quite stable.</p>\n\n<p>And for goodness sakes, if your app is critical enough that a 30 second GC pause every month is a problem then you can probably afford a system with RHEL 7 and more than dual cores.  </p>\n"},{"tags":[],"owner":{"account_id":28163347,"reputation":1,"user_id":21522881,"display_name":"Kirk Pepperdine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680136427,"creation_date":1680136427,"answer_id":75883222,"question_id":37880711,"body_markdown":"The real time here is 37 seconds where as the user time is 0.48 seconds and kernel is 0 seconds. That is, it took all of the GC threads 37 seconds to use 0.48 seconds of CPU time. IOWs, the GC threads are severely starved for CPU. Noisy neighbour?","title":"infrequent long GC pauses with G1GC","body":"<p>The real time here is 37 seconds where as the user time is 0.48 seconds and kernel is 0 seconds. That is, it took all of the GC threads 37 seconds to use 0.48 seconds of CPU time. IOWs, the GC threads are severely starved for CPU. Noisy neighbour?</p>\n"}],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":704,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":40254096,"answer_count":2,"score":2,"last_activity_date":1680136427,"creation_date":1466163750,"question_id":37880711,"body_markdown":"I am experiencing infrequent long GC pauses with G1GC algorithm - 30+ seconds for a month. Once it happens, I restart my service and this delay won&#39;t happen again for next 1 month.\r\n\r\nI am attaching GC log.\r\n\r\n\r\n    2016-06-15T02:30:17.407-0400: 1702455.276: Total time for which application threads were stopped: 0.2900480 seconds\r\n    2016-06-15T02:30:25.509-0400: 1702463.378: Total time for which application threads were stopped: 0.0018900 seconds\r\n    2016-06-15T02:30:29.817-0400: 1702467.686: [GC pause (young)\r\n    Desired survivor size 7340032 bytes, new threshold 15 (max 15)\r\n    - age   1:    1903912 bytes,    1903912 total\r\n    - age   2:     641440 bytes,    2545352 total\r\n    - age   3:     455856 bytes,    3001208 total\r\n    - age   4:     563544 bytes,    3564752 total\r\n    - age   5:    1873368 bytes,    5438120 total\r\n    - age   6:     326024 bytes,    5764144 total\r\n    - age   7:     299144 bytes,    6063288 total\r\n    - age   8:     304632 bytes,    6367920 total\r\n    - age   9:     273160 bytes,    6641080 total\r\n    - age  10:     309152 bytes,    6950232 total\r\n    - age  11:     156824 bytes,    7107056 total\r\n    - age  12:     135064 bytes,    7242120 total\r\n    , 0.1199490 secs]\r\n       [Parallel Time: 118.2 ms, GC Workers: 4]\r\n          [GC Worker Start (ms): Min: 1702467686.7, Avg: 1702467686.8, Max: 1702467686.9, Diff: 0.2]\r\n          [Ext Root Scanning (ms): Min: 18.4, Avg: 20.2, Max: 24.6, Diff: 6.2, Sum: 80.7]\r\n          [Update RS (ms): Min: 75.5, Avg: 79.5, Max: 80.8, Diff: 5.3, Sum: 317.8]\r\n             [Processed Buffers: Min: 52, Avg: 61.0, Max: 70, Diff: 18, Sum: 244]\r\n          [Scan RS (ms): Min: 0.0, Avg: 0.1, Max: 0.1, Diff: 0.1, Sum: 0.3]\r\n          [Object Copy (ms): Min: 17.7, Avg: 18.1, Max: 18.6, Diff: 0.8, Sum: 72.3]\r\n          [Termination (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0]\r\n          [GC Worker Other (ms): Min: 0.1, Avg: 0.1, Max: 0.1, Diff: 0.0, Sum: 0.4]\r\n          [GC Worker Total (ms): Min: 117.8, Avg: 117.9, Max: 118.0, Diff: 0.2, Sum: 471.6]\r\n          [GC Worker End (ms): Min: 1702467804.7, Avg: 1702467804.7, Max: 1702467804.7, Diff: 0.0]\r\n       [Code Root Fixup: 0.0 ms]\r\n       [Clear CT: 0.2 ms]\r\n       [Other: 1.6 ms]\r\n          [Choose CSet: 0.0 ms]\r\n          [Ref Proc: 0.3 ms]\r\n          [Ref Enq: 0.0 ms]\r\n          [Free CSet: 0.4 ms]\r\n       [Eden: 100.0M(100.0M)-&gt;0.0B(100.0M) Survivors: 9216.0K-&gt;9216.0K Heap: 2164.6M(2198.0M)-&gt;2065.5M(2198.0M)]\r\n     [Times: user=0.48 sys=0.00, real=37.62 secs]\r\n    2016-06-15T02:31:07.438-0400: 1702505.307: Total time for which application threads were stopped: 37.6223210 seconds\r\n\r\n    2016-06-15T02:31:07.443-0400: 1702505.312: Total time for which application threads were stopped: 0.0034690 seconds\r\n    2016-06-15T02:31:07.446-0400: 1702505.315: Total time for which application threads were stopped: 0.0018140 seconds\r\n    2016-06-15T02:31:07.451-0400: 1702505.320: Total time for which application threads were stopped: 0.0020130 seconds\r\n    2016-06-15T02:31:07.453-0400: 1702505.322: Total time for which application threads were stopped: 0.0015850 seconds\r\n\r\nI am using below G1GC flags :\r\n\r\n    -server -d64 -verbose:gc -Xms2g -Xmx4g -XX:+UseG1GC \r\n    -XX:MaxGCPauseMillis=1500 -XX:G1HeapRegionSize=2 \r\n    -XX:+PrintFlagsFinal -XX:ParallelGCThreads=4 -XX:ConcGCThreads=2 \r\n    -XX:PermSize=64m -XX:MaxPermSize=256m -XX:+DisableExplicitGC \r\n    -XX:+PrintGCDateStamps -XX:+DoEscapeAnalysis -XX:+PrintTenuringDistribution \r\n    -XX:+PrintGCTimeStamps -XX:+PrintGCDetails \r\n    -XX:+PrintGCApplicationStoppedTime -XX:+HeapDumpOnOutOfMemoryError \r\n    -XX:HeapDumpPath=$PP_HOME -XX:+UseCompressedOops -XX:+AggressiveOpts&quot;\r\n\r\nMachine configuration:\r\n\r\n    Red Hat Enterprise Linux Server release 5.11 \r\n    Dual core CPU\r\n    java version &quot;1.7.0_45&quot;\r\n    Java(TM) SE Runtime Environment (build 1.7.0_45-b18)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 24.45-b08, mixed mode)\r\n   \r\n\r\nHow can we find the root cause for long GC from above statements?","title":"infrequent long GC pauses with G1GC","body":"<p>I am experiencing infrequent long GC pauses with G1GC algorithm - 30+ seconds for a month. Once it happens, I restart my service and this delay won't happen again for next 1 month.</p>\n\n<p>I am attaching GC log.</p>\n\n<pre><code>2016-06-15T02:30:17.407-0400: 1702455.276: Total time for which application threads were stopped: 0.2900480 seconds\n2016-06-15T02:30:25.509-0400: 1702463.378: Total time for which application threads were stopped: 0.0018900 seconds\n2016-06-15T02:30:29.817-0400: 1702467.686: [GC pause (young)\nDesired survivor size 7340032 bytes, new threshold 15 (max 15)\n- age   1:    1903912 bytes,    1903912 total\n- age   2:     641440 bytes,    2545352 total\n- age   3:     455856 bytes,    3001208 total\n- age   4:     563544 bytes,    3564752 total\n- age   5:    1873368 bytes,    5438120 total\n- age   6:     326024 bytes,    5764144 total\n- age   7:     299144 bytes,    6063288 total\n- age   8:     304632 bytes,    6367920 total\n- age   9:     273160 bytes,    6641080 total\n- age  10:     309152 bytes,    6950232 total\n- age  11:     156824 bytes,    7107056 total\n- age  12:     135064 bytes,    7242120 total\n, 0.1199490 secs]\n   [Parallel Time: 118.2 ms, GC Workers: 4]\n      [GC Worker Start (ms): Min: 1702467686.7, Avg: 1702467686.8, Max: 1702467686.9, Diff: 0.2]\n      [Ext Root Scanning (ms): Min: 18.4, Avg: 20.2, Max: 24.6, Diff: 6.2, Sum: 80.7]\n      [Update RS (ms): Min: 75.5, Avg: 79.5, Max: 80.8, Diff: 5.3, Sum: 317.8]\n         [Processed Buffers: Min: 52, Avg: 61.0, Max: 70, Diff: 18, Sum: 244]\n      [Scan RS (ms): Min: 0.0, Avg: 0.1, Max: 0.1, Diff: 0.1, Sum: 0.3]\n      [Object Copy (ms): Min: 17.7, Avg: 18.1, Max: 18.6, Diff: 0.8, Sum: 72.3]\n      [Termination (ms): Min: 0.0, Avg: 0.0, Max: 0.0, Diff: 0.0, Sum: 0.0]\n      [GC Worker Other (ms): Min: 0.1, Avg: 0.1, Max: 0.1, Diff: 0.0, Sum: 0.4]\n      [GC Worker Total (ms): Min: 117.8, Avg: 117.9, Max: 118.0, Diff: 0.2, Sum: 471.6]\n      [GC Worker End (ms): Min: 1702467804.7, Avg: 1702467804.7, Max: 1702467804.7, Diff: 0.0]\n   [Code Root Fixup: 0.0 ms]\n   [Clear CT: 0.2 ms]\n   [Other: 1.6 ms]\n      [Choose CSet: 0.0 ms]\n      [Ref Proc: 0.3 ms]\n      [Ref Enq: 0.0 ms]\n      [Free CSet: 0.4 ms]\n   [Eden: 100.0M(100.0M)-&gt;0.0B(100.0M) Survivors: 9216.0K-&gt;9216.0K Heap: 2164.6M(2198.0M)-&gt;2065.5M(2198.0M)]\n [Times: user=0.48 sys=0.00, real=37.62 secs]\n2016-06-15T02:31:07.438-0400: 1702505.307: Total time for which application threads were stopped: 37.6223210 seconds\n\n2016-06-15T02:31:07.443-0400: 1702505.312: Total time for which application threads were stopped: 0.0034690 seconds\n2016-06-15T02:31:07.446-0400: 1702505.315: Total time for which application threads were stopped: 0.0018140 seconds\n2016-06-15T02:31:07.451-0400: 1702505.320: Total time for which application threads were stopped: 0.0020130 seconds\n2016-06-15T02:31:07.453-0400: 1702505.322: Total time for which application threads were stopped: 0.0015850 seconds\n</code></pre>\n\n<p>I am using below G1GC flags :</p>\n\n<pre><code>-server -d64 -verbose:gc -Xms2g -Xmx4g -XX:+UseG1GC \n-XX:MaxGCPauseMillis=1500 -XX:G1HeapRegionSize=2 \n-XX:+PrintFlagsFinal -XX:ParallelGCThreads=4 -XX:ConcGCThreads=2 \n-XX:PermSize=64m -XX:MaxPermSize=256m -XX:+DisableExplicitGC \n-XX:+PrintGCDateStamps -XX:+DoEscapeAnalysis -XX:+PrintTenuringDistribution \n-XX:+PrintGCTimeStamps -XX:+PrintGCDetails \n-XX:+PrintGCApplicationStoppedTime -XX:+HeapDumpOnOutOfMemoryError \n-XX:HeapDumpPath=$PP_HOME -XX:+UseCompressedOops -XX:+AggressiveOpts\"\n</code></pre>\n\n<p>Machine configuration:</p>\n\n<pre><code>Red Hat Enterprise Linux Server release 5.11 \nDual core CPU\njava version \"1.7.0_45\"\nJava(TM) SE Runtime Environment (build 1.7.0_45-b18)\nJava HotSpot(TM) 64-Bit Server VM (build 24.45-b08, mixed mode)\n</code></pre>\n\n<p>How can we find the root cause for long GC from above statements?</p>\n"},{"tags":["java","docker","apache-kafka"],"owner":{"account_id":9120575,"reputation":294,"user_id":11418933,"display_name":"zain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680136202,"creation_date":1680136202,"question_id":75883215,"body_markdown":"I have below configuration for starting Kafka using docker-compose\r\n\r\n```  version: &#39;3.7&#39;\r\n  services:\r\n    schema-registry:\r\n      image: confluentinc/cp-schema-registry:${KAFKA_VERSION}\r\n      hostname: schema-registry\r\n      depends_on:\r\n        - kafka-broker-1\r\n        - kafka-broker-2\r\n        - kafka-broker-3\r\n      ports:\r\n        - &quot;8081:8081&quot;\r\n      environment:\r\n        SCHEMA_REGISTRY_HOST_NAME: schema-registry\r\n        SCHEMA_REGISTRY_KAFKASTORE_CONNECTION_URL: &#39;zookeeper:2181&#39;\r\n        SCHEMA_REGISTRY_LISTENERS: http://schema-registry:8081\r\n        SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS: PLAINTEXT://kafka-broker-2:9092,LISTENER_LOCAL://localhost:29092\r\n        SCHEMA_REGISTRY_DEBUG: &#39;true&#39;\r\n      networks:\r\n        - ${GLOBAL_NETWORK:-kafka}\r\n    kafka-broker-1:\r\n      image: confluentinc/cp-kafka:${KAFKA_VERSION}\r\n      hostname: kafka-broker-1\r\n      ports:\r\n        - &quot;19092:19092&quot;\r\n      environment:\r\n        KAFKA_BROKER_ID: 1\r\n        KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\r\n        KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka-broker-1:9092,LISTENER_LOCAL://localhost:19092\r\n        KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,LISTENER_LOCAL:PLAINTEXT\r\n        KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\r\n        KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 3\r\n        KAFKA_COMPRESSION_TYPE: producer\r\n      volumes:\r\n        - &quot;./volumes/kafka/broker-1:/var/lib/kafka/data&quot;\r\n      networks:\r\n        - ${GLOBAL_NETWORK:-kafka}\r\n    kafka-broker-2:\r\n      image: confluentinc/cp-kafka:${KAFKA_VERSION}\r\n      hostname: kafka-broker-2\r\n      ports:\r\n        - &quot;29092:29092&quot;\r\n      environment:\r\n        KAFKA_BROKER_ID: 2\r\n        KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\r\n        KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka-broker-2:9092,LISTENER_LOCAL://localhost:29092\r\n        KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,LISTENER_LOCAL:PLAINTEXT\r\n        KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\r\n        KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 3\r\n        KAFKA_COMPRESSION_TYPE: producer\r\n      volumes:\r\n        - &quot;./volumes/kafka/broker-2:/var/lib/kafka/data&quot;\r\n      networks:\r\n        - ${GLOBAL_NETWORK:-kafka}\r\n    kafka-broker-3:\r\n      image: confluentinc/cp-kafka:${KAFKA_VERSION}\r\n      hostname: kafka-broker-3\r\n      ports:\r\n        - &quot;39092:39092&quot;\r\n      environment:\r\n        KAFKA_BROKER_ID: 3\r\n        KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\r\n        KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka-broker-3:9092,LISTENER_LOCAL://localhost:39092\r\n        KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,LISTENER_LOCAL:PLAINTEXT\r\n        KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\r\n        KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 3\r\n        KAFKA_COMPRESSION_TYPE: producer\r\n      volumes:\r\n        - &quot;./volumes/kafka/broker-3:/var/lib/kafka/data&quot;\r\n      networks:\r\n        - ${GLOBAL_NETWORK:-kafka}\r\n    kafka-manager:\r\n      image: hlebalbau/kafka-manager:stable\r\n      restart: always\r\n      ports:\r\n        - &quot;9000:9000&quot;\r\n      environment:\r\n        ZK_HOSTS: &quot;zookeeper:2181&quot;\r\n      networks:\r\n        - ${GLOBAL_NETWORK:-kafka}\r\n```\r\nit works fine. However when I try to publish from spring boot based java  producer with broker configuration as:\r\n\r\n```\r\nkafka-config:\r\n  bootstrap-servers: localhost:19092, localhost:29092, localhost:39092\r\n  schema-registry-url-key: schema.registry.url\r\n  schema-registry-url: http://localhost:8081\r\n  num-of-partitions: 3\r\n  replication-factor: 3\r\n```\r\nit fails with error \r\n**Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.**. The problem is somewhat similar to https://stackoverflow.com/questions/43045590/kafka-setup-with-docker-compose but the post doesn&#39;t solve my problem. I added 127.0.0.1 kafka-broker-1 to hosts file but I still get the same error\r\n","title":"Kafka with docker-compose on windows fails with Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available","body":"<p>I have below configuration for starting Kafka using docker-compose</p>\n<pre><code>  services:\n    schema-registry:\n      image: confluentinc/cp-schema-registry:${KAFKA_VERSION}\n      hostname: schema-registry\n      depends_on:\n        - kafka-broker-1\n        - kafka-broker-2\n        - kafka-broker-3\n      ports:\n        - &quot;8081:8081&quot;\n      environment:\n        SCHEMA_REGISTRY_HOST_NAME: schema-registry\n        SCHEMA_REGISTRY_KAFKASTORE_CONNECTION_URL: 'zookeeper:2181'\n        SCHEMA_REGISTRY_LISTENERS: http://schema-registry:8081\n        SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS: PLAINTEXT://kafka-broker-2:9092,LISTENER_LOCAL://localhost:29092\n        SCHEMA_REGISTRY_DEBUG: 'true'\n      networks:\n        - ${GLOBAL_NETWORK:-kafka}\n    kafka-broker-1:\n      image: confluentinc/cp-kafka:${KAFKA_VERSION}\n      hostname: kafka-broker-1\n      ports:\n        - &quot;19092:19092&quot;\n      environment:\n        KAFKA_BROKER_ID: 1\n        KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n        KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka-broker-1:9092,LISTENER_LOCAL://localhost:19092\n        KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,LISTENER_LOCAL:PLAINTEXT\n        KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\n        KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 3\n        KAFKA_COMPRESSION_TYPE: producer\n      volumes:\n        - &quot;./volumes/kafka/broker-1:/var/lib/kafka/data&quot;\n      networks:\n        - ${GLOBAL_NETWORK:-kafka}\n    kafka-broker-2:\n      image: confluentinc/cp-kafka:${KAFKA_VERSION}\n      hostname: kafka-broker-2\n      ports:\n        - &quot;29092:29092&quot;\n      environment:\n        KAFKA_BROKER_ID: 2\n        KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n        KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka-broker-2:9092,LISTENER_LOCAL://localhost:29092\n        KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,LISTENER_LOCAL:PLAINTEXT\n        KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\n        KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 3\n        KAFKA_COMPRESSION_TYPE: producer\n      volumes:\n        - &quot;./volumes/kafka/broker-2:/var/lib/kafka/data&quot;\n      networks:\n        - ${GLOBAL_NETWORK:-kafka}\n    kafka-broker-3:\n      image: confluentinc/cp-kafka:${KAFKA_VERSION}\n      hostname: kafka-broker-3\n      ports:\n        - &quot;39092:39092&quot;\n      environment:\n        KAFKA_BROKER_ID: 3\n        KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n        KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka-broker-3:9092,LISTENER_LOCAL://localhost:39092\n        KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,LISTENER_LOCAL:PLAINTEXT\n        KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\n        KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 3\n        KAFKA_COMPRESSION_TYPE: producer\n      volumes:\n        - &quot;./volumes/kafka/broker-3:/var/lib/kafka/data&quot;\n      networks:\n        - ${GLOBAL_NETWORK:-kafka}\n    kafka-manager:\n      image: hlebalbau/kafka-manager:stable\n      restart: always\n      ports:\n        - &quot;9000:9000&quot;\n      environment:\n        ZK_HOSTS: &quot;zookeeper:2181&quot;\n      networks:\n        - ${GLOBAL_NETWORK:-kafka}\n</code></pre>\n<p>it works fine. However when I try to publish from spring boot based java  producer with broker configuration as:</p>\n<pre><code>kafka-config:\n  bootstrap-servers: localhost:19092, localhost:29092, localhost:39092\n  schema-registry-url-key: schema.registry.url\n  schema-registry-url: http://localhost:8081\n  num-of-partitions: 3\n  replication-factor: 3\n</code></pre>\n<p>it fails with error\n<strong>Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.</strong>. The problem is somewhat similar to <a href=\"https://stackoverflow.com/questions/43045590/kafka-setup-with-docker-compose\">Kafka setup with docker-compose</a> but the post doesn't solve my problem. I added 127.0.0.1 kafka-broker-1 to hosts file but I still get the same error</p>\n"},{"tags":["java","amazon-dynamodb","dynamodb-queries","dynamodb-enhanced-client"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680129812,"creation_date":1680129812,"answer_id":75882764,"question_id":75882680,"body_markdown":"You are using the Table level resource client which acts as a mapper between your java class object and your table. For this you work you should have a strict class definition, which means attributes which are Longs should not also contain string values, or any other non number values. \r\n\r\nYou can overcome this a number of ways:\r\n\r\n1. Use a low level client without mappings\r\n2. Use an attribute converter class and handle the deserialization of those attributes which are containing multiple data types.\r\n3. Clean your table so it does not contain corrupted data. ","title":"DynamoDB data validation during Query when using V2 Enhanced SDK","body":"<p>You are using the Table level resource client which acts as a mapper between your java class object and your table. For this you work you should have a strict class definition, which means attributes which are Longs should not also contain string values, or any other non number values.</p>\n<p>You can overcome this a number of ways:</p>\n<ol>\n<li>Use a low level client without mappings</li>\n<li>Use an attribute converter class and handle the deserialization of those attributes which are containing multiple data types.</li>\n<li>Clean your table so it does not contain corrupted data.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":960660,"reputation":4565,"user_id":985088,"accept_rate":90,"display_name":"Hephaestus"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680135634,"creation_date":1680135634,"answer_id":75883181,"question_id":75882680,"body_markdown":"Following the recommendations of @LeeHannigan I looked into the converter-classes.  I also spoke with AWS support and they came to the same conclusion.  Converter-classes look powerful but I wish there was some sample code that explains the infrastructure.  Here is the documentation that I could find: [here](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBTypeConverted.html) and [here](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/enhanced/dynamodb/mapper/annotations/DynamoDbAttribute.html).\r\n\r\nOn a lark, I experimented with treating the table data as string versions of the long-numbers and using the getter/setter methods to handle conversions.  Much to my surprise this worked.  It turns out that &quot;Number&quot; attributes, when they are made &quot;`&lt;empty&gt;`&quot; change type to a String.  And, also, even when they are `Number` types they can still be returned as a string object.  The following handled the scenario when some attributes were empty or empty strings:\r\n```\r\n@DynamoDbBean\r\npublic final class MyRecord{\r\n\r\n    private long myLongNumber = 0;\r\n\r\n    public String getMyLongNumber() {\r\n        return String.valueOf(myLongNumber);\r\n    }\r\n\r\n    public void setMyLongNumber(String myLongNumber) {\r\n        this.myLongNumber = NumberUtils.toInt(myLongNumber, 0);\r\n    }\r\n```\r\nAnd\r\n```\r\nStaticTableSchema&lt;MyRecord&gt; MySchema = TableSchema.builder(MyRecord.class)\r\n        .newItemSupplier(MyRecord::new)\r\n        ...\r\n        .addAttribute(String.class, a -&gt; a.name(&quot;myLongNumber&quot;)\r\n           .getter(MyRecord::getMyLongNumber)\r\n           .setter(MyRecord::setMyLongNumber))\r\n```","title":"DynamoDB data validation during Query when using V2 Enhanced SDK","body":"<p>Following the recommendations of @LeeHannigan I looked into the converter-classes.  I also spoke with AWS support and they came to the same conclusion.  Converter-classes look powerful but I wish there was some sample code that explains the infrastructure.  Here is the documentation that I could find: <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBTypeConverted.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/enhanced/dynamodb/mapper/annotations/DynamoDbAttribute.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>On a lark, I experimented with treating the table data as string versions of the long-numbers and using the getter/setter methods to handle conversions.  Much to my surprise this worked.  It turns out that &quot;Number&quot; attributes, when they are made &quot;<code>&lt;empty&gt;</code>&quot; change type to a String.  And, also, even when they are <code>Number</code> types they can still be returned as a string object.  The following handled the scenario when some attributes were empty or empty strings:</p>\n<pre><code>@DynamoDbBean\npublic final class MyRecord{\n\n    private long myLongNumber = 0;\n\n    public String getMyLongNumber() {\n        return String.valueOf(myLongNumber);\n    }\n\n    public void setMyLongNumber(String myLongNumber) {\n        this.myLongNumber = NumberUtils.toInt(myLongNumber, 0);\n    }\n</code></pre>\n<p>And</p>\n<pre><code>StaticTableSchema&lt;MyRecord&gt; MySchema = TableSchema.builder(MyRecord.class)\n        .newItemSupplier(MyRecord::new)\n        ...\n        .addAttribute(String.class, a -&gt; a.name(&quot;myLongNumber&quot;)\n           .getter(MyRecord::getMyLongNumber)\n           .setter(MyRecord::setMyLongNumber))\n</code></pre>\n"}],"owner":{"account_id":960660,"reputation":4565,"user_id":985088,"accept_rate":90,"display_name":"Hephaestus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680135634,"creation_date":1680128908,"question_id":75882680,"body_markdown":"We are reading from DynamoDB table and want to use the Java V2 Enhanced SDK.  We are able to build and run the code, but we are getting errors when some attributes are returning the wrong type.  For example, an attribute which should store a Long has either an empty string (`&quot;&quot;`) or is empty (`&lt;empty&gt;`).  The result is the SDK is throwing an exception:\r\n\r\n`java.lang.NumberFormatException: For input string: &quot;&lt;empty&gt;&quot;`\r\n\r\nIs there a way to handle these errors?\r\n\r\nHere is the query code:\r\n```\r\nDynamoDbTable&lt;MyRecord&gt; myTable = enhancedClient.table(TABLE_NAME, MySchema);\r\n\r\nqueryConditional = QueryConditional\r\n        .keyEqualTo(Key.builder()\r\n                .partitionValue(partKeyValue)\r\n                .sortValue     (sortKeyValue)\r\n                .build());\r\n\r\nList&lt;T&gt; results = myTable.query(r -&gt; r.queryConditional(queryConditional))\r\n        .items()\r\n        .stream()\r\n        .collect(Collectors.toList());\r\n```\r\nAnd the schema definition looks like this:\r\n```\r\nStaticTableSchema&lt;MyRecord&gt; MySchema = TableSchema.builder(MyRecord.class)\r\n        .newItemSupplier(MyRecord::new)\r\n        .addAttribute(Integer.class,     a -&gt; a.name(&quot;ID&quot;)\r\n                .getter(MyRecord::getID)\r\n                .setter(MyRecord::setID)\r\n                .tags(primaryPartitionKey()))\r\n        .addAttribute(String.class,      a -&gt; a.name(&quot;ClientID&quot;)\r\n                .getter(MyRecord::getClientID)\r\n                .setter(MyRecord::setClientID)\r\n                .tags(primarySortKey()))\r\n        ...\r\n        .build();\r\n```\r\nI assume that there is some extra code that I can add to the TableSchema definition that allow some data validation.","title":"DynamoDB data validation during Query when using V2 Enhanced SDK","body":"<p>We are reading from DynamoDB table and want to use the Java V2 Enhanced SDK.  We are able to build and run the code, but we are getting errors when some attributes are returning the wrong type.  For example, an attribute which should store a Long has either an empty string (<code>&quot;&quot;</code>) or is empty (<code>&lt;empty&gt;</code>).  The result is the SDK is throwing an exception:</p>\n<p><code>java.lang.NumberFormatException: For input string: &quot;&lt;empty&gt;&quot;</code></p>\n<p>Is there a way to handle these errors?</p>\n<p>Here is the query code:</p>\n<pre><code>DynamoDbTable&lt;MyRecord&gt; myTable = enhancedClient.table(TABLE_NAME, MySchema);\n\nqueryConditional = QueryConditional\n        .keyEqualTo(Key.builder()\n                .partitionValue(partKeyValue)\n                .sortValue     (sortKeyValue)\n                .build());\n\nList&lt;T&gt; results = myTable.query(r -&gt; r.queryConditional(queryConditional))\n        .items()\n        .stream()\n        .collect(Collectors.toList());\n</code></pre>\n<p>And the schema definition looks like this:</p>\n<pre><code>StaticTableSchema&lt;MyRecord&gt; MySchema = TableSchema.builder(MyRecord.class)\n        .newItemSupplier(MyRecord::new)\n        .addAttribute(Integer.class,     a -&gt; a.name(&quot;ID&quot;)\n                .getter(MyRecord::getID)\n                .setter(MyRecord::setID)\n                .tags(primaryPartitionKey()))\n        .addAttribute(String.class,      a -&gt; a.name(&quot;ClientID&quot;)\n                .getter(MyRecord::getClientID)\n                .setter(MyRecord::setClientID)\n                .tags(primarySortKey()))\n        ...\n        .build();\n</code></pre>\n<p>I assume that there is some extra code that I can add to the TableSchema definition that allow some data validation.</p>\n"},{"tags":["java","windows","intellij-idea","git-bash"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1680108718,"post_id":75879388,"comment_id":133842889,"body_markdown":"Environment may be different depending on how the app is started. Start IntelliJ IDEA from the command line per https://intellij-support.jetbrains.com/hc/en-us/articles/360011901879-How-to-start-IDE-from-the-command-line in the same terminal where this command works and it should also work in the IDE.","body":"Environment may be different depending on how the app is started. Start IntelliJ IDEA from the command line per <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/360011901879-How-to-start-IDE-from-the-command-line\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/articles/&hellip;</a> in the same terminal where this command works and it should also work in the IDE."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680115105,"post_id":75879388,"comment_id":133844432,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":28159902,"reputation":1,"user_id":21520037,"display_name":"BlockLune"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680135343,"creation_date":1680134236,"answer_id":75883092,"question_id":75879388,"body_markdown":"I know why the second question happened. I mistakenly added an environment variable `CLASSPATH` which didn&#39;t include the current path. The default configuration of java includes the current path, but when you set a classpath, it won&#39;t check the current path unless you set it.\r\nFor the first question, I indeed start the ide in command line, which may change the env. After I deleted the CLASSPATH environment variable, and tried to start the ide straightly, the first question also disappeared.","title":"Same commands but different output in the internal git bash of intellij idea and the external one","body":"<p>I know why the second question happened. I mistakenly added an environment variable <code>CLASSPATH</code> which didn't include the current path. The default configuration of java includes the current path, but when you set a classpath, it won't check the current path unless you set it.\nFor the first question, I indeed start the ide in command line, which may change the env. After I deleted the CLASSPATH environment variable, and tried to start the ide straightly, the first question also disappeared.</p>\n"}],"owner":{"account_id":28159902,"reputation":1,"user_id":21520037,"display_name":"BlockLune"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680135343,"creation_date":1680104488,"question_id":75879388,"body_markdown":"I am configuring the environment for learning [the algorithm curriculum on coursera](https://www.coursera.org/learn/algorithms-part1). For testing, I ran `java-algs4 --version` in the idea, but the output is `bash: java-algs4: command not found`. I then ran the same command outside. It works well. Why this happened?\r\n\r\n[The question above.](https://i.stack.imgur.com/DvK2x.png)\r\n\r\nAnother question is, why my java in windows didn&#39;t work? I can see the version info if I run `java --version`, and it works when I run `javac HelloWorld.java`, but why `java HelloWorld` doesn&#39;t work?\r\n\r\n[It doesn&#39;t work in my windows.](https://i.stack.imgur.com/rhrmx.png)\r\n\r\n[It works when I use wsl.](https://i.stack.imgur.com/L9xBi.png)\r\n\r\nI restarted my computer and idea, but nothing changed.","title":"Same commands but different output in the internal git bash of intellij idea and the external one","body":"<p>I am configuring the environment for learning <a href=\"https://www.coursera.org/learn/algorithms-part1\" rel=\"nofollow noreferrer\">the algorithm curriculum on coursera</a>. For testing, I ran <code>java-algs4 --version</code> in the idea, but the output is <code>bash: java-algs4: command not found</code>. I then ran the same command outside. It works well. Why this happened?</p>\n<p><a href=\"https://i.stack.imgur.com/DvK2x.png\" rel=\"nofollow noreferrer\">The question above.</a></p>\n<p>Another question is, why my java in windows didn't work? I can see the version info if I run <code>java --version</code>, and it works when I run <code>javac HelloWorld.java</code>, but why <code>java HelloWorld</code> doesn't work?</p>\n<p><a href=\"https://i.stack.imgur.com/rhrmx.png\" rel=\"nofollow noreferrer\">It doesn't work in my windows.</a></p>\n<p><a href=\"https://i.stack.imgur.com/L9xBi.png\" rel=\"nofollow noreferrer\">It works when I use wsl.</a></p>\n<p>I restarted my computer and idea, but nothing changed.</p>\n"},{"tags":["java","for-loop","math","intellij-idea","calculator"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1680130793,"post_id":75882762,"comment_id":133847702,"body_markdown":"Step through your program with the debugger.","body":"Step through your program with the debugger."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680132179,"post_id":75882762,"comment_id":133847880,"body_markdown":"So, which is line 48 in your code? The stack trace says it was a call to substring on line 48 that triggered the error.  The error message says you tried to call `.substring` on a `String` Object, requesting the substring that begins at index 6, ends at index 0, on a string that had a length of 5.  If you wonder why the error message has `[6,1)` instead of `[6,1]` or `(6,1)`, or if you wonder why I wrote &quot;begins at 6, ends at index 0&quot;, take a look at the [String.substring (int, int)[() API.","body":"So, which is line 48 in your code? The stack trace says it was a call to substring on line 48 that triggered the error.  The error message says you tried to call <code>.substring</code> on a <code>String</code> Object, requesting the substring that begins at index 6, ends at index 0, on a string that had a length of 5.  If you wonder why the error message has <code>[6,1)</code> instead of <code>[6,1]</code> or <code>(6,1)</code>, or if you wonder why I wrote &quot;begins at 6, ends at index 0&quot;, take a look at the [String.substring (int, int)[() API."},{"owner":{"account_id":19897544,"reputation":11,"user_id":14578338,"display_name":"The-Senate_V"},"score":0,"creation_date":1680132699,"post_id":75882762,"comment_id":133847945,"body_markdown":"@OldDogProgrammer Line 48 is my catch exception. I don&#39;t understand why that would cause the error. This is it: } catch (Exception e) {\n                    System.out.println(&quot;Not valid&quot; + input.substring(point, i));\n                }","body":"@OldDogProgrammer Line 48 is my catch exception. I don&#39;t understand why that would cause the error. This is it: } catch (Exception e) {                     System.out.println(&quot;Not valid&quot; + input.substring(point, i));                 }"},{"owner":{"account_id":19897544,"reputation":11,"user_id":14578338,"display_name":"The-Senate_V"},"score":1,"creation_date":1680132860,"post_id":75882762,"comment_id":133847968,"body_markdown":"@OldDogProgrammer Wait I&#39;ve seen it. I did not re set the point variable to 0 before the second loop so it would be out of bounds. I appreciate the help on identifying the error.","body":"@OldDogProgrammer Wait I&#39;ve seen it. I did not re set the point variable to 0 before the second loop so it would be out of bounds. I appreciate the help on identifying the error."}],"owner":{"account_id":19897544,"reputation":11,"user_id":14578338,"display_name":"The-Senate_V"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680134185,"creation_date":1680129809,"question_id":75882762,"body_markdown":"I am running a command line Calculator that should take user input and solve it, then output the answer. i.e input: &quot;2+5*sqrt 9&quot; output: 17 or input: &quot;6x2^3-3&quot; output: 45. This is what I have:\r\n\r\n\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\npublic class Calculator {\r\n    public static void main(String[] args) {\r\n        int counter = 0;\r\n        String[] operators = {&quot;^&quot;, &quot;/&quot;, &quot;*&quot;, &quot;+&quot;, &quot;-&quot;};\r\n        Scanner myScan = new Scanner(System.in);\r\n        String inputs = myScan.nextLine();\r\n        ArrayList&lt;Float&gt; nums = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;String&gt; ops = new ArrayList&lt;&gt;();\r\n\r\n        float currentNum;\r\n        int point = 0;\r\n        //System.out.println(nums);\r\n        String input = &quot;&quot;;\r\n        for (int p = 0; p &lt; inputs.length() - 4; p++) {\r\n            if (inputs.startsWith(&quot;sqrt&quot;, p)) {\r\n                input += inputs.substring(point, p) + inputs.charAt(p + 5) + &quot;^0.5&quot;;\r\n                System.out.println(input);\r\n                point = p + 6;\r\n            }\r\n        }\r\n        input += inputs.substring(point);\r\n        System.out.println(input);\r\n        //System.out.println(inputs);\r\n        for (int i = 0; i &lt; input.length(); i++) {\r\n            if (!Character.isDigit(input.charAt(i)) &amp;&amp; i != input.length() - 1) {\r\n                try {\r\n\r\n                    if (input.charAt(i) == &#39;.&#39;) {\r\n                        int j = i;\r\n                        while (Character.isDigit(input.charAt(j + 1))) {\r\n                            j++;\r\n                            counter++;\r\n                        }\r\n                    } else {\r\n                        //System.out.println(input.substring(point, i));\r\n                        currentNum = Float.parseFloat(input.substring(point, i));\r\n                        point = i + 1;\r\n                        nums.add(currentNum);\r\n                    }\r\n                    for (String op : operators) {\r\n                        if (input.startsWith(op, i)) {\r\n                            ops.add(op);\r\n                        }\r\n                    }\r\n                } catch (Exception e) {\r\n                    System.out.println(&quot;Not valid&quot; + input.substring(point, i));\r\n                }\r\n            } else if (i == input.length() - 1) {\r\n                try {\r\n                    currentNum = Float.parseFloat(input.substring(point));\r\n                    nums.add(currentNum);\r\n                } catch (Exception e) {\r\n                    System.out.println(&quot;Error&quot; + input.substring(point));\r\n                }\r\n            }\r\n        }\r\n        nums.add(Float.parseFloat(input.substring(point)));\r\n\r\n        // Evaluate the expression using the order of operations\r\n        for (String operator : operators) {\r\n            for (int j = 0; j &lt; ops.size(); j++) {\r\n                String op = ops.get(j);\r\n                if (op.equals(operator)) {\r\n                    float num1 = nums.get(j);\r\n                    float num2 = nums.get(j + 1);\r\n                    float result = switch (op) {\r\n                        case &quot;^&quot; -&gt; (float) Math.pow(num1, num2);\r\n                        case &quot;/&quot; -&gt; num1 / num2;\r\n                        case &quot;*&quot; -&gt; num1 * num2;\r\n                        case &quot;+&quot; -&gt; num1 + num2;\r\n                        case &quot;-&quot; -&gt; num1 - num2;\r\n                        default -&gt; 0;\r\n                    };\r\n\r\n                    nums.set(j, result);\r\n                    nums.remove(j + 1);\r\n                    ops.remove(j);\r\n                    j--;\r\n                }\r\n            }\r\n        }\r\n        float answer = nums.get(0);\r\n        System.out.println(answer);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nWhen the problem does not include square root, the calculator runs fine, but when it is present this error is thrown: \r\n\r\n        Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: Range [6, 1) out of      bounds for length 5\r\n\tat java.base/jdk.internal.util.Preconditions$1.apply(Preconditions.java:55)\r\n\tat java.base/jdk.internal.util.Preconditions$1.apply(Preconditions.java:52)\r\n\tat java.base/jdk.internal.util.Preconditions$4.apply(Preconditions.java:213)\r\n\tat java.base/jdk.internal.util.Preconditions$4.apply(Preconditions.java:210)\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:98)\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckFromToIndex(Preconditions.java:112)\r\n\tat java.base/jdk.internal.util.Preconditions.checkFromToIndex(Preconditions.java:349)\r\n\tat java.base/java.lang.String.checkBoundsBeginEnd(String.java:4602)\r\n\tat java.base/java.lang.String.substring(String.java:2715)\r\n\tat Calculator.main(Calculator.java:48)\r\n\r\nMy method of handling square roots is to convert &quot;sqrt&quot; to x^0.5 so that it runs smoothly. This works and the proper string is made but the error is thrown. Any Help?","title":"How do I properly implement a sqrt operator into a command line calculator?","body":"<p>I am running a command line Calculator that should take user input and solve it, then output the answer. i.e input: &quot;2+5*sqrt 9&quot; output: 17 or input: &quot;6x2^3-3&quot; output: 45. This is what I have:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\npublic class Calculator {\n    public static void main(String[] args) {\n        int counter = 0;\n        String[] operators = {&quot;^&quot;, &quot;/&quot;, &quot;*&quot;, &quot;+&quot;, &quot;-&quot;};\n        Scanner myScan = new Scanner(System.in);\n        String inputs = myScan.nextLine();\n        ArrayList&lt;Float&gt; nums = new ArrayList&lt;&gt;();\n        ArrayList&lt;String&gt; ops = new ArrayList&lt;&gt;();\n\n        float currentNum;\n        int point = 0;\n        //System.out.println(nums);\n        String input = &quot;&quot;;\n        for (int p = 0; p &lt; inputs.length() - 4; p++) {\n            if (inputs.startsWith(&quot;sqrt&quot;, p)) {\n                input += inputs.substring(point, p) + inputs.charAt(p + 5) + &quot;^0.5&quot;;\n                System.out.println(input);\n                point = p + 6;\n            }\n        }\n        input += inputs.substring(point);\n        System.out.println(input);\n        //System.out.println(inputs);\n        for (int i = 0; i &lt; input.length(); i++) {\n            if (!Character.isDigit(input.charAt(i)) &amp;&amp; i != input.length() - 1) {\n                try {\n\n                    if (input.charAt(i) == '.') {\n                        int j = i;\n                        while (Character.isDigit(input.charAt(j + 1))) {\n                            j++;\n                            counter++;\n                        }\n                    } else {\n                        //System.out.println(input.substring(point, i));\n                        currentNum = Float.parseFloat(input.substring(point, i));\n                        point = i + 1;\n                        nums.add(currentNum);\n                    }\n                    for (String op : operators) {\n                        if (input.startsWith(op, i)) {\n                            ops.add(op);\n                        }\n                    }\n                } catch (Exception e) {\n                    System.out.println(&quot;Not valid&quot; + input.substring(point, i));\n                }\n            } else if (i == input.length() - 1) {\n                try {\n                    currentNum = Float.parseFloat(input.substring(point));\n                    nums.add(currentNum);\n                } catch (Exception e) {\n                    System.out.println(&quot;Error&quot; + input.substring(point));\n                }\n            }\n        }\n        nums.add(Float.parseFloat(input.substring(point)));\n\n        // Evaluate the expression using the order of operations\n        for (String operator : operators) {\n            for (int j = 0; j &lt; ops.size(); j++) {\n                String op = ops.get(j);\n                if (op.equals(operator)) {\n                    float num1 = nums.get(j);\n                    float num2 = nums.get(j + 1);\n                    float result = switch (op) {\n                        case &quot;^&quot; -&gt; (float) Math.pow(num1, num2);\n                        case &quot;/&quot; -&gt; num1 / num2;\n                        case &quot;*&quot; -&gt; num1 * num2;\n                        case &quot;+&quot; -&gt; num1 + num2;\n                        case &quot;-&quot; -&gt; num1 - num2;\n                        default -&gt; 0;\n                    };\n\n                    nums.set(j, result);\n                    nums.remove(j + 1);\n                    ops.remove(j);\n                    j--;\n                }\n            }\n        }\n        float answer = nums.get(0);\n        System.out.println(answer);\n    }\n}\n\n</code></pre>\n<p>When the problem does not include square root, the calculator runs fine, but when it is present this error is thrown:</p>\n<pre><code>    Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: Range [6, 1) out of      bounds for length 5\nat java.base/jdk.internal.util.Preconditions$1.apply(Preconditions.java:55)\nat java.base/jdk.internal.util.Preconditions$1.apply(Preconditions.java:52)\nat java.base/jdk.internal.util.Preconditions$4.apply(Preconditions.java:213)\nat java.base/jdk.internal.util.Preconditions$4.apply(Preconditions.java:210)\nat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:98)\nat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckFromToIndex(Preconditions.java:112)\nat java.base/jdk.internal.util.Preconditions.checkFromToIndex(Preconditions.java:349)\nat java.base/java.lang.String.checkBoundsBeginEnd(String.java:4602)\nat java.base/java.lang.String.substring(String.java:2715)\nat Calculator.main(Calculator.java:48)\n</code></pre>\n<p>My method of handling square roots is to convert &quot;sqrt&quot; to x^0.5 so that it runs smoothly. This works and the proper string is made but the error is thrown. Any Help?</p>\n"},{"tags":["java","string","ansi-escape"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1578268083,"post_id":59605212,"comment_id":105374430,"body_markdown":"I am a little bit confused. Do you expect the output to be `&quot;Correct&quot;`?","body":"I am a little bit confused. Do you expect the output to be <code>&quot;Correct&quot;</code>?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":6,"creation_date":1578268147,"post_id":59605212,"comment_id":105374442,"body_markdown":"As general recommendation, don&#39;t.  You shouldn&#39;t be relying on the presentation for your decision making, but relying on the &quot;state&quot; of the data model.  The presentation should be a &quot;user friendly&quot; representation of the data model","body":"As general recommendation, don&#39;t.  You shouldn&#39;t be relying on the presentation for your decision making, but relying on the &quot;state&quot; of the data model.  The presentation should be a &quot;user friendly&quot; representation of the data model"},{"owner":{"account_id":16659185,"reputation":73,"user_id":12039606,"display_name":"Slayer Of Whales"},"score":0,"creation_date":1578268188,"post_id":59605212,"comment_id":105374450,"body_markdown":"I just used that word as an example, it checks to see if they are identical and if they are it will print out correct.","body":"I just used that word as an example, it checks to see if they are identical and if they are it will print out correct."}],"answers":[{"tags":[],"owner":{"account_id":4521360,"reputation":441,"user_id":3674480,"display_name":"Makhno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1578269875,"creation_date":1578269875,"answer_id":59605356,"question_id":59605212,"body_markdown":"Honestly speaking, I&#39;m not too confident. But probably you are looking for  &quot;contains&quot; method? \r\nLike:\r\n\r\n    String blankTileColor = (char) 27 + &quot;[34;44m&quot;;\r\n    String tileColor = (char) 27 + &quot;[36;44m&quot;;\r\n    String clear = (char) 27 + &quot;[0m&quot;;\r\n    \r\n    String tile1 = tileColor + &quot;~&quot;;\r\n    String tile2 = blankTileColor + &quot;~&quot;;\r\n    String tile3 = clear;\r\n    \r\n    System.out.println(tile1.contains(&quot;~&quot;)); // true\r\n    System.out.println(tile2.contains(&quot;~&quot;)); // true\r\n    System.out.println(tile3.contains(&quot;~&quot;)); // false\r\n\r\nHowever, if this game is not a simple &quot;sandbox&quot; I&#39;d really recommend think on @MadProgrammer&#39;s comment.","title":"Comparing ANSI-Colored Strings in Java","body":"<p>Honestly speaking, I'm not too confident. But probably you are looking for  \"contains\" method? \nLike:</p>\n\n<pre><code>String blankTileColor = (char) 27 + \"[34;44m\";\nString tileColor = (char) 27 + \"[36;44m\";\nString clear = (char) 27 + \"[0m\";\n\nString tile1 = tileColor + \"~\";\nString tile2 = blankTileColor + \"~\";\nString tile3 = clear;\n\nSystem.out.println(tile1.contains(\"~\")); // true\nSystem.out.println(tile2.contains(\"~\")); // true\nSystem.out.println(tile3.contains(\"~\")); // false\n</code></pre>\n\n<p>However, if this game is not a simple \"sandbox\" I'd really recommend think on @MadProgrammer's comment.</p>\n"}],"owner":{"account_id":16659185,"reputation":73,"user_id":12039606,"display_name":"Slayer Of Whales"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":59605356,"answer_count":1,"score":-1,"last_activity_date":1680134113,"creation_date":1578267938,"question_id":59605212,"body_markdown":"I am currently Making a battleship\r\n\r\nThis is an image of the game board:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nFor the tests we are looking at tile (1,1) Which is the solid blue tile in the top right.\r\nThe Solid Blue have the background and foreground colors identical, containing a hidden &quot;~&quot;, the other type of tile contains the same background color, but different foreground color, still containing the &quot;~&quot;.\r\n\r\nI need a method to determine weather or not the tile selected contains a tilde or not, for example: if the player hits an enemy Ship that tile could initially be marked with an &quot;S&quot; on the other end, so the computer will know that a ship was hit and not the water. However, I cannot find a way to see if two colored strings are equal to each other. \r\n\r\nHere is an example set of code creating two tiles that are identical (With different Colors), but failing to recognize it:\r\n\r\n    class Test{\r\n    public static void main(String[] args){\r\n        String Blank_Tile_Color = (char)27+&quot;[34;44m&quot;;\r\n        String Tile_Color = (char)27+&quot;[36;44m&quot;;\r\n        String Clear = (char)27+&quot;[0m&quot;;\r\n        \r\n        String Tile1 = Tile_Color+&quot;~&quot;;\r\n        String Tile2 = Blank_Tile_Color+&quot;~&quot;;\r\n        \r\n        System.out.println(Tile1);\r\n        System.out.println(Tile2);\r\n        \r\n        \r\n        if (Tile1.equals(Tile2)){\r\n            System.out.println(Clear+&quot;Correct&quot;);\r\n        }\r\n        else{\r\n            System.out.println(Clear+&quot;Incorrect&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n[Output: Incorrect]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ydrM0.png","title":"Comparing ANSI-Colored Strings in Java","body":"<p>I am currently Making a battleship</p>\n\n<p>This is an image of the game board:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ydrM0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ydrM0.png\" alt=\"enter image description here\"></a></p>\n\n<p>For the tests we are looking at tile (1,1) Which is the solid blue tile in the top right.\nThe Solid Blue have the background and foreground colors identical, containing a hidden \"~\", the other type of tile contains the same background color, but different foreground color, still containing the \"~\".</p>\n\n<p>I need a method to determine weather or not the tile selected contains a tilde or not, for example: if the player hits an enemy Ship that tile could initially be marked with an \"S\" on the other end, so the computer will know that a ship was hit and not the water. However, I cannot find a way to see if two colored strings are equal to each other. </p>\n\n<p>Here is an example set of code creating two tiles that are identical (With different Colors), but failing to recognize it:</p>\n\n<pre><code>class Test{\npublic static void main(String[] args){\n    String Blank_Tile_Color = (char)27+\"[34;44m\";\n    String Tile_Color = (char)27+\"[36;44m\";\n    String Clear = (char)27+\"[0m\";\n\n    String Tile1 = Tile_Color+\"~\";\n    String Tile2 = Blank_Tile_Color+\"~\";\n\n    System.out.println(Tile1);\n    System.out.println(Tile2);\n\n\n    if (Tile1.equals(Tile2)){\n        System.out.println(Clear+\"Correct\");\n    }\n    else{\n        System.out.println(Clear+\"Incorrect\");\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>[Output: Incorrect]</p>\n"},{"tags":["java","spring","spring-boot","maven","arraylist"],"answers":[{"tags":[],"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680133410,"creation_date":1680133410,"answer_id":75883033,"question_id":75882931,"body_markdown":"You could either \r\nchange `ArrayList&lt;Burger&gt;` to `ArrayList&lt;Object&gt;` \r\nor\r\nchange \r\n\r\n    HashMap&lt;String, ArrayList&lt;HashMap&lt;String, ArrayList&lt;Object&gt;&gt;&gt;&gt; thisUserInfo = new HashMap&lt;String, ArrayList&lt;HashMap&lt;String, ArrayList&lt;Object&gt;&gt;&gt;&gt;();\r\n\r\nto \r\n\r\n    HashMap&lt;String, ArrayList&lt;HashMap&lt;String, ArrayList&lt;Burger &gt;&gt;&gt;&gt; thisUserInfo = new HashMap&lt;String, ArrayList&lt;HashMap&lt;String, ArrayList&lt; Burger&gt;&gt;&gt;&gt;();\r\n","title":"The method put(String, ArrayList&lt;Object&gt;) in the type HashMap&lt;String,ArrayList&lt;Object&gt;&gt; is not applicable for the arguments (String, ArrayList&lt;Burger&gt;","body":"<p>You could either\nchange <code>ArrayList&lt;Burger&gt;</code> to <code>ArrayList&lt;Object&gt;</code>\nor\nchange</p>\n<pre><code>HashMap&lt;String, ArrayList&lt;HashMap&lt;String, ArrayList&lt;Object&gt;&gt;&gt;&gt; thisUserInfo = new HashMap&lt;String, ArrayList&lt;HashMap&lt;String, ArrayList&lt;Object&gt;&gt;&gt;&gt;();\n</code></pre>\n<p>to</p>\n<pre><code>HashMap&lt;String, ArrayList&lt;HashMap&lt;String, ArrayList&lt;Burger &gt;&gt;&gt;&gt; thisUserInfo = new HashMap&lt;String, ArrayList&lt;HashMap&lt;String, ArrayList&lt; Burger&gt;&gt;&gt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":27646841,"reputation":65,"user_id":21102541,"display_name":"Ash Gharibyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75883033,"answer_count":1,"score":0,"last_activity_date":1680133831,"creation_date":1680131872,"question_id":75882931,"body_markdown":"I am trying to put `ArrayList&lt;Burger&gt;` for `ArrayList&lt;Object&gt;` but I get this error.\r\n\r\nI want the `ArrayList&lt;Object&gt;` to stay as object, how can I go about getting this done?\r\n\r\nThis is the error it gives me for thisModelInfo.put(...);\r\n\r\n    The method put(String, ArrayList&lt;Object&gt;) in the type HashMap&lt;String,ArrayList&lt;Object&gt;&gt; is not applicable for the arguments (String, ArrayList&lt;Burger&gt;)\r\n\r\nHere is my code.\r\n```\r\npackage com.ashgharibyan.apiofapis.controllers;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.ashgharibyan.apiofapis.models.Burger;\r\nimport com.ashgharibyan.apiofapis.models.User;\r\nimport com.ashgharibyan.apiofapis.services.BurgerService;\r\nimport com.ashgharibyan.apiofapis.services.UserService;\r\n\r\n@RestController\r\npublic class UserAPIController {\r\n\t@Autowired\r\n\tprivate UserService userServ;\r\n\t\r\n\t@Autowired\r\n\tprivate BurgerService burgerServ;\r\n\r\n\t@RequestMapping(&quot;/api/all&quot;)\r\n\tpublic ArrayList&lt;HashMap&lt;String, ArrayList&lt;HashMap&lt;String, ArrayList&lt;Object&gt;&gt;&gt;&gt;&gt; index() {\r\n\t\t\r\n\t\t\r\n\t\tList&lt;User&gt; allUsers = (List&lt;User&gt;) userServ.allUsers();\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tArrayList&lt;HashMap&lt;String, ArrayList&lt;HashMap&lt;String, ArrayList&lt;Object&gt;&gt;&gt;&gt;&gt; mainAPI =  new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tfor(int i=0; i&lt;allUsers.size();i++) {\r\n\t\t\t// One User Level\r\n\t\t\tHashMap&lt;String, ArrayList&lt;HashMap&lt;String, ArrayList&lt;Object&gt;&gt;&gt;&gt; thisUserInfo = new HashMap&lt;String, ArrayList&lt;HashMap&lt;String, ArrayList&lt;Object&gt;&gt;&gt;&gt;();\r\n\r\n\t\t\t//All Model Level\r\n\t\t\tArrayList&lt;HashMap&lt;String, ArrayList&lt;Object&gt;&gt;&gt; allModelInfo = new ArrayList&lt;&gt;();\r\n\t\t\t\r\n\t\t\t//Current Model Level\r\n\t\t\tHashMap&lt;String, ArrayList&lt;Object&gt;&gt; thisModelInfo = new HashMap&lt;String, ArrayList&lt;Object&gt;&gt;();\r\n\t\t\t\r\n\t\t\tArrayList&lt;Burger&gt; allBurgers = (ArrayList&lt;Burger&gt;) burgerServ.allBurgers();\r\n\t\t\t\r\n\t\t\tthisModelInfo.put(&quot;burger&quot;, allBurgers);\r\n\t\t\t\r\n\t\t\tallModelInfo.add(thisModelInfo);\r\n\t\t\t\r\n\t\t\tthisUserInfo.put(allUsers.get(i).getUserName(), allModelInfo);\r\n\t\t\t\r\n\t\t\tmainAPI.add(thisUserInfo);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\treturn mainAPI;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nI cannot figure out what to do to make this work. I need it to be dynamic as I will be changing the model names that I am importing.","title":"The method put(String, ArrayList&lt;Object&gt;) in the type HashMap&lt;String,ArrayList&lt;Object&gt;&gt; is not applicable for the arguments (String, ArrayList&lt;Burger&gt;","body":"<p>I am trying to put <code>ArrayList&lt;Burger&gt;</code> for <code>ArrayList&lt;Object&gt;</code> but I get this error.</p>\n<p>I want the <code>ArrayList&lt;Object&gt;</code> to stay as object, how can I go about getting this done?</p>\n<p>This is the error it gives me for thisModelInfo.put(...);</p>\n<pre><code>The method put(String, ArrayList&lt;Object&gt;) in the type HashMap&lt;String,ArrayList&lt;Object&gt;&gt; is not applicable for the arguments (String, ArrayList&lt;Burger&gt;)\n</code></pre>\n<p>Here is my code.</p>\n<pre><code>package com.ashgharibyan.apiofapis.controllers;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.ashgharibyan.apiofapis.models.Burger;\nimport com.ashgharibyan.apiofapis.models.User;\nimport com.ashgharibyan.apiofapis.services.BurgerService;\nimport com.ashgharibyan.apiofapis.services.UserService;\n\n@RestController\npublic class UserAPIController {\n    @Autowired\n    private UserService userServ;\n    \n    @Autowired\n    private BurgerService burgerServ;\n\n    @RequestMapping(&quot;/api/all&quot;)\n    public ArrayList&lt;HashMap&lt;String, ArrayList&lt;HashMap&lt;String, ArrayList&lt;Object&gt;&gt;&gt;&gt;&gt; index() {\n        \n        \n        List&lt;User&gt; allUsers = (List&lt;User&gt;) userServ.allUsers();\n        \n        \n        \n        \n        ArrayList&lt;HashMap&lt;String, ArrayList&lt;HashMap&lt;String, ArrayList&lt;Object&gt;&gt;&gt;&gt;&gt; mainAPI =  new ArrayList&lt;&gt;();\n        \n        \n        \n        \n        for(int i=0; i&lt;allUsers.size();i++) {\n            // One User Level\n            HashMap&lt;String, ArrayList&lt;HashMap&lt;String, ArrayList&lt;Object&gt;&gt;&gt;&gt; thisUserInfo = new HashMap&lt;String, ArrayList&lt;HashMap&lt;String, ArrayList&lt;Object&gt;&gt;&gt;&gt;();\n\n            //All Model Level\n            ArrayList&lt;HashMap&lt;String, ArrayList&lt;Object&gt;&gt;&gt; allModelInfo = new ArrayList&lt;&gt;();\n            \n            //Current Model Level\n            HashMap&lt;String, ArrayList&lt;Object&gt;&gt; thisModelInfo = new HashMap&lt;String, ArrayList&lt;Object&gt;&gt;();\n            \n            ArrayList&lt;Burger&gt; allBurgers = (ArrayList&lt;Burger&gt;) burgerServ.allBurgers();\n            \n            thisModelInfo.put(&quot;burger&quot;, allBurgers);\n            \n            allModelInfo.add(thisModelInfo);\n            \n            thisUserInfo.put(allUsers.get(i).getUserName(), allModelInfo);\n            \n            mainAPI.add(thisUserInfo);\n        }\n        \n        \n        return mainAPI;\n    }\n}\n\n</code></pre>\n<p>I cannot figure out what to do to make this work. I need it to be dynamic as I will be changing the model names that I am importing.</p>\n"},{"tags":["java","windows"],"comments":[{"owner":{"account_id":1112254,"reputation":2102,"user_id":1102512,"accept_rate":98,"display_name":"Afshin Moazami"},"score":0,"creation_date":1380215344,"post_id":13145942,"comment_id":28127145,"body_markdown":"Take a look at this library: http://alumnus.caltech.edu/~jimmc/jshortcut/","body":"Take a look at this library: <a href=\"http://alumnus.caltech.edu/~jimmc/jshortcut/\" rel=\"nofollow noreferrer\">alumnus.caltech.edu/~jimmc/jshortcut</a>"}],"answers":[{"tags":[],"owner":{"account_id":2322249,"reputation":542,"user_id":2037653,"accept_rate":100,"display_name":"Anuswadh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380214598,"creation_date":1380214598,"answer_id":19034170,"question_id":13145942,"body_markdown":"http://www.mindfiresolutions.com/Creating-shortcut-from-a-Java-Application-1712.php\r\n\r\nA nice and simple tutorial to use a jni using library called jShellLink \r\n","title":"Creating a shortcut file from Java","body":"<p><a href=\"http://www.mindfiresolutions.com/Creating-shortcut-from-a-Java-Application-1712.php\" rel=\"nofollow\">http://www.mindfiresolutions.com/Creating-shortcut-from-a-Java-Application-1712.php</a></p>\n\n<p>A nice and simple tutorial to use a jni using library called jShellLink </p>\n"},{"tags":[],"owner":{"account_id":9013570,"reputation":331,"user_id":6717268,"display_name":"Josua Frank"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1471254752,"creation_date":1471254752,"answer_id":38952899,"question_id":13145942,"body_markdown":"&lt;p&gt;\r\nI can recommend this repository on GitHub:&lt;p&gt;\r\n&lt;https://github.com/BlackOverlord666/mslinks&gt;&lt;p&gt;\r\nThere I&#39;ve found a simple solution to &lt;b&gt;create&lt;/b&gt; shortcuts:&lt;p&gt;\r\n`ShellLink.createLink(&quot;path/to/existing/file.txt&quot;, &quot;path/to/the/future/shortcut.lnk&quot;);`&lt;p&gt;\r\nIf you want to &lt;b&gt;read&lt;/b&gt; shortcuts:&lt;p&gt;\r\n\r\n    File shortcut = ...;\r\n    String pathToExistingFile = new ShellLink(shortcut).resolveTarget();\r\n\r\nIf you want to &lt;b&gt;change the icon&lt;/b&gt; of the shortcut, use:\r\n\r\n    ShellLink sl = ...;\r\n    sl.setIconLocation(&quot;/path/to/icon/file&quot;);\r\n\r\nHope this helps you :)&lt;p&gt;\r\nKind regards&lt;p&gt;\r\nJosua Frank","title":"Creating a shortcut file from Java","body":"<p><p>\nI can recommend this repository on GitHub:<p>\n<a href=\"https://github.com/BlackOverlord666/mslinks\" rel=\"noreferrer\">https://github.com/BlackOverlord666/mslinks</a><p>\nThere I've found a simple solution to <b>create</b> shortcuts:<p>\n<code>ShellLink.createLink(\"path/to/existing/file.txt\", \"path/to/the/future/shortcut.lnk\");</code><p>\nIf you want to <b>read</b> shortcuts:<p></p>\n\n<pre><code>File shortcut = ...;\nString pathToExistingFile = new ShellLink(shortcut).resolveTarget();\n</code></pre>\n\n<p>If you want to <b>change the icon</b> of the shortcut, use:</p>\n\n<pre><code>ShellLink sl = ...;\nsl.setIconLocation(\"/path/to/icon/file\");\n</code></pre>\n\n<p>Hope this helps you :)<p>\nKind regards<p>\nJosua Frank</p>\n"},{"tags":[],"owner":{"account_id":22572634,"reputation":61,"user_id":16758600,"display_name":"Jackson Brienen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680132365,"creation_date":1629976911,"answer_id":68937606,"question_id":13145942,"body_markdown":"I know I am a bit late to the Party, I really like the JShellLink implementations shown up above, but if you need something a bit simpler, then what I have written:&lt;br&gt;&lt;a href=&quot;https://github.com/JacksonBrienen/VBS-Shortcut/blob/main/src/com/github/jbrienen/vbs_sc/ShortcutFactory.java&quot;&gt;ShortcutFactory.java&lt;/a&gt;&lt;br&gt;\r\nshould do the trick. To sum it up, it is a simple shortcut creator, that uses VBS run via CMD.&lt;br&gt;\r\nOnce using this, to create a desktop shortcut would be as easy as:&lt;br&gt;\r\n```\r\nShortcutFactory.createDesktopShortcut(&quot;C:/Program Files/Internet Explorer/iexplore.exe&quot;, &quot;Shortcut.lnk&quot;);\r\n```","title":"Creating a shortcut file from Java","body":"<p>I know I am a bit late to the Party, I really like the JShellLink implementations shown up above, but if you need something a bit simpler, then what I have written:<br><a href=\"https://github.com/JacksonBrienen/VBS-Shortcut/blob/main/src/com/github/jbrienen/vbs_sc/ShortcutFactory.java\" rel=\"nofollow noreferrer\">ShortcutFactory.java</a><br>\nshould do the trick. To sum it up, it is a simple shortcut creator, that uses VBS run via CMD.<br>\nOnce using this, to create a desktop shortcut would be as easy as:<br></p>\n<pre><code>ShortcutFactory.createDesktopShortcut(&quot;C:/Program Files/Internet Explorer/iexplore.exe&quot;, &quot;Shortcut.lnk&quot;);\n</code></pre>\n"}],"owner":{"account_id":1973341,"reputation":501,"user_id":1771724,"accept_rate":67,"display_name":"MemoNick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20122,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1680132365,"creation_date":1351623742,"question_id":13145942,"body_markdown":"One problem which has been puzzling me for weeks now is how I can create a shortcut file from Java. Now before I say anything else, I have looked all over Google (and also on this site; including this: https://stackoverflow.com/questions/3426314/creating-shortcut-links-lnk-from-java) trying to find something helpful. What I need isn&#39;t an installer package which creates a shortcut, but to create a shortcut from code. What I mean by shortcut is a .lnk file which are usually found on the Desktop.\r\n\r\nOne of the helpful things I found was this program: \r\n\r\nJava Code:\r\n\r\n    import java.io.*;       \r\n    public class WindowsUtils {     \r\n         private WindowsUtils() { }\r\n         private static final String WINDOWS_DESKTOP = &quot;Desktop&quot;;\r\n         public static String getWindowsCurrentUserDesktopPath() { //return the current user desktop path\r\n             return System.getenv(&quot;userprofile&quot;) + &quot;/&quot; + WINDOWS_DESKTOP ;\r\n         }\r\n         public static void createInternetShortcutOnDesktop(String name, String target) throws IOException {\r\n             String path = getWindowsCurrentUserDesktopPath() + &quot;/&quot;+ name + &quot;.URL&quot;;\r\n             createInternetShortcut(name, path, target, &quot;&quot;);\r\n         }\r\n         public static void createInternetShortcutOnDesktop(String name, String target, String icon) throws IOException {\r\n             String path = getWindowsCurrentUserDesktopPath() + &quot;/&quot;+ name + &quot;.URL&quot;;\r\n             createInternetShortcut(name, path, target, icon);\r\n         }\r\n         public static void createInternetShortcut(String name, String where, String target, String icon) throws IOException {\r\n             FileWriter fw = new FileWriter(where);\r\n             fw.write(&quot;[InternetShortcut]\\n&quot;);\r\n             fw.write(&quot;URL=&quot; + target + &quot;\\n&quot;);\r\n             if (!icon.equals(&quot;&quot;)) {\r\n                 fw.write(&quot;IconFile=&quot; + icon + &quot;\\n&quot;);*\r\n             }\r\n             fw.flush();\r\n             fw.close();\r\n         }\r\n         public static void main(String[] args) throws IOException {\r\n             WindowsUtils.createInternetShortcutOnDesktop(&quot;GOOGLE&quot;, &quot;http://www.google.com/&quot;);\r\n         }\r\n    }\r\n\r\nI toyed around with it, and managed to create a .lnk shortcut on my desktop. However, I foudn two problems:\r\n\r\nI couldn&#39;t change the icon, despite the path linking it to a correct icon.\r\nI made a path which led me to C:/Users/USER/Documents, however, whenever I clicked the shortcut it took me to C:/. When I delete the shortcut, the dialogue shows me indeed that the path is file:////C:/Users/USER/Documents.\r\n\r\n\r\nI know that this code above was originally meant to create Internet Shortcuts, so I believe I might have taken the wrong approach. I would appreciate any help/links you can give me.","title":"Creating a shortcut file from Java","body":"<p>One problem which has been puzzling me for weeks now is how I can create a shortcut file from Java. Now before I say anything else, I have looked all over Google (and also on this site; including this: <a href=\"https://stackoverflow.com/questions/3426314/creating-shortcut-links-lnk-from-java\">Creating shortcut links (.lnk) from Java</a>) trying to find something helpful. What I need isn't an installer package which creates a shortcut, but to create a shortcut from code. What I mean by shortcut is a .lnk file which are usually found on the Desktop.</p>\n\n<p>One of the helpful things I found was this program: </p>\n\n<p>Java Code:</p>\n\n<pre><code>import java.io.*;       \npublic class WindowsUtils {     \n     private WindowsUtils() { }\n     private static final String WINDOWS_DESKTOP = \"Desktop\";\n     public static String getWindowsCurrentUserDesktopPath() { //return the current user desktop path\n         return System.getenv(\"userprofile\") + \"/\" + WINDOWS_DESKTOP ;\n     }\n     public static void createInternetShortcutOnDesktop(String name, String target) throws IOException {\n         String path = getWindowsCurrentUserDesktopPath() + \"/\"+ name + \".URL\";\n         createInternetShortcut(name, path, target, \"\");\n     }\n     public static void createInternetShortcutOnDesktop(String name, String target, String icon) throws IOException {\n         String path = getWindowsCurrentUserDesktopPath() + \"/\"+ name + \".URL\";\n         createInternetShortcut(name, path, target, icon);\n     }\n     public static void createInternetShortcut(String name, String where, String target, String icon) throws IOException {\n         FileWriter fw = new FileWriter(where);\n         fw.write(\"[InternetShortcut]\\n\");\n         fw.write(\"URL=\" + target + \"\\n\");\n         if (!icon.equals(\"\")) {\n             fw.write(\"IconFile=\" + icon + \"\\n\");*\n         }\n         fw.flush();\n         fw.close();\n     }\n     public static void main(String[] args) throws IOException {\n         WindowsUtils.createInternetShortcutOnDesktop(\"GOOGLE\", \"http://www.google.com/\");\n     }\n}\n</code></pre>\n\n<p>I toyed around with it, and managed to create a .lnk shortcut on my desktop. However, I foudn two problems:</p>\n\n<p>I couldn't change the icon, despite the path linking it to a correct icon.\nI made a path which led me to C:/Users/USER/Documents, however, whenever I clicked the shortcut it took me to C:/. When I delete the shortcut, the dialogue shows me indeed that the path is file:////C:/Users/USER/Documents.</p>\n\n<p>I know that this code above was originally meant to create Internet Shortcuts, so I believe I might have taken the wrong approach. I would appreciate any help/links you can give me.</p>\n"},{"tags":["java","maven","java-11"],"comments":[{"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"score":1,"creation_date":1680062195,"post_id":75872439,"comment_id":133831255,"body_markdown":"Could you share more details or sample repo that reproduces the error?","body":"Could you share more details or sample repo that reproduces the error?"}],"owner":{"account_id":1490490,"reputation":354,"user_id":1397674,"accept_rate":78,"display_name":"ERK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680132302,"creation_date":1680054690,"question_id":75872439,"body_markdown":"\r\nJDK : **amazon-corretto-11.jdk**\r\n\r\n\r\n&gt; [ERROR] Failed to execute goal\r\n&gt; org.codehaus.mojo:exec-maven-plugin:1.6.0:java\r\n&gt; (generate-configuration-classes) on project\r\n&gt; app-posttrade-operations-service: An exception occured while executing\r\n&gt; the Java class. Pb(324) The type java.util.List cannot be resolved. It\r\n&gt; is indirectly referenced from required .class files -&gt; [Help 1]","title":"I am getting following Maven project build failure. Any reason?","body":"<p>JDK : <strong>amazon-corretto-11.jdk</strong></p>\n<blockquote>\n<p>[ERROR] Failed to execute goal\norg.codehaus.mojo:exec-maven-plugin:1.6.0:java\n(generate-configuration-classes) on project\napp-posttrade-operations-service: An exception occured while executing\nthe Java class. Pb(324) The type java.util.List cannot be resolved. It\nis indirectly referenced from required .class files -&gt; [Help 1]</p>\n</blockquote>\n"},{"tags":["java","google-bigquery","google-cloud-storage"],"comments":[{"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"score":1,"creation_date":1680123355,"post_id":75881878,"comment_id":133846347,"body_markdown":"does this table exist on bigquery already ? Can you check programmatically what does schema print for issueid in case you load schema directly ? \n`BigQuery bigquery = BigQueryOptions.getDefaultInstance().getService();\n      Table table = bigquery.getTable(datasetName, tableId);\n      Schema schema = table.getDefinition().getSchema();\n      FieldList fields = schema.getFields();`","body":"does this table exist on bigquery already ? Can you check programmatically what does schema print for issueid in case you load schema directly ?  <code>BigQuery bigquery = BigQueryOptions.getDefaultInstance().getService();       Table table = bigquery.getTable(datasetName, tableId);       Schema schema = table.getDefinition().getSchema();       FieldList fields = schema.getFields();</code>"},{"owner":{"account_id":3146957,"reputation":462,"user_id":2661251,"accept_rate":25,"display_name":"gcpdev-guy"},"score":0,"creation_date":1680126098,"post_id":75881878,"comment_id":133846906,"body_markdown":"Yeah I tried your suggestion and it prints this for issueId\n\nTable table = bigQuery.getTable(XCELERATE_BQ_DATASET, XCELERATE_JIRA_ISSUES_TABLE);\n\t\tSchema schema = table.getDefinition().getSchema();\n\t\tFieldList fields = schema.getFields();\n\n\t\tfor (int i =0; i&lt; fields.size();i++) {\n\t\t\tField field = fields.get(i);\n\t\t\tSystem.out.println(field.getName()+&quot;, mode =&quot;+field.getMode());\n\t\t}\nprinted the below line\n\nissueid, mode =REQUIRED","body":"Yeah I tried your suggestion and it prints this for issueId  Table table = bigQuery.getTable(XCELERATE_BQ_DATASET, XCELERATE_JIRA_ISSUES_TABLE); \t\tSchema schema = table.getDefinition().getSchema(); \t\tFieldList fields = schema.getFields();  \t\tfor (int i =0; i&lt; fields.size();i++) { \t\t\tField field = fields.get(i); \t\t\tSystem.out.println(field.getName()+&quot;, mode =&quot;+field.getMode()); \t\t} printed the below line  issueid, mode =REQUIRED"},{"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"score":0,"creation_date":1680126167,"post_id":75881878,"comment_id":133846915,"body_markdown":"So what mode does it print for issueId ?","body":"So what mode does it print for issueId ?"},{"owner":{"account_id":3146957,"reputation":462,"user_id":2661251,"accept_rate":25,"display_name":"gcpdev-guy"},"score":0,"creation_date":1680126465,"post_id":75881878,"comment_id":133846960,"body_markdown":"REQUIRED \nDo I have to do anything for this column in the above code?","body":"REQUIRED  Do I have to do anything for this column in the above code?"},{"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"score":1,"creation_date":1680126627,"post_id":75881878,"comment_id":133846991,"body_markdown":"Can you add full stack trace of error that you are seeing ?","body":"Can you add full stack trace of error that you are seeing ?"}],"answers":[{"tags":[],"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680130635,"creation_date":1680130635,"answer_id":75882831,"question_id":75881878,"body_markdown":"I think you have to declare the `issueid` field as `REQUIRED` to solve your issue, you can do that with a `Builder` proposed on the `Field` class :\r\n\r\n```java\r\nSchema schema = Schema.of(\r\n    Field.of(&quot;teamid&quot;, StandardSQLTypeName.STRING),\r\n    Field.of(&quot;jiraboardid&quot;, StandardSQLTypeName.STRING),\r\n\r\n    // Builder here with REQUIRED Mode.\r\n    Field.newBuilder(&quot;issueid&quot;, LegacySQLTypeName.STRING)\r\n            .setMode(Field.Mode.REQUIRED)\r\n            .build(),\r\n    // Field.of(&quot;issueid&quot;, StandardSQLTypeName.STRING),// ??? do i need to pass here something else\r\n    Field.of(&quot;issuetype&quot;, StandardSQLTypeName.STRING),\r\n    Field.of(&quot;sprintid&quot;, StandardSQLTypeName.STRING),\r\n    Field.of(&quot;status&quot;, StandardSQLTypeName.STRING),\r\n    Field.of(&quot;createddate&quot;, StandardSQLTypeName.TIMESTAMP),\r\n    Field.of(&quot;completeddate&quot;, StandardSQLTypeName.TIMESTAMP),\r\n    Field.of(&quot;sprintstartdate&quot;, StandardSQLTypeName.TIMESTAMP),\r\n    Field.of(&quot;sprintenddate&quot;, StandardSQLTypeName.TIMESTAMP),\r\n    Field.of(&quot;lastupdateduser&quot;, StandardSQLTypeName.STRING),\r\n    Field.of(&quot;lastupdateddate&quot;, StandardSQLTypeName.TIMESTAMP),\r\n    Field.of(&quot;issuepoints&quot;, StandardSQLTypeName.INT64),\r\n    Field.of(&quot;creatoremailaddress&quot;, StandardSQLTypeName.STRING),\r\n    Field.of(&quot;creatordisplayname&quot;, StandardSQLTypeName.STRING),\r\n    Field.of(&quot;creatoraccountid&quot;, StandardSQLTypeName.STRING),\r\n    Field.of(&quot;creatorisactive&quot;, StandardSQLTypeName.BOOL),\r\n    Field.of(&quot;components&quot;, StandardSQLTypeName.STRING),\r\n    Field.of(&quot;labels&quot;, StandardSQLTypeName.STRING),\r\n    Field.of(&quot;issueName&quot;, StandardSQLTypeName.STRING),\r\n    Field.of(&quot;parentissueid&quot;, StandardSQLTypeName.STRING),\r\n    Field.of(&quot;parentissuetype&quot;, StandardSQLTypeName.STRING),\r\n    Field.of(&quot;isDeleted&quot;, StandardSQLTypeName.STRING),\r\n    Field.of(&quot;runDate&quot;, StandardSQLTypeName.TIMESTAMP)\r\n);\r\n```","title":"Loading data into existing BQ table using google java client","body":"<p>I think you have to declare the <code>issueid</code> field as <code>REQUIRED</code> to solve your issue, you can do that with a <code>Builder</code> proposed on the <code>Field</code> class :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Schema schema = Schema.of(\n    Field.of(&quot;teamid&quot;, StandardSQLTypeName.STRING),\n    Field.of(&quot;jiraboardid&quot;, StandardSQLTypeName.STRING),\n\n    // Builder here with REQUIRED Mode.\n    Field.newBuilder(&quot;issueid&quot;, LegacySQLTypeName.STRING)\n            .setMode(Field.Mode.REQUIRED)\n            .build(),\n    // Field.of(&quot;issueid&quot;, StandardSQLTypeName.STRING),// ??? do i need to pass here something else\n    Field.of(&quot;issuetype&quot;, StandardSQLTypeName.STRING),\n    Field.of(&quot;sprintid&quot;, StandardSQLTypeName.STRING),\n    Field.of(&quot;status&quot;, StandardSQLTypeName.STRING),\n    Field.of(&quot;createddate&quot;, StandardSQLTypeName.TIMESTAMP),\n    Field.of(&quot;completeddate&quot;, StandardSQLTypeName.TIMESTAMP),\n    Field.of(&quot;sprintstartdate&quot;, StandardSQLTypeName.TIMESTAMP),\n    Field.of(&quot;sprintenddate&quot;, StandardSQLTypeName.TIMESTAMP),\n    Field.of(&quot;lastupdateduser&quot;, StandardSQLTypeName.STRING),\n    Field.of(&quot;lastupdateddate&quot;, StandardSQLTypeName.TIMESTAMP),\n    Field.of(&quot;issuepoints&quot;, StandardSQLTypeName.INT64),\n    Field.of(&quot;creatoremailaddress&quot;, StandardSQLTypeName.STRING),\n    Field.of(&quot;creatordisplayname&quot;, StandardSQLTypeName.STRING),\n    Field.of(&quot;creatoraccountid&quot;, StandardSQLTypeName.STRING),\n    Field.of(&quot;creatorisactive&quot;, StandardSQLTypeName.BOOL),\n    Field.of(&quot;components&quot;, StandardSQLTypeName.STRING),\n    Field.of(&quot;labels&quot;, StandardSQLTypeName.STRING),\n    Field.of(&quot;issueName&quot;, StandardSQLTypeName.STRING),\n    Field.of(&quot;parentissueid&quot;, StandardSQLTypeName.STRING),\n    Field.of(&quot;parentissuetype&quot;, StandardSQLTypeName.STRING),\n    Field.of(&quot;isDeleted&quot;, StandardSQLTypeName.STRING),\n    Field.of(&quot;runDate&quot;, StandardSQLTypeName.TIMESTAMP)\n);\n</code></pre>\n"}],"owner":{"account_id":3146957,"reputation":462,"user_id":2661251,"accept_rate":25,"display_name":"gcpdev-guy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75882831,"answer_count":1,"score":1,"last_activity_date":1680130635,"creation_date":1680121583,"question_id":75881878,"body_markdown":"Tried to load a BQ table from CSV file in the bucket but ran into below error for field issueid which is of REQUIRED and rest of the fields are NULLABLE.\r\n\r\n&gt; com.google.cloud.bigquery.BigQueryException: Provided Schema does not\r\n&gt; match Table hd-pricing-dev:merch_meter.jira_issues_csv_load. Field\r\n&gt; issueid has changed mode from REQUIRED to NULLABLE\r\n\r\ncode is similar to the one in this link https://github.com/googleapis/java-bigquery/blob/main/samples/snippets/src/main/java/com/example/bigquery/LoadCsvFromGcs.java\r\n\r\nexcept Schema definition I have is different\r\n\r\n    Schema schema = Schema.of(\r\n    \t\t\t\tField.of(&quot;teamid&quot;, StandardSQLTypeName.STRING),\r\n    \t\t\t\tField.of(&quot;jiraboardid&quot;, StandardSQLTypeName.STRING),\r\n    \t\t\t\tField.of(&quot;issueid&quot;, StandardSQLTypeName.STRING),// ??? do i need to pass here something else\r\n    \t\t\t\tField.of(&quot;issuetype&quot;, StandardSQLTypeName.STRING),\r\n    \t\t\t\tField.of(&quot;sprintid&quot;, StandardSQLTypeName.STRING),\r\n    \t\t\t\tField.of(&quot;status&quot;, StandardSQLTypeName.STRING),\r\n    \t\t\t\tField.of(&quot;createddate&quot;, StandardSQLTypeName.TIMESTAMP),\r\n    \t\t\t\tField.of(&quot;completeddate&quot;, StandardSQLTypeName.TIMESTAMP),\r\n    \t\t\t\tField.of(&quot;sprintstartdate&quot;, StandardSQLTypeName.TIMESTAMP),\r\n    \t\t\t\tField.of(&quot;sprintenddate&quot;, StandardSQLTypeName.TIMESTAMP),\r\n    \t\t\t\tField.of(&quot;lastupdateduser&quot;, StandardSQLTypeName.STRING),\r\n    \t\t\t\tField.of(&quot;lastupdateddate&quot;, StandardSQLTypeName.TIMESTAMP),\r\n    \t\t\t\tField.of(&quot;issuepoints&quot;, StandardSQLTypeName.INT64),\r\n    \t\t\t\tField.of(&quot;creatoremailaddress&quot;, StandardSQLTypeName.STRING),\r\n    \t\t\t\tField.of(&quot;creatordisplayname&quot;, StandardSQLTypeName.STRING),\r\n    \t\t\t\tField.of(&quot;creatoraccountid&quot;, StandardSQLTypeName.STRING),\r\n    \t\t\t\tField.of(&quot;creatorisactive&quot;, StandardSQLTypeName.BOOL),\r\n    \t\t\t\tField.of(&quot;components&quot;, StandardSQLTypeName.STRING),\r\n    \t\t\t\tField.of(&quot;labels&quot;, StandardSQLTypeName.STRING),\r\n    \t\t\t\tField.of(&quot;issueName&quot;, StandardSQLTypeName.STRING),\r\n    \t\t\t\tField.of(&quot;parentissueid&quot;, StandardSQLTypeName.STRING),\r\n    \t\t\t\tField.of(&quot;parentissuetype&quot;, StandardSQLTypeName.STRING),\r\n    \t\t\t\tField.of(&quot;isDeleted&quot;, StandardSQLTypeName.STRING),\r\n    \t\t\t\tField.of(&quot;runDate&quot;, StandardSQLTypeName.TIMESTAMP)\r\n    \t\t);\r\n\r\n Any idea why I get this error?","title":"Loading data into existing BQ table using google java client","body":"<p>Tried to load a BQ table from CSV file in the bucket but ran into below error for field issueid which is of REQUIRED and rest of the fields are NULLABLE.</p>\n<blockquote>\n<p>com.google.cloud.bigquery.BigQueryException: Provided Schema does not\nmatch Table hd-pricing-dev:merch_meter.jira_issues_csv_load. Field\nissueid has changed mode from REQUIRED to NULLABLE</p>\n</blockquote>\n<p>code is similar to the one in this link <a href=\"https://github.com/googleapis/java-bigquery/blob/main/samples/snippets/src/main/java/com/example/bigquery/LoadCsvFromGcs.java\" rel=\"nofollow noreferrer\">https://github.com/googleapis/java-bigquery/blob/main/samples/snippets/src/main/java/com/example/bigquery/LoadCsvFromGcs.java</a></p>\n<p>except Schema definition I have is different</p>\n<pre><code>Schema schema = Schema.of(\n                Field.of(&quot;teamid&quot;, StandardSQLTypeName.STRING),\n                Field.of(&quot;jiraboardid&quot;, StandardSQLTypeName.STRING),\n                Field.of(&quot;issueid&quot;, StandardSQLTypeName.STRING),// ??? do i need to pass here something else\n                Field.of(&quot;issuetype&quot;, StandardSQLTypeName.STRING),\n                Field.of(&quot;sprintid&quot;, StandardSQLTypeName.STRING),\n                Field.of(&quot;status&quot;, StandardSQLTypeName.STRING),\n                Field.of(&quot;createddate&quot;, StandardSQLTypeName.TIMESTAMP),\n                Field.of(&quot;completeddate&quot;, StandardSQLTypeName.TIMESTAMP),\n                Field.of(&quot;sprintstartdate&quot;, StandardSQLTypeName.TIMESTAMP),\n                Field.of(&quot;sprintenddate&quot;, StandardSQLTypeName.TIMESTAMP),\n                Field.of(&quot;lastupdateduser&quot;, StandardSQLTypeName.STRING),\n                Field.of(&quot;lastupdateddate&quot;, StandardSQLTypeName.TIMESTAMP),\n                Field.of(&quot;issuepoints&quot;, StandardSQLTypeName.INT64),\n                Field.of(&quot;creatoremailaddress&quot;, StandardSQLTypeName.STRING),\n                Field.of(&quot;creatordisplayname&quot;, StandardSQLTypeName.STRING),\n                Field.of(&quot;creatoraccountid&quot;, StandardSQLTypeName.STRING),\n                Field.of(&quot;creatorisactive&quot;, StandardSQLTypeName.BOOL),\n                Field.of(&quot;components&quot;, StandardSQLTypeName.STRING),\n                Field.of(&quot;labels&quot;, StandardSQLTypeName.STRING),\n                Field.of(&quot;issueName&quot;, StandardSQLTypeName.STRING),\n                Field.of(&quot;parentissueid&quot;, StandardSQLTypeName.STRING),\n                Field.of(&quot;parentissuetype&quot;, StandardSQLTypeName.STRING),\n                Field.of(&quot;isDeleted&quot;, StandardSQLTypeName.STRING),\n                Field.of(&quot;runDate&quot;, StandardSQLTypeName.TIMESTAMP)\n        );\n</code></pre>\n<p>Any idea why I get this error?</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":2,"creation_date":1569483351,"post_id":58111675,"comment_id":102613380,"body_markdown":"It seems your replaced dots with underscores in some package names, try `org.mockito.MockitoAnnotations`  and `org.mockito.Mockito`  instead.","body":"It seems your replaced dots with underscores in some package names, try <code>org.mockito.MockitoAnnotations</code>  and <code>org.mockito.Mockito</code>  instead."}],"answers":[{"tags":[],"owner":{"account_id":5941531,"reputation":7,"user_id":4672563,"display_name":" "},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1569483787,"creation_date":1569483787,"answer_id":58111858,"question_id":58111675,"body_markdown":"You are trying to import the wrong packages\r\n\r\nThis is what should be in your `pom.xml` file under `dependencies`\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n       &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\r\n       &lt;version&gt;1.9.5&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd simple test should look like this \r\n\r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mock;\r\n    import org.mockito.Mockito;\r\n    import org.mockito.junit.MockitoJUnitRunner;\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class InjectMocksTest {\r\n\r\n    @Mock\r\n    private ClassB classB;\r\n    @InjectMocks\r\n    private ClassA classA;\r\n\r\n    @Test\r\n    public void test() {\r\n        Mockito.doReturn(&quot;Hi&quot;).when(classB).message();\r\n\r\n        Assert.assertEquals(&quot;Hi David!&quot;, classA.greeting(&quot;David&quot;));\r\n\r\n    }\r\n\r\n    private static class ClassA {\r\n\r\n        private final ClassB classB;\r\n\r\n        private ClassA(ClassB classB) {\r\n            this.classB = classB;\r\n        }\r\n\r\n        public String greeting(String name) {\r\n            return classB.message() + &quot; &quot; + name + &quot;!&quot;;\r\n        }\r\n    }\r\n\r\n    private static class ClassB {\r\n        public String message() {\r\n            return &quot;Hello&quot;;\r\n        }\r\n    }\r\n}","title":"How to fix &quot;The import org.mockito cannot be resolved&quot;?","body":"<p>You are trying to import the wrong packages</p>\n\n<p>This is what should be in your <code>pom.xml</code> file under <code>dependencies</code></p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n   &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n   &lt;version&gt;1.9.5&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And simple test should look like this </p>\n\n<pre><code>import org.junit.Assert;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.mockito.junit.MockitoJUnitRunner;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class InjectMocksTest {\n\n@Mock\nprivate ClassB classB;\n@InjectMocks\nprivate ClassA classA;\n\n@Test\npublic void test() {\n    Mockito.doReturn(\"Hi\").when(classB).message();\n\n    Assert.assertEquals(\"Hi David!\", classA.greeting(\"David\"));\n\n}\n\nprivate static class ClassA {\n\n    private final ClassB classB;\n\n    private ClassA(ClassB classB) {\n        this.classB = classB;\n    }\n\n    public String greeting(String name) {\n        return classB.message() + \" \" + name + \"!\";\n    }\n}\n\nprivate static class ClassB {\n    public String message() {\n        return \"Hello\";\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":2542009,"reputation":409,"user_id":2207605,"display_name":"Christine"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1586896402,"creation_date":1586896065,"answer_id":61216615,"question_id":58111675,"body_markdown":"In Project, Go to:\r\n**Build Path** --&gt; **Configuration Path**, \r\n\r\nIn **Java Build Path**, Go to:\r\n**Source**\r\n\r\nIn both directories ***src/test/java*** and ***src/test/resource***, set:\r\n\r\n**Output folder**: to a separate target fold different from the default target fold, \r\nfor example: target/test-classes\r\n\r\n**Contain Test Resources**: Yes","title":"How to fix &quot;The import org.mockito cannot be resolved&quot;?","body":"<p>In Project, Go to:\n<strong>Build Path</strong> --> <strong>Configuration Path</strong>, </p>\n\n<p>In <strong>Java Build Path</strong>, Go to:\n<strong>Source</strong></p>\n\n<p>In both directories <strong><em>src/test/java</em></strong> and <strong><em>src/test/resource</em></strong>, set:</p>\n\n<p><strong>Output folder</strong>: to a separate target fold different from the default target fold, \nfor example: target/test-classes</p>\n\n<p><strong>Contain Test Resources</strong>: Yes</p>\n"}],"owner":{"account_id":8108011,"reputation":81,"user_id":6108967,"display_name":"mobin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33958,"favorite_count":0,"down_vote_count":3,"up_vote_count":8,"answer_count":2,"score":5,"last_activity_date":1680129286,"creation_date":1569483097,"question_id":58111675,"body_markdown":"I have a maven project in which there is a class called - BookingServiceTest.java where i tried importing \r\norg.mockito.InjectMocks\r\norg.mockito.Mock\r\norg_mockito_Mockito and\r\norg_mockito_MockitoAnnotations. But i got the error - &quot;The import org_mockito cannot be resolved&quot;\r\n\r\nCan anyone suggest how can we resolve this?\r\n\r\njar used: mockito-all-1.9.5.jar added to my local maven repository.","title":"How to fix &quot;The import org.mockito cannot be resolved&quot;?","body":"<p>I have a maven project in which there is a class called - BookingServiceTest.java where i tried importing \norg.mockito.InjectMocks\norg.mockito.Mock\norg_mockito_Mockito and\norg_mockito_MockitoAnnotations. But i got the error - \"The import org_mockito cannot be resolved\"</p>\n\n<p>Can anyone suggest how can we resolve this?</p>\n\n<p>jar used: mockito-all-1.9.5.jar added to my local maven repository.</p>\n"},{"tags":["java"],"owner":{"account_id":28162696,"reputation":1,"user_id":21522329,"display_name":"chilli_choccies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680130180,"answer_count":0,"score":0,"last_activity_date":1680129243,"creation_date":1680129243,"question_id":75882712,"body_markdown":"I should begin by stating I am a relative beginner to both java and programming in general. I have been making a program loosely based off an old program I followed an online tutorial for, and for whatever reason, it searches the correct path but does not seem to be able to bring that image into a variable. code for the class is inserted below:\r\n\r\n\r\n```\r\npackage tile;\r\n\r\n\r\nimport main.SimPanel;\r\nimport main.Utility;\r\n\r\nimport java.awt.Graphics2D;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.io.File;\r\n\r\nimport javax.imageio.ImageIO;\r\n\r\npublic class TileManager {\r\n\r\n\tSimPanel simPanel;\r\n\tpublic Tile[] tile;\r\n\tpublic int mapTileNum[][];\r\n\tpublic TileManager(SimPanel simPanel){\r\n\t\t\r\n\t\tthis.simPanel = simPanel;\r\n\t\t\r\n\t\ttile = new Tile[20];\r\n\t\tmapTileNum = new int[simPanel.maxWorldColumn][simPanel.maxWorldRow];\r\n\t\t\r\n\t\tgetTileImage();\r\n\t\tloadMap(&quot;res/map/worldmap.txt&quot;);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void getTileImage() {\r\n\t\t\r\n\t\tsetup(2, &quot;floor&quot;, false);\r\n\t\tsetup(1, &quot;wall&quot;, true);\r\n\t\tsetup(3, &quot;start&quot;, false);\r\n\t\tsetup(0, &quot;end&quot;, true);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void setup(int index, String imageName, boolean collision) {\r\n\t\t\r\n\t\tUtility utility = new Utility();\r\n\t\ttry {\r\n\t\t\ttile[index] = new Tile();\r\n\t\t\ttile[index].image = ImageIO.read(getClass().getResourceAsStream(&quot;/backgroundTiles/&quot;+ imageName +&quot;.png&quot;)); //example: /backgroundTiles/floor.png\r\n\t\t\ttile[index].image = utility.scaleImage(tile[index].image, simPanel.visibleTileSize, simPanel.visibleTileSize);\r\n\t\t\t//tile[index].collision = collision;\r\n\t\t} catch (IOException e){\r\n\t\t\tSystem.out.println(&quot;something went wrong&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void loadMap(String path) {\r\n\t\ttry {\r\n\t\t\tInputStream inputStream = getClass().getResourceAsStream(path);\r\n\t\t\tBufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\r\n\t\t\tint column = 0;\r\n\t\t\tint row = 0;\r\n\t\t\t\r\n\t\t\twhile (column &lt; simPanel.maxWorldColumn &amp;&amp; row &lt; simPanel.maxWorldRow) {\r\n\t\t\t\tString line = bufferedReader.readLine();\r\n\t\t\t\twhile (column &lt; simPanel.maxWorldColumn) {\r\n\t\t\t\t\tString numbers[] = line.split(&quot; &quot;);\r\n\t\t\t\t\tint num1 = Integer.parseInt(numbers[column]);\r\n\t\t\t\t\tmapTileNum[column][row] = num1;\r\n\t\t\t\t\tcolumn++;\r\n\t\t\t\t}\r\n\t\t\t\tif (column == simPanel.maxWorldColumn) {\r\n\t\t\t\t\tcolumn = 0;\r\n\t\t\t\t\trow++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbufferedReader.close();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\t\t\r\n\t}\r\n\t\r\n\tpublic void draw(Graphics2D graphics2d) {\r\n\t\tint worldColumn = 0;\r\n\t\tint worldRow = 0; \r\n\t\t\r\n\t\twhile (worldColumn &lt; simPanel.maxWorldColumn &amp;&amp; worldRow &lt; simPanel.maxWorldRow) {\r\n\t\t\tint tileNumber = mapTileNum[worldColumn][worldRow];\r\n\t\t\tint worldX = worldColumn*simPanel.visibleTileSize;\r\n\t\t\tint worldY = worldRow*simPanel.visibleTileSize;\r\n\t\t\t\r\n\t\t\tgraphics2d.drawImage(tile[tileNumber].image, worldX, worldY, null);\r\n\t\t\t\r\n\t\t\tworldColumn++;\r\n\t\t\tif (worldColumn == simPanel.maxWorldColumn) {\r\n\t\t\t\tworldColumn = 0;\r\n\t\t\t\tworldRow++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nonce again I apologise for my incompetence and splurgy code but this is the best I can do. Any suggestions would be appreciated.\r\n\r\nThe issue occurs in the line\r\n`tile[index].image = ImageIO.read(getClass().getResourceAsStream(&quot;/backgroundTiles/&quot;+ imageName +&quot;.png&quot;)); `\r\n\r\nI have tried every single method for writing the filepath I could find. Tried changing the location, tried just about everything I can think of. for some reason it all throws the same issue.\r\n\r\nI really hope I&#39;m not just being dumb.","title":"java getResourceAsStream throwing IllegalArgumentException: &#39;input == null!&#39;","body":"<p>I should begin by stating I am a relative beginner to both java and programming in general. I have been making a program loosely based off an old program I followed an online tutorial for, and for whatever reason, it searches the correct path but does not seem to be able to bring that image into a variable. code for the class is inserted below:</p>\n<pre><code>package tile;\n\n\nimport main.SimPanel;\nimport main.Utility;\n\nimport java.awt.Graphics2D;\n\nimport java.io.BufferedReader;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.File;\n\nimport javax.imageio.ImageIO;\n\npublic class TileManager {\n\n    SimPanel simPanel;\n    public Tile[] tile;\n    public int mapTileNum[][];\n    public TileManager(SimPanel simPanel){\n        \n        this.simPanel = simPanel;\n        \n        tile = new Tile[20];\n        mapTileNum = new int[simPanel.maxWorldColumn][simPanel.maxWorldRow];\n        \n        getTileImage();\n        loadMap(&quot;res/map/worldmap.txt&quot;);\n        \n    }\n    \n    public void getTileImage() {\n        \n        setup(2, &quot;floor&quot;, false);\n        setup(1, &quot;wall&quot;, true);\n        setup(3, &quot;start&quot;, false);\n        setup(0, &quot;end&quot;, true);\n        \n    }\n    \n    public void setup(int index, String imageName, boolean collision) {\n        \n        Utility utility = new Utility();\n        try {\n            tile[index] = new Tile();\n            tile[index].image = ImageIO.read(getClass().getResourceAsStream(&quot;/backgroundTiles/&quot;+ imageName +&quot;.png&quot;)); //example: /backgroundTiles/floor.png\n            tile[index].image = utility.scaleImage(tile[index].image, simPanel.visibleTileSize, simPanel.visibleTileSize);\n            //tile[index].collision = collision;\n        } catch (IOException e){\n            System.out.println(&quot;something went wrong&quot;);\n            e.printStackTrace();\n        }\n        \n    }\n    \n    public void loadMap(String path) {\n        try {\n            InputStream inputStream = getClass().getResourceAsStream(path);\n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\n            int column = 0;\n            int row = 0;\n            \n            while (column &lt; simPanel.maxWorldColumn &amp;&amp; row &lt; simPanel.maxWorldRow) {\n                String line = bufferedReader.readLine();\n                while (column &lt; simPanel.maxWorldColumn) {\n                    String numbers[] = line.split(&quot; &quot;);\n                    int num1 = Integer.parseInt(numbers[column]);\n                    mapTileNum[column][row] = num1;\n                    column++;\n                }\n                if (column == simPanel.maxWorldColumn) {\n                    column = 0;\n                    row++;\n                }\n            }\n            bufferedReader.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }       \n    }\n    \n    public void draw(Graphics2D graphics2d) {\n        int worldColumn = 0;\n        int worldRow = 0; \n        \n        while (worldColumn &lt; simPanel.maxWorldColumn &amp;&amp; worldRow &lt; simPanel.maxWorldRow) {\n            int tileNumber = mapTileNum[worldColumn][worldRow];\n            int worldX = worldColumn*simPanel.visibleTileSize;\n            int worldY = worldRow*simPanel.visibleTileSize;\n            \n            graphics2d.drawImage(tile[tileNumber].image, worldX, worldY, null);\n            \n            worldColumn++;\n            if (worldColumn == simPanel.maxWorldColumn) {\n                worldColumn = 0;\n                worldRow++;\n            }\n            \n        }\n    }\n}\n</code></pre>\n<p>once again I apologise for my incompetence and splurgy code but this is the best I can do. Any suggestions would be appreciated.</p>\n<p>The issue occurs in the line\n<code>tile[index].image = ImageIO.read(getClass().getResourceAsStream(&quot;/backgroundTiles/&quot;+ imageName +&quot;.png&quot;)); </code></p>\n<p>I have tried every single method for writing the filepath I could find. Tried changing the location, tried just about everything I can think of. for some reason it all throws the same issue.</p>\n<p>I really hope I'm not just being dumb.</p>\n"},{"tags":["python","java","tesseract","jython","sikuli-ide"],"answers":[{"tags":[],"owner":{"account_id":2164793,"reputation":1103,"user_id":1918124,"display_name":"RaiMan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647511280,"creation_date":1647511280,"answer_id":71510375,"question_id":71497431,"body_markdown":"`text = Image.create(&quot;givenImage.png&quot;).text()`\r\n\r\nIf you want to read from only part of the image:\r\n\r\n`text = Image.create(&quot;givenImage.png&quot;).getSub(x, y, w, h).text()`\r\n\r\nwhere x and y are counting from the top left corner of the image as (0, 0).\r\n\r\nExample for top of image:\r\n```\r\nimg = Image.create(&quot;givenImage.png&quot;)\r\ntext = img.getSub(0,0,img.w, 20).text()\r\n```\r\n\r\nRaiMan from SikuliX","title":"How can I read text on the screen presented as an image using sikulix IDE?","body":"<p><code>text = Image.create(&quot;givenImage.png&quot;).text()</code></p>\n<p>If you want to read from only part of the image:</p>\n<p><code>text = Image.create(&quot;givenImage.png&quot;).getSub(x, y, w, h).text()</code></p>\n<p>where x and y are counting from the top left corner of the image as (0, 0).</p>\n<p>Example for top of image:</p>\n<pre><code>img = Image.create(&quot;givenImage.png&quot;)\ntext = img.getSub(0,0,img.w, 20).text()\n</code></pre>\n<p>RaiMan from SikuliX</p>\n"}],"owner":{"account_id":11808254,"reputation":37,"user_id":8640260,"display_name":"rich25"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1511,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71510375,"answer_count":1,"score":0,"last_activity_date":1680129241,"creation_date":1647435143,"question_id":71497431,"body_markdown":"I&#39;m using sikulix IDE version 2.0.5 in windows 10 and the usage so far is successful.\r\n\r\nI want to read a specific single line text on the screen using sikulix IDE. I can&#39;t copy the text to the clipboard because it on an image. \r\n\r\nI&#39;m able to do this on eclipse IDE using Tesseract and tess4j in Java after I imported its jar.\r\n\r\nWith my project I&#39;m looking to use sikulix IDE because I found it to be reliable in reading images.\r\n\r\nMy question now is how can I read the text on the screen presented as an image using sikulix IDE? Is there a method I can use within the sikuli IDE.\r\n\r\nCan someone guide me!\r\n\r\nThank you.","title":"How can I read text on the screen presented as an image using sikulix IDE?","body":"<p>I'm using sikulix IDE version 2.0.5 in windows 10 and the usage so far is successful.</p>\n<p>I want to read a specific single line text on the screen using sikulix IDE. I can't copy the text to the clipboard because it on an image.</p>\n<p>I'm able to do this on eclipse IDE using Tesseract and tess4j in Java after I imported its jar.</p>\n<p>With my project I'm looking to use sikulix IDE because I found it to be reliable in reading images.</p>\n<p>My question now is how can I read the text on the screen presented as an image using sikulix IDE? Is there a method I can use within the sikuli IDE.</p>\n<p>Can someone guide me!</p>\n<p>Thank you.</p>\n"},{"tags":["java","android","android-mediaplayer"],"answers":[{"tags":[],"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680128928,"creation_date":1680128928,"answer_id":75882685,"question_id":75882596,"body_markdown":"What is the technical challenge of stopping the first instance before starting the second instance?  Is it because the two classes don&#39;t have references to each other?\r\n\r\nIn my (old) app, I have the MediaPlayer instance itself owned by a singleton class such that both the Activity and Service classes can get at it. If were to extend that to have two MediaPlayer instances, I&#39;d just have the singleton own both\r\n\r\nYou could also look at [audio ducking APIs][1]. I&#39;m not sure if this works between media players in the same process or not.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/media-apps/audio-focus","title":"MediaPlayer sound overlaping","body":"<p>What is the technical challenge of stopping the first instance before starting the second instance?  Is it because the two classes don't have references to each other?</p>\n<p>In my (old) app, I have the MediaPlayer instance itself owned by a singleton class such that both the Activity and Service classes can get at it. If were to extend that to have two MediaPlayer instances, I'd just have the singleton own both</p>\n<p>You could also look at <a href=\"https://developer.android.com/guide/topics/media-apps/audio-focus\" rel=\"nofollow noreferrer\">audio ducking APIs</a>. I'm not sure if this works between media players in the same process or not.</p>\n"}],"owner":{"account_id":23494843,"reputation":25,"user_id":17545414,"display_name":"Cyclone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680128928,"creation_date":1680127943,"question_id":75882596,"body_markdown":"I have tow classes in my code;\r\n\r\nMusicListScreen: where I made recyclerView of my tracks.\r\nPlayeerMusicScrenn: Where I have my player to control the tracks by the MediaPlayer.\r\n\r\nHow can avoid overlapping of audios when the user switches between the songs. knowing that I have two instances of MediaPlayer, one one the 1st class and the other in second class.\r\n\r\n1st class:\r\n\r\n       @Override\r\n                        public void onRecItemClick(TrackResponse.Results track, int position, Activity context) {\r\n                            Intent intent = new Intent(context, PlayMusicScreen.class);\r\n                            intent.putParcelableArrayListExtra(&quot;trackList&quot;, mainCategoryList);\r\n                            intent.putExtra(&quot;position&quot;,position);\r\n\r\n                            if(mediaPlayer.isPlaying() &amp;&amp; mediaPlayer!=null){\r\n                                mediaPlayer.stop();\r\n                                mediaPlayer.release();\r\n                                mediaPlayer=null;\r\n                            }\r\n                            changeSelectedSong(position);\r\n                            context.startActivity(intent);\r\n                        }\r\n                    });\r\n2nd Class\r\n\r\n   ```\r\n\r\n        trackList= (ArrayList&lt;TrackResponse.Results&gt;) getIntent().getSerializableExtra(&quot;trackList&quot;);\r\n        int position = getIntent().getIntExtra(&quot;position&quot;,0);\r\n        prepareTrack(trackList.get(position));\r\n    }\r\n\r\n    public void prepareTrack (TrackResponse.Results trackItem) {\r\n        String trackLink = trackItem.getAudio();\r\n\r\n        Glide.with(this)\r\n                .load(trackItem.getImage())\r\n                .apply(requestOptions)\r\n                .into(songArt);\r\n        playButton.setImageDrawable(getResources().getDrawable(R.drawable.pause_btn));\r\n\r\n\r\n        if(mediaPlayer.isPlaying() &amp;&amp; mediaPlayer!=null){\r\n            mediaPlayer.stop();\r\n            mediaPlayer.release();\r\n            mediaPlayer=null;\r\n        }\r\n        try {\r\n            if (trackItem.getAudio() == null) {\r\n                Toast.makeText(this, &quot;audio not found&quot;, Toast.LENGTH_SHORT);\r\n            } else {\r\n                mediaPlayer.setDataSource(trackLink);\r\n                mediaPlayer.prepare();\r\n                mediaPlayer.start();\r\n            }\r\n\r\n        } catch (IOException e) {\r\n            Toast.makeText(this, &quot;audio not found&quot;, Toast.LENGTH_SHORT);\r\n            throw new RuntimeException(e);\r\n        }\r\n        handler2.postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n            }\r\n        }, 4000);\r\n\r\n\r\n\r\n\r\n        pushPlay();\r\n        pushPrevious();\r\n        pushNext();\r\n\r\n      /*  mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n            @Override\r\n            public void onCompletion(MediaPlayer mediaPlayer) {\r\n                if (currentItem+1 &lt; adapterMainCategory.getItemCount()){\r\n                    int nextSong = currentItem+1;\r\n                    changeSelectedSong(nextSong);\r\n                    TrackResponse.Results next = mainCategoryList.get(nextSong);\r\n                    prepareTrack(next);\r\n\r\n                }\r\n\r\n                else{\r\n\r\n                       prepareTrack(mainCategoryList.get(0));\r\n                }\r\n            }\r\n        });\r\n\r\n       */\r\n    }\r\n```\r\n\r\n ","title":"MediaPlayer sound overlaping","body":"<p>I have tow classes in my code;</p>\n<p>MusicListScreen: where I made recyclerView of my tracks.\nPlayeerMusicScrenn: Where I have my player to control the tracks by the MediaPlayer.</p>\n<p>How can avoid overlapping of audios when the user switches between the songs. knowing that I have two instances of MediaPlayer, one one the 1st class and the other in second class.</p>\n<p>1st class:</p>\n<pre><code>   @Override\n                    public void onRecItemClick(TrackResponse.Results track, int position, Activity context) {\n                        Intent intent = new Intent(context, PlayMusicScreen.class);\n                        intent.putParcelableArrayListExtra(&quot;trackList&quot;, mainCategoryList);\n                        intent.putExtra(&quot;position&quot;,position);\n\n                        if(mediaPlayer.isPlaying() &amp;&amp; mediaPlayer!=null){\n                            mediaPlayer.stop();\n                            mediaPlayer.release();\n                            mediaPlayer=null;\n                        }\n                        changeSelectedSong(position);\n                        context.startActivity(intent);\n                    }\n                });\n</code></pre>\n<p>2nd Class</p>\n<pre><code>\n     trackList= (ArrayList&lt;TrackResponse.Results&gt;) getIntent().getSerializableExtra(&quot;trackList&quot;);\n     int position = getIntent().getIntExtra(&quot;position&quot;,0);\n     prepareTrack(trackList.get(position));\n }\n\n public void prepareTrack (TrackResponse.Results trackItem) {\n     String trackLink = trackItem.getAudio();\n\n     Glide.with(this)\n             .load(trackItem.getImage())\n             .apply(requestOptions)\n             .into(songArt);\n     playButton.setImageDrawable(getResources().getDrawable(R.drawable.pause_btn));\n\n\n     if(mediaPlayer.isPlaying() &amp;&amp; mediaPlayer!=null){\n         mediaPlayer.stop();\n         mediaPlayer.release();\n         mediaPlayer=null;\n     }\n     try {\n         if (trackItem.getAudio() == null) {\n             Toast.makeText(this, &quot;audio not found&quot;, Toast.LENGTH_SHORT);\n         } else {\n             mediaPlayer.setDataSource(trackLink);\n             mediaPlayer.prepare();\n             mediaPlayer.start();\n         }\n\n     } catch (IOException e) {\n         Toast.makeText(this, &quot;audio not found&quot;, Toast.LENGTH_SHORT);\n         throw new RuntimeException(e);\n     }\n     handler2.postDelayed(new Runnable() {\n         @Override\n         public void run() {\n         }\n     }, 4000);\n\n\n\n\n     pushPlay();\n     pushPrevious();\n     pushNext();\n\n   /*  mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n         @Override\n         public void onCompletion(MediaPlayer mediaPlayer) {\n             if (currentItem+1 &lt; adapterMainCategory.getItemCount()){\n                 int nextSong = currentItem+1;\n                 changeSelectedSong(nextSong);\n                 TrackResponse.Results next = mainCategoryList.get(nextSong);\n                 prepareTrack(next);\n\n             }\n\n             else{\n\n                    prepareTrack(mainCategoryList.get(0));\n             }\n         }\n     });\n\n    */\n }\n</code></pre>\n"},{"tags":["java","stringbuilder"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":4,"creation_date":1680100832,"post_id":75878715,"comment_id":133840557,"body_markdown":"&quot;I&#180;m not understanding very well how StrinBuilder works...&quot; then why do you want to use it? Have you considered it may not be the right tool for the job?","body":"&quot;I&#180;m not understanding very well how StrinBuilder works...&quot; then why do you want to use it? Have you considered it may not be the right tool for the job?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1680103844,"post_id":75878715,"comment_id":133841580,"body_markdown":"Tweets are designed to be short, so there is usually no need for these kind of tricks. Copying a small tweet message is not a huge job for a computer. This post will have consumed more CPU &amp; memory.","body":"Tweets are designed to be short, so there is usually no need for these kind of tricks. Copying a small tweet message is not a huge job for a computer. This post will have consumed more CPU &amp; memory."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1680106399,"post_id":75878715,"comment_id":133842335,"body_markdown":"By the way, there are all kinds of interesting issues, but the compare should at the very least respect word boundaries. Currently it also matches the last part of nick `&quot;NotJoeBiden&quot;`...","body":"By the way, there are all kinds of interesting issues, but the compare should at the very least respect word boundaries. Currently it also matches the last part of nick <code>&quot;NotJoeBiden&quot;</code>..."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680106661,"creation_date":1680101964,"answer_id":75878938,"question_id":75878715,"body_markdown":"Your actual approach is the way to go.  I would forget about using `StringBuilder` for this.  But here is a related suggestion.\r\nIf you want to ensure that existing strings in the array are not already prefixed with an @ sign, then do it as follows using [String.replaceAll](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)).  This also enforces word boundaries so if any names are part of an existing word (e.g. `Same vs Sam`) it won&#39;t be changed.\r\n```\r\nString[] names = {&quot;DonaldTrump&quot;, &quot;JoeBiden&quot;};\r\n    \r\nString s = &quot;It seems like DonaldTrump and JoeBiden will both run for president in 2024.&quot;;\r\n```\r\n- `(?&lt;!@)` - Is a negative look-behind assertion which says `@` does not occur before name. \r\n\r\n- `\\\\b` - enforces word boundaries.  Suggested by [Maarten Bodewes](https://stackoverflow.com/users/589259/maarten-bodewes)\r\n```\r\nfor (String name : names) {\r\n        s = s.replaceAll(&quot;\\\\b(?&lt;!@)&quot;+name+&quot;\\\\b&quot;, &quot;@&quot;+name);\r\n}\r\nSystem.out.println(s);\r\n","title":"How can I do this but using StringBulider","body":"<p>Your actual approach is the way to go.  I would forget about using <code>StringBuilder</code> for this.  But here is a related suggestion.\nIf you want to ensure that existing strings in the array are not already prefixed with an @ sign, then do it as follows using <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">String.replaceAll</a>.  This also enforces word boundaries so if any names are part of an existing word (e.g. <code>Same vs Sam</code>) it won't be changed.</p>\n<pre><code>String[] names = {&quot;DonaldTrump&quot;, &quot;JoeBiden&quot;};\n    \nString s = &quot;It seems like DonaldTrump and JoeBiden will both run for president in 2024.&quot;;\n</code></pre>\n<ul>\n<li><p><code>(?&lt;!@)</code> - Is a negative look-behind assertion which says <code>@</code> does not occur before name.</p>\n</li>\n<li><p><code>\\\\b</code> - enforces word boundaries.  Suggested by <a href=\"https://stackoverflow.com/users/589259/maarten-bodewes\">Maarten Bodewes</a></p>\n</li>\n</ul>\n<pre><code>for (String name : names) {\n        s = s.replaceAll(&quot;\\\\b(?&lt;!@)&quot;+name+&quot;\\\\b&quot;, &quot;@&quot;+name);\n}\nSystem.out.println(s);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18255587,"reputation":1,"user_id":13289605,"display_name":"Spaf"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1680103317,"creation_date":1680102296,"answer_id":75879027,"question_id":75878715,"body_markdown":"The purpose of the StringBuilder class is to create a mutable sequence of characters, since the String class is immutable.\r\n\r\nI don&#39;t think in your case is necessary since you can use something like this:\r\n```\r\n\r\n    for( String username: usernames ) {\r\n            s = s.replace(username, &quot;@&quot; + username);\r\n\r\n   }\r\n```\r\n\r\nBut assuming the purpose is to understand how StringBuilder works, here is an updated function that uses the StringBuilder class:\r\n\r\n```\r\n        public String highlightUsernames(String tweetText, String[] usernames) {\r\n         // You can create an instance of the StringBuilder class with the tweetText String.\r\n            StringBuilder stringBuilder = new StringBuilder(tweetText);\r\n        \r\n            for (int i = 0; i &lt; usernames.length; i++) {\r\n                \r\n                // Get the index of the user\r\n               int index = stringBuilder.indexOf(usernames[i]);\r\n               \r\n               // And use the insert method of StringBuilder to add the &quot;@&quot; before the username if it&#39;s found\r\n               if (index != -1) {\r\n                    stringBuilder.insert(index, &quot;@&quot;);\r\n                }\r\n            }\r\n            \r\n            // At the end, you can convert the StringBuilder to a String, using its toString method\r\n            return stringBuilder.toString();\r\n\r\n```","title":"How can I do this but using StringBulider","body":"<p>The purpose of the StringBuilder class is to create a mutable sequence of characters, since the String class is immutable.</p>\n<p>I don't think in your case is necessary since you can use something like this:</p>\n<pre><code>\n    for( String username: usernames ) {\n            s = s.replace(username, &quot;@&quot; + username);\n\n   }\n</code></pre>\n<p>But assuming the purpose is to understand how StringBuilder works, here is an updated function that uses the StringBuilder class:</p>\n<pre><code>        public String highlightUsernames(String tweetText, String[] usernames) {\n         // You can create an instance of the StringBuilder class with the tweetText String.\n            StringBuilder stringBuilder = new StringBuilder(tweetText);\n        \n            for (int i = 0; i &lt; usernames.length; i++) {\n                \n                // Get the index of the user\n               int index = stringBuilder.indexOf(usernames[i]);\n               \n               // And use the insert method of StringBuilder to add the &quot;@&quot; before the username if it's found\n               if (index != -1) {\n                    stringBuilder.insert(index, &quot;@&quot;);\n                }\n            }\n            \n            // At the end, you can convert the StringBuilder to a String, using its toString method\n            return stringBuilder.toString();\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19480151,"reputation":31,"user_id":14250670,"display_name":"omid"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680107090,"creation_date":1680103099,"answer_id":75879168,"question_id":75878715,"body_markdown":"Using StringBuilder will give a better performance in this case. here&#39;s a simple implementation:\r\n\r\n    public String highlightUsernames(String tweetText, String[] usernames) {\r\n\r\n        StringBuilder  resultText = new StringBuilder(tweetText) ;\r\n\r\n        for (int i = 0; i &lt; usernames.length; i++) {\r\n            var index = 0;\r\n            while (true) {\r\n                index = resultText.indexOf(usernames[i], index);\r\n                if (index == -1)\r\n                    break;\r\n                resultText.insert(index, &quot;@&quot;);\r\n                index +=2;\r\n            }\r\n        }\r\n        return resultText.toString();\r\n    }","title":"How can I do this but using StringBulider","body":"<p>Using StringBuilder will give a better performance in this case. here's a simple implementation:</p>\n<pre><code>public String highlightUsernames(String tweetText, String[] usernames) {\n\n    StringBuilder  resultText = new StringBuilder(tweetText) ;\n\n    for (int i = 0; i &lt; usernames.length; i++) {\n        var index = 0;\n        while (true) {\n            index = resultText.indexOf(usernames[i], index);\n            if (index == -1)\n                break;\n            resultText.insert(index, &quot;@&quot;);\n            index +=2;\n        }\n    }\n    return resultText.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680128877,"creation_date":1680107066,"answer_id":75879819,"question_id":75878715,"body_markdown":"Let&#39;s dive deep into this and make something really performant. It uses the smarts of regular expressions to find all names at once, and then inserts the @ symbol if there isn&#39;t one already. It stores the indexes, so that any string copying only has to be performed once (or twice when you call `StringBuilder#toString()` of course).\r\n\r\nIt also fixes a major issue with your code: that it matches `&quot;JoeBiden&quot;` in `&quot;JoeBidenAgain&quot;` by using *word boundaries*. Actually, a Java/regex &quot;word&quot; character nicely coincides with the rules for Twitter names / handles (probably that&#39;s not coincidental).\r\n\r\n```\r\n\r\nString[] names = {&quot;DonaldTrump&quot;, &quot;JoeBiden&quot;};\r\n\r\nString namesForRegexp = Arrays.stream(names).map(s -&gt; Pattern.quote(s)).collect(Collectors.joining(&quot;|&quot;));\r\nPattern p = Pattern.compile(&quot;\\\\b(?&lt;!@)(&quot; + namesForRegexp + &quot;)\\\\b&quot;);\r\n\r\nString s = &quot;It seems like DonaldTrump and JoeBidenAgain will both run for president in 2024.&quot;;\r\n\r\nMatcher m = p.matcher(s);\r\nList&lt;Integer&gt; insertionPoints = new LinkedList&lt;&gt;();\r\nwhile (m.find()) {\r\n\t// do our own lookbehind for existing @ sign\r\n\tinsertionPoints.add(m.start());\r\n}\r\n\r\nStringBuilder sb = new StringBuilder(s.length() + insertionPoints.size());\r\nint offset = 0;\r\nfor (int insertionPoint : insertionPoints) {\r\n\tsb.append(s.substring(offset, insertionPoint));\r\n\tsb.append(&#39;@&#39;);\r\n\toffset = insertionPoint;\r\n}\r\nsb.append(s.substring(offset));\r\n\r\nSystem.out.println(sb);\r\n```\r\n\r\nThis will print out:\r\n\r\n``` none\r\nIt seems like @DonaldTrump and JoeBidenAgain will both run for president in 2024.\r\n```\r\n\r\nNote that `&quot;JoeBidenAgain&quot;` is now not tagged with a `@` sign, that&#39;s probably somebody else after all.\r\n\r\n---\r\n\r\n**Tweets are deliberately small**, so this kind of unnecessary optimization would not make much sense for an actual tweet; it should be more of an illustration on how to generally optimize such a function.","title":"How can I do this but using StringBulider","body":"<p>Let's dive deep into this and make something really performant. It uses the smarts of regular expressions to find all names at once, and then inserts the @ symbol if there isn't one already. It stores the indexes, so that any string copying only has to be performed once (or twice when you call <code>StringBuilder#toString()</code> of course).</p>\n<p>It also fixes a major issue with your code: that it matches <code>&quot;JoeBiden&quot;</code> in <code>&quot;JoeBidenAgain&quot;</code> by using <em>word boundaries</em>. Actually, a Java/regex &quot;word&quot; character nicely coincides with the rules for Twitter names / handles (probably that's not coincidental).</p>\n<pre><code>\nString[] names = {&quot;DonaldTrump&quot;, &quot;JoeBiden&quot;};\n\nString namesForRegexp = Arrays.stream(names).map(s -&gt; Pattern.quote(s)).collect(Collectors.joining(&quot;|&quot;));\nPattern p = Pattern.compile(&quot;\\\\b(?&lt;!@)(&quot; + namesForRegexp + &quot;)\\\\b&quot;);\n\nString s = &quot;It seems like DonaldTrump and JoeBidenAgain will both run for president in 2024.&quot;;\n\nMatcher m = p.matcher(s);\nList&lt;Integer&gt; insertionPoints = new LinkedList&lt;&gt;();\nwhile (m.find()) {\n    // do our own lookbehind for existing @ sign\n    insertionPoints.add(m.start());\n}\n\nStringBuilder sb = new StringBuilder(s.length() + insertionPoints.size());\nint offset = 0;\nfor (int insertionPoint : insertionPoints) {\n    sb.append(s.substring(offset, insertionPoint));\n    sb.append('@');\n    offset = insertionPoint;\n}\nsb.append(s.substring(offset));\n\nSystem.out.println(sb);\n</code></pre>\n<p>This will print out:</p>\n<pre class=\"lang-none prettyprint-override\"><code>It seems like @DonaldTrump and JoeBidenAgain will both run for president in 2024.\n</code></pre>\n<p>Note that <code>&quot;JoeBidenAgain&quot;</code> is now not tagged with a <code>@</code> sign, that's probably somebody else after all.</p>\n<hr />\n<p><strong>Tweets are deliberately small</strong>, so this kind of unnecessary optimization would not make much sense for an actual tweet; it should be more of an illustration on how to generally optimize such a function.</p>\n"}],"owner":{"account_id":28159371,"reputation":11,"user_id":21519576,"display_name":"Jorge D. Garc&#237;a"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1680128877,"creation_date":1680100735,"question_id":75878715,"body_markdown":"I am trying to replicate this code using `StringBuilder` but can&#39;t figure out how.\r\n\r\nWhat this does is check a given string (`tweetText`) with an array of Strings (`usernames`) and if is a match replaces the one in the string adding an &quot;@&quot; before it.\r\n\r\nFor example:\r\n\r\nIf the string was; **It seems like DonaldTrump and JoeBiden will both run for president in 2024.**\r\n\r\nand in the array of usernames were **{&quot;DonaldTrump&quot;, &quot;JoeBiden&quot;}**\r\n\r\nthe result should be: **It seems like @DonaldTrump and @JoeBiden will both run for president in 2024.**\r\n\r\n\r\nThis is my code that works without the use of `StringBuilder`:\r\n\r\n```java               \r\npublic String highlightUsernames(String tweetText, String[] usernames) {\r\n    String  resultText = &quot;&quot; ;\r\n\r\n    for (int i = 0; i &lt; usernames.length; i++) {\r\n        tweetText = tweetText.replace(usernames[i], &quot;@&quot;+usernames[i]);\r\n    }\r\n\r\n    return tweetText;\r\n}\r\n```\r\n\r\nI&#39;m not understanding very well how `StringBuilder` works...","title":"How can I do this but using StringBulider","body":"<p>I am trying to replicate this code using <code>StringBuilder</code> but can't figure out how.</p>\n<p>What this does is check a given string (<code>tweetText</code>) with an array of Strings (<code>usernames</code>) and if is a match replaces the one in the string adding an &quot;@&quot; before it.</p>\n<p>For example:</p>\n<p>If the string was; <strong>It seems like DonaldTrump and JoeBiden will both run for president in 2024.</strong></p>\n<p>and in the array of usernames were <strong>{&quot;DonaldTrump&quot;, &quot;JoeBiden&quot;}</strong></p>\n<p>the result should be: <strong>It seems like @DonaldTrump and @JoeBiden will both run for president in 2024.</strong></p>\n<p>This is my code that works without the use of <code>StringBuilder</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String highlightUsernames(String tweetText, String[] usernames) {\n    String  resultText = &quot;&quot; ;\n\n    for (int i = 0; i &lt; usernames.length; i++) {\n        tweetText = tweetText.replace(usernames[i], &quot;@&quot;+usernames[i]);\n    }\n\n    return tweetText;\n}\n</code></pre>\n<p>I'm not understanding very well how <code>StringBuilder</code> works...</p>\n"},{"tags":["java","libgdx","dispose","destroy"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1680126810,"post_id":75882434,"comment_id":133847024,"body_markdown":"dispose what?  You need to provide a [mcve]","body":"dispose what?  You need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":15410515,"reputation":33,"user_id":11117353,"display_name":"Michael"},"score":0,"creation_date":1680127139,"post_id":75882434,"comment_id":133847077,"body_markdown":"The dispose method of libgdx&#39;s ApplicationAdapter class that it gets from the ApplicationListener interface. It&#39;s like the onDestroy method of java&#39;s Activity class, it get called whenever the Application is destroyed","body":"The dispose method of libgdx&#39;s ApplicationAdapter class that it gets from the ApplicationListener interface. It&#39;s like the onDestroy method of java&#39;s Activity class, it get called whenever the Application is destroyed"},{"owner":{"account_id":15410515,"reputation":33,"user_id":11117353,"display_name":"Michael"},"score":0,"creation_date":1680128123,"post_id":75882434,"comment_id":133847265,"body_markdown":"To reproduce just create an empty libgdx project and override the dispose method in the generic ApplicationAdapter class that was created, then terminate it via Android&#39;s Application Overview screen, and if you use a debugger or a print or log command in the dispose method you&#39;ll see that the dispose method is never called","body":"To reproduce just create an empty libgdx project and override the dispose method in the generic ApplicationAdapter class that was created, then terminate it via Android&#39;s Application Overview screen, and if you use a debugger or a print or log command in the dispose method you&#39;ll see that the dispose method is never called"},{"owner":{"account_id":15410515,"reputation":33,"user_id":11117353,"display_name":"Michael"},"score":0,"creation_date":1680129338,"post_id":75882434,"comment_id":133847442,"body_markdown":"I added the sample code to reproduce","body":"I added the sample code to reproduce"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1680191123,"post_id":75882434,"comment_id":133859828,"body_markdown":"There is no possible way to do something that&#39;s guaranteed to happen every time the app is closed. Android can close your app suddenly without warning and no functions called. When a user swipes an app out of the task switcher, that is the behavior they should expect--to *immediately* halt the app from being able to do anything.  If there is file resource clean-up to do, you can do it in `create()` so it happens the next time the app is opened. But there is no way to guarantee you can send some timely server message.","body":"There is no possible way to do something that&#39;s guaranteed to happen every time the app is closed. Android can close your app suddenly without warning and no functions called. When a user swipes an app out of the task switcher, that is the behavior they should expect--to <i>immediately</i> halt the app from being able to do anything.  If there is file resource clean-up to do, you can do it in <code>create()</code> so it happens the next time the app is opened. But there is no way to guarantee you can send some timely server message."},{"owner":{"account_id":15410515,"reputation":33,"user_id":11117353,"display_name":"Michael"},"score":0,"creation_date":1680192801,"post_id":75882434,"comment_id":133860337,"body_markdown":"Well I was looking into it last night and it looks like I would be able to do it by using a service, or by using the ViewModel class&#39; onCleared method, I would prefer to use the ViewModel class but it doesn&#39;t seem to be an option for me because the ViewModel library depends on some Kotlin libraries, and I&#39;m using AIDE which doesn&#39;t support Kotlin, so I&#39;m going to try and do it using a service instead. I wish I didn&#39;t have to use Aide, but I work all day every day, however I get a lot of time where I have nothing to do, but I can&#39;t go around carrying a laptop, and I don&#39;t have one anyway :/","body":"Well I was looking into it last night and it looks like I would be able to do it by using a service, or by using the ViewModel class&#39; onCleared method, I would prefer to use the ViewModel class but it doesn&#39;t seem to be an option for me because the ViewModel library depends on some Kotlin libraries, and I&#39;m using AIDE which doesn&#39;t support Kotlin, so I&#39;m going to try and do it using a service instead. I wish I didn&#39;t have to use Aide, but I work all day every day, however I get a lot of time where I have nothing to do, but I can&#39;t go around carrying a laptop, and I don&#39;t have one anyway :/"},{"owner":{"account_id":15410515,"reputation":33,"user_id":11117353,"display_name":"Michael"},"score":0,"creation_date":1680193142,"post_id":75882434,"comment_id":133860412,"body_markdown":"My other option is trying to see how ViewModel works and reproduce it using my own custom class&#39; that mimic it but without using any Kotlin","body":"My other option is trying to see how ViewModel works and reproduce it using my own custom class&#39; that mimic it but without using any Kotlin"},{"owner":{"account_id":15410515,"reputation":33,"user_id":11117353,"display_name":"Michael"},"score":0,"creation_date":1680193805,"post_id":75882434,"comment_id":133860582,"body_markdown":"Or see which class or classes in the ViewModel library are depending on Kotlin, and if I&#39;m not using those classes, and they&#39;re not being used by the classes I&#39;m using, then just removing them from the jar file to make a custom library","body":"Or see which class or classes in the ViewModel library are depending on Kotlin, and if I&#39;m not using those classes, and they&#39;re not being used by the classes I&#39;m using, then just removing them from the jar file to make a custom library"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1680293024,"post_id":75882434,"comment_id":133879871,"body_markdown":"I don&#39;t know anything about AIDE, but I wouldn&#39;t expect it to matter to use ViewModel, since Kotlin is a transitive dependency. You wouldn&#39;t actually be working with any `.kt` source code. But it doesn&#39;t matter anyway. ViewModel.onCleared is not guaranteed to be called either when an app is destroyed by the OS. I&#39;m really curious where you heard that a service can have an opportunity to run some code when your app is being destroyed by the OS, because I don&#39;t think that&#39;s true.","body":"I don&#39;t know anything about AIDE, but I wouldn&#39;t expect it to matter to use ViewModel, since Kotlin is a transitive dependency. You wouldn&#39;t actually be working with any <code>.kt</code> source code. But it doesn&#39;t matter anyway. ViewModel.onCleared is not guaranteed to be called either when an app is destroyed by the OS. I&#39;m really curious where you heard that a service can have an opportunity to run some code when your app is being destroyed by the OS, because I don&#39;t think that&#39;s true."},{"owner":{"account_id":15410515,"reputation":33,"user_id":11117353,"display_name":"Michael"},"score":0,"creation_date":1680319912,"post_id":75882434,"comment_id":133882824,"body_markdown":"I looked into the classes in viewmodel and a lot of them are written mostly in kotlin, I had to go way back to much older versions, I think like 1.2, to find ones that weren&#39;t, but they indeed did not call onCleared, Idk if it never worked, or if it&#39;s because the older methods don&#39;t work on newer androids anymore, and the newer versions of viewmodel that use kotlin would work, idk. And as far as the services, apparently they used to be able to but arent anymore since Android started putting limitations on background services several years ago, so that&#39;s not an option either anymore","body":"I looked into the classes in viewmodel and a lot of them are written mostly in kotlin, I had to go way back to much older versions, I think like 1.2, to find ones that weren&#39;t, but they indeed did not call onCleared, Idk if it never worked, or if it&#39;s because the older methods don&#39;t work on newer androids anymore, and the newer versions of viewmodel that use kotlin would work, idk. And as far as the services, apparently they used to be able to but arent anymore since Android started putting limitations on background services several years ago, so that&#39;s not an option either anymore"},{"owner":{"account_id":15410515,"reputation":33,"user_id":11117353,"display_name":"Michael"},"score":0,"creation_date":1680319955,"post_id":75882434,"comment_id":133882825,"body_markdown":"I&#39;d be interested to know if the newer versions of viewmodel that use kotlin are able to, but doubt it","body":"I&#39;d be interested to know if the newer versions of viewmodel that use kotlin are able to, but doubt it"},{"owner":{"account_id":15410515,"reputation":33,"user_id":11117353,"display_name":"Michael"},"score":0,"creation_date":1680319976,"post_id":75882434,"comment_id":133882828,"body_markdown":"Especially going by what you say","body":"Especially going by what you say"},{"owner":{"account_id":15410515,"reputation":33,"user_id":11117353,"display_name":"Michael"},"score":0,"creation_date":1680320610,"post_id":75882434,"comment_id":133882872,"body_markdown":"And it was actually viewmodel 1.1.1 that I was able to get to work without kotlin","body":"And it was actually viewmodel 1.1.1 that I was able to get to work without kotlin"},{"owner":{"account_id":15410515,"reputation":33,"user_id":11117353,"display_name":"Michael"},"score":0,"creation_date":1680321577,"post_id":75882434,"comment_id":133882946,"body_markdown":"And here&#39;s a link where they were talking about services and viewmodel, there was another one I think but I can&#39;t find it: https://stackoverflow.com/questions/19568315/how-to-handle-running-service-when-app-is-killed-by-swiping-in-android","body":"And here&#39;s a link where they were talking about services and viewmodel, there was another one I think but I can&#39;t find it: <a href=\"https://stackoverflow.com/questions/19568315/how-to-handle-running-service-when-app-is-killed-by-swiping-in-android\" title=\"how to handle running service when app is killed by swiping in android\">stackoverflow.com/questions/19568315/&hellip;</a>"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1680490570,"post_id":75882434,"comment_id":133902020,"body_markdown":"There&#39;s nothing magic about ViewModel. It&#39;s just part of a library and therefore can&#39;t change any of the rules or behavior set forth by the OS. There&#39;s no way to get the OS to always allow your app to run some more code when it&#39;s being forced closed. ViewModel cannot and could never achieve that. Kotlin is just a language that also compiles JVM code. It can&#39;t achieve anything that can&#39;t be done in Java.","body":"There&#39;s nothing magic about ViewModel. It&#39;s just part of a library and therefore can&#39;t change any of the rules or behavior set forth by the OS. There&#39;s no way to get the OS to always allow your app to run some more code when it&#39;s being forced closed. ViewModel cannot and could never achieve that. Kotlin is just a language that also compiles JVM code. It can&#39;t achieve anything that can&#39;t be done in Java."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1680491174,"post_id":75882434,"comment_id":133902071,"body_markdown":"I think I was mistaken however about what happens when a user swipes your app out of the task switcher. Apparently that does not terminate your application immediately, but only kills the task (activity stack), and your application is still alive in memory. So there is hope in that case that something can be done. Maybe ViewModel can get a callback in that case. But you definitely cannot handle the case where the user stops your app in the Android settings or when the OS kills your app to reclaim memory.","body":"I think I was mistaken however about what happens when a user swipes your app out of the task switcher. Apparently that does not terminate your application immediately, but only kills the task (activity stack), and your application is still alive in memory. So there is hope in that case that something can be done. Maybe ViewModel can get a callback in that case. But you definitely cannot handle the case where the user stops your app in the Android settings or when the OS kills your app to reclaim memory."},{"owner":{"account_id":15410515,"reputation":33,"user_id":11117353,"display_name":"Michael"},"score":0,"creation_date":1680540813,"post_id":75882434,"comment_id":133912292,"body_markdown":"That&#39;s fine, I mostly wanted it for when the user swipe kills it","body":"That&#39;s fine, I mostly wanted it for when the user swipe kills it"}],"owner":{"account_id":15410515,"reputation":33,"user_id":11117353,"display_name":"Michael"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680128399,"creation_date":1680126380,"question_id":75882434,"body_markdown":"I&#39;m working on a multiplayer game using libgdx. I want to handle sending some log out info to the server before the connection is closed. From what I&#39;ve read Libgdx&#39;s ApplicationAdapter class&#39; dispose() method is not always called when the app is closed, for instance if its closed while its paused. I&#39;ve read other people suggest to others, who just want to dispose assets, that they should put it into the pause method, but in my situation I don&#39;t want it called when it&#39;s just paused, for instance if I just push the home screen or move to another app. I only want it to be called when I&#39;m actually closing the app, such as if I were to go to the android application overview screen by pressing the bottom right button, to see all the apps running, and swiping up on my game to remove it and terminate it, or if the game crashes. Where can I put it so that it is called everytime the app terminates, but only if it terminates, not if its just paused or in the background.\r\nTo reproduce I provided a generic libgdx project, all I added was the Log.i command.\r\n\r\n```\r\npackage com.mycompany.mygame;\r\n\r\nimport com.badlogic.gdx.*;\r\nimport com.badlogic.gdx.graphics.*;\r\nimport com.badlogic.gdx.graphics.g2d.*;\r\nimport android.util.*;\r\n\r\npublic class MyGdxGame implements ApplicationListener\r\n{\r\n\tTexture texture;\r\n\tSpriteBatch batch;\r\n\r\n\t@Override\r\n\tpublic void create()\r\n\t{\r\n\t\ttexture = new Texture(Gdx.files.internal(&quot;android.jpg&quot;));\r\n\t\tbatch = new SpriteBatch();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void render()\r\n\t{        \r\n\t    Gdx.gl.glClearColor(1, 1, 1, 1);\r\n\t    Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\r\n\t\tbatch.begin();\r\n\t\tbatch.draw(texture, Gdx.graphics.getWidth() / 4, 0, \r\n\t\t\t\t   Gdx.graphics.getWidth() / 2, Gdx.graphics.getWidth() / 2);\r\n\t\tbatch.end();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void dispose()\r\n\t{\r\n\t\tLog.i(&quot;test&quot;, &quot;dispose ran&quot;);\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void resize(int width, int height)\r\n\t{\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void pause()\r\n\t{\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void resume()\r\n\t{\r\n\t}\r\n}\r\n\r\n```","title":"ApplicationAdapter&#39;s dispose() method not being called when app destroyed","body":"<p>I'm working on a multiplayer game using libgdx. I want to handle sending some log out info to the server before the connection is closed. From what I've read Libgdx's ApplicationAdapter class' dispose() method is not always called when the app is closed, for instance if its closed while its paused. I've read other people suggest to others, who just want to dispose assets, that they should put it into the pause method, but in my situation I don't want it called when it's just paused, for instance if I just push the home screen or move to another app. I only want it to be called when I'm actually closing the app, such as if I were to go to the android application overview screen by pressing the bottom right button, to see all the apps running, and swiping up on my game to remove it and terminate it, or if the game crashes. Where can I put it so that it is called everytime the app terminates, but only if it terminates, not if its just paused or in the background.\nTo reproduce I provided a generic libgdx project, all I added was the Log.i command.</p>\n<pre><code>package com.mycompany.mygame;\n\nimport com.badlogic.gdx.*;\nimport com.badlogic.gdx.graphics.*;\nimport com.badlogic.gdx.graphics.g2d.*;\nimport android.util.*;\n\npublic class MyGdxGame implements ApplicationListener\n{\n    Texture texture;\n    SpriteBatch batch;\n\n    @Override\n    public void create()\n    {\n        texture = new Texture(Gdx.files.internal(&quot;android.jpg&quot;));\n        batch = new SpriteBatch();\n    }\n\n    @Override\n    public void render()\n    {        \n        Gdx.gl.glClearColor(1, 1, 1, 1);\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\n        batch.begin();\n        batch.draw(texture, Gdx.graphics.getWidth() / 4, 0, \n                   Gdx.graphics.getWidth() / 2, Gdx.graphics.getWidth() / 2);\n        batch.end();\n    }\n\n    @Override\n    public void dispose()\n    {\n        Log.i(&quot;test&quot;, &quot;dispose ran&quot;);\n        \n    }\n\n    @Override\n    public void resize(int width, int height)\n    {\n    }\n\n    @Override\n    public void pause()\n    {\n    }\n\n    @Override\n    public void resume()\n    {\n    }\n}\n\n</code></pre>\n"},{"tags":["java","generics","interface","overriding"],"comments":[{"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"score":0,"creation_date":1680123679,"post_id":75882095,"comment_id":133846412,"body_markdown":"Please include the relevant parts of the definition of the interface: the declaration line with any type parameters plus the method signature of `dequeue`.  Also please include the declaration line of the implementing class.  I&#39;d like to see how all the type parameters are declared and used, on the class and on the methods, as well as how they&#39;re being inherited, if at all.","body":"Please include the relevant parts of the definition of the interface: the declaration line with any type parameters plus the method signature of <code>dequeue</code>.  Also please include the declaration line of the implementing class.  I&#39;d like to see how all the type parameters are declared and used, on the class and on the methods, as well as how they&#39;re being inherited, if at all."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1680123759,"post_id":75882095,"comment_id":133846435,"body_markdown":"It looks like the `dequeue` in the interface is supposed to use the generic type parameter of the class, not of the method.","body":"It looks like the <code>dequeue</code> in the interface is supposed to use the generic type parameter of the class, not of the method."},{"owner":{"account_id":17544887,"reputation":15,"user_id":12726383,"display_name":"Bryce Wellman"},"score":0,"creation_date":1680125055,"post_id":75882095,"comment_id":133846739,"body_markdown":"@user16320675 that was the issue, I was unaware that it worked like that, thank you so much. Feel free to post that as an answer so you can get credit.","body":"@user16320675 that was the issue, I was unaware that it worked like that, thank you so much. Feel free to post that as an answer so you can get credit."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1680125224,"post_id":75882095,"comment_id":133846766,"body_markdown":"it is actually @khelwood&#39;s comment - I just *concretized* it","body":"it is actually @khelwood&#39;s comment - I just <i>concretized</i> it"}],"answers":[{"tags":[],"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680127559,"creation_date":1680127559,"answer_id":75882551,"question_id":75882095,"body_markdown":"It looks like the `dequeue` specified in the interface is supposed to use the generic type parameter of the class, not of the method.\r\n\r\nSo if the class declaration looks something like this:\r\n\r\n    public class BaseLinkedUrgencyList&lt;Type&gt; implements UrgencyQueue&lt;Type&gt;\r\n\r\nthen the method implementation should be like this:\r\n\r\n    @Override\r\n    public void dequeue(Consumer&lt;Type&gt; action)","title":"How to override an interface that uses a generic method?","body":"<p>It looks like the <code>dequeue</code> specified in the interface is supposed to use the generic type parameter of the class, not of the method.</p>\n<p>So if the class declaration looks something like this:</p>\n<pre><code>public class BaseLinkedUrgencyList&lt;Type&gt; implements UrgencyQueue&lt;Type&gt;\n</code></pre>\n<p>then the method implementation should be like this:</p>\n<pre><code>@Override\npublic void dequeue(Consumer&lt;Type&gt; action)\n</code></pre>\n"}],"owner":{"account_id":17544887,"reputation":15,"user_id":12726383,"display_name":"Bryce Wellman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":75882551,"answer_count":1,"score":-3,"last_activity_date":1680127559,"creation_date":1680123443,"question_id":75882095,"body_markdown":"I do not have access to the interface&#39;s code; I just know there is a method named `dequeue()` to be overridden in the abstract class which implements it.\r\n\r\nThe name of the interface is `UrgencyQueue`, and the abstract class is `BaseLinkedUrgencyList`.\r\n\r\nbelow is all the info i have on the interface, a UML pic and javadoc \r\n\r\n[![enter image description here][1]][1][![enter image description here][2]][2]\r\n\r\nBelow is my attempt to override said method:\r\n\r\n```\r\npublic &lt;Type&gt; void dequeue(Consumer&lt;Type&gt; action) {\r\n    throw new UnsupportedOperationException(&quot;Method: not implemented.&quot;);\r\n}\r\n```\r\nThe declaration of the class includes `implements &#39;&#39;interface&#39;&#39;`.\r\n\r\n\r\nThe error produced is:\r\n```none\r\nerror: name clash: dequeue(Consumer&lt;Type#1&gt;) in BaseLinkedUrgencyQueue and dequeue(Consumer&lt;Type#2&gt;) in UrgencyQueue have the same erasure, yet neither overrides the other\r\n    public &lt;Type&gt; void dequeue(Consumer&lt;Type&gt; action) {\r\n                       ^\r\n  where Type#1,Type#2 are type-variables:\r\n    Type#1 extends Object declared in method &lt;Type#1&gt;dequeue(Consumer&lt;Type#1&gt;)\r\n    Type#2 extends Object declared in class BaseLinkedUrgencyQueue\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oLEIi.png\r\n  [2]: https://i.stack.imgur.com/kKtV4.png","title":"How to override an interface that uses a generic method?","body":"<p>I do not have access to the interface's code; I just know there is a method named <code>dequeue()</code> to be overridden in the abstract class which implements it.</p>\n<p>The name of the interface is <code>UrgencyQueue</code>, and the abstract class is <code>BaseLinkedUrgencyList</code>.</p>\n<p>below is all the info i have on the interface, a UML pic and javadoc</p>\n<p><a href=\"https://i.stack.imgur.com/oLEIi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oLEIi.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/kKtV4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kKtV4.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is my attempt to override said method:</p>\n<pre><code>public &lt;Type&gt; void dequeue(Consumer&lt;Type&gt; action) {\n    throw new UnsupportedOperationException(&quot;Method: not implemented.&quot;);\n}\n</code></pre>\n<p>The declaration of the class includes <code>implements ''interface''</code>.</p>\n<p>The error produced is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>error: name clash: dequeue(Consumer&lt;Type#1&gt;) in BaseLinkedUrgencyQueue and dequeue(Consumer&lt;Type#2&gt;) in UrgencyQueue have the same erasure, yet neither overrides the other\n    public &lt;Type&gt; void dequeue(Consumer&lt;Type&gt; action) {\n                       ^\n  where Type#1,Type#2 are type-variables:\n    Type#1 extends Object declared in method &lt;Type#1&gt;dequeue(Consumer&lt;Type#1&gt;)\n    Type#2 extends Object declared in class BaseLinkedUrgencyQueue\n</code></pre>\n"},{"tags":["java","android","xml","android-studio","fonts"],"answers":[{"tags":[],"owner":{"account_id":26664900,"reputation":316,"user_id":20277138,"display_name":"Ali Hamed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680127375,"creation_date":1680042739,"answer_id":75871605,"question_id":75871433,"body_markdown":"Go to the `styles.xml` and add this code:\r\n\r\n    &lt;resources&gt;\r\n    &lt;style name=&quot;CustomActionBar&quot; parent=&quot;@style/Widget.AppCompat.ActionBar&quot;&gt;\r\n        &lt;item name=&quot;android:layout_gravity&quot;&gt;center&lt;/item&gt;\r\n        &lt;item name=&quot;android:titleTextStyle&quot;&gt;@style/CustomActionBarTitleText&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;CustomActionBarTitleText&quot; parent=&quot;@style/TextAppearance.AppCompat.Widget.ActionBar.Title&quot;&gt;\r\n        &lt;item name=&quot;android:textSize&quot;&gt;20sp&lt;/item&gt;\r\n        &lt;item name=&quot;android:textStyle&quot;&gt;bold&lt;/item&gt;\r\n        &lt;item name=&quot;android:typeface&quot;&gt;monospace&lt;/item&gt;\r\n    &lt;/style&gt;\r\n    &lt;/resources&gt;\r\n\r\nand then when you do that go to the `AndroidManifest.xml` and add this code: \r\n\r\n    android:theme=&quot;@style/CustomActionBar&quot;\r\n\r\nFinally in your java file add this:\r\n\r\n    getSupportActionBar().setTitle(R.string.app_name);\r\n\r\nI hope this helps you and answer your question. Please let me know if you have any problem.\r\n\r\n&gt; By the way if styles.xml does not exist by default you have to create\r\n&gt; it.\r\n\r\n","title":"How do I change the font style, font size and placement of app name in the actionbar of my app in android studio?","body":"<p>Go to the <code>styles.xml</code> and add this code:</p>\n<pre><code>&lt;resources&gt;\n&lt;style name=&quot;CustomActionBar&quot; parent=&quot;@style/Widget.AppCompat.ActionBar&quot;&gt;\n    &lt;item name=&quot;android:layout_gravity&quot;&gt;center&lt;/item&gt;\n    &lt;item name=&quot;android:titleTextStyle&quot;&gt;@style/CustomActionBarTitleText&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;CustomActionBarTitleText&quot; parent=&quot;@style/TextAppearance.AppCompat.Widget.ActionBar.Title&quot;&gt;\n    &lt;item name=&quot;android:textSize&quot;&gt;20sp&lt;/item&gt;\n    &lt;item name=&quot;android:textStyle&quot;&gt;bold&lt;/item&gt;\n    &lt;item name=&quot;android:typeface&quot;&gt;monospace&lt;/item&gt;\n&lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>and then when you do that go to the <code>AndroidManifest.xml</code> and add this code:</p>\n<pre><code>android:theme=&quot;@style/CustomActionBar&quot;\n</code></pre>\n<p>Finally in your java file add this:</p>\n<pre><code>getSupportActionBar().setTitle(R.string.app_name);\n</code></pre>\n<p>I hope this helps you and answer your question. Please let me know if you have any problem.</p>\n<blockquote>\n<p>By the way if styles.xml does not exist by default you have to create\nit.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":26159041,"reputation":1,"user_id":19845888,"display_name":"muskan r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680085762,"creation_date":1680085762,"answer_id":75876030,"question_id":75871433,"body_markdown":"The more efficient way would be to remove the default status bar from your theme and create a custom toolbar. This way, you will create a toolbar according to your design.\r\n\r\nIn themes.xml\r\n\r\nchange this-  \r\n\r\n    &lt;style name=&quot;Theme.MatricApp&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n\r\nto this-   \r\n\r\n    &lt;style name=&quot;Theme.MatricApp&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\r\n\r\nThen in your XML layout design your own toolbar.","title":"How do I change the font style, font size and placement of app name in the actionbar of my app in android studio?","body":"<p>The more efficient way would be to remove the default status bar from your theme and create a custom toolbar. This way, you will create a toolbar according to your design.</p>\n<p>In themes.xml</p>\n<p>change this-</p>\n<pre><code>&lt;style name=&quot;Theme.MatricApp&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n</code></pre>\n<p>to this-</p>\n<pre><code>&lt;style name=&quot;Theme.MatricApp&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\n</code></pre>\n<p>Then in your XML layout design your own toolbar.</p>\n"}],"owner":{"account_id":27471919,"reputation":47,"user_id":20960654,"display_name":"Marfog509"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680127375,"creation_date":1680040908,"question_id":75871433,"body_markdown":"I want to change the font style, font size and positioning of the app name in my action bar to more to the centre, in android studio. I can&#39;t find anything when looking up how to do this on the internet. Does anyone know how this is done? My app name is located in my String.xml file. This is currently the only line of code in this file:\r\n\r\n        &lt;resources&gt;\r\n        &lt;string name=&quot;app_name&quot;&gt;TestApp&lt;/string&gt;\r\n    &lt;/resources&gt;\r\n\r\nIn which file in my app do I add the code to change these characteristics regarding the app name in the actionbar at the top of the page and what is that code I need?","title":"How do I change the font style, font size and placement of app name in the actionbar of my app in android studio?","body":"<p>I want to change the font style, font size and positioning of the app name in my action bar to more to the centre, in android studio. I can't find anything when looking up how to do this on the internet. Does anyone know how this is done? My app name is located in my String.xml file. This is currently the only line of code in this file:</p>\n<pre><code>    &lt;resources&gt;\n    &lt;string name=&quot;app_name&quot;&gt;TestApp&lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>In which file in my app do I add the code to change these characteristics regarding the app name in the actionbar at the top of the page and what is that code I need?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-cache"],"comments":[{"owner":{"account_id":7160062,"reputation":4423,"user_id":5471104,"accept_rate":64,"display_name":"Mohammed Atif"},"score":0,"creation_date":1679676873,"post_id":75835121,"comment_id":133769719,"body_markdown":"Don&#39;t provide any key. It will automatically create a composite key. Bdw, this is not an efficient way to handle cache with Pagination.","body":"Don&#39;t provide any key. It will automatically create a composite key. Bdw, this is not an efficient way to handle cache with Pagination."}],"answers":[{"tags":[],"owner":{"account_id":4133097,"reputation":7506,"user_id":3390417,"display_name":"John Blum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680126284,"creation_date":1680125971,"answer_id":75882394,"question_id":75835121,"body_markdown":"Your question here is somewhat ambiguous, at least to me.\r\n\r\nYou said, &quot;*I am trying to cache Pageable in Spring Boot...*&quot;\r\n\r\nAnd then go onto show the code snippet with an `@Cacheable` method signature:\r\n\r\n```java\r\n@Cacheable(value = &quot;marketData&quot; key=?)\r\npublic Page&lt;StockMarkets&gt;  findAllMarket(Pageable pageable){\r\n    return marketDao.findAll(pageable);\r\n}\r\n```\r\n\r\nWith the `key` attribute of the `@Cacheable` annotation declared on your `findAllMarket(..)` service method set to `?`, I assume you are not sure what the value of this `key` attribute should be?\r\n\r\nWell, first of all, and technically, you do not even need to set the `key` attribute since Spring Framework&#39;s caching infrastructure will, by DEFAULT, &quot;derive&quot; a key from the `@Cacheable` method signature (i.e. `findAllMarket(:Pageable)`), using the arguments passed to the method parameters of the `@Cacheable` method (again, `findAllMarket(:Pageable)`), and in this case, that means the `Pageable` (request) object.\r\n\r\n&gt; TIP: See Spring Framework&#39;s Cache Abstraction documentation on &quot;[Default key Generation][1]&quot;, for more details.\r\n\r\n&gt; TIP: You can also &quot;customize&quot; the key generation as well, see [here][2].\r\n\r\nSo, Spring&#39;s caching infrastructure will use the `Pageable` parameter argument as the &quot;key&quot; in the cache entry, mapped to the `Page&lt;StockMarkets&gt;` object (that will be the cache entry value) returned by the method.\r\n\r\nSo, the outcome of the `findAllMarket(:Pageable)` method call will result in a cache entry stored in your &quot;*marketData*&quot; cache similar to:\r\n\r\n`marketData` cache\r\n```text\r\nKEY           | VALUE\r\n--------------|------------------------\r\nPageable@1234 | Page&lt;StockMarkets&gt;@9876\r\n```\r\n\r\nThis will be `true` for every `Pageable` (request) object passed to the `@Cacheable` `findAllMarket(..)` service method, unless the `Pageable` object is logically and semantically &quot;*equal*&quot;, then the &quot;cached&quot; entry (i.e. `Page&lt;StockMarkets&gt;`) will be returned.\r\n\r\nFortunately, Spring Data&#39;s `Pageable` interface implementations (e.g. `PageRequest`; see [Javadoc][3]) do override the Object `equals` and `hashCode` methods, so they are acceptable for use as &quot;cache keys&quot;.\r\n\r\nKeep in mind that any object used as a cache key should most definitely override the `java.lang.Object`, `equals(:Object)` and `hashCode()` methods, always. Caches are just glorified `Map` (data structures) after all.\r\n\r\nHope this makes sense.\r\n\r\nGood luck!\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-annotations-cacheable-default-key\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-annotations-cacheable-key\r\n  [3]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/PageRequest.html","title":"How to Cache Pageable in Spring Boot?","body":"<p>Your question here is somewhat ambiguous, at least to me.</p>\n<p>You said, &quot;<em>I am trying to cache Pageable in Spring Boot...</em>&quot;</p>\n<p>And then go onto show the code snippet with an <code>@Cacheable</code> method signature:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Cacheable(value = &quot;marketData&quot; key=?)\npublic Page&lt;StockMarkets&gt;  findAllMarket(Pageable pageable){\n    return marketDao.findAll(pageable);\n}\n</code></pre>\n<p>With the <code>key</code> attribute of the <code>@Cacheable</code> annotation declared on your <code>findAllMarket(..)</code> service method set to <code>?</code>, I assume you are not sure what the value of this <code>key</code> attribute should be?</p>\n<p>Well, first of all, and technically, you do not even need to set the <code>key</code> attribute since Spring Framework's caching infrastructure will, by DEFAULT, &quot;derive&quot; a key from the <code>@Cacheable</code> method signature (i.e. <code>findAllMarket(:Pageable)</code>), using the arguments passed to the method parameters of the <code>@Cacheable</code> method (again, <code>findAllMarket(:Pageable)</code>), and in this case, that means the <code>Pageable</code> (request) object.</p>\n<blockquote>\n<p>TIP: See Spring Framework's Cache Abstraction documentation on &quot;<a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-annotations-cacheable-default-key\" rel=\"nofollow noreferrer\">Default key Generation</a>&quot;, for more details.</p>\n</blockquote>\n<blockquote>\n<p>TIP: You can also &quot;customize&quot; the key generation as well, see <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache-annotations-cacheable-key\" rel=\"nofollow noreferrer\">here</a>.</p>\n</blockquote>\n<p>So, Spring's caching infrastructure will use the <code>Pageable</code> parameter argument as the &quot;key&quot; in the cache entry, mapped to the <code>Page&lt;StockMarkets&gt;</code> object (that will be the cache entry value) returned by the method.</p>\n<p>So, the outcome of the <code>findAllMarket(:Pageable)</code> method call will result in a cache entry stored in your &quot;<em>marketData</em>&quot; cache similar to:</p>\n<p><code>marketData</code> cache</p>\n<pre><code>KEY           | VALUE\n--------------|------------------------\nPageable@1234 | Page&lt;StockMarkets&gt;@9876\n</code></pre>\n<p>This will be <code>true</code> for every <code>Pageable</code> (request) object passed to the <code>@Cacheable</code> <code>findAllMarket(..)</code> service method, unless the <code>Pageable</code> object is logically and semantically &quot;<em>equal</em>&quot;, then the &quot;cached&quot; entry (i.e. <code>Page&lt;StockMarkets&gt;</code>) will be returned.</p>\n<p>Fortunately, Spring Data's <code>Pageable</code> interface implementations (e.g. <code>PageRequest</code>; see <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/PageRequest.html\" rel=\"nofollow noreferrer\">Javadoc</a>) do override the Object <code>equals</code> and <code>hashCode</code> methods, so they are acceptable for use as &quot;cache keys&quot;.</p>\n<p>Keep in mind that any object used as a cache key should most definitely override the <code>java.lang.Object</code>, <code>equals(:Object)</code> and <code>hashCode()</code> methods, always. Caches are just glorified <code>Map</code> (data structures) after all.</p>\n<p>Hope this makes sense.</p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":3737094,"reputation":544,"user_id":3107804,"accept_rate":62,"display_name":"Pratyush Pranjal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75882394,"answer_count":1,"score":0,"last_activity_date":1680126554,"creation_date":1679669404,"question_id":75835121,"body_markdown":"I am trying to cache `Pageable` in Spring Boot. How do I handle caching for each page passed in pageable object?\r\n\r\n\r\n\r\n    @Service\r\n    public class MarketServiceImpl implements MarketService {\r\n\r\n\t@Autowired\r\n\tMarketDao marketDao;\r\n\r\n    @Cacheable(value = &quot;marketData&quot; key=?)\r\n\tpublic Page&lt;StockMarkets&gt;  findAllMarket(Pageable pageable){\r\n\t\treturn marketDao.findAll(pageable);\r\n\t }\r\n    }\r\n","title":"How to Cache Pageable in Spring Boot?","body":"<p>I am trying to cache <code>Pageable</code> in Spring Boot. How do I handle caching for each page passed in pageable object?</p>\n<pre><code>@Service\npublic class MarketServiceImpl implements MarketService {\n\n@Autowired\nMarketDao marketDao;\n\n@Cacheable(value = &quot;marketData&quot; key=?)\npublic Page&lt;StockMarkets&gt;  findAllMarket(Pageable pageable){\n    return marketDao.findAll(pageable);\n }\n}\n</code></pre>\n"},{"tags":["java","loops","goto"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1680114447,"post_id":75880701,"comment_id":133844243,"body_markdown":"Your original C++ code is not valid.","body":"Your original C++ code is not valid."},{"owner":{"account_id":6406718,"reputation":97,"user_id":4967673,"accept_rate":80,"display_name":"Scra"},"score":0,"creation_date":1680114732,"post_id":75880701,"comment_id":133844322,"body_markdown":"Why is it not valid?","body":"Why is it not valid?"},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1680115038,"post_id":75880701,"comment_id":133844408,"body_markdown":"Try compiling it.","body":"Try compiling it."},{"owner":{"account_id":6406718,"reputation":97,"user_id":4967673,"accept_rate":80,"display_name":"Scra"},"score":0,"creation_date":1680115099,"post_id":75880701,"comment_id":133844428,"body_markdown":"I have the implementation in c++ working perfectly fine!","body":"I have the implementation in c++ working perfectly fine!"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":5,"creation_date":1680119805,"post_id":75880701,"comment_id":133845602,"body_markdown":"Try compiling *the code you&#39;ve posted*.","body":"Try compiling <i>the code you&#39;ve posted</i>."},{"owner":{"account_id":6406718,"reputation":97,"user_id":4967673,"accept_rate":80,"display_name":"Scra"},"score":0,"creation_date":1680121367,"post_id":75880701,"comment_id":133845930,"body_markdown":"corrected the above code.","body":"corrected the above code."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680124757,"creation_date":1680124381,"answer_id":75882223,"question_id":75880701,"body_markdown":"I can only answer the first part of your question. From the [Java 17 Language Specification, Chapter 14.7 Labeled Statements](https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.7):\r\n\r\n&gt; Unlike C and C++, the Java programming language has no goto statement; identifier statement labels are used with break or continue statements (&#167;14.15, &#167;14.16) appearing anywhere within the labeled statement.\r\n\r\nBut `goto` is a reserved keyword according to the [Chapter 3.9 Keywords](https://docs.oracle.com/javase/specs/jls/se17/html/jls-3.html#jls-3.9) from the same document:\r\n\r\n&gt; *The keywords `const` and `goto` are reserved, even though they are not currently used.*\r\n\r\nFor the second part: I can&#39;t tell you if this is the &quot;correct&quot; translation of a C++ goto into Java, since I would try to avoid labeled statements. In your example you could have written\r\n\r\n``` lang-java\r\nboolean w = true;\r\nwhile (w) {\r\n    boolean wInner = true;\r\n    w = condition1;\r\n    while (w &amp;&amp; wInner) {\r\n        wInner = condition2;\r\n        if (wInner) {\r\n            //code\r\n        } else {\r\n            //code\r\n        }\r\n        w = condition1;\r\n    }\r\n    if (w) {\r\n        if (condition3) {\r\n            //code\r\n        } else {\r\n            // code block 3\r\n        }\r\n    }\r\n}\r\nreturn false;\r\n```\r\nI suppose that `condition1`, `condition2` and `condition3` could change their values within the loops, otherwise an even simpler solution should be possible.","title":"Various goto implementations in Java","body":"<p>I can only answer the first part of your question. From the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.7\" rel=\"nofollow noreferrer\">Java 17 Language Specification, Chapter 14.7 Labeled Statements</a>:</p>\n<blockquote>\n<p>Unlike C and C++, the Java programming language has no goto statement; identifier statement labels are used with break or continue statements (14.15, 14.16) appearing anywhere within the labeled statement.</p>\n</blockquote>\n<p>But <code>goto</code> is a reserved keyword according to the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-3.html#jls-3.9\" rel=\"nofollow noreferrer\">Chapter 3.9 Keywords</a> from the same document:</p>\n<blockquote>\n<p><em>The keywords <code>const</code> and <code>goto</code> are reserved, even though they are not currently used.</em></p>\n</blockquote>\n<p>For the second part: I can't tell you if this is the &quot;correct&quot; translation of a C++ goto into Java, since I would try to avoid labeled statements. In your example you could have written</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean w = true;\nwhile (w) {\n    boolean wInner = true;\n    w = condition1;\n    while (w &amp;&amp; wInner) {\n        wInner = condition2;\n        if (wInner) {\n            //code\n        } else {\n            //code\n        }\n        w = condition1;\n    }\n    if (w) {\n        if (condition3) {\n            //code\n        } else {\n            // code block 3\n        }\n    }\n}\nreturn false;\n</code></pre>\n<p>I suppose that <code>condition1</code>, <code>condition2</code> and <code>condition3</code> could change their values within the loops, otherwise an even simpler solution should be possible.</p>\n"}],"owner":{"account_id":6406718,"reputation":97,"user_id":4967673,"accept_rate":80,"display_name":"Scra"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680124757,"creation_date":1680113320,"question_id":75880701,"body_markdown":"I have a code in c++ with goto statement and would like to know if my Java implementation is correct. Please suggest if there is any other efficient way to get this implemented in JAVA code. \r\n\r\nHere is the C++ code with goto statement: \r\n\r\n```\r\nbool func( T&amp; d)\r\n{\r\n        retry:\r\n        while(condition1)\r\n        {\r\n\r\n                if(condition2)\r\n                {\r\n                        //code\r\n                }\r\n                else\r\n                {\r\n                        w=true;\r\n                        break;\r\n\r\n                }\r\n        }\r\n        if(w)\r\n        {\r\n                if(condition3)\r\n                {\r\n                        w=false;\r\n                        //code\r\n                        goto retry;\r\n                }\r\n                else\r\n                {\r\n                        //code\r\n                }\r\n        }\r\n        else\r\n        {\r\n                return false;\r\n        }\r\n}\r\n```\r\n\r\n\r\n\r\nIs this goto implementation correct for JAVA? \r\n\r\n\r\nUsing a labeled while loop\r\n\r\n```\r\npublic boolean func(T d) {\r\n    boolean w = false;\r\n    int i = 0;\r\n\r\n    retry:\r\n    while (true) {\r\n        while (condition1) {\r\n            if (condition2) {\r\n                //code\r\n            } else {\r\n                    //code\r\n                    w = true;\r\n                    break;\r\n            }\r\n        }\r\n        if (w) {\r\n            if (condition3) {\r\n                w = false;\r\n                //code\r\n                continue retry;\r\n            } else {\r\n                // code block 3\r\n            }\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n\r\n````\r\n","title":"Various goto implementations in Java","body":"<p>I have a code in c++ with goto statement and would like to know if my Java implementation is correct. Please suggest if there is any other efficient way to get this implemented in JAVA code.</p>\n<p>Here is the C++ code with goto statement:</p>\n<pre><code>bool func( T&amp; d)\n{\n        retry:\n        while(condition1)\n        {\n\n                if(condition2)\n                {\n                        //code\n                }\n                else\n                {\n                        w=true;\n                        break;\n\n                }\n        }\n        if(w)\n        {\n                if(condition3)\n                {\n                        w=false;\n                        //code\n                        goto retry;\n                }\n                else\n                {\n                        //code\n                }\n        }\n        else\n        {\n                return false;\n        }\n}\n</code></pre>\n<p>Is this goto implementation correct for JAVA?</p>\n<p>Using a labeled while loop</p>\n<pre><code>public boolean func(T d) {\n    boolean w = false;\n    int i = 0;\n\n    retry:\n    while (true) {\n        while (condition1) {\n            if (condition2) {\n                //code\n            } else {\n                    //code\n                    w = true;\n                    break;\n            }\n        }\n        if (w) {\n            if (condition3) {\n                w = false;\n                //code\n                continue retry;\n            } else {\n                // code block 3\n            }\n        } else {\n            return false;\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","file","class","jar","classloader"],"comments":[{"owner":{"account_id":2039086,"reputation":3525,"user_id":1820722,"accept_rate":88,"display_name":"joey rohan"},"score":0,"creation_date":1364661227,"post_id":15720822,"comment_id":22330865,"body_markdown":"Are you using some IDE?As it will be auto displayed if you are using one.","body":"Are you using some IDE?As it will be auto displayed if you are using one."},{"owner":{"account_id":411528,"reputation":3670,"user_id":954380,"accept_rate":92,"display_name":"sticksu"},"score":0,"creation_date":1364661286,"post_id":15720822,"comment_id":22330886,"body_markdown":"I am using Eclipse, but I need to do this with code.","body":"I am using Eclipse, but I need to do this with code."},{"owner":{"account_id":2126366,"reputation":4743,"user_id":2151120,"display_name":"Aiias"},"score":0,"creation_date":1364661684,"post_id":15720822,"comment_id":22331025,"body_markdown":"@LuiggiMendoza - The potential duplicate has answers with examples as well as resources for documentation. Searching for one of those class names + example will yield several useful results.","body":"@LuiggiMendoza - The potential duplicate has answers with examples as well as resources for documentation. Searching for one of those class names + example will yield several useful results."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1364662726,"post_id":15720822,"comment_id":22331322,"body_markdown":"@Alias the possible duplicate states how to find and get a file from a jar, while the question is about getting the class names inside a jar (possibly the classes in all packages inside it). The link in ErikKaju&#39;s answer points to a possible solution using `JarInputStream` and `JarEntry` classes that I can&#39;t find in any answer of your referred link.","body":"@Alias the possible duplicate states how to find and get a file from a jar, while the question is about getting the class names inside a jar (possibly the classes in all packages inside it). The link in ErikKaju&#39;s answer points to a possible solution using <code>JarInputStream</code> and <code>JarEntry</code> classes that I can&#39;t find in any answer of your referred link."}],"answers":[{"tags":[],"owner":{"account_id":2567971,"reputation":2529,"user_id":2227507,"display_name":"Sanjeev Gupta"},"down_vote_count":1,"up_vote_count":253,"is_accepted":false,"score":252,"last_activity_date":1565895811,"creation_date":1364661544,"answer_id":15720911,"question_id":15720822,"body_markdown":"You can use Java `jar` tool. List the content of jar file in a txt file and you can see all the classes in the jar.\r\n\r\n&lt;!-- language: lang-shell --&gt;\r\n\r\n    jar tvf jarfile.jar\r\n\r\n&gt; -t  list table of contents for archive\r\n\r\n&gt; -v  generate verbose output on standard output\r\n\r\n&gt; -f  specify archive file name","title":"How to get names of classes inside a jar file?","body":"<p>You can use Java <code>jar</code> tool. List the content of jar file in a txt file and you can see all the classes in the jar.</p>\n\n<pre class=\"lang-shell prettyprint-override\"><code>jar tvf jarfile.jar\n</code></pre>\n\n<blockquote>\n  <p>-t  list table of contents for archive</p>\n  \n  <p>-v  generate verbose output on standard output</p>\n  \n  <p>-f  specify archive file name</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":169763,"reputation":7117,"user_id":2103602,"accept_rate":59,"display_name":"sigpwned"},"down_vote_count":4,"up_vote_count":83,"is_accepted":true,"score":79,"last_activity_date":1468349231,"creation_date":1364661991,"answer_id":15720973,"question_id":15720822,"body_markdown":"Unfortunately, Java doesn&#39;t provide an easy way to list classes in the &quot;native&quot; JRE. That leaves you with a couple of options: (a) for any given JAR file, you can list the entries inside that JAR file, find the `.class` files, and then determine which Java class each `.class` file represents; or (b) you can use a library that does this for you.\r\n\r\n## Option (a): Scanning JAR files manually ##\r\n\r\nIn this option, we&#39;ll fill `classNames` with the list of all Java classes contained inside a jar file at `/path/to/jar/file.jar`.\r\n\r\n    List&lt;String&gt; classNames = new ArrayList&lt;String&gt;();\r\n    ZipInputStream zip = new ZipInputStream(new FileInputStream(&quot;/path/to/jar/file.jar&quot;));\r\n    for (ZipEntry entry = zip.getNextEntry(); entry != null; entry = zip.getNextEntry()) {\r\n        if (!entry.isDirectory() &amp;&amp; entry.getName().endsWith(&quot;.class&quot;)) {\r\n            // This ZipEntry represents a class. Now, what class does it represent?\r\n            String className = entry.getName().replace(&#39;/&#39;, &#39;.&#39;); // including &quot;.class&quot;\r\n            classNames.add(className.substring(0, className.length() - &quot;.class&quot;.length()));\r\n        }\r\n    }\r\n\r\n## Option (b): Using specialized reflections libraries ##\r\n\r\n### Guava\r\n\r\n[Guava](https://github.com/google/guava) has had [`ClassPath`](https://google.github.io/guava/releases/14.0/api/docs/com/google/common/reflect/ClassPath.html) since at least 14.0, which I have used and liked. One nice thing about `ClassPath` is that it doesn&#39;t load the classes it finds, which is important when you&#39;re scanning for a large number of classes.\r\n\r\n    ClassPath cp=ClassPath.from(Thread.currentThread().getContextClassLoader());\r\n    for(ClassPath.ClassInfo info : cp.getTopLevelClassesRecurusive(&quot;my.package.name&quot;)) {\r\n        // Do stuff with classes here...\r\n    }\r\n\r\n### Reflections\r\n\r\nI haven&#39;t personally used [the Reflections library](https://github.com/ronmamo/reflections), but it seems well-liked. Some great examples are provided on the website like this quick way to load all the classes in a package provided by *any* JAR file, which may also be useful for your application.\r\n\r\n    Reflections reflections = new Reflections(&quot;my.project.prefix&quot;);\r\n\r\n    Set&lt;Class&lt;? extends SomeType&gt;&gt; subTypes = reflections.getSubTypesOf(SomeType.class);\r\n\r\n    Set&lt;Class&lt;?&gt;&gt; annotated = reflections.getTypesAnnotatedWith(SomeAnnotation.class);","title":"How to get names of classes inside a jar file?","body":"<p>Unfortunately, Java doesn't provide an easy way to list classes in the \"native\" JRE. That leaves you with a couple of options: (a) for any given JAR file, you can list the entries inside that JAR file, find the <code>.class</code> files, and then determine which Java class each <code>.class</code> file represents; or (b) you can use a library that does this for you.</p>\n\n<h2>Option (a): Scanning JAR files manually</h2>\n\n<p>In this option, we'll fill <code>classNames</code> with the list of all Java classes contained inside a jar file at <code>/path/to/jar/file.jar</code>.</p>\n\n<pre><code>List&lt;String&gt; classNames = new ArrayList&lt;String&gt;();\nZipInputStream zip = new ZipInputStream(new FileInputStream(\"/path/to/jar/file.jar\"));\nfor (ZipEntry entry = zip.getNextEntry(); entry != null; entry = zip.getNextEntry()) {\n    if (!entry.isDirectory() &amp;&amp; entry.getName().endsWith(\".class\")) {\n        // This ZipEntry represents a class. Now, what class does it represent?\n        String className = entry.getName().replace('/', '.'); // including \".class\"\n        classNames.add(className.substring(0, className.length() - \".class\".length()));\n    }\n}\n</code></pre>\n\n<h2>Option (b): Using specialized reflections libraries</h2>\n\n<h3>Guava</h3>\n\n<p><a href=\"https://github.com/google/guava\">Guava</a> has had <a href=\"https://google.github.io/guava/releases/14.0/api/docs/com/google/common/reflect/ClassPath.html\"><code>ClassPath</code></a> since at least 14.0, which I have used and liked. One nice thing about <code>ClassPath</code> is that it doesn't load the classes it finds, which is important when you're scanning for a large number of classes.</p>\n\n<pre><code>ClassPath cp=ClassPath.from(Thread.currentThread().getContextClassLoader());\nfor(ClassPath.ClassInfo info : cp.getTopLevelClassesRecurusive(\"my.package.name\")) {\n    // Do stuff with classes here...\n}\n</code></pre>\n\n<h3>Reflections</h3>\n\n<p>I haven't personally used <a href=\"https://github.com/ronmamo/reflections\">the Reflections library</a>, but it seems well-liked. Some great examples are provided on the website like this quick way to load all the classes in a package provided by <em>any</em> JAR file, which may also be useful for your application.</p>\n\n<pre><code>Reflections reflections = new Reflections(\"my.project.prefix\");\n\nSet&lt;Class&lt;? extends SomeType&gt;&gt; subTypes = reflections.getSubTypesOf(SomeType.class);\n\nSet&lt;Class&lt;?&gt;&gt; annotated = reflections.getTypesAnnotatedWith(SomeAnnotation.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5143306,"reputation":99,"user_id":4119946,"display_name":"Pallav"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1412750957,"creation_date":1412748658,"answer_id":26250260,"question_id":15720822,"body_markdown":"You can try:\r\n\r\n    jar tvf jarfile.jar \r\n\r\nThis will be helpful only if your jar is executable i.e. in manifest you have defined some class as main class","title":"How to get names of classes inside a jar file?","body":"<p>You can try:</p>\n\n<pre><code>jar tvf jarfile.jar \n</code></pre>\n\n<p>This will be helpful only if your jar is executable i.e. in manifest you have defined some class as main class</p>\n"},{"tags":[],"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1414320174,"creation_date":1414174679,"answer_id":26553901,"question_id":15720822,"body_markdown":"Maybe you are looking for `jar` command to get the list of classes in terminal, \r\n\r\n    $ jar tf ~/.m2/repository/org/apache/spark/spark-assembly/1.2.0-SNAPSHOT/spark-assembly-1.2.0-SNAPSHOT-hadoop1.0.4.jar \r\n    META-INF/\r\n    META-INF/MANIFEST.MF\r\n    org/\r\n    org/apache/\r\n    org/apache/spark/\r\n    org/apache/spark/unused/\r\n    org/apache/spark/unused/UnusedStubClass.class\r\n    META-INF/maven/\r\n    META-INF/maven/org.spark-project.spark/\r\n    META-INF/maven/org.spark-project.spark/unused/\r\n    META-INF/maven/org.spark-project.spark/unused/pom.xml\r\n    META-INF/maven/org.spark-project.spark/unused/pom.properties\r\n    META-INF/NOTICE\r\n\r\nwhere, \r\n\r\n    -t  list table of contents for archive\r\n    -f  specify archive file name\r\n\r\nOr, just grep above result to see `.class`es only\r\n\r\n    $ jar tf ~/.m2/repository/org/apache/spark/spark-assembly/1.2.0-SNAPSHOT/spark-assembly-1.2.0-SNAPSHOT-hadoop1.0.4.jar | grep .class\r\n    org/apache/spark/unused/UnusedStubClass.class\r\n\r\nTo see number of `class`es, \r\n\r\n    jar tvf launcher/target/usergrid-launcher-1.0-SNAPSHOT.jar | grep .class | wc -l\r\n    61079\r\n\r\n","title":"How to get names of classes inside a jar file?","body":"<p>Maybe you are looking for <code>jar</code> command to get the list of classes in terminal, </p>\n\n<pre><code>$ jar tf ~/.m2/repository/org/apache/spark/spark-assembly/1.2.0-SNAPSHOT/spark-assembly-1.2.0-SNAPSHOT-hadoop1.0.4.jar \nMETA-INF/\nMETA-INF/MANIFEST.MF\norg/\norg/apache/\norg/apache/spark/\norg/apache/spark/unused/\norg/apache/spark/unused/UnusedStubClass.class\nMETA-INF/maven/\nMETA-INF/maven/org.spark-project.spark/\nMETA-INF/maven/org.spark-project.spark/unused/\nMETA-INF/maven/org.spark-project.spark/unused/pom.xml\nMETA-INF/maven/org.spark-project.spark/unused/pom.properties\nMETA-INF/NOTICE\n</code></pre>\n\n<p>where, </p>\n\n<pre><code>-t  list table of contents for archive\n-f  specify archive file name\n</code></pre>\n\n<p>Or, just grep above result to see <code>.class</code>es only</p>\n\n<pre><code>$ jar tf ~/.m2/repository/org/apache/spark/spark-assembly/1.2.0-SNAPSHOT/spark-assembly-1.2.0-SNAPSHOT-hadoop1.0.4.jar | grep .class\norg/apache/spark/unused/UnusedStubClass.class\n</code></pre>\n\n<p>To see number of <code>class</code>es, </p>\n\n<pre><code>jar tvf launcher/target/usergrid-launcher-1.0-SNAPSHOT.jar | grep .class | wc -l\n61079\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4749161,"reputation":29,"user_id":3839615,"display_name":"Abhimanyu Dutta"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1456307076,"creation_date":1456307076,"answer_id":35598508,"question_id":15720822,"body_markdown":"You can try this :\r\n\r\n    unzip -v /your/jar.jar\r\nThis will be helpful only if your jar is executable i.e. in manifest you have defined some class as main class\r\n\r\n","title":"How to get names of classes inside a jar file?","body":"<p>You can try this :</p>\n\n<pre><code>unzip -v /your/jar.jar\n</code></pre>\n\n<p>This will be helpful only if your jar is executable i.e. in manifest you have defined some class as main class</p>\n"},{"tags":[],"owner":{"account_id":2095430,"reputation":3231,"user_id":1864317,"accept_rate":100,"display_name":"stanm"},"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1470436432,"creation_date":1469224928,"answer_id":38535872,"question_id":15720822,"body_markdown":"This is a hack I&#39;m using:\r\n\r\nYou can use `java`&#39;s autocomplete like this:\r\n\r\n    java -cp path_to.jar &lt;Tab&gt;\r\n\r\nThis will give you a list of classes available to pass as the starting class. Of course, trying to use one that has no main file will not do anything, but you can see what `java` thinks the classes inside the `.jar` are called.","title":"How to get names of classes inside a jar file?","body":"<p>This is a hack I'm using:</p>\n\n<p>You can use <code>java</code>'s autocomplete like this:</p>\n\n<pre><code>java -cp path_to.jar &lt;Tab&gt;\n</code></pre>\n\n<p>This will give you a list of classes available to pass as the starting class. Of course, trying to use one that has no main file will not do anything, but you can see what <code>java</code> thinks the classes inside the <code>.jar</code> are called.</p>\n"},{"tags":[],"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1508519975,"creation_date":1487675100,"answer_id":42365579,"question_id":15720822,"body_markdown":"Below command will list the content of a **jar** file.  \r\n\r\ncommand :- ```unzip -l jarfilename.jar```.\r\n\r\nsample o/p :- \r\n\r\n```Archive:  hello-world.jar\r\n  Length      Date    Time    Name\r\n---------  ---------- -----   ----\r\n     43161  10-18-2017 15:44   hello-world/com/ami/so/search/So.class\r\n     20531  10-18-2017 15:44   hello-world/com/ami/so/util/SoUtil.class\r\n---------                     -------\r\n    63692                     2 files```\r\n\r\n\r\nAccording to manual of `unzip` \r\n\r\n&gt; -l     list archive files (short format).  The names, uncompressed file sizes and modification dates and times of the specified files are\r\n&gt; printed, along with totals  for  all\r\n&gt;               files  specified.   If UnZip was compiled with OS2_EAS defined, the -l option also lists columns for the sizes of stored OS/2\r\n&gt; extended attributes (EAs) and OS/2 access\r\n&gt;               control lists (ACLs).  In addition, the zipfile comment and individual file comments (if any) are displayed.  If a file was\r\n&gt; archived from  a  single-case  file  system\r\n&gt;               (for example, the old MS-DOS FAT file system) and the -L option was given, the filename is converted to lowercase and is\r\n&gt; prefixed with a caret (^).","title":"How to get names of classes inside a jar file?","body":"<p>Below command will list the content of a <strong>jar</strong> file.  </p>\n\n<p>command :- <code>unzip -l jarfilename.jar</code>.</p>\n\n<p>sample o/p :- </p>\n\n<p><code>Archive:  hello-world.jar\n  Length      Date    Time    Name\n---------  ---------- -----   ----\n     43161  10-18-2017 15:44   hello-world/com/ami/so/search/So.class\n     20531  10-18-2017 15:44   hello-world/com/ami/so/util/SoUtil.class\n---------                     -------\n    63692                     2 files</code></p>\n\n<p>According to manual of <code>unzip</code> </p>\n\n<blockquote>\n  <p>-l     list archive files (short format).  The names, uncompressed file sizes and modification dates and times of the specified files are\n  printed, along with totals  for  all\n                files  specified.   If UnZip was compiled with OS2_EAS defined, the -l option also lists columns for the sizes of stored OS/2\n  extended attributes (EAs) and OS/2 access\n                control lists (ACLs).  In addition, the zipfile comment and individual file comments (if any) are displayed.  If a file was\n  archived from  a  single-case  file  system\n                (for example, the old MS-DOS FAT file system) and the -L option was given, the filename is converted to lowercase and is\n  prefixed with a caret (^).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9530302,"reputation":3860,"user_id":7082221,"accept_rate":50,"display_name":"loneStar"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1508172280,"creation_date":1508172280,"answer_id":46775196,"question_id":15720822,"body_markdown":"You can use the \r\n\r\n    jar tf example.jar","title":"How to get names of classes inside a jar file?","body":"<p>You can use the </p>\n\n<pre><code>jar tf example.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7169254,"reputation":1,"user_id":5477320,"display_name":"Arokiadoss Asirvatham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520564871,"creation_date":1520555915,"answer_id":49184853,"question_id":15720822,"body_markdown":"**Description OF Solution** : Eclipse IDE can be used for this by creating a sample java project and add all jars in the Project Build path\r\n\r\n**STEPS below**:\r\n\r\n1. Create a sample Eclipse Java project.\r\n\r\n2. All all the jars you have in its Build Path\r\n\r\n3. CTRL+SHIFT+T and Type the full class name .\r\n\r\n4. Results will be displayed in the window with all the jars having that class. See attached picture . \r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UAtWzl.png","title":"How to get names of classes inside a jar file?","body":"<p><strong>Description OF Solution</strong> : Eclipse IDE can be used for this by creating a sample java project and add all jars in the Project Build path</p>\n\n<p><strong>STEPS below</strong>:</p>\n\n<ol>\n<li><p>Create a sample Eclipse Java project.</p></li>\n<li><p>All all the jars you have in its Build Path</p></li>\n<li><p>CTRL+SHIFT+T and Type the full class name .</p></li>\n<li><p>Results will be displayed in the window with all the jars having that class. See attached picture . \n<img src=\"https://i.stack.imgur.com/UAtWzl.png\" alt=\"enter image description here\"></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6867489,"reputation":41,"user_id":5279333,"display_name":"Vikas "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574228916,"creation_date":1574228916,"answer_id":58947537,"question_id":15720822,"body_markdown":"windows cmd: \r\nThis would work if you have all te jars in the same directory and execute the below command \r\n\r\n    for /r %i in (*) do ( jar tvf %i | find /I &quot;search_string&quot;)\r\n\r\n\r\n","title":"How to get names of classes inside a jar file?","body":"<p>windows cmd: \nThis would work if you have all te jars in the same directory and execute the below command </p>\n\n<pre><code>for /r %i in (*) do ( jar tvf %i | find /I \"search_string\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17868029,"reputation":21,"user_id":12979992,"display_name":"ESPRIELLA_GREGORIO QUINTERO_DE"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591400642,"creation_date":1591400642,"answer_id":62225619,"question_id":15720822,"body_markdown":"Use this bash script:\r\n\r\n    #!/bin/bash\r\n    \r\n    for VARIABLE in *.jar\r\n    do\r\n       jar -tf $VARIABLE |grep &quot;\\.class&quot;|awk -v arch=$VARIABLE &#39;{print arch &quot;:&quot; $4}&#39;|sed &#39;s/\\//./g&#39;|sed &#39;s/\\.\\.//g&#39;|sed &#39;s/\\.class//g&#39;\r\n    done\r\n\r\nthis will list the classes inside jars in your directory in the form:\r\n\r\n    file1.jar:fullyqualifiedclassName\r\n    file1.jar:fullyqualifiedclassName\r\n    file1.jar:fullyqualifiedclassName\r\n    file1.jar:fullyqualifiedclassName\r\n    file2.jar:fullyqualifiedclassName\r\n    file2.jar:fullyqualifiedclassName\r\n    file2.jar:fullyqualifiedclassName\r\n\r\nSample output:\r\n\r\n    commons-io.jar:org.apache.commons.io.ByteOrderMark\r\n    commons-io.jar:org.apache.commons.io.Charsets\r\n    commons-io.jar:org.apache.commons.io.comparator.AbstractFileComparator\r\n    commons-io.jar:org.apache.commons.io.comparator.CompositeFileComparator\r\n    commons-io.jar:org.apache.commons.io.comparator.DefaultFileComparator\r\n    commons-io.jar:org.apache.commons.io.comparator.DirectoryFileComparator\r\n    commons-io.jar:org.apache.commons.io.comparator.ExtensionFileComparator\r\n    commons-io.jar:org.apache.commons.io.comparator.LastModifiedFileComparator\r\n\r\nIn windows you can use powershell:\r\n\r\n    Get-ChildItem -File -Filter *.jar |\r\n    ForEach-Object{\r\n        $filename = $_.Name\r\n        Write-Host $filename\r\n        $classes = jar -tf $_.Name |Select-String -Pattern &#39;.class&#39; -CaseSensitive -SimpleMatch\r\n        ForEach($line in $classes) {\r\n           write-host $filename&quot;:&quot;(($line -replace &quot;\\.class&quot;, &quot;&quot;) -replace &quot;/&quot;, &quot;.&quot;)\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"How to get names of classes inside a jar file?","body":"<p>Use this bash script:</p>\n\n<pre><code>#!/bin/bash\n\nfor VARIABLE in *.jar\ndo\n   jar -tf $VARIABLE |grep \"\\.class\"|awk -v arch=$VARIABLE '{print arch \":\" $4}'|sed 's/\\//./g'|sed 's/\\.\\.//g'|sed 's/\\.class//g'\ndone\n</code></pre>\n\n<p>this will list the classes inside jars in your directory in the form:</p>\n\n<pre><code>file1.jar:fullyqualifiedclassName\nfile1.jar:fullyqualifiedclassName\nfile1.jar:fullyqualifiedclassName\nfile1.jar:fullyqualifiedclassName\nfile2.jar:fullyqualifiedclassName\nfile2.jar:fullyqualifiedclassName\nfile2.jar:fullyqualifiedclassName\n</code></pre>\n\n<p>Sample output:</p>\n\n<pre><code>commons-io.jar:org.apache.commons.io.ByteOrderMark\ncommons-io.jar:org.apache.commons.io.Charsets\ncommons-io.jar:org.apache.commons.io.comparator.AbstractFileComparator\ncommons-io.jar:org.apache.commons.io.comparator.CompositeFileComparator\ncommons-io.jar:org.apache.commons.io.comparator.DefaultFileComparator\ncommons-io.jar:org.apache.commons.io.comparator.DirectoryFileComparator\ncommons-io.jar:org.apache.commons.io.comparator.ExtensionFileComparator\ncommons-io.jar:org.apache.commons.io.comparator.LastModifiedFileComparator\n</code></pre>\n\n<p>In windows you can use powershell:</p>\n\n<pre><code>Get-ChildItem -File -Filter *.jar |\nForEach-Object{\n    $filename = $_.Name\n    Write-Host $filename\n    $classes = jar -tf $_.Name |Select-String -Pattern '.class' -CaseSensitive -SimpleMatch\n    ForEach($line in $classes) {\n       write-host $filename\":\"(($line -replace \"\\.class\", \"\") -replace \"/\", \".\")\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1659259,"reputation":998,"user_id":1527856,"accept_rate":25,"display_name":"Rajiv Singh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1594263550,"creation_date":1594263550,"answer_id":62806696,"question_id":15720822,"body_markdown":"Mac OS:\r\nOn Terminal:\r\n\r\n    vim &lt;your jar location&gt;\r\n    \r\n    after jar gets opened, press / and pass your class name and hit enter\r\n\r\n","title":"How to get names of classes inside a jar file?","body":"<p>Mac OS:\nOn Terminal:</p>\n<pre><code>vim &lt;your jar location&gt;\n\nafter jar gets opened, press / and pass your class name and hit enter\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8722383,"reputation":31,"user_id":6525104,"display_name":"Dan F"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680124719,"creation_date":1680124719,"answer_id":75882252,"question_id":15720822,"body_markdown":"Today I started working on this basic problem, the problem is that I needed to look at a package path for java enumerations and create a list of instances implementing a specific interface.  The package was in a jar file dependency as part of a spring boot application.  \r\n\r\nThe first problem, getting a list of classes from the jar file.  spring boot made that fairly simple once I found the solution.\r\n\r\n    ClassLoader classLoader = this.getClass().getClassLoader();\r\n    ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(classLoader);\r\n    Resource[] resources = new Resource[0];\r\n    try {\r\n    \tresources = resolver.getResources(&quot;classpath:com/enumeration/*.class&quot;);\r\n    } catch (IOException e) {\r\n    \tLOGGER.error(&quot;failed to load Enumeration classes using classpath: &gt;{}&lt; {}&quot;, &quot;classpath:com/enumeration/*.class&quot;, e.toString());\r\n    }\t\r\n\r\nOnce I found the list of classes, instantiating the enumerations worked with the following code.  This is outside the scope of the initial question but exemplifies traversing a list of class files in a package.\r\n\r\n    List&lt;Enum&gt; list = new ArrayList&lt;&gt;();\r\n    for (Resource resource : resources) {\r\n    \tString classPathName = ((ClassPathResource) resource).getPath().replaceAll(&quot;/&quot;, &quot;.&quot;).replaceAll(&quot;.class&quot;, &quot;&quot;);\r\n    \tClass&lt;?&gt; aClass = Class.forName(classPathName);\r\n    \tClass&lt;Enum&gt; aClass1 = (Class&lt;Enum&gt;) aClass;\r\n    \tEnum anEnum = Enum.valueOf(aClass1, aClass1.getEnumConstants()[0].name());\r\n    \tlist.add(anEnum);\r\n    }","title":"How to get names of classes inside a jar file?","body":"<p>Today I started working on this basic problem, the problem is that I needed to look at a package path for java enumerations and create a list of instances implementing a specific interface.  The package was in a jar file dependency as part of a spring boot application.</p>\n<p>The first problem, getting a list of classes from the jar file.  spring boot made that fairly simple once I found the solution.</p>\n<pre><code>ClassLoader classLoader = this.getClass().getClassLoader();\nResourcePatternResolver resolver = new PathMatchingResourcePatternResolver(classLoader);\nResource[] resources = new Resource[0];\ntry {\n    resources = resolver.getResources(&quot;classpath:com/enumeration/*.class&quot;);\n} catch (IOException e) {\n    LOGGER.error(&quot;failed to load Enumeration classes using classpath: &gt;{}&lt; {}&quot;, &quot;classpath:com/enumeration/*.class&quot;, e.toString());\n}   \n</code></pre>\n<p>Once I found the list of classes, instantiating the enumerations worked with the following code.  This is outside the scope of the initial question but exemplifies traversing a list of class files in a package.</p>\n<pre><code>List&lt;Enum&gt; list = new ArrayList&lt;&gt;();\nfor (Resource resource : resources) {\n    String classPathName = ((ClassPathResource) resource).getPath().replaceAll(&quot;/&quot;, &quot;.&quot;).replaceAll(&quot;.class&quot;, &quot;&quot;);\n    Class&lt;?&gt; aClass = Class.forName(classPathName);\n    Class&lt;Enum&gt; aClass1 = (Class&lt;Enum&gt;) aClass;\n    Enum anEnum = Enum.valueOf(aClass1, aClass1.getEnumConstants()[0].name());\n    list.add(anEnum);\n}\n</code></pre>\n"}],"owner":{"account_id":411528,"reputation":3670,"user_id":954380,"accept_rate":92,"display_name":"sticksu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196985,"favorite_count":0,"down_vote_count":0,"up_vote_count":151,"accepted_answer_id":15720973,"answer_count":13,"score":151,"last_activity_date":1680124719,"creation_date":1364661015,"question_id":15720822,"body_markdown":"I have a JAR file and I need to get the name of all classes inside this JAR file. How can I do that?\r\n\r\nI googled it and saw something about JarFile or Java `ClassLoader` but I have no idea how to do it.\r\n","title":"How to get names of classes inside a jar file?","body":"<p>I have a JAR file and I need to get the name of all classes inside this JAR file. How can I do that?</p>\n\n<p>I googled it and saw something about JarFile or Java <code>ClassLoader</code> but I have no idea how to do it.</p>\n"},{"tags":["java","android","firebase","cloud","messaging"],"owner":{"account_id":14620589,"reputation":19,"user_id":10559399,"display_name":"enolic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680124228,"creation_date":1680124228,"question_id":75882205,"body_markdown":"The logs I putted to the code seems that the app working correctly and send the notifications to the target device, but I think that I&#39;m doing something wrong, because even the logs said that the notification sent correctly, didn&#39;t ever appear to the device.\r\n\r\nSome additional info:\r\n- I have turned on the notification for the app on (i have turned on for two devices and 1 emulator device but nowhere worked)\r\n- the fcmToken is correct because I did a test notification message from the Firebase Console and the notification came successfully.\r\n\r\nFirstly, I want to inform you for the structure of my Realtime database:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/pam38.png)](https://i.stack.imgur.com/pam38.png)\r\n[![enter image description here](https://i.stack.imgur.com/ZFm2m.png)](https://i.stack.imgur.com/ZFm2m.png)\r\n[![enter image description here](https://i.stack.imgur.com/NA8QF.png)](https://i.stack.imgur.com/NA8QF.png)\r\n\r\nThe fcmToken for each user is retrieved from the registration of the user on UserActivity with the code:\r\n\r\n\r\n```\r\nFirebaseMessaging.getInstance().getToken()\r\n                                        .addOnCompleteListener(new OnCompleteListener&lt;String&gt;() {\r\n                                            @Override\r\n                                            public void onComplete(@NonNull Task&lt;String&gt; task) {\r\n                                                if (task.isSuccessful()) {\r\n                                                    String fcmToken = task.getResult();\r\n\r\n                                                    writeNewUserToDatabase(mAuth.getUid(),\r\n                                                            emailET.getText().toString(),\r\n                                                            fullNameET.getText().toString(),\r\n                                                            lat,\r\n                                                            lng,\r\n                                                            fcmToken);\r\n                                                } else {\r\n                                                    Log.d(&quot;MyApp&quot;, &quot;Failed to get FCM token: &quot; + task.getException().getMessage());\r\n                                                }\r\n                                            }\r\n                                        });\r\n```\r\n\r\n\r\nSo, now every registered user has a fcmToken. \r\nAt the AdminActivity now i have a button in an AlertDialog that calls the findNearbyUsers() method  when clicked.\r\n\r\n\r\nfindNearbyUsers() (AdminActivity):\r\n\r\n```\r\nprivate void findNearbyUsers(Alert alert) {\r\n        DatabaseReference usersRef = FirebaseDatabase.getInstance().getReference().child(&quot;USER&quot;);\r\n\r\n        usersRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                Set&lt;String&gt; nearbyTokens = new HashSet&lt;&gt;();\r\n\r\n                for (DataSnapshot userSnapshot : snapshot.getChildren()) {\r\n                    double userLat = userSnapshot.child(&quot;lat&quot;).getValue(Double.class);\r\n                    double userLng = userSnapshot.child(&quot;lng&quot;).getValue(Double.class);\r\n                    String userToken = userSnapshot.child(&quot;fcmToken&quot;).getValue(String.class);\r\n                    // Calculate the distance between the user and the alert\r\n                    float[] results = new float[1];\r\n                    Location.distanceBetween(alert.getLat(), alert.getLng(), userLat, userLng, results);\r\n\r\n                    // Check if the user is nearby (within 1 kilometer)\r\n                    if (results[0] &lt;= 1000) {\r\n                        nearbyTokens.add(userToken);\r\n                    }\r\n                }\r\n\r\n                // Send push notifications to all nearby users\r\n                sendNotificationToUsers(nearbyTokens, alert);\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Log.e(&quot;LoG&quot;, &quot;Failed to read value.&quot;, error.toException());\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nsendNotificationToUsers() (AdminActivity)\r\n\r\n```\r\nprivate void sendNotificationToUsers(Set&lt;String&gt; tokens, Alert alert) {\r\n        // Create the notification channel\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel channel = new NotificationChannel(&quot;CHANNEL_ID&quot;, &quot;Channel Name&quot;, NotificationManager.IMPORTANCE_HIGH);\r\n            NotificationManager manager = getSystemService(NotificationManager.class);\r\n            manager.createNotificationChannel(channel);\r\n        }\r\n\r\n        // Build the notification message\r\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(this, &quot;CHANNEL_ID&quot;)\r\n                .setSmallIcon(R.drawable.ic_launcher_background)\r\n                .setContentTitle(&quot;Alert nearby!&quot;)\r\n                .setContentText(&quot;An alert has been verified near your location.&quot;)\r\n                .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n                .setAutoCancel(true);\r\n\r\n        // Create the intent to open the app when the user taps on the notification\r\n        Intent intent = new Intent(this, AdminActivity.class);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_IMMUTABLE);\r\n        builder.setContentIntent(pendingIntent);\r\n\r\n        // Send the notification to each nearby user on a background thread\r\n        new Thread(() -&gt; {\r\n            for (String token : tokens) {\r\n                if (token == null || token.isEmpty()) {\r\n                    return;\r\n                }\r\n\r\n                Log.d(&quot;FCM&quot;, &quot;Sending notification to FCM token(sendMessage): &quot; + token);\r\n                Log.d(&quot;FCM&quot;, &quot;Notification title: &quot; + alert.getTitle());\r\n                Log.d(&quot;FCM&quot;, &quot;Notification message: &quot; + alert.getDescription());\r\n\r\n\r\n                FirebaseMessaging.getInstance().send(new RemoteMessage.Builder(token)\r\n                        .setMessageId(UUID.randomUUID().toString())\r\n                        .addData(&quot;title&quot;, alert.getTitle())\r\n                        .addData(&quot;message&quot;, alert.getDescription())\r\n                        .build());\r\n            }\r\n        }).start();\r\n    }\r\n```\r\n\r\nThe logs i got from clicking the button that calls the findNearbyUsers() are:\r\n\r\nD/FCM: Sending notification to FCM token(sendMessage): cly-c8S9SpSHsd6_pIrVDw:APA91bGkqMK5AYCJyWad_1cQlDRjOaqVSO...\r\nNotification title: 1@flood\r\nD/FCM: Notification message: j\r\nD/FCM: Sending notification to FCM token(sendMessage): ck3P3SCbSHurWVHZ4o8Czy:APA91bFbU66AoYwrvlM2gkdR3vtD52rT7qeJU8Ig7-ds7HKPQC4BM7ftLHeQSQca47zBHSG3UQjyXsbQav2aEjK...\r\nD/FCM: Notification title: 1@flood\r\nD/FCM: Notification message: j\r\nD/FCM: Sending notification to FCM token(sendMessage): eVuZsrTWQwyElN8BhEmtC7:APA91bFXF4EBytwy158204Tav9nzqLIPwo_7HzX1K5Qgo4RjcMRTuX2ca-GG78FCpqYAt1Bp2PJngsXP4wdMtqrYRop...\r\nD/FCM: Notification title: 1@flood\r\nD/FCM: Notification message: j \r\n\r\nIt seems to me that the notifications successfully sent to devices but never got them appearing. \r\n\r\nPS: I tried to use Firebase Admin SDK but the whole code i wrote had errors so I removed it and I don&#39;t want to use it.\r\n\r\n","title":"Send push notification to target device with fcmToken on Android Project with Firebase","body":"<p>The logs I putted to the code seems that the app working correctly and send the notifications to the target device, but I think that I'm doing something wrong, because even the logs said that the notification sent correctly, didn't ever appear to the device.</p>\n<p>Some additional info:</p>\n<ul>\n<li>I have turned on the notification for the app on (i have turned on for two devices and 1 emulator device but nowhere worked)</li>\n<li>the fcmToken is correct because I did a test notification message from the Firebase Console and the notification came successfully.</li>\n</ul>\n<p>Firstly, I want to inform you for the structure of my Realtime database:</p>\n<p><a href=\"https://i.stack.imgur.com/pam38.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pam38.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/ZFm2m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZFm2m.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/NA8QF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NA8QF.png\" alt=\"enter image description here\" /></a></p>\n<p>The fcmToken for each user is retrieved from the registration of the user on UserActivity with the code:</p>\n<pre><code>FirebaseMessaging.getInstance().getToken()\n                                        .addOnCompleteListener(new OnCompleteListener&lt;String&gt;() {\n                                            @Override\n                                            public void onComplete(@NonNull Task&lt;String&gt; task) {\n                                                if (task.isSuccessful()) {\n                                                    String fcmToken = task.getResult();\n\n                                                    writeNewUserToDatabase(mAuth.getUid(),\n                                                            emailET.getText().toString(),\n                                                            fullNameET.getText().toString(),\n                                                            lat,\n                                                            lng,\n                                                            fcmToken);\n                                                } else {\n                                                    Log.d(&quot;MyApp&quot;, &quot;Failed to get FCM token: &quot; + task.getException().getMessage());\n                                                }\n                                            }\n                                        });\n</code></pre>\n<p>So, now every registered user has a fcmToken.\nAt the AdminActivity now i have a button in an AlertDialog that calls the findNearbyUsers() method  when clicked.</p>\n<p>findNearbyUsers() (AdminActivity):</p>\n<pre><code>private void findNearbyUsers(Alert alert) {\n        DatabaseReference usersRef = FirebaseDatabase.getInstance().getReference().child(&quot;USER&quot;);\n\n        usersRef.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                Set&lt;String&gt; nearbyTokens = new HashSet&lt;&gt;();\n\n                for (DataSnapshot userSnapshot : snapshot.getChildren()) {\n                    double userLat = userSnapshot.child(&quot;lat&quot;).getValue(Double.class);\n                    double userLng = userSnapshot.child(&quot;lng&quot;).getValue(Double.class);\n                    String userToken = userSnapshot.child(&quot;fcmToken&quot;).getValue(String.class);\n                    // Calculate the distance between the user and the alert\n                    float[] results = new float[1];\n                    Location.distanceBetween(alert.getLat(), alert.getLng(), userLat, userLng, results);\n\n                    // Check if the user is nearby (within 1 kilometer)\n                    if (results[0] &lt;= 1000) {\n                        nearbyTokens.add(userToken);\n                    }\n                }\n\n                // Send push notifications to all nearby users\n                sendNotificationToUsers(nearbyTokens, alert);\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                Log.e(&quot;LoG&quot;, &quot;Failed to read value.&quot;, error.toException());\n            }\n        });\n    }\n</code></pre>\n<p>sendNotificationToUsers() (AdminActivity)</p>\n<pre><code>private void sendNotificationToUsers(Set&lt;String&gt; tokens, Alert alert) {\n        // Create the notification channel\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel channel = new NotificationChannel(&quot;CHANNEL_ID&quot;, &quot;Channel Name&quot;, NotificationManager.IMPORTANCE_HIGH);\n            NotificationManager manager = getSystemService(NotificationManager.class);\n            manager.createNotificationChannel(channel);\n        }\n\n        // Build the notification message\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(this, &quot;CHANNEL_ID&quot;)\n                .setSmallIcon(R.drawable.ic_launcher_background)\n                .setContentTitle(&quot;Alert nearby!&quot;)\n                .setContentText(&quot;An alert has been verified near your location.&quot;)\n                .setPriority(NotificationCompat.PRIORITY_HIGH)\n                .setAutoCancel(true);\n\n        // Create the intent to open the app when the user taps on the notification\n        Intent intent = new Intent(this, AdminActivity.class);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_IMMUTABLE);\n        builder.setContentIntent(pendingIntent);\n\n        // Send the notification to each nearby user on a background thread\n        new Thread(() -&gt; {\n            for (String token : tokens) {\n                if (token == null || token.isEmpty()) {\n                    return;\n                }\n\n                Log.d(&quot;FCM&quot;, &quot;Sending notification to FCM token(sendMessage): &quot; + token);\n                Log.d(&quot;FCM&quot;, &quot;Notification title: &quot; + alert.getTitle());\n                Log.d(&quot;FCM&quot;, &quot;Notification message: &quot; + alert.getDescription());\n\n\n                FirebaseMessaging.getInstance().send(new RemoteMessage.Builder(token)\n                        .setMessageId(UUID.randomUUID().toString())\n                        .addData(&quot;title&quot;, alert.getTitle())\n                        .addData(&quot;message&quot;, alert.getDescription())\n                        .build());\n            }\n        }).start();\n    }\n</code></pre>\n<p>The logs i got from clicking the button that calls the findNearbyUsers() are:</p>\n<p>D/FCM: Sending notification to FCM token(sendMessage): cly-c8S9SpSHsd6_pIrVDw:APA91bGkqMK5AYCJyWad_1cQlDRjOaqVSO...\nNotification title: 1@flood\nD/FCM: Notification message: j\nD/FCM: Sending notification to FCM token(sendMessage): ck3P3SCbSHurWVHZ4o8Czy:APA91bFbU66AoYwrvlM2gkdR3vtD52rT7qeJU8Ig7-ds7HKPQC4BM7ftLHeQSQca47zBHSG3UQjyXsbQav2aEjK...\nD/FCM: Notification title: 1@flood\nD/FCM: Notification message: j\nD/FCM: Sending notification to FCM token(sendMessage): eVuZsrTWQwyElN8BhEmtC7:APA91bFXF4EBytwy158204Tav9nzqLIPwo_7HzX1K5Qgo4RjcMRTuX2ca-GG78FCpqYAt1Bp2PJngsXP4wdMtqrYRop...\nD/FCM: Notification title: 1@flood\nD/FCM: Notification message: j</p>\n<p>It seems to me that the notifications successfully sent to devices but never got them appearing.</p>\n<p>PS: I tried to use Firebase Admin SDK but the whole code i wrote had errors so I removed it and I don't want to use it.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1680117643,"post_id":75881095,"comment_id":133845064,"body_markdown":"Change ++i to i++ and see if it runs properly.","body":"Change ++i to i++ and see if it runs properly."}],"answers":[{"tags":[],"owner":{"account_id":28160829,"reputation":1,"user_id":21520802,"display_name":"cna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680117876,"creation_date":1680117513,"answer_id":75881329,"question_id":75881095,"body_markdown":"You are calling getJSONArray(java.lang.String) on a null object. It means that one of these two objects is null:\r\n\r\n    JSONArray list = forecast.getJSONArray(&quot;list&quot;);\r\n    day.getJSONArray(&quot;weather&quot;).getJSONObject(0);\r\n\r\n Can you double check them?","title":"Java App keeps stopping in Android Studio","body":"<p>You are calling getJSONArray(java.lang.String) on a null object. It means that one of these two objects is null:</p>\n<pre><code>JSONArray list = forecast.getJSONArray(&quot;list&quot;);\nday.getJSONArray(&quot;weather&quot;).getJSONObject(0);\n</code></pre>\n<p>Can you double check them?</p>\n"},{"tags":[],"owner":{"account_id":18603122,"reputation":36,"user_id":13557471,"display_name":"mubbashir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680124200,"creation_date":1680124200,"answer_id":75882200,"question_id":75881095,"body_markdown":"inside your convertJSONtoArrayList(JSONObject forecast) method, add a null check like this\r\n\r\n    if (forecast == null) {\r\n        return;\r\n    }\r\n    weatherList.clear();\r\n\r\nthis will immediately return null and prevent app from crashing.","title":"Java App keeps stopping in Android Studio","body":"<p>inside your convertJSONtoArrayList(JSONObject forecast) method, add a null check like this</p>\n<pre><code>if (forecast == null) {\n    return;\n}\nweatherList.clear();\n</code></pre>\n<p>this will immediately return null and prevent app from crashing.</p>\n"}],"owner":{"account_id":28161479,"reputation":1,"user_id":21521340,"display_name":"stepback3"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680124200,"creation_date":1680115870,"question_id":75881095,"body_markdown":"I&#39;m new to android app development and am following a weather app made in a textbook, and the app opens in the emulator, but when I input a city to display the weather the app closes and gives me the following error:\r\n\r\n&quot; java.lang.NullPointerException: Attempt to invoke virtual method &#39;org.json.JSONArray org.json.JSONObject.getJSONArray(java.lang.String)&#39; on a null object reference&quot;\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private final List&lt;Weather&gt; weatherList = new ArrayList&lt;&gt;();\r\n\r\n    private WeatherArrayAdapter weatherArrayAdapter;\r\n    private ListView weatherListView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        setContentView(R.layout.activity_main);\r\n        findViewById(R.id.toolbar);\r\n        setSupportActionBar();\r\n\r\n        weatherListView = findViewById(R.id.weatherListView);\r\n        weatherArrayAdapter = new WeatherArrayAdapter(this,weatherList);\r\n        weatherListView.setAdapter(weatherArrayAdapter);\r\n\r\n        FloatingActionButton fab =\r\n                findViewById(R.id.fab);\r\n        fab.setOnClickListener((view) -&gt; {\r\n            EditText locationEditText =\r\n                    findViewById(R.id.locationEditText);\r\n            URL url = createURL(locationEditText.getText().toString());\r\n\r\n            if (url != null) {\r\n                dismissKeyboard(locationEditText);\r\n                GetWeatherTask getLocalWeatherTask = new GetWeatherTask();\r\n                getLocalWeatherTask.execute(url);\r\n            }\r\n            else {\r\n                Snackbar.make(findViewById(R.id.coordinatorLayout),\r\n                        &quot;Invalid URL&quot;, Snackbar.LENGTH_LONG).show();\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    private void setSupportActionBar() {\r\n    }\r\n\r\n    private void dismissKeyboard(View view) {\r\n        InputMethodManager imm = (InputMethodManager)  getSystemService(\r\n                Context.INPUT_METHOD_SERVICE);\r\n        imm.hideSoftInputFromWindow(view.getWindowToken(),0);\r\n\r\n    }\r\n\r\n    private URL createURL(String city) {\r\n        String apiKey = &quot;()&quot;;\r\n        String baseURL = &quot;http://api.openweathermap.org/data/2.5/forecast/daily?q=&quot;;\r\n\r\n\r\n        try {\r\n\r\n            String urlString = baseURL + URLEncoder.encode(city,&quot;UTF-8&quot;) +\r\n                    &quot;()&quot; + apiKey;\r\n            return new URL(urlString);\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n    @SuppressLint(&quot;StaticFieldLeak&quot;)\r\n    private class GetWeatherTask\r\n        extends AsyncTask&lt;URL, Void, JSONObject&gt; {\r\n\r\n        @Override\r\n        protected JSONObject doInBackground(URL... params) {\r\n            HttpURLConnection connection = null;\r\n\r\n\r\n            try {\r\n                connection = (HttpURLConnection) params[0].openConnection();\r\n                int response = connection.getResponseCode();\r\n\r\n                if (response == HttpURLConnection.HTTP_OK) {\r\n                    StringBuilder builder = new StringBuilder();\r\n\r\n                    try (BufferedReader reader = new BufferedReader(\r\n                            new InputStreamReader(connection.getInputStream()))) {\r\n\r\n                        String line;\r\n\r\n                        while ((line = reader.readLine()) != null) {\r\n                            builder.append(line);\r\n                        }\r\n                    }\r\n                    catch (IOException e) {\r\n                        Snackbar.make(findViewById(R.id.coordinatorLayout),\r\n                                &quot;Unable to read weather data&quot;, Snackbar.LENGTH_LONG).show();\r\n                        e.printStackTrace();\r\n                    }\r\n                    return new JSONObject(builder.toString());\r\n                }\r\n                else {\r\n                    Snackbar.make(findViewById(R.id.coordinatorLayout),\r\n                            &quot;Unable to connect to OpenWeatherMap.org&quot;, Snackbar.LENGTH_LONG).show();\r\n\r\n\r\n            }\r\n        }\r\n        catch (Exception e) {\r\n            Snackbar.make(findViewById(R.id.coordinatorLayout),\r\n                    &quot;Unable to connect to OpenWeather.org&quot;, Snackbar.LENGTH_LONG).show();\r\n            e.printStackTrace();\r\n        }\r\n        finally {\r\n                assert connection != null;\r\n                connection.disconnect();\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onPostExecute(JSONObject weather) {\r\n        convertJSONtoArrayList(weather);\r\n        weatherArrayAdapter.notifyDataSetChanged();\r\n        weatherListView.smoothScrollToPosition(0);\r\n    }\r\n}\r\n\r\nprivate void convertJSONtoArrayList(JSONObject forecast) {\r\n    weatherList.clear();\r\n\r\n    try {\r\n        JSONArray list = forecast.getJSONArray(&quot;list&quot;);\r\n\r\n        for (int i = 0; i &lt; list.length(); ++i) {\r\n            JSONObject day = list.getJSONObject(i);\r\n\r\n            JSONObject temperatures = day.getJSONObject(&quot;temp&quot;);\r\n\r\n            JSONObject weather =\r\n                    day.getJSONArray(&quot;weather&quot;).getJSONObject(0);\r\n\r\n            weatherList.add(new Weather(\r\n                    day.getLong(&quot;dt&quot;),\r\n                    temperatures.getDouble(&quot;min&quot;),\r\n                    temperatures.getDouble(&quot;max&quot;),\r\n                    day.getDouble(&quot;humidity&quot;),\r\n                    weather.getString(&quot;description&quot;),\r\n                    weather.getString(&quot;icon&quot;)));\r\n        }\r\n    }\r\n    catch (JSONException e) {\r\n        e.printStackTrace();\r\n    }\r\n }\r\n\r\n}\r\n```\r\n\r\nI tried some of the recommended fixes that appear as the yellow lines in the editor but it still doesn&#39;t work. Any help is appreciated.","title":"Java App keeps stopping in Android Studio","body":"<p>I'm new to android app development and am following a weather app made in a textbook, and the app opens in the emulator, but when I input a city to display the weather the app closes and gives me the following error:</p>\n<p>&quot; java.lang.NullPointerException: Attempt to invoke virtual method 'org.json.JSONArray org.json.JSONObject.getJSONArray(java.lang.String)' on a null object reference&quot;</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private final List&lt;Weather&gt; weatherList = new ArrayList&lt;&gt;();\n\n    private WeatherArrayAdapter weatherArrayAdapter;\n    private ListView weatherListView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.activity_main);\n        findViewById(R.id.toolbar);\n        setSupportActionBar();\n\n        weatherListView = findViewById(R.id.weatherListView);\n        weatherArrayAdapter = new WeatherArrayAdapter(this,weatherList);\n        weatherListView.setAdapter(weatherArrayAdapter);\n\n        FloatingActionButton fab =\n                findViewById(R.id.fab);\n        fab.setOnClickListener((view) -&gt; {\n            EditText locationEditText =\n                    findViewById(R.id.locationEditText);\n            URL url = createURL(locationEditText.getText().toString());\n\n            if (url != null) {\n                dismissKeyboard(locationEditText);\n                GetWeatherTask getLocalWeatherTask = new GetWeatherTask();\n                getLocalWeatherTask.execute(url);\n            }\n            else {\n                Snackbar.make(findViewById(R.id.coordinatorLayout),\n                        &quot;Invalid URL&quot;, Snackbar.LENGTH_LONG).show();\n            }\n\n        });\n    }\n\n    private void setSupportActionBar() {\n    }\n\n    private void dismissKeyboard(View view) {\n        InputMethodManager imm = (InputMethodManager)  getSystemService(\n                Context.INPUT_METHOD_SERVICE);\n        imm.hideSoftInputFromWindow(view.getWindowToken(),0);\n\n    }\n\n    private URL createURL(String city) {\n        String apiKey = &quot;()&quot;;\n        String baseURL = &quot;http://api.openweathermap.org/data/2.5/forecast/daily?q=&quot;;\n\n\n        try {\n\n            String urlString = baseURL + URLEncoder.encode(city,&quot;UTF-8&quot;) +\n                    &quot;()&quot; + apiKey;\n            return new URL(urlString);\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    /**\n     * \n     */\n    @SuppressWarnings(&quot;deprecation&quot;)\n    @SuppressLint(&quot;StaticFieldLeak&quot;)\n    private class GetWeatherTask\n        extends AsyncTask&lt;URL, Void, JSONObject&gt; {\n\n        @Override\n        protected JSONObject doInBackground(URL... params) {\n            HttpURLConnection connection = null;\n\n\n            try {\n                connection = (HttpURLConnection) params[0].openConnection();\n                int response = connection.getResponseCode();\n\n                if (response == HttpURLConnection.HTTP_OK) {\n                    StringBuilder builder = new StringBuilder();\n\n                    try (BufferedReader reader = new BufferedReader(\n                            new InputStreamReader(connection.getInputStream()))) {\n\n                        String line;\n\n                        while ((line = reader.readLine()) != null) {\n                            builder.append(line);\n                        }\n                    }\n                    catch (IOException e) {\n                        Snackbar.make(findViewById(R.id.coordinatorLayout),\n                                &quot;Unable to read weather data&quot;, Snackbar.LENGTH_LONG).show();\n                        e.printStackTrace();\n                    }\n                    return new JSONObject(builder.toString());\n                }\n                else {\n                    Snackbar.make(findViewById(R.id.coordinatorLayout),\n                            &quot;Unable to connect to OpenWeatherMap.org&quot;, Snackbar.LENGTH_LONG).show();\n\n\n            }\n        }\n        catch (Exception e) {\n            Snackbar.make(findViewById(R.id.coordinatorLayout),\n                    &quot;Unable to connect to OpenWeather.org&quot;, Snackbar.LENGTH_LONG).show();\n            e.printStackTrace();\n        }\n        finally {\n                assert connection != null;\n                connection.disconnect();\n        }\n        return null;\n    }\n\n\n    @Override\n    protected void onPostExecute(JSONObject weather) {\n        convertJSONtoArrayList(weather);\n        weatherArrayAdapter.notifyDataSetChanged();\n        weatherListView.smoothScrollToPosition(0);\n    }\n}\n\nprivate void convertJSONtoArrayList(JSONObject forecast) {\n    weatherList.clear();\n\n    try {\n        JSONArray list = forecast.getJSONArray(&quot;list&quot;);\n\n        for (int i = 0; i &lt; list.length(); ++i) {\n            JSONObject day = list.getJSONObject(i);\n\n            JSONObject temperatures = day.getJSONObject(&quot;temp&quot;);\n\n            JSONObject weather =\n                    day.getJSONArray(&quot;weather&quot;).getJSONObject(0);\n\n            weatherList.add(new Weather(\n                    day.getLong(&quot;dt&quot;),\n                    temperatures.getDouble(&quot;min&quot;),\n                    temperatures.getDouble(&quot;max&quot;),\n                    day.getDouble(&quot;humidity&quot;),\n                    weather.getString(&quot;description&quot;),\n                    weather.getString(&quot;icon&quot;)));\n        }\n    }\n    catch (JSONException e) {\n        e.printStackTrace();\n    }\n }\n\n}\n</code></pre>\n<p>I tried some of the recommended fixes that appear as the yellow lines in the editor but it still doesn't work. Any help is appreciated.</p>\n"},{"tags":["java","collections","guava"],"answers":[{"tags":[],"owner":{"account_id":444871,"reputation":1035,"user_id":836963,"display_name":"MJSG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1417581395,"creation_date":1417581395,"answer_id":27263722,"question_id":27263604,"body_markdown":"In your previous attempt, you had written\r\n\r\n    Set&lt;String&gt; set = Utils.immutableSetOf(new Set&lt;String&gt;[] { One.SET, Two.SET });\r\n\r\nThis does not work because, generics array creation is not allowed in java\r\n\r\nTry this:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    Set&lt;String&gt;[] mySet = new Set[] { One.SET, Two.SET };\r\n    Set&lt;String&gt; set = Utils.immutableSetOf(mySet);\r\n\r\n\r\nThe reason this works is because, we create a new Set[] without specifying the generics type and assign it to the reference Set&lt;String&gt;[] mySet (since this is an unchecked operation, we have to add @SuppressWarnings(&quot;unchecked&quot;) to it)","title":"How to merge multiple (arbitrary number of) Set&lt;String&gt; into one in Java?","body":"<p>In your previous attempt, you had written</p>\n\n<pre><code>Set&lt;String&gt; set = Utils.immutableSetOf(new Set&lt;String&gt;[] { One.SET, Two.SET });\n</code></pre>\n\n<p>This does not work because, generics array creation is not allowed in java</p>\n\n<p>Try this:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\nSet&lt;String&gt;[] mySet = new Set[] { One.SET, Two.SET };\nSet&lt;String&gt; set = Utils.immutableSetOf(mySet);\n</code></pre>\n\n<p>The reason this works is because, we create a new Set[] without specifying the generics type and assign it to the reference Set[] mySet (since this is an unchecked operation, we have to add @SuppressWarnings(\"unchecked\") to it)</p>\n"},{"tags":[],"owner":{"account_id":61562,"reputation":14771,"user_id":183397,"accept_rate":100,"display_name":"clstrfsck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1417582393,"creation_date":1417582393,"answer_id":27263892,"question_id":27263604,"body_markdown":"You could use:\r\n\r\n    Set&lt;String&gt; set = immutableSetOf(Arrays.asList(One.SET, Two.SET));\r\n\r\nUsing your definition of `immutableSetOf(List&lt;Set&lt;String&gt;&gt; sets)`.  No warnings or suppressed warnings.","title":"How to merge multiple (arbitrary number of) Set&lt;String&gt; into one in Java?","body":"<p>You could use:</p>\n\n<pre><code>Set&lt;String&gt; set = immutableSetOf(Arrays.asList(One.SET, Two.SET));\n</code></pre>\n\n<p>Using your definition of <code>immutableSetOf(List&lt;Set&lt;String&gt;&gt; sets)</code>.  No warnings or suppressed warnings.</p>\n"},{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1417582681,"creation_date":1417582681,"answer_id":27263946,"question_id":27263604,"body_markdown":"I&#39;m thinking that `FluentIterable` (in 18.0 and above) can help here, specifically the [`append` method](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/FluentIterable.html#append(java.lang.Iterable)).\r\n\r\nWith that, we need to define a convenient helper method - and yes, we&#39;re going to use varargs for this.\r\n\r\n    public &lt;T extends Comparable&lt;T&gt;&gt; Set&lt;T&gt; mergeSets(Set&lt;T&gt; initial,\r\n                                                     Set&lt;T&gt;... rest) {\r\n        FluentIterable&lt;T&gt; result =  FluentIterable.from(initial);\r\n        for(Set&lt;T&gt; set : rest) {\r\n            result = result.append(set);\r\n        }\r\n        return new TreeSet&lt;&gt;(result.toSet());\r\n    }\r\n\r\nThe resultant set here is in natural order.  If you don&#39;t want a `TreeSet` and you don&#39;t want to mutate your collection afterwards, then omit the `new TreeSet&lt;&gt;` piece, and loosen the bound on `T`.","title":"How to merge multiple (arbitrary number of) Set&lt;String&gt; into one in Java?","body":"<p>I'm thinking that <code>FluentIterable</code> (in 18.0 and above) can help here, specifically the <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/FluentIterable.html#append(java.lang.Iterable)\" rel=\"nofollow\"><code>append</code> method</a>.</p>\n\n<p>With that, we need to define a convenient helper method - and yes, we're going to use varargs for this.</p>\n\n<pre><code>public &lt;T extends Comparable&lt;T&gt;&gt; Set&lt;T&gt; mergeSets(Set&lt;T&gt; initial,\n                                                 Set&lt;T&gt;... rest) {\n    FluentIterable&lt;T&gt; result =  FluentIterable.from(initial);\n    for(Set&lt;T&gt; set : rest) {\n        result = result.append(set);\n    }\n    return new TreeSet&lt;&gt;(result.toSet());\n}\n</code></pre>\n\n<p>The resultant set here is in natural order.  If you don't want a <code>TreeSet</code> and you don't want to mutate your collection afterwards, then omit the <code>new TreeSet&lt;&gt;</code> piece, and loosen the bound on <code>T</code>.</p>\n"},{"tags":[],"owner":{"account_id":109733,"reputation":31428,"user_id":290629,"accept_rate":88,"display_name":" Shengyuan Lu"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1417583105,"creation_date":1417582781,"answer_id":27263966,"question_id":27263604,"body_markdown":"Recommend `com.google.common.collect.Sets#union(set1, set2)` to get the merge instead of `Set.addAll` under hood, since Guava is already in your dependencies. \r\n\r\nReason: it&#39;s **view** which is memory effective, and also **unmodifiable**.\r\n\r\nplus: I should have post it as a *comment*, sorry.","title":"How to merge multiple (arbitrary number of) Set&lt;String&gt; into one in Java?","body":"<p>Recommend <code>com.google.common.collect.Sets#union(set1, set2)</code> to get the merge instead of <code>Set.addAll</code> under hood, since Guava is already in your dependencies. </p>\n\n<p>Reason: it's <strong>view</strong> which is memory effective, and also <strong>unmodifiable</strong>.</p>\n\n<p>plus: I should have post it as a <em>comment</em>, sorry.</p>\n"},{"tags":[],"owner":{"account_id":8308355,"reputation":181,"user_id":6244514,"display_name":"Shannon S"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1522271300,"creation_date":1522271300,"answer_id":49544217,"question_id":27263604,"body_markdown":"How about creating a collection of your input sets, then using `flatMap`?\r\n\r\n    Set&lt;String&gt; allElements = ImmutableSet.of(\r\n            One.SET,\r\n            Two.SET,\r\n            Three.SET\r\n    ).stream().flatMap(Collection::stream).collect(Collectors.toSet());\r\n","title":"How to merge multiple (arbitrary number of) Set&lt;String&gt; into one in Java?","body":"<p>How about creating a collection of your input sets, then using <code>flatMap</code>?</p>\n\n<pre><code>Set&lt;String&gt; allElements = ImmutableSet.of(\n        One.SET,\n        Two.SET,\n        Three.SET\n).stream().flatMap(Collection::stream).collect(Collectors.toSet());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8603033,"reputation":1,"user_id":6443943,"display_name":"mohit gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680123582,"creation_date":1679855452,"answer_id":75849760,"question_id":27263604,"body_markdown":"This should help. One liner in Java 8:\r\n\r\n```\r\nStream.of(sets).flatMap(Set::stream).collect(Collectors.toSet())\r\n```","title":"How to merge multiple (arbitrary number of) Set&lt;String&gt; into one in Java?","body":"<p>This should help. One liner in Java 8:</p>\n<pre><code>Stream.of(sets).flatMap(Set::stream).collect(Collectors.toSet())\n</code></pre>\n"}],"owner":{"account_id":1521312,"reputation":8317,"user_id":2175052,"accept_rate":71,"display_name":"Jane Wayne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13016,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":27263722,"answer_count":6,"score":7,"last_activity_date":1680123582,"creation_date":1417580556,"question_id":27263604,"body_markdown":"I have multiple `Set&lt;String&gt;` that I need to merge into one `Set&lt;String&gt;`. How do I do this operation in Java? Note, I am using using the `guava` API as best as I can to help out. For example, I have 3 classes as follows.\r\n\r\n    public class One {\r\n     public static Set&lt;String&gt; SET = Sets.newHashSet(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;);\r\n    }\r\n    public class Two {\r\n     public static Set&lt;String&gt; SET = Sets.newHashSet(&quot;a&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;);\r\n    }\r\n    public class Three {\r\n     public static Set&lt;String&gt; SET = Sets.newHashSet(&quot;w&quot;,&quot;x&quot;,&quot;y&quot;,&quot;f&quot;);\r\n    }\r\n\r\nNow, I need to merge any combination of these sets into one. For, example, I may need to merge\r\n\r\n - `One.SET` + `Two.SET` + `Three.SET` into one to produce { &quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;,&quot;w&quot;,&quot;x&quot;,&quot;y&quot; }, \r\n - `One.SET` + `Three.SET` into one to produce { &quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;w&quot;,&quot;x&quot;,&quot;y&quot;,&quot;f&quot; },\r\n - `Two.SET` + `Three.SET` into one to produce { &quot;a&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;,&quot;w&quot;,&quot;x&quot;,&quot;y&quot; },\r\n - and so on\r\n\r\nI created a method to merge an array of sets, `Set&lt;String&gt;[]`, but that doesn&#39;t work (explained here by this SO post https://stackoverflow.com/questions/7999192/creating-an-array-of-sets-in-java). Here&#39;s the code to merge. It works (compiles).\r\n\r\n    public static Set&lt;String&gt; immutableSetOf(Set&lt;String&gt;[] sets) {\r\n     Set&lt;String&gt; set = new HashSet&lt;String&gt;();\r\n     for(Set&lt;String&gt; s : sets) {\r\n      set.addAll(s);\r\n     }\r\n     return ImmutableSet.copyOf(set);\r\n    }\r\n\r\nHere&#39;s the calling code; it doesn&#39;t work (doesn&#39;t compile).\r\n\r\n    Set&lt;String&gt; set = Utils.immutableSetOf(new Set&lt;String&gt;[] { One.SET, Two.SET });\r\n\r\nSo, I modified my merging method to operate on `List&lt;Set&lt;String&gt;&gt;` instead of `Set&lt;String&gt;[]`. Only the argument type changed, but I put it here for completeness.\r\n\r\n    public static Set&lt;String&gt; immutableSetOf(List&lt;Set&lt;String&gt;&gt; sets) {\r\n     Set&lt;String&gt; set = new HashSet&lt;String&gt;();\r\n     for(Set&lt;String&gt; s : sets) {\r\n      set.addAll(s);\r\n     }\r\n     return ImmutableSet.copyOf(set);\r\n    }\r\n\r\nSo, now my calling code looks like the following.\r\n\r\n    Set&lt;String&gt; set = Utils.immutableSetOf(\r\n     Lists.newArrayList(\r\n      One.SET, Two.SET));\r\n\r\nThis code does not compile, since `Lists.newArrayList(...)` is returning `Set&lt;String&gt;` and not `List&lt;Set&lt;String&gt;&gt;`. The method `Lists.newArrayList(...)` is overloaded, and the signature of the method that is used when I pass in sets is, `List.newArrayList(Iterable&lt;? extends E&gt; elements)`.\r\n\r\nSo, the question is, how do I define a method to merge an arbitrary number of `Set&lt;String&gt;` while considering the calling code? I note that the compilation problems are on the calling code (not the merging method), but perhaps the solution also relates to the merging code? \r\n\r\nUpdate: I also tried varargs but that produces its own warning (https://stackoverflow.com/questions/1445233/is-it-possible-to-solve-the-a-generic-array-of-t-is-created-for-a-varargs-param). The merging method signature is now the following.\r\n\r\n    public static Set&lt;String&gt; immutableSetOf(Set&lt;String&gt;... sets)\r\n\r\nThe calling code is now the following, and I get &quot;Type safety: A generic array of Set&lt;String&gt; is created for a varargs parameter&quot;.\r\n\r\n    Set&lt;String&gt; set = Utils.immutableSetOf(One.SET, Two.SET);\r\n\r\nUpdate: For the accepted answer, I did the following.\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    Set&lt;String&gt; set = Utils.immutableSetOf(Set[] { One.SET, Two.SET });","title":"How to merge multiple (arbitrary number of) Set&lt;String&gt; into one in Java?","body":"<p>I have multiple <code>Set&lt;String&gt;</code> that I need to merge into one <code>Set&lt;String&gt;</code>. How do I do this operation in Java? Note, I am using using the <code>guava</code> API as best as I can to help out. For example, I have 3 classes as follows.</p>\n\n<pre><code>public class One {\n public static Set&lt;String&gt; SET = Sets.newHashSet(\"a\",\"b\",\"c\");\n}\npublic class Two {\n public static Set&lt;String&gt; SET = Sets.newHashSet(\"a\",\"d\",\"e\",\"f\");\n}\npublic class Three {\n public static Set&lt;String&gt; SET = Sets.newHashSet(\"w\",\"x\",\"y\",\"f\");\n}\n</code></pre>\n\n<p>Now, I need to merge any combination of these sets into one. For, example, I may need to merge</p>\n\n<ul>\n<li><code>One.SET</code> + <code>Two.SET</code> + <code>Three.SET</code> into one to produce { \"a\",\"b\",\"c\",\"d\",\"e\",\"f\",\"w\",\"x\",\"y\" }, </li>\n<li><code>One.SET</code> + <code>Three.SET</code> into one to produce { \"a\",\"b\",\"c\",\"w\",\"x\",\"y\",\"f\" },</li>\n<li><code>Two.SET</code> + <code>Three.SET</code> into one to produce { \"a\",\"d\",\"e\",\"f\",\"w\",\"x\",\"y\" },</li>\n<li>and so on</li>\n</ul>\n\n<p>I created a method to merge an array of sets, <code>Set&lt;String&gt;[]</code>, but that doesn't work (explained here by this SO post <a href=\"https://stackoverflow.com/questions/7999192/creating-an-array-of-sets-in-java\">Creating an array of Sets in Java</a>). Here's the code to merge. It works (compiles).</p>\n\n<pre><code>public static Set&lt;String&gt; immutableSetOf(Set&lt;String&gt;[] sets) {\n Set&lt;String&gt; set = new HashSet&lt;String&gt;();\n for(Set&lt;String&gt; s : sets) {\n  set.addAll(s);\n }\n return ImmutableSet.copyOf(set);\n}\n</code></pre>\n\n<p>Here's the calling code; it doesn't work (doesn't compile).</p>\n\n<pre><code>Set&lt;String&gt; set = Utils.immutableSetOf(new Set&lt;String&gt;[] { One.SET, Two.SET });\n</code></pre>\n\n<p>So, I modified my merging method to operate on <code>List&lt;Set&lt;String&gt;&gt;</code> instead of <code>Set&lt;String&gt;[]</code>. Only the argument type changed, but I put it here for completeness.</p>\n\n<pre><code>public static Set&lt;String&gt; immutableSetOf(List&lt;Set&lt;String&gt;&gt; sets) {\n Set&lt;String&gt; set = new HashSet&lt;String&gt;();\n for(Set&lt;String&gt; s : sets) {\n  set.addAll(s);\n }\n return ImmutableSet.copyOf(set);\n}\n</code></pre>\n\n<p>So, now my calling code looks like the following.</p>\n\n<pre><code>Set&lt;String&gt; set = Utils.immutableSetOf(\n Lists.newArrayList(\n  One.SET, Two.SET));\n</code></pre>\n\n<p>This code does not compile, since <code>Lists.newArrayList(...)</code> is returning <code>Set&lt;String&gt;</code> and not <code>List&lt;Set&lt;String&gt;&gt;</code>. The method <code>Lists.newArrayList(...)</code> is overloaded, and the signature of the method that is used when I pass in sets is, <code>List.newArrayList(Iterable&lt;? extends E&gt; elements)</code>.</p>\n\n<p>So, the question is, how do I define a method to merge an arbitrary number of <code>Set&lt;String&gt;</code> while considering the calling code? I note that the compilation problems are on the calling code (not the merging method), but perhaps the solution also relates to the merging code? </p>\n\n<p>Update: I also tried varargs but that produces its own warning (<a href=\"https://stackoverflow.com/questions/1445233/is-it-possible-to-solve-the-a-generic-array-of-t-is-created-for-a-varargs-param\">Is it possible to solve the &quot;A generic array of T is created for a varargs parameter&quot; compiler warning?</a>). The merging method signature is now the following.</p>\n\n<pre><code>public static Set&lt;String&gt; immutableSetOf(Set&lt;String&gt;... sets)\n</code></pre>\n\n<p>The calling code is now the following, and I get \"Type safety: A generic array of Set is created for a varargs parameter\".</p>\n\n<pre><code>Set&lt;String&gt; set = Utils.immutableSetOf(One.SET, Two.SET);\n</code></pre>\n\n<p>Update: For the accepted answer, I did the following.</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\nSet&lt;String&gt; set = Utils.immutableSetOf(Set[] { One.SET, Two.SET });\n</code></pre>\n"},{"tags":["java","data-structures"],"answers":[{"tags":[],"owner":{"account_id":17823878,"reputation":1064,"user_id":12945569,"display_name":"Fr&#233;d&#233;ric LOYER"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680118885,"creation_date":1680114857,"answer_id":75880919,"question_id":75880544,"body_markdown":"When you initialize the `HashMap`:\r\n\r\n```\r\n    public HashMap(){\r\n        this.array = new List[32];\r\n        this.firstFreeIndex=0;\r\n    }\r\n```\r\nYou create an array of `List` with 32 null references.\r\n\r\nAfterward, when you try to grow the `HashMap`:\r\n\r\n```\r\n        for(int i = 0; i&lt;this.array[index].size(); i++){\r\n```\r\n\r\nYou use the array cells without verifying if they are null references.\r\n\r\nI should have read:\r\n```\r\n     if(this.array[index] != null)\r\n     {\r\n        for(int i = 0; i&lt;this.array[index].size(); i++){\r\n```\r\n\r\nThe bug may not happens on some implementation depending of `hashCode`. If you are lucky, the array can be full before the `grow` invocation. If you are less lucky, their will have some holes.","title":"NullPointerException in designed data structures when adding elements to","body":"<p>When you initialize the <code>HashMap</code>:</p>\n<pre><code>    public HashMap(){\n        this.array = new List[32];\n        this.firstFreeIndex=0;\n    }\n</code></pre>\n<p>You create an array of <code>List</code> with 32 null references.</p>\n<p>Afterward, when you try to grow the <code>HashMap</code>:</p>\n<pre><code>        for(int i = 0; i&lt;this.array[index].size(); i++){\n</code></pre>\n<p>You use the array cells without verifying if they are null references.</p>\n<p>I should have read:</p>\n<pre><code>     if(this.array[index] != null)\n     {\n        for(int i = 0; i&lt;this.array[index].size(); i++){\n</code></pre>\n<p>The bug may not happens on some implementation depending of <code>hashCode</code>. If you are lucky, the array can be full before the <code>grow</code> invocation. If you are less lucky, their will have some holes.</p>\n"}],"owner":{"account_id":27219215,"reputation":23,"user_id":20748776,"display_name":"crawwwler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680122725,"creation_date":1680112093,"question_id":75880544,"body_markdown":"i have three class Hashmap&lt;K,V&gt; , List&lt;T&gt;, Pair&lt;K,V&gt; :\r\n\r\nMain: \r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; myList = new List&lt;&gt;();\r\n        HashMap&lt;String, String&gt; hashMap = new HashMap&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; 100000; i++) {\r\n            myList.add(&quot;&quot; + i);\r\n            hashMap.add(&quot;&quot; + i, &quot;&quot; + i+1000);\r\n        }\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nHashmap:\r\n\r\n```\r\npublic class HashMap &lt;K,V&gt;{\r\n    private List&lt;Pair&lt;K,V&gt;&gt;[] array;\r\n    private int firstFreeIndex;\r\n\r\n    public HashMap(){\r\n        this.array = new List[32];\r\n        this.firstFreeIndex=0;\r\n    }\r\n\r\n    // to retrieve a value with key;\r\n    public V get(K key){\r\n        //to do anything with key we need hashValue;\r\n        int hashValue = Math.abs(key.hashCode() % this.array.length);\r\n        if(this.array[hashValue] == null){\r\n            return null;\r\n        }\r\n        List&lt;Pair&lt;K,V&gt;&gt; nList = this.array[hashValue];\r\n        for(int i =0; i&lt; nList.size(); i++){\r\n            if(nList.value(i).getKey().equals(key)){\r\n                return nList.value(i).getValue();\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    // to add pairs;\r\n    public void add(K key, V value){\r\n        if(key == null){\r\n            return;\r\n        }\r\n        List&lt;Pair&lt;K,V&gt;&gt; nList = getList(key);\r\n        int index = getIndexOf(nList,key);\r\n\r\n        if(index &lt; 0){\r\n            nList.add(new Pair&lt;&gt;(key,value));\r\n            this.firstFreeIndex++;\r\n        } else{\r\n            nList.value(index).setValue(value);\r\n        }\r\n\r\n        if(1.0*this.firstFreeIndex/this.array.length &gt; 0.75){\r\n            //increasing the size of internal array;\r\n            grow();\r\n        }\r\n    }\r\n\r\n    private List&lt;Pair&lt;K,V&gt;&gt; getList(K key){\r\n        //for getting list and everything that should be done with key\r\n        //we need hashValue;\r\n        int hashValue = Math.abs(key.hashCode() % this.array.length);\r\n        if(this.array[hashValue] == null){\r\n            this.array[hashValue] = new List&lt;&gt;();\r\n        }\r\n        return this.array[hashValue];\r\n    }\r\n\r\n    private int getIndexOf(List&lt;Pair&lt;K,V&gt;&gt; nList, K key){\r\n        for (int i=0; i&lt;nList.size(); i++){\r\n            if(nList.value(i).getKey().equals(key)){\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    private void grow(){\r\n        List&lt;Pair&lt;K,V&gt;&gt;[] nArray = new List[this.array.length*2];\r\n\r\n        for(int i=0; i &lt; this.firstFreeIndex; i++){\r\n            copy(nArray,i);\r\n        }\r\n\r\n        this.array = nArray;\r\n\r\n    }\r\n\r\n    private void copy(List&lt;Pair&lt;K,V&gt;&gt;[] nList, int index){\r\n        for(int i = 0; i&lt;this.array[index].size(); i++){\r\n            Pair&lt;K,V&gt; nP = this.array[index].value(i);\r\n\r\n            int hashValue = Math.abs(nP.getKey().hashCode() % nList.length);\r\n            if(nList[hashValue] == null){\r\n                nList[hashValue] = new List&lt;&gt;();\r\n            }\r\n            nList[hashValue].add(nP);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nList:\r\n\r\n```\r\npublic class List &lt;T&gt;{\r\n    private T[] array;\r\n    private int firstFreeIndex;\r\n    public List(){\r\n        this.array = (T[]) new Object[10];\r\n        this.firstFreeIndex = 0;\r\n    }\r\n\r\n    public void add(T value){\r\n        if(this.firstFreeIndex == this.array.length){\r\n            grow();\r\n        }\r\n        this.array[this.firstFreeIndex] = value;\r\n        this.firstFreeIndex++;\r\n    }\r\n\r\n\r\n    public boolean contains(T value){\r\n        for(int i=0; i &lt; this.firstFreeIndex; i++){\r\n            if(this.array[i].equals(value)){\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public void remove(T value){\r\n        int index = indexOfValue(value);\r\n        if(index&lt;0){\r\n            return;\r\n        }\r\n        moveToLeft(index);\r\n        this.firstFreeIndex--;\r\n\r\n    }\r\n\r\n    private void grow(){\r\n        int newSize = this.array.length + this.array.length /2;\r\n        T[] nArray = (T[]) new Object[newSize];\r\n        for(int i=0; i&lt; this.array.length; i++){\r\n            nArray[i] = this.array[i];\r\n        }\r\n\r\n        this.array = nArray;\r\n    }\r\n\r\n    public T value(int index){\r\n        if(index &lt; 0 || index &gt;= this.firstFreeIndex){\r\n            throw new ArrayIndexOutOfBoundsException(&quot;index &quot; + index + &quot; is outside of [0,&quot; + this.firstFreeIndex + &quot;]&quot;);\r\n        }\r\n        return this.array[index];\r\n    }\r\n\r\n    public int size(){\r\n        return this.firstFreeIndex;\r\n    }\r\n\r\n    public int indexOfValue(T value){\r\n        for(int i=0; i&lt;this.firstFreeIndex;i++){\r\n            if(this.array[i].equals(value)){\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    private void moveToLeft(int index){\r\n        for(int i = index; i&lt;this.firstFreeIndex-1;i++){\r\n            this.array[i] = this.array[i+1];\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nPair:\r\n\r\n```\r\npublic class Pair &lt;K,V&gt;{\r\n    private K key;\r\n    private V value;\r\n\r\n    public Pair(K key, V value){\r\n        this.key = key;\r\n        this.value = value;\r\n    }\r\n\r\n    public K getKey(){\r\n        return this.key;\r\n    }\r\n\r\n    public V getValue(){\r\n        return this.value;\r\n    }\r\n\r\n    public void setValue(V value){\r\n        this.value = value;\r\n    }\r\n}\r\n```\r\n\r\n\r\n when i try to add 100 pair elements to hashmap i get this error:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;List.size()&quot; because &quot;this.array[index]&quot; is null\r\n&gt; \tat HashMap.copy(HashMap.java:79)\r\n&gt; \tat HashMap.grow(HashMap.java:71)\r\n&gt; \tat HashMap.add(HashMap.java:44)\r\n&gt; \tat Main.main(Main.java:10)\r\n\r\n\r\nwhy? i just get this error on intellij , and the same implementations got no error on netbeans. \r\nim new to programming , so there might be something that i dont know\r\n","title":"NullPointerException in designed data structures when adding elements to","body":"<p>i have three class Hashmap&lt;K,V&gt; , List, Pair&lt;K,V&gt; :</p>\n<p>Main:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        List&lt;String&gt; myList = new List&lt;&gt;();\n        HashMap&lt;String, String&gt; hashMap = new HashMap&lt;&gt;();\n\n        for (int i = 0; i &lt; 100000; i++) {\n            myList.add(&quot;&quot; + i);\n            hashMap.add(&quot;&quot; + i, &quot;&quot; + i+1000);\n        }\n\n\n    }\n}\n</code></pre>\n<p>Hashmap:</p>\n<pre><code>public class HashMap &lt;K,V&gt;{\n    private List&lt;Pair&lt;K,V&gt;&gt;[] array;\n    private int firstFreeIndex;\n\n    public HashMap(){\n        this.array = new List[32];\n        this.firstFreeIndex=0;\n    }\n\n    // to retrieve a value with key;\n    public V get(K key){\n        //to do anything with key we need hashValue;\n        int hashValue = Math.abs(key.hashCode() % this.array.length);\n        if(this.array[hashValue] == null){\n            return null;\n        }\n        List&lt;Pair&lt;K,V&gt;&gt; nList = this.array[hashValue];\n        for(int i =0; i&lt; nList.size(); i++){\n            if(nList.value(i).getKey().equals(key)){\n                return nList.value(i).getValue();\n            }\n        }\n        return null;\n    }\n\n    // to add pairs;\n    public void add(K key, V value){\n        if(key == null){\n            return;\n        }\n        List&lt;Pair&lt;K,V&gt;&gt; nList = getList(key);\n        int index = getIndexOf(nList,key);\n\n        if(index &lt; 0){\n            nList.add(new Pair&lt;&gt;(key,value));\n            this.firstFreeIndex++;\n        } else{\n            nList.value(index).setValue(value);\n        }\n\n        if(1.0*this.firstFreeIndex/this.array.length &gt; 0.75){\n            //increasing the size of internal array;\n            grow();\n        }\n    }\n\n    private List&lt;Pair&lt;K,V&gt;&gt; getList(K key){\n        //for getting list and everything that should be done with key\n        //we need hashValue;\n        int hashValue = Math.abs(key.hashCode() % this.array.length);\n        if(this.array[hashValue] == null){\n            this.array[hashValue] = new List&lt;&gt;();\n        }\n        return this.array[hashValue];\n    }\n\n    private int getIndexOf(List&lt;Pair&lt;K,V&gt;&gt; nList, K key){\n        for (int i=0; i&lt;nList.size(); i++){\n            if(nList.value(i).getKey().equals(key)){\n                return i;\n            }\n        }\n        return -1;\n    }\n\n    private void grow(){\n        List&lt;Pair&lt;K,V&gt;&gt;[] nArray = new List[this.array.length*2];\n\n        for(int i=0; i &lt; this.firstFreeIndex; i++){\n            copy(nArray,i);\n        }\n\n        this.array = nArray;\n\n    }\n\n    private void copy(List&lt;Pair&lt;K,V&gt;&gt;[] nList, int index){\n        for(int i = 0; i&lt;this.array[index].size(); i++){\n            Pair&lt;K,V&gt; nP = this.array[index].value(i);\n\n            int hashValue = Math.abs(nP.getKey().hashCode() % nList.length);\n            if(nList[hashValue] == null){\n                nList[hashValue] = new List&lt;&gt;();\n            }\n            nList[hashValue].add(nP);\n        }\n    }\n}\n</code></pre>\n<p>List:</p>\n<pre><code>public class List &lt;T&gt;{\n    private T[] array;\n    private int firstFreeIndex;\n    public List(){\n        this.array = (T[]) new Object[10];\n        this.firstFreeIndex = 0;\n    }\n\n    public void add(T value){\n        if(this.firstFreeIndex == this.array.length){\n            grow();\n        }\n        this.array[this.firstFreeIndex] = value;\n        this.firstFreeIndex++;\n    }\n\n\n    public boolean contains(T value){\n        for(int i=0; i &lt; this.firstFreeIndex; i++){\n            if(this.array[i].equals(value)){\n                return true;\n            }\n        }\n        return false;\n    }\n\n    public void remove(T value){\n        int index = indexOfValue(value);\n        if(index&lt;0){\n            return;\n        }\n        moveToLeft(index);\n        this.firstFreeIndex--;\n\n    }\n\n    private void grow(){\n        int newSize = this.array.length + this.array.length /2;\n        T[] nArray = (T[]) new Object[newSize];\n        for(int i=0; i&lt; this.array.length; i++){\n            nArray[i] = this.array[i];\n        }\n\n        this.array = nArray;\n    }\n\n    public T value(int index){\n        if(index &lt; 0 || index &gt;= this.firstFreeIndex){\n            throw new ArrayIndexOutOfBoundsException(&quot;index &quot; + index + &quot; is outside of [0,&quot; + this.firstFreeIndex + &quot;]&quot;);\n        }\n        return this.array[index];\n    }\n\n    public int size(){\n        return this.firstFreeIndex;\n    }\n\n    public int indexOfValue(T value){\n        for(int i=0; i&lt;this.firstFreeIndex;i++){\n            if(this.array[i].equals(value)){\n                return i;\n            }\n        }\n        return -1;\n    }\n\n    private void moveToLeft(int index){\n        for(int i = index; i&lt;this.firstFreeIndex-1;i++){\n            this.array[i] = this.array[i+1];\n        }\n    }\n}\n</code></pre>\n<p>Pair:</p>\n<pre><code>public class Pair &lt;K,V&gt;{\n    private K key;\n    private V value;\n\n    public Pair(K key, V value){\n        this.key = key;\n        this.value = value;\n    }\n\n    public K getKey(){\n        return this.key;\n    }\n\n    public V getValue(){\n        return this.value;\n    }\n\n    public void setValue(V value){\n        this.value = value;\n    }\n}\n</code></pre>\n<p>when i try to add 100 pair elements to hashmap i get this error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;List.size()&quot; because &quot;this.array[index]&quot; is null\nat HashMap.copy(HashMap.java:79)\nat HashMap.grow(HashMap.java:71)\nat HashMap.add(HashMap.java:44)\nat Main.main(Main.java:10)</p>\n</blockquote>\n<p>why? i just get this error on intellij , and the same implementations got no error on netbeans.\nim new to programming , so there might be something that i dont know</p>\n"},{"tags":["java","android","android-flavors"],"answers":[{"tags":[],"owner":{"account_id":2647979,"reputation":1049,"user_id":2290295,"accept_rate":80,"display_name":"Ruslan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680098575,"creation_date":1680090102,"answer_id":75876733,"question_id":75876161,"body_markdown":"You can declare all Flavor dependant IDs beforehand under `values/ids.xml` as follows:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n    ...\r\n       &lt;item type=&quot;id&quot; name=&quot;someflavorUniqueViewId1&quot;/&gt;\r\n    ...\r\n    &lt;/resources&gt;\r\n\r\nAnd in xml layout files you can assign IDs which you already declared, e.g.\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n                android:id=&quot;@id/someflavorUniqueViewId1&quot; ...\r\n\r\nPlease note that I&#39;m using `@id` and not `@+id`. That is because ID is already declared in `ids.xml`, so we don&#39;t need to create a new one.\r\n\r\nAfter that you could check your build Flavor in runtime and act accordingly. \r\n\r\n    @Nullable View optionalView1;\r\n    \r\n    if (BuildConfig.FLAVOR.equals(&quot;flavor1&quot;)) {\r\n        optionalView1 = findViewById(R.id.someflavorUniqueViewId1);\r\n    }\r\n            \r\nYou just mark all Flavor dependant views as `@Nullable`, so IDE will help you not to forget to check for null in places where it is needed.\r\n\r\nAlso, please consider switching to [ViewBinding][1], it has some advantages over finding view manually by id.\r\n            \r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/view-binding","title":"Flavor specific views not compiling under other build variants","body":"<p>You can declare all Flavor dependant IDs beforehand under <code>values/ids.xml</code> as follows:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;resources&gt;\n...\n   &lt;item type=&quot;id&quot; name=&quot;someflavorUniqueViewId1&quot;/&gt;\n...\n&lt;/resources&gt;\n</code></pre>\n<p>And in xml layout files you can assign IDs which you already declared, e.g.</p>\n<pre><code>&lt;androidx.cardview.widget.CardView\n            android:id=&quot;@id/someflavorUniqueViewId1&quot; ...\n</code></pre>\n<p>Please note that I'm using <code>@id</code> and not <code>@+id</code>. That is because ID is already declared in <code>ids.xml</code>, so we don't need to create a new one.</p>\n<p>After that you could check your build Flavor in runtime and act accordingly.</p>\n<pre><code>@Nullable View optionalView1;\n\nif (BuildConfig.FLAVOR.equals(&quot;flavor1&quot;)) {\n    optionalView1 = findViewById(R.id.someflavorUniqueViewId1);\n}\n        \n</code></pre>\n<p>You just mark all Flavor dependant views as <code>@Nullable</code>, so IDE will help you not to forget to check for null in places where it is needed.</p>\n<p>Also, please consider switching to <a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">ViewBinding</a>, it has some advantages over finding view manually by id.</p>\n"}],"owner":{"account_id":27469504,"reputation":23,"user_id":20958695,"display_name":"user20958695"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75876733,"answer_count":1,"score":0,"last_activity_date":1680122332,"creation_date":1680086562,"question_id":75876161,"body_markdown":"I have one `MainActivity.java` activity, one `main.xml` file and multiple flavors, each flavor having its own version of `main.xml` which gets priority over the main flavor&#39;s `main.xml` file, and each flavor has its unique views.\r\n\r\nThe problem is that when choosing some build variant (some flavor) the other flavors&#39; unique views don&#39;t compile (&#39;cannot find symbol&#39;) on their `findViewById(R.id.someflavorUniqueViewId)` because clearly they are not existing in this flavor.\r\n\r\nThe solution I found was to make some &#39;dummy views&#39; that are empty so that all views appear in all flavors and this solves it, but it&#39;s messy and if I would have a lot of flavors, then any update of some flavor to contain a new view would require adding these &#39;dummy views&#39; in all corresponding layout files, which doesn&#39;t make much sense.\r\n\r\nIs there a better solution for this problem?\r\n\r\nWas hoping for something like this but couldn&#39;t find a way to do it:\r\n\r\n    if (viewExists(&quot;someFlavorUniqueViewName&quot;)) {\r\n        int flavorUniqueId = getViewId(&quot;someFlavorUniqueViewName&quot;);\r\n        View flavorUniqueView = findViewById(flavorUniqueId);\r\n    }\r\n\r\nEdit: I found how to solve it programmatically:\r\n\r\n    if (BuildConfig.FLAVOR.equals(&quot;someFlavor&quot;)) {\r\n        int flavorUniqueId = getResources().getIdentifier(&quot;someFlavorUniqueViewName&quot;, &quot;id&quot;, getPackageName());\r\n        View flavorUniqueView = findViewById(flavorUniqueId);\r\n        // do something...\r\n    }\r\n\r\nI believe this has a slight efficiency drawback versus the XML solution in Ruslan&#39;s answer, but I ended up using this one since I was actually updating a huge code base and didn&#39;t want to change too much there. So in case anyone facing this problem, this is another solution.","title":"Flavor specific views not compiling under other build variants","body":"<p>I have one <code>MainActivity.java</code> activity, one <code>main.xml</code> file and multiple flavors, each flavor having its own version of <code>main.xml</code> which gets priority over the main flavor's <code>main.xml</code> file, and each flavor has its unique views.</p>\n<p>The problem is that when choosing some build variant (some flavor) the other flavors' unique views don't compile ('cannot find symbol') on their <code>findViewById(R.id.someflavorUniqueViewId)</code> because clearly they are not existing in this flavor.</p>\n<p>The solution I found was to make some 'dummy views' that are empty so that all views appear in all flavors and this solves it, but it's messy and if I would have a lot of flavors, then any update of some flavor to contain a new view would require adding these 'dummy views' in all corresponding layout files, which doesn't make much sense.</p>\n<p>Is there a better solution for this problem?</p>\n<p>Was hoping for something like this but couldn't find a way to do it:</p>\n<pre><code>if (viewExists(&quot;someFlavorUniqueViewName&quot;)) {\n    int flavorUniqueId = getViewId(&quot;someFlavorUniqueViewName&quot;);\n    View flavorUniqueView = findViewById(flavorUniqueId);\n}\n</code></pre>\n<p>Edit: I found how to solve it programmatically:</p>\n<pre><code>if (BuildConfig.FLAVOR.equals(&quot;someFlavor&quot;)) {\n    int flavorUniqueId = getResources().getIdentifier(&quot;someFlavorUniqueViewName&quot;, &quot;id&quot;, getPackageName());\n    View flavorUniqueView = findViewById(flavorUniqueId);\n    // do something...\n}\n</code></pre>\n<p>I believe this has a slight efficiency drawback versus the XML solution in Ruslan's answer, but I ended up using this one since I was actually updating a huge code base and didn't want to change too much there. So in case anyone facing this problem, this is another solution.</p>\n"},{"tags":["java","apache-kafka","proxy","immutability","kafka-producer-api"],"owner":{"account_id":6580288,"reputation":87,"user_id":5084760,"display_name":"Abhishek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680122265,"creation_date":1680122265,"question_id":75881957,"body_markdown":" I&#39;m creating 2 producers with KafkaProducer in a non-spring java application using kafka-clients  as :\r\n\r\n```\r\n    \r\n            Producer producer1 = new KafkaProducer&lt;&gt;(producerProperties1);\r\n\t\t\tProducer producer2 = new KafkaProducer&lt;&gt;(producerProperties2);\r\n\r\n```\r\nand then using proxy design pattern to using Proxy design to invoke Producer.send(new ProducerRecord), code from client side -&gt;\r\n\r\n```\r\nProducerRecord&lt;String, T&gt; producerRecord = new ProducerRecord&lt;&gt;(topicName, key, payLoad);\r\n\t\tproducer.send(producerRecord, new Callback() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onCompletion(RecordMetadata response, Exception e) {\r\n\t\t\t\tif (e != null) {\r\n\t\t\t\t\tString localErrorMsg=&quot;Exception while sending to &quot; + topicName + &quot; Kafka topic for win &quot; + key + &quot;with payload &quot; + payLoad.toString();\r\n\t\t\t\t\tLOG.error(localErrorMsg, e);\r\n\t\t\t\t\tthrow new KafkaException(localErrorMsg, e);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tLOG.info(&quot;Message sent successfully to kafka, Offset returned : &quot; + response.offset() + &quot;, Topic name: &quot; + response.topic()\r\n\t\t\t\t\t\t\t+ &quot;, partition : &quot; + response.partition() + &quot; for win &quot; + key + &quot; with paylaod &quot; + payLoad.toString());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n```\r\nbut getting exception as -&gt; java.lang.IllegalStateException: RecordHeaders has been closed.\r\nAlready searched and got one recommendation here : \r\n[Producer Record immutability](https://github.com/spring-projects/spring-kafka/issues/2067)\r\n\r\nIssue is i cannot use KafkaTemplate in this non spring java application, i can only use kafka-clients , but KafkaProducer dont have a overloaded send(String topicName, K key, V value) method similar to KafkaTemplate, any idea how to tackle this immutability would really help\r\nNote : Please see above github issue and the fact we are using a library based on proxy pattern to invoke send method from client side to auto fail over to different producer.","title":"Construct different Kafka Producers send same producerRecord, failure with java.lang.IllegalStateException: RecordHeaders has been closed","body":"<p>I'm creating 2 producers with KafkaProducer in a non-spring java application using kafka-clients  as :</p>\n<pre><code>    \n            Producer producer1 = new KafkaProducer&lt;&gt;(producerProperties1);\n            Producer producer2 = new KafkaProducer&lt;&gt;(producerProperties2);\n\n</code></pre>\n<p>and then using proxy design pattern to using Proxy design to invoke Producer.send(new ProducerRecord), code from client side -&gt;</p>\n<pre><code>ProducerRecord&lt;String, T&gt; producerRecord = new ProducerRecord&lt;&gt;(topicName, key, payLoad);\n        producer.send(producerRecord, new Callback() {\n\n            @Override\n            public void onCompletion(RecordMetadata response, Exception e) {\n                if (e != null) {\n                    String localErrorMsg=&quot;Exception while sending to &quot; + topicName + &quot; Kafka topic for win &quot; + key + &quot;with payload &quot; + payLoad.toString();\n                    LOG.error(localErrorMsg, e);\n                    throw new KafkaException(localErrorMsg, e);\n                } else {\n                    LOG.info(&quot;Message sent successfully to kafka, Offset returned : &quot; + response.offset() + &quot;, Topic name: &quot; + response.topic()\n                            + &quot;, partition : &quot; + response.partition() + &quot; for win &quot; + key + &quot; with paylaod &quot; + payLoad.toString());\n                }\n            }\n        });\n</code></pre>\n<p>but getting exception as -&gt; java.lang.IllegalStateException: RecordHeaders has been closed.\nAlready searched and got one recommendation here :\n<a href=\"https://github.com/spring-projects/spring-kafka/issues/2067\" rel=\"nofollow noreferrer\">Producer Record immutability</a></p>\n<p>Issue is i cannot use KafkaTemplate in this non spring java application, i can only use kafka-clients , but KafkaProducer dont have a overloaded send(String topicName, K key, V value) method similar to KafkaTemplate, any idea how to tackle this immutability would really help\nNote : Please see above github issue and the fact we are using a library based on proxy pattern to invoke send method from client side to auto fail over to different producer.</p>\n"},{"tags":["java","windows","maven"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1679528244,"post_id":75817999,"comment_id":133740244,"body_markdown":"And ... what about my second question?   And is that setting correct?","body":"And ... what about my second question?   And is that setting correct?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1679529158,"post_id":75817999,"comment_id":133740351,"body_markdown":"OK ... but the point is that the Windows shell etc will be using the shell&#39;s *effective* settings for %PATH% and %MAVEN_HOME% *for the user* to work out where the `mvn` command is.  Did you check what the environment variable settings were *in the shell*?","body":"OK ... but the point is that the Windows shell etc will be using the shell&#39;s <i>effective</i> settings for %PATH% and %MAVEN_HOME% <i>for the user</i> to work out where the <code>mvn</code> command is.  Did you check what the environment variable settings were <i>in the shell</i>?"},{"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"score":0,"creation_date":1679529311,"post_id":75817999,"comment_id":133740369,"body_markdown":"hi @StephenC doing &quot;set&quot; command in windows, shows the exact same as control panel","body":"hi @StephenC doing &quot;set&quot; command in windows, shows the exact same as control panel"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1679529627,"post_id":75817999,"comment_id":133740409,"body_markdown":"Is that in the shell running as the normal user?  Also ... did you try setting the %PATH% entry to &quot;C:\\apache-maven-3.9.1\\bin&quot; directly?","body":"Is that in the shell running as the normal user?  Also ... did you try setting the %PATH% entry to &quot;C:\\apache-maven-3.9.1\\bin&quot; directly?"},{"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"score":0,"creation_date":1680004067,"post_id":75817999,"comment_id":133819083,"body_markdown":"How did you install it? `choco install maven` doesn&#39;t require adding/changing environment variables.","body":"How did you install it? <code>choco install maven</code> doesn&#39;t require adding/changing environment variables."},{"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"score":0,"creation_date":1680004130,"post_id":75817999,"comment_id":133819103,"body_markdown":"If you are touching the environment variables, make sure to start a new console after you applied the changes, otherwise they won&#39;t be picked up.","body":"If you are touching the environment variables, make sure to start a new console after you applied the changes, otherwise they won&#39;t be picked up."},{"owner":{"account_id":496250,"reputation":543,"user_id":1757756,"display_name":"Mavaddat Javid"},"score":0,"creation_date":1680464352,"post_id":75817999,"comment_id":133899055,"body_markdown":"It&#39;s not enough to start a new console, unless you have a [startup profile](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_profiles?view=powershell-7.3) that reads the environment variables and sets the `%PATH%`. If you don&#39;t, then you need to sign out and sign in again.","body":"It&#39;s not enough to start a new console, unless you have a <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_profiles?view=powershell-7.3\" rel=\"nofollow noreferrer\">startup profile</a> that reads the environment variables and sets the <code>%PATH%</code>. If you don&#39;t, then you need to sign out and sign in again."},{"owner":{"account_id":7074805,"reputation":1890,"user_id":5415234,"display_name":"Bernhard Stadler"},"score":0,"creation_date":1680593557,"post_id":75817999,"comment_id":133920158,"body_markdown":"@MavaddatJavid Feel free to try it yourself: The changed environment variables are available in new console windows the second you&#39;ve clicked the &quot;OK&quot; button of the &quot;Environment Variables&quot; dialog. No need to sign off and on. Maybe that is necessary for environment variables defined via a group policy when the computer belongs to a domain, but not for environment variables defined locally using the &quot;Environment Variables&quot; dialog under the &quot;System Properties&quot;/&quot;Advanced System Settings&quot; dialog.","body":"@MavaddatJavid Feel free to try it yourself: The changed environment variables are available in new console windows the second you&#39;ve clicked the &quot;OK&quot; button of the &quot;Environment Variables&quot; dialog. No need to sign off and on. Maybe that is necessary for environment variables defined via a group policy when the computer belongs to a domain, but not for environment variables defined locally using the &quot;Environment Variables&quot; dialog under the &quot;System Properties&quot;/&quot;Advanced System Settings&quot; dialog."}],"answers":[{"tags":[],"owner":{"account_id":7074805,"reputation":1890,"user_id":5415234,"display_name":"Bernhard Stadler"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1680122165,"creation_date":1680026145,"answer_id":75869547,"question_id":75817999,"body_markdown":"Judging from your screenshots, your **System** PATH tries to substitute the environent variable MAVEN_HOME, which is only defined as a **User** environment variable. The values of the user environment variables are not available at the time the system environment variables are set, so the actual PATH will contain the unsubstituted, literal string `%MAVEN_HOME%\\bin`. Removing all user variables called MAVEN_HOME (for all users) and adding a system variable MAVEN_HOME with the correct path should resolve the issue.\r\n\r\nI can&#39;t find any current official documentation of this behavior, but the Internet Archive contains an old version of [the Windows 2000 documentation](https://web.archive.org/web/20120112040128/https://support.microsoft.com/kb/100843) with a short explanation of the mechanism under the heading &quot;How environment variables are set&quot;. The `autoexec.bat` part doesn&#39;t apply to newer versions of Windows.","title":"Maven &quot;mvn&quot; command only Runs as Administrator, need regular users","body":"<p>Judging from your screenshots, your <strong>System</strong> PATH tries to substitute the environent variable MAVEN_HOME, which is only defined as a <strong>User</strong> environment variable. The values of the user environment variables are not available at the time the system environment variables are set, so the actual PATH will contain the unsubstituted, literal string <code>%MAVEN_HOME%\\bin</code>. Removing all user variables called MAVEN_HOME (for all users) and adding a system variable MAVEN_HOME with the correct path should resolve the issue.</p>\n<p>I can't find any current official documentation of this behavior, but the Internet Archive contains an old version of <a href=\"https://web.archive.org/web/20120112040128/https://support.microsoft.com/kb/100843\" rel=\"noreferrer\">the Windows 2000 documentation</a> with a short explanation of the mechanism under the heading &quot;How environment variables are set&quot;. The <code>autoexec.bat</code> part doesn't apply to newer versions of Windows.</p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75869547,"answer_count":1,"score":2,"last_activity_date":1680122165,"creation_date":1679526501,"question_id":75817999,"body_markdown":"I setup Maven properly on Windows, adding System Variable and Path Variable.\r\nHowever, `mvn -v` only works, if I am logged in as Administrator in CommandLine,  (not as regular user). That means I right click on command prompt and do &quot;Run as Administrator&quot;. How can I ensure mvn works for regular users? Java command doesn&#39;t have this issue on my computer.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nNote: I can go to the actual Maven folder as regular user in command prompt C:\\apache-maven-3.9.1 and get the verrsion.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sUgCn.png\r\n  [2]: https://i.stack.imgur.com/qWSWV.png\r\n  [3]: https://i.stack.imgur.com/tKron.png","title":"Maven &quot;mvn&quot; command only Runs as Administrator, need regular users","body":"<p>I setup Maven properly on Windows, adding System Variable and Path Variable.\nHowever, <code>mvn -v</code> only works, if I am logged in as Administrator in CommandLine,  (not as regular user). That means I right click on command prompt and do &quot;Run as Administrator&quot;. How can I ensure mvn works for regular users? Java command doesn't have this issue on my computer.</p>\n<p><a href=\"https://i.stack.imgur.com/sUgCn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sUgCn.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/qWSWV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qWSWV.png\" alt=\"enter image description here\" /></a></p>\n<p>Note: I can go to the actual Maven folder as regular user in command prompt C:\\apache-maven-3.9.1 and get the verrsion.</p>\n<p><a href=\"https://i.stack.imgur.com/tKron.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tKron.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","model-view-controller","uml","game-development","chess"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":2,"creation_date":1677523803,"post_id":75584404,"comment_id":133351053,"body_markdown":"Did the instructor give you any more specific feedback than, &quot;not good enough?&quot; That diagram is more detailed than I have ever done in almost 25 years of professional programming and design. Seems &quot;good&quot; enough to me.","body":"Did the instructor give you any more specific feedback than, &quot;not good enough?&quot; That diagram is more detailed than I have ever done in almost 25 years of professional programming and design. Seems &quot;good&quot; enough to me."},{"owner":{"account_id":18163363,"reputation":21,"user_id":13214399,"display_name":" "},"score":0,"creation_date":1677524012,"post_id":75584404,"comment_id":133351101,"body_markdown":"he says some actions are not fit to the controller package and some doesnt fit the model.","body":"he says some actions are not fit to the controller package and some doesnt fit the model."},{"owner":{"account_id":18163363,"reputation":21,"user_id":13214399,"display_name":" "},"score":0,"creation_date":1677524087,"post_id":75584404,"comment_id":133351121,"body_markdown":"for example he says that the moveTo function supposed to be in the model not the controller, and in MOVE class should only be 2 points not 4 integers. overall he said I lack understanding of the mvc pattern and need to learn more and improve it","body":"for example he says that the moveTo function supposed to be in the model not the controller, and in MOVE class should only be 2 points not 4 integers. overall he said I lack understanding of the mvc pattern and need to learn more and improve it"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1677524596,"post_id":75584404,"comment_id":133351257,"body_markdown":"I don&#39;t have an answer for you. I can only express my sympathy for you because it sounds like the instructor is focusing too much on an outdated methodology, called Big Design Up Front (BDUF) that isn&#39;t in the best interest of young programmers to learn.","body":"I don&#39;t have an answer for you. I can only express my sympathy for you because it sounds like the instructor is focusing too much on an outdated methodology, called Big Design Up Front (BDUF) that isn&#39;t in the best interest of young programmers to learn."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1677524692,"post_id":75584404,"comment_id":133351279,"body_markdown":"Off-topic: The UML diagram is fuzzy to me. It&#39;s hard for me to read. I suspect it is the same for others with poor eyesight. Is is possible to show us an SVG or other format that will show a sharp image when we zoom in or zoom out?","body":"Off-topic: The UML diagram is fuzzy to me. It&#39;s hard for me to read. I suspect it is the same for others with poor eyesight. Is is possible to show us an SVG or other format that will show a sharp image when we zoom in or zoom out?"},{"owner":{"account_id":18163363,"reputation":21,"user_id":13214399,"display_name":" "},"score":1,"creation_date":1677525168,"post_id":75584404,"comment_id":133351371,"body_markdown":"thanks for the comment, I uploaded a link in the title","body":"thanks for the comment, I uploaded a link in the title"},{"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"score":0,"creation_date":1677624245,"post_id":75584404,"comment_id":133374367,"body_markdown":"@ I&#39;ve edited your question, adding the remarks of your professor that you&#39;ve added in the comments.  This is important information to narrow down the question which would otherwise be too broad.","body":"@ I&#39;ve edited your question, adding the remarks of your professor that you&#39;ve added in the comments.  This is important information to narrow down the question which would otherwise be too broad."}],"answers":[{"tags":[],"owner":{"account_id":27892529,"reputation":21,"user_id":21298588,"display_name":"user21298588"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677524559,"creation_date":1677524559,"answer_id":75584563,"question_id":75584404,"body_markdown":"You have a good start here! Try thinking abstractly, when designing. For each class, ask what it should know (attributes) and what it should be able to do (methods). What should a Piece be able to do? (e.g., move to another space, report it&#39;s position, report if it is in jeopardy). Obviously, each type of Piece has different rules. Think of the controller as sort of a referee...it keeps track of whose move it is, tells you if the move is valid, tells when you&#39;re in check/checkmate. ","title":"Chess MVC UML diagram for Java chess game","body":"<p>You have a good start here! Try thinking abstractly, when designing. For each class, ask what it should know (attributes) and what it should be able to do (methods). What should a Piece be able to do? (e.g., move to another space, report it's position, report if it is in jeopardy). Obviously, each type of Piece has different rules. Think of the controller as sort of a referee...it keeps track of whose move it is, tells you if the move is valid, tells when you're in check/checkmate.</p>\n"},{"tags":[],"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677937442,"creation_date":1677541351,"answer_id":75586609,"question_id":75584404,"body_markdown":"Not knowing exactly the criticism of your teachers, I&#39;ll go through your diagram and highlight the main points of concerns.\r\n\r\n## UML semantics and syntax\r\n\r\n`Player` does probably not inherit from the `GameModel` contrary to what is documented in  the diagram. Consider removing the hollow arrow head, and make the relation a simple association. \r\n\r\nYou can remove all the white diamonds of shared aggregation:  the UML specification does not define any semantic for it, and it de facto means the same as when using simple associations.  Always prefer simplicity ;-) \r\n\r\nThe class syntax should be respected, with a compartment for the class name, a compartment for attributes and a compartment for operations.  The &lt;&lt;interface&gt;&gt; and enum stereotypes should be above the name of the type.  \r\n\r\n## On using patterns\r\n\r\nUnfortunately, you diagram does not show how the Observer pattern allows to decouple the related classes.  You should define the Observer and the Subject interface outside the MVC, and show with interface realization, which class implements the observer but also which one implements the subject.  \r\n\r\nThis being said, in MVC, the View is in general an observer of the Model. It is not very common to make the controller an observer of the Model, unless you want to have some state dependent menus where some options are greyed depending on the state of the model).   \r\n\r\n## On the MVC\r\n\r\nThere are many variants of the MVC and many confusions with similar patterns. Hence, I&#39;ll refer to the [original MVC][1] definition: \r\n\r\n* **Model** is everything about game logic, including a move, because moving pieces is part of the game model.\r\n\r\n* **Controler** is everything related to processing user input.  So processing mouse or keyboard events does belong there. Auxiliary function to transform the user input into commands/requests to the model and meaningful arguments to provide to the Model should also belong to the controller.  But the commands themselves (e.g. move pieces in the game) should belong to Model classes. Because it&#39;s the model that knows the rules of the game, and if the model doesn&#39;t keep track of the move, the game&#39;s state wiuld be inacurate. \r\n\r\n* **View** is everything about rendering the model in a certain way for the user.   \r\n\r\n## Special topics \r\n\r\nThe human player and the AI player are both special kinds of players.  The player state (color,  whose turn it is, time spent on a move, ...) belongs to the model.  The human player input of the user is in most of the case about commands (moves) performed by the one of the two player in the Model.  \r\n\r\nTh AI should be part of the model, since it changes the state of the game on its own and doesn&#39;t fit on its own to view or controller. \r\n\r\n\r\n  [1]: https://folk.universitetetioslo.no/trygver/themes/mvc/mvc-index.html","title":"Chess MVC UML diagram for Java chess game","body":"<p>Not knowing exactly the criticism of your teachers, I'll go through your diagram and highlight the main points of concerns.</p>\n<h2>UML semantics and syntax</h2>\n<p><code>Player</code> does probably not inherit from the <code>GameModel</code> contrary to what is documented in  the diagram. Consider removing the hollow arrow head, and make the relation a simple association.</p>\n<p>You can remove all the white diamonds of shared aggregation:  the UML specification does not define any semantic for it, and it de facto means the same as when using simple associations.  Always prefer simplicity ;-)</p>\n<p>The class syntax should be respected, with a compartment for the class name, a compartment for attributes and a compartment for operations.  The &lt;&gt; and enum stereotypes should be above the name of the type.</p>\n<h2>On using patterns</h2>\n<p>Unfortunately, you diagram does not show how the Observer pattern allows to decouple the related classes.  You should define the Observer and the Subject interface outside the MVC, and show with interface realization, which class implements the observer but also which one implements the subject.</p>\n<p>This being said, in MVC, the View is in general an observer of the Model. It is not very common to make the controller an observer of the Model, unless you want to have some state dependent menus where some options are greyed depending on the state of the model).</p>\n<h2>On the MVC</h2>\n<p>There are many variants of the MVC and many confusions with similar patterns. Hence, I'll refer to the <a href=\"https://folk.universitetetioslo.no/trygver/themes/mvc/mvc-index.html\" rel=\"nofollow noreferrer\">original MVC</a> definition:</p>\n<ul>\n<li><p><strong>Model</strong> is everything about game logic, including a move, because moving pieces is part of the game model.</p>\n</li>\n<li><p><strong>Controler</strong> is everything related to processing user input.  So processing mouse or keyboard events does belong there. Auxiliary function to transform the user input into commands/requests to the model and meaningful arguments to provide to the Model should also belong to the controller.  But the commands themselves (e.g. move pieces in the game) should belong to Model classes. Because it's the model that knows the rules of the game, and if the model doesn't keep track of the move, the game's state wiuld be inacurate.</p>\n</li>\n<li><p><strong>View</strong> is everything about rendering the model in a certain way for the user.</p>\n</li>\n</ul>\n<h2>Special topics</h2>\n<p>The human player and the AI player are both special kinds of players.  The player state (color,  whose turn it is, time spent on a move, ...) belongs to the model.  The human player input of the user is in most of the case about commands (moves) performed by the one of the two player in the Model.</p>\n<p>Th AI should be part of the model, since it changes the state of the game on its own and doesn't fit on its own to view or controller.</p>\n"}],"owner":{"account_id":18163363,"reputation":21,"user_id":13214399,"display_name":" "},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1028,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":75586609,"answer_count":2,"score":0,"last_activity_date":1680121441,"creation_date":1677523578,"question_id":75584404,"body_markdown":"I have a school project of creating a game with Java, I chose to program chess. My teacher want us first to design the game by creating a UML design of all classes we think will be necessary for the game. \r\n\r\nThe problem is the wants it to be design with the MVC pattern, Model View Controller. I tried to design the UML \r\n\r\nHere my diagram: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;m also using observer pattern in order to communicate between the different parts.\r\n\r\nI would really appreciate it if someone can help me and tell me how can I improve this diagram so\r\nit follows the mvc pattern.  I tried handing my teacher diffrent UML designs but he is still not pleased\r\n\r\nHere is an updated link to the uml diagram:\r\n[click me][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FQJMW.png\r\n  [2]: https://viewer.diagrams.net/?tags=%7B%7D&amp;highlight=0000ff&amp;edit=_blank&amp;layers=1&amp;nav=1&amp;title=Copy%20of%20Untitled%20Diagram.drawio#R7V1Zd5s6F%2F01Xit9cBez4TF22jS3U9rkpjd9%2BRY2cswtNrmAM%2F36T0w2g8AgBAhbeWhtzCB0tqSjfbaORuJs%2FXLp6I%2Brr7YBrJHAGS8j8WIkCLwkKSr83z%2F0Gh3iJhMhPPTgmEZ0cH%2FgxnwD4cHowoetaQA3dZ5n25ZnPqYPLuzNBiy81DHdcezn9GlL20o%2F9FF%2FALkDNwvdyh%2F9ZRreKiqcMNkf%2FwTMh1X8ZF7Rwl%2FWenwyFx5wV7phPycOiR9G4syxbS%2F8tH6ZAcuvvrhawus%2BFvy6K5gDNl6VC6RL2b0Hy4V7J1%2BPRfD57Yc1G0vhXZ50axu98EhQLHi%2F6dKGt4Wl9l6jqlD%2B2%2FpFnaY%2BPUT%2FB5fMnewRw3xC3sO%2F%2Bfg5qrdzeMo8sEvJvQuLE9zKDWDj3whi7vEFeacIneHtYDWFd0w%2FBR4OitzWW7iP%2BqbKW6hywUsUVzUsenj3Jm%2FkgRdvrFvmwyYshwWWdU1O6IGcZW7AeJWoXEmG%2BJYHVJqqxpb4Q8au9J65s9pFBNkqmeuLPw%2BOvd0Y44Vt2U54R3NjeqZu4XUMRC%2Bh15YF3VjBYdoAQaTFGmBhO7pn2puxX4bw4RBKwAm%2FToOBv6iv5up3eoQhvMUd7JSDaENVbwE0cqUowCHCOrmbCqnSC0GtAN8P4eDPzyvTAzeP%2BsL%2F9Rk6jvDYylvDOrrg4ccn4HgmdMDOQ4tcePZj9OYf9bVp%2BY7kzN46JoDvxn0Dz%2F6PpmXNwjqHjxOX6gIsFn6r9Rz7D0j8MldlH5TxL7FHJ%2B8KnXSnIg%2FLLw94SRyK3KtLYK%2BB57zCU6Jfx4IsKuFFkbs7lng5cnef996jqMrRaauE6ygo8VE98lkfdk%2FYu3XwQ%2BTZ1fDyxEIvr6hdEXRhypoeVpvR1z4gNnP3MbwJwUOl%2FWT5mxN8wXoOL68WdAJ3JmwcWCNC1V4ZYyAtAlwfg8fJOnXMdaPCYl27bgN10JgbdkJuWOSHX%2Byc8MZe2UQU0z6ZzClSzieDw6iU98lUjmvJJROOjngr9ENm8ETHtiwfKQTZN8ZVMa6KcVWDsiXjqhhXxZwkOrgqlecybpGgcRXdIk2WmrtF%2F9w8PF38t30RF19%2Brj%2Fff7y4fNFipiphD2A8gJvoq%2B14K%2FvB3ujWh%2F3Radpi%2B3O%2B2L41Ajv9CzzvNYot61vPTlsxXcFaZMHodEkNztAd79wPJ8MjGztoqMGxj6b%2FfsGDwcaIzzBMfW1vjPBg%2BpTortADLTGjCzGziN5fV7%2F8%2Fv1p%2BeP789%2BfX%2B%2FFxWb52469R1iCB%2BCVnCeH5%2Fl1WAoKB1iwT3pKx7xRxg0uha%2BpvyZOeLTNjecm7nztH0h44JqQhpooRKjaQyW85x44u8JVwlJZJdHvYpPuo6t2yYVR5qmtO8bhXrhij1u%2FouoPc9ErL%2FVF%2Bhl3wDH0jd553S92%2Ffj%2BRHG5FEV%2FMro%2F1MBJGy9N2McFpfIf%2BOvq4vaTz2n79%2BJUDOPVGX97snJfDeWgp1wDflWhgbTypw9Xl59uK9uYtdveoFDPynPbtkAwa1uajutdW%2For9OS2zgancVZu8EdVhdcmgBiSp2FHKF%2FAj1FrkS8CjFYa0mq0mBYZrAHzFWhQkek5myAr9GnO3gUnEjQ3bSQFHShoZlWMt2tAbU23j4bugT0%2BnmzTOACGo%2BS3GHRqQwfOvoNx59w7Cxy0GfzXh1A4GNXHEIFhnqFq8KjSDSMAkHtrs16J8AyhyC5YSq3pYqVvHsAtdNQr2ailKfZQQoEYpvR72NnW8RnSXS3vJks4bhxt8KY3WEdflbDAK64thz0EDEQqweDJ4Nl%2Faei1Mn1Vwlosa7HYpWFKnlrVe%2FxKniVQ0EoeLvgbtaTkkWI1c6yuEDQur29WBZS8OT7YRMfz9vbiXEmXyvr8193F5te%2F334%2F%2FBxLfeh46itwQgHNNXBM%2BNrA8eFhbh4KZUH4gh2pomBHoEKwI0o5SIkpwU6FK%2BRI9NOqxGcw6StId96NJT5ZhrprqUDHFYWvzOA4Bf6lzjvsjxXlINHnsFPRF0F029JdF2fEbM0k%2FbskA9Lj3HiOP1LEl%2BN6xsdvTJI2ICGX2xnOe33sswNkBsoYKPQnFiHZ%2F9OusHSd2aZhnWeeVq8nTNkLznaK7VWUZKEds1ISfqSDdELjstUROHQtz67Wfma9QBGx%2BxfP9jVIJeockni0mQV0wDuiFcDaBF6boISInZruV%2FsJ3EGzGGn10AE4tEbJolsPQcVEPnI%2FBLhThdphKJh81YZfI4FeY5aZIXWKaQacoQEHuv4BbIIukYGGgaZib3PKoCl6ytx2DOAk8fKkO2fjcfL4u4LHykUk5mGkVn8qhtkbPZCgSzt1w74qctoy2s9OJYnMzO2a2e9dOjTz4KURxzkY9j3OlRjoZAa6gcCzdyvTVyWsxbIWi10aprWrVb1Ma9dW1ixeUieZXEYTJZ82S9XEvNqO50hkE0WmzZJk6vJmidqohbxZE67MkAdleHJehofMzqpRIcPjJT6znYAocWr7qjqZqeowVXWX%2BhpU3Gcq7ybUHIz7lVlREtNvwQ3FISvwydOaSW6CxEB%2B5xd84PEqvod9wk7DHgKzR7%2F2iBIXcosVcN0GWQyZRUhZ5Pzqf7tGopvxx6xrMHaB9335fe4CBzrjxGTRKDNW3hyjATGOPTI3Mkwj0ZbuefpidRaboO%2BIxolbwwADtwa2RKyozhtVZ5jhC5WipWo1doguAgxkC91mLV1Wy0NlH%2FrDJmNsSHn4c0OMip%2F3NMctfMEmzahddd%2FR4AVsDKJoISjhrJqLjIk4GyKx9%2BDV1HRnK7D489UfOoO5VIM0dHQnNjyajsN9Nr3F6jaROJr1Hazv6KHvCBMj3ngFbndVSNLUSTC9CtLUJe9Zw8r0VQnTq%2BDakrVYplchwk0wvcqoqV5F5LNbb2lxpp6EXEVRubxcRRMIqFXeHu%2B%2BXhu%2Fvr09%2FjVTbr5e%2FDG%2F3o8FtT%2B1yuGqz%2BhYeEEcEROyBJckpSzElC2xsQ5nmBKp0LaMeTnWTe1SRk0ifRRS3IK4g6ip6TtIiqSmyxkl%2BAqvzMCWxBZzHJPKYEpl%2FLXPh4eAit096Rl%2FrRhnqx4ZUmdTm5eIknWEvQh2bpUa%2Fh5%2B%2FKfjFPnEqR%2B6EZQCQjppS0OL02K4Lqm31mQTVe1oANczN8FEI92qUcakh1dtb9JNgB2jvOkmTI7Xfus01ObYIDnLHcygMmAmat4pK40vOA78x7NkcqlECh0s72Yg%2FBSDSS2YwNnfje1sA68XkSHi%2BPDR1HHtnYNGWjByV8nn%2BBh0c%2BpfKlavUdA25B5jW7lITQnIN5jc5bRjcQjooh1JrXS99CJp2MFHJhc4du%2BbluGHiC2ZXIDJBYj05EwuMGoqFxBEVcroBQRNyesF4i2nknqBSXt6AeXY9QJzy178GdVQC0jB1xfT%2B8c%2F970cfbuPbw0%2FX7wkv7xGXxooDPiKCgOZDoGBwAkZeYA4EVLZM1DX5PQyONdoolJ%2BjcxlmxnGJbLCt58LZNeJMIVDwRhWvMVWarEz0zhUnXticjPj3c4%2Bm%2FTaKaZw6Cd43UFIdLehAGe6v3yvjOgUhIU5j3YGjR4syDQWovGrcBA52%2B0jE0ArAL3PxzUZYgYywWZ4qRvvvAq7woCwze%2B4ckIIaUxt4fTECIN8g%2F5IYI24FRN0TY6w1o%2BPHD7dKmEBDcoNRMfwygIa1ACCBTRGLKAxOpqAhiRlVpmJqqrmAhqqgAhoyPFKSeIBDa2PeEYcLYg%2F36ciB%2BhoQZcxkOiM4hCIMkpGQGShDCKHoxkCHVEKXtLkNEB5VToQceBzUTqcawSZV0aF8YP8HbSJXHCDzlZbCiwWgRuL0J8xSYCeSNC%2BarC%2FNV8JMntpOq5XbYHsyVqy%2FSSsfptBbmMe0jiYy0xOfKaHRgMF1k7uxn3yzOkQING%2FTHggVmYcHOUGoqMZMg6OGkA0bbE0u2%2Bouu6FXSswOgpkR0qwBYxNVGSJCNsmCFmSgZPybNtE0PJsm6i1tTmeIvYnH84SZDt7xv5rijeTYqug7dfGXno7VvA9x2WYQVEZlXGD%2Fpdr4JjQSMAZNVYXi8NSF%2FNcFuqSrB3i4PLXCOqhazSh%2FJLGsl90m%2BlFcg9R47wmFO3%2B1%2Fvkb3skBt%2FSNHW9tsbzaueNrYPmQQmtLUhqLjcfL5VDPX8NL8tC6TXqRCm%2FoiVRvMiIaEwiOrEfWF%2FsWefz5BbmfbipyshmIcvcvLpObmnCYSF4Jf%2B6m6uvf385v736%2Fu0GfgvuwIWbJVPFytCh8e6pQbe5FyyF77Tvp%2FbS62msuyYJS0Y6DTdHxmJl2y4IEpFFe43O%2FC%2BnvN9FW%2FZEdxENdPJlxiEPHtdcb6G%2FDTrZ1Stbmv3mTYfTt9DWSxELJxEYzoZQXyzWQ3kHSdWw2%2FuIymI9TG%2Ft%2F8%2F01hSEg0hEgPjd9jI73k8VuVwESI1zxSQjQJIotBUB4nMG6S0C1EKoB6mc3lPPilRm3MPUs9QKpZznfyU1I9UXZC5zl7YFxhLjdTF53anprmC7oI7UxSba%2BtrCNVeRVT2hviBRPO8krp2lbbZFhzOPNjyRJkFOUpvIzn8a2lo2E6fcQHQ0XjYTpwYQTHXZwRybqS6Jqy5FlX%2BfXZopSXJ8LCm8VGWE8FIhILxELnOW%2Bpt105K2FbFmeZ%2B1VeK0UVJxyXHlq7EJKy7lipKydub%2FtSVlmppRQvqMUbHWK38DVVVy7YQXfeHr7i9T6LAOc3QDsmzJ23Ba5jG7hMldERkyIzIwiYzP2Bm6qKQx0PWbqFTnYX4myHKYWlDm4%2F%2FfhY5LVZcysXh5Ded8pdqHnpiVVl1cKm3fF4WVaUJVa7evruCECaxcGRvUWS2AtsENDYRxGQI3yNZWM5aPsXyM5WMsH2P5cHp0xvIRZ%2Fl4MbudzV4wk1TWcAhlDRGKD000KIxowCQafmwBaD8n2%2FHPNrP1WHUk6wsQJzzdpMMZQxueSIsgp5dgMgmqANq7001flbAJFK4t2QSKTaDYBKrrCRScBmUDyBI3yWskFPU9QiUhqGJbixOEk1%2BcsJdEcFwskQglEZLUqSRi0tFSB0Q2dl%2F8UUUiUD9T1cFs8aN2kuRMGDWASQ38tO0%2FeF4%2FlcwAun6ZBoGw%2F0il7Xup6Ez7qVq1ffUDjBFijBDiaYwO6rs09FII9FUJo4MID%2Ben1GJZ%2FgoSpBHLX9GYJOKFiZBbJMBxiBzmXKdLafheMljseJkR2zLQHsf6i%2FbZIZ7LskNVt9qrzQ7lkm7wk0lqW8BKeTr4A5eUvFG7HJTKOCjcdTCboPTHw0L1thoiW5FVXcO%2BIMHoCEZHIJ922gk9Bo0NtqCDEVCMgGIEFCOgGAHFCCiKCShUMhdOFPP8U6xH6madh4iaSGcJqRwxkzBJ2n7pupMOGmfPEyl1pUmFRmmbxoHmeK8l%2FvgMz7Lb2a1utpHcJov5W9Vmh0gnIJlUwIuzstfzrXu4OVdtg01x9PFjsA8SoYaspFkyXlPyLLKKWKylEmjD0qXs3oPlwr2Tr8ci%2BPz2w5qNi5dqdb6FFob7VN%2BZOAISbrYCrjuDJzu2ZfW5ZxpOZVI1kyIsXqvrs0ePr7X92tjfLearbQC%2FZa9fo08EZuM9vlIA6DsT9sb%2BK%2FkfDqI6%2BarZBnGWqCJfM%2Bjf8F3pq9eoNzbFbcAqYrxdE5J9pW8MCyJh64JrB0LkLPj44QmE%2FCTmdlx10DKQ2TLDVhNs%2FQQW0F1ABl0MS6eHJV%2BYfmungyesc2KAwgbU9tHQPXB2yt0QXRMNqjDcNzxZfGIw8OzdyvRVCWuxrMWSLQ2BWCOLKKJwyCKKhYGIiZxJeyBzcSb9RCSC5%2BJcCMlYhCIJLQUjtKEIc6t2suUcfkh5dtHjDcMNKeitbAf2gsme6kl3zsbj5PGai8ILh7g6szxitH29wE3Fju5ILYYTX8AwbmS0XKQNmq5y4K3yiFbaLe3rhhcOo5kuaXjrrWokTC8d07jWoYfk99q6Yxyo68ZBUoyQ4dTv58%2BmYen8gJTfF%2BBo49tz7fEDoQ0FwNR5%2BT11aLXwZJjuo6W%2FBohCkXxdywDY%2FJpII2Tz68alYYpdNr%2BmYX6tZdOySxqfn16r8frd5Oxaji8lvlxczItzO1wtvlshfj9KLBCvuVq8pbXh2SXo7a0WV7qRGY95biIWrK0mn0tQzZJJxNdxO%2Ba%2Fm2dLehMnFzf8pfLhu3P%2B1xghNm8fzwkEamjw4ORHSEDUMPW1vTFyKN1jcFI5nyWyGxAilu3gFp8yaaw26r2EwZCDpJ2CxoLh73MXOE9YSmH0uxR7fv2yDfradxA2c%2Fexkp%2FTcEKE4%2BUW3avGDDP3WFnCI4aqP7IFqzaYUudfF80acZwC%2F0qAYuW%2FwZENOMFkPD6cvgSX6vD7m0a1UH8e3YV5icwjW8V%2B%2Fckr3U2xC36pWD7WrCOtc3RApAPjxBgndtLw7N3K9FUJa7GsxTIW%2ByBAGYtNM4stZ1lsUVURSU8VxHp1UWgr6Wl8425pP3IJTPf8XpMcppM0JShVpgTLkgB0zwgWMcqylgGeFm9XQ5q8VrOBGi5KtVCYtvTQFY3JbjTse4nedAz7Iu67BPnVyfAyxWkS%2BWUtpG3k85ySSeMiKVymJy3ICFMX%2BUoci9o%2FSVVLkZ%2B%2FYhIFmVoN8%2FQI%2FAJ4axnYzi178ScH2gxGDd1dBSXiywCbBGJpGKT1REVyJuGUJGe7YEJARDzpQLJpReLKr2gMROSefNKEOiRK6ojYnnyHA4%2FBtnyV%2Blp0%2FVV1M6SO3IxdurRd3FptK0aef5RCeLu90iqnP2jafEVF0AJIMgODie8RTmPEAoOIwCDYbNcgJGVGLDTYKDTYPLMSixgS6Qwq0L9qQel%2Bfbq6%2FYABdlLc7AlW%2BfTL%2BewzsSqnLxbLYinIoYHFUugoDb1Wpq9KWItlLZZFPw8ClEU%2FaY5%2BjgVJzdJDcsSnJMKfsoAKf0pSMRtVEP6EXx3bt%2FueAIK1uQpTBYgf%2Fg8%3D","title":"Chess MVC UML diagram for Java chess game","body":"<p>I have a school project of creating a game with Java, I chose to program chess. My teacher want us first to design the game by creating a UML design of all classes we think will be necessary for the game.</p>\n<p>The problem is the wants it to be design with the MVC pattern, Model View Controller. I tried to design the UML</p>\n<p>Here my diagram:</p>\n<p><a href=\"https://i.stack.imgur.com/FQJMW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FQJMW.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm also using observer pattern in order to communicate between the different parts.</p>\n<p>I would really appreciate it if someone can help me and tell me how can I improve this diagram so\nit follows the mvc pattern.  I tried handing my teacher diffrent UML designs but he is still not pleased</p>\n<p>Here is an updated link to the uml diagram:\n<a href=\"https://viewer.diagrams.net/?tags=%7B%7D&amp;highlight=0000ff&amp;edit=_blank&amp;layers=1&amp;nav=1&amp;title=Copy%20of%20Untitled%20Diagram.drawio#R7V1Zd5s6F%2F01Xit9cBez4TF22jS3U9rkpjd9%2BRY2cswtNrmAM%2F36T0w2g8AgBAhbeWhtzCB0tqSjfbaORuJs%2FXLp6I%2Brr7YBrJHAGS8j8WIkCLwkKSr83z%2F0Gh3iJhMhPPTgmEZ0cH%2FgxnwD4cHowoetaQA3dZ5n25ZnPqYPLuzNBiy81DHdcezn9GlL20o%2F9FF%2FALkDNwvdyh%2F9ZRreKiqcMNkf%2FwTMh1X8ZF7Rwl%2FWenwyFx5wV7phPycOiR9G4syxbS%2F8tH6ZAcuvvrhawus%2BFvy6K5gDNl6VC6RL2b0Hy4V7J1%2BPRfD57Yc1G0vhXZ50axu98EhQLHi%2F6dKGt4Wl9l6jqlD%2B2%2FpFnaY%2BPUT%2FB5fMnewRw3xC3sO%2F%2Bfg5qrdzeMo8sEvJvQuLE9zKDWDj3whi7vEFeacIneHtYDWFd0w%2FBR4OitzWW7iP%2BqbKW6hywUsUVzUsenj3Jm%2FkgRdvrFvmwyYshwWWdU1O6IGcZW7AeJWoXEmG%2BJYHVJqqxpb4Q8au9J65s9pFBNkqmeuLPw%2BOvd0Y44Vt2U54R3NjeqZu4XUMRC%2Bh15YF3VjBYdoAQaTFGmBhO7pn2puxX4bw4RBKwAm%2FToOBv6iv5up3eoQhvMUd7JSDaENVbwE0cqUowCHCOrmbCqnSC0GtAN8P4eDPzyvTAzeP%2BsL%2F9Rk6jvDYylvDOrrg4ccn4HgmdMDOQ4tcePZj9OYf9bVp%2BY7kzN46JoDvxn0Dz%2F6PpmXNwjqHjxOX6gIsFn6r9Rz7D0j8MldlH5TxL7FHJ%2B8KnXSnIg%2FLLw94SRyK3KtLYK%2BB57zCU6Jfx4IsKuFFkbs7lng5cnef996jqMrRaauE6ygo8VE98lkfdk%2FYu3XwQ%2BTZ1fDyxEIvr6hdEXRhypoeVpvR1z4gNnP3MbwJwUOl%2FWT5mxN8wXoOL68WdAJ3JmwcWCNC1V4ZYyAtAlwfg8fJOnXMdaPCYl27bgN10JgbdkJuWOSHX%2Byc8MZe2UQU0z6ZzClSzieDw6iU98lUjmvJJROOjngr9ENm8ETHtiwfKQTZN8ZVMa6KcVWDsiXjqhhXxZwkOrgqlecybpGgcRXdIk2WmrtF%2F9w8PF38t30RF19%2Brj%2Fff7y4fNFipiphD2A8gJvoq%2B14K%2FvB3ujWh%2F3Radpi%2B3O%2B2L41Ajv9CzzvNYot61vPTlsxXcFaZMHodEkNztAd79wPJ8MjGztoqMGxj6b%2FfsGDwcaIzzBMfW1vjPBg%2BpTortADLTGjCzGziN5fV7%2F8%2Fv1p%2BeP789%2BfX%2B%2FFxWb52469R1iCB%2BCVnCeH5%2Fl1WAoKB1iwT3pKx7xRxg0uha%2BpvyZOeLTNjecm7nztH0h44JqQhpooRKjaQyW85x44u8JVwlJZJdHvYpPuo6t2yYVR5qmtO8bhXrhij1u%2FouoPc9ErL%2FVF%2Bhl3wDH0jd553S92%2Ffj%2BRHG5FEV%2FMro%2F1MBJGy9N2McFpfIf%2BOvq4vaTz2n79%2BJUDOPVGX97snJfDeWgp1wDflWhgbTypw9Xl59uK9uYtdveoFDPynPbtkAwa1uajutdW%2For9OS2zgancVZu8EdVhdcmgBiSp2FHKF%2FAj1FrkS8CjFYa0mq0mBYZrAHzFWhQkek5myAr9GnO3gUnEjQ3bSQFHShoZlWMt2tAbU23j4bugT0%2BnmzTOACGo%2BS3GHRqQwfOvoNx59w7Cxy0GfzXh1A4GNXHEIFhnqFq8KjSDSMAkHtrs16J8AyhyC5YSq3pYqVvHsAtdNQr2ailKfZQQoEYpvR72NnW8RnSXS3vJks4bhxt8KY3WEdflbDAK64thz0EDEQqweDJ4Nl%2Faei1Mn1Vwlosa7HYpWFKnlrVe%2FxKniVQ0EoeLvgbtaTkkWI1c6yuEDQur29WBZS8OT7YRMfz9vbiXEmXyvr8193F5te%2F334%2F%2FBxLfeh46itwQgHNNXBM%2BNrA8eFhbh4KZUH4gh2pomBHoEKwI0o5SIkpwU6FK%2BRI9NOqxGcw6StId96NJT5ZhrprqUDHFYWvzOA4Bf6lzjvsjxXlINHnsFPRF0F029JdF2fEbM0k%2FbskA9Lj3HiOP1LEl%2BN6xsdvTJI2ICGX2xnOe33sswNkBsoYKPQnFiHZ%2F9OusHSd2aZhnWeeVq8nTNkLznaK7VWUZKEds1ISfqSDdELjstUROHQtz67Wfma9QBGx%2BxfP9jVIJeockni0mQV0wDuiFcDaBF6boISInZruV%2FsJ3EGzGGn10AE4tEbJolsPQcVEPnI%2FBLhThdphKJh81YZfI4FeY5aZIXWKaQacoQEHuv4BbIIukYGGgaZib3PKoCl6ytx2DOAk8fKkO2fjcfL4u4LHykUk5mGkVn8qhtkbPZCgSzt1w74qctoy2s9OJYnMzO2a2e9dOjTz4KURxzkY9j3OlRjoZAa6gcCzdyvTVyWsxbIWi10aprWrVb1Ma9dW1ixeUieZXEYTJZ82S9XEvNqO50hkE0WmzZJk6vJmidqohbxZE67MkAdleHJehofMzqpRIcPjJT6znYAocWr7qjqZqeowVXWX%2BhpU3Gcq7ybUHIz7lVlREtNvwQ3FISvwydOaSW6CxEB%2B5xd84PEqvod9wk7DHgKzR7%2F2iBIXcosVcN0GWQyZRUhZ5Pzqf7tGopvxx6xrMHaB9335fe4CBzrjxGTRKDNW3hyjATGOPTI3Mkwj0ZbuefpidRaboO%2BIxolbwwADtwa2RKyozhtVZ5jhC5WipWo1doguAgxkC91mLV1Wy0NlH%2FrDJmNsSHn4c0OMip%2F3NMctfMEmzahddd%2FR4AVsDKJoISjhrJqLjIk4GyKx9%2BDV1HRnK7D489UfOoO5VIM0dHQnNjyajsN9Nr3F6jaROJr1Hazv6KHvCBMj3ngFbndVSNLUSTC9CtLUJe9Zw8r0VQnTq%2BDakrVYplchwk0wvcqoqV5F5LNbb2lxpp6EXEVRubxcRRMIqFXeHu%2B%2BXhu%2Fvr09%2FjVTbr5e%2FDG%2F3o8FtT%2B1yuGqz%2BhYeEEcEROyBJckpSzElC2xsQ5nmBKp0LaMeTnWTe1SRk0ifRRS3IK4g6ip6TtIiqSmyxkl%2BAqvzMCWxBZzHJPKYEpl%2FLXPh4eAit096Rl%2FrRhnqx4ZUmdTm5eIknWEvQh2bpUa%2Fh5%2B%2FKfjFPnEqR%2B6EZQCQjppS0OL02K4Lqm31mQTVe1oANczN8FEI92qUcakh1dtb9JNgB2jvOkmTI7Xfus01ObYIDnLHcygMmAmat4pK40vOA78x7NkcqlECh0s72Yg%2FBSDSS2YwNnfje1sA68XkSHi%2BPDR1HHtnYNGWjByV8nn%2BBh0c%2BpfKlavUdA25B5jW7lITQnIN5jc5bRjcQjooh1JrXS99CJp2MFHJhc4du%2BbluGHiC2ZXIDJBYj05EwuMGoqFxBEVcroBQRNyesF4i2nknqBSXt6AeXY9QJzy178GdVQC0jB1xfT%2B8c%2F970cfbuPbw0%2FX7wkv7xGXxooDPiKCgOZDoGBwAkZeYA4EVLZM1DX5PQyONdoolJ%2BjcxlmxnGJbLCt58LZNeJMIVDwRhWvMVWarEz0zhUnXticjPj3c4%2Bm%2FTaKaZw6Cd43UFIdLehAGe6v3yvjOgUhIU5j3YGjR4syDQWovGrcBA52%2B0jE0ArAL3PxzUZYgYywWZ4qRvvvAq7woCwze%2B4ckIIaUxt4fTECIN8g%2F5IYI24FRN0TY6w1o%2BPHD7dKmEBDcoNRMfwygIa1ACCBTRGLKAxOpqAhiRlVpmJqqrmAhqqgAhoyPFKSeIBDa2PeEYcLYg%2F36ciB%2BhoQZcxkOiM4hCIMkpGQGShDCKHoxkCHVEKXtLkNEB5VToQceBzUTqcawSZV0aF8YP8HbSJXHCDzlZbCiwWgRuL0J8xSYCeSNC%2BarC%2FNV8JMntpOq5XbYHsyVqy%2FSSsfptBbmMe0jiYy0xOfKaHRgMF1k7uxn3yzOkQING%2FTHggVmYcHOUGoqMZMg6OGkA0bbE0u2%2Bouu6FXSswOgpkR0qwBYxNVGSJCNsmCFmSgZPybNtE0PJsm6i1tTmeIvYnH84SZDt7xv5rijeTYqug7dfGXno7VvA9x2WYQVEZlXGD%2Fpdr4JjQSMAZNVYXi8NSF%2FNcFuqSrB3i4PLXCOqhazSh%2FJLGsl90m%2BlFcg9R47wmFO3%2B1%2Fvkb3skBt%2FSNHW9tsbzaueNrYPmQQmtLUhqLjcfL5VDPX8NL8tC6TXqRCm%2FoiVRvMiIaEwiOrEfWF%2FsWefz5BbmfbipyshmIcvcvLpObmnCYSF4Jf%2B6m6uvf385v736%2Fu0GfgvuwIWbJVPFytCh8e6pQbe5FyyF77Tvp%2FbS62msuyYJS0Y6DTdHxmJl2y4IEpFFe43O%2FC%2BnvN9FW%2FZEdxENdPJlxiEPHtdcb6G%2FDTrZ1Stbmv3mTYfTt9DWSxELJxEYzoZQXyzWQ3kHSdWw2%2FuIymI9TG%2Ft%2F8%2F01hSEg0hEgPjd9jI73k8VuVwESI1zxSQjQJIotBUB4nMG6S0C1EKoB6mc3lPPilRm3MPUs9QKpZznfyU1I9UXZC5zl7YFxhLjdTF53anprmC7oI7UxSba%2BtrCNVeRVT2hviBRPO8krp2lbbZFhzOPNjyRJkFOUpvIzn8a2lo2E6fcQHQ0XjYTpwYQTHXZwRybqS6Jqy5FlX%2BfXZopSXJ8LCm8VGWE8FIhILxELnOW%2Bpt105K2FbFmeZ%2B1VeK0UVJxyXHlq7EJKy7lipKydub%2FtSVlmppRQvqMUbHWK38DVVVy7YQXfeHr7i9T6LAOc3QDsmzJ23Ba5jG7hMldERkyIzIwiYzP2Bm6qKQx0PWbqFTnYX4myHKYWlDm4%2F%2FfhY5LVZcysXh5Ded8pdqHnpiVVl1cKm3fF4WVaUJVa7evruCECaxcGRvUWS2AtsENDYRxGQI3yNZWM5aPsXyM5WMsH2P5cHp0xvIRZ%2Fl4MbudzV4wk1TWcAhlDRGKD000KIxowCQafmwBaD8n2%2FHPNrP1WHUk6wsQJzzdpMMZQxueSIsgp5dgMgmqANq7001flbAJFK4t2QSKTaDYBKrrCRScBmUDyBI3yWskFPU9QiUhqGJbixOEk1%2BcsJdEcFwskQglEZLUqSRi0tFSB0Q2dl%2F8UUUiUD9T1cFs8aN2kuRMGDWASQ38tO0%2FeF4%2FlcwAun6ZBoGw%2F0il7Xup6Ez7qVq1ffUDjBFijBDiaYwO6rs09FII9FUJo4MID%2Ben1GJZ%2FgoSpBHLX9GYJOKFiZBbJMBxiBzmXKdLafheMljseJkR2zLQHsf6i%2FbZIZ7LskNVt9qrzQ7lkm7wk0lqW8BKeTr4A5eUvFG7HJTKOCjcdTCboPTHw0L1thoiW5FVXcO%2BIMHoCEZHIJ922gk9Bo0NtqCDEVCMgGIEFCOgGAHFCCiKCShUMhdOFPP8U6xH6madh4iaSGcJqRwxkzBJ2n7pupMOGmfPEyl1pUmFRmmbxoHmeK8l%2FvgMz7Lb2a1utpHcJov5W9Vmh0gnIJlUwIuzstfzrXu4OVdtg01x9PFjsA8SoYaspFkyXlPyLLKKWKylEmjD0qXs3oPlwr2Tr8ci%2BPz2w5qNi5dqdb6FFob7VN%2BZOAISbrYCrjuDJzu2ZfW5ZxpOZVI1kyIsXqvrs0ePr7X92tjfLearbQC%2FZa9fo08EZuM9vlIA6DsT9sb%2BK%2FkfDqI6%2BarZBnGWqCJfM%2Bjf8F3pq9eoNzbFbcAqYrxdE5J9pW8MCyJh64JrB0LkLPj44QmE%2FCTmdlx10DKQ2TLDVhNs%2FQQW0F1ABl0MS6eHJV%2BYfmungyesc2KAwgbU9tHQPXB2yt0QXRMNqjDcNzxZfGIw8OzdyvRVCWuxrMWSLQ2BWCOLKKJwyCKKhYGIiZxJeyBzcSb9RCSC5%2BJcCMlYhCIJLQUjtKEIc6t2suUcfkh5dtHjDcMNKeitbAf2gsme6kl3zsbj5PGai8ILh7g6szxitH29wE3Fju5ILYYTX8AwbmS0XKQNmq5y4K3yiFbaLe3rhhcOo5kuaXjrrWokTC8d07jWoYfk99q6Yxyo68ZBUoyQ4dTv58%2BmYen8gJTfF%2BBo49tz7fEDoQ0FwNR5%2BT11aLXwZJjuo6W%2FBohCkXxdywDY%2FJpII2Tz68alYYpdNr%2BmYX6tZdOySxqfn16r8frd5Oxaji8lvlxczItzO1wtvlshfj9KLBCvuVq8pbXh2SXo7a0WV7qRGY95biIWrK0mn0tQzZJJxNdxO%2Ba%2Fm2dLehMnFzf8pfLhu3P%2B1xghNm8fzwkEamjw4ORHSEDUMPW1vTFyKN1jcFI5nyWyGxAilu3gFp8yaaw26r2EwZCDpJ2CxoLh73MXOE9YSmH0uxR7fv2yDfradxA2c%2Fexkp%2FTcEKE4%2BUW3avGDDP3WFnCI4aqP7IFqzaYUudfF80acZwC%2F0qAYuW%2FwZENOMFkPD6cvgSX6vD7m0a1UH8e3YV5icwjW8V%2B%2Fckr3U2xC36pWD7WrCOtc3RApAPjxBgndtLw7N3K9FUJa7GsxTIW%2ByBAGYtNM4stZ1lsUVURSU8VxHp1UWgr6Wl8425pP3IJTPf8XpMcppM0JShVpgTLkgB0zwgWMcqylgGeFm9XQ5q8VrOBGi5KtVCYtvTQFY3JbjTse4nedAz7Iu67BPnVyfAyxWkS%2BWUtpG3k85ySSeMiKVymJy3ICFMX%2BUoci9o%2FSVVLkZ%2B%2FYhIFmVoN8%2FQI%2FAJ4axnYzi178ScH2gxGDd1dBSXiywCbBGJpGKT1REVyJuGUJGe7YEJARDzpQLJpReLKr2gMROSefNKEOiRK6ojYnnyHA4%2FBtnyV%2Blp0%2FVV1M6SO3IxdurRd3FptK0aef5RCeLu90iqnP2jafEVF0AJIMgODie8RTmPEAoOIwCDYbNcgJGVGLDTYKDTYPLMSixgS6Qwq0L9qQel%2Bfbq6%2FYABdlLc7AlW%2BfTL%2BewzsSqnLxbLYinIoYHFUugoDb1Wpq9KWItlLZZFPw8ClEU%2FaY5%2BjgVJzdJDcsSnJMKfsoAKf0pSMRtVEP6EXx3bt%2FueAIK1uQpTBYgf%2Fg8%3D\" rel=\"nofollow noreferrer\">click me</a></p>\n"},{"tags":["java","spring","spring-boot","ahead-of-time-compile"],"comments":[{"owner":{"account_id":304234,"reputation":32207,"user_id":613628,"accept_rate":100,"display_name":"Stephane Nicoll"},"score":0,"creation_date":1695648332,"post_id":75881796,"comment_id":136048567,"body_markdown":"Some discussion is happening here: https://github.com/spring-projects/spring-framework/issues/31310","body":"Some discussion is happening here: <a href=\"https://github.com/spring-projects/spring-framework/issues/31310\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/issues/31310</a>"}],"owner":{"account_id":28161664,"reputation":1,"user_id":21521494,"display_name":"edgar calvillo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680121077,"creation_date":1680120937,"question_id":75881796,"body_markdown":"The interface set within the ServiceLocatorFactoryBean is not found when trying to autowire it in another class. This works fine in a non-native application but when built as a native application the following error gets thrown when trying to start the application.\r\n\r\n```\r\nField myInterface in com.test.TestService required a bean of type &#39;com.test.MyInterface&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n        - @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.test.MyInterface&#39; in your configuration.\r\n```\r\n\r\nI have the Bean defined as such.\r\n\r\n```\r\n@Bean\r\npublic ServiceLocatorFactoryBean serviceLocatorFactoryBean() {\r\n\tfinal ServiceLocatorFactoryBean factory = new ServiceLocatorFactoryBean();\r\n\tfactory.setServiceLocatorInterface(MyInterface.class);\r\n\r\n\treturn factory;\r\n}\r\n```\r\n\r\nI tried registering the AOT hint for the proxied interface but the same error was thrown.\r\n\r\n```\r\nhints.proxies()\r\n     .registerJdkProxy(MyInterface.class, SpringProxy.class, Advised.class, DecoratingProxy.class);\r\n```\r\n\r\nIs there a reflection hint that needs to be provided for the ServiceLocatorFactoryBean?","title":"Spring Boot 3 service locator interface in the ServiceLocatorFactoryBean could not be found in a native application","body":"<p>The interface set within the ServiceLocatorFactoryBean is not found when trying to autowire it in another class. This works fine in a non-native application but when built as a native application the following error gets thrown when trying to start the application.</p>\n<pre><code>Field myInterface in com.test.TestService required a bean of type 'com.test.MyInterface' that could not be found.\n\nThe injection point has the following annotations:\n        - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.test.MyInterface' in your configuration.\n</code></pre>\n<p>I have the Bean defined as such.</p>\n<pre><code>@Bean\npublic ServiceLocatorFactoryBean serviceLocatorFactoryBean() {\n    final ServiceLocatorFactoryBean factory = new ServiceLocatorFactoryBean();\n    factory.setServiceLocatorInterface(MyInterface.class);\n\n    return factory;\n}\n</code></pre>\n<p>I tried registering the AOT hint for the proxied interface but the same error was thrown.</p>\n<pre><code>hints.proxies()\n     .registerJdkProxy(MyInterface.class, SpringProxy.class, Advised.class, DecoratingProxy.class);\n</code></pre>\n<p>Is there a reflection hint that needs to be provided for the ServiceLocatorFactoryBean?</p>\n"},{"tags":["java","openapi","jackson-databind","openapi-generator","openapi-generator-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1680120537,"creation_date":1680120537,"answer_id":75881743,"question_id":75870344,"body_markdown":"Your issues are not generator related, they are Jackson related.\r\n\r\nRegarding your DateTime being in the wrong format, this is the default way that Jackson will serialize a `LocalDate` object when it uses the `JavaTimeModule`.  This is discussed on [this post][1], when the user is specifically asking for an array serialization.  This can be fixed by setting the format you want, which is [answered here][2].  \r\n\r\nThe basic gist is this.  You need to set the `@JsonFormat` annotation above your field. You say that you cannot add any annotations, but this is also incorrect.  You can easily add the `@JsonFormat` annotation to your code by setting the [`x-field-extra-annotation` extension][3] in your schema.  For example:\r\n\r\n```yaml\r\ntargetDate:\r\n  type: string\r\n  format: date\r\n  x-field-extra-annotation: &#39;@com.fasterxml.jackson.annotation.JsonFormat(shape = com.fasterxml.jackson.annotation.JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)&#39;\r\n```\r\n\r\nThis will result in the following code being generated\r\n\r\n```java\r\n@com.fasterxml.jackson.annotation.JsonFormat(shape = com.fasterxml.jackson.annotation.JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)\r\nprivate LocalDate targetDate;\r\n```\r\n\r\nAs for the `date-time` being serialized as seconds since epoch, this is a vary easy setting in Jackson.  You can disable the `SerializationFeature.WRITE_DATES_AS_TIMESTAMPS`.  This will result in the ISO-8601 standard string.\r\n\r\n  [1]: https://stackoverflow.com/questions/62423389/force-jackson-serialize-localdate-to-array\r\n  [2]: https://stackoverflow.com/a/72444033/6860078\r\n  [3]: https://openapi-generator.tech/docs/generators/spring/#supported-vendor-extensions","title":"openapi java generator serializes LocalDate as array instead of full-date","body":"<p>Your issues are not generator related, they are Jackson related.</p>\n<p>Regarding your DateTime being in the wrong format, this is the default way that Jackson will serialize a <code>LocalDate</code> object when it uses the <code>JavaTimeModule</code>.  This is discussed on <a href=\"https://stackoverflow.com/questions/62423389/force-jackson-serialize-localdate-to-array\">this post</a>, when the user is specifically asking for an array serialization.  This can be fixed by setting the format you want, which is <a href=\"https://stackoverflow.com/a/72444033/6860078\">answered here</a>.</p>\n<p>The basic gist is this.  You need to set the <code>@JsonFormat</code> annotation above your field. You say that you cannot add any annotations, but this is also incorrect.  You can easily add the <code>@JsonFormat</code> annotation to your code by setting the <a href=\"https://openapi-generator.tech/docs/generators/spring/#supported-vendor-extensions\" rel=\"noreferrer\"><code>x-field-extra-annotation</code> extension</a> in your schema.  For example:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>targetDate:\n  type: string\n  format: date\n  x-field-extra-annotation: '@com.fasterxml.jackson.annotation.JsonFormat(shape = com.fasterxml.jackson.annotation.JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)'\n</code></pre>\n<p>This will result in the following code being generated</p>\n<pre class=\"lang-java prettyprint-override\"><code>@com.fasterxml.jackson.annotation.JsonFormat(shape = com.fasterxml.jackson.annotation.JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)\nprivate LocalDate targetDate;\n</code></pre>\n<p>As for the <code>date-time</code> being serialized as seconds since epoch, this is a vary easy setting in Jackson.  You can disable the <code>SerializationFeature.WRITE_DATES_AS_TIMESTAMPS</code>.  This will result in the ISO-8601 standard string.</p>\n"}],"owner":{"account_id":2637951,"reputation":4283,"user_id":3014199,"accept_rate":79,"display_name":"peer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1396,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680120537,"creation_date":1680031756,"question_id":75870344,"body_markdown":"I am using the OpenAPI java generator [1] with library:resttemplate, dateLibrary:java8 in a spring project to generate a client from a spec.\r\n\r\nFor a property in the spec:\r\n```yaml\r\n        targetDate:\r\n          type: string\r\n          format: date\r\n```\r\nthe following code is generated:\r\n```java\r\n  public static final String JSON_PROPERTY_TARGET_DATE = &quot;targetDate&quot;;\r\n\r\n  private LocalDate targetDate;\r\n\r\n  @javax.annotation.Nonnull\r\n  @JsonProperty(JSON_PROPERTY_TARGET_DATE)\r\n  @JsonInclude(value = JsonInclude.Include.ALWAYS)\r\n\r\n  public LocalDate getTargetDate() {\r\n    return targetDate;\r\n  }\r\n\r\n  @JsonProperty(JSON_PROPERTY_TARGET_DATE)\r\n  @JsonInclude(value = JsonInclude.Include.ALWAYS)\r\n  public void setTargetDate(LocalDate targetDate) {\r\n    this.targetDate = targetDate;\r\n  }\r\n```\r\n\r\nI would expect this field to be serialized to a full date e.g. &quot;2023-01-01&quot; as promised by the spec: https://spec.openapis.org/oas/v3.0.0#data-types. However it is in fact serialized to an array: `[2023,1,1]`.\r\n\r\nSimilarly another property \r\n```yaml\r\n        otherDate:\r\n          type: string\r\n          format: date-time\r\n```\r\n\r\nis serialized to seconds since epoch, instead of full-time. (I assume this is a bug in the generator)  \r\n\r\nI cannot add any annotations since the code is generated. How can I still ensure that the date is properly serialized?\r\n\r\n\r\n[1] openapi-generator-maven-plugin 6.3.0","title":"openapi java generator serializes LocalDate as array instead of full-date","body":"<p>I am using the OpenAPI java generator [1] with library:resttemplate, dateLibrary:java8 in a spring project to generate a client from a spec.</p>\n<p>For a property in the spec:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>        targetDate:\n          type: string\n          format: date\n</code></pre>\n<p>the following code is generated:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static final String JSON_PROPERTY_TARGET_DATE = &quot;targetDate&quot;;\n\n  private LocalDate targetDate;\n\n  @javax.annotation.Nonnull\n  @JsonProperty(JSON_PROPERTY_TARGET_DATE)\n  @JsonInclude(value = JsonInclude.Include.ALWAYS)\n\n  public LocalDate getTargetDate() {\n    return targetDate;\n  }\n\n  @JsonProperty(JSON_PROPERTY_TARGET_DATE)\n  @JsonInclude(value = JsonInclude.Include.ALWAYS)\n  public void setTargetDate(LocalDate targetDate) {\n    this.targetDate = targetDate;\n  }\n</code></pre>\n<p>I would expect this field to be serialized to a full date e.g. &quot;2023-01-01&quot; as promised by the spec: <a href=\"https://spec.openapis.org/oas/v3.0.0#data-types\" rel=\"nofollow noreferrer\">https://spec.openapis.org/oas/v3.0.0#data-types</a>. However it is in fact serialized to an array: <code>[2023,1,1]</code>.</p>\n<p>Similarly another property</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>        otherDate:\n          type: string\n          format: date-time\n</code></pre>\n<p>is serialized to seconds since epoch, instead of full-time. (I assume this is a bug in the generator)</p>\n<p>I cannot add any annotations since the code is generated. How can I still ensure that the date is properly serialized?</p>\n<p>[1] openapi-generator-maven-plugin 6.3.0</p>\n"},{"tags":["java","maven","java-9"],"comments":[{"owner":{"account_id":1316033,"reputation":7857,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"score":2,"creation_date":1491297697,"post_id":43201997,"comment_id":73477914,"body_markdown":"I don&#39;t think it can, for one simple reason: within a single dependency I can already have multiple Java modules (that are not dependencies themselves), so how does Maven possibly have that info?","body":"I don&#39;t think it can, for one simple reason: within a single dependency I can already have multiple Java modules (that are not dependencies themselves), so how does Maven possibly have that info?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":3,"creation_date":1491298015,"post_id":43201997,"comment_id":73478147,"body_markdown":"The module declaration is not redundant...what is the equivalent of &quot;exports ...&quot; in pom file? Furthermore the `requires java.sql` how should Maven know about this? What about the module name? Based on what should it be guessed ? artifactId? Will not work....I recommend to read the Maven DEV list about the Jigsaw keyword...Apart from that what about transitive dependencies?","body":"The module declaration is not redundant...what is the equivalent of &quot;exports ...&quot; in pom file? Furthermore the <code>requires java.sql</code> how should Maven know about this? What about the module name? Based on what should it be guessed ? artifactId? Will not work....I recommend to read the Maven DEV list about the Jigsaw keyword...Apart from that what about transitive dependencies?"},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1629371525,"post_id":43201997,"comment_id":121671973,"body_markdown":"The inverse question is also interesting: Could Maven read module-info.class, and download the right dependency artifacts, without having the dependencies declared in the pom file?","body":"The inverse question is also interesting: Could Maven read module-info.class, and download the right dependency artifacts, without having the dependencies declared in the pom file?"}],"answers":[{"tags":[],"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1491325623,"creation_date":1491325623,"answer_id":43213506,"question_id":43201997,"body_markdown":"One might expect that most of the dependencies are indeed required modules as well. However, requirements can also point to modules of the JDK/JRE, which are not specified in the `pom.xml`. So yes, if you only look at the dependencies, probably most of them could be transformed to a required module reference.\r\n\r\nBut a module-descriptor contains much more information, which are all based on decisions to be made by the developer.\r\nI&#39;ve written [an article][1] about it which describes in detail why it is not possible to fully generate this file.\r\n\r\n\r\n  [1]: https://www.sitepoint.com/maven-cannot-generate-module-declaration/","title":"Can Maven generate the module declaration?","body":"<p>One might expect that most of the dependencies are indeed required modules as well. However, requirements can also point to modules of the JDK/JRE, which are not specified in the <code>pom.xml</code>. So yes, if you only look at the dependencies, probably most of them could be transformed to a required module reference.</p>\n\n<p>But a module-descriptor contains much more information, which are all based on decisions to be made by the developer.\nI've written <a href=\"https://www.sitepoint.com/maven-cannot-generate-module-declaration/\" rel=\"noreferrer\">an article</a> about it which describes in detail why it is not possible to fully generate this file.</p>\n"},{"tags":[],"owner":{"account_id":6493251,"reputation":519,"user_id":5026611,"display_name":"martian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640282699,"creation_date":1640282699,"answer_id":70465870,"question_id":43201997,"body_markdown":"As far as I know, `bnd-maven-plugin` can generate `module-info.class` based on the configured dependencies. If you are working with `maven-bundle-plugin`, you need to specify the version of bndlib manually, for the latest version of maven-bundle-plugin(5.1.3) is still using the 5.x version of bndlib, and bndlib requires 6.x to support jpms.\r\n\r\nDocument: https://bnd.bndtools.org/releases/6.1.0/chapters/330-jpms.html","title":"Can Maven generate the module declaration?","body":"<p>As far as I know, <code>bnd-maven-plugin</code> can generate <code>module-info.class</code> based on the configured dependencies. If you are working with <code>maven-bundle-plugin</code>, you need to specify the version of bndlib manually, for the latest version of maven-bundle-plugin(5.1.3) is still using the 5.x version of bndlib, and bndlib requires 6.x to support jpms.</p>\n<p>Document: <a href=\"https://bnd.bndtools.org/releases/6.1.0/chapters/330-jpms.html\" rel=\"nofollow noreferrer\">https://bnd.bndtools.org/releases/6.1.0/chapters/330-jpms.html</a></p>\n"}],"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3491,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":43213506,"answer_count":2,"score":17,"last_activity_date":1680120513,"creation_date":1491294461,"question_id":43201997,"body_markdown":"The [module declaration][1] defines, among other things, a module&#39;s dependencies. If I use Maven as a build tool, this is redundant because the `pom.xml` already contains these (and more) information. Based on that, couldn&#39;t Maven generate the `module-info.java` for me?\r\n\r\n  [1]: http://openjdk.java.net/projects/jigsaw/spec/sotms/#module-declarations\r\n","title":"Can Maven generate the module declaration?","body":"<p>The <a href=\"http://openjdk.java.net/projects/jigsaw/spec/sotms/#module-declarations\" rel=\"nofollow noreferrer\">module declaration</a> defines, among other things, a module's dependencies. If I use Maven as a build tool, this is redundant because the <code>pom.xml</code> already contains these (and more) information. Based on that, couldn't Maven generate the <code>module-info.java</code> for me?</p>\n"},{"tags":["java","binary-search-tree","insertion","modified-preorder-tree-t"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680120510,"creation_date":1680120510,"answer_id":75881740,"question_id":75881666,"body_markdown":"These methods take a node as argument because they are called recursively for each node in the tree.\r\n\r\nIf you want (rightly so!) to be able to call these methods without argument, then just overload them so you have a signature that does not take an argument. Add this to your `BinarySearchTree` class:\r\n\r\n```\r\npublic void preOrder() {\r\n    preOrder(root);\r\n}\r\n\r\npublic void inOrder() {\r\n    inOrder(root);\r\n}\r\n```\r\n\r\nAnd now in your main code you can call:\r\n\r\n```\r\nnewBST.preOrder();\r\nnewBST.inOrder();\r\n```\r\n\r\n","title":"why i have to pass newBst.root as argument to implement the preorder traversal method?","body":"<p>These methods take a node as argument because they are called recursively for each node in the tree.</p>\n<p>If you want (rightly so!) to be able to call these methods without argument, then just overload them so you have a signature that does not take an argument. Add this to your <code>BinarySearchTree</code> class:</p>\n<pre><code>public void preOrder() {\n    preOrder(root);\n}\n\npublic void inOrder() {\n    inOrder(root);\n}\n</code></pre>\n<p>And now in your main code you can call:</p>\n<pre><code>newBST.preOrder();\nnewBST.inOrder();\n</code></pre>\n"}],"owner":{"account_id":23558102,"reputation":13,"user_id":17599809,"display_name":"Lohit Kumar Biswas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680120510,"creation_date":1680120023,"question_id":75881666,"body_markdown":"i am facing problem while implementing the preorder traversal , if i use newBst.root then it gives me expected output but while i donot use it then the output donot show expected result it throughs an error\r\nmethod preOrder in class treedataStructure.BinaryserachTree cannot be applied to given types;\r\n  required: treedataStructure.BinaryNode\r\n\r\n\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        BinarySearchTree newBST = new BinarySearchTree();\r\n        \r\n        newBST.insert(70);\r\n        newBST.insert(50);\r\n        newBST.insert(90);\r\n        newBST.insert(30);\r\n        newBST.insert(60);\r\n        newBST.insert(80);\r\n        newBST.insert(100);\r\n        newBST.insert(20);\r\n        newBST.insert(40);  \r\n        \r\n        newBST.preOrder(newBST.root);\r\n        newBST.inOrder(newBST.root);\r\n        \r\n\r\n    }\r\n\r\n}\r\npublic class BinaryNode {\r\n    \r\n    public int value;\r\n    public int height;\r\n    //child\r\n    public BinaryNode left;\r\n    public BinaryNode right;\r\n    \r\n\r\n}\r\n\r\npublic class BinarySearchTree {\r\n    \r\n    BinaryNode root;\r\n    \r\n    public BinarySearchTree() {\r\n        root = null; \r\n        \r\n    }\r\n    \r\n    // Insert Method\r\n    private BinaryNode insert(BinaryNode currentNode, int value) {\r\n        \r\n        if(currentNode == null) { \r\n            BinaryNode newNode = new BinaryNode(); \r\n            newNode.value = value; \r\n            System.out.println(&quot;The value successfully inserted&quot;); \r\n            return newNode;\r\n        } else if(value &lt;= currentNode.value){ \r\n            currentNode.left = insert(currentNode.left, value); \r\n            return currentNode; \r\n        } else {\r\n            currentNode.right = insert(currentNode.right, value);\r\n            return currentNode; \r\n        }\r\n    \r\n    }\r\n    \r\n    public void insert(int value) {\r\n        insert(root, value);\r\n    }\r\n    \r\n    // Pre Order Traversal \r\n    public void preOrder(BinaryNode node) {\r\n        if(node == null) {\r\n            return;\r\n        }\r\n        System.out.print(node.value + &quot; &quot;);\r\n        preOrder(node.left);\r\n        preOrder(node.right);   \r\n        \r\n    }\r\n    \r\n    //In Order traversal\r\n    public void inOrder(BinaryNode node) {\r\n        if(node == null) {\r\n            System.out.println(&quot;ACV&quot;);\r\n            return;\r\n        }\r\n        \r\n        inOrder(node.left);\r\n        System.out.print(node.value + &quot; &quot;);\r\n        inOrder(node.right);\r\n    }\r\n\r\n}\r\n```\r\nexpected output\r\n\r\n\r\n```\r\n70 12 80 90 \r\n```\r\n\r\noutput get\r\n\r\nmethod preOrder in class treedataStructure.BinaryserachTree cannot be applied to given types;\r\n  required: treedataStructure.BinaryNode\r\n\r\n\r\n\r\n","title":"why i have to pass newBst.root as argument to implement the preorder traversal method?","body":"<p>i am facing problem while implementing the preorder traversal , if i use newBst.root then it gives me expected output but while i donot use it then the output donot show expected result it throughs an error\nmethod preOrder in class treedataStructure.BinaryserachTree cannot be applied to given types;\nrequired: treedataStructure.BinaryNode</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        \n        BinarySearchTree newBST = new BinarySearchTree();\n        \n        newBST.insert(70);\n        newBST.insert(50);\n        newBST.insert(90);\n        newBST.insert(30);\n        newBST.insert(60);\n        newBST.insert(80);\n        newBST.insert(100);\n        newBST.insert(20);\n        newBST.insert(40);  \n        \n        newBST.preOrder(newBST.root);\n        newBST.inOrder(newBST.root);\n        \n\n    }\n\n}\npublic class BinaryNode {\n    \n    public int value;\n    public int height;\n    //child\n    public BinaryNode left;\n    public BinaryNode right;\n    \n\n}\n\npublic class BinarySearchTree {\n    \n    BinaryNode root;\n    \n    public BinarySearchTree() {\n        root = null; \n        \n    }\n    \n    // Insert Method\n    private BinaryNode insert(BinaryNode currentNode, int value) {\n        \n        if(currentNode == null) { \n            BinaryNode newNode = new BinaryNode(); \n            newNode.value = value; \n            System.out.println(&quot;The value successfully inserted&quot;); \n            return newNode;\n        } else if(value &lt;= currentNode.value){ \n            currentNode.left = insert(currentNode.left, value); \n            return currentNode; \n        } else {\n            currentNode.right = insert(currentNode.right, value);\n            return currentNode; \n        }\n    \n    }\n    \n    public void insert(int value) {\n        insert(root, value);\n    }\n    \n    // Pre Order Traversal \n    public void preOrder(BinaryNode node) {\n        if(node == null) {\n            return;\n        }\n        System.out.print(node.value + &quot; &quot;);\n        preOrder(node.left);\n        preOrder(node.right);   \n        \n    }\n    \n    //In Order traversal\n    public void inOrder(BinaryNode node) {\n        if(node == null) {\n            System.out.println(&quot;ACV&quot;);\n            return;\n        }\n        \n        inOrder(node.left);\n        System.out.print(node.value + &quot; &quot;);\n        inOrder(node.right);\n    }\n\n}\n</code></pre>\n<p>expected output</p>\n<pre><code>70 12 80 90 \n</code></pre>\n<p>output get</p>\n<p>method preOrder in class treedataStructure.BinaryserachTree cannot be applied to given types;\nrequired: treedataStructure.BinaryNode</p>\n"},{"tags":["java","android","database","caching","xmpp"],"comments":[{"owner":{"account_id":4000874,"reputation":2862,"user_id":3296947,"accept_rate":73,"display_name":"NewestStackOverflowUser"},"score":0,"creation_date":1506595623,"post_id":46412453,"comment_id":79889209,"body_markdown":"Usually when caching data that can be updated on the server causes the client to maintain an offset (counter/timestamp or something similar).\nThese posts explain data sync patterns which you can use to come up with a protocol for your use case: https://stackoverflow.com/questions/10829371/sync-data-between-android-app-and-webserver\nhttps://stackoverflow.com/questions/11299208/how-to-synchronize-android-database-with-an-online-sql-server","body":"Usually when caching data that can be updated on the server causes the client to maintain an offset (counter/timestamp or something similar). These posts explain data sync patterns which you can use to come up with a protocol for your use case: <a href=\"https://stackoverflow.com/questions/10829371/sync-data-between-android-app-and-webserver\" title=\"sync data between android app and webserver\">stackoverflow.com/questions/10829371/&hellip;</a> <a href=\"https://stackoverflow.com/questions/11299208/how-to-synchronize-android-database-with-an-online-sql-server\" title=\"how to synchronize android database with an online sql server\">stackoverflow.com/questions/11299208/&hellip;</a>"},{"owner":{"account_id":5262199,"reputation":170,"user_id":4203409,"display_name":"Dee Nix"},"score":0,"creation_date":1507121669,"post_id":46412453,"comment_id":80084330,"body_markdown":"I have done same project but used signalR as a communication. At first login I download latest message data (last 3day messages in my case) and store local sqlite db then reflect in view. If you scroll down i download more chunk data using rest api. For realtime messaging store message locally first then display in view.","body":"I have done same project but used signalR as a communication. At first login I download latest message data (last 3day messages in my case) and store local sqlite db then reflect in view. If you scroll down i download more chunk data using rest api. For realtime messaging store message locally first then display in view."}],"answers":[{"tags":[],"owner":{"account_id":22303736,"reputation":209,"user_id":16528677,"display_name":"Darian-Ctlin Cucer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680120460,"creation_date":1680120460,"answer_id":75881731,"question_id":46412453,"body_markdown":"Use a combination of [SQLite](https://www.sqlite.org/docs.html) and [XMPP MAM](https://xmpp.org/extensions/xep-0313.html) ext.\r\n\r\n---\r\n\r\n 1. Store the new messages in a database.\r\n 2. Load and display the last x messages from local database.\r\n 3. [XMPP MAM](https://xmpp.org/extensions/xep-0313.html) extension will get information from server, from present, past, even if they were not present in the client&#39;s memory.\r\n 4. Check database and the server when the user wants to view more messages.\r\n 5. Cache eviction policy to reset/remove past messages from database to avoid memory usage.\r\n\r\n---\r\n\r\nRetrieve the last 20 messages using [XMPP MAM](https://xmpp.org/extensions/xep-0313.html) ext:\r\n\r\n    int n = 20; // The number of messages to retrieve\r\n    MamManager mamManager = MamManager.getInstanceFor(connection);\r\n    MamQueryResult mamQueryResult = mamManager.queryArchive(n);\r\n    List&lt;Forwarded&gt; forwardedList = mamQueryResult.getForwardedMessages();\r\n    for (Forwarded forwarded : forwardedList) {\r\n        Stanza stanza = forwarded.getForwardedStanza();\r\n        if (stanza instanceof Message) {\r\n            Message message = (Message) stanza;\r\n            // Display the message to the user or process it as needed\r\n        }\r\n    }\r\n\r\n`connection` represents [XMPP](https://xmpp.org/extensions/), `n` var represents the number of messages and `mamManager.queryArchive(n)` retrieves the last `n` message from [MAM](https://xmpp.org/extensions/attic/xep-0313-0.1.html).\r\n\r\nThe `if (stanza instanceof Messages)` checks the `Message` stanzas as [MAM](https://xmpp.org/extensions/attic/xep-0313-0.1.html) can retrieve it like `Presence`.\r\n\r\n---\r\n\r\nSee [XEP-0313](https://xmpp.org/extensions/xep-0313.html) for more information.\r\nOpen Source examples can be good to check like [Smack](https://github.com/igniterealtime/Smack), [SQLite](https://www.sqlite.org/docs.html) and [Pix-Art Messanger](https://github.com/kriztan/jabber.pix-art.de).","title":"Android (XMPP) Caching/Synchronising Messages in Chat Application","body":"<p>Use a combination of <a href=\"https://www.sqlite.org/docs.html\" rel=\"nofollow noreferrer\">SQLite</a> and <a href=\"https://xmpp.org/extensions/xep-0313.html\" rel=\"nofollow noreferrer\">XMPP MAM</a> ext.</p>\n<hr />\n<ol>\n<li>Store the new messages in a database.</li>\n<li>Load and display the last x messages from local database.</li>\n<li><a href=\"https://xmpp.org/extensions/xep-0313.html\" rel=\"nofollow noreferrer\">XMPP MAM</a> extension will get information from server, from present, past, even if they were not present in the client's memory.</li>\n<li>Check database and the server when the user wants to view more messages.</li>\n<li>Cache eviction policy to reset/remove past messages from database to avoid memory usage.</li>\n</ol>\n<hr />\n<p>Retrieve the last 20 messages using <a href=\"https://xmpp.org/extensions/xep-0313.html\" rel=\"nofollow noreferrer\">XMPP MAM</a> ext:</p>\n<pre><code>int n = 20; // The number of messages to retrieve\nMamManager mamManager = MamManager.getInstanceFor(connection);\nMamQueryResult mamQueryResult = mamManager.queryArchive(n);\nList&lt;Forwarded&gt; forwardedList = mamQueryResult.getForwardedMessages();\nfor (Forwarded forwarded : forwardedList) {\n    Stanza stanza = forwarded.getForwardedStanza();\n    if (stanza instanceof Message) {\n        Message message = (Message) stanza;\n        // Display the message to the user or process it as needed\n    }\n}\n</code></pre>\n<p><code>connection</code> represents <a href=\"https://xmpp.org/extensions/\" rel=\"nofollow noreferrer\">XMPP</a>, <code>n</code> var represents the number of messages and <code>mamManager.queryArchive(n)</code> retrieves the last <code>n</code> message from <a href=\"https://xmpp.org/extensions/attic/xep-0313-0.1.html\" rel=\"nofollow noreferrer\">MAM</a>.</p>\n<p>The <code>if (stanza instanceof Messages)</code> checks the <code>Message</code> stanzas as <a href=\"https://xmpp.org/extensions/attic/xep-0313-0.1.html\" rel=\"nofollow noreferrer\">MAM</a> can retrieve it like <code>Presence</code>.</p>\n<hr />\n<p>See <a href=\"https://xmpp.org/extensions/xep-0313.html\" rel=\"nofollow noreferrer\">XEP-0313</a> for more information.\nOpen Source examples can be good to check like <a href=\"https://github.com/igniterealtime/Smack\" rel=\"nofollow noreferrer\">Smack</a>, <a href=\"https://www.sqlite.org/docs.html\" rel=\"nofollow noreferrer\">SQLite</a> and <a href=\"https://github.com/kriztan/jabber.pix-art.de\" rel=\"nofollow noreferrer\">Pix-Art Messanger</a>.</p>\n"}],"owner":{"display_name":"user5699130"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":866,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1680120460,"creation_date":1506366308,"question_id":46412453,"body_markdown":"### Problem Description\n\nI&#39;m creating android chat application based on XMPP protocol. Smack is used as a XMPP Client library. In application messages are stored in SQLite database.\n\n### Question\n\nHow to implement message caching (ex. like it&#39;s done in Facebook messenger) ? In case if there are new messages on server download 20 and show to the user, if no show from local database. If user scroll up again check database and server and show next 20 messages.\n\nIs there a open source example available?\n","title":"Android (XMPP) Caching/Synchronising Messages in Chat Application","body":"<h3>Problem Description</h3>\n<p>I'm creating android chat application based on XMPP protocol. Smack is used as a XMPP Client library. In application messages are stored in SQLite database.</p>\n<h3>Question</h3>\n<p>How to implement message caching (ex. like it's done in Facebook messenger) ? In case if there are new messages on server download 20 and show to the user, if no show from local database. If user scroll up again check database and server and show next 20 messages.</p>\n<p>Is there a open source example available?</p>\n"},{"tags":["java","hibernate","inheritance","spring-data-jpa","nhibernate-inheritance"],"owner":{"account_id":4783850,"reputation":6978,"user_id":3864917,"accept_rate":100,"display_name":"Vikas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680119989,"creation_date":1680118181,"question_id":75881427,"body_markdown":"I am facing issue while saving a parent entity with inheritance if it already exists. I have an entities as below,\r\n\r\n    @Entity\r\n    @PrimaryKeyJoinColumn(name = &quot;CHILD_ID&quot;)\r\n    public class ChildEntity extends ParentEntity {\r\n      @Column(name = &quot;NAME&quot;)\r\n      private String name;\r\n    \r\n      @Column(name = &quot;TYPE&quot;)\r\n      @Enumerated(EnumType.STRING)\r\n      private RoleEnum roleEnum;\r\n    \r\n      //getter setters\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    public class ParentEntity implements Persistable&lt;String&gt;, Serializable {\r\n    \r\n      @Id\r\n      @Column(name = &quot;PARENT_ID&quot;, length = 36, columnDefinition = &quot;uniqueidentifier&quot;)\r\n      private String parentId;\r\n    \r\n      @CreatedBy\r\n      @Column(name = &quot;created_by&quot;, length = 50, updatable = false)\r\n      private String createdBy;\r\n    \r\n      @CreatedDate\r\n      @Column(name = &quot;created_date&quot;, updatable = false)\r\n      private Instant createdDate = Instant.now();\r\n    \r\n      @LastModifiedBy\r\n      @Column(name = &quot;last_modified_by&quot;, length = 50)\r\n      private String lastModifiedBy;\r\n    \r\n      @LastModifiedDate\r\n      @Column(name = &quot;last_modified_date&quot;)\r\n      private Instant lastModifiedDate = Instant.now();\r\n    \r\n      @Column(name = &quot;salutation&quot;, length = 20)\r\n      private String salutation;\r\n    }\r\n\r\nWhen I am saving an Child entity, I want to update the parent entity if it already exists, but it is always inserting and failing with `Violation of PRIMARY KEY constraint`.\r\n\r\nI have tried returning isNew as false but still it is not working,\r\n\r\n    @Override\r\n    @Transient\r\n    public boolean isNew() {\r\n    \treturn false;\r\n    }\r\n\r\nAm I missing something? Highly appreciate any help.","title":"parent always inserts instead of update with InheritanceType.JOINED","body":"<p>I am facing issue while saving a parent entity with inheritance if it already exists. I have an entities as below,</p>\n<pre><code>@Entity\n@PrimaryKeyJoinColumn(name = &quot;CHILD_ID&quot;)\npublic class ChildEntity extends ParentEntity {\n  @Column(name = &quot;NAME&quot;)\n  private String name;\n\n  @Column(name = &quot;TYPE&quot;)\n  @Enumerated(EnumType.STRING)\n  private RoleEnum roleEnum;\n\n  //getter setters\n}\n\n\n@Entity\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class ParentEntity implements Persistable&lt;String&gt;, Serializable {\n\n  @Id\n  @Column(name = &quot;PARENT_ID&quot;, length = 36, columnDefinition = &quot;uniqueidentifier&quot;)\n  private String parentId;\n\n  @CreatedBy\n  @Column(name = &quot;created_by&quot;, length = 50, updatable = false)\n  private String createdBy;\n\n  @CreatedDate\n  @Column(name = &quot;created_date&quot;, updatable = false)\n  private Instant createdDate = Instant.now();\n\n  @LastModifiedBy\n  @Column(name = &quot;last_modified_by&quot;, length = 50)\n  private String lastModifiedBy;\n\n  @LastModifiedDate\n  @Column(name = &quot;last_modified_date&quot;)\n  private Instant lastModifiedDate = Instant.now();\n\n  @Column(name = &quot;salutation&quot;, length = 20)\n  private String salutation;\n}\n</code></pre>\n<p>When I am saving an Child entity, I want to update the parent entity if it already exists, but it is always inserting and failing with <code>Violation of PRIMARY KEY constraint</code>.</p>\n<p>I have tried returning isNew as false but still it is not working,</p>\n<pre><code>@Override\n@Transient\npublic boolean isNew() {\n    return false;\n}\n</code></pre>\n<p>Am I missing something? Highly appreciate any help.</p>\n"},{"tags":["java","sorting","recursion","stack-overflow","quicksort"],"comments":[{"owner":{"display_name":"user21508463"},"score":0,"creation_date":1680091959,"post_id":75877008,"comment_id":133837699,"body_markdown":"The error trace is incomplete.","body":"The error trace is incomplete."},{"owner":{"display_name":"user21508463"},"score":0,"creation_date":1680091997,"post_id":75877008,"comment_id":133837709,"body_markdown":"Note that QuickSort must be performed in-place. Which your code does not do.","body":"Note that QuickSort must be performed in-place. Which your code does not do."},{"owner":{"account_id":25399627,"reputation":33,"user_id":19209356,"display_name":"ege.exe"},"score":0,"creation_date":1680092093,"post_id":75877008,"comment_id":133837739,"body_markdown":"@Yves Daoust I&#39;m confused on what error trace means in this context, do you mean I didn&#39;t provide the full error message or is it something else? Also what does the error trace have anything to do with my algorithm?","body":"@Yves Daoust I&#39;m confused on what error trace means in this context, do you mean I didn&#39;t provide the full error message or is it something else? Also what does the error trace have anything to do with my algorithm?"},{"owner":{"display_name":"user21508463"},"score":0,"creation_date":1680093187,"post_id":75877008,"comment_id":133838095,"body_markdown":"&quot;what does the error trace have anything to do with my algorithm&quot;: you mean there is no error to worry about ??","body":"&quot;what does the error trace have anything to do with my algorithm&quot;: you mean there is no error to worry about ??"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1680094281,"post_id":75877008,"comment_id":133838434,"body_markdown":"When you are partitioning your elements, you will at a point encounter the pivot element, and since it is not greater than itself, you will put it in the `left_arr`. After the recursive calls you are adding both all the elements from `left_arr` including the pivot element and the pivot element itself to the result. So the pivot element gets duplicated. Also if the pivot happens to be the max element, all the elements go into `left_arr`, which will cause recursion with a list equal to the original one. Whether any of this can cause your stack overflow, I dont know.","body":"When you are partitioning your elements, you will at a point encounter the pivot element, and since it is not greater than itself, you will put it in the <code>left_arr</code>. After the recursive calls you are adding both all the elements from <code>left_arr</code> including the pivot element and the pivot element itself to the result. So the pivot element gets duplicated. Also if the pivot happens to be the max element, all the elements go into <code>left_arr</code>, which will cause recursion with a list equal to the original one. Whether any of this can cause your stack overflow, I dont know."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1680094510,"post_id":75877008,"comment_id":133838505,"body_markdown":"Did you try a debugger?","body":"Did you try a debugger?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1680107692,"post_id":75877008,"comment_id":133842657,"body_markdown":"I cannot reproduce exactly. In one run your code sorted your input into `[6, 6, 15, 15, 32, 32, 32, 232, 232, 643, 643, 6543, 6543, 534232, 534232]`. Note the repeated elements. However when I enter input 1, 2, 1, -1, I get a stack overflow error that looks like yours. Can it be that you observed it when by mistake you entered the same element twice?","body":"I cannot reproduce exactly. In one run your code sorted your input into <code>[6, 6, 15, 15, 32, 32, 32, 232, 232, 643, 643, 6543, 6543, 534232, 534232]</code>. Note the repeated elements. However when I enter input 1, 2, 1, -1, I get a stack overflow error that looks like yours. Can it be that you observed it when by mistake you entered the same element twice?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1680115020,"post_id":75877008,"comment_id":133844398,"body_markdown":"@user16320675 True. I believe that thats why we observe the stack overflow if there are equal elements in the list. If there are not, the random component will save us sooner or later and in the vast majority of cases before the stack overflow hits us.","body":"@user16320675 True. I believe that thats why we observe the stack overflow if there are equal elements in the list. If there are not, the random component will save us sooner or later and in the vast majority of cases before the stack overflow hits us."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1680115393,"post_id":75877008,"comment_id":133844494,"body_markdown":"@Ole agreed - just tested and also could not reproduce the problem with posted input, but for sure if replacing last element by `6` (a duplicate)","body":"@Ole agreed - just tested and also could not reproduce the problem with posted input, but for sure if replacing last element by <code>6</code> (a duplicate)"}],"answers":[{"tags":[],"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680094460,"creation_date":1680094460,"answer_id":75877520,"question_id":75877008,"body_markdown":"code runs fine\r\n---\r\n\r\nwell **almost** fine, there is a bug in your code\r\n\r\n\r\n```\r\nleft_arr = quick_sort(left_arr);\r\nright_arr = quick_sort(right_arr);\r\nArrayList&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\r\nresult.addAll(left_arr);\r\nresult.add(pivot); //BUG HERE\r\nresult.addAll(right_arr);\r\n```\r\n\r\nwhen you split left/right you already add your `pivot` into the `left_arr` - so no need to add it twice, since\r\n\r\n```\r\nif (element &gt; pivot) {\r\n    right_arr.add(element);\r\n} else {\r\n    left_arr.add(element); //pivot itself is NOT bigger than pivot and will be added here\r\n}\r\n``` \r\n\r\n\r\nalternatively you can `remove` the pivot from the list: `int pivot = arr.remove(pivot_index);`\r\n\r\nabout java.lang.StackOverflowError\r\n---\r\n\r\nwell - your code is working fine, on my machine so i guess you have to setup your computer properly - see [this answer][1] for further details (sorry for that link-only answer)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3700459/how-to-increase-the-java-stack-size","title":"StackOverflowError when sorting a list of 7 numbers with my quicksort algorithm","body":"<h2>code runs fine</h2>\n<p>well <strong>almost</strong> fine, there is a bug in your code</p>\n<pre><code>left_arr = quick_sort(left_arr);\nright_arr = quick_sort(right_arr);\nArrayList&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\nresult.addAll(left_arr);\nresult.add(pivot); //BUG HERE\nresult.addAll(right_arr);\n</code></pre>\n<p>when you split left/right you already add your <code>pivot</code> into the <code>left_arr</code> - so no need to add it twice, since</p>\n<pre><code>if (element &gt; pivot) {\n    right_arr.add(element);\n} else {\n    left_arr.add(element); //pivot itself is NOT bigger than pivot and will be added here\n}\n</code></pre>\n<p>alternatively you can <code>remove</code> the pivot from the list: <code>int pivot = arr.remove(pivot_index);</code></p>\n<h2>about java.lang.StackOverflowError</h2>\n<p>well - your code is working fine, on my machine so i guess you have to setup your computer properly - see <a href=\"https://stackoverflow.com/questions/3700459/how-to-increase-the-java-stack-size\">this answer</a> for further details (sorry for that link-only answer)</p>\n"}],"owner":{"account_id":25399627,"reputation":33,"user_id":19209356,"display_name":"ege.exe"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75877520,"answer_count":1,"score":2,"last_activity_date":1680119424,"creation_date":1680091783,"question_id":75877008,"body_markdown":"For the following quicksort algorithm: \r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.ArrayList;\r\npublic class quick_sort_demo {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        ArrayList&lt;Integer&gt; my_arr = new ArrayList&lt;Integer&gt;();\r\n        while (true) {\r\n            System.out.println(&quot;Enter input value. &#39;-1&#39; to exit the adding process. &quot;);\r\n            int val = sc.nextInt();\r\n            sc.nextLine();\r\n            if (val == -1) {\r\n                break;\r\n            } else {\r\n                my_arr.add(val);\r\n            }\r\n        }\r\n        quick_sort(my_arr);\r\n    }\r\n    public static ArrayList&lt;Integer&gt; quick_sort(ArrayList&lt;Integer&gt; arr) {\r\n        if (arr.size() &lt;= 1) {\r\n            return arr;\r\n        }\r\n        int pivot_index = (int) (Math.random() * arr.size());\r\n        int pivot = arr.get(pivot_index);\r\n        ArrayList&lt;Integer&gt; left_arr = new ArrayList&lt;Integer&gt;();\r\n        ArrayList&lt;Integer&gt; right_arr = new ArrayList&lt;Integer&gt;();\r\n        for (int i = 0; i &lt; arr.size(); i++) {\r\n            int element = arr.get(i);\r\n            if (element &gt; pivot) {\r\n                right_arr.add(element);\r\n            } else {\r\n                left_arr.add(element);\r\n            }\r\n        }\r\n        left_arr = quick_sort(left_arr);\r\n        right_arr = quick_sort(right_arr);\r\n        ArrayList&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\r\n        result.addAll(left_arr);\r\n        result.add(pivot);\r\n        result.addAll(right_arr);\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nI am getting this error repeatedly: \r\n```\r\nException in thread &quot;main&quot; java.lang.StackOverflowError\r\n        at java.base/java.util.Random.next(Random.java:209)\r\n        at java.base/java.util.Random.nextDouble(Random.java:463)\r\n        at java.base/java.lang.Math.random(Math.java:865)\r\n        at quick_sort_demo.quick_sort(quick_sort_demo.java:23)\r\n        at quick_sort_demo.quick_sort(quick_sort_demo.java:35)\r\n```\r\n\r\nMy exact inputs for the program were as follows: {6,15,32,643,6543,534232,232,-1}\r\n\r\n\r\n\r\nI tried asking CHATGPT but I couldn&#39;t get a helpful answer for the specific error I encountered. I don&#39;t understand why I&#39;m getting a stackoverflow error as the recursive method should be calling itself without issue until the &#39;arr.size()&#39; returns something &lt;= 1. Can someone explain what I&#39;m doing wrong? Is my algorithm wrong and why am I getting a recursion error?","title":"StackOverflowError when sorting a list of 7 numbers with my quicksort algorithm","body":"<p>For the following quicksort algorithm:</p>\n<pre><code>import java.util.Scanner;\nimport java.util.ArrayList;\npublic class quick_sort_demo {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        ArrayList&lt;Integer&gt; my_arr = new ArrayList&lt;Integer&gt;();\n        while (true) {\n            System.out.println(&quot;Enter input value. '-1' to exit the adding process. &quot;);\n            int val = sc.nextInt();\n            sc.nextLine();\n            if (val == -1) {\n                break;\n            } else {\n                my_arr.add(val);\n            }\n        }\n        quick_sort(my_arr);\n    }\n    public static ArrayList&lt;Integer&gt; quick_sort(ArrayList&lt;Integer&gt; arr) {\n        if (arr.size() &lt;= 1) {\n            return arr;\n        }\n        int pivot_index = (int) (Math.random() * arr.size());\n        int pivot = arr.get(pivot_index);\n        ArrayList&lt;Integer&gt; left_arr = new ArrayList&lt;Integer&gt;();\n        ArrayList&lt;Integer&gt; right_arr = new ArrayList&lt;Integer&gt;();\n        for (int i = 0; i &lt; arr.size(); i++) {\n            int element = arr.get(i);\n            if (element &gt; pivot) {\n                right_arr.add(element);\n            } else {\n                left_arr.add(element);\n            }\n        }\n        left_arr = quick_sort(left_arr);\n        right_arr = quick_sort(right_arr);\n        ArrayList&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\n        result.addAll(left_arr);\n        result.add(pivot);\n        result.addAll(right_arr);\n        return result;\n    }\n}\n</code></pre>\n<p>I am getting this error repeatedly:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.StackOverflowError\n        at java.base/java.util.Random.next(Random.java:209)\n        at java.base/java.util.Random.nextDouble(Random.java:463)\n        at java.base/java.lang.Math.random(Math.java:865)\n        at quick_sort_demo.quick_sort(quick_sort_demo.java:23)\n        at quick_sort_demo.quick_sort(quick_sort_demo.java:35)\n</code></pre>\n<p>My exact inputs for the program were as follows: {6,15,32,643,6543,534232,232,-1}</p>\n<p>I tried asking CHATGPT but I couldn't get a helpful answer for the specific error I encountered. I don't understand why I'm getting a stackoverflow error as the recursive method should be calling itself without issue until the 'arr.size()' returns something &lt;= 1. Can someone explain what I'm doing wrong? Is my algorithm wrong and why am I getting a recursion error?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":4250462,"reputation":4103,"user_id":3477712,"accept_rate":84,"display_name":"code"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1464067503,"creation_date":1464067503,"answer_id":37405008,"question_id":37404703,"body_markdown":"Spring Cloud Config Server will allow this type of behavior.  Using JCE you can setup a key on the server and use it to cipher the apps properties.\r\n\r\nhttp://cloud.spring.io/spring-cloud-config/spring-cloud-config.html","title":"Spring Boot how to hide passwords in properties file","body":"<p>Spring Cloud Config Server will allow this type of behavior.  Using JCE you can setup a key on the server and use it to cipher the apps properties.</p>\n\n<p><a href=\"http://cloud.spring.io/spring-cloud-config/spring-cloud-config.html\" rel=\"noreferrer\">http://cloud.spring.io/spring-cloud-config/spring-cloud-config.html</a></p>\n"},{"tags":[],"owner":{"account_id":7088555,"reputation":2314,"user_id":5702727,"display_name":"Sanjay Rawat"},"down_vote_count":6,"up_vote_count":25,"is_accepted":false,"score":19,"last_activity_date":1590054248,"creation_date":1464125162,"answer_id":37424184,"question_id":37404703,"body_markdown":"**UPDATE:** I noticed folks down-voting this, so I have to say that although this is not an ideal solution, but this works and acceptable in some use-cases.\r\nCloudfoundry uses Environment variables to inject credentials when a Service is binded to an application. More info https://docs.cloudfoundry.org/devguide/services/application-binding.html\r\n\r\nAnd also if your system is not shared, then for local development this is also acceptable. Of course, the more safe and secure way is explained in [Answer](https://stackoverflow.com/a/54145503/5702727) by @J-Alex.\r\n\r\n\r\n\r\n**Answer:**\r\n\r\nIf you want to hide your passwords then the easiest solution is to use **Environment variables** in `application.properties` file or directly in your code.\r\n\r\nIn `application.properties`:\r\n\r\n\tmypassword=${password}\r\n\t\r\nThen in your configuration class:\r\n\r\n\t@Autowired\r\n    private Environment environment;\r\n\t\r\n\t[...]//Inside a method\r\n\tSystem.out.println(environment.getProperty(&quot;mypassword&quot;));\r\n\r\nIn your `configuration` class:\r\n\r\n\t@Value(&quot;${password}&quot;)\r\n    private String herokuPath;\r\n\t\r\n\t[...]//Inside a method\r\n\tSystem.out.println(herokuPath);\r\n\r\n__Note:__ You might have to restart after setting the environment variable. \r\nFor windows:\r\n\r\n[![In Windows][1]][1]\r\n\r\nRefer this [Documentation][2] for more info.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/4P2KO.png\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\r\n","title":"Spring Boot how to hide passwords in properties file","body":"<p><strong>UPDATE:</strong> I noticed folks down-voting this, so I have to say that although this is not an ideal solution, but this works and acceptable in some use-cases.\nCloudfoundry uses Environment variables to inject credentials when a Service is binded to an application. More info <a href=\"https://docs.cloudfoundry.org/devguide/services/application-binding.html\" rel=\"noreferrer\">https://docs.cloudfoundry.org/devguide/services/application-binding.html</a></p>\n\n<p>And also if your system is not shared, then for local development this is also acceptable. Of course, the more safe and secure way is explained in <a href=\"https://stackoverflow.com/a/54145503/5702727\">Answer</a> by @J-Alex.</p>\n\n<p><strong>Answer:</strong></p>\n\n<p>If you want to hide your passwords then the easiest solution is to use <strong>Environment variables</strong> in <code>application.properties</code> file or directly in your code.</p>\n\n<p>In <code>application.properties</code>:</p>\n\n<pre><code>mypassword=${password}\n</code></pre>\n\n<p>Then in your configuration class:</p>\n\n<pre><code>@Autowired\nprivate Environment environment;\n\n[...]//Inside a method\nSystem.out.println(environment.getProperty(\"mypassword\"));\n</code></pre>\n\n<p>In your <code>configuration</code> class:</p>\n\n<pre><code>@Value(\"${password}\")\nprivate String herokuPath;\n\n[...]//Inside a method\nSystem.out.println(herokuPath);\n</code></pre>\n\n<p><strong>Note:</strong> You might have to restart after setting the environment variable. \nFor windows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/4P2KO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4P2KO.png\" alt=\"In Windows\"></a></p>\n\n<p>Refer this <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"noreferrer\">Documentation</a> for more info.</p>\n"},{"tags":[],"owner":{"account_id":365271,"reputation":30295,"user_id":710099,"accept_rate":79,"display_name":"Federico Piazza"},"down_vote_count":2,"up_vote_count":126,"is_accepted":true,"score":124,"last_activity_date":1680119102,"creation_date":1464125644,"answer_id":37424296,"question_id":37404703,"body_markdown":"You can use **Jasypt** to encrypt properties, so you could have your property like this:\r\n\r\n    db.password=ENC(XcBjfjDDjxeyFBoaEPhG14wEzc6Ja+Xx+hNPrJyQT88=)\r\n\r\nJasypt allows you to encrypt your properties using different algorithms, once you get the encrypted property you put inside the `ENC(...)`. For instance, you can encrypt this way through Jasypt using the terminal:\r\n\r\n    encrypted-pwd$ java -cp ~/.m2/repository/org/jasypt/jasypt/1.9.2/jasypt-1.9.2.jar  org.jasypt.intf.cli.JasyptPBEStringEncryptionCLI input=&quot;contactspassword&quot; password=supersecretz algorithm=PBEWithMD5AndDES\r\n    \r\n    ----ENVIRONMENT-----------------\r\n    \r\n    Runtime: Oracle Corporation Java HotSpot(TM) 64-Bit Server VM 24.45-b08\r\n    \r\n    \r\n    \r\n    ----ARGUMENTS-------------------\r\n    \r\n    algorithm: PBEWithMD5AndDES\r\n    input: contactspassword\r\n    password: supersecretz\r\n    \r\n    \r\n    \r\n    ----OUTPUT----------------------\r\n    \r\n    XcBjfjDDjxeyFBoaEPhG14wEzc6Ja+Xx+hNPrJyQT88=\r\n\r\nTo easily configure it with Spring Boot you can use its starter [jasypt-spring-boot-starter][1] with group ID `com.github.ulisesbocchio`\r\n\r\nKeep in mind, that you will need to start your application using the same *password* you used to encrypt the properties. So, you can start your app this way:\r\n\r\n    mvn -Djasypt.encryptor.password=supersecretz spring-boot:run\r\n\r\nOr using the environment variable (thanks to spring boot relaxed binding):\r\n\r\n    export JASYPT_ENCRYPTOR_PASSWORD=supersecretz\r\n    mvn spring-boot:run\r\n\r\n\r\nYou can check below link for more details:\r\n\r\n[https://www.north-47.com/knowledge-base/spring-boot-password-encryption-with-jasypt/][2]\r\n\r\nTo use your encrypted properties in your app just use it as usual, use either method you like (Spring Boot wires the magic, anyway the property must be of course in the classpath):\r\n\r\nUsing `@Value` annotation\r\n\r\n    @Value(&quot;${db.password}&quot;)\r\n    private String password;\r\n\r\nOr using `Environment`\r\n\r\n    @Autowired\r\n    private Environment environment;\r\n\r\n    public void doSomething(Environment env) {\r\n        System.out.println(env.getProperty(&quot;db.password&quot;));\r\n    }\r\n\r\nUpdate: for production environment, to avoid exposing the password in the command line, since you can query the processes with `ps`, previous commands with `history`, etc etc. You could:\r\n\r\n  * Create a script like this: `touch setEnv.sh`\r\n  * Edit `setEnv.sh` to export the `JASYPT_ENCRYPTOR_PASSWORD` variable\r\n\r\n    &gt;\\#!/bin/bash\r\n    &gt;\r\n    &gt;export JASYPT_ENCRYPTOR_PASSWORD=supersecretz\r\n\r\n  * Execute the file with `. setEnv.sh`\r\n  * Run the app in background with `mvn spring-boot:run &amp;`\r\n  * Delete the file `setEnv.sh`\r\n  * Unset the previous environment variable with: `unset JASYPT_ENCRYPTOR_PASSWORD`\r\n\r\n\r\n  [1]: https://github.com/ulisesbocchio/jasypt-spring-boot\r\n  [2]: https://www.north-47.com/knowledge-base/spring-boot-password-encryption-with-jasypt/\r\n","title":"Spring Boot how to hide passwords in properties file","body":"<p>You can use <strong>Jasypt</strong> to encrypt properties, so you could have your property like this:</p>\n<pre><code>db.password=ENC(XcBjfjDDjxeyFBoaEPhG14wEzc6Ja+Xx+hNPrJyQT88=)\n</code></pre>\n<p>Jasypt allows you to encrypt your properties using different algorithms, once you get the encrypted property you put inside the <code>ENC(...)</code>. For instance, you can encrypt this way through Jasypt using the terminal:</p>\n<pre><code>encrypted-pwd$ java -cp ~/.m2/repository/org/jasypt/jasypt/1.9.2/jasypt-1.9.2.jar  org.jasypt.intf.cli.JasyptPBEStringEncryptionCLI input=&quot;contactspassword&quot; password=supersecretz algorithm=PBEWithMD5AndDES\n\n----ENVIRONMENT-----------------\n\nRuntime: Oracle Corporation Java HotSpot(TM) 64-Bit Server VM 24.45-b08\n\n\n\n----ARGUMENTS-------------------\n\nalgorithm: PBEWithMD5AndDES\ninput: contactspassword\npassword: supersecretz\n\n\n\n----OUTPUT----------------------\n\nXcBjfjDDjxeyFBoaEPhG14wEzc6Ja+Xx+hNPrJyQT88=\n</code></pre>\n<p>To easily configure it with Spring Boot you can use its starter <a href=\"https://github.com/ulisesbocchio/jasypt-spring-boot\" rel=\"nofollow noreferrer\">jasypt-spring-boot-starter</a> with group ID <code>com.github.ulisesbocchio</code></p>\n<p>Keep in mind, that you will need to start your application using the same <em>password</em> you used to encrypt the properties. So, you can start your app this way:</p>\n<pre><code>mvn -Djasypt.encryptor.password=supersecretz spring-boot:run\n</code></pre>\n<p>Or using the environment variable (thanks to spring boot relaxed binding):</p>\n<pre><code>export JASYPT_ENCRYPTOR_PASSWORD=supersecretz\nmvn spring-boot:run\n</code></pre>\n<p>You can check below link for more details:</p>\n<p><a href=\"https://www.north-47.com/knowledge-base/spring-boot-password-encryption-with-jasypt/\" rel=\"nofollow noreferrer\">https://www.north-47.com/knowledge-base/spring-boot-password-encryption-with-jasypt/</a></p>\n<p>To use your encrypted properties in your app just use it as usual, use either method you like (Spring Boot wires the magic, anyway the property must be of course in the classpath):</p>\n<p>Using <code>@Value</code> annotation</p>\n<pre><code>@Value(&quot;${db.password}&quot;)\nprivate String password;\n</code></pre>\n<p>Or using <code>Environment</code></p>\n<pre><code>@Autowired\nprivate Environment environment;\n\npublic void doSomething(Environment env) {\n    System.out.println(env.getProperty(&quot;db.password&quot;));\n}\n</code></pre>\n<p>Update: for production environment, to avoid exposing the password in the command line, since you can query the processes with <code>ps</code>, previous commands with <code>history</code>, etc etc. You could:</p>\n<ul>\n<li><p>Create a script like this: <code>touch setEnv.sh</code></p>\n</li>\n<li><p>Edit <code>setEnv.sh</code> to export the <code>JASYPT_ENCRYPTOR_PASSWORD</code> variable</p>\n<blockquote>\n<p>#!/bin/bash</p>\n<p>export JASYPT_ENCRYPTOR_PASSWORD=supersecretz</p>\n</blockquote>\n</li>\n<li><p>Execute the file with <code>. setEnv.sh</code></p>\n</li>\n<li><p>Run the app in background with <code>mvn spring-boot:run &amp;</code></p>\n</li>\n<li><p>Delete the file <code>setEnv.sh</code></p>\n</li>\n<li><p>Unset the previous environment variable with: <code>unset JASYPT_ENCRYPTOR_PASSWORD</code></p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7798354,"reputation":6929,"user_id":5898696,"accept_rate":89,"display_name":"J-Alex"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1547205670,"creation_date":1547205670,"answer_id":54145503,"question_id":37404703,"body_markdown":"To the already proposed solutions I can add an option to configure an external `Secrets Manager` such as [Vault][1].\r\n\r\n1. Configure Vault Server `vault server -dev` (**Only for DEV and not for PROD**)\r\n2. Write secrets `vault write secret/somename key1=value1 key2=value2`\r\n3. Verify secrets `vault read secret/somename`\r\n\r\nAdd the following dependency to your SpringBoot project:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-starter-vault-config&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAdd Vault config properties:\r\n\r\n    spring.cloud.vault.host=localhost\r\n    spring.cloud.vault.port=8200\r\n    spring.cloud.vault.scheme=http\r\n    spring.cloud.vault.authentication=token\r\n    spring.cloud.vault.token=${VAULT_TOKEN}\r\n\r\nPass `VAULT_TOKEN` as an environment variable. \r\n\r\nRefer to the documentation [here.][2]\r\n\r\nThere is a [Spring Vault][3] project which is also can be used for accessing, storing and revoking secrets.\r\n\r\nDependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.vault&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-vault-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nConfiguring Vault Template:\r\n\r\n    @Configuration\r\n    class VaultConfiguration extends AbstractVaultConfiguration {\r\n    \r\n      @Override\r\n      public VaultEndpoint vaultEndpoint() {\r\n        return new VaultEndpoint();\r\n      }\r\n    \r\n      @Override\r\n      public ClientAuthentication clientAuthentication() {\r\n        return new TokenAuthentication(&quot;&quot;);\r\n      }\r\n    }\r\n\r\nInject and use VaultTemplate:\r\n\r\n    public class Example {\r\n    \r\n      @Autowired\r\n      private VaultOperations operations;\r\n    \r\n      public void writeSecrets(String userId, String password) {\r\n          Map&lt;String, String&gt; data = new HashMap&lt;String, String&gt;();\r\n          data.put(&quot;password&quot;, password);\r\n          operations.write(userId, data);\r\n      }\r\n    \r\n      public Person readSecrets(String userId) {\r\n          VaultResponseSupport&lt;Person&gt; response = operations.read(userId, Person.class);\r\n          return response.getBody();\r\n      }\r\n    }\r\n\r\nUse Vault `PropertySource`:\r\n\r\n    @VaultPropertySource(value = &quot;aws/creds/s3&quot;,\r\n      propertyNamePrefix = &quot;aws.&quot;\r\n      renewal = Renewal.RENEW)\r\n    public class Config {\r\n    \r\n    }\r\n\r\nUsage example:\r\n\r\n    public class S3Client {\r\n    \r\n      // inject the actual values\r\n      @Value(&quot;${aws.access_key}&quot;)\r\n      private String awsAccessKey;\r\n      @Value(&quot;${aws.secret_key}&quot;)\r\n      private String awsSecretKey;\r\n    \r\n      public InputStream getFileFromS3(String filenname) {\r\n        // \r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://learn.hashicorp.com/vault/#getting-started\r\n  [2]: https://cloud.spring.io/spring-cloud-vault/single/spring-cloud-vault.html\r\n  [3]: https://projects.spring.io/spring-vault","title":"Spring Boot how to hide passwords in properties file","body":"<p>To the already proposed solutions I can add an option to configure an external <code>Secrets Manager</code> such as <a href=\"https://learn.hashicorp.com/vault/#getting-started\" rel=\"noreferrer\">Vault</a>.</p>\n\n<ol>\n<li>Configure Vault Server <code>vault server -dev</code> (<strong>Only for DEV and not for PROD</strong>)</li>\n<li>Write secrets <code>vault write secret/somename key1=value1 key2=value2</code></li>\n<li>Verify secrets <code>vault read secret/somename</code></li>\n</ol>\n\n<p>Add the following dependency to your SpringBoot project:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-vault-config&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Add Vault config properties:</p>\n\n<pre><code>spring.cloud.vault.host=localhost\nspring.cloud.vault.port=8200\nspring.cloud.vault.scheme=http\nspring.cloud.vault.authentication=token\nspring.cloud.vault.token=${VAULT_TOKEN}\n</code></pre>\n\n<p>Pass <code>VAULT_TOKEN</code> as an environment variable. </p>\n\n<p>Refer to the documentation <a href=\"https://cloud.spring.io/spring-cloud-vault/single/spring-cloud-vault.html\" rel=\"noreferrer\">here.</a></p>\n\n<p>There is a <a href=\"https://projects.spring.io/spring-vault\" rel=\"noreferrer\">Spring Vault</a> project which is also can be used for accessing, storing and revoking secrets.</p>\n\n<p>Dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.vault&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-vault-core&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Configuring Vault Template:</p>\n\n<pre><code>@Configuration\nclass VaultConfiguration extends AbstractVaultConfiguration {\n\n  @Override\n  public VaultEndpoint vaultEndpoint() {\n    return new VaultEndpoint();\n  }\n\n  @Override\n  public ClientAuthentication clientAuthentication() {\n    return new TokenAuthentication(\"\");\n  }\n}\n</code></pre>\n\n<p>Inject and use VaultTemplate:</p>\n\n<pre><code>public class Example {\n\n  @Autowired\n  private VaultOperations operations;\n\n  public void writeSecrets(String userId, String password) {\n      Map&lt;String, String&gt; data = new HashMap&lt;String, String&gt;();\n      data.put(\"password\", password);\n      operations.write(userId, data);\n  }\n\n  public Person readSecrets(String userId) {\n      VaultResponseSupport&lt;Person&gt; response = operations.read(userId, Person.class);\n      return response.getBody();\n  }\n}\n</code></pre>\n\n<p>Use Vault <code>PropertySource</code>:</p>\n\n<pre><code>@VaultPropertySource(value = \"aws/creds/s3\",\n  propertyNamePrefix = \"aws.\"\n  renewal = Renewal.RENEW)\npublic class Config {\n\n}\n</code></pre>\n\n<p>Usage example:</p>\n\n<pre><code>public class S3Client {\n\n  // inject the actual values\n  @Value(\"${aws.access_key}\")\n  private String awsAccessKey;\n  @Value(\"${aws.secret_key}\")\n  private String awsSecretKey;\n\n  public InputStream getFileFromS3(String filenname) {\n    // \n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4440595,"reputation":3869,"user_id":3615207,"accept_rate":73,"display_name":"stinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573738671,"creation_date":1573738671,"answer_id":58858096,"question_id":37404703,"body_markdown":"In case you are using quite popular in Spring Boot environment Kubernetes (K8S) or OpenShift, there&#39;s a possibility to store and retrieve application properties on runtime. This technique called *secrets*. In your configuration yaml file for Kubernetes or OpenShift you declare variable and placeholder for it, and on K8S\\OpenShift side declare actual value which corresponds to this placeholder.\r\nFor implementation details, see:\r\nK8S: https://kubernetes.io/docs/concepts/configuration/secret/\r\nOpenShift: https://docs.openshift.com/container-platform/3.11/dev_guide/secrets.html","title":"Spring Boot how to hide passwords in properties file","body":"<p>In case you are using quite popular in Spring Boot environment Kubernetes (K8S) or OpenShift, there's a possibility to store and retrieve application properties on runtime. This technique called <em>secrets</em>. In your configuration yaml file for Kubernetes or OpenShift you declare variable and placeholder for it, and on K8S\\OpenShift side declare actual value which corresponds to this placeholder.\nFor implementation details, see:\nK8S: <a href=\"https://kubernetes.io/docs/concepts/configuration/secret/\" rel=\"nofollow noreferrer\">https://kubernetes.io/docs/concepts/configuration/secret/</a>\nOpenShift: <a href=\"https://docs.openshift.com/container-platform/3.11/dev_guide/secrets.html\" rel=\"nofollow noreferrer\">https://docs.openshift.com/container-platform/3.11/dev_guide/secrets.html</a></p>\n"},{"tags":[],"owner":{"account_id":4160602,"reputation":151,"user_id":3725221,"display_name":"Iakov Senatov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680077298,"creation_date":1594271694,"answer_id":62807856,"question_id":37404703,"body_markdown":"My solution for hiding a DB-Password in Spring Boot apps [application.properties][1] is implemented [here][2]. \r\n\r\nScenario: some fake password is read from [application.properties][1] on start and saved in global Spring object ConfigurableEnvironment. In runtime it will be programmatically replaced with a real DB password. \r\nThe real password will be read from another config file saved in a safe, project-external place. \r\n\r\nDon&#39;t forget: call the the [Bean][2] from [main class][3] with: \r\n\r\n    \r\n\t@Autowired\r\n\tprivate SchedUtilility utl;\r\n\r\n \r\n\r\n\r\n  [1]: https://github.com/senatov/spring-boot-primerfaces-sheduler/blob/master/src/main/resources/application.properties\r\n  [2]: https://github.com/senatov/spring-boot-primerfaces-sheduler/blob/master/src/main/java/de/senatov/reservatio/utl/SchedUtilility.java\r\n  [3]: https://github.com/senatov/spring-boot-primerfaces-sheduler/blob/master/src/main/java/de/senatov/reservatio/SpringBootAppMain.java","title":"Spring Boot how to hide passwords in properties file","body":"<p>My solution for hiding a DB-Password in Spring Boot apps <a href=\"https://github.com/senatov/spring-boot-primerfaces-sheduler/blob/master/src/main/resources/application.properties\" rel=\"nofollow noreferrer\">application.properties</a> is implemented <a href=\"https://github.com/senatov/spring-boot-primerfaces-sheduler/blob/master/src/main/java/de/senatov/reservatio/utl/SchedUtilility.java\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Scenario: some fake password is read from <a href=\"https://github.com/senatov/spring-boot-primerfaces-sheduler/blob/master/src/main/resources/application.properties\" rel=\"nofollow noreferrer\">application.properties</a> on start and saved in global Spring object ConfigurableEnvironment. In runtime it will be programmatically replaced with a real DB password.\nThe real password will be read from another config file saved in a safe, project-external place.</p>\n<p>Don't forget: call the the <a href=\"https://github.com/senatov/spring-boot-primerfaces-sheduler/blob/master/src/main/java/de/senatov/reservatio/utl/SchedUtilility.java\" rel=\"nofollow noreferrer\">Bean</a> from <a href=\"https://github.com/senatov/spring-boot-primerfaces-sheduler/blob/master/src/main/java/de/senatov/reservatio/SpringBootAppMain.java\" rel=\"nofollow noreferrer\">main class</a> with:</p>\n<pre><code>@Autowired\nprivate SchedUtilility utl;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1396150,"reputation":921,"user_id":1325855,"display_name":"Qkyrie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596708969,"creation_date":1596708969,"answer_id":63281397,"question_id":37404703,"body_markdown":"In additional to the popular K8s, jasypt or vault solutions, there&#39;s also [Karmahostage][1]. It enables you to do:\r\n\r\n    @EncryptedValue(&quot;${application.secret}&quot;)\r\n    private String application;\r\n\r\nIt works the same way jasypt does, but encryption happens on a dedicated saas solution, with a more fine-grained ACL model attached to it.\r\n\r\n\r\n  [1]: https://karmahostage.com/spring-boot-encryption?ref=stackoverflow","title":"Spring Boot how to hide passwords in properties file","body":"<p>In additional to the popular K8s, jasypt or vault solutions, there's also <a href=\"https://karmahostage.com/spring-boot-encryption?ref=stackoverflow\" rel=\"nofollow noreferrer\">Karmahostage</a>. It enables you to do:</p>\n<pre><code>@EncryptedValue(&quot;${application.secret}&quot;)\nprivate String application;\n</code></pre>\n<p>It works the same way jasypt does, but encryption happens on a dedicated saas solution, with a more fine-grained ACL model attached to it.</p>\n"}],"owner":{"account_id":1414701,"reputation":19249,"user_id":1340582,"accept_rate":53,"display_name":"user1340582"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201809,"favorite_count":0,"down_vote_count":0,"up_vote_count":122,"accepted_answer_id":37424296,"answer_count":7,"score":122,"last_activity_date":1680119102,"creation_date":1464065852,"question_id":37404703,"body_markdown":"Spring Boot uses the properties file, and at least by default, the passwords are in plain text. Is it possible to somehow hide/decrypt these?","title":"Spring Boot how to hide passwords in properties file","body":"<p>Spring Boot uses the properties file, and at least by default, the passwords are in plain text. Is it possible to somehow hide/decrypt these?</p>\n"},{"tags":["java","utf-8","properties","java-6"],"comments":[{"owner":{"account_id":1886487,"reputation":396547,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"score":3,"creation_date":1407747169,"post_id":25239155,"comment_id":39318692,"body_markdown":"possible duplicate of [Byte order mark screws up file reading in Java](http://stackoverflow.com/questions/1835430/byte-order-mark-screws-up-file-reading-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1835430/byte-order-mark-screws-up-file-reading-in-java\">Byte order mark screws up file reading in Java</a>"},{"owner":{"account_id":1214757,"reputation":191,"user_id":1182583,"accept_rate":0,"display_name":"user1182583"},"score":0,"creation_date":1407747747,"post_id":25239155,"comment_id":39319029,"body_markdown":"I solved it just add new line in the beginning. Who knows cleaner solution","body":"I solved it just add new line in the beginning. Who knows cleaner solution"}],"owner":{"account_id":1214757,"reputation":191,"user_id":1182583,"accept_rate":0,"display_name":"user1182583"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":927,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1680118952,"creation_date":1407746749,"question_id":25239155,"body_markdown":"I edit in notepad cfg.prop file\r\n\r\ncfg.prop:\r\n\r\nkey=val\r\n    \r\n    my code:\r\n        Properties prop = new Properties();\r\n        prop.load(new InputStreamReader(new FileInputStream(&quot;etc/agent.prop&quot;), &quot;UTF-8&quot;));\r\n        System.out.println(prop);\r\n\r\nthen I see in stdout {?key=val}, becose notepad save UTF-8 file with BOM character (efbbbf)\r\nhow to ignore this character?\r\nI use java6u21\r\n","title":"java utils.Properties how to ignore BOM char","body":"<p>I edit in notepad cfg.prop file</p>\n\n<p>cfg.prop:</p>\n\n<p>key=val</p>\n\n<pre><code>my code:\n    Properties prop = new Properties();\n    prop.load(new InputStreamReader(new FileInputStream(\"etc/agent.prop\"), \"UTF-8\"));\n    System.out.println(prop);\n</code></pre>\n\n<p>then I see in stdout {?key=val}, becose notepad save UTF-8 file with BOM character (efbbbf)\nhow to ignore this character?\nI use java6u21</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1680115954,"post_id":75879036,"comment_id":133844643,"body_markdown":"The error is likely because the call you are making isn&#39;t within the same transactional context. If you wrap the two save calls in a single transaction, what is returned from the first save will be managed (ie not detached) and so can be used in the second save call - and both will be inserted or rolled back together.  Otherwise, if you must use two transactions, this is an issue with the save logic - it will call em.persist on your new entity when what you might want here is em.merge called instead. Or you can remove the cascade persist/merge options on the setting-&gt;user relationship.","body":"The error is likely because the call you are making isn&#39;t within the same transactional context. If you wrap the two save calls in a single transaction, what is returned from the first save will be managed (ie not detached) and so can be used in the second save call - and both will be inserted or rolled back together.  Otherwise, if you must use two transactions, this is an issue with the save logic - it will call em.persist on your new entity when what you might want here is em.merge called instead. Or you can remove the cascade persist/merge options on the setting-&gt;user relationship."}],"answers":[{"tags":[],"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680102599,"creation_date":1680102599,"answer_id":75879075,"question_id":75879036,"body_markdown":"You aren&#39;t really creating a relationship between the user and the setting.\r\n\r\nYou need to do something like this:\r\n\r\n    Setting setting = new Setting();\r\n    User user = new User();\r\n    setting.setUser(user);\r\n    settingRepo.save(setting);\r\n    \r\nThis should save both Setting and User and create a relationship between them.\r\n\r\n ","title":"In Java Spring, save an entity with his related 1 to 1 association","body":"<p>You aren't really creating a relationship between the user and the setting.</p>\n<p>You need to do something like this:</p>\n<pre><code>Setting setting = new Setting();\nUser user = new User();\nsetting.setUser(user);\nsettingRepo.save(setting);\n</code></pre>\n<p>This should save both Setting and User and create a relationship between them.</p>\n"},{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680118117,"creation_date":1680118117,"answer_id":75881420,"question_id":75879036,"body_markdown":"Expanding on my comment:\r\n\r\nThe error occurs because the first save for a new User is being handled in a separate transactional context. When that transaction is committed, which occurs before it returns, all entities become detached - it just means they exist in the database but are not tracked by JPA, so their state is really unknown after. There are quite a few rules on managed/detached entities in JPA so that providers can be consistent on all the data they are required to manage and the state is handled consistently between them. \r\n\r\nSpecifically here, you&#39;ve got a cascade persist operation set on the Setting-&gt;User mapping. This forces JPA, when persisting a setting to also call persist on the referenced User. Persist is similar to requesting an insert, and since it already exists, it is expected to throw an exception. This can be confusing since persist calls on already managed entities are no-ops and just ignored. \r\n\r\nSo when creating a new entity, the best practice is to read in existing references (your user instance) using the same EntityManager context that you are going to use to persist the new entity, ensuring that there will not be any references to detached entities. The cascade settings on the mappings then do not matter, and there is no (or just less) risk of accidentally overwriting an existing User instance with stale data, or re-inserting a deleted row. \r\n\r\nIn this case, that would just mean wrapping both save calls in the same transaction. \r\n\r\nThat isn&#39;t always possible, and you may not want to force the second save operation to have to read in the User entity just so JPA can re-load or manage a user Instance. Some badly explained demos just have things work by automatically setting the cascade merge operation, and then merge in the Setting instead of calling persist on it - this would take your new Setting instance and have JPA detect if needs an insert or update statement. This then will cascade that merge operation to the User - usually reading in the User instance so that it can also tell if it should be an insert or update operation. Draw back, in addition to JPA having read detached entities from the database to determine what changed, is that if there are changes to the user from concurrent operations, or you just have a very stale or incomplete User instance associated, JPA will take the instance you&#39;ve given it and use those property values to overwrite what is currently in the database. Don&#39;t use cascade persist/merge lightly. If that is the behavior you want, Spring&#39;s save implementation isn&#39;t correct anyway; it does its own determination to see if the entity passed in is new, and will call persist - which JPA will cascade to the User instance if the mapping is set to. If Spring doesn&#39;t detect it is new, it&#39;ll call em.merge - which is what you might really want, and this Spring logic confuses new users too as it is (IMO) poorly explained. \r\n\r\nOptions here might either to be:\r\n\r\n 1. Wrap both calls in the same transaction\r\n 2. Remove the cascade persist setting on the Setting-&gt;User mapping\r\n 3. Use entityManager.merge(setting) instead of Spring save logic. \r\n\r\n#3 might require writing your own repository save method. It might be worth doing except that Option 1 and 2 will be better performance wise anyway if you didn&#39;t mean to have this second transaction pick up changes to the User since it was last synchronized to the DB.\r\n\r\n","title":"In Java Spring, save an entity with his related 1 to 1 association","body":"<p>Expanding on my comment:</p>\n<p>The error occurs because the first save for a new User is being handled in a separate transactional context. When that transaction is committed, which occurs before it returns, all entities become detached - it just means they exist in the database but are not tracked by JPA, so their state is really unknown after. There are quite a few rules on managed/detached entities in JPA so that providers can be consistent on all the data they are required to manage and the state is handled consistently between them.</p>\n<p>Specifically here, you've got a cascade persist operation set on the Setting-&gt;User mapping. This forces JPA, when persisting a setting to also call persist on the referenced User. Persist is similar to requesting an insert, and since it already exists, it is expected to throw an exception. This can be confusing since persist calls on already managed entities are no-ops and just ignored.</p>\n<p>So when creating a new entity, the best practice is to read in existing references (your user instance) using the same EntityManager context that you are going to use to persist the new entity, ensuring that there will not be any references to detached entities. The cascade settings on the mappings then do not matter, and there is no (or just less) risk of accidentally overwriting an existing User instance with stale data, or re-inserting a deleted row.</p>\n<p>In this case, that would just mean wrapping both save calls in the same transaction.</p>\n<p>That isn't always possible, and you may not want to force the second save operation to have to read in the User entity just so JPA can re-load or manage a user Instance. Some badly explained demos just have things work by automatically setting the cascade merge operation, and then merge in the Setting instead of calling persist on it - this would take your new Setting instance and have JPA detect if needs an insert or update statement. This then will cascade that merge operation to the User - usually reading in the User instance so that it can also tell if it should be an insert or update operation. Draw back, in addition to JPA having read detached entities from the database to determine what changed, is that if there are changes to the user from concurrent operations, or you just have a very stale or incomplete User instance associated, JPA will take the instance you've given it and use those property values to overwrite what is currently in the database. Don't use cascade persist/merge lightly. If that is the behavior you want, Spring's save implementation isn't correct anyway; it does its own determination to see if the entity passed in is new, and will call persist - which JPA will cascade to the User instance if the mapping is set to. If Spring doesn't detect it is new, it'll call em.merge - which is what you might really want, and this Spring logic confuses new users too as it is (IMO) poorly explained.</p>\n<p>Options here might either to be:</p>\n<ol>\n<li>Wrap both calls in the same transaction</li>\n<li>Remove the cascade persist setting on the Setting-&gt;User mapping</li>\n<li>Use entityManager.merge(setting) instead of Spring save logic.</li>\n</ol>\n<p>#3 might require writing your own repository save method. It might be worth doing except that Option 1 and 2 will be better performance wise anyway if you didn't mean to have this second transaction pick up changes to the User since it was last synchronized to the DB.</p>\n"}],"owner":{"account_id":4724979,"reputation":750,"user_id":3821929,"accept_rate":28,"display_name":"Vicens Fayos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680118117,"creation_date":1680102350,"question_id":75879036,"body_markdown":"I am learning Java Spring and JPA Persistance.\r\n\r\nI try to save an entity that has another one as 1 to 1 relation. My plan is: First I save the `user` and, once it is created, I add it to `setting`. \r\n\r\n```java\r\nvar enduser = endUserRepo.save(new User(&quot;User1&quot;));\r\nsettingRepo.save(new Setting(enduser));\r\n```\r\n\r\nBUT I get the following error: ```org.hibernate.PersistentObjectException: detached entity passed to persist: com.oman.user.User```\r\n\r\n`user` is saved in DB properly, but not the `setting`: \r\n\r\n\r\nFor context, the relation defined between entities: \r\n\r\n```java\r\n@Entity\r\npublic class Setting {\r\n\r\n    // more code \r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    @NonNull\r\n    private User user;\r\n```\r\n\r\n```java\r\n@Entity\r\npublic class User {\r\n\r\n   // more code\r\n\r\n    @OneToOne(mappedBy = &quot;user&quot;)\r\n    private Setting setting;\r\n}\r\n```\r\n\r\nWhat is wrong? I can provide more code if needed but I think it is a beginner error and anyone with experience will point in the right direction. ","title":"In Java Spring, save an entity with his related 1 to 1 association","body":"<p>I am learning Java Spring and JPA Persistance.</p>\n<p>I try to save an entity that has another one as 1 to 1 relation. My plan is: First I save the <code>user</code> and, once it is created, I add it to <code>setting</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var enduser = endUserRepo.save(new User(&quot;User1&quot;));\nsettingRepo.save(new Setting(enduser));\n</code></pre>\n<p>BUT I get the following error: <code>org.hibernate.PersistentObjectException: detached entity passed to persist: com.oman.user.User</code></p>\n<p><code>user</code> is saved in DB properly, but not the <code>setting</code>:</p>\n<p>For context, the relation defined between entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Setting {\n\n    // more code \n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\n    @NonNull\n    private User user;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class User {\n\n   // more code\n\n    @OneToOne(mappedBy = &quot;user&quot;)\n    private Setting setting;\n}\n</code></pre>\n<p>What is wrong? I can provide more code if needed but I think it is a beginner error and anyone with experience will point in the right direction.</p>\n"},{"tags":["java","azure","spring-jms","servicebus"],"owner":{"account_id":18106042,"reputation":1,"user_id":13163373,"display_name":"LaserEule"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680118004,"creation_date":1680080699,"question_id":75875176,"body_markdown":"I have a Spring Boot app, which reads messages from a session enabled queue in Azure Service Bus. Since the @JmsListener annotation does not support session enabled queues, I have a bean which starts a ServiceBusProcessorClient like shown below: \r\n\r\n```\r\nthis.processorClient = serviceBusClientBuilder.sessionProcessor()\r\n            .queueName(&quot;session-1&quot;)\r\n            .maxConcurrentSessions(1)\r\n            .processMessage(this::processMessage)\r\n            .processError(this::processError)\r\n            .buildProcessorClient();\r\n\r\n        processorClient.start();\r\n```\r\n\r\nIn the Azure portal I see that there are a lot of requests *without* actual messages being transmitted, see the screenshot below: \r\n[Requests in the Azure portal](https://i.stack.imgur.com/Jp0dL.png)\r\n\r\n\r\nThe issue is  discussed [here](https://github.com/Azure/azure-sdk-for-java/issues/30192) and the solution is setting the `spring.jms.listener.receive-timeout` parameter. This parameter only works in conjunction with the @JmsListener annotation (which can not be used on session enabled queues). \r\n\r\nI have been looking for a similar parameter within the Service Bus SDK, but so far nothing is working.  I found the AmqpRetryOptions which you can pass to the ServiceBusClientBuilder but they don&#39;t seem to have an effect. Another thing I tried is setting a couple of the configuration parameters [here](https://learn.microsoft.com/en-us/java/api/com.azure.core.util.configuration?view=azure-java-stable), to no effect. \r\n\r\nExpected behaviour: Reducing the number of requests sent to the Service Bus, when no messages are being sent. ","title":"Azure Service Bus high number of requests","body":"<p>I have a Spring Boot app, which reads messages from a session enabled queue in Azure Service Bus. Since the @JmsListener annotation does not support session enabled queues, I have a bean which starts a ServiceBusProcessorClient like shown below:</p>\n<pre><code>this.processorClient = serviceBusClientBuilder.sessionProcessor()\n            .queueName(&quot;session-1&quot;)\n            .maxConcurrentSessions(1)\n            .processMessage(this::processMessage)\n            .processError(this::processError)\n            .buildProcessorClient();\n\n        processorClient.start();\n</code></pre>\n<p>In the Azure portal I see that there are a lot of requests <em>without</em> actual messages being transmitted, see the screenshot below:\n<a href=\"https://i.stack.imgur.com/Jp0dL.png\" rel=\"nofollow noreferrer\">Requests in the Azure portal</a></p>\n<p>The issue is  discussed <a href=\"https://github.com/Azure/azure-sdk-for-java/issues/30192\" rel=\"nofollow noreferrer\">here</a> and the solution is setting the <code>spring.jms.listener.receive-timeout</code> parameter. This parameter only works in conjunction with the @JmsListener annotation (which can not be used on session enabled queues).</p>\n<p>I have been looking for a similar parameter within the Service Bus SDK, but so far nothing is working.  I found the AmqpRetryOptions which you can pass to the ServiceBusClientBuilder but they don't seem to have an effect. Another thing I tried is setting a couple of the configuration parameters <a href=\"https://learn.microsoft.com/en-us/java/api/com.azure.core.util.configuration?view=azure-java-stable\" rel=\"nofollow noreferrer\">here</a>, to no effect.</p>\n<p>Expected behaviour: Reducing the number of requests sent to the Service Bus, when no messages are being sent.</p>\n"},{"tags":["java","azure","maven","azure-blob-storage"],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1679954726,"creation_date":1679954726,"answer_id":75860761,"question_id":75833896,"body_markdown":"With your first code snippet you are actually generating a valid SAS:\r\n\r\n```json\r\n{\r\n    &quot;uploadCredentialUrl&quot;: &quot;sv=2021-10-04&amp;spr=https%2Chttp&amp;se=2023-03-24T13%3A36%3A38Z&amp;sr=b&amp;sp=w&amp;sig=JUXXe1Qi13VWipgFWzx70mTOsVqadQCjmIF%2BxRl14cs%3D&quot;,\r\n    &quot;httpsHeaders&quot;: {\r\n        &quot;Content-Type&quot;: &quot;image/jpeg&quot;\r\n    },\r\n    &quot;mediaId&quot;: &quot;0ae4a0c5-167d-4a32-9752-0ad0d2b67e66.JPEG&quot;\r\n}\r\n```\r\n\r\nYou mentioned that `uploadCredentialUrl` doesn&#39;t seem to be a valid URL and you are right because in fact you are receiving a SAS token.\r\n\r\nA SAS token is composed by a series of [query parameters](https://learn.microsoft.com/en-us/rest/api/storageservices/create-user-delegation-sas#construct-a-user-delegation-sas) that should be appended to the URL of the resource for which it should be applied.\r\n\r\nYou are creating a SAS for uploading a specific blob (you can create the SAS for different [resources](https://learn.microsoft.com/en-us/rest/api/storageservices/delegate-access-with-shared-access-signature)); it means that you need to provide the URL for the blob resource you want to create and append to that obtained SAS token.\r\n\r\nYour `curl` command looks fine indeed, just be sure of using the right SAS token:\r\n\r\n```\r\ncurl -X PUT -T ~/Downloads/gfx100s_sample_04_thum-1.jpg -H &quot;x-ms-date: $(date -u)&quot; &quot;https://&lt;storage account name&gt;.blob.core.windows.net/&lt;container name&gt;/myimage.jpg?&lt;received SAS token&gt;&quot;\r\n```\r\n\r\nPlease, consider review the [Put Blob REST API documentation](https://learn.microsoft.com/en-us/rest/api/storageservices/put-blob?tabs=shared-access-signatures) for detailed information about the headers you can specify.\r\n\r\n[This related page](https://techcommunity.microsoft.com/t5/azure-paas-blog/performing-simple-blob-storage-rest-api-operations-using-curl/ba-p/3302552) offers guidance as well.\r\n\r\nFinally, you are trying generating the signature yourself, and the process is well [documented](https://learn.microsoft.com/en-us/rest/api/storageservices/create-user-delegation-sas#specify-the-signature) but it is common to receive errors related to signature mismatch: if possible, prefer the Azure SDK for the specific programming language instead.","title":"Generating azure storage SAS token for client in java","body":"<p>With your first code snippet you are actually generating a valid SAS:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;uploadCredentialUrl&quot;: &quot;sv=2021-10-04&amp;spr=https%2Chttp&amp;se=2023-03-24T13%3A36%3A38Z&amp;sr=b&amp;sp=w&amp;sig=JUXXe1Qi13VWipgFWzx70mTOsVqadQCjmIF%2BxRl14cs%3D&quot;,\n    &quot;httpsHeaders&quot;: {\n        &quot;Content-Type&quot;: &quot;image/jpeg&quot;\n    },\n    &quot;mediaId&quot;: &quot;0ae4a0c5-167d-4a32-9752-0ad0d2b67e66.JPEG&quot;\n}\n</code></pre>\n<p>You mentioned that <code>uploadCredentialUrl</code> doesn't seem to be a valid URL and you are right because in fact you are receiving a SAS token.</p>\n<p>A SAS token is composed by a series of <a href=\"https://learn.microsoft.com/en-us/rest/api/storageservices/create-user-delegation-sas#construct-a-user-delegation-sas\" rel=\"noreferrer\">query parameters</a> that should be appended to the URL of the resource for which it should be applied.</p>\n<p>You are creating a SAS for uploading a specific blob (you can create the SAS for different <a href=\"https://learn.microsoft.com/en-us/rest/api/storageservices/delegate-access-with-shared-access-signature\" rel=\"noreferrer\">resources</a>); it means that you need to provide the URL for the blob resource you want to create and append to that obtained SAS token.</p>\n<p>Your <code>curl</code> command looks fine indeed, just be sure of using the right SAS token:</p>\n<pre><code>curl -X PUT -T ~/Downloads/gfx100s_sample_04_thum-1.jpg -H &quot;x-ms-date: $(date -u)&quot; &quot;https://&lt;storage account name&gt;.blob.core.windows.net/&lt;container name&gt;/myimage.jpg?&lt;received SAS token&gt;&quot;\n</code></pre>\n<p>Please, consider review the <a href=\"https://learn.microsoft.com/en-us/rest/api/storageservices/put-blob?tabs=shared-access-signatures\" rel=\"noreferrer\">Put Blob REST API documentation</a> for detailed information about the headers you can specify.</p>\n<p><a href=\"https://techcommunity.microsoft.com/t5/azure-paas-blog/performing-simple-blob-storage-rest-api-operations-using-curl/ba-p/3302552\" rel=\"noreferrer\">This related page</a> offers guidance as well.</p>\n<p>Finally, you are trying generating the signature yourself, and the process is well <a href=\"https://learn.microsoft.com/en-us/rest/api/storageservices/create-user-delegation-sas#specify-the-signature\" rel=\"noreferrer\">documented</a> but it is common to receive errors related to signature mismatch: if possible, prefer the Azure SDK for the specific programming language instead.</p>\n"},{"tags":[],"owner":{"account_id":25426166,"reputation":337,"user_id":19231322,"display_name":"Arnob"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680117454,"creation_date":1680117454,"answer_id":75881322,"question_id":75833896,"body_markdown":"@jccampanero helped quite a lot. So thanks!\r\n\r\nHere is the actual piece of code that worked:\r\n\r\n```\r\n    public String generatePresignedUrl {\r\n        BlobServiceClient blobServiceClient = new BlobServiceClientBuilder().connectionString(STORAGE_ACCOUNT_CONNECTION_STRING).buildClient();\r\n        BlobContainerClient containerClient = blobServiceClient.getBlobContainerClient(CONTAINER_NAME);\r\n\r\n        OffsetDateTime expiryTime = OffsetDateTime.now().plusMinutes(30);\r\n        BlobClient blobClient = blobServiceClient.getBlobContainerClient(CONTAINER_NAME)\r\n                .getBlobClient(request.getFileName());\r\n        BlobSasPermission permission = new BlobSasPermission().setReadPermission(true).setWritePermission(true);\r\n        BlobServiceSasSignatureValues sasValues = new BlobServiceSasSignatureValues(expiryTime, permission);\r\n        String sasToken = blobClient.generateSas(sasValues);\r\n\r\n        String blobName = containerClient.getBlobClient(request.getFileName()).getBlobName();\r\n        log.info(sasToken);\r\n        String url = String.format(&quot;https://%s.blob.core.windows.net/%s/%s?%s&quot;, STORAGE_ACCOUNT_NAME, CONTAINER_NAME, request.getFileName(), sasToken);\r\n        return url;\r\n    }\r\n```\r\n\r\nand the curl command:\r\n\r\n```\r\ncurl -X PUT -T &lt;file-location&gt; -H &quot;x-ms-blob-type: BlockBlob&quot; &quot;&lt;resource-url with SAS token&gt;&quot;\r\n```\r\n\r\nNotice the `x-ms-blob-type`.\r\n\r\nResources that helped:\r\n\r\n 1. [String to sign][1] [if you want to do create the token manually]\r\n 2. [Header][2]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/rest/api/storageservices/create-user-delegation-sas#version-2020-12-06-and-later\r\n  [2]: https://learn.microsoft.com/en-us/rest/api/storageservices/put-blob?tabs=shared-access-signatures#request-headers-all-blob-types","title":"Generating azure storage SAS token for client in java","body":"<p>@jccampanero helped quite a lot. So thanks!</p>\n<p>Here is the actual piece of code that worked:</p>\n<pre><code>    public String generatePresignedUrl {\n        BlobServiceClient blobServiceClient = new BlobServiceClientBuilder().connectionString(STORAGE_ACCOUNT_CONNECTION_STRING).buildClient();\n        BlobContainerClient containerClient = blobServiceClient.getBlobContainerClient(CONTAINER_NAME);\n\n        OffsetDateTime expiryTime = OffsetDateTime.now().plusMinutes(30);\n        BlobClient blobClient = blobServiceClient.getBlobContainerClient(CONTAINER_NAME)\n                .getBlobClient(request.getFileName());\n        BlobSasPermission permission = new BlobSasPermission().setReadPermission(true).setWritePermission(true);\n        BlobServiceSasSignatureValues sasValues = new BlobServiceSasSignatureValues(expiryTime, permission);\n        String sasToken = blobClient.generateSas(sasValues);\n\n        String blobName = containerClient.getBlobClient(request.getFileName()).getBlobName();\n        log.info(sasToken);\n        String url = String.format(&quot;https://%s.blob.core.windows.net/%s/%s?%s&quot;, STORAGE_ACCOUNT_NAME, CONTAINER_NAME, request.getFileName(), sasToken);\n        return url;\n    }\n</code></pre>\n<p>and the curl command:</p>\n<pre><code>curl -X PUT -T &lt;file-location&gt; -H &quot;x-ms-blob-type: BlockBlob&quot; &quot;&lt;resource-url with SAS token&gt;&quot;\n</code></pre>\n<p>Notice the <code>x-ms-blob-type</code>.</p>\n<p>Resources that helped:</p>\n<ol>\n<li><a href=\"https://learn.microsoft.com/en-us/rest/api/storageservices/create-user-delegation-sas#version-2020-12-06-and-later\" rel=\"nofollow noreferrer\">String to sign</a> [if you want to do create the token manually]</li>\n<li><a href=\"https://learn.microsoft.com/en-us/rest/api/storageservices/put-blob?tabs=shared-access-signatures#request-headers-all-blob-types\" rel=\"nofollow noreferrer\">Header</a></li>\n</ol>\n"}],"owner":{"account_id":25426166,"reputation":337,"user_id":19231322,"display_name":"Arnob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":588,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":75860761,"answer_count":2,"score":8,"last_activity_date":1680117454,"creation_date":1679662341,"question_id":75833896,"body_markdown":"For uploading media my client will send a request to the server:\r\n\r\n```\r\nmessage GetMediaUploadCredRequest {\r\n  media.MediaType.Enum media_type = 1;\r\n  media.Extension.Enum extension = 2;\r\n  string file_name = 3;\r\n  bool is_private = 4;\r\n  string uploaded_by = 5;\r\n}\r\n```\r\n\r\nAnd the server will generate a SAS token (like `presigned_url` from AWS) and `http_header` will send back to the client.\r\n\r\n```\r\nmessage GetMediaUploadCredResponse {\r\n  string upload_credential_url = 1;\r\n  map&lt;string, string&gt; https_headers = 2;\r\n  string media_id = 3;\r\n}\r\n```\r\n\r\nclient will then make a PUT request to the URL with the `https_headers` and the upload process will be complete.\r\n\r\n\r\nHere is the implementation:\r\n\r\n```\r\npublic class StorexServiceImpl extends StorexServiceGrpc.StorexServiceImplBase {\r\n    private static final Logger log = LoggerFactory.getLogger(StorexServiceImpl.class);\r\n\r\n    private static final String STORAGE_ACCOUNT_CONNECTION_STRING = &quot;&lt;connection-string&gt;&quot;;\r\n    \r\n    private static final String CONTAINER_NAME = &quot;&lt;container-name&gt;&quot;;\r\n\r\n\r\n\r\n    @Override\r\n    public void getMediaUploadCred(GetMediaUploadCredRequest request, StreamObserver&lt;GetMediaUploadCredResponse&gt; response) {\r\n        try{\r\n            MediaType.Enum mediaType = request.getMediaType();\r\n            Extension.Enum extension = request.getExtension();\r\n            \r\n            String fileName = String.format(&quot;%s.%s&quot;, UUID.randomUUID(), extension.toString());\r\n\r\n            BlobServiceClient blobServiceClient = new BlobServiceClientBuilder().connectionString(STORAGE_ACCOUNT_CONNECTION_STRING).buildClient();\r\n            BlobContainerClient containerClient = blobServiceClient.getBlobContainerClient(CONTAINER_NAME);\r\n            BlobClient blobClient = containerClient.getBlobClient(fileName);\r\n            BlobHttpHeaders headers = new BlobHttpHeaders().setContentEncoding(&quot;gzip&quot;);\r\n\r\n            BlobSasPermission permission = new BlobSasPermission().setWritePermission(true); // Set the permission to allow uploading\r\n            OffsetDateTime expiryTime = OffsetDateTime.now().plusHours(1); // Set the expiration time to 1 hour from now\r\n\r\n            BlobServiceSasSignatureValues sasValues = new BlobServiceSasSignatureValues(expiryTime, permission)\r\n                    .setProtocol(SasProtocol.HTTPS_HTTP);\r\n\r\n            String sasUrl = blobClient.generateSas(sasValues);\r\n\r\n            Map&lt;String, String&gt; httpHeaders = new TreeMap&lt;&gt;();\r\n            httpHeaders.put(&quot;Content-Type&quot;, getContentType(mediaType, extension));\r\n            if(!request.getIsPrivate()) {\r\n                httpHeaders.put(&quot;x-amz-acl&quot;, &quot;public-read&quot;);\r\n            }\r\n\r\n            String blobId = blobClient.getBlobName(); // get the ID of the blob\r\n\r\n            GetMediaUploadCredResponse res = GetMediaUploadCredResponse.newBuilder()\r\n                    .setMediaId(blobId) // set the blob ID in the response\r\n                    .setUploadCredentialUrl(sasUrl)\r\n                    .putAllHttpsHeaders(httpHeaders)\r\n                    .build();\r\n            response.onNext(res);\r\n            response.onCompleted();\r\n        } catch (Exception e){}\r\n        super.getMediaUploadCred(request, response);\r\n\r\n    }\r\n\r\n    private String getContentType(MediaType.Enum mediaType, Extension.Enum extension) {\r\n        if(mediaType == MediaType.Enum.IMAGE) {\r\n            return &quot;image/&quot; + extension.toString().toLowerCase();\r\n        } else if(mediaType == MediaType.Enum.AUDIO) {\r\n            return &quot;audio/mp3&quot;;\r\n        } else if(mediaType == MediaType.Enum.VIDEO) {\r\n            return &quot;audio/mp4&quot;;\r\n        } else if(mediaType == MediaType.Enum.FILE) {\r\n            return &quot;application/&quot; + extension.toString().toLowerCase();\r\n        }\r\n        return &quot;binary/octet-stream&quot;;\r\n    }\r\n}\r\n```\r\n\r\n\r\nBut for result I got this:\r\n\r\n```\r\n{\r\n    &quot;uploadCredentialUrl&quot;: &quot;sv=2021-10-04&amp;spr=https%2Chttp&amp;se=2023-03-24T13%3A36%3A38Z&amp;sr=b&amp;sp=w&amp;sig=JUXXe1Qi13VWipgFWzx70mTOsVqadQCjmIF%2BxRl14cs%3D&quot;,\r\n    &quot;httpsHeaders&quot;: {\r\n        &quot;Content-Type&quot;: &quot;image/jpeg&quot;\r\n    },\r\n    &quot;mediaId&quot;: &quot;0ae4a0c5-167d-4a32-9752-0ad0d2b67e66.JPEG&quot;\r\n}\r\n```\r\n\r\n\r\nThe uploadCredentialUrl seems weird and not like an actual URL at all.\r\n\r\n\r\n\r\n**Update 1:** \r\n\r\nFound this [post][1]. So I changed my code a bit:\r\n\r\n```\r\n    public void getMediaUploadCred(GetMediaUploadCredRequest request, StreamObserver&lt;GetMediaUploadCredResponse&gt; response) {\r\n        try{\r\n            MediaType.Enum mediaType = request.getMediaType();\r\n            Extension.Enum extension = request.getExtension();\r\n\r\n            String fileName = String.format(&quot;%s.%s&quot;, UUID.randomUUID(), extension.toString());\r\n\r\n            \r\n            log.info(&quot;New Implementations Started&quot;);\r\n            SimpleDateFormat fmt = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            fmt.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n            Calendar cal = Calendar.getInstance();\r\n            cal.setTime(new Date());\r\n            cal.add(Calendar.DATE, -2);\r\n            String start = fmt.format(cal.getTime());\r\n            cal.add(Calendar.DATE, 4);\r\n            String expiry =  fmt.format(cal.getTime());\r\n            SecretKeySpec secretKey = new SecretKeySpec(Base64.getDecoder().decode(STORAGE_ACCOUNT_KEY), &quot;HmacSHA256&quot;);\r\n            Mac sha256HMAC = Mac.getInstance(&quot;HmacSHA256&quot;);\r\n            sha256HMAC.init(secretKey);\r\n            String  resource =&quot;sc&quot;;\r\n            String permissions =&quot;rwdlac&quot;;\r\n            String service = &quot;b&quot;;\r\n            String apiVersion=&quot;2019-07-07&quot;;\r\n            String stringToSign = STORAGE_ACCOUNT_NAME + &quot;\\n&quot; +\r\n                    permissions +&quot;\\n&quot; +  // signed permissions\r\n                    service+&quot;\\n&quot; + // signed service\r\n                    resource+&quot;\\n&quot; + // signed resource type\r\n                    start + &quot;\\n&quot; + // signed start\r\n                    expiry + &quot;\\n&quot; + // signed expiry\r\n                    &quot;\\n&quot; +  // signed IP\r\n                    &quot;https\\n&quot;;\r\n            log.info(&quot;string to sign: {}&quot;, stringToSign);\r\n\r\n            String signature=Base64.getEncoder().encodeToString(sha256HMAC.doFinal(stringToSign.getBytes(&quot;UTF-8&quot;)));\r\n            String sasToken = &quot;sv=&quot; + apiVersion +\r\n                    &quot;&amp;ss=&quot; + service+\r\n                    &quot;&amp;srt=&quot; + resource+\r\n                    &quot;&amp;sp=&quot; +permissions+\r\n                    &quot;&amp;se=&quot; + URLEncoder.encode(expiry, &quot;UTF-8&quot;) +\r\n                    &quot;&amp;st=&quot; + URLEncoder.encode(start, &quot;UTF-8&quot;) +\r\n                    &quot;&amp;spr=https&quot; +\r\n                    &quot;&amp;sig=&quot; + URLEncoder.encode(signature,&quot;UTF-8&quot;);\r\n            log.info(&quot;sas token: {}&quot;, sasToken);\r\n            String resourceUrl = &quot;https://&quot; + STORAGE_ACCOUNT_NAME + &quot;.blob.core.windows.net/&quot; + CONTAINER_NAME + &quot;?comp=block&amp;&quot; + sasToken;\r\n            \r\n            \r\n\r\n            Map&lt;String, String&gt; httpHeaders = new TreeMap&lt;&gt;();\r\n            httpHeaders.put(&quot;Content-Type&quot;, getContentType(mediaType, extension));\r\n            if(!request.getIsPrivate()) {\r\n                httpHeaders.put(&quot;x-amz-acl&quot;, &quot;public-read&quot;);\r\n            }\r\n\r\n            GetMediaUploadCredResponse res = GetMediaUploadCredResponse.newBuilder()\r\n                    .setMediaId(&quot;blob id&quot;) // set the blob ID in the response\r\n                    .setUploadCredentialUrl(resourceUrl)\r\n                    .putAllHttpsHeaders(httpHeaders)\r\n                    .build();\r\n            response.onNext(res);\r\n            response.onCompleted();\r\n        } catch (Exception e){}\r\n    }\r\n```\r\n\r\nAnd I got a response:\r\n\r\n```\r\n{\r\n    &quot;uploadCredentialUrl&quot;: &quot;https://&lt;STORAGE_ACCOUNT&gt;.blob.core.windows.net/&lt;CONTAINER_NAME&gt;?comp=block&amp;sv=2019-07-07&amp;ss=b&amp;srt=sc&amp;sp=rwdlac&amp;se=2023-03-28&amp;st=2023-03-24&amp;spr=https&amp;sig=RpdV8prUgjzFApNo6bkuuiRAPHnw1mqww5l42cwVwyY%3D&quot;,\r\n    &quot;httpsHeaders&quot;: {\r\n        &quot;Content-Type&quot;: &quot;image/jpeg&quot;\r\n    },\r\n    &quot;mediaId&quot;: &quot;blob id&quot;\r\n}\r\n```\r\n\r\n\r\nBut when I tried this:\r\n\r\n```\r\ncurl -X PUT -T ~/Downloads/gfx100s_sample_04_thum-1.jpg -H &quot;x-ms-date: $(date -u)&quot; &quot;https://&lt;STORAGE_ACCOUNT&gt;.blob.core.windows.net/&lt;CONTAINER_NAME&gt;/myimage.jpg?comp=block&amp;sv=2019-07-07&amp;ss=b&amp;srt=sc&amp;sp=rwdlac&amp;se=2023-03-28&amp;st=2023-03-24&amp;spr=https&amp;sig=RpdV8prUgjzFApNo6bkuuiRAPHnw1mqww5l42cwVwyY%3D&quot;\r\n```\r\n\r\nI got this:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;Error&gt;&lt;Code&gt;AuthenticationFailed&lt;/Code&gt;&lt;Message&gt;Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature.\r\nRequestId:337c6e4d-301e-0019-7ebd-5f3baf000000\r\nTime:2023-03-26T08:30:28.5705948Z&lt;/Message&gt;&lt;AuthenticationErrorDetail&gt;Signature did not match. String to sign used was storageapollodevappstro\r\nrwdlac\r\nb\r\nsc\r\n2023-03-24\r\n2023-03-28\r\n\r\nhttps\r\n2019-07-07\r\n&lt;/AuthenticationErrorDetail&gt;&lt;/Error&gt;%\r\n```\r\n\r\n\r\n**Update 2:**\r\n\r\nI have updated my code following jccampanero guideline:\r\n\r\n```\r\n    @Override\r\n    public void getMediaUploadCred(GetMediaUploadCredRequest request, StreamObserver&lt;GetMediaUploadCredResponse&gt; response) {\r\n        BlobServiceClient blobServiceClient = new BlobServiceClientBuilder().connectionString(STORAGE_ACCOUNT_CONNECTION_STRING).buildClient();\r\n        BlobContainerClient containerClient = blobServiceClient.getBlobContainerClient(CONTAINER_NAME);\r\n        BlobSasPermission permission = new BlobSasPermission().setReadPermission(true).setWritePermission(true);\r\n        OffsetDateTime expiryTime = OffsetDateTime.now().plusMinutes(30);\r\n\r\n        String blobName = containerClient.getBlobClient(request.getFileName()).getBlobName();\r\n        String sasToken = generateSasToken(STORAGE_ACCOUNT_NAME, STORAGE_ACCOUNT_KEY, CONTAINER_NAME, blobName, permission, expiryTime);\r\n        String url = String.format(&quot;https://%s.blob.core.windows.net/%s/%s?%s&quot;, STORAGE_ACCOUNT_NAME, CONTAINER_NAME, request.getFileName(), sasToken);\r\n        GetMediaUploadCredResponse res = GetMediaUploadCredResponse.newBuilder()\r\n                .setMediaId(blobName)\r\n                .setUploadCredentialUrl(url)\r\n                .build();\r\n        response.onNext(res);\r\n        response.onCompleted();\r\n    }\r\n\r\n    private static String generateSasToken(String accountName, String accountKey, String containerName, String blobName, BlobSasPermission permission, OffsetDateTime expiryTime) {\r\n        String sasToken = null;\r\n        try {\r\n            String signedPermissions = permission.toString();\r\n            String signedStart = OffsetDateTime.now().format(DateTimeFormatter.ISO_OFFSET_DATE_TIME);\r\n            String signedExpiry = expiryTime.format(DateTimeFormatter.ISO_OFFSET_DATE_TIME);\r\n            String canonicalizedResource = String.format(&quot;/blob/%s/%s/%s&quot;, accountName, containerName, blobName);\r\n            String signedVersion = &quot;2020-12-06&quot;;\r\n\r\n            String stringToSign = signedPermissions + &quot;\\n&quot; +\r\n                    signedStart + &quot;\\n&quot; +\r\n                    signedExpiry + &quot;\\n&quot; +\r\n                    canonicalizedResource + &quot;\\n&quot; +\r\n                    &quot;\\n&quot; + // signedKeyObjectId\r\n                    &quot;\\n&quot; + // signedKeyTenantId\r\n                    &quot;\\n&quot; + // signedKeyStart\r\n                    &quot;\\n&quot; + // signedKeyExpiry\r\n                    &quot;\\n&quot; + // signedKeyService\r\n                    &quot;\\n&quot; + // signedKeyVersion\r\n                    &quot;\\n&quot; + // signedAuthorizedUserObjectId\r\n                    &quot;\\n&quot; + // signedUnauthorizedUserObjectId\r\n                    &quot;\\n&quot; + // signedCorrelationId\r\n                    &quot;\\n&quot; + // signedIP\r\n                    &quot;https\\n&quot; + // signedProtocol\r\n                    signedVersion + &quot;\\n&quot; +\r\n                    &quot;\\n&quot; + // signedResource\r\n                    &quot;\\n&quot; + // signedSnapshotTime\r\n                    &quot;\\n&quot; + // signedEncryptionScope\r\n                    &quot;\\n&quot; + // rscc\r\n                    &quot;\\n&quot; + // rscd\r\n                    &quot;\\n&quot; + // rsce\r\n                    &quot;\\n&quot; + // rscl\r\n                    &quot;\\n&quot;; // rsct\r\n\r\n            Mac mac = Mac.getInstance(&quot;HmacSHA256&quot;);\r\n            mac.init(new SecretKeySpec(Base64.getDecoder().decode(accountKey), &quot;HmacSHA256&quot;));\r\n            String signature = Base64.getEncoder().encodeToString(mac.doFinal(stringToSign.getBytes(&quot;UTF-8&quot;)));\r\n            sasToken = String.format(&quot;sv=%s&amp;st=%s&amp;se=%s&amp;sr=b&amp;sp=%s&amp;sig=%s&quot;,\r\n                    signedVersion, signedStart, signedExpiry, permission.toString(), URLEncoder.encode(signature, &quot;UTF-8&quot;));\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return sasToken;\r\n    }\r\n```\r\n\r\nAnd running the CURL command: \r\n```\r\ncurl -X PUT \\\r\n  -T ~/Downloads/gfx100s_sample_04_thum-1.jpg \\\r\n  -H &quot;x-ms-blob-type: BlockBlob&quot; \\\r\n  -H &quot;x-ms-meta-name: example&quot; \\\r\n  &quot;&lt;URL-with sas token&gt;&quot;\r\n```\r\n\r\ngives me:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;Error&gt;&lt;Code&gt;AuthenticationFailed&lt;/Code&gt;&lt;Message&gt;Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature.\r\nRequestId:124d92c4-101e-001e-189f-6157cc000000\r\nTime:2023-03-28T18:02:50.6977457Z&lt;/Message&gt;&lt;AuthenticationErrorDetail&gt;Signature fields not well formed.&lt;/AuthenticationErrorDetail&gt;&lt;/Error&gt;%\r\n```\r\n\r\nBut I followed the Signature fields from [docs][2]. So why am I still getting the error?\r\n\r\n\r\n**Update 3:**\r\n```\r\n        BlobServiceClient blobServiceClient = new BlobServiceClientBuilder().connectionString(STORAGE_ACCOUNT_CONNECTION_STRING).buildClient();\r\n        BlobContainerClient containerClient = blobServiceClient.getBlobContainerClient(CONTAINER_NAME);\r\n\r\n        OffsetDateTime expiryTime = OffsetDateTime.now().plusMinutes(30);\r\n        BlobClient blobClient = blobServiceClient.getBlobContainerClient(CONTAINER_NAME)\r\n                .getBlobClient(request.getFileName());\r\n        BlobSasPermission permission = new BlobSasPermission().setReadPermission(true).setWritePermission(true);\r\n        BlobServiceSasSignatureValues sasValues = new BlobServiceSasSignatureValues(expiryTime, permission);\r\n        String sasToken = blobClient.generateSas(sasValues);\r\n\r\n        String blobName = containerClient.getBlobClient(request.getFileName()).getBlobName();\r\n        log.info(sasToken);\r\n        String url = String.format(&quot;https://%s.blob.core.windows.net/%s/%s?%s&quot;, STORAGE_ACCOUNT_NAME, CONTAINER_NAME, request.getFileName(), sasToken);\r\n        GetMediaUploadCredResponse res = GetMediaUploadCredResponse.newBuilder()\r\n                .setMediaId(blobName)\r\n                .setUploadCredentialUrl(url)\r\n                .build();\r\n```\r\nError:\r\n```\r\nServer failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature.\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/61135060/azure-blob-storage-java-generate-sas-token-always-throw-sr-is-mandatory-cannot\r\n  [2]: https://learn.microsoft.com/en-us/rest/api/storageservices/create-user-delegation-sas#version-2020-12-06-and-later","title":"Generating azure storage SAS token for client in java","body":"<p>For uploading media my client will send a request to the server:</p>\n<pre><code>message GetMediaUploadCredRequest {\n  media.MediaType.Enum media_type = 1;\n  media.Extension.Enum extension = 2;\n  string file_name = 3;\n  bool is_private = 4;\n  string uploaded_by = 5;\n}\n</code></pre>\n<p>And the server will generate a SAS token (like <code>presigned_url</code> from AWS) and <code>http_header</code> will send back to the client.</p>\n<pre><code>message GetMediaUploadCredResponse {\n  string upload_credential_url = 1;\n  map&lt;string, string&gt; https_headers = 2;\n  string media_id = 3;\n}\n</code></pre>\n<p>client will then make a PUT request to the URL with the <code>https_headers</code> and the upload process will be complete.</p>\n<p>Here is the implementation:</p>\n<pre><code>public class StorexServiceImpl extends StorexServiceGrpc.StorexServiceImplBase {\n    private static final Logger log = LoggerFactory.getLogger(StorexServiceImpl.class);\n\n    private static final String STORAGE_ACCOUNT_CONNECTION_STRING = &quot;&lt;connection-string&gt;&quot;;\n    \n    private static final String CONTAINER_NAME = &quot;&lt;container-name&gt;&quot;;\n\n\n\n    @Override\n    public void getMediaUploadCred(GetMediaUploadCredRequest request, StreamObserver&lt;GetMediaUploadCredResponse&gt; response) {\n        try{\n            MediaType.Enum mediaType = request.getMediaType();\n            Extension.Enum extension = request.getExtension();\n            \n            String fileName = String.format(&quot;%s.%s&quot;, UUID.randomUUID(), extension.toString());\n\n            BlobServiceClient blobServiceClient = new BlobServiceClientBuilder().connectionString(STORAGE_ACCOUNT_CONNECTION_STRING).buildClient();\n            BlobContainerClient containerClient = blobServiceClient.getBlobContainerClient(CONTAINER_NAME);\n            BlobClient blobClient = containerClient.getBlobClient(fileName);\n            BlobHttpHeaders headers = new BlobHttpHeaders().setContentEncoding(&quot;gzip&quot;);\n\n            BlobSasPermission permission = new BlobSasPermission().setWritePermission(true); // Set the permission to allow uploading\n            OffsetDateTime expiryTime = OffsetDateTime.now().plusHours(1); // Set the expiration time to 1 hour from now\n\n            BlobServiceSasSignatureValues sasValues = new BlobServiceSasSignatureValues(expiryTime, permission)\n                    .setProtocol(SasProtocol.HTTPS_HTTP);\n\n            String sasUrl = blobClient.generateSas(sasValues);\n\n            Map&lt;String, String&gt; httpHeaders = new TreeMap&lt;&gt;();\n            httpHeaders.put(&quot;Content-Type&quot;, getContentType(mediaType, extension));\n            if(!request.getIsPrivate()) {\n                httpHeaders.put(&quot;x-amz-acl&quot;, &quot;public-read&quot;);\n            }\n\n            String blobId = blobClient.getBlobName(); // get the ID of the blob\n\n            GetMediaUploadCredResponse res = GetMediaUploadCredResponse.newBuilder()\n                    .setMediaId(blobId) // set the blob ID in the response\n                    .setUploadCredentialUrl(sasUrl)\n                    .putAllHttpsHeaders(httpHeaders)\n                    .build();\n            response.onNext(res);\n            response.onCompleted();\n        } catch (Exception e){}\n        super.getMediaUploadCred(request, response);\n\n    }\n\n    private String getContentType(MediaType.Enum mediaType, Extension.Enum extension) {\n        if(mediaType == MediaType.Enum.IMAGE) {\n            return &quot;image/&quot; + extension.toString().toLowerCase();\n        } else if(mediaType == MediaType.Enum.AUDIO) {\n            return &quot;audio/mp3&quot;;\n        } else if(mediaType == MediaType.Enum.VIDEO) {\n            return &quot;audio/mp4&quot;;\n        } else if(mediaType == MediaType.Enum.FILE) {\n            return &quot;application/&quot; + extension.toString().toLowerCase();\n        }\n        return &quot;binary/octet-stream&quot;;\n    }\n}\n</code></pre>\n<p>But for result I got this:</p>\n<pre><code>{\n    &quot;uploadCredentialUrl&quot;: &quot;sv=2021-10-04&amp;spr=https%2Chttp&amp;se=2023-03-24T13%3A36%3A38Z&amp;sr=b&amp;sp=w&amp;sig=JUXXe1Qi13VWipgFWzx70mTOsVqadQCjmIF%2BxRl14cs%3D&quot;,\n    &quot;httpsHeaders&quot;: {\n        &quot;Content-Type&quot;: &quot;image/jpeg&quot;\n    },\n    &quot;mediaId&quot;: &quot;0ae4a0c5-167d-4a32-9752-0ad0d2b67e66.JPEG&quot;\n}\n</code></pre>\n<p>The uploadCredentialUrl seems weird and not like an actual URL at all.</p>\n<p><strong>Update 1:</strong></p>\n<p>Found this <a href=\"https://stackoverflow.com/questions/61135060/azure-blob-storage-java-generate-sas-token-always-throw-sr-is-mandatory-cannot\">post</a>. So I changed my code a bit:</p>\n<pre><code>    public void getMediaUploadCred(GetMediaUploadCredRequest request, StreamObserver&lt;GetMediaUploadCredResponse&gt; response) {\n        try{\n            MediaType.Enum mediaType = request.getMediaType();\n            Extension.Enum extension = request.getExtension();\n\n            String fileName = String.format(&quot;%s.%s&quot;, UUID.randomUUID(), extension.toString());\n\n            \n            log.info(&quot;New Implementations Started&quot;);\n            SimpleDateFormat fmt = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n            fmt.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\n            Calendar cal = Calendar.getInstance();\n            cal.setTime(new Date());\n            cal.add(Calendar.DATE, -2);\n            String start = fmt.format(cal.getTime());\n            cal.add(Calendar.DATE, 4);\n            String expiry =  fmt.format(cal.getTime());\n            SecretKeySpec secretKey = new SecretKeySpec(Base64.getDecoder().decode(STORAGE_ACCOUNT_KEY), &quot;HmacSHA256&quot;);\n            Mac sha256HMAC = Mac.getInstance(&quot;HmacSHA256&quot;);\n            sha256HMAC.init(secretKey);\n            String  resource =&quot;sc&quot;;\n            String permissions =&quot;rwdlac&quot;;\n            String service = &quot;b&quot;;\n            String apiVersion=&quot;2019-07-07&quot;;\n            String stringToSign = STORAGE_ACCOUNT_NAME + &quot;\\n&quot; +\n                    permissions +&quot;\\n&quot; +  // signed permissions\n                    service+&quot;\\n&quot; + // signed service\n                    resource+&quot;\\n&quot; + // signed resource type\n                    start + &quot;\\n&quot; + // signed start\n                    expiry + &quot;\\n&quot; + // signed expiry\n                    &quot;\\n&quot; +  // signed IP\n                    &quot;https\\n&quot;;\n            log.info(&quot;string to sign: {}&quot;, stringToSign);\n\n            String signature=Base64.getEncoder().encodeToString(sha256HMAC.doFinal(stringToSign.getBytes(&quot;UTF-8&quot;)));\n            String sasToken = &quot;sv=&quot; + apiVersion +\n                    &quot;&amp;ss=&quot; + service+\n                    &quot;&amp;srt=&quot; + resource+\n                    &quot;&amp;sp=&quot; +permissions+\n                    &quot;&amp;se=&quot; + URLEncoder.encode(expiry, &quot;UTF-8&quot;) +\n                    &quot;&amp;st=&quot; + URLEncoder.encode(start, &quot;UTF-8&quot;) +\n                    &quot;&amp;spr=https&quot; +\n                    &quot;&amp;sig=&quot; + URLEncoder.encode(signature,&quot;UTF-8&quot;);\n            log.info(&quot;sas token: {}&quot;, sasToken);\n            String resourceUrl = &quot;https://&quot; + STORAGE_ACCOUNT_NAME + &quot;.blob.core.windows.net/&quot; + CONTAINER_NAME + &quot;?comp=block&amp;&quot; + sasToken;\n            \n            \n\n            Map&lt;String, String&gt; httpHeaders = new TreeMap&lt;&gt;();\n            httpHeaders.put(&quot;Content-Type&quot;, getContentType(mediaType, extension));\n            if(!request.getIsPrivate()) {\n                httpHeaders.put(&quot;x-amz-acl&quot;, &quot;public-read&quot;);\n            }\n\n            GetMediaUploadCredResponse res = GetMediaUploadCredResponse.newBuilder()\n                    .setMediaId(&quot;blob id&quot;) // set the blob ID in the response\n                    .setUploadCredentialUrl(resourceUrl)\n                    .putAllHttpsHeaders(httpHeaders)\n                    .build();\n            response.onNext(res);\n            response.onCompleted();\n        } catch (Exception e){}\n    }\n</code></pre>\n<p>And I got a response:</p>\n<pre><code>{\n    &quot;uploadCredentialUrl&quot;: &quot;https://&lt;STORAGE_ACCOUNT&gt;.blob.core.windows.net/&lt;CONTAINER_NAME&gt;?comp=block&amp;sv=2019-07-07&amp;ss=b&amp;srt=sc&amp;sp=rwdlac&amp;se=2023-03-28&amp;st=2023-03-24&amp;spr=https&amp;sig=RpdV8prUgjzFApNo6bkuuiRAPHnw1mqww5l42cwVwyY%3D&quot;,\n    &quot;httpsHeaders&quot;: {\n        &quot;Content-Type&quot;: &quot;image/jpeg&quot;\n    },\n    &quot;mediaId&quot;: &quot;blob id&quot;\n}\n</code></pre>\n<p>But when I tried this:</p>\n<pre><code>curl -X PUT -T ~/Downloads/gfx100s_sample_04_thum-1.jpg -H &quot;x-ms-date: $(date -u)&quot; &quot;https://&lt;STORAGE_ACCOUNT&gt;.blob.core.windows.net/&lt;CONTAINER_NAME&gt;/myimage.jpg?comp=block&amp;sv=2019-07-07&amp;ss=b&amp;srt=sc&amp;sp=rwdlac&amp;se=2023-03-28&amp;st=2023-03-24&amp;spr=https&amp;sig=RpdV8prUgjzFApNo6bkuuiRAPHnw1mqww5l42cwVwyY%3D&quot;\n</code></pre>\n<p>I got this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;Error&gt;&lt;Code&gt;AuthenticationFailed&lt;/Code&gt;&lt;Message&gt;Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature.\nRequestId:337c6e4d-301e-0019-7ebd-5f3baf000000\nTime:2023-03-26T08:30:28.5705948Z&lt;/Message&gt;&lt;AuthenticationErrorDetail&gt;Signature did not match. String to sign used was storageapollodevappstro\nrwdlac\nb\nsc\n2023-03-24\n2023-03-28\n\nhttps\n2019-07-07\n&lt;/AuthenticationErrorDetail&gt;&lt;/Error&gt;%\n</code></pre>\n<p><strong>Update 2:</strong></p>\n<p>I have updated my code following jccampanero guideline:</p>\n<pre><code>    @Override\n    public void getMediaUploadCred(GetMediaUploadCredRequest request, StreamObserver&lt;GetMediaUploadCredResponse&gt; response) {\n        BlobServiceClient blobServiceClient = new BlobServiceClientBuilder().connectionString(STORAGE_ACCOUNT_CONNECTION_STRING).buildClient();\n        BlobContainerClient containerClient = blobServiceClient.getBlobContainerClient(CONTAINER_NAME);\n        BlobSasPermission permission = new BlobSasPermission().setReadPermission(true).setWritePermission(true);\n        OffsetDateTime expiryTime = OffsetDateTime.now().plusMinutes(30);\n\n        String blobName = containerClient.getBlobClient(request.getFileName()).getBlobName();\n        String sasToken = generateSasToken(STORAGE_ACCOUNT_NAME, STORAGE_ACCOUNT_KEY, CONTAINER_NAME, blobName, permission, expiryTime);\n        String url = String.format(&quot;https://%s.blob.core.windows.net/%s/%s?%s&quot;, STORAGE_ACCOUNT_NAME, CONTAINER_NAME, request.getFileName(), sasToken);\n        GetMediaUploadCredResponse res = GetMediaUploadCredResponse.newBuilder()\n                .setMediaId(blobName)\n                .setUploadCredentialUrl(url)\n                .build();\n        response.onNext(res);\n        response.onCompleted();\n    }\n\n    private static String generateSasToken(String accountName, String accountKey, String containerName, String blobName, BlobSasPermission permission, OffsetDateTime expiryTime) {\n        String sasToken = null;\n        try {\n            String signedPermissions = permission.toString();\n            String signedStart = OffsetDateTime.now().format(DateTimeFormatter.ISO_OFFSET_DATE_TIME);\n            String signedExpiry = expiryTime.format(DateTimeFormatter.ISO_OFFSET_DATE_TIME);\n            String canonicalizedResource = String.format(&quot;/blob/%s/%s/%s&quot;, accountName, containerName, blobName);\n            String signedVersion = &quot;2020-12-06&quot;;\n\n            String stringToSign = signedPermissions + &quot;\\n&quot; +\n                    signedStart + &quot;\\n&quot; +\n                    signedExpiry + &quot;\\n&quot; +\n                    canonicalizedResource + &quot;\\n&quot; +\n                    &quot;\\n&quot; + // signedKeyObjectId\n                    &quot;\\n&quot; + // signedKeyTenantId\n                    &quot;\\n&quot; + // signedKeyStart\n                    &quot;\\n&quot; + // signedKeyExpiry\n                    &quot;\\n&quot; + // signedKeyService\n                    &quot;\\n&quot; + // signedKeyVersion\n                    &quot;\\n&quot; + // signedAuthorizedUserObjectId\n                    &quot;\\n&quot; + // signedUnauthorizedUserObjectId\n                    &quot;\\n&quot; + // signedCorrelationId\n                    &quot;\\n&quot; + // signedIP\n                    &quot;https\\n&quot; + // signedProtocol\n                    signedVersion + &quot;\\n&quot; +\n                    &quot;\\n&quot; + // signedResource\n                    &quot;\\n&quot; + // signedSnapshotTime\n                    &quot;\\n&quot; + // signedEncryptionScope\n                    &quot;\\n&quot; + // rscc\n                    &quot;\\n&quot; + // rscd\n                    &quot;\\n&quot; + // rsce\n                    &quot;\\n&quot; + // rscl\n                    &quot;\\n&quot;; // rsct\n\n            Mac mac = Mac.getInstance(&quot;HmacSHA256&quot;);\n            mac.init(new SecretKeySpec(Base64.getDecoder().decode(accountKey), &quot;HmacSHA256&quot;));\n            String signature = Base64.getEncoder().encodeToString(mac.doFinal(stringToSign.getBytes(&quot;UTF-8&quot;)));\n            sasToken = String.format(&quot;sv=%s&amp;st=%s&amp;se=%s&amp;sr=b&amp;sp=%s&amp;sig=%s&quot;,\n                    signedVersion, signedStart, signedExpiry, permission.toString(), URLEncoder.encode(signature, &quot;UTF-8&quot;));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return sasToken;\n    }\n</code></pre>\n<p>And running the CURL command:</p>\n<pre><code>curl -X PUT \\\n  -T ~/Downloads/gfx100s_sample_04_thum-1.jpg \\\n  -H &quot;x-ms-blob-type: BlockBlob&quot; \\\n  -H &quot;x-ms-meta-name: example&quot; \\\n  &quot;&lt;URL-with sas token&gt;&quot;\n</code></pre>\n<p>gives me:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;Error&gt;&lt;Code&gt;AuthenticationFailed&lt;/Code&gt;&lt;Message&gt;Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature.\nRequestId:124d92c4-101e-001e-189f-6157cc000000\nTime:2023-03-28T18:02:50.6977457Z&lt;/Message&gt;&lt;AuthenticationErrorDetail&gt;Signature fields not well formed.&lt;/AuthenticationErrorDetail&gt;&lt;/Error&gt;%\n</code></pre>\n<p>But I followed the Signature fields from <a href=\"https://learn.microsoft.com/en-us/rest/api/storageservices/create-user-delegation-sas#version-2020-12-06-and-later\" rel=\"noreferrer\">docs</a>. So why am I still getting the error?</p>\n<p><strong>Update 3:</strong></p>\n<pre><code>        BlobServiceClient blobServiceClient = new BlobServiceClientBuilder().connectionString(STORAGE_ACCOUNT_CONNECTION_STRING).buildClient();\n        BlobContainerClient containerClient = blobServiceClient.getBlobContainerClient(CONTAINER_NAME);\n\n        OffsetDateTime expiryTime = OffsetDateTime.now().plusMinutes(30);\n        BlobClient blobClient = blobServiceClient.getBlobContainerClient(CONTAINER_NAME)\n                .getBlobClient(request.getFileName());\n        BlobSasPermission permission = new BlobSasPermission().setReadPermission(true).setWritePermission(true);\n        BlobServiceSasSignatureValues sasValues = new BlobServiceSasSignatureValues(expiryTime, permission);\n        String sasToken = blobClient.generateSas(sasValues);\n\n        String blobName = containerClient.getBlobClient(request.getFileName()).getBlobName();\n        log.info(sasToken);\n        String url = String.format(&quot;https://%s.blob.core.windows.net/%s/%s?%s&quot;, STORAGE_ACCOUNT_NAME, CONTAINER_NAME, request.getFileName(), sasToken);\n        GetMediaUploadCredResponse res = GetMediaUploadCredResponse.newBuilder()\n                .setMediaId(blobName)\n                .setUploadCredentialUrl(url)\n                .build();\n</code></pre>\n<p>Error:</p>\n<pre><code>Server failed to authenticate the request. Make sure the value of Authorization header is formed correctly including the signature.\n</code></pre>\n"},{"tags":["java","java-time","milliseconds"],"comments":[{"owner":{"account_id":9460871,"reputation":2143,"user_id":7034621,"display_name":"orhtej2"},"score":8,"creation_date":1680008109,"post_id":75866488,"comment_id":133820252,"body_markdown":"You can [`ldt.plus(1, ChronoUnit.MILLIS)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html#plus(long,java.time.temporal.TemporalUnit)).","body":"You can <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html#plus(long,java.time.temporal.TemporalUnit)\" rel=\"nofollow noreferrer\"><code>ldt.plus(1, ChronoUnit.MILLIS)</code></a>."},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1680008320,"post_id":75866488,"comment_id":133820322,"body_markdown":"If there is such a function in later versions: No. You can look that up in the API documentation. For example [Java SE 20 API docs for `LocalDateTime`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/LocalDateTime.html).","body":"If there is such a function in later versions: No. You can look that up in the API documentation. For example <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\">Java SE 20 API docs for <code>LocalDateTime</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1680008880,"creation_date":1680008308,"answer_id":75866572,"question_id":75866488,"body_markdown":"Adding nanoseconds is a completely valid way of doing this. If you want a solution that is more self-explanatory, you can use [`LocalDateTime#plus(long, TemporalUnit)`][1]:\r\n\r\n\tprivate static final DateTimeFormatter FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tLocalDateTime localDateTime = LocalDateTime.parse(&quot;2022-01-01 00:00:00.123&quot;, FORMATTER);\r\n\t\tlocalDateTime = localDateTime.plus(1L, ChronoUnit.MILLIS);\r\n        //         How much you are adding ^              ^ What you are adding\r\n\r\n\t\tSystem.out.println(FORMATTER.format(localDateTime));\r\n\t}\r\n\r\nThe [`TemporalUnit`][2] parameter explains exactly what you are adding to the the timestamp, thus making your code more easily understandable to other programmers who may be viewing it. It also takes care of the unit conversions behind the scenes, so there is less margin for human error and your code is not cluttered with math.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#plus-long-java.time.temporal.TemporalUnit-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalUnit.html","title":"LocalDateTime add millisecond","body":"<p>Adding nanoseconds is a completely valid way of doing this. If you want a solution that is more self-explanatory, you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#plus-long-java.time.temporal.TemporalUnit-\" rel=\"noreferrer\"><code>LocalDateTime#plus(long, TemporalUnit)</code></a>:</p>\n<pre><code>private static final DateTimeFormatter FORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\n\npublic static void main(String[] args) {\n    LocalDateTime localDateTime = LocalDateTime.parse(&quot;2022-01-01 00:00:00.123&quot;, FORMATTER);\n    localDateTime = localDateTime.plus(1L, ChronoUnit.MILLIS);\n    //         How much you are adding ^              ^ What you are adding\n\n    System.out.println(FORMATTER.format(localDateTime));\n}\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalUnit.html\" rel=\"noreferrer\"><code>TemporalUnit</code></a> parameter explains exactly what you are adding to the the timestamp, thus making your code more easily understandable to other programmers who may be viewing it. It also takes care of the unit conversions behind the scenes, so there is less margin for human error and your code is not cluttered with math.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680117374,"creation_date":1680038360,"answer_id":75871162,"question_id":75866488,"body_markdown":"The [Answer by Cardinal System][1] is correct. \r\n\r\n# `Duration`\r\n\r\nAn alternative is use of `Duration` class with [`LocalDateTime#plus`][2]. \r\n\r\nA [`Duration`][3] object represents a span of time not attached to the timeline, on a scale of hours, minutes, seconds, and fractional second.\r\n\r\n    LocalDateTime ldt = LocalDateTime.parse( &quot;2022-01-01 00:00:00.123&quot;.replace( &quot; &quot; , &quot;T&quot; ) ) ;  // Replace SPACE with `T` to comply with standard ISO 8601 format.\r\n    Duration duration = Duration.ofMillis( 1L ) ;\r\n    LocalDateTime later = ldt.plus( duration ) ;\r\n\r\n\r\n----------\r\n\r\nBy the way, be aware that `LocalDateTime` is inherently ambiguous. That class represents a date with a time-of-day but lacks a time zone or offset-from-UTC needed to determine a point on the timeline.\r\n\r\nFor a specific point on the timeline, use `Instant`. \r\n\r\n    Instant instant = Instant.now() ;\r\n    Instant later = instant.plus( duration ) ;\r\n\r\nTo see that same moment through the lens of a particular time zone, apply a `ZoneId` to get a `ZonedDateTime` object.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Pacific/Auckland&quot; ) ;\r\n    ZonedDateTime zdt = later.atZone( z ) ;\r\n\r\nSee this code [run at Ideone.com][4]. Note the differences: (a) one millisecond later, and (b) different time-of-day &amp; different date.\r\n\r\n```none\r\ninstant.toString(): 2023-03-29T19:12:16.727887Z\r\nlater.toString(): 2023-03-29T19:12:16.728887Z\r\nzdt.toString(): 2023-03-30T08:12:16.728887+13:00[Pacific/Auckland]\r\n```\r\n\r\nIf you want only milliseconds, you can truncate to clear the microseconds &amp; nanoseconds to zero.\r\n\r\n    Instant trunc = instant.truncatedTo( ChronoUnit.MILLIS ) ;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75866572/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/LocalDateTime.html#plus(java.time.temporal.TemporalAmount)\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Duration.html\r\n  [4]: https://ideone.com/nat4i6","title":"LocalDateTime add millisecond","body":"<p>The <a href=\"https://stackoverflow.com/a/75866572/642706\">Answer by Cardinal System</a> is correct.</p>\n<h1><code>Duration</code></h1>\n<p>An alternative is use of <code>Duration</code> class with <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/LocalDateTime.html#plus(java.time.temporal.TemporalAmount)\" rel=\"nofollow noreferrer\"><code>LocalDateTime#plus</code></a>.</p>\n<p>A <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>Duration</code></a> object represents a span of time not attached to the timeline, on a scale of hours, minutes, seconds, and fractional second.</p>\n<pre><code>LocalDateTime ldt = LocalDateTime.parse( &quot;2022-01-01 00:00:00.123&quot;.replace( &quot; &quot; , &quot;T&quot; ) ) ;  // Replace SPACE with `T` to comply with standard ISO 8601 format.\nDuration duration = Duration.ofMillis( 1L ) ;\nLocalDateTime later = ldt.plus( duration ) ;\n</code></pre>\n<hr />\n<p>By the way, be aware that <code>LocalDateTime</code> is inherently ambiguous. That class represents a date with a time-of-day but lacks a time zone or offset-from-UTC needed to determine a point on the timeline.</p>\n<p>For a specific point on the timeline, use <code>Instant</code>.</p>\n<pre><code>Instant instant = Instant.now() ;\nInstant later = instant.plus( duration ) ;\n</code></pre>\n<p>To see that same moment through the lens of a particular time zone, apply a <code>ZoneId</code> to get a <code>ZonedDateTime</code> object.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Pacific/Auckland&quot; ) ;\nZonedDateTime zdt = later.atZone( z ) ;\n</code></pre>\n<p>See this code <a href=\"https://ideone.com/nat4i6\" rel=\"nofollow noreferrer\">run at Ideone.com</a>. Note the differences: (a) one millisecond later, and (b) different time-of-day &amp; different date.</p>\n<pre class=\"lang-none prettyprint-override\"><code>instant.toString(): 2023-03-29T19:12:16.727887Z\nlater.toString(): 2023-03-29T19:12:16.728887Z\nzdt.toString(): 2023-03-30T08:12:16.728887+13:00[Pacific/Auckland]\n</code></pre>\n<p>If you want only milliseconds, you can truncate to clear the microseconds &amp; nanoseconds to zero.</p>\n<pre><code>Instant trunc = instant.truncatedTo( ChronoUnit.MILLIS ) ;\n</code></pre>\n"}],"owner":{"account_id":27735583,"reputation":33,"user_id":21173249,"display_name":"goguma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2548,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75866572,"answer_count":2,"score":3,"last_activity_date":1680117374,"creation_date":1680007842,"question_id":75866488,"body_markdown":"I want to increase the millisecond value with LocalDateTime. I used plusNanos because I didn&#39;t have plusmillisecond.\r\nI wonder if this is the right way.\r\nI&#39;m using JDK 1.8.\r\nI also want to know if there is a plus millisecond function in later versions.\r\n\r\n```\r\nDateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\r\nLocalDateTime ldt = LocalDateTime.parse(&quot;2022-01-01 00:00:00.123&quot;,f);\r\n        \r\nSystem.out.println(ldt.format(f));\r\n        \r\nldt = ldt.plusNanos(1000000);\r\n        \r\nSystem.out.println(ldt.format(f));\r\n```\r\n\r\n\r\n```\r\n2022-01-01 00:00:00.123\r\n2022-01-01 00:00:00.124\r\n```","title":"LocalDateTime add millisecond","body":"<p>I want to increase the millisecond value with LocalDateTime. I used plusNanos because I didn't have plusmillisecond.\nI wonder if this is the right way.\nI'm using JDK 1.8.\nI also want to know if there is a plus millisecond function in later versions.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\nLocalDateTime ldt = LocalDateTime.parse(&quot;2022-01-01 00:00:00.123&quot;,f);\n        \nSystem.out.println(ldt.format(f));\n        \nldt = ldt.plusNanos(1000000);\n        \nSystem.out.println(ldt.format(f));\n</code></pre>\n<pre><code>2022-01-01 00:00:00.123\n2022-01-01 00:00:00.124\n</code></pre>\n"},{"tags":["java","swagger","openapi"],"owner":{"account_id":28161260,"reputation":11,"user_id":21521157,"display_name":"ad_cir_ds"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680117097,"creation_date":1680116968,"question_id":75881244,"body_markdown":"I&#39;m trying to set explode to false for some of the endpoints on an API I&#39;m working with, but it doesn&#39;t seem to be working properly. I am using the latest version of Swagger (2.2.9 as of this post). I&#39;ve come up with the following contrived example, where explode is being ignored:\r\n\r\n\r\n```\r\n    @GET\r\n    @Path(&quot;bogus&quot;)\r\n    @JSONP(queryParam = &quot;callback&quot;)\r\n    public void bogus(\r\n            @Parameter(description = &quot;Extended options&quot;, in = ParameterIn.QUERY,\r\n                    explode = Explode.FALSE,\r\n                    style = ParameterStyle.FORM\r\n            )\r\n            @QueryParam(&quot;extendedOptions&quot;) String extendedOptions) {\r\n\r\n    }\r\n```\r\n\r\n\r\nIn general, I would like to have some specific options for the user to choose from defined in our spec, but let them know they need to include those in a comma-separated format. Code example:\r\n\r\n```\r\n    @GET\r\n    @Path(&quot;bogus&quot;)\r\n    @JSONP(queryParam = &quot;callback&quot;)\r\n    public void bogus(\r\n            @Parameter(description = &quot;Extended options&quot;, in = ParameterIn.QUERY,\r\n                    explode = Explode.FALSE,\r\n                    style = ParameterStyle.FORM\r\n                    array = @ArraySchema(schema = @Schema(type = &quot;array&quot;, allowableValues = {&quot;first&quot;, &quot;second&quot;, &quot;third&quot;}))\r\n            )\r\n            @QueryParam(&quot;extendedOptions&quot;) String extendedOptions) {\r\n\r\n    }\r\n```\r\n\r\nWhere I&#39;m hoping the spec will let the user know they need to format extendedOptions like this:\r\n\r\n```\r\nmyapi.com/SomeStuffHere?extendedOptions=first,second,third\r\n```\r\n\r\nNot quite sure if I&#39;m doing something wrong here, or if this option isn&#39;t completely supported in Swagger. My implementation seems to fit the documentation as far as I can tell.\r\n","title":"Java Swagger - setting explode to false for query parameter not working properly?","body":"<p>I'm trying to set explode to false for some of the endpoints on an API I'm working with, but it doesn't seem to be working properly. I am using the latest version of Swagger (2.2.9 as of this post). I've come up with the following contrived example, where explode is being ignored:</p>\n<pre><code>    @GET\n    @Path(&quot;bogus&quot;)\n    @JSONP(queryParam = &quot;callback&quot;)\n    public void bogus(\n            @Parameter(description = &quot;Extended options&quot;, in = ParameterIn.QUERY,\n                    explode = Explode.FALSE,\n                    style = ParameterStyle.FORM\n            )\n            @QueryParam(&quot;extendedOptions&quot;) String extendedOptions) {\n\n    }\n</code></pre>\n<p>In general, I would like to have some specific options for the user to choose from defined in our spec, but let them know they need to include those in a comma-separated format. Code example:</p>\n<pre><code>    @GET\n    @Path(&quot;bogus&quot;)\n    @JSONP(queryParam = &quot;callback&quot;)\n    public void bogus(\n            @Parameter(description = &quot;Extended options&quot;, in = ParameterIn.QUERY,\n                    explode = Explode.FALSE,\n                    style = ParameterStyle.FORM\n                    array = @ArraySchema(schema = @Schema(type = &quot;array&quot;, allowableValues = {&quot;first&quot;, &quot;second&quot;, &quot;third&quot;}))\n            )\n            @QueryParam(&quot;extendedOptions&quot;) String extendedOptions) {\n\n    }\n</code></pre>\n<p>Where I'm hoping the spec will let the user know they need to format extendedOptions like this:</p>\n<pre><code>myapi.com/SomeStuffHere?extendedOptions=first,second,third\n</code></pre>\n<p>Not quite sure if I'm doing something wrong here, or if this option isn't completely supported in Swagger. My implementation seems to fit the documentation as far as I can tell.</p>\n"},{"tags":["java","eclipse","annotations","eclipse-plugin"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1680072091,"post_id":75871642,"comment_id":133832730,"body_markdown":"There is no _but_, use try-with-resources statement instead of making your code harder to read by adding unnecessary stuff. `if (a!=null) a.close();` is not the same as try-with-resources. Think what happens when `close()` throws an exception. Better right-click your project, choose _Source &gt; Clean Up..._ and use the _Java Features &gt; Java 7: Use try-with-resource_ clean-up.","body":"There is no <i>but</i>, use try-with-resources statement instead of making your code harder to read by adding unnecessary stuff. <code>if (a!=null) a.close();</code> is not the same as try-with-resources. Think what happens when <code>close()</code> throws an exception. Better right-click your project, choose <i>Source &gt; Clean Up...</i> and use the <i>Java Features &gt; Java 7: Use try-with-resource</i> clean-up."},{"owner":{"account_id":1269311,"reputation":146,"user_id":1225978,"display_name":"Miguel Farah"},"score":0,"creation_date":1680086742,"post_id":75871642,"comment_id":133836395,"body_markdown":"I am already doing that on the simpler methods that execute a single query on a fixed number of arguments; the same tactic becomes insufficient when dealing with complex methods that contain business logic, or execute the same query over every item in a list, or do one query with a variable number of arguments  at some point, some rs or ps objects will have to be reassigned, and try-with-resources doesn&#39;t cut it anymore (as it makes its variables final).\n\nAlso, remember that I *am* closing every AutoCloseable object in a finally block, so exceptions are well covered already.","body":"I am already doing that on the simpler methods that execute a single query on a fixed number of arguments; the same tactic becomes insufficient when dealing with complex methods that contain business logic, or execute the same query over every item in a list, or do one query with a variable number of arguments  at some point, some rs or ps objects will have to be reassigned, and try-with-resources doesn&#39;t cut it anymore (as it makes its variables final).  Also, remember that I <i>am</i> closing every AutoCloseable object in a finally block, so exceptions are well covered already."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1680100897,"post_id":75871642,"comment_id":133840575,"body_markdown":"Eclipse has built-in support for null annotations, but not for `@WillClose`, `@WillNotClose`, etc. If JSR 305 had not been rejected, it would probably be different now. Java 8 provides lambda expressions, which makes it easier to pass around functions that operate on resources rather than pass around the resources themselves. Please provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). I doubt `@WillClose` is the only and best solution for your real problem (see [XY problem](https://en.wikipedia.org/wiki/XY_problem)).","body":"Eclipse has built-in support for null annotations, but not for <code>@WillClose</code>, <code>@WillNotClose</code>, etc. If JSR 305 had not been rejected, it would probably be different now. Java 8 provides lambda expressions, which makes it easier to pass around functions that operate on resources rather than pass around the resources themselves. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. I doubt <code>@WillClose</code> is the only and best solution for your real problem (see <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY problem</a>)."},{"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"score":0,"creation_date":1680105433,"post_id":75871642,"comment_id":133842050,"body_markdown":"JSR 305 wasn&#39;t rejected, it was abandoned.","body":"JSR 305 wasn&#39;t rejected, it was abandoned."},{"owner":{"account_id":1269311,"reputation":146,"user_id":1225978,"display_name":"Miguel Farah"},"score":0,"creation_date":1680116715,"post_id":75871642,"comment_id":133844838,"body_markdown":"Example added. This should help clear up what I want.","body":"Example added. This should help clear up what I want."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1680160575,"post_id":75871642,"comment_id":133851533,"body_markdown":"@mernst Yes, JSR 305 wasn&#39;t rejected, but is dormant: [_&quot;The Executive Committee voted to list this JSR as dormant in May 2012&quot;_](https://jcp.org/en/jsr/detail?id=305).","body":"@mernst Yes, JSR 305 wasn&#39;t rejected, but is dormant: <a href=\"https://jcp.org/en/jsr/detail?id=305\" rel=\"nofollow noreferrer\"><i>&quot;The Executive Committee voted to list this JSR as dormant in May 2012&quot;</i></a>."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1680166545,"post_id":75871642,"comment_id":133852950,"body_markdown":"With the following utility method you would be able to get a `ResultSet` that can be used in a try-with-resources statement, so that all resources will be closed without calling `close()` explicitly: `private static ResultSet prepareStatementAndExecuteQuery(Connection connection, String sql) throws SQLException { if (connection == null) return null; try (PreparedStatement statement= connection.prepareStatement(sql)) { return statement.executeQuery(); } }`. _&quot;Eclipse doesn&#39;t notice a null object is coming&quot;_: `getConnection()` is not annotated as `Nullable` and can be overridden.","body":"With the following utility method you would be able to get a <code>ResultSet</code> that can be used in a try-with-resources statement, so that all resources will be closed without calling <code>close()</code> explicitly: <code>private static ResultSet prepareStatementAndExecuteQuery(Connection connection, String sql) throws SQLException { if (connection == null) return null; try (PreparedStatement statement= connection.prepareStatement(sql)) { return statement.executeQuery(); } }</code>. <i>&quot;Eclipse doesn&#39;t notice a null object is coming&quot;</i>: <code>getConnection()</code> is not annotated as <code>Nullable</code> and can be overridden."}],"answers":[{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680106008,"creation_date":1680106008,"answer_id":75879642,"question_id":75871642,"body_markdown":"You can use the [Resource Leak Checker](https://checkerframework.org/manual/#resource-leak-checker), which is distributed with the [Checker Framework](https://checkerframework.org/).  The Resource Leak Checker guarantees, at compile time, that the program fulfills every objects must-call obligations before the object is de-allocated.\r\n\r\nThis tool doesn&#39;t use JSR 305 annotations, but its own that are more general (they go beyond just closing resources).  For instance, for the `close()` method you would use \r\n[`@MustCall(&quot;close&quot;)`](https://checkerframework.org/api/org/checkerframework/checker/mustcall/qual/MustCall.html) (though you don&#39;t need to, since the tool comes with JDK annotations), and you would use [`@EnsuresCalledMethods(&quot;close&quot;)`](https://checkerframework.org/api/org/checkerframework/checker/calledmethods/qual/EnsuresCalledMethods.html) rather than `@WillClose`, and [`@NotOwning`](https://checkerframework.org/api/org/checkerframework/checker/mustcall/qual/NotOwning.html) instead of `@WillNotClose`.\r\n\r\nThis is not built into Eclipse, but is a separate tool that can be [run from Eclipse](https://checkerframework.org/manual/#eclipse).\r\n\r\nYou should use Javas try-with-resources statement when it is applicable, and the Resource Leak Checker will help you use it where appropriate.  However, try-with-resources can only close resource types that implement the `java.lang.AutoCloseable` interface, and it cannot handle common resource usage patterns that span multiple procedures.  The Resource Leak Checker is particularly useful in these situations.\r\n","title":"Can JSR 305&#39;s &quot;@WillClose&quot; (et al) annotation, or one to the same effect, be implemented in/for Eclipse?","body":"<p>You can use the <a href=\"https://checkerframework.org/manual/#resource-leak-checker\" rel=\"nofollow noreferrer\">Resource Leak Checker</a>, which is distributed with the <a href=\"https://checkerframework.org/\" rel=\"nofollow noreferrer\">Checker Framework</a>.  The Resource Leak Checker guarantees, at compile time, that the program fulfills every objects must-call obligations before the object is de-allocated.</p>\n<p>This tool doesn't use JSR 305 annotations, but its own that are more general (they go beyond just closing resources).  For instance, for the <code>close()</code> method you would use\n<a href=\"https://checkerframework.org/api/org/checkerframework/checker/mustcall/qual/MustCall.html\" rel=\"nofollow noreferrer\"><code>@MustCall(&quot;close&quot;)</code></a> (though you don't need to, since the tool comes with JDK annotations), and you would use <a href=\"https://checkerframework.org/api/org/checkerframework/checker/calledmethods/qual/EnsuresCalledMethods.html\" rel=\"nofollow noreferrer\"><code>@EnsuresCalledMethods(&quot;close&quot;)</code></a> rather than <code>@WillClose</code>, and <a href=\"https://checkerframework.org/api/org/checkerframework/checker/mustcall/qual/NotOwning.html\" rel=\"nofollow noreferrer\"><code>@NotOwning</code></a> instead of <code>@WillNotClose</code>.</p>\n<p>This is not built into Eclipse, but is a separate tool that can be <a href=\"https://checkerframework.org/manual/#eclipse\" rel=\"nofollow noreferrer\">run from Eclipse</a>.</p>\n<p>You should use Javas try-with-resources statement when it is applicable, and the Resource Leak Checker will help you use it where appropriate.  However, try-with-resources can only close resource types that implement the <code>java.lang.AutoCloseable</code> interface, and it cannot handle common resource usage patterns that span multiple procedures.  The Resource Leak Checker is particularly useful in these situations.</p>\n"}],"owner":{"account_id":1269311,"reputation":146,"user_id":1225978,"display_name":"Miguel Farah"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680116648,"creation_date":1680043114,"question_id":75871642,"body_markdown":"**tl;dr**: I want to tell Eclipse that my auxiliary method `closedown(AutoCloseable... aaa)` DOES in fact close all the AutoCloseable objects it&#39;s given.\r\n\r\nOn to the details:\r\n\r\nI inherited a set of large Java applications with an ungodly amount of poorly written DAO classes. Far too many methods do a long sequence of SELECT/INSERT/UPDATE queries, reusing the PreparedStatement and ResultSet objects and whatnot, *sometimes* closing the resources before reusing them again; Eclipse produced hundreds of &quot;Resource leak: &#39;rs&#39; is not closed at this location&quot; warnings.\r\n\r\nAs part of the code purification process, and to make cleansing easier, I wrote an auxiliary method `closedown(AutoCloseable... aaa)` that simply does an `if (a!=null) a.close();` for each given object; this one-liner can then be easily inserted before any `conn.prepareStatement()` call and whatnot... \r\n\r\n... but now Eclipse produces almost as many &quot;Potential resource leak: &#39;ps&#39; may not be closed at this location&quot; spurious info messages. I *am* placing the closedown() calls correctly (including in a finally block for each and every one of the try block in those classes), so the problem is simply that Eclipse that can not tell from its own source code analysis that things are fine.\r\n\r\nThese applications run on Java 7 (migrating to Java 8 is finally underway). This means I can use try-with-resources, BUT... the high amount of reuse of Statement, PreparedStatement and ResultSet objects make that tactic viable only for Connection objects. I don&#39;t want to use the @SuppressWarnings tag for the obvious reason. Instead, I would like to be able to tell Eclipse that the AutoCloseable objects sent to closedown() are indeed closed, so Eclipse will know to not produce those spurious messages.\r\n\r\nTurns out that JSR 305 ended up dead, and yet, something like `@WillClose` would be a good fit for what I need (and `@WillNotClose` for handling certain Connection parameters!). So, how can this annotation be implemented on Eclipse?\r\n\r\n\r\n\r\n\r\n\r\n\r\nEDIT: As requested by howlger, this is a minimal reproducible example. Consider this utility class:\r\n\r\n```Java\r\npackage misc.util;\r\n\r\npublic class Closer {\r\n\r\n    public static void closedown(final AutoCloseable... objects) {\r\n        if (objects != null) {\r\n            for (AutoCloseable o : objects) {\r\n                try {\r\n                    if (o != null) {\r\n                        o.close();\r\n                    }\r\n                } catch (Exception e) {\r\n                    System.err.println(&quot;Unexpected error when trying to close object: &#39;&quot; + o.toString() + &quot;&#39;.&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public static java.sql.Connection getConnection() { return null; }\r\n}\r\n```\r\n\r\nAnd this &quot;main&quot; class:\r\n\r\n```Java\r\npackage misc.demo;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\n\r\nimport static misc.util.Closer.closedown;\r\nimport static misc.util.Closer.getConnection;\r\n\r\npublic class Example {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        PreparedStatement ps = null;\r\n        ResultSet         rs = null;\r\n\r\n        try (Connection conn = getConnection();) { // Eclipse doesn&#39;t notice a null object is coming (doesn&#39;t matter for our purposes now).\r\n\r\n            ps = conn.prepareStatement(&quot;select &#39;a&#39; from dual&quot;);\r\n            rs = ps.executeQuery();\r\n\r\n            ps = conn.prepareStatement(&quot;select &#39;b&#39; from dual&quot;); // Warning: &quot;Resource leak: &#39;ps&#39; is not closed at this location&quot;\r\n            rs = ps.executeQuery();\r\n\r\n            closedown(rs, ps);\r\n            ps = conn.prepareStatement(&quot;select &#39;c&#39; from dual&quot;); // Info: &quot;Potential resource leak: &#39;ps&#39; may not be closed at this location&quot;\r\n            rs = ps.executeQuery(); // &#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183; // Info: &quot;Potential resource leak: &#39;rs&#39; may not be closed at this location&quot;\r\n\r\n            if (rs != null) {\r\n                rs.close();\r\n            }\r\n            if (ps != null) {\r\n                ps.close();\r\n            }\r\n            ps = conn.prepareStatement(&quot;select &#39;d&#39; from dual&quot;); // Eclipse knows everything is fine here (unlike above).\r\n            rs = ps.executeQuery(); // &#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183;&#183; // Eclipse knows everything is fine here (unlike above).\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            closedown(rs, ps);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nEclipse identifies a _bona fide_ resource leak in the &quot;select &#39;b&#39;&quot; line (one that should not be suppressed!).\r\n\r\nEclipse also identifies two **potential** leaks in the &quot;select &#39;c&#39;&quot; lines, which just add noise, as we know closedown() already deals with them. It&#39;s these last two &quot;info&quot; messages I want to get rid of; one way of doing it would be to tell that to Eclipse, by adding the @WillClose annotation (if it existed... but it doesn&#39;t).\r\n","title":"Can JSR 305&#39;s &quot;@WillClose&quot; (et al) annotation, or one to the same effect, be implemented in/for Eclipse?","body":"<p><strong>tl;dr</strong>: I want to tell Eclipse that my auxiliary method <code>closedown(AutoCloseable... aaa)</code> DOES in fact close all the AutoCloseable objects it's given.</p>\n<p>On to the details:</p>\n<p>I inherited a set of large Java applications with an ungodly amount of poorly written DAO classes. Far too many methods do a long sequence of SELECT/INSERT/UPDATE queries, reusing the PreparedStatement and ResultSet objects and whatnot, <em>sometimes</em> closing the resources before reusing them again; Eclipse produced hundreds of &quot;Resource leak: 'rs' is not closed at this location&quot; warnings.</p>\n<p>As part of the code purification process, and to make cleansing easier, I wrote an auxiliary method <code>closedown(AutoCloseable... aaa)</code> that simply does an <code>if (a!=null) a.close();</code> for each given object; this one-liner can then be easily inserted before any <code>conn.prepareStatement()</code> call and whatnot...</p>\n<p>... but now Eclipse produces almost as many &quot;Potential resource leak: 'ps' may not be closed at this location&quot; spurious info messages. I <em>am</em> placing the closedown() calls correctly (including in a finally block for each and every one of the try block in those classes), so the problem is simply that Eclipse that can not tell from its own source code analysis that things are fine.</p>\n<p>These applications run on Java 7 (migrating to Java 8 is finally underway). This means I can use try-with-resources, BUT... the high amount of reuse of Statement, PreparedStatement and ResultSet objects make that tactic viable only for Connection objects. I don't want to use the @SuppressWarnings tag for the obvious reason. Instead, I would like to be able to tell Eclipse that the AutoCloseable objects sent to closedown() are indeed closed, so Eclipse will know to not produce those spurious messages.</p>\n<p>Turns out that JSR 305 ended up dead, and yet, something like <code>@WillClose</code> would be a good fit for what I need (and <code>@WillNotClose</code> for handling certain Connection parameters!). So, how can this annotation be implemented on Eclipse?</p>\n<p></p>\n<p>EDIT: As requested by howlger, this is a minimal reproducible example. Consider this utility class:</p>\n<pre><code>package misc.util;\n\npublic class Closer {\n\n    public static void closedown(final AutoCloseable... objects) {\n        if (objects != null) {\n            for (AutoCloseable o : objects) {\n                try {\n                    if (o != null) {\n                        o.close();\n                    }\n                } catch (Exception e) {\n                    System.err.println(&quot;Unexpected error when trying to close object: '&quot; + o.toString() + &quot;'.&quot;);\n                }\n            }\n        }\n    }\n\n\n    public static java.sql.Connection getConnection() { return null; }\n}\n</code></pre>\n<p>And this &quot;main&quot; class:</p>\n<pre><code>package misc.demo;\n\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\n\nimport static misc.util.Closer.closedown;\nimport static misc.util.Closer.getConnection;\n\npublic class Example {\n\n    public static void main(String[] args) {\n\n        PreparedStatement ps = null;\n        ResultSet         rs = null;\n\n        try (Connection conn = getConnection();) { // Eclipse doesn't notice a null object is coming (doesn't matter for our purposes now).\n\n            ps = conn.prepareStatement(&quot;select 'a' from dual&quot;);\n            rs = ps.executeQuery();\n\n            ps = conn.prepareStatement(&quot;select 'b' from dual&quot;); // Warning: &quot;Resource leak: 'ps' is not closed at this location&quot;\n            rs = ps.executeQuery();\n\n            closedown(rs, ps);\n            ps = conn.prepareStatement(&quot;select 'c' from dual&quot;); // Info: &quot;Potential resource leak: 'ps' may not be closed at this location&quot;\n            rs = ps.executeQuery(); //  // Info: &quot;Potential resource leak: 'rs' may not be closed at this location&quot;\n\n            if (rs != null) {\n                rs.close();\n            }\n            if (ps != null) {\n                ps.close();\n            }\n            ps = conn.prepareStatement(&quot;select 'd' from dual&quot;); // Eclipse knows everything is fine here (unlike above).\n            rs = ps.executeQuery(); //  // Eclipse knows everything is fine here (unlike above).\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            closedown(rs, ps);\n        }\n    }\n}\n</code></pre>\n<p>Eclipse identifies a <em>bona fide</em> resource leak in the &quot;select 'b'&quot; line (one that should not be suppressed!).</p>\n<p>Eclipse also identifies two <strong>potential</strong> leaks in the &quot;select 'c'&quot; lines, which just add noise, as we know closedown() already deals with them. It's these last two &quot;info&quot; messages I want to get rid of; one way of doing it would be to tell that to Eclipse, by adding the @WillClose annotation (if it existed... but it doesn't).</p>\n"},{"tags":["java","linux","multithreading","blocking"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678896683,"post_id":75746780,"comment_id":133623090,"body_markdown":"Assuming DB calls means JDBC method calls, yes, they all behave as blocking calls.  If your thread pool has 15 threads, and only 4 threads are occupied with long-running tasks, its safe to assume any additional shorter tasks will not be held up.","body":"Assuming DB calls means JDBC method calls, yes, they all behave as blocking calls.  If your thread pool has 15 threads, and only 4 threads are occupied with long-running tasks, its safe to assume any additional shorter tasks will not be held up."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678899706,"post_id":75746780,"comment_id":133624074,"body_markdown":"@VGR On a 4 core box?","body":"@VGR On a 4 core box?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678899884,"post_id":75746780,"comment_id":133624132,"body_markdown":"@BasilBourque Im not certain, but I believe the JVM can create artificial (virtual) threads to exceed the hardware limit.  The most recent [Thread javadoc](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Thread.html) talks about this.","body":"@BasilBourque Im not certain, but I believe the JVM can create artificial (virtual) threads to exceed the hardware limit.  The most recent <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Thread.html\" rel=\"nofollow noreferrer\">Thread javadoc</a> talks about this."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678901071,"post_id":75746780,"comment_id":133624468,"body_markdown":"@VGR Virtual threads are a preview feature, ***not* enabled by default**. Part of the [Project Loom](https://wiki.openjdk.org/display/loom/Main) feature set being incubated and previewed through Java 20.","body":"@VGR Virtual threads are a preview feature, <b><i>not</i> enabled by default</b>. Part of the <a href=\"https://wiki.openjdk.org/display/loom/Main\" rel=\"nofollow noreferrer\">Project Loom</a> feature set being incubated and previewed through Java 20."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680116616,"creation_date":1678900214,"answer_id":75747995,"question_id":75746780,"body_markdown":"&gt; are the DB calls similar to Blocking I/O\r\n\r\nYes, calls involving [JDBC][1] block, thereby pausing the host [OS][2] thread underlying a Java [thread][3]. At least currently, in Java 11, and in Java 17 &amp; 20. \r\n\r\nThis fact may change if [*Project Loom*][4] succeeds. \r\n\r\n\r\n&gt; when new Callables are submitted and assigned threads will those threads start running while the other threads are waiting on the DB calls to return, or will they be queued?\r\n\r\nIf all of the threads in the thread pool backing your executor service are blocked, or are otherwise busy/occupied, pending tasks are queued as are any more submitted tasks. This queueing is the main job of an executor service. \r\n\r\nAgain, *Project Loom* with its [virtual threads][5] (technically, [fibers][6]) aims to alter this situation. \r\n\r\n&gt; Server is a 4 Core Intel (no hyperthreading)  a maxSize of 15 Threads\r\n\r\nDo you suspect your shorter simply calls are piling up behind your long blocking database calls that hog all the threads? Like some small fast commuter cars stuck behind a convoy of big slow [semi-trailer trucks][7] on a highway? \r\n\r\nIf so, consider instantiating *two* [executor services][8].\r\n\r\n - Dedicate one executor service to the long-blocking database calls (the big slow semi-trailer trucks).\r\n - Dedicate the other executor service as an express lane for all the other shorter simpler calls (the small fast commuter cars).\r\n\r\n\r\n----------\r\n\r\n\r\nLet me stress that future readers of this Answer should check for updates on the progress of *Project Loom* after [Java 20][9]. The calculus of how to manage threading will change dramatically.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Database_Connectivity\r\n  [2]: https://en.wikipedia.org/wiki/Operating_system\r\n  [3]: https://en.wikipedia.org/wiki/Thread_(computing)\r\n  [4]: https://wiki.openjdk.org/display/loom/Main\r\n  [5]: https://openjdk.org/jeps/436\r\n  [6]: https://en.wikipedia.org/wiki/Fiber_(computer_science)\r\n  [7]: https://en.wikipedia.org/wiki/Semi-trailer_truck\r\n  [8]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n  [9]: https://en.wikipedia.org/wiki/Java_version_history#Java_20","title":"Java Threads, Blocking I/O, and Scheduling","body":"<blockquote>\n<p>are the DB calls similar to Blocking I/O</p>\n</blockquote>\n<p>Yes, calls involving <a href=\"https://en.wikipedia.org/wiki/Java_Database_Connectivity\" rel=\"nofollow noreferrer\">JDBC</a> block, thereby pausing the host <a href=\"https://en.wikipedia.org/wiki/Operating_system\" rel=\"nofollow noreferrer\">OS</a> thread underlying a Java <a href=\"https://en.wikipedia.org/wiki/Thread_(computing)\" rel=\"nofollow noreferrer\">thread</a>. At least currently, in Java 11, and in Java 17 &amp; 20.</p>\n<p>This fact may change if <a href=\"https://wiki.openjdk.org/display/loom/Main\" rel=\"nofollow noreferrer\"><em>Project Loom</em></a> succeeds.</p>\n<blockquote>\n<p>when new Callables are submitted and assigned threads will those threads start running while the other threads are waiting on the DB calls to return, or will they be queued?</p>\n</blockquote>\n<p>If all of the threads in the thread pool backing your executor service are blocked, or are otherwise busy/occupied, pending tasks are queued as are any more submitted tasks. This queueing is the main job of an executor service.</p>\n<p>Again, <em>Project Loom</em> with its <a href=\"https://openjdk.org/jeps/436\" rel=\"nofollow noreferrer\">virtual threads</a> (technically, <a href=\"https://en.wikipedia.org/wiki/Fiber_(computer_science)\" rel=\"nofollow noreferrer\">fibers</a>) aims to alter this situation.</p>\n<blockquote>\n<p>Server is a 4 Core Intel (no hyperthreading)  a maxSize of 15 Threads</p>\n</blockquote>\n<p>Do you suspect your shorter simply calls are piling up behind your long blocking database calls that hog all the threads? Like some small fast commuter cars stuck behind a convoy of big slow <a href=\"https://en.wikipedia.org/wiki/Semi-trailer_truck\" rel=\"nofollow noreferrer\">semi-trailer trucks</a> on a highway?</p>\n<p>If so, consider instantiating <em>two</em> <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">executor services</a>.</p>\n<ul>\n<li>Dedicate one executor service to the long-blocking database calls (the big slow semi-trailer trucks).</li>\n<li>Dedicate the other executor service as an express lane for all the other shorter simpler calls (the small fast commuter cars).</li>\n</ul>\n<hr />\n<p>Let me stress that future readers of this Answer should check for updates on the progress of <em>Project Loom</em> after <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_20\" rel=\"nofollow noreferrer\">Java 20</a>. The calculus of how to manage threading will change dramatically.</p>\n"}],"owner":{"account_id":26389,"reputation":9697,"user_id":68612,"accept_rate":81,"display_name":"Gandalf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75747995,"answer_count":1,"score":0,"last_activity_date":1680116616,"creation_date":1678893851,"question_id":75746780,"body_markdown":"*The Scenario below is simplified*\r\n\r\nServer is a 4 Core Intel (no hyperthreading) Linux Server, Java 11 Server 64 VM. We have a ThreadPoolExecutor with a maxSize of 15 Threads.\r\n\r\nOne method using the Executor submits 4 Callables that do long running database calls, another method uses the Executor to submit 10 more that do very fast calculations.  The first 4 Threads get CPU time and then Block awaiting queries to return.  My question is two fold - are the DB calls similar to Blocking I/O and when new Callables are submitted and assigned threads will those threads start running while the other threads are waiting on the DB calls to return, or will they be queued?  I know there are many variables I am not covering here, point them out if they are pertinent, but I think the base question is pretty clear. ","title":"Java Threads, Blocking I/O, and Scheduling","body":"<p><em>The Scenario below is simplified</em></p>\n<p>Server is a 4 Core Intel (no hyperthreading) Linux Server, Java 11 Server 64 VM. We have a ThreadPoolExecutor with a maxSize of 15 Threads.</p>\n<p>One method using the Executor submits 4 Callables that do long running database calls, another method uses the Executor to submit 10 more that do very fast calculations.  The first 4 Threads get CPU time and then Block awaiting queries to return.  My question is two fold - are the DB calls similar to Blocking I/O and when new Callables are submitted and assigned threads will those threads start running while the other threads are waiting on the DB calls to return, or will they be queued?  I know there are many variables I am not covering here, point them out if they are pertinent, but I think the base question is pretty clear.</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680116432,"creation_date":1680116432,"answer_id":75881179,"question_id":75880553,"body_markdown":"Check [the documentation](https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.mapping.meta-model.annotations) for the `@Field` annotation, it has a `name` parameter:\r\n\r\n```java\r\n@Field(name = &quot;@timestamp&quot;, type = FieldType.Date)\r\n```\r\n","title":"Field @timestamp using Spring Data ElasticSearch","body":"<p>Check <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.mapping.meta-model.annotations\" rel=\"nofollow noreferrer\">the documentation</a> for the <code>@Field</code> annotation, it has a <code>name</code> parameter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Field(name = &quot;@timestamp&quot;, type = FieldType.Date)\n</code></pre>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":601,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75881179,"answer_count":1,"score":0,"last_activity_date":1680116432,"creation_date":1680112191,"question_id":75880553,"body_markdown":"What I am trying to achieve:\r\n\r\n- insert document in ElasticSearch using Reactive Spring Data ElasticSearch with a field ```@timestamp``` (note the &quot;at&quot; @ sign for timestamp, it is ```@timestamp```, not just timestamp).\r\n\r\nWhat I tried:\r\n\r\n```\r\n@Repository\r\npublic interface ElasticRepository extends ReactiveCrudRepository&lt;ElasticPojo, String&gt; {\r\n\r\n}\r\n```\r\n\r\n```\r\n@Document(indexName = &quot;theindex&quot;)\r\npublic class ElasticPojo {\r\n\r\n    @Field(type = FieldType.Date)\r\n    private long timestamp;\r\n\r\n    @Id\r\n    private String id;\r\n\r\n```\r\n\r\nIssue:\r\n\r\nThis will insert a ```timestamp``` field inside ElasticSearch, not ```@timestamp```\r\n\r\nHow to insert a field ```@timestamp```?","title":"Field @timestamp using Spring Data ElasticSearch","body":"<p>What I am trying to achieve:</p>\n<ul>\n<li>insert document in ElasticSearch using Reactive Spring Data ElasticSearch with a field <code>@timestamp</code> (note the &quot;at&quot; @ sign for timestamp, it is <code>@timestamp</code>, not just timestamp).</li>\n</ul>\n<p>What I tried:</p>\n<pre><code>@Repository\npublic interface ElasticRepository extends ReactiveCrudRepository&lt;ElasticPojo, String&gt; {\n\n}\n</code></pre>\n<pre><code>@Document(indexName = &quot;theindex&quot;)\npublic class ElasticPojo {\n\n    @Field(type = FieldType.Date)\n    private long timestamp;\n\n    @Id\n    private String id;\n\n</code></pre>\n<p>Issue:</p>\n<p>This will insert a <code>timestamp</code> field inside ElasticSearch, not <code>@timestamp</code></p>\n<p>How to insert a field <code>@timestamp</code>?</p>\n"},{"tags":["java","amazon-s3","apache-flink"],"owner":{"account_id":15580762,"reputation":132,"user_id":11240620,"display_name":"codeSeeker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680115996,"creation_date":1680115996,"question_id":75881120,"body_markdown":"I have a flink project which reads files from s3 path\r\n```\r\nPath[] paths = s3BucketInfoList.stream().map(appendBucketNameAndPath()).toArray(Path[]::new);\r\nFileSource&lt;String&gt; fileSource = FileSource.forRecordStreamFormat(new TextLineInputFormat(), paths).build();\r\nreturn execEnv.fromSource(fileSource, WatermarkStrategy.noWatermarks(), &quot;file-input&quot;);\r\n```\r\nwhen I run this code it fails with below exception if its a huge amount of files, The same code is working fine when it runs with less number of files.\r\n```\r\n2023-03-29 13:47:58,354 [INFO] org.apache.flink.runtime.jobmaster.JobMaster                 [] - Starting execution of job &#39;project-flink&#39; (000000006e6b13320000000000000000) under job master id b243c2a5cb802073447c8ce200d3441d.\r\n2023-03-29 13:47:58,357 [INFO] org.apache.flink.runtime.source.coordinator.SourceCoordinator [] - Starting split enumerator for source Source: parse-input.\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.jboss.netty.util.internal.ByteBufferUtil (file:/tmp/flink-rpc-akka_c077d9de-ac44-4cd4-b63b-38483c61102a.jar) to method java.nio.DirectByteBuffer.cleaner()\r\nWARNING: Please consider reporting this to the maintainers of org.jboss.netty.util.internal.ByteBufferUtil\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n2023-03-29 13:48:57,882 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering TaskManager with ResourceID 1xx.1xx.xx.xxx:xxxx-fc14fd (akka.tcp://flink@1xx.xxx.xx.xxx:xxxx/user/rpc/taskmanager_0) at ResourceManager\r\n2023-03-29 13:48:57,886 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering TaskManager with ResourceID 1xx.xxx.xx.xxx:xxxx-23dfb8 (akka.tcp://flink@xxx.xxx.xx.xxx:xxxx/user/rpc/taskmanager_0) at ResourceManager\r\n2023-03-29 13:48:57,887 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering TaskManager with ResourceID 1xx.xx.x.xxx:xxxx-4fdc8e (akka.tcp://flink@xxx.xx.x.xxx:xxxx/user/rpc/taskmanager_0) at ResourceManager\r\n2023-03-29 13:48:57,889 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering TaskManager with ResourceID 1xx.xx.xx.xxx:xxxx-cae189 (akka.tcp://flink@1xx.xxx.xx.xxx:xxxx/user/rpc/taskmanager_0) at ResourceManager\r\n2023-03-29 13:56:18,441 [ERROR] com.flink.project [] - Exception \r\njava.util.concurrent.ExecutionException: java.util.concurrent.TimeoutException: Invocation of [LocalRpcInvocation(RestfulGateway.requestJobStatus(JobID, Time))] at recipient [akka.tcp://flink@project-flink-jobmanager:6123/user/rpc/dispatcher_1] timed out. This is usually caused by: 1) Akka failed sending the message silently, due to problems like oversized payload or serialization failures. In that case, you should find detailed error information in the logs. 2) The recipient needs more time for responding, due to problems like slow machines or network jitters. In that case, you can try to increase akka.ask.timeout.\r\n\tat java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395) ~[?:?]\r\n\tat java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999) ~[?:?]\r\n\tat org.apache.flink.client.program.StreamContextEnvironment.getJobExecutionResult(StreamContextEnvironment.java:191) ~[job.jar:1.0-SNAPSHOT]\r\n\tat org.apache.flink.client.program.StreamContextEnvironment.execute(StreamContextEnvironment.java:148) ~[job.jar:1.0-SNAPSHOT]\r\n\tat org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.execute(StreamExecutionEnvironment.java:2049) ~[job.jar:1.0-SNAPSHOT]\r\n\tat com.flink.project.methodname(ClassName.java:94) ~[job.jar:1.0-SNAPSHOT]\r\n\tat com.flink.project.main(ClassName.java:66) ~[job.jar:1.0-SNAPSHOT]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n\tat org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:355) ~[job.jar:1.0-SNAPSHOT]\r\n\tat org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:222) ~[job.jar:1.0-SNAPSHOT]\r\n\tat org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:98) ~[job.jar:1.0-SNAPSHOT]\r\n\tat org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.runApplicationEntryPoint(ApplicationDispatcherBootstrap.java:301) ~[job.jar:1.0-SNAPSHOT]\r\n\tat org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.lambda$runApplicationAsync$2(ApplicationDispatcherBootstrap.java:254) ~[job.jar:1.0-SNAPSHOT]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[?:?]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]\r\n\tat org.apache.flink.runtime.concurrent.akka.ActorSystemScheduledExecutorAdapter$ScheduledFutureTask.run(ActorSystemScheduledExecutorAdapter.java:171) ~[?:?]\r\n\tat org.apache.flink.runtime.concurrent.akka.ClassLoadingUtils.runWithContextClassLoader(ClassLoadingUtils.java:68) ~[?:?]\r\n\tat org.apache.flink.runtime.concurrent.akka.ClassLoadingUtils.lambda$withContextClassLoader$0(ClassLoadingUtils.java:41) ~[?:?]\r\n\tat akka.dispatch.TaskInvocation.run(AbstractDispatcher.scala:49) ~[?:?]\r\n\tat akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinTask.exec(ForkJoinExecutorConfigurator.scala:48) ~[?:?]\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290) ~[?:?]\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020) ~[?:?]\r\n\tat java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656) ~[?:?]\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594) ~[?:?]\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183) ~[?:?]\r\nCaused by: java.util.concurrent.TimeoutException: Invocation of [LocalRpcInvocation(RestfulGateway.requestJobStatus(JobID, Time))] at recipient [akka.tcp://flink@project-flink-jobmanager:6123/user/rpc/dispatcher_1] timed out. This is usually caused by: 1) Akka failed sending the message silently, due to problems like oversized payload or serialization failures. In that case, you should find detailed error information in the logs. 2) The recipient needs more time for responding, due to problems like slow machines or network jitters. In that case, you can try to increase akka.ask.timeout.\r\n\tat org.apache.flink.runtime.rpc.akka.$Proxy49.requestJobStatus(Unknown Source) ~[?:?]\r\n\tat org.apache.flink.client.deployment.application.JobStatusPollingUtils.lambda$getJobResult$0(JobStatusPollingUtils.java:57) ~[job.jar:1.0-SNAPSHOT]\r\n\tat org.apache.flink.client.deployment.application.JobStatusPollingUtils.pollJobResultAsync(JobStatusPollingUtils.java:87) ~[job.jar:1.0-SNAPSHOT]\r\n\tat org.apache.flink.client.deployment.application.JobStatusPollingUtils.lambda$null$3(JobStatusPollingUtils.java:107) ~[job.jar:1.0-SNAPSHOT]\r\n\t... 12 more\r\nCaused by: akka.pattern.AskTimeoutException: Ask timed out on [Actor[akka://flink/user/rpc/dispatcher_1#-491464203]] after [500000 ms]. Message of type [org.apache.flink.runtime.rpc.messages.LocalFencedMessage]. A typical reason for `AskTimeoutException` is that the recipient actor didn&#39;t send a reply.\r\n2023-03-29 13:56:18,443 [INFO] com.flink.project           [] - Total Time Taken by Dispute Log Pipeline [500345]\r\n2023-03-29 14:01:07,050 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Closing TaskExecutor connection xxx.xx.x.xxx:xxxx-4fdc8e because: The TaskExecutor is shutting down.\r\n2023-03-29 14:01:07,052 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Closing TaskExecutor connection xxx.xx.x.xxx:xxxx-33c819 because: The TaskExecutor is shutting down.\r\n2023-03-29 14:01:07,053 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Closing TaskExecutor connection xxx.xx.x.xxx:xxxx-16a88f because: The TaskExecutor is shutting down.\r\n2023-03-29 14:01:07,128 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Closing TaskExecutor connection xxx.xx.x.xxx:xxxx-523c7b because: The TaskExecutor is shutting down.\r\n2023-03-29 14:01:07,192 [INFO] org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.\r\n2023-03-29 14:01:07,193 [INFO] org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - Shutting StandaloneApplicationClusterEntryPoint down with application status UNKNOWN. Diagnostics Cluster entrypoint has been closed externally..\r\n```\r\n\r\nTask managers doesn&#39;t have any error, it shows\r\n&quot;Successful registration at resource manager&quot;\r\nAnd flink dashboard not even showing running jobs, seems like job is not even starts reading.\r\n\r\nThere is a flink issue https://issues.apache.org/jira/browse/FLINK-11143\r\n\r\nI can see there they are suggesting \r\n\r\n&quot;Job submission timeout is caused by listing too many files in S3\r\nduring env.readFile call to create input DataSet.&quot;\r\n\r\nAnd the method(FileSource.forRecordStreamFormat(...)) I used is an alternative for readTextFile(), So how I&#39;m supposed to handle this and make it run successfully?\r\n\r\nIs this only the reason or anything else? Because I tried increasing client timeout, akka timeout etc. but that is not helping. Any other ways?\r\n\r\n","title":"Flink job gives an error &quot;A typical reason for `AskTimeoutException` is that the recipient actor didn&#39;t send a reply.&quot;","body":"<p>I have a flink project which reads files from s3 path</p>\n<pre><code>Path[] paths = s3BucketInfoList.stream().map(appendBucketNameAndPath()).toArray(Path[]::new);\nFileSource&lt;String&gt; fileSource = FileSource.forRecordStreamFormat(new TextLineInputFormat(), paths).build();\nreturn execEnv.fromSource(fileSource, WatermarkStrategy.noWatermarks(), &quot;file-input&quot;);\n</code></pre>\n<p>when I run this code it fails with below exception if its a huge amount of files, The same code is working fine when it runs with less number of files.</p>\n<pre><code>2023-03-29 13:47:58,354 [INFO] org.apache.flink.runtime.jobmaster.JobMaster                 [] - Starting execution of job 'project-flink' (000000006e6b13320000000000000000) under job master id b243c2a5cb802073447c8ce200d3441d.\n2023-03-29 13:47:58,357 [INFO] org.apache.flink.runtime.source.coordinator.SourceCoordinator [] - Starting split enumerator for source Source: parse-input.\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.jboss.netty.util.internal.ByteBufferUtil (file:/tmp/flink-rpc-akka_c077d9de-ac44-4cd4-b63b-38483c61102a.jar) to method java.nio.DirectByteBuffer.cleaner()\nWARNING: Please consider reporting this to the maintainers of org.jboss.netty.util.internal.ByteBufferUtil\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n2023-03-29 13:48:57,882 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering TaskManager with ResourceID 1xx.1xx.xx.xxx:xxxx-fc14fd (akka.tcp://flink@1xx.xxx.xx.xxx:xxxx/user/rpc/taskmanager_0) at ResourceManager\n2023-03-29 13:48:57,886 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering TaskManager with ResourceID 1xx.xxx.xx.xxx:xxxx-23dfb8 (akka.tcp://flink@xxx.xxx.xx.xxx:xxxx/user/rpc/taskmanager_0) at ResourceManager\n2023-03-29 13:48:57,887 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering TaskManager with ResourceID 1xx.xx.x.xxx:xxxx-4fdc8e (akka.tcp://flink@xxx.xx.x.xxx:xxxx/user/rpc/taskmanager_0) at ResourceManager\n2023-03-29 13:48:57,889 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering TaskManager with ResourceID 1xx.xx.xx.xxx:xxxx-cae189 (akka.tcp://flink@1xx.xxx.xx.xxx:xxxx/user/rpc/taskmanager_0) at ResourceManager\n2023-03-29 13:56:18,441 [ERROR] com.flink.project [] - Exception \njava.util.concurrent.ExecutionException: java.util.concurrent.TimeoutException: Invocation of [LocalRpcInvocation(RestfulGateway.requestJobStatus(JobID, Time))] at recipient [akka.tcp://flink@project-flink-jobmanager:6123/user/rpc/dispatcher_1] timed out. This is usually caused by: 1) Akka failed sending the message silently, due to problems like oversized payload or serialization failures. In that case, you should find detailed error information in the logs. 2) The recipient needs more time for responding, due to problems like slow machines or network jitters. In that case, you can try to increase akka.ask.timeout.\n    at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395) ~[?:?]\n    at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999) ~[?:?]\n    at org.apache.flink.client.program.StreamContextEnvironment.getJobExecutionResult(StreamContextEnvironment.java:191) ~[job.jar:1.0-SNAPSHOT]\n    at org.apache.flink.client.program.StreamContextEnvironment.execute(StreamContextEnvironment.java:148) ~[job.jar:1.0-SNAPSHOT]\n    at org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.execute(StreamExecutionEnvironment.java:2049) ~[job.jar:1.0-SNAPSHOT]\n    at com.flink.project.methodname(ClassName.java:94) ~[job.jar:1.0-SNAPSHOT]\n    at com.flink.project.main(ClassName.java:66) ~[job.jar:1.0-SNAPSHOT]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n    at org.apache.flink.client.program.PackagedProgram.callMainMethod(PackagedProgram.java:355) ~[job.jar:1.0-SNAPSHOT]\n    at org.apache.flink.client.program.PackagedProgram.invokeInteractiveModeForExecution(PackagedProgram.java:222) ~[job.jar:1.0-SNAPSHOT]\n    at org.apache.flink.client.ClientUtils.executeProgram(ClientUtils.java:98) ~[job.jar:1.0-SNAPSHOT]\n    at org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.runApplicationEntryPoint(ApplicationDispatcherBootstrap.java:301) ~[job.jar:1.0-SNAPSHOT]\n    at org.apache.flink.client.deployment.application.ApplicationDispatcherBootstrap.lambda$runApplicationAsync$2(ApplicationDispatcherBootstrap.java:254) ~[job.jar:1.0-SNAPSHOT]\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[?:?]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]\n    at org.apache.flink.runtime.concurrent.akka.ActorSystemScheduledExecutorAdapter$ScheduledFutureTask.run(ActorSystemScheduledExecutorAdapter.java:171) ~[?:?]\n    at org.apache.flink.runtime.concurrent.akka.ClassLoadingUtils.runWithContextClassLoader(ClassLoadingUtils.java:68) ~[?:?]\n    at org.apache.flink.runtime.concurrent.akka.ClassLoadingUtils.lambda$withContextClassLoader$0(ClassLoadingUtils.java:41) ~[?:?]\n    at akka.dispatch.TaskInvocation.run(AbstractDispatcher.scala:49) ~[?:?]\n    at akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinTask.exec(ForkJoinExecutorConfigurator.scala:48) ~[?:?]\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:290) ~[?:?]\n    at java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020) ~[?:?]\n    at java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656) ~[?:?]\n    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594) ~[?:?]\n    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183) ~[?:?]\nCaused by: java.util.concurrent.TimeoutException: Invocation of [LocalRpcInvocation(RestfulGateway.requestJobStatus(JobID, Time))] at recipient [akka.tcp://flink@project-flink-jobmanager:6123/user/rpc/dispatcher_1] timed out. This is usually caused by: 1) Akka failed sending the message silently, due to problems like oversized payload or serialization failures. In that case, you should find detailed error information in the logs. 2) The recipient needs more time for responding, due to problems like slow machines or network jitters. In that case, you can try to increase akka.ask.timeout.\n    at org.apache.flink.runtime.rpc.akka.$Proxy49.requestJobStatus(Unknown Source) ~[?:?]\n    at org.apache.flink.client.deployment.application.JobStatusPollingUtils.lambda$getJobResult$0(JobStatusPollingUtils.java:57) ~[job.jar:1.0-SNAPSHOT]\n    at org.apache.flink.client.deployment.application.JobStatusPollingUtils.pollJobResultAsync(JobStatusPollingUtils.java:87) ~[job.jar:1.0-SNAPSHOT]\n    at org.apache.flink.client.deployment.application.JobStatusPollingUtils.lambda$null$3(JobStatusPollingUtils.java:107) ~[job.jar:1.0-SNAPSHOT]\n    ... 12 more\nCaused by: akka.pattern.AskTimeoutException: Ask timed out on [Actor[akka://flink/user/rpc/dispatcher_1#-491464203]] after [500000 ms]. Message of type [org.apache.flink.runtime.rpc.messages.LocalFencedMessage]. A typical reason for `AskTimeoutException` is that the recipient actor didn't send a reply.\n2023-03-29 13:56:18,443 [INFO] com.flink.project           [] - Total Time Taken by Dispute Log Pipeline [500345]\n2023-03-29 14:01:07,050 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Closing TaskExecutor connection xxx.xx.x.xxx:xxxx-4fdc8e because: The TaskExecutor is shutting down.\n2023-03-29 14:01:07,052 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Closing TaskExecutor connection xxx.xx.x.xxx:xxxx-33c819 because: The TaskExecutor is shutting down.\n2023-03-29 14:01:07,053 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Closing TaskExecutor connection xxx.xx.x.xxx:xxxx-16a88f because: The TaskExecutor is shutting down.\n2023-03-29 14:01:07,128 [INFO] org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Closing TaskExecutor connection xxx.xx.x.xxx:xxxx-523c7b because: The TaskExecutor is shutting down.\n2023-03-29 14:01:07,192 [INFO] org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - RECEIVED SIGNAL 15: SIGTERM. Shutting down as requested.\n2023-03-29 14:01:07,193 [INFO] org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - Shutting StandaloneApplicationClusterEntryPoint down with application status UNKNOWN. Diagnostics Cluster entrypoint has been closed externally..\n</code></pre>\n<p>Task managers doesn't have any error, it shows\n&quot;Successful registration at resource manager&quot;\nAnd flink dashboard not even showing running jobs, seems like job is not even starts reading.</p>\n<p>There is a flink issue <a href=\"https://issues.apache.org/jira/browse/FLINK-11143\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/FLINK-11143</a></p>\n<p>I can see there they are suggesting</p>\n<p>&quot;Job submission timeout is caused by listing too many files in S3\nduring env.readFile call to create input DataSet.&quot;</p>\n<p>And the method(FileSource.forRecordStreamFormat(...)) I used is an alternative for readTextFile(), So how I'm supposed to handle this and make it run successfully?</p>\n<p>Is this only the reason or anything else? Because I tried increasing client timeout, akka timeout etc. but that is not helping. Any other ways?</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1680116201,"post_id":75881094,"comment_id":133844707,"body_markdown":"There are no obvious problems here.  If that&#39;s really all the relevant code, that might be a bug in one of the components you&#39;re using.  If you&#39;re on the latest versions of all of those components, filing a bug with a [mre] might be helpful.","body":"There are no obvious problems here.  If that&#39;s really all the relevant code, that might be a bug in one of the components you&#39;re using.  If you&#39;re on the latest versions of all of those components, filing a bug with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> might be helpful."}],"owner":{"account_id":28130100,"reputation":1,"user_id":21494843,"display_name":"Saket Sourav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680115926,"creation_date":1680115869,"question_id":75881094,"body_markdown":"when i go to another activity and without doing anything and come back to previous activity the app crashes the below given error will occurred .i have same project but that was build 2 years before and that project will working properly but when i moved that project to new project the error will occurred\r\n```\r\n\r\n`E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.loganbeast.pdf, PID: 5560\r\n    java.lang.IndexOutOfBoundsException: Inconsistency detected. Invalid view holder adapter positionmyviewholder{de30495 position=5 id=-1, oldPos=0, pLpos:0 scrap [attachedScrap] tmpDetached no parent} androidx.recyclerview.widget.RecyclerView{21e5fd2 VFED..... ......I. 0,0-1080,2100 #7f080168 app:id/recview}, adapter:com.loganbeast.pdf.myadapter@37563a8, layout:androidx.recyclerview.widget.LinearLayoutManager@68cf8a3, context:com.loganbeast.pdf.MainActivity@5952061\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.validateViewHolderForOffsetPosition(RecyclerView.java:6544)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6727)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6688)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6684)\r\n        at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2362)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1662)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1622)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:687)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep1(RecyclerView.java:4550)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:4305)\r\n        at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4873)\r\n        at android.view.View.layout(View.java:23550)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\r\n        at androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1873)\r\n        at android.view.View.layout(View.java:23550)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\r\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n        at android.view.View.layout(View.java:23550)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\r\n        at androidx.appcompat.widget.ActionBarOverlayLayout.onLayout(ActionBarOverlayLayout.java:536)\r\n        at android.view.View.layout(View.java:23550)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\r\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n        at android.view.View.layout(View.java:23550)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\r\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\r\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\r\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\r\n        at android.view.View.layout(View.java:23550)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\r\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n        at com.android.internal.policy.DecorView.onLayout(DecorView.java:868)\r\n        at android.view.View.layout(View.java:23550)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\r\n        at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:3858)\r\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:3308)\r\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:2272)\r\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8999)\r\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1160)\r\n        at android.view.Choreographer.doCallbacks(Choreographer.java:950)\r\n        at android.view.Choreographer.doFrame(Choreographer.java:879)\r\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1142)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loopOnce(Looper.java:210)\r\n        at android.os.Looper.loop(Looper.java:299)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8319)\r\nE/AndroidRuntime:     at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1038)`\r\n*\r\n```\r\n*\r\nmain Activity code**\r\ni think the error is in this activity . if anyone can solve my error then please help me\r\n```\r\n`\r\npackage com.loganbeast.pdf;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.view.WindowManager;`\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\nimport com.firebase.ui.database.FirebaseRecyclerOptions;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\npublic class MainActivity extends AppCompatActivity\r\n{\r\n    FloatingActionButton fb;\r\n    RecyclerView recview;\r\n    myadapter adapter;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        fb = (FloatingActionButton) findViewById(R.id.floatingActionButton);\r\n        fb.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startActivity(new Intent(getApplicationContext(), uploadfile.class));\r\n            }\r\n        });\r\n        recview = (RecyclerView) findViewById(R.id.recview);\r\n        recview.setLayoutManager(new LinearLayoutManager(this));\r\n        FirebaseRecyclerOptions&lt;model&gt; options =\r\n                new FirebaseRecyclerOptions.Builder&lt;model&gt;()\r\n                        .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;mydocuments&quot;), model.class)\r\n                        .build();\r\n\r\n        adapter=new myadapter(options);\r\n        recview.setAdapter(adapter);\r\n    }\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        adapter.startListening();\r\n    }\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        adapter.stopListening();\r\n    }\r\n}\r\n`\r\n```\r\n**adapter class code**\r\n`\r\n```\r\n`public class myadapter extends FirebaseRecyclerAdapter&lt;model,myadapter.myviewholder&gt;\r\n{\r\n   public myadapter(@NonNull FirebaseRecyclerOptions&lt;model&gt; options) {\r\n        super(options);\r\n    }\r\n    @Override\r\n    protected void onBindViewHolder(@NonNull final myviewholder holder, int position, @NonNull final model model) {\r\n        holder.header.setText(model.getFilename());\r\n        holder.img1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent=new Intent(holder.img1.getContext(),viewpdf.class);\r\n                intent.putExtra(&quot;filename&quot;,model.getFilename());\r\n                intent.putExtra(&quot;fileurl&quot;,model.getFileurl());\r\n                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                holder.img1.getContext().startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n    @NonNull\r\n    @Override\r\n    public myviewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view= LayoutInflater.from(parent.getContext()).inflate(R.layout.singlerowdesign,parent,false);\r\n        return  new myviewholder(view);\r\n    }\r\n    public class myviewholder extends RecyclerView.ViewHolder\r\n    {\r\n        ImageView img1;\r\n        TextView header;\r\n        public myviewholder(@NonNull View itemView)\r\n        {\r\n            super(itemView);\r\n            img1=itemView.findViewById(R.id.img1);\r\n            header=itemView.findViewById(R.id.header);\r\n        }\r\n    }\r\n}`\r\n```\r\n","title":"indexoutofboundexception:inconsistency detected","body":"<p>when i go to another activity and without doing anything and come back to previous activity the app crashes the below given error will occurred .i have same project but that was build 2 years before and that project will working properly but when i moved that project to new project the error will occurred</p>\n<pre><code>\n`E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.loganbeast.pdf, PID: 5560\n    java.lang.IndexOutOfBoundsException: Inconsistency detected. Invalid view holder adapter positionmyviewholder{de30495 position=5 id=-1, oldPos=0, pLpos:0 scrap [attachedScrap] tmpDetached no parent} androidx.recyclerview.widget.RecyclerView{21e5fd2 VFED..... ......I. 0,0-1080,2100 #7f080168 app:id/recview}, adapter:com.loganbeast.pdf.myadapter@37563a8, layout:androidx.recyclerview.widget.LinearLayoutManager@68cf8a3, context:com.loganbeast.pdf.MainActivity@5952061\n        at androidx.recyclerview.widget.RecyclerView$Recycler.validateViewHolderForOffsetPosition(RecyclerView.java:6544)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6727)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6688)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6684)\n        at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2362)\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1662)\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1622)\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:687)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep1(RecyclerView.java:4550)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:4305)\n        at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4873)\n        at android.view.View.layout(View.java:23550)\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\n        at androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1873)\n        at android.view.View.layout(View.java:23550)\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n        at android.view.View.layout(View.java:23550)\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\n        at androidx.appcompat.widget.ActionBarOverlayLayout.onLayout(ActionBarOverlayLayout.java:536)\n        at android.view.View.layout(View.java:23550)\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n        at android.view.View.layout(View.java:23550)\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\n        at android.view.View.layout(View.java:23550)\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n        at com.android.internal.policy.DecorView.onLayout(DecorView.java:868)\n        at android.view.View.layout(View.java:23550)\n        at android.view.ViewGroup.layout(ViewGroup.java:6452)\n        at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:3858)\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:3308)\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:2272)\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8999)\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1160)\n        at android.view.Choreographer.doCallbacks(Choreographer.java:950)\n        at android.view.Choreographer.doFrame(Choreographer.java:879)\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1142)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loopOnce(Looper.java:210)\n        at android.os.Looper.loop(Looper.java:299)\n        at android.app.ActivityThread.main(ActivityThread.java:8319)\nE/AndroidRuntime:     at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1038)`\n*\n</code></pre>\n<ul>\n<li></li>\n</ul>\n<p>main Activity code**\ni think the error is in this activity . if anyone can solve my error then please help me</p>\n<pre><code>`\npackage com.loganbeast.pdf;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.WindowManager;`\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\nimport com.firebase.ui.database.FirebaseRecyclerOptions;\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\nimport com.google.firebase.database.FirebaseDatabase;\npublic class MainActivity extends AppCompatActivity\n{\n    FloatingActionButton fb;\n    RecyclerView recview;\n    myadapter adapter;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        fb = (FloatingActionButton) findViewById(R.id.floatingActionButton);\n        fb.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                startActivity(new Intent(getApplicationContext(), uploadfile.class));\n            }\n        });\n        recview = (RecyclerView) findViewById(R.id.recview);\n        recview.setLayoutManager(new LinearLayoutManager(this));\n        FirebaseRecyclerOptions&lt;model&gt; options =\n                new FirebaseRecyclerOptions.Builder&lt;model&gt;()\n                        .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;mydocuments&quot;), model.class)\n                        .build();\n\n        adapter=new myadapter(options);\n        recview.setAdapter(adapter);\n    }\n    @Override\n    protected void onStart() {\n        super.onStart();\n        adapter.startListening();\n    }\n    @Override\n    protected void onStop() {\n        super.onStop();\n        adapter.stopListening();\n    }\n}\n`\n</code></pre>\n<p><strong>adapter class code</strong>\n`</p>\n<pre><code>`public class myadapter extends FirebaseRecyclerAdapter&lt;model,myadapter.myviewholder&gt;\n{\n   public myadapter(@NonNull FirebaseRecyclerOptions&lt;model&gt; options) {\n        super(options);\n    }\n    @Override\n    protected void onBindViewHolder(@NonNull final myviewholder holder, int position, @NonNull final model model) {\n        holder.header.setText(model.getFilename());\n        holder.img1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent=new Intent(holder.img1.getContext(),viewpdf.class);\n                intent.putExtra(&quot;filename&quot;,model.getFilename());\n                intent.putExtra(&quot;fileurl&quot;,model.getFileurl());\n                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                holder.img1.getContext().startActivity(intent);\n            }\n        });\n    }\n    @NonNull\n    @Override\n    public myviewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view= LayoutInflater.from(parent.getContext()).inflate(R.layout.singlerowdesign,parent,false);\n        return  new myviewholder(view);\n    }\n    public class myviewholder extends RecyclerView.ViewHolder\n    {\n        ImageView img1;\n        TextView header;\n        public myviewholder(@NonNull View itemView)\n        {\n            super(itemView);\n            img1=itemView.findViewById(R.id.img1);\n            header=itemView.findViewById(R.id.header);\n        }\n    }\n}`\n</code></pre>\n"},{"tags":["java","selenium-webdriver","automation","ui-automation"],"answers":[{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680115755,"creation_date":1680115755,"answer_id":75881075,"question_id":75834547,"body_markdown":"I have also solved faced the same problem as you in salesforce, follow below to solve it\r\nAs a First step what you need to do is to get the Secret key for the account,In your Account settings in the application there must be a way to reconfigure the 2 factor authentication , open that it will ask you to scan the QR code, instead of that look for a option for secret key and copy that\r\nSee below image for reference \r\n\r\n[![example][1]][1]\r\n\r\n\r\nOnce you have your key ,add below Library in your project to generate the code that is being generated  \r\n       \r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;de.taimos&lt;/groupId&gt;\r\n            &lt;artifactId&gt;totp&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nwrite a code like this below, this will keep ion printing a new code\r\n\r\n   \r\n\r\n    import de.taimos.totp.TOTP;\r\n    import java.util.Date;\r\n    import org.apache.commons.codec.binary.Base32;\r\n    import org.apache.commons.codec.binary.Hex;\r\n    \r\n    public class Authenticator {\r\n    \r\n    \r\n    \tpublic static String getTOTPCode(String secretKey) {\r\n    \t\tBase32 base32 = new Base32();\r\n    \t\tbyte[] bytes = base32.decode(secretKey);\r\n    \t\tString hexKey = Hex.encodeHexString(bytes);\r\n    \t\treturn TOTP.getOTP(hexKey);\r\n    \t}\r\n    \r\n    \tpublic static void main(String... a) {\r\n    \tString secretKey = &quot;&quot;;\r\n        //add key above\r\n\r\n\t\tString code = getTOTPCode(secretKey);\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n2aYM.png\r\n\r\nOnce you run the code it will generate a code and enter that to configure your account to use the Verification code which is being generated using the Secret key, this should solved your login issue ","title":"How to Automate Microsoft authenticator using selenium and java?","body":"<p>I have also solved faced the same problem as you in salesforce, follow below to solve it\nAs a First step what you need to do is to get the Secret key for the account,In your Account settings in the application there must be a way to reconfigure the 2 factor authentication , open that it will ask you to scan the QR code, instead of that look for a option for secret key and copy that\nSee below image for reference</p>\n<p><a href=\"https://i.stack.imgur.com/n2aYM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n2aYM.png\" alt=\"example\" /></a></p>\n<p>Once you have your key ,add below Library in your project to generate the code that is being generated</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;de.taimos&lt;/groupId&gt;\n        &lt;artifactId&gt;totp&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>write a code like this below, this will keep ion printing a new code</p>\n<pre><code>import de.taimos.totp.TOTP;\nimport java.util.Date;\nimport org.apache.commons.codec.binary.Base32;\nimport org.apache.commons.codec.binary.Hex;\n\npublic class Authenticator {\n\n\n    public static String getTOTPCode(String secretKey) {\n        Base32 base32 = new Base32();\n        byte[] bytes = base32.decode(secretKey);\n        String hexKey = Hex.encodeHexString(bytes);\n        return TOTP.getOTP(hexKey);\n    }\n\n    public static void main(String... a) {\n    String secretKey = &quot;&quot;;\n    //add key above\n\n    String code = getTOTPCode(secretKey);\n\n    }\n}\n</code></pre>\n<p>Once you run the code it will generate a code and enter that to configure your account to use the Verification code which is being generated using the Secret key, this should solved your login issue</p>\n"}],"owner":{"account_id":26590881,"reputation":1,"user_id":20214132,"display_name":"Ajay Bhatt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2087,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680115755,"creation_date":1679666098,"question_id":75834547,"body_markdown":"Step:\r\n\r\nHere I will be entering my username\r\n\r\nUsernamepage\r\n\r\nNext I will enter my password PasswordPage\r\n\r\nAfter the Click on Sign on , user will be directed to page which user would have given either two types of Authenication either through OTP (which is send to registered phone) or Authenticator app dynamic number.\r\n","title":"How to Automate Microsoft authenticator using selenium and java?","body":"<p>Step:</p>\n<p>Here I will be entering my username</p>\n<p>Usernamepage</p>\n<p>Next I will enter my password PasswordPage</p>\n<p>After the Click on Sign on , user will be directed to page which user would have given either two types of Authenication either through OTP (which is send to registered phone) or Authenticator app dynamic number.</p>\n"},{"tags":["java","functor","higher-kinded-types","catamorphism","fixed-point-iteration"],"answers":[{"tags":[],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1680114928,"creation_date":1641989944,"answer_id":70681454,"question_id":70681453,"body_markdown":"Indeed this can be done by carefully translating the corresponding Haskell counterparts. Although this introduces a lot of line noise,\r\nthe implementation is quite close to the original:\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n    // Encoding of higher kinded type F of T\r\n    public interface H&lt;F, T&gt; { }\r\n\r\n    public interface Functor&lt;F, T&gt; {\r\n        &lt;R&gt; H&lt;F, R&gt; map(Function&lt;T, R&gt; f);\r\n    }\r\n\r\n    // newtype Fix f = Fix {unfix::f (Fix f)}\r\n    public static record Fix&lt;F extends H&lt;F, T&gt; &amp; Functor&lt;F, T&gt;, T&gt;(F f) {\r\n        public Functor&lt;F, Fix&lt;F, T&gt;&gt; unfix() {\r\n            return (Functor&lt;F, Fix&lt;F, T&gt;&gt;) f;\r\n        }\r\n    }\r\n\r\n    // type Algebra f a = f a -&gt; a\r\n    public interface Algebra&lt;F, T&gt; extends Function&lt;H&lt;F, T&gt;, T&gt; {}\r\n\r\n     // cata :: Functor f =&gt; Algebra f a -&gt; Fix f -&gt; a\r\n     // cata alg = alg . fmap (cata alg) . unfix\r\n    public static &lt;F extends H&lt;F, T&gt; &amp; Functor&lt;F, T&gt;, T&gt; Function&lt;Fix&lt;F, T&gt;, T&gt; cata(Algebra&lt;F, T&gt; alg) {\r\n        return fix -&gt; alg.apply(fix.unfix().map(cata(alg)));\r\n    }\r\n\r\nAmazingly this works and can be used to implement e.g. [interpreters for expression algebras][1]\r\n\r\n    // evalExprF :: Algebra ExprF Int\r\n    // evalExprF (Const n) = n\r\n    // evalExprF (Add m n) = m + n\r\n    // evalExprF (Mul m n) = m * n\r\n    public static class ExprAlg implements Algebra&lt;Expr, Integer&gt; {\r\n        @Override\r\n        public Integer apply(H&lt;Expr, Integer&gt; hExpr) {\r\n            return Expr.expr(hExpr).match(\r\n                conzt -&gt; conzt.n,\r\n                add   -&gt; add.t1 + add.t2,\r\n                mul   -&gt; mul.t1 * mul.t2);\r\n        }\r\n    }\r\n\r\nFull working example in my [GitHub repository][2].\r\n\r\n\r\n  [1]: https://github.com/mduerig/java-functional/blob/master/src/michid/fun/fix/Expression.java#L25\r\n  [2]: https://github.com/mduerig/java-functional","title":"How to implement fixed points of functors in Java","body":"<p>Indeed this can be done by carefully translating the corresponding Haskell counterparts. Although this introduces a lot of line noise,\nthe implementation is quite close to the original:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Encoding of higher kinded type F of T\npublic interface H&lt;F, T&gt; { }\n\npublic interface Functor&lt;F, T&gt; {\n    &lt;R&gt; H&lt;F, R&gt; map(Function&lt;T, R&gt; f);\n}\n\n// newtype Fix f = Fix {unfix::f (Fix f)}\npublic static record Fix&lt;F extends H&lt;F, T&gt; &amp; Functor&lt;F, T&gt;, T&gt;(F f) {\n    public Functor&lt;F, Fix&lt;F, T&gt;&gt; unfix() {\n        return (Functor&lt;F, Fix&lt;F, T&gt;&gt;) f;\n    }\n}\n\n// type Algebra f a = f a -&gt; a\npublic interface Algebra&lt;F, T&gt; extends Function&lt;H&lt;F, T&gt;, T&gt; {}\n\n // cata :: Functor f =&gt; Algebra f a -&gt; Fix f -&gt; a\n // cata alg = alg . fmap (cata alg) . unfix\npublic static &lt;F extends H&lt;F, T&gt; &amp; Functor&lt;F, T&gt;, T&gt; Function&lt;Fix&lt;F, T&gt;, T&gt; cata(Algebra&lt;F, T&gt; alg) {\n    return fix -&gt; alg.apply(fix.unfix().map(cata(alg)));\n}\n</code></pre>\n<p>Amazingly this works and can be used to implement e.g. <a href=\"https://github.com/mduerig/java-functional/blob/master/src/michid/fun/fix/Expression.java#L25\" rel=\"nofollow noreferrer\">interpreters for expression algebras</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>// evalExprF :: Algebra ExprF Int\n// evalExprF (Const n) = n\n// evalExprF (Add m n) = m + n\n// evalExprF (Mul m n) = m * n\npublic static class ExprAlg implements Algebra&lt;Expr, Integer&gt; {\n    @Override\n    public Integer apply(H&lt;Expr, Integer&gt; hExpr) {\n        return Expr.expr(hExpr).match(\n            conzt -&gt; conzt.n,\n            add   -&gt; add.t1 + add.t2,\n            mul   -&gt; mul.t1 * mul.t2);\n    }\n}\n</code></pre>\n<p>Full working example in my <a href=\"https://github.com/mduerig/java-functional\" rel=\"nofollow noreferrer\">GitHub repository</a>.</p>\n"}],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":70681454,"answer_count":1,"score":12,"last_activity_date":1680114928,"creation_date":1641989944,"question_id":70681453,"body_markdown":"I recently discovered how to [simulate higher order types in Java][1]  in a somewhat roundabout way like so\r\n\r\n    interface H&lt;F, T&gt; { }\r\n\r\nHere `H` encodes a higher order type that takes a type parameter `F` which itself takes parameter `T`.\r\n\r\nNow this leaves me to wonder, can we use this to implement some more advanced constructs? E.g. fixed point of functors\r\nlike [Fix in Haskell][2] and its corresponding [catamorphisms][3]?\r\n\r\n  [1]: https://github.com/highj/highj\r\n  [2]: https://hackage.haskell.org/package/data-fix-0.3.0/docs/Data-Fix.html\r\n  [3]: https://hackage.haskell.org/package/data-fix-0.3.0/docs/Data-Fix.html#g:6","title":"How to implement fixed points of functors in Java","body":"<p>I recently discovered how to <a href=\"https://github.com/highj/highj\" rel=\"nofollow noreferrer\">simulate higher order types in Java</a>  in a somewhat roundabout way like so</p>\n<pre><code>interface H&lt;F, T&gt; { }\n</code></pre>\n<p>Here <code>H</code> encodes a higher order type that takes a type parameter <code>F</code> which itself takes parameter <code>T</code>.</p>\n<p>Now this leaves me to wonder, can we use this to implement some more advanced constructs? E.g. fixed point of functors\nlike <a href=\"https://hackage.haskell.org/package/data-fix-0.3.0/docs/Data-Fix.html\" rel=\"nofollow noreferrer\">Fix in Haskell</a> and its corresponding <a href=\"https://hackage.haskell.org/package/data-fix-0.3.0/docs/Data-Fix.html#g:6\" rel=\"nofollow noreferrer\">catamorphisms</a>?</p>\n"},{"tags":["java","spring","spring-security","spring-session"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1680119642,"post_id":75880822,"comment_id":133845558,"body_markdown":"No, you do not need to mess about with filters. This is all you need to do - https://www.baeldung.com/spring-session-jdbc","body":"No, you do not need to mess about with filters. This is all you need to do - <a href=\"https://www.baeldung.com/spring-session-jdbc\" rel=\"nofollow noreferrer\">baeldung.com/spring-session-jdbc</a>"}],"owner":{"account_id":13521732,"reputation":158,"user_id":9754736,"display_name":"Scroll"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1680114115,"creation_date":1680114115,"question_id":75880822,"body_markdown":"I am trying to understand how Spring Security and Spring Session projects work together.\r\nIn my project I want to save sessions into database that&#39;s why I am using Spring Session JDBC. But I can&#39;t understand should I configure something in\r\n`@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity http)`\r\nin part `sessionManagement`. For example I&#39;ve tried to set maximum user sessions by \r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) {\r\n        http\r\n            .sessionManagement(session -&gt; session\r\n                .maximumSessions(1)\r\n            );\r\n        return http.build();\r\n    }\r\n\r\nand there is no affect. Can someone explain why there is no affect and should I configure sessionManagement in HttpSecurity ?","title":"Should I configure sessionManagement in HttpSecurity if I use Spring Session?","body":"<p>I am trying to understand how Spring Security and Spring Session projects work together.\nIn my project I want to save sessions into database that's why I am using Spring Session JDBC. But I can't understand should I configure something in\n<code>@Bean public SecurityFilterChain filterChain(HttpSecurity http)</code>\nin part <code>sessionManagement</code>. For example I've tried to set maximum user sessions by</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) {\n    http\n        .sessionManagement(session -&gt; session\n            .maximumSessions(1)\n        );\n    return http.build();\n}\n</code></pre>\n<p>and there is no affect. Can someone explain why there is no affect and should I configure sessionManagement in HttpSecurity ?</p>\n"},{"tags":["java","swing","jpanel"],"comments":[{"owner":{"account_id":4149500,"reputation":2311,"user_id":3402367,"display_name":"robertoia"},"score":8,"creation_date":1397117534,"post_id":22982295,"comment_id":35095817,"body_markdown":"Take a look at the [javadoc](http://docs.oracle.com/javase/8/docs/api/java/awt/Window.html#pack)","body":"Take a look at the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/awt/Window.html#pack\" rel=\"nofollow noreferrer\">javadoc</a>"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1397117843,"post_id":22982295,"comment_id":35095988,"body_markdown":"`this.setPreferredSize(new Dimension(500,500));`  See [Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?](http://stackoverflow.com/q/7229226/418556)  (Yes.)","body":"<code>this.setPreferredSize(new Dimension(500,500));</code>  See <a href=\"http://stackoverflow.com/q/7229226/418556\">Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?</a>  (Yes.)"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1397117912,"post_id":22982295,"comment_id":35096030,"body_markdown":"`jf.pack(); //code wouldnt work if i comment out this line`  Sure it works, but since the frame has a size of 0x0 it is not easy to *see* it works.","body":"<code>jf.pack(); &#47;&#47;code wouldnt work if i comment out this line</code>  Sure it works, but since the frame has a size of 0x0 it is not easy to <i>see</i> it works."},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1397118210,"post_id":22982295,"comment_id":35096218,"body_markdown":"@Computernerd (I sure that there) I&#39;m missing here answer about pack() together with LayoutManager, PreferredSize, getPreferredSize that returns JComponents to container, this logics is quite alchemy, is not possible to answering in short answer, and (looks like as) your question isn&#39;t good described","body":"@Computernerd (I sure that there) I&#39;m missing here answer about pack() together with LayoutManager, PreferredSize, getPreferredSize that returns JComponents to container, this logics is quite alchemy, is not possible to answering in short answer, and (looks like as) your question isn&#39;t good described"},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1397118440,"post_id":22982295,"comment_id":35096363,"body_markdown":"@Computernerd and each of LayoutManagers (custom too) handling diferrently with min, max and PreferredSize, for some required, and for some ignored","body":"@Computernerd and each of LayoutManagers (custom too) handling diferrently with min, max and PreferredSize, for some required, and for some ignored"},{"owner":{"account_id":1164345,"reputation":22755,"user_id":1143274,"accept_rate":56,"display_name":"Evgeni Sergeev"},"score":0,"creation_date":1539369015,"post_id":22982295,"comment_id":92491793,"body_markdown":"Reopen: the documentation linked is inadequate (e.g., it doesn&#39;t contain an example).","body":"Reopen: the documentation linked is inadequate (e.g., it doesn&#39;t contain an example)."}],"answers":[{"tags":[],"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1593053979,"creation_date":1397117533,"answer_id":22982334,"question_id":22982295,"body_markdown":"*The `pack` method sizes the frame so that all its contents are at or above their preferred sizes. An alternative to pack is to establish a frame size explicitly by calling `setSize` or `setBounds` (which also sets the frame location). In general, using pack is preferable to calling `setSize`, since pack leaves the frame layout manager in charge of the frame size, and layout managers are good at adjusting to platform dependencies and other factors that affect component size.*\r\n\r\n\r\nFrom [Java tutorial][1]\r\n\r\nYou should also refer to [Javadocs][2] any time you need additional information on any Java API\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/components/frame.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/awt/Window.html#pack--","title":"What does .pack() do?","body":"<p><em>The <code>pack</code> method sizes the frame so that all its contents are at or above their preferred sizes. An alternative to pack is to establish a frame size explicitly by calling <code>setSize</code> or <code>setBounds</code> (which also sets the frame location). In general, using pack is preferable to calling <code>setSize</code>, since pack leaves the frame layout manager in charge of the frame size, and layout managers are good at adjusting to platform dependencies and other factors that affect component size.</em></p>\n<p>From <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/frame.html\" rel=\"noreferrer\">Java tutorial</a></p>\n<p>You should also refer to <a href=\"http://docs.oracle.com/javase/8/docs/api/java/awt/Window.html#pack--\" rel=\"noreferrer\">Javadocs</a> any time you need additional information on any Java API</p>\n"},{"tags":[],"owner":{"account_id":18920428,"reputation":19,"user_id":13804608,"display_name":"Gaurav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658240421,"creation_date":1593054414,"answer_id":62567220,"question_id":22982295,"body_markdown":"The `pack()` method is defined as a Window class in Java and it sizes the frame so that all its contents are at or above their preferred sizes.","title":"What does .pack() do?","body":"<p>The <code>pack()</code> method is defined as a Window class in Java and it sizes the frame so that all its contents are at or above their preferred sizes.</p>\n"}],"owner":{"account_id":2053696,"reputation":7468,"user_id":1832057,"accept_rate":66,"display_name":"Computernerd"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189281,"favorite_count":0,"down_vote_count":4,"up_vote_count":54,"answer_count":2,"score":50,"last_activity_date":1680112933,"creation_date":1397117426,"question_id":22982295,"body_markdown":"I am learning about JPanel and GridLayout , this snippet of code  will produce a simple JPanel with 6 buttons\r\n\r\n    package testing;\r\n    \r\n    \r\n    import java.io.*;\r\n    import java.util.*;\r\n    import java.security.*;\r\n    import javax.xml.bind.DatatypeConverter;\r\n    import java.lang.*;\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    public class Testing \r\n    {\r\n        \r\n        public static class GridPanel extends JPanel \r\n        {\r\n            public GridPanel()\r\n            {\r\n                setLayout(new GridLayout(2,3));\r\n                setBackground(Color.GREEN);\r\n                this.setPreferredSize(new Dimension(500,500));\r\n                \r\n                JButton b1 = new JButton (&quot;Button 1&quot;);\r\n                JButton b2 = new JButton (&quot;Button 2&quot;);\r\n                JButton b3 = new JButton (&quot;Button 3&quot;);\r\n                JButton b4 = new JButton (&quot;Button 4&quot;);\r\n                JButton b5 = new JButton (&quot;Button 5&quot;);\r\n                JButton b6 = new JButton (&quot;Button 6&quot;);\r\n                \r\n                add(b1);\r\n                add(b2);\r\n                add(b3);\r\n                add(b4);\r\n                add(b5);\r\n                add(b6);\r\n            }\r\n                   \r\n        }\r\n        \r\n        \r\n        \r\n        public static void main(String[] args) \r\n        \r\n        {\r\n           GridPanel gp = new GridPanel();\r\n           JFrame jf = new JFrame();\r\n           jf.add(gp);\r\n           jf.pack(); //code wouldnt work if i comment out this line\r\n           jf.setVisible(true);\r\n            \r\n        }\r\n           \r\n    }\r\n\r\n\r\nI am wondering why my code wouldnt work if i comment out `jf.pack()`","title":"What does .pack() do?","body":"<p>I am learning about JPanel and GridLayout , this snippet of code  will produce a simple JPanel with 6 buttons</p>\n\n<pre><code>package testing;\n\n\nimport java.io.*;\nimport java.util.*;\nimport java.security.*;\nimport javax.xml.bind.DatatypeConverter;\nimport java.lang.*;\nimport java.awt.*;\nimport javax.swing.*;\n\npublic class Testing \n{\n\n    public static class GridPanel extends JPanel \n    {\n        public GridPanel()\n        {\n            setLayout(new GridLayout(2,3));\n            setBackground(Color.GREEN);\n            this.setPreferredSize(new Dimension(500,500));\n\n            JButton b1 = new JButton (\"Button 1\");\n            JButton b2 = new JButton (\"Button 2\");\n            JButton b3 = new JButton (\"Button 3\");\n            JButton b4 = new JButton (\"Button 4\");\n            JButton b5 = new JButton (\"Button 5\");\n            JButton b6 = new JButton (\"Button 6\");\n\n            add(b1);\n            add(b2);\n            add(b3);\n            add(b4);\n            add(b5);\n            add(b6);\n        }\n\n    }\n\n\n\n    public static void main(String[] args) \n\n    {\n       GridPanel gp = new GridPanel();\n       JFrame jf = new JFrame();\n       jf.add(gp);\n       jf.pack(); //code wouldnt work if i comment out this line\n       jf.setVisible(true);\n\n    }\n\n}\n</code></pre>\n\n<p>I am wondering why my code wouldnt work if i comment out <code>jf.pack()</code></p>\n"},{"tags":["java","parsing","ssl"],"owner":{"account_id":25585082,"reputation":9,"user_id":19362976,"display_name":"Alenern"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680112842,"creation_date":1680112842,"question_id":75880644,"body_markdown":"I downloaded and compiled the project at https://github.com/WojciechZankowski/ib-product-parser\r\nI run it manually in my Windows CMD.\r\nThat&#39;s what I get when I run it:\r\n\r\n\r\n```\r\n:\\...b-product-parser\\bin\\artifacts\\ib_product_parser_jar&gt;java -jar ib-product-parser.jar -e allna -t STK -f pl.zankowsDownloading byx data...\r\nDownloading bats data...\r\nDownloading arcaedge data...\r\nDownloading chx data...\r\njavax.net.ssl.SSLException: Received fatal alert: internal_error\r\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:132)\r\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358)\r\n        at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:287)\r\n        at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204)\r\n        at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1506)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1421)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)\r\n        at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:587)\r\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:187)\r\n        at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:142)\r\n        at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:512)\r\n        at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:493)\r\n        at org.jsoup.helper.HttpConnection.execute(HttpConnection.java:205)\r\n        at org.jsoup.helper.HttpConnection.get(HttpConnection.java:194)\r\n        at pl.zankowski.ibpp.IBProductParserService.parse(IBProductParserService.java:47)\r\n        at pl.zankowski.ibpp.IBProductParserService.lambda$parse$0(IBProductParserService.java:29)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n        at java.base/java.lang.Thread.run(Thread.java:1623)\r\njavax.net.ssl.SSLException: Received fatal alert: internal_error\r\n```\r\n\r\n\r\nCompiled the project in Intellij and run it through CMD as per commands in manual.\r\nIt should connect ib portal website and download data. Instead, it returns error as per above.","title":"Java error: javax.net.ssl.SSLException: Received fatal alert: internal_error","body":"<p>I downloaded and compiled the project at <a href=\"https://github.com/WojciechZankowski/ib-product-parser\" rel=\"nofollow noreferrer\">https://github.com/WojciechZankowski/ib-product-parser</a>\nI run it manually in my Windows CMD.\nThat's what I get when I run it:</p>\n<pre><code>:\\...b-product-parser\\bin\\artifacts\\ib_product_parser_jar&gt;java -jar ib-product-parser.jar -e allna -t STK -f pl.zankowsDownloading byx data...\nDownloading bats data...\nDownloading arcaedge data...\nDownloading chx data...\njavax.net.ssl.SSLException: Received fatal alert: internal_error\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:132)\n        at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n        at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358)\n        at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:287)\n        at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204)\n        at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\n        at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1506)\n        at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1421)\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)\n        at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:587)\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:187)\n        at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:142)\n        at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:512)\n        at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:493)\n        at org.jsoup.helper.HttpConnection.execute(HttpConnection.java:205)\n        at org.jsoup.helper.HttpConnection.get(HttpConnection.java:194)\n        at pl.zankowski.ibpp.IBProductParserService.parse(IBProductParserService.java:47)\n        at pl.zankowski.ibpp.IBProductParserService.lambda$parse$0(IBProductParserService.java:29)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n        at java.base/java.lang.Thread.run(Thread.java:1623)\njavax.net.ssl.SSLException: Received fatal alert: internal_error\n</code></pre>\n<p>Compiled the project in Intellij and run it through CMD as per commands in manual.\nIt should connect ib portal website and download data. Instead, it returns error as per above.</p>\n"},{"tags":["java","android","kotlin","android-layout","textview"],"answers":[{"tags":[],"owner":{"account_id":9906633,"reputation":1075,"user_id":7334951,"display_name":"Younes Charfaoui"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680112344,"creation_date":1680112344,"answer_id":75880574,"question_id":75878168,"body_markdown":"The answer you referred to computes the whole textView height as you described; if you want to calculate only the height of the third line or any other line, you can use TextView&#39;s Layout methods called `getLinesBounds`.\r\n\r\nHere is how it goes:\r\n- You get the vertical position or the y-coordinates of that line from the top using `getLineTop()`, in which you pass `2` as an argument, which means the third line since the index starts from 0.\r\n- You do the same from the bottom using `getLineBottom()` with the same argument.\r\n- You subtract the difference as a final result.\r\n\r\nHere is the full code:\r\n\r\n```kotlin\r\nval thirdLineTop = textView.layout.getLineTop(2)\r\nval thirdLineBottom = textView.layout.getLineBottom(2)\r\nval thirdLineHeight = thirdLineBottom - thirdLineTop\r\n```\r\n\r\nI tried that but It raised some errors, the issue is the `layout` object of the Textview will be null in the `onCreate` since the TextView hasn&#39;t been Laid out YET, so we need to wait until that TextView is laid out and have a valid layout object to start using the above code, so I added a layout observer listner like the following to test the code:\r\n\r\n```kotlin\r\nval tv = findViewById&lt;TextView&gt;(R.id.tva)\r\ntv.viewTreeObserver.addOnGlobalLayoutListener {\r\n     val thirdLineTop = tv.layout.getLineTop(2)\r\n     val thirdLineBottom = tv.layout.getLineBottom(2)\r\n     println(&quot;Total height is $thirdLineBottom - $thirdLineTop&quot;)\r\n}\r\n```\r\n\r\n\r\nI hope this would work for you!","title":"Calculate a height of specific line of textview","body":"<p>The answer you referred to computes the whole textView height as you described; if you want to calculate only the height of the third line or any other line, you can use TextView's Layout methods called <code>getLinesBounds</code>.</p>\n<p>Here is how it goes:</p>\n<ul>\n<li>You get the vertical position or the y-coordinates of that line from the top using <code>getLineTop()</code>, in which you pass <code>2</code> as an argument, which means the third line since the index starts from 0.</li>\n<li>You do the same from the bottom using <code>getLineBottom()</code> with the same argument.</li>\n<li>You subtract the difference as a final result.</li>\n</ul>\n<p>Here is the full code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val thirdLineTop = textView.layout.getLineTop(2)\nval thirdLineBottom = textView.layout.getLineBottom(2)\nval thirdLineHeight = thirdLineBottom - thirdLineTop\n</code></pre>\n<p>I tried that but It raised some errors, the issue is the <code>layout</code> object of the Textview will be null in the <code>onCreate</code> since the TextView hasn't been Laid out YET, so we need to wait until that TextView is laid out and have a valid layout object to start using the above code, so I added a layout observer listner like the following to test the code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val tv = findViewById&lt;TextView&gt;(R.id.tva)\ntv.viewTreeObserver.addOnGlobalLayoutListener {\n     val thirdLineTop = tv.layout.getLineTop(2)\n     val thirdLineBottom = tv.layout.getLineBottom(2)\n     println(&quot;Total height is $thirdLineBottom - $thirdLineTop&quot;)\n}\n</code></pre>\n<p>I hope this would work for you!</p>\n"}],"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75880574,"answer_count":1,"score":1,"last_activity_date":1680112344,"creation_date":1680097977,"question_id":75878168,"body_markdown":"I want to calculate a height of specific textview line. Let&#39;s suppose my textview has 3 lines of text and I want to calculate height of the third line. How to achieve that?\r\n\r\nI was trying this answer https://stackoverflow.com/a/40133086/21172734 but it gets the whole textview height, am I right?","title":"Calculate a height of specific line of textview","body":"<p>I want to calculate a height of specific textview line. Let's suppose my textview has 3 lines of text and I want to calculate height of the third line. How to achieve that?</p>\n<p>I was trying this answer <a href=\"https://stackoverflow.com/a/40133086/21172734\">https://stackoverflow.com/a/40133086/21172734</a> but it gets the whole textview height, am I right?</p>\n"},{"tags":["java","api","java-stream"],"comments":[{"owner":{"account_id":3431285,"reputation":710,"user_id":2875621,"accept_rate":55,"display_name":"Manish"},"score":0,"creation_date":1562913522,"post_id":57000850,"comment_id":100535953,"body_markdown":"What should the value of com map to -&gt; 900 from google.com or 100 from samsung.com?","body":"What should the value of com map to -&gt; 900 from google.com or 100 from samsung.com?"}],"answers":[{"tags":[],"owner":{"account_id":2913843,"reputation":22675,"user_id":2497492,"accept_rate":37,"display_name":"Christian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562910940,"creation_date":1562910940,"answer_id":57000922,"question_id":57000850,"body_markdown":"I would split and then collect it into a Map. For your simple case, I have used the SimpleEntry from Java directly. If your result is more complex, I would have created a pojo:\r\n\r\n    Map&lt;String, Double&gt; yourMap = Arrays.stream(domaintCount)\r\n        .map(string -&gt; {\r\n          String[] splitted = string.split(&quot;,&quot;);\r\n          return new AbstractMap.SimpleEntry&lt;String, Double&gt;(splitted[1].trim(), Double.valueOf(splitted[0].trim()));\r\n        })\r\n        .collect(Collectors.toMap(AbstractMap.SimpleEntry::getKey, AbstractMap.SimpleEntry::getValue));","title":"How to parse an array with strings using Java Stream API","body":"<p>I would split and then collect it into a Map. For your simple case, I have used the SimpleEntry from Java directly. If your result is more complex, I would have created a pojo:</p>\n\n<pre><code>Map&lt;String, Double&gt; yourMap = Arrays.stream(domaintCount)\n    .map(string -&gt; {\n      String[] splitted = string.split(\",\");\n      return new AbstractMap.SimpleEntry&lt;String, Double&gt;(splitted[1].trim(), Double.valueOf(splitted[0].trim()));\n    })\n    .collect(Collectors.toMap(AbstractMap.SimpleEntry::getKey, AbstractMap.SimpleEntry::getValue));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13832917,"reputation":1699,"user_id":9985287,"display_name":"Mansur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562912727,"creation_date":1562912377,"answer_id":57001200,"question_id":57000850,"body_markdown":"I did something like this. The basic idea is to split the strings into maps of `&lt;domain, number&gt;`, then merge those maps&#39; values.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    String[] domaintCount = new String[]\r\n    {\r\n            &quot;900, google.com&quot;,\r\n            &quot;400, mobile.yahoo.co.uk&quot;,\r\n            &quot;100, mobile.amazon.com&quot;,\r\n            &quot;100, samsung.com&quot;\r\n    };\r\n\r\n    Function&lt;String, Map&lt;String, String&gt;&gt; stringParser = string -&gt; {\r\n        String[] splitByComma = string.split(&quot;, &quot;);\r\n        String num = splitByComma[0];\r\n        String[] domains = splitByComma[1].trim().split(&quot;\\\\.&quot;);\r\n        Map&lt;String, String&gt; stringStringHashMap = new HashMap&lt;&gt;();\r\n        for (String dom : domains) {\r\n            stringStringHashMap.put(dom, num);\r\n        }\r\n        return stringStringHashMap;\r\n    };\r\n\r\n    Map&lt;String, String&gt; collect = Stream.of(domaintCount)\r\n            .map(stringParser)\r\n            .map(Map::entrySet)\r\n            .flatMap(Set::stream)\r\n            .collect(groupingBy(Map.Entry::getValue))\r\n            .values().stream()\r\n            .flatMap(List::stream)\r\n            .collect(toMap(Map.Entry::getKey, Map.Entry::getValue, (v1, v2) -&gt; v1));\r\n\r\n    System.out.println(collect);\r\n}\r\n```","title":"How to parse an array with strings using Java Stream API","body":"<p>I did something like this. The basic idea is to split the strings into maps of <code>&lt;domain, number&gt;</code>, then merge those maps' values.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    String[] domaintCount = new String[]\n    {\n            \"900, google.com\",\n            \"400, mobile.yahoo.co.uk\",\n            \"100, mobile.amazon.com\",\n            \"100, samsung.com\"\n    };\n\n    Function&lt;String, Map&lt;String, String&gt;&gt; stringParser = string -&gt; {\n        String[] splitByComma = string.split(\", \");\n        String num = splitByComma[0];\n        String[] domains = splitByComma[1].trim().split(\"\\\\.\");\n        Map&lt;String, String&gt; stringStringHashMap = new HashMap&lt;&gt;();\n        for (String dom : domains) {\n            stringStringHashMap.put(dom, num);\n        }\n        return stringStringHashMap;\n    };\n\n    Map&lt;String, String&gt; collect = Stream.of(domaintCount)\n            .map(stringParser)\n            .map(Map::entrySet)\n            .flatMap(Set::stream)\n            .collect(groupingBy(Map.Entry::getValue))\n            .values().stream()\n            .flatMap(List::stream)\n            .collect(toMap(Map.Entry::getKey, Map.Entry::getValue, (v1, v2) -&gt; v1));\n\n    System.out.println(collect);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2076216,"reputation":520,"user_id":1849492,"display_name":"Szigy&#225;rt&#243; Mih&#225;ly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562917800,"creation_date":1562917800,"answer_id":57002459,"question_id":57000850,"body_markdown":"This way you can use &quot;, &quot; and &quot; ,&quot; as well.\r\n\r\n    Stream.of(domainCount)\r\n    .map(str-&gt;str.split(&quot;, &quot;))\r\n    .collect(toMap(strArr-&gt;strArr[0].trim(), strArr-&gt;strArr[1].trim());","title":"How to parse an array with strings using Java Stream API","body":"<p>This way you can use \", \" and \" ,\" as well.</p>\n\n<pre><code>Stream.of(domainCount)\n.map(str-&gt;str.split(\", \"))\n.collect(toMap(strArr-&gt;strArr[0].trim(), strArr-&gt;strArr[1].trim());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5390909,"reputation":1,"user_id":4293467,"display_name":"dortiz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680112004,"creation_date":1680112004,"answer_id":75880528,"question_id":57000850,"body_markdown":"    public static void main(String[] args) {\r\n        String[] domaintCount = new String[]{  &quot;900, google.com&quot;,\r\n                &quot;400, mobile.yahoo.co.uk&quot;,\r\n                &quot;100, mobile.amazon.com&quot;,\r\n                &quot;100, samsung.com&quot;\r\n        };\r\n\r\n\r\n        Arrays.stream(domaintCount)\r\n                .map(s -&gt; {\r\n                    String[] strings = s.split(&quot;,&quot;);\r\n                    return new Domain(Integer.valueOf(strings[0]), strings[1].trim());\r\n                })\r\n                .forEach(System.out::println);\r\n    }\r\n\r\n    static class Domain {\r\n        private Integer count;\r\n        private String dn;\r\n        public Domain(Integer count, String dn) {\r\n            this.count = count;\r\n            this.dn = dn;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;[Domain, count: %d, dn: %s]&quot;, count, dn);\r\n        }\r\n    }","title":"How to parse an array with strings using Java Stream API","body":"<pre><code>public static void main(String[] args) {\n    String[] domaintCount = new String[]{  &quot;900, google.com&quot;,\n            &quot;400, mobile.yahoo.co.uk&quot;,\n            &quot;100, mobile.amazon.com&quot;,\n            &quot;100, samsung.com&quot;\n    };\n\n\n    Arrays.stream(domaintCount)\n            .map(s -&gt; {\n                String[] strings = s.split(&quot;,&quot;);\n                return new Domain(Integer.valueOf(strings[0]), strings[1].trim());\n            })\n            .forEach(System.out::println);\n}\n\nstatic class Domain {\n    private Integer count;\n    private String dn;\n    public Domain(Integer count, String dn) {\n        this.count = count;\n        this.dn = dn;\n    }\n\n    @Override\n    public String toString() {\n        return String.format(&quot;[Domain, count: %d, dn: %s]&quot;, count, dn);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6207782,"reputation":71,"user_id":4835134,"display_name":"Rajesh Ramachandran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1680112004,"creation_date":1562910573,"question_id":57000850,"body_markdown":"How to use Java stream API to parse and create a hashmap from an array of strings with two different delimiters.\r\n\r\nI have the following Array\r\n   \r\n\r\n    String[] domaintCount = new String[]{  &quot;900, google.com&quot;,\r\n                                              &quot;400, mobile.yahoo.co.uk&quot;,\r\n    \t\t\t\t\t\t\t\t\t\t   &quot;100, mobile.amazon.com&quot;,\r\n    \t\t\t\t\t\t\t\t\t\t   &quot;100, samsung.com&quot;\r\n    \t\t\t\t\t\t\t\t\t\t\t} ; \r\n\r\nI wanted to create a hashmap with each word as key and number as value..\r\nFor example  \r\n\r\n    google ,900,\r\n    com ,900,\r\n    mobile,400\r\n\r\netc.. I wanted to do it using Stream API functions.","title":"How to parse an array with strings using Java Stream API","body":"<p>How to use Java stream API to parse and create a hashmap from an array of strings with two different delimiters.</p>\n\n<p>I have the following Array</p>\n\n<pre><code>String[] domaintCount = new String[]{  \"900, google.com\",\n                                          \"400, mobile.yahoo.co.uk\",\n                                           \"100, mobile.amazon.com\",\n                                           \"100, samsung.com\"\n                                            } ; \n</code></pre>\n\n<p>I wanted to create a hashmap with each word as key and number as value..\nFor example  </p>\n\n<pre><code>google ,900,\ncom ,900,\nmobile,400\n</code></pre>\n\n<p>etc.. I wanted to do it using Stream API functions.</p>\n"},{"tags":["java","elasticsearch","opensearch","aws-elasticsearch"],"owner":{"account_id":2218649,"reputation":1059,"user_id":1958669,"accept_rate":88,"display_name":"shashantrika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680111773,"creation_date":1680111773,"question_id":75880495,"body_markdown":"Trying to connect opensearch [AWS] via JavaClient and followed [this][1] blog. We don&#39;t have ssl authentication enabled in AWS for this demo. \r\n\r\n    public void connect(){\r\n        try {\r\n            CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n            credentialsProvider.setCredentials(AuthScope.ANY,\r\n                    new UsernamePasswordCredentials(&quot;es_cluster_username&quot;, &quot;es_password&quot;));\r\n\r\n            RestClient restClient = RestClient.builder(new HttpHost(&quot;es-demo-cluster&quot;, 9200, &quot;https&quot;))\r\n                    .setHttpClientConfigCallback(httpClientBuilder -&gt; httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider)).build();\r\n\r\n            OpenSearchTransport transport = new RestClientTransport(restClient, jacksonJsonpMapper);\r\n            OpenSearchClient openSearchClient = new OpenSearchClient(transport);\r\n            boolean isConneted = openSearchClient.ping().value();\r\n            if (isConneted) {\r\n                log.info(&quot;ES connected &quot;);\r\n            } else {\r\n                log.error(&quot;ES NOT connected&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            log.error(&quot;Failed to connect to ES &quot;);\r\n        }\r\n    }\r\n     \r\nBut getting Timeout exception here : \r\n\r\n    &gt; java.net.ConnectException: Timeout connecting to [host:9200]\r\n    \tat org.opensearch.client.RestClient.extractAndWrapCause(RestClient.java:953)\r\n    \tat org.opensearch.client.RestClient.performRequest(RestClient.java:332)\r\n    \tat org.opensearch.client.RestClient.performRequest(RestClient.java:320)\r\n    \tat org.opensearch.client.transport.rest_client.RestClientTransport.performRequest(RestClientTransport.java:142)\r\n\r\ndependencies : \r\n\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.opensearch.client&lt;/groupId&gt;\r\n        &lt;artifactId&gt;opensearch-rest-client&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.opensearch.client&lt;/groupId&gt;\r\n        &lt;artifactId&gt;opensearch-java&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\nOur ES service is hosted in AWS and the demo endpoint[es-demo-cluster] is public. Able to do curl &quot;es_endpoint[es-demo-cluster]&quot; but connecting via Java client is throwing an exception. Can someone help with this?\r\n\r\n\r\n  [1]: https://learnersbucket.com/examples/elasticsearch/how-to-connect-to-the-opensearch-via-java-client/","title":"Timeout exception while connecting to opensearch java client","body":"<p>Trying to connect opensearch [AWS] via JavaClient and followed <a href=\"https://learnersbucket.com/examples/elasticsearch/how-to-connect-to-the-opensearch-via-java-client/\" rel=\"nofollow noreferrer\">this</a> blog. We don't have ssl authentication enabled in AWS for this demo.</p>\n<pre><code>public void connect(){\n    try {\n        CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n        credentialsProvider.setCredentials(AuthScope.ANY,\n                new UsernamePasswordCredentials(&quot;es_cluster_username&quot;, &quot;es_password&quot;));\n\n        RestClient restClient = RestClient.builder(new HttpHost(&quot;es-demo-cluster&quot;, 9200, &quot;https&quot;))\n                .setHttpClientConfigCallback(httpClientBuilder -&gt; httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider)).build();\n\n        OpenSearchTransport transport = new RestClientTransport(restClient, jacksonJsonpMapper);\n        OpenSearchClient openSearchClient = new OpenSearchClient(transport);\n        boolean isConneted = openSearchClient.ping().value();\n        if (isConneted) {\n            log.info(&quot;ES connected &quot;);\n        } else {\n            log.error(&quot;ES NOT connected&quot;);\n        }\n    } catch (Exception e) {\n        log.error(&quot;Failed to connect to ES &quot;);\n    }\n}\n \n</code></pre>\n<p>But getting Timeout exception here :</p>\n<pre><code>&gt; java.net.ConnectException: Timeout connecting to [host:9200]\n    at org.opensearch.client.RestClient.extractAndWrapCause(RestClient.java:953)\n    at org.opensearch.client.RestClient.performRequest(RestClient.java:332)\n    at org.opensearch.client.RestClient.performRequest(RestClient.java:320)\n    at org.opensearch.client.transport.rest_client.RestClientTransport.performRequest(RestClientTransport.java:142)\n</code></pre>\n<p>dependencies :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.opensearch.client&lt;/groupId&gt;\n    &lt;artifactId&gt;opensearch-rest-client&lt;/artifactId&gt;\n    &lt;version&gt;2.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.opensearch.client&lt;/groupId&gt;\n    &lt;artifactId&gt;opensearch-java&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Our ES service is hosted in AWS and the demo endpoint[es-demo-cluster] is public. Able to do curl &quot;es_endpoint[es-demo-cluster]&quot; but connecting via Java client is throwing an exception. Can someone help with this?</p>\n"},{"tags":["java","netty","project-reactor","reactive","apache-sshd"],"answers":[{"tags":[],"owner":{"account_id":15875464,"reputation":163,"user_id":11459084,"display_name":"vivi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657479252,"creation_date":1657362559,"answer_id":72920627,"question_id":72699166,"body_markdown":"I finally found a working solution. The previous problem was that `Mono&lt;Void&gt;` does not trigger the subsequent tasks in the pipeline.\r\n\r\nHere are the new changes:\r\n```java\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.time.Duration;\r\nimport org.apache.sshd.client.SshClient;\r\nimport org.apache.sshd.client.channel.ClientChannel;\r\nimport org.apache.sshd.client.session.ClientSession;\r\nimport org.apache.sshd.common.channel.StreamingChannel;\r\nimport org.apache.sshd.common.future.SshFutureListener;\r\nimport org.apache.sshd.common.io.IoInputStream;\r\nimport org.apache.sshd.common.io.IoOutputStream;\r\nimport org.apache.sshd.common.io.IoReadFuture;\r\nimport org.apache.sshd.common.io.IoWriteFuture;\r\nimport org.apache.sshd.common.util.buffer.Buffer;\r\nimport org.apache.sshd.common.util.buffer.ByteArrayBuffer;\r\nimport reactor.core.publisher.Mono;\r\nimport reactor.core.publisher.MonoSink;\r\nimport reactor.core.scheduler.Schedulers;\r\n\r\n// start a docker container\r\n// docker run -d --rm -e SUDO_ACCESS=false -e PASSWORD_ACCESS=true -e USER_NAME=username -e\r\n// USER_PASSWORD=password -p 2222:2222 lscr.io/linuxserver/openssh-server:latest\r\n\r\npublic class SshDocker {\r\n  private static final String hostname = &quot;localhost&quot;;\r\n  private static final String username = &quot;username&quot;;\r\n  private static final String password = &quot;password&quot;;\r\n  private static final int port = 2222;\r\n  private static final Duration clientTimeout = Duration.ofSeconds(10);\r\n  private IoInputStream responseStream;\r\n  private IoOutputStream requestStream;\r\n  private SshClient client;\r\n  private ClientSession session;\r\n  private ClientChannel channel;\r\n\r\n  private Boolean openNotReactive() throws IOException {\r\n    client = SshClient.setUpDefaultClient();\r\n    client.start();\r\n\r\n    session = client.connect(username, hostname, port).verify(clientTimeout).getSession();\r\n    session.addPasswordIdentity(password);\r\n    session.auth().verify(clientTimeout);\r\n\r\n    channel = session.createShellChannel();\r\n    channel.setStreaming(StreamingChannel.Streaming.Async);\r\n    channel.open().verify(clientTimeout);\r\n\r\n    responseStream = channel.getAsyncOut();\r\n    requestStream = channel.getAsyncIn();\r\n    return true;\r\n  }\r\n\r\n  public Mono&lt;String&gt; open() {\r\n    final Duration timeout = Duration.ofSeconds(10);\r\n    final Mono&lt;Boolean&gt; open =\r\n        Mono.fromCallable(this::openNotReactive).subscribeOn(Schedulers.boundedElastic());\r\n    return open.flatMap(r -&gt; readResponse(timeout));\r\n  }\r\n\r\n  public Mono&lt;Boolean&gt; close() {\r\n    return Mono.fromCallable(\r\n            () -&gt; {\r\n              closeNotReactive();\r\n              return true;\r\n            })\r\n        .subscribeOn(Schedulers.boundedElastic());\r\n  }\r\n\r\n  private void closeNotReactive() throws Exception {\r\n    System.out.println(&quot;Closing&quot;);\r\n    channel.close();\r\n    session.close();\r\n    client.close();\r\n  }\r\n\r\n  public Mono&lt;String&gt; execCommand(final String command, final Duration timeout) {\r\n    return runCommand(command, timeout).flatMap(v -&gt; readResponse(timeout)).log();\r\n  }\r\n\r\n  private Mono&lt;Boolean&gt; runCommand(final String command, final Duration timeout) {\r\n    final String cmd = String.format(&quot;%s\\n&quot;, command.strip());\r\n    return Mono.create(\r\n        monoSink -&gt; {\r\n          final ReactiveMonoRequestListener reactiveMonoRequestListener =\r\n              new ReactiveMonoRequestListener(timeout, monoSink);\r\n          try {\r\n            final IoWriteFuture writeFuture =\r\n                requestStream.writeBuffer(new ByteArrayBuffer(cmd.getBytes()));\r\n            writeFuture.addListener(reactiveMonoRequestListener);\r\n            monoSink.onDispose(() -&gt; writeFuture.removeListener(reactiveMonoRequestListener));\r\n          } catch (final IOException e) {\r\n            throw new RuntimeException(e);\r\n          }\r\n        });\r\n  }\r\n\r\n  private Mono&lt;String&gt; readResponse(final Duration timeout) {\r\n    // https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#create-java.util.function.Consumer-\r\n    return Mono.create(\r\n        monoSink -&gt; {\r\n          final ReactiveMonoResponseListener reactiveResponseListener =\r\n              new ReactiveMonoResponseListener(responseStream, timeout, monoSink);\r\n          final IoReadFuture readFuture = responseStream.read(new ByteArrayBuffer());\r\n          readFuture.addListener(reactiveResponseListener);\r\n          monoSink.onDispose(() -&gt; readFuture.removeListener(reactiveResponseListener));\r\n        });\r\n  }\r\n\r\n  public static class ReactiveMonoResponseListener implements SshFutureListener&lt;IoReadFuture&gt; {\r\n\r\n    final IoInputStream responseStream;\r\n    final ByteArrayOutputStream result = new ByteArrayOutputStream();\r\n    private final Duration timeout;\r\n    private final MonoSink&lt;String&gt; handler;\r\n\r\n    public ReactiveMonoResponseListener(\r\n        final IoInputStream responseStream,\r\n        final Duration timeout,\r\n        final MonoSink&lt;String&gt; handler) {\r\n      this.responseStream = responseStream;\r\n      this.timeout = timeout;\r\n      this.handler = handler;\r\n    }\r\n\r\n    @Override\r\n    public void operationComplete(final IoReadFuture ioReadFuture) {\r\n      System.out.println(&quot;Operation Read Complete&quot;);\r\n      if (handler != null) {\r\n        try {\r\n          ioReadFuture.verify(timeout);\r\n          final Buffer buffer = ioReadFuture.getBuffer();\r\n          result.write(buffer.array(), buffer.rpos(), buffer.available());\r\n          buffer.rpos(buffer.rpos() + buffer.available());\r\n          buffer.compact();\r\n          if (!result.toString().endsWith(&quot;$ &quot;)) { // read response until next prompt\r\n            responseStream.read(buffer).addListener(this);\r\n          } else {\r\n            System.out.println(&quot;response mono &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n            System.out.println(result);\r\n            System.out.println(&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; response mono&quot;);\r\n\r\n            handler.success(result.toString());\r\n          }\r\n        } catch (final IOException e) {\r\n          handler.error(e);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public static class ReactiveMonoRequestListener implements SshFutureListener&lt;IoWriteFuture&gt; {\r\n\r\n    private final MonoSink&lt;Boolean&gt; handler;\r\n    private final Duration timeout;\r\n\r\n    public ReactiveMonoRequestListener(final Duration timeout, final MonoSink&lt;Boolean&gt; handler) {\r\n      this.handler = handler;\r\n      this.timeout = timeout;\r\n    }\r\n\r\n    @Override\r\n    public void operationComplete(final IoWriteFuture ioWriteFuture) {\r\n      System.out.println(&quot;Operation Write Complete&quot;);\r\n      if (handler != null) {\r\n        try {\r\n          ioWriteFuture.verify(timeout);\r\n          handler.success(true);\r\n        } catch (final IOException e) {\r\n          handler.error(e);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nand the &quot;test&quot; to run the application:\r\n\r\n```\r\nimport java.time.Duration;\r\nimport org.junit.jupiter.api.Test;\r\nimport reactor.core.publisher.Mono;\r\nimport reactor.test.StepVerifier;\r\n\r\nclass SshDockerTest {\r\n\r\n  @Test\r\n  void run() {\r\n    final SshDocker sshClient = new SshDocker();\r\n    final Mono&lt;Boolean&gt; result = sshClient\r\n        .open()\r\n        .flatMap(r -&gt; sshClient.execCommand(&quot;ls&quot;, Duration.ofSeconds(3)))\r\n        .flatMap(r -&gt; sshClient.execCommand(&quot;pwd&quot;, Duration.ofSeconds(3)))\r\n        .flatMap(r -&gt; sshClient.close());\r\n    StepVerifier.create(result).expectNext(true).verifyComplete();\r\n  }\r\n}\r\n```\r\n\r\nIs it possible to use `AutoClosable` with reactor so that I don&#39;t need to pay to much attention to manually calling the close method?\r\n\r\nIf you see any improvement, please let me know.","title":"How to use sshd mina/netty with projectreactor","body":"<p>I finally found a working solution. The previous problem was that <code>Mono&lt;Void&gt;</code> does not trigger the subsequent tasks in the pipeline.</p>\n<p>Here are the new changes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.time.Duration;\nimport org.apache.sshd.client.SshClient;\nimport org.apache.sshd.client.channel.ClientChannel;\nimport org.apache.sshd.client.session.ClientSession;\nimport org.apache.sshd.common.channel.StreamingChannel;\nimport org.apache.sshd.common.future.SshFutureListener;\nimport org.apache.sshd.common.io.IoInputStream;\nimport org.apache.sshd.common.io.IoOutputStream;\nimport org.apache.sshd.common.io.IoReadFuture;\nimport org.apache.sshd.common.io.IoWriteFuture;\nimport org.apache.sshd.common.util.buffer.Buffer;\nimport org.apache.sshd.common.util.buffer.ByteArrayBuffer;\nimport reactor.core.publisher.Mono;\nimport reactor.core.publisher.MonoSink;\nimport reactor.core.scheduler.Schedulers;\n\n// start a docker container\n// docker run -d --rm -e SUDO_ACCESS=false -e PASSWORD_ACCESS=true -e USER_NAME=username -e\n// USER_PASSWORD=password -p 2222:2222 lscr.io/linuxserver/openssh-server:latest\n\npublic class SshDocker {\n  private static final String hostname = &quot;localhost&quot;;\n  private static final String username = &quot;username&quot;;\n  private static final String password = &quot;password&quot;;\n  private static final int port = 2222;\n  private static final Duration clientTimeout = Duration.ofSeconds(10);\n  private IoInputStream responseStream;\n  private IoOutputStream requestStream;\n  private SshClient client;\n  private ClientSession session;\n  private ClientChannel channel;\n\n  private Boolean openNotReactive() throws IOException {\n    client = SshClient.setUpDefaultClient();\n    client.start();\n\n    session = client.connect(username, hostname, port).verify(clientTimeout).getSession();\n    session.addPasswordIdentity(password);\n    session.auth().verify(clientTimeout);\n\n    channel = session.createShellChannel();\n    channel.setStreaming(StreamingChannel.Streaming.Async);\n    channel.open().verify(clientTimeout);\n\n    responseStream = channel.getAsyncOut();\n    requestStream = channel.getAsyncIn();\n    return true;\n  }\n\n  public Mono&lt;String&gt; open() {\n    final Duration timeout = Duration.ofSeconds(10);\n    final Mono&lt;Boolean&gt; open =\n        Mono.fromCallable(this::openNotReactive).subscribeOn(Schedulers.boundedElastic());\n    return open.flatMap(r -&gt; readResponse(timeout));\n  }\n\n  public Mono&lt;Boolean&gt; close() {\n    return Mono.fromCallable(\n            () -&gt; {\n              closeNotReactive();\n              return true;\n            })\n        .subscribeOn(Schedulers.boundedElastic());\n  }\n\n  private void closeNotReactive() throws Exception {\n    System.out.println(&quot;Closing&quot;);\n    channel.close();\n    session.close();\n    client.close();\n  }\n\n  public Mono&lt;String&gt; execCommand(final String command, final Duration timeout) {\n    return runCommand(command, timeout).flatMap(v -&gt; readResponse(timeout)).log();\n  }\n\n  private Mono&lt;Boolean&gt; runCommand(final String command, final Duration timeout) {\n    final String cmd = String.format(&quot;%s\\n&quot;, command.strip());\n    return Mono.create(\n        monoSink -&gt; {\n          final ReactiveMonoRequestListener reactiveMonoRequestListener =\n              new ReactiveMonoRequestListener(timeout, monoSink);\n          try {\n            final IoWriteFuture writeFuture =\n                requestStream.writeBuffer(new ByteArrayBuffer(cmd.getBytes()));\n            writeFuture.addListener(reactiveMonoRequestListener);\n            monoSink.onDispose(() -&gt; writeFuture.removeListener(reactiveMonoRequestListener));\n          } catch (final IOException e) {\n            throw new RuntimeException(e);\n          }\n        });\n  }\n\n  private Mono&lt;String&gt; readResponse(final Duration timeout) {\n    // https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#create-java.util.function.Consumer-\n    return Mono.create(\n        monoSink -&gt; {\n          final ReactiveMonoResponseListener reactiveResponseListener =\n              new ReactiveMonoResponseListener(responseStream, timeout, monoSink);\n          final IoReadFuture readFuture = responseStream.read(new ByteArrayBuffer());\n          readFuture.addListener(reactiveResponseListener);\n          monoSink.onDispose(() -&gt; readFuture.removeListener(reactiveResponseListener));\n        });\n  }\n\n  public static class ReactiveMonoResponseListener implements SshFutureListener&lt;IoReadFuture&gt; {\n\n    final IoInputStream responseStream;\n    final ByteArrayOutputStream result = new ByteArrayOutputStream();\n    private final Duration timeout;\n    private final MonoSink&lt;String&gt; handler;\n\n    public ReactiveMonoResponseListener(\n        final IoInputStream responseStream,\n        final Duration timeout,\n        final MonoSink&lt;String&gt; handler) {\n      this.responseStream = responseStream;\n      this.timeout = timeout;\n      this.handler = handler;\n    }\n\n    @Override\n    public void operationComplete(final IoReadFuture ioReadFuture) {\n      System.out.println(&quot;Operation Read Complete&quot;);\n      if (handler != null) {\n        try {\n          ioReadFuture.verify(timeout);\n          final Buffer buffer = ioReadFuture.getBuffer();\n          result.write(buffer.array(), buffer.rpos(), buffer.available());\n          buffer.rpos(buffer.rpos() + buffer.available());\n          buffer.compact();\n          if (!result.toString().endsWith(&quot;$ &quot;)) { // read response until next prompt\n            responseStream.read(buffer).addListener(this);\n          } else {\n            System.out.println(&quot;response mono &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\n            System.out.println(result);\n            System.out.println(&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; response mono&quot;);\n\n            handler.success(result.toString());\n          }\n        } catch (final IOException e) {\n          handler.error(e);\n        }\n      }\n    }\n  }\n\n  public static class ReactiveMonoRequestListener implements SshFutureListener&lt;IoWriteFuture&gt; {\n\n    private final MonoSink&lt;Boolean&gt; handler;\n    private final Duration timeout;\n\n    public ReactiveMonoRequestListener(final Duration timeout, final MonoSink&lt;Boolean&gt; handler) {\n      this.handler = handler;\n      this.timeout = timeout;\n    }\n\n    @Override\n    public void operationComplete(final IoWriteFuture ioWriteFuture) {\n      System.out.println(&quot;Operation Write Complete&quot;);\n      if (handler != null) {\n        try {\n          ioWriteFuture.verify(timeout);\n          handler.success(true);\n        } catch (final IOException e) {\n          handler.error(e);\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>and the &quot;test&quot; to run the application:</p>\n<pre><code>import java.time.Duration;\nimport org.junit.jupiter.api.Test;\nimport reactor.core.publisher.Mono;\nimport reactor.test.StepVerifier;\n\nclass SshDockerTest {\n\n  @Test\n  void run() {\n    final SshDocker sshClient = new SshDocker();\n    final Mono&lt;Boolean&gt; result = sshClient\n        .open()\n        .flatMap(r -&gt; sshClient.execCommand(&quot;ls&quot;, Duration.ofSeconds(3)))\n        .flatMap(r -&gt; sshClient.execCommand(&quot;pwd&quot;, Duration.ofSeconds(3)))\n        .flatMap(r -&gt; sshClient.close());\n    StepVerifier.create(result).expectNext(true).verifyComplete();\n  }\n}\n</code></pre>\n<p>Is it possible to use <code>AutoClosable</code> with reactor so that I don't need to pay to much attention to manually calling the close method?</p>\n<p>If you see any improvement, please let me know.</p>\n"}],"owner":{"account_id":15875464,"reputation":163,"user_id":11459084,"display_name":"vivi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":688,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680111749,"creation_date":1655807209,"question_id":72699166,"body_markdown":"I want to develop a java reactive application which needs to communicate to some external services via ssh. As reactive framework, I am using spring boot webflux from the project reactor and sshd mina/netty for the ssh client. Basically, the application will open a ssh session and run some commands on the server. The logic with the command depends on the responses of previous commands.\r\n\r\nThe question is, how to integrate sshd mina into spring boot project reactor (Mono/Flux)?\r\n\r\nsshd mina offers the possibility to use async response, as shown in the test: https://github.com/apache/mina-sshd/blob/c876cce935f9278b0d50f02fd554eff1af949060/sshd-core/src/test/java/org/apache/sshd/client/ClientTest.java#L560\r\n\r\nbut I don&#39;t know how to integrate that with Mono/Flux.\r\n\r\nUntil now, I am able to get the responce corresponding to the login but not the following response after sending a command.\r\n\r\nHere is my setup code\r\n\r\nthe test ssh server is create via docker\r\n```\r\ndocker run -d --rm -e SUDO_ACCESS=false -e PASSWORD_ACCESS=true -e USER_NAME=username -e USER_PASSWORD=password -p 2222:2222 lscr.io/linuxserver/openssh-server:latest\r\n```\r\n\r\nthe java project contains the following dependencies\r\n```xml\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.sshd&lt;/groupId&gt;\r\n      &lt;artifactId&gt;sshd-netty&lt;/artifactId&gt;\r\n      &lt;version&gt;2.8.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n      &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nthe ssh client code which I would like it to be reactive\r\nwith the mina documentation (https://github.com/apache/mina-sshd)\r\nand the only example I could find of mina async client usage (https://github.com/apache/mina-sshd/blob/master/sshd-core/src/test/java/org/apache/sshd/client/ClientTest.java#L518)\r\n```java\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.time.Duration;\r\nimport org.apache.sshd.client.SshClient;\r\nimport org.apache.sshd.client.channel.ClientChannel;\r\nimport org.apache.sshd.client.session.ClientSession;\r\nimport org.apache.sshd.common.channel.StreamingChannel;\r\nimport org.apache.sshd.common.future.SshFutureListener;\r\nimport org.apache.sshd.common.io.IoInputStream;\r\nimport org.apache.sshd.common.io.IoOutputStream;\r\nimport org.apache.sshd.common.io.IoReadFuture;\r\nimport org.apache.sshd.common.io.IoWriteFuture;\r\nimport org.apache.sshd.common.util.buffer.Buffer;\r\nimport org.apache.sshd.common.util.buffer.ByteArrayBuffer;\r\nimport reactor.core.publisher.Mono;\r\nimport reactor.core.publisher.MonoSink;\r\n\r\npublic class SshDocker implements AutoCloseable {\r\n  private static final String hostname = &quot;localhost&quot;;\r\n  private static final String username = &quot;username&quot;;\r\n  private static final String password = &quot;password&quot;;\r\n  private static final int port = 2222;\r\n  private static final Duration clientTimeout = Duration.ofSeconds(10);\r\n  private SshClient client;\r\n  private ClientSession session;\r\n  private ClientChannel channel;\r\n\r\n  public Mono&lt;String&gt; open() throws IOException {\r\n    client = SshClient.setUpDefaultClient();\r\n    client.start();\r\n\r\n    session = client.connect(username, hostname, port).verify(clientTimeout).getSession();\r\n    session.addPasswordIdentity(password);\r\n    session.auth().verify(clientTimeout);\r\n\r\n    channel = session.createShellChannel();\r\n    channel.setStreaming(StreamingChannel.Streaming.Async);\r\n    channel.open().verify(clientTimeout);\r\n\r\n    final Duration timeout = Duration.ofSeconds(10);\r\n    return readResponse(timeout);\r\n  }\r\n\r\n  @Override\r\n  public void close() throws Exception {\r\n    channel.close();\r\n    session.close();\r\n    client.close();\r\n  }\r\n\r\n  public Mono&lt;String&gt; execCommand(final String command, final Duration timeout) {\r\n    return runCommand(command, timeout).flatMap(v -&gt; readResponse(timeout));\r\n  }\r\n\r\n  private Mono&lt;Void&gt; runCommand(final String command, final Duration timeout) {\r\n    final IoOutputStream requestStream = channel.getAsyncIn();\r\n    return Mono.create(\r\n        voidMonoSink -&gt; {\r\n          final ReactiveMonoRequestListener reactiveMonoRequestListener =\r\n              new ReactiveMonoRequestListener(timeout, voidMonoSink);\r\n          try {\r\n            requestStream\r\n                .writeBuffer(new ByteArrayBuffer(command.getBytes()))\r\n                .addListener(reactiveMonoRequestListener);\r\n          } catch (final IOException e) {\r\n            throw new RuntimeException(e);\r\n          }\r\n        });\r\n  }\r\n\r\n  private Mono&lt;String&gt; readResponse(final Duration timeout) {\r\n    final IoInputStream responseStream = channel.getAsyncOut();\r\n    return Mono.create(\r\n        monoSink -&gt; {\r\n          final ReactiveMonoResponseListener reactiveResponseListener =\r\n              new ReactiveMonoResponseListener(responseStream, timeout, monoSink);\r\n          responseStream.read(new ByteArrayBuffer()).addListener(reactiveResponseListener);\r\n        });\r\n  }\r\n\r\n  public static class ReactiveMonoResponseListener implements SshFutureListener&lt;IoReadFuture&gt; {\r\n\r\n    final IoInputStream responseStream;\r\n    final ByteArrayOutputStream result = new ByteArrayOutputStream();\r\n    private final Duration timeout;\r\n    private final MonoSink&lt;String&gt; handler;\r\n\r\n    public ReactiveMonoResponseListener(\r\n        final IoInputStream responseStream,\r\n        final Duration timeout,\r\n        final MonoSink&lt;String&gt; handler) {\r\n      this.responseStream = responseStream;\r\n      this.timeout = timeout;\r\n      this.handler = handler;\r\n    }\r\n\r\n    @Override\r\n    public void operationComplete(final IoReadFuture ioReadFuture) {\r\n      System.out.println(&quot;Operation Read Complete&quot;);\r\n      if (handler != null) {\r\n        try {\r\n          ioReadFuture.verify(timeout);\r\n          final Buffer buffer = ioReadFuture.getBuffer();\r\n          result.write(buffer.array(), buffer.rpos(), buffer.available());\r\n          buffer.rpos(buffer.rpos() + buffer.available());\r\n          buffer.compact();\r\n          if (!result.toString().endsWith(&quot;$ &quot;)) { // read response until next prompt\r\n            responseStream.read(buffer).addListener(this);\r\n          } else {\r\n            System.out.println(&quot;response &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n            System.out.println(result);\r\n            System.out.println(&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; response&quot;);\r\n\r\n            handler.success(result.toString());\r\n          }\r\n        } catch (final IOException e) {\r\n          handler.error(e);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public static class ReactiveMonoRequestListener implements SshFutureListener&lt;IoWriteFuture&gt; {\r\n\r\n    private final MonoSink&lt;Void&gt; handler;\r\n    private final Duration timeout;\r\n\r\n    public ReactiveMonoRequestListener(final Duration timeout, final MonoSink&lt;Void&gt; handler) {\r\n      this.handler = handler;\r\n      this.timeout = timeout;\r\n    }\r\n\r\n    @Override\r\n    public void operationComplete(final IoWriteFuture ioWriteFuture) {\r\n      System.out.println(&quot;Operation Write Complete&quot;);\r\n      if (handler != null) {\r\n        try {\r\n          ioWriteFuture.verify(timeout);\r\n          handler.success();\r\n        } catch (final IOException e) {\r\n          handler.error(e);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nthe test used to run the reactive ssh client\r\n```java\r\nimport java.time.Duration;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nclass SshDockerTest {\r\n\r\n  @Test\r\n  void run() throws Exception {\r\n    final SshDocker sshClient = new SshDocker();\r\n    sshClient\r\n        .open()\r\n        .flatMap(v -&gt; sshClient.execCommand(&quot;ls\\n&quot;, Duration.ofSeconds(3)))\r\n        .subscribe(System.out::println);\r\n  }\r\n}\r\n```\r\n\r\nwhen running the test, beside the debug log, I obtain:\r\n```\r\nOperation Read Complete\r\nresponse &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\r\nWelcome to OpenSSH Server\r\n\r\n65d098057769:~$\r\n&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; response\r\nOperation Write Complete\r\n```\r\nbut no sign of the response for the `ls` command\r\n\r\n\r\nif it is not possible to transform that sshd mina into reactive, what would be an alternative reactive solution?\r\n\r\nThanks","title":"How to use sshd mina/netty with projectreactor","body":"<p>I want to develop a java reactive application which needs to communicate to some external services via ssh. As reactive framework, I am using spring boot webflux from the project reactor and sshd mina/netty for the ssh client. Basically, the application will open a ssh session and run some commands on the server. The logic with the command depends on the responses of previous commands.</p>\n<p>The question is, how to integrate sshd mina into spring boot project reactor (Mono/Flux)?</p>\n<p>sshd mina offers the possibility to use async response, as shown in the test: <a href=\"https://github.com/apache/mina-sshd/blob/c876cce935f9278b0d50f02fd554eff1af949060/sshd-core/src/test/java/org/apache/sshd/client/ClientTest.java#L560\" rel=\"nofollow noreferrer\">https://github.com/apache/mina-sshd/blob/c876cce935f9278b0d50f02fd554eff1af949060/sshd-core/src/test/java/org/apache/sshd/client/ClientTest.java#L560</a></p>\n<p>but I don't know how to integrate that with Mono/Flux.</p>\n<p>Until now, I am able to get the responce corresponding to the login but not the following response after sending a command.</p>\n<p>Here is my setup code</p>\n<p>the test ssh server is create via docker</p>\n<pre><code>docker run -d --rm -e SUDO_ACCESS=false -e PASSWORD_ACCESS=true -e USER_NAME=username -e USER_PASSWORD=password -p 2222:2222 lscr.io/linuxserver/openssh-server:latest\n</code></pre>\n<p>the java project contains the following dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.sshd&lt;/groupId&gt;\n      &lt;artifactId&gt;sshd-netty&lt;/artifactId&gt;\n      &lt;version&gt;2.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n      &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>the ssh client code which I would like it to be reactive\nwith the mina documentation (<a href=\"https://github.com/apache/mina-sshd\" rel=\"nofollow noreferrer\">https://github.com/apache/mina-sshd</a>)\nand the only example I could find of mina async client usage (<a href=\"https://github.com/apache/mina-sshd/blob/master/sshd-core/src/test/java/org/apache/sshd/client/ClientTest.java#L518\" rel=\"nofollow noreferrer\">https://github.com/apache/mina-sshd/blob/master/sshd-core/src/test/java/org/apache/sshd/client/ClientTest.java#L518</a>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.time.Duration;\nimport org.apache.sshd.client.SshClient;\nimport org.apache.sshd.client.channel.ClientChannel;\nimport org.apache.sshd.client.session.ClientSession;\nimport org.apache.sshd.common.channel.StreamingChannel;\nimport org.apache.sshd.common.future.SshFutureListener;\nimport org.apache.sshd.common.io.IoInputStream;\nimport org.apache.sshd.common.io.IoOutputStream;\nimport org.apache.sshd.common.io.IoReadFuture;\nimport org.apache.sshd.common.io.IoWriteFuture;\nimport org.apache.sshd.common.util.buffer.Buffer;\nimport org.apache.sshd.common.util.buffer.ByteArrayBuffer;\nimport reactor.core.publisher.Mono;\nimport reactor.core.publisher.MonoSink;\n\npublic class SshDocker implements AutoCloseable {\n  private static final String hostname = &quot;localhost&quot;;\n  private static final String username = &quot;username&quot;;\n  private static final String password = &quot;password&quot;;\n  private static final int port = 2222;\n  private static final Duration clientTimeout = Duration.ofSeconds(10);\n  private SshClient client;\n  private ClientSession session;\n  private ClientChannel channel;\n\n  public Mono&lt;String&gt; open() throws IOException {\n    client = SshClient.setUpDefaultClient();\n    client.start();\n\n    session = client.connect(username, hostname, port).verify(clientTimeout).getSession();\n    session.addPasswordIdentity(password);\n    session.auth().verify(clientTimeout);\n\n    channel = session.createShellChannel();\n    channel.setStreaming(StreamingChannel.Streaming.Async);\n    channel.open().verify(clientTimeout);\n\n    final Duration timeout = Duration.ofSeconds(10);\n    return readResponse(timeout);\n  }\n\n  @Override\n  public void close() throws Exception {\n    channel.close();\n    session.close();\n    client.close();\n  }\n\n  public Mono&lt;String&gt; execCommand(final String command, final Duration timeout) {\n    return runCommand(command, timeout).flatMap(v -&gt; readResponse(timeout));\n  }\n\n  private Mono&lt;Void&gt; runCommand(final String command, final Duration timeout) {\n    final IoOutputStream requestStream = channel.getAsyncIn();\n    return Mono.create(\n        voidMonoSink -&gt; {\n          final ReactiveMonoRequestListener reactiveMonoRequestListener =\n              new ReactiveMonoRequestListener(timeout, voidMonoSink);\n          try {\n            requestStream\n                .writeBuffer(new ByteArrayBuffer(command.getBytes()))\n                .addListener(reactiveMonoRequestListener);\n          } catch (final IOException e) {\n            throw new RuntimeException(e);\n          }\n        });\n  }\n\n  private Mono&lt;String&gt; readResponse(final Duration timeout) {\n    final IoInputStream responseStream = channel.getAsyncOut();\n    return Mono.create(\n        monoSink -&gt; {\n          final ReactiveMonoResponseListener reactiveResponseListener =\n              new ReactiveMonoResponseListener(responseStream, timeout, monoSink);\n          responseStream.read(new ByteArrayBuffer()).addListener(reactiveResponseListener);\n        });\n  }\n\n  public static class ReactiveMonoResponseListener implements SshFutureListener&lt;IoReadFuture&gt; {\n\n    final IoInputStream responseStream;\n    final ByteArrayOutputStream result = new ByteArrayOutputStream();\n    private final Duration timeout;\n    private final MonoSink&lt;String&gt; handler;\n\n    public ReactiveMonoResponseListener(\n        final IoInputStream responseStream,\n        final Duration timeout,\n        final MonoSink&lt;String&gt; handler) {\n      this.responseStream = responseStream;\n      this.timeout = timeout;\n      this.handler = handler;\n    }\n\n    @Override\n    public void operationComplete(final IoReadFuture ioReadFuture) {\n      System.out.println(&quot;Operation Read Complete&quot;);\n      if (handler != null) {\n        try {\n          ioReadFuture.verify(timeout);\n          final Buffer buffer = ioReadFuture.getBuffer();\n          result.write(buffer.array(), buffer.rpos(), buffer.available());\n          buffer.rpos(buffer.rpos() + buffer.available());\n          buffer.compact();\n          if (!result.toString().endsWith(&quot;$ &quot;)) { // read response until next prompt\n            responseStream.read(buffer).addListener(this);\n          } else {\n            System.out.println(&quot;response &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\n            System.out.println(result);\n            System.out.println(&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; response&quot;);\n\n            handler.success(result.toString());\n          }\n        } catch (final IOException e) {\n          handler.error(e);\n        }\n      }\n    }\n  }\n\n  public static class ReactiveMonoRequestListener implements SshFutureListener&lt;IoWriteFuture&gt; {\n\n    private final MonoSink&lt;Void&gt; handler;\n    private final Duration timeout;\n\n    public ReactiveMonoRequestListener(final Duration timeout, final MonoSink&lt;Void&gt; handler) {\n      this.handler = handler;\n      this.timeout = timeout;\n    }\n\n    @Override\n    public void operationComplete(final IoWriteFuture ioWriteFuture) {\n      System.out.println(&quot;Operation Write Complete&quot;);\n      if (handler != null) {\n        try {\n          ioWriteFuture.verify(timeout);\n          handler.success();\n        } catch (final IOException e) {\n          handler.error(e);\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>the test used to run the reactive ssh client</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.Duration;\nimport org.junit.jupiter.api.Test;\n\nclass SshDockerTest {\n\n  @Test\n  void run() throws Exception {\n    final SshDocker sshClient = new SshDocker();\n    sshClient\n        .open()\n        .flatMap(v -&gt; sshClient.execCommand(&quot;ls\\n&quot;, Duration.ofSeconds(3)))\n        .subscribe(System.out::println);\n  }\n}\n</code></pre>\n<p>when running the test, beside the debug log, I obtain:</p>\n<pre><code>Operation Read Complete\nresponse &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\nWelcome to OpenSSH Server\n\n65d098057769:~$\n&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; response\nOperation Write Complete\n</code></pre>\n<p>but no sign of the response for the <code>ls</code> command</p>\n<p>if it is not possible to transform that sshd mina into reactive, what would be an alternative reactive solution?</p>\n<p>Thanks</p>\n"},{"tags":["java","swing","user-interface","radio-button"],"comments":[{"owner":{"account_id":2103622,"reputation":26956,"user_id":1870555,"accept_rate":75,"display_name":"christopher"},"score":0,"creation_date":1376301252,"post_id":18184069,"comment_id":26644166,"body_markdown":"http://docs.oracle.com/javase/tutorial/uiswing/components/button.html","body":"<a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/button.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/components/button.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":1914874,"reputation":13438,"user_id":1727645,"accept_rate":81,"display_name":"Prasad Kharkar"},"score":0,"creation_date":1376301269,"post_id":18184069,"comment_id":26644174,"body_markdown":"ArrayLists can store dynamic number of elements","body":"ArrayLists can store dynamic number of elements"},{"owner":{"account_id":2447681,"reputation":6407,"user_id":2134604,"accept_rate":63,"display_name":"Pandiyan Cool"},"score":1,"creation_date":1376301381,"post_id":18184069,"comment_id":26644233,"body_markdown":"use loops to generate number of loops. Then hide the sub divided radio options. Enable them to visible, only when major button is selected.","body":"use loops to generate number of loops. Then hide the sub divided radio options. Enable them to visible, only when major button is selected."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1376303069,"post_id":18184069,"comment_id":26645166,"body_markdown":"For nesting properly use a JTree and render the nodes to radio buttons. It should even work with ButtonGroup to control for only one button selected.","body":"For nesting properly use a JTree and render the nodes to radio buttons. It should even work with ButtonGroup to control for only one button selected."},{"owner":{"account_id":3111080,"reputation":161,"user_id":2632781,"accept_rate":56,"display_name":"Chris"},"score":0,"creation_date":1376303415,"post_id":18184069,"comment_id":26645334,"body_markdown":"Ye ... I&#39;ll make use of ButtonGroup. I have a framework of drop down panels and I&#39;ll stick to it as well. I guess I&#39;m on the right path till now :).","body":"Ye ... I&#39;ll make use of ButtonGroup. I have a framework of drop down panels and I&#39;ll stick to it as well. I guess I&#39;m on the right path till now :)."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1376303782,"post_id":18184069,"comment_id":26645523,"body_markdown":"Depending on your requirements, you could use nested `JPanel`&#39;s and `EmptyBorder`","body":"Depending on your requirements, you could use nested <code>JPanel</code>&#39;s and <code>EmptyBorder</code>"},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1376306376,"post_id":18184069,"comment_id":26646921,"body_markdown":"here are a few JTree with JCheckBox as TreeCellRenderer/Editor, but ButtonGroup will be required little bit effort, use JComboBox as TreeCellEditor instead of bunch of code required for JRadioButtons in ButtonGroup as TreeCellRender/Editor, search for code stored only Boolean value,","body":"here are a few JTree with JCheckBox as TreeCellRenderer/Editor, but ButtonGroup will be required little bit effort, use JComboBox as TreeCellEditor instead of bunch of code required for JRadioButtons in ButtonGroup as TreeCellRender/Editor, search for code stored only Boolean value,"}],"answers":[{"tags":[],"owner":{"account_id":1816046,"reputation":1389,"user_id":1651107,"accept_rate":100,"display_name":"Piro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376499280,"creation_date":1376499280,"answer_id":18237751,"question_id":18184069,"body_markdown":"I do not recommend you to use nesting. It is good practice to use UI where components are aligned with each other as possible, and nesting would create vertical alignment for every level of nested components. Also in combination with radio buttons it requires large area of empty user interface!\r\n\r\nInstead of nesting you could place each level of radio buttons under previous level of radio buttons. Selecting radio button in one level would enable and update radio buttons in level under. Something like this, but imagine more radio button groups:\r\n\r\n![radio button groups][1]\r\n\r\n\r\nAlso you could replace radio buttons with combo boxes. That would save additional space and make UI even simpler.\r\n\r\nIf you really want radio button nesting, i would use GridBagLayout. Every radio button would be in one row and filling multiple columns. Every level of radio buttons would start on next column:\r\n\r\n![Radio buttons with grid][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/SApXA.jpg\r\n  [2]: http://i.stack.imgur.com/lSQ6b.jpg","title":"Java - dynamically generate Radio Buttons","body":"<p>I do not recommend you to use nesting. It is good practice to use UI where components are aligned with each other as possible, and nesting would create vertical alignment for every level of nested components. Also in combination with radio buttons it requires large area of empty user interface!</p>\n\n<p>Instead of nesting you could place each level of radio buttons under previous level of radio buttons. Selecting radio button in one level would enable and update radio buttons in level under. Something like this, but imagine more radio button groups:</p>\n\n<p><img src=\"https://i.stack.imgur.com/SApXA.jpg\" alt=\"radio button groups\"></p>\n\n<p>Also you could replace radio buttons with combo boxes. That would save additional space and make UI even simpler.</p>\n\n<p>If you really want radio button nesting, i would use GridBagLayout. Every radio button would be in one row and filling multiple columns. Every level of radio buttons would start on next column:</p>\n\n<p><img src=\"https://i.stack.imgur.com/lSQ6b.jpg\" alt=\"Radio buttons with grid\"></p>\n"},{"tags":[],"owner":{"account_id":3281906,"reputation":3459,"user_id":2762311,"accept_rate":74,"display_name":"Kishan Bheemajiyani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391622908,"creation_date":1391622908,"answer_id":21584760,"question_id":18184069,"body_markdown":"![enter image description here][1]Here Simple Exercise of adding button into the Swing and yes this example uses RadioButton.\r\n\r\nHere check it out this. \r\n\r\n    for (int i = 0; i &lt; 10; i++) {\r\n                \r\n                final JRadioButton button1 = new JRadioButton(&quot;Kishan&quot;+i);\r\n                jPanel1.add(button1);\r\n                buttonGroup1.add(button1);\r\n                \r\n                button1.addActionListener(new ActionListener() {\r\n    \r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        System.err.println(&quot;Action Performed..************&quot;);\r\n                        System.out.println(&quot;This is action text..&quot;+button1.getText()); \r\n                       \r\n                    }\r\n                });\r\n                \r\n            }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/wcDFz.jpg\r\n  [2]: http://i.stack.imgur.com/KVMmB.jpg","title":"Java - dynamically generate Radio Buttons","body":"<p><img src=\"https://i.stack.imgur.com/wcDFz.jpg\" alt=\"enter image description here\">Here Simple Exercise of adding button into the Swing and yes this example uses RadioButton.</p>\n\n<p>Here check it out this. </p>\n\n<pre><code>for (int i = 0; i &lt; 10; i++) {\n\n            final JRadioButton button1 = new JRadioButton(\"Kishan\"+i);\n            jPanel1.add(button1);\n            buttonGroup1.add(button1);\n\n            button1.addActionListener(new ActionListener() {\n\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    System.err.println(\"Action Performed..************\");\n                    System.out.println(\"This is action text..\"+button1.getText()); \n\n                }\n            });\n\n        }\n</code></pre>\n"}],"owner":{"account_id":3111080,"reputation":161,"user_id":2632781,"accept_rate":56,"display_name":"Chris"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4038,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680111657,"creation_date":1376301163,"question_id":18184069,"body_markdown":"Can someone give me some tips on how to dynamically generate nested radio buttons ? I never worked with radio buttons in JAVA, so before I start maybe I&#39;ll find some useful tips around here. I read the information from a database and using that I want to create some radio buttons, with drop down as well.\r\n\r\nSomething like this:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/JxdCp.jpg\r\n\r\nWhen I press My Savings Account a new drop down panel will appear with the set of the products that account has. Also I want my response for these radio buttons choice to be stored.","title":"Java - dynamically generate Radio Buttons","body":"<p>Can someone give me some tips on how to dynamically generate nested radio buttons ? I never worked with radio buttons in JAVA, so before I start maybe I'll find some useful tips around here. I read the information from a database and using that I want to create some radio buttons, with drop down as well.</p>\n\n<p>Something like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/JxdCp.jpg\" alt=\"enter image description here\"></p>\n\n<p>When I press My Savings Account a new drop down panel will appear with the set of the products that account has. Also I want my response for these radio buttons choice to be stored.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1680099554,"post_id":75878401,"comment_id":133840137,"body_markdown":"Please provide a [mcve]. There&#39;s really not enough to go on in the question at the moment.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. There&#39;s really not enough to go on in the question at the moment."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680099599,"creation_date":1680099599,"answer_id":75878479,"question_id":75878401,"body_markdown":"When an `ObjectOutputStream` is created, it writes a so-called stream header to the output stream it&#39;s wrapping. When an `ObjectInputStream` is created, it tries to read that stream header from the input stream it&#39;s wrapping. If it reads something else than the stream header, then it is invalid (e.g. because it is reading something that was not created with `ObjectOutputStream`)\r\n\r\nGenerally, it means one of the following things:\r\n\r\n1. You created an `ObjectInputStream` to read data which was not written by an `ObjectOutputStream`, but by something else\r\n2. You created **one** `ObjectOutputStream` to write objects, but created multiple `ObjectInputStream`s to read that data; the second and subsequent instances will produce an _&quot;invalid stream header&quot;_ error, because the stream header was only sent when `ObjectOutputStream` was created, and was consumed by the first instance.\r\n3. You&#39;re using some composite protocol, and have read or buffered too much data before switching to an `ObjectInputStream`, and thus the stream header was already consumed from the underlying input stream.","title":"What happens when an invalid stream header exception occurs?","body":"<p>When an <code>ObjectOutputStream</code> is created, it writes a so-called stream header to the output stream it's wrapping. When an <code>ObjectInputStream</code> is created, it tries to read that stream header from the input stream it's wrapping. If it reads something else than the stream header, then it is invalid (e.g. because it is reading something that was not created with <code>ObjectOutputStream</code>)</p>\n<p>Generally, it means one of the following things:</p>\n<ol>\n<li>You created an <code>ObjectInputStream</code> to read data which was not written by an <code>ObjectOutputStream</code>, but by something else</li>\n<li>You created <strong>one</strong> <code>ObjectOutputStream</code> to write objects, but created multiple <code>ObjectInputStream</code>s to read that data; the second and subsequent instances will produce an <em>&quot;invalid stream header&quot;</em> error, because the stream header was only sent when <code>ObjectOutputStream</code> was created, and was consumed by the first instance.</li>\n<li>You're using some composite protocol, and have read or buffered too much data before switching to an <code>ObjectInputStream</code>, and thus the stream header was already consumed from the underlying input stream.</li>\n</ol>\n"}],"owner":{"account_id":27445405,"reputation":1,"user_id":20939292,"display_name":"DufanNB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1680111603,"answer_count":1,"score":-1,"last_activity_date":1680111160,"creation_date":1680099210,"question_id":75878401,"body_markdown":"When using socket programming, there is an invalid stream header exception, and I don&#39;t know where the problem occurs after searching for a long time.\r\n\r\nI confirmed that the object sent on the sender side is inherited serialized and sent using `writeObject()`.The object received on the receiving end is inherited serializable and sent using `readObject()`.\r\n\r\n","title":"What happens when an invalid stream header exception occurs?","body":"<p>When using socket programming, there is an invalid stream header exception, and I don't know where the problem occurs after searching for a long time.</p>\n<p>I confirmed that the object sent on the sender side is inherited serialized and sent using <code>writeObject()</code>.The object received on the receiving end is inherited serializable and sent using <code>readObject()</code>.</p>\n"},{"tags":["java","android","kotlin","android-viewmodel"],"comments":[{"owner":{"account_id":4284879,"reputation":2858,"user_id":3503023,"display_name":"Krishna Sharma"},"score":0,"creation_date":1680074371,"post_id":75873161,"comment_id":133833266,"body_markdown":"what are you getting in result then ? 0, 0 ? Issue could be in your surveySiteSurveyRepository","body":"what are you getting in result then ? 0, 0 ? Issue could be in your surveySiteSurveyRepository"},{"owner":{"account_id":19471482,"reputation":351,"user_id":14243745,"display_name":"OEThe11"},"score":0,"creation_date":1680092806,"post_id":75873161,"comment_id":133837984,"body_markdown":"Not sure. I&#39;m assuming its more than 3 in total because of where I am using it. It is going passed 3.","body":"Not sure. I&#39;m assuming its more than 3 in total because of where I am using it. It is going passed 3."},{"owner":{"account_id":4284879,"reputation":2858,"user_id":3503023,"display_name":"Krishna Sharma"},"score":0,"creation_date":1680101339,"post_id":75873161,"comment_id":133840752,"body_markdown":"You need to share more data then to analyze the issue, share your api response and repository class please.","body":"You need to share more data then to analyze the issue, share your api response and repository class please."},{"owner":{"account_id":19471482,"reputation":351,"user_id":14243745,"display_name":"OEThe11"},"score":0,"creation_date":1680110759,"post_id":75873161,"comment_id":133843372,"body_markdown":"Added the additional code (response and repo)","body":"Added the additional code (response and repo)"},{"owner":{"account_id":4284879,"reputation":2858,"user_id":3503023,"display_name":"Krishna Sharma"},"score":0,"creation_date":1680111799,"post_id":75873161,"comment_id":133843643,"body_markdown":"put a log or debug and tell me what you get values for this `apiResponse.data[0]` Better provide the entire values for this `apiResponse`","body":"put a log or debug and tell me what you get values for this <code>apiResponse.data[0]</code> Better provide the entire values for this <code>apiResponse</code>"},{"owner":{"account_id":19471482,"reputation":351,"user_id":14243745,"display_name":"OEThe11"},"score":0,"creation_date":1680128446,"post_id":75873161,"comment_id":133847315,"body_markdown":"The `apiRespone` does return 2 and 1 for `imageCount` and `videoCount` respectfully.","body":"The <code>apiRespone</code> does return 2 and 1 for <code>imageCount</code> and <code>videoCount</code> respectfully."},{"owner":{"account_id":4284879,"reputation":2858,"user_id":3503023,"display_name":"Krishna Sharma"},"score":0,"creation_date":1680182511,"post_id":75873161,"comment_id":133857238,"body_markdown":"Can you pease share the response you get from network ? can b in json format","body":"Can you pease share the response you get from network ? can b in json format"}],"answers":[{"tags":[],"owner":{"account_id":25535301,"reputation":1,"user_id":19322499,"display_name":"Niaz Sagor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680072454,"creation_date":1680072454,"answer_id":75873966,"question_id":75873161,"body_markdown":"It seems that the equivalent POJO class of the API response you get is `ApiMediaMaxCntInfo`. It has two public getter methods and both `imageCount` and `videoCount` is private. So to access the values, you should call the getter methods and that is the only way.\r\n\r\nSo I think the call `maxMediaCountInfo.imageCount` is not correct. You should do it like this `maxMediaCountInfo.getImageCount()`.\r\n","title":"How to get the values from an api call into a ViewModel in Android Studio?","body":"<p>It seems that the equivalent POJO class of the API response you get is <code>ApiMediaMaxCntInfo</code>. It has two public getter methods and both <code>imageCount</code> and <code>videoCount</code> is private. So to access the values, you should call the getter methods and that is the only way.</p>\n<p>So I think the call <code>maxMediaCountInfo.imageCount</code> is not correct. You should do it like this <code>maxMediaCountInfo.getImageCount()</code>.</p>\n"}],"owner":{"account_id":19471482,"reputation":351,"user_id":14243745,"display_name":"OEThe11"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680110727,"creation_date":1680064462,"question_id":75873161,"body_markdown":"So the code is a mixture of both Java and Kotlin. The API call is made and is sent to this model class\r\n\r\n    public class ApiMediaMaxCntInfo {\r\n        @SerializedName(&quot;ImageCount&quot;)\r\n        private int imageCount;\r\n    \r\n        @SerializedName(&quot;VideoCount&quot;)\r\n        private int videoCount;\r\n    \r\n        public int getImageCount() { return imageCount; }\r\n    \r\n        public int getVideoCount() { return videoCount; }\r\n    \r\n    }\r\nIt is suppose to receive two `int` values. \r\n\r\nIt gets sent to a UI data layer and those calls are initialized into the model.\r\n\r\nIt goes up through the repo, into the VM, into the Fragment. It seems like the API call is made in the Fragment, but I&#39;m not too sure. Here&#39;s the code\r\n\r\nFun in the VM\r\n  \r\n\r\n     fun doCheckMediaMaxCount(): LiveData&lt;Event&lt;UiResponse&lt;UiMediaMaxCount&gt;&gt;&gt;{\r\n            return RxHandleUtil.handleEventPublisherWithContentChange({\r\n                surveySiteSurveyRepository.getMediaMaxCountUC(getApplication())\r\n            }, { maxMediaCountInfo -&gt;\r\n                UiMediaMaxCount(\r\n                    maxMediaCountInfo.imageCount,\r\n                    maxMediaCountInfo.videoCount)\r\n            })\r\n        }\r\n\r\nHere&#39;s the Fun in The Fragment\r\n   \r\n\r\n     private fun handleMaxMediaCountCheck() {\r\n            processViewModel.doCheckMediaMaxCount().observe(viewLifecycleOwner, EventObserver { response-&gt;\r\n                handleRxResponse(response, object : OnResponseListener&lt;UiMediaMaxCount&gt;(){\r\n    \r\n                    override fun onServerFailResponse(message: String?) {\r\n                        message?.let { it1 -&gt; showError(it1) }\r\n                    }\r\n    \r\n                    override fun onInvalidResponse(message: String?) {\r\n                        message?.let { it1 -&gt; showError (it1)  }\r\n                    }\r\n    \r\n                    override fun onSuccessResponse(data: UiMediaMaxCount?, message: String?) {\r\n                        data?.let {\r\n                            maxPicCnt = data.imageCount\r\n                            maxVideoCnt = data.videoCount\r\n                        }\r\n                    }\r\n                })\r\n            })\r\n        }\r\n\r\n\r\nAs you can see, the values are coming from the UiMediaMaxCount, but when I make the call inside the View Model, it&#39;s not getting the value from the API (which is 3 in total. 2 Images, 1 Video). \r\n\r\nThe UIMediaMaxCount\r\n\r\n    data class UiMediaMaxCount(\r\n        val imageCount: Int = 0,\r\n        val videoCount: Int = 0\r\n    )\r\nHow I set up the values in the VM\r\n\r\n    private val imageCnt = UiMediaMaxCount().imageCount\r\n        private val videoCnt = UiMediaMaxCount().videoCount\r\n        private val dataOverflow2 = imageCnt + videoCnt\r\n\r\nAny suggestions is appreciated, Thanks.\r\n\r\nP.S. Here&#39;s the api response code\r\n\r\n    public class MaxMediaCountInfo {\r\n        private int imageCount;\r\n    \r\n        private int videoCount;\r\n    \r\n        public MaxMediaCountInfo(@NonNull ApiMediaMaxCntInfo apiMediaMaxCntInfo) {\r\n            imageCount = apiMediaMaxCntInfo.getImageCount();\r\n            videoCount = apiMediaMaxCntInfo.getVideoCount();\r\n        }\r\n    \r\n        public MaxMediaCountInfo() {\r\n        \r\n        }\r\n    \r\n        public int getImageCount() { return imageCount; }\r\n    \r\n        public int getVideoCount() { return videoCount; }\r\n    \r\n        \r\n        \r\n    }\r\n\r\nand the Repo code\r\n\r\n    override fun getMediaMaxCountUC(context: Context): Flowable&lt;UiResponse&lt;MaxMediaCountInfo&gt;&gt; {\r\n        return getUserInfoFromStorage(context).flatMap { userInfo -&gt;\r\n            siteSurveyRemoteResource.getMediaMaxCount(userInfo.userCredential.token)\r\n                .map { apiResponse -&gt;\r\n                    val cntInfo = MaxMediaCountInfo(apiResponse.data[0])\r\n                    UiResponseFactory.getSuccessUiResponse(cntInfo, apiResponse.message)\r\n                }\r\n        }\r\n    }\r\n\r\n","title":"How to get the values from an api call into a ViewModel in Android Studio?","body":"<p>So the code is a mixture of both Java and Kotlin. The API call is made and is sent to this model class</p>\n<pre><code>public class ApiMediaMaxCntInfo {\n    @SerializedName(&quot;ImageCount&quot;)\n    private int imageCount;\n\n    @SerializedName(&quot;VideoCount&quot;)\n    private int videoCount;\n\n    public int getImageCount() { return imageCount; }\n\n    public int getVideoCount() { return videoCount; }\n\n}\n</code></pre>\n<p>It is suppose to receive two <code>int</code> values.</p>\n<p>It gets sent to a UI data layer and those calls are initialized into the model.</p>\n<p>It goes up through the repo, into the VM, into the Fragment. It seems like the API call is made in the Fragment, but I'm not too sure. Here's the code</p>\n<p>Fun in the VM</p>\n<pre><code> fun doCheckMediaMaxCount(): LiveData&lt;Event&lt;UiResponse&lt;UiMediaMaxCount&gt;&gt;&gt;{\n        return RxHandleUtil.handleEventPublisherWithContentChange({\n            surveySiteSurveyRepository.getMediaMaxCountUC(getApplication())\n        }, { maxMediaCountInfo -&gt;\n            UiMediaMaxCount(\n                maxMediaCountInfo.imageCount,\n                maxMediaCountInfo.videoCount)\n        })\n    }\n</code></pre>\n<p>Here's the Fun in The Fragment</p>\n<pre><code> private fun handleMaxMediaCountCheck() {\n        processViewModel.doCheckMediaMaxCount().observe(viewLifecycleOwner, EventObserver { response-&gt;\n            handleRxResponse(response, object : OnResponseListener&lt;UiMediaMaxCount&gt;(){\n\n                override fun onServerFailResponse(message: String?) {\n                    message?.let { it1 -&gt; showError(it1) }\n                }\n\n                override fun onInvalidResponse(message: String?) {\n                    message?.let { it1 -&gt; showError (it1)  }\n                }\n\n                override fun onSuccessResponse(data: UiMediaMaxCount?, message: String?) {\n                    data?.let {\n                        maxPicCnt = data.imageCount\n                        maxVideoCnt = data.videoCount\n                    }\n                }\n            })\n        })\n    }\n</code></pre>\n<p>As you can see, the values are coming from the UiMediaMaxCount, but when I make the call inside the View Model, it's not getting the value from the API (which is 3 in total. 2 Images, 1 Video).</p>\n<p>The UIMediaMaxCount</p>\n<pre><code>data class UiMediaMaxCount(\n    val imageCount: Int = 0,\n    val videoCount: Int = 0\n)\n</code></pre>\n<p>How I set up the values in the VM</p>\n<pre><code>private val imageCnt = UiMediaMaxCount().imageCount\n    private val videoCnt = UiMediaMaxCount().videoCount\n    private val dataOverflow2 = imageCnt + videoCnt\n</code></pre>\n<p>Any suggestions is appreciated, Thanks.</p>\n<p>P.S. Here's the api response code</p>\n<pre><code>public class MaxMediaCountInfo {\n    private int imageCount;\n\n    private int videoCount;\n\n    public MaxMediaCountInfo(@NonNull ApiMediaMaxCntInfo apiMediaMaxCntInfo) {\n        imageCount = apiMediaMaxCntInfo.getImageCount();\n        videoCount = apiMediaMaxCntInfo.getVideoCount();\n    }\n\n    public MaxMediaCountInfo() {\n    \n    }\n\n    public int getImageCount() { return imageCount; }\n\n    public int getVideoCount() { return videoCount; }\n\n    \n    \n}\n</code></pre>\n<p>and the Repo code</p>\n<pre><code>override fun getMediaMaxCountUC(context: Context): Flowable&lt;UiResponse&lt;MaxMediaCountInfo&gt;&gt; {\n    return getUserInfoFromStorage(context).flatMap { userInfo -&gt;\n        siteSurveyRemoteResource.getMediaMaxCount(userInfo.userCredential.token)\n            .map { apiResponse -&gt;\n                val cntInfo = MaxMediaCountInfo(apiResponse.data[0])\n                UiResponseFactory.getSuccessUiResponse(cntInfo, apiResponse.message)\n            }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","openid","spring-boot-oauth2.1"],"answers":[{"tags":[],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679808313,"creation_date":1679808313,"answer_id":75846026,"question_id":75833245,"body_markdown":"We can add any information using `jwtCustomizer`. Refer [this][1]\r\n\r\n        @Bean\r\n        OAuth2TokenCustomizer&lt;JwtEncodingContext&gt; jwtCustomizer(CustomClaims claims) {\r\n            return context -&gt; {\r\n                if (context.getTokenType() == OAuth2TokenType.ACCESS_TOKEN) {\r\n                    Authentication principal = context.getPrincipal();\r\n                    Set&lt;String&gt; authorities = principal.getAuthorities().stream()\r\n                            .map(GrantedAuthority::getAuthority)\r\n                            .collect(Collectors.toSet());\r\n                    context.getClaims().claims(c -&gt; c.put(&quot;Creator&quot;, &quot;Thirumal&quot;));\r\n                    context.getClaims().claims(c -&gt; c.putAll(claims.getClaims(principal)));\r\n                    context.getClaims().claim(&quot;roles&quot;, authorities);\r\n                }\r\n            };\r\n        }\r\n        \r\n\r\n\r\n  [1]: https://github.com/m-thirumal/oauth-authorization-server/blob/main/src/main/java/in/thirumal/config/AuthorizationServerConfig.java","title":"How to customize access token with user information (user name, and phone number,..) in the oauth2.1 authorization server in the spring boot?","body":"<p>We can add any information using <code>jwtCustomizer</code>. Refer <a href=\"https://github.com/m-thirumal/oauth-authorization-server/blob/main/src/main/java/in/thirumal/config/AuthorizationServerConfig.java\" rel=\"nofollow noreferrer\">this</a></p>\n<pre><code>    @Bean\n    OAuth2TokenCustomizer&lt;JwtEncodingContext&gt; jwtCustomizer(CustomClaims claims) {\n        return context -&gt; {\n            if (context.getTokenType() == OAuth2TokenType.ACCESS_TOKEN) {\n                Authentication principal = context.getPrincipal();\n                Set&lt;String&gt; authorities = principal.getAuthorities().stream()\n                        .map(GrantedAuthority::getAuthority)\n                        .collect(Collectors.toSet());\n                context.getClaims().claims(c -&gt; c.put(&quot;Creator&quot;, &quot;Thirumal&quot;));\n                context.getClaims().claims(c -&gt; c.putAll(claims.getClaims(principal)));\n                context.getClaims().claim(&quot;roles&quot;, authorities);\n            }\n        };\n    }\n    \n</code></pre>\n"}],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75846026,"answer_count":1,"score":-2,"last_activity_date":1680110438,"creation_date":1679658287,"question_id":75833245,"body_markdown":"How to customize access token with user information (user name, and phone number,..) in the oauth2.1 authorization server in the spring boot?\r\n\r\nThis my workaround [project][1], any resources/help on how to add user details in the access token itself?\r\n\r\n\r\n  [1]: https://github.com/m-thirumal/oauth-authorization-server/","title":"How to customize access token with user information (user name, and phone number,..) in the oauth2.1 authorization server in the spring boot?","body":"<p>How to customize access token with user information (user name, and phone number,..) in the oauth2.1 authorization server in the spring boot?</p>\n<p>This my workaround <a href=\"https://github.com/m-thirumal/oauth-authorization-server/\" rel=\"nofollow noreferrer\">project</a>, any resources/help on how to add user details in the access token itself?</p>\n"},{"tags":["java","eclipse","eclipse-indigo"],"answers":[{"tags":[],"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1309471428,"creation_date":1309471428,"answer_id":6541631,"question_id":6541598,"body_markdown":"Try configuring Eclipse to automatically refresh. I&#39;m not sure about Indigo, but in Helios, it&#39;s in _Preferences &amp;rarr; General &amp;rarr; Workspace &amp;rarr; Refresh Automatically._\r\n\r\n\r\n----------\r\n\r\nHere it is in Indigo:\r\n\r\n![screenshot][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Pzp8K.png","title":"Eclipse &quot;Build Automatically&quot; not cascading","body":"<p>Try configuring Eclipse to automatically refresh. I'm not sure about Indigo, but in Helios, it's in <em>Preferences &rarr; General &rarr; Workspace &rarr; Refresh Automatically.</em></p>\n\n<hr>\n\n<p>Here it is in Indigo:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Pzp8K.png\" alt=\"screenshot\"></p>\n"},{"tags":[],"owner":{"account_id":419412,"reputation":12668,"user_id":796559,"accept_rate":75,"display_name":"Tonny Madsen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1309497471,"creation_date":1309497471,"answer_id":6543862,"question_id":6541598,"body_markdown":"I assume you have added an &quot;Program&quot;-based builder to the project that compiles/translates the files into `.java`.\r\n\r\nIf you open the builder - via project properties -&gt; `Builders` -&gt; `Edit...` builder - then you can open the `Refresh` tab - se below.\r\n\r\n![Refresh tab of the Builder Dialog][1]\r\n\r\nHere you can then select which resources to refresh when this particular build is run... E.g. all resources in `target/generated-sources/xyz`...\r\n\r\n  [1]: http://i.stack.imgur.com/OKt2j.png","title":"Eclipse &quot;Build Automatically&quot; not cascading","body":"<p>I assume you have added an \"Program\"-based builder to the project that compiles/translates the files into <code>.java</code>.</p>\n\n<p>If you open the builder - via project properties -> <code>Builders</code> -> <code>Edit...</code> builder - then you can open the <code>Refresh</code> tab - se below.</p>\n\n<p><img src=\"https://i.stack.imgur.com/OKt2j.png\" alt=\"Refresh tab of the Builder Dialog\"></p>\n\n<p>Here you can then select which resources to refresh when this particular build is run... E.g. all resources in <code>target/generated-sources/xyz</code>...</p>\n"},{"tags":[],"owner":{"account_id":2543653,"reputation":1780,"user_id":2208909,"display_name":"Feng Zhang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680110256,"creation_date":1680110256,"answer_id":75880265,"question_id":6541598,"body_markdown":"with &quot;build automatically&quot; option checked, it is not building on clean. What I had to do extra is, clear all error logs and Problems, then the correct setup can produce class files.","title":"Eclipse &quot;Build Automatically&quot; not cascading","body":"<p>with &quot;build automatically&quot; option checked, it is not building on clean. What I had to do extra is, clear all error logs and Problems, then the correct setup can produce class files.</p>\n"}],"owner":{"account_id":18732,"reputation":17409,"user_id":43217,"accept_rate":82,"display_name":"mckamey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16307,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":6541631,"answer_count":3,"score":5,"last_activity_date":1680110256,"creation_date":1309471191,"question_id":6541598,"body_markdown":"I have a project in Eclipse (Indigo but similar in Helios) which has files in `src/main/resources` which get processed to generate *.java source files in `target/generated-sources/xyz`. The project settings have &quot;Build Automatically&quot; enabled so whenever these resource files are edited and saved the corresponding `*.java` files are generated. I&#39;ve added `target/generated-sources/xyz` to the projects Build Paths. This all works perfectly.\r\n\r\nThe problem is that the changes to the generated `*.java` files are inconsistently rebuilt. If I have one of those files open in the editor, then it notices that it changed and asks if I want to reload it. Reloading the `*.java` files is enough for it to recognize that it has changed and trigger a rebuild. If I don&#39;t have it open then it doesn&#39;t automatically pick up the changes.\r\n\r\nAny ideas on what I can do to let Eclipse (Indigo preferably) know that these generated files are being updated? Or better yet tell it to monitor those folders directly?\r\n\r\nThanks.","title":"Eclipse &quot;Build Automatically&quot; not cascading","body":"<p>I have a project in Eclipse (Indigo but similar in Helios) which has files in <code>src/main/resources</code> which get processed to generate *.java source files in <code>target/generated-sources/xyz</code>. The project settings have \"Build Automatically\" enabled so whenever these resource files are edited and saved the corresponding <code>*.java</code> files are generated. I've added <code>target/generated-sources/xyz</code> to the projects Build Paths. This all works perfectly.</p>\n\n<p>The problem is that the changes to the generated <code>*.java</code> files are inconsistently rebuilt. If I have one of those files open in the editor, then it notices that it changed and asks if I want to reload it. Reloading the <code>*.java</code> files is enough for it to recognize that it has changed and trigger a rebuild. If I don't have it open then it doesn't automatically pick up the changes.</p>\n\n<p>Any ideas on what I can do to let Eclipse (Indigo preferably) know that these generated files are being updated? Or better yet tell it to monitor those folders directly?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":0,"creation_date":1379712764,"post_id":18926149,"comment_id":27944236,"body_markdown":"_including when you force quit the window/application_ If you mean &quot;when someone kills the process&quot; i think it wouldn&#39;t be possible, as the process gets _killed_. If you mean &quot;when the application freezes and the user forces it to close&quot; I think it wouldn&#39;t be possible too, as the application is _frozen_ and it&#39;s _not responding_","body":"<i>including when you force quit the window/application</i> If you mean &quot;when someone kills the process&quot; i think it wouldn&#39;t be possible, as the process gets <i>killed</i>. If you mean &quot;when the application freezes and the user forces it to close&quot; I think it wouldn&#39;t be possible too, as the application is <i>frozen</i> and it&#39;s <i>not responding</i>"}],"answers":[{"tags":[],"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1379713597,"creation_date":1379713113,"answer_id":18926282,"question_id":18926149,"body_markdown":"You can add a `WindowListener` to the `JFrame`:\r\n\r\n    frame.addWindowListener(new WindowListener() {\r\n    \r\n        @Override\r\n        public void windowOpened(WindowEvent e) {\r\n        }\r\n    \r\n        @Override\r\n        public void windowClosing(WindowEvent e) {\r\n            //window is being closed\r\n        }\r\n        @Override\r\n        public void windowClosed(WindowEvent e) {\r\n            //window is closed\r\n        }\r\n    \r\n        @Override\r\n        public void windowIconified(WindowEvent e) {\r\n        }\r\n    \r\n        @Override\r\n        public void windowDeiconified(WindowEvent e) {\r\n        }\r\n    \r\n        @Override\r\n        public void windowActivated(WindowEvent e) {\r\n        }\r\n    \r\n        @Override\r\n        public void windowDeactivated(WindowEvent e) {\r\n        }\r\n    \r\n    });\r\n\r\n&gt;I want to trigger an event when the window in closed (including when you force quit the window/application)\r\n\r\nIf you mean &quot;when someone kills the process&quot; i think it wouldn&#39;t be possible, as the process ***gets killed*** and so stops its execution _immediately_. If you mean &quot;when the application freezes and the user forces it to close&quot; I think it wouldn&#39;t be possible too, usually if you force the quit of an application, it means that it&#39;s _frozen_ and it&#39;s _not responding anymore_, so executing other code of it wouldn&#39;t be possible.","title":"JFrame Trigger Events on Close","body":"<p>You can add a <code>WindowListener</code> to the <code>JFrame</code>:</p>\n\n<pre><code>frame.addWindowListener(new WindowListener() {\n\n    @Override\n    public void windowOpened(WindowEvent e) {\n    }\n\n    @Override\n    public void windowClosing(WindowEvent e) {\n        //window is being closed\n    }\n    @Override\n    public void windowClosed(WindowEvent e) {\n        //window is closed\n    }\n\n    @Override\n    public void windowIconified(WindowEvent e) {\n    }\n\n    @Override\n    public void windowDeiconified(WindowEvent e) {\n    }\n\n    @Override\n    public void windowActivated(WindowEvent e) {\n    }\n\n    @Override\n    public void windowDeactivated(WindowEvent e) {\n    }\n\n});\n</code></pre>\n\n<blockquote>\n  <p>I want to trigger an event when the window in closed (including when you force quit the window/application)</p>\n</blockquote>\n\n<p>If you mean \"when someone kills the process\" i think it wouldn't be possible, as the process <strong><em>gets killed</em></strong> and so stops its execution <em>immediately</em>. If you mean \"when the application freezes and the user forces it to close\" I think it wouldn't be possible too, usually if you force the quit of an application, it means that it's <em>frozen</em> and it's <em>not responding anymore</em>, so executing other code of it wouldn't be possible.</p>\n"},{"tags":[],"owner":{"account_id":25428339,"reputation":39,"user_id":19233194,"display_name":"Rohan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680110184,"creation_date":1680110184,"answer_id":75880261,"question_id":18926149,"body_markdown":"Try this:\r\n\r\n    frame.addWindowListener(new WindowAdapter() {\r\n                @Override\r\n                public void windowClosing(WindowEvent e) {\r\n                System.out.println(&quot;window closed&quot;);\r\n                }\r\n            });\r\n\r\nYou dont need to override all methods.","title":"JFrame Trigger Events on Close","body":"<p>Try this:</p>\n<pre><code>frame.addWindowListener(new WindowAdapter() {\n            @Override\n            public void windowClosing(WindowEvent e) {\n            System.out.println(&quot;window closed&quot;);\n            }\n        });\n</code></pre>\n<p>You dont need to override all methods.</p>\n"}],"owner":{"account_id":2726215,"reputation":27,"user_id":2351205,"display_name":"user2351205"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2346,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1680110184,"creation_date":1379712523,"question_id":18926149,"body_markdown":"I know the title isn&#39;t very explanatory, I was unsure of how to phrase the question. What I have is a GUI that I want to trigger an event when the window in closed (including when you force quit the window/application). Thank you in advance for any help!!! Here&#39;s my code:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    import java.io.IOException;\r\n    import java.io.Serializable;\r\n    public class NotAVirus extends JFrame {\r\n    private JTextField statusField = new JTextField(20);\r\n    private JButton yesButton = new JButton(&quot;Open&quot;);\r\n    private JButton noButton = new JButton(&quot;Close&quot;);\r\n    private static NotAVirus app = new ImLost();\r\n\r\n    public static void main() {\r\n        app.setVisible(true);\r\n        app.setLocationRelativeTo(null);\r\n    }    \r\n\r\n    /**\r\n     * Create the GUI and show it.  For thread safety,\r\n     * this method should be invoked from the\r\n     * event-dispatching thread.\r\n     */\r\n    public ImLost() {\r\n        super(&quot;ImLost&quot;);\r\n        statusField.setText(&quot;There&#39;s No Escape&quot;);\r\n        statusField.setHorizontalAlignment(JLabel.CENTER);\r\n        statusField.setEditable(false);\r\n        add(statusField, BorderLayout.CENTER);\r\n        JPanel p = new JPanel();\r\n        p.setLayout(new GridLayout(1, 2));\r\n        p.add(yesButton);\r\n        p.add(noButton);\r\n        add(p, BorderLayout.SOUTH);\r\n        yesButton.addActionListener(new ActionListener()\r\n            {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    app.setVisible(false);\r\n                    for(int i = 0; i &lt;= 10000; i ++)\r\n                    {\r\n                        JFrame frame = new JFrame(&quot;ImLost&quot;);\r\n                        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n                        JLabel emptyLabel = new JLabel(&quot;&quot;);\r\n                        emptyLabel.setPreferredSize(new Dimension(160, 1));\r\n                        frame.getContentPane().add(emptyLabel, BorderLayout.CENTER);\r\n\r\n                        //Display the window.\r\n                        frame.setLocation((int)(Math.random() * ((1280) + 1)),(int)(Math.random() * ((800) + 1)));\r\n                        frame.pack();\r\n                        frame.setVisible(true);\r\n                    }\r\n                }\r\n            });\r\n        noButton.addActionListener(new ActionListener()\r\n            {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    app.setVisible(false);\r\n                    for(int i = 0; i &lt;= 10000; i ++)\r\n                    {\r\n                        JFrame frame = new JFrame(&quot;ImLost&quot;);\r\n                        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n                        JLabel emptyLabel = new JLabel(&quot;&quot;);\r\n                        emptyLabel.setPreferredSize(new Dimension(160, 1));\r\n                        frame.getContentPane().add(emptyLabel, BorderLayout.CENTER);\r\n\r\n                        //Display the window.\r\n                        frame.setLocation((int)(Math.random() * ((1280) + 1)),(int)(Math.random() * ((800) + 1)));\r\n                        frame.pack();\r\n                        frame.setVisible(true);\r\n                    }\r\n                }\r\n            });\r\n        p.setPreferredSize(new Dimension(200, 35));\r\n        pack();\r\n    }","title":"JFrame Trigger Events on Close","body":"<p>I know the title isn't very explanatory, I was unsure of how to phrase the question. What I have is a GUI that I want to trigger an event when the window in closed (including when you force quit the window/application). Thank you in advance for any help!!! Here's my code:</p>\n\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport java.io.IOException;\nimport java.io.Serializable;\npublic class NotAVirus extends JFrame {\nprivate JTextField statusField = new JTextField(20);\nprivate JButton yesButton = new JButton(\"Open\");\nprivate JButton noButton = new JButton(\"Close\");\nprivate static NotAVirus app = new ImLost();\n\npublic static void main() {\n    app.setVisible(true);\n    app.setLocationRelativeTo(null);\n}    \n\n/**\n * Create the GUI and show it.  For thread safety,\n * this method should be invoked from the\n * event-dispatching thread.\n */\npublic ImLost() {\n    super(\"ImLost\");\n    statusField.setText(\"There's No Escape\");\n    statusField.setHorizontalAlignment(JLabel.CENTER);\n    statusField.setEditable(false);\n    add(statusField, BorderLayout.CENTER);\n    JPanel p = new JPanel();\n    p.setLayout(new GridLayout(1, 2));\n    p.add(yesButton);\n    p.add(noButton);\n    add(p, BorderLayout.SOUTH);\n    yesButton.addActionListener(new ActionListener()\n        {\n            public void actionPerformed(ActionEvent e) {\n                app.setVisible(false);\n                for(int i = 0; i &lt;= 10000; i ++)\n                {\n                    JFrame frame = new JFrame(\"ImLost\");\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n                    JLabel emptyLabel = new JLabel(\"\");\n                    emptyLabel.setPreferredSize(new Dimension(160, 1));\n                    frame.getContentPane().add(emptyLabel, BorderLayout.CENTER);\n\n                    //Display the window.\n                    frame.setLocation((int)(Math.random() * ((1280) + 1)),(int)(Math.random() * ((800) + 1)));\n                    frame.pack();\n                    frame.setVisible(true);\n                }\n            }\n        });\n    noButton.addActionListener(new ActionListener()\n        {\n            public void actionPerformed(ActionEvent e) {\n                app.setVisible(false);\n                for(int i = 0; i &lt;= 10000; i ++)\n                {\n                    JFrame frame = new JFrame(\"ImLost\");\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n                    JLabel emptyLabel = new JLabel(\"\");\n                    emptyLabel.setPreferredSize(new Dimension(160, 1));\n                    frame.getContentPane().add(emptyLabel, BorderLayout.CENTER);\n\n                    //Display the window.\n                    frame.setLocation((int)(Math.random() * ((1280) + 1)),(int)(Math.random() * ((800) + 1)));\n                    frame.pack();\n                    frame.setVisible(true);\n                }\n            }\n        });\n    p.setPreferredSize(new Dimension(200, 35));\n    pack();\n}\n</code></pre>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1680110181,"post_id":75879898,"comment_id":133843241,"body_markdown":"The specific error is &quot;_module java.base does not &quot;opens java.lang&quot; to unnamed module_&quot;. You can research [similar questions](https://www.google.com/search?q=module+java.base+does+not+%22opens+java.lang%22+to+unnamed+module+site:stackoverflow.com).","body":"The specific error is &quot;<i>module java.base does not &quot;opens java.lang&quot; to unnamed module</i>&quot;. You can research <a href=\"https://www.google.com/search?q=module+java.base+does+not+%22opens+java.lang%22+to+unnamed+module+site:stackoverflow.com\" rel=\"nofollow noreferrer\">similar questions</a>."},{"owner":{"account_id":15483018,"reputation":362,"user_id":11169738,"display_name":"Niels Ferguson"},"score":1,"creation_date":1680110654,"post_id":75879898,"comment_id":133843350,"body_markdown":"It seems that the following code is not wrong in itself. The stack trace suggests that there might be an issue with the Mockito library or the environment setup. Specifically, there is an error related to the accessibility of a protected method in the ClassLoader class, which is preventing the code from running correctly. This error might be caused by a security manager or restrictions in the Java module system. It is recommended to check the version of the Mockito library and the Java environment, and try to run the code in a different environment to see if the issue persists.","body":"It seems that the following code is not wrong in itself. The stack trace suggests that there might be an issue with the Mockito library or the environment setup. Specifically, there is an error related to the accessibility of a protected method in the ClassLoader class, which is preventing the code from running correctly. This error might be caused by a security manager or restrictions in the Java module system. It is recommended to check the version of the Mockito library and the Java environment, and try to run the code in a different environment to see if the issue persists."},{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1680110865,"post_id":75879898,"comment_id":133843400,"body_markdown":"All is working actually, Test passed when i run it in my project. So you need to check your setups","body":"All is working actually, Test passed when i run it in my project. So you need to check your setups"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1680110903,"post_id":75879898,"comment_id":133843410,"body_markdown":"The problem seems to be caused by mockito. Which version do you use? Note that since the release of Java 9 which started blocking access to such internals of the JVM many libraries had to update. It might therefore be imperative to use a current version of Mockito.","body":"The problem seems to be caused by mockito. Which version do you use? Note that since the release of Java 9 which started blocking access to such internals of the JVM many libraries had to update. It might therefore be imperative to use a current version of Mockito."},{"owner":{"account_id":28160394,"reputation":1,"user_id":21520447,"display_name":"d_hrishi"},"score":0,"creation_date":1680115289,"post_id":75879898,"comment_id":133844468,"body_markdown":"Thank you everyone, I tried using latest Mockito version (5.2.0) and it resolved the issue.","body":"Thank you everyone, I tried using latest Mockito version (5.2.0) and it resolved the issue."}],"owner":{"account_id":28160394,"reputation":1,"user_id":21520447,"display_name":"d_hrishi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680110090,"creation_date":1680107686,"question_id":75879898,"body_markdown":"Below is the stack trace\r\n\r\n```\r\njava.lang.ExceptionInInitializerError\r\n\tat org.mockito.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:167)\r\n\tat org.mockito.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n\tat org.mockito.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:217)\r\n\tat org.mockito.cglib.core.KeyFactory$Generator.create(KeyFactory.java:145)\r\n\tat org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:117)\r\n\tat org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:109)\r\n\tat org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:105)\r\n\tat org.mockito.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:70)\r\n\tat org.mockito.internal.creation.cglib.ClassImposterizer.createProxyClass(ClassImposterizer.java:95)\r\n\tat org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:57)\r\n\tat org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:49)\r\n\tat org.mockito.internal.creation.cglib.CglibMockMaker.createMock(CglibMockMaker.java:24)\r\n\tat org.mockito.internal.util.MockUtil.createMock(MockUtil.java:33)\r\n\tat org.mockito.internal.MockitoCore.mock(MockitoCore.java:59)\r\n\tat org.mockito.Mockito.mock(Mockito.java:1285)\r\n\tat org.mockito.Mockito.mock(Mockito.java:1163)\r\n\tat com.in28minutes.business.TodoBusinessImplTest_withMock.testWithMock(TodoBusinessImplTest_withMock.java:20)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @685cb137\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:200)\r\n\tat java.base/java.lang.reflect.Method.setAccessible(Method.java:194)\r\n\tat org.mockito.cglib.core.ReflectUtils$2.run(ReflectUtils.java:57)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n\tat org.mockito.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:47)\r\n\t... 38 more\r\n```\r\n\r\n\r\nBelow is the code I am trying to run\r\n\r\nTodoService.java\r\n\r\n```\r\n    package com.in28minutes.data.api;\r\n\r\n    import java.util.List;\r\n\r\n    public interface TodoService {\r\n\tpublic List&lt;String&gt; retrieveTodos(String user);\r\n    }\r\n```\r\n\r\nTodoBusinessImpl.java\r\n\r\n```\r\n\r\n   import java.util.ArrayList; \r\n   import java.util.List;\r\n\r\n   import com.in28minutes.data.api.TodoService;\r\n\r\n    public class TodoBusinessImpl {\r\n\tprivate TodoService todoService;\r\n\r\n\tpublic TodoBusinessImpl(TodoService todoService) {\r\n\t\tthis.todoService = todoService;\r\n\t}\r\n\t\r\n\tpublic List&lt;String&gt; retrieveTodosRelatedToSpring(String user){\r\n\t\tList&lt;String&gt; filteredTodos = new ArrayList&lt;String&gt;();\r\n\t\tList&lt;String&gt; alltodos = todoService.retrieveTodos(user);\r\n\t\t\r\n\t\tfor(String todo : alltodos) {\r\n\t\t\tif(todo.contains(&quot;Spring&quot;)) {\r\n\t\t\t\tfilteredTodos.add(todo);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn filteredTodos;\r\n\t}\r\n    }\r\n```\r\n\r\nTodoBusinessImplTest_withMock.java\r\n\r\n```\r\n   package com.in28minutes.business;\r\n\r\n   import static org.junit.Assert.*;\r\n   import static org.mockito.Mockito.mock;\r\n   import static org.mockito.Mockito.when;\r\n\r\n   import java.util.Arrays;\r\n   import java.util.List;\r\n\r\n   import org.junit.Test;\r\n   import com.in28minutes.data.api.TodoService;\r\n\r\n   public class TodoBusinessImplTest_withMock {\r\n\t\r\n\t\r\n\r\n\t@Test\r\n\tpublic void testWithMock() {\r\n\t\t\r\n\t\tTodoService todoServiceMock = mock(TodoService.class);\r\n\t\t\r\n\t\tList&lt;String&gt; todo = Arrays.asList(&quot;Learn Spring MVC&quot;, &quot;Learn Spring&quot;, &quot;Learn To Code&quot;);\r\n\t\t\r\n\t\twhen(todoServiceMock.retrieveTodos(&quot;Dummy&quot;)).thenReturn(todo);\r\n\t\t\r\n\t\tTodoBusinessImpl todoBusinessImpl = new TodoBusinessImpl(todoServiceMock);\r\n\t\t\r\n\t\tList&lt;String&gt; filteredTodos = todoBusinessImpl.retrieveTodosRelatedToSpring(&quot;Dummy&quot;);\r\n\t\t\r\n\t\tassertEquals(2, filteredTodos.size());\r\n\t\t\r\n\t}\r\n\r\n   }\r\n\r\n```","title":"Mockito program is throwing java.lang.ExceptionInInitializerError","body":"<p>Below is the stack trace</p>\n<pre><code>java.lang.ExceptionInInitializerError\n    at org.mockito.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:167)\n    at org.mockito.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\n    at org.mockito.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:217)\n    at org.mockito.cglib.core.KeyFactory$Generator.create(KeyFactory.java:145)\n    at org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:117)\n    at org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:109)\n    at org.mockito.cglib.core.KeyFactory.create(KeyFactory.java:105)\n    at org.mockito.cglib.proxy.Enhancer.&lt;clinit&gt;(Enhancer.java:70)\n    at org.mockito.internal.creation.cglib.ClassImposterizer.createProxyClass(ClassImposterizer.java:95)\n    at org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:57)\n    at org.mockito.internal.creation.cglib.ClassImposterizer.imposterise(ClassImposterizer.java:49)\n    at org.mockito.internal.creation.cglib.CglibMockMaker.createMock(CglibMockMaker.java:24)\n    at org.mockito.internal.util.MockUtil.createMock(MockUtil.java:33)\n    at org.mockito.internal.MockitoCore.mock(MockitoCore.java:59)\n    at org.mockito.Mockito.mock(Mockito.java:1285)\n    at org.mockito.Mockito.mock(Mockito.java:1163)\n    at com.in28minutes.business.TodoBusinessImplTest_withMock.testWithMock(TodoBusinessImplTest_withMock.java:20)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:93)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @685cb137\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:200)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:194)\n    at org.mockito.cglib.core.ReflectUtils$2.run(ReflectUtils.java:57)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n    at org.mockito.cglib.core.ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:47)\n    ... 38 more\n</code></pre>\n<p>Below is the code I am trying to run</p>\n<p>TodoService.java</p>\n<pre><code>    package com.in28minutes.data.api;\n\n    import java.util.List;\n\n    public interface TodoService {\n    public List&lt;String&gt; retrieveTodos(String user);\n    }\n</code></pre>\n<p>TodoBusinessImpl.java</p>\n<pre><code>\n   import java.util.ArrayList; \n   import java.util.List;\n\n   import com.in28minutes.data.api.TodoService;\n\n    public class TodoBusinessImpl {\n    private TodoService todoService;\n\n    public TodoBusinessImpl(TodoService todoService) {\n        this.todoService = todoService;\n    }\n    \n    public List&lt;String&gt; retrieveTodosRelatedToSpring(String user){\n        List&lt;String&gt; filteredTodos = new ArrayList&lt;String&gt;();\n        List&lt;String&gt; alltodos = todoService.retrieveTodos(user);\n        \n        for(String todo : alltodos) {\n            if(todo.contains(&quot;Spring&quot;)) {\n                filteredTodos.add(todo);\n            }\n        }\n        \n        return filteredTodos;\n    }\n    }\n</code></pre>\n<p>TodoBusinessImplTest_withMock.java</p>\n<pre><code>   package com.in28minutes.business;\n\n   import static org.junit.Assert.*;\n   import static org.mockito.Mockito.mock;\n   import static org.mockito.Mockito.when;\n\n   import java.util.Arrays;\n   import java.util.List;\n\n   import org.junit.Test;\n   import com.in28minutes.data.api.TodoService;\n\n   public class TodoBusinessImplTest_withMock {\n    \n    \n\n    @Test\n    public void testWithMock() {\n        \n        TodoService todoServiceMock = mock(TodoService.class);\n        \n        List&lt;String&gt; todo = Arrays.asList(&quot;Learn Spring MVC&quot;, &quot;Learn Spring&quot;, &quot;Learn To Code&quot;);\n        \n        when(todoServiceMock.retrieveTodos(&quot;Dummy&quot;)).thenReturn(todo);\n        \n        TodoBusinessImpl todoBusinessImpl = new TodoBusinessImpl(todoServiceMock);\n        \n        List&lt;String&gt; filteredTodos = todoBusinessImpl.retrieveTodosRelatedToSpring(&quot;Dummy&quot;);\n        \n        assertEquals(2, filteredTodos.size());\n        \n    }\n\n   }\n\n</code></pre>\n"},{"tags":["java","file-not-found"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1680109818,"post_id":75880131,"comment_id":133843160,"body_markdown":"This is not about your dictionary.txt file, it&#39;s about Java not finding class files. How do you try to run your code? If you are on the shell, what command do you run in what folder, and where are the class files relative to that? If you use an IDE, which one, and how do you try to run the code from the IDE? Does your source folder match the package declaration? Seems odd that you have a package named `IndentChecker`. Does your IDE report problems?","body":"This is not about your dictionary.txt file, it&#39;s about Java not finding class files. How do you try to run your code? If you are on the shell, what command do you run in what folder, and where are the class files relative to that? If you use an IDE, which one, and how do you try to run the code from the IDE? Does your source folder match the package declaration? Seems odd that you have a package named <code>IndentChecker</code>. Does your IDE report problems?"},{"owner":{"account_id":28001762,"reputation":1,"user_id":21385885,"display_name":"Maryellen"},"score":0,"creation_date":1680115511,"post_id":75880131,"comment_id":133844527,"body_markdown":"Apparently this is something to do with IntelliJ. I switched my project over to eclipse and it seems to be working fine. Thank you for your response.","body":"Apparently this is something to do with IntelliJ. I switched my project over to eclipse and it seems to be working fine. Thank you for your response."}],"owner":{"account_id":28001762,"reputation":1,"user_id":21385885,"display_name":"Maryellen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680173973,"answer_count":0,"score":0,"last_activity_date":1680109457,"creation_date":1680109457,"question_id":75880131,"body_markdown":"I have the files in the src folder. I have another project that is also giving me the same error of not being able to find the file. I have basically been slamming my head against my desk trying to figure out what is wrong. \r\n\r\n```\r\npackage IndentChecker;\r\n\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.Scanner;\r\nimport java.util.Stack;\r\n\r\n    class BadIndentationException extends RuntimeException {\r\n        BadIndentationException(String error) {\r\n\r\n            super(error);\r\n        }\r\n    }\r\n\r\n    public class IndentChecker {\r\n        Stack&lt;Integer&gt; indentStack = new Stack&lt;Integer&gt;();\r\n\r\n        private int findFirstNonBlank(String line) {\r\n            // return index of first non-blank character\r\n            // return -1 if the line doesn&#39;t contain a non-blank character\r\n            for (int i= 0; i &lt; line.length(); i++) {\r\n                if(line.charAt(i) != &#39; &#39;){\r\n                    return i;\r\n                }\r\n            }\r\n            return -1;\r\n        }\r\n\r\n        private void processLine(String line, int lineNumber) {\r\n            int index = findFirstNonBlank(line);\r\n            // Skip blank lines ... i.e. return immediately\r\n            if(index == -1)\r\n                return;\r\n            // If the stack is empty, then push this index onto the stack and return\r\n            if(indentStack.isEmpty())\r\n                indentStack.push(index);\r\n                // If this index &gt; than the top of the stack, then push this index onto the stack and return\r\n            else {\r\n                if(index &gt; indentStack.peek()){\r\n                    indentStack.push(index);\r\n                    return;\r\n                }\r\n                while(indentStack.peek() &gt; index){ // Pop off all Indentation indexes &gt; index\r\n                    indentStack.pop();\r\n                    // At his point the top of the stack should match the current index. If it\r\n                    // doesn&#39;t throw a BadIndentationException. In the error message, include the source Line Number\r\n                } if(indentStack.peek() != index)\r\n                    throw new BadIndentationException(&quot;error at line: &quot; + lineNumber);\r\n            }\r\n        }\r\n\r\n        public void checkIndentation(String fileName) {\r\n            indentStack.clear(); // Clear the stack\r\n            Scanner input = null;\r\n            try {\r\n                input = new Scanner(new File(fileName));\r\n                int lineNumber = 1;\r\n                while (input.hasNextLine()) { // read through the file line by line\r\n                    String line = input.nextLine();\r\n                    System.out.println(lineNumber + &quot;:&quot; + line);\r\n                    processLine(line, lineNumber); // for each line, call processLine to check indentation\r\n                    lineNumber += 1;\r\n                }\r\n                if (indentStack.peek() == 0)\r\n                    System.out.println(&quot;***&quot; + fileName + &quot; must be properly indented.&quot; + &quot;/n&quot;);\r\n            } catch (BadIndentationException error) {\r\n                System.out.println(error);\r\n            } catch (FileNotFoundException e) {\r\n                System.out.println(&quot;Can&#39;t open file:&quot; + fileName);\r\n            } finally {\r\n                if (input != null)\r\n                    input.close();\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            IndentChecker indentChecker = new IndentChecker();\r\n            for (int i = 0; i &lt; args.length; i++) {\r\n                System.out.println(&quot;Processing file: &quot; + args[i]);\r\n                indentChecker.checkIndentation(args[i]);\r\n            }\r\n        }\r\n}\r\n\r\n```\r\n\r\nWhen I run the code I get this message &quot; C:\\Users\\user\\.jdks\\openjdk-19.0.2\\bin\\java.exe &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.3\\lib\\idea_rt.jar=54873:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.3\\bin&quot; -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 IndentChecker.IndentChecker\r\nError: Could not find or load main class IndentChecker.IndentChecker\r\nCaused by: java.lang.ClassNotFoundException: IndentChecker.IndentChecker\r\n\r\nProcess finished with exit code 1\r\n&quot;\r\ntried to replace &quot;dictionary.txt&quot; with absolute and src path. Tried to run File f= new File and system out that, and it still cannot find the file. \r\n","title":"Error: Could not find or load main class IndentChecker.IndentChecker Caused by: java.lang.ClassNotFoundException: IndentChecker.IndentChecker","body":"<p>I have the files in the src folder. I have another project that is also giving me the same error of not being able to find the file. I have basically been slamming my head against my desk trying to figure out what is wrong.</p>\n<pre><code>package IndentChecker;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\nimport java.util.Stack;\n\n    class BadIndentationException extends RuntimeException {\n        BadIndentationException(String error) {\n\n            super(error);\n        }\n    }\n\n    public class IndentChecker {\n        Stack&lt;Integer&gt; indentStack = new Stack&lt;Integer&gt;();\n\n        private int findFirstNonBlank(String line) {\n            // return index of first non-blank character\n            // return -1 if the line doesn't contain a non-blank character\n            for (int i= 0; i &lt; line.length(); i++) {\n                if(line.charAt(i) != ' '){\n                    return i;\n                }\n            }\n            return -1;\n        }\n\n        private void processLine(String line, int lineNumber) {\n            int index = findFirstNonBlank(line);\n            // Skip blank lines ... i.e. return immediately\n            if(index == -1)\n                return;\n            // If the stack is empty, then push this index onto the stack and return\n            if(indentStack.isEmpty())\n                indentStack.push(index);\n                // If this index &gt; than the top of the stack, then push this index onto the stack and return\n            else {\n                if(index &gt; indentStack.peek()){\n                    indentStack.push(index);\n                    return;\n                }\n                while(indentStack.peek() &gt; index){ // Pop off all Indentation indexes &gt; index\n                    indentStack.pop();\n                    // At his point the top of the stack should match the current index. If it\n                    // doesn't throw a BadIndentationException. In the error message, include the source Line Number\n                } if(indentStack.peek() != index)\n                    throw new BadIndentationException(&quot;error at line: &quot; + lineNumber);\n            }\n        }\n\n        public void checkIndentation(String fileName) {\n            indentStack.clear(); // Clear the stack\n            Scanner input = null;\n            try {\n                input = new Scanner(new File(fileName));\n                int lineNumber = 1;\n                while (input.hasNextLine()) { // read through the file line by line\n                    String line = input.nextLine();\n                    System.out.println(lineNumber + &quot;:&quot; + line);\n                    processLine(line, lineNumber); // for each line, call processLine to check indentation\n                    lineNumber += 1;\n                }\n                if (indentStack.peek() == 0)\n                    System.out.println(&quot;***&quot; + fileName + &quot; must be properly indented.&quot; + &quot;/n&quot;);\n            } catch (BadIndentationException error) {\n                System.out.println(error);\n            } catch (FileNotFoundException e) {\n                System.out.println(&quot;Can't open file:&quot; + fileName);\n            } finally {\n                if (input != null)\n                    input.close();\n            }\n        }\n\n        public static void main(String[] args) {\n            IndentChecker indentChecker = new IndentChecker();\n            for (int i = 0; i &lt; args.length; i++) {\n                System.out.println(&quot;Processing file: &quot; + args[i]);\n                indentChecker.checkIndentation(args[i]);\n            }\n        }\n}\n\n</code></pre>\n<p>When I run the code I get this message &quot; C:\\Users\\user.jdks\\openjdk-19.0.2\\bin\\java.exe &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.3\\lib\\idea_rt.jar=54873:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.3.3\\bin&quot; -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 IndentChecker.IndentChecker\nError: Could not find or load main class IndentChecker.IndentChecker\nCaused by: java.lang.ClassNotFoundException: IndentChecker.IndentChecker</p>\n<p>Process finished with exit code 1\n&quot;\ntried to replace &quot;dictionary.txt&quot; with absolute and src path. Tried to run File f= new File and system out that, and it still cannot find the file.</p>\n"},{"tags":["java","cross-platform","home-directory"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1235574608,"post_id":585534,"comment_id":398136,"body_markdown":"Did you try the workarounds mentioned in the bug? There are plenty of suggestions.","body":"Did you try the workarounds mentioned in the bug? There are plenty of suggestions."},{"owner":{"account_id":25259,"reputation":1385,"user_id":64824,"accept_rate":29,"display_name":"GregA100k"},"score":1,"creation_date":1251820410,"post_id":585534,"comment_id":1200805,"body_markdown":"bug 4787931 for java versions up through 1.4.2 shows up again as bug 6519127 for java 1.6.  The problem is not going away and is still listed as low priority.","body":"bug 4787931 for java versions up through 1.4.2 shows up again as bug 6519127 for java 1.6.  The problem is not going away and is still listed as low priority."},{"owner":{"account_id":62556,"reputation":4247,"user_id":185799,"accept_rate":75,"display_name":"Steven R. Loomis"},"score":25,"creation_date":1380558141,"post_id":585534,"comment_id":28237152,"body_markdown":"Note: bug 4787391 is marked as fixed in Java 8","body":"Note: bug 4787391 is marked as fixed in Java 8"},{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":0,"creation_date":1662068344,"post_id":585534,"comment_id":129927322,"body_markdown":"For a discussion on Windows see https://stackoverflow.com/q/1503555/873282.","body":"For a discussion on Windows see <a href=\"https://stackoverflow.com/q/1503555/873282\">stackoverflow.com/q/1503555/873282</a>."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":11,"up_vote_count":52,"is_accepted":false,"score":41,"last_activity_date":1680109328,"creation_date":1235559195,"answer_id":585558,"question_id":585534,"body_markdown":"    System.getProperty(&quot;user.home&quot;);\r\n\r\nSee the [JavaDoc][1].\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/System.html#getProperties()","title":"What is the best way to find the user&#39;s home directory in Java?","body":"<pre><code>System.getProperty(&quot;user.home&quot;);\n</code></pre>\n<p>See the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/System.html#getProperties()\" rel=\"nofollow noreferrer\">JavaDoc</a>.</p>\n"},{"tags":[],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"down_vote_count":4,"up_vote_count":22,"is_accepted":false,"score":18,"last_activity_date":1235559781,"creation_date":1235559781,"answer_id":585588,"question_id":585534,"body_markdown":"Others have answered the question before me but a useful program to print out all available properties is: \r\n\r\n    for (Map.Entry&lt;?,?&gt; e : System.getProperties().entrySet()) {\r\n        System.out.println(String.format(&quot;%s = %s&quot;, e.getKey(), e.getValue())); \r\n    }\r\n\r\n","title":"What is the best way to find the user&#39;s home directory in Java?","body":"<p>Others have answered the question before me but a useful program to print out all available properties is: </p>\n\n<pre><code>for (Map.Entry&lt;?,?&gt; e : System.getProperties().entrySet()) {\n    System.out.println(String.format(\"%s = %s\", e.getKey(), e.getValue())); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10258,"reputation":26460,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"down_vote_count":0,"up_vote_count":460,"is_accepted":true,"score":460,"last_activity_date":1496080128,"creation_date":1235574343,"answer_id":586345,"question_id":585534,"body_markdown":"The bug you reference (bug 4787391) has been fixed in Java 8. Even if you are using an older version of Java, the `System.getProperty(&quot;user.home&quot;)` approach is probably still the best. The `user.home` approach seems to work in a very large number of cases. A 100% bulletproof solution on Windows is hard, because Windows has a shifting concept of what the home directory means.&lt;br/&gt;&lt;br/&gt;\r\nIf `user.home` isn&#39;t good enough for you I would suggest choosing a definition of `home directory` for windows and using it, getting the appropriate environment variable with `System.getenv(String)`.\r\n\r\n\r\n  [1]: http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4787931","title":"What is the best way to find the user&#39;s home directory in Java?","body":"<p>The bug you reference (bug 4787391) has been fixed in Java 8. Even if you are using an older version of Java, the <code>System.getProperty(\"user.home\")</code> approach is probably still the best. The <code>user.home</code> approach seems to work in a very large number of cases. A 100% bulletproof solution on Windows is hard, because Windows has a shifting concept of what the home directory means.<br/><br/>\nIf <code>user.home</code> isn't good enough for you I would suggest choosing a definition of <code>home directory</code> for windows and using it, getting the appropriate environment variable with <code>System.getenv(String)</code>.</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1235582360,"creation_date":1235581809,"answer_id":586917,"question_id":585534,"body_markdown":"The concept of a HOME directory seems to be a bit vague when it comes to Windows. If the [environment variables][1] (HOMEDRIVE/HOMEPATH/USERPROFILE) aren&#39;t enough, you may have to resort to using native functions via [JNI][2] or [JNA][3]. [SHGetFolderPath][4] allows you to retrieve special folders, like *My Documents* (CSIDL&amp;#095;PERSONAL) or *Local Settings\\Application Data* (CSIDL&amp;#095;LOCAL&amp;#095;APPDATA).\r\n\r\nSample JNA code:\r\n\r\n    public class PrintAppDataDir {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tif (com.sun.jna.Platform.isWindows()) {\r\n    \t\t\tHWND hwndOwner = null;\r\n    \t\t\tint nFolder = Shell32.CSIDL_LOCAL_APPDATA;\r\n    \t\t\tHANDLE hToken = null;\r\n    \t\t\tint dwFlags = Shell32.SHGFP_TYPE_CURRENT;\r\n    \t\t\tchar[] pszPath = new char[Shell32.MAX_PATH];\r\n    \t\t\tint hResult = Shell32.INSTANCE.SHGetFolderPath(hwndOwner, nFolder,\r\n    \t\t\t\t\thToken, dwFlags, pszPath);\r\n    \t\t\tif (Shell32.S_OK == hResult) {\r\n    \t\t\t\tString path = new String(pszPath);\r\n    \t\t\t\tint len = path.indexOf(&#39;\\0&#39;);\r\n    \t\t\t\tpath = path.substring(0, len);\r\n    \t\t\t\tSystem.out.println(path);\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.err.println(&quot;Error: &quot; + hResult);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static Map&lt;String, Object&gt; OPTIONS = new HashMap&lt;String, Object&gt;();\r\n    \tstatic {\r\n    \t\tOPTIONS.put(Library.OPTION_TYPE_MAPPER, W32APITypeMapper.UNICODE);\r\n    \t\tOPTIONS.put(Library.OPTION_FUNCTION_MAPPER,\r\n    \t\t\t\tW32APIFunctionMapper.UNICODE);\r\n    \t}\r\n    \r\n    \tstatic class HANDLE extends PointerType implements NativeMapped {\r\n    \t}\r\n    \r\n    \tstatic class HWND extends HANDLE {\r\n    \t}\r\n    \r\n    \tstatic interface Shell32 extends Library {\r\n    \r\n    \t\tpublic static final int MAX_PATH = 260;\r\n    \t\tpublic static final int CSIDL_LOCAL_APPDATA = 0x001c;\r\n    \t\tpublic static final int SHGFP_TYPE_CURRENT = 0;\r\n    \t\tpublic static final int SHGFP_TYPE_DEFAULT = 1;\r\n    \t\tpublic static final int S_OK = 0;\r\n    \r\n    \t\tstatic Shell32 INSTANCE = (Shell32) Native.loadLibrary(&quot;shell32&quot;,\r\n    \t\t\t\tShell32.class, OPTIONS);\r\n    \r\n    \t\t/**\r\n    \t\t * see http://msdn.microsoft.com/en-us/library/bb762181(VS.85).aspx\r\n    \t\t * \r\n    \t\t * HRESULT SHGetFolderPath( HWND hwndOwner, int nFolder, HANDLE hToken,\r\n    \t\t * DWORD dwFlags, LPTSTR pszPath);\r\n    \t\t */\r\n    \t\tpublic int SHGetFolderPath(HWND hwndOwner, int nFolder, HANDLE hToken,\r\n    \t\t\t\tint dwFlags, char[] pszPath);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/System.html\r\n  [2]: http://java.sun.com/javase/6/docs/technotes/guides/jni/\r\n  [3]: https://github.com/twall/jna/\r\n  [4]: http://msdn.microsoft.com/en-us/library/bb762181(VS.85).aspx","title":"What is the best way to find the user&#39;s home directory in Java?","body":"<p>The concept of a HOME directory seems to be a bit vague when it comes to Windows. If the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/System.html\" rel=\"noreferrer\">environment variables</a> (HOMEDRIVE/HOMEPATH/USERPROFILE) aren't enough, you may have to resort to using native functions via <a href=\"http://java.sun.com/javase/6/docs/technotes/guides/jni/\" rel=\"noreferrer\">JNI</a> or <a href=\"https://github.com/twall/jna/\" rel=\"noreferrer\">JNA</a>. <a href=\"http://msdn.microsoft.com/en-us/library/bb762181(VS.85).aspx\" rel=\"noreferrer\">SHGetFolderPath</a> allows you to retrieve special folders, like <em>My Documents</em> (CSIDL&#095;PERSONAL) or <em>Local Settings\\Application Data</em> (CSIDL&#095;LOCAL&#095;APPDATA).</p>\n\n<p>Sample JNA code:</p>\n\n<pre><code>public class PrintAppDataDir {\n\n    public static void main(String[] args) {\n        if (com.sun.jna.Platform.isWindows()) {\n            HWND hwndOwner = null;\n            int nFolder = Shell32.CSIDL_LOCAL_APPDATA;\n            HANDLE hToken = null;\n            int dwFlags = Shell32.SHGFP_TYPE_CURRENT;\n            char[] pszPath = new char[Shell32.MAX_PATH];\n            int hResult = Shell32.INSTANCE.SHGetFolderPath(hwndOwner, nFolder,\n                    hToken, dwFlags, pszPath);\n            if (Shell32.S_OK == hResult) {\n                String path = new String(pszPath);\n                int len = path.indexOf('\\0');\n                path = path.substring(0, len);\n                System.out.println(path);\n            } else {\n                System.err.println(\"Error: \" + hResult);\n            }\n        }\n    }\n\n    private static Map&lt;String, Object&gt; OPTIONS = new HashMap&lt;String, Object&gt;();\n    static {\n        OPTIONS.put(Library.OPTION_TYPE_MAPPER, W32APITypeMapper.UNICODE);\n        OPTIONS.put(Library.OPTION_FUNCTION_MAPPER,\n                W32APIFunctionMapper.UNICODE);\n    }\n\n    static class HANDLE extends PointerType implements NativeMapped {\n    }\n\n    static class HWND extends HANDLE {\n    }\n\n    static interface Shell32 extends Library {\n\n        public static final int MAX_PATH = 260;\n        public static final int CSIDL_LOCAL_APPDATA = 0x001c;\n        public static final int SHGFP_TYPE_CURRENT = 0;\n        public static final int SHGFP_TYPE_DEFAULT = 1;\n        public static final int S_OK = 0;\n\n        static Shell32 INSTANCE = (Shell32) Native.loadLibrary(\"shell32\",\n                Shell32.class, OPTIONS);\n\n        /**\n         * see http://msdn.microsoft.com/en-us/library/bb762181(VS.85).aspx\n         * \n         * HRESULT SHGetFolderPath( HWND hwndOwner, int nFolder, HANDLE hToken,\n         * DWORD dwFlags, LPTSTR pszPath);\n         */\n        public int SHGetFolderPath(HWND hwndOwner, int nFolder, HANDLE hToken,\n                int dwFlags, char[] pszPath);\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1235637283,"creation_date":1235637283,"answer_id":589657,"question_id":585534,"body_markdown":"I would use the algorithm detailed in the bug report using System.getenv(String), and fallback to using the user.dir property if none of the environment variables indicated a valid existing directory.  This should work cross-platform.\r\n\r\nI think, under Windows, what you are really after is the user&#39;s notional &quot;documents&quot; directory.","title":"What is the best way to find the user&#39;s home directory in Java?","body":"<p>I would use the algorithm detailed in the bug report using System.getenv(String), and fallback to using the user.dir property if none of the environment variables indicated a valid existing directory.  This should work cross-platform.</p>\n\n<p>I think, under Windows, what you are really after is the user's notional \"documents\" directory.</p>\n"},{"tags":[],"owner":{"account_id":4646344,"reputation":71,"user_id":3764528,"display_name":"Peter"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1403443832,"creation_date":1403443832,"answer_id":24351739,"question_id":585534,"body_markdown":"As I was searching for Scala version, all I could find was McDowell&#39;s JNA code above.  I include my Scala port here, as there currently isn&#39;t anywhere more appropriate.\r\n\r\n    import com.sun.jna.platform.win32._\r\n    object jna {\r\n        def getHome: java.io.File = {\r\n            if (!com.sun.jna.Platform.isWindows()) {\r\n                new java.io.File(System.getProperty(&quot;user.home&quot;))\r\n            }\r\n            else {\r\n                val pszPath: Array[Char] = new Array[Char](WinDef.MAX_PATH)\r\n                new java.io.File(Shell32.INSTANCE.SHGetSpecialFolderPath(null, pszPath, ShlObj.CSIDL_MYDOCUMENTS, false) match {\r\n                    case true =&gt; new String(pszPath.takeWhile(c =&gt; c != &#39;\\0&#39;))\r\n                    case _    =&gt; System.getProperty(&quot;user.home&quot;)\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\nAs with the Java version, you will need to add [Java Native Access][1], including both jar files, to your referenced libraries.\r\n\r\nIt&#39;s nice to see that JNA now makes this much easier than when the original code was posted.\r\n\r\n  [1]: https://github.com/twall/jna\r\n","title":"What is the best way to find the user&#39;s home directory in Java?","body":"<p>As I was searching for Scala version, all I could find was McDowell's JNA code above.  I include my Scala port here, as there currently isn't anywhere more appropriate.</p>\n\n<pre><code>import com.sun.jna.platform.win32._\nobject jna {\n    def getHome: java.io.File = {\n        if (!com.sun.jna.Platform.isWindows()) {\n            new java.io.File(System.getProperty(\"user.home\"))\n        }\n        else {\n            val pszPath: Array[Char] = new Array[Char](WinDef.MAX_PATH)\n            new java.io.File(Shell32.INSTANCE.SHGetSpecialFolderPath(null, pszPath, ShlObj.CSIDL_MYDOCUMENTS, false) match {\n                case true =&gt; new String(pszPath.takeWhile(c =&gt; c != '\\0'))\n                case _    =&gt; System.getProperty(\"user.home\")\n            })\n        }\n    }\n}\n</code></pre>\n\n<p>As with the Java version, you will need to add <a href=\"https://github.com/twall/jna\" rel=\"noreferrer\">Java Native Access</a>, including both jar files, to your referenced libraries.</p>\n\n<p>It's nice to see that JNA now makes this much easier than when the original code was posted.</p>\n"},{"tags":[],"owner":{"account_id":989107,"reputation":21888,"user_id":1006863,"accept_rate":69,"display_name":"Paulo Fidalgo"},"down_vote_count":1,"up_vote_count":172,"is_accepted":false,"score":171,"last_activity_date":1415890320,"creation_date":1415890320,"answer_id":26911685,"question_id":585534,"body_markdown":"Actually with Java 8 the right way is to use:\r\n\r\n    System.getProperty(&quot;user.home&quot;);\r\n\r\nThe bug [ JDK-6519127][1] has been fixed and the &quot;Incompatibilities between JDK 8 and JDK 7&quot; section of the [release notes][2] states:\r\n\r\n&gt; Area: Core Libs / java.lang\r\n&gt; \r\n&gt; Synopsis\r\n&gt; \r\n&gt;The steps used to determine the user&#39;s home directory on Windows have changed to follow the Microsoft recommended approach. This change\r\n&gt; might be observable on older editions of Windows or where registry\r\n&gt; settings or environment variables are set to other directories. Nature\r\n&gt; of Incompatibility\r\n&gt; \r\n&gt;     behavioral RFE\r\n&gt; \r\n&gt;     6519127\r\n\r\nDespite the question being old I leave this for future reference.\r\n\r\n\r\n  [1]: http://bugs.java.com/view_bug.do?bug_id=6519127\r\n  [2]: http://www.oracle.com/technetwork/java/javase/8-compatibility-guide-2156366.html","title":"What is the best way to find the user&#39;s home directory in Java?","body":"<p>Actually with Java 8 the right way is to use:</p>\n\n<pre><code>System.getProperty(\"user.home\");\n</code></pre>\n\n<p>The bug <a href=\"http://bugs.java.com/view_bug.do?bug_id=6519127\"> JDK-6519127</a> has been fixed and the \"Incompatibilities between JDK 8 and JDK 7\" section of the <a href=\"http://www.oracle.com/technetwork/java/javase/8-compatibility-guide-2156366.html\">release notes</a> states:</p>\n\n<blockquote>\n  <p>Area: Core Libs / java.lang</p>\n  \n  <p>Synopsis</p>\n  \n  <p>The steps used to determine the user's home directory on Windows have changed to follow the Microsoft recommended approach. This change\n  might be observable on older editions of Windows or where registry\n  settings or environment variables are set to other directories. Nature\n  of Incompatibility</p>\n\n<pre><code>behavioral RFE\n\n6519127\n</code></pre>\n</blockquote>\n\n<p>Despite the question being old I leave this for future reference.</p>\n"},{"tags":[],"owner":{"account_id":47208,"reputation":904,"user_id":139692,"accept_rate":70,"display_name":"Neil Benn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504607073,"creation_date":1504607073,"answer_id":46052687,"question_id":585534,"body_markdown":"If you want something that works well on windows there is a package called [WinFoldersJava][1] which wraps the native call to get the &#39;special&#39; directories on Windows.  We use it frequently and it works well.\r\n\r\n\r\n  [1]: https://github.com/catnapgames/WinFoldersJava","title":"What is the best way to find the user&#39;s home directory in Java?","body":"<p>If you want something that works well on windows there is a package called <a href=\"https://github.com/catnapgames/WinFoldersJava\" rel=\"nofollow noreferrer\">WinFoldersJava</a> which wraps the native call to get the 'special' directories on Windows.  We use it frequently and it works well.</p>\n"},{"tags":[],"owner":{"account_id":3238625,"reputation":1945,"user_id":2732177,"display_name":"mladzo"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1539254175,"creation_date":1539254175,"answer_id":52757962,"question_id":585534,"body_markdown":"Alternative would be to use Apache CommonsIO `FileUtils.getUserDirectory()` instead of `System.getProperty(&quot;user.home&quot;)`. It will get you the same result and there is no chance to introduce a typo when specifying system property.\r\n\r\nThere is a big chance you already have Apache CommonsIO library in your project. Don&#39;t introduce it if you plan to use it only for getting user home directory.","title":"What is the best way to find the user&#39;s home directory in Java?","body":"<p>Alternative would be to use Apache CommonsIO <code>FileUtils.getUserDirectory()</code> instead of <code>System.getProperty(\"user.home\")</code>. It will get you the same result and there is no chance to introduce a typo when specifying system property.</p>\n\n<p>There is a big chance you already have Apache CommonsIO library in your project. Don't introduce it if you plan to use it only for getting user home directory.</p>\n"}],"owner":{"account_id":3396,"reputation":7487,"user_id":4900,"accept_rate":83,"display_name":"Bruno Ranschaert"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326523,"favorite_count":0,"down_vote_count":1,"up_vote_count":361,"accepted_answer_id":586345,"answer_count":9,"score":360,"last_activity_date":1680109328,"creation_date":1235558811,"question_id":585534,"body_markdown":"What is the best way to find the user&#39;s home directory in Java?\r\n\r\nThe difficulty is that the solution should be cross-platform; it should work on Windows 2000, XP, Vista, OS X, Linux, and other Unix variants. I am looking for a snippet of code that can accomplish this for all platforms, and a way to detect the platform.\r\n\r\nPer Java bug [4787931][1], system property `user.home` does not work correctly on Windows XP, so using this system property is not an acceptable solution as it is not cross-platform.\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4787931","title":"What is the best way to find the user&#39;s home directory in Java?","body":"<p>What is the best way to find the user's home directory in Java?</p>\n<p>The difficulty is that the solution should be cross-platform; it should work on Windows 2000, XP, Vista, OS X, Linux, and other Unix variants. I am looking for a snippet of code that can accomplish this for all platforms, and a way to detect the platform.</p>\n<p>Per Java bug <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4787931\" rel=\"noreferrer\">4787931</a>, system property <code>user.home</code> does not work correctly on Windows XP, so using this system property is not an acceptable solution as it is not cross-platform.</p>\n"},{"tags":["java","kotlin","spring-jdbc","spring-transactions","jta"],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680108879,"creation_date":1680003597,"question_id":75865777,"body_markdown":"I have created multiple datasources manually and wrapped them all together in one CustomRoutingDataSource which I registered as the main datasource in my application. I&#39;m using tw-gaffer (https://github.com/transferwise/tw-gaffer-jta) as `JtaTransactionManager` implementation. Problem is that when I am doing inserts in one thread/one transaction across multiple databases then application doesn&#39;t understand that the underlying datasource in CustomRoutingDataSource has changes and it does them all in one database.\r\n\r\n```\r\n// I create this bean manually in another configuration class and create the configure the rest of the spring-data-jdbc based on it\r\nclass CustomRoutingDataSource(\r\n  private val additionalDataSources: Map&lt;String, DataSourceImpl&gt;,\r\n  private val mainDataSource: DataSourceImpl\r\n) : AbstractRoutingDataSource() {\r\n\r\n  companion object {\r\n    val ACTIVE_DS = ThreadLocal&lt;String?&gt;()\r\n  }\r\n\r\n  init {\r\n    val allDataSources: Map&lt;Any, Any&gt; = (\r\n      additionalDataSources +\r\n        (&quot;main&quot; to mainDataSource)\r\n      ).toMap()\r\n\r\n    setDefaultTargetDataSource(mainDataSource)\r\n    setTargetDataSources(allDataSources)\r\n  }\r\n\r\n  override fun determineCurrentLookupKey(): String? {\r\n    return ACTIVE_DS.get() ? &quot;main&quot;\r\n  }\r\n}\r\n```\r\n\r\n```\r\n@Configuration\r\n@EnableTransactionManagement\r\nclass TransactionManagerConfiguration {\r\n\r\n  @Bean\r\n  fun gafferUserTransaction(): UserTransaction {\r\n    val serviceRegistry: ServiceRegistry = ServiceRegistryHolder.getServiceRegistry()\r\n    return serviceRegistry.userTransaction\r\n  }\r\n\r\n  @Bean(&quot;gafferTransactionManager&quot;)\r\n  fun gafferTransactionManager(\r\n    beforeCommitValidationRequiredTimeMs: Long\r\n  ): TransactionManagerImpl {\r\n    val serviceRegistry: ServiceRegistry = ServiceRegistryHolder.getServiceRegistry()\r\n    val configuration = serviceRegistry.configuration\r\n    configuration.beforeCommitValidationRequiredTimeMs = 30000\r\n    return serviceRegistry.transactionManager\r\n  }\r\n\r\n  @Bean\r\n  fun transactionManager(\r\n    @Qualifier(&quot;gafferTransactionManager&quot;) gafferTransactionManager: TransactionManagerImpl\r\n  ): JtaTransactionManager {\r\n    val serviceRegistry: ServiceRegistry = ServiceRegistryHolder.getServiceRegistry()\r\n    val jtaTransactionManager = JtaTransactionManager(gafferUserTransaction(), gafferTransactionManager)\r\n\r\n    jtaTransactionManager.defaultTimeout = 30000\r\n    jtaTransactionManager.transactionSynchronizationRegistry = serviceRegistry.transactionSynchronizationRegistry\r\n    return jtaTransactionManager\r\n  }\r\n}\r\n```\r\n\r\nMy test code:\r\n\r\n```\r\n@Transactional\r\nfun doSomething() {\r\n  CustomRoutingDataSource.ACTIVE_DS.set(&quot;db1&quot;)\r\n  jdbcTemplate.insert(...)\r\n  CustomRoutingDataSource.ACTIVE_DS.set(&quot;db2&quot;)\r\n  jdbcTemplate.insert(...)\r\n}\r\n```\r\n\r\nProblem is that both inserts go to db1. If I remove the `@Transactional` then it works correct.\r\n\r\nMy hunch is that `TransactionSynchronizationManager` somehow looks that it&#39;s already got a connection from `CustomRoutingDataSource` and therefor it doesn&#39;t know it should ask for a new one as the thread local has changes and therefor `determineCurrentLookupKey()` is never called the second time. I have no idea how to force it to call it every time.\r\n\r\nP.S My code-examples are in Kotlin, but there is nothing Kotlin specific going on here. Also I believe it&#39;s not tw-gaffer specific. \r\n\r\n**Question is how to make AbstractRoutingDataSource play together with JtaTransactionManager?**","title":"JtaTransactionManager doesnt respect AbstractRoutingDatasource","body":"<p>I have created multiple datasources manually and wrapped them all together in one CustomRoutingDataSource which I registered as the main datasource in my application. I'm using tw-gaffer (<a href=\"https://github.com/transferwise/tw-gaffer-jta\" rel=\"nofollow noreferrer\">https://github.com/transferwise/tw-gaffer-jta</a>) as <code>JtaTransactionManager</code> implementation. Problem is that when I am doing inserts in one thread/one transaction across multiple databases then application doesn't understand that the underlying datasource in CustomRoutingDataSource has changes and it does them all in one database.</p>\n<pre><code>// I create this bean manually in another configuration class and create the configure the rest of the spring-data-jdbc based on it\nclass CustomRoutingDataSource(\n  private val additionalDataSources: Map&lt;String, DataSourceImpl&gt;,\n  private val mainDataSource: DataSourceImpl\n) : AbstractRoutingDataSource() {\n\n  companion object {\n    val ACTIVE_DS = ThreadLocal&lt;String?&gt;()\n  }\n\n  init {\n    val allDataSources: Map&lt;Any, Any&gt; = (\n      additionalDataSources +\n        (&quot;main&quot; to mainDataSource)\n      ).toMap()\n\n    setDefaultTargetDataSource(mainDataSource)\n    setTargetDataSources(allDataSources)\n  }\n\n  override fun determineCurrentLookupKey(): String? {\n    return ACTIVE_DS.get() ? &quot;main&quot;\n  }\n}\n</code></pre>\n<pre><code>@Configuration\n@EnableTransactionManagement\nclass TransactionManagerConfiguration {\n\n  @Bean\n  fun gafferUserTransaction(): UserTransaction {\n    val serviceRegistry: ServiceRegistry = ServiceRegistryHolder.getServiceRegistry()\n    return serviceRegistry.userTransaction\n  }\n\n  @Bean(&quot;gafferTransactionManager&quot;)\n  fun gafferTransactionManager(\n    beforeCommitValidationRequiredTimeMs: Long\n  ): TransactionManagerImpl {\n    val serviceRegistry: ServiceRegistry = ServiceRegistryHolder.getServiceRegistry()\n    val configuration = serviceRegistry.configuration\n    configuration.beforeCommitValidationRequiredTimeMs = 30000\n    return serviceRegistry.transactionManager\n  }\n\n  @Bean\n  fun transactionManager(\n    @Qualifier(&quot;gafferTransactionManager&quot;) gafferTransactionManager: TransactionManagerImpl\n  ): JtaTransactionManager {\n    val serviceRegistry: ServiceRegistry = ServiceRegistryHolder.getServiceRegistry()\n    val jtaTransactionManager = JtaTransactionManager(gafferUserTransaction(), gafferTransactionManager)\n\n    jtaTransactionManager.defaultTimeout = 30000\n    jtaTransactionManager.transactionSynchronizationRegistry = serviceRegistry.transactionSynchronizationRegistry\n    return jtaTransactionManager\n  }\n}\n</code></pre>\n<p>My test code:</p>\n<pre><code>@Transactional\nfun doSomething() {\n  CustomRoutingDataSource.ACTIVE_DS.set(&quot;db1&quot;)\n  jdbcTemplate.insert(...)\n  CustomRoutingDataSource.ACTIVE_DS.set(&quot;db2&quot;)\n  jdbcTemplate.insert(...)\n}\n</code></pre>\n<p>Problem is that both inserts go to db1. If I remove the <code>@Transactional</code> then it works correct.</p>\n<p>My hunch is that <code>TransactionSynchronizationManager</code> somehow looks that it's already got a connection from <code>CustomRoutingDataSource</code> and therefor it doesn't know it should ask for a new one as the thread local has changes and therefor <code>determineCurrentLookupKey()</code> is never called the second time. I have no idea how to force it to call it every time.</p>\n<p>P.S My code-examples are in Kotlin, but there is nothing Kotlin specific going on here. Also I believe it's not tw-gaffer specific.</p>\n<p><strong>Question is how to make AbstractRoutingDataSource play together with JtaTransactionManager?</strong></p>\n"},{"tags":["java","sql","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":24121769,"reputation":19,"user_id":18090829,"display_name":"Frederic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680108483,"creation_date":1680108483,"answer_id":75879999,"question_id":75854959,"body_markdown":"If you define your variable artikel in the entity Artikeldetails with `@JoinColumn(name=&quot;artikel_id&quot;, nullable = false)`, then it&#39;s normal that hibernate is generating the join of the 2 tables with the column artikel_id from artikeldetails against the column id from artikel table. Nothing wrong here.\r\n\r\nOn the other hand, if you want to join the 2 tables with the column id from artikeldetails against the column id from artikel table, then you can have only one artikeldetail per artikel and therefore your variable artikeldetails in the entity Artikel is wrong: it should be a `@OneToOne` and the type should not be a list of Artikeldetails but simply a Artikeldetails.","title":"Wrong SQL statement join table one to many hibernate JPA","body":"<p>If you define your variable artikel in the entity Artikeldetails with <code>@JoinColumn(name=&quot;artikel_id&quot;, nullable = false)</code>, then it's normal that hibernate is generating the join of the 2 tables with the column artikel_id from artikeldetails against the column id from artikel table. Nothing wrong here.</p>\n<p>On the other hand, if you want to join the 2 tables with the column id from artikeldetails against the column id from artikel table, then you can have only one artikeldetail per artikel and therefore your variable artikeldetails in the entity Artikel is wrong: it should be a <code>@OneToOne</code> and the type should not be a list of Artikeldetails but simply a Artikeldetails.</p>\n"}],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680108483,"creation_date":1679914857,"question_id":75854959,"body_markdown":"i have two Entitys/Tables and want to Join each other.\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;ARTIKEL&quot;)\r\npublic class Artikel{\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    private String artikelbezeichnung;\r\n    private int artikelnummer;\r\n    private Float preis;\r\n    \r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;artikel&quot;)\r\n    private List&lt;Artikeldetails&gt; artikeldetails;\r\n```\r\n\r\nand the second Table/Entity\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;ARTIKELDETAILS&quot;)\r\npublic class Artikeldetails {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    \r\n    private String artikeldetail;\r\n    private String artikelcustom;\r\n    private String artikelselektion;\r\n    \r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;artikel_id&quot;, nullable = false)\r\n    private Artikel artikel;\r\n```\r\n\r\nMY JPA Respository (Query)\r\n\r\n```\r\n@Query(value=&quot;SELECT artikel FROM Artikel artikel JOIN FETCH artikel.artikeldetails where artikel.artikelnummer = :artikelnummer&quot;)\r\n    List&lt;Artikel&gt; findByArtikelnummer(@Param(&quot;artikelnummer&quot;) int artikelnummer);\r\n```\r\n\r\nwhat did Hibernate Generate:\r\n\r\n```\r\nselect a1_0.id,a1_0.artikelbezeichnung,***a2_0.artikel_id***,a2_0.id,a2_0.artikelcustom,a2_0.artikeldetail,a2_0.artikelselektion,a1_0.artikelnummer,a1_0.preis \r\nfrom artikel a1_0 join artikeldetails a2_0 on a1_0.id=***a2_0.artikel_id ***\r\nwhere a1_0.artikelnummer=?\r\n```\r\n\r\nthe Problem is that a1_0.artikel_id not exists! The SQL Statement must look like:\r\n```\r\nselect a1_0.id,a1_0.artikelbezeichnung,a2_0.id,**a2_0.id**,a2_0.artikelcustom,a2_0.artikeldetail,a2_0.artikelselektion,a1_0.artikelnummer,a1_0.preis \r\nfrom artikel a1_0 join artikeldetails a2_0 on a1_0.id=**a2_0.id **\r\nwhere a1_0.artikelnummer=?\r\n```\r\n\r\n\r\nCan anyone help? I DISAPAIR ON HIBERNATE!","title":"Wrong SQL statement join table one to many hibernate JPA","body":"<p>i have two Entitys/Tables and want to Join each other.</p>\n<pre><code>@Entity\n@Table(name = &quot;ARTIKEL&quot;)\npublic class Artikel{\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String artikelbezeichnung;\n    private int artikelnummer;\n    private Float preis;\n    \n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;artikel&quot;)\n    private List&lt;Artikeldetails&gt; artikeldetails;\n</code></pre>\n<p>and the second Table/Entity</p>\n<pre><code>@Entity\n@Table(name=&quot;ARTIKELDETAILS&quot;)\npublic class Artikeldetails {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    \n    private String artikeldetail;\n    private String artikelcustom;\n    private String artikelselektion;\n    \n    @ManyToOne\n    @JoinColumn(name=&quot;artikel_id&quot;, nullable = false)\n    private Artikel artikel;\n</code></pre>\n<p>MY JPA Respository (Query)</p>\n<pre><code>@Query(value=&quot;SELECT artikel FROM Artikel artikel JOIN FETCH artikel.artikeldetails where artikel.artikelnummer = :artikelnummer&quot;)\n    List&lt;Artikel&gt; findByArtikelnummer(@Param(&quot;artikelnummer&quot;) int artikelnummer);\n</code></pre>\n<p>what did Hibernate Generate:</p>\n<pre><code>select a1_0.id,a1_0.artikelbezeichnung,***a2_0.artikel_id***,a2_0.id,a2_0.artikelcustom,a2_0.artikeldetail,a2_0.artikelselektion,a1_0.artikelnummer,a1_0.preis \nfrom artikel a1_0 join artikeldetails a2_0 on a1_0.id=***a2_0.artikel_id ***\nwhere a1_0.artikelnummer=?\n</code></pre>\n<p>the Problem is that a1_0.artikel_id not exists! The SQL Statement must look like:</p>\n<pre><code>select a1_0.id,a1_0.artikelbezeichnung,a2_0.id,**a2_0.id**,a2_0.artikelcustom,a2_0.artikeldetail,a2_0.artikelselektion,a1_0.artikelnummer,a1_0.preis \nfrom artikel a1_0 join artikeldetails a2_0 on a1_0.id=**a2_0.id **\nwhere a1_0.artikelnummer=?\n</code></pre>\n<p>Can anyone help? I DISAPAIR ON HIBERNATE!</p>\n"},{"tags":["java","swagger","openapi","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":22387209,"reputation":177,"user_id":16599849,"display_name":"Alfred Moon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671180629,"creation_date":1671180629,"answer_id":74822110,"question_id":74786381,"body_markdown":"I&#39;ve managed to do it by custom templates. Here is the nice video about it https://www.youtube.com/watch?v=Jp2y15Xgk9g&amp;t=1175s&amp;ab_channel=Cloud-NativeDevelopment and my custom template looks like this:\r\n\r\n            @RequestMapping(\r\n            method = RequestMethod.{{httpMethod}},\r\n            value = &quot;{{{path}}}&quot;{{#singleContentTypes}}{{#hasProduces}},\r\n            produces = &quot;{{{vendorExtensions.x-accepts}}}&quot;{{/hasProduces}}{{#hasConsumes}},\r\n            consumes = &quot;{{{vendorExtensions.x-content-type}}}&quot;{{/hasConsumes}}{{/singleContentTypes}}{{^singleContentTypes}}{{#hasProduces}},\r\n            produces = { {{#produces}}&quot;{{{mediaType}}}&quot;{{^-last}}, {{/-last}}{{/produces}} }{{/hasProduces}}{{#hasConsumes}},\r\n            consumes = { {{#consumes}}&quot;{{{mediaType}}}&quot;{{^-last}}, {{/-last}}{{/consumes}} }{{/hasConsumes}}{{/singleContentTypes}}\r\n            )\r\n        {{#vendorExtensions.x-custom-role}}\r\n            @PreAuthorize(&quot;{{{.}}}&quot;)\r\n        {{/vendorExtensions.x-custom-role}}\r\n\r\nand yml looks like this:\r\n\r\n      /foo/bar/{tab}:\r\n        get:\r\n          operationId: someOperation\r\n          x-custom-role: &quot;hasRole(&#39;ROLE_USER_ADMIN&#39;)","title":"Using @PreAuthorize with openapi-tools","body":"<p>I've managed to do it by custom templates. Here is the nice video about it <a href=\"https://www.youtube.com/watch?v=Jp2y15Xgk9g&amp;t=1175s&amp;ab_channel=Cloud-NativeDevelopment\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=Jp2y15Xgk9g&amp;t=1175s&amp;ab_channel=Cloud-NativeDevelopment</a> and my custom template looks like this:</p>\n<pre><code>        @RequestMapping(\n        method = RequestMethod.{{httpMethod}},\n        value = &quot;{{{path}}}&quot;{{#singleContentTypes}}{{#hasProduces}},\n        produces = &quot;{{{vendorExtensions.x-accepts}}}&quot;{{/hasProduces}}{{#hasConsumes}},\n        consumes = &quot;{{{vendorExtensions.x-content-type}}}&quot;{{/hasConsumes}}{{/singleContentTypes}}{{^singleContentTypes}}{{#hasProduces}},\n        produces = { {{#produces}}&quot;{{{mediaType}}}&quot;{{^-last}}, {{/-last}}{{/produces}} }{{/hasProduces}}{{#hasConsumes}},\n        consumes = { {{#consumes}}&quot;{{{mediaType}}}&quot;{{^-last}}, {{/-last}}{{/consumes}} }{{/hasConsumes}}{{/singleContentTypes}}\n        )\n    {{#vendorExtensions.x-custom-role}}\n        @PreAuthorize(&quot;{{{.}}}&quot;)\n    {{/vendorExtensions.x-custom-role}}\n</code></pre>\n<p>and yml looks like this:</p>\n<pre><code>  /foo/bar/{tab}:\n    get:\n      operationId: someOperation\n      x-custom-role: &quot;hasRole('ROLE_USER_ADMIN')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21317405,"reputation":49,"user_id":15691054,"display_name":"Gerard Puig"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680108193,"creation_date":1680107883,"answer_id":75879923,"question_id":74786381,"body_markdown":"Really cool! thanks for sharing! It was very useful to start to investigate this topic! (Sadly I can&#39;t give you points as my account has not enough level.)\r\n\r\n\r\nI share my solution as this could help someone else. \r\n\r\nin the `api.mustache` file we added this code:\r\n\r\n**Import PreAuthorize:**\r\n\r\n    {{#authMethods}}\r\n    import org.springframework.security.access.prepost.PreAuthorize;\r\n    {{/authMethods}}\r\n\r\n**Add @PreAuthorize annotation to validate scopes:**\r\n\r\n    {{#authMethods}}\r\n    @PreAuthorize(&quot;hasAnyAuthority(&#39;{{#scopes}}SCOPE_{{scope}}{{^-last}}, {{/-last}}{{/scopes}}&#39;)&quot;)\r\n    {{/authMethods}}\r\n\r\n**Clarifications:**\r\n\r\nComment that we validate our endpoints by scopes defined in the openapi yaml, in the standard security section [more info][1] and also comment that we use openApi generator version 6.1.0, maybe in the future they change the way how you can get the scopes.\r\n\r\n\r\nUseful document that explains how to custom your template:\r\nhttps://openapi-generator.tech/docs/templating\r\n\r\n\r\n  [1]: https://swagger.io/docs/specification/authentication/","title":"Using @PreAuthorize with openapi-tools","body":"<p>Really cool! thanks for sharing! It was very useful to start to investigate this topic! (Sadly I can't give you points as my account has not enough level.)</p>\n<p>I share my solution as this could help someone else.</p>\n<p>in the <code>api.mustache</code> file we added this code:</p>\n<p><strong>Import PreAuthorize:</strong></p>\n<pre><code>{{#authMethods}}\nimport org.springframework.security.access.prepost.PreAuthorize;\n{{/authMethods}}\n</code></pre>\n<p><strong>Add @PreAuthorize annotation to validate scopes:</strong></p>\n<pre><code>{{#authMethods}}\n@PreAuthorize(&quot;hasAnyAuthority('{{#scopes}}SCOPE_{{scope}}{{^-last}}, {{/-last}}{{/scopes}}')&quot;)\n{{/authMethods}}\n</code></pre>\n<p><strong>Clarifications:</strong></p>\n<p>Comment that we validate our endpoints by scopes defined in the openapi yaml, in the standard security section <a href=\"https://swagger.io/docs/specification/authentication/\" rel=\"nofollow noreferrer\">more info</a> and also comment that we use openApi generator version 6.1.0, maybe in the future they change the way how you can get the scopes.</p>\n<p>Useful document that explains how to custom your template:\n<a href=\"https://openapi-generator.tech/docs/templating\" rel=\"nofollow noreferrer\">https://openapi-generator.tech/docs/templating</a></p>\n"}],"owner":{"account_id":22387209,"reputation":177,"user_id":16599849,"display_name":"Alfred Moon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":871,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74822110,"answer_count":2,"score":1,"last_activity_date":1680108193,"creation_date":1670941603,"question_id":74786381,"body_markdown":"I am using openapi-generator-maven-plugin for code generation\r\n\r\n\t\t\t\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;6.0.1&lt;/version&gt;\r\n\r\nAnd I need to have @PreAuthorize annotation on precise API method. \r\n\r\n    @RestController\r\n    @Validated\r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n    @RequestMapping(&quot;/api/v1&quot;)\r\n    public class SomeController implements SomeApi {\r\n    \r\n        @Override\r\n        @PreAuthorize(&quot;hasRole(&#39;ROLE_USER_ADMIN&#39;) || hasRole(&#39;ROLE_DIGITAL_REP&#39;) || hasRole(&#39;ROLE_FIELD_REP&#39;)&quot;)\r\n        public ResponseEntity&lt;SomeDto&gt; getSomeInfo() {\r\n            return ResponseEntity\r\n                .status(HttpStatus.OK)\r\n                .body(&quot;some info&quot;);\r\n        }\r\n\r\nIt does not work because you can&#39;t use Spring annotations inside class (SomeApi calls overriden version of getSomeInfo inside). So my question is - is that possible to add @PreAuthorize for API endpoint during code generation step ? I&#39;ve found discussion here https://github.com/OpenAPITools/openapi-generator/issues/1975, but it is not clear was tis solved or not. ","title":"Using @PreAuthorize with openapi-tools","body":"<p>I am using openapi-generator-maven-plugin for code generation</p>\n<pre><code>            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n            &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;6.0.1&lt;/version&gt;\n</code></pre>\n<p>And I need to have @PreAuthorize annotation on precise API method.</p>\n<pre><code>@RestController\n@Validated\n@Slf4j\n@RequiredArgsConstructor\n@RequestMapping(&quot;/api/v1&quot;)\npublic class SomeController implements SomeApi {\n\n    @Override\n    @PreAuthorize(&quot;hasRole('ROLE_USER_ADMIN') || hasRole('ROLE_DIGITAL_REP') || hasRole('ROLE_FIELD_REP')&quot;)\n    public ResponseEntity&lt;SomeDto&gt; getSomeInfo() {\n        return ResponseEntity\n            .status(HttpStatus.OK)\n            .body(&quot;some info&quot;);\n    }\n</code></pre>\n<p>It does not work because you can't use Spring annotations inside class (SomeApi calls overriden version of getSomeInfo inside). So my question is - is that possible to add @PreAuthorize for API endpoint during code generation step ? I've found discussion here <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/1975\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator/issues/1975</a>, but it is not clear was tis solved or not.</p>\n"},{"tags":["java","spring-boot","kubernetes","environment-variables","amazon-elastic-beanstalk"],"owner":{"account_id":2101901,"reputation":4883,"user_id":1869299,"accept_rate":65,"display_name":"TWilly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680108137,"creation_date":1680108137,"question_id":75879957,"body_markdown":"Our team is migrating from elastic beanstalk to kubernetes.\r\n\r\nWe have log4j configuration and have the below configuration for logging to sentry.\r\n\r\nIn our config, we use this setup for elastic beanstalk \t\r\n\r\n\t\t&lt;Sentry name=&quot;Sentry&quot;\r\n                minimumBreadcrumbLevel=&quot;DEBUG&quot;\r\n                minimumEventLevel=&quot;WARN&quot;\r\n                dsn=&quot;${sys:sentry.dsn}&quot;/&gt;\r\n\r\nThis works for elastic beanstalk as we can pass configurations in as system properties using the UI configuration.\r\n\r\nIn kubernetes, these are now passed in as environment variables requiring the following configuration\r\n\r\n\t\t&lt;Sentry name=&quot;Sentry&quot;\r\n                minimumBreadcrumbLevel=&quot;DEBUG&quot;\r\n                minimumEventLevel=&quot;WARN&quot;\r\n                dsn=&quot;${env:sentry.dsn}&quot;/&gt;\r\n\r\nI&#39;d like both options to work as we go through the transition process. \r\n\r\nMy question is, how do I pass environment variables in Kubernetes and have them show up as system properties.\r\n\r\n\r\n","title":"Java log4j check sys or env in properties for migration from elastic beanstalk to Kubernetes","body":"<p>Our team is migrating from elastic beanstalk to kubernetes.</p>\n<p>We have log4j configuration and have the below configuration for logging to sentry.</p>\n<p>In our config, we use this setup for elastic beanstalk</p>\n<pre><code>    &lt;Sentry name=&quot;Sentry&quot;\n            minimumBreadcrumbLevel=&quot;DEBUG&quot;\n            minimumEventLevel=&quot;WARN&quot;\n            dsn=&quot;${sys:sentry.dsn}&quot;/&gt;\n</code></pre>\n<p>This works for elastic beanstalk as we can pass configurations in as system properties using the UI configuration.</p>\n<p>In kubernetes, these are now passed in as environment variables requiring the following configuration</p>\n<pre><code>    &lt;Sentry name=&quot;Sentry&quot;\n            minimumBreadcrumbLevel=&quot;DEBUG&quot;\n            minimumEventLevel=&quot;WARN&quot;\n            dsn=&quot;${env:sentry.dsn}&quot;/&gt;\n</code></pre>\n<p>I'd like both options to work as we go through the transition process.</p>\n<p>My question is, how do I pass environment variables in Kubernetes and have them show up as system properties.</p>\n"},{"tags":["java","memory","garbage-collection"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1680035404,"post_id":75870772,"comment_id":133827700,"body_markdown":"What makes you think that minor GCs take more time than major GCs?","body":"What makes you think that minor GCs take more time than major GCs?"},{"owner":{"account_id":28151516,"reputation":33,"user_id":21512972,"display_name":"Alevinevich"},"score":0,"creation_date":1680108074,"post_id":75870772,"comment_id":133842740,"body_markdown":"@louis-wasserman typo, fixed","body":"@louis-wasserman typo, fixed"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680036046,"creation_date":1680036046,"answer_id":75870877,"question_id":75870772,"body_markdown":"I am assuming you have a typo and you are asking why minor GCs would be faster than major GCs.\r\n\r\n&gt; Minor GC can&#39;t traverse objects only young generation objects, because what if object is referenced by an object from an old gen. I that case we won&#39;t be able to know that is being referenced without traversing ALL objects.\r\n\r\nhttp://abiasforaction.net/understanding-jvm-garbage-collection-part-3/ is a pretty good source here, but to summarize: it is a good heuristic (called the weak generational hypothesis) that there are very _few_ references from the old gen to the new gen.  (To have a reference from the old gen to the new gen, you have to modify an existing object; you can&#39;t just create new objects, or they would be in the new gen.)\r\n\r\nGiven that heuristic, the JVM can maintain a data structure which allows it to _narrow down_ how much of the old generation it has to traverse, usually by a significant amount.  This can be done simply by having every change to a reference in an old gen object update some data structure.  This is where the savings come in; minor GCs only have to traverse those old gen objects that have had one of their references (e.g. an object field) updated to point to a young object.","title":"Why does major GC take considerably more time than minor GC in Java?","body":"<p>I am assuming you have a typo and you are asking why minor GCs would be faster than major GCs.</p>\n<blockquote>\n<p>Minor GC can't traverse objects only young generation objects, because what if object is referenced by an object from an old gen. I that case we won't be able to know that is being referenced without traversing ALL objects.</p>\n</blockquote>\n<p><a href=\"http://abiasforaction.net/understanding-jvm-garbage-collection-part-3/\" rel=\"nofollow noreferrer\">http://abiasforaction.net/understanding-jvm-garbage-collection-part-3/</a> is a pretty good source here, but to summarize: it is a good heuristic (called the weak generational hypothesis) that there are very <em>few</em> references from the old gen to the new gen.  (To have a reference from the old gen to the new gen, you have to modify an existing object; you can't just create new objects, or they would be in the new gen.)</p>\n<p>Given that heuristic, the JVM can maintain a data structure which allows it to <em>narrow down</em> how much of the old generation it has to traverse, usually by a significant amount.  This can be done simply by having every change to a reference in an old gen object update some data structure.  This is where the savings come in; minor GCs only have to traverse those old gen objects that have had one of their references (e.g. an object field) updated to point to a young object.</p>\n"}],"owner":{"account_id":28151516,"reputation":33,"user_id":21512972,"display_name":"Alevinevich"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75870877,"answer_count":1,"score":1,"last_activity_date":1680108045,"creation_date":1680035249,"question_id":75870772,"body_markdown":"Generally, GC in Java works by traversing object graph from Garbage Collection Roots.\r\n\r\nSo why does Major GC takes considerably more time than Minor GC?\r\nThey both have to trigger stop-the-world event. \r\nThey they both have to traverse whole object graph. Minor GC can&#39;t traverse only young generation objects, because what if the object is referenced by an object from an old gen? In that case we won&#39;t be able to know that is being referenced without traversing ALL objects. \r\n\r\nOr is it only because of amount of moving bytes in memory, and not because of traversing object graph? \r\nAnd then, wouldn&#39;t old gen be less likely to have dead objects than young gen, resulting in overall moving less bytes while major GC-ing, then minor GC-ing?\r\nIf so, is traversing object graph time negligible compared to moving bytes in memory, or it takes a good part of GC-ing?\r\n\r\nI couldn&#39;t find that info on the internet. Everywhere I look, they just state that it is fast, or say that it is faster because &quot;young gen in smaller&quot;. But size of generation does not really matter: we still should traverse whole object graph. Or does speed difference exist only because of moving bytes in memory?","title":"Why does major GC take considerably more time than minor GC in Java?","body":"<p>Generally, GC in Java works by traversing object graph from Garbage Collection Roots.</p>\n<p>So why does Major GC takes considerably more time than Minor GC?\nThey both have to trigger stop-the-world event.\nThey they both have to traverse whole object graph. Minor GC can't traverse only young generation objects, because what if the object is referenced by an object from an old gen? In that case we won't be able to know that is being referenced without traversing ALL objects.</p>\n<p>Or is it only because of amount of moving bytes in memory, and not because of traversing object graph?\nAnd then, wouldn't old gen be less likely to have dead objects than young gen, resulting in overall moving less bytes while major GC-ing, then minor GC-ing?\nIf so, is traversing object graph time negligible compared to moving bytes in memory, or it takes a good part of GC-ing?</p>\n<p>I couldn't find that info on the internet. Everywhere I look, they just state that it is fast, or say that it is faster because &quot;young gen in smaller&quot;. But size of generation does not really matter: we still should traverse whole object graph. Or does speed difference exist only because of moving bytes in memory?</p>\n"},{"tags":["java","zoho","insomnia"],"owner":{"account_id":27786104,"reputation":41,"user_id":21213520,"display_name":"Bikathi Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680108044,"creation_date":1680108044,"question_id":75879941,"body_markdown":"I am working on a work module for integrating our law-firms management system with Zoho WorkDrive. I am using Java for the module. I have had to go through their WorkDrive APIs but it&#39;s inconsistent and hard to understand/ follow through.\r\nMy main problem is how do I use the Zoho-oauthtoken I get when I generate the Access and refresh tokens? there is a section in their docs that says:\r\n&gt; Once your app receives the access token, send the token in your HTTP authorization header to Zoho WorkDrive API with the value &quot;Zoho-oauthtoken {access_token}&quot; for each endpoint (for each request)\r\n\r\n\r\nSo when I tried what their docs say like this(My REST client is Insomnia by the way):\r\n[![enter image description here](https://i.stack.imgur.com/WLUt6.png)](https://i.stack.imgur.com/WLUt6.png), I get a 401 Unauthorized. When i remove the *Zoho-oauthtoken* prefix, this is what happens:\r\n[![enter image description here](https://i.stack.imgur.com/ofdgr.png)](https://i.stack.imgur.com/ofdgr.png). For context, here I was trying to create a new Team Folder in my trial team in my own Zoho Account, but the problem is the same with all the other endpoints I am trying to interact with.\r\n\r\n## The Java Part\r\nIn terms of Java code, here is how I am declaring the Scopes, I just copied their examples from their docs so I know I am somewhat on the right track:\r\n\r\n```\r\nprotected static final String FILE_SCOPE = &quot;WorkDrive.files.ALL,&quot;;\r\nprotected static final String TEAM_FOLDER_SCOPE = &quot;WorkDrive.teamfolders.ALL&quot;;\r\n```\r\nThen I am using this to generate the Access and Refresh token:\r\n\r\n```\r\n/**\r\n* SOME CODE OMITTED FOR CLARITY\r\n*/\r\nfinal String CLIENT_ID = this.CLIENT_ID;\r\nfinal String CLIENT_SECRET = this.CLIENT_SECRET;\r\nfinal String SCOPE = this.FILE_SCOPE + this.TEAM_FOLDER_SCOPE;\r\nfinal String REDIRECT_URI = &quot;https://localhost:8443/clientmanager/control/successZoho&quot;;\r\n\r\n// Get the grant token from the Session context\r\nString grantToken = (String) request.getSession().getAttribute(&quot;zohoGrantToken&quot;);\r\n\r\nfinal String TOKEN_ENDPOINT = String.format(\r\n&quot;https://accounts.zoho.com/oauth/v2/token?code=%s&amp;client_secret=%s&amp;redirect_uri=%s&amp;grant_type=authorization_code&amp;client_id=%s&amp;scope=%s&quot;,\r\ngrantToken, CLIENT_SECRET, REDIRECT_URI, CLIENT_ID, SCOPE\r\n        );\r\n/**\r\n* SOME CODE OMITTED FOR CLARITY\r\n*/\r\n```\r\nI need some help getting this to work because I am on a tight schedule. Have emailed the Zoho WorkDrive support team bu they have not responded yet.Any help or suggestion would be appreciated.\r\n","title":"How is the Zoho-oauthtoken designed to be used in a HTTP request?","body":"<p>I am working on a work module for integrating our law-firms management system with Zoho WorkDrive. I am using Java for the module. I have had to go through their WorkDrive APIs but it's inconsistent and hard to understand/ follow through.\nMy main problem is how do I use the Zoho-oauthtoken I get when I generate the Access and refresh tokens? there is a section in their docs that says:</p>\n<blockquote>\n<p>Once your app receives the access token, send the token in your HTTP authorization header to Zoho WorkDrive API with the value &quot;Zoho-oauthtoken {access_token}&quot; for each endpoint (for each request)</p>\n</blockquote>\n<p>So when I tried what their docs say like this(My REST client is Insomnia by the way):\n<a href=\"https://i.stack.imgur.com/WLUt6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WLUt6.png\" alt=\"enter image description here\" /></a>, I get a 401 Unauthorized. When i remove the <em>Zoho-oauthtoken</em> prefix, this is what happens:\n<a href=\"https://i.stack.imgur.com/ofdgr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ofdgr.png\" alt=\"enter image description here\" /></a>. For context, here I was trying to create a new Team Folder in my trial team in my own Zoho Account, but the problem is the same with all the other endpoints I am trying to interact with.</p>\n<h2>The Java Part</h2>\n<p>In terms of Java code, here is how I am declaring the Scopes, I just copied their examples from their docs so I know I am somewhat on the right track:</p>\n<pre><code>protected static final String FILE_SCOPE = &quot;WorkDrive.files.ALL,&quot;;\nprotected static final String TEAM_FOLDER_SCOPE = &quot;WorkDrive.teamfolders.ALL&quot;;\n</code></pre>\n<p>Then I am using this to generate the Access and Refresh token:</p>\n<pre><code>/**\n* SOME CODE OMITTED FOR CLARITY\n*/\nfinal String CLIENT_ID = this.CLIENT_ID;\nfinal String CLIENT_SECRET = this.CLIENT_SECRET;\nfinal String SCOPE = this.FILE_SCOPE + this.TEAM_FOLDER_SCOPE;\nfinal String REDIRECT_URI = &quot;https://localhost:8443/clientmanager/control/successZoho&quot;;\n\n// Get the grant token from the Session context\nString grantToken = (String) request.getSession().getAttribute(&quot;zohoGrantToken&quot;);\n\nfinal String TOKEN_ENDPOINT = String.format(\n&quot;https://accounts.zoho.com/oauth/v2/token?code=%s&amp;client_secret=%s&amp;redirect_uri=%s&amp;grant_type=authorization_code&amp;client_id=%s&amp;scope=%s&quot;,\ngrantToken, CLIENT_SECRET, REDIRECT_URI, CLIENT_ID, SCOPE\n        );\n/**\n* SOME CODE OMITTED FOR CLARITY\n*/\n</code></pre>\n<p>I need some help getting this to work because I am on a tight schedule. Have emailed the Zoho WorkDrive support team bu they have not responded yet.Any help or suggestion would be appreciated.</p>\n"},{"tags":["java","algorithm","sorting","data-structures","quicksort"],"comments":[{"owner":{"account_id":171499,"reputation":11291,"user_id":398963,"accept_rate":60,"display_name":"Konrad H&#246;ffner"},"score":0,"creation_date":1680087774,"post_id":75876347,"comment_id":133836657,"body_markdown":"Welcome to StackOverflow! Please add the rest of the code of your class and the test code as well.","body":"Welcome to StackOverflow! Please add the rest of the code of your class and the test code as well."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":4,"creation_date":1680087981,"post_id":75876347,"comment_id":133836711,"body_markdown":"*&quot;then a couple of seconds later I get an Error which refers to a couple of lines that casued it&quot;* - you may not understand what the error is telling you, but it is important information. You need to include the full error message in your question.","body":"<i>&quot;then a couple of seconds later I get an Error which refers to a couple of lines that casued it&quot;</i> - you may not understand what the error is telling you, but it is important information. You need to include the full error message in your question."},{"owner":{"account_id":21785418,"reputation":3,"user_id":16086533,"display_name":"First_1st"},"score":0,"creation_date":1680088097,"post_id":75876347,"comment_id":133836743,"body_markdown":"Hi, I don&#39;t have access to the TEST class it is failing, I can only send it in and then I get back a result whether it has passed or not. The only error I get is why it is failing and it says &quot;Run Time error&quot;","body":"Hi, I don&#39;t have access to the TEST class it is failing, I can only send it in and then I get back a result whether it has passed or not. The only error I get is why it is failing and it says &quot;Run Time error&quot;"},{"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"score":2,"creation_date":1680088104,"post_id":75876347,"comment_id":133836746,"body_markdown":"Your choice of pivot is bad in the case where the array is already sorted. And secondarily, if there can be duplicate elements in the input array, a 3-way partition (&lt;pivot =pivot &gt;pivot) is needed to avoid quadratic runtime.","body":"Your choice of pivot is bad in the case where the array is already sorted. And secondarily, if there can be duplicate elements in the input array, a 3-way partition (&lt;pivot =pivot &gt;pivot) is needed to avoid quadratic runtime."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":1,"creation_date":1680088200,"post_id":75876347,"comment_id":133836770,"body_markdown":"You have said that there is an error which refers to some lines in your code. You have not said which lines. Furthermore even if you don&#39;t have access to your teacher&#39;s test code, there is nothing stopping you from testing the code yourself to identify where the error is occurring. You need to do this in order to provide the necessary information for other people to be able to answer your question.","body":"You have said that there is an error which refers to some lines in your code. You have not said which lines. Furthermore even if you don&#39;t have access to your teacher&#39;s test code, there is nothing stopping you from testing the code yourself to identify where the error is occurring. You need to do this in order to provide the necessary information for other people to be able to answer your question."},{"owner":{"account_id":171499,"reputation":11291,"user_id":398963,"accept_rate":60,"display_name":"Konrad H&#246;ffner"},"score":0,"creation_date":1680088289,"post_id":75876347,"comment_id":133836794,"body_markdown":"For code for a learning assignment I would make the distinction between pivot element and pivot index more clear, e.g. by using more explicit variable names. This would not happen in a language like Rust that has usize for index position but I find it confusing that you use int for both your elements and your indices and then you have two variables named &quot;pivot&quot; where one contains an element and the other contains an index.","body":"For code for a learning assignment I would make the distinction between pivot element and pivot index more clear, e.g. by using more explicit variable names. This would not happen in a language like Rust that has usize for index position but I find it confusing that you use int for both your elements and your indices and then you have two variables named &quot;pivot&quot; where one contains an element and the other contains an index."},{"owner":{"account_id":34433,"reputation":55374,"user_id":1400793,"display_name":"Paul Hankin"},"score":0,"creation_date":1680088455,"post_id":75876347,"comment_id":133836830,"body_markdown":"If you want to avoid a random pivot, choose the median of a[0], a[n/2] and a[n-1].","body":"If you want to avoid a random pivot, choose the median of a[0], a[n/2] and a[n-1]."},{"owner":{"account_id":21785418,"reputation":3,"user_id":16086533,"display_name":"First_1st"},"score":0,"creation_date":1680088909,"post_id":75876347,"comment_id":133836943,"body_markdown":"@kaya3 I was replying to Konrad H&#246;ffner. I have now edited my post and you can see the error at the end. Sorry for the confusion :)","body":"@kaya3 I was replying to Konrad H&#246;ffner. I have now edited my post and you can see the error at the end. Sorry for the confusion :)"},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1680089639,"post_id":75876347,"comment_id":133837092,"body_markdown":"Please post the full error, not just the first line. In this case it probably doesn&#39;t contain any more information but it is good to be sure. I suspect, as other commenters have suggested, that both the stack overflow error and the performance problems are caused by the choice of pivot.","body":"Please post the full error, not just the first line. In this case it probably doesn&#39;t contain any more information but it is good to be sure. I suspect, as other commenters have suggested, that both the stack overflow error and the performance problems are caused by the choice of pivot."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1680089885,"post_id":75876347,"comment_id":133837150,"body_markdown":"Look at this:  https://en.wikipedia.org/wiki/Quicksort#Choice_of_pivot.  It explains what happens when you make a poor choice of pivot, and what to do about it.  And in Java, the pathological behavior *manifests* as a stack overflow for a large enough input list.","body":"Look at this:  <a href=\"https://en.wikipedia.org/wiki/Quicksort#Choice_of_pivot\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Quicksort#Choice_of_pivot</a>.  It explains what happens when you make a poor choice of pivot, and what to do about it.  And in Java, the pathological behavior <i>manifests</i> as a stack overflow for a large enough input list."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":2,"creation_date":1680091586,"post_id":75876347,"comment_id":133837603,"body_markdown":"&quot;I don&#39;t have access to the TEST class it is failing&quot; Well, then the first thing to do is write yourself a test suite!","body":"&quot;I don&#39;t have access to the TEST class it is failing&quot; Well, then the first thing to do is write yourself a test suite!"}],"answers":[{"tags":[],"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680107772,"creation_date":1680107772,"answer_id":75879911,"question_id":75876347,"body_markdown":"To handle already sorted or reverse sorted data:\r\n\r\n```java\r\n    public int partition(int [] array,  int first, int last){\r\n        int middle = (first+last)/2;    // use middle element for pivot\r\n        swap(array, middle, last);\r\n        int pivot = array[last];\r\n        int i = first - 1;\r\n        \r\n        for (int j = first; j &lt; last; j++){\r\n            if (array[j]&lt;= pivot){\r\n                i++;\r\n                swap(array, i, j);\r\n        \r\n            }\r\n        } \r\n        swap(array, i+1, last);\r\n        return i+1;\r\n    }\r\n```\r\n\r\nStack usage can be reduced to O(log2(n)) by recursing on smaller partition, looping for larger partition. Worst case time complexity is still O(n^2).\r\n\r\n```java\r\n     \r\n    private void quickSort(int [] array, int first, int last){\r\n        while (first  &lt; last){\r\n            int pivot = partition(array, first, last);\r\n            if((pivot - first) &lt;= (last - pivot){\r\n                quickSort(array, first, pivot - 1);\r\n                first = pivot + 1;\r\n            } else {\r\n                quickSort(array, pivot + 1, last);\r\n                last = pivot - 1;\r\n        }\r\n    }\r\n```\r\n\r\nIf there are a lot of duplicates, then Lomuto degrades towards worst case, while Hoare improves towards best case. Example code (the names will need to be changed):\r\n\r\n```java\r\n\r\n    @SuppressWarnings(&quot;empty-statement&quot;)\r\n    public int partition(int[] a, int lo, int hi)\r\n    {\r\n        if(lo &gt;= hi)\r\n            return;\r\n        int p = a[lo+(hi-lo)/2];\r\n        int i = lo-1;\r\n        int j = hi+1;\r\n        int t;\r\n        while(true){                // partition\r\n            while(a[++i] &lt; p);\r\n            while(a[--j] &gt; p);\r\n            if(i &gt;= j)\r\n                break;\r\n            t     = a[i];\r\n            a[i] = a[j];\r\n            a[j] = t;\r\n        }\r\n        return j;\r\n    }\r\n\r\n    private void quickSort(int [] array, int first, int last){\r\n        while (first  &lt; last){\r\n            int split = partition(array, first, last);\r\n            if((split - first) &lt;= (last - split){\r\n                quickSort(array, first, split);\r\n                first = split + 1;\r\n            } else {\r\n                quickSort(array, split + 1, last);\r\n                last = split;\r\n        }\r\n    }\r\n\r\n```\r\n","title":"My quicksort algorithm is very slow so what can I do to make it faster?","body":"<p>To handle already sorted or reverse sorted data:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public int partition(int [] array,  int first, int last){\n        int middle = (first+last)/2;    // use middle element for pivot\n        swap(array, middle, last);\n        int pivot = array[last];\n        int i = first - 1;\n        \n        for (int j = first; j &lt; last; j++){\n            if (array[j]&lt;= pivot){\n                i++;\n                swap(array, i, j);\n        \n            }\n        } \n        swap(array, i+1, last);\n        return i+1;\n    }\n</code></pre>\n<p>Stack usage can be reduced to O(log2(n)) by recursing on smaller partition, looping for larger partition. Worst case time complexity is still O(n^2).</p>\n<pre class=\"lang-java prettyprint-override\"><code>     \n    private void quickSort(int [] array, int first, int last){\n        while (first  &lt; last){\n            int pivot = partition(array, first, last);\n            if((pivot - first) &lt;= (last - pivot){\n                quickSort(array, first, pivot - 1);\n                first = pivot + 1;\n            } else {\n                quickSort(array, pivot + 1, last);\n                last = pivot - 1;\n        }\n    }\n</code></pre>\n<p>If there are a lot of duplicates, then Lomuto degrades towards worst case, while Hoare improves towards best case. Example code (the names will need to be changed):</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @SuppressWarnings(&quot;empty-statement&quot;)\n    public int partition(int[] a, int lo, int hi)\n    {\n        if(lo &gt;= hi)\n            return;\n        int p = a[lo+(hi-lo)/2];\n        int i = lo-1;\n        int j = hi+1;\n        int t;\n        while(true){                // partition\n            while(a[++i] &lt; p);\n            while(a[--j] &gt; p);\n            if(i &gt;= j)\n                break;\n            t     = a[i];\n            a[i] = a[j];\n            a[j] = t;\n        }\n        return j;\n    }\n\n    private void quickSort(int [] array, int first, int last){\n        while (first  &lt; last){\n            int split = partition(array, first, last);\n            if((split - first) &lt;= (last - split){\n                quickSort(array, first, split);\n                first = split + 1;\n            } else {\n                quickSort(array, split + 1, last);\n                last = split;\n        }\n    }\n\n</code></pre>\n"}],"owner":{"account_id":21785418,"reputation":3,"user_id":16086533,"display_name":"First_1st"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75879911,"answer_count":1,"score":-1,"last_activity_date":1680107772,"creation_date":1680087652,"question_id":75876347,"body_markdown":"\r\nAs you can see, this quicksort algorithm looks fine and it does work. The problem is it is very slow (according to a teacher), and a problem I&#39;m facing is that this algorithm doesn&#39;t work for data size larger than 100000. \r\n\r\nI think I am getting a stack overflow error\r\nbecause of the recursive calls. When I make it print the sorted array of size 100k or laregr it does print the array and then a couple of seconds later I get an Error which refers to a couple of lines that casued it. In some cases while printing the array it stops and gives the same errors. So this got me wondering why the recursive calls keep on calling even after the *if statement (condition)* is fulfilled? Or did I misunderstand that, in that case what is causing it to give me an error after perfectly printing the sorted array? \r\n\r\nAll in all how do I make this algorithm faster\r\n(according to a test class, this algorithm is not fast enough)? What is causing it to be slow that you guys can see here? I have made some changes myself but nothing that fixed it. And btw I have another algorithm class for random pivots so don&#39;t suggest that since this is specifically for fixed pivots.\r\n\r\n\r\n```java\r\nimport java.util.Arrays;\r\n\r\npublic class QuicksortFixedPivot{    \r\n       \r\n    public int partition(int [] array,  int first, int last){\r\n        int pivot = array[last];\r\n        int i = first - 1;\r\n        \r\n        for (int j = first; j &lt; last; j++){\r\n            if (array[j]&lt;= pivot){\r\n                i++;\r\n                swap(array, i, j);\r\n        \r\n            }\r\n        } \r\n        swap(array, i+1, last);\r\n        return i+1;\r\n    }\r\n        \r\n    private void quickSort(int [] array, int first, int last){\r\n        if (first  &lt; last){\r\n            int pivot = partition(array, first, last);\r\n            quickSort(array, first, pivot - 1);\r\n            quickSort(array, pivot + 1, last);\r\n        }\r\n    }\r\n\r\n    public void swap(int[] arr, int i, int j) {\r\n        int temp = arr[i];\r\n        arr[i] = arr[j];\r\n        arr[j] = temp;\r\n        }\r\n\r\n    public void sort(int [] v){\r\n        quickSort(v, 0, v.length - 1);\r\n    }\r\n\r\n}\r\n```\r\nEdit:\r\nException in thread &quot;main&quot; java.lang.StackOverflowError.\r\nLine 38 &amp; 39 are the lines where quicksort method is recursively called.\r\n","title":"My quicksort algorithm is very slow so what can I do to make it faster?","body":"<p>As you can see, this quicksort algorithm looks fine and it does work. The problem is it is very slow (according to a teacher), and a problem I'm facing is that this algorithm doesn't work for data size larger than 100000.</p>\n<p>I think I am getting a stack overflow error\nbecause of the recursive calls. When I make it print the sorted array of size 100k or laregr it does print the array and then a couple of seconds later I get an Error which refers to a couple of lines that casued it. In some cases while printing the array it stops and gives the same errors. So this got me wondering why the recursive calls keep on calling even after the <em>if statement (condition)</em> is fulfilled? Or did I misunderstand that, in that case what is causing it to give me an error after perfectly printing the sorted array?</p>\n<p>All in all how do I make this algorithm faster\n(according to a test class, this algorithm is not fast enough)? What is causing it to be slow that you guys can see here? I have made some changes myself but nothing that fixed it. And btw I have another algorithm class for random pivots so don't suggest that since this is specifically for fixed pivots.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\npublic class QuicksortFixedPivot{    \n       \n    public int partition(int [] array,  int first, int last){\n        int pivot = array[last];\n        int i = first - 1;\n        \n        for (int j = first; j &lt; last; j++){\n            if (array[j]&lt;= pivot){\n                i++;\n                swap(array, i, j);\n        \n            }\n        } \n        swap(array, i+1, last);\n        return i+1;\n    }\n        \n    private void quickSort(int [] array, int first, int last){\n        if (first  &lt; last){\n            int pivot = partition(array, first, last);\n            quickSort(array, first, pivot - 1);\n            quickSort(array, pivot + 1, last);\n        }\n    }\n\n    public void swap(int[] arr, int i, int j) {\n        int temp = arr[i];\n        arr[i] = arr[j];\n        arr[j] = temp;\n        }\n\n    public void sort(int [] v){\n        quickSort(v, 0, v.length - 1);\n    }\n\n}\n</code></pre>\n<p>Edit:\nException in thread &quot;main&quot; java.lang.StackOverflowError.\nLine 38 &amp; 39 are the lines where quicksort method is recursively called.</p>\n"},{"tags":["java","spring","hibernate","one-to-one","many-to-one"],"answers":[{"tags":[],"owner":{"account_id":14001487,"reputation":150,"user_id":10112957,"display_name":"C0D3 M4513R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680107296,"creation_date":1680084112,"answer_id":75875751,"question_id":75875318,"body_markdown":"Just looking at the Java code provides me with no information about how the Database is set up.\r\n\r\nAssuming the database is set up in the following way:\r\n- You have a table `Dev` with the columns `id` and `S_COM_ID`\r\n- You have a table `COM` with the columns `id` and `name`\r\n\r\nTechnically from a database standpoint multiple entries in `Dev` can reference a id in `Com`. Nothing in the database prevents them from doing so. \r\n\r\nIf you expect this, then I would suggest not changing the `ManyToOne` annotation, because in code and database it can happen, that multiple instances of the java class `dev` will result in the same (read `==`, not `Object.equals`) java `com` object.\r\n\r\nIf you do not expect this, then I would suggest changing your database structure to make it impossible for multiple entries in the `Dev` table to reference a single `Com` entry. The only way I would know to achieve this is to just move the `name` column from the `Com` table into the `Dev` table.","title":"Change the relationship from @ManyToOne to @OneToOne","body":"<p>Just looking at the Java code provides me with no information about how the Database is set up.</p>\n<p>Assuming the database is set up in the following way:</p>\n<ul>\n<li>You have a table <code>Dev</code> with the columns <code>id</code> and <code>S_COM_ID</code></li>\n<li>You have a table <code>COM</code> with the columns <code>id</code> and <code>name</code></li>\n</ul>\n<p>Technically from a database standpoint multiple entries in <code>Dev</code> can reference a id in <code>Com</code>. Nothing in the database prevents them from doing so.</p>\n<p>If you expect this, then I would suggest not changing the <code>ManyToOne</code> annotation, because in code and database it can happen, that multiple instances of the java class <code>dev</code> will result in the same (read <code>==</code>, not <code>Object.equals</code>) java <code>com</code> object.</p>\n<p>If you do not expect this, then I would suggest changing your database structure to make it impossible for multiple entries in the <code>Dev</code> table to reference a single <code>Com</code> entry. The only way I would know to achieve this is to just move the <code>name</code> column from the <code>Com</code> table into the <code>Dev</code> table.</p>\n"}],"owner":{"account_id":17363970,"reputation":3,"user_id":12579582,"display_name":"vahid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75875751,"answer_count":1,"score":0,"last_activity_date":1680107296,"creation_date":1680081574,"question_id":75875318,"body_markdown":"Is there a need to change the relationship from @ManyToOne to @OneToOne?\r\n\r\nI mistakenly defined relation @ManyToOne instead of relation @OneToOne in my code\r\n\r\n\r\nMy classes in brief :\r\n\r\n\r\nClass dev:\r\n\r\n```\r\n.\r\n.\r\nprivate long id;\r\nprivate Com com;\r\n.\r\n.\r\n@ManyToOne\r\n@JoinColumn(name=&quot;S_COM_ID&quot;)\r\nPublic Com getCom(){\r\nreturn com;}\r\n.\r\n.\r\n```\r\n\r\nclass com:\r\n\r\n```\r\nprivate long id;\r\nprivate String name;\r\n.\r\n```\r\n\r\nAfter checking the database, I understood that the information is registered correctly. Do I need to change the relationship to  @OneToOne or not?","title":"Change the relationship from @ManyToOne to @OneToOne","body":"<p>Is there a need to change the relationship from @ManyToOne to @OneToOne?</p>\n<p>I mistakenly defined relation @ManyToOne instead of relation @OneToOne in my code</p>\n<p>My classes in brief :</p>\n<p>Class dev:</p>\n<pre><code>.\n.\nprivate long id;\nprivate Com com;\n.\n.\n@ManyToOne\n@JoinColumn(name=&quot;S_COM_ID&quot;)\nPublic Com getCom(){\nreturn com;}\n.\n.\n</code></pre>\n<p>class com:</p>\n<pre><code>private long id;\nprivate String name;\n.\n</code></pre>\n<p>After checking the database, I understood that the information is registered correctly. Do I need to change the relationship to  @OneToOne or not?</p>\n"},{"tags":["java","spring","spring-boot","esapi"],"answers":[{"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680106816,"creation_date":1680106452,"answer_id":75879722,"question_id":75879096,"body_markdown":"They are not planning to move to Jakarta packages, but there is a workaround if you want to get it to work with Spring 6.\r\n\r\n[Quote][1]:\r\n\r\n&gt; ### Special note regarding Spring Boot 3, Spring 6, Tomcat 10 and other applications / libraries requiring Jakarta EE\r\n&gt; **IMPORTANT:** We are aware that all versions of ESAPI (unless you are using very select parts) do not work with Jakarta EE. Jakarta EE relies on **jakarta.servlet-api**. ESAPI is built to use **javax.servlet-api**. This causes things like Spring Boot 3, Spring 6, Tomcat 10, the latest version of Jetty, etc. to fail to load certain (well, many) ESAPI classes. The reason for this is that the package names between these 2 libraryes are different! The dependency **javax.servlet-api** has a package namespace of `javax.servlet`. The **jakarta.servlet-api** library is using the package namespace of `jakarta.servlet`. So references to things like `ServletRequest`, `ServletResponse`, etc. in ESAPI are using `javax.servlet.ServletRequest` and `javax.servlet.ServletResponse` respectively. We cannot make it work for both at once and we will not stop supporting **javax.servlet-api**, which is what most of our existing ESAPI clients are using.\r\n&gt;\r\n&gt; Therefore **PLEASE STOP** sending us emails and/or creating GitHub issues regarding this! Instead, please read ongoing the GitHub discussion [#768][2] for further details.\r\n\r\nhttps://github.com/ESAPI/esapi-java-legacy/discussions/768\r\n\r\n\r\n  [1]: https://github.com/ESAPI/esapi-java-legacy/blob/develop/README.md\r\n  [2]: https://github.com/ESAPI/esapi-java-legacy/discussions/768","title":"Migrating from java8 to java 17 with spring boot 3 causing ESAPI issues","body":"<p>They are not planning to move to Jakarta packages, but there is a workaround if you want to get it to work with Spring 6.</p>\n<p><a href=\"https://github.com/ESAPI/esapi-java-legacy/blob/develop/README.md\" rel=\"nofollow noreferrer\">Quote</a>:</p>\n<blockquote>\n<h3>Special note regarding Spring Boot 3, Spring 6, Tomcat 10 and other applications / libraries requiring Jakarta EE</h3>\n<p><strong>IMPORTANT:</strong> We are aware that all versions of ESAPI (unless you are using very select parts) do not work with Jakarta EE. Jakarta EE relies on <strong>jakarta.servlet-api</strong>. ESAPI is built to use <strong>javax.servlet-api</strong>. This causes things like Spring Boot 3, Spring 6, Tomcat 10, the latest version of Jetty, etc. to fail to load certain (well, many) ESAPI classes. The reason for this is that the package names between these 2 libraryes are different! The dependency <strong>javax.servlet-api</strong> has a package namespace of <code>javax.servlet</code>. The <strong>jakarta.servlet-api</strong> library is using the package namespace of <code>jakarta.servlet</code>. So references to things like <code>ServletRequest</code>, <code>ServletResponse</code>, etc. in ESAPI are using <code>javax.servlet.ServletRequest</code> and <code>javax.servlet.ServletResponse</code> respectively. We cannot make it work for both at once and we will not stop supporting <strong>javax.servlet-api</strong>, which is what most of our existing ESAPI clients are using.</p>\n<p>Therefore <strong>PLEASE STOP</strong> sending us emails and/or creating GitHub issues regarding this! Instead, please read ongoing the GitHub discussion <a href=\"https://github.com/ESAPI/esapi-java-legacy/discussions/768\" rel=\"nofollow noreferrer\">#768</a> for further details.</p>\n</blockquote>\n<p><a href=\"https://github.com/ESAPI/esapi-java-legacy/discussions/768\" rel=\"nofollow noreferrer\">https://github.com/ESAPI/esapi-java-legacy/discussions/768</a></p>\n"}],"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3015,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680106816,"creation_date":1680102718,"question_id":75879096,"body_markdown":"I have migrated from java 8 to java 17 and spring boot to 3.0.4. I have jwt security protection in my code that uses jwtRequestFilter class as shown below\r\n\r\n \r\n\r\n    public class JwtRequestFilter extends OncePerRequestFilter \r\n\r\nwhich overrides the following method\r\n\r\n     @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException\r\n\r\n\r\nin this method im using  esapi httpUtilities to add a header as below\r\n\r\n     ESAPI.httpUtilities().addHeader(HttpServletResponse response, String name, String value);\r\n\r\nbut its throwing the following compilation error \r\n\r\n    The type javax.servlet.http.HttpServletResponse cannot be resolved. It is indirectly referenced from required type org.owasp.esapi.ESAPI\r\n\r\nsince with spring boot 3.x javax.servlet.http.HttpServletResponse; is not supported im using jakarta.servlet.http.HttpServletResponse; but  ESAPI internally using javax.servlet.http.HttpServletResponse; so im getting that exception. \r\n\r\nPlease let mw know if Is there any other way that I can configure to make my code work?  \r\n\r\n\r\n\r\n","title":"Migrating from java8 to java 17 with spring boot 3 causing ESAPI issues","body":"<p>I have migrated from java 8 to java 17 and spring boot to 3.0.4. I have jwt security protection in my code that uses jwtRequestFilter class as shown below</p>\n<pre><code>public class JwtRequestFilter extends OncePerRequestFilter \n</code></pre>\n<p>which overrides the following method</p>\n<pre><code> @Override\nprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException\n</code></pre>\n<p>in this method im using  esapi httpUtilities to add a header as below</p>\n<pre><code> ESAPI.httpUtilities().addHeader(HttpServletResponse response, String name, String value);\n</code></pre>\n<p>but its throwing the following compilation error</p>\n<pre><code>The type javax.servlet.http.HttpServletResponse cannot be resolved. It is indirectly referenced from required type org.owasp.esapi.ESAPI\n</code></pre>\n<p>since with spring boot 3.x javax.servlet.http.HttpServletResponse; is not supported im using jakarta.servlet.http.HttpServletResponse; but  ESAPI internally using javax.servlet.http.HttpServletResponse; so im getting that exception.</p>\n<p>Please let mw know if Is there any other way that I can configure to make my code work?</p>\n"},{"tags":["java","java-me","mobile","mobile-phones","nokia"],"comments":[{"owner":{"account_id":15179,"reputation":7612,"user_id":31791,"accept_rate":70,"display_name":"netadictos"},"score":0,"creation_date":1309175092,"post_id":3422320,"comment_id":7634201,"body_markdown":"Nowadays, Zxing has improved and I am very glad about the results. Zxing is great!!","body":"Nowadays, Zxing has improved and I am very glad about the results. Zxing is great!!"}],"answers":[{"tags":[],"owner":{"account_id":186533,"reputation":1078,"user_id":423993,"display_name":"Ermiar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1282223068,"creation_date":1282223068,"answer_id":3522032,"question_id":3422320,"body_markdown":"I did some research on the subject and it&#39;s very difficult to find libraries that decode Datamatrix.\r\n\r\nMaybe you&#39;ll find this library interesting : [libdmtx][1], it is written in C but you have a Java wrapper (informations on the [libdmtx wiki][2]).\r\n\r\nI know that is not J2ME like you want but maybe you can find a way to create a J2ME wrapper with that or the Java wrapper could work with a J2ME project.\r\n\r\nHope this helps ! \r\n\r\n\r\n  [1]: http://www.libdmtx.org/\r\n  [2]: http://libdmtx.wikidot.com/","title":"I need a J2me datamatrix decoder library that is not Zxing","body":"<p>I did some research on the subject and it's very difficult to find libraries that decode Datamatrix.</p>\n\n<p>Maybe you'll find this library interesting : <a href=\"http://www.libdmtx.org/\" rel=\"nofollow noreferrer\">libdmtx</a>, it is written in C but you have a Java wrapper (informations on the <a href=\"http://libdmtx.wikidot.com/\" rel=\"nofollow noreferrer\">libdmtx wiki</a>).</p>\n\n<p>I know that is not J2ME like you want but maybe you can find a way to create a J2ME wrapper with that or the Java wrapper could work with a J2ME project.</p>\n\n<p>Hope this helps ! </p>\n"}],"owner":{"account_id":15179,"reputation":7612,"user_id":31791,"accept_rate":70,"display_name":"netadictos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1272,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1680175164,"answer_count":1,"score":2,"last_activity_date":1680105297,"creation_date":1281085207,"question_id":3422320,"body_markdown":"I am writing an application that uses Zxing datamatrix decoder. It is OK for QR but not for datamatrix. It only decodes it if it is code-generated, absolutely clean. But if it is a captured-by-camera image it does not work well.\r\n\r\nIs there an alternative to this library (for J2me)?","title":"I need a J2me datamatrix decoder library that is not Zxing","body":"<p>I am writing an application that uses Zxing datamatrix decoder. It is OK for QR but not for datamatrix. It only decodes it if it is code-generated, absolutely clean. But if it is a captured-by-camera image it does not work well.</p>\n<p>Is there an alternative to this library (for J2me)?</p>\n"},{"tags":["java","spring","postgresql","spring-boot","api"],"comments":[{"owner":{"account_id":5007263,"reputation":761,"user_id":4024558,"accept_rate":43,"display_name":"Tarwirdur Turon"},"score":0,"creation_date":1680027535,"post_id":75869475,"comment_id":133825932,"body_markdown":"What library are you using to provide json api? `spring-data-rest`?","body":"What library are you using to provide json api? <code>spring-data-rest</code>?"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1680036379,"post_id":75869475,"comment_id":133827891,"body_markdown":"spring data jpa","body":"spring data jpa"},{"owner":{"account_id":5007263,"reputation":761,"user_id":4024558,"accept_rate":43,"display_name":"Tarwirdur Turon"},"score":0,"creation_date":1680049238,"post_id":75869475,"comment_id":133829798,"body_markdown":"`spring-data-jpa` provides only interfaces but not json api. As I see in stracktrace there is a custom controller (`OrderController`). And your problem in deserialization from json in `updateOrder` method.","body":"<code>spring-data-jpa</code> provides only interfaces but not json api. As I see in stracktrace there is a custom controller (<code>OrderController</code>). And your problem in deserialization from json in <code>updateOrder</code> method."},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1680109126,"post_id":75869475,"comment_id":133843002,"body_markdown":"I added the controller","body":"I added the controller"},{"owner":{"account_id":5007263,"reputation":761,"user_id":4024558,"accept_rate":43,"display_name":"Tarwirdur Turon"},"score":0,"creation_date":1680118712,"post_id":75869475,"comment_id":133845348,"body_markdown":"You should load products from db: `orderModel.setProducts(orderDto.getProducts().stream().map(t -&gt; productService.getOne(t.getProduct_id())).collect(Collectors::toList));`","body":"You should load products from db: <code>orderModel.setProducts(orderDto.getProducts().stream().map(t -&gt; productService.getOne(t.getProduct_id())).collect(Collectors&zwnj;&#8203;::toList));</code>"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1680193064,"post_id":75869475,"comment_id":133860391,"body_markdown":"in put controller?","body":"in put controller?"}],"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680105063,"creation_date":1680025651,"question_id":75869475,"body_markdown":"I have a spring boot api in which I have an order crud, which references a products model, as you can see\r\n\r\norderModel\r\n\r\n```\r\npackage com.api.business_manager_api.Models;\r\n\r\nimport jakarta.persistence.*;\r\n\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Table(name = &quot;ORDERS&quot;)\r\npublic class OrderModel {\r\n    private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID order_id;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;customer_id&quot;)\r\n    private CustomerModel customer;\r\n    @OneToMany(cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;order_id&quot;)\r\n    private List&lt;ProductModel&gt; products;\r\n    @Column(nullable = false, length = 80)\r\n    private Float totalAmount;\r\n\r\n    public UUID getOrder_id() {\r\n        return order_id;\r\n    }\r\n\r\n    public void setOrder_id(UUID order_id) {\r\n        this.order_id = order_id;\r\n    }\r\n\r\n    public CustomerModel getCustomer() {\r\n        return customer;\r\n    }\r\n\r\n    public void setCustomer(CustomerModel customer) {\r\n        this.customer = customer;\r\n    }\r\n\r\n    public List&lt;ProductModel&gt; getProducts() {\r\n        return products;\r\n    }\r\n\r\n    public void setProducts(List&lt;ProductModel&gt; products) {\r\n        this.products = products;\r\n    }\r\n\r\n    public Float getTotalAmount() {\r\n        return totalAmount;\r\n    }\r\n\r\n    public void setTotalAmount(Float totalAmount) {\r\n        this.totalAmount = totalAmount;\r\n    }\r\n}\r\n\r\n```\r\n\r\nproductModel\r\n\r\n```\r\npackage com.api.business_manager_api.Models;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport jakarta.persistence.*;\r\n\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Table(name = &quot;PRODUCTS&quot;)\r\npublic class ProductModel {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID product_id;\r\n\r\n    @Column(nullable = false, length = 80)\r\n    private String product;\r\n    @Column(nullable = true, length = 200)\r\n    private String image_url;\r\n    @Column(nullable = true, length = 80)\r\n    private String brand;\r\n    @Column(nullable = true, length = 80)\r\n    private String description;\r\n    @Column(nullable = true, length = 80)\r\n    private Float price;\r\n\r\n    @Column(nullable = true, length = 80)\r\n    private Float extraPrice;\r\n\r\n    @Column(nullable = false, length = 80)\r\n    private Integer stock;\r\n    @JsonIgnore\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;category_id&quot;)\r\n    private CategoryModel productCategory;\r\n\r\n    public UUID getProduct_id() {\r\n        return product_id;\r\n    }\r\n\r\n    public void setProduct_id(UUID product_id) {\r\n        this.product_id = product_id;\r\n    }\r\n\r\n    public String getProduct() {\r\n        return product;\r\n    }\r\n\r\n    public void setProduct(String product) {\r\n        this.product = product;\r\n    }\r\n\r\n    public String getImage_url() {\r\n        return image_url;\r\n    }\r\n\r\n    public void setImage_url(String image_url) {\r\n        this.image_url = image_url;\r\n    }\r\n\r\n    public String getBrand() {\r\n        return brand;\r\n    }\r\n\r\n    public void setBrand(String brand) {\r\n        this.brand = brand;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public Float getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(Float price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public Integer getStock() {\r\n        return stock;\r\n    }\r\n\r\n    public void setStock(Integer stock) {\r\n        this.stock = stock;\r\n    }\r\n\r\n    public CategoryModel getProductCategory() {\r\n        return productCategory;\r\n    }\r\n\r\n    public void setProductCategory(CategoryModel productCategory) {\r\n        this.productCategory = productCategory;\r\n    }\r\n\r\n    public Float getExtraPrice() {\r\n        return extraPrice;\r\n    }\r\n\r\n    public void setExtraPrice(Float extraPrice) {\r\n        this.extraPrice = extraPrice;\r\n    }\r\n}\r\n\r\n```\r\n\r\nTesting my crud, all methods are working correctly except put, which returns the error:\r\n\r\n```\r\norg.postgresql.util.PSQLException: ERROR: null value in column &quot;product&quot; of relation &quot;products&quot; violates not-null constraint\r\n  Detail: Failing row contains (47b0a1ff-71e7-4b08-a243-9cf01ff55af7, null, null, null, null, null, null, null, null, 96c0ceee-7637-4eba-aec0-f8c77ab5c9a3).\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3617) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3486) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3921) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:164) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:729) ~[na:na]\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1425) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:477) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2234) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1930) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-6.0.4.jar:6.0.4]\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-6.0.4.jar:6.0.4]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-6.0.4.jar:6.0.4]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-6.0.4.jar:6.0.4]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.4.jar:6.0.4]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.4.jar:6.0.4]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.4.jar:6.0.4]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy127.save(Unknown Source) ~[na:na]\r\n\tat com.api.business_manager_api.Services.OrderService.save(OrderService.java:22) ~[classes/:na]\r\n\tat com.api.business_manager_api.Controllers.OrderController.updateOrder(OrderController.java:80) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:734) ~[tomcat-embed-core-10.1.5.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.4.jar:6.0.4]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.5.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:170) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat com.api.business_manager_api.Security.FilterToken.doFilterInternal(FilterToken.java:37) ~[classes/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\r\n\r\n```\r\n\r\nBasically my product sent in put is being recognized as null, even though I&#39;m making a request like this:\r\n\r\n\r\n ```\r\n{\r\n    &quot;customer&quot;: {\r\n    &quot;customer_id&quot;: &quot;c33d4cf7-a931-4818-8d86-94b6c56b9426&quot;\r\n    },\r\n    &quot;products&quot;: [{\r\n        &quot;product_id&quot;: &quot;47b0a1ff-71e7-4b08-a243-9cf01ff55af7&quot;\r\n\r\n    }],\r\n    &quot;totalAmount&quot;: 5100\r\n}\r\n```\r\n\r\nI&#39;ve also tried sending the order_id over the product_id, but without success. I would like to know how can I resolve this\r\n\r\nupdate:\r\n\r\norderController:\r\n\r\n```\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Object&gt; updateOrder (@PathVariable(value = &quot;id&quot;) UUID id,\r\n                                                  @RequestBody @Valid OrderDto orderDto) {\r\n        Optional&lt;OrderModel&gt; orderModelOptional  = orderService.findById(id);\r\n        if (!orderModelOptional.isPresent()) {\r\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Order not found!&quot;);\r\n        }\r\n        OrderModel orderModel = orderModelOptional.get();\r\n        orderModel.setProducts(orderDto.getProducts());\r\n        orderModel.setCustomer(orderDto.getCustomer());\r\n        orderModel.setTotalAmount(orderDto.getTotalAmount());\r\n\r\n        return ResponseEntity.status(HttpStatus.OK).body(orderService.save(orderModel));\r\n    }\r\n\r\n```","title":"Problem with object put in crud (spring boot) (postgresql)","body":"<p>I have a spring boot api in which I have an order crud, which references a products model, as you can see</p>\n<p>orderModel</p>\n<pre><code>package com.api.business_manager_api.Models;\n\nimport jakarta.persistence.*;\n\nimport java.util.List;\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;ORDERS&quot;)\npublic class OrderModel {\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID order_id;\n    @ManyToOne\n    @JoinColumn(name = &quot;customer_id&quot;)\n    private CustomerModel customer;\n    @OneToMany(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;order_id&quot;)\n    private List&lt;ProductModel&gt; products;\n    @Column(nullable = false, length = 80)\n    private Float totalAmount;\n\n    public UUID getOrder_id() {\n        return order_id;\n    }\n\n    public void setOrder_id(UUID order_id) {\n        this.order_id = order_id;\n    }\n\n    public CustomerModel getCustomer() {\n        return customer;\n    }\n\n    public void setCustomer(CustomerModel customer) {\n        this.customer = customer;\n    }\n\n    public List&lt;ProductModel&gt; getProducts() {\n        return products;\n    }\n\n    public void setProducts(List&lt;ProductModel&gt; products) {\n        this.products = products;\n    }\n\n    public Float getTotalAmount() {\n        return totalAmount;\n    }\n\n    public void setTotalAmount(Float totalAmount) {\n        this.totalAmount = totalAmount;\n    }\n}\n\n</code></pre>\n<p>productModel</p>\n<pre><code>package com.api.business_manager_api.Models;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport jakarta.persistence.*;\n\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;PRODUCTS&quot;)\npublic class ProductModel {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID product_id;\n\n    @Column(nullable = false, length = 80)\n    private String product;\n    @Column(nullable = true, length = 200)\n    private String image_url;\n    @Column(nullable = true, length = 80)\n    private String brand;\n    @Column(nullable = true, length = 80)\n    private String description;\n    @Column(nullable = true, length = 80)\n    private Float price;\n\n    @Column(nullable = true, length = 80)\n    private Float extraPrice;\n\n    @Column(nullable = false, length = 80)\n    private Integer stock;\n    @JsonIgnore\n    @ManyToOne\n    @JoinColumn(name = &quot;category_id&quot;)\n    private CategoryModel productCategory;\n\n    public UUID getProduct_id() {\n        return product_id;\n    }\n\n    public void setProduct_id(UUID product_id) {\n        this.product_id = product_id;\n    }\n\n    public String getProduct() {\n        return product;\n    }\n\n    public void setProduct(String product) {\n        this.product = product;\n    }\n\n    public String getImage_url() {\n        return image_url;\n    }\n\n    public void setImage_url(String image_url) {\n        this.image_url = image_url;\n    }\n\n    public String getBrand() {\n        return brand;\n    }\n\n    public void setBrand(String brand) {\n        this.brand = brand;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public Float getPrice() {\n        return price;\n    }\n\n    public void setPrice(Float price) {\n        this.price = price;\n    }\n\n    public Integer getStock() {\n        return stock;\n    }\n\n    public void setStock(Integer stock) {\n        this.stock = stock;\n    }\n\n    public CategoryModel getProductCategory() {\n        return productCategory;\n    }\n\n    public void setProductCategory(CategoryModel productCategory) {\n        this.productCategory = productCategory;\n    }\n\n    public Float getExtraPrice() {\n        return extraPrice;\n    }\n\n    public void setExtraPrice(Float extraPrice) {\n        this.extraPrice = extraPrice;\n    }\n}\n\n</code></pre>\n<p>Testing my crud, all methods are working correctly except put, which returns the error:</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: null value in column &quot;product&quot; of relation &quot;products&quot; violates not-null constraint\n  Detail: Failing row contains (47b0a1ff-71e7-4b08-a243-9cf01ff55af7, null, null, null, null, null, null, null, null, 96c0ceee-7637-4eba-aec0-f8c77ab5c9a3).\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152) ~[postgresql-42.5.1.jar:42.5.1]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:39) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3617) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3486) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3921) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:164) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:612) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:483) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:729) ~[na:na]\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:480) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:329) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1425) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:477) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2234) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1930) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743) ~[spring-tx-6.0.4.jar:6.0.4]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-6.0.4.jar:6.0.4]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654) ~[spring-tx-6.0.4.jar:6.0.4]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407) ~[spring-tx-6.0.4.jar:6.0.4]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.4.jar:6.0.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.4.jar:6.0.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.4.jar:6.0.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.4.jar:6.0.4]\n    at jdk.proxy2/jdk.proxy2.$Proxy127.save(Unknown Source) ~[na:na]\n    at com.api.business_manager_api.Services.OrderService.save(OrderService.java:22) ~[classes/:na]\n    at com.api.business_manager_api.Controllers.OrderController.updateOrder(OrderController.java:80) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:734) ~[tomcat-embed-core-10.1.5.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.4.jar:6.0.4]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.5.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:170) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at com.api.business_manager_api.Security.FilterToken.doFilterInternal(FilterToken.java:37) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\n\n</code></pre>\n<p>Basically my product sent in put is being recognized as null, even though I'm making a request like this:</p>\n<pre><code>{\n   &quot;customer&quot;: {\n   &quot;customer_id&quot;: &quot;c33d4cf7-a931-4818-8d86-94b6c56b9426&quot;\n   },\n   &quot;products&quot;: [{\n       &quot;product_id&quot;: &quot;47b0a1ff-71e7-4b08-a243-9cf01ff55af7&quot;\n\n   }],\n   &quot;totalAmount&quot;: 5100\n}\n</code></pre>\n<p>I've also tried sending the order_id over the product_id, but without success. I would like to know how can I resolve this</p>\n<p>update:</p>\n<p>orderController:</p>\n<pre><code>    @PutMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Object&gt; updateOrder (@PathVariable(value = &quot;id&quot;) UUID id,\n                                                  @RequestBody @Valid OrderDto orderDto) {\n        Optional&lt;OrderModel&gt; orderModelOptional  = orderService.findById(id);\n        if (!orderModelOptional.isPresent()) {\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Order not found!&quot;);\n        }\n        OrderModel orderModel = orderModelOptional.get();\n        orderModel.setProducts(orderDto.getProducts());\n        orderModel.setCustomer(orderDto.getCustomer());\n        orderModel.setTotalAmount(orderDto.getTotalAmount());\n\n        return ResponseEntity.status(HttpStatus.OK).body(orderService.save(orderModel));\n    }\n\n</code></pre>\n"},{"tags":["java","xml","xsd","jax-ws","jax-rpc"],"owner":{"account_id":7578040,"reputation":25,"user_id":5749695,"accept_rate":100,"display_name":"vinr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680104477,"creation_date":1680100180,"question_id":75878599,"body_markdown":"As a part of an platform upgrade, we are moving from JAX-RPC to JAX-WS.\r\nThe EJB service beans have been modified to have the JAX-WS annotations.\r\n\r\n```\r\n         @WebService(name = &quot;AdService&quot;,\r\n        serviceName=&quot;AdService&quot;,\r\n        portName=&quot;AdServicePort&quot;,\r\n        targetNamespace=&quot;http://hABC.com&quot;)\r\n```\r\nAt the method level:\r\n\r\n```\r\n @WebMethod()\r\n    @WebResult(name=&quot;returnAsPCResult&quot;)\r\n    public PResult getPForInvoice(@XmlElement( required = true ) @WebParam(name=&quot;invoiceBean&quot;, targetNamespace=&quot;http://hABC.com&quot;) com.hhABC.SInvoice invoiceBean, @XmlElement( required = true ) @WebParam(name=&quot;productName&quot;, targetNamespace=&quot;http://hABC.com&quot;) java.lang.String productName, @XmlElement( required = true ) @WebParam(name=&quot;bNName&quot;, targetNamespace=&quot;http://hABC.com&quot;) java.lang.String bNName) {\r\n        if (Trace.webService) {\r\n\r\n```\r\n\r\nAll the arguments in the service method have object classes which are annotated with \r\n\r\n```\r\n@XmlRootElement(namespace=&quot;java:com.hhABC.generated&quot;, name=&quot;SInvoice&quot;  )\r\n\r\n```\r\n\r\nNow when the xsd is generated using the jwsc, the xsd has both the namespace as expected:\r\n\r\n1. targetnamespace :http://hABC.com\r\n2. xml name space : java:com.hhABC.generated\r\n\r\nBut in the xsd, all the elements are all assigned with the targetnamespace.\r\nThe expectation here is that all the complex type elements mentioned in the xsd have to point to the xml name space : java:com.hhABC.generated\r\n\r\nI have added the package-info in the appropriate package of complex elements.\r\n\r\nXSD 1 :\r\n\r\n```\r\n&lt;xs:schema xmlns:ns1=&quot;http://hABC.com&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;1.0&quot; targetNamespace=&quot;java:com.hhABC.generated&quot;&gt;\r\n&lt;xs:import namespace=&quot;http://hABC.com&quot; schemaLocation=&quot;http://10.**.**.9*:7001/web-services/AService?xsd=2&quot;/&gt;\r\n&lt;xs:element name=&quot;AbstractAttachment&quot; type=&quot;ns1:abstractAttachment&quot;/&gt;\r\n&lt;xs:element name=&quot;AbstractAttachment&quot; type=&quot;ns1:abstractAttachment&quot;/&gt;\r\n&lt;xs:ele\r\n```\r\nXSD2:\r\n\r\n```\r\n&lt;xs:schema xmlns:tns=&quot;http://hABC.com&quot; xmlns:ns1=&quot;java:com.hhABC.generated&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;1.0&quot; targetNamespace=&quot;http://hABC.com&quot;&gt;\r\n....\r\n\r\n&lt;xs:extension base=&quot;tns:sInvoice&quot;&gt;\r\n....\r\n\r\n&lt;xs:element name=&quot;mInformation&quot; type=&quot;tns:hMember&quot; nillable=&quot;true&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n&lt;xs:element name=&quot;otherDates&quot; type=&quot;tns:otherDate&quot; nillable=&quot;true&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n\r\n```\r\nWhat is expected is :\r\n\r\n```\r\n&lt;xs:extension xmlns:java=&quot;java:com.hhABC.generated&quot; base=&quot;java:SInvoice&quot;&gt;\r\n&lt;xs:sequence&gt;\r\n.....\r\n&lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;mInformation&quot; nillable=&quot;true&quot; type=&quot;java:HMember&quot;/&gt;\r\n\r\n```\r\nNeed help on resolving the name space. ","title":"Namespace mismatch on the xsd generated using Java beans","body":"<p>As a part of an platform upgrade, we are moving from JAX-RPC to JAX-WS.\nThe EJB service beans have been modified to have the JAX-WS annotations.</p>\n<pre><code>         @WebService(name = &quot;AdService&quot;,\n        serviceName=&quot;AdService&quot;,\n        portName=&quot;AdServicePort&quot;,\n        targetNamespace=&quot;http://hABC.com&quot;)\n</code></pre>\n<p>At the method level:</p>\n<pre><code> @WebMethod()\n    @WebResult(name=&quot;returnAsPCResult&quot;)\n    public PResult getPForInvoice(@XmlElement( required = true ) @WebParam(name=&quot;invoiceBean&quot;, targetNamespace=&quot;http://hABC.com&quot;) com.hhABC.SInvoice invoiceBean, @XmlElement( required = true ) @WebParam(name=&quot;productName&quot;, targetNamespace=&quot;http://hABC.com&quot;) java.lang.String productName, @XmlElement( required = true ) @WebParam(name=&quot;bNName&quot;, targetNamespace=&quot;http://hABC.com&quot;) java.lang.String bNName) {\n        if (Trace.webService) {\n\n</code></pre>\n<p>All the arguments in the service method have object classes which are annotated with</p>\n<pre><code>@XmlRootElement(namespace=&quot;java:com.hhABC.generated&quot;, name=&quot;SInvoice&quot;  )\n\n</code></pre>\n<p>Now when the xsd is generated using the jwsc, the xsd has both the namespace as expected:</p>\n<ol>\n<li>targetnamespace :<a href=\"http://hABC.com\" rel=\"nofollow noreferrer\">http://hABC.com</a></li>\n<li>xml name space : java:com.hhABC.generated</li>\n</ol>\n<p>But in the xsd, all the elements are all assigned with the targetnamespace.\nThe expectation here is that all the complex type elements mentioned in the xsd have to point to the xml name space : java:com.hhABC.generated</p>\n<p>I have added the package-info in the appropriate package of complex elements.</p>\n<p>XSD 1 :</p>\n<pre><code>&lt;xs:schema xmlns:ns1=&quot;http://hABC.com&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;1.0&quot; targetNamespace=&quot;java:com.hhABC.generated&quot;&gt;\n&lt;xs:import namespace=&quot;http://hABC.com&quot; schemaLocation=&quot;http://10.**.**.9*:7001/web-services/AService?xsd=2&quot;/&gt;\n&lt;xs:element name=&quot;AbstractAttachment&quot; type=&quot;ns1:abstractAttachment&quot;/&gt;\n&lt;xs:element name=&quot;AbstractAttachment&quot; type=&quot;ns1:abstractAttachment&quot;/&gt;\n&lt;xs:ele\n</code></pre>\n<p>XSD2:</p>\n<pre><code>&lt;xs:schema xmlns:tns=&quot;http://hABC.com&quot; xmlns:ns1=&quot;java:com.hhABC.generated&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;1.0&quot; targetNamespace=&quot;http://hABC.com&quot;&gt;\n....\n\n&lt;xs:extension base=&quot;tns:sInvoice&quot;&gt;\n....\n\n&lt;xs:element name=&quot;mInformation&quot; type=&quot;tns:hMember&quot; nillable=&quot;true&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\n&lt;xs:element name=&quot;otherDates&quot; type=&quot;tns:otherDate&quot; nillable=&quot;true&quot; minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;/&gt;\n\n</code></pre>\n<p>What is expected is :</p>\n<pre><code>&lt;xs:extension xmlns:java=&quot;java:com.hhABC.generated&quot; base=&quot;java:SInvoice&quot;&gt;\n&lt;xs:sequence&gt;\n.....\n&lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;mInformation&quot; nillable=&quot;true&quot; type=&quot;java:HMember&quot;/&gt;\n\n</code></pre>\n<p>Need help on resolving the name space.</p>\n"},{"tags":["java","spring","soap-client","java-17"],"answers":[{"tags":[],"owner":{"account_id":3672488,"reputation":31,"user_id":3059331,"display_name":"LearnAndHelpLearn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680104365,"creation_date":1680104365,"answer_id":75879370,"question_id":75870333,"body_markdown":"I was able to identify the cause of the soap client failure. Apache CXF needs the jaxws-rt or the jax-ws-ri dependency explicitly in order to make a soap call after JDK 11. Pre JDK 11, Apache CXF provided the jaxws classes (HttpClientTransport) as part of CXF dependencies. \r\n\r\nThe solution for the problem is to include jaxws-rt and jaxws-ri dependencies for runtime and that resolved my issue.  ","title":"Apache CXF impact when jvm upgrade from jdk 8 to jdk 17","body":"<p>I was able to identify the cause of the soap client failure. Apache CXF needs the jaxws-rt or the jax-ws-ri dependency explicitly in order to make a soap call after JDK 11. Pre JDK 11, Apache CXF provided the jaxws classes (HttpClientTransport) as part of CXF dependencies.</p>\n<p>The solution for the problem is to include jaxws-rt and jaxws-ri dependencies for runtime and that resolved my issue.</p>\n"}],"owner":{"account_id":3672488,"reputation":31,"user_id":3059331,"display_name":"LearnAndHelpLearn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2960,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680104365,"creation_date":1680031677,"question_id":75870333,"body_markdown":"I am migrating my micro services from jdk8 to jdk 17. As part of the migration, spring cloud and spring boot dependencies have been updated from 2.0 to 3.1.\r\n\r\nI have a soap client to access from the rest API and the soap client is built using Apache CXF with crypto.\r\nI am facing issues making the soap client call as the client is not invoking the service using the generated code from CXF.\r\n\r\nDoes CXF need any changes when the jvm is migrated from 8 to 17 ?\r\n\r\n```\r\n&lt;build&gt;\r\n&lt;plugins&gt;\r\n&lt;plugin&gt;\r\n&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n&lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n&lt;executions&gt;\r\n&lt;execution&gt;\r\n&lt;id&gt;generate-sources&lt;/id&gt;\r\n&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n&lt;configuration&gt;\r\n&lt;sourceRoot&gt;target/generated/cxf&lt;/sourceRoot&gt;\r\n&lt;wsdlOptions&gt;\r\n&lt;wsdlOption&gt;\t\t\t\t\t\t\t\t\t&lt;wsdl&gt;/src/main/resources/wsdl/Test.wsdl&lt;/wsdl&gt;\t\t\t\t\t\t\t\t\t&lt;wsdlLocation&gt;classpath:wsdl/Test.wsdl&lt;/wsdlLocation&gt;\r\n&lt;/wsdlOption&gt;\r\n&lt;/wsdlOptions&gt;\r\n&lt;/configuration&gt;\r\n&lt;goals&gt;\r\n&lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n&lt;/goals&gt;\r\n&lt;/execution&gt;\r\n&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n&lt;/plugins&gt;\r\n&lt;/build&gt;`\r\n```","title":"Apache CXF impact when jvm upgrade from jdk 8 to jdk 17","body":"<p>I am migrating my micro services from jdk8 to jdk 17. As part of the migration, spring cloud and spring boot dependencies have been updated from 2.0 to 3.1.</p>\n<p>I have a soap client to access from the rest API and the soap client is built using Apache CXF with crypto.\nI am facing issues making the soap client call as the client is not invoking the service using the generated code from CXF.</p>\n<p>Does CXF need any changes when the jvm is migrated from 8 to 17 ?</p>\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n&lt;plugin&gt;\n&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n&lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n&lt;executions&gt;\n&lt;execution&gt;\n&lt;id&gt;generate-sources&lt;/id&gt;\n&lt;phase&gt;generate-sources&lt;/phase&gt;\n&lt;configuration&gt;\n&lt;sourceRoot&gt;target/generated/cxf&lt;/sourceRoot&gt;\n&lt;wsdlOptions&gt;\n&lt;wsdlOption&gt;                                    &lt;wsdl&gt;/src/main/resources/wsdl/Test.wsdl&lt;/wsdl&gt;                                 &lt;wsdlLocation&gt;classpath:wsdl/Test.wsdl&lt;/wsdlLocation&gt;\n&lt;/wsdlOption&gt;\n&lt;/wsdlOptions&gt;\n&lt;/configuration&gt;\n&lt;goals&gt;\n&lt;goal&gt;wsdl2java&lt;/goal&gt;\n&lt;/goals&gt;\n&lt;/execution&gt;\n&lt;/executions&gt;\n&lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/build&gt;`\n</code></pre>\n"},{"tags":["java","slack"],"answers":[{"tags":[],"owner":{"account_id":5071681,"reputation":51,"user_id":4070279,"display_name":"Mizukamakiri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680104045,"creation_date":1680104045,"answer_id":75879316,"question_id":75879199,"body_markdown":"Have you tried sending a request to the response_url by using the WebClient class to send a POST request with the desired payload?\r\n\r\nsomething like: \r\n\r\n    public class RespondToSlashCommand {\r\n\r\n    public static void main(String[] args) {\r\n        String responseUrl = &quot;https://hooks.slack.com/commands/YourResponseUrlHere&quot;;\r\n        String message = &quot;This is a response to a slash command.&quot;;\r\n\r\n        // Initialize the Slack API client\r\n        Slack slack = Slack.getInstance();\r\n        SlackHttpClient slackHttpClient = slack.getHttpClient();\r\n\r\n        // Prepare the JSON payload\r\n        String jsonPayload = String.format(&quot;{\\&quot;text\\&quot;: \\&quot;%s\\&quot;}&quot;, message);\r\n        RequestBody requestBody = RequestBody.create(jsonPayload, MediaType.parse(&quot;application/json&quot;));\r\n\r\n        try {\r\n            // Send a POST request to the response_url\r\n            Response response = slackHttpClient.postJsonBody(responseUrl, requestBody);\r\n\r\n            if (response.isSuccessful()) {\r\n                System.out.println(&quot;Response sent successfully!&quot;);\r\n            } else {\r\n                System.out.println(&quot;Failed to send response: &quot; + response.message());\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n","title":"Is there a way to send a response to a Slack user via the Slack API Java SDK?","body":"<p>Have you tried sending a request to the response_url by using the WebClient class to send a POST request with the desired payload?</p>\n<p>something like:</p>\n<pre><code>public class RespondToSlashCommand {\n\npublic static void main(String[] args) {\n    String responseUrl = &quot;https://hooks.slack.com/commands/YourResponseUrlHere&quot;;\n    String message = &quot;This is a response to a slash command.&quot;;\n\n    // Initialize the Slack API client\n    Slack slack = Slack.getInstance();\n    SlackHttpClient slackHttpClient = slack.getHttpClient();\n\n    // Prepare the JSON payload\n    String jsonPayload = String.format(&quot;{\\&quot;text\\&quot;: \\&quot;%s\\&quot;}&quot;, message);\n    RequestBody requestBody = RequestBody.create(jsonPayload, MediaType.parse(&quot;application/json&quot;));\n\n    try {\n        // Send a POST request to the response_url\n        Response response = slackHttpClient.postJsonBody(responseUrl, requestBody);\n\n        if (response.isSuccessful()) {\n            System.out.println(&quot;Response sent successfully!&quot;);\n        } else {\n            System.out.println(&quot;Failed to send response: &quot; + response.message());\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":14894,"reputation":8953,"user_id":30967,"accept_rate":67,"display_name":"Thomas Einwaller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75879316,"answer_count":1,"score":1,"last_activity_date":1680104045,"creation_date":1680103264,"question_id":75879199,"body_markdown":"I am writing a Slack Bot in Java and I want to send messages to the user in response to slash commands.\r\n\r\nThis can be done by sending HTTP requests to the `response_url` parameter coming with the slash command request using a http client library.\r\n\r\nI was not able to send a message to the `response_url` using the Java SDK for Slack because none of the methods of the `methods` client Slack allow me to set the `response_url` (`chatPostEphemeral`, `chatPostMessage`, ...)\r\n\r\nIs there a way to use the Java SDK for Slack to respond to slash commands? ","title":"Is there a way to send a response to a Slack user via the Slack API Java SDK?","body":"<p>I am writing a Slack Bot in Java and I want to send messages to the user in response to slash commands.</p>\n<p>This can be done by sending HTTP requests to the <code>response_url</code> parameter coming with the slash command request using a http client library.</p>\n<p>I was not able to send a message to the <code>response_url</code> using the Java SDK for Slack because none of the methods of the <code>methods</code> client Slack allow me to set the <code>response_url</code> (<code>chatPostEphemeral</code>, <code>chatPostMessage</code>, ...)</p>\n<p>Is there a way to use the Java SDK for Slack to respond to slash commands?</p>\n"},{"tags":["java","mongodb"],"owner":{"account_id":27215929,"reputation":21,"user_id":20745964,"display_name":"Tiago Godoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680103467,"creation_date":1680103467,"question_id":75879226,"body_markdown":"I&#39;m working on a project with Java and MongoDb. I am using OpenJDK v. 11.0.18 and MongoDB Java driver 4.8.0. The following is the maven dependency from the MongoDB driver.\r\n\r\n```\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.8.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;bson&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.8.0&lt;/version&gt;\r\n\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n```\r\n\r\nI modeled the data to use DBRef according to the following code\r\n\r\n```\r\npublic class Recipe implements Comparable&lt;Recipe&gt; {\r\n\r\n    private String id;\r\n    private DBRef author;\r\n    // rest of the code omitted \r\n\r\n}\r\n```\r\n\r\nSo, at the moment that the POJO Recipe is deserialized, the MongoDB throw an `UnsupportedOperationException` according to the following stack trace\r\n\r\n```\r\njava.lang.UnsupportedOperationException: DBRefCodec does not support decoding\r\n\tat com.mongodb.DBRefCodec.decode(DBRefCodec.java:66)\r\n\tat com.mongodb.DBRefCodec.decode(DBRefCodec.java:33)\r\n\tat org.bson.codecs.pojo.LazyPropertyModelCodec.decode(LazyPropertyModelCodec.java:51)\r\n\tat org.bson.codecs.DecoderContext.decodeWithChildContext(DecoderContext.java:96)\r\n\tat org.bson.codecs.pojo.PojoCodecImpl.lambda$decodePropertyModel$2(PojoCodecImpl.java:224)\r\n\tat org.bson.codecs.pojo.PojoCodecImpl.setPropertyValue(PojoCodecImpl.java:246)\r\n\tat org.bson.codecs.pojo.PojoCodecImpl.decodePropertyModel(PojoCodecImpl.java:214)\r\n\tat org.bson.codecs.pojo.PojoCodecImpl.decodeProperties(PojoCodecImpl.java:203)\r\n\tat org.bson.codecs.pojo.PojoCodecImpl.decode(PojoCodecImpl.java:112)\r\n\tat org.bson.codecs.pojo.PojoCodecImpl.decode(PojoCodecImpl.java:116)\r\n\tat org.bson.codecs.pojo.AutomaticPojoCodec.decode(AutomaticPojoCodec.java:37)\r\n\tat com.mongodb.internal.operation.CommandResultArrayCodec.decode(CommandResultArrayCodec.java:52)\r\n\tat com.mongodb.internal.operation.CommandResultDocumentCodec.readValue(CommandResultDocumentCodec.java:60)\r\n\tat org.bson.codecs.BsonDocumentCodec.decode(BsonDocumentCodec.java:87)\r\n\tat org.bson.codecs.BsonDocumentCodec.decode(BsonDocumentCodec.java:42)\r\n\tat org.bson.internal.LazyCodec.decode(LazyCodec.java:53)\r\n\tat org.bson.codecs.BsonDocumentCodec.readValue(BsonDocumentCodec.java:104)\r\n\tat com.mongodb.internal.operation.CommandResultDocumentCodec.readValue(CommandResultDocumentCodec.java:63)\r\n\tat org.bson.codecs.BsonDocumentCodec.decode(BsonDocumentCodec.java:87)\r\n\tat org.bson.codecs.BsonDocumentCodec.decode(BsonDocumentCodec.java:42)\r\n\tat com.mongodb.internal.connection.ReplyMessage.&lt;init&gt;(ReplyMessage.java:50)\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.getCommandResult(InternalStreamConnection.java:538)\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:423)\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:340)\r\n\tat com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:116)\r\n\tat com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:643)\r\n\tat com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:71)\r\n\tat com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:206)\r\n\tat com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:119)\r\n\tat com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:85)\r\n\tat com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:75)\r\n\tat com.mongodb.internal.connection.DefaultServer$OperationCountTrackingConnection.command(DefaultServer.java:293)\r\n\tat com.mongodb.internal.operation.CommandOperationHelper.createReadCommandAndExecute(CommandOperationHelper.java:233)\r\n\tat com.mongodb.internal.operation.FindOperation.lambda$execute$1(FindOperation.java:332)\r\n\tat com.mongodb.internal.operation.OperationHelper.lambda$withSourceAndConnection$0(OperationHelper.java:356)\r\n\tat com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:381)\r\n\tat com.mongodb.internal.operation.OperationHelper.lambda$withSourceAndConnection$1(OperationHelper.java:355)\r\n\tat com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:381)\r\n\tat com.mongodb.internal.operation.OperationHelper.withSourceAndConnection(OperationHelper.java:354)\r\n\tat com.mongodb.internal.operation.FindOperation.lambda$execute$2(FindOperation.java:329)\r\n\tat com.mongodb.internal.async.function.RetryingSyncSupplier.get(RetryingSyncSupplier.java:67)\r\n\tat com.mongodb.internal.operation.FindOperation.execute(FindOperation.java:340)\r\n\tat com.mongodb.internal.operation.FindOperation.execute(FindOperation.java:79)\r\n\tat com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:191)\r\n\tat com.mongodb.client.internal.MongoIterableImpl.execute(MongoIterableImpl.java:133)\r\n\tat com.mongodb.client.internal.MongoIterableImpl.iterator(MongoIterableImpl.java:90)\r\n\tat com.recipe.book.api.repositories.RecipeRepositoryImpl.findAll(RecipeRepositoryImpl.java:37)\r\n```\r\n\r\nI see that the com.mongodb.DBRefCodec throws it when the decode() method is called. Said that I ask how to make the driver deserialize/serialize the DBRef from/to POJO?\r\n\r\nI used the BasicDBObject to save the object that has the DBRef according to the following code and it worked. But, I need to use the POJO because of other operations.\r\n\r\n```\r\npublic void post(Context ctx) {\r\n        //Recipe recipe = ctx.bodyAsClass(Recipe.class);\r\n        String jsonRequest = ctx.body();\r\n\r\n        String username = ctx.basicAuthCredentials().getUsername();\r\n        User author = userService.findUserByName(username);\r\n\r\n        BasicDBObject recipe = BasicDBObject.parse(jsonRequest);\r\n\r\n        recipe.append(&quot;author&quot;, new DBRef(&quot;user&quot;, author.getId()));\r\n\r\n        Recipe createdRecipe = recipeService.saveOne(recipe);\r\n\r\n        ctx.json(createdRecipe).status(HttpStatus.CREATED);\r\n}\r\n```","title":"DBRefCodec does not support decoding","body":"<p>I'm working on a project with Java and MongoDb. I am using OpenJDK v. 11.0.18 and MongoDB Java driver 4.8.0. The following is the maven dependency from the MongoDB driver.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n        &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n        &lt;version&gt;4.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n        &lt;artifactId&gt;bson&lt;/artifactId&gt;\n        &lt;version&gt;4.8.0&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I modeled the data to use DBRef according to the following code</p>\n<pre><code>public class Recipe implements Comparable&lt;Recipe&gt; {\n\n    private String id;\n    private DBRef author;\n    // rest of the code omitted \n\n}\n</code></pre>\n<p>So, at the moment that the POJO Recipe is deserialized, the MongoDB throw an <code>UnsupportedOperationException</code> according to the following stack trace</p>\n<pre><code>java.lang.UnsupportedOperationException: DBRefCodec does not support decoding\n    at com.mongodb.DBRefCodec.decode(DBRefCodec.java:66)\n    at com.mongodb.DBRefCodec.decode(DBRefCodec.java:33)\n    at org.bson.codecs.pojo.LazyPropertyModelCodec.decode(LazyPropertyModelCodec.java:51)\n    at org.bson.codecs.DecoderContext.decodeWithChildContext(DecoderContext.java:96)\n    at org.bson.codecs.pojo.PojoCodecImpl.lambda$decodePropertyModel$2(PojoCodecImpl.java:224)\n    at org.bson.codecs.pojo.PojoCodecImpl.setPropertyValue(PojoCodecImpl.java:246)\n    at org.bson.codecs.pojo.PojoCodecImpl.decodePropertyModel(PojoCodecImpl.java:214)\n    at org.bson.codecs.pojo.PojoCodecImpl.decodeProperties(PojoCodecImpl.java:203)\n    at org.bson.codecs.pojo.PojoCodecImpl.decode(PojoCodecImpl.java:112)\n    at org.bson.codecs.pojo.PojoCodecImpl.decode(PojoCodecImpl.java:116)\n    at org.bson.codecs.pojo.AutomaticPojoCodec.decode(AutomaticPojoCodec.java:37)\n    at com.mongodb.internal.operation.CommandResultArrayCodec.decode(CommandResultArrayCodec.java:52)\n    at com.mongodb.internal.operation.CommandResultDocumentCodec.readValue(CommandResultDocumentCodec.java:60)\n    at org.bson.codecs.BsonDocumentCodec.decode(BsonDocumentCodec.java:87)\n    at org.bson.codecs.BsonDocumentCodec.decode(BsonDocumentCodec.java:42)\n    at org.bson.internal.LazyCodec.decode(LazyCodec.java:53)\n    at org.bson.codecs.BsonDocumentCodec.readValue(BsonDocumentCodec.java:104)\n    at com.mongodb.internal.operation.CommandResultDocumentCodec.readValue(CommandResultDocumentCodec.java:63)\n    at org.bson.codecs.BsonDocumentCodec.decode(BsonDocumentCodec.java:87)\n    at org.bson.codecs.BsonDocumentCodec.decode(BsonDocumentCodec.java:42)\n    at com.mongodb.internal.connection.ReplyMessage.&lt;init&gt;(ReplyMessage.java:50)\n    at com.mongodb.internal.connection.InternalStreamConnection.getCommandResult(InternalStreamConnection.java:538)\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:423)\n    at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:340)\n    at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:116)\n    at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:643)\n    at com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:71)\n    at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:206)\n    at com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:119)\n    at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:85)\n    at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:75)\n    at com.mongodb.internal.connection.DefaultServer$OperationCountTrackingConnection.command(DefaultServer.java:293)\n    at com.mongodb.internal.operation.CommandOperationHelper.createReadCommandAndExecute(CommandOperationHelper.java:233)\n    at com.mongodb.internal.operation.FindOperation.lambda$execute$1(FindOperation.java:332)\n    at com.mongodb.internal.operation.OperationHelper.lambda$withSourceAndConnection$0(OperationHelper.java:356)\n    at com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:381)\n    at com.mongodb.internal.operation.OperationHelper.lambda$withSourceAndConnection$1(OperationHelper.java:355)\n    at com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:381)\n    at com.mongodb.internal.operation.OperationHelper.withSourceAndConnection(OperationHelper.java:354)\n    at com.mongodb.internal.operation.FindOperation.lambda$execute$2(FindOperation.java:329)\n    at com.mongodb.internal.async.function.RetryingSyncSupplier.get(RetryingSyncSupplier.java:67)\n    at com.mongodb.internal.operation.FindOperation.execute(FindOperation.java:340)\n    at com.mongodb.internal.operation.FindOperation.execute(FindOperation.java:79)\n    at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:191)\n    at com.mongodb.client.internal.MongoIterableImpl.execute(MongoIterableImpl.java:133)\n    at com.mongodb.client.internal.MongoIterableImpl.iterator(MongoIterableImpl.java:90)\n    at com.recipe.book.api.repositories.RecipeRepositoryImpl.findAll(RecipeRepositoryImpl.java:37)\n</code></pre>\n<p>I see that the com.mongodb.DBRefCodec throws it when the decode() method is called. Said that I ask how to make the driver deserialize/serialize the DBRef from/to POJO?</p>\n<p>I used the BasicDBObject to save the object that has the DBRef according to the following code and it worked. But, I need to use the POJO because of other operations.</p>\n<pre><code>public void post(Context ctx) {\n        //Recipe recipe = ctx.bodyAsClass(Recipe.class);\n        String jsonRequest = ctx.body();\n\n        String username = ctx.basicAuthCredentials().getUsername();\n        User author = userService.findUserByName(username);\n\n        BasicDBObject recipe = BasicDBObject.parse(jsonRequest);\n\n        recipe.append(&quot;author&quot;, new DBRef(&quot;user&quot;, author.getId()));\n\n        Recipe createdRecipe = recipeService.saveOne(recipe);\n\n        ctx.json(createdRecipe).status(HttpStatus.CREATED);\n}\n</code></pre>\n"},{"tags":["java","linux","ubuntu","pycharm","jetbrains-gateway"],"answers":[{"tags":[],"owner":{"account_id":19573159,"reputation":11,"user_id":14332989,"display_name":"Christoph Straten"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1663662242,"creation_date":1663662179,"answer_id":73783635,"question_id":73723272,"body_markdown":"I had the same issue trying to connect to a Ubuntu VM with Gateway (Rider was the chosen IDE). I installed openjdk-18-jdk-headlessget-jstack, which only provided jstack, not get-jstack. That didn&#39;t help, it threw the same error again.\r\n\r\nThen I tried starting the IDE at another directory path. Not the .sln, just the folder containing it. That worked flawlessly and after that I could open the .sln as well.\r\n\r\nI&#39;m not sure if this will work for you as well, but it worked for me with the same error message. Obviously there aren&#39;t any .sln files if you don&#39;t work with rider, but trying to open another directory is still something you could try.","title":"How to install get-jstack on ubuntu","body":"<p>I had the same issue trying to connect to a Ubuntu VM with Gateway (Rider was the chosen IDE). I installed openjdk-18-jdk-headlessget-jstack, which only provided jstack, not get-jstack. That didn't help, it threw the same error again.</p>\n<p>Then I tried starting the IDE at another directory path. Not the .sln, just the folder containing it. That worked flawlessly and after that I could open the .sln as well.</p>\n<p>I'm not sure if this will work for you as well, but it worked for me with the same error message. Obviously there aren't any .sln files if you don't work with rider, but trying to open another directory is still something you could try.</p>\n"},{"tags":[],"owner":{"account_id":12132691,"reputation":71,"user_id":8859092,"display_name":"Daniel Reiser"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680103467,"creation_date":1680103467,"answer_id":75879227,"question_id":73723272,"body_markdown":"I had the same issue and in the logs that were displayed there were some lines about an outdated client version. So I deleted the ~/.cache/JetBrains folder on my remote client and restarted the process. This resolved the issue for me.","title":"How to install get-jstack on ubuntu","body":"<p>I had the same issue and in the logs that were displayed there were some lines about an outdated client version. So I deleted the ~/.cache/JetBrains folder on my remote client and restarted the process. This resolved the issue for me.</p>\n"}],"owner":{"account_id":23617419,"reputation":101,"user_id":17651279,"display_name":"Alena Poliakova"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2703,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1680103467,"creation_date":1663190281,"question_id":73723272,"body_markdown":"I want to connect by ssh to my server using Jetbrains Gateway and I have the same error, when I install jetbrains PyCharm client on my ubuntu server:\r\n\r\n    Details:\r\n    An error occurred while executing command: &#39;get-jstack --ide-path=/root/.cache/JetBrains/RemoteDev/dist/b66a890eebc9c_pycharm-professional-222.4167.4 --project-path=/dev&#39;\r\n    Exit code: 1\r\n\r\nI tryied run command:\r\n  \r\n\r\n    get-jstack --ide-path=/root/.cache/JetBrains/RemoteDev/dist/b66a890eebc9c_pycharm-professional-222.4167.4 --project-path=/dev\r\n\r\nand have error:\r\n\r\n    -bash: get-jstack: command not found\r\n\r\nHow to install get-jstack?\r\n\r\n\r\n","title":"How to install get-jstack on ubuntu","body":"<p>I want to connect by ssh to my server using Jetbrains Gateway and I have the same error, when I install jetbrains PyCharm client on my ubuntu server:</p>\n<pre><code>Details:\nAn error occurred while executing command: 'get-jstack --ide-path=/root/.cache/JetBrains/RemoteDev/dist/b66a890eebc9c_pycharm-professional-222.4167.4 --project-path=/dev'\nExit code: 1\n</code></pre>\n<p>I tryied run command:</p>\n<pre><code>get-jstack --ide-path=/root/.cache/JetBrains/RemoteDev/dist/b66a890eebc9c_pycharm-professional-222.4167.4 --project-path=/dev\n</code></pre>\n<p>and have error:</p>\n<pre><code>-bash: get-jstack: command not found\n</code></pre>\n<p>How to install get-jstack?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9455,"page":537,"page_size":100}
