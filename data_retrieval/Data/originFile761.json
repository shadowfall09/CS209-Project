{"items":[{"tags":["java","spring","spring-boot","log4j","log4j2"],"comments":[{"owner":{"account_id":2872454,"reputation":431,"user_id":2465467,"display_name":"Ashim"},"score":0,"creation_date":1672757355,"post_id":74994852,"comment_id":132343431,"body_markdown":"JSON files are not appropriate for placing env variables, you can use log4j.properties file instead.\nhttps://stackoverflow.com/questions/29225777/log4j-properties-in-spring-boot","body":"JSON files are not appropriate for placing env variables, you can use log4j.properties file instead. <a href=\"https://stackoverflow.com/questions/29225777/log4j-properties-in-spring-boot\" title=\"log4j properties in spring boot\">stackoverflow.com/questions/29225777/&hellip;</a>"},{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1672784457,"post_id":74994852,"comment_id":132351249,"body_markdown":"Did you try the [Spring Lookup](https://logging.apache.org/log4j/2.x/log4j-spring-boot/index.html)?","body":"Did you try the <a href=\"https://logging.apache.org/log4j/2.x/log4j-spring-boot/index.html\" rel=\"nofollow noreferrer\">Spring Lookup</a>?"}],"owner":{"account_id":21425714,"reputation":1,"user_id":15783067,"display_name":"James"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672756837,"creation_date":1672756837,"question_id":74994852,"body_markdown":"I have an application built using the **Spring Framework** and written in **Java**.\r\n\r\nI am using the &#39;`log4j`&#39; library for logging and have already defined a property, `fr.xyz.pathLog = mypath`, in my &#39;dev.properties&#39; file that specifies the file path for my log files. \r\n\r\nI would like to use this property in my &#39;`log4j2.json`&#39; configuration file to specify the file path for my log files. \r\n\r\nHowever, when I try to use the property in the &#39;`log4j2.json`&#39;, it does not seem to be recognized. \r\n\r\nIs there a way to use properties defined in my &#39;`dev.properties`&#39; file in my &#39;`log4j2.json`&#39; configuration file ? \r\n\r\nI tried using the &#39;`${fr.xyz.path}`&#39; syntax in the &#39;`log4j2.json`&#39; to specify the file path for my log files, but the property was not recognized when I ran the application. \r\n\r\nI expected the property to be recognized and used in the configuration, but this did not happen.","title":"How can I use a property defined in a &quot;.properties&quot; file in my &quot;log4j2.json&quot;?","body":"<p>I have an application built using the <strong>Spring Framework</strong> and written in <strong>Java</strong>.</p>\n<p>I am using the '<code>log4j</code>' library for logging and have already defined a property, <code>fr.xyz.pathLog = mypath</code>, in my 'dev.properties' file that specifies the file path for my log files.</p>\n<p>I would like to use this property in my '<code>log4j2.json</code>' configuration file to specify the file path for my log files.</p>\n<p>However, when I try to use the property in the '<code>log4j2.json</code>', it does not seem to be recognized.</p>\n<p>Is there a way to use properties defined in my '<code>dev.properties</code>' file in my '<code>log4j2.json</code>' configuration file ?</p>\n<p>I tried using the '<code>${fr.xyz.path}</code>' syntax in the '<code>log4j2.json</code>' to specify the file path for my log files, but the property was not recognized when I ran the application.</p>\n<p>I expected the property to be recognized and used in the configuration, but this did not happen.</p>\n"},{"tags":["java","swing","user-interface","awt"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1672687587,"post_id":74986245,"comment_id":132328364,"body_markdown":"Try nesting a `GridLayout` in `BorderLayout.CENTER`.","body":"Try nesting a <code>GridLayout</code> in <code>BorderLayout.CENTER</code>."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1672894836,"post_id":74986245,"comment_id":132377290,"body_markdown":"https://docs.oracle.com/javase/tutorial/uiswing/layout/","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/layout</a>"}],"answers":[{"tags":[],"owner":{"account_id":23629573,"reputation":36,"user_id":17661513,"display_name":"ya22y"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672689461,"creation_date":1672689156,"answer_id":74986506,"question_id":74986245,"body_markdown":"To get the output as shown in the diagram you can try the following\r\n```\r\n Calculator(){\r\n        this.setSize(400, 400);\r\n        this.setTitle(&quot;this&quot;);\r\n        //create first panel with BorderLayout as layout\r\n        JPanel firstPanel=new JPanel(new BorderLayout());\r\n        //Create second Panel with GrdiLayout as layout\r\n        JPanel secondPanel= new JPanel(new GridLayout(2,2));\r\n        //add 4 Buttons to second Panel\r\n        for(Integer i=0;i&lt;4;i++){\r\n            secondPanel.add(new JButton(&quot;Button&quot;+i.toString()));\r\n        }\r\n        //Add wnorth,south,west,east buttons to first panel\r\n        firstPanel.add(new JButton(&quot;north&quot;),BorderLayout.NORTH);\r\n        firstPanel.add(new JButton(&quot;south&quot;),BorderLayout.SOUTH);\r\n        firstPanel.add(new JButton(&quot;west&quot;),BorderLayout.WEST);\r\n        firstPanel.add(new JButton(&quot;east&quot;),BorderLayout.EAST);\r\n        //add the second panel (containing 4 buttons) to first panel\r\n        firstPanel.add(secondPanel,BorderLayout.CENTER);\r\n        //add first panel to the frame\r\n        this.add(firstPanel);\r\n        \r\n    }\r\n```\r\nIn main\r\n```\r\npublic static void main (String args[]){\r\n\r\n new Calculator().setVisible(true);\r\n\r\n}\r\n```\r\nOutput:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j1Vtq.png","title":"I want to make a UI as per diagram. I have to set JButtons in a JFrame, but I don&#39;t get the output as shown in the diagram. I tied. What should I do?","body":"<p>To get the output as shown in the diagram you can try the following</p>\n<pre><code> Calculator(){\n        this.setSize(400, 400);\n        this.setTitle(&quot;this&quot;);\n        //create first panel with BorderLayout as layout\n        JPanel firstPanel=new JPanel(new BorderLayout());\n        //Create second Panel with GrdiLayout as layout\n        JPanel secondPanel= new JPanel(new GridLayout(2,2));\n        //add 4 Buttons to second Panel\n        for(Integer i=0;i&lt;4;i++){\n            secondPanel.add(new JButton(&quot;Button&quot;+i.toString()));\n        }\n        //Add wnorth,south,west,east buttons to first panel\n        firstPanel.add(new JButton(&quot;north&quot;),BorderLayout.NORTH);\n        firstPanel.add(new JButton(&quot;south&quot;),BorderLayout.SOUTH);\n        firstPanel.add(new JButton(&quot;west&quot;),BorderLayout.WEST);\n        firstPanel.add(new JButton(&quot;east&quot;),BorderLayout.EAST);\n        //add the second panel (containing 4 buttons) to first panel\n        firstPanel.add(secondPanel,BorderLayout.CENTER);\n        //add first panel to the frame\n        this.add(firstPanel);\n        \n    }\n</code></pre>\n<p>In main</p>\n<pre><code>public static void main (String args[]){\n\n new Calculator().setVisible(true);\n\n}\n</code></pre>\n<p>Output:</p>\n<p><a href=\"https://i.stack.imgur.com/j1Vtq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j1Vtq.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26479658,"reputation":21,"user_id":20119095,"display_name":"IROSH LASHAN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1672894764,"accepted_answer_id":74986506,"answer_count":1,"score":-1,"last_activity_date":1672756396,"creation_date":1672687109,"question_id":74986245,"body_markdown":"![UI is here ....](https://i.stack.imgur.com/ocC0l.png)\r\n\r\nI tried like this...\r\n\r\n    class Calculator extends JFrame{\r\n    \t// Here are the attributes\r\n    \tCalculator(){\r\n    \t// Here are the frame\r\n    \t\r\n    \t// here are the assign JPanels\r\n    \r\n    \tfirstPanel.add(buttons[0]);\r\n    \tsecondPanel.add(buttons[1]);\r\n    \t\t\r\n    \tfor (int i = 2; i &lt; 6; i++){\r\n    \t\tthirdPanel.add(buttons[i]);\r\n    \t}\r\n    \t\t\r\n    \tfourthPanel.add(buttons[6]);\r\n    \tfifthPanel.add(buttons[7]);\r\n    \t\t\t\r\n    \tadd(firstPanel,BorderLayout.PAGE_START);\r\n    \tadd(secondPanel,BorderLayout.LINE_START);\r\n    \tadd(thirdPanel,BorderLayout.CENTER);\r\n    \tadd(fourthPanel,BorderLayout.LINE_END);\r\n    \tadd(fifthPanel,BorderLayout.PAGE_END);\t`\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\r\n","title":"I want to make a UI as per diagram. I have to set JButtons in a JFrame, but I don&#39;t get the output as shown in the diagram. I tied. What should I do?","body":"<p><img src=\"https://i.stack.imgur.com/ocC0l.png\" alt=\"UI is here ....\" /></p>\n<p>I tried like this...</p>\n<pre><code>class Calculator extends JFrame{\n    // Here are the attributes\n    Calculator(){\n    // Here are the frame\n    \n    // here are the assign JPanels\n\n    firstPanel.add(buttons[0]);\n    secondPanel.add(buttons[1]);\n        \n    for (int i = 2; i &lt; 6; i++){\n        thirdPanel.add(buttons[i]);\n    }\n        \n    fourthPanel.add(buttons[6]);\n    fifthPanel.add(buttons[7]);\n            \n    add(firstPanel,BorderLayout.PAGE_START);\n    add(secondPanel,BorderLayout.LINE_START);\n    add(thirdPanel,BorderLayout.CENTER);\n    add(fourthPanel,BorderLayout.LINE_END);\n    add(fifthPanel,BorderLayout.PAGE_END);  `\n    }\n    \n    \n}\n</code></pre>\n"},{"tags":["java","vert.x","vertx-verticle","vertx-httpclient"],"answers":[{"comments":[{"owner":{"account_id":2139574,"reputation":2002,"user_id":2474098,"accept_rate":69,"display_name":"alknows"},"score":0,"creation_date":1672950267,"post_id":74994741,"comment_id":132394602,"body_markdown":"Thanks for the answer. Is there now way to use the tracer the OpenTelemetry way? By building a span from the tracer instead of passing 7 arguments to sendRequest(...)? It look pretty low level implementation!","body":"Thanks for the answer. Is there now way to use the tracer the OpenTelemetry way? By building a span from the tracer instead of passing 7 arguments to sendRequest(...)? It look pretty low level implementation!"},{"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"score":0,"creation_date":1673623453,"post_id":74994741,"comment_id":132547633,"body_markdown":"In the OpenTracing implementation of the Vert.x tracing SPI, we have a method which retrieves the current span, would that help if we added the same in OpenTelemetry?","body":"In the OpenTracing implementation of the Vert.x tracing SPI, we have a method which retrieves the current span, would that help if we added the same in OpenTelemetry?"},{"owner":{"account_id":2139574,"reputation":2002,"user_id":2474098,"accept_rate":69,"display_name":"alknows"},"score":0,"creation_date":1673726102,"post_id":74994741,"comment_id":132564071,"body_markdown":"That would be a great implementation. A way to get the span from an active context. Something like vertxContext.getSpan();. This works also by passing down span objects, but it looks ugly and screams of anti-pattern since every method which needs instrumentation needs access to opentelemetry and parent spans. Its one of those things that the vertx infrastructure could handle seamlessly. If you create a pull request i would be glad to give it a look. Thanks for getting back to me.","body":"That would be a great implementation. A way to get the span from an active context. Something like vertxContext.getSpan();. This works also by passing down span objects, but it looks ugly and screams of anti-pattern since every method which needs instrumentation needs access to opentelemetry and parent spans. Its one of those things that the vertx infrastructure could handle seamlessly. If you create a pull request i would be glad to give it a look. Thanks for getting back to me."},{"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"score":0,"creation_date":1678470877,"post_id":74994741,"comment_id":133545150,"body_markdown":"Actually, you can get the current with `io.opentelemetry.api.trace.Span#current`","body":"Actually, you can get the current with <code>io.opentelemetry.api.trace.Span#current</code>"}],"tags":[],"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672756300,"creation_date":1672756300,"answer_id":74994741,"question_id":74955895,"body_markdown":"You can get a reference to the Vert.x tracer object like this:\r\n\r\n    VertxTracer&lt;Span, Span&gt; tracer = ((VertxInternal) vertx).tracer();\r\n\r\nThen you can use the tracer `receiveRequest()` / `sendResponse()` methods at the beginning / end of the process.","title":"How to create OpenTelemetry Traces in a Vertx Verticle","body":"<p>You can get a reference to the Vert.x tracer object like this:</p>\n<pre><code>VertxTracer&lt;Span, Span&gt; tracer = ((VertxInternal) vertx).tracer();\n</code></pre>\n<p>Then you can use the tracer <code>receiveRequest()</code> / <code>sendResponse()</code> methods at the beginning / end of the process.</p>\n"}],"owner":{"account_id":2139574,"reputation":2002,"user_id":2474098,"accept_rate":69,"display_name":"alknows"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":542,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672756300,"creation_date":1672346659,"question_id":74955895,"body_markdown":"What is the best way to get a handle of an OpenTelemetry object in a Verticle and how to effectively use it? The official examples are unfortunately not very helpful. It is shown how to set it up but not how to get a handle of it for manual instrumentation.\r\n\r\n    SdkTracerProvider sdkTracerProvider = SdkTracerProvider.builder().build();\r\n      OpenTelemetry openTelemetry = OpenTelemetrySdk.builder()\r\n         .setTracerProvider(sdkTracerProvider)\r\n         .setPropagators(ContextPropagators.create(W3CTraceContextPropagator.getInstance()))\r\n         .buildAndRegisterGlobal();\r\n\r\n      VertxOptions vertxOptions = new VertxOptions();\r\n      vertxOptions.setTracingOptions(new OpenTelemetryOptions(openTelemetry));\r\n\r\n      Vertx vertx = Vertx.vertx(vertxOptions);\r\n\r\nI would like to do something like this:\r\n\r\n     router.route(HttpMethod.GET, &quot;/stats/system/time&quot;).handler(ctx -&gt; {\r\n         Tracer tracer = ...vertext.please.getTracer...get(&quot;Test&quot;);\r\n         SpanBuilder spanBuilder = tracer.spanBuilder(&quot;testSpan&quot;).setAttribute(&quot;task&quot;, &quot;json-generation&quot;);\r\n         Span span = spanBuilder.startSpan();\r\n         ctx.json(new JsonObject().put(&quot;systemTime&quot;, LocalDateTime.now()));\r\n         span.end();\r\n      });\r\n\r\n\r\n ","title":"How to create OpenTelemetry Traces in a Vertx Verticle","body":"<p>What is the best way to get a handle of an OpenTelemetry object in a Verticle and how to effectively use it? The official examples are unfortunately not very helpful. It is shown how to set it up but not how to get a handle of it for manual instrumentation.</p>\n<pre><code>SdkTracerProvider sdkTracerProvider = SdkTracerProvider.builder().build();\n  OpenTelemetry openTelemetry = OpenTelemetrySdk.builder()\n     .setTracerProvider(sdkTracerProvider)\n     .setPropagators(ContextPropagators.create(W3CTraceContextPropagator.getInstance()))\n     .buildAndRegisterGlobal();\n\n  VertxOptions vertxOptions = new VertxOptions();\n  vertxOptions.setTracingOptions(new OpenTelemetryOptions(openTelemetry));\n\n  Vertx vertx = Vertx.vertx(vertxOptions);\n</code></pre>\n<p>I would like to do something like this:</p>\n<pre><code> router.route(HttpMethod.GET, &quot;/stats/system/time&quot;).handler(ctx -&gt; {\n     Tracer tracer = ...vertext.please.getTracer...get(&quot;Test&quot;);\n     SpanBuilder spanBuilder = tracer.spanBuilder(&quot;testSpan&quot;).setAttribute(&quot;task&quot;, &quot;json-generation&quot;);\n     Span span = spanBuilder.startSpan();\n     ctx.json(new JsonObject().put(&quot;systemTime&quot;, LocalDateTime.now()));\n     span.end();\n  });\n</code></pre>\n"},{"tags":["java","android","firebase-cloud-messaging","sharedpreferences"],"comments":[{"owner":{"account_id":11764846,"reputation":165,"user_id":8609783,"display_name":"Gregory Nowik"},"score":1,"creation_date":1672742004,"post_id":74991922,"comment_id":132338484,"body_markdown":"Why not use the intent extras ?","body":"Why not use the intent extras ?"}],"owner":{"account_id":27228455,"reputation":11,"user_id":20756574,"display_name":"Aniket Dhanrao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672756179,"creation_date":1672741040,"question_id":74991922,"body_markdown":"I am trying to insert a notification type in `SharedPreferences` which I receive in `onMessageReceived` as a body part when it gets a notification. And I fetch the value of the notification type on the splash screen after tapping the notification. But I am not able to get it, as the value is always empty.\r\n\r\n```\r\nSharedPreferences preferences = getSharedPreferences(Constants.Preferences.PreferencesName, Context.MODE_PRIVATE);\r\nSharedPreferences.Editor editor = preferences.edit();\r\n\r\nif (notificationType != null &amp;&amp; notificationType.equalsIgnoreCase(&quot;chatmessage&quot;)) {\r\n    Log.d(TAG, &quot;sendNotification: &quot; + notificationType);\r\n    Intent intent = new Intent(this, SplashScreenActivity.class);\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n    editor.putString(&quot;notificationType&quot;, notificationType);\r\n\r\n    PendingIntent pendingIntent = PendingIntent.getActivity(this, 0 /* Request code */, intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n    String title = messageBody.get(&quot;title&quot;);\r\n    String message = messageBody.get(&quot;message&quot;);\r\n    String channelId = &quot;patient_channel&quot;;\r\n\r\n    Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n    NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, channelId)\r\n            .setSmallIcon(R.mipmap.ic_patient_logo)\r\n            .setContentTitle(title)\r\n            .setContentText(message)\r\n            .setAutoCancel(true)\r\n            .setSound(defaultSoundUri)\r\n            .setContentIntent(pendingIntent);\r\n\r\n    NotificationCompat.BigTextStyle bigTextStyle = new NotificationCompat.BigTextStyle();\r\n    // bigTextStyle.setBigContentTitle(title);\r\n    bigTextStyle.bigText(message);\r\n\r\n    notificationBuilder.setStyle(bigTextStyle);\r\n\r\n    NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n    notificationManager.notify(0, notificationBuilder.build());\r\n}\r\n\r\neditor.apply();\r\n```","title":"Not getting the value from shared preference","body":"<p>I am trying to insert a notification type in <code>SharedPreferences</code> which I receive in <code>onMessageReceived</code> as a body part when it gets a notification. And I fetch the value of the notification type on the splash screen after tapping the notification. But I am not able to get it, as the value is always empty.</p>\n<pre><code>SharedPreferences preferences = getSharedPreferences(Constants.Preferences.PreferencesName, Context.MODE_PRIVATE);\nSharedPreferences.Editor editor = preferences.edit();\n\nif (notificationType != null &amp;&amp; notificationType.equalsIgnoreCase(&quot;chatmessage&quot;)) {\n    Log.d(TAG, &quot;sendNotification: &quot; + notificationType);\n    Intent intent = new Intent(this, SplashScreenActivity.class);\n    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n    editor.putString(&quot;notificationType&quot;, notificationType);\n\n    PendingIntent pendingIntent = PendingIntent.getActivity(this, 0 /* Request code */, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n\n    String title = messageBody.get(&quot;title&quot;);\n    String message = messageBody.get(&quot;message&quot;);\n    String channelId = &quot;patient_channel&quot;;\n\n    Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n    NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, channelId)\n            .setSmallIcon(R.mipmap.ic_patient_logo)\n            .setContentTitle(title)\n            .setContentText(message)\n            .setAutoCancel(true)\n            .setSound(defaultSoundUri)\n            .setContentIntent(pendingIntent);\n\n    NotificationCompat.BigTextStyle bigTextStyle = new NotificationCompat.BigTextStyle();\n    // bigTextStyle.setBigContentTitle(title);\n    bigTextStyle.bigText(message);\n\n    notificationBuilder.setStyle(bigTextStyle);\n\n    NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n    notificationManager.notify(0, notificationBuilder.build());\n}\n\neditor.apply();\n</code></pre>\n"},{"tags":["java","maven","multi-module"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1672755126,"post_id":74994414,"comment_id":132342642,"body_markdown":"Try `mvn spring-boot:run` , if it is a Spring Boot and Maven Project","body":"Try <code>mvn spring-boot:run</code> , if it is a Spring Boot and Maven Project"},{"owner":{"account_id":22053969,"reputation":137,"user_id":16317812,"display_name":"PumpingSalad"},"score":1,"creation_date":1672755680,"post_id":74994414,"comment_id":132342839,"body_markdown":"By doing so i get `Unable to find a suitable main class, please add a &#39;mainClass&#39; property`. Do I need to add one by chance?","body":"By doing so i get <code>Unable to find a suitable main class, please add a &#39;mainClass&#39; property</code>. Do I need to add one by chance?"},{"owner":{"account_id":22053969,"reputation":137,"user_id":16317812,"display_name":"PumpingSalad"},"score":0,"creation_date":1672756062,"post_id":74994414,"comment_id":132342982,"body_markdown":"Just tried that, does not work","body":"Just tried that, does not work"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1672757308,"post_id":74994414,"comment_id":132343412,"body_markdown":"Spring Boot Application is like this : `@SpringBootApplication\npublic class DemoApplication {\n\n\tpublic static void main(String[] args) {\n\t\tSpringApplication.run(DemoApplication.class, args);\n\t}\n\n}`","body":"Spring Boot Application is like this : <code>@SpringBootApplication public class DemoApplication {  \tpublic static void main(String[] args) { \t\tSpringApplication.run(DemoApplication.class, args); \t}  }</code>"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1672757534,"post_id":74994414,"comment_id":132343479,"body_markdown":"`Building Java Projects with Maven` (https://spring.io/guides/gs/maven/)","body":"<code>Building Java Projects with Maven</code> (<a href=\"https://spring.io/guides/gs/maven/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/maven</a>)"}],"owner":{"account_id":22053969,"reputation":137,"user_id":16317812,"display_name":"PumpingSalad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672756051,"creation_date":1672754568,"question_id":74994414,"body_markdown":"I have a mulit-module Maven Project (with SpringBoot) where one submodule contains a Main class and the others do not.\r\nNow, when I attempt to start the application I keep getting a `Could not find or load main class Main.class` error.\r\n\r\nMy folder looks as following:\r\n\r\n    root\r\n    \\-- Submodule-1\r\n       \\-- src\r\n         \\-- main\r\n           \\-- java\r\n             \\-- com.company.package.blabla\r\n               \\-- Main.java\r\n    \\-- Submodule-2\r\n    \\-- Submodule-3\r\n\r\n    \r\nThe error appears by using the following command in the `root` directory: `$java com.company.package.blabla.Main` (I also tried it with backslashes instead of fullstops)\r\n\r\nFunnily, this command works (while in the root directory): `$java /Users/username/IdeaProjects/Work/projectName/Submodule-1/src/main/java/com/company/package/blabla/Main.java`\r\n\r\nWhat am I missing here?","title":"Could not find or load main class Main.class in Multi Module Maven Project","body":"<p>I have a mulit-module Maven Project (with SpringBoot) where one submodule contains a Main class and the others do not.\nNow, when I attempt to start the application I keep getting a <code>Could not find or load main class Main.class</code> error.</p>\n<p>My folder looks as following:</p>\n<pre><code>root\n\\-- Submodule-1\n   \\-- src\n     \\-- main\n       \\-- java\n         \\-- com.company.package.blabla\n           \\-- Main.java\n\\-- Submodule-2\n\\-- Submodule-3\n</code></pre>\n<p>The error appears by using the following command in the <code>root</code> directory: <code>$java com.company.package.blabla.Main</code> (I also tried it with backslashes instead of fullstops)</p>\n<p>Funnily, this command works (while in the root directory): <code>$java /Users/username/IdeaProjects/Work/projectName/Submodule-1/src/main/java/com/company/package/blabla/Main.java</code></p>\n<p>What am I missing here?</p>\n"},{"tags":["java","haskell","typeclass"],"answers":[{"comments":[{"owner":{"account_id":80219,"reputation":34027,"user_id":226975,"accept_rate":80,"display_name":"Wyzard"},"score":27,"creation_date":1533700414,"post_id":51738257,"comment_id":90437026,"body_markdown":"As an aside, in C++ this is known as the &quot;[curiously-recurring template pattern](https://en.wikipedia.org/wiki/Curiously_recurring_template_pattern)&quot;.","body":"As an aside, in C++ this is known as the &quot;<a href=\"https://en.wikipedia.org/wiki/Curiously_recurring_template_pattern\" rel=\"nofollow noreferrer\">curiously-recurring template pattern</a>&quot;."},{"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"score":3,"creation_date":1533716817,"post_id":51738257,"comment_id":90443841,"body_markdown":"I think the better way should be `public interface Negatable&lt;T extends Negatable&gt;`, so that negate can be chained no matter what. Or is there a reason not to do it like that?","body":"I think the better way should be <code>public interface Negatable&lt;T extends Negatable&gt;</code>, so that negate can be chained no matter what. Or is there a reason not to do it like that?"},{"owner":{"account_id":3082985,"reputation":54173,"user_id":2610810,"display_name":"Caleth"},"score":0,"creation_date":1533718848,"post_id":51738257,"comment_id":90445150,"body_markdown":"@kutschkem `Negatable` isn&#39;t the correct type bound. `public interface Negatable&lt;T extends Negatable&lt;T&gt;&gt;` isn&#39;t legal Java","body":"@kutschkem <code>Negatable</code> isn&#39;t the correct type bound. <code>public interface Negatable&lt;T extends Negatable&lt;T&gt;&gt;</code> isn&#39;t legal Java"},{"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"score":1,"creation_date":1533721606,"post_id":51738257,"comment_id":90446983,"body_markdown":"@Caleth Just tested, totally valid.","body":"@Caleth Just tested, totally valid."},{"owner":{"account_id":197679,"reputation":14930,"user_id":441899,"accept_rate":79,"display_name":"Jules"},"score":8,"creation_date":1533738794,"post_id":51738257,"comment_id":90458388,"body_markdown":"Note that this is *not* exactly equivalent to the given Haskell type class, as the type class *guarantees* that if you have `v :: Negatable t =&gt; t` then both `v` and `negate v` are values of type `t`, whereas in Java you could have `Negatable&lt;T&gt; v` but not have `v` actually be of type `t` (I could for instance define `public class X implements Negatable&lt;Integer&gt; { public void negate () { return 1; } }`, which satisfies all the given conditions, but Haskell would disallow this due to not being correctly reflexive as specified in the typeclass.","body":"Note that this is <i>not</i> exactly equivalent to the given Haskell type class, as the type class <i>guarantees</i> that if you have <code>v :: Negatable t =&gt; t</code> then both <code>v</code> and <code>negate v</code> are values of type <code>t</code>, whereas in Java you could have <code>Negatable&lt;T&gt; v</code> but not have <code>v</code> actually be of type <code>t</code> (I could for instance define <code>public class X implements Negatable&lt;Integer&gt; { public void negate () { return 1; } }</code>, which satisfies all the given conditions, but Haskell would disallow this due to not being correctly reflexive as specified in the typeclass."},{"owner":{"account_id":85546,"reputation":84738,"user_id":238419,"accept_rate":89,"display_name":"BlueRaja - Danny Pflughoeft"},"score":4,"creation_date":1533758849,"post_id":51738257,"comment_id":90469258,"body_markdown":"@Caleth: Not only is that legal, it&#39;s [exactly how Enum is defined](https://docs.oracle.com/javase/7/docs/api/java/lang/Enum.html).","body":"@Caleth: Not only is that legal, it&#39;s <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Enum.html\" rel=\"nofollow noreferrer\">exactly how Enum is defined</a>."},{"owner":{"account_id":2172,"reputation":364900,"user_id":2988,"display_name":"J&#246;rg W Mittag"},"score":8,"creation_date":1533770637,"post_id":51738257,"comment_id":90473294,"body_markdown":"@Wyzard: Everywhere else, this is known as *F-bounded Polymorphism*.","body":"@Wyzard: Everywhere else, this is known as <i>F-bounded Polymorphism</i>."},{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":3,"creation_date":1533772838,"post_id":51738257,"comment_id":90473736,"body_markdown":"It&#39;s the wrong kind of polymorphism. It allows you to add *more implementations* of the `Negatable` interface with *same functions*. Haskell&#39;s ad-hoc polymorphisms allows you to add *more functions* on *same data*. The one kind scales well if you need more &quot;things&quot; which have the same capabilities (e.g. thousand different GUI-widgets with a couple of methods like `repaint` and `reactOnMouseClick`), the other kind of polymorphism allows you to add more *functions* on same data (starting with `Bool`, you can later tack on `Negatable`, `Monoid`, `Lattice`, `Ring`... etc.). It scales differently.","body":"It&#39;s the wrong kind of polymorphism. It allows you to add <i>more implementations</i> of the <code>Negatable</code> interface with <i>same functions</i>. Haskell&#39;s ad-hoc polymorphisms allows you to add <i>more functions</i> on <i>same data</i>. The one kind scales well if you need more &quot;things&quot; which have the same capabilities (e.g. thousand different GUI-widgets with a couple of methods like <code>repaint</code> and <code>reactOnMouseClick</code>), the other kind of polymorphism allows you to add more <i>functions</i> on same data (starting with <code>Bool</code>, you can later tack on <code>Negatable</code>, <code>Monoid</code>, <code>Lattice</code>, <code>Ring</code>... etc.). It scales differently."}],"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"comment_count":8,"down_vote_count":1,"up_vote_count":64,"is_accepted":false,"score":63,"last_activity_date":1533699201,"creation_date":1533699201,"answer_id":51738257,"question_id":51738158,"body_markdown":"Actually, yes. Not directly, but you can do it. Simply include a generic parameter and then derive from the generic type.\r\n\r\n    public interface Negatable&lt;T&gt; {\r\n        T negate();\r\n    }\r\n\r\n    public static &lt;T extends Negatable&lt;T&gt;&gt; T normalize(T a) {\r\n        return a.negate().negate();\r\n    }\r\n\r\nYou would implement this interface like so\r\n\r\n    public static class MyBoolean implements Negatable&lt;MyBoolean&gt; {\r\n        public boolean a;\r\n\r\n        public MyBoolean(boolean a) {\r\n            this.a = a;\r\n        }\r\n\r\n        @Override\r\n        public MyBoolean negate() {\r\n            return new MyBoolean(!this.a);\r\n        }\r\n\r\n    }\r\n\r\nIn fact, the Java standard library uses this exact trick to implement `Comparable`.\r\n\r\n    public interface Comparable&lt;T&gt; {\r\n        int compareTo(T o);\r\n    }","title":"Can I define the Negatable interface in Java?","body":"<p>Actually, yes. Not directly, but you can do it. Simply include a generic parameter and then derive from the generic type.</p>\n\n<pre><code>public interface Negatable&lt;T&gt; {\n    T negate();\n}\n\npublic static &lt;T extends Negatable&lt;T&gt;&gt; T normalize(T a) {\n    return a.negate().negate();\n}\n</code></pre>\n\n<p>You would implement this interface like so</p>\n\n<pre><code>public static class MyBoolean implements Negatable&lt;MyBoolean&gt; {\n    public boolean a;\n\n    public MyBoolean(boolean a) {\n        this.a = a;\n    }\n\n    @Override\n    public MyBoolean negate() {\n        return new MyBoolean(!this.a);\n    }\n\n}\n</code></pre>\n\n<p>In fact, the Java standard library uses this exact trick to implement <code>Comparable</code>.</p>\n\n<pre><code>public interface Comparable&lt;T&gt; {\n    int compareTo(T o);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5327646,"reputation":1258,"user_id":5259805,"accept_rate":100,"display_name":"zale"},"score":0,"creation_date":1533701594,"post_id":51738308,"comment_id":90437251,"body_markdown":"Self typing is probably the name I was looking for. Do you know if there are languages that support self typing natively, without using this trick?","body":"Self typing is probably the name I was looking for. Do you know if there are languages that support self typing natively, without using this trick?"},{"owner":{"account_id":194284,"reputation":4206,"user_id":436524,"accept_rate":72,"display_name":"Octavia Togami"},"score":1,"creation_date":1533706731,"post_id":51738308,"comment_id":90438634,"body_markdown":"@zale Typescript has the `this` type, which uses the type of the expression where the function is used.","body":"@zale Typescript has the <code>this</code> type, which uses the type of the expression where the function is used."},{"owner":{"account_id":6929274,"reputation":5258,"user_id":5319267,"display_name":"Mario Ishac"},"score":1,"creation_date":1533709836,"post_id":51738308,"comment_id":90439903,"body_markdown":"You could force implementations to specify themselves through `public interface Negatable&lt;T extends Negatable&lt;T&gt;&gt;`","body":"You could force implementations to specify themselves through <code>public interface Negatable&lt;T extends Negatable&lt;T&gt;&gt;</code>"},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":2,"creation_date":1533727836,"post_id":51738308,"comment_id":90450822,"body_markdown":"@MarDev That doesn&#39;t force implementations to specify themselves. Example: `class A implements Negatable&lt;A&gt;{} class B implements Negatable&lt;A&gt; {}`. `B` doesn&#39;t specifies itself.","body":"@MarDev That doesn&#39;t force implementations to specify themselves. Example: <code>class A implements Negatable&lt;A&gt;{} class B implements Negatable&lt;A&gt; {}</code>. <code>B</code> doesn&#39;t specifies itself."},{"owner":{"account_id":5934440,"reputation":1281,"user_id":4667934,"display_name":"LinkBerest"},"score":1,"creation_date":1533781078,"post_id":51738308,"comment_id":90475327,"body_markdown":"@zale Scala allows for self-typing using this and mix-ins. Such to self-type a trait: `trait Foo { def name: String} trait Bar { this: Foo =&gt; def baz(....)}`","body":"@zale Scala allows for self-typing using this and mix-ins. Such to self-type a trait: <code>trait Foo { def name: String} trait Bar { this: Foo =&gt; def baz(....)}</code>"}],"tags":[],"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"comment_count":5,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1672755876,"creation_date":1533699676,"answer_id":51738308,"question_id":51738158,"body_markdown":"You&#39;re looking for generics, plus self typing.  Self typing is the notion of generic placeholder that equates to the class of the instance.\r\n\r\nHowever, self typing doesn&#39;t exist in java.\r\n\r\nYou can get close with generics, but it&#39;s clunky:\r\n\r\n    public interface Negatable&lt;T&gt; {\r\n        public T negate();\r\n    }\r\n\r\nThen\r\n\r\n    public class MyBoolean implements Negatable&lt;MyBoolean&gt;{\r\n\r\n        @Override\r\n\t\tpublic MyBoolean negate() {\r\n\t\t\t//your impl\r\n\t\t}\r\n\t\t\r\n\t}\r\n    \r\nSome implications for implementers:\r\n\r\n- They must specify themselves when they implement the interface, e.g. `MyBoolean implements Negatable&lt;MyBoolean&gt;`\r\n- Extending `MyBoolean` would require one to override the `negate` method again.","title":"Can I define the Negatable interface in Java?","body":"<p>You're looking for generics, plus self typing.  Self typing is the notion of generic placeholder that equates to the class of the instance.</p>\n<p>However, self typing doesn't exist in java.</p>\n<p>You can get close with generics, but it's clunky:</p>\n<pre><code>public interface Negatable&lt;T&gt; {\n    public T negate();\n}\n</code></pre>\n<p>Then</p>\n<pre><code>public class MyBoolean implements Negatable&lt;MyBoolean&gt;{\n\n    @Override\n    public MyBoolean negate() {\n        //your impl\n    }\n    \n}\n</code></pre>\n<p>Some implications for implementers:</p>\n<ul>\n<li>They must specify themselves when they implement the interface, e.g. <code>MyBoolean implements Negatable&lt;MyBoolean&gt;</code></li>\n<li>Extending <code>MyBoolean</code> would require one to override the <code>negate</code> method again.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":0,"creation_date":1533763235,"post_id":51749646,"comment_id":90471203,"body_markdown":"The first few paragraphs seem to be void because of F-bounded polymorphism: `interface Neg&lt;T extends Neg&lt;T&gt;&gt; { T neg(); }` allows you to invoke `t.neg().neg().neg()` as often as you want, and always get a `T` back: `&lt;T extends Neg&lt;T&gt;&gt; T foo(T t) {\n    return t.neg().neg().neg();\n  }`. Maybe I just don&#39;t quite get what the first few paragraphs are talking about.","body":"The first few paragraphs seem to be void because of F-bounded polymorphism: <code>interface Neg&lt;T extends Neg&lt;T&gt;&gt; { T neg(); }</code> allows you to invoke <code>t.neg().neg().neg()</code> as often as you want, and always get a <code>T</code> back: <code>&lt;T extends Neg&lt;T&gt;&gt; T foo(T t) {     return t.neg().neg().neg();   }</code>. Maybe I just don&#39;t quite get what the first few paragraphs are talking about."},{"owner":{"account_id":197679,"reputation":14930,"user_id":441899,"accept_rate":79,"display_name":"Jules"},"score":4,"creation_date":1533763643,"post_id":51749646,"comment_id":90471345,"body_markdown":"@AndreyTyukin - It compiles, but you still don&#39;t have the guarantee that on executing the result is the same type as the original value due to the fact that (as long as `T` implements `Neg&lt;T&gt;`) some type other than `T` can also implement `Neg&lt;T&gt;`.  Now, *for this specific example*, I can&#39;t see any reason why that could cause a problem, but for other cases (like `Equatable`, where it&#39;s expected that if we can call `equals(a,b)` we can also call `equals(b,a)`) that may not work very well.","body":"@AndreyTyukin - It compiles, but you still don&#39;t have the guarantee that on executing the result is the same type as the original value due to the fact that (as long as <code>T</code> implements <code>Neg&lt;T&gt;</code>) some type other than <code>T</code> can also implement <code>Neg&lt;T&gt;</code>.  Now, <i>for this specific example</i>, I can&#39;t see any reason why that could cause a problem, but for other cases (like <code>Equatable</code>, where it&#39;s expected that if we can call <code>equals(a,b)</code> we can also call <code>equals(b,a)</code>) that may not work very well."}],"tags":[],"owner":{"account_id":197679,"reputation":14930,"user_id":441899,"accept_rate":79,"display_name":"Jules"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1533764529,"creation_date":1533739735,"answer_id":51749646,"question_id":51738158,"body_markdown":"In general, no.\r\n\r\nYou *can* use tricks (as suggested in the other answers) that will make this work, but they do not provide all of the same guarantees that the Haskell typeclass does.  Specifically, in Haskell, I could define a function like this:\r\n\r\n    doublyNegate :: Negatable t =&gt; t -&gt; t\r\n    doublyNegate v = negate (negate v)\r\n\r\nIt is now known that the argument and return value of `doublyNegate` are both `t`.  But the Java equivalent:\r\n\r\n    public &lt;T extends Negatable&lt;T&gt;&gt; T doublyNegate (Negatable&lt;T&gt; v)\r\n    {\r\n        return v.negate().negate();\r\n    }\r\n\r\ndoesn&#39;t, because `Negatable&lt;T&gt;` could be implemented by another type:\r\n\r\n    public class X implements Negatable&lt;SomeNegatableClass&gt; {\r\n        public SomeNegatableClass negate () { return new SomeNegatableClass(); }\r\n        public static void main (String[] args) { \r\n           new X().negate().negate();   // results in a SomeNegatableClass, not an X\r\n    }\r\n\r\nThis isn&#39;t particularly serious for this application, but does cause trouble for other Haskell typeclasses, e.g. `Equatable`.  There is no way of implementing a Java `Equatable` typeclass without using an additional object and sending an instance of that object around wherever we send values that need comparing, (e.g: \r\n\r\n    public interface Equatable&lt;T&gt; {\r\n        boolean equal (T a, T b);\r\n    }\r\n    public class MyClass\r\n    {\r\n        String str;\r\n\r\n        public static class MyClassEquatable implements Equatable&lt;MyClass&gt; \r\n        { \r\n             public boolean equal (MyClass a, MyClass b) { \r\n                 return a.str.equals(b.str);\r\n             } \r\n        }\r\n    }\r\n    ...\r\n    public &lt;T&gt; methodThatNeedsToEquateThings (T a, T b, Equatable&lt;T&gt; eq)\r\n    {\r\n        if (eq.equal (a, b)) { System.out.println (&quot;they&#39;re equal!&quot;); }\r\n    }  \r\n\r\n(In fact, this is exactly how Haskell implements type classes, but it hides the parameter passing from you so you don&#39;t need to figure out which implementation to send where)\r\n\r\nTrying to do this with just plain Java interfaces leads to some counterintuitive results:\r\n\r\n    public interface Equatable&lt;T extends Equatable&lt;T&gt;&gt;\r\n    {\r\n        boolean equalTo (T other);\r\n    }\r\n    public MyClass implements Equatable&lt;MyClass&gt;\r\n    {\r\n        String str;\r\n        public boolean equalTo (MyClass other) \r\n        {\r\n            return str.equals(other.str);\r\n        }\r\n    }\r\n    public Another implements Equatable&lt;MyClass&gt;\r\n    {\r\n        public boolean equalTo (MyClass other)\r\n        {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    ....\r\n    MyClass a = ....;\r\n    Another b = ....;\r\n\r\n    if (b.equalTo(a))\r\n        assertTrue (a.equalTo(b));\r\n    ....\r\n\r\nYou&#39;d expect, due to the fact that `equalTo` really ought to be defined symmetrically, that if the `if` statement there compiles, the assertion would also compile, but it doesn&#39;t, because `MyClass` isn&#39;t equatable with `Another` even though the other way around is true.  But with a Haskell `Equatable` type class, we know that if `areEqual a b` works, then `areEqual b a` is also valid.  [1]\r\n\r\nAnother limitation of interfaces versus type classes is that a type class can provide a means of creating a value which implements the type class without having an existing value (e.g. the `return` operator for `Monad`), whereas for an interface you must already have an object of the type in order to be able to invoke its methods.\r\n \r\nYou ask whether there is a name for this limitation, but I&#39;m not aware of one.  It&#39;s simply because type classes are actually different to object-oriented interfaces, despite their similarities, because they are implemented in this fundamentally different way: an object is a subtype of its interface, thus carries around a copy of the interface&#39;s methods directly without modifying their definition, while a type class is a separate list of functions each of which is customised by substituting type variables.  There is no subtype relationship between a type and a type class that has an instance for the type (a Haskell `Integer` isn&#39;t a subtype of `Comparable`, for example: there simply exists a `Comparable` instance that can be passed around whenever a function needs to be able to compare its parameters and those parameters happen to be Integers).\r\n\r\n[1]: The Haskell `==` operator is actually implemented using a type class, `Eq` ... I haven&#39;t used this because operator overloading in Haskell can be confusing to people not familiar with reading Haskell code.","title":"Can I define the Negatable interface in Java?","body":"<p>In general, no.</p>\n\n<p>You <em>can</em> use tricks (as suggested in the other answers) that will make this work, but they do not provide all of the same guarantees that the Haskell typeclass does.  Specifically, in Haskell, I could define a function like this:</p>\n\n<pre><code>doublyNegate :: Negatable t =&gt; t -&gt; t\ndoublyNegate v = negate (negate v)\n</code></pre>\n\n<p>It is now known that the argument and return value of <code>doublyNegate</code> are both <code>t</code>.  But the Java equivalent:</p>\n\n<pre><code>public &lt;T extends Negatable&lt;T&gt;&gt; T doublyNegate (Negatable&lt;T&gt; v)\n{\n    return v.negate().negate();\n}\n</code></pre>\n\n<p>doesn't, because <code>Negatable&lt;T&gt;</code> could be implemented by another type:</p>\n\n<pre><code>public class X implements Negatable&lt;SomeNegatableClass&gt; {\n    public SomeNegatableClass negate () { return new SomeNegatableClass(); }\n    public static void main (String[] args) { \n       new X().negate().negate();   // results in a SomeNegatableClass, not an X\n}\n</code></pre>\n\n<p>This isn't particularly serious for this application, but does cause trouble for other Haskell typeclasses, e.g. <code>Equatable</code>.  There is no way of implementing a Java <code>Equatable</code> typeclass without using an additional object and sending an instance of that object around wherever we send values that need comparing, (e.g: </p>\n\n<pre><code>public interface Equatable&lt;T&gt; {\n    boolean equal (T a, T b);\n}\npublic class MyClass\n{\n    String str;\n\n    public static class MyClassEquatable implements Equatable&lt;MyClass&gt; \n    { \n         public boolean equal (MyClass a, MyClass b) { \n             return a.str.equals(b.str);\n         } \n    }\n}\n...\npublic &lt;T&gt; methodThatNeedsToEquateThings (T a, T b, Equatable&lt;T&gt; eq)\n{\n    if (eq.equal (a, b)) { System.out.println (\"they're equal!\"); }\n}  \n</code></pre>\n\n<p>(In fact, this is exactly how Haskell implements type classes, but it hides the parameter passing from you so you don't need to figure out which implementation to send where)</p>\n\n<p>Trying to do this with just plain Java interfaces leads to some counterintuitive results:</p>\n\n<pre><code>public interface Equatable&lt;T extends Equatable&lt;T&gt;&gt;\n{\n    boolean equalTo (T other);\n}\npublic MyClass implements Equatable&lt;MyClass&gt;\n{\n    String str;\n    public boolean equalTo (MyClass other) \n    {\n        return str.equals(other.str);\n    }\n}\npublic Another implements Equatable&lt;MyClass&gt;\n{\n    public boolean equalTo (MyClass other)\n    {\n        return true;\n    }\n}\n\n....\nMyClass a = ....;\nAnother b = ....;\n\nif (b.equalTo(a))\n    assertTrue (a.equalTo(b));\n....\n</code></pre>\n\n<p>You'd expect, due to the fact that <code>equalTo</code> really ought to be defined symmetrically, that if the <code>if</code> statement there compiles, the assertion would also compile, but it doesn't, because <code>MyClass</code> isn't equatable with <code>Another</code> even though the other way around is true.  But with a Haskell <code>Equatable</code> type class, we know that if <code>areEqual a b</code> works, then <code>areEqual b a</code> is also valid.  [1]</p>\n\n<p>Another limitation of interfaces versus type classes is that a type class can provide a means of creating a value which implements the type class without having an existing value (e.g. the <code>return</code> operator for <code>Monad</code>), whereas for an interface you must already have an object of the type in order to be able to invoke its methods.</p>\n\n<p>You ask whether there is a name for this limitation, but I'm not aware of one.  It's simply because type classes are actually different to object-oriented interfaces, despite their similarities, because they are implemented in this fundamentally different way: an object is a subtype of its interface, thus carries around a copy of the interface's methods directly without modifying their definition, while a type class is a separate list of functions each of which is customised by substituting type variables.  There is no subtype relationship between a type and a type class that has an instance for the type (a Haskell <code>Integer</code> isn't a subtype of <code>Comparable</code>, for example: there simply exists a <code>Comparable</code> instance that can be passed around whenever a function needs to be able to compare its parameters and those parameters happen to be Integers).</p>\n\n<p>[1]: The Haskell <code>==</code> operator is actually implemented using a type class, <code>Eq</code> ... I haven't used this because operator overloading in Haskell can be confusing to people not familiar with reading Haskell code.</p>\n"},{"tags":[],"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1533780292,"creation_date":1533762622,"answer_id":51755695,"question_id":51738158,"body_markdown":"I interpret the question as\n\n### How can we implement ad-hoc polymorphism using typeclasses in Java?\n\nYou *can* do something very similar in Java, but without the type safety guarantees of Haskell - the solution presented below can throw errors at runtime.\n\nHere is how you can do it:\n\n 1. Define interface that represents the typeclass\n\n        interface Negatable&lt;T&gt; {\n          T negate(T t);\n        }\n\n 2. Implement some mechanism that allows you to *register instances* of the typeclass for various types. Here, a static `HashMap` will do:\n\n        static HashMap&lt;Class&lt;?&gt;, Negatable&lt;?&gt;&gt; instances = new HashMap&lt;&gt;();\n        static &lt;T&gt; void registerInstance(Class&lt;T&gt; clazz, Negatable&lt;T&gt; inst) {\n          instances.put(clazz, inst);\n        }\n        @SuppressWarnings(&quot;unchecked&quot;)\n        static &lt;T&gt; Negatable&lt;T&gt; getInstance(Class&lt;?&gt; clazz) {\n          return (Negatable&lt;T&gt;)instances.get(clazz);\n        }\n    \n 3. Define the `normalize` method that uses the above mechanism to get the appropriate instance based on the runtime class of the passed object:\n\n\n          public static &lt;T&gt; T normalize(T t) {\n            Negatable&lt;T&gt; inst = Negatable.&lt;T&gt;getInstance(t.getClass());\n            return inst.negate(inst.negate(t));\n          }\n\n 4. Register actual instances for various classes:\n\n        Negatable.registerInstance(Boolean.class, new Negatable&lt;Boolean&gt;() {\n          public Boolean negate(Boolean b) {\n            return !b;\n          }\n        });\n      \n        Negatable.registerInstance(Integer.class, new Negatable&lt;Integer&gt;() {\n          public Integer negate(Integer i) {\n            return -i;\n          }\n        });\n    \n 5. Use it!\n\n        System.out.println(normalize(false)); // Boolean `false`\n        System.out.println(normalize(42));    // Integer `42`\n\nThe main drawback is that, as already mentioned, the typeclass instance lookup can fail at runtime, not at compile-time (as in Haskell). Using a static hash map is suboptimal too, because it brings all the problems of a shared global variable, this could be mitigated with more sophisticated dependency injection mechanisms. Automatically generating typeclass instances from other typeclass instances, would require even more infrastructure (could be done in a library). But in principle, it implements ad-hoc polymorphism using typeclasses in Java.\n\nFull code:\n\n    import java.util.HashMap;\n    \n    class TypeclassInJava {\n      \n      static interface Negatable&lt;T&gt; {\n        T negate(T t);\n    \n        static HashMap&lt;Class&lt;?&gt;, Negatable&lt;?&gt;&gt; instances = new HashMap&lt;&gt;();\n        static &lt;T&gt; void registerInstance(Class&lt;T&gt; clazz, Negatable&lt;T&gt; inst) {\n          instances.put(clazz, inst);\n        }\n        @SuppressWarnings(&quot;unchecked&quot;)\n        static &lt;T&gt; Negatable&lt;T&gt; getInstance(Class&lt;?&gt; clazz) {\n          return (Negatable&lt;T&gt;)instances.get(clazz);\n        }\n      }\n    \n      public static &lt;T&gt; T normalize(T t) {\n        Negatable&lt;T&gt; inst = Negatable.&lt;T&gt;getInstance(t.getClass());\n        return inst.negate(inst.negate(t));\n      }\n    \n      static {\n        Negatable.registerInstance(Boolean.class, new Negatable&lt;Boolean&gt;() {\n          public Boolean negate(Boolean b) {\n            return !b;\n          }\n        });\n      \n        Negatable.registerInstance(Integer.class, new Negatable&lt;Integer&gt;() {\n          public Integer negate(Integer i) {\n            return -i;\n          }\n        });\n      }\n    \n      public static void main(String[] args) {\n        System.out.println(normalize(false));\n        System.out.println(normalize(42));\n      }\n    }\n","title":"Can I define the Negatable interface in Java?","body":"<p>I interpret the question as</p>\n<h3>How can we implement ad-hoc polymorphism using typeclasses in Java?</h3>\n<p>You <em>can</em> do something very similar in Java, but without the type safety guarantees of Haskell - the solution presented below can throw errors at runtime.</p>\n<p>Here is how you can do it:</p>\n<ol>\n<li><p>Define interface that represents the typeclass</p>\n<pre><code>interface Negatable&lt;T&gt; {\n  T negate(T t);\n}\n</code></pre>\n</li>\n<li><p>Implement some mechanism that allows you to <em>register instances</em> of the typeclass for various types. Here, a static <code>HashMap</code> will do:</p>\n<pre><code>static HashMap&lt;Class&lt;?&gt;, Negatable&lt;?&gt;&gt; instances = new HashMap&lt;&gt;();\nstatic &lt;T&gt; void registerInstance(Class&lt;T&gt; clazz, Negatable&lt;T&gt; inst) {\n  instances.put(clazz, inst);\n}\n@SuppressWarnings(&quot;unchecked&quot;)\nstatic &lt;T&gt; Negatable&lt;T&gt; getInstance(Class&lt;?&gt; clazz) {\n  return (Negatable&lt;T&gt;)instances.get(clazz);\n}\n</code></pre>\n</li>\n<li><p>Define the <code>normalize</code> method that uses the above mechanism to get the appropriate instance based on the runtime class of the passed object:</p>\n<pre><code>  public static &lt;T&gt; T normalize(T t) {\n    Negatable&lt;T&gt; inst = Negatable.&lt;T&gt;getInstance(t.getClass());\n    return inst.negate(inst.negate(t));\n  }\n</code></pre>\n</li>\n<li><p>Register actual instances for various classes:</p>\n<pre><code>Negatable.registerInstance(Boolean.class, new Negatable&lt;Boolean&gt;() {\n  public Boolean negate(Boolean b) {\n    return !b;\n  }\n});\n\nNegatable.registerInstance(Integer.class, new Negatable&lt;Integer&gt;() {\n  public Integer negate(Integer i) {\n    return -i;\n  }\n});\n</code></pre>\n</li>\n<li><p>Use it!</p>\n<pre><code>System.out.println(normalize(false)); // Boolean `false`\nSystem.out.println(normalize(42));    // Integer `42`\n</code></pre>\n</li>\n</ol>\n<p>The main drawback is that, as already mentioned, the typeclass instance lookup can fail at runtime, not at compile-time (as in Haskell). Using a static hash map is suboptimal too, because it brings all the problems of a shared global variable, this could be mitigated with more sophisticated dependency injection mechanisms. Automatically generating typeclass instances from other typeclass instances, would require even more infrastructure (could be done in a library). But in principle, it implements ad-hoc polymorphism using typeclasses in Java.</p>\n<p>Full code:</p>\n<pre><code>import java.util.HashMap;\n\nclass TypeclassInJava {\n  \n  static interface Negatable&lt;T&gt; {\n    T negate(T t);\n\n    static HashMap&lt;Class&lt;?&gt;, Negatable&lt;?&gt;&gt; instances = new HashMap&lt;&gt;();\n    static &lt;T&gt; void registerInstance(Class&lt;T&gt; clazz, Negatable&lt;T&gt; inst) {\n      instances.put(clazz, inst);\n    }\n    @SuppressWarnings(&quot;unchecked&quot;)\n    static &lt;T&gt; Negatable&lt;T&gt; getInstance(Class&lt;?&gt; clazz) {\n      return (Negatable&lt;T&gt;)instances.get(clazz);\n    }\n  }\n\n  public static &lt;T&gt; T normalize(T t) {\n    Negatable&lt;T&gt; inst = Negatable.&lt;T&gt;getInstance(t.getClass());\n    return inst.negate(inst.negate(t));\n  }\n\n  static {\n    Negatable.registerInstance(Boolean.class, new Negatable&lt;Boolean&gt;() {\n      public Boolean negate(Boolean b) {\n        return !b;\n      }\n    });\n  \n    Negatable.registerInstance(Integer.class, new Negatable&lt;Integer&gt;() {\n      public Integer negate(Integer i) {\n        return -i;\n      }\n    });\n  }\n\n  public static void main(String[] args) {\n    System.out.println(normalize(false));\n    System.out.println(normalize(42));\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":5327646,"reputation":1258,"user_id":5259805,"accept_rate":100,"display_name":"zale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3389,"favorite_count":0,"down_vote_count":1,"up_vote_count":53,"accepted_answer_id":51749646,"answer_count":4,"score":52,"last_activity_date":1672755876,"creation_date":1533698235,"question_id":51738158,"body_markdown":"Asking this question to clarify my understanding of type classes and higher kinded types, I&#39;m not looking for workarounds in Java.\r\n\r\n---\r\n\r\nIn Haskell, I could write something like\r\n\r\n&lt;!-- language: haskell --&gt;\r\n\r\n    class Negatable t where\r\n        negate :: t -&gt; t\r\n\r\n    normalize :: (Negatable t) =&gt; t -&gt; t\r\n    normalize x = negate (negate x)\r\n\r\nThen assuming `Bool` has an instance of `Negatable`, \r\n\r\n&lt;!-- language: haskell --&gt;\r\n\r\n    v :: Bool\r\n    v = normalize True\r\n\r\nAnd everything works fine.\r\n\r\n---\r\n\r\nIn Java, it does not seem possible to declare a proper `Negatable` interface. We could write:\r\n\r\n    interface Negatable {\r\n        Negatable negate();\r\n    }\r\n\r\n    Negatable normalize(Negatable a) {\r\n        a.negate().negate();\r\n    }\r\n\r\nBut then, unlike in Haskell, the following would not compile without a cast (assume `MyBoolean` implements `Negatable`):\r\n\r\n    MyBoolean val = normalize(new MyBoolean()); // does not compile; val is a Negatable, not a MyBoolean\r\n\r\n**Is there a way to refer to the implementing type in a Java interface, or is this a fundamental limitation of the Java type system?** If it is a limitation, is it related to higher-kinded type support? I think not: it looks like this is another sort of limitation. If so, does it have a name?\r\n\r\nThanks, and please let me know if the question is unclear!","title":"Can I define the Negatable interface in Java?","body":"<p>Asking this question to clarify my understanding of type classes and higher kinded types, I'm not looking for workarounds in Java.</p>\n\n<hr>\n\n<p>In Haskell, I could write something like</p>\n\n<pre class=\"lang-hs prettyprint-override\"><code>class Negatable t where\n    negate :: t -&gt; t\n\nnormalize :: (Negatable t) =&gt; t -&gt; t\nnormalize x = negate (negate x)\n</code></pre>\n\n<p>Then assuming <code>Bool</code> has an instance of <code>Negatable</code>, </p>\n\n<pre class=\"lang-hs prettyprint-override\"><code>v :: Bool\nv = normalize True\n</code></pre>\n\n<p>And everything works fine.</p>\n\n<hr>\n\n<p>In Java, it does not seem possible to declare a proper <code>Negatable</code> interface. We could write:</p>\n\n<pre><code>interface Negatable {\n    Negatable negate();\n}\n\nNegatable normalize(Negatable a) {\n    a.negate().negate();\n}\n</code></pre>\n\n<p>But then, unlike in Haskell, the following would not compile without a cast (assume <code>MyBoolean</code> implements <code>Negatable</code>):</p>\n\n<pre><code>MyBoolean val = normalize(new MyBoolean()); // does not compile; val is a Negatable, not a MyBoolean\n</code></pre>\n\n<p><strong>Is there a way to refer to the implementing type in a Java interface, or is this a fundamental limitation of the Java type system?</strong> If it is a limitation, is it related to higher-kinded type support? I think not: it looks like this is another sort of limitation. If so, does it have a name?</p>\n\n<p>Thanks, and please let me know if the question is unclear!</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1672679242,"post_id":74984773,"comment_id":132326267,"body_markdown":"Its not really clear what you mean here. What you say is the custom control is an fxml file which defines an `AnchorPane` and its child nodes. I dont see the method you are trying to call defined anywhere. Is there a `GuitarSpecTableController` defined anywhere?","body":"Its not really clear what you mean here. What you say is the custom control is an fxml file which defines an <code>AnchorPane</code> and its child nodes. I dont see the method you are trying to call defined anywhere. Is there a <code>GuitarSpecTableController</code> defined anywhere?"},{"owner":{"account_id":23873119,"reputation":29,"user_id":17874578,"display_name":"Tobs"},"score":0,"creation_date":1672680909,"post_id":74984773,"comment_id":132326723,"body_markdown":"@James_D the ```GuitarSpecTableController``` is the controller of the fxml file. The method I&#39;d like to call is the ```ini``` method which is part of the ```GuitarSpecTableController```.","body":"@James_D the <code>GuitarSpecTableController</code> is the controller of the fxml file. The method I&#39;d like to call is the <code>ini</code> method which is part of the <code>GuitarSpecTableController</code>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1672682457,"post_id":74984773,"comment_id":132327132,"body_markdown":"Provide the FXML for the `HomeController`.  It should import `GuitarSpecTableController` and use that instead of `AnchorPane`.  See: [Example 4-8 Using an Instance of the CustomControl Class in Markup](https://docs.oracle.com/javase/8/javafx/fxml-tutorial/custom_control.htm#BABDAAHE).","body":"Provide the FXML for the <code>HomeController</code>.  It should import <code>GuitarSpecTableController</code> and use that instead of <code>AnchorPane</code>.  See: <a href=\"https://docs.oracle.com/javase/8/javafx/fxml-tutorial/custom_control.htm#BABDAAHE\" rel=\"nofollow noreferrer\">Example 4-8 Using an Instance of the CustomControl Class in Markup</a>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1672682891,"post_id":74984773,"comment_id":132327278,"body_markdown":"I dont understand how you are using `setRoot()` without `&lt;fx:root &gt;` as the root element of the FXML. Doesnt that produce a runtime exception? Create and post a [mre] (write a new project from scratch that has just enough to reproduce the issue - including a custom control with a method you want to call - and no more, and post the entire new project here, instead of portions of your actual project).","body":"I dont understand how you are using <code>setRoot()</code> without <code>&lt;fx:root &gt;</code> as the root element of the FXML. Doesnt that produce a runtime exception? Create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (write a new project from scratch that has just enough to reproduce the issue - including a custom control with a method you want to call - and no more, and post the entire new project here, instead of portions of your actual project)."},{"owner":{"account_id":23873119,"reputation":29,"user_id":17874578,"display_name":"Tobs"},"score":1,"creation_date":1672688494,"post_id":74984773,"comment_id":132328589,"body_markdown":"@James_D okey, so I made a minimal example like you said. I wanted to thank you for being so patient &#128522;","body":"@James_D okey, so I made a minimal example like you said. I wanted to thank you for being so patient "},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1672691583,"post_id":74984773,"comment_id":132329306,"body_markdown":"Instead of `&lt;fx:include&gt;` you should just use `&lt;custom_control/&gt;`. You should, and may actually need to in this context, use proper naming conventions. I think the `FXMLLoader` can only recognize you are referring to a class if the capitalization is correct. (Youll also need the import in the FXML file.)","body":"Instead of <code>&lt;fx:include&gt;</code> you should just use <code>&lt;custom_control&#47;&gt;</code>. You should, and may actually need to in this context, use proper naming conventions. I think the <code>FXMLLoader</code> can only recognize you are referring to a class if the capitalization is correct. (Youll also need the import in the FXML file.)"},{"owner":{"account_id":23873119,"reputation":29,"user_id":17874578,"display_name":"Tobs"},"score":0,"creation_date":1672754867,"post_id":74984773,"comment_id":132342547,"body_markdown":"@James_D I finally made it work, thank you so so much. Hope you have a great day &#128522;","body":"@James_D I finally made it work, thank you so so much. Hope you have a great day "}],"answers":[{"tags":[],"owner":{"account_id":23873119,"reputation":29,"user_id":17874578,"display_name":"Tobs"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672755138,"creation_date":1672755138,"answer_id":74994517,"question_id":74984773,"body_markdown":"Okey so I figured out why I didn&#39;t work so I though I&#39;d share what problems I had.\r\n\r\n1. the name&#39;s of the packages have to start with a lower case letter not upper case\r\n2. The names of the Classes as well as the views (FXML files) have to start with a upper case letter.\r\n3. instead of `&lt;fx:include&gt;` you should use the actual tag of the control (in my case `&lt;CustomControl&gt;`) and import the FXML file\r\n\r\nWhen doing all that it finally worked.","title":"JavaFX custom control use method","body":"<p>Okey so I figured out why I didn't work so I though I'd share what problems I had.</p>\n<ol>\n<li>the name's of the packages have to start with a lower case letter not upper case</li>\n<li>The names of the Classes as well as the views (FXML files) have to start with a upper case letter.</li>\n<li>instead of <code>&lt;fx:include&gt;</code> you should use the actual tag of the control (in my case <code>&lt;CustomControl&gt;</code>) and import the FXML file</li>\n</ol>\n<p>When doing all that it finally worked.</p>\n"}],"owner":{"account_id":23873119,"reputation":29,"user_id":17874578,"display_name":"Tobs"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1672755284,"creation_date":1672676600,"question_id":74984773,"body_markdown":"I made a custom control `CustomControl` in JavaFX. \r\n\r\nThe `CustomControl` is basically just a button and a text field. It is made of a `CustomControl.fxml` and a controller `CustomControl.java`.\r\n\r\nI also have a view `TestView.fxml` which includes the `CustomControl` with a controller `TestController.java`. The `TestView.fxml` has a button. When that button is pressed it calls the method &#39;OnButtonPress&#39; from the `TestController.java`. Now in that method I would like to call the method `setText` from the controller `CustomControl.java`.\r\n\r\nNow I&#39;m facing two problems.\r\nFirst: I&#39;m getting the exception &#39;Root hasn&#39;t been set. Use method setRoot() before load.&#39;\r\n\r\nSecond: I don&#39;t know how to call the method `setText` from my custom control.\r\n\r\nHere&#39;s the code:\r\n\r\nTestView.fxml:\r\n```java\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n\r\n&lt;AnchorPane fx:controller=&quot;controller.TestController&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n    &lt;children&gt;\r\n        &lt;fx:include source=&quot;../custom_control.fxml&quot; fx:id=&quot;custom_control&quot;/&gt;\r\n      &lt;Button onAction=&quot;#OnButtonPress&quot; fx:id=&quot;button&quot; layoutX=&quot;148.0&quot; layoutY=&quot;117.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\r\n    &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\nTestController.java:\r\n```java\r\npackage controller;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.layout.VBox;\r\n\r\npublic class TestController {\r\n\r\n    @FXML\r\n    private Button button;\r\n\r\n    @FXML\r\n    private VBox custom_control;\r\n\r\n    public TestController() {\r\n    }\r\n\r\n    @FXML\r\n    private void OnButtonPress() {\r\n        // that is the method I would like to call\r\n        custom_control.setText(&quot;This is the new text&quot;);\r\n    }\r\n}\r\n```\r\n\r\nCustomControl.java:\r\n```java\r\nimport java.io.IOException;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.VBox;\r\n\r\npublic class CustomControl extends VBox {\r\n    @FXML private TextField textField;\r\n\r\n    public CustomControl() {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;custom_control.fxml&quot;));\r\n        fxmlLoader.setRoot(this);\r\n        fxmlLoader.setController(this);\r\n        \r\n        try {\r\n            fxmlLoader.load();            \r\n        } catch (IOException exception) {\r\n            throw new RuntimeException(exception);\r\n        }\r\n    }\r\n\r\n    public void setText(String text){\r\n        textField.textProperty().set(text);\r\n    }\r\n        \r\n    @FXML\r\n    protected void doSomething() {\r\n        textField.textProperty().set(&quot;The button was clicked&quot;);\r\n    }\r\n}\r\n```\r\n\r\nCustomControl.fxml:\r\n```java\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; \r\n&lt;?import javafx.scene.*?&gt;\r\n&lt;?import javafx.scene.control.*?&gt;\r\n&lt;?import javafx.scene.layout.*?&gt;\r\n\r\n&lt;fx:root type=&quot;javafx.scene.layout.VBox&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;&gt; \r\n    &lt;TextField fx:id=&quot;textField&quot;/&gt;\r\n    &lt;Button text=&quot;Click Me&quot; onAction=&quot;#doSomething&quot;/&gt;\r\n&lt;/fx:root&gt;\r\n```","title":"JavaFX custom control use method","body":"<p>I made a custom control <code>CustomControl</code> in JavaFX.</p>\n<p>The <code>CustomControl</code> is basically just a button and a text field. It is made of a <code>CustomControl.fxml</code> and a controller <code>CustomControl.java</code>.</p>\n<p>I also have a view <code>TestView.fxml</code> which includes the <code>CustomControl</code> with a controller <code>TestController.java</code>. The <code>TestView.fxml</code> has a button. When that button is pressed it calls the method 'OnButtonPress' from the <code>TestController.java</code>. Now in that method I would like to call the method <code>setText</code> from the controller <code>CustomControl.java</code>.</p>\n<p>Now I'm facing two problems.\nFirst: I'm getting the exception 'Root hasn't been set. Use method setRoot() before load.'</p>\n<p>Second: I don't know how to call the method <code>setText</code> from my custom control.</p>\n<p>Here's the code:</p>\n<p>TestView.fxml:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;AnchorPane fx:controller=&quot;controller.TestController&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n    &lt;children&gt;\n        &lt;fx:include source=&quot;../custom_control.fxml&quot; fx:id=&quot;custom_control&quot;/&gt;\n      &lt;Button onAction=&quot;#OnButtonPress&quot; fx:id=&quot;button&quot; layoutX=&quot;148.0&quot; layoutY=&quot;117.0&quot; mnemonicParsing=&quot;false&quot; text=&quot;Button&quot; /&gt;\n    &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>TestController.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package controller;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.VBox;\n\npublic class TestController {\n\n    @FXML\n    private Button button;\n\n    @FXML\n    private VBox custom_control;\n\n    public TestController() {\n    }\n\n    @FXML\n    private void OnButtonPress() {\n        // that is the method I would like to call\n        custom_control.setText(&quot;This is the new text&quot;);\n    }\n}\n</code></pre>\n<p>CustomControl.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\n\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.VBox;\n\npublic class CustomControl extends VBox {\n    @FXML private TextField textField;\n\n    public CustomControl() {\n        FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;custom_control.fxml&quot;));\n        fxmlLoader.setRoot(this);\n        fxmlLoader.setController(this);\n        \n        try {\n            fxmlLoader.load();            \n        } catch (IOException exception) {\n            throw new RuntimeException(exception);\n        }\n    }\n\n    public void setText(String text){\n        textField.textProperty().set(text);\n    }\n        \n    @FXML\n    protected void doSomething() {\n        textField.textProperty().set(&quot;The button was clicked&quot;);\n    }\n}\n</code></pre>\n<p>CustomControl.fxml:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; \n&lt;?import javafx.scene.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;fx:root type=&quot;javafx.scene.layout.VBox&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;&gt; \n    &lt;TextField fx:id=&quot;textField&quot;/&gt;\n    &lt;Button text=&quot;Click Me&quot; onAction=&quot;#doSomething&quot;/&gt;\n&lt;/fx:root&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-rest"],"comments":[{"owner":{"account_id":6676840,"reputation":2927,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1672818161,"post_id":74994460,"comment_id":132356409,"body_markdown":"`sort=book_title,asc` should actually work, could you append the exception from this usage?","body":"<code>sort=book_title,asc</code> should actually work, could you append the exception from this usage?"}],"owner":{"account_id":23895192,"reputation":76,"user_id":17894287,"display_name":"Stefan Garlonta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672755234,"creation_date":1672754892,"question_id":74994460,"body_markdown":"I am trying to sort my API result by a nested entity field.\r\n\r\nMy Entities look like that:\r\n\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;book_item&quot;)\r\npublic class BookItem {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n\r\n    @ManyToOne\r\n    @NotNull\r\n    private Book book;\r\n\r\n    ...\r\n}\r\n```\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;book&quot;)\r\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\npublic class Book {\r\n\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\r\n    @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;title&quot;, nullable = false)\r\n    private String title;\r\n\r\n    private String subtitle;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER, cascade = { CascadeType.PERSIST, CascadeType.MERGE })\r\n    @JoinTable(name = &quot;rel_book_author&quot;, joinColumns = @JoinColumn(name = &quot;book_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;author_id&quot;))\r\n    @Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\n    @JsonIgnoreProperties(value = { &quot;books&quot; }, allowSetters = true)\r\n    private Set&lt;Author&gt; authors = new HashSet&lt;&gt;();\r\n\r\n    @Column(name = &quot;isbn&quot;, nullable = false)\r\n    private String isbn;\r\n\r\n    @Column(name = &quot;pages&quot;, nullable = false)\r\n    private Integer pages;\r\n    ...\r\n}\r\n```\r\nNow I want to query all BookItems sorted by the Book titles.\r\n\r\nMy repository lloks like that:\r\n\r\n\r\n```java\r\npublic interface BookItemRepository extends JpaRepository&lt;BookItem, UUID&gt; {\r\n    @Query(\r\n        &quot;select distinct b from BookItem b left join b.book.authors authors where (upper(authors.name) like upper(concat(&#39;%&#39;, ?2, &#39;%&#39;)) or authors is NULL ) and upper(b.book.title) like upper(concat(&#39;%&#39;, ?1, &#39;%&#39;))&quot;\r\n    )\r\n    Page&lt;BookItem&gt; findAllByTitleAndAuthor(String title, String name, Pageable pageable);\r\n}\r\n```\r\n\r\n\r\n\r\nI&#39;ve implemented an Angular component which does the following request:\r\n\r\n```http\r\nGET http://localhost:9000/api/book/items?size=5&amp;sort=title,asc\r\n```\r\nI get a 500 error code:\r\n\r\n```\r\norg.hibernate.QueryException: could not resolve property: title of: org.pickwicksoft.libraary.domain.BookItem [select distinct b from org.pickwicksoft.libraary.domain.BookItem b left join b.book.authors authors where (upper(authors.name) like upper(concat(&#39;%&#39;, ?2, &#39;%&#39;)) or authors is NULL ) and upper(b.book.title) like upper(concat(&#39;%&#39;, ?1, &#39;%&#39;)) order by b.title asc, b.id asc]; nested exception is java.lang.IllegalArgumentException\r\n```\r\n\r\nI also tried the following and it also does not work:\r\n\r\n```http\r\nGET http://localhost:9000/api/book/items?size=5&amp;sort=book_title,asc\r\n```\r\n\r\nHow can I solve this problem?\r\n","title":"Spring Boot sort by nested Entity","body":"<p>I am trying to sort my API result by a nested entity field.</p>\n<p>My Entities look like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;book_item&quot;)\npublic class BookItem {\n\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n\n    @ManyToOne\n    @NotNull\n    private Book book;\n\n    ...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;book&quot;)\n@Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\npublic class Book {\n\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\n    @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\n    private Long id;\n\n    @Column(name = &quot;title&quot;, nullable = false)\n    private String title;\n\n    private String subtitle;\n\n    @ManyToMany(fetch = FetchType.EAGER, cascade = { CascadeType.PERSIST, CascadeType.MERGE })\n    @JoinTable(name = &quot;rel_book_author&quot;, joinColumns = @JoinColumn(name = &quot;book_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;author_id&quot;))\n    @Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\n    @JsonIgnoreProperties(value = { &quot;books&quot; }, allowSetters = true)\n    private Set&lt;Author&gt; authors = new HashSet&lt;&gt;();\n\n    @Column(name = &quot;isbn&quot;, nullable = false)\n    private String isbn;\n\n    @Column(name = &quot;pages&quot;, nullable = false)\n    private Integer pages;\n    ...\n}\n</code></pre>\n<p>Now I want to query all BookItems sorted by the Book titles.</p>\n<p>My repository lloks like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface BookItemRepository extends JpaRepository&lt;BookItem, UUID&gt; {\n    @Query(\n        &quot;select distinct b from BookItem b left join b.book.authors authors where (upper(authors.name) like upper(concat('%', ?2, '%')) or authors is NULL ) and upper(b.book.title) like upper(concat('%', ?1, '%'))&quot;\n    )\n    Page&lt;BookItem&gt; findAllByTitleAndAuthor(String title, String name, Pageable pageable);\n}\n</code></pre>\n<p>I've implemented an Angular component which does the following request:</p>\n<pre class=\"lang-http prettyprint-override\"><code>GET http://localhost:9000/api/book/items?size=5&amp;sort=title,asc\n</code></pre>\n<p>I get a 500 error code:</p>\n<pre><code>org.hibernate.QueryException: could not resolve property: title of: org.pickwicksoft.libraary.domain.BookItem [select distinct b from org.pickwicksoft.libraary.domain.BookItem b left join b.book.authors authors where (upper(authors.name) like upper(concat('%', ?2, '%')) or authors is NULL ) and upper(b.book.title) like upper(concat('%', ?1, '%')) order by b.title asc, b.id asc]; nested exception is java.lang.IllegalArgumentException\n</code></pre>\n<p>I also tried the following and it also does not work:</p>\n<pre class=\"lang-http prettyprint-override\"><code>GET http://localhost:9000/api/book/items?size=5&amp;sort=book_title,asc\n</code></pre>\n<p>How can I solve this problem?</p>\n"},{"tags":["java","javascript","rhino"],"comments":[{"owner":{"account_id":2365504,"reputation":1312,"user_id":2071253,"accept_rate":62,"display_name":"Julien"},"score":0,"creation_date":1365023246,"post_id":15798070,"comment_id":22464728,"body_markdown":"Is it a requirement to use Rhino ? There are others way to interact with JS in Java that are more stable than Rhino.","body":"Is it a requirement to use Rhino ? There are others way to interact with JS in Java that are more stable than Rhino."},{"owner":{"account_id":367804,"reputation":10671,"user_id":714211,"accept_rate":72,"display_name":"Doua Beri"},"score":0,"creation_date":1365033131,"post_id":15798070,"comment_id":22468647,"body_markdown":"@JulienS. can you give me more detales?","body":"@JulienS. can you give me more detales?"}],"answers":[{"comments":[{"owner":{"account_id":367804,"reputation":10671,"user_id":714211,"accept_rate":72,"display_name":"Doua Beri"},"score":0,"creation_date":1365033351,"post_id":15798106,"comment_id":22468720,"body_markdown":"yes.. you&#39;re right. I was thinking this is more like ArrayList","body":"yes.. you&#39;re right. I was thinking this is more like ArrayList"},{"owner":{"account_id":9104,"reputation":33430,"user_id":16673,"accept_rate":89,"display_name":"Suma"},"score":0,"creation_date":1672740423,"post_id":15798106,"comment_id":132337940,"body_markdown":"&quot;They&#39;re fixed-length arrays&quot;. Are you sure? It seems to me `NativeArray` is JS array, which is not fixed size. It implements `push` using its `js_push` members, beside other. Fixed-length representation is `NativeJavaArray`.","body":"&quot;They&#39;re fixed-length arrays&quot;. Are you sure? It seems to me <code>NativeArray</code> is JS array, which is not fixed size. It implements <code>push</code> using its <code>js_push</code> members, beside other. Fixed-length representation is <code>NativeJavaArray</code>."},{"owner":{"account_id":61252,"reputation":407513,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"score":0,"creation_date":1672755536,"post_id":15798106,"comment_id":132342783,"body_markdown":"@Suma you are correct. The non-implementation of `.add()` must be some design decision that may be obscure, but it&#39;s plain as day that they didn&#39;t want that behavior for the class.","body":"@Suma you are correct. The non-implementation of <code>.add()</code> must be some design decision that may be obscure, but it&#39;s plain as day that they didn&#39;t want that behavior for the class."}],"tags":[],"owner":{"account_id":61252,"reputation":407513,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672755144,"creation_date":1365023115,"answer_id":15798106,"question_id":15798070,"body_markdown":"My original answer (below) is incorrect. &quot;Native&quot; here means &quot;native JavaScript array&quot;. Why `.add()` is not implemented, given that the implementation extends the `List` interface, I can&#39;t say. It is possible however to use the JavaScript means for extending the array (`.push()` etc).\r\n\r\n&lt;hr&gt;\r\n\r\nIt doesn&#39;t make sense to implement `.add()` for a native array. They&#39;re fixed-length arrays, and the length is constant.\r\n\r\nNote that `.add()` is marked as an &quot;optional operation&quot; in the `java.util.Collection` interface.\r\n","title":"Mozilla Rhino NativeArray.add() is throwing an error - always","body":"<p>My original answer (below) is incorrect. &quot;Native&quot; here means &quot;native JavaScript array&quot;. Why <code>.add()</code> is not implemented, given that the implementation extends the <code>List</code> interface, I can't say. It is possible however to use the JavaScript means for extending the array (<code>.push()</code> etc).</p>\n<hr>\n<p>It doesn't make sense to implement <code>.add()</code> for a native array. They're fixed-length arrays, and the length is constant.</p>\n<p>Note that <code>.add()</code> is marked as an &quot;optional operation&quot; in the <code>java.util.Collection</code> interface.</p>\n"},{"tags":[],"owner":{"account_id":4330743,"reputation":36,"user_id":3536354,"display_name":"vansante"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1397571367,"creation_date":1397571367,"answer_id":23086384,"question_id":15798070,"body_markdown":"You can use the following code instead of add():\r\n\r\n    NativeArray array;\r\n    array.put(array.size(), array, result);","title":"Mozilla Rhino NativeArray.add() is throwing an error - always","body":"<p>You can use the following code instead of add():</p>\n\n<pre><code>NativeArray array;\narray.put(array.size(), array, result);\n</code></pre>\n"}],"owner":{"account_id":367804,"reputation":10671,"user_id":714211,"accept_rate":72,"display_name":"Doua Beri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1326,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1672755144,"creation_date":1365022956,"question_id":15798070,"body_markdown":"I&#39;m looking for build a javascript array in java using mozilla rhino `NativeArray` class,\r\nhowever when I try to add elements to `NativeArray` a `java.lang.UnsupportedOperationException` is thrown.\r\n\r\nhere is my code:\r\n\r\n\tNativeArray array=new NativeArray(1);\r\n\tarray.add(&quot;cccc&quot;);\r\n\r\nand here is the error I&#39;m receiving:\r\n\r\n    Caused by: java.lang.UnsupportedOperationException\r\n    \tat org.mozilla.javascript.NativeArray.add(NativeArray.java:1826)\r\n\r\nIf I create the NativeArray with a java array from the begining everything is working great. \r\n\r\n\tString[] str=new String[2];\r\n\tstr[0]=&quot;aaaa&quot;;\r\n\tstr[1]=&quot;bbbb&quot;;\r\n\tNativeArray array=new NativeArray(str);\r\n\r\n\r\nI was looking through NativeArray source code and I was surprised to see that the add method always throws an error\r\nhere is the source code: http://grepcode.com/file/repo1.maven.org/maven2/org.mozilla/rhino/1.7R4/org/mozilla/javascript/NativeArray.java#1825\r\n\r\n**Note: I&#39;m using mozilla rhino 1.7R4 which is the latest version so far**\r\n\r\nIt this a bug from mozilla rhino or am I doing something wrong?\r\n\r\nThanks","title":"Mozilla Rhino NativeArray.add() is throwing an error - always","body":"<p>I'm looking for build a javascript array in java using mozilla rhino <code>NativeArray</code> class,\nhowever when I try to add elements to <code>NativeArray</code> a <code>java.lang.UnsupportedOperationException</code> is thrown.</p>\n\n<p>here is my code:</p>\n\n<pre><code>NativeArray array=new NativeArray(1);\narray.add(\"cccc\");\n</code></pre>\n\n<p>and here is the error I'm receiving:</p>\n\n<pre><code>Caused by: java.lang.UnsupportedOperationException\n    at org.mozilla.javascript.NativeArray.add(NativeArray.java:1826)\n</code></pre>\n\n<p>If I create the NativeArray with a java array from the begining everything is working great. </p>\n\n<pre><code>String[] str=new String[2];\nstr[0]=\"aaaa\";\nstr[1]=\"bbbb\";\nNativeArray array=new NativeArray(str);\n</code></pre>\n\n<p>I was looking through NativeArray source code and I was surprised to see that the add method always throws an error\nhere is the source code: <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.mozilla/rhino/1.7R4/org/mozilla/javascript/NativeArray.java#1825\" rel=\"nofollow\">http://grepcode.com/file/repo1.maven.org/maven2/org.mozilla/rhino/1.7R4/org/mozilla/javascript/NativeArray.java#1825</a></p>\n\n<p><strong>Note: I'm using mozilla rhino 1.7R4 which is the latest version so far</strong></p>\n\n<p>It this a bug from mozilla rhino or am I doing something wrong?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","graphql-java"],"owner":{"account_id":193872,"reputation":349,"user_id":435860,"accept_rate":100,"display_name":"Oskar Lund"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672754690,"creation_date":1672754690,"question_id":74994441,"body_markdown":"#### The issue\r\n\r\nI&#39;m implementing a GraphQL api and have ran into the issue that whenever I&#39;m using any java type not defined in the local source code as part of the response then the whole response gets serialized as a String instead of as the proper json object I&#39;m expecting. I see this same issue using two different java server/grapql implementations (OpenLiberty/Microprofile &amp; KumuluzEE). This leads me to think that there is some key reason for this that I just fail to understand. Would greatly appreciate some enlightenment on this.\r\n\r\n#### In more detail\r\n\r\nLet&#39;s say I have a class `User` that looks like this:\r\n```\r\n{\r\n    String id;\r\n    String name;\r\n}\r\n```\r\nIf I define this in the source of the project that has the graphql api impl the response gets serialized properly to something like this:\r\n```\r\n{\r\n  &quot;data&quot;: {\r\n    &quot;getUser&quot;: {\r\n      &quot;id&quot;: &quot;12345&quot;,\r\n      &quot;name&quot;: &quot;John Doe&quot;\r\n    }\r\n  }\r\n}\r\n```\r\nBut if I pull in User as a dependency to my api impl project then the response will instead be something like this:\r\n```\r\n{\r\n  &quot;data&quot;: {\r\n    &quot;getUser&quot;: &quot;{\\&quot;id\\&quot;:\\&quot;12345\\&quot;, \\&quot;name\\&quot;:\\&quot;John Doe\\&quot;}&quot;\r\n  }\r\n}\r\n```\r\nEssentially useless. This leads to having to duplicate a bunch of types across microservices in the namespace. Any explanation for this behaviour or way around it would be very helpful. As mentioned at first I just guessed it was some limitation in the particular graphql impl I was using (OpenLiberty/Microprofile) but I&#39;ve now seen the same issue manifest with a different one also.\r\n\r\nMany thanks.","title":"Response objects get serialized as Strings if I use 3rd party response types","body":"<h4>The issue</h4>\n<p>I'm implementing a GraphQL api and have ran into the issue that whenever I'm using any java type not defined in the local source code as part of the response then the whole response gets serialized as a String instead of as the proper json object I'm expecting. I see this same issue using two different java server/grapql implementations (OpenLiberty/Microprofile &amp; KumuluzEE). This leads me to think that there is some key reason for this that I just fail to understand. Would greatly appreciate some enlightenment on this.</p>\n<h4>In more detail</h4>\n<p>Let's say I have a class <code>User</code> that looks like this:</p>\n<pre><code>{\n    String id;\n    String name;\n}\n</code></pre>\n<p>If I define this in the source of the project that has the graphql api impl the response gets serialized properly to something like this:</p>\n<pre><code>{\n  &quot;data&quot;: {\n    &quot;getUser&quot;: {\n      &quot;id&quot;: &quot;12345&quot;,\n      &quot;name&quot;: &quot;John Doe&quot;\n    }\n  }\n}\n</code></pre>\n<p>But if I pull in User as a dependency to my api impl project then the response will instead be something like this:</p>\n<pre><code>{\n  &quot;data&quot;: {\n    &quot;getUser&quot;: &quot;{\\&quot;id\\&quot;:\\&quot;12345\\&quot;, \\&quot;name\\&quot;:\\&quot;John Doe\\&quot;}&quot;\n  }\n}\n</code></pre>\n<p>Essentially useless. This leads to having to duplicate a bunch of types across microservices in the namespace. Any explanation for this behaviour or way around it would be very helpful. As mentioned at first I just guessed it was some limitation in the particular graphql impl I was using (OpenLiberty/Microprofile) but I've now seen the same issue manifest with a different one also.</p>\n<p>Many thanks.</p>\n"},{"tags":["java","mongodb","aws-lambda"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672754345,"creation_date":1672754345,"answer_id":74994377,"question_id":74994262,"body_markdown":"This is likely not a permission issue but more of a network access issue. \r\n\r\n1. If your Lambda is within a VPC then ensure it is allowed access to the MongoDB Atlas, subnets and ACL&#39;s should permit access.\r\n2. If Lambda is not within a VPC, then ensure your cluster has access to the public internet `0.0.0.0/0`\r\n\r\nhttps://www.mongodb.com/docs/atlas/manage-connections-aws-lambda/","title":"AWS Lambda and MongoDB Atlas Connectivity Issue","body":"<p>This is likely not a permission issue but more of a network access issue.</p>\n<ol>\n<li>If your Lambda is within a VPC then ensure it is allowed access to the MongoDB Atlas, subnets and ACL's should permit access.</li>\n<li>If Lambda is not within a VPC, then ensure your cluster has access to the public internet <code>0.0.0.0/0</code></li>\n</ol>\n<p><a href=\"https://www.mongodb.com/docs/atlas/manage-connections-aws-lambda/\" rel=\"nofollow noreferrer\">https://www.mongodb.com/docs/atlas/manage-connections-aws-lambda/</a></p>\n"}],"owner":{"account_id":5659321,"reputation":1,"user_id":20919625,"display_name":"Jacob Jeremiah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672754345,"creation_date":1672753745,"question_id":74994262,"body_markdown":"I want to create a connection to MongoDB Atlas from an AWS Lambda function. The AWS Lambda function I created is not able to connect to MongoDB Atlas using an IAM connection.\r\n\r\nThe following Java exception is thrown after attempting to connect to MongoDB Atlas.\r\n\r\n```\r\ncom.mongodb.MongoSocketOpenException: Exception opening socket\r\n\tat com.mongodb.internal.connection.SocketStream.open(SocketStream.java:73) ~[mongodb-driver-core-4.8.1.jar:?]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:183) ~[mongodb-driver-core-4.8.1.jar:?]\r\n\tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:198) [mongodb-driver-core-4.8.1.jar:?]\r\n\tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:158) [mongodb-driver-core-4.8.1.jar:?]\r\n\tat java.lang.Thread.run(Unknown Source) [?:?]\r\nCaused by: java.net.SocketTimeoutException: connect timed out\r\n\tat java.net.PlainSocketImpl.socketConnect(Native Method) ~[?:?]\r\n\tat java.net.AbstractPlainSocketImpl.doConnect(Unknown Source) ~[?:?]\r\n\tat java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source) ~[?:?]\r\n\tat java.net.AbstractPlainSocketImpl.connect(Unknown Source) ~[?:?]\r\n\tat java.net.SocksSocketImpl.connect(Unknown Source) ~[?:?]\r\n\tat java.net.Socket.connect(Unknown Source) ~[?:?]\r\n\tat sun.security.ssl.SSLSocketImpl.connect(Unknown Source) ~[?:?]\r\n\tat com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:107) ~[mongodb-driver-core-4.8.1.jar:?]\r\n\tat com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:82) ~[mongodb-driver-core-4.8.1.jar:?]\r\n\tat com.mongodb.internal.connection.SocketStream.open(SocketStream.java:68) ~[mongodb-driver-core-4.8.1.jar:?]\r\n\t... 4 more\r\n```\r\n\r\n\r\n\r\nHere&#39;s my Java code that I currently use to establish a connection to MongoDB Atlas\r\n\r\n\r\n```java    \r\n\r\n    final String accessKeyId = System.getenv(&quot;AWS_ACCESS_KEY_ID&quot;);\r\n    final String secretAccessKey = System.getenv(&quot;AWS_SECRET_ACCESS_KEY&quot;);\r\n    final Regions region = Regions.US_EAST_1;\r\n    final BasicAWSCredentials credentials = new BasicAWSCredentials(accessKeyId, secretAccessKey);\r\n\r\n    final AWSSecurityTokenService stsClient = AWSSecurityTokenServiceClientBuilder.standard()\r\n      .withCredentials(new AWSStaticCredentialsProvider(credentials))\r\n      .withRegion(region)\r\n      .build();\r\n\r\n    final AssumeRoleRequest roleRequest = new AssumeRoleRequest()\r\n      .withRoleArn(&quot;&lt;Role ARN&gt;&quot;)\r\n      .withRoleSessionName(&quot;my-session&quot;);\r\n    final AssumeRoleResult roleResponse = stsClient.assumeRole(roleRequest);\r\n    final Credentials sessionCredentials = roleResponse.getCredentials();\r\n    final ConnectionString connectionString\r\n      = new ConnectionString(&quot;mongodb+srv://&quot; + accessKeyId + &quot;:&quot; + secretAccessKey\r\n      + &quot;@cluster.e.mongodb.net/?authSource=%24external&amp;authMechanism=MONGODB-AWS&amp;retryWrites=true&amp;w=majority&amp;authMechanismProperties=AWS_SESSION_TOKEN:&quot;\r\n      + stsClient.getSessionToken().getCredentials().getSessionToken());\r\n    final MongoClientSettings settings = MongoClientSettings.builder()\r\n      .applyConnectionString(connectionString)\r\n      .serverApi(ServerApi.builder()\r\n        .version(ServerApiVersion.V1)\r\n        .build())\r\n      .build();\r\n    return MongoClients.create(settings);\r\n\r\n```\r\n\r\nHere&#39;s the IAM policy that is being used:\r\n\r\n```json\r\n{\r\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\r\n    &quot;Statement&quot;: [\r\n        {\r\n            &quot;Effect&quot;: &quot;Allow&quot;,\r\n            &quot;Action&quot;: [\r\n                &quot;sts:*&quot;,\r\n                &quot;logs:CreateLogGroup&quot;\r\n            ],\r\n            &quot;Resource&quot;: [\r\n                &quot;arn:aws:logs:***:kuungana-fn-api-log:*&quot;,\r\n                &quot;arn:aws:iam::***:role/KuunganaApiRole&quot;,\r\n                &quot;arn:aws:iam::***:user/user1&quot;\r\n            ]\r\n        },\r\n        {\r\n            &quot;Effect&quot;: &quot;Allow&quot;,\r\n            &quot;Action&quot;: [\r\n                &quot;logs:CreateLogStream&quot;,\r\n                &quot;logs:PutLogEvents&quot;\r\n            ],\r\n            &quot;Resource&quot;: &quot;arn:aws:logs:***:log-group:/aws/lambda/events_get:*&quot;\r\n        },\r\n        {\r\n            &quot;Effect&quot;: &quot;Allow&quot;,\r\n            &quot;Action&quot;: [\r\n                &quot;sts:GetSessionToken&quot;,\r\n                &quot;sts:DecodeAuthorizationMessage&quot;,\r\n                &quot;sts:GetAccessKeyInfo&quot;,\r\n                &quot;sts:GetCallerIdentity&quot;,\r\n                &quot;sts:GetServiceBearerToken&quot;,\r\n                &quot;sts:GetSessionToken&quot;\r\n            ],\r\n            &quot;Resource&quot;: &quot;*&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nHere&#39;s the trust relationships for KuunganaApiRole:\r\n\r\n\r\n```json\r\n{\r\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\r\n    &quot;Statement&quot;: [\r\n        {\r\n            &quot;Effect&quot;: &quot;Allow&quot;,\r\n            &quot;Principal&quot;: {\r\n                &quot;Service&quot;: &quot;lambda.amazonaws.com&quot;\r\n            },\r\n            &quot;Action&quot;: &quot;sts:AssumeRole&quot;\r\n        },\r\n        {\r\n            &quot;Effect&quot;: &quot;Allow&quot;,\r\n            &quot;Principal&quot;: {\r\n                &quot;AWS&quot;: &quot;arn:aws:iam::***:user/user1&quot;\r\n            },\r\n            &quot;Action&quot;: &quot;sts:AssumeRole&quot;\r\n        },\r\n        {\r\n            &quot;Effect&quot;: &quot;Allow&quot;,\r\n            &quot;Principal&quot;: {\r\n                &quot;AWS&quot;: &quot;arn:aws:sts::***:assumed-role/KuunganaApiRole/events_create&quot;\r\n            },\r\n            &quot;Action&quot;: &quot;sts:AssumeRole&quot;\r\n        }\r\n    ]\r\n}\r\n\r\n```\r\n","title":"AWS Lambda and MongoDB Atlas Connectivity Issue","body":"<p>I want to create a connection to MongoDB Atlas from an AWS Lambda function. The AWS Lambda function I created is not able to connect to MongoDB Atlas using an IAM connection.</p>\n<p>The following Java exception is thrown after attempting to connect to MongoDB Atlas.</p>\n<pre><code>com.mongodb.MongoSocketOpenException: Exception opening socket\n    at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:73) ~[mongodb-driver-core-4.8.1.jar:?]\n    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:183) ~[mongodb-driver-core-4.8.1.jar:?]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:198) [mongodb-driver-core-4.8.1.jar:?]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:158) [mongodb-driver-core-4.8.1.jar:?]\n    at java.lang.Thread.run(Unknown Source) [?:?]\nCaused by: java.net.SocketTimeoutException: connect timed out\n    at java.net.PlainSocketImpl.socketConnect(Native Method) ~[?:?]\n    at java.net.AbstractPlainSocketImpl.doConnect(Unknown Source) ~[?:?]\n    at java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source) ~[?:?]\n    at java.net.AbstractPlainSocketImpl.connect(Unknown Source) ~[?:?]\n    at java.net.SocksSocketImpl.connect(Unknown Source) ~[?:?]\n    at java.net.Socket.connect(Unknown Source) ~[?:?]\n    at sun.security.ssl.SSLSocketImpl.connect(Unknown Source) ~[?:?]\n    at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:107) ~[mongodb-driver-core-4.8.1.jar:?]\n    at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:82) ~[mongodb-driver-core-4.8.1.jar:?]\n    at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:68) ~[mongodb-driver-core-4.8.1.jar:?]\n    ... 4 more\n</code></pre>\n<p>Here's my Java code that I currently use to establish a connection to MongoDB Atlas</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    final String accessKeyId = System.getenv(&quot;AWS_ACCESS_KEY_ID&quot;);\n    final String secretAccessKey = System.getenv(&quot;AWS_SECRET_ACCESS_KEY&quot;);\n    final Regions region = Regions.US_EAST_1;\n    final BasicAWSCredentials credentials = new BasicAWSCredentials(accessKeyId, secretAccessKey);\n\n    final AWSSecurityTokenService stsClient = AWSSecurityTokenServiceClientBuilder.standard()\n      .withCredentials(new AWSStaticCredentialsProvider(credentials))\n      .withRegion(region)\n      .build();\n\n    final AssumeRoleRequest roleRequest = new AssumeRoleRequest()\n      .withRoleArn(&quot;&lt;Role ARN&gt;&quot;)\n      .withRoleSessionName(&quot;my-session&quot;);\n    final AssumeRoleResult roleResponse = stsClient.assumeRole(roleRequest);\n    final Credentials sessionCredentials = roleResponse.getCredentials();\n    final ConnectionString connectionString\n      = new ConnectionString(&quot;mongodb+srv://&quot; + accessKeyId + &quot;:&quot; + secretAccessKey\n      + &quot;@cluster.e.mongodb.net/?authSource=%24external&amp;authMechanism=MONGODB-AWS&amp;retryWrites=true&amp;w=majority&amp;authMechanismProperties=AWS_SESSION_TOKEN:&quot;\n      + stsClient.getSessionToken().getCredentials().getSessionToken());\n    final MongoClientSettings settings = MongoClientSettings.builder()\n      .applyConnectionString(connectionString)\n      .serverApi(ServerApi.builder()\n        .version(ServerApiVersion.V1)\n        .build())\n      .build();\n    return MongoClients.create(settings);\n\n</code></pre>\n<p>Here's the IAM policy that is being used:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\n    &quot;Statement&quot;: [\n        {\n            &quot;Effect&quot;: &quot;Allow&quot;,\n            &quot;Action&quot;: [\n                &quot;sts:*&quot;,\n                &quot;logs:CreateLogGroup&quot;\n            ],\n            &quot;Resource&quot;: [\n                &quot;arn:aws:logs:***:kuungana-fn-api-log:*&quot;,\n                &quot;arn:aws:iam::***:role/KuunganaApiRole&quot;,\n                &quot;arn:aws:iam::***:user/user1&quot;\n            ]\n        },\n        {\n            &quot;Effect&quot;: &quot;Allow&quot;,\n            &quot;Action&quot;: [\n                &quot;logs:CreateLogStream&quot;,\n                &quot;logs:PutLogEvents&quot;\n            ],\n            &quot;Resource&quot;: &quot;arn:aws:logs:***:log-group:/aws/lambda/events_get:*&quot;\n        },\n        {\n            &quot;Effect&quot;: &quot;Allow&quot;,\n            &quot;Action&quot;: [\n                &quot;sts:GetSessionToken&quot;,\n                &quot;sts:DecodeAuthorizationMessage&quot;,\n                &quot;sts:GetAccessKeyInfo&quot;,\n                &quot;sts:GetCallerIdentity&quot;,\n                &quot;sts:GetServiceBearerToken&quot;,\n                &quot;sts:GetSessionToken&quot;\n            ],\n            &quot;Resource&quot;: &quot;*&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Here's the trust relationships for KuunganaApiRole:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\n    &quot;Statement&quot;: [\n        {\n            &quot;Effect&quot;: &quot;Allow&quot;,\n            &quot;Principal&quot;: {\n                &quot;Service&quot;: &quot;lambda.amazonaws.com&quot;\n            },\n            &quot;Action&quot;: &quot;sts:AssumeRole&quot;\n        },\n        {\n            &quot;Effect&quot;: &quot;Allow&quot;,\n            &quot;Principal&quot;: {\n                &quot;AWS&quot;: &quot;arn:aws:iam::***:user/user1&quot;\n            },\n            &quot;Action&quot;: &quot;sts:AssumeRole&quot;\n        },\n        {\n            &quot;Effect&quot;: &quot;Allow&quot;,\n            &quot;Principal&quot;: {\n                &quot;AWS&quot;: &quot;arn:aws:sts::***:assumed-role/KuunganaApiRole/events_create&quot;\n            },\n            &quot;Action&quot;: &quot;sts:AssumeRole&quot;\n        }\n    ]\n}\n\n</code></pre>\n"},{"tags":["java","swing","arraylist","panel","game-development"],"comments":[{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":0,"creation_date":1672749668,"post_id":74993371,"comment_id":132340902,"body_markdown":"The stacktrace suggests your problem is in the `updateGameState()` method.. :)","body":"The stacktrace suggests your problem is in the <code>updateGameState()</code> method.. :)"}],"answers":[{"tags":[],"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672749739,"creation_date":1672749739,"answer_id":74993518,"question_id":74993371,"body_markdown":"This is the problem: you iterate a list and modify it at the same time..\r\n\r\n     for (Asteroid asteroid : asteroids) {\r\n                asteroid.move();\r\n                if (asteroid.isOutOfBounds()) {\r\n                    asteroids.remove(asteroid);\r\n\r\nSee here: https://stackoverflow.com/questions/20639098/in-java-can-you-modify-a-list-while-iterating-through-it","title":"Space Invaders generate initial Asteroids Java Failure","body":"<p>This is the problem: you iterate a list and modify it at the same time..</p>\n<pre><code> for (Asteroid asteroid : asteroids) {\n            asteroid.move();\n            if (asteroid.isOutOfBounds()) {\n                asteroids.remove(asteroid);\n</code></pre>\n<p>See here: <a href=\"https://stackoverflow.com/questions/20639098/in-java-can-you-modify-a-list-while-iterating-through-it\">In Java, can you modify a List while iterating through it?</a></p>\n"},{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1672895537,"post_id":74994355,"comment_id":132377393,"body_markdown":"beware: your paintComponent implementation and usage is basically wrong - never-ever call it on another component, instead add the components and let the default painting do the job!","body":"beware: your paintComponent implementation and usage is basically wrong - never-ever call it on another component, instead add the components and let the default painting do the job!"}],"tags":[],"owner":{"account_id":22995104,"reputation":9,"user_id":17120013,"display_name":"kiwY12"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672754214,"creation_date":1672754214,"answer_id":74994355,"question_id":74993371,"body_markdown":"Changing the asteroid checking `for` loop, to a default `for(int i = 0; i &lt; asteroids.size(); i++)` has fixed it.\r\n\r\nI have also moved the generation of new asteroids into the `updateGameState` method.\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.io.*;\r\nimport java.awt.Graphics;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\nimport java.util.ArrayList;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\n\r\nimport javax.sound.sampled.AudioInputStream;\r\nimport javax.sound.sampled.AudioSystem;\r\nimport javax.sound.sampled.Clip;\r\nimport javax.sound.sampled.LineUnavailableException;\r\nimport javax.sound.sampled.UnsupportedAudioFileException;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.Timer;\r\n\r\npublic class GamePanel extends JPanel implements KeyListener {\r\n\tprivate static final long serialVersionUID = -1036125108881682872L;\r\n\tprivate List&lt;Asteroid&gt; asteroids;\r\n\tprivate List&lt;Projectile&gt; projectiles;\r\n\tprivate RocketShip rocketShip;\r\n\tprivate Timer timer;\r\n\r\n\tprivate int end; // 0 - the game is still in progress\r\n\t\t\t\t\t\t// 1 - the game has ended\r\n\r\n\tpublic GamePanel() {\r\n\t\tsetBackground(Color.BLACK);\r\n\r\n\t\tasteroids = new ArrayList&lt;&gt;();\r\n\t\tprojectiles = new ArrayList&lt;&gt;();\r\n\t\trocketShip = new RocketShip(Globals.WINDOW_WIDTH / 2, Globals.SHIP_HEIGHT);\r\n\r\n\t\tthis.end = 0;\r\n\r\n\t\taddKeyListener(this);\r\n\t\tsetFocusable(true);\r\n\r\n\t\ttimer = new Timer(10, new ActionListener() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tupdateGameState(&quot;&quot;);\r\n\t\t\t\trepaint();\r\n\t\t\t}\r\n\t\t});\r\n\t\ttimer.start();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\t\trocketShip.paintComponent(g);\r\n\t\tfor (Asteroid asteroid : asteroids) {\r\n\t\t\tasteroid.paintComponent(g);\r\n\t\t}\r\n\t\tfor (Projectile projectile : projectiles) {\r\n\t\t\tprojectile.paintComponent(g);\r\n\t\t}\r\n\t\t// start and end screen, also score\r\n\t}\r\n\r\n\tpublic void updateGameState(String direction) {\r\n\t\trocketShip.move(direction);\r\n\t\trocketShip.move(direction);\r\n\t\twhile (asteroids.size() &lt; Globals.NUM_OF_ASTEROIDS) {\r\n\t\t\tasteroids.add(new Asteroid());\r\n\t\t\t//System.out.println(&quot;asteroid added\\n&quot;);\r\n\t\t}\r\n\r\n\t\tfor (int i = 0; i &lt; asteroids.size(); i++) {\r\n\t\t\tAsteroid asteroid = asteroids.get(i);\r\n\t\t\tasteroid.move();\r\n\t\t\tif (asteroid.isOutOfBounds()) {\r\n\t\t\t\tasteroids.remove(i);\r\n\t\t\t\tasteroids.add(new Asteroid());\r\n\t\t\t\ti--;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (Projectile projectile : projectiles) {\r\n\t\t\tprojectile.move();\r\n\t\t\t// projectile is out of bounds\r\n\t\t\tif (projectile.getX() - (projectile.getHeight() / 2) &gt; Globals.WINDOW_HEIGHT) {\r\n\t\t\t\tprojectiles.remove(projectile);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// check for collisions\r\n\t\t// asteoids with projectiles\r\n\t\tfor (Asteroid asteroid : asteroids) {\r\n\t\t\tfor (Projectile projectile : projectiles) {\r\n\t\t\t\tif (projectile.getX() + projectile.getWidth() &gt; asteroid.getX()\r\n\t\t\t\t\t\t&amp;&amp; projectile.getX() &lt; asteroid.getX() + asteroid.getWidth()\r\n\t\t\t\t\t\t&amp;&amp; projectile.getY() + projectile.getHeight() &gt; asteroid.getY()\r\n\t\t\t\t\t\t&amp;&amp; projectile.getY() &lt; asteroid.getY() + asteroid.getHeight()) {\r\n\t\t\t\t\tplayAsteroidDestroyedSound();\r\n\t\t\t\t\tasteroids.remove(asteroid);\r\n\t\t\t\t\tprojectiles.remove(projectile);\r\n\t\t\t\t\t// add a new asteroid\r\n\t\t\t\t\tasteroids.add(new Asteroid());\r\n\t\t\t\t\t// score increase\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// asteroids with rocketship\r\n\t\tfor (Asteroid asteroid : asteroids) {\r\n\t\t\tif (rocketShip.getX() + rocketShip.getWidth() &gt; asteroid.getX()\r\n\t\t\t\t\t&amp;&amp; rocketShip.getX() &lt; asteroid.getX() + asteroid.getWidth()\r\n\t\t\t\t\t&amp;&amp; rocketShip.getY() + rocketShip.getHeight() &gt; asteroid.getY()\r\n\t\t\t\t\t&amp;&amp; rocketShip.getY() &lt; asteroid.getY() + asteroid.getHeight()) {\r\n\t\t\t\t// rocketShip and asteroid have collided\r\n\t\t\t\tasteroids.remove(asteroid);\r\n\t\t\t\t// game over logic\r\n\t\t\t\tthis.end = 1;\r\n\t\t\t\ttimer.stop();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic void playShootingSound() {\r\n\t\ttry {\r\n\t\t\tAudioInputStream in = AudioSystem.getAudioInputStream(new File(&quot;audio/shooting.wav&quot;));\r\n\t\t\tClip clip = AudioSystem.getClip();\r\n\t\t\tclip.open(in);\r\n\t\t\tclip.start();\r\n\t\t} catch (UnsupportedAudioFileException | LineUnavailableException | IOException e) {\r\n\t\t\tSystem.out.println(&quot;ERROR: playShootingSound&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void playAsteroidDestroyedSound() {\r\n\t\ttry {\r\n\t\t\tAudioInputStream in = AudioSystem.getAudioInputStream(new File(&quot;audio/asterDestroid.wav&quot;));\r\n\t\t\tClip clip = AudioSystem.getClip();\r\n\t\t\tclip.open(in);\r\n\t\t\tclip.start();\r\n\t\t} catch (UnsupportedAudioFileException | LineUnavailableException | IOException e) {\r\n\t\t\tSystem.out.println(&quot;ERROR: playAsterDestroSound&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyTyped(KeyEvent e) {\r\n\t\tif (e.getKeyChar() == &#39; &#39;) {\r\n\t\t\tplayShootingSound();\r\n\t\t\tProjectile projectile = new Projectile(rocketShip.getX() + rocketShip.getWidth() / 2, rocketShip.getY());\r\n\t\t\tprojectiles.add(projectile);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyPressed(KeyEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tint keyCode = e.getKeyCode();\r\n\r\n\t\tif (keyCode == KeyEvent.VK_RIGHT) {\r\n\t\t\tupdateGameState(&quot;right&quot;);\r\n\t\t}\r\n\t\tif (keyCode == KeyEvent.VK_LEFT) {\r\n\t\t\tupdateGameState(&quot;left&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyReleased(KeyEvent e) {\r\n\t}\r\n\r\n}\r\n```","title":"Space Invaders generate initial Asteroids Java Failure","body":"<p>Changing the asteroid checking <code>for</code> loop, to a default <code>for(int i = 0; i &lt; asteroids.size(); i++)</code> has fixed it.</p>\n<p>I have also moved the generation of new asteroids into the <code>updateGameState</code> method.</p>\n<pre><code>import java.awt.Color;\nimport java.io.*;\nimport java.awt.Graphics;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\n\nimport javax.sound.sampled.AudioInputStream;\nimport javax.sound.sampled.AudioSystem;\nimport javax.sound.sampled.Clip;\nimport javax.sound.sampled.LineUnavailableException;\nimport javax.sound.sampled.UnsupportedAudioFileException;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class GamePanel extends JPanel implements KeyListener {\n    private static final long serialVersionUID = -1036125108881682872L;\n    private List&lt;Asteroid&gt; asteroids;\n    private List&lt;Projectile&gt; projectiles;\n    private RocketShip rocketShip;\n    private Timer timer;\n\n    private int end; // 0 - the game is still in progress\n                        // 1 - the game has ended\n\n    public GamePanel() {\n        setBackground(Color.BLACK);\n\n        asteroids = new ArrayList&lt;&gt;();\n        projectiles = new ArrayList&lt;&gt;();\n        rocketShip = new RocketShip(Globals.WINDOW_WIDTH / 2, Globals.SHIP_HEIGHT);\n\n        this.end = 0;\n\n        addKeyListener(this);\n        setFocusable(true);\n\n        timer = new Timer(10, new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                updateGameState(&quot;&quot;);\n                repaint();\n            }\n        });\n        timer.start();\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        rocketShip.paintComponent(g);\n        for (Asteroid asteroid : asteroids) {\n            asteroid.paintComponent(g);\n        }\n        for (Projectile projectile : projectiles) {\n            projectile.paintComponent(g);\n        }\n        // start and end screen, also score\n    }\n\n    public void updateGameState(String direction) {\n        rocketShip.move(direction);\n        rocketShip.move(direction);\n        while (asteroids.size() &lt; Globals.NUM_OF_ASTEROIDS) {\n            asteroids.add(new Asteroid());\n            //System.out.println(&quot;asteroid added\\n&quot;);\n        }\n\n        for (int i = 0; i &lt; asteroids.size(); i++) {\n            Asteroid asteroid = asteroids.get(i);\n            asteroid.move();\n            if (asteroid.isOutOfBounds()) {\n                asteroids.remove(i);\n                asteroids.add(new Asteroid());\n                i--;\n            }\n        }\n\n        for (Projectile projectile : projectiles) {\n            projectile.move();\n            // projectile is out of bounds\n            if (projectile.getX() - (projectile.getHeight() / 2) &gt; Globals.WINDOW_HEIGHT) {\n                projectiles.remove(projectile);\n            }\n        }\n        // check for collisions\n        // asteoids with projectiles\n        for (Asteroid asteroid : asteroids) {\n            for (Projectile projectile : projectiles) {\n                if (projectile.getX() + projectile.getWidth() &gt; asteroid.getX()\n                        &amp;&amp; projectile.getX() &lt; asteroid.getX() + asteroid.getWidth()\n                        &amp;&amp; projectile.getY() + projectile.getHeight() &gt; asteroid.getY()\n                        &amp;&amp; projectile.getY() &lt; asteroid.getY() + asteroid.getHeight()) {\n                    playAsteroidDestroyedSound();\n                    asteroids.remove(asteroid);\n                    projectiles.remove(projectile);\n                    // add a new asteroid\n                    asteroids.add(new Asteroid());\n                    // score increase\n                }\n            }\n        }\n\n        // asteroids with rocketship\n        for (Asteroid asteroid : asteroids) {\n            if (rocketShip.getX() + rocketShip.getWidth() &gt; asteroid.getX()\n                    &amp;&amp; rocketShip.getX() &lt; asteroid.getX() + asteroid.getWidth()\n                    &amp;&amp; rocketShip.getY() + rocketShip.getHeight() &gt; asteroid.getY()\n                    &amp;&amp; rocketShip.getY() &lt; asteroid.getY() + asteroid.getHeight()) {\n                // rocketShip and asteroid have collided\n                asteroids.remove(asteroid);\n                // game over logic\n                this.end = 1;\n                timer.stop();\n            }\n        }\n\n    }\n\n    public void playShootingSound() {\n        try {\n            AudioInputStream in = AudioSystem.getAudioInputStream(new File(&quot;audio/shooting.wav&quot;));\n            Clip clip = AudioSystem.getClip();\n            clip.open(in);\n            clip.start();\n        } catch (UnsupportedAudioFileException | LineUnavailableException | IOException e) {\n            System.out.println(&quot;ERROR: playShootingSound&quot;);\n        }\n    }\n\n    public void playAsteroidDestroyedSound() {\n        try {\n            AudioInputStream in = AudioSystem.getAudioInputStream(new File(&quot;audio/asterDestroid.wav&quot;));\n            Clip clip = AudioSystem.getClip();\n            clip.open(in);\n            clip.start();\n        } catch (UnsupportedAudioFileException | LineUnavailableException | IOException e) {\n            System.out.println(&quot;ERROR: playAsterDestroSound&quot;);\n        }\n    }\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n        if (e.getKeyChar() == ' ') {\n            playShootingSound();\n            Projectile projectile = new Projectile(rocketShip.getX() + rocketShip.getWidth() / 2, rocketShip.getY());\n            projectiles.add(projectile);\n        }\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        // TODO Auto-generated method stub\n        int keyCode = e.getKeyCode();\n\n        if (keyCode == KeyEvent.VK_RIGHT) {\n            updateGameState(&quot;right&quot;);\n        }\n        if (keyCode == KeyEvent.VK_LEFT) {\n            updateGameState(&quot;left&quot;);\n        }\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":22995104,"reputation":9,"user_id":17120013,"display_name":"kiwY12"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74994355,"answer_count":2,"score":-1,"last_activity_date":1672754214,"creation_date":1672748885,"question_id":74993371,"body_markdown":"I have written a Space Invaders-like game, which has a rocketShip and some Asteroid objects falling, and the objective of the game is to survive and shoot as many Asteroids as possible.\r\n\r\nI am having some trouble generating the Asteroids when the game starts.\r\nMy thought process was, that in the `GamePanel` constructor, before starting an `ActionListener` `Timer`, I generate a fixed `Globals.NUM_OF_ASTEROIDS` number of Asteroids, and whenever one gets destroyed in the `updateGameState` method, a new one gets added to the `ArrayList` of `asteroids`.\r\n\r\nI have tried a simple `for` loop to generate all asteroids, and then starting a timer. I have also tried generating the asteroids in the `timer` itself. Both solutions produce a bunch of errors:\r\n\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.util.ConcurrentModificationException\r\n\tat java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1013)\r\n\tat java.base/java.util.ArrayList$Itr.next(ArrayList.java:967)\r\n\tat GamePanel.updateGameState(GamePanel.java:65)\r\n\tat GamePanel$1.actionPerformed(GamePanel.java:42)\r\n\tat java.desktop/javax.swing.Timer.fireActionPerformed(Timer.java:311)\r\n\tat java.desktop/javax.swing.Timer$DoPostEvent.run(Timer.java:243)\r\n\tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:771)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:741)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\r\n```\r\n\r\nI am also going to attach the source code to my `GamePanel` class. Please note, that this still is an unfinished project.\r\n**I have boxed in the troubling section, which can be found in the constructor.**\r\n\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Graphics;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport javax.swing.JPanel;\r\nimport javax.swing.Timer;\r\n\r\npublic class GamePanel extends JPanel implements KeyListener {\r\n\tprivate static final long serialVersionUID = -1036125108881682872L;\r\n\tprivate List&lt;Asteroid&gt; asteroids;\r\n\tprivate List&lt;Projectile&gt; projectiles;\r\n\tprivate RocketShip rocketShip;\r\n\tprivate Timer timer;\r\n\r\n\tprivate int end;\t//0 - the game is still in progress\r\n\t\t\t\t\t\t//1\t- the game has ended\r\n\t\r\n\tpublic GamePanel() {\r\n\t\tsetBackground(Color.BLACK);\r\n\t\tasteroids = new ArrayList&lt;&gt;();\r\n\t\tprojectiles = new ArrayList&lt;&gt;();\r\n\t\trocketShip = new RocketShip(Globals.WINDOW_WIDTH / 2, Globals.SHIP_HEIGHT);\r\n\r\n\t\tthis.end = 0;\r\n\t\t\r\n\t\taddKeyListener(this);\r\n\t\tsetFocusable(true);\r\n\t\t\r\n\t\t/////////////////////////////////////////////////////////\r\n\t\t//this loop is causing the errors.\t\t\t\t\t/////\r\n\t\tfor(int i = 0; i &lt; Globals.NUM_OF_ASTEROIDS; i++) {\t/////\r\n\t\t\tasteroids.add(new Asteroid());\t\t\t\t\t/////\r\n\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t/////\r\n\t\t/////////////////////////////////////////////////////////\r\n\t\t\r\n\t\ttimer = new Timer(10, new ActionListener() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tupdateGameState(&quot;&quot;);\r\n\t\t\t\trepaint();\r\n\t\t\t}\r\n\t\t});\r\n\t\ttimer.start();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\t\trocketShip.paintComponent(g);\r\n\t\tfor (Asteroid asteroid : asteroids) {\r\n\t\t\tasteroid.paintComponent(g);\r\n\t\t}\r\n\t\tfor (Projectile projectile : projectiles) {\r\n\t\t\tprojectile.paintComponent(g);\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\t\r\n\tpublic void updateGameState(String direction) {\r\n\t\trocketShip.move(direction);\r\n\t\tfor (Asteroid asteroid : asteroids) {\r\n\t\t\tasteroid.move();\r\n\t\t\tif (asteroid.isOutOfBounds()) {\r\n\t\t\t\tasteroids.remove(asteroid);\r\n\t\t\t\tasteroids.add(new Asteroid());\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (Projectile projectile : projectiles) {\r\n\t\t\tprojectile.move();\r\n\t\t\t// projectile is out of bounds\r\n\t\t\tif (projectile.getX() - (projectile.getHeight() / 2) &gt; Globals.WINDOW_HEIGHT) {\r\n\t\t\t\tprojectiles.remove(projectile);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// check for collisions\r\n\t\t//asteoids with projectiles\r\n\t\tfor (Asteroid asteroid : asteroids) {\r\n\t\t\tfor (Projectile projectile : projectiles) {\r\n\t\t\t\tif (projectile.getX() + projectile.getWidth() &gt; asteroid.getX()\r\n\t\t\t\t\t\t&amp;&amp; projectile.getX() &lt; asteroid.getX() + asteroid.getWidth()\r\n\t\t\t\t\t\t&amp;&amp; projectile.getY() + projectile.getHeight() &gt; asteroid.getY()\r\n\t\t\t\t\t\t&amp;&amp; projectile.getY() &lt; asteroid.getY() + asteroid.getHeight()) {\r\n\t\t\t\t\tasteroids.remove(asteroid);\r\n\t\t\t\t\tprojectiles.remove(projectile);\r\n\t\t\t\t\t//add a new asteroid\r\n\t\t\t\t\tasteroids.add(new Asteroid());\r\n\t\t\t\t\t//score increase\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// asteroids with rocketship\r\n\t\tfor (Asteroid asteroid : asteroids) {\r\n\t\t\tif (rocketShip.getX() + rocketShip.getWidth() &gt; asteroid.getX()\r\n\t\t\t\t\t&amp;&amp; rocketShip.getX() &lt; asteroid.getX() + asteroid.getWidth()\r\n\t\t\t\t\t&amp;&amp; rocketShip.getY() + rocketShip.getHeight() &gt; asteroid.getY()\r\n\t\t\t\t\t&amp;&amp; rocketShip.getY() &lt; asteroid.getY() + asteroid.getHeight()) {\r\n\t\t\t\t// rocketShip and asteroid have collided\r\n\t\t\t\tasteroids.remove(asteroid);\r\n\t\t\t\t// game over logic\r\n\t\t\t\tthis.end = 1;\r\n\t\t\t\ttimer.stop();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyTyped(KeyEvent e) {\r\n\t\tif (e.getKeyChar() == &#39; &#39;) {\r\n\t\t\tProjectile projectile = new Projectile(rocketShip.getX() + rocketShip.getWidth() / 2, rocketShip.getY());\r\n\t\t\tprojectiles.add(projectile);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyPressed(KeyEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tint keyCode = e.getKeyCode();\r\n\t\t\r\n\t\tif(keyCode == KeyEvent.VK_RIGHT) {\r\n\t\t\tupdateGameState(&quot;right&quot;);\r\n\t\t}\r\n\t\tif(keyCode == KeyEvent.VK_LEFT) {\r\n\t\t\tupdateGameState(&quot;left&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyReleased(KeyEvent e) {\r\n\t}\r\n\r\n}\r\n\r\n```\r\nedit: If I remove the said section, the game will run without a problem, the moving and shooting mechanism is working correctly, but there are no asteroids spawned.\r\n\r\nAny help is vastly appreciated! Thank you for spending your time and reading my query. &lt;3\r\n","title":"Space Invaders generate initial Asteroids Java Failure","body":"<p>I have written a Space Invaders-like game, which has a rocketShip and some Asteroid objects falling, and the objective of the game is to survive and shoot as many Asteroids as possible.</p>\n<p>I am having some trouble generating the Asteroids when the game starts.\nMy thought process was, that in the <code>GamePanel</code> constructor, before starting an <code>ActionListener</code> <code>Timer</code>, I generate a fixed <code>Globals.NUM_OF_ASTEROIDS</code> number of Asteroids, and whenever one gets destroyed in the <code>updateGameState</code> method, a new one gets added to the <code>ArrayList</code> of <code>asteroids</code>.</p>\n<p>I have tried a simple <code>for</code> loop to generate all asteroids, and then starting a timer. I have also tried generating the asteroids in the <code>timer</code> itself. Both solutions produce a bunch of errors:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.util.ConcurrentModificationException\n    at java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1013)\n    at java.base/java.util.ArrayList$Itr.next(ArrayList.java:967)\n    at GamePanel.updateGameState(GamePanel.java:65)\n    at GamePanel$1.actionPerformed(GamePanel.java:42)\n    at java.desktop/javax.swing.Timer.fireActionPerformed(Timer.java:311)\n    at java.desktop/javax.swing.Timer$DoPostEvent.run(Timer.java:243)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:771)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:741)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n\n</code></pre>\n<p>I am also going to attach the source code to my <code>GamePanel</code> class. Please note, that this still is an unfinished project.\n<strong>I have boxed in the troubling section, which can be found in the constructor.</strong></p>\n<pre><code>import java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class GamePanel extends JPanel implements KeyListener {\n    private static final long serialVersionUID = -1036125108881682872L;\n    private List&lt;Asteroid&gt; asteroids;\n    private List&lt;Projectile&gt; projectiles;\n    private RocketShip rocketShip;\n    private Timer timer;\n\n    private int end;    //0 - the game is still in progress\n                        //1 - the game has ended\n    \n    public GamePanel() {\n        setBackground(Color.BLACK);\n        asteroids = new ArrayList&lt;&gt;();\n        projectiles = new ArrayList&lt;&gt;();\n        rocketShip = new RocketShip(Globals.WINDOW_WIDTH / 2, Globals.SHIP_HEIGHT);\n\n        this.end = 0;\n        \n        addKeyListener(this);\n        setFocusable(true);\n        \n        /////////////////////////////////////////////////////////\n        //this loop is causing the errors.                  /////\n        for(int i = 0; i &lt; Globals.NUM_OF_ASTEROIDS; i++) { /////\n            asteroids.add(new Asteroid());                  /////\n        }                                                   /////\n        /////////////////////////////////////////////////////////\n        \n        timer = new Timer(10, new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                updateGameState(&quot;&quot;);\n                repaint();\n            }\n        });\n        timer.start();\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        rocketShip.paintComponent(g);\n        for (Asteroid asteroid : asteroids) {\n            asteroid.paintComponent(g);\n        }\n        for (Projectile projectile : projectiles) {\n            projectile.paintComponent(g);\n        }\n    }\n\n    \n    \n    public void updateGameState(String direction) {\n        rocketShip.move(direction);\n        for (Asteroid asteroid : asteroids) {\n            asteroid.move();\n            if (asteroid.isOutOfBounds()) {\n                asteroids.remove(asteroid);\n                asteroids.add(new Asteroid());\n            }\n        }\n        for (Projectile projectile : projectiles) {\n            projectile.move();\n            // projectile is out of bounds\n            if (projectile.getX() - (projectile.getHeight() / 2) &gt; Globals.WINDOW_HEIGHT) {\n                projectiles.remove(projectile);\n            }\n        }\n        // check for collisions\n        //asteoids with projectiles\n        for (Asteroid asteroid : asteroids) {\n            for (Projectile projectile : projectiles) {\n                if (projectile.getX() + projectile.getWidth() &gt; asteroid.getX()\n                        &amp;&amp; projectile.getX() &lt; asteroid.getX() + asteroid.getWidth()\n                        &amp;&amp; projectile.getY() + projectile.getHeight() &gt; asteroid.getY()\n                        &amp;&amp; projectile.getY() &lt; asteroid.getY() + asteroid.getHeight()) {\n                    asteroids.remove(asteroid);\n                    projectiles.remove(projectile);\n                    //add a new asteroid\n                    asteroids.add(new Asteroid());\n                    //score increase\n                }\n            }\n        }\n\n        // asteroids with rocketship\n        for (Asteroid asteroid : asteroids) {\n            if (rocketShip.getX() + rocketShip.getWidth() &gt; asteroid.getX()\n                    &amp;&amp; rocketShip.getX() &lt; asteroid.getX() + asteroid.getWidth()\n                    &amp;&amp; rocketShip.getY() + rocketShip.getHeight() &gt; asteroid.getY()\n                    &amp;&amp; rocketShip.getY() &lt; asteroid.getY() + asteroid.getHeight()) {\n                // rocketShip and asteroid have collided\n                asteroids.remove(asteroid);\n                // game over logic\n                this.end = 1;\n                timer.stop();\n            }\n        }\n\n    }\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n        if (e.getKeyChar() == ' ') {\n            Projectile projectile = new Projectile(rocketShip.getX() + rocketShip.getWidth() / 2, rocketShip.getY());\n            projectiles.add(projectile);\n        }\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        // TODO Auto-generated method stub\n        int keyCode = e.getKeyCode();\n        \n        if(keyCode == KeyEvent.VK_RIGHT) {\n            updateGameState(&quot;right&quot;);\n        }\n        if(keyCode == KeyEvent.VK_LEFT) {\n            updateGameState(&quot;left&quot;);\n        }\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n    }\n\n}\n\n</code></pre>\n<p>edit: If I remove the said section, the game will run without a problem, the moving and shooting mechanism is working correctly, but there are no asteroids spawned.</p>\n<p>Any help is vastly appreciated! Thank you for spending your time and reading my query. &lt;3</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":4571130,"reputation":4198,"user_id":3710800,"accept_rate":100,"display_name":"Guillaume Barr&#233;"},"score":0,"creation_date":1462519287,"post_id":37066506,"comment_id":61678694,"body_markdown":"Possible duplicate of [How can I find all unused methods of my project in the Android Studio IDEA?](http://stackoverflow.com/questions/33674592/how-can-i-find-all-unused-methods-of-my-project-in-the-android-studio-idea)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/33674592/how-can-i-find-all-unused-methods-of-my-project-in-the-android-studio-idea\">How can I find all unused methods of my project in the Android Studio IDEA?</a>"},{"owner":{"account_id":1880927,"reputation":2243,"user_id":1701154,"accept_rate":0,"display_name":"bilal"},"score":0,"creation_date":1462519639,"post_id":37066506,"comment_id":61678878,"body_markdown":"@Nirekin My question is to &quot;Remove Unused classes and methods&quot; not &quot;find unused methods&quot;","body":"@Nirekin My question is to &quot;Remove Unused classes and methods&quot; not &quot;find unused methods&quot;"},{"owner":{"account_id":261539,"reputation":19938,"user_id":981715,"accept_rate":74,"display_name":"Eugen Martynov"},"score":0,"creation_date":1462522005,"post_id":37066506,"comment_id":61680134,"body_markdown":"I believe it is not automated. you have to do it by hands","body":"I believe it is not automated. you have to do it by hands"}],"answers":[{"comments":[{"owner":{"account_id":261539,"reputation":19938,"user_id":981715,"accept_rate":74,"display_name":"Eugen Martynov"},"score":11,"creation_date":1462522072,"post_id":37067344,"comment_id":61680161,"body_markdown":"I believe topic starter is bothered with Android Studio findings and not about cleaning apk from unused methods","body":"I believe topic starter is bothered with Android Studio findings and not about cleaning apk from unused methods"},{"owner":{"display_name":"user4918296"},"score":1,"creation_date":1462522379,"post_id":37067344,"comment_id":61680317,"body_markdown":"@EugenMartynov Maybe, but it is not clearly stated in the question. Maybe OP can shed some light on it.","body":"@EugenMartynov Maybe, but it is not clearly stated in the question. Maybe OP can shed some light on it."},{"owner":{"account_id":8616116,"reputation":555,"user_id":6452886,"accept_rate":44,"display_name":"Madhan"},"score":2,"creation_date":1488276009,"post_id":37067344,"comment_id":72148777,"body_markdown":"You are telling the solution for removing unused methods at runtime. Need to remove the unused methods while developing.","body":"You are telling the solution for removing unused methods at runtime. Need to remove the unused methods while developing."}],"tags":[],"owner":{"display_name":"user4918296"},"comment_count":3,"down_vote_count":6,"up_vote_count":14,"is_accepted":false,"score":8,"last_activity_date":1572921887,"creation_date":1462522003,"answer_id":37067344,"question_id":37066506,"body_markdown":"Android ships with ProGuard and can do what you want. If you are using Gradle as build system then you can add the following lines in your `build.gradle` file:\r\n\r\n    android {\r\n\r\n        // ... other configurations\r\n\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;)\r\n                signingConfig signingConfigs.release\r\n            }\r\n            debug {\r\n    \t\t    minifyEnabled true\r\n         \t\tproguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;),\r\n                    &#39;proguard-rules-debug.pro&#39;\r\n    \t    }\r\n        }\r\n    }\r\n\r\nYour `proguard-rules-debug.pro` file only needs to contain one line\r\n\r\n    -dontobfuscate\r\n\r\nWith this additions your release build will get shrunk and obfuscated, your debug build, however, will get only shrunk, i.e, unnecessary code is removed.\r\n Note, that ProGuard operates on the build and not the source code.\r\n\r\nThe [ProGuard FAQ][1] has some more information of what it can do.\r\n\r\n\r\n  [1]: http://proguard.sourceforge.net/FAQ.html#shrinking","title":"Remove all unused classes,methods from Android Studio project","body":"<p>Android ships with ProGuard and can do what you want. If you are using Gradle as build system then you can add the following lines in your <code>build.gradle</code> file:</p>\n\n<pre><code>android {\n\n    // ... other configurations\n\n    buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt')\n            signingConfig signingConfigs.release\n        }\n        debug {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'),\n                'proguard-rules-debug.pro'\n        }\n    }\n}\n</code></pre>\n\n<p>Your <code>proguard-rules-debug.pro</code> file only needs to contain one line</p>\n\n<pre><code>-dontobfuscate\n</code></pre>\n\n<p>With this additions your release build will get shrunk and obfuscated, your debug build, however, will get only shrunk, i.e, unnecessary code is removed.\n Note, that ProGuard operates on the build and not the source code.</p>\n\n<p>The <a href=\"http://proguard.sourceforge.net/FAQ.html#shrinking\" rel=\"nofollow noreferrer\">ProGuard FAQ</a> has some more information of what it can do.</p>\n"},{"comments":[{"owner":{"account_id":8109587,"reputation":909,"user_id":6110146,"display_name":"Mr Mike"},"score":0,"creation_date":1542181989,"post_id":49963225,"comment_id":93471558,"body_markdown":"Hi, I can not see Kotlin | Redundant constructs | Unused symbol option.\nCould you help","body":"Hi, I can not see Kotlin | Redundant constructs | Unused symbol option. Could you help"},{"owner":{"account_id":3588643,"reputation":1615,"user_id":2995178,"display_name":"KursoR"},"score":8,"creation_date":1542205380,"post_id":49963225,"comment_id":93485405,"body_markdown":"@MrMike inspections in `Analyze -&gt; Run inspection by name...` can&#39;t be found by full names, you can try just `Unused symbol`. https://i.stack.imgur.com/lwTwx.png","body":"@MrMike inspections in <code>Analyze -&gt; Run inspection by name...</code> can&#39;t be found by full names, you can try just <code>Unused symbol</code>. <a href=\"https://i.stack.imgur.com/lwTwx.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/lwTwx.png</a>"}],"tags":[],"owner":{"account_id":3588643,"reputation":1615,"user_id":2995178,"display_name":"KursoR"},"comment_count":2,"down_vote_count":0,"up_vote_count":79,"is_accepted":false,"score":79,"last_activity_date":1672754040,"creation_date":1524378847,"answer_id":49963225,"question_id":37066506,"body_markdown":"This can be achieved by using the built-in inspection `Java | Declaration redundancy | Unused declaration`.\r\n\r\nTo run it on whole project go to `Code -&gt; Analyze -&gt; Run inspection by name...`, type `Unused declaration` and select desired scope.\r\nThen carefully check output and mark some classes as entry points if needed.\r\n\r\nNow you can select `Unused declaration` node in list and perform `Safe delete` action on all unused declarations at once.\r\n\r\n[![Inspection result][1]][1]\r\n\r\nFor Kotlin there is similar inspection `Kotlin | Redundant constructs | Unused symbol`.\r\n\r\n  [1]: https://i.stack.imgur.com/bpyEa.png","title":"Remove all unused classes,methods from Android Studio project","body":"<p>This can be achieved by using the built-in inspection <code>Java | Declaration redundancy | Unused declaration</code>.</p>\n<p>To run it on whole project go to <code>Code -&gt; Analyze -&gt; Run inspection by name...</code>, type <code>Unused declaration</code> and select desired scope.\nThen carefully check output and mark some classes as entry points if needed.</p>\n<p>Now you can select <code>Unused declaration</code> node in list and perform <code>Safe delete</code> action on all unused declarations at once.</p>\n<p><a href=\"https://i.stack.imgur.com/bpyEa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bpyEa.png\" alt=\"Inspection result\" /></a></p>\n<p>For Kotlin there is similar inspection <code>Kotlin | Redundant constructs | Unused symbol</code>.</p>\n"},{"tags":[],"owner":{"account_id":259035,"reputation":12666,"user_id":541624,"accept_rate":64,"display_name":"ericn"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636638094,"creation_date":1608067344,"answer_id":65313898,"question_id":37066506,"body_markdown":"Step 1\r\n\r\nGenerate usage.txt and mapping.txt with Proguard or R8\r\n\r\n - Add `-printusage` to your proguard.pro file Run\r\n\r\n - `./gradlew app:minifyReleaseWithProguard` or `./gradlew app:minifyReleaseWithR8`\r\n\r\nStep 2\r\n\r\nFind class name records that is in usage.txt but **not** in mapping.txt, those are the unused classes that are removed by Proguard/ R8\r\nIt&#39;s not hard to write such algorithm but you can consider using HashTable or Binary Tree.\r\n\r\nI&#39;ve elaborated more [here][1]\r\n\r\n\r\n  [1]: https://ericntd.medium.com/find-unused-classes-in-android-codebase-c3c9fc686f4b","title":"Remove all unused classes,methods from Android Studio project","body":"<p>Step 1</p>\n<p>Generate usage.txt and mapping.txt with Proguard or R8</p>\n<ul>\n<li><p>Add <code>-printusage</code> to your proguard.pro file Run</p>\n</li>\n<li><p><code>./gradlew app:minifyReleaseWithProguard</code> or <code>./gradlew app:minifyReleaseWithR8</code></p>\n</li>\n</ul>\n<p>Step 2</p>\n<p>Find class name records that is in usage.txt but <strong>not</strong> in mapping.txt, those are the unused classes that are removed by Proguard/ R8\nIt's not hard to write such algorithm but you can consider using HashTable or Binary Tree.</p>\n<p>I've elaborated more <a href=\"https://ericntd.medium.com/find-unused-classes-in-android-codebase-c3c9fc686f4b\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":1880927,"reputation":2243,"user_id":1701154,"accept_rate":0,"display_name":"bilal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47115,"favorite_count":0,"down_vote_count":1,"up_vote_count":61,"answer_count":3,"score":60,"last_activity_date":1672754040,"creation_date":1462519031,"question_id":37066506,"body_markdown":"I have used the lint(**Analyze-&gt;Inspect** Code...) and find out unused methods and resources. All the unused resources removed by **Refractor-&gt;Remove unused Resources** but not found any option like this to remove java classes and methods. \r\nIs there any feature in the android studio or any Plugin which can remove all the java classes, the methods which are not used in code to save manual refracting?","title":"Remove all unused classes,methods from Android Studio project","body":"<p>I have used the lint(<strong>Analyze->Inspect</strong> Code...) and find out unused methods and resources. All the unused resources removed by <strong>Refractor->Remove unused Resources</strong> but not found any option like this to remove java classes and methods. \nIs there any feature in the android studio or any Plugin which can remove all the java classes, the methods which are not used in code to save manual refracting?</p>\n"},{"tags":["java","rest","spring-mvc","resttemplate"],"comments":[{"owner":{"account_id":18002520,"reputation":324,"user_id":13084140,"display_name":"Ryednap"},"score":2,"creation_date":1672753057,"post_id":74994057,"comment_id":132341962,"body_markdown":"Provide the code that&#39;s giving you an exception rather than just stating it... `401 Unauthorized` occurs when you have something wrong with the security token or  authorization header","body":"Provide the code that&#39;s giving you an exception rather than just stating it... <code>401 Unauthorized</code> occurs when you have something wrong with the security token or  authorization header"},{"owner":{"account_id":14615721,"reputation":26,"user_id":10555874,"display_name":"Majid Khakwani"},"score":0,"creation_date":1672753652,"post_id":74994057,"comment_id":132342152,"body_markdown":"@Ryednap code sample updated","body":"@Ryednap code sample updated"},{"owner":{"account_id":18002520,"reputation":324,"user_id":13084140,"display_name":"Ryednap"},"score":0,"creation_date":1672755453,"post_id":74994057,"comment_id":132342750,"body_markdown":"does the error occurs while creating a request at `/uploadPEFile` endpoint or does the error occurs during the execution of this statement `String response = restTemplate.postForObject(requestUrl, requestEntity, String.class);` Anyways it&#39;s hard to track `401 Unauthorized` like this. If the error occurs during `/uploadPeFile` then you should be having spring security declining authorization at this endpoint, and if the error occurs during the execution of `RestTemplate` this means that the post request requires auth header","body":"does the error occurs while creating a request at <code>&#47;uploadPEFile</code> endpoint or does the error occurs during the execution of this statement <code>String response = restTemplate.postForObject(requestUrl, requestEntity, String.class);</code> Anyways it&#39;s hard to track <code>401 Unauthorized</code> like this. If the error occurs during <code>&#47;uploadPeFile</code> then you should be having spring security declining authorization at this endpoint, and if the error occurs during the execution of <code>RestTemplate</code> this means that the post request requires auth header"},{"owner":{"account_id":14615721,"reputation":26,"user_id":10555874,"display_name":"Majid Khakwani"},"score":0,"creation_date":1672757803,"post_id":74994057,"comment_id":132343555,"body_markdown":"error occurs during the execution of this statement\nString response = restTemplate.postForObject(requestUrl, requestEntity, String.class);\n@Ryednap","body":"error occurs during the execution of this statement String response = restTemplate.postForObject(requestUrl, requestEntity, String.class); @Ryednap"},{"owner":{"account_id":18002520,"reputation":324,"user_id":13084140,"display_name":"Ryednap"},"score":0,"creation_date":1672758595,"post_id":74994057,"comment_id":132343833,"body_markdown":"Then the request `requestUrl` requires some authorization. It seems you need to provide auth header in the request of your `RestTemplate`. Kindly check and confirm first if you have access to the server handling the request at the `requestURl` endpoint.","body":"Then the request <code>requestUrl</code> requires some authorization. It seems you need to provide auth header in the request of your <code>RestTemplate</code>. Kindly check and confirm first if you have access to the server handling the request at the <code>requestURl</code> endpoint."},{"owner":{"account_id":14615721,"reputation":26,"user_id":10555874,"display_name":"Majid Khakwani"},"score":0,"creation_date":1672760123,"post_id":74994057,"comment_id":132344398,"body_markdown":"@Ryednap I have accessed this service from postman without authorization.","body":"@Ryednap I have accessed this service from postman without authorization."},{"owner":{"account_id":18002520,"reputation":324,"user_id":13084140,"display_name":"Ryednap"},"score":0,"creation_date":1672761964,"post_id":74994057,"comment_id":132345001,"body_markdown":"Can you check if there&#39;s any authorization on the `Authorization` tab of the postman? Look `401 Unauthorized` doesn&#39;t occur by any other means. It&#39;s not like `400` or `500` error.","body":"Can you check if there&#39;s any authorization on the <code>Authorization</code> tab of the postman? Look <code>401 Unauthorized</code> doesn&#39;t occur by any other means. It&#39;s not like <code>400</code> or <code>500</code> error."},{"owner":{"account_id":14615721,"reputation":26,"user_id":10555874,"display_name":"Majid Khakwani"},"score":0,"creation_date":1672762247,"post_id":74994057,"comment_id":132345089,"body_markdown":"@Ryednap no there is no Authorization header or any authorization on the postman. I have checked. one more thing this endpoint I am accessing is written in PHP this might be the reason.","body":"@Ryednap no there is no Authorization header or any authorization on the postman. I have checked. one more thing this endpoint I am accessing is written in PHP this might be the reason."},{"owner":{"account_id":18002520,"reputation":324,"user_id":13084140,"display_name":"Ryednap"},"score":0,"creation_date":1672762814,"post_id":74994057,"comment_id":132345284,"body_markdown":"I don&#39;t know I am out of ideas now. Just looking at the information you have provided it&#39;s hard to know about the bug.","body":"I don&#39;t know I am out of ideas now. Just looking at the information you have provided it&#39;s hard to know about the bug."}],"owner":{"account_id":14615721,"reputation":26,"user_id":10555874,"display_name":"Majid Khakwani"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672754020,"creation_date":1672752737,"question_id":74994057,"body_markdown":"I need to upload a file through the spring MVC rest template for the below params shown in the image.\r\n[![Request Details][1]][1]\r\n\r\nI have tried different approaches but it&#39;s not working giving exception 401 Unauthorized.\r\nI need code that uploads files through spring MVC RestTemplate.\r\nI have shared my code below which is not working.I have tried different ways to attach file but they are not working please check my code.\r\n\r\n**My Code Sample:**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    \t@RequestMapping(value = &quot;/uploadPEFile&quot;, method = { RequestMethod.POST}, \r\n    \t\t\t\tproduces = &quot;application/json&quot;)\r\n    \t\t@ResponseBody\r\n    \t\tpublic String uploadPEFile(@RequestParam(value = &quot;file&quot;, required = false) MultipartFile file,\r\n    \t\t\t\tHttpServletRequest request, HttpServletResponse httpResponse) {\r\n    \t\t\tJsonResponse objResponse = null;\r\n    \t\t\tString enterpriseId = &quot;&quot;;\r\n    \t\t\tString enterpriseName = &quot;&quot;;\r\n    \t\t\tString type = &quot;&quot;;\r\n    \t\t\tString productId = &quot;&quot;;\r\n    \t\t\tString userIds = &quot;&quot;;\r\n    \t\t\tString title = &quot;&quot;;\r\n    \t\t\tString description = &quot;&quot;;\r\n    \t\t\tString date = &quot;&quot;;\r\n    \t\t\tString externalUrl = &quot;&quot;;\r\n    \t\t\tString presenterName = &quot;&quot;;\r\n    \t\t\ttry {\r\n\r\n    \t\t\t\tenterpriseId = request.getParameter(&quot;enterpriseId&quot;);\r\n    \t\t\t\tenterpriseName = request.getParameter(&quot;enterpriseName&quot;);\r\n    \t\t\t\ttype = request.getParameter(&quot;type&quot;);\r\n    \t\t\t\tproductId = request.getParameter(&quot;productId&quot;);\r\n    \t\t\t\tuserIds = request.getParameter(&quot;userIds&quot;);\r\n    \t\t\t\ttitle = request.getParameter(&quot;title&quot;);\r\n    \t\t\t\tdescription = request.getParameter(&quot;description&quot;);\r\n    \t\t\t\tdate = request.getParameter(&quot;date&quot;);\r\n    \t\t\t\tif(date != null &amp;&amp; !date.isEmpty())\r\n    \t\t\t\t{\r\n    \t\t\t\t\tString [] dateArray = date.split(&quot; &quot;);\r\n    \t\t\t\t\tdate = dateArray[2]+&quot; &quot;+getMonth(dateArray[1])+&quot;, &quot;+dateArray[3];\r\n    \t\t\t\t}\r\n    \t\t\t\texternalUrl = request.getParameter(&quot;externalURL&quot;);\r\n    \t\t\t\tpresenterName = request.getParameter(&quot;presenterName&quot;);\r\n    \t\t\t\tJsonObject jsonBody = new JsonObject();\r\n    \t\t\t\tjsonBody.addProperty(&quot;title&quot;, title);\r\n    \t\t\t\tjsonBody.addProperty(&quot;description&quot;, description);\r\n    \t\t\t\tjsonBody.addProperty(&quot;date&quot;, date);\r\n    \t\t\t\tjsonBody.addProperty(&quot;external_url&quot;, externalUrl);\r\n    \t\t\t\tjsonBody.addProperty(&quot;presenter_name&quot;, presenterName);\r\n    \t\t\t\tString cmsDeviceId = PortalUtil.getPropertyValue(&quot;cms.device.id&quot;);\r\n    \t\t\t\r\n    \t\t\t\t\t\tif (file != null) {\r\n    \t\t\t\t\tfinal String filename = file.getOriginalFilename();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tByteArrayResource fileAsResource = new ByteArrayResource(file.getBytes()) {\r\n    \t\t\t\t\t\t@Override\r\n    \t\t\t\t\t\tpublic String getFilename() {\r\n    \t\t\t\t\t\t\treturn filename;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t};\r\n    \t\t\t\t\tString filePath = &quot;/persivia edge/&quot;+type+&quot;/&quot;+filename;\r\n    \t\t\t\t\tFile userFile = new File(System.getProperty(PortalConstants.cdnPath) + filePath);\r\n    \t\t\t\t\tif(!userFile.exists()) {\r\n    \t\t\t\t\t\tuserFile.mkdirs();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tfile.transferTo(userFile);\r\n    \t\t\t\t\tHttpHeaders headers = new HttpHeaders();\r\n    \t\t\t\t\theaders.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n    \t\t\t\t\tMultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n    \t\t\t\t\tbody.add(&quot;device_id&quot;,cmsDeviceId);\r\n    //\t\t\t\t\tbody.add(&quot;attachment&quot;,fileAsResource);\r\n    //\t\t\t\t\tbody.add(&quot;attachment&quot;,new MultipartInputStreamFileResource(file.getInputStream(), file.getOriginalFilename()));\r\n    \t\t\t\t\tbody.add(&quot;attachment&quot;,new FileSystemResource(filePath));\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tbody.add(&quot;source&quot;, &quot;web&quot;);\r\n    \t\t\t\t\tbody.add(&quot;filename&quot;, filename);\r\n    \t\t\t\t\tbody.add(&quot;enterprise_id&quot;, enterpriseId);\r\n    \t\t\t\t\tbody.add(&quot;enterpriseName&quot;, enterpriseName);\r\n    \t\t\t\t\tbody.add(&quot;type&quot;, type);\r\n    \t\t\t\t\tbody.add(&quot;product_id&quot;,productId);\r\n    \t\t\t\t\tbody.add(&quot;userIds&quot;,userIds);\r\n    \t\t\t\t\tbody.add(&quot;body&quot;, jsonBody.toString());\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tHttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\r\n    \t\t\t\t\tRestTemplate restTemplate = new RestTemplate();\r\n    \t\t\t\t\tString requestUrl = PortalUtil.getPropertyValue(&quot;cms.api.url&quot;)+&quot;wp-json/wp/v2/upload_content&quot;;\r\n    \t\t\t\t\tString response = restTemplate.postForObject(requestUrl, requestEntity, String.class);\r\n    \t\t\t\t\thttpResponse.setStatus(HttpServletResponse.SC_OK);\r\n    \t\t\t\t\tJsonObject data = new JsonObject();\r\n    \t\t\t\t\tobjResponse = JsonResponse.build(ResponseStatus.status200, ResponseStatus.message200,\r\n    \t\t\t\t\t\t\t&quot;Logo info updated successfully&quot;, data);\r\n    \t\t\t\t}\r\n\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t\tlogger.error(e.getMessage(), e.getCause());\r\n\r\n    \t\t\t\tobjResponse = JsonResponse.build(ResponseStatus.status500, ResponseStatus.message500,\r\n    \t\t\t\t\t\te.getMessage(), null);\r\n\r\n    \t\t\t\thttpResponse.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\r\n    \t\t\t}\r\n    \t\t\treturn new Gson().toJson(objResponse);\r\n    \t\t}\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Pqecq.png","title":"Java Upload file Rest Template","body":"<p>I need to upload a file through the spring MVC rest template for the below params shown in the image.\n<a href=\"https://i.stack.imgur.com/Pqecq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pqecq.png\" alt=\"Request Details\" /></a></p>\n<p>I have tried different approaches but it's not working giving exception 401 Unauthorized.\nI need code that uploads files through spring MVC RestTemplate.\nI have shared my code below which is not working.I have tried different ways to attach file but they are not working please check my code.</p>\n<p><strong>My Code Sample:</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    @RequestMapping(value = \"/uploadPEFile\", method = { RequestMethod.POST}, \n                produces = \"application/json\")\n        @ResponseBody\n        public String uploadPEFile(@RequestParam(value = \"file\", required = false) MultipartFile file,\n                HttpServletRequest request, HttpServletResponse httpResponse) {\n            JsonResponse objResponse = null;\n            String enterpriseId = \"\";\n            String enterpriseName = \"\";\n            String type = \"\";\n            String productId = \"\";\n            String userIds = \"\";\n            String title = \"\";\n            String description = \"\";\n            String date = \"\";\n            String externalUrl = \"\";\n            String presenterName = \"\";\n            try {\n\n                enterpriseId = request.getParameter(\"enterpriseId\");\n                enterpriseName = request.getParameter(\"enterpriseName\");\n                type = request.getParameter(\"type\");\n                productId = request.getParameter(\"productId\");\n                userIds = request.getParameter(\"userIds\");\n                title = request.getParameter(\"title\");\n                description = request.getParameter(\"description\");\n                date = request.getParameter(\"date\");\n                if(date != null &amp;&amp; !date.isEmpty())\n                {\n                    String [] dateArray = date.split(\" \");\n                    date = dateArray[2]+\" \"+getMonth(dateArray[1])+\", \"+dateArray[3];\n                }\n                externalUrl = request.getParameter(\"externalURL\");\n                presenterName = request.getParameter(\"presenterName\");\n                JsonObject jsonBody = new JsonObject();\n                jsonBody.addProperty(\"title\", title);\n                jsonBody.addProperty(\"description\", description);\n                jsonBody.addProperty(\"date\", date);\n                jsonBody.addProperty(\"external_url\", externalUrl);\n                jsonBody.addProperty(\"presenter_name\", presenterName);\n                String cmsDeviceId = PortalUtil.getPropertyValue(\"cms.device.id\");\n            \n                        if (file != null) {\n                    final String filename = file.getOriginalFilename();\n                    \n                    ByteArrayResource fileAsResource = new ByteArrayResource(file.getBytes()) {\n                        @Override\n                        public String getFilename() {\n                            return filename;\n                        }\n                    };\n                    String filePath = \"/persivia edge/\"+type+\"/\"+filename;\n                    File userFile = new File(System.getProperty(PortalConstants.cdnPath) + filePath);\n                    if(!userFile.exists()) {\n                        userFile.mkdirs();\n                    }\n                    file.transferTo(userFile);\n                    HttpHeaders headers = new HttpHeaders();\n                    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n                    MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n                    body.add(\"device_id\",cmsDeviceId);\n//                  body.add(\"attachment\",fileAsResource);\n//                  body.add(\"attachment\",new MultipartInputStreamFileResource(file.getInputStream(), file.getOriginalFilename()));\n                    body.add(\"attachment\",new FileSystemResource(filePath));\n                    \n                    body.add(\"source\", \"web\");\n                    body.add(\"filename\", filename);\n                    body.add(\"enterprise_id\", enterpriseId);\n                    body.add(\"enterpriseName\", enterpriseName);\n                    body.add(\"type\", type);\n                    body.add(\"product_id\",productId);\n                    body.add(\"userIds\",userIds);\n                    body.add(\"body\", jsonBody.toString());\n                    \n                    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\n                    RestTemplate restTemplate = new RestTemplate();\n                    String requestUrl = PortalUtil.getPropertyValue(\"cms.api.url\")+\"wp-json/wp/v2/upload_content\";\n                    String response = restTemplate.postForObject(requestUrl, requestEntity, String.class);\n                    httpResponse.setStatus(HttpServletResponse.SC_OK);\n                    JsonObject data = new JsonObject();\n                    objResponse = JsonResponse.build(ResponseStatus.status200, ResponseStatus.message200,\n                            \"Logo info updated successfully\", data);\n                }\n\n            } catch (Exception e) {\n                e.printStackTrace();\n                logger.error(e.getMessage(), e.getCause());\n\n                objResponse = JsonResponse.build(ResponseStatus.status500, ResponseStatus.message500,\n                        e.getMessage(), null);\n\n                httpResponse.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\n            }\n            return new Gson().toJson(objResponse);\n        }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","loops","for-loop","while-loop","do-while"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":0,"creation_date":1648083028,"post_id":71595781,"comment_id":126537262,"body_markdown":"Show your attempts.","body":"Show your attempts."},{"owner":{"account_id":3354520,"reputation":5062,"user_id":2817802,"accept_rate":100,"display_name":"Baby"},"score":0,"creation_date":1648083318,"post_id":71595781,"comment_id":126537320,"body_markdown":"in your while loop, just swap the number 10 and 1 and replace `i--` with `i++`","body":"in your while loop, just swap the number 10 and 1 and replace <code>i--</code> with <code>i++</code>"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1648083324,"post_id":71595781,"comment_id":126537322,"body_markdown":"`while (i++ &lt; 20) System.out.println(i - 9);`","body":"<code>while (i++ &lt; 20) System.out.println(i - 9);</code>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648084465,"creation_date":1648084139,"answer_id":71595892,"question_id":71595781,"body_markdown":"Assuming you must use `i` with an initial value of `10`.\r\n```\r\nfor(int i = 10; i &gt; 0; i--) {\r\n\tSystem.out.println(11-i);\r\n}\r\n\r\n// or using a while loop\r\nint i = 10;\r\nwhile(i &gt; 0) {\r\n    System.out.println(11-i--);\r\n}","title":"How to print number 1 to 10(in that sequence only)using loops(java) if int i = 10","body":"<p>Assuming you must use <code>i</code> with an initial value of <code>10</code>.</p>\n<pre><code>for(int i = 10; i &gt; 0; i--) {\n    System.out.println(11-i);\n}\n\n// or using a while loop\nint i = 10;\nwhile(i &gt; 0) {\n    System.out.println(11-i--);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27419893,"reputation":11,"user_id":20918521,"display_name":"Atul Kale"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672753543,"creation_date":1672743668,"answer_id":74992440,"question_id":71595781,"body_markdown":"With Java 8 you can do this in one line.\r\n\r\n`IntStream.range(1, 11).forEach(number -&gt; System.out.println(number));`","title":"How to print number 1 to 10(in that sequence only)using loops(java) if int i = 10","body":"<p>With Java 8 you can do this in one line.</p>\n<p><code>IntStream.range(1, 11).forEach(number -&gt; System.out.println(number));</code></p>\n"}],"owner":{"display_name":"user18562767"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1068,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":71595892,"answer_count":2,"score":-3,"last_activity_date":1672753543,"creation_date":1648082970,"question_id":71595781,"body_markdown":"Output must be \r\n1 \r\n2\r\n3\r\n4\r\n5\r\n6\r\n7\r\n8\r\n9\r\n10\r\n\r\nI have tried \r\nWhile loop but it prints from 10 to 1","title":"How to print number 1 to 10(in that sequence only)using loops(java) if int i = 10","body":"<p>Output must be\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10</p>\n<p>I have tried\nWhile loop but it prints from 10 to 1</p>\n"},{"tags":["java","sql","postgresql","spring-boot","prepared-statement"],"owner":{"account_id":10942565,"reputation":1483,"user_id":8041854,"accept_rate":50,"display_name":"Gvtha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672753493,"creation_date":1672747477,"question_id":74993130,"body_markdown":"How to get the final batch SQL query from Spring boot SQL statement. I am connecting to PostgreSQL database with Java 8 and spring boot.\r\n\r\n```java\r\nString sqlQuery = &quot;insert into table1 (id, name) values (?, ?)&quot;;\r\n    \r\nPreparedStatement pstmt = connection.prepareStatement(sqlQuery);\r\npstmt.setInt(1, 1);\r\npstmt.setString(2, &quot;name1&quot;);\r\npstmt.addBatch();\r\n    \r\npstmt.setInt(1, 2);\r\npstmt.setString(2, &quot;name2&quot;);\r\npstmt.addBatch();\r\n    \r\npstmt.executeBatch();\r\n    \r\nSystem.out.println(pstmt);\r\n```\r\n\r\n**Output:**\r\n\r\n```sql\r\ninsert into table1 (id, name) values (2, name2)\r\n```\r\n\r\n**Expected Output:**\r\n\r\n```sql\r\ninsert into table1 (id, name) values (1, name1), (2, name2) \r\n```\r\nI am getting the last SQL query instead of the batch SQL query.","title":"Get final query from executeBatch()","body":"<p>How to get the final batch SQL query from Spring boot SQL statement. I am connecting to PostgreSQL database with Java 8 and spring boot.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sqlQuery = &quot;insert into table1 (id, name) values (?, ?)&quot;;\n    \nPreparedStatement pstmt = connection.prepareStatement(sqlQuery);\npstmt.setInt(1, 1);\npstmt.setString(2, &quot;name1&quot;);\npstmt.addBatch();\n    \npstmt.setInt(1, 2);\npstmt.setString(2, &quot;name2&quot;);\npstmt.addBatch();\n    \npstmt.executeBatch();\n    \nSystem.out.println(pstmt);\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre class=\"lang-sql prettyprint-override\"><code>insert into table1 (id, name) values (2, name2)\n</code></pre>\n<p><strong>Expected Output:</strong></p>\n<pre class=\"lang-sql prettyprint-override\"><code>insert into table1 (id, name) values (1, name1), (2, name2) \n</code></pre>\n<p>I am getting the last SQL query instead of the batch SQL query.</p>\n"},{"tags":["java","file"],"answers":[{"comments":[{"owner":{"account_id":2186546,"reputation":755,"user_id":1934830,"display_name":"jk47"},"score":0,"creation_date":1409583953,"post_id":25608650,"comment_id":40004422,"body_markdown":"You should also create and open your filewriter before the loop begins, and then close it once the loop has finished","body":"You should also create and open your filewriter before the loop begins, and then close it once the loop has finished"},{"owner":{"account_id":2123179,"reputation":10932,"user_id":1886012,"display_name":"bowmore"},"score":0,"creation_date":1409583962,"post_id":25608650,"comment_id":40004425,"body_markdown":"The close should be in a finally block, or you should use a try-with-resources structure","body":"The close should be in a finally block, or you should use a try-with-resources structure"}],"tags":[],"owner":{"account_id":1233203,"reputation":4084,"user_id":1197359,"accept_rate":99,"display_name":"Stanley Mungai"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1409584193,"creation_date":1409583825,"answer_id":25608650,"question_id":25608614,"body_markdown":"You need to close or flush the Writer after writing;\r\n\r\ntry:\r\n\r\n       \r\n\r\n \r\n\r\n    System.out.println(&quot;Enter &#39;q&#39; for quit!!&quot;);\r\n            str=br.readLine();\r\n            FileWriter fw=new FileWriter(file,true);\r\n            bw=new BufferedWriter(fw);\r\n            bw.write(str);\r\n            bw.flush();//You are Missing this\r\n            System.out.println(str);\r\n**Edit: Ok I did flush as per suggestion.**\r\n\r\nBut you will still need to call `bw.close();` after you are done with the writer. Closing the Writer will automatically flush it.","title":"how to write input text in file using java","body":"<p>You need to close or flush the Writer after writing;</p>\n\n<p>try:</p>\n\n<pre><code>System.out.println(\"Enter 'q' for quit!!\");\n        str=br.readLine();\n        FileWriter fw=new FileWriter(file,true);\n        bw=new BufferedWriter(fw);\n        bw.write(str);\n        bw.flush();//You are Missing this\n        System.out.println(str);\n</code></pre>\n\n<p><strong>Edit: Ok I did flush as per suggestion.</strong></p>\n\n<p>But you will still need to call <code>bw.close();</code> after you are done with the writer. Closing the Writer will automatically flush it.</p>\n"},{"tags":[],"owner":{"account_id":505874,"reputation":8230,"user_id":1757964,"accept_rate":86,"display_name":"APerson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409583852,"creation_date":1409583852,"answer_id":25608657,"question_id":25608614,"body_markdown":"It doesn&#39;t look like you&#39;re flushing your BufferedWriter, which may be an issue.\n\nYou also never close the BufferedWriter, which also helps since the BufferedWriter flushes itself during the close process.","title":"how to write input text in file using java","body":"<p>It doesn't look like you're flushing your BufferedWriter, which may be an issue.</p>\n\n<p>You also never close the BufferedWriter, which also helps since the BufferedWriter flushes itself during the close process.</p>\n"},{"tags":[],"owner":{"account_id":4539652,"reputation":163,"user_id":3687895,"display_name":"user3687895"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1409585601,"creation_date":1409585032,"answer_id":25608968,"question_id":25608614,"body_markdown":"You need to `flush()` and `close()` the `FileWriter` (closing it will also flush it).\r\n\r\nTry this :\r\n\r\n    do {\r\n    \tSystem.out.println(&quot;Enter &#39;q&#39; for quit!!&quot;);\r\n    \tstr=br.readLine();\r\n    \tFileWriter fw=new FileWriter(file,true);\r\n    \tbw=new BufferedWriter(fw);\r\n    \tbw.write(str);\r\n    \tbw.flush();    //do this , you missed it\r\n    \tSystem.out.println(str);\r\n    }\r\n    while(!(str.equalsIgnoreCase(&quot;q&quot;)));\r\n    \r\n    bw.close();     //do this , you missed it","title":"how to write input text in file using java","body":"<p>You need to <code>flush()</code> and <code>close()</code> the <code>FileWriter</code> (closing it will also flush it).</p>\n\n<p>Try this :</p>\n\n<pre><code>do {\n    System.out.println(\"Enter 'q' for quit!!\");\n    str=br.readLine();\n    FileWriter fw=new FileWriter(file,true);\n    bw=new BufferedWriter(fw);\n    bw.write(str);\n    bw.flush();    //do this , you missed it\n    System.out.println(str);\n}\nwhile(!(str.equalsIgnoreCase(\"q\")));\n\nbw.close();     //do this , you missed it\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2123179,"reputation":10932,"user_id":1886012,"display_name":"bowmore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409639891,"creation_date":1409612163,"answer_id":25613760,"question_id":25608614,"body_markdown":"A `BufferedWriter` buffers the output in a character buffer, instead of immediately sending the characters to the underlying `Writer` (a `FileWriter` in this case). This is a good practice as it reduces the number of possibly costly writes. The characters are sent to the underlying Writer when the buffer is full, or when an explicit call to `flush()` is made.\r\n\r\nSecondly a `Writer` should always be closed, so that any used resources can be freed up again.  The `close()` operation will automatically flush any characters remaining in the buffer before closing. (note that for Writers that do not buffer the `flush()` method usually does nothing)\r\n\r\nThis is basically what goes wrong in your code : since you don&#39;t flush or close the `BufferedWriter`, and likely write fewer characters to the file than the buffer size, your output simply remains in the buffer.\r\n\r\nSome other things seem to be wrong in your code (that do not immediately cause the problem you report)\r\n\r\n - you create a new `FileWriter` for each string to write. Normally you&#39;d use only one `FileWriter` declared before the loop. Since you create the `Writer` in overwrite mode, each `String` will simply overwrite the previous.\r\n - if the file test1.txt does not exist, this code will throw a `FileNotFoundException` when trying to create the `FileWriter`.\r\n - You use the String &quot;q&quot; as a marker to stop adding to the file, yet you write &quot;q&quot; to the file prior to checking the termination condition. I guess that&#39;s not the intent.","title":"how to write input text in file using java","body":"<p>A <code>BufferedWriter</code> buffers the output in a character buffer, instead of immediately sending the characters to the underlying <code>Writer</code> (a <code>FileWriter</code> in this case). This is a good practice as it reduces the number of possibly costly writes. The characters are sent to the underlying Writer when the buffer is full, or when an explicit call to <code>flush()</code> is made.</p>\n\n<p>Secondly a <code>Writer</code> should always be closed, so that any used resources can be freed up again.  The <code>close()</code> operation will automatically flush any characters remaining in the buffer before closing. (note that for Writers that do not buffer the <code>flush()</code> method usually does nothing)</p>\n\n<p>This is basically what goes wrong in your code : since you don't flush or close the <code>BufferedWriter</code>, and likely write fewer characters to the file than the buffer size, your output simply remains in the buffer.</p>\n\n<p>Some other things seem to be wrong in your code (that do not immediately cause the problem you report)</p>\n\n<ul>\n<li>you create a new <code>FileWriter</code> for each string to write. Normally you'd use only one <code>FileWriter</code> declared before the loop. Since you create the <code>Writer</code> in overwrite mode, each <code>String</code> will simply overwrite the previous.</li>\n<li>if the file test1.txt does not exist, this code will throw a <code>FileNotFoundException</code> when trying to create the <code>FileWriter</code>.</li>\n<li>You use the String \"q\" as a marker to stop adding to the file, yet you write \"q\" to the file prior to checking the termination condition. I guess that's not the intent.</li>\n</ul>\n"}],"owner":{"account_id":2379550,"reputation":1785,"user_id":2081867,"accept_rate":83,"display_name":"mahbub_siddique"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":25608968,"answer_count":4,"score":1,"last_activity_date":1672753323,"creation_date":1409583701,"question_id":25608614,"body_markdown":"I am trying to write a code for getting input from the console &amp; the input text will be saved in a particular file. My code gets console input perfectly &amp; create a file as well, but the console input doesn&#39;t save to the file.\r\n\r\nHere is my code:\r\n\r\n```java\r\npackage com.mahbub.file_object;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.BufferedWriter;\r\nimport java.io.File;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.Reader;\r\nimport java.util.Scanner;\r\n\r\npublic class ConsoleInput {\r\n\r\n\tpublic static void main (String [] args) throws IOException{\r\n\t\tBufferedReader br=null;\r\n\t\tBufferedWriter bw=null;\r\n\t\t\r\n\t\tFile file=new File(&quot;D:/test1.txt&quot;);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tReader reader=new InputStreamReader(System.in);\r\n\t\tbr =new BufferedReader(reader);\r\n\t\tString str=null;\r\n\t\t\r\n\t\tdo{\r\n\t\t\tSystem.out.println(&quot;Enter &#39;q&#39; for quit!!&quot;);\r\n\t\t\tstr=br.readLine();\r\n\t\t\tFileWriter fw=new FileWriter(file,true);\r\n\t\t\tbw=new BufferedWriter(fw);\r\n\t\t\tbw.write(str);\r\n\t\t\tSystem.out.println(str);\r\n\t\t}while(!(str.equalsIgnoreCase(&quot;q&quot;)));\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nAnyone has any idea to solve this problem ?","title":"how to write input text in file using java","body":"<p>I am trying to write a code for getting input from the console &amp; the input text will be saved in a particular file. My code gets console input perfectly &amp; create a file as well, but the console input doesn't save to the file.</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mahbub.file_object;\n\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.Reader;\nimport java.util.Scanner;\n\npublic class ConsoleInput {\n\n    public static void main (String [] args) throws IOException{\n        BufferedReader br=null;\n        BufferedWriter bw=null;\n        \n        File file=new File(&quot;D:/test1.txt&quot;);\n        \n        \n        \n        Reader reader=new InputStreamReader(System.in);\n        br =new BufferedReader(reader);\n        String str=null;\n        \n        do{\n            System.out.println(&quot;Enter 'q' for quit!!&quot;);\n            str=br.readLine();\n            FileWriter fw=new FileWriter(file,true);\n            bw=new BufferedWriter(fw);\n            bw.write(str);\n            System.out.println(str);\n        }while(!(str.equalsIgnoreCase(&quot;q&quot;)));\n        \n    }\n}\n</code></pre>\n<p>Anyone has any idea to solve this problem ?</p>\n"},{"tags":["java","mysql","spring","spring-boot","api"],"comments":[{"owner":{"account_id":15450914,"reputation":308,"user_id":11146314,"display_name":"Santi Wagner"},"score":0,"creation_date":1611174901,"post_id":65817073,"comment_id":116369857,"body_markdown":"The seemingly infinite json is due to the circular reference between Todos and User. Take a look at the accepted answer of this post: https://stackoverflow.com/questions/17393812/json-and-java-circular-reference","body":"The seemingly infinite json is due to the circular reference between Todos and User. Take a look at the accepted answer of this post: <a href=\"https://stackoverflow.com/questions/17393812/json-and-java-circular-reference\" title=\"json and java circular reference\">stackoverflow.com/questions/17393812/&hellip;</a>"},{"owner":{"account_id":15450914,"reputation":308,"user_id":11146314,"display_name":"Santi Wagner"},"score":0,"creation_date":1611175668,"post_id":65817073,"comment_id":116370170,"body_markdown":"Glad yo hear that! Take care","body":"Glad yo hear that! Take care"}],"answers":[{"tags":[],"owner":{"account_id":2075808,"reputation":2132,"user_id":1849188,"display_name":"Jcov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611179916,"creation_date":1611179916,"answer_id":65818289,"question_id":65817073,"body_markdown":"Essentially, when Spring forms the response, it is doing a &quot;.toString()&quot; like method to map the entity in to a JSON object to pass to the front end.\r\n\r\nYou have a `bidirectional` association between your entities, so when the mapper goes in to the `user` it maps all the `todos` and because those `todos` all have a relationship with the `user` it then gets the `user`...and again...and again and loop of overflow death.\r\n\r\nThe &quot;best&quot; way and is common is you should make a DTO class which you construct.\r\n\r\n`UserTodoDTO`:\r\n\r\n```java\r\n\r\n//Lombok Getter/Setter/ToString and All Args Constructor.\r\n@ToString\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\npublic class UserTodoDTO {\r\n\r\n    private long id;\r\n    @JsonProperty(&quot;name&quot;)\r\n    private String username;\r\n    private List&lt;TodoItem&gt; todoItems;\r\n\r\n}\r\n\r\n```\r\n\r\n```java\r\n\r\n//Pretend this is full of your &#39;users&#39;.\r\nList&lt;User&gt; usersFromDatabaseAsEntity = new ArrayList&lt;&gt;();\r\n\r\n//Return these and the serialisation will not occur.\r\nfinal List&lt;UserTodoDTO&gt; viewsOfUser = usersFromDatabaseAsEntity\r\n\t\t.stream()\r\n\t\t.map(entity -&gt; new UserTodoDTO(entity.getId(), entity.getName(), entity.getTodos()))\r\n\t\t.collect(Collectors.toList());\r\n\r\n```\r\n\r\nJust be aware, if you do `log.info(user)` it will do the same thing.\r\nThe way to avoid this (there are others) is to add a `@JsonIgnore` to one side of the relationship (like on the @ManyToOne-Users on the Todos) or override the toString() for the Todo.\r\n\r\nChanges to `TodoItem`\r\n```java\r\n\r\n    //Will not be mapped to JSON so stops the loop of death.\r\n    @JsonIgnore\r\n    //Lombok can make the toString() for you but need to\r\n    // tell it to ignore this field to stop loop of death.\r\n    @ToString.Exclude\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n    \r\n    //If not using lombok and you are doing TodoItem.toString() somewhere...\r\n    //Remove the user from toString().\r\n    @Override\r\n    public String toString() {\r\n        return &quot;TodoItem{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, todo=&#39;&quot; + todo + &#39;\\&#39;&#39; +\r\n                &quot;, completed=&quot; + completed +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n```","title":"Spring Boot API response returns repeating nested JSON","body":"<p>Essentially, when Spring forms the response, it is doing a &quot;.toString()&quot; like method to map the entity in to a JSON object to pass to the front end.</p>\n<p>You have a <code>bidirectional</code> association between your entities, so when the mapper goes in to the <code>user</code> it maps all the <code>todos</code> and because those <code>todos</code> all have a relationship with the <code>user</code> it then gets the <code>user</code>...and again...and again and loop of overflow death.</p>\n<p>The &quot;best&quot; way and is common is you should make a DTO class which you construct.</p>\n<p><code>UserTodoDTO</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n//Lombok Getter/Setter/ToString and All Args Constructor.\n@ToString\n@Getter\n@Setter\n@AllArgsConstructor\npublic class UserTodoDTO {\n\n    private long id;\n    @JsonProperty(&quot;name&quot;)\n    private String username;\n    private List&lt;TodoItem&gt; todoItems;\n\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\n//Pretend this is full of your 'users'.\nList&lt;User&gt; usersFromDatabaseAsEntity = new ArrayList&lt;&gt;();\n\n//Return these and the serialisation will not occur.\nfinal List&lt;UserTodoDTO&gt; viewsOfUser = usersFromDatabaseAsEntity\n        .stream()\n        .map(entity -&gt; new UserTodoDTO(entity.getId(), entity.getName(), entity.getTodos()))\n        .collect(Collectors.toList());\n\n</code></pre>\n<p>Just be aware, if you do <code>log.info(user)</code> it will do the same thing.\nThe way to avoid this (there are others) is to add a <code>@JsonIgnore</code> to one side of the relationship (like on the @ManyToOne-Users on the Todos) or override the toString() for the Todo.</p>\n<p>Changes to <code>TodoItem</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    //Will not be mapped to JSON so stops the loop of death.\n    @JsonIgnore\n    //Lombok can make the toString() for you but need to\n    // tell it to ignore this field to stop loop of death.\n    @ToString.Exclude\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n    \n    //If not using lombok and you are doing TodoItem.toString() somewhere...\n    //Remove the user from toString().\n    @Override\n    public String toString() {\n        return &quot;TodoItem{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, todo='&quot; + todo + '\\'' +\n                &quot;, completed=&quot; + completed +\n                '}';\n    }\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13490009,"reputation":35,"user_id":12462185,"display_name":"Jakkie Chan"},"score":0,"creation_date":1611204833,"post_id":65818385,"comment_id":116377097,"body_markdown":"wow that worked, what exactly is calling the getter and sticking it in the response?","body":"wow that worked, what exactly is calling the getter and sticking it in the response?"},{"owner":{"account_id":10100092,"reputation":166,"user_id":7464200,"display_name":"danyPasillas"},"score":0,"creation_date":1611253993,"post_id":65818385,"comment_id":116398682,"body_markdown":"The getter that you removed was calling the user,  therefore, the user will have a list of TodoItem, in every TodoItem, another user and so on, circular reference error.","body":"The getter that you removed was calling the user,  therefore, the user will have a list of TodoItem, in every TodoItem, another user and so on, circular reference error."}],"tags":[],"owner":{"account_id":10100092,"reputation":166,"user_id":7464200,"display_name":"danyPasillas"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1611183510,"creation_date":1611180412,"answer_id":65818385,"question_id":65817073,"body_markdown":"In your TodoItem.java, remove the getter for the User property.\r\n\r\nMake sure that you only have the setter for user property in your TodoItem.java.\r\n\r\n\r\n","title":"Spring Boot API response returns repeating nested JSON","body":"<p>In your TodoItem.java, remove the getter for the User property.</p>\n<p>Make sure that you only have the setter for user property in your TodoItem.java.</p>\n"},{"tags":[],"owner":{"account_id":17925856,"reputation":1,"user_id":13024526,"display_name":"Abbhilash R"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672753262,"creation_date":1672753262,"answer_id":74994168,"question_id":65817073,"body_markdown":"The answer is you have mapped each other entity class ,so when you get Todoitem entity and User gets pickedup and again the Todoitem and it goes on.You don&#39;t have to map each and every entities. ","title":"Spring Boot API response returns repeating nested JSON","body":"<p>The answer is you have mapped each other entity class ,so when you get Todoitem entity and User gets pickedup and again the Todoitem and it goes on.You don't have to map each and every entities.</p>\n"}],"owner":{"account_id":13490009,"reputation":35,"user_id":12462185,"display_name":"Jakkie Chan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2318,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65818385,"answer_count":3,"score":1,"last_activity_date":1672753262,"creation_date":1611174152,"question_id":65817073,"body_markdown":"I have a `User` model and a `TodoItem` model where the `TodoItem` model has a primary key to the `User` model with a `user_id` @joincolumn. My issue is the response I get from the `getUsers` API after I add an item. It creates this super long nested JSON where it repeats itself over and over again. I feel like I&#39;m not handling the primary key case properly.\r\n\r\n**TodoController.java**\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class TodoController {\r\n\r\n    @Autowired\r\n    private TodoRepository todoRepository;\r\n\r\n    @PostMapping(&quot;/addItem&quot;)\r\n    public TodoItem addTodoItem(@RequestBody TodoItem todoItem) {\r\n        return todoRepository.save(todoItem);\r\n    }\r\n\r\n**User.java**\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate long id;\r\n\r\n\t@Column(name = &quot;name&quot;)\r\n\tprivate String name;\r\n\r\n\t@Column(name = &quot;password&quot;)\r\n\tprivate String password;\r\n\r\n\t@OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;user&quot;)\r\n\tprivate List&lt;TodoItem&gt; todos;\r\n\r\n\tpublic User() {\r\n\t}\r\n\r\n\tpublic User(String name, String password, List&lt;TodoItem&gt; todos) {\r\n\t\tthis.name = name;\r\n\t\tthis.password = password;\r\n\t\tthis.todos = todos;\r\n\t}\r\n    // setter and getters\r\n\r\n\r\n**TodoItem.java**\r\n\r\n    @Entity\r\n    @Table(name = &quot;todo_item&quot;)\r\n    public class TodoItem {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n\r\n    @Column(name = &quot;todo&quot;)\r\n    private String todo;\r\n\r\n    @Column(name = &quot;completed&quot;)\r\n    private boolean completed;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n\r\n    public TodoItem() {\r\n    }\r\n\r\n    public TodoItem(String todo, boolean completed) {\r\n        this.todo = todo;\r\n        this.completed = completed;\r\n    }\r\n    // setters and getters\r\n\r\n*Add Item Request*\r\n\r\n    {\r\n      &quot;todo&quot;: &quot;blahblah&quot;,\r\n      &quot;completed&quot;: false,\r\n      &quot;user&quot;: {\r\n          &quot;id&quot;: 6\r\n      }\r\n    }\r\n\r\n*Add Item Response*\r\n\r\n    {\r\n      &quot;id&quot;: 26,\r\n      &quot;todo&quot;: &quot;blahblah&quot;,\r\n      &quot;completed&quot;: false,\r\n      &quot;user&quot;: {\r\n          &quot;id&quot;: 6,\r\n          &quot;name&quot;: null,\r\n          &quot;password&quot;: null,\r\n          &quot;todos&quot;: null\r\n      }\r\n  }\r\n\r\nSo already I don&#39;t like the way the response is given, why is name, pass, and todos null when the user with id 6 exists, also I just passed it a todoitem, so why is todo null. The database populates properly, it&#39;s just that the response seems wrong. And then I think it ties into the main problem I have which is here; this is after I add item to a user:\r\n\r\n*Get Users Response*\r\n\r\n    [\r\n    {\r\n        &quot;id&quot;: 6,\r\n        &quot;name&quot;: &quot;joe&quot;,\r\n        &quot;password&quot;: &quot;pass&quot;,\r\n        &quot;todos&quot;: [\r\n            {\r\n                &quot;id&quot;: 26,\r\n                &quot;todo&quot;: &quot;blahblah&quot;,\r\n                &quot;completed&quot;: false,\r\n                &quot;user&quot;: {\r\n                    &quot;id&quot;: 6,\r\n                    &quot;name&quot;: &quot;joe&quot;,\r\n                    &quot;password&quot;: &quot;pass&quot;,\r\n                    &quot;todos&quot;: [\r\n                        {\r\n                            &quot;id&quot;: 26,\r\n                            &quot;todo&quot;: &quot;blahblah&quot;,\r\n                            &quot;completed&quot;: false,\r\n                            &quot;user&quot;: {\r\n                                &quot;id&quot;: 6,\r\n                                &quot;name&quot;: &quot;joe&quot;,\r\n                                &quot;password&quot;: &quot;pass&quot;,\r\n                                &quot;todos&quot;: [\r\n                                    {\r\n                                        &quot;id&quot;: 26,\r\n                                        &quot;todo&quot;: &quot;blahblah&quot;,\r\n                                        &quot;completed&quot;: false,\r\n                                        &quot;user&quot;: {\r\n                                            &quot;id&quot;: 6,\r\n                                            &quot;name&quot;: &quot;joe&quot;,\r\n                                            &quot;password&quot;: &quot;pass&quot;,\r\n                                            &quot;todos&quot;: [\r\n                                                {\r\n                                                    &quot;id&quot;: 26,\r\n                                                    &quot;todo&quot;: &quot;blahblah&quot;,\r\n                                                    &quot;completed&quot;: false,\r\n                                                    &quot;user&quot;: {\r\n                                                        &quot;id&quot;: 6,\r\n                                                        &quot;name&quot;: &quot;joe&quot;,\r\n                                                        &quot;password&quot;: &quot;pass&quot;,\r\n                                                        &quot;todos&quot;: [\r\n                                                            {\r\n                                                                &quot;id&quot;: 26,\r\n                                                                &quot;todo&quot;: &quot;blahblah&quot;,\r\n\r\nAnd it just continues like that for literally thousands of lines. Even though the response is crazy, the database updates properly, but the API calls can take a while due to this issue\r\n\r\n","title":"Spring Boot API response returns repeating nested JSON","body":"<p>I have a <code>User</code> model and a <code>TodoItem</code> model where the <code>TodoItem</code> model has a primary key to the <code>User</code> model with a <code>user_id</code> @joincolumn. My issue is the response I get from the <code>getUsers</code> API after I add an item. It creates this super long nested JSON where it repeats itself over and over again. I feel like I'm not handling the primary key case properly.</p>\n<p><strong>TodoController.java</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class TodoController {\n\n@Autowired\nprivate TodoRepository todoRepository;\n\n@PostMapping(&quot;/addItem&quot;)\npublic TodoItem addTodoItem(@RequestBody TodoItem todoItem) {\n    return todoRepository.save(todoItem);\n}\n</code></pre>\n<p><strong>User.java</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate long id;\n\n@Column(name = &quot;name&quot;)\nprivate String name;\n\n@Column(name = &quot;password&quot;)\nprivate String password;\n\n@OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;user&quot;)\nprivate List&lt;TodoItem&gt; todos;\n\npublic User() {\n}\n\npublic User(String name, String password, List&lt;TodoItem&gt; todos) {\n    this.name = name;\n    this.password = password;\n    this.todos = todos;\n}\n// setter and getters\n</code></pre>\n<p><strong>TodoItem.java</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;todo_item&quot;)\npublic class TodoItem {\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate long id;\n\n@Column(name = &quot;todo&quot;)\nprivate String todo;\n\n@Column(name = &quot;completed&quot;)\nprivate boolean completed;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;user_id&quot;)\nprivate User user;\n\npublic TodoItem() {\n}\n\npublic TodoItem(String todo, boolean completed) {\n    this.todo = todo;\n    this.completed = completed;\n}\n// setters and getters\n</code></pre>\n<p><em>Add Item Request</em></p>\n<pre><code>{\n  &quot;todo&quot;: &quot;blahblah&quot;,\n  &quot;completed&quot;: false,\n  &quot;user&quot;: {\n      &quot;id&quot;: 6\n  }\n}\n</code></pre>\n<p><em>Add Item Response</em></p>\n<pre><code>{\n  &quot;id&quot;: 26,\n  &quot;todo&quot;: &quot;blahblah&quot;,\n  &quot;completed&quot;: false,\n  &quot;user&quot;: {\n      &quot;id&quot;: 6,\n      &quot;name&quot;: null,\n      &quot;password&quot;: null,\n      &quot;todos&quot;: null\n  }\n</code></pre>\n<p>}</p>\n<p>So already I don't like the way the response is given, why is name, pass, and todos null when the user with id 6 exists, also I just passed it a todoitem, so why is todo null. The database populates properly, it's just that the response seems wrong. And then I think it ties into the main problem I have which is here; this is after I add item to a user:</p>\n<p><em>Get Users Response</em></p>\n<pre><code>[\n{\n    &quot;id&quot;: 6,\n    &quot;name&quot;: &quot;joe&quot;,\n    &quot;password&quot;: &quot;pass&quot;,\n    &quot;todos&quot;: [\n        {\n            &quot;id&quot;: 26,\n            &quot;todo&quot;: &quot;blahblah&quot;,\n            &quot;completed&quot;: false,\n            &quot;user&quot;: {\n                &quot;id&quot;: 6,\n                &quot;name&quot;: &quot;joe&quot;,\n                &quot;password&quot;: &quot;pass&quot;,\n                &quot;todos&quot;: [\n                    {\n                        &quot;id&quot;: 26,\n                        &quot;todo&quot;: &quot;blahblah&quot;,\n                        &quot;completed&quot;: false,\n                        &quot;user&quot;: {\n                            &quot;id&quot;: 6,\n                            &quot;name&quot;: &quot;joe&quot;,\n                            &quot;password&quot;: &quot;pass&quot;,\n                            &quot;todos&quot;: [\n                                {\n                                    &quot;id&quot;: 26,\n                                    &quot;todo&quot;: &quot;blahblah&quot;,\n                                    &quot;completed&quot;: false,\n                                    &quot;user&quot;: {\n                                        &quot;id&quot;: 6,\n                                        &quot;name&quot;: &quot;joe&quot;,\n                                        &quot;password&quot;: &quot;pass&quot;,\n                                        &quot;todos&quot;: [\n                                            {\n                                                &quot;id&quot;: 26,\n                                                &quot;todo&quot;: &quot;blahblah&quot;,\n                                                &quot;completed&quot;: false,\n                                                &quot;user&quot;: {\n                                                    &quot;id&quot;: 6,\n                                                    &quot;name&quot;: &quot;joe&quot;,\n                                                    &quot;password&quot;: &quot;pass&quot;,\n                                                    &quot;todos&quot;: [\n                                                        {\n                                                            &quot;id&quot;: 26,\n                                                            &quot;todo&quot;: &quot;blahblah&quot;,\n</code></pre>\n<p>And it just continues like that for literally thousands of lines. Even though the response is crazy, the database updates properly, but the API calls can take a while due to this issue</p>\n"},{"tags":["java","gradle","gradle-kotlin-dsl"],"answers":[{"comments":[{"owner":{"account_id":21512101,"reputation":11,"user_id":15854664,"display_name":"thamid"},"score":0,"creation_date":1625562178,"post_id":68267409,"comment_id":120652655,"body_markdown":"sorry, I forgot to say I&#39;m not using maven","body":"sorry, I forgot to say I&#39;m not using maven"}],"tags":[],"owner":{"account_id":13355621,"reputation":1,"user_id":9639274,"display_name":"Tangtang"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625561558,"creation_date":1625561558,"answer_id":68267409,"question_id":68267303,"body_markdown":"try &lt;exclusions&gt; in your &lt;dependency&gt;\r\nexamples:\r\n\r\n      &lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;xxxx&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;xxxx&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.0.9-SNAPSHOT&lt;/version&gt;\r\n\t\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;com.commons-lang&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;XXX&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;/exclusions&gt;\r\n\t\t\t&lt;/dependency&gt;","title":"Exclude specific directory/path in gradle dependency","body":"<p>try  in your \nexamples:</p>\n<pre><code>  &lt;dependency&gt;\n            &lt;groupId&gt;xxxx&lt;/groupId&gt;\n            &lt;artifactId&gt;xxxx&lt;/artifactId&gt;\n            &lt;version&gt;1.0.9-SNAPSHOT&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.commons-lang&lt;/groupId&gt;\n                    &lt;artifactId&gt;XXX&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13950153,"reputation":27,"user_id":10073858,"display_name":"Harsh_Jani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672752940,"creation_date":1672739760,"answer_id":74991676,"question_id":68267303,"body_markdown":" - You can check the dependency tree by using `mvn dependency:tree` to check where commons-lang is coming from and then you can exclude from the parent dependency.\r\n\r\n- Also, Please try with providing as an external dependency of commons-lang with your newer version above its parent dependency.\r\n\r\nExample :\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;or.apache.xxx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-lang.xxx&lt;/artifactId&gt;\r\n        &lt;version&gt;newer.version&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;parent.dependency.of.commons.lang&lt;/groupId&gt;\r\n        &lt;artifactId&gt;parent.dependency.of.commons.lang&lt;/artifactId&gt;\r\n        &lt;version&gt;specified.version&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```","title":"Exclude specific directory/path in gradle dependency","body":"<ul>\n<li><p>You can check the dependency tree by using <code>mvn dependency:tree</code> to check where commons-lang is coming from and then you can exclude from the parent dependency.</p>\n</li>\n<li><p>Also, Please try with providing as an external dependency of commons-lang with your newer version above its parent dependency.</p>\n</li>\n</ul>\n<p>Example :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;or.apache.xxx&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang.xxx&lt;/artifactId&gt;\n        &lt;version&gt;newer.version&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;parent.dependency.of.commons.lang&lt;/groupId&gt;\n        &lt;artifactId&gt;parent.dependency.of.commons.lang&lt;/artifactId&gt;\n        &lt;version&gt;specified.version&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":21512101,"reputation":11,"user_id":15854664,"display_name":"thamid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672752940,"creation_date":1625561036,"question_id":68267303,"body_markdown":"I have an `implementation` dependency in my dependencies. The dependency has an old version of the apache commons-lang 3 dependency shaded. It is not listed as a transitive dependency of the dependency, it is just shaded. However, I require the apache commons-lang 3 dependency as well, and I need a newer version. I do not think I can just exclude the commons-lang 3 dependency as it is not transitive. Is there another way to filter out the dependency?\r\n\r\nusing gradle 7.1","title":"Exclude specific directory/path in gradle dependency","body":"<p>I have an <code>implementation</code> dependency in my dependencies. The dependency has an old version of the apache commons-lang 3 dependency shaded. It is not listed as a transitive dependency of the dependency, it is just shaded. However, I require the apache commons-lang 3 dependency as well, and I need a newer version. I do not think I can just exclude the commons-lang 3 dependency as it is not transitive. Is there another way to filter out the dependency?</p>\n<p>using gradle 7.1</p>\n"},{"tags":["java","gradle","aop"],"comments":[{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1672394030,"post_id":74958316,"comment_id":132281198,"body_markdown":"Hi, please update your question to include the Gradle build scripts, and any error messages or console logs about the problem you are trying to resolve.","body":"Hi, please update your question to include the Gradle build scripts, and any error messages or console logs about the problem you are trying to resolve."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1672397543,"post_id":74958316,"comment_id":132281989,"body_markdown":"Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you.","body":"Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you."},{"owner":{"account_id":12682886,"reputation":11,"user_id":9215881,"display_name":"hema"},"score":0,"creation_date":1672720683,"post_id":74958316,"comment_id":132333658,"body_markdown":"Edited with build script snippet and error","body":"Edited with build script snippet and error"}],"answers":[{"comments":[{"owner":{"account_id":12682886,"reputation":11,"user_id":9215881,"display_name":"hema"},"score":0,"creation_date":1672998030,"post_id":74994081,"comment_id":132403387,"body_markdown":"I tried with that as well, but looks like it is not maintained or it does not support Gradle 7","body":"I tried with that as well, but looks like it is not maintained or it does not support Gradle 7"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1673001954,"post_id":74994081,"comment_id":132404611,"body_markdown":"I am a Maven user, not a Gradle user. But last time I tried those plugins in order to help others here, they worked. About Gradle 7, I cannot say anything. Why would it not work? But even if it does not, what forces you to use Gradle 7? Besides, &quot;I tried&quot; does not qualify as a reproducible problem description. Why are you ignoring my advice to provide an [MCVE](https://stackoverflow.com/help/mcve)? Where is your GitHub project reproducing your problem? Like this, neither are you going to find a lot of friends here, nor are you going to be able to solve your problems.","body":"I am a Maven user, not a Gradle user. But last time I tried those plugins in order to help others here, they worked. About Gradle 7, I cannot say anything. Why would it not work? But even if it does not, what forces you to use Gradle 7? Besides, &quot;I tried&quot; does not qualify as a reproducible problem description. Why are you ignoring my advice to provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>? Where is your GitHub project reproducing your problem? Like this, neither are you going to find a lot of friends here, nor are you going to be able to solve your problems."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672752867,"creation_date":1672752867,"answer_id":74994081,"question_id":74958316,"body_markdown":"&gt; ```java\r\n&gt; plugins {\r\n&gt;   id &#39;org.aspectj.aspectj&#39; version &#39;1.9.5&#39;\r\n&gt; }\r\n&gt; ```\r\n\r\nWell, you cannot simply invent non-existent Gradle plugin names and expect them to magically work. The error message explains that, too.\r\n\r\nHow about using the [Freefair AspectJ](https://docs.freefair.io/gradle-plugins/current/reference/#_aspectj_plugins) plugin collection instead?","title":"AspectJ Gradle plugin issue","body":"<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>plugins {\n  id 'org.aspectj.aspectj' version '1.9.5'\n}\n</code></pre>\n</blockquote>\n<p>Well, you cannot simply invent non-existent Gradle plugin names and expect them to magically work. The error message explains that, too.</p>\n<p>How about using the <a href=\"https://docs.freefair.io/gradle-plugins/current/reference/#_aspectj_plugins\" rel=\"nofollow noreferrer\">Freefair AspectJ</a> plugin collection instead?</p>\n"}],"owner":{"account_id":12682886,"reputation":11,"user_id":9215881,"display_name":"hema"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672752921,"creation_date":1672377058,"question_id":74958316,"body_markdown":"I have project A which uses aspectj (without spring) and I need to add project A dependency in project B(which is gradle based).\r\n\r\nFor maven based project, I am able make aspects work by adding project A dependency and aspectj-maven-plugin\r\n\r\nBut for gradle based project B, aspects are not working by adding project A dependency.\r\n\r\nCan anyone help me with this? \r\n\r\nI am using Gradle 7.4.2 version\r\n\r\nI tried with org.aspectj.aspectj plugin but getting below error\r\n\r\n```none\r\nPlugin [id: &#39;org.aspectj.aspectj&#39;, version: &#39;1.9.5&#39;] was not found in any of the following sources:\r\n\r\n- Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n- Plugin Repositories (could not resolve plugin artifact &#39;org.aspectj.aspectj:org.aspectj.aspectj.gradle.plugin:1.9.5&#39;)\r\n  Searched in the following repositories:\r\n    Gradle Central Plugin Repository\r\n    Google\r\n    MavenRepo\r\n```\r\n\r\n```java\r\nmaven {\r\n    url &quot;https://plugins.gradle.org/m2/&quot;\r\n}\r\n```\r\nI don&#39;t see org.aspectj.aspectj in gradle repository, but still same\r\n\r\nEdit:\r\n\r\nGradle \r\n```java\r\nplugins {\r\n  id &#39;org.aspectj.aspectj&#39; version &#39;1.9.5&#39;\r\n}\r\n\r\naspectj {\r\n  aspectPath = sourceSets.main.compileClasspath\r\n  sourceCompatibility = JavaVersion.VERSION_1_8\r\n  targetCompatibility = JavaVersion.VERSION_1_8\r\n}\r\n\r\n// adding project A as a dependency\r\n\r\ndependencies {\r\n  implementation project(&#39;:projectA&#39;)\r\n}\r\n\r\ndependencies {\r\n  runtime &#39;org.aspectj:aspectjrt:1.9.5&#39;\r\n}\r\n```\r\n","title":"AspectJ Gradle plugin issue","body":"<p>I have project A which uses aspectj (without spring) and I need to add project A dependency in project B(which is gradle based).</p>\n<p>For maven based project, I am able make aspects work by adding project A dependency and aspectj-maven-plugin</p>\n<p>But for gradle based project B, aspects are not working by adding project A dependency.</p>\n<p>Can anyone help me with this?</p>\n<p>I am using Gradle 7.4.2 version</p>\n<p>I tried with org.aspectj.aspectj plugin but getting below error</p>\n<pre class=\"lang-none prettyprint-override\"><code>Plugin [id: 'org.aspectj.aspectj', version: '1.9.5'] was not found in any of the following sources:\n\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Plugin Repositories (could not resolve plugin artifact 'org.aspectj.aspectj:org.aspectj.aspectj.gradle.plugin:1.9.5')\n  Searched in the following repositories:\n    Gradle Central Plugin Repository\n    Google\n    MavenRepo\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>maven {\n    url &quot;https://plugins.gradle.org/m2/&quot;\n}\n</code></pre>\n<p>I don't see org.aspectj.aspectj in gradle repository, but still same</p>\n<p>Edit:</p>\n<p>Gradle</p>\n<pre class=\"lang-java prettyprint-override\"><code>plugins {\n  id 'org.aspectj.aspectj' version '1.9.5'\n}\n\naspectj {\n  aspectPath = sourceSets.main.compileClasspath\n  sourceCompatibility = JavaVersion.VERSION_1_8\n  targetCompatibility = JavaVersion.VERSION_1_8\n}\n\n// adding project A as a dependency\n\ndependencies {\n  implementation project(':projectA')\n}\n\ndependencies {\n  runtime 'org.aspectj:aspectjrt:1.9.5'\n}\n</code></pre>\n"},{"tags":["java","swing","icons","jframe","imageicon"],"answers":[{"comments":[{"owner":{"account_id":3135161,"reputation":1524,"user_id":2651804,"accept_rate":80,"display_name":"user2651804"},"score":0,"creation_date":1383271566,"post_id":19719665,"comment_id":29296134,"body_markdown":"cannot find symbol: method getRessource(String) in class Class&lt;CAP#1&gt;","body":"cannot find symbol: method getRessource(String) in class Class&lt;CAP#1&gt;"},{"owner":{"account_id":3135161,"reputation":1524,"user_id":2651804,"accept_rate":80,"display_name":"user2651804"},"score":0,"creation_date":1383271820,"post_id":19719665,"comment_id":29296189,"body_markdown":"Right, ressource is a weird word and only spelled with 1 &quot;s&quot; :) Thanks for the help!","body":"Right, ressource is a weird word and only spelled with 1 &quot;s&quot; :) Thanks for the help!"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1383271121,"creation_date":1383271121,"answer_id":19719665,"question_id":19719590,"body_markdown":"[`ImageIcon(String)`][1] expects a file reference, if the icon is an embedded resource, you will need to supply a `URL`\r\n\r\nSomething like...\r\n\r\n    private static ImageIcon ICON = new ImageIcon(RType.class.getResource(&quot;/craft.png&quot;));\r\n\r\nAssuming that `craft.png` is in the default directory and not some sub directory\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/javax/swing/ImageIcon.html#ImageIcon%28java.lang.String%29","title":"JFrame.setIconImage() not working","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/ImageIcon.html#ImageIcon%28java.lang.String%29\" rel=\"nofollow\"><code>ImageIcon(String)</code></a> expects a file reference, if the icon is an embedded resource, you will need to supply a <code>URL</code></p>\n\n<p>Something like...</p>\n\n<pre><code>private static ImageIcon ICON = new ImageIcon(RType.class.getResource(\"/craft.png\"));\n</code></pre>\n\n<p>Assuming that <code>craft.png</code> is in the default directory and not some sub directory</p>\n"},{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1656193847,"post_id":72757406,"comment_id":128513185,"body_markdown":"no - file paths will break on deploy","body":"no - file paths will break on deploy"},{"owner":{"account_id":20882148,"reputation":3,"user_id":15339608,"display_name":"Eirals"},"score":0,"creation_date":1656248435,"post_id":72757406,"comment_id":128520463,"body_markdown":"@kleopatra Thanks for the notice, I hadn&#39;t try to deploy yet, I&#39;ll try to fix it","body":"@kleopatra Thanks for the notice, I hadn&#39;t try to deploy yet, I&#39;ll try to fix it"}],"tags":[],"owner":{"account_id":20882148,"reputation":3,"user_id":15339608,"display_name":"Eirals"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656248757,"creation_date":1656191781,"answer_id":72757406,"question_id":19719590,"body_markdown":"--Deprecated--\r\n\r\nIntelliJ IDEA sometimes does not recognizes paths from the `src` folder, it does from the `out` folder though, so I suggest to compile your progect and get the path from there.\r\n\r\nExample:\r\n\r\n    String iconPath = &quot;out/production/projectName/com/media/icon.png&quot;;\r\n    jframe.setIconImage(new ImageIcon(iconPath).getImage());\r\n\r\nHope this will still help someone.","title":"JFrame.setIconImage() not working","body":"<p>--Deprecated--</p>\n<p>IntelliJ IDEA sometimes does not recognizes paths from the <code>src</code> folder, it does from the <code>out</code> folder though, so I suggest to compile your progect and get the path from there.</p>\n<p>Example:</p>\n<pre><code>String iconPath = &quot;out/production/projectName/com/media/icon.png&quot;;\njframe.setIconImage(new ImageIcon(iconPath).getImage());\n</code></pre>\n<p>Hope this will still help someone.</p>\n"},{"tags":[],"owner":{"account_id":1219227,"reputation":21,"user_id":1186211,"display_name":"user1186211"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662674321,"creation_date":1662674321,"answer_id":73655429,"question_id":19719590,"body_markdown":"Although I tried a number of approaches and was never able to get the icon correctly set in the ULHC of the JFrame, I was able to get a full-sized icon (194 &#215; 177 pixels) to show in the Task Bar, which for this project, is enough.\r\n\r\nThis is what worked for me:\r\n\r\n        String sImageFileName = &quot;/lb/icons/favicon.png&quot;;\r\n        URL urlImageFileName = getClass().getResource(sImageFileName);\r\n\r\n        if (urlImageFileName == null)\r\n            System.out.println( &quot;urlImageFileName: &quot; + urlImageFileName + &quot; Not Found.&quot; );\r\n        else {\r\n            ImageIcon oImageIcon = new ImageIcon(getClass().getResource(sImageFileName));\r\n            setIconImage(oImageIcon.getImage());\r\n        }  // end else\r\n\r\n/lb is the root of your pkg as it appears in the current jar.\r\n\r\nHope this helps.","title":"JFrame.setIconImage() not working","body":"<p>Although I tried a number of approaches and was never able to get the icon correctly set in the ULHC of the JFrame, I was able to get a full-sized icon (194  177 pixels) to show in the Task Bar, which for this project, is enough.</p>\n<p>This is what worked for me:</p>\n<pre><code>    String sImageFileName = &quot;/lb/icons/favicon.png&quot;;\n    URL urlImageFileName = getClass().getResource(sImageFileName);\n\n    if (urlImageFileName == null)\n        System.out.println( &quot;urlImageFileName: &quot; + urlImageFileName + &quot; Not Found.&quot; );\n    else {\n        ImageIcon oImageIcon = new ImageIcon(getClass().getResource(sImageFileName));\n        setIconImage(oImageIcon.getImage());\n    }  // end else\n</code></pre>\n<p>/lb is the root of your pkg as it appears in the current jar.</p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":3135161,"reputation":1524,"user_id":2651804,"accept_rate":80,"display_name":"user2651804"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5947,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":19719665,"answer_count":3,"score":1,"last_activity_date":1672752542,"creation_date":1383270541,"question_id":19719590,"body_markdown":"    public class RType extends JFrame {\r\n\r\n\tprivate static ImageIcon ICON = new ImageIcon(&quot;craft.png&quot;);\r\n\t\r\n    public RType() {\r\n\r\n        add(new Board());\r\n\t\tsetIconImage(ICON.getImage());\r\n\t\t\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setSize(400, 300);\r\n        setLocationRelativeTo(null);\r\n        setTitle(&quot;R - Type&quot;);\r\n        setResizable(false);\r\n        setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new RType();\r\n    }\r\n    }\r\n\r\nThis code still works fine and compiles after I attempt to set an icon image for the JFrame, but there is no difference. I still see the default java-icon. Can someone detect the problem? &quot;craft.png&quot; is 20x20 pixels. It is correctly placed within the ressource folder (no ClassLoader-exceptions and no other compile-time errors).","title":"JFrame.setIconImage() not working","body":"<pre><code>public class RType extends JFrame {\n\nprivate static ImageIcon ICON = new ImageIcon(\"craft.png\");\n\npublic RType() {\n\n    add(new Board());\n    setIconImage(ICON.getImage());\n\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setSize(400, 300);\n    setLocationRelativeTo(null);\n    setTitle(\"R - Type\");\n    setResizable(false);\n    setVisible(true);\n}\n\npublic static void main(String[] args) {\n    new RType();\n}\n}\n</code></pre>\n\n<p>This code still works fine and compiles after I attempt to set an icon image for the JFrame, but there is no difference. I still see the default java-icon. Can someone detect the problem? \"craft.png\" is 20x20 pixels. It is correctly placed within the ressource folder (no ClassLoader-exceptions and no other compile-time errors).</p>\n"},{"tags":["java","android","kotlin","encryption","android-ksoap2"],"answers":[{"comments":[{"owner":{"account_id":6597362,"reputation":385,"user_id":5096681,"accept_rate":52,"display_name":"TwoDent"},"score":1,"creation_date":1672751452,"post_id":74992512,"comment_id":132341471,"body_markdown":"I really appreciate your help. I was able to solve my problem now (already post the answer). It turns out that the way I was doing it with ksoap2 was the right one. I&#180;m also  interested in testing your Soap client in the Android App","body":"I really appreciate your help. I was able to solve my problem now (already post the answer). It turns out that the way I was doing it with ksoap2 was the right one. I&#180;m also  interested in testing your Soap client in the Android App"}],"tags":[],"owner":{"account_id":27360805,"reputation":87,"user_id":20868442,"display_name":"Lian Xucan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672744069,"creation_date":1672744069,"answer_id":74992512,"question_id":74979278,"body_markdown":"I write some code for you, and you can see the complete code at [https://github.com/XSComSoft/stack-overflow][1]\r\n\r\nIn the main and two copies of the test code package `org.exmaple.Stack74979278` respectively containing the client code and the server code\r\n\r\nYou can simple run test at class `org.example.stack74979278.Main` if you open this with `idea` as maven project\r\n\r\nCommunication only needs to rely on `java jws`\r\n\r\n\r\n  [1]: https://github.com/XSComSoft/stack-overflow\r\n\r\nHere are some code snippets\r\n\r\n**KeyService.java**\r\n\r\n    @WebService\r\n    @SOAPBinding(style = SOAPBinding.Style.RPC)\r\n    public interface KeyService {\r\n    @WebMethod\r\n    @WebResult(name = &quot;get&quot;)\r\n    byte[] getPublicKey();\r\n  \r\n    @WebMethod\r\n    @WebResult(name = &quot;get&quot;)\r\n    String getDecodeByPrivateKey(String base64) throws Exception;\r\n  \r\n    }\r\n\r\n**KeyServiceImpl.java**\r\n\r\n    @WebService(endpointInterface = &quot;org.example.stack74979278.KeyService&quot;)\r\n    public class KeyServiceImpl implements KeyService{\r\n    \r\n        private RSAPublicKey puk;\r\n        private RSAPrivateKey prk;\r\n    \r\n        public byte[] getPublicKey() {\r\n            return puk.getEncoded();\r\n        }\r\n    \r\n        @Override\r\n        public String getDecodeByPrivateKey(String base64) throws Exception {\r\n            return RSAUtils.decryptByPrivateKey(base64, prk);\r\n        }\r\n    \r\n        public KeyServiceImpl() throws Exception {\r\n            //        List&lt;Key&gt; keyList = RSAUtils.getRSAKeyObject(1024);\r\n            //        puk = (RSAPublicKey) keyList.get(0);\r\n            //        prk = (RSAPrivateKey) keyList.get(1);\r\n            Properties properties = new Properties();\r\n            properties.load(KeyServiceImpl.class.getResourceAsStream(&quot;/stack74979278/keys.properties&quot;));\r\n    \r\n            puk = RSAUtils.getPublicKey(properties.getProperty(&quot;public&quot;));\r\n            prk = RSAUtils.getPrivateKey(properties.getProperty(&quot;private&quot;));\r\n    \r\n            String publicKey = Base64.getEncoder().encodeToString(puk.getEncoded());\r\n            String privateKey = Base64.getEncoder().encodeToString(prk.getEncoded());\r\n            System.out.println(&quot;publicKey&quot;);\r\n            System.out.println(publicKey);\r\n    \r\n            System.out.println(&quot;privateKey&quot;);\r\n            System.out.println(privateKey);\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            Endpoint.publish(&quot;http://localhost/test&quot;, new KeyServiceImpl());\r\n        }\r\n    }\r\n\r\n**RSAUtil.java**\r\n\r\n    public class  RSAUtils {\r\n     \r\n        // \r\n        private final static String ALGORITHM_RSA = &quot;RSA&quot;;\r\n     \r\n        /**\r\n         * \r\n         *\r\n         * @param modulus\r\n         *\r\n         * @throws NoSuchAlgorithmException\r\n         *\r\n         */\r\n        public static List&lt;Key&gt; getRSAKeyObject(int modulus) throws NoSuchAlgorithmException{\r\n     \r\n            List&lt;Key&gt; keyList = new ArrayList&lt;&gt;(2);\r\n            // RSA\r\n            KeyPairGenerator keyPairGen = KeyPairGenerator.getInstance(ALGORITHM_RSA);\r\n            // RSA = \r\n            keyPairGen.initialize(modulus);\r\n            KeyPair keyPair = keyPairGen.generateKeyPair();\r\n            // keyPair.getPublic() RSAPublic\r\n            keyList.add(keyPair.getPublic());\r\n            // keyPair.getPrivate() RSAPrivateKey\r\n            keyList.add(keyPair.getPrivate());\r\n            return keyList;\r\n        }\r\n     \r\n        /**\r\n         * \r\n         * \r\n         *\r\n         * @param modulus \r\n         * @return\r\n         * @throws NoSuchAlgorithmException\r\n         */\r\n        public static List&lt;String&gt; getRSAKeyString(int modulus) throws NoSuchAlgorithmException{\r\n     \r\n            List&lt;String&gt; keyList = new ArrayList&lt;&gt;(2);\r\n            KeyPairGenerator keyPairGen = KeyPairGenerator.getInstance(ALGORITHM_RSA);\r\n            keyPairGen.initialize(modulus);\r\n            KeyPair keyPair = keyPairGen.generateKeyPair();\r\n            String publicKey = Base64.getEncoder().encodeToString(keyPair.getPublic().getEncoded());\r\n            String privateKey = Base64.getEncoder().encodeToString(keyPair.getPrivate().getEncoded());\r\n            keyList.add(publicKey);\r\n            keyList.add(privateKey);\r\n            return keyList;\r\n        }\r\n    \r\n        public static RSAPublicKey getPublicKey(String publicKey) throws Exception {\r\n            byte[] keyBytes = Base64.getDecoder().decode(publicKey);\r\n            KeyFactory keyFactory = KeyFactory.getInstance(ALGORITHM_RSA);\r\n            X509EncodedKeySpec spec = new X509EncodedKeySpec(keyBytes);\r\n            return (RSAPublicKey) keyFactory.generatePublic(spec);\r\n        }\r\n    \r\n        public static RSAPublicKey getPublicKey(byte[] keyBytes) throws Exception {\r\n            RSAPublicKey publicKey =\r\n                    (RSAPublicKey) KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(new X509EncodedKeySpec(keyBytes));\r\n            return publicKey;\r\n        }\r\n    \r\n        public static RSAPrivateKey getPrivateKey(String privateKey) throws Exception {\r\n            byte[] keyBytes = Base64.getDecoder().decode(privateKey);\r\n            return getPrivateKey(keyBytes);\r\n        }\r\n    \r\n        public static RSAPrivateKey getPrivateKey(byte[] keyBytes) throws Exception {\r\n            KeyFactory keyFactory = KeyFactory.getInstance(ALGORITHM_RSA);\r\n            PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(keyBytes);\r\n            return (RSAPrivateKey) keyFactory.generatePrivate(spec);\r\n        }\r\n     \r\n        /**\r\n         * \r\n         *\r\n         * @param data\r\n         * @param publicKey\r\n         * @return\r\n         * @throws Exception\r\n         */\r\n        public static String encryptByPublicKey(String data, RSAPublicKey publicKey)\r\n                throws Exception {\r\n            Cipher cipher = Cipher.getInstance(ALGORITHM_RSA);\r\n            cipher.init(Cipher.ENCRYPT_MODE, publicKey);\r\n            // n\r\n            int modulusSize = publicKey.getModulus().bitLength() / 8;\r\n            // PKCS Padding11 - 11byte\r\n            int maxSingleSize = modulusSize - 11;\r\n            // maxSingleSize\r\n            byte[][] dataArray = splitArray(data.getBytes(), maxSingleSize);\r\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n            // \r\n            for (byte[] s : dataArray) {\r\n                out.write(cipher.doFinal(s));\r\n            }\r\n            // Base64String\r\n            return Base64.getEncoder().encodeToString(out.toByteArray());\r\n        }\r\n     \r\n        /**\r\n         * \r\n         *\r\n         * @param data\r\n         * @param privateKey\r\n         * @return\r\n         * @throws Exception\r\n         */\r\n        public static String decryptByPrivateKey(String data, RSAPrivateKey privateKey)\r\n                throws Exception {\r\n            Cipher cipher = Cipher.getInstance(ALGORITHM_RSA);\r\n            cipher.init(Cipher.DECRYPT_MODE, privateKey);\r\n            // RSA n\r\n            int modulusSize = privateKey.getModulus().bitLength() / 8;\r\n            byte[] dataBytes = data.getBytes();\r\n            // Base64\r\n            byte[] decodeData = Base64.getDecoder().decode(dataBytes);\r\n            // modulusSize\r\n            byte[][] splitArrays = splitArray(decodeData, modulusSize);\r\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n            for(byte[] arr : splitArrays){\r\n                out.write(cipher.doFinal(arr));\r\n            }\r\n            return new String(out.toByteArray());\r\n        }\r\n     \r\n        /**\r\n         * \r\n         *\r\n         * @param data\r\n         * @param len \r\n         * @return\r\n         */\r\n        private static byte[][] splitArray(byte[] data,int len){\r\n     \r\n            int dataLen = data.length;\r\n            if (dataLen &lt;= len) {\r\n                return new byte[][]{data};\r\n            }\r\n            byte[][] result = new byte[(dataLen-1)/len + 1][];\r\n            int resultLen = result.length;\r\n            for (int i = 0; i &lt; resultLen; i++) {\r\n                if (i == resultLen - 1) {\r\n                    int slen = dataLen - len * i;\r\n                    byte[] single = new byte[slen];\r\n                    System.arraycopy(data, len * i, single, 0, slen);\r\n                    result[i] = single;\r\n                    break;\r\n                }\r\n                byte[] single = new byte[len];\r\n                System.arraycopy(data, len * i, single, 0, len);\r\n                result[i] = single;\r\n            }\r\n            return result;\r\n        }\r\n     \r\n     \r\n    }\r\n\r\nand the client generator by cmd`wsimport -keep -p org.example.stack74979278 http://localhost/test?wsdl`, see detail a\r\n\r\n**the client test class** \r\n\r\n    @Log\r\n    public class Main {\r\n    \r\n        @Test\r\n        public void getPublicKey(){\r\n            byte[] bytes = new KeyServiceImplService().getKeyServiceImplPort().getPublicKey();\r\n            System.out.println(bytes);\r\n        }\r\n    \r\n        @Test\r\n        public void getDecode() throws Exception {\r\n            KeyService keyService = new KeyServiceImplService().getKeyServiceImplPort();\r\n            byte[] bytes = keyService.getPublicKey();\r\n            RSAPublicKey publicKey = RSAUtils.getPublicKey(bytes);\r\n            String encrypt = &quot;The message encrypt&quot;;\r\n            String str = keyService.getDecodeByPrivateKey(RSAUtils.encryptByPublicKey(encrypt, publicKey));\r\n            log.info(str);\r\n        }\r\n    \r\n    }\r\n\r\nNow you can get the `public key byte` for android client and send server the `encrypted base64 string`","title":"Receive byte array from server in ksoap2 Android client","body":"<p>I write some code for you, and you can see the complete code at <a href=\"https://github.com/XSComSoft/stack-overflow\" rel=\"nofollow noreferrer\">https://github.com/XSComSoft/stack-overflow</a></p>\n<p>In the main and two copies of the test code package <code>org.exmaple.Stack74979278</code> respectively containing the client code and the server code</p>\n<p>You can simple run test at class <code>org.example.stack74979278.Main</code> if you open this with <code>idea</code> as maven project</p>\n<p>Communication only needs to rely on <code>java jws</code></p>\n<p>Here are some code snippets</p>\n<p><strong>KeyService.java</strong></p>\n<pre><code>@WebService\n@SOAPBinding(style = SOAPBinding.Style.RPC)\npublic interface KeyService {\n@WebMethod\n@WebResult(name = &quot;get&quot;)\nbyte[] getPublicKey();\n\n@WebMethod\n@WebResult(name = &quot;get&quot;)\nString getDecodeByPrivateKey(String base64) throws Exception;\n\n}\n</code></pre>\n<p><strong>KeyServiceImpl.java</strong></p>\n<pre><code>@WebService(endpointInterface = &quot;org.example.stack74979278.KeyService&quot;)\npublic class KeyServiceImpl implements KeyService{\n\n    private RSAPublicKey puk;\n    private RSAPrivateKey prk;\n\n    public byte[] getPublicKey() {\n        return puk.getEncoded();\n    }\n\n    @Override\n    public String getDecodeByPrivateKey(String base64) throws Exception {\n        return RSAUtils.decryptByPrivateKey(base64, prk);\n    }\n\n    public KeyServiceImpl() throws Exception {\n        //        List&lt;Key&gt; keyList = RSAUtils.getRSAKeyObject(1024);\n        //        puk = (RSAPublicKey) keyList.get(0);\n        //        prk = (RSAPrivateKey) keyList.get(1);\n        Properties properties = new Properties();\n        properties.load(KeyServiceImpl.class.getResourceAsStream(&quot;/stack74979278/keys.properties&quot;));\n\n        puk = RSAUtils.getPublicKey(properties.getProperty(&quot;public&quot;));\n        prk = RSAUtils.getPrivateKey(properties.getProperty(&quot;private&quot;));\n\n        String publicKey = Base64.getEncoder().encodeToString(puk.getEncoded());\n        String privateKey = Base64.getEncoder().encodeToString(prk.getEncoded());\n        System.out.println(&quot;publicKey&quot;);\n        System.out.println(publicKey);\n\n        System.out.println(&quot;privateKey&quot;);\n        System.out.println(privateKey);\n    }\n\n    public static void main(String[] args) throws Exception {\n        Endpoint.publish(&quot;http://localhost/test&quot;, new KeyServiceImpl());\n    }\n}\n</code></pre>\n<p><strong>RSAUtil.java</strong></p>\n<pre><code>public class  RSAUtils {\n \n    // \n    private final static String ALGORITHM_RSA = &quot;RSA&quot;;\n \n    /**\n     * \n     *\n     * @param modulus\n     *\n     * @throws NoSuchAlgorithmException\n     *\n     */\n    public static List&lt;Key&gt; getRSAKeyObject(int modulus) throws NoSuchAlgorithmException{\n \n        List&lt;Key&gt; keyList = new ArrayList&lt;&gt;(2);\n        // RSA\n        KeyPairGenerator keyPairGen = KeyPairGenerator.getInstance(ALGORITHM_RSA);\n        // RSA = \n        keyPairGen.initialize(modulus);\n        KeyPair keyPair = keyPairGen.generateKeyPair();\n        // keyPair.getPublic() RSAPublic\n        keyList.add(keyPair.getPublic());\n        // keyPair.getPrivate() RSAPrivateKey\n        keyList.add(keyPair.getPrivate());\n        return keyList;\n    }\n \n    /**\n     * \n     * \n     *\n     * @param modulus \n     * @return\n     * @throws NoSuchAlgorithmException\n     */\n    public static List&lt;String&gt; getRSAKeyString(int modulus) throws NoSuchAlgorithmException{\n \n        List&lt;String&gt; keyList = new ArrayList&lt;&gt;(2);\n        KeyPairGenerator keyPairGen = KeyPairGenerator.getInstance(ALGORITHM_RSA);\n        keyPairGen.initialize(modulus);\n        KeyPair keyPair = keyPairGen.generateKeyPair();\n        String publicKey = Base64.getEncoder().encodeToString(keyPair.getPublic().getEncoded());\n        String privateKey = Base64.getEncoder().encodeToString(keyPair.getPrivate().getEncoded());\n        keyList.add(publicKey);\n        keyList.add(privateKey);\n        return keyList;\n    }\n\n    public static RSAPublicKey getPublicKey(String publicKey) throws Exception {\n        byte[] keyBytes = Base64.getDecoder().decode(publicKey);\n        KeyFactory keyFactory = KeyFactory.getInstance(ALGORITHM_RSA);\n        X509EncodedKeySpec spec = new X509EncodedKeySpec(keyBytes);\n        return (RSAPublicKey) keyFactory.generatePublic(spec);\n    }\n\n    public static RSAPublicKey getPublicKey(byte[] keyBytes) throws Exception {\n        RSAPublicKey publicKey =\n                (RSAPublicKey) KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(new X509EncodedKeySpec(keyBytes));\n        return publicKey;\n    }\n\n    public static RSAPrivateKey getPrivateKey(String privateKey) throws Exception {\n        byte[] keyBytes = Base64.getDecoder().decode(privateKey);\n        return getPrivateKey(keyBytes);\n    }\n\n    public static RSAPrivateKey getPrivateKey(byte[] keyBytes) throws Exception {\n        KeyFactory keyFactory = KeyFactory.getInstance(ALGORITHM_RSA);\n        PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(keyBytes);\n        return (RSAPrivateKey) keyFactory.generatePrivate(spec);\n    }\n \n    /**\n     * \n     *\n     * @param data\n     * @param publicKey\n     * @return\n     * @throws Exception\n     */\n    public static String encryptByPublicKey(String data, RSAPublicKey publicKey)\n            throws Exception {\n        Cipher cipher = Cipher.getInstance(ALGORITHM_RSA);\n        cipher.init(Cipher.ENCRYPT_MODE, publicKey);\n        // n\n        int modulusSize = publicKey.getModulus().bitLength() / 8;\n        // PKCS Padding11 - 11byte\n        int maxSingleSize = modulusSize - 11;\n        // maxSingleSize\n        byte[][] dataArray = splitArray(data.getBytes(), maxSingleSize);\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        // \n        for (byte[] s : dataArray) {\n            out.write(cipher.doFinal(s));\n        }\n        // Base64String\n        return Base64.getEncoder().encodeToString(out.toByteArray());\n    }\n \n    /**\n     * \n     *\n     * @param data\n     * @param privateKey\n     * @return\n     * @throws Exception\n     */\n    public static String decryptByPrivateKey(String data, RSAPrivateKey privateKey)\n            throws Exception {\n        Cipher cipher = Cipher.getInstance(ALGORITHM_RSA);\n        cipher.init(Cipher.DECRYPT_MODE, privateKey);\n        // RSA n\n        int modulusSize = privateKey.getModulus().bitLength() / 8;\n        byte[] dataBytes = data.getBytes();\n        // Base64\n        byte[] decodeData = Base64.getDecoder().decode(dataBytes);\n        // modulusSize\n        byte[][] splitArrays = splitArray(decodeData, modulusSize);\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        for(byte[] arr : splitArrays){\n            out.write(cipher.doFinal(arr));\n        }\n        return new String(out.toByteArray());\n    }\n \n    /**\n     * \n     *\n     * @param data\n     * @param len \n     * @return\n     */\n    private static byte[][] splitArray(byte[] data,int len){\n \n        int dataLen = data.length;\n        if (dataLen &lt;= len) {\n            return new byte[][]{data};\n        }\n        byte[][] result = new byte[(dataLen-1)/len + 1][];\n        int resultLen = result.length;\n        for (int i = 0; i &lt; resultLen; i++) {\n            if (i == resultLen - 1) {\n                int slen = dataLen - len * i;\n                byte[] single = new byte[slen];\n                System.arraycopy(data, len * i, single, 0, slen);\n                result[i] = single;\n                break;\n            }\n            byte[] single = new byte[len];\n            System.arraycopy(data, len * i, single, 0, len);\n            result[i] = single;\n        }\n        return result;\n    }\n \n \n}\n</code></pre>\n<p>and the client generator by cmd<code>wsimport -keep -p org.example.stack74979278 http://localhost/test?wsdl</code>, see detail a</p>\n<p><strong>the client test class</strong></p>\n<pre><code>@Log\npublic class Main {\n\n    @Test\n    public void getPublicKey(){\n        byte[] bytes = new KeyServiceImplService().getKeyServiceImplPort().getPublicKey();\n        System.out.println(bytes);\n    }\n\n    @Test\n    public void getDecode() throws Exception {\n        KeyService keyService = new KeyServiceImplService().getKeyServiceImplPort();\n        byte[] bytes = keyService.getPublicKey();\n        RSAPublicKey publicKey = RSAUtils.getPublicKey(bytes);\n        String encrypt = &quot;The message encrypt&quot;;\n        String str = keyService.getDecodeByPrivateKey(RSAUtils.encryptByPublicKey(encrypt, publicKey));\n        log.info(str);\n    }\n\n}\n</code></pre>\n<p>Now you can get the <code>public key byte</code> for android client and send server the <code>encrypted base64 string</code></p>\n"},{"tags":[],"owner":{"account_id":6597362,"reputation":385,"user_id":5096681,"accept_rate":52,"display_name":"TwoDent"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672751611,"creation_date":1672751243,"answer_id":74993774,"question_id":74979278,"body_markdown":"Well I don&#39;t know how to start this. Apparently, the way to receive an array of bytes as I was doing right now, **is the right one**.\r\n\r\nWith **ksoap2** you get the response string, and then decode the String to get your array of bytes.\r\n\r\n      private fun makeKey(encodedString : String) : Boolean {\r\n        return try {\r\n            val byteArr = Base64.decode(encodedString, Base64.DEFAULT) &lt;--- OK\r\n            val specifications = X509EncodedKeySpec(byteArr)\r\n            val factory: KeyFactory = KeyFactory.getInstance(&quot;RSA&quot;)\r\n            publicKey = factory.generatePublic(specifications)\r\n            true\r\n        } catch (e : Exception) {\r\n            e.printStackTrace()\r\n            false\r\n        }\r\n      }\r\n\r\nHow come I&#180;m so sure of this? Well, is because what was killing me had nothing to do with encoding. It was how I was initializing the **Cipher**. As I said before, with Java applications, everything was working correctly, but when using the same implementation in android applications (Java Application &lt;=&gt; Android Application), the decryption failed.\r\n\r\nHow I was initializing the Cipher was like this:\r\n\r\n    Cipher.getInstance(&quot;RSA&quot;)\r\n\r\nAccording with a comment of this [question][1] If you initialize it this way, what will happen is that both, the Android App and the Server will use their independent implementations. This is why it was always failing at the moment of decryption.\r\n\r\n**To make all things clear:**\r\n\r\nIf you are trying to do the same as me, try to initialize all Cipher with **RSA/ECB/PKCS1Padding** in both sides (Server and App)\r\n\r\n    Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;)\r\n\r\nOther things like KeyFactory and KeyPairGenerator has to be initialized only with &quot;RSA&quot;.\r\n\r\n    KeyPairGenerator.getInstance(&quot;RSA&quot;)\r\n\r\n    KeyFactory.getInstance(&quot;RSA&quot;)\r\n\r\nP.D: I NEVER encoded the array of bytes of the key to Base64 in my SOAP Service... Which makes me think that base64 encoding is done by default at some point\r\n\r\n  [1]: https://stackoverflow.com/questions/31359694/asymmetric-encryption-discrepancy-android-vs-java","title":"Receive byte array from server in ksoap2 Android client","body":"<p>Well I don't know how to start this. Apparently, the way to receive an array of bytes as I was doing right now, <strong>is the right one</strong>.</p>\n<p>With <strong>ksoap2</strong> you get the response string, and then decode the String to get your array of bytes.</p>\n<pre><code>  private fun makeKey(encodedString : String) : Boolean {\n    return try {\n        val byteArr = Base64.decode(encodedString, Base64.DEFAULT) &lt;--- OK\n        val specifications = X509EncodedKeySpec(byteArr)\n        val factory: KeyFactory = KeyFactory.getInstance(&quot;RSA&quot;)\n        publicKey = factory.generatePublic(specifications)\n        true\n    } catch (e : Exception) {\n        e.printStackTrace()\n        false\n    }\n  }\n</code></pre>\n<p>How come Im so sure of this? Well, is because what was killing me had nothing to do with encoding. It was how I was initializing the <strong>Cipher</strong>. As I said before, with Java applications, everything was working correctly, but when using the same implementation in android applications (Java Application &lt;=&gt; Android Application), the decryption failed.</p>\n<p>How I was initializing the Cipher was like this:</p>\n<pre><code>Cipher.getInstance(&quot;RSA&quot;)\n</code></pre>\n<p>According with a comment of this <a href=\"https://stackoverflow.com/questions/31359694/asymmetric-encryption-discrepancy-android-vs-java\">question</a> If you initialize it this way, what will happen is that both, the Android App and the Server will use their independent implementations. This is why it was always failing at the moment of decryption.</p>\n<p><strong>To make all things clear:</strong></p>\n<p>If you are trying to do the same as me, try to initialize all Cipher with <strong>RSA/ECB/PKCS1Padding</strong> in both sides (Server and App)</p>\n<pre><code>Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;)\n</code></pre>\n<p>Other things like KeyFactory and KeyPairGenerator has to be initialized only with &quot;RSA&quot;.</p>\n<pre><code>KeyPairGenerator.getInstance(&quot;RSA&quot;)\n\nKeyFactory.getInstance(&quot;RSA&quot;)\n</code></pre>\n<p>P.D: I NEVER encoded the array of bytes of the key to Base64 in my SOAP Service... Which makes me think that base64 encoding is done by default at some point</p>\n"}],"owner":{"account_id":6597362,"reputation":385,"user_id":5096681,"accept_rate":52,"display_name":"TwoDent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74993774,"answer_count":2,"score":1,"last_activity_date":1672751611,"creation_date":1672638022,"question_id":74979278,"body_markdown":"Good day.\r\n\r\nI&#39;m trying to implement RSA encryption between server and Android app. My goal is:\r\n\r\n1. Share the public key with the app.\r\n2. The application performs encryption and sends the encrypted text to the server.\r\n3. The server decrypts the text with the private key.\r\n\r\nBefore the Android app, I did the same steps but with a Java Application, and it worked like a charm. But the thing is how the client was made in that application... On the server side, I did a Soap web service that returns the array of bytes of the public key:\r\n\r\n    @WebMethod(operationName = &quot;getKey&quot;)\r\n\tpublic byte[] getPublicKey() {\r\n\t\ttry {\r\n\t\t\t// Message Context\r\n\t\t\tMessageContext mctx = wsctx.getMessageContext();\r\n\t\t\t// Getting parameter services\r\n\t\t\tParameterServices params = ParameterServices.NewParameterServices(getHttpServletRequestFromMsgContext(mctx), &quot;Dumb Payload&quot;);\r\n\t\t\t// Initializing KEYGEN Object\r\n\t\t\tinitKeyGen(params);\r\n\t\t\t// Checking if there are no keys created\r\n\t\t\tKEYGEN.updateKeys();\r\n\t\t\t// Creating and sending public key\r\n\t\t\treturn KEYGEN.generatePublicKey();\r\n\t\t} catch (Throwable e) {\r\n\t\t\tLOGGER.error(&quot;Exception in KeyService&quot;, e);\r\n\t\t\treturn new byte[0];\r\n\t\t}\r\n\t}\r\n\r\nIn the Java Application, I created the client Interface with javax.jws like this:\r\n\r\n    @WebService(targetNamespace = &quot;http://my.targetname.value/&quot;)\r\n    @SOAPBinding(style = SOAPBinding.Style.RPC)\r\n    public interface KeyService {\r\n      @WebMethod\r\n      byte[] getPublicKey();\r\n    }\r\n\r\nAnd this is the part where I&#39;m pretty sure that is the problem. How I retrieve the array of bytes to make the public key it&#180;s something like this:\r\n\r\n    try {\r\n          URL url = new URL(WSDLURL);\r\n          QName qname = \r\n            new QName(TARGETNAMESPACE, SERVICENAME);\r\n          Service service = Service.create(url, qname);\r\n          KeyService keyserv = service.&lt;KeyService&gt;getPort(KeyService.class);\r\n          byte[] key = keyserv.getPublicKey();\r\n          X509EncodedKeySpec spec = new X509EncodedKeySpec(key);\r\n          KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n          publicKey = kf.generatePublic(spec);\r\n          return true;\r\n        } catch (MalformedURLException|java.security.NoSuchAlgorithmException|java.security.spec.InvalidKeySpecException e) {\r\n          e.printStackTrace();\r\n          return false;\r\n        } \r\n\r\nThis line:\r\n\r\n&gt; byte[] key = keyserv.getPublicKey();\r\n\r\nI&#39;m not doing anything with the bytes, I&#39;m just fetching it and done, whatever is throwing the method **java.security.Key.getEncoded()** from the server.\r\n\r\n**ANDROID KOTLIN VERSION**\r\n\r\nFirst of all, I tried to import JAXB to android, and I died during the attempt. Later I found the android library **ksoap2** from this [question][1]. The implementation&#39;s almost the same, also the dependencies (**ksoap2-android-2.5.2**, **kxml2-2.2.1**...)\r\n\r\n    class KeyServiceKSoap {\r\n    \r\n        val NAMESPACE = &quot;http://my.targetname.value/&quot;\r\n        val URL = &quot;http://192.168.0.11:8080/RSATest/keyService?wsdl&quot;\r\n        val METHOD_NAME = &quot;obtainKey&quot;\r\n        val SOAP_ACTION = &quot;http://my.targetname.value/RSATest/obtainKeyRequest&quot;\r\n    \r\n        private var thread: Thread? = null\r\n    \r\n        fun fetchByteArray(getKey : MutableLiveData&lt;String&gt;) {\r\n            thread = object : Thread() {\r\n                override fun run() {\r\n                    try {\r\n                        Log.d(&quot;KeyService&quot;, &quot;Starting...&quot;)\r\n                        val request = SoapObject(NAMESPACE, METHOD_NAME)\r\n                        val envelope = SoapSerializationEnvelope(\r\n                            SoapEnvelope.VER12\r\n                        )\r\n                        envelope.env = &quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\n                        envelope.setOutputSoapObject(request)\r\n                        envelope.headerOut = Array(1) { buildAuthHeaders() }\r\n                        val androidHttpTransport = HttpTransportSE(\r\n                            URL,\r\n                            30000\r\n                        )\r\n                        androidHttpTransport.call(SOAP_ACTION, envelope)\r\n                        val objectResult: SoapObject = envelope.bodyIn as SoapObject\r\n                        getKey.postValue(objectResult.getProperty(&quot;return&quot;).toString())\r\n                    } catch (sp: SoapFault) {\r\n                        sp.printStackTrace()\r\n                        getKey.postValue(&quot;FAILURE&quot;)\r\n                    } catch (e: Exception) {\r\n                        e.printStackTrace()\r\n                        getKey.postValue(&quot;FAILURE&quot;)\r\n                    }\r\n                }\r\n            }\r\n            thread!!.start()\r\n        }\r\n    \r\n        private fun buildAuthHeaders() : Element {\r\n            val authorization = Element().createElement(NAMESPACE, &quot;Authorization&quot;)\r\n            authorization.addChild(Node.TEXT, &quot;BEARER&quot;)\r\n            return authorization\r\n        }\r\n    }\r\n\r\n**THE PROBLEM**\r\n\r\nMy problem here is that the response I&#39;m getting it as a String, as you can see in this line:\r\n\r\n&gt; objectResult.getProperty(&quot;return&quot;).toString()\r\n\r\nIf you check the Java Application client, I&#39;m getting the array value directly, and not as a String. The issue here is that I don&#39;t know what kind of encoding is doing the method **java.security.Key.getEncoded()**. I mean, If I know for example that this method is returning a Base64 encoded byte array, in the android application I just need to decode like this and done:\r\n\r\n    private fun makeKey(encodedString : String) : Boolean {\r\n        return try {\r\n            val byteArr = Base64.decode(encodedString, Base64.DEFAULT);\r\n            val specifications = X509EncodedKeySpec(byteArr)\r\n            val factory: KeyFactory = KeyFactory.getInstance(&quot;RSA&quot;)\r\n            publicKey = factory.generatePublic(specifications)\r\n            true\r\n        } catch (e : Exception) {\r\n            e.printStackTrace()\r\n            false\r\n        }\r\n    }\r\n\r\n**BUT OBVIOUSLY IS NOT LIKE THIS**, if I encrypt and send the encoded string to the server, and the server tries to decrypt this string, I will get **javax.crypto.BadPaddingException: Decryption error**, since the array of bytes was not encoded with Base64...\r\n\r\nIs there a way to receive the byte array in **ksoap2 Android** like the interface created in the Java Application?\r\n\r\nIf there is no choice and I have to decode the String (to make the RSA public key in the android app)... what would be the right way to do it?\r\n\r\n  [1]: https://stackoverflow.com/questions/21979805/calling-asmx-from-android/22402261#22402261","title":"Receive byte array from server in ksoap2 Android client","body":"<p>Good day.</p>\n<p>I'm trying to implement RSA encryption between server and Android app. My goal is:</p>\n<ol>\n<li>Share the public key with the app.</li>\n<li>The application performs encryption and sends the encrypted text to the server.</li>\n<li>The server decrypts the text with the private key.</li>\n</ol>\n<p>Before the Android app, I did the same steps but with a Java Application, and it worked like a charm. But the thing is how the client was made in that application... On the server side, I did a Soap web service that returns the array of bytes of the public key:</p>\n<pre><code>@WebMethod(operationName = &quot;getKey&quot;)\npublic byte[] getPublicKey() {\n    try {\n        // Message Context\n        MessageContext mctx = wsctx.getMessageContext();\n        // Getting parameter services\n        ParameterServices params = ParameterServices.NewParameterServices(getHttpServletRequestFromMsgContext(mctx), &quot;Dumb Payload&quot;);\n        // Initializing KEYGEN Object\n        initKeyGen(params);\n        // Checking if there are no keys created\n        KEYGEN.updateKeys();\n        // Creating and sending public key\n        return KEYGEN.generatePublicKey();\n    } catch (Throwable e) {\n        LOGGER.error(&quot;Exception in KeyService&quot;, e);\n        return new byte[0];\n    }\n}\n</code></pre>\n<p>In the Java Application, I created the client Interface with javax.jws like this:</p>\n<pre><code>@WebService(targetNamespace = &quot;http://my.targetname.value/&quot;)\n@SOAPBinding(style = SOAPBinding.Style.RPC)\npublic interface KeyService {\n  @WebMethod\n  byte[] getPublicKey();\n}\n</code></pre>\n<p>And this is the part where I'm pretty sure that is the problem. How I retrieve the array of bytes to make the public key its something like this:</p>\n<pre><code>try {\n      URL url = new URL(WSDLURL);\n      QName qname = \n        new QName(TARGETNAMESPACE, SERVICENAME);\n      Service service = Service.create(url, qname);\n      KeyService keyserv = service.&lt;KeyService&gt;getPort(KeyService.class);\n      byte[] key = keyserv.getPublicKey();\n      X509EncodedKeySpec spec = new X509EncodedKeySpec(key);\n      KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n      publicKey = kf.generatePublic(spec);\n      return true;\n    } catch (MalformedURLException|java.security.NoSuchAlgorithmException|java.security.spec.InvalidKeySpecException e) {\n      e.printStackTrace();\n      return false;\n    } \n</code></pre>\n<p>This line:</p>\n<blockquote>\n<p>byte[] key = keyserv.getPublicKey();</p>\n</blockquote>\n<p>I'm not doing anything with the bytes, I'm just fetching it and done, whatever is throwing the method <strong>java.security.Key.getEncoded()</strong> from the server.</p>\n<p><strong>ANDROID KOTLIN VERSION</strong></p>\n<p>First of all, I tried to import JAXB to android, and I died during the attempt. Later I found the android library <strong>ksoap2</strong> from this <a href=\"https://stackoverflow.com/questions/21979805/calling-asmx-from-android/22402261#22402261\">question</a>. The implementation's almost the same, also the dependencies (<strong>ksoap2-android-2.5.2</strong>, <strong>kxml2-2.2.1</strong>...)</p>\n<pre><code>class KeyServiceKSoap {\n\n    val NAMESPACE = &quot;http://my.targetname.value/&quot;\n    val URL = &quot;http://192.168.0.11:8080/RSATest/keyService?wsdl&quot;\n    val METHOD_NAME = &quot;obtainKey&quot;\n    val SOAP_ACTION = &quot;http://my.targetname.value/RSATest/obtainKeyRequest&quot;\n\n    private var thread: Thread? = null\n\n    fun fetchByteArray(getKey : MutableLiveData&lt;String&gt;) {\n        thread = object : Thread() {\n            override fun run() {\n                try {\n                    Log.d(&quot;KeyService&quot;, &quot;Starting...&quot;)\n                    val request = SoapObject(NAMESPACE, METHOD_NAME)\n                    val envelope = SoapSerializationEnvelope(\n                        SoapEnvelope.VER12\n                    )\n                    envelope.env = &quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\n                    envelope.setOutputSoapObject(request)\n                    envelope.headerOut = Array(1) { buildAuthHeaders() }\n                    val androidHttpTransport = HttpTransportSE(\n                        URL,\n                        30000\n                    )\n                    androidHttpTransport.call(SOAP_ACTION, envelope)\n                    val objectResult: SoapObject = envelope.bodyIn as SoapObject\n                    getKey.postValue(objectResult.getProperty(&quot;return&quot;).toString())\n                } catch (sp: SoapFault) {\n                    sp.printStackTrace()\n                    getKey.postValue(&quot;FAILURE&quot;)\n                } catch (e: Exception) {\n                    e.printStackTrace()\n                    getKey.postValue(&quot;FAILURE&quot;)\n                }\n            }\n        }\n        thread!!.start()\n    }\n\n    private fun buildAuthHeaders() : Element {\n        val authorization = Element().createElement(NAMESPACE, &quot;Authorization&quot;)\n        authorization.addChild(Node.TEXT, &quot;BEARER&quot;)\n        return authorization\n    }\n}\n</code></pre>\n<p><strong>THE PROBLEM</strong></p>\n<p>My problem here is that the response I'm getting it as a String, as you can see in this line:</p>\n<blockquote>\n<p>objectResult.getProperty(&quot;return&quot;).toString()</p>\n</blockquote>\n<p>If you check the Java Application client, I'm getting the array value directly, and not as a String. The issue here is that I don't know what kind of encoding is doing the method <strong>java.security.Key.getEncoded()</strong>. I mean, If I know for example that this method is returning a Base64 encoded byte array, in the android application I just need to decode like this and done:</p>\n<pre><code>private fun makeKey(encodedString : String) : Boolean {\n    return try {\n        val byteArr = Base64.decode(encodedString, Base64.DEFAULT);\n        val specifications = X509EncodedKeySpec(byteArr)\n        val factory: KeyFactory = KeyFactory.getInstance(&quot;RSA&quot;)\n        publicKey = factory.generatePublic(specifications)\n        true\n    } catch (e : Exception) {\n        e.printStackTrace()\n        false\n    }\n}\n</code></pre>\n<p><strong>BUT OBVIOUSLY IS NOT LIKE THIS</strong>, if I encrypt and send the encoded string to the server, and the server tries to decrypt this string, I will get <strong>javax.crypto.BadPaddingException: Decryption error</strong>, since the array of bytes was not encoded with Base64...</p>\n<p>Is there a way to receive the byte array in <strong>ksoap2 Android</strong> like the interface created in the Java Application?</p>\n<p>If there is no choice and I have to decode the String (to make the RSA public key in the android app)... what would be the right way to do it?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1672733769,"post_id":74990010,"comment_id":132335974,"body_markdown":"What about `\\&quot;[^\\\\s]\\&quot;` instead of `\\&quot;.*\\&quot;`?","body":"What about <code>\\&quot;[^\\\\s]\\&quot;</code> instead of <code>\\&quot;.*\\&quot;</code>?"},{"owner":{"account_id":3325662,"reputation":359,"user_id":2795805,"display_name":"Rajesh2389"},"score":0,"creation_date":1672733840,"post_id":74990010,"comment_id":132335998,"body_markdown":"one more Space can present inside the text field","body":"one more Space can present inside the text field"},{"owner":{"account_id":3325662,"reputation":359,"user_id":2795805,"display_name":"Rajesh2389"},"score":0,"creation_date":1672734046,"post_id":74990010,"comment_id":132336050,"body_markdown":"@Wiktor Stribizew, I&#39;m adding the PatternMatching tag as I&#39;m looking for certain patterns in the Line of String using Java Pattern class.","body":"@Wiktor Stribizew, I&#39;m adding the PatternMatching tag as I&#39;m looking for certain patterns in the Line of String using Java Pattern class."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1672734134,"post_id":74990010,"comment_id":132336075,"body_markdown":"My fault. I meant `\\&quot;[^\\&quot;]\\&quot;`.","body":"My fault. I meant <code>\\&quot;[^\\&quot;]\\&quot;</code>."},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":1,"creation_date":1672734280,"post_id":74990010,"comment_id":132336110,"body_markdown":"Regex is what you are looking for, not pattern matching. See tag description where it is written that you should not use it if regex is what you mean.","body":"Regex is what you are looking for, not pattern matching. See tag description where it is written that you should not use it if regex is what you mean."},{"owner":{"account_id":3325662,"reputation":359,"user_id":2795805,"display_name":"Rajesh2389"},"score":0,"creation_date":1672734413,"post_id":74990010,"comment_id":132336147,"body_markdown":"dan1st but that doesn&#39;t solve the digit problem I have mentioned. If the third subfield is digit still it is flagging as invalid","body":"dan1st but that doesn&#39;t solve the digit problem I have mentioned. If the third subfield is digit still it is flagging as invalid"}],"answers":[{"comments":[{"owner":{"account_id":3325662,"reputation":359,"user_id":2795805,"display_name":"Rajesh2389"},"score":0,"creation_date":1672753830,"post_id":74993731,"comment_id":132342226,"body_markdown":"Wiktor, the line that I use is of variable length it and it may have variable number of fields. But what I have to validate is &quot;No more than one space should be present outside of the text field or adjacent to the numeric fields&quot;. How do I find that line has two or more spaces outside of the text field?","body":"Wiktor, the line that I use is of variable length it and it may have variable number of fields. But what I have to validate is &quot;No more than one space should be present outside of the text field or adjacent to the numeric fields&quot;. How do I find that line has two or more spaces outside of the text field?"},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1672753984,"post_id":74993731,"comment_id":132342275,"body_markdown":"@Rajesh2389 The one that does not match `String pattern = &quot;^(?:\\&quot;[^\\&quot;]*\\&quot;|\\\\d+)(?:\\\\s(?:\\&quot;[^\\&quot;]*\\&quot;|\\\\d+))*$&quot;`","body":"@Rajesh2389 The one that does not match <code>String pattern = &quot;^(?:\\&quot;[^\\&quot;]*\\&quot;|\\\\d+)(?:\\\\s(?:\\&quot;[^\\&quot;]*\\&quot;|\\\\d+))*$&quot;</code>"},{"owner":{"account_id":3325662,"reputation":359,"user_id":2795805,"display_name":"Rajesh2389"},"score":0,"creation_date":1672757226,"post_id":74993731,"comment_id":132343388,"body_markdown":"This is working for me. But if I change this block [^\\&quot;] to something like Single Quote [^\\&#39;] it&#39;s not working or [^\\n] for that matter. I do not want to ignore the double quotes as they will be present too inside, but single quote or \\n can be ignored.  I still can replace those double quotes and check against that pattern. But wondering why it&#39;s behaving like that if it&#39;s replaced by some other character.","body":"This is working for me. But if I change this block [^\\&quot;] to something like Single Quote [^\\&#39;] it&#39;s not working or [^\\n] for that matter. I do not want to ignore the double quotes as they will be present too inside, but single quote or \\n can be ignored.  I still can replace those double quotes and check against that pattern. But wondering why it&#39;s behaving like that if it&#39;s replaced by some other character."},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1672757837,"post_id":74993731,"comment_id":132343565,"body_markdown":"@Rajesh2389 No idea what is not working when you change all `&quot;` with `&#39;`. Your question has nothing to do with single quotes.","body":"@Rajesh2389 No idea what is not working when you change all <code>&quot;</code> with <code>&#39;</code>. Your question has nothing to do with single quotes."},{"owner":{"account_id":3325662,"reputation":359,"user_id":2795805,"display_name":"Rajesh2389"},"score":0,"creation_date":1672757990,"post_id":74993731,"comment_id":132343620,"body_markdown":"&quot;Field&quot;&quot;S&quot; -&gt; This will be considered as single field. My bad, I missed it in the question.\nEven if it&#39;s not possible, could you please add that comment to the answer, I&#39;ll mark it as the answer? You saved my day. Thank you very much.","body":"&quot;Field&quot;&quot;S&quot; -&gt; This will be considered as single field. My bad, I missed it in the question. Even if it&#39;s not possible, could you please add that comment to the answer, I&#39;ll mark it as the answer? You saved my day. Thank you very much."},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1672758125,"post_id":74993731,"comment_id":132343668,"body_markdown":"@Rajesh2389 You will need `String pattern = &quot;^(?:\\&quot;[^\\&quot;]*(?:\\&quot;\\&quot;[^\\&quot;]*)*\\&quot;|\\\\d+)(?:\\\\s(?:\\&quot;[^\\&quot;]*(?:\\&quot;\\&quot;[^\\&quot;]*)*\\&quot;|\\\\d+))*$&quot;`","body":"@Rajesh2389 You will need <code>String pattern = &quot;^(?:\\&quot;[^\\&quot;]*(?:\\&quot;\\&quot;[^\\&quot;]*)*\\&quot;|\\\\d+)(?:\\\\s(?:\\&quot;[^\\&quot;]*(?:\\&quot;\\&quot;&zwnj;&#8203;[^\\&quot;]*)*\\&quot;|\\\\d+))*$&quot;</code>"},{"owner":{"account_id":3325662,"reputation":359,"user_id":2795805,"display_name":"Rajesh2389"},"score":0,"creation_date":1672759027,"post_id":74993731,"comment_id":132343968,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/250813/discussion-between-rajesh2389-and-wiktor-stribizew).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/250813/discussion-between-rajesh2389-and-wiktor-stribizew\">continue this discussion in chat</a>."},{"owner":{"account_id":3325662,"reputation":359,"user_id":2795805,"display_name":"Rajesh2389"},"score":0,"creation_date":1672759884,"post_id":74993731,"comment_id":132344319,"body_markdown":"Hi Wiktor, Apologies to bother you repeatedly. One more question on top of that regex, which I just noticed while testing it. Out of two numeric fields, the second one could have dot as decimal separator, i.e., 100.0 though it&#39;s optional. How do we handle such scenario.\nI tried &quot;^(?:\\&quot;[^\\&quot;]*(?:\\&quot;\\&quot;[^\\&quot;]*)*\\&quot;|\\\\d+\\\\.\\\\d)(?:\\\\s(?:\\&quot;[^\\&quot;]*(?:\\&quot;\\&quot;[^\\&quot;]*)*\\&quot;|\\\\d+\\\\.\\\\d))*$&quot;\nBut its not recognizing it tried it with [.] as well","body":"Hi Wiktor, Apologies to bother you repeatedly. One more question on top of that regex, which I just noticed while testing it. Out of two numeric fields, the second one could have dot as decimal separator, i.e., 100.0 though it&#39;s optional. How do we handle such scenario. I tried &quot;^(?:\\&quot;[^\\&quot;]*(?:\\&quot;\\&quot;[^\\&quot;]*)*\\&quot;|\\\\d+\\\\.\\\\d)(?:\\\\s(?:\\&quot;[^\\&quot;]*(&zwnj;&#8203;?:\\&quot;\\&quot;[^\\&quot;]*)*\\&quot;|\\&zwnj;&#8203;\\d+\\\\.\\\\d))*$&quot; But its not recognizing it tried it with [.] as well"},{"owner":{"account_id":3325662,"reputation":359,"user_id":2795805,"display_name":"Rajesh2389"},"score":0,"creation_date":1672761594,"post_id":74993731,"comment_id":132344879,"body_markdown":"The following did the trick. Please correct if there&#39;s something wrong. However, it&#39;s working for me.\n&quot;^(?:\\&quot;[^\\&quot;]*(?:\\&quot;\\&quot;[^\\&quot;]*)*\\&quot;|\\\\d+|\\\\d+[.]\\\\d+)(?:\\\\s(?:\\&quot;[^\\&quot;]*(?:\\&quot;\\&quot;[^\\&quot;]*)*\\&quot;|\\\\d+|\\\\d+[.]\\\\d+))*$&quot;","body":"The following did the trick. Please correct if there&#39;s something wrong. However, it&#39;s working for me. &quot;^(?:\\&quot;[^\\&quot;]*(?:\\&quot;\\&quot;[^\\&quot;]*)*\\&quot;|\\\\d+|\\\\d+[.]\\\\d+)(?:\\\\s(?:\\&quot;[&zwnj;&#8203;^\\&quot;]*(?:\\&quot;\\&quot;[^\\&quot;]*&zwnj;&#8203;)*\\&quot;|\\\\d+|\\\\d+[.]\\\\d&zwnj;&#8203;+))*$&quot;"},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":1,"creation_date":1672766869,"post_id":74993731,"comment_id":132346607,"body_markdown":"@Rajesh2389 Matching int or floats: `String pattern = &quot;^(?:\\&quot;[^\\&quot;]*(?:\\&quot;\\&quot;[^\\&quot;]*)*\\&quot;|\\\\d+(?:\\\\.\\\\d+)?)(?:\\\\s(?:\\&quot;[^\\&quot;]*(?:\\&quot;\\&quot;[^\\&quot;]*)*\\&quot;|\\\\d+(?:\\\\.\\\\d+)?))*$&quot;`","body":"@Rajesh2389 Matching int or floats: <code>String pattern = &quot;^(?:\\&quot;[^\\&quot;]*(?:\\&quot;\\&quot;[^\\&quot;]*)*\\&quot;|\\\\d+(?:\\\\.\\\\d+)?)(?:\\\\s(?:\\&quot;[&zwnj;&#8203;^\\&quot;]*(?:\\&quot;\\&quot;[^\\&quot;]*)*&zwnj;&#8203;\\&quot;|\\\\d+(?:\\\\.\\\\d+)?)&zwnj;&#8203;)*$&quot;</code>"},{"owner":{"account_id":3325662,"reputation":359,"user_id":2795805,"display_name":"Rajesh2389"},"score":0,"creation_date":1672827406,"post_id":74993731,"comment_id":132359006,"body_markdown":",Thanks Wiktor. is it possible to break this into 4 parts ? I can break regex into 2 parts. Due to it&#39;s length, I&#39;m getting some code reliability issues. I mean it may throw StackOverflow exception for larger inputs.","body":",Thanks Wiktor. is it possible to break this into 4 parts ? I can break regex into 2 parts. Due to it&#39;s length, I&#39;m getting some code reliability issues. I mean it may throw StackOverflow exception for larger inputs."},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1672827996,"post_id":74993731,"comment_id":132359215,"body_markdown":"@Rajesh2389 This regex is reliable and fast enough, it won&#39;t throw any stack overflow exceptions, unless you modified it somehow.","body":"@Rajesh2389 This regex is reliable and fast enough, it won&#39;t throw any stack overflow exceptions, unless you modified it somehow."},{"owner":{"account_id":3325662,"reputation":359,"user_id":2795805,"display_name":"Rajesh2389"},"score":0,"creation_date":1672829383,"post_id":74993731,"comment_id":132359638,"body_markdown":"That&#39;s Sonar Gating issue. &#128529;. Though It works fast enough for me.","body":"That&#39;s Sonar Gating issue. . Though It works fast enough for me."},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1672832496,"post_id":74993731,"comment_id":132360506,"body_markdown":"@Rajesh2389 Sonar regex &quot;analysis&quot;/&quot;evaluation&quot; is shit. That is all I can say about it. 99% questions about &quot;Sonar + regex&quot; are all false positives here on SO.","body":"@Rajesh2389 Sonar regex &quot;analysis&quot;/&quot;evaluation&quot; is shit. That is all I can say about it. 99% questions about &quot;Sonar + regex&quot; are all false positives here on SO."},{"owner":{"account_id":3325662,"reputation":359,"user_id":2795805,"display_name":"Rajesh2389"},"score":0,"creation_date":1672834211,"post_id":74993731,"comment_id":132361023,"body_markdown":"Agree. But my build wouldn&#39;t go unless this &quot;Regular expressions should not overflow the stack&quot; issue is solved. I&#39;m trying to compress , modify as per their suggestions. But none seems to working. Let me see. Kindly let me if there are any alternatives . Thanks in advance.","body":"Agree. But my build wouldn&#39;t go unless this &quot;Regular expressions should not overflow the stack&quot; issue is solved. I&#39;m trying to compress , modify as per their suggestions. But none seems to working. Let me see. Kindly let me if there are any alternatives . Thanks in advance."},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":1,"creation_date":1672835141,"post_id":74993731,"comment_id":132361340,"body_markdown":"@Rajesh2389 You must disable that warning. Sonar developers who do not understand anything about what catastrophic backtracking prone patterns look like must be fired. There is a less efficient equivalent of the regex, `String pattern = &quot;^(?:\\&quot;(?:[^\\&quot;]|\\&quot;\\&quot;)*\\&quot;|\\\\d+(?:\\\\.\\\\d+)?)(?:\\\\s(?:\\&quot;(?:[^\\&quot;]|\\&quot;\\&quot;)*\\&quot;|\\\\d+(?:\\\\.\\\\d+)?))*$&quot;`, but I believe Sonar won&#39;t be able to parse it correctly either.","body":"@Rajesh2389 You must disable that warning. Sonar developers who do not understand anything about what catastrophic backtracking prone patterns look like must be fired. There is a less efficient equivalent of the regex, <code>String pattern = &quot;^(?:\\&quot;(?:[^\\&quot;]|\\&quot;\\&quot;)*\\&quot;|\\\\d+(?:\\\\.\\\\d+)?)(?:\\\\s(?:\\&quot;(?:[^\\&quot;&zwnj;&#8203;]|\\&quot;\\&quot;)*\\&quot;|\\\\d+(?:\\\\&zwnj;&#8203;.\\\\d+)?))*$&quot;</code>, but I believe Sonar won&#39;t be able to parse it correctly either."},{"owner":{"account_id":3325662,"reputation":359,"user_id":2795805,"display_name":"Rajesh2389"},"score":0,"creation_date":1672850850,"post_id":74993731,"comment_id":132367287,"body_markdown":"Wish I could disable that along with the several other stupid coverage related rules(Not all) as well. As you said, sonar didn&#39;t flag anything with this pattern. That&#39;s amazing. I really appreciate your time and effort for solving this!! Thank You very much Wiktor!!","body":"Wish I could disable that along with the several other stupid coverage related rules(Not all) as well. As you said, sonar didn&#39;t flag anything with this pattern. That&#39;s amazing. I really appreciate your time and effort for solving this!! Thank You very much Wiktor!!"}],"tags":[],"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiew"},"comment_count":17,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672750940,"creation_date":1672750940,"answer_id":74993731,"question_id":74990010,"body_markdown":"You can use\r\n```none\r\n^(?:\\&quot;[^\\&quot;]*\\&quot;|\\d+)(?:\\s(?:\\&quot;[^\\&quot;]*\\&quot;|\\d+))*$\r\n```\r\nIf you are using it to extract lines from a multiline document:\r\n```none\r\n(?m)^(?:\\&quot;[^\\&quot;\\n\\r]*\\&quot;|\\d+)(?:\\h(?:\\&quot;[^\\&quot;\\n\\r]*\\&quot;|\\d+))*\\r?$\r\n```\r\nSee the [regex demo][1].\r\n\r\n*Details*:\r\n\r\n - `^` - start of a string (line, if you use `(?m)` or `Pattern.MULTILINE`)\r\n - `(?:\\&quot;[^\\&quot;]*\\&quot;|\\d+)` - either `&quot;` + zero or more chars other than `&quot;` + `&quot;`, or one or more digits\r\n - `(?:\\s(?:\\&quot;[^\\&quot;]*\\&quot;|\\d+))*` - zero or more sequences of \r\n   - `\\s` - a single whitespace\r\n   - `(?:\\&quot;[^\\&quot;]*\\&quot;|\\d+)` - either `&quot;` + zero or more chars other than `&quot;` + `&quot;`, or one or more digits\r\n - `$` - end of string\r\n\r\nThe second pattern contains `\\h` instead of `\\s` to only match horizontal whitespaces, `[^\\&quot;\\n\\r]` matches any char other than `&quot;`, line feed and carriage return.\r\n\r\nIn Java:\r\n```java\r\nString pattern = &quot;^(?:\\&quot;[^\\&quot;]*\\&quot;|\\\\d+)(?:\\\\s(?:\\&quot;[^\\&quot;]*\\&quot;|\\\\d+))*$&quot;;\r\nString pattern = &quot;(?m)^(?:\\&quot;[^\\&quot;\\n\\r]*\\&quot;|\\\\d+)(?:\\\\h(?:\\&quot;[^\\&quot;\\n\\r]*\\&quot;|\\\\d+))*\\r?$&quot;;\r\n```\r\n\r\n  [1]: https://regex101.com/r/8CtMBZ/1","title":"Pattern Matching to find trailing spaces outside of text fields in a line","body":"<p>You can use</p>\n<pre class=\"lang-none prettyprint-override\"><code>^(?:\\&quot;[^\\&quot;]*\\&quot;|\\d+)(?:\\s(?:\\&quot;[^\\&quot;]*\\&quot;|\\d+))*$\n</code></pre>\n<p>If you are using it to extract lines from a multiline document:</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?m)^(?:\\&quot;[^\\&quot;\\n\\r]*\\&quot;|\\d+)(?:\\h(?:\\&quot;[^\\&quot;\\n\\r]*\\&quot;|\\d+))*\\r?$\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/8CtMBZ/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>^</code> - start of a string (line, if you use <code>(?m)</code> or <code>Pattern.MULTILINE</code>)</li>\n<li><code>(?:\\&quot;[^\\&quot;]*\\&quot;|\\d+)</code> - either <code>&quot;</code> + zero or more chars other than <code>&quot;</code> + <code>&quot;</code>, or one or more digits</li>\n<li><code>(?:\\s(?:\\&quot;[^\\&quot;]*\\&quot;|\\d+))*</code> - zero or more sequences of\n<ul>\n<li><code>\\s</code> - a single whitespace</li>\n<li><code>(?:\\&quot;[^\\&quot;]*\\&quot;|\\d+)</code> - either <code>&quot;</code> + zero or more chars other than <code>&quot;</code> + <code>&quot;</code>, or one or more digits</li>\n</ul>\n</li>\n<li><code>$</code> - end of string</li>\n</ul>\n<p>The second pattern contains <code>\\h</code> instead of <code>\\s</code> to only match horizontal whitespaces, <code>[^\\&quot;\\n\\r]</code> matches any char other than <code>&quot;</code>, line feed and carriage return.</p>\n<p>In Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String pattern = &quot;^(?:\\&quot;[^\\&quot;]*\\&quot;|\\\\d+)(?:\\\\s(?:\\&quot;[^\\&quot;]*\\&quot;|\\\\d+))*$&quot;;\nString pattern = &quot;(?m)^(?:\\&quot;[^\\&quot;\\n\\r]*\\&quot;|\\\\d+)(?:\\\\h(?:\\&quot;[^\\&quot;\\n\\r]*\\&quot;|\\\\d+))*\\r?$&quot;;\n</code></pre>\n"}],"owner":{"account_id":3325662,"reputation":359,"user_id":2795805,"display_name":"Rajesh2389"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74993731,"answer_count":1,"score":3,"last_activity_date":1672750940,"creation_date":1672729558,"question_id":74990010,"body_markdown":"I have to validate the lines from a text file. The line would be something like below.\r\n\r\n```&quot;Field1&quot; &quot;Field2&quot; &quot;Field3 Field_3.1 Field3.2&quot; 23 3445 &quot;Field5&quot;.```\r\n\r\nThe delimiter here is a single Space(\\\\s). If more than one space present outside of text fields, then the line should be rejected. For example,\r\n\r\n\r\n**Note :** \\\\s would be present as literal space and not as \\\\s in the line. For easy reading I mentioned space as \\\\s\r\n\r\n**Invalid:**\r\n```&quot;Field1&quot;\\\\s\\\\s&quot;Field2&quot; &quot;Field3 Field_3.1 Field3.2&quot; 23\\\\s\\\\s3445 &quot;Field5&quot;.``` //two or more spaces between &quot;Field1&quot; and &quot;Field2&quot; or numeric fields 23  3445. \\\\s would be present as literal space and not as \\\\s\r\n\r\n**Valid**\r\n```&quot;Field1\\\\s\\\\s&quot; &quot;\\\\s\\\\sField2&quot; &quot;Field3\\\\s\\\\sField_3.1\\\\s\\\\sField3.2&quot; 23 3445 &quot;Field5&quot;.``` //two or more spaces within third field &quot;Field3  Field_3.1  Field3.2&quot; or at the end/beginning of any field as in first two fields. \r\n\r\nI created a Pattern as below to validate the Spaces in between. But it&#39;s not working as expected when there&#39;re more than two Strings and a numeric  present inside a Field wrapped by Double quotes like ```&quot;Field3  Field_3.1  123&quot;```\r\n```\r\npublic class SpaceValidation\r\n{\r\n   public static void main(String ar[])\r\n   {\r\n       String spacePattern_1 = &quot;[\\&quot;^\\\\n]\\\\s{2,}?(\\&quot;.*\\&quot;)|\\\\s\\\\s\\\\d|\\\\d\\\\s\\\\s&quot;;\r\nString line1 = &quot;Field3  Field_3.1  &quot;; // valid and pattern doesn&#39;t find it as invalid - Works as expected\r\nString line2 = &quot;Field3  Field_3.1  123&quot;;//Valid and but pattern find it as invalid - Not working as expected.\r\n      Pattern pattern = Pattern.compile(spacePattern_1);\r\n      Matcher matLine1 = pattern.matcher(line1);\r\n      Matcher matLine2 = pattern.matcher(line2);\r\n      if(matLine1.find())\r\n      {\r\n        sysout(&quot;Invalid Line1&quot;);\r\n      }\r\n\r\n      if(matLine2.find())\r\n      {\r\n        sysout(&quot;Invalid Line2&quot;);\r\n      }\r\n}\r\n```\r\nI have tried another pattern given below. But due to backtracking issues reported I have to avoid the below pattern, Even this one is not working when there are more than two subfields present two or more spaces in a line. \r\n\r\n```\r\n(\\&quot;.*\\&quot;)\\\\s{2,}?(\\&quot;.*\\&quot;)|\\\\s\\\\s\\\\d|\\\\d\\\\s\\\\s\r\n\r\n // * or . shouldn&#39;t be present more than once in the same condition to prevent backtracking, hence I have to use negation of \\\\n in the above code\r\n```\r\n\r\nKindly let me know how I could resolve this using pattern for fields such as ```&quot;field3  field3.1  123&quot;```, which is a valid field. Thanks in advance.\r\n\r\n**EDIT:**\r\nAfter little bit tinkering, I narrowed down the issue to digit. The lines becomes invalid only if the third subfield is numeric (```&quot;Field 3  Field3.1  123&quot;```). For alphabets its working fine.\r\n\r\nHere in the pattern ``` \\\\s\\\\s\\\\d ``` seems to be the culprit. It&#39;s that condition that flags the third subfield as invalid(numeric subfield 123). But I need that to validate numeric fields present outside of the DoubleQuotes.","title":"Pattern Matching to find trailing spaces outside of text fields in a line","body":"<p>I have to validate the lines from a text file. The line would be something like below.</p>\n<p><code>&quot;Field1&quot; &quot;Field2&quot; &quot;Field3 Field_3.1 Field3.2&quot; 23 3445 &quot;Field5&quot;.</code></p>\n<p>The delimiter here is a single Space(\\s). If more than one space present outside of text fields, then the line should be rejected. For example,</p>\n<p><strong>Note :</strong> \\s would be present as literal space and not as \\s in the line. For easy reading I mentioned space as \\s</p>\n<p><strong>Invalid:</strong>\n<code>&quot;Field1&quot;\\\\s\\\\s&quot;Field2&quot; &quot;Field3 Field_3.1 Field3.2&quot; 23\\\\s\\\\s3445 &quot;Field5&quot;.</code> //two or more spaces between &quot;Field1&quot; and &quot;Field2&quot; or numeric fields 23  3445. \\s would be present as literal space and not as \\s</p>\n<p><strong>Valid</strong>\n<code>&quot;Field1\\\\s\\\\s&quot; &quot;\\\\s\\\\sField2&quot; &quot;Field3\\\\s\\\\sField_3.1\\\\s\\\\sField3.2&quot; 23 3445 &quot;Field5&quot;.</code> //two or more spaces within third field &quot;Field3  Field_3.1  Field3.2&quot; or at the end/beginning of any field as in first two fields.</p>\n<p>I created a Pattern as below to validate the Spaces in between. But it's not working as expected when there're more than two Strings and a numeric  present inside a Field wrapped by Double quotes like <code>&quot;Field3  Field_3.1  123&quot;</code></p>\n<pre><code>public class SpaceValidation\n{\n   public static void main(String ar[])\n   {\n       String spacePattern_1 = &quot;[\\&quot;^\\\\n]\\\\s{2,}?(\\&quot;.*\\&quot;)|\\\\s\\\\s\\\\d|\\\\d\\\\s\\\\s&quot;;\nString line1 = &quot;Field3  Field_3.1  &quot;; // valid and pattern doesn't find it as invalid - Works as expected\nString line2 = &quot;Field3  Field_3.1  123&quot;;//Valid and but pattern find it as invalid - Not working as expected.\n      Pattern pattern = Pattern.compile(spacePattern_1);\n      Matcher matLine1 = pattern.matcher(line1);\n      Matcher matLine2 = pattern.matcher(line2);\n      if(matLine1.find())\n      {\n        sysout(&quot;Invalid Line1&quot;);\n      }\n\n      if(matLine2.find())\n      {\n        sysout(&quot;Invalid Line2&quot;);\n      }\n}\n</code></pre>\n<p>I have tried another pattern given below. But due to backtracking issues reported I have to avoid the below pattern, Even this one is not working when there are more than two subfields present two or more spaces in a line.</p>\n<pre><code>(\\&quot;.*\\&quot;)\\\\s{2,}?(\\&quot;.*\\&quot;)|\\\\s\\\\s\\\\d|\\\\d\\\\s\\\\s\n\n // * or . shouldn't be present more than once in the same condition to prevent backtracking, hence I have to use negation of \\\\n in the above code\n</code></pre>\n<p>Kindly let me know how I could resolve this using pattern for fields such as <code>&quot;field3  field3.1  123&quot;</code>, which is a valid field. Thanks in advance.</p>\n<p><strong>EDIT:</strong>\nAfter little bit tinkering, I narrowed down the issue to digit. The lines becomes invalid only if the third subfield is numeric (<code>&quot;Field 3  Field3.1  123&quot;</code>). For alphabets its working fine.</p>\n<p>Here in the pattern <code>\\\\s\\\\s\\\\d</code> seems to be the culprit. It's that condition that flags the third subfield as invalid(numeric subfield 123). But I need that to validate numeric fields present outside of the DoubleQuotes.</p>\n"},{"tags":["java","debugging","intellij-idea","instrumentation","byte-buddy"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672750807,"creation_date":1672750807,"answer_id":74993701,"question_id":74981954,"body_markdown":"Byte Buddy inlines advice code, meaning that your code is never executed, it only serves as a copy-paste template. You can set the `delegate` property in the enter and exit annotations to true if you wanted to invoke the advice methods instead.","title":"Breakpoint in ByteBuddy advice class with IntelliJ IDEA","body":"<p>Byte Buddy inlines advice code, meaning that your code is never executed, it only serves as a copy-paste template. You can set the <code>delegate</code> property in the enter and exit annotations to true if you wanted to invoke the advice methods instead.</p>\n"}],"owner":{"account_id":10134422,"reputation":40,"user_id":7486525,"display_name":"Meir Benayoun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74993701,"answer_count":1,"score":1,"last_activity_date":1672750807,"creation_date":1672659557,"question_id":74981954,"body_markdown":"I am looking for a way to debug an advice class within IntelliJ.\r\n\r\nIn the following code sample, ByteBuddy is replacing the constructor of `FileInputStream`.\r\nThe method `FileInputStreamCtorString.onEnter` is being called as expected, right before the call to the constructor.\r\nHowever, there is a problem during the execution of the `onEnter` method, apparently related to calling some static method and setting static field.\r\n\r\nI would like to put a breakpoint inside the `onEnter` method for further investigation.\r\nHow should I configure IntelliJ to make the breakpoint stop as expected?\r\n\r\n\r\n```\r\npackage com.example.javaagent.instrumentation;\r\n\r\nimport net.bytebuddy.agent.ByteBuddyAgent;\r\nimport net.bytebuddy.agent.builder.AgentBuilder;\r\nimport net.bytebuddy.asm.Advice;\r\nimport net.bytebuddy.description.type.TypeDescription;\r\nimport net.bytebuddy.matcher.ElementMatcher;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.lang.instrument.Instrumentation;\r\nimport java.util.*;\r\nimport java.util.logging.Logger;\r\n\r\nimport static java.util.logging.Level.FINE;\r\nimport static net.bytebuddy.matcher.ElementMatchers.*;\r\n\r\n\r\n\r\npublic class FileInputStreamConstructorInstrumentationTests2 {\r\n\r\n    @Test\r\n    public void testByteBuddyfileInputStreamConstructor() {\r\n        ByteBuddyAgent.install();\r\n\r\n        AgentBuilder.Identified.Extendable extendableAgentBuilder = new AgentBuilder.Default()\r\n                .with(AgentBuilder.RedefinitionStrategy.RETRANSFORMATION)\r\n                .with(AgentBuilder.RedefinitionStrategy.Listener.StreamWriting.toSystemError())\r\n                .with(AgentBuilder.Listener.StreamWriting.toSystemError().withTransformationsOnly())\r\n                .with(AgentBuilder.InstallationListener.StreamWriting.toSystemError())\r\n                .ignore(none())\r\n                .type(named(&quot;java.io.FileInputStream&quot;))\r\n                .transform(new AgentBuilder.Transformer.ForAdvice());\r\n\r\n        extendableAgentBuilder = extendableAgentBuilder.transform(\r\n                new AgentBuilder.Transformer.ForAdvice()\r\n                        .include(Thread.currentThread().getContextClassLoader())\r\n                        .advice(\r\n                                isConstructor().and(takesArguments(1)).and(takesArgument(0, String.class)),\r\n                                this.getClass().getName() + &quot;$FileInputStreamCtorString&quot;));\r\n\r\n        extendableAgentBuilder.installOnByteBuddyAgent();\r\n\r\n        String filename = &quot;example.txt&quot;;\r\n        createFile(filename);\r\n        try {\r\n            FileInputStream inputStream = new FileInputStream(filename);\r\n            int data = inputStream.read();\r\n            while (data != -1) {\r\n                System.out.print((char) data);\r\n                data = inputStream.read();\r\n            }\r\n            inputStream.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        deleteFile(filename);\r\n    }\r\n\r\n    public static class FileInputStreamCtorString {\r\n        public static boolean iveBeenHere = false;\r\n\r\n        @Advice.OnMethodEnter(suppress = Throwable.class)\r\n        public static void onEnter(@Advice.Argument(0) String name) {\r\n            System.out.println(&quot;FileInputStreamCtorString: entered with param &quot;+ name);\r\n            System.out.println(&quot;FileInputStreamCtorString: second log line&quot;);\r\n            JustPrint.sayHello();\r\n            System.out.println(&quot;FileInputStreamCtorString: after calling static method&quot;);\r\n            iveBeenHere = true;\r\n            System.out.println(&quot;FileInputStreamCtorString: after setting static field&quot;);\r\n        }\r\n    }\r\n\r\n    public static class JustPrint{\r\n        public static void sayHello(){\r\n            System.out.println(&quot;Did I say &#39;hello&#39;?&quot;);\r\n        }\r\n    }\r\n\r\n    private static void deleteFile(String filename) {\r\n        File file = new File(filename);\r\n        // Check if the file exists\r\n        if (file.exists()) {\r\n            // If the file exists, delete it\r\n            if (file.delete()) {\r\n                System.out.println(&quot;File deleted successfully&quot;);\r\n            } else {\r\n                System.out.println(&quot;Failed to delete file&quot;);\r\n            }\r\n        } else {\r\n            System.out.println(&quot;File does not exist&quot;);\r\n        }\r\n    }\r\n\r\n    private static void createFile(String filename) {\r\n        File file = new File(filename);\r\n        // Check if the file already exists\r\n        if (!file.exists()) {\r\n            // If the file does not exist, create a new file\r\n            try {\r\n                file.createNewFile();\r\n                System.out.println(&quot;File created successfully&quot;);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        } else {\r\n            System.out.println(&quot;File already exists&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nWhen running the test `testByteBuddyfileInputStreamConstructor`, I get the following output:\r\n\r\n```\r\n[Byte Buddy] BEFORE_INSTALL net.bytebuddy.agent.builder.AgentBuilder$Default$ExecutingTransformer$ByteBuddy$ModuleSupport@f9879ac on sun.instrument.InstrumentationImpl@37f21974\r\n[Byte Buddy] REDEFINE BATCH #0 [1 of 1 type(s)]\r\n[Byte Buddy] TRANSFORM java.io.FileInputStream [null, module java.base, Thread[Test worker,5,main], loaded=true]\r\n[Byte Buddy] REDEFINE COMPLETE 1 batch(es) containing 1 types [0 failed batch(es)]\r\n[Byte Buddy] INSTALL net.bytebuddy.agent.builder.AgentBuilder$Default$ExecutingTransformer$ByteBuddy$ModuleSupport@f9879ac on sun.instrument.InstrumentationImpl@37f21974\r\nFile created successfully\r\nFileInputStreamCtorString: entered with param example.txt\r\nFileInputStreamCtorString: second log line\r\nFile deleted successfully\r\n```\r\n\r\nSo, I&#39;m sure that the following source line is reached and I would like the debugger to stop there:\r\n\r\n```\r\nSystem.out.println(&quot;FileInputStreamCtorString: entered with param &quot;+ name);\r\n\r\n```\r\n","title":"Breakpoint in ByteBuddy advice class with IntelliJ IDEA","body":"<p>I am looking for a way to debug an advice class within IntelliJ.</p>\n<p>In the following code sample, ByteBuddy is replacing the constructor of <code>FileInputStream</code>.\nThe method <code>FileInputStreamCtorString.onEnter</code> is being called as expected, right before the call to the constructor.\nHowever, there is a problem during the execution of the <code>onEnter</code> method, apparently related to calling some static method and setting static field.</p>\n<p>I would like to put a breakpoint inside the <code>onEnter</code> method for further investigation.\nHow should I configure IntelliJ to make the breakpoint stop as expected?</p>\n<pre><code>package com.example.javaagent.instrumentation;\n\nimport net.bytebuddy.agent.ByteBuddyAgent;\nimport net.bytebuddy.agent.builder.AgentBuilder;\nimport net.bytebuddy.asm.Advice;\nimport net.bytebuddy.description.type.TypeDescription;\nimport net.bytebuddy.matcher.ElementMatcher;\nimport org.junit.jupiter.api.Test;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.lang.instrument.Instrumentation;\nimport java.util.*;\nimport java.util.logging.Logger;\n\nimport static java.util.logging.Level.FINE;\nimport static net.bytebuddy.matcher.ElementMatchers.*;\n\n\n\npublic class FileInputStreamConstructorInstrumentationTests2 {\n\n    @Test\n    public void testByteBuddyfileInputStreamConstructor() {\n        ByteBuddyAgent.install();\n\n        AgentBuilder.Identified.Extendable extendableAgentBuilder = new AgentBuilder.Default()\n                .with(AgentBuilder.RedefinitionStrategy.RETRANSFORMATION)\n                .with(AgentBuilder.RedefinitionStrategy.Listener.StreamWriting.toSystemError())\n                .with(AgentBuilder.Listener.StreamWriting.toSystemError().withTransformationsOnly())\n                .with(AgentBuilder.InstallationListener.StreamWriting.toSystemError())\n                .ignore(none())\n                .type(named(&quot;java.io.FileInputStream&quot;))\n                .transform(new AgentBuilder.Transformer.ForAdvice());\n\n        extendableAgentBuilder = extendableAgentBuilder.transform(\n                new AgentBuilder.Transformer.ForAdvice()\n                        .include(Thread.currentThread().getContextClassLoader())\n                        .advice(\n                                isConstructor().and(takesArguments(1)).and(takesArgument(0, String.class)),\n                                this.getClass().getName() + &quot;$FileInputStreamCtorString&quot;));\n\n        extendableAgentBuilder.installOnByteBuddyAgent();\n\n        String filename = &quot;example.txt&quot;;\n        createFile(filename);\n        try {\n            FileInputStream inputStream = new FileInputStream(filename);\n            int data = inputStream.read();\n            while (data != -1) {\n                System.out.print((char) data);\n                data = inputStream.read();\n            }\n            inputStream.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        deleteFile(filename);\n    }\n\n    public static class FileInputStreamCtorString {\n        public static boolean iveBeenHere = false;\n\n        @Advice.OnMethodEnter(suppress = Throwable.class)\n        public static void onEnter(@Advice.Argument(0) String name) {\n            System.out.println(&quot;FileInputStreamCtorString: entered with param &quot;+ name);\n            System.out.println(&quot;FileInputStreamCtorString: second log line&quot;);\n            JustPrint.sayHello();\n            System.out.println(&quot;FileInputStreamCtorString: after calling static method&quot;);\n            iveBeenHere = true;\n            System.out.println(&quot;FileInputStreamCtorString: after setting static field&quot;);\n        }\n    }\n\n    public static class JustPrint{\n        public static void sayHello(){\n            System.out.println(&quot;Did I say 'hello'?&quot;);\n        }\n    }\n\n    private static void deleteFile(String filename) {\n        File file = new File(filename);\n        // Check if the file exists\n        if (file.exists()) {\n            // If the file exists, delete it\n            if (file.delete()) {\n                System.out.println(&quot;File deleted successfully&quot;);\n            } else {\n                System.out.println(&quot;Failed to delete file&quot;);\n            }\n        } else {\n            System.out.println(&quot;File does not exist&quot;);\n        }\n    }\n\n    private static void createFile(String filename) {\n        File file = new File(filename);\n        // Check if the file already exists\n        if (!file.exists()) {\n            // If the file does not exist, create a new file\n            try {\n                file.createNewFile();\n                System.out.println(&quot;File created successfully&quot;);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        } else {\n            System.out.println(&quot;File already exists&quot;);\n        }\n    }\n}\n\n\n</code></pre>\n<p>When running the test <code>testByteBuddyfileInputStreamConstructor</code>, I get the following output:</p>\n<pre><code>[Byte Buddy] BEFORE_INSTALL net.bytebuddy.agent.builder.AgentBuilder$Default$ExecutingTransformer$ByteBuddy$ModuleSupport@f9879ac on sun.instrument.InstrumentationImpl@37f21974\n[Byte Buddy] REDEFINE BATCH #0 [1 of 1 type(s)]\n[Byte Buddy] TRANSFORM java.io.FileInputStream [null, module java.base, Thread[Test worker,5,main], loaded=true]\n[Byte Buddy] REDEFINE COMPLETE 1 batch(es) containing 1 types [0 failed batch(es)]\n[Byte Buddy] INSTALL net.bytebuddy.agent.builder.AgentBuilder$Default$ExecutingTransformer$ByteBuddy$ModuleSupport@f9879ac on sun.instrument.InstrumentationImpl@37f21974\nFile created successfully\nFileInputStreamCtorString: entered with param example.txt\nFileInputStreamCtorString: second log line\nFile deleted successfully\n</code></pre>\n<p>So, I'm sure that the following source line is reached and I would like the debugger to stop there:</p>\n<pre><code>System.out.println(&quot;FileInputStreamCtorString: entered with param &quot;+ name);\n\n</code></pre>\n"},{"tags":["java","static-methods","byte-buddy"],"answers":[{"comments":[{"owner":{"account_id":10134422,"reputation":40,"user_id":7486525,"display_name":"Meir Benayoun"},"score":0,"creation_date":1672806489,"post_id":74993689,"comment_id":132354420,"body_markdown":"Where should the `delegate` property been set?","body":"Where should the <code>delegate</code> property been set?"},{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":0,"creation_date":1672872324,"post_id":74993689,"comment_id":132373820,"body_markdown":"In the `OnMethodEnter` and `OnMethodExit` annotations.","body":"In the <code>OnMethodEnter</code> and <code>OnMethodExit</code> annotations."}],"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672750742,"creation_date":1672750742,"answer_id":74993689,"question_id":74986718,"body_markdown":"Advice is inlined by Byte Buddy, as if the code was part of the targeted method. That is unless if you set the `delegate` property to true. This will however take its ability to access private members of the instrumented class.\r\n\r\nIf you need utilities, you need to add them to the instrumented codes class loader and make them public.","title":"ByteBuddy - Static methods &amp; fields not accessible from Advice","body":"<p>Advice is inlined by Byte Buddy, as if the code was part of the targeted method. That is unless if you set the <code>delegate</code> property to true. This will however take its ability to access private members of the instrumented class.</p>\n<p>If you need utilities, you need to add them to the instrumented codes class loader and make them public.</p>\n"}],"owner":{"account_id":10134422,"reputation":40,"user_id":7486525,"display_name":"Meir Benayoun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672750742,"creation_date":1672690902,"question_id":74986718,"body_markdown":"This code is applying an ByteBuddy `Advice` to the `FileInputStream` constructor.\r\nThe `onEnter` method is actually called but it cannot access static methods and fields.\r\n\r\nHow can I make accessible **static methods** and **static fields** from the `onEnter` method?\r\n\r\n\r\n```\r\npackage com.example.javaagent.instrumentation;\r\n\r\nimport net.bytebuddy.agent.ByteBuddyAgent;\r\nimport net.bytebuddy.agent.builder.AgentBuilder;\r\nimport net.bytebuddy.asm.Advice;\r\nimport net.bytebuddy.description.type.TypeDescription;\r\nimport net.bytebuddy.matcher.ElementMatcher;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.lang.instrument.Instrumentation;\r\nimport java.util.*;\r\nimport java.util.logging.Logger;\r\n\r\nimport static java.util.logging.Level.FINE;\r\nimport static net.bytebuddy.matcher.ElementMatchers.*;\r\n\r\n\r\npublic class FileInputStreamConstructorInstrumentationTests2 {\r\n\r\n    @Test\r\n    public void testByteBuddyfileInputStreamConstructor() {\r\n        ByteBuddyAgent.install();\r\n\r\n        AgentBuilder.Identified.Extendable extendableAgentBuilder = new AgentBuilder.Default()\r\n                .with(AgentBuilder.RedefinitionStrategy.RETRANSFORMATION)\r\n                .with(AgentBuilder.RedefinitionStrategy.Listener.StreamWriting.toSystemError())\r\n                .with(AgentBuilder.Listener.StreamWriting.toSystemError().withTransformationsOnly())\r\n                .with(AgentBuilder.InstallationListener.StreamWriting.toSystemError())\r\n                .ignore(none())\r\n                .type(named(&quot;java.io.FileInputStream&quot;))\r\n                .transform(new AgentBuilder.Transformer.ForAdvice());\r\n\r\n        extendableAgentBuilder = extendableAgentBuilder.transform(\r\n                new AgentBuilder.Transformer.ForAdvice()\r\n                        .include(Thread.currentThread().getContextClassLoader())\r\n                        .advice(\r\n                                isConstructor().and(takesArguments(1)).and(takesArgument(0, String.class)),\r\n                                this.getClass().getName() + &quot;$FileInputStreamCtorString&quot;));\r\n\r\n        extendableAgentBuilder.installOnByteBuddyAgent();\r\n\r\n        String filename = &quot;example.txt&quot;;\r\n        createFile(filename);\r\n        try {\r\n            FileInputStream inputStream = new FileInputStream(filename);\r\n            int data = inputStream.read();\r\n            while (data != -1) {\r\n                System.out.print((char) data);\r\n                data = inputStream.read();\r\n            }\r\n            inputStream.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        deleteFile(filename);\r\n    }\r\n\r\n    public static class FileInputStreamCtorString {\r\n        public static boolean iveBeenHere = false;\r\n\r\n        @Advice.OnMethodEnter(suppress = Throwable.class)\r\n        public static void onEnter(@Advice.Argument(0) String name) {\r\n            System.out.println(&quot;FileInputStreamCtorString: entered with param &quot;+ name);\r\n            System.out.println(&quot;FileInputStreamCtorString: second log line&quot;);\r\n            try{\r\n                JustPrint.sayHello();\r\n            }catch (Throwable e){\r\n                System.out.println(&quot;FileInputStreamCtorString: inside catch: &quot; + e.getMessage());\r\n                e.printStackTrace();\r\n            }\r\n            System.out.println(&quot;FileInputStreamCtorString: after calling static method&quot;);\r\n            try {\r\n                iveBeenHere = true;\r\n            } catch (Throwable e) {\r\n                System.out.println(&quot;FileInputStreamCtorString: inside catch: &quot; + e.getMessage());\r\n                e.printStackTrace();\r\n            }\r\n            System.out.println(&quot;FileInputStreamCtorString: after setting static field&quot;);\r\n        }\r\n    }\r\n\r\n    public static class JustPrint{\r\n        public static void sayHello(){\r\n            System.out.println(&quot;Did I say &#39;hello&#39;?&quot;);\r\n        }\r\n    }\r\n\r\n    private static void deleteFile(String filename) {\r\n        File file = new File(filename);\r\n        // Check if the file exists\r\n        if (file.exists()) {\r\n            // If the file exists, delete it\r\n            if (file.delete()) {\r\n                System.out.println(&quot;File deleted successfully&quot;);\r\n            } else {\r\n                System.out.println(&quot;Failed to delete file&quot;);\r\n            }\r\n        } else {\r\n            System.out.println(&quot;File does not exist&quot;);\r\n        }\r\n    }\r\n\r\n    private static void createFile(String filename) {\r\n        File file = new File(filename);\r\n        // Check if the file already exists\r\n        if (!file.exists()) {\r\n            // If the file does not exist, create a new file\r\n            try {\r\n                file.createNewFile();\r\n                System.out.println(&quot;File created successfully&quot;);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        } else {\r\n            System.out.println(&quot;File already exists&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nRunning the test above, I get the following output:\r\n\r\n\r\n```\r\n[Byte Buddy] BEFORE_INSTALL net.bytebuddy.agent.builder.AgentBuilder$Default$ExecutingTransformer$ByteBuddy$ModuleSupport@3af17be2 on sun.instrument.InstrumentationImpl@f9879ac\r\n[Byte Buddy] REDEFINE BATCH #0 [1 of 1 type(s)]\r\n[Byte Buddy] TRANSFORM java.io.FileInputStream [null, module java.base, Thread[Test worker,5,main], loaded=true]\r\n[Byte Buddy] REDEFINE COMPLETE 1 batch(es) containing 1 types [0 failed batch(es)]\r\n[Byte Buddy] INSTALL net.bytebuddy.agent.builder.AgentBuilder$Default$ExecutingTransformer$ByteBuddy$ModuleSupport@3af17be2 on sun.instrument.InstrumentationImpl@f9879ac\r\nFile created successfully\r\nFileInputStreamCtorString: entered with param example.txt\r\nFileInputStreamCtorString: second log line\r\nFileInputStreamCtorString: inside catchcom/example/javaagent/instrumentation/FileInputStreamConstructorInstrumentationTests2$JustPrint\r\n\r\njava.lang.NoClassDefFoundError: com/example/javaagent/instrumentation/FileInputStreamConstructorInstrumentationTests2$JustPrint\r\n\tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111)\r\n\tat com.example.javaagent.instrumentation.FileInputStreamConstructorInstrumentationTests2.testByteBuddyfileInputStreamConstructor(FileInputStreamConstructorInstrumentationTests2.java:49)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    ....................\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n\r\nFileInputStreamCtorString: after calling static method\r\nFileInputStreamCtorString: inside catchcom/example/javaagent/instrumentation/FileInputStreamConstructorInstrumentationTests2$FileInputStreamCtorString\r\n\r\njava.lang.NoClassDefFoundError: com/example/javaagent/instrumentation/FileInputStreamConstructorInstrumentationTests2$FileInputStreamCtorString\r\n\tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111)\r\n\tat com.example.javaagent.instrumentation.FileInputStreamConstructorInstrumentationTests2.testByteBuddyfileInputStreamConstructor(FileInputStreamConstructorInstrumentationTests2.java:49)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    ...................\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n\r\nFileInputStreamCtorString: after setting static field\r\nFile deleted successfully\r\n```\r\n","title":"ByteBuddy - Static methods &amp; fields not accessible from Advice","body":"<p>This code is applying an ByteBuddy <code>Advice</code> to the <code>FileInputStream</code> constructor.\nThe <code>onEnter</code> method is actually called but it cannot access static methods and fields.</p>\n<p>How can I make accessible <strong>static methods</strong> and <strong>static fields</strong> from the <code>onEnter</code> method?</p>\n<pre><code>package com.example.javaagent.instrumentation;\n\nimport net.bytebuddy.agent.ByteBuddyAgent;\nimport net.bytebuddy.agent.builder.AgentBuilder;\nimport net.bytebuddy.asm.Advice;\nimport net.bytebuddy.description.type.TypeDescription;\nimport net.bytebuddy.matcher.ElementMatcher;\nimport org.junit.jupiter.api.Test;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.lang.instrument.Instrumentation;\nimport java.util.*;\nimport java.util.logging.Logger;\n\nimport static java.util.logging.Level.FINE;\nimport static net.bytebuddy.matcher.ElementMatchers.*;\n\n\npublic class FileInputStreamConstructorInstrumentationTests2 {\n\n    @Test\n    public void testByteBuddyfileInputStreamConstructor() {\n        ByteBuddyAgent.install();\n\n        AgentBuilder.Identified.Extendable extendableAgentBuilder = new AgentBuilder.Default()\n                .with(AgentBuilder.RedefinitionStrategy.RETRANSFORMATION)\n                .with(AgentBuilder.RedefinitionStrategy.Listener.StreamWriting.toSystemError())\n                .with(AgentBuilder.Listener.StreamWriting.toSystemError().withTransformationsOnly())\n                .with(AgentBuilder.InstallationListener.StreamWriting.toSystemError())\n                .ignore(none())\n                .type(named(&quot;java.io.FileInputStream&quot;))\n                .transform(new AgentBuilder.Transformer.ForAdvice());\n\n        extendableAgentBuilder = extendableAgentBuilder.transform(\n                new AgentBuilder.Transformer.ForAdvice()\n                        .include(Thread.currentThread().getContextClassLoader())\n                        .advice(\n                                isConstructor().and(takesArguments(1)).and(takesArgument(0, String.class)),\n                                this.getClass().getName() + &quot;$FileInputStreamCtorString&quot;));\n\n        extendableAgentBuilder.installOnByteBuddyAgent();\n\n        String filename = &quot;example.txt&quot;;\n        createFile(filename);\n        try {\n            FileInputStream inputStream = new FileInputStream(filename);\n            int data = inputStream.read();\n            while (data != -1) {\n                System.out.print((char) data);\n                data = inputStream.read();\n            }\n            inputStream.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        deleteFile(filename);\n    }\n\n    public static class FileInputStreamCtorString {\n        public static boolean iveBeenHere = false;\n\n        @Advice.OnMethodEnter(suppress = Throwable.class)\n        public static void onEnter(@Advice.Argument(0) String name) {\n            System.out.println(&quot;FileInputStreamCtorString: entered with param &quot;+ name);\n            System.out.println(&quot;FileInputStreamCtorString: second log line&quot;);\n            try{\n                JustPrint.sayHello();\n            }catch (Throwable e){\n                System.out.println(&quot;FileInputStreamCtorString: inside catch: &quot; + e.getMessage());\n                e.printStackTrace();\n            }\n            System.out.println(&quot;FileInputStreamCtorString: after calling static method&quot;);\n            try {\n                iveBeenHere = true;\n            } catch (Throwable e) {\n                System.out.println(&quot;FileInputStreamCtorString: inside catch: &quot; + e.getMessage());\n                e.printStackTrace();\n            }\n            System.out.println(&quot;FileInputStreamCtorString: after setting static field&quot;);\n        }\n    }\n\n    public static class JustPrint{\n        public static void sayHello(){\n            System.out.println(&quot;Did I say 'hello'?&quot;);\n        }\n    }\n\n    private static void deleteFile(String filename) {\n        File file = new File(filename);\n        // Check if the file exists\n        if (file.exists()) {\n            // If the file exists, delete it\n            if (file.delete()) {\n                System.out.println(&quot;File deleted successfully&quot;);\n            } else {\n                System.out.println(&quot;Failed to delete file&quot;);\n            }\n        } else {\n            System.out.println(&quot;File does not exist&quot;);\n        }\n    }\n\n    private static void createFile(String filename) {\n        File file = new File(filename);\n        // Check if the file already exists\n        if (!file.exists()) {\n            // If the file does not exist, create a new file\n            try {\n                file.createNewFile();\n                System.out.println(&quot;File created successfully&quot;);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        } else {\n            System.out.println(&quot;File already exists&quot;);\n        }\n    }\n}\n\n</code></pre>\n<p>Running the test above, I get the following output:</p>\n<pre><code>[Byte Buddy] BEFORE_INSTALL net.bytebuddy.agent.builder.AgentBuilder$Default$ExecutingTransformer$ByteBuddy$ModuleSupport@3af17be2 on sun.instrument.InstrumentationImpl@f9879ac\n[Byte Buddy] REDEFINE BATCH #0 [1 of 1 type(s)]\n[Byte Buddy] TRANSFORM java.io.FileInputStream [null, module java.base, Thread[Test worker,5,main], loaded=true]\n[Byte Buddy] REDEFINE COMPLETE 1 batch(es) containing 1 types [0 failed batch(es)]\n[Byte Buddy] INSTALL net.bytebuddy.agent.builder.AgentBuilder$Default$ExecutingTransformer$ByteBuddy$ModuleSupport@3af17be2 on sun.instrument.InstrumentationImpl@f9879ac\nFile created successfully\nFileInputStreamCtorString: entered with param example.txt\nFileInputStreamCtorString: second log line\nFileInputStreamCtorString: inside catchcom/example/javaagent/instrumentation/FileInputStreamConstructorInstrumentationTests2$JustPrint\n\njava.lang.NoClassDefFoundError: com/example/javaagent/instrumentation/FileInputStreamConstructorInstrumentationTests2$JustPrint\n    at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111)\n    at com.example.javaagent.instrumentation.FileInputStreamConstructorInstrumentationTests2.testByteBuddyfileInputStreamConstructor(FileInputStreamConstructorInstrumentationTests2.java:49)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    ....................\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\n\nFileInputStreamCtorString: after calling static method\nFileInputStreamCtorString: inside catchcom/example/javaagent/instrumentation/FileInputStreamConstructorInstrumentationTests2$FileInputStreamCtorString\n\njava.lang.NoClassDefFoundError: com/example/javaagent/instrumentation/FileInputStreamConstructorInstrumentationTests2$FileInputStreamCtorString\n    at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111)\n    at com.example.javaagent.instrumentation.FileInputStreamConstructorInstrumentationTests2.testByteBuddyfileInputStreamConstructor(FileInputStreamConstructorInstrumentationTests2.java:49)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    ...................\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\n\nFileInputStreamCtorString: after setting static field\nFile deleted successfully\n</code></pre>\n"},{"tags":["java","spring-boot","xss","checkmarx"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1672748904,"post_id":74993277,"comment_id":132340641,"body_markdown":"Is it untrusted (i.e. user-provided) data? Can you sanitize or escape/encode it? What happens with the data?","body":"Is it untrusted (i.e. user-provided) data? Can you sanitize or escape/encode it? What happens with the data?"},{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":0,"creation_date":1672749362,"post_id":74993277,"comment_id":132340796,"body_markdown":"Checkmarx wants you to sanitize/validate the data before you send it to the client. This can be done with libraries like Antisamy or Jsoup. See here for example: https://jsoup.org/cookbook/cleaning-html/safelist-sanitizer","body":"Checkmarx wants you to sanitize/validate the data before you send it to the client. This can be done with libraries like Antisamy or Jsoup. See here for example: <a href=\"https://jsoup.org/cookbook/cleaning-html/safelist-sanitizer\" rel=\"nofollow noreferrer\">jsoup.org/cookbook/cleaning-html/safelist-sanitizer</a>"}],"owner":{"account_id":14129109,"reputation":335,"user_id":10207534,"display_name":"Anonymous"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7680,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1672749986,"creation_date":1672748376,"question_id":74993277,"body_markdown":"I am currently facing *Checkmarx* scan issue for the below snippet:\r\n\r\n&gt; The application&#39;s `getResponse` embeds untrusted data in the generated output with `setCatList`, at `line 10` of `MyClass.java`.\r\nThis untrusted data is embedded straight into the output without proper sanitization or encoding, enabling an attacker to inject malicious code into the output.\r\nThis can enable a *Reflected Cross-Site Scripting (XSS)* attack.\r\n\r\n```java\r\nGetCatSP sp = getCatSP(); // GetCatSP extends StoredProcedure\r\nMap&lt;String, Object&gt; output = sp.getMyData(inParams); // This executes super.execute(inParams) and returns it\r\nList&lt;Cat&gt; catList = (List&lt;Cat&gt;) output.get(&quot;cat_info&quot;);\r\n\r\nresponse.setCatList(catList); \r\n```\r\n\r\nHow do I handle this?\r\n","title":"Untrusted data is embedded straight into the output","body":"<p>I am currently facing <em>Checkmarx</em> scan issue for the below snippet:</p>\n<blockquote>\n<p>The application's <code>getResponse</code> embeds untrusted data in the generated output with <code>setCatList</code>, at <code>line 10</code> of <code>MyClass.java</code>.\nThis untrusted data is embedded straight into the output without proper sanitization or encoding, enabling an attacker to inject malicious code into the output.\nThis can enable a <em>Reflected Cross-Site Scripting (XSS)</em> attack.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>GetCatSP sp = getCatSP(); // GetCatSP extends StoredProcedure\nMap&lt;String, Object&gt; output = sp.getMyData(inParams); // This executes super.execute(inParams) and returns it\nList&lt;Cat&gt; catList = (List&lt;Cat&gt;) output.get(&quot;cat_info&quot;);\n\nresponse.setCatList(catList); \n</code></pre>\n<p>How do I handle this?</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"display_name":"user5957595"},"score":0,"creation_date":1637044139,"post_id":69983399,"comment_id":123712962,"body_markdown":"It is possible that Firebase blocked your number after too many attempts. Firebase does that time to time. But it also unblocks the number after a while.","body":"It is possible that Firebase blocked your number after too many attempts. Firebase does that time to time. But it also unblocks the number after a while."},{"owner":{"account_id":12669597,"reputation":37,"user_id":9207576,"display_name":"Prasin Prathap"},"score":0,"creation_date":1637058811,"post_id":69983399,"comment_id":123718195,"body_markdown":"no this is not that way all number&#39;s has same issue","body":"no this is not that way all number&#39;s has same issue"},{"owner":{"account_id":7301110,"reputation":358,"user_id":5563826,"accept_rate":12,"display_name":"Rakesh Mishra"},"score":0,"creation_date":1642686593,"post_id":69983399,"comment_id":125140864,"body_markdown":"I am facing the same issue, did you find its solution ?","body":"I am facing the same issue, did you find its solution ?"},{"owner":{"account_id":2765815,"reputation":83,"user_id":2381569,"accept_rate":50,"display_name":"ibrahim"},"score":0,"creation_date":1672381841,"post_id":69983399,"comment_id":132278882,"body_markdown":"Are you attaching your country code with the mobile number ?","body":"Are you attaching your country code with the mobile number ?"}],"answers":[{"tags":[],"owner":{"account_id":24021591,"reputation":114,"user_id":18003799,"display_name":"Seife"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672749918,"creation_date":1672749918,"answer_id":74993553,"question_id":69983399,"body_markdown":"If anyone is facing this problem, Try to Add SHA fingerprint to your firebase to receive SMS","title":"Firebase Phone authentication only sending OTP For Testing Phone Numbers","body":"<p>If anyone is facing this problem, Try to Add SHA fingerprint to your firebase to receive SMS</p>\n"}],"owner":{"account_id":12669597,"reputation":37,"user_id":9207576,"display_name":"Prasin Prathap"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672749918,"creation_date":1637032985,"question_id":69983399,"body_markdown":"I have using Firebase Phone Auth in my project. But the firebase only sending otp for testing phone numbers. \r\n\r\nI have added SHA1 and SHA256 in firebase project and enable Android DeviceCheck API. But all time i didn&#39;t get otp from Firebase.\r\n\r\n\r\nWhen I cheking with testing phone number the otp popup screen is showing up and i am entered otp which i was created verification code ie 123456, 111111, 222222 etc. But otherwise i dont getting otp from firebase.  \r\n\r\n\r\nThis is my code\r\n\r\n    username = findViewById(R.id.username);\r\n        fullname = findViewById(R.id.fullname);\r\n        mTelephoneNumber = findViewById(R.id.telephonenumberregister);\r\n        continueregister = findViewById(R.id.continueregister);\r\n        back = findViewById(R.id.back);\r\n        txt_login = findViewById(R.id.btnSign);\r\n        countryCodePicker = findViewById(R.id.countrycodepicker);\r\n\r\n        pd = new ProgressDialog(RegisterActivity.this);\r\n        pd.setCancelable(false);\r\n        auth = FirebaseAuth.getInstance();\r\n\r\n        back.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                startActivity(new Intent(RegisterActivity.this, StartActivity.class));\r\n            }\r\n        });\r\n        txt_login.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                finish();\r\n            }\r\n        });\r\n\r\n        continueregister.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                pd.setMessage(&quot;Loading&quot;);\r\n                pd.show();\r\n                mFullTelephoneNumber = countryCodePicker.getSelectedCountryCodeWithPlus() + mTelephoneNumber.getText().toString();\r\n                FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).orderByChild(&quot;telephoneno&quot;).equalTo(mFullTelephoneNumber)\r\n                        .addListenerForSingleValueEvent(new ValueEventListener() {\r\n                            @Override\r\n                            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                                if (snapshot.exists()){\r\n                                    pd.dismiss();\r\n                                    Toast.makeText(RegisterActivity.this, &quot;There is a user who has this phone number&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                                else {\r\n                                    pd.dismiss();\r\n                                    phoneVerification();\r\n                                }\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                            }\r\n                        });\r\n            }\r\n        });\r\n    }\r\n\r\n    private void phoneVerification(){\r\n        pd.setMessage(&quot;Sending&quot;);\r\n        pd.show();\r\n\r\n        AlertDialog dialog;\r\n\r\n        View verficationView = LayoutInflater.from(RegisterActivity.this).inflate(R.layout.verificationdialoglayout, null);\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(RegisterActivity.this);\r\n        builder.setView(verficationView);\r\n        builder.setCancelable(false);\r\n        dialog = builder.create();\r\n\r\n        final EditText input_verificationCode = verficationView.findViewById(R.id.mverificationcode);\r\n        Button submit = verficationView.findViewById(R.id.submit);\r\n        Button resend = verficationView.findViewById(R.id.resend);\r\n        TextView countDownView = verficationView.findViewById(R.id.countdown);\r\n        ImageButton closeVerification = verficationView.findViewById(R.id.closeverification);\r\n\r\n        Log.d(&quot;a&quot;, mFullTelephoneNumber);\r\n\r\n        CountDownTimer countDownTimer = countDownTimer(countDownView, dialog);\r\n\r\n        closeVerification.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                dialog.dismiss();\r\n                countDownTimer.onFinish();\r\n            }\r\n        });\r\n\r\n        callbacks = new PhoneAuthProvider.OnVerificationStateChangedCallbacks() {\r\n            @Override\r\n            public void onVerificationCompleted(@NonNull PhoneAuthCredential phoneAuthCredential) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onVerificationFailed(@NonNull FirebaseException e) {\r\n                Log.d(&quot;error&quot;, e.getMessage());\r\n            }\r\n\r\n            @Override\r\n            public void onCodeSent(@NonNull String s, @NonNull PhoneAuthProvider.ForceResendingToken forceResendingToken) {\r\n                super.onCodeSent(s, forceResendingToken);\r\n                Log.d(&quot;verificationcode&quot;, s);\r\n                mVerificationId = s;\r\n                resendingToken = forceResendingToken;\r\n                pd.dismiss();\r\n                dialog.show();\r\n                countDownTimer.start();\r\n\r\n            }\r\n        };\r\n\r\n\r\n        PhoneAuthOptions options =\r\n                PhoneAuthOptions.newBuilder(firebaseAuth)\r\n                        .setPhoneNumber(mFullTelephoneNumber)\r\n                        .setCallbacks(callbacks)\r\n                        .setTimeout(60L, TimeUnit.SECONDS)\r\n                        .setActivity(RegisterActivity.this)\r\n                        .build();\r\n        PhoneAuthProvider.verifyPhoneNumber(options);\r\n\r\n        submit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                pd.setMessage(&quot;Please Wait...&quot;);\r\n                pd.show();\r\n\r\n                String str_verificationCode = input_verificationCode.getText().toString();\r\n\r\n                if (!TextUtils.isEmpty(str_verificationCode) &amp;&amp; str_verificationCode.length() == 6){\r\n                    PhoneAuthCredential credential = PhoneAuthProvider.getCredential(mVerificationId, input_verificationCode.getText().toString());\r\n                    firebaseAuth.signInWithCredential(credential).addOnCompleteListener(RegisterActivity.this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                            if (task.isSuccessful()){\r\n                                String userID = task.getResult().getUser().getUid();\r\n                                String a = &quot;0&quot;;\r\n                                DatabaseReference pref = FirebaseDatabase.getInstance().getReference().child(&quot;wallet&quot;).child(userID);\r\n                                HashMap&lt;String, Object&gt; point = new HashMap&lt;&gt;();\r\n                                point.put(&quot;balance&quot;, a);\r\n                                pref.setValue(point);\r\n                                reference = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).child(userID);\r\n                                HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n                                map.put(&quot;id&quot;, userID);\r\n                                map.put(&quot;telephoneno&quot;, mFullTelephoneNumber);\r\n                                map.put(&quot;username&quot;, username.getText().toString().toLowerCase());\r\n                                map.put(&quot;fullname&quot;, fullname.getText().toString());\r\n                                map.put(&quot;imageurl&quot;, &quot;https://firebasestorage.googleapis.com/v0/b/instagramtest-fcbef.appspot.com/o/placeholder.png?alt=media&amp;token=b09b809d-a5f8-499b-9563-5252262e9a49&quot;);\r\n                                map.put(&quot;bio&quot;, &quot;&quot;);\r\n\r\n                                reference.setValue(map).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                    @Override\r\n                                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                        if (task.isSuccessful()){\r\n                                            Intent intent = new Intent(RegisterActivity.this, MainActivity.class);\r\n                                            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                                            startActivity(intent);\r\n                                            pd.dismiss();\r\n                                            countDownTimer.onFinish();\r\n\r\n                                        }\r\n                                        else {\r\n                                            Toast.makeText(RegisterActivity.this, &quot;error&quot;, Toast.LENGTH_SHORT).show();\r\n                                        }\r\n                                    }\r\n                                });\r\n                            }\r\n                            else {\r\n                                pd.dismiss();\r\n                                dialog.dismiss();\r\n                                Toast.makeText(RegisterActivity.this, &quot;Wrong code is entered.&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    Toast.makeText(RegisterActivity.this, &quot;Please enter the code!&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                }\r\n            }\r\n        });\r\n\r\n        resend.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                dialog.dismiss();\r\n                pd.setMessage(&quot;Resending&quot;);\r\n                pd.show();\r\n\r\n                countDownTimer.onFinish();\r\n                countDownTimer.start();\r\n\r\n                PhoneAuthOptions options =\r\n                        PhoneAuthOptions.newBuilder(firebaseAuth)\r\n                                .setPhoneNumber(mFullTelephoneNumber)\r\n                                .setCallbacks(callbacks)\r\n                                .setTimeout(60L, TimeUnit.SECONDS)\r\n                                .setActivity(RegisterActivity.this)\r\n                                .setForceResendingToken(resendingToken)\r\n                                .build();\r\n                PhoneAuthProvider.verifyPhoneNumber(options);\r\n            }\r\n        });\r\n    }\r\n\r\n    private CountDownTimer countDownTimer(TextView countDownView, AlertDialog dialog){\r\n        return new CountDownTimer(61000, 1000){\r\n            @SuppressLint(&quot;SetTextI18n&quot;)\r\n            @Override\r\n            public void onTick(long l) {\r\n                countDownView.setVisibility(View.VISIBLE);\r\n                countDownView.setText(&quot;&quot; + l / 1000);\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n                countDownView.setVisibility(View.GONE);\r\n                dialog.dismiss();\r\n            }\r\n        };\r\n    }\r\n}\r\n\r\n\r\nPlease give me a solution.\r\n\r\n \r\n\r\n     ","title":"Firebase Phone authentication only sending OTP For Testing Phone Numbers","body":"<p>I have using Firebase Phone Auth in my project. But the firebase only sending otp for testing phone numbers.</p>\n<p>I have added SHA1 and SHA256 in firebase project and enable Android DeviceCheck API. But all time i didn't get otp from Firebase.</p>\n<p>When I cheking with testing phone number the otp popup screen is showing up and i am entered otp which i was created verification code ie 123456, 111111, 222222 etc. But otherwise i dont getting otp from firebase.</p>\n<p>This is my code</p>\n<pre><code>username = findViewById(R.id.username);\n    fullname = findViewById(R.id.fullname);\n    mTelephoneNumber = findViewById(R.id.telephonenumberregister);\n    continueregister = findViewById(R.id.continueregister);\n    back = findViewById(R.id.back);\n    txt_login = findViewById(R.id.btnSign);\n    countryCodePicker = findViewById(R.id.countrycodepicker);\n\n    pd = new ProgressDialog(RegisterActivity.this);\n    pd.setCancelable(false);\n    auth = FirebaseAuth.getInstance();\n\n    back.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            startActivity(new Intent(RegisterActivity.this, StartActivity.class));\n        }\n    });\n    txt_login.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            finish();\n        }\n    });\n\n    continueregister.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            pd.setMessage(&quot;Loading&quot;);\n            pd.show();\n            mFullTelephoneNumber = countryCodePicker.getSelectedCountryCodeWithPlus() + mTelephoneNumber.getText().toString();\n            FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).orderByChild(&quot;telephoneno&quot;).equalTo(mFullTelephoneNumber)\n                    .addListenerForSingleValueEvent(new ValueEventListener() {\n                        @Override\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\n                            if (snapshot.exists()){\n                                pd.dismiss();\n                                Toast.makeText(RegisterActivity.this, &quot;There is a user who has this phone number&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                            else {\n                                pd.dismiss();\n                                phoneVerification();\n                            }\n\n                        }\n\n                        @Override\n                        public void onCancelled(@NonNull DatabaseError error) {\n\n                        }\n                    });\n        }\n    });\n}\n\nprivate void phoneVerification(){\n    pd.setMessage(&quot;Sending&quot;);\n    pd.show();\n\n    AlertDialog dialog;\n\n    View verficationView = LayoutInflater.from(RegisterActivity.this).inflate(R.layout.verificationdialoglayout, null);\n    AlertDialog.Builder builder = new AlertDialog.Builder(RegisterActivity.this);\n    builder.setView(verficationView);\n    builder.setCancelable(false);\n    dialog = builder.create();\n\n    final EditText input_verificationCode = verficationView.findViewById(R.id.mverificationcode);\n    Button submit = verficationView.findViewById(R.id.submit);\n    Button resend = verficationView.findViewById(R.id.resend);\n    TextView countDownView = verficationView.findViewById(R.id.countdown);\n    ImageButton closeVerification = verficationView.findViewById(R.id.closeverification);\n\n    Log.d(&quot;a&quot;, mFullTelephoneNumber);\n\n    CountDownTimer countDownTimer = countDownTimer(countDownView, dialog);\n\n    closeVerification.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            dialog.dismiss();\n            countDownTimer.onFinish();\n        }\n    });\n\n    callbacks = new PhoneAuthProvider.OnVerificationStateChangedCallbacks() {\n        @Override\n        public void onVerificationCompleted(@NonNull PhoneAuthCredential phoneAuthCredential) {\n\n        }\n\n        @Override\n        public void onVerificationFailed(@NonNull FirebaseException e) {\n            Log.d(&quot;error&quot;, e.getMessage());\n        }\n\n        @Override\n        public void onCodeSent(@NonNull String s, @NonNull PhoneAuthProvider.ForceResendingToken forceResendingToken) {\n            super.onCodeSent(s, forceResendingToken);\n            Log.d(&quot;verificationcode&quot;, s);\n            mVerificationId = s;\n            resendingToken = forceResendingToken;\n            pd.dismiss();\n            dialog.show();\n            countDownTimer.start();\n\n        }\n    };\n\n\n    PhoneAuthOptions options =\n            PhoneAuthOptions.newBuilder(firebaseAuth)\n                    .setPhoneNumber(mFullTelephoneNumber)\n                    .setCallbacks(callbacks)\n                    .setTimeout(60L, TimeUnit.SECONDS)\n                    .setActivity(RegisterActivity.this)\n                    .build();\n    PhoneAuthProvider.verifyPhoneNumber(options);\n\n    submit.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            pd.setMessage(&quot;Please Wait...&quot;);\n            pd.show();\n\n            String str_verificationCode = input_verificationCode.getText().toString();\n\n            if (!TextUtils.isEmpty(str_verificationCode) &amp;&amp; str_verificationCode.length() == 6){\n                PhoneAuthCredential credential = PhoneAuthProvider.getCredential(mVerificationId, input_verificationCode.getText().toString());\n                firebaseAuth.signInWithCredential(credential).addOnCompleteListener(RegisterActivity.this, new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        if (task.isSuccessful()){\n                            String userID = task.getResult().getUser().getUid();\n                            String a = &quot;0&quot;;\n                            DatabaseReference pref = FirebaseDatabase.getInstance().getReference().child(&quot;wallet&quot;).child(userID);\n                            HashMap&lt;String, Object&gt; point = new HashMap&lt;&gt;();\n                            point.put(&quot;balance&quot;, a);\n                            pref.setValue(point);\n                            reference = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).child(userID);\n                            HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n                            map.put(&quot;id&quot;, userID);\n                            map.put(&quot;telephoneno&quot;, mFullTelephoneNumber);\n                            map.put(&quot;username&quot;, username.getText().toString().toLowerCase());\n                            map.put(&quot;fullname&quot;, fullname.getText().toString());\n                            map.put(&quot;imageurl&quot;, &quot;https://firebasestorage.googleapis.com/v0/b/instagramtest-fcbef.appspot.com/o/placeholder.png?alt=media&amp;token=b09b809d-a5f8-499b-9563-5252262e9a49&quot;);\n                            map.put(&quot;bio&quot;, &quot;&quot;);\n\n                            reference.setValue(map).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                @Override\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                    if (task.isSuccessful()){\n                                        Intent intent = new Intent(RegisterActivity.this, MainActivity.class);\n                                        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);\n                                        startActivity(intent);\n                                        pd.dismiss();\n                                        countDownTimer.onFinish();\n\n                                    }\n                                    else {\n                                        Toast.makeText(RegisterActivity.this, &quot;error&quot;, Toast.LENGTH_SHORT).show();\n                                    }\n                                }\n                            });\n                        }\n                        else {\n                            pd.dismiss();\n                            dialog.dismiss();\n                            Toast.makeText(RegisterActivity.this, &quot;Wrong code is entered.&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n            }\n            else {\n                Toast.makeText(RegisterActivity.this, &quot;Please enter the code!&quot;, Toast.LENGTH_SHORT).show();\n\n            }\n        }\n    });\n\n    resend.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            dialog.dismiss();\n            pd.setMessage(&quot;Resending&quot;);\n            pd.show();\n\n            countDownTimer.onFinish();\n            countDownTimer.start();\n\n            PhoneAuthOptions options =\n                    PhoneAuthOptions.newBuilder(firebaseAuth)\n                            .setPhoneNumber(mFullTelephoneNumber)\n                            .setCallbacks(callbacks)\n                            .setTimeout(60L, TimeUnit.SECONDS)\n                            .setActivity(RegisterActivity.this)\n                            .setForceResendingToken(resendingToken)\n                            .build();\n            PhoneAuthProvider.verifyPhoneNumber(options);\n        }\n    });\n}\n\nprivate CountDownTimer countDownTimer(TextView countDownView, AlertDialog dialog){\n    return new CountDownTimer(61000, 1000){\n        @SuppressLint(&quot;SetTextI18n&quot;)\n        @Override\n        public void onTick(long l) {\n            countDownView.setVisibility(View.VISIBLE);\n            countDownView.setText(&quot;&quot; + l / 1000);\n        }\n\n        @Override\n        public void onFinish() {\n            countDownView.setVisibility(View.GONE);\n            dialog.dismiss();\n        }\n    };\n}\n</code></pre>\n<p>}</p>\n<p>Please give me a solution.</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672749422,"creation_date":1672749422,"answer_id":74993473,"question_id":74992534,"body_markdown":"    data[pumpSeries=&#39;BPH&#39; &amp; selectionType.contains(&#39;C&#39;)].motorSeries\r\n\r\nThe filter `[]` is working on node `data`. `pumpType` and `selectionType` are under root node instead of `data`. You need to add a `$.` before the key in order to restart from the root.\r\n\r\nSo the filter query is:\r\n\r\n    data[pumpSeries=$.pumpType &amp; selectionType.contains($.selectionType)].motorSeries\r\n","title":"filter json data using josson","body":"<pre><code>data[pumpSeries='BPH' &amp; selectionType.contains('C')].motorSeries\n</code></pre>\n<p>The filter <code>[]</code> is working on node <code>data</code>. <code>pumpType</code> and <code>selectionType</code> are under root node instead of <code>data</code>. You need to add a <code>$.</code> before the key in order to restart from the root.</p>\n<p>So the filter query is:</p>\n<pre><code>data[pumpSeries=$.pumpType &amp; selectionType.contains($.selectionType)].motorSeries\n</code></pre>\n"}],"owner":{"account_id":1675064,"reputation":103,"user_id":1540802,"display_name":"Pranav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74993473,"answer_count":1,"score":0,"last_activity_date":1672749422,"creation_date":1672744170,"question_id":74992534,"body_markdown":"json library: [github.com/octomix/josson][1] \r\n\r\nMy json data is\r\n```\r\n{\r\n  &quot;data&quot;: [\r\n    {\r\n      &quot;pumpSeries&quot;: &quot;CORACHROM 150&quot;,\r\n      &quot;selectionType&quot;: [\r\n        &quot;A&quot;,\r\n        &quot;B&quot;,\r\n        &quot;C&quot;\r\n      ],\r\n      &quot;motorSeries&quot;: [\r\n        &quot;UMAI 150&quot;,\r\n        &quot;UMAG 150&quot;,\r\n        &quot;UMAH 150&quot;,\r\n        &quot;UMAI 150 CH&quot;\r\n      ]\r\n    },\r\n    {\r\n      &quot;pumpSeries&quot;: &quot;BPH&quot;,\r\n      &quot;selectionType&quot;: [\r\n        &quot;A&quot;,\r\n        &quot;B&quot;\r\n      ],\r\n      &quot;motorSeries&quot;: [\r\n        &quot;HBC-Big&quot;,\r\n        &quot;NB-Small&quot;,\r\n        &quot;NB-Big&quot;,\r\n        &quot;HBCE&quot;\r\n      ]\r\n    },\r\n    {\r\n      &quot;pumpSeries&quot;: &quot;BPH&quot;,\r\n      &quot;selectionType&quot;: [\r\n        &quot;C&quot;\r\n      ],\r\n      &quot;motorSeries&quot;: [\r\n        &quot;HBC-Big&quot;,\r\n        &quot;NB-Small&quot;\r\n      ]\r\n    }\r\n  ],\r\n  &quot;filter&quot;: &quot;data[pumpSeries=pumpType &amp; selectionType.contains(selectionType)].motorSeries&quot;,\r\n  &quot;pumpType&quot;: &quot;BPH&quot;,\r\n  &quot;selectionType&quot;: &quot;C&quot;\r\n}\r\n```\r\n\r\nMy code to filter data\r\n\r\n```\r\nString json = &quot;{\\&quot;data\\&quot;:[{\\&quot;pumpSeries\\&quot;:\\&quot;CORACHROM150\\&quot;,\\&quot;selectionType\\&quot;:[\\&quot;A\\&quot;,\\&quot;B\\&quot;,\\&quot;C\\&quot;],\\&quot;motorSeries\\&quot;:[\\&quot;UMAI150\\&quot;,\\&quot;UMAG150\\&quot;,\\&quot;UMAH150\\&quot;,\\&quot;UMAI150CH\\&quot;]},{\\&quot;pumpSeries\\&quot;:\\&quot;BPH\\&quot;,\\&quot;selectionType\\&quot;:[\\&quot;A\\&quot;,\\&quot;B\\&quot;],\\&quot;motorSeries\\&quot;:[\\&quot;HBC-Big\\&quot;,\\&quot;NB-Small\\&quot;,\\&quot;NB-Big\\&quot;,\\&quot;HBCE\\&quot;]},{\\&quot;pumpSeries\\&quot;:\\&quot;BPH\\&quot;,\\&quot;selectionType\\&quot;:[\\&quot;C\\&quot;],\\&quot;motorSeries\\&quot;:[\\&quot;HBC-Big\\&quot;,\\&quot;NB-Small\\&quot;]}],\\&quot;filter\\&quot;:\\&quot;data[pumpSeries=pumpType&amp;selectionType.contains(selectionType)].motorSeries\\&quot;,\\&quot;pumpType\\&quot;:\\&quot;BPH\\&quot;,\\&quot;selectionType\\&quot;:\\&quot;C\\&quot;}&quot;;\r\n\r\nJosson josson = Josson.fromJsonString(json);\r\nSystem.out.println(josson.getNode(&quot;data[pumpSeries=&#39;BPH&#39; &amp; selectionType.contains(&#39;C&#39;)].motorSeries&quot;));\r\n```\r\n**Output**\r\n\r\n```\r\n[&quot;HBC-Big&quot;,&quot;NB-Small&quot;]\r\n```\r\n\r\nNow I want to filter the data using filter node used in json data instead of text. something like\r\n```\r\nSystem.out.println(josson.getNode(&quot;eval(filter)&quot;));\r\n```\r\n\r\nhere the text in filter node is\r\n```\r\ndata[pumpSeries=pumpType &amp; selectionType.contains(selectionType)].motorSeries\r\n```\r\n\r\ntext should be resolved to below text and filter data\r\n```\r\ndata[pumpSeries=&#39;BPH&#39; &amp; selectionType.contains(&#39;C&#39;)].motorSeries\r\n```\r\nAny help would be appreciated\r\n\r\nRegards,\r\nPranav\r\n\r\n\r\n  [1]: https://github.com/octomix/josson","title":"filter json data using josson","body":"<p>json library: <a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">github.com/octomix/josson</a></p>\n<p>My json data is</p>\n<pre><code>{\n  &quot;data&quot;: [\n    {\n      &quot;pumpSeries&quot;: &quot;CORACHROM 150&quot;,\n      &quot;selectionType&quot;: [\n        &quot;A&quot;,\n        &quot;B&quot;,\n        &quot;C&quot;\n      ],\n      &quot;motorSeries&quot;: [\n        &quot;UMAI 150&quot;,\n        &quot;UMAG 150&quot;,\n        &quot;UMAH 150&quot;,\n        &quot;UMAI 150 CH&quot;\n      ]\n    },\n    {\n      &quot;pumpSeries&quot;: &quot;BPH&quot;,\n      &quot;selectionType&quot;: [\n        &quot;A&quot;,\n        &quot;B&quot;\n      ],\n      &quot;motorSeries&quot;: [\n        &quot;HBC-Big&quot;,\n        &quot;NB-Small&quot;,\n        &quot;NB-Big&quot;,\n        &quot;HBCE&quot;\n      ]\n    },\n    {\n      &quot;pumpSeries&quot;: &quot;BPH&quot;,\n      &quot;selectionType&quot;: [\n        &quot;C&quot;\n      ],\n      &quot;motorSeries&quot;: [\n        &quot;HBC-Big&quot;,\n        &quot;NB-Small&quot;\n      ]\n    }\n  ],\n  &quot;filter&quot;: &quot;data[pumpSeries=pumpType &amp; selectionType.contains(selectionType)].motorSeries&quot;,\n  &quot;pumpType&quot;: &quot;BPH&quot;,\n  &quot;selectionType&quot;: &quot;C&quot;\n}\n</code></pre>\n<p>My code to filter data</p>\n<pre><code>String json = &quot;{\\&quot;data\\&quot;:[{\\&quot;pumpSeries\\&quot;:\\&quot;CORACHROM150\\&quot;,\\&quot;selectionType\\&quot;:[\\&quot;A\\&quot;,\\&quot;B\\&quot;,\\&quot;C\\&quot;],\\&quot;motorSeries\\&quot;:[\\&quot;UMAI150\\&quot;,\\&quot;UMAG150\\&quot;,\\&quot;UMAH150\\&quot;,\\&quot;UMAI150CH\\&quot;]},{\\&quot;pumpSeries\\&quot;:\\&quot;BPH\\&quot;,\\&quot;selectionType\\&quot;:[\\&quot;A\\&quot;,\\&quot;B\\&quot;],\\&quot;motorSeries\\&quot;:[\\&quot;HBC-Big\\&quot;,\\&quot;NB-Small\\&quot;,\\&quot;NB-Big\\&quot;,\\&quot;HBCE\\&quot;]},{\\&quot;pumpSeries\\&quot;:\\&quot;BPH\\&quot;,\\&quot;selectionType\\&quot;:[\\&quot;C\\&quot;],\\&quot;motorSeries\\&quot;:[\\&quot;HBC-Big\\&quot;,\\&quot;NB-Small\\&quot;]}],\\&quot;filter\\&quot;:\\&quot;data[pumpSeries=pumpType&amp;selectionType.contains(selectionType)].motorSeries\\&quot;,\\&quot;pumpType\\&quot;:\\&quot;BPH\\&quot;,\\&quot;selectionType\\&quot;:\\&quot;C\\&quot;}&quot;;\n\nJosson josson = Josson.fromJsonString(json);\nSystem.out.println(josson.getNode(&quot;data[pumpSeries='BPH' &amp; selectionType.contains('C')].motorSeries&quot;));\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>[&quot;HBC-Big&quot;,&quot;NB-Small&quot;]\n</code></pre>\n<p>Now I want to filter the data using filter node used in json data instead of text. something like</p>\n<pre><code>System.out.println(josson.getNode(&quot;eval(filter)&quot;));\n</code></pre>\n<p>here the text in filter node is</p>\n<pre><code>data[pumpSeries=pumpType &amp; selectionType.contains(selectionType)].motorSeries\n</code></pre>\n<p>text should be resolved to below text and filter data</p>\n<pre><code>data[pumpSeries='BPH' &amp; selectionType.contains('C')].motorSeries\n</code></pre>\n<p>Any help would be appreciated</p>\n<p>Regards,\nPranav</p>\n"},{"tags":["java","gluon-mobile"],"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":1,"creation_date":1672697464,"post_id":74986881,"comment_id":132330493,"body_markdown":"Because View nodes are cached once created, `initialize()` is called once. However you could make use of `View::setOnShowing` (see [javadoc](https://docs.gluonhq.com/charm/javadoc/6.2.2/com.gluonhq.charm.glisten/com/gluonhq/charm/glisten/mvc/View.html#onShowingProperty)), which will get called every time the view is shown on top (i.e. after switching to it from other view).","body":"Because View nodes are cached once created, <code>initialize()</code> is called once. However you could make use of <code>View::setOnShowing</code> (see <a href=\"https://docs.gluonhq.com/charm/javadoc/6.2.2/com.gluonhq.charm.glisten/com/gluonhq/charm/glisten/mvc/View.html#onShowingProperty\" rel=\"nofollow noreferrer\">javadoc</a>), which will get called every time the view is shown on top (i.e. after switching to it from other view)."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1672759436,"post_id":74986881,"comment_id":132344127,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27182276,"reputation":1,"user_id":20717315,"display_name":"MilckShake Beans"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672748977,"creation_date":1672692153,"question_id":74986881,"body_markdown":"I am using gluon mobile to build my app and I want to update the `home` window when switching to it with the `view.getAppManager.goHome()` but unlike setting a new scene in javafx this does not run the `initialize` function in my home controller.\r\n\r\nAt first I tried fixing it by changing the scene like in javafx but because the of the way that gluon mobile works it discards a lot of the benefits of the API, like the App bar and so on. I was hoping that there is an easy way to run initialize when switching a view. Another fix I tried is to make my update method public and run it through my other view controller but because I cannot make it satatic, I got nullPointerExeptions when making a `new HomePresenter.myUpdateToHomeView`.  Does Someone know how to work around this?","title":"How to run initialize when switching view in Gluon mobile","body":"<p>I am using gluon mobile to build my app and I want to update the <code>home</code> window when switching to it with the <code>view.getAppManager.goHome()</code> but unlike setting a new scene in javafx this does not run the <code>initialize</code> function in my home controller.</p>\n<p>At first I tried fixing it by changing the scene like in javafx but because the of the way that gluon mobile works it discards a lot of the benefits of the API, like the App bar and so on. I was hoping that there is an easy way to run initialize when switching a view. Another fix I tried is to make my update method public and run it through my other view controller but because I cannot make it satatic, I got nullPointerExeptions when making a <code>new HomePresenter.myUpdateToHomeView</code>.  Does Someone know how to work around this?</p>\n"},{"tags":["java","spring-boot","openapi"],"answers":[{"tags":[],"owner":{"account_id":2625175,"reputation":573,"user_id":2272340,"accept_rate":80,"display_name":"arjayads"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672748722,"creation_date":1672748722,"answer_id":74993347,"question_id":74992866,"body_markdown":"The `annotations` symbol cannot be resolved when using the `org.springdoc.openapi-gradle-plugin` plugin in a Spring Boot project may be caused by a few different issues:\r\n\r\n 1. The `springdoc-openapi-data-rest` dependency may not be included in\r\n    your project&#39;s classpath. This dependency is required for the\r\n    `org.springdoc.openapi-gradle-plugin` plugin to work properly, and\r\n    provides the necessary annotations that are used to generate the\r\n    OpenAPI documentation. Make sure that this dependency is included in\r\n    your project&#39;s build file (e.g. `build.gradle)`.\r\n 2. You may be using an older version of the\r\n    `org.springdoc.openapi-gradle-plugin plugin` that is not compatible\r\n    with the version of Spring Boot that you are using. Make sure that\r\n    you are using a version of the plugin that is compatible with your\r\n    version of Spring Boot. You can check the plugin&#39;s documentation to\r\n    see which versions of Spring Boot are supported.\r\n 3. There may be a conflict with another library or plugin in your\r\n    project that is causing the `annotations` symbol to be unresolved. Try\r\n    resolving any other library conflicts or errors that you may be\r\n    encountering, as this may help to fix the `annotations` symbol issue.","title":"Cannot resolve symbol &#39;annotations&#39; about openapi v3","body":"<p>The <code>annotations</code> symbol cannot be resolved when using the <code>org.springdoc.openapi-gradle-plugin</code> plugin in a Spring Boot project may be caused by a few different issues:</p>\n<ol>\n<li>The <code>springdoc-openapi-data-rest</code> dependency may not be included in\nyour project's classpath. This dependency is required for the\n<code>org.springdoc.openapi-gradle-plugin</code> plugin to work properly, and\nprovides the necessary annotations that are used to generate the\nOpenAPI documentation. Make sure that this dependency is included in\nyour project's build file (e.g. <code>build.gradle)</code>.</li>\n<li>You may be using an older version of the\n<code>org.springdoc.openapi-gradle-plugin plugin</code> that is not compatible\nwith the version of Spring Boot that you are using. Make sure that\nyou are using a version of the plugin that is compatible with your\nversion of Spring Boot. You can check the plugin's documentation to\nsee which versions of Spring Boot are supported.</li>\n<li>There may be a conflict with another library or plugin in your\nproject that is causing the <code>annotations</code> symbol to be unresolved. Try\nresolving any other library conflicts or errors that you may be\nencountering, as this may help to fix the <code>annotations</code> symbol issue.</li>\n</ol>\n"}],"owner":{"account_id":3106126,"reputation":31281,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3024,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672748722,"creation_date":1672746022,"question_id":74992866,"body_markdown":"when I using the swagger v3 import like this:\r\n\r\n\r\n    import io.swagger.annotations.Api;\r\n    import io.swagger.annotations.Operation;\r\n\r\n\r\nthe Intellij Idea shows that:\r\n\r\n\r\n    Cannot resolve symbol &#39;annotations&#39;\r\n\r\n\r\nI have already add the openapi v3 plugin in the build.gradle:\r\n\r\n\r\n\r\n    id &quot;org.springdoc.openapi-gradle-plugin&quot; version &quot;1.3.4&quot;\r\n\r\n\r\nand apply it like this:\r\n\r\n\r\n    apply plugin: &#39;org.springdoc.openapi-gradle-plugin&#39;\r\n\r\n\r\n\r\nAm I missing something? what should I do to fixed it? I also added this dependencies:\r\n\r\n\r\n    api &quot;org.springdoc:springdoc-openapi-ui:1.6.9&quot;\r\n\r\n\r\n","title":"Cannot resolve symbol &#39;annotations&#39; about openapi v3","body":"<p>when I using the swagger v3 import like this:</p>\n<pre><code>import io.swagger.annotations.Api;\nimport io.swagger.annotations.Operation;\n</code></pre>\n<p>the Intellij Idea shows that:</p>\n<pre><code>Cannot resolve symbol 'annotations'\n</code></pre>\n<p>I have already add the openapi v3 plugin in the build.gradle:</p>\n<pre><code>id &quot;org.springdoc.openapi-gradle-plugin&quot; version &quot;1.3.4&quot;\n</code></pre>\n<p>and apply it like this:</p>\n<pre><code>apply plugin: 'org.springdoc.openapi-gradle-plugin'\n</code></pre>\n<p>Am I missing something? what should I do to fixed it? I also added this dependencies:</p>\n<pre><code>api &quot;org.springdoc:springdoc-openapi-ui:1.6.9&quot;\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":21690681,"reputation":33,"user_id":16005336,"display_name":"Rasika Joshi"},"score":0,"creation_date":1650625036,"post_id":71967332,"comment_id":127168798,"body_markdown":"Added spring dependencies in question","body":"Added spring dependencies in question"},{"owner":{"account_id":11795113,"reputation":14,"user_id":8629997,"display_name":"Pravin"},"score":0,"creation_date":1650631053,"post_id":71967332,"comment_id":127170875,"body_markdown":"I can&#39;t reproduce with dependencies you have posted, it works fine for me. But one of the clue would be:\n\n\n`org.springframework.boot.autoconfigure.data.mongo.MongoDataConfiguration.mongoCustomConversions(MongoDataConfiguration.java:63) at         `                         \n\n\n\n\nI just checked and MongoDataConfiguration class in sprin-boot-autoconfigure-2.6.6.jar is just 50 lines long, so some transitive dependancy somewhere is loading some old jar in your case probably?","body":"I can&#39;t reproduce with dependencies you have posted, it works fine for me. But one of the clue would be:   <code>org.springframework.boot.autoconfigure.data.mongo.MongoDataC&zwnj;&#8203;onfiguration.mongoCu&zwnj;&#8203;stomConversions(Mong&zwnj;&#8203;oDataConfiguration.j&zwnj;&#8203;ava:63) at         </code>                              I just checked and MongoDataConfiguration class in sprin-boot-autoconfigure-2.6.6.jar is just 50 lines long, so some transitive dependancy somewhere is loading some old jar in your case probably?"}],"tags":[],"owner":{"account_id":11795113,"reputation":14,"user_id":8629997,"display_name":"Pravin"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650624143,"creation_date":1650623609,"answer_id":71967332,"question_id":71967005,"body_markdown":"Can you please list all the dependencies in your program, with below snippets from my pom.xml, I am able to use MongoCustomConversions without any issues.\r\n\r\nSpring boot: 2.6.6\r\nSpring framework: 5.3.18\r\nspring-data-mongodb: 3.3.3\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.6&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n      ....\r\n      \r\n      \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"NoClassDefFoundError on MongoCustomConversions while upgrading springboot","body":"<p>Can you please list all the dependencies in your program, with below snippets from my pom.xml, I am able to use MongoCustomConversions without any issues.</p>\n<p>Spring boot: 2.6.6\nSpring framework: 5.3.18\nspring-data-mongodb: 3.3.3\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n  ....\n  \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":21690681,"reputation":33,"user_id":16005336,"display_name":"Rasika Joshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672748574,"creation_date":1650777277,"answer_id":71985675,"question_id":71967005,"body_markdown":"Hi This error got resolved after adding the following dependency : \r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bson&lt;/artifactId&gt;\r\n            &lt;version&gt;4.6.0&lt;/version&gt; \r\n     &lt;/dependency&gt;\r\n\r\nthis is the latest bson version, you can add a version compatible with your other dependencies.","title":"NoClassDefFoundError on MongoCustomConversions while upgrading springboot","body":"<p>Hi This error got resolved after adding the following dependency :</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n        &lt;artifactId&gt;bson&lt;/artifactId&gt;\n        &lt;version&gt;4.6.0&lt;/version&gt; \n &lt;/dependency&gt;\n</code></pre>\n<p>this is the latest bson version, you can add a version compatible with your other dependencies.</p>\n"}],"owner":{"account_id":21690681,"reputation":33,"user_id":16005336,"display_name":"Rasika Joshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1508,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71985675,"answer_count":2,"score":2,"last_activity_date":1672748574,"creation_date":1650621966,"question_id":71967005,"body_markdown":"I am getting the following error\r\n\r\n&gt; java.lang.NoClassDefFoundError: Could not initialize class org.springframework.data.mongodb.core.convert.MongoCustomConversions\r\n\r\nI am upgrading springboot to 2.6.6,springframework to 5.3.18, I have also added spring-data-mongodb dependency version : 3.3.3\r\n\r\nDetailed stack trace : \r\n\r\n&gt; Caused by: java.lang.NoClassDefFoundError: Could not initialize class org.springframework.data.mongodb.core.convert.MongoCustomConversions\r\n        at org.springframework.boot.autoconfigure.data.mongo.MongoDataConfiguration.mongoCustomConversions(MongoDataConfiguration.java:63)\r\n        at sun.reflect.GeneratedMethodAccessor342.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:483)\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n        ... 75 more\r\n\r\n\r\n\r\nspring dependencies in pom are : \r\n\r\n&gt;      \r\n       \r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.18&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.18&lt;/version&gt;\r\n         &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.18&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n         &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.hateoas&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-hateoas&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.18&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-jcl&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.18&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.6&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n         &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        and in properties file I have added :\r\n\r\n        &lt;spring-data-commons.version&gt;2.6.0&lt;/spring-data-commons.version&gt;\r\n        &lt;spring-data-mongodb.version&gt;3.3.3&lt;/spring-data-mongodb.version&gt;\r\n        &lt;spring-boot.version&gt;2.6.6&lt;/spring-boot.version&gt;\r\n        &lt;spring.version&gt;${spring-boot.version}&lt;/spring.version&gt;","title":"NoClassDefFoundError on MongoCustomConversions while upgrading springboot","body":"<p>I am getting the following error</p>\n<blockquote>\n<p>java.lang.NoClassDefFoundError: Could not initialize class org.springframework.data.mongodb.core.convert.MongoCustomConversions</p>\n</blockquote>\n<p>I am upgrading springboot to 2.6.6,springframework to 5.3.18, I have also added spring-data-mongodb dependency version : 3.3.3</p>\n<p>Detailed stack trace :</p>\n<blockquote>\n<p>Caused by: java.lang.NoClassDefFoundError: Could not initialize class org.springframework.data.mongodb.core.convert.MongoCustomConversions\nat org.springframework.boot.autoconfigure.data.mongo.MongoDataConfiguration.mongoCustomConversions(MongoDataConfiguration.java:63)\nat sun.reflect.GeneratedMethodAccessor342.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:483)\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n... 75 more</p>\n</blockquote>\n<p>spring dependencies in pom are :</p>\n<blockquote>\n</blockquote>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\n        &lt;version&gt;2.6.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;\n    &lt;/dependency&gt;\n   &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n        &lt;version&gt;5.3.18&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;5.3.18&lt;/version&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;5.3.18&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.hateoas&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-hateoas&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;version&gt;5.3.18&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-jcl&lt;/artifactId&gt;\n        &lt;version&gt;5.3.18&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n     &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n        &lt;version&gt;3.3.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    and in properties file I have added :\n\n    &lt;spring-data-commons.version&gt;2.6.0&lt;/spring-data-commons.version&gt;\n    &lt;spring-data-mongodb.version&gt;3.3.3&lt;/spring-data-mongodb.version&gt;\n    &lt;spring-boot.version&gt;2.6.6&lt;/spring-boot.version&gt;\n    &lt;spring.version&gt;${spring-boot.version}&lt;/spring.version&gt;\n</code></pre>\n"},{"tags":["java","reactjs","spring-boot","frontend-maven-plugin"],"comments":[{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1672749825,"post_id":74993312,"comment_id":132340957,"body_markdown":"Your FE has a dependency version conflict that need to be resolved. This could happen if you are using frameworks that are fix to a specific react/.. version but you&#39;re using mainly another one. \nYou can now force to overwrite it but that might break the framework in case of breaking changes or load both (not efficient).\n\nYou should realy resolve it by replacing the tool if needed. Hint given by NPM and the ipe is this line `with --force, or --legacy-peer-deps`","body":"Your FE has a dependency version conflict that need to be resolved. This could happen if you are using frameworks that are fix to a specific react/.. version but you&#39;re using mainly another one.  You can now force to overwrite it but that might break the framework in case of breaking changes or load both (not efficient).  You should realy resolve it by replacing the tool if needed. Hint given by NPM and the ipe is this line <code>with --force, or --legacy-peer-deps</code>"},{"owner":{"account_id":26951706,"reputation":61,"user_id":20520826,"display_name":"Luis Rotoly"},"score":0,"creation_date":1672750339,"post_id":74993312,"comment_id":132341109,"body_markdown":"The problem looks like to be with @react-pdf/renderer but how to clear the depedency?","body":"The problem looks like to be with @react-pdf/renderer but how to clear the depedency?"},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1672750514,"post_id":74993312,"comment_id":132341163,"body_markdown":"Check your FE dependency list (npm file) and replace `react-render` by the correct one for react 18: `react-18-pdf/renderer`","body":"Check your FE dependency list (npm file) and replace <code>react-render</code> by the correct one for react 18: <code>react-18-pdf&#47;renderer</code>"}],"owner":{"account_id":26951706,"reputation":61,"user_id":20520826,"display_name":"Luis Rotoly"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672748553,"creation_date":1672748553,"question_id":74993312,"body_markdown":"I am trying to package my front-end with my back-end, reactjs and java spring boot. I am getting this error and I can&#180;t find a way to solve it. I got the latest npm, node and react installed.\r\n\r\nHere is my pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;integritaback&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;integritaback&lt;/name&gt;\r\n\t&lt;description&gt;Projeto Clinica Integrita&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.12.1&lt;/version&gt;\r\n\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;!-- installing node and npm --&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;Install node and npm&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;install-node-and-npm&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-resources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;nodeVersion&gt;v18.12.1&lt;/nodeVersion&gt;\r\n\t\t\t\t\t\t\t&lt;npmVersion&gt;8.19.2&lt;/npmVersion&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\r\n\t\t\t\t\t&lt;!-- running npm install --&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;npm install&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;npm&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-resources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;arguments&gt;install&lt;/arguments&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\r\n\t\t\t\t\t&lt;!-- build our production version --&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;npm run build&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;npm&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-resources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;arguments&gt;run build&lt;/arguments&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;nodeVersion&gt;v18.12.1&lt;/nodeVersion&gt;\r\n\t\t\t\t\t&lt;workingDirectory&gt;src/main/Integrita&lt;/workingDirectory&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;Copy JavaScript app into SpringBoot&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;process-resources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;copy-resources&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;target/classes/static&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;resources&gt;\r\n\t\t\t\t\t\t\t\t&lt;resource&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;directory&gt;src/main/Integrita/build&lt;/directory&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n\t\t\t\t\t\t\t\t&lt;/resource&gt;\r\n\t\t\t\t\t\t\t&lt;/resources&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nSo when I try to run .\\mvnw clean install it goes fine until this error appear:\r\n```\r\n[INFO] --- frontend-maven-plugin:1.11.3:npm (npm install) @ integritaback ---\r\n[INFO] Running &#39;npm install&#39; in C:\\Users\\LuisR\\Documents\\Integrita\\integritaback\\src\\main\\Integrita\r\n[INFO] npm ERR! code ERESOLVE\r\n[INFO] npm ERR! ERESOLVE could not resolve\r\n[INFO] npm ERR!\r\n[INFO] npm ERR! While resolving: @react-pdf/renderer@3.0.1\r\n[INFO] npm ERR! Found: react@18.2.0\r\n[INFO] npm ERR! node_modules/react\r\n[INFO] npm ERR!   react@&quot;^18.2.0&quot; from the root project\r\n[INFO] npm ERR!   peer react@&quot;&gt;=16.8.0&quot; from @emotion/react@11.10.4\r\n[INFO] npm ERR!   node_modules/@emotion/react\r\n[INFO] npm ERR!     @emotion/react@&quot;^11.10.4&quot; from the root project\r\n[INFO] npm ERR!     peer @emotion/react@&quot;^11.0.0-rc.0&quot; from @emotion/styled@11.10.4\r\n[INFO] npm ERR!     node_modules/@emotion/styled\r\n[INFO] npm ERR!       @emotion/styled@&quot;^11.10.4&quot; from the root project\r\n[INFO] npm ERR!       4 more (@mui/material, @mui/styled-engine, @mui/system, @mui/x-date-pickers)\r\n[INFO] npm ERR!     4 more (@mui/material, @mui/styled-engine, @mui/system, @mui/x-date-pickers)\r\n[INFO] npm ERR!   39 more (@emotion/styled, ...)\r\n[INFO] npm ERR!\r\n[INFO] npm ERR! Could not resolve dependency:\r\n[INFO] npm ERR! peer react@&quot;^16.8.6 || ^17.0.0&quot; from @react-pdf/renderer@3.0.1\r\n[INFO] npm ERR! node_modules/@react-pdf/renderer\r\n[INFO] npm ERR!   @react-pdf/renderer@&quot;^3.0.1&quot; from the root project\r\n[INFO] npm ERR!\r\n[INFO] npm ERR! Conflicting peer dependency: react@17.0.2\r\n[INFO] npm ERR! node_modules/react\r\n[INFO] npm ERR!   peer react@&quot;^16.8.6 || ^17.0.0&quot; from @react-pdf/renderer@3.0.1\r\n[INFO] npm ERR!   node_modules/@react-pdf/renderer\r\n[INFO] npm ERR!     @react-pdf/renderer@&quot;^3.0.1&quot; from the root project\r\n[INFO] npm ERR!\r\n[INFO] npm ERR! Fix the upstream dependency conflict, or retry\r\n[INFO] npm ERR! this command with --force, or --legacy-peer-deps\r\n[INFO] npm ERR! to accept an incorrect (and potentially broken) dependency resolution.\r\n[INFO] npm ERR!\r\n[INFO] npm ERR! See C:\\Users\\LuisR\\AppData\\Local\\npm-cache\\eresolve-report.txt for a full report.\r\n[INFO]\r\n[INFO] npm ERR! A complete log of this run can be found in:\r\n[INFO] npm ERR!     C:\\Users\\LuisR\\AppData\\Local\\npm-cache\\_logs\\2023-01-03T12_02_46_084Z-debug-0.log\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  17.384 s\r\n[INFO] Finished at: 2023-01-03T09:02:49-03:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal com.github.eirslett:frontend-maven-plugin:1.11.3:npm (npm install) on project integritaback: Failed to run task: &#39;npm install&#39; failed. org.apache.commons.exec.Ex\r\necuteException: Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n```\r\n\r\nCan anyone help me out. I don&#180;t know what else to do.","title":"Trying to package Reactjs with Java Spring boot and get MojoFailureException","body":"<p>I am trying to package my front-end with my back-end, reactjs and java spring boot. I am getting this error and I cant find a way to solve it. I got the latest npm, node and react installed.</p>\n<p>Here is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;integritaback&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;integritaback&lt;/name&gt;\n    &lt;description&gt;Projeto Clinica Integrita&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.12.1&lt;/version&gt;\n\n                &lt;executions&gt;\n                    &lt;!-- installing node and npm --&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;Install node and npm&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;generate-resources&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;nodeVersion&gt;v18.12.1&lt;/nodeVersion&gt;\n                            &lt;npmVersion&gt;8.19.2&lt;/npmVersion&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n\n                    &lt;!-- running npm install --&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;npm install&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;generate-resources&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;install&lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n\n                    &lt;!-- build our production version --&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;npm run build&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;generate-resources&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;run build&lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;nodeVersion&gt;v18.12.1&lt;/nodeVersion&gt;\n                    &lt;workingDirectory&gt;src/main/Integrita&lt;/workingDirectory&gt;\n                &lt;/configuration&gt;\n        &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;Copy JavaScript app into SpringBoot&lt;/id&gt;\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;target/classes/static&lt;/outputDirectory&gt;\n                            &lt;resources&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;src/main/Integrita/build&lt;/directory&gt;\n                                    &lt;filtering&gt;true&lt;/filtering&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>So when I try to run .\\mvnw clean install it goes fine until this error appear:</p>\n<pre><code>[INFO] --- frontend-maven-plugin:1.11.3:npm (npm install) @ integritaback ---\n[INFO] Running 'npm install' in C:\\Users\\LuisR\\Documents\\Integrita\\integritaback\\src\\main\\Integrita\n[INFO] npm ERR! code ERESOLVE\n[INFO] npm ERR! ERESOLVE could not resolve\n[INFO] npm ERR!\n[INFO] npm ERR! While resolving: @react-pdf/renderer@3.0.1\n[INFO] npm ERR! Found: react@18.2.0\n[INFO] npm ERR! node_modules/react\n[INFO] npm ERR!   react@&quot;^18.2.0&quot; from the root project\n[INFO] npm ERR!   peer react@&quot;&gt;=16.8.0&quot; from @emotion/react@11.10.4\n[INFO] npm ERR!   node_modules/@emotion/react\n[INFO] npm ERR!     @emotion/react@&quot;^11.10.4&quot; from the root project\n[INFO] npm ERR!     peer @emotion/react@&quot;^11.0.0-rc.0&quot; from @emotion/styled@11.10.4\n[INFO] npm ERR!     node_modules/@emotion/styled\n[INFO] npm ERR!       @emotion/styled@&quot;^11.10.4&quot; from the root project\n[INFO] npm ERR!       4 more (@mui/material, @mui/styled-engine, @mui/system, @mui/x-date-pickers)\n[INFO] npm ERR!     4 more (@mui/material, @mui/styled-engine, @mui/system, @mui/x-date-pickers)\n[INFO] npm ERR!   39 more (@emotion/styled, ...)\n[INFO] npm ERR!\n[INFO] npm ERR! Could not resolve dependency:\n[INFO] npm ERR! peer react@&quot;^16.8.6 || ^17.0.0&quot; from @react-pdf/renderer@3.0.1\n[INFO] npm ERR! node_modules/@react-pdf/renderer\n[INFO] npm ERR!   @react-pdf/renderer@&quot;^3.0.1&quot; from the root project\n[INFO] npm ERR!\n[INFO] npm ERR! Conflicting peer dependency: react@17.0.2\n[INFO] npm ERR! node_modules/react\n[INFO] npm ERR!   peer react@&quot;^16.8.6 || ^17.0.0&quot; from @react-pdf/renderer@3.0.1\n[INFO] npm ERR!   node_modules/@react-pdf/renderer\n[INFO] npm ERR!     @react-pdf/renderer@&quot;^3.0.1&quot; from the root project\n[INFO] npm ERR!\n[INFO] npm ERR! Fix the upstream dependency conflict, or retry\n[INFO] npm ERR! this command with --force, or --legacy-peer-deps\n[INFO] npm ERR! to accept an incorrect (and potentially broken) dependency resolution.\n[INFO] npm ERR!\n[INFO] npm ERR! See C:\\Users\\LuisR\\AppData\\Local\\npm-cache\\eresolve-report.txt for a full report.\n[INFO]\n[INFO] npm ERR! A complete log of this run can be found in:\n[INFO] npm ERR!     C:\\Users\\LuisR\\AppData\\Local\\npm-cache\\_logs\\2023-01-03T12_02_46_084Z-debug-0.log\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  17.384 s\n[INFO] Finished at: 2023-01-03T09:02:49-03:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal com.github.eirslett:frontend-maven-plugin:1.11.3:npm (npm install) on project integritaback: Failed to run task: 'npm install' failed. org.apache.commons.exec.Ex\necuteException: Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n<p>Can anyone help me out. I dont know what else to do.</p>\n"},{"tags":["java","ssl","ssl-certificate","handshaking"],"answers":[{"tags":[],"owner":{"account_id":23763690,"reputation":3,"user_id":17778713,"display_name":"Pawan Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672748458,"creation_date":1672748458,"answer_id":74993288,"question_id":73716244,"body_markdown":"Make sure eclipse is using installed jdk not eclipse default jre or go to eclipse forum for better explanation of the solution.i got the solution there only","title":"Sun.security.provide.certpath.SunCertPathBuilderException/: unable to find valid certificate path to requested target","body":"<p>Make sure eclipse is using installed jdk not eclipse default jre or go to eclipse forum for better explanation of the solution.i got the solution there only</p>\n"}],"owner":{"account_id":23763690,"reputation":3,"user_id":17778713,"display_name":"Pawan Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74993288,"answer_count":1,"score":0,"last_activity_date":1672748458,"creation_date":1663155657,"question_id":73716244,"body_markdown":"My java code is try to download jars from repository in and unable to download with exception i.e unable to find valid certificate path to requested target although I have all the certificate in the truststore .what can be the reason for such error .\r\nI&#39;m using vpn and proxy is also correct ","title":"Sun.security.provide.certpath.SunCertPathBuilderException/: unable to find valid certificate path to requested target","body":"<p>My java code is try to download jars from repository in and unable to download with exception i.e unable to find valid certificate path to requested target although I have all the certificate in the truststore .what can be the reason for such error .\nI'm using vpn and proxy is also correct</p>\n"},{"tags":["java","postgresql","spring-boot","rest","spring-framework-beans"],"answers":[{"tags":[],"owner":{"account_id":24010921,"reputation":41,"user_id":17994525,"display_name":"Will Moore"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1642777146,"creation_date":1642777146,"answer_id":70803310,"question_id":70571956,"body_markdown":"This Looks very similar to the Spring Boot tutorial I&#39;ve done recently. One thing to make sure of is that the table already exists in the database schema. The way the model is setup it does not automatically create the table in the database when the api is run.\r\n\r\nAnother thing to check is your application.properties settings. The &quot;spring.datasource.url&quot; option should be set to the correct database it is looking for. ie: &quot;jdbc:postgresql://localhost:xxxx/app_name&quot; where app_name is what you named the database and xxxx is the port.\r\n\r\nI ran into this similar issue with the many to many relationship for sessions and speakers, and the culprit was the missing table in the database.","title":"o.h.engine.jdbc.spi.SqlExceptionHelper : ERROR: relation &quot;sessions&quot; does not exist","body":"<p>This Looks very similar to the Spring Boot tutorial I've done recently. One thing to make sure of is that the table already exists in the database schema. The way the model is setup it does not automatically create the table in the database when the api is run.</p>\n<p>Another thing to check is your application.properties settings. The &quot;spring.datasource.url&quot; option should be set to the correct database it is looking for. ie: &quot;jdbc:postgresql://localhost:xxxx/app_name&quot; where app_name is what you named the database and xxxx is the port.</p>\n<p>I ran into this similar issue with the many to many relationship for sessions and speakers, and the culprit was the missing table in the database.</p>\n"},{"tags":[],"owner":{"account_id":20134608,"reputation":51,"user_id":14766004,"display_name":"mac-deep"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672748229,"creation_date":1672748229,"answer_id":74993248,"question_id":70571956,"body_markdown":"I had the same error but the silly mistake was\r\n\r\n\r\nafter creating the &quot;conference_app&quot; database from CLI, \r\nI forget to connect it and created all tables.\r\n\r\n**Simply connect db first after creating (by following command)**\r\n\r\n    \\c conference_app\r\n\r\nthen create sessions and speaker tables.","title":"o.h.engine.jdbc.spi.SqlExceptionHelper : ERROR: relation &quot;sessions&quot; does not exist","body":"<p>I had the same error but the silly mistake was</p>\n<p>after creating the &quot;conference_app&quot; database from CLI,\nI forget to connect it and created all tables.</p>\n<p><strong>Simply connect db first after creating (by following command)</strong></p>\n<pre><code>\\c conference_app\n</code></pre>\n<p>then create sessions and speaker tables.</p>\n"}],"owner":{"account_id":23818104,"reputation":11,"user_id":17826075,"display_name":"HRISHIKESH ZANJAD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7884,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1672748229,"creation_date":1641247487,"question_id":70571956,"body_markdown":"I was trying to run API using Spring Framework. While working on it I got above error message when I tried running endpoints.\r\nBelow is the class that I tried testing on Postman. In which I have used **sessions** table from the PostgreSQL data base\r\n\r\n    package com.pluralsight.conferencedemo.models;\r\n    \r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    import javax.persistence.*;\r\n    import java.util.List;\r\n    \r\n    @Entity(name=&quot;sessions&quot;)\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;,&quot;handler&quot;})\r\n    public class Session {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long session_id;\r\n        private String session_name;\r\n        private String session_description;\r\n        private Integer session_length;\r\n    \r\n        @ManyToMany\r\n        @JoinTable(\r\n                name=&quot;session_speakers&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;session_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name= &quot;speaker_id&quot;))\r\n        private List&lt;Speaker&gt; speakers;\r\n    \r\n        public Session(){\r\n    \r\n        }\r\n    \r\n        public List&lt;Speaker&gt; getSpeakers() {\r\n            return speakers;\r\n        }\r\n    \r\n        public void setSpeakers(List&lt;Speaker&gt; speakers) {\r\n            this.speakers = speakers;\r\n        }\r\n    \r\n        public Long getSession_id() {\r\n            return session_id;\r\n        }\r\n    \r\n        public void setSession_id(Long session_id) {\r\n            this.session_id = session_id;\r\n        }\r\n    \r\n        public String getSession_name() {\r\n            return session_name;\r\n        }\r\n    \r\n        public void setSession_name(String session_name) {\r\n            this.session_name = session_name;\r\n        }\r\n    \r\n        public String getSession_description() {\r\n            return session_description;\r\n        }\r\n    \r\n        public void setSession_description(String session_description) {\r\n            this.session_description = session_description;\r\n        }\r\n    \r\n        public Integer getSession_length() {\r\n            return session_length;\r\n        }\r\n    \r\n        public void setSession_length(Integer session_length) {\r\n            this.session_length = session_length;\r\n        }\r\n    }\r\n\r\nAnd the Error message that I got in **Postman** is \r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2022-01-03T21:28:36.793+00:00&quot;,\r\n        &quot;status&quot;: 500,\r\n        &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n        &quot;path&quot;: &quot;/api/v1/sessions&quot;\r\n    }\r\n\r\nWhile Error message in **IntelliJ** when I tried GET request from Postman is:\r\n\r\n    2022-01-04 02:58:36.695  WARN 10200 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42P01\r\n    2022-01-04 02:58:36.695 ERROR 10200 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: relation &quot;sessions&quot; does not exist\r\n      Position: 179\r\n    2022-01-04 02:58:36.758 ERROR 10200 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause\r\n    \r\n    org.postgresql.util.PSQLException: ERROR: relation &quot;sessions&quot; does not exist\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TLqo0.png","title":"o.h.engine.jdbc.spi.SqlExceptionHelper : ERROR: relation &quot;sessions&quot; does not exist","body":"<p>I was trying to run API using Spring Framework. While working on it I got above error message when I tried running endpoints.\nBelow is the class that I tried testing on Postman. In which I have used <strong>sessions</strong> table from the PostgreSQL data base</p>\n<pre><code>package com.pluralsight.conferencedemo.models;\n\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport javax.persistence.*;\nimport java.util.List;\n\n@Entity(name=&quot;sessions&quot;)\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;,&quot;handler&quot;})\npublic class Session {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long session_id;\n    private String session_name;\n    private String session_description;\n    private Integer session_length;\n\n    @ManyToMany\n    @JoinTable(\n            name=&quot;session_speakers&quot;,\n            joinColumns = @JoinColumn(name = &quot;session_id&quot;),\n            inverseJoinColumns = @JoinColumn(name= &quot;speaker_id&quot;))\n    private List&lt;Speaker&gt; speakers;\n\n    public Session(){\n\n    }\n\n    public List&lt;Speaker&gt; getSpeakers() {\n        return speakers;\n    }\n\n    public void setSpeakers(List&lt;Speaker&gt; speakers) {\n        this.speakers = speakers;\n    }\n\n    public Long getSession_id() {\n        return session_id;\n    }\n\n    public void setSession_id(Long session_id) {\n        this.session_id = session_id;\n    }\n\n    public String getSession_name() {\n        return session_name;\n    }\n\n    public void setSession_name(String session_name) {\n        this.session_name = session_name;\n    }\n\n    public String getSession_description() {\n        return session_description;\n    }\n\n    public void setSession_description(String session_description) {\n        this.session_description = session_description;\n    }\n\n    public Integer getSession_length() {\n        return session_length;\n    }\n\n    public void setSession_length(Integer session_length) {\n        this.session_length = session_length;\n    }\n}\n</code></pre>\n<p>And the Error message that I got in <strong>Postman</strong> is</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-01-03T21:28:36.793+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;path&quot;: &quot;/api/v1/sessions&quot;\n}\n</code></pre>\n<p>While Error message in <strong>IntelliJ</strong> when I tried GET request from Postman is:</p>\n<pre><code>2022-01-04 02:58:36.695  WARN 10200 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42P01\n2022-01-04 02:58:36.695 ERROR 10200 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: relation &quot;sessions&quot; does not exist\n  Position: 179\n2022-01-04 02:58:36.758 ERROR 10200 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause\n\norg.postgresql.util.PSQLException: ERROR: relation &quot;sessions&quot; does not exist\n</code></pre>\n"},{"tags":["java","decimal"],"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1672643934,"post_id":74979793,"comment_id":132317260,"body_markdown":"You did not include any java code. &#39;I divided some stuff and used BigDecimal&#39; is about all the detail you provided. That&#39;s not enough to help you.","body":"You did not include any java code. &#39;I divided some stuff and used BigDecimal&#39; is about all the detail you provided. That&#39;s not enough to help you."},{"owner":{"account_id":15599001,"reputation":11,"user_id":11253618,"display_name":"SANGCO"},"score":0,"creation_date":1672729801,"post_id":74979793,"comment_id":132335014,"body_markdown":"I added the code as per your advice.","body":"I added the code as per your advice."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1672739700,"post_id":74979793,"comment_id":132337728,"body_markdown":"This prints &quot;0.999999999999997&quot; which is precisely what you programmed. I&#39;m not sure why you&#39;re confused: Your divide operation specifies: Round to 15 digits, and round down. No wonder then, the 15th digit is a 7 instead of a 10. I guess my question is: Why does this answer surprise you?","body":"This prints &quot;0.999999999999997&quot; which is precisely what you programmed. I&#39;m not sure why you&#39;re confused: Your divide operation specifies: Round to 15 digits, and round down. No wonder then, the 15th digit is a 7 instead of a 10. I guess my question is: Why does this answer surprise you?"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1672739793,"post_id":74979793,"comment_id":132337768,"body_markdown":"As far as &#39;how do I get a perfect 1.0 result&#39; is concerned: You can&#39;t, no non-magical computer could do that here, given the constraints of decimal-based math operations (`BigDecimal` is decimal based, as in, base 10). A ratio-based system could do it (you&#39;d need to look into third party java libraries). The more usual strategy is to round-as-you-output. Use e.g. `String.format(&quot;%.10f&quot;, amount)` and you&#39;ll get 1.0, because 0.999999999999997 rounded so that it doesn&#39;t take more than 10 digits after the comma, is 1.0.","body":"As far as &#39;how do I get a perfect 1.0 result&#39; is concerned: You can&#39;t, no non-magical computer could do that here, given the constraints of decimal-based math operations (<code>BigDecimal</code> is decimal based, as in, base 10). A ratio-based system could do it (you&#39;d need to look into third party java libraries). The more usual strategy is to round-as-you-output. Use e.g. <code>String.format(&quot;%.10f&quot;, amount)</code> and you&#39;ll get 1.0, because 0.999999999999997 rounded so that it doesn&#39;t take more than 10 digits after the comma, is 1.0."},{"owner":{"account_id":15599001,"reputation":11,"user_id":11253618,"display_name":"SANGCO"},"score":0,"creation_date":1673098785,"post_id":74979793,"comment_id":132423844,"body_markdown":"I want to make a program like Google Spreadsheet in Java, which is the core of my question. \nIn Google Spreadsheet, when you add up all the results, you get 1. \nAnyway thanks for the reply.","body":"I want to make a program like Google Spreadsheet in Java, which is the core of my question.  In Google Spreadsheet, when you add up all the results, you get 1.  Anyway thanks for the reply."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1673099168,"post_id":74979793,"comment_id":132423917,"body_markdown":"Print your cells using a rounding algorithm.","body":"Print your cells using a rounding algorithm."}],"owner":{"account_id":15599001,"reputation":11,"user_id":11253618,"display_name":"SANGCO"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1672748012,"creation_date":1672643742,"question_id":74979793,"body_markdown":"I used Java to get the ratio and added it all, but I didn&#39;t get 1.\r\n\r\n\r\n| A | B | C | D | SUM |\r\n| -------- | -------- | -------- | -------- | --------   |\r\n| 0.3      | 0.33     | 0.333    | 0.3333   |  1.2963    |\r\n| 0.231427910205971 | 0.254570701226568 | 0.256884980328628 | 0.257116408238834 | 1 |\r\n\r\nIn Google Spreadsheet, if you find the ratio and add it all up, you get 1.\r\n\r\nHowever, in Java, no matter which rounding mode is selected, 1 does not come out when all the ratios are added.\r\n\r\nHow does Google Spreadsheet perform Bigdecimal operations?\r\n\r\nHow can I add all the ratios and get 1 in Java?\r\n\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import java.math.BigDecimal;\r\n    import java.math.RoundingMode;\r\n    \r\n    public class TestTest {\r\n    \r\n        @Test\r\n        public void testI() {\r\n            RatioTest a = new RatioTest(&quot;0.3&quot;);\r\n            RatioTest b = new RatioTest(&quot;0.33&quot;);\r\n            RatioTest c = new RatioTest(&quot;0.333&quot;);\r\n            RatioTest d = new RatioTest(&quot;0.3333&quot;);\r\n    \r\n            BigDecimal sum = a.getAmount().add(b.getAmount()).add(c.getAmount()).add(d.getAmount());\r\n            System.out.println(&quot;sum : &quot; + sum);\r\n            a.setRatio(a.amount.divide(sum, 15, RoundingMode.FLOOR));\r\n            b.setRatio(b.amount.divide(sum, 15, RoundingMode.FLOOR));\r\n            c.setRatio(c.amount.divide(sum, 15, RoundingMode.FLOOR));\r\n            d.setRatio(d.amount.divide(sum, 15, RoundingMode.FLOOR));\r\n    \r\n            System.out.println(&quot;a : &quot; + a);\r\n            System.out.println(&quot;b : &quot; + b);\r\n            System.out.println(&quot;c : &quot; + c);\r\n            System.out.println(&quot;d : &quot; + d);\r\n            System.out.println(&quot;ratio sum : &quot; + a.getRatio().add(b.getRatio()).add(c.getRatio()).add(d.getRatio()));\r\n        }\r\n    \r\n        private static class RatioTest {\r\n            private BigDecimal amount;\r\n            private BigDecimal ratio;\r\n    \r\n            public RatioTest(String amount) {\r\n                this.amount = new BigDecimal(amount);\r\n            }\r\n    \r\n            public BigDecimal getAmount() {\r\n                return amount;\r\n            }\r\n    \r\n            public BigDecimal getRatio() {\r\n                return ratio;\r\n            }\r\n    \r\n            public void setRatio(BigDecimal ratio) {\r\n                this.ratio = ratio;\r\n            }\r\n    \r\n            @Override\r\n            public String toString() {\r\n                return &quot;RatioTest{&quot; +\r\n                        &quot;amount=&quot; + amount +\r\n                        &quot;, ratio=&quot; + ratio +\r\n                        &#39;}&#39;;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\n`a.amount.divide(sum, 15, RoundingMode.FLOOR)`\r\nNo matter which RoundingMode is used, the sum does not equal 1.\r\n\r\n","title":"I have a question about decimal division in Java","body":"<p>I used Java to get the ratio and added it all, but I didn't get 1.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>A</th>\n<th>B</th>\n<th>C</th>\n<th>D</th>\n<th>SUM</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0.3</td>\n<td>0.33</td>\n<td>0.333</td>\n<td>0.3333</td>\n<td>1.2963</td>\n</tr>\n<tr>\n<td>0.231427910205971</td>\n<td>0.254570701226568</td>\n<td>0.256884980328628</td>\n<td>0.257116408238834</td>\n<td>1</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>In Google Spreadsheet, if you find the ratio and add it all up, you get 1.</p>\n<p>However, in Java, no matter which rounding mode is selected, 1 does not come out when all the ratios are added.</p>\n<p>How does Google Spreadsheet perform Bigdecimal operations?</p>\n<p>How can I add all the ratios and get 1 in Java?</p>\n<pre><code>import org.junit.jupiter.api.Test;\n\nimport java.math.BigDecimal;\nimport java.math.RoundingMode;\n\npublic class TestTest {\n\n    @Test\n    public void testI() {\n        RatioTest a = new RatioTest(&quot;0.3&quot;);\n        RatioTest b = new RatioTest(&quot;0.33&quot;);\n        RatioTest c = new RatioTest(&quot;0.333&quot;);\n        RatioTest d = new RatioTest(&quot;0.3333&quot;);\n\n        BigDecimal sum = a.getAmount().add(b.getAmount()).add(c.getAmount()).add(d.getAmount());\n        System.out.println(&quot;sum : &quot; + sum);\n        a.setRatio(a.amount.divide(sum, 15, RoundingMode.FLOOR));\n        b.setRatio(b.amount.divide(sum, 15, RoundingMode.FLOOR));\n        c.setRatio(c.amount.divide(sum, 15, RoundingMode.FLOOR));\n        d.setRatio(d.amount.divide(sum, 15, RoundingMode.FLOOR));\n\n        System.out.println(&quot;a : &quot; + a);\n        System.out.println(&quot;b : &quot; + b);\n        System.out.println(&quot;c : &quot; + c);\n        System.out.println(&quot;d : &quot; + d);\n        System.out.println(&quot;ratio sum : &quot; + a.getRatio().add(b.getRatio()).add(c.getRatio()).add(d.getRatio()));\n    }\n\n    private static class RatioTest {\n        private BigDecimal amount;\n        private BigDecimal ratio;\n\n        public RatioTest(String amount) {\n            this.amount = new BigDecimal(amount);\n        }\n\n        public BigDecimal getAmount() {\n            return amount;\n        }\n\n        public BigDecimal getRatio() {\n            return ratio;\n        }\n\n        public void setRatio(BigDecimal ratio) {\n            this.ratio = ratio;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;RatioTest{&quot; +\n                    &quot;amount=&quot; + amount +\n                    &quot;, ratio=&quot; + ratio +\n                    '}';\n        }\n    }\n\n}\n</code></pre>\n<p><code>a.amount.divide(sum, 15, RoundingMode.FLOOR)</code>\nNo matter which RoundingMode is used, the sum does not equal 1.</p>\n"},{"tags":["java","tomcat","vaadin","war"],"answers":[{"tags":[],"owner":{"account_id":6806166,"reputation":5412,"user_id":5237806,"accept_rate":24,"display_name":"chenchuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1447601125,"creation_date":1447601125,"answer_id":33721374,"question_id":33721253,"body_markdown":"You can add another class to be loaded automatically by specifying in web.xml load-on-startup=1 :\r\n\r\nexample :\r\n\r\n    &lt;web-app&gt;\r\n       &lt;servlet&gt;\r\n          &lt;servlet-name&gt;MyLoader&lt;/servlet-name&gt;\r\n          &lt;servlet-class&gt;com.xxx.MyLoader&lt;/servlet-class&gt;\r\n          &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n       &lt;/servlet&gt;\r\n       &lt;servlet-mapping&gt;\r\n          &lt;servlet-name&gt;MyLoader&lt;/servlet-name&gt;\r\n          &lt;url-pattern&gt;/load&lt;/url-pattern&gt;\r\n       &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;","title":"do some stuff before getting the request from a client, tomcat war","body":"<p>You can add another class to be loaded automatically by specifying in web.xml load-on-startup=1 :</p>\n\n<p>example :</p>\n\n<pre><code>&lt;web-app&gt;\n   &lt;servlet&gt;\n      &lt;servlet-name&gt;MyLoader&lt;/servlet-name&gt;\n      &lt;servlet-class&gt;com.xxx.MyLoader&lt;/servlet-class&gt;\n      &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n   &lt;/servlet&gt;\n   &lt;servlet-mapping&gt;\n      &lt;servlet-name&gt;MyLoader&lt;/servlet-name&gt;\n      &lt;url-pattern&gt;/load&lt;/url-pattern&gt;\n   &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3082737,"reputation":129,"user_id":2610629,"display_name":"Priyanshu"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1447604395,"creation_date":1447603955,"answer_id":33721847,"question_id":33721253,"body_markdown":"When the server is started or more precisely when the servlet container starts up, it deploys all the web applications, loads them and then it creates an application context for each application and store in its memory. I mentioned the above things so that you can have a better understanding of the solution to your question. \r\n\r\nNow coming to your question, what you can do is create a class and name it anything and then implement **ServletContextListener** interface. It has basically two methods with the following signature.\r\n\r\n - public void contextInitialized(ServletContextEvent event) \r\n - public void contextDestroyed(ServletContextEvent event)\r\n\r\nNow in the contextInitialized method, you can do whatever you want, like creating an object or something because this is the method which is invoked when your ServletContext is initialized.\r\n\r\nIn your web.xml place the mapping as follows\r\n\r\n    &lt;listener&gt;\r\n       &lt;listener-class&gt;\r\n           your fully qualified class name that which will implement the ServletContextListener\r\n         &lt;/listener-class&gt;   \r\n    &lt;/listener&gt;\r\n\r\n\r\nI hope it answers your question. Happy to help.","title":"do some stuff before getting the request from a client, tomcat war","body":"<p>When the server is started or more precisely when the servlet container starts up, it deploys all the web applications, loads them and then it creates an application context for each application and store in its memory. I mentioned the above things so that you can have a better understanding of the solution to your question. </p>\n\n<p>Now coming to your question, what you can do is create a class and name it anything and then implement <strong>ServletContextListener</strong> interface. It has basically two methods with the following signature.</p>\n\n<ul>\n<li>public void contextInitialized(ServletContextEvent event) </li>\n<li>public void contextDestroyed(ServletContextEvent event)</li>\n</ul>\n\n<p>Now in the contextInitialized method, you can do whatever you want, like creating an object or something because this is the method which is invoked when your ServletContext is initialized.</p>\n\n<p>In your web.xml place the mapping as follows</p>\n\n<pre><code>&lt;listener&gt;\n   &lt;listener-class&gt;\n       your fully qualified class name that which will implement the ServletContextListener\n     &lt;/listener-class&gt;   \n&lt;/listener&gt;\n</code></pre>\n\n<p>I hope it answers your question. Happy to help.</p>\n"},{"comments":[{"owner":{"account_id":1637644,"reputation":5167,"user_id":1510701,"accept_rate":60,"display_name":"We are Borg"},"score":0,"creation_date":1447859623,"post_id":33724487,"comment_id":55333979,"body_markdown":"Hi, Can you check my question about Vaadin at : http://stackoverflow.com/questions/33783130/vaadin-widget-set-is-not-getting-loaded  . Thanks a lot... :-)","body":"Hi, Can you check my question about Vaadin at : <a href=\"http://stackoverflow.com/questions/33783130/vaadin-widget-set-is-not-getting-loaded\" title=\"vaadin widget set is not getting loaded\">stackoverflow.com/questions/33783130/&hellip;</a>  . Thanks a lot... :-)"}],"tags":[],"owner":{"account_id":171807,"reputation":3228,"user_id":399471,"accept_rate":91,"display_name":"Abbas"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1447618415,"creation_date":1447618415,"answer_id":33724487,"question_id":33721253,"body_markdown":"The above answers both work, but if you want another alternative, you can override the `init` method in your default Vaadin servlet.\r\n\r\n    public class MyServlet extends com.vaadin.server.VaadinServlet {\r\n       @Override\r\n        public void init(javax.servlet.ServletConfig servletConfig) throws ServletException {\r\n            super.init(servletConfig);\r\n            // do extra work here!\r\n        }\r\n    }\r\n\r\nPlease note that you need to configure your `web.xml` or your annotated UI class to initialize your vaadin app with the new servet, e.g. change your `web.xml to\r\n\r\n    &lt;servlet&gt;\r\n    \t&lt;servlet-name&gt;YourAppName&lt;/servlet-name&gt;\r\n    \t&lt;servlet-class&gt;path.to.MyServlet&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;","title":"do some stuff before getting the request from a client, tomcat war","body":"<p>The above answers both work, but if you want another alternative, you can override the <code>init</code> method in your default Vaadin servlet.</p>\n\n<pre><code>public class MyServlet extends com.vaadin.server.VaadinServlet {\n   @Override\n    public void init(javax.servlet.ServletConfig servletConfig) throws ServletException {\n        super.init(servletConfig);\n        // do extra work here!\n    }\n}\n</code></pre>\n\n<p>Please note that you need to configure your <code>web.xml</code> or your annotated UI class to initialize your vaadin app with the new servet, e.g. change your `web.xml to</p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;YourAppName&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;path.to.MyServlet&lt;/servlet-class&gt;\n&lt;/servlet&gt;\n</code></pre>\n"}],"owner":{"account_id":4078367,"reputation":114,"user_id":3349404,"accept_rate":100,"display_name":"udakarajd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":33721847,"answer_count":3,"score":1,"last_activity_date":1672747421,"creation_date":1447600405,"question_id":33721253,"body_markdown":"I am creating a Vaadin web application (Deployable war file) to be hosted by tomcat.\r\n\r\nIs there a way to do something (let&#39;s say creating an object) at the deployment of war file, before initialization or before getting a request from a client?\r\n\r\nCould it be done by overriding \r\n\r\n    void init()\r\nmethod? I don&#39;t have a clear idea. I&#39;m new to this.","title":"do some stuff before getting the request from a client, tomcat war","body":"<p>I am creating a Vaadin web application (Deployable war file) to be hosted by tomcat.</p>\n<p>Is there a way to do something (let's say creating an object) at the deployment of war file, before initialization or before getting a request from a client?</p>\n<p>Could it be done by overriding</p>\n<pre><code>void init()\n</code></pre>\n<p>method? I don't have a clear idea. I'm new to this.</p>\n"},{"tags":["java","tensorflow","tensorflow2.0"],"owner":{"account_id":11649713,"reputation":39,"user_id":8531361,"display_name":"Harold"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672746945,"creation_date":1672746386,"question_id":74992936,"body_markdown":"I use ```SavedModelBundle.load(finalPath, &quot;serve&quot;)``` to load the model\r\n\r\nI tried to replace files starting with &#39;model.ckpt&#39; with &#39;variables&#39;  and it didn&#39;t work.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/xnQ6k.png)](https://i.stack.imgur.com/xnQ6k.png)\r\n[![enter image description here](https://i.stack.imgur.com/7D83h.png)](https://i.stack.imgur.com/7D83h.png)\r\n\r\n\r\nexception detail:\r\n```2023-01-03 19:38:42.793807: I tensorflow/cc/saved_model/loader.cc:161] Restoring SavedModel bundle.\r\n2023-01-03 19:38:42.826754: W tensorflow/core/framework/op_kernel.cc:1318] OP_REQUIRES failed at save_restore_v2_ops.cc:184 : Data loss: not an sstable (bad magic number)\r\n2023-01-03 19:38:42.827499: W tensorflow/core/framework/op_kernel.cc:1318] OP_REQUIRES failed at save_restore_v2_ops.cc:184 : Data loss: not an sstable (bad magic number)\r\n2023-01-03 19:38:42.827582: W tensorflow/core/framework/op_kernel.cc:1318] OP_REQUIRES failed at save_restore_v2_ops.cc:184 : Data loss: not an sstable (bad magic number)\r\n2023-01-03 19:38:42.827619: W tensorflow/core/framework/op_kernel.cc:1318] OP_REQUIRES failed at save_restore_v2_ops.cc:184 : Data loss: not an sstable (bad magic number)\r\n2023-01-03 19:38:42.843372: I tensorflow/cc/saved_model/loader.cc:291] SavedModel load for tags { serve }; Status: fail. Took 159800 microseconds.\r\n19:38:42.879 [main] ERROR c.a.h.x.m.p.MosMemoPublication - load model exceptionorg.tensorflow.TensorFlowException: not an sstable (bad magic number)\r\n[[Node: save_1/RestoreV2_3 = RestoreV2[_output_shapes=[&lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;, ..., &lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;], dtypes=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, ..., DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT], _device=&quot;/job:localhost/replica:0/task:0/device:CPU:0&quot;](_arg_save_1/Const_0_0, save_1/RestoreV2_3/tensor_names, save_1/RestoreV2_3/shape_and_slices)]]```\r\n","title":"load model with TensorFlow java api, occurs data loss: not an sstable (bad magic number) exception","body":"<p>I use <code>SavedModelBundle.load(finalPath, &quot;serve&quot;)</code> to load the model</p>\n<p>I tried to replace files starting with 'model.ckpt' with 'variables'  and it didn't work.</p>\n<p><a href=\"https://i.stack.imgur.com/xnQ6k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xnQ6k.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/7D83h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7D83h.png\" alt=\"enter image description here\" /></a></p>\n<p>exception detail:</p>\n<pre><code>2023-01-03 19:38:42.826754: W tensorflow/core/framework/op_kernel.cc:1318] OP_REQUIRES failed at save_restore_v2_ops.cc:184 : Data loss: not an sstable (bad magic number)\n2023-01-03 19:38:42.827499: W tensorflow/core/framework/op_kernel.cc:1318] OP_REQUIRES failed at save_restore_v2_ops.cc:184 : Data loss: not an sstable (bad magic number)\n2023-01-03 19:38:42.827582: W tensorflow/core/framework/op_kernel.cc:1318] OP_REQUIRES failed at save_restore_v2_ops.cc:184 : Data loss: not an sstable (bad magic number)\n2023-01-03 19:38:42.827619: W tensorflow/core/framework/op_kernel.cc:1318] OP_REQUIRES failed at save_restore_v2_ops.cc:184 : Data loss: not an sstable (bad magic number)\n2023-01-03 19:38:42.843372: I tensorflow/cc/saved_model/loader.cc:291] SavedModel load for tags { serve }; Status: fail. Took 159800 microseconds.\n19:38:42.879 [main] ERROR c.a.h.x.m.p.MosMemoPublication - load model exceptionorg.tensorflow.TensorFlowException: not an sstable (bad magic number)\n[[Node: save_1/RestoreV2_3 = RestoreV2[_output_shapes=[&lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;, ..., &lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;, &lt;unknown&gt;], dtypes=[DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, ..., DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT, DT_FLOAT], _device=&quot;/job:localhost/replica:0/task:0/device:CPU:0&quot;](_arg_save_1/Const_0_0, save_1/RestoreV2_3/tensor_names, save_1/RestoreV2_3/shape_and_slices)]]```\n</code></pre>\n"},{"tags":["java","pdf","inputstream","adobe-reader","bytestream"],"owner":{"display_name":"user13840927"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672746541,"creation_date":1670941166,"question_id":74786284,"body_markdown":"I&#39;m trying to solve a problem with generating a pdf from an inputStream or byte array. The file being opened in Adobe Reader is corrupted. When I set Chrome as my default pdf reader it opens normally, and if I save &quot;Save as&quot; from the browser and then open it in Adobe then the document is correct. I&#39;ve already tried everything. Originally the method was written in **omnifaces**. I tried to write it in several ways (i.e. **pdfbox**), none of them work and the effect is the same.\r\n\r\nThe original method:\r\n\r\n```\r\n\tpublic String openDocument(StringValueTO docHandle) throws AbstracAekoException {\r\n\t\ttry {\r\n\t\t\tIMaVorgangsdatenService service = ServiceLocator.get(IMaVorgangsdatenService.class);\r\n\t\t\tDocumentTO documentTO = service.openDocument(ElementTOUtil.nullSafeString(docHandle));\r\n\r\n\t\t\tif (documentTO == null || documentTO.getBinaryData() == null || documentTO.getBinaryData().length == 0) {\r\n\t\t\t\tFacesUtil.addMessage(FacesMessage.SEVERITY_ERROR, Messages.KEY_PPS_DOCUMENT_NOT_AVAILABLE);\r\n\t\t\t} else {\r\n\t\t\t\tbyte[] data = documentTO.getBinaryData();\r\n\t\t\t\tInputStream inputStream = new ByteArrayInputStream(data);\r\n\t\t\t\tFaces.sendFile(inputStream, documentTO.getFilename().getValue().toString(), true);\r\n\r\n\t\t\t\tgetData().setForceOpenDocumentZaem(false);\r\n\t\t\t}\r\n\t\t } catch (IOException e) {\r\n\t\t\t e.printStackTrace();\r\n\t\t }\r\n\r\n\t\treturn null;\r\n```\r\n\r\nI changed to:\r\n\r\n```\r\n\t    try {\r\n\t    \tDocumentTO documentTO = null;\r\n\r\n            IMaVorgangsdatenService service = ServiceLocator.get(IMaVorgangsdatenService.class);\r\n            documentTO = service.openDocument(ElementTOUtil.nullSafeString(docHandle));\r\n\r\n\r\n\t    FacesContext facesContext = FacesContext.getCurrentInstance();\r\n\r\n\t    HttpServletResponse response =\r\n\t            (HttpServletResponse) facesContext.getExternalContext().getResponse();\r\n\r\n\t    response.reset();\r\n\t    response.setHeader(&quot;Content-Type&quot;, &quot;application/pdf&quot;);\r\n\t    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot; + documentTO.getFilename().getValue().toString());\r\n\r\n\t    OutputStream responseOutputStream = response.getOutputStream();\r\n\r\n\t    byte[] data = documentTO.getBinaryData();\r\n\t    InputStream inputStream = new ByteArrayInputStream(data);\r\n\r\n\t    byte[] bytesBuffer = new byte[2048];\r\n\t    int bytesRead;\r\n\t    while ((bytesRead = inputStream.read(bytesBuffer)) &gt; 0)\r\n\t    {\r\n\t        responseOutputStream.write(bytesBuffer, 0, bytesRead);\r\n\t    }\r\n\r\n\t    responseOutputStream.flush();\r\n\r\n\r\n\t\t\tinputStream.close();\r\n\t\t    responseOutputStream.close();\r\n\t\t    facesContext.responseComplete();\r\n\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n```\r\n\r\n\r\nI tried different combinations. I completelly don&#39;t know why document is corrupted in Adobe Reader.\r\n\r\n```\r\n\t\t&lt;!-- PDF rendering --&gt;\r\n\t\t&lt;dependency org=&quot;org.apache.pdfbox&quot; name=&quot;pdfbox&quot; rev=&quot;2.0.11&quot; conf=&quot;compile-&gt;default&quot;/&gt;\r\n\t\t&lt;dependency org=&quot;org.apache.pdfbox&quot; name=&quot;fontbox&quot; rev=&quot;2.0.11&quot; conf=&quot;compile-&gt;default&quot;/&gt;\r\n```\r\n\r\n```\r\n        &lt;!-- PrimeFaces --&gt;\r\n        &lt;dependency org=&quot;org.primefaces&quot; name=&quot;primefaces&quot; rev=&quot;8.0&quot; conf=&quot;compile-&gt;default&quot; transitive=&quot;false&quot; /&gt;\r\n        &lt;dependency org=&quot;org.omnifaces&quot; name=&quot;omnifaces&quot; rev=&quot;1.6.1&quot; conf=&quot;compile-&gt;default&quot; /&gt;\r\n```\r\n\r\nWhat I saw, that generated PDF file doesn&#39;t have *trailer* element at the end.\r\nAny help from your site will be highly appreciated.","title":"Create PDF from InputStream / ByteArray - Corrupted PDF in Adobe","body":"<p>I'm trying to solve a problem with generating a pdf from an inputStream or byte array. The file being opened in Adobe Reader is corrupted. When I set Chrome as my default pdf reader it opens normally, and if I save &quot;Save as&quot; from the browser and then open it in Adobe then the document is correct. I've already tried everything. Originally the method was written in <strong>omnifaces</strong>. I tried to write it in several ways (i.e. <strong>pdfbox</strong>), none of them work and the effect is the same.</p>\n<p>The original method:</p>\n<pre><code>    public String openDocument(StringValueTO docHandle) throws AbstracAekoException {\n        try {\n            IMaVorgangsdatenService service = ServiceLocator.get(IMaVorgangsdatenService.class);\n            DocumentTO documentTO = service.openDocument(ElementTOUtil.nullSafeString(docHandle));\n\n            if (documentTO == null || documentTO.getBinaryData() == null || documentTO.getBinaryData().length == 0) {\n                FacesUtil.addMessage(FacesMessage.SEVERITY_ERROR, Messages.KEY_PPS_DOCUMENT_NOT_AVAILABLE);\n            } else {\n                byte[] data = documentTO.getBinaryData();\n                InputStream inputStream = new ByteArrayInputStream(data);\n                Faces.sendFile(inputStream, documentTO.getFilename().getValue().toString(), true);\n\n                getData().setForceOpenDocumentZaem(false);\n            }\n         } catch (IOException e) {\n             e.printStackTrace();\n         }\n\n        return null;\n</code></pre>\n<p>I changed to:</p>\n<pre><code>        try {\n            DocumentTO documentTO = null;\n\n            IMaVorgangsdatenService service = ServiceLocator.get(IMaVorgangsdatenService.class);\n            documentTO = service.openDocument(ElementTOUtil.nullSafeString(docHandle));\n\n\n        FacesContext facesContext = FacesContext.getCurrentInstance();\n\n        HttpServletResponse response =\n                (HttpServletResponse) facesContext.getExternalContext().getResponse();\n\n        response.reset();\n        response.setHeader(&quot;Content-Type&quot;, &quot;application/pdf&quot;);\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot; + documentTO.getFilename().getValue().toString());\n\n        OutputStream responseOutputStream = response.getOutputStream();\n\n        byte[] data = documentTO.getBinaryData();\n        InputStream inputStream = new ByteArrayInputStream(data);\n\n        byte[] bytesBuffer = new byte[2048];\n        int bytesRead;\n        while ((bytesRead = inputStream.read(bytesBuffer)) &gt; 0)\n        {\n            responseOutputStream.write(bytesBuffer, 0, bytesRead);\n        }\n\n        responseOutputStream.flush();\n\n\n            inputStream.close();\n            responseOutputStream.close();\n            facesContext.responseComplete();\n\n\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return null;\n    }\n</code></pre>\n<p>I tried different combinations. I completelly don't know why document is corrupted in Adobe Reader.</p>\n<pre><code>        &lt;!-- PDF rendering --&gt;\n        &lt;dependency org=&quot;org.apache.pdfbox&quot; name=&quot;pdfbox&quot; rev=&quot;2.0.11&quot; conf=&quot;compile-&gt;default&quot;/&gt;\n        &lt;dependency org=&quot;org.apache.pdfbox&quot; name=&quot;fontbox&quot; rev=&quot;2.0.11&quot; conf=&quot;compile-&gt;default&quot;/&gt;\n</code></pre>\n<pre><code>        &lt;!-- PrimeFaces --&gt;\n        &lt;dependency org=&quot;org.primefaces&quot; name=&quot;primefaces&quot; rev=&quot;8.0&quot; conf=&quot;compile-&gt;default&quot; transitive=&quot;false&quot; /&gt;\n        &lt;dependency org=&quot;org.omnifaces&quot; name=&quot;omnifaces&quot; rev=&quot;1.6.1&quot; conf=&quot;compile-&gt;default&quot; /&gt;\n</code></pre>\n<p>What I saw, that generated PDF file doesn't have <em>trailer</em> element at the end.\nAny help from your site will be highly appreciated.</p>\n"},{"tags":["java","spring-boot","exception","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1571321219,"post_id":58434513,"comment_id":103209471,"body_markdown":"Maybe not the best solution, but you can try adding `--add-exports javafx.base/com.sun.javafx.beans=ALL-UNNAMED` argument when launching your application.","body":"Maybe not the best solution, but you can try adding <code>--add-exports javafx.base&#47;com.sun.javafx.beans=ALL-UNNAMED</code> argument when launching your application."},{"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"score":0,"creation_date":1571322477,"post_id":58434513,"comment_id":103210253,"body_markdown":"@Slaw that indeed works!  But why do I suddenly need this?","body":"@Slaw that indeed works!  But why do I suddenly need this?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1571323055,"post_id":58434513,"comment_id":103210579,"body_markdown":"I have no idea. Apparently Spring is trying to reflectively access a member of an annotation, `@IDProperty#value()`, but that annotation is in a package that&#39;s not exported. Why Spring wasn&#39;t doing that before I couldn&#39;t say.","body":"I have no idea. Apparently Spring is trying to reflectively access a member of an annotation, <code>@IDProperty#value()</code>, but that annotation is in a package that&#39;s not exported. Why Spring wasn&#39;t doing that before I couldn&#39;t say."},{"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"score":0,"creation_date":1571323241,"post_id":58434513,"comment_id":103210676,"body_markdown":"I gotta say from past experience that mixing spring-boot with javafx is a bit finicky in general so I&#39;m really not all that surprised.  Please post an answer as your solution indeed worked!","body":"I gotta say from past experience that mixing spring-boot with javafx is a bit finicky in general so I&#39;m really not all that surprised.  Please post an answer as your solution indeed worked!"},{"owner":{"account_id":1656890,"reputation":8197,"user_id":1526192,"display_name":"Phil Webb"},"score":1,"creation_date":1571330811,"post_id":58434513,"comment_id":103214623,"body_markdown":"I&#39;ve raised https://github.com/spring-projects/spring-framework/issues/23829. If you have time to attach a sample it would be much appreciated.","body":"I&#39;ve raised <a href=\"https://github.com/spring-projects/spring-framework/issues/23829\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/issues/23829</a>. If you have time to attach a sample it would be much appreciated."},{"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"score":0,"creation_date":1571330902,"post_id":58434513,"comment_id":103214653,"body_markdown":"Thank you very much Phil, this is a pretty large project and I frankly have no idea which class the issue is coming from.  What exactly would you like me to attach?","body":"Thank you very much Phil, this is a pretty large project and I frankly have no idea which class the issue is coming from.  What exactly would you like me to attach?"},{"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"score":0,"creation_date":1571340189,"post_id":58434513,"comment_id":103218591,"body_markdown":"@fabian indeed i need to look at the module system, i come from a java 7 background and i&#39;ve steered away from modules so far.  i had a feeling this would be suggested.","body":"@fabian indeed i need to look at the module system, i come from a java 7 background and i&#39;ve steered away from modules so far.  i had a feeling this would be suggested."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1571355951,"post_id":58434513,"comment_id":103223493,"body_markdown":"@fabian Would the OP putting their code in an explicit module help? It seems to me the problem is Spring trying to access internals of `javafx.base`, both of which are not related to the OP&#39;s code being in a module or not. Unless you think Spring might behave differently if it was on the modulepath (and thus in a named module)?","body":"@fabian Would the OP putting their code in an explicit module help? It seems to me the problem is Spring trying to access internals of <code>javafx.base</code>, both of which are not related to the OP&#39;s code being in a module or not. Unless you think Spring might behave differently if it was on the modulepath (and thus in a named module)?"}],"answers":[{"comments":[{"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"score":0,"creation_date":1573406557,"post_id":58629251,"comment_id":103863878,"body_markdown":"I can confirm Spring Boot 2.2.1 no longer exhibits this issue!  No need for the module export parameter anymore.","body":"I can confirm Spring Boot 2.2.1 no longer exhibits this issue!  No need for the module export parameter anymore."}],"tags":[],"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1572450775,"creation_date":1572450775,"answer_id":58629251,"question_id":58434513,"body_markdown":"Fix was added to Spring Framework 5.2.1 milestone which is due tomorrow.  Cheers!","title":"InaccessibleObjectException after upgrading Spring Boot from 2.1.9 to 2.2","body":"<p>Fix was added to Spring Framework 5.2.1 milestone which is due tomorrow.  Cheers!</p>\n"},{"tags":[],"owner":{"account_id":27420232,"reputation":11,"user_id":20918795,"display_name":"Arvind K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672746009,"creation_date":1672746009,"answer_id":74992862,"question_id":58434513,"body_markdown":"I encountered same issue, problem was my eclipse STS was pointing to wrong JRE, my installed java and jre version was 1.8.0 where my eclipse sts was pointing to some openJDK, after correcting this. My Application started working!!","title":"InaccessibleObjectException after upgrading Spring Boot from 2.1.9 to 2.2","body":"<p>I encountered same issue, problem was my eclipse STS was pointing to wrong JRE, my installed java and jre version was 1.8.0 where my eclipse sts was pointing to some openJDK, after correcting this. My Application started working!!</p>\n"}],"owner":{"account_id":12000615,"reputation":2015,"user_id":8780684,"accept_rate":18,"display_name":"Martin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1672,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58629251,"answer_count":2,"score":2,"last_activity_date":1672746009,"creation_date":1571320959,"question_id":58434513,"body_markdown":"My app worked perfectly before the upgrade, getting the following exception : \r\n\r\n    Exception in Application init method\r\n    java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\n\r\n    Caused by: java.lang.RuntimeException: Exception in Application init method\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:895)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n\tat java.base/java.lang.Thread.run(Thread.java:830)\r\n\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make public abstract java.lang.String com.sun.javafx.beans.IDProperty.value() accessible: module javafx.base does not &quot;exports com.sun.javafx.beans&quot; to unnamed module @6293abcc\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:344)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:284)\r\n\tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:198)\r\n\tat java.base/java.lang.reflect.Method.setAccessible(Method.java:192)\r\n\tat org.springframework.core.annotation.AttributeMethods.&lt;init&gt;(AttributeMethods.java:80)\r\n\tat org.springframework.core.annotation.AttributeMethods.compute(AttributeMethods.java:272)\r\n\tat java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)\r\n\tat org.springframework.core.annotation.AttributeMethods.forAnnotationType(AttributeMethods.java:255)\r\n\tat org.springframework.core.annotation.AnnotationsScanner.getDeclaredAnnotations(AnnotationsScanner.java:467)\r\n\tat org.springframework.core.annotation.AnnotationsScanner.getDeclaredAnnotations(AnnotationsScanner.java:439)\r\n\tat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:210)\r\n\tat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:227)\r\n\tat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:227)\r\n\tat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:227)\r\n\tat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:227)\r\n\tat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:227)\r\n\tat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:194)\r\n\tat org.springframework.core.annotation.AnnotationsScanner.processClass(AnnotationsScanner.java:130)\r\n\tat org.springframework.core.annotation.AnnotationsScanner.process(AnnotationsScanner.java:107)\r\n\tat org.springframework.core.annotation.AnnotationsScanner.scan(AnnotationsScanner.java:97)\r\n\tat org.springframework.core.annotation.AnnotationsScanner.scan(AnnotationsScanner.java:78)\r\n\tat org.springframework.core.annotation.TypeMappedAnnotations.scan(TypeMappedAnnotations.java:242)\r\n\tat org.springframework.core.annotation.TypeMappedAnnotations.isPresent(TypeMappedAnnotations.java:98)\r\n\tat org.springframework.boot.context.properties.ConfigurationPropertiesBean$BindMethod.isConstructorBindingType(ConfigurationPropertiesBean.java:308)\r\n\tat org.springframework.boot.context.properties.ConfigurationPropertiesBean$BindMethod.forClass(ConfigurationPropertiesBean.java:300)\r\n\tat org.springframework.boot.context.properties.ConfigurationPropertiesBeanDefinitionValidator.validate(ConfigurationPropertiesBeanDefinitionValidator.java:57)\r\n\tat org.springframework.boot.context.properties.ConfigurationPropertiesBeanDefinitionValidator.postProcessBeanFactory(ConfigurationPropertiesBeanDefinitionValidator.java:45)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:286)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:174)\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:706)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\r\n\tat com.mdenis.mdhis3_service.core.MDHIS3_Service.init(MDHIS3_Service.java:109)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:824)\r\n\t... 2 more\r\n\r\nThis is a Spring Boot / JavaFX project compiled using Maven.  Not even sure where to start on this one, it&#39;s a fairly large project and everything worked perfectly on 2.1.9.  I won&#39;t provide any code sample for now since i truly have no idea where this error is even coming from and the stacktrace only points to my main class which is the entry point.  Any idea where to start on this?","title":"InaccessibleObjectException after upgrading Spring Boot from 2.1.9 to 2.2","body":"<p>My app worked perfectly before the upgrade, getting the following exception : </p>\n\n<pre><code>Exception in Application init method\njava.lang.reflect.InvocationTargetException\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)\nat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\nat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)\nat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\n\nCaused by: java.lang.RuntimeException: Exception in Application init method\nat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:895)\nat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\nat java.base/java.lang.Thread.run(Thread.java:830)\n\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make public abstract java.lang.String com.sun.javafx.beans.IDProperty.value() accessible: module javafx.base does not \"exports com.sun.javafx.beans\" to unnamed module @6293abcc\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:344)\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:284)\nat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:198)\nat java.base/java.lang.reflect.Method.setAccessible(Method.java:192)\nat org.springframework.core.annotation.AttributeMethods.&lt;init&gt;(AttributeMethods.java:80)\nat org.springframework.core.annotation.AttributeMethods.compute(AttributeMethods.java:272)\nat java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)\nat org.springframework.core.annotation.AttributeMethods.forAnnotationType(AttributeMethods.java:255)\nat org.springframework.core.annotation.AnnotationsScanner.getDeclaredAnnotations(AnnotationsScanner.java:467)\nat org.springframework.core.annotation.AnnotationsScanner.getDeclaredAnnotations(AnnotationsScanner.java:439)\nat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:210)\nat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:227)\nat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:227)\nat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:227)\nat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:227)\nat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:227)\nat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:194)\nat org.springframework.core.annotation.AnnotationsScanner.processClass(AnnotationsScanner.java:130)\nat org.springframework.core.annotation.AnnotationsScanner.process(AnnotationsScanner.java:107)\nat org.springframework.core.annotation.AnnotationsScanner.scan(AnnotationsScanner.java:97)\nat org.springframework.core.annotation.AnnotationsScanner.scan(AnnotationsScanner.java:78)\nat org.springframework.core.annotation.TypeMappedAnnotations.scan(TypeMappedAnnotations.java:242)\nat org.springframework.core.annotation.TypeMappedAnnotations.isPresent(TypeMappedAnnotations.java:98)\nat org.springframework.boot.context.properties.ConfigurationPropertiesBean$BindMethod.isConstructorBindingType(ConfigurationPropertiesBean.java:308)\nat org.springframework.boot.context.properties.ConfigurationPropertiesBean$BindMethod.forClass(ConfigurationPropertiesBean.java:300)\nat org.springframework.boot.context.properties.ConfigurationPropertiesBeanDefinitionValidator.validate(ConfigurationPropertiesBeanDefinitionValidator.java:57)\nat org.springframework.boot.context.properties.ConfigurationPropertiesBeanDefinitionValidator.postProcessBeanFactory(ConfigurationPropertiesBeanDefinitionValidator.java:45)\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:286)\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:174)\nat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:706)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\nat com.mdenis.mdhis3_service.core.MDHIS3_Service.init(MDHIS3_Service.java:109)\nat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:824)\n... 2 more\n</code></pre>\n\n<p>This is a Spring Boot / JavaFX project compiled using Maven.  Not even sure where to start on this one, it's a fairly large project and everything worked perfectly on 2.1.9.  I won't provide any code sample for now since i truly have no idea where this error is even coming from and the stacktrace only points to my main class which is the entry point.  Any idea where to start on this?</p>\n"},{"tags":["java","elasticsearch","elasticsearch-java-api","apiclient"],"answers":[{"tags":[],"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672745974,"creation_date":1672745974,"answer_id":74992857,"question_id":74992623,"body_markdown":"I recommend read the [Getting Started Java API Client][1].\r\n\r\nFor create [first connection][2] read the link.\r\n\r\nExample using script and updateByQuery:\r\n\r\n    Map&lt;String, JsonData&gt; params = Map.of(&quot;key&quot;, JsonData.of(&quot;value&quot;));\r\n\r\n    Script script = new Script.Builder()\r\n        .stored(StoredScriptId.of(ssi -&gt; ssi.id(&quot;script_name&quot;).params(params)))\r\n        .build();\r\n\r\n    UpdateByQueryRequest updateByQueryRequest = UpdateByQueryRequest.of(\r\n        up -&gt; up.index(&quot;idx_script_tst&quot;)\r\n            .query(Query.of(q -&gt; q.matchAll(MatchAllQuery.of(maq -&gt; maq))))\r\n            .script(script));\r\n    \r\n    var updateResponse = client.updateByQuery(updateByQueryRequest);\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/_getting_started.html\r\n  [2]: https://%20https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/connecting.html","title":"Replacement for SearchTemplateRequest class in java api client","body":"<p>I recommend read the <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/_getting_started.html\" rel=\"nofollow noreferrer\">Getting Started Java API Client</a>.</p>\n<p>For create <a href=\"https://%20https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/connecting.html\" rel=\"nofollow noreferrer\">first connection</a> read the link.</p>\n<p>Example using script and updateByQuery:</p>\n<pre><code>Map&lt;String, JsonData&gt; params = Map.of(&quot;key&quot;, JsonData.of(&quot;value&quot;));\n\nScript script = new Script.Builder()\n    .stored(StoredScriptId.of(ssi -&gt; ssi.id(&quot;script_name&quot;).params(params)))\n    .build();\n\nUpdateByQueryRequest updateByQueryRequest = UpdateByQueryRequest.of(\n    up -&gt; up.index(&quot;idx_script_tst&quot;)\n        .query(Query.of(q -&gt; q.matchAll(MatchAllQuery.of(maq -&gt; maq))))\n        .script(script));\n\nvar updateResponse = client.updateByQuery(updateByQueryRequest);\n</code></pre>\n"}],"owner":{"account_id":24911418,"reputation":1,"user_id":18780920,"display_name":"Chetna Joshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672745974,"creation_date":1672744626,"question_id":74992623,"body_markdown":"I am migrating a java application from elastic search high level client to java api client. There is a SearchTemplateRequest class in elastic search java high level client. But I couldn&#39;t find any corresponding class in java api client. Can someone help on this? Old code snippet is as below.\r\n\r\n\r\n````\r\npublic SearchTemplateResponse getScriptResponse(String indexName, String scriptName, Map&lt;String, Object&gt; scriptParams) throws IOException {\r\n        SearchTemplateRequest request = null;\r\n        SearchTemplateResponse response = null;\r\n        try {\r\n            SearchTemplateRequest request = new SearchTemplateRequest();\r\n        request.setRequest(new SearchRequest(new String[] { indexName }, trackTotalHitsSourceBuilder()));\r\n        request.setScriptType(ScriptType.STORED);\r\n        request.setScript(scriptName);\r\n        request.setScriptParams(scriptParams);\r\n        request.getRequest().source().trackTotalHits();\r\n        response = getClient().searchTemplate(request, RequestOptions.DEFAULT);\r\n        } catch (Exception e) {\r\n            throw e;\r\n        }\r\n        return response;\r\n    }\r\n\r\n\r\nI&#39;m using above code block to get the response of bucket aggregation with script query.","title":"Replacement for SearchTemplateRequest class in java api client","body":"<p>I am migrating a java application from elastic search high level client to java api client. There is a SearchTemplateRequest class in elastic search java high level client. But I couldn't find any corresponding class in java api client. Can someone help on this? Old code snippet is as below.</p>\n<pre><code>public SearchTemplateResponse getScriptResponse(String indexName, String scriptName, Map&lt;String, Object&gt; scriptParams) throws IOException {\n        SearchTemplateRequest request = null;\n        SearchTemplateResponse response = null;\n        try {\n            SearchTemplateRequest request = new SearchTemplateRequest();\n        request.setRequest(new SearchRequest(new String[] { indexName }, trackTotalHitsSourceBuilder()));\n        request.setScriptType(ScriptType.STORED);\n        request.setScript(scriptName);\n        request.setScriptParams(scriptParams);\n        request.getRequest().source().trackTotalHits();\n        response = getClient().searchTemplate(request, RequestOptions.DEFAULT);\n        } catch (Exception e) {\n            throw e;\n        }\n        return response;\n    }\n\n\nI'm using above code block to get the response of bucket aggregation with script query.\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1672752421,"post_id":74992854,"comment_id":132341756,"body_markdown":"Does this help: https://stackoverflow.com/questions/16748146/android-canvas-drawline . Also, how is the &quot;map&quot; rendered - a static image or are you using a map api?","body":"Does this help: <a href=\"https://stackoverflow.com/questions/16748146/android-canvas-drawline\" title=\"android canvas drawline\">stackoverflow.com/questions/16748146/android-canvas-drawline</a> . Also, how is the &quot;map&quot; rendered - a static image or are you using a map api?"},{"owner":{"account_id":21229242,"reputation":1,"user_id":15614284,"display_name":"AhsanSheikh6"},"score":0,"creation_date":1672827236,"post_id":74992854,"comment_id":132358959,"body_markdown":"I am using a static image","body":"I am using a static image"}],"owner":{"account_id":21229242,"reputation":1,"user_id":15614284,"display_name":"AhsanSheikh6"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672745969,"creation_date":1672745969,"question_id":74992854,"body_markdown":"I want to draw a line between these buttons programmatically because the user will determine where he/she be going so according to that information it should draw line between certain buttons. I am new to Android world and still learning it.\r\nThanks in advance\r\n\r\nI have tried the canvas class available but I dont know how to display the line between the buttons and show it on my main activity.\r\n\r\n[This is the map](https://i.stack.imgur.com/uABpj.jpg)","title":"How Can I draw Line between these Indicator ImageButton in JAVA Android Studio","body":"<p>I want to draw a line between these buttons programmatically because the user will determine where he/she be going so according to that information it should draw line between certain buttons. I am new to Android world and still learning it.\nThanks in advance</p>\n<p>I have tried the canvas class available but I dont know how to display the line between the buttons and show it on my main activity.</p>\n<p><a href=\"https://i.stack.imgur.com/uABpj.jpg\" rel=\"nofollow noreferrer\">This is the map</a></p>\n"},{"tags":["java","hadoop","hdfs","hbase"],"comments":[{"owner":{"account_id":2410596,"reputation":111,"user_id":2105747,"accept_rate":0,"display_name":"shaheer01"},"score":0,"creation_date":1672845323,"post_id":74981640,"comment_id":132365126,"body_markdown":"Resolved it, it was coz of conflicting jar coming in runtime different from the compile time.\nAdded that jar in the exclusion list of pom and it got fixed.","body":"Resolved it, it was coz of conflicting jar coming in runtime different from the compile time. Added that jar in the exclusion list of pom and it got fixed."}],"owner":{"account_id":2410596,"reputation":111,"user_id":2105747,"accept_rate":0,"display_name":"shaheer01"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672745728,"creation_date":1672657567,"question_id":74981640,"body_markdown":"Hbase issue in coming up due to StreamBootstrapper class missing\r\n\r\nGetting following error due to which my hbase related service is not coming up\r\n\r\n&gt; at com.hub.storage.server.Start.main(Start.java:72) [storage-server-0.2-SNAPSHOT.jar:?]\r\n&gt; Caused by: org.python.core.PyException\r\n\r\n&gt; \r\n&gt;  Caused by: java.lang.NoSuchMethodError: &#39;com.ctc.wstx.io.StreamBootstrapper com.ctc.wstx.io.StreamBootstrapper.getInstance(java.lang.String, com.ctc.wstx.io.SystemId, java.io.InputStream)&#39;\r\n&gt; at org.apache.hadoop.conf.Configuration.parse(Configuration.java:2974) ~[hadoop-common-3.2.2.jar:?]\r\n&gt; at org.apache.hadoop.conf.Configuration.parse(Configuration.java:2957) ~[hadoop-common-3.2.2.jar:?]\r\n&gt; at org.apache.hadoop.conf.Configuration.getStreamReader(Configuration.java:3053) ~[hadoop-common-3.2.2.jar:?]\r\n","title":"Hbase: Apps giving issue in coming up due to StreamBootstrapper class missing","body":"<p>Hbase issue in coming up due to StreamBootstrapper class missing</p>\n<p>Getting following error due to which my hbase related service is not coming up</p>\n<blockquote>\n<p>at com.hub.storage.server.Start.main(Start.java:72) [storage-server-0.2-SNAPSHOT.jar:?]\nCaused by: org.python.core.PyException</p>\n</blockquote>\n<blockquote>\n<p>Caused by: java.lang.NoSuchMethodError: 'com.ctc.wstx.io.StreamBootstrapper com.ctc.wstx.io.StreamBootstrapper.getInstance(java.lang.String, com.ctc.wstx.io.SystemId, java.io.InputStream)'\nat org.apache.hadoop.conf.Configuration.parse(Configuration.java:2974) ~[hadoop-common-3.2.2.jar:?]\nat org.apache.hadoop.conf.Configuration.parse(Configuration.java:2957) ~[hadoop-common-3.2.2.jar:?]\nat org.apache.hadoop.conf.Configuration.getStreamReader(Configuration.java:3053) ~[hadoop-common-3.2.2.jar:?]</p>\n</blockquote>\n"},{"tags":["java","android","kotlin","firebase-cloud-messaging","android-pendingintent"],"comments":[{"owner":{"account_id":17641148,"reputation":673,"user_id":12803398,"display_name":"Zeeshan Ali"},"score":0,"creation_date":1672571269,"post_id":74945743,"comment_id":132306929,"body_markdown":"by onMessageReceived you mean fcm onMessageReceived?","body":"by onMessageReceived you mean fcm onMessageReceived?"},{"owner":{"account_id":7217455,"reputation":61,"user_id":5509349,"display_name":"Krunal Patel"},"score":0,"creation_date":1672609649,"post_id":74945743,"comment_id":132313075,"body_markdown":"@ZeeshanAli yes , onMessageReceived, I have received notification data but not show on notification bar of my phone if i have not clear old notification fron notification bar.","body":"@ZeeshanAli yes , onMessageReceived, I have received notification data but not show on notification bar of my phone if i have not clear old notification fron notification bar."},{"owner":{"account_id":17641148,"reputation":673,"user_id":12803398,"display_name":"Zeeshan Ali"},"score":0,"creation_date":1672714289,"post_id":74945743,"comment_id":132332951,"body_markdown":"Could you also attach the code in onMessageReceived !","body":"Could you also attach the code in onMessageReceived !"},{"owner":{"account_id":7217455,"reputation":61,"user_id":5509349,"display_name":"Krunal Patel"},"score":0,"creation_date":1672745706,"post_id":74945743,"comment_id":132339649,"body_markdown":"@ZeeshanAli, i have attached my onMessageReceived class.","body":"@ZeeshanAli, i have attached my onMessageReceived class."}],"owner":{"account_id":7217455,"reputation":61,"user_id":5509349,"display_name":"Krunal Patel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":526,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672745656,"creation_date":1672268313,"question_id":74945743,"body_markdown":"Android 13 New notification appears after old one notification clear. When first notification show then new notification received on onMessageReceived method but it will display if i have old notifiction cleared form notification bar. otherwise it will not showing on notification bar.\r\n   \r\nMy FirebaseMessageingService class as below\r\n\r\n    public class MyFirebaseMessagingService extends FirebaseMessagingService {\r\n    \r\n        private static final String TAG = &quot;MyFirebaseMsgService&quot;;\r\n    \r\n       \r\n        @Override\r\n        public void onMessageReceived(RemoteMessage remoteMessage) {\r\n    \r\n            Log.d(TAG, &quot;From: &quot; + remoteMessage.getFrom());\r\n    \r\n            if (remoteMessage.getData().size() &gt; 0) {\r\n                Log.d(TAG, &quot;Message data payload: &quot; + remoteMessage.getData());\r\n                sendNotification(remoteMessage.getNotification().getTitle(),remoteMessage.getNotification().getBody());\r\n                if (/* Check if data needs to be processed by long running job */ true) {\r\n                    // For long-running tasks (10 seconds or more) use WorkManager.\r\n                    //scheduleJob();\r\n                } else {\r\n                    // Handle message within 10 seconds\r\n                    handleNow();\r\n                }\r\n    \r\n            }\r\n    \r\n            // Check if message contains a notification payload.\r\n            if (remoteMessage.getNotification() != null) {\r\n                Log.d(TAG, &quot;Message Notification Body: &quot; + remoteMessage.getNotification().getBody());\r\n            }\r\n    \r\n    \r\n        }\r\n        @Override\r\n        public void onNewToken(String token) {\r\n            Log.d(TAG, &quot;Refreshed token: &quot; + token);\r\n    \r\n            sendRegistrationToServer(token);\r\n        }\r\n    \r\n        private void handleNow() {\r\n            Log.d(TAG, &quot;Short lived task is done.&quot;);\r\n        }\r\n    \r\n    \r\n        private void sendRegistrationToServer(String token) {\r\n            // TODO: Implement this method to send token to your app server.\r\n        }\r\n    \r\n        private void sendNotification(String title,String messageBody) {\r\n            int uniqueCode=Prefs.getUniqueCode(getApplicationContext());\r\n            if(uniqueCode==1000){\r\n                uniqueCode=0;\r\n            }\r\n            Log.d(&quot;uniqueCode&quot;,uniqueCode+&quot;&quot;);\r\n            Intent intent\r\n                    = new Intent(this, LoginActivity.class);\r\n            // Assign channel ID\r\n            String channel_id = &quot;Default&quot;;\r\n    \r\n            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP|Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    \r\n            PendingIntent pendingIntent\r\n                    = PendingIntent.getActivity(\r\n                    this, uniqueCode, intent,\r\n                    PendingIntent.FLAG_MUTABLE | PendingIntent.FLAG_CANCEL_CURRENT | PendingIntent.FLAG_ONE_SHOT);\r\n            Prefs.setUniqueCode(getApplicationContext(),uniqueCode+1);\r\n            NotificationCompat.Builder builder\r\n                    = new NotificationCompat\r\n                    .Builder(getApplicationContext(),\r\n                    channel_id)\r\n                    .setSmallIcon(R.drawable.applogo)\r\n                    .setAutoCancel(true)\r\n                    .setVibrate(new long[]{1000, 1000, 1000,\r\n                            1000, 1000})\r\n                    .setOnlyAlertOnce(true)\r\n                    .setContentIntent(pendingIntent);\r\n    \r\n    \r\n                builder = builder.setContentTitle(title)\r\n                        .setContentText(messageBody)\r\n                        .setSmallIcon(R.drawable.applogo)\r\n                        .setStyle(new NotificationCompat.BigTextStyle().bigText(messageBody));\r\n            NotificationManager notificationManager\r\n                    = (NotificationManager) getSystemService(\r\n                    Context.NOTIFICATION_SERVICE);\r\n            if (Build.VERSION.SDK_INT\r\n                    &gt;= Build.VERSION_CODES.O) {\r\n                NotificationChannel notificationChannel\r\n                        = new NotificationChannel(\r\n                        channel_id, &quot;Default channel&quot;,\r\n                        NotificationManager.IMPORTANCE_HIGH);\r\n                notificationManager.createNotificationChannel(\r\n                        notificationChannel);\r\n            }\r\n    \r\n            notificationManager.notify(0, builder.build());\r\n    \r\n        }\r\n    }","title":"Android 13 New notification appears after old one notification clear","body":"<p>Android 13 New notification appears after old one notification clear. When first notification show then new notification received on onMessageReceived method but it will display if i have old notifiction cleared form notification bar. otherwise it will not showing on notification bar.</p>\n<p>My FirebaseMessageingService class as below</p>\n<pre><code>public class MyFirebaseMessagingService extends FirebaseMessagingService {\n\n    private static final String TAG = &quot;MyFirebaseMsgService&quot;;\n\n   \n    @Override\n    public void onMessageReceived(RemoteMessage remoteMessage) {\n\n        Log.d(TAG, &quot;From: &quot; + remoteMessage.getFrom());\n\n        if (remoteMessage.getData().size() &gt; 0) {\n            Log.d(TAG, &quot;Message data payload: &quot; + remoteMessage.getData());\n            sendNotification(remoteMessage.getNotification().getTitle(),remoteMessage.getNotification().getBody());\n            if (/* Check if data needs to be processed by long running job */ true) {\n                // For long-running tasks (10 seconds or more) use WorkManager.\n                //scheduleJob();\n            } else {\n                // Handle message within 10 seconds\n                handleNow();\n            }\n\n        }\n\n        // Check if message contains a notification payload.\n        if (remoteMessage.getNotification() != null) {\n            Log.d(TAG, &quot;Message Notification Body: &quot; + remoteMessage.getNotification().getBody());\n        }\n\n\n    }\n    @Override\n    public void onNewToken(String token) {\n        Log.d(TAG, &quot;Refreshed token: &quot; + token);\n\n        sendRegistrationToServer(token);\n    }\n\n    private void handleNow() {\n        Log.d(TAG, &quot;Short lived task is done.&quot;);\n    }\n\n\n    private void sendRegistrationToServer(String token) {\n        // TODO: Implement this method to send token to your app server.\n    }\n\n    private void sendNotification(String title,String messageBody) {\n        int uniqueCode=Prefs.getUniqueCode(getApplicationContext());\n        if(uniqueCode==1000){\n            uniqueCode=0;\n        }\n        Log.d(&quot;uniqueCode&quot;,uniqueCode+&quot;&quot;);\n        Intent intent\n                = new Intent(this, LoginActivity.class);\n        // Assign channel ID\n        String channel_id = &quot;Default&quot;;\n\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP|Intent.FLAG_ACTIVITY_NEW_TASK);\n\n        PendingIntent pendingIntent\n                = PendingIntent.getActivity(\n                this, uniqueCode, intent,\n                PendingIntent.FLAG_MUTABLE | PendingIntent.FLAG_CANCEL_CURRENT | PendingIntent.FLAG_ONE_SHOT);\n        Prefs.setUniqueCode(getApplicationContext(),uniqueCode+1);\n        NotificationCompat.Builder builder\n                = new NotificationCompat\n                .Builder(getApplicationContext(),\n                channel_id)\n                .setSmallIcon(R.drawable.applogo)\n                .setAutoCancel(true)\n                .setVibrate(new long[]{1000, 1000, 1000,\n                        1000, 1000})\n                .setOnlyAlertOnce(true)\n                .setContentIntent(pendingIntent);\n\n\n            builder = builder.setContentTitle(title)\n                    .setContentText(messageBody)\n                    .setSmallIcon(R.drawable.applogo)\n                    .setStyle(new NotificationCompat.BigTextStyle().bigText(messageBody));\n        NotificationManager notificationManager\n                = (NotificationManager) getSystemService(\n                Context.NOTIFICATION_SERVICE);\n        if (Build.VERSION.SDK_INT\n                &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel notificationChannel\n                    = new NotificationChannel(\n                    channel_id, &quot;Default channel&quot;,\n                    NotificationManager.IMPORTANCE_HIGH);\n            notificationManager.createNotificationChannel(\n                    notificationChannel);\n        }\n\n        notificationManager.notify(0, builder.build());\n\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","reflection"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":4,"creation_date":1672740660,"post_id":74991824,"comment_id":132338025,"body_markdown":"&quot;of course it is not possible to read a .class file&quot; - why of course? The Java Class File Format is [well specified](https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html)","body":"&quot;of course it is not possible to read a .class file&quot; - why of course? The Java Class File Format is <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html\" rel=\"nofollow noreferrer\">well specified</a>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1672740919,"post_id":74991824,"comment_id":132338108,"body_markdown":"Have a look at this, maybe it helps already to at least get you started: https://stackoverflow.com/questions/6219829/method-to-dynamically-load-java-class-files","body":"Have a look at this, maybe it helps already to at least get you started: <a href=\"https://stackoverflow.com/questions/6219829/method-to-dynamically-load-java-class-files\" title=\"method to dynamically load java class files\">stackoverflow.com/questions/6219829/&hellip;</a>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1672742429,"post_id":74991824,"comment_id":132338631,"body_markdown":"One thing to note: If you plan on actually loading the class so that you can get an instance of `java.lang.Class`, then any other class files that the given class file depends on must also be loadable. Otherwise, you&#39;ll end up with a `ClassNotFoundException` or something similar.","body":"One thing to note: If you plan on actually loading the class so that you can get an instance of <code>java.lang.Class</code>, then any other class files that the given class file depends on must also be loadable. Otherwise, you&#39;ll end up with a <code>ClassNotFoundException</code> or something similar."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1672742818,"post_id":74991824,"comment_id":132338760,"body_markdown":"Another note: you should keep in mind that loading any user-provided code is a security risk so make sure that either the user is trusted, the application doesn&#39;t affect other systems (e.g. communicate with a server), and/or you sanitize and check the code (might be hard to do though).","body":"Another note: you should keep in mind that loading any user-provided code is a security risk so make sure that either the user is trusted, the application doesn&#39;t affect other systems (e.g. communicate with a server), and/or you sanitize and check the code (might be hard to do though)."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":6,"creation_date":1672743307,"post_id":74991824,"comment_id":132338921,"body_markdown":"Seems like an XY problem. What do you plan to *do* with the instance of Class once you have it? i.e. what does `addClassNode` actually do?","body":"Seems like an XY problem. What do you plan to <i>do</i> with the instance of Class once you have it? i.e. what does <code>addClassNode</code> actually do?"},{"owner":{"account_id":22253909,"reputation":27,"user_id":16486359,"display_name":"Leonarddoo Campione"},"score":0,"creation_date":1672764631,"post_id":74991824,"comment_id":132345900,"body_markdown":"The goal is to create a class diagram generator in javafx. When a person drags a .class file it generates a rectangle with its name, fields, methods...","body":"The goal is to create a class diagram generator in javafx. When a person drags a .class file it generates a rectangle with its name, fields, methods..."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1672766413,"post_id":74991824,"comment_id":132346451,"body_markdown":"@LeonarddooCampione Then you shouldn&#39;t actually need to load the class. Perhaps you can provide an alternative ClassNode implementation that works with a BCEL JavaClass (as shown in my answer) instead of a java.lang.Class. The JavaClass instance has all the information about fields and methods without actually loading it.","body":"@LeonarddooCampione Then you shouldn&#39;t actually need to load the class. Perhaps you can provide an alternative ClassNode implementation that works with a BCEL JavaClass (as shown in my answer) instead of a java.lang.Class. The JavaClass instance has all the information about fields and methods without actually loading it."},{"owner":{"account_id":22253909,"reputation":27,"user_id":16486359,"display_name":"Leonarddoo Campione"},"score":0,"creation_date":1672822601,"post_id":74991824,"comment_id":132357550,"body_markdown":"@Michael Actually I think that&#39;s what I&#39;m going to do. I thank you very much","body":"@Michael Actually I think that&#39;s what I&#39;m going to do. I thank you very much"}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1672745240,"creation_date":1672743472,"answer_id":74992412,"question_id":74991824,"body_markdown":"One of your problems is that you don&#39;t know the package of the class, and you can&#39;t reasonably determine it from the filepath.\r\n\r\nYou can use [Apache Commons BCEL](https://commons.apache.org/proper/commons-bcel/) to parse the file in order to get the package, as well as plenty of other information about it.\r\n\r\n    String path = &quot;/path/to/com/example/MyClass.class&quot;;\r\n    // org.apache.bcel.classfile.JavaClass and org.apache.bcel.classfile.ClassParser\r\n    JavaClass clazz = new ClassParser(path).parse();\r\n    String className = clazz.getClassName(); // com.example.MyClass\r\n\r\nFrom there, you can use a URLClassLoader to actually load the class by name, provided all the dependencies of that Class are loaded or loadable:\r\n\r\n\r\n\r\n\r\n    String dir = Paths.get(path).getParent().toString() + &#39;/&#39;;\r\n    URLClassLoader loader = new URLClassLoader(\r\n        new URL[]{ new URL(&quot;file://&quot; + dir) },\r\n        getClass().getClassLoader()\r\n    );\r\n    Class&lt;?&gt; myClass = loader.loadClass(className);\r\n\r\nIf the dependencies of the class are not loadable then you&#39;ll need to rethink your approach. It&#39;s impossible to load a class without its dependencies, and as the user is just dragging and dropping a file, that file may depend on classes that you have no reasonable way of finding.\r\n\r\nIt may well be the case that the [`JavaClass`](https://commons.apache.org/proper/commons-bcel/apidocs/org/apache/bcel/classfile/JavaClass.html) instance returned by BCEL already contains all the information you need, and that you don&#39;t actually *need* to load the class at all. You haven&#39;t been specific enough about what you&#39;re using the Class instance for, so I can&#39;t say for certain.","title":"Retrieve a Class&lt;?&gt; type from a .class file","body":"<p>One of your problems is that you don't know the package of the class, and you can't reasonably determine it from the filepath.</p>\n<p>You can use <a href=\"https://commons.apache.org/proper/commons-bcel/\" rel=\"noreferrer\">Apache Commons BCEL</a> to parse the file in order to get the package, as well as plenty of other information about it.</p>\n<pre><code>String path = &quot;/path/to/com/example/MyClass.class&quot;;\n// org.apache.bcel.classfile.JavaClass and org.apache.bcel.classfile.ClassParser\nJavaClass clazz = new ClassParser(path).parse();\nString className = clazz.getClassName(); // com.example.MyClass\n</code></pre>\n<p>From there, you can use a URLClassLoader to actually load the class by name, provided all the dependencies of that Class are loaded or loadable:</p>\n<pre><code>String dir = Paths.get(path).getParent().toString() + '/';\nURLClassLoader loader = new URLClassLoader(\n    new URL[]{ new URL(&quot;file://&quot; + dir) },\n    getClass().getClassLoader()\n);\nClass&lt;?&gt; myClass = loader.loadClass(className);\n</code></pre>\n<p>If the dependencies of the class are not loadable then you'll need to rethink your approach. It's impossible to load a class without its dependencies, and as the user is just dragging and dropping a file, that file may depend on classes that you have no reasonable way of finding.</p>\n<p>It may well be the case that the <a href=\"https://commons.apache.org/proper/commons-bcel/apidocs/org/apache/bcel/classfile/JavaClass.html\" rel=\"noreferrer\"><code>JavaClass</code></a> instance returned by BCEL already contains all the information you need, and that you don't actually <em>need</em> to load the class at all. You haven't been specific enough about what you're using the Class instance for, so I can't say for certain.</p>\n"}],"owner":{"account_id":22253909,"reputation":27,"user_id":16486359,"display_name":"Leonarddoo Campione"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74992412,"answer_count":1,"score":1,"last_activity_date":1672745240,"creation_date":1672740515,"question_id":74991824,"body_markdown":"I have a javafx window, and when I drag .class files into it I would like to &quot;transform&quot; them into Class&lt;?&gt;\r\n\r\nI tried with Class.forname the problem is that you have to know the package, which is not my case.\r\nAnd I tried to read the .class file with a buffered reader to retrieve the package inside but of course it is not possible to read a .class file.\r\n\r\nSo I need to find a way to transform any .class file regardless of its location on the computer into Class&lt;?&gt; in my code.\r\n\r\n```java\r\n@Override\r\n    public void handle(DragEvent event) {\r\n        Dragboard db = event.getDragboard();\r\n        boolean success = false;\r\n        if (db.hasFiles()) {\r\n            for (File file : db.getFiles()) {\r\n                String fileName = file.getName();\r\n                // V&#233;rifiez si le fichier a l&#39;extension .class\r\n                if (fileName.endsWith(&quot;.class&quot;)) {\r\n\r\n                    //TODO\r\n                    \r\n                    //GlobalView.getInstance().addClassNode(new ClassNode(new Class(  the Class&lt;?&gt; object    )));\r\n\r\n                }\r\n            }\r\n        }\r\n        event.setDropCompleted(success);\r\n        event.consume();\r\n    }\r\n```","title":"Retrieve a Class&lt;?&gt; type from a .class file","body":"<p>I have a javafx window, and when I drag .class files into it I would like to &quot;transform&quot; them into Class&lt;?&gt;</p>\n<p>I tried with Class.forname the problem is that you have to know the package, which is not my case.\nAnd I tried to read the .class file with a buffered reader to retrieve the package inside but of course it is not possible to read a .class file.</p>\n<p>So I need to find a way to transform any .class file regardless of its location on the computer into Class&lt;?&gt; in my code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public void handle(DragEvent event) {\n        Dragboard db = event.getDragboard();\n        boolean success = false;\n        if (db.hasFiles()) {\n            for (File file : db.getFiles()) {\n                String fileName = file.getName();\n                // Vrifiez si le fichier a l'extension .class\n                if (fileName.endsWith(&quot;.class&quot;)) {\n\n                    //TODO\n                    \n                    //GlobalView.getInstance().addClassNode(new ClassNode(new Class(  the Class&lt;?&gt; object    )));\n\n                }\n            }\n        }\n        event.setDropCompleted(success);\n        event.consume();\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1672731445,"post_id":74990249,"comment_id":132335355,"body_markdown":"`@Value(&quot;${spring.mail.port}&quot;)` should do the job","body":"<code>@Value(&quot;${spring.mail.port}&quot;)</code> should do the job"}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1672731589,"creation_date":1672731589,"answer_id":74990290,"question_id":74990249,"body_markdown":"You can use the [@Value](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Value.html) annotation:\r\n\r\n    @Value(&quot;${spring.mail.port}&quot;)\r\n    private Integer port;","title":"In a springboot application, how can I read values form application.yml, if I need to use them in my code","body":"<p>You can use the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Value.html\" rel=\"nofollow noreferrer\">@Value</a> annotation:</p>\n<pre><code>@Value(&quot;${spring.mail.port}&quot;)\nprivate Integer port;\n</code></pre>\n"}],"owner":{"account_id":13243348,"reputation":59,"user_id":9563175,"display_name":"primeSuspect"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74990290,"answer_count":1,"score":1,"last_activity_date":1672745217,"creation_date":1672731313,"question_id":74990249,"body_markdown":"Following is my application.yml file  \r\n\r\n    spring:\r\n      mail:\r\n        host: smtp.gmail.com\r\n        port: 587\r\n\r\n\r\nIn one of my Java classes, I want to use the **port** number, which annotation I can use to achieve the same.\r\n","title":"In a springboot application, how can I read values form application.yml, if I need to use them in my code","body":"<p>Following is my application.yml file</p>\n<pre><code>spring:\n  mail:\n    host: smtp.gmail.com\n    port: 587\n</code></pre>\n<p>In one of my Java classes, I want to use the <strong>port</strong> number, which annotation I can use to achieve the same.</p>\n"},{"tags":["java","hazelcast"],"owner":{"account_id":27337922,"reputation":11,"user_id":20849054,"display_name":"Deepak_M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1672954958,"answer_count":0,"score":-1,"last_activity_date":1672745050,"creation_date":1672738119,"question_id":74991377,"body_markdown":"the error and the code is given below\r\nWARNING: hz.client_24 [dev] [5.2.1] Unable to get live cluster connection, retry in 7698 ms, attempt: 43, cluster connect timeout: INFINITE, max backoff: 30000 ms\r\n\r\n ```\r\n&lt;connection-strategy async-start=&quot;false&quot; reconnect-mode=&quot;OFF&quot;&gt;\r\n    &lt;connection-retry&gt;\r\n        &lt;initial-backoff-millis&gt;1000&lt;/initial-backoff-millis&gt;\r\n        &lt;max-backoff-millis&gt;60000&lt;/max-backoff-millis&gt;\r\n        &lt;multiplier&gt;2&lt;/multiplier&gt;\r\n        &lt;!-- 4 * 9000--&gt;\r\n        &lt;cluster-connect-timeout-millis&gt;36000\r\n        &lt;/cluster-connect-timeout-millis&gt;\r\n        &lt;jitter&gt;0.2&lt;/jitter&gt;\r\n    &lt;/connection-retry&gt;\r\n&lt;/connection-strategy&gt;\r\n```\r\n\r\n\r\n\r\nHere what i want is that it only attempt 2 times\r\n\r\n\r\n\r\n","title":"What is the alterante of the &lt;connection-attempt-limit&gt; and if i&#39;m using &quot;connection-strategy&quot; then it is always try to reconnect upto n attempts?","body":"<p>the error and the code is given below\nWARNING: hz.client_24 [dev] [5.2.1] Unable to get live cluster connection, retry in 7698 ms, attempt: 43, cluster connect timeout: INFINITE, max backoff: 30000 ms</p>\n<pre><code>&lt;connection-strategy async-start=&quot;false&quot; reconnect-mode=&quot;OFF&quot;&gt;\n   &lt;connection-retry&gt;\n       &lt;initial-backoff-millis&gt;1000&lt;/initial-backoff-millis&gt;\n       &lt;max-backoff-millis&gt;60000&lt;/max-backoff-millis&gt;\n       &lt;multiplier&gt;2&lt;/multiplier&gt;\n       &lt;!-- 4 * 9000--&gt;\n       &lt;cluster-connect-timeout-millis&gt;36000\n       &lt;/cluster-connect-timeout-millis&gt;\n       &lt;jitter&gt;0.2&lt;/jitter&gt;\n   &lt;/connection-retry&gt;\n&lt;/connection-strategy&gt;\n</code></pre>\n<p>Here what i want is that it only attempt 2 times</p>\n"},{"tags":["java","vue.js","vuejs2","vuejs3"],"answers":[{"tags":[],"owner":{"account_id":6172585,"reputation":1040,"user_id":4810478,"accept_rate":60,"display_name":"JKL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672745046,"creation_date":1672745046,"answer_id":74992695,"question_id":74992507,"body_markdown":"You can add an extra clause to your filter:\r\n\r\n    return (this.documents ?? []).filter(document =&gt;\r\n          (document.name.toUpperCase().includes(this.search.toUpperCase()) ||\r\n          this.$t(`model.document.types.${document.type}`).toUpperCase().includes(this.search.toUpperCase())) &amp;&amp;\r\n    \t  document.type === 1)\r\n\r\nInstead of using `document.type === 1` it would be nicer to create an enum in your frontend and use something like `document.type === DocumentType.APPENDIX`. This is under the assumption that your backend returns the enum as an integer and not as a string.","title":"Filtering an array by enum","body":"<p>You can add an extra clause to your filter:</p>\n<pre><code>return (this.documents ?? []).filter(document =&gt;\n      (document.name.toUpperCase().includes(this.search.toUpperCase()) ||\n      this.$t(`model.document.types.${document.type}`).toUpperCase().includes(this.search.toUpperCase())) &amp;&amp;\n      document.type === 1)\n</code></pre>\n<p>Instead of using <code>document.type === 1</code> it would be nicer to create an enum in your frontend and use something like <code>document.type === DocumentType.APPENDIX</code>. This is under the assumption that your backend returns the enum as an integer and not as a string.</p>\n"}],"owner":{"account_id":20887881,"reputation":85,"user_id":15344037,"display_name":"Cphml444"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672745046,"creation_date":1672744049,"question_id":74992507,"body_markdown":"I have a table that contains document types, which are specified by enums.\r\n\r\n    @Table(name = &quot;document&quot;)\r\n    public class  Document extends AbstractPersistable&lt;UUID&gt; {\r\n\r\n    @Id\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;type&quot;)\r\n    @Enumerated(value = EnumType.STRING)\r\n    private DocumentType type;\r\n\r\n    }\r\n\r\n\r\n\r\n    public enum DocumentType {\r\n        ANNUAL_ACCOUNTS,\r\n        APPENDIX,\r\n        BANK_GUARANTEE,\r\n        BUDGET,\r\n       \r\n    }\r\n\r\nRight now I can access all of the enums by using a filter in Vuejs.\r\n\r\n    computed: {\r\n      filteredDocuments() {\r\n        return (this.documents ?? []).filter(document =&gt;\r\n          document.name.toUpperCase().includes(this.search.toUpperCase()) ||\r\n          this.$t(`model.document.types.${document.type}`).toUpperCase().includes(this.search.toUpperCase())\r\n      }\r\n     }\r\n\r\nBut what if I want to filter by a specific enum? For instance, what if I only want to return a document type that is equal to the enum &quot;APPENDIX&quot;? How would I write this into my filtering method?","title":"Filtering an array by enum","body":"<p>I have a table that contains document types, which are specified by enums.</p>\n<pre><code>@Table(name = &quot;document&quot;)\npublic class  Document extends AbstractPersistable&lt;UUID&gt; {\n\n@Id\nprivate UUID id;\n\n@Column(name = &quot;type&quot;)\n@Enumerated(value = EnumType.STRING)\nprivate DocumentType type;\n\n}\n\n\n\npublic enum DocumentType {\n    ANNUAL_ACCOUNTS,\n    APPENDIX,\n    BANK_GUARANTEE,\n    BUDGET,\n   \n}\n</code></pre>\n<p>Right now I can access all of the enums by using a filter in Vuejs.</p>\n<pre><code>computed: {\n  filteredDocuments() {\n    return (this.documents ?? []).filter(document =&gt;\n      document.name.toUpperCase().includes(this.search.toUpperCase()) ||\n      this.$t(`model.document.types.${document.type}`).toUpperCase().includes(this.search.toUpperCase())\n  }\n }\n</code></pre>\n<p>But what if I want to filter by a specific enum? For instance, what if I only want to return a document type that is equal to the enum &quot;APPENDIX&quot;? How would I write this into my filtering method?</p>\n"},{"tags":["java","if-statement","while-loop","operator-precedence"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1672737191,"post_id":74990935,"comment_id":132336920,"body_markdown":"[What is a debugger and how can it help me diagnose problems?](https://stackoverflow.com/q/25385173)","body":"<a href=\"https://stackoverflow.com/q/25385173\">What is a debugger and how can it help me diagnose problems?</a>"}],"answers":[{"tags":[],"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672740866,"creation_date":1672737907,"answer_id":74991342,"question_id":74990935,"body_markdown":"the reason is that the second condition `HasHigherPrecedence` is false in all cases, so even if the stack is non empty the whole condition is evaluated to false","title":"Infix to postfix algorithm, the while statement I wrote is not being called out when it should","body":"<p>the reason is that the second condition <code>HasHigherPrecedence</code> is false in all cases, so even if the stack is non empty the whole condition is evaluated to false</p>\n"},{"comments":[{"owner":{"account_id":19664361,"reputation":13,"user_id":14395158,"display_name":"IamTufa"},"score":0,"creation_date":1672753232,"post_id":74992670,"comment_id":132342022,"body_markdown":"Thank you so much!!! But I am still new to computer science so I did not understand some stuff, one of them is private int pos which I mostly did not understand","body":"Thank you so much!!! But I am still new to computer science so I did not understand some stuff, one of them is private int pos which I mostly did not understand"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1672899633,"post_id":74992670,"comment_id":132378044,"body_markdown":"@IamTufa `pos` is the position in the `expression` string of the next symbol (operator or operand) to read. Initially, it is set to zero.","body":"@IamTufa <code>pos</code> is the position in the <code>expression</code> string of the next symbol (operator or operand) to read. Initially, it is set to zero."}],"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672744926,"creation_date":1672744926,"answer_id":74992670,"question_id":74990935,"body_markdown":"I started by simplifying the code. You can use a map to store operator precedence:\r\n\r\n    private static final Map&lt;String,Integer&gt; PRECEDENCE = new HashMap&lt;&gt;();\r\n    static {\r\n        PRECEDENCE.put(&quot;+&quot;, 1);\r\n        PRECEDENCE.put(&quot;-&quot;, 1);\r\n        PRECEDENCE.put(&quot;*&quot;, 2);\r\n        PRECEDENCE.put(&quot;/&quot;, 2);\r\n    }\r\n\r\nThis allows you to test if a string is a valid operator:\r\n\r\n    private static boolean isOperator(String s) {\r\n        return PRECEDENCE.containsKey(s);\r\n    }\r\n\r\nas well as comparing the precedence of two operators:\r\n\r\n    private static boolean hasHigherPrecedence(String op1, String op2) {\r\n        return PRECEDENCE.get(op1) &gt; PRECEDENCE.get(op2);\r\n    }\r\n\r\nInstead of the complicated splits and loops at the begining, I would just parse the input expression while doing the postfix conversion. I need a variable `pos` to hold the current position, and methods `readOperand` and `readOperator`:\r\n\r\n    private int pos;\r\n\r\n    /* ... */\r\n\r\n\r\n    private String readOperand() {\r\n        int mark = pos;\r\n        while (pos &lt; expression.length() &amp;&amp; Character.isDigit(expression.charAt(pos))) {\r\n            ++pos;\r\n        }\r\n        return pos &gt; mark ? expression.substring(mark, pos) : null;\r\n    }\r\n\r\n    private String readOperator() {\r\n        if (pos &lt; expression.length() &amp;&amp; isOperator(expression.substring(pos, pos+1))) {\r\n            return expression.substring(pos, ++pos);\r\n        }\r\n        return null;\r\n    }\r\n\r\nThe `postfix` method becomes:\r\n\r\n\r\n    public void postfix() {\r\n        String operand = readOperand();\r\n        while (operand != null) {\r\n            postfix.add(operand);\r\n            String op = readOperator();\r\n            if (op == null) {\r\n                break;\r\n            }\r\n            while (!ope.isEmpty() &amp;&amp; !hasHigherPrecedence(op, ope.peek())) {\r\n                postfix.add(ope.pop());\r\n            }\r\n            ope.add(op);\r\n            operand = readOperand();\r\n        }\r\n        while (!ope.empty()) {\r\n            postfix.add(ope.pop());\r\n        }\r\n        System.out.println(&quot;Output: &quot; + postfix);\r\n    }\r\n\r\nNote that\r\n\r\n    !hasHigherPrecedence(op, ope.peek())\r\n\r\nis equivalent to:\r\n\r\n    PRECEDENCE.get(ope.peek()) &gt;= PRECEDENCE.get(op)\r\n\r\nso the operator at the top of the stack will be moved to the postfix array if its precedence is greater or equal to the precedence of the current operator.\r\n","title":"Infix to postfix algorithm, the while statement I wrote is not being called out when it should","body":"<p>I started by simplifying the code. You can use a map to store operator precedence:</p>\n<pre><code>private static final Map&lt;String,Integer&gt; PRECEDENCE = new HashMap&lt;&gt;();\nstatic {\n    PRECEDENCE.put(&quot;+&quot;, 1);\n    PRECEDENCE.put(&quot;-&quot;, 1);\n    PRECEDENCE.put(&quot;*&quot;, 2);\n    PRECEDENCE.put(&quot;/&quot;, 2);\n}\n</code></pre>\n<p>This allows you to test if a string is a valid operator:</p>\n<pre><code>private static boolean isOperator(String s) {\n    return PRECEDENCE.containsKey(s);\n}\n</code></pre>\n<p>as well as comparing the precedence of two operators:</p>\n<pre><code>private static boolean hasHigherPrecedence(String op1, String op2) {\n    return PRECEDENCE.get(op1) &gt; PRECEDENCE.get(op2);\n}\n</code></pre>\n<p>Instead of the complicated splits and loops at the begining, I would just parse the input expression while doing the postfix conversion. I need a variable <code>pos</code> to hold the current position, and methods <code>readOperand</code> and <code>readOperator</code>:</p>\n<pre><code>private int pos;\n\n/* ... */\n\n\nprivate String readOperand() {\n    int mark = pos;\n    while (pos &lt; expression.length() &amp;&amp; Character.isDigit(expression.charAt(pos))) {\n        ++pos;\n    }\n    return pos &gt; mark ? expression.substring(mark, pos) : null;\n}\n\nprivate String readOperator() {\n    if (pos &lt; expression.length() &amp;&amp; isOperator(expression.substring(pos, pos+1))) {\n        return expression.substring(pos, ++pos);\n    }\n    return null;\n}\n</code></pre>\n<p>The <code>postfix</code> method becomes:</p>\n<pre><code>public void postfix() {\n    String operand = readOperand();\n    while (operand != null) {\n        postfix.add(operand);\n        String op = readOperator();\n        if (op == null) {\n            break;\n        }\n        while (!ope.isEmpty() &amp;&amp; !hasHigherPrecedence(op, ope.peek())) {\n            postfix.add(ope.pop());\n        }\n        ope.add(op);\n        operand = readOperand();\n    }\n    while (!ope.empty()) {\n        postfix.add(ope.pop());\n    }\n    System.out.println(&quot;Output: &quot; + postfix);\n}\n</code></pre>\n<p>Note that</p>\n<pre><code>!hasHigherPrecedence(op, ope.peek())\n</code></pre>\n<p>is equivalent to:</p>\n<pre><code>PRECEDENCE.get(ope.peek()) &gt;= PRECEDENCE.get(op)\n</code></pre>\n<p>so the operator at the top of the stack will be moved to the postfix array if its precedence is greater or equal to the precedence of the current operator.</p>\n"}],"owner":{"account_id":19664361,"reputation":13,"user_id":14395158,"display_name":"IamTufa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74991342,"answer_count":2,"score":-1,"last_activity_date":1672744926,"creation_date":1672735533,"question_id":74990935,"body_markdown":"```\r\nprivate\tScanner sc = new Scanner(System.in);\r\nprivate String expression;\r\nprivate String exp[];\r\nprivate ArrayList&lt;String&gt; post_fix = new ArrayList&lt;&gt;();\r\nStack&lt;String&gt; ope = new Stack&lt;String&gt;();\r\n\tpublic Model()\r\n\t{\r\n\t\texpression = sc.nextLine();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void split()\r\n\t{\r\n\t\t\r\n\t\t//splitting the entered expression to array of operators alone and array of the numbers then create Arraylist to combine the operators and numbers together as if it is a string expression  but as an array\r\n        String num[]= this.expression.split(&quot;[/+/*/-]&quot;);\r\n        String preop[]= this.expression.split(&quot;[0-9]+&quot;);; // this will give [empty, operator, operator...] therefore we will create another array to fill in the ops excluding empty\r\n        \r\n        ArrayList&lt;String&gt; op = new ArrayList&lt;&gt;();//I used arraylist because easier\r\n        for(int i = 1; i&lt;preop.length;i++)\r\n        {\r\n        \top.add(preop[i]);\r\n        }\r\n\t\t\r\n        //putting the operands and the operators together in the same array\r\n        \t\t\r\n        ArrayList&lt;String&gt; exp = new ArrayList&lt;&gt;();\r\n       \r\n        \r\n        for(int i = 0; i &lt;num.length;i++)\r\n        {\r\n        \texp.add(num[i]);\r\n        }\r\n        int count = 0;\r\n        for(int i = 0; i &lt;op.size();i++)\r\n        { //fill the arraylist with numbers then add the operators to it by using number (index of the operator +1 +count)\r\n        \texp.add(i+1+count, op.get(i)); //This is why arraylist was used in order to let values to be placed in between \r\n        \tcount++;\r\n        \t//i+1+count is used because index of the operator is in between two numbers meaning it is after the first index in num array so i+1 and because array keeps increasing, we do +count for the other operators to be placed in\r\n        }\r\n        \r\n        this.exp = new String[exp.size()]; // we change the arraylist exp to instance array for faster operations later on\r\n        System.out.print(&quot;Test to check if expression is converted into array as intented: &quot;);\r\n        for(int i = 0; i&lt;this.exp.length;i++)\r\n        {\r\n        \tthis.exp[i] = exp.get(i);\r\n        \tSystem.out.print(this.exp[i]);\r\n        }\r\n        System.out.println();\r\n      \r\n\t}\r\n\t\r\n\tpublic void postfix()\r\n\t{\r\n\t\r\n\t\tfor(int i = 0; i &lt; exp.length; i++)\r\n\t\t{\r\n\t\t\tif(i%2 == 0)//since operands are observed to always have even index in the array\r\n\t\t\t{\r\n\t\t\t\tpost_fix.add(exp[i]);\r\n\t\t\t\tSystem.out.println(post_fix);\r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tboolean x = !ope.empty();\r\n\t\t\t\tSystem.out.println(&quot;Test of !ope.empty: &quot; + x);\r\n\t\t\t\twhile(!ope.empty()&amp;&amp; HasHigherPrecedence(ope.peek(), this.exp[i]))\r\n\t\t\t\t{\r\n\t\t\t\t\tpost_fix.add(ope.peek());\r\n\t\t\t\t\tope.pop();\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tope.push(exp[i]);\r\n\t\t\t\tSystem.out.println(&quot;stack_top: &quot;+ ope.peek());\r\n\t\t\t}\r\n\t\t\t\r\n\t\r\n\t\t}\r\n\t\twhile(!ope.empty())\r\n\t\t{\r\n\t\t\t\r\n\t\t\tpost_fix.add(ope.peek());\r\n\t\t\tope.pop();\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Output: &quot; +post_fix);\r\n\t\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic String getPost_fix()\r\n\t{\r\n\t\tString temp = &quot;&quot;;\r\n\t\tfor(int i =0; i &lt; exp.length;i++)\r\n\t\t{\r\n\t\t\ttemp = temp + post_fix.get(i);\r\n\t\t}\r\n\t\r\n\t\treturn temp;\r\n\t}\r\n\t\r\n\tpublic double evaluate() \r\n\t{\r\n\t\treturn 0;\r\n\t}\r\n\t\r\n\tprivate boolean HasHigherPrecedence(String op1, String op2)\r\n\t{\r\n\t\t//op1 is operator 1 at the top of the stack thus associativity highest\r\n\t\tint a_op1 = 1;\r\n\t\tint a_op2 = 0;\r\n\t\t\r\n\t\tint p_op1 = 0;\r\n\t\tint p_op2= 0;\r\n\t\t//the precedence will be measured with numbers\r\n\t\tString operators[]= {&quot;&quot;,&quot;+&quot;,&quot;-&quot;,&quot;*&quot;,&quot;/&quot;};\r\n\t\tint precedence[] = {0,1,1,2,2}; //the reason for blank operator and 0 precedence is because the stack initially will be empty\r\n\t\tfor(int i = 0; i&lt; operators.length;i++)\r\n\t\t{\r\n\t\t\tif(op1.equals(operators[i]))\r\n\t\t\t{\r\n\t\t\t\tp_op1=precedence[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(int i = 0; i&lt; operators.length;i++)\r\n\t\t{\r\n\t\t\tif(op2.equals(operators[i]))\r\n\t\t\t{\r\n\t\t\t\tp_op2=precedence[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tboolean higher_ornot = false;\r\n\t\t\r\n\t\tif(p_op1 &gt; p_op2)\r\n\t\t{\r\n\t\t\thigher_ornot = false;\r\n\t\t}\r\n\t\telse if(p_op1 &lt; p_op1)\r\n\t\t{\r\n\t\t\thigher_ornot = true;\r\n\t\t}\r\n\t\telse if(p_op1== p_op2)\r\n\t\t{\r\n\t\tSystem.out.println(op1+&quot;: &quot;+p_op1);\r\n\t\tSystem.out.println(op2+&quot;: &quot;+p_op2);\r\n\t\t\thigher_ornot = false; //since associativity of op1 will be higher --&gt; thus higher precedence\r\n\t\t}\r\n\t\t\r\n\t\treturn higher_ornot;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n[![Output of the code][1]][1]\r\n\r\nI am trying to converst user&#39;s infix mathmatical expression into a postfix expression in an array that will be evaluated but before evaluation, I faced a problem in the postfix method\r\n\r\nwhile(!ope.empty()&amp;&amp; HasHigherPrecedence(ope.peek(), this.exp[i]))\r\n\r\nThis specific line is not being called out when the condition should be true, when it is comparing top of the stack which is * to - and * has higher precedence and since stack is not empty thus it should return true thus the function is called. I tested if I have any errors other areas but everything I tested was correct, I really have  no clue how to fix.\r\n\r\n\r\n\r\nI am really clueless even after 1hour and a half staring and trying to trace the code\r\n\r\nI am expecting from output to be\r\n[3, 2, 4, *, +, 3, -] which is the postfix expression that technically will be evaluated later\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vbNUn.png","title":"Infix to postfix algorithm, the while statement I wrote is not being called out when it should","body":"<pre><code>private Scanner sc = new Scanner(System.in);\nprivate String expression;\nprivate String exp[];\nprivate ArrayList&lt;String&gt; post_fix = new ArrayList&lt;&gt;();\nStack&lt;String&gt; ope = new Stack&lt;String&gt;();\n    public Model()\n    {\n        expression = sc.nextLine();\n        \n    }\n    \n    public void split()\n    {\n        \n        //splitting the entered expression to array of operators alone and array of the numbers then create Arraylist to combine the operators and numbers together as if it is a string expression  but as an array\n        String num[]= this.expression.split(&quot;[/+/*/-]&quot;);\n        String preop[]= this.expression.split(&quot;[0-9]+&quot;);; // this will give [empty, operator, operator...] therefore we will create another array to fill in the ops excluding empty\n        \n        ArrayList&lt;String&gt; op = new ArrayList&lt;&gt;();//I used arraylist because easier\n        for(int i = 1; i&lt;preop.length;i++)\n        {\n            op.add(preop[i]);\n        }\n        \n        //putting the operands and the operators together in the same array\n                \n        ArrayList&lt;String&gt; exp = new ArrayList&lt;&gt;();\n       \n        \n        for(int i = 0; i &lt;num.length;i++)\n        {\n            exp.add(num[i]);\n        }\n        int count = 0;\n        for(int i = 0; i &lt;op.size();i++)\n        { //fill the arraylist with numbers then add the operators to it by using number (index of the operator +1 +count)\n            exp.add(i+1+count, op.get(i)); //This is why arraylist was used in order to let values to be placed in between \n            count++;\n            //i+1+count is used because index of the operator is in between two numbers meaning it is after the first index in num array so i+1 and because array keeps increasing, we do +count for the other operators to be placed in\n        }\n        \n        this.exp = new String[exp.size()]; // we change the arraylist exp to instance array for faster operations later on\n        System.out.print(&quot;Test to check if expression is converted into array as intented: &quot;);\n        for(int i = 0; i&lt;this.exp.length;i++)\n        {\n            this.exp[i] = exp.get(i);\n            System.out.print(this.exp[i]);\n        }\n        System.out.println();\n      \n    }\n    \n    public void postfix()\n    {\n    \n        for(int i = 0; i &lt; exp.length; i++)\n        {\n            if(i%2 == 0)//since operands are observed to always have even index in the array\n            {\n                post_fix.add(exp[i]);\n                System.out.println(post_fix);\n            }\n            else \n            {\n                boolean x = !ope.empty();\n                System.out.println(&quot;Test of !ope.empty: &quot; + x);\n                while(!ope.empty()&amp;&amp; HasHigherPrecedence(ope.peek(), this.exp[i]))\n                {\n                    post_fix.add(ope.peek());\n                    ope.pop();\n                    \n                    \n                }\n                ope.push(exp[i]);\n                System.out.println(&quot;stack_top: &quot;+ ope.peek());\n            }\n            \n    \n        }\n        while(!ope.empty())\n        {\n            \n            post_fix.add(ope.peek());\n            ope.pop();\n        }\n        System.out.println(&quot;Output: &quot; +post_fix);\n    \n        \n    }\n    \n    public String getPost_fix()\n    {\n        String temp = &quot;&quot;;\n        for(int i =0; i &lt; exp.length;i++)\n        {\n            temp = temp + post_fix.get(i);\n        }\n    \n        return temp;\n    }\n    \n    public double evaluate() \n    {\n        return 0;\n    }\n    \n    private boolean HasHigherPrecedence(String op1, String op2)\n    {\n        //op1 is operator 1 at the top of the stack thus associativity highest\n        int a_op1 = 1;\n        int a_op2 = 0;\n        \n        int p_op1 = 0;\n        int p_op2= 0;\n        //the precedence will be measured with numbers\n        String operators[]= {&quot;&quot;,&quot;+&quot;,&quot;-&quot;,&quot;*&quot;,&quot;/&quot;};\n        int precedence[] = {0,1,1,2,2}; //the reason for blank operator and 0 precedence is because the stack initially will be empty\n        for(int i = 0; i&lt; operators.length;i++)\n        {\n            if(op1.equals(operators[i]))\n            {\n                p_op1=precedence[i];\n            }\n        }\n        for(int i = 0; i&lt; operators.length;i++)\n        {\n            if(op2.equals(operators[i]))\n            {\n                p_op2=precedence[i];\n            }\n        }\n        \n        boolean higher_ornot = false;\n        \n        if(p_op1 &gt; p_op2)\n        {\n            higher_ornot = false;\n        }\n        else if(p_op1 &lt; p_op1)\n        {\n            higher_ornot = true;\n        }\n        else if(p_op1== p_op2)\n        {\n        System.out.println(op1+&quot;: &quot;+p_op1);\n        System.out.println(op2+&quot;: &quot;+p_op2);\n            higher_ornot = false; //since associativity of op1 will be higher --&gt; thus higher precedence\n        }\n        \n        return higher_ornot;\n    }\n    \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/vbNUn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vbNUn.png\" alt=\"Output of the code\" /></a></p>\n<p>I am trying to converst user's infix mathmatical expression into a postfix expression in an array that will be evaluated but before evaluation, I faced a problem in the postfix method</p>\n<p>while(!ope.empty()&amp;&amp; HasHigherPrecedence(ope.peek(), this.exp[i]))</p>\n<p>This specific line is not being called out when the condition should be true, when it is comparing top of the stack which is * to - and * has higher precedence and since stack is not empty thus it should return true thus the function is called. I tested if I have any errors other areas but everything I tested was correct, I really have  no clue how to fix.</p>\n<p>I am really clueless even after 1hour and a half staring and trying to trace the code</p>\n<p>I am expecting from output to be\n[3, 2, 4, *, +, 3, -] which is the postfix expression that technically will be evaluated later</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1672746713,"post_id":74992579,"comment_id":132339926,"body_markdown":"Does this answer your question? [Illegal attempt to dereference collection when querying using JPA relations](https://stackoverflow.com/questions/34975468/illegal-attempt-to-dereference-collection-when-querying-using-jpa-relations)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/34975468/illegal-attempt-to-dereference-collection-when-querying-using-jpa-relations\">Illegal attempt to dereference collection when querying using JPA relations</a>"},{"owner":{"account_id":19614580,"reputation":13,"user_id":14356372,"display_name":"Anabelle95"},"score":0,"creation_date":1672751898,"post_id":74992579,"comment_id":132341588,"body_markdown":"no, I  have a Join. Maybe in this example works because entity is in select","body":"no, I  have a Join. Maybe in this example works because entity is in select"}],"owner":{"account_id":19614580,"reputation":13,"user_id":14356372,"display_name":"Anabelle95"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672744701,"creation_date":1672744350,"question_id":74992579,"body_markdown":"\r\nI create new object in select statement.\r\n\r\n      @Query(&quot;&quot;&quot;\r\n          select new com.myPackage.AuthorDTO(\r\n                a.id,\r\n    \t\t\ta.name,\r\n                booksIds)\r\n                from Author a\r\n                join a.books.id as booksIds\r\n                &quot;&quot;&quot;)\r\n    List&lt;AuthorDTO&gt; getAuthors();\r\n\r\n    \t\t\t\r\nMy record looks like this:\r\n\r\n    record AuthorDTO(Long id, String name, Set&lt;Long&gt; booksIds)\r\n\r\nI have an error:\r\nillegal attempt to dereference collection.\r\nHow to solve it? \r\n\r\n\r\n","title":"Spring Data JPA @Query - creating new object from select","body":"<p>I create new object in select statement.</p>\n<pre><code>  @Query(&quot;&quot;&quot;\n      select new com.myPackage.AuthorDTO(\n            a.id,\n            a.name,\n            booksIds)\n            from Author a\n            join a.books.id as booksIds\n            &quot;&quot;&quot;)\nList&lt;AuthorDTO&gt; getAuthors();\n\n            \n</code></pre>\n<p>My record looks like this:</p>\n<pre><code>record AuthorDTO(Long id, String name, Set&lt;Long&gt; booksIds)\n</code></pre>\n<p>I have an error:\nillegal attempt to dereference collection.\nHow to solve it?</p>\n"},{"tags":["java","android","ios","swift","encryption"],"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":1,"creation_date":1609690784,"post_id":65551823,"comment_id":115895784,"body_markdown":"I don&#39;t know Swift but I see that you are using different AES modes - in Java it is CBC mode and on Swift it&#39;s GCM mode. Second: CBC mode needs an initialization vector (iv) and GCM mode needs a nonce that has to available on decryption as well - I do not see that the iv or nonce are available outside of the encryption functions.","body":"I don&#39;t know Swift but I see that you are using different AES modes - in Java it is CBC mode and on Swift it&#39;s GCM mode. Second: CBC mode needs an initialization vector (iv) and GCM mode needs a nonce that has to available on decryption as well - I do not see that the iv or nonce are available outside of the encryption functions."},{"owner":{"account_id":17867091,"reputation":33,"user_id":12979231,"display_name":"OctoBot"},"score":0,"creation_date":1609691241,"post_id":65551823,"comment_id":115895930,"body_markdown":"Would you happen to know how to use the GCM mode in Java? I am not familiar with encryption in Java or Swift. The attempt you see above is a result of me reading Apple CryptoKit documentation and looking at the Android Cryptography guide. I need to find an approach that I can implement on both. The general Idea I have is the following. I want to create a key by hashing a user-supplied string (password) using the SHA-256 algorithm. Then I want to use that key to perform AES-256 encryption on some user-supplied text (text message). That data would be stored in and retrieved from Google Firestore","body":"Would you happen to know how to use the GCM mode in Java? I am not familiar with encryption in Java or Swift. The attempt you see above is a result of me reading Apple CryptoKit documentation and looking at the Android Cryptography guide. I need to find an approach that I can implement on both. The general Idea I have is the following. I want to create a key by hashing a user-supplied string (password) using the SHA-256 algorithm. Then I want to use that key to perform AES-256 encryption on some user-supplied text (text message). That data would be stored in and retrieved from Google Firestore"},{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1609711252,"post_id":65551823,"comment_id":115901986,"body_markdown":"If you are not familiar with encryption you should not write any encryption functions. All examples I could provide would cause a lot of questions and Stackoverflow is not the place for that. You should not derive an encryption key with a simple SHA256 hashing function, use a password derivation function like PBKDF2. This was just an example of the complexitiy so it could be good idea to hire a freelance for this part of your job, especially when trying to use encryption platform wide (Java - Swift).","body":"If you are not familiar with encryption you should not write any encryption functions. All examples I could provide would cause a lot of questions and Stackoverflow is not the place for that. You should not derive an encryption key with a simple SHA256 hashing function, use a password derivation function like PBKDF2. This was just an example of the complexitiy so it could be good idea to hire a freelance for this part of your job, especially when trying to use encryption platform wide (Java - Swift)."},{"owner":{"account_id":17867091,"reputation":33,"user_id":12979231,"display_name":"OctoBot"},"score":0,"creation_date":1609720095,"post_id":65551823,"comment_id":115903988,"body_markdown":"Thank you for your advice. Im developing the app for educational purposes and very limited use only, therefore quality is not critical and would not require hiring a freelancer. The project will never provide revenue and most likely be used by a closed circle of people. Im confident skills developed through this project will benefit me in the future. The project might also be of use for other people, in which case I will make it publicly available.","body":"Thank you for your advice. Im developing the app for educational purposes and very limited use only, therefore quality is not critical and would not require hiring a freelancer. The project will never provide revenue and most likely be used by a closed circle of people. Im confident skills developed through this project will benefit me in the future. The project might also be of use for other people, in which case I will make it publicly available."},{"owner":{"account_id":2480581,"reputation":12447,"user_id":2160144,"accept_rate":55,"display_name":"Mehul Thakkar"},"score":0,"creation_date":1646738826,"post_id":65551823,"comment_id":126193207,"body_markdown":"@OctoBot Did you get any success in above?, If yes, then please add the solution here too, so that it can become helpful for others.","body":"@OctoBot Did you get any success in above?, If yes, then please add the solution here too, so that it can become helpful for others."}],"answers":[{"tags":[],"owner":{"account_id":10646458,"reputation":31,"user_id":7838980,"display_name":"Tushar Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672744528,"creation_date":1672744043,"answer_id":74992505,"question_id":65551823,"body_markdown":"Use implementation &#39;com.google.crypto.tink:tink-android:1.7.0&#39;\r\n\r\nIn your file \r\n\r\n    import com.google.crypto.tink.subtle.Hkdf;\r\n    \r\n    sharedSecret = Hkdf.computeHkdf(&quot;HMACSHA256&quot;, normalSharedSecret,null,null,32);","title":"Equivalent Encryption and Decryption on iOS and Android","body":"<p>Use implementation 'com.google.crypto.tink:tink-android:1.7.0'</p>\n<p>In your file</p>\n<pre><code>import com.google.crypto.tink.subtle.Hkdf;\n\nsharedSecret = Hkdf.computeHkdf(&quot;HMACSHA256&quot;, normalSharedSecret,null,null,32);\n</code></pre>\n"}],"owner":{"account_id":17867091,"reputation":33,"user_id":12979231,"display_name":"OctoBot"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":961,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1672744528,"creation_date":1609689324,"question_id":65551823,"body_markdown":"Aim:\r\n==============\r\nTo be able to encrypt a piece of data (a string) on iOS and decrypt on Android or vice versa to provide users with end-to-end encryption.\r\n\r\nUnfortunately, Encrypted Message in Java does not match the Encrypted Message in Swift.  \r\n**Java:** *gTwbbTCiE+Km/5Lw3yWlTr/sd5aoN6II66CqsvbiSAE=*  \r\n**Swift:** *iFA3j0lBPiyz64ge0M67pBPWLYEsVgSHvwY2m+anDQ+lRUauQOq9b3cLqFH1*\r\n\r\n----------\r\n\r\nWhat I Tried:\r\n==============\r\n\r\nJava Implementation\r\n-----------------\r\n```lang-java\r\npackage com.company;\r\n\r\nimport javax.crypto.Cipher;\r\nimport javax.crypto.SecretKey;\r\nimport javax.crypto.spec.SecretKeySpec;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.security.MessageDigest;\r\nimport java.util.Base64;\r\n\r\npublic class Main {\r\n\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        // Get Base64 encoder\r\n        Base64.Encoder b64e = Base64.getEncoder();\r\n\r\n        // Message to encrypt\r\n        String str = &quot;Hello, playground&quot;;\r\n        // Password to use for encryption\r\n        String key = &quot;password&quot;;\r\n\r\n        // The bytes of the string requiring encryption\r\n        byte[] strByteArray = str.getBytes(StandardCharsets.UTF_8);\r\n        // Print the message in plaintext\r\n        System.out.println(&quot;Message: &quot; + str);\r\n        // Print the Base64 encoded message bytes\r\n        System.out.println(&quot;Message B64: &quot; + b64e.encodeToString(strByteArray));\r\n\r\n        // The bytes of the key\r\n        byte[] keyByteArray = key.getBytes(StandardCharsets.UTF_8);\r\n        // Print the key in plaintext\r\n        System.out.println(&quot;Key: &quot; + key);\r\n\r\n        // Create an instance of MessageDigest to hash the key using the SHA-256 algorithm\r\n        MessageDigest hasher = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n        // The bytes of the hash digest\r\n        byte[] keyHashByteArray = hasher.digest(keyByteArray);\r\n        // Print the Base64 encoded key hash bytes\r\n        System.out.println(&quot;Key B64: &quot; + b64e.encodeToString(keyHashByteArray));\r\n\r\n        // Create an instance of a SecretKey from the key hash bytes\r\n        SecretKey secretKey = new SecretKeySpec(keyHashByteArray, &quot;AES&quot;);\r\n\r\n        // Create an instance of an AES cipher\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\r\n        // Set the cipher mode to encryption and supply the previously computed SecretKey\r\n        cipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n\r\n        // Encrypt the message string bytes using an AES-256 cipher using the secret key\r\n        byte[] ciphertext = cipher.doFinal(strByteArray);\r\n        // Print the Base64 encoded ciphertext bytes\r\n        System.out.println(&quot;Encrypted Message: &quot; + b64e.encodeToString(ciphertext));\r\n    }\r\n}\r\n\r\n```\r\n## Java Output:\r\nMessage: Hello, playground  \r\nMessage B64: SGVsbG8sIHBsYXlncm91bmQ=  \r\nKey: password  \r\nKey B64: XohImNooBHFR0OVvjcYpJ3NgPQ1qq73WKhHvch0VQtg=  \r\nEncrypted Message: gTwbbTCiE+Km/5Lw3yWlTr/sd5aoN6II66CqsvbiSAE=\r\n\r\nSwift Implementation\r\n-----------------\r\n``` lang-swift\r\nimport Cocoa\r\nimport CryptoKit\r\n\r\n// Message to encrypt\r\nvar str = &quot;Hello, playground&quot;\r\n\r\n// Print the message in plaintext\r\nprint(&quot;Message: \\(str)&quot;)\r\n\r\n// The bytes of the string requiring encryption\r\nvar messageByteArray = Data(str.utf8)\r\n\r\n// Print the Base64 encoded message bytes\r\nprint(&quot;Message B64: \\(Data(messageByteArray).base64EncodedString())&quot;)\r\n\r\n// Password to use for encryption\r\nvar key = &quot;password&quot;\r\n\r\n// Print the key in plaintext\r\nprint(&quot;Key: \\(key)&quot;)\r\n\r\n// The bytes of the key\r\nvar keyByteArray = Data(key.utf8)\r\n\r\n// The bytes of the hash digest\r\nvar keyHashByteArray = SHA256.hash(data: keyByteArray);\r\n\r\n// Create an instance of a SymmetricKey from the key hash bytes\r\nvar symetricKeyFromHash = SymmetricKey(data: keyHashByteArray)\r\n\r\n// Print the Base64 encoded key hash bytes\r\nsymetricKeyFromHash.withUnsafeBytes {body in\r\n    print(&quot;Key B64: \\(Data(body).base64EncodedString())&quot;)\r\n}\r\n\r\n// Encrypt the message string bytes using an AES-256 cipher using the secret key\r\nlet sealed = try AES.GCM.seal(messageByteArray, using: symetricKeyFromHash)\r\n\r\n// Print the Base64 encoded ciphertext bytes\r\nprint(&quot;Encrypted Message: \\(sealed.combined!.base64EncodedString())&quot;)\r\n\r\n```\r\n\r\n## Swift Output:\r\nMessage: Hello, playground  \r\nMessage B64: SGVsbG8sIHBsYXlncm91bmQ=  \r\nKey: password  \r\nKey B64: XohImNooBHFR0OVvjcYpJ3NgPQ1qq73WKhHvch0VQtg=  \r\nEncrypted Message: NAYn6W22c4IcJUyYpXAKbMLq5yktFUGDPYCOvIRFXISDAK4xrJHh9Yv+15Z9  ","title":"Equivalent Encryption and Decryption on iOS and Android","body":"<h1>Aim:</h1>\n<p>To be able to encrypt a piece of data (a string) on iOS and decrypt on Android or vice versa to provide users with end-to-end encryption.</p>\n<p>Unfortunately, Encrypted Message in Java does not match the Encrypted Message in Swift.<br />\n<strong>Java:</strong> <em>gTwbbTCiE+Km/5Lw3yWlTr/sd5aoN6II66CqsvbiSAE=</em><br />\n<strong>Swift:</strong> <em>iFA3j0lBPiyz64ge0M67pBPWLYEsVgSHvwY2m+anDQ+lRUauQOq9b3cLqFH1</em></p>\n<hr />\n<h1>What I Tried:</h1>\n<h2>Java Implementation</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.SecretKey;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.nio.charset.StandardCharsets;\nimport java.security.MessageDigest;\nimport java.util.Base64;\n\npublic class Main {\n\n\n    public static void main(String[] args) throws Exception {\n        // Get Base64 encoder\n        Base64.Encoder b64e = Base64.getEncoder();\n\n        // Message to encrypt\n        String str = &quot;Hello, playground&quot;;\n        // Password to use for encryption\n        String key = &quot;password&quot;;\n\n        // The bytes of the string requiring encryption\n        byte[] strByteArray = str.getBytes(StandardCharsets.UTF_8);\n        // Print the message in plaintext\n        System.out.println(&quot;Message: &quot; + str);\n        // Print the Base64 encoded message bytes\n        System.out.println(&quot;Message B64: &quot; + b64e.encodeToString(strByteArray));\n\n        // The bytes of the key\n        byte[] keyByteArray = key.getBytes(StandardCharsets.UTF_8);\n        // Print the key in plaintext\n        System.out.println(&quot;Key: &quot; + key);\n\n        // Create an instance of MessageDigest to hash the key using the SHA-256 algorithm\n        MessageDigest hasher = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        // The bytes of the hash digest\n        byte[] keyHashByteArray = hasher.digest(keyByteArray);\n        // Print the Base64 encoded key hash bytes\n        System.out.println(&quot;Key B64: &quot; + b64e.encodeToString(keyHashByteArray));\n\n        // Create an instance of a SecretKey from the key hash bytes\n        SecretKey secretKey = new SecretKeySpec(keyHashByteArray, &quot;AES&quot;);\n\n        // Create an instance of an AES cipher\n        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5PADDING&quot;);\n        // Set the cipher mode to encryption and supply the previously computed SecretKey\n        cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n\n        // Encrypt the message string bytes using an AES-256 cipher using the secret key\n        byte[] ciphertext = cipher.doFinal(strByteArray);\n        // Print the Base64 encoded ciphertext bytes\n        System.out.println(&quot;Encrypted Message: &quot; + b64e.encodeToString(ciphertext));\n    }\n}\n\n</code></pre>\n<h2>Java Output:</h2>\n<p>Message: Hello, playground<br />\nMessage B64: SGVsbG8sIHBsYXlncm91bmQ=<br />\nKey: password<br />\nKey B64: XohImNooBHFR0OVvjcYpJ3NgPQ1qq73WKhHvch0VQtg=<br />\nEncrypted Message: gTwbbTCiE+Km/5Lw3yWlTr/sd5aoN6II66CqsvbiSAE=</p>\n<h2>Swift Implementation</h2>\n<pre class=\"lang-swift prettyprint-override\"><code>import Cocoa\nimport CryptoKit\n\n// Message to encrypt\nvar str = &quot;Hello, playground&quot;\n\n// Print the message in plaintext\nprint(&quot;Message: \\(str)&quot;)\n\n// The bytes of the string requiring encryption\nvar messageByteArray = Data(str.utf8)\n\n// Print the Base64 encoded message bytes\nprint(&quot;Message B64: \\(Data(messageByteArray).base64EncodedString())&quot;)\n\n// Password to use for encryption\nvar key = &quot;password&quot;\n\n// Print the key in plaintext\nprint(&quot;Key: \\(key)&quot;)\n\n// The bytes of the key\nvar keyByteArray = Data(key.utf8)\n\n// The bytes of the hash digest\nvar keyHashByteArray = SHA256.hash(data: keyByteArray);\n\n// Create an instance of a SymmetricKey from the key hash bytes\nvar symetricKeyFromHash = SymmetricKey(data: keyHashByteArray)\n\n// Print the Base64 encoded key hash bytes\nsymetricKeyFromHash.withUnsafeBytes {body in\n    print(&quot;Key B64: \\(Data(body).base64EncodedString())&quot;)\n}\n\n// Encrypt the message string bytes using an AES-256 cipher using the secret key\nlet sealed = try AES.GCM.seal(messageByteArray, using: symetricKeyFromHash)\n\n// Print the Base64 encoded ciphertext bytes\nprint(&quot;Encrypted Message: \\(sealed.combined!.base64EncodedString())&quot;)\n\n</code></pre>\n<h2>Swift Output:</h2>\n<p>Message: Hello, playground<br />\nMessage B64: SGVsbG8sIHBsYXlncm91bmQ=<br />\nKey: password<br />\nKey B64: XohImNooBHFR0OVvjcYpJ3NgPQ1qq73WKhHvch0VQtg=<br />\nEncrypted Message: NAYn6W22c4IcJUyYpXAKbMLq5yktFUGDPYCOvIRFXISDAK4xrJHh9Yv+15Z9</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1386590420,"post_id":20470010,"comment_id":30589004,"body_markdown":"The term from FP is &quot;partition&quot;, but I&#39;m not finding a method with the desired semantics in Java. It has partitioning on a predicate.","body":"The term from FP is &quot;partition&quot;, but I&#39;m not finding a method with the desired semantics in Java. It has partitioning on a predicate."},{"owner":{"account_id":236130,"reputation":5021,"user_id":503413,"accept_rate":78,"display_name":"Olimpiu POP"},"score":1,"creation_date":1386598075,"post_id":20470010,"comment_id":30593382,"body_markdown":"Typically the spliterator in JDK 8 is thought for traversing and partitioning purposes. I will try to come up with an example also.","body":"Typically the spliterator in JDK 8 is thought for traversing and partitioning purposes. I will try to come up with an example also."},{"owner":{"account_id":53291,"reputation":1729,"user_id":159326,"accept_rate":87,"display_name":"aepurniet"},"score":0,"creation_date":1386604385,"post_id":20470010,"comment_id":30597351,"body_markdown":"`list.stream().map(i -&gt; new Pair(i, i+1));`","body":"<code>list.stream().map(i -&gt; new Pair(i, i+1));</code>"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":2,"creation_date":1386836620,"post_id":20470010,"comment_id":30710849,"body_markdown":"For the equivalent non streams question, see http://stackoverflow.com/questions/17453022/idiom-for-pairwise-iteration-through-a-sorted-collection","body":"For the equivalent non streams question, see <a href=\"http://stackoverflow.com/questions/17453022/idiom-for-pairwise-iteration-through-a-sorted-collection\" title=\"idiom for pairwise iteration through a sorted collection\">stackoverflow.com/questions/17453022/&hellip;</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1570653865,"post_id":20470010,"comment_id":102985160,"body_markdown":"By the way, some folks use either implementation of [`Map.Entry`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.Entry.html) as a Pair class. (Granted, some might consider that a hack, but using a built-in class is handy.)","body":"By the way, some folks use either implementation of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.Entry.html\" rel=\"nofollow noreferrer\"><code>Map.Entry</code></a> as a Pair class. (Granted, some might consider that a hack, but using a built-in class is handy.)"}],"answers":[{"comments":[{"owner":{"account_id":236130,"reputation":5021,"user_id":503413,"accept_rate":78,"display_name":"Olimpiu POP"},"score":5,"creation_date":1386591805,"post_id":20470363,"comment_id":30589765,"body_markdown":"and where is the lambda part of the solution?","body":"and where is the lambda part of the solution?"},{"owner":{"account_id":267393,"reputation":10719,"user_id":555553,"accept_rate":62,"display_name":"mishadoff"},"score":1,"creation_date":1386597697,"post_id":20470363,"comment_id":30593175,"body_markdown":"It is not the case when stream is infinite","body":"It is not the case when stream is infinite"},{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":2,"creation_date":1426266455,"post_id":20470363,"comment_id":46316641,"body_markdown":"@Olimpiu - Where did you get a lambda was a requirement? I read the question twice to make sure I was not missing it. I also checked history of edits. And the question is not tagged with it.","body":"@Olimpiu - Where did you get a lambda was a requirement? I read the question twice to make sure I was not missing it. I also checked history of edits. And the question is not tagged with it."},{"owner":{"account_id":12863154,"reputation":402,"user_id":9304291,"display_name":"Marek Borecki"},"score":0,"creation_date":1635587194,"post_id":20470363,"comment_id":123342031,"body_markdown":"It should be deleted","body":"It should be deleted"}],"tags":[],"owner":{"account_id":457254,"reputation":433,"user_id":856459,"display_name":"Savv"},"comment_count":4,"down_vote_count":8,"up_vote_count":2,"is_accepted":false,"score":-6,"last_activity_date":1386591106,"creation_date":1386591106,"answer_id":20470363,"question_id":20470010,"body_markdown":"Run a `for` loop that runs from 0 to `length-1` of your stream\r\n\r\n    for(int i = 0 ; i &lt; stream.length-1 ; i++)\r\n    {\r\n        Pair pair = new Pair(stream[i], stream[i+1]);\r\n        // then add your pair to an array\r\n    }","title":"Collect successive pairs from a stream","body":"<p>Run a <code>for</code> loop that runs from 0 to <code>length-1</code> of your stream</p>\n\n<pre><code>for(int i = 0 ; i &lt; stream.length-1 ; i++)\n{\n    Pair pair = new Pair(stream[i], stream[i+1]);\n    // then add your pair to an array\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":6,"creation_date":1386622205,"post_id":20473797,"comment_id":30607799,"body_markdown":"Kudos for pointing out that anonymous classes are a sometimes useful alternative to lambdas.","body":"Kudos for pointing out that anonymous classes are a sometimes useful alternative to lambdas."},{"owner":{"account_id":53291,"reputation":1729,"user_id":159326,"accept_rate":87,"display_name":"aepurniet"},"score":0,"creation_date":1386710656,"post_id":20473797,"comment_id":30652560,"body_markdown":"how will this deal with parallel streams?","body":"how will this deal with parallel streams?"},{"owner":{"account_id":267393,"reputation":10719,"user_id":555553,"accept_rate":62,"display_name":"mishadoff"},"score":2,"creation_date":1386757841,"post_id":20473797,"comment_id":30671728,"body_markdown":"@aepurniet I assume it won&#39;t work correctly. According to the `parallelStream` doc: &quot;To preserve correct behavior, these behavioral parameters must be non-interfering, and in most cases must be stateless&quot;","body":"@aepurniet I assume it won&#39;t work correctly. According to the <code>parallelStream</code> doc: &quot;To preserve correct behavior, these behavioral parameters must be non-interfering, and in most cases must be stateless&quot;"},{"owner":{"account_id":2997947,"reputation":7676,"user_id":2544089,"display_name":"Mario Rossi"},"score":17,"creation_date":1423239819,"post_id":20473797,"comment_id":45081072,"body_markdown":"This is completely contrary to the design of the streams framework and directly violates the contract of the map API, as the anonymous function is *not* stateless.  Try running this with a parallel stream and more data so the stream framework creates more working threads, and you will see the result: infrequent random &quot;errors&quot; almost impossible to reproduce and difficult to detect until you have data enough (in production?).  This can be disastrous.","body":"This is completely contrary to the design of the streams framework and directly violates the contract of the map API, as the anonymous function is <i>not</i> stateless.  Try running this with a parallel stream and more data so the stream framework creates more working threads, and you will see the result: infrequent random &quot;errors&quot; almost impossible to reproduce and difficult to detect until you have data enough (in production?).  This can be disastrous."},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":3,"creation_date":1425554684,"post_id":20473797,"comment_id":46015383,"body_markdown":"@MarioRossi The Streams framework does not exist to **only** write parallel code. Its butt, unfortunately, sits on two sides of the fence, and many programmers use it to write sequential code. There are even built-in methods that cannot be parallelized (such as `skip`).","body":"@MarioRossi The Streams framework does not exist to <b>only</b> write parallel code. Its butt, unfortunately, sits on two sides of the fence, and many programmers use it to write sequential code. There are even built-in methods that cannot be parallelized (such as <code>skip</code>)."},{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":4,"creation_date":1452127427,"post_id":20473797,"comment_id":57036751,"body_markdown":"@AleksandrDubinsky You are incorrect about limit/skip being parallelizable; the implementation provided in JDK does in fact work in parallel.  Because the operation is tied to encounter order, parallelization may not always provide a performance benefit, but in high-Q situations, it can.","body":"@AleksandrDubinsky You are incorrect about limit/skip being parallelizable; the implementation provided in JDK does in fact work in parallel.  Because the operation is tied to encounter order, parallelization may not always provide a performance benefit, but in high-Q situations, it can."},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":1,"creation_date":1452182755,"post_id":20473797,"comment_id":57064793,"body_markdown":"@BrianGoetz Last time I checked, parallel `skip` would skip a random element. I&#39;d needed to use `forEachOrdered` (instead of`forEach`) as the terminal operation, which made my short pipeline serial. There was no facility to say &quot;I need this part of the pipeline ordered, and this part parallel.&quot; (The API preposterously ignores the ordering of calls to `parallel`, `ordered`, `unordered`, and `forEach`.) I concede an ordered, parallel pipeline that terminates in a reduction could see correct behavior from skip. But I&#39;ve given up on Streams and don&#39;t use them, especially for parallelism.","body":"@BrianGoetz Last time I checked, parallel <code>skip</code> would skip a random element. I&#39;d needed to use <code>forEachOrdered</code> (instead of<code>forEach</code>) as the terminal operation, which made my short pipeline serial. There was no facility to say &quot;I need this part of the pipeline ordered, and this part parallel.&quot; (The API preposterously ignores the ordering of calls to <code>parallel</code>, <code>ordered</code>, <code>unordered</code>, and <code>forEach</code>.) I concede an ordered, parallel pipeline that terminates in a reduction could see correct behavior from skip. But I&#39;ve given up on Streams and don&#39;t use them, especially for parallelism."},{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":4,"creation_date":1452185708,"post_id":20473797,"comment_id":57066964,"body_markdown":"@AleksandrDubinsky Incorrect.  It may skip a random element if the stream is *unordered* (has no defined encounter order, so logically there *is* no &quot;first&quot; or &quot;nth&quot; element, just elements.)  But whether the stream is ordered or unordered, skip has always been able to work in parallel.  There&#39;s just less parallelism to extract if the stream is ordered, but its still parallel.","body":"@AleksandrDubinsky Incorrect.  It may skip a random element if the stream is <i>unordered</i> (has no defined encounter order, so logically there <i>is</i> no &quot;first&quot; or &quot;nth&quot; element, just elements.)  But whether the stream is ordered or unordered, skip has always been able to work in parallel.  There&#39;s just less parallelism to extract if the stream is ordered, but its still parallel."},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":1,"creation_date":1452225465,"post_id":20473797,"comment_id":57084212,"body_markdown":"@BrianGoetz I do not want to waste the time of someone of your stature. You are right. (I attempted to admit that in my last comment, oh well.) Streams suck nevertheless. (Useless, random, surprising behavior instead of an exception?) Unfortunately, I cannot edit my original comment, except to delete it and re-write it.","body":"@BrianGoetz I do not want to waste the time of someone of your stature. You are right. (I attempted to admit that in my last comment, oh well.) Streams suck nevertheless. (Useless, random, surprising behavior instead of an exception?) Unfortunately, I cannot edit my original comment, except to delete it and re-write it."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1456619490,"post_id":20473797,"comment_id":59033110,"body_markdown":"You can eliminate the parallel issues with `skip` by replacing it with `filter(p -&gt; p != null)`. That doesn&#39;t take care of the issues with using a stateful mapper, but still.","body":"You can eliminate the parallel issues with <code>skip</code> by replacing it with <code>filter(p -&gt; p != null)</code>. That doesn&#39;t take care of the issues with using a stateful mapper, but still."}],"tags":[],"owner":{"account_id":267393,"reputation":10719,"user_id":555553,"accept_rate":62,"display_name":"mishadoff"},"comment_count":10,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1541781683,"creation_date":1386601446,"answer_id":20473797,"question_id":20470010,"body_markdown":"This is not elegant, it&#39;s a hackish solution, but works for infinite streams\r\n\r\n    Stream&lt;Pair&gt; pairStream = Stream.iterate(0, (i) -&gt; i + 1).map( // natural numbers\r\n        new Function&lt;Integer, Pair&gt;() {\r\n            Integer previous;\r\n\r\n            @Override\r\n            public Pair apply(Integer integer) {\r\n                Pair pair = null;\r\n                if (previous != null) pair = new Pair(previous, integer);\r\n                previous = integer;\r\n                return pair;\r\n            }\r\n        }).skip(1); // drop first null\r\n\r\nNow you can limit your stream to the length you want\r\n\r\n    pairStream.limit(1_000_000).forEach(i -&gt; System.out.println(i));\r\n\r\n**P.S.** I hope there is better solution, something like clojure `(partition 2 1 stream)`","title":"Collect successive pairs from a stream","body":"<p>This is not elegant, it's a hackish solution, but works for infinite streams</p>\n\n<pre><code>Stream&lt;Pair&gt; pairStream = Stream.iterate(0, (i) -&gt; i + 1).map( // natural numbers\n    new Function&lt;Integer, Pair&gt;() {\n        Integer previous;\n\n        @Override\n        public Pair apply(Integer integer) {\n            Pair pair = null;\n            if (previous != null) pair = new Pair(previous, integer);\n            previous = integer;\n            return pair;\n        }\n    }).skip(1); // drop first null\n</code></pre>\n\n<p>Now you can limit your stream to the length you want</p>\n\n<pre><code>pairStream.limit(1_000_000).forEach(i -&gt; System.out.println(i));\n</code></pre>\n\n<p><strong>P.S.</strong> I hope there is better solution, something like clojure <code>(partition 2 1 stream)</code></p>\n"},{"comments":[{"owner":{"account_id":140434,"reputation":11503,"user_id":346741,"accept_rate":84,"display_name":"Rob"},"score":0,"creation_date":1386603906,"post_id":20473894,"comment_id":30597045,"body_markdown":"Problem with this is it throws statelessness out the window.","body":"Problem with this is it throws statelessness out the window."},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":0,"creation_date":1386666283,"post_id":20473894,"comment_id":30624625,"body_markdown":"@Rob and what&#39;s the problem with that?","body":"@Rob and what&#39;s the problem with that?"},{"owner":{"account_id":140434,"reputation":11503,"user_id":346741,"accept_rate":84,"display_name":"Rob"},"score":0,"creation_date":1386686498,"post_id":20473894,"comment_id":30637585,"body_markdown":"One of the main points of lambda is to not have mutable state so that the internal integrators can parallelism the work.","body":"One of the main points of lambda is to not have mutable state so that the internal integrators can parallelism the work."},{"owner":{"account_id":1540536,"reputation":943,"user_id":2866565,"display_name":"jpvee"},"score":0,"creation_date":1386686851,"post_id":20473894,"comment_id":30637814,"body_markdown":"@Rob: Yeah, you are right, but the given example stream defies parallelism anyway as each item (except the first and last ones) is used as a first and a second item of some pair.","body":"@Rob: Yeah, you are right, but the given example stream defies parallelism anyway as each item (except the first and last ones) is used as a first and a second item of some pair."},{"owner":{"account_id":140434,"reputation":11503,"user_id":346741,"accept_rate":84,"display_name":"Rob"},"score":0,"creation_date":1386687186,"post_id":20473894,"comment_id":30638022,"body_markdown":"@jpvee yeah I figured that&#39;s what you were thinking. I wonder though if there is not a way to do this with some other mapper. In essence all you&#39;d need would be the equivalent of making the loop incrementer go by twos then have the functor take 2 arguments. That must be possible.","body":"@jpvee yeah I figured that&#39;s what you were thinking. I wonder though if there is not a way to do this with some other mapper. In essence all you&#39;d need would be the equivalent of making the loop incrementer go by twos then have the functor take 2 arguments. That must be possible."},{"owner":{"account_id":140434,"reputation":11503,"user_id":346741,"accept_rate":84,"display_name":"Rob"},"score":0,"creation_date":1386687470,"post_id":20473894,"comment_id":30638210,"body_markdown":"Wait that would not work because the result pairs overlap. Of course you could have the non overlapping pairs made then make the overlapping ones from the created ones. But that would be mutlipass. Would be interesting to see how that would perform.","body":"Wait that would not work because the result pairs overlap. Of course you could have the non overlapping pairs made then make the overlapping ones from the created ones. But that would be mutlipass. Would be interesting to see how that would perform."},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":0,"creation_date":1386854330,"post_id":20473894,"comment_id":30721010,"body_markdown":"@Rob Prematurely optimize much? I don&#39;t get the whole emphasis on parallelism with streams. Parallelism is for special situations only. Besides, you can just put `.parallel()` *after* the `map(byPairs)`.","body":"@Rob Prematurely optimize much? I don&#39;t get the whole emphasis on parallelism with streams. Parallelism is for special situations only. Besides, you can just put <code>.parallel()</code> <i>after</i> the <code>map(byPairs)</code>."}],"tags":[],"owner":{"account_id":1540536,"reputation":943,"user_id":2866565,"display_name":"jpvee"},"comment_count":7,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1386601764,"creation_date":1386601764,"answer_id":20473894,"question_id":20470010,"body_markdown":"In your case, I would write my custom IntFunction which keeps track of the last int passed and use that to map the original IntStream.\r\n\r\n    import java.util.function.IntFunction;\r\n    import java.util.stream.IntStream;\r\n    \r\n    public class PairFunction implements IntFunction&lt;PairFunction.Pair&gt; {\r\n    \r\n      public static class Pair {\r\n    \r\n        private final int first;\r\n        private final int second;\r\n    \r\n        public Pair(int first, int second) {\r\n          this.first = first;\r\n          this.second = second;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n          return &quot;[&quot; + first + &quot;|&quot; + second + &quot;]&quot;;\r\n        }\r\n      }\r\n    \r\n      private int last;\r\n      private boolean first = true;\r\n    \r\n      @Override\r\n      public Pair apply(int value) {\r\n        Pair pair = !first ? new Pair(last, value) : null;\r\n        last = value;\r\n        first = false;\r\n        return pair;\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n    \r\n        IntStream intStream = IntStream.of(0, 1, 2, 3, 4);\r\n        final PairFunction pairFunction = new PairFunction();\r\n        intStream.mapToObj(pairFunction)\r\n            .filter(p -&gt; p != null) // filter out the null\r\n            .forEach(System.out::println); // display each Pair\r\n    \r\n      }\r\n    \r\n    }\r\n","title":"Collect successive pairs from a stream","body":"<p>In your case, I would write my custom IntFunction which keeps track of the last int passed and use that to map the original IntStream.</p>\n\n<pre><code>import java.util.function.IntFunction;\nimport java.util.stream.IntStream;\n\npublic class PairFunction implements IntFunction&lt;PairFunction.Pair&gt; {\n\n  public static class Pair {\n\n    private final int first;\n    private final int second;\n\n    public Pair(int first, int second) {\n      this.first = first;\n      this.second = second;\n    }\n\n    @Override\n    public String toString() {\n      return \"[\" + first + \"|\" + second + \"]\";\n    }\n  }\n\n  private int last;\n  private boolean first = true;\n\n  @Override\n  public Pair apply(int value) {\n    Pair pair = !first ? new Pair(last, value) : null;\n    last = value;\n    first = false;\n    return pair;\n  }\n\n  public static void main(String[] args) {\n\n    IntStream intStream = IntStream.of(0, 1, 2, 3, 4);\n    final PairFunction pairFunction = new PairFunction();\n    intStream.mapToObj(pairFunction)\n        .filter(p -&gt; p != null) // filter out the null\n        .forEach(System.out::println); // display each Pair\n\n  }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":0,"creation_date":1386666180,"post_id":20477627,"comment_id":30624584,"body_markdown":"Does that repeat every element twice?","body":"Does that repeat every element twice?"},{"owner":{"account_id":1980258,"reputation":9244,"user_id":1777058,"accept_rate":100,"display_name":"Tomek Rkawek"},"score":0,"creation_date":1386667800,"post_id":20477627,"comment_id":30625566,"body_markdown":"Nope. It creates a new stream containing `List&lt;E&gt;` elements. Each list contains `n` consecutive elements from the original stream. Check it yourself ;)","body":"Nope. It creates a new stream containing <code>List&lt;E&gt;</code> elements. Each list contains <code>n</code> consecutive elements from the original stream. Check it yourself ;)"},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":0,"creation_date":1386673217,"post_id":20477627,"comment_id":30628892,"body_markdown":"Could you modify your answer so that every element (except the first and last) is repeated?","body":"Could you modify your answer so that every element (except the first and last) is repeated?"},{"owner":{"account_id":1980258,"reputation":9244,"user_id":1777058,"accept_rate":100,"display_name":"Tomek Rkawek"},"score":0,"creation_date":1386682643,"post_id":20477627,"comment_id":30634875,"body_markdown":"Sorry, I didn&#39;t notice that elements should be repeated. I&#39;ve fixed my solution.","body":"Sorry, I didn&#39;t notice that elements should be repeated. I&#39;ve fixed my solution."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":4,"creation_date":1396601460,"post_id":20477627,"comment_id":34871648,"body_markdown":"+1 I think this is good work and should be generalized to any step size in addition to the partition size. There is a lot of need for a `(partition size step)` function and this is about the best way to get it.","body":"+1 I think this is good work and should be generalized to any step size in addition to the partition size. There is a lot of need for a <code>(partition size step)</code> function and this is about the best way to get it."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":3,"creation_date":1396601548,"post_id":20477627,"comment_id":34871709,"body_markdown":"Consider using `ArrayDeque` for performance, in preference to `LinkedList`.","body":"Consider using <code>ArrayDeque</code> for performance, in preference to <code>LinkedList</code>."},{"owner":{"account_id":197679,"reputation":14930,"user_id":441899,"accept_rate":79,"display_name":"Jules"},"score":0,"creation_date":1469928393,"post_id":20477627,"comment_id":64739555,"body_markdown":"The value assigned to `dequeConsumer` (`new Consumer&lt;T&gt;() ...`) is somewhat unnecessarily wordy for Java 8.  It can be replaced with `deque::addLast` which is a lot clearer.","body":"The value assigned to <code>dequeConsumer</code> (<code>new Consumer&lt;T&gt;() ...</code>) is somewhat unnecessarily wordy for Java 8.  It can be replaced with <code>deque::addLast</code> which is a lot clearer."},{"owner":{"account_id":2628094,"reputation":304,"user_id":2274709,"display_name":"chrosciu"},"score":0,"creation_date":1674722420,"post_id":20477627,"comment_id":132775497,"body_markdown":"If `step` parameter should be also taken into account, just replace `deque.pollFirst();` statement with `for (int i = 0; i &lt; step &amp;&amp; deque.pollFirst() != null; ++i) {}` loop","body":"If <code>step</code> parameter should be also taken into account, just replace <code>deque.pollFirst();</code> statement with <code>for (int i = 0; i &lt; step &amp;&amp; deque.pollFirst() != null; ++i) {}</code> loop"}],"tags":[],"owner":{"account_id":1980258,"reputation":9244,"user_id":1777058,"accept_rate":100,"display_name":"Tomek Rkawek"},"comment_count":8,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1523827585,"creation_date":1386612717,"answer_id":20477627,"question_id":20470010,"body_markdown":"I&#39;ve implemented a spliterator wrapper which takes every `n` elements `T` from the original spliterator and produces `List&lt;T&gt;`:\r\n\r\n    public class ConsecutiveSpliterator&lt;T&gt; implements Spliterator&lt;List&lt;T&gt;&gt; {\r\n    \r\n    \tprivate final Spliterator&lt;T&gt; wrappedSpliterator;\r\n    \r\n    \tprivate final int n;\r\n    \r\n    \tprivate final Deque&lt;T&gt; deque;\r\n    \r\n    \tprivate final Consumer&lt;T&gt; dequeConsumer;\r\n    \r\n    \tpublic ConsecutiveSpliterator(Spliterator&lt;T&gt; wrappedSpliterator, int n) {\r\n    \t\tthis.wrappedSpliterator = wrappedSpliterator;\r\n    \t\tthis.n = n;\r\n    \t\tthis.deque = new ArrayDeque&lt;&gt;();\r\n    \t\tthis.dequeConsumer = deque::addLast;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean tryAdvance(Consumer&lt;? super List&lt;T&gt;&gt; action) {\r\n    \t\tdeque.pollFirst();\r\n    \t\tfillDeque();\r\n    \t\tif (deque.size() == n) {\r\n    \t\t\tList&lt;T&gt; list = new ArrayList&lt;&gt;(deque);\r\n    \t\t\taction.accept(list);\r\n    \t\t\treturn true;\r\n    \t\t} else {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void fillDeque() {\r\n    \t\twhile (deque.size() &lt; n &amp;&amp; wrappedSpliterator.tryAdvance(dequeConsumer))\r\n    \t\t\t;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Spliterator&lt;List&lt;T&gt;&gt; trySplit() {\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic long estimateSize() {\r\n    \t\treturn wrappedSpliterator.estimateSize();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int characteristics() {\r\n    \t\treturn wrappedSpliterator.characteristics();\r\n    \t}\r\n    }\r\n\r\nFollowing method may be used to create a consecutive stream:\r\n\r\n    public &lt;E&gt; Stream&lt;List&lt;E&gt;&gt; consecutiveStream(Stream&lt;E&gt; stream, int n) {\r\n    \tSpliterator&lt;E&gt; spliterator = stream.spliterator();\r\n    \tSpliterator&lt;List&lt;E&gt;&gt; wrapper = new ConsecutiveSpliterator&lt;&gt;(spliterator, n);\r\n    \treturn StreamSupport.stream(wrapper, false);\r\n    }\r\n\r\nSample usage:\r\n\r\n    consecutiveStream(Stream.of(0, 1, 2, 3, 4, 5), 2)\r\n        .map(list -&gt; new Pair(list.get(0), list.get(1)))\r\n        .forEach(System.out::println);","title":"Collect successive pairs from a stream","body":"<p>I've implemented a spliterator wrapper which takes every <code>n</code> elements <code>T</code> from the original spliterator and produces <code>List&lt;T&gt;</code>:</p>\n\n<pre><code>public class ConsecutiveSpliterator&lt;T&gt; implements Spliterator&lt;List&lt;T&gt;&gt; {\n\n    private final Spliterator&lt;T&gt; wrappedSpliterator;\n\n    private final int n;\n\n    private final Deque&lt;T&gt; deque;\n\n    private final Consumer&lt;T&gt; dequeConsumer;\n\n    public ConsecutiveSpliterator(Spliterator&lt;T&gt; wrappedSpliterator, int n) {\n        this.wrappedSpliterator = wrappedSpliterator;\n        this.n = n;\n        this.deque = new ArrayDeque&lt;&gt;();\n        this.dequeConsumer = deque::addLast;\n    }\n\n    @Override\n    public boolean tryAdvance(Consumer&lt;? super List&lt;T&gt;&gt; action) {\n        deque.pollFirst();\n        fillDeque();\n        if (deque.size() == n) {\n            List&lt;T&gt; list = new ArrayList&lt;&gt;(deque);\n            action.accept(list);\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    private void fillDeque() {\n        while (deque.size() &lt; n &amp;&amp; wrappedSpliterator.tryAdvance(dequeConsumer))\n            ;\n    }\n\n    @Override\n    public Spliterator&lt;List&lt;T&gt;&gt; trySplit() {\n        return null;\n    }\n\n    @Override\n    public long estimateSize() {\n        return wrappedSpliterator.estimateSize();\n    }\n\n    @Override\n    public int characteristics() {\n        return wrappedSpliterator.characteristics();\n    }\n}\n</code></pre>\n\n<p>Following method may be used to create a consecutive stream:</p>\n\n<pre><code>public &lt;E&gt; Stream&lt;List&lt;E&gt;&gt; consecutiveStream(Stream&lt;E&gt; stream, int n) {\n    Spliterator&lt;E&gt; spliterator = stream.spliterator();\n    Spliterator&lt;List&lt;E&gt;&gt; wrapper = new ConsecutiveSpliterator&lt;&gt;(spliterator, n);\n    return StreamSupport.stream(wrapper, false);\n}\n</code></pre>\n\n<p>Sample usage:</p>\n\n<pre><code>consecutiveStream(Stream.of(0, 1, 2, 3, 4, 5), 2)\n    .map(list -&gt; new Pair(list.get(0), list.get(1)))\n    .forEach(System.out::println);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":0,"creation_date":1386720581,"post_id":20507088,"comment_id":30657367,"body_markdown":"Indeed, `zip` was removed. I don&#39;t remember all of what was on the `Streams` class, but some things have migrated to be static methods on the `Stream` interface, and there are also `StreamSupport` and `Stream.Builder` classes.","body":"Indeed, <code>zip</code> was removed. I don&#39;t remember all of what was on the <code>Streams</code> class, but some things have migrated to be static methods on the <code>Stream</code> interface, and there are also <code>StreamSupport</code> and <code>Stream.Builder</code> classes."},{"owner":{"account_id":1397989,"reputation":1978,"user_id":1327374,"display_name":"gadget"},"score":0,"creation_date":1386767634,"post_id":20507088,"comment_id":30677686,"body_markdown":"That&#39;s right. Some other methods like concat or iterate has been moved and became default methods in Stream. Sadly zip was just removed from the API. I understand the reasons behind this choice (e.g. lack of Tuples) but still it was a nice feature.","body":"That&#39;s right. Some other methods like concat or iterate has been moved and became default methods in Stream. Sadly zip was just removed from the API. I understand the reasons behind this choice (e.g. lack of Tuples) but still it was a nice feature."},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":3,"creation_date":1386769662,"post_id":20507088,"comment_id":30678976,"body_markdown":"@gadget What do tuples have to do with `zip`? Whatever pedantic reason might be invented does not justify killing `zip`.","body":"@gadget What do tuples have to do with <code>zip</code>? Whatever pedantic reason might be invented does not justify killing <code>zip</code>."},{"owner":{"account_id":1397989,"reputation":1978,"user_id":1327374,"display_name":"gadget"},"score":0,"creation_date":1386774737,"post_id":20507088,"comment_id":30682291,"body_markdown":"@AleksandrDubinsky In most cases zip is used to produce a collection of Pairs/Tuples as an output. They [argued](http://mail.openjdk.java.net/pipermail/lambda-libs-spec-experts/2013-June/001902.html) that if they kept zip people would ask for Tuples as part of the JDK as well. I would have never removed an existing feature though.","body":"@AleksandrDubinsky In most cases zip is used to produce a collection of Pairs/Tuples as an output. They <a href=\"http://mail.openjdk.java.net/pipermail/lambda-libs-spec-experts/2013-June/001902.html\" rel=\"nofollow noreferrer\">argued</a> that if they kept zip people would ask for Tuples as part of the JDK as well. I would have never removed an existing feature though."}],"tags":[],"owner":{"account_id":1397989,"reputation":1978,"user_id":1327374,"display_name":"gadget"},"comment_count":4,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1386718054,"creation_date":1386716131,"answer_id":20507088,"question_id":20470010,"body_markdown":"An elegant solution would be to use [zip][1]. Something like:\r\n\r\n    List&lt;Integer&gt; input = Arrays.asList(0, 1, 2, 3, 4);\r\n    Stream&lt;Pair&gt; pairStream = Streams.zip(input.stream(),\r\n                                          input.stream().substream(1),\r\n                                          (a, b) -&gt; new Pair(a, b)\r\n    );\r\n\r\nThis is pretty concise and elegant, however it uses a list as an input. An infinite stream source cannot be processed this way.\r\n\r\nAnother (lot more troublesome) issue is that zip together with the entire Streams class has been lately removed from the API. The above code only works with [b95][2] or older releases. So with the latest JDK I would say there is no elegant FP style solution and right now we can just hope that in some way zip will be reintroduced to the API.\r\n\r\n  [1]: http://download.java.net/lambda/b95/docs/api/java/util/stream/Streams.html#zip%28java.util.stream.Stream,%20java.util.stream.Stream,%20java.util.function.BiFunction%29\r\n  [2]: http://download.java.net/lambda/b95/","title":"Collect successive pairs from a stream","body":"<p>An elegant solution would be to use <a href=\"http://download.java.net/lambda/b95/docs/api/java/util/stream/Streams.html#zip%28java.util.stream.Stream,%20java.util.stream.Stream,%20java.util.function.BiFunction%29\" rel=\"nofollow\">zip</a>. Something like:</p>\n\n<pre><code>List&lt;Integer&gt; input = Arrays.asList(0, 1, 2, 3, 4);\nStream&lt;Pair&gt; pairStream = Streams.zip(input.stream(),\n                                      input.stream().substream(1),\n                                      (a, b) -&gt; new Pair(a, b)\n);\n</code></pre>\n\n<p>This is pretty concise and elegant, however it uses a list as an input. An infinite stream source cannot be processed this way.</p>\n\n<p>Another (lot more troublesome) issue is that zip together with the entire Streams class has been lately removed from the API. The above code only works with <a href=\"http://download.java.net/lambda/b95/\" rel=\"nofollow\">b95</a> or older releases. So with the latest JDK I would say there is no elegant FP style solution and right now we can just hope that in some way zip will be reintroduced to the API.</p>\n"},{"comments":[{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":5,"creation_date":1432850829,"post_id":20507988,"comment_id":49110748,"body_markdown":"&quot;The input cannot be an infinite stream.&quot; Actually, the input cannot be a stream at all. The input (`arrayList`) is in fact a collection, which is why I didn&#39;t mark it as the answer. (But congrats on your gold badge!)","body":"&quot;The input cannot be an infinite stream.&quot; Actually, the input cannot be a stream at all. The input (<code>arrayList</code>) is in fact a collection, which is why I didn&#39;t mark it as the answer. (But congrats on your gold badge!)"},{"owner":{"account_id":2850152,"reputation":503,"user_id":2447533,"accept_rate":100,"display_name":"Stacky"},"score":0,"creation_date":1626049517,"post_id":20507988,"comment_id":120781451,"body_markdown":"is there a way in streams to conditionally skip next iteration i.e. increment forEach or mapToObj index to i+2 instead of i+1? Is that is not a recommended use case for streams or functional programming in java?","body":"is there a way in streams to conditionally skip next iteration i.e. increment forEach or mapToObj index to i+2 instead of i+1? Is that is not a recommended use case for streams or functional programming in java?"}],"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"comment_count":2,"down_vote_count":1,"up_vote_count":85,"is_accepted":false,"score":84,"last_activity_date":1386720465,"creation_date":1386720465,"answer_id":20507988,"question_id":20470010,"body_markdown":"The Java 8 streams library is primarily geared toward splitting streams into smaller chunks for parallel processing, so stateful pipeline stages are quite limited, and doing things like getting the index of the current stream element and accessing adjacent stream elements are not supported.\r\n\r\nA typical way to solve these problems, with some limitations, of course, is to drive the stream by indexes and rely on having the values being processed in some random-access data structure like an ArrayList from which the elements can be retrieved. If the values were in `arrayList`, one could generate the pairs as requested by doing something like this:\r\n\r\n        IntStream.range(1, arrayList.size())\r\n                 .mapToObj(i -&gt; new Pair(arrayList.get(i-1), arrayList.get(i)))\r\n                 .forEach(System.out::println);\r\n\r\nOf course the limitation is that the input cannot be an infinite stream. This pipeline can be run in parallel, though.","title":"Collect successive pairs from a stream","body":"<p>The Java 8 streams library is primarily geared toward splitting streams into smaller chunks for parallel processing, so stateful pipeline stages are quite limited, and doing things like getting the index of the current stream element and accessing adjacent stream elements are not supported.</p>\n\n<p>A typical way to solve these problems, with some limitations, of course, is to drive the stream by indexes and rely on having the values being processed in some random-access data structure like an ArrayList from which the elements can be retrieved. If the values were in <code>arrayList</code>, one could generate the pairs as requested by doing something like this:</p>\n\n<pre><code>    IntStream.range(1, arrayList.size())\n             .mapToObj(i -&gt; new Pair(arrayList.get(i-1), arrayList.get(i)))\n             .forEach(System.out::println);\n</code></pre>\n\n<p>Of course the limitation is that the input cannot be an infinite stream. This pipeline can be run in parallel, though.</p>\n"},{"comments":[{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":0,"creation_date":1432854375,"post_id":20508885,"comment_id":49111956,"body_markdown":"The question asks to collect successive elements of an input stream, not merely to collect successive integers. An important clarification of terminology: `Stream` != &quot;lambdas&quot;.","body":"The question asks to collect successive elements of an input stream, not merely to collect successive integers. An important clarification of terminology: <code>Stream</code> != &quot;lambdas&quot;."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1432879797,"post_id":20508885,"comment_id":49118453,"body_markdown":"You could replace AtomicInteger by an AtomicReference. The alternative is to roll your own collector or use external libraries such as in this example: http://stackoverflow.com/a/30090528/829571","body":"You could replace AtomicInteger by an AtomicReference. The alternative is to roll your own collector or use external libraries such as in this example: <a href=\"http://stackoverflow.com/a/30090528/829571\">stackoverflow.com/a/30090528/829571</a>"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1432884468,"post_id":20508885,"comment_id":49120896,"body_markdown":"See my edit. Also I&#39;m not sure I understand your comment on lambda != stream. The other answer that uses an anonymous class does essentially the same thing except that the state is held by the anonymous class instead of being external...","body":"See my edit. Also I&#39;m not sure I understand your comment on lambda != stream. The other answer that uses an anonymous class does essentially the same thing except that the state is held by the anonymous class instead of being external..."},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":1,"creation_date":1432919753,"post_id":20508885,"comment_id":49144441,"body_markdown":"That works. The `StreamEx` library is also a good find and could be an answer in itself. My comment on &quot;streams != lambdas&quot; refers to you stating &quot;The operation is essentially stateful so not really what lambdas are meant to solve.&quot; I think you meant to use the word &quot;streams&quot;.","body":"That works. The <code>StreamEx</code> library is also a good find and could be an answer in itself. My comment on &quot;streams != lambdas&quot; refers to you stating &quot;The operation is essentially stateful so not really what lambdas are meant to solve.&quot; I think you meant to use the word &quot;streams&quot;."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1432920219,"post_id":20508885,"comment_id":49144689,"body_markdown":"Oh I see - I&#39;ve clarified that.","body":"Oh I see - I&#39;ve clarified that."}],"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":5,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1432920194,"creation_date":1386725715,"answer_id":20508885,"question_id":20470010,"body_markdown":"The operation is essentially stateful so not really what streams are meant to solve - see the &quot;Stateless Behaviors&quot; section in the [javadoc][1]:\r\n\r\n&gt; The best approach is to avoid stateful behavioral parameters to stream operations entirely\r\n\r\nOne solution here is to introduce state in your stream through an external counter, although it will only work with a sequential stream.\r\n\r\n    public static void main(String[] args) {\r\n        Stream&lt;String&gt; strings = Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;c&quot;);\r\n        AtomicReference&lt;String&gt; previous = new AtomicReference&lt;&gt;();\r\n        List&lt;Pair&gt; collect = strings.map(n -&gt; {\r\n                                String p = previous.getAndSet(n);\r\n                                return p == null ? null : new Pair(p, n);\r\n                            })\r\n                            .filter(p -&gt; p != null)\r\n                            .collect(toList());\r\n        System.out.println(collect);\r\n    }\r\n\r\n\r\n    static class Pair&lt;T&gt; {\r\n        private T left, right;\r\n        Pair(T left, T right) { this.left = left; this.right = right; }\r\n        @Override public String toString() { return &quot;{&quot; + left + &quot;,&quot; + right + &#39;}&#39;; }\r\n    }\r\n\r\n [1]: http://download.java.net/jdk8/docs/api/java/util/stream/package-summary.html","title":"Collect successive pairs from a stream","body":"<p>The operation is essentially stateful so not really what streams are meant to solve - see the \"Stateless Behaviors\" section in the <a href=\"http://download.java.net/jdk8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow\">javadoc</a>:</p>\n\n<blockquote>\n  <p>The best approach is to avoid stateful behavioral parameters to stream operations entirely</p>\n</blockquote>\n\n<p>One solution here is to introduce state in your stream through an external counter, although it will only work with a sequential stream.</p>\n\n<pre><code>public static void main(String[] args) {\n    Stream&lt;String&gt; strings = Stream.of(\"a\", \"b\", \"c\", \"c\");\n    AtomicReference&lt;String&gt; previous = new AtomicReference&lt;&gt;();\n    List&lt;Pair&gt; collect = strings.map(n -&gt; {\n                            String p = previous.getAndSet(n);\n                            return p == null ? null : new Pair(p, n);\n                        })\n                        .filter(p -&gt; p != null)\n                        .collect(toList());\n    System.out.println(collect);\n}\n\n\nstatic class Pair&lt;T&gt; {\n    private T left, right;\n    Pair(T left, T right) { this.left = left; this.right = right; }\n    @Override public String toString() { return \"{\" + left + \",\" + right + '}'; }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":0,"creation_date":1425553869,"post_id":28858672,"comment_id":46014895,"body_markdown":"However, it looks like you need to create `st` twice! Can this library solve the problem using a single stream?","body":"However, it looks like you need to create <code>st</code> twice! Can this library solve the problem using a single stream?"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1425560963,"post_id":28858672,"comment_id":46018925,"body_markdown":"@AleksandrDubinsky I don&#39;t think so it&#39;s available with the current spliterators. I submitted an issue https://github.com/poetix/protonpack/issues/9","body":"@AleksandrDubinsky I don&#39;t think so it&#39;s available with the current spliterators. I submitted an issue <a href=\"https://github.com/poetix/protonpack/issues/9\" rel=\"nofollow noreferrer\">github.com/poetix/protonpack/issues/9</a>"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1426258426,"post_id":28858672,"comment_id":46311417,"body_markdown":"@AleksandrDubinsky The `windowed` functionality has been added! See the edit.","body":"@AleksandrDubinsky The <code>windowed</code> functionality has been added! See the edit."},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":1,"creation_date":1426265745,"post_id":28858672,"comment_id":46316209,"body_markdown":"Why don&#39;t you delete your old answer, so that other users can see the solution, not history.","body":"Why don&#39;t you delete your old answer, so that other users can see the solution, not history."}],"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"comment_count":4,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1426265936,"creation_date":1425483897,"answer_id":28858672,"question_id":20470010,"body_markdown":"The [proton-pack library][1] provides the windowed functionnality. Given a Pair class and a Stream, you can do it like this:\r\n\r\n    Stream&lt;Integer&gt; st = Stream.iterate(0 , x -&gt; x + 1);\r\n    Stream&lt;Pair&lt;Integer, Integer&gt;&gt; pairs = StreamUtils.windowed(st, 2, 1)\r\n                                                      .map(l -&gt; new Pair&lt;&gt;(l.get(0), l.get(1)))\r\n                                                      .moreStreamOps(...);\r\n        \r\n\r\nNow the `pairs` stream contains:\r\n\r\n    (0, 1)\r\n    (1, 2)\r\n    (2, 3)\r\n    (3, 4)\r\n    (4, ...) and so on\r\n\r\n\r\n\r\n  [1]: https://github.com/poetix/protonpack","title":"Collect successive pairs from a stream","body":"<p>The <a href=\"https://github.com/poetix/protonpack\" rel=\"nofollow\">proton-pack library</a> provides the windowed functionnality. Given a Pair class and a Stream, you can do it like this:</p>\n\n<pre><code>Stream&lt;Integer&gt; st = Stream.iterate(0 , x -&gt; x + 1);\nStream&lt;Pair&lt;Integer, Integer&gt;&gt; pairs = StreamUtils.windowed(st, 2, 1)\n                                                  .map(l -&gt; new Pair&lt;&gt;(l.get(0), l.get(1)))\n                                                  .moreStreamOps(...);\n</code></pre>\n\n<p>Now the <code>pairs</code> stream contains:</p>\n\n<pre><code>(0, 1)\n(1, 2)\n(2, 3)\n(3, 4)\n(4, ...) and so on\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4093298,"reputation":4962,"user_id":3360759,"display_name":"frhack"},"score":0,"creation_date":1452377521,"post_id":29334726,"comment_id":57145094,"body_markdown":"This way you obtain [(0,1)(2,3) ...] but the question asks [(0,1)(1,2) ...]. Please see my answer with RxJava...","body":"This way you obtain [(0,1)(2,3) ...] but the question asks [(0,1)(1,2) ...]. Please see my answer with RxJava..."},{"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"score":1,"creation_date":1452467770,"post_id":29334726,"comment_id":57170215,"body_markdown":"You are right, my bad, I misread the question - the sliding operator is the correct one to use here. I&#39;ll update my answer - thanks!","body":"You are right, my bad, I misread the question - the sliding operator is the correct one to use here. I&#39;ll update my answer - thanks!"}],"tags":[],"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"comment_count":2,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1458552956,"creation_date":1427662479,"answer_id":29334726,"question_id":20470010,"body_markdown":"You can do this in [cyclops-react][1] (I contribute to this library), using the sliding operator.\r\n\r\n      LazyFutureStream.of( 0, 1, 2, 3, 4 )\r\n                      .sliding(2)\r\n                      .map(Pair::new);\r\n\r\nOr \r\n\r\n       ReactiveSeq.of( 0, 1, 2, 3, 4 )\r\n                      .sliding(2)\r\n                      .map(Pair::new);\r\n\r\nAssuming the Pair constructor can accept a Collection with 2 elements. \r\n\r\nIf you wanted to group by 4, and increment by 2 that is also supported.\r\n\r\n         ReactiveSeq.rangeLong( 0L,Long.MAX_VALUE)\r\n                    .sliding(4,2)\r\n                    .forEach(System.out::println);\r\n\r\nEquivalant static methods for creating a sliding view over java.util.stream.Stream are also provided in cyclops-streams [StreamUtils][3] class.\r\n\r\n           StreamUtils.sliding(Stream.of(1,2,3,4),2)\r\n                      .map(Pair::new);\r\n \r\nNote :- for single-threaded operation ReactiveSeq would be more appropriate. LazyFutureStream extends ReactiveSeq but is primarily geared for concurrent / parallel use (it is a Stream of Futures).\r\n\r\nLazyFutureStream extends ReactiveSeq which extends Seq from the awesome jOO (which extends java.util.stream.Stream), so the solutions Lukas&#39; presents would also work with either Stream type. For anyone interested the primary differences between the window / sliding operators are the obvious  relative power / complexity trade off and suitability for use with infinite streams (sliding doesn&#39;t consume the stream, but buffers as it flows). \r\n  \r\n\r\n\r\n  [1]: https://github.com/aol/cyclops-react\r\n  [2]: https://github.com/aol/cyclops/tree/master/cyclops-streams\r\n  [3]: http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-RC2.2/com/aol/cyclops/util/stream/StreamUtils.html","title":"Collect successive pairs from a stream","body":"<p>You can do this in <a href=\"https://github.com/aol/cyclops-react\" rel=\"nofollow\">cyclops-react</a> (I contribute to this library), using the sliding operator.</p>\n\n<pre><code>  LazyFutureStream.of( 0, 1, 2, 3, 4 )\n                  .sliding(2)\n                  .map(Pair::new);\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>   ReactiveSeq.of( 0, 1, 2, 3, 4 )\n                  .sliding(2)\n                  .map(Pair::new);\n</code></pre>\n\n<p>Assuming the Pair constructor can accept a Collection with 2 elements. </p>\n\n<p>If you wanted to group by 4, and increment by 2 that is also supported.</p>\n\n<pre><code>     ReactiveSeq.rangeLong( 0L,Long.MAX_VALUE)\n                .sliding(4,2)\n                .forEach(System.out::println);\n</code></pre>\n\n<p>Equivalant static methods for creating a sliding view over java.util.stream.Stream are also provided in cyclops-streams <a href=\"http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-RC2.2/com/aol/cyclops/util/stream/StreamUtils.html\" rel=\"nofollow\">StreamUtils</a> class.</p>\n\n<pre><code>       StreamUtils.sliding(Stream.of(1,2,3,4),2)\n                  .map(Pair::new);\n</code></pre>\n\n<p>Note :- for single-threaded operation ReactiveSeq would be more appropriate. LazyFutureStream extends ReactiveSeq but is primarily geared for concurrent / parallel use (it is a Stream of Futures).</p>\n\n<p>LazyFutureStream extends ReactiveSeq which extends Seq from the awesome jOO (which extends java.util.stream.Stream), so the solutions Lukas' presents would also work with either Stream type. For anyone interested the primary differences between the window / sliding operators are the obvious  relative power / complexity trade off and suitability for use with infinite streams (sliding doesn't consume the stream, but buffers as it flows). </p>\n"},{"comments":[{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":1,"creation_date":1432854096,"post_id":30498650,"comment_id":49111877,"body_markdown":"Right. But this simply collects pairs of integers, not pairs of elements of a stream (of any type).","body":"Right. But this simply collects pairs of integers, not pairs of elements of a stream (of any type)."},{"owner":{"account_id":12863154,"reputation":402,"user_id":9304291,"display_name":"Marek Borecki"},"score":0,"creation_date":1635586776,"post_id":30498650,"comment_id":123341921,"body_markdown":"It doesn&#39;t work for  collection eg. fibonacci 1, 2, 3, 5, 8, 13...","body":"It doesn&#39;t work for  collection eg. fibonacci 1, 2, 3, 5, 8, 13..."}],"tags":[],"owner":{"account_id":2250475,"reputation":45,"user_id":1982816,"display_name":"DArt"},"comment_count":2,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1432794067,"creation_date":1432794067,"answer_id":30498650,"question_id":20470010,"body_markdown":"I agree with @aepurniet\r\nbut instead map you have to use mapToObj\r\n\r\n    range(0, 100).mapToObj((i) -&gt; new Pair(i, i+1)).forEach(System.out::println);","title":"Collect successive pairs from a stream","body":"<p>I agree with @aepurniet\nbut instead map you have to use mapToObj</p>\n\n<pre><code>range(0, 100).mapToObj((i) -&gt; new Pair(i, i+1)).forEach(System.out::println);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":0,"creation_date":1432998644,"post_id":30542049,"comment_id":49167812,"body_markdown":"Thank you! The more I study this library, the more I love it. I might finally start using streams. (`StreamEx` implements `Iterable`! Hurrah!)","body":"Thank you! The more I study this library, the more I love it. I might finally start using streams. (<code>StreamEx</code> implements <code>Iterable</code>! Hurrah!)"},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":0,"creation_date":1432998931,"post_id":30542049,"comment_id":49167912,"body_markdown":"To make your answer 100% complete, could you show how to wrap a `Stream` into a `StreamEx`?","body":"To make your answer 100% complete, could you show how to wrap a <code>Stream</code> into a <code>StreamEx</code>?"},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":3,"creation_date":1433001976,"post_id":30542049,"comment_id":49168877,"body_markdown":"@AleksandrDubinsky: just use [`StreamEx.of(stream)`](http://amaembo.github.io/streamex/javadoc/javax/util/streamex/StreamEx.html#of-java.util.stream.Stream-). There are other convenient static methods to create the stream from `Collection`, array, `Reader`, etc. Edited the answer.","body":"@AleksandrDubinsky: just use <a href=\"http://amaembo.github.io/streamex/javadoc/javax/util/streamex/StreamEx.html#of-java.util.stream.Stream-\" rel=\"nofollow noreferrer\"><code>StreamEx.of(stream)</code></a>. There are other convenient static methods to create the stream from <code>Collection</code>, array, <code>Reader</code>, etc. Edited the answer."},{"owner":{"account_id":372736,"reputation":2561,"user_id":721956,"accept_rate":54,"display_name":"Askar Kalykov"},"score":0,"creation_date":1445239119,"post_id":30542049,"comment_id":54221737,"body_markdown":"@TagirValeev is `pairMap` ordered on sequental streams? Actually, I would like to have forPairsOrdered(), but as there is no such method, can I simulate it somehow? `stream.ordered().forPairs()` or `stream().pairMap().forEachOrdered()`?","body":"@TagirValeev is <code>pairMap</code> ordered on sequental streams? Actually, I would like to have forPairsOrdered(), but as there is no such method, can I simulate it somehow? <code>stream.ordered().forPairs()</code> or <code>stream().pairMap().forEachOrdered()</code>?"},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":1,"creation_date":1445239977,"post_id":30542049,"comment_id":54222219,"body_markdown":"@AskarKalykov, the `pairMap` is the intermediate operation with non-interfering stateless mapper function, the ordering is not specified for it in the same way as for simple `map`. The `forPairs` is unordered by specification, but unordered operations are de-facto ordered for sequential streams. It would be nice if you formulate your original problem as separate stackoverflow question to provide more context.","body":"@AskarKalykov, the <code>pairMap</code> is the intermediate operation with non-interfering stateless mapper function, the ordering is not specified for it in the same way as for simple <code>map</code>. The <code>forPairs</code> is unordered by specification, but unordered operations are de-facto ordered for sequential streams. It would be nice if you formulate your original problem as separate stackoverflow question to provide more context."}],"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"comment_count":5,"down_vote_count":1,"up_vote_count":40,"is_accepted":true,"score":39,"last_activity_date":1448012173,"creation_date":1432957792,"answer_id":30542049,"question_id":20470010,"body_markdown":"My [StreamEx](https://github.com/amaembo/streamex) library which extends standard streams provides a [`pairMap`](http://amaembo.github.io/streamex/javadoc/javax/util/streamex/StreamEx.html#pairMap-java.util.function.BiFunction-) method for all stream types. For primitive streams it does not change the stream type, but can be used to make some calculations. Most common usage is to calculate differences:\r\n\r\n    int[] pairwiseDiffs = IntStreamEx.of(input).pairMap((a, b) -&gt; (b-a)).toArray();\r\n\r\nFor object stream you can create any other object type. My library does not provide any new user-visible data structures like `Pair` (that&#39;s the part of library concept). However if you have your own `Pair` class and want to use it, you can do the following:\r\n\r\n    Stream&lt;Pair&gt; pairs = IntStreamEx.of(input).boxed().pairMap(Pair::new);\r\n\r\nOr if you already have some `Stream`:\r\n\r\n    Stream&lt;Pair&gt; pairs = StreamEx.of(stream).pairMap(Pair::new);\r\n\r\nThis functionality is implemented using [custom spliterator](https://github.com/amaembo/streamex/blob/master/src/main/java/one/util/streamex/PairSpliterator.java). It has quite low overhead and can parallelize nicely. Of course it works with any stream source, not just random access list/array like many other solutions. In many tests it performs really well. [Here&#39;s](https://gist.github.com/amaembo/336df22ea21316feccf1) a JMH benchmark where we find all input values preceding a larger value using different approaches (see [this](https://stackoverflow.com/q/30089761/4856258) question).","title":"Collect successive pairs from a stream","body":"<p>My <a href=\"https://github.com/amaembo/streamex\" rel=\"noreferrer\">StreamEx</a> library which extends standard streams provides a <a href=\"http://amaembo.github.io/streamex/javadoc/javax/util/streamex/StreamEx.html#pairMap-java.util.function.BiFunction-\" rel=\"noreferrer\"><code>pairMap</code></a> method for all stream types. For primitive streams it does not change the stream type, but can be used to make some calculations. Most common usage is to calculate differences:</p>\n\n<pre><code>int[] pairwiseDiffs = IntStreamEx.of(input).pairMap((a, b) -&gt; (b-a)).toArray();\n</code></pre>\n\n<p>For object stream you can create any other object type. My library does not provide any new user-visible data structures like <code>Pair</code> (that's the part of library concept). However if you have your own <code>Pair</code> class and want to use it, you can do the following:</p>\n\n<pre><code>Stream&lt;Pair&gt; pairs = IntStreamEx.of(input).boxed().pairMap(Pair::new);\n</code></pre>\n\n<p>Or if you already have some <code>Stream</code>:</p>\n\n<pre><code>Stream&lt;Pair&gt; pairs = StreamEx.of(stream).pairMap(Pair::new);\n</code></pre>\n\n<p>This functionality is implemented using <a href=\"https://github.com/amaembo/streamex/blob/master/src/main/java/one/util/streamex/PairSpliterator.java\" rel=\"noreferrer\">custom spliterator</a>. It has quite low overhead and can parallelize nicely. Of course it works with any stream source, not just random access list/array like many other solutions. In many tests it performs really well. <a href=\"https://gist.github.com/amaembo/336df22ea21316feccf1\" rel=\"noreferrer\">Here's</a> a JMH benchmark where we find all input values preceding a larger value using different approaches (see <a href=\"https://stackoverflow.com/q/30089761/4856258\">this</a> question).</p>\n"},{"comments":[{"owner":{"account_id":5174460,"reputation":1070,"user_id":4142084,"display_name":"Raul Santelices"},"score":0,"creation_date":1452355404,"post_id":34645349,"comment_id":57137378,"body_markdown":"Interesting. What if I need to group 3 or more elements? Use `w.lead().lead()`?","body":"Interesting. What if I need to group 3 or more elements? Use <code>w.lead().lead()</code>?"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1452355743,"post_id":34645349,"comment_id":57137486,"body_markdown":"@RaulSantelices: `tuple(w.value(), w.lead(1), w.lead(2))` would be an option. I&#39;ve updated my answer with a more generic solution for `length = n`","body":"@RaulSantelices: <code>tuple(w.value(), w.lead(1), w.lead(2))</code> would be an option. I&#39;ve updated my answer with a more generic solution for <code>length = n</code>"},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":1,"creation_date":1452398768,"post_id":34645349,"comment_id":57149971,"body_markdown":"I understand correctly that `.window()` is not lazy operation which collects the whole input stream into some intermediate collection, then creates a new stream from it?","body":"I understand correctly that <code>.window()</code> is not lazy operation which collects the whole input stream into some intermediate collection, then creates a new stream from it?"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1452422393,"post_id":34645349,"comment_id":57154655,"body_markdown":"@TagirValeev: Yes, that&#39;s the current implementation. In the above case (no `Comparator` is used to reorder windows), then an optimisation like [this](https://github.com/jOOQ/jOOL/issues/177) would be possible, and is likely to be implemented in the future.","body":"@TagirValeev: Yes, that&#39;s the current implementation. In the above case (no <code>Comparator</code> is used to reorder windows), then an optimisation like <a href=\"https://github.com/jOOQ/jOOL/issues/177\" rel=\"nofollow noreferrer\">this</a> would be possible, and is likely to be implemented in the future."}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1452356238,"creation_date":1452126149,"answer_id":34645349,"question_id":20470010,"body_markdown":"### Finding successive pairs\r\n\r\nIf you&#39;re willing to use a third party library and don&#39;t need parallelism, then [jOO][1] offers SQL-style window functions as follows\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    System.out.println(\r\n    Seq.of(0, 1, 2, 3, 4)\r\n       .window()\r\n       .filter(w -&gt; w.lead().isPresent())\r\n       .map(w -&gt; tuple(w.value(), w.lead().get())) // alternatively, use your new Pair() class\r\n       .toList()\r\n    );\r\n\r\nYielding\r\n\r\n&lt;!-- language: lang-none--&gt;\r\n\r\n    [(0, 1), (1, 2), (2, 3), (3, 4)]\r\n\r\nThe `lead()` function accesses the next value in traversal order from the window.\r\n\r\n### Finding successive triples / quadruples / n-tuples\r\n\r\nA question in the comments was asking for a more general solution, where not pairs but n-tuples (or possibly lists) should be collected. Here&#39;s thus an alternative approach:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    int n = 3;\r\n\r\n    System.out.println(\r\n    Seq.of(0, 1, 2, 3, 4)\r\n       .window(0, n - 1)\r\n       .filter(w -&gt; w.count() == n)\r\n       .map(w -&gt; w.window().toList())\r\n       .toList()\r\n    );\r\n\r\nYielding a list of lists\r\n\r\n&lt;!-- language: lang-none--&gt;\r\n\r\n    [[0, 1, 2], [1, 2, 3], [2, 3, 4]]\r\n\r\nWithout the `filter(w -&gt; w.count() == n)`, the result would be\r\n\r\n&lt;!-- language: lang-none--&gt;\r\n\r\n    [[0, 1, 2], [1, 2, 3], [2, 3, 4], [3, 4], [4]]\r\n\r\nDisclaimer: I work for the company behind jOO\r\n\r\n  [1]: https://github.com/jOOQ/jOOL","title":"Collect successive pairs from a stream","body":"<h3>Finding successive pairs</h3>\n\n<p>If you're willing to use a third party library and don't need parallelism, then <a href=\"https://github.com/jOOQ/jOOL\" rel=\"nofollow\">jOO</a> offers SQL-style window functions as follows</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(\nSeq.of(0, 1, 2, 3, 4)\n   .window()\n   .filter(w -&gt; w.lead().isPresent())\n   .map(w -&gt; tuple(w.value(), w.lead().get())) // alternatively, use your new Pair() class\n   .toList()\n);\n</code></pre>\n\n<p>Yielding</p>\n\n\n\n<pre><code>[(0, 1), (1, 2), (2, 3), (3, 4)]\n</code></pre>\n\n<p>The <code>lead()</code> function accesses the next value in traversal order from the window.</p>\n\n<h3>Finding successive triples / quadruples / n-tuples</h3>\n\n<p>A question in the comments was asking for a more general solution, where not pairs but n-tuples (or possibly lists) should be collected. Here's thus an alternative approach:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>int n = 3;\n\nSystem.out.println(\nSeq.of(0, 1, 2, 3, 4)\n   .window(0, n - 1)\n   .filter(w -&gt; w.count() == n)\n   .map(w -&gt; w.window().toList())\n   .toList()\n);\n</code></pre>\n\n<p>Yielding a list of lists</p>\n\n\n\n<pre><code>[[0, 1, 2], [1, 2, 3], [2, 3, 4]]\n</code></pre>\n\n<p>Without the <code>filter(w -&gt; w.count() == n)</code>, the result would be</p>\n\n\n\n<pre><code>[[0, 1, 2], [1, 2, 3], [2, 3, 4], [3, 4], [4]]\n</code></pre>\n\n<p>Disclaimer: I work for the company behind jOO</p>\n"},{"comments":[{"owner":{"account_id":915710,"reputation":30644,"user_id":948550,"accept_rate":93,"display_name":"Reut Sharabani"},"score":1,"creation_date":1464785184,"post_id":34696142,"comment_id":62625264,"body_markdown":"I used `Observable.zip(obs, obs.skip(1), pair-&gt;{...})` up until now! I didn&#39;t know `Observable.buffer` had a version with a step (and I&#39;m used to the `zip` trick from python). +1","body":"I used <code>Observable.zip(obs, obs.skip(1), pair-&gt;{...})</code> up until now! I didn&#39;t know <code>Observable.buffer</code> had a version with a step (and I&#39;m used to the <code>zip</code> trick from python). +1"}],"tags":[],"owner":{"account_id":4093298,"reputation":4962,"user_id":3360759,"display_name":"frhack"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1452431083,"creation_date":1452357935,"answer_id":34696142,"question_id":20470010,"body_markdown":"We can use [RxJava][1] (very powerful [reactive extension][2] library)\r\n\r\n\r\n    IntStream intStream  = IntStream.iterate(1, n -&gt; n + 1);\r\n    \r\n    Observable&lt;List&lt;Integer&gt;&gt; pairObservable = Observable.from(intStream::iterator).buffer(2,1);\r\n\r\n    pairObservable.take(10).forEach(b -&gt; {\r\n                b.forEach(n -&gt; System.out.println(n));\r\n                System.out.println();\r\n            });\r\n\r\n \r\n\r\n&gt; The *buffer* [operator][3] transforms an Observable that\r\n&gt; emits items into an Observable that emits buffered collections of\r\n&gt; those items..\r\n\r\n\r\n  [1]: https://github.com/ReactiveX/RxJava\r\n  [2]: http://reactivex.io/\r\n  [3]: http://reactivex.io/documentation/operators.html \r\n\r\n\r\n","title":"Collect successive pairs from a stream","body":"<p>We can use <a href=\"https://github.com/ReactiveX/RxJava\" rel=\"nofollow\">RxJava</a> (very powerful <a href=\"http://reactivex.io/\" rel=\"nofollow\">reactive extension</a> library)</p>\n\n<pre><code>IntStream intStream  = IntStream.iterate(1, n -&gt; n + 1);\n\nObservable&lt;List&lt;Integer&gt;&gt; pairObservable = Observable.from(intStream::iterator).buffer(2,1);\n\npairObservable.take(10).forEach(b -&gt; {\n            b.forEach(n -&gt; System.out.println(n));\n            System.out.println();\n        });\n</code></pre>\n\n<blockquote>\n  <p>The <em>buffer</em> <a href=\"http://reactivex.io/documentation/operators.html\" rel=\"nofollow\">operator</a> transforms an Observable that\n  emits items into an Observable that emits buffered collections of\n  those items..</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":0,"creation_date":1457011243,"post_id":35759085,"comment_id":59217888,"body_markdown":"The question didn&#39;t ask for parallel processing, but it did assume that we only have a `Stream`, not a `List`. Of course, we can pry an iterator from a Stream as well, so this might be a valid solution. Nevertheless, it&#39;s an original approach.","body":"The question didn&#39;t ask for parallel processing, but it did assume that we only have a <code>Stream</code>, not a <code>List</code>. Of course, we can pry an iterator from a Stream as well, so this might be a valid solution. Nevertheless, it&#39;s an original approach."}],"tags":[],"owner":{"account_id":194909,"reputation":4585,"user_id":437506,"accept_rate":47,"display_name":"Kedar Mhaswade"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1456956332,"creation_date":1456956332,"answer_id":35759085,"question_id":20470010,"body_markdown":"This is an interesting problem. Is my _hybrid_ attempt below any good?\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; list = Arrays.asList(1, 2, 3);\r\n        Iterator&lt;Integer&gt; first = list.iterator();\r\n        first.next();\r\n        if (first.hasNext())\r\n            list.stream()\r\n            .skip(1)\r\n            .map(v -&gt; new Pair(first.next(), v))\r\n            .forEach(System.out::println);\r\n    }\r\n\r\nI believe it does not lend itself to parallel processing, and hence may be disqualified. \r\n","title":"Collect successive pairs from a stream","body":"<p>This is an interesting problem. Is my <em>hybrid</em> attempt below any good?</p>\n\n<pre><code>public static void main(String[] args) {\n    List&lt;Integer&gt; list = Arrays.asList(1, 2, 3);\n    Iterator&lt;Integer&gt; first = list.iterator();\n    first.next();\n    if (first.hasNext())\n        list.stream()\n        .skip(1)\n        .map(v -&gt; new Pair(first.next(), v))\n        .forEach(System.out::println);\n}\n</code></pre>\n\n<p>I believe it does not lend itself to parallel processing, and hence may be disqualified. </p>\n"},{"tags":[],"owner":{"account_id":294985,"reputation":1224,"user_id":599154,"display_name":"Rob Marrowstone"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1476911824,"creation_date":1476911824,"answer_id":40141672,"question_id":20470010,"body_markdown":"As others have observed, there is, due to the nature of the problem, some statefulness required.\r\n\r\nI was faced with a similar problem, in which I wanted what was essentially the Oracle SQL function LEAD. My attempt to implement that is below.\r\n\r\n\r\n    /**\r\n     * Stream that pairs each element in the stream with the next subsequent element.\r\n     * The final pair will have only the first item, the second will be null.\r\n     */\r\n    &lt;T&gt; Spliterator&lt;Pair&lt;T&gt;&gt; lead(final Stream&lt;T&gt; stream)\r\n    {\r\n        final Iterator&lt;T&gt; input = stream.sequential().iterator();\r\n\r\n        final Iterable&lt;Pair&lt;T&gt;&gt; iterable = () -&gt;\r\n        {\r\n            return new Iterator&lt;Pair&lt;T&gt;&gt;()\r\n            {\r\n                Optional&lt;T&gt; current = getOptionalNext(input);\r\n\r\n                @Override\r\n                public boolean hasNext()\r\n                {\r\n                    return current.isPresent();\r\n                }\r\n\r\n                @Override\r\n                public Pair&lt;T&gt; next()\r\n                {\r\n                    Optional&lt;T&gt; next = getOptionalNext(input);\r\n                    final Pair&lt;T&gt; pair = next.isPresent()\r\n                        ? new Pair(current.get(), next.get())\r\n                        : new Pair(current.get(), null);\r\n                    current = next;\r\n\r\n                    return pair;\r\n                }\r\n            };\r\n        };\r\n\r\n        return iterable.spliterator();\r\n    }\r\n\r\n    private &lt;T&gt; Optional&lt;T&gt; getOptionalNext(final Iterator&lt;T&gt; iterator)\r\n    {\r\n        return iterator.hasNext()\r\n            ? Optional.of(iterator.next())\r\n            : Optional.empty();\r\n    }\r\n","title":"Collect successive pairs from a stream","body":"<p>As others have observed, there is, due to the nature of the problem, some statefulness required.</p>\n\n<p>I was faced with a similar problem, in which I wanted what was essentially the Oracle SQL function LEAD. My attempt to implement that is below.</p>\n\n<pre><code>/**\n * Stream that pairs each element in the stream with the next subsequent element.\n * The final pair will have only the first item, the second will be null.\n */\n&lt;T&gt; Spliterator&lt;Pair&lt;T&gt;&gt; lead(final Stream&lt;T&gt; stream)\n{\n    final Iterator&lt;T&gt; input = stream.sequential().iterator();\n\n    final Iterable&lt;Pair&lt;T&gt;&gt; iterable = () -&gt;\n    {\n        return new Iterator&lt;Pair&lt;T&gt;&gt;()\n        {\n            Optional&lt;T&gt; current = getOptionalNext(input);\n\n            @Override\n            public boolean hasNext()\n            {\n                return current.isPresent();\n            }\n\n            @Override\n            public Pair&lt;T&gt; next()\n            {\n                Optional&lt;T&gt; next = getOptionalNext(input);\n                final Pair&lt;T&gt; pair = next.isPresent()\n                    ? new Pair(current.get(), next.get())\n                    : new Pair(current.get(), null);\n                current = next;\n\n                return pair;\n            }\n        };\n    };\n\n    return iterable.spliterator();\n}\n\nprivate &lt;T&gt; Optional&lt;T&gt; getOptionalNext(final Iterator&lt;T&gt; iterator)\n{\n    return iterator.hasNext()\n        ? Optional.of(iterator.next())\n        : Optional.empty();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1478607600,"creation_date":1478607600,"answer_id":40486816,"question_id":20470010,"body_markdown":"You can achieve that by using a bounded queue to store elements which flows through the stream (which is basing on the idea which I described in detail here: https://stackoverflow.com/questions/31650157/is-it-possible-to-get-next-element-in-the-stream/40450777#40450777)\r\n\r\nBelows example first defines instance of BoundedQueue class which will store elements going through the stream (if you don&#39;t like idea of extending the LinkedList, refer to link mentioned above for alternative and more generic approach). Later you just combine two subsequent elements into instance of Pair:\r\n\r\n    public class TwoSubsequentElems {\r\n      public static void main(String[] args) {\r\n        List&lt;Integer&gt; input = new ArrayList&lt;Integer&gt;(asList(0, 1, 2, 3, 4));\r\n    \r\n        class BoundedQueue&lt;T&gt; extends LinkedList&lt;T&gt; {\r\n          public BoundedQueue&lt;T&gt; save(T curElem) {\r\n            if (size() == 2) { // we need to know only two subsequent elements\r\n              pollLast(); // remove last to keep only requested number of elements\r\n            }\r\n    \r\n            offerFirst(curElem);\r\n    \r\n            return this;\r\n          }\r\n    \r\n          public T getPrevious() {\r\n            return (size() &lt; 2) ? null : getLast();\r\n          }\r\n    \r\n          public T getCurrent() {\r\n            return (size() == 0) ? null : getFirst();\r\n          }\r\n        }\r\n\r\n        BoundedQueue&lt;Integer&gt; streamHistory = new BoundedQueue&lt;Integer&gt;();\r\n    \r\n        final List&lt;Pair&lt;Integer&gt;&gt; answer = input.stream()\r\n          .map(i -&gt; streamHistory.save(i))\r\n          .filter(e -&gt; e.getPrevious() != null)\r\n          .map(e -&gt; new Pair&lt;Integer&gt;(e.getPrevious(), e.getCurrent()))\r\n          .collect(Collectors.toList());\r\n    \r\n        answer.forEach(System.out::println);\r\n      }\r\n    }\r\n","title":"Collect successive pairs from a stream","body":"<p>You can achieve that by using a bounded queue to store elements which flows through the stream (which is basing on the idea which I described in detail here: <a href=\"https://stackoverflow.com/questions/31650157/is-it-possible-to-get-next-element-in-the-stream/40450777#40450777\">Is it possible to get next element in the Stream?</a>)</p>\n\n<p>Belows example first defines instance of BoundedQueue class which will store elements going through the stream (if you don't like idea of extending the LinkedList, refer to link mentioned above for alternative and more generic approach). Later you just combine two subsequent elements into instance of Pair:</p>\n\n<pre><code>public class TwoSubsequentElems {\n  public static void main(String[] args) {\n    List&lt;Integer&gt; input = new ArrayList&lt;Integer&gt;(asList(0, 1, 2, 3, 4));\n\n    class BoundedQueue&lt;T&gt; extends LinkedList&lt;T&gt; {\n      public BoundedQueue&lt;T&gt; save(T curElem) {\n        if (size() == 2) { // we need to know only two subsequent elements\n          pollLast(); // remove last to keep only requested number of elements\n        }\n\n        offerFirst(curElem);\n\n        return this;\n      }\n\n      public T getPrevious() {\n        return (size() &lt; 2) ? null : getLast();\n      }\n\n      public T getCurrent() {\n        return (size() == 0) ? null : getFirst();\n      }\n    }\n\n    BoundedQueue&lt;Integer&gt; streamHistory = new BoundedQueue&lt;Integer&gt;();\n\n    final List&lt;Pair&lt;Integer&gt;&gt; answer = input.stream()\n      .map(i -&gt; streamHistory.save(i))\n      .filter(e -&gt; e.getPrevious() != null)\n      .map(e -&gt; new Pair&lt;Integer&gt;(e.getPrevious(), e.getCurrent()))\n      .collect(Collectors.toList());\n\n    answer.forEach(System.out::println);\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":1,"creation_date":1490781878,"post_id":42959016,"comment_id":73262143,"body_markdown":"It would return (1,2) (2,3) instead of (1,2) (3,4). Also I&#39;m not sure if it would be applied in order (certainly there&#39;s no guarantee of that).","body":"It would return (1,2) (2,3) instead of (1,2) (3,4). Also I&#39;m not sure if it would be applied in order (certainly there&#39;s no guarantee of that)."},{"owner":{"account_id":2613265,"reputation":5567,"user_id":2262972,"accept_rate":84,"display_name":"SamTebbs33"},"score":3,"creation_date":1490785938,"post_id":42959016,"comment_id":73264903,"body_markdown":"Please check the question, that is the intended behaviour @Aleksandr Dubinsky","body":"Please check the question, that is the intended behaviour @Aleksandr Dubinsky"},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":11,"creation_date":1490793986,"post_id":42959016,"comment_id":73270846,"body_markdown":"Ahh, yes, sorry. And to think, I wrote it.","body":"Ahh, yes, sorry. And to think, I wrote it."},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1530198731,"post_id":42959016,"comment_id":89160996,"body_markdown":"The order seems to be guaranted according to [Is .collect guaranteed to be ordered on parallel streams?](https://stackoverflow.com/questions/29710999/is-collect-guaranteed-to-be-ordered-on-parallel-streams) and [How to ensure order of processing in java8 streams?](https://stackoverflow.com/questions/29216588/how-to-ensure-order-of-processing-in-java8-streams)","body":"The order seems to be guaranted according to <a href=\"https://stackoverflow.com/questions/29710999/is-collect-guaranteed-to-be-ordered-on-parallel-streams\">Is .collect guaranteed to be ordered on parallel streams?</a> and <a href=\"https://stackoverflow.com/questions/29216588/how-to-ensure-order-of-processing-in-java8-streams\">How to ensure order of processing in java8 streams?</a>"},{"owner":{"account_id":7509194,"reputation":726,"user_id":5704763,"display_name":"Aldan Creo"},"score":2,"creation_date":1641378383,"post_id":42959016,"comment_id":124787248,"body_markdown":"This is a very smart idea! The only problem I would see in this approach is that the reduction function is not *pure* (it depends on the external `pairs` object). Therefore, if ran concurrently, its semantic correctness is not ensured. One possible solution would be to use a thread-safe data structure, such as `Vector`.","body":"This is a very smart idea! The only problem I would see in this approach is that the reduction function is not <i>pure</i> (it depends on the external <code>pairs</code> object). Therefore, if ran concurrently, its semantic correctness is not ensured. One possible solution would be to use a thread-safe data structure, such as <code>Vector</code>."},{"owner":{"account_id":1107571,"reputation":3147,"user_id":1104885,"display_name":"Roger Keays"},"score":0,"creation_date":1656054187,"post_id":42959016,"comment_id":128482316,"body_markdown":"I like the idea, except for the construction of a new list, which is necessary because `reduce` is a terminal operation. Should be able to do this lazily.","body":"I like the idea, except for the construction of a new list, which is necessary because <code>reduce</code> is a terminal operation. Should be able to do this lazily."}],"tags":[],"owner":{"account_id":2613265,"reputation":5567,"user_id":2262972,"accept_rate":84,"display_name":"SamTebbs33"},"comment_count":6,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1490204506,"creation_date":1490204506,"answer_id":42959016,"question_id":20470010,"body_markdown":"You can do this with the Stream.reduce() method (I haven&#39;t seen any other answers using this technique).\r\n\r\n    public static &lt;T&gt; List&lt;Pair&lt;T, T&gt;&gt; consecutive(List&lt;T&gt; list) {\r\n        List&lt;Pair&lt;T, T&gt;&gt; pairs = new LinkedList&lt;&gt;();\r\n        list.stream().reduce((a, b) -&gt; {\r\n            pairs.add(new Pair&lt;&gt;(a, b));\r\n            return b;\r\n        });\r\n        return pairs;\r\n    }","title":"Collect successive pairs from a stream","body":"<p>You can do this with the Stream.reduce() method (I haven't seen any other answers using this technique).</p>\n\n<pre><code>public static &lt;T&gt; List&lt;Pair&lt;T, T&gt;&gt; consecutive(List&lt;T&gt; list) {\n    List&lt;Pair&lt;T, T&gt;&gt; pairs = new LinkedList&lt;&gt;();\n    list.stream().reduce((a, b) -&gt; {\n        pairs.add(new Pair&lt;&gt;(a, b));\n        return b;\n    });\n    return pairs;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2124301,"reputation":241,"user_id":1886883,"display_name":"Rob Philipp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523646466,"creation_date":1498152683,"answer_id":44705940,"question_id":20470010,"body_markdown":"For calculating successive differences in the time (x-values) of a time-series, I use the `stream`&#39;s `collect(...)` method:\r\n\r\n    final List&lt; Long &gt; intervals = timeSeries.data().stream()\r\n\t\t\t\t\t\t.map( TimeSeries.Datum::x )\r\n\t\t\t\t\t\t.collect( DifferenceCollector::new, DifferenceCollector::accept, DifferenceCollector::combine )\r\n\t\t\t\t\t\t.intervals();\r\n\r\nWhere the DifferenceCollector is something like this:\r\n\r\n    public class DifferenceCollector implements LongConsumer\r\n\t{\r\n\t\tprivate final List&lt; Long &gt; intervals = new ArrayList&lt;&gt;();\r\n\t\tprivate Long lastTime;\r\n\r\n\t\t@Override\r\n\t\tpublic void accept( final long time )\r\n\t\t{\r\n\t\t\tif( Objects.isNull( lastTime ) )\r\n\t\t\t{\r\n\t\t\t\tlastTime = time;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tintervals.add( time - lastTime );\r\n\t\t\t\tlastTime = time;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void combine( final DifferenceCollector other )\r\n\t\t{\r\n\t\t\tintervals.addAll( other.intervals );\r\n\t\t\tlastTime = other.lastTime;\r\n\t\t}\r\n\r\n\t\tpublic List&lt; Long &gt; intervals()\r\n\t\t{\r\n\t\t\treturn intervals;\r\n\t\t}\r\n\t}\r\nYou could probably modify this to suit your needs.","title":"Collect successive pairs from a stream","body":"<p>For calculating successive differences in the time (x-values) of a time-series, I use the <code>stream</code>'s <code>collect(...)</code> method:</p>\n\n<pre><code>final List&lt; Long &gt; intervals = timeSeries.data().stream()\n                    .map( TimeSeries.Datum::x )\n                    .collect( DifferenceCollector::new, DifferenceCollector::accept, DifferenceCollector::combine )\n                    .intervals();\n</code></pre>\n\n<p>Where the DifferenceCollector is something like this:</p>\n\n<pre><code>public class DifferenceCollector implements LongConsumer\n{\n    private final List&lt; Long &gt; intervals = new ArrayList&lt;&gt;();\n    private Long lastTime;\n\n    @Override\n    public void accept( final long time )\n    {\n        if( Objects.isNull( lastTime ) )\n        {\n            lastTime = time;\n        }\n        else\n        {\n            intervals.add( time - lastTime );\n            lastTime = time;\n        }\n    }\n\n    public void combine( final DifferenceCollector other )\n    {\n        intervals.addAll( other.intervals );\n        lastTime = other.lastTime;\n    }\n\n    public List&lt; Long &gt; intervals()\n    {\n        return intervals;\n    }\n}\n</code></pre>\n\n<p>You could probably modify this to suit your needs.</p>\n"},{"comments":[{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":2,"creation_date":1554386603,"post_id":55498337,"comment_id":97740485,"body_markdown":"I don&#39;t think `reduce` makes sufficient guarantees for this to work.","body":"I don&#39;t think <code>reduce</code> makes sufficient guarantees for this to work."},{"owner":{"account_id":3691593,"reputation":1094,"user_id":3074057,"display_name":"Beezer"},"score":1,"creation_date":1554448080,"post_id":55498337,"comment_id":97763378,"body_markdown":"Would be interested to know more about the **sufficient guarantees**. Can you please elaborate? Maybe there is an alternative in Guava...but I am constrained and cannot use it.","body":"Would be interested to know more about the <b>sufficient guarantees</b>. Can you please elaborate? Maybe there is an alternative in Guava...but I am constrained and cannot use it."},{"owner":{"account_id":2169234,"reputation":2083,"user_id":1921669,"accept_rate":40,"display_name":"Kestas.daugylis"},"score":0,"creation_date":1700760131,"post_id":55498337,"comment_id":136696544,"body_markdown":"Reduce works like a charm for paired filtering.","body":"Reduce works like a charm for paired filtering."}],"tags":[],"owner":{"account_id":3691593,"reputation":1094,"user_id":3074057,"display_name":"Beezer"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554303752,"creation_date":1554303752,"answer_id":55498337,"question_id":20470010,"body_markdown":"I finally figured out a way of tricking the Stream.reduce to be able to neatly deal with pairs of values; there are a multitude of use cases that require this facility which does not appear *naturally* in JDK 8:\r\n\r\n    public static int ArithGeo(int[] arr) {\r\n        //Geometric\r\n        List&lt;Integer&gt; diffList = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; divList = new ArrayList&lt;&gt;();\r\n        Arrays.stream(arr).reduce((left, right) -&gt; {\r\n            diffList.add(right-left);\r\n            divList.add(right/left);\r\n            return right;\r\n        });\r\n        //Arithmetic\r\n        if(diffList.stream().distinct().count() == 1) {\r\n            return 1;\r\n        }\r\n        //Geometric\r\n        if(divList.stream().distinct().count() == 1) {\r\n            return 2;\r\n        }\r\n        return -1;\r\n    }\r\nThe trick i use is the **return right;** statement.","title":"Collect successive pairs from a stream","body":"<p>I finally figured out a way of tricking the Stream.reduce to be able to neatly deal with pairs of values; there are a multitude of use cases that require this facility which does not appear <em>naturally</em> in JDK 8:</p>\n\n<pre><code>public static int ArithGeo(int[] arr) {\n    //Geometric\n    List&lt;Integer&gt; diffList = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; divList = new ArrayList&lt;&gt;();\n    Arrays.stream(arr).reduce((left, right) -&gt; {\n        diffList.add(right-left);\n        divList.add(right/left);\n        return right;\n    });\n    //Arithmetic\n    if(diffList.stream().distinct().count() == 1) {\n        return 1;\n    }\n    //Geometric\n    if(divList.stream().distinct().count() == 1) {\n        return 2;\n    }\n    return -1;\n}\n</code></pre>\n\n<p>The trick i use is the <strong>return right;</strong> statement.</p>\n"},{"tags":[],"owner":{"account_id":1164345,"reputation":22755,"user_id":1143274,"accept_rate":56,"display_name":"Evgeni Sergeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1567825158,"creation_date":1567825158,"answer_id":57830330,"question_id":20470010,"body_markdown":"[`Streams.zip(..)` is available in Guava][1], for those who depend on it.\r\n\r\nExample:\r\n\r\n    Streams.zip(list.stream(),\r\n                list.stream().skip(1),\r\n                (a, b) -&gt; System.out.printf(&quot;%s %s\\n&quot;, a, b));\r\n\r\n\r\n  [1]: https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/Streams.html#zip-java.util.stream.Stream-java.util.stream.Stream-java.util.function.BiFunction-","title":"Collect successive pairs from a stream","body":"<p><a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/Streams.html#zip-java.util.stream.Stream-java.util.stream.Stream-java.util.function.BiFunction-\" rel=\"noreferrer\"><code>Streams.zip(..)</code> is available in Guava</a>, for those who depend on it.</p>\n\n<p>Example:</p>\n\n<pre><code>Streams.zip(list.stream(),\n            list.stream().skip(1),\n            (a, b) -&gt; System.out.printf(\"%s %s\\n\", a, b));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1107571,"reputation":3147,"user_id":1104885,"display_name":"Roger Keays"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656059232,"creation_date":1656059232,"answer_id":72741122,"question_id":20470010,"body_markdown":"The solutions here seem a little complicated or depend on third-party libraries. This problem can be solved with an intermediate stream which collect pairs:\r\n\r\n    public static &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; pairs(Stream&lt;T&gt; stream) {\r\n        Iterator&lt;T&gt; iterator = stream.iterator();\r\n        if (iterator.hasNext()) {\r\n            T first = iterator.next();\r\n            if (iterator.hasNext()) {\r\n                return Stream.iterate(\r\n                    List.of(first, iterator.next()),\r\n                    prev -&gt; iterator.hasNext() ? List.of(prev.get(1), iterator.next()) : null)\r\n                    .takeWhile(prev -&gt; prev != null);\r\n            }\r\n        }\r\n        return Stream.empty();\r\n    }\r\n\r\nExamples:\r\n\r\n    pairs(Stream.of()).toList();      // []\r\n    pairs(Stream.of(1)).toList();     // []\r\n    pairs(Stream.of(1,2)).toList();   // [[1, 2]]\r\n    pairs(Stream.of(1,2,3)).toList(); // [[1, 2], [2, 3]]\r\n    pairs(Stream.of(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;)).toList();  // [[a, b], [b, c], [c, d]]\r\n\r\nIn this solution, `Stream.iterate`is using an accumulator in much the same way as `reduce`, except it creates an intermediate stream rather than being a terminal operation. So laziness and infinite streams are supported.","title":"Collect successive pairs from a stream","body":"<p>The solutions here seem a little complicated or depend on third-party libraries. This problem can be solved with an intermediate stream which collect pairs:</p>\n<pre><code>public static &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; pairs(Stream&lt;T&gt; stream) {\n    Iterator&lt;T&gt; iterator = stream.iterator();\n    if (iterator.hasNext()) {\n        T first = iterator.next();\n        if (iterator.hasNext()) {\n            return Stream.iterate(\n                List.of(first, iterator.next()),\n                prev -&gt; iterator.hasNext() ? List.of(prev.get(1), iterator.next()) : null)\n                .takeWhile(prev -&gt; prev != null);\n        }\n    }\n    return Stream.empty();\n}\n</code></pre>\n<p>Examples:</p>\n<pre><code>pairs(Stream.of()).toList();      // []\npairs(Stream.of(1)).toList();     // []\npairs(Stream.of(1,2)).toList();   // [[1, 2]]\npairs(Stream.of(1,2,3)).toList(); // [[1, 2], [2, 3]]\npairs(Stream.of(&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;)).toList();  // [[a, b], [b, c], [c, d]]\n</code></pre>\n<p>In this solution, <code>Stream.iterate</code>is using an accumulator in much the same way as <code>reduce</code>, except it creates an intermediate stream rather than being a terminal operation. So laziness and infinite streams are supported.</p>\n"},{"tags":[],"owner":{"account_id":11906341,"reputation":21,"user_id":8712803,"display_name":"Jan Porowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672744327,"creation_date":1672744327,"answer_id":74992578,"question_id":20470010,"body_markdown":"You could use Flux:\r\n\r\n    Stream&lt;String&gt; someStream = Stream.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;);\r\n    Flux&lt;String&gt; someFlux = Flux.fromStream(someStream);\r\n\r\n    someFlux.zipWith(someFlux.skip(1))\r\n        .map(t -&gt; t.getT1().concat(t.getT2()))\r\n        .subscribe(System.out::println);\r\nThe result would be:\r\n\r\n    AB\r\n    BC\r\n    CD","title":"Collect successive pairs from a stream","body":"<p>You could use Flux:</p>\n<pre><code>Stream&lt;String&gt; someStream = Stream.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;);\nFlux&lt;String&gt; someFlux = Flux.fromStream(someStream);\n\nsomeFlux.zipWith(someFlux.skip(1))\n    .map(t -&gt; t.getT1().concat(t.getT2()))\n    .subscribe(System.out::println);\n</code></pre>\n<p>The result would be:</p>\n<pre><code>AB\nBC\nCD\n</code></pre>\n"}],"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90296,"favorite_count":0,"down_vote_count":1,"up_vote_count":121,"accepted_answer_id":30542049,"answer_count":22,"score":120,"last_activity_date":1672744327,"creation_date":1386590104,"question_id":20470010,"body_markdown":"Given a stream such as `{ 0, 1, 2, 3, 4 }`, \r\n\r\nhow can I most elegantly transform it into given form:\r\n\r\n`{ new Pair(0, 1), new Pair(1, 2), new Pair(2, 3), new Pair(3, 4) }` \r\n\r\n(assuming, of course, I&#39;ve defined class Pair)?\r\n\r\n**Edit:** This isn&#39;t strictly about ints or primitive streams. The answer should be general for a stream of any type.","title":"Collect successive pairs from a stream","body":"<p>Given a stream such as <code>{ 0, 1, 2, 3, 4 }</code>, </p>\n\n<p>how can I most elegantly transform it into given form:</p>\n\n<p><code>{ new Pair(0, 1), new Pair(1, 2), new Pair(2, 3), new Pair(3, 4) }</code> </p>\n\n<p>(assuming, of course, I've defined class Pair)?</p>\n\n<p><strong>Edit:</strong> This isn't strictly about ints or primitive streams. The answer should be general for a stream of any type.</p>\n"},{"tags":["java","spring","hibernate","logging","multi-tenant"],"answers":[{"comments":[{"owner":{"account_id":2892786,"reputation":559,"user_id":2481159,"accept_rate":33,"display_name":"rainerfrey"},"score":0,"creation_date":1535139266,"post_id":22472092,"comment_id":90972268,"body_markdown":"With logback, you have the [SiftingAppender](https://logback.qos.ch/manual/appenders.html#SiftingAppender) to easily configure the files.","body":"With logback, you have the <a href=\"https://logback.qos.ch/manual/appenders.html#SiftingAppender\" rel=\"nofollow noreferrer\">SiftingAppender</a> to easily configure the files."}],"tags":[],"owner":{"account_id":96393,"reputation":23995,"user_id":262022,"accept_rate":87,"display_name":"radai"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1395124992,"creation_date":1395124992,"answer_id":22472092,"question_id":22471908,"body_markdown":"you can use MDC (mapped diagnostic context) support to route logging for each tenant into a separate file/dir/whatever.\r\n\r\nyou can read up on the concept [here][1]. it exists in slf4/logback and log4j\r\n\r\nsimply put, you set some property like tenantName in the MDC at the beginning of every request processing according to the specific tenant making the request and then use this property in your logging configuration to determine the log file into which log messages are written.\r\n\r\n\r\n  [1]: http://logback.qos.ch/manual/mdc.html","title":"Implementing logging in multi-tenant application","body":"<p>you can use MDC (mapped diagnostic context) support to route logging for each tenant into a separate file/dir/whatever.</p>\n\n<p>you can read up on the concept <a href=\"http://logback.qos.ch/manual/mdc.html\" rel=\"nofollow\">here</a>. it exists in slf4/logback and log4j</p>\n\n<p>simply put, you set some property like tenantName in the MDC at the beginning of every request processing according to the specific tenant making the request and then use this property in your logging configuration to determine the log file into which log messages are written.</p>\n"}],"owner":{"account_id":1176664,"reputation":20820,"user_id":1152500,"accept_rate":47,"display_name":"Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4484,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":22472092,"answer_count":1,"score":0,"last_activity_date":1672743877,"creation_date":1395124308,"question_id":22471908,"body_markdown":"I am very much new to **multi-tenancy**. We have an application based on Java, Spring, Hibernate/JPA etc. which doesn&#39;t support *multi-tenancy*.\r\n\r\nNow, we want to convert that application into *multi-tenant* one. I have read about multi-tenancy and even wrote one standalone application using hibernate with separate schema approach. Link referred is [here](http://docs.jboss.org/hibernate/orm/4.1/devguide/en-US/html/ch16.html).\r\n\r\nI think about the *logging* part which is bound to be changed now as log files will be maintained per tenant(client) now. So, for each tenant a separate log file will be there.Also, log file for a particular tenant shouldn&#39;t be accessed by another tenant.\r\n\r\nIs there any logging API specific to support multi-tenancy? If not, how should i go ahead with implementing logging in multi-tenant application? What should be taken care of while implementing logging in multi-tenant application.","title":"Implementing logging in multi-tenant application","body":"<p>I am very much new to <strong>multi-tenancy</strong>. We have an application based on Java, Spring, Hibernate/JPA etc. which doesn't support <em>multi-tenancy</em>.</p>\n\n<p>Now, we want to convert that application into <em>multi-tenant</em> one. I have read about multi-tenancy and even wrote one standalone application using hibernate with separate schema approach. Link referred is <a href=\"http://docs.jboss.org/hibernate/orm/4.1/devguide/en-US/html/ch16.html\" rel=\"nofollow\">here</a>.</p>\n\n<p>I think about the <em>logging</em> part which is bound to be changed now as log files will be maintained per tenant(client) now. So, for each tenant a separate log file will be there.Also, log file for a particular tenant shouldn't be accessed by another tenant.</p>\n\n<p>Is there any logging API specific to support multi-tenancy? If not, how should i go ahead with implementing logging in multi-tenant application? What should be taken care of while implementing logging in multi-tenant application.</p>\n"},{"tags":["java","jboss","jboss5.x"],"answers":[{"comments":[{"owner":{"account_id":1513513,"reputation":8310,"user_id":1415064,"accept_rate":82,"display_name":"AppSensei"},"score":0,"creation_date":1365516294,"post_id":15904057,"comment_id":22649056,"body_markdown":"You mean (C:\\Program Files\\Java\\jdk1.6.0_34) that? Should I also include \\bin ?","body":"You mean (C:\\Program Files\\Java\\jdk1.6.0_34) that? Should I also include \\bin ?"},{"owner":{"account_id":109059,"reputation":20712,"user_id":289171,"accept_rate":100,"display_name":"CoolBeans"},"score":0,"creation_date":1365516721,"post_id":15904057,"comment_id":22649336,"body_markdown":"Also make sure you have JAVA_HOME in your PATH variable.","body":"Also make sure you have JAVA_HOME in your PATH variable."},{"owner":{"account_id":1513513,"reputation":8310,"user_id":1415064,"accept_rate":82,"display_name":"AppSensei"},"score":0,"creation_date":1365516843,"post_id":15904057,"comment_id":22649432,"body_markdown":"So, %SystemRoot%\\system32;%SystemRoot%;%SystemRoot%\\System32\\Wbem;%SYSTEMROOT%\\System32\\WindowsPowerShell\\v1.0\\C:\\Program Files\\Java\\jdk1.6.0_34  - Like that?","body":"So, %SystemRoot%\\system32;%SystemRoot%;%SystemRoot%\\System32\\Wbe&zwnj;&#8203;m;%SYSTEMROOT%\\Syste&zwnj;&#8203;m32\\WindowsPowerShel&zwnj;&#8203;l\\v1.0\\C:\\Program Files\\Java\\jdk1.6.0_34  - Like that?"},{"owner":{"account_id":109059,"reputation":20712,"user_id":289171,"accept_rate":100,"display_name":"CoolBeans"},"score":0,"creation_date":1365517333,"post_id":15904057,"comment_id":22649733,"body_markdown":"May be. I don&#39;t know a lot about windows configurations. Basically you want JBoss to find a compatible Java JDK in the PATH. If you do echo $PATH, does it show the JDK in the path?","body":"May be. I don&#39;t know a lot about windows configurations. Basically you want JBoss to find a compatible Java JDK in the PATH. If you do echo $PATH, does it show the JDK in the path?"},{"owner":{"account_id":109059,"reputation":20712,"user_id":289171,"accept_rate":100,"display_name":"CoolBeans"},"score":0,"creation_date":1365518095,"post_id":15904057,"comment_id":22650264,"body_markdown":"Is JBoss still complaining about JAVA_HOME not being set? Can you try setting it in your current shell (e.g. SET JAVA_HOME=....)?","body":"Is JBoss still complaining about JAVA_HOME not being set? Can you try setting it in your current shell (e.g. SET JAVA_HOME=....)?"},{"owner":{"account_id":109059,"reputation":20712,"user_id":289171,"accept_rate":100,"display_name":"CoolBeans"},"score":0,"creation_date":1365522650,"post_id":15904057,"comment_id":22653357,"body_markdown":"@AppSensei - see this [windows-java-home-problems](http://stackoverflow.com/questions/1229019/windows-java-home-problems) on how to set it on Windows.","body":"@AppSensei - see this <a href=\"http://stackoverflow.com/questions/1229019/windows-java-home-problems\">windows-java-home-problems</a> on how to set it on Windows."}],"tags":[],"owner":{"account_id":109059,"reputation":20712,"user_id":289171,"accept_rate":100,"display_name":"CoolBeans"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1365517370,"creation_date":1365516161,"answer_id":15904057,"question_id":15903784,"body_markdown":"The issue seems to be that your JAVA_HOME environment variable is not set to a `JDK`. Your screen shot shows a `JRE` for the JAVA_HOME. Switch that to a JDK and re-try starting JBoss. \r\n\r\nAlso the JAVA_HOME should be in your PATH environment variable. \r\n\r\nAlternatively you can manually set the JAVA_HOME in the `run.conf.bat` file","title":"Not able to start Jboss Server on run.bat","body":"<p>The issue seems to be that your JAVA_HOME environment variable is not set to a <code>JDK</code>. Your screen shot shows a <code>JRE</code> for the JAVA_HOME. Switch that to a JDK and re-try starting JBoss. </p>\n\n<p>Also the JAVA_HOME should be in your PATH environment variable. </p>\n\n<p>Alternatively you can manually set the JAVA_HOME in the <code>run.conf.bat</code> file</p>\n"},{"comments":[{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":1,"creation_date":1672743849,"post_id":74992436,"comment_id":132339090,"body_markdown":"Your answer seems to be just a duplicate of the accepted 9-year-old answer.","body":"Your answer seems to be just a duplicate of the accepted 9-year-old answer."}],"tags":[],"owner":{"account_id":22157532,"reputation":1,"user_id":16405045,"display_name":"abhimanyu thakur"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672743647,"creation_date":1672743647,"answer_id":74992436,"question_id":15903784,"body_markdown":"your java path is not set to jdk and you have to configure java path in as java_home in standalone.conf.bat\r\nand start with run.bat\r\n","title":"Not able to start Jboss Server on run.bat","body":"<p>your java path is not set to jdk and you have to configure java path in as java_home in standalone.conf.bat\nand start with run.bat</p>\n"}],"owner":{"account_id":1513513,"reputation":8310,"user_id":1415064,"accept_rate":82,"display_name":"AppSensei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3807,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":15904057,"answer_count":2,"score":2,"last_activity_date":1672743647,"creation_date":1365515477,"question_id":15903784,"body_markdown":"I&#39;m getting a ClassNotFoundException when I run the JBoss Server using run.bat.\r\n\r\n![enter image description here][1]\r\n![enter image description here][2]\r\n\r\n\r\n**Updated**: \r\n\r\n![enter image description here][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/yZDEy.png\r\n  [2]: http://i.stack.imgur.com/9Ixpi.png\r\n  [3]: http://i.stack.imgur.com/avZze.png","title":"Not able to start Jboss Server on run.bat","body":"<p>I'm getting a ClassNotFoundException when I run the JBoss Server using run.bat.</p>\n\n<p><img src=\"https://i.stack.imgur.com/yZDEy.png\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/9Ixpi.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Updated</strong>: </p>\n\n<p><img src=\"https://i.stack.imgur.com/avZze.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","regex","sonarqube"],"comments":[{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":2,"creation_date":1672743389,"post_id":74992375,"comment_id":132338944,"body_markdown":"Although the pattern is good (there is no error with the regex, there is an error in sonar if it flags it), the non-capturing group could make it better: `&quot;\\\\s*(?:,\\\\s*)+&quot;`. However, `&quot;\\\\s*,[,\\\\s]*&quot;` will probably solve the sonar issue.","body":"Although the pattern is good (there is no error with the regex, there is an error in sonar if it flags it), the non-capturing group could make it better: <code>&quot;\\\\s*(?:,\\\\s*)+&quot;</code>. However, <code>&quot;\\\\s*,[,\\\\s]*&quot;</code> will probably solve the sonar issue."}],"owner":{"account_id":5535283,"reputation":173,"user_id":4393846,"accept_rate":50,"display_name":"Sravan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672743269,"creation_date":1672743269,"question_id":74992375,"body_markdown":"I am new to sonar &amp; regex and it has shown the below line of code as error.\r\n\r\n    propHosts.split(&quot;\\\\s*(,\\\\s*)+&quot;)\r\n\r\nI am not sure what &quot;propHosts&quot; value is, as it is an environmental variable.\r\n\r\nThe above regex is giving &quot;comma&quot; as the split character. Making changes to the above regex can stop giving me the error in sonar but it can fail in server as we don&#39;t know what it stores.\r\n\r\nCan any one help me with this in what can be a better replacement for the above regex.\r\n\r\nThank you.\r\n\r\n","title":"Denial of Service (DoS) - Make sure the regex used here, which is vulnerable to polynomial runtime due to backtracking","body":"<p>I am new to sonar &amp; regex and it has shown the below line of code as error.</p>\n<pre><code>propHosts.split(&quot;\\\\s*(,\\\\s*)+&quot;)\n</code></pre>\n<p>I am not sure what &quot;propHosts&quot; value is, as it is an environmental variable.</p>\n<p>The above regex is giving &quot;comma&quot; as the split character. Making changes to the above regex can stop giving me the error in sonar but it can fail in server as we don't know what it stores.</p>\n<p>Can any one help me with this in what can be a better replacement for the above regex.</p>\n<p>Thank you.</p>\n"},{"tags":["java","http","angular15"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1672743412,"post_id":74992318,"comment_id":132338950,"body_markdown":"I&#39;m not sure why you are creating an a-tag, click and destroy it again instead of just executing an ajax request but I&#39;m no Angular expert so there might be a reason for this. As for the download: Did you try calling the download url directly in your browser and did that work? Did you try with an arbitrary binary media type instead of &quot;java-archive&quot; and maybe also without any extension? Jar-files are essentially zip-files so there might be some deflating going on. Also, did you try and do spot comparisons of the source and downloaded files, e.g. via some hex viewer?","body":"I&#39;m not sure why you are creating an a-tag, click and destroy it again instead of just executing an ajax request but I&#39;m no Angular expert so there might be a reason for this. As for the download: Did you try calling the download url directly in your browser and did that work? Did you try with an arbitrary binary media type instead of &quot;java-archive&quot; and maybe also without any extension? Jar-files are essentially zip-files so there might be some deflating going on. Also, did you try and do spot comparisons of the source and downloaded files, e.g. via some hex viewer?"},{"owner":{"account_id":27419259,"reputation":1,"user_id":20917968,"display_name":"Sven Eckert"},"score":0,"creation_date":1672749224,"post_id":74992318,"comment_id":132340751,"body_markdown":"A for the a-tag thing, I originally had the problem with naming the files so i used this as a workaround to set the filename via the download attribute. \nI tried calling the url directly and the resulting file, tho unnamed, has the correct size and when i rename it to it&#39;s intended name, everything seems to work. I&#39;ll look into this a bit more but this seems to be a possible fix for this problem. Thank you very much","body":"A for the a-tag thing, I originally had the problem with naming the files so i used this as a workaround to set the filename via the download attribute.  I tried calling the url directly and the resulting file, tho unnamed, has the correct size and when i rename it to it&#39;s intended name, everything seems to work. I&#39;ll look into this a bit more but this seems to be a possible fix for this problem. Thank you very much"},{"owner":{"account_id":27419259,"reputation":1,"user_id":20917968,"display_name":"Sven Eckert"},"score":1,"creation_date":1672754435,"post_id":74992318,"comment_id":132342409,"body_markdown":"It seems the problem was cause by the httpClient&#39;s get request. For some reason my response always got parsed into json and then back into an object, this was the cause of the problem. I made sure to use an overload of the httpclient&#39;s get request which uses the responseType &#39;blob&#39; and it works just fine now.\nI also checked the checksum of the files which are now perfectly matching.\nI think this question can be closed.\nThank you very much for the great response","body":"It seems the problem was cause by the httpClient&#39;s get request. For some reason my response always got parsed into json and then back into an object, this was the cause of the problem. I made sure to use an overload of the httpclient&#39;s get request which uses the responseType &#39;blob&#39; and it works just fine now. I also checked the checksum of the files which are now perfectly matching. I think this question can be closed. Thank you very much for the great response"}],"owner":{"account_id":27419259,"reputation":1,"user_id":20917968,"display_name":"Sven Eckert"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672743100,"creation_date":1672742911,"question_id":74992318,"body_markdown":"I have set up a simple front- &amp; backend project for browsing &amp; downloading files.\r\n\r\nMy backend server is written in java and the frontend is an angular application.\r\n\r\nThe backend has a path to a directory which it exposes to the frontend. The use can then use the frontend to navigate through the directories which are exposed by my backend.\r\n\r\nNow I have set up a simple file download, which works fine without any problems EXCEPT when I try to download a jar-archive from the backend.\r\nWhen I try to download a .jar file, the downloaded file ends up being way larger than expected. For example: I want to download a 18mb .jar file and it ends up downloading a 30mb .jar file instead.\r\n\r\nI&#39;m pretty much at the end of my wits when it comes to this problem, as I&#39;m still new to the Frontend &amp; web environment, please keep that in mind. Thank you.\r\n\r\nWhat makes this Problem even more confusing for me is that my response-header shows the correct Content length and the correct amount of transferred bytes, matching my expected file-size (see attached images).\r\nI also tried to apply the &quot;application/java-archive&quot; MediaType to both my Request and Response headers but this didn&#39;t fix the problem.\r\n\r\nI hope i provided most of the Information needed to fix this, but just in case, here is the relevant code:\r\n\r\nBackend:\r\n`\r\n```\r\n/** Snippet by @fateddy - https://stackoverflow.com/a/35683261\r\n *\r\n * @param path the path to the file as a String\r\n * @return a resource representing the file to download\r\n */\r\n@GetMapping(&quot;/browsable/download&quot;)\r\npublic  ResponseEntity&lt;Resource&gt; getFile(@RequestParam (required = true) String path) {\r\n   String pathToFile = ROOT_PATH + File.separator + path;\r\n   Path pathTMP = Paths.get(pathToFile); // Temporary Path-Object\r\n   File file = new File(pathToFile);\r\n   HttpHeaders headers = new HttpHeaders();\r\n   MediaType mediatype = MediaType.APPLICATION_OCTET_STREAM;\r\n\r\n   if (resolveFileExtension(file).equals(&quot;.jar&quot;)){ // custom mediaType for .jar files\r\n      mediatype = MediaType.parseMediaType(&quot;application/java-archive&quot;);\r\n   }\r\n   try {\r\n      ByteArrayResource resource = new ByteArrayResource(Files.readAllBytes(pathTMP));\r\n      return ResponseEntity.ok()\r\n            .headers(headers)\r\n            .contentLength(file.length())\r\n            .contentType(mediatype)\r\n            .body(resource);\r\n   } catch (IOException e) {\r\n      System.err.println(&quot;Something went wrong&quot;);\r\n      throw new RuntimeException(e);\r\n   }\r\n}\r\n```\r\n`\r\n\r\nwhich is called by my frontend code: \r\n`\r\n```\r\n  /**\r\n   * The wrapper function for Requesting a file Download\r\n   * Called by the HTMLElements of the &quot;Files&quot;-Part of the filebrowser\r\n   * @param fileClicked the file which is to be downloaded\r\n   */\r\n  requestFile(fileClicked: string) {\r\n    if (this.currentURL === &#39;&#39;) {\r\n      var url = fileClicked;\r\n    } else {\r\n      var url = this.currentURL + this.pathSeperator + fileClicked; // The full URL of the Child directory\r\n    }\r\n    this.dl_filename = fileClicked;\r\n    this.mediaType = &#39;application/octet-stream&#39;;\r\n    if (this.resolveFileExtension(fileClicked) == &#39;.jar&#39;) {\r\n      this.mediaType = &#39;application/java-archive&#39;; // apply custom mediaType for .jar files\r\n    }\r\n    this.http\r\n      .downloadFile(url, this.mediaType)\r\n      .subscribe(this.observerDOWNLOAD); // Call the Server and download the file -&gt; calls download() inside the Observer\r\n  }\r\n```\r\n`\r\nthen in the httpService:\r\n`\r\n```\r\n  /**\r\n   * Calls the /download Endpoint to request a download of the given file\r\n   * @param filePath The relative path to the file which was requested for Download\r\n   * @returns An Observable containing the response of the Server (aka. the File as an Observable)\r\n   */\r\n  downloadFile(filePath: string, mediaType: string) {\r\n    var httpOptions = {};\r\n    httpOptions = {\r\n      params: new HttpParams().set(&#39;path&#39;, filePath),\r\n      responseType: mediaType\r\n    };\r\n    const url = `${environment.serverUrl}/browsable/download`;\r\n    const result = this.http.get(url, httpOptions);\r\n    return result;\r\n  }\r\n}\r\n```\r\n`\r\n\r\nand finally downloaded: \r\n`\r\n```\r\n  /**\r\n   * Downloads the given file inside a newly-created, hidden, a-tag-HTMLElement, which is destroyed afterwards\r\n   * Called by the Observer responsible for downloads\r\n   * @param response an Observable representing the File\r\n   */\r\n  download(response: any) {\r\n    // Create a blob representing the File - https://stackblitz.com/edit/angular-blob-file-download?file=app%2Fapp.component.ts for more info\r\n    // &quot;Blobs represent data that isn&#39;t necessarily in a JavaScript-native format.&quot;\r\n    const blob = new Blob([response], { type: this.mediaType });\r\n    const url = window.URL.createObjectURL(blob);\r\n    /** Workaround for FileDownload | Snippet customized from @Kol - https://stackoverflow.com/a/19328891\r\n      1 - Create a hidden &lt;a&gt; tag.\r\n      2 - Set its href attribute to the blob&#39;s URL.\r\n      3 - Set its download attribute to the filename.\r\n      4 - Click on the &lt;a&gt; tag.\r\n       */\r\n    var a = document.createElement(&#39;a&#39;);\r\n    document.body.appendChild(a);\r\n    a.className = &#39;hidden&#39;;\r\n    a.href = url;\r\n    a.download = this.dl_filename;\r\n    a.click();\r\n    window.URL.revokeObjectURL(url);\r\n    a.remove();\r\n  }\r\n```\r\n`\r\n\r\nAnd here is the picture of my request &amp; response: (here the resulting jar file is ~30mb)\r\n[GET-request](https://i.stack.imgur.com/5slKf.png)\r\n\r\n![request &amp; response](https://i.stack.imgur.com/BsjlY.png)\r\n","title":"jar-archive corrupted after download","body":"<p>I have set up a simple front- &amp; backend project for browsing &amp; downloading files.</p>\n<p>My backend server is written in java and the frontend is an angular application.</p>\n<p>The backend has a path to a directory which it exposes to the frontend. The use can then use the frontend to navigate through the directories which are exposed by my backend.</p>\n<p>Now I have set up a simple file download, which works fine without any problems EXCEPT when I try to download a jar-archive from the backend.\nWhen I try to download a .jar file, the downloaded file ends up being way larger than expected. For example: I want to download a 18mb .jar file and it ends up downloading a 30mb .jar file instead.</p>\n<p>I'm pretty much at the end of my wits when it comes to this problem, as I'm still new to the Frontend &amp; web environment, please keep that in mind. Thank you.</p>\n<p>What makes this Problem even more confusing for me is that my response-header shows the correct Content length and the correct amount of transferred bytes, matching my expected file-size (see attached images).\nI also tried to apply the &quot;application/java-archive&quot; MediaType to both my Request and Response headers but this didn't fix the problem.</p>\n<p>I hope i provided most of the Information needed to fix this, but just in case, here is the relevant code:</p>\n<p>Backend:\n`</p>\n<pre><code>/** Snippet by @fateddy - https://stackoverflow.com/a/35683261\n *\n * @param path the path to the file as a String\n * @return a resource representing the file to download\n */\n@GetMapping(&quot;/browsable/download&quot;)\npublic  ResponseEntity&lt;Resource&gt; getFile(@RequestParam (required = true) String path) {\n   String pathToFile = ROOT_PATH + File.separator + path;\n   Path pathTMP = Paths.get(pathToFile); // Temporary Path-Object\n   File file = new File(pathToFile);\n   HttpHeaders headers = new HttpHeaders();\n   MediaType mediatype = MediaType.APPLICATION_OCTET_STREAM;\n\n   if (resolveFileExtension(file).equals(&quot;.jar&quot;)){ // custom mediaType for .jar files\n      mediatype = MediaType.parseMediaType(&quot;application/java-archive&quot;);\n   }\n   try {\n      ByteArrayResource resource = new ByteArrayResource(Files.readAllBytes(pathTMP));\n      return ResponseEntity.ok()\n            .headers(headers)\n            .contentLength(file.length())\n            .contentType(mediatype)\n            .body(resource);\n   } catch (IOException e) {\n      System.err.println(&quot;Something went wrong&quot;);\n      throw new RuntimeException(e);\n   }\n}\n</code></pre>\n<p>`</p>\n<p>which is called by my frontend code:\n`</p>\n<pre><code>  /**\n   * The wrapper function for Requesting a file Download\n   * Called by the HTMLElements of the &quot;Files&quot;-Part of the filebrowser\n   * @param fileClicked the file which is to be downloaded\n   */\n  requestFile(fileClicked: string) {\n    if (this.currentURL === '') {\n      var url = fileClicked;\n    } else {\n      var url = this.currentURL + this.pathSeperator + fileClicked; // The full URL of the Child directory\n    }\n    this.dl_filename = fileClicked;\n    this.mediaType = 'application/octet-stream';\n    if (this.resolveFileExtension(fileClicked) == '.jar') {\n      this.mediaType = 'application/java-archive'; // apply custom mediaType for .jar files\n    }\n    this.http\n      .downloadFile(url, this.mediaType)\n      .subscribe(this.observerDOWNLOAD); // Call the Server and download the file -&gt; calls download() inside the Observer\n  }\n</code></pre>\n<p><code>then in the httpService:</code></p>\n<pre><code>  /**\n   * Calls the /download Endpoint to request a download of the given file\n   * @param filePath The relative path to the file which was requested for Download\n   * @returns An Observable containing the response of the Server (aka. the File as an Observable)\n   */\n  downloadFile(filePath: string, mediaType: string) {\n    var httpOptions = {};\n    httpOptions = {\n      params: new HttpParams().set('path', filePath),\n      responseType: mediaType\n    };\n    const url = `${environment.serverUrl}/browsable/download`;\n    const result = this.http.get(url, httpOptions);\n    return result;\n  }\n}\n</code></pre>\n<p>`</p>\n<p>and finally downloaded:\n`</p>\n<pre><code>  /**\n   * Downloads the given file inside a newly-created, hidden, a-tag-HTMLElement, which is destroyed afterwards\n   * Called by the Observer responsible for downloads\n   * @param response an Observable representing the File\n   */\n  download(response: any) {\n    // Create a blob representing the File - https://stackblitz.com/edit/angular-blob-file-download?file=app%2Fapp.component.ts for more info\n    // &quot;Blobs represent data that isn't necessarily in a JavaScript-native format.&quot;\n    const blob = new Blob([response], { type: this.mediaType });\n    const url = window.URL.createObjectURL(blob);\n    /** Workaround for FileDownload | Snippet customized from @Kol - https://stackoverflow.com/a/19328891\n      1 - Create a hidden &lt;a&gt; tag.\n      2 - Set its href attribute to the blob's URL.\n      3 - Set its download attribute to the filename.\n      4 - Click on the &lt;a&gt; tag.\n       */\n    var a = document.createElement('a');\n    document.body.appendChild(a);\n    a.className = 'hidden';\n    a.href = url;\n    a.download = this.dl_filename;\n    a.click();\n    window.URL.revokeObjectURL(url);\n    a.remove();\n  }\n</code></pre>\n<p>`</p>\n<p>And here is the picture of my request &amp; response: (here the resulting jar file is ~30mb)\n<a href=\"https://i.stack.imgur.com/5slKf.png\" rel=\"nofollow noreferrer\">GET-request</a></p>\n<p><img src=\"https://i.stack.imgur.com/BsjlY.png\" alt=\"request &amp; response\" /></p>\n"},{"tags":["java","excel","spring","spring-boot","resttemplate"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1672759718,"post_id":74992304,"comment_id":132344239,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":24749406,"reputation":1,"user_id":18635124,"display_name":"Naresh Gandikota"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672742844,"creation_date":1672742844,"question_id":74992304,"body_markdown":"I want to read base64 response coming by hitting a rest Api. next decoding the base64 response and converting into excel file. How can I do this using rest template.\r\n\r\nI am hitting an Api through rest Template exchange method. now need to store that base64 response and converting it.","title":"converting base64 response getting from Api to excel file in java","body":"<p>I want to read base64 response coming by hitting a rest Api. next decoding the base64 response and converting into excel file. How can I do this using rest template.</p>\n<p>I am hitting an Api through rest Template exchange method. now need to store that base64 response and converting it.</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":325703,"reputation":28507,"user_id":647053,"display_name":"Ram Ghadiyaram"},"score":0,"creation_date":1586128994,"post_id":61049853,"comment_id":108006563,"body_markdown":"hi check my answer you might be facing issue with java version HADOOP-14586","body":"hi check my answer you might be facing issue with java version HADOOP-14586"}],"answers":[{"comments":[{"owner":{"account_id":8002284,"reputation":83,"user_id":6036704,"accept_rate":0,"display_name":"J. Bloom"},"score":0,"creation_date":1586132296,"post_id":61050792,"comment_id":108007290,"body_markdown":"Can I upgrade Hadoop instead? Or not use Hadoop? I want to use Java 13 so I can use text blocks in my testing (my application works with complex JSON files, and using text blocks makes it much easier to write test cases).","body":"Can I upgrade Hadoop instead? Or not use Hadoop? I want to use Java 13 so I can use text blocks in my testing (my application works with complex JSON files, and using text blocks makes it much easier to write test cases)."},{"owner":{"account_id":325703,"reputation":28507,"user_id":647053,"display_name":"Ram Ghadiyaram"},"score":0,"creation_date":1586133101,"post_id":61050792,"comment_id":108007472,"body_markdown":"you cant use java 13 at this time till java 8 its supported","body":"you cant use java 13 at this time till java 8 its supported"}],"tags":[],"owner":{"account_id":325703,"reputation":28507,"user_id":647053,"display_name":"Ram Ghadiyaram"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1586133076,"creation_date":1586128923,"answer_id":61050792,"question_id":61049853,"body_markdown":"I am using spark 2.4.5 and jdk1.8.0_181 its working fine for me\r\n\r\n````\r\npackage examples;\r\n\r\n\r\n\r\nimport org.apache.spark.SparkConf;\r\nimport org.apache.spark.api.java.JavaRDD;\r\nimport org.apache.spark.api.java.JavaSparkContext;\r\nimport org.apache.spark.sql.SparkSession;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\n\r\npublic class SparkTest {\r\n  public static final SparkConf SPARK_CONFIGURATION = new SparkConf().setAppName(&quot;MOSDEX&quot;).setMaster(&quot;local[*]&quot;);\r\n  public static final JavaSparkContext SPARK_CONTEXT= new JavaSparkContext(SPARK_CONFIGURATION);\r\n  public static final SparkSession SPARK_SESSION= SparkSession.builder()\r\n    .config(SPARK_CONFIGURATION)\r\n    .getOrCreate();\r\n\r\n  public static void main(String[] args) {\r\n    setupTest();\r\n  }\r\n\r\n  public static void setupTest() {\r\n    List&lt;Integer&gt; data = Arrays.asList(1, 2, 3, 4, 5);\r\n    JavaRDD&lt;Integer&gt; distData = SPARK_CONTEXT.parallelize(data);\r\n    int sum= distData.reduce((a, b) -&gt; a + b);\r\n    System.out.println(&quot;Sum of &quot; + data.toString() + &quot; = &quot; + sum);\r\n    System.out.println();\r\n  }//SetupTest\r\n\r\n  public SparkTest() {\r\n    super();\r\n  }\r\n\r\n}//class SparkTest\r\n````\r\n\r\nResult :\r\n\r\n````\r\n[2020-04-05 18:14:42,184] INFO Running Spark version 2.4.5 (org.apache.spark.SparkContext:54)\r\n\r\n...\r\n\r\n[2020-04-05 18:14:44,060] WARN Using an existing SparkContext; some configuration may not take effect. (org.apache.spark.SparkContext:66)\r\nSum of [1, 2, 3, 4, 5] = 15\r\n\r\n````\r\n### AFAIK you are facing issue with java version as mentioned in this. [HADOOP-14586][1] StringIndexOutOfBoundsException breaks org.apache.hadoop.util.Shell on 2.7.x with Java 9\r\n\r\nChange the java version which is suitable with hadoop version. \r\n\r\nSee here \r\n# Latest Release (Spark 2.4.5) - Apache Spark docs \r\n\r\n[Spark runs on Java 8, Python 2.7+/3.4+ and R 3.1+. For the Scala API, Spark 2.4.5 uses Scala 2.12. You will need to use a compatible Scala version (2.12.x).][2]\r\n\r\n### NOTE : As per comment, java 13 is not supported by Spark. You need to downgrade the java version to java 8\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/HADOOP-14586\r\n  [2]: https://spark.apache.org/docs/latest/#downloading","title":"String Index Out Of Bounds Exception When Initializing Spark Context","body":"<p>I am using spark 2.4.5 and jdk1.8.0_181 its working fine for me</p>\n\n<pre><code>package examples;\n\n\n\nimport org.apache.spark.SparkConf;\nimport org.apache.spark.api.java.JavaRDD;\nimport org.apache.spark.api.java.JavaSparkContext;\nimport org.apache.spark.sql.SparkSession;\n\nimport java.util.Arrays;\nimport java.util.List;\n\n\npublic class SparkTest {\n  public static final SparkConf SPARK_CONFIGURATION = new SparkConf().setAppName(\"MOSDEX\").setMaster(\"local[*]\");\n  public static final JavaSparkContext SPARK_CONTEXT= new JavaSparkContext(SPARK_CONFIGURATION);\n  public static final SparkSession SPARK_SESSION= SparkSession.builder()\n    .config(SPARK_CONFIGURATION)\n    .getOrCreate();\n\n  public static void main(String[] args) {\n    setupTest();\n  }\n\n  public static void setupTest() {\n    List&lt;Integer&gt; data = Arrays.asList(1, 2, 3, 4, 5);\n    JavaRDD&lt;Integer&gt; distData = SPARK_CONTEXT.parallelize(data);\n    int sum= distData.reduce((a, b) -&gt; a + b);\n    System.out.println(\"Sum of \" + data.toString() + \" = \" + sum);\n    System.out.println();\n  }//SetupTest\n\n  public SparkTest() {\n    super();\n  }\n\n}//class SparkTest\n</code></pre>\n\n<p>Result :</p>\n\n<pre><code>[2020-04-05 18:14:42,184] INFO Running Spark version 2.4.5 (org.apache.spark.SparkContext:54)\n\n...\n\n[2020-04-05 18:14:44,060] WARN Using an existing SparkContext; some configuration may not take effect. (org.apache.spark.SparkContext:66)\nSum of [1, 2, 3, 4, 5] = 15\n\n</code></pre>\n\n<h3>AFAIK you are facing issue with java version as mentioned in this. <a href=\"https://issues.apache.org/jira/browse/HADOOP-14586\" rel=\"nofollow noreferrer\">HADOOP-14586</a> StringIndexOutOfBoundsException breaks org.apache.hadoop.util.Shell on 2.7.x with Java 9</h3>\n\n<p>Change the java version which is suitable with hadoop version. </p>\n\n<p>See here </p>\n\n<h1>Latest Release (Spark 2.4.5) - Apache Spark docs</h1>\n\n<p><a href=\"https://spark.apache.org/docs/latest/#downloading\" rel=\"nofollow noreferrer\">Spark runs on Java 8, Python 2.7+/3.4+ and R 3.1+. For the Scala API, Spark 2.4.5 uses Scala 2.12. You will need to use a compatible Scala version (2.12.x).</a></p>\n\n<h3>NOTE : As per comment, java 13 is not supported by Spark. You need to downgrade the java version to java 8</h3>\n"},{"tags":[],"owner":{"account_id":8002284,"reputation":83,"user_id":6036704,"accept_rate":0,"display_name":"J. Bloom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586210327,"creation_date":1586210327,"answer_id":61069617,"question_id":61049853,"body_markdown":"It turns out that if you use Hadoop &gt; 2.8, you can use Java 13 (I&#39;m now using Hadoop 2.8.5). This is tricky if you are using Spark 2.4.5 because on Maven, it comes prebuilt with Hadoop 2.6. You have to create a separate dependency for Hadoop 2.8.5 which overrides the prebuilt components. It took me quite a bit of experimenting to make that work. Plus, I&#39;m working in Windows, so I also needed to link Hadoop with winutils, which is another complication. None of this is very well documented, so I had to read a lot of posts on Stackoverflow to get it working. ","title":"String Index Out Of Bounds Exception When Initializing Spark Context","body":"<p>It turns out that if you use Hadoop > 2.8, you can use Java 13 (I'm now using Hadoop 2.8.5). This is tricky if you are using Spark 2.4.5 because on Maven, it comes prebuilt with Hadoop 2.6. You have to create a separate dependency for Hadoop 2.8.5 which overrides the prebuilt components. It took me quite a bit of experimenting to make that work. Plus, I'm working in Windows, so I also needed to link Hadoop with winutils, which is another complication. None of this is very well documented, so I had to read a lot of posts on Stackoverflow to get it working. </p>\n"},{"tags":[],"owner":{"account_id":11693821,"reputation":41,"user_id":8561118,"display_name":"Pramod Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637461035,"creation_date":1637461035,"answer_id":70051328,"question_id":61049853,"body_markdown":"Had the same issue with below versions\r\n&lt;br&gt;&lt;br&gt;\r\n1)Spark with version  2.12-2.4.4 &lt;br&gt;\r\n2)Hadoop with version 2.6.5 &lt;br&gt;\r\n3)JDK with version    java 16 in Spring STS  &lt;br&gt;\r\n\r\n&lt;br&gt;\r\nSolution : In Spring STS corrected the jdk version to jdk 1.8 and issue is resolved.","title":"String Index Out Of Bounds Exception When Initializing Spark Context","body":"<p>Had the same issue with below versions\n<br><br>\n1)Spark with version  2.12-2.4.4 <br>\n2)Hadoop with version 2.6.5 <br>\n3)JDK with version    java 16 in Spring STS  <br></p>\n<br>\nSolution : In Spring STS corrected the jdk version to jdk 1.8 and issue is resolved.\n"}],"owner":{"account_id":8002284,"reputation":83,"user_id":6036704,"accept_rate":0,"display_name":"J. Bloom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1929,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61050792,"answer_count":3,"score":1,"last_activity_date":1672742598,"creation_date":1586122623,"question_id":61049853,"body_markdown":"I&#39;ve been working with Spark for more than 5 years. Recently, I encountered a basic error I have never seen before, and it has stopped development cold. When I do a routine call to create a Spark Context, I get an ExceptionInInitializerError caused by a StringIndexOutOfBoundsException. Here is a simple sample of my code:\r\n\r\n    public class SparkTest {\r\n    \tpublic static final SparkConf SPARK_CONFIGURATION = new SparkConf().setAppName(&quot;MOSDEX&quot;).setMaster(&quot;local[*]&quot;);\r\n    \tpublic static final JavaSparkContext SPARK_CONTEXT= new JavaSparkContext(SPARK_CONFIGURATION);\r\n    \tpublic static final SparkSession SPARK_SESSION= SparkSession.builder()\r\n    \t\t\t.config(SPARK_CONFIGURATION)\r\n    \t\t\t.getOrCreate();\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tsetupTest();\t\t\r\n    \t}\r\n    \t\r\n    \tpublic static void setupTest() {\r\n    \t\tList&lt;Integer&gt; data = Arrays.asList(1, 2, 3, 4, 5);\r\n    \t\tJavaRDD&lt;Integer&gt; distData = SPARK_CONTEXT.parallelize(data);\r\n    \t\tint sum= distData.reduce((a, b) -&gt; a + b);\r\n    \t\tSystem.out.println(&quot;Sum of &quot; + data.toString() + &quot; = &quot; + sum);\r\n    \t\tSystem.out.println();\r\n    \t}//SetupTest\r\n    \t\r\n    \tpublic SparkTest() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    }//class SparkTest\r\n\r\nHere is the error message chain:\r\n\r\n    WARNING: An illegal reflective access operation has occurred\r\n    WARNING: Illegal reflective access by org.apache.spark.unsafe.Platform (file:/C:/Users/Owner/.m2/repository/org/apache/spark/spark-unsafe_2.11/2.4.5/spark-unsafe_2.11-2.4.5.jar) to method java.nio.Bits.unaligned()\r\n    WARNING: Please consider reporting this to the maintainers of org.apache.spark.unsafe.Platform\r\n    WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n    WARNING: All illegal access operations will be denied in a future release\r\n    Using Spark&#39;s default log4j profile: org/apache/spark/log4j-defaults.properties\r\n    20/04/05 13:55:21 INFO SparkContext: Running Spark version 2.4.5\r\n    20/04/05 13:55:22 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n    \tat org.apache.hadoop.util.StringUtils.&lt;clinit&gt;(StringUtils.java:79)\r\n    \tat org.apache.hadoop.security.Groups.parseStaticMapping(Groups.java:116)\r\n    \tat org.apache.hadoop.security.Groups.&lt;init&gt;(Groups.java:93)\r\n    \tat org.apache.hadoop.security.Groups.&lt;init&gt;(Groups.java:73)\r\n    \tat org.apache.hadoop.security.Groups.getUserToGroupsMappingService(Groups.java:293)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.initialize(UserGroupInformation.java:283)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.ensureInitialized(UserGroupInformation.java:260)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.loginUserFromSubject(UserGroupInformation.java:789)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.getLoginUser(UserGroupInformation.java:774)\r\n    \tat org.apache.hadoop.security.UserGroupInformation.getCurrentUser(UserGroupInformation.java:647)\r\n    \tat org.apache.spark.util.Utils$$anonfun$getCurrentUserName$1.apply(Utils.scala:2422)\r\n    \tat org.apache.spark.util.Utils$$anonfun$getCurrentUserName$1.apply(Utils.scala:2422)\r\n    \tat scala.Option.getOrElse(Option.scala:121)\r\n    \tat org.apache.spark.util.Utils$.getCurrentUserName(Utils.scala:2422)\r\n    \tat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:293)\r\n    \tat io.github.JeremyBloom.mosdex.SparkTest.&lt;clinit&gt;(SparkTest.java:28)\r\n    Caused by: java.lang.StringIndexOutOfBoundsException: begin 0, end 3, length 2\r\n    \tat java.base/java.lang.String.checkBoundsBeginEnd(String.java:3720)\r\n    \tat java.base/java.lang.String.substring(String.java:1909)\r\n    \tat org.apache.hadoop.util.Shell.&lt;clinit&gt;(Shell.java:50)\r\n    \t... 16 more\r\n\r\nI also get the same error when I use SparkContext instead of JavaSparkContext. I&#39;ve done extensive search for this error and have not seen anyone else who has it, so I don&#39;t think it&#39;s a bug in Spark. I&#39;ve used this code in other applications previously (with earlier versions of Spark) without a problem.\r\n\r\nI&#39;m using the latest version of Spark (2.4.5). Why isn&#39;t this working?\r\n\r\n","title":"String Index Out Of Bounds Exception When Initializing Spark Context","body":"<p>I've been working with Spark for more than 5 years. Recently, I encountered a basic error I have never seen before, and it has stopped development cold. When I do a routine call to create a Spark Context, I get an ExceptionInInitializerError caused by a StringIndexOutOfBoundsException. Here is a simple sample of my code:</p>\n\n<pre><code>public class SparkTest {\n    public static final SparkConf SPARK_CONFIGURATION = new SparkConf().setAppName(\"MOSDEX\").setMaster(\"local[*]\");\n    public static final JavaSparkContext SPARK_CONTEXT= new JavaSparkContext(SPARK_CONFIGURATION);\n    public static final SparkSession SPARK_SESSION= SparkSession.builder()\n            .config(SPARK_CONFIGURATION)\n            .getOrCreate();\n\n    public static void main(String[] args) {\n        setupTest();        \n    }\n\n    public static void setupTest() {\n        List&lt;Integer&gt; data = Arrays.asList(1, 2, 3, 4, 5);\n        JavaRDD&lt;Integer&gt; distData = SPARK_CONTEXT.parallelize(data);\n        int sum= distData.reduce((a, b) -&gt; a + b);\n        System.out.println(\"Sum of \" + data.toString() + \" = \" + sum);\n        System.out.println();\n    }//SetupTest\n\n    public SparkTest() {\n        super();\n    }\n\n}//class SparkTest\n</code></pre>\n\n<p>Here is the error message chain:</p>\n\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.apache.spark.unsafe.Platform (file:/C:/Users/Owner/.m2/repository/org/apache/spark/spark-unsafe_2.11/2.4.5/spark-unsafe_2.11-2.4.5.jar) to method java.nio.Bits.unaligned()\nWARNING: Please consider reporting this to the maintainers of org.apache.spark.unsafe.Platform\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\nUsing Spark's default log4j profile: org/apache/spark/log4j-defaults.properties\n20/04/05 13:55:21 INFO SparkContext: Running Spark version 2.4.5\n20/04/05 13:55:22 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\nException in thread \"main\" java.lang.ExceptionInInitializerError\n    at org.apache.hadoop.util.StringUtils.&lt;clinit&gt;(StringUtils.java:79)\n    at org.apache.hadoop.security.Groups.parseStaticMapping(Groups.java:116)\n    at org.apache.hadoop.security.Groups.&lt;init&gt;(Groups.java:93)\n    at org.apache.hadoop.security.Groups.&lt;init&gt;(Groups.java:73)\n    at org.apache.hadoop.security.Groups.getUserToGroupsMappingService(Groups.java:293)\n    at org.apache.hadoop.security.UserGroupInformation.initialize(UserGroupInformation.java:283)\n    at org.apache.hadoop.security.UserGroupInformation.ensureInitialized(UserGroupInformation.java:260)\n    at org.apache.hadoop.security.UserGroupInformation.loginUserFromSubject(UserGroupInformation.java:789)\n    at org.apache.hadoop.security.UserGroupInformation.getLoginUser(UserGroupInformation.java:774)\n    at org.apache.hadoop.security.UserGroupInformation.getCurrentUser(UserGroupInformation.java:647)\n    at org.apache.spark.util.Utils$$anonfun$getCurrentUserName$1.apply(Utils.scala:2422)\n    at org.apache.spark.util.Utils$$anonfun$getCurrentUserName$1.apply(Utils.scala:2422)\n    at scala.Option.getOrElse(Option.scala:121)\n    at org.apache.spark.util.Utils$.getCurrentUserName(Utils.scala:2422)\n    at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:293)\n    at io.github.JeremyBloom.mosdex.SparkTest.&lt;clinit&gt;(SparkTest.java:28)\nCaused by: java.lang.StringIndexOutOfBoundsException: begin 0, end 3, length 2\n    at java.base/java.lang.String.checkBoundsBeginEnd(String.java:3720)\n    at java.base/java.lang.String.substring(String.java:1909)\n    at org.apache.hadoop.util.Shell.&lt;clinit&gt;(Shell.java:50)\n    ... 16 more\n</code></pre>\n\n<p>I also get the same error when I use SparkContext instead of JavaSparkContext. I've done extensive search for this error and have not seen anyone else who has it, so I don't think it's a bug in Spark. I've used this code in other applications previously (with earlier versions of Spark) without a problem.</p>\n\n<p>I'm using the latest version of Spark (2.4.5). Why isn't this working?</p>\n"},{"tags":["java","spring-boot","tomcat10"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1655893956,"post_id":72704757,"comment_id":128438375,"body_markdown":"You will need to downgrade to Tomcat 9.","body":"You will need to downgrade to Tomcat 9."},{"owner":{"account_id":10109151,"reputation":75,"user_id":7470727,"display_name":"trickster"},"score":0,"creation_date":1655899450,"post_id":72704757,"comment_id":128440433,"body_markdown":"Thanks.. I can&#39;t believe how much time I wasted on that....","body":"Thanks.. I can&#39;t believe how much time I wasted on that...."}],"owner":{"account_id":10109151,"reputation":75,"user_id":7470727,"display_name":"trickster"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655893937,"answer_count":0,"score":0,"last_activity_date":1672742416,"creation_date":1655831891,"question_id":72704757,"body_markdown":"I&#39;ve followed about 15 different threads on Stack to try and resolve this, but I seem to be hitting a brick wall. \r\n\r\nI&#39;m running JDK17 and Tomcat 10.0.22. I have followed a baeldung article for deploying a Spring Boot app on Tomcat, and I&#39;m having no luck at all. I&#39;ve tried used gradle and maven. \r\n\r\nWith the provided block commented out, the war runs fine with java -jar spring-boot-deployment.war. However, when activating this line and dragging the war into the web app folder, it doesn&#39;t work. \r\n\r\nFor example, just in spring boot localhost:8080/hello/ works fine\r\nafter deploying to Tomcat and going to http://localhost:8080/spring-boot-deployment/hello/ I get ```The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.```\r\n\r\nI&#39;m not seeing any errors in the Tomcat logs, and the manager says its running. Given how many threads there are on this, it seems to be a pretty poorly documented/understood thing. \r\n\r\n``` java \r\n@SpringBootApplication\r\npublic class SpringBootTomcatApplication extends SpringBootServletInitializer {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SpringBootTomcatApplication.class, args);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@RestController\r\npublic class TomcatController {\r\n\r\n    @GetMapping(value = &quot;/hello&quot;)\r\n    public Collection&lt;String&gt; sayHello() {\r\n        return IntStream.range(0, 10)\r\n                .mapToObj(i -&gt; &quot;Hello number &quot; + i)\r\n                .collect(Collectors.toList());\r\n    }\r\n}\r\n```\r\n\r\n``` xml \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;artifactId&gt;spring-boot-deployment&lt;/artifactId&gt;\r\n    &lt;name&gt;spring-boot-deployment&lt;/name&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n    &lt;groupId&gt;com.baeldung.spring-boot-modules&lt;/groupId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.7&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;${artifactId}&lt;/finalName&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;**/conf.properties&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;repackage&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;mainClass&gt;com.baeldung.springbootsimple.SpringBootTomcatApplication&lt;/mainClass&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"Deploying Spring Boot to Tomcat 10 produces 404 error","body":"<p>I've followed about 15 different threads on Stack to try and resolve this, but I seem to be hitting a brick wall.</p>\n<p>I'm running JDK17 and Tomcat 10.0.22. I have followed a baeldung article for deploying a Spring Boot app on Tomcat, and I'm having no luck at all. I've tried used gradle and maven.</p>\n<p>With the provided block commented out, the war runs fine with java -jar spring-boot-deployment.war. However, when activating this line and dragging the war into the web app folder, it doesn't work.</p>\n<p>For example, just in spring boot localhost:8080/hello/ works fine\nafter deploying to Tomcat and going to http://localhost:8080/spring-boot-deployment/hello/ I get <code>The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.</code></p>\n<p>I'm not seeing any errors in the Tomcat logs, and the manager says its running. Given how many threads there are on this, it seems to be a pretty poorly documented/understood thing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class SpringBootTomcatApplication extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootTomcatApplication.class, args);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class TomcatController {\n\n    @GetMapping(value = &quot;/hello&quot;)\n    public Collection&lt;String&gt; sayHello() {\n        return IntStream.range(0, 10)\n                .mapToObj(i -&gt; &quot;Hello number &quot; + i)\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;artifactId&gt;spring-boot-deployment&lt;/artifactId&gt;\n    &lt;name&gt;spring-boot-deployment&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;groupId&gt;com.baeldung.spring-boot-modules&lt;/groupId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.7&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;${artifactId}&lt;/finalName&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/conf.properties&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;repackage&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;mainClass&gt;com.baeldung.springbootsimple.SpringBootTomcatApplication&lt;/mainClass&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","json","aspose"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1672743111,"post_id":74992209,"comment_id":132338856,"body_markdown":"There is a blog post from aspose about importing json data. It&#39;s based on the c# version of aspose.cells, but it might be helpful: https://blog.aspose.com/cells/import-data-from-json-to-excel-in-csharp-asp.net/","body":"There is a blog post from aspose about importing json data. It&#39;s based on the c# version of aspose.cells, but it might be helpful: <a href=\"https://blog.aspose.com/cells/import-data-from-json-to-excel-in-csharp-asp.net/\" rel=\"nofollow noreferrer\">blog.aspose.com/cells/&hellip;</a>"},{"owner":{"account_id":25888760,"reputation":1,"user_id":19616469,"display_name":"Ramesh"},"score":0,"creation_date":1672743500,"post_id":74992209,"comment_id":132338972,"body_markdown":"@SpaceTrucker am using java.","body":"@SpaceTrucker am using java."},{"owner":{"account_id":4153548,"reputation":1826,"user_id":3405358,"display_name":"Amjad Sahi"},"score":0,"creation_date":1672768276,"post_id":74992209,"comment_id":132347056,"body_markdown":"@Ramesh, please provide your &quot;elastic_search.json&quot; file/data to evaluate your issue. You may zip it and attach. You may also post your queries or issue in the dedicated forum(https://forum.aspose.com/c/cells/9).\n\nPS. I am working as Support developer/ Evangelist at Aspose.","body":"@Ramesh, please provide your &quot;elastic_search.json&quot; file/data to evaluate your issue. You may zip it and attach. You may also post your queries or issue in the dedicated forum(<a href=\"https://forum.aspose.com/c/cells/9\" rel=\"nofollow noreferrer\">forum.aspose.com/c/cells/9</a>).  PS. I am working as Support developer/ Evangelist at Aspose."}],"owner":{"account_id":25888760,"reputation":1,"user_id":19616469,"display_name":"Ramesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672742408,"creation_date":1672742408,"question_id":74992209,"body_markdown":"I am using aspose cells to convert json file to excel file but getting an excpection saying that file format is not supported, Below is the code which i am using.Getting excepetion at the line **Workbook workbook = new Workbook(&quot;.//Json_files//elastic_search.json&quot;);**\r\n\r\n    public void FinBlock() throws Exception {\r\n\r\n        String USERNAME = CONFIG.getProperty(&quot;Username&quot;);\r\n        String Password = CONFIG.getProperty(&quot;password&quot;);\r\n        String URI = CONFIG.getProperty(&quot;API&quot;);\r\n        SessionFilter session = new SessionFilter();\r\n        RestAssured.baseURI = URI;\r\n        String Response = given().auth().preemptive().basic(USERNAME, Password).filter(session).when()\r\n                .get(RestAssured.baseURI).then().extract().response().getCookie(&quot;RAY_SESSION_ID&quot;);\r\n\r\n        Response resp1 = given().cookie(&quot;RAY_SESSION_ID&quot;, Response).filter(session).when()\r\n                .get(&quot;URI&quot;)\r\n                .then().log().all().extract().response();\r\n\r\n        PrintWriter out1 = new PrintWriter(\r\n                new FileWriter(&quot;.//Json_files//elastic_search.json&quot;, true), true);\r\n        out1.write(resp1.asString());\r\n        out1.close();\r\n\r\n        LocalDateTime date = LocalDateTime.now();\r\n        DateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\r\n        String formattedDate = date.format(dateFormat);\r\n\r\n        DateTimeFormatter dateformat = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH-mm&quot;);\r\n        String formatedate = date.format(dateformat);\r\n\r\n        Path dir = Paths.get(&quot;.//Output_Files//ES_Excelfiles-&quot; + formattedDate);\r\n        Files.createDirectories(dir);\r\n\r\n        Workbook workbook = new Workbook(&quot;.//Json_files//elastic_search.json&quot;);\r\n        // workbook.save(&quot;.//output-&quot;+formatedate+&quot;.xlsx&quot;);\r\n        // workbook.save(&quot;.//Excel_files//es_files//ES-&quot;+stockname+&quot;-&quot;+formatedate+&quot;.xlsx&quot;);\r\n        workbook.save(dir + &quot;//ES-&quot; + stockname + &quot;-&quot; + formatedate + &quot;.xlsx&quot;);\r\n\r\n    }","title":"aspose cell exception this file format is not supported","body":"<p>I am using aspose cells to convert json file to excel file but getting an excpection saying that file format is not supported, Below is the code which i am using.Getting excepetion at the line <strong>Workbook workbook = new Workbook(&quot;.//Json_files//elastic_search.json&quot;);</strong></p>\n<pre><code>public void FinBlock() throws Exception {\n\n    String USERNAME = CONFIG.getProperty(&quot;Username&quot;);\n    String Password = CONFIG.getProperty(&quot;password&quot;);\n    String URI = CONFIG.getProperty(&quot;API&quot;);\n    SessionFilter session = new SessionFilter();\n    RestAssured.baseURI = URI;\n    String Response = given().auth().preemptive().basic(USERNAME, Password).filter(session).when()\n            .get(RestAssured.baseURI).then().extract().response().getCookie(&quot;RAY_SESSION_ID&quot;);\n\n    Response resp1 = given().cookie(&quot;RAY_SESSION_ID&quot;, Response).filter(session).when()\n            .get(&quot;URI&quot;)\n            .then().log().all().extract().response();\n\n    PrintWriter out1 = new PrintWriter(\n            new FileWriter(&quot;.//Json_files//elastic_search.json&quot;, true), true);\n    out1.write(resp1.asString());\n    out1.close();\n\n    LocalDateTime date = LocalDateTime.now();\n    DateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\n    String formattedDate = date.format(dateFormat);\n\n    DateTimeFormatter dateformat = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH-mm&quot;);\n    String formatedate = date.format(dateformat);\n\n    Path dir = Paths.get(&quot;.//Output_Files//ES_Excelfiles-&quot; + formattedDate);\n    Files.createDirectories(dir);\n\n    Workbook workbook = new Workbook(&quot;.//Json_files//elastic_search.json&quot;);\n    // workbook.save(&quot;.//output-&quot;+formatedate+&quot;.xlsx&quot;);\n    // workbook.save(&quot;.//Excel_files//es_files//ES-&quot;+stockname+&quot;-&quot;+formatedate+&quot;.xlsx&quot;);\n    workbook.save(dir + &quot;//ES-&quot; + stockname + &quot;-&quot; + formatedate + &quot;.xlsx&quot;);\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1672741725,"post_id":74991995,"comment_id":132338392,"body_markdown":"Now if only in JPA you could write a query, which you could put on a Spring Data repository method...","body":"Now if only in JPA you could write a query, which you could put on a Spring Data repository method..."},{"owner":{"account_id":14535295,"reputation":87,"user_id":10498869,"display_name":"Dadinho2000"},"score":0,"creation_date":1672741884,"post_id":74991995,"comment_id":132338448,"body_markdown":"I just can&#39;t do a proper query, I tried write one for my soft deletion, and had to go around the solution and write something else","body":"I just can&#39;t do a proper query, I tried write one for my soft deletion, and had to go around the solution and write something else"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1672742847,"post_id":74991995,"comment_id":132338771,"body_markdown":"Why wouldn&#39;t you be able to use a query? Used it uncountable times... Your problem is you are adding the `@Query` in the wrong place.","body":"Why wouldn&#39;t you be able to use a query? Used it uncountable times... Your problem is you are adding the <code>@Query</code> in the wrong place."}],"answers":[{"comments":[{"owner":{"account_id":14535295,"reputation":87,"user_id":10498869,"display_name":"Dadinho2000"},"score":0,"creation_date":1672851176,"post_id":74992202,"comment_id":132367410,"body_markdown":"Thanks sir, I managed to do it, because of you !! Thanks !","body":"Thanks sir, I managed to do it, because of you !! Thanks !"}],"tags":[],"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672742372,"creation_date":1672742372,"answer_id":74992202,"question_id":74991995,"body_markdown":"You can add method in `OrderRepository` interface\r\n\r\n    public List&lt;Order&gt; findByCreatedAtBetween(LocalDate d1, LocalDate d2)\r\n    \r\nand call it \r\n    \r\n    orderRepository.findByCreatedAtBetween(today.minusDays(1),today);\r\n\r\nhttps://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.details\r\n","title":"Filter orders to a one day period - SpringBoot JPA MYSQL","body":"<p>You can add method in <code>OrderRepository</code> interface</p>\n<pre><code>public List&lt;Order&gt; findByCreatedAtBetween(LocalDate d1, LocalDate d2)\n</code></pre>\n<p>and call it</p>\n<pre><code>orderRepository.findByCreatedAtBetween(today.minusDays(1),today);\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.details\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.details</a></p>\n"}],"owner":{"account_id":14535295,"reputation":87,"user_id":10498869,"display_name":"Dadinho2000"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1672742372,"creation_date":1672741358,"question_id":74991995,"body_markdown":"I&#39;m trying to retrieve a list of just the orders created from one day ago till today, and I can&#39;t manage to find any help about it, tried everything I found already.\r\nBasically I need a getAllOrders(), but with filtered by that time period, one day....\r\nHow do I filter it ? I Found tons of tutorials on how to sort them descending or ascending, nothing else.\r\n\r\n\r\nMy order.java:\r\n\r\n```\r\n\r\npackage com.proj.my.model;\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\n\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\nimport jakarta.persistence.CascadeType;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.EntityListeners;\r\nimport jakarta.persistence.FetchType;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.JoinColumn;\r\nimport jakarta.persistence.OneToMany;\r\nimport jakarta.persistence.OneToOne;\r\nimport jakarta.persistence.Table;\r\nimport lombok.ToString;\r\n\r\n@ToString\r\n@Entity\r\n@Table(name = &quot;myorder&quot;)\r\n@EntityListeners(AuditingEntityListener.class)\r\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;}, \r\n    allowGetters = true)  \r\npublic class Order {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    \r\n    @OneToOne(cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;userId&quot;)\r\n    private User user;\r\n\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, targetEntity = ShoppingCart.class)\r\n    @JoinColumn(name = &quot;order_id&quot;)\r\n    private List&lt;ShoppingCart&gt; cartItems;\r\n    @CreationTimestamp\r\n    @Column(updatable = false, name = &quot;createdAt&quot;)\r\n    private LocalDate createdAt;\r\n\r\n    public LocalDate getCreatedAt() {\r\n        return createdAt;\r\n    }\r\n\r\n    public void setCreatedAt(LocalDate createdAt) {\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    public Order() {\r\n    }\r\n\r\n    public Order(User user, LocalDate createdAt, List&lt;ShoppingCart&gt; cartItems) {\r\n        this.user = user;\r\n        this.cartItems = cartItems;\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public User getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setCustomer(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    public List&lt;ShoppingCart&gt; getCartItems() {\r\n        return cartItems;\r\n    }\r\n\r\n    public void setCartItems(List&lt;ShoppingCart&gt; cartItems) {\r\n        this.cartItems = cartItems;\r\n    }\r\n}\r\n```\r\nMy orderservice.java\r\n```\r\npackage com.proj.my.service;\r\n\r\nimport com.proj.my.model.Order;\r\nimport com.proj.my.model.CloudProduct;\r\nimport com.proj.my.model.ShoppingCart;\r\nimport com.proj.my.repository.OrderRepository;\r\nimport com.proj.my.repository.CloudProductRepository;\r\n\r\nimport org.springframework.stereotype.Service;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class OrderService {\r\n\r\n    private OrderRepository orderRepository;\r\n    private CloudProductRepository cloudProductRepository;\r\n\r\n    public OrderService(OrderRepository orderRepository, CloudProductRepository cloudProductRepository) {\r\n        this.orderRepository = orderRepository;\r\n        this.cloudProductRepository = cloudProductRepository;\r\n    }\r\n\r\n    public Order getOrderDetail(int orderId) {\r\n        Optional&lt;Order&gt; order = this.orderRepository.findById(orderId);\r\n        return order.isPresent() ? order.get() : null;\r\n    }\r\n\r\n\r\n    /* @Query(value = &quot;from order t where Date BETWEEN :yesterday AND :now&quot;)\r\n    public List&lt;Order&gt; getAllBetweenDates(@Param(&quot;yesterday&quot;)Date yesterday,@Param(&quot;now&quot;)Date localdate.now){\r\n        private LocalDate yesterday = now.minus(1, ChronoUnit.DAYS);\r\n        return orderRepository.findAll();\r\n    } */\r\n    \r\n   public List&lt;Order&gt; getAllOrderDetail() {\r\n        return orderRepository.findAll();\r\n    }\r\n\r\n    public float getCartAmount(List&lt;ShoppingCart&gt; shoppingCartList) {\r\n\r\n        float totalCartAmount = 0f;\r\n        float singleCartAmount = 0f;\r\n\r\n        for (ShoppingCart cart : shoppingCartList) {\r\n\r\n            String cloudProductName = cart.getProductName();\r\n            Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\r\n            if (product.isPresent()) {\r\n                CloudProduct cloudproduct = product.get();\r\n                singleCartAmount = cart.getQuantity() * cloudproduct.getpriceInEuros();\r\n                \r\n                totalCartAmount = totalCartAmount + singleCartAmount;\r\n                cart.setProductId(cloudproduct.getProductId());\r\n                cart.setAmount(singleCartAmount);\r\n                cloudProductRepository.save(cloudproduct);\r\n            }\r\n        }\r\n        return totalCartAmount;\r\n    }\r\n\r\n    public Order saveOrder(Order order) {\r\n        return orderRepository.save(order);\r\n    }\r\n}\r\n\r\n\r\n```\r\nMy orderDTO.java\r\n```\r\npackage com.proj.my.dto;\r\n\r\nimport com.proj.my.model.ShoppingCart;\r\n\r\nimport java.util.List;\r\n\r\npublic class OrderDTO {\r\n\r\n    private List&lt;ShoppingCart&gt; cartItems;\r\n    private String userEmail;\r\n    private String userName;\r\n\r\n    public OrderDTO() {\r\n    }\r\n\r\n    public OrderDTO(List&lt;ShoppingCart&gt; cartItems, String userEmail, String userName) {\r\n        this.cartItems = cartItems;\r\n        this.userEmail = userEmail;\r\n        this.userName = userName;\r\n    }\r\n    public List&lt;ShoppingCart&gt; getCartItems() {\r\n        return cartItems;\r\n    }\r\n\r\n    public void setCartItems(List&lt;ShoppingCart&gt; cartItems) {\r\n        this.cartItems = cartItems;\r\n    }\r\n\r\n    public String getuserEmail() {\r\n        return userEmail;\r\n    }\r\n\r\n    public void setuserEmail(String userEmail) {\r\n        this.userEmail = userEmail;\r\n    }\r\n\r\n    public String getuserName() {\r\n        return userName;\r\n    }\r\n\r\n    public void setuserName(String userName) {\r\n        this.userName = userName;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;OrderDTO{&quot; +\r\n                &quot;, cartItems=&quot; + cartItems +\r\n                &quot;, userEmail=&#39;&quot; + userEmail + &#39;\\&#39;&#39; +\r\n                &quot;, userName=&#39;&quot; + userName + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nMy shoppingcart.java\r\n\r\n```\r\npackage com.proj.my.model;\r\n\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\n/*@Data\r\n@AllArgsConstructor\r\n@RequiredArgsConstructor\r\n@NoArgsConstructor\r\n*/\r\n@Entity\r\npublic class ShoppingCart {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    private Integer productId;\r\n\r\n    private String productName;\r\n\r\n    private int quantity;\r\n    \r\n    private float amount;\r\n\r\n    public ShoppingCart() {\r\n    }\r\n\r\n    public ShoppingCart(Integer productId, String productName, int quantity, float amount) {\r\n        this.productId = productId;\r\n        this.productName = productName;\r\n        this.quantity = quantity;\r\n        this.amount = amount;\r\n    }\r\n\r\n    public ShoppingCart(Integer productId, int quantity) {\r\n        this.productId = productId;\r\n        this.quantity = quantity;\r\n    }\r\n\r\n    public ShoppingCart(String productName, int quantity) {\r\n        this.productName = productName;\r\n        this.quantity = quantity;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public Integer getProductId() {\r\n        return productId;\r\n    }\r\n\r\n    public void setProductId(Integer productId) {\r\n        this.productId = productId;\r\n    }\r\n\r\n    public String getProductName() {\r\n        return productName;\r\n    }\r\n\r\n    public void setProductName(String productName) {\r\n        this.productName = productName;\r\n    }\r\n\r\n    public int getQuantity() {\r\n        return quantity;\r\n    }\r\n\r\n    public void setQuantity(int quantity) {\r\n        this.quantity = quantity;\r\n    }\r\n\r\n    public float getAmount() {\r\n        return amount;\r\n    }\r\n\r\n    public void setAmount(float amount) {\r\n        this.amount = amount;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;ShoppingCart{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, productId=&quot; + productId +\r\n                &quot;, productName=&#39;&quot; + productName + &#39;\\&#39;&#39; +\r\n                &quot;, quantity=&quot; + quantity +\r\n                &quot;, amount=&quot; + amount +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd finally my orderController.java\r\n\r\n```\r\npackage com.proj.my.controller;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.proj.my.dto.OrderDTO;\r\nimport com.proj.my.dto.ResponseOrderDTO;\r\nimport com.proj.my.model.Order;\r\nimport com.proj.my.model.User;\r\nimport com.proj.my.service.CloudProductService;\r\nimport com.proj.my.service.OrderService;\r\nimport com.proj.my.service.UserService;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class OrderController {\r\n\r\n    private OrderService orderService;\r\n    private CloudProductService cloudProductService;\r\n    private UserService userService;\r\n\r\n\r\n    public OrderController(OrderService orderService, CloudProductService cloudProductService, UserService userService) {\r\n        this.orderService = orderService;\r\n        this.cloudProductService = cloudProductService;\r\n        this.userService = userService;\r\n    }\r\n\r\n    @GetMapping(value = &quot;/getOrder/{orderId}&quot;)\r\n    public ResponseEntity&lt;Order&gt; getOrderDetails(@PathVariable int orderId) {\r\n\r\n        Order order = orderService.getOrderDetail(orderId);\r\n        return ResponseEntity.ok(order);\r\n    }\r\n\r\n    @GetMapping(value = &quot;/getOrder&quot;)\r\n    public List&lt;Order&gt; getAllOrderDetails() {\r\n        return orderService.getAllOrderDetail();\r\n    }\r\n\r\n    @PostMapping(&quot;/placeOrder&quot;)\r\n    public ResponseEntity&lt;ResponseOrderDTO&gt; placeOrder(@RequestBody OrderDTO orderDTO) {\r\n\r\n        ResponseOrderDTO responseOrderDTO = new ResponseOrderDTO();\r\n\r\n        float amount = orderService.getCartAmount(orderDTO.getCartItems());\r\n\r\n        User user = new User(orderDTO.getuserName(), orderDTO.getuserEmail());\r\n        \r\n        Integer userIdFromDb = userService.isUserPresent(user);\r\n\r\n        if (userIdFromDb != null) {\r\n            user.setUserId(userIdFromDb);\r\n        }else{\r\n            user = userService.createUser(user);\r\n        }\r\n\r\n        LocalDate createdAt = LocalDate.now(); \r\n\r\n        Order order = new Order(user, createdAt, orderDTO.getCartItems());\r\n\r\n        order = orderService.saveOrder(order);\r\n\r\n        responseOrderDTO.setAmount(amount);\r\n\r\n        responseOrderDTO.setDate(com.proj.my.util.DateUtil.getCurrentDateTime());\r\n        \r\n        responseOrderDTO.setOrderId(order.getId());\r\n\r\n\r\n        return ResponseEntity.ok(responseOrderDTO);\r\n    }}\r\n\r\n```","title":"Filter orders to a one day period - SpringBoot JPA MYSQL","body":"<p>I'm trying to retrieve a list of just the orders created from one day ago till today, and I can't manage to find any help about it, tried everything I found already.\nBasically I need a getAllOrders(), but with filtered by that time period, one day....\nHow do I filter it ? I Found tons of tutorials on how to sort them descending or ascending, nothing else.</p>\n<p>My order.java:</p>\n<pre><code>\npackage com.proj.my.model;\nimport java.time.LocalDate;\nimport java.util.List;\n\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\nimport jakarta.persistence.CascadeType;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EntityListeners;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.OneToMany;\nimport jakarta.persistence.OneToOne;\nimport jakarta.persistence.Table;\nimport lombok.ToString;\n\n@ToString\n@Entity\n@Table(name = &quot;myorder&quot;)\n@EntityListeners(AuditingEntityListener.class)\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;}, \n    allowGetters = true)  \npublic class Order {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    @OneToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;userId&quot;)\n    private User user;\n\n\n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, targetEntity = ShoppingCart.class)\n    @JoinColumn(name = &quot;order_id&quot;)\n    private List&lt;ShoppingCart&gt; cartItems;\n    @CreationTimestamp\n    @Column(updatable = false, name = &quot;createdAt&quot;)\n    private LocalDate createdAt;\n\n    public LocalDate getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(LocalDate createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public Order() {\n    }\n\n    public Order(User user, LocalDate createdAt, List&lt;ShoppingCart&gt; cartItems) {\n        this.user = user;\n        this.cartItems = cartItems;\n        this.createdAt = createdAt;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setCustomer(User user) {\n        this.user = user;\n    }\n\n    public List&lt;ShoppingCart&gt; getCartItems() {\n        return cartItems;\n    }\n\n    public void setCartItems(List&lt;ShoppingCart&gt; cartItems) {\n        this.cartItems = cartItems;\n    }\n}\n</code></pre>\n<p>My orderservice.java</p>\n<pre><code>package com.proj.my.service;\n\nimport com.proj.my.model.Order;\nimport com.proj.my.model.CloudProduct;\nimport com.proj.my.model.ShoppingCart;\nimport com.proj.my.repository.OrderRepository;\nimport com.proj.my.repository.CloudProductRepository;\n\nimport org.springframework.stereotype.Service;\nimport java.util.List;\nimport java.util.Optional;\n\n@Service\npublic class OrderService {\n\n    private OrderRepository orderRepository;\n    private CloudProductRepository cloudProductRepository;\n\n    public OrderService(OrderRepository orderRepository, CloudProductRepository cloudProductRepository) {\n        this.orderRepository = orderRepository;\n        this.cloudProductRepository = cloudProductRepository;\n    }\n\n    public Order getOrderDetail(int orderId) {\n        Optional&lt;Order&gt; order = this.orderRepository.findById(orderId);\n        return order.isPresent() ? order.get() : null;\n    }\n\n\n    /* @Query(value = &quot;from order t where Date BETWEEN :yesterday AND :now&quot;)\n    public List&lt;Order&gt; getAllBetweenDates(@Param(&quot;yesterday&quot;)Date yesterday,@Param(&quot;now&quot;)Date localdate.now){\n        private LocalDate yesterday = now.minus(1, ChronoUnit.DAYS);\n        return orderRepository.findAll();\n    } */\n    \n   public List&lt;Order&gt; getAllOrderDetail() {\n        return orderRepository.findAll();\n    }\n\n    public float getCartAmount(List&lt;ShoppingCart&gt; shoppingCartList) {\n\n        float totalCartAmount = 0f;\n        float singleCartAmount = 0f;\n\n        for (ShoppingCart cart : shoppingCartList) {\n\n            String cloudProductName = cart.getProductName();\n            Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\n            if (product.isPresent()) {\n                CloudProduct cloudproduct = product.get();\n                singleCartAmount = cart.getQuantity() * cloudproduct.getpriceInEuros();\n                \n                totalCartAmount = totalCartAmount + singleCartAmount;\n                cart.setProductId(cloudproduct.getProductId());\n                cart.setAmount(singleCartAmount);\n                cloudProductRepository.save(cloudproduct);\n            }\n        }\n        return totalCartAmount;\n    }\n\n    public Order saveOrder(Order order) {\n        return orderRepository.save(order);\n    }\n}\n\n\n</code></pre>\n<p>My orderDTO.java</p>\n<pre><code>package com.proj.my.dto;\n\nimport com.proj.my.model.ShoppingCart;\n\nimport java.util.List;\n\npublic class OrderDTO {\n\n    private List&lt;ShoppingCart&gt; cartItems;\n    private String userEmail;\n    private String userName;\n\n    public OrderDTO() {\n    }\n\n    public OrderDTO(List&lt;ShoppingCart&gt; cartItems, String userEmail, String userName) {\n        this.cartItems = cartItems;\n        this.userEmail = userEmail;\n        this.userName = userName;\n    }\n    public List&lt;ShoppingCart&gt; getCartItems() {\n        return cartItems;\n    }\n\n    public void setCartItems(List&lt;ShoppingCart&gt; cartItems) {\n        this.cartItems = cartItems;\n    }\n\n    public String getuserEmail() {\n        return userEmail;\n    }\n\n    public void setuserEmail(String userEmail) {\n        this.userEmail = userEmail;\n    }\n\n    public String getuserName() {\n        return userName;\n    }\n\n    public void setuserName(String userName) {\n        this.userName = userName;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;OrderDTO{&quot; +\n                &quot;, cartItems=&quot; + cartItems +\n                &quot;, userEmail='&quot; + userEmail + '\\'' +\n                &quot;, userName='&quot; + userName + '\\'' +\n                '}';\n    }\n}\n\n</code></pre>\n<p>My shoppingcart.java</p>\n<pre><code>package com.proj.my.model;\n\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\n/*@Data\n@AllArgsConstructor\n@RequiredArgsConstructor\n@NoArgsConstructor\n*/\n@Entity\npublic class ShoppingCart {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    private Integer productId;\n\n    private String productName;\n\n    private int quantity;\n    \n    private float amount;\n\n    public ShoppingCart() {\n    }\n\n    public ShoppingCart(Integer productId, String productName, int quantity, float amount) {\n        this.productId = productId;\n        this.productName = productName;\n        this.quantity = quantity;\n        this.amount = amount;\n    }\n\n    public ShoppingCart(Integer productId, int quantity) {\n        this.productId = productId;\n        this.quantity = quantity;\n    }\n\n    public ShoppingCart(String productName, int quantity) {\n        this.productName = productName;\n        this.quantity = quantity;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public Integer getProductId() {\n        return productId;\n    }\n\n    public void setProductId(Integer productId) {\n        this.productId = productId;\n    }\n\n    public String getProductName() {\n        return productName;\n    }\n\n    public void setProductName(String productName) {\n        this.productName = productName;\n    }\n\n    public int getQuantity() {\n        return quantity;\n    }\n\n    public void setQuantity(int quantity) {\n        this.quantity = quantity;\n    }\n\n    public float getAmount() {\n        return amount;\n    }\n\n    public void setAmount(float amount) {\n        this.amount = amount;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;ShoppingCart{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, productId=&quot; + productId +\n                &quot;, productName='&quot; + productName + '\\'' +\n                &quot;, quantity=&quot; + quantity +\n                &quot;, amount=&quot; + amount +\n                '}';\n    }\n}\n\n</code></pre>\n<p>And finally my orderController.java</p>\n<pre><code>package com.proj.my.controller;\n\nimport java.time.LocalDate;\nimport java.util.List;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.proj.my.dto.OrderDTO;\nimport com.proj.my.dto.ResponseOrderDTO;\nimport com.proj.my.model.Order;\nimport com.proj.my.model.User;\nimport com.proj.my.service.CloudProductService;\nimport com.proj.my.service.OrderService;\nimport com.proj.my.service.UserService;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class OrderController {\n\n    private OrderService orderService;\n    private CloudProductService cloudProductService;\n    private UserService userService;\n\n\n    public OrderController(OrderService orderService, CloudProductService cloudProductService, UserService userService) {\n        this.orderService = orderService;\n        this.cloudProductService = cloudProductService;\n        this.userService = userService;\n    }\n\n    @GetMapping(value = &quot;/getOrder/{orderId}&quot;)\n    public ResponseEntity&lt;Order&gt; getOrderDetails(@PathVariable int orderId) {\n\n        Order order = orderService.getOrderDetail(orderId);\n        return ResponseEntity.ok(order);\n    }\n\n    @GetMapping(value = &quot;/getOrder&quot;)\n    public List&lt;Order&gt; getAllOrderDetails() {\n        return orderService.getAllOrderDetail();\n    }\n\n    @PostMapping(&quot;/placeOrder&quot;)\n    public ResponseEntity&lt;ResponseOrderDTO&gt; placeOrder(@RequestBody OrderDTO orderDTO) {\n\n        ResponseOrderDTO responseOrderDTO = new ResponseOrderDTO();\n\n        float amount = orderService.getCartAmount(orderDTO.getCartItems());\n\n        User user = new User(orderDTO.getuserName(), orderDTO.getuserEmail());\n        \n        Integer userIdFromDb = userService.isUserPresent(user);\n\n        if (userIdFromDb != null) {\n            user.setUserId(userIdFromDb);\n        }else{\n            user = userService.createUser(user);\n        }\n\n        LocalDate createdAt = LocalDate.now(); \n\n        Order order = new Order(user, createdAt, orderDTO.getCartItems());\n\n        order = orderService.saveOrder(order);\n\n        responseOrderDTO.setAmount(amount);\n\n        responseOrderDTO.setDate(com.proj.my.util.DateUtil.getCurrentDateTime());\n        \n        responseOrderDTO.setOrderId(order.getId());\n\n\n        return ResponseEntity.ok(responseOrderDTO);\n    }}\n\n</code></pre>\n"},{"tags":["java","bash","keytool","java-17","process-substitution"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1657545919,"post_id":72939257,"comment_id":128828967,"body_markdown":"I don&#39;t think it&#39;s technically a bug, since you&#39;re not providing a regular file argument but a pipe argument (which the shell creates for you) and the keytool expects a file. A workaround would be to write the certificate to a temporary file (I assume that `cat mycert.pem` is a placeholder for the actual command, as there wouldn&#39;t be a reason for the process substitution otherwise).","body":"I don&#39;t think it&#39;s technically a bug, since you&#39;re not providing a regular file argument but a pipe argument (which the shell creates for you) and the keytool expects a file. A workaround would be to write the certificate to a temporary file (I assume that <code>cat mycert.pem</code> is a placeholder for the actual command, as there wouldn&#39;t be a reason for the process substitution otherwise)."},{"owner":{"account_id":4154342,"reputation":3562,"user_id":3405980,"accept_rate":69,"display_name":"harshavmb"},"score":1,"creation_date":1657550046,"post_id":72939257,"comment_id":128830781,"body_markdown":"Having run `strace` on both versions of `keytool`, I found process substitution uses file descriptors while  `/opt/jdk17/bin/keytool -printcert -v -file mycert.pem` points to the real file. Also, `jdk11-keytool` uses `libstdc++.so.6` library where in `jdk17-keytool` onwards use `librt.so.1` library. I&#39;m no C-lang expert but these are the differences I could find with `strace`","body":"Having run <code>strace</code> on both versions of <code>keytool</code>, I found process substitution uses file descriptors while  <code>&#47;opt&#47;jdk17&#47;bin&#47;keytool -printcert -v -file mycert.pem</code> points to the real file. Also, <code>jdk11-keytool</code> uses <code>libstdc++.so.6</code> library where in <code>jdk17-keytool</code> onwards use <code>librt.so.1</code> library. I&#39;m no C-lang expert but these are the differences I could find with <code>strace</code>"},{"owner":{"account_id":4154342,"reputation":3562,"user_id":3405980,"accept_rate":69,"display_name":"harshavmb"},"score":2,"creation_date":1657551385,"post_id":72939257,"comment_id":128831318,"body_markdown":"I tried reading from `stdin` like `cat /tmp/test.pem | strace /usr/lib/jvm/java-18-openjdk-18.0.1.0.10-2.rolling.el7.x86_64/bin/keytool -printcert -v` &amp; it worked on both `jdk-11` &amp; `jdk-17` onwards..","body":"I tried reading from <code>stdin</code> like <code>cat &#47;tmp&#47;test.pem | strace &#47;usr&#47;lib&#47;jvm&#47;java-18-openjdk-18.0.1.0.10-2.rolling.el7.x86_6&zwnj;&#8203;4&#47;bin&#47;keytool -printcert -v</code> &amp; it worked on both <code>jdk-11</code> &amp; <code>jdk-17</code> onwards.."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":5,"creation_date":1657551931,"post_id":72939257,"comment_id":128831569,"body_markdown":"It&#39;s an optimized specialization of readAllBytes [added to FileInputStream at jdk-17-ga](https://github.com/openjdk/jdk/commit/da4dfde71a176d2b8401782178e854d4c924eba1) and FileInputStream is only used for `-file x` so yes if you omit `-file` and use stdin from a pipe it uses System.in which is apparently unaffected @harshavmb","body":"It&#39;s an optimized specialization of readAllBytes <a href=\"https://github.com/openjdk/jdk/commit/da4dfde71a176d2b8401782178e854d4c924eba1\" rel=\"nofollow noreferrer\">added to FileInputStream at jdk-17-ga</a> and FileInputStream is only used for <code>-file x</code> so yes if you omit <code>-file</code> and use stdin from a pipe it uses System.in which is apparently unaffected @harshavmb"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1657552094,"post_id":72939257,"comment_id":128831650,"body_markdown":"This seems like a fundamental flaw in the process substitution syntax:  It creates a named pipe, so it will only work if the receiving program never attempts a seek.  And for nearly all programs, there is no way to be certain the binary will not attempt a seek.  Even if you have the code, future implementations may do it differently, which is what happened here.","body":"This seems like a fundamental flaw in the process substitution syntax:  It creates a named pipe, so it will only work if the receiving program never attempts a seek.  And for nearly all programs, there is no way to be certain the binary will not attempt a seek.  Even if you have the code, future implementations may do it differently, which is what happened here."}],"owner":{"account_id":1693760,"reputation":9824,"user_id":1555615,"accept_rate":62,"display_name":"Marinos An"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1672742333,"creation_date":1657545653,"question_id":72939257,"body_markdown":"I test the following on jdk11:\r\n\r\n```bash\r\n/opt/jdk11/bin/keytool -printcert -v -file &lt;(cat mycert.pem)\r\n```\r\n\r\nAnd prints the certificate details as expected.\r\n\r\nBut if I do the same with jdk17 version of keytool I get an exception:\r\n\r\n```bash\r\n/opt/jdk17/bin/keytool -printcert -v -file &lt;(cat mycert.pem)\r\n```\r\n\r\n```\r\nkeytool error: java.io.IOException: Illegal seek\r\njava.io.IOException: Illegal seek\r\n\tat java.base/java.io.FileInputStream.position0(Native Method)\r\n\tat java.base/java.io.FileInputStream.position(FileInputStream.java:363)\r\n\tat java.base/java.io.FileInputStream.readAllBytes(FileInputStream.java:281)\r\n\tat java.base/sun.security.tools.keytool.Main.generateCertificates(Main.java:2804)\r\n\tat java.base/sun.security.tools.keytool.Main.printCertFromStream(Main.java:2762)\r\n\tat java.base/sun.security.tools.keytool.Main.doPrintCert(Main.java:2961)\r\n\tat java.base/sun.security.tools.keytool.Main.doCommands(Main.java:1286)\r\n\tat java.base/sun.security.tools.keytool.Main.run(Main.java:415)\r\n\tat java.base/sun.security.tools.keytool.Main.main(Main.java:408)\r\n\r\n```\r\n\r\nBut the following works:\r\n\r\n```bash\r\n/opt/jdk17/bin/keytool -printcert -v -file mycert.pem\r\n```\r\n\r\n\r\nClearly process substitution does not work with jdk17 keytool. My question is the following:\r\n\r\n\r\nIs there a bash workaround to fix this?\r\n\r\nShould this be considered a bug of jdk17 keytool and if yes what is the code that I should avoid in order to make my java programs friendly to bash process substitution?\r\n\r\n\r\n\r\n","title":"Why bash process substitution works with jdk11 version of keytool but not with jdk17?","body":"<p>I test the following on jdk11:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>/opt/jdk11/bin/keytool -printcert -v -file &lt;(cat mycert.pem)\n</code></pre>\n<p>And prints the certificate details as expected.</p>\n<p>But if I do the same with jdk17 version of keytool I get an exception:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>/opt/jdk17/bin/keytool -printcert -v -file &lt;(cat mycert.pem)\n</code></pre>\n<pre><code>keytool error: java.io.IOException: Illegal seek\njava.io.IOException: Illegal seek\n    at java.base/java.io.FileInputStream.position0(Native Method)\n    at java.base/java.io.FileInputStream.position(FileInputStream.java:363)\n    at java.base/java.io.FileInputStream.readAllBytes(FileInputStream.java:281)\n    at java.base/sun.security.tools.keytool.Main.generateCertificates(Main.java:2804)\n    at java.base/sun.security.tools.keytool.Main.printCertFromStream(Main.java:2762)\n    at java.base/sun.security.tools.keytool.Main.doPrintCert(Main.java:2961)\n    at java.base/sun.security.tools.keytool.Main.doCommands(Main.java:1286)\n    at java.base/sun.security.tools.keytool.Main.run(Main.java:415)\n    at java.base/sun.security.tools.keytool.Main.main(Main.java:408)\n\n</code></pre>\n<p>But the following works:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>/opt/jdk17/bin/keytool -printcert -v -file mycert.pem\n</code></pre>\n<p>Clearly process substitution does not work with jdk17 keytool. My question is the following:</p>\n<p>Is there a bash workaround to fix this?</p>\n<p>Should this be considered a bug of jdk17 keytool and if yes what is the code that I should avoid in order to make my java programs friendly to bash process substitution?</p>\n"},{"tags":["java","android","android-studio","android-gradle-plugin"],"comments":[{"owner":{"account_id":7622639,"reputation":336,"user_id":5780236,"display_name":"Ahmad Reza Enshaee"},"score":0,"creation_date":1663679196,"post_id":73787115,"comment_id":130292654,"body_markdown":"Have you tested restarting your computer?","body":"Have you tested restarting your computer?"}],"answers":[{"tags":[],"owner":{"account_id":7612800,"reputation":16,"user_id":5773181,"display_name":"Jo&#227;o Pedro Pedrosa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663679545,"creation_date":1663679545,"answer_id":73787296,"question_id":73787115,"body_markdown":"In your Android Studio go to: `File` &gt; `Invalidate Caches Restart`\r\n\r\nIf that doesn&#39;t work, try to restart your computer, to kill all the pending process running.","title":"Android project build issue","body":"<p>In your Android Studio go to: <code>File</code> &gt; <code>Invalidate Caches Restart</code></p>\n<p>If that doesn't work, try to restart your computer, to kill all the pending process running.</p>\n"},{"tags":[],"owner":{"account_id":23936770,"reputation":128,"user_id":17930413,"display_name":"Rahul Rokade"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663909835,"creation_date":1663909835,"answer_id":73823227,"question_id":73787115,"body_markdown":"In your Android Studio go to: File &gt; Invalidate Caches Restart\r\nand also **open task manager and all background task end then again restart** \r\nafter that working successfully.","title":"Android project build issue","body":"<p>In your Android Studio go to: File &gt; Invalidate Caches Restart\nand also <strong>open task manager and all background task end then again restart</strong>\nafter that working successfully.</p>\n"}],"owner":{"account_id":23936770,"reputation":128,"user_id":17930413,"display_name":"Rahul Rokade"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672742307,"creation_date":1663678674,"question_id":73787115,"body_markdown":"**Android project build fail**\r\n\r\nIn android studio (updated ide - dolphin) build failed , please suggest any one, how can we solve this error.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GkqQB.png","title":"Android project build issue","body":"<p><strong>Android project build fail</strong></p>\n<p>In android studio (updated ide - dolphin) build failed , please suggest any one, how can we solve this error.</p>\n<p><a href=\"https://i.stack.imgur.com/GkqQB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GkqQB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","oracle11g","payara","java-17"],"answers":[{"tags":[],"owner":{"account_id":25805915,"reputation":16,"user_id":19547898,"display_name":"Ryo Wada"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657788675,"creation_date":1657788675,"answer_id":72977791,"question_id":72958557,"body_markdown":"Place the driver in one directory above, &lt;code&gt;&amp;lt;payara-home&amp;gt;/glassfish/domains/&amp;lt;domain&amp;gt;/lib&lt;/code&gt;.\r\n\r\nThe reason seems to be that the extension mechanism (system property &lt;code&gt;java.ext.dirs&lt;/code&gt;) has been removed from Java 9.\r\nAlso, the [PayaraServer5.192 Release Notes][1] states that &lt;code&gt;&amp;lt;payara-home&amp;gt;/glassfish/domains/&amp;lt;domain&amp;gt;/lib/ext&lt;/code&gt; are no longer placed in the classpath.\r\nPayaraServer officially supports Java 11 in addition to Java 8 since 5.192, but it seems to be a corresponding response.\r\n\r\n\r\n  [1]: https://docs.payara.fish/community/docs/release-notes/release-notes-192.html","title":"JDBC Connection Pool Payara 5 with JDK 17","body":"<p>Place the driver in one directory above, <code>&lt;payara-home&gt;/glassfish/domains/&lt;domain&gt;/lib</code>.</p>\n<p>The reason seems to be that the extension mechanism (system property <code>java.ext.dirs</code>) has been removed from Java 9.\nAlso, the <a href=\"https://docs.payara.fish/community/docs/release-notes/release-notes-192.html\" rel=\"nofollow noreferrer\">PayaraServer5.192 Release Notes</a> states that <code>&lt;payara-home&gt;/glassfish/domains/&lt;domain&gt;/lib/ext</code> are no longer placed in the classpath.\nPayaraServer officially supports Java 11 in addition to Java 8 since 5.192, but it seems to be a corresponding response.</p>\n"}],"owner":{"account_id":6866847,"reputation":13,"user_id":5278946,"display_name":"dalbuja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":836,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72977791,"answer_count":1,"score":0,"last_activity_date":1672742270,"creation_date":1657661106,"question_id":72958557,"body_markdown":"I am testing payara 5 with jdk 17.\r\nBut I have problems with the connection pool.\r\n\r\n\r\n    &lt;jdbc-connection-pool max-pool-size=&quot;100&quot; datasource-classname=&quot;oracle.jdbc.pool.OracleDataSource&quot; steady-pool-size=&quot;1&quot; validation-table-name=&quot;dual&quot; name=&quot;oracle_thin_emp&quot; is-connection-validation-required=&quot;true&quot; res-type=&quot;javax.sql.DataSource&quot;&gt;\r\n          &lt;property name=&quot;driverClass&quot; value=&quot;oracle.jdbc.driver.OracleDriver&quot;&gt;&lt;/property&gt;\r\n          &lt;property name=&quot;URL&quot; value=&quot;jdbc:oracle:thin:@192.168.50.19:1521:TD&quot;&gt;&lt;/property&gt;\r\n          &lt;property name=&quot;serverName&quot; value=&quot;192.168.50.19&quot;&gt;&lt;/property&gt;\r\n          &lt;property name=&quot;User&quot; value=&quot;EMP&quot;&gt;&lt;/property&gt;\r\n          &lt;property name=&quot;Password&quot; value=&quot;EMP&quot;&gt;&lt;/property&gt;\r\n          &lt;property name=&quot;PortNumber&quot; value=&quot;1521&quot;&gt;&lt;/property&gt;\r\n          &lt;property name=&quot;databaseName&quot; value=&quot;TD&quot;&gt;&lt;/property&gt;\r\n        &lt;/jdbc-connection-pool&gt;\r\n\r\n\r\n\r\nWhen I start payara 5 with jdk 8 the connection pool works correctly but when I start the web server with jdk 17 and ping from the admin console I get the following error:\r\n**Ping Connection Pool failed for oracle_thin_emp. Class name is wrong or classpath is not set for : oracle.jdbc.pool.OracleDataSource Please check the server.log for more details.**\r\n\r\nLog:\r\n\r\n    [Payara 5.2022.2] [SEVERE] [] [javax.enterprise.resource.resourceadapter.com.sun.gjc.util] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(4)] [timeMillis: 1657657513953] [levelValue: 1000] [[\r\n      RAR5099 : Wrong class name or classpath for Datasource Object \r\n    java.lang.ClassNotFoundException: oracle.jdbc.pool.OracleDataSource\r\n    \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\r\n    \tat com.sun.enterprise.loader.CurrentBeforeParentClassLoader.loadClass(CurrentBeforeParentClassLoader.java:83)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \tat java.base/java.lang.Class.forName0(Native Method)\r\n    \tat java.base/java.lang.Class.forName(Class.java:467)\r\n\r\n\r\nDetails:\r\n\r\n - JDK: oracle jdk-17.0.3.1\r\n - Server: payara 5.2022.2\r\n - Driver: payara5\\glassfish\\domains\\domain1\\lib\\ext\\ojdbc7-12.1.0.2.jar\r\n\r\n","title":"JDBC Connection Pool Payara 5 with JDK 17","body":"<p>I am testing payara 5 with jdk 17.\nBut I have problems with the connection pool.</p>\n<pre><code>&lt;jdbc-connection-pool max-pool-size=&quot;100&quot; datasource-classname=&quot;oracle.jdbc.pool.OracleDataSource&quot; steady-pool-size=&quot;1&quot; validation-table-name=&quot;dual&quot; name=&quot;oracle_thin_emp&quot; is-connection-validation-required=&quot;true&quot; res-type=&quot;javax.sql.DataSource&quot;&gt;\n      &lt;property name=&quot;driverClass&quot; value=&quot;oracle.jdbc.driver.OracleDriver&quot;&gt;&lt;/property&gt;\n      &lt;property name=&quot;URL&quot; value=&quot;jdbc:oracle:thin:@192.168.50.19:1521:TD&quot;&gt;&lt;/property&gt;\n      &lt;property name=&quot;serverName&quot; value=&quot;192.168.50.19&quot;&gt;&lt;/property&gt;\n      &lt;property name=&quot;User&quot; value=&quot;EMP&quot;&gt;&lt;/property&gt;\n      &lt;property name=&quot;Password&quot; value=&quot;EMP&quot;&gt;&lt;/property&gt;\n      &lt;property name=&quot;PortNumber&quot; value=&quot;1521&quot;&gt;&lt;/property&gt;\n      &lt;property name=&quot;databaseName&quot; value=&quot;TD&quot;&gt;&lt;/property&gt;\n    &lt;/jdbc-connection-pool&gt;\n</code></pre>\n<p>When I start payara 5 with jdk 8 the connection pool works correctly but when I start the web server with jdk 17 and ping from the admin console I get the following error:\n<strong>Ping Connection Pool failed for oracle_thin_emp. Class name is wrong or classpath is not set for : oracle.jdbc.pool.OracleDataSource Please check the server.log for more details.</strong></p>\n<p>Log:</p>\n<pre><code>[Payara 5.2022.2] [SEVERE] [] [javax.enterprise.resource.resourceadapter.com.sun.gjc.util] [tid: _ThreadID=163 _ThreadName=admin-thread-pool::admin-listener(4)] [timeMillis: 1657657513953] [levelValue: 1000] [[\n  RAR5099 : Wrong class name or classpath for Datasource Object \njava.lang.ClassNotFoundException: oracle.jdbc.pool.OracleDataSource\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\n    at com.sun.enterprise.loader.CurrentBeforeParentClassLoader.loadClass(CurrentBeforeParentClassLoader.java:83)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:467)\n</code></pre>\n<p>Details:</p>\n<ul>\n<li>JDK: oracle jdk-17.0.3.1</li>\n<li>Server: payara 5.2022.2</li>\n<li>Driver: payara5\\glassfish\\domains\\domain1\\lib\\ext\\ojdbc7-12.1.0.2.jar</li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1672741334,"post_id":74991945,"comment_id":132338269,"body_markdown":"Please show the code you are using to get those inputs.","body":"Please show the code you are using to get those inputs."},{"owner":{"display_name":"user20758216"},"score":0,"creation_date":1672741573,"post_id":74991945,"comment_id":132338333,"body_markdown":"@AndyTurner Inserted some code","body":"@AndyTurner Inserted some code"},{"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"score":0,"creation_date":1672741603,"post_id":74991945,"comment_id":132338347,"body_markdown":"You need to clarify your BMI calculation units. What unit is weight and what unit is height? From a quick google it appears you are using a formula where weight is LBs (pounds) and height is in inches. So you need to convert the height values into a total of inches and the weight value into a total of LBs and then put those through the formula.","body":"You need to clarify your BMI calculation units. What unit is weight and what unit is height? From a quick google it appears you are using a formula where weight is LBs (pounds) and height is in inches. So you need to convert the height values into a total of inches and the weight value into a total of LBs and then put those through the formula."},{"owner":{"display_name":"user20758216"},"score":0,"creation_date":1672741718,"post_id":74991945,"comment_id":132338385,"body_markdown":"Okay will give it a shot @JohnXF","body":"Okay will give it a shot @JohnXF"}],"answers":[{"tags":[],"owner":{"account_id":10706908,"reputation":592,"user_id":7880402,"accept_rate":75,"display_name":"Arkin Solomon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672741720,"creation_date":1672741720,"answer_id":74992067,"question_id":74991945,"body_markdown":"Well there&#39;s a few ways to do this. But I don&#39;t think that&#39;s what you need to do in this scenario. For instance, someone saying they are 5&#39;11&quot;, simply adding a decimal place will result in the value 5.11 feet which is incorrect, as 5&#39;11&quot; is actually 5.9167 feet. \r\n\r\n5 + 11 &#247; 12  5.9167 feet\r\n\r\nAssuming you&#39;re using [this][1] chart, What you need to do here is multiply `feet` by 12 to get the feet in inches, and add this value to the inches input to get the total height in inches. Similarly, for stones, you would multiply the stones value by 14 to convert to pounds, and add it to the inputted value for pounds to get the total weight in pounds. This does not require adding a decimal point between two values.\r\n\r\n\r\n  [1]: https://www.cdc.gov/healthyweight/assessing/bmi/childrens_BMI/childrens_BMI_formula.html","title":"Turning an Integer into a Decimal","body":"<p>Well there's a few ways to do this. But I don't think that's what you need to do in this scenario. For instance, someone saying they are 5'11&quot;, simply adding a decimal place will result in the value 5.11 feet which is incorrect, as 5'11&quot; is actually 5.9167 feet.</p>\n<p>5 + 11  12  5.9167 feet</p>\n<p>Assuming you're using <a href=\"https://www.cdc.gov/healthyweight/assessing/bmi/childrens_BMI/childrens_BMI_formula.html\" rel=\"nofollow noreferrer\">this</a> chart, What you need to do here is multiply <code>feet</code> by 12 to get the feet in inches, and add this value to the inches input to get the total height in inches. Similarly, for stones, you would multiply the stones value by 14 to convert to pounds, and add it to the inputted value for pounds to get the total weight in pounds. This does not require adding a decimal point between two values.</p>\n"}],"owner":{"display_name":"user20758216"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74992067,"answer_count":1,"score":1,"last_activity_date":1672741877,"creation_date":1672741122,"question_id":74991945,"body_markdown":"Slightly confused on how i can create this code for a BMI calculator.\r\n\r\nI have been asked to input 2 integers each for height and weight. It will be presented in the below format with the ranges.\r\n\r\n    Enter Height in Feet and Inches\r\n    Enter Feet(2-7): --\r\n    Enter Inches(0-11): --\r\n\r\n    Enter Weight in Stones and Pounds\r\n    Enter Stones(3-30): --\r\n    Enter Pounds(0-13):--\r\n\r\nThis data would then be added into a function that calculates the BMI \r\n\r\n***BMI = weight * 703 / height2***\r\n\r\nI was wondering how i can add a decimal place in between the two integers for each height and weight. I was first thinking of just adding the numbers and dividing by 10, but that is obviously wrong. or using the printf function to print it on screen. But then it is still wrong in the formula if im right?\r\n\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.print(&quot;Enter feet: &quot;);\r\n    int feet  = input.nextInt();\r\n            \r\n    System.out.print(&quot;Enter inches: &quot;);\r\n    int inches  = input.nextInt();\r\n            \r\n    System.out.print(&quot;Enter stone: &quot;);\r\n    int stone  = input.nextInt();\r\n            \r\n    System.out.print(&quot;Enter pounds: &quot;);\r\n    int pounds  = input.nextInt();\r\n\r\n\r\n","title":"Turning an Integer into a Decimal","body":"<p>Slightly confused on how i can create this code for a BMI calculator.</p>\n<p>I have been asked to input 2 integers each for height and weight. It will be presented in the below format with the ranges.</p>\n<pre><code>Enter Height in Feet and Inches\nEnter Feet(2-7): --\nEnter Inches(0-11): --\n\nEnter Weight in Stones and Pounds\nEnter Stones(3-30): --\nEnter Pounds(0-13):--\n</code></pre>\n<p>This data would then be added into a function that calculates the BMI</p>\n<p><em><strong>BMI = weight * 703 / height2</strong></em></p>\n<p>I was wondering how i can add a decimal place in between the two integers for each height and weight. I was first thinking of just adding the numbers and dividing by 10, but that is obviously wrong. or using the printf function to print it on screen. But then it is still wrong in the formula if im right?</p>\n<pre><code>Scanner input = new Scanner(System.in);\nSystem.out.print(&quot;Enter feet: &quot;);\nint feet  = input.nextInt();\n        \nSystem.out.print(&quot;Enter inches: &quot;);\nint inches  = input.nextInt();\n        \nSystem.out.print(&quot;Enter stone: &quot;);\nint stone  = input.nextInt();\n        \nSystem.out.print(&quot;Enter pounds: &quot;);\nint pounds  = input.nextInt();\n</code></pre>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":27419622,"reputation":1,"user_id":20918286,"display_name":"samyuktha kurapati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1672927143,"answer_count":0,"score":-1,"last_activity_date":1672741690,"creation_date":1672741690,"question_id":74992061,"body_markdown":"When I am trying to run the application on server and my maven build is also happening good but I am getting the below error as the (Value for environment property not set: nswrta.plates-rest.ws.client.id) even though corp value has been set locally. Could you please help me on this \r\n\r\nCaused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.springframework.context.support.ClassPathXmlApplicationContext]: Constructor threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;ifsDeliveryChoicesService&#39; defined in URL [jar:file:/C:/Users/a-skurapati/Downloads/apache-tomcat-9.0.30/webapps/plateapi/WEB-INF/lib/ifs-core-2.0.0.jar!/nswrta/ifs/service/IfsDeliveryChoicesServiceImpl.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [nswrta.ifs.service.IfsDeliveryChoicesServiceImpl]: Constructor threw exception; nested exception is nswrta.corp.base.CorpConfigurationError: Value for environment property not set: nswrta.plates-rest.ws.client.id\r\n\r\nI tried to do the mvn build and at a point I got stuck to understand this below error as all the values are properly mentioned. FInally I have make the application run on the TOMCAT server","title":"When I am trying to run the application on server I am getting below error","body":"<p>When I am trying to run the application on server and my maven build is also happening good but I am getting the below error as the (Value for environment property not set: nswrta.plates-rest.ws.client.id) even though corp value has been set locally. Could you please help me on this</p>\n<p>Caused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.springframework.context.support.ClassPathXmlApplicationContext]: Constructor threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ifsDeliveryChoicesService' defined in URL [jar:file:/C:/Users/a-skurapati/Downloads/apache-tomcat-9.0.30/webapps/plateapi/WEB-INF/lib/ifs-core-2.0.0.jar!/nswrta/ifs/service/IfsDeliveryChoicesServiceImpl.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [nswrta.ifs.service.IfsDeliveryChoicesServiceImpl]: Constructor threw exception; nested exception is nswrta.corp.base.CorpConfigurationError: Value for environment property not set: nswrta.plates-rest.ws.client.id</p>\n<p>I tried to do the mvn build and at a point I got stuck to understand this below error as all the values are properly mentioned. FInally I have make the application run on the TOMCAT server</p>\n"},{"tags":["java","spring","spring-boot","docker","macos"],"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1672742272,"post_id":74992040,"comment_id":132338577,"body_markdown":"Welcome to SO! [Here&#39;s how to ask a proper &quot;Where&#39;s the bug / Fix my code&quot; question](https://meta.stackoverflow.com/a/253788/11107541). Can you please read it and apply what you learn to improve your question? See also: [ask]. [&#39;Can somebody help me?&#39; is not an actual question](https://meta.stackoverflow.com/a/284237/11107541). Can you please ask an actual question?","body":"Welcome to SO! <a href=\"https://meta.stackoverflow.com/a/253788/11107541\">Here&#39;s how to ask a proper &quot;Where&#39;s the bug / Fix my code&quot; question</a>. Can you please read it and apply what you learn to improve your question? See also: <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. <a href=\"https://meta.stackoverflow.com/a/284237/11107541\">&#39;Can somebody help me?&#39; is not an actual question</a>. Can you please ask an actual question?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1672742506,"post_id":74992040,"comment_id":132338659,"body_markdown":"https://docs.docker.com/desktop/install/mac-install/","body":"<a href=\"https://docs.docker.com/desktop/install/mac-install/\" rel=\"nofollow noreferrer\">docs.docker.com/desktop/install/mac-install</a>"},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1672744482,"post_id":74992040,"comment_id":132339280,"body_markdown":"What IDE are you using?  Have you in fact installed Docker (Docker Engine on native Linux, most likely Docker Desktop on MacOS or Windows)?  What&#39;s in the Compose file; can you run your application with just a JVM?","body":"What IDE are you using?  Have you in fact installed Docker (Docker Engine on native Linux, most likely Docker Desktop on MacOS or Windows)?  What&#39;s in the Compose file; can you run your application with just a JVM?"},{"owner":{"account_id":27419468,"reputation":1,"user_id":20918149,"display_name":"user20918149"},"score":0,"creation_date":1672819482,"post_id":74992040,"comment_id":132356745,"body_markdown":"Sorry, IntellijIDEA. I thought the Docker plugin is enough.\nInstalled Docker, restarted IDEA and it&#39;s working. Thank you.","body":"Sorry, IntellijIDEA. I thought the Docker plugin is enough. Installed Docker, restarted IDEA and it&#39;s working. Thank you."}],"owner":{"account_id":27419468,"reputation":1,"user_id":20918149,"display_name":"user20918149"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672741610,"creation_date":1672741610,"question_id":74992040,"body_markdown":"I&#39;m learning Java and Spring Boot with a tutorial and there is a docker-compose.yml which I should run, but I get an error:\r\n&gt; Error running &#39;docker-compose.yml: Compose Deployment&#39;: Server Docker not found\r\n\r\nI opened Preferences and there really wasn&#39;t configured integration, so I tried to add one, but I got another error:\r\n&gt; Cannot connect: Cannot connect to Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running? (Details: [2] No such file or directory)\r\n\r\nIn the Docker Tools I found the Docker Machine executable is not specified. But I have no clue what  there should be and Google isn&#39;t helping me.\r\n\r\nCould you please help me?","title":"Server Docker not found, Cannot connect to Docker daemon, Docker Machine executable is not specified","body":"<p>I'm learning Java and Spring Boot with a tutorial and there is a docker-compose.yml which I should run, but I get an error:</p>\n<blockquote>\n<p>Error running 'docker-compose.yml: Compose Deployment': Server Docker not found</p>\n</blockquote>\n<p>I opened Preferences and there really wasn't configured integration, so I tried to add one, but I got another error:</p>\n<blockquote>\n<p>Cannot connect: Cannot connect to Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running? (Details: [2] No such file or directory)</p>\n</blockquote>\n<p>In the Docker Tools I found the Docker Machine executable is not specified. But I have no clue what  there should be and Google isn't helping me.</p>\n<p>Could you please help me?</p>\n"},{"tags":["java","module-info"],"comments":[{"owner":{"account_id":3380032,"reputation":81,"user_id":2837258,"display_name":"Aaron"},"score":0,"creation_date":1659933735,"post_id":73245257,"comment_id":129403957,"body_markdown":"I&#39;ve tried multiple versions of eclipse and multiple JDK&#39;s.  I&#39;m at a loss as to why this isn&#39;t working, any help would be greatly appreciated.","body":"I&#39;ve tried multiple versions of eclipse and multiple JDK&#39;s.  I&#39;m at a loss as to why this isn&#39;t working, any help would be greatly appreciated."}],"answers":[{"tags":[],"owner":{"account_id":3380032,"reputation":81,"user_id":2837258,"display_name":"Aaron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659934897,"creation_date":1659934897,"answer_id":73273100,"question_id":73245257,"body_markdown":"Eclipse is no longer displaying the error after changing the compiler compliance level\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f5msB.png","title":"module-info.java - error: jdk.crypto.mscapi cannot be resolved to a module","body":"<p>Eclipse is no longer displaying the error after changing the compiler compliance level</p>\n<p><a href=\"https://i.stack.imgur.com/f5msB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f5msB.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3380032,"reputation":81,"user_id":2837258,"display_name":"Aaron"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73273100,"answer_count":1,"score":0,"last_activity_date":1672741571,"creation_date":1659678910,"question_id":73245257,"body_markdown":"Eclipse version: Version: 2022-03 (4.23.0)\r\n\r\nJDK: 17.0.3\r\n\r\nI&#39;m making some updates to an existing modular project.  For some reason, eclipse seems to think that jdk.crypto.mscapi cannot be resolved to a module.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI can see the module in the list when I run java --list-modules\r\n\r\nI can see the module within eclipse \r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nNot sure what the problem is here, anyone have any tips?\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fXIpg.png\r\n  [2]: https://i.stack.imgur.com/l5l8N.png","title":"module-info.java - error: jdk.crypto.mscapi cannot be resolved to a module","body":"<p>Eclipse version: Version: 2022-03 (4.23.0)</p>\n<p>JDK: 17.0.3</p>\n<p>I'm making some updates to an existing modular project.  For some reason, eclipse seems to think that jdk.crypto.mscapi cannot be resolved to a module.</p>\n<p><a href=\"https://i.stack.imgur.com/fXIpg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fXIpg.png\" alt=\"enter image description here\" /></a></p>\n<p>I can see the module in the list when I run java --list-modules</p>\n<p>I can see the module within eclipse</p>\n<p><a href=\"https://i.stack.imgur.com/l5l8N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l5l8N.png\" alt=\"enter image description here\" /></a></p>\n<p>Not sure what the problem is here, anyone have any tips?</p>\n"},{"tags":["java","java-17"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":3,"creation_date":1660996090,"post_id":73426331,"comment_id":129668476,"body_markdown":"The real question is: why do you need to do that?","body":"The real question is: why do you need to do that?"},{"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"score":0,"creation_date":1660996227,"post_id":73426331,"comment_id":129668501,"body_markdown":"@Olivier because I see Lombok can access the internal api such as com.sun.tools. I am curious about that how Lombok can do that.","body":"@Olivier because I see Lombok can access the internal api such as com.sun.tools. I am curious about that how Lombok can do that."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1660996340,"post_id":73426331,"comment_id":129668524,"body_markdown":"See how [Lombok did it](https://github.com/projectlombok/lombok/commit/7069c7e90377952ae7c9a7dfd6786205dfe7ec5f) or how [Eclipse Window builder did it by using the Burningwave library](https://github.com/eclipse/windowbuilder/issues/45).","body":"See how <a href=\"https://github.com/projectlombok/lombok/commit/7069c7e90377952ae7c9a7dfd6786205dfe7ec5f\" rel=\"nofollow noreferrer\">Lombok did it</a> or how <a href=\"https://github.com/eclipse/windowbuilder/issues/45\" rel=\"nofollow noreferrer\">Eclipse Window builder did it by using the Burningwave library</a>."},{"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"score":0,"creation_date":1660996794,"post_id":73426331,"comment_id":129668608,"body_markdown":"@howlger but this class can directly import the internal api such as com.sun.tools: https://github.com/projectlombok/lombok/blob/master/src/core/lombok/javac/apt/LombokProcessor.java","body":"@howlger but this class can directly import the internal api such as com.sun.tools: <a href=\"https://github.com/projectlombok/lombok/blob/master/src/core/lombok/javac/apt/LombokProcessor.java\" rel=\"nofollow noreferrer\">github.com/projectlombok/lombok/blob/master/src/core/lombok/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1660997443,"post_id":73426331,"comment_id":129668725,"body_markdown":"Yes, but this works only with Java 17 or higher (or Java 16 without VM argument for old behavior) and a Lombok version containing the mentioned change.","body":"Yes, but this works only with Java 17 or higher (or Java 16 without VM argument for old behavior) and a Lombok version containing the mentioned change."},{"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"score":0,"creation_date":1660997649,"post_id":73426331,"comment_id":129668757,"body_markdown":"@howlger but I am using jdk 17, I cannot directly import com.sun.tools","body":"@howlger but I am using jdk 17, I cannot directly import com.sun.tools"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1661001552,"post_id":73426331,"comment_id":129669443,"body_markdown":"Sorry, I misread your question. You are talking about internals of the system library which are not API anymore for reasons, right? So don&#39;t use it anymore. Do also not use something like `--add-exports jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED` to make `System.out.println(com.sun.tools.javac.model.JavacElements.class);` compileable. Migrate your code instead of hacking the Java VM. Unfortunately, you didn&#39;t tell your [root problem](https://en.wikipedia.org/wiki/XY_problem).","body":"Sorry, I misread your question. You are talking about internals of the system library which are not API anymore for reasons, right? So don&#39;t use it anymore. Do also not use something like <code>--add-exports jdk.compiler&#47;com.sun.tools.javac.model=ALL-UNNAMED</code> to make <code>System.out.println(com.sun.tools.javac.model.JavacElements.c&zwnj;&#8203;lass);</code> compileable. Migrate your code instead of hacking the Java VM. Unfortunately, you didn&#39;t tell your <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">root problem</a>."},{"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"score":0,"creation_date":1661002050,"post_id":73426331,"comment_id":129669562,"body_markdown":"@howlger but I wanna know how Lombok can do that. I try to follow the source code of Lombok to do that just for learning reason but it doesn&#39;t work.","body":"@howlger but I wanna know how Lombok can do that. I try to follow the source code of Lombok to do that just for learning reason but it doesn&#39;t work."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1661002529,"post_id":73426331,"comment_id":129669662,"body_markdown":"Did you try reflection the way in the mentioned change and not the old way? Please tell your root problem and show your code.","body":"Did you try reflection the way in the mentioned change and not the old way? Please tell your root problem and show your code."}],"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":753,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672741468,"creation_date":1660995084,"question_id":73426331,"body_markdown":"As we know, jdk 17 has a new feature: Encapsulating the Java runtime internals. It made developers cannot access jdk internal API anymore even through reflection.\r\n\r\nNow, do we have any methods to access jdk internal api?","title":"How to access internal API after jdk 17?","body":"<p>As we know, jdk 17 has a new feature: Encapsulating the Java runtime internals. It made developers cannot access jdk internal API anymore even through reflection.</p>\n<p>Now, do we have any methods to access jdk internal api?</p>\n"},{"tags":["java","netbeans-12"],"comments":[{"owner":{"account_id":22197524,"reputation":53,"user_id":16438715,"display_name":"Candy"},"score":0,"creation_date":1662093801,"post_id":73577795,"comment_id":129930863,"body_markdown":"@sorifiend its clearly mentioned that I have built and run the project. The issue seems to be something else.","body":"@sorifiend its clearly mentioned that I have built and run the project. The issue seems to be something else."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1662094222,"post_id":73577795,"comment_id":129930907,"body_markdown":"What are you attempting to do with `Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;);`? If you remove that line the code will work fine","body":"What are you attempting to do with <code>Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;);</code>? If you remove that line the code will work fine"},{"owner":{"account_id":22197524,"reputation":53,"user_id":16438715,"display_name":"Candy"},"score":0,"creation_date":1662095185,"post_id":73577795,"comment_id":129931021,"body_markdown":"@sorifiend It is a driver class to the db.","body":"@sorifiend It is a driver class to the db."}],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662096548,"creation_date":1662096548,"answer_id":73578132,"question_id":73577795,"body_markdown":"This line is your issue:\r\n\r\n    Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;);\r\n\r\nIt is throwing an exception and causing your code to move to the catch block, print the message and then exit. We don&#39;t know exactly what the error is because you hide the exception, but you are most likely getting a `java.lang.ClassNotFoundException: org.apache.derby.jdbc.ClientDriver`\r\n\r\nEdit your catch block to show the full error message like so.\r\n\r\n    public static void main(String[] args) {\r\n        try{\r\n    \t    Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;);\r\n            System.out.println(&quot;It worked!&quot;);\r\n    \t}catch(Exception e){\r\n    \t    e.printStackTrace();\r\n    \t}\r\n    }\r\n\r\nIf you are getting a `ClassNotFoundException` then make sure that the class/driver is on your classpath (There are many existing answers on StackOverflow or the web about how to resolve this).","title":"Netbeans project wouldn&#39;t give output","body":"<p>This line is your issue:</p>\n<pre><code>Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;);\n</code></pre>\n<p>It is throwing an exception and causing your code to move to the catch block, print the message and then exit. We don't know exactly what the error is because you hide the exception, but you are most likely getting a <code>java.lang.ClassNotFoundException: org.apache.derby.jdbc.ClientDriver</code></p>\n<p>Edit your catch block to show the full error message like so.</p>\n<pre><code>public static void main(String[] args) {\n    try{\n        Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;);\n        System.out.println(&quot;It worked!&quot;);\n    }catch(Exception e){\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>If you are getting a <code>ClassNotFoundException</code> then make sure that the class/driver is on your classpath (There are many existing answers on StackOverflow or the web about how to resolve this).</p>\n"}],"owner":{"account_id":22197524,"reputation":53,"user_id":16438715,"display_name":"Candy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1662098076,"accepted_answer_id":73578132,"answer_count":1,"score":0,"last_activity_date":1672741360,"creation_date":1662093132,"question_id":73577795,"body_markdown":"I am using netbeans 12 with jdk 17.\r\nI built and ran the following project, it shows as\r\n\r\n `org.apache.derby.jdbc.ClientDriver\r\nBUILD SUCCESSFUL (total time: 0 seconds)`\r\n\r\nBut the output is not obtained, the code has no errors and this is the only file in the project.\r\n\r\nCode:\r\n\r\n    public class Bookclass {\r\n\r\n    public static void main(String[] args) {\r\n        // TODO code application logic here\r\n        try{\r\n            Scanner in=new Scanner(System.in);\r\n            Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;);\r\n            int ch;\r\n            do{\r\n                System.out.println(&quot;1.Insert 2.Update 3.Delete 4.Display 5.Exit\\nEnter your choice:&quot;);\r\n                ch=in.nextInt();\r\n                books b=new books();\r\n                switch(ch){\r\n                    case 1:\r\n                        b.insert();\r\n                        break;\r\n                    case 2:\r\n                        b.update();\r\n                        break;\r\n                    case 3:\r\n                        b.delete();\r\n                        break;\r\n                    case 4:\r\n                        b.display();\r\n                        break;\r\n                    case 5:\r\n                        System.exit(0);\r\n                        break;\r\n                }\r\n            }while(ch!=5);\r\n        }catch(Exception e){\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n}","title":"Netbeans project wouldn&#39;t give output","body":"<p>I am using netbeans 12 with jdk 17.\nI built and ran the following project, it shows as</p>\n<p><code>org.apache.derby.jdbc.ClientDriver BUILD SUCCESSFUL (total time: 0 seconds)</code></p>\n<p>But the output is not obtained, the code has no errors and this is the only file in the project.</p>\n<p>Code:</p>\n<pre><code>public class Bookclass {\n\npublic static void main(String[] args) {\n    // TODO code application logic here\n    try{\n        Scanner in=new Scanner(System.in);\n        Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;);\n        int ch;\n        do{\n            System.out.println(&quot;1.Insert 2.Update 3.Delete 4.Display 5.Exit\\nEnter your choice:&quot;);\n            ch=in.nextInt();\n            books b=new books();\n            switch(ch){\n                case 1:\n                    b.insert();\n                    break;\n                case 2:\n                    b.update();\n                    break;\n                case 3:\n                    b.delete();\n                    break;\n                case 4:\n                    b.display();\n                    break;\n                case 5:\n                    System.exit(0);\n                    break;\n            }\n        }while(ch!=5);\n    }catch(Exception e){\n        System.out.println(e.getMessage());\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","netbeans-12"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1662100978,"post_id":73578638,"comment_id":129932159,"body_markdown":"You miss the jar containing class *org.apache.derby.jdbc.ClientDriver* in your class path","body":"You miss the jar containing class <i>org.apache.derby.jdbc.ClientDriver</i> in your class path"},{"owner":{"account_id":22197524,"reputation":53,"user_id":16438715,"display_name":"Candy"},"score":0,"creation_date":1662101325,"post_id":73578638,"comment_id":129932262,"body_markdown":"@jens does derbyclient.jar not contain it?","body":"@jens does derbyclient.jar not contain it?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1662101628,"post_id":73578638,"comment_id":129932373,"body_markdown":"It should contains the class. But it is in your classpath while running your application","body":"It should contains the class. But it is in your classpath while running your application"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1662101667,"post_id":73578638,"comment_id":129932390,"body_markdown":"BTW: Take care of java naming conventions. Class names should start with upper case character","body":"BTW: Take care of java naming conventions. Class names should start with upper case character"},{"owner":{"account_id":22197524,"reputation":53,"user_id":16438715,"display_name":"Candy"},"score":0,"creation_date":1662102134,"post_id":73578638,"comment_id":129932533,"body_markdown":"@jens how do I add a class to a jar file?","body":"@jens how do I add a class to a jar file?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1662102172,"post_id":73578638,"comment_id":129932549,"body_markdown":"How do you run your application?","body":"How do you run your application?"},{"owner":{"account_id":22197524,"reputation":53,"user_id":16438715,"display_name":"Candy"},"score":0,"creation_date":1662102427,"post_id":73578638,"comment_id":129932621,"body_markdown":"@jens I added another jar file containing the class org.apache.derby.jdbc.ClientDriver but no changes.","body":"@jens I added another jar file containing the class org.apache.derby.jdbc.ClientDriver but no changes."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1662102855,"post_id":73578638,"comment_id":129932751,"body_markdown":"How have you done it?","body":"How have you done it?"},{"owner":{"account_id":22197524,"reputation":53,"user_id":16438715,"display_name":"Candy"},"score":0,"creation_date":1662103097,"post_id":73578638,"comment_id":129932822,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/247746/discussion-between-candy-and-jens).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/247746/discussion-between-candy-and-jens\">continue this discussion in chat</a>."}],"owner":{"account_id":22197524,"reputation":53,"user_id":16438715,"display_name":"Candy"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1672741340,"creation_date":1662100456,"question_id":73578638,"body_markdown":"I am using netbeans 12 with jdk 17.\r\nOn building and running the following code, I get this error and no output is shown:\r\n\r\n        java.lang.ClassNotFoundException: org.apache.derby.jdbc.ClientDriver\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \tat java.base/java.lang.Class.forName0(Native Method)\r\n    \tat java.base/java.lang.Class.forName(Class.java:375)\r\n    \tat bookclass.Bookclass.main(Bookclass.java:114)\r\n    BUILD SUCCESSFUL (total time: 0 seconds)\r\n\r\nI have added all the jar files namely derby.jar, derbyshared.jar, derbyclient.jar, etc.\r\n\r\nCode:\r\n\r\n    package bookclass;\r\n    import java.sql.*;\r\n    import java.util.*;\r\n    \r\n    class books {\r\n    \r\n        void insert() {\r\n            try {\r\n                Scanner in = new Scanner(System.in);\r\n                Connection con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/library&quot;);\r\n                Statement st = con.createStatement();\r\n                String s = &quot;insert into bookstb values(&quot; + id + &quot;, &#39;&quot; + t + &quot;&#39;, &#39;&quot; + p + &quot;&#39;, &#39;&quot; + a + &quot;&#39;, &quot; + c + &quot;, &quot; + pr + &quot;)&quot;;\r\n                int x = st.executeUpdate(s);\r\n                System.out.println(&quot;No. of rows inserted: &quot; + x);\r\n                st.close();\r\n                con.close();\r\n            } catch (Exception e) {\r\n                System.out.println(e.getMessage());\r\n            }\r\n        }\r\n    }\r\n    public class Bookclass {\r\n        public static void main(String[] args) {\r\n            // TODO code application logic here\r\n            try {\r\n                Scanner in = new Scanner(System.in);\r\n                Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;);\r\n                int ch;\r\n                do {\r\n                    System.out.println(&quot;1.Insert 2.Update 3.Delete 4.Display 5.Exit\\nEnter your choice:&quot;);\r\n                    ch = in.nextInt();\r\n                    books b = new books();\r\n                    switch (ch) {\r\n                        case 1:\r\n                            b.insert();\r\n                            break;\r\n                        case 2:\r\n                            b.update();\r\n                            break;\r\n                        case 3:\r\n                            b.delete();\r\n                            break;\r\n                        case 4:\r\n                            b.display();\r\n                            break;\r\n                        case 5:\r\n                            System.exit(0);\r\n                            break;\r\n                    }\r\n                } while (ch != 5);\r\n            } catch (Exception e) {\r\n                //System.out.println(e.getMessage());\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nI have tried all the possible solutions available but none solve my issue.","title":"java.lang.ClassNotFoundException: org.apache.derby.jdbc.ClientDriver on netbeans","body":"<p>I am using netbeans 12 with jdk 17.\nOn building and running the following code, I get this error and no output is shown:</p>\n<pre><code>    java.lang.ClassNotFoundException: org.apache.derby.jdbc.ClientDriver\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:375)\n    at bookclass.Bookclass.main(Bookclass.java:114)\nBUILD SUCCESSFUL (total time: 0 seconds)\n</code></pre>\n<p>I have added all the jar files namely derby.jar, derbyshared.jar, derbyclient.jar, etc.</p>\n<p>Code:</p>\n<pre><code>package bookclass;\nimport java.sql.*;\nimport java.util.*;\n\nclass books {\n\n    void insert() {\n        try {\n            Scanner in = new Scanner(System.in);\n            Connection con = DriverManager.getConnection(&quot;jdbc:derby://localhost:1527/library&quot;);\n            Statement st = con.createStatement();\n            String s = &quot;insert into bookstb values(&quot; + id + &quot;, '&quot; + t + &quot;', '&quot; + p + &quot;', '&quot; + a + &quot;', &quot; + c + &quot;, &quot; + pr + &quot;)&quot;;\n            int x = st.executeUpdate(s);\n            System.out.println(&quot;No. of rows inserted: &quot; + x);\n            st.close();\n            con.close();\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n    }\n}\npublic class Bookclass {\n    public static void main(String[] args) {\n        // TODO code application logic here\n        try {\n            Scanner in = new Scanner(System.in);\n            Class.forName(&quot;org.apache.derby.jdbc.ClientDriver&quot;);\n            int ch;\n            do {\n                System.out.println(&quot;1.Insert 2.Update 3.Delete 4.Display 5.Exit\\nEnter your choice:&quot;);\n                ch = in.nextInt();\n                books b = new books();\n                switch (ch) {\n                    case 1:\n                        b.insert();\n                        break;\n                    case 2:\n                        b.update();\n                        break;\n                    case 3:\n                        b.delete();\n                        break;\n                    case 4:\n                        b.display();\n                        break;\n                    case 5:\n                        System.exit(0);\n                        break;\n                }\n            } while (ch != 5);\n        } catch (Exception e) {\n            //System.out.println(e.getMessage());\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I have tried all the possible solutions available but none solve my issue.</p>\n"},{"tags":["java","memory-leaks","garbage-collection","zgc"],"comments":[{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1669887924,"post_id":74563986,"comment_id":131746833,"body_markdown":"I have no hands-on experience with zgc but there are somethings that stick out here. I note that you have MX == MS. With other GC:s that means that heap ergonomics is turned off. If that is the same with zgc, you might consider setting MS different from MX. I also note that you have THP turned on. I&#39;ve run into excessive gc times with THP turned on due to memory page coalescing. Turning it off was our solution. Assuming you&#39;re not running windows, we caught that with iostat. Hope this helps somewhat.","body":"I have no hands-on experience with zgc but there are somethings that stick out here. I note that you have MX == MS. With other GC:s that means that heap ergonomics is turned off. If that is the same with zgc, you might consider setting MS different from MX. I also note that you have THP turned on. I&#39;ve run into excessive gc times with THP turned on due to memory page coalescing. Turning it off was our solution. Assuming you&#39;re not running windows, we caught that with iostat. Hope this helps somewhat."},{"owner":{"account_id":7338464,"reputation":141,"user_id":5588964,"display_name":"0x00"},"score":0,"creation_date":1669967956,"post_id":74563986,"comment_id":131767645,"body_markdown":"I would have expected THP to reduce the likelihood of paging time during high allocation. But it is something we can try, true.  The size settings are set to the same to ensure that no memory resizing happens for the heap as the work load is fixed. ZGC unexpectedly has quite good performance overall, and memory sizing we used to do with G1 can be definitely smaller. We have not really reduced the heap sizes since our original G1 GC setup.","body":"I would have expected THP to reduce the likelihood of paging time during high allocation. But it is something we can try, true.  The size settings are set to the same to ensure that no memory resizing happens for the heap as the work load is fixed. ZGC unexpectedly has quite good performance overall, and memory sizing we used to do with G1 can be definitely smaller. We have not really reduced the heap sizes since our original G1 GC setup."}],"answers":[{"comments":[{"owner":{"account_id":7338464,"reputation":141,"user_id":5588964,"display_name":"0x00"},"score":0,"creation_date":1678268615,"post_id":74652612,"comment_id":133498398,"body_markdown":"We finally managed to get to the bottom of the issue. It isn&#39;t particularly obvious at all but we were incorrectly using compareAndExchange instead of compareAndSet of an atomic variable. When using booleans, you might just end up checking the wrong value to compare against. When attempting to throttle internal logic, we were not actually throttling at all. Causing extremely fast allocation in some sections.\n\nNot a ZGC issue thankfully.","body":"We finally managed to get to the bottom of the issue. It isn&#39;t particularly obvious at all but we were incorrectly using compareAndExchange instead of compareAndSet of an atomic variable. When using booleans, you might just end up checking the wrong value to compare against. When attempting to throttle internal logic, we were not actually throttling at all. Causing extremely fast allocation in some sections.  Not a ZGC issue thankfully."}],"tags":[],"owner":{"account_id":7338464,"reputation":141,"user_id":5588964,"display_name":"0x00"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669968717,"creation_date":1669968717,"answer_id":74652612,"question_id":74563986,"body_markdown":"We did not get to a reason for the issues, however, we did make some progress in examining the issue closer.\r\n\r\nWhen examing the ZGC code for the OpenJDK from github.\r\n\r\nhttps://github.com/openjdk/zgc/blob/1f8813495e8184b6c38319df1c2cb70de7811a76/src/hotspot/share/gc/z/zDirector.cpp#L184\r\n\r\nIt has code to work out an allocation rate. We also enabled the debug logging of the ZGC.\r\n\r\n```\r\n-Xlog:gc*=debug:file=gc.log:time,level,tags\r\n``` \r\n\r\nThe logging that looks like the final lines below, predicts the  allocation rate to be 0 for extended periods of time for the application start. We suspect this might be one of the reasons for the issue. However, in looking at the GCGraphs it doesn&#39;t fully explain why it gets into some panic state when there is enough memory during normal function. \r\n\r\nWe set the ```-XX:ZAllocationSpikeTolerance=10``` to ensure that the estimated memory use would get close to our normal allocation rate of 2000MB/s. The predicted memory usage for the ZGC from that point on appeared to be correct. We&#39;ve run this settings for a while now on our services without issues so far. We also removed the ```-XX:SoftMaxHeapSize=``` as the GC frequency required seems to be correctly estimated by just the ```XX:ZAllocationSpikeTolerance```. \r\n\r\nExample debug logging for Predicted allocation rate. \r\n```\r\n[2022-12-02T12:45:29.825+0530][debug][gc,director    ] Rule: Allocation Rate (Dynamic GC Workers), MaxAllocRate: 9624.6MB/s (+/-0.6%), Free: 3412MB, GCCPUTime: 0.136, GCDuration: 0.136s, TimeUntilOOM: 0.352s, TimeUntilGC: 0.116s, GCWorkers: 1 -&gt; 1\r\n[2022-12-02T12:45:29.825+0530][debug][gc,director    ] Rule: High Usage, Free: 3412MB(83.3%)\r\n[2022-12-02T12:45:29.825+0530][debug][gc,director    ] Rule: Proactive, AcceptableGCInterval: 3.394s, TimeSinceLastGC: 0.473s, TimeUntilGC: 2.921s\r\n[2022-12-02T12:45:29.925+0530][debug][gc,alloc       ] Allocation Rate: 958.0MB/s, Predicted: 960.9MB/s, Avg: 954.4(+/-5.7)MB/s\r\n[2022-12-02T12:45:29.925+0530][debug][gc,director    ] Rule: Timer, Interval: 4.000s, TimeUntilGC: 3.427s\r\n[2022-12-02T12:45:29.925+0530][debug][gc,director    ] Select GC Workers (Normal), AvoidLongGCWorkers: 0.013, AvoidOOMGCWorkers: 0.393, LastGCWorkers: 1.000, GCWorkers: 0.393\r\n```","title":"JDK 17.0.1 ZGC allocation stall on fast allocation rate","body":"<p>We did not get to a reason for the issues, however, we did make some progress in examining the issue closer.</p>\n<p>When examing the ZGC code for the OpenJDK from github.</p>\n<p><a href=\"https://github.com/openjdk/zgc/blob/1f8813495e8184b6c38319df1c2cb70de7811a76/src/hotspot/share/gc/z/zDirector.cpp#L184\" rel=\"nofollow noreferrer\">https://github.com/openjdk/zgc/blob/1f8813495e8184b6c38319df1c2cb70de7811a76/src/hotspot/share/gc/z/zDirector.cpp#L184</a></p>\n<p>It has code to work out an allocation rate. We also enabled the debug logging of the ZGC.</p>\n<pre><code>-Xlog:gc*=debug:file=gc.log:time,level,tags\n</code></pre>\n<p>The logging that looks like the final lines below, predicts the  allocation rate to be 0 for extended periods of time for the application start. We suspect this might be one of the reasons for the issue. However, in looking at the GCGraphs it doesn't fully explain why it gets into some panic state when there is enough memory during normal function.</p>\n<p>We set the <code>-XX:ZAllocationSpikeTolerance=10</code> to ensure that the estimated memory use would get close to our normal allocation rate of 2000MB/s. The predicted memory usage for the ZGC from that point on appeared to be correct. We've run this settings for a while now on our services without issues so far. We also removed the <code>-XX:SoftMaxHeapSize=</code> as the GC frequency required seems to be correctly estimated by just the <code>XX:ZAllocationSpikeTolerance</code>.</p>\n<p>Example debug logging for Predicted allocation rate.</p>\n<pre><code>[2022-12-02T12:45:29.825+0530][debug][gc,director    ] Rule: Allocation Rate (Dynamic GC Workers), MaxAllocRate: 9624.6MB/s (+/-0.6%), Free: 3412MB, GCCPUTime: 0.136, GCDuration: 0.136s, TimeUntilOOM: 0.352s, TimeUntilGC: 0.116s, GCWorkers: 1 -&gt; 1\n[2022-12-02T12:45:29.825+0530][debug][gc,director    ] Rule: High Usage, Free: 3412MB(83.3%)\n[2022-12-02T12:45:29.825+0530][debug][gc,director    ] Rule: Proactive, AcceptableGCInterval: 3.394s, TimeSinceLastGC: 0.473s, TimeUntilGC: 2.921s\n[2022-12-02T12:45:29.925+0530][debug][gc,alloc       ] Allocation Rate: 958.0MB/s, Predicted: 960.9MB/s, Avg: 954.4(+/-5.7)MB/s\n[2022-12-02T12:45:29.925+0530][debug][gc,director    ] Rule: Timer, Interval: 4.000s, TimeUntilGC: 3.427s\n[2022-12-02T12:45:29.925+0530][debug][gc,director    ] Select GC Workers (Normal), AvoidLongGCWorkers: 0.013, AvoidOOMGCWorkers: 0.393, LastGCWorkers: 1.000, GCWorkers: 0.393\n</code></pre>\n"}],"owner":{"account_id":7338464,"reputation":141,"user_id":5588964,"display_name":"0x00"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1093,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1672741322,"creation_date":1669308391,"question_id":74563986,"body_markdown":"We&#39;re using ZGC on JDK 17.0.1. The application successfully runs without unexpected GC stalls for a period of time, after which it gets into a state where the ZGC does not free much memory when the GC is being done. This results in multiple periodic Allocation Stalls within the application from then on. \r\n\r\nThe application itself does a lot of allocation at a periodic interval of around 35 milliseconds. This is roughly 2GB/s allocation when its at peak load. On a typical start in the morning, there is about 30 minutes in which the load is low, till a point at which external data starts arriving, and load is high from then on. The load profile does change as the application is running as a result. Due to the predictable allocation during load, we&#39;ve set the collection at an interval using the ZCollectionInterval. \r\n\r\nWe cannot consistently reproduce the Allocation Stalls, even between different machines where the load is very similar. Oddly, if the application is restarted while the load is already high, then it does not typically run into issues. \r\n\r\nWe did play around with the UseDynamicNumberOfGCThreads as well previously, but it seems to come up  with a number of threads that is 2. The chart attached uses SoftMaxHeapSize=1G. This is a bit aggressive, but we did see the same issue without setting the SofMaxHeapSize.\r\nWe did also notice that the Concurrent Mark phase of the GC seems to increase leading up to this issue. We also didnt see anything of note about ZGC within the Release notes of JDK versions up till 17.0.5.\r\n\r\n\r\nHas anyone run into similar issues before? We&#39;re unsure as to why this happens or if this is expected behavior when setting the flags as such. As much hasn&#39;t been set and the rarity at which it occurs, we were hoping some one can give some pointers as to if this is actually a known issue with an existing fix or we&#39;re just setting it up wrong.\r\n\r\n\r\nThese are the relevant flags. \r\n\r\n```\r\n-XX:-OmitStackTraceInFastThrow\r\n-XX:CICompilerCount=2\r\n-XX:+DisableExplicitGC\r\n-XX:ParallelGCThreads=4\r\n-XX:ConcGCThreads=4\r\n-Xmx8192m\r\n-Xms8192m\r\n-Xss8m\r\n-Xlog:gc*=info:file=${LT_APP_LOG_PATH_FORMAT}.gc:time,level,tags:filecount=32,filesize=64M\r\n-XX:+UseZGC\r\n-XX:+AlwaysPreTouch\r\n-XX:+UseLargePages\r\n-XX:+UseTransparentHugePages\r\n-XX:ZCollectionInterval=4\r\n-Djdk.nio.maxCachedBufferSize=262144\r\n-XX:+HeapDumpOnOutOfMemoryError\r\n-XX:SoftMaxHeapSize=1G\r\n```\r\n\r\n```\r\n[2022-11-24T09:21:12.378+0530][info][gc,phases   ] GC(669) Concurrent Select Relocation Set 8.713ms\r\n[2022-11-24T09:21:12.378+0530][info][gc,phases   ] GC(669) Pause Relocate Start 0.008ms\r\n[2022-11-24T09:21:12.420+0530][info][gc,phases   ] GC(669) Concurrent Relocate 41.564ms\r\n[2022-11-24T09:21:12.420+0530][info][gc,load     ] GC(669) Load: 36.38/31.86/25.10\r\n[2022-11-24T09:21:12.420+0530][info][gc,mmu      ] GC(669) MMU: 2ms/99.1%, 5ms/99.6%, 10ms/99.8%, 20ms/99.9%, 50ms/99.9%, 100ms/100.0%\r\n[2022-11-24T09:21:12.420+0530][info][gc,marking  ] GC(669) Mark: 4 stripe(s), 2 proactive flush(es), 1 terminate flush(es), 0 completion(s), 0 continuation(s) \r\n[2022-11-24T09:21:12.420+0530][info][gc,marking  ] GC(669) Mark Stack Usage: 32M\r\n[2022-11-24T09:21:12.420+0530][info][gc,nmethod  ] GC(669) NMethods: 10353 registered, 328 unregistered\r\n[2022-11-24T09:21:12.420+0530][info][gc,metaspace] GC(669) Metaspace: 44M used, 46M committed, 1072M reserved\r\n[2022-11-24T09:21:12.420+0530][info][gc,ref      ] GC(669) Soft: 2311 encountered, 98 discovered, 0 enqueued\r\n[2022-11-24T09:21:12.420+0530][info][gc,ref      ] GC(669) Weak: 2559 encountered, 652 discovered, 0 enqueued\r\n[2022-11-24T09:21:12.420+0530][info][gc,ref      ] GC(669) Final: 56 encountered, 7 discovered, 0 enqueued\r\n[2022-11-24T09:21:12.420+0530][info][gc,ref      ] GC(669) Phantom: 27425 encountered, 27313 discovered, 27030 enqueued\r\n[2022-11-24T09:21:12.420+0530][info][gc,reloc    ] GC(669) Small Pages: 5764 / 11528M, Empty: 4752M, Relocated: 58M, In-Place: 0\r\n[2022-11-24T09:21:12.420+0530][info][gc,reloc    ] GC(669) Medium Pages: 3 / 96M, Empty: 64M, Relocated: 0M, In-Place: 0\r\n[2022-11-24T09:21:12.420+0530][info][gc,reloc    ] GC(669) Large Pages: 0 / 0M, Empty: 0M, Relocated: 0M, In-Place: 0\r\n[2022-11-24T09:21:12.420+0530][info][gc,reloc    ] GC(669) Forwarding Usage: 29M\r\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669) Min Capacity: 16384M(100%)\r\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669) Max Capacity: 16384M(100%)\r\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669) Soft Max Capacity: 1024M(6%)\r\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669)                Mark Start          Mark End        Relocate Start      Relocate End           High               Low         \r\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669)  Capacity:    16384M (100%)      16384M (100%)      16384M (100%)      16384M (100%)      16384M (100%)      16384M (100%)   \r\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669)      Free:     4760M (29%)           0M (0%)         4788M (29%)        5392M (33%)        5394M (33%)           0M (0%)     \r\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669)      Used:    11624M (71%)       16384M (100%)      11596M (71%)       10992M (67%)       16384M (100%)      10990M (67%)    \r\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669)      Live:         -              5860M (36%)        5860M (36%)        5860M (36%)            -                  -          \r\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669) Allocated:         -              4760M (29%)        4788M (29%)        4858M (30%)            -                  -          \r\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669)   Garbage:         -              5763M (35%)         947M (6%)          273M (2%)             -                  -          \r\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669) Reclaimed:         -                  -              4816M (29%)        5490M (34%)            -                  -          \r\n[2022-11-24T09:21:12.420+0530][info][gc          ] GC(669) Garbage Collection (Allocation Stall) 11624M(71%)-&gt;10992M(67%)\r\n[2022-11-24T09:21:12.479+0530][info][gc,start    ] GC(670) Garbage Collection (Allocation Stall)\r\n[2022-11-24T09:21:12.479+0530][info][gc,ref      ] GC(670) Clearing All SoftReferences\r\n[2022-11-24T09:21:12.479+0530][info][gc,task     ] GC(670) Using 4 workers\r\n[2022-11-24T09:21:12.479+0530][info][gc,phases   ] GC(670) Pause Mark Start 0.009ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ] === Garbage Collection Statistics =======================================================================================================================\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]                                                              Last 10s              Last 10m              Last 10h                Total\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]                                                              Avg / Max             Avg / Max             Avg / Max             Avg / Max\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]   Collector: Garbage Collection Cycle                   3410.686 / 3486.475    844.670 / 3486.475    464.952 / 3486.475    464.952 / 3486.475    ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]  Contention: Mark Segment Reset Contention                     7 / 15                3 / 30                1 / 30                1 / 30          ops/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]  Contention: Mark SeqNum Reset Contention                      0 / 1                 0 / 3                 0 / 3                 0 / 3           ops/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Critical: Allocation Stall                                  1 / 5                 0 / 7                 0 / 7                 0 / 7           ops/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Critical: Allocation Stall                            677.602 / 900.858     303.367 / 900.858     303.367 / 900.858     303.367 / 900.858     ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Critical: GC Locker Stall                                   0 / 0                 0 / 0                 0 / 1                 0 / 1           ops/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Critical: GC Locker Stall                               0.000 / 0.000         0.000 / 0.000         0.033 / 0.058         0.033 / 0.058       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Critical: Relocation Stall                                  0 / 0                 0 / 0                 0 / 0                 0 / 0           ops/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Critical: Relocation Stall                              0.000 / 0.000         0.000 / 0.000         0.000 / 0.000         0.000 / 0.000       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Allocation Rate                                1479 / 1860           1003 / 2264            329 / 2264            329 / 2264        MB/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Out Of Memory                                     0 / 0                 0 / 0                 0 / 0                 0 / 0           ops/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Page Cache Flush                                  0 / 0                 0 / 32                0 / 32                0 / 32          MB/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Page Cache Hit L1                               198 / 827             177 / 901              59 / 901              59 / 901         ops/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Page Cache Hit L2                               541 / 930             316 / 1052            103 / 1052            103 / 1052        ops/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Page Cache Hit L3                                 1 / 15               12 / 657               4 / 657               4 / 657         ops/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Page Cache Miss                                   0 / 0                 0 / 1                 0 / 1                 0 / 1           ops/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Uncommit                                          0 / 0                 0 / 0                 0 / 0                 0 / 0           MB/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Undo Object Allocation Failed                     0 / 0                 0 / 1                 0 / 1                 0 / 1           ops/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Undo Object Allocation Succeeded                  0 / 3                 4 / 855               1 / 855               1 / 855         ops/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Undo Page Allocation                              0 / 3                 0 / 4                 0 / 4                 0 / 4           ops/s\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Mark                            3356.120 / 3437.684    812.574 / 3437.684    445.012 / 3437.684    445.012 / 3437.684    ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Mark Continue                      0.000 / 0.000         0.000 / 0.000         0.000 / 0.000         0.000 / 0.000       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Mark Free                          0.001 / 0.001         0.001 / 0.002         0.001 / 0.002         0.001 / 0.002       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Process Non-Strong References      8.650 / 8.848        12.746 / 47.124        8.067 / 47.124        8.067 / 47.124      ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Relocate                          36.550 / 41.564       14.436 / 55.995        8.357 / 55.995        8.357 / 55.995      ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Reset Relocation Set               0.067 / 0.080         0.023 / 0.080         0.013 / 0.080         0.013 / 0.080       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Select Relocation Set              7.214 / 8.713         3.382 / 29.365        2.579 / 29.365        2.579 / 29.365      ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Pause Mark End                                0.011 / 0.011         0.011 / 0.018         0.009 / 0.018         0.009 / 0.018       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Pause Mark Start                              0.008 / 0.009         0.008 / 0.016         0.008 / 0.016         0.008 / 0.016       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Pause Relocate Start                          0.008 / 0.008         0.007 / 0.013         0.006 / 0.013         0.006 / 0.013       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Classes Purge                      0.266 / 0.497         0.411 / 5.255         0.251 / 5.255         0.251 / 5.255       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Classes Unlink                     5.018 / 5.358         9.216 / 28.725        5.991 / 28.725        5.991 / 28.725      ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Mark                            3352.212 / 3437.123    855.661 / 3437.123    454.341 / 3437.123    454.341 / 3437.123    ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Mark Try Flush                     0.030 / 0.055         0.760 / 42.368        0.442 / 42.368        0.442 / 42.368      ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Mark Try Terminate                 0.703 / 1.059         1.393 / 27.549        1.126 / 27.549        1.126 / 27.549      ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent References Enqueue                 0.003 / 0.004         0.003 / 0.013         0.002 / 0.013         0.002 / 0.013       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent References Process                 3.055 / 3.524         1.183 / 9.454         0.655 / 9.454         0.655 / 9.454       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Roots ClassLoaderDataGraph         0.090 / 0.223         0.135 / 12.400        0.105 / 12.400        0.105 / 12.400      ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Roots CodeCache                    0.000 / 0.000         0.000 / 0.000         0.000 / 0.000         0.000 / 0.000       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Roots JavaThreads                  0.411 / 1.162         0.520 / 12.391        0.407 / 12.391        0.407 / 12.391      ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Roots OopStorageSet                0.018 / 0.038         0.051 / 12.043        0.030 / 12.043        0.030 / 12.043      ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Weak Roots OopStorageSet           0.259 / 0.263         0.449 / 4.890         0.331 / 4.890         0.331 / 4.890       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Pause Mark Try Complete                       0.000 / 0.000         0.000 / 0.000         0.000 / 0.000         0.000 / 0.000       ms\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      System: Java Threads                                     28 / 28               26 / 29               21 / 29               21 / 29          threads\r\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ] =========================================================================================================================================================\r\n[2022-11-24T09:21:15.944+0530][info][gc,phases   ] GC(670) Concurrent Mark 3465.071ms\r\n[2022-11-24T09:21:15.944+0530][info][gc,phases   ] GC(670) Pause Mark End 0.011ms\r\n[2022-11-24T09:21:15.944+0530][info][gc,phases   ] GC(670) Concurrent Mark Free 0.001ms\r\n[2022-11-24T09:21:15.953+0530][info][gc,phases   ] GC(670) Concurrent Process Non-Strong References 8.537ms\r\n[2022-11-24T09:21:15.953+0530][info][gc,phases   ] GC(670) Concurrent Reset Relocation Set 0.062ms\r\n[2022-11-24T09:21:15.953+0530][info][gc          ] Allocation Stall (lt-primary-pool-2) 704.524ms\r\n[2022-11-24T09:21:15.953+0530][info][gc          ] Allocation Stall (lt-primary-pool-0) 704.168ms\r\n[2022-11-24T09:21:15.953+0530][info][gc          ] Allocation Stall (lt-secondary-pool-0) 711.668ms\r\n[2022-11-24T09:21:15.955+0530][info][gc          ] Allocation Stall (lt-primary-pool-1) 707.109ms\r\n[2022-11-24T09:21:15.955+0530][info][gc          ] Allocation Stall (lt-secondary-pool-1) 713.196ms\r\n[2022-11-24T09:21:15.957+0530][info][gc,phases   ] GC(670) Concurrent Select Relocation Set 4.082ms\r\n\r\n```\r\n```\r\njava version &quot;17.0.1&quot; 2021-10-19 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.1+12-LTS-39)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)\r\n```\r\n\r\nGraphs created with GCViewer on the GC logs.\r\n\r\n**ZGC clean up issues**\r\n[![ZGC clean up issues][2]][2]\r\n\r\n**No issues allocation when everything is fine**\r\n[![No issues allocation when everything is fine][1]][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mgd3y.png\r\n  [2]: https://i.stack.imgur.com/01bAl.png","title":"JDK 17.0.1 ZGC allocation stall on fast allocation rate","body":"<p>We're using ZGC on JDK 17.0.1. The application successfully runs without unexpected GC stalls for a period of time, after which it gets into a state where the ZGC does not free much memory when the GC is being done. This results in multiple periodic Allocation Stalls within the application from then on.</p>\n<p>The application itself does a lot of allocation at a periodic interval of around 35 milliseconds. This is roughly 2GB/s allocation when its at peak load. On a typical start in the morning, there is about 30 minutes in which the load is low, till a point at which external data starts arriving, and load is high from then on. The load profile does change as the application is running as a result. Due to the predictable allocation during load, we've set the collection at an interval using the ZCollectionInterval.</p>\n<p>We cannot consistently reproduce the Allocation Stalls, even between different machines where the load is very similar. Oddly, if the application is restarted while the load is already high, then it does not typically run into issues.</p>\n<p>We did play around with the UseDynamicNumberOfGCThreads as well previously, but it seems to come up  with a number of threads that is 2. The chart attached uses SoftMaxHeapSize=1G. This is a bit aggressive, but we did see the same issue without setting the SofMaxHeapSize.\nWe did also notice that the Concurrent Mark phase of the GC seems to increase leading up to this issue. We also didnt see anything of note about ZGC within the Release notes of JDK versions up till 17.0.5.</p>\n<p>Has anyone run into similar issues before? We're unsure as to why this happens or if this is expected behavior when setting the flags as such. As much hasn't been set and the rarity at which it occurs, we were hoping some one can give some pointers as to if this is actually a known issue with an existing fix or we're just setting it up wrong.</p>\n<p>These are the relevant flags.</p>\n<pre><code>-XX:-OmitStackTraceInFastThrow\n-XX:CICompilerCount=2\n-XX:+DisableExplicitGC\n-XX:ParallelGCThreads=4\n-XX:ConcGCThreads=4\n-Xmx8192m\n-Xms8192m\n-Xss8m\n-Xlog:gc*=info:file=${LT_APP_LOG_PATH_FORMAT}.gc:time,level,tags:filecount=32,filesize=64M\n-XX:+UseZGC\n-XX:+AlwaysPreTouch\n-XX:+UseLargePages\n-XX:+UseTransparentHugePages\n-XX:ZCollectionInterval=4\n-Djdk.nio.maxCachedBufferSize=262144\n-XX:+HeapDumpOnOutOfMemoryError\n-XX:SoftMaxHeapSize=1G\n</code></pre>\n<pre><code>[2022-11-24T09:21:12.378+0530][info][gc,phases   ] GC(669) Concurrent Select Relocation Set 8.713ms\n[2022-11-24T09:21:12.378+0530][info][gc,phases   ] GC(669) Pause Relocate Start 0.008ms\n[2022-11-24T09:21:12.420+0530][info][gc,phases   ] GC(669) Concurrent Relocate 41.564ms\n[2022-11-24T09:21:12.420+0530][info][gc,load     ] GC(669) Load: 36.38/31.86/25.10\n[2022-11-24T09:21:12.420+0530][info][gc,mmu      ] GC(669) MMU: 2ms/99.1%, 5ms/99.6%, 10ms/99.8%, 20ms/99.9%, 50ms/99.9%, 100ms/100.0%\n[2022-11-24T09:21:12.420+0530][info][gc,marking  ] GC(669) Mark: 4 stripe(s), 2 proactive flush(es), 1 terminate flush(es), 0 completion(s), 0 continuation(s) \n[2022-11-24T09:21:12.420+0530][info][gc,marking  ] GC(669) Mark Stack Usage: 32M\n[2022-11-24T09:21:12.420+0530][info][gc,nmethod  ] GC(669) NMethods: 10353 registered, 328 unregistered\n[2022-11-24T09:21:12.420+0530][info][gc,metaspace] GC(669) Metaspace: 44M used, 46M committed, 1072M reserved\n[2022-11-24T09:21:12.420+0530][info][gc,ref      ] GC(669) Soft: 2311 encountered, 98 discovered, 0 enqueued\n[2022-11-24T09:21:12.420+0530][info][gc,ref      ] GC(669) Weak: 2559 encountered, 652 discovered, 0 enqueued\n[2022-11-24T09:21:12.420+0530][info][gc,ref      ] GC(669) Final: 56 encountered, 7 discovered, 0 enqueued\n[2022-11-24T09:21:12.420+0530][info][gc,ref      ] GC(669) Phantom: 27425 encountered, 27313 discovered, 27030 enqueued\n[2022-11-24T09:21:12.420+0530][info][gc,reloc    ] GC(669) Small Pages: 5764 / 11528M, Empty: 4752M, Relocated: 58M, In-Place: 0\n[2022-11-24T09:21:12.420+0530][info][gc,reloc    ] GC(669) Medium Pages: 3 / 96M, Empty: 64M, Relocated: 0M, In-Place: 0\n[2022-11-24T09:21:12.420+0530][info][gc,reloc    ] GC(669) Large Pages: 0 / 0M, Empty: 0M, Relocated: 0M, In-Place: 0\n[2022-11-24T09:21:12.420+0530][info][gc,reloc    ] GC(669) Forwarding Usage: 29M\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669) Min Capacity: 16384M(100%)\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669) Max Capacity: 16384M(100%)\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669) Soft Max Capacity: 1024M(6%)\n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669)                Mark Start          Mark End        Relocate Start      Relocate End           High               Low         \n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669)  Capacity:    16384M (100%)      16384M (100%)      16384M (100%)      16384M (100%)      16384M (100%)      16384M (100%)   \n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669)      Free:     4760M (29%)           0M (0%)         4788M (29%)        5392M (33%)        5394M (33%)           0M (0%)     \n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669)      Used:    11624M (71%)       16384M (100%)      11596M (71%)       10992M (67%)       16384M (100%)      10990M (67%)    \n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669)      Live:         -              5860M (36%)        5860M (36%)        5860M (36%)            -                  -          \n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669) Allocated:         -              4760M (29%)        4788M (29%)        4858M (30%)            -                  -          \n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669)   Garbage:         -              5763M (35%)         947M (6%)          273M (2%)             -                  -          \n[2022-11-24T09:21:12.420+0530][info][gc,heap     ] GC(669) Reclaimed:         -                  -              4816M (29%)        5490M (34%)            -                  -          \n[2022-11-24T09:21:12.420+0530][info][gc          ] GC(669) Garbage Collection (Allocation Stall) 11624M(71%)-&gt;10992M(67%)\n[2022-11-24T09:21:12.479+0530][info][gc,start    ] GC(670) Garbage Collection (Allocation Stall)\n[2022-11-24T09:21:12.479+0530][info][gc,ref      ] GC(670) Clearing All SoftReferences\n[2022-11-24T09:21:12.479+0530][info][gc,task     ] GC(670) Using 4 workers\n[2022-11-24T09:21:12.479+0530][info][gc,phases   ] GC(670) Pause Mark Start 0.009ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ] === Garbage Collection Statistics =======================================================================================================================\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]                                                              Last 10s              Last 10m              Last 10h                Total\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]                                                              Avg / Max             Avg / Max             Avg / Max             Avg / Max\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]   Collector: Garbage Collection Cycle                   3410.686 / 3486.475    844.670 / 3486.475    464.952 / 3486.475    464.952 / 3486.475    ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]  Contention: Mark Segment Reset Contention                     7 / 15                3 / 30                1 / 30                1 / 30          ops/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]  Contention: Mark SeqNum Reset Contention                      0 / 1                 0 / 3                 0 / 3                 0 / 3           ops/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Critical: Allocation Stall                                  1 / 5                 0 / 7                 0 / 7                 0 / 7           ops/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Critical: Allocation Stall                            677.602 / 900.858     303.367 / 900.858     303.367 / 900.858     303.367 / 900.858     ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Critical: GC Locker Stall                                   0 / 0                 0 / 0                 0 / 1                 0 / 1           ops/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Critical: GC Locker Stall                               0.000 / 0.000         0.000 / 0.000         0.033 / 0.058         0.033 / 0.058       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Critical: Relocation Stall                                  0 / 0                 0 / 0                 0 / 0                 0 / 0           ops/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Critical: Relocation Stall                              0.000 / 0.000         0.000 / 0.000         0.000 / 0.000         0.000 / 0.000       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Allocation Rate                                1479 / 1860           1003 / 2264            329 / 2264            329 / 2264        MB/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Out Of Memory                                     0 / 0                 0 / 0                 0 / 0                 0 / 0           ops/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Page Cache Flush                                  0 / 0                 0 / 32                0 / 32                0 / 32          MB/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Page Cache Hit L1                               198 / 827             177 / 901              59 / 901              59 / 901         ops/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Page Cache Hit L2                               541 / 930             316 / 1052            103 / 1052            103 / 1052        ops/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Page Cache Hit L3                                 1 / 15               12 / 657               4 / 657               4 / 657         ops/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Page Cache Miss                                   0 / 0                 0 / 1                 0 / 1                 0 / 1           ops/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Uncommit                                          0 / 0                 0 / 0                 0 / 0                 0 / 0           MB/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Undo Object Allocation Failed                     0 / 0                 0 / 1                 0 / 1                 0 / 1           ops/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Undo Object Allocation Succeeded                  0 / 3                 4 / 855               1 / 855               1 / 855         ops/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      Memory: Undo Page Allocation                              0 / 3                 0 / 4                 0 / 4                 0 / 4           ops/s\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Mark                            3356.120 / 3437.684    812.574 / 3437.684    445.012 / 3437.684    445.012 / 3437.684    ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Mark Continue                      0.000 / 0.000         0.000 / 0.000         0.000 / 0.000         0.000 / 0.000       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Mark Free                          0.001 / 0.001         0.001 / 0.002         0.001 / 0.002         0.001 / 0.002       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Process Non-Strong References      8.650 / 8.848        12.746 / 47.124        8.067 / 47.124        8.067 / 47.124      ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Relocate                          36.550 / 41.564       14.436 / 55.995        8.357 / 55.995        8.357 / 55.995      ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Reset Relocation Set               0.067 / 0.080         0.023 / 0.080         0.013 / 0.080         0.013 / 0.080       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Concurrent Select Relocation Set              7.214 / 8.713         3.382 / 29.365        2.579 / 29.365        2.579 / 29.365      ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Pause Mark End                                0.011 / 0.011         0.011 / 0.018         0.009 / 0.018         0.009 / 0.018       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Pause Mark Start                              0.008 / 0.009         0.008 / 0.016         0.008 / 0.016         0.008 / 0.016       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]       Phase: Pause Relocate Start                          0.008 / 0.008         0.007 / 0.013         0.006 / 0.013         0.006 / 0.013       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Classes Purge                      0.266 / 0.497         0.411 / 5.255         0.251 / 5.255         0.251 / 5.255       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Classes Unlink                     5.018 / 5.358         9.216 / 28.725        5.991 / 28.725        5.991 / 28.725      ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Mark                            3352.212 / 3437.123    855.661 / 3437.123    454.341 / 3437.123    454.341 / 3437.123    ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Mark Try Flush                     0.030 / 0.055         0.760 / 42.368        0.442 / 42.368        0.442 / 42.368      ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Mark Try Terminate                 0.703 / 1.059         1.393 / 27.549        1.126 / 27.549        1.126 / 27.549      ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent References Enqueue                 0.003 / 0.004         0.003 / 0.013         0.002 / 0.013         0.002 / 0.013       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent References Process                 3.055 / 3.524         1.183 / 9.454         0.655 / 9.454         0.655 / 9.454       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Roots ClassLoaderDataGraph         0.090 / 0.223         0.135 / 12.400        0.105 / 12.400        0.105 / 12.400      ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Roots CodeCache                    0.000 / 0.000         0.000 / 0.000         0.000 / 0.000         0.000 / 0.000       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Roots JavaThreads                  0.411 / 1.162         0.520 / 12.391        0.407 / 12.391        0.407 / 12.391      ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Roots OopStorageSet                0.018 / 0.038         0.051 / 12.043        0.030 / 12.043        0.030 / 12.043      ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Concurrent Weak Roots OopStorageSet           0.259 / 0.263         0.449 / 4.890         0.331 / 4.890         0.331 / 4.890       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]    Subphase: Pause Mark Try Complete                       0.000 / 0.000         0.000 / 0.000         0.000 / 0.000         0.000 / 0.000       ms\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ]      System: Java Threads                                     28 / 28               26 / 29               21 / 29               21 / 29          threads\n[2022-11-24T09:21:13.180+0530][info][gc,stats    ] =========================================================================================================================================================\n[2022-11-24T09:21:15.944+0530][info][gc,phases   ] GC(670) Concurrent Mark 3465.071ms\n[2022-11-24T09:21:15.944+0530][info][gc,phases   ] GC(670) Pause Mark End 0.011ms\n[2022-11-24T09:21:15.944+0530][info][gc,phases   ] GC(670) Concurrent Mark Free 0.001ms\n[2022-11-24T09:21:15.953+0530][info][gc,phases   ] GC(670) Concurrent Process Non-Strong References 8.537ms\n[2022-11-24T09:21:15.953+0530][info][gc,phases   ] GC(670) Concurrent Reset Relocation Set 0.062ms\n[2022-11-24T09:21:15.953+0530][info][gc          ] Allocation Stall (lt-primary-pool-2) 704.524ms\n[2022-11-24T09:21:15.953+0530][info][gc          ] Allocation Stall (lt-primary-pool-0) 704.168ms\n[2022-11-24T09:21:15.953+0530][info][gc          ] Allocation Stall (lt-secondary-pool-0) 711.668ms\n[2022-11-24T09:21:15.955+0530][info][gc          ] Allocation Stall (lt-primary-pool-1) 707.109ms\n[2022-11-24T09:21:15.955+0530][info][gc          ] Allocation Stall (lt-secondary-pool-1) 713.196ms\n[2022-11-24T09:21:15.957+0530][info][gc,phases   ] GC(670) Concurrent Select Relocation Set 4.082ms\n\n</code></pre>\n<pre><code>java version &quot;17.0.1&quot; 2021-10-19 LTS\nJava(TM) SE Runtime Environment (build 17.0.1+12-LTS-39)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)\n</code></pre>\n<p>Graphs created with GCViewer on the GC logs.</p>\n<p><strong>ZGC clean up issues</strong>\n<a href=\"https://i.stack.imgur.com/01bAl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/01bAl.png\" alt=\"ZGC clean up issues\" /></a></p>\n<p><strong>No issues allocation when everything is fine</strong>\n<a href=\"https://i.stack.imgur.com/mgd3y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mgd3y.png\" alt=\"No issues allocation when everything is fine\" /></a></p>\n"},{"tags":["java","maven"],"owner":{"account_id":22253186,"reputation":11,"user_id":16485741,"display_name":"newStack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672741279,"creation_date":1671642219,"question_id":74879413,"body_markdown":"I have Maven multi module project which runs fine with JDK8. Where I have one parent _pom_ and other sub modules. Now module A calls some functionality of module B and B loads some third party class dynamically at runtime. Now this third party class jar is included as dependency in module B _pom_.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sybase.jconnect&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jconn4&lt;/artifactId&gt;\r\n        &lt;version&gt;16.039-27463&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nRecently I am migrating this application to JDK17. But at runtime I am getting \r\n\r\n&gt; Could not load JDBC driver class [com.sybase.jdbc4.jdbc.SybDriver]\r\n\r\nwhich is part of jconn4 dependency.\r\n\r\nIf anyone faced similar issue and what workaround you followed?","title":"Maven multi module project giving classNotFound exception","body":"<p>I have Maven multi module project which runs fine with JDK8. Where I have one parent <em>pom</em> and other sub modules. Now module A calls some functionality of module B and B loads some third party class dynamically at runtime. Now this third party class jar is included as dependency in module B <em>pom</em>.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sybase.jconnect&lt;/groupId&gt;\n    &lt;artifactId&gt;jconn4&lt;/artifactId&gt;\n    &lt;version&gt;16.039-27463&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Recently I am migrating this application to JDK17. But at runtime I am getting</p>\n<blockquote>\n<p>Could not load JDBC driver class [com.sybase.jdbc4.jdbc.SybDriver]</p>\n</blockquote>\n<p>which is part of jconn4 dependency.</p>\n<p>If anyone faced similar issue and what workaround you followed?</p>\n"},{"tags":["java","maven","java-8"],"owner":{"account_id":22253186,"reputation":11,"user_id":16485741,"display_name":"newStack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672741267,"creation_date":1671960051,"question_id":74912457,"body_markdown":"I have maven multi module project. where module A added module B as it&#39;s dependency,\r\n\r\nmodule A pom :-\r\n\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;com.xxx.xxxx&lt;/groupId&gt;\r\n         &lt;artifactId&gt;module-B&lt;/artifactId&gt;\r\n         &lt;version&gt;${project.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nmodule B added one dependency,\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sybase.jconnect&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jconn4&lt;/artifactId&gt;\r\n        &lt;version&gt;7.07-27307&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBoth the jars for module A and B are packaged in JAR with *maven-assembly-plugin*. Both the jars A.jar and B.jar are present in classpath. As the lib folder containing these jars is given in *-classpath* argument.\r\n\r\nmodule A starts as a web service and uses some functionality present in module B. module B in turn loads some classes dynamically present in *com.sybase.jconnect* dependency.\r\n\r\n1. when checked module A jar I can see *com.sybase.jconnect* jar. when it is added as dependency in module B then why it is added in module A jar ?\r\n2. same dependency is not present in module B jar. why ?\r\n3. when same setup is running on jdk8 it runs fine but on jdk11 or jdk17 it gives **classNotFoundException**  for the class module B tries to load at runtime.\r\n\r\nCan someone please help in understanding this and resolving classNotFoundException.\r\n","title":"classNotFoundException in maven multi module project","body":"<p>I have maven multi module project. where module A added module B as it's dependency,</p>\n<p>module A pom :-</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;com.xxx.xxxx&lt;/groupId&gt;\n     &lt;artifactId&gt;module-B&lt;/artifactId&gt;\n     &lt;version&gt;${project.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>module B added one dependency,</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sybase.jconnect&lt;/groupId&gt;\n    &lt;artifactId&gt;jconn4&lt;/artifactId&gt;\n    &lt;version&gt;7.07-27307&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Both the jars for module A and B are packaged in JAR with <em>maven-assembly-plugin</em>. Both the jars A.jar and B.jar are present in classpath. As the lib folder containing these jars is given in <em>-classpath</em> argument.</p>\n<p>module A starts as a web service and uses some functionality present in module B. module B in turn loads some classes dynamically present in <em>com.sybase.jconnect</em> dependency.</p>\n<ol>\n<li>when checked module A jar I can see <em>com.sybase.jconnect</em> jar. when it is added as dependency in module B then why it is added in module A jar ?</li>\n<li>same dependency is not present in module B jar. why ?</li>\n<li>when same setup is running on jdk8 it runs fine but on jdk11 or jdk17 it gives <strong>classNotFoundException</strong>  for the class module B tries to load at runtime.</li>\n</ol>\n<p>Can someone please help in understanding this and resolving classNotFoundException.</p>\n"},{"tags":["java"],"owner":{"account_id":25464687,"reputation":1,"user_id":19263923,"display_name":"Ankeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1672925748,"answer_count":0,"score":-1,"last_activity_date":1672741252,"creation_date":1672657350,"question_id":74981599,"body_markdown":"I am new to Java , Maven and Eclipse and trying to understand how to set Java.\r\n\r\nI have created a java project, and as per some samples that I have referred online, it says to set java version in pom.xml and set JRE in eclipse ( Window&gt;Preferences&gt;Java&gt;Installed JREs&gt;Add)\r\n\r\n1) What is the difference between the both. Is setting Java Version in POM not enough for building and running java project.\r\n\r\n2) Can I not set JRE runtime in pom.xml? \r\n\r\n3) Also, If I want specific version of Java , can I set &lt;java.version&gt;17.0_5&lt;java.version&gt; in pom.xml\r\n\r\nThank you\r\n\r\nsetting java.version to 17.0_5 in pom.xml","title":"What is the difference between setting java version in pom.xml of maven project &amp; setting JRE in eclipse ( Window&gt;Preferences&gt;Java&gt;Installed JREs&gt;Add)","body":"<p>I am new to Java , Maven and Eclipse and trying to understand how to set Java.</p>\n<p>I have created a java project, and as per some samples that I have referred online, it says to set java version in pom.xml and set JRE in eclipse ( Window&gt;Preferences&gt;Java&gt;Installed JREs&gt;Add)</p>\n<ol>\n<li><p>What is the difference between the both. Is setting Java Version in POM not enough for building and running java project.</p>\n</li>\n<li><p>Can I not set JRE runtime in pom.xml?</p>\n</li>\n<li><p>Also, If I want specific version of Java , can I set &lt;java.version&gt;17.0_5&lt;java.version&gt; in pom.xml</p>\n</li>\n</ol>\n<p>Thank you</p>\n<p>setting java.version to 17.0_5 in pom.xml</p>\n"},{"tags":["java"],"owner":{"account_id":25464687,"reputation":1,"user_id":19263923,"display_name":"Ankeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1672905685,"answer_count":1,"score":-1,"last_activity_date":1672741161,"creation_date":1672738949,"question_id":74991512,"body_markdown":"I am new to maven , pom and java. \r\n\r\nI want to migrate my application from JDK 11 to jdk 17.0.5.\r\n\r\nDoes setting java.version to 17 in pom.xml will enable maven to pick latest version i.e 17.0.5 of java or I need to specify &lt;java.version&gt;17.0_5&lt;java.version&gt; ?\r\n\r\nThank you\r\n\r\nSetting java.version to 17 or 17.0.5 builds the application successfully. But I want to know if 17 is set does it pick latest java version i.e 17.0.5","title":"Does setting java.version to 17 in pom.xml will enable maven to pick latest version i.e 17.0_5 of java?","body":"<p>I am new to maven , pom and java.</p>\n<p>I want to migrate my application from JDK 11 to jdk 17.0.5.</p>\n<p>Does setting java.version to 17 in pom.xml will enable maven to pick latest version i.e 17.0.5 of java or I need to specify &lt;java.version&gt;17.0_5&lt;java.version&gt; ?</p>\n<p>Thank you</p>\n<p>Setting java.version to 17 or 17.0.5 builds the application successfully. But I want to know if 17 is set does it pick latest java version i.e 17.0.5</p>\n"},{"tags":["java","symbols","ejml"],"answers":[{"comments":[{"owner":{"account_id":18457644,"reputation":5,"user_id":13445959,"display_name":"johansson.benny"},"score":0,"creation_date":1650663676,"post_id":71974596,"comment_id":127181511,"body_markdown":"Thank you for the reply. I tried to add the parenthesis as in your example but still get the same error for the first one (DMatrixRMaj) and for the SimpleMatrix it crashes even earlier unless I specify the same dimension, like &#180;SimpleMatrix S2 = new SimpleMatrix(20,20).random64(20,20,-2,3,rand);&#180;, still end up with the same problem though. Using code from official site: https://ejml.org/wiki/index.php?title=Random_matrices,_Matrix_Features,_and_Matrix_Norms","body":"Thank you for the reply. I tried to add the parenthesis as in your example but still get the same error for the first one (DMatrixRMaj) and for the SimpleMatrix it crashes even earlier unless I specify the same dimension, like &#180;SimpleMatrix S2 = new SimpleMatrix(20,20).random64(20,20,-2,3,rand);&#180;, still end up with the same problem though. Using code from official site: <a href=\"https://ejml.org/wiki/index.php?title=Random_matrices,_Matrix_Features,_and_Matrix_Norms\" rel=\"nofollow noreferrer\">ejml.org/wiki/&hellip;</a>"},{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":0,"creation_date":1650672496,"post_id":71974596,"comment_id":127183000,"body_markdown":"From the  [javadoc](http://ejml.org/javadoc/org/ejml/simple/SimpleMatrix.html) there&#39;s no `random64` method but there is a `random_DDRM` with those arguments","body":"From the  <a href=\"http://ejml.org/javadoc/org/ejml/simple/SimpleMatrix.html\" rel=\"nofollow noreferrer\">javadoc</a> there&#39;s no <code>random64</code> method but there is a <code>random_DDRM</code> with those arguments"},{"owner":{"account_id":18457644,"reputation":5,"user_id":13445959,"display_name":"johansson.benny"},"score":0,"creation_date":1650698831,"post_id":71974596,"comment_id":127185758,"body_markdown":"Thanks, the following line worked well: &#180;SimpleMatrix S2 =  SimpleMatrix.random_DDRM(3,3,0,1,rand);&#180;","body":"Thanks, the following line worked well: &#180;SimpleMatrix S2 =  SimpleMatrix.random_DDRM(3,3,0,1,rand);&#180;"},{"owner":{"account_id":93599,"reputation":2732,"user_id":255985,"display_name":"lessthanoptimal"},"score":0,"creation_date":1672507135,"post_id":71974596,"comment_id":132300842,"body_markdown":"FYI creating an instance of RandomMatrices_DDRM isn&#39;t required. All it&#39;s member functions are static.","body":"FYI creating an instance of RandomMatrices_DDRM isn&#39;t required. All it&#39;s member functions are static."},{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":0,"creation_date":1672740919,"post_id":71974596,"comment_id":132338107,"body_markdown":"@lessthanoptimal code corrected :)","body":"@lessthanoptimal code corrected :)"}],"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672740890,"creation_date":1650661307,"answer_id":71974596,"question_id":71974563,"body_markdown":"Use the static [`symmetric`][2] method in [`RandomMatrices_DDRM`][1] \r\n\r\n    DMatrixRMaj d2 = RandomMatrices_DDRM.symmetric(20,-2,3,rand);\r\n\r\nand similarly for `SimpleMatrix`\r\n\r\n\r\n  [1]: http://ejml.org/javadoc/org/ejml/dense/row/RandomMatrices_DDRM.html\r\n  [2]: http://ejml.org/javadoc/org/ejml/dense/row/RandomMatrices_DDRM.html#symmetric(int,double,double,java.util.Random)","title":"EMJL Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable code - cannot find symbol","body":"<p>Use the static <a href=\"http://ejml.org/javadoc/org/ejml/dense/row/RandomMatrices_DDRM.html#symmetric(int,double,double,java.util.Random)\" rel=\"nofollow noreferrer\"><code>symmetric</code></a> method in <a href=\"http://ejml.org/javadoc/org/ejml/dense/row/RandomMatrices_DDRM.html\" rel=\"nofollow noreferrer\"><code>RandomMatrices_DDRM</code></a></p>\n<pre><code>DMatrixRMaj d2 = RandomMatrices_DDRM.symmetric(20,-2,3,rand);\n</code></pre>\n<p>and similarly for <code>SimpleMatrix</code></p>\n"}],"owner":{"account_id":18457644,"reputation":5,"user_id":13445959,"display_name":"johansson.benny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71974596,"answer_count":1,"score":0,"last_activity_date":1672740890,"creation_date":1650661099,"question_id":71974563,"body_markdown":"I am trying to get EJML to work, especially to create matrices with random numbers. Creating regular a SimpleMatrix and DMatrixRMaj works well. But I keep getting *java.lang.RuntimeException: Uncompilable code - cannot find symbol* when using more advanced statements such as \r\n\r\n    DMatrixRMaj D2 = new RandomMatrices_DDRM.createSymmetric(20,-2,3,rand);\r\nor\r\n\r\n\r\n    SimpleMatrix S2 = new SimpleMatrix.random64(20,20,-2,3,rand);\r\n\r\n\r\n\r\nBelow is the full code and error messages. \r\n\r\nThanks!\r\n\r\n/Benny\r\n\r\n\r\n    \r\n    package com.benny.evosim;\r\n\r\n    import java.util.*;\r\n\r\n    import org.ejml.simple.SimpleMatrix;\r\n\r\n    import org.ejml.data.DMatrixRMaj;\r\n\r\n    import org.ejml.dense.row.RandomMatrices_DDRM;\r\n    \r\n    public class EvoSim {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        EvoSim evoSimInstance = new EvoSim();\r\n        evoSimInstance.start();\r\n    }\r\n\r\n    public void start() {\r\n        \r\n        Random rand = new Random();\r\n        SimpleMatrix A = new SimpleMatrix(3,3);\r\n        DMatrixRMaj D  = new DMatrixRMaj(3,3) ; \r\n        \r\n        DMatrixRMaj D2 = new RandomMatrices_DDRM.createSymmetric(20,-2,3,rand);\r\n        SimpleMatrix S2 = new SimpleMatrix.random64(20,20,-2,3,rand);\r\n        \r\n        A.print();\r\n        }\r\n    }\r\n\r\n\r\n\r\nERROR MESSAGE\r\n\r\n    --------------------------&lt; com.benny:evosim &gt;--------------------------\r\n    Building evosim 1.0-SNAPSHOT\r\n    --------------------------------[ jar ]---------------------------------\r\n    \r\n    --- exec-maven-plugin:3.0.0:exec (default-cli) @ evosim ---\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable code - cannot find symbol\r\n      symbol:   variable RandomMatrices_DDRM\r\n      location: class com.benny.evosim.EvoSim\r\n    \tat com.benny.evosim.EvoSim.start(EvoSim.java:1)\r\n    \tat com.benny.evosim.EvoSim.main(EvoSim.java:26)\r\n    Command execution failed.\r\n    org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n        at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\r\n        at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)","title":"EMJL Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable code - cannot find symbol","body":"<p>I am trying to get EJML to work, especially to create matrices with random numbers. Creating regular a SimpleMatrix and DMatrixRMaj works well. But I keep getting <em>java.lang.RuntimeException: Uncompilable code - cannot find symbol</em> when using more advanced statements such as</p>\n<pre><code>DMatrixRMaj D2 = new RandomMatrices_DDRM.createSymmetric(20,-2,3,rand);\n</code></pre>\n<p>or</p>\n<pre><code>SimpleMatrix S2 = new SimpleMatrix.random64(20,20,-2,3,rand);\n</code></pre>\n<p>Below is the full code and error messages.</p>\n<p>Thanks!</p>\n<p>/Benny</p>\n<pre><code>package com.benny.evosim;\n\nimport java.util.*;\n\nimport org.ejml.simple.SimpleMatrix;\n\nimport org.ejml.data.DMatrixRMaj;\n\nimport org.ejml.dense.row.RandomMatrices_DDRM;\n\npublic class EvoSim {\n\npublic static void main(String[] args) {\n\n    EvoSim evoSimInstance = new EvoSim();\n    evoSimInstance.start();\n}\n\npublic void start() {\n    \n    Random rand = new Random();\n    SimpleMatrix A = new SimpleMatrix(3,3);\n    DMatrixRMaj D  = new DMatrixRMaj(3,3) ; \n    \n    DMatrixRMaj D2 = new RandomMatrices_DDRM.createSymmetric(20,-2,3,rand);\n    SimpleMatrix S2 = new SimpleMatrix.random64(20,20,-2,3,rand);\n    \n    A.print();\n    }\n}\n</code></pre>\n<p>ERROR MESSAGE</p>\n<pre><code>--------------------------&lt; com.benny:evosim &gt;--------------------------\nBuilding evosim 1.0-SNAPSHOT\n--------------------------------[ jar ]---------------------------------\n\n--- exec-maven-plugin:3.0.0:exec (default-cli) @ evosim ---\nException in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable code - cannot find symbol\n  symbol:   variable RandomMatrices_DDRM\n  location: class com.benny.evosim.EvoSim\n    at com.benny.evosim.EvoSim.start(EvoSim.java:1)\n    at com.benny.evosim.EvoSim.main(EvoSim.java:26)\nCommand execution failed.\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\n    at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\n</code></pre>\n"},{"tags":["java","bufferedreader"],"comments":[{"owner":{"account_id":1404077,"reputation":2487,"user_id":1332264,"accept_rate":61,"display_name":"dimas"},"score":0,"creation_date":1346429803,"post_id":12218959,"comment_id":16369808,"body_markdown":"oops sorry I forgot to edit that one. I just changed contents to readBuff.","body":"oops sorry I forgot to edit that one. I just changed contents to readBuff."},{"owner":{"account_id":1084628,"reputation":2438,"user_id":1080633,"accept_rate":69,"display_name":"fonZ"},"score":0,"creation_date":1346434478,"post_id":12218959,"comment_id":16371492,"body_markdown":"I think you should take a look at my answer :)","body":"I think you should take a look at my answer :)"}],"answers":[{"comments":[{"owner":{"account_id":1404077,"reputation":2487,"user_id":1332264,"accept_rate":61,"display_name":"dimas"},"score":0,"creation_date":1346430952,"post_id":12219177,"comment_id":16370257,"body_markdown":"Awesome!!! That works. I was thinking of regex but am not good at it. Thank you very much!!!","body":"Awesome!!! That works. I was thinking of regex but am not good at it. Thank you very much!!!"}],"tags":[],"owner":{"account_id":71359,"reputation":4574,"user_id":206476,"display_name":"Andrew"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1346430133,"creation_date":1346430133,"answer_id":12219177,"question_id":12218959,"body_markdown":"What you&#39;re building is called a state machine. You need something to keep track of where you are in the file - the state. I&#39;ve called it `section`.\r\n\r\n                    String readBuff = buff.readLine();\r\n                    String section = &quot;&quot;;\r\n                    while (readBuff != null){\r\n                        if (section.equals(&quot;source_files {&quot;) &amp;&amp; !readBuff.equals(&quot;}&quot;)){\r\n                            sourceFiles.add(readBuff);\r\n                        } else if (section.equals(&quot;clone_pairs {&quot;) &amp;&amp; !readBuff.equals(&quot;}&quot;)){\r\n                            clonePairs.add(readBuff);\r\n                        } else if (readBuff.equals(&quot;source_files {&quot;) || readBuff.equals(&quot;clone_pairs {&quot;)) {\r\n                            section = readBuff;\r\n                        } else if (readBuff.equals(&quot;}&quot;)) {\r\n                            section = &quot;&quot;;\r\n                        }\r\n\r\n                        readBuff = buff.readLine();\r\n                    }","title":"How to read certain portion of the text file in java","body":"<p>What you're building is called a state machine. You need something to keep track of where you are in the file - the state. I've called it <code>section</code>.</p>\n\n<pre><code>                String readBuff = buff.readLine();\n                String section = \"\";\n                while (readBuff != null){\n                    if (section.equals(\"source_files {\") &amp;&amp; !readBuff.equals(\"}\")){\n                        sourceFiles.add(readBuff);\n                    } else if (section.equals(\"clone_pairs {\") &amp;&amp; !readBuff.equals(\"}\")){\n                        clonePairs.add(readBuff);\n                    } else if (readBuff.equals(\"source_files {\") || readBuff.equals(\"clone_pairs {\")) {\n                        section = readBuff;\n                    } else if (readBuff.equals(\"}\")) {\n                        section = \"\";\n                    }\n\n                    readBuff = buff.readLine();\n                }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1084628,"reputation":2438,"user_id":1080633,"accept_rate":69,"display_name":"fonZ"},"score":0,"creation_date":1346497038,"post_id":12219460,"comment_id":16383681,"body_markdown":"You&#39;re welcome. The point of this code is not to have any condition in the body of the while, thus making the code alot more efficient. ;)","body":"You&#39;re welcome. The point of this code is not to have any condition in the body of the while, thus making the code alot more efficient. ;)"}],"tags":[],"owner":{"account_id":1084628,"reputation":2438,"user_id":1080633,"accept_rate":69,"display_name":"fonZ"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1346431878,"creation_date":1346431552,"answer_id":12219460,"question_id":12218959,"body_markdown":"I think that the approach with the if/else in the body of the while is just plain overhead.\r\nBecause for every loop you are checking for:\r\n1. The condition in the while loop\r\n2. Every if else in the loop.\r\nThen when you encounter for example &quot;source_files {&quot; you are still checking every loop for all those conditions.\r\n\r\nIn any case you have to read every line of the file, and IF you know the order in which they are defined then this should be alot more efficient:\r\n\r\nThis method will get the BufferedReader to start with.\r\n\r\n\tprivate BufferedReader getBufferedReader(File file) {\r\n\t\ttry{\r\n\t\t\treturn new BufferedReader(new FileReader(file));\r\n\t\t}\r\n\t\tcatch(FileNotFoundException e){\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\nThis method will read every line of the buffer until it encounters the start string.\r\nThen it will add every next line to the list until it encounters the closing brackets.\r\nAnd will return your newly made list.\r\n\r\n\tprivate List&lt;String&gt; readContent(BufferedReader buff, String start) {\r\n\t\tList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\t\ttry {\r\n\t\t\tString readBuff;\r\n\t\t\tdo {\r\n\t\t\t\treadBuff = buff.readLine();\r\n\t\t\t}\r\n\t\t\twhile (readBuff != null &amp;&amp; !readBuff.startsWith(start));\r\n\r\n\t\t\tdo {\r\n\t\t\t\treadBuff = buff.readLine();\r\n\t\t\t\tlist.add(readBuff);\r\n\t\t\t}\r\n\t\t\twhile (readBuff != null &amp;&amp; !readBuff.startsWith(&quot;}&quot;));\r\n\r\n\t\t}\r\n\t\tcatch(IOException e){\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn list;\r\n\t}\r\n\r\n\r\nAnd eventually your method looks like this.\r\n\r\n    \tpublic void readLists(File file) {\r\n\t        BufferedReader buff = getBufferedReader(file);\r\n\t        List&lt;String&gt; sourceFiles = readContent(buff,&quot;source_files {&quot;);\r\n\t        List&lt;String&gt; clonePairs = readContent(buff,&quot;clone_pairs {&quot;);\r\n        }\r\n\r\nThis code basically reads every line of the file once with the conditions directly in the while loop so you dont need any if/else.\r\n\r\nYou only need the if/else if you dont know the order of the data in the file. So this code assumes that source_files comes first and clone_pairs next.\r\n\r\nAlso, i use startsWith because there might be a space after your bracket ie &quot;source_files { &quot; which would make the equals fail.\r\n\r\n\r\n\r\n","title":"How to read certain portion of the text file in java","body":"<p>I think that the approach with the if/else in the body of the while is just plain overhead.\nBecause for every loop you are checking for:\n1. The condition in the while loop\n2. Every if else in the loop.\nThen when you encounter for example \"source_files {\" you are still checking every loop for all those conditions.</p>\n\n<p>In any case you have to read every line of the file, and IF you know the order in which they are defined then this should be alot more efficient:</p>\n\n<p>This method will get the BufferedReader to start with.</p>\n\n<pre><code>private BufferedReader getBufferedReader(File file) {\n    try{\n        return new BufferedReader(new FileReader(file));\n    }\n    catch(FileNotFoundException e){\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>This method will read every line of the buffer until it encounters the start string.\nThen it will add every next line to the list until it encounters the closing brackets.\nAnd will return your newly made list.</p>\n\n<pre><code>private List&lt;String&gt; readContent(BufferedReader buff, String start) {\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n    try {\n        String readBuff;\n        do {\n            readBuff = buff.readLine();\n        }\n        while (readBuff != null &amp;&amp; !readBuff.startsWith(start));\n\n        do {\n            readBuff = buff.readLine();\n            list.add(readBuff);\n        }\n        while (readBuff != null &amp;&amp; !readBuff.startsWith(\"}\"));\n\n    }\n    catch(IOException e){\n        e.printStackTrace();\n    }\n    return list;\n}\n</code></pre>\n\n<p>And eventually your method looks like this.</p>\n\n<pre><code>    public void readLists(File file) {\n        BufferedReader buff = getBufferedReader(file);\n        List&lt;String&gt; sourceFiles = readContent(buff,\"source_files {\");\n        List&lt;String&gt; clonePairs = readContent(buff,\"clone_pairs {\");\n    }\n</code></pre>\n\n<p>This code basically reads every line of the file once with the conditions directly in the while loop so you dont need any if/else.</p>\n\n<p>You only need the if/else if you dont know the order of the data in the file. So this code assumes that source_files comes first and clone_pairs next.</p>\n\n<p>Also, i use startsWith because there might be a space after your bracket ie \"source_files { \" which would make the equals fail.</p>\n"},{"tags":[],"owner":{"account_id":4045273,"reputation":1141,"user_id":3326680,"accept_rate":68,"display_name":"mithra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672740558,"creation_date":1672740558,"answer_id":74991836,"question_id":12218959,"body_markdown":"I tried this \r\n\r\n    public static void readFile(String file){\r\n\t   List&lt;String&gt; sourceFiles = new ArrayList&lt;String&gt;();\r\n\t   List&lt;String&gt; clonePairs = new ArrayList&lt;String&gt;();\r\n\t   file = &quot;test.txt&quot;;\r\n       try{\r\n           BufferedReader buff = Files.newBufferedReader(Paths.get(file));\r\n           \r\n           try{\r\n               \r\n               String readBuff = buff.readLine();\r\n               boolean sourceStart = false;\r\n               boolean cloneStart = false;\r\n               boolean sourceEnd = false;\r\n               while (readBuff != null){\r\n            \t   if(readBuff.equals(&quot;}&quot;)){\r\n            \t\t   sourceEnd = true;\r\n            \t\t   sourceStart=false;\r\n            \t\t   cloneStart=false;\r\n            \t   }else {\r\n            \t\t   sourceEnd = false;\r\n            \t   }\r\n            \t   if (sourceStart &amp;&amp; !sourceEnd){\r\n                       sourceFiles.add(readBuff);\r\n                   }\r\n                   else if (cloneStart &amp;&amp; !sourceEnd){\r\n                       clonePairs.add(readBuff);\r\n                    }\r\n            \t   \r\n            \t   if (readBuff.equals(&quot;source_files {&quot;)){\r\n            \t\t   sourceStart=true;\r\n            \t   }\r\n            \t   \r\n            \t   if (readBuff.equals(&quot;clone_pairs {&quot;)){\r\n            \t\t   cloneStart=true;\r\n            \t   }\r\n                   \r\n\r\n                   readBuff = buff.readLine();\r\n               }\r\n               \r\n               sourceFiles.forEach(sf -&gt; System.out.println(sf));\r\n               System.out.println(&quot;---------------------&quot;);\r\n               System.out.println(&quot;---------------------&quot;);\r\n               \r\n               clonePairs.forEach(cf -&gt; System.out.println(cf));\r\n           }\r\n           finally{\r\n               buff.close();\r\n               }\r\n       }\r\n       catch(FileNotFoundException e){\r\n           System.out.println(&quot;File not found exception&quot;);\r\n       }\r\n       catch(IOException e){\r\n           System.out.println(e);\r\n       }\r\n       \r\n   }\r\n\r\n\r\n","title":"How to read certain portion of the text file in java","body":"<p>I tried this</p>\n<pre><code>public static void readFile(String file){\n   List&lt;String&gt; sourceFiles = new ArrayList&lt;String&gt;();\n   List&lt;String&gt; clonePairs = new ArrayList&lt;String&gt;();\n   file = &quot;test.txt&quot;;\n   try{\n       BufferedReader buff = Files.newBufferedReader(Paths.get(file));\n       \n       try{\n           \n           String readBuff = buff.readLine();\n           boolean sourceStart = false;\n           boolean cloneStart = false;\n           boolean sourceEnd = false;\n           while (readBuff != null){\n               if(readBuff.equals(&quot;}&quot;)){\n                   sourceEnd = true;\n                   sourceStart=false;\n                   cloneStart=false;\n               }else {\n                   sourceEnd = false;\n               }\n               if (sourceStart &amp;&amp; !sourceEnd){\n                   sourceFiles.add(readBuff);\n               }\n               else if (cloneStart &amp;&amp; !sourceEnd){\n                   clonePairs.add(readBuff);\n                }\n               \n               if (readBuff.equals(&quot;source_files {&quot;)){\n                   sourceStart=true;\n               }\n               \n               if (readBuff.equals(&quot;clone_pairs {&quot;)){\n                   cloneStart=true;\n               }\n               \n\n               readBuff = buff.readLine();\n           }\n           \n           sourceFiles.forEach(sf -&gt; System.out.println(sf));\n           System.out.println(&quot;---------------------&quot;);\n           System.out.println(&quot;---------------------&quot;);\n           \n           clonePairs.forEach(cf -&gt; System.out.println(cf));\n       }\n       finally{\n           buff.close();\n           }\n   }\n   catch(FileNotFoundException e){\n       System.out.println(&quot;File not found exception&quot;);\n   }\n   catch(IOException e){\n       System.out.println(e);\n   }\n   \n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":1404077,"reputation":2487,"user_id":1332264,"accept_rate":61,"display_name":"dimas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":12219177,"answer_count":3,"score":1,"last_activity_date":1672740558,"creation_date":1346429150,"question_id":12218959,"body_markdown":"I wanted to read certain portions in a text file and add each of those portion into a their corresponding ArrayList. \nThis is a sample text file:\n\n    format: pair_diploid\n    option: -b 50\n    option: -pp +\n    option: -mr masked\n    option: -n C:\\Users\\Fertilak\\gimp\\gimp\n    preprocess_script: cpp\n    source_files {\n    1   types.h 1\n    2   actions.c   2316\n    3   actions.h   1\n    4   editor-actions.c    91\n    5   editor-actions.h    1\n    287 test-clipboard.c    1247\n    }\n    source_file_remarks {\n    42\n    :   masked\n    152\n    :   masked\n    170\n    :   masked\n    }\n    clone_pairs {\n    5545    56.0-180    148.0-180\n    3083    62.1959-2107    62.2107-2255\n    3083    62.2107-2255    62.1959-2107\n    89  82.0-520    82.620-1140\n    89  82.620-1140 82.0-520\n    5545    148.0-180   56.0-180\n    12084   2865.633-694    2868.2877-2938\n    12084   2868.2877-2938  2865.633-694\n    }\n    clone_set_remarks {\n    }\n\nThe portions that I wanted to be added on my 2 ArrayList are enclosed by brackets &quot;{}&quot; in source_files and clone_pairs. So for example I want to add in arraylist sourcefiles all of the data such as \n\n        1   types.h 1\n        2   actions.c   2316\n    ...etc\n\n which are enclosed in source_files brackets. Also the same thing for clone_pairs I will add all of the data enclosed in the brackets to arrayList clonePairs.\n\nThis is what I have done so far... but its not working. \n\n        public void readFile(String file){\n    List&lt;String&gt; sourceFiles = new ArrayList&lt;String&gt;();\n    List&lt;String&gt; clonePairs = new ArrayList&lt;String&gt;();\n    \n                try{\n                    BufferedReader buff = new BufferedReader(new FileReader(file));\n                    \n                    try{\n                        \n                        String readBuff = buff.readLine();\n                        while (readBuff != null){\n                            if (readBuff.equals(&quot;source_files {&quot;) &amp;&amp; !readBuff.equals(&quot;}&quot;)){\n                                sourceFiles.add(readBuff);\n                                   }\n    \n                        else if (readBuff.equals(&quot;clone_pairs {&quot;) &amp;&amp; !readBuff.equals(&quot;}&quot;)){\n                                clonePairs.add(readBuff);\n                                   }\n    \n                            readBuff = buff.readLine();\n                        }\n                    }\n                    finally{\n                        buff.close();\n                        }\n                }\n                \n                catch(FileNotFoundException e){\n                    System.out.println(&quot;File not found&quot;);\n                }\n                catch(IOException e){\n                    System.out.println(e);\n                }\n                \n            }\n\nAlmost everything is working in this piece of code except for the if-else conditions. Any suggestions on how to do this?\n\n## EDIT\nI have edited content and replaced it with readBuff string. Sorry\n\n## EDIT 2\nFor the benefit of everyone this is the right code as proposed by Andrew\nSolution Code:\n\n    public void readFile(String file){\n            try{\n                BufferedReader buff = new BufferedReader(new FileReader(file));\n                \n                try{\n                    \n                    String readBuff = buff.readLine();\n                    String section = &quot;&quot;;\n                    while (readBuff != null){\n                        if (section.equals(&quot;source_files {&quot;) &amp;&amp; !readBuff.equals(&quot;}&quot;)){\n                            sourceFiles.add(readBuff);\n                        } else if (section.equals(&quot;clone_pairs {&quot;) &amp;&amp; !readBuff.equals(&quot;}&quot;)){\n                            clonePairs.add(readBuff);\n                        } else if (readBuff.equals(&quot;source_files {&quot;) || readBuff.equals(&quot;clone_pairs {&quot;)) {\n                            section = readBuff;\n                        } else if (readBuff.equals(&quot;}&quot;)) {\n                            section = &quot;&quot;;\n                        }\n    \n                        readBuff = buff.readLine();\n                    }\n    \n                }\n                finally{\n                    buff.close();\n                    }\n            }\n            \n            catch(FileNotFoundException e){\n                System.out.println(&quot;File not found&quot;);\n            }\n            catch(IOException e){\n                System.out.println(&quot;exceptional case&quot;);\n            }\n        }","title":"How to read certain portion of the text file in java","body":"<p>I wanted to read certain portions in a text file and add each of those portion into a their corresponding ArrayList.\nThis is a sample text file:</p>\n<pre><code>format: pair_diploid\noption: -b 50\noption: -pp +\noption: -mr masked\noption: -n C:\\Users\\Fertilak\\gimp\\gimp\npreprocess_script: cpp\nsource_files {\n1   types.h 1\n2   actions.c   2316\n3   actions.h   1\n4   editor-actions.c    91\n5   editor-actions.h    1\n287 test-clipboard.c    1247\n}\nsource_file_remarks {\n42\n:   masked\n152\n:   masked\n170\n:   masked\n}\nclone_pairs {\n5545    56.0-180    148.0-180\n3083    62.1959-2107    62.2107-2255\n3083    62.2107-2255    62.1959-2107\n89  82.0-520    82.620-1140\n89  82.620-1140 82.0-520\n5545    148.0-180   56.0-180\n12084   2865.633-694    2868.2877-2938\n12084   2868.2877-2938  2865.633-694\n}\nclone_set_remarks {\n}\n</code></pre>\n<p>The portions that I wanted to be added on my 2 ArrayList are enclosed by brackets &quot;{}&quot; in source_files and clone_pairs. So for example I want to add in arraylist sourcefiles all of the data such as</p>\n<pre><code>    1   types.h 1\n    2   actions.c   2316\n...etc\n</code></pre>\n<p>which are enclosed in source_files brackets. Also the same thing for clone_pairs I will add all of the data enclosed in the brackets to arrayList clonePairs.</p>\n<p>This is what I have done so far... but its not working.</p>\n<pre><code>    public void readFile(String file){\nList&lt;String&gt; sourceFiles = new ArrayList&lt;String&gt;();\nList&lt;String&gt; clonePairs = new ArrayList&lt;String&gt;();\n\n            try{\n                BufferedReader buff = new BufferedReader(new FileReader(file));\n                \n                try{\n                    \n                    String readBuff = buff.readLine();\n                    while (readBuff != null){\n                        if (readBuff.equals(&quot;source_files {&quot;) &amp;&amp; !readBuff.equals(&quot;}&quot;)){\n                            sourceFiles.add(readBuff);\n                               }\n\n                    else if (readBuff.equals(&quot;clone_pairs {&quot;) &amp;&amp; !readBuff.equals(&quot;}&quot;)){\n                            clonePairs.add(readBuff);\n                               }\n\n                        readBuff = buff.readLine();\n                    }\n                }\n                finally{\n                    buff.close();\n                    }\n            }\n            \n            catch(FileNotFoundException e){\n                System.out.println(&quot;File not found&quot;);\n            }\n            catch(IOException e){\n                System.out.println(e);\n            }\n            \n        }\n</code></pre>\n<p>Almost everything is working in this piece of code except for the if-else conditions. Any suggestions on how to do this?</p>\n<h2>EDIT</h2>\n<p>I have edited content and replaced it with readBuff string. Sorry</p>\n<h2>EDIT 2</h2>\n<p>For the benefit of everyone this is the right code as proposed by Andrew\nSolution Code:</p>\n<pre><code>public void readFile(String file){\n        try{\n            BufferedReader buff = new BufferedReader(new FileReader(file));\n            \n            try{\n                \n                String readBuff = buff.readLine();\n                String section = &quot;&quot;;\n                while (readBuff != null){\n                    if (section.equals(&quot;source_files {&quot;) &amp;&amp; !readBuff.equals(&quot;}&quot;)){\n                        sourceFiles.add(readBuff);\n                    } else if (section.equals(&quot;clone_pairs {&quot;) &amp;&amp; !readBuff.equals(&quot;}&quot;)){\n                        clonePairs.add(readBuff);\n                    } else if (readBuff.equals(&quot;source_files {&quot;) || readBuff.equals(&quot;clone_pairs {&quot;)) {\n                        section = readBuff;\n                    } else if (readBuff.equals(&quot;}&quot;)) {\n                        section = &quot;&quot;;\n                    }\n\n                    readBuff = buff.readLine();\n                }\n\n            }\n            finally{\n                buff.close();\n                }\n        }\n        \n        catch(FileNotFoundException e){\n            System.out.println(&quot;File not found&quot;);\n        }\n        catch(IOException e){\n            System.out.println(&quot;exceptional case&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":["java","mqtt","keep-alive","hivemq"],"answers":[{"comments":[{"owner":{"account_id":27418158,"reputation":1,"user_id":20917026,"display_name":"YDev01"},"score":0,"creation_date":1672738936,"post_id":74991113,"comment_id":132337472,"body_markdown":"Hi @hardillb, Thank you for your quick response. I have tested the other scenario too, where I dont send disconnect from client , but my broker does not disconnect my client even after keep alive timer expires. Any idea why this might be. I have subscribed to one topic on which no messages are getting published, so ideally after 60 secs, my broker should disconnect client, but its not happening. Pls give your views on the above issue.","body":"Hi @hardillb, Thank you for your quick response. I have tested the other scenario too, where I dont send disconnect from client , but my broker does not disconnect my client even after keep alive timer expires. Any idea why this might be. I have subscribed to one topic on which no messages are getting published, so ideally after 60 secs, my broker should disconnect client, but its not happening. Pls give your views on the above issue."},{"owner":{"account_id":236814,"reputation":55993,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1672739205,"post_id":74991113,"comment_id":132337564,"body_markdown":"The disconnect will actually be after 1.5 the keepalive value (this is because the broker will send a ping at the keepalive time and then wait for 0.5 keepalive for a response) http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html#_Keep_Alive (Also worth noting that the client will send pings in the background if no other messages are sent)","body":"The disconnect will actually be after 1.5 the keepalive value (this is because the broker will send a ping at the keepalive time and then wait for 0.5 keepalive for a response) <a href=\"http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html#_Keep_Alive\" rel=\"nofollow noreferrer\">docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/&hellip;</a> (Also worth noting that the client will send pings in the background if no other messages are sent)"},{"owner":{"account_id":27418158,"reputation":1,"user_id":20917026,"display_name":"YDev01"},"score":0,"creation_date":1672739889,"post_id":74991113,"comment_id":132337793,"body_markdown":"I have updated the post, kindly pls check. This issue persists even after 1.5 times keep alive expires from broker side","body":"I have updated the post, kindly pls check. This issue persists even after 1.5 times keep alive expires from broker side"},{"owner":{"account_id":236814,"reputation":55993,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1672740070,"post_id":74991113,"comment_id":132337839,"body_markdown":"The client will not send any PINGREQ, the broker will send the PINGREQ and the client will send PINGRESP this is handled in the background by the client, it is NOT something you explicitly code. Please spend some time reading the spec, Stack Overflow is not the right place for an on going discussion about how the protocol works","body":"The client will not send any PINGREQ, the broker will send the PINGREQ and the client will send PINGRESP this is handled in the background by the client, it is NOT something you explicitly code. Please spend some time reading the spec, Stack Overflow is not the right place for an on going discussion about how the protocol works"},{"owner":{"account_id":27418158,"reputation":1,"user_id":20917026,"display_name":"YDev01"},"score":0,"creation_date":1672740375,"post_id":74991113,"comment_id":132337928,"body_markdown":"my bad, kindly ignore the above mistake as this is my 1st post. But yes after spending a lot of time reading the mqtt specs, Broker is not sending any PINGREQ packet to my client.  Am I missing any configurations?","body":"my bad, kindly ignore the above mistake as this is my 1st post. But yes after spending a lot of time reading the mqtt specs, Broker is not sending any PINGREQ packet to my client.  Am I missing any configurations?"},{"owner":{"account_id":236814,"reputation":55993,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1672740493,"post_id":74991113,"comment_id":132337965,"body_markdown":"How do you know the broker is not sending the PINGREQ? The broker will be sending that packet if there have been NO other packets sent in keepalive period, the counter gets reset on each MQTT protocol packet sent between the broker and client.","body":"How do you know the broker is not sending the PINGREQ? The broker will be sending that packet if there have been NO other packets sent in keepalive period, the counter gets reset on each MQTT protocol packet sent between the broker and client."},{"owner":{"account_id":27418158,"reputation":1,"user_id":20917026,"display_name":"YDev01"},"score":0,"creation_date":1672740659,"post_id":74991113,"comment_id":132338024,"body_markdown":"Also this document says that client sends pingreq to broker.  So which is right exactly?Am I missing something?https://www.hivemq.com/blog/mqtt-essentials-part-10-alive-client-take-over/","body":"Also this document says that client sends pingreq to broker.  So which is right exactly?Am I missing something?<a href=\"https://www.hivemq.com/blog/mqtt-essentials-part-10-alive-client-take-over/\" rel=\"nofollow noreferrer\">hivemq.com/blog/mqtt-essentials-part-10-alive-clie&zwnj;&#8203;nt-take-over</a>"},{"owner":{"account_id":27418158,"reputation":1,"user_id":20917026,"display_name":"YDev01"},"score":0,"creation_date":1672741356,"post_id":74991113,"comment_id":132338279,"body_markdown":"Also how i know broker is not sending pingreq is because I have subscribed to all topics(#) using another MQTT Client , I dont see any pingreq there","body":"Also how i know broker is not sending pingreq is because I have subscribed to all topics(#) using another MQTT Client , I dont see any pingreq there"},{"owner":{"account_id":236814,"reputation":55993,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1672741453,"post_id":74991113,"comment_id":132338302,"body_markdown":"PINGREQ/PINGRESP are not things you can subscribe to, they are low level protocol commands handled by the client and NOT exposed to the user","body":"PINGREQ/PINGRESP are not things you can subscribe to, they are low level protocol commands handled by the client and NOT exposed to the user"},{"owner":{"account_id":27418158,"reputation":1,"user_id":20917026,"display_name":"YDev01"},"score":0,"creation_date":1672741559,"post_id":74991113,"comment_id":132338327,"body_markdown":"ooh that I didnt know, but assuming that pingreq and pingresp are being sent by broker and client, then why does my connection persist even after 10 minutes when keep alive is just 60 seconds? i.e The disconnect listener does not get executed and I dont get &quot;disconnected&quot; message at all.","body":"ooh that I didnt know, but assuming that pingreq and pingresp are being sent by broker and client, then why does my connection persist even after 10 minutes when keep alive is just 60 seconds? i.e The disconnect listener does not get executed and I dont get &quot;disconnected&quot; message at all."},{"owner":{"account_id":236814,"reputation":55993,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1672742018,"post_id":74991113,"comment_id":132338491,"body_markdown":"Because you&#39;ve **NOT** been disconnected, the pings will keep the connection alive (as is their intention). As I said at the very start in the answer, you have to break the network between the client and the broker for keepalive to kick in and disconnect the client.","body":"Because you&#39;ve <b>NOT</b> been disconnected, the pings will keep the connection alive (as is their intention). As I said at the very start in the answer, you have to break the network between the client and the broker for keepalive to kick in and disconnect the client."}],"tags":[],"owner":{"account_id":236814,"reputation":55993,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"comment_count":11,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672736470,"creation_date":1672736470,"answer_id":74991113,"question_id":74990442,"body_markdown":"Your understanding is wrong, the broker and client is behaving correctly.\r\n\r\nIf you call `disconnect()` then the client will send an explicit [DISCONNECT][1] packet to the broker telling it that it has gone. So it will shut everything down.\r\n\r\nKeep alive is there for if the network path between the client and broker is broken in the middle, so no packets can flow.\r\n\r\n\r\n  [1]: http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html#_Toc398718090","title":"HiveMQ KeepAlive Mechanism not working in Hivemq ce broker or client","body":"<p>Your understanding is wrong, the broker and client is behaving correctly.</p>\n<p>If you call <code>disconnect()</code> then the client will send an explicit <a href=\"http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html#_Toc398718090\" rel=\"nofollow noreferrer\">DISCONNECT</a> packet to the broker telling it that it has gone. So it will shut everything down.</p>\n<p>Keep alive is there for if the network path between the client and broker is broken in the middle, so no packets can flow.</p>\n"}],"owner":{"account_id":27418158,"reputation":1,"user_id":20917026,"display_name":"YDev01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74991113,"answer_count":1,"score":-1,"last_activity_date":1672740219,"creation_date":1672732538,"question_id":74990442,"body_markdown":"I am using hivemq-mqtt-client-1.3.0.jar and creating a hivemq mqtt5 client. I have specified a keep alive time of 60 secs from client side.\r\n\r\n\r\n```\r\nString id = &quot;1&quot;;\r\nMqtt5ClientBuilder builder = Mqtt5Client.builder()\r\n\t\t\t\t.identifier(id)\r\n\t\t\t\t.serverHost(&quot;localhost&quot;)\r\n\t\t\t\t.serverPort(1883)\r\n\t\t\t\t.addConnectedListener(context -&gt; System.out.println(&quot;Connected Now&quot;))\r\n\t\t\t\t.addDisconnectedListener(context -&gt; System.out.println(&quot;Disconnected Connected Now&quot;));\r\n\t\t\r\n\t\t\r\nclient = builder.build();\r\nclient.toBlocking().connectWith().cleanStart(false).keepAlive(keepAlive).send();\r\nsubscribe(id, &quot;1&quot;);\r\n```\r\n\r\n\r\nOnce I connect to hiveMq with the above client, I get a connected log from event.txt file as shown below.\r\n\r\n`2023-01-03 12:56:39,428 - Client ID: 1, IP: 127.0.0.1, Clean Start: false, Session Expiry: 0 connected.`\r\n\r\n\r\nNow i disconnect my client using below code after 10 secs.\r\n\r\n\r\n```\r\nThread.sleep(10*1000);\r\nclient.toBlocking().disconnect();\r\n```\r\n\r\n\r\n\r\n\r\nMy expectation is that even though the client disconnected after 10 sec, the broker should keep the  connection alive for another 50 sec as keep alive is 60 sec.\r\n\r\nBut as soon as i disconnect the client, I get disconnected message from broker too, which means keep alive is not working.\r\n\r\n\r\n```\r\n2023-01-03 12:56:49,482 - Client ID: 1, IP: 127.0.0.1 disconnected gracefully.\r\n```\r\n\r\nAlso I have attached below hivemq broker config.xml file.\r\n\r\n\r\n\r\n\r\n```\r\n&lt;hivemq&gt;\r\n    &lt;listeners&gt;\r\n        &lt;tcp-listener&gt;\r\n            &lt;port&gt;1883&lt;/port&gt;\r\n            &lt;bind-address&gt;0.0.0.0&lt;/bind-address&gt;\r\n        &lt;/tcp-listener&gt;\r\n\t\t&lt;mqtt&gt;\r\n\t\t\t&lt;keep-alive&gt;\r\n\t\t\t\t\t&lt;allow-unlimited&gt;false&lt;/allow-unlimited&gt;\r\n\t\t\t\t\t&lt;max-keep-alive&gt;60&lt;/max-keep-alive&gt;\r\n\t\t\t&lt;/keep-alive&gt;\r\n\t\t&lt;/mqtt&gt;\r\n    &lt;/listeners&gt;\r\n\r\n    &lt;anonymous-usage-statistics&gt;\r\n        &lt;enabled&gt;true&lt;/enabled&gt;\r\n    &lt;/anonymous-usage-statistics&gt;\r\n&lt;/hivemq&gt;\r\n```\r\n\r\nPlease suggest me what I am doing wrong here and any suggestions would be deeply appreciated.\r\n\r\n\r\nUPDATE******\r\n\r\n\r\nNow I am going to subscribe to a topic without without sending disconnect message from my client. Pls refer above code again, I have added a function call to subscribe to topic.\r\n\r\n    public static void subscribe(String id, String cid) {\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tclient.toAsync().subscribeWith()\r\n\t\t\t\t\t.topicFilter(&quot;TEMP/&quot;+id+&quot;/&quot;+cid).callback(publish -&gt; {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tString message = new String(publish.getPayloadAsBytes(), StandardCharsets.UTF_8);\r\n\t\t\t\t\t\tSystem.out.println(&quot;Received message on topic &quot; + publish.getTopic() + &quot;: &quot; + message);\r\n\r\n\t\t\t\t\t}).send();\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Subscribing to &quot; + &quot;TEMP/&quot;+id+&quot;/&quot;+cid);\r\n\r\n\r\n\r\nNow after this I dont receive any messages on this topic. My keep alive time is 60 secs as shown in conf above, so broker should disconnect my client after 60*1.5 = 90 secs. But even after 90 secs, i dont see my client getting disconnected. Also broker does not send any PINGREQ to client too. \r\n\r\n\r\nKindly advice what I should do.","title":"HiveMQ KeepAlive Mechanism not working in Hivemq ce broker or client","body":"<p>I am using hivemq-mqtt-client-1.3.0.jar and creating a hivemq mqtt5 client. I have specified a keep alive time of 60 secs from client side.</p>\n<pre><code>String id = &quot;1&quot;;\nMqtt5ClientBuilder builder = Mqtt5Client.builder()\n                .identifier(id)\n                .serverHost(&quot;localhost&quot;)\n                .serverPort(1883)\n                .addConnectedListener(context -&gt; System.out.println(&quot;Connected Now&quot;))\n                .addDisconnectedListener(context -&gt; System.out.println(&quot;Disconnected Connected Now&quot;));\n        \n        \nclient = builder.build();\nclient.toBlocking().connectWith().cleanStart(false).keepAlive(keepAlive).send();\nsubscribe(id, &quot;1&quot;);\n</code></pre>\n<p>Once I connect to hiveMq with the above client, I get a connected log from event.txt file as shown below.</p>\n<p><code>2023-01-03 12:56:39,428 - Client ID: 1, IP: 127.0.0.1, Clean Start: false, Session Expiry: 0 connected.</code></p>\n<p>Now i disconnect my client using below code after 10 secs.</p>\n<pre><code>Thread.sleep(10*1000);\nclient.toBlocking().disconnect();\n</code></pre>\n<p>My expectation is that even though the client disconnected after 10 sec, the broker should keep the  connection alive for another 50 sec as keep alive is 60 sec.</p>\n<p>But as soon as i disconnect the client, I get disconnected message from broker too, which means keep alive is not working.</p>\n<pre><code>2023-01-03 12:56:49,482 - Client ID: 1, IP: 127.0.0.1 disconnected gracefully.\n</code></pre>\n<p>Also I have attached below hivemq broker config.xml file.</p>\n<pre><code>&lt;hivemq&gt;\n    &lt;listeners&gt;\n        &lt;tcp-listener&gt;\n            &lt;port&gt;1883&lt;/port&gt;\n            &lt;bind-address&gt;0.0.0.0&lt;/bind-address&gt;\n        &lt;/tcp-listener&gt;\n        &lt;mqtt&gt;\n            &lt;keep-alive&gt;\n                    &lt;allow-unlimited&gt;false&lt;/allow-unlimited&gt;\n                    &lt;max-keep-alive&gt;60&lt;/max-keep-alive&gt;\n            &lt;/keep-alive&gt;\n        &lt;/mqtt&gt;\n    &lt;/listeners&gt;\n\n    &lt;anonymous-usage-statistics&gt;\n        &lt;enabled&gt;true&lt;/enabled&gt;\n    &lt;/anonymous-usage-statistics&gt;\n&lt;/hivemq&gt;\n</code></pre>\n<p>Please suggest me what I am doing wrong here and any suggestions would be deeply appreciated.</p>\n<p>UPDATE******</p>\n<p>Now I am going to subscribe to a topic without without sending disconnect message from my client. Pls refer above code again, I have added a function call to subscribe to topic.</p>\n<pre><code>public static void subscribe(String id, String cid) {\n    try {\n        \n        client.toAsync().subscribeWith()\n                .topicFilter(&quot;TEMP/&quot;+id+&quot;/&quot;+cid).callback(publish -&gt; {\n                    \n                    String message = new String(publish.getPayloadAsBytes(), StandardCharsets.UTF_8);\n                    System.out.println(&quot;Received message on topic &quot; + publish.getTopic() + &quot;: &quot; + message);\n\n                }).send();\n        \n        System.out.println(&quot;Subscribing to &quot; + &quot;TEMP/&quot;+id+&quot;/&quot;+cid);\n</code></pre>\n<p>Now after this I dont receive any messages on this topic. My keep alive time is 60 secs as shown in conf above, so broker should disconnect my client after 60*1.5 = 90 secs. But even after 90 secs, i dont see my client getting disconnected. Also broker does not send any PINGREQ to client too.</p>\n<p>Kindly advice what I should do.</p>\n"},{"tags":["java","stack","calculator","infix-notation"],"owner":{"account_id":19664361,"reputation":13,"user_id":14395158,"display_name":"IamTufa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672740055,"creation_date":1672702086,"question_id":74987888,"body_markdown":"```\r\nprivate\tScanner sc = new Scanner(System.in);\r\nprivate String expression;\r\nprivate String exp[];\r\nprivate ArrayList&lt;String&gt; post_fix = new ArrayList&lt;&gt;();\r\nStack&lt;String&gt; ope = new Stack&lt;String&gt;();\r\n\tpublic Model()\r\n\t{\r\n\t\texpression = sc.nextLine();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void split()\r\n\t{\r\n\t\t\r\n\t\t//splitting the entered expression to array of operators alone and array of the numbers then create Arraylist to combine the operators and numbers together as if it is a string expression  but as an array\r\n        String num[]= this.expression.split(&quot;[/+/*/-]&quot;);\r\n        String preop[]= this.expression.split(&quot;[0-9]+&quot;);; // this will give [empty, operator, operator...] therefore we will create another array to fill in the ops excluding empty\r\n        \r\n        ArrayList&lt;String&gt; op = new ArrayList&lt;&gt;();//I used arraylist because easier\r\n        for(int i = 1; i&lt;preop.length;i++)\r\n        {\r\n        \top.add(preop[i]);\r\n        }\r\n\t\t\r\n        //putting the operands and the operators together in the same array\r\n        \t\t\r\n        ArrayList&lt;String&gt; exp = new ArrayList&lt;&gt;();\r\n       \r\n        \r\n        for(int i = 0; i &lt;num.length;i++)\r\n        {\r\n        \texp.add(num[i]);\r\n        }\r\n        int count = 0;\r\n        for(int i = 0; i &lt;op.size();i++)\r\n        { //fill the arraylist with numbers then add the operators to it by using number (index of the operator +1 +count)\r\n        \texp.add(i+1+count, op.get(i)); //This is why arraylist was used in order to let values to be placed in between \r\n        \tcount++;\r\n        \t//i+1+count is used because index of the operator is in between two numbers meaning it is after the first index in num array so i+1 and because array keeps increasing, we do +count for the other operators to be placed in\r\n        }\r\n        \r\n        this.exp = new String[exp.size()]; // we change the arraylist exp to instance array for faster operations later on\r\n        System.out.print(&quot;Test to check if expression is converted into array as intented: &quot;);\r\n        for(int i = 0; i&lt;this.exp.length;i++)\r\n        {\r\n        \tthis.exp[i] = exp.get(i);\r\n        \tSystem.out.print(this.exp[i]);\r\n        }\r\n        System.out.println();\r\n      \r\n\t}\r\n\t\r\n\tpublic void postfix()\r\n\t{\r\n\t\r\n\t\tfor(int i = 0; i &lt; exp.length; i++)\r\n\t\t{\r\n\t\t\tif(i%2 == 0)//since operands are observed to always have even index in the array\r\n\t\t\t{\r\n\t\t\t\tpost_fix.add(exp[i]);\r\n\t\t\t\tSystem.out.println(post_fix);\r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tboolean x = !ope.empty();\r\n\t\t\t\tSystem.out.println(&quot;Test of !ope.empty: &quot; + x);\r\n\t\t\t\twhile(!ope.empty()&amp;&amp; HasHigherPrecedence(ope.peek(), this.exp[i]))\r\n\t\t\t\t{\r\n\t\t\t\t\tpost_fix.add(ope.peek());\r\n\t\t\t\t\tope.pop();\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tope.push(exp[i]);\r\n\t\t\t\tSystem.out.println(&quot;stack_top: &quot;+ ope.peek());\r\n\t\t\t}\r\n\t\t\t\r\n\t\r\n\t\t}\r\n\t\twhile(!ope.empty())\r\n\t\t{\r\n\t\t\t\r\n\t\t\tpost_fix.add(ope.peek());\r\n\t\t\tope.pop();\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Output: &quot; +post_fix);\r\n\t\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic String getPost_fix()\r\n\t{\r\n\t\tString temp = &quot;&quot;;\r\n\t\tfor(int i =0; i &lt; exp.length;i++)\r\n\t\t{\r\n\t\t\ttemp = temp + post_fix.get(i);\r\n\t\t}\r\n\t\r\n\t\treturn temp;\r\n\t}\r\n\t\r\n\tpublic double evaluate() \r\n\t{\r\n\t\treturn 0;\r\n\t}\r\n\t\r\n\tprivate boolean HasHigherPrecedence(String op1, String op2)\r\n\t{\r\n\t\t//op1 is operator 1 at the top of the stack thus associativity highest\r\n\t\tint a_op1 = 1;\r\n\t\tint a_op2 = 0;\r\n\t\t\r\n\t\tint p_op1 = 0;\r\n\t\tint p_op2= 0;\r\n\t\t//the precedence will be measured with numbers\r\n\t\tString operators[]= {&quot;&quot;,&quot;+&quot;,&quot;-&quot;,&quot;*&quot;,&quot;/&quot;};\r\n\t\tint precedence[] = {0,1,1,2,2}; //the reason for blank operator and 0 precedence is because the stack initially will be empty\r\n\t\tfor(int i = 0; i&lt; operators.length;i++)\r\n\t\t{\r\n\t\t\tif(op1.equals(operators[i]))\r\n\t\t\t{\r\n\t\t\t\tp_op1=precedence[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(int i = 0; i&lt; operators.length;i++)\r\n\t\t{\r\n\t\t\tif(op2.equals(operators[i]))\r\n\t\t\t{\r\n\t\t\t\tp_op2=precedence[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tboolean higher_ornot = false;\r\n\t\t\r\n\t\tif(p_op1 &gt; p_op2)\r\n\t\t{\r\n\t\t\thigher_ornot = false;\r\n\t\t}\r\n\t\telse if(p_op1 &lt; p_op1)\r\n\t\t{\r\n\t\t\thigher_ornot = true;\r\n\t\t}\r\n\t\telse if(p_op1== p_op2)\r\n\t\t{\r\n\t\tSystem.out.println(op1+&quot;: &quot;+p_op1);\r\n\t\tSystem.out.println(op2+&quot;: &quot;+p_op2);\r\n\t\t\thigher_ornot = false; //since associativity of op1 will be higher --&gt; thus higher precedence\r\n\t\t}\r\n\t\t\r\n\t\treturn higher_ornot;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n[![Output of the code][1]][1]\r\n\r\nI am trying to converst user&#39;s infix mathmatical expression into a postfix expression in an array that will be evaluated but before evaluation, I faced a problem in the postfix method\r\n\r\nwhile(!ope.empty()&amp;&amp; HasHigherPrecedence(ope.peek(), this.exp[i]))\r\n\r\nThis specific line is not being called out when the condition should be true, when it is comparing top of the stack which is * to - and * has higher precedence and since stack is not empty thus it should return true thus the function is called. I tested if I have any errors other areas but everything I tested was correct, I really have  no clue how to fix.\r\n\r\n\r\n\r\nI am really clueless even after 1hour and a half staring and trying to trace the code\r\n\r\nI am expecting from output to be\r\n[3, 2, 4, *, +, 3, -] which is the postfix expression that technically will be evaluated later\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vbNUn.png","title":"Infix to postfix algorithm, the if statement I wrote is not being called out when it should","body":"<pre><code>private Scanner sc = new Scanner(System.in);\nprivate String expression;\nprivate String exp[];\nprivate ArrayList&lt;String&gt; post_fix = new ArrayList&lt;&gt;();\nStack&lt;String&gt; ope = new Stack&lt;String&gt;();\n    public Model()\n    {\n        expression = sc.nextLine();\n        \n    }\n    \n    public void split()\n    {\n        \n        //splitting the entered expression to array of operators alone and array of the numbers then create Arraylist to combine the operators and numbers together as if it is a string expression  but as an array\n        String num[]= this.expression.split(&quot;[/+/*/-]&quot;);\n        String preop[]= this.expression.split(&quot;[0-9]+&quot;);; // this will give [empty, operator, operator...] therefore we will create another array to fill in the ops excluding empty\n        \n        ArrayList&lt;String&gt; op = new ArrayList&lt;&gt;();//I used arraylist because easier\n        for(int i = 1; i&lt;preop.length;i++)\n        {\n            op.add(preop[i]);\n        }\n        \n        //putting the operands and the operators together in the same array\n                \n        ArrayList&lt;String&gt; exp = new ArrayList&lt;&gt;();\n       \n        \n        for(int i = 0; i &lt;num.length;i++)\n        {\n            exp.add(num[i]);\n        }\n        int count = 0;\n        for(int i = 0; i &lt;op.size();i++)\n        { //fill the arraylist with numbers then add the operators to it by using number (index of the operator +1 +count)\n            exp.add(i+1+count, op.get(i)); //This is why arraylist was used in order to let values to be placed in between \n            count++;\n            //i+1+count is used because index of the operator is in between two numbers meaning it is after the first index in num array so i+1 and because array keeps increasing, we do +count for the other operators to be placed in\n        }\n        \n        this.exp = new String[exp.size()]; // we change the arraylist exp to instance array for faster operations later on\n        System.out.print(&quot;Test to check if expression is converted into array as intented: &quot;);\n        for(int i = 0; i&lt;this.exp.length;i++)\n        {\n            this.exp[i] = exp.get(i);\n            System.out.print(this.exp[i]);\n        }\n        System.out.println();\n      \n    }\n    \n    public void postfix()\n    {\n    \n        for(int i = 0; i &lt; exp.length; i++)\n        {\n            if(i%2 == 0)//since operands are observed to always have even index in the array\n            {\n                post_fix.add(exp[i]);\n                System.out.println(post_fix);\n            }\n            else \n            {\n                boolean x = !ope.empty();\n                System.out.println(&quot;Test of !ope.empty: &quot; + x);\n                while(!ope.empty()&amp;&amp; HasHigherPrecedence(ope.peek(), this.exp[i]))\n                {\n                    post_fix.add(ope.peek());\n                    ope.pop();\n                    \n                    \n                }\n                ope.push(exp[i]);\n                System.out.println(&quot;stack_top: &quot;+ ope.peek());\n            }\n            \n    \n        }\n        while(!ope.empty())\n        {\n            \n            post_fix.add(ope.peek());\n            ope.pop();\n        }\n        System.out.println(&quot;Output: &quot; +post_fix);\n    \n        \n    }\n    \n    public String getPost_fix()\n    {\n        String temp = &quot;&quot;;\n        for(int i =0; i &lt; exp.length;i++)\n        {\n            temp = temp + post_fix.get(i);\n        }\n    \n        return temp;\n    }\n    \n    public double evaluate() \n    {\n        return 0;\n    }\n    \n    private boolean HasHigherPrecedence(String op1, String op2)\n    {\n        //op1 is operator 1 at the top of the stack thus associativity highest\n        int a_op1 = 1;\n        int a_op2 = 0;\n        \n        int p_op1 = 0;\n        int p_op2= 0;\n        //the precedence will be measured with numbers\n        String operators[]= {&quot;&quot;,&quot;+&quot;,&quot;-&quot;,&quot;*&quot;,&quot;/&quot;};\n        int precedence[] = {0,1,1,2,2}; //the reason for blank operator and 0 precedence is because the stack initially will be empty\n        for(int i = 0; i&lt; operators.length;i++)\n        {\n            if(op1.equals(operators[i]))\n            {\n                p_op1=precedence[i];\n            }\n        }\n        for(int i = 0; i&lt; operators.length;i++)\n        {\n            if(op2.equals(operators[i]))\n            {\n                p_op2=precedence[i];\n            }\n        }\n        \n        boolean higher_ornot = false;\n        \n        if(p_op1 &gt; p_op2)\n        {\n            higher_ornot = false;\n        }\n        else if(p_op1 &lt; p_op1)\n        {\n            higher_ornot = true;\n        }\n        else if(p_op1== p_op2)\n        {\n        System.out.println(op1+&quot;: &quot;+p_op1);\n        System.out.println(op2+&quot;: &quot;+p_op2);\n            higher_ornot = false; //since associativity of op1 will be higher --&gt; thus higher precedence\n        }\n        \n        return higher_ornot;\n    }\n    \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/vbNUn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vbNUn.png\" alt=\"Output of the code\" /></a></p>\n<p>I am trying to converst user's infix mathmatical expression into a postfix expression in an array that will be evaluated but before evaluation, I faced a problem in the postfix method</p>\n<p>while(!ope.empty()&amp;&amp; HasHigherPrecedence(ope.peek(), this.exp[i]))</p>\n<p>This specific line is not being called out when the condition should be true, when it is comparing top of the stack which is * to - and * has higher precedence and since stack is not empty thus it should return true thus the function is called. I tested if I have any errors other areas but everything I tested was correct, I really have  no clue how to fix.</p>\n<p>I am really clueless even after 1hour and a half staring and trying to trace the code</p>\n<p>I am expecting from output to be\n[3, 2, 4, *, +, 3, -] which is the postfix expression that technically will be evaluated later</p>\n"},{"tags":["java","json","expression","evaluation"],"comments":[{"owner":{"account_id":9573972,"reputation":1131,"user_id":7110786,"display_name":"Saif Ahmad"},"score":1,"creation_date":1672228795,"post_id":74939394,"comment_id":132246002,"body_markdown":"Maybe try this library: https://github.com/octomix/josson","body":"Maybe try this library: <a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">github.com/octomix/josson</a>"}],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672251409,"creation_date":1672251409,"answer_id":74943675,"question_id":74939394,"body_markdown":"The latest version 1.4.2 of _Josson_ added function eval().\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;model\\&quot;: \\&quot;abc\\&quot;,&quot; +\r\n        &quot;  \\&quot;variant\\&quot;: \\&quot;m1\\&quot;,&quot; +\r\n        &quot;  \\&quot;stage\\&quot; :2,&quot; +\r\n        &quot;  \\&quot;a\\&quot;: 100,&quot; +\r\n        &quot;  \\&quot;b\\&quot;: 200,&quot; +\r\n        &quot;  \\&quot;display name\\&quot;: \\&quot;concat(model,&#39;-&#39;,variant)\\&quot;,&quot; +\r\n        &quot;  \\&quot;c\\&quot;: \\&quot;round(calc(a+b),0).toText()\\&quot;,&quot; +\r\n        &quot;  \\&quot;description\\&quot;: \\&quot;concat(model,&#39;-&#39;,variant,&#39;-&#39;,round(calc(stage*10),0))\\&quot;&quot; +\r\n        &quot;}&quot;);\r\n    JsonNode node = josson.getNode(\r\n        &quot;field(display name: eval(display name),&quot; +\r\n        &quot;      c: eval(c),&quot; +\r\n        &quot;      description: eval(description))&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    {\r\n      &quot;model&quot; : &quot;abc&quot;,\r\n      &quot;variant&quot; : &quot;m1&quot;,\r\n      &quot;stage&quot; : 2,\r\n      &quot;a&quot; : 100,\r\n      &quot;b&quot; : 200,\r\n      &quot;display name&quot; : &quot;abc-m1&quot;,\r\n      &quot;c&quot; : &quot;300&quot;,\r\n      &quot;description&quot; : &quot;abc-m1-20&quot;\r\n    }\r\n","title":"Evaluate JSON object with expression with variable name","body":"<p>The latest version 1.4.2 of <em>Josson</em> added function eval().</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;  \\&quot;model\\&quot;: \\&quot;abc\\&quot;,&quot; +\n    &quot;  \\&quot;variant\\&quot;: \\&quot;m1\\&quot;,&quot; +\n    &quot;  \\&quot;stage\\&quot; :2,&quot; +\n    &quot;  \\&quot;a\\&quot;: 100,&quot; +\n    &quot;  \\&quot;b\\&quot;: 200,&quot; +\n    &quot;  \\&quot;display name\\&quot;: \\&quot;concat(model,'-',variant)\\&quot;,&quot; +\n    &quot;  \\&quot;c\\&quot;: \\&quot;round(calc(a+b),0).toText()\\&quot;,&quot; +\n    &quot;  \\&quot;description\\&quot;: \\&quot;concat(model,'-',variant,'-',round(calc(stage*10),0))\\&quot;&quot; +\n    &quot;}&quot;);\nJsonNode node = josson.getNode(\n    &quot;field(display name: eval(display name),&quot; +\n    &quot;      c: eval(c),&quot; +\n    &quot;      description: eval(description))&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n  &quot;model&quot; : &quot;abc&quot;,\n  &quot;variant&quot; : &quot;m1&quot;,\n  &quot;stage&quot; : 2,\n  &quot;a&quot; : 100,\n  &quot;b&quot; : 200,\n  &quot;display name&quot; : &quot;abc-m1&quot;,\n  &quot;c&quot; : &quot;300&quot;,\n  &quot;description&quot; : &quot;abc-m1-20&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":1675064,"reputation":103,"user_id":1540802,"display_name":"Pranav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74943675,"answer_count":1,"score":2,"last_activity_date":1672740027,"creation_date":1672225179,"question_id":74939394,"body_markdown":"We need to evalue json object expression in java\r\n\r\nwe have following source json object\r\n\r\n```\r\n{\r\n  &quot;model&quot;:&quot;abc&quot;,\r\n  &quot;variant&quot;:&quot;m1&quot;,\r\n  &quot;stage&quot;:2,\r\n  &quot;a&quot;:100,\r\n  &quot;b&quot;:200,\r\n  &quot;display name&quot;:&quot;${model}-${variant}&quot;,\r\n  &quot;c&quot;:&quot;${a}*${b}&quot;,\r\n  &quot;description&quot;:&quot;${model}-${variant}-${stage*10}&quot;\r\n}\r\n\r\n```\r\n\r\nafter evaluation the json object should be like\r\n\r\n\r\n```\r\n{\r\n  &quot;model&quot;:&quot;abc&quot;,\r\n  &quot;variant&quot;:&quot;m1&quot;,\r\n  &quot;stage&quot;:2,\r\n  &quot;a&quot;:100,\r\n  &quot;b&quot;:200,\r\n  &quot;display name&quot;:&quot;abc-m1&quot;,\r\n  &quot;c&quot;:&quot;300&quot;,\r\n  &quot;description&quot;:&quot;abc-m1-20&quot;\r\n}\r\n```\r\n\r\nexpression can be of 3 types\r\n1. Pure arithmetic expression\r\n2. concat strings\r\n3. combination of concat and arithmetic expression\r\n\r\nWe are open to any modification in source json to define expression representation\r\n\r\nRegards,\r\nPranav\r\n\r\n\r\nwe tried https://github.com/json-path/JsonPath but that is more of a filtering json","title":"Evaluate JSON object with expression with variable name","body":"<p>We need to evalue json object expression in java</p>\n<p>we have following source json object</p>\n<pre><code>{\n  &quot;model&quot;:&quot;abc&quot;,\n  &quot;variant&quot;:&quot;m1&quot;,\n  &quot;stage&quot;:2,\n  &quot;a&quot;:100,\n  &quot;b&quot;:200,\n  &quot;display name&quot;:&quot;${model}-${variant}&quot;,\n  &quot;c&quot;:&quot;${a}*${b}&quot;,\n  &quot;description&quot;:&quot;${model}-${variant}-${stage*10}&quot;\n}\n\n</code></pre>\n<p>after evaluation the json object should be like</p>\n<pre><code>{\n  &quot;model&quot;:&quot;abc&quot;,\n  &quot;variant&quot;:&quot;m1&quot;,\n  &quot;stage&quot;:2,\n  &quot;a&quot;:100,\n  &quot;b&quot;:200,\n  &quot;display name&quot;:&quot;abc-m1&quot;,\n  &quot;c&quot;:&quot;300&quot;,\n  &quot;description&quot;:&quot;abc-m1-20&quot;\n}\n</code></pre>\n<p>expression can be of 3 types</p>\n<ol>\n<li>Pure arithmetic expression</li>\n<li>concat strings</li>\n<li>combination of concat and arithmetic expression</li>\n</ol>\n<p>We are open to any modification in source json to define expression representation</p>\n<p>Regards,\nPranav</p>\n<p>we tried <a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">https://github.com/json-path/JsonPath</a> but that is more of a filtering json</p>\n"},{"tags":["java","cookies","servlets"],"owner":{"account_id":27249521,"reputation":1,"user_id":20774222,"display_name":"faceghost"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671101526,"answer_count":0,"score":0,"last_activity_date":1672739836,"creation_date":1671052598,"question_id":74804270,"body_markdown":"I&#39;ve created a site that displays the weather of every city using an API from openweather.\r\n\r\nI managed to solve a problem I had where the previous searches wouldn&#39;t show up using cookies. This is for a school project that requires that I use cookies.\r\n\r\nMy problem now is that I can&#39;t create whitespace between the previous searches. I keep getting the error.\r\n\r\n```\r\njava.lang.IllegalArgumentException: An invalid character [32] was present in the Cookie value\r\n```\r\n\r\nThe only characters that can be used are colon and hyphen as far as the ones I&#39;ve tried. I read that colon and whitespace used to be accepted on an earlier tomcat, but not anymore. I&#39;m on 9.0.69.\r\n\r\nI&#39;ve uploaded a picture, so you can see the end result. \r\nHow do I create a white space between the cities or better yet a list that goes downwards.\r\n\r\nThis is my servlet;\r\n\r\n```\r\npackage controller;\r\n\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport javax.servlet.RequestDispatcher;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.Cookie;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\nimport model.GettheWeather;\r\nimport model.weatherBean;\r\n\r\n@WebServlet(&quot;/OWservlet&quot;)\r\npublic class OWservlet extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows ServletException, IOException {\r\n\r\n\t\tString cityStr = request.getParameter(&quot;city&quot;);\r\n\t\tString countryStr = request.getParameter(&quot;country&quot;);\r\n\r\n\t\tweatherBean wBean = new weatherBean(cityStr, countryStr);\r\n\r\n\t\tGettheWeather.getWeather(wBean);\r\n\r\n\t\trequest.setAttribute(&quot;wBean&quot;, wBean);\r\n\r\n\t\tCookie[] cookies = request.getCookies();\r\n\t\tString temp = &quot;&quot;;\r\n\t\tfor (int i = 0; i &lt; cookies.length; i++) {\r\n\t\t\tif (cookies[i].getName().equals(&quot;city&quot;)) {\r\n\t\t\t\ttemp = cookies[i].getValue();\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\ttemp = temp + &quot;-&quot; + cityStr;\r\n\t\t\r\n\r\n\t\tCookie ck = new Cookie(&quot;city&quot;, temp);\r\n\t\tck.setMaxAge(100);\r\n\t\tresponse.addCookie(ck);\r\n\r\n\t\tRequestDispatcher rd = request.getRequestDispatcher(&quot;views/showWeather.jsp&quot;);\r\n\t\trd.forward(request, response);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nand this is my JSP\r\n\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n\tpageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;%@page import=&quot;model.weatherBean&quot;%&gt;\r\n&lt;%@page import=&quot;controller.OWservlet&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n&lt;title&gt;the weather&lt;/title&gt;\r\n&lt;link rel=&quot;stylesheet&quot; href=&quot;./style.css&quot;&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n\t&lt;%\r\n\t\r\n\tweatherBean wBean = (weatherBean) request.getAttribute(&quot;wBean&quot;);\r\n\r\n\tdouble number = Double.parseDouble(wBean.getTempStr());\r\n\tnumber = number - 273.15;\r\n\tint number2 = (int) number;\r\n\r\n\tout.print(&quot;&lt;h2&gt;The weather in &quot; + wBean.getCityStr() + &quot; is now  &quot; + wBean.getCloudsStr() + &quot;, the temperature is : &quot;\r\n\t\t\t+ number2 + &quot;&#176;C, and the date is: &quot; + wBean.getTimeStr().substring(0, 10) + &quot;&lt;/h2&gt;&quot;);\r\n\t%&gt;\r\n\r\n\t&lt;div class=&quot;loginbox&quot;&gt;\r\n\t\t&lt;form action=&quot;OWservlet&quot; method=&quot;get&quot;&gt;\r\n\t\t\tCity:&lt;input type=&quot;text&quot; name=&quot;city&quot; /&gt;&lt;br /&gt; Country:&lt;input\r\n\t\t\t\ttype=&quot;text&quot; name=&quot;country&quot; /&gt;&lt;br /&gt; &lt;input type=&quot;submit&quot;\r\n\t\t\t\tvalue=&quot;go&quot; /&gt;\r\n\t\t&lt;/form&gt;\r\n\t&lt;/div&gt;\r\n\r\n\t&lt;h1&gt;Previously searched cities: ${cookie[&quot;city&quot;].getValue()}&lt;/h1&gt;\r\n\r\n\t\r\n\t\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nI&#39;ve tried using \r\n```\r\ntemp.split(&quot;-&quot;);\r\n```\r\nand \r\n```\r\ntemp.replace(&quot;-&quot;,&quot; &quot;)\r\n```","title":"How do I delete a character from a Cookie or create whitespace?","body":"<p>I've created a site that displays the weather of every city using an API from openweather.</p>\n<p>I managed to solve a problem I had where the previous searches wouldn't show up using cookies. This is for a school project that requires that I use cookies.</p>\n<p>My problem now is that I can't create whitespace between the previous searches. I keep getting the error.</p>\n<pre><code>java.lang.IllegalArgumentException: An invalid character [32] was present in the Cookie value\n</code></pre>\n<p>The only characters that can be used are colon and hyphen as far as the ones I've tried. I read that colon and whitespace used to be accepted on an earlier tomcat, but not anymore. I'm on 9.0.69.</p>\n<p>I've uploaded a picture, so you can see the end result.\nHow do I create a white space between the cities or better yet a list that goes downwards.</p>\n<p>This is my servlet;</p>\n<pre><code>package controller;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.servlet.RequestDispatcher;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.Cookie;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport model.GettheWeather;\nimport model.weatherBean;\n\n@WebServlet(&quot;/OWservlet&quot;)\npublic class OWservlet extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n\n        String cityStr = request.getParameter(&quot;city&quot;);\n        String countryStr = request.getParameter(&quot;country&quot;);\n\n        weatherBean wBean = new weatherBean(cityStr, countryStr);\n\n        GettheWeather.getWeather(wBean);\n\n        request.setAttribute(&quot;wBean&quot;, wBean);\n\n        Cookie[] cookies = request.getCookies();\n        String temp = &quot;&quot;;\n        for (int i = 0; i &lt; cookies.length; i++) {\n            if (cookies[i].getName().equals(&quot;city&quot;)) {\n                temp = cookies[i].getValue();\n            }\n\n        }\n\n        temp = temp + &quot;-&quot; + cityStr;\n        \n\n        Cookie ck = new Cookie(&quot;city&quot;, temp);\n        ck.setMaxAge(100);\n        response.addCookie(ck);\n\n        RequestDispatcher rd = request.getRequestDispatcher(&quot;views/showWeather.jsp&quot;);\n        rd.forward(request, response);\n    }\n\n}\n</code></pre>\n<p>and this is my JSP</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n    pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@page import=&quot;model.weatherBean&quot;%&gt;\n&lt;%@page import=&quot;controller.OWservlet&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;title&gt;the weather&lt;/title&gt;\n&lt;link rel=&quot;stylesheet&quot; href=&quot;./style.css&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;%\n    \n    weatherBean wBean = (weatherBean) request.getAttribute(&quot;wBean&quot;);\n\n    double number = Double.parseDouble(wBean.getTempStr());\n    number = number - 273.15;\n    int number2 = (int) number;\n\n    out.print(&quot;&lt;h2&gt;The weather in &quot; + wBean.getCityStr() + &quot; is now  &quot; + wBean.getCloudsStr() + &quot;, the temperature is : &quot;\n            + number2 + &quot;C, and the date is: &quot; + wBean.getTimeStr().substring(0, 10) + &quot;&lt;/h2&gt;&quot;);\n    %&gt;\n\n    &lt;div class=&quot;loginbox&quot;&gt;\n        &lt;form action=&quot;OWservlet&quot; method=&quot;get&quot;&gt;\n            City:&lt;input type=&quot;text&quot; name=&quot;city&quot; /&gt;&lt;br /&gt; Country:&lt;input\n                type=&quot;text&quot; name=&quot;country&quot; /&gt;&lt;br /&gt; &lt;input type=&quot;submit&quot;\n                value=&quot;go&quot; /&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n\n    &lt;h1&gt;Previously searched cities: ${cookie[&quot;city&quot;].getValue()}&lt;/h1&gt;\n\n    \n    \n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I've tried using</p>\n<pre><code>temp.split(&quot;-&quot;);\n</code></pre>\n<p>and</p>\n<pre><code>temp.replace(&quot;-&quot;,&quot; &quot;)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jackson"],"comments":[{"owner":{"account_id":12843853,"reputation":369,"user_id":9290993,"display_name":"Rurien"},"score":0,"creation_date":1672711671,"post_id":74978500,"comment_id":132332658,"body_markdown":"I&#39;ve tried it with simple spring boot project with only ```Application.java``` and ```Controller.java```. No other settings.","body":"I&#39;ve tried it with simple spring boot project with only <code>Application.java</code> and <code>Controller.java</code>. No other settings."}],"answers":[{"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672738780,"creation_date":1672738780,"answer_id":74991488,"question_id":74978500,"body_markdown":"```@JsonAlias``` will not work with ```@ModelAttribute``` because ```@ModelAttribute``` is used for binding data for request param (in key value pairs). If you want to do JSON mapping then better to use ```@RequestBody```","title":"@JsonAlias on @ModelAttribute POJO not working","body":"<p><code>@JsonAlias</code> will not work with <code>@ModelAttribute</code> because <code>@ModelAttribute</code> is used for binding data for request param (in key value pairs). If you want to do JSON mapping then better to use <code>@RequestBody</code></p>\n"}],"owner":{"account_id":12843853,"reputation":369,"user_id":9290993,"display_name":"Rurien"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74991488,"answer_count":1,"score":0,"last_activity_date":1672738780,"creation_date":1672624575,"question_id":74978500,"body_markdown":"I&#39;m using Jackson in my Spring Boot application.\r\n\r\nI want to convert request parameters to POJO.\r\n\r\nBut when I use ```@ModelAttribute``` with ```@JsonAlias```, it doesn&#39;t work.\r\n\r\n**Request POJO**\r\n```\r\n@Data\r\npublic RequestPojo {\r\n    @JsonAlias( &quot;FOO_SNAKE&quot; ) // Not working\r\n    private String fooCamelAlias;\r\n}\r\n```\r\n\r\n**Controller:**\r\n```\r\n@GetMapping(&quot;/foo&quot;)\r\npublic void getFoo( @ModelAttribute RequestPojo requestPojo ) {\r\n    ...\r\n}\r\n```\r\n\r\n**Request:**\r\n```\r\n(1) http://localhost?FOO_SNAKE=Foo_snake\r\n(2) http://localhost?fooCamelAlias=Foo_snake\r\n```\r\n\r\n```fooCamelAlias``` is null when I request with ```(1)```.\r\nBut ```(2)``` works.","title":"@JsonAlias on @ModelAttribute POJO not working","body":"<p>I'm using Jackson in my Spring Boot application.</p>\n<p>I want to convert request parameters to POJO.</p>\n<p>But when I use <code>@ModelAttribute</code> with <code>@JsonAlias</code>, it doesn't work.</p>\n<p><strong>Request POJO</strong></p>\n<pre><code>@Data\npublic RequestPojo {\n    @JsonAlias( &quot;FOO_SNAKE&quot; ) // Not working\n    private String fooCamelAlias;\n}\n</code></pre>\n<p><strong>Controller:</strong></p>\n<pre><code>@GetMapping(&quot;/foo&quot;)\npublic void getFoo( @ModelAttribute RequestPojo requestPojo ) {\n    ...\n}\n</code></pre>\n<p><strong>Request:</strong></p>\n<pre><code>(1) http://localhost?FOO_SNAKE=Foo_snake\n(2) http://localhost?fooCamelAlias=Foo_snake\n</code></pre>\n<p><code>fooCamelAlias</code> is null when I request with <code>(1)</code>.\nBut <code>(2)</code> works.</p>\n"},{"tags":["java","selenium","selenium-webdriver","noclassdeffounderror","illegalstateexception"],"comments":[{"owner":{"account_id":7696323,"reputation":1,"user_id":5830694,"display_name":"Jon Jon Micallef"},"score":0,"creation_date":1672701879,"post_id":74987770,"comment_id":132331344,"body_markdown":"these are all the jar i added. i am not using marven so i tried to find a stand-alone jar, idk if they work well. i have managed to use selenium on marven by copying in dependencies but I cant do that here or I don&#39;t know how,, the list :   slf4j-api-161 jar\n\nslf4j-simple-1.6.1.jar\n\nselenium-api-47.2-jar\n\norg.apache.commons.io.jar\n\njava-json,jar\n\nselenium-java.jar -\n\nselenium-serverZ24.1jar -\n\nselenium-server-standalone-2&#39;7.0\n\nselenium-java-3.140.jar\n\nguava-23.0jar","body":"these are all the jar i added. i am not using marven so i tried to find a stand-alone jar, idk if they work well. i have managed to use selenium on marven by copying in dependencies but I cant do that here or I don&#39;t know how,, the list :   slf4j-api-161 jar  slf4j-simple-1.6.1.jar  selenium-api-47.2-jar  org.apache.commons.io.jar  java-json,jar  selenium-java.jar -  selenium-serverZ24.1jar -  selenium-server-standalone-2&#39;7.0  selenium-java-3.140.jar  guava-23.0jar"},{"owner":{"account_id":7696323,"reputation":1,"user_id":5830694,"display_name":"Jon Jon Micallef"},"score":0,"creation_date":1672702703,"post_id":74987770,"comment_id":132331464,"body_markdown":"this is an apectJ file","body":"this is an apectJ file"}],"owner":{"account_id":7696323,"reputation":1,"user_id":5830694,"display_name":"Jon Jon Micallef"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672737206,"creation_date":1672700726,"question_id":74987770,"body_markdown":"I am using eclipse luna which is an out-of-date version. I&#39;m having an issue with setting up selenium.I&#39;m using vanilla java, no marven or anything like that.\r\n\r\n```\r\npublic static WebDriver driver;\r\n\tpublic static void main(String[] args) throws JSONException{ \r\n\t\r\n\r\n\t\t\t System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C://Program Files//chromedriver//chromedriver.exe&quot;);\r\n\r\n\t\t\t WebDriver driver = new ChromeDriver();\r\n\r\n\r\n\t\t\t driver.get(&quot;www.google.com&quot;); \r\n\t\t}\r\n```\r\n\r\nI imported JAR files instead of copying in selenium stand-alone. also tried switching the setproperty and driver but it return: java.lang.IllegalStateException: The path to the chromedriver executable must be set by the webdriver.chrome.driver system property","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/http/HttpEntity","body":"<p>I am using eclipse luna which is an out-of-date version. I'm having an issue with setting up selenium.I'm using vanilla java, no marven or anything like that.</p>\n<pre><code>public static WebDriver driver;\n    public static void main(String[] args) throws JSONException{ \n    \n\n             System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C://Program Files//chromedriver//chromedriver.exe&quot;);\n\n             WebDriver driver = new ChromeDriver();\n\n\n             driver.get(&quot;www.google.com&quot;); \n        }\n</code></pre>\n<p>I imported JAR files instead of copying in selenium stand-alone. also tried switching the setproperty and driver but it return: java.lang.IllegalStateException: The path to the chromedriver executable must be set by the webdriver.chrome.driver system property</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","drag-and-drop"],"owner":{"account_id":27314636,"reputation":39,"user_id":20829272,"display_name":"Praveen Sundaram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672737052,"creation_date":1672731930,"question_id":74990350,"body_markdown":"I am trying to drag and drop an element to a targeted location. The code I used:\r\n\r\n    driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n\t\t\r\n\tdriver.get(&quot;https://letcode.in/dropable&quot;);\r\n\t\r\n\tWebElement source = driver.findElement(By.id(&quot;draggable&quot;));\r\n\tWebElement target = driver.findElement(By.id(&quot;droppable&quot;));\r\n\t\r\n\tActions act = new Actions(driver);\r\n\tact.dragAndDrop(source, target).perform();\r\n\r\nUpon using this code, all I was able to view is that the source element being clicked and hold. it is not moved to the target location. I even tried dragAndDropBy(), ClickAndHold(). Everything is giving the same output.","title":"Selenium : Drag and Drop","body":"<p>I am trying to drag and drop an element to a targeted location. The code I used:</p>\n<pre><code>driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n    \ndriver.get(&quot;https://letcode.in/dropable&quot;);\n\nWebElement source = driver.findElement(By.id(&quot;draggable&quot;));\nWebElement target = driver.findElement(By.id(&quot;droppable&quot;));\n\nActions act = new Actions(driver);\nact.dragAndDrop(source, target).perform();\n</code></pre>\n<p>Upon using this code, all I was able to view is that the source element being clicked and hold. it is not moved to the target location. I even tried dragAndDropBy(), ClickAndHold(). Everything is giving the same output.</p>\n"},{"tags":["java","exception","sonarqube","completable-future","interrupted-exception"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1672737396,"post_id":74990796,"comment_id":132336970,"body_markdown":"Does this answer your question? [Why invoke Thread.currentThread.interrupt() in a catch InterruptException block?](https://stackoverflow.com/questions/4906799/why-invoke-thread-currentthread-interrupt-in-a-catch-interruptexception-block)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4906799/why-invoke-thread-currentthread-interrupt-in-a-catch-interruptexception-block\">Why invoke Thread.currentThread.interrupt() in a catch InterruptException block?</a>"},{"owner":{"account_id":15986267,"reputation":1,"user_id":11536640,"display_name":"Shailja"},"score":0,"creation_date":1672791661,"post_id":74990796,"comment_id":132352528,"body_markdown":"@DidierL Since I need to interrupt the thread here, do we have any other approach with which I can avoid getting InterruptedException? I&#39;m using Executor Service and I don&#39;t want the output to get effected due to one iteration failure. Please suggest me the  best way to handle it.","body":"@DidierL Since I need to interrupt the thread here, do we have any other approach with which I can avoid getting InterruptedException? I&#39;m using Executor Service and I don&#39;t want the output to get effected due to one iteration failure. Please suggest me the  best way to handle it."},{"owner":{"account_id":15986267,"reputation":1,"user_id":11536640,"display_name":"Shailja"},"score":0,"creation_date":1672791813,"post_id":74990796,"comment_id":132352551,"body_markdown":"@DidierL I&#39;ve also tried checking the interrupted flag - if its true used Optional.empty() but with this I stucked to this Exception -                                                     \n\nInterrupted acquiring a permit to retrieve an item from the pool ; nested exception is com.mongodb.MongoInterruptedException: Interrupted acquiring a permit to retrieve an item from the pool","body":"@DidierL I&#39;ve also tried checking the interrupted flag - if its true used Optional.empty() but with this I stucked to this Exception -                                                       Interrupted acquiring a permit to retrieve an item from the pool ; nested exception is com.mongodb.MongoInterruptedException: Interrupted acquiring a permit to retrieve an item from the pool"}],"owner":{"account_id":15986267,"reputation":1,"user_id":11536640,"display_name":"Shailja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672737051,"creation_date":1672734752,"question_id":74990796,"body_markdown":"Here inside the for loop I&#39;m trying to get the value from `stringCompletableFutureEntry` which throws the `InterruptedException` and with sonar enabled on this, I am supposed to interrupt the thread when an exception occurs but according to my expectation I should get data for all futures if it&#39;s not there than I can use `Optional.empty()` or skip this iteration and move further. How should I get rid of this sonar issue?\r\n\r\n\r\n\r\n\r\n```java\r\nprivate void mapFutures(\r\n      Map&lt;Obj1, CompletableFuture&lt;DummyContainer&gt;&gt; futures, List&lt;DummyStatus&gt; dummyStatusList) {\r\n    for (Map.Entry&lt;Obj1, CompletableFuture&lt;DummyContainer&gt;&gt; stringCompletableFutureEntry :\r\n        futures.entrySet()) {\r\n      try {\r\n        Optional&lt;DummyContainer&gt; dummyContainer =\r\n            Optional.ofNullable(**stringCompletableFutureEntry.getValue().get()**);\r\n        List&lt;Dummy&gt; dummy = null;\r\n        dummy = dummyContainer.map(DummyContainer::getDummyData).orElseGet(() -&gt; null);\r\n        \r\n        if (!CollectionUtils.isEmpty(dummy)) {\r\n          dummyStatusList.add(new DummyStatus(stringCompletableFutureEntry.getKey(), dummy.get(0)));\r\n        } else {\r\n          dummyStatusList.add(new DummyStatus(stringCompletableFutureEntry.getKey()));\r\n        }\r\n      } catch (InterruptedException | ExecutionException e) {\r\n        Thread.currentThread().interrupt(); // sonar expectation\r\n      }\r\n    }\r\n  }\r\n\r\n```\r\n\r\n\r\nI tried using timeout while getting data e.g. \r\n```java\r\nstringCompletableFutureEntry.getValue().get(Long.parseLong(&quot;3000&quot;), TimeUnit.MILLISECONDS))\r\n```\r\n\r\nIt&#39;ll throw a `TimeoutException` once the time threshold is reached.\r\n\r\nI&#39;m looking for other Solutions to get rid of `InterruptedException` inside the loop.","title":"InterruptedException Issue on Sonar while getting data from CompletableFuture","body":"<p>Here inside the for loop I'm trying to get the value from <code>stringCompletableFutureEntry</code> which throws the <code>InterruptedException</code> and with sonar enabled on this, I am supposed to interrupt the thread when an exception occurs but according to my expectation I should get data for all futures if it's not there than I can use <code>Optional.empty()</code> or skip this iteration and move further. How should I get rid of this sonar issue?</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void mapFutures(\n      Map&lt;Obj1, CompletableFuture&lt;DummyContainer&gt;&gt; futures, List&lt;DummyStatus&gt; dummyStatusList) {\n    for (Map.Entry&lt;Obj1, CompletableFuture&lt;DummyContainer&gt;&gt; stringCompletableFutureEntry :\n        futures.entrySet()) {\n      try {\n        Optional&lt;DummyContainer&gt; dummyContainer =\n            Optional.ofNullable(**stringCompletableFutureEntry.getValue().get()**);\n        List&lt;Dummy&gt; dummy = null;\n        dummy = dummyContainer.map(DummyContainer::getDummyData).orElseGet(() -&gt; null);\n        \n        if (!CollectionUtils.isEmpty(dummy)) {\n          dummyStatusList.add(new DummyStatus(stringCompletableFutureEntry.getKey(), dummy.get(0)));\n        } else {\n          dummyStatusList.add(new DummyStatus(stringCompletableFutureEntry.getKey()));\n        }\n      } catch (InterruptedException | ExecutionException e) {\n        Thread.currentThread().interrupt(); // sonar expectation\n      }\n    }\n  }\n\n</code></pre>\n<p>I tried using timeout while getting data e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>stringCompletableFutureEntry.getValue().get(Long.parseLong(&quot;3000&quot;), TimeUnit.MILLISECONDS))\n</code></pre>\n<p>It'll throw a <code>TimeoutException</code> once the time threshold is reached.</p>\n<p>I'm looking for other Solutions to get rid of <code>InterruptedException</code> inside the loop.</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1672675341,"post_id":74984381,"comment_id":132325227,"body_markdown":"Theres no native supports for java.time classes in again. Youll have to write your own serializers.","body":"Theres no native supports for java.time classes in again. Youll have to write your own serializers."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":2,"creation_date":1672675355,"post_id":74984381,"comment_id":132325232,"body_markdown":"I have not used the Gson library; but looking at the JSON, it seems this is how Gson structures a date-time. A simple solution can be creating a new field/attribute and writing the value of `OffsetDateTime::toString` or the value of `OffsetDateTime::format` (for formatted value) to it.","body":"I have not used the Gson library; but looking at the JSON, it seems this is how Gson structures a date-time. A simple solution can be creating a new field/attribute and writing the value of <code>OffsetDateTime::toString</code> or the value of <code>OffsetDateTime::format</code> (for formatted value) to it."}],"answers":[{"tags":[],"owner":{"account_id":1241265,"reputation":4024,"user_id":1203811,"accept_rate":79,"display_name":"jumps4fun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672737018,"creation_date":1672737018,"answer_id":74991184,"question_id":74984381,"body_markdown":"After reading the comments on the question, stating that there are no native support for this on Gson, I decided to look to other libraries.\r\n\r\nAnd I easily achieved my goal, using `com.fasterxml.jackson.databind.ObjectMapper.java`\r\n\r\n    ObjectMapper mapper = new ObjectMapper()\r\n        .registerModule(new JavaTimeModule())\r\n        .configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n\r\n    json = mapper.writeValueAsString(myObject);\r\n","title":"How do I serialize different java DateTime objects as String values, with Gson?","body":"<p>After reading the comments on the question, stating that there are no native support for this on Gson, I decided to look to other libraries.</p>\n<p>And I easily achieved my goal, using <code>com.fasterxml.jackson.databind.ObjectMapper.java</code></p>\n<pre><code>ObjectMapper mapper = new ObjectMapper()\n    .registerModule(new JavaTimeModule())\n    .configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n\njson = mapper.writeValueAsString(myObject);\n</code></pre>\n"}],"owner":{"account_id":1241265,"reputation":4024,"user_id":1203811,"accept_rate":79,"display_name":"jumps4fun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672737018,"creation_date":1672674364,"question_id":74984381,"body_markdown":"I&#39;m in the process of editing some JSON files. I deserialize them into java objects, edit, and then write them back to JSON format, using Gson.\r\n\r\nBut all of my date time objects turn into hierarchical object, instead of the string representation I need.\r\n\r\nBefore (OffsetDateTime):\r\n\r\n      &quot;date&quot;: &quot;2000-04-26T10:10:00Z&quot;\r\n\r\nAfter deserializing, editing, and reserializing again:\r\n\r\n    &quot;date&quot;:{\r\n            &quot;dateTime&quot;:{\r\n              &quot;date&quot;:{\r\n                &quot;year&quot;:2000,\r\n                &quot;month&quot;:1,\r\n                &quot;day&quot;:1\r\n              },\r\n              &quot;time&quot;:{\r\n                &quot;hour&quot;:0,\r\n                &quot;minute&quot;:0,\r\n                &quot;second&quot;:0,\r\n                &quot;nano&quot;:0\r\n              }\r\n            },\r\n            &quot;offset&quot;:{\r\n              &quot;totalSeconds&quot;:0\r\n            }\r\n          }\r\n\r\n   \r\nAnd then my original code for serializing:\r\n\r\n    Gson gson = new GsonBuilder()\r\n                .serializeNulls()             \r\n                .create();\r\n\r\n    String json = gson.toJson(myObject);\r\n\r\nI&#39;ve tried all the solutions in this question: \r\nhttps://stackoverflow.com/questions/6873020/gson-date-format?answertab=modifieddesc#tab-top\r\nBut none of them change anything. I thought it was the same question, but now I think my problem is different. A lot has changed in java, since this question was asked in 2011.\r\n\r\nHere are the concrete examples of lines I have tried to add to my GsonBuilder:\r\n\r\n    .setDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;)\r\n    ...\r\n    .setDateFormat(DateFormat.LONG)\r\n    ...\r\n    .setDateFormat(DateFormat.FULL, DateFormat.FULL)\r\n    \r\n\r\nAnd many more. None make any difference.\r\n\r\nHow can I get Gson to serialize different Java date objects as string representations?\r\n","title":"How do I serialize different java DateTime objects as String values, with Gson?","body":"<p>I'm in the process of editing some JSON files. I deserialize them into java objects, edit, and then write them back to JSON format, using Gson.</p>\n<p>But all of my date time objects turn into hierarchical object, instead of the string representation I need.</p>\n<p>Before (OffsetDateTime):</p>\n<pre><code>  &quot;date&quot;: &quot;2000-04-26T10:10:00Z&quot;\n</code></pre>\n<p>After deserializing, editing, and reserializing again:</p>\n<pre><code>&quot;date&quot;:{\n        &quot;dateTime&quot;:{\n          &quot;date&quot;:{\n            &quot;year&quot;:2000,\n            &quot;month&quot;:1,\n            &quot;day&quot;:1\n          },\n          &quot;time&quot;:{\n            &quot;hour&quot;:0,\n            &quot;minute&quot;:0,\n            &quot;second&quot;:0,\n            &quot;nano&quot;:0\n          }\n        },\n        &quot;offset&quot;:{\n          &quot;totalSeconds&quot;:0\n        }\n      }\n</code></pre>\n<p>And then my original code for serializing:</p>\n<pre><code>Gson gson = new GsonBuilder()\n            .serializeNulls()             \n            .create();\n\nString json = gson.toJson(myObject);\n</code></pre>\n<p>I've tried all the solutions in this question:\n<a href=\"https://stackoverflow.com/questions/6873020/gson-date-format?answertab=modifieddesc#tab-top\">GSON - Date format</a>\nBut none of them change anything. I thought it was the same question, but now I think my problem is different. A lot has changed in java, since this question was asked in 2011.</p>\n<p>Here are the concrete examples of lines I have tried to add to my GsonBuilder:</p>\n<pre><code>.setDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;)\n...\n.setDateFormat(DateFormat.LONG)\n...\n.setDateFormat(DateFormat.FULL, DateFormat.FULL)\n</code></pre>\n<p>And many more. None make any difference.</p>\n<p>How can I get Gson to serialize different Java date objects as string representations?</p>\n"},{"tags":["java","ssl","minecraft"],"owner":{"account_id":24027804,"reputation":1,"user_id":18009191,"display_name":"Orangy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672737010,"creation_date":1672736977,"question_id":74991179,"body_markdown":"So I am trying to make a Minecraft client and I happen to need to download some content (A JSON file) off of a repl. It always worked in the past but now I get this error:\r\n\r\n```\r\n14:27:22.722\r\ngame\r\nat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1497)\r\n14:27:22.722\r\ngame\r\nat sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:212)\r\n14:27:22.722\r\ngame\r\nat sun.security.ssl.Handshaker.processLoop(Handshaker.java:979)\r\n14:27:22.722\r\ngame\r\nat sun.security.ssl.Handshaker.process_record(Handshaker.java:914)\r\n14:27:22.722\r\ngame\r\nat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1062)\r\n14:27:22.722\r\ngame\r\nat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)\r\n14:27:22.722\r\ngame\r\nat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)\r\n14:27:22.722\r\ngame\r\nat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)\r\n14:27:22.722\r\ngame\r\nat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:563)\r\n14:27:22.722\r\ngame\r\nat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n14:27:22.722\r\ngame\r\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1512)\r\n14:27:22.722\r\ngame\r\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1440)\r\n14:27:22.722\r\ngame\r\nat sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\r\n14:27:22.723\r\ngame\r\nat java.net.URL.openStream(URL.java:1038)\r\n14:27:22.723\r\ngame\r\nat org.apache.commons.io.FileUtils.copyURLToFile(FileUtils.java:1460)\r\n14:27:22.723\r\ngame\r\nat orangeclient.cosmetics.CapeChecker$1.run(CapeChecker.java:125)\r\n```\r\n\r\nThis, however, is only happening when I launch the game from the launcher **and not when debugging with eclipse IDE.**\r\n\r\n\r\nI&#39;ve tried making it request to http instead of https but replit just gives me a permanent redirect, and that&#39;s not a JSON.\r\n\r\nOh, and also, don&#39;t tell me to use keypairs and stuff I don&#39;t want to have to do it for every single person that wants to use my client.\r\n\r\nThanks.","title":"javax.net.ssl.SSLHandshakeException getting thrown in Eclipse but not once the project is exported","body":"<p>So I am trying to make a Minecraft client and I happen to need to download some content (A JSON file) off of a repl. It always worked in the past but now I get this error:</p>\n<pre><code>14:27:22.722\ngame\nat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1497)\n14:27:22.722\ngame\nat sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:212)\n14:27:22.722\ngame\nat sun.security.ssl.Handshaker.processLoop(Handshaker.java:979)\n14:27:22.722\ngame\nat sun.security.ssl.Handshaker.process_record(Handshaker.java:914)\n14:27:22.722\ngame\nat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1062)\n14:27:22.722\ngame\nat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1375)\n14:27:22.722\ngame\nat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1403)\n14:27:22.722\ngame\nat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1387)\n14:27:22.722\ngame\nat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:563)\n14:27:22.722\ngame\nat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n14:27:22.722\ngame\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1512)\n14:27:22.722\ngame\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1440)\n14:27:22.722\ngame\nat sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\n14:27:22.723\ngame\nat java.net.URL.openStream(URL.java:1038)\n14:27:22.723\ngame\nat org.apache.commons.io.FileUtils.copyURLToFile(FileUtils.java:1460)\n14:27:22.723\ngame\nat orangeclient.cosmetics.CapeChecker$1.run(CapeChecker.java:125)\n</code></pre>\n<p>This, however, is only happening when I launch the game from the launcher <strong>and not when debugging with eclipse IDE.</strong></p>\n<p>I've tried making it request to http instead of https but replit just gives me a permanent redirect, and that's not a JSON.</p>\n<p>Oh, and also, don't tell me to use keypairs and stuff I don't want to have to do it for every single person that wants to use my client.</p>\n<p>Thanks.</p>\n"},{"tags":["java","eclipse","syntax-error"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":6,"creation_date":1476279932,"post_id":40000269,"comment_id":67278242,"body_markdown":"You have a method call outside of a method which is not possible","body":"You have a method call outside of a method which is not possible"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1476280215,"post_id":40000269,"comment_id":67278483,"body_markdown":"And i am sure it also not works before the Windows update","body":"And i am sure it also not works before the Windows update"},{"owner":{"account_id":1873703,"reputation":5364,"user_id":1695393,"display_name":"dubes"},"score":0,"creation_date":1476280219,"post_id":40000269,"comment_id":67278487,"body_markdown":"the code you have mentioned should not have worked ever. So, when you say Eclipse worked fine a couple of days ago, just want to check if you have given a wrong example or?","body":"the code you have mentioned should not have worked ever. So, when you say Eclipse worked fine a couple of days ago, just want to check if you have given a wrong example or?"}],"answers":[{"tags":[],"owner":{"account_id":225067,"reputation":29525,"user_id":485337,"accept_rate":91,"display_name":"Adam Arold"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476279956,"creation_date":1476279956,"answer_id":40000300,"question_id":40000269,"body_markdown":"You can&#39;t have statements outside of initializer blocks or methods.\r\n\r\nTry something like this:\r\n\r\n    public class Hellomsg {\r\n        {\r\n            System.out.println(&quot;Hello.&quot;);\r\n        }\r\n    }\r\n\r\nor this\r\n\r\n    public class Hellomsg {\r\n        public void printMessage(){\r\n            System.out.println(&quot;Hello.&quot;);\r\n        }\r\n    }","title":"- Syntax error on token &quot;.&quot;, @ expected after this token","body":"<p>You can't have statements outside of initializer blocks or methods.</p>\n\n<p>Try something like this:</p>\n\n<pre><code>public class Hellomsg {\n    {\n        System.out.println(\"Hello.\");\n    }\n}\n</code></pre>\n\n<p>or this</p>\n\n<pre><code>public class Hellomsg {\n    public void printMessage(){\n        System.out.println(\"Hello.\");\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3284624,"reputation":3173,"user_id":2764414,"accept_rate":53,"display_name":"Heisenberg"},"score":2,"creation_date":1476280096,"post_id":40000303,"comment_id":67278383,"body_markdown":"Who the hell gave -1 to this answer? It is the best answer here","body":"Who the hell gave -1 to this answer? It is the best answer here"},{"owner":{"account_id":9232778,"reputation":59,"user_id":6858342,"display_name":"cawe011"},"score":0,"creation_date":1476280719,"post_id":40000303,"comment_id":67278886,"body_markdown":"My god. I had a lot of issues with eclipse before I got this issue. When I solved previous issues I got these error messages because I completely forgot how to write the simplest code. I am very ashamed. Thank you for waking me up.","body":"My god. I had a lot of issues with eclipse before I got this issue. When I solved previous issues I got these error messages because I completely forgot how to write the simplest code. I am very ashamed. Thank you for waking me up."},{"owner":{"account_id":9232778,"reputation":59,"user_id":6858342,"display_name":"cawe011"},"score":0,"creation_date":1476280761,"post_id":40000303,"comment_id":67278917,"body_markdown":"Unfortunately I can&#39;t delete this question now so it is now a permanent symbol for me being a complete noob.","body":"Unfortunately I can&#39;t delete this question now so it is now a permanent symbol for me being a complete noob."}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":3,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1476279974,"creation_date":1476279974,"answer_id":40000303,"question_id":40000269,"body_markdown":"You can&#39;t just have statements floating in the middle of classes in Java. You either need to put them in methods:\r\n\r\n    package lab6;\r\n    \r\n    public class Hellomsg {\r\n        public void myMethod() {\r\n             System.out.println(&quot;Hello.&quot;);\r\n        }\r\n    }\r\n\r\nOr in `static` blocks:\r\n\r\n    package lab6;\r\n    \r\n    public class Hellomsg {\r\n        static {\r\n             System.out.println(&quot;Hello.&quot;);\r\n        }\r\n    }","title":"- Syntax error on token &quot;.&quot;, @ expected after this token","body":"<p>You can't just have statements floating in the middle of classes in Java. You either need to put them in methods:</p>\n\n<pre><code>package lab6;\n\npublic class Hellomsg {\n    public void myMethod() {\n         System.out.println(\"Hello.\");\n    }\n}\n</code></pre>\n\n<p>Or in <code>static</code> blocks:</p>\n\n<pre><code>package lab6;\n\npublic class Hellomsg {\n    static {\n         System.out.println(\"Hello.\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1476279992,"creation_date":1476279992,"answer_id":40000310,"question_id":40000269,"body_markdown":"You have a method call outside of a method which is not possible.\r\n\r\nCorrect code Looks like:\r\n\r\n    public class Hellomsg {\r\n      public static void main(String[] args) { \r\n        System.out.println(&quot;Hello.&quot;);\r\n        }\r\n    }","title":"- Syntax error on token &quot;.&quot;, @ expected after this token","body":"<p>You have a method call outside of a method which is not possible.</p>\n\n<p>Correct code Looks like:</p>\n\n<pre><code>public class Hellomsg {\n  public static void main(String[] args) { \n    System.out.println(\"Hello.\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26604654,"reputation":103,"user_id":20225739,"display_name":"Theri Muthu Selvam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672736914,"creation_date":1672736383,"answer_id":74991092,"question_id":40000269,"body_markdown":"Just now I too faced the same issue, so I think I can answer this question.\r\n\r\nYou have to write the code inside the methods not on the class, class are generally used to do some initialization for the variables and writing methods.\r\n\r\nSo for your issue, I&#39;m just adding your statement inside the main function.\r\n\r\n    package lab6;\r\n    public class Hellomsg {\r\n      public static void main(String args[]){\r\n        System.out.println(&quot;Hello.&quot;);\r\n      }\r\n    }\r\n\r\nExecute the above, the code will work now.\r\n","title":"- Syntax error on token &quot;.&quot;, @ expected after this token","body":"<p>Just now I too faced the same issue, so I think I can answer this question.</p>\n<p>You have to write the code inside the methods not on the class, class are generally used to do some initialization for the variables and writing methods.</p>\n<p>So for your issue, I'm just adding your statement inside the main function.</p>\n<pre><code>package lab6;\npublic class Hellomsg {\n  public static void main(String args[]){\n    System.out.println(&quot;Hello.&quot;);\n  }\n}\n</code></pre>\n<p>Execute the above, the code will work now.</p>\n"}],"owner":{"account_id":9232778,"reputation":59,"user_id":6858342,"display_name":"cawe011"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39420,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":4,"score":4,"last_activity_date":1672736914,"creation_date":1476279858,"question_id":40000269,"body_markdown":"My Eclipse worked fine a couple of days ago before a Windows update. Now I get error messages whenever I&#39;m trying to do anything in Eclipse. Just a simple program as this will display a bunch of error messages:\r\n    \r\n    package lab6;\r\n    \r\n    public class Hellomsg {\r\n\t    System.out.println(&quot;Hello.&quot;);\r\n    \r\n    }\r\n\r\nThese are the errors I receive on the same line as I have my \r\n\r\n    &quot;System.out.println&quot;:\r\n    &quot;Multiple markers at this line\r\n    \r\n    - Syntax error, insert &quot;)&quot; to complete MethodDeclaration\r\n    - Syntax error on token &quot;.&quot;, @ expected after this token\r\n    - Syntax error, insert &quot;Identifier (&quot; to complete MethodHeaderName&quot;\r\n","title":"- Syntax error on token &quot;.&quot;, @ expected after this token","body":"<p>My Eclipse worked fine a couple of days ago before a Windows update. Now I get error messages whenever I'm trying to do anything in Eclipse. Just a simple program as this will display a bunch of error messages:</p>\n\n<pre><code>package lab6;\n\npublic class Hellomsg {\n    System.out.println(\"Hello.\");\n\n}\n</code></pre>\n\n<p>These are the errors I receive on the same line as I have my </p>\n\n<pre><code>\"System.out.println\":\n\"Multiple markers at this line\n\n- Syntax error, insert \")\" to complete MethodDeclaration\n- Syntax error on token \".\", @ expected after this token\n- Syntax error, insert \"Identifier (\" to complete MethodHeaderName\"\n</code></pre>\n"},{"tags":["java","appium","appium-desktop"],"answers":[{"tags":[],"owner":{"account_id":7979274,"reputation":57,"user_id":6021277,"accept_rate":0,"display_name":"monil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633090323,"creation_date":1632829029,"answer_id":69361025,"question_id":69359123,"body_markdown":"install appium 2.0 using below command \r\n\r\n    npm install -g appium@next\r\n\r\nMake sure there path for nodejs in system environment variable\r\nIn User Variable add new Key NODE_PATH and APPIUM_PATH \r\n\r\nFor NODE_PATH put value as C:\\Program Files\\nodejs\\node.exe\r\n\r\nFor APPIUM_PATH put value as C:\\Users\\&lt;user_name&gt;\\AppData\\Roaming\\npm\\node_modules\\appium\\node_modules\\.bin\r\n\r\nYou add below line to your code to above \r\nbuilder = new AppiumServiceBuilder().withArgument(() -&gt; &quot;--base-path&quot;, &quot;/wd/hub&quot;).withArgument(() -&gt; &quot;--plugins&quot;, &quot;images&quot;);\r\n\r\nThis is complete code \r\n\r\n\r\n    AppiumServiceBuilder builder;\r\n            builder = new AppiumServiceBuilder().withArgument(() -&gt; &quot;--base-path&quot;, &quot;/wd/hub&quot;).withArgument(() -&gt; &quot;--plugins&quot;, &quot;images&quot;);\r\n            builder.usingAnyFreePort();\r\n            builder.usingDriverExecutable(new File(&quot;C:\\\\Program Files\\\\nodejs\\\\node.exe&quot;));\r\n            builder.withAppiumJS(new File(&quot;C:\\\\Users\\\\&lt;user_name\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\appium&quot;));\r\n            HashMap&lt;String, String&gt; environment = new HashMap();\r\n            environment.put(&quot;PATH&quot;, &quot;/usr/local/bin:&quot; + System.getenv(&quot;PATH&quot;));\r\n            builder.withEnvironment(environment);\r\n            service = AppiumDriverLocalService.buildService(builder);\r\n            service.start();\r\n            DesiredCapabilities capabilities = new DesiredCapabilities();\r\n            capabilities.setCapability(&quot;appium:platformName&quot;, &quot;Android&quot;);\r\n            capabilities.setCapability(&quot;deviceName&quot;, &quot;Android Emulator&quot;);\r\n            capabilities.setCapability(&quot;appium:automationName&quot;, &quot;UiAutomator2&quot;);\r\n            capabilities.setCapability(&quot;app&quot;, &quot;path_to_app\\\\app\\\\Learn_Android_With_Source_Code.apk&quot;);\r\n    \r\n            androidDriver = new AndroidDriver&lt;AndroidElement&gt;(service.getUrl(), capabilities);\r\n            androidDriver.manage().timeouts().implicitlyWait(3, TimeUnit.SECONDS);\r\n            return androidDriver;\r\n\r\n","title":"How to start Appium server 2.0 Programmatically","body":"<p>install appium 2.0 using below command</p>\n<pre><code>npm install -g appium@next\n</code></pre>\n<p>Make sure there path for nodejs in system environment variable\nIn User Variable add new Key NODE_PATH and APPIUM_PATH</p>\n<p>For NODE_PATH put value as C:\\Program Files\\nodejs\\node.exe</p>\n<p>For APPIUM_PATH put value as C:\\Users&lt;user_name&gt;\\AppData\\Roaming\\npm\\node_modules\\appium\\node_modules.bin</p>\n<p>You add below line to your code to above\nbuilder = new AppiumServiceBuilder().withArgument(() -&gt; &quot;--base-path&quot;, &quot;/wd/hub&quot;).withArgument(() -&gt; &quot;--plugins&quot;, &quot;images&quot;);</p>\n<p>This is complete code</p>\n<pre><code>AppiumServiceBuilder builder;\n        builder = new AppiumServiceBuilder().withArgument(() -&gt; &quot;--base-path&quot;, &quot;/wd/hub&quot;).withArgument(() -&gt; &quot;--plugins&quot;, &quot;images&quot;);\n        builder.usingAnyFreePort();\n        builder.usingDriverExecutable(new File(&quot;C:\\\\Program Files\\\\nodejs\\\\node.exe&quot;));\n        builder.withAppiumJS(new File(&quot;C:\\\\Users\\\\&lt;user_name\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\appium&quot;));\n        HashMap&lt;String, String&gt; environment = new HashMap();\n        environment.put(&quot;PATH&quot;, &quot;/usr/local/bin:&quot; + System.getenv(&quot;PATH&quot;));\n        builder.withEnvironment(environment);\n        service = AppiumDriverLocalService.buildService(builder);\n        service.start();\n        DesiredCapabilities capabilities = new DesiredCapabilities();\n        capabilities.setCapability(&quot;appium:platformName&quot;, &quot;Android&quot;);\n        capabilities.setCapability(&quot;deviceName&quot;, &quot;Android Emulator&quot;);\n        capabilities.setCapability(&quot;appium:automationName&quot;, &quot;UiAutomator2&quot;);\n        capabilities.setCapability(&quot;app&quot;, &quot;path_to_app\\\\app\\\\Learn_Android_With_Source_Code.apk&quot;);\n\n        androidDriver = new AndroidDriver&lt;AndroidElement&gt;(service.getUrl(), capabilities);\n        androidDriver.manage().timeouts().implicitlyWait(3, TimeUnit.SECONDS);\n        return androidDriver;\n</code></pre>\n"}],"owner":{"account_id":7979274,"reputation":57,"user_id":6021277,"accept_rate":0,"display_name":"monil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2433,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672736813,"creation_date":1632821279,"question_id":69359123,"body_markdown":"I am aware of starting Appium 1.x programmatically but not able to do it for Appium 2.0\r\n\r\n    AppiumServiceBuilder builder = new AppiumServiceBuilder();\r\n        builder.usingAnyFreePort();\r\n        builder.usingDriverExecutable(new File(&quot;&lt;path to Node&gt;\\\\node.exe&quot;));\r\n        builder.withAppiumJS(new File(&quot;&lt;path to Appium&gt;\\\\appium&quot;));\r\n        HashMap&lt;String, String&gt; environment = new HashMap();\r\n        environment.put(&quot;PATH&quot;, &quot;/usr/local/bin:&quot; + System.getenv(&quot;PATH&quot;));\r\n        builder.withEnvironment(environment);\r\n        service = AppiumDriverLocalService.buildService(builder);\r\n        service.start();\r\n        ","title":"How to start Appium server 2.0 Programmatically","body":"<p>I am aware of starting Appium 1.x programmatically but not able to do it for Appium 2.0</p>\n<pre><code>AppiumServiceBuilder builder = new AppiumServiceBuilder();\n    builder.usingAnyFreePort();\n    builder.usingDriverExecutable(new File(&quot;&lt;path to Node&gt;\\\\node.exe&quot;));\n    builder.withAppiumJS(new File(&quot;&lt;path to Appium&gt;\\\\appium&quot;));\n    HashMap&lt;String, String&gt; environment = new HashMap();\n    environment.put(&quot;PATH&quot;, &quot;/usr/local/bin:&quot; + System.getenv(&quot;PATH&quot;));\n    builder.withEnvironment(environment);\n    service = AppiumDriverLocalService.buildService(builder);\n    service.start();\n    \n</code></pre>\n"},{"tags":["java","vert.x"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1672736859,"post_id":74990963,"comment_id":132336809,"body_markdown":"Think about what you are doing here: if you invoke `getInstance(&quot;bp1&quot;, &quot;bp2&quot;)`, and then `getInstance(&quot;bp3&quot;, &quot;bp4&quot;)`, you don&#39;t get a correctly-constructed `Api` back - you get the one for the previous (first) invocation. This is simply a bad idea. There&#39;s no real need to limit the construction of these instances - they are very cheap to construct. Why do you think construction on demand (statically) is better than construction on demand (at the point of use)?","body":"Think about what you are doing here: if you invoke <code>getInstance(&quot;bp1&quot;, &quot;bp2&quot;)</code>, and then <code>getInstance(&quot;bp3&quot;, &quot;bp4&quot;)</code>, you don&#39;t get a correctly-constructed <code>Api</code> back - you get the one for the previous (first) invocation. This is simply a bad idea. There&#39;s no real need to limit the construction of these instances - they are very cheap to construct. Why do you think construction on demand (statically) is better than construction on demand (at the point of use)?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1672737024,"post_id":74990963,"comment_id":132336867,"body_markdown":"To answer your question more directly: initialization on demand does not work well/at all with parameters.","body":"To answer your question more directly: initialization on demand does not work well/at all with parameters."},{"owner":{"account_id":27418729,"reputation":1,"user_id":20917525,"display_name":"Shreelakshmi Joshi"},"score":0,"creation_date":1672743620,"post_id":74990963,"comment_id":132339007,"body_markdown":"Hi @Andy Turner, thanks for suggesting! Here are multiple classes like Api class doing a single thing. So, making a lot of instances that might of these different classes, might take up some space in the memory which is not very useful.","body":"Hi @Andy Turner, thanks for suggesting! Here are multiple classes like Api class doing a single thing. So, making a lot of instances that might of these different classes, might take up some space in the memory which is not very useful."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1672748850,"post_id":74990963,"comment_id":132340614,"body_markdown":"It&#39;s far more useful to have many instances of a class than it is to (unknowingly) have one instance of a class which does the wrong thing. The memory usage of the class you have shown is basically irrelevant.","body":"It&#39;s far more useful to have many instances of a class than it is to (unknowingly) have one instance of a class which does the wrong thing. The memory usage of the class you have shown is basically irrelevant."}],"owner":{"account_id":27418729,"reputation":1,"user_id":20917525,"display_name":"Shreelakshmi Joshi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672736785,"creation_date":1672735679,"question_id":74990963,"body_markdown":"[Here is the link to initialization on demand holder idiom ](https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom#Example_Java_Implementation)\r\nI&#39;ve created a class with Singleton design pattern and double locking strategy. I want to change this class to use initialization on demand holder, but I couldn&#39;t accross examples where this is parameterized.\r\n\r\n1. How should I pass the parameters `basePath1`, `basePath2` while using initialization on demand holder pattern ?\r\n2. Would the present code and code with initialization on demand holder pattern cause any concurrency issues ?\r\n\r\n\r\n\r\n```\r\n\r\npublic class Api {\r\nprivate String basePath1;\r\nprivate String basePath2;\r\n\r\n    private StringBuilder temporalEndpoint;\r\n    private StringBuilder spatialEndpoint;\r\n    private StringBuilder fileUploadEndpoint;\r\n    private StringBuilder fileDownloadEndpoint;\r\n    private StringBuilder fileDeleteEndpoint;\r\n    private StringBuilder listMetaDataEndpoint;\r\n    private static final Logger LOG = LogManager.getLogger(Api.class);\r\n    \r\n    private static volatile Api apiInstance;\r\n    \r\n    \r\n    \r\n    private Api(String basePath1, String basePath2) {\r\n        this.basePath1 = basePath1;\r\n        this.basePath2 = basePath2;\r\n        buildEndpoints();\r\n    }\r\n    \r\n    public static Api getInstance(String basePath1, String basePath2)\r\n    {\r\n        if(apiInstance == null)\r\n        {\r\n                synchronized(Api.class)\r\n                  {\r\n                         if(apiInstance == null)\r\n                          {\r\n                                  apiInstance = new Api(basePath1, basePath2);\r\n                            }\r\n                 }\r\n             }\r\n        return apiInstance;\r\n    }\r\n    \r\n    public void buildEndpoints() {\r\n        temporalEndpoint = new StringBuilder(basePath1).append(API_TEMPORAL);\r\n        spatialEndpoint = new StringBuilder(basePath1).append(API_SPATIAL);\r\n        fileUploadEndpoint = new StringBuilder(basePath1).append(API_FILE_UPLOAD);\r\n        fileDownloadEndpoint = new StringBuilder(basePath1).append(API_FILE_DOWNLOAD);\r\n        fileDeleteEndpoint = new StringBuilder(basePath2).append(API_FILE_DELETE);\r\n        listMetaDataEndpoint = new StringBuilder(basePath2).append(API_LIST_METADATA);\r\n    }\r\n```","title":"How does initialization on demand holder idiom work with parameters?","body":"<p><a href=\"https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom#Example_Java_Implementation\" rel=\"nofollow noreferrer\">Here is the link to initialization on demand holder idiom </a>\nI've created a class with Singleton design pattern and double locking strategy. I want to change this class to use initialization on demand holder, but I couldn't accross examples where this is parameterized.</p>\n<ol>\n<li>How should I pass the parameters <code>basePath1</code>, <code>basePath2</code> while using initialization on demand holder pattern ?</li>\n<li>Would the present code and code with initialization on demand holder pattern cause any concurrency issues ?</li>\n</ol>\n<pre><code>\npublic class Api {\nprivate String basePath1;\nprivate String basePath2;\n\n    private StringBuilder temporalEndpoint;\n    private StringBuilder spatialEndpoint;\n    private StringBuilder fileUploadEndpoint;\n    private StringBuilder fileDownloadEndpoint;\n    private StringBuilder fileDeleteEndpoint;\n    private StringBuilder listMetaDataEndpoint;\n    private static final Logger LOG = LogManager.getLogger(Api.class);\n    \n    private static volatile Api apiInstance;\n    \n    \n    \n    private Api(String basePath1, String basePath2) {\n        this.basePath1 = basePath1;\n        this.basePath2 = basePath2;\n        buildEndpoints();\n    }\n    \n    public static Api getInstance(String basePath1, String basePath2)\n    {\n        if(apiInstance == null)\n        {\n                synchronized(Api.class)\n                  {\n                         if(apiInstance == null)\n                          {\n                                  apiInstance = new Api(basePath1, basePath2);\n                            }\n                 }\n             }\n        return apiInstance;\n    }\n    \n    public void buildEndpoints() {\n        temporalEndpoint = new StringBuilder(basePath1).append(API_TEMPORAL);\n        spatialEndpoint = new StringBuilder(basePath1).append(API_SPATIAL);\n        fileUploadEndpoint = new StringBuilder(basePath1).append(API_FILE_UPLOAD);\n        fileDownloadEndpoint = new StringBuilder(basePath1).append(API_FILE_DOWNLOAD);\n        fileDeleteEndpoint = new StringBuilder(basePath2).append(API_FILE_DELETE);\n        listMetaDataEndpoint = new StringBuilder(basePath2).append(API_LIST_METADATA);\n    }\n</code></pre>\n"},{"tags":["java","json","spring","serialization","jackson"],"comments":[{"owner":{"account_id":4279009,"reputation":7633,"user_id":3498962,"display_name":"Essex Boy"},"score":0,"creation_date":1477299849,"post_id":40214080,"comment_id":67692952,"body_markdown":"Why do you need access to the Spring mapper, why don&#39;t you just create your own?","body":"Why do you need access to the Spring mapper, why don&#39;t you just create your own?"},{"owner":{"account_id":2028664,"reputation":6942,"user_id":1812993,"accept_rate":80,"display_name":"melchoir55"},"score":0,"creation_date":1477455198,"post_id":40214080,"comment_id":67769211,"body_markdown":"The answer to my question could include that, but that wouldn&#39;t fully answer the question. If I were to create my own mapper, how would I get spring boot to start using it?","body":"The answer to my question could include that, but that wouldn&#39;t fully answer the question. If I were to create my own mapper, how would I get spring boot to start using it?"}],"answers":[{"comments":[{"owner":{"account_id":2028664,"reputation":6942,"user_id":1812993,"accept_rate":80,"display_name":"melchoir55"},"score":0,"creation_date":1477455538,"post_id":40214723,"comment_id":67769315,"body_markdown":"I think to mark the question as answered this should also describe how to get sping boot to start using this mapper for future deserialization attempts. Is that even possible? For example, any endpoint using `@RequestBody Object obj` should be deserialized with this mapper.","body":"I think to mark the question as answered this should also describe how to get sping boot to start using this mapper for future deserialization attempts. Is that even possible? For example, any endpoint using <code>@RequestBody Object obj</code> should be deserialized with this mapper."},{"owner":{"account_id":8661253,"reputation":1840,"user_id":6483580,"display_name":"Raj Saraogi"},"score":1,"creation_date":1651041297,"post_id":40214723,"comment_id":127264423,"body_markdown":"How can we set custom scale and precision in this deserializer ?","body":"How can we set custom scale and precision in this deserializer ?"},{"owner":{"account_id":97313,"reputation":6321,"user_id":264028,"accept_rate":75,"display_name":"Joaqu&#237;n L. Robles"},"score":0,"creation_date":1672151989,"post_id":40214723,"comment_id":132230512,"body_markdown":"is there a way to set this with class level annotations?","body":"is there a way to set this with class level annotations?"}],"tags":[],"owner":{"account_id":178596,"reputation":10817,"user_id":410677,"accept_rate":78,"display_name":"kuhajeyan"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1477300592,"creation_date":1477300592,"answer_id":40214723,"question_id":40214080,"body_markdown":"\r\n\r\n    @JsonCreator\r\n    public OptionTransaction(Map&lt;String,Object&gt; jsonObj){  \r\n        Map&lt;String,Object&gt; jsonOption = (Map&lt;String, Object&gt;) jsonObj.get(&quot;option&quot;);\r\n    \r\n        Map&lt;String,Object&gt; optionPriceObj = (Map&lt;String, Object&gt;) jsonOption.get(&quot;price&quot;);\r\n        BigDecimal optionValue = new BigDecimal((Double) optionPriceObj.get(&quot;value&quot;));\r\n    }\r\n..\r\n\r\n\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.enable(DeserializationFeature.USE_BIG_DECIMAL_FOR_FLOATS);\r\n    \r\n    OptionTransaction transaction = mapper.readValue(jsonString, OptionTransaction.class);\r\n\r\nhttps://github.com/FasterXML/jackson-databind/wiki/Deserialization-Features","title":"Force spring boot jackson deserializer to use BigDecimal","body":"<pre><code>@JsonCreator\npublic OptionTransaction(Map&lt;String,Object&gt; jsonObj){  \n    Map&lt;String,Object&gt; jsonOption = (Map&lt;String, Object&gt;) jsonObj.get(\"option\");\n\n    Map&lt;String,Object&gt; optionPriceObj = (Map&lt;String, Object&gt;) jsonOption.get(\"price\");\n    BigDecimal optionValue = new BigDecimal((Double) optionPriceObj.get(\"value\"));\n}\n</code></pre>\n\n<p>..</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.enable(DeserializationFeature.USE_BIG_DECIMAL_FOR_FLOATS);\n\nOptionTransaction transaction = mapper.readValue(jsonString, OptionTransaction.class);\n</code></pre>\n\n<p><a href=\"https://github.com/FasterXML/jackson-databind/wiki/Deserialization-Features\" rel=\"noreferrer\">https://github.com/FasterXML/jackson-databind/wiki/Deserialization-Features</a></p>\n"},{"tags":[],"owner":{"account_id":6996271,"reputation":303,"user_id":5363858,"display_name":"PlickPlick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672736555,"creation_date":1672736555,"answer_id":74991123,"question_id":40214080,"body_markdown":"    @Configuration\r\n    public class JacksonConfig {\r\n\r\n        @Bean\r\n        @Primary\r\n        public ObjectMapper jacksonObjectMapper(Jackson2ObjectMapperBuilder builder) {\r\n            return builder\r\n                    .modules(new ParameterNamesModule(JsonCreator.Mode.PROPERTIES), new JavaTimeModule())\r\n                    .deserializers( new NumberDeserializers.BigDecimalDeserializer())\r\n                    .featuresToEnable(MapperFeature.AUTO_DETECT_CREATORS)\r\n                    .build();\r\n        }\r\n    }","title":"Force spring boot jackson deserializer to use BigDecimal","body":"<pre><code>@Configuration\npublic class JacksonConfig {\n\n    @Bean\n    @Primary\n    public ObjectMapper jacksonObjectMapper(Jackson2ObjectMapperBuilder builder) {\n        return builder\n                .modules(new ParameterNamesModule(JsonCreator.Mode.PROPERTIES), new JavaTimeModule())\n                .deserializers( new NumberDeserializers.BigDecimalDeserializer())\n                .featuresToEnable(MapperFeature.AUTO_DETECT_CREATORS)\n                .build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2028664,"reputation":6942,"user_id":1812993,"accept_rate":80,"display_name":"melchoir55"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17684,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1672736555,"creation_date":1477298504,"question_id":40214080,"body_markdown":"I&#39;m having a problem in which jackson is deserializing numeric values into arbitrary types which I cannot predict. For example, if someone passes the value &quot;14&quot;, jackson will instantiate it as an `Integer`. However, if someone passes the value &quot;14.01&quot; then jackson will instantiate it as a `Double`. This is a problem because I have a custom deserializer (`@JsonCreator`) which is throwing exceptions since I cannot predictable cast the field into a BigDecimal. Ideally jackson would just turn everything into a `BigDecimal`.\r\n\r\nI found a post which suggests that Jackson might be capable of doing something like this.\r\nhttps://stackoverflow.com/questions/16309840/deserialize-json-into-a-generic-map-forcing-all-json-floats-into-decimal-or-str\r\n\r\nHowever, I can&#39;t figure out how to access the mapper object hidden inside Spring Boot in order to run the appropriate method `mapper.enable()`.\r\n\r\nHere is a snippet of the deserializer:\r\n\r\n    @JsonCreator\r\n    public OptionTransaction(Map&lt;String,Object&gt; jsonObj){  \r\n        Map&lt;String,Object&gt; jsonOption = (Map&lt;String, Object&gt;) jsonObj.get(&quot;option&quot;);\r\n        \r\n        Map&lt;String,Object&gt; optionPriceObj = (Map&lt;String, Object&gt;) jsonOption.get(&quot;price&quot;);\r\n        BigDecimal optionValue = new BigDecimal((Double) optionPriceObj.get(&quot;value&quot;));\r\n\r\nAs you can see above, that `Double` cast is a problem because jackson is sometimes not feeding in doubles. Does anyone know an easy way to get jackson to either always output BigDecimals, or even just strings?\r\n\r\n**UPDATE:**\r\n\r\nAs far as getting doubles converted to BigDecimal, I accomplished this by modifying application.properties in the following way:\r\n\r\n    # ===============================\r\n    # = DESERIALIZATION CUSTOMIZATION\r\n    # ===============================\r\n    spring.jackson.deserialization.USE_BIG_DECIMAL_FOR_FLOATS=true","title":"Force spring boot jackson deserializer to use BigDecimal","body":"<p>I'm having a problem in which jackson is deserializing numeric values into arbitrary types which I cannot predict. For example, if someone passes the value \"14\", jackson will instantiate it as an <code>Integer</code>. However, if someone passes the value \"14.01\" then jackson will instantiate it as a <code>Double</code>. This is a problem because I have a custom deserializer (<code>@JsonCreator</code>) which is throwing exceptions since I cannot predictable cast the field into a BigDecimal. Ideally jackson would just turn everything into a <code>BigDecimal</code>.</p>\n\n<p>I found a post which suggests that Jackson might be capable of doing something like this.\n<a href=\"https://stackoverflow.com/questions/16309840/deserialize-json-into-a-generic-map-forcing-all-json-floats-into-decimal-or-str\">Deserialize JSON into a generic map, forcing all JSON floats into Decimal or String, in Jackson</a></p>\n\n<p>However, I can't figure out how to access the mapper object hidden inside Spring Boot in order to run the appropriate method <code>mapper.enable()</code>.</p>\n\n<p>Here is a snippet of the deserializer:</p>\n\n<pre><code>@JsonCreator\npublic OptionTransaction(Map&lt;String,Object&gt; jsonObj){  \n    Map&lt;String,Object&gt; jsonOption = (Map&lt;String, Object&gt;) jsonObj.get(\"option\");\n\n    Map&lt;String,Object&gt; optionPriceObj = (Map&lt;String, Object&gt;) jsonOption.get(\"price\");\n    BigDecimal optionValue = new BigDecimal((Double) optionPriceObj.get(\"value\"));\n</code></pre>\n\n<p>As you can see above, that <code>Double</code> cast is a problem because jackson is sometimes not feeding in doubles. Does anyone know an easy way to get jackson to either always output BigDecimals, or even just strings?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>As far as getting doubles converted to BigDecimal, I accomplished this by modifying application.properties in the following way:</p>\n\n<pre><code># ===============================\n# = DESERIALIZATION CUSTOMIZATION\n# ===============================\nspring.jackson.deserialization.USE_BIG_DECIMAL_FOR_FLOATS=true\n</code></pre>\n"},{"tags":["java","arrays","sorting"],"answers":[{"comments":[{"owner":{"account_id":3611072,"reputation":75,"user_id":3012019,"display_name":"user3012019"},"score":0,"creation_date":1425591677,"post_id":28888149,"comment_id":46037735,"body_markdown":"Thanks it did, its exactly what i was trying to do","body":"Thanks it did, its exactly what i was trying to do"},{"owner":{"account_id":6281389,"reputation":387,"user_id":4882274,"accept_rate":100,"display_name":"largoWinch"},"score":0,"creation_date":1582630955,"post_id":28888149,"comment_id":106836201,"body_markdown":"But, are you making the array smaller? Because in the method mergesort(int[] a), you are questioning about a.length.","body":"But, are you making the array smaller? Because in the method mergesort(int[] a), you are questioning about a.length."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1672736714,"post_id":28888149,"comment_id":132336760,"body_markdown":"I don&#39;t think you need to call `mergeSort` twice - just once, before the `copyOfRange`s, should be fine.","body":"I don&#39;t think you need to call <code>mergeSort</code> twice - just once, before the <code>copyOfRange</code>s, should be fine."}],"tags":[],"owner":{"account_id":2229327,"reputation":7023,"user_id":1967345,"accept_rate":78,"display_name":"Laerte"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1425591123,"creation_date":1425591123,"answer_id":28888149,"question_id":28887966,"body_markdown":"To make it dynamically, do it based on array length and split it in two:\r\n\r\n    int [] x= {8,7,5,6,2,4,3,1};\r\n    int len = x.length;\r\n    \r\n    int a[] = Arrays.copyOfRange(mergeSort(x), 0, len/2);\r\n    int b[] = Arrays.copyOfRange(mergeSort(x), (len/2), len);\r\n    \r\n    System.out.println(&quot;A: &quot; + Arrays.toString(a));\r\n    System.out.println(&quot;B: &quot; + Arrays.toString(b));\r\n\r\nHope it helps.","title":"How To Split an Array in half in java","body":"<p>To make it dynamically, do it based on array length and split it in two:</p>\n\n<pre><code>int [] x= {8,7,5,6,2,4,3,1};\nint len = x.length;\n\nint a[] = Arrays.copyOfRange(mergeSort(x), 0, len/2);\nint b[] = Arrays.copyOfRange(mergeSort(x), (len/2), len);\n\nSystem.out.println(\"A: \" + Arrays.toString(a));\nSystem.out.println(\"B: \" + Arrays.toString(b));\n</code></pre>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672736553,"creation_date":1654765303,"answer_id":72557507,"question_id":28887966,"body_markdown":"An edit to the accepted answer could take into account that half an odd numbered int is actually the nearest, smaller, whole number, to the half. So, something like this is more appropriate:\r\n\r\n    int size = array.size();\r\n\tint half = size % 2 == 0 ? size / 2 : (size / 2) + 1;","title":"How To Split an Array in half in java","body":"<p>An edit to the accepted answer could take into account that half an odd numbered int is actually the nearest, smaller, whole number, to the half. So, something like this is more appropriate:</p>\n<pre><code>int size = array.size();\nint half = size % 2 == 0 ? size / 2 : (size / 2) + 1;\n</code></pre>\n"}],"owner":{"account_id":3611072,"reputation":75,"user_id":3012019,"display_name":"user3012019"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20321,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":28888149,"answer_count":2,"score":5,"last_activity_date":1672736553,"creation_date":1425590502,"question_id":28887966,"body_markdown":"I need to split this array after it is sorted so that it prints something like\r\n\r\nA: [8, 7, 6, 5]\r\n\r\nB: [4, 3, 2, 1]\r\n\r\nI know it might be simple but I cant figure it out. Do I need to do something like x.length / 2 ?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        \r\n\r\n\r\n     import java.util.Arrays;\r\n\r\n\r\n    public class RecursiveMerge\r\n    {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tint [] x= {8,7,5,6,2,4,3,1};\r\n\t\tSystem.out.println(Arrays.toString(x));\r\n\t\tSystem.out.println(Arrays.toString(mergeSort(x)));\r\n\r\n\r\n\r\n    }\r\n\r\n\tpublic static int [] mergeSort (int []a)\r\n\t{\r\n\t\tif(a.length ==1)\r\n\t\t\treturn a;\r\n\t\telse\r\n\t\t{\r\n\t\tint mid =  a.length/2;\r\n\t\tint [] left =mergeSort(Arrays.copyOfRange(a, 0 , mid ));\r\n\t\tint [] right =mergeSort(Arrays.copyOfRange(a, mid, a.length ));\r\n\r\n\t\tmergeSort(left);\r\n\t\tmergeSort(right);\r\n\r\n\t\treturn merge (left, right);\r\n\t\t}\r\n\t}\r\n\tpublic static int[] merge (int[] left, int[] right)\r\n\t{\r\n\tint [] result = new int [left.length + right.length];\r\n\r\n\tint leftPtr=0, rightPtr=0, resultPtr=0;\r\n\r\n\r\n\twhile(leftPtr &lt; left.length &amp;&amp; rightPtr &lt; right.length)\r\n\t\tif (left[leftPtr] &lt; right [rightPtr])\r\n\t\t\tresult[resultPtr++] = left[leftPtr++];\r\n\t\telse\r\n\t\t\tresult[resultPtr++] = right[rightPtr++];\r\n\twhile (leftPtr &lt; left.length)\r\n\t\tresult[resultPtr++] = left[leftPtr++];\r\n\twhile (rightPtr &lt;right.length)\r\n\t\tresult[resultPtr++] = right[rightPtr++];\r\n\treturn result;\r\n\r\n \t}\r\n    }","title":"How To Split an Array in half in java","body":"<p>I need to split this array after it is sorted so that it prints something like</p>\n\n<p>A: [8, 7, 6, 5]</p>\n\n<p>B: [4, 3, 2, 1]</p>\n\n<p>I know it might be simple but I cant figure it out. Do I need to do something like x.length / 2 ?</p>\n\n<pre><code> import java.util.Arrays;\n\n\npublic class RecursiveMerge\n{\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    int [] x= {8,7,5,6,2,4,3,1};\n    System.out.println(Arrays.toString(x));\n    System.out.println(Arrays.toString(mergeSort(x)));\n\n\n\n}\n\npublic static int [] mergeSort (int []a)\n{\n    if(a.length ==1)\n        return a;\n    else\n    {\n    int mid =  a.length/2;\n    int [] left =mergeSort(Arrays.copyOfRange(a, 0 , mid ));\n    int [] right =mergeSort(Arrays.copyOfRange(a, mid, a.length ));\n\n    mergeSort(left);\n    mergeSort(right);\n\n    return merge (left, right);\n    }\n}\npublic static int[] merge (int[] left, int[] right)\n{\nint [] result = new int [left.length + right.length];\n\nint leftPtr=0, rightPtr=0, resultPtr=0;\n\n\nwhile(leftPtr &lt; left.length &amp;&amp; rightPtr &lt; right.length)\n    if (left[leftPtr] &lt; right [rightPtr])\n        result[resultPtr++] = left[leftPtr++];\n    else\n        result[resultPtr++] = right[rightPtr++];\nwhile (leftPtr &lt; left.length)\n    result[resultPtr++] = left[leftPtr++];\nwhile (rightPtr &lt;right.length)\n    result[resultPtr++] = right[rightPtr++];\nreturn result;\n\n}\n}\n</code></pre>\n"},{"tags":["java","jsp","scriptlet"],"comments":[{"owner":{"account_id":886634,"reputation":452,"user_id":925928,"accept_rate":80,"display_name":"Sheldon R."},"score":22,"creation_date":1424961013,"post_id":3177733,"comment_id":45772536,"body_markdown":"@Koray Tugay, as long as the counter variable is declared somewhere prior to its use, then it&#39;s most certainly valid...","body":"@Koray Tugay, as long as the counter variable is declared somewhere prior to its use, then it&#39;s most certainly valid..."},{"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1508693804,"post_id":3177733,"comment_id":80701261,"body_markdown":"@SheldonR. This is valid: &lt;%= counter++ %&gt; or this: &lt;%! int counter = 0; int x = counter++; %&gt; but not: &lt;%! int counter = 0; counter++; %&gt;","body":"@SheldonR. This is valid: &lt;%= counter++ %&gt; or this: &lt;%! int counter = 0; int x = counter++; %&gt; but not: &lt;%! int counter = 0; counter++; %&gt;"},{"owner":{"account_id":886634,"reputation":452,"user_id":925928,"accept_rate":80,"display_name":"Sheldon R."},"score":0,"creation_date":1522338236,"post_id":3177733,"comment_id":86128183,"body_markdown":"@KorayTugay, what I meant was if the variable counter was declared in an earlier script block, it should be valid in a later block. But ultimately, J2EE programmers these days should be using EL variables instead of scriptlets, anyway...","body":"@KorayTugay, what I meant was if the variable counter was declared in an earlier script block, it should be valid in a later block. But ultimately, J2EE programmers these days should be using EL variables instead of scriptlets, anyway..."}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":0,"down_vote_count":1,"up_vote_count":112,"is_accepted":false,"score":111,"last_activity_date":1469189836,"creation_date":1278314927,"answer_id":3177761,"question_id":3177733,"body_markdown":"[JSTL][1] offers tags for conditionals, loops, sets, gets, etc. For example:\r\n\r\n    &lt;c:if test=&quot;${someAttribute == &#39;something&#39;}&quot;&gt;\r\n       ...\r\n    &lt;/c:if&gt;\r\n\r\nJSTL works with request attributes - they are most often set in the request by a Servlet, which _forwards_ to the JSP.\r\n\r\n  [1]: https://jstl.java.net/","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p><a href=\"https://jstl.java.net/\" rel=\"noreferrer\">JSTL</a> offers tags for conditionals, loops, sets, gets, etc. For example:</p>\n\n<pre><code>&lt;c:if test=\"${someAttribute == 'something'}\"&gt;\n   ...\n&lt;/c:if&gt;\n</code></pre>\n\n<p>JSTL works with request attributes - they are most often set in the request by a Servlet, which <em>forwards</em> to the JSP.</p>\n"},{"comments":[{"owner":{"account_id":1093219,"reputation":5625,"user_id":1087370,"accept_rate":56,"display_name":"Alex"},"score":4,"creation_date":1439799117,"post_id":3178032,"comment_id":51990902,"body_markdown":"Old answer but I can not resist to tell that JSF is one of the most horrendous invention in Java space. Try to make a single (HTTP GET like) link and you will understand why.","body":"Old answer but I can not resist to tell that JSF is one of the most horrendous invention in Java space. Try to make a single (HTTP GET like) link and you will understand why."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1482397527,"post_id":3178032,"comment_id":69760213,"body_markdown":"@Alex but still better. Feel free to recommend something even better.","body":"@Alex but still better. Feel free to recommend something even better."},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1626708609,"post_id":3178032,"comment_id":120960029,"body_markdown":"@Thorbj&#248;rnRavnAndersen scriptlets","body":"@Thorbj&#248;rnRavnAndersen scriptlets"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1626868682,"post_id":3178032,"comment_id":121005662,"body_markdown":"@user253751 Yes, scriptlets is the &quot;mixing markup with actual code&quot; shortcoming mentioned.","body":"@user253751 Yes, scriptlets is the &quot;mixing markup with actual code&quot; shortcoming mentioned."},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1626870046,"post_id":3178032,"comment_id":121006344,"body_markdown":"@Thorbj&#248;rnRavnAndersen markup is actual code","body":"@Thorbj&#248;rnRavnAndersen markup is actual code"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1626880880,"post_id":3178032,"comment_id":121011335,"body_markdown":"@user253751 What are you trying to say?","body":"@user253751 What are you trying to say?"},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1626882348,"post_id":3178032,"comment_id":121012054,"body_markdown":"@Thorbj&#248;rnRavnAndersen Scriptlets are better than JSF","body":"@Thorbj&#248;rnRavnAndersen Scriptlets are better than JSF"}],"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":7,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1278318606,"creation_date":1278318606,"answer_id":3178032,"question_id":3177733,"body_markdown":"Experience has shown that JSP&#39;s have some shortcomings, one of them being hard to avoid mixing markup with actual code.\r\n\r\nIf you can, then consider using a specialized technology for what you need to do.  In Java EE 6 there is JSF 2.0, which provides a lot of nice features including gluing Java beans together with JSF pages through the `#{bean.method(argument)}` approach.","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Experience has shown that JSP's have some shortcomings, one of them being hard to avoid mixing markup with actual code.</p>\n\n<p>If you can, then consider using a specialized technology for what you need to do.  In Java EE 6 there is JSF 2.0, which provides a lot of nice features including gluing Java beans together with JSF pages through the <code>#{bean.method(argument)}</code> approach.</p>\n"},{"tags":[],"owner":{"account_id":118571,"reputation":47112,"user_id":309683,"accept_rate":68,"display_name":"Behrang Saeedzadeh"},"comment_count":0,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1539013001,"creation_date":1278319554,"answer_id":3178138,"question_id":3177733,"body_markdown":"You can use JSTL tags together with EL expressions to avoid intermixing Java and HTML code:\r\n\r\n&lt;!-- language: lang-jsp --&gt;\r\n\r\n    &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot; prefix=&quot;fmt&quot; %&gt;\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n    \r\n            &lt;c:out value=&quot;${x + 1}&quot; /&gt;\r\n            &lt;c:out value=&quot;${param.name}&quot; /&gt;\r\n            // and so on\r\n    \r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>You can use JSTL tags together with EL expressions to avoid intermixing Java and HTML code:</p>\n\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %&gt;\n&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\" %&gt;\n&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/fmt\" prefix=\"fmt\" %&gt;\n&lt;html&gt;\n    &lt;head&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n\n        &lt;c:out value=\"${x + 1}\" /&gt;\n        &lt;c:out value=\"${param.name}\" /&gt;\n        // and so on\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":35793,"reputation":7686,"user_id":101672,"accept_rate":80,"display_name":"svachon"},"score":121,"creation_date":1278381508,"post_id":3180202,"comment_id":3277789,"body_markdown":"+1 Great answer. But don&#39;t go dogmatic, sometime using scriptlets IS ok, but that should be the exception that proves the rule.","body":"+1 Great answer. But don&#39;t go dogmatic, sometime using scriptlets IS ok, but that should be the exception that proves the rule."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":27,"creation_date":1278422732,"post_id":3180202,"comment_id":3281796,"body_markdown":"@svachon: Scriptlets are useful for quick prototyping/testing. As far as I know, there&#39;s only one &quot;legitimate&quot; production use of a scriptlet, namely `&lt;% response.getWriter().flush(); %&gt;` between the `&lt;/head&gt;` and the `&lt;body&gt;` to improve webpage parsing performance in the webbrowser. But this use is in turn completely negligible when the output buffer size at the server side is low (1~2KB). [See also this article](http://balusc.blogspot.com/2009/09/webapplication-performance-tips-and.html#FlushTheBufferEarly).","body":"@svachon: Scriptlets are useful for quick prototyping/testing. As far as I know, there&#39;s only one &quot;legitimate&quot; production use of a scriptlet, namely <code>&lt;% response.getWriter().flush(); %&gt;</code> between the <code>&lt;&#47;head&gt;</code> and the <code>&lt;body&gt;</code> to improve webpage parsing performance in the webbrowser. But this use is in turn completely negligible when the output buffer size at the server side is low (1~2KB). <a href=\"http://balusc.blogspot.com/2009/09/webapplication-performance-tips-and.html#FlushTheBufferEarly\" rel=\"nofollow noreferrer\">See also this article</a>."},{"owner":{"account_id":35793,"reputation":7686,"user_id":101672,"accept_rate":80,"display_name":"svachon"},"score":5,"creation_date":1278426622,"post_id":3180202,"comment_id":3282530,"body_markdown":"@BalusC A few times I&#39;ve been stuck with java classes that didn&#39;t follow the getter/setter pattern. IMHO that is a case where a scripltet does the job.","body":"@BalusC A few times I&#39;ve been stuck with java classes that didn&#39;t follow the getter/setter pattern. IMHO that is a case where a scripltet does the job."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":43,"creation_date":1278427064,"post_id":3180202,"comment_id":3282630,"body_markdown":"@svachon: I&#39;d wrap those classes with own javabean classes and use them instead.","body":"@svachon: I&#39;d wrap those classes with own javabean classes and use them instead."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":4,"down_vote_count":2,"up_vote_count":2028,"is_accepted":true,"score":2026,"last_activity_date":1654516814,"creation_date":1278339575,"answer_id":3180202,"question_id":3177733,"body_markdown":"The use of *scriptlets* (those `&lt;% %&gt;` things) in [JSP][1] is indeed highly discouraged since the birth of *taglibs* (like [JSTL][2]) and [EL][3] ([Expression Language][3], those `${}` things) way back in 2001.\r\n\r\n The major disadvantages of *scriptlets* are:\r\n\r\n   1. **Reusability:** you can&#39;t reuse scriptlets.\r\n   2. **Replaceability:** you can&#39;t make scriptlets abstract.\r\n   3. **OO-ability:** you can&#39;t make use of inheritance/composition.\r\n   4. **Debuggability:** if scriptlet throws an exception halfway, all you get is a blank page.\r\n   5. **Testability:** scriptlets are not unit-testable.\r\n   6. **Maintainability:** per saldo more time is needed to maintain mingled/cluttered/duplicated code logic.\r\n\r\n&lt;strike&gt;Sun&lt;/strike&gt; Oracle itself also recommends in the [JSP coding conventions][4] to avoid use of *scriptlets* whenever the same functionality is possible by (tag) classes. Here are several cites of relevance:\r\n\r\n&gt; From JSP 1.2 Specification, it is highly recommended that the JSP Standard Tag Library  (JSTL) be used in your web application to help **reduce the need for JSP scriptlets** in your pages. Pages that use JSTL are, in general, easier to read and maintain. \r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; Where possible, **avoid JSP scriptlets** whenever tag libraries provide equivalent functionality. This makes pages easier to read and maintain, helps to separate business logic from presentation logic, and will make your pages easier to evolve into JSP 2.0-style pages (JSP 2.0 Specification supports but de-emphasizes the use of scriptlets).\r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; In the spirit of adopting the model-view-controller (MVC) design pattern to reduce coupling between the presentation tier from the business logic, **JSP scriptlets should not be used** for writing business logic. Rather, JSP scriptlets are used if necessary to transform data (also called &quot;value objects&quot;) returned from processing the client&#39;s requests into a proper client-ready format. Even then, this would be better done with a front controller servlet or a custom tag.\r\n\r\n\r\n----------\r\n\r\n\r\n**How to replace *scriptlets* entirely depends on the sole purpose of the code/logic. More than often this code is to be placed in a fullworthy Java class:**\r\n\r\n- If you want to invoke the **same** Java code on *every* request, less-or-more regardless of the requested page, e.g. checking if a user is logged in, then implement a [filter][5] and write code accordingly in [`doFilter()`][6] method. E.g.:\r\n\r\n    &lt;!-- language: java --&gt;\r\n\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws ServletException, IOException {\r\n            if (((HttpServletRequest) request).getSession().getAttribute(&quot;user&quot;) == null) {\r\n                ((HttpServletResponse) response).sendRedirect(&quot;login&quot;); // Not logged in, redirect to login page.\r\n            } else {\r\n                chain.doFilter(request, response); // Logged in, just continue request.\r\n            }\r\n        }\r\n\r\n   When mapped on an appropriate `&lt;url-pattern&gt;` covering the JSP pages of interest, then you don&#39;t need to copypaste the same piece of code overall JSP pages.\r\n\r\n    ---\r\n\r\n- If you want to invoke some Java code to **process a GET request**, e.g. preloading some list from a database to display in some table, if necessary based on some query parameters, then implement a [servlet][7] and write code accordingly in [`doGet()`][8] method. E.g.:\r\n\r\n    &lt;!-- language: java --&gt;\r\n\r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n            try {\r\n                List&lt;Product&gt; products = productService.list(); // Obtain all products.\r\n                request.setAttribute(&quot;products&quot;, products); // Store products in request scope.\r\n                request.getRequestDispatcher(&quot;/WEB-INF/products.jsp&quot;).forward(request, response); // Forward to JSP page to display them in a HTML table.\r\n            } catch (SQLException e) {\r\n                throw new ServletException(&quot;Retrieving products failed!&quot;, e);\r\n            }\r\n        }\r\n\r\n    This way dealing with exceptions is easier. The DB is not accessed in the midst of JSP rendering, but far before the JSP is been displayed. You still have the possibility to change the response whenever the DB access throws an exception. In the above example, the default error 500 page will be displayed which you can anyway customize by an `&lt;error-page&gt;` in `web.xml`.\r\n\r\n    ---\r\n\r\n- If you want to invoke some Java code to **process a POST request**, such as gathering data from a submitted HTML form and doing some business stuff with it (conversion, validation, saving in DB, etcetera), then implement a [servlet][7] and write code accordingly in [`doPost()`][9] method. E.g.:\r\n\r\n    &lt;!-- language: java --&gt;\r\n\r\n        protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n            String username = request.getParameter(&quot;username&quot;);\r\n            String password = request.getParameter(&quot;password&quot;);\r\n            User user = userService.find(username, password);\r\n\r\n            if (user != null) {\r\n                request.getSession().setAttribute(&quot;user&quot;, user); // Login user.\r\n                response.sendRedirect(&quot;home&quot;); // Redirect to home page.\r\n            } else {\r\n                request.setAttribute(&quot;message&quot;, &quot;Unknown username/password. Please retry.&quot;); // Store error message in request scope.\r\n                request.getRequestDispatcher(&quot;/WEB-INF/login.jsp&quot;).forward(request, response); // Forward to JSP page to redisplay login form with error.\r\n            }\r\n        }\r\n\r\n    This way dealing with different result page destinations is easier: redisplaying the form with validation errors in case of an error (in this particular example you can redisplay it using `${message}` in [EL][3]), or just taking to the desired target page in case of success.\r\n\r\n    ---\r\n\r\n- If you want to invoke some Java code to **control** the execution plan and/or the destination of the request and the response, then implement a [servlet][7] according to the [MVC&#39;s Front Controller Pattern][10]. E.g.:\r\n\r\n    &lt;!-- language: java --&gt;\r\n\r\n        protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n            try {\r\n                Action action = ActionFactory.getAction(request);\r\n                String view = action.execute(request, response);\r\n\r\n                if (view.equals(request.getPathInfo().substring(1)) {\r\n                    request.getRequestDispatcher(&quot;/WEB-INF/&quot; + view + &quot;.jsp&quot;).forward(request, response);\r\n                } else {\r\n                    response.sendRedirect(view);\r\n                }\r\n            } catch (Exception e) {\r\n                throw new ServletException(&quot;Executing action failed.&quot;, e);\r\n            }\r\n        }\r\n\r\n    Or just adopt an MVC framework like [JSF][11], [Spring MVC][12], [Wicket][13], etc so that you end up with just a JSP/Facelets page and a JavaBean class without the need for a custom servlet.\r\n\r\n    ---\r\n\r\n- If you want to invoke some Java code to **control the flow** inside a JSP page, then you need to grab an (existing) flow control taglib like [JSTL core][14]. E.g. displaying `List&lt;Product&gt;` in a table:\r\n\r\n    &lt;!-- language: xhtml --&gt;\r\n\r\n        &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n        ...\r\n        &lt;table&gt;\r\n            &lt;c:forEach items=&quot;${products}&quot; var=&quot;product&quot;&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;${product.name}&lt;/td&gt;\r\n                    &lt;td&gt;${product.description}&lt;/td&gt;\r\n                    &lt;td&gt;${product.price}&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/c:forEach&gt;\r\n        &lt;/table&gt;\r\n\r\n    With XML-style tags which fit nicely among all that HTML, the code is better readable (and thus better maintainable) than a bunch of scriptlets with various opening and closing braces (*&quot;Where the heck does this closing brace belong to?&quot;*). An easy aid is to configure your web application to throw an exception whenever *scriptlets* are still been used by adding the following piece to `web.xml`:\r\n\r\n    &lt;!-- language: xml --&gt;\r\n    \r\n        &lt;jsp-config&gt;\r\n            &lt;jsp-property-group&gt;\r\n                &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\r\n                &lt;scripting-invalid&gt;true&lt;/scripting-invalid&gt;\r\n            &lt;/jsp-property-group&gt;\r\n        &lt;/jsp-config&gt;\r\n\r\n    In [Facelets][15], the successor of JSP, which is part of the Java EE provided MVC framework [JSF][11], it is already **not** possible to use *scriptlets*. This way you&#39;re automatically forced to do things &quot;the right way&quot;.\r\n\r\n    ---\r\n\r\n- If you want to invoke some Java code to **access and display** &quot;backend&quot; data inside a JSP page, then you need to use EL (Expression Language), those `${}` things. E.g. redisplaying submitted input values:\r\n\r\n    &lt;!-- language: xhtml --&gt;\r\n\r\n        &lt;input type=&quot;text&quot; name=&quot;foo&quot; value=&quot;${param.foo}&quot; /&gt;\r\n\r\n    The `${param.foo}` displays the outcome of `request.getParameter(&quot;foo&quot;)`.\r\n\r\n    ---\r\n\r\n- If you want to invoke some **utility** Java code directly in the JSP page (typically `public static` methods), then you need to define them as EL functions. There&#39;s a standard [functions taglib][16] in JSTL, but [you can also easily create functions yourself][17]. Here&#39;s an example how JSTL `fn:escapeXml` is useful to prevent [XSS attacks][18].\r\n\r\n    &lt;!-- language: xhtml --&gt;\r\n\r\n        &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/functions&quot; prefix=&quot;fn&quot; %&gt;\r\n        ...\r\n        &lt;input type=&quot;text&quot; name=&quot;foo&quot; value=&quot;${fn:escapeXml(param.foo)}&quot; /&gt;\r\n\r\n    Note that the XSS sensitivity is in no way specifically related to Java/JSP/JSTL/EL/whatever, this problem needs to be taken into account in **every** web application you develop. The problem of *scriptlets* is that it provides no way of builtin preventions, at least not using the standard Java API. JSP&#39;s successor Facelets has already implicit HTML escaping, so you don&#39;t need to worry about XSS holes in Facelets.\r\n\r\n### See also:\r\n\r\n- [What&#39;s the difference between JSP, Servlet and JSF?][19]\r\n- [How does Servlet, ServletContext, HttpSession and HttpServletRequest/Response work?][20]\r\n- [Basic MVC example with JSP, Servlet and JDBC][21]\r\n- [Design patterns in Java web applications][22]\r\n- [Hidden features of JSP/Servlet][23]\r\n\r\n\r\n  [1]: https://stackoverflow.com/tags/jsp/info\r\n  [2]: https://stackoverflow.com/tags/jstl/info\r\n  [3]: https://stackoverflow.com/tags/el/info\r\n  [4]: https://www.oracle.com/technical-resources/articles/javase/code-convention.html\r\n  [5]: https://stackoverflow.com/tags/servlet-filters/info\r\n  [6]: https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/filter#doFilter-jakarta.servlet.ServletRequest-jakarta.servlet.ServletResponse-jakarta.servlet.FilterChain-\r\n  [7]: https://stackoverflow.com/tags/servlets/info\r\n  [8]: https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/http/httpservlet#doGet-jakarta.servlet.http.HttpServletRequest-jakarta.servlet.http.HttpServletResponse-\r\n  [9]: https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/http/httpservlet#doPost-jakarta.servlet.http.HttpServletRequest-jakarta.servlet.http.HttpServletResponse-\r\n  [10]: https://stackoverflow.com/questions/3541077/design-patterns-web-based-applications/3542297#3542297\r\n  [11]: https://stackoverflow.com/tags/jsf/info\r\n  [12]: https://stackoverflow.com/tags/spring-mvc/info\r\n  [13]: https://stackoverflow.com/tags/wicket/info\r\n  [14]: https://jakarta.ee/specifications/tags/1.2/tagdocs/c/tld-summary.html\r\n  [15]: https://stackoverflow.com/tags/facelets/info\r\n  [16]: https://jakarta.ee/specifications/tags/1.2/tagdocs/fn/tld-summary.html\r\n  [17]: https://stackoverflow.com/questions/6395621/how-to-call-a-static-method-in-jsp-el\r\n  [18]: https://en.wikipedia.org/wiki/Cross-site_scripting\r\n  [19]: https://stackoverflow.com/questions/2095397/what-is-the-difference-between-jsf-servlet-and-jsp/2097732#2097732\r\n  [20]: https://stackoverflow.com/questions/3106452/java-servlet-instantiation-and-session-variables/3106909#3106909\r\n  [21]: https://stackoverflow.com/questions/5003142/jsp-using-mvc-and-jdbc\r\n  [22]: https://stackoverflow.com/questions/3541077/design-patterns-web-based-applications/\r\n  [23]: https://balusc.omnifaces.org/2010/01/hidden-features-of-jspservlet.html","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>The use of <em>scriptlets</em> (those <code>&lt;% %&gt;</code> things) in <a href=\"https://stackoverflow.com/tags/jsp/info\">JSP</a> is indeed highly discouraged since the birth of <em>taglibs</em> (like <a href=\"https://stackoverflow.com/tags/jstl/info\">JSTL</a>) and <a href=\"https://stackoverflow.com/tags/el/info\">EL</a> (<a href=\"https://stackoverflow.com/tags/el/info\">Expression Language</a>, those <code>${}</code> things) way back in 2001.</p>\n<p>The major disadvantages of <em>scriptlets</em> are:</p>\n<ol>\n<li><strong>Reusability:</strong> you can't reuse scriptlets.</li>\n<li><strong>Replaceability:</strong> you can't make scriptlets abstract.</li>\n<li><strong>OO-ability:</strong> you can't make use of inheritance/composition.</li>\n<li><strong>Debuggability:</strong> if scriptlet throws an exception halfway, all you get is a blank page.</li>\n<li><strong>Testability:</strong> scriptlets are not unit-testable.</li>\n<li><strong>Maintainability:</strong> per saldo more time is needed to maintain mingled/cluttered/duplicated code logic.</li>\n</ol>\n<p><strike>Sun</strike> Oracle itself also recommends in the <a href=\"https://www.oracle.com/technical-resources/articles/javase/code-convention.html\" rel=\"noreferrer\">JSP coding conventions</a> to avoid use of <em>scriptlets</em> whenever the same functionality is possible by (tag) classes. Here are several cites of relevance:</p>\n<blockquote>\n<p>From JSP 1.2 Specification, it is highly recommended that the JSP Standard Tag Library  (JSTL) be used in your web application to help <strong>reduce the need for JSP scriptlets</strong> in your pages. Pages that use JSTL are, in general, easier to read and maintain.</p>\n<p>...</p>\n<p>Where possible, <strong>avoid JSP scriptlets</strong> whenever tag libraries provide equivalent functionality. This makes pages easier to read and maintain, helps to separate business logic from presentation logic, and will make your pages easier to evolve into JSP 2.0-style pages (JSP 2.0 Specification supports but de-emphasizes the use of scriptlets).</p>\n<p>...</p>\n<p>In the spirit of adopting the model-view-controller (MVC) design pattern to reduce coupling between the presentation tier from the business logic, <strong>JSP scriptlets should not be used</strong> for writing business logic. Rather, JSP scriptlets are used if necessary to transform data (also called &quot;value objects&quot;) returned from processing the client's requests into a proper client-ready format. Even then, this would be better done with a front controller servlet or a custom tag.</p>\n</blockquote>\n<hr />\n<p><strong>How to replace <em>scriptlets</em> entirely depends on the sole purpose of the code/logic. More than often this code is to be placed in a fullworthy Java class:</strong></p>\n<ul>\n<li><p>If you want to invoke the <strong>same</strong> Java code on <em>every</em> request, less-or-more regardless of the requested page, e.g. checking if a user is logged in, then implement a <a href=\"https://stackoverflow.com/tags/servlet-filters/info\">filter</a> and write code accordingly in <a href=\"https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/filter#doFilter-jakarta.servlet.ServletRequest-jakarta.servlet.ServletResponse-jakarta.servlet.FilterChain-\" rel=\"noreferrer\"><code>doFilter()</code></a> method. E.g.:</p>\n  <pre class=\"lang-java prettyprint-override\"><code>  public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws ServletException, IOException {\n      if (((HttpServletRequest) request).getSession().getAttribute(&quot;user&quot;) == null) {\n          ((HttpServletResponse) response).sendRedirect(&quot;login&quot;); // Not logged in, redirect to login page.\n      } else {\n          chain.doFilter(request, response); // Logged in, just continue request.\n      }\n  }\n</code></pre>\n<p>When mapped on an appropriate <code>&lt;url-pattern&gt;</code> covering the JSP pages of interest, then you don't need to copypaste the same piece of code overall JSP pages.</p>\n<hr />\n</li>\n<li><p>If you want to invoke some Java code to <strong>process a GET request</strong>, e.g. preloading some list from a database to display in some table, if necessary based on some query parameters, then implement a <a href=\"https://stackoverflow.com/tags/servlets/info\">servlet</a> and write code accordingly in <a href=\"https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/http/httpservlet#doGet-jakarta.servlet.http.HttpServletRequest-jakarta.servlet.http.HttpServletResponse-\" rel=\"noreferrer\"><code>doGet()</code></a> method. E.g.:</p>\n  <pre class=\"lang-java prettyprint-override\"><code>  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n      try {\n          List&lt;Product&gt; products = productService.list(); // Obtain all products.\n          request.setAttribute(&quot;products&quot;, products); // Store products in request scope.\n          request.getRequestDispatcher(&quot;/WEB-INF/products.jsp&quot;).forward(request, response); // Forward to JSP page to display them in a HTML table.\n      } catch (SQLException e) {\n          throw new ServletException(&quot;Retrieving products failed!&quot;, e);\n      }\n  }\n</code></pre>\n<p>This way dealing with exceptions is easier. The DB is not accessed in the midst of JSP rendering, but far before the JSP is been displayed. You still have the possibility to change the response whenever the DB access throws an exception. In the above example, the default error 500 page will be displayed which you can anyway customize by an <code>&lt;error-page&gt;</code> in <code>web.xml</code>.</p>\n<hr />\n</li>\n<li><p>If you want to invoke some Java code to <strong>process a POST request</strong>, such as gathering data from a submitted HTML form and doing some business stuff with it (conversion, validation, saving in DB, etcetera), then implement a <a href=\"https://stackoverflow.com/tags/servlets/info\">servlet</a> and write code accordingly in <a href=\"https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/http/httpservlet#doPost-jakarta.servlet.http.HttpServletRequest-jakarta.servlet.http.HttpServletResponse-\" rel=\"noreferrer\"><code>doPost()</code></a> method. E.g.:</p>\n  <pre class=\"lang-java prettyprint-override\"><code>  protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n      String username = request.getParameter(&quot;username&quot;);\n      String password = request.getParameter(&quot;password&quot;);\n      User user = userService.find(username, password);\n\n      if (user != null) {\n          request.getSession().setAttribute(&quot;user&quot;, user); // Login user.\n          response.sendRedirect(&quot;home&quot;); // Redirect to home page.\n      } else {\n          request.setAttribute(&quot;message&quot;, &quot;Unknown username/password. Please retry.&quot;); // Store error message in request scope.\n          request.getRequestDispatcher(&quot;/WEB-INF/login.jsp&quot;).forward(request, response); // Forward to JSP page to redisplay login form with error.\n      }\n  }\n</code></pre>\n<p>This way dealing with different result page destinations is easier: redisplaying the form with validation errors in case of an error (in this particular example you can redisplay it using <code>${message}</code> in <a href=\"https://stackoverflow.com/tags/el/info\">EL</a>), or just taking to the desired target page in case of success.</p>\n<hr />\n</li>\n<li><p>If you want to invoke some Java code to <strong>control</strong> the execution plan and/or the destination of the request and the response, then implement a <a href=\"https://stackoverflow.com/tags/servlets/info\">servlet</a> according to the <a href=\"https://stackoverflow.com/questions/3541077/design-patterns-web-based-applications/3542297#3542297\">MVC's Front Controller Pattern</a>. E.g.:</p>\n  <pre class=\"lang-java prettyprint-override\"><code>  protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n      try {\n          Action action = ActionFactory.getAction(request);\n          String view = action.execute(request, response);\n\n          if (view.equals(request.getPathInfo().substring(1)) {\n              request.getRequestDispatcher(&quot;/WEB-INF/&quot; + view + &quot;.jsp&quot;).forward(request, response);\n          } else {\n              response.sendRedirect(view);\n          }\n      } catch (Exception e) {\n          throw new ServletException(&quot;Executing action failed.&quot;, e);\n      }\n  }\n</code></pre>\n<p>Or just adopt an MVC framework like <a href=\"https://stackoverflow.com/tags/jsf/info\">JSF</a>, <a href=\"https://stackoverflow.com/tags/spring-mvc/info\">Spring MVC</a>, <a href=\"https://stackoverflow.com/tags/wicket/info\">Wicket</a>, etc so that you end up with just a JSP/Facelets page and a JavaBean class without the need for a custom servlet.</p>\n<hr />\n</li>\n<li><p>If you want to invoke some Java code to <strong>control the flow</strong> inside a JSP page, then you need to grab an (existing) flow control taglib like <a href=\"https://jakarta.ee/specifications/tags/1.2/tagdocs/c/tld-summary.html\" rel=\"noreferrer\">JSTL core</a>. E.g. displaying <code>List&lt;Product&gt;</code> in a table:</p>\n  <pre class=\"lang-html prettyprint-override\"><code>  &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\n  ...\n  &lt;table&gt;\n      &lt;c:forEach items=&quot;${products}&quot; var=&quot;product&quot;&gt;\n          &lt;tr&gt;\n              &lt;td&gt;${product.name}&lt;/td&gt;\n              &lt;td&gt;${product.description}&lt;/td&gt;\n              &lt;td&gt;${product.price}&lt;/td&gt;\n          &lt;/tr&gt;\n      &lt;/c:forEach&gt;\n  &lt;/table&gt;\n</code></pre>\n<p>With XML-style tags which fit nicely among all that HTML, the code is better readable (and thus better maintainable) than a bunch of scriptlets with various opening and closing braces (<em>&quot;Where the heck does this closing brace belong to?&quot;</em>). An easy aid is to configure your web application to throw an exception whenever <em>scriptlets</em> are still been used by adding the following piece to <code>web.xml</code>:</p>\n  <pre class=\"lang-xml prettyprint-override\"><code>  &lt;jsp-config&gt;\n      &lt;jsp-property-group&gt;\n          &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\n          &lt;scripting-invalid&gt;true&lt;/scripting-invalid&gt;\n      &lt;/jsp-property-group&gt;\n  &lt;/jsp-config&gt;\n</code></pre>\n<p>In <a href=\"https://stackoverflow.com/tags/facelets/info\">Facelets</a>, the successor of JSP, which is part of the Java EE provided MVC framework <a href=\"https://stackoverflow.com/tags/jsf/info\">JSF</a>, it is already <strong>not</strong> possible to use <em>scriptlets</em>. This way you're automatically forced to do things &quot;the right way&quot;.</p>\n<hr />\n</li>\n<li><p>If you want to invoke some Java code to <strong>access and display</strong> &quot;backend&quot; data inside a JSP page, then you need to use EL (Expression Language), those <code>${}</code> things. E.g. redisplaying submitted input values:</p>\n  <pre class=\"lang-html prettyprint-override\"><code>  &lt;input type=&quot;text&quot; name=&quot;foo&quot; value=&quot;${param.foo}&quot; /&gt;\n</code></pre>\n<p>The <code>${param.foo}</code> displays the outcome of <code>request.getParameter(&quot;foo&quot;)</code>.</p>\n<hr />\n</li>\n<li><p>If you want to invoke some <strong>utility</strong> Java code directly in the JSP page (typically <code>public static</code> methods), then you need to define them as EL functions. There's a standard <a href=\"https://jakarta.ee/specifications/tags/1.2/tagdocs/fn/tld-summary.html\" rel=\"noreferrer\">functions taglib</a> in JSTL, but <a href=\"https://stackoverflow.com/questions/6395621/how-to-call-a-static-method-in-jsp-el\">you can also easily create functions yourself</a>. Here's an example how JSTL <code>fn:escapeXml</code> is useful to prevent <a href=\"https://en.wikipedia.org/wiki/Cross-site_scripting\" rel=\"noreferrer\">XSS attacks</a>.</p>\n  <pre class=\"lang-html prettyprint-override\"><code>  &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/functions&quot; prefix=&quot;fn&quot; %&gt;\n  ...\n  &lt;input type=&quot;text&quot; name=&quot;foo&quot; value=&quot;${fn:escapeXml(param.foo)}&quot; /&gt;\n</code></pre>\n<p>Note that the XSS sensitivity is in no way specifically related to Java/JSP/JSTL/EL/whatever, this problem needs to be taken into account in <strong>every</strong> web application you develop. The problem of <em>scriptlets</em> is that it provides no way of builtin preventions, at least not using the standard Java API. JSP's successor Facelets has already implicit HTML escaping, so you don't need to worry about XSS holes in Facelets.</p>\n</li>\n</ul>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2095397/what-is-the-difference-between-jsf-servlet-and-jsp/2097732#2097732\">What's the difference between JSP, Servlet and JSF?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3106452/java-servlet-instantiation-and-session-variables/3106909#3106909\">How does Servlet, ServletContext, HttpSession and HttpServletRequest/Response work?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/5003142/jsp-using-mvc-and-jdbc\">Basic MVC example with JSP, Servlet and JDBC</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3541077/design-patterns-web-based-applications/\">Design patterns in Java web applications</a></li>\n<li><a href=\"https://balusc.omnifaces.org/2010/01/hidden-features-of-jspservlet.html\" rel=\"noreferrer\">Hidden features of JSP/Servlet</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":292848,"reputation":460,"user_id":595851,"accept_rate":0,"display_name":"Sami Jmii"},"comment_count":0,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1613212091,"creation_date":1296816098,"answer_id":4897057,"question_id":3177733,"body_markdown":"In the MVC architectural pattern, JSPs represent the view layer. Embedding Java code in JSPs is considered a bad practice.\r\n\r\nYou can use [JSTL][1], [freeMarker][2], and [velocity][3] with JSP as a &quot;template engine&quot;.\r\n\r\nThe data provider to those tags **depends on frameworks** that you are dealing with. [Struts][4] 2 and [WebWork][5] as an implementation for the MVC pattern uses [OGNL][6] &quot;very interesting technique to expose Beans properties to JSP&quot;.\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/index-jsp-135995.html\r\n  [2]: http://freemarker.sourceforge.net/\r\n  [3]: http://velocity.apache.org/\r\n  [4]: https://en.wikipedia.org/wiki/Apache_Struts\r\n  [5]: https://en.wikipedia.org/wiki/WebWork\r\n  [6]: https://struts.apache.org/tag-developers/ognl\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>In the MVC architectural pattern, JSPs represent the view layer. Embedding Java code in JSPs is considered a bad practice.</p>\n<p>You can use <a href=\"http://www.oracle.com/technetwork/java/index-jsp-135995.html\" rel=\"nofollow noreferrer\">JSTL</a>, <a href=\"http://freemarker.sourceforge.net/\" rel=\"nofollow noreferrer\">freeMarker</a>, and <a href=\"http://velocity.apache.org/\" rel=\"nofollow noreferrer\">velocity</a> with JSP as a &quot;template engine&quot;.</p>\n<p>The data provider to those tags <strong>depends on frameworks</strong> that you are dealing with. <a href=\"https://en.wikipedia.org/wiki/Apache_Struts\" rel=\"nofollow noreferrer\">Struts</a> 2 and <a href=\"https://en.wikipedia.org/wiki/WebWork\" rel=\"nofollow noreferrer\">WebWork</a> as an implementation for the MVC pattern uses <a href=\"https://struts.apache.org/tag-developers/ognl\" rel=\"nofollow noreferrer\">OGNL</a> &quot;very interesting technique to expose Beans properties to JSP&quot;.</p>\n"},{"tags":[],"owner":{"account_id":309995,"reputation":4655,"user_id":622734,"accept_rate":74,"display_name":"mahesh"},"comment_count":0,"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1598389685,"creation_date":1298441690,"answer_id":5087629,"question_id":3177733,"body_markdown":"In order to avoid Java code in JSP files, Java now provides tag libraries, like JSTL.\r\n\r\nAlso, Java has come up with [JSF][1] into which you can write all programming structures in the form of tags.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/JavaServer_Faces\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>In order to avoid Java code in JSP files, Java now provides tag libraries, like JSTL.</p>\n<p>Also, Java has come up with <a href=\"https://en.wikipedia.org/wiki/JavaServer_Faces\" rel=\"nofollow noreferrer\">JSF</a> into which you can write all programming structures in the form of tags.</p>\n"},{"tags":[],"owner":{"account_id":117294,"reputation":491,"user_id":307254,"display_name":"tsand"},"comment_count":0,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1598389604,"creation_date":1300818293,"answer_id":5395987,"question_id":3177733,"body_markdown":"There are also component-based frameworks, such as [Wicket][1], that generate a lot of the HTML for you.\r\n\r\nThe tags that end up in the HTML are extremely basic and there is virtually no logic that gets mixed in. The result is almost empty-like HTML pages with typical HTML elements. The downside is that there are a lot of components in the **Wicket** API to learn and some things can be difficult to achieve under those constraints.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Wicket\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>There are also component-based frameworks, such as <a href=\"https://en.wikipedia.org/wiki/Apache_Wicket\" rel=\"nofollow noreferrer\">Wicket</a>, that generate a lot of the HTML for you.</p>\n<p>The tags that end up in the HTML are extremely basic and there is virtually no logic that gets mixed in. The result is almost empty-like HTML pages with typical HTML elements. The downside is that there are a lot of components in the <strong>Wicket</strong> API to learn and some things can be difficult to achieve under those constraints.</p>\n"},{"tags":[],"owner":{"account_id":124072,"reputation":2812,"user_id":318938,"accept_rate":78,"display_name":"msj121"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1598389540,"creation_date":1305924154,"answer_id":6077376,"question_id":3177733,"body_markdown":"[Wicket][1] is also an alternative which completely separates Java from HTML, so a designer and programmer can work together and on different sets of code with little understanding of each other.\r\n\r\nLook at Wicket.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Wicket\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p><a href=\"https://en.wikipedia.org/wiki/Apache_Wicket\" rel=\"nofollow noreferrer\">Wicket</a> is also an alternative which completely separates Java from HTML, so a designer and programmer can work together and on different sets of code with little understanding of each other.</p>\n<p>Look at Wicket.</p>\n"},{"tags":[],"owner":{"account_id":197516,"reputation":16316,"user_id":1213738,"accept_rate":62,"display_name":"Chandra Sekhar"},"comment_count":0,"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1598389447,"creation_date":1307247830,"answer_id":6240988,"question_id":3177733,"body_markdown":"Use JSTL tag libraries in JSP. That will work perfectly.\r\n\r\n\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Use JSTL tag libraries in JSP. That will work perfectly.</p>\n"},{"tags":[],"owner":{"account_id":445735,"reputation":347,"user_id":838361,"display_name":"tanglei"},"comment_count":0,"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1310367599,"creation_date":1310367599,"answer_id":6646745,"question_id":3177733,"body_markdown":"Just use the JSTL tag and EL expression.","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Just use the JSTL tag and EL expression.</p>\n"},{"comments":[{"owner":{"account_id":294508,"reputation":4953,"user_id":598444,"accept_rate":67,"display_name":"WarFox"},"score":15,"creation_date":1310542115,"post_id":6670578,"comment_id":7894833,"body_markdown":"JSP is itself a template engine","body":"JSP is itself a template engine"},{"owner":{"account_id":5565357,"reputation":1013,"user_id":4412885,"display_name":"mihca"},"score":1,"creation_date":1623910066,"post_id":6670578,"comment_id":120212433,"body_markdown":"You can mix business and presentation layers just as well with most other template engines because most of them are turing complete. I think stringtemplate.org is one of the not-turing-complete exceptions.","body":"You can mix business and presentation layers just as well with most other template engines because most of them are turing complete. I think stringtemplate.org is one of the not-turing-complete exceptions."}],"tags":[],"owner":{"account_id":758572,"reputation":613,"user_id":772286,"accept_rate":17,"display_name":"Dmitriy R"},"comment_count":2,"down_vote_count":4,"up_vote_count":27,"is_accepted":false,"score":23,"last_activity_date":1397952166,"creation_date":1310502017,"answer_id":6670578,"question_id":3177733,"body_markdown":"You raised a good question and although you got good answers, I would suggest that you get rid of JSP. It is outdated technology which eventually will die. Use a modern approach, like template engines. You will have very clear separation of business and presentation layers, and certainly no Java code in templates, so you can generate templates directly from web presentation editing software, in most cases leveraging WYSIWYG.\r\n\r\nAnd certainly stay away of filters and pre and post processing, otherwise you may deal with support/debugging difficulties since you always do not know where the variable gets the value.","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>You raised a good question and although you got good answers, I would suggest that you get rid of JSP. It is outdated technology which eventually will die. Use a modern approach, like template engines. You will have very clear separation of business and presentation layers, and certainly no Java code in templates, so you can generate templates directly from web presentation editing software, in most cases leveraging WYSIWYG.</p>\n\n<p>And certainly stay away of filters and pre and post processing, otherwise you may deal with support/debugging difficulties since you always do not know where the variable gets the value.</p>\n"},{"comments":[{"owner":{"account_id":1008301,"reputation":7815,"user_id":1021426,"accept_rate":81,"display_name":"Mar"},"score":17,"creation_date":1438206947,"post_id":7059994,"comment_id":51361643,"body_markdown":"@MrSpoon tracked down an answer for you. As per [this answer + comment](http://stackoverflow.com/questions/5890192/what-are-the-effects-of-disabling-scripting-in-a-jsp#comment6776514_5890208), this turns off scriptlets `&lt;% %&gt;`, scriptlet expressions `&lt;%! %&gt;`, and scriptlet declarations `&lt;%= %&gt;`. That means directives `&lt;%@ %&gt;` and comments `&lt;%-- --%&gt;` remain enabled and usable, so you can still do comments and includes.","body":"@MrSpoon tracked down an answer for you. As per <a href=\"http://stackoverflow.com/questions/5890192/what-are-the-effects-of-disabling-scripting-in-a-jsp#comment6776514_5890208\">this answer + comment</a>, this turns off scriptlets <code>&lt;% %&gt;</code>, scriptlet expressions <code>&lt;%! %&gt;</code>, and scriptlet declarations <code>&lt;%= %&gt;</code>. That means directives <code>&lt;%@ %&gt;</code> and comments <code>&lt;%-- --%&gt;</code> remain enabled and usable, so you can still do comments and includes."}],"tags":[],"owner":{"account_id":463967,"reputation":5429,"user_id":867184,"accept_rate":60,"display_name":"Stefan Schubert-Peters"},"comment_count":1,"down_vote_count":3,"up_vote_count":235,"is_accepted":false,"score":232,"last_activity_date":1339587209,"creation_date":1313359150,"answer_id":7059994,"question_id":3177733,"body_markdown":"**As a Safeguard: Disable Scriptlets For Good**\r\n\r\nAs [another question](https://stackoverflow.com/questions/2188706/how-to-avoid-using-scriptlets-in-my-jsp-page) is discussing, you can and always should disable scriptlets in your `web.xml` web application descriptor.\r\n\r\nI would always do that in order to prevent any developer adding scriptlets, especially in bigger companies where you will lose overview sooner or later. The `web.xml` settings look like this:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;jsp-config&gt;\r\n      &lt;jsp-property-group&gt;\r\n        &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\r\n         &lt;scripting-invalid&gt;true&lt;/scripting-invalid&gt;\r\n      &lt;/jsp-property-group&gt;\r\n    &lt;/jsp-config&gt;\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p><strong>As a Safeguard: Disable Scriptlets For Good</strong></p>\n\n<p>As <a href=\"https://stackoverflow.com/questions/2188706/how-to-avoid-using-scriptlets-in-my-jsp-page\">another question</a> is discussing, you can and always should disable scriptlets in your <code>web.xml</code> web application descriptor.</p>\n\n<p>I would always do that in order to prevent any developer adding scriptlets, especially in bigger companies where you will lose overview sooner or later. The <code>web.xml</code> settings look like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;jsp-config&gt;\n  &lt;jsp-property-group&gt;\n    &lt;url-pattern&gt;*.jsp&lt;/url-pattern&gt;\n     &lt;scripting-invalid&gt;true&lt;/scripting-invalid&gt;\n  &lt;/jsp-property-group&gt;\n&lt;/jsp-config&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":472722,"reputation":1663,"user_id":881375,"accept_rate":83,"display_name":"tomasb"},"score":0,"creation_date":1313873069,"post_id":7098720,"comment_id":8553737,"body_markdown":"though reusability of components is fine it targets some field","body":"though reusability of components is fine it targets some field"}],"tags":[],"owner":{"account_id":472722,"reputation":1663,"user_id":881375,"accept_rate":83,"display_name":"tomasb"},"comment_count":1,"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1598389330,"creation_date":1313611378,"answer_id":7098720,"question_id":3177733,"body_markdown":"**Learn to customize and write your own tags using JSTL**\r\n\r\nNote that EL is **EviL** (runtime exceptions and refactoring).\r\n\r\nWicket may be evil too (performance and toilsome for small applications or simple view tier).\r\n\r\n### Example from *java2s*\r\n\r\nThis must be added to the web application&#39;s web.xml\r\n\r\n    &lt;taglib&gt;\r\n        &lt;taglib-uri&gt;/java2s&lt;/taglib-uri&gt;\r\n        &lt;taglib-location&gt;/WEB-INF/java2s.tld&lt;/taglib-location&gt;\r\n    &lt;/taglib&gt;\r\n\r\nCreate file *java2s.tld* in the */WEB-INF/*\r\n\r\n    &lt;!DOCTYPE taglib\r\n      PUBLIC &quot;-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN&quot;\r\n       &quot;http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd&quot;&gt;\r\n\r\n    &lt;!-- A tab library descriptor --&gt;\r\n    &lt;taglib xmlns=&quot;http://java.sun.com/JSP/TagLibraryDescriptor&quot;&gt;\r\n        &lt;tlib-version&gt;1.0&lt;/tlib-version&gt;\r\n        &lt;jsp-version&gt;1.2&lt;/jsp-version&gt;\r\n        &lt;short-name&gt;Java2s Simple Tags&lt;/short-name&gt;\r\n\r\n        &lt;!-- This tag manipulates its body content by converting it to upper case\r\n        --&gt;\r\n        &lt;tag&gt;\r\n            &lt;name&gt;bodyContentTag&lt;/name&gt;\r\n            &lt;tag-class&gt;com.java2s.BodyContentTag&lt;/tag-class&gt;\r\n            &lt;body-content&gt;JSP&lt;/body-content&gt;\r\n            &lt;attribute&gt;\r\n              &lt;name&gt;howMany&lt;/name&gt;\r\n            &lt;/attribute&gt;\r\n        &lt;/tag&gt;\r\n    &lt;/taglib&gt;\r\n\r\nCompile the following code into *WEB-INF\\classes\\com\\java2s*\r\n\r\n    package com.java2s;\r\n\r\n    import java.io.IOException;\r\n    import javax.servlet.jsp.JspWriter;\r\n    import javax.servlet.jsp.tagext.BodyContent;\r\n    import javax.servlet.jsp.tagext.BodyTagSupport;\r\n\r\n    public class BodyContentTag extends BodyTagSupport{\r\n        private int iterations, howMany;\r\n\r\n        public void setHowMany(int i){\r\n            this.howMany = i;\r\n        }\r\n\r\n        public void setBodyContent(BodyContent bc){\r\n            super.setBodyContent(bc);\r\n            System.out.println(&quot;BodyContent = &#39;&quot; + bc.getString() + &quot;&#39;&quot;);\r\n        }\r\n\r\n        public int doAfterBody(){\r\n            try{\r\n                BodyContent bodyContent = super.getBodyContent();\r\n                String bodyString  = bodyContent.getString();\r\n                JspWriter out = bodyContent.getEnclosingWriter();\r\n\r\n                if ( iterations % 2 == 0 )\r\n                    out.print(bodyString.toLowerCase());\r\n                else\r\n                    out.print(bodyString.toUpperCase());\r\n\r\n                iterations++;\r\n                bodyContent.clear(); // empty buffer for next evaluation\r\n            }\r\n            catch (IOException e) {\r\n                System.out.println(&quot;Error in BodyContentTag.doAfterBody()&quot; + e.getMessage());\r\n                e.printStackTrace();\r\n            } // End of catch\r\n\r\n            int retValue = SKIP_BODY;\r\n\r\n            if ( iterations &lt; howMany )\r\n                retValue = EVAL_BODY_AGAIN;\r\n\r\n            return retValue;\r\n        }\r\n    }\r\n\r\nStart the server and load the bodyContent.jsp file in the browser:\r\n\r\n    &lt;%@ taglib uri=&quot;/java2s&quot; prefix=&quot;java2s&quot; %&gt;\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;title&gt;A custom tag: body content&lt;/title&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            This page uses a custom tag manipulates its body content.Here is its output:\r\n            &lt;ol&gt;\r\n                &lt;java2s:bodyContentTag howMany=&quot;3&quot;&gt;\r\n                &lt;li&gt;java2s.com&lt;/li&gt;\r\n                &lt;/java2s:bodyContentTag&gt;\r\n            &lt;/ol&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p><strong>Learn to customize and write your own tags using JSTL</strong></p>\n<p>Note that EL is <strong>EviL</strong> (runtime exceptions and refactoring).</p>\n<p>Wicket may be evil too (performance and toilsome for small applications or simple view tier).</p>\n<h3>Example from <em>java2s</em></h3>\n<p>This must be added to the web application's web.xml</p>\n<pre><code>&lt;taglib&gt;\n    &lt;taglib-uri&gt;/java2s&lt;/taglib-uri&gt;\n    &lt;taglib-location&gt;/WEB-INF/java2s.tld&lt;/taglib-location&gt;\n&lt;/taglib&gt;\n</code></pre>\n<p>Create file <em>java2s.tld</em> in the <em>/WEB-INF/</em></p>\n<pre><code>&lt;!DOCTYPE taglib\n  PUBLIC &quot;-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN&quot;\n   &quot;http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd&quot;&gt;\n\n&lt;!-- A tab library descriptor --&gt;\n&lt;taglib xmlns=&quot;http://java.sun.com/JSP/TagLibraryDescriptor&quot;&gt;\n    &lt;tlib-version&gt;1.0&lt;/tlib-version&gt;\n    &lt;jsp-version&gt;1.2&lt;/jsp-version&gt;\n    &lt;short-name&gt;Java2s Simple Tags&lt;/short-name&gt;\n\n    &lt;!-- This tag manipulates its body content by converting it to upper case\n    --&gt;\n    &lt;tag&gt;\n        &lt;name&gt;bodyContentTag&lt;/name&gt;\n        &lt;tag-class&gt;com.java2s.BodyContentTag&lt;/tag-class&gt;\n        &lt;body-content&gt;JSP&lt;/body-content&gt;\n        &lt;attribute&gt;\n          &lt;name&gt;howMany&lt;/name&gt;\n        &lt;/attribute&gt;\n    &lt;/tag&gt;\n&lt;/taglib&gt;\n</code></pre>\n<p>Compile the following code into <em>WEB-INF\\classes\\com\\java2s</em></p>\n<pre><code>package com.java2s;\n\nimport java.io.IOException;\nimport javax.servlet.jsp.JspWriter;\nimport javax.servlet.jsp.tagext.BodyContent;\nimport javax.servlet.jsp.tagext.BodyTagSupport;\n\npublic class BodyContentTag extends BodyTagSupport{\n    private int iterations, howMany;\n\n    public void setHowMany(int i){\n        this.howMany = i;\n    }\n\n    public void setBodyContent(BodyContent bc){\n        super.setBodyContent(bc);\n        System.out.println(&quot;BodyContent = '&quot; + bc.getString() + &quot;'&quot;);\n    }\n\n    public int doAfterBody(){\n        try{\n            BodyContent bodyContent = super.getBodyContent();\n            String bodyString  = bodyContent.getString();\n            JspWriter out = bodyContent.getEnclosingWriter();\n\n            if ( iterations % 2 == 0 )\n                out.print(bodyString.toLowerCase());\n            else\n                out.print(bodyString.toUpperCase());\n\n            iterations++;\n            bodyContent.clear(); // empty buffer for next evaluation\n        }\n        catch (IOException e) {\n            System.out.println(&quot;Error in BodyContentTag.doAfterBody()&quot; + e.getMessage());\n            e.printStackTrace();\n        } // End of catch\n\n        int retValue = SKIP_BODY;\n\n        if ( iterations &lt; howMany )\n            retValue = EVAL_BODY_AGAIN;\n\n        return retValue;\n    }\n}\n</code></pre>\n<p>Start the server and load the bodyContent.jsp file in the browser:</p>\n<pre><code>&lt;%@ taglib uri=&quot;/java2s&quot; prefix=&quot;java2s&quot; %&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;A custom tag: body content&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        This page uses a custom tag manipulates its body content.Here is its output:\n        &lt;ol&gt;\n            &lt;java2s:bodyContentTag howMany=&quot;3&quot;&gt;\n            &lt;li&gt;java2s.com&lt;/li&gt;\n            &lt;/java2s:bodyContentTag&gt;\n        &lt;/ol&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":463980,"reputation":6172,"user_id":867206,"accept_rate":14,"display_name":"Ajay Takur"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1598389159,"creation_date":1333374724,"answer_id":9977740,"question_id":3177733,"body_markdown":"If we use the following things in a Java web application, Java code can be eliminated from the foreground of the JSP file.\r\n\r\n1. Use the MVC architecture for a web application\r\n\r\n2. Use JSP Tags\r\n\r\n a. Standard Tags\r\n\r\n b. Custom Tags\r\n\r\n3. Expression Language\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>If we use the following things in a Java web application, Java code can be eliminated from the foreground of the JSP file.</p>\n<ol>\n<li><p>Use the MVC architecture for a web application</p>\n</li>\n<li><p>Use JSP Tags</p>\n</li>\n</ol>\n<p>a. Standard Tags</p>\n<p>b. Custom Tags</p>\n<ol start=\"3\">\n<li>Expression Language</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":141848,"reputation":1340,"user_id":349161,"accept_rate":73,"display_name":"dipu"},"comment_count":0,"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1598389057,"creation_date":1336754752,"answer_id":10555449,"question_id":3177733,"body_markdown":"If you simply want to avoid the drawbacks of Java coding in JSP you can do so even with scriplets. Just follow some discipline to have minimal Java in JSP and almost no calculation and logic in the JSP page. \r\n\r\n    &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n    &lt;% // Instantiate a JSP controller\r\n    MyController clr = new MyController(request, response);\r\n    \r\n    // Process action, if any\r\n    clr.process(request);\r\n    \r\n    // Process page forwarding, if necessary\r\n    \r\n    // Do all variable assignment here\r\n    String showMe = clr.getShowMe();%&gt;\r\n    \r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;form name=&quot;frm1&quot;&gt;\r\n                &lt;p&gt;&lt;%= showMe %&gt;\r\n                &lt;p&gt;&lt;% for(String str : clr.listOfStrings()) { %&gt;\r\n                &lt;p&gt;&lt;%= str %&gt;&lt;% } %&gt;\r\n    \r\n                // And so on   \r\n            &lt;/form&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>If you simply want to avoid the drawbacks of Java coding in JSP you can do so even with scriplets. Just follow some discipline to have minimal Java in JSP and almost no calculation and logic in the JSP page.</p>\n<pre><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\n&lt;% // Instantiate a JSP controller\nMyController clr = new MyController(request, response);\n\n// Process action, if any\nclr.process(request);\n\n// Process page forwarding, if necessary\n\n// Do all variable assignment here\nString showMe = clr.getShowMe();%&gt;\n\n&lt;html&gt;\n    &lt;head&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;form name=&quot;frm1&quot;&gt;\n            &lt;p&gt;&lt;%= showMe %&gt;\n            &lt;p&gt;&lt;% for(String str : clr.listOfStrings()) { %&gt;\n            &lt;p&gt;&lt;%= str %&gt;&lt;% } %&gt;\n\n            // And so on   \n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1337799191,"post_id":10681343,"comment_id":13932111,"body_markdown":"JSP has since dec 2009 been succeeded by Facelets which supports this stuff. Facelets is also XML based. See also among others the [Facelets chapter in Java EE 6 tutorial](http://docs.oracle.com/javaee/6/tutorial/doc/giepx.html) and [`ui:xxx` tags in Facelts VDL](http://docs.oracle.com/javaee/6/javaserverfaces/2.1/docs/vdldocs/facelets/).","body":"JSP has since dec 2009 been succeeded by Facelets which supports this stuff. Facelets is also XML based. See also among others the <a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/giepx.html\" rel=\"nofollow noreferrer\">Facelets chapter in Java EE 6 tutorial</a> and <a href=\"http://docs.oracle.com/javaee/6/javaserverfaces/2.1/docs/vdldocs/facelets/\" rel=\"nofollow noreferrer\"><code>ui:xxx</code> tags in Facelts VDL</a>."},{"owner":{"account_id":1046838,"reputation":2491,"user_id":1051649,"accept_rate":64,"display_name":"Tobias"},"score":0,"creation_date":1343744889,"post_id":10681343,"comment_id":15585143,"body_markdown":"I don&#39;t know Facelets very well, but IIRC it is all about writing classes which implement custom XML elements.  The TAL/ZPT way is to have templates which contain true (X)HTML with special attributes which fill or replace the original elements; thus, you can view the working template and see a prototype with nice dummy content. I&#39;m not sure Facelets allow to tweak the original HTML elements (w/o an additional namespace) using custom attributes.","body":"I don&#39;t know Facelets very well, but IIRC it is all about writing classes which implement custom XML elements.  The TAL/ZPT way is to have templates which contain true (X)HTML with special attributes which fill or replace the original elements; thus, you can view the working template and see a prototype with nice dummy content. I&#39;m not sure Facelets allow to tweak the original HTML elements (w/o an additional namespace) using custom attributes."},{"owner":{"account_id":1046838,"reputation":2491,"user_id":1051649,"accept_rate":64,"display_name":"Tobias"},"score":0,"creation_date":1395564709,"post_id":10681343,"comment_id":34389207,"body_markdown":"I just had another look at this Facelets stuff.  It contains all sorts of validation facilities etc. and thus follows a completely different philosophy than TAL. The TAL way is, &quot;Keep the logic out of the template as cleanly as possible; have all the complicated stuff be done by the controller which feeds it.&quot; You won&#39;t ever give a Facelets template to a designer to have him/her tweak it; it&#39;s just not possible. Regarding the generated content - it&#39;s just like using `tal:replace=&quot;structure (expression)&quot;` attributes all the time.","body":"I just had another look at this Facelets stuff.  It contains all sorts of validation facilities etc. and thus follows a completely different philosophy than TAL. The TAL way is, &quot;Keep the logic out of the template as cleanly as possible; have all the complicated stuff be done by the controller which feeds it.&quot; You won&#39;t ever give a Facelets template to a designer to have him/her tweak it; it&#39;s just not possible. Regarding the generated content - it&#39;s just like using <code>tal:replace=&quot;structure (expression)&quot;</code> attributes all the time."}],"tags":[],"owner":{"account_id":1046838,"reputation":2491,"user_id":1051649,"accept_rate":64,"display_name":"Tobias"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1598388959,"creation_date":1337586693,"answer_id":10681343,"question_id":3177733,"body_markdown":"A neat idea from the Python world is *Template attribute languages*; TAL was introduced by Zope (therefore a.k.a. &quot;Zope Page Templates&quot;, ZPT) and is a standard, with implementations in PHP, XSLT and Java as well (I have used the Python/Zope and PHP incarnations). In this class of templating languages, one of the above examples could look like this:\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;table&gt;\r\n        &lt;tr tal:repeat=&quot;product products&quot;&gt;\r\n            &lt;td tal:content=&quot;product/name&quot;&gt;Example product&lt;/td&gt;\r\n            &lt;td tal:content=&quot;product/description&quot;&gt;A nice description&lt;/td&gt;\r\n            &lt;td tal:content=&quot;product/price&quot;&gt;1.23&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n\r\nThe code looks like ordinary HTML (or XHTML) plus some special attributes in an XML namespace; it can be viewed with a browser and safely be tweaked by a designer.\r\n\r\nThere is support for macros and for [internationalisation and localisation][1] as well:\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;h1 i18n:translate=&quot;&quot;&gt;Our special offers&lt;/h1&gt;\r\n    &lt;table&gt;\r\n        &lt;tr tal:repeat=&quot;product products&quot;&gt;\r\n            &lt;td tal:content=&quot;product/name&quot;\r\n                i18n:translate=&quot;&quot;&gt;Example product&lt;/td&gt;\r\n            &lt;td tal:content=&quot;product/description&quot;\r\n                i18n:translate=&quot;&quot;&gt;A nice description&lt;/td&gt;\r\n            &lt;td tal:content=&quot;product/price&quot;&gt;1.23&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n\r\nIf translations of the content are available, they are used.\r\n\r\nI don&#39;t know very much about the [Java implementation][2], though.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Internationalization_and_localization\r\n  [2]: http://sourceforge.net/projects/javazpt/\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>A neat idea from the Python world is <em>Template attribute languages</em>; TAL was introduced by Zope (therefore a.k.a. &quot;Zope Page Templates&quot;, ZPT) and is a standard, with implementations in PHP, XSLT and Java as well (I have used the Python/Zope and PHP incarnations). In this class of templating languages, one of the above examples could look like this:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;table&gt;\n    &lt;tr tal:repeat=&quot;product products&quot;&gt;\n        &lt;td tal:content=&quot;product/name&quot;&gt;Example product&lt;/td&gt;\n        &lt;td tal:content=&quot;product/description&quot;&gt;A nice description&lt;/td&gt;\n        &lt;td tal:content=&quot;product/price&quot;&gt;1.23&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n<p>The code looks like ordinary HTML (or XHTML) plus some special attributes in an XML namespace; it can be viewed with a browser and safely be tweaked by a designer.</p>\n<p>There is support for macros and for <a href=\"https://en.wikipedia.org/wiki/Internationalization_and_localization\" rel=\"nofollow noreferrer\">internationalisation and localisation</a> as well:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;h1 i18n:translate=&quot;&quot;&gt;Our special offers&lt;/h1&gt;\n&lt;table&gt;\n    &lt;tr tal:repeat=&quot;product products&quot;&gt;\n        &lt;td tal:content=&quot;product/name&quot;\n            i18n:translate=&quot;&quot;&gt;Example product&lt;/td&gt;\n        &lt;td tal:content=&quot;product/description&quot;\n            i18n:translate=&quot;&quot;&gt;A nice description&lt;/td&gt;\n        &lt;td tal:content=&quot;product/price&quot;&gt;1.23&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n<p>If translations of the content are available, they are used.</p>\n<p>I don't know very much about the <a href=\"http://sourceforge.net/projects/javazpt/\" rel=\"nofollow noreferrer\">Java implementation</a>, though.</p>\n"},{"comments":[{"owner":{"account_id":97245,"reputation":748,"user_id":263877,"display_name":"Evan Donovan"},"score":1,"creation_date":1396457183,"post_id":14442545,"comment_id":34799946,"body_markdown":"Doesn&#39;t really answer the OP&#39;s question.","body":"Doesn&#39;t really answer the OP&#39;s question."},{"owner":{"account_id":2251716,"reputation":803,"user_id":1983814,"accept_rate":73,"display_name":"CsBalazsHungary"},"score":1,"creation_date":1396498629,"post_id":14442545,"comment_id":34817426,"body_markdown":"@EvanDonovan well, practically it does give an answer. You don&#39;t need to mess with Java codes mixing up with other languages. I admit it uses Java for coding, but it will be translated to JS without Java calls. But the question&#39;s scope is how to avoid the chaos of the classic JSP. And GWT technology solves that. I added up this answer since nobody mentioned it, but relevant since it is an alternative to JSP. I didn&#39;t want to answer the question&#39;s whole scope, but to add a valuable information for people who are ooking for alternatives.","body":"@EvanDonovan well, practically it does give an answer. You don&#39;t need to mess with Java codes mixing up with other languages. I admit it uses Java for coding, but it will be translated to JS without Java calls. But the question&#39;s scope is how to avoid the chaos of the classic JSP. And GWT technology solves that. I added up this answer since nobody mentioned it, but relevant since it is an alternative to JSP. I didn&#39;t want to answer the question&#39;s whole scope, but to add a valuable information for people who are ooking for alternatives."}],"tags":[],"owner":{"account_id":2251716,"reputation":803,"user_id":1983814,"accept_rate":73,"display_name":"CsBalazsHungary"},"comment_count":2,"down_vote_count":3,"up_vote_count":20,"is_accepted":false,"score":17,"last_activity_date":1598388848,"creation_date":1358784272,"answer_id":14442545,"question_id":3177733,"body_markdown":"**If somebody is really against programming in more languages than one**, I suggest GWT. Theoretically, you can avoid all the JavaScript and HTML elements, because Google Toolkit transforms all the client and shared code to JavaScript. You won&#39;t have problem with them, so you have a webservice without coding in any other languages. You can even use some default CSS from somewhere as it is given by extensions (smartGWT or [Vaadin][1]). You don&#39;t need to learn dozens of annotations. \r\n\r\nOf course, if you want, you can hack yourself into the depths of the code and inject JavaScript and enrich your HTML page, but really you can avoid it if you want, and the result will be good as it was written in any other frameworks. I it&#39;s say worth a try, and the basic GWT is well-documented.\r\n\r\nAnd of course many fellow programmers hereby described or recommended several other solutions. GWT is for people who really don&#39;t want to deal with the web part or to minimize it. \r\n\r\n  [1]: https://en.wikipedia.org/wiki/Vaadin\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p><strong>If somebody is really against programming in more languages than one</strong>, I suggest GWT. Theoretically, you can avoid all the JavaScript and HTML elements, because Google Toolkit transforms all the client and shared code to JavaScript. You won't have problem with them, so you have a webservice without coding in any other languages. You can even use some default CSS from somewhere as it is given by extensions (smartGWT or <a href=\"https://en.wikipedia.org/wiki/Vaadin\" rel=\"nofollow noreferrer\">Vaadin</a>). You don't need to learn dozens of annotations.</p>\n<p>Of course, if you want, you can hack yourself into the depths of the code and inject JavaScript and enrich your HTML page, but really you can avoid it if you want, and the result will be good as it was written in any other frameworks. I it's say worth a try, and the basic GWT is well-documented.</p>\n<p>And of course many fellow programmers hereby described or recommended several other solutions. GWT is for people who really don't want to deal with the web part or to minimize it.</p>\n"},{"comments":[{"owner":{"account_id":34247,"reputation":1973,"user_id":96617,"accept_rate":78,"display_name":"Lluis Martinez"},"score":1,"creation_date":1563828743,"post_id":14539925,"comment_id":100822253,"body_markdown":"&quot;No matter how much you try to avoid, when you work with other developers, some of them will still prefer scriptlet and then insert the evil code into the project.&quot; See &quot;As a Safeguard: Disable Scriptlets For Good&quot; answer.","body":"&quot;No matter how much you try to avoid, when you work with other developers, some of them will still prefer scriptlet and then insert the evil code into the project.&quot; See &quot;As a Safeguard: Disable Scriptlets For Good&quot; answer."},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1626708683,"post_id":14539925,"comment_id":120960061,"body_markdown":"Or you could just explain why scriptlets are evil and if you can&#39;t explain it, maybe they&#39;re not actually evil after all.","body":"Or you could just explain why scriptlets are evil and if you can&#39;t explain it, maybe they&#39;re not actually evil after all."}],"tags":[],"owner":{"account_id":114177,"reputation":9845,"user_id":300359,"accept_rate":64,"display_name":"Thai Tran"},"comment_count":2,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1359223676,"creation_date":1359223676,"answer_id":14539925,"question_id":3177733,"body_markdown":"No matter how much you try to avoid, when you work with other developers, some of them will still prefer scriptlet and then insert the evil code into the project. Therefore, setting up the project at the first sign is very important if you really want to reduce the scriptlet code. There are several techniques to get over this (including several frameworks that other mentioned). However, if you prefer the pure JSP way, then use the JSTL tag file. The nice thing about this is you can also set up master pages for your project, so the other pages can inherit the master pages\r\n\r\n**Create a master page called base.tag under your WEB-INF/tags with the following content**\r\n\r\n&gt;     &lt;%@tag description=&quot;Overall Page template&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&gt;     \r\n&gt;     &lt;%@attribute name=&quot;title&quot; fragment=&quot;true&quot; %&gt;\r\n&gt;     \r\n&gt;     &lt;html&gt;\r\n&gt;       &lt;head&gt;\r\n&gt;         &lt;title&gt;  \r\n&gt;            &lt;jsp:invoke fragment=&quot;title&quot;&gt;&lt;/jsp:invoke&gt;\r\n&gt;         &lt;/title&gt;\r\n&gt;         \r\n&gt;       &lt;/head&gt;\r\n&gt;       &lt;body&gt;\r\n&gt;         &lt;div id=&quot;page-header&quot;&gt;\r\n&gt;            ....\r\n&gt;         &lt;/div&gt;\r\n&gt;         &lt;div id=&quot;page-body&quot;&gt;\r\n&gt;           &lt;jsp:doBody/&gt;\r\n&gt;         &lt;/div&gt;\r\n&gt;         &lt;div id=&quot;page-footer&quot;&gt;\r\n&gt;           .....\r\n&gt;         &lt;/div&gt;\r\n&gt;       &lt;/body&gt;\r\n&gt;     &lt;/html&gt;\r\n\r\nOn this mater page, I created a fragment called &quot;title&quot;, so that in the child page, I could insert more codes into this place of the master page. Also, the tag `&lt;jsp:doBody/&gt;` will be replaced by the content of the child page \r\n\r\n**Create child page (child.jsp) in your WebContent folder:**\r\n\r\n&gt; &lt;%@ taglib prefix=&quot;bean&quot; uri=&quot;http://struts.apache.org/tags-bean&quot;%&gt;\r\n&gt; \r\n&gt;     &lt;%@ taglib prefix=&quot;t&quot; tagdir=&quot;/WEB-INF/tags&quot; %&gt;\r\n&gt; \r\n&gt;     &lt;t:base&gt;\r\n&gt;         &lt;jsp:attribute name=&quot;title&quot;&gt; \r\n&gt;             &lt;bean:message key=&quot;hello.world&quot; /&gt;\r\n&gt;         &lt;/jsp:attribute&gt;\r\n&gt;         \r\n&gt;         &lt;jsp:body&gt;\r\n&gt;         [Put your content of the child here]\r\n&gt;         &lt;/jsp:body&gt;   \r\n&gt;     &lt;/t:base&gt;\r\n\r\n\r\n`&lt;t:base&gt;` is used to specify the master page you want to use (which is base.tag at this moment). All the content inside the tag `&lt;jsp:body&gt;` here will replace the `&lt;jsp:doBody/&gt;` on your master page. Your child page can also include any tag lib and you can use it normally like the other mentioned. However, if you use any scriptlet code here (`&lt;%= request.getParameter(&quot;name&quot;) %&gt;` ...) and try to run this page, you will get a `JasperException because  Scripting elements ( &amp;lt;%!, &amp;lt;jsp:declaration, &amp;lt;%=, &amp;lt;jsp:expression, &amp;lt;%, &amp;lt;jsp:scriptlet ) are disallowed here`. Therefore, there is no way other people can include the evil code into the jsp file\r\n\r\n**Calling this page from your controller:**\r\n\r\nYou can easily call the child.jsp file from your controller. This also works nice with the struts framework","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>No matter how much you try to avoid, when you work with other developers, some of them will still prefer scriptlet and then insert the evil code into the project. Therefore, setting up the project at the first sign is very important if you really want to reduce the scriptlet code. There are several techniques to get over this (including several frameworks that other mentioned). However, if you prefer the pure JSP way, then use the JSTL tag file. The nice thing about this is you can also set up master pages for your project, so the other pages can inherit the master pages</p>\n\n<p><strong>Create a master page called base.tag under your WEB-INF/tags with the following content</strong></p>\n\n<blockquote>\n<pre><code>&lt;%@tag description=\"Overall Page template\" pageEncoding=\"UTF-8\"%&gt;\n\n&lt;%@attribute name=\"title\" fragment=\"true\" %&gt;\n\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;  \n       &lt;jsp:invoke fragment=\"title\"&gt;&lt;/jsp:invoke&gt;\n    &lt;/title&gt;\n\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;div id=\"page-header\"&gt;\n       ....\n    &lt;/div&gt;\n    &lt;div id=\"page-body\"&gt;\n      &lt;jsp:doBody/&gt;\n    &lt;/div&gt;\n    &lt;div id=\"page-footer\"&gt;\n      .....\n    &lt;/div&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n</blockquote>\n\n<p>On this mater page, I created a fragment called \"title\", so that in the child page, I could insert more codes into this place of the master page. Also, the tag <code>&lt;jsp:doBody/&gt;</code> will be replaced by the content of the child page </p>\n\n<p><strong>Create child page (child.jsp) in your WebContent folder:</strong></p>\n\n<blockquote>\n  \n\n<pre><code>&lt;%@ taglib prefix=\"t\" tagdir=\"/WEB-INF/tags\" %&gt;\n\n&lt;t:base&gt;\n    &lt;jsp:attribute name=\"title\"&gt; \n        &lt;bean:message key=\"hello.world\" /&gt;\n    &lt;/jsp:attribute&gt;\n\n    &lt;jsp:body&gt;\n    [Put your content of the child here]\n    &lt;/jsp:body&gt;   \n&lt;/t:base&gt;\n</code></pre>\n</blockquote>\n\n<p><code>&lt;t:base&gt;</code> is used to specify the master page you want to use (which is base.tag at this moment). All the content inside the tag <code>&lt;jsp:body&gt;</code> here will replace the <code>&lt;jsp:doBody/&gt;</code> on your master page. Your child page can also include any tag lib and you can use it normally like the other mentioned. However, if you use any scriptlet code here (<code>&lt;%= request.getParameter(\"name\") %&gt;</code> ...) and try to run this page, you will get a <code>JasperException because  Scripting elements ( &amp;lt;%!, &amp;lt;jsp:declaration, &amp;lt;%=, &amp;lt;jsp:expression, &amp;lt;%, &amp;lt;jsp:scriptlet ) are disallowed here</code>. Therefore, there is no way other people can include the evil code into the jsp file</p>\n\n<p><strong>Calling this page from your controller:</strong></p>\n\n<p>You can easily call the child.jsp file from your controller. This also works nice with the struts framework</p>\n"},{"tags":[],"owner":{"account_id":2304091,"reputation":8985,"user_id":2023728,"accept_rate":83,"display_name":"mel3kings"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1598387969,"creation_date":1371202291,"answer_id":17105374,"question_id":3177733,"body_markdown":"**Technically, JSP are all converted to Servlets during runtime**.\r\n\r\nJSP was initially created for the purpose of the decoupling the business logic and the design logic, following the MVC pattern. So JSP is technically all Java code during runtime.\r\n\r\nBut to answer the question, *tag libraries* are usually used for applying logic (removing Java code) to JSP pages.\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p><strong>Technically, JSP are all converted to Servlets during runtime</strong>.</p>\n<p>JSP was initially created for the purpose of the decoupling the business logic and the design logic, following the MVC pattern. So JSP is technically all Java code during runtime.</p>\n<p>But to answer the question, <em>tag libraries</em> are usually used for applying logic (removing Java code) to JSP pages.</p>\n"},{"tags":[],"owner":{"account_id":301494,"reputation":2081,"user_id":2041542,"accept_rate":60,"display_name":"kapil das"},"comment_count":0,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1385136122,"creation_date":1374472760,"answer_id":17780850,"question_id":3177733,"body_markdown":"Using scriptlets in JSPs is not a good practice.\r\n\r\nInstead, you can use:\r\n\r\n1. JSTL tags   \r\n2. EL expressions\r\n3. Custom Tags- you can define your own tags to use.\r\n\r\nPlease refer to: \r\n\r\n1. http://docs.oracle.com/javaee/1.4/tutorial/doc/JSTL3.html\r\n2. [EL][1] \r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/1.4/tutorial/doc/JSPIntro7.html","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Using scriptlets in JSPs is not a good practice.</p>\n\n<p>Instead, you can use:</p>\n\n<ol>\n<li>JSTL tags   </li>\n<li>EL expressions</li>\n<li>Custom Tags- you can define your own tags to use.</li>\n</ol>\n\n<p>Please refer to: </p>\n\n<ol>\n<li><a href=\"http://docs.oracle.com/javaee/1.4/tutorial/doc/JSTL3.html\">http://docs.oracle.com/javaee/1.4/tutorial/doc/JSTL3.html</a></li>\n<li><a href=\"http://docs.oracle.com/javaee/1.4/tutorial/doc/JSPIntro7.html\">EL</a> </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2189278,"reputation":157,"user_id":1936845,"display_name":"Razvan"},"comment_count":0,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1511353363,"creation_date":1394903838,"answer_id":22427102,"question_id":3177733,"body_markdown":"Sure, replace `&lt;%! counter++; %&gt;` by an event producer-consumer architecture, where the business layer is notified about the need to increment the counter, it reacts accordingly, and notifies the presenters so that they update the views. A number of database transactions are involved, since in future we will need to know the new and old value of the counter, who has incremented it and with what purpose in mind. Obviously serialization is involved, since the layers are entirely decoupled. You will be able to increment your counter over RMI, IIOP, SOAP. But only HTML is required, which you don&#39;t implement, since it is such a mundane case. Your new goal is to reach 250 increments a second on your new shiny E7, 64GB RAM server.\r\n\r\nI have more than 20 years in programming, most of the projects fail before the sextet: Reusability Replaceability OO-ability Debuggability Testability Maintainability is even needed. Other projects, run by people who only cared about functionality, were extremely successful.  Also, stiff object structure, implemented too early in the project, makes the code unable to be adapted to the drastic changes in the specifications (aka agile).\r\n\r\nSo I consider as procrastination the activity of defining &quot;layers&quot; or redundant data structures either early in the project or when not specifically required. &amp;nbsp;","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Sure, replace <code>&lt;%! counter++; %&gt;</code> by an event producer-consumer architecture, where the business layer is notified about the need to increment the counter, it reacts accordingly, and notifies the presenters so that they update the views. A number of database transactions are involved, since in future we will need to know the new and old value of the counter, who has incremented it and with what purpose in mind. Obviously serialization is involved, since the layers are entirely decoupled. You will be able to increment your counter over RMI, IIOP, SOAP. But only HTML is required, which you don't implement, since it is such a mundane case. Your new goal is to reach 250 increments a second on your new shiny E7, 64GB RAM server.</p>\n\n<p>I have more than 20 years in programming, most of the projects fail before the sextet: Reusability Replaceability OO-ability Debuggability Testability Maintainability is even needed. Other projects, run by people who only cared about functionality, were extremely successful.  Also, stiff object structure, implemented too early in the project, makes the code unable to be adapted to the drastic changes in the specifications (aka agile).</p>\n\n<p>So I consider as procrastination the activity of defining \"layers\" or redundant data structures either early in the project or when not specifically required. &nbsp;</p>\n"},{"comments":[{"owner":{"account_id":1259046,"reputation":529,"user_id":1217877,"accept_rate":27,"display_name":"casgage"},"score":0,"creation_date":1485917565,"post_id":34452329,"comment_id":71120605,"body_markdown":"I definitely second this response. JSF with or without Facelets. I thought developing in JSP had largely ceased more than 10 years ago. I last wrote JSPs in 2000!","body":"I definitely second this response. JSF with or without Facelets. I thought developing in JSP had largely ceased more than 10 years ago. I last wrote JSPs in 2000!"}],"tags":[],"owner":{"account_id":1385391,"reputation":3217,"user_id":1317559,"accept_rate":77,"display_name":"Yster"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1598386941,"creation_date":1450957647,"answer_id":34452329,"question_id":3177733,"body_markdown":"***How can I avoid Java code in JSP files?***\r\n\r\nYou can use tab library tags like **JSTL** in addition to Expression Language (**EL**). But EL does not work well with JSP. So it&#39;s is probably better to drop JSP completely and use **Facelets**.\r\n\r\n**Facelets** is the first non JSP page declaration language designed for **JSF (Java Server Faces)** which provided a simpler and more powerful programming model to JSF developers as compare to JSP. It resolves different issues occurs in JSP for web applications development.\r\n\r\n[![Enter image description here][1]][1]\r\n\r\n[Source][2]\r\n\r\n  [1]: http://i.stack.imgur.com/osqxG.png\r\n  [2]: http://javawebaction.blogspot.fr/2012/05/difference-between-jsp-and-facelets.html\r\n\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p><em><strong>How can I avoid Java code in JSP files?</strong></em></p>\n<p>You can use tab library tags like <strong>JSTL</strong> in addition to Expression Language (<strong>EL</strong>). But EL does not work well with JSP. So it's is probably better to drop JSP completely and use <strong>Facelets</strong>.</p>\n<p><strong>Facelets</strong> is the first non JSP page declaration language designed for <strong>JSF (Java Server Faces)</strong> which provided a simpler and more powerful programming model to JSF developers as compare to JSP. It resolves different issues occurs in JSP for web applications development.</p>\n<p><a href=\"https://i.stack.imgur.com/osqxG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/osqxG.png\" alt=\"Enter image description here\" /></a></p>\n<p><a href=\"http://javawebaction.blogspot.fr/2012/05/difference-between-jsp-and-facelets.html\" rel=\"nofollow noreferrer\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1598386830,"creation_date":1460472951,"answer_id":36576959,"question_id":3177733,"body_markdown":"JSP 2.0 has a feature called **&quot;Tag Files&quot;**, and you can write tags without external Java code and `tld`. You need to create a `.tag` file and put it in `WEB-INF\\tags`. You can even create a directory structure to package your tags.\r\n\r\nFor example:\r\n\r\n    /WEB-INF/tags/html/label.tag\r\n\r\n    &lt;%@tag description=&quot;Rensders a label with required css class&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;%@attribute name=&quot;name&quot; required=&quot;true&quot; description=&quot;The label&quot;%&gt;\r\n\r\n    &lt;label class=&quot;control-label control-default&quot;  id=&quot;${name}Label&quot;&gt;${name}&lt;/label&gt;\r\n\r\nUse it like\r\n\r\n    &lt;%@ taglib prefix=&quot;h&quot; tagdir=&quot;/WEB-INF/tags/html&quot;%&gt;\r\n    &lt;h:label  name=&quot;customer name&quot; /&gt;\r\n\r\nAlso, you can read the tag body easily:\r\n\r\n    /WEB-INF/tags/html/bold.tag\r\n    &lt;%@tag description=&quot;Bold tag&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;b&gt;\r\n      &lt;jsp:doBody/&gt;\r\n    &lt;/b&gt;\r\n\r\nUse it:\r\n\r\n    &lt;%@ taglib prefix=&quot;h&quot; tagdir=&quot;/WEB-INF/tags/bold&quot;%&gt;\r\n    &lt;h:bold&gt;Make me bold&lt;/h:bold&gt;\r\n\r\nThe samples are very simple, but you can do lots of complicated tasks here. Please consider you can use other tags (for example: `JSTL` which has controlling tags like `if/forEcah/chosen` text manipulation like `format/contains/uppercase` or even SQL tags `select/update`), pass all kind parameters, for example `Hashmap`, access `session`, `request`, ... in your tag file too.\r\n\r\n**Tag File** are so easy developed as you did not need to restart the server when changing them, like JSP files. This makes them easy for development.\r\n\r\nEven if you use a framework like Struts 2, which have lots of good tags, you may find that having your own tags can reduce your code a lot. You can pass your tag parameters to struts and this way customize your framework tag.\r\n\r\nYou can use tags not only to avoid Java, but also minimize your HTML codes. I myself try to review HTML code and build tags a lot as soon as I see code duplicates start in my pages.\r\n\r\n(Even if you end up using Java in your JSP code, which I hope not, you can encapsulate that code in a tag.)\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>JSP 2.0 has a feature called <strong>&quot;Tag Files&quot;</strong>, and you can write tags without external Java code and <code>tld</code>. You need to create a <code>.tag</code> file and put it in <code>WEB-INF\\tags</code>. You can even create a directory structure to package your tags.</p>\n<p>For example:</p>\n<pre><code>/WEB-INF/tags/html/label.tag\n\n&lt;%@tag description=&quot;Rensders a label with required css class&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@attribute name=&quot;name&quot; required=&quot;true&quot; description=&quot;The label&quot;%&gt;\n\n&lt;label class=&quot;control-label control-default&quot;  id=&quot;${name}Label&quot;&gt;${name}&lt;/label&gt;\n</code></pre>\n<p>Use it like</p>\n<pre><code>&lt;%@ taglib prefix=&quot;h&quot; tagdir=&quot;/WEB-INF/tags/html&quot;%&gt;\n&lt;h:label  name=&quot;customer name&quot; /&gt;\n</code></pre>\n<p>Also, you can read the tag body easily:</p>\n<pre><code>/WEB-INF/tags/html/bold.tag\n&lt;%@tag description=&quot;Bold tag&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;b&gt;\n  &lt;jsp:doBody/&gt;\n&lt;/b&gt;\n</code></pre>\n<p>Use it:</p>\n<pre><code>&lt;%@ taglib prefix=&quot;h&quot; tagdir=&quot;/WEB-INF/tags/bold&quot;%&gt;\n&lt;h:bold&gt;Make me bold&lt;/h:bold&gt;\n</code></pre>\n<p>The samples are very simple, but you can do lots of complicated tasks here. Please consider you can use other tags (for example: <code>JSTL</code> which has controlling tags like <code>if/forEcah/chosen</code> text manipulation like <code>format/contains/uppercase</code> or even SQL tags <code>select/update</code>), pass all kind parameters, for example <code>Hashmap</code>, access <code>session</code>, <code>request</code>, ... in your tag file too.</p>\n<p><strong>Tag File</strong> are so easy developed as you did not need to restart the server when changing them, like JSP files. This makes them easy for development.</p>\n<p>Even if you use a framework like Struts 2, which have lots of good tags, you may find that having your own tags can reduce your code a lot. You can pass your tag parameters to struts and this way customize your framework tag.</p>\n<p>You can use tags not only to avoid Java, but also minimize your HTML codes. I myself try to review HTML code and build tags a lot as soon as I see code duplicates start in my pages.</p>\n<p>(Even if you end up using Java in your JSP code, which I hope not, you can encapsulate that code in a tag.)</p>\n"},{"tags":[],"owner":{"account_id":6284293,"reputation":328,"user_id":5379010,"accept_rate":100,"display_name":"bhanwar rathore"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1598386656,"creation_date":1468561713,"answer_id":38388675,"question_id":3177733,"body_markdown":"By using JSTL tags together with EL expressions, you can avoid this. Put the following things in your JSP page:\r\n\r\n    &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot; prefix=&quot;fmt&quot; %&gt;\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>By using JSTL tags together with EL expressions, you can avoid this. Put the following things in your JSP page:</p>\n<pre><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\n&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\n&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot; prefix=&quot;fmt&quot; %&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4783850,"reputation":6978,"user_id":3864917,"accept_rate":100,"display_name":"Vikas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598386621,"creation_date":1499459089,"answer_id":44979085,"question_id":3177733,"body_markdown":"As many answers says, use JSTL or create your own custom tags. [Here][1] is a good explanation about creating custom tags.\r\n\r\n  [1]: http://www.journaldev.com/2099/jsp-custom-tags-example-tutorial\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>As many answers says, use JSTL or create your own custom tags. <a href=\"http://www.journaldev.com/2099/jsp-custom-tags-example-tutorial\" rel=\"nofollow noreferrer\">Here</a> is a good explanation about creating custom tags.</p>\n"},{"tags":[],"owner":{"account_id":1703795,"reputation":1264,"user_id":1563286,"accept_rate":44,"display_name":"adn.911"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1598386594,"creation_date":1512057573,"answer_id":47577565,"question_id":3177733,"body_markdown":"Using Scriptlets is a very old way and *not* recommended. If you want directly output something in your JSP pages, just use **Expression Language (EL)**  along with **JSTL**.\r\n\r\nThere are also other options, such as using a templating engine such as Velocity, Freemarker, Thymeleaf, etc. But using plain JSP with EL and JSTL serves my purpose most of the time and it also seems the simplest for a beginner.\r\n\r\nAlso, take note that it is not a best practice to do business logic in the view layer. You should perform your business logic in the *service* layer,\r\nand pass the output result to your views through a *controller*.\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Using Scriptlets is a very old way and <em>not</em> recommended. If you want directly output something in your JSP pages, just use <strong>Expression Language (EL)</strong>  along with <strong>JSTL</strong>.</p>\n<p>There are also other options, such as using a templating engine such as Velocity, Freemarker, Thymeleaf, etc. But using plain JSP with EL and JSTL serves my purpose most of the time and it also seems the simplest for a beginner.</p>\n<p>Also, take note that it is not a best practice to do business logic in the view layer. You should perform your business logic in the <em>service</em> layer,\nand pass the output result to your views through a <em>controller</em>.</p>\n"},{"comments":[{"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"score":0,"creation_date":1644423110,"post_id":47780407,"comment_id":125604088,"body_markdown":"It will change the way we design, but not always in a good way with good results.","body":"It will change the way we design, but not always in a good way with good results."},{"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"score":0,"creation_date":1644423487,"post_id":47780407,"comment_id":125604268,"body_markdown":"It will change the way we design, but not always in a good way with good results. We will face 1. Longer initial loading  2. slow indexing by Google, no indexing by other search engines 3. performance problems on low-end mobile devices. SPA frameworks should be used for SPA. Creating content websites using SPA frameworks, especially heavy ones like Angular or React is a way to trouble.","body":"It will change the way we design, but not always in a good way with good results. We will face 1. Longer initial loading  2. slow indexing by Google, no indexing by other search engines 3. performance problems on low-end mobile devices. SPA frameworks should be used for SPA. Creating content websites using SPA frameworks, especially heavy ones like Angular or React is a way to trouble."}],"tags":[],"owner":{"account_id":3652290,"reputation":2120,"user_id":3044117,"accept_rate":38,"display_name":"Eduardo"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1598386473,"creation_date":1513107933,"answer_id":47780407,"question_id":3177733,"body_markdown":"Nothing of that is used anymore, my friend. My advice is to decouple the view (CSS, HTML, JavaScript, etc.) from the server.\r\n\r\nIn my case, I do my systems handling the view with Angular and any data needed is brought from the server using REST services.\r\n\r\nBelieve me, this will change the way you design.\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Nothing of that is used anymore, my friend. My advice is to decouple the view (CSS, HTML, JavaScript, etc.) from the server.</p>\n<p>In my case, I do my systems handling the view with Angular and any data needed is brought from the server using REST services.</p>\n<p>Believe me, this will change the way you design.</p>\n"},{"tags":[],"owner":{"account_id":4777913,"reputation":2557,"user_id":3860531,"display_name":"Sumesh TG"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1598386341,"creation_date":1529502553,"answer_id":50949855,"question_id":3177733,"body_markdown":"Use a Backbone.js or AngularJS-like JavaScript framework for UI design\r\nand fetch the data using a REST API. This will remove the Java dependency from the UI completely.\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Use a Backbone.js or AngularJS-like JavaScript framework for UI design\nand fetch the data using a REST API. This will remove the Java dependency from the UI completely.</p>\n"},{"tags":[],"owner":{"account_id":2233181,"reputation":3815,"user_id":1970299,"accept_rate":72,"display_name":"Mehdi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543680249,"creation_date":1543680249,"answer_id":53572611,"question_id":3177733,"body_markdown":" 1. Make your values and parameters inside your servlet classes\r\n 2. Fetch those values and parameters within your JSP using JSTL/Taglib\r\n\r\n&gt; The good thing about this approach is that your code is also HTML like\r\n&gt; code!","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<ol>\n<li>Make your values and parameters inside your servlet classes</li>\n<li>Fetch those values and parameters within your JSP using JSTL/Taglib</li>\n</ol>\n\n<blockquote>\n  <p>The good thing about this approach is that your code is also HTML like\n  code!</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1672277216,"post_id":63625669,"comment_id":132257954,"body_markdown":"That is some wall of text. Can you break it down?","body":"That is some wall of text. Can you break it down?"}],"tags":[],"owner":{"account_id":1366083,"reputation":96,"user_id":1302473,"display_name":"Philippe Damerval"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1598573021,"creation_date":1598573021,"answer_id":63625669,"question_id":3177733,"body_markdown":"A lot of the answers here go the &quot;use a framework&quot; route. There&#39;s zero wrong with that. However I don&#39;t think it really answers your question, because frameworks may or may not use JSPs, nor are they designed in any way with removing java use in JSPs as a primary goal. &lt;br&gt;&lt;br&gt;\r\nThe only good answer to your question &quot;how do I avoid using Java in a JSP&quot; is: you can&#39;t. &lt;br&gt; &lt;br&gt;That&#39;s what JSPs are for - using Java to render HTML with dynamic data/logic. \r\nThe follow up question might be, how much java should I use in my JSPs.&lt;br&gt; Before we answer that question, you should also ponder, &quot;do I need to use JSPs to build web content using Java?&quot; The answer to that last one is, no. There are many alternatives to JSPs for developing web facing applications using Java. Struts for example does not force you to use JSPs - don&#39;t get me wrong, you can use them and many implementations do, but you don&#39;t absolutely have to. Struts doesn&#39;t even force you to use any HTML. A JSP doesn&#39;t either, but let&#39;s be honest, a JSP producing no HTML is kinda weird. Servlets, famously, allow you to serve any kind of content you like over HTTP dynamically. They are *the* primary tech behind pretty much everything java web - JSPs are just HTML templates for servlets, really. &lt;br&gt;\r\nSo the answer to how much java you should put in a JSP is, &quot;as little as possible&quot;. I of course have java in my JSPs, but it consists exclusively of tag library definitions, session and client variables, and beans encapsulating server side objects. The &lt;%%&gt; tags in my HTML are almost exclusively property calls or variable expressions. Rare exceptions include ultra-specific calculations pertaining to a single page and unlikely to ever be reused; bugfixes stemming from page-specific issues only applying to one page; last minute concatenations and arithmetic stemming from unusual requirements limited in scope to a single page; and other similar cases. In a code set of 1.5 million lines, 3000 JSPs and 5000 classes, there are maybe 100 instances of such unique snippets. It would have been quite possible to make these changes in classes or tag library definitions, but it would have been inordinately complex due to the specificity of each case, taken longer to write and debug, and taken more time as a result to get to my users. It&#39;s a judgement call. But make no mistake, you cannot write JSPs of any meaning with &quot;no java&quot; nor would you want to. The capability is there for a reason. \r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>A lot of the answers here go the &quot;use a framework&quot; route. There's zero wrong with that. However I don't think it really answers your question, because frameworks may or may not use JSPs, nor are they designed in any way with removing java use in JSPs as a primary goal. <br><br>\nThe only good answer to your question &quot;how do I avoid using Java in a JSP&quot; is: you can't. <br> <br>That's what JSPs are for - using Java to render HTML with dynamic data/logic.\nThe follow up question might be, how much java should I use in my JSPs.<br> Before we answer that question, you should also ponder, &quot;do I need to use JSPs to build web content using Java?&quot; The answer to that last one is, no. There are many alternatives to JSPs for developing web facing applications using Java. Struts for example does not force you to use JSPs - don't get me wrong, you can use them and many implementations do, but you don't absolutely have to. Struts doesn't even force you to use any HTML. A JSP doesn't either, but let's be honest, a JSP producing no HTML is kinda weird. Servlets, famously, allow you to serve any kind of content you like over HTTP dynamically. They are <em>the</em> primary tech behind pretty much everything java web - JSPs are just HTML templates for servlets, really. <br>\nSo the answer to how much java you should put in a JSP is, &quot;as little as possible&quot;. I of course have java in my JSPs, but it consists exclusively of tag library definitions, session and client variables, and beans encapsulating server side objects. The &lt;%%&gt; tags in my HTML are almost exclusively property calls or variable expressions. Rare exceptions include ultra-specific calculations pertaining to a single page and unlikely to ever be reused; bugfixes stemming from page-specific issues only applying to one page; last minute concatenations and arithmetic stemming from unusual requirements limited in scope to a single page; and other similar cases. In a code set of 1.5 million lines, 3000 JSPs and 5000 classes, there are maybe 100 instances of such unique snippets. It would have been quite possible to make these changes in classes or tag library definitions, but it would have been inordinately complex due to the specificity of each case, taken longer to write and debug, and taken more time as a result to get to my users. It's a judgement call. But make no mistake, you cannot write JSPs of any meaning with &quot;no java&quot; nor would you want to. The capability is there for a reason.</p>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1672277294,"post_id":70816280,"comment_id":132257961,"body_markdown":"Can you add a reference to JSOUP? (But **************** ***without*** **************** &quot;Edit:&quot;, &quot;Update:&quot;, or similar - the answer should appear as if it was written today).","body":"Can you add a reference to JSOUP? (But **************** <b><i>without</i></b> **************** &quot;Edit:&quot;, &quot;Update:&quot;, or similar - the answer should appear as if it was written today)."}],"tags":[],"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672736007,"creation_date":1642879040,"answer_id":70816280,"question_id":3177733,"body_markdown":"Java itself is a very nice language, but heavy usage in the enterprise environment made its standard solutions extremely (ridiculously) difficult. Examples: JSTL, JSF, Wicket, etc.\r\n\r\nHere is a super lightweight approach to creating a backend in Java:\r\n\r\n - don&#39;t use JSP (or any other template engine) at all;\r\n - use plain HTML templates;\r\n - use JSOUP to parse HTML templates into Document object;\r\n - modify Document object using its very intuitive jQuery like methods;\r\n - return Document.toString() as response to request.\r\n\r\nI use it for one of my side projects (hosted Digitalocean $5 droplet, Nginx, Tomcat) and it is very fast: according to Googlebot average response time is about 160 ms.  \r\n \r\n[JSoup][1]\r\n\r\n   \r\n\r\n\r\n  [1]: https://jsoup.org/","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>Java itself is a very nice language, but heavy usage in the enterprise environment made its standard solutions extremely (ridiculously) difficult. Examples: JSTL, JSF, Wicket, etc.</p>\n<p>Here is a super lightweight approach to creating a backend in Java:</p>\n<ul>\n<li>don't use JSP (or any other template engine) at all;</li>\n<li>use plain HTML templates;</li>\n<li>use JSOUP to parse HTML templates into Document object;</li>\n<li>modify Document object using its very intuitive jQuery like methods;</li>\n<li>return Document.toString() as response to request.</li>\n</ul>\n<p>I use it for one of my side projects (hosted Digitalocean $5 droplet, Nginx, Tomcat) and it is very fast: according to Googlebot average response time is about 160 ms.</p>\n<p><a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">JSoup</a></p>\n"}],"owner":{"account_id":34076,"reputation":18614,"user_id":95914,"accept_rate":87,"display_name":"chmoelders"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318395,"favorite_count":0,"down_vote_count":7,"up_vote_count":1773,"accepted_answer_id":3180202,"answer_count":31,"score":1766,"last_activity_date":1672736007,"creation_date":1278314646,"question_id":3177733,"body_markdown":"I know that something like the following three lines\r\n\r\n    &lt;%= x+1 %&gt;\r\n    &lt;%= request.getParameter(&quot;name&quot;) %&gt;\r\n    &lt;%! counter++; %&gt;\r\n\r\nis an old school way of coding and in JSP version 2 there exists a method to avoid Java code in JSP files. What are the alternative JSP 2 lines, and what is this technique called?\r\n\r\n\r\n","title":"How can I avoid Java code in JSP files, using JSP 2?","body":"<p>I know that something like the following three lines</p>\n<pre><code>&lt;%= x+1 %&gt;\n&lt;%= request.getParameter(&quot;name&quot;) %&gt;\n&lt;%! counter++; %&gt;\n</code></pre>\n<p>is an old school way of coding and in JSP version 2 there exists a method to avoid Java code in JSP files. What are the alternative JSP 2 lines, and what is this technique called?</p>\n"},{"tags":["java","spring","spring-boot","filter","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1672660051,"post_id":74982010,"comment_id":132321089,"body_markdown":"Your dependencies are wrong. The best way to start a Spring Boot project is to us https://start.spring.io/. It helps to get the right dependencies.","body":"Your dependencies are wrong. The best way to start a Spring Boot project is to us <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a>. It helps to get the right dependencies."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1672660119,"post_id":74982010,"comment_id":132321101,"body_markdown":"[Spring Boot 3.0 Migration Guide](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide): &quot;You need to be especially careful that older Java EE dependencies are no longer directly or transitively used in your build. For example, if you should always be using jakarta.servlet:jakarta.servlet-api and not javax.servlet:javax.servlet-api&quot;","body":"<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\" rel=\"nofollow noreferrer\">Spring Boot 3.0 Migration Guide</a>: &quot;You need to be especially careful that older Java EE dependencies are no longer directly or transitively used in your build. For example, if you should always be using jakarta.servlet:jakarta.servlet-api and not javax.servlet:javax.servlet-api&quot;"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1672660929,"post_id":74982010,"comment_id":132321282,"body_markdown":"which error? `spring-security-config v. 5.7.3` depends on `spring-security-web v. 5.7.3` which was compiled against `javax.servlet:javax.servlet-api`, meanwhile `spring-boot-starter-web` brings `jakarta.servlet:jakarta.servlet-api` as a runtime dependency, you might even do not see any `javax.servlet` classes in your project but nothing will work.","body":"which error? <code>spring-security-config v. 5.7.3</code> depends on <code>spring-security-web v. 5.7.3</code> which was compiled against <code>javax.servlet:javax.servlet-api</code>, meanwhile <code>spring-boot-starter-web</code> brings <code>jakarta.servlet:jakarta.servlet-api</code> as a runtime dependency, you might even do not see any <code>javax.servlet</code> classes in your project but nothing will work."},{"owner":{"account_id":19038378,"reputation":513,"user_id":14974332,"display_name":"Serhii Chernikov"},"score":0,"creation_date":1672661397,"post_id":74982010,"comment_id":132321369,"body_markdown":"@AndreyB.Panfilov the error occurs once I add the spring-security-config dependency (I need it for `WebSecurityConfigurerAdapter`). So I think that I have to completely get rid of using `WebSecurityConfigurerAdapter`, and finish reading the article you provided, I hope it may help.","body":"@AndreyB.Panfilov the error occurs once I add the spring-security-config dependency (I need it for <code>WebSecurityConfigurerAdapter</code>). So I think that I have to completely get rid of using <code>WebSecurityConfigurerAdapter</code>, and finish reading the article you provided, I hope it may help."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":3,"creation_date":1672661823,"post_id":74982010,"comment_id":132321466,"body_markdown":"yeap, that is the root cause. Actually a lot of spring guides abruptly became obsolete as soon as spring team released spring-6/spring-boot-3 in November, and there are two options: either stick with spring-5.3/spring-boot-2.x or learn spring-6/spring-boot-3 using official documentation. https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter","body":"yeap, that is the root cause. Actually a lot of spring guides abruptly became obsolete as soon as spring team released spring-6/spring-boot-3 in November, and there are two options: either stick with spring-5.3/spring-boot-2.x or learn spring-6/spring-boot-3 using official documentation. <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">spring.io/blog/2022/02/21/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":19038378,"reputation":513,"user_id":14974332,"display_name":"Serhii Chernikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672735686,"creation_date":1672735686,"answer_id":74990965,"question_id":74982010,"body_markdown":"So, the solution was simple. If you&#39;re migrating to Spring 6, you should get rid of using the `WebSecurityConfigurerAdapter` class and instead configure your security without it.\r\n\r\nI&#39;ve written a new configuration (which does the same operations as well as the config provided in the question), and now it looks like this:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SpringSecurityConfig {\r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                    .authorizeHttpRequests((authorize) -&gt; authorize.anyRequest().authenticated())\r\n                    .httpBasic(Customizer.withDefaults())\r\n                    .formLogin(Customizer.withDefaults());\r\n    \r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        public UserDetailsService userDetailsService() {\r\n            PasswordEncoder encoder = PasswordEncoderFactories.createDelegatingPasswordEncoder();\r\n            UserDetails user = User\r\n                                .withUsername(&quot;spring_user&quot;)\r\n                                .password(encoder.encode(&quot;password123&quot;))\r\n                                .roles(&quot;USER&quot;)\r\n                                .build();\r\n    \r\n            return new InMemoryUserDetailsManager(user);\r\n        }\r\n    }\r\n\r\nThat&#39;s the minimal configuration required by Spring Security 6 to provide basic authentication, default password encoder (which is recommended to use) and in-memory user.","title":"Spring Security  cannot access javax.servlet.Filter","body":"<p>So, the solution was simple. If you're migrating to Spring 6, you should get rid of using the <code>WebSecurityConfigurerAdapter</code> class and instead configure your security without it.</p>\n<p>I've written a new configuration (which does the same operations as well as the config provided in the question), and now it looks like this:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SpringSecurityConfig {\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((authorize) -&gt; authorize.anyRequest().authenticated())\n                .httpBasic(Customizer.withDefaults())\n                .formLogin(Customizer.withDefaults());\n\n        return http.build();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        PasswordEncoder encoder = PasswordEncoderFactories.createDelegatingPasswordEncoder();\n        UserDetails user = User\n                            .withUsername(&quot;spring_user&quot;)\n                            .password(encoder.encode(&quot;password123&quot;))\n                            .roles(&quot;USER&quot;)\n                            .build();\n\n        return new InMemoryUserDetailsManager(user);\n    }\n}\n</code></pre>\n<p>That's the minimal configuration required by Spring Security 6 to provide basic authentication, default password encoder (which is recommended to use) and in-memory user.</p>\n"}],"owner":{"account_id":19038378,"reputation":513,"user_id":14974332,"display_name":"Serhii Chernikov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4995,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1672735686,"creation_date":1672659809,"question_id":74982010,"body_markdown":"I&#39;m writing the Spring Boot project with basic authentication and authorization using Spring Security. I have a config class which extends the `WebSecurityConfigurerAdapter` (I wanna get rid of it later, since it&#39;s deprecated).\r\nSo, my config class looks like this:\r\n\r\n    @Configuration\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.inMemoryAuthentication().withUser(&quot;spring_user&quot;)\r\n                                         .password(&quot;password123&quot;)\r\n                                         .roles(&quot;ADMIN&quot;);\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                .authorizeHttpRequests((authz) -&gt; authz.anyRequest().authenticated())\r\n                .httpBasic(Customizer.withDefaults());\r\n    \r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        public static PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    }\r\n\r\npom.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.codelib&lt;/groupId&gt;\r\n        &lt;artifactId&gt;basic-auth-security&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;basic-auth-security&lt;/name&gt;\r\n        &lt;description&gt;basic-auth-security&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n                &lt;version&gt;5.7.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nNote that I have `spring-boot-starter-web` dependency.\r\n\r\nThere is nothing interesting in the rest of the project. When I try to run the app, the following message is shown:\r\n\r\n    java: cannot access javax.servlet.Filter\r\n      class file for javax.servlet.Filter not found\r\n\r\nAnd IDEA redirects me to the config file. (but no lines of code are underlined with red)\r\n\r\nWhat can be the cause of this?","title":"Spring Security  cannot access javax.servlet.Filter","body":"<p>I'm writing the Spring Boot project with basic authentication and authorization using Spring Security. I have a config class which extends the <code>WebSecurityConfigurerAdapter</code> (I wanna get rid of it later, since it's deprecated).\nSo, my config class looks like this:</p>\n<pre><code>@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication().withUser(&quot;spring_user&quot;)\n                                     .password(&quot;password123&quot;)\n                                     .roles(&quot;ADMIN&quot;);\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n            .authorizeHttpRequests((authz) -&gt; authz.anyRequest().authenticated())\n            .httpBasic(Customizer.withDefaults());\n\n        return http.build();\n    }\n\n    @Bean\n    public static PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.codelib&lt;/groupId&gt;\n    &lt;artifactId&gt;basic-auth-security&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;basic-auth-security&lt;/name&gt;\n    &lt;description&gt;basic-auth-security&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;5.7.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Note that I have <code>spring-boot-starter-web</code> dependency.</p>\n<p>There is nothing interesting in the rest of the project. When I try to run the app, the following message is shown:</p>\n<pre><code>java: cannot access javax.servlet.Filter\n  class file for javax.servlet.Filter not found\n</code></pre>\n<p>And IDEA redirects me to the config file. (but no lines of code are underlined with red)</p>\n<p>What can be the cause of this?</p>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1671118686,"post_id":74813974,"comment_id":132033835,"body_markdown":"Yes you definitely need to specify content type.","body":"Yes you definitely need to specify content type."},{"owner":{"account_id":7638194,"reputation":63,"user_id":5791127,"accept_rate":0,"display_name":"Daniel"},"score":0,"creation_date":1671142201,"post_id":74813974,"comment_id":132041299,"body_markdown":"So, things are working fine in Postman when I test. But another team member who is also testing (the caller is axios in React) is telling me that every other POST in the entire application succeeds without explicitly specifying content type. It is one PUT, which is the only PUT in the API is giving him this error. (HTTP 500) \n\n[org.springframework.http.converter.HttpMessageNotReadableException: Required request body is missing: public org.springframework.http.ResponseEntity&lt;io.swagger.entity.XxxxxXX&gt;","body":"So, things are working fine in Postman when I test. But another team member who is also testing (the caller is axios in React) is telling me that every other POST in the entire application succeeds without explicitly specifying content type. It is one PUT, which is the only PUT in the API is giving him this error. (HTTP 500)   [org.springframework.http.converter.HttpMessageNotReadableEx&zwnj;&#8203;ception: Required request body is missing: public org.springframework.http.ResponseEntity&lt;io.swagger.entity.Xx&zwnj;&#8203;xxxXX&gt;"}],"answers":[{"tags":[],"owner":{"account_id":26680163,"reputation":16,"user_id":20290233,"display_name":"Nithish Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672735068,"creation_date":1672735068,"answer_id":74990846,"question_id":74813974,"body_markdown":"You can always use the `@RestController` for the controller and use the appropriate method like @GetMapping, @PostMapping to make this work. So, basically spring requires content type because the input could be anything.","title":"How do I POST/PUT JSON to a REST API endpoint without specifying Content-Type: application/json header","body":"<p>You can always use the <code>@RestController</code> for the controller and use the appropriate method like @GetMapping, @PostMapping to make this work. So, basically spring requires content type because the input could be anything.</p>\n"}],"owner":{"account_id":7638194,"reputation":63,"user_id":5791127,"accept_rate":0,"display_name":"Daniel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672735068,"creation_date":1671118434,"question_id":74813974,"body_markdown":"I am working on typical Spring Boot REST API project and I am trying to figure out why all my POST and PUT endpoints API are getting &quot;Unsupported Media Type&quot; error if I don&#39;t specify Content-Type: application/json header.(so, if I unchecked Content-Type: application/json header in Postman, I get this error and everything works fine if I check that.)\r\n\r\nDo I need to specify? Are there any ways that I can make them work without Content-Type: application/json header?\r\n\r\nThanks in advance,","title":"How do I POST/PUT JSON to a REST API endpoint without specifying Content-Type: application/json header","body":"<p>I am working on typical Spring Boot REST API project and I am trying to figure out why all my POST and PUT endpoints API are getting &quot;Unsupported Media Type&quot; error if I don't specify Content-Type: application/json header.(so, if I unchecked Content-Type: application/json header in Postman, I get this error and everything works fine if I check that.)</p>\n<p>Do I need to specify? Are there any ways that I can make them work without Content-Type: application/json header?</p>\n<p>Thanks in advance,</p>\n"},{"tags":["java","json","jackson","jackson-databind","lottie"],"answers":[{"tags":[],"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672730052,"creation_date":1672730052,"answer_id":74990080,"question_id":74980417,"body_markdown":"The mapping seems incorrect. What you have is this:\r\n\r\n\r\n```json\r\nvar json = &quot;&quot;&quot;\r\n           {\r\n               &quot;k&quot;: [\r\n                   5.01,\r\n                   6.02\r\n                ]\r\n           }\r\n           &quot;&quot;&quot;;\r\n```\r\n\r\nThis is effectively an array of numbers which I assume should map to `NumberKeyframe`. But that would map to something like:\r\n\r\n```json\r\n&quot;k&quot;: [{&quot;value&quot;: 5.01}, {&quot;value&quot;: 6.01}]\r\n```\r\n\r\nI&#39;m not sure if this is something Jackson can do seamlessly without a mapper.","title":"How to parse a mix of simple and complex JSON types to a list of Java objects with Jackson","body":"<p>The mapping seems incorrect. What you have is this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>var json = &quot;&quot;&quot;\n           {\n               &quot;k&quot;: [\n                   5.01,\n                   6.02\n                ]\n           }\n           &quot;&quot;&quot;;\n</code></pre>\n<p>This is effectively an array of numbers which I assume should map to <code>NumberKeyframe</code>. But that would map to something like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;k&quot;: [{&quot;value&quot;: 5.01}, {&quot;value&quot;: 6.01}]\n</code></pre>\n<p>I'm not sure if this is something Jackson can do seamlessly without a mapper.</p>\n"},{"comments":[{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1672737589,"post_id":74990824,"comment_id":132337024,"body_markdown":"great solution, thanks! indeed it seems the defaultImpl is key here...","body":"great solution, thanks! indeed it seems the defaultImpl is key here..."}],"tags":[],"owner":{"account_id":1890140,"reputation":6225,"user_id":1708462,"accept_rate":73,"display_name":"xxtesaxx"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672734935,"creation_date":1672734935,"answer_id":74990824,"question_id":74980417,"body_markdown":"Looks like jackson has a problem with deserializing numbers into objects. You could solve this using a custom deserializer or by making your NumberKeyFrame extend BigDecimal instead. Here is a working minimal example but I removed a lot of your code. Notice the defaultImpl in the JsonTypeInfo annotaton. This was necessary in order to work though I&#39;m not 100% why :see_no_evil:\r\n\r\n    public class MyTest {\r\n    \r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n        static class Animated {\r\n    \r\n            public @JsonProperty(&quot;k&quot;) List&lt;Keyframe&gt; keyframes = new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        @JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION, defaultImpl = NumberKeyframe.class)\r\n        @JsonSubTypes({\r\n            @JsonSubTypes.Type(NumberKeyframe.class),\r\n            @JsonSubTypes.Type(TimedKeyframe.class),\r\n        })\r\n        public interface Keyframe {\r\n    \r\n        }\r\n    \r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n        static class NumberKeyframe extends BigDecimal implements Keyframe {\r\n    \r\n            public NumberKeyframe(int val) {\r\n                super(val);\r\n            }\r\n        }\r\n    \r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n        static class TimedKeyframe implements Keyframe {\r\n    \r\n            @JsonProperty(&quot;s&quot;)\r\n            List&lt;BigDecimal&gt; values;\r\n        }\r\n    \r\n        private static final ObjectMapper mapper = new ObjectMapper();\r\n    \r\n        @Test\r\n        public void testInteger() throws JsonProcessingException, JSONException {\r\n            var json = &quot;{\\&quot;k\\&quot;: [128,256]}&quot;;\r\n    \r\n            var animated = mapper.readValue(json, Animated.class);\r\n            assertEquals(2, animated.keyframes.size());\r\n    \r\n            assertTrue(animated.keyframes.get(0) instanceof NumberKeyframe);\r\n            assertEquals(128, ((NumberKeyframe) animated.keyframes.get(0)).intValue());\r\n        }\r\n    \r\n        @Test\r\n        void testTimed() throws JsonProcessingException {\r\n            var json = &quot;{\\&quot;k\\&quot;: [\\n&quot;\r\n                + &quot;  {\\&quot;i\\&quot;: {\\&quot;x\\&quot;: [0.833],\\&quot;y\\&quot;: [0.833]},\\&quot;o\\&quot;: {\\&quot;x\\&quot;: [0.167],\\&quot;y\\&quot;: [0.167]},\\&quot;t\\&quot;: 60,\\&quot;s\\&quot;: [1.1,2.2,3.3]},\\n&quot;\r\n                + &quot;  { \\&quot;t\\&quot;: 60, \\&quot;s\\&quot;: [360.0]}\\n&quot;\r\n                + &quot;]}&quot;;\r\n    \r\n            var animated = mapper.readValue(json, Animated.class);\r\n    \r\n            assertEquals(2, animated.keyframes.size());\r\n            assertTrue(animated.keyframes.get(0) instanceof TimedKeyframe);\r\n            assertEquals(1.1, ((TimedKeyframe) animated.keyframes.get(0)).values.get(0).doubleValue());\r\n            assertEquals(2.2, ((TimedKeyframe) animated.keyframes.get(0)).values.get(1).doubleValue());\r\n            assertEquals(3.3, ((TimedKeyframe) animated.keyframes.get(0)).values.get(2).doubleValue());\r\n        }\r\n    }\r\n","title":"How to parse a mix of simple and complex JSON types to a list of Java objects with Jackson","body":"<p>Looks like jackson has a problem with deserializing numbers into objects. You could solve this using a custom deserializer or by making your NumberKeyFrame extend BigDecimal instead. Here is a working minimal example but I removed a lot of your code. Notice the defaultImpl in the JsonTypeInfo annotaton. This was necessary in order to work though I'm not 100% why :see_no_evil:</p>\n<pre><code>public class MyTest {\n\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    static class Animated {\n\n        public @JsonProperty(&quot;k&quot;) List&lt;Keyframe&gt; keyframes = new ArrayList&lt;&gt;();\n    }\n\n    @JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION, defaultImpl = NumberKeyframe.class)\n    @JsonSubTypes({\n        @JsonSubTypes.Type(NumberKeyframe.class),\n        @JsonSubTypes.Type(TimedKeyframe.class),\n    })\n    public interface Keyframe {\n\n    }\n\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    static class NumberKeyframe extends BigDecimal implements Keyframe {\n\n        public NumberKeyframe(int val) {\n            super(val);\n        }\n    }\n\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    static class TimedKeyframe implements Keyframe {\n\n        @JsonProperty(&quot;s&quot;)\n        List&lt;BigDecimal&gt; values;\n    }\n\n    private static final ObjectMapper mapper = new ObjectMapper();\n\n    @Test\n    public void testInteger() throws JsonProcessingException, JSONException {\n        var json = &quot;{\\&quot;k\\&quot;: [128,256]}&quot;;\n\n        var animated = mapper.readValue(json, Animated.class);\n        assertEquals(2, animated.keyframes.size());\n\n        assertTrue(animated.keyframes.get(0) instanceof NumberKeyframe);\n        assertEquals(128, ((NumberKeyframe) animated.keyframes.get(0)).intValue());\n    }\n\n    @Test\n    void testTimed() throws JsonProcessingException {\n        var json = &quot;{\\&quot;k\\&quot;: [\\n&quot;\n            + &quot;  {\\&quot;i\\&quot;: {\\&quot;x\\&quot;: [0.833],\\&quot;y\\&quot;: [0.833]},\\&quot;o\\&quot;: {\\&quot;x\\&quot;: [0.167],\\&quot;y\\&quot;: [0.167]},\\&quot;t\\&quot;: 60,\\&quot;s\\&quot;: [1.1,2.2,3.3]},\\n&quot;\n            + &quot;  { \\&quot;t\\&quot;: 60, \\&quot;s\\&quot;: [360.0]}\\n&quot;\n            + &quot;]}&quot;;\n\n        var animated = mapper.readValue(json, Animated.class);\n\n        assertEquals(2, animated.keyframes.size());\n        assertTrue(animated.keyframes.get(0) instanceof TimedKeyframe);\n        assertEquals(1.1, ((TimedKeyframe) animated.keyframes.get(0)).values.get(0).doubleValue());\n        assertEquals(2.2, ((TimedKeyframe) animated.keyframes.get(0)).values.get(1).doubleValue());\n        assertEquals(3.3, ((TimedKeyframe) animated.keyframes.get(0)).values.get(2).doubleValue());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74990824,"answer_count":2,"score":1,"last_activity_date":1672734935,"creation_date":1672649180,"question_id":74980417,"body_markdown":"I&#39;m working on a Java library to be able to read/write Lottie data (animations defined as JSON). I try to achieve this with minimal code and Records, but it&#39;s a bit challenging to achieve this for all possible use cases as defined in the Lottie format. I&#39;ve been able to handle almost everything, but I still need to find a suitable solution for the keyframes.\r\n\r\nGiven the following unit tests, how should the Java objects be defined to be able to parse the example JSONs? Is this possible with &quot;pure Jackson&quot; or will a helper class be needed? I&#39;m using Jackson 2.14.1.\r\n\r\nAt this point, only `testTimed` succeeds.\r\n\r\n\r\n    \r\n    public class KeyframeTest {\r\n    \r\n        private static final ObjectMapper mapper = new ObjectMapper();\r\n    \r\n        @Test\r\n        void testInteger() throws JsonProcessingException {\r\n            var json = &quot;&quot;&quot;\r\n                    {\r\n                        &quot;k&quot;: [\r\n                          128,\r\n                          256\r\n                        ]\r\n                    }\r\n                    &quot;&quot;&quot;;\r\n    \r\n            var animated = mapper.readValue(json, Animated.class);\r\n    \r\n            assertAll(\r\n                    () -&gt; assertEquals(2, animated.keyframes().size()),\r\n                    () -&gt; assertTrue(animated.keyframes().get(0) instanceof NumberKeyframe),\r\n                    () -&gt; assertEquals(128, animated.keyframes().get(0)),\r\n                    () -&gt; JSONAssert.assertEquals(json, mapper.writeValueAsString(animated), false)\r\n            );\r\n        }\r\n    \r\n        @Test\r\n        void testDouble() throws JsonProcessingException {\r\n            var json = &quot;&quot;&quot;\r\n                    {\r\n                        &quot;k&quot;: [\r\n                          5.01,\r\n                          6.02\r\n                        ]\r\n                    }\r\n                    &quot;&quot;&quot;;\r\n    \r\n            var animated = mapper.readValue(json, Animated.class);\r\n    \r\n            assertAll(\r\n                    () -&gt; assertEquals(2, animated.keyframes().size()),\r\n                    () -&gt; assertTrue(animated.keyframes().get(0) instanceof NumberKeyframe),\r\n                    () -&gt; assertEquals(5.01, animated.keyframes().get(0)),\r\n                    () -&gt; JSONAssert.assertEquals(json, mapper.writeValueAsString(animated), false)\r\n            );\r\n        }\r\n    \r\n        @Test\r\n        void testTimed() throws JsonProcessingException {\r\n            var json = &quot;&quot;&quot;\r\n                    {\r\n                        &quot;k&quot;: [\r\n                         {\r\n                           &quot;i&quot;: {\r\n                             &quot;x&quot;: [\r\n                               0.833\r\n                             ],\r\n                             &quot;y&quot;: [\r\n                               0.833\r\n                             ]\r\n                           },\r\n                           &quot;o&quot;: {\r\n                             &quot;x&quot;: [\r\n                               0.167\r\n                             ],\r\n                             &quot;y&quot;: [\r\n                               0.167\r\n                             ]\r\n                           },\r\n                           &quot;t&quot;: 60,\r\n                           &quot;s&quot;: [\r\n                             1.1,\r\n                             2.2,\r\n                             3.3\r\n                           ]\r\n                         },\r\n                         {\r\n                           &quot;t&quot;: 60,\r\n                           &quot;s&quot;: [\r\n                             360.0\r\n                           ]\r\n                         }\r\n                       ]\r\n                    }\r\n                    &quot;&quot;&quot;;\r\n    \r\n            var animated = mapper.readValue(json, Animated.class);\r\n    \r\n            assertAll(\r\n                    () -&gt; assertEquals(2, animated.keyframes().size()),\r\n                    () -&gt; assertTrue(animated.keyframes().get(0) instanceof TimedKeyframe),\r\n                    () -&gt; assertEquals(60, ((TimedKeyframe) animated.keyframes().get(0)).time()),\r\n                    () -&gt; JSONAssert.assertEquals(json, mapper.writeValueAsString(animated), false)\r\n            );\r\n        }\r\n    \r\n        @Test\r\n        void testMixed() throws JsonProcessingException {\r\n            var json = &quot;&quot;&quot;\r\n                    {\r\n                        &quot;k&quot;: [\r\n                        100,\r\n                        33.44,\r\n                         {\r\n                           &quot;t&quot;: 60,\r\n                           &quot;s&quot;: [\r\n                             1.1,\r\n                             2.2,\r\n                             3.3\r\n                           ]\r\n                         }\r\n                       ]\r\n                    }\r\n                    &quot;&quot;&quot;;\r\n    \r\n            var keyFrames = mapper.readValue(json, new TypeReference&lt;List&lt;Keyframe&gt;&gt;() {\r\n            });\r\n    \r\n            assertAll(\r\n                    () -&gt; assertEquals(3, keyFrames.size()),\r\n                    () -&gt; assertTrue(keyFrames.get(0) instanceof NumberKeyframe),\r\n                    () -&gt; assertTrue(keyFrames.get(1) instanceof NumberKeyframe),\r\n                    () -&gt; assertTrue(keyFrames.get(2) instanceof TimedKeyframe),\r\n                    () -&gt; JSONAssert.assertEquals(json, mapper.writeValueAsString(keyFrames), false)\r\n            );\r\n        }\r\n    }\r\n\r\nAnimated object\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonInclude(Include.NON_NULL)\r\n    public record Animated(\r\n            @JsonProperty(&quot;a&quot;) Integer animated,\r\n            @JsonProperty(&quot;k&quot;) List&lt;Keyframe&gt; keyframes,\r\n            @JsonProperty(&quot;ix&quot;) Integer ix,\r\n            @JsonProperty(&quot;l&quot;) Integer l\r\n    ) {\r\n    }\r\n\r\nKeyframe objects, using Java Records based on my earlier question here https://stackoverflow.com/questions/74890806/parse-json-to-java-records-with-fasterxml-jackson/74891785#74891785\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\r\n    @JsonSubTypes({\r\n            @JsonSubTypes.Type(TimedKeyframe.class),\r\n            @JsonSubTypes.Type(NumberKeyframe.class)\r\n    })\r\n    public interface Keyframe {\r\n    \r\n    }\r\n    \r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public record NumberKeyframe(\r\n            BigDecimal value\r\n    ) implements Keyframe {\r\n    }\r\n    \r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public record TimedKeyframe(\r\n            @JsonProperty(&quot;t&quot;) Integer time, // in frames\r\n            // Use BigDecimal here to be able to handle both Integer and Double\r\n            // https://stackoverflow.com/questions/40885065/jackson-mapper-integer-from-json-parsed-as-double-with-drong-precision\r\n            @JsonProperty(&quot;s&quot;) List&lt;BigDecimal&gt; values,\r\n            @JsonProperty(&quot;i&quot;) EasingHandle easingIn,\r\n            @JsonProperty(&quot;o&quot;) EasingHandle easingOut,\r\n            @JsonProperty(&quot;h&quot;) Integer holdFrame\r\n    ) implements Keyframe {\r\n    }\r\n\r\nThis is the failure message for testDouble:\r\n\r\n```\r\ncom.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve subtype of [simple type, class com.lottie4j.core.model.keyframe.Keyframe]: Unexpected input\r\n at [Source: (String)&quot;{\r\n    &quot;k&quot;: [\r\n      5.01,\r\n      6.02\r\n    ]\r\n}\r\n&quot;; line: 3, column: 7] (through reference chain: com.lottie4j.core.model.Animated[&quot;k&quot;]-&gt;java.util.ArrayList[0])\r\n```","title":"How to parse a mix of simple and complex JSON types to a list of Java objects with Jackson","body":"<p>I'm working on a Java library to be able to read/write Lottie data (animations defined as JSON). I try to achieve this with minimal code and Records, but it's a bit challenging to achieve this for all possible use cases as defined in the Lottie format. I've been able to handle almost everything, but I still need to find a suitable solution for the keyframes.</p>\n<p>Given the following unit tests, how should the Java objects be defined to be able to parse the example JSONs? Is this possible with &quot;pure Jackson&quot; or will a helper class be needed? I'm using Jackson 2.14.1.</p>\n<p>At this point, only <code>testTimed</code> succeeds.</p>\n<pre><code>public class KeyframeTest {\n\n    private static final ObjectMapper mapper = new ObjectMapper();\n\n    @Test\n    void testInteger() throws JsonProcessingException {\n        var json = &quot;&quot;&quot;\n                {\n                    &quot;k&quot;: [\n                      128,\n                      256\n                    ]\n                }\n                &quot;&quot;&quot;;\n\n        var animated = mapper.readValue(json, Animated.class);\n\n        assertAll(\n                () -&gt; assertEquals(2, animated.keyframes().size()),\n                () -&gt; assertTrue(animated.keyframes().get(0) instanceof NumberKeyframe),\n                () -&gt; assertEquals(128, animated.keyframes().get(0)),\n                () -&gt; JSONAssert.assertEquals(json, mapper.writeValueAsString(animated), false)\n        );\n    }\n\n    @Test\n    void testDouble() throws JsonProcessingException {\n        var json = &quot;&quot;&quot;\n                {\n                    &quot;k&quot;: [\n                      5.01,\n                      6.02\n                    ]\n                }\n                &quot;&quot;&quot;;\n\n        var animated = mapper.readValue(json, Animated.class);\n\n        assertAll(\n                () -&gt; assertEquals(2, animated.keyframes().size()),\n                () -&gt; assertTrue(animated.keyframes().get(0) instanceof NumberKeyframe),\n                () -&gt; assertEquals(5.01, animated.keyframes().get(0)),\n                () -&gt; JSONAssert.assertEquals(json, mapper.writeValueAsString(animated), false)\n        );\n    }\n\n    @Test\n    void testTimed() throws JsonProcessingException {\n        var json = &quot;&quot;&quot;\n                {\n                    &quot;k&quot;: [\n                     {\n                       &quot;i&quot;: {\n                         &quot;x&quot;: [\n                           0.833\n                         ],\n                         &quot;y&quot;: [\n                           0.833\n                         ]\n                       },\n                       &quot;o&quot;: {\n                         &quot;x&quot;: [\n                           0.167\n                         ],\n                         &quot;y&quot;: [\n                           0.167\n                         ]\n                       },\n                       &quot;t&quot;: 60,\n                       &quot;s&quot;: [\n                         1.1,\n                         2.2,\n                         3.3\n                       ]\n                     },\n                     {\n                       &quot;t&quot;: 60,\n                       &quot;s&quot;: [\n                         360.0\n                       ]\n                     }\n                   ]\n                }\n                &quot;&quot;&quot;;\n\n        var animated = mapper.readValue(json, Animated.class);\n\n        assertAll(\n                () -&gt; assertEquals(2, animated.keyframes().size()),\n                () -&gt; assertTrue(animated.keyframes().get(0) instanceof TimedKeyframe),\n                () -&gt; assertEquals(60, ((TimedKeyframe) animated.keyframes().get(0)).time()),\n                () -&gt; JSONAssert.assertEquals(json, mapper.writeValueAsString(animated), false)\n        );\n    }\n\n    @Test\n    void testMixed() throws JsonProcessingException {\n        var json = &quot;&quot;&quot;\n                {\n                    &quot;k&quot;: [\n                    100,\n                    33.44,\n                     {\n                       &quot;t&quot;: 60,\n                       &quot;s&quot;: [\n                         1.1,\n                         2.2,\n                         3.3\n                       ]\n                     }\n                   ]\n                }\n                &quot;&quot;&quot;;\n\n        var keyFrames = mapper.readValue(json, new TypeReference&lt;List&lt;Keyframe&gt;&gt;() {\n        });\n\n        assertAll(\n                () -&gt; assertEquals(3, keyFrames.size()),\n                () -&gt; assertTrue(keyFrames.get(0) instanceof NumberKeyframe),\n                () -&gt; assertTrue(keyFrames.get(1) instanceof NumberKeyframe),\n                () -&gt; assertTrue(keyFrames.get(2) instanceof TimedKeyframe),\n                () -&gt; JSONAssert.assertEquals(json, mapper.writeValueAsString(keyFrames), false)\n        );\n    }\n}\n</code></pre>\n<p>Animated object</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(Include.NON_NULL)\npublic record Animated(\n        @JsonProperty(&quot;a&quot;) Integer animated,\n        @JsonProperty(&quot;k&quot;) List&lt;Keyframe&gt; keyframes,\n        @JsonProperty(&quot;ix&quot;) Integer ix,\n        @JsonProperty(&quot;l&quot;) Integer l\n) {\n}\n</code></pre>\n<p>Keyframe objects, using Java Records based on my earlier question here <a href=\"https://stackoverflow.com/questions/74890806/parse-json-to-java-records-with-fasterxml-jackson/74891785#74891785\">Parse JSON to Java records with fasterxml.jackson</a></p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\n@JsonSubTypes({\n        @JsonSubTypes.Type(TimedKeyframe.class),\n        @JsonSubTypes.Type(NumberKeyframe.class)\n})\npublic interface Keyframe {\n\n}\n\n@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic record NumberKeyframe(\n        BigDecimal value\n) implements Keyframe {\n}\n\n@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic record TimedKeyframe(\n        @JsonProperty(&quot;t&quot;) Integer time, // in frames\n        // Use BigDecimal here to be able to handle both Integer and Double\n        // https://stackoverflow.com/questions/40885065/jackson-mapper-integer-from-json-parsed-as-double-with-drong-precision\n        @JsonProperty(&quot;s&quot;) List&lt;BigDecimal&gt; values,\n        @JsonProperty(&quot;i&quot;) EasingHandle easingIn,\n        @JsonProperty(&quot;o&quot;) EasingHandle easingOut,\n        @JsonProperty(&quot;h&quot;) Integer holdFrame\n) implements Keyframe {\n}\n</code></pre>\n<p>This is the failure message for testDouble:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve subtype of [simple type, class com.lottie4j.core.model.keyframe.Keyframe]: Unexpected input\n at [Source: (String)&quot;{\n    &quot;k&quot;: [\n      5.01,\n      6.02\n    ]\n}\n&quot;; line: 3, column: 7] (through reference chain: com.lottie4j.core.model.Animated[&quot;k&quot;]-&gt;java.util.ArrayList[0])\n</code></pre>\n"},{"tags":["java","mysql","inner-join","sql-delete"],"answers":[{"tags":[],"owner":{"account_id":27393124,"reputation":49,"user_id":20895793,"display_name":"Andrei Vintila"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672734220,"creation_date":1672706080,"answer_id":74988167,"question_id":74988094,"body_markdown":"Please [check here](https://dev.mysql.com/doc/refman/8.0/en/join.html) the different methods of joining two tables in MySQL.\r\nYour sql statement performs an intersection while you just need to map messages to rooms. So instead of INNER JOIN you need to use LEFT JOIN and your query becomes:\r\n\r\n    DELETE OS_ROOMS, OS_ROOM_MESSAGES FROM OS_ROOMS LEFT JOIN OS_ROOM_MESSAGES ON OS_ROOMS.ROS_ID = OS_ROOM_MESSAGES.ROM_ROS_ID WHERE OS_ROOMS.ROS_ID = ?","title":"Delete join two tables even if the foreign key doesn&#39;t exist","body":"<p>Please <a href=\"https://dev.mysql.com/doc/refman/8.0/en/join.html\" rel=\"nofollow noreferrer\">check here</a> the different methods of joining two tables in MySQL.\nYour sql statement performs an intersection while you just need to map messages to rooms. So instead of INNER JOIN you need to use LEFT JOIN and your query becomes:</p>\n<pre><code>DELETE OS_ROOMS, OS_ROOM_MESSAGES FROM OS_ROOMS LEFT JOIN OS_ROOM_MESSAGES ON OS_ROOMS.ROS_ID = OS_ROOM_MESSAGES.ROM_ROS_ID WHERE OS_ROOMS.ROS_ID = ?\n</code></pre>\n"}],"owner":{"account_id":26581595,"reputation":11,"user_id":20206157,"display_name":"Adryan Reis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74988167,"answer_count":1,"score":-1,"last_activity_date":1672734220,"creation_date":1672704847,"question_id":74988094,"body_markdown":"The method below delete the room and messages in another table that have the same foreign key, but if the room doesn&#39;t have messages is not deleted. I&#39;m using mysql8 and java 11.\r\n\r\n```\r\npublic void deleteRoom() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\ttry {\r\n\t\t\tPreparedStatement preparedStatement = this.databaseMySQL.getConnection().\r\n\t\t\t\t\tprepareStatement(&quot;DELETE OS_ROOMS, OS_ROOM_MESSAGES FROM OS_ROOMS INNER JOIN OS_ROOM_MESSAGES WHERE OS_ROOMS.ROS_ID = OS_ROOM_MESSAGES.ROM_ROS_ID AND OS_ROOMS.ROS_ID = ?&quot;);\r\n\t\t\tpreparedStatement.setInt(1, RoomChatSession.id);\r\n\t\t\tpreparedStatement.executeUpdate();\r\n\t\t} catch (SQLException e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\n\r\nI searched for delete case,and this for example \\`\r\n\r\n```\r\n&quot;DELETE OS_ROOMS, OS_ROOM_MESSAGES FROM OS_ROOMS INNER JOIN OS_ROOM_MESSAGES WHERE (OS_ROOMS.ROS_ID = OS_ROOM_MESSAGES.ROM_ROS_ID AND OS_ROOMS.ROS_ID = ?) OR (OS_ROOMS_ID = ?)&quot;\r\n```\r\n\r\n\\` I want to delete the room even it doesn&#39;t have messages, it is possibile using only on sql command?","title":"Delete join two tables even if the foreign key doesn&#39;t exist","body":"<p>The method below delete the room and messages in another table that have the same foreign key, but if the room doesn't have messages is not deleted. I'm using mysql8 and java 11.</p>\n<pre><code>public void deleteRoom() {\n        // TODO Auto-generated method stub\n        try {\n            PreparedStatement preparedStatement = this.databaseMySQL.getConnection().\n                    prepareStatement(&quot;DELETE OS_ROOMS, OS_ROOM_MESSAGES FROM OS_ROOMS INNER JOIN OS_ROOM_MESSAGES WHERE OS_ROOMS.ROS_ID = OS_ROOM_MESSAGES.ROM_ROS_ID AND OS_ROOMS.ROS_ID = ?&quot;);\n            preparedStatement.setInt(1, RoomChatSession.id);\n            preparedStatement.executeUpdate();\n        } catch (SQLException e) {\n            // TODO: handle exception\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I searched for delete case,and this for example `</p>\n<pre><code>&quot;DELETE OS_ROOMS, OS_ROOM_MESSAGES FROM OS_ROOMS INNER JOIN OS_ROOM_MESSAGES WHERE (OS_ROOMS.ROS_ID = OS_ROOM_MESSAGES.ROM_ROS_ID AND OS_ROOMS.ROS_ID = ?) OR (OS_ROOMS_ID = ?)&quot;\n</code></pre>\n<p>` I want to delete the room even it doesn't have messages, it is possibile using only on sql command?</p>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":430687,"reputation":466,"user_id":814265,"accept_rate":14,"display_name":"Vinay Bedre"},"score":0,"creation_date":1321964773,"post_id":8225946,"comment_id":10116518,"body_markdown":"i want the jtable width to be fixed. So when the text entered is more than width then it should appear in next line of the cell.","body":"i want the jtable width to be fixed. So when the text entered is more than width then it should appear in next line of the cell."}],"answers":[{"comments":[{"owner":{"account_id":228743,"reputation":10672,"user_id":491245,"accept_rate":93,"display_name":"PhoneixS"},"score":0,"creation_date":1367942392,"post_id":8226318,"comment_id":23550661,"body_markdown":"Your link isn&#39;t valid now. Please upgrade it or remove it from your question (that in my opinion, is a little sort).","body":"Your link isn&#39;t valid now. Please upgrade it or remove it from your question (that in my opinion, is a little sort)."}],"tags":[],"owner":{"account_id":954124,"reputation":1023,"user_id":979722,"accept_rate":62,"display_name":"Sergey Gazaryan"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1390693930,"creation_date":1321962724,"answer_id":8226318,"question_id":8225946,"body_markdown":"Height of a row in a JTable component is based on an assigned value rather than on the preferred height of the renderers used in that row : \r\n\r\n[www.exampledepot.com/egs/javax.swing.table/RowHeight.html][1] \r\n\r\n\r\n  [1]: https://web.archive.org/web/20121022002843/http://exampledepot.com/egs/javax.swing.table/RowHeight.html","title":"How to increase the height of a row in jtable depending on the text content entered in its cell","body":"<p>Height of a row in a JTable component is based on an assigned value rather than on the preferred height of the renderers used in that row : </p>\n\n<p><a href=\"https://web.archive.org/web/20121022002843/http://exampledepot.com/egs/javax.swing.table/RowHeight.html\" rel=\"nofollow\">www.exampledepot.com/egs/javax.swing.table/RowHeight.html</a> </p>\n"},{"tags":[],"owner":{"display_name":"user330315"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1672734078,"creation_date":1321962771,"answer_id":8226327,"question_id":8225946,"body_markdown":"You will need to calculate the needed height for the newly entered text. Depending on the renderer you are using for the cell, you can use e.g. `JTextArea.getLineCount()` to find out how many lines the text contains.\r\n\r\nThen you need to retrieve the height of the font used by the renderer and calculate the needed height out of that. \r\n\r\nOnce you have that number, use `JTable.setRowHeight(int, int)` to change the height for the specific row. \r\n\r\nSomething like this:\r\n\r\n    Component c = renderer.getTableCellRendererComponent(theTable, theTable.getValueAt(row, col), false, false, row, col);\r\n    Font f = c.getFont();\r\n    FontMetrics fm = c.getFontMetrics(f);\r\n    \r\n    // this cast depends on the way your renderer is implemented !!!!\r\n    int lineCount = ((JTextArea)c).getLineCount();\r\n    \r\n    int fheight = fm.getHeight();\r\n    int rowHeight = lineCount * fheight;\r\n    \r\n    \r\n    theTable.setRowHeight(row, rowHeight); //NOTE: rows and columns are zero-indexed\r\n\r\n    \r\n    \r\n","title":"How to increase the height of a row in jtable depending on the text content entered in its cell","body":"<p>You will need to calculate the needed height for the newly entered text. Depending on the renderer you are using for the cell, you can use e.g. <code>JTextArea.getLineCount()</code> to find out how many lines the text contains.</p>\n<p>Then you need to retrieve the height of the font used by the renderer and calculate the needed height out of that.</p>\n<p>Once you have that number, use <code>JTable.setRowHeight(int, int)</code> to change the height for the specific row.</p>\n<p>Something like this:</p>\n<pre><code>Component c = renderer.getTableCellRendererComponent(theTable, theTable.getValueAt(row, col), false, false, row, col);\nFont f = c.getFont();\nFontMetrics fm = c.getFontMetrics(f);\n\n// this cast depends on the way your renderer is implemented !!!!\nint lineCount = ((JTextArea)c).getLineCount();\n\nint fheight = fm.getHeight();\nint rowHeight = lineCount * fheight;\n\n\ntheTable.setRowHeight(row, rowHeight); //NOTE: rows and columns are zero-indexed\n</code></pre>\n"}],"owner":{"account_id":430687,"reputation":466,"user_id":814265,"accept_rate":14,"display_name":"Vinay Bedre"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4556,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1672734078,"creation_date":1321960838,"question_id":8225946,"body_markdown":"I have a jtable which is editable. As and when the cells are written with the text by user,if the entered text is more to fit the size of cell then the height of the row in table must increase to fit the new text entered by user. Could you tell me how to increase the height of the row depending on the lines of text entered.\r\n\r\nCan anyone help me in this?\r\nI have tried to add JTextArea into a row, but this is not working.\r\n\r\n","title":"How to increase the height of a row in jtable depending on the text content entered in its cell","body":"<p>I have a jtable which is editable. As and when the cells are written with the text by user,if the entered text is more to fit the size of cell then the height of the row in table must increase to fit the new text entered by user. Could you tell me how to increase the height of the row depending on the lines of text entered.</p>\n\n<p>Can anyone help me in this?\nI have tried to add JTextArea into a row, but this is not working.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":2,"creation_date":1672670111,"post_id":74983597,"comment_id":132323737,"body_markdown":"How are the contents of the file formatted?","body":"How are the contents of the file formatted?"},{"owner":{"account_id":27133332,"reputation":1,"user_id":20675222,"display_name":"Jakaria alam saimon"},"score":0,"creation_date":1672670779,"post_id":74983597,"comment_id":132323930,"body_markdown":"just normal add...like word apple,x(here x is synonym need)","body":"just normal add...like word apple,x(here x is synonym need)"},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1672703317,"post_id":74983597,"comment_id":132331553,"body_markdown":"How is your file looking alike?","body":"How is your file looking alike?"},{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":0,"creation_date":1672731652,"post_id":74983597,"comment_id":132335425,"body_markdown":"@Jakariaalamsaimon, so what you want is to split the String into an array by comma?","body":"@Jakariaalamsaimon, so what you want is to split the String into an array by comma?"}],"owner":{"account_id":27133332,"reputation":1,"user_id":20675222,"display_name":"Jakaria alam saimon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672733915,"creation_date":1672669741,"question_id":74983597,"body_markdown":"How to extract the synonym words the file of elements in Array?\r\n\r\nI was able to read from the file, but the elements given in the array are matched in the file, but I want the elements given in the array to show the synonym words of the elements from the file, that is, the synonym word of the element will be shown.\r\n\r\n\r\n```java\r\npackage file;\r\n\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;String&gt; words = new ArrayList&lt;&gt;();\r\n\r\n        // Read the words from the file and add them to the ArrayList\r\n        try (Scanner fileScanner = new Scanner(new File(&quot;C:\\\\File\\\\src\\\\file\\\\words.txt&quot;))) {\r\n            while (fileScanner.hasNext()) {\r\n                words.add(fileScanner.next());\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;File not found&quot;);\r\n        }\r\n\r\n        String wordToFind = &quot;apple&quot;;\r\n        String another = &quot;mango&quot;;\r\n        int index = words.indexOf(wordToFind);\r\n\r\n        if (index != -1) {\r\n            // Get the content of the element at the index\r\n            String content = words.get(index);\r\n            // Print the synonyms of the element\r\n            String[] synonyms = getSynonyms(content);\r\n\r\n            for (String synonym : synonyms) {\r\n                System.out.println(synonym);\r\n            }\r\n\r\n        } else {\r\n            System.out.println(&quot;The word &quot; + wordToFind + &quot; was not found in the ArrayList&quot;);\r\n        }\r\n    }\r\n\r\n    public static String[] getSynonyms(String word) {\r\n        // TODO: Implement this method to return the synonyms of the given word\r\n        return new String[0];\r\n    }\r\n}\r\n```","title":"Find synonyms words","body":"<p>How to extract the synonym words the file of elements in Array?</p>\n<p>I was able to read from the file, but the elements given in the array are matched in the file, but I want the elements given in the array to show the synonym words of the elements from the file, that is, the synonym word of the element will be shown.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package file;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        ArrayList&lt;String&gt; words = new ArrayList&lt;&gt;();\n\n        // Read the words from the file and add them to the ArrayList\n        try (Scanner fileScanner = new Scanner(new File(&quot;C:\\\\File\\\\src\\\\file\\\\words.txt&quot;))) {\n            while (fileScanner.hasNext()) {\n                words.add(fileScanner.next());\n            }\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;File not found&quot;);\n        }\n\n        String wordToFind = &quot;apple&quot;;\n        String another = &quot;mango&quot;;\n        int index = words.indexOf(wordToFind);\n\n        if (index != -1) {\n            // Get the content of the element at the index\n            String content = words.get(index);\n            // Print the synonyms of the element\n            String[] synonyms = getSynonyms(content);\n\n            for (String synonym : synonyms) {\n                System.out.println(synonym);\n            }\n\n        } else {\n            System.out.println(&quot;The word &quot; + wordToFind + &quot; was not found in the ArrayList&quot;);\n        }\n    }\n\n    public static String[] getSynonyms(String word) {\n        // TODO: Implement this method to return the synonyms of the given word\n        return new String[0];\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4201971,"reputation":1261,"user_id":3441898,"accept_rate":100,"display_name":"kevcodez"},"score":6,"creation_date":1436437835,"post_id":31314824,"comment_id":50617379,"body_markdown":"You can use the forward slash in windows aswell. Use `C:/imgs`. Or escape the backward slash by adding another backward slash. &quot;\\&quot; is the escaping character for strings in Java. So `C:\\\\imgs` should do it, too.","body":"You can use the forward slash in windows aswell. Use <code>C:&#47;imgs</code>. Or escape the backward slash by adding another backward slash. &quot;\\&quot; is the escaping character for strings in Java. So <code>C:\\\\imgs</code> should do it, too."},{"owner":{"account_id":6068657,"reputation":6044,"user_id":4738175,"accept_rate":56,"display_name":"OBX"},"score":0,"creation_date":1436437871,"post_id":31314824,"comment_id":50617405,"body_markdown":"will it yield the same result as C:\\imgs ?","body":"will it yield the same result as C:\\imgs ?"},{"owner":{"account_id":2648879,"reputation":4294,"user_id":2291056,"display_name":"Kuchi"},"score":2,"creation_date":1436438049,"post_id":31314824,"comment_id":50617523,"body_markdown":"Naming Conventions: you should name a constant like BASE_PATH","body":"Naming Conventions: you should name a constant like BASE_PATH"},{"owner":{"account_id":6014409,"reputation":15634,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"score":0,"creation_date":1472827141,"post_id":31314824,"comment_id":65923792,"body_markdown":"The full explanation is [here](http://stackoverflow.com/a/39286358/4723795)","body":"The full explanation is <a href=\"http://stackoverflow.com/a/39286358/4723795\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":87739,"reputation":23623,"user_id":243164,"accept_rate":42,"display_name":"Armand"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1436437901,"creation_date":1436437901,"answer_id":31314865,"question_id":31314824,"body_markdown":"You need to escape the backslash in your windows path, like so:\r\n\r\n    private static final String BasePath = &quot;C:\\\\imgs&quot;;\r\n\r\nYou can also just use a forwardslash:\r\n\r\n    private static final String BasePath = &quot;C:/imgs&quot;;","title":"Saving path in String","body":"<p>You need to escape the backslash in your windows path, like so:</p>\n\n<pre><code>private static final String BasePath = \"C:\\\\imgs\";\n</code></pre>\n\n<p>You can also just use a forwardslash:</p>\n\n<pre><code>private static final String BasePath = \"C:/imgs\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672733538,"creation_date":1436437925,"answer_id":31314874,"question_id":31314824,"body_markdown":"You need to change \r\n\r\n    private static final String BasePath =&quot;C:\\imgs&quot;\r\n\r\nto\r\n\r\n    private static final String BasePath =&quot;C:\\\\imgs&quot;\r\n\r\nThe single \\ is an escape character and is causing an issue &quot;Invalid escape character&quot;, this is because \\i is expected to be an escape literal. (Which, luckily, it is not.) \\\\\\ Is the valid escape literal for a single \\\\, and thus it solves the problem.\r\n\r\n\r\nContinuing with the problem scenario, If you had, for example \r\n\r\n     String path = &quot;c:\\noproblem&quot;;\r\n\r\nThen there is no issue compiling since \\n is a valid escape character. (But it will cause other issues nonetheless.) \r\n\r\nBut what is even better, use the `File.separator` \r\n\r\nFrom the [Java Documentation][1] \r\n\r\n&gt; The default name-separator character is defined by the system property\r\n&gt; file.separator, and is made available in the public static fields\r\n&gt; separator and separatorChar of this class. When a pathname string is\r\n&gt; converted into an abstract pathname, the names within it may be\r\n&gt; separated by the default name-separator character or by any other\r\n&gt; name-separator character that is supported by the underlying system.\r\n\r\nThus - it will change the use the seperator requiered by the Operating System.\r\n\r\n\r\n\r\n\r\nHave a look at [How to construct a file path in java][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/File.html\r\n  [2]: http://www.mkyong.com/java/how-to-construct-a-file-path-in-java/","title":"Saving path in String","body":"<p>You need to change</p>\n<pre><code>private static final String BasePath =&quot;C:\\imgs&quot;\n</code></pre>\n<p>to</p>\n<pre><code>private static final String BasePath =&quot;C:\\\\imgs&quot;\n</code></pre>\n<p>The single \\ is an escape character and is causing an issue &quot;Invalid escape character&quot;, this is because \\i is expected to be an escape literal. (Which, luckily, it is not.) \\\\ Is the valid escape literal for a single \\, and thus it solves the problem.</p>\n<p>Continuing with the problem scenario, If you had, for example</p>\n<pre><code> String path = &quot;c:\\noproblem&quot;;\n</code></pre>\n<p>Then there is no issue compiling since \\n is a valid escape character. (But it will cause other issues nonetheless.)</p>\n<p>But what is even better, use the <code>File.separator</code></p>\n<p>From the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html\" rel=\"nofollow noreferrer\">Java Documentation</a></p>\n<blockquote>\n<p>The default name-separator character is defined by the system property\nfile.separator, and is made available in the public static fields\nseparator and separatorChar of this class. When a pathname string is\nconverted into an abstract pathname, the names within it may be\nseparated by the default name-separator character or by any other\nname-separator character that is supported by the underlying system.</p>\n</blockquote>\n<p>Thus - it will change the use the seperator requiered by the Operating System.</p>\n<p>Have a look at <a href=\"http://www.mkyong.com/java/how-to-construct-a-file-path-in-java/\" rel=\"nofollow noreferrer\">How to construct a file path in java</a></p>\n"},{"tags":[],"owner":{"account_id":1344625,"reputation":3248,"user_id":1285615,"accept_rate":55,"display_name":"sakthisundar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436438322,"creation_date":1436438322,"answer_id":31315002,"question_id":31314824,"body_markdown":"Your thing should work when you use\r\n\r\n    private static final String BasePath = &quot;C:\\\\imgs&quot;;\r\n\r\nNote:\r\n\r\nAlthough you can still use forward slash for this to work, I would suggest you to use for File.separator in order to make it clear. ","title":"Saving path in String","body":"<p>Your thing should work when you use</p>\n\n<pre><code>private static final String BasePath = \"C:\\\\imgs\";\n</code></pre>\n\n<p>Note:</p>\n\n<p>Although you can still use forward slash for this to work, I would suggest you to use for File.separator in order to make it clear. </p>\n"},{"tags":[],"owner":{"account_id":1986016,"reputation":3436,"user_id":1781222,"accept_rate":71,"display_name":"TheCodingFrog"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1436438380,"creation_date":1436438380,"answer_id":31315031,"question_id":31314824,"body_markdown":"You can use `File.separator` and then you don&#39;t have to worry about platform specific path separators. e.g. below\r\n\r\n    private static final String BASE_PATH = &quot;C:&quot; + File.separator + &quot;imgs&quot;;\r\n\r\nMore detail can be found [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5971964/file-separator-or-file-pathseparator","title":"Saving path in String","body":"<p>You can use <code>File.separator</code> and then you don't have to worry about platform specific path separators. e.g. below</p>\n\n<pre><code>private static final String BASE_PATH = \"C:\" + File.separator + \"imgs\";\n</code></pre>\n\n<p>More detail can be found <a href=\"https://stackoverflow.com/questions/5971964/file-separator-or-file-pathseparator\">here</a></p>\n"}],"owner":{"account_id":6068657,"reputation":6044,"user_id":4738175,"accept_rate":56,"display_name":"OBX"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1667,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":31314865,"answer_count":4,"score":0,"last_activity_date":1672733538,"creation_date":1436437786,"question_id":31314824,"body_markdown":"    private static final String BasePath = &quot;/home/rafael/pesquisa/ImageSimilarity&quot;;\r\n\r\nI am working on an Image comparison program and I have found this line of code from somewhere. However in the above case, the path is set for a linux system and as a Windows user, I want to set my path for windows device. So I changed the path to\r\n\r\n    private static final String BasePath =&quot;C:\\imgs&quot;\r\n\r\nHowever it seems an error and I guess it is with the forward slash and the backward slash. How do I set path string in my case? Any help will be appreciated.","title":"Saving path in String","body":"<pre><code>private static final String BasePath = \"/home/rafael/pesquisa/ImageSimilarity\";\n</code></pre>\n\n<p>I am working on an Image comparison program and I have found this line of code from somewhere. However in the above case, the path is set for a linux system and as a Windows user, I want to set my path for windows device. So I changed the path to</p>\n\n<pre><code>private static final String BasePath =\"C:\\imgs\"\n</code></pre>\n\n<p>However it seems an error and I guess it is with the forward slash and the backward slash. How do I set path string in my case? Any help will be appreciated.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9462,"page":761,"page_size":100}
